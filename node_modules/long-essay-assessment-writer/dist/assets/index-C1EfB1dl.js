var use=Object.defineProperty;var dse=(r,i,d)=>i in r?use(r,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[i]=d;var es=(r,i,d)=>dse(r,typeof i!="symbol"?i+"":i,d);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))m(x);new MutationObserver(x=>{for(const b of x)if(b.type==="childList")for(const y of b.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&m(y)}).observe(document,{childList:!0,subtree:!0});function d(x){const b={};return x.integrity&&(b.integrity=x.integrity),x.referrerPolicy&&(b.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?b.credentials="include":x.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function m(x){if(x.ep)return;x.ep=!0;const b=d(x);fetch(x.href,b)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function QH(r,i){const d=new Set(r.split(","));return m=>d.has(m)}const fi={},$S=[],tg=()=>{},fse=()=>!1,jB=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),e$=r=>r.startsWith("onUpdate:"),Dl=Object.assign,t$=(r,i)=>{const d=r.indexOf(i);d>-1&&r.splice(d,1)},mse=Object.prototype.hasOwnProperty,_s=(r,i)=>mse.call(r,i),Xo=Array.isArray,VS=r=>KB(r)==="[object Map]",Xj=r=>KB(r)==="[object Set]",ur=r=>typeof r=="function",Ki=r=>typeof r=="string",Qv=r=>typeof r=="symbol",Na=r=>r!==null&&typeof r=="object",Jj=r=>(Na(r)||ur(r))&&ur(r.then)&&ur(r.catch),Qj=Object.prototype.toString,KB=r=>Qj.call(r),gse=r=>KB(r).slice(8,-1),eK=r=>KB(r)==="[object Object]",n$=r=>Ki(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,BT=QH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qB=r=>{const i=Object.create(null);return d=>i[d]||(i[d]=r(d))},hse=/-(\w)/g,Ff=qB(r=>r.replace(hse,(i,d)=>d?d.toUpperCase():"")),pse=/\B([A-Z])/g,vw=qB(r=>r.replace(pse,"-$1").toLowerCase()),JS=qB(r=>r.charAt(0).toUpperCase()+r.slice(1)),I9=qB(r=>r?`on${JS(r)}`:""),Yv=(r,i)=>!Object.is(r,i),B9=(r,...i)=>{for(let d=0;d<r.length;d++)r[d](...i)},tK=(r,i,d,m=!1)=>{Object.defineProperty(r,i,{configurable:!0,enumerable:!1,writable:m,value:d})},bse=r=>{const i=parseFloat(r);return isNaN(i)?r:i},vse=r=>{const i=Ki(r)?Number(r):NaN;return isNaN(i)?r:i};let qW;const nK=()=>qW||(qW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wv(r){if(Xo(r)){const i={};for(let d=0;d<r.length;d++){const m=r[d],x=Ki(m)?_se(m):Wv(m);if(x)for(const b in x)i[b]=x[b]}return i}else if(Ki(r)||Na(r))return r}const xse=/;(?![^(]*\))/g,yse=/:([^]+)/,wse=/\/\*[^]*?\*\//g;function _se(r){const i={};return r.replace(wse,"").split(xse).forEach(d=>{if(d){const m=d.split(yse);m.length>1&&(i[m[0].trim()]=m[1].trim())}}),i}function hw(r){let i="";if(Ki(r))i=r;else if(Xo(r))for(let d=0;d<r.length;d++){const m=hw(r[d]);m&&(i+=m+" ")}else if(Na(r))for(const d in r)r[d]&&(i+=d+" ");return i.trim()}const Cse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sse=QH(Cse);function oK(r){return!!r||r===""}const rK=r=>!!(r&&r.__v_isRef===!0),ng=r=>Ki(r)?r:r==null?"":Xo(r)||Na(r)&&(r.toString===Qj||!ur(r.toString))?rK(r)?ng(r.value):JSON.stringify(r,sK,2):String(r),sK=(r,i)=>rK(i)?sK(r,i.value):VS(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((d,[m,x],b)=>(d[M9(m,b)+" =>"]=x,d),{})}:Xj(i)?{[`Set(${i.size})`]:[...i.values()].map(d=>M9(d))}:Qv(i)?M9(i):Na(i)&&!Xo(i)&&!eK(i)?String(i):i,M9=(r,i="")=>{var d;return Qv(r)?`Symbol(${(d=r.description)!=null?d:i})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nf;class aK{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Nf,!i&&Nf&&(this.index=(Nf.scopes||(Nf.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const d=Nf;try{return Nf=this,i()}finally{Nf=d}}}on(){Nf=this}off(){Nf=this.parent}stop(i){if(this._active){let d,m;for(d=0,m=this.effects.length;d<m;d++)this.effects[d].stop();for(d=0,m=this.cleanups.length;d<m;d++)this.cleanups[d]();if(this.scopes)for(d=0,m=this.scopes.length;d<m;d++)this.scopes[d].stop(!0);if(!this.detached&&this.parent&&!i){const x=this.parent.scopes.pop();x&&x!==this&&(this.parent.scopes[this.index]=x,x.index=this.index)}this.parent=void 0,this._active=!1}}}function JT(r){return new aK(r)}function kse(r,i=Nf){i&&i.active&&i.effects.push(r)}function iK(){return Nf}function zf(r){Nf&&Nf.cleanups.push(r)}let lw;class o${constructor(i,d,m,x){this.fn=i,this.trigger=d,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,kse(this,x)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ex();for(let i=0;i<this._depsLength;i++){const d=this.deps[i];if(d.computed&&(Ese(d.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),tx()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=Zv,d=lw;try{return Zv=!0,lw=this,this._runnings++,GW(this),this.fn()}finally{YW(this),this._runnings--,lw=d,Zv=i}}stop(){this.active&&(GW(this),YW(this),this.onStop&&this.onStop(),this.active=!1)}}function Ese(r){return r.value}function GW(r){r._trackId++,r._depsLength=0}function YW(r){if(r.deps.length>r._depsLength){for(let i=r._depsLength;i<r.deps.length;i++)lK(r.deps[i],r);r.deps.length=r._depsLength}}function lK(r,i){const d=r.get(i);d!==void 0&&i._trackId!==d&&(r.delete(i),r.size===0&&r.cleanup())}let Zv=!0,mH=0;const cK=[];function ex(){cK.push(Zv),Zv=!1}function tx(){const r=cK.pop();Zv=r===void 0?!0:r}function r$(){mH++}function s$(){for(mH--;!mH&&gH.length;)gH.shift()()}function uK(r,i,d){if(i.get(r)!==r._trackId){i.set(r,r._trackId);const m=r.deps[r._depsLength];m!==i?(m&&lK(m,r),r.deps[r._depsLength++]=i):r._depsLength++}}const gH=[];function dK(r,i,d){r$();for(const m of r.keys()){let x;m._dirtyLevel<i&&(x??(x=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=i),m._shouldSchedule&&(x??(x=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&gH.push(m.scheduler)))}s$()}const fK=(r,i)=>{const d=new Map;return d.cleanup=r,d.computed=i,d},OB=new WeakMap,cw=Symbol(""),hH=Symbol("");function Nd(r,i,d){if(Zv&&lw){let m=OB.get(r);m||OB.set(r,m=new Map);let x=m.get(d);x||m.set(d,x=fK(()=>m.delete(d))),uK(lw,x)}}function M0(r,i,d,m,x,b){const y=OB.get(r);if(!y)return;let S=[];if(i==="clear")S=[...y.values()];else if(d==="length"&&Xo(r)){const L=Number(m);y.forEach((P,D)=>{(D==="length"||!Qv(D)&&D>=L)&&S.push(P)})}else switch(d!==void 0&&S.push(y.get(d)),i){case"add":Xo(r)?n$(d)&&S.push(y.get("length")):(S.push(y.get(cw)),VS(r)&&S.push(y.get(hH)));break;case"delete":Xo(r)||(S.push(y.get(cw)),VS(r)&&S.push(y.get(hH)));break;case"set":VS(r)&&S.push(y.get(cw));break}r$();for(const L of S)L&&dK(L,4);s$()}function Ase(r,i){const d=OB.get(r);return d&&d.get(i)}const Tse=QH("__proto__,__v_isRef,__isVue"),mK=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Qv)),XW=Ose();function Ose(){const r={};return["includes","indexOf","lastIndexOf"].forEach(i=>{r[i]=function(...d){const m=ko(this);for(let b=0,y=this.length;b<y;b++)Nd(m,"get",b+"");const x=m[i](...d);return x===-1||x===!1?m[i](...d.map(ko)):x}}),["push","pop","shift","unshift","splice"].forEach(i=>{r[i]=function(...d){ex(),r$();const m=ko(this)[i].apply(this,d);return s$(),tx(),m}}),r}function Dse(r){Qv(r)||(r=String(r));const i=ko(this);return Nd(i,"has",r),i.hasOwnProperty(r)}class gK{constructor(i=!1,d=!1){this._isReadonly=i,this._isShallow=d}get(i,d,m){const x=this._isReadonly,b=this._isShallow;if(d==="__v_isReactive")return!x;if(d==="__v_isReadonly")return x;if(d==="__v_isShallow")return b;if(d==="__v_raw")return m===(x?b?Use:vK:b?bK:pK).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(m)?i:void 0;const y=Xo(i);if(!x){if(y&&_s(XW,d))return Reflect.get(XW,d,m);if(d==="hasOwnProperty")return Dse}const S=Reflect.get(i,d,m);return(Qv(d)?mK.has(d):Tse(d))||(x||Nd(i,"get",d),b)?S:Ia(S)?y&&n$(d)?S:S.value:Na(S)?x?QT(S):tu(S):S}}class hK extends gK{constructor(i=!1){super(!1,i)}set(i,d,m,x){let b=i[d];if(!this._isShallow){const L=pw(b);if(!ZS(m)&&!pw(m)&&(b=ko(b),m=ko(m)),!Xo(i)&&Ia(b)&&!Ia(m))return L?!1:(b.value=m,!0)}const y=Xo(i)&&n$(d)?Number(d)<i.length:_s(i,d),S=Reflect.set(i,d,m,x);return i===ko(x)&&(y?Yv(m,b)&&M0(i,"set",d,m):M0(i,"add",d,m)),S}deleteProperty(i,d){const m=_s(i,d);i[d];const x=Reflect.deleteProperty(i,d);return x&&m&&M0(i,"delete",d,void 0),x}has(i,d){const m=Reflect.has(i,d);return(!Qv(d)||!mK.has(d))&&Nd(i,"has",d),m}ownKeys(i){return Nd(i,"iterate",Xo(i)?"length":cw),Reflect.ownKeys(i)}}class Rse extends gK{constructor(i=!1){super(!0,i)}set(i,d){return!0}deleteProperty(i,d){return!0}}const Nse=new hK,Ise=new Rse,Bse=new hK(!0);const a$=r=>r,GB=r=>Reflect.getPrototypeOf(r);function nB(r,i,d=!1,m=!1){r=r.__v_raw;const x=ko(r),b=ko(i);d||(Yv(i,b)&&Nd(x,"get",i),Nd(x,"get",b));const{has:y}=GB(x),S=m?a$:d?u$:HT;if(y.call(x,i))return S(r.get(i));if(y.call(x,b))return S(r.get(b));r!==x&&r.get(i)}function oB(r,i=!1){const d=this.__v_raw,m=ko(d),x=ko(r);return i||(Yv(r,x)&&Nd(m,"has",r),Nd(m,"has",x)),r===x?d.has(r):d.has(r)||d.has(x)}function rB(r,i=!1){return r=r.__v_raw,!i&&Nd(ko(r),"iterate",cw),Reflect.get(r,"size",r)}function JW(r,i=!1){!i&&!ZS(r)&&!pw(r)&&(r=ko(r));const d=ko(this);return GB(d).has.call(d,r)||(d.add(r),M0(d,"add",r,r)),this}function QW(r,i,d=!1){!d&&!ZS(i)&&!pw(i)&&(i=ko(i));const m=ko(this),{has:x,get:b}=GB(m);let y=x.call(m,r);y||(r=ko(r),y=x.call(m,r));const S=b.call(m,r);return m.set(r,i),y?Yv(i,S)&&M0(m,"set",r,i):M0(m,"add",r,i),this}function eZ(r){const i=ko(this),{has:d,get:m}=GB(i);let x=d.call(i,r);x||(r=ko(r),x=d.call(i,r)),m&&m.call(i,r);const b=i.delete(r);return x&&M0(i,"delete",r,void 0),b}function tZ(){const r=ko(this),i=r.size!==0,d=r.clear();return i&&M0(r,"clear",void 0,void 0),d}function sB(r,i){return function(m,x){const b=this,y=b.__v_raw,S=ko(y),L=i?a$:r?u$:HT;return!r&&Nd(S,"iterate",cw),y.forEach((P,D)=>m.call(x,L(P),L(D),b))}}function aB(r,i,d){return function(...m){const x=this.__v_raw,b=ko(x),y=VS(b),S=r==="entries"||r===Symbol.iterator&&y,L=r==="keys"&&y,P=x[r](...m),D=d?a$:i?u$:HT;return!i&&Nd(b,"iterate",L?hH:cw),{next(){const{value:z,done:W}=P.next();return W?{value:z,done:W}:{value:S?[D(z[0]),D(z[1])]:D(z),done:W}},[Symbol.iterator](){return this}}}}function Bv(r){return function(...i){return r==="delete"?!1:r==="clear"?void 0:this}}function Mse(){const r={get(b){return nB(this,b)},get size(){return rB(this)},has:oB,add:JW,set:QW,delete:eZ,clear:tZ,forEach:sB(!1,!1)},i={get(b){return nB(this,b,!1,!0)},get size(){return rB(this)},has:oB,add(b){return JW.call(this,b,!0)},set(b,y){return QW.call(this,b,y,!0)},delete:eZ,clear:tZ,forEach:sB(!1,!0)},d={get(b){return nB(this,b,!0)},get size(){return rB(this,!0)},has(b){return oB.call(this,b,!0)},add:Bv("add"),set:Bv("set"),delete:Bv("delete"),clear:Bv("clear"),forEach:sB(!0,!1)},m={get(b){return nB(this,b,!0,!0)},get size(){return rB(this,!0)},has(b){return oB.call(this,b,!0)},add:Bv("add"),set:Bv("set"),delete:Bv("delete"),clear:Bv("clear"),forEach:sB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{r[b]=aB(b,!1,!1),d[b]=aB(b,!0,!1),i[b]=aB(b,!1,!0),m[b]=aB(b,!0,!0)}),[r,d,i,m]}const[Pse,Lse,Fse,zse]=Mse();function i$(r,i){const d=i?r?zse:Fse:r?Lse:Pse;return(m,x,b)=>x==="__v_isReactive"?!r:x==="__v_isReadonly"?r:x==="__v_raw"?m:Reflect.get(_s(d,x)&&x in m?d:m,x,b)}const Hse={get:i$(!1,!1)},$se={get:i$(!1,!0)},Vse={get:i$(!0,!1)};const pK=new WeakMap,bK=new WeakMap,vK=new WeakMap,Use=new WeakMap;function Wse(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zse(r){return r.__v_skip||!Object.isExtensible(r)?0:Wse(gse(r))}function tu(r){return pw(r)?r:l$(r,!1,Nse,Hse,pK)}function jse(r){return l$(r,!1,Bse,$se,bK)}function QT(r){return l$(r,!0,Ise,Vse,vK)}function l$(r,i,d,m,x){if(!Na(r)||r.__v_raw&&!(i&&r.__v_isReactive))return r;const b=x.get(r);if(b)return b;const y=Zse(r);if(y===0)return r;const S=new Proxy(r,y===2?m:d);return x.set(r,S),S}function uw(r){return pw(r)?uw(r.__v_raw):!!(r&&r.__v_isReactive)}function pw(r){return!!(r&&r.__v_isReadonly)}function ZS(r){return!!(r&&r.__v_isShallow)}function xK(r){return r?!!r.__v_raw:!1}function ko(r){const i=r&&r.__v_raw;return i?ko(i):r}function c$(r){return Object.isExtensible(r)&&tK(r,"__v_skip",!0),r}const HT=r=>Na(r)?tu(r):r,u$=r=>Na(r)?QT(r):r;class yK{constructor(i,d,m,x){this.getter=i,this._setter=d,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new o$(()=>i(this._value),()=>xB(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!x,this.__v_isReadonly=m}get value(){const i=ko(this);return(!i._cacheable||i.effect.dirty)&&Yv(i._value,i._value=i.effect.run())&&xB(i,4),wK(i),i.effect._dirtyLevel>=2&&xB(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Kse(r,i,d=!1){let m,x;const b=ur(r);return b?(m=r,x=tg):(m=r.get,x=r.set),new yK(m,x,b||!x,d)}function wK(r){var i;Zv&&lw&&(r=ko(r),uK(lw,(i=r.dep)!=null?i:r.dep=fK(()=>r.dep=void 0,r instanceof yK?r:void 0)))}function xB(r,i=4,d,m){r=ko(r);const x=r.dep;x&&dK(x,i)}function Ia(r){return!!(r&&r.__v_isRef===!0)}function tr(r){return _K(r,!1)}function Rr(r){return _K(r,!0)}function _K(r,i){return Ia(r)?r:new qse(r,i)}class qse{constructor(i,d){this.__v_isShallow=d,this.dep=void 0,this.__v_isRef=!0,this._rawValue=d?i:ko(i),this._value=d?i:HT(i)}get value(){return wK(this),this._value}set value(i){const d=this.__v_isShallow||ZS(i)||pw(i);i=d?i:ko(i),Yv(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=d?i:HT(i),xB(this,4))}}function et(r){return Ia(r)?r.value:r}const Gse={get:(r,i,d)=>et(Reflect.get(r,i,d)),set:(r,i,d,m)=>{const x=r[i];return Ia(x)&&!Ia(d)?(x.value=d,!0):Reflect.set(r,i,d,m)}};function CK(r){return uw(r)?r:new Proxy(r,Gse)}function eO(r){const i=Xo(r)?new Array(r.length):{};for(const d in r)i[d]=SK(r,d);return i}class Yse{constructor(i,d,m){this._object=i,this._key=d,this._defaultValue=m,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Ase(ko(this._object),this._key)}}class Xse{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ts(r,i,d){return Ia(r)?r:ur(r)?new Xse(r):Na(r)&&arguments.length>1?SK(r,i,d):tr(r)}function SK(r,i,d){const m=r[i];return Ia(m)?m:new Yse(r,i,d)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jv(r,i,d,m){try{return m?r(...m):r()}catch(x){YB(x,i,d)}}function rg(r,i,d,m){if(ur(r)){const x=jv(r,i,d,m);return x&&Jj(x)&&x.catch(b=>{YB(b,i,d)}),x}if(Xo(r)){const x=[];for(let b=0;b<r.length;b++)x.push(rg(r[b],i,d,m));return x}}function YB(r,i,d,m=!0){const x=i?i.vnode:null;if(i){let b=i.parent;const y=i.proxy,S=`https://vuejs.org/error-reference/#runtime-${d}`;for(;b;){const P=b.ec;if(P){for(let D=0;D<P.length;D++)if(P[D](r,y,S)===!1)return}b=b.parent}const L=i.appContext.config.errorHandler;if(L){ex(),jv(L,null,10,[r,y,S]),tx();return}}Jse(r,d,x,m)}function Jse(r,i,d,m=!0){console.error(r)}let $T=!1,pH=!1;const nu=[];let Ap=0;const US=[];let zv=null,sw=0;const kK=Promise.resolve();let d$=null;function yl(r){const i=d$||kK;return r?i.then(this?r.bind(this):r):i}function Qse(r){let i=Ap+1,d=nu.length;for(;i<d;){const m=i+d>>>1,x=nu[m],b=VT(x);b<r||b===r&&x.pre?i=m+1:d=m}return i}function f$(r){(!nu.length||!nu.includes(r,$T&&r.allowRecurse?Ap+1:Ap))&&(r.id==null?nu.push(r):nu.splice(Qse(r.id),0,r),EK())}function EK(){!$T&&!pH&&(pH=!0,d$=kK.then(TK))}function eae(r){const i=nu.indexOf(r);i>Ap&&nu.splice(i,1)}function tae(r){Xo(r)?US.push(...r):(!zv||!zv.includes(r,r.allowRecurse?sw+1:sw))&&US.push(r),EK()}function nZ(r,i,d=$T?Ap+1:0){for(;d<nu.length;d++){const m=nu[d];if(m&&m.pre){if(r&&m.id!==r.uid)continue;nu.splice(d,1),d--,m()}}}function AK(r){if(US.length){const i=[...new Set(US)].sort((d,m)=>VT(d)-VT(m));if(US.length=0,zv){zv.push(...i);return}for(zv=i,sw=0;sw<zv.length;sw++){const d=zv[sw];d.active!==!1&&d()}zv=null,sw=0}}const VT=r=>r.id==null?1/0:r.id,nae=(r,i)=>{const d=VT(r)-VT(i);if(d===0){if(r.pre&&!i.pre)return-1;if(i.pre&&!r.pre)return 1}return d};function TK(r){pH=!1,$T=!0,nu.sort(nae);try{for(Ap=0;Ap<nu.length;Ap++){const i=nu[Ap];i&&i.active!==!1&&jv(i,i.i,i.i?15:14)}}finally{Ap=0,nu.length=0,AK(),$T=!1,d$=null,(nu.length||US.length)&&TK()}}let Vu=null,XB=null;function DB(r){const i=Vu;return Vu=r,XB=r&&r.type.__scopeId||null,i}function xw(r){XB=r}function yw(){XB=null}function Dn(r,i=Vu,d){if(!i||r._n)return r;const m=(...x)=>{m._d&&gZ(-1);const b=DB(i);let y;try{y=r(...x)}finally{DB(b),m._d&&gZ(1)}return y};return m._n=!0,m._c=!0,m._d=!0,m}function _r(r,i){if(Vu===null)return r;const d=oM(Vu),m=r.dirs||(r.dirs=[]);for(let x=0;x<i.length;x++){let[b,y,S,L=fi]=i[x];b&&(ur(b)&&(b={mounted:b,updated:b}),b.deep&&Vv(y),m.push({dir:b,instance:d,value:y,oldValue:void 0,arg:S,modifiers:L}))}return r}function J2(r,i,d,m){const x=r.dirs,b=i&&i.dirs;for(let y=0;y<x.length;y++){const S=x[y];b&&(S.oldValue=b[y].value);let L=S.dir[m];L&&(ex(),rg(L,d,8,[r.el,S,r,i]),tx())}}const Hv=Symbol("_leaveCb"),iB=Symbol("_enterCb");function OK(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sg(()=>{r.isMounted=!0}),ju(()=>{r.isUnmounting=!0}),r}const Jm=[Function,Array],DK={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jm,onEnter:Jm,onAfterEnter:Jm,onEnterCancelled:Jm,onBeforeLeave:Jm,onLeave:Jm,onAfterLeave:Jm,onLeaveCancelled:Jm,onBeforeAppear:Jm,onAppear:Jm,onAfterAppear:Jm,onAppearCancelled:Jm},RK=r=>{const i=r.subTree;return i.component?RK(i.component):i},oae={name:"BaseTransition",props:DK,setup(r,{slots:i}){const d=_$(),m=OK();return()=>{const x=i.default&&m$(i.default(),!0);if(!x||!x.length)return;let b=x[0];if(x.length>1){for(const W of x)if(W.type!==If){b=W;break}}const y=ko(r),{mode:S}=y;if(m.isLeaving)return P9(b);const L=oZ(b);if(!L)return P9(b);let P=UT(L,y,m,d,W=>P=W);jS(L,P);const D=d.subTree,z=D&&oZ(D);if(z&&z.type!==If&&!aw(L,z)&&RK(d).type!==If){const W=UT(z,y,m,d);if(jS(z,W),S==="out-in"&&L.type!==If)return m.isLeaving=!0,W.afterLeave=()=>{m.isLeaving=!1,d.update.active!==!1&&(d.effect.dirty=!0,d.update())},P9(b);S==="in-out"&&L.type!==If&&(W.delayLeave=(U,G,ee)=>{const ye=NK(m,z);ye[String(z.key)]=z,U[Hv]=()=>{G(),U[Hv]=void 0,delete P.delayedLeave},P.delayedLeave=ee})}return b}}},rae=oae;function NK(r,i){const{leavingVNodes:d}=r;let m=d.get(i.type);return m||(m=Object.create(null),d.set(i.type,m)),m}function UT(r,i,d,m,x){const{appear:b,mode:y,persisted:S=!1,onBeforeEnter:L,onEnter:P,onAfterEnter:D,onEnterCancelled:z,onBeforeLeave:W,onLeave:U,onAfterLeave:G,onLeaveCancelled:ee,onBeforeAppear:ye,onAppear:ge,onAfterAppear:Le,onAppearCancelled:Be}=i,ie=String(r.key),Me=NK(d,r),oe=(Ye,mt)=>{Ye&&rg(Ye,m,9,mt)},Je=(Ye,mt)=>{const Ee=mt[1];oe(Ye,mt),Xo(Ye)?Ye.every(Ne=>Ne.length<=1)&&Ee():Ye.length<=1&&Ee()},Ve={mode:y,persisted:S,beforeEnter(Ye){let mt=L;if(!d.isMounted)if(b)mt=ye||L;else return;Ye[Hv]&&Ye[Hv](!0);const Ee=Me[ie];Ee&&aw(r,Ee)&&Ee.el[Hv]&&Ee.el[Hv](),oe(mt,[Ye])},enter(Ye){let mt=P,Ee=D,Ne=z;if(!d.isMounted)if(b)mt=ge||P,Ee=Le||D,Ne=Be||z;else return;let R=!1;const Nt=Ye[iB]=Jt=>{R||(R=!0,Jt?oe(Ne,[Ye]):oe(Ee,[Ye]),Ve.delayedLeave&&Ve.delayedLeave(),Ye[iB]=void 0)};mt?Je(mt,[Ye,Nt]):Nt()},leave(Ye,mt){const Ee=String(r.key);if(Ye[iB]&&Ye[iB](!0),d.isUnmounting)return mt();oe(W,[Ye]);let Ne=!1;const R=Ye[Hv]=Nt=>{Ne||(Ne=!0,mt(),Nt?oe(ee,[Ye]):oe(G,[Ye]),Ye[Hv]=void 0,Me[Ee]===r&&delete Me[Ee])};Me[Ee]=r,U?Je(U,[Ye,R]):R()},clone(Ye){const mt=UT(Ye,i,d,m,x);return x&&x(mt),mt}};return Ve}function P9(r){if(JB(r))return r=Xv(r),r.children=null,r}function oZ(r){if(!JB(r))return r;const{shapeFlag:i,children:d}=r;if(d){if(i&16)return d[0];if(i&32&&ur(d.default))return d.default()}}function jS(r,i){r.shapeFlag&6&&r.component?jS(r.component.subTree,i):r.shapeFlag&128?(r.ssContent.transition=i.clone(r.ssContent),r.ssFallback.transition=i.clone(r.ssFallback)):r.transition=i}function m$(r,i=!1,d){let m=[],x=0;for(let b=0;b<r.length;b++){let y=r[b];const S=d==null?y.key:String(d)+String(y.key!=null?y.key:b);y.type===ia?(y.patchFlag&128&&x++,m=m.concat(m$(y.children,i,S))):(i||y.type!==If)&&m.push(S!=null?Xv(y,{key:S}):y)}if(x>1)for(let b=0;b<m.length;b++)m[b].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function IK(r,i){return ur(r)?Dl({name:r.name},i,{setup:r}):r}const yB=r=>!!r.type.__asyncLoader,JB=r=>r.type.__isKeepAlive;function g$(r,i){BK(r,"a",i)}function h$(r,i){BK(r,"da",i)}function BK(r,i,d=Yl){const m=r.__wdc||(r.__wdc=()=>{let x=d;for(;x;){if(x.isDeactivated)return;x=x.parent}return r()});if(QB(i,m,d),d){let x=d.parent;for(;x&&x.parent;)JB(x.parent.vnode)&&sae(m,i,d,x),x=x.parent}}function sae(r,i,d,m){const x=QB(i,r,m,!0);PK(()=>{t$(m[i],x)},d)}function QB(r,i,d=Yl,m=!1){if(d){const x=d[r]||(d[r]=[]),b=i.__weh||(i.__weh=(...y)=>{ex();const S=nO(d),L=rg(i,d,r,y);return S(),tx(),L});return m?x.unshift(b):x.push(b),b}}const H0=r=>(i,d=Yl)=>{(!nM||r==="sp")&&QB(r,(...m)=>i(...m),d)},MK=H0("bm"),sg=H0("m"),aae=H0("bu"),p$=H0("u"),ju=H0("bum"),PK=H0("um"),iae=H0("sp"),lae=H0("rtg"),cae=H0("rtc");function uae(r,i=Yl){QB("ec",r,i)}const LK="components",dae="directives",fae=Symbol.for("v-ndc");function mae(r){return Ki(r)&&FK(LK,r,!1)||r}function eM(r){return FK(dae,r)}function FK(r,i,d=!0,m=!1){const x=Vu||Yl;if(x){const b=x.type;if(r===LK){const S=rie(b,!1);if(S&&(S===i||S===Ff(i)||S===JS(Ff(i))))return b}const y=rZ(x[r]||b[r],i)||rZ(x.appContext[r],i);return!y&&m?b:y}}function rZ(r,i){return r&&(r[i]||r[Ff(i)]||r[JS(Ff(i))])}function WT(r,i,d,m){let x;const b=d;if(Xo(r)||Ki(r)){x=new Array(r.length);for(let y=0,S=r.length;y<S;y++)x[y]=i(r[y],y,void 0,b)}else if(typeof r=="number"){x=new Array(r);for(let y=0;y<r;y++)x[y]=i(y+1,y,void 0,b)}else if(Na(r))if(r[Symbol.iterator])x=Array.from(r,(y,S)=>i(y,S,void 0,b));else{const y=Object.keys(r);x=new Array(y.length);for(let S=0,L=y.length;S<L;S++){const P=y[S];x[S]=i(r[P],P,S,b)}}else x=[];return x}const bH=r=>r?rq(r)?oM(r):bH(r.parent):null,MT=Dl(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>bH(r.parent),$root:r=>bH(r.root),$emit:r=>r.emit,$options:r=>b$(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,f$(r.update)}),$nextTick:r=>r.n||(r.n=yl.bind(r.proxy)),$watch:r=>zae.bind(r)}),L9=(r,i)=>r!==fi&&!r.__isScriptSetup&&_s(r,i),gae={get({_:r},i){if(i==="__v_skip")return!0;const{ctx:d,setupState:m,data:x,props:b,accessCache:y,type:S,appContext:L}=r;let P;if(i[0]!=="$"){const U=y[i];if(U!==void 0)switch(U){case 1:return m[i];case 2:return x[i];case 4:return d[i];case 3:return b[i]}else{if(L9(m,i))return y[i]=1,m[i];if(x!==fi&&_s(x,i))return y[i]=2,x[i];if((P=r.propsOptions[0])&&_s(P,i))return y[i]=3,b[i];if(d!==fi&&_s(d,i))return y[i]=4,d[i];vH&&(y[i]=0)}}const D=MT[i];let z,W;if(D)return i==="$attrs"&&Nd(r.attrs,"get",""),D(r);if((z=S.__cssModules)&&(z=z[i]))return z;if(d!==fi&&_s(d,i))return y[i]=4,d[i];if(W=L.config.globalProperties,_s(W,i))return W[i]},set({_:r},i,d){const{data:m,setupState:x,ctx:b}=r;return L9(x,i)?(x[i]=d,!0):m!==fi&&_s(m,i)?(m[i]=d,!0):_s(r.props,i)||i[0]==="$"&&i.slice(1)in r?!1:(b[i]=d,!0)},has({_:{data:r,setupState:i,accessCache:d,ctx:m,appContext:x,propsOptions:b}},y){let S;return!!d[y]||r!==fi&&_s(r,y)||L9(i,y)||(S=b[0])&&_s(S,y)||_s(m,y)||_s(MT,y)||_s(x.config.globalProperties,y)},defineProperty(r,i,d){return d.get!=null?r._.accessCache[i]=0:_s(d,"value")&&this.set(r,i,d.value,null),Reflect.defineProperty(r,i,d)}};function sZ(r){return Xo(r)?r.reduce((i,d)=>(i[d]=null,i),{}):r}let vH=!0;function hae(r){const i=b$(r),d=r.proxy,m=r.ctx;vH=!1,i.beforeCreate&&aZ(i.beforeCreate,r,"bc");const{data:x,computed:b,methods:y,watch:S,provide:L,inject:P,created:D,beforeMount:z,mounted:W,beforeUpdate:U,updated:G,activated:ee,deactivated:ye,beforeDestroy:ge,beforeUnmount:Le,destroyed:Be,unmounted:ie,render:Me,renderTracked:oe,renderTriggered:Je,errorCaptured:Ve,serverPrefetch:Ye,expose:mt,inheritAttrs:Ee,components:Ne,directives:R,filters:Nt}=i;if(P&&pae(P,m,null),y)for(const Tn in y){const ot=y[Tn];ur(ot)&&(m[Tn]=ot.bind(d))}if(x){const Tn=x.call(d,d);Na(Tn)&&(r.data=tu(Tn))}if(vH=!0,b)for(const Tn in b){const ot=b[Tn],Vn=ur(ot)?ot.bind(d,d):ur(ot.get)?ot.get.bind(d,d):tg,Nr=!ur(ot)&&ur(ot.set)?ot.set.bind(d):tg,yt=Tt({get:Vn,set:Nr});Object.defineProperty(m,Tn,{enumerable:!0,configurable:!0,get:()=>yt.value,set:vt=>yt.value=vt})}if(S)for(const Tn in S)zK(S[Tn],m,d,Tn);if(L){const Tn=ur(L)?L.call(d):L;Reflect.ownKeys(Tn).forEach(ot=>{Hf(ot,Tn[ot])})}D&&aZ(D,r,"c");function pn(Tn,ot){Xo(ot)?ot.forEach(Vn=>Tn(Vn.bind(d))):ot&&Tn(ot.bind(d))}if(pn(MK,z),pn(sg,W),pn(aae,U),pn(p$,G),pn(g$,ee),pn(h$,ye),pn(uae,Ve),pn(cae,oe),pn(lae,Je),pn(ju,Le),pn(PK,ie),pn(iae,Ye),Xo(mt))if(mt.length){const Tn=r.exposed||(r.exposed={});mt.forEach(ot=>{Object.defineProperty(Tn,ot,{get:()=>d[ot],set:Vn=>d[ot]=Vn})})}else r.exposed||(r.exposed={});Me&&r.render===tg&&(r.render=Me),Ee!=null&&(r.inheritAttrs=Ee),Ne&&(r.components=Ne),R&&(r.directives=R)}function pae(r,i,d=tg){Xo(r)&&(r=xH(r));for(const m in r){const x=r[m];let b;Na(x)?"default"in x?b=xl(x.from||m,x.default,!0):b=xl(x.from||m):b=xl(x),Ia(b)?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>b.value,set:y=>b.value=y}):i[m]=b}}function aZ(r,i,d){rg(Xo(r)?r.map(m=>m.bind(i.proxy)):r.bind(i.proxy),i,d)}function zK(r,i,d,m){const x=m.includes(".")?eq(d,m):()=>d[m];if(Ki(r)){const b=i[r];ur(b)&&To(x,b)}else if(ur(r))To(x,r.bind(d));else if(Na(r))if(Xo(r))r.forEach(b=>zK(b,i,d,m));else{const b=ur(r.handler)?r.handler.bind(d):i[r.handler];ur(b)&&To(x,b,r)}}function b$(r){const i=r.type,{mixins:d,extends:m}=i,{mixins:x,optionsCache:b,config:{optionMergeStrategies:y}}=r.appContext,S=b.get(i);let L;return S?L=S:!x.length&&!d&&!m?L=i:(L={},x.length&&x.forEach(P=>RB(L,P,y,!0)),RB(L,i,y)),Na(i)&&b.set(i,L),L}function RB(r,i,d,m=!1){const{mixins:x,extends:b}=i;b&&RB(r,b,d,!0),x&&x.forEach(y=>RB(r,y,d,!0));for(const y in i)if(!(m&&y==="expose")){const S=bae[y]||d&&d[y];r[y]=S?S(r[y],i[y]):i[y]}return r}const bae={data:iZ,props:lZ,emits:lZ,methods:NT,computed:NT,beforeCreate:Hu,created:Hu,beforeMount:Hu,mounted:Hu,beforeUpdate:Hu,updated:Hu,beforeDestroy:Hu,beforeUnmount:Hu,destroyed:Hu,unmounted:Hu,activated:Hu,deactivated:Hu,errorCaptured:Hu,serverPrefetch:Hu,components:NT,directives:NT,watch:xae,provide:iZ,inject:vae};function iZ(r,i){return i?r?function(){return Dl(ur(r)?r.call(this,this):r,ur(i)?i.call(this,this):i)}:i:r}function vae(r,i){return NT(xH(r),xH(i))}function xH(r){if(Xo(r)){const i={};for(let d=0;d<r.length;d++)i[r[d]]=r[d];return i}return r}function Hu(r,i){return r?[...new Set([].concat(r,i))]:i}function NT(r,i){return r?Dl(Object.create(null),r,i):i}function lZ(r,i){return r?Xo(r)&&Xo(i)?[...new Set([...r,...i])]:Dl(Object.create(null),sZ(r),sZ(i??{})):i}function xae(r,i){if(!r)return i;if(!i)return r;const d=Dl(Object.create(null),r);for(const m in i)d[m]=Hu(r[m],i[m]);return d}function HK(){return{app:null,config:{isNativeTag:fse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yae=0;function wae(r,i){return function(m,x=null){ur(m)||(m=Dl({},m)),x!=null&&!Na(x)&&(x=null);const b=HK(),y=new WeakSet;let S=!1;const L=b.app={_uid:yae++,_component:m,_props:x,_container:null,_context:b,_instance:null,version:aie,get config(){return b.config},set config(P){},use(P,...D){return y.has(P)||(P&&ur(P.install)?(y.add(P),P.install(L,...D)):ur(P)&&(y.add(P),P(L,...D))),L},mixin(P){return b.mixins.includes(P)||b.mixins.push(P),L},component(P,D){return D?(b.components[P]=D,L):b.components[P]},directive(P,D){return D?(b.directives[P]=D,L):b.directives[P]},mount(P,D,z){if(!S){const W=Te(m,x);return W.appContext=b,z===!0?z="svg":z===!1&&(z=void 0),D&&i?i(W,P):r(W,P,z),S=!0,L._container=P,P.__vue_app__=L,oM(W.component)}},unmount(){S&&(r(null,L._container),delete L._container.__vue_app__)},provide(P,D){return b.provides[P]=D,L},runWithContext(P){const D=dw;dw=L;try{return P()}finally{dw=D}}};return L}}let dw=null;function Hf(r,i){if(Yl){let d=Yl.provides;const m=Yl.parent&&Yl.parent.provides;m===d&&(d=Yl.provides=Object.create(m)),d[r]=i}}function xl(r,i,d=!1){const m=Yl||Vu;if(m||dw){const x=dw?dw._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(x&&r in x)return x[r];if(arguments.length>1)return d&&ur(i)?i.call(m&&m.proxy):i}}function _ae(){return!!(Yl||Vu||dw)}const $K={},VK=()=>Object.create($K),UK=r=>Object.getPrototypeOf(r)===$K;function Cae(r,i,d,m=!1){const x={},b=VK();r.propsDefaults=Object.create(null),WK(r,i,x,b);for(const y in r.propsOptions[0])y in x||(x[y]=void 0);d?r.props=m?x:jse(x):r.type.props?r.props=x:r.props=b,r.attrs=b}function Sae(r,i,d,m){const{props:x,attrs:b,vnode:{patchFlag:y}}=r,S=ko(x),[L]=r.propsOptions;let P=!1;if((m||y>0)&&!(y&16)){if(y&8){const D=r.vnode.dynamicProps;for(let z=0;z<D.length;z++){let W=D[z];if(tM(r.emitsOptions,W))continue;const U=i[W];if(L)if(_s(b,W))U!==b[W]&&(b[W]=U,P=!0);else{const G=Ff(W);x[G]=yH(L,S,G,U,r,!1)}else U!==b[W]&&(b[W]=U,P=!0)}}}else{WK(r,i,x,b)&&(P=!0);let D;for(const z in S)(!i||!_s(i,z)&&((D=vw(z))===z||!_s(i,D)))&&(L?d&&(d[z]!==void 0||d[D]!==void 0)&&(x[z]=yH(L,S,z,void 0,r,!0)):delete x[z]);if(b!==S)for(const z in b)(!i||!_s(i,z))&&(delete b[z],P=!0)}P&&M0(r.attrs,"set","")}function WK(r,i,d,m){const[x,b]=r.propsOptions;let y=!1,S;if(i)for(let L in i){if(BT(L))continue;const P=i[L];let D;x&&_s(x,D=Ff(L))?!b||!b.includes(D)?d[D]=P:(S||(S={}))[D]=P:tM(r.emitsOptions,L)||(!(L in m)||P!==m[L])&&(m[L]=P,y=!0)}if(b){const L=ko(d),P=S||fi;for(let D=0;D<b.length;D++){const z=b[D];d[z]=yH(x,L,z,P[z],r,!_s(P,z))}}return y}function yH(r,i,d,m,x,b){const y=r[d];if(y!=null){const S=_s(y,"default");if(S&&m===void 0){const L=y.default;if(y.type!==Function&&!y.skipFactory&&ur(L)){const{propsDefaults:P}=x;if(d in P)m=P[d];else{const D=nO(x);m=P[d]=L.call(null,i),D()}}else m=L}y[0]&&(b&&!S?m=!1:y[1]&&(m===""||m===vw(d))&&(m=!0))}return m}const kae=new WeakMap;function ZK(r,i,d=!1){const m=d?kae:i.propsCache,x=m.get(r);if(x)return x;const b=r.props,y={},S=[];let L=!1;if(!ur(r)){const D=z=>{L=!0;const[W,U]=ZK(z,i,!0);Dl(y,W),U&&S.push(...U)};!d&&i.mixins.length&&i.mixins.forEach(D),r.extends&&D(r.extends),r.mixins&&r.mixins.forEach(D)}if(!b&&!L)return Na(r)&&m.set(r,$S),$S;if(Xo(b))for(let D=0;D<b.length;D++){const z=Ff(b[D]);cZ(z)&&(y[z]=fi)}else if(b)for(const D in b){const z=Ff(D);if(cZ(z)){const W=b[D],U=y[z]=Xo(W)||ur(W)?{type:W}:Dl({},W),G=U.type;let ee=!1,ye=!0;if(Xo(G))for(let ge=0;ge<G.length;++ge){const Le=G[ge],Be=ur(Le)&&Le.name;if(Be==="Boolean"){ee=!0;break}else Be==="String"&&(ye=!1)}else ee=ur(G)&&G.name==="Boolean";U[0]=ee,U[1]=ye,(ee||_s(U,"default"))&&S.push(z)}}const P=[y,S];return Na(r)&&m.set(r,P),P}function cZ(r){return r[0]!=="$"&&!BT(r)}const jK=r=>r[0]==="_"||r==="$stable",v$=r=>Xo(r)?r.map(Ep):[Ep(r)],Eae=(r,i,d)=>{if(i._n)return i;const m=Dn((...x)=>v$(i(...x)),d);return m._c=!1,m},KK=(r,i,d)=>{const m=r._ctx;for(const x in r){if(jK(x))continue;const b=r[x];if(ur(b))i[x]=Eae(x,b,m);else if(b!=null){const y=v$(b);i[x]=()=>y}}},qK=(r,i)=>{const d=v$(i);r.slots.default=()=>d},GK=(r,i,d)=>{for(const m in i)(d||m!=="_")&&(r[m]=i[m])},Aae=(r,i,d)=>{const m=r.slots=VK();if(r.vnode.shapeFlag&32){const x=i._;x?(GK(m,i,d),d&&tK(m,"_",x,!0)):KK(i,m)}else i&&qK(r,i)},Tae=(r,i,d)=>{const{vnode:m,slots:x}=r;let b=!0,y=fi;if(m.shapeFlag&32){const S=i._;S?d&&S===1?b=!1:GK(x,i,d):(b=!i.$stable,KK(i,x)),y=i}else i&&(qK(r,i),y={default:1});if(b)for(const S in x)!jK(S)&&y[S]==null&&delete x[S]};function wH(r,i,d,m,x=!1){if(Xo(r)){r.forEach((W,U)=>wH(W,i&&(Xo(i)?i[U]:i),d,m,x));return}if(yB(m)&&!x)return;const b=m.shapeFlag&4?oM(m.component):m.el,y=x?null:b,{i:S,r:L}=r,P=i&&i.r,D=S.refs===fi?S.refs={}:S.refs,z=S.setupState;if(P!=null&&P!==L&&(Ki(P)?(D[P]=null,_s(z,P)&&(z[P]=null)):Ia(P)&&(P.value=null)),ur(L))jv(L,S,12,[y,D]);else{const W=Ki(L),U=Ia(L);if(W||U){const G=()=>{if(r.f){const ee=W?_s(z,L)?z[L]:D[L]:L.value;x?Xo(ee)&&t$(ee,b):Xo(ee)?ee.includes(b)||ee.push(b):W?(D[L]=[b],_s(z,L)&&(z[L]=D[L])):(L.value=[b],r.k&&(D[r.k]=L.value))}else W?(D[L]=y,_s(z,L)&&(z[L]=y)):U&&(L.value=y,r.k&&(D[r.k]=y))};y?(G.id=-1,Td(G,d)):G()}}}const YK=Symbol("_vte"),Oae=r=>r.__isTeleport,PT=r=>r&&(r.disabled||r.disabled===""),uZ=r=>typeof SVGElement<"u"&&r instanceof SVGElement,dZ=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,_H=(r,i)=>{const d=r&&r.to;return Ki(d)?i?i(d):null:d},Dae={name:"Teleport",__isTeleport:!0,process(r,i,d,m,x,b,y,S,L,P){const{mc:D,pc:z,pbc:W,o:{insert:U,querySelector:G,createText:ee,createComment:ye}}=P,ge=PT(i.props);let{shapeFlag:Le,children:Be,dynamicChildren:ie}=i;if(r==null){const Me=i.el=ee(""),oe=i.anchor=ee("");U(Me,d,m),U(oe,d,m);const Je=i.target=_H(i.props,G),Ve=JK(Je,i,ee,U);Je&&(y==="svg"||uZ(Je)?y="svg":(y==="mathml"||dZ(Je))&&(y="mathml"));const Ye=(mt,Ee)=>{Le&16&&D(Be,mt,Ee,x,b,y,S,L)};ge?Ye(d,oe):Je&&Ye(Je,Ve)}else{i.el=r.el,i.targetStart=r.targetStart;const Me=i.anchor=r.anchor,oe=i.target=r.target,Je=i.targetAnchor=r.targetAnchor,Ve=PT(r.props),Ye=Ve?d:oe,mt=Ve?Me:Je;if(y==="svg"||uZ(oe)?y="svg":(y==="mathml"||dZ(oe))&&(y="mathml"),ie?(W(r.dynamicChildren,ie,Ye,x,b,y,S),x$(r,i,!0)):L||z(r,i,Ye,mt,x,b,y,S,!1),ge)Ve?i.props&&r.props&&i.props.to!==r.props.to&&(i.props.to=r.props.to):lB(i,d,Me,P,1);else if((i.props&&i.props.to)!==(r.props&&r.props.to)){const Ee=i.target=_H(i.props,G);Ee&&lB(i,Ee,null,P,0)}else Ve&&lB(i,oe,Je,P,1)}XK(i)},remove(r,i,d,{um:m,o:{remove:x}},b){const{shapeFlag:y,children:S,anchor:L,targetStart:P,targetAnchor:D,target:z,props:W}=r;if(z&&(x(P),x(D)),b&&x(L),y&16){const U=b||!PT(W);for(let G=0;G<S.length;G++){const ee=S[G];m(ee,i,d,U,!!ee.dynamicChildren)}}},move:lB,hydrate:Rae};function lB(r,i,d,{o:{insert:m},m:x},b=2){b===0&&m(r.targetAnchor,i,d);const{el:y,anchor:S,shapeFlag:L,children:P,props:D}=r,z=b===2;if(z&&m(y,i,d),(!z||PT(D))&&L&16)for(let W=0;W<P.length;W++)x(P[W],i,d,2);z&&m(S,i,d)}function Rae(r,i,d,m,x,b,{o:{nextSibling:y,parentNode:S,querySelector:L,insert:P,createText:D}},z){const W=i.target=_H(i.props,L);if(W){const U=W._lpa||W.firstChild;if(i.shapeFlag&16)if(PT(i.props))i.anchor=z(y(r),i,S(r),d,m,x,b),i.targetStart=U,i.targetAnchor=U&&y(U);else{i.anchor=y(r);let G=U;for(;G;){if(G&&G.nodeType===8){if(G.data==="teleport start anchor")i.targetStart=G;else if(G.data==="teleport anchor"){i.targetAnchor=G,W._lpa=i.targetAnchor&&y(i.targetAnchor);break}}G=y(G)}i.targetAnchor||JK(W,i,D,P),z(U&&y(U),i,W,d,m,x,b)}XK(i)}return i.anchor&&y(i.anchor)}const Nae=Dae;function XK(r){const i=r.ctx;if(i&&i.ut){let d=r.children[0].el;for(;d&&d!==r.targetAnchor;)d.nodeType===1&&d.setAttribute("data-v-owner",i.uid),d=d.nextSibling;i.ut()}}function JK(r,i,d,m){const x=i.targetStart=d(""),b=i.targetAnchor=d("");return x[YK]=b,r&&(m(x,r),m(b,r)),b}const Td=Kae;function Iae(r){return Bae(r)}function Bae(r,i){const d=nK();d.__VUE__=!0;const{insert:m,remove:x,patchProp:b,createElement:y,createText:S,createComment:L,setText:P,setElementText:D,parentNode:z,nextSibling:W,setScopeId:U=tg,insertStaticContent:G}=r,ee=(Ze,le,ve,Ie=null,me=null,_t=null,$t=void 0,xt=null,Ft=!!le.dynamicChildren)=>{if(Ze===le)return;Ze&&!aw(Ze,le)&&(Ie=Mn(Ze),vt(Ze,me,_t,!0),Ze=null),le.patchFlag===-2&&(Ft=!1,le.dynamicChildren=null);const{type:It,ref:on,shapeFlag:vn}=le;switch(It){case tO:ye(Ze,le,ve,Ie);break;case If:ge(Ze,le,ve,Ie);break;case H9:Ze==null&&Le(le,ve,Ie,$t);break;case ia:Ne(Ze,le,ve,Ie,me,_t,$t,xt,Ft);break;default:vn&1?Me(Ze,le,ve,Ie,me,_t,$t,xt,Ft):vn&6?R(Ze,le,ve,Ie,me,_t,$t,xt,Ft):(vn&64||vn&128)&&It.process(Ze,le,ve,Ie,me,_t,$t,xt,Ft,dr)}on!=null&&me&&wH(on,Ze&&Ze.ref,_t,le||Ze,!le)},ye=(Ze,le,ve,Ie)=>{if(Ze==null)m(le.el=S(le.children),ve,Ie);else{const me=le.el=Ze.el;le.children!==Ze.children&&P(me,le.children)}},ge=(Ze,le,ve,Ie)=>{Ze==null?m(le.el=L(le.children||""),ve,Ie):le.el=Ze.el},Le=(Ze,le,ve,Ie)=>{[Ze.el,Ze.anchor]=G(Ze.children,le,ve,Ie,Ze.el,Ze.anchor)},Be=({el:Ze,anchor:le},ve,Ie)=>{let me;for(;Ze&&Ze!==le;)me=W(Ze),m(Ze,ve,Ie),Ze=me;m(le,ve,Ie)},ie=({el:Ze,anchor:le})=>{let ve;for(;Ze&&Ze!==le;)ve=W(Ze),x(Ze),Ze=ve;x(le)},Me=(Ze,le,ve,Ie,me,_t,$t,xt,Ft)=>{le.type==="svg"?$t="svg":le.type==="math"&&($t="mathml"),Ze==null?oe(le,ve,Ie,me,_t,$t,xt,Ft):Ye(Ze,le,me,_t,$t,xt,Ft)},oe=(Ze,le,ve,Ie,me,_t,$t,xt)=>{let Ft,It;const{props:on,shapeFlag:vn,transition:xn,dirs:Cn}=Ze;if(Ft=Ze.el=y(Ze.type,_t,on&&on.is,on),vn&8?D(Ft,Ze.children):vn&16&&Ve(Ze.children,Ft,null,Ie,me,F9(Ze,_t),$t,xt),Cn&&J2(Ze,null,Ie,"created"),Je(Ft,Ze,Ze.scopeId,$t,Ie),on){for(const po in on)po!=="value"&&!BT(po)&&b(Ft,po,null,on[po],_t,Ie);"value"in on&&b(Ft,"value",null,on.value,_t),(It=on.onVnodeBeforeMount)&&_p(It,Ie,Ze)}Cn&&J2(Ze,null,Ie,"beforeMount");const ro=Mae(me,xn);ro&&xn.beforeEnter(Ft),m(Ft,le,ve),((It=on&&on.onVnodeMounted)||ro||Cn)&&Td(()=>{It&&_p(It,Ie,Ze),ro&&xn.enter(Ft),Cn&&J2(Ze,null,Ie,"mounted")},me)},Je=(Ze,le,ve,Ie,me)=>{if(ve&&U(Ze,ve),Ie)for(let _t=0;_t<Ie.length;_t++)U(Ze,Ie[_t]);if(me){let _t=me.subTree;if(le===_t){const $t=me.vnode;Je(Ze,$t,$t.scopeId,$t.slotScopeIds,me.parent)}}},Ve=(Ze,le,ve,Ie,me,_t,$t,xt,Ft=0)=>{for(let It=Ft;It<Ze.length;It++){const on=Ze[It]=xt?$v(Ze[It]):Ep(Ze[It]);ee(null,on,le,ve,Ie,me,_t,$t,xt)}},Ye=(Ze,le,ve,Ie,me,_t,$t)=>{const xt=le.el=Ze.el;let{patchFlag:Ft,dynamicChildren:It,dirs:on}=le;Ft|=Ze.patchFlag&16;const vn=Ze.props||fi,xn=le.props||fi;let Cn;if(ve&&Q2(ve,!1),(Cn=xn.onVnodeBeforeUpdate)&&_p(Cn,ve,le,Ze),on&&J2(le,Ze,ve,"beforeUpdate"),ve&&Q2(ve,!0),(vn.innerHTML&&xn.innerHTML==null||vn.textContent&&xn.textContent==null)&&D(xt,""),It?mt(Ze.dynamicChildren,It,xt,ve,Ie,F9(le,me),_t):$t||ot(Ze,le,xt,null,ve,Ie,F9(le,me),_t,!1),Ft>0){if(Ft&16)Ee(xt,vn,xn,ve,me);else if(Ft&2&&vn.class!==xn.class&&b(xt,"class",null,xn.class,me),Ft&4&&b(xt,"style",vn.style,xn.style,me),Ft&8){const ro=le.dynamicProps;for(let po=0;po<ro.length;po++){const Eo=ro[po],Oo=vn[Eo],Cs=xn[Eo];(Cs!==Oo||Eo==="value")&&b(xt,Eo,Oo,Cs,me,ve)}}Ft&1&&Ze.children!==le.children&&D(xt,le.children)}else!$t&&It==null&&Ee(xt,vn,xn,ve,me);((Cn=xn.onVnodeUpdated)||on)&&Td(()=>{Cn&&_p(Cn,ve,le,Ze),on&&J2(le,Ze,ve,"updated")},Ie)},mt=(Ze,le,ve,Ie,me,_t,$t)=>{for(let xt=0;xt<le.length;xt++){const Ft=Ze[xt],It=le[xt],on=Ft.el&&(Ft.type===ia||!aw(Ft,It)||Ft.shapeFlag&70)?z(Ft.el):ve;ee(Ft,It,on,null,Ie,me,_t,$t,!0)}},Ee=(Ze,le,ve,Ie,me)=>{if(le!==ve){if(le!==fi)for(const _t in le)!BT(_t)&&!(_t in ve)&&b(Ze,_t,le[_t],null,me,Ie);for(const _t in ve){if(BT(_t))continue;const $t=ve[_t],xt=le[_t];$t!==xt&&_t!=="value"&&b(Ze,_t,xt,$t,me,Ie)}"value"in ve&&b(Ze,"value",le.value,ve.value,me)}},Ne=(Ze,le,ve,Ie,me,_t,$t,xt,Ft)=>{const It=le.el=Ze?Ze.el:S(""),on=le.anchor=Ze?Ze.anchor:S("");let{patchFlag:vn,dynamicChildren:xn,slotScopeIds:Cn}=le;Cn&&(xt=xt?xt.concat(Cn):Cn),Ze==null?(m(It,ve,Ie),m(on,ve,Ie),Ve(le.children||[],ve,on,me,_t,$t,xt,Ft)):vn>0&&vn&64&&xn&&Ze.dynamicChildren?(mt(Ze.dynamicChildren,xn,ve,me,_t,$t,xt),(le.key!=null||me&&le===me.subTree)&&x$(Ze,le,!0)):ot(Ze,le,ve,on,me,_t,$t,xt,Ft)},R=(Ze,le,ve,Ie,me,_t,$t,xt,Ft)=>{le.slotScopeIds=xt,Ze==null?le.shapeFlag&512?me.ctx.activate(le,ve,Ie,$t,Ft):Nt(le,ve,Ie,me,_t,$t,Ft):Jt(Ze,le,Ft)},Nt=(Ze,le,ve,Ie,me,_t,$t)=>{const xt=Ze.component=Qae(Ze,Ie,me);if(JB(Ze)&&(xt.ctx.renderer=dr),eie(xt,!1,$t),xt.asyncDep){if(me&&me.registerDep(xt,pn,$t),!Ze.el){const Ft=xt.subTree=Te(If);ge(null,Ft,le,ve)}}else pn(xt,Ze,le,ve,me,_t,$t)},Jt=(Ze,le,ve)=>{const Ie=le.component=Ze.component;if(Wae(Ze,le,ve))if(Ie.asyncDep&&!Ie.asyncResolved){Tn(Ie,le,ve);return}else Ie.next=le,eae(Ie.update),Ie.effect.dirty=!0,Ie.update();else le.el=Ze.el,Ie.vnode=le},pn=(Ze,le,ve,Ie,me,_t,$t)=>{const xt=()=>{if(Ze.isMounted){let{next:on,bu:vn,u:xn,parent:Cn,vnode:ro}=Ze;{const ar=QK(Ze);if(ar){on&&(on.el=ro.el,Tn(Ze,on,$t)),ar.asyncDep.then(()=>{Ze.isUnmounted||xt()});return}}let po=on,Eo;Q2(Ze,!1),on?(on.el=ro.el,Tn(Ze,on,$t)):on=ro,vn&&B9(vn),(Eo=on.props&&on.props.onVnodeBeforeUpdate)&&_p(Eo,Cn,on,ro),Q2(Ze,!0);const Oo=z9(Ze),Cs=Ze.subTree;Ze.subTree=Oo,ee(Cs,Oo,z(Cs.el),Mn(Cs),Ze,me,_t),on.el=Oo.el,po===null&&Zae(Ze,Oo.el),xn&&Td(xn,me),(Eo=on.props&&on.props.onVnodeUpdated)&&Td(()=>_p(Eo,Cn,on,ro),me)}else{let on;const{el:vn,props:xn}=le,{bm:Cn,m:ro,parent:po}=Ze,Eo=yB(le);if(Q2(Ze,!1),Cn&&B9(Cn),!Eo&&(on=xn&&xn.onVnodeBeforeMount)&&_p(on,po,le),Q2(Ze,!0),vn&&ei){const Oo=()=>{Ze.subTree=z9(Ze),ei(vn,Ze.subTree,Ze,me,null)};Eo?le.type.__asyncLoader().then(()=>!Ze.isUnmounted&&Oo()):Oo()}else{const Oo=Ze.subTree=z9(Ze);ee(null,Oo,ve,Ie,Ze,me,_t),le.el=Oo.el}if(ro&&Td(ro,me),!Eo&&(on=xn&&xn.onVnodeMounted)){const Oo=le;Td(()=>_p(on,po,Oo),me)}(le.shapeFlag&256||po&&yB(po.vnode)&&po.vnode.shapeFlag&256)&&Ze.a&&Td(Ze.a,me),Ze.isMounted=!0,le=ve=Ie=null}},Ft=Ze.effect=new o$(xt,tg,()=>f$(It),Ze.scope),It=Ze.update=()=>{Ft.dirty&&Ft.run()};It.i=Ze,It.id=Ze.uid,Q2(Ze,!0),It()},Tn=(Ze,le,ve)=>{le.component=Ze;const Ie=Ze.vnode.props;Ze.vnode=le,Ze.next=null,Sae(Ze,le.props,Ie,ve),Tae(Ze,le.children,ve),ex(),nZ(Ze),tx()},ot=(Ze,le,ve,Ie,me,_t,$t,xt,Ft=!1)=>{const It=Ze&&Ze.children,on=Ze?Ze.shapeFlag:0,vn=le.children,{patchFlag:xn,shapeFlag:Cn}=le;if(xn>0){if(xn&128){Nr(It,vn,ve,Ie,me,_t,$t,xt,Ft);return}else if(xn&256){Vn(It,vn,ve,Ie,me,_t,$t,xt,Ft);return}}Cn&8?(on&16&&En(It,me,_t),vn!==It&&D(ve,vn)):on&16?Cn&16?Nr(It,vn,ve,Ie,me,_t,$t,xt,Ft):En(It,me,_t,!0):(on&8&&D(ve,""),Cn&16&&Ve(vn,ve,Ie,me,_t,$t,xt,Ft))},Vn=(Ze,le,ve,Ie,me,_t,$t,xt,Ft)=>{Ze=Ze||$S,le=le||$S;const It=Ze.length,on=le.length,vn=Math.min(It,on);let xn;for(xn=0;xn<vn;xn++){const Cn=le[xn]=Ft?$v(le[xn]):Ep(le[xn]);ee(Ze[xn],Cn,ve,null,me,_t,$t,xt,Ft)}It>on?En(Ze,me,_t,!0,!1,vn):Ve(le,ve,Ie,me,_t,$t,xt,Ft,vn)},Nr=(Ze,le,ve,Ie,me,_t,$t,xt,Ft)=>{let It=0;const on=le.length;let vn=Ze.length-1,xn=on-1;for(;It<=vn&&It<=xn;){const Cn=Ze[It],ro=le[It]=Ft?$v(le[It]):Ep(le[It]);if(aw(Cn,ro))ee(Cn,ro,ve,null,me,_t,$t,xt,Ft);else break;It++}for(;It<=vn&&It<=xn;){const Cn=Ze[vn],ro=le[xn]=Ft?$v(le[xn]):Ep(le[xn]);if(aw(Cn,ro))ee(Cn,ro,ve,null,me,_t,$t,xt,Ft);else break;vn--,xn--}if(It>vn){if(It<=xn){const Cn=xn+1,ro=Cn<on?le[Cn].el:Ie;for(;It<=xn;)ee(null,le[It]=Ft?$v(le[It]):Ep(le[It]),ve,ro,me,_t,$t,xt,Ft),It++}}else if(It>xn)for(;It<=vn;)vt(Ze[It],me,_t,!0),It++;else{const Cn=It,ro=It,po=new Map;for(It=ro;It<=xn;It++){const so=le[It]=Ft?$v(le[It]):Ep(le[It]);so.key!=null&&po.set(so.key,It)}let Eo,Oo=0;const Cs=xn-ro+1;let ar=!1,gi=0;const ln=new Array(Cs);for(It=0;It<Cs;It++)ln[It]=0;for(It=Cn;It<=vn;It++){const so=Ze[It];if(Oo>=Cs){vt(so,me,_t,!0);continue}let zr;if(so.key!=null)zr=po.get(so.key);else for(Eo=ro;Eo<=xn;Eo++)if(ln[Eo-ro]===0&&aw(so,le[Eo])){zr=Eo;break}zr===void 0?vt(so,me,_t,!0):(ln[zr-ro]=It+1,zr>=gi?gi=zr:ar=!0,ee(so,le[zr],ve,null,me,_t,$t,xt,Ft),Oo++)}const mo=ar?Pae(ln):$S;for(Eo=mo.length-1,It=Cs-1;It>=0;It--){const so=ro+It,zr=le[so],Ba=so+1<on?le[so+1].el:Ie;ln[It]===0?ee(null,zr,ve,Ba,me,_t,$t,xt,Ft):ar&&(Eo<0||It!==mo[Eo]?yt(zr,ve,Ba,2):Eo--)}}},yt=(Ze,le,ve,Ie,me=null)=>{const{el:_t,type:$t,transition:xt,children:Ft,shapeFlag:It}=Ze;if(It&6){yt(Ze.component.subTree,le,ve,Ie);return}if(It&128){Ze.suspense.move(le,ve,Ie);return}if(It&64){$t.move(Ze,le,ve,dr);return}if($t===ia){m(_t,le,ve);for(let vn=0;vn<Ft.length;vn++)yt(Ft[vn],le,ve,Ie);m(Ze.anchor,le,ve);return}if($t===H9){Be(Ze,le,ve);return}if(Ie!==2&&It&1&&xt)if(Ie===0)xt.beforeEnter(_t),m(_t,le,ve),Td(()=>xt.enter(_t),me);else{const{leave:vn,delayLeave:xn,afterLeave:Cn}=xt,ro=()=>m(_t,le,ve),po=()=>{vn(_t,()=>{ro(),Cn&&Cn()})};xn?xn(_t,ro,po):po()}else m(_t,le,ve)},vt=(Ze,le,ve,Ie=!1,me=!1)=>{const{type:_t,props:$t,ref:xt,children:Ft,dynamicChildren:It,shapeFlag:on,patchFlag:vn,dirs:xn,cacheIndex:Cn}=Ze;if(vn===-2&&(me=!1),xt!=null&&wH(xt,null,ve,Ze,!0),Cn!=null&&(le.renderCache[Cn]=void 0),on&256){le.ctx.deactivate(Ze);return}const ro=on&1&&xn,po=!yB(Ze);let Eo;if(po&&(Eo=$t&&$t.onVnodeBeforeUnmount)&&_p(Eo,le,Ze),on&6)bo(Ze.component,ve,Ie);else{if(on&128){Ze.suspense.unmount(ve,Ie);return}ro&&J2(Ze,null,le,"beforeUnmount"),on&64?Ze.type.remove(Ze,le,ve,dr,Ie):It&&!It.hasOnce&&(_t!==ia||vn>0&&vn&64)?En(It,le,ve,!1,!0):(_t===ia&&vn&384||!me&&on&16)&&En(Ft,le,ve),Ie&&jt(Ze)}(po&&(Eo=$t&&$t.onVnodeUnmounted)||ro)&&Td(()=>{Eo&&_p(Eo,le,Ze),ro&&J2(Ze,null,le,"unmounted")},ve)},jt=Ze=>{const{type:le,el:ve,anchor:Ie,transition:me}=Ze;if(le===ia){bs(ve,Ie);return}if(le===H9){ie(Ze);return}const _t=()=>{x(ve),me&&!me.persisted&&me.afterLeave&&me.afterLeave()};if(Ze.shapeFlag&1&&me&&!me.persisted){const{leave:$t,delayLeave:xt}=me,Ft=()=>$t(ve,_t);xt?xt(Ze.el,_t,Ft):Ft()}else _t()},bs=(Ze,le)=>{let ve;for(;Ze!==le;)ve=W(Ze),x(Ze),Ze=ve;x(le)},bo=(Ze,le,ve)=>{const{bum:Ie,scope:me,update:_t,subTree:$t,um:xt,m:Ft,a:It}=Ze;fZ(Ft),fZ(It),Ie&&B9(Ie),me.stop(),_t&&(_t.active=!1,vt($t,Ze,le,ve)),xt&&Td(xt,le),Td(()=>{Ze.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Ze.asyncDep&&!Ze.asyncResolved&&Ze.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},En=(Ze,le,ve,Ie=!1,me=!1,_t=0)=>{for(let $t=_t;$t<Ze.length;$t++)vt(Ze[$t],le,ve,Ie,me)},Mn=Ze=>{if(Ze.shapeFlag&6)return Mn(Ze.component.subTree);if(Ze.shapeFlag&128)return Ze.suspense.next();const le=W(Ze.anchor||Ze.el),ve=le&&le[YK];return ve?W(ve):le};let J=!1;const nr=(Ze,le,ve)=>{Ze==null?le._vnode&&vt(le._vnode,null,null,!0):ee(le._vnode||null,Ze,le,null,null,null,ve),le._vnode=Ze,J||(J=!0,nZ(),AK(),J=!1)},dr={p:ee,um:vt,m:yt,r:jt,mt:Nt,mc:Ve,pc:ot,pbc:mt,n:Mn,o:r};let jo,ei;return{render:nr,hydrate:jo,createApp:wae(nr,jo)}}function F9({type:r,props:i},d){return d==="svg"&&r==="foreignObject"||d==="mathml"&&r==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:d}function Q2({effect:r,update:i},d){r.allowRecurse=i.allowRecurse=d}function Mae(r,i){return(!r||r&&!r.pendingBranch)&&i&&!i.persisted}function x$(r,i,d=!1){const m=r.children,x=i.children;if(Xo(m)&&Xo(x))for(let b=0;b<m.length;b++){const y=m[b];let S=x[b];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=x[b]=$v(x[b]),S.el=y.el),!d&&S.patchFlag!==-2&&x$(y,S)),S.type===tO&&(S.el=y.el)}}function Pae(r){const i=r.slice(),d=[0];let m,x,b,y,S;const L=r.length;for(m=0;m<L;m++){const P=r[m];if(P!==0){if(x=d[d.length-1],r[x]<P){i[m]=x,d.push(m);continue}for(b=0,y=d.length-1;b<y;)S=b+y>>1,r[d[S]]<P?b=S+1:y=S;P<r[d[b]]&&(b>0&&(i[m]=d[b-1]),d[b]=m)}}for(b=d.length,y=d[b-1];b-- >0;)d[b]=y,y=i[y];return d}function QK(r){const i=r.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:QK(i)}function fZ(r){if(r)for(let i=0;i<r.length;i++)r[i].active=!1}const Lae=Symbol.for("v-scx"),Fae=()=>xl(Lae);function Ip(r,i){return y$(r,null,i)}const cB={};function To(r,i,d){return y$(r,i,d)}function y$(r,i,{immediate:d,deep:m,flush:x,once:b,onTrack:y,onTrigger:S}=fi){if(i&&b){const oe=i;i=(...Je)=>{oe(...Je),Me()}}const L=Yl,P=oe=>m===!0?oe:Vv(oe,m===!1?1:void 0);let D,z=!1,W=!1;if(Ia(r)?(D=()=>r.value,z=ZS(r)):uw(r)?(D=()=>P(r),z=!0):Xo(r)?(W=!0,z=r.some(oe=>uw(oe)||ZS(oe)),D=()=>r.map(oe=>{if(Ia(oe))return oe.value;if(uw(oe))return P(oe);if(ur(oe))return jv(oe,L,2)})):ur(r)?i?D=()=>jv(r,L,2):D=()=>(U&&U(),rg(r,L,3,[G])):D=tg,i&&m){const oe=D;D=()=>Vv(oe())}let U,G=oe=>{U=Be.onStop=()=>{jv(oe,L,4),U=Be.onStop=void 0}},ee;if(nM)if(G=tg,i?d&&rg(i,L,3,[D(),W?[]:void 0,G]):D(),x==="sync"){const oe=Fae();ee=oe.__watcherHandles||(oe.__watcherHandles=[])}else return tg;let ye=W?new Array(r.length).fill(cB):cB;const ge=()=>{if(!(!Be.active||!Be.dirty))if(i){const oe=Be.run();(m||z||(W?oe.some((Je,Ve)=>Yv(Je,ye[Ve])):Yv(oe,ye)))&&(U&&U(),rg(i,L,3,[oe,ye===cB?void 0:W&&ye[0]===cB?[]:ye,G]),ye=oe)}else Be.run()};ge.allowRecurse=!!i;let Le;x==="sync"?Le=ge:x==="post"?Le=()=>Td(ge,L&&L.suspense):(ge.pre=!0,L&&(ge.id=L.uid),Le=()=>f$(ge));const Be=new o$(D,tg,Le),ie=iK(),Me=()=>{Be.stop(),ie&&t$(ie.effects,Be)};return i?d?ge():ye=Be.run():x==="post"?Td(Be.run.bind(Be),L&&L.suspense):Be.run(),ee&&ee.push(Me),Me}function zae(r,i,d){const m=this.proxy,x=Ki(r)?r.includes(".")?eq(m,r):()=>m[r]:r.bind(m,m);let b;ur(i)?b=i:(b=i.handler,d=i);const y=nO(this),S=y$(x,b.bind(m),d);return y(),S}function eq(r,i){const d=i.split(".");return()=>{let m=r;for(let x=0;x<d.length&&m;x++)m=m[d[x]];return m}}function Vv(r,i=1/0,d){if(i<=0||!Na(r)||r.__v_skip||(d=d||new Set,d.has(r)))return r;if(d.add(r),i--,Ia(r))Vv(r.value,i,d);else if(Xo(r))for(let m=0;m<r.length;m++)Vv(r[m],i,d);else if(Xj(r)||VS(r))r.forEach(m=>{Vv(m,i,d)});else if(eK(r)){for(const m in r)Vv(r[m],i,d);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&Vv(r[m],i,d)}return r}const Hae=(r,i)=>i==="modelValue"||i==="model-value"?r.modelModifiers:r[`${i}Modifiers`]||r[`${Ff(i)}Modifiers`]||r[`${vw(i)}Modifiers`];function $ae(r,i,...d){if(r.isUnmounted)return;const m=r.vnode.props||fi;let x=d;const b=i.startsWith("update:"),y=b&&Hae(m,i.slice(7));y&&(y.trim&&(x=d.map(D=>Ki(D)?D.trim():D)),y.number&&(x=d.map(bse)));let S,L=m[S=I9(i)]||m[S=I9(Ff(i))];!L&&b&&(L=m[S=I9(vw(i))]),L&&rg(L,r,6,x);const P=m[S+"Once"];if(P){if(!r.emitted)r.emitted={};else if(r.emitted[S])return;r.emitted[S]=!0,rg(P,r,6,x)}}function tq(r,i,d=!1){const m=i.emitsCache,x=m.get(r);if(x!==void 0)return x;const b=r.emits;let y={},S=!1;if(!ur(r)){const L=P=>{const D=tq(P,i,!0);D&&(S=!0,Dl(y,D))};!d&&i.mixins.length&&i.mixins.forEach(L),r.extends&&L(r.extends),r.mixins&&r.mixins.forEach(L)}return!b&&!S?(Na(r)&&m.set(r,null),null):(Xo(b)?b.forEach(L=>y[L]=null):Dl(y,b),Na(r)&&m.set(r,y),y)}function tM(r,i){return!r||!jB(i)?!1:(i=i.slice(2).replace(/Once$/,""),_s(r,i[0].toLowerCase()+i.slice(1))||_s(r,vw(i))||_s(r,i))}function z9(r){const{type:i,vnode:d,proxy:m,withProxy:x,propsOptions:[b],slots:y,attrs:S,emit:L,render:P,renderCache:D,props:z,data:W,setupState:U,ctx:G,inheritAttrs:ee}=r,ye=DB(r);let ge,Le;try{if(d.shapeFlag&4){const ie=x||m,Me=ie;ge=Ep(P.call(Me,ie,D,z,U,W,G)),Le=S}else{const ie=i;ge=Ep(ie.length>1?ie(z,{attrs:S,slots:y,emit:L}):ie(z,null)),Le=i.props?S:Vae(S)}}catch(ie){LT.length=0,YB(ie,r,1),ge=Te(If)}let Be=ge;if(Le&&ee!==!1){const ie=Object.keys(Le),{shapeFlag:Me}=Be;ie.length&&Me&7&&(b&&ie.some(e$)&&(Le=Uae(Le,b)),Be=Xv(Be,Le,!1,!0))}return d.dirs&&(Be=Xv(Be,null,!1,!0),Be.dirs=Be.dirs?Be.dirs.concat(d.dirs):d.dirs),d.transition&&(Be.transition=d.transition),ge=Be,DB(ye),ge}const Vae=r=>{let i;for(const d in r)(d==="class"||d==="style"||jB(d))&&((i||(i={}))[d]=r[d]);return i},Uae=(r,i)=>{const d={};for(const m in r)(!e$(m)||!(m.slice(9)in i))&&(d[m]=r[m]);return d};function Wae(r,i,d){const{props:m,children:x,component:b}=r,{props:y,children:S,patchFlag:L}=i,P=b.emitsOptions;if(i.dirs||i.transition)return!0;if(d&&L>=0){if(L&1024)return!0;if(L&16)return m?mZ(m,y,P):!!y;if(L&8){const D=i.dynamicProps;for(let z=0;z<D.length;z++){const W=D[z];if(y[W]!==m[W]&&!tM(P,W))return!0}}}else return(x||S)&&(!S||!S.$stable)?!0:m===y?!1:m?y?mZ(m,y,P):!0:!!y;return!1}function mZ(r,i,d){const m=Object.keys(i);if(m.length!==Object.keys(r).length)return!0;for(let x=0;x<m.length;x++){const b=m[x];if(i[b]!==r[b]&&!tM(d,b))return!0}return!1}function Zae({vnode:r,parent:i},d){for(;i;){const m=i.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=i.vnode).el=d,i=i.parent;else break}}const jae=r=>r.__isSuspense;function Kae(r,i){i&&i.pendingBranch?Xo(r)?i.effects.push(...r):i.effects.push(r):tae(r)}const ia=Symbol.for("v-fgt"),tO=Symbol.for("v-txt"),If=Symbol.for("v-cmt"),H9=Symbol.for("v-stc"),LT=[];let Mf=null;function kr(r=!1){LT.push(Mf=r?null:[])}function qae(){LT.pop(),Mf=LT[LT.length-1]||null}let ZT=1;function gZ(r){ZT+=r,r<0&&Mf&&(Mf.hasOnce=!0)}function nq(r){return r.dynamicChildren=ZT>0?Mf||$S:null,qae(),ZT>0&&Mf&&Mf.push(r),r}function Xl(r,i,d,m,x,b){return nq(lt(r,i,d,m,x,b,!0))}function Oi(r,i,d,m,x){return nq(Te(r,i,d,m,x,!0))}function CH(r){return r?r.__v_isVNode===!0:!1}function aw(r,i){return r.type===i.type&&r.key===i.key}const oq=({key:r})=>r??null,wB=({ref:r,ref_key:i,ref_for:d})=>(typeof r=="number"&&(r=""+r),r!=null?Ki(r)||Ia(r)||ur(r)?{i:Vu,r,k:i,f:!!d}:r:null);function lt(r,i=null,d=null,m=0,x=null,b=r===ia?0:1,y=!1,S=!1){const L={__v_isVNode:!0,__v_skip:!0,type:r,props:i,key:i&&oq(i),ref:i&&wB(i),scopeId:XB,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:m,dynamicProps:x,dynamicChildren:null,appContext:null,ctx:Vu};return S?(w$(L,d),b&128&&r.normalize(L)):d&&(L.shapeFlag|=Ki(d)?8:16),ZT>0&&!y&&Mf&&(L.patchFlag>0||b&6)&&L.patchFlag!==32&&Mf.push(L),L}const Te=Gae;function Gae(r,i=null,d=null,m=0,x=null,b=!1){if((!r||r===fae)&&(r=If),CH(r)){const S=Xv(r,i,!0);return d&&w$(S,d),ZT>0&&!b&&Mf&&(S.shapeFlag&6?Mf[Mf.indexOf(r)]=S:Mf.push(S)),S.patchFlag=-2,S}if(sie(r)&&(r=r.__vccOpts),i){i=Yae(i);let{class:S,style:L}=i;S&&!Ki(S)&&(i.class=hw(S)),Na(L)&&(xK(L)&&!Xo(L)&&(L=Dl({},L)),i.style=Wv(L))}const y=Ki(r)?1:jae(r)?128:Oae(r)?64:Na(r)?4:ur(r)?2:0;return lt(r,i,d,m,x,y,b,!0)}function Yae(r){return r?xK(r)||UK(r)?Dl({},r):r:null}function Xv(r,i,d=!1,m=!1){const{props:x,ref:b,patchFlag:y,children:S,transition:L}=r,P=i?ji(x||{},i):x,D={__v_isVNode:!0,__v_skip:!0,type:r.type,props:P,key:P&&oq(P),ref:i&&i.ref?d&&b?Xo(b)?b.concat(wB(i)):[b,wB(i)]:wB(i):b,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:S,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:i&&r.type!==ia?y===-1?16:y|16:y,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:L,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Xv(r.ssContent),ssFallback:r.ssFallback&&Xv(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return L&&m&&jS(D,L.clone(D)),D}function eg(r=" ",i=0){return Te(tO,null,r,i)}function $u(r="",i=!1){return i?(kr(),Oi(If,null,r)):Te(If,null,r)}function Ep(r){return r==null||typeof r=="boolean"?Te(If):Xo(r)?Te(ia,null,r.slice()):typeof r=="object"?$v(r):Te(tO,null,String(r))}function $v(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Xv(r)}function w$(r,i){let d=0;const{shapeFlag:m}=r;if(i==null)i=null;else if(Xo(i))d=16;else if(typeof i=="object")if(m&65){const x=i.default;x&&(x._c&&(x._d=!1),w$(r,x()),x._c&&(x._d=!0));return}else{d=32;const x=i._;!x&&!UK(i)?i._ctx=Vu:x===3&&Vu&&(Vu.slots._===1?i._=1:(i._=2,r.patchFlag|=1024))}else ur(i)?(i={default:i,_ctx:Vu},d=32):(i=String(i),m&64?(d=16,i=[eg(i)]):d=8);r.children=i,r.shapeFlag|=d}function ji(...r){const i={};for(let d=0;d<r.length;d++){const m=r[d];for(const x in m)if(x==="class")i.class!==m.class&&(i.class=hw([i.class,m.class]));else if(x==="style")i.style=Wv([i.style,m.style]);else if(jB(x)){const b=i[x],y=m[x];y&&b!==y&&!(Xo(b)&&b.includes(y))&&(i[x]=b?[].concat(b,y):y)}else x!==""&&(i[x]=m[x])}return i}function _p(r,i,d,m=null){rg(r,i,7,[d,m])}const Xae=HK();let Jae=0;function Qae(r,i,d){const m=r.type,x=(i?i.appContext:r.appContext)||Xae,b={uid:Jae++,vnode:r,type:m,parent:i,appContext:x,root:null,next:null,subTree:null,effect:null,update:null,scope:new aK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(x.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZK(m,x),emitsOptions:tq(m,x),emit:null,emitted:null,propsDefaults:fi,inheritAttrs:m.inheritAttrs,ctx:fi,data:fi,props:fi,attrs:fi,slots:fi,refs:fi,setupState:fi,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx={_:b},b.root=i?i.root:b,b.emit=$ae.bind(null,b),r.ce&&r.ce(b),b}let Yl=null;const _$=()=>Yl||Vu;let NB,SH;{const r=nK(),i=(d,m)=>{let x;return(x=r[d])||(x=r[d]=[]),x.push(m),b=>{x.length>1?x.forEach(y=>y(b)):x[0](b)}};NB=i("__VUE_INSTANCE_SETTERS__",d=>Yl=d),SH=i("__VUE_SSR_SETTERS__",d=>nM=d)}const nO=r=>{const i=Yl;return NB(r),r.scope.on(),()=>{r.scope.off(),NB(i)}},hZ=()=>{Yl&&Yl.scope.off(),NB(null)};function rq(r){return r.vnode.shapeFlag&4}let nM=!1;function eie(r,i=!1,d=!1){i&&SH(i);const{props:m,children:x}=r.vnode,b=rq(r);Cae(r,m,b,i),Aae(r,x,d);const y=b?tie(r,i):void 0;return i&&SH(!1),y}function tie(r,i){const d=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,gae);const{setup:m}=d;if(m){const x=r.setupContext=m.length>1?oie(r):null,b=nO(r);ex();const y=jv(m,r,0,[r.props,x]);if(tx(),b(),Jj(y)){if(y.then(hZ,hZ),i)return y.then(S=>{pZ(r,S,i)}).catch(S=>{YB(S,r,0)});r.asyncDep=y}else pZ(r,y,i)}else sq(r,i)}function pZ(r,i,d){ur(i)?r.type.__ssrInlineRender?r.ssrRender=i:r.render=i:Na(i)&&(r.setupState=CK(i)),sq(r,d)}let bZ;function sq(r,i,d){const m=r.type;if(!r.render){if(!i&&bZ&&!m.render){const x=m.template||b$(r).template;if(x){const{isCustomElement:b,compilerOptions:y}=r.appContext.config,{delimiters:S,compilerOptions:L}=m,P=Dl(Dl({isCustomElement:b,delimiters:S},y),L);m.render=bZ(x,P)}}r.render=m.render||tg}{const x=nO(r);ex();try{hae(r)}finally{tx(),x()}}}const nie={get(r,i){return Nd(r,"get",""),r[i]}};function oie(r){const i=d=>{r.exposed=d||{}};return{attrs:new Proxy(r.attrs,nie),slots:r.slots,emit:r.emit,expose:i}}function oM(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(CK(c$(r.exposed)),{get(i,d){if(d in i)return i[d];if(d in MT)return MT[d](r)},has(i,d){return d in i||d in MT}})):r.proxy}function rie(r,i=!0){return ur(r)?r.displayName||r.name:r.name||i&&r.__name}function sie(r){return ur(r)&&"__vccOpts"in r}const Tt=(r,i)=>Kse(r,i,nM);function Jv(r,i,d){const m=arguments.length;return m===2?Na(i)&&!Xo(i)?CH(i)?Te(r,null,[i]):Te(r,i):Te(r,null,i):(m>3?d=Array.prototype.slice.call(arguments,2):m===3&&CH(d)&&(d=[d]),Te(r,i,d))}const aie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const iie="http://www.w3.org/2000/svg",lie="http://www.w3.org/1998/Math/MathML",R0=typeof document<"u"?document:null,vZ=R0&&R0.createElement("template"),cie={insert:(r,i,d)=>{i.insertBefore(r,d||null)},remove:r=>{const i=r.parentNode;i&&i.removeChild(r)},createElement:(r,i,d,m)=>{const x=i==="svg"?R0.createElementNS(iie,r):i==="mathml"?R0.createElementNS(lie,r):d?R0.createElement(r,{is:d}):R0.createElement(r);return r==="select"&&m&&m.multiple!=null&&x.setAttribute("multiple",m.multiple),x},createText:r=>R0.createTextNode(r),createComment:r=>R0.createComment(r),setText:(r,i)=>{r.nodeValue=i},setElementText:(r,i)=>{r.textContent=i},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>R0.querySelector(r),setScopeId(r,i){r.setAttribute(i,"")},insertStaticContent(r,i,d,m,x,b){const y=d?d.previousSibling:i.lastChild;if(x&&(x===b||x.nextSibling))for(;i.insertBefore(x.cloneNode(!0),d),!(x===b||!(x=x.nextSibling)););else{vZ.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const S=vZ.content;if(m==="svg"||m==="mathml"){const L=S.firstChild;for(;L.firstChild;)S.appendChild(L.firstChild);S.removeChild(L)}i.insertBefore(S,d)}return[y?y.nextSibling:i.firstChild,d?d.previousSibling:i.lastChild]}},Mv="transition",AT="animation",KS=Symbol("_vtc"),Np=(r,{slots:i})=>Jv(rae,iq(r),i);Np.displayName="Transition";const aq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uie=Np.props=Dl({},DK,aq),ew=(r,i=[])=>{Xo(r)?r.forEach(d=>d(...i)):r&&r(...i)},xZ=r=>r?Xo(r)?r.some(i=>i.length>1):r.length>1:!1;function iq(r){const i={};for(const Ne in r)Ne in aq||(i[Ne]=r[Ne]);if(r.css===!1)return i;const{name:d="v",type:m,duration:x,enterFromClass:b=`${d}-enter-from`,enterActiveClass:y=`${d}-enter-active`,enterToClass:S=`${d}-enter-to`,appearFromClass:L=b,appearActiveClass:P=y,appearToClass:D=S,leaveFromClass:z=`${d}-leave-from`,leaveActiveClass:W=`${d}-leave-active`,leaveToClass:U=`${d}-leave-to`}=r,G=die(x),ee=G&&G[0],ye=G&&G[1],{onBeforeEnter:ge,onEnter:Le,onEnterCancelled:Be,onLeave:ie,onLeaveCancelled:Me,onBeforeAppear:oe=ge,onAppear:Je=Le,onAppearCancelled:Ve=Be}=i,Ye=(Ne,R,Nt)=>{Lv(Ne,R?D:S),Lv(Ne,R?P:y),Nt&&Nt()},mt=(Ne,R)=>{Ne._isLeaving=!1,Lv(Ne,z),Lv(Ne,U),Lv(Ne,W),R&&R()},Ee=Ne=>(R,Nt)=>{const Jt=Ne?Je:Le,pn=()=>Ye(R,Ne,Nt);ew(Jt,[R,pn]),yZ(()=>{Lv(R,Ne?L:b),D0(R,Ne?D:S),xZ(Jt)||wZ(R,m,ee,pn)})};return Dl(i,{onBeforeEnter(Ne){ew(ge,[Ne]),D0(Ne,b),D0(Ne,y)},onBeforeAppear(Ne){ew(oe,[Ne]),D0(Ne,L),D0(Ne,P)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(Ne,R){Ne._isLeaving=!0;const Nt=()=>mt(Ne,R);D0(Ne,z),D0(Ne,W),cq(),yZ(()=>{Ne._isLeaving&&(Lv(Ne,z),D0(Ne,U),xZ(ie)||wZ(Ne,m,ye,Nt))}),ew(ie,[Ne,Nt])},onEnterCancelled(Ne){Ye(Ne,!1),ew(Be,[Ne])},onAppearCancelled(Ne){Ye(Ne,!0),ew(Ve,[Ne])},onLeaveCancelled(Ne){mt(Ne),ew(Me,[Ne])}})}function die(r){if(r==null)return null;if(Na(r))return[$9(r.enter),$9(r.leave)];{const i=$9(r);return[i,i]}}function $9(r){return vse(r)}function D0(r,i){i.split(/\s+/).forEach(d=>d&&r.classList.add(d)),(r[KS]||(r[KS]=new Set)).add(i)}function Lv(r,i){i.split(/\s+/).forEach(m=>m&&r.classList.remove(m));const d=r[KS];d&&(d.delete(i),d.size||(r[KS]=void 0))}function yZ(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let fie=0;function wZ(r,i,d,m){const x=r._endId=++fie,b=()=>{x===r._endId&&m()};if(d)return setTimeout(b,d);const{type:y,timeout:S,propCount:L}=lq(r,i);if(!y)return m();const P=y+"end";let D=0;const z=()=>{r.removeEventListener(P,W),b()},W=U=>{U.target===r&&++D>=L&&z()};setTimeout(()=>{D<L&&z()},S+1),r.addEventListener(P,W)}function lq(r,i){const d=window.getComputedStyle(r),m=G=>(d[G]||"").split(", "),x=m(`${Mv}Delay`),b=m(`${Mv}Duration`),y=_Z(x,b),S=m(`${AT}Delay`),L=m(`${AT}Duration`),P=_Z(S,L);let D=null,z=0,W=0;i===Mv?y>0&&(D=Mv,z=y,W=b.length):i===AT?P>0&&(D=AT,z=P,W=L.length):(z=Math.max(y,P),D=z>0?y>P?Mv:AT:null,W=D?D===Mv?b.length:L.length:0);const U=D===Mv&&/\b(transform|all)(,|$)/.test(m(`${Mv}Property`).toString());return{type:D,timeout:z,propCount:W,hasTransform:U}}function _Z(r,i){for(;r.length<i.length;)r=r.concat(r);return Math.max(...i.map((d,m)=>CZ(d)+CZ(r[m])))}function CZ(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function cq(){return document.body.offsetHeight}function mie(r,i,d){const m=r[KS];m&&(i=(i?[i,...m]:[...m]).join(" ")),i==null?r.removeAttribute("class"):d?r.setAttribute("class",i):r.className=i}const IB=Symbol("_vod"),uq=Symbol("_vsh"),$r={beforeMount(r,{value:i},{transition:d}){r[IB]=r.style.display==="none"?"":r.style.display,d&&i?d.beforeEnter(r):TT(r,i)},mounted(r,{value:i},{transition:d}){d&&i&&d.enter(r)},updated(r,{value:i,oldValue:d},{transition:m}){!i!=!d&&(m?i?(m.beforeEnter(r),TT(r,!0),m.enter(r)):m.leave(r,()=>{TT(r,!1)}):TT(r,i))},beforeUnmount(r,{value:i}){TT(r,i)}};function TT(r,i){r.style.display=i?r[IB]:"none",r[uq]=!i}const gie=Symbol(""),hie=/(^|;)\s*display\s*:/;function pie(r,i,d){const m=r.style,x=Ki(d);let b=!1;if(d&&!x){if(i)if(Ki(i))for(const y of i.split(";")){const S=y.slice(0,y.indexOf(":")).trim();d[S]==null&&_B(m,S,"")}else for(const y in i)d[y]==null&&_B(m,y,"");for(const y in d)y==="display"&&(b=!0),_B(m,y,d[y])}else if(x){if(i!==d){const y=m[gie];y&&(d+=";"+y),m.cssText=d,b=hie.test(d)}}else i&&r.removeAttribute("style");IB in r&&(r[IB]=b?m.display:"",r[uq]&&(m.display="none"))}const SZ=/\s*!important$/;function _B(r,i,d){if(Xo(d))d.forEach(m=>_B(r,i,m));else if(d==null&&(d=""),i.startsWith("--"))r.setProperty(i,d);else{const m=bie(r,i);SZ.test(d)?r.setProperty(vw(m),d.replace(SZ,""),"important"):r[m]=d}}const kZ=["Webkit","Moz","ms"],V9={};function bie(r,i){const d=V9[i];if(d)return d;let m=Ff(i);if(m!=="filter"&&m in r)return V9[i]=m;m=JS(m);for(let x=0;x<kZ.length;x++){const b=kZ[x]+m;if(b in r)return V9[i]=b}return i}const EZ="http://www.w3.org/1999/xlink";function AZ(r,i,d,m,x,b=Sse(i)){m&&i.startsWith("xlink:")?d==null?r.removeAttributeNS(EZ,i.slice(6,i.length)):r.setAttributeNS(EZ,i,d):d==null||b&&!oK(d)?r.removeAttribute(i):r.setAttribute(i,b?"":Qv(d)?String(d):d)}function vie(r,i,d,m){if(i==="innerHTML"||i==="textContent"){if(d==null)return;r[i]=d;return}const x=r.tagName;if(i==="value"&&x!=="PROGRESS"&&!x.includes("-")){const y=x==="OPTION"?r.getAttribute("value")||"":r.value,S=d==null?"":String(d);(y!==S||!("_value"in r))&&(r.value=S),d==null&&r.removeAttribute(i),r._value=d;return}let b=!1;if(d===""||d==null){const y=typeof r[i];y==="boolean"?d=oK(d):d==null&&y==="string"?(d="",b=!0):y==="number"&&(d=0,b=!0)}try{r[i]=d}catch{}b&&r.removeAttribute(i)}function xie(r,i,d,m){r.addEventListener(i,d,m)}function yie(r,i,d,m){r.removeEventListener(i,d,m)}const TZ=Symbol("_vei");function wie(r,i,d,m,x=null){const b=r[TZ]||(r[TZ]={}),y=b[i];if(m&&y)y.value=m;else{const[S,L]=_ie(i);if(m){const P=b[i]=kie(m,x);xie(r,S,P,L)}else y&&(yie(r,S,y,L),b[i]=void 0)}}const OZ=/(?:Once|Passive|Capture)$/;function _ie(r){let i;if(OZ.test(r)){i={};let m;for(;m=r.match(OZ);)r=r.slice(0,r.length-m[0].length),i[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):vw(r.slice(2)),i]}let U9=0;const Cie=Promise.resolve(),Sie=()=>U9||(Cie.then(()=>U9=0),U9=Date.now());function kie(r,i){const d=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=d.attached)return;rg(Eie(m,d.value),i,5,[m])};return d.value=r,d.attached=Sie(),d}function Eie(r,i){if(Xo(i)){const d=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{d.call(r),r._stopped=!0},i.map(m=>x=>!x._stopped&&m&&m(x))}else return i}const DZ=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,Aie=(r,i,d,m,x,b)=>{const y=x==="svg";i==="class"?mie(r,m,y):i==="style"?pie(r,d,m):jB(i)?e$(i)||wie(r,i,d,m,b):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):Tie(r,i,m,y))?(vie(r,i,m),!r.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&AZ(r,i,m,y,b,i!=="value")):(i==="true-value"?r._trueValue=m:i==="false-value"&&(r._falseValue=m),AZ(r,i,m,y))};function Tie(r,i,d,m){if(m)return!!(i==="innerHTML"||i==="textContent"||i in r&&DZ(i)&&ur(d));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&r.tagName==="INPUT"||i==="type"&&r.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const x=r.tagName;if(x==="IMG"||x==="VIDEO"||x==="CANVAS"||x==="SOURCE")return!1}return DZ(i)&&Ki(d)?!1:i in r}const dq=new WeakMap,fq=new WeakMap,BB=Symbol("_moveCb"),RZ=Symbol("_enterCb"),mq={name:"TransitionGroup",props:Dl({},uie,{tag:String,moveClass:String}),setup(r,{slots:i}){const d=_$(),m=OK();let x,b;return p$(()=>{if(!x.length)return;const y=r.moveClass||`${r.name||"v"}-move`;if(!Iie(x[0].el,d.vnode.el,y))return;x.forEach(Die),x.forEach(Rie);const S=x.filter(Nie);cq(),S.forEach(L=>{const P=L.el,D=P.style;D0(P,y),D.transform=D.webkitTransform=D.transitionDuration="";const z=P[BB]=W=>{W&&W.target!==P||(!W||/transform$/.test(W.propertyName))&&(P.removeEventListener("transitionend",z),P[BB]=null,Lv(P,y))};P.addEventListener("transitionend",z)})}),()=>{const y=ko(r),S=iq(y);let L=y.tag||ia;if(x=[],b)for(let P=0;P<b.length;P++){const D=b[P];D.el&&D.el instanceof Element&&(x.push(D),jS(D,UT(D,S,m,d)),dq.set(D,D.el.getBoundingClientRect()))}b=i.default?m$(i.default()):[];for(let P=0;P<b.length;P++){const D=b[P];D.key!=null&&jS(D,UT(D,S,m,d))}return Te(L,null,b)}}},Oie=r=>delete r.mode;mq.props;const C$=mq;function Die(r){const i=r.el;i[BB]&&i[BB](),i[RZ]&&i[RZ]()}function Rie(r){fq.set(r,r.el.getBoundingClientRect())}function Nie(r){const i=dq.get(r),d=fq.get(r),m=i.left-d.left,x=i.top-d.top;if(m||x){const b=r.el.style;return b.transform=b.webkitTransform=`translate(${m}px,${x}px)`,b.transitionDuration="0s",r}}function Iie(r,i,d){const m=r.cloneNode(),x=r[KS];x&&x.forEach(S=>{S.split(/\s+/).forEach(L=>L&&m.classList.remove(L))}),d.split(/\s+/).forEach(S=>S&&m.classList.add(S)),m.style.display="none";const b=i.nodeType===1?i:i.parentNode;b.appendChild(m);const{hasTransform:y}=lq(m);return b.removeChild(m),y}const Bie=Dl({patchProp:Aie},cie);let NZ;function Mie(){return NZ||(NZ=Iae(Bie))}const Pie=(...r)=>{const i=Mie().createApp(...r),{mount:d}=i;return i.mount=m=>{const x=Fie(m);if(!x)return;const b=i._component;!ur(b)&&!b.render&&!b.template&&(b.template=x.innerHTML),x.innerHTML="";const y=d(x,!1,Lie(x));return x instanceof Element&&(x.removeAttribute("v-cloak"),x.setAttribute("data-v-app","")),y},i};function Lie(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Fie(r){return Ki(r)?document.querySelector(r):r}function P0(r,i){let d;function m(){d=JT(),d.run(()=>i.length?i(()=>{d==null||d.stop(),m()}):i())}To(r,x=>{x&&!d?m():x||(d==null||d.stop(),d=void 0)},{immediate:!0}),zf(()=>{d==null||d.stop()})}const mi=typeof window<"u",S$=mi&&"IntersectionObserver"in window,zie=mi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function IZ(r,i,d){Hie(r,i),i.set(r,d)}function Hie(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $ie(r,i,d){return r.set(gq(r,i),d),d}function tw(r,i){return r.get(gq(r,i))}function gq(r,i,d){if(typeof r=="function"?r===i:r.has(i))return arguments.length<3?i:d;throw new TypeError("Private element is not present on this object")}function hq(r,i,d){const m=i.length-1;if(m<0)return r===void 0?d:r;for(let x=0;x<m;x++){if(r==null)return d;r=r[i[x]]}return r==null||r[i[m]]===void 0?d:r[i[m]]}function rM(r,i){if(r===i)return!0;if(r instanceof Date&&i instanceof Date&&r.getTime()!==i.getTime()||r!==Object(r)||i!==Object(i))return!1;const d=Object.keys(r);return d.length!==Object.keys(i).length?!1:d.every(m=>rM(r[m],i[m]))}function kH(r,i,d){return r==null||!i||typeof i!="string"?d:r[i]!==void 0?r[i]:(i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,""),hq(r,i.split("."),d))}function OT(r,i,d){if(i===!0)return r===void 0?d:r;if(i==null||typeof i=="boolean")return d;if(r!==Object(r)){if(typeof i!="function")return d;const x=i(r,d);return typeof x>"u"?d:x}if(typeof i=="string")return kH(r,i,d);if(Array.isArray(i))return hq(r,i,d);if(typeof i!="function")return d;const m=i(r,d);return typeof m>"u"?d:m}function pq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:r},(d,m)=>i+m)}function br(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(r==null||r===""))return isNaN(+r)?String(r):isFinite(+r)?`${Number(r)}${i}`:void 0}function Vie(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function BZ(r){let i;return r!==null&&typeof r=="object"&&((i=Object.getPrototypeOf(r))===Object.prototype||i===null)}function Uie(r){if(r&&"$el"in r){const i=r.$el;return(i==null?void 0:i.nodeType)===Node.TEXT_NODE?i.nextElementSibling:i}return r}const MZ=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function W9(r,i){return i.every(d=>r.hasOwnProperty(d))}function Wie(r,i){const d={},m=new Set(Object.keys(r));for(const x of i)m.has(x)&&(d[x]=r[x]);return d}function Zie(r,i){const d={...r};return i.forEach(m=>delete d[m]),d}const jie=/^on[^a-z]/,bq=r=>jie.test(r);function k$(r){return r==null?[]:Array.isArray(r)?r:[r]}function qS(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(i,Math.min(d,r))}function PZ(r,i){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return r+d.repeat(Math.max(0,i-r.length))}function LZ(r,i){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,i-r.length))+r}function Kie(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const d=[];let m=0;for(;m<r.length;)d.push(r.substr(m,i)),m+=i;return d}function Pf(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;const m={};for(const x in r)m[x]=r[x];for(const x in i){const b=r[x],y=i[x];if(BZ(b)&&BZ(y)){m[x]=Pf(b,y,d);continue}if(d&&Array.isArray(b)&&Array.isArray(y)){m[x]=d(b,y);continue}m[x]=y}return m}function vq(r){return r.map(i=>i.type===ia?vq(i.children):i).flat()}function fw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(fw.cache.has(r))return fw.cache.get(r);const i=r.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return fw.cache.set(r,i),i}fw.cache=new Map;function FS(r,i){if(!i||typeof i!="object")return[];if(Array.isArray(i))return i.map(d=>FS(r,d)).flat(1);if(i.suspense)return FS(r,i.ssContent);if(Array.isArray(i.children))return i.children.map(d=>FS(r,d)).flat(1);if(i.component){if(Object.getOwnPropertySymbols(i.component.provides).includes(r))return[i.component];if(i.component.subTree)return FS(r,i.component.subTree).flat(1)}return[]}var uB=new WeakMap,RS=new WeakMap;class qie{constructor(i){IZ(this,uB,[]),IZ(this,RS,0),this.size=i}push(i){tw(uB,this)[tw(RS,this)]=i,$ie(RS,this,(tw(RS,this)+1)%this.size)}values(){return tw(uB,this).slice(tw(RS,this)).concat(tw(uB,this).slice(0,tw(RS,this)))}}function E$(r){const i=tu({}),d=Tt(r);return Ip(()=>{for(const m in d.value)i[m]=d.value[m]},{flush:"sync"}),eO(i)}function MB(r,i){return r.includes(i)}function xq(r){return r[2].toLowerCase()+r.slice(3)}const FT=()=>[Function,Array];function FZ(r,i){return i="on"+JS(i),!!(r[i]||r[`${i}Once`]||r[`${i}Capture`]||r[`${i}OnceCapture`]||r[`${i}CaptureOnce`])}function yq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const d=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${i?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...r.querySelectorAll(d)]}function Gie(r,i,d){let m,x=r.indexOf(document.activeElement);const b=i==="next"?1:-1;do x+=b,m=r[x];while((!m||m.offsetParent==null)&&x<r.length&&x>=0);return m}function wq(r,i){var m,x,b,y;const d=yq(r);if(!i)(r===document.activeElement||!r.contains(document.activeElement))&&((m=d[0])==null||m.focus());else if(i==="first")(x=d[0])==null||x.focus();else if(i==="last")(b=d.at(-1))==null||b.focus();else if(typeof i=="number")(y=d[i])==null||y.focus();else{const S=Gie(d,i);S?S.focus():wq(r,i==="next"?"first":"last")}}function Yie(r,i){if(!(mi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${i})`)))return null;try{return!!r&&r.matches(i)}catch{return null}}function Xie(r,i){if(!mi||r===0)return i(),()=>{};const d=window.setTimeout(i,r);return()=>window.clearTimeout(d)}function EH(){const r=Rr(),i=d=>{r.value=d};return Object.defineProperty(i,"value",{enumerable:!0,get:()=>r.value,set:d=>r.value=d}),Object.defineProperty(i,"el",{enumerable:!0,get:()=>Uie(r.value)}),i}const _q=["top","bottom"],Jie=["start","end","left","right"];function AH(r,i){let[d,m]=r.split(" ");return m||(m=MB(_q,d)?"start":MB(Jie,d)?"top":"center"),{side:TH(d,i),align:TH(m,i)}}function TH(r,i){return r==="start"?i?"right":"left":r==="end"?i?"left":"right":r}function Z9(r){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.side],align:r.align}}function j9(r){return{side:r.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.align]}}function zZ(r){return{side:r.align,align:r.side}}function HZ(r){return MB(_q,r.side)?"y":"x"}class mw{constructor(i){let{x:d,y:m,width:x,height:b}=i;this.x=d,this.y=m,this.width=x,this.height=b}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function $Z(r,i){return{x:{before:Math.max(0,i.left-r.left),after:Math.max(0,r.right-i.right)},y:{before:Math.max(0,i.top-r.top),after:Math.max(0,r.bottom-i.bottom)}}}function Cq(r){return Array.isArray(r)?new mw({x:r[0],y:r[1],width:0,height:0}):r.getBoundingClientRect()}function Sq(r){const i=r.getBoundingClientRect(),d=getComputedStyle(r),m=d.transform;if(m){let x,b,y,S,L;if(m.startsWith("matrix3d("))x=m.slice(9,-1).split(/, /),b=+x[0],y=+x[5],S=+x[12],L=+x[13];else if(m.startsWith("matrix("))x=m.slice(7,-1).split(/, /),b=+x[0],y=+x[3],S=+x[4],L=+x[5];else return new mw(i);const P=d.transformOrigin,D=i.x-S-(1-b)*parseFloat(P),z=i.y-L-(1-y)*parseFloat(P.slice(P.indexOf(" ")+1)),W=b?i.width/b:r.offsetWidth+1,U=y?i.height/y:r.offsetHeight+1;return new mw({x:D,y:z,width:W,height:U})}else return new mw(i)}function IT(r,i,d){if(typeof r.animate>"u")return{finished:Promise.resolve()};let m;try{m=r.animate(i,d)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(x=>{m.onfinish=()=>{x(m)}})),m}const CB=new WeakMap;function Qie(r,i){Object.keys(i).forEach(d=>{if(bq(d)){const m=xq(d),x=CB.get(r);if(i[d]==null)x==null||x.forEach(b=>{const[y,S]=b;y===m&&(r.removeEventListener(m,S),x.delete(b))});else if(!x||![...x].some(b=>b[0]===m&&b[1]===i[d])){r.addEventListener(m,i[d]);const b=x||new Set;b.add([m,i[d]]),CB.has(r)||CB.set(r,b)}}else i[d]==null?r.removeAttribute(d):r.setAttribute(d,i[d])})}function ele(r,i){Object.keys(i).forEach(d=>{if(bq(d)){const m=xq(d),x=CB.get(r);x==null||x.forEach(b=>{const[y,S]=b;y===m&&(r.removeEventListener(m,S),x.delete(b))})}else r.removeAttribute(d)})}const NS=2.4,VZ=.2126729,UZ=.7151522,WZ=.072175,tle=.55,nle=.58,ole=.57,rle=.62,dB=.03,ZZ=1.45,sle=5e-4,ale=1.25,ile=1.25,jZ=.078,KZ=12.82051282051282,fB=.06,qZ=.001;function GZ(r,i){const d=(r.r/255)**NS,m=(r.g/255)**NS,x=(r.b/255)**NS,b=(i.r/255)**NS,y=(i.g/255)**NS,S=(i.b/255)**NS;let L=d*VZ+m*UZ+x*WZ,P=b*VZ+y*UZ+S*WZ;if(L<=dB&&(L+=(dB-L)**ZZ),P<=dB&&(P+=(dB-P)**ZZ),Math.abs(P-L)<sle)return 0;let D;if(P>L){const z=(P**tle-L**nle)*ale;D=z<qZ?0:z<jZ?z-z*KZ*fB:z-fB}else{const z=(P**rle-L**ole)*ile;D=z>-qZ?0:z>-jZ?z-z*KZ*fB:z+fB}return D*100}function lle(r,i){i=Array.isArray(i)?i.slice(0,-1).map(d=>`'${d}'`).join(", ")+` or '${i.at(-1)}'`:`'${i}'`}const PB=.20689655172413793,cle=r=>r>PB**3?Math.cbrt(r):r/(3*PB**2)+4/29,ule=r=>r>PB?r**3:3*PB**2*(r-4/29);function kq(r){const i=cle,d=i(r[1]);return[116*d-16,500*(i(r[0]/.95047)-d),200*(d-i(r[2]/1.08883))]}function Eq(r){const i=ule,d=(r[0]+16)/116;return[i(d+r[1]/500)*.95047,i(d),i(d-r[2]/200)*1.08883]}const dle=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],fle=r=>r<=.0031308?r*12.92:1.055*r**(1/2.4)-.055,mle=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],gle=r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4;function Aq(r){const i=Array(3),d=fle,m=dle;for(let x=0;x<3;++x)i[x]=Math.round(qS(d(m[x][0]*r[0]+m[x][1]*r[1]+m[x][2]*r[2]))*255);return{r:i[0],g:i[1],b:i[2]}}function A$(r){let{r:i,g:d,b:m}=r;const x=[0,0,0],b=gle,y=mle;i=b(i/255),d=b(d/255),m=b(m/255);for(let S=0;S<3;++S)x[S]=y[S][0]*i+y[S][1]*d+y[S][2]*m;return x}function OH(r){return!!r&&/^(#|var\(--|(rgb|hsl)a?\()/.test(r)}function hle(r){return OH(r)&&!/^((rgb|hsl)a?\()?var\(--/.test(r)}const YZ=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,ple={rgb:(r,i,d,m)=>({r,g:i,b:d,a:m}),rgba:(r,i,d,m)=>({r,g:i,b:d,a:m}),hsl:(r,i,d,m)=>XZ({h:r,s:i,l:d,a:m}),hsla:(r,i,d,m)=>XZ({h:r,s:i,l:d,a:m}),hsv:(r,i,d,m)=>jT({h:r,s:i,v:d,a:m}),hsva:(r,i,d,m)=>jT({h:r,s:i,v:d,a:m})};function Tp(r){if(typeof r=="number")return{r:(r&16711680)>>16,g:(r&65280)>>8,b:r&255};if(typeof r=="string"&&YZ.test(r)){const{groups:i}=r.match(YZ),{fn:d,values:m}=i,x=m.split(/,\s*/).map(b=>b.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(d)?parseFloat(b)/100:parseFloat(b));return ple[d](...x)}else if(typeof r=="string"){let i=r.startsWith("#")?r.slice(1):r;return[3,4].includes(i.length)?i=i.split("").map(d=>d+d).join(""):[6,8].includes(i.length),vle(i)}else if(typeof r=="object"){if(W9(r,["r","g","b"]))return r;if(W9(r,["h","s","l"]))return jT(Tq(r));if(W9(r,["h","s","v"]))return jT(r)}throw new TypeError(`Invalid color: ${r==null?r:String(r)||r.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function jT(r){const{h:i,s:d,v:m,a:x}=r,b=S=>{const L=(S+i/60)%6;return m-m*d*Math.max(Math.min(L,4-L,1),0)},y=[b(5),b(3),b(1)].map(S=>Math.round(S*255));return{r:y[0],g:y[1],b:y[2],a:x}}function XZ(r){return jT(Tq(r))}function Tq(r){const{h:i,s:d,l:m,a:x}=r,b=m+d*Math.min(m,1-m),y=b===0?0:2-2*m/b;return{h:i,s:y,v:b,a:x}}function mB(r){const i=Math.round(r).toString(16);return("00".substr(0,2-i.length)+i).toUpperCase()}function ble(r){let{r:i,g:d,b:m,a:x}=r;return`#${[mB(i),mB(d),mB(m),x!==void 0?mB(Math.round(x*255)):""].join("")}`}function vle(r){r=xle(r);let[i,d,m,x]=Kie(r,2).map(b=>parseInt(b,16));return x=x===void 0?x:x/255,{r:i,g:d,b:m,a:x}}function xle(r){return r.startsWith("#")&&(r=r.slice(1)),r=r.replace(/([^0-9a-f])/gi,"F"),(r.length===3||r.length===4)&&(r=r.split("").map(i=>i+i).join("")),r.length!==6&&(r=PZ(PZ(r,6),8,"F")),r}function yle(r,i){const d=kq(A$(r));return d[0]=d[0]+i*10,Aq(Eq(d))}function wle(r,i){const d=kq(A$(r));return d[0]=d[0]-i*10,Aq(Eq(d))}function _le(r){const i=Tp(r);return A$(i)[1]}function Oq(r){const i=Math.abs(GZ(Tp(0),Tp(r)));return Math.abs(GZ(Tp(16777215),Tp(r)))>Math.min(i,50)?"#fff":"#000"}function ho(r,i){return d=>Object.keys(r).reduce((m,x)=>{const y=typeof r[x]=="object"&&r[x]!=null&&!Array.isArray(r[x])?r[x]:{type:r[x]};return d&&x in d?m[x]={...y,default:d[x]}:m[x]=y,i&&!m[x].source&&(m[x].source=i),m},{})}const ya=ho({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Rl(r,i){const d=_$();if(!d)throw new Error(`[Vuetify] ${r} must be called from inside a setup function`);return d}function nx(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const i=Rl(r).type;return fw((i==null?void 0:i.aliasName)||(i==null?void 0:i.name))}let Dq=0,SB=new WeakMap;function oO(){const r=Rl("getUid");if(SB.has(r))return SB.get(r);{const i=Dq++;return SB.set(r,i),i}}oO.reset=()=>{Dq=0,SB=new WeakMap};function Cle(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rl("injectSelf");const{provides:d}=i;if(d&&r in d)return d[r]}const GS=Symbol.for("vuetify:defaults");function Sle(r){return tr(r)}function T$(){const r=xl(GS);if(!r)throw new Error("[Vuetify] Could not find defaults instance");return r}function QS(r,i){const d=T$(),m=tr(r),x=Tt(()=>{if(et(i==null?void 0:i.disabled))return d.value;const y=et(i==null?void 0:i.scoped),S=et(i==null?void 0:i.reset),L=et(i==null?void 0:i.root);if(m.value==null&&!(y||S||L))return d.value;let P=Pf(m.value,{prev:d.value});if(y)return P;if(S||L){const D=Number(S||1/0);for(let z=0;z<=D&&!(!P||!("prev"in P));z++)P=P.prev;return P&&typeof L=="string"&&L in P&&(P=Pf(Pf(P,{prev:P}),P[L])),P}return P.prev?Pf(P.prev,P):P});return Hf(GS,x),x}function kle(r,i){var d,m;return typeof((d=r.props)==null?void 0:d[i])<"u"||typeof((m=r.props)==null?void 0:m[fw(i)])<"u"}function Ele(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T$();const m=Rl("useDefaults");if(i=i??m.type.name??m.type.__name,!i)throw new Error("[Vuetify] Could not determine component name");const x=Tt(()=>{var L;return(L=d.value)==null?void 0:L[r._as??i]}),b=new Proxy(r,{get(L,P){var z,W,U,G,ee,ye,ge;const D=Reflect.get(L,P);return P==="class"||P==="style"?[(z=x.value)==null?void 0:z[P],D].filter(Le=>Le!=null):typeof P=="string"&&!kle(m.vnode,P)?((W=x.value)==null?void 0:W[P])!==void 0?(U=x.value)==null?void 0:U[P]:((ee=(G=d.value)==null?void 0:G.global)==null?void 0:ee[P])!==void 0?(ge=(ye=d.value)==null?void 0:ye.global)==null?void 0:ge[P]:D:D}}),y=Rr();Ip(()=>{if(x.value){const L=Object.entries(x.value).filter(P=>{let[D]=P;return D.startsWith(D[0].toUpperCase())});y.value=L.length?Object.fromEntries(L):void 0}else y.value=void 0});function S(){const L=Cle(GS,m);Hf(GS,Tt(()=>y.value?Pf((L==null?void 0:L.value)??{},y.value):L==null?void 0:L.value))}return{props:b,provideSubDefaults:S}}function ek(r){if(r._setup=r._setup??r.setup,!r.name)return r;if(r._setup){r.props=ho(r.props??{},r.name)();const i=Object.keys(r.props).filter(d=>d!=="class"&&d!=="style");r.filterProps=function(m){return Wie(m,i)},r.props._as=String,r.setup=function(m,x){const b=T$();if(!b.value)return r._setup(m,x);const{props:y,provideSubDefaults:S}=Ele(m,m._as??r.name,b),L=r._setup(y,x);return S(),L}}return r}function Gr(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i=>(r?ek:IK)(i)}function O$(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",d=arguments.length>2?arguments[2]:void 0;return Gr()({name:d??JS(Ff(r.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...ya()},setup(m,x){let{slots:b}=x;return()=>{var y;return Jv(m.tag,{class:[r,m.class],style:m.style},(y=b.default)==null?void 0:y.call(b))}}})}function Rq(r){if(typeof r.getRootNode!="function"){for(;r.parentNode;)r=r.parentNode;return r!==document?null:document}const i=r.getRootNode();return i!==document&&i.getRootNode({composed:!0})!==document?null:i}const DH="cubic-bezier(0.4, 0, 0.2, 1)",Ale="cubic-bezier(0.0, 0, 0.2, 1)",Tle="cubic-bezier(0.4, 0, 1, 1)";function Ole(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;r;){if(i?Dle(r):D$(r))return r;r=r.parentElement}return document.scrollingElement}function LB(r,i){const d=[];if(i&&r&&!i.contains(r))return d;for(;r&&(D$(r)&&d.push(r),r!==i);)r=r.parentElement;return d}function D$(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return i.overflowY==="scroll"||i.overflowY==="auto"&&r.scrollHeight>r.clientHeight}function Dle(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return["scroll","auto"].includes(i.overflowY)}function Rle(r){for(;r;){if(window.getComputedStyle(r).position==="fixed")return!0;r=r.offsetParent}return!1}function Ks(r){const i=Rl("useRender");i.render=r}function Dp(r,i,d){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z=>z,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:z=>z;const b=Rl("useProxiedModel"),y=tr(r[i]!==void 0?r[i]:d),S=fw(i),P=Tt(S!==i?()=>{var z,W,U,G;return r[i],!!(((z=b.vnode.props)!=null&&z.hasOwnProperty(i)||(W=b.vnode.props)!=null&&W.hasOwnProperty(S))&&((U=b.vnode.props)!=null&&U.hasOwnProperty(`onUpdate:${i}`)||(G=b.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var z,W;return r[i],!!((z=b.vnode.props)!=null&&z.hasOwnProperty(i)&&((W=b.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${i}`)))});P0(()=>!P.value,()=>{To(()=>r[i],z=>{y.value=z})});const D=Tt({get(){const z=r[i];return m(P.value?z:y.value)},set(z){const W=x(z),U=ko(P.value?r[i]:y.value);U===W||m(U)===z||(y.value=W,b==null||b.emit(`update:${i}`,W))}});return Object.defineProperty(D,"externalValue",{get:()=>P.value?r[i]:y.value}),D}const Nle={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},JZ="$vuetify.",QZ=(r,i)=>r.replace(/\{(\d+)\}/g,(d,m)=>String(i[+m])),Nq=(r,i,d)=>function(m){for(var x=arguments.length,b=new Array(x>1?x-1:0),y=1;y<x;y++)b[y-1]=arguments[y];if(!m.startsWith(JZ))return QZ(m,b);const S=m.replace(JZ,""),L=r.value&&d.value[r.value],P=i.value&&d.value[i.value];let D=kH(L,S,null);return D||(`${m}${r.value}`,D=kH(P,S,null)),D||(D=m),typeof D!="string"&&(D=m),QZ(D,b)};function Iq(r,i){return(d,m)=>new Intl.NumberFormat([r.value,i.value],m).format(d)}function K9(r,i,d){const m=Dp(r,i,r[i]??d.value);return m.value=r[i]??d.value,To(d,x=>{r[i]==null&&(m.value=d.value)}),m}function Bq(r){return i=>{const d=K9(i,"locale",r.current),m=K9(i,"fallback",r.fallback),x=K9(i,"messages",r.messages);return{name:"vuetify",current:d,fallback:m,messages:x,t:Nq(d,m,x),n:Iq(d,m),provide:Bq({current:d,fallback:m,messages:x})}}}function Ile(r){const i=Rr((r==null?void 0:r.locale)??"en"),d=Rr((r==null?void 0:r.fallback)??"en"),m=tr({en:Nle,...r==null?void 0:r.messages});return{name:"vuetify",current:i,fallback:d,messages:m,t:Nq(i,d,m),n:Iq(i,d),provide:Bq({current:i,fallback:d,messages:m})}}const RH=Symbol.for("vuetify:locale");function Ble(r){return r.name!=null}function Mle(r){const i=r!=null&&r.adapter&&Ble(r==null?void 0:r.adapter)?r==null?void 0:r.adapter:Ile(r),d=Lle(i,r);return{...i,...d}}function Ple(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Lle(r,i){const d=tr((i==null?void 0:i.rtl)??Ple()),m=Tt(()=>d.value[r.current.value]??!1);return{isRtl:m,rtl:d,rtlClasses:Tt(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function tk(){const r=xl(RH);if(!r)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:r.isRtl,rtlClasses:r.rtlClasses}}const sM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Fle(r,i,d){const m=[];let x=[];const b=Mq(r),y=Pq(r),S=d??sM[i.slice(-2).toUpperCase()]??0,L=(b.getDay()-S+7)%7,P=(y.getDay()-S+7)%7;for(let D=0;D<L;D++){const z=new Date(b);z.setDate(z.getDate()-(L-D)),x.push(z)}for(let D=1;D<=y.getDate();D++){const z=new Date(r.getFullYear(),r.getMonth(),D);x.push(z),x.length===7&&(m.push(x),x=[])}for(let D=1;D<7-P;D++){const z=new Date(y);z.setDate(z.getDate()+D),x.push(z)}return x.length>0&&m.push(x),m}function zle(r,i,d){const m=d??sM[i.slice(-2).toUpperCase()]??0,x=new Date(r);for(;x.getDay()!==m;)x.setDate(x.getDate()-1);return x}function Hle(r,i){const d=new Date(r),m=((sM[i.slice(-2).toUpperCase()]??0)+6)%7;for(;d.getDay()!==m;)d.setDate(d.getDate()+1);return d}function Mq(r){return new Date(r.getFullYear(),r.getMonth(),1)}function Pq(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function $le(r){const i=r.split("-").map(Number);return new Date(i[0],i[1]-1,i[2])}const Vle=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Lq(r){if(r==null)return new Date;if(r instanceof Date)return r;if(typeof r=="string"){let i;if(Vle.test(r))return $le(r);if(i=Date.parse(r),!isNaN(i))return new Date(i)}return null}const ej=new Date(2e3,0,2);function Ule(r,i){const d=i??sM[r.slice(-2).toUpperCase()]??0;return pq(7).map(m=>{const x=new Date(ej);return x.setDate(ej.getDate()+d+m),new Intl.DateTimeFormat(r,{weekday:"narrow"}).format(x)})}function Wle(r,i,d,m){const x=Lq(r)??new Date,b=m==null?void 0:m[i];if(typeof b=="function")return b(x,i,d);let y={};switch(i){case"fullDate":y={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":y={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=x.getDate(),L=new Intl.DateTimeFormat(d,{month:"long"}).format(x);return`${S} ${L}`;case"normalDateWithWeekday":y={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":y={month:"short",day:"numeric"};break;case"year":y={year:"numeric"};break;case"month":y={month:"long"};break;case"monthShort":y={month:"short"};break;case"monthAndYear":y={month:"long",year:"numeric"};break;case"monthAndDate":y={month:"long",day:"numeric"};break;case"weekday":y={weekday:"long"};break;case"weekdayShort":y={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(d).format(x.getDate());case"hours12h":y={hour:"numeric",hour12:!0};break;case"hours24h":y={hour:"numeric",hour12:!1};break;case"minutes":y={minute:"numeric"};break;case"seconds":y={second:"numeric"};break;case"fullTime":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":y={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:y=b??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(d,y).format(x)}function Zle(r,i){const d=r.toJsDate(i),m=d.getFullYear(),x=LZ(String(d.getMonth()+1),2,"0"),b=LZ(String(d.getDate()),2,"0");return`${m}-${x}-${b}`}function jle(r){const[i,d,m]=r.split("-").map(Number);return new Date(i,d-1,m)}function Kle(r,i){const d=new Date(r);return d.setMinutes(d.getMinutes()+i),d}function qle(r,i){const d=new Date(r);return d.setHours(d.getHours()+i),d}function Gle(r,i){const d=new Date(r);return d.setDate(d.getDate()+i),d}function Yle(r,i){const d=new Date(r);return d.setDate(d.getDate()+i*7),d}function Xle(r,i){const d=new Date(r);return d.setDate(1),d.setMonth(d.getMonth()+i),d}function Jle(r){return r.getFullYear()}function Qle(r){return r.getMonth()}function ece(r){return r.getDate()}function tce(r){return new Date(r.getFullYear(),r.getMonth()+1,1)}function nce(r){return new Date(r.getFullYear(),r.getMonth()-1,1)}function oce(r){return r.getHours()}function rce(r){return r.getMinutes()}function sce(r){return new Date(r.getFullYear(),0,1)}function ace(r){return new Date(r.getFullYear(),11,31)}function ice(r,i){return FB(r,i[0])&&uce(r,i[1])}function lce(r){const i=new Date(r);return i instanceof Date&&!isNaN(i.getTime())}function FB(r,i){return r.getTime()>i.getTime()}function cce(r,i){return FB(NH(r),NH(i))}function uce(r,i){return r.getTime()<i.getTime()}function tj(r,i){return r.getTime()===i.getTime()}function dce(r,i){return r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function fce(r,i){return r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function mce(r,i){return r.getFullYear()===i.getFullYear()}function gce(r,i,d){const m=new Date(r),x=new Date(i);switch(d){case"years":return m.getFullYear()-x.getFullYear();case"quarters":return Math.floor((m.getMonth()-x.getMonth()+(m.getFullYear()-x.getFullYear())*12)/4);case"months":return m.getMonth()-x.getMonth()+(m.getFullYear()-x.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-x.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-x.getTime())/1e3);default:return m.getTime()-x.getTime()}}function hce(r,i){const d=new Date(r);return d.setHours(i),d}function pce(r,i){const d=new Date(r);return d.setMinutes(i),d}function bce(r,i){const d=new Date(r);return d.setMonth(i),d}function vce(r,i){const d=new Date(r);return d.setDate(i),d}function xce(r,i){const d=new Date(r);return d.setFullYear(i),d}function NH(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0)}function yce(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}class wce{constructor(i){this.locale=i.locale,this.formats=i.formats}date(i){return Lq(i)}toJsDate(i){return i}toISO(i){return Zle(this,i)}parseISO(i){return jle(i)}addMinutes(i,d){return Kle(i,d)}addHours(i,d){return qle(i,d)}addDays(i,d){return Gle(i,d)}addWeeks(i,d){return Yle(i,d)}addMonths(i,d){return Xle(i,d)}getWeekArray(i,d){return Fle(i,this.locale,d?Number(d):void 0)}startOfWeek(i,d){return zle(i,this.locale,d?Number(d):void 0)}endOfWeek(i){return Hle(i,this.locale)}startOfMonth(i){return Mq(i)}endOfMonth(i){return Pq(i)}format(i,d){return Wle(i,d,this.locale,this.formats)}isEqual(i,d){return tj(i,d)}isValid(i){return lce(i)}isWithinRange(i,d){return ice(i,d)}isAfter(i,d){return FB(i,d)}isAfterDay(i,d){return cce(i,d)}isBefore(i,d){return!FB(i,d)&&!tj(i,d)}isSameDay(i,d){return dce(i,d)}isSameMonth(i,d){return fce(i,d)}isSameYear(i,d){return mce(i,d)}setMinutes(i,d){return pce(i,d)}setHours(i,d){return hce(i,d)}setMonth(i,d){return bce(i,d)}setDate(i,d){return vce(i,d)}setYear(i,d){return xce(i,d)}getDiff(i,d,m){return gce(i,d,m)}getWeekdays(i){return Ule(this.locale,i?Number(i):void 0)}getYear(i){return Jle(i)}getMonth(i){return Qle(i)}getDate(i){return ece(i)}getNextMonth(i){return tce(i)}getPreviousMonth(i){return nce(i)}getHours(i){return oce(i)}getMinutes(i){return rce(i)}startOfDay(i){return NH(i)}endOfDay(i){return yce(i)}startOfYear(i){return sce(i)}endOfYear(i){return ace(i)}}const _ce=Symbol.for("vuetify:date-options"),nj=Symbol.for("vuetify:date-adapter");function Cce(r,i){const d=Pf({adapter:wce,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},r);return{options:d,instance:Sce(d,i)}}function Sce(r,i){const d=tu(typeof r.adapter=="function"?new r.adapter({locale:r.locale[i.current.value]??i.current.value,formats:r.formats}):r.adapter);return To(i.current,m=>{d.locale=r.locale[m]??m??d.locale}),d}const IH=Symbol.for("vuetify:display"),oj={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},kce=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oj;return Pf(oj,r)};function rj(r){return mi&&!r?window.innerWidth:typeof r=="object"&&r.clientWidth||0}function sj(r){return mi&&!r?window.innerHeight:typeof r=="object"&&r.clientHeight||0}function aj(r){const i=mi&&!r?window.navigator.userAgent:"ssr";function d(G){return!!i.match(G)}const m=d(/android/i),x=d(/iphone|ipad|ipod/i),b=d(/cordova/i),y=d(/electron/i),S=d(/chrome/i),L=d(/edge/i),P=d(/firefox/i),D=d(/opera/i),z=d(/win/i),W=d(/mac/i),U=d(/linux/i);return{android:m,ios:x,cordova:b,electron:y,chrome:S,edge:L,firefox:P,opera:D,win:z,mac:W,linux:U,touch:zie,ssr:i==="ssr"}}function Ece(r,i){const{thresholds:d,mobileBreakpoint:m}=kce(r),x=Rr(sj(i)),b=Rr(aj(i)),y=tu({}),S=Rr(rj(i));function L(){x.value=sj(),S.value=rj()}function P(){L(),b.value=aj()}return Ip(()=>{const D=S.value<d.sm,z=S.value<d.md&&!D,W=S.value<d.lg&&!(z||D),U=S.value<d.xl&&!(W||z||D),G=S.value<d.xxl&&!(U||W||z||D),ee=S.value>=d.xxl,ye=D?"xs":z?"sm":W?"md":U?"lg":G?"xl":"xxl",ge=typeof m=="number"?m:d[m],Le=S.value<ge;y.xs=D,y.sm=z,y.md=W,y.lg=U,y.xl=G,y.xxl=ee,y.smAndUp=!D,y.mdAndUp=!(D||z),y.lgAndUp=!(D||z||W),y.xlAndUp=!(D||z||W||U),y.smAndDown=!(W||U||G||ee),y.mdAndDown=!(U||G||ee),y.lgAndDown=!(G||ee),y.xlAndDown=!ee,y.name=ye,y.height=x.value,y.width=S.value,y.mobile=Le,y.mobileBreakpoint=m,y.platform=b.value,y.thresholds=d}),mi&&window.addEventListener("resize",L,{passive:!0}),{...eO(y),update:P,ssr:!!i}}const Ace=ho({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Fq(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();const d=xl(IH);if(!d)throw new Error("Could not find Vuetify display injection");const m=Tt(()=>{if(r.mobile!=null)return r.mobile;if(!r.mobileBreakpoint)return d.mobile.value;const b=typeof r.mobileBreakpoint=="number"?r.mobileBreakpoint:d.thresholds.value[r.mobileBreakpoint];return d.width.value<b}),x=Tt(()=>i?{[`${i}--mobile`]:m.value}:{});return{...d,displayClasses:x,mobile:m}}const Tce=Symbol.for("vuetify:goto");function Oce(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:r=>r,easeInQuad:r=>r**2,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r**2:-1+(4-2*r)*r,easeInCubic:r=>r**3,easeOutCubic:r=>--r**3+1,easeInOutCubic:r=>r<.5?4*r**3:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r**4,easeOutQuart:r=>1- --r**4,easeInOutQuart:r=>r<.5?8*r**4:1-8*--r**4,easeInQuint:r=>r**5,easeOutQuint:r=>1+--r**5,easeInOutQuint:r=>r<.5?16*r**5:1+16*--r**5}}}function Dce(r,i){return{rtl:i.isRtl,options:Pf(Oce(),r)}}const Rce={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Nce={component:r=>Jv(Hq,{...r,class:"mdi"})},Uu=[String,Function,Object,Array],BH=Symbol.for("vuetify:icons"),aM=ho({icon:{type:Uu},tag:{type:String,required:!0}},"icon"),ij=Gr()({name:"VComponentIcon",props:aM(),setup(r,i){let{slots:d}=i;return()=>{const m=r.icon;return Te(r.tag,null,{default:()=>{var x;return[r.icon?Te(m,null,null):(x=d.default)==null?void 0:x.call(d)]}})}}}),zq=ek({name:"VSvgIcon",inheritAttrs:!1,props:aM(),setup(r,i){let{attrs:d}=i;return()=>Te(r.tag,ji(d,{style:null}),{default:()=>[Te("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(r.icon)?r.icon.map(m=>Array.isArray(m)?Te("path",{d:m[0],"fill-opacity":m[1]},null):Te("path",{d:m},null)):Te("path",{d:r.icon},null)])]})}});ek({name:"VLigatureIcon",props:aM(),setup(r){return()=>Te(r.tag,null,{default:()=>[r.icon]})}});const Hq=ek({name:"VClassIcon",props:aM(),setup(r){return()=>Te(r.tag,{class:r.icon},null)}});function Ice(){return{svg:{component:zq},class:{component:Hq}}}function Bce(r){const i=Ice(),d=(r==null?void 0:r.defaultSet)??"mdi";return d==="mdi"&&!i.mdi&&(i.mdi=Nce),Pf({defaultSet:d,sets:i,aliases:{...Rce,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},r)}const Mce=r=>{const i=xl(BH);if(!i)throw new Error("Missing Vuetify Icons provide!");return{iconData:Tt(()=>{var L;const m=et(r);if(!m)return{component:ij};let x=m;if(typeof x=="string"&&(x=x.trim(),x.startsWith("$")&&(x=(L=i.aliases)==null?void 0:L[x.slice(1)])),Array.isArray(x))return{component:zq,icon:x};if(typeof x!="string")return{component:ij,icon:x};const b=Object.keys(i.sets).find(P=>typeof x=="string"&&x.startsWith(`${P}:`)),y=b?x.slice(b.length+1):x;return{component:i.sets[b??i.defaultSet].component,icon:y}})}},zB=Symbol.for("vuetify:theme"),Ku=ho({theme:String},"theme");function lj(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Pce(){var m,x;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lj();const i=lj();if(!r)return{...i,isDisabled:!0};const d={};for(const[b,y]of Object.entries(r.themes??{})){const S=y.dark||b==="dark"?(m=i.themes)==null?void 0:m.dark:(x=i.themes)==null?void 0:x.light;d[b]=Pf(S,y)}return Pf(i,{...r,themes:d})}function Lce(r){const i=Pce(r),d=tr(i.defaultTheme),m=tr(i.themes),x=Tt(()=>{const D={};for(const[z,W]of Object.entries(m.value)){const U=D[z]={...W,colors:{...W.colors}};if(i.variations)for(const G of i.variations.colors){const ee=U.colors[G];if(ee)for(const ye of["lighten","darken"]){const ge=ye==="lighten"?yle:wle;for(const Le of pq(i.variations[ye],1))U.colors[`${G}-${ye}-${Le}`]=ble(ge(Tp(ee),Le))}}for(const G of Object.keys(U.colors)){if(/^on-[a-z]/.test(G)||U.colors[`on-${G}`])continue;const ee=`on-${G}`,ye=Tp(U.colors[G]);U.colors[ee]=Oq(ye)}}return D}),b=Tt(()=>x.value[d.value]),y=Tt(()=>{var G;const D=[];(G=b.value)!=null&&G.dark&&nw(D,":root",["color-scheme: dark"]),nw(D,":root",cj(b.value));for(const[ee,ye]of Object.entries(x.value))nw(D,`.v-theme--${ee}`,[`color-scheme: ${ye.dark?"dark":"normal"}`,...cj(ye)]);const z=[],W=[],U=new Set(Object.values(x.value).flatMap(ee=>Object.keys(ee.colors)));for(const ee of U)/^on-[a-z]/.test(ee)?nw(W,`.${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]):(nw(z,`.bg-${ee}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ee}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ee})) !important`,`color: rgb(var(--v-theme-on-${ee})) !important`]),nw(W,`.text-${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]),nw(W,`.border-${ee}`,[`--v-border-color: var(--v-theme-${ee})`]));return D.push(...z,...W),D.map((ee,ye)=>ye===0?ee:`    ${ee}`).join("")});function S(){return{style:[{children:y.value,id:"vuetify-theme-stylesheet",nonce:i.cspNonce||!1}]}}function L(D){if(i.isDisabled)return;const z=D._context.provides.usehead;if(z)if(z.push){const U=z.push(S);mi&&To(y,()=>{U.patch(S)})}else mi?(z.addHeadObjs(Tt(S)),Ip(()=>z.updateDOM())):z.addHeadObjs(S());else{let G=function(){if(typeof document<"u"&&!U){const ee=document.createElement("style");ee.type="text/css",ee.id="vuetify-theme-stylesheet",i.cspNonce&&ee.setAttribute("nonce",i.cspNonce),U=ee,document.head.appendChild(U)}U&&(U.innerHTML=y.value)};var W=G;let U=mi?document.getElementById("vuetify-theme-stylesheet"):null;mi?To(y,G,{immediate:!0}):G()}}const P=Tt(()=>i.isDisabled?void 0:`v-theme--${d.value}`);return{install:L,isDisabled:i.isDisabled,name:d,themes:m,current:b,computedThemes:x,themeClasses:P,styles:y,global:{name:d,current:b}}}function qu(r){Rl("provideTheme");const i=xl(zB,null);if(!i)throw new Error("Could not find Vuetify theme injection");const d=Tt(()=>r.theme??i.name.value),m=Tt(()=>i.themes.value[d.value]),x=Tt(()=>i.isDisabled?void 0:`v-theme--${d.value}`),b={...i,name:d,current:m,themeClasses:x};return Hf(zB,b),b}function nw(r,i,d){r.push(`${i} {
`,...d.map(m=>`  ${m};
`),`}
`)}function cj(r){const i=r.dark?2:1,d=r.dark?1:2,m=[];for(const[x,b]of Object.entries(r.colors)){const y=Tp(b);m.push(`--v-theme-${x}: ${y.r},${y.g},${y.b}`),x.startsWith("on-")||m.push(`--v-theme-${x}-overlay-multiplier: ${_le(b)>.18?i:d}`)}for(const[x,b]of Object.entries(r.variables)){const y=typeof b=="string"&&b.startsWith("#")?Tp(b):void 0,S=y?`${y.r}, ${y.g}, ${y.b}`:void 0;m.push(`--v-${x}: ${S??b}`)}return m}function $q(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const d=EH(),m=tr();if(mi){const x=new ResizeObserver(b=>{b.length&&(i==="content"?m.value=b[0].contentRect:m.value=b[0].target.getBoundingClientRect())});ju(()=>{x.disconnect()}),To(()=>d.el,(b,y)=>{y&&(x.unobserve(y),m.value=void 0),b&&x.observe(b)},{flush:"post"})}return{resizeRef:d,contentRect:QT(m)}}const HB=Symbol.for("vuetify:layout"),Vq=Symbol.for("vuetify:layout-item"),uj=1e3,Fce=ho({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Uq=ho({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function zce(){const r=xl(HB);if(!r)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:r.getLayoutItem,mainRect:r.mainRect,mainStyles:r.mainStyles}}function Wq(r){const i=xl(HB);if(!i)throw new Error("[Vuetify] Could not find injected layout");const d=r.id??`layout-item-${oO()}`,m=Rl("useLayoutItem");Hf(Vq,{id:d});const x=Rr(!1);h$(()=>x.value=!0),g$(()=>x.value=!1);const{layoutItemStyles:b,layoutItemScrimStyles:y}=i.register(m,{...r,active:Tt(()=>x.value?!1:r.active.value),id:d});return ju(()=>i.unregister(d)),{layoutItemStyles:b,layoutRect:i.layoutRect,layoutItemScrimStyles:y}}const Hce=(r,i,d,m)=>{let x={top:0,left:0,right:0,bottom:0};const b=[{id:"",layer:{...x}}];for(const y of r){const S=i.get(y),L=d.get(y),P=m.get(y);if(!S||!L||!P)continue;const D={...x,[S.value]:parseInt(x[S.value],10)+(P.value?parseInt(L.value,10):0)};b.push({id:y,layer:D}),x=D}return b};function $ce(r){const i=xl(HB,null),d=Tt(()=>i?i.rootZIndex.value-100:uj),m=tr([]),x=tu(new Map),b=tu(new Map),y=tu(new Map),S=tu(new Map),L=tu(new Map),{resizeRef:P,contentRect:D}=$q(),z=Tt(()=>{const oe=new Map,Je=r.overlaps??[];for(const Ve of Je.filter(Ye=>Ye.includes(":"))){const[Ye,mt]=Ve.split(":");if(!m.value.includes(Ye)||!m.value.includes(mt))continue;const Ee=x.get(Ye),Ne=x.get(mt),R=b.get(Ye),Nt=b.get(mt);!Ee||!Ne||!R||!Nt||(oe.set(mt,{position:Ee.value,amount:parseInt(R.value,10)}),oe.set(Ye,{position:Ne.value,amount:-parseInt(Nt.value,10)}))}return oe}),W=Tt(()=>{const oe=[...new Set([...y.values()].map(Ve=>Ve.value))].sort((Ve,Ye)=>Ve-Ye),Je=[];for(const Ve of oe){const Ye=m.value.filter(mt=>{var Ee;return((Ee=y.get(mt))==null?void 0:Ee.value)===Ve});Je.push(...Ye)}return Hce(Je,x,b,S)}),U=Tt(()=>!Array.from(L.values()).some(oe=>oe.value)),G=Tt(()=>W.value[W.value.length-1].layer),ee=Tt(()=>({"--v-layout-left":br(G.value.left),"--v-layout-right":br(G.value.right),"--v-layout-top":br(G.value.top),"--v-layout-bottom":br(G.value.bottom),...U.value?void 0:{transition:"none"}})),ye=Tt(()=>W.value.slice(1).map((oe,Je)=>{let{id:Ve}=oe;const{layer:Ye}=W.value[Je],mt=b.get(Ve),Ee=x.get(Ve);return{id:Ve,...Ye,size:Number(mt.value),position:Ee.value}})),ge=oe=>ye.value.find(Je=>Je.id===oe),Le=Rl("createLayout"),Be=Rr(!1);sg(()=>{Be.value=!0}),Hf(HB,{register:(oe,Je)=>{let{id:Ve,order:Ye,position:mt,layoutSize:Ee,elementSize:Ne,active:R,disableTransitions:Nt,absolute:Jt}=Je;y.set(Ve,Ye),x.set(Ve,mt),b.set(Ve,Ee),S.set(Ve,R),Nt&&L.set(Ve,Nt);const Tn=FS(Vq,Le==null?void 0:Le.vnode).indexOf(oe);Tn>-1?m.value.splice(Tn,0,Ve):m.value.push(Ve);const ot=Tt(()=>ye.value.findIndex(vt=>vt.id===Ve)),Vn=Tt(()=>d.value+W.value.length*2-ot.value*2),Nr=Tt(()=>{const vt=mt.value==="left"||mt.value==="right",jt=mt.value==="right",bs=mt.value==="bottom",bo=Ne.value??Ee.value,En=bo===0?"%":"px",Mn={[mt.value]:0,zIndex:Vn.value,transform:`translate${vt?"X":"Y"}(${(R.value?0:-(bo===0?100:bo))*(jt||bs?-1:1)}${En})`,position:Jt.value||d.value!==uj?"absolute":"fixed",...U.value?void 0:{transition:"none"}};if(!Be.value)return Mn;const J=ye.value[ot.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${Ve}"`);const nr=z.value.get(Ve);return nr&&(J[nr.position]+=nr.amount),{...Mn,height:vt?`calc(100% - ${J.top}px - ${J.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:jt?void 0:`${J.left}px`,right:jt?`${J.right}px`:void 0,top:mt.value!=="bottom"?`${J.top}px`:void 0,bottom:mt.value!=="top"?`${J.bottom}px`:void 0,width:vt?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),yt=Tt(()=>({zIndex:Vn.value-1}));return{layoutItemStyles:Nr,layoutItemScrimStyles:yt,zIndex:Vn}},unregister:oe=>{y.delete(oe),x.delete(oe),b.delete(oe),S.delete(oe),L.delete(oe),m.value=m.value.filter(Je=>Je!==oe)},mainRect:G,mainStyles:ee,getLayoutItem:ge,items:ye,layoutRect:D,rootZIndex:d});const ie=Tt(()=>["v-layout",{"v-layout--full-height":r.fullHeight}]),Me=Tt(()=>({zIndex:i?d.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:ie,layoutStyles:Me,getLayoutItem:ge,items:ye,layoutRect:D,layoutRef:P}}function Zq(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:i,...d}=r,m=Pf(i,d),{aliases:x={},components:b={},directives:y={}}=m,S=Sle(m.defaults),L=Ece(m.display,m.ssr),P=Lce(m.theme),D=Bce(m.icons),z=Mle(m.locale),W=Cce(m.date,z),U=Dce(m.goTo,z);return{install:ee=>{for(const ye in y)ee.directive(ye,y[ye]);for(const ye in b)ee.component(ye,b[ye]);for(const ye in x)ee.component(ye,ek({...x[ye],name:ye,aliasName:x[ye].name}));if(P.install(ee),ee.provide(GS,S),ee.provide(IH,L),ee.provide(zB,P),ee.provide(BH,D),ee.provide(RH,z),ee.provide(_ce,W.options),ee.provide(nj,W.instance),ee.provide(Tce,U),mi&&m.ssr)if(ee.$nuxt)ee.$nuxt.hook("app:suspense:resolve",()=>{L.update()});else{const{mount:ye}=ee;ee.mount=function(){const ge=ye(...arguments);return yl(()=>L.update()),ee.mount=ye,ge}}oO.reset(),ee.mixin({computed:{$vuetify(){return tu({defaults:IS.call(this,GS),display:IS.call(this,IH),theme:IS.call(this,zB),icons:IS.call(this,BH),locale:IS.call(this,RH),date:IS.call(this,nj)})}}})},defaults:S,display:L,theme:P,icons:D,locale:z,date:W,goTo:U}}const Vce="3.7.1";Zq.version=Vce;function IS(r){var m,x;const i=this.$,d=((m=i.parent)==null?void 0:m.provides)??((x=i.vnode.appContext)==null?void 0:x.provides);if(d&&r in d)return d[r]}const Uce=Zq({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Wce=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let jq;const iM=r=>jq=r,Kq=Symbol();function MH(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var zT;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(zT||(zT={}));function Zce(){const r=JT(!0),i=r.run(()=>tr({}));let d=[],m=[];const x=c$({install(b){iM(x),x._a=b,b.provide(Kq,x),b.config.globalProperties.$pinia=x,m.forEach(y=>d.push(y)),m=[]},use(b){return!this._a&&!Wce?m.push(b):d.push(b),this},_p:d,_a:null,_e:r,_s:new Map,state:i});return x}const qq=()=>{};function dj(r,i,d,m=qq){r.push(i);const x=()=>{const b=r.indexOf(i);b>-1&&(r.splice(b,1),m())};return!d&&iK()&&zf(x),x}function BS(r,...i){r.slice().forEach(d=>{d(...i)})}const jce=r=>r(),fj=Symbol(),q9=Symbol();function PH(r,i){r instanceof Map&&i instanceof Map?i.forEach((d,m)=>r.set(m,d)):r instanceof Set&&i instanceof Set&&i.forEach(r.add,r);for(const d in i){if(!i.hasOwnProperty(d))continue;const m=i[d],x=r[d];MH(x)&&MH(m)&&r.hasOwnProperty(d)&&!Ia(m)&&!uw(m)?r[d]=PH(x,m):r[d]=m}return r}const Kce=Symbol();function qce(r){return!MH(r)||!r.hasOwnProperty(Kce)}const{assign:Fv}=Object;function Gce(r){return!!(Ia(r)&&r.effect)}function Yce(r,i,d,m){const{state:x,actions:b,getters:y}=i,S=d.state.value[r];let L;function P(){S||(d.state.value[r]=x?x():{});const D=eO(d.state.value[r]);return Fv(D,b,Object.keys(y||{}).reduce((z,W)=>(z[W]=c$(Tt(()=>{iM(d);const U=d._s.get(r);return y[W].call(U,U)})),z),{}))}return L=Gq(r,P,i,d,m,!0),L}function Gq(r,i,d={},m,x,b){let y;const S=Fv({actions:{}},d),L={deep:!0};let P,D,z=[],W=[],U;const G=m.state.value[r];!b&&!G&&(m.state.value[r]={}),tr({});let ee;function ye(Ve){let Ye;P=D=!1,typeof Ve=="function"?(Ve(m.state.value[r]),Ye={type:zT.patchFunction,storeId:r,events:U}):(PH(m.state.value[r],Ve),Ye={type:zT.patchObject,payload:Ve,storeId:r,events:U});const mt=ee=Symbol();yl().then(()=>{ee===mt&&(P=!0)}),D=!0,BS(z,Ye,m.state.value[r])}const ge=b?function(){const{state:Ye}=d,mt=Ye?Ye():{};this.$patch(Ee=>{Fv(Ee,mt)})}:qq;function Le(){y.stop(),z=[],W=[],m._s.delete(r)}const Be=(Ve,Ye="")=>{if(fj in Ve)return Ve[q9]=Ye,Ve;const mt=function(){iM(m);const Ee=Array.from(arguments),Ne=[],R=[];function Nt(Tn){Ne.push(Tn)}function Jt(Tn){R.push(Tn)}BS(W,{args:Ee,name:mt[q9],store:Me,after:Nt,onError:Jt});let pn;try{pn=Ve.apply(this&&this.$id===r?this:Me,Ee)}catch(Tn){throw BS(R,Tn),Tn}return pn instanceof Promise?pn.then(Tn=>(BS(Ne,Tn),Tn)).catch(Tn=>(BS(R,Tn),Promise.reject(Tn))):(BS(Ne,pn),pn)};return mt[fj]=!0,mt[q9]=Ye,mt},ie={_p:m,$id:r,$onAction:dj.bind(null,W),$patch:ye,$reset:ge,$subscribe(Ve,Ye={}){const mt=dj(z,Ve,Ye.detached,()=>Ee()),Ee=y.run(()=>To(()=>m.state.value[r],Ne=>{(Ye.flush==="sync"?D:P)&&Ve({storeId:r,type:zT.direct,events:U},Ne)},Fv({},L,Ye)));return mt},$dispose:Le},Me=tu(ie);m._s.set(r,Me);const Je=(m._a&&m._a.runWithContext||jce)(()=>m._e.run(()=>(y=JT()).run(()=>i({action:Be}))));for(const Ve in Je){const Ye=Je[Ve];if(Ia(Ye)&&!Gce(Ye)||uw(Ye))b||(G&&qce(Ye)&&(Ia(Ye)?Ye.value=G[Ve]:PH(Ye,G[Ve])),m.state.value[r][Ve]=Ye);else if(typeof Ye=="function"){const mt=Be(Ye,Ve);Je[Ve]=mt,S.actions[Ve]=Ye}}return Fv(Me,Je),Fv(ko(Me),Je),Object.defineProperty(Me,"$state",{get:()=>m.state.value[r],set:Ve=>{ye(Ye=>{Fv(Ye,Ve)})}}),m._p.forEach(Ve=>{Fv(Me,y.run(()=>Ve({store:Me,app:m._a,pinia:m,options:S})))}),G&&b&&d.hydrate&&d.hydrate(Me.$state,G),P=!0,D=!0,Me}function ag(r,i,d){let m,x;const b=typeof i=="function";typeof r=="string"?(m=r,x=b?d:i):(x=r,m=r.id);function y(S,L){const P=_ae();return S=S||(P?xl(Kq,null):null),S&&iM(S),S=jq,S._s.has(m)||(b?Gq(m,i,x,S):Yce(m,x,S)),S._s.get(m)}return y.$id=m,y}const Xce=Zce();function Jce(r){r.use(Uce).use(Xce)}var gB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function hB(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yq={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,i){(function(d){r.exports=d()})(function(){return function d(m,x,b){function y(P,D){if(!x[P]){if(!m[P]){var z=typeof hB=="function"&&hB;if(!D&&z)return z(P,!0);if(S)return S(P,!0);var W=new Error("Cannot find module '"+P+"'");throw W.code="MODULE_NOT_FOUND",W}var U=x[P]={exports:{}};m[P][0].call(U.exports,function(G){var ee=m[P][1][G];return y(ee||G)},U,U.exports,d,m,x,b)}return x[P].exports}for(var S=typeof hB=="function"&&hB,L=0;L<b.length;L++)y(b[L]);return y}({1:[function(d,m,x){(function(b){var y=b.MutationObserver||b.WebKitMutationObserver,S;if(y){var L=0,P=new y(G),D=b.document.createTextNode("");P.observe(D,{characterData:!0}),S=function(){D.data=L=++L%2}}else if(!b.setImmediate&&typeof b.MessageChannel<"u"){var z=new b.MessageChannel;z.port1.onmessage=G,S=function(){z.port2.postMessage(0)}}else"document"in b&&"onreadystatechange"in b.document.createElement("script")?S=function(){var ye=b.document.createElement("script");ye.onreadystatechange=function(){G(),ye.onreadystatechange=null,ye.parentNode.removeChild(ye),ye=null},b.document.documentElement.appendChild(ye)}:S=function(){setTimeout(G,0)};var W,U=[];function G(){W=!0;for(var ye,ge,Le=U.length;Le;){for(ge=U,U=[],ye=-1;++ye<Le;)ge[ye]();Le=U.length}W=!1}m.exports=ee;function ee(ye){U.push(ye)===1&&!W&&S()}}).call(this,typeof gB<"u"?gB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,m,x){var b=d(1);function y(){}var S={},L=["REJECTED"],P=["FULFILLED"],D=["PENDING"];m.exports=z;function z(Me){if(typeof Me!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,Me!==y&&ee(this,Me)}z.prototype.catch=function(Me){return this.then(null,Me)},z.prototype.then=function(Me,oe){if(typeof Me!="function"&&this.state===P||typeof oe!="function"&&this.state===L)return this;var Je=new this.constructor(y);if(this.state!==D){var Ve=this.state===P?Me:oe;U(Je,Ve,this.outcome)}else this.queue.push(new W(Je,Me,oe));return Je};function W(Me,oe,Je){this.promise=Me,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Je=="function"&&(this.onRejected=Je,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(Me){S.resolve(this.promise,Me)},W.prototype.otherCallFulfilled=function(Me){U(this.promise,this.onFulfilled,Me)},W.prototype.callRejected=function(Me){S.reject(this.promise,Me)},W.prototype.otherCallRejected=function(Me){U(this.promise,this.onRejected,Me)};function U(Me,oe,Je){b(function(){var Ve;try{Ve=oe(Je)}catch(Ye){return S.reject(Me,Ye)}Ve===Me?S.reject(Me,new TypeError("Cannot resolve promise with itself")):S.resolve(Me,Ve)})}S.resolve=function(Me,oe){var Je=ye(G,oe);if(Je.status==="error")return S.reject(Me,Je.value);var Ve=Je.value;if(Ve)ee(Me,Ve);else{Me.state=P,Me.outcome=oe;for(var Ye=-1,mt=Me.queue.length;++Ye<mt;)Me.queue[Ye].callFulfilled(oe)}return Me},S.reject=function(Me,oe){Me.state=L,Me.outcome=oe;for(var Je=-1,Ve=Me.queue.length;++Je<Ve;)Me.queue[Je].callRejected(oe);return Me};function G(Me){var oe=Me&&Me.then;if(Me&&(typeof Me=="object"||typeof Me=="function")&&typeof oe=="function")return function(){oe.apply(Me,arguments)}}function ee(Me,oe){var Je=!1;function Ve(Ne){Je||(Je=!0,S.reject(Me,Ne))}function Ye(Ne){Je||(Je=!0,S.resolve(Me,Ne))}function mt(){oe(Ye,Ve)}var Ee=ye(mt);Ee.status==="error"&&Ve(Ee.value)}function ye(Me,oe){var Je={};try{Je.value=Me(oe),Je.status="success"}catch(Ve){Je.status="error",Je.value=Ve}return Je}z.resolve=ge;function ge(Me){return Me instanceof this?Me:S.resolve(new this(y),Me)}z.reject=Le;function Le(Me){var oe=new this(y);return S.reject(oe,Me)}z.all=Be;function Be(Me){var oe=this;if(Object.prototype.toString.call(Me)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Je=Me.length,Ve=!1;if(!Je)return this.resolve([]);for(var Ye=new Array(Je),mt=0,Ee=-1,Ne=new this(y);++Ee<Je;)R(Me[Ee],Ee);return Ne;function R(Nt,Jt){oe.resolve(Nt).then(pn,function(Tn){Ve||(Ve=!0,S.reject(Ne,Tn))});function pn(Tn){Ye[Jt]=Tn,++mt===Je&&!Ve&&(Ve=!0,S.resolve(Ne,Ye))}}}z.race=ie;function ie(Me){var oe=this;if(Object.prototype.toString.call(Me)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Je=Me.length,Ve=!1;if(!Je)return this.resolve([]);for(var Ye=-1,mt=new this(y);++Ye<Je;)Ee(Me[Ye]);return mt;function Ee(Ne){oe.resolve(Ne).then(function(R){Ve||(Ve=!0,S.resolve(mt,R))},function(R){Ve||(Ve=!0,S.reject(mt,R))})}}},{1:1}],3:[function(d,m,x){(function(b){typeof b.Promise!="function"&&(b.Promise=d(2))}).call(this,typeof gB<"u"?gB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(d,m,x){var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e};function y(_e,Ke){if(!(_e instanceof Ke))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var L=S();function P(){try{if(!L||!L.open)return!1;var _e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ke=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!_e||Ke)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(_e,Ke){_e=_e||[],Ke=Ke||{};try{return new Blob(_e,Ke)}catch(We){if(We.name!=="TypeError")throw We;for(var Oe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,at=new Oe,nt=0;nt<_e.length;nt+=1)at.append(_e[nt]);return at.getBlob(Ke.type)}}typeof Promise>"u"&&d(3);var z=Promise;function W(_e,Ke){Ke&&_e.then(function(Oe){Ke(null,Oe)},function(Oe){Ke(Oe)})}function U(_e,Ke,Oe){typeof Ke=="function"&&_e.then(Ke),typeof Oe=="function"&&_e.catch(Oe)}function G(_e){return typeof _e!="string"&&(console.warn(_e+" used as a key, but it is not a string."),_e=String(_e)),_e}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ye="local-forage-detect-blob-support",ge=void 0,Le={},Be=Object.prototype.toString,ie="readonly",Me="readwrite";function oe(_e){for(var Ke=_e.length,Oe=new ArrayBuffer(Ke),at=new Uint8Array(Oe),nt=0;nt<Ke;nt++)at[nt]=_e.charCodeAt(nt);return Oe}function Je(_e){return new z(function(Ke){var Oe=_e.transaction(ye,Me),at=D([""]);Oe.objectStore(ye).put(at,"key"),Oe.onabort=function(nt){nt.preventDefault(),nt.stopPropagation(),Ke(!1)},Oe.oncomplete=function(){var nt=navigator.userAgent.match(/Chrome\/(\d+)/),We=navigator.userAgent.match(/Edge\//);Ke(We||!nt||parseInt(nt[1],10)>=43)}}).catch(function(){return!1})}function Ve(_e){return typeof ge=="boolean"?z.resolve(ge):Je(_e).then(function(Ke){return ge=Ke,ge})}function Ye(_e){var Ke=Le[_e.name],Oe={};Oe.promise=new z(function(at,nt){Oe.resolve=at,Oe.reject=nt}),Ke.deferredOperations.push(Oe),Ke.dbReady?Ke.dbReady=Ke.dbReady.then(function(){return Oe.promise}):Ke.dbReady=Oe.promise}function mt(_e){var Ke=Le[_e.name],Oe=Ke.deferredOperations.pop();if(Oe)return Oe.resolve(),Oe.promise}function Ee(_e,Ke){var Oe=Le[_e.name],at=Oe.deferredOperations.pop();if(at)return at.reject(Ke),at.promise}function Ne(_e,Ke){return new z(function(Oe,at){if(Le[_e.name]=Le[_e.name]||vt(),_e.db)if(Ke)Ye(_e),_e.db.close();else return Oe(_e.db);var nt=[_e.name];Ke&&nt.push(_e.version);var We=L.open.apply(L,nt);Ke&&(We.onupgradeneeded=function(Pt){var Gt=We.result;try{Gt.createObjectStore(_e.storeName),Pt.oldVersion<=1&&Gt.createObjectStore(ye)}catch(nn){if(nn.name==="ConstraintError")console.warn('The database "'+_e.name+'" has been upgraded from version '+Pt.oldVersion+" to version "+Pt.newVersion+', but the storage "'+_e.storeName+'" already exists.');else throw nn}}),We.onerror=function(Pt){Pt.preventDefault(),at(We.error)},We.onsuccess=function(){var Pt=We.result;Pt.onversionchange=function(Gt){Gt.target.close()},Oe(Pt),mt(_e)}})}function R(_e){return Ne(_e,!1)}function Nt(_e){return Ne(_e,!0)}function Jt(_e,Ke){if(!_e.db)return!0;var Oe=!_e.db.objectStoreNames.contains(_e.storeName),at=_e.version<_e.db.version,nt=_e.version>_e.db.version;if(at&&(_e.version!==Ke&&console.warn('The database "'+_e.name+`" can't be downgraded from version `+_e.db.version+" to version "+_e.version+"."),_e.version=_e.db.version),nt||Oe){if(Oe){var We=_e.db.version+1;We>_e.version&&(_e.version=We)}return!0}return!1}function pn(_e){return new z(function(Ke,Oe){var at=new FileReader;at.onerror=Oe,at.onloadend=function(nt){var We=btoa(nt.target.result||"");Ke({__local_forage_encoded_blob:!0,data:We,type:_e.type})},at.readAsBinaryString(_e)})}function Tn(_e){var Ke=oe(atob(_e.data));return D([Ke],{type:_e.type})}function ot(_e){return _e&&_e.__local_forage_encoded_blob}function Vn(_e){var Ke=this,Oe=Ke._initReady().then(function(){var at=Le[Ke._dbInfo.name];if(at&&at.dbReady)return at.dbReady});return U(Oe,_e,_e),Oe}function Nr(_e){Ye(_e);for(var Ke=Le[_e.name],Oe=Ke.forages,at=0;at<Oe.length;at++){var nt=Oe[at];nt._dbInfo.db&&(nt._dbInfo.db.close(),nt._dbInfo.db=null)}return _e.db=null,R(_e).then(function(We){return _e.db=We,Jt(_e)?Nt(_e):We}).then(function(We){_e.db=Ke.db=We;for(var Pt=0;Pt<Oe.length;Pt++)Oe[Pt]._dbInfo.db=We}).catch(function(We){throw Ee(_e,We),We})}function yt(_e,Ke,Oe,at){at===void 0&&(at=1);try{var nt=_e.db.transaction(_e.storeName,Ke);Oe(null,nt)}catch(We){if(at>0&&(!_e.db||We.name==="InvalidStateError"||We.name==="NotFoundError"))return z.resolve().then(function(){if(!_e.db||We.name==="NotFoundError"&&!_e.db.objectStoreNames.contains(_e.storeName)&&_e.version<=_e.db.version)return _e.db&&(_e.version=_e.db.version+1),Nt(_e)}).then(function(){return Nr(_e).then(function(){yt(_e,Ke,Oe,at-1)})}).catch(Oe);Oe(We)}}function vt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function jt(_e){var Ke=this,Oe={db:null};if(_e)for(var at in _e)Oe[at]=_e[at];var nt=Le[Oe.name];nt||(nt=vt(),Le[Oe.name]=nt),nt.forages.push(Ke),Ke._initReady||(Ke._initReady=Ke.ready,Ke.ready=Vn);var We=[];function Pt(){return z.resolve()}for(var Gt=0;Gt<nt.forages.length;Gt++){var nn=nt.forages[Gt];nn!==Ke&&We.push(nn._initReady().catch(Pt))}var un=nt.forages.slice(0);return z.all(We).then(function(){return Oe.db=nt.db,R(Oe)}).then(function(en){return Oe.db=en,Jt(Oe,Ke._defaultConfig.version)?Nt(Oe):en}).then(function(en){Oe.db=nt.db=en,Ke._dbInfo=Oe;for(var no=0;no<un.length;no++){var Xt=un[no];Xt!==Ke&&(Xt._dbInfo.db=Oe.db,Xt._dbInfo.version=Oe.version)}})}function bs(_e,Ke){var Oe=this;_e=G(_e);var at=new z(function(nt,We){Oe.ready().then(function(){yt(Oe._dbInfo,ie,function(Pt,Gt){if(Pt)return We(Pt);try{var nn=Gt.objectStore(Oe._dbInfo.storeName),un=nn.get(_e);un.onsuccess=function(){var en=un.result;en===void 0&&(en=null),ot(en)&&(en=Tn(en)),nt(en)},un.onerror=function(){We(un.error)}}catch(en){We(en)}})}).catch(We)});return W(at,Ke),at}function bo(_e,Ke){var Oe=this,at=new z(function(nt,We){Oe.ready().then(function(){yt(Oe._dbInfo,ie,function(Pt,Gt){if(Pt)return We(Pt);try{var nn=Gt.objectStore(Oe._dbInfo.storeName),un=nn.openCursor(),en=1;un.onsuccess=function(){var no=un.result;if(no){var Xt=no.value;ot(Xt)&&(Xt=Tn(Xt));var or=_e(Xt,no.key,en++);or!==void 0?nt(or):no.continue()}else nt()},un.onerror=function(){We(un.error)}}catch(no){We(no)}})}).catch(We)});return W(at,Ke),at}function En(_e,Ke,Oe){var at=this;_e=G(_e);var nt=new z(function(We,Pt){var Gt;at.ready().then(function(){return Gt=at._dbInfo,Be.call(Ke)==="[object Blob]"?Ve(Gt.db).then(function(nn){return nn?Ke:pn(Ke)}):Ke}).then(function(nn){yt(at._dbInfo,Me,function(un,en){if(un)return Pt(un);try{var no=en.objectStore(at._dbInfo.storeName);nn===null&&(nn=void 0);var Xt=no.put(nn,_e);en.oncomplete=function(){nn===void 0&&(nn=null),We(nn)},en.onabort=en.onerror=function(){var or=Xt.error?Xt.error:Xt.transaction.error;Pt(or)}}catch(or){Pt(or)}})}).catch(Pt)});return W(nt,Oe),nt}function Mn(_e,Ke){var Oe=this;_e=G(_e);var at=new z(function(nt,We){Oe.ready().then(function(){yt(Oe._dbInfo,Me,function(Pt,Gt){if(Pt)return We(Pt);try{var nn=Gt.objectStore(Oe._dbInfo.storeName),un=nn.delete(_e);Gt.oncomplete=function(){nt()},Gt.onerror=function(){We(un.error)},Gt.onabort=function(){var en=un.error?un.error:un.transaction.error;We(en)}}catch(en){We(en)}})}).catch(We)});return W(at,Ke),at}function J(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){yt(Ke._dbInfo,Me,function(We,Pt){if(We)return nt(We);try{var Gt=Pt.objectStore(Ke._dbInfo.storeName),nn=Gt.clear();Pt.oncomplete=function(){at()},Pt.onabort=Pt.onerror=function(){var un=nn.error?nn.error:nn.transaction.error;nt(un)}}catch(un){nt(un)}})}).catch(nt)});return W(Oe,_e),Oe}function nr(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){yt(Ke._dbInfo,ie,function(We,Pt){if(We)return nt(We);try{var Gt=Pt.objectStore(Ke._dbInfo.storeName),nn=Gt.count();nn.onsuccess=function(){at(nn.result)},nn.onerror=function(){nt(nn.error)}}catch(un){nt(un)}})}).catch(nt)});return W(Oe,_e),Oe}function dr(_e,Ke){var Oe=this,at=new z(function(nt,We){if(_e<0){nt(null);return}Oe.ready().then(function(){yt(Oe._dbInfo,ie,function(Pt,Gt){if(Pt)return We(Pt);try{var nn=Gt.objectStore(Oe._dbInfo.storeName),un=!1,en=nn.openKeyCursor();en.onsuccess=function(){var no=en.result;if(!no){nt(null);return}_e===0||un?nt(no.key):(un=!0,no.advance(_e))},en.onerror=function(){We(en.error)}}catch(no){We(no)}})}).catch(We)});return W(at,Ke),at}function jo(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){yt(Ke._dbInfo,ie,function(We,Pt){if(We)return nt(We);try{var Gt=Pt.objectStore(Ke._dbInfo.storeName),nn=Gt.openKeyCursor(),un=[];nn.onsuccess=function(){var en=nn.result;if(!en){at(un);return}un.push(en.key),en.continue()},nn.onerror=function(){nt(nn.error)}}catch(en){nt(en)}})}).catch(nt)});return W(Oe,_e),Oe}function ei(_e,Ke){Ke=ee.apply(this,arguments);var Oe=this.config();_e=typeof _e!="function"&&_e||{},_e.name||(_e.name=_e.name||Oe.name,_e.storeName=_e.storeName||Oe.storeName);var at=this,nt;if(!_e.name)nt=z.reject("Invalid arguments");else{var We=_e.name===Oe.name&&at._dbInfo.db,Pt=We?z.resolve(at._dbInfo.db):R(_e).then(function(Gt){var nn=Le[_e.name],un=nn.forages;nn.db=Gt;for(var en=0;en<un.length;en++)un[en]._dbInfo.db=Gt;return Gt});_e.storeName?nt=Pt.then(function(Gt){if(Gt.objectStoreNames.contains(_e.storeName)){var nn=Gt.version+1;Ye(_e);var un=Le[_e.name],en=un.forages;Gt.close();for(var no=0;no<en.length;no++){var Xt=en[no];Xt._dbInfo.db=null,Xt._dbInfo.version=nn}var or=new z(function(yo,No){var cs=L.open(_e.name,nn);cs.onerror=function(co){var fl=cs.result;fl.close(),No(co)},cs.onupgradeneeded=function(){var co=cs.result;co.deleteObjectStore(_e.storeName)},cs.onsuccess=function(){var co=cs.result;co.close(),yo(co)}});return or.then(function(yo){un.db=yo;for(var No=0;No<en.length;No++){var cs=en[No];cs._dbInfo.db=yo,mt(cs._dbInfo)}}).catch(function(yo){throw(Ee(_e,yo)||z.resolve()).catch(function(){}),yo})}}):nt=Pt.then(function(Gt){Ye(_e);var nn=Le[_e.name],un=nn.forages;Gt.close();for(var en=0;en<un.length;en++){var no=un[en];no._dbInfo.db=null}var Xt=new z(function(or,yo){var No=L.deleteDatabase(_e.name);No.onerror=function(){var cs=No.result;cs&&cs.close(),yo(No.error)},No.onblocked=function(){console.warn('dropInstance blocked for database "'+_e.name+'" until all open connections are closed')},No.onsuccess=function(){var cs=No.result;cs&&cs.close(),or(cs)}});return Xt.then(function(or){nn.db=or;for(var yo=0;yo<un.length;yo++){var No=un[yo];mt(No._dbInfo)}}).catch(function(or){throw(Ee(_e,or)||z.resolve()).catch(function(){}),or})})}return W(nt,Ke),nt}var Ze={_driver:"asyncStorage",_initStorage:jt,_support:P(),iterate:bo,getItem:bs,setItem:En,removeItem:Mn,clear:J,length:nr,key:dr,keys:jo,dropInstance:ei};function le(){return typeof openDatabase=="function"}var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ie="~~local_forage_type~",me=/^~~local_forage_type~([^~]+)~/,_t="__lfsc__:",$t=_t.length,xt="arbf",Ft="blob",It="si08",on="ui08",vn="uic8",xn="si16",Cn="si32",ro="ur16",po="ui32",Eo="fl32",Oo="fl64",Cs=$t+xt.length,ar=Object.prototype.toString;function gi(_e){var Ke=_e.length*.75,Oe=_e.length,at,nt=0,We,Pt,Gt,nn;_e[_e.length-1]==="="&&(Ke--,_e[_e.length-2]==="="&&Ke--);var un=new ArrayBuffer(Ke),en=new Uint8Array(un);for(at=0;at<Oe;at+=4)We=ve.indexOf(_e[at]),Pt=ve.indexOf(_e[at+1]),Gt=ve.indexOf(_e[at+2]),nn=ve.indexOf(_e[at+3]),en[nt++]=We<<2|Pt>>4,en[nt++]=(Pt&15)<<4|Gt>>2,en[nt++]=(Gt&3)<<6|nn&63;return un}function ln(_e){var Ke=new Uint8Array(_e),Oe="",at;for(at=0;at<Ke.length;at+=3)Oe+=ve[Ke[at]>>2],Oe+=ve[(Ke[at]&3)<<4|Ke[at+1]>>4],Oe+=ve[(Ke[at+1]&15)<<2|Ke[at+2]>>6],Oe+=ve[Ke[at+2]&63];return Ke.length%3===2?Oe=Oe.substring(0,Oe.length-1)+"=":Ke.length%3===1&&(Oe=Oe.substring(0,Oe.length-2)+"=="),Oe}function mo(_e,Ke){var Oe="";if(_e&&(Oe=ar.call(_e)),_e&&(Oe==="[object ArrayBuffer]"||_e.buffer&&ar.call(_e.buffer)==="[object ArrayBuffer]")){var at,nt=_t;_e instanceof ArrayBuffer?(at=_e,nt+=xt):(at=_e.buffer,Oe==="[object Int8Array]"?nt+=It:Oe==="[object Uint8Array]"?nt+=on:Oe==="[object Uint8ClampedArray]"?nt+=vn:Oe==="[object Int16Array]"?nt+=xn:Oe==="[object Uint16Array]"?nt+=ro:Oe==="[object Int32Array]"?nt+=Cn:Oe==="[object Uint32Array]"?nt+=po:Oe==="[object Float32Array]"?nt+=Eo:Oe==="[object Float64Array]"?nt+=Oo:Ke(new Error("Failed to get type for BinaryArray"))),Ke(nt+ln(at))}else if(Oe==="[object Blob]"){var We=new FileReader;We.onload=function(){var Pt=Ie+_e.type+"~"+ln(this.result);Ke(_t+Ft+Pt)},We.readAsArrayBuffer(_e)}else try{Ke(JSON.stringify(_e))}catch(Pt){console.error("Couldn't convert value into a JSON string: ",_e),Ke(null,Pt)}}function so(_e){if(_e.substring(0,$t)!==_t)return JSON.parse(_e);var Ke=_e.substring(Cs),Oe=_e.substring($t,Cs),at;if(Oe===Ft&&me.test(Ke)){var nt=Ke.match(me);at=nt[1],Ke=Ke.substring(nt[0].length)}var We=gi(Ke);switch(Oe){case xt:return We;case Ft:return D([We],{type:at});case It:return new Int8Array(We);case on:return new Uint8Array(We);case vn:return new Uint8ClampedArray(We);case xn:return new Int16Array(We);case ro:return new Uint16Array(We);case Cn:return new Int32Array(We);case po:return new Uint32Array(We);case Eo:return new Float32Array(We);case Oo:return new Float64Array(We);default:throw new Error("Unkown type: "+Oe)}}var zr={serialize:mo,deserialize:so,stringToBuffer:gi,bufferToString:ln};function Ba(_e,Ke,Oe,at){_e.executeSql("CREATE TABLE IF NOT EXISTS "+Ke.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Oe,at)}function Ht(_e){var Ke=this,Oe={db:null};if(_e)for(var at in _e)Oe[at]=typeof _e[at]!="string"?_e[at].toString():_e[at];var nt=new z(function(We,Pt){try{Oe.db=openDatabase(Oe.name,String(Oe.version),Oe.description,Oe.size)}catch(Gt){return Pt(Gt)}Oe.db.transaction(function(Gt){Ba(Gt,Oe,function(){Ke._dbInfo=Oe,We()},function(nn,un){Pt(un)})},Pt)});return Oe.serializer=zr,nt}function qs(_e,Ke,Oe,at,nt,We){_e.executeSql(Oe,at,nt,function(Pt,Gt){Gt.code===Gt.SYNTAX_ERR?Pt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ke.storeName],function(nn,un){un.rows.length?We(nn,Gt):Ba(nn,Ke,function(){nn.executeSql(Oe,at,nt,We)},We)},We):We(Pt,Gt)},We)}function Vo(_e,Ke){var Oe=this;_e=G(_e);var at=new z(function(nt,We){Oe.ready().then(function(){var Pt=Oe._dbInfo;Pt.db.transaction(function(Gt){qs(Gt,Pt,"SELECT * FROM "+Pt.storeName+" WHERE key = ? LIMIT 1",[_e],function(nn,un){var en=un.rows.length?un.rows.item(0).value:null;en&&(en=Pt.serializer.deserialize(en)),nt(en)},function(nn,un){We(un)})})}).catch(We)});return W(at,Ke),at}function wl(_e,Ke){var Oe=this,at=new z(function(nt,We){Oe.ready().then(function(){var Pt=Oe._dbInfo;Pt.db.transaction(function(Gt){qs(Gt,Pt,"SELECT * FROM "+Pt.storeName,[],function(nn,un){for(var en=un.rows,no=en.length,Xt=0;Xt<no;Xt++){var or=en.item(Xt),yo=or.value;if(yo&&(yo=Pt.serializer.deserialize(yo)),yo=_e(yo,or.key,Xt+1),yo!==void 0){nt(yo);return}}nt()},function(nn,un){We(un)})})}).catch(We)});return W(at,Ke),at}function yr(_e,Ke,Oe,at){var nt=this;_e=G(_e);var We=new z(function(Pt,Gt){nt.ready().then(function(){Ke===void 0&&(Ke=null);var nn=Ke,un=nt._dbInfo;un.serializer.serialize(Ke,function(en,no){no?Gt(no):un.db.transaction(function(Xt){qs(Xt,un,"INSERT OR REPLACE INTO "+un.storeName+" (key, value) VALUES (?, ?)",[_e,en],function(){Pt(nn)},function(or,yo){Gt(yo)})},function(Xt){if(Xt.code===Xt.QUOTA_ERR){if(at>0){Pt(yr.apply(nt,[_e,nn,Oe,at-1]));return}Gt(Xt)}})})}).catch(Gt)});return W(We,Oe),We}function Ps(_e,Ke,Oe){return yr.apply(this,[_e,Ke,Oe,1])}function Vf(_e,Ke){var Oe=this;_e=G(_e);var at=new z(function(nt,We){Oe.ready().then(function(){var Pt=Oe._dbInfo;Pt.db.transaction(function(Gt){qs(Gt,Pt,"DELETE FROM "+Pt.storeName+" WHERE key = ?",[_e],function(){nt()},function(nn,un){We(un)})})}).catch(We)});return W(at,Ke),at}function ou(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){var We=Ke._dbInfo;We.db.transaction(function(Pt){qs(Pt,We,"DELETE FROM "+We.storeName,[],function(){at()},function(Gt,nn){nt(nn)})})}).catch(nt)});return W(Oe,_e),Oe}function Jl(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){var We=Ke._dbInfo;We.db.transaction(function(Pt){qs(Pt,We,"SELECT COUNT(key) as c FROM "+We.storeName,[],function(Gt,nn){var un=nn.rows.item(0).c;at(un)},function(Gt,nn){nt(nn)})})}).catch(nt)});return W(Oe,_e),Oe}function qi(_e,Ke){var Oe=this,at=new z(function(nt,We){Oe.ready().then(function(){var Pt=Oe._dbInfo;Pt.db.transaction(function(Gt){qs(Gt,Pt,"SELECT key FROM "+Pt.storeName+" WHERE id = ? LIMIT 1",[_e+1],function(nn,un){var en=un.rows.length?un.rows.item(0).key:null;nt(en)},function(nn,un){We(un)})})}).catch(We)});return W(at,Ke),at}function ru(_e){var Ke=this,Oe=new z(function(at,nt){Ke.ready().then(function(){var We=Ke._dbInfo;We.db.transaction(function(Pt){qs(Pt,We,"SELECT key FROM "+We.storeName,[],function(Gt,nn){for(var un=[],en=0;en<nn.rows.length;en++)un.push(nn.rows.item(en).key);at(un)},function(Gt,nn){nt(nn)})})}).catch(nt)});return W(Oe,_e),Oe}function ir(_e){return new z(function(Ke,Oe){_e.transaction(function(at){at.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(nt,We){for(var Pt=[],Gt=0;Gt<We.rows.length;Gt++)Pt.push(We.rows.item(Gt).name);Ke({db:_e,storeNames:Pt})},function(nt,We){Oe(We)})},function(at){Oe(at)})})}function Gn(_e,Ke){Ke=ee.apply(this,arguments);var Oe=this.config();_e=typeof _e!="function"&&_e||{},_e.name||(_e.name=_e.name||Oe.name,_e.storeName=_e.storeName||Oe.storeName);var at=this,nt;return _e.name?nt=new z(function(We){var Pt;_e.name===Oe.name?Pt=at._dbInfo.db:Pt=openDatabase(_e.name,"","",0),_e.storeName?We({db:Pt,storeNames:[_e.storeName]}):We(ir(Pt))}).then(function(We){return new z(function(Pt,Gt){We.db.transaction(function(nn){function un(or){return new z(function(yo,No){nn.executeSql("DROP TABLE IF EXISTS "+or,[],function(){yo()},function(cs,co){No(co)})})}for(var en=[],no=0,Xt=We.storeNames.length;no<Xt;no++)en.push(un(We.storeNames[no]));z.all(en).then(function(){Pt()}).catch(function(or){Gt(or)})},function(nn){Gt(nn)})})}):nt=z.reject("Invalid arguments"),W(nt,Ke),nt}var _l={_driver:"webSQLStorage",_initStorage:Ht,_support:le(),iterate:wl,getItem:Vo,setItem:Ps,removeItem:Vf,clear:ou,length:Jl,key:qi,keys:ru,dropInstance:Gn};function la(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function su(_e,Ke){var Oe=_e.name+"/";return _e.storeName!==Ke.storeName&&(Oe+=_e.storeName+"/"),Oe}function Qt(){var _e="_localforage_support_test";try{return localStorage.setItem(_e,!0),localStorage.removeItem(_e),!1}catch{return!0}}function au(){return!Qt()||localStorage.length>0}function Uf(_e){var Ke=this,Oe={};if(_e)for(var at in _e)Oe[at]=_e[at];return Oe.keyPrefix=su(_e,Ke._defaultConfig),au()?(Ke._dbInfo=Oe,Oe.serializer=zr,z.resolve()):z.reject()}function Yr(_e){var Ke=this,Oe=Ke.ready().then(function(){for(var at=Ke._dbInfo.keyPrefix,nt=localStorage.length-1;nt>=0;nt--){var We=localStorage.key(nt);We.indexOf(at)===0&&localStorage.removeItem(We)}});return W(Oe,_e),Oe}function Wf(_e,Ke){var Oe=this;_e=G(_e);var at=Oe.ready().then(function(){var nt=Oe._dbInfo,We=localStorage.getItem(nt.keyPrefix+_e);return We&&(We=nt.serializer.deserialize(We)),We});return W(at,Ke),at}function Di(_e,Ke){var Oe=this,at=Oe.ready().then(function(){for(var nt=Oe._dbInfo,We=nt.keyPrefix,Pt=We.length,Gt=localStorage.length,nn=1,un=0;un<Gt;un++){var en=localStorage.key(un);if(en.indexOf(We)===0){var no=localStorage.getItem(en);if(no&&(no=nt.serializer.deserialize(no)),no=_e(no,en.substring(Pt),nn++),no!==void 0)return no}}});return W(at,Ke),at}function ul(_e,Ke){var Oe=this,at=Oe.ready().then(function(){var nt=Oe._dbInfo,We;try{We=localStorage.key(_e)}catch{We=null}return We&&(We=We.substring(nt.keyPrefix.length)),We});return W(at,Ke),at}function Gi(_e){var Ke=this,Oe=Ke.ready().then(function(){for(var at=Ke._dbInfo,nt=localStorage.length,We=[],Pt=0;Pt<nt;Pt++){var Gt=localStorage.key(Pt);Gt.indexOf(at.keyPrefix)===0&&We.push(Gt.substring(at.keyPrefix.length))}return We});return W(Oe,_e),Oe}function Vr(_e){var Ke=this,Oe=Ke.keys().then(function(at){return at.length});return W(Oe,_e),Oe}function ti(_e,Ke){var Oe=this;_e=G(_e);var at=Oe.ready().then(function(){var nt=Oe._dbInfo;localStorage.removeItem(nt.keyPrefix+_e)});return W(at,Ke),at}function dl(_e,Ke,Oe){var at=this;_e=G(_e);var nt=at.ready().then(function(){Ke===void 0&&(Ke=null);var We=Ke;return new z(function(Pt,Gt){var nn=at._dbInfo;nn.serializer.serialize(Ke,function(un,en){if(en)Gt(en);else try{localStorage.setItem(nn.keyPrefix+_e,un),Pt(We)}catch(no){(no.name==="QuotaExceededError"||no.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Gt(no),Gt(no)}})})});return W(nt,Oe),nt}function Zf(_e,Ke){if(Ke=ee.apply(this,arguments),_e=typeof _e!="function"&&_e||{},!_e.name){var Oe=this.config();_e.name=_e.name||Oe.name,_e.storeName=_e.storeName||Oe.storeName}var at=this,nt;return _e.name?nt=new z(function(We){_e.storeName?We(su(_e,at._defaultConfig)):We(_e.name+"/")}).then(function(We){for(var Pt=localStorage.length-1;Pt>=0;Pt--){var Gt=localStorage.key(Pt);Gt.indexOf(We)===0&&localStorage.removeItem(Gt)}}):nt=z.reject("Invalid arguments"),W(nt,Ke),nt}var Sc={_driver:"localStorageWrapper",_initStorage:Uf,_support:la(),iterate:Di,getItem:Wf,setItem:dl,removeItem:ti,clear:Yr,length:Vr,key:ul,keys:Gi,dropInstance:Zf},kc=function(Ke,Oe){return Ke===Oe||typeof Ke=="number"&&typeof Oe=="number"&&isNaN(Ke)&&isNaN(Oe)},Md=function(Ke,Oe){for(var at=Ke.length,nt=0;nt<at;){if(kc(Ke[nt],Oe))return!0;nt++}return!1},Gu=Array.isArray||function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},Uo={},vs={},Vs={INDEXEDDB:Ze,WEBSQL:_l,LOCALSTORAGE:Sc},jf=[Vs.INDEXEDDB._driver,Vs.WEBSQL._driver,Vs.LOCALSTORAGE._driver],Ri=["dropInstance"],Ec=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ri),ni={description:"",driver:jf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function oi(_e,Ke){_e[Ke]=function(){var Oe=arguments;return _e.ready().then(function(){return _e[Ke].apply(_e,Oe)})}}function Ac(){for(var _e=1;_e<arguments.length;_e++){var Ke=arguments[_e];if(Ke)for(var Oe in Ke)Ke.hasOwnProperty(Oe)&&(Gu(Ke[Oe])?arguments[0][Oe]=Ke[Oe].slice():arguments[0][Oe]=Ke[Oe])}return arguments[0]}var fr=function(){function _e(Ke){y(this,_e);for(var Oe in Vs)if(Vs.hasOwnProperty(Oe)){var at=Vs[Oe],nt=at._driver;this[Oe]=nt,Uo[nt]||this.defineDriver(at)}this._defaultConfig=Ac({},ni),this._config=Ac({},this._defaultConfig,Ke),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return _e.prototype.config=function(Oe){if((typeof Oe>"u"?"undefined":b(Oe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var at in Oe){if(at==="storeName"&&(Oe[at]=Oe[at].replace(/\W/g,"_")),at==="version"&&typeof Oe[at]!="number")return new Error("Database version must be a number.");this._config[at]=Oe[at]}return"driver"in Oe&&Oe.driver?this.setDriver(this._config.driver):!0}else return typeof Oe=="string"?this._config[Oe]:this._config},_e.prototype.defineDriver=function(Oe,at,nt){var We=new z(function(Pt,Gt){try{var nn=Oe._driver,un=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Oe._driver){Gt(un);return}for(var en=Ec.concat("_initStorage"),no=0,Xt=en.length;no<Xt;no++){var or=en[no],yo=!Md(Ri,or);if((yo||Oe[or])&&typeof Oe[or]!="function"){Gt(un);return}}var No=function(){for(var fl=function(ns){return function(){var Yu=new Error("Method "+ns+" is not implemented by the current driver"),Ss=z.reject(Yu);return W(Ss,arguments[arguments.length-1]),Ss}},Ma=0,Xn=Ri.length;Ma<Xn;Ma++){var Ni=Ri[Ma];Oe[Ni]||(Oe[Ni]=fl(Ni))}};No();var cs=function(fl){Uo[nn]&&console.info("Redefining LocalForage driver: "+nn),Uo[nn]=Oe,vs[nn]=fl,Pt()};"_support"in Oe?Oe._support&&typeof Oe._support=="function"?Oe._support().then(cs,Gt):cs(!!Oe._support):cs(!0)}catch(co){Gt(co)}});return U(We,at,nt),We},_e.prototype.driver=function(){return this._driver||null},_e.prototype.getDriver=function(Oe,at,nt){var We=Uo[Oe]?z.resolve(Uo[Oe]):z.reject(new Error("Driver not found."));return U(We,at,nt),We},_e.prototype.getSerializer=function(Oe){var at=z.resolve(zr);return U(at,Oe),at},_e.prototype.ready=function(Oe){var at=this,nt=at._driverSet.then(function(){return at._ready===null&&(at._ready=at._initDriver()),at._ready});return U(nt,Oe,Oe),nt},_e.prototype.setDriver=function(Oe,at,nt){var We=this;Gu(Oe)||(Oe=[Oe]);var Pt=this._getSupportedDrivers(Oe);function Gt(){We._config.driver=We.driver()}function nn(no){return We._extend(no),Gt(),We._ready=We._initStorage(We._config),We._ready}function un(no){return function(){var Xt=0;function or(){for(;Xt<no.length;){var yo=no[Xt];return Xt++,We._dbInfo=null,We._ready=null,We.getDriver(yo).then(nn).catch(or)}Gt();var No=new Error("No available storage method found.");return We._driverSet=z.reject(No),We._driverSet}return or()}}var en=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=en.then(function(){var no=Pt[0];return We._dbInfo=null,We._ready=null,We.getDriver(no).then(function(Xt){We._driver=Xt._driver,Gt(),We._wrapLibraryMethodsWithReady(),We._initDriver=un(Pt)})}).catch(function(){Gt();var no=new Error("No available storage method found.");return We._driverSet=z.reject(no),We._driverSet}),U(this._driverSet,at,nt),this._driverSet},_e.prototype.supports=function(Oe){return!!vs[Oe]},_e.prototype._extend=function(Oe){Ac(this,Oe)},_e.prototype._getSupportedDrivers=function(Oe){for(var at=[],nt=0,We=Oe.length;nt<We;nt++){var Pt=Oe[nt];this.supports(Pt)&&at.push(Pt)}return at},_e.prototype._wrapLibraryMethodsWithReady=function(){for(var Oe=0,at=Ec.length;Oe<at;Oe++)oi(this,Ec[Oe])},_e.prototype.createInstance=function(Oe){return new _e(Oe)},_e}(),Ur=new fr;m.exports=Ur},{3:3}]},{},[4])(4)})})(Yq);var Qce=Yq.exports;const Bp=lM(Qce);function Xq(r,i){return function(){return r.apply(i,arguments)}}const{toString:eue}=Object.prototype,{getPrototypeOf:R$}=Object,cM=(r=>i=>{const d=eue.call(i);return r[d]||(r[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),uh=r=>(r=r.toLowerCase(),i=>cM(i)===r),uM=r=>i=>typeof i===r,{isArray:nk}=Array,KT=uM("undefined");function tue(r){return r!==null&&!KT(r)&&r.constructor!==null&&!KT(r.constructor)&&Lf(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Jq=uh("ArrayBuffer");function nue(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Jq(r.buffer),i}const oue=uM("string"),Lf=uM("function"),Qq=uM("number"),dM=r=>r!==null&&typeof r=="object",rue=r=>r===!0||r===!1,kB=r=>{if(cM(r)!=="object")return!1;const i=R$(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},sue=uh("Date"),aue=uh("File"),iue=uh("Blob"),lue=uh("FileList"),cue=r=>dM(r)&&Lf(r.pipe),uue=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||Lf(r.append)&&((i=cM(r))==="formdata"||i==="object"&&Lf(r.toString)&&r.toString()==="[object FormData]"))},due=uh("URLSearchParams"),[fue,mue,gue,hue]=["ReadableStream","Request","Response","Headers"].map(uh),pue=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rO(r,i,{allOwnKeys:d=!1}={}){if(r===null||typeof r>"u")return;let m,x;if(typeof r!="object"&&(r=[r]),nk(r))for(m=0,x=r.length;m<x;m++)i.call(null,r[m],m,r);else{const b=d?Object.getOwnPropertyNames(r):Object.keys(r),y=b.length;let S;for(m=0;m<y;m++)S=b[m],i.call(null,r[S],S,r)}}function eG(r,i){i=i.toLowerCase();const d=Object.keys(r);let m=d.length,x;for(;m-- >0;)if(x=d[m],i===x.toLowerCase())return x;return null}const iw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tG=r=>!KT(r)&&r!==iw;function LH(){const{caseless:r}=tG(this)&&this||{},i={},d=(m,x)=>{const b=r&&eG(i,x)||x;kB(i[b])&&kB(m)?i[b]=LH(i[b],m):kB(m)?i[b]=LH({},m):nk(m)?i[b]=m.slice():i[b]=m};for(let m=0,x=arguments.length;m<x;m++)arguments[m]&&rO(arguments[m],d);return i}const bue=(r,i,d,{allOwnKeys:m}={})=>(rO(i,(x,b)=>{d&&Lf(x)?r[b]=Xq(x,d):r[b]=x},{allOwnKeys:m}),r),vue=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),xue=(r,i,d,m)=>{r.prototype=Object.create(i.prototype,m),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),d&&Object.assign(r.prototype,d)},yue=(r,i,d,m)=>{let x,b,y;const S={};if(i=i||{},r==null)return i;do{for(x=Object.getOwnPropertyNames(r),b=x.length;b-- >0;)y=x[b],(!m||m(y,r,i))&&!S[y]&&(i[y]=r[y],S[y]=!0);r=d!==!1&&R$(r)}while(r&&(!d||d(r,i))&&r!==Object.prototype);return i},wue=(r,i,d)=>{r=String(r),(d===void 0||d>r.length)&&(d=r.length),d-=i.length;const m=r.indexOf(i,d);return m!==-1&&m===d},_ue=r=>{if(!r)return null;if(nk(r))return r;let i=r.length;if(!Qq(i))return null;const d=new Array(i);for(;i-- >0;)d[i]=r[i];return d},Cue=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&R$(Uint8Array)),Sue=(r,i)=>{const m=(r&&r[Symbol.iterator]).call(r);let x;for(;(x=m.next())&&!x.done;){const b=x.value;i.call(r,b[0],b[1])}},kue=(r,i)=>{let d;const m=[];for(;(d=r.exec(i))!==null;)m.push(d);return m},Eue=uh("HTMLFormElement"),Aue=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,m,x){return m.toUpperCase()+x}),mj=(({hasOwnProperty:r})=>(i,d)=>r.call(i,d))(Object.prototype),Tue=uh("RegExp"),nG=(r,i)=>{const d=Object.getOwnPropertyDescriptors(r),m={};rO(d,(x,b)=>{let y;(y=i(x,b,r))!==!1&&(m[b]=y||x)}),Object.defineProperties(r,m)},Oue=r=>{nG(r,(i,d)=>{if(Lf(r)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const m=r[d];if(Lf(m)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},Due=(r,i)=>{const d={},m=x=>{x.forEach(b=>{d[b]=!0})};return nk(r)?m(r):m(String(r).split(i)),d},Rue=()=>{},Nue=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i,G9="abcdefghijklmnopqrstuvwxyz",gj="0123456789",oG={DIGIT:gj,ALPHA:G9,ALPHA_DIGIT:G9+G9.toUpperCase()+gj},Iue=(r=16,i=oG.ALPHA_DIGIT)=>{let d="";const{length:m}=i;for(;r--;)d+=i[Math.random()*m|0];return d};function Bue(r){return!!(r&&Lf(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Mue=r=>{const i=new Array(10),d=(m,x)=>{if(dM(m)){if(i.indexOf(m)>=0)return;if(!("toJSON"in m)){i[x]=m;const b=nk(m)?[]:{};return rO(m,(y,S)=>{const L=d(y,x+1);!KT(L)&&(b[S]=L)}),i[x]=void 0,b}}return m};return d(r,0)},Pue=uh("AsyncFunction"),Lue=r=>r&&(dM(r)||Lf(r))&&Lf(r.then)&&Lf(r.catch),rG=((r,i)=>r?setImmediate:i?((d,m)=>(iw.addEventListener("message",({source:x,data:b})=>{x===iw&&b===d&&m.length&&m.shift()()},!1),x=>{m.push(x),iw.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",Lf(iw.postMessage)),Fue=typeof queueMicrotask<"u"?queueMicrotask.bind(iw):typeof process<"u"&&process.nextTick||rG,zt={isArray:nk,isArrayBuffer:Jq,isBuffer:tue,isFormData:uue,isArrayBufferView:nue,isString:oue,isNumber:Qq,isBoolean:rue,isObject:dM,isPlainObject:kB,isReadableStream:fue,isRequest:mue,isResponse:gue,isHeaders:hue,isUndefined:KT,isDate:sue,isFile:aue,isBlob:iue,isRegExp:Tue,isFunction:Lf,isStream:cue,isURLSearchParams:due,isTypedArray:Cue,isFileList:lue,forEach:rO,merge:LH,extend:bue,trim:pue,stripBOM:vue,inherits:xue,toFlatObject:yue,kindOf:cM,kindOfTest:uh,endsWith:wue,toArray:_ue,forEachEntry:Sue,matchAll:kue,isHTMLForm:Eue,hasOwnProperty:mj,hasOwnProp:mj,reduceDescriptors:nG,freezeMethods:Oue,toObjectSet:Due,toCamelCase:Aue,noop:Rue,toFiniteNumber:Nue,findKey:eG,global:iw,isContextDefined:tG,ALPHABET:oG,generateString:Iue,isSpecCompliantForm:Bue,toJSONObject:Mue,isAsyncFn:Pue,isThenable:Lue,setImmediate:rG,asap:Fue};function Cr(r,i,d,m,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),d&&(this.config=d),m&&(this.request=m),x&&(this.response=x,this.status=x.status?x.status:null)}zt.inherits(Cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:zt.toJSONObject(this.config),code:this.code,status:this.status}}});const sG=Cr.prototype,aG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{aG[r]={value:r}});Object.defineProperties(Cr,aG);Object.defineProperty(sG,"isAxiosError",{value:!0});Cr.from=(r,i,d,m,x,b)=>{const y=Object.create(sG);return zt.toFlatObject(r,y,function(L){return L!==Error.prototype},S=>S!=="isAxiosError"),Cr.call(y,r.message,i,d,m,x),y.cause=r,y.name=r.name,b&&Object.assign(y,b),y};const zue=null;function FH(r){return zt.isPlainObject(r)||zt.isArray(r)}function iG(r){return zt.endsWith(r,"[]")?r.slice(0,-2):r}function hj(r,i,d){return r?r.concat(i).map(function(x,b){return x=iG(x),!d&&b?"["+x+"]":x}).join(d?".":""):i}function Hue(r){return zt.isArray(r)&&!r.some(FH)}const $ue=zt.toFlatObject(zt,{},null,function(i){return/^is[A-Z]/.test(i)});function fM(r,i,d){if(!zt.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,d=zt.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,ye){return!zt.isUndefined(ye[ee])});const m=d.metaTokens,x=d.visitor||D,b=d.dots,y=d.indexes,L=(d.Blob||typeof Blob<"u"&&Blob)&&zt.isSpecCompliantForm(i);if(!zt.isFunction(x))throw new TypeError("visitor must be a function");function P(G){if(G===null)return"";if(zt.isDate(G))return G.toISOString();if(!L&&zt.isBlob(G))throw new Cr("Blob is not supported. Use a Buffer instead.");return zt.isArrayBuffer(G)||zt.isTypedArray(G)?L&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function D(G,ee,ye){let ge=G;if(G&&!ye&&typeof G=="object"){if(zt.endsWith(ee,"{}"))ee=m?ee:ee.slice(0,-2),G=JSON.stringify(G);else if(zt.isArray(G)&&Hue(G)||(zt.isFileList(G)||zt.endsWith(ee,"[]"))&&(ge=zt.toArray(G)))return ee=iG(ee),ge.forEach(function(Be,ie){!(zt.isUndefined(Be)||Be===null)&&i.append(y===!0?hj([ee],ie,b):y===null?ee:ee+"[]",P(Be))}),!1}return FH(G)?!0:(i.append(hj(ye,ee,b),P(G)),!1)}const z=[],W=Object.assign($ue,{defaultVisitor:D,convertValue:P,isVisitable:FH});function U(G,ee){if(!zt.isUndefined(G)){if(z.indexOf(G)!==-1)throw Error("Circular reference detected in "+ee.join("."));z.push(G),zt.forEach(G,function(ge,Le){(!(zt.isUndefined(ge)||ge===null)&&x.call(i,ge,zt.isString(Le)?Le.trim():Le,ee,W))===!0&&U(ge,ee?ee.concat(Le):[Le])}),z.pop()}}if(!zt.isObject(r))throw new TypeError("data must be an object");return U(r),i}function pj(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(m){return i[m]})}function N$(r,i){this._pairs=[],r&&fM(r,this,i)}const lG=N$.prototype;lG.append=function(i,d){this._pairs.push([i,d])};lG.toString=function(i){const d=i?function(m){return i.call(this,m,pj)}:pj;return this._pairs.map(function(x){return d(x[0])+"="+d(x[1])},"").join("&")};function Vue(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cG(r,i,d){if(!i)return r;const m=d&&d.encode||Vue,x=d&&d.serialize;let b;if(x?b=x(i,d):b=zt.isURLSearchParams(i)?i.toString():new N$(i,d).toString(m),b){const y=r.indexOf("#");y!==-1&&(r=r.slice(0,y)),r+=(r.indexOf("?")===-1?"?":"&")+b}return r}class bj{constructor(){this.handlers=[]}use(i,d,m){return this.handlers.push({fulfilled:i,rejected:d,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){zt.forEach(this.handlers,function(m){m!==null&&i(m)})}}const uG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uue=typeof URLSearchParams<"u"?URLSearchParams:N$,Wue=typeof FormData<"u"?FormData:null,Zue=typeof Blob<"u"?Blob:null,jue={isBrowser:!0,classes:{URLSearchParams:Uue,FormData:Wue,Blob:Zue},protocols:["http","https","file","blob","url","data"]},I$=typeof window<"u"&&typeof document<"u",zH=typeof navigator=="object"&&navigator||void 0,Kue=I$&&(!zH||["ReactNative","NativeScript","NS"].indexOf(zH.product)<0),que=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gue=I$&&window.location.href||"http://localhost",Yue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I$,hasStandardBrowserEnv:Kue,hasStandardBrowserWebWorkerEnv:que,navigator:zH,origin:Gue},Symbol.toStringTag,{value:"Module"})),Dd={...Yue,...jue};function Xue(r,i){return fM(r,new Dd.classes.URLSearchParams,Object.assign({visitor:function(d,m,x,b){return Dd.isNode&&zt.isBuffer(d)?(this.append(m,d.toString("base64")),!1):b.defaultVisitor.apply(this,arguments)}},i))}function Jue(r){return zt.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Que(r){const i={},d=Object.keys(r);let m;const x=d.length;let b;for(m=0;m<x;m++)b=d[m],i[b]=r[b];return i}function dG(r){function i(d,m,x,b){let y=d[b++];if(y==="__proto__")return!0;const S=Number.isFinite(+y),L=b>=d.length;return y=!y&&zt.isArray(x)?x.length:y,L?(zt.hasOwnProp(x,y)?x[y]=[x[y],m]:x[y]=m,!S):((!x[y]||!zt.isObject(x[y]))&&(x[y]=[]),i(d,m,x[y],b)&&zt.isArray(x[y])&&(x[y]=Que(x[y])),!S)}if(zt.isFormData(r)&&zt.isFunction(r.entries)){const d={};return zt.forEachEntry(r,(m,x)=>{i(Jue(m),x,d,0)}),d}return null}function ede(r,i,d){if(zt.isString(r))try{return(i||JSON.parse)(r),zt.trim(r)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(r)}const sO={transitional:uG,adapter:["xhr","http","fetch"],transformRequest:[function(i,d){const m=d.getContentType()||"",x=m.indexOf("application/json")>-1,b=zt.isObject(i);if(b&&zt.isHTMLForm(i)&&(i=new FormData(i)),zt.isFormData(i))return x?JSON.stringify(dG(i)):i;if(zt.isArrayBuffer(i)||zt.isBuffer(i)||zt.isStream(i)||zt.isFile(i)||zt.isBlob(i)||zt.isReadableStream(i))return i;if(zt.isArrayBufferView(i))return i.buffer;if(zt.isURLSearchParams(i))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let S;if(b){if(m.indexOf("application/x-www-form-urlencoded")>-1)return Xue(i,this.formSerializer).toString();if((S=zt.isFileList(i))||m.indexOf("multipart/form-data")>-1){const L=this.env&&this.env.FormData;return fM(S?{"files[]":i}:i,L&&new L,this.formSerializer)}}return b||x?(d.setContentType("application/json",!1),ede(i)):i}],transformResponse:[function(i){const d=this.transitional||sO.transitional,m=d&&d.forcedJSONParsing,x=this.responseType==="json";if(zt.isResponse(i)||zt.isReadableStream(i))return i;if(i&&zt.isString(i)&&(m&&!this.responseType||x)){const y=!(d&&d.silentJSONParsing)&&x;try{return JSON.parse(i)}catch(S){if(y)throw S.name==="SyntaxError"?Cr.from(S,Cr.ERR_BAD_RESPONSE,this,null,this.response):S}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dd.classes.FormData,Blob:Dd.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};zt.forEach(["delete","get","head","post","put","patch"],r=>{sO.headers[r]={}});const tde=zt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nde=r=>{const i={};let d,m,x;return r&&r.split(`
`).forEach(function(y){x=y.indexOf(":"),d=y.substring(0,x).trim().toLowerCase(),m=y.substring(x+1).trim(),!(!d||i[d]&&tde[d])&&(d==="set-cookie"?i[d]?i[d].push(m):i[d]=[m]:i[d]=i[d]?i[d]+", "+m:m)}),i},vj=Symbol("internals");function DT(r){return r&&String(r).trim().toLowerCase()}function EB(r){return r===!1||r==null?r:zt.isArray(r)?r.map(EB):String(r)}function ode(r){const i=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=d.exec(r);)i[m[1]]=m[2];return i}const rde=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Y9(r,i,d,m,x){if(zt.isFunction(m))return m.call(this,i,d);if(x&&(i=d),!!zt.isString(i)){if(zt.isString(m))return i.indexOf(m)!==-1;if(zt.isRegExp(m))return m.test(i)}}function sde(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,d,m)=>d.toUpperCase()+m)}function ade(r,i){const d=zt.toCamelCase(" "+i);["get","set","has"].forEach(m=>{Object.defineProperty(r,m+d,{value:function(x,b,y){return this[m].call(this,i,x,b,y)},configurable:!0})})}class Rd{constructor(i){i&&this.set(i)}set(i,d,m){const x=this;function b(S,L,P){const D=DT(L);if(!D)throw new Error("header name must be a non-empty string");const z=zt.findKey(x,D);(!z||x[z]===void 0||P===!0||P===void 0&&x[z]!==!1)&&(x[z||L]=EB(S))}const y=(S,L)=>zt.forEach(S,(P,D)=>b(P,D,L));if(zt.isPlainObject(i)||i instanceof this.constructor)y(i,d);else if(zt.isString(i)&&(i=i.trim())&&!rde(i))y(nde(i),d);else if(zt.isHeaders(i))for(const[S,L]of i.entries())b(L,S,m);else i!=null&&b(d,i,m);return this}get(i,d){if(i=DT(i),i){const m=zt.findKey(this,i);if(m){const x=this[m];if(!d)return x;if(d===!0)return ode(x);if(zt.isFunction(d))return d.call(this,x,m);if(zt.isRegExp(d))return d.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,d){if(i=DT(i),i){const m=zt.findKey(this,i);return!!(m&&this[m]!==void 0&&(!d||Y9(this,this[m],m,d)))}return!1}delete(i,d){const m=this;let x=!1;function b(y){if(y=DT(y),y){const S=zt.findKey(m,y);S&&(!d||Y9(m,m[S],S,d))&&(delete m[S],x=!0)}}return zt.isArray(i)?i.forEach(b):b(i),x}clear(i){const d=Object.keys(this);let m=d.length,x=!1;for(;m--;){const b=d[m];(!i||Y9(this,this[b],b,i,!0))&&(delete this[b],x=!0)}return x}normalize(i){const d=this,m={};return zt.forEach(this,(x,b)=>{const y=zt.findKey(m,b);if(y){d[y]=EB(x),delete d[b];return}const S=i?sde(b):String(b).trim();S!==b&&delete d[b],d[S]=EB(x),m[S]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const d=Object.create(null);return zt.forEach(this,(m,x)=>{m!=null&&m!==!1&&(d[x]=i&&zt.isArray(m)?m.join(", "):m)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,d])=>i+": "+d).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...d){const m=new this(i);return d.forEach(x=>m.set(x)),m}static accessor(i){const m=(this[vj]=this[vj]={accessors:{}}).accessors,x=this.prototype;function b(y){const S=DT(y);m[S]||(ade(x,y),m[S]=!0)}return zt.isArray(i)?i.forEach(b):b(i),this}}Rd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);zt.reduceDescriptors(Rd.prototype,({value:r},i)=>{let d=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(m){this[d]=m}}});zt.freezeMethods(Rd);function X9(r,i){const d=this||sO,m=i||d,x=Rd.from(m.headers);let b=m.data;return zt.forEach(r,function(S){b=S.call(d,b,x.normalize(),i?i.status:void 0)}),x.normalize(),b}function fG(r){return!!(r&&r.__CANCEL__)}function ok(r,i,d){Cr.call(this,r??"canceled",Cr.ERR_CANCELED,i,d),this.name="CanceledError"}zt.inherits(ok,Cr,{__CANCEL__:!0});function mG(r,i,d){const m=d.config.validateStatus;!d.status||!m||m(d.status)?r(d):i(new Cr("Request failed with status code "+d.status,[Cr.ERR_BAD_REQUEST,Cr.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function ide(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function lde(r,i){r=r||10;const d=new Array(r),m=new Array(r);let x=0,b=0,y;return i=i!==void 0?i:1e3,function(L){const P=Date.now(),D=m[b];y||(y=P),d[x]=L,m[x]=P;let z=b,W=0;for(;z!==x;)W+=d[z++],z=z%r;if(x=(x+1)%r,x===b&&(b=(b+1)%r),P-y<i)return;const U=D&&P-D;return U?Math.round(W*1e3/U):void 0}}function cde(r,i){let d=0,m=1e3/i,x,b;const y=(P,D=Date.now())=>{d=D,x=null,b&&(clearTimeout(b),b=null),r.apply(null,P)};return[(...P)=>{const D=Date.now(),z=D-d;z>=m?y(P,D):(x=P,b||(b=setTimeout(()=>{b=null,y(x)},m-z)))},()=>x&&y(x)]}const $B=(r,i,d=3)=>{let m=0;const x=lde(50,250);return cde(b=>{const y=b.loaded,S=b.lengthComputable?b.total:void 0,L=y-m,P=x(L),D=y<=S;m=y;const z={loaded:y,total:S,progress:S?y/S:void 0,bytes:L,rate:P||void 0,estimated:P&&S&&D?(S-y)/P:void 0,event:b,lengthComputable:S!=null,[i?"download":"upload"]:!0};r(z)},d)},xj=(r,i)=>{const d=r!=null;return[m=>i[0]({lengthComputable:d,total:r,loaded:m}),i[1]]},yj=r=>(...i)=>zt.asap(()=>r(...i)),ude=Dd.hasStandardBrowserEnv?function(){const i=Dd.navigator&&/(msie|trident)/i.test(Dd.navigator.userAgent),d=document.createElement("a");let m;function x(b){let y=b;return i&&(d.setAttribute("href",y),y=d.href),d.setAttribute("href",y),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return m=x(window.location.href),function(y){const S=zt.isString(y)?x(y):y;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}(),dde=Dd.hasStandardBrowserEnv?{write(r,i,d,m,x,b){const y=[r+"="+encodeURIComponent(i)];zt.isNumber(d)&&y.push("expires="+new Date(d).toGMTString()),zt.isString(m)&&y.push("path="+m),zt.isString(x)&&y.push("domain="+x),b===!0&&y.push("secure"),document.cookie=y.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fde(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function mde(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function gG(r,i){return r&&!fde(i)?mde(r,i):i}const wj=r=>r instanceof Rd?{...r}:r;function bw(r,i){i=i||{};const d={};function m(P,D,z){return zt.isPlainObject(P)&&zt.isPlainObject(D)?zt.merge.call({caseless:z},P,D):zt.isPlainObject(D)?zt.merge({},D):zt.isArray(D)?D.slice():D}function x(P,D,z){if(zt.isUndefined(D)){if(!zt.isUndefined(P))return m(void 0,P,z)}else return m(P,D,z)}function b(P,D){if(!zt.isUndefined(D))return m(void 0,D)}function y(P,D){if(zt.isUndefined(D)){if(!zt.isUndefined(P))return m(void 0,P)}else return m(void 0,D)}function S(P,D,z){if(z in i)return m(P,D);if(z in r)return m(void 0,P)}const L={url:b,method:b,data:b,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:S,headers:(P,D)=>x(wj(P),wj(D),!0)};return zt.forEach(Object.keys(Object.assign({},r,i)),function(D){const z=L[D]||x,W=z(r[D],i[D],D);zt.isUndefined(W)&&z!==S||(d[D]=W)}),d}const hG=r=>{const i=bw({},r);let{data:d,withXSRFToken:m,xsrfHeaderName:x,xsrfCookieName:b,headers:y,auth:S}=i;i.headers=y=Rd.from(y),i.url=cG(gG(i.baseURL,i.url),r.params,r.paramsSerializer),S&&y.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let L;if(zt.isFormData(d)){if(Dd.hasStandardBrowserEnv||Dd.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if((L=y.getContentType())!==!1){const[P,...D]=L?L.split(";").map(z=>z.trim()).filter(Boolean):[];y.setContentType([P||"multipart/form-data",...D].join("; "))}}if(Dd.hasStandardBrowserEnv&&(m&&zt.isFunction(m)&&(m=m(i)),m||m!==!1&&ude(i.url))){const P=x&&b&&dde.read(b);P&&y.set(x,P)}return i},gde=typeof XMLHttpRequest<"u",hde=gde&&function(r){return new Promise(function(d,m){const x=hG(r);let b=x.data;const y=Rd.from(x.headers).normalize();let{responseType:S,onUploadProgress:L,onDownloadProgress:P}=x,D,z,W,U,G;function ee(){U&&U(),G&&G(),x.cancelToken&&x.cancelToken.unsubscribe(D),x.signal&&x.signal.removeEventListener("abort",D)}let ye=new XMLHttpRequest;ye.open(x.method.toUpperCase(),x.url,!0),ye.timeout=x.timeout;function ge(){if(!ye)return;const Be=Rd.from("getAllResponseHeaders"in ye&&ye.getAllResponseHeaders()),Me={data:!S||S==="text"||S==="json"?ye.responseText:ye.response,status:ye.status,statusText:ye.statusText,headers:Be,config:r,request:ye};mG(function(Je){d(Je),ee()},function(Je){m(Je),ee()},Me),ye=null}"onloadend"in ye?ye.onloadend=ge:ye.onreadystatechange=function(){!ye||ye.readyState!==4||ye.status===0&&!(ye.responseURL&&ye.responseURL.indexOf("file:")===0)||setTimeout(ge)},ye.onabort=function(){ye&&(m(new Cr("Request aborted",Cr.ECONNABORTED,r,ye)),ye=null)},ye.onerror=function(){m(new Cr("Network Error",Cr.ERR_NETWORK,r,ye)),ye=null},ye.ontimeout=function(){let ie=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const Me=x.transitional||uG;x.timeoutErrorMessage&&(ie=x.timeoutErrorMessage),m(new Cr(ie,Me.clarifyTimeoutError?Cr.ETIMEDOUT:Cr.ECONNABORTED,r,ye)),ye=null},b===void 0&&y.setContentType(null),"setRequestHeader"in ye&&zt.forEach(y.toJSON(),function(ie,Me){ye.setRequestHeader(Me,ie)}),zt.isUndefined(x.withCredentials)||(ye.withCredentials=!!x.withCredentials),S&&S!=="json"&&(ye.responseType=x.responseType),P&&([W,G]=$B(P,!0),ye.addEventListener("progress",W)),L&&ye.upload&&([z,U]=$B(L),ye.upload.addEventListener("progress",z),ye.upload.addEventListener("loadend",U)),(x.cancelToken||x.signal)&&(D=Be=>{ye&&(m(!Be||Be.type?new ok(null,r,ye):Be),ye.abort(),ye=null)},x.cancelToken&&x.cancelToken.subscribe(D),x.signal&&(x.signal.aborted?D():x.signal.addEventListener("abort",D)));const Le=ide(x.url);if(Le&&Dd.protocols.indexOf(Le)===-1){m(new Cr("Unsupported protocol "+Le+":",Cr.ERR_BAD_REQUEST,r));return}ye.send(b||null)})},pde=(r,i)=>{const{length:d}=r=r?r.filter(Boolean):[];if(i||d){let m=new AbortController,x;const b=function(P){if(!x){x=!0,S();const D=P instanceof Error?P:this.reason;m.abort(D instanceof Cr?D:new ok(D instanceof Error?D.message:D))}};let y=i&&setTimeout(()=>{y=null,b(new Cr(`timeout ${i} of ms exceeded`,Cr.ETIMEDOUT))},i);const S=()=>{r&&(y&&clearTimeout(y),y=null,r.forEach(P=>{P.unsubscribe?P.unsubscribe(b):P.removeEventListener("abort",b)}),r=null)};r.forEach(P=>P.addEventListener("abort",b));const{signal:L}=m;return L.unsubscribe=()=>zt.asap(S),L}},bde=function*(r,i){let d=r.byteLength;if(d<i){yield r;return}let m=0,x;for(;m<d;)x=m+i,yield r.slice(m,x),m=x},vde=async function*(r,i){for await(const d of xde(r))yield*bde(d,i)},xde=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:d,value:m}=await i.read();if(d)break;yield m}}finally{await i.cancel()}},_j=(r,i,d,m)=>{const x=vde(r,i);let b=0,y,S=L=>{y||(y=!0,m&&m(L))};return new ReadableStream({async pull(L){try{const{done:P,value:D}=await x.next();if(P){S(),L.close();return}let z=D.byteLength;if(d){let W=b+=z;d(W)}L.enqueue(new Uint8Array(D))}catch(P){throw S(P),P}},cancel(L){return S(L),x.return()}},{highWaterMark:2})},mM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pG=mM&&typeof ReadableStream=="function",yde=mM&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),bG=(r,...i)=>{try{return!!r(...i)}catch{return!1}},wde=pG&&bG(()=>{let r=!1;const i=new Request(Dd.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),Cj=64*1024,HH=pG&&bG(()=>zt.isReadableStream(new Response("").body)),VB={stream:HH&&(r=>r.body)};mM&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!VB[i]&&(VB[i]=zt.isFunction(r[i])?d=>d[i]():(d,m)=>{throw new Cr(`Response type '${i}' is not supported`,Cr.ERR_NOT_SUPPORT,m)})})})(new Response);const _de=async r=>{if(r==null)return 0;if(zt.isBlob(r))return r.size;if(zt.isSpecCompliantForm(r))return(await new Request(Dd.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(zt.isArrayBufferView(r)||zt.isArrayBuffer(r))return r.byteLength;if(zt.isURLSearchParams(r)&&(r=r+""),zt.isString(r))return(await yde(r)).byteLength},Cde=async(r,i)=>{const d=zt.toFiniteNumber(r.getContentLength());return d??_de(i)},Sde=mM&&(async r=>{let{url:i,method:d,data:m,signal:x,cancelToken:b,timeout:y,onDownloadProgress:S,onUploadProgress:L,responseType:P,headers:D,withCredentials:z="same-origin",fetchOptions:W}=hG(r);P=P?(P+"").toLowerCase():"text";let U=pde([x,b&&b.toAbortSignal()],y),G;const ee=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let ye;try{if(L&&wde&&d!=="get"&&d!=="head"&&(ye=await Cde(D,m))!==0){let Me=new Request(i,{method:"POST",body:m,duplex:"half"}),oe;if(zt.isFormData(m)&&(oe=Me.headers.get("content-type"))&&D.setContentType(oe),Me.body){const[Je,Ve]=xj(ye,$B(yj(L)));m=_j(Me.body,Cj,Je,Ve)}}zt.isString(z)||(z=z?"include":"omit");const ge="credentials"in Request.prototype;G=new Request(i,{...W,signal:U,method:d.toUpperCase(),headers:D.normalize().toJSON(),body:m,duplex:"half",credentials:ge?z:void 0});let Le=await fetch(G);const Be=HH&&(P==="stream"||P==="response");if(HH&&(S||Be&&ee)){const Me={};["status","statusText","headers"].forEach(Ye=>{Me[Ye]=Le[Ye]});const oe=zt.toFiniteNumber(Le.headers.get("content-length")),[Je,Ve]=S&&xj(oe,$B(yj(S),!0))||[];Le=new Response(_j(Le.body,Cj,Je,()=>{Ve&&Ve(),ee&&ee()}),Me)}P=P||"text";let ie=await VB[zt.findKey(VB,P)||"text"](Le,r);return!Be&&ee&&ee(),await new Promise((Me,oe)=>{mG(Me,oe,{data:ie,headers:Rd.from(Le.headers),status:Le.status,statusText:Le.statusText,config:r,request:G})})}catch(ge){throw ee&&ee(),ge&&ge.name==="TypeError"&&/fetch/i.test(ge.message)?Object.assign(new Cr("Network Error",Cr.ERR_NETWORK,r,G),{cause:ge.cause||ge}):Cr.from(ge,ge&&ge.code,r,G)}}),$H={http:zue,xhr:hde,fetch:Sde};zt.forEach($H,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Sj=r=>`- ${r}`,kde=r=>zt.isFunction(r)||r===null||r===!1,vG={getAdapter:r=>{r=zt.isArray(r)?r:[r];const{length:i}=r;let d,m;const x={};for(let b=0;b<i;b++){d=r[b];let y;if(m=d,!kde(d)&&(m=$H[(y=String(d)).toLowerCase()],m===void 0))throw new Cr(`Unknown adapter '${y}'`);if(m)break;x[y||"#"+b]=m}if(!m){const b=Object.entries(x).map(([S,L])=>`adapter ${S} `+(L===!1?"is not supported by the environment":"is not available in the build"));let y=i?b.length>1?`since :
`+b.map(Sj).join(`
`):" "+Sj(b[0]):"as no adapter specified";throw new Cr("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return m},adapters:$H};function J9(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ok(null,r)}function kj(r){return J9(r),r.headers=Rd.from(r.headers),r.data=X9.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),vG.getAdapter(r.adapter||sO.adapter)(r).then(function(m){return J9(r),m.data=X9.call(r,r.transformResponse,m),m.headers=Rd.from(m.headers),m},function(m){return fG(m)||(J9(r),m&&m.response&&(m.response.data=X9.call(r,r.transformResponse,m.response),m.response.headers=Rd.from(m.response.headers))),Promise.reject(m)})}const xG="1.7.7",B$={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{B$[r]=function(m){return typeof m===r||"a"+(i<1?"n ":" ")+r}});const Ej={};B$.transitional=function(i,d,m){function x(b,y){return"[Axios v"+xG+"] Transitional option '"+b+"'"+y+(m?". "+m:"")}return(b,y,S)=>{if(i===!1)throw new Cr(x(y," has been removed"+(d?" in "+d:"")),Cr.ERR_DEPRECATED);return d&&!Ej[y]&&(Ej[y]=!0,console.warn(x(y," has been deprecated since v"+d+" and will be removed in the near future"))),i?i(b,y,S):!0}};function Ede(r,i,d){if(typeof r!="object")throw new Cr("options must be an object",Cr.ERR_BAD_OPTION_VALUE);const m=Object.keys(r);let x=m.length;for(;x-- >0;){const b=m[x],y=i[b];if(y){const S=r[b],L=S===void 0||y(S,b,r);if(L!==!0)throw new Cr("option "+b+" must be "+L,Cr.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new Cr("Unknown option "+b,Cr.ERR_BAD_OPTION)}}const VH={assertOptions:Ede,validators:B$},Pv=VH.validators;class gw{constructor(i){this.defaults=i,this.interceptors={request:new bj,response:new bj}}async request(i,d){try{return await this._request(i,d)}catch(m){if(m instanceof Error){let x;Error.captureStackTrace?Error.captureStackTrace(x={}):x=new Error;const b=x.stack?x.stack.replace(/^.+\n/,""):"";try{m.stack?b&&!String(m.stack).endsWith(b.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+b):m.stack=b}catch{}}throw m}}_request(i,d){typeof i=="string"?(d=d||{},d.url=i):d=i||{},d=bw(this.defaults,d);const{transitional:m,paramsSerializer:x,headers:b}=d;m!==void 0&&VH.assertOptions(m,{silentJSONParsing:Pv.transitional(Pv.boolean),forcedJSONParsing:Pv.transitional(Pv.boolean),clarifyTimeoutError:Pv.transitional(Pv.boolean)},!1),x!=null&&(zt.isFunction(x)?d.paramsSerializer={serialize:x}:VH.assertOptions(x,{encode:Pv.function,serialize:Pv.function},!0)),d.method=(d.method||this.defaults.method||"get").toLowerCase();let y=b&&zt.merge(b.common,b[d.method]);b&&zt.forEach(["delete","get","head","post","put","patch","common"],G=>{delete b[G]}),d.headers=Rd.concat(y,b);const S=[];let L=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(d)===!1||(L=L&&ee.synchronous,S.unshift(ee.fulfilled,ee.rejected))});const P=[];this.interceptors.response.forEach(function(ee){P.push(ee.fulfilled,ee.rejected)});let D,z=0,W;if(!L){const G=[kj.bind(this),void 0];for(G.unshift.apply(G,S),G.push.apply(G,P),W=G.length,D=Promise.resolve(d);z<W;)D=D.then(G[z++],G[z++]);return D}W=S.length;let U=d;for(z=0;z<W;){const G=S[z++],ee=S[z++];try{U=G(U)}catch(ye){ee.call(this,ye);break}}try{D=kj.call(this,U)}catch(G){return Promise.reject(G)}for(z=0,W=P.length;z<W;)D=D.then(P[z++],P[z++]);return D}getUri(i){i=bw(this.defaults,i);const d=gG(i.baseURL,i.url);return cG(d,i.params,i.paramsSerializer)}}zt.forEach(["delete","get","head","options"],function(i){gw.prototype[i]=function(d,m){return this.request(bw(m||{},{method:i,url:d,data:(m||{}).data}))}});zt.forEach(["post","put","patch"],function(i){function d(m){return function(b,y,S){return this.request(bw(S||{},{method:i,headers:m?{"Content-Type":"multipart/form-data"}:{},url:b,data:y}))}}gw.prototype[i]=d(),gw.prototype[i+"Form"]=d(!0)});class M${constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(b){d=b});const m=this;this.promise.then(x=>{if(!m._listeners)return;let b=m._listeners.length;for(;b-- >0;)m._listeners[b](x);m._listeners=null}),this.promise.then=x=>{let b;const y=new Promise(S=>{m.subscribe(S),b=S}).then(x);return y.cancel=function(){m.unsubscribe(b)},y},i(function(b,y,S){m.reason||(m.reason=new ok(b,y,S),d(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const d=this._listeners.indexOf(i);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const i=new AbortController,d=m=>{i.abort(m)};return this.subscribe(d),i.signal.unsubscribe=()=>this.unsubscribe(d),i.signal}static source(){let i;return{token:new M$(function(x){i=x}),cancel:i}}}function Ade(r){return function(d){return r.apply(null,d)}}function Tde(r){return zt.isObject(r)&&r.isAxiosError===!0}const UH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(UH).forEach(([r,i])=>{UH[i]=r});function yG(r){const i=new gw(r),d=Xq(gw.prototype.request,i);return zt.extend(d,gw.prototype,i,{allOwnKeys:!0}),zt.extend(d,i,null,{allOwnKeys:!0}),d.create=function(x){return yG(bw(r,x))},d}const Ra=yG(sO);Ra.Axios=gw;Ra.CanceledError=ok;Ra.CancelToken=M$;Ra.isCancel=fG;Ra.VERSION=xG;Ra.toFormData=fM;Ra.AxiosError=Cr;Ra.Cancel=Ra.CanceledError;Ra.all=function(i){return Promise.all(i)};Ra.spread=Ade;Ra.isAxiosError=Tde;Ra.mergeConfig=bw;Ra.AxiosHeaders=Rd;Ra.formToJSON=r=>dG(zt.isHTMLForm(r)?new FormData(r):r);Ra.getAdapter=vG.getAdapter;Ra.HttpStatusCode=UH;Ra.default=Ra;/*! js-cookie v3.0.5 | MIT */function pB(r){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var m in d)r[m]=d[m]}return r}var Ode={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function WH(r,i){function d(x,b,y){if(!(typeof document>"u")){y=pB({},i,y),typeof y.expires=="number"&&(y.expires=new Date(Date.now()+y.expires*864e5)),y.expires&&(y.expires=y.expires.toUTCString()),x=encodeURIComponent(x).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var L in y)y[L]&&(S+="; "+L,y[L]!==!0&&(S+="="+y[L].split(";")[0]));return document.cookie=x+"="+r.write(b,x)+S}}function m(x){if(!(typeof document>"u"||arguments.length&&!x)){for(var b=document.cookie?document.cookie.split("; "):[],y={},S=0;S<b.length;S++){var L=b[S].split("="),P=L.slice(1).join("=");try{var D=decodeURIComponent(L[0]);if(y[D]=r.read(P,D),x===D)break}catch{}}return x?y[x]:y}}return Object.create({set:d,get:m,remove:function(x,b){d(x,"",pB({},b,{expires:-1}))},withAttributes:function(x){return WH(this.converter,pB({},this.attributes,x))},withConverter:function(x){return WH(pB({},this.converter,x),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}var Zi=WH(Ode,{path:"/"});const Dde=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Rde="",Nde=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",Ide='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',Bde='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',Q9=Bp.createInstance({storeName:"writer-settings",description:"Settings data"}),Op=ag("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:r=>r.notice_boards>0,primaryColorCss:r=>r.primary_color?"#"+r.primary_color:"",primaryTextColorCss:r=>r.primary_text_color?"#"+r.primary_text_color:"",primaryTextColorFullCss:r=>r.primary_text_color?"color: #"+r.primary_text_color+";":"",tinyToolbar:r=>{switch(r.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:r=>{switch(r.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:r=>r.headline_scheme=="three"?1.3:1,tinyH2Size:r=>r.headline_scheme=="three"?1.15:1,tinyStyles:r=>{switch(r.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"Überschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"Überschrift 1",format:"h1"},{title:"Überschrift 2",format:"h2"},{title:"Überschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"Überschrift 1",format:"h1"},{title:"Überschrift 2",format:"h2"},{title:"Überschrift 3",format:"h3"},{title:"Überschrift 4",format:"h4"},{title:"Überschrift 5",format:"h5"},{title:"Überschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:r=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:r=>{const i=Dde.toString();switch(r.headline_scheme){case"single":return i+`
`+Rde.toString();case"three":return i+`
`+Nde.toString();case"numeric":return i+`
`+Ide.toString();case"edutiek":return i+`
`+Bde.toString();default:return i}},contentClass:r=>{switch(r.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(r){this.headline_scheme=r.headline_scheme,this.formatting_options=r.formatting_options,this.notice_boards=r.notice_boards,this.copy_allowed=r.copy_allowed,this.primary_color=r.primary_color,this.primary_text_color=r.primary_text_color,this.allow_spellcheck=r.allow_spellcheck},async clearStorage(){try{await Q9.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await Q9.getItem("settings");this.setData(r)}catch(r){console.log(r)}},async loadFromData(r){try{await Q9.setItem("settings",r),this.setData(r)}catch(i){console.log(i)}}}}),Gl=class Gl{constructor(i={}){es(this,"action",null);es(this,"type",null);es(this,"key","");es(this,"last_change",0);es(this,"payload",null);this.setData(i),this.last_change==0&&(this.last_change=Date.now())}setData(i){i.action!==void 0&&Gl.ALLOWED_ACTIONS.includes(i.action)&&(this.action=i.action.toString()),i.type!==void 0&&Gl.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change)),i.payload!==void 0&&i.payload!==null&&(this.payload=i.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return Gl.ALLOWED_TYPES.includes(this.type)&&Gl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};es(Gl,"ACTION_SAVE","save"),es(Gl,"ACTION_DELETE","delete"),es(Gl,"ALLOWED_ACTIONS",[Gl.ACTION_SAVE,Gl.ACTION_DELETE]),es(Gl,"TYPE_ANNOTATIONS","annotations"),es(Gl,"TYPE_NOTES","notes"),es(Gl,"TYPE_PREFERENCES","preferences"),es(Gl,"ALLOWED_TYPES",[Gl.TYPE_ANNOTATIONS,Gl.TYPE_NOTES,Gl.TYPE_PREFERENCES]);let xa=Gl;const bB=Bp.createInstance({storeName:"writer-changes",description:"Writer changes data"});function Aj(){const r={changes:{}};for(const i of xa.ALLOWED_TYPES)r.changes[i]={};return r}const Qm=ag("changes",{state:()=>Aj(),getters:{countChanges:r=>{let i=0;for(const d in r.changes)i+=Object.keys(r.changes[d]).length;return i},getCountOfChangesFor:r=>function(d){return xa.ALLOWED_TYPES.includes(d)?Object.keys(r.changes[d]).length:(console.log("wrong type"+d),0)},getChangesFor:r=>function(d,m=0){if(!xa.ALLOWED_TYPES.includes(d))return[];const x=[];for(const b in r.changes[d]){const y=r.changes[d][b];(m==0||y.last_change<=m)&&x.push(y)}return x}},actions:{async clearStorage(){try{await bB.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){const r=Aj();try{for(const i in r.changes){const d=await bB.getItem(i);if(d){const m=JSON.parse(d);if(typeof m=="object"&&m!==null)for(const x in m)r.changes[i][x]=new xa(m[x])}}}catch(i){console.log(i)}this.$patch(r)},async saveChangesOfTypeToStorage(r){const i={};for(const d in this.changes[r]){const m=this.changes[r][d];i[d]=m.getData()}await bB.setItem(r,JSON.stringify(i))},async hasChangesInStorage(){for(const r in this.changes){const i=await bB.getItem(r);if(i){const d=JSON.parse(i);if(Object.keys(d).length>0)return!0}}return!1},async setChange(r){r.isValid()&&(this.changes[r.type][r.key]=r,await this.saveChangesOfTypeToStorage(r.type))},async unsetChange(r){r.isValid()&&(delete this.changes[r.type][r.key],await this.saveChangesOfTypeToStorage(r.type))},async setChangesSent(r,i,d){const m=this.changes[r];let x=!1;for(const b in i){const y=i[b],S=m[b];S&&(S.last_change<=d?(delete m[b],x=!0):(y==null||y!=b)&&(S.key=y,m[y]=S,delete m[b],x=!0))}x&&await this.saveChangesOfTypeToStorage(r)}}}),eH=Bp.createInstance({storeName:"writer-preferences",description:"Preferences data"}),Kv=ag("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:r=>({instructions_zoom:r.instructions_zoom,editor_zoom:r.editor_zoom,word_count_enabled:r.word_count_enabled,word_count_characters:r.word_count_characters})},actions:{async clearStorage(){try{await eH.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{const r=await eH.getItem("preferences");r&&this.$patch(r)}catch(r){console.log(r)}},async saveToStorage(){try{await eH.setItem("preferences",this.allData)}catch(r){console.log(r)}},loadFromData(r){try{this.$patch(r),this.sent=!0,this.saveToStorage()}catch(i){console.log(i)}},async update(){const r=Qm();Id(),await this.saveToStorage(),await r.setChange(new xa({type:xa.TYPE_PREFERENCES,action:xa.ACTION_SAVE,key:"preferences"}))},async getChangedData(r=0){const i=Id(),d=Qm(),m=[];for(const x of d.getChangesFor(xa.TYPE_PREFERENCES,r))m.push(i.getChangeDataToSend(x,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),di=class di{constructor(i={}){es(this,"key","");es(this,"title","");es(this,"type",null);es(this,"embedded",!0);es(this,"source","");es(this,"url","");es(this,"mimetype","");es(this,"size",null);this.setData(i)}setData(i){i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.title!==void 0&&i.title!==null&&(this.title=i.title.toString()),i.type!==void 0&&di.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.embedded!==void 0&&i.embedded!==null&&(this.embedded=!!i.embedded),i.source!==void 0&&i.source!==null&&(this.source=i.source.toString(),this.type==di.TYPE_URL&&(this.url=this.source)),i.url!==void 0&&i.url!==null&&(this.url=i.url.toString()),i.mimetype!==void 0&&i.mimetype!==null&&(this.mimetype=i.mimetype),i.size!==void 0&&i.size!==null&&(this.size=parseInt(i.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[di.TYPE_FILE,di.TYPE_SOLUTION,di.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==di.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==di.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==di.TYPE_FILE||this.type==di.TYPE_URL&&this.embedded}hasFileToLoad(){return[di.TYPE_FILE,di.TYPE_SOLUTION,di.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new di(this.getData())}};es(di,"TYPE_FILE","file"),es(di,"TYPE_URL","url"),es(di,"TYPE_INSTRUCTION","instruct"),es(di,"TYPE_SOLUTION","solution"),es(di,"ALLOWED_TYPES",[di.TYPE_FILE,di.TYPE_URL,di.TYPE_INSTRUCTION,di.TYPE_SOLUTION]);let Od=di;const O0=Bp.createInstance({storeName:"writer-resources",description:"Resource data"}),Rp=ag("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:r=>r.resources.length>0,hasInstruction(r){return!!r.resources.find(d=>d.type==Od.TYPE_INSTRUCTION)},getInstruction(r){return r.resources.find(i=>i.type==Od.TYPE_INSTRUCTION)},hasFileResources(r){return!!r.resources.find(d=>d.type==Od.TYPE_FILE)},hasFileOrUrlResources(r){return!!r.resources.find(d=>d.type==Od.TYPE_FILE||d.type==Od.TYPE_URL)},getFileOrUrlResources(r){return r.resources.filter(i=>i.type==Od.TYPE_FILE||i.type==Od.TYPE_URL)},activeTitle(r){const i=r.resources.find(d=>d.key==r.activeKey);return i?i.title:""},getResource(r){return i=>r.resources.find(d=>d.key==i)},isActive(r){return i=>r.activeKey==i.key}},actions:{async clearStorage(){try{await O0.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await O0.getItem("resourceKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await O0.getItem("activeKey")??[],this.resources=[];for(const i of this.keys){const d=await O0.getItem(i);if(d){const m=JSON.parse(d);if(typeof m=="object"&&m!==null){const x=new Od(m);this.resources.push(x)}}}await this.loadFiles()}catch(r){console.log(r)}},async loadFromData(r){const i=Id();try{await O0.clear(),this.$reset();for(const d of r){const m=new Od(d);m.type!=Od.TYPE_URL&&(m.url=i.getResourceUrl(m.key)),this.resources.push(m),this.activeKey==""&&m.isEmbeddedSelectable()&&(this.activeKey=m.key),this.keys.push(m.getKey()),await O0.setItem(m.getKey(),JSON.stringify(m.getData()))}await O0.setItem("keys",JSON.stringify(this.keys)),await O0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(d){console.log(d)}},async selectResource(r){this.activeKey=r.key,await O0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const r of this.keys){let i=this.getResource(r),d=null;if(i.hasFileToLoad())try{console.log("preload "+i.title+"..."),d=await Ra(i.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}}}}}),tH=Bp.createInstance({storeName:"writer-layout",description:"Layout data"}),Wu=ag("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:r=>r.expandedColumn=="left",isRightExpanded:r=>r.expandedColumn=="right",isLeftVisible:r=>r.expandedColumn!="right",isRightVisible:r=>r.expandedColumn!="left",isInstructionsSelected:r=>r.leftContent=="instructions",isInstructionsPdfSelected:r=>r.leftContent=="instructionsPdf",isResourcesSelected:r=>r.leftContent=="resources",isEssaySelected:r=>r.rightContent=="essay",isNotesSelected:r=>r.rightContent=="notes",isInstructionsVisible:r=>r.expandedColumn!="right"&&r.leftContent=="instructions",isInstructionsPdfVisible:r=>r.isInstructionsPdfSelected&&r.isLeftVisible,isResourcesVisible:r=>r.expandedColumn!="right"&&r.leftContent=="resources",isEssayVisible:r=>r.expandedColumn!="left"&&r.rightContent=="essay",isNotesVisible:r=>r.expandedColumn!="left"&&r.rightContent=="notes",isResourceShown:r=>{const i=Rp();return function(m){return r.isInstructionsPdfVisible&&m.type==Od.TYPE_INSTRUCTION||r.isResourcesVisible&&i.isActive(m)}}},actions:{async initialize(){await this.clearStorage();const r=Rp(),i=og();this.leftContent=i.hasInstructions?"instructions":r.hasInstruction?"instructionsPdf":r.hasFileResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await tH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await tH.getItem("layout");r&&(this.expandedColumn=r.expandedColumn,this.showTimer=r.showTimer)}catch(r){console.log(r)}},async saveToStorage(){try{await tH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(r){console.log(r)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(r){this.expandedColumn=r?"left":"none",this.saveToStorage()},setRightExpanded(r){this.expandedColumn=r?"right":"none",this.saveToStorage()},setFocusChange(r){this.focusTarget=r,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(r){if(r.altKey)switch(r.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var wG={exports:{}};(function(r){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},d=-1,m=1,x=0;i.Diff=function(b,y){return[b,y]},i.prototype.diff_main=function(b,y,S,L){typeof L>"u"&&(this.Diff_Timeout<=0?L=Number.MAX_VALUE:L=new Date().getTime()+this.Diff_Timeout*1e3);var P=L;if(b==null||y==null)throw new Error("Null input. (diff_main)");if(b==y)return b?[new i.Diff(x,b)]:[];typeof S>"u"&&(S=!0);var D=S,z=this.diff_commonPrefix(b,y),W=b.substring(0,z);b=b.substring(z),y=y.substring(z),z=this.diff_commonSuffix(b,y);var U=b.substring(b.length-z);b=b.substring(0,b.length-z),y=y.substring(0,y.length-z);var G=this.diff_compute_(b,y,D,P);return W&&G.unshift(new i.Diff(x,W)),U&&G.push(new i.Diff(x,U)),this.diff_cleanupMerge(G),G},i.prototype.diff_compute_=function(b,y,S,L){var P;if(!b)return[new i.Diff(m,y)];if(!y)return[new i.Diff(d,b)];var D=b.length>y.length?b:y,z=b.length>y.length?y:b,W=D.indexOf(z);if(W!=-1)return P=[new i.Diff(m,D.substring(0,W)),new i.Diff(x,z),new i.Diff(m,D.substring(W+z.length))],b.length>y.length&&(P[0][0]=P[2][0]=d),P;if(z.length==1)return[new i.Diff(d,b),new i.Diff(m,y)];var U=this.diff_halfMatch_(b,y);if(U){var G=U[0],ee=U[1],ye=U[2],ge=U[3],Le=U[4],Be=this.diff_main(G,ye,S,L),ie=this.diff_main(ee,ge,S,L);return Be.concat([new i.Diff(x,Le)],ie)}return S&&b.length>100&&y.length>100?this.diff_lineMode_(b,y,L):this.diff_bisect_(b,y,L)},i.prototype.diff_lineMode_=function(b,y,S){var L=this.diff_linesToChars_(b,y);b=L.chars1,y=L.chars2;var P=L.lineArray,D=this.diff_main(b,y,!1,S);this.diff_charsToLines_(D,P),this.diff_cleanupSemantic(D),D.push(new i.Diff(x,""));for(var z=0,W=0,U=0,G="",ee="";z<D.length;){switch(D[z][0]){case m:U++,ee+=D[z][1];break;case d:W++,G+=D[z][1];break;case x:if(W>=1&&U>=1){D.splice(z-W-U,W+U),z=z-W-U;for(var ye=this.diff_main(G,ee,!1,S),ge=ye.length-1;ge>=0;ge--)D.splice(z,0,ye[ge]);z=z+ye.length}U=0,W=0,G="",ee="";break}z++}return D.pop(),D},i.prototype.diff_bisect_=function(b,y,S){for(var L=b.length,P=y.length,D=Math.ceil((L+P)/2),z=D,W=2*D,U=new Array(W),G=new Array(W),ee=0;ee<W;ee++)U[ee]=-1,G[ee]=-1;U[z+1]=0,G[z+1]=0;for(var ye=L-P,ge=ye%2!=0,Le=0,Be=0,ie=0,Me=0,oe=0;oe<D&&!(new Date().getTime()>S);oe++){for(var Je=-oe+Le;Je<=oe-Be;Je+=2){var Ve=z+Je,Ye;Je==-oe||Je!=oe&&U[Ve-1]<U[Ve+1]?Ye=U[Ve+1]:Ye=U[Ve-1]+1;for(var mt=Ye-Je;Ye<L&&mt<P&&b.charAt(Ye)==y.charAt(mt);)Ye++,mt++;if(U[Ve]=Ye,Ye>L)Be+=2;else if(mt>P)Le+=2;else if(ge){var Ee=z+ye-Je;if(Ee>=0&&Ee<W&&G[Ee]!=-1){var Ne=L-G[Ee];if(Ye>=Ne)return this.diff_bisectSplit_(b,y,Ye,mt,S)}}}for(var R=-oe+ie;R<=oe-Me;R+=2){var Ee=z+R,Ne;R==-oe||R!=oe&&G[Ee-1]<G[Ee+1]?Ne=G[Ee+1]:Ne=G[Ee-1]+1;for(var Nt=Ne-R;Ne<L&&Nt<P&&b.charAt(L-Ne-1)==y.charAt(P-Nt-1);)Ne++,Nt++;if(G[Ee]=Ne,Ne>L)Me+=2;else if(Nt>P)ie+=2;else if(!ge){var Ve=z+ye-R;if(Ve>=0&&Ve<W&&U[Ve]!=-1){var Ye=U[Ve],mt=z+Ye-Ve;if(Ne=L-Ne,Ye>=Ne)return this.diff_bisectSplit_(b,y,Ye,mt,S)}}}}return[new i.Diff(d,b),new i.Diff(m,y)]},i.prototype.diff_bisectSplit_=function(b,y,S,L,P){var D=b.substring(0,S),z=y.substring(0,L),W=b.substring(S),U=y.substring(L),G=this.diff_main(D,z,!1,P),ee=this.diff_main(W,U,!1,P);return G.concat(ee)},i.prototype.diff_linesToChars_=function(b,y){var S=[],L={};S[0]="";function P(U){for(var G="",ee=0,ye=-1,ge=S.length;ye<U.length-1;){ye=U.indexOf(`
`,ee),ye==-1&&(ye=U.length-1);var Le=U.substring(ee,ye+1);(L.hasOwnProperty?L.hasOwnProperty(Le):L[Le]!==void 0)?G+=String.fromCharCode(L[Le]):(ge==D&&(Le=U.substring(ee),ye=U.length),G+=String.fromCharCode(ge),L[Le]=ge,S[ge++]=Le),ee=ye+1}return G}var D=4e4,z=P(b);D=65535;var W=P(y);return{chars1:z,chars2:W,lineArray:S}},i.prototype.diff_charsToLines_=function(b,y){for(var S=0;S<b.length;S++){for(var L=b[S][1],P=[],D=0;D<L.length;D++)P[D]=y[L.charCodeAt(D)];b[S][1]=P.join("")}},i.prototype.diff_commonPrefix=function(b,y){if(!b||!y||b.charAt(0)!=y.charAt(0))return 0;for(var S=0,L=Math.min(b.length,y.length),P=L,D=0;S<P;)b.substring(D,P)==y.substring(D,P)?(S=P,D=S):L=P,P=Math.floor((L-S)/2+S);return P},i.prototype.diff_commonSuffix=function(b,y){if(!b||!y||b.charAt(b.length-1)!=y.charAt(y.length-1))return 0;for(var S=0,L=Math.min(b.length,y.length),P=L,D=0;S<P;)b.substring(b.length-P,b.length-D)==y.substring(y.length-P,y.length-D)?(S=P,D=S):L=P,P=Math.floor((L-S)/2+S);return P},i.prototype.diff_commonOverlap_=function(b,y){var S=b.length,L=y.length;if(S==0||L==0)return 0;S>L?b=b.substring(S-L):S<L&&(y=y.substring(0,S));var P=Math.min(S,L);if(b==y)return P;for(var D=0,z=1;;){var W=b.substring(P-z),U=y.indexOf(W);if(U==-1)return D;z+=U,(U==0||b.substring(P-z)==y.substring(0,z))&&(D=z,z++)}},i.prototype.diff_halfMatch_=function(b,y){if(this.Diff_Timeout<=0)return null;var S=b.length>y.length?b:y,L=b.length>y.length?y:b;if(S.length<4||L.length*2<S.length)return null;var P=this;function D(Be,ie,Me){for(var oe=Be.substring(Me,Me+Math.floor(Be.length/4)),Je=-1,Ve="",Ye,mt,Ee,Ne;(Je=ie.indexOf(oe,Je+1))!=-1;){var R=P.diff_commonPrefix(Be.substring(Me),ie.substring(Je)),Nt=P.diff_commonSuffix(Be.substring(0,Me),ie.substring(0,Je));Ve.length<Nt+R&&(Ve=ie.substring(Je-Nt,Je)+ie.substring(Je,Je+R),Ye=Be.substring(0,Me-Nt),mt=Be.substring(Me+R),Ee=ie.substring(0,Je-Nt),Ne=ie.substring(Je+R))}return Ve.length*2>=Be.length?[Ye,mt,Ee,Ne,Ve]:null}var z=D(S,L,Math.ceil(S.length/4)),W=D(S,L,Math.ceil(S.length/2)),U;if(!z&&!W)return null;W?z?U=z[4].length>W[4].length?z:W:U=W:U=z;var G,ee,ye,ge;b.length>y.length?(G=U[0],ee=U[1],ye=U[2],ge=U[3]):(ye=U[0],ge=U[1],G=U[2],ee=U[3]);var Le=U[4];return[G,ee,ye,ge,Le]},i.prototype.diff_cleanupSemantic=function(b){for(var y=!1,S=[],L=0,P=null,D=0,z=0,W=0,U=0,G=0;D<b.length;)b[D][0]==x?(S[L++]=D,z=U,W=G,U=0,G=0,P=b[D][1]):(b[D][0]==m?U+=b[D][1].length:G+=b[D][1].length,P&&P.length<=Math.max(z,W)&&P.length<=Math.max(U,G)&&(b.splice(S[L-1],0,new i.Diff(d,P)),b[S[L-1]+1][0]=m,L--,L--,D=L>0?S[L-1]:-1,z=0,W=0,U=0,G=0,P=null,y=!0)),D++;for(y&&this.diff_cleanupMerge(b),this.diff_cleanupSemanticLossless(b),D=1;D<b.length;){if(b[D-1][0]==d&&b[D][0]==m){var ee=b[D-1][1],ye=b[D][1],ge=this.diff_commonOverlap_(ee,ye),Le=this.diff_commonOverlap_(ye,ee);ge>=Le?(ge>=ee.length/2||ge>=ye.length/2)&&(b.splice(D,0,new i.Diff(x,ye.substring(0,ge))),b[D-1][1]=ee.substring(0,ee.length-ge),b[D+1][1]=ye.substring(ge),D++):(Le>=ee.length/2||Le>=ye.length/2)&&(b.splice(D,0,new i.Diff(x,ee.substring(0,Le))),b[D-1][0]=m,b[D-1][1]=ye.substring(0,ye.length-Le),b[D+1][0]=d,b[D+1][1]=ee.substring(Le),D++),D++}D++}},i.prototype.diff_cleanupSemanticLossless=function(b){function y(Le,Be){if(!Le||!Be)return 6;var ie=Le.charAt(Le.length-1),Me=Be.charAt(0),oe=ie.match(i.nonAlphaNumericRegex_),Je=Me.match(i.nonAlphaNumericRegex_),Ve=oe&&ie.match(i.whitespaceRegex_),Ye=Je&&Me.match(i.whitespaceRegex_),mt=Ve&&ie.match(i.linebreakRegex_),Ee=Ye&&Me.match(i.linebreakRegex_),Ne=mt&&Le.match(i.blanklineEndRegex_),R=Ee&&Be.match(i.blanklineStartRegex_);return Ne||R?5:mt||Ee?4:oe&&!Ve&&Ye?3:Ve||Ye?2:oe||Je?1:0}for(var S=1;S<b.length-1;){if(b[S-1][0]==x&&b[S+1][0]==x){var L=b[S-1][1],P=b[S][1],D=b[S+1][1],z=this.diff_commonSuffix(L,P);if(z){var W=P.substring(P.length-z);L=L.substring(0,L.length-z),P=W+P.substring(0,P.length-z),D=W+D}for(var U=L,G=P,ee=D,ye=y(L,P)+y(P,D);P.charAt(0)===D.charAt(0);){L+=P.charAt(0),P=P.substring(1)+D.charAt(0),D=D.substring(1);var ge=y(L,P)+y(P,D);ge>=ye&&(ye=ge,U=L,G=P,ee=D)}b[S-1][1]!=U&&(U?b[S-1][1]=U:(b.splice(S-1,1),S--),b[S][1]=G,ee?b[S+1][1]=ee:(b.splice(S+1,1),S--))}S++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(b){for(var y=!1,S=[],L=0,P=null,D=0,z=!1,W=!1,U=!1,G=!1;D<b.length;)b[D][0]==x?(b[D][1].length<this.Diff_EditCost&&(U||G)?(S[L++]=D,z=U,W=G,P=b[D][1]):(L=0,P=null),U=G=!1):(b[D][0]==d?G=!0:U=!0,P&&(z&&W&&U&&G||P.length<this.Diff_EditCost/2&&z+W+U+G==3)&&(b.splice(S[L-1],0,new i.Diff(d,P)),b[S[L-1]+1][0]=m,L--,P=null,z&&W?(U=G=!0,L=0):(L--,D=L>0?S[L-1]:-1,U=G=!1),y=!0)),D++;y&&this.diff_cleanupMerge(b)},i.prototype.diff_cleanupMerge=function(b){b.push(new i.Diff(x,""));for(var y=0,S=0,L=0,P="",D="",z;y<b.length;)switch(b[y][0]){case m:L++,D+=b[y][1],y++;break;case d:S++,P+=b[y][1],y++;break;case x:S+L>1?(S!==0&&L!==0&&(z=this.diff_commonPrefix(D,P),z!==0&&(y-S-L>0&&b[y-S-L-1][0]==x?b[y-S-L-1][1]+=D.substring(0,z):(b.splice(0,0,new i.Diff(x,D.substring(0,z))),y++),D=D.substring(z),P=P.substring(z)),z=this.diff_commonSuffix(D,P),z!==0&&(b[y][1]=D.substring(D.length-z)+b[y][1],D=D.substring(0,D.length-z),P=P.substring(0,P.length-z))),y-=S+L,b.splice(y,S+L),P.length&&(b.splice(y,0,new i.Diff(d,P)),y++),D.length&&(b.splice(y,0,new i.Diff(m,D)),y++),y++):y!==0&&b[y-1][0]==x?(b[y-1][1]+=b[y][1],b.splice(y,1)):y++,L=0,S=0,P="",D="";break}b[b.length-1][1]===""&&b.pop();var W=!1;for(y=1;y<b.length-1;)b[y-1][0]==x&&b[y+1][0]==x&&(b[y][1].substring(b[y][1].length-b[y-1][1].length)==b[y-1][1]?(b[y][1]=b[y-1][1]+b[y][1].substring(0,b[y][1].length-b[y-1][1].length),b[y+1][1]=b[y-1][1]+b[y+1][1],b.splice(y-1,1),W=!0):b[y][1].substring(0,b[y+1][1].length)==b[y+1][1]&&(b[y-1][1]+=b[y+1][1],b[y][1]=b[y][1].substring(b[y+1][1].length)+b[y+1][1],b.splice(y+1,1),W=!0)),y++;W&&this.diff_cleanupMerge(b)},i.prototype.diff_xIndex=function(b,y){var S=0,L=0,P=0,D=0,z;for(z=0;z<b.length&&(b[z][0]!==m&&(S+=b[z][1].length),b[z][0]!==d&&(L+=b[z][1].length),!(S>y));z++)P=S,D=L;return b.length!=z&&b[z][0]===d?D:D+(y-P)},i.prototype.diff_prettyHtml=function(b){for(var y=[],S=/&/g,L=/</g,P=/>/g,D=/\n/g,z=0;z<b.length;z++){var W=b[z][0],U=b[z][1],G=U.replace(S,"&amp;").replace(L,"&lt;").replace(P,"&gt;").replace(D,"&para;<br>");switch(W){case m:y[z]='<ins style="background:#e6ffe6;">'+G+"</ins>";break;case d:y[z]='<del style="background:#ffe6e6;">'+G+"</del>";break;case x:y[z]="<span>"+G+"</span>";break}}return y.join("")},i.prototype.diff_text1=function(b){for(var y=[],S=0;S<b.length;S++)b[S][0]!==m&&(y[S]=b[S][1]);return y.join("")},i.prototype.diff_text2=function(b){for(var y=[],S=0;S<b.length;S++)b[S][0]!==d&&(y[S]=b[S][1]);return y.join("")},i.prototype.diff_levenshtein=function(b){for(var y=0,S=0,L=0,P=0;P<b.length;P++){var D=b[P][0],z=b[P][1];switch(D){case m:S+=z.length;break;case d:L+=z.length;break;case x:y+=Math.max(S,L),S=0,L=0;break}}return y+=Math.max(S,L),y},i.prototype.diff_toDelta=function(b){for(var y=[],S=0;S<b.length;S++)switch(b[S][0]){case m:y[S]="+"+encodeURI(b[S][1]);break;case d:y[S]="-"+b[S][1].length;break;case x:y[S]="="+b[S][1].length;break}return y.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(b,y){for(var S=[],L=0,P=0,D=y.split(/\t/g),z=0;z<D.length;z++){var W=D[z].substring(1);switch(D[z].charAt(0)){case"+":try{S[L++]=new i.Diff(m,decodeURI(W))}catch{throw new Error("Illegal escape in diff_fromDelta: "+W)}break;case"-":case"=":var U=parseInt(W,10);if(isNaN(U)||U<0)throw new Error("Invalid number in diff_fromDelta: "+W);var G=b.substring(P,P+=U);D[z].charAt(0)=="="?S[L++]=new i.Diff(x,G):S[L++]=new i.Diff(d,G);break;default:if(D[z])throw new Error("Invalid diff operation in diff_fromDelta: "+D[z])}}if(P!=b.length)throw new Error("Delta length ("+P+") does not equal source text length ("+b.length+").");return S},i.prototype.match_main=function(b,y,S){if(b==null||y==null||S==null)throw new Error("Null input. (match_main)");return S=Math.max(0,Math.min(S,b.length)),b==y?0:b.length?b.substring(S,S+y.length)==y?S:this.match_bitap_(b,y,S):-1},i.prototype.match_bitap_=function(b,y,S){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var L=this.match_alphabet_(y),P=this;function D(Ye,mt){var Ee=Ye/y.length,Ne=Math.abs(S-mt);return P.Match_Distance?Ee+Ne/P.Match_Distance:Ne?1:Ee}var z=this.Match_Threshold,W=b.indexOf(y,S);W!=-1&&(z=Math.min(D(0,W),z),W=b.lastIndexOf(y,S+y.length),W!=-1&&(z=Math.min(D(0,W),z)));var U=1<<y.length-1;W=-1;for(var G,ee,ye=y.length+b.length,ge,Le=0;Le<y.length;Le++){for(G=0,ee=ye;G<ee;)D(Le,S+ee)<=z?G=ee:ye=ee,ee=Math.floor((ye-G)/2+G);ye=ee;var Be=Math.max(1,S-ee+1),ie=Math.min(S+ee,b.length)+y.length,Me=Array(ie+2);Me[ie+1]=(1<<Le)-1;for(var oe=ie;oe>=Be;oe--){var Je=L[b.charAt(oe-1)];if(Le===0?Me[oe]=(Me[oe+1]<<1|1)&Je:Me[oe]=(Me[oe+1]<<1|1)&Je|((ge[oe+1]|ge[oe])<<1|1)|ge[oe+1],Me[oe]&U){var Ve=D(Le,oe-1);if(Ve<=z)if(z=Ve,W=oe-1,W>S)Be=Math.max(1,2*S-W);else break}}if(D(Le+1,S)>z)break;ge=Me}return W},i.prototype.match_alphabet_=function(b){for(var y={},S=0;S<b.length;S++)y[b.charAt(S)]=0;for(var S=0;S<b.length;S++)y[b.charAt(S)]|=1<<b.length-S-1;return y},i.prototype.patch_addContext_=function(b,y){if(y.length!=0){if(b.start2===null)throw Error("patch not initialized");for(var S=y.substring(b.start2,b.start2+b.length1),L=0;y.indexOf(S)!=y.lastIndexOf(S)&&S.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)L+=this.Patch_Margin,S=y.substring(b.start2-L,b.start2+b.length1+L);L+=this.Patch_Margin;var P=y.substring(b.start2-L,b.start2);P&&b.diffs.unshift(new i.Diff(x,P));var D=y.substring(b.start2+b.length1,b.start2+b.length1+L);D&&b.diffs.push(new i.Diff(x,D)),b.start1-=P.length,b.start2-=P.length,b.length1+=P.length+D.length,b.length2+=P.length+D.length}},i.prototype.patch_make=function(b,y,S){var L,P;if(typeof b=="string"&&typeof y=="string"&&typeof S>"u")L=b,P=this.diff_main(L,y,!0),P.length>2&&(this.diff_cleanupSemantic(P),this.diff_cleanupEfficiency(P));else if(b&&typeof b=="object"&&typeof y>"u"&&typeof S>"u")P=b,L=this.diff_text1(P);else if(typeof b=="string"&&y&&typeof y=="object"&&typeof S>"u")L=b,P=y;else if(typeof b=="string"&&typeof y=="string"&&S&&typeof S=="object")L=b,P=S;else throw new Error("Unknown call format to patch_make.");if(P.length===0)return[];for(var D=[],z=new i.patch_obj,W=0,U=0,G=0,ee=L,ye=L,ge=0;ge<P.length;ge++){var Le=P[ge][0],Be=P[ge][1];switch(!W&&Le!==x&&(z.start1=U,z.start2=G),Le){case m:z.diffs[W++]=P[ge],z.length2+=Be.length,ye=ye.substring(0,G)+Be+ye.substring(G);break;case d:z.length1+=Be.length,z.diffs[W++]=P[ge],ye=ye.substring(0,G)+ye.substring(G+Be.length);break;case x:Be.length<=2*this.Patch_Margin&&W&&P.length!=ge+1?(z.diffs[W++]=P[ge],z.length1+=Be.length,z.length2+=Be.length):Be.length>=2*this.Patch_Margin&&W&&(this.patch_addContext_(z,ee),D.push(z),z=new i.patch_obj,W=0,ee=ye,U=G);break}Le!==m&&(U+=Be.length),Le!==d&&(G+=Be.length)}return W&&(this.patch_addContext_(z,ee),D.push(z)),D},i.prototype.patch_deepCopy=function(b){for(var y=[],S=0;S<b.length;S++){var L=b[S],P=new i.patch_obj;P.diffs=[];for(var D=0;D<L.diffs.length;D++)P.diffs[D]=new i.Diff(L.diffs[D][0],L.diffs[D][1]);P.start1=L.start1,P.start2=L.start2,P.length1=L.length1,P.length2=L.length2,y[S]=P}return y},i.prototype.patch_apply=function(b,y){if(b.length==0)return[y,[]];b=this.patch_deepCopy(b);var S=this.patch_addPadding(b);y=S+y+S,this.patch_splitMax(b);for(var L=0,P=[],D=0;D<b.length;D++){var z=b[D].start2+L,W=this.diff_text1(b[D].diffs),U,G=-1;if(W.length>this.Match_MaxBits?(U=this.match_main(y,W.substring(0,this.Match_MaxBits),z),U!=-1&&(G=this.match_main(y,W.substring(W.length-this.Match_MaxBits),z+W.length-this.Match_MaxBits),(G==-1||U>=G)&&(U=-1))):U=this.match_main(y,W,z),U==-1)P[D]=!1,L-=b[D].length2-b[D].length1;else{P[D]=!0,L=U-z;var ee;if(G==-1?ee=y.substring(U,U+W.length):ee=y.substring(U,G+this.Match_MaxBits),W==ee)y=y.substring(0,U)+this.diff_text2(b[D].diffs)+y.substring(U+W.length);else{var ye=this.diff_main(W,ee,!1);if(W.length>this.Match_MaxBits&&this.diff_levenshtein(ye)/W.length>this.Patch_DeleteThreshold)P[D]=!1;else{this.diff_cleanupSemanticLossless(ye);for(var ge=0,Le,Be=0;Be<b[D].diffs.length;Be++){var ie=b[D].diffs[Be];ie[0]!==x&&(Le=this.diff_xIndex(ye,ge)),ie[0]===m?y=y.substring(0,U+Le)+ie[1]+y.substring(U+Le):ie[0]===d&&(y=y.substring(0,U+Le)+y.substring(U+this.diff_xIndex(ye,ge+ie[1].length))),ie[0]!==d&&(ge+=ie[1].length)}}}}}return y=y.substring(S.length,y.length-S.length),[y,P]},i.prototype.patch_addPadding=function(b){for(var y=this.Patch_Margin,S="",L=1;L<=y;L++)S+=String.fromCharCode(L);for(var L=0;L<b.length;L++)b[L].start1+=y,b[L].start2+=y;var P=b[0],D=P.diffs;if(D.length==0||D[0][0]!=x)D.unshift(new i.Diff(x,S)),P.start1-=y,P.start2-=y,P.length1+=y,P.length2+=y;else if(y>D[0][1].length){var z=y-D[0][1].length;D[0][1]=S.substring(D[0][1].length)+D[0][1],P.start1-=z,P.start2-=z,P.length1+=z,P.length2+=z}if(P=b[b.length-1],D=P.diffs,D.length==0||D[D.length-1][0]!=x)D.push(new i.Diff(x,S)),P.length1+=y,P.length2+=y;else if(y>D[D.length-1][1].length){var z=y-D[D.length-1][1].length;D[D.length-1][1]+=S.substring(0,z),P.length1+=z,P.length2+=z}return S},i.prototype.patch_splitMax=function(b){for(var y=this.Match_MaxBits,S=0;S<b.length;S++)if(!(b[S].length1<=y)){var L=b[S];b.splice(S--,1);for(var P=L.start1,D=L.start2,z="";L.diffs.length!==0;){var W=new i.patch_obj,U=!0;for(W.start1=P-z.length,W.start2=D-z.length,z!==""&&(W.length1=W.length2=z.length,W.diffs.push(new i.Diff(x,z)));L.diffs.length!==0&&W.length1<y-this.Patch_Margin;){var G=L.diffs[0][0],ee=L.diffs[0][1];G===m?(W.length2+=ee.length,D+=ee.length,W.diffs.push(L.diffs.shift()),U=!1):G===d&&W.diffs.length==1&&W.diffs[0][0]==x&&ee.length>2*y?(W.length1+=ee.length,P+=ee.length,U=!1,W.diffs.push(new i.Diff(G,ee)),L.diffs.shift()):(ee=ee.substring(0,y-W.length1-this.Patch_Margin),W.length1+=ee.length,P+=ee.length,G===x?(W.length2+=ee.length,D+=ee.length):U=!1,W.diffs.push(new i.Diff(G,ee)),ee==L.diffs[0][1]?L.diffs.shift():L.diffs[0][1]=L.diffs[0][1].substring(ee.length))}z=this.diff_text2(W.diffs),z=z.substring(z.length-this.Patch_Margin);var ye=this.diff_text1(L.diffs).substring(0,this.Patch_Margin);ye!==""&&(W.length1+=ye.length,W.length2+=ye.length,W.diffs.length!==0&&W.diffs[W.diffs.length-1][0]===x?W.diffs[W.diffs.length-1][1]+=ye:W.diffs.push(new i.Diff(x,ye))),U||b.splice(++S,0,W)}}},i.prototype.patch_toText=function(b){for(var y=[],S=0;S<b.length;S++)y[S]=b[S];return y.join("")},i.prototype.patch_fromText=function(b){var y=[];if(!b)return y;for(var S=b.split(`
`),L=0,P=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;L<S.length;){var D=S[L].match(P);if(!D)throw new Error("Invalid patch string: "+S[L]);var z=new i.patch_obj;for(y.push(z),z.start1=parseInt(D[1],10),D[2]===""?(z.start1--,z.length1=1):D[2]=="0"?z.length1=0:(z.start1--,z.length1=parseInt(D[2],10)),z.start2=parseInt(D[3],10),D[4]===""?(z.start2--,z.length2=1):D[4]=="0"?z.length2=0:(z.start2--,z.length2=parseInt(D[4],10)),L++;L<S.length;){var W=S[L].charAt(0);try{var U=decodeURI(S[L].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+U)}if(W=="-")z.diffs.push(new i.Diff(d,U));else if(W=="+")z.diffs.push(new i.Diff(m,U));else if(W==" ")z.diffs.push(new i.Diff(x,U));else{if(W=="@")break;if(W!=="")throw new Error('Invalid patch mode "'+W+'" in: '+U)}L++}}return y},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var b,y;this.length1===0?b=this.start1+",0":this.length1==1?b=this.start1+1:b=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var S=["@@ -"+b+" +"+y+` @@
`],L,P=0;P<this.diffs.length;P++){switch(this.diffs[P][0]){case m:L="+";break;case d:L="-";break;case x:L=" ";break}S[P+1]=L+encodeURI(this.diffs[P][1])+`
`}return S.join("").replace(/%20/g," ")},r.exports=i,r.exports.diff_match_patch=i,r.exports.DIFF_DELETE=d,r.exports.DIFF_INSERT=m,r.exports.DIFF_EQUAL=x})(wG);var Mde=wG.exports;const Pde=lM(Mde);var _G={exports:{}},CG={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(d,m){return d<<m|d>>>32-m},rotr:function(d,m){return d<<32-m|d>>>m},endian:function(d){if(d.constructor==Number)return i.rotl(d,8)&16711935|i.rotl(d,24)&4278255360;for(var m=0;m<d.length;m++)d[m]=i.endian(d[m]);return d},randomBytes:function(d){for(var m=[];d>0;d--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(d){for(var m=[],x=0,b=0;x<d.length;x++,b+=8)m[b>>>5]|=d[x]<<24-b%32;return m},wordsToBytes:function(d){for(var m=[],x=0;x<d.length*32;x+=8)m.push(d[x>>>5]>>>24-x%32&255);return m},bytesToHex:function(d){for(var m=[],x=0;x<d.length;x++)m.push((d[x]>>>4).toString(16)),m.push((d[x]&15).toString(16));return m.join("")},hexToBytes:function(d){for(var m=[],x=0;x<d.length;x+=2)m.push(parseInt(d.substr(x,2),16));return m},bytesToBase64:function(d){for(var m=[],x=0;x<d.length;x+=3)for(var b=d[x]<<16|d[x+1]<<8|d[x+2],y=0;y<4;y++)x*8+y*6<=d.length*8?m.push(r.charAt(b>>>6*(3-y)&63)):m.push("=");return m.join("")},base64ToBytes:function(d){d=d.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],x=0,b=0;x<d.length;b=++x%4)b!=0&&m.push((r.indexOf(d.charAt(x-1))&Math.pow(2,-2*b+8)-1)<<b*2|r.indexOf(d.charAt(x))>>>6-b*2);return m}};CG.exports=i})();var Lde=CG.exports,ZH={utf8:{stringToBytes:function(r){return ZH.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(ZH.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],d=0;d<r.length;d++)i.push(r.charCodeAt(d)&255);return i},bytesToString:function(r){for(var i=[],d=0;d<r.length;d++)i.push(String.fromCharCode(r[d]));return i.join("")}}},Tj=ZH;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Fde=function(r){return r!=null&&(SG(r)||zde(r)||!!r._isBuffer)};function SG(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function zde(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&SG(r.slice(0,0))}(function(){var r=Lde,i=Tj.utf8,d=Fde,m=Tj.bin,x=function(b,y){b.constructor==String?y&&y.encoding==="binary"?b=m.stringToBytes(b):b=i.stringToBytes(b):d(b)?b=Array.prototype.slice.call(b,0):!Array.isArray(b)&&b.constructor!==Uint8Array&&(b=b.toString());for(var S=r.bytesToWords(b),L=b.length*8,P=1732584193,D=-271733879,z=-1732584194,W=271733878,U=0;U<S.length;U++)S[U]=(S[U]<<8|S[U]>>>24)&16711935|(S[U]<<24|S[U]>>>8)&4278255360;S[L>>>5]|=128<<L%32,S[(L+64>>>9<<4)+14]=L;for(var G=x._ff,ee=x._gg,ye=x._hh,ge=x._ii,U=0;U<S.length;U+=16){var Le=P,Be=D,ie=z,Me=W;P=G(P,D,z,W,S[U+0],7,-680876936),W=G(W,P,D,z,S[U+1],12,-389564586),z=G(z,W,P,D,S[U+2],17,606105819),D=G(D,z,W,P,S[U+3],22,-1044525330),P=G(P,D,z,W,S[U+4],7,-176418897),W=G(W,P,D,z,S[U+5],12,1200080426),z=G(z,W,P,D,S[U+6],17,-1473231341),D=G(D,z,W,P,S[U+7],22,-45705983),P=G(P,D,z,W,S[U+8],7,1770035416),W=G(W,P,D,z,S[U+9],12,-1958414417),z=G(z,W,P,D,S[U+10],17,-42063),D=G(D,z,W,P,S[U+11],22,-1990404162),P=G(P,D,z,W,S[U+12],7,1804603682),W=G(W,P,D,z,S[U+13],12,-40341101),z=G(z,W,P,D,S[U+14],17,-1502002290),D=G(D,z,W,P,S[U+15],22,1236535329),P=ee(P,D,z,W,S[U+1],5,-165796510),W=ee(W,P,D,z,S[U+6],9,-1069501632),z=ee(z,W,P,D,S[U+11],14,643717713),D=ee(D,z,W,P,S[U+0],20,-373897302),P=ee(P,D,z,W,S[U+5],5,-701558691),W=ee(W,P,D,z,S[U+10],9,38016083),z=ee(z,W,P,D,S[U+15],14,-660478335),D=ee(D,z,W,P,S[U+4],20,-405537848),P=ee(P,D,z,W,S[U+9],5,568446438),W=ee(W,P,D,z,S[U+14],9,-1019803690),z=ee(z,W,P,D,S[U+3],14,-187363961),D=ee(D,z,W,P,S[U+8],20,1163531501),P=ee(P,D,z,W,S[U+13],5,-1444681467),W=ee(W,P,D,z,S[U+2],9,-51403784),z=ee(z,W,P,D,S[U+7],14,1735328473),D=ee(D,z,W,P,S[U+12],20,-1926607734),P=ye(P,D,z,W,S[U+5],4,-378558),W=ye(W,P,D,z,S[U+8],11,-2022574463),z=ye(z,W,P,D,S[U+11],16,1839030562),D=ye(D,z,W,P,S[U+14],23,-35309556),P=ye(P,D,z,W,S[U+1],4,-1530992060),W=ye(W,P,D,z,S[U+4],11,1272893353),z=ye(z,W,P,D,S[U+7],16,-155497632),D=ye(D,z,W,P,S[U+10],23,-1094730640),P=ye(P,D,z,W,S[U+13],4,681279174),W=ye(W,P,D,z,S[U+0],11,-358537222),z=ye(z,W,P,D,S[U+3],16,-722521979),D=ye(D,z,W,P,S[U+6],23,76029189),P=ye(P,D,z,W,S[U+9],4,-640364487),W=ye(W,P,D,z,S[U+12],11,-421815835),z=ye(z,W,P,D,S[U+15],16,530742520),D=ye(D,z,W,P,S[U+2],23,-995338651),P=ge(P,D,z,W,S[U+0],6,-198630844),W=ge(W,P,D,z,S[U+7],10,1126891415),z=ge(z,W,P,D,S[U+14],15,-1416354905),D=ge(D,z,W,P,S[U+5],21,-57434055),P=ge(P,D,z,W,S[U+12],6,1700485571),W=ge(W,P,D,z,S[U+3],10,-1894986606),z=ge(z,W,P,D,S[U+10],15,-1051523),D=ge(D,z,W,P,S[U+1],21,-2054922799),P=ge(P,D,z,W,S[U+8],6,1873313359),W=ge(W,P,D,z,S[U+15],10,-30611744),z=ge(z,W,P,D,S[U+6],15,-1560198380),D=ge(D,z,W,P,S[U+13],21,1309151649),P=ge(P,D,z,W,S[U+4],6,-145523070),W=ge(W,P,D,z,S[U+11],10,-1120210379),z=ge(z,W,P,D,S[U+2],15,718787259),D=ge(D,z,W,P,S[U+9],21,-343485551),P=P+Le>>>0,D=D+Be>>>0,z=z+ie>>>0,W=W+Me>>>0}return r.endian([P,D,z,W])};x._ff=function(b,y,S,L,P,D,z){var W=b+(y&S|~y&L)+(P>>>0)+z;return(W<<D|W>>>32-D)+y},x._gg=function(b,y,S,L,P,D,z){var W=b+(y&L|S&~L)+(P>>>0)+z;return(W<<D|W>>>32-D)+y},x._hh=function(b,y,S,L,P,D,z){var W=b+(y^S^L)+(P>>>0)+z;return(W<<D|W>>>32-D)+y},x._ii=function(b,y,S,L,P,D,z){var W=b+(S^(y|~L))+(P>>>0)+z;return(W<<D|W>>>32-D)+y},x._blocksize=16,x._digestsize=16,_G.exports=function(b,y){if(b==null)throw new Error("Illegal argument "+b);var S=r.wordsToBytes(x(b,y));return y&&y.asBytes?S:y&&y.asString?m.bytesToString(S):r.bytesToHex(S)}})();var Hde=_G.exports;const kG=lM(Hde),Qa=Bp.createInstance({storeName:"writer-essay",description:"Essay data"}),ow=new Pde,nH=1e3,$de=5e3,Vde=5e3,Ude=10,Wde=1e3,oH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let MS=0,Oj=0;const N0=ag("essay",{state:()=>oH,getters:{hasHistory:r=>r.history.length>0,historyLength:r=>r.history.length,openSendings:r=>r.lastStoredIndex-r.lastSentIndex,unsentHistory(r){let i=[],d=r.lastSentIndex+1;for(;d<r.history.length;)i.push(r.history[d]),d++;return i},formatTimestamp(){return r=>new Date(r).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return r=>r.toString().padStart(9,"0")},makeHash(){return(r,i)=>kG(r+i)}},actions:{async clearStorage(){try{await Qa.clear()}catch(r){console.log(r)}},addToHistory(r,i=0){let d=this.history.push(r)-1;return r.is_delta?this.sumOfDistances+=i:this.sumOfDistances=0,d},async loadFromData(r){MS=1;try{this.$state=oH,this.currentContent=r.content??"",this.storedContent=r.content??"",this.storedHash=r.hash??"",await Qa.clear(),await Qa.setItem("storedContent",this.storedContent),await Qa.setItem("storedHash",this.storedHash);let i=0;for(;i<r.steps.length;){let d=r.steps[i],m={is_delta:d.is_delta,timestamp:d.timestamp,content:d.content,hash_before:d.hash_before,hash_after:d.hash_after};this.addToHistory(m),await Qa.setItem(this.formatIndex(i),m),i++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await Qa.setItem("lastStoredIndex",this.lastStoredIndex),await Qa.setItem("lastSentIndex",this.lastSentIndex),await Qa.setItem("lastSentHash",this.lastSentHash)}catch(i){console.log(i)}MS=0,setInterval(this.updateContent,nH)},async loadFromStorage(){MS=1;try{this.$state=oH,this.lastStoredIndex=await Qa.getItem("lastStoredIndex")??-1,this.lastSentIndex=await Qa.getItem("lastSentIndex")??-1,this.lastSentHash=await Qa.getItem("lastSentHash")??"",this.storedContent=await Qa.getItem("storedContent")??"",this.storedHash=await Qa.getItem("storedHash")??"",this.currentContent=this.storedContent;let r=0;for(;r<=this.lastStoredIndex;){let i=await Qa.getItem(this.formatIndex(r));if(i==null)break;this.addToHistory(i),r++}}catch(r){console.log(r)}MS=0,setInterval(this.updateContent,nH)},async updateContent(r=!1,i=!1){const d=Id(),m=Date.now();if(!(!i&&m-this.lastCheck<nH||MS++||og().writingEndReached)){try{const b=this.currentContent+"";let y=null;if(b!=this.storedContent){const S=this.makeHash(b,d.getServerTime(m));let L=ow.diff_main(this.storedContent,b);ow.diff_cleanupEfficiency(L);const P=ow.diff_levenshtein(L),D=ow.patch_toText(ow.patch_make(this.storedContent,L)),z=ow.patch_apply(ow.patch_fromText(D),this.storedContent);this.history.length==0||i||D.length>b.length||this.sumOfDistances+P>Wde||z[0]!=b?y={is_delta:0,timestamp:d.getServerTime(m),content:b,hash_before:this.storedHash,hash_after:S}:(P>=Ude||m-this.lastSave>$de)&&(y={is_delta:1,timestamp:d.getServerTime(m),content:D,hash_before:this.storedHash,hash_after:S}),y!==null&&(this.lastStoredIndex=this.addToHistory(y,P),this.lastSave=m,this.storedContent=b,this.storedHash=S,await Qa.setItem("storedContent",this.storedContent),await Qa.setItem("storedHash",this.storedHash),await Qa.setItem(this.formatIndex(this.lastStoredIndex),y),await Qa.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",y.is_delta,"| Distance (sum): ",P,"(",this.sumOfDistances,")","| Editor: ",r,"| Duration:",Date.now()-m,"ms"))}this.lastCheck=m,this.sendUpdate(i)}catch(b){console.error(b)}MS=0}},async sendUpdate(r=!1){if(!r&&Date.now()-this.lastSending<Vde||Oj++)return;let i=[],d=this.lastSentIndex,m=this.lastSentHash,x=this.lastSentIndex+1;for(;x<this.history.length;)i.push(this.history[x]),m=this.history[x].hash_after,d=x++;i.length>0&&(await Id().saveWritingStepsToBackend(i)&&(this.lastSentIndex=d,this.lastSentHash=m,await Qa.setItem("lastSentIndex",d),await Qa.setItem("lastSentHash",m)),this.lastSending=Date.now()),Oj=!1},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,await Qa.setItem("lastSentIndex",this.lastSentIndex),await Qa.setItem("lastSentHash",this.lastSentHash),this.lastSending=Date.now()},async hasUnsentSavingsInStorage(){return this.lastStoredIndex=await Qa.getItem("lastStoredIndex")??-1,this.lastSentIndex=await Qa.getItem("lastSentIndex")??-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(r){return this.lastSentHash=await Qa.getItem("lastSentHash")??"",r==this.lastSentHash}}});class I0{constructor(i={}){es(this,"note_no",0);es(this,"note_text","");es(this,"last_change",null);this.setData(i)}static getKeyForNo(i){return"NOTE_"+i}setData(i){i.note_no!==void 0&&i.note_no!==null&&(this.note_no=parseInt(i.note_no)),i.note_text!==void 0&&i.note_text!==null&&(this.note_text=i.note_text.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return I0.getKeyForNo(this.note_no)}getClone(){return new I0(this.getData())}isEqual(i){for(const d in this)if(this[d]!==i[d])return!1;return!0}}const Cp=Bp.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Dj=200;function Zde(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let rH=0;const Uv=ag("notes",{state:()=>Zde(),getters:{hasWrittenNotes:r=>{for(const i in r.notes)if(r.notes[i].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Cp.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await Cp.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const d=await Cp.getItem(i);if(d){const m=JSON.parse(d);if(typeof m=="object"&&m!==null){const x=new I0(m);this.notes[i]=x,this.editNotes[i]=x.getClone()}}}}catch(r){console.log(r)}},async loadFromData(r){try{await Cp.clear(),this.$reset();for(const i of r){const d=new I0(i);this.notes[d.getKey()]=d,this.editNotes[d.getKey()]=d.getClone(),this.keys.push(d.getKey()),await Cp.setItem(d.getKey(),JSON.stringify(d.getData()))}await Cp.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}rH=0,setInterval(this.updateContent,Dj)},async prepareNotes(r){const i=[];let d=!1;for(let m=0;m<r;m++){const x=I0.getKeyForNo(m);if(i.push(x),this.activeKey==x&&(d=!0),!(x in this.notes)){const b=new I0({note_no:m});this.notes[x]=b,this.editNotes[x]=b.getClone(),await Cp.setItem(x,JSON.stringify(b.getData()))}}this.keys=i,await Cp.setItem("keys",JSON.stringify(this.keys)),r>0&&!d&&(this.activeKey=I0.getKeyForNo(0))},async updateContent(r=!1,i=!1){const d=Date.now();if(!(d-this.lastCheck<Dj&&!i||rH++&&!i||og().writingEndReached)){for(const x in this.editNotes)try{const b=this.editNotes[x].getClone(),y=this.notes[x]??new I0;if(!b.isEqual(y)){const S=Id(),L=Qm();b.last_change=S.getServerTime(Date.now()),this.editNotes[x].setData(b.getData()),this.notes[x]=b,await Cp.setItem(x,JSON.stringify(b.getData())),await L.setChange(new xa({type:xa.TYPE_NOTES,action:xa.ACTION_SAVE,key:x})),console.log("Save Change ","| Editor: ",r,"| Duration:",Date.now()-d,"ms")}this.lastCheck=d}catch(b){console.error(b)}rH=0}},async getChangedData(r=0){const i=Id(),d=Qm(),m=[];for(const x of d.getChangesFor(xa.TYPE_NOTES,r)){const b=await Cp.getItem(x.key);b?m.push(i.getChangeDataToSend(x,JSON.parse(b))):m.push(i.getChangeDataToSend(x))}return m}}}),PS=Bp.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),zS=ag("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:r=>r.alerts.length,hasAlerts:r=>r.alerts.length>0,hasActiveAlert:r=>r.activeKey!="",activeMessage(r){const i=r.alerts.find(d=>d.key==r.activeKey);return i?i.message:""},getAlert(r){return i=>r.alerts.find(d=>d.key==i)},formatTimestamp(){return r=>new Date(r*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await PS.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await PS.getItem("alertKeys");r&&(this.keys=JSON.parse(r)),this.alerts=[];for(const i of this.keys){let d=await PS.getItem(i);this.alerts.unshift(d)}}catch(r){console.log(r)}},async loadFromData(r,i=!1){try{await PS.clear();let d=[],m=[];for(const x of r)i&&!this.keys.includes(x.key)&&(this.activeKey=x.key),m.unshift(x),d.push(x.key),await PS.setItem(x.key,x);this.keys=d,this.alerts=m,await PS.setItem("alertKeys",JSON.stringify(this.keys))}catch(d){console.log(d)}}}});class qT{constructor(i={}){es(this,"resource_key","");es(this,"mark_key","");es(this,"mark_value",{});es(this,"parent_number",0);es(this,"start_position",0);es(this,"end_position",0);es(this,"comment",null);this.setData(i)}setData(i){i.resource_key!==void 0&&i.resource_key!==null&&(this.resource_key=i.resource_key.toString()),i.mark_key!==void 0&&i.mark_key!==null&&(this.mark_key=i.mark_key),i.mark_value!==void 0&&i.mark_value!==null&&(this.mark_value=i.mark_value),i.parent_number!==void 0&&i.parent_number!==null&&(this.parent_number=i.parent_number),i.start_position!==void 0&&i.start_position!==null&&(this.start_position=i.start_position),i.end_position!==void 0&&i.end_position!==null&&(this.end_position=i.end_position),i.comment!==void 0&&i.comment!==null&&(this.comment=i.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return"ANNO-"+this.resource_key+"-"+this.mark_key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new qT(this.getData())}}const Sp=Bp.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function jde(){return{keys:[],annotations:[]}}const AB=ag("annotations",{state:()=>jde(),getters:{getAnnotationsForResource:r=>function(d){return r.annotations.filter(m=>m.resource_key===d)}},actions:{async clearStorage(){try{await Sp.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await Sp.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const d=await Sp.getItem(i);if(d){const m=JSON.parse(d);if(typeof m=="object"&&m!==null){const x=new qT(m);this.annotations.push(x)}}}}catch(r){console.log(r)}},async loadFromData(r){try{await Sp.clear(),this.$reset();for(const i of r){const d=new qT(i);this.annotations.push(d),this.keys.push(d.getKey()),await Sp.setItem(d.getKey(),JSON.stringify(d.getData()))}await Sp.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async saveAnnotationsForResource(r,i){const d=Qm(),m=this.annotations.filter(b=>b.resource_key===r),x=i.map(b=>b.getKey());for(const b of m)x.includes(b.getKey())||(this.annotations=this.annotations.filter(y=>y.getKey()!==b.getKey()),this.keys=this.keys.filter(y=>y!==b.getKey()),await Sp.removeItem(b.getKey()),await d.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_DELETE,key:b.getKey(),payload:{resource_key:b.resource_key,mark_key:b.mark_key}})));for(const b of i){const y=this.annotations.find(S=>S.getKey()==b.getKey());y?y.getSignature()!==b.getSignature()&&(y.setData(b.getData()),await Sp.setItem(y.getKey(),JSON.stringify(y.getData())),await d.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:y.getKey()}))):(this.annotations.push(b),this.keys.push(b.getKey()),await Sp.setItem(b.getKey(),JSON.stringify(b.getData())),await d.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:b.getKey()})))}},async getChangedData(r=0){const i=Id(),d=Qm(),m=[];for(const x of d.getChangesFor(xa.TYPE_ANNOTATIONS,r)){const b=await Sp.getItem(x.key);b?m.push(i.getChangeDataToSend(x,JSON.parse(b))):m.push(i.getChangeDataToSend(x))}return m}}}),Kde=5e3,Id=ag("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastSendingTry:0}),getters:{isAllSent:r=>{const i=N0(),d=Qm();return!r.isSending&&i.openSendings+d.countChanges==0},isSending:r=>{r.lastSendingTry>0||r.lastStepsTry>0},getRequestConfig:r=>function(d){let m=r.backendUrl,x=new URLSearchParams,b=m.search(/\?+/);return b!=-1&&(x=new URLSearchParams(m.substr(b)),m=m.substr(0,b)),x.append("LongEssayUser",r.userKey),x.append("LongEssayEnvironment",r.environmentKey),x.append("LongEssaySignature",kG(r.userKey+r.environmentKey+d)),{baseURL:m,params:x,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:r=>function(d){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+d+"?"+m.params.toString()},getServerTime:r=>function(d){return d==0?0:Math.floor((d-r.timeOffset)/1e3)},getChangeDataToSend:r=>function(d,m=null){const x=d.getData();return m&&(x.payload=m),x.server_time=r.getServerTime(d.last_change),x}},actions:{async init(){let r=!1,i=Zi.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Zi.get("LongEssayUser")&&Zi.get("LongEssayUser")!==this.userKey&&(this.userKey=Zi.get("LongEssayUser"),r=!0),Zi.get("LongEssayEnvironment")&&Zi.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Zi.get("LongEssayEnvironment"),r=!0),Zi.get("LongEssayBackend")&&Zi.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Zi.get("LongEssayBackend")),Zi.get("LongEssayReturn")&&Zi.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Zi.get("LongEssayReturn")),Zi.get("LongEssayToken")&&Zi.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Zi.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const d=N0(),m=Qm();r?await d.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):i?await d.hasHashInStorage(i)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await d.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await d.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),setInterval(this.timedSync,Kde)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const r=Op(),i=Kv(),d=og(),m=zS(),x=Rp(),b=N0(),y=Uv(),S=Wu(),L=Qm(),P=AB();await r.loadFromStorage(),await i.loadFromStorage(),await d.loadFromStorage(),await m.loadFromStorage(),await x.loadFromStorage(),await b.loadFromStorage(),await y.loadFromStorage(),await y.prepareNotes(r.notice_boards),await S.loadFromStorage(),await L.loadFromStorage(),await P.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let r={};try{r=await Ra.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r)}catch(z){console.error(z),this.showInitFailure=!0;return}const i=Op(),d=Kv(),m=og(),x=zS(),b=Rp(),y=N0(),S=Uv(),L=Qm(),P=Wu(),D=AB();await i.loadFromData(r.data.settings),await d.loadFromData(r.data.preferences),await m.loadFromData(r.data.task),await x.loadFromData(r.data.alerts,!1),await b.loadFromData(r.data.resources),await y.loadFromData(r.data.essay),await S.loadFromData(r.data.notes),await S.prepareNotes(i.notice_boards),await D.loadFromData(r.data.annotations),await L.clearStorage(),await P.initialize(),r.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastSendingTry>0)return!1;this.lastSendingTry=Date.now();try{const r=await Ra.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(r),this.refreshToken(r);const i=og(),d=zS(),m=Op(),x=Uv();return await i.loadFromData(r.data.task),await d.loadFromData(r.data.alerts,!0),await m.loadFromData(r.data.settings),await x.prepareNotes(m.notice_boards),this.lastSendingTry=0,!0}catch(r){return console.error(r),this.lastSendingTry=0,!1}},async sendStart(){let r={},i={started:this.getServerTime(Date.now())};try{return r=await Ra.put("/start",i,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(d){return console.error(d),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(r){let i={},d={steps:r};this.lastStepsTry=Date.now();try{return i=await Ra.put("/steps",d,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i),this.lastStepsTry=0,!0}catch(m){return console.error(m),this.lastStepsTry=0,!1}},async saveChangesToBackend(r=!1){const i=AB(),d=Qm(),m=Uv(),x=Kv();if(r){let b=0;for(;b<5&&this.lastSendingTry>0;)b++,await new Promise(y=>setTimeout(y,1e3))}if(this.lastSendingTry>0)return!1;if(d.countChanges>0){this.lastSendingTry=Date.now();try{const b={annotations:await i.getChangedData(this.lastSendingTry),notes:await m.getChangedData(this.lastSendingTry),preferences:await x.getChangedData(this.lastSendingTry)},y=await Ra.put("/changes",b,this.getRequestConfig(this.dataToken));this.setTimeOffset(y),this.refreshToken(y),await d.setChangesSent(xa.TYPE_ANNOTATIONS,y.data.annotations,this.lastSendingTry),await d.setChangesSent(xa.TYPE_NOTES,y.data.notes,this.lastSendingTry),await d.setChangesSent(xa.TYPE_PREFERENCES,y.data.preferences,this.lastSendingTry)}catch(b){return console.error(b),this.lastSendingTry=0,!1}this.lastSendingTry=0}return!0},async saveFinalContentToBackend(r,i,d,m){let x={},b={steps:r,content:i,hash:d,authorized:m};try{return x=await Ra.put("/final",b,this.getRequestConfig(this.dataToken)),this.refreshToken(x),!0}catch(y){return console.error(y),!1}},updateConfig(){Zi.remove("LongEssayBackend"),Zi.remove("LongEssayReturn"),Zi.remove("LongEssayUser"),Zi.remove("LongEssayEnvironment"),Zi.remove("LongEssayToken"),Zi.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(r){if(r.headers.longessaytime){const i=r.headers.longessaytime*1e3,d=Date.now();this.timeOffset=d-i,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(r){r.headers.longessaydatatoken&&(this.dataToken=r.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),r.headers.longessayfiletoken&&(this.fileToken=r.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(r){const i=Op(),d=og(),m=Rp(),x=N0(),b=Uv(),y=Wu(),S=zS(),L=Qm();if((r||x.openSendings>0)&&!await this.saveFinalContentToBackend(x.unsentHistory,x.storedContent,x.storedHash,r)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=r;return}await i.clearStorage(),await d.clearStorage(),await m.clearStorage(),await x.clearStorage(),await b.clearStorage(),await y.clearStorage(),await S.clearStorage(),await L.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const r=N0();await this.saveFinalContentToBackend(r.unsentHistory,r.storedContent,r.storedHash,!1)?await r.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0}}}),sH=Bp.createInstance({storeName:"writer-task",description:"Task data"}),og=ag("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:r=>!!r.instructions,hasWritingEnd:r=>!!r.writing_end,writingEndReached:r=>r.remaining_time===0,isExcluded:r=>r.writing_excluded>0},actions:{setData(r){this.title=r.title,this.instructions=r.instructions,this.writer_name=r.writer_name,this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded},async clearStorage(){try{await sH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await sH.getItem("task");this.setData(r)}catch(r){console.log(r)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromData(r){try{await sH.setItem("task",r),this.setData(r)}catch(i){console.log(i)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},updateRemainingTime(){const r=Id();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-r.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(r.review=!0)}}}),ox=ho({border:[Boolean,Number,String]},"border");function rx(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return{borderClasses:Tt(()=>{const m=Ia(r)?r.value:r.border,x=[];if(m===!0||m==="")x.push(`${i}--border`);else if(typeof m=="string"||m===0)for(const b of String(m).split(" "))x.push(`border-${b}`);return x})}}const qde=[null,"default","comfortable","compact"],sx=ho({density:{type:String,default:"default",validator:r=>qde.includes(r)}},"density");function ww(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return{densityClasses:Tt(()=>`${i}--density-${r.density}`)}}const _w=ho({elevation:{type:[Number,String],validator(r){const i=parseInt(r);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function Cw(r){return{elevationClasses:Tt(()=>{const d=Ia(r)?r.value:r.elevation,m=[];return d==null||m.push(`elevation-${d}`),m})}}const Mp=ho({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Pp(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return{roundedClasses:Tt(()=>{const m=Ia(r)?r.value:r.rounded,x=Ia(r)?r.value:r.tile,b=[];if(m===!0||m==="")b.push(`${i}--rounded`);else if(typeof m=="string"||m===0)for(const y of String(m).split(" "))b.push(`rounded-${y}`);else(x||m===!1)&&b.push("rounded-0");return b})}}const Nl=ho({tag:{type:String,default:"div"}},"tag");function P$(r){return E$(()=>{const i=[],d={};if(r.value.background)if(OH(r.value.background)){if(d.backgroundColor=r.value.background,!r.value.text&&hle(r.value.background)){const m=Tp(r.value.background);if(m.a==null||m.a===1){const x=Oq(m);d.color=x,d.caretColor=x}}}else i.push(`bg-${r.value.background}`);return r.value.text&&(OH(r.value.text)?(d.color=r.value.text,d.caretColor=r.value.text):i.push(`text-${r.value.text}`)),{colorClasses:i,colorStyles:d}})}function YS(r,i){const d=Tt(()=>({text:Ia(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:x}=P$(d);return{textColorClasses:m,textColorStyles:x}}function L0(r,i){const d=Tt(()=>({background:Ia(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:x}=P$(d);return{backgroundColorClasses:m,backgroundColorStyles:x}}const Gde=["elevated","flat","tonal","outlined","text","plain"];function gM(r,i){return Te(ia,null,[r&&Te("span",{key:"overlay",class:`${i}__overlay`},null),Te("span",{key:"underlay",class:`${i}__underlay`},null)])}const rk=ho({color:String,variant:{type:String,default:"elevated",validator:r=>Gde.includes(r)}},"variant");function hM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();const d=Tt(()=>{const{variant:b}=et(r);return`${i}--variant-${b}`}),{colorClasses:m,colorStyles:x}=P$(Tt(()=>{const{variant:b,color:y}=et(r);return{[["elevated","flat"].includes(b)?"background":"text"]:y}}));return{colorClasses:m,colorStyles:x,variantClasses:d}}const EG=ho({baseColor:String,divided:Boolean,...ox(),...ya(),...sx(),..._w(),...Mp(),...Nl(),...Ku(),...rk()},"VBtnGroup"),XS=Gr()({name:"VBtnGroup",props:EG(),setup(r,i){let{slots:d}=i;const{themeClasses:m}=qu(r),{densityClasses:x}=ww(r),{borderClasses:b}=rx(r),{elevationClasses:y}=Cw(r),{roundedClasses:S}=Pp(r);QS({VBtn:{height:"auto",baseColor:ts(r,"baseColor"),color:ts(r,"color"),density:ts(r,"density"),flat:!0,variant:ts(r,"variant")}}),Ks(()=>Te(r.tag,{class:["v-btn-group",{"v-btn-group--divided":r.divided},m.value,b.value,x.value,y.value,S.value,r.class],style:r.style},d))}}),Yde=ho({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Xde=ho({value:null,disabled:Boolean,selectedClass:String},"group-item");function Jde(r,i){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=Rl("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const x=oO();Hf(Symbol.for(`${i.description}:id`),x);const b=xl(i,null);if(!b){if(!d)return b;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${i.description}`)}const y=ts(r,"value"),S=Tt(()=>!!(b.disabled.value||r.disabled));b.register({id:x,value:y,disabled:S},m),ju(()=>{b.unregister(x)});const L=Tt(()=>b.isSelected(x)),P=Tt(()=>b.items.value[0].id===x),D=Tt(()=>b.items.value[b.items.value.length-1].id===x),z=Tt(()=>L.value&&[b.selectedClass.value,r.selectedClass]);return To(L,W=>{m.emit("group:selected",{value:W})},{flush:"sync"}),{id:x,isSelected:L,isFirst:P,isLast:D,toggle:()=>b.select(x,!L.value),select:W=>b.select(x,W),selectedClass:z,value:y,disabled:S,group:b}}function Qde(r,i){let d=!1;const m=tu([]),x=Dp(r,"modelValue",[],W=>W==null?[]:AG(m,k$(W)),W=>{const U=tfe(m,W);return r.multiple?U:U[0]}),b=Rl("useGroup");function y(W,U){const G=W,ee=Symbol.for(`${i.description}:id`),ge=FS(ee,b==null?void 0:b.vnode).indexOf(U);et(G.value)==null&&(G.value=ge,G.useIndexAsValue=!0),ge>-1?m.splice(ge,0,G):m.push(G)}function S(W){if(d)return;L();const U=m.findIndex(G=>G.id===W);m.splice(U,1)}function L(){const W=m.find(U=>!U.disabled);W&&r.mandatory==="force"&&!x.value.length&&(x.value=[W.id])}sg(()=>{L()}),ju(()=>{d=!0}),p$(()=>{for(let W=0;W<m.length;W++)m[W].useIndexAsValue&&(m[W].value=W)});function P(W,U){const G=m.find(ee=>ee.id===W);if(!(U&&(G!=null&&G.disabled)))if(r.multiple){const ee=x.value.slice(),ye=ee.findIndex(Le=>Le===W),ge=~ye;if(U=U??!ge,ge&&r.mandatory&&ee.length<=1||!ge&&r.max!=null&&ee.length+1>r.max)return;ye<0&&U?ee.push(W):ye>=0&&!U&&ee.splice(ye,1),x.value=ee}else{const ee=x.value.includes(W);if(r.mandatory&&ee)return;x.value=U??!ee?[W]:[]}}function D(W){if(r.multiple,x.value.length){const U=x.value[0],G=m.findIndex(ge=>ge.id===U);let ee=(G+W)%m.length,ye=m[ee];for(;ye.disabled&&ee!==G;)ee=(ee+W)%m.length,ye=m[ee];if(ye.disabled)return;x.value=[m[ee].id]}else{const U=m.find(G=>!G.disabled);U&&(x.value=[U.id])}}const z={register:y,unregister:S,selected:x,select:P,disabled:ts(r,"disabled"),prev:()=>D(m.length-1),next:()=>D(1),isSelected:W=>x.value.includes(W),selectedClass:Tt(()=>r.selectedClass),items:Tt(()=>m),getItemIndex:W=>efe(m,W)};return Hf(i,z),z}function efe(r,i){const d=AG(r,[i]);return d.length?r.findIndex(m=>m.id===d[0]):-1}function AG(r,i){const d=[];return i.forEach(m=>{const x=r.find(y=>rM(m,y.value)),b=r[m];(x==null?void 0:x.value)!=null?d.push(x.id):b!=null&&d.push(b.id)}),d}function tfe(r,i){const d=[];return i.forEach(m=>{const x=r.findIndex(b=>b.id===m);if(~x){const b=r[x];d.push(b.value!=null?b.value:x)}}),d}const TG=Symbol.for("vuetify:v-btn-toggle"),nfe=ho({...EG(),...Yde()},"VBtnToggle"),ofe=Gr()({name:"VBtnToggle",props:nfe(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:d}=i;const{isSelected:m,next:x,prev:b,select:y,selected:S}=Qde(r,TG);return Ks(()=>{const L=XS.filterProps(r);return Te(XS,ji({class:["v-btn-toggle",r.class]},L,{style:r.style}),{default:()=>{var P;return[(P=d.default)==null?void 0:P.call(d,{isSelected:m,next:x,prev:b,select:y,selected:S})]}})}),{next:x,prev:b,select:y}}}),rfe=ho({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Zu=Gr(!1)({name:"VDefaultsProvider",props:rfe(),setup(r,i){let{slots:d}=i;const{defaults:m,disabled:x,reset:b,root:y,scoped:S}=eO(r);return QS(m,{reset:b,root:y,scoped:S,disabled:x}),()=>{var L;return(L=d.default)==null?void 0:L.call(d)}}}),sfe=["x-small","small","default","large","x-large"],pM=ho({size:{type:[String,Number],default:"default"}},"size");function bM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return E$(()=>{let d,m;return MB(sfe,r.size)?d=`${i}--size-${r.size}`:r.size&&(m={width:br(r.size),height:br(r.size)}),{sizeClasses:d,sizeStyles:m}})}const afe=ho({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Uu,...ya(),...pM(),...Nl({tag:"i"}),...Ku()},"VIcon"),Dr=Gr()({name:"VIcon",props:afe(),setup(r,i){let{attrs:d,slots:m}=i;const x=tr(),{themeClasses:b}=qu(r),{iconData:y}=Mce(Tt(()=>x.value||r.icon)),{sizeClasses:S}=bM(r),{textColorClasses:L,textColorStyles:P}=YS(ts(r,"color"));return Ks(()=>{var W,U;const D=(W=m.default)==null?void 0:W.call(m);D&&(x.value=(U=vq(D).filter(G=>G.type===tO&&G.children&&typeof G.children=="string")[0])==null?void 0:U.children);const z=!!(d.onClick||d.onClickOnce);return Te(y.value.component,{tag:r.tag,icon:y.value.icon,class:["v-icon","notranslate",b.value,S.value,L.value,{"v-icon--clickable":z,"v-icon--disabled":r.disabled,"v-icon--start":r.start,"v-icon--end":r.end},r.class],style:[S.value?void 0:{fontSize:br(r.size),height:br(r.size),width:br(r.size)},P.value,r.style],role:z?"button":void 0,"aria-hidden":!z,tabindex:z?r.disabled?-1:0:void 0},{default:()=>[D]})}),{}}});function OG(r,i){const d=tr(),m=Rr(!1);if(S$){const x=new IntersectionObserver(b=>{m.value=!!b.find(y=>y.isIntersecting)},i);ju(()=>{x.disconnect()}),To(d,(b,y)=>{y&&(x.unobserve(y),m.value=!1),b&&x.observe(b)},{flush:"post"})}return{intersectionRef:d,isIntersecting:m}}const ife=ho({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ya(),...pM(),...Nl({tag:"div"}),...Ku()},"VProgressCircular"),lfe=Gr()({name:"VProgressCircular",props:ife(),setup(r,i){let{slots:d}=i;const m=20,x=2*Math.PI*m,b=tr(),{themeClasses:y}=qu(r),{sizeClasses:S,sizeStyles:L}=bM(r),{textColorClasses:P,textColorStyles:D}=YS(ts(r,"color")),{textColorClasses:z,textColorStyles:W}=YS(ts(r,"bgColor")),{intersectionRef:U,isIntersecting:G}=OG(),{resizeRef:ee,contentRect:ye}=$q(),ge=Tt(()=>Math.max(0,Math.min(100,parseFloat(r.modelValue)))),Le=Tt(()=>Number(r.width)),Be=Tt(()=>L.value?Number(r.size):ye.value?ye.value.width:Math.max(Le.value,32)),ie=Tt(()=>m/(1-Le.value/Be.value)*2),Me=Tt(()=>Le.value/Be.value*ie.value),oe=Tt(()=>br((100-ge.value)/100*x));return Ip(()=>{U.value=b.value,ee.value=b.value}),Ks(()=>Te(r.tag,{ref:b,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!r.indeterminate,"v-progress-circular--visible":G.value,"v-progress-circular--disable-shrink":r.indeterminate==="disable-shrink"},y.value,S.value,P.value,r.class],style:[L.value,D.value,r.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":r.indeterminate?void 0:ge.value},{default:()=>[Te("svg",{style:{transform:`rotate(calc(-90deg + ${Number(r.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ie.value} ${ie.value}`},[Te("circle",{class:["v-progress-circular__underlay",z.value],style:W.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Me.value,"stroke-dasharray":x,"stroke-dashoffset":0},null),Te("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Me.value,"stroke-dasharray":x,"stroke-dashoffset":oe.value},null)]),d.default&&Te("div",{class:"v-progress-circular__content"},[d.default({value:ge.value})])]})),{}}}),Sw=ho({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function kw(r){return{dimensionStyles:Tt(()=>{const d={},m=br(r.height),x=br(r.maxHeight),b=br(r.maxWidth),y=br(r.minHeight),S=br(r.minWidth),L=br(r.width);return m!=null&&(d.height=m),x!=null&&(d.maxHeight=x),b!=null&&(d.maxWidth=b),y!=null&&(d.minHeight=y),S!=null&&(d.minWidth=S),L!=null&&(d.width=L),d})}}const Rj={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},L$=ho({location:String},"location");function F$(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=tk();return{locationStyles:Tt(()=>{if(!r.location)return{};const{side:b,align:y}=AH(r.location.split(" ").length>1?r.location:`${r.location} center`,m.value);function S(P){return d?d(P):0}const L={};return b!=="center"&&(i?L[Rj[b]]=`calc(100% - ${S(b)}px)`:L[b]=0),y!=="center"?i?L[Rj[y]]=`calc(100% - ${S(y)}px)`:L[y]=0:(b==="center"?L.top=L.left="50%":L[{top:"left",bottom:"left",left:"top",right:"top"}[b]]="50%",L.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[b]),L})}}const cfe=ho({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ya(),...L$({location:"top"}),...Mp(),...Nl(),...Ku()},"VProgressLinear"),ufe=Gr()({name:"VProgressLinear",props:cfe(),emits:{"update:modelValue":r=>!0},setup(r,i){var Ee;let{slots:d}=i;const m=Dp(r,"modelValue"),{isRtl:x,rtlClasses:b}=tk(),{themeClasses:y}=qu(r),{locationStyles:S}=F$(r),{textColorClasses:L,textColorStyles:P}=YS(r,"color"),{backgroundColorClasses:D,backgroundColorStyles:z}=L0(Tt(()=>r.bgColor||r.color)),{backgroundColorClasses:W,backgroundColorStyles:U}=L0(Tt(()=>r.bufferColor||r.bgColor||r.color)),{backgroundColorClasses:G,backgroundColorStyles:ee}=L0(r,"color"),{roundedClasses:ye}=Pp(r),{intersectionRef:ge,isIntersecting:Le}=OG(),Be=Tt(()=>parseFloat(r.max)),ie=Tt(()=>parseFloat(r.height)),Me=Tt(()=>qS(parseFloat(r.bufferValue)/Be.value*100,0,100)),oe=Tt(()=>qS(parseFloat(m.value)/Be.value*100,0,100)),Je=Tt(()=>x.value!==r.reverse),Ve=Tt(()=>r.indeterminate?"fade-transition":"slide-x-transition"),Ye=mi&&((Ee=window.matchMedia)==null?void 0:Ee.call(window,"(forced-colors: active)").matches);function mt(Ne){if(!ge.value)return;const{left:R,right:Nt,width:Jt}=ge.value.getBoundingClientRect(),pn=Je.value?Jt-Ne.clientX+(Nt-Jt):Ne.clientX-R;m.value=Math.round(pn/Jt*Be.value)}return Ks(()=>Te(r.tag,{ref:ge,class:["v-progress-linear",{"v-progress-linear--absolute":r.absolute,"v-progress-linear--active":r.active&&Le.value,"v-progress-linear--reverse":Je.value,"v-progress-linear--rounded":r.rounded,"v-progress-linear--rounded-bar":r.roundedBar,"v-progress-linear--striped":r.striped},ye.value,y.value,b.value,r.class],style:[{bottom:r.location==="bottom"?0:void 0,top:r.location==="top"?0:void 0,height:r.active?br(ie.value):0,"--v-progress-linear-height":br(ie.value),...r.absolute?S.value:{}},r.style],role:"progressbar","aria-hidden":r.active?"false":"true","aria-valuemin":"0","aria-valuemax":r.max,"aria-valuenow":r.indeterminate?void 0:oe.value,onClick:r.clickable&&mt},{default:()=>[r.stream&&Te("div",{key:"stream",class:["v-progress-linear__stream",L.value],style:{...P.value,[Je.value?"left":"right"]:br(-ie.value),borderTop:`${br(ie.value/2)} dotted`,opacity:parseFloat(r.bufferOpacity),top:`calc(50% - ${br(ie.value/4)})`,width:br(100-Me.value,"%"),"--v-progress-linear-stream-to":br(ie.value*(Je.value?1:-1))}},null),Te("div",{class:["v-progress-linear__background",Ye?void 0:D.value],style:[z.value,{opacity:parseFloat(r.bgOpacity),width:r.stream?0:void 0}]},null),Te("div",{class:["v-progress-linear__buffer",Ye?void 0:W.value],style:[U.value,{opacity:parseFloat(r.bufferOpacity),width:br(Me.value,"%")}]},null),Te(Np,{name:Ve.value},{default:()=>[r.indeterminate?Te("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>Te("div",{key:Ne,class:["v-progress-linear__indeterminate",Ne,Ye?void 0:G.value],style:ee.value},null))]):Te("div",{class:["v-progress-linear__determinate",Ye?void 0:G.value],style:[ee.value,{width:br(oe.value,"%")}]},null)]}),d.default&&Te("div",{class:"v-progress-linear__content"},[d.default({value:oe.value,buffer:Me.value})])]})),{}}}),DG=ho({loading:[Boolean,String]},"loader");function RG(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return{loaderClasses:Tt(()=>({[`${i}--loading`]:r.loading}))}}function dfe(r,i){var m;let{slots:d}=i;return Te("div",{class:`${r.name}__loader`},[((m=d.default)==null?void 0:m.call(d,{color:r.color,isActive:r.active}))||Te(ufe,{absolute:r.absolute,active:r.active,color:r.color,height:"2",indeterminate:!0},null)])}const ffe=["static","relative","fixed","absolute","sticky"],NG=ho({position:{type:String,validator:r=>ffe.includes(r)}},"position");function IG(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx();return{positionClasses:Tt(()=>r.position?`${i}--${r.position}`:void 0)}}function mfe(){const r=Rl("useRoute");return Tt(()=>{var i;return(i=r==null?void 0:r.proxy)==null?void 0:i.$route})}function BG(){var r,i;return(i=(r=Rl("useRouter"))==null?void 0:r.proxy)==null?void 0:i.$router}function z$(r,i){var P,D;const d=mae("RouterLink"),m=Tt(()=>!!(r.href||r.to)),x=Tt(()=>(m==null?void 0:m.value)||FZ(i,"click")||FZ(r,"click"));if(typeof d=="string"||!("useLink"in d))return{isLink:m,isClickable:x,href:ts(r,"href")};const b=Tt(()=>({...r,to:ts(()=>r.to||"")})),y=d.useLink(b.value),S=Tt(()=>r.to?y:void 0),L=mfe();return{isLink:m,isClickable:x,route:(P=S.value)==null?void 0:P.route,navigate:(D=S.value)==null?void 0:D.navigate,isActive:Tt(()=>{var z,W,U;return S.value?r.exact?L.value?((U=S.value.isExactActive)==null?void 0:U.value)&&rM(S.value.route.value.query,L.value.query):((W=S.value.isExactActive)==null?void 0:W.value)??!1:((z=S.value.isActive)==null?void 0:z.value)??!1:!1}),href:Tt(()=>{var z;return r.to?(z=S.value)==null?void 0:z.route.value.href:r.href})}}const H$=ho({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let aH=!1;function gfe(r,i){let d=!1,m,x;mi&&(yl(()=>{window.addEventListener("popstate",b),m=r==null?void 0:r.beforeEach((y,S,L)=>{aH?d?i(L):L():setTimeout(()=>d?i(L):L()),aH=!0}),x=r==null?void 0:r.afterEach(()=>{aH=!1})}),zf(()=>{window.removeEventListener("popstate",b),m==null||m(),x==null||x()}));function b(y){var S;(S=y.state)!=null&&S.replaced||(d=!0,setTimeout(()=>d=!1))}}function hfe(r,i){To(()=>{var d;return(d=r.isActive)==null?void 0:d.value},d=>{r.isLink.value&&d&&i&&yl(()=>{i(!0)})},{immediate:!0})}const jH=Symbol("rippleStop"),pfe=80;function Nj(r,i){r.style.transform=i,r.style.webkitTransform=i}function KH(r){return r.constructor.name==="TouchEvent"}function MG(r){return r.constructor.name==="KeyboardEvent"}const bfe=function(r,i){var z;let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,x=0;if(!MG(r)){const W=i.getBoundingClientRect(),U=KH(r)?r.touches[r.touches.length-1]:r;m=U.clientX-W.left,x=U.clientY-W.top}let b=0,y=.3;(z=i._ripple)!=null&&z.circle?(y=.15,b=i.clientWidth/2,b=d.center?b:b+Math.sqrt((m-b)**2+(x-b)**2)/4):b=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const S=`${(i.clientWidth-b*2)/2}px`,L=`${(i.clientHeight-b*2)/2}px`,P=d.center?S:`${m-b}px`,D=d.center?L:`${x-b}px`;return{radius:b,scale:y,x:P,y:D,centerX:S,centerY:L}},UB={show(r,i){var U;let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((U=i==null?void 0:i._ripple)!=null&&U.enabled))return;const m=document.createElement("span"),x=document.createElement("span");m.appendChild(x),m.className="v-ripple__container",d.class&&(m.className+=` ${d.class}`);const{radius:b,scale:y,x:S,y:L,centerX:P,centerY:D}=bfe(r,i,d),z=`${b*2}px`;x.className="v-ripple__animation",x.style.width=z,x.style.height=z,i.appendChild(m);const W=window.getComputedStyle(i);W&&W.position==="static"&&(i.style.position="relative",i.dataset.previousPosition="static"),x.classList.add("v-ripple__animation--enter"),x.classList.add("v-ripple__animation--visible"),Nj(x,`translate(${S}, ${L}) scale3d(${y},${y},${y})`),x.dataset.activated=String(performance.now()),setTimeout(()=>{x.classList.remove("v-ripple__animation--enter"),x.classList.add("v-ripple__animation--in"),Nj(x,`translate(${P}, ${D}) scale3d(1,1,1)`)},0)},hide(r){var b;if(!((b=r==null?void 0:r._ripple)!=null&&b.enabled))return;const i=r.getElementsByClassName("v-ripple__animation");if(i.length===0)return;const d=i[i.length-1];if(d.dataset.isHiding)return;d.dataset.isHiding="true";const m=performance.now()-Number(d.dataset.activated),x=Math.max(250-m,0);setTimeout(()=>{d.classList.remove("v-ripple__animation--in"),d.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;r.getElementsByClassName("v-ripple__animation").length===1&&r.dataset.previousPosition&&(r.style.position=r.dataset.previousPosition,delete r.dataset.previousPosition),((S=d.parentNode)==null?void 0:S.parentNode)===r&&r.removeChild(d.parentNode)},300)},x)}};function PG(r){return typeof r>"u"||!!r}function GT(r){const i={},d=r.currentTarget;if(!(!(d!=null&&d._ripple)||d._ripple.touched||r[jH])){if(r[jH]=!0,KH(r))d._ripple.touched=!0,d._ripple.isTouch=!0;else if(d._ripple.isTouch)return;if(i.center=d._ripple.centered||MG(r),d._ripple.class&&(i.class=d._ripple.class),KH(r)){if(d._ripple.showTimerCommit)return;d._ripple.showTimerCommit=()=>{UB.show(r,d,i)},d._ripple.showTimer=window.setTimeout(()=>{var m;(m=d==null?void 0:d._ripple)!=null&&m.showTimerCommit&&(d._ripple.showTimerCommit(),d._ripple.showTimerCommit=null)},pfe)}else UB.show(r,d,i)}}function Ij(r){r[jH]=!0}function Bf(r){const i=r.currentTarget;if(i!=null&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),r.type==="touchend"&&i._ripple.showTimerCommit){i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,i._ripple.showTimer=window.setTimeout(()=>{Bf(r)});return}window.setTimeout(()=>{i._ripple&&(i._ripple.touched=!1)}),UB.hide(i)}}function LG(r){const i=r.currentTarget;i!=null&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let YT=!1;function FG(r){!YT&&(r.keyCode===MZ.enter||r.keyCode===MZ.space)&&(YT=!0,GT(r))}function zG(r){YT=!1,Bf(r)}function HG(r){YT&&(YT=!1,Bf(r))}function $G(r,i,d){const{value:m,modifiers:x}=i,b=PG(m);if(b||UB.hide(r),r._ripple=r._ripple??{},r._ripple.enabled=b,r._ripple.centered=x.center,r._ripple.circle=x.circle,Vie(m)&&m.class&&(r._ripple.class=m.class),b&&!d){if(x.stop){r.addEventListener("touchstart",Ij,{passive:!0}),r.addEventListener("mousedown",Ij);return}r.addEventListener("touchstart",GT,{passive:!0}),r.addEventListener("touchend",Bf,{passive:!0}),r.addEventListener("touchmove",LG,{passive:!0}),r.addEventListener("touchcancel",Bf),r.addEventListener("mousedown",GT),r.addEventListener("mouseup",Bf),r.addEventListener("mouseleave",Bf),r.addEventListener("keydown",FG),r.addEventListener("keyup",zG),r.addEventListener("blur",HG),r.addEventListener("dragstart",Bf,{passive:!0})}else!b&&d&&VG(r)}function VG(r){r.removeEventListener("mousedown",GT),r.removeEventListener("touchstart",GT),r.removeEventListener("touchend",Bf),r.removeEventListener("touchmove",LG),r.removeEventListener("touchcancel",Bf),r.removeEventListener("mouseup",Bf),r.removeEventListener("mouseleave",Bf),r.removeEventListener("keydown",FG),r.removeEventListener("keyup",zG),r.removeEventListener("dragstart",Bf),r.removeEventListener("blur",HG)}function vfe(r,i){$G(r,i,!1)}function xfe(r){delete r._ripple,VG(r)}function yfe(r,i){if(i.value===i.oldValue)return;const d=PG(i.oldValue);$G(r,i,d)}const $$={mounted:vfe,unmounted:xfe,updated:yfe},wfe=ho({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:TG},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Uu,appendIcon:Uu,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ox(),...ya(),...sx(),...Sw(),..._w(),...Xde(),...DG(),...L$(),...NG(),...Mp(),...H$(),...pM(),...Nl({tag:"button"}),...Ku(),...rk({variant:"elevated"})},"VBtn"),ls=Gr()({name:"VBtn",props:wfe(),emits:{"group:selected":r=>!0},setup(r,i){let{attrs:d,slots:m}=i;const{themeClasses:x}=qu(r),{borderClasses:b}=rx(r),{densityClasses:y}=ww(r),{dimensionStyles:S}=kw(r),{elevationClasses:L}=Cw(r),{loaderClasses:P}=RG(r),{locationStyles:D}=F$(r),{positionClasses:z}=IG(r),{roundedClasses:W}=Pp(r),{sizeClasses:U,sizeStyles:G}=bM(r),ee=Jde(r,r.symbol,!1),ye=z$(r,d),ge=Tt(()=>{var Ee;return r.active!==void 0?r.active:ye.isLink.value?(Ee=ye.isActive)==null?void 0:Ee.value:ee==null?void 0:ee.isSelected.value}),Le=Tt(()=>ge.value?r.activeColor??r.color:r.color),Be=Tt(()=>{var Ne,R;return{color:(ee==null?void 0:ee.isSelected.value)&&(!ye.isLink.value||((Ne=ye.isActive)==null?void 0:Ne.value))||!ee||((R=ye.isActive)==null?void 0:R.value)?Le.value??r.baseColor:r.baseColor,variant:r.variant}}),{colorClasses:ie,colorStyles:Me,variantClasses:oe}=hM(Be),Je=Tt(()=>(ee==null?void 0:ee.disabled.value)||r.disabled),Ve=Tt(()=>r.variant==="elevated"&&!(r.disabled||r.flat||r.border)),Ye=Tt(()=>{if(!(r.value===void 0||typeof r.value=="symbol"))return Object(r.value)===r.value?JSON.stringify(r.value,null,0):r.value});function mt(Ee){var Ne;Je.value||ye.isLink.value&&(Ee.metaKey||Ee.ctrlKey||Ee.shiftKey||Ee.button!==0||d.target==="_blank")||((Ne=ye.navigate)==null||Ne.call(ye,Ee),ee==null||ee.toggle())}return hfe(ye,ee==null?void 0:ee.select),Ks(()=>{const Ee=ye.isLink.value?"a":r.tag,Ne=!!(r.prependIcon||m.prepend),R=!!(r.appendIcon||m.append),Nt=!!(r.icon&&r.icon!==!0);return _r(Te(Ee,{type:Ee==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":ge.value,"v-btn--block":r.block,"v-btn--disabled":Je.value,"v-btn--elevated":Ve.value,"v-btn--flat":r.flat,"v-btn--icon":!!r.icon,"v-btn--loading":r.loading,"v-btn--readonly":r.readonly,"v-btn--slim":r.slim,"v-btn--stacked":r.stacked},x.value,b.value,ie.value,y.value,L.value,P.value,z.value,W.value,U.value,oe.value,r.class],style:[Me.value,S.value,D.value,G.value,r.style],"aria-busy":r.loading?!0:void 0,disabled:Je.value||void 0,href:ye.href.value,tabindex:r.loading||r.readonly?-1:void 0,onClick:mt,value:Ye.value},{default:()=>{var Jt;return[gM(!0,"v-btn"),!r.icon&&Ne&&Te("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?Te(Zu,{key:"prepend-defaults",disabled:!r.prependIcon,defaults:{VIcon:{icon:r.prependIcon}}},m.prepend):Te(Dr,{key:"prepend-icon",icon:r.prependIcon},null)]),Te("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&Nt?Te(Dr,{key:"content-icon",icon:r.icon},null):Te(Zu,{key:"content-defaults",disabled:!Nt,defaults:{VIcon:{icon:r.icon}}},{default:()=>{var pn;return[((pn=m.default)==null?void 0:pn.call(m))??r.text]}})]),!r.icon&&R&&Te("span",{key:"append",class:"v-btn__append"},[m.append?Te(Zu,{key:"append-defaults",disabled:!r.appendIcon,defaults:{VIcon:{icon:r.appendIcon}}},m.append):Te(Dr,{key:"append-icon",icon:r.appendIcon},null)]),!!r.loading&&Te("span",{key:"loader",class:"v-btn__loader"},[((Jt=m.loader)==null?void 0:Jt.call(m))??Te(lfe,{color:typeof r.loading=="boolean"?void 0:r.loading,indeterminate:!0,width:"2"},null)])]}}),[[$$,!Je.value&&r.ripple,"",{center:!!r.icon}]])}),{group:ee}}}),_fe={__name:"Timer",setup(r){const i=og(),d=Wu();function m(x){const b=("00"+Math.floor(x)%60).slice(-2),y=("00"+Math.floor(x/60)%60).slice(-2),S=("00"+Math.floor(x/3600)%24).slice(-2),L=Math.floor(x/86400);return L>1?L+" Tage "+S+" Stunden":L>0?L+" Tag "+S+" Stunden":S!="00"?S+":"+y+":"+b+" Stunden":y!="00"?y+":"+b+" Minuten":b+" Sekunden"}return(x,b)=>_r((kr(),Oi(ls,{class:"app-header-item",onClick:b[0]||(b[0]=y=>et(d).toggleTimer())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-clock-outline"}),_r(lt("span",null,ng(m(et(i).remaining_time)),513),[[$r,et(d).showTimer]]),_r(lt("span",null,"Restzeit",512),[[$r,!et(d).showTimer]])]),_:1},512)),[[$r,!et(i).writingEndReached]])}},F0=Gr()({name:"VCardActions",props:ya(),setup(r,i){let{slots:d}=i;return QS({VBtn:{slim:!0,variant:"text"}}),Ks(()=>{var m;return Te("div",{class:["v-card-actions",r.class],style:r.style},[(m=d.default)==null?void 0:m.call(d)])}),{}}}),Cfe=ho({opacity:[Number,String],...ya(),...Nl()},"VCardSubtitle"),Sfe=Gr()({name:"VCardSubtitle",props:Cfe(),setup(r,i){let{slots:d}=i;return Ks(()=>Te(r.tag,{class:["v-card-subtitle",r.class],style:[{"--v-card-subtitle-opacity":r.opacity},r.style]},d)),{}}}),qH=O$("v-card-title");function kfe(r){return{aspectStyles:Tt(()=>{const i=Number(r.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const UG=ho({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ya(),...Sw()},"VResponsive"),Bj=Gr()({name:"VResponsive",props:UG(),setup(r,i){let{slots:d}=i;const{aspectStyles:m}=kfe(r),{dimensionStyles:x}=kw(r);return Ks(()=>{var b;return Te("div",{class:["v-responsive",{"v-responsive--inline":r.inline},r.class],style:[x.value,r.style]},[Te("div",{class:"v-responsive__sizer",style:m.value},null),(b=d.additional)==null?void 0:b.call(d),d.default&&Te("div",{class:["v-responsive__content",r.contentClass]},[d.default()])])}),{}}}),WG=ho({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:r=>r!==!0}},"transition"),HS=(r,i)=>{let{slots:d}=i;const{transition:m,disabled:x,group:b,...y}=r,{component:S=b?C$:Np,...L}=typeof m=="object"?m:{};return Jv(S,ji(typeof m=="string"?{name:x?"":m}:L,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:x,group:b}).filter(P=>{let[D,z]=P;return z!==void 0})),y),d)};function Efe(r,i){if(!S$)return;const d=i.modifiers||{},m=i.value,{handler:x,options:b}=typeof m=="object"?m:{handler:m,options:{}},y=new IntersectionObserver(function(){var z;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1?arguments[1]:void 0;const P=(z=r._observe)==null?void 0:z[i.instance.$.uid];if(!P)return;const D=S.some(W=>W.isIntersecting);x&&(!d.quiet||P.init)&&(!d.once||D||P.init)&&x(D,S,L),D&&d.once?ZG(r,i):P.init=!0},b);r._observe=Object(r._observe),r._observe[i.instance.$.uid]={init:!1,observer:y},y.observe(r)}function ZG(r,i){var m;const d=(m=r._observe)==null?void 0:m[i.instance.$.uid];d&&(d.observer.unobserve(r),delete r._observe[i.instance.$.uid])}const Afe={mounted:Efe,unmounted:ZG},Tfe=ho({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...UG(),...ya(),...Mp(),...WG()},"VImg"),vM=Gr()({name:"VImg",directives:{intersect:Afe},props:Tfe(),emits:{loadstart:r=>!0,load:r=>!0,error:r=>!0},setup(r,i){let{emit:d,slots:m}=i;const{backgroundColorClasses:x,backgroundColorStyles:b}=L0(ts(r,"color")),{roundedClasses:y}=Pp(r),S=Rl("VImg"),L=Rr(""),P=tr(),D=Rr(r.eager?"loading":"idle"),z=Rr(),W=Rr(),U=Tt(()=>r.src&&typeof r.src=="object"?{src:r.src.src,srcset:r.srcset||r.src.srcset,lazySrc:r.lazySrc||r.src.lazySrc,aspect:Number(r.aspectRatio||r.src.aspect||0)}:{src:r.src,srcset:r.srcset,lazySrc:r.lazySrc,aspect:Number(r.aspectRatio||0)}),G=Tt(()=>U.value.aspect||z.value/W.value||0);To(()=>r.src,()=>{ee(D.value!=="idle")}),To(G,(Ne,R)=>{!Ne&&R&&P.value&&ie(P.value)}),MK(()=>ee());function ee(Ne){if(!(r.eager&&Ne)&&!(S$&&!Ne&&!r.eager)){if(D.value="loading",U.value.lazySrc){const R=new Image;R.src=U.value.lazySrc,ie(R,null)}U.value.src&&yl(()=>{var R;d("loadstart",((R=P.value)==null?void 0:R.currentSrc)||U.value.src),setTimeout(()=>{var Nt;if(!S.isUnmounted)if((Nt=P.value)!=null&&Nt.complete){if(P.value.naturalWidth||ge(),D.value==="error")return;G.value||ie(P.value,null),D.value==="loading"&&ye()}else G.value||ie(P.value),Le()})})}}function ye(){var Ne;S.isUnmounted||(Le(),ie(P.value),D.value="loaded",d("load",((Ne=P.value)==null?void 0:Ne.currentSrc)||U.value.src))}function ge(){var Ne;S.isUnmounted||(D.value="error",d("error",((Ne=P.value)==null?void 0:Ne.currentSrc)||U.value.src))}function Le(){const Ne=P.value;Ne&&(L.value=Ne.currentSrc||Ne.src)}let Be=-1;ju(()=>{clearTimeout(Be)});function ie(Ne){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Nt=()=>{if(clearTimeout(Be),S.isUnmounted)return;const{naturalHeight:Jt,naturalWidth:pn}=Ne;Jt||pn?(z.value=pn,W.value=Jt):!Ne.complete&&D.value==="loading"&&R!=null?Be=window.setTimeout(Nt,R):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(z.value=1,W.value=1)};Nt()}const Me=Tt(()=>({"v-img__img--cover":r.cover,"v-img__img--contain":!r.cover})),oe=()=>{var Nt;if(!U.value.src||D.value==="idle")return null;const Ne=Te("img",{class:["v-img__img",Me.value],style:{objectPosition:r.position},src:U.value.src,srcset:U.value.srcset,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable,sizes:r.sizes,ref:P,onLoad:ye,onError:ge},null),R=(Nt=m.sources)==null?void 0:Nt.call(m);return Te(HS,{transition:r.transition,appear:!0},{default:()=>[_r(R?Te("picture",{class:"v-img__picture"},[R,Ne]):Ne,[[$r,D.value==="loaded"]])]})},Je=()=>Te(HS,{transition:r.transition},{default:()=>[U.value.lazySrc&&D.value!=="loaded"&&Te("img",{class:["v-img__img","v-img__img--preload",Me.value],style:{objectPosition:r.position},src:U.value.lazySrc,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable},null)]}),Ve=()=>m.placeholder?Te(HS,{transition:r.transition,appear:!0},{default:()=>[(D.value==="loading"||D.value==="error"&&!m.error)&&Te("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ye=()=>m.error?Te(HS,{transition:r.transition,appear:!0},{default:()=>[D.value==="error"&&Te("div",{class:"v-img__error"},[m.error()])]}):null,mt=()=>r.gradient?Te("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${r.gradient})`}},null):null,Ee=Rr(!1);{const Ne=To(G,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ee.value=!0})}),Ne())})}return Ks(()=>{const Ne=Bj.filterProps(r);return _r(Te(Bj,ji({class:["v-img",{"v-img--absolute":r.absolute,"v-img--booting":!Ee.value},x.value,y.value,r.class],style:[{width:br(r.width==="auto"?z.value:r.width)},b.value,r.style]},Ne,{aspectRatio:G.value,"aria-label":r.alt,role:r.alt?"img":void 0}),{additional:()=>Te(ia,null,[Te(oe,null,null),Te(Je,null,null),Te(mt,null,null),Te(Ve,null,null),Te(Ye,null,null)]),default:m.default}),[[eM("intersect"),{handler:ee,options:r.options},null,{once:!0}]])}),{currentSrc:L,image:P,state:D,naturalWidth:z,naturalHeight:W}}}),Ofe=ho({start:Boolean,end:Boolean,icon:Uu,image:String,text:String,...ox(),...ya(),...sx(),...Mp(),...pM(),...Nl(),...Ku(),...rk({variant:"flat"})},"VAvatar"),WB=Gr()({name:"VAvatar",props:Ofe(),setup(r,i){let{slots:d}=i;const{themeClasses:m}=qu(r),{borderClasses:x}=rx(r),{colorClasses:b,colorStyles:y,variantClasses:S}=hM(r),{densityClasses:L}=ww(r),{roundedClasses:P}=Pp(r),{sizeClasses:D,sizeStyles:z}=bM(r);return Ks(()=>Te(r.tag,{class:["v-avatar",{"v-avatar--start":r.start,"v-avatar--end":r.end},m.value,x.value,b.value,L.value,P.value,D.value,S.value,r.class],style:[y.value,z.value,r.style]},{default:()=>[d.default?Te(Zu,{key:"content-defaults",defaults:{VImg:{cover:!0,src:r.image},VIcon:{icon:r.icon}}},{default:()=>[d.default()]}):r.image?Te(vM,{key:"image",src:r.image,alt:"",cover:!0},null):r.icon?Te(Dr,{key:"icon",icon:r.icon},null):r.text,gM(!1,"v-avatar")]})),{}}}),Dfe=ho({appendAvatar:String,appendIcon:Uu,prependAvatar:String,prependIcon:Uu,subtitle:[String,Number],title:[String,Number],...ya(),...sx()},"VCardItem"),Rfe=Gr()({name:"VCardItem",props:Dfe(),setup(r,i){let{slots:d}=i;return Ks(()=>{var P;const m=!!(r.prependAvatar||r.prependIcon),x=!!(m||d.prepend),b=!!(r.appendAvatar||r.appendIcon),y=!!(b||d.append),S=!!(r.title!=null||d.title),L=!!(r.subtitle!=null||d.subtitle);return Te("div",{class:["v-card-item",r.class],style:r.style},[x&&Te("div",{key:"prepend",class:"v-card-item__prepend"},[d.prepend?Te(Zu,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon}}},d.prepend):Te(ia,null,[r.prependAvatar&&Te(WB,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&Te(Dr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)])]),Te("div",{class:"v-card-item__content"},[S&&Te(qH,{key:"title"},{default:()=>{var D;return[((D=d.title)==null?void 0:D.call(d))??r.title]}}),L&&Te(Sfe,{key:"subtitle"},{default:()=>{var D;return[((D=d.subtitle)==null?void 0:D.call(d))??r.subtitle]}}),(P=d.default)==null?void 0:P.call(d)]),y&&Te("div",{key:"append",class:"v-card-item__append"},[d.append?Te(Zu,{key:"append-defaults",disabled:!b,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon}}},d.append):Te(ia,null,[r.appendIcon&&Te(Dr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&Te(WB,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)])])])}),{}}}),Nfe=ho({opacity:[Number,String],...ya(),...Nl()},"VCardText"),z0=Gr()({name:"VCardText",props:Nfe(),setup(r,i){let{slots:d}=i;return Ks(()=>Te(r.tag,{class:["v-card-text",r.class],style:[{"--v-card-text-opacity":r.opacity},r.style]},d)),{}}}),Ife=ho({appendAvatar:String,appendIcon:Uu,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Uu,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ox(),...ya(),...sx(),...Sw(),..._w(),...DG(),...L$(),...NG(),...Mp(),...H$(),...Nl(),...Ku(),...rk({variant:"elevated"})},"VCard"),qv=Gr()({name:"VCard",directives:{Ripple:$$},props:Ife(),setup(r,i){let{attrs:d,slots:m}=i;const{themeClasses:x}=qu(r),{borderClasses:b}=rx(r),{colorClasses:y,colorStyles:S,variantClasses:L}=hM(r),{densityClasses:P}=ww(r),{dimensionStyles:D}=kw(r),{elevationClasses:z}=Cw(r),{loaderClasses:W}=RG(r),{locationStyles:U}=F$(r),{positionClasses:G}=IG(r),{roundedClasses:ee}=Pp(r),ye=z$(r,d),ge=Tt(()=>r.link!==!1&&ye.isLink.value),Le=Tt(()=>!r.disabled&&r.link!==!1&&(r.link||ye.isClickable.value));return Ks(()=>{const Be=ge.value?"a":r.tag,ie=!!(m.title||r.title!=null),Me=!!(m.subtitle||r.subtitle!=null),oe=ie||Me,Je=!!(m.append||r.appendAvatar||r.appendIcon),Ve=!!(m.prepend||r.prependAvatar||r.prependIcon),Ye=!!(m.image||r.image),mt=oe||Ve||Je,Ee=!!(m.text||r.text!=null);return _r(Te(Be,{class:["v-card",{"v-card--disabled":r.disabled,"v-card--flat":r.flat,"v-card--hover":r.hover&&!(r.disabled||r.flat),"v-card--link":Le.value},x.value,b.value,y.value,P.value,z.value,W.value,G.value,ee.value,L.value,r.class],style:[S.value,D.value,U.value,r.style],href:ye.href.value,onClick:Le.value&&ye.navigate,tabindex:r.disabled?-1:void 0},{default:()=>{var Ne;return[Ye&&Te("div",{key:"image",class:"v-card__image"},[m.image?Te(Zu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},m.image):Te(vM,{key:"image-img",cover:!0,src:r.image},null)]),Te(dfe,{name:"v-card",active:!!r.loading,color:typeof r.loading=="boolean"?void 0:r.loading},{default:m.loader}),mt&&Te(Rfe,{key:"item",prependAvatar:r.prependAvatar,prependIcon:r.prependIcon,title:r.title,subtitle:r.subtitle,appendAvatar:r.appendAvatar,appendIcon:r.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Ee&&Te(z0,{key:"text"},{default:()=>{var R;return[((R=m.text)==null?void 0:R.call(m))??r.text]}}),(Ne=m.default)==null?void 0:Ne.call(m),m.actions&&Te(F0,null,{default:m.actions}),gM(Le.value,"v-card")]}}),[[eM("ripple"),Le.value&&r.ripple]])}),{}}}),Bfe=ho({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function $f(r,i,d){return Gr()({name:r,props:Bfe({mode:d,origin:i}),setup(m,x){let{slots:b}=x;const y={onBeforeEnter(S){m.origin&&(S.style.transformOrigin=m.origin)},onLeave(S){if(m.leaveAbsolute){const{offsetTop:L,offsetLeft:P,offsetWidth:D,offsetHeight:z}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${L}px`,S.style.left=`${P}px`,S.style.width=`${D}px`,S.style.height=`${z}px`}m.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(m.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:L,top:P,left:D,width:z,height:W}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=L||"",S.style.top=P||"",S.style.left=D||"",S.style.width=z||"",S.style.height=W||""}}};return()=>{const S=m.group?C$:Np;return Jv(S,{name:m.disabled?"":r,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:y},b.default)}}})}function jG(r,i){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Gr()({name:r,props:{mode:{type:String,default:d},disabled:Boolean,group:Boolean},setup(m,x){let{slots:b}=x;const y=m.group?C$:Np;return()=>Jv(y,{name:m.disabled?"":r,css:!m.disabled,...m.disabled?{}:i},b.default)}})}function KG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const d=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=Ff(`offset-${d}`);return{onBeforeEnter(y){y._parent=y.parentNode,y._initialStyle={transition:y.style.transition,overflow:y.style.overflow,[d]:y.style[d]}},onEnter(y){const S=y._initialStyle;y.style.setProperty("transition","none","important"),y.style.overflow="hidden";const L=`${y[m]}px`;y.style[d]="0",y.offsetHeight,y.style.transition=S.transition,r&&y._parent&&y._parent.classList.add(r),requestAnimationFrame(()=>{y.style[d]=L})},onAfterEnter:b,onEnterCancelled:b,onLeave(y){y._initialStyle={transition:"",overflow:y.style.overflow,[d]:y.style[d]},y.style.overflow="hidden",y.style[d]=`${y[m]}px`,y.offsetHeight,requestAnimationFrame(()=>y.style[d]="0")},onAfterLeave:x,onLeaveCancelled:x};function x(y){r&&y._parent&&y._parent.classList.remove(r),b(y)}function b(y){const S=y._initialStyle[d];y.style.overflow=y._initialStyle.overflow,S!=null&&(y.style[d]=S),delete y._initialStyle}}const Mfe=ho({target:[Object,Array]},"v-dialog-transition"),Pfe=Gr()({name:"VDialogTransition",props:Mfe(),setup(r,i){let{slots:d}=i;const m={onBeforeEnter(x){x.style.pointerEvents="none",x.style.visibility="hidden"},async onEnter(x,b){var W;await new Promise(U=>requestAnimationFrame(U)),await new Promise(U=>requestAnimationFrame(U)),x.style.visibility="";const{x:y,y:S,sx:L,sy:P,speed:D}=Pj(r.target,x),z=IT(x,[{transform:`translate(${y}px, ${S}px) scale(${L}, ${P})`,opacity:0},{}],{duration:225*D,easing:Ale});(W=Mj(x))==null||W.forEach(U=>{IT(U,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*D,easing:DH})}),z.finished.then(()=>b())},onAfterEnter(x){x.style.removeProperty("pointer-events")},onBeforeLeave(x){x.style.pointerEvents="none"},async onLeave(x,b){var W;await new Promise(U=>requestAnimationFrame(U));const{x:y,y:S,sx:L,sy:P,speed:D}=Pj(r.target,x);IT(x,[{},{transform:`translate(${y}px, ${S}px) scale(${L}, ${P})`,opacity:0}],{duration:125*D,easing:Tle}).finished.then(()=>b()),(W=Mj(x))==null||W.forEach(U=>{IT(U,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*D,easing:DH})})},onAfterLeave(x){x.style.removeProperty("pointer-events")}};return()=>r.target?Te(Np,ji({name:"dialog-transition"},m,{css:!1}),d):Te(Np,{name:"dialog-transition"},d)}});function Mj(r){var d;const i=(d=r.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:d.children;return i&&[...i]}function Pj(r,i){const d=Cq(r),m=Sq(i),[x,b]=getComputedStyle(i).transformOrigin.split(" ").map(ge=>parseFloat(ge)),[y,S]=getComputedStyle(i).getPropertyValue("--v-overlay-anchor-origin").split(" ");let L=d.left+d.width/2;y==="left"||S==="left"?L-=d.width/2:(y==="right"||S==="right")&&(L+=d.width/2);let P=d.top+d.height/2;y==="top"||S==="top"?P-=d.height/2:(y==="bottom"||S==="bottom")&&(P+=d.height/2);const D=d.width/m.width,z=d.height/m.height,W=Math.max(1,D,z),U=D/W||0,G=z/W||0,ee=m.width*m.height/(window.innerWidth*window.innerHeight),ye=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:L-(x+m.left),y:P-(b+m.top),sx:U,sy:G,speed:ye}}$f("fab-transition","center center","out-in");$f("dialog-bottom-transition");$f("dialog-top-transition");$f("fade-transition");$f("scale-transition");$f("scroll-x-transition");$f("scroll-x-reverse-transition");$f("scroll-y-transition");$f("scroll-y-reverse-transition");$f("slide-x-transition");$f("slide-x-reverse-transition");$f("slide-y-transition");$f("slide-y-reverse-transition");const qG=jG("expand-transition",KG());jG("expand-x-transition",KG("",!0));function iH(r,i){return{x:r.x+i.x,y:r.y+i.y}}function Lfe(r,i){return{x:r.x-i.x,y:r.y-i.y}}function Lj(r,i){if(r.side==="top"||r.side==="bottom"){const{side:d,align:m}=r,x=m==="left"?0:m==="center"?i.width/2:m==="right"?i.width:m,b=d==="top"?0:d==="bottom"?i.height:d;return iH({x,y:b},i)}else if(r.side==="left"||r.side==="right"){const{side:d,align:m}=r,x=d==="left"?0:d==="right"?i.width:d,b=m==="top"?0:m==="center"?i.height/2:m==="bottom"?i.height:m;return iH({x,y:b},i)}return iH({x:i.width/2,y:i.height/2},i)}const GG={static:Hfe,connected:Vfe},Ffe=ho({locationStrategy:{type:[String,Function],default:"static",validator:r=>typeof r=="function"||r in GG},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function zfe(r,i){const d=tr({}),m=tr();mi&&P0(()=>!!(i.isActive.value&&r.locationStrategy),b=>{var y,S;To(()=>r.locationStrategy,b),zf(()=>{window.removeEventListener("resize",x),m.value=void 0}),window.addEventListener("resize",x,{passive:!0}),typeof r.locationStrategy=="function"?m.value=(y=r.locationStrategy(i,r,d))==null?void 0:y.updateLocation:m.value=(S=GG[r.locationStrategy](i,r,d))==null?void 0:S.updateLocation});function x(b){var y;(y=m.value)==null||y.call(m,b)}return{contentStyles:d,updateLocation:m}}function Hfe(){}function $fe(r,i){const d=Sq(r);return i?d.x+=parseFloat(r.style.right||0):d.x-=parseFloat(r.style.left||0),d.y-=parseFloat(r.style.top||0),d}function Vfe(r,i,d){(Array.isArray(r.target.value)||Rle(r.target.value))&&Object.assign(d.value,{position:"fixed",top:0,[r.isRtl.value?"right":"left"]:0});const{preferredAnchor:x,preferredOrigin:b}=E$(()=>{const G=AH(i.location,r.isRtl.value),ee=i.origin==="overlap"?G:i.origin==="auto"?Z9(G):AH(i.origin,r.isRtl.value);return G.side===ee.side&&G.align===j9(ee).align?{preferredAnchor:zZ(G),preferredOrigin:zZ(ee)}:{preferredAnchor:G,preferredOrigin:ee}}),[y,S,L,P]=["minWidth","minHeight","maxWidth","maxHeight"].map(G=>Tt(()=>{const ee=parseFloat(i[G]);return isNaN(ee)?1/0:ee})),D=Tt(()=>{if(Array.isArray(i.offset))return i.offset;if(typeof i.offset=="string"){const G=i.offset.split(" ").map(parseFloat);return G.length<2&&G.push(0),G}return typeof i.offset=="number"?[i.offset,0]:[0,0]});let z=!1;const W=new ResizeObserver(()=>{z&&U()});To([r.target,r.contentEl],(G,ee)=>{let[ye,ge]=G,[Le,Be]=ee;Le&&!Array.isArray(Le)&&W.unobserve(Le),ye&&!Array.isArray(ye)&&W.observe(ye),Be&&W.unobserve(Be),ge&&W.observe(ge)},{immediate:!0}),zf(()=>{W.disconnect()});function U(){if(z=!1,requestAnimationFrame(()=>z=!0),!r.target.value||!r.contentEl.value)return;const G=Cq(r.target.value),ee=$fe(r.contentEl.value,r.isRtl.value),ye=LB(r.contentEl.value),ge=12;ye.length||(ye.push(document.documentElement),r.contentEl.value.style.top&&r.contentEl.value.style.left||(ee.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ee.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Le=ye.reduce((Ee,Ne)=>{const R=Ne.getBoundingClientRect(),Nt=new mw({x:Ne===document.documentElement?0:R.x,y:Ne===document.documentElement?0:R.y,width:Ne.clientWidth,height:Ne.clientHeight});return Ee?new mw({x:Math.max(Ee.left,Nt.left),y:Math.max(Ee.top,Nt.top),width:Math.min(Ee.right,Nt.right)-Math.max(Ee.left,Nt.left),height:Math.min(Ee.bottom,Nt.bottom)-Math.max(Ee.top,Nt.top)}):Nt},void 0);Le.x+=ge,Le.y+=ge,Le.width-=ge*2,Le.height-=ge*2;let Be={anchor:x.value,origin:b.value};function ie(Ee){const Ne=new mw(ee),R=Lj(Ee.anchor,G),Nt=Lj(Ee.origin,Ne);let{x:Jt,y:pn}=Lfe(R,Nt);switch(Ee.anchor.side){case"top":pn-=D.value[0];break;case"bottom":pn+=D.value[0];break;case"left":Jt-=D.value[0];break;case"right":Jt+=D.value[0];break}switch(Ee.anchor.align){case"top":pn-=D.value[1];break;case"bottom":pn+=D.value[1];break;case"left":Jt-=D.value[1];break;case"right":Jt+=D.value[1];break}return Ne.x+=Jt,Ne.y+=pn,Ne.width=Math.min(Ne.width,L.value),Ne.height=Math.min(Ne.height,P.value),{overflows:$Z(Ne,Le),x:Jt,y:pn}}let Me=0,oe=0;const Je={x:0,y:0},Ve={x:!1,y:!1};let Ye=-1;for(;!(Ye++>10);){const{x:Ee,y:Ne,overflows:R}=ie(Be);Me+=Ee,oe+=Ne,ee.x+=Ee,ee.y+=Ne;{const Nt=HZ(Be.anchor),Jt=R.x.before||R.x.after,pn=R.y.before||R.y.after;let Tn=!1;if(["x","y"].forEach(ot=>{if(ot==="x"&&Jt&&!Ve.x||ot==="y"&&pn&&!Ve.y){const Vn={anchor:{...Be.anchor},origin:{...Be.origin}},Nr=ot==="x"?Nt==="y"?j9:Z9:Nt==="y"?Z9:j9;Vn.anchor=Nr(Vn.anchor),Vn.origin=Nr(Vn.origin);const{overflows:yt}=ie(Vn);(yt[ot].before<=R[ot].before&&yt[ot].after<=R[ot].after||yt[ot].before+yt[ot].after<(R[ot].before+R[ot].after)/2)&&(Be=Vn,Tn=Ve[ot]=!0)}}),Tn)continue}R.x.before&&(Me+=R.x.before,ee.x+=R.x.before),R.x.after&&(Me-=R.x.after,ee.x-=R.x.after),R.y.before&&(oe+=R.y.before,ee.y+=R.y.before),R.y.after&&(oe-=R.y.after,ee.y-=R.y.after);{const Nt=$Z(ee,Le);Je.x=Le.width-Nt.x.before-Nt.x.after,Je.y=Le.height-Nt.y.before-Nt.y.after,Me+=Nt.x.before,ee.x+=Nt.x.before,oe+=Nt.y.before,ee.y+=Nt.y.before}break}const mt=HZ(Be.anchor);return Object.assign(d.value,{"--v-overlay-anchor-origin":`${Be.anchor.side} ${Be.anchor.align}`,transformOrigin:`${Be.origin.side} ${Be.origin.align}`,top:br(lH(oe)),left:r.isRtl.value?void 0:br(lH(Me)),right:r.isRtl.value?br(lH(-Me)):void 0,minWidth:br(mt==="y"?Math.min(y.value,G.width):y.value),maxWidth:br(Fj(qS(Je.x,y.value===1/0?0:y.value,L.value))),maxHeight:br(Fj(qS(Je.y,S.value===1/0?0:S.value,P.value)))}),{available:Je,contentBox:ee}}return To(()=>[x.value,b.value,i.offset,i.minWidth,i.minHeight,i.maxWidth,i.maxHeight],()=>U()),yl(()=>{const G=U();if(!G)return;const{available:ee,contentBox:ye}=G;ye.height>ee.y&&requestAnimationFrame(()=>{U(),requestAnimationFrame(()=>{U()})})}),{updateLocation:U}}function lH(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}function Fj(r){return Math.ceil(r*devicePixelRatio)/devicePixelRatio}let GH=!0;const ZB=[];function Ufe(r){!GH||ZB.length?(ZB.push(r),YH()):(GH=!1,r(),YH())}let zj=-1;function YH(){cancelAnimationFrame(zj),zj=requestAnimationFrame(()=>{const r=ZB.shift();r&&r(),ZB.length?YH():GH=!0})}const TB={none:null,close:jfe,block:Kfe,reposition:qfe},Wfe=ho({scrollStrategy:{type:[String,Function],default:"block",validator:r=>typeof r=="function"||r in TB}},"VOverlay-scroll-strategies");function Zfe(r,i){if(!mi)return;let d;Ip(async()=>{d==null||d.stop(),i.isActive.value&&r.scrollStrategy&&(d=JT(),await new Promise(m=>setTimeout(m)),d.active&&d.run(()=>{var m;typeof r.scrollStrategy=="function"?r.scrollStrategy(i,r,d):(m=TB[r.scrollStrategy])==null||m.call(TB,i,r,d)}))}),zf(()=>{d==null||d.stop()})}function jfe(r){function i(d){r.isActive.value=!1}YG(r.targetEl.value??r.contentEl.value,i)}function Kfe(r,i){var y;const d=(y=r.root.value)==null?void 0:y.offsetParent,m=[...new Set([...LB(r.targetEl.value,i.contained?d:void 0),...LB(r.contentEl.value,i.contained?d:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),x=window.innerWidth-document.documentElement.offsetWidth,b=(S=>D$(S)&&S)(d||document.documentElement);b&&r.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((S,L)=>{S.style.setProperty("--v-body-scroll-x",br(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",br(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",br(x)),S.classList.add("v-overlay-scroll-blocked")}),zf(()=>{m.forEach((S,L)=>{const P=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),D=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),z=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-P,S.scrollTop=-D,S.style.scrollBehavior=z}),b&&r.root.value.classList.remove("v-overlay--scroll-blocked")})}function qfe(r,i,d){let m=!1,x=-1,b=-1;function y(S){Ufe(()=>{var D,z;const L=performance.now();(z=(D=r.updateLocation).value)==null||z.call(D,S),m=(performance.now()-L)/(1e3/60)>2})}b=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{d.run(()=>{YG(r.targetEl.value??r.contentEl.value,S=>{m?(cancelAnimationFrame(x),x=requestAnimationFrame(()=>{x=requestAnimationFrame(()=>{y(S)})})):y(S)})})}),zf(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(b),cancelAnimationFrame(x)})}function YG(r,i){const d=[document,...LB(r)];d.forEach(m=>{m.addEventListener("scroll",i,{passive:!0})}),zf(()=>{d.forEach(m=>{m.removeEventListener("scroll",i)})})}const Gfe=Symbol.for("vuetify:v-menu"),XG=ho({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function JG(r,i){let d=()=>{};function m(y){d==null||d();const S=Number(y?r.openDelay:r.closeDelay);return new Promise(L=>{d=Xie(S,()=>{i==null||i(y),L(y)})})}function x(){return m(!0)}function b(){return m(!1)}return{clearDelay:d,runOpenDelay:x,runCloseDelay:b}}const Yfe=ho({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...XG()},"VOverlay-activator");function Xfe(r,i){let{isActive:d,isTop:m,contentEl:x}=i;const b=Rl("useActivator"),y=tr();let S=!1,L=!1,P=!0;const D=Tt(()=>r.openOnFocus||r.openOnFocus==null&&r.openOnHover),z=Tt(()=>r.openOnClick||r.openOnClick==null&&!r.openOnHover&&!D.value),{runOpenDelay:W,runCloseDelay:U}=JG(r,Ve=>{Ve===(r.openOnHover&&S||D.value&&L)&&!(r.openOnHover&&d.value&&!m.value)&&(d.value!==Ve&&(P=!0),d.value=Ve)}),G=tr(),ee={onClick:Ve=>{Ve.stopPropagation(),y.value=Ve.currentTarget||Ve.target,d.value||(G.value=[Ve.clientX,Ve.clientY]),d.value=!d.value},onMouseenter:Ve=>{var Ye;(Ye=Ve.sourceCapabilities)!=null&&Ye.firesTouchEvents||(S=!0,y.value=Ve.currentTarget||Ve.target,W())},onMouseleave:Ve=>{S=!1,U()},onFocus:Ve=>{Yie(Ve.target,":focus-visible")!==!1&&(L=!0,Ve.stopPropagation(),y.value=Ve.currentTarget||Ve.target,W())},onBlur:Ve=>{L=!1,Ve.stopPropagation(),U()}},ye=Tt(()=>{const Ve={};return z.value&&(Ve.onClick=ee.onClick),r.openOnHover&&(Ve.onMouseenter=ee.onMouseenter,Ve.onMouseleave=ee.onMouseleave),D.value&&(Ve.onFocus=ee.onFocus,Ve.onBlur=ee.onBlur),Ve}),ge=Tt(()=>{const Ve={};if(r.openOnHover&&(Ve.onMouseenter=()=>{S=!0,W()},Ve.onMouseleave=()=>{S=!1,U()}),D.value&&(Ve.onFocusin=()=>{L=!0,W()},Ve.onFocusout=()=>{L=!1,U()}),r.closeOnContentClick){const Ye=xl(Gfe,null);Ve.onClick=()=>{d.value=!1,Ye==null||Ye.closeParents()}}return Ve}),Le=Tt(()=>{const Ve={};return r.openOnHover&&(Ve.onMouseenter=()=>{P&&(S=!0,P=!1,W())},Ve.onMouseleave=()=>{S=!1,U()}),Ve});To(m,Ve=>{var Ye;Ve&&(r.openOnHover&&!S&&(!D.value||!L)||D.value&&!L&&(!r.openOnHover||!S))&&!((Ye=x.value)!=null&&Ye.contains(document.activeElement))&&(d.value=!1)}),To(d,Ve=>{Ve||setTimeout(()=>{G.value=void 0})},{flush:"post"});const Be=EH();Ip(()=>{Be.value&&yl(()=>{y.value=Be.el})});const ie=EH(),Me=Tt(()=>r.target==="cursor"&&G.value?G.value:ie.value?ie.el:QG(r.target,b)||y.value),oe=Tt(()=>Array.isArray(Me.value)?void 0:Me.value);let Je;return To(()=>!!r.activator,Ve=>{Ve&&mi?(Je=JT(),Je.run(()=>{Jfe(r,b,{activatorEl:y,activatorEvents:ye})})):Je&&Je.stop()},{flush:"post",immediate:!0}),zf(()=>{Je==null||Je.stop()}),{activatorEl:y,activatorRef:Be,target:Me,targetEl:oe,targetRef:ie,activatorEvents:ye,contentEvents:ge,scrimEvents:Le}}function Jfe(r,i,d){let{activatorEl:m,activatorEvents:x}=d;To(()=>r.activator,(L,P)=>{if(P&&L!==P){const D=S(P);D&&y(D)}L&&yl(()=>b())},{immediate:!0}),To(()=>r.activatorProps,()=>{b()}),zf(()=>{y()});function b(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;L&&Qie(L,ji(x.value,P))}function y(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;L&&ele(L,ji(x.value,P))}function S(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.activator;const P=QG(L,i);return m.value=(P==null?void 0:P.nodeType)===Node.ELEMENT_NODE?P:void 0,m.value}}function QG(r,i){var m,x;if(!r)return;let d;if(r==="parent"){let b=(x=(m=i==null?void 0:i.proxy)==null?void 0:m.$el)==null?void 0:x.parentNode;for(;b!=null&&b.hasAttribute("data-no-activator");)b=b.parentNode;d=b}else typeof r=="string"?d=document.querySelector(r):"$el"in r?d=r.$el:d=r;return d}function Qfe(){if(!mi)return Rr(!1);const{ssr:r}=Fq();if(r){const i=Rr(!1);return sg(()=>{i.value=!0}),i}else return Rr(!0)}const eme=ho({eager:Boolean},"lazy");function tme(r,i){const d=Rr(!1),m=Tt(()=>d.value||r.eager||i.value);To(i,()=>d.value=!0);function x(){r.eager||(d.value=!1)}return{isBooted:d,hasContent:m,onAfterLeave:x}}function V$(){const i=Rl("useScopeId").vnode.scopeId;return{scopeId:i?{[i]:""}:void 0}}const Hj=Symbol.for("vuetify:stack"),RT=tu([]);function nme(r,i,d){const m=Rl("useStack"),x=!d,b=xl(Hj,void 0),y=tu({activeChildren:new Set});Hf(Hj,y);const S=Rr(+i.value);P0(r,()=>{var z;const D=(z=RT.at(-1))==null?void 0:z[1];S.value=D?D+10:+i.value,x&&RT.push([m.uid,S.value]),b==null||b.activeChildren.add(m.uid),zf(()=>{if(x){const W=ko(RT).findIndex(U=>U[0]===m.uid);RT.splice(W,1)}b==null||b.activeChildren.delete(m.uid)})});const L=Rr(!0);x&&Ip(()=>{var z;const D=((z=RT.at(-1))==null?void 0:z[0])===m.uid;setTimeout(()=>L.value=D)});const P=Tt(()=>!y.activeChildren.size);return{globalTop:QT(L),localTop:P,stackStyles:Tt(()=>({zIndex:S.value}))}}function ome(r){return{teleportTarget:Tt(()=>{const d=r();if(d===!0||!mi)return;const m=d===!1?document.body:typeof d=="string"?document.querySelector(d):d;if(m==null)return;let x=[...m.children].find(b=>b.matches(".v-overlay-container"));return x||(x=document.createElement("div"),x.className="v-overlay-container",m.appendChild(x)),x})}}function rme(){return!0}function eY(r,i,d){if(!r||tY(r,d)===!1)return!1;const m=Rq(i);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===r.target)return!1;const x=(typeof d.value=="object"&&d.value.include||(()=>[]))();return x.push(i),!x.some(b=>b==null?void 0:b.contains(r.target))}function tY(r,i){return(typeof i.value=="object"&&i.value.closeConditional||rme)(r)}function sme(r,i,d){const m=typeof d.value=="function"?d.value:d.value.handler;r.shadowTarget=r.target,i._clickOutside.lastMousedownWasOutside&&eY(r,i,d)&&setTimeout(()=>{tY(r,d)&&m&&m(r)},0)}function $j(r,i){const d=Rq(r);i(document),typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&i(d)}const ame={mounted(r,i){const d=x=>sme(x,r,i),m=x=>{r._clickOutside.lastMousedownWasOutside=eY(x,r,i)};$j(r,x=>{x.addEventListener("click",d,!0),x.addEventListener("mousedown",m,!0)}),r._clickOutside||(r._clickOutside={lastMousedownWasOutside:!1}),r._clickOutside[i.instance.$.uid]={onClick:d,onMousedown:m}},beforeUnmount(r,i){r._clickOutside&&($j(r,d=>{var b;if(!d||!((b=r._clickOutside)!=null&&b[i.instance.$.uid]))return;const{onClick:m,onMousedown:x}=r._clickOutside[i.instance.$.uid];d.removeEventListener("click",m,!0),d.removeEventListener("mousedown",x,!0)}),delete r._clickOutside[i.instance.$.uid])}};function ime(r){const{modelValue:i,color:d,...m}=r;return Te(Np,{name:"fade-transition",appear:!0},{default:()=>[r.modelValue&&Te("div",ji({class:["v-overlay__scrim",r.color.backgroundColorClasses.value],style:r.color.backgroundColorStyles.value},m),null)]})}const nY=ho({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Yfe(),...ya(),...Sw(),...eme(),...Ffe(),...Wfe(),...Ku(),...WG()},"VOverlay"),Vj=Gr()({name:"VOverlay",directives:{ClickOutside:ame},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...nY()},emits:{"click:outside":r=>!0,"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{slots:d,attrs:m,emit:x}=i;const b=Rl("VOverlay"),y=tr(),S=tr(),L=tr(),P=Dp(r,"modelValue"),D=Tt({get:()=>P.value,set:En=>{En&&r.disabled||(P.value=En)}}),{themeClasses:z}=qu(r),{rtlClasses:W,isRtl:U}=tk(),{hasContent:G,onAfterLeave:ee}=tme(r,D),ye=L0(Tt(()=>typeof r.scrim=="string"?r.scrim:null)),{globalTop:ge,localTop:Le,stackStyles:Be}=nme(D,ts(r,"zIndex"),r._disableGlobalStack),{activatorEl:ie,activatorRef:Me,target:oe,targetEl:Je,targetRef:Ve,activatorEvents:Ye,contentEvents:mt,scrimEvents:Ee}=Xfe(r,{isActive:D,isTop:Le,contentEl:L}),{teleportTarget:Ne}=ome(()=>{var J,nr,dr;const En=r.attach||r.contained;if(En)return En;const Mn=((J=ie==null?void 0:ie.value)==null?void 0:J.getRootNode())||((dr=(nr=b.proxy)==null?void 0:nr.$el)==null?void 0:dr.getRootNode());return Mn instanceof ShadowRoot?Mn:!1}),{dimensionStyles:R}=kw(r),Nt=Qfe(),{scopeId:Jt}=V$();To(()=>r.disabled,En=>{En&&(D.value=!1)});const{contentStyles:pn,updateLocation:Tn}=zfe(r,{isRtl:U,contentEl:L,target:oe,isActive:D});Zfe(r,{root:y,contentEl:L,targetEl:Je,isActive:D,updateLocation:Tn});function ot(En){x("click:outside",En),r.persistent?jt():D.value=!1}function Vn(En){return D.value&&ge.value&&(!r.scrim||En.target===S.value||En instanceof MouseEvent&&En.shadowTarget===S.value)}mi&&To(D,En=>{En?window.addEventListener("keydown",Nr):window.removeEventListener("keydown",Nr)},{immediate:!0}),ju(()=>{mi&&window.removeEventListener("keydown",Nr)});function Nr(En){var Mn,J;En.key==="Escape"&&ge.value&&(r.persistent?jt():(D.value=!1,(Mn=L.value)!=null&&Mn.contains(document.activeElement)&&((J=ie.value)==null||J.focus())))}const yt=BG();P0(()=>r.closeOnBack,()=>{gfe(yt,En=>{ge.value&&D.value?(En(!1),r.persistent?jt():D.value=!1):En()})});const vt=tr();To(()=>D.value&&(r.absolute||r.contained)&&Ne.value==null,En=>{if(En){const Mn=Ole(y.value);Mn&&Mn!==document.scrollingElement&&(vt.value=Mn.scrollTop)}});function jt(){r.noClickAnimation||L.value&&IT(L.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:DH})}function bs(){x("afterEnter")}function bo(){ee(),x("afterLeave")}return Ks(()=>{var En;return Te(ia,null,[(En=d.activator)==null?void 0:En.call(d,{isActive:D.value,targetRef:Ve,props:ji({ref:Me},Ye.value,r.activatorProps)}),Nt.value&&G.value&&Te(Nae,{disabled:!Ne.value,to:Ne.value},{default:()=>[Te("div",ji({class:["v-overlay",{"v-overlay--absolute":r.absolute||r.contained,"v-overlay--active":D.value,"v-overlay--contained":r.contained},z.value,W.value,r.class],style:[Be.value,{"--v-overlay-opacity":r.opacity,top:br(vt.value)},r.style],ref:y},Jt,m),[Te(ime,ji({color:ye,modelValue:D.value&&!!r.scrim,ref:S},Ee.value),null),Te(HS,{appear:!0,persisted:!0,transition:r.transition,target:oe.value,onAfterEnter:bs,onAfterLeave:bo},{default:()=>{var Mn;return[_r(Te("div",ji({ref:L,class:["v-overlay__content",r.contentClass],style:[R.value,pn.value]},mt.value,r.contentProps),[(Mn=d.default)==null?void 0:Mn.call(d,{isActive:D})]),[[$r,D.value],[eM("click-outside"),{handler:ot,closeConditional:Vn,include:()=>[ie.value]}]])]}})])]})])}),{activatorEl:ie,scrimEl:S,target:oe,animateClick:jt,contentEl:L,globalTop:ge,localTop:Le,updateLocation:Tn}}}),cH=Symbol("Forwarded refs");function uH(r,i){let d=r;for(;d;){const m=Reflect.getOwnPropertyDescriptor(d,i);if(m)return m;d=Object.getPrototypeOf(d)}}function lme(r){for(var i=arguments.length,d=new Array(i>1?i-1:0),m=1;m<i;m++)d[m-1]=arguments[m];return r[cH]=d,new Proxy(r,{get(x,b){if(Reflect.has(x,b))return Reflect.get(x,b);if(!(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))){for(const y of d)if(y.value&&Reflect.has(y.value,b)){const S=Reflect.get(y.value,b);return typeof S=="function"?S.bind(y.value):S}}},has(x,b){if(Reflect.has(x,b))return!0;if(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))return!1;for(const y of d)if(y.value&&Reflect.has(y.value,b))return!0;return!1},set(x,b,y){if(Reflect.has(x,b))return Reflect.set(x,b,y);if(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))return!1;for(const S of d)if(S.value&&Reflect.has(S.value,b))return Reflect.set(S.value,b,y);return!1},getOwnPropertyDescriptor(x,b){var S;const y=Reflect.getOwnPropertyDescriptor(x,b);if(y)return y;if(!(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))){for(const L of d){if(!L.value)continue;const P=uH(L.value,b)??("_"in L.value?uH((S=L.value._)==null?void 0:S.setupState,b):void 0);if(P)return P}for(const L of d){const P=L.value&&L.value[cH];if(!P)continue;const D=P.slice();for(;D.length;){const z=D.shift(),W=uH(z.value,b);if(W)return W;const U=z.value&&z.value[cH];U&&D.push(...U)}}}}})}const cme=ho({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...nY({origin:"center center",scrollStrategy:"block",transition:{component:Pfe},zIndex:2400})},"VDialog"),Gv=Gr()({name:"VDialog",props:cme(),emits:{"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{emit:d,slots:m}=i;const x=Dp(r,"modelValue"),{scopeId:b}=V$(),y=tr();function S(D){var U,G;const z=D.relatedTarget,W=D.target;if(z!==W&&((U=y.value)!=null&&U.contentEl)&&((G=y.value)!=null&&G.globalTop)&&![document,y.value.contentEl].includes(W)&&!y.value.contentEl.contains(W)){const ee=yq(y.value.contentEl);if(!ee.length)return;const ye=ee[0],ge=ee[ee.length-1];z===ye?ge.focus():ye.focus()}}mi&&To(()=>x.value&&r.retainFocus,D=>{D?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function L(){var D;d("afterEnter"),(D=y.value)!=null&&D.contentEl&&!y.value.contentEl.contains(document.activeElement)&&y.value.contentEl.focus({preventScroll:!0})}function P(){d("afterLeave")}return To(x,async D=>{var z;D||(await yl(),(z=y.value.activatorEl)==null||z.focus({preventScroll:!0}))}),Ks(()=>{const D=Vj.filterProps(r),z=ji({"aria-haspopup":"dialog","aria-expanded":String(x.value)},r.activatorProps),W=ji({tabindex:-1},r.contentProps);return Te(Vj,ji({ref:y,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},D,{modelValue:x.value,"onUpdate:modelValue":U=>x.value=U,"aria-modal":"true",activatorProps:z,contentProps:W,role:"dialog",onAfterEnter:L,onAfterLeave:P},b),{activator:m.activator,default:function(){for(var U=arguments.length,G=new Array(U),ee=0;ee<U;ee++)G[ee]=arguments[ee];return Te(Zu,{root:"VDialog"},{default:()=>{var ye;return[(ye=m.default)==null?void 0:ye.call(m,...G)]}})}})}),lme({},y)}}),XH=Symbol.for("vuetify:list");function oY(){const r=xl(XH,{hasPrepend:Rr(!1),updateHasPrepend:()=>null}),i={hasPrepend:Rr(!1),updateHasPrepend:d=>{d&&(i.hasPrepend.value=d)}};return Hf(XH,i),r}function rY(){return xl(XH,null)}const U$=r=>{const i={activate:d=>{let{id:m,value:x,activated:b}=d;return m=ko(m),r&&!x&&b.size===1&&b.has(m)||(x?b.add(m):b.delete(m)),b},in:(d,m,x)=>{let b=new Set;if(d!=null)for(const y of k$(d))b=i.activate({id:y,value:!0,activated:new Set(b),children:m,parents:x});return b},out:d=>Array.from(d)};return i},sY=r=>{const i=U$(r);return{activate:m=>{let{activated:x,id:b,...y}=m;b=ko(b);const S=x.has(b)?new Set([b]):new Set;return i.activate({...y,id:b,activated:S})},in:(m,x,b)=>{let y=new Set;if(m!=null){const S=k$(m);S.length&&(y=i.in(S.slice(0,1),x,b))}return y},out:(m,x,b)=>i.out(m,x,b)}},ume=r=>{const i=U$(r);return{activate:m=>{let{id:x,activated:b,children:y,...S}=m;return x=ko(x),y.has(x)?b:i.activate({id:x,activated:b,children:y,...S})},in:i.in,out:i.out}},dme=r=>{const i=sY(r);return{activate:m=>{let{id:x,activated:b,children:y,...S}=m;return x=ko(x),y.has(x)?b:i.activate({id:x,activated:b,children:y,...S})},in:i.in,out:i.out}},fme={open:r=>{let{id:i,value:d,opened:m,parents:x}=r;if(d){const b=new Set;b.add(i);let y=x.get(i);for(;y!=null;)b.add(y),y=x.get(y);return b}else return m.delete(i),m},select:()=>null},aY={open:r=>{let{id:i,value:d,opened:m,parents:x}=r;if(d){let b=ko(x.get(i));for(m.add(i);b!=null&&b!==i;)m.add(b),b=ko(x.get(b));return m}else m.delete(i);return m},select:()=>null},mme={open:aY.open,select:r=>{let{id:i,value:d,opened:m,parents:x}=r;if(!d)return m;const b=[];let y=x.get(i);for(;y!=null;)b.push(y),y=x.get(y);return new Set(b)}},W$=r=>{const i={select:d=>{let{id:m,value:x,selected:b}=d;if(m=ko(m),r&&!x){const y=Array.from(b.entries()).reduce((S,L)=>{let[P,D]=L;return D==="on"&&S.push(P),S},[]);if(y.length===1&&y[0]===m)return b}return b.set(m,x?"on":"off"),b},in:(d,m,x)=>{let b=new Map;for(const y of d||[])b=i.select({id:y,value:!0,selected:new Map(b),children:m,parents:x});return b},out:d=>{const m=[];for(const[x,b]of d.entries())b==="on"&&m.push(x);return m}};return i},iY=r=>{const i=W$(r);return{select:m=>{let{selected:x,id:b,...y}=m;b=ko(b);const S=x.has(b)?new Map([[b,x.get(b)]]):new Map;return i.select({...y,id:b,selected:S})},in:(m,x,b)=>{let y=new Map;return m!=null&&m.length&&(y=i.in(m.slice(0,1),x,b)),y},out:(m,x,b)=>i.out(m,x,b)}},gme=r=>{const i=W$(r);return{select:m=>{let{id:x,selected:b,children:y,...S}=m;return x=ko(x),y.has(x)?b:i.select({id:x,selected:b,children:y,...S})},in:i.in,out:i.out}},hme=r=>{const i=iY(r);return{select:m=>{let{id:x,selected:b,children:y,...S}=m;return x=ko(x),y.has(x)?b:i.select({id:x,selected:b,children:y,...S})},in:i.in,out:i.out}},pme=r=>{const i={select:d=>{let{id:m,value:x,selected:b,children:y,parents:S}=d;m=ko(m);const L=new Map(b),P=[m];for(;P.length;){const z=P.shift();b.set(ko(z),x?"on":"off"),y.has(z)&&P.push(...y.get(z))}let D=ko(S.get(m));for(;D;){const z=y.get(D),W=z.every(G=>b.get(ko(G))==="on"),U=z.every(G=>!b.has(ko(G))||b.get(ko(G))==="off");b.set(D,W?"on":U?"off":"indeterminate"),D=ko(S.get(D))}return r&&!x&&Array.from(b.entries()).reduce((W,U)=>{let[G,ee]=U;return ee==="on"&&W.push(G),W},[]).length===0?L:b},in:(d,m,x)=>{let b=new Map;for(const y of d||[])b=i.select({id:y,value:!0,selected:new Map(b),children:m,parents:x});return b},out:(d,m)=>{const x=[];for(const[b,y]of d.entries())y==="on"&&!m.has(b)&&x.push(b);return x}};return i},XT=Symbol.for("vuetify:nested"),lY={id:Rr(),root:{register:()=>null,unregister:()=>null,parents:tr(new Map),children:tr(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:tr(!1),selectable:tr(!1),opened:tr(new Set),activated:tr(new Set),selected:tr(new Map),selectedValues:tr([])}},bme=ho({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),vme=r=>{let i=!1;const d=tr(new Map),m=tr(new Map),x=Dp(r,"opened",r.opened,U=>new Set(ko(U)),U=>[...U.values()]),b=Tt(()=>{if(typeof r.activeStrategy=="object")return r.activeStrategy;if(typeof r.activeStrategy=="function")return r.activeStrategy(r.mandatory);switch(r.activeStrategy){case"leaf":return ume(r.mandatory);case"single-leaf":return dme(r.mandatory);case"independent":return U$(r.mandatory);case"single-independent":default:return sY(r.mandatory)}}),y=Tt(()=>{if(typeof r.selectStrategy=="object")return r.selectStrategy;if(typeof r.selectStrategy=="function")return r.selectStrategy(r.mandatory);switch(r.selectStrategy){case"single-leaf":return hme(r.mandatory);case"leaf":return gme(r.mandatory);case"independent":return W$(r.mandatory);case"single-independent":return iY(r.mandatory);case"classic":default:return pme(r.mandatory)}}),S=Tt(()=>{if(typeof r.openStrategy=="object")return r.openStrategy;switch(r.openStrategy){case"list":return mme;case"single":return fme;case"multiple":default:return aY}}),L=Dp(r,"activated",r.activated,U=>b.value.in(U,d.value,m.value),U=>b.value.out(U,d.value,m.value)),P=Dp(r,"selected",r.selected,U=>y.value.in(U,d.value,m.value),U=>y.value.out(U,d.value,m.value));ju(()=>{i=!0});function D(U){const G=[];let ee=U;for(;ee!=null;)G.unshift(ee),ee=m.value.get(ee);return G}const z=Rl("nested"),W={id:Rr(),root:{opened:x,activatable:ts(r,"activatable"),selectable:ts(r,"selectable"),activated:L,selected:P,selectedValues:Tt(()=>{const U=[];for(const[G,ee]of P.value.entries())ee==="on"&&U.push(G);return U}),register:(U,G,ee)=>{G&&U!==G&&m.value.set(U,G),ee&&d.value.set(U,[]),G!=null&&d.value.set(G,[...d.value.get(G)||[],U])},unregister:U=>{if(i)return;d.value.delete(U);const G=m.value.get(U);if(G){const ee=d.value.get(G)??[];d.value.set(G,ee.filter(ye=>ye!==U))}m.value.delete(U)},open:(U,G,ee)=>{z.emit("click:open",{id:U,value:G,path:D(U),event:ee});const ye=S.value.open({id:U,value:G,opened:new Set(x.value),children:d.value,parents:m.value,event:ee});ye&&(x.value=ye)},openOnSelect:(U,G,ee)=>{const ye=S.value.select({id:U,value:G,selected:new Map(P.value),opened:new Set(x.value),children:d.value,parents:m.value,event:ee});ye&&(x.value=ye)},select:(U,G,ee)=>{z.emit("click:select",{id:U,value:G,path:D(U),event:ee});const ye=y.value.select({id:U,value:G,selected:new Map(P.value),children:d.value,parents:m.value,event:ee});ye&&(P.value=ye),W.root.openOnSelect(U,G,ee)},activate:(U,G,ee)=>{if(!r.activatable)return W.root.select(U,!0,ee);z.emit("click:activate",{id:U,value:G,path:D(U),event:ee});const ye=b.value.activate({id:U,value:G,activated:new Set(L.value),children:d.value,parents:m.value,event:ee});ye&&(L.value=ye)},children:d,parents:m}};return Hf(XT,W),W.root},cY=(r,i)=>{const d=xl(XT,lY),m=Symbol(oO()),x=Tt(()=>r.value!==void 0?r.value:m),b={...d,id:x,open:(y,S)=>d.root.open(ko(x.value),y,S),openOnSelect:(y,S)=>d.root.openOnSelect(x.value,y,S),isOpen:Tt(()=>d.root.opened.value.has(ko(x.value))),parent:Tt(()=>d.root.parents.value.get(x.value)),activate:(y,S)=>d.root.activate(x.value,y,S),isActivated:Tt(()=>d.root.activated.value.has(ko(x.value))),select:(y,S)=>d.root.select(x.value,y,S),isSelected:Tt(()=>d.root.selected.value.get(ko(x.value))==="on"),isIndeterminate:Tt(()=>d.root.selected.value.get(x.value)==="indeterminate"),isLeaf:Tt(()=>!d.root.children.value.get(x.value)),isGroupActivator:d.isGroupActivator};return!d.isGroupActivator&&d.root.register(x.value,d.id.value,i),ju(()=>{!d.isGroupActivator&&d.root.unregister(x.value)}),i&&Hf(XT,b),b},xme=()=>{const r=xl(XT,lY);Hf(XT,{...r,isGroupActivator:!0})};function xM(){const r=Rr(!1);return sg(()=>{window.requestAnimationFrame(()=>{r.value=!0})}),{ssrBootStyles:Tt(()=>r.value?void 0:{transition:"none !important"}),isBooted:QT(r)}}const yme=ek({name:"VListGroupActivator",setup(r,i){let{slots:d}=i;return xme(),()=>{var m;return(m=d.default)==null?void 0:m.call(d)}}}),wme=ho({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Uu,default:"$collapse"},expandIcon:{type:Uu,default:"$expand"},prependIcon:Uu,appendIcon:Uu,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ya(),...Nl()},"VListGroup"),Uj=Gr()({name:"VListGroup",props:wme(),setup(r,i){let{slots:d}=i;const{isOpen:m,open:x,id:b}=cY(ts(r,"value"),!0),y=Tt(()=>`v-list-group--id-${String(b.value)}`),S=rY(),{isBooted:L}=xM();function P(U){U.stopPropagation(),x(!m.value,U)}const D=Tt(()=>({onClick:P,class:"v-list-group__header",id:y.value})),z=Tt(()=>m.value?r.collapseIcon:r.expandIcon),W=Tt(()=>({VListItem:{active:m.value,activeColor:r.activeColor,baseColor:r.baseColor,color:r.color,prependIcon:r.prependIcon||r.subgroup&&z.value,appendIcon:r.appendIcon||!r.subgroup&&z.value,title:r.title,value:r.value}}));return Ks(()=>Te(r.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":r.fluid,"v-list-group--subgroup":r.subgroup,"v-list-group--open":m.value},r.class],style:r.style},{default:()=>[d.activator&&Te(Zu,{defaults:W.value},{default:()=>[Te(yme,null,{default:()=>[d.activator({props:D.value,isOpen:m.value})]})]}),Te(HS,{transition:{component:qG},disabled:!L.value},{default:()=>{var U;return[_r(Te("div",{class:"v-list-group__items",role:"group","aria-labelledby":y.value},[(U=d.default)==null?void 0:U.call(d)]),[[$r,m.value]])]}})]})),{isOpen:m}}}),_me=ho({opacity:[Number,String],...ya(),...Nl()},"VListItemSubtitle"),Cme=Gr()({name:"VListItemSubtitle",props:_me(),setup(r,i){let{slots:d}=i;return Ks(()=>Te(r.tag,{class:["v-list-item-subtitle",r.class],style:[{"--v-list-item-subtitle-opacity":r.opacity},r.style]},d)),{}}}),Sme=O$("v-list-item-title"),kme=ho({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Uu,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Uu,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:FT(),onClickOnce:FT(),...ox(),...ya(),...sx(),...Sw(),..._w(),...Mp(),...H$(),...Nl(),...Ku(),...rk({variant:"text"})},"VListItem"),B0=Gr()({name:"VListItem",directives:{Ripple:$$},props:kme(),emits:{click:r=>!0},setup(r,i){let{attrs:d,slots:m,emit:x}=i;const b=z$(r,d),y=Tt(()=>r.value===void 0?b.href.value:r.value),{activate:S,isActivated:L,select:P,isOpen:D,isSelected:z,isIndeterminate:W,isGroupActivator:U,root:G,parent:ee,openOnSelect:ye}=cY(y,!1),ge=rY(),Le=Tt(()=>{var yt;return r.active!==!1&&(r.active||((yt=b.isActive)==null?void 0:yt.value)||(G.activatable.value?L.value:z.value))}),Be=Tt(()=>r.link!==!1&&b.isLink.value),ie=Tt(()=>!r.disabled&&r.link!==!1&&(r.link||b.isClickable.value||!!ge&&(G.selectable.value||G.activatable.value||r.value!=null))),Me=Tt(()=>r.rounded||r.nav),oe=Tt(()=>r.color??r.activeColor),Je=Tt(()=>({color:Le.value?oe.value??r.baseColor:r.baseColor,variant:r.variant}));To(()=>{var yt;return(yt=b.isActive)==null?void 0:yt.value},yt=>{yt&&ee.value!=null&&G.open(ee.value,!0),yt&&ye(yt)},{immediate:!0});const{themeClasses:Ve}=qu(r),{borderClasses:Ye}=rx(r),{colorClasses:mt,colorStyles:Ee,variantClasses:Ne}=hM(Je),{densityClasses:R}=ww(r),{dimensionStyles:Nt}=kw(r),{elevationClasses:Jt}=Cw(r),{roundedClasses:pn}=Pp(Me),Tn=Tt(()=>r.lines?`v-list-item--${r.lines}-line`:void 0),ot=Tt(()=>({isActive:Le.value,select:P,isOpen:D.value,isSelected:z.value,isIndeterminate:W.value}));function Vn(yt){var vt;x("click",yt),ie.value&&((vt=b.navigate)==null||vt.call(b,yt),!U&&(G.activatable.value?S(!L.value,yt):(G.selectable.value||r.value!=null)&&P(!z.value,yt)))}function Nr(yt){(yt.key==="Enter"||yt.key===" ")&&(yt.preventDefault(),yt.target.dispatchEvent(new MouseEvent("click",yt)))}return Ks(()=>{const yt=Be.value?"a":r.tag,vt=m.title||r.title!=null,jt=m.subtitle||r.subtitle!=null,bs=!!(r.appendAvatar||r.appendIcon),bo=!!(bs||m.append),En=!!(r.prependAvatar||r.prependIcon),Mn=!!(En||m.prepend);return ge==null||ge.updateHasPrepend(Mn),r.activeColor&&lle("active-color",["color","base-color"]),_r(Te(yt,{class:["v-list-item",{"v-list-item--active":Le.value,"v-list-item--disabled":r.disabled,"v-list-item--link":ie.value,"v-list-item--nav":r.nav,"v-list-item--prepend":!Mn&&(ge==null?void 0:ge.hasPrepend.value),"v-list-item--slim":r.slim,[`${r.activeClass}`]:r.activeClass&&Le.value},Ve.value,Ye.value,mt.value,R.value,Jt.value,Tn.value,pn.value,Ne.value,r.class],style:[Ee.value,Nt.value,r.style],href:b.href.value,tabindex:ie.value?ge?-2:0:void 0,onClick:Vn,onKeydown:ie.value&&!Be.value&&Nr},{default:()=>{var J;return[gM(ie.value||Le.value,"v-list-item"),Mn&&Te("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?Te(Zu,{key:"prepend-defaults",disabled:!En,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var nr;return[(nr=m.prepend)==null?void 0:nr.call(m,ot.value)]}}):Te(ia,null,[r.prependAvatar&&Te(WB,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&Te(Dr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)]),Te("div",{class:"v-list-item__spacer"},null)]),Te("div",{class:"v-list-item__content","data-no-activator":""},[vt&&Te(Sme,{key:"title"},{default:()=>{var nr;return[((nr=m.title)==null?void 0:nr.call(m,{title:r.title}))??r.title]}}),jt&&Te(Cme,{key:"subtitle"},{default:()=>{var nr;return[((nr=m.subtitle)==null?void 0:nr.call(m,{subtitle:r.subtitle}))??r.subtitle]}}),(J=m.default)==null?void 0:J.call(m,ot.value)]),bo&&Te("div",{key:"append",class:"v-list-item__append"},[m.append?Te(Zu,{key:"append-defaults",disabled:!bs,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var nr;return[(nr=m.append)==null?void 0:nr.call(m,ot.value)]}}):Te(ia,null,[r.appendIcon&&Te(Dr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&Te(WB,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)]),Te("div",{class:"v-list-item__spacer"},null)])]}}),[[eM("ripple"),ie.value&&r.ripple]])}),{activate:S,isActivated:L,isGroupActivator:U,isSelected:z,list:ge,select:P}}}),Eme=ho({color:String,inset:Boolean,sticky:Boolean,title:String,...ya(),...Nl()},"VListSubheader"),Ame=Gr()({name:"VListSubheader",props:Eme(),setup(r,i){let{slots:d}=i;const{textColorClasses:m,textColorStyles:x}=YS(ts(r,"color"));return Ks(()=>{const b=!!(d.default||r.title);return Te(r.tag,{class:["v-list-subheader",{"v-list-subheader--inset":r.inset,"v-list-subheader--sticky":r.sticky},m.value,r.class],style:[{textColorStyles:x},r.style]},{default:()=>{var y;return[b&&Te("div",{class:"v-list-subheader__text"},[((y=d.default)==null?void 0:y.call(d))??r.title])]}})}),{}}}),Tme=ho({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ya(),...Ku()},"VDivider"),JH=Gr()({name:"VDivider",props:Tme(),setup(r,i){let{attrs:d,slots:m}=i;const{themeClasses:x}=qu(r),{textColorClasses:b,textColorStyles:y}=YS(ts(r,"color")),S=Tt(()=>{const L={};return r.length&&(L[r.vertical?"height":"width"]=br(r.length)),r.thickness&&(L[r.vertical?"borderRightWidth":"borderTopWidth"]=br(r.thickness)),L});return Ks(()=>{const L=Te("hr",{class:[{"v-divider":!0,"v-divider--inset":r.inset,"v-divider--vertical":r.vertical},x.value,b.value,r.class],style:[S.value,y.value,{"--v-border-opacity":r.opacity},r.style],"aria-orientation":!d.role||d.role==="separator"?r.vertical?"vertical":"horizontal":void 0,role:`${d.role||"separator"}`},null);return m.default?Te("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":r.vertical,"v-divider__wrapper--inset":r.inset}]},[L,Te("div",{class:"v-divider__content"},[m.default()]),L]):L}),{}}}),Ome=ho({items:Array,returnObject:Boolean},"VListChildren"),uY=Gr()({name:"VListChildren",props:Ome(),setup(r,i){let{slots:d}=i;return oY(),()=>{var m,x;return((m=d.default)==null?void 0:m.call(d))??((x=r.items)==null?void 0:x.map(b=>{var W,U;let{children:y,props:S,type:L,raw:P}=b;if(L==="divider")return((W=d.divider)==null?void 0:W.call(d,{props:S}))??Te(JH,S,null);if(L==="subheader")return((U=d.subheader)==null?void 0:U.call(d,{props:S}))??Te(Ame,S,null);const D={subtitle:d.subtitle?G=>{var ee;return(ee=d.subtitle)==null?void 0:ee.call(d,{...G,item:P})}:void 0,prepend:d.prepend?G=>{var ee;return(ee=d.prepend)==null?void 0:ee.call(d,{...G,item:P})}:void 0,append:d.append?G=>{var ee;return(ee=d.append)==null?void 0:ee.call(d,{...G,item:P})}:void 0,title:d.title?G=>{var ee;return(ee=d.title)==null?void 0:ee.call(d,{...G,item:P})}:void 0},z=Uj.filterProps(S);return y?Te(Uj,ji({value:S==null?void 0:S.value},z),{activator:G=>{let{props:ee}=G;const ye={...S,...ee,value:r.returnObject?P:S.value};return d.header?d.header({props:ye}):Te(B0,ye,D)},default:()=>Te(uY,{items:y,returnObject:r.returnObject},d)}):d.item?d.item({props:S}):Te(B0,ji(S,{value:r.returnObject?P:S.value}),D)}))}}}),Dme=ho({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:rM}},"list-items");function Rme(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function Nme(r,i){const d=OT(i,r.itemType,"item"),m=Rme(i)?i:OT(i,r.itemTitle),x=OT(i,r.itemValue,void 0),b=OT(i,r.itemChildren),y=r.itemProps===!0?Zie(i,["children"]):OT(i,r.itemProps),S={title:m,value:x,...y};return{type:d,title:S.title,value:S.value,props:S,children:d==="item"&&b?dY(r,b):void 0,raw:i}}function dY(r,i){const d=[];for(const m of i)d.push(Nme(r,m));return d}function Ime(r){return{items:Tt(()=>dY(r,r.items))}}const Bme=ho({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":FT(),"onClick:select":FT(),"onUpdate:opened":FT(),...bme({selectStrategy:"single-leaf",openStrategy:"list"}),...ox(),...ya(),...sx(),...Sw(),..._w(),itemType:{type:String,default:"type"},...Dme(),...Mp(),...Nl(),...Ku(),...rk({variant:"text"})},"VList"),Wj=Gr()({name:"VList",props:Bme(),emits:{"update:selected":r=>!0,"update:activated":r=>!0,"update:opened":r=>!0,"click:open":r=>!0,"click:activate":r=>!0,"click:select":r=>!0},setup(r,i){let{slots:d}=i;const{items:m}=Ime(r),{themeClasses:x}=qu(r),{backgroundColorClasses:b,backgroundColorStyles:y}=L0(ts(r,"bgColor")),{borderClasses:S}=rx(r),{densityClasses:L}=ww(r),{dimensionStyles:P}=kw(r),{elevationClasses:D}=Cw(r),{roundedClasses:z}=Pp(r),{children:W,open:U,parents:G,select:ee}=vme(r),ye=Tt(()=>r.lines?`v-list--${r.lines}-line`:void 0),ge=ts(r,"activeColor"),Le=ts(r,"baseColor"),Be=ts(r,"color");oY(),QS({VListGroup:{activeColor:ge,baseColor:Le,color:Be,expandIcon:ts(r,"expandIcon"),collapseIcon:ts(r,"collapseIcon")},VListItem:{activeClass:ts(r,"activeClass"),activeColor:ge,baseColor:Le,color:Be,density:ts(r,"density"),disabled:ts(r,"disabled"),lines:ts(r,"lines"),nav:ts(r,"nav"),slim:ts(r,"slim"),variant:ts(r,"variant")}});const ie=Rr(!1),Me=tr();function oe(Ne){ie.value=!0}function Je(Ne){ie.value=!1}function Ve(Ne){var R;!ie.value&&!(Ne.relatedTarget&&((R=Me.value)!=null&&R.contains(Ne.relatedTarget)))&&Ee()}function Ye(Ne){const R=Ne.target;if(!(!Me.value||["INPUT","TEXTAREA"].includes(R.tagName))){if(Ne.key==="ArrowDown")Ee("next");else if(Ne.key==="ArrowUp")Ee("prev");else if(Ne.key==="Home")Ee("first");else if(Ne.key==="End")Ee("last");else return;Ne.preventDefault()}}function mt(Ne){ie.value=!0}function Ee(Ne){if(Me.value)return wq(Me.value,Ne)}return Ks(()=>Te(r.tag,{ref:Me,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav,"v-list--slim":r.slim},x.value,b.value,S.value,L.value,D.value,ye.value,z.value,r.class],style:[y.value,P.value,r.style],tabindex:r.disabled||ie.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:oe,onFocusout:Je,onFocus:Ve,onKeydown:Ye,onMousedown:mt},{default:()=>[Te(uY,{items:m.value,returnObject:r.returnObject},d)]})),{open:U,select:ee,focus:Ee,children:W,parents:G}}}),Mme=lt("span",null,"OK",-1),Pme=lt("span",null,"OK",-1),Lme={__name:"Alerts",setup(r){const i=zS();return(d,m)=>(kr(),Xl(ia,null,[_r(Te(ls,{onClick:m[0]||(m[0]=x=>et(i).showAlerts())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-bell-outline"}),_r(lt("span",null,"1 Nachricht",512),[[$r,et(i).countAlerts==1]]),_r(lt("span",null,ng(et(i).countAlerts)+" Nachrichten",513),[[$r,et(i).countAlerts>1]])]),_:1},512),[[$r,et(i).hasAlerts]]),Te(Gv,{persistent:"",modelValue:et(i).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=x=>et(i).hasActiveAlert=x),"max-width":"1000"},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(qH,null,{default:Dn(()=>[eg(" Nachricht der Aufsicht ")]),_:1}),Te(z0,null,{default:Dn(()=>[lt("p",null,ng(et(i).activeMessage),1)]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:m[1]||(m[1]=x=>et(i).hideAlert())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-check"}),Mme]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),Te(Gv,{modelValue:et(i).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=x=>et(i).showAllAlerts=x),"max-width":"1000"},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(qH,null,{default:Dn(()=>[eg(" Nachrichten der Aufsicht ")]),_:1}),Te(z0,null,{default:Dn(()=>[(kr(!0),Xl(ia,null,WT(et(i).alerts,x=>(kr(),Oi(B0,{key:x.key,title:et(i).formatTimestamp(x.time),subtitle:x.message},null,8,["title","subtitle"]))),128))]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:m[3]||(m[3]=x=>et(i).hideAlert())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-check"}),Pme]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},dh=(r,i)=>{const d=r.__vccOpts||r;for(const[m,x]of i)d[m]=x;return d},Fme=ho({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ya(),...sx(),...Nl(),...Ku()},"VTable"),dH=Gr()({name:"VTable",props:Fme(),setup(r,i){let{slots:d,emit:m}=i;const{themeClasses:x}=qu(r),{densityClasses:b}=ww(r);return Ks(()=>Te(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!d.top,"v-table--has-bottom":!!d.bottom,"v-table--hover":r.hover},x.value,b.value,r.class],style:r.style},{default:()=>{var y,S,L;return[(y=d.top)==null?void 0:y.call(d),d.default?Te("div",{class:"v-table__wrapper",style:{height:br(r.height)}},[Te("table",null,[d.default()])]):(S=d.wrapper)==null?void 0:S.call(d),(L=d.bottom)==null?void 0:L.call(d)]}})),{}}}),Lp=r=>(xw("data-v-1a660a2d"),r=r(),yw(),r),zme=Lp(()=>lt("h1",null,"Allgemeine Navigation",-1)),Hme=Lp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),$me=Lp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Nächstes Element"),lt("td",null,"Tab")]),lt("tr",null,[lt("td",null,"Vorheriges Element"),lt("td",null,"Shift + Tab")]),lt("tr",null,[lt("td",null,"Header Schaltflächen"),lt("td",null,"Alt + 0")]),lt("tr",null,[lt("td",null,"Navigationsleiste Schaltflächen"),lt("td",null,"Alt + #")]),lt("tr",null,[lt("td",null,"Inhalt linke Spalte"),lt("td",null,"Alt + 1")]),lt("tr",null,[lt("td",null,"Inhalt rechte Spalte"),lt("td",null,"Alt + 2")])],-1)),Vme=Lp(()=>lt("h1",null,"Navigation im Editor",-1)),Ume=Lp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Wme=Lp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"In Symbolleiste wechseln"),lt("td",null,"Alt + F10")]),lt("tr",null,[lt("td",null,"Symbolleiste verlassen"),lt("td",null,"Esc")]),lt("tr",null,[lt("td",null,"In Symbolleiste zwischen Schaltflächen wechseln"),lt("td",null,"Pfeil links und rechts")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate aufklappen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Im Popup zwischen Absatzformaten wechseln"),lt("td",null,"Pfeil abwärts und aufwärts")]),lt("tr",null,[lt("td",null,"Im Popup ein Absatzformat wählen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate schließen"),lt("td",null,"Esc")])],-1)),Zme=Lp(()=>lt("h1",null,"Tastenbefehle im Editor",-1)),jme=Lp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Kme=Lp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Fett"),lt("td",null,"Ctrl + B")]),lt("tr",null,[lt("td",null,"Kursiv"),lt("td",null,"Ctrl + I")]),lt("tr",null,[lt("td",null,"Unterstrichen"),lt("td",null,"Ctrl + U")]),lt("tr",null,[lt("td",null,"Alles auswählen"),lt("td",null,"Ctrl + A")]),lt("tr",null,[lt("td",null,"Wiederholen"),lt("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),lt("tr",null,[lt("td",null,"Rückgängig machen"),lt("td",null,"Ctrl + Z")]),lt("tr",null,[lt("td",null,"Überschrift 1"),lt("td",null,"Shift + Alt + 1")]),lt("tr",null,[lt("td",null,"Überschrift 2"),lt("td",null,"Shift + Alt + 2")]),lt("tr",null,[lt("td",null,"Überschrift 3"),lt("td",null,"Shift + Alt + 3")]),lt("tr",null,[lt("td",null,"Überschrift 4"),lt("td",null,"Shift + Alt + 4")]),lt("tr",null,[lt("td",null,"Überschrift 5"),lt("td",null,"Shift + Alt + 5")]),lt("tr",null,[lt("td",null,"Überschrift 6"),lt("td",null,"Shift + Alt + 6")]),lt("tr",null,[lt("td",null,"Absatz"),lt("td",null,"Shift + Alt + 7")])],-1)),qme=Lp(()=>lt("span",null,"Hilfe schließen",-1)),Gme={__name:"Help",setup(r){const i=Wu();return(d,m)=>(kr(),Xl(ia,null,[Te(ls,{class:"app-header-item",onClick:m[0]||(m[0]=x=>et(i).showHelp=!0)},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-help"}),eg(" Hilfe ")]),_:1}),Te(Gv,{modelValue:et(i).showHelp,"onUpdate:modelValue":m[2]||(m[2]=x=>et(i).showHelp=x),"max-width":"1000"},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[zme,Te(dH,null,{default:Dn(()=>[Hme,$me]),_:1}),Vme,Te(dH,null,{default:Dn(()=>[Ume,Wme]),_:1}),Zme,Te(dH,{title:"Tastenbefehle im Editor"},{default:Dn(()=>[jme,Kme]),_:1})]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:m[1]||(m[1]=x=>et(i).showHelp=!1)},{default:Dn(()=>[qme]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Yme=dh(Gme,[["__scopeId","data-v-1a660a2d"]]),fY=ho({text:String,...ya(),...Nl()},"VToolbarTitle"),mY=Gr()({name:"VToolbarTitle",props:fY(),setup(r,i){let{slots:d}=i;return Ks(()=>{const m=!!(d.default||d.text||r.text);return Te(r.tag,{class:["v-toolbar-title",r.class],style:r.style},{default:()=>{var x;return[m&&Te("div",{class:"v-toolbar-title__placeholder"},[d.text?d.text():r.text,(x=d.default)==null?void 0:x.call(d)])]}})}),{}}}),Xme=[null,"prominent","default","comfortable","compact"],gY=ho({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:r=>Xme.includes(r)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ox(),...ya(),..._w(),...Mp(),...Nl({tag:"header"}),...Ku()},"VToolbar"),Zj=Gr()({name:"VToolbar",props:gY(),setup(r,i){var U;let{slots:d}=i;const{backgroundColorClasses:m,backgroundColorStyles:x}=L0(ts(r,"color")),{borderClasses:b}=rx(r),{elevationClasses:y}=Cw(r),{roundedClasses:S}=Pp(r),{themeClasses:L}=qu(r),{rtlClasses:P}=tk(),D=Rr(!!(r.extended||(U=d.extension)!=null&&U.call(d))),z=Tt(()=>parseInt(Number(r.height)+(r.density==="prominent"?Number(r.height):0)-(r.density==="comfortable"?8:0)-(r.density==="compact"?16:0),10)),W=Tt(()=>D.value?parseInt(Number(r.extensionHeight)+(r.density==="prominent"?Number(r.extensionHeight):0)-(r.density==="comfortable"?4:0)-(r.density==="compact"?8:0),10):0);return QS({VBtn:{variant:"text"}}),Ks(()=>{var ge;const G=!!(r.title||d.title),ee=!!(d.image||r.image),ye=(ge=d.extension)==null?void 0:ge.call(d);return D.value=!!(r.extended||ye),Te(r.tag,{class:["v-toolbar",{"v-toolbar--absolute":r.absolute,"v-toolbar--collapse":r.collapse,"v-toolbar--flat":r.flat,"v-toolbar--floating":r.floating,[`v-toolbar--density-${r.density}`]:!0},m.value,b.value,y.value,S.value,L.value,P.value,r.class],style:[x.value,r.style]},{default:()=>[ee&&Te("div",{key:"image",class:"v-toolbar__image"},[d.image?Te(Zu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},d.image):Te(vM,{key:"image-img",cover:!0,src:r.image},null)]),Te(Zu,{defaults:{VTabs:{height:br(z.value)}}},{default:()=>{var Le,Be,ie;return[Te("div",{class:"v-toolbar__content",style:{height:br(z.value)}},[d.prepend&&Te("div",{class:"v-toolbar__prepend"},[(Le=d.prepend)==null?void 0:Le.call(d)]),G&&Te(mY,{key:"title",text:r.title},{text:d.title}),(Be=d.default)==null?void 0:Be.call(d),d.append&&Te("div",{class:"v-toolbar__append"},[(ie=d.append)==null?void 0:ie.call(d)])])]}}),Te(Zu,{defaults:{VTabs:{height:br(W.value)}}},{default:()=>[Te(qG,null,{default:()=>[D.value&&Te("div",{class:"v-toolbar__extension",style:{height:br(W.value)}},[ye])]})]})]})}),{contentHeight:z,extensionHeight:W}}}),Jme=ho({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Qme(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:d}=i;let m=0,x=0;const b=tr(null),y=Rr(0),S=Rr(0),L=Rr(0),P=Rr(!1),D=Rr(!1),z=Tt(()=>Number(r.scrollThreshold)),W=Tt(()=>qS((z.value-y.value)/z.value||0)),U=()=>{const G=b.value;if(!G||d&&!d.value)return;m=y.value,y.value="window"in G?G.pageYOffset:G.scrollTop;const ee=G instanceof Window?document.documentElement.scrollHeight:G.scrollHeight;if(x!==ee){x=ee;return}D.value=y.value<m,L.value=Math.abs(y.value-z.value)};return To(D,()=>{S.value=S.value||y.value}),To(P,()=>{S.value=0}),sg(()=>{To(()=>r.scrollTarget,G=>{var ye;const ee=G?document.querySelector(G):window;ee&&ee!==b.value&&((ye=b.value)==null||ye.removeEventListener("scroll",U),b.value=ee,b.value.addEventListener("scroll",U,{passive:!0}))},{immediate:!0})}),ju(()=>{var G;(G=b.value)==null||G.removeEventListener("scroll",U)}),d&&To(d,U,{immediate:!0}),{scrollThreshold:z,currentScroll:y,currentThreshold:L,isScrollActive:P,scrollRatio:W,isScrollingUp:D,savedScroll:S}}const ege=ho({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},...gY(),...Uq(),...Jme(),height:{type:[Number,String],default:64}},"VAppBar"),hY=Gr()({name:"VAppBar",props:ege(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:d}=i;const m=tr(),x=Dp(r,"modelValue"),b=Tt(()=>{var Be;const Le=new Set(((Be=r.scrollBehavior)==null?void 0:Be.split(" "))??[]);return{hide:Le.has("hide"),fullyHide:Le.has("fully-hide"),inverted:Le.has("inverted"),collapse:Le.has("collapse"),elevate:Le.has("elevate"),fadeImage:Le.has("fade-image")}}),y=Tt(()=>{const Le=b.value;return Le.hide||Le.fullyHide||Le.inverted||Le.collapse||Le.elevate||Le.fadeImage||!x.value}),{currentScroll:S,scrollThreshold:L,isScrollingUp:P,scrollRatio:D}=Qme(r,{canScroll:y}),z=Tt(()=>b.value.hide||b.value.fullyHide),W=Tt(()=>r.collapse||b.value.collapse&&(b.value.inverted?D.value>0:D.value===0)),U=Tt(()=>r.flat||b.value.fullyHide&&!x.value||b.value.elevate&&(b.value.inverted?S.value>0:S.value===0)),G=Tt(()=>b.value.fadeImage?b.value.inverted?1-D.value:D.value:void 0),ee=Tt(()=>{var ie,Me;if(b.value.hide&&b.value.inverted)return 0;const Le=((ie=m.value)==null?void 0:ie.contentHeight)??0,Be=((Me=m.value)==null?void 0:Me.extensionHeight)??0;return z.value?S.value<L.value||b.value.fullyHide?Le+Be:Le:Le+Be});P0(Tt(()=>!!r.scrollBehavior),()=>{Ip(()=>{z.value?b.value.inverted?x.value=S.value>L.value:x.value=P.value||S.value<L.value:x.value=!0})});const{ssrBootStyles:ye}=xM(),{layoutItemStyles:ge}=Wq({id:r.name,order:Tt(()=>parseInt(r.order,10)),position:ts(r,"location"),layoutSize:ee,elementSize:Rr(void 0),active:x,absolute:ts(r,"absolute")});return Ks(()=>{const Le=Zj.filterProps(r);return Te(Zj,ji({ref:m,class:["v-app-bar",{"v-app-bar--bottom":r.location==="bottom"},r.class],style:[{...ge.value,"--v-toolbar-image-opacity":G.value,height:void 0,...ye.value},r.style]},Le,{collapse:W.value,flat:U.value}),d)}),{}}}),tge=Gr()({name:"VAppBarTitle",props:fY(),setup(r,i){let{slots:d}=i;return Ks(()=>Te(mY,ji(r,{class:"v-app-bar-title"}),d)),{}}}),Z$=O$("v-spacer","div","VSpacer"),nge=lt("span",null,"Unterbrechen",-1),oge=lt("span",null,"Vorschau zur Abgabe ",-1),rge={__name:"AppBar",setup(r){const i=Id(),d=og(),m=zS(),x=N0(),b=Wu();async function y(){if(b.focusTarget=="header"){await yl();for(const z of document.getElementsByClassName("app-header-item")){z.focus();break}}}To(()=>b.focusChange,y);function S(){return(d.writer_name==null?"":d.writer_name+", ")+(d.title??"")}function L(z){return new Promise(W=>setTimeout(W,z))}async function P(){await x.updateContent(!1,!0),await L(500),x.openSendings>0?i.review=!0:window.location=i.returnUrl}async function D(){await x.updateContent(!1,!0),await L(500),i.review=!0}return(z,W)=>(kr(),Oi(hY,{elevation:"1",color:"white",density:"compact"},{default:Dn(()=>[Te(tge,null,{default:Dn(()=>[eg(ng(S()),1)]),_:1}),Te(Z$),Te(Yme),et(m).hasAlerts?(kr(),Oi(Lme,{key:0})):$u("",!0),et(d).hasWritingEnd?(kr(),Oi(_fe,{key:1})):$u("",!0),_r(Te(ls,{class:"app-header-item",onClick:W[0]||(W[0]=U=>P())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-pause"}),nge]),_:1},512),[[$r,!et(i).review]]),_r(Te(ls,{class:"app-header-item",onClick:D},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-eye"}),oge]),_:1},512),[[$r,!et(i).review]])]),_:1}))}};function sge(r){let{rootEl:i,isSticky:d,layoutItemStyles:m}=r;const x=Rr(!1),b=Rr(0),y=Tt(()=>{const P=typeof x.value=="boolean"?"top":x.value;return[d.value?{top:"auto",bottom:"auto",height:void 0}:void 0,x.value?{[P]:br(b.value)}:{top:m.value.top}]});sg(()=>{To(d,P=>{P?window.addEventListener("scroll",L,{passive:!0}):window.removeEventListener("scroll",L)},{immediate:!0})}),ju(()=>{window.removeEventListener("scroll",L)});let S=0;function L(){const P=S>window.scrollY?"up":"down",D=i.value.getBoundingClientRect(),z=parseFloat(m.value.top??0),W=window.scrollY-Math.max(0,b.value-z),U=D.height+Math.max(b.value,z)-window.scrollY-window.innerHeight,G=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;D.height<window.innerHeight-z?(x.value="top",b.value=z):P==="up"&&x.value==="bottom"||P==="down"&&x.value==="top"?(b.value=window.scrollY+D.top-G,x.value=!0):P==="down"&&U<=0?(b.value=0,x.value="bottom"):P==="up"&&W<=0&&(G?x.value!=="top"&&(b.value=-W+G+z,x.value="top"):(b.value=D.top+W,x.value="top")),S=window.scrollY}return{isStuck:x,stickyStyles:y}}const age=100,ige=20;function jj(r){return(r<0?-1:1)*Math.sqrt(Math.abs(r))*1.41421356237}function Kj(r){if(r.length<2)return 0;if(r.length===2)return r[1].t===r[0].t?0:(r[1].d-r[0].d)/(r[1].t-r[0].t);let i=0;for(let d=r.length-1;d>0;d--){if(r[d].t===r[d-1].t)continue;const m=jj(i),x=(r[d].d-r[d-1].d)/(r[d].t-r[d-1].t);i+=(x-m)*Math.abs(x),d===r.length-1&&(i*=.5)}return jj(i)*1e3}function lge(){const r={};function i(x){Array.from(x.changedTouches).forEach(b=>{(r[b.identifier]??(r[b.identifier]=new qie(ige))).push([x.timeStamp,b])})}function d(x){Array.from(x.changedTouches).forEach(b=>{delete r[b.identifier]})}function m(x){var P;const b=(P=r[x])==null?void 0:P.values().reverse();if(!b)throw new Error(`No samples for touch id ${x}`);const y=b[0],S=[],L=[];for(const D of b){if(y[0]-D[0]>age)break;S.push({t:D[0],d:D[1].clientX}),L.push({t:D[0],d:D[1].clientY})}return{x:Kj(S),y:Kj(L),get direction(){const{x:D,y:z}=this,[W,U]=[Math.abs(D),Math.abs(z)];return W>U&&D>=0?"right":W>U&&D<=0?"left":U>W&&z>=0?"down":U>W&&z<=0?"up":cge()}}}return{addMovement:i,endTouch:d,getVelocity:m}}function cge(){throw new Error}function uge(r){let{el:i,isActive:d,isTemporary:m,width:x,touchless:b,position:y}=r;sg(()=>{window.addEventListener("touchstart",Le,{passive:!0}),window.addEventListener("touchmove",Be,{passive:!1}),window.addEventListener("touchend",ie,{passive:!0})}),ju(()=>{window.removeEventListener("touchstart",Le),window.removeEventListener("touchmove",Be),window.removeEventListener("touchend",ie)});const S=Tt(()=>["left","right"].includes(y.value)),{addMovement:L,endTouch:P,getVelocity:D}=lge();let z=!1;const W=Rr(!1),U=Rr(0),G=Rr(0);let ee;function ye(oe,Je){return(y.value==="left"?oe:y.value==="right"?document.documentElement.clientWidth-oe:y.value==="top"?oe:y.value==="bottom"?document.documentElement.clientHeight-oe:LS())-(Je?x.value:0)}function ge(oe){let Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Ve=y.value==="left"?(oe-G.value)/x.value:y.value==="right"?(document.documentElement.clientWidth-oe-G.value)/x.value:y.value==="top"?(oe-G.value)/x.value:y.value==="bottom"?(document.documentElement.clientHeight-oe-G.value)/x.value:LS();return Je?Math.max(0,Math.min(1,Ve)):Ve}function Le(oe){if(b.value)return;const Je=oe.changedTouches[0].clientX,Ve=oe.changedTouches[0].clientY,Ye=25,mt=y.value==="left"?Je<Ye:y.value==="right"?Je>document.documentElement.clientWidth-Ye:y.value==="top"?Ve<Ye:y.value==="bottom"?Ve>document.documentElement.clientHeight-Ye:LS(),Ee=d.value&&(y.value==="left"?Je<x.value:y.value==="right"?Je>document.documentElement.clientWidth-x.value:y.value==="top"?Ve<x.value:y.value==="bottom"?Ve>document.documentElement.clientHeight-x.value:LS());(mt||Ee||d.value&&m.value)&&(ee=[Je,Ve],G.value=ye(S.value?Je:Ve,d.value),U.value=ge(S.value?Je:Ve),z=G.value>-20&&G.value<80,P(oe),L(oe))}function Be(oe){const Je=oe.changedTouches[0].clientX,Ve=oe.changedTouches[0].clientY;if(z){if(!oe.cancelable){z=!1;return}const mt=Math.abs(Je-ee[0]),Ee=Math.abs(Ve-ee[1]);(S.value?mt>Ee&&mt>3:Ee>mt&&Ee>3)?(W.value=!0,z=!1):(S.value?Ee:mt)>3&&(z=!1)}if(!W.value)return;oe.preventDefault(),L(oe);const Ye=ge(S.value?Je:Ve,!1);U.value=Math.max(0,Math.min(1,Ye)),Ye>1?G.value=ye(S.value?Je:Ve,!0):Ye<0&&(G.value=ye(S.value?Je:Ve,!1))}function ie(oe){if(z=!1,!W.value)return;L(oe),W.value=!1;const Je=D(oe.changedTouches[0].identifier),Ve=Math.abs(Je.x),Ye=Math.abs(Je.y);(S.value?Ve>Ye&&Ve>400:Ye>Ve&&Ye>3)?d.value=Je.direction===({left:"right",right:"left",top:"down",bottom:"up"}[y.value]||LS()):d.value=U.value>.5}const Me=Tt(()=>W.value?{transform:y.value==="left"?`translateX(calc(-100% + ${U.value*x.value}px))`:y.value==="right"?`translateX(calc(100% - ${U.value*x.value}px))`:y.value==="top"?`translateY(calc(-100% + ${U.value*x.value}px))`:y.value==="bottom"?`translateY(calc(100% - ${U.value*x.value}px))`:LS(),transition:"none"}:void 0);return P0(W,()=>{var Ve,Ye;const oe=((Ve=i.value)==null?void 0:Ve.style.transform)??null,Je=((Ye=i.value)==null?void 0:Ye.style.transition)??null;Ip(()=>{var mt,Ee,Ne,R;(Ee=i.value)==null||Ee.style.setProperty("transform",((mt=Me.value)==null?void 0:mt.transform)||"none"),(R=i.value)==null||R.style.setProperty("transition",((Ne=Me.value)==null?void 0:Ne.transition)||null)}),zf(()=>{var mt,Ee;(mt=i.value)==null||mt.style.setProperty("transform",oe),(Ee=i.value)==null||Ee.style.setProperty("transition",Je)})}),{isDragging:W,dragProgress:U,dragStyles:Me}}function LS(){throw new Error}const dge=["start","end","left","right","top","bottom"],fge=ho({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:r=>dge.includes(r)},sticky:Boolean,...ox(),...ya(),...XG(),...Ace({mobile:null}),..._w(),...Uq(),...Mp(),...Nl({tag:"nav"}),...Ku()},"VNavigationDrawer"),mge=Gr()({name:"VNavigationDrawer",props:fge(),emits:{"update:modelValue":r=>!0,"update:rail":r=>!0},setup(r,i){let{attrs:d,emit:m,slots:x}=i;const{isRtl:b}=tk(),{themeClasses:y}=qu(r),{borderClasses:S}=rx(r),{backgroundColorClasses:L,backgroundColorStyles:P}=L0(ts(r,"color")),{elevationClasses:D}=Cw(r),{displayClasses:z,mobile:W}=Fq(r),{roundedClasses:U}=Pp(r),G=BG(),ee=Dp(r,"modelValue",null,yt=>!!yt),{ssrBootStyles:ye}=xM(),{scopeId:ge}=V$(),Le=tr(),Be=Rr(!1),{runOpenDelay:ie,runCloseDelay:Me}=JG(r,yt=>{Be.value=yt}),oe=Tt(()=>r.rail&&r.expandOnHover&&Be.value?Number(r.width):Number(r.rail?r.railWidth:r.width)),Je=Tt(()=>TH(r.location,b.value)),Ve=Tt(()=>r.persistent),Ye=Tt(()=>!r.permanent&&(W.value||r.temporary)),mt=Tt(()=>r.sticky&&!Ye.value&&Je.value!=="bottom");P0(()=>r.expandOnHover&&r.rail!=null,()=>{To(Be,yt=>m("update:rail",!yt))}),P0(()=>!r.disableResizeWatcher,()=>{To(Ye,yt=>!r.permanent&&yl(()=>ee.value=!yt))}),P0(()=>!r.disableRouteWatcher&&!!G,()=>{To(G.currentRoute,()=>Ye.value&&(ee.value=!1))}),To(()=>r.permanent,yt=>{yt&&(ee.value=!0)}),r.modelValue==null&&!Ye.value&&(ee.value=r.permanent||!W.value);const{isDragging:Ee,dragProgress:Ne}=uge({el:Le,isActive:ee,isTemporary:Ye,width:oe,touchless:ts(r,"touchless"),position:Je}),R=Tt(()=>{const yt=Ye.value?0:r.rail&&r.expandOnHover?Number(r.railWidth):oe.value;return Ee.value?yt*Ne.value:yt}),Nt=Tt(()=>["top","bottom"].includes(r.location)?0:oe.value),{layoutItemStyles:Jt,layoutItemScrimStyles:pn}=Wq({id:r.name,order:Tt(()=>parseInt(r.order,10)),position:Je,layoutSize:R,elementSize:Nt,active:Tt(()=>ee.value||Ee.value),disableTransitions:Tt(()=>Ee.value),absolute:Tt(()=>r.absolute||mt.value&&typeof Tn.value!="string")}),{isStuck:Tn,stickyStyles:ot}=sge({rootEl:Le,isSticky:mt,layoutItemStyles:Jt}),Vn=L0(Tt(()=>typeof r.scrim=="string"?r.scrim:null)),Nr=Tt(()=>({...Ee.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...pn.value}));return QS({VList:{bgColor:"transparent"}}),Ks(()=>{const yt=x.image||r.image;return Te(ia,null,[Te(r.tag,ji({ref:Le,onMouseenter:ie,onMouseleave:Me,class:["v-navigation-drawer",`v-navigation-drawer--${Je.value}`,{"v-navigation-drawer--expand-on-hover":r.expandOnHover,"v-navigation-drawer--floating":r.floating,"v-navigation-drawer--is-hovering":Be.value,"v-navigation-drawer--rail":r.rail,"v-navigation-drawer--temporary":Ye.value,"v-navigation-drawer--persistent":Ve.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":mt.value},y.value,L.value,S.value,z.value,D.value,U.value,r.class],style:[P.value,Jt.value,ye.value,ot.value,r.style,["top","bottom"].includes(Je.value)?{height:"auto"}:{}]},ge,d),{default:()=>{var vt,jt,bs;return[yt&&Te("div",{key:"image",class:"v-navigation-drawer__img"},[x.image?Te(Zu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:r.image}}},x.image):Te(vM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:r.image},null)]),x.prepend&&Te("div",{class:"v-navigation-drawer__prepend"},[(vt=x.prepend)==null?void 0:vt.call(x)]),Te("div",{class:"v-navigation-drawer__content"},[(jt=x.default)==null?void 0:jt.call(x)]),x.append&&Te("div",{class:"v-navigation-drawer__append"},[(bs=x.append)==null?void 0:bs.call(x)])]}}),Te(Np,{name:"fade-transition"},{default:()=>[Ye.value&&(Ee.value||ee.value)&&!!r.scrim&&Te("div",ji({class:["v-navigation-drawer__scrim",Vn.backgroundColorClasses.value],style:[Nr.value,Vn.backgroundColorStyles.value],onClick:()=>{Ve.value||(ee.value=!1)}},ge),null)]})])}),{isStuck:Tn}}}),gge={__name:"NavBar",setup(r){const i=Wu(),d=Rp(),m=og(),x=Op(),b=Id();async function y(){if(i.focusTarget=="navigation"){await yl();for(const W of document.getElementsByClassName("app-navigation-item")){W.focus();break}}}To(()=>i.focusChange,y);function S(W){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function L(W){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function P(W){W.type==Od.TYPE_URL&&!W.embedded?window.open(W.source,"long-essay-writer-resource-"+W.key):(d.selectResource(W),i.showResources())}function D(W){W.keyCode==27?L():i.handleKeyDown(W)}function z(W){return W.isExternalUrl()?"mdi-link":W.isEmbeddedUrl()?d.isActive(W)&&i.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":d.isActive(W)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(W,U)=>(kr(),Oi(mge,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:S,onFocusout:L,onKeydown:D},{append:Dn(()=>[Te(Wj,{tabindex:"-1"},{default:Dn(()=>[Te(B0,{tabindex:"-1",disabled:"","aria-label":et(b).isSending?"Änderungen werden gesendet":et(b).isAllSent?"Alles gesendet":"Noch Änderungen zu senden",title:et(b).isSending?"Änderungen werden gesendet":et(b).isAllSent?"Alles gesendet":"Noch Änderungen zu senden"},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:et(b).isSending?"mdi-cloud-upload":et(b).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])]),_:1})]),default:Dn(()=>[Te(Wj,{tabindex:"-1"},{default:Dn(()=>[_r(Te(B0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[0]||(U[0]=G=>{et(i).showInstructions()}),"aria-label":"Aufgabenstellung"+(et(i).isInstructionsVisible?", ist ausgewählt":""),title:"Aufgabenstellung"+(et(i).isInstructionsVisible?" (ausgewählt)":""),ripple:!1},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:et(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[$r,et(m).hasInstructions]]),_r(Te(B0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[1]||(U[1]=G=>{et(i).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(et(i).isInstructionsPdfVisible?", ist ausgewählt":""),title:"Aufgabenstellung als PDF"+(et(i).isInstructionsPdfVisible?" (ausgewählt)":""),ripple:!1},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:et(i).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[$r,et(d).hasInstruction]]),Te(JH,{class:"border-opacity-75"}),Te(B0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[2]||(U[2]=G=>{et(i).showEssay()}),"aria-label":"Abgabe-Text"+(et(i).isEssayVisible?", ist ausgewählt":""),title:"Abgabe-Text"+(et(i).isEssayVisible?" (ausgewählt)":""),ripple:!1},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:et(i).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),et(x).hasNotes?(kr(),Oi(B0,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[3]||(U[3]=G=>{et(i).showNotes()}),"aria-label":"Notizen, werden bei der Abgabe verworfen"+(et(i).isNotesVisible?", ist ausgewählt":""),title:"Notizen, werden bei der Abgabe verworfen"+(et(i).isNotesVisible?" (ausgewählt)":""),ripple:!1},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:et(i).isNotesVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):$u("",!0),Te(JH,{class:"border-opacity-75"}),(kr(!0),Xl(ia,null,WT(et(d).getFileOrUrlResources,G=>(kr(),Oi(B0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{P(G)},"aria-label":G.title+(et(d).isActive(G)&&et(i).isResourcesVisible?", ist ausgewählt":""),title:G.title+(et(d).isActive(G)&&et(i).isResourcesVisible?" (ausgewählt)":""),key:G.key,ripple:!1},{prepend:Dn(()=>[Te(Dr,{"aria-role":"hidden",icon:z(G)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128))]),_:1})]),_:1}))}},hge=dh(gge,[["__scopeId","data-v-be00c1da"]]);function vB(r){const i=document.createElement("div");return i.innerHTML=r,(i.innerText||i.textContent).replace(/[\s\n\r]+/g,"")}const yM=ag("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:r=>function(d){return!!(Op().copy_allowed||(console.log("content:",d),console.log("normalized content:",vB(d)),console.log("state.content:",r.content),console.log("normalized state.content:",vB(r.content)),vB(d)==vB(r.content)))}},actions:{setContent(r){this.content=r},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}}),pge={id:"app-instructions-wrapper"},bge={class:"appTextButtons"},vge=["innerHTML"],xge={__name:"Instructions",setup(r){const i=og(),d=Wu(),m=Kv(),x=yM();async function b(){d.focusTarget=="left"&&d.isInstructionsVisible&&(await yl(),document.getElementById("app-instructions").focus())}To(()=>d.focusChange,b);function y(P){const D=L();console.log(D),x.setContent(D),P.clipboardData.setData("text/html",D),P.preventDefault()}function S(P){return P.preventDefault(),!1}function L(){var P;if(document.selection&&document.selection.createRange)return P=document.selection.createRange(),P.htmlText;if(window.getSelection){var D=window.getSelection();if(D.rangeCount>0){P=D.getRangeAt(0);var z=P.cloneContents(),W=document.createElement("div");return W.appendChild(z),W.innerHTML}else return""}else return""}return(P,D)=>(kr(),Xl("div",pge,[lt("div",bge,[Te(XS,{density:"comfortable",variant:"outlined",divided:""},{default:Dn(()=>[Te(ls,{title:"Aufgabenstellung Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:D[0]||(D[0]=z=>et(m).zoomInstructionsOut())}),Te(ls,{title:"Aufgabenstellung Text vergrößern",size:"small",icon:"mdi-magnify-plus-outline",onClick:D[1]||(D[1]=z=>et(m).zoomInstructionsIn())})]),_:1})]),lt("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:Wv("font-size:"+et(m).instructions_zoom+"rem;"),innerHTML:et(i).instructions,onBeforeinput:S,onCopy:y,onCut:y},null,44,vge)]))}},yge=dh(xge,[["__scopeId","data-v-9aaf319c"]]),wge=(r,i,d)=>{let m=Promise.resolve();const x=new EventTarget,b=(G,ee=null)=>x.dispatchEvent(new CustomEvent(G,{detail:ee})),y=((G=0)=>()=>++G)(),S={},L=document.createElement("iframe"),P=Promise.withResolvers();return L.src=i+"?file="+encodeURIComponent(d),L.style.width="100%",L.style.height="100%",r.appendChild(L),window.addEventListener("message",U),{on:x.addEventListener.bind(x),off:x.removeEventListener.bind(x),getAll:()=>z("getAll"),get:G=>z("get",G),update:G=>D("update",G),setAll:G=>D("setAll",G),add:G=>D("add",G),delete:G=>D("delete",G),selected:()=>z("selected"),select:G=>z("select",G),currentPage:()=>z("currentPage"),destroy:()=>{window.removeEventListener("message",U),iframe.remove()},rebuild:()=>{window.addEventListener("message",U),r.appendChild(L)}};function D(G,...ee){return m=m.then(()=>z(G,...ee))}function z(G,...ee){return new Promise(ye=>{const ge=y();return S[ge]=ye,P.promise.then(()=>L.contentWindow.postMessage({id:ge,name:G,args:ee}))})}function W(G){if(!S[G.id])return;const ee=S[G.id];delete S[G.id],ee(G.value)}function U(G){if(G.source===L.contentWindow){if(G.data.emit){G.data.emit.name==="ready"&&P.resolve(),b(G.data.emit.name,G.data.emit.detail);return}if(G.data.response){W(G.data.response);return}}}},_ge=r=>(xw("data-v-8aed2b4f"),r=r(),yw(),r),Cge={class:"appResourceWrapper"},Sge=_ge(()=>lt("div",{class:"appTextButtons"},null,-1)),kge={__name:"ResourcePdf",props:["resource"],setup(r){const i=Wu();Rp();const d=AB(),x=r.resource,b=tr();let y;sg(()=>{y=wge(b.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",x.url),L(),["create","update","delete"].forEach(D=>y.on(D,P)),S()});async function S(){i.isResourceShown(x)&&(await yl(),b.value.focus())}To(()=>i.focusChange,S);async function L(){const D=[];for(const z of d.getAnnotationsForResource(x.key))D.push({id:z.mark_key,page:z.parent_number,intern:JSON.parse(z.mark_value)});y.setAll(D)}async function P(D){const z=await y.getAll(),W=[];for(const U of z)W.push(new qT({resource_key:x.key,mark_key:U.id,mark_value:JSON.stringify(U.intern),parent_number:U.page}));d.saveAnnotationsForResource(x.key,W)}return(D,z)=>(kr(),Xl("div",Cge,[Sge,lt("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:b},null,512)]))}},Ege=dh(kge,[["__scopeId","data-v-8aed2b4f"]]),Age=r=>(xw("data-v-4491b7ee"),r=r(),yw(),r),Tge={id:"app-resource-url-wrapper"},Oge=Age(()=>lt("div",{class:"appTextButtons"},null,-1)),Dge=["src"],Rge={__name:"ResourceUrl",props:["resource"],setup(r){const i=Wu();Rp();const m=r.resource,x=tr();async function b(){i.isResourceShown(m)&&(await yl(),x.value.focus())}return sg(()=>b),To(()=>i.focusChange,b),(y,S)=>(kr(),Xl("div",Tge,[Oge,lt("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:x},[lt("iframe",{src:et(m).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Dge)],512)]))}},Nge=dh(Rge,[["__scopeId","data-v-4491b7ee"]]),Ige={id:"app-resources",tabindex:"0",class:"resources"},Bge={__name:"Resources",setup(r){const i=Wu(),d=Rp();return(m,x)=>(kr(),Xl("div",Ige,[(kr(!0),Xl(ia,null,WT(et(d).resources,b=>(kr(),Xl(ia,{key:b.key},[b.isPdf()?_r((kr(),Oi(Ege,{key:b.key,resource:b},null,8,["resource"])),[[$r,et(i).isResourceShown(b)]]):$u("",!0),b.isEmbeddedUrl()?_r((kr(),Oi(Nge,{key:b.key,resource:b},null,8,["resource"])),[[$r,et(i).isResourceShown(b)]]):$u("",!0)],64))),128))]))}},Mge=dh(Bge,[["__scopeId","data-v-1c7878fa"]]);var pY={exports:{}};(function(r){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},d=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},x=function(e,t){return b(function(n,s){return e.eq(t(n),t(s))})},b=function(e){return{eq:e}},y=b(function(e,t){return e===t}),S=y,L=function(e){return b(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e.eq(t[l],n[l]))return!1;return!0})},P=function(e,t){return x(L(e),function(n){return m(n,t)})},D=function(e){return b(function(t,n){var s=Object.keys(t),l=Object.keys(n);if(!P(S).eq(s,l))return!1;for(var f=s.length,g=0;g<f;g++){var _=s[g];if(!e.eq(t[_],n[_]))return!1}return!0})},z=b(function(e,t){if(e===t)return!0;var n=i(e),s=i(t);return n!==s?!1:d(n)?e===t:n==="array"?L(z).eq(e,t):n==="object"?D(z).eq(e,t):!1});const W=Object.getPrototypeOf,U=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},G=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&U(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},ee=e=>t=>G(t)===e,ye=e=>t=>typeof t===e,ge=e=>t=>e===t,Le=(e,t)=>ie(e)&&U(e,t,(n,s)=>W(n)===s),Be=ee("string"),ie=ee("object"),Me=e=>Le(e,Object),oe=ee("array"),Je=ge(null),Ve=ye("boolean"),Ye=ge(void 0),mt=e=>e==null,Ee=e=>!mt(e),Ne=ye("function"),R=ye("number"),Nt=(e,t)=>{if(oe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Jt=()=>{},pn=(e,t)=>(...n)=>e(t.apply(null,n)),Tn=(e,t)=>n=>e(t(n)),ot=e=>()=>e,Vn=e=>e,Nr=(e,t)=>e===t;function yt(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const vt=e=>t=>!e(t),jt=e=>()=>{throw new Error(e)},bs=e=>e(),bo=e=>{e()},En=ot(!1),Mn=ot(!0);class J{constructor(t,n){this.tag=t,this.value=n}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ee(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const nr=Array.prototype.slice,dr=Array.prototype.indexOf,jo=Array.prototype.push,ei=(e,t)=>dr.call(e,t),Ze=(e,t)=>{const n=ei(e,t);return n===-1?J.none():J.some(n)},le=(e,t)=>ei(e,t)>-1,ve=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return!0}return!1},Ie=(e,t)=>{const n=e.length,s=new Array(n);for(let l=0;l<n;l++){const f=e[l];s[l]=t(f,l)}return s},me=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];t(l,n)}},_t=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},$t=(e,t)=>{const n=[],s=[];for(let l=0,f=e.length;l<f;l++){const g=e[l];(t(g,l)?n:s).push(g)}return{pass:n,fail:s}},xt=(e,t)=>{const n=[];for(let s=0,l=e.length;s<l;s++){const f=e[s];t(f,s)&&n.push(f)}return n},Ft=(e,t,n)=>(_t(e,(s,l)=>{n=t(n,s,l)}),n),It=(e,t,n)=>(me(e,(s,l)=>{n=t(n,s,l)}),n),on=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++){const f=e[s];if(t(f,s))return J.some(f);if(n(f,s))break}return J.none()},vn=(e,t)=>on(e,t,En),xn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return J.some(n)}return J.none()},Cn=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);jo.apply(t,e[n])}return t},ro=(e,t)=>Cn(Ie(e,t)),po=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const l=e[n];if(t(l,n)!==!0)return!1}return!0},Eo=e=>{const t=nr.call(e,0);return t.reverse(),t},Oo=(e,t)=>xt(e,n=>!le(t,n)),Cs=(e,t)=>{const n={};for(let s=0,l=e.length;s<l;s++){const f=e[s];n[String(f)]=t(f,s)}return n},ar=(e,t)=>{const n=nr.call(e,0);return n.sort(t),n},gi=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),ln=e=>gi(e,0),mo=e=>gi(e,e.length-1),so=Ne(Array.from)?Array.from:e=>nr.call(e),zr=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return J.none()},Ba=(e,t)=>{const n=[],s=Ne(t)?l=>ve(n,f=>t(f,l)):l=>le(n,l);for(let l=0,f=e.length;l<f;l++){const g=e[l];s(g)||n.push(g)}return n},Ht=Object.keys,qs=Object.hasOwnProperty,Vo=(e,t)=>{const n=Ht(e);for(let s=0,l=n.length;s<l;s++){const f=n[s],g=e[f];t(g,f)}},wl=(e,t)=>yr(e,(n,s)=>({k:s,v:t(n,s)})),yr=(e,t)=>{const n={};return Vo(e,(s,l)=>{const f=t(s,l);n[f.k]=f.v}),n},Ps=e=>(t,n)=>{e[n]=t},Vf=(e,t,n,s)=>{Vo(e,(l,f)=>{(t(l,f)?n:s)(l,f)})},ou=(e,t)=>{const n={},s={};return Vf(e,t,Ps(n),Ps(s)),{t:n,f:s}},Jl=(e,t)=>{const n={};return Vf(e,t,Ps(n),Jt),n},qi=(e,t)=>{const n=[];return Vo(e,(s,l)=>{n.push(t(s,l))}),n},ru=e=>qi(e,Vn),ir=(e,t)=>Gn(e,t)?J.from(e[t]):J.none(),Gn=(e,t)=>qs.call(e,t),_l=(e,t)=>Gn(e,t)&&e[t]!==void 0&&e[t]!==null,la=(e,t,n=z)=>D(n).eq(e,t),su=e=>{const t={};return me(e,n=>{t[n]={}}),Ht(t)},Qt=e=>e.length!==void 0,au=Array.isArray,Uf=e=>{if(au(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},Yr=(e,t,n)=>{if(!e)return!1;if(n=n||e,Qt(e)){for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Gn(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Wf=(e,t)=>{const n=[];return Yr(e,(s,l)=>{n.push(t(s,l,e))}),n},Di=(e,t)=>{const n=[];return Yr(e,(s,l)=>{(!t||t(s,l,e))&&n.push(s)}),n},ul=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Gi=(e,t,n,s)=>{let l=Ye(n)?e[0]:n;for(let f=0;f<e.length;f++)l=t.call(s,l,e[f],f);return l},Vr=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e))return s;return-1},ti=e=>e[e.length-1],dl=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Zf=(e,t,n,s)=>{const l=e.isiOS()&&/ipad/i.test(n)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),_=g||s("(pointer:coarse)"),A=l||!f&&g&&s("(min-device-width:768px)"),F=f||g&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,q=!F&&!A&&!j;return{isiPad:ot(l),isiPhone:ot(f),isTablet:ot(A),isPhone:ot(F),isTouch:ot(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ot(j),isDesktop:ot(q)}},Sc=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},kc=(e,t)=>{const n=Sc(e,t);if(!n)return{major:0,minor:0};const s=l=>Number(t.replace(n,"$"+l));return Uo(s(1),s(2))},Md=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Gu():kc(e,n)},Gu=()=>Uo(0,0),Uo=(e,t)=>({major:e,minor:t}),vs={nu:Uo,detect:Md,unknown:Gu},Vs=(e,t)=>zr(t.brands,n=>{const s=n.brand.toLowerCase();return vn(e,l=>{var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:vs.nu(parseInt(n.version,10),0)}))}),jf=(e,t)=>{const n=String(t).toLowerCase();return vn(e,s=>s.search(n))},Ri=(e,t)=>jf(e,t).map(n=>{const s=vs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Ec=(e,t)=>jf(e,t).map(n=>{const s=vs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),ni=(e,t)=>e.substring(t),oi=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Ac=(e,t)=>Ur(e,t)?ni(e,t.length):e,fr=(e,t,n=0,s)=>{const l=e.indexOf(t,n);return l!==-1?Ye(s)?!0:l+t.length<=s:!1},Ur=(e,t)=>oi(e,t,0),_e=(e,t)=>oi(e,t,e.length-t.length),Ke=e=>t=>t.replace(e,""),Oe=Ke(/^\s+|\s+$/g),at=Ke(/^\s+/g),nt=Ke(/\s+$/g),We=e=>e.length>0,Pt=e=>!We(e),Gt=(e,t)=>t<=0?"":new Array(t+1).join(e),nn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?J.none():J.some(n)},un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,en=e=>t=>fr(t,e),no=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>fr(e,"edge/")&&fr(e,"chrome")&&fr(e,"safari")&&fr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,un],search:e=>fr(e,"chrome")&&!fr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>fr(e,"msie")||fr(e,"trident")},{name:"Opera",versionRegexes:[un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:en("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:en("firefox")},{name:"Safari",versionRegexes:[un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(fr(e,"safari")||fr(e,"mobile/"))&&fr(e,"applewebkit")}],Xt=[{name:"Windows",search:en("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>fr(e,"iphone")||fr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:en("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:en("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:en("linux"),versionRegexes:[]},{name:"Solaris",search:en("sunos"),versionRegexes:[]},{name:"FreeBSD",search:en("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:en("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],or={browsers:ot(no),oses:ot(Xt)},yo="Edge",No="Chromium",cs="IE",co="Opera",fl="Firefox",Ma="Safari",Xn=()=>Ni({current:void 0,version:vs.unknown()}),Ni=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isEdge:s(yo),isChromium:s(No),isIE:s(cs),isOpera:s(co),isFirefox:s(fl),isSafari:s(Ma)}},Yi={unknown:Xn,nu:Ni,edge:ot(yo),chromium:ot(No),ie:ot(cs),opera:ot(co),firefox:ot(fl),safari:ot(Ma)},ns="Windows",Yu="iOS",Ss="Android",Pd="Linux",ml="macOS",Jo="Solaris",iu="FreeBSD",Kf="ChromeOS",fh=()=>us({current:void 0,version:vs.unknown()}),us=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isWindows:s(ns),isiOS:s(Yu),isAndroid:s(Ss),isMacOS:s(ml),isLinux:s(Pd),isSolaris:s(Jo),isFreeBSD:s(iu),isChromeOS:s(Kf)}},Ql={unknown:fh,nu:us,windows:ot(ns),ios:ot(Yu),android:ot(Ss),linux:ot(Pd),macos:ot(ml),solaris:ot(Jo),freebsd:ot(iu),chromeos:ot(Kf)},Ir={detect:(e,t,n)=>{const s=or.browsers(),l=or.oses(),f=t.bind(A=>Vs(s,A)).orThunk(()=>Ri(s,e)).fold(Yi.unknown,Yi.nu),g=Ec(l,e).fold(Ql.unknown,Ql.nu),_=Zf(g,f,e,n);return{browser:f,os:g,deviceType:_}}},qf=e=>window.matchMedia(e).matches;let gl=dl(()=>Ir.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),qf));const Pa=()=>gl(),ig=window.navigator.userAgent,ca=Pa(),Ii=ca.browser,La=ca.os,hl=ca.deviceType,mh=ig.indexOf("Windows Phone")!==-1,wo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ii.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ii.isIE(),windowsPhone:mh,browser:{current:Ii.current,version:Ii.version,isChromium:Ii.isChromium,isEdge:Ii.isEdge,isFirefox:Ii.isFirefox,isIE:Ii.isIE,isOpera:Ii.isOpera,isSafari:Ii.isSafari},os:{current:La.current,version:La.version,isAndroid:La.isAndroid,isChromeOS:La.isChromeOS,isFreeBSD:La.isFreeBSD,isiOS:La.isiOS,isLinux:La.isLinux,isMacOS:La.isMacOS,isSolaris:La.isSolaris,isWindows:La.isWindows},deviceType:{isDesktop:hl.isDesktop,isiPad:hl.isiPad,isiPhone:hl.isiPhone,isPhone:hl.isPhone,isTablet:hl.isTablet,isTouch:hl.isTouch,isWebView:hl.isWebView}},Tc=/^\s*|\s*$/g,Xu=e=>mt(e)?"":(""+e).replace(Tc,""),lu=(e,t)=>t?t==="array"&&au(e)?!0:typeof e===t:e!==void 0,Fp=(e,t,n={})=>{const s=Be(e)?e.split(t||","):e||[];let l=s.length;for(;l--;)n[s[l]]={};return n},ax=Gn,$0=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const l in s)if(Gn(s,l)){const f=s[l];f!==void 0&&(e[l]=f)}}return e},V0=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),Yr(e,(l,f)=>t.call(s,l,f,n)===!1?!1:(V0(l,t,n,s),!0)))},Zt={trim:Xu,isArray:au,is:lu,toArray:Uf,makeMap:Fp,each:Yr,map:Wf,grep:Di,inArray:ul,hasOwn:ax,extend:$0,walk:V0,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,l=n.length;s<l&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>oe(e)?e:e===""?[]:Wf(e.split(t||","),Xu),_addCacheSuffix:e=>{const t=wo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Ld=(e,t,n=Nr)=>e.exists(s=>n(s,t)),Fd=(e,t,n=Nr)=>Fa(e,t,n).getOr(e.isNone()&&t.isNone()),W0=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},Fa=(e,t,n)=>e.isSome()&&t.isSome()?J.some(n(e.getOrDie(),t.getOrDie())):J.none(),zd=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?J.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):J.none(),lg=(e,t)=>e?J.some(t):J.none(),ix=typeof window<"u"?window:Function("return this;")(),lx=(e,t)=>{let n=t??ix;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},zp=(e,t)=>{const n=e.split(".");return lx(n,t)},cx=(e,t)=>zp(e,t),Z0=(e,t)=>{const n=cx(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},ux=Object.getPrototypeOf,cg=e=>Z0("HTMLElement",e),j0=e=>{const t=zp("ownerDocument.defaultView",e);return ie(e)&&(cg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ux(e).constructor.name))},Hd=8,$d=9,za=11,Ji=1,ug=3,Mo=e=>e.dom.nodeName.toLowerCase(),Ju=e=>e.dom.nodeType,dg=e=>t=>Ju(t)===e,fg=e=>Ju(e)===Hd||Mo(e)==="#comment",hi=e=>ks(e)&&j0(e.dom),ks=dg(Ji),Wr=dg(ug),wa=dg($d),Br=dg(za),Vd=e=>t=>ks(t)&&Mo(t)===e,Gf=(e,t,n)=>{if(Be(n)||Ve(n)||R(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ea=(e,t,n)=>{Gf(e.dom,t,n)},pi=(e,t)=>{const n=e.dom;Vo(t,(s,l)=>{Gf(n,l,s)})},ri=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Oc=(e,t)=>J.from(ri(e,t)),Qu=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},go=(e,t)=>{e.dom.removeAttribute(t)},Us=e=>{const t=e.dom.attributes;return t==null||t.length===0},Qi=e=>It(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),ed=(e,t)=>{const n=ri(e,t);return n===void 0||n===""?[]:n.split(" ")},_a=(e,t,n)=>{const l=ed(e,t).concat([n]);return ea(e,t,l.join(" ")),!0},An=(e,t,n)=>{const s=xt(ed(e,t),l=>l!==n);return s.length>0?ea(e,t,s.join(" ")):go(e,t),!1},ec=e=>e.dom.classList!==void 0,tc=e=>ed(e,"class"),rr=(e,t)=>_a(e,"class",t),hh=(e,t)=>An(e,"class",t),Hp=(e,t)=>le(tc(e),t)?hh(e,t):rr(e,t),td=(e,t)=>{ec(e)?e.dom.classList.add(t):rr(e,t)},_o=e=>{(ec(e)?e.dom.classList:tc(e)).length===0&&go(e,"class")},bi=(e,t)=>{ec(e)?e.dom.classList.remove(t):hh(e,t),_o(e)},ph=(e,t)=>{const n=ec(e)?e.dom.classList.toggle(t):Hp(e,t);return _o(e),n},nd=(e,t)=>ec(e)&&e.dom.classList.contains(t),$p=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Rc(s.childNodes[0])},Dc=(e,t)=>{const s=(t||document).createElement(e);return Rc(s)},Bi=(e,t)=>{const s=(t||document).createTextNode(e);return Rc(s)},Rc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Re={fromHtml:$p,fromTag:Dc,fromText:Bi,fromDom:Rc,fromPoint:(e,t,n)=>J.from(e.dom.elementFromPoint(t,n)).map(Rc)},Yf=(e,t)=>{const n=[],s=f=>(n.push(f),t(f));let l=t(e);do l=l.bind(s);while(l.isSome());return n},mr=(e,t)=>{const n=e.dom;if(n.nodeType!==Ji)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Vp=e=>e.nodeType!==Ji&&e.nodeType!==$d&&e.nodeType!==za||e.childElementCount===0,mg=(e,t)=>{const n=t===void 0?document:t.dom;return Vp(n)?[]:Ie(n.querySelectorAll(e),Re.fromDom)},Nc=(e,t)=>{const n=t===void 0?document:t.dom;return Vp(n)?J.none():J.from(n.querySelector(e)).map(Re.fromDom)},Po=(e,t)=>e.dom===t.dom,Ha=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},cu=e=>Re.fromDom(e.dom.ownerDocument),Il=e=>wa(e)?e:cu(e),uu=e=>Re.fromDom(Il(e).dom.documentElement),du=e=>Re.fromDom(Il(e).dom.defaultView),$a=e=>J.from(e.dom.parentNode).map(Re.fromDom),Wd=e=>J.from(e.dom.parentElement).map(Re.fromDom),Xf=(e,t)=>{const n=Ne(t)?t:En;let s=e.dom;const l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const f=s.parentNode,g=Re.fromDom(f);if(l.push(g),n(g)===!0)break;s=f}return l},Up=e=>{const t=n=>xt(n,s=>!Po(e,s));return $a(e).map(Va).map(t).getOr([])},ta=e=>J.from(e.dom.previousSibling).map(Re.fromDom),Bn=e=>J.from(e.dom.nextSibling).map(Re.fromDom),fu=e=>Eo(Yf(e,ta)),Jf=e=>Yf(e,Bn),Va=e=>Ie(e.dom.childNodes,Re.fromDom),mu=(e,t)=>{const n=e.dom.childNodes;return J.from(n[t]).map(Re.fromDom)},pl=e=>mu(e,0),gu=e=>mu(e,e.dom.childNodes.length-1),od=e=>e.dom.childNodes.length,na=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Re.fromDom(t)},Bl=e=>Br(e)&&Ee(e.dom.host),Ic=e=>Re.fromDom(e.dom.getRootNode()),Qf=e=>Bl(e)?e:na(Il(e)),K0=e=>Bl(e)?e:Re.fromDom(Il(e).dom.body),hu=e=>{const t=Ic(e);return Bl(t)?J.some(t):J.none()},Zd=e=>Re.fromDom(e.dom.host),Wp=e=>{if(Ee(e.target)){const t=Re.fromDom(e.target);if(ks(t)&&os(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return ln(n)}}return J.from(e.target)},os=e=>Ee(e.dom.shadowRoot),vi=e=>{const t=Wr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return hu(Re.fromDom(t)).fold(()=>n.body.contains(t),Tn(vi,Zd))};var si=(e,t,n,s,l)=>e(n,s)?J.some(n):Ne(l)&&l(n)?J.none():t(n,s,l);const Mi=(e,t,n)=>{let s=e.dom;const l=Ne(n)?n:En;for(;s.parentNode;){s=s.parentNode;const f=Re.fromDom(s);if(t(f))return J.some(f);if(l(f))break}return J.none()},Gs=(e,t,n)=>si((l,f)=>f(l),Mi,e,t,n),bh=(e,t)=>{const n=e.dom;return n.parentNode?Ws(Re.fromDom(n.parentNode),s=>!Po(e,s)&&t(s)):J.none()},Ws=(e,t)=>{const n=l=>t(Re.fromDom(l));return vn(e.dom.childNodes,n).map(Re.fromDom)},Ca=(e,t)=>{const n=s=>{for(let l=0;l<s.childNodes.length;l++){const f=Re.fromDom(s.childNodes[l]);if(t(f))return J.some(f);const g=n(s.childNodes[l]);if(g.isSome())return g}return J.none()};return n(e.dom)},Bc=(e,t,n)=>Mi(e,s=>mr(s,t),n),kt=(e,t)=>Nc(t,e),Sa=(e,t,n)=>si((l,f)=>mr(l,f),Bc,e,t,n),vh=e=>Sa(e,"[contenteditable]"),rs=(e,t=!1)=>vi(e)?e.dom.isContentEditable:vh(e).fold(ot(t),n=>pu(n)==="true"),pu=e=>e.dom.contentEditable,xi=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),nc=(e,t,n)=>{if(!Be(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);xi(e)&&e.style.setProperty(t,n)},em=(e,t)=>{xi(e)&&e.style.removeProperty(t)},Pi=(e,t,n)=>{const s=e.dom;nc(s,t,n)},Io=(e,t)=>{const n=e.dom;Vo(t,(s,l)=>{nc(n,l,s)})},Es=(e,t)=>{const n=e.dom,l=window.getComputedStyle(n).getPropertyValue(t);return l===""&&!vi(e)?jd(n,t):l},jd=(e,t)=>xi(e)?e.style.getPropertyValue(t):"",xs=(e,t)=>{const n=e.dom,s=jd(n,t);return J.from(s).filter(l=>l.length>0)},gg=e=>{const t={},n=e.dom;if(xi(n))for(let s=0;s<n.style.length;s++){const l=n.style.item(s);t[l]=n.style[l]}return t},Mc=(e,t)=>{const n=e.dom;em(n,t),Ld(Oc(e,"style").map(Oe),"")&&go(e,"style")},q0=e=>e.dom.offsetWidth,ds=(e,t)=>{$a(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Xe=(e,t)=>{Bn(e).fold(()=>{$a(e).each(l=>{As(l,t)})},s=>{ds(s,t)})},yi=(e,t)=>{pl(e).fold(()=>{As(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},As=(e,t)=>{e.dom.appendChild(t.dom)},Cl=(e,t)=>{ds(e,t),As(t,e)},oc=(e,t)=>{me(t,(n,s)=>{const l=s===0?e:t[s-1];Xe(l,n)})},Ls=(e,t)=>{me(t,n=>{As(e,n)})},Mr=e=>{e.dom.textContent="",me(Va(e),t=>{lr(t)})},lr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},wi=e=>{const t=Va(e);t.length>0&&oc(e,t),lr(e)},Sl=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Va(Re.fromDom(s))},Pc=e=>Ie(e,Re.fromDom),rd=e=>e.dom.innerHTML,tm=(e,t)=>{const s=cu(e).dom,l=Re.fromDom(s.createDocumentFragment()),f=Sl(t,s);Ls(l,f),Mr(e),As(e,l)},hg=e=>{const t=Re.fromTag("div"),n=Re.fromDom(e.dom.cloneNode(!0));return As(t,n),rd(t)},pg=(e,t,n,s,l,f,g)=>({target:e,x:t,y:n,stop:s,prevent:l,kill:f,raw:g}),Zp=e=>{const t=Re.fromDom(Wp(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),l=pn(s,n);return pg(t,e.clientX,e.clientY,n,s,l,e)},jp=(e,t)=>n=>{e(n)&&t(Zp(n))},bu=(e,t,n,s,l)=>{const f=jp(n,s);return e.dom.addEventListener(t,f,l),{unbind:yt(Z,e,t,f,l)}},N=(e,t,n,s)=>bu(e,t,n,s,!1),Z=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},te=(e,t)=>({left:e,top:t,translate:(s,l)=>te(e+s,t+l)}),ke=te,He=e=>{const t=e.getBoundingClientRect();return ke(t.left,t.top)},Et=(e,t)=>e!==void 0?e:t!==void 0?t:0,Pn=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,l=t.documentElement;if(n===e.dom)return ke(n.offsetLeft,n.offsetTop);const f=Et(s==null?void 0:s.pageYOffset,l.scrollTop),g=Et(s==null?void 0:s.pageXOffset,l.scrollLeft),_=Et(l.clientTop,n.clientTop),A=Et(l.clientLeft,n.clientLeft);return oo(e).translate(g-A,f-_)},oo=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?ke(s.offsetLeft,s.offsetTop):vi(e)?He(t):ke(0,0)},Yn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return ke(n,s)},yn=(e,t,n)=>{const l=(n!==void 0?n.dom:document).defaultView;l&&l.scrollTo(e,t)},Go=(e,t)=>{Pa().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Ts=e=>{const t=e===void 0?window:e;return Pa().browser.isFirefox()?J.none():J.from(t.visualViewport)},ss=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),rc=e=>{const t=e===void 0?window:e,n=t.document,s=Yn(Re.fromDom(n));return Ts(t).fold(()=>{const l=t.document.documentElement,f=l.clientWidth,g=l.clientHeight;return ss(s.left,s.top,f,g)},l=>ss(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},nm=(e,t)=>xt(Va(e),t),om=(e,t)=>{let n=[];return me(Va(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(om(s,t))}),n},Ys=(e,t)=>mg(t,e),Aw=(e,t,n)=>Mi(e,t,n).isSome(),Kp=(e,t)=>bh(e,t).isSome(),G0=(e,t)=>Ca(e,t).isSome();class Ua{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,l){if(t){if(!l&&t[n])return t[n];if(t!==this.rootNode){let f=t[s];if(f)return f;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[s],f)return f}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let f=s.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return s}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const fs="\uFEFF",ua=" ",vu=e=>e===fs,xh=e=>e.replace(/\uFEFF/g,""),dx=/^[ \t\r\n]*$/,Ml=e=>dx.test(e),el=e=>{for(const t of e)if(!vu(t))return!1;return!0},qp=e=>" \f	\v".indexOf(e)!==-1,Kd=e=>e===`
`||e==="\r",sk=(e,t)=>t<e.length&&t>=0?Kd(e[t]):!1,Gp=(e,t=4,n=!0,s=!0)=>{const l=Gt(" ",t),f=e.replace(/\t/g,l);return It(f,(_,A)=>qp(A)||A===ua?_.pcIsSpace||_.str===""&&n||_.str.length===f.length-1&&s||sk(f,_.str.length+1)?{pcIsSpace:!1,str:_.str+ua}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:Kd(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},sd=e=>t=>!!t&&t.nodeType===e,qd=e=>!!e&&!Object.getPrototypeOf(e),bn=sd(1),Lc=e=>bn(e)&&hi(Re.fromDom(e)),Yp=e=>bn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Gd=e=>{const t=e.toLowerCase();return n=>Ee(n)&&n.nodeName.toLowerCase()===t},Wa=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return le(t,s)}return!1}},sc=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(bn(s)){const l=s.ownerDocument.defaultView;if(l)for(let f=0;f<n.length;f++){const g=l.getComputedStyle(s,null);if((g?g.getPropertyValue(e):null)===n[f])return!0}}return!1}},bg=e=>t=>bn(t)&&t.hasAttribute(e),Yd=e=>bn(e)&&e.hasAttribute("data-mce-bogus"),Y0=e=>bn(e)&&e.getAttribute("data-mce-bogus")==="all",Fc=e=>bn(e)&&e.tagName==="TABLE",yh=e=>t=>!!(Lc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),wh=Wa(["textarea","input"]),Mt=sd(3),fx=sd(4),Xd=sd(7),fo=sd(8),wn=sd(9),Jd=sd(11),Xr=Gd("br"),ac=Gd("img"),ic=yh("true"),Qn=yh("false"),_h=Wa(["td","th"]),Tw=Wa(["td","th","caption"]),pt=Wa(["video","audio","object","embed"]),mx=Gd("li"),Ch=Gd("details"),Sh=Gd("summary"),vg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},rm=(e,t,n)=>{const s=Re.fromDom(t),l=Re.fromDom(e),f=n.getWhitespaceElements();return Aw(l,_=>Gn(f,Mo(_)),yt(Po,s))},Ow=e=>bn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Qd=(e,t)=>bn(e)&&Gn(t.getNonEmptyElements(),e.nodeName),Hr=bg("data-mce-bookmark"),xu=e=>Wd(Re.fromDom(e)).exists(t=>!rs(t)),X0=(e,t,n)=>Ml(e.data)&&!rm(e,t,n),zc=(e,t,n,s)=>Mt(e)&&!X0(e,t,n)&&(!s.includeZwsp||!el(e.data)),sm=(e,t,n,s)=>Ne(s.isContent)&&s.isContent(t)||Qd(t,e)||Hr(t)||Ow(t)||zc(t,n,e,s)||Qn(t)||ic(t)&&xu(t),Pl=(e,t,n)=>{const s={...vg,...n};if(s.checkRootAsContent&&sm(e,t,t,s))return!1;let l=t.firstChild,f=0;if(!l)return!0;const g=new Ua(l,t);do{if(s.skipBogus&&bn(l)){const _=l.getAttribute("data-mce-bogus");if(_){l=g.next(_==="all");continue}}if(fo(l)){l=g.next(!0);continue}if(Xr(l)){f++,l=g.next();continue}if(sm(e,l,t,s))return!1;l=g.next()}while(l);return f<=1},Os=(e,t,n)=>Pl(e,t.dom,{checkRootAsContent:!0,...n}),Xp=(e,t,n)=>sm(e,t,t,{includeZwsp:vg.includeZwsp,...n}),da=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},J0=e=>{const t=da(J.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{n(),t.set(J.some(_))}}},lc=e=>{const t=da(J.none()),n=()=>t.get().each(_=>clearInterval(_));return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{n(),t.set(J.some(setInterval(_,e)))}}},fa=()=>{const e=J0(Jt);return{...e,on:n=>e.get().each(n)}},Lt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},am=e=>Lt(e)!=="html",ma=e=>am(e.nodeName),Dw=e=>Lt(e.nodeName),Rw=["svg","math"],ak=()=>{const e=fa(),t=()=>e.get().map(Dw).getOr("html");return{track:l=>(ma(l)?e.set(l):e.get().exists(f=>!f.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},ad="data-mce-block",xg=e=>xt(Ht(e),t=>!/[A-Z]/.test(t)),Jp=e=>Ie(xg(e),t=>{const n=CSS.escape(t);return`${n}:`+Ie(Rw,s=>`not(${s} ${n})`).join(":")}).join(","),Q0=(e,t)=>Ee(t.querySelector(e))?(t.setAttribute(ad,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ad),!1),gx=(e,t)=>{const n=Jp(e.getTransparentElements()),s=Jp(e.getBlockElements());return xt(t.querySelectorAll(n),l=>Q0(s,l))},as=(e,t,n)=>{var s;const l=n?"lastChild":"firstChild";for(let f=t[l];f;f=f[l])if(Pl(e,f,{checkRootAsContent:!0})){(s=f.parentNode)===null||s===void 0||s.removeChild(f);return}},Qp=(e,t,n)=>{const s=document.createRange(),l=t.parentNode;if(l){s.setStartBefore(t),s.setEndBefore(n);const f=s.extractContents();as(e,f,!0),s.setStartAfter(n),s.setEndAfter(t);const g=s.extractContents();as(e,g,!1),Pl(e,f,{checkRootAsContent:!0})||l.insertBefore(f,t),Pl(e,n,{checkRootAsContent:!0})||l.insertBefore(n,t),Pl(e,g,{checkRootAsContent:!0})||l.insertBefore(g,t),l.removeChild(t)}},ms=(e,t,n)=>{const s=e.getBlockElements(),l=Re.fromDom(t),f=_=>Mo(_)in s,g=_=>Po(_,l);me(Pc(n),_=>{Mi(_,f,g).each(A=>{const F=nm(_,j=>f(j)&&!e.isValidChild(Mo(A),Mo(j)));if(F.length>0){const j=Wd(A);me(F,q=>{Mi(q,f,g).each(X=>{Qp(e,X.dom,q.dom)})}),j.each(q=>gx(e,q.dom))}})})},Li=(e,t,n)=>{me([...n,...ef(e,t)?[t]:[]],s=>me(Ys(Re.fromDom(s),s.nodeName.toLowerCase()),l=>{Nw(e,l.dom)&&wi(l)}))},Ds=(e,t)=>{const n=gx(e,t);ms(e,t,n),Li(e,t,n)},Ll=(e,t)=>{if(kh(e,t)){const n=Jp(e.getBlockElements());Q0(n,t)}},id=(e,t,n)=>{const s=f=>Po(f,Re.fromDom(t)),l=Xf(Re.fromDom(n),s);gi(l,l.length-2).filter(ks).fold(()=>Ds(e,t),f=>Ds(e,f.dom))},ka=e=>e.hasAttribute(ad),eb=(e,t)=>Gn(e.getTransparentElements(),t),kh=(e,t)=>bn(t)&&eb(e,t.nodeName),ef=(e,t)=>kh(e,t)&&ka(t),Nw=(e,t)=>kh(e,t)&&!ka(t),Eh=(e,t)=>t.type===1&&eb(e,t.name)&&Be(t.attr(ad)),hx=Pa().browser,e1=e=>vn(e,ks),tb=e=>hx.isFirefox()&&Mo(e)==="table"?e1(Va(e)).filter(t=>Mo(t)==="caption").bind(t=>e1(Jf(t)).map(n=>{const s=n.dom.offsetTop,l=t.dom.offsetTop,f=t.dom.offsetHeight;return s<=l?-f:0})).getOr(0):0,t1=(e,t)=>e.children&&le(e.children,t),px=(e,t,n)=>{let s=0,l=0;const f=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Es(Re.fromDom(e),"position")==="static"){const _=t.getBoundingClientRect();return s=_.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=_.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:s,y:l}}let g=t;for(;g&&g!==n&&g.nodeType&&!t1(g,n);){const _=g;s+=_.offsetLeft||0,l+=_.offsetTop||0,g=_.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!t1(g,n);)s-=g.scrollLeft||0,l-=g.scrollTop||0,g=g.parentNode;l+=tb(Re.fromDom(t))}return{x:s,y:l}},im=(e,t={})=>{let n=0;const s={},l=Re.fromDom(e),f=Il(l),g=ze=>{t.referrerPolicy=ze},_=ze=>{t.contentCssCors=ze},A=ze=>{As(Qf(l),ze)},F=ze=>{const je=Qf(l);kt(je,"#"+ze).each(lr)},j=ze=>ir(s,ze).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),q=ze=>new Promise((je,Ue)=>{let rt;const Rt=Zt._addCacheSuffix(ze),Wt=j(Rt);s[Rt]=Wt,Wt.count++;const cn=(gn,On)=>{me(gn,bo),Wt.status=On,Wt.passed=[],Wt.failed=[],rt&&(rt.onload=null,rt.onerror=null,rt=null)},bt=()=>cn(Wt.passed,2),ct=()=>cn(Wt.failed,3);if(je&&Wt.passed.push(je),Ue&&Wt.failed.push(Ue),Wt.status===1)return;if(Wt.status===2){bt();return}if(Wt.status===3){ct();return}Wt.status=1;const Ot=Re.fromTag("link",f.dom);pi(Ot,{rel:"stylesheet",type:"text/css",id:Wt.id}),t.contentCssCors&&ea(Ot,"crossOrigin","anonymous"),t.referrerPolicy&&ea(Ot,"referrerpolicy",t.referrerPolicy),rt=Ot.dom,rt.onload=bt,rt.onerror=ct,A(Ot),ea(Ot,"href",Rt)}),X=(ze,je)=>{const Ue=j(ze);s[ze]=Ue,Ue.count++;const rt=Re.fromTag("style",f.dom);pi(rt,{rel:"stylesheet",type:"text/css",id:Ue.id}),rt.dom.innerHTML=je,A(rt)},ue=ze=>Promise.allSettled(Ie(ze,Ue=>q(Ue).then(ot(Ue)))).then(Ue=>{const rt=$t(Ue,Rt=>Rt.status==="fulfilled");return rt.fail.length>0?Promise.reject(Ie(rt.fail,Rt=>Rt.reason)):Ie(rt.pass,Rt=>Rt.value)}),xe=ze=>{const je=Zt._addCacheSuffix(ze);ir(s,je).each(Ue=>{--Ue.count===0&&(delete s[je],F(Ue.id))})};return{load:q,loadRawCss:X,loadAll:ue,unload:xe,unloadRawCss:ze=>{ir(s,ze).each(je=>{--je.count===0&&(delete s[ze],F(je.id))})},unloadAll:ze=>{me(ze,je=>{xe(je)})},_setReferrerPolicy:g,_setContentCssCors:_}},n1=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const f=Ic(n).dom;return J.from(e.get(f)).getOrThunk(()=>{const g=im(f,s);return e.set(f,g),g})}}})(),o1=e=>e.nodeName.toLowerCase()==="span",bx=(e,t)=>Ee(e)&&(Xp(t,e)||t.isInline(e.nodeName.toLowerCase())),vx=(e,t,n)=>{const s=new Ua(e,t).prev(!1),l=new Ua(e,t).next(!1),f=Ye(s)||bx(s,n),g=Ye(l)||bx(l,n);return f&&g},nb=e=>o1(e)&&e.getAttribute("data-mce-type")==="bookmark",xx=(e,t,n)=>Mt(e)&&e.data.length>0&&vx(e,t,n),yx=e=>bn(e)?e.childNodes.length>0:!1,ob=e=>Jd(e)||wn(e),Ah=(e,t,n,s)=>{var l;const f=s||t;if(bn(t)&&nb(t))return t;const g=t.childNodes;for(let _=g.length-1;_>=0;_--)Ah(e,g[_],n,f);if(bn(t)){const _=t.childNodes;_.length===1&&nb(_[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(_[0],t))}return!ob(t)&&!Xp(n,t)&&!yx(t)&&!xx(t,f,n)&&e.remove(t),t},wx=Zt.makeMap,rb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lm=/[<>&\"\']/g,Th=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,_x={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ld={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},wg=e=>{const t=Re.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},cd=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let l=0;l<s.length;l+=2){const f=String.fromCharCode(parseInt(s[l],t));if(!ld[f]){const g="&"+s[l+1]+";";n[f]=g,n[g]=f}}return n}else return},tf=cd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ab=(e,t)=>e.replace(t?rb:sb,n=>ld[n]||n),lk=e=>(""+e).replace(lm,t=>ld[t]||t),ib=(e,t)=>e.replace(t?rb:sb,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":ld[n]||"&#"+n.charCodeAt(0)+";"),cc=(e,t,n)=>{const s=n||tf;return e.replace(t?rb:sb,l=>ld[l]||s[l]||l)},_g={encodeRaw:ab,encodeAllRaw:lk,encodeNumeric:ib,encodeNamed:cc,getEncodeFunc:(e,t)=>{const n=cd(t)||tf,s=(g,_)=>g.replace(_?rb:sb,A=>ld[A]!==void 0?ld[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(g,_)=>cc(g,_,n),f=wx(e.replace(/\+/g,","));return f.named&&f.numeric?s:f.named?t?l:cc:f.numeric?ib:ab},decode:e=>e.replace(Th,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):_x[n]||String.fromCharCode(n)):yg[t]||tf[t]||wg(t))},Za=(e,t)=>(e=Zt.trim(e),e?e.split(t||" "):[]),Cg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Sg=e=>ie(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",r1=e=>{const t=n=>oe(n)?Ie(n,t):Sg(n)?new RegExp(n.source,n.flags):ie(n)?wl(n,t):n;return t(e)},Lo=e=>{const t=/^(~)?(.+)$/;return ro(Za(e,","),n=>{const s=t.exec(n);if(s){const f=s[1]==="~"?"span":"div",g=s[2];return[{cloneName:f,name:g}]}else return[]})},tl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),yu=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},ai=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=yu(e),l=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(n),flowContent:l(s)})},Er={html4:dl(()=>ai("html4")),html5:dl(()=>ai("html5")),"html5-strict":dl(()=>ai("html5-strict"))},lb=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:l}=Er[e]();return t==="blocks"?J.some(n):t==="phrasing"?J.some(s):t==="flow"?J.some(l):J.none()},Bw=e=>{const t=tl(e),{phrasingContent:n,flowContent:s}=yu(e),l={},f=(A,F,j)=>{l[A]={attributes:Cs(F,ot({})),attributesOrder:F,children:Cs(j,ot({}))}},g=(A,F="",j="")=>{const q=Za(j),X=Za(A);let ue=X.length;const xe=[...t,...Za(F)];for(;ue--;)f(X[ue],xe.slice(),q)},_=(A,F)=>{const j=Za(A),q=Za(F);let X=j.length;for(;X--;){const ue=l[j[X]];for(let xe=0,de=q.length;xe<de;xe++)ue.attributes[q[xe]]={},ue.attributesOrder.push(q[xe])}};return e!=="html5-strict"&&(me(Za("acronym applet basefont big font strike tt"),j=>{g(j,"",n)}),me(Za("center dir isindex noframes"),j=>{g(j,"",s)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),g("dd div","",s),g("address dt caption","",e==="html4"?n:s),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",s),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",s),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:s),g("q","cite",n),g("ins del","cite datetime",s),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",s),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),g("param","name value"),g("map","name",[s,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",s),g("th","colspan rowspan headers scope abbr",s),g("form","accept-charset action autocomplete enctype method name novalidate target",s),g("fieldset","disabled form name",[s,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[s,"li"].join(" ")),g("noscript","",s),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",s),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",s),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",s),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[s,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",s),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[s,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&me([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),me(Za("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},ck=e=>e==="-"?"remove":"add",Zr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},s1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ro(Za(e,","),n=>{const s=t.exec(n);if(s){const l=s[1],f=l?ck(l):"replace",g=s[2],_=ro(Za(s[3],"|"),A=>Zr(A).toArray());return[{operation:f,name:g,validChildren:_}]}else return[]})},Sx=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:l,attributesOrder:f}=t;return me(Za(e,"|"),g=>{const _=n.exec(g);if(_){const A={},F=_[1],j=_[2].replace(/[\\:]:/g,":"),q=_[3],X=_[4];if(F==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),F==="-"){delete l[j],f.splice(Zt.inArray(f,j),1);return}if(q&&(q==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:X}),A.defaultValue=X):q==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:X}),A.forcedValue=X):q==="<"&&(A.validValues=Zt.makeMap(X,"?"))),s.test(j)){const ue=A;t.attributePatterns=t.attributePatterns||[],ue.pattern=Cg(j),t.attributePatterns.push(ue)}else l[j]||f.push(j),l[j]=A}})},cm=(e,t)=>{Vo(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},uc=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ro(Za(t,","),s=>{const l=n.exec(s);if(l){const f=l[1],g=l[2],_=l[3],A=l[4],F=l[5],j={attributes:{},attributesOrder:[]};if(e.each(q=>cm(q,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),F&&Sx(F,j),_&&(j.outputName=g),g==="@")if(e.isNone())e=J.some(j);else return[];return[_?{name:g,element:j,aliasName:_}:{name:g,element:j}]}else return[]})},Oh={},dn=Zt.makeMap,Hc=Zt.each,kx=Zt.extend,a1=Zt.explode,Dh=(e,t={})=>{const n=dn(e," ",dn(e.toUpperCase()," "));return kx(n,t)},i1=e=>Dh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),kg=(e,t)=>{if(e){const n={};return Be(e)&&(e={"*":e}),Hc(e,(s,l)=>{n[l]=n[l.toUpperCase()]=t==="map"?dn(s,/[, ]/):a1(s,/[, ]/)}),n}else return},dc=(e={})=>{var t;const n={},s={};let l=[];const f={},g={},_=(In,Zo,Bs)=>{const Qs=e[In];if(Qs)return dn(Qs,/[, ]/,dn(Qs.toUpperCase(),/[, ]/));{let Da=Oh[In];return Da||(Da=Dh(Zo,Bs),Oh[In]=Da),Da}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",F=Bw(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=kg(e.valid_styles),q=kg(e.invalid_styles,"map"),X=kg(e.valid_classes,"map"),ue=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),xe=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),de=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ce=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ze="td th iframe video audio object script code",je=_("non_empty_elements",ze+" pre svg textarea summary",de),Ue=_("move_caret_before_on_enter_elements",ze+" table",de),rt="h1 h2 h3 h4 h5 h6",Rt=_("text_block_elements",rt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Wt=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Rt),cn=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),bt=_("transparent_elements","a ins del canvas map"),ct=_("wrap_block_elements","pre "+rt);Hc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),In=>{g[In]=new RegExp("</"+In+"[^>]*>","gi")});const Ot=In=>{const Zo=J.from(n["@"]),Bs=/[*?+]/;me(uc(Zo,In??""),({name:Qs,element:Da,aliasName:Wi})=>{if(Wi&&(n[Wi]=Da),Bs.test(Qs)){const ba=Da;ba.pattern=Cg(Qs),l.push(ba)}else n[Qs]=Da})},gn=In=>{l=[],me(Ht(n),Zo=>{delete n[Zo]}),Ot(In)},On=(In,Zo)=>{var Bs,Qs;delete Oh.text_block_elements,delete Oh.block_elements;const Da=Zo.extends?!Fu(Zo.extends):!1,Wi=Zo.extends;if(s[In]=Wi?s[Wi]:{},f[In]=Wi??In,je[In.toUpperCase()]={},je[In]={},Da||(Wt[In.toUpperCase()]={},Wt[In]={}),Wi&&!n[In]&&n[Wi]){const ba=r1(n[Wi]);delete ba.removeEmptyAttrs,delete ba.removeEmpty,n[In]=ba}else n[In]={attributesOrder:[],attributes:{}};if(oe(Zo.attributes)){const ba=Kl=>{va.attributesOrder.push(Kl),va.attributes[Kl]={}},va=(Bs=n[In])!==null&&Bs!==void 0?Bs:{};delete va.attributesDefault,delete va.attributesForced,delete va.attributePatterns,delete va.attributesRequired,va.attributesOrder=[],va.attributes={},me(Zo.attributes,Kl=>{const jm=tl(A);Zr(Kl).each(({preset:Km,name:qm})=>{Km?qm==="global"&&me(jm,ba):ba(qm)})}),n[In]=va}if(Ve(Zo.padEmpty)){const ba=(Qs=n[In])!==null&&Qs!==void 0?Qs:{};ba.paddEmpty=Zo.padEmpty,n[In]=ba}if(oe(Zo.children)){const ba={},va=jm=>{ba[jm]={}},Kl=jm=>{lb(A,jm).each(Km=>{me(Km,va)})};me(Zo.children,jm=>{Zr(jm).each(({preset:Km,name:qm})=>{Km?Kl(qm):va(qm)})}),s[In]=ba}Wi&&Vo(s,(ba,va)=>{ba[Wi]&&(s[va]=ba=kx({},s[va]),ba[In]=ba[Wi])})},vo=In=>{me(Lo(In??""),({name:Zo,cloneName:Bs})=>{On(Zo,{extends:Bs})})},Ao=In=>{ie(In)?Vo(In,(Zo,Bs)=>On(Bs,Zo)):Be(In)&&vo(In)},cr=In=>{me(s1(In??""),({operation:Zo,name:Bs,validChildren:Qs})=>{const Da=Zo==="replace"?{"#comment":{}}:s[Bs],Wi=va=>{Zo==="remove"?delete Da[va]:Da[va]={}},ba=va=>{lb(A,va).each(Kl=>{me(Kl,Wi)})};me(Qs,({preset:va,name:Kl})=>{va?ba(Kl):Wi(Kl)}),s[Bs]=Da})},wr=In=>{const Zo=n[In];if(Zo)return Zo;let Bs=l.length;for(;Bs--;){const Qs=l[Bs];if(Qs.pattern.test(In))return Qs}},js=()=>{e.valid_elements?(gn(e.valid_elements),Hc(F,(In,Zo)=>{s[Zo]=In.children})):(Hc(F,(In,Zo)=>{n[Zo]={attributes:In.attributes,attributesOrder:In.attributesOrder},s[Zo]=In.children}),Hc(Za("strong/b em/i"),In=>{const Zo=Za(In,"/");n[Zo[1]].outputName=Zo[0]}),Hc(cn,(In,Zo)=>{n[Zo]&&(e.padd_empty_block_inline_children&&(n[Zo].paddInEmptyBlock=!0),n[Zo].removeEmpty=!0)}),Hc(Za("ol ul blockquote a table tbody"),In=>{n[In]&&(n[In].removeEmpty=!0)}),Hc(Za("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),In=>{n[In]&&(n[In].paddEmpty=!0)}),Hc(Za("span"),In=>{n[In].removeEmptyAttrs=!0})),delete n.svg,Ao(e.custom_elements),cr(e.valid_children),Ot(e.extended_valid_elements),cr("+ol[ul|ol],+ul[ul|ol]"),Hc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(In,Zo)=>{n[Zo]&&(n[Zo].parentsRequired=Za(In))}),e.invalid_elements&&Hc(a1(e.invalid_elements),In=>{n[In]&&delete n[In]}),wr("span")||Ot("span[!data-mce-type|*]")},cl=ot(j),Or=ot(q),Yt=ot(X),kn=ot(Ce),Yo=ot(Wt),tn=ot(Rt),zn=ot(cn),So=ot(Object.seal(de)),an=ot(xe),xo=ot(je),Do=ot(Ue),ui=ot(ue),xr=ot(bt),Ja=ot(ct),Tf=ot(Object.seal(g)),ch=(In,Zo)=>{const Bs=s[In.toLowerCase()];return!!(Bs&&Bs[Zo.toLowerCase()])},jl=(In,Zo)=>{const Bs=wr(In);if(Bs)if(Zo){if(Bs.attributes[Zo])return!0;const Qs=Bs.attributePatterns;if(Qs){let Da=Qs.length;for(;Da--;)if(Qs[Da].pattern.test(Zo))return!0}}else return!0;return!1},Fu=In=>Gn(Yo(),In),Of=In=>!Ur(In,"#")&&jl(In)&&!Fu(In),zu=In=>Gn(Ja(),In)||Of(In),Df=ot(f);return js(),{type:A,children:s,elements:n,getValidStyles:cl,getValidClasses:Yt,getBlockElements:Yo,getInvalidStyles:Or,getVoidElements:So,getTextBlockElements:tn,getTextInlineElements:zn,getBoolAttrs:kn,getElementRule:wr,getSelfClosingElements:an,getNonEmptyElements:xo,getMoveCaretBeforeOnEnterElements:Do,getWhitespaceElements:ui,getTransparentElements:xr,getSpecialElements:Tf,isValidChild:ch,isValid:jl,isBlock:Fu,isInline:Of,isWrapper:zu,getCustomElements:Df,addValidElements:Ot,setValidElements:gn,addCustomElements:Ao,addValidChildren:cr}},uk=e=>({value:l1(e)}),l1=e=>Ac(e,"#").toUpperCase(),Ex=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},c1=e=>{const t=Ex(e.red)+Ex(e.green)+Ex(e.blue);return uk(t)},Ax=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Tx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,u1=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),Ox=(e,t,n,s)=>{const l=parseInt(e,10),f=parseInt(t,10),g=parseInt(n,10),_=parseFloat(s);return u1(l,f,g,_)},Dx=e=>Ax.test(e)?"rgb":Tx.test(e)?"rgba":"other",Mw=e=>{const t=Ax.exec(e);if(t!==null)return J.some(Ox(t[1],t[2],t[3],"1"));const n=Tx.exec(e);return n!==null?J.some(Ox(n[1],n[2],n[3],n[4])):J.none()},dk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,cb=e=>Mw(e).map(c1).map(t=>"#"+t.value).getOr(e),Rx=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let g,_;const A=fs;t&&(g=t.getValidStyles(),_=t.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let q=0;q<F.length;q++)f[F[q]]=A+q,f[A+q]=F[q];const j={parse:q=>{const X={};let ue=!1;const xe=e.url_converter,de=e.url_converter_scope||j,Ce=(bt,ct,Ot)=>{const gn=X[bt+"-top"+ct];if(!gn)return;const On=X[bt+"-right"+ct];if(!On)return;const vo=X[bt+"-bottom"+ct];if(!vo)return;const Ao=X[bt+"-left"+ct];if(!Ao)return;const cr=[gn,On,vo,Ao];let wr=cr.length-1;for(;wr--&&cr[wr]===cr[wr+1];);wr>-1&&Ot||(X[bt+ct]=wr===-1?cr[0]:cr.join(" "),delete X[bt+"-top"+ct],delete X[bt+"-right"+ct],delete X[bt+"-bottom"+ct],delete X[bt+"-left"+ct])},ze=bt=>{const ct=X[bt];if(!ct)return;const Ot=ct.indexOf(",")>-1?[ct]:ct.split(" ");let gn=Ot.length;for(;gn--;)if(Ot[gn]!==Ot[0])return!1;return X[bt]=Ot[0],!0},je=(bt,ct,Ot,gn)=>{ze(ct)&&ze(Ot)&&ze(gn)&&(X[bt]=X[ct]+" "+X[Ot]+" "+X[gn],delete X[ct],delete X[Ot],delete X[gn])},Ue=bt=>(ue=!0,f[bt]),rt=(bt,ct)=>(ue&&(bt=bt.replace(/\uFEFF[0-9]/g,Ot=>f[Ot])),ct||(bt=bt.replace(/\\([\'\";:])/g,"$1")),bt),Rt=bt=>String.fromCharCode(parseInt(bt.slice(1),16)),Wt=bt=>bt.replace(/\\[0-9a-f]+/gi,Rt),cn=(bt,ct,Ot,gn,On,vo)=>{if(On=On||vo,On)return On=rt(On),"'"+On.replace(/\'/g,"\\'")+"'";if(ct=rt(ct||Ot||gn||""),!e.allow_script_urls){const Ao=ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ao)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ao))return""}return xe&&(ct=xe.call(de,ct,"style")),"url('"+ct.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,Ue).replace(/\"[^\"]+\"|\'[^\']+\'/g,ct=>ct.replace(/[;:]/g,Ue));let bt;for(;bt=s.exec(q);){s.lastIndex=bt.index+bt[0].length;let ct=bt[1].replace(l,"").toLowerCase(),Ot=bt[2].replace(l,"");if(ct&&Ot){if(ct=Wt(ct),Ot=Wt(Ot),ct.indexOf(A)!==-1||ct.indexOf('"')!==-1||!e.allow_script_urls&&(ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ot)))continue;ct==="font-weight"&&Ot==="700"?Ot="bold":(ct==="color"||ct==="background-color")&&(Ot=Ot.toLowerCase()),Dx(Ot)==="rgb"&&Mw(Ot).each(gn=>{Ot=cb(dk(gn)).toLowerCase()}),Ot=Ot.replace(n,cn),X[ct]=ue?rt(Ot,!0):Ot}}Ce("border","",!0),Ce("border","-width"),Ce("border","-color"),Ce("border","-style"),Ce("padding",""),Ce("margin",""),je("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(q,X)=>{let ue="";const xe=(Ce,ze)=>{const je=ze[Ce];if(je)for(let Ue=0,rt=je.length;Ue<rt;Ue++){const Rt=je[Ue],Wt=q[Rt];Wt&&(ue+=(ue.length>0?" ":"")+Rt+": "+Wt+";")}},de=(Ce,ze)=>{if(!_||!ze)return!0;let je=_["*"];return je&&je[Ce]?!1:(je=_[ze],!(je&&je[Ce]))};return X&&g?(xe("*",g),xe(X,g)):Vo(q,(Ce,ze)=>{Ce&&de(ze,X)&&(ue+=(ue.length>0?" ":"")+ze+": "+Ce+";")}),ue}};return j},Eg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},fk=e=>e instanceof Event||Ne(e.initEvent),mk=e=>e.isDefaultPrevented===Mn||e.isDefaultPrevented===En,nf=e=>mt(e.preventDefault)||fk(e),um=(e,t)=>{const n=t??{};for(const s in e)Gn(Eg,s)||(n[s]=e[s]);return Ee(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ee(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Ee(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},d1=(e,t,n,s)=>{var l;const f=um(t,s);return f.type=e,mt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:n),nf(t)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Mn,Ne(t.preventDefault)&&t.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Mn,Ne(t.stopPropagation)&&t.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Mn,f.stopPropagation()},mk(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Mn:En,f.isPropagationStopped=f.cancelBubble===!0?Mn:En,f.isImmediatePropagationStopped=En)),f},Pw="mce-data-",Nx=/^(?:mouse|contextmenu)|click/,ub=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},ud=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},f1=e=>Ee(e)&&Nx.test(e.type),Xs=(e,t)=>{const n=d1(e.type,e,document,t);if(f1(e)&&Ye(e.pageX)&&!Ye(e.clientX)){const s=n.target.ownerDocument||document,l=s.documentElement,f=s.body,g=n;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return n},ys=(e,t,n)=>{const s=e.document,l={type:"ready"};if(n.domLoaded){t(l);return}const f=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,g=()=>{ud(e,"DOMContentLoaded",g),ud(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(l)),e=null};f()?g():ub(e,"DOMContentLoaded",g),n.domLoaded||ub(e,"load",g)};class of{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Pw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,l){const f=this;let g;const _=window,A=X=>{f.executeHandlers(Xs(X||_.event),F)};if(!t||Mt(t)||fo(t))return s;let F;t[f.expando]?F=t[f.expando]:(F=f.count++,t[f.expando]=F,f.events[F]={}),l=l||t;const j=n.split(" ");let q=j.length;for(;q--;){let X=j[q],ue=A,xe=!1,de=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&t.readyState==="complete"){s.call(l,Xs({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(xe=!0,de=X==="focusin"?"focus":"blur",ue=Ce=>{const ze=Xs(Ce||_.event);ze.type=ze.type==="focus"?"focusin":"focusout",f.executeHandlers(ze,F)}),g=f.events[F][X],g?X==="ready"&&f.domLoaded?s(Xs({type:X})):g.push({func:s,scope:l}):(f.events[F][X]=g=[{func:s,scope:l}],g.fakeName=de,g.capture=xe,g.nativeHandler=ue,X==="ready"?ys(t,ue,f):ub(t,de||X,ue,xe))}return t=g=null,s}unbind(t,n,s){if(!t||Mt(t)||fo(t))return this;const l=t[this.expando];if(l){let f=this.events[l];if(n){const g=n.split(" ");let _=g.length;for(;_--;){const A=g[_],F=f[A];if(F){if(s){let j=F.length;for(;j--;)if(F[j].func===s){const q=F.nativeHandler,X=F.fakeName,ue=F.capture,xe=F.slice(0,j).concat(F.slice(j+1));xe.nativeHandler=q,xe.fakeName=X,xe.capture=ue,f[A]=xe}}(!s||F.length===0)&&(delete f[A],ud(t,F.fakeName||A,F.nativeHandler,F.capture))}}}else Vo(f,(g,_)=>{ud(t,g.fakeName||_,g.nativeHandler,g.capture)}),f={};for(const g in f)if(Gn(f,g))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Mt(t)||fo(t))return this;const l=Xs({type:n,target:t},s);do{const f=t[this.expando];f&&this.executeHandlers(l,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Mt(t)||fo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],l=s&&s[t.type];if(l)for(let f=0,g=l.length;f<g;f++){const _=l[f];if(_&&_.func.call(_.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}of.Event=new of;const Ix=Zt.each,m1=Zt.grep,Ea="data-mce-style",Fi=Zt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ag=(e,t,n)=>{mt(n)||n===""?go(e,t):ea(e,t,n)},rf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),dm=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;t&&Mt(l)&&(f===s||!l.data.length)||(n++,s=f)}return n},g1=(e,t)=>{const n=ri(t,"style"),s=e.serialize(e.parse(n),Mo(t));Ag(t,Ea,s)},Lw=(e,t)=>R(e)?Gn(Fi,t)?e+"":e+"px":e,Bx=(e,t,n)=>{const s=rf(t);mt(n)||n===""?Mc(e,s):Pi(e,s,Lw(n,s))},fm=(e,t,n)=>{const s=t.keep_values,l={set:(g,_,A)=>{const F=Re.fromDom(g);Ne(t.url_converter)&&Ee(_)&&(_=t.url_converter.call(t.url_converter_scope||n(),String(_),A,g));const j="data-mce-"+A;Ag(F,j,_),Ag(F,A,_)},get:(g,_)=>{const A=Re.fromDom(g);return ri(A,"data-mce-"+_)||ri(A,_)}},f={style:{set:(g,_)=>{const A=Re.fromDom(g);s&&Ag(A,Ea,_),go(A,"style"),Be(_)&&Io(A,e.parse(_))},get:g=>{const _=Re.fromDom(g),A=ri(_,Ea)||ri(_,"style");return e.serialize(e.parse(A),Mo(_))}}};return s&&(f.href=f.src=l),f},Ar=(e,t={})=>{const n={},s=window,l={};let f=0;const g=!0,_=!0,A=n1.forElement(Re.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),F=[],j=t.schema?t.schema:dc({}),q=Rx({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),X=t.ownEvents?new of:of.Event,ue=j.getBlockElements(),xe=it=>Be(it)?Gn(ue,it):bn(it)&&(Gn(ue,it.nodeName)||ef(j,it)),de=it=>it&&e&&Be(it)?e.getElementById(it):it,Ce=it=>{const ut=de(it);return Ee(ut)?Re.fromDom(ut):null},ze=(it,ut,qt="")=>{let Ut;const Wn=Ce(it);if(Ee(Wn)&&ks(Wn)){const zo=ET[ut];zo&&zo.get?Ut=zo.get(Wn.dom,ut):Ut=ri(Wn,ut)}return Ee(Ut)?Ut:qt},je=it=>{const ut=de(it);return mt(ut)?[]:ut.attributes},Ue=(it,ut,qt)=>{kn(it,Ut=>{if(bn(Ut)){const Wn=Re.fromDom(Ut),zo=qt===""?null:qt,Ms=ri(Wn,ut),Gm=ET[ut];Gm&&Gm.set?Gm.set(Wn.dom,zo,ut):Ag(Wn,ut,zo),Ms!==zo&&t.onSetAttrib&&t.onSetAttrib({attrElm:Wn.dom,attrName:ut,attrValue:zo})}})},rt=(it,ut)=>it.cloneNode(ut),Rt=()=>t.root_element||e.body,Wt=it=>{const ut=rc(it);return{x:ut.x,y:ut.y,w:ut.width,h:ut.height}},cn=(it,ut)=>px(e.body,de(it),ut),bt=(it,ut,qt)=>{kn(it,Ut=>{const Wn=Re.fromDom(Ut);Bx(Wn,ut,qt),t.update_styles&&g1(q,Wn)})},ct=(it,ut)=>{kn(it,qt=>{const Ut=Re.fromDom(qt);Vo(ut,(Wn,zo)=>{Bx(Ut,zo,Wn)}),t.update_styles&&g1(q,Ut)})},Ot=(it,ut,qt)=>{const Ut=de(it);if(!(mt(Ut)||!Lc(Ut)&&!Yp(Ut)))return qt?Es(Re.fromDom(Ut),rf(ut)):(ut=ut.replace(/-(\D)/g,(Wn,zo)=>zo.toUpperCase()),ut==="float"&&(ut="cssFloat"),Ut.style?Ut.style[ut]:void 0)},gn=it=>{const ut=de(it);if(!ut)return{w:0,h:0};let qt=Ot(ut,"width"),Ut=Ot(ut,"height");return(!qt||qt.indexOf("px")===-1)&&(qt="0"),(!Ut||Ut.indexOf("px")===-1)&&(Ut="0"),{w:parseInt(qt,10)||ut.offsetWidth||ut.clientWidth,h:parseInt(Ut,10)||ut.offsetHeight||ut.clientHeight}},On=it=>{const ut=de(it),qt=cn(ut),Ut=gn(ut);return{x:qt.x,y:qt.y,w:Ut.w,h:Ut.h}},vo=(it,ut)=>{if(!it)return!1;const qt=oe(it)?it:[it];return ve(qt,Ut=>mr(Re.fromDom(Ut),ut))},Ao=(it,ut,qt,Ut)=>{const Wn=[];let zo=de(it);Ut=Ut===void 0;const Ms=qt||(Rt().nodeName!=="BODY"?Rt().parentNode:null);if(Be(ut))if(ut==="*")ut=bn;else{const Gm=ut;ut=eB=>vo(eB,Gm)}for(;zo&&!(zo===Ms||mt(zo.nodeType)||wn(zo)||Jd(zo));){if(!ut||ut(zo))if(Ut)Wn.push(zo);else return[zo];zo=zo.parentNode}return Ut?Wn:null},cr=(it,ut,qt)=>{const Ut=Ao(it,ut,qt,!1);return Ut&&Ut.length>0?Ut[0]:null},wr=(it,ut,qt)=>{let Ut=ut;if(it){Be(ut)&&(Ut=Wn=>vo(Wn,ut));for(let Wn=it[qt];Wn;Wn=Wn[qt])if(Ne(Ut)&&Ut(Wn))return Wn}return null},js=(it,ut)=>wr(it,ut,"nextSibling"),cl=(it,ut)=>wr(it,ut,"previousSibling"),Or=it=>Ne(it.querySelectorAll),Yt=(it,ut)=>{var qt,Ut;const Wn=(Ut=(qt=de(ut))!==null&&qt!==void 0?qt:t.root_element)!==null&&Ut!==void 0?Ut:e;return Or(Wn)?so(Wn.querySelectorAll(it)):[]},kn=function(it,ut,qt){const Ut=qt??this;if(oe(it)){const Wn=[];return Ix(it,(zo,Ms)=>{const Gm=de(zo);Gm&&Wn.push(ut.call(Ut,Gm,Ms))}),Wn}else{const Wn=de(it);return Wn?ut.call(Ut,Wn):!1}},Yo=(it,ut)=>{kn(it,qt=>{Vo(ut,(Ut,Wn)=>{Ue(qt,Wn,Ut)})})},tn=(it,ut)=>{kn(it,qt=>{const Ut=Re.fromDom(qt);tm(Ut,ut)})},zn=(it,ut,qt,Ut,Wn)=>kn(it,zo=>{const Ms=Be(ut)?e.createElement(ut):ut;return Ee(qt)&&Yo(Ms,qt),Ut&&(!Be(Ut)&&Ut.nodeType?Ms.appendChild(Ut):Be(Ut)&&tn(Ms,Ut)),Wn?Ms:zo.appendChild(Ms)}),So=(it,ut,qt)=>zn(e.createElement(it),it,ut,qt,!0),an=_g.decode,xo=_g.encodeAllRaw,Do=(it,ut,qt="")=>{let Ut="<"+it;for(const Wn in ut)_l(ut,Wn)&&(Ut+=" "+Wn+'="'+xo(ut[Wn])+'"');return Pt(qt)&&Gn(j.getVoidElements(),it)?Ut+" />":Ut+">"+qt+"</"+it+">"},ui=it=>{const ut=e.createElement("div"),qt=e.createDocumentFragment();qt.appendChild(ut),it&&(ut.innerHTML=it);let Ut;for(;Ut=ut.firstChild;)qt.appendChild(Ut);return qt.removeChild(ut),qt},xr=(it,ut)=>kn(it,qt=>{const Ut=Re.fromDom(qt);return ut&&me(Va(Ut),Wn=>{Wr(Wn)&&Wn.dom.length===0?lr(Wn):ds(Ut,Wn)}),lr(Ut),Ut.dom}),Ja=it=>kn(it,ut=>{const qt=ut.attributes;for(let Ut=qt.length-1;Ut>=0;Ut--)ut.removeAttributeNode(qt.item(Ut))}),Tf=it=>q.parse(it),ch=(it,ut)=>q.serialize(it,ut),jl=it=>{if(wp!==Ar.DOM&&e===document){if(n[it])return;n[it]=!0}let ut=e.getElementById("mceDefaultStyles");if(!ut){ut=e.createElement("style"),ut.id="mceDefaultStyles",ut.type="text/css";const qt=e.head;qt.firstChild?qt.insertBefore(ut,qt.firstChild):qt.appendChild(ut)}ut.styleSheet?ut.styleSheet.cssText+=it:ut.appendChild(e.createTextNode(it))},Fu=it=>{it||(it=""),me(it.split(","),ut=>{l[ut]=!0,A.load(ut).catch(Jt)})},Of=(it,ut,qt)=>{kn(it,Ut=>{if(bn(Ut)){const Wn=Re.fromDom(Ut),zo=ut.split(" ");me(zo,Ms=>{Ee(qt)?(qt?td:bi)(Wn,Ms):ph(Wn,Ms)})}})},zu=(it,ut)=>{Of(it,ut,!0)},Df=(it,ut)=>{Of(it,ut,!1)},In=(it,ut)=>{const qt=Ce(it),Ut=ut.split(" ");return Ee(qt)&&po(Ut,Wn=>nd(qt,Wn))},Zo=it=>{kn(it,ut=>Mc(Re.fromDom(ut),"display"))},Bs=it=>{kn(it,ut=>Pi(Re.fromDom(ut),"display","none"))},Qs=it=>{const ut=Ce(it);return Ee(ut)&&Ld(xs(ut,"display"),"none")},Da=it=>(it||"mce_")+f++,Wi=it=>{const ut=Ce(it);return Ee(ut)?bn(ut.dom)?ut.dom.outerHTML:hg(ut):""},ba=(it,ut)=>{kn(it,qt=>{bn(qt)&&(qt.outerHTML=ut)})},va=(it,ut)=>{const qt=de(ut);return kn(it,Ut=>{const Wn=qt==null?void 0:qt.parentNode,zo=qt==null?void 0:qt.nextSibling;return Wn&&(zo?Wn.insertBefore(Ut,zo):Wn.appendChild(Ut)),Ut})},Kl=(it,ut,qt)=>kn(ut,Ut=>{var Wn;const zo=oe(ut)?it.cloneNode(!0):it;return qt&&Ix(m1(Ut.childNodes),Ms=>{zo.appendChild(Ms)}),(Wn=Ut.parentNode)===null||Wn===void 0||Wn.replaceChild(zo,Ut),Ut}),jm=(it,ut)=>{if(it.nodeName!==ut.toUpperCase()){const qt=So(ut);return Ix(je(it),Ut=>{Ue(qt,Ut.nodeName,ze(it,Ut.nodeName))}),Kl(qt,it,!0),qt}else return it},Km=(it,ut)=>{let qt=it;for(;qt;){let Ut=ut;for(;Ut&&qt!==Ut;)Ut=Ut.parentNode;if(qt===Ut)break;qt=qt.parentNode}return!qt&&it.ownerDocument?it.ownerDocument.documentElement:qt},qm=(it,ut,qt)=>Me(ut)?Pl(j,it,{...qt,isContent:Wn=>{const zo=Wn.nodeName.toLowerCase();return!!ut[zo]}}):Pl(j,it,qt),Rf=()=>e.createRange(),Iv=(it,ut,qt)=>{let Ut=Rf(),Wn,zo;if(it&&ut&&it.parentNode&&ut.parentNode){const Ms=it.parentNode;return Ut.setStart(Ms,dm(it)),Ut.setEnd(ut.parentNode,dm(ut)),Wn=Ut.extractContents(),Ut=Rf(),Ut.setStart(ut.parentNode,dm(ut)+1),Ut.setEnd(Ms,dm(it)+1),zo=Ut.extractContents(),Ms.insertBefore(Ah(wp,Wn,j),it),qt?Ms.insertBefore(qt,it):Ms.insertBefore(ut,it),Ms.insertBefore(Ah(wp,zo,j),it),xr(it),qt||ut}else return},OS=(it,ut,qt,Ut)=>{if(oe(it)){let Wn=it.length;const zo=[];for(;Wn--;)zo[Wn]=OS(it[Wn],ut,qt,Ut);return zo}else return t.collect&&(it===e||it===s)&&F.push([it,ut,qt,Ut]),X.bind(it,ut,qt,Ut||wp)},DS=(it,ut,qt)=>{if(oe(it)){let Ut=it.length;const Wn=[];for(;Ut--;)Wn[Ut]=DS(it[Ut],ut,qt);return Wn}else{if(F.length>0&&(it===e||it===s)){let Ut=F.length;for(;Ut--;){const[Wn,zo,Ms]=F[Ut];it===Wn&&(!ut||ut===zo)&&(!qt||qt===Ms)&&X.unbind(Wn,zo,Ms)}}return X.unbind(it,ut,qt)}},D9=(it,ut,qt)=>X.dispatch(it,ut,qt),A0=(it,ut,qt)=>X.dispatch(it,ut,qt),Q8=it=>{if(it&&Lc(it)){const ut=it.getAttribute("data-mce-contenteditable");return ut&&ut!=="inherit"?ut:it.contentEditable!=="inherit"?it.contentEditable:null}else return null},wp={doc:e,settings:t,win:s,files:l,stdMode:g,boxModel:_,styleSheetLoader:A,boundEvents:F,styles:q,schema:j,events:X,isBlock:xe,root:null,clone:rt,getRoot:Rt,getViewPort:Wt,getRect:On,getSize:gn,getParent:cr,getParents:Ao,get:de,getNext:js,getPrev:cl,select:Yt,is:vo,add:zn,create:So,createHTML:Do,createFragment:ui,remove:xr,setStyle:bt,getStyle:Ot,setStyles:ct,removeAllAttribs:Ja,setAttrib:Ue,setAttribs:Yo,getAttrib:ze,getPos:cn,parseStyle:Tf,serializeStyle:ch,addStyle:jl,loadCSS:Fu,addClass:zu,removeClass:Df,hasClass:In,toggleClass:Of,show:Zo,hide:Bs,isHidden:Qs,uniqueId:Da,setHTML:tn,getOuterHTML:Wi,setOuterHTML:ba,decode:an,encode:xo,insertAfter:va,replace:Kl,rename:jm,findCommonAncestor:Km,run:kn,getAttribs:je,isEmpty:qm,createRng:Rf,nodeIndex:dm,split:Iv,bind:OS,unbind:DS,fire:A0,dispatch:D9,getContentEditable:Q8,getContentEditableParent:it=>{const ut=Rt();let qt=null;for(let Ut=it;Ut&&Ut!==ut&&(qt=Q8(Ut),qt===null);Ut=Ut.parentNode);return qt},isEditable:it=>{if(Ee(it)){const ut=bn(it)?it:it.parentElement;return Ee(ut)&&Lc(ut)&&rs(Re.fromDom(ut))}else return!1},destroy:()=>{if(F.length>0){let it=F.length;for(;it--;){const[ut,qt,Ut]=F[it];X.unbind(ut,qt,Ut)}}Vo(l,(it,ut)=>{A.unload(ut),delete l[ut]})},isChildOf:(it,ut)=>it===ut||ut.contains(it),dumpRng:it=>"startContainer: "+it.startContainer.nodeName+", startOffset: "+it.startOffset+", endContainer: "+it.endContainer.nodeName+", endOffset: "+it.endOffset},ET=fm(q,t,ot(wp));return wp};Ar.DOM=Ar(document),Ar.nodeIndex=dm;const h1=Ar.DOM,jr=0,wu=1,$c=2,Tg=3;class nl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const l=h1;let f;const g=()=>{l.remove(F),f&&(f.onerror=f.onload=f=null)},_=()=>{g(),n()},A=()=>{g(),s("Failed to load script: "+t)},F=l.uniqueId();f=document.createElement("script"),f.id=F,f.type="text/javascript",f.src=Zt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=_,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(t){return this.states[t]===$c}markDone(t){this.states[t]=$c}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=jr),new Promise((l,f)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:l,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(A,F)=>{ir(n.scriptLoadedCallbacks,F).each(j=>{me(j,q=>q[A](F))}),delete n.scriptLoadedCallbacks[F]},l=A=>{const F=xt(A,j=>j.status==="rejected");return F.length>0?Promise.reject(ro(F,({reason:j})=>oe(j)?j:[j])):Promise.resolve()},f=A=>Promise.allSettled(Ie(A,F=>n.states[F]===$c?(s("resolve",F),Promise.resolve()):n.states[F]===Tg?(s("reject",F),Promise.reject(F)):(n.states[F]=wu,n.loadScript(F).then(()=>{n.states[F]=$c,s("resolve",F);const j=n.queue;return j.length>0?(n.queue=[],f(j).then(l)):Promise.resolve()},()=>(n.states[F]=Tg,s("reject",F),Promise.reject(F)))))),g=A=>(n.loading=!0,f(A).then(F=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return J.from(j).each(bo),l(F)})),_=su(t);return n.loading?new Promise((A,F)=>{n.queueLoadedCallbacks.push(()=>{g(_).then(A,F)})}):g(_)}}nl.ScriptLoader=new nl;const ja=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},mm=e=>ie(e)&&Gn(e,"raw"),db=e=>oe(e)&&e.length>1,Og={},fb=da("en"),Dg=()=>ir(Og,fb.get()),fc={getData:()=>wl(Og,e=>({...e})),setCode:e=>{e&&fb.set(e)},getCode:()=>fb.get(),add:(e,t)=>{let n=Og[e];n||(Og[e]=n={});const s=Ie(Ht(t),l=>l.toLowerCase());Vo(t,(l,f)=>{const g=f.toLowerCase();g!==f&&ja(s,g)?(Gn(t,g)||(n[g]=l),n[f]=l):n[g]=l})},translate:e=>{const t=Dg().getOr({}),n=g=>Ne(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,l=g=>{const _=n(g);return Gn(t,_)?n(t[_]):ir(t,_.toLowerCase()).map(n).getOr(_)},f=g=>g.replace(/{context:\w+}$/,"");if(s(e))return"";if(mm(e))return n(e.raw);if(db(e)){const g=e.slice(1),_=l(e[0]).replace(/\{([0-9]+)\}/g,(A,F)=>Gn(g,F)?n(g[F]):A);return f(_)}return f(l(e))},isRtl:()=>Dg().bind(e=>ir(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Gn(Og,e)},zi=()=>{const e=[],t={},n={},s=[],l=(de,Ce)=>{const ze=xt(s,je=>je.name===de&&je.state===Ce);me(ze,je=>je.resolve())},f=de=>Gn(t,de),g=de=>Gn(n,de),_=de=>{if(n[de])return n[de].instance},A=(de,Ce)=>{const ze=fc.getCode(),je=","+(Ce||"")+",";!ze||Ce&&je.indexOf(","+ze+",")===-1||nl.ScriptLoader.add(t[de]+"/langs/"+ze+".js")},F=(de,Ce)=>{zi.languageLoad!==!1&&(f(de)?A(de,Ce):xe(de,"loaded").then(()=>A(de,Ce)))},j=(de,Ce)=>(e.push(Ce),n[de]={instance:Ce},l(de,"added"),Ce),q=de=>{delete t[de],delete n[de]},X=(de,Ce)=>Be(Ce)?Be(de)?{prefix:"",resource:Ce,suffix:""}:{prefix:de.prefix,resource:Ce,suffix:de.suffix}:Ce,ue=(de,Ce)=>{if(t[de])return Promise.resolve();let ze=Be(Ce)?Ce:Ce.prefix+Ce.resource+Ce.suffix;ze.indexOf("/")!==0&&ze.indexOf("://")===-1&&(ze=zi.baseURL+"/"+ze),t[de]=ze.substring(0,ze.lastIndexOf("/"));const je=()=>(l(de,"loaded"),Promise.resolve());return n[de]?je():nl.ScriptLoader.add(ze).then(je)},xe=(de,Ce="added")=>Ce==="added"&&g(de)||Ce==="loaded"&&f(de)?Promise.resolve():new Promise(ze=>{s.push({name:de,state:Ce,resolve:ze})});return{items:e,urls:t,lookup:n,get:_,requireLangPack:F,add:j,remove:q,createUrl:X,load:ue,waitFor:xe}};zi.languageLoad=!0,zi.baseURL="",zi.PluginManager=zi(),zi.ThemeManager=zi(),zi.ModelManager=zi();const Rg=(e,t)=>{let n=null;return{cancel:()=>{Je(n)||(clearTimeout(n),n=null)},throttle:(...f)=>{Je(n)&&(n=setTimeout(()=>{n=null,e.apply(null,f)},t))}}},Rh=(e,t)=>{let n=null;const s=()=>{Je(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...f)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,f)},t)}}},$w=(e,t,n)=>Bc(e,t,n).isSome(),gs=ot("mce-annotation"),hs=ot("data-mce-annotation"),Fs=ot("data-mce-annotation-uid"),gr=ot("data-mce-annotation-active"),is=ot("data-mce-annotation-classes"),Rs=ot("data-mce-annotation-attrs"),p1=e=>t=>Po(t,e),b1=(e,t)=>{const n=e.selection.getRng(),s=Re.fromDom(n.startContainer),l=Re.fromDom(e.getBody()),f=t.fold(()=>"."+gs(),A=>`[${hs()}="${A}"]`),g=mu(s,n.startOffset).getOr(s);return Sa(g,f,p1(l)).bind(A=>Oc(A,`${Fs()}`).bind(F=>Oc(A,`${hs()}`).map(j=>{const q=Fx(e,F);return{uid:F,name:j,elements:q}})))},Lx=e=>ks(e)&&nd(e,gs()),mb=(e,t)=>Qu(e,"data-mce-bogus")||$w(e,'[data-mce-bogus="all"]',p1(t)),Fx=(e,t)=>{const n=Re.fromDom(e.getBody()),s=Ys(n,`[${Fs()}="${t}"]`);return xt(s,l=>!mb(l,n))},Ng=(e,t)=>{const n=Re.fromDom(e.getBody()),s=Ys(n,`[${hs()}="${t}"]`),l={};return me(s,f=>{if(!mb(f,n)){const g=ri(f,Fs()),_=ir(l,g).getOr([]);l[g]=_.concat([f])}}),l},v1=(e,t)=>{const n=da({}),s=()=>({listeners:[],previous:fa()}),l=(q,X)=>{f(q,ue=>(X(ue),ue))},f=(q,X)=>{const ue=n.get(),xe=ir(ue,q).getOrThunk(s),de=X(xe);ue[q]=de,n.set(ue)},g=(q,X,ue)=>{l(q,xe=>{me(xe.listeners,de=>de(!0,q,{uid:X,nodes:Ie(ue,Ce=>Ce.dom)}))})},_=q=>{l(q,X=>{me(X.listeners,ue=>ue(!1,q))})},A=(q,X)=>{me(Fx(e,q),ue=>{X?ea(ue,gr(),"true"):go(ue,gr())})},F=Rh(()=>{const q=ar(t.getNames());me(q,X=>{f(X,ue=>{const xe=ue.previous.get();return b1(e,J.some(X)).fold(()=>{xe.each(de=>{_(X),ue.previous.clear(),A(de,!1)})},({uid:de,name:Ce,elements:ze})=>{Ld(xe,de)||(xe.each(je=>A(je,!1)),g(Ce,de,ze),ue.previous.set(de),A(de,!0))}),{previous:ue.previous,listeners:ue.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(q,X)=>{f(q,ue=>({previous:ue.previous,listeners:ue.listeners.concat([X])}))}}},x1=(e,t)=>{const n=hs(),s=f=>J.from(f.attr(n)).bind(t.lookup),l=f=>{var g,_;f.attr(Fs(),null),f.attr(hs(),null),f.attr(gr(),null);const A=J.from(f.attr(Rs())).map(X=>X.split(",")).getOr([]),F=J.from(f.attr(is())).map(X=>X.split(",")).getOr([]);me(A,X=>f.attr(X,null));const j=(_=(g=f.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&_!==void 0?_:[],q=Oo(j,[gs()].concat(F));f.attr("class",q.length>0?q.join(" "):null),f.attr(is(),null),f.attr(Rs(),null)};e.serializer.addTempAttr(gr()),e.serializer.addAttributeFilter(n,f=>{for(const g of f)s(g).each(_=>{_.persistent===!1&&(g.name==="span"?g.unwrap():l(g))})})},zx=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>ir(e,l).map(f=>f.settings),getNames:()=>Ht(e)}},gb=(e,t,n)=>Math.min(Math.max(e,t),n),ol=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Hx=0;const _i=e=>{const n=new Date().getTime(),s=Math.floor(ol()*1e9);return Hx++,e+"_"+s+Hx+String(n)},hb=(e,t)=>{me(t,n=>{td(e,n)})},Ig=(e,t)=>{me(t,n=>{bi(e,n)})},Vc=(e,t)=>Re.fromDom(e.dom.cloneNode(t)),Ns=e=>Vc(e,!1),hm=e=>Vc(e,!0),$x=(e,t)=>{const n=Re.fromTag(t),s=Qi(e);return pi(n,s),n},Vx=(e,t)=>{const n=$x(e,t);Xe(e,n);const s=Va(e);return Ls(n,s),lr(e),n},pb=(e,t,n=En)=>{const s=new Ua(e,t),l=f=>{let g;do g=s[f]();while(g&&!Mt(g)&&!n(g));return J.from(g).filter(Mt)};return{current:()=>J.from(s.current()).filter(Mt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},dd=(e,t)=>{const n=t||(g=>e.isBlock(g)||Xr(g)||Qn(g)),s=(g,_,A,F)=>{if(Mt(g)){const j=F(g,_,g.data);if(j!==-1)return J.some({container:g,offset:j})}return A().bind(j=>s(j.container,j.offset,A,F))};return{backwards:(g,_,A,F)=>{const j=pb(g,F??e.getRoot(),n);return s(g,_,()=>j.prev().map(q=>({container:q,offset:q.length})),A).getOrNull()},forwards:(g,_,A,F)=>{const j=pb(g,F??e.getRoot(),n);return s(g,_,()=>j.next().map(q=>({container:q,offset:0})),A).getOrNull()}}},bb=((e,t)=>{const n=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return s(f).getOr("")},s=f=>e(f)?J.from(f.dom.nodeValue):J.none();return{get:n,getOption:s,set:(f,g)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=g}}})(Wr,"text"),pm=e=>bb.get(e),Vw=e=>bb.getOption(e),vb=(e,t)=>bb.set(e,t),xb=["td","th"],y1=["thead","tbody","tfoot"],Nh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],w1=["li","dd","dt"],Ci=["ul","ol","dl"],Ux=["pre","script","textarea","style"],fd=e=>{let t;return n=>(t=t||Cs(e,Mn),Gn(t,Mo(n)))},yb=e=>Mo(e)==="table",_u=e=>ks(e)&&Mo(e)==="br",wb=fd(Nh),_b=fd(Ci),bm=fd(w1),Bg=fd(y1),mc=fd(xb),Cb=fd(Ux),hk=e=>{const t=[];let n=e.dom;for(;n;)t.push(Re.fromDom(n)),n=n.lastChild;return t},Fl=e=>{const t=Ys(e,"br"),n=xt(hk(e).slice(-1),_u);t.length===n.length&&me(n,lr)},md=()=>{const e=Re.fromTag("br");return ea(e,"data-mce-bogus","1"),e},gc=e=>{Mr(e),As(e,md())},Wx=(e,t)=>{gu(e).each(n=>{ta(n).each(s=>{t.isBlock(Mo(e))&&_u(n)&&t.isBlock(Mo(s))&&lr(n)})})},oa=fs,hc=vu,rl=xh,pk=e=>e.insertContent(oa,{preserve_zwsp:!0}),sf=bn,gd=Mt,Ih=e=>(gd(e)&&(e=e.parentNode),sf(e)&&e.hasAttribute("data-mce-caret")),vm=e=>gd(e)&&hc(e.data),kl=e=>Ih(e)||vm(e),_1=e=>e.firstChild!==e.lastChild||!Xr(e.firstChild),C1=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(oa),f=e.parentNode;if(t){const g=e.previousSibling;if(gd(g)){if(kl(g))return g;if(hd(g))return g.splitText(g.data.length-1)}f==null||f.insertBefore(l,e)}else{const g=e.nextSibling;if(gd(g)){if(kl(g))return g;if(kb(g))return g.splitText(1),g}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Sb=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset())===oa||e.isAtStart()&&vm(t.previousSibling):!1},S1=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset()-1)===oa||e.isAtEnd()&&vm(t.nextSibling):!1},Uw=(e,t,n)=>{var s;const f=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);f.setAttribute("data-mce-caret",n?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(md().dom);const g=t.parentNode;return n?g==null||g.insertBefore(f,t):t.nextSibling?g==null||g.insertBefore(f,t.nextSibling):g==null||g.appendChild(f),f},kb=e=>gd(e)&&e.data[0]===oa,hd=e=>gd(e)&&e.data[e.data.length-1]===oa,Eb=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Yd(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Mg=e=>e&&e.hasAttribute("data-mce-caret")?(Eb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Pg=e=>Ih(e.startContainer),af=Math.round,lf=e=>e?{left:af(e.left),top:af(e.top),bottom:af(e.bottom),right:af(e.right),width:af(e.width),height:af(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Ab=(e,t)=>(e=lf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),cf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,uf=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,df=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:uf(t.top-e.bottom,e,t)},Lg=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:uf(t.bottom-e.top,e,t),k1=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Bh=e=>It(e,(t,n)=>t.fold(()=>J.some(n),s=>{const l=Math.min(n.left,s.left),f=Math.min(n.top,s.top),g=Math.max(n.right,s.right),_=Math.max(n.bottom,s.bottom);return J.some({top:f,right:g,bottom:_,left:l,width:g-l,height:_-f})}),J.none()),E1=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-l)*(n-l))},Zx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Mh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ra=(e,t)=>{if(bn(e)&&e.hasChildNodes()){const n=e.childNodes,s=gb(t,0,n.length-1);return n[s]}else return e},jx=(e,t)=>{if(!(t<0&&bn(e)&&e.hasChildNodes()))return ra(e,t)},Ww=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Kx=e=>Be(e)&&e.charCodeAt(0)>=768&&Ww.test(e),qx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},ff=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},A1=ic,Tb=Qn,Gx=Xr,bk=Mt,mf=Wa(["script","style","textarea"]),Ob=Wa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Zw=Wa(["table"]),jw=kl,Uc=e=>jw(e)?!1:bk(e)?!mf(e.parentNode):Ob(e)||Gx(e)||Zw(e)||T1(e),Yx=e=>bn(e)&&e.getAttribute("unselectable")==="true",T1=e=>!Yx(e)&&Tb(e),Kw=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(T1(n))return!1;if(A1(n))return!0}return!0},Fg=e=>T1(e)?!It(so(e.getElementsByTagName("*")),(t,n)=>t||A1(n),!1):!1,Ph=e=>Ob(e)||Fg(e),Db=(e,t)=>Uc(e)&&Kw(e,t),qw=bn,Wc=Uc,xm=sc("display","block table"),Rb=sc("float","left right"),Nb=ff(qw,Wc,vt(Rb)),O1=vt(sc("white-space","pre pre-line pre-wrap")),Ib=Mt,qa=Xr,D1=Ar.nodeIndex,ym=jx,wm=e=>e?e.createRange():Ar.DOM.createRng(),Bb=e=>Be(e)&&/[\r\n\t ]/.test(e),R1=e=>!!e.setStart&&!!e.setEnd,zg=e=>{const t=e.startContainer,n=e.startOffset;if(Bb(e.toString())&&O1(t.parentNode)&&Mt(t)){const s=t.data;if(Bb(s[n-1])||Bb(s[n+1]))return!0}return!1},gf=e=>{const t=e.ownerDocument,n=wm(t),s=t.createTextNode(ua),l=e.parentNode;l.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const f=lf(n.getBoundingClientRect());return l.removeChild(s),f},Xx=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,l=e.endOffset;if(t===n&&Mt(n)&&s===0&&l===1){const f=e.cloneRange();return f.setEndAfter(n),Hi(f)}else return null},N1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Hi=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=lf(s[0]):n=lf(e.getBoundingClientRect()),!R1(e)&&qa(e)&&N1(n)?gf(e):N1(n)&&R1(e)&&(t=Xx(e))!==null&&t!==void 0?t:n},hf=(e,t)=>{const n=Ab(e,t);return n.width=1,n.right=n.left+1,n},Jx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&cf(g,t[t.length-1])||t.push(g))},s=(g,_)=>{const A=wm(g.ownerDocument);if(_<g.data.length){if(Kx(g.data[_]))return;if(Kx(g.data[_-1])&&(A.setStart(g,_),A.setEnd(g,_+1),!zg(A))){n(hf(Hi(A),!1));return}}_>0&&(A.setStart(g,_-1),A.setEnd(g,_),zg(A)||n(hf(Hi(A),!1))),_<g.data.length&&(A.setStart(g,_),A.setEnd(g,_+1),zg(A)||n(hf(Hi(A),!0)))},l=e.container(),f=e.offset();if(Ib(l))return s(l,f),t;if(qw(l))if(e.isAtEnd()){const g=ym(l,f);Ib(g)&&s(g,g.data.length),Nb(g)&&!qa(g)&&n(hf(Hi(g),!1))}else{const g=ym(l,f);if(Ib(g)&&s(g,0),Nb(g)&&e.isAtEnd())return n(hf(Hi(g),!1)),t;const _=ym(e.container(),e.offset()-1);Nb(_)&&!qa(_)&&(xm(_)||xm(g)||!Nb(g))&&n(hf(Hi(_),!1)),Nb(g)&&n(hf(Hi(g),!0))}return t},dt=(e,t,n)=>{const s=()=>(Ib(e),t===0),l=()=>Ib(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const j=wm(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},g=()=>(n||(n=Jx(dt(e,t))),n),_=()=>g().length>0,A=j=>j&&e===j.container()&&t===j.offset(),F=j=>ym(e,j?t-1:t);return{container:ot(e),offset:ot(t),toRange:f,getClientRects:g,isVisible:_,isAtStart:s,isAtEnd:l,isEqual:A,getNode:F}};dt.fromRangeStart=e=>dt(e.startContainer,e.startOffset),dt.fromRangeEnd=e=>dt(e.endContainer,e.endOffset),dt.after=e=>dt(e.parentNode,D1(e)+1),dt.before=e=>dt(e.parentNode,D1(e)),dt.isAbove=(e,t)=>Fa(ln(t.getClientRects()),mo(e.getClientRects()),df).getOr(!1),dt.isBelow=(e,t)=>Fa(mo(t.getClientRects()),ln(e.getClientRects()),Lg).getOr(!1),dt.isAtStart=e=>e?e.isAtStart():!1,dt.isAtEnd=e=>e?e.isAtEnd():!1,dt.isTextPosition=e=>e?Mt(e.container()):!1,dt.isElementPosition=e=>!dt.isTextPosition(e);const Lh=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},vk=(e,t,n)=>{t.insertNode(n),Lh(e,n.previousSibling),Lh(e,n.nextSibling)},Gw=(e,t,n)=>{const s=J.from(n.firstChild),l=J.from(n.lastChild);t.insertNode(n),s.each(f=>Lh(e,f.previousSibling)),l.each(f=>Lh(e,f.nextSibling))},I1=(e,t,n)=>{Jd(n)?Gw(e,t,n):vk(e,t,n)},Zc=Mt,B1=Yd,Mb=Ar.nodeIndex,Qx=e=>{const t=e.parentNode;return B1(t)?Qx(t):t},ey=e=>e?Gi(e.childNodes,(t,n)=>(B1(n)&&n.nodeName!=="BR"?t=t.concat(ey(n)):t.push(n),t),[]):[],xk=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Zc(n);)t+=n.data.length;return t},v=e=>t=>e===t,C=e=>{let t,n;t=ey(Qx(e)),n=Vr(t,v(e),e),t=t.slice(0,n+1);const s=Gi(t,(l,f,g)=>(Zc(f)&&Zc(t[g-1])&&l++,l),0);return t=Di(t,Wa([e.nodeName])),n=Vr(t,v(e),e),n-s},T=e=>(Zc(e)?"text()":e.nodeName.toLowerCase())+"["+C(e)+"]",B=(e,t,n)=>{const s=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)s.push(l);return s},$=(e,t)=>{let n=[],s=t.container(),l=t.offset(),f;if(Zc(s))f=xk(s,l);else{const _=s.childNodes;l>=_.length?(f="after",l=_.length-1):f="before",s=_[l]}n.push(T(s));let g=B(e,s);return g=Di(g,vt(Yd)),n=n.concat(Wf(g,_=>T(_))),n.reverse().join("/")+","+f},V=(e,t,n)=>{let s=ey(e);return s=Di(s,(l,f)=>!Zc(l)||!Zc(s[f-1])),s=Di(s,Wa([t])),s[n]},Q=(e,t)=>{let n=e,s=0;for(;Zc(n);){const l=n.data.length;if(t>=s&&t<=s+l){e=n,t=t-s;break}if(!Zc(n.nextSibling)){e=n,t=l;break}s+=l,n=n.nextSibling}return Zc(e)&&t>e.data.length&&(t=e.data.length),dt(e,t)},ne=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),l=n.length>1?n[1]:"before",f=Gi(s,(g,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),V(g,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!Zc(f)&&f.parentNode){let g;return l==="after"?g=Mb(f)+1:g=Mb(f),dt(f.parentNode,g)}return Q(f,parseInt(l,10))},he=Qn,Ae=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let l=t.previousSibling;l&&Mt(l);l=l.previousSibling)s+=e(l.data).length;return s},$e=(e,t,n,s,l)=>{const f=l?s.startContainer:s.endContainer;let g=l?s.startOffset:s.endOffset;const _=[],A=e.getRoot();if(Mt(f))_.push(n?Ae(t,f,g):g);else{let F=0;const j=f.childNodes;g>=j.length&&j.length&&(F=1,g=Math.max(0,j.length-1)),_.push(e.nodeIndex(j[g],n)+F)}for(let F=f;F&&F!==A;F=F.parentNode)_.push(e.nodeIndex(F,n));return _},Se=(e,t,n,s)=>{const l=t.dom,f=$e(l,e,n,s,!0),g=t.isForward(),_=Pg(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:g,..._};{const A=$e(l,e,n,s,!1);return{start:f,end:A,forward:g,..._}}},De=(e,t,n)=>{let s=0;return Zt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===n)return!1;s++;return}}),s},Pe=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(bn(n)&&n.nodeName==="TR"){const l=n.childNodes;n=l[Math.min(t?s:s-1,l.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Ge=e=>(Pe(e,!0),Pe(e,!1),e),Qe=(e,t)=>{if(bn(e)&&(e=ra(e,t),he(e)))return e;if(kl(e)){Mt(e)&&Ih(e)&&(e=e.parentNode);let n=e.previousSibling;if(he(n)||(n=e.nextSibling,he(n)))return n}},St=e=>Qe(e.startContainer,e.startOffset)||Qe(e.endContainer,e.endOffset),At=(e,t,n)=>{const s=n.getNode(),l=n.getRng();if(s.nodeName==="IMG"||he(s)){const g=s.nodeName;return{name:g,index:De(n.dom,g,s)}}const f=St(l);if(f){const g=f.tagName;return{name:g,index:De(n.dom,g,f)}}return Se(e,n,t,l)},Ct=e=>{const t=e.getRng();return{start:$(e.dom.getRoot(),dt.fromRangeStart(t)),end:$(e.dom.getRoot(),dt.fromRangeEnd(t)),forward:e.isForward()}},Dt=e=>({rng:e.getRng(),forward:e.isForward()}),Vt=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},Kt=(e,t)=>{const n=e.dom;let s=e.getRng();const l=n.uniqueId(),f=e.isCollapsed(),g=e.getNode(),_=g.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:De(n,_,g)};const F=Ge(s.cloneRange());if(!f){F.collapse(!1);const q=Vt(n,l+"_end",t);I1(n,F,q)}s=Ge(s),s.collapse(!0);const j=Vt(n,l+"_start",t);return I1(n,s,j),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},tt=(e,t,n=!1)=>t===2?At(rl,n,e):t===3?Ct(e):t?Dt(e):Kt(e,!1),fn=yt(At,Vn,!0),Hn=e=>{const t=f=>f(e),n=ot(e),s=()=>l,l={tag:!0,inner:e,fold:(f,g)=>g(e),isValue:Mn,isError:En,map:f=>$n.value(f(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:f=>{f(e)},toOptional:()=>J.some(e)};return l},io=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:En,isError:Mn,map:t,mapError:s=>$n.error(s(e)),bind:t,exists:En,forall:Mn,getOr:Vn,or:Vn,getOrThunk:bs,orThunk:bs,getOrDie:jt(String(e)),each:Jt,toOptional:J.none};return n},$n={value:Hn,error:io,fromOption:(e,t)=>e.fold(()=>io(t),Hn)},Bo={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return me(e,(s,l)=>{const f=Ht(s);if(f.length!==1)throw new Error("one and only one name per case");const g=f[0],_=s[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(_))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const F=A.length;if(F!==_.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+_.length+" ("+_+"), got "+F);return{fold:(...q)=>{if(q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+q.length);return q[l].apply(null,A)},match:q=>{const X=Ht(q);if(t.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+X.join(","));if(!po(t,xe=>le(X,xe)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+t.join(", "));return q[g].apply(null,A)},log:q=>{console.log(q,{constructors:t,constructor:g,params:A})}}}}),n}};Bo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const zs=e=>{const t=[],n=[];return me(e,s=>{s.fold(l=>{t.push(l)},l=>{n.push(l)})}),{errors:t,values:n}},ii=e=>e.type==="inline-command"||e.type==="inline-format",Aa=e=>e.type==="block-command"||e.type==="block-format",zl=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,_m=e=>{var t;const n=l=>$n.error({message:l,pattern:e}),s=(l,f,g)=>{if(e.format!==void 0){let _;if(oe(e.format)){if(!po(e.format,Be))return n(l+" pattern has non-string items in the `format` array");_=e.format}else if(Be(e.format))_=[e.format];else return n(l+" pattern has non-string `format` parameter");return $n.value(f(_))}else return e.cmd!==void 0?Be(e.cmd)?$n.value(g(e.cmd,e.value)):n(l+" pattern has non-string `cmd` parameter"):n(l+" pattern is missing both `format` and `cmd` parameters")};if(!ie(e))return n("Raw pattern is not an object");if(!Be(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Be(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let l=e.start,f=e.end;return f.length===0&&(f=l,l=""),s("Inline",g=>({type:"inline-format",start:l,end:f,format:g}),(g,_)=>({type:"inline-command",start:l,end:f,cmd:g,value:_}))}else{if(e.replacement!==void 0)return Be(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:l}),(f,g)=>({type:"block-command",start:e.start,cmd:f,value:g,trigger:l}))}}},li=e=>xt(e,Aa),Cu=e=>xt(e,ii),Fh=(e,t)=>({inlinePatterns:Cu(e),blockPatterns:li(e),dynamicPatternsLookup:t}),pf=(e,t)=>({...e,blockPatterns:xt(e.blockPatterns,n=>zl(n,t))}),zh=e=>{const t=zs(Ie(e,_m));return me(t.errors,n=>console.error(n.message,n.pattern)),t.values},M1=e=>t=>{const n=e(t);return zh(n)},bf=Pa().deviceType,Yw=bf.isTouch(),wM=Ar.DOM,_M=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return It(t,(n,s)=>{const l=s.split("="),f=l[0],g=l.length>1?l[1]:f;return n[Oe(f)]=Oe(g),n},{})},iO=e=>Le(e,RegExp),mn=e=>t=>t.options.get(e),ty=e=>Be(e)||ie(e),yk=(e,t="")=>n=>{const s=Be(n);if(s)if(n.indexOf("=")!==-1){const l=_M(n);return{value:ir(l,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},Xw=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:yk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:yk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Be(n)&&We(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=le(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Ve(n)?{valid:!0,value:n}:Be(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Be(n)||Nt(n,Be);return s?Be(n)?{value:Ie(n.split(","),Oe),valid:s}:oe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Pb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Be(n)||Nt(n,Be);return s?{value:oe(n)?n:Ie(n.split(","),Oe),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=Ve(n)||Be(n);return s?n===!1||bf.isiPhone()||bf.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!Yw}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Be(n)||Ne(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Be(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:ty}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:ty}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:ty}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:ty}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Be(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Nt(n,ie)||n===!1?{value:zh(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Ne(n)?{value:M1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Nt(n,iO)?{value:n,valid:!0}:iO(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:fc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:wM.getAttrib(e.getElement(),"placeholder")})})},sl=mn("iframe_attrs"),pd=mn("doctype"),jc=mn("document_base_url"),Jw=mn("body_id"),wk=mn("body_class"),lO=mn("content_security_policy"),_k=mn("br_in_pre"),$i=mn("forced_root_block"),ny=mn("forced_root_block_attrs"),Ck=mn("newline_behavior"),cO=mn("br_newline_selector"),uO=mn("no_newline_selector"),Sk=mn("keep_styles"),kk=mn("end_container_on_empty_block"),Tr=mn("automatic_uploads"),Hg=mn("images_reuse_filename"),dO=mn("images_replace_blob_uris"),Ek=mn("icons"),fO=mn("icons_url"),Ak=mn("images_upload_url"),mO=mn("images_upload_base_path"),Tk=mn("images_upload_credentials"),CM=mn("images_upload_handler"),gO=mn("content_css_cors"),oy=mn("referrer_policy"),Ok=mn("language"),SM=mn("language_url"),hO=mn("indent_use_margin"),Kc=mn("indentation"),bl=mn("content_css"),P1=mn("content_style"),pO=mn("font_css"),kM=mn("directionality"),Ho=mn("inline_boundaries_selector"),bO=mn("object_resizing"),vO=mn("resize_img_proportional"),Dk=mn("placeholder"),xO=mn("event_root"),EM=mn("service_message"),L1=mn("theme"),AM=mn("theme_url"),ry=mn("model"),Rk=mn("model_url"),F1=mn("inline_boundaries"),TM=mn("formats"),OM=mn("preview_styles"),DM=mn("format_empty_lines"),Kn=mn("format_noneditable_selector"),yO=mn("custom_ui_selector"),Pb=mn("inline"),Nk=mn("hidden_input"),wO=mn("submit_patch"),_O=mn("add_form_submit_trigger"),CO=mn("add_unload_trigger"),SO=mn("custom_undo_redo_levels"),RM=mn("disable_nodechange"),kO=mn("readonly"),er=mn("editable_root"),EO=mn("content_css_cors"),bd=mn("plugins"),Cm=mn("external_plugins"),Qw=mn("block_unsupported_drop"),pc=mn("visual"),e_=mn("visual_table_class"),z1=mn("visual_anchor_class"),sy=mn("iframe_aria_text"),H1=mn("setup"),NM=mn("init_instance_callback"),IM=mn("urlconverter_callback"),BM=mn("auto_focus"),MM=mn("browser_spellcheck"),Wo=mn("protect"),vf=mn("paste_block_drop"),Sm=mn("paste_data_images"),PM=mn("paste_preprocess"),ay=mn("paste_postprocess"),Ko=mn("newdocument_content"),AO=mn("paste_webkit_styles"),Ik=mn("paste_remove_styles_if_webkit"),LM=mn("paste_merge_formats"),Lb=mn("smart_paste"),Fb=mn("paste_as_text"),TO=mn("paste_tab_spaces"),FM=mn("allow_html_data_urls"),zM=mn("text_patterns"),iy=mn("text_patterns_lookup"),zb=mn("noneditable_class"),HM=mn("editable_class"),OO=mn("noneditable_regexp"),$M=mn("preserve_cdata"),DO=mn("highlight_on_focus"),RO=mn("xss_sanitization"),NO=mn("init_content_sync"),Bk=e=>e.options.isSet("text_patterns_lookup"),Mk=e=>Zt.explode(e.options.get("font_size_style_values")),Pk=e=>Zt.explode(e.options.get("font_size_classes")),IO=e=>e.options.get("encoding")==="xml",Lk=e=>Zt.explode(e.options.get("images_file_types")),BO=mn("table_tab_navigation"),t_=mn("details_initial_state"),MO=mn("details_serialized_state"),Fk=mn("sandbox_iframes"),n_=e=>e.options.get("sandbox_iframes_exclusions"),PO=mn("convert_unsafe_embeds"),LO=mn("license_key"),FO=mn("api_key"),VM=bn,zO=Mt,ly=e=>{const t=e.parentNode;t&&t.removeChild(e)},zk=e=>{const t=rl(e);return{count:e.length-t.length,text:t}},Hk=e=>{let t;for(;(t=e.data.lastIndexOf(oa))!==-1;)e.deleteData(t,1)},$k=(e,t)=>(Hh(e),t),UM=(e,t)=>{const n=zk(e.data.substr(0,t.offset())),s=zk(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Hk(e),dt(e,t.offset()-n.count)):t},WM=(e,t)=>{const n=t.container(),s=Ze(so(n.childNodes),e).map(l=>l<t.offset()?dt(n,t.offset()-1):t).getOr(t);return Hh(e),s},ZM=(e,t)=>zO(e)&&t.container()===e?UM(e,t):$k(e,t),jM=(e,t)=>t.container()===e.parentNode?WM(e,t):$k(e,t),KM=(e,t)=>dt.isTextPosition(t)?ZM(e,t):jM(e,t),Hh=e=>{VM(e)&&kl(e)&&(_1(e)?e.removeAttribute("data-mce-caret"):ly(e)),zO(e)&&(Hk(e),e.data.length===0&&ly(e))},HO=Qn,o_=pt,qM=_h,Vk="*[contentEditable=false],video,audio,embed,object",$O=(e,t,n)=>{const s=Ab(t.getBoundingClientRect(),n);let l,f;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;l=e.scrollLeft||_.scrollLeft,f=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();l=e.scrollLeft-_.left,f=e.scrollTop-_.top}s.left+=l,s.right+=l,s.top+=f,s.bottom+=f,s.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),s.left+=g,s.right+=g),s},VO=e=>{var t,n;const s=Ys(Re.fromDom(e),Vk);for(let l=0;l<s.length;l++){const f=s[l].dom;let g=f.previousSibling;if(hd(g)){const _=g.data;_.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(_.length-1,1)}g=f.nextSibling,kb(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},UO=(e,t,n,s)=>{const l=fa();let f,g;const _=$i(e),A=e.dom,F=(de,Ce)=>{let ze;if(j(),qM(Ce))return null;if(n(Ce)){const je=Uw(_,Ce,de),Ue=$O(t,Ce,de);A.setStyle(je,"top",Ue.top),A.setStyle(je,"caret-color","transparent"),g=je;const rt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(rt,{...Ue}),A.add(t,rt),l.set({caret:rt,element:Ce,before:de}),de&&A.addClass(rt,"mce-visual-caret-before"),q(),ze=Ce.ownerDocument.createRange(),ze.setStart(je,0),ze.setEnd(je,0)}else return g=C1(Ce,de),ze=Ce.ownerDocument.createRange(),cy(g.nextSibling)?(ze.setStart(g,0),ze.setEnd(g,0)):(ze.setStart(g,1),ze.setEnd(g,1)),ze;return ze},j=()=>{VO(t),g&&(Hh(g),g=null),l.on(de=>{A.remove(de.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},q=()=>{f=setInterval(()=>{l.on(de=>{s()?A.toggleClass(de.caret,"mce-visual-caret-hidden"):A.addClass(de.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(de=>{const Ce=$O(t,de.element,de.before);A.setStyles(de.caret,{...Ce})})},destroy:()=>clearInterval(f)}},Uk=()=>wo.browser.isFirefox(),cy=e=>HO(e)||o_(e),uy=e=>(cy(e)||Fc(e)&&Uk())&&Wd(Re.fromDom(e)).exists(rs),r_=ic,s_=Qn,WO=pt,Wk=sc("display","block table table-cell table-caption list-item"),Zk=kl,ZO=Ih,GM=bn,a_=Mt,jO=Uc,Hb=e=>e>0,$b=e=>e<0,i_=(e,t)=>{let n;for(;n=e(t);)if(!ZO(n))return n;return null},dy=(e,t,n,s,l)=>{const f=new Ua(e,s),g=s_(e)||ZO(e);let _;if($b(t)){if(g&&(_=i_(f.prev.bind(f),!0),n(_)))return _;for(;_=i_(f.prev.bind(f),l);)if(n(_))return _}if(Hb(t)){if(g&&(_=i_(f.next.bind(f),!0),n(_)))return _;for(;_=i_(f.next.bind(f),l);)if(n(_))return _}return null},YM=(e,t)=>{const n=l=>r_(l.dom),s=l=>l.dom===t;return Mi(Re.fromDom(e),n,s).map(l=>l.dom).getOr(t)},$h=(e,t)=>{for(;e&&e!==t;){if(Wk(e))return e;e=e.parentNode}return null},km=(e,t,n)=>$h(e.container(),n)===$h(t.container(),n),l_=(e,t)=>{if(!t)return J.none();const n=t.container(),s=t.offset();return GM(n)?J.from(n.childNodes[s+e]):J.none()},KO=(e,t)=>{var n;const l=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},qO=(e,t,n)=>$h(t,e)===$h(n,e),jk=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let l=n;for(;l&&l!==t;){let f=l[s];if(f&&Zk(f)&&(f=f[s]),s_(f)||WO(f)){if(qO(t,f,l))return f;break}if(jO(f))break;l=l.parentNode}return null},fy=yt(KO,!0),my=yt(KO,!1),Kk=(e,t,n)=>{let s;const l=yt(jk,!0,t),f=yt(jk,!1,t),g=n.startContainer,_=n.startOffset;if(Ih(g)){const A=a_(g)?g.parentNode:g,F=A.getAttribute("data-mce-caret");if(F==="before"&&(s=A.nextSibling,uy(s)))return fy(s);if(F==="after"&&(s=A.previousSibling,uy(s)))return my(s)}if(!n.collapsed)return n;if(Mt(g)){if(Zk(g)){if(e===1){if(s=f(g),s)return fy(s);if(s=l(g),s)return my(s)}if(e===-1){if(s=l(g),s)return my(s);if(s=f(g),s)return fy(s)}return n}if(hd(g)&&_>=g.data.length-1)return e===1&&(s=f(g),s)?fy(s):n;if(kb(g)&&_<=1)return e===-1&&(s=l(g),s)?my(s):n;if(_===g.data.length)return s=f(g),s?fy(s):n;if(_===0)return s=l(g),s?my(s):n}return n},GO=(e,t)=>l_(e?0:-1,t).filter(s_),gy=(e,t,n)=>{const s=Kk(e,t,n);return e===-1?dt.fromRangeStart(s):dt.fromRangeEnd(s)},c_=e=>J.from(e.getNode()).map(Re.fromDom),XM=e=>J.from(e.getNode(!0)).map(Re.fromDom),qk=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},u_=(e,t)=>{const n=km(e,t);return!n&&Xr(e.getNode())?!0:n};var Si;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Si||(Si={}));const JM=Qn,Em=Mt,YO=bn,Sn=Xr,Vb=Uc,Gk=Ph,d_=Db,Yk=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},XO=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,hy=(e,t)=>{if(Hb(e)){if(Vb(t.previousSibling)&&!Em(t.previousSibling))return dt.before(t);if(Em(t))return dt(t,0)}if($b(e)){if(Vb(t.nextSibling)&&!Em(t.nextSibling))return dt.after(t);if(Em(t))return dt(t,t.data.length)}return $b(e)?Sn(t)?dt.before(t):dt.after(t):dt.before(t)},JO=(e,t)=>{const n=t.nextSibling;return n&&Vb(n)?Em(n)?dt(n,0):dt.before(n):Xk(Si.Forwards,dt.after(t),e)},Xk=(e,t,n)=>{let s,l,f,g;if(!YO(n)||!t)return null;if(t.isEqual(dt.after(n))&&n.lastChild){if(g=dt.after(n.lastChild),$b(e)&&Vb(n.lastChild)&&YO(n.lastChild))return Sn(n.lastChild)?dt.before(n.lastChild):g}else g=t;const _=g.container();let A=g.offset();if(Em(_)){if($b(e)&&A>0)return dt(_,--A);if(Hb(e)&&A<_.length)return dt(_,++A);s=_}else{if($b(e)&&A>0&&(l=XO(_,A-1),Vb(l)))return!Gk(l)&&(f=dy(l,e,d_,l),f)?Em(f)?dt(f,f.data.length):dt.after(f):Em(l)?dt(l,l.data.length):dt.before(l);if(Hb(e)&&A<_.childNodes.length&&(l=XO(_,A),Vb(l)))return Sn(l)?JO(n,l):!Gk(l)&&(f=dy(l,e,d_,l),f)?Em(f)?dt(f,0):dt.before(f):Em(l)?dt(l,0):dt.after(l);s=l||g.getNode()}if(s&&(Hb(e)&&g.isAtEnd()||$b(e)&&g.isAtStart())&&(s=dy(s,e,Mn,n,!0),d_(s,n)))return hy(e,s);l=s&&dy(s,e,d_,n);const F=ti(xt(Yk(_,n),JM));return F&&(!l||!F.contains(l))?(Hb(e)?g=dt.after(F):g=dt.before(F),g):l?hy(e,l):null},Fn=e=>({next:t=>Xk(Si.Forwards,t,e),prev:t=>Xk(Si.Backwards,t,e)}),lo=(e,t,n)=>{const s=e?dt.before(n):dt.after(n);return qc(e,t,s)},QO=e=>Xr(e)?dt.before(e):dt.after(e),e5=e=>dt.isTextPosition(e)?e.offset()===0:Uc(e.getNode()),t5=e=>{if(dt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Uc(e.getNode(!0))},n5=(e,t)=>!dt.isTextPosition(e)&&!dt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zn=e=>!dt.isTextPosition(e)&&Xr(e.getNode()),py=(e,t,n)=>e?!n5(t,n)&&!Zn(t)&&t5(t)&&e5(n):!n5(n,t)&&e5(t)&&t5(n),qc=(e,t,n)=>{const s=Fn(t);return J.from(e?s.next(n):s.prev(n))},Ub=(e,t,n)=>qc(e,t,n).bind(s=>km(n,s,t)&&py(e,n,s)?qc(e,t,s):J.some(s)),o5=(e,t,n,s)=>Ub(e,t,n).bind(l=>s(l)?o5(e,t,l,s):J.some(l)),$1=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Mt(n)?J.some(dt(n,e?0:n.data.length)):n?Uc(n)?J.some(e?dt.before(n):QO(n)):lo(e,t,n):J.none()},El=yt(qc,!0),bc=yt(qc,!1),Un=yt($1,!0),Su=yt($1,!1),V1="_mce_caret",Gc=e=>bn(e)&&e.id===V1,Vh=(e,t)=>{let n=t;for(;n&&n!==e;){if(Gc(n))return n;n=n.parentNode}return null},r5=e=>Be(e.start),s5=e=>Gn(e,"rng"),a5=e=>Gn(e,"id"),Jk=e=>Gn(e,"name"),i5=e=>Zt.isArray(e.start),f_=e=>!Jk(e)&&Ve(e.forward)?e.forward:!0,l5=(e,t)=>(bn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),QM=(e,t)=>{const n=J.from(ne(e.getRoot(),t.start)),s=J.from(ne(e.getRoot(),t.end));return Fa(n,s,(l,f)=>{const g=e.createRng();return g.setStart(l.container(),l.offset()),g.setEnd(f.container(),f.offset()),{range:g,forward:f_(t)}})},e7=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(oa);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},Qk=e=>!e.hasChildNodes(),eE=(e,t)=>Su(e).fold(En,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),c5=(e,t,n)=>Qk(t)&&Vh(e,t)?(e7(t,n),!0):!1,u5=(e,t,n,s)=>{const l=n[t?"start":"end"],f=e.getRoot();if(l){let g=f,_=l[0];for(let A=l.length-1;g&&A>=1;A--){const F=g.childNodes;if(c5(f,g,s))return!0;if(l[A]>F.length-1)return c5(f,g,s)?!0:eE(g,s);g=F[l[A]]}Mt(g)&&(_=Math.min(l[0],g.data.length)),bn(g)&&(_=Math.min(l[0],g.childNodes.length)),t?s.setStart(g,_):s.setEnd(g,_)}return!0},tE=e=>Mt(e)&&e.data.length>0,d5=(e,t,n)=>{const s=e.get(n.id+"_"+t),l=s==null?void 0:s.parentNode,f=n.keep;if(s&&l){let g,_;if(t==="start"?f?s.hasChildNodes()?(g=s.firstChild,_=1):tE(s.nextSibling)?(g=s.nextSibling,_=0):tE(s.previousSibling)?(g=s.previousSibling,_=s.previousSibling.data.length):(g=l,_=e.nodeIndex(s)+1):(g=l,_=e.nodeIndex(s)):f?s.hasChildNodes()?(g=s.firstChild,_=1):tE(s.previousSibling)?(g=s.previousSibling,_=s.previousSibling.data.length):(g=l,_=e.nodeIndex(s)):(g=l,_=e.nodeIndex(s)),!f){const A=s.previousSibling,F=s.nextSibling;Zt.each(Zt.grep(s.childNodes),q=>{Mt(q)&&(q.data=q.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(Mt(F)&&Mt(A)&&!wo.browser.isOpera()){const q=A.data.length;A.appendData(F.data),e.remove(F),g=A,_=q}}return J.some(dt(g,_))}else return J.none()},f5=(e,t)=>{const n=e.createRng();return u5(e,!0,t,n)&&u5(e,!1,t,n)?J.some({range:n,forward:f_(t)}):J.none()},Wb=(e,t)=>{const n=d5(e,"start",t),s=d5(e,"end",t);return Fa(n,s.or(n),(l,f)=>{const g=e.createRng();return g.setStart(l5(e,l.container()),l.offset()),g.setEnd(l5(e,f.container()),f.offset()),{range:g,forward:f_(t)}})},m5=(e,t)=>J.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),g5=(e,t)=>{const n=e.dom;if(t){if(i5(t))return f5(n,t);if(r5(t))return QM(n,t);if(a5(t))return Wb(n,t);if(Jk(t))return m5(n,t);if(s5(t))return J.some({range:t.rng,forward:f_(t)})}return J.none()},t7=(e,t,n)=>tt(e,t,n),n7=(e,t)=>{g5(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},Yc=e=>bn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Vi=(e=>t=>e===t)(ua),Zb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$g=e=>!Zb(e)&&!Vi(e)&&!vu(e),Jr=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},ku=e=>ro(e,t=>{const n=Mh(t);return n?[Re.fromDom(n)]:[]}),by=e=>Jr(e).length>1,m_=e=>xt(ku(e),mc),U1=e=>Ys(e,"td[data-mce-selected],th[data-mce-selected]"),h5=(e,t)=>{const n=U1(t);return n.length>0?n:m_(e)},xf=e=>h5(Jr(e.selection.getSel()),Re.fromDom(e.getBody())),hr=(e,t)=>Bc(e,"table",t),vy=e=>{const t=e.startContainer,n=e.startOffset;return Mt(t)?n===0?J.some(Re.fromDom(t)):J.none():J.from(t.childNodes[n]).map(Re.fromDom)},p5=e=>{const t=e.endContainer,n=e.endOffset;return Mt(t)?n===t.data.length?J.some(Re.fromDom(t)):J.none():J.from(t.childNodes[n-1]).map(Re.fromDom)},nE=e=>pl(e).fold(ot([e]),t=>[e].concat(nE(t))),xy=e=>gu(e).fold(ot([e]),t=>Mo(t)==="br"?ta(t).map(n=>[e].concat(xy(n))).getOr([]):[e].concat(xy(t))),yy=(e,t)=>Fa(vy(t),p5(t),(n,s)=>{const l=vn(nE(e),yt(Po,n)),f=vn(xy(e),yt(Po,s));return l.isSome()&&f.isSome()}).getOr(!1),wy=(e,t,n,s)=>{const l=n,f=new Ua(n,l),g=Jl(e.schema.getMoveCaretBeforeOnEnterElements(),(A,F)=>!le(["td","th","table"],F.toLowerCase()));let _=n;do{if(Mt(_)&&Zt.trim(_.data).length!==0){s?t.setStart(_,0):t.setEnd(_,_.data.length);return}if(g[_.nodeName]){s?t.setStartBefore(_):_.nodeName==="BR"?t.setEndBefore(_):t.setEndAfter(_);return}}while(_=s?f.next():f.prev());l.nodeName==="BODY"&&(s?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},W1=e=>{const t=e.selection.getSel();return Ee(t)&&t.rangeCount>0},Z1=(e,t)=>{const n=xf(e);n.length>0?me(n,s=>{const l=s.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),t(f,!0)}):t(e.selection.getRng(),!1)},g_=(e,t,n)=>{const s=Kt(e,t);n(s),e.moveToBookmark(s)},j1=e=>R(e==null?void 0:e.nodeType),h_=e=>bn(e)&&!Yc(e)&&!Gc(e)&&!Yd(e),b5=(e,t)=>{if(h_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},oE=(e,t,n)=>{const{selection:s,dom:l}=e,f=s.getNode(),g=Qn(f);g_(s,!0,()=>{t()}),g&&Qn(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):n(s.getStart())&&v5(l,s)},v5=(e,t)=>{var n,s;const l=t.getRng(),{startContainer:f,startOffset:g}=l,_=t.getNode();if(!b5(e,_)&&bn(f)){const A=f.childNodes,F=e.getRoot();let j;if(g<A.length){const q=A[g];j=new Ua(q,(n=e.getParent(q,e.isBlock))!==null&&n!==void 0?n:F)}else{const q=A[A.length-1];j=new Ua(q,(s=e.getParent(q,e.isBlock))!==null&&s!==void 0?s:F),j.next(!0)}for(let q=j.current();q;q=j.next()){if(e.getContentEditable(q)==="false")return;if(Mt(q)&&!rE(q)){l.setStart(q,0),t.setRng(l);return}}}},jb=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(bn(e)||!rE(e))return e}},p_=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ef(e,t),Uh=(e,t,n)=>e.schema.isValidChild(t,n),rE=(e,t=!1)=>{if(Ee(e)&&Mt(e)){const n=t?e.data.replace(/ /g," "):e.data;return Ml(n)}else return!1},r7=e=>Ee(e)&&Mt(e)&&e.length===0,x5=(e,t)=>{const n="[data-mce-cef-wrappable]",s=Kn(e),l=Pt(s)?n:`${n},${s}`;return mr(Re.fromDom(t),l)},sE=(e,t)=>{const n=e.dom;return h_(t)&&n.getContentEditable(t)==="false"&&x5(e,t)&&n.select('[contenteditable="true"]',t).length===0},Vg=(e,t)=>Ne(e)?e(t):(Ee(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),K1=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),b_=(e,t)=>{if(mt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=cb(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},_y=(e,t,n)=>{const s=e.getStyle(t,n);return b_(s,n)},aE=(e,t)=>{let n;return e.getParent(t,s=>bn(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},Cy=(e,t,n)=>e.getParents(t,n,e.getRoot()),v_=(e,t,n)=>{const s=e.formatter.get(t);return Ee(s)&&ve(s,n)},y5=(e,t)=>v_(e,t,s=>{const l=f=>Ne(f)||f.length>1&&f.charAt(0)==="%";return ve(["styles","attributes"],f=>ir(s,f).exists(g=>{const _=oe(g)?g:ru(g);return ve(_,l)}))}),w5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],l=f=>Jl(f,(g,_)=>ve(s,A=>A===_));return v_(e,t,f=>{const g=l(f);return v_(e,n,_=>{const A=l(_);return la(g,A)})})},yf=e=>_l(e,"block"),_5=e=>yf(e)&&e.wrapper===!0,C5=e=>yf(e)&&e.wrapper!==!0,vc=e=>_l(e,"selector"),Ga=e=>_l(e,"inline"),S5=e=>vc(e)&&Ga(e)&&Ld(ir(e,"mixed"),!0),x_=e=>vc(e)&&e.expand!==!1&&!Ga(e),k5=e=>{const t=[];let n=e;for(;n;){if(Mt(n)&&n.data!==oa||n.childNodes.length>1)return[];bn(n)&&t.push(n),n=n.firstChild}return t},iE=e=>k5(e).length>0,y_=e=>Gc(e.dom)&&iE(e.dom),Wh=Yc,Sy=Cy,w_=rE,__=p_,E5=e=>Xr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,ky=(e,t)=>{let n=t;for(;n;){if(bn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},C_=(e,t,n,s)=>{const l=t.data;if(e){for(let f=n;f>0;f--)if(s(l.charAt(f-1)))return f}else for(let f=n;f<l.length;f++)if(s(l.charAt(f)))return f;return-1},Ey=(e,t,n)=>C_(e,t,n,s=>Vi(s)||Zb(s)),lE=(e,t,n)=>C_(e,t,n,$g),cE=(e,t,n,s,l,f)=>{let g;const _=e.getParent(n,e.isBlock)||t,A=(j,q,X)=>{const ue=dd(e),xe=l?ue.backwards:ue.forwards;return J.from(xe(j,q,(de,Ce)=>Wh(de.parentNode)?-1:(g=de,X(l,de,Ce)),_))};return A(n,s,Ey).bind(j=>f?A(j.container,j.offset+(l?-1:0),lE):J.some(j)).orThunk(()=>g?J.some({container:g,offset:l?0:g.length}):J.none())},Kb=(e,t,n,s,l)=>{const f=s[l];Mt(s)&&Pt(s.data)&&f&&(s=f);const g=Sy(e,s);for(let _=0;_<g.length;_++)for(let A=0;A<t.length;A++){const F=t[A];if(!(Ee(F.collapsed)&&F.collapsed!==n.collapsed)&&vc(F)&&e.is(g[_],F.selector))return g[_]}return s},S_=(e,t,n,s)=>{var l;let f=n;const g=e.getRoot(),_=t[0];if(yf(_)&&(f=_.wrapper?null:e.getParent(n,_.block,g)),!f){const A=(l=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:g;f=e.getParent(Mt(n)?n.parentNode:n,F=>F!==g&&__(e.schema,F),A)}if(f&&yf(_)&&_.wrapper&&(f=Sy(e,f,"ul,ol").reverse()[0]||f),!f)for(f=n;f&&f[s]&&!e.isBlock(f[s])&&(f=f[s],!K1(f,"br")););return f||n},k_=(e,t,n,s)=>{const l=n.parentNode;return Ee(n[s])?!1:l===t||mt(l)||e.isBlock(l)?!0:k_(e,t,l,s)},Ug=(e,t,n,s,l)=>{let f=n;const g=l?"previousSibling":"nextSibling",_=e.getRoot();if(Mt(n)&&!w_(n)&&(l?s>0:s<n.data.length))return n;for(;f;){if(!t[0].block_expand&&e.isBlock(f))return f;for(let A=f[g];A;A=A[g]){const F=Mt(A)&&!k_(e,_,A,g);if(!Wh(A)&&!E5(A)&&!w_(A,F))return f}if(f===_||f.parentNode===_){n=f;break}f=f.parentNode}return n},Wg=e=>Wh(e.parentNode)||Wh(e),Zh=(e,t,n,s=!1)=>{let{startContainer:l,startOffset:f,endContainer:g,endOffset:_}=t;const A=n[0];return bn(l)&&l.hasChildNodes()&&(l=ra(l,f),Mt(l)&&(f=0)),bn(g)&&g.hasChildNodes()&&(g=ra(g,t.collapsed?_:_-1),Mt(g)&&(_=g.data.length)),l=ky(e,l),g=ky(e,g),Wg(l)&&(l=Wh(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Mt(l)&&(f=t.collapsed?l.length:0)),Wg(g)&&(g=Wh(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Mt(g)&&(_=t.collapsed?0:g.length)),t.collapsed&&(cE(e,e.getRoot(),l,f,!0,s).each(({container:q,offset:X})=>{l=q,f=X}),cE(e,e.getRoot(),g,_,!1,s).each(({container:q,offset:X})=>{g=q,_=X})),(Ga(A)||A.block_expand)&&((!Ga(A)||!Mt(l)||f===0)&&(l=Ug(e,n,l,f,!0)),(!Ga(A)||!Mt(g)||_===g.data.length)&&(g=Ug(e,n,g,_,!1))),x_(A)&&(l=Kb(e,n,t,l,"previousSibling"),g=Kb(e,n,t,g,"nextSibling")),(yf(A)||vc(A))&&(l=S_(e,n,l,"previousSibling"),g=S_(e,n,g,"nextSibling"),yf(A)&&(e.isBlock(l)||(l=Ug(e,n,l,f,!0),Mt(l)&&(f=0)),e.isBlock(g)||(g=Ug(e,n,g,_,!1),Mt(g)&&(_=g.data.length)))),bn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),bn(g)&&g.parentNode&&(_=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:_}},Ay=(e,t,n)=>{var s;const l=t.startOffset,f=ra(t.startContainer,l),g=t.endOffset,_=ra(t.endContainer,g-1),A=Ce=>{const ze=Ce[0];Mt(ze)&&ze===f&&l>=ze.data.length&&Ce.splice(0,1);const je=Ce[Ce.length-1];return g===0&&Ce.length>0&&je===_&&Mt(je)&&Ce.splice(Ce.length-1,1),Ce},F=(Ce,ze,je)=>{const Ue=[];for(;Ce&&Ce!==je;Ce=Ce[ze])Ue.push(Ce);return Ue},j=(Ce,ze)=>e.getParent(Ce,je=>je.parentNode===ze,ze),q=(Ce,ze,je)=>{const Ue=je?"nextSibling":"previousSibling";for(let rt=Ce,Rt=rt.parentNode;rt&&rt!==ze;rt=Rt){Rt=rt.parentNode;const Wt=F(rt===Ce?rt:rt[Ue],Ue);Wt.length&&(je||Wt.reverse(),n(A(Wt)))}};if(f===_)return n(A([f]));const X=(s=e.findCommonAncestor(f,_))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(f,_))return q(f,X,!0);if(e.isChildOf(_,f))return q(_,X);const ue=j(f,X)||f,xe=j(_,X)||_;q(f,ue,!0);const de=F(ue===f?ue:ue.nextSibling,"nextSibling",xe===_?xe.nextSibling:xe);de.length&&n(A(de)),q(_,xe)},s7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],A5=e=>Wr(e)&&pm(e)===oa,T5=(e,t,n,s)=>$a(t).fold(()=>"skipping",l=>s==="br"||A5(t)?"valid":Lx(t)?"existing":Gc(t.dom)?"caret":ve(s7,f=>mr(t,f))?"valid-block":!Uh(e,n,s)||!Uh(e,Mo(l),n)?"invalid-child":"valid"),jh=(e,t)=>{const n=Zh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Kh=(e,t,n,s,l,f)=>{const{uid:g=t,..._}=n;td(e,gs()),ea(e,`${Fs()}`,g),ea(e,`${hs()}`,s);const{attributes:A={},classes:F=[]}=l(g,_);if(pi(e,A),hb(e,F),f){F.length>0&&ea(e,`${is()}`,F.join(","));const j=Ht(A);j.length>0&&ea(e,`${Rs()}`,j.join(","))}},ki=e=>{bi(e,gs()),go(e,`${Fs()}`),go(e,`${hs()}`),go(e,`${gr()}`);const t=Oc(e,`${Rs()}`).map(s=>s.split(",")).getOr([]),n=Oc(e,`${is()}`).map(s=>s.split(",")).getOr([]);me(t,s=>go(e,s)),Ig(e,n),go(e,`${is()}`),go(e,`${Rs()}`)},Am=(e,t,n,s,l)=>{const f=Re.fromTag("span",e);return Kh(f,t,n,s,l,!1),f},Qo=(e,t,n,s,l,f)=>{const g=[],_=Am(e.getDoc(),n,f,s,l),A=fa(),F=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const xe=Ns(_);return g.push(xe),A.set(xe),xe}),q=xe=>{me(xe,X)},X=xe=>{switch(T5(e,xe,"span",Mo(xe))){case"invalid-child":{F();const Ce=Va(xe);q(Ce),F();break}case"valid-block":{F(),Kh(xe,n,f,s,l,!0);break}case"valid":{const Ce=j();Cl(xe,Ce);break}}},ue=xe=>{const de=Ie(xe,Re.fromDom);q(de)};return Ay(e.dom,t,xe=>{F(),ue(xe)}),g},a7=(e,t,n,s)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),g=xf(e).length>0,_=_i("mce-annotation");if(f.collapsed&&!g&&jh(e,f),l.getRng().collapsed&&!g){const A=Am(e.getDoc(),_,s,t,n.decorate);tm(A,ua),l.getRng().insertNode(A.dom),l.select(A.dom)}else g_(l,!1,()=>{Z1(e,A=>{Qo(e,A,_,t,n.decorate,s)})})})},O5=e=>{const t=zx();x1(e,t);const n=v1(e,t),s=Vd("span"),l=f=>{me(f,g=>{s(g)?wi(g):ki(g)})};return{register:(f,g)=>{t.register(f,g)},annotate:(f,g)=>{t.lookup(f).each(_=>{a7(e,f,_,g)})},annotationChanged:(f,g)=>{n.addListener(f,g)},remove:f=>{b1(e,J.some(f)).each(({elements:g})=>{const _=e.selection.getBookmark();l(g),e.selection.moveToBookmark(_)})},removeAll:f=>{const g=e.selection.getBookmark();Vo(Ng(e,f),(_,A)=>{l(_)}),e.selection.moveToBookmark(g)},getAll:f=>{const g=Ng(e,f);return wl(g,_=>Ie(_,A=>A.dom))}}},Sr=e=>({getBookmark:yt(t7,e),moveToBookmark:yt(n7,e)});Sr.isBookmarkNode=Yc;const uE=(e,t,n)=>n.collapsed?!1:ve(n.getClientRects(),s=>k1(s,e,t)),Ty=(e,t)=>e.dispatch("PreProcess",t),Oy=(e,t)=>e.dispatch("PostProcess",t),Dy=e=>{e.dispatch("remove")},Ry=e=>{e.dispatch("detach")},D5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},i7=(e,t,n,s,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:l})},l7=(e,t,n,s,l)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:l})},c7=e=>{e.dispatch("PreInit")},u7=e=>{e.dispatch("PostRender")},Hs=e=>{e.dispatch("Init")},R5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},dE=(e,t,n)=>{e.dispatch(t,n)},N5=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},I5=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},d7=(e,t)=>e.dispatch("BeforeSetContent",t),Hl=(e,t)=>e.dispatch("SetContent",t),wf=(e,t)=>e.dispatch("BeforeGetContent",t),B5=(e,t)=>e.dispatch("GetContent",t),fE=(e,t)=>{e.dispatch("AutocompleterStart",t)},mE=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},gE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},f7=e=>{e.dispatch("AutocompleterEnd")},Ny=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),E_=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),A_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),m7=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rn.metaKeyPressed(e),metaKeyPressed:e=>wo.os.isMacOS()||wo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},qb="data-mce-selected",g7="table,img,figure.image,hr,video,span.mce-preview-object,details",Xc=Math.abs,qh=Math.round,T_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},vd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,vr=(e,t)=>{const n=t.dom,s=t.getDoc(),l=document,f=t.getBody();let g,_,A,F,j,q,X,ue,xe,de,Ce,ze,je,Ue,rt,Rt,Wt;const cn=an=>Ee(an)&&(ac(an)||n.is(an,"figure.image")),bt=an=>pt(an)||n.hasClass(an,"mce-preview-object"),ct=(an,xo)=>{if(vd(an)){const Do=an.touches[0];return cn(an.target)&&!uE(Do.clientX,Do.clientY,xo)}else return cn(an.target)&&!uE(an.clientX,an.clientY,xo)},Ot=an=>{const xo=an.target;ct(an,t.selection.getRng())&&!an.isDefaultPrevented()&&t.selection.select(xo)},gn=an=>n.hasClass(an,"mce-preview-object")&&Ee(an.firstElementChild)?[an,an.firstElementChild]:n.is(an,"figure.image")?[an.querySelector("img")]:[an],On=an=>{const xo=bO(t);return!xo||an.getAttribute("data-mce-resize")==="false"||an===t.getBody()?!1:n.hasClass(an,"mce-preview-object")&&Ee(an.firstElementChild)?mr(Re.fromDom(an.firstElementChild),xo):mr(Re.fromDom(an),xo)},vo=(an,xo)=>{if(bt(xo))return an.create("img",{src:wo.transparentSrc});if(Fc(xo)){const ui=Ur(F.name,"n")?ln:mo,xr=xo.cloneNode(!0);return ui(an.select("tr",xr)).each(Ja=>{const Tf=an.select("td,th",Ja);an.setStyle(Ja,"height",null),me(Tf,ch=>an.setStyle(ch,"height",null))}),xr}else return xo.cloneNode(!0)},Ao=(an,xo,Do)=>{if(Ee(Do)){const ui=gn(an);me(ui,xr=>{xr.style[xo]||!t.schema.isValid(xr.nodeName.toLowerCase(),xo)?n.setStyle(xr,xo,Do):n.setAttrib(xr,xo,""+Do)})}},cr=(an,xo,Do)=>{Ao(an,"width",xo),Ao(an,"height",Do)},wr=an=>{let xo,Do,ui,xr,Ja;xo=an.screenX-q,Do=an.screenY-X,Ue=xo*F[2]+de,rt=Do*F[3]+Ce,Ue=Ue<5?5:Ue,rt=rt<5?5:rt,(cn(g)||bt(g))&&vO(t)!==!1?ui=!rn.modifierPressed(an):ui=rn.modifierPressed(an),ui&&(Xc(xo)>Xc(Do)?(rt=qh(Ue*ze),Ue=qh(rt/ze)):(Ue=qh(rt/ze),rt=qh(Ue*ze))),cr(_,Ue,rt),xr=F.startPos.x+xo,Ja=F.startPos.y+Do,xr=xr>0?xr:0,Ja=Ja>0?Ja:0,n.setStyles(A,{left:xr,top:Ja,display:"block"}),A.innerHTML=Ue+" &times; "+rt,F[2]<0&&_.clientWidth<=Ue&&n.setStyle(_,"left",ue+(de-Ue)),F[3]<0&&_.clientHeight<=rt&&n.setStyle(_,"top",xe+(Ce-rt)),xo=f.scrollWidth-Rt,Do=f.scrollHeight-Wt,xo+Do!==0&&n.setStyles(A,{left:xr-xo,top:Ja-Do}),je||(i7(t,g,de,Ce,"corner-"+F.name),je=!0)},js=()=>{const an=je;je=!1,an&&(Ao(g,"width",Ue),Ao(g,"height",rt)),n.unbind(s,"mousemove",wr),n.unbind(s,"mouseup",js),l!==s&&(n.unbind(l,"mousemove",wr),n.unbind(l,"mouseup",js)),n.remove(_),n.remove(A),n.remove(j),cl(g),an&&(l7(t,g,Ue,rt,"corner-"+F.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},cl=an=>{tn();const xo=n.getPos(an,f),Do=xo.x,ui=xo.y,xr=an.getBoundingClientRect(),Ja=xr.width||xr.right-xr.left,Tf=xr.height||xr.bottom-xr.top;g!==an&&(Yt(),g=an,Ue=rt=0);const ch=t.dispatch("ObjectSelected",{target:an});On(an)&&!ch.isDefaultPrevented()?Vo(T_,(jl,Fu)=>{const Of=Df=>{const In=gn(g)[0];q=Df.screenX,X=Df.screenY,de=In.clientWidth,Ce=In.clientHeight,ze=Ce/de,F=jl,F.name=Fu,F.startPos={x:Ja*jl[0]+Do,y:Tf*jl[1]+ui},Rt=f.scrollWidth,Wt=f.scrollHeight,j=n.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=vo(n,g),n.addClass(_,"mce-clonedresizable"),n.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",n.setStyles(_,{left:Do,top:ui,margin:0}),cr(_,Ja,Tf),_.removeAttribute(qb),f.appendChild(_),n.bind(s,"mousemove",wr),n.bind(s,"mouseup",js),l!==s&&(n.bind(l,"mousemove",wr),n.bind(l,"mouseup",js)),A=n.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},de+" &times; "+Ce)};let zu=n.get("mceResizeHandle"+Fu);zu&&n.remove(zu),zu=n.add(f,"div",{id:"mceResizeHandle"+Fu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Fu+"-resize; margin:0; padding:0"}),n.bind(zu,"mousedown",Df=>{Df.stopImmediatePropagation(),Df.preventDefault(),Of(Df)}),jl.elm=zu,n.setStyles(zu,{left:Ja*jl[0]+Do-zu.offsetWidth/2,top:Tf*jl[1]+ui-zu.offsetHeight/2})}):Yt(!1)},Or=Rg(cl,0),Yt=(an=!0)=>{Or.cancel(),tn(),g&&an&&g.removeAttribute(qb),Vo(T_,(xo,Do)=>{const ui=n.get("mceResizeHandle"+Do);ui&&(n.unbind(ui),n.remove(ui))})},kn=(an,xo)=>n.isChildOf(an,xo),Yo=an=>{if(je||t.removed||t.composing)return;const xo=an.type==="mousedown"?an.target:e.getNode(),Do=Sa(Re.fromDom(xo),g7).map(xr=>xr.dom).filter(xr=>n.isEditable(xr.parentElement)||xr.nodeName==="IMG"&&n.isEditable(xr)).getOrUndefined(),ui=Ee(Do)?n.getAttrib(Do,qb,"1"):"1";if(me(n.select(`img[${qb}],hr[${qb}]`),xr=>{xr.removeAttribute(qb)}),Ee(Do)&&kn(Do,f)&&t.hasFocus()){zn();const xr=e.getStart(!0);if(kn(xr,Do)&&kn(e.getEnd(!0),Do)){n.setAttrib(Do,qb,ui),Or.throttle(Do);return}}Yt()},tn=()=>{Vo(T_,an=>{an.elm&&(n.unbind(an.elm),delete an.elm)})},zn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{zn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Yo),t.on("keyup compositionend",an=>{g&&g.nodeName==="TABLE"&&Yo(an)}),t.on("hide blur",Yt),t.on("contextmenu longpress",Ot,!0)}),t.on("remove",tn),{isResizable:On,showResizeRect:cl,hideResizeRect:Yt,updateResizeRect:Yo,destroy:()=>{Or.cancel(),g=_=j=null}}},q1=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},O_=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},hE=(e,t,n)=>{const s=e.document.createRange();return q1(s,t),O_(s,n),s},Iy=(e,t,n,s,l)=>{const f=e.document.createRange();return f.setStart(t.dom,n),f.setEnd(s.dom,l),f},Gb=Bo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),M5=(e,t,n)=>t(Re.fromDom(n.startContainer),n.startOffset,Re.fromDom(n.endContainer),n.endOffset),pE=(e,t)=>t.match({domRange:n=>({ltr:ot(n),rtl:J.none}),relative:(n,s)=>({ltr:dl(()=>hE(e,n,s)),rtl:dl(()=>J.some(hE(e,s,n)))}),exact:(n,s,l,f)=>({ltr:dl(()=>Iy(e,n,s,l,f)),rtl:dl(()=>J.some(Iy(e,l,f,n,s)))})}),h7=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>Gb.rtl(Re.fromDom(l.endContainer),l.endOffset,Re.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>M5(e,Gb.ltr,n)):M5(e,Gb.ltr,n)},P5=(e,t)=>{const n=pE(e,t);return h7(e,n)};Gb.ltr,Gb.rtl;const D_={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},L5=(e,t,n)=>{var s;return J.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(l=>{if(l.offsetNode===null)return J.none();const f=e.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),J.some(f)})},R_=(e,t,n)=>{var s;return J.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},b7=(e,t,n)=>e.caretPositionFromPoint?L5(e,t,n):e.caretRangeFromPoint?R_(e,t,n):J.none(),v7=(e,t,n)=>{const s=e.document;return b7(s,t,n).map(l=>D_.create(Re.fromDom(l.startContainer),l.startOffset,Re.fromDom(l.endContainer),l.endOffset))},bE=Bo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),x7=(e,t,n,s)=>e.fold(t,n,s),y7=e=>e.fold(Vn,Vn,Vn),F5=bE.before,w7=bE.on,_7=bE.after,Tm={before:F5,on:w7,after:_7,cata:x7,getStart:y7},By=Bo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),C7=e=>By.exact(e.start,e.soffset,e.finish,e.foffset),S7=e=>e.match({domRange:t=>Re.fromDom(t.startContainer),relative:(t,n)=>Tm.getStart(t),exact:(t,n,s,l)=>t}),z5=By.domRange,Eu=By.relative,k7=By.exact,H5=e=>{const t=S7(e);return du(t)},vE=D_.create,Gh={domRange:z5,relative:Eu,exact:k7,exactFromRange:C7,getWin:H5,range:vE},My=(e,t)=>{const n=Mo(e);return n==="input"?Tm.after(e):le(["br","img"],n)?t===0?Tm.before(e):Tm.after(e):Tm.on(e,t)},$5=(e,t)=>{const n=e.fold(Tm.before,My,Tm.after),s=t.fold(Tm.before,My,Tm.after);return Gh.relative(n,s)},N_=(e,t,n,s)=>{const l=My(e,t),f=My(n,s);return Gh.relative(l,f)},V5=e=>e.match({domRange:t=>{const n=Re.fromDom(t.startContainer),s=Re.fromDom(t.endContainer);return N_(n,t.startOffset,s,t.endOffset)},relative:$5,exact:N_}),xc=(e,t)=>{const s=document.createDocumentFragment();return me(e,l=>{s.appendChild(l.dom)}),Re.fromDom(s)},E7=e=>{const t=Gh.getWin(e).dom,n=(l,f,g,_)=>Iy(t,l,f,g,_),s=V5(e);return P5(t,s).match({ltr:n,rtl:n})},xE=(e,t,n)=>v7(e,t,n),U5=(e,t,n)=>{const s=du(Re.fromDom(n));return xE(s.dom,e,t).map(l=>{const f=n.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},Py=(e,t)=>Ee(e)&&Ee(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,_f=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},I_=(e,t,n)=>_f(e,t,n)!==null,B_=(e,t,n)=>I_(e,t,s=>s.nodeName===n),W5=(e,t)=>kl(e)&&!I_(e,t,Gc),Z5=(e,t,n)=>{const s=t.parentNode;if(s){const l=new Ua(t,e.getParent(s,e.isBlock)||e.getRoot());let f;for(;f=l[n?"prev":"next"]();)if(Xr(f))return!0}return!1},j5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},K5=(e,t)=>{let n=t;for(;n&&n!==e;){if(Qn(n))return!0;n=n.parentNode}return!1},Ly=(e,t,n,s,l)=>{const f=e.getRoot(),g=e.schema.getNonEmptyElements(),_=l.parentNode;let A,F;if(!_)return J.none();const j=e.getParent(_,e.isBlock)||f;if(s&&Xr(l)&&t&&e.isEmpty(j))return J.some(dt(_,e.nodeIndex(l)));const q=new Ua(l,j);for(;F=q[s?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||W5(F,f))return J.none();if(Mt(F)&&F.data.length>0)return B_(F,f,"A")?J.none():J.some(dt(F,s?F.data.length:0));if(e.isBlock(F)||g[F.nodeName.toLowerCase()])return J.none();A=F}return fo(A)?J.none():n&&A?J.some(dt(A,0)):J.none()},yE=(e,t,n,s)=>{const l=e.getRoot();let f,g=!1,_=n?s.startContainer:s.endContainer,A=n?s.startOffset:s.endOffset;const F=bn(_)&&A===_.childNodes.length,j=e.schema.getNonEmptyElements();let q=n;if(kl(_))return J.none();if(bn(_)&&A>_.childNodes.length-1&&(q=!1),wn(_)&&(_=l,A=0),_===l){if(q&&(f=_.childNodes[A>0?A-1:0],f&&(kl(f)||j[f.nodeName]||Fc(f))))return J.none();if(_.hasChildNodes()){if(A=Math.min(!q&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=Mt(_)&&F?_.data.length:0,!t&&_===l.lastChild&&Fc(_)||K5(l,_)||kl(_)||Ch(_))return J.none();if(_.hasChildNodes()&&!Fc(_)){f=_;const X=new Ua(_,l);do{if(Qn(f)||kl(f)){g=!1;break}if(Mt(f)&&f.data.length>0){A=q?0:f.data.length,_=f,g=!0;break}if(j[f.nodeName.toLowerCase()]&&!Tw(f)){A=e.nodeIndex(f),_=f.parentNode,q||A++,g=!0;break}}while(f=q?X.next():X.prev())}}}return t&&(Mt(_)&&A===0&&Ly(e,F,t,!0,_).each(X=>{_=X.container(),A=X.offset(),g=!0}),bn(_)&&(f=_.childNodes[A],f||(f=_.childNodes[A-1]),f&&Xr(f)&&!j5(f,"A")&&!Z5(e,f,!1)&&!Z5(e,f,!0)&&Ly(e,F,t,!0,f).each(X=>{_=X.container(),A=X.offset(),g=!0}))),q&&!t&&Mt(_)&&A===_.data.length&&Ly(e,F,t,!1,_).each(X=>{_=X.container(),A=X.offset(),g=!0}),g&&_?J.some(dt(_,A)):J.none()},Om=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),l=dt.fromRangeStart(t);return yE(e,n,!0,s).each(f=>{(!n||!dt.isAbove(l,f))&&s.setStart(f.container(),f.offset())}),n||yE(e,n,!1,s).each(f=>{s.setEnd(f.container(),f.offset())}),n&&s.collapse(!0),Py(t,s)?J.none():J.some(s)},Fy=(e,t)=>e.splitText(t),zy=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,l=e.endOffset;if(t===s&&Mt(t)){if(n>0&&n<t.data.length)if(s=Fy(t,n),t=s.previousSibling,l>n){l=l-n;const f=Fy(s,l).previousSibling;t=s=f,l=f.data.length,n=0}else l=0}else if(Mt(t)&&n>0&&n<t.data.length&&(t=Fy(t,n),n=0),Mt(s)&&l>0&&l<s.data.length){const f=Fy(s,l).previousSibling;s=f,l=f.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:l}},Yh=e=>({walk:(f,g)=>Ay(e,f,g),split:zy,expand:(f,g={type:"word"})=>{if(g.type==="word"){const _=Zh(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return f},normalize:f=>Om(e,f).fold(En,g=>(f.setStart(g.startContainer,g.startOffset),f.setEnd(g.endContainer,g.endOffset),!0))});Yh.compareRanges=Py,Yh.getCaretRangeFromPoint=U5,Yh.getSelectedNode=Mh,Yh.getNode=ra;const wE=((e,t)=>{const n=(_,A)=>{if(!R(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const F=_.dom;xi(F)&&(F.style[e]=A+"px")},s=_=>{const A=t(_);if(A<=0||A===null){const F=Es(_,e);return parseFloat(F)||0}return A},l=s,f=(_,A)=>It(A,(F,j)=>{const q=Es(_,j),X=q===void 0?0:parseInt(q,10);return isNaN(X)?F:F+X},0);return{set:n,get:s,getOuter:l,aggregate:f,max:(_,A,F)=>{const j=f(_,F);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return vi(e)?t.getBoundingClientRect().height:t.offsetHeight}),Yb=e=>wE.get(e),q5=()=>Re.fromDom(document),G5=(e,t)=>e.view(t).fold(ot([]),s=>{const l=e.owner(s),f=G5(e,l);return[s].concat(f)}),M_=(e,t)=>{const n=t.owner(e);return G5(t,n)};var O7=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Re.fromDom)},owner:e=>Il(e)});const Y5=e=>{const t=q5(),n=Yn(t),s=M_(e,O7),l=oo(e),f=Ft(s,(g,_)=>{const A=oo(_);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return ke(f.left+l.left+n.left,f.top+l.top+n.top)},Zg=e=>Mo(e)==="textarea",X5=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),J5=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},Q5=(e,t)=>{const n=Va(e);if(n.length===0||Zg(e))return{element:e,offset:t};if(t<n.length&&!Zg(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Zg(s)?{element:e,offset:t}:Mo(s)==="img"?{element:s,offset:1}:Wr(s)?{element:s,offset:pm(s).length}:{element:s,offset:Va(s).length}}},Hy=(e,t)=>{const n=Pn(e),s=Yb(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},eD=(e,t)=>{const n=Q5(e,t),s=Re.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+oa+"</span>");return ds(n.element,s),Hy(s,()=>lr(s))},tD=e=>Hy(Re.fromDom(e),Jt),nD=(e,t,n,s)=>{rD(e,(l,f)=>oD(e,t,n,s),n)},$y=(e,t,n,s,l)=>{const f={elm:s.element.dom,alignToTop:l};if(X5(e,f))return;const g=Yn(t).top;n(e,t,g,s,l),J5(e,f)},oD=(e,t,n,s)=>{const l=Re.fromDom(e.getBody()),f=Re.fromDom(e.getDoc());q0(l);const g=eD(Re.fromDom(n.startContainer),n.startOffset);$y(e,f,t,g,s),g.cleanup()},P_=(e,t,n,s)=>{const l=Re.fromDom(e.getDoc());$y(e,l,n,tD(t),s)},rD=(e,t,n)=>{const s=n.startContainer,l=n.startOffset,f=n.endContainer,g=n.endOffset;t(Re.fromDom(s),Re.fromDom(f));const _=e.dom.createRng();_.setStart(s,l),_.setEnd(f,g),e.selection.setRng(n)},Vy=(e,t,n,s,l)=>{const f=t.pos;if(s)yn(f.left,f.top,l);else{const g=f.top-n+t.height;yn(-e.getBody().getBoundingClientRect().left,g,l)}},_E=(e,t,n,s,l,f)=>{const g=s+n,_=l.pos.top,A=l.bottom,F=A-_>=s;_<n?Vy(e,l,s,f!==!1,t):_>g?Vy(e,l,s,F?f!==!1:f===!0,t):A>g&&!F&&Vy(e,l,s,f===!0,t)},Uy=(e,t,n,s,l)=>{const f=du(t).dom.innerHeight;_E(e,t,n,f,s,l)},Dm=(e,t,n,s,l)=>{const f=du(t).dom.innerHeight;_E(e,t,n,f,s,l);const g=Y5(s.element),_=rc(window);g.top<_.y?Go(s.element,l!==!1):g.top>_.bottom&&Go(s.element,l===!0)},D7=(e,t,n)=>nD(e,Uy,t,n),CE=(e,t,n)=>P_(e,t,Uy,n),Js=(e,t,n)=>nD(e,Dm,t,n),SE=(e,t,n)=>P_(e,t,Dm,n),kE=(e,t,n)=>{(e.inline?CE:SE)(e,t,n)},Au=(e,t,n)=>{(e.inline?D7:Js)(e,t,n)},EE=(e,t=!1)=>e.dom.focus({preventScroll:t}),AE=e=>{const t=Ic(e).dom;return e.dom===t.activeElement},Xb=(e=q5())=>J.from(e.dom.activeElement).map(Re.fromDom),R7=e=>Xb(Ic(e)).filter(t=>e.dom.contains(t.dom)),sD=(e,t)=>{const n=Wr(t)?pm(t).length:Va(t).length+1;return e>n?n:e<0?0:e},G1=e=>Gh.range(e.start,sD(e.soffset,e.start),e.finish,sD(e.foffset,e.finish)),aD=(e,t)=>!qd(t.dom)&&(Ha(e,t)||Po(e,t)),Xh=e=>t=>aD(e,t.start)&&aD(e,t.finish),N7=e=>e.inline||wo.browser.isFirefox(),Jh=e=>Gh.range(Re.fromDom(e.startContainer),e.startOffset,Re.fromDom(e.endContainer),e.endOffset),I7=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(Jh)},Tu=e=>{const t=du(e);return I7(t.dom).filter(Xh(e))},Wy=(e,t)=>J.from(t).filter(Xh(e)).map(G1),TE=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},Y1=e=>{const t=N7(e)?Tu(Re.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},OE=e=>(e.bookmark?e.bookmark:J.none()).bind(n=>Wy(Re.fromDom(e.getBody()),n)).bind(TE),L_=e=>{OE(e).each(t=>e.selection.setRng(t))},Ou={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},F_=(e,t)=>(R(t)||(t=0),setTimeout(e,t)),iD=(e,t)=>(R(t)||(t=0),setInterval(e,t)),yc={setEditorTimeout:(e,t,n)=>F_(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=iD(()=>{e.removed?clearInterval(s):t()},n);return s}},DE=e=>e.type==="nodechange"&&e.selectionChange,Jb=(e,t)=>{const n=()=>{t.throttle()};Ar.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ar.DOM.unbind(document,"mouseup",n)})},RE=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},lD=(e,t)=>{RE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{DE(n)||Y1(e)})},B7=e=>{const t=Rg(()=>{Y1(e)},0);e.on("init",()=>{e.inline&&Jb(e,t),lD(e,t)}),e.on("remove",()=>{t.cancel()})};let Rm;const NE=Ar.DOM,cD=e=>bn(e)&&Ou.isEditorUIElement(e),Zy=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},z_=(e,t)=>{const n=yO(e);return NE.getParent(t,l=>cD(l)||(n?e.dom.is(l,n):!1))!==null},H_=e=>{try{const t=Ic(Re.fromDom(e.getElement()));return Xb(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},uD=(e,t)=>{const n=t.editor;B7(n);const s=(l,f)=>{if(DO(l)&&l.inline!==!0){const g=Re.fromDom(l.getContainer());f(g,"tox-edit-focus")}};n.on("focusin",()=>{const l=e.focusedEditor;Zy(H_(n))&&s(n,td),l!==n&&(l&&l.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:l}),n.focus(!0))}),n.on("focusout",()=>{yc.setEditorTimeout(n,()=>{const l=e.focusedEditor;(!Zy(H_(n))||l!==n)&&s(n,bi),!z_(n,H_(n))&&l===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Rm||(Rm=l=>{const f=e.activeEditor;f&&Wp(l).each(g=>{const _=g;_.ownerDocument===document&&_!==document.body&&!z_(f,_)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},NE.bind(document,"focusin",Rm))},M7=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Rm&&(NE.unbind(document,"focusin",Rm),Rm=null)},P7=e=>{e.on("AddEditor",yt(uD,e)),e.on("RemoveEditor",yt(M7,e))},L7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),F7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,z7=e=>e.collapsed?J.from(ra(e.startContainer,e.startOffset)).map(Re.fromDom):J.none(),H7=(e,t)=>z7(t).bind(n=>Bg(n)?J.some(n):Ha(e,n)?J.none():J.some(e)),dD=(e,t)=>{H7(Re.fromDom(e.getBody()),t).bind(n=>Un(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},$_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},$7=e=>AE(e)||R7(e).isSome(),V7=e=>Ee(e.iframeElement)&&AE(Re.fromDom(e.iframeElement)),U7=e=>{const t=e.getBody();return t&&$7(Re.fromDom(t))},fD=e=>{const t=Ic(Re.fromDom(e.getElement()));return Xb(t).filter(n=>!Zy(n.dom)&&z_(e,n.dom)).isSome()},X1=e=>e.inline?U7(e):V7(e),Qb=e=>X1(e)||fD(e),W7=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const l=g=>{OE(g).each(_=>{g.selection.setRng(_),s=_})};!X1(e)&&e.hasEditableRoot()&&l(e);const f=L7(e,t.getNode());if(f&&e.dom.isChildOf(f,n)){F7(e,f)||$_(n),$_(f),e.hasEditableRoot()||l(e),dD(e,s),IE(e);return}e.inline||(wo.browser.isOpera()||$_(n),e.getWin().focus()),(wo.browser.isFirefox()||e.inline)&&($_(n),dD(e,s)),IE(e)},IE=e=>e.editorManager.setActive(e),mD=(e,t)=>{e.removed||(t?IE(e):W7(e))},gD=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),hD=(e,t,n,s,l)=>{const f=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return J.from(f).map(Re.fromDom).map(_=>!s||!t.collapsed?mu(_,l(_,g)).getOr(_):_).bind(_=>ks(_)?J.some(_):$a(_).filter(ks)).map(_=>_.dom).getOr(e)},pD=(e,t,n=!1)=>hD(e,t,!0,n,(s,l)=>Math.min(od(s),l)),bD=(e,t,n=!1)=>hD(e,t,!1,n,(s,l)=>l>0?l-1:l),vD=(e,t)=>{const n=e;for(;e&&Mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Z7=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const l=t.startOffset,f=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===s&&f-l<2&&n.hasChildNodes()&&(g=n.childNodes[l]),Mt(n)&&Mt(s)&&(n.length===l?n=vD(n.nextSibling,!0):n=n.parentNode,f===0?s=vD(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(g=n)));const _=Mt(g)?g.parentNode:g;return Lc(_)?_:e},BE=(e,t,n,s)=>{const l=[],f=e.getRoot(),g=e.getParent(n||pD(f,t,t.collapsed),e.isBlock),_=e.getParent(s||bD(f,t,t.collapsed),e.isBlock);if(g&&g!==f&&l.push(g),g&&_&&g!==_){let A;const F=new Ua(g,f);for(;(A=F.next())&&A!==_;)e.isBlock(A)&&l.push(A)}return _&&g!==_&&_!==f&&l.push(_),l},jy=(e,t,n)=>J.from(t).bind(s=>J.from(s.parentNode).map(l=>{const f=e.nodeIndex(s),g=e.createRng();return g.setStart(l,f),g.setEnd(l,f+1),n&&(wy(e,g,s,!0),wy(e,g,s,!1)),g})),V_=(e,t)=>Ie(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),j7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},e0=(e,t,n)=>{const s=n?"lastChild":"firstChild",l=n?"prev":"next";if(e[s])return e[s];if(e!==t){let f=e[l];if(f)return f;for(let g=e.parent;g&&g!==t;g=g.parent)if(f=g[l],f)return f}},xD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ml(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},ga=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ci{static create(t,n){const s=new ci(t,j7[t]||1);return n&&Vo(n,(l,f)=>{s.attr(f,l)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Be(t))return Ee(t)&&Vo(t,(f,g)=>{s.attr(g,f)}),s;const l=s.attributes;if(l){if(n!==void 0){if(n===null){if(t in l.map){delete l.map[t];let f=l.length;for(;f--;)if(l[f].name===t)return l.splice(f,1),s}return s}if(t in l.map){let f=l.length;for(;f--;)if(l[f].name===t){l[f].value=n;break}}else l.push({name:t,value:n});return l.map[t]=n,s}return l.map[t]}}clone(){const t=this,n=new ci(t.name,t.type),s=t.attributes;if(s){const l=[];l.map={};for(let f=0,g=s.length;f<g;f++){const _=s[f];_.name!=="id"&&(l[l.length]={name:_.name,value:_.value},l.map[_.name]=_.value)}n.attributes=l}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,l=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),n.lastChild===t?(n.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const l=n.parent||this;return s?(n===l.firstChild?l.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===l.lastChild?l.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=l,t}getAll(t){const n=this,s=[];for(let l=n.firstChild;l;l=e0(l,n))l.name===t&&s.push(l);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let l=t.firstChild;l;l=e0(l,t))n.push(l);let s=n.length;for(;s--;){const l=n[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var l;const f=this;let g=f.firstChild;if(ga(f))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||ga(g))return!1}if(g.type===8||g.type===3&&!xD(g)||g.type===3&&g.parent&&n[g.parent.name]&&Ml((l=g.value)!==null&&l!==void 0?l:"")||s&&s(g))return!1}while(g=e0(g,f));return!0}walk(t){return e0(this,null,t)}}const yD=Zt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),U_=e=>Be(e.nodeValue)&&e.nodeValue.includes(oa),Ky=e=>`${e.length===0?"":`${Ie(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Qh=(e,t)=>t.querySelectorAll(Ky(e)),jg=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>U_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),wD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(U_(t)){const n=t.parentNode;return n&&Gn(yD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),K7=e=>jg(e).nextNode()!==null,J1=e=>wD(e).nextNode()!==null,Q1=(e,t)=>t.querySelector(Ky(e))!==null,ev=(e,t)=>{me(Qh(e,t),n=>{const s=Re.fromDom(n);ri(s,"data-mce-bogus")==="all"?lr(s):me(e,l=>{Qu(s,l)&&go(s,l)})})},W_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},ME=pn(W_,jg),_D=pn(W_,wD),PE=(e,t)=>{const n=[{condition:yt(Q1,t),action:yt(ev,t)},{condition:K7,action:ME},{condition:J1,action:_D}];let s=e,l=!1;return me(n,({condition:f,action:g})=>{f(s)&&(l||(s=e.cloneNode(!0),l=!0),g(s))}),s},CD=e=>{const t=Ys(e,"[data-mce-bogus]");me(t,n=>{ri(n,"data-mce-bogus")==="all"?lr(n):_u(n)?(ds(n,Re.fromText(fs)),lr(n)):wi(n)})},SD=e=>{const t=Ys(e,"input");me(t,n=>{go(n,"name")})},kD=(e,t)=>{const n=$i(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},ED=(e,t)=>{const n=e.getDoc(),s=Ic(Re.fromDom(e.getBody())),l=Re.fromTag("div",n);ea(l,"data-mce-bogus","all"),Io(l,{position:"fixed",left:"-9999999px",top:"0"}),tm(l,t.innerHTML),CD(l),SD(l);const f=K0(s);As(f,l);const g=rl(l.dom.innerText);return lr(l),g},qy=(e,t,n)=>{let s;return t.format==="raw"?s=Zt.trim(rl(PE(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=ED(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=kD(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Cb(Re.fromDom(n))&&Be(s)?Zt.trim(s):s},AD=(e,t)=>J.from(e.getBody()).fold(ot(t.format==="tree"?new ci("body",11):""),n=>qy(e,t,n)),LE=Zt.makeMap,FE=e=>{const t=[];e=e||{};const n=e.indent,s=LE(e.indent_before||""),l=LE(e.indent_after||""),f=_g.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(_,A,F)=>{if(n&&s[_]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",_),A)for(let j=0,q=A.length;j<q;j++){const X=A[j];t.push(" ",X.name,'="',f(X.value,!0),'"')}if(!F||g?t[t.length]=">":t[t.length]=" />",F&&n&&l[_]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:_=>{let A;t.push("</",_,">"),n&&l[_]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(_,A)=>{_.length>0&&(t[t.length]=A?_:f(_))},cdata:_=>{t.push("<![CDATA[",_,"]]>")},comment:_=>{t.push("<!--",_,"-->")},pi:(_,A)=>{A?t.push("<?",_," ",f(A),"?>"):t.push("<?",_,"?>"),n&&t.push(`
`)},doctype:_=>{t.push("<!DOCTYPE",_,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Kg=(e={},t=dc())=>{const n=FE(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,g={3:A=>{var F;n.text((F=A.value)!==null&&F!==void 0?F:"",A.raw)},8:A=>{var F;n.comment((F=A.value)!==null&&F!==void 0?F:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var F;n.doctype((F=A.value)!==null&&F!==void 0?F:"")},4:A=>{var F;n.cdata((F=A.value)!==null&&F!==void 0?F:"")},11:A=>{let F=A;if(F=F.firstChild)do _(F);while(F=F.next)}};n.reset();const _=A=>{var F;const j=g[A.type];if(j)j(A);else{const q=A.name,X=q in t.getVoidElements();let ue=A.attributes;if(f&&ue&&ue.length>1){const xe=[];xe.map={};const de=t.getElementRule(A.name);if(de){for(let Ce=0,ze=de.attributesOrder.length;Ce<ze;Ce++){const je=de.attributesOrder[Ce];if(je in ue.map){const Ue=ue.map[je];xe.map[je]=Ue,xe.push({name:je,value:Ue})}}for(let Ce=0,ze=ue.length;Ce<ze;Ce++){const je=ue[Ce].name;if(!(je in xe.map)){const Ue=ue.map[je];xe.map[je]=Ue,xe.push({name:je,value:Ue})}}ue=xe}}if(n.start(q,ue,X),am(q))Be(A.value)&&n.text(A.value,!0),n.end(q);else if(!X){let xe=A.firstChild;if(xe){(q==="pre"||q==="textarea")&&xe.type===3&&((F=xe.value)===null||F===void 0?void 0:F[0])===`
`&&n.text(`
`,!0);do _(xe);while(xe=xe.next)}n.end(q)}}};return l.type===1&&!e.inner?_(l):l.type===3?g[3](l):g[11](l),n.getContent()}}},zE=new Set;me(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{zE.add(t)});const HE=new Set;me(["background-color"],t=>{HE.add(t)});const $E=["font","text-decoration","text-emphasis"],TD=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),t0=(e,t)=>Ht(TD(e,t)),VE=e=>zE.has(e),Gy=e=>HE.has(e),UE=(e,t)=>ve(t0(e,t),n=>VE(n)),OD=(e,t)=>UE(e,t)&&ve(t0(e,t),n=>Gy(n)),Z_=e=>xt(e,t=>ve($E,n=>Ur(t,n))),q7=(e,t,n)=>{const s=t0(e,t),l=t0(e,n),f=g=>{var _,A;const F=(_=e.getStyle(t,g))!==null&&_!==void 0?_:"",j=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return We(F)&&We(j)&&F!==j};return ve(s,g=>{const _=A=>ve(A,F=>F===g);if(!_(l)&&_($E)){const A=Z_(l);return ve(A,f)}else return f(g)})},DD=(e,t,n)=>J.from(n.container()).filter(Mt).exists(s=>{const l=e?0:-1;return t(s.data.charAt(n.offset()+l))}),qg=yt(DD,!0,Zb),Yy=yt(DD,!1,Zb),RD=e=>{const t=e.container();return Mt(t)&&(t.data.length===0||hc(t.data)&&Sr.isBookmarkNode(t.parentNode))},xd=(e,t)=>n=>l_(e?0:-1,n).filter(t).isSome(),WE=e=>ac(e)&&Es(Re.fromDom(e),"display")==="block",j_=e=>Qn(e)&&!Y0(e),ND=xd(!0,WE),ID=xd(!1,WE),n0=xd(!0,pt),tv=xd(!1,pt),BD=xd(!0,Fc),nv=xd(!1,Fc),ha=xd(!0,j_),Cf=xd(!1,j_),o0=e=>e.slice(0,-1),MD=(e,t,n)=>Ha(t,e)?o0(Xf(e,s=>n(s)||Po(s,t))):[],$l=(e,t)=>MD(e,t,En),wc=(e,t)=>[e].concat($l(e,t)),K_=(e,t,n)=>o5(e,t,n,RD),PD=e=>t=>e.isBlock(Mo(t)),ZE=(e,t,n)=>vn(wc(Re.fromDom(t.container()),e),PD(n)),ov=(e,t,n,s)=>K_(e,t.dom,n).forall(l=>ZE(t,n,s).fold(()=>!km(l,n,t.dom),f=>!km(l,n,t.dom)&&Ha(f,Re.fromDom(l.container())))),q_=(e,t,n,s)=>ZE(t,n,s).fold(()=>K_(e,t.dom,n).forall(l=>!km(l,n,t.dom)),l=>K_(e,l.dom,n).isNone()),G_=yt(q_,!1),LD=yt(q_,!0),jE=yt(ov,!1),KE=yt(ov,!0),G7=e=>c_(e).exists(_u),Du=(e,t,n,s)=>{const l=xt(wc(Re.fromDom(n.container()),t),g=>s.isBlock(Mo(g))),f=ln(l).getOr(t);return qc(e,f.dom,n).filter(G7)},Xy=(e,t,n)=>c_(t).exists(_u)||Du(!0,e,t,n).isSome(),r0=(e,t,n)=>XM(t).exists(_u)||Du(!1,e,t,n).isSome(),Y_=yt(Du,!1),FD=yt(Du,!0),qE=e=>dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),GE=(e,t,n)=>{const s=xt(wc(Re.fromDom(t.container()),e),l=>n.isBlock(Mo(l)));return ln(s).getOr(e)},zD=(e,t,n)=>qE(t)?Yy(t):Yy(t)||bc(GE(e,t,n).dom,t).exists(Yy),HD=(e,t,n)=>qE(t)?qg(t):qg(t)||El(GE(e,t,n).dom,t).exists(qg),$D=e=>le(["pre","pre-wrap"],e),X_=e=>c_(e).bind(t=>Gs(t,ks)).exists(t=>$D(Es(t,"white-space"))),YE=(e,t)=>bc(e.dom,t).isNone(),XE=(e,t)=>El(e.dom,t).isNone(),VD=(e,t,n)=>YE(e,t)||XE(e,t)||G_(e,t,n)||LD(e,t,n)||r0(e,t,n)||Xy(e,t,n),JE=e=>Ee(e)&&Qn(e)&&Wk(e),QE=(e,t)=>n=>JE(new Ua(n,e)[t]()),UD=(e,t)=>{const n=El(e.dom,t).getOr(t),s=QE(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},e3=(e,t)=>{const n=bc(e.dom,t).getOr(t),s=QE(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},t3=(e,t,n)=>X_(t)?!1:VD(e,t,n)||zD(e,t,n)||HD(e,t,n),rv=(e,t,n)=>X_(t)?!1:G_(e,t,n)||jE(e,t,n)||r0(e,t,n)||zD(e,t,n)||e3(e,t),WD=e=>{const t=e.container(),n=e.offset();return Mt(t)&&n<t.data.length?dt(t,n+1):e},s0=(e,t,n)=>X_(t)?!1:LD(e,t,n)||KE(e,t,n)||Xy(e,t,n)||HD(e,t,n)||UD(e,t),n3=(e,t,n)=>rv(e,t,n)||s0(e,WD(t),n),Jy=(e,t)=>Vi(e.charAt(t)),o3=(e,t)=>Zb(e.charAt(t)),ZD=e=>{const t=e.container();return Mt(t)&&fr(t.data,ua)},Y7=e=>{const t=e.split("");return Ie(t,(n,s)=>Vi(n)&&s>0&&s<t.length-1&&$g(t[s-1])&&$g(t[s+1])?" ":n).join("")},jD=(e,t,n,s)=>{const l=t.data,f=dt(t,0);return!n&&Jy(l,0)&&!n3(e,f,s)?(t.data=" "+l.slice(1),!0):n&&o3(l,0)&&rv(e,f,s)?(t.data=ua+l.slice(1),!0):!1},KD=e=>{const t=e.data,n=Y7(t);return n!==t?(e.data=n,!0):!1},qD=(e,t,n,s)=>{const l=t.data,f=dt(t,l.length-1);return!n&&Jy(l,l.length-1)&&!n3(e,f,s)?(t.data=l.slice(0,-1)+" ",!0):n&&o3(l,l.length-1)&&s0(e,f,s)?(t.data=l.slice(0,-1)+ua,!0):!1},GD=(e,t,n)=>{const s=t.container();if(!Mt(s))return J.none();if(ZD(t)){const l=jD(e,s,!1,n)||KD(s)||qD(e,s,!1,n);return lg(l,t)}else if(n3(e,t,n)){const l=jD(e,s,!0,n)||qD(e,s,!0,n);return lg(l,t)}else return J.none()},X7=e=>{const t=Re.fromDom(e.getBody());e.selection.isCollapsed()&&GD(t,dt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},YD=(e,t,n,s)=>{if(n===0)return;const l=Re.fromDom(e),f=Mi(l,F=>s.isBlock(Mo(F))).getOr(l),g=e.data.slice(t,t+n),_=t+n>=e.data.length&&s0(f,dt(e,e.data.length),s),A=t===0&&rv(f,dt(e,0),s);e.replaceData(t,n,Gp(g,4,A,_))},J_=(e,t,n)=>{const s=e.data.slice(t),l=s.length-at(s).length;YD(e,t,l,n)},ws=(e,t,n)=>{const s=e.data.slice(0,t),l=s.length-nt(s).length;YD(e,t-l,l,n)},Qy=(e,t,n,s,l=!0)=>{const f=nt(e.data).length,g=l?e:t,_=l?t:e;return l?g.appendData(_.data):g.insertData(0,_.data),lr(Re.fromDom(_)),s&&J_(g,f,n),g},J7=(e,t)=>{const n=e.container(),s=e.offset();return!dt.isTextPosition(e)&&n===t.parentNode&&s>dt.before(t).offset()},Q7=(e,t)=>J7(t,e)?dt(t.container(),t.offset()-1):t,sv=e=>Mt(e)?dt(e,0):dt.before(e),ep=e=>Mt(e)?dt(e,e.data.length):dt.after(e),Nm=e=>Uc(e.previousSibling)?J.some(ep(e.previousSibling)):e.previousSibling?Su(e.previousSibling):J.none(),r3=e=>Uc(e.nextSibling)?J.some(sv(e.nextSibling)):e.nextSibling?Un(e.nextSibling):J.none(),XD=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>bc(e,dt.before(n))).orThunk(()=>El(e,dt.after(t))),JD=(e,t)=>El(e,dt.after(t)).orThunk(()=>bc(e,dt.before(t))),Q_=(e,t)=>Nm(t).orThunk(()=>r3(t)).orThunk(()=>XD(e,t)),eP=(e,t)=>r3(t).orThunk(()=>Nm(t)).orThunk(()=>JD(e,t)),s3=(e,t,n)=>e?eP(t,n):Q_(t,n),QD=(e,t,n)=>s3(e,t,n).map(yt(Q7,n)),a3=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},i3=e=>t=>t.dom===e,eR=(e,t)=>t&&Gn(e.schema.getBlockElements(),Mo(t)),l3=(e,t,n)=>{if(Os(e,t)){const s=Re.fromHtml('<br data-mce-bogus="1">');return n?me(Va(t),l=>{y_(l)||lr(l)}):Mr(t),As(t,s),J.some(dt.before(s.dom))}else return J.none()},tP=(e,t,n,s)=>{const l=ta(e).filter(Wr),f=Bn(e).filter(Wr);return lr(e),zd(l,f,t,(g,_,A)=>{const F=g.dom,j=_.dom,q=F.data.length;return Qy(F,j,n,s),A.container()===j?dt(F,q):A}).orThunk(()=>(s&&(l.each(g=>ws(g.dom,g.dom.length,n)),f.each(g=>J_(g.dom,0,n))),t))},nP=(e,t)=>Gn(e.schema.getTextInlineElements(),Mo(t)),al=(e,t,n,s=!0,l=!1)=>{const f=QD(t,e.getBody(),n.dom),g=Mi(n,yt(eR,e),i3(e.getBody())),_=tP(n,f,e.schema,nP(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>l3(e.schema,A,l)).fold(()=>{s&&a3(e,t,_)},A=>{s&&a3(e,t,J.some(A))})},tR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,oP=e=>tR.test(e),a0=(e,t)=>mr(Re.fromDom(t),Ho(e))&&!ef(e.schema,t)&&e.dom.isEditable(t),e2=e=>{var t;return Ar.DOM.getStyle(e,"direction",!0)==="rtl"||oP((t=e.textContent)!==null&&t!==void 0?t:"")},rP=(e,t,n)=>xt(Ar.DOM.getParents(n.container(),"*",t),e),tp=(e,t,n)=>{const s=rP(e,t,n);return J.from(s[s.length-1])},nR=(e,t,n)=>{const s=$h(t,e),l=$h(n,e);return Ee(s)&&s===l},c3=e=>Sb(e)||S1(e),Ru=(e,t)=>{const n=t.container(),s=t.offset();return e?vm(n)?Mt(n.nextSibling)?dt(n.nextSibling,0):dt.after(n):Sb(t)?dt(n,s+1):t:vm(n)?Mt(n.previousSibling)?dt(n.previousSibling,n.previousSibling.data.length):dt.before(n):S1(t)?dt(n,s-1):t},oR=yt(Ru,!0),av=yt(Ru,!1),u3=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},rR=e=>{e.execCommand("delete")},eC=e=>u3(e,"Delete"),d3=e=>u3(e,"ForwardDelete"),t2=e=>t=>Ld($a(t),e,Po),sR=e=>wb(e)||bm(e),n2=(e,t)=>Ha(e,t)?Gs(t,sR,t2(e)):J.none(),tC=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},aR=(e,t,n)=>Fa(Un(n),Su(n),(s,l)=>{const f=Ru(!0,s),g=Ru(!1,l),_=Ru(!1,t);return e?El(n,_).exists(A=>A.isEqual(g)&&t.isEqual(f)):bc(n,_).exists(A=>A.isEqual(f)&&t.isEqual(g))}).getOr(!0),yd=e=>(fg(e)?ta(e):gu(e)).bind(yd).orThunk(()=>J.some(e)),nC=(e,t,n,s=!0)=>{var l;t.deleteContents();const f=yd(n).getOr(n),g=Re.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:n.dom);if(g.dom===e.getBody()?tC(e,s):Os(e.schema,g,{checkRootAsContent:!1})&&(gc(g),s&&e.selection.setCursorLocation(g.dom,0)),!Po(n,g)){const _=Ld($a(g),n)?[]:Up(g);me(_.concat(Va(n)),A=>{!Po(A,g)&&!Ha(A,g)&&Os(e.schema,A)&&lr(A)})}},sP=e=>t=>Po(e,t),f3=e=>Ys(e,"td,th"),sr=(e,t)=>hr(Re.fromDom(e),t),aP=e=>Fa(e.startTable,e.endTable,(t,n)=>{const s=G0(t,f=>Po(f,n)),l=G0(n,f=>Po(f,t));return!s&&!l?e:{...e,startTable:s?J.none():e.startTable,endTable:l?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),o2=e=>aP(e),iP=(e,t)=>{const n=sr(e.startContainer,t),s=sr(e.endContainer,t),l=n.isSome(),f=s.isSome(),g=Fa(n,s,Po).getOr(!1);return o2({startTable:n,endTable:s,isStartInTable:l,isEndInTable:f,isSameTable:g,isMultiTable:!g&&l&&f})},oC=(e,t)=>({start:e,end:t}),np=(e,t,n)=>({rng:e,table:t,cells:n}),Ui=Bo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),op=(e,t)=>Sa(Re.fromDom(e),"td,th",t),Gg=e=>!Po(e.start,e.end),Sf=(e,t)=>hr(e.start,t).bind(n=>hr(e.end,t).bind(s=>lg(Po(n,s),n))),r2=(e,t)=>!Gg(e)&&Sf(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),m3=(e,t)=>{const n=op(e.startContainer,t),s=op(e.endContainer,t);return Fa(n,s,oC)},g3=e=>t=>hr(t,e).bind(n=>mo(f3(n)).map(s=>oC(t,s))),iR=e=>t=>hr(t,e).bind(n=>ln(f3(n)).map(s=>oC(s,t))),rC=e=>t=>Sf(t,e).map(n=>np(t,n,f3(n))),lR=(e,t,n,s)=>{if(n.collapsed||!e.forall(Gg))return J.none();if(t.isSameTable){const l=e.bind(rC(s));return J.some({start:l,end:l})}else{const l=op(n.startContainer,s),f=op(n.endContainer,s),g=l.bind(g3(s)).bind(rC(s)),_=f.bind(iR(s)).bind(rC(s));return J.some({start:g,end:_})}},cR=(e,t)=>xn(e,n=>Po(n,t)),sC=e=>Fa(cR(e.cells,e.rng.start),cR(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),uR=(e,t,n)=>e.exists(s=>r2(s,n)&&yy(s.start,t)),h3=(e,t)=>{const{startTable:n,endTable:s}=t,l=e.cloneRange();return n.each(f=>l.setStartAfter(f.dom)),s.each(f=>l.setEndBefore(f.dom)),l},dR=(e,t,n,s)=>lR(e,t,n,s).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=t,g=sC(l).getOr([]);if(f&&l.cells.length===g.length)return J.some(Ui.fullTable(l.table));if(g.length>0){if(f)return J.some(Ui.partialTable(g,J.none()));{const _=h3(n,t);return J.some(Ui.partialTable(g,J.some({...t,rng:_})))}}else return J.none()}),p3=(e,t,n,s)=>lR(e,t,n,s).bind(({start:l,end:f})=>{const g=l.bind(sC).getOr([]),_=f.bind(sC).getOr([]);if(g.length>0&&_.length>0){const A=h3(n,t);return J.some(Ui.multiTable(g,_,A))}else return J.none()}),lP=(e,t)=>{const n=sP(e),s=m3(t,n),l=iP(t,n);return uR(s,t,n)?s.map(f=>Ui.singleCellTable(t,f.start)):l.isMultiTable?p3(s,l,t,n):dR(s,l,t,n)},fR=e=>me(e,t=>{go(t,"contenteditable"),gc(t)}),cP=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Re.fromDom),Im=(e,t,n)=>{n.each(s=>{t?lr(s):(gc(s),e.selection.setCursorLocation(s.dom,0))})},i0=(e,t,n,s)=>{const l=n.cloneRange();s?(l.setStart(n.startContainer,n.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(n.endContainer,n.endOffset)),x3(e,l,t,!1).each(f=>f())},b3=e=>{const t=xf(e),n=Re.fromDom(e.selection.getNode());_h(n.dom)&&Os(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&ve(t,s=>Po(s,n))&&ea(n,"data-mce-selected","1")},v3=(e,t,n)=>J.some(()=>{const s=e.selection.getRng(),l=n.bind(({rng:f,isStartInTable:g})=>{const _=cP(e,g?f.endContainer:f.startContainer);f.deleteContents(),Im(e,g,_.filter(yt(Os,e.schema)));const A=g?t[0]:t[t.length-1];return i0(e,A,s,g),Os(e.schema,A)?J.none():J.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);fR(l),b3(e)}),mR=(e,t,n,s)=>J.some(()=>{const l=e.selection.getRng(),f=t[0],g=n[n.length-1];i0(e,f,l,!0),i0(e,g,l,!1);const _=Os(e.schema,f)?t:t.slice(1),A=Os(e.schema,g)?n:n.slice(0,-1);fR(_.concat(A)),s.deleteContents(),b3(e)}),x3=(e,t,n,s=!0)=>J.some(()=>{nC(e,t,n,s)}),rp=(e,t)=>J.some(()=>al(e,!1,t)),uP=(e,t,n)=>lP(t,n).bind(s=>s.fold(yt(x3,e),yt(rp,e),yt(v3,e),yt(mR,e))),dP=(e,t)=>aC(e,t),fP=(e,t,n,s)=>y3(t,s).fold(()=>uP(e,t,n),l=>dP(e,l)),mP=(e,t,n)=>{const s=Re.fromDom(e.getBody()),l=e.selection.getRng();return n.length!==0?v3(e,n,J.none()):fP(e,s,l,t)},gR=(e,t)=>vn(wc(t,e),mc),y3=(e,t)=>vn(wc(t,e),Vd("caption")),gP=(e,t,n,s,l)=>Ub(n,e.getBody(),l).bind(f=>gR(t,Re.fromDom(f.getNode())).bind(g=>Po(g,s)?J.none():J.some(Jt))),aC=(e,t)=>J.some(()=>{gc(t),e.selection.setCursorLocation(t.dom,0)}),hP=(e,t,n,s)=>Un(e.dom).bind(l=>Su(e.dom).map(f=>t?n.isEqual(l)&&s.isEqual(f):n.isEqual(f)&&s.isEqual(l))).getOr(!0),iC=(e,t)=>aC(e,t),pP=(e,t,n)=>y3(e,Re.fromDom(n.getNode())).fold(()=>J.some(Jt),s=>lg(!Po(s,t),Jt)),s2=(e,t,n,s,l)=>Ub(n,e.getBody(),l).fold(()=>J.some(Jt),f=>hP(s,n,l,f)?iC(e,s):pP(t,s,f)),w3=(e,t,n,s)=>{const l=dt.fromRangeStart(e.selection.getRng());return gR(n,s).bind(f=>Os(e.schema,f,{checkRootAsContent:!1})?aC(e,f):gP(e,n,t,f,l))},l0=(e,t,n,s)=>{const l=dt.fromRangeStart(e.selection.getRng());return Os(e.schema,s)?aC(e,s):s2(e,n,t,s,l)},sp=(e,t)=>e?BD(t):nv(t),lC=(e,t)=>{const n=dt.fromRangeStart(e.selection.getRng());return sp(t,n)||qc(t,e.getBody(),n).exists(s=>sp(t,s))},cC=(e,t,n)=>{const s=Re.fromDom(e.getBody());return y3(s,n).fold(()=>w3(e,t,s,n).orThunk(()=>lg(lC(e,t),Jt)),l=>l0(e,t,s,l))},Yg=(e,t)=>{const n=Re.fromDom(e.selection.getStart(!0)),s=xf(e);return e.selection.isCollapsed()&&s.length===0?cC(e,t,n):mP(e,n,s)},Nu=(e,t)=>{let n=t;for(;n&&n!==e;){if(ic(n)||Qn(n))return n;n=n.parentNode}return null},uC=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],dC=Zt.each,fC=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(f,g)=>{if(f.nodeName!==g.nodeName||f.nodeType!==g.nodeType)return!1;const _=F=>{const j={};return dC(t.getAttribs(F),q=>{const X=q.nodeName.toLowerCase();X!=="style"&&!l(X)&&(j[X]=t.getAttrib(F,X))}),j},A=(F,j)=>{for(const q in F)if(Gn(F,q)){const X=j[q];if(Ye(X)||F[q]!==X)return!1;delete j[q]}for(const q in j)if(Gn(j,q))return!1;return!0};return bn(f)&&bn(g)&&(!A(_(f),_(g))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!Yc(f)&&!Yc(g)},l=f=>ve(uC,g=>Ur(f,g))||n.has(f);return{compare:s,isAttributeInternal:l}},mC=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),_3=e=>e.name==="summary",hR=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},C3=(e,t,n,s)=>{const l=n.name;for(let f=0,g=e.length;f<g;f++){const _=e[f];if(_.name===l){const A=s.nodes[l];A?A.nodes.push(n):s.nodes[l]={filter:_,nodes:[n]}}}if(n.attributes)for(let f=0,g=t.length;f<g;f++){const _=t[f],A=_.name;if(A in n.attributes.map){const F=s.attributes[A];F?F.nodes.push(n):s.attributes[A]={filter:_,nodes:[n]}}}},iv=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&hR(n,l=>{C3(e,t,l,s)}),s},S3=(e,t)=>{const n=(s,l)=>{Vo(s,f=>{const g=so(f.nodes);me(f.filter.callbacks,_=>{for(let A=g.length-1;A>=0;A--){const F=g[A];(!(l?F.attr(f.filter.name)!==void 0:F.name===f.filter.name)||mt(F.parent))&&g.splice(A,1)}g.length>0&&_(g,f.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},k3=(e,t,n,s={})=>{const l=iv(e,t,n);S3(l,s)},gC=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const f=new ci("br",1);t.insert&&f.attr("data-mce-bogus","1"),s.empty().append(f)}else s.empty().append(new ci("#text",3)).value=ua},hC=e=>{var t;return E3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===ua},E3=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ee(n)&&n===e.lastChild&&n.name===t},pR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},lv=(e,t,n,s)=>s.isEmpty(t,n,l=>pR(e,l)),bR=(e,t)=>Ee(e)&&(t(e)||e.name==="br"),Xg=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return J.from(t)},Bm=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const l of s)n&&!t.isValidChild(n.name,l.name)&&Bm(l,t,n);e.unwrap()}},Jc=(e,t,n,s=Jt)=>{const l=t.getTextBlockElements(),f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),_=Zt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,F=j=>j!==n&&!_[j.name];for(let j=0;j<e.length;j++){const q=e[j];let X,ue,xe;if(!q.parent||A.has(q))continue;if(l[q.name]&&q.parent.name==="li"){let Ce=q.next;for(;Ce&&l[Ce.name];){Ce.name="li",A.add(Ce),q.parent.insert(Ce,q.parent);Ce=Ce.next}q.unwrap();continue}const de=[q];for(X=q.parent;X&&!t.isValidChild(X.name,q.name)&&F(X);X=X.parent)de.push(X);if(X&&de.length>1)if(a2(t,q,X))Bm(q,t);else{de.reverse(),ue=de[0].clone(),s(ue);let Ce=ue;for(let ze=0;ze<de.length-1;ze++){t.isValidChild(Ce.name,de[ze].name)&&ze>0?(xe=de[ze].clone(),s(xe),Ce.append(xe)):xe=Ce;for(let je=de[ze].firstChild;je&&je!==de[ze+1];){const Ue=je.next;xe.append(je),je=Ue}Ce=xe}lv(t,f,g,ue)?X.insert(q,de[0],!0):(X.insert(ue,de[0],!0),X.insert(q,ue)),X=de[0],(lv(t,f,g,X)||E3(X,"br"))&&X.empty().remove()}else if(q.parent){if(q.name==="li"){let Ce=q.prev;if(Ce&&(Ce.name==="ul"||Ce.name==="ol")){Ce.append(q);continue}if(Ce=q.next,Ce&&(Ce.name==="ul"||Ce.name==="ol")&&Ce.firstChild){Ce.insert(q,Ce.firstChild,!0);continue}const ze=new ci("ul",1);s(ze),q.wrap(ze);continue}if(t.isValidChild(q.parent.name,"div")&&t.isValidChild("div",q.name)){const Ce=new ci("div",1);s(Ce),q.wrap(Ce)}else Bm(q,t)}}},A3=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},a2=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&A3(n,"a")?!0:_3(n)&&mC(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,vR=(e,t,n,s)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(n,s),l},xR=e=>{const t=dt.fromRangeStart(e),n=dt.fromRangeEnd(e),s=e.commonAncestorContainer;return qc(!1,s,n).map(l=>!km(t,n,s)&&km(t,l,s)?vR(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},pC=e=>e.collapsed?e:xR(e),T3=e=>Ee(e.firstChild)&&e.firstChild===e.lastChild,yR=e=>e.name==="br"||e.value===ua,wR=(e,t)=>e.getBlockElements()[t.name]&&T3(t)&&yR(t.firstChild),O3=(e,t)=>{const n=e.getNonEmptyElements();return Ee(t)&&(t.isEmpty(n)||wR(e,t))},Mm=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),O3(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},wd=e=>{var t,n;const s=e.firstChild,l=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),l&&l.id==="mce_marker"&&((n=l.parentNode)===null||n===void 0||n.removeChild(l)),e},bC=(e,t,n)=>{const s=t.serialize(n),l=e.createFragment(s);return wd(l)},_R=e=>{var t;return xt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},vC=e=>e.data===ua||Xr(e),CR=e=>Ee(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&vC(e.firstChild),SR=e=>!e.firstChild||CR(e),kR=e=>e.length>0&&SR(e[e.length-1])?e.slice(0,-1):e,xC=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},ER=(e,t)=>!!xC(e,t),AR=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},yC=(e,t)=>{const n=dt.before(e),l=Fn(t).next(n);return l?l.toRange():null},wC=(e,t)=>{const n=dt.after(e),l=Fn(t).prev(n);return l?l.toRange():null},TR=(e,t,n,s)=>{const l=AR(e,s),f=e.parentNode;return f&&(f.insertBefore(l[0],e),Zt.each(t,g=>{f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e)),wC(t[t.length-1],n)},D3=(e,t,n)=>{const s=e.parentNode;return s&&Zt.each(t,l=>{s.insertBefore(l,e)}),yC(e,n)},bP=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),wC(t[0],n)),vP=(e,t,n,s)=>{const l=bC(t,e,s),f=xC(t,n.startContainer),g=kR(_R(l.firstChild)),_=1,A=2,F=t.getRoot(),j=q=>{const X=dt.fromRangeStart(n),ue=Fn(t.getRoot()),xe=q===_?ue.prev(X):ue.next(X),de=xe==null?void 0:xe.getNode();return de?xC(t,de)!==f:!0};return f?j(_)?D3(f,g,F):j(A)?bP(f,g,F,t):TR(f,g,F,n):null},xP=["pre"],yP=(e,t,n,s)=>{var l;const f=t.firstChild,g=t.lastChild,_=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=f===_,F=le(xP,f.name);if(A&&F){const j=f.attr("contenteditable")!=="false",q=((l=e.getParent(n,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=J.from(Nu(s,n)).forall(ic);return j&&q&&X}else return!1},R3=_h,wP=(e,t,n)=>{if(Ee(n)){const s=e.getParent(t.endContainer,R3);return n===s&&yy(Re.fromDom(n),t)}else return!1},_C=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const l=n.firstChild,f=n.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},N3=(e,t,n)=>{J.from(e.getParent(t,"td,th")).map(Re.fromDom).each(s=>Wx(s,n))},OR=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const l=e.getBody(),f=fC(e),g="*[data-mce-fragment]",_=s.select(g);Zt.each(_,A=>{const F=X=>Ee(n[X.nodeName.toLowerCase()]),j=X=>X.childNodes.length===1;if((X=>!(UE(s,X)||OD(s,X)))(A)&&F(A)&&j(A)){const X=t0(s,A),ue=(ze,je)=>po(ze,Ue=>le(je,Ue)),xe=ze=>j(A)&&s.is(ze,g)&&F(ze)&&(ze.nodeName===A.nodeName&&ue(X,t0(s,ze))||xe(ze.children[0])),de=ze=>Ee(ze)&&ze!==l&&(f.compare(A,ze)||de(ze.parentElement)),Ce=ze=>Ee(ze)&&ze!==l&&s.is(ze,g)&&(q7(s,A,ze)||Ce(ze.parentElement));(xe(A.children[0])||de(A.parentElement)&&!Ce(A.parentElement))&&s.remove(A,!0)}})}},I3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},_P=e=>{Zt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},CP=e=>!!e.getAttribute("data-mce-fragment"),SP=(e,t)=>Ee(t)&&!e.schema.getVoidElements()[t.nodeName],kP=(e,t)=>{var n,s,l;let f;const g=e.dom,_=e.selection;if(!t)return;_.scrollIntoView(t);const A=Nu(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),_.select(A);return}let F=g.createRng();const j=t.previousSibling;if(Mt(j)){F.setStart(j,(s=(n=j.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const ue=t.nextSibling;Mt(ue)&&(j.appendData(ue.data),(l=ue.parentNode)===null||l===void 0||l.removeChild(ue))}else F.setStartBefore(t),F.setEndBefore(t);const q=ue=>{let xe=dt.fromRangeStart(ue);return xe=Fn(e.getBody()).next(xe),xe==null?void 0:xe.toRange()},X=g.getParent(t,g.isBlock);if(g.remove(t),X&&g.isEmpty(X)){const ue=R3(X);Mr(Re.fromDom(X)),F.setStart(X,0),F.setEnd(X,0),!ue&&!CP(X)&&(f=q(F))?(F=f,g.remove(X)):g.add(X,g.create("br",ue?{}:{"data-mce-bogus":"1"}))}_.setRng(F)},EP=e=>{const t=e.dom,n=pC(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,R3);wP(t,n,s)?x3(e,n,Re.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Mt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},AP=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},CC=(e,t,n)=>{var s;return ve(n.children(),mC)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},SC=(e,t,n)=>{var s,l;const f=e.selection,g=e.dom,_=e.parser,A=n.merge,F=Kg({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=rl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let q=f.getRng();const X=q.startContainer,ue=e.getBody();X===ue&&f.isCollapsed()&&g.isBlock(ue.firstChild)&&SP(e,ue.firstChild)&&g.isEmpty(ue.firstChild)&&(q=g.createRng(),q.setStart(ue.firstChild,0),q.setEnd(ue.firstChild,0),f.setRng(q)),f.isCollapsed()||EP(e);const xe=f.getNode(),de={context:xe.nodeName.toLowerCase(),data:n.data,insert:!0},Ce=_.parse(t,de);if(n.paste===!0&&Mm(e.schema,Ce)&&ER(g,xe))return q=vP(F,g,f.getRng(),Ce),q&&f.setRng(q),t;n.paste===!0&&yP(g,Ce,xe,e.getBody())&&((s=Ce.firstChild)===null||s===void 0||s.unwrap()),I3(Ce);let ze=Ce.lastChild;if(ze&&ze.attr("id")==="mce_marker"){const je=ze;for(ze=ze.prev;ze;ze=ze.walk(!0))if(ze.type===3||!g.isBlock(ze.name)){ze.parent&&e.schema.isValidChild(ze.parent.name,"span")&&ze.parent.insert(je,ze,ze.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(xe),!de.invalid&&!CC(g,xe,Ce))t=F.serialize(Ce),_C(e,t,xe);else{e.selection.setContent(j);let je=f.getNode(),Ue;const rt=e.getBody();for(wn(je)?je=Ue=rt:Ue=je;Ue&&Ue!==rt;)je=Ue,Ue=Ue.parentNode;t=je===rt?rt.innerHTML:g.getOuterHTML(je);const Rt=_.parse(t),Wt=AP(Rt),cn=Wt.bind(Xg).getOr(Rt);Wt.each(gn=>gn.replace(Ce));const bt=Ce.children(),ct=(l=Ce.parent)!==null&&l!==void 0?l:Rt;Ce.unwrap();const Ot=xt(bt,gn=>a2(e.schema,gn,ct));Jc(Ot,e.schema,cn),k3(_.getNodeFilters(),_.getAttributeFilters(),Rt),t=F.serialize(Rt),je===rt?g.setHTML(rt,t):g.setOuterHTML(je,t)}return OR(e,A),kP(e,g.get("mce_marker")),_P(e.getBody()),N3(g,f.getStart(),e.schema),id(e.schema,e.getBody(),f.getStart()),t},c0=e=>e instanceof ci,TP=e=>{X1(e)&&Un(e.getBody()).each(t=>{const n=t.getNode(),s=Fc(n)?Un(n).getOr(t):t;e.selection.setRng(s.toRange())})},B3=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&TP(e)},OP=(e,t,n,s)=>{if(n=rl(n),n.length===0||/^\s+$/.test(n)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+l+"</li>");const f=$i(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(n=l,n=e.dom.createHTML(f,ny(e),n)):n||(n=l),B3(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Kg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const l=Cb(Re.fromDom(t))?n:Zt.trim(n);return B3(e,l,s.no_selection),{content:l,html:l}}},DP=(e,t,n,s)=>{k3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const l=Kg({validate:!1},e.schema).serialize(n),f=rl(Cb(Re.fromDom(t))?l:Zt.trim(l));return B3(e,f,s.no_selection),{content:n,html:f}},RP=(e,t,n)=>J.from(e.getBody()).map(s=>c0(t)?DP(e,s,t,n):OP(e,s,t,n)).getOr({content:t,html:c0(n.content)?"":n.content}),DR=e=>Ne(e)?e:En,_d=(e,t,n)=>{let s=e.dom;const l=DR(n);for(;s.parentNode;){s=s.parentNode;const f=Re.fromDom(s),g=t(f);if(g.isSome())return g;if(l(f))break}return J.none()},i2=(e,t,n)=>{const s=t(e),l=DR(n);return s.orThunk(()=>l(e)?J.none():_d(e,t,l))},kC=K1,M3=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let l=0;l<s.length;l++){const f=s[l];if(vc(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},EC=(e,t,n,s,l)=>{const f=e.dom.getRoot();if(t===f)return!1;const g=e.dom.getParent(t,_=>M3(e,_,n)?!0:_.parentNode===f||!!Pm(e,_,n,s,!0));return!!Pm(e,g,n,s,l)},AC=(e,t,n)=>Ga(n)&&kC(t,n.inline)||yf(n)&&kC(t,n.block)?!0:vc(n)?bn(t)&&e.is(t,n.selector):!1,P3=(e,t,n,s,l,f)=>{const g=n[s],_=s==="attributes";if(Ne(n.onmatch))return n.onmatch(t,n,s);if(g){if(Qt(g)){for(let A=0;A<g.length;A++)if(_?e.getAttrib(t,g[A]):_y(e,t,g[A]))return!0}else for(const A in g)if(Gn(g,A)){const F=_?e.getAttrib(t,A):_y(e,t,A),j=Vg(g[A],f),q=mt(F)||Pt(F);if(q&&mt(j))continue;if(l&&q&&!n.exact||(!l||n.exact)&&!kC(F,b_(j,A)))return!1}}return!0},Pm=(e,t,n,s,l)=>{const f=e.formatter.get(n),g=e.dom;if(f&&bn(t))for(let _=0;_<f.length;_++){const A=f[_];if(AC(e.dom,t,A)&&P3(g,t,A,"attributes",l,s)&&P3(g,t,A,"styles",l,s)){const F=A.classes;if(F){for(let j=0;j<F.length;j++)if(!e.dom.hasClass(t,Vg(F[j],s)))return}return A}}},ap=(e,t,n,s,l)=>{if(s)return EC(e,s,t,n,l);if(s=e.selection.getNode(),EC(e,s,t,n,l))return!0;const f=e.selection.getStart();return!!(f!==s&&EC(e,f,t,n,l))},RR=(e,t,n)=>{const s=[],l={},f=e.selection.getStart();return e.dom.getParent(f,g=>{for(let _=0;_<t.length;_++){const A=t[_];!l[A]&&Pm(e,g,A,n)&&(l[A]=!0,s.push(A))}},e.dom.getRoot()),s},NR=(e,t)=>{const n=l=>Po(l,Re.fromDom(e.getBody())),s=(l,f)=>Pm(e,l.dom,f)?J.some(f):J.none();return J.from(e.selection.getStart(!0)).bind(l=>i2(Re.fromDom(l),f=>zr(t,g=>s(f,g)),n)).getOrNull()},IR=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const l=e.selection.getStart(),f=Cy(s,l);for(let g=n.length-1;g>=0;g--){const _=n[g];if(!vc(_))return!0;for(let A=f.length-1;A>=0;A--)if(s.is(f[A],_.selector))return!0}}return!1},L3=(e,t,n)=>It(n,(s,l)=>{const f=y5(e,l);return e.formatter.matchNode(t,l,{},f)?s.concat([l]):s},[]),l2=oa,NP=(e,t)=>e.importNode(t,!0),BR=e=>{if(e){const t=new Ua(e,e);for(let n=t.current();n;n=t.next())if(Mt(n))return n}return null},Lm=e=>{const t=Re.fromTag("span");return pi(t,{id:V1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&As(t,Re.fromText(l2)),t},F3=e=>{const t=BR(e);return t&&t.data.charAt(0)===l2&&t.deleteData(0,1),t},z3=(e,t,n)=>{const s=e.dom,l=e.selection;if(iE(t))al(e,!1,Re.fromDom(t),n,!0);else{const f=l.getRng(),g=s.getParent(t,s.isBlock),_=f.startContainer,A=f.startOffset,F=f.endContainer,j=f.endOffset,q=F3(t);s.remove(t,!0),_===q&&A>0&&f.setStart(q,A-1),F===q&&j>0&&f.setEnd(q,j-1),g&&s.isEmpty(g)&&gc(Re.fromDom(g)),l.setRng(f)}},H3=(e,t,n)=>{const s=e.dom,l=e.selection;if(t)z3(e,t,n);else if(t=Vh(e.getBody(),l.getStart()),!t)for(;t=s.get(V1);)z3(e,t,n)},u0=(e,t,n)=>{var s,l;const f=e.dom,g=f.getParent(n,yt(p_,e.schema));g&&f.isEmpty(g)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Fl(Re.fromDom(n)),f.isEmpty(n)?(l=n.parentNode)===null||l===void 0||l.replaceChild(t,n):f.insertAfter(t,n))},$3=(e,t)=>(e.appendChild(t),t),c2=(e,t)=>{var n;const s=Ft(e,(f,g)=>$3(f,g.cloneNode(!1)),t),l=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return $3(s,l.createTextNode(l2))},IP=(e,t,n,s,l,f)=>{const g=e.formatter,_=e.dom,A=xt(Ht(g.get()),q=>q!==s&&!fr(q,"removeformat")),F=L3(e,n,A);if(xt(F,q=>!w5(e,q,s)).length>0){const q=n.cloneNode(!1);return _.add(t,q),g.remove(s,l,q,f),_.remove(q),J.some(q)}else return J.none()},MR=e=>vb(e,pm(e).replace(new RegExp(`${ua}$`)," ")),V3=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&ta(Re.fromDom(t)).each(s=>{Wr(s)?MR(s):Ca(s,l=>Wr(l)).each(l=>{Wr(l)&&MR(l)})})};e.once("input",s=>{s.data&&!Zb(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},Jg=(e,t,n)=>{let s;const l=e.selection,f=e.formatter.get(t);if(!f)return;const g=l.getRng();let _=g.startOffset;const F=g.startContainer.nodeValue;s=Vh(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&_>0&&_<F.length&&j.test(F.charAt(_))&&j.test(F.charAt(_-1))){const q=l.getBookmark();g.collapse(!0);let X=Zh(e.dom,g,f);X=zy(X),e.formatter.apply(t,n,X),l.moveToBookmark(q)}else{let q=s?BR(s):null;(!s||(q==null?void 0:q.data)!==l2)&&(s=NP(e.getDoc(),Lm(!0).dom),q=s.firstChild,g.insertNode(s),_=1,V3(e,s)),e.formatter.apply(t,n,s),l.setCursorLocation(q,_)}},U3=(e,t,n,s)=>{const l=e.dom,f=e.selection;let g=!1;const _=e.formatter.get(t);if(!_)return;const A=f.getRng(),F=A.startContainer,j=A.startOffset;let q=F;Mt(F)&&(j!==F.data.length&&(g=!0),q=q.parentNode);const X=[];let ue;for(;q;){if(Pm(e,q,t,n,s)){ue=q;break}q.nextSibling&&(g=!0),X.push(q),q=q.parentNode}if(ue)if(g){const xe=f.getBookmark();A.collapse(!0);let de=Zh(l,A,_,!0);de=zy(de),e.formatter.remove(t,n,de,s),f.moveToBookmark(xe)}else{const xe=Vh(e.getBody(),ue),de=Ee(xe)?l.getParents(ue.parentNode,Mn,xe):[],Ce=Lm(!1).dom;u0(e,Ce,xe??ue);const ze=IP(e,Ce,ue,t,n,s),je=c2([...X,...ze.toArray(),...de],Ce);xe&&z3(e,xe,Ee(xe)),f.setCursorLocation(je,1),V3(e,Ce),l.isEmpty(ue)&&l.remove(ue)}},W3=(e,t,n)=>{const s=e.selection,l=e.getBody();H3(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===l2&&H3(e,Vh(l,s.getStart()),!0),(t===37||t===39)&&H3(e,Vh(l,s.getStart()),!0)},Z3=e=>Mt(e)&&_e(e.data,ua),PR=e=>{e.on("mouseup keydown",t=>{W3(e,t.keyCode,Z3(e.selection.getRng().endContainer))})},j3=e=>{const t=Lm(!1),n=c2(e,t.dom);return{caretContainer:t,caretPosition:dt(n,0)}},K3=(e,t)=>{const{caretContainer:n,caretPosition:s}=j3(t);return ds(Re.fromDom(e),n),lr(Re.fromDom(e)),s},BP=(e,t)=>{const{caretContainer:n,caretPosition:s}=j3(t);return e.insertNode(n.dom),s},cv=(e,t)=>{if(Gc(t.dom))return!1;const n=e.schema.getTextInlineElements();return Gn(n,Mo(t))&&!Gc(t.dom)&&!Yd(t.dom)},ip={},q3=Wa(["pre"]),LR=(e,t)=>{ip[e]||(ip[e]=[]),ip[e].push(t)},FR=(e,t)=>{Gn(ip,e)&&me(ip[e],n=>{n(t)})};LR("pre",e=>{const t=e.selection.getRng(),n=l=>f=>{const g=f.previousSibling;return q3(g)&&le(l,g)},s=(l,f)=>{const g=Re.fromDom(f),_=Il(g).dom;lr(g),Ls(Re.fromDom(l),[Re.fromTag("br",_),Re.fromTag("br",_),...Va(g)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),f=xt(xt(l,q3),n(l));me(f,g=>{s(g.previousSibling,g)})}});const G3=["fontWeight","fontStyle","color","fontSize","fontFamily"],TC=e=>ie(e.styles)&&ve(Ht(e.styles),t=>le(G3,t)),Y3=e=>vn(e,t=>Ga(t)&&t.inline==="span"&&TC(t)),uv=(e,t)=>{const n=e.get(t);return oe(n)?Y3(n):J.none()},zR=(e,t)=>bc(t,dt.fromRangeStart(e)).isNone(),X3=(e,t)=>El(t,dt.fromRangeEnd(e)).exists(n=>!Xr(n.getNode())||El(t,n).isSome())===!1,HR=e=>t=>mx(t)&&e.isEditable(t),MP=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return zR(n,t[0])&&X3(n,t[0])?t:[];{const s=ln(t).filter(g=>zR(n,g)).toArray(),l=mo(t).filter(g=>X3(n,g)).toArray(),f=t.slice(1,-1);return s.concat(f).concat(l)}},$R=e=>xt(MP(e),HR(e.dom)),J3=e=>xt(e.getSelectedBlocks(),HR(e.dom)),Q3=Zt.each,OC=e=>bn(e)&&!Yc(e)&&!Gc(e)&&!Yd(e),lp=(e,t)=>{for(let n=e;n;n=n[t]){if(Mt(n)&&We(n.data))return e;if(bn(n)&&!Yc(n))return n}return e},e4=(e,t,n)=>{const s=fC(e),l=Lc(t)&&e.dom.isEditable(t),f=Lc(n)&&e.dom.isEditable(n);if(l&&f){const g=lp(t,"previousSibling"),_=lp(n,"nextSibling");if(s.compare(g,_)){for(let A=g.nextSibling;A&&A!==_;){const F=A;A=A.nextSibling,g.appendChild(F)}return e.dom.remove(_),Zt.each(Zt.grep(_.childNodes),A=>{g.appendChild(A)}),g}}return n},DC=(e,t,n,s)=>{var l;if(s&&t.merge_siblings!==!1){const f=(l=e4(e,jb(s),s))!==null&&l!==void 0?l:s;e4(e,f,jb(f,!0))}},VR=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";Q3(e.select(s,n),l=>{OC(l)&&e.isEditable(l)&&Q3(t.styles,(f,g)=>{e.setStyle(l,g,"")})})}},u2=(e,t,n)=>{Q3(e.childNodes,s=>{OC(s)&&(t(s)&&n(s),s.hasChildNodes()&&u2(s,t,n))})},cp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},t4=(e,t)=>n=>!!(n&&_y(e,n,t)),Qc=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),cp(e,s)},Iu=Bo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),n4=/^(src|href|style)$/,RC=Zt.each,NC=K1,UR=e=>/^(TR|TH|TD)$/.test(e.nodeName),d0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),d2=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"];if(bn(s)){const f=s.childNodes.length-1;!n&&l&&l--,s=s.childNodes[l>f?f:l]}return Mt(s)&&n&&l>=s.data.length&&(s=new Ua(s,e.getBody()).next()||s),Mt(s)&&!n&&l===0&&(s=new Ua(s,e.getBody()).prev()||s),s},o4=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return UR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},IC=(e,t,n,s)=>{var l;const f=e.create(n,s);return(l=t.parentNode)===null||l===void 0||l.insertBefore(f,t),f.appendChild(t),f},BC=(e,t,n,s,l)=>{const f=Re.fromDom(t),g=Re.fromDom(e.create(s,l)),_=n?Jf(f):fu(f);return Ls(g,_),n?(ds(f,g),yi(g,f)):(Xe(f,g),As(g,f)),g.dom},PP=(e,t)=>t.links&&e.nodeName==="A",WR=(e,t,n)=>{const s=t.parentNode;let l;const f=e.dom,g=$i(e);yf(n)&&s===f.getRoot()&&(!n.list_block||!NC(t,n.list_block))&&me(so(t.childNodes),_=>{Uh(e,g,_.nodeName.toLowerCase())?l?l.appendChild(_):(l=IC(f,_,g),f.setAttribs(l,ny(e))):l=null}),!(S5(n)&&!NC(n.inline,t))&&f.remove(t,!0)},r4=(e,t,n)=>R(e)?{name:t,value:null}:{name:e,value:Vg(t,n)},ZR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},_c=(e,t,n,s,l)=>{let f=!1;RC(n.styles,(g,_)=>{const{name:A,value:F}=r4(_,g,s),j=b_(F,A);(n.remove_similar||Je(F)||!bn(l)||NC(_y(e,l,A),j))&&e.setStyle(t,A,""),f=!0}),f&&ZR(e,t)},s4=(e,t,n)=>{t==="removeformat"?me(J3(e.selection),s=>{me(G3,l=>e.dom.setStyle(s,l,"")),ZR(e.dom,s)}):uv(e.formatter,t).each(s=>{me(J3(e.selection),l=>_c(e.dom,l,s,n,null))})},a4=(e,t,n,s,l)=>{const f=e.dom,g=fC(e),_=e.schema;if(Ga(t)&&eb(_,t.inline)&&ef(_,s)&&s.parentElement===e.getBody())return WR(e,s,t),Iu.removed();if(!t.ceFalseOverride&&s&&f.getContentEditableParent(s)==="false"||s&&!AC(f,s,t)&&!PP(s,t))return Iu.keep();const A=s,F=t.preserve_attributes;if(Ga(t)&&t.remove==="all"&&oe(F)){const j=xt(f.getAttribs(A),q=>le(F,q.name.toLowerCase()));if(f.removeAllAttribs(A),me(j,q=>f.setAttrib(A,q.name,q.value)),j.length>0)return Iu.rename("span")}if(t.remove!=="all"){_c(f,A,t,n,l),RC(t.attributes,(q,X)=>{const{name:ue,value:xe}=r4(X,q,n);if(t.remove_similar||Je(xe)||!bn(l)||NC(f.getAttrib(l,ue),xe)){if(ue==="class"){const de=f.getAttrib(A,ue);if(de){let Ce="";if(me(de.split(/\s+/),ze=>{/mce\-\w+/.test(ze)&&(Ce+=(Ce?" ":"")+ze)}),Ce){f.setAttrib(A,ue,Ce);return}}}if(n4.test(ue)&&A.removeAttribute("data-mce-"+ue),ue==="style"&&Wa(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ue),f.setStyle(A,"list-style-type","none");return}ue==="class"&&A.removeAttribute("className"),A.removeAttribute(ue)}}),RC(t.classes,q=>{q=Vg(q,n),(!bn(l)||f.hasClass(l,q))&&f.removeClass(A,q)});const j=f.getAttribs(A);for(let q=0;q<j.length;q++){const X=j[q].nodeName;if(!g.isAttributeInternal(X))return Iu.keep()}}return t.remove!=="none"?(WR(e,A,t),Iu.removed()):Iu.keep()},i4=(e,t,n,s,l)=>{let f;return t.parentNode&&me(Cy(e.dom,t.parentNode).reverse(),g=>{if(!f&&bn(g)&&g.id!=="_start"&&g.id!=="_end"){const _=Pm(e,g,n,s,l);_&&_.split!==!1&&(f=g)}}),f},jR=(e,t,n,s)=>a4(e,t,n,s,s).fold(ot(s),l=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,l)),ot(null)),f2=(e,t,n,s,l,f,g,_)=>{var A,F;let j,q;const X=e.dom;if(n){const ue=n.parentNode;for(let xe=s.parentNode;xe&&xe!==ue;xe=xe.parentNode){let de=X.clone(xe,!1);for(let Ce=0;Ce<t.length&&(de=jR(e,t[Ce],_,de),de!==null);Ce++);de&&(j&&de.appendChild(j),q||(q=de),j=de)}(!g.mixed||!X.isBlock(n))&&(s=(A=X.split(n,s))!==null&&A!==void 0?A:s),j&&q&&((F=l.parentNode)===null||F===void 0||F.insertBefore(j,l),q.appendChild(l),Ga(g)&&DC(e,g,_,j))}return s},Qg=(e,t,n,s,l)=>{const f=e.formatter.get(t),g=f[0],_=e.dom,A=e.selection,F=de=>{const Ce=i4(e,de,t,n,l);return f2(e,f,Ce,de,de,!0,g,n)},j=de=>Yc(de)&&bn(de)&&(de.id==="_start"||de.id==="_end"),q=de=>ve(f,Ce=>dp(e,Ce,n,de,de)),X=de=>{const Ce=so(de.childNodes),je=q(de)||ve(f,Rt=>AC(_,de,Rt)),Ue=de.parentNode;if(!je&&Ee(Ue)&&x_(g)&&q(Ue),g.deep&&Ce.length)for(let Rt=0;Rt<Ce.length;Rt++)X(Ce[Rt]);me(["underline","line-through","overline"],Rt=>{bn(de)&&e.dom.getStyle(de,"text-decoration")===Rt&&de.parentNode&&aE(_,de.parentNode)===Rt&&dp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Rt}},void 0,de)})},ue=de=>{const Ce=_.get(de?"_start":"_end");if(Ce){let ze=Ce[de?"firstChild":"lastChild"];return j(ze)&&(ze=ze[de?"firstChild":"lastChild"]),Mt(ze)&&ze.data.length===0&&(ze=de?Ce.previousSibling||Ce.nextSibling:Ce.nextSibling||Ce.previousSibling),_.remove(Ce,!0),ze}else return null},xe=de=>{let Ce,ze,je=Zh(_,de,f,de.collapsed);if(g.split){if(je=zy(je),Ce=d2(e,je,!0),ze=d2(e,je),Ce!==ze){if(Ce=o4(Ce,!0),ze=o4(ze,!1),d0(_,Ce,ze)){const rt=J.from(Ce.firstChild).getOr(Ce);F(BC(_,rt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ue(!0);return}if(d0(_,ze,Ce)){const rt=J.from(ze.lastChild).getOr(ze);F(BC(_,rt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ue(!1);return}Ce=IC(_,Ce,"span",{id:"_start","data-mce-type":"bookmark"}),ze=IC(_,ze,"span",{id:"_end","data-mce-type":"bookmark"});const Ue=_.createRng();Ue.setStartAfter(Ce),Ue.setEndBefore(ze),Ay(_,Ue,rt=>{me(rt,Rt=>{!Yc(Rt)&&!Yc(Rt.parentNode)&&F(Rt)})}),F(Ce),F(ze),Ce=ue(!0),ze=ue()}else Ce=ze=F(Ce);je.startContainer=Ce.parentNode?Ce.parentNode:Ce,je.startOffset=_.nodeIndex(Ce),je.endContainer=ze.parentNode?ze.parentNode:ze,je.endOffset=_.nodeIndex(ze)+1}Ay(_,je,Ue=>{me(Ue,X)})};if(s){if(j1(s)){const de=_.createRng();de.setStartBefore(s),de.setEndAfter(s),xe(de)}else xe(s);I5(e,t,s,n);return}!A.isCollapsed()||!Ga(g)||xf(e).length?(oE(e,()=>Z1(e,xe),de=>Ga(g)&&ap(e,t,n,de)),e.nodeChanged()):U3(e,t,n,l),s4(e,t,n),I5(e,t,s,n)},up=(e,t,n,s,l)=>{(s||e.selection.isEditable())&&Qg(e,t,n,s,l)},dp=(e,t,n,s,l)=>a4(e,t,n,s,l).fold(En,f=>(e.dom.rename(s,f),!0),Mn),MC=Zt.each,l4=(e,t,n,s)=>{const l=f=>{if(Lc(f)&&bn(f.parentNode)&&e.isEditable(f)){const g=aE(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Zt.walk(s,l,"childNodes"),l(s))},KR=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const l=t4(e,"fontSize");u2(s,f=>l(f)&&e.isEditable(f),Qc(e,"backgroundColor",Vg(t.styles.backgroundColor,n)))}},LP=(e,t,n,s)=>{if(Ga(t)&&(t.inline==="sub"||t.inline==="sup")){const l=t4(e,"fontSize");u2(s,g=>l(g)&&e.isEditable(g),Qc(e,"fontSize",""));const f=xt(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(f,!0)}},qR=(e,t,n,s)=>{MC(t,l=>{Ga(l)&&MC(e.dom.select(l.inline,s),f=>{OC(f)&&dp(e,l,n,f,l.exact?f:null)}),VR(e.dom,l,s)})},GR=(e,t,n,s,l)=>{const f=l.parentNode;Pm(e,f,n,s)&&dp(e,t,s,l)||t.merge_with_parents&&f&&e.dom.getParent(f,g=>Pm(e,g,n,s)?(dp(e,t,s,l),!0):!1)},m2=Zt.each,YR=(e,t,n,s)=>{if(DM(e)&&Ga(t)&&n.parentNode){const l=i1(e.schema),f=Kp(Re.fromDom(n),g=>Gc(g.dom));return _l(l,s)&&Pl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},XR=(e,t,n,s)=>{if(m2(n.styles,(l,f)=>{e.setStyle(t,f,Vg(l,s))}),n.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},FP=(e,t,n,s)=>{const l=e.formatter.get(t),f=l[0],g=!s&&e.selection.isCollapsed(),_=e.dom,A=e.selection,F=(xe,de=f)=>{Ne(de.onformat)&&de.onformat(xe,de,n,s),XR(_,xe,de,n),m2(de.attributes,(Ce,ze)=>{_.setAttrib(xe,ze,Vg(Ce,n))}),m2(de.classes,Ce=>{const ze=Vg(Ce,n);_.hasClass(xe,ze)||_.addClass(xe,ze)})},j=(xe,de)=>{let Ce=!1;return m2(xe,ze=>vc(ze)?_.getContentEditable(de)==="false"&&!ze.ceFalseOverride||Ee(ze.collapsed)&&ze.collapsed!==g?!0:_.is(de,ze.selector)&&!Gc(de)?(F(de,ze),Ce=!0,!1):!0:!1),Ce},q=xe=>{if(Be(xe)){const de=_.create(xe);return F(de),de}else return null},X=(xe,de,Ce)=>{const ze=[];let je=!0;const Ue=f.inline||f.block,rt=q(Ue),Rt=bt=>_5(f)&&Pm(e,bt,t,n),Wt=(bt,ct,Ot)=>{const gn=C5(f)&&p_(e.schema,bt)&&Uh(e,ct,Ue);return Ot&&gn},cn=(bt,ct,Ot,gn)=>{const On=bt.nodeName.toLowerCase(),vo=Uh(e,Ue,On)&&Uh(e,ct,Ue),Ao=!Ce&&Mt(bt)&&hc(bt.data),cr=Gc(bt),wr=!Ga(f)||!xe.isBlock(bt);return(Ot||gn)&&vo&&!Ao&&!cr&&wr};Ay(xe,de,bt=>{let ct;const Ot=gn=>{let On=!1,vo=je,Ao=!1;const cr=gn.parentNode,wr=cr.nodeName.toLowerCase(),js=xe.getContentEditable(gn);Ee(js)&&(vo=je,je=js==="true",On=!0,Ao=sE(e,gn));const cl=je&&!On;if(Xr(gn)&&!YR(e,f,gn,wr)){ct=null,yf(f)&&xe.remove(gn);return}if(Rt(gn)){ct=null;return}if(Wt(gn,wr,cl)){const Or=xe.rename(gn,Ue);F(Or),ze.push(Or),ct=null;return}if(vc(f)){let Or=j(l,gn);if(!Or&&Ee(cr)&&x_(f)&&(Or=j(l,cr)),!Ga(f)||Or){ct=null;return}}Ee(rt)&&cn(gn,wr,cl,Ao)?(ct||(ct=xe.clone(rt,!1),cr.insertBefore(ct,gn),ze.push(ct)),Ao&&On&&(je=vo),ct.appendChild(gn)):(ct=null,me(so(gn.childNodes),Ot),On&&(je=vo),ct=null)};me(bt,Ot)}),f.links===!0&&me(ze,bt=>{const ct=Ot=>{Ot.nodeName==="A"&&F(Ot,f),me(so(Ot.childNodes),ct)};ct(bt)}),me(ze,bt=>{const ct=On=>{let vo=0;return me(On.childNodes,Ao=>{!r7(Ao)&&!Yc(Ao)&&vo++}),vo},Ot=On=>vn(On.childNodes,h_).filter(Ao=>xe.getContentEditable(Ao)!=="false"&&AC(xe,Ao,f)).map(Ao=>{const cr=xe.clone(Ao,!1);return F(cr),xe.replace(cr,On,!0),xe.remove(Ao,!0),cr}).getOr(On),gn=ct(bt);if((ze.length>1||!xe.isBlock(bt))&&gn===0){xe.remove(bt,!0);return}(Ga(f)||yf(f)&&f.wrapper)&&(!f.exact&&gn===1&&(bt=Ot(bt)),qR(e,l,n,bt),GR(e,f,t,n,bt),KR(xe,f,n,bt),l4(xe,f,n,bt),LP(xe,f,n,bt),DC(e,f,n,bt))})},ue=j1(s)?s:A.getNode();if(_.getContentEditable(ue)==="false"&&!sE(e,ue)){s=ue,j(l,s),N5(e,t,s,n);return}if(f){if(s)if(j1(s)){if(!j(l,s)){const xe=_.createRng();xe.setStartBefore(s),xe.setEndAfter(s),X(_,Zh(_,xe,l),!0)}}else X(_,s,!0);else!g||!Ga(f)||xf(e).length?(A.setRng(pC(A.getRng())),oE(e,()=>{Z1(e,(xe,de)=>{const Ce=de?xe:Zh(_,xe,l);X(_,Ce,!1)})},Mn),e.nodeChanged()):Jg(e,t,n),uv(e.formatter,t).each(xe=>{me($R(e.selection),de=>XR(_,de,xe,n))});FR(t,e)}N5(e,t,s,n)},JR=(e,t,n,s)=>{(s||e.selection.isEditable())&&FP(e,t,n,s)},Al=e=>Gn(e,"vars"),QR=(e,t)=>{e.set({}),t.on("NodeChange",n=>{u4(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=J.from(n.node).map(l=>j1(l)?l:l.startContainer).bind(l=>bn(l)?J.some(l):J.from(l.parentElement)).getOrThunk(()=>dv(t));u4(t,s,e.get())})},dv=e=>e.selection.getStart(),eN=(e,t,n,s,l)=>on(t,_=>{const A=e.formatter.matchNode(_,n,l??{},s);return!Ye(A)},_=>M3(e,_,n)?!0:s?!1:Ee(e.formatter.matchNode(_,n,l,!0))),c4=(e,t)=>{const n=t??dv(e);return xt(Cy(e.dom,n),s=>bn(s)&&!Yd(s))},u4=(e,t,n)=>{const s=c4(e,t);Vo(n,(l,f)=>{const g=_=>{const A=eN(e,s,f,_.similar,Al(_)?_.vars:void 0),F=A.isSome();if(_.state.get()!==F){_.state.set(F);const j=A.getOr(t);Al(_)?_.callback(F,{node:j,format:f,parents:s}):me(_.callbacks,q=>q(F,{node:j,format:f,parents:s}))}};me([l.withSimilar,l.withoutSimilar],g),me(l.withVars,g)})},d4=(e,t,n,s,l,f)=>{const g=t.get();me(n.split(","),_=>{const A=ir(g,_).getOrThunk(()=>{const j={withSimilar:{state:da(!1),similar:!0,callbacks:[]},withoutSimilar:{state:da(!1),similar:!1,callbacks:[]},withVars:[]};return g[_]=j,j}),F=()=>{const j=c4(e);return eN(e,j,_,l,f).isSome()};if(Ye(f)){const j=l?A.withSimilar:A.withoutSimilar;j.callbacks.push(s),j.callbacks.length===1&&j.state.set(F())}else A.withVars.push({state:da(F()),similar:l,vars:f,callback:s})}),t.set(g)},tN=(e,t,n)=>{const s=e.get();me(t.split(","),l=>ir(s,l).each(f=>{s[l]={withSimilar:{...f.withSimilar,callbacks:xt(f.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...f.withoutSimilar,callbacks:xt(f.withoutSimilar.callbacks,g=>g!==n)},withVars:xt(f.withVars,g=>g.callback!==n)}})),e.set(s)},zP=(e,t,n,s,l,f)=>(d4(e,t,n,s,l,f),{unbind:()=>tN(t,n,s)}),HP=(e,t,n,s)=>{const l=e.formatter.get(t);l&&(ap(e,t,n,s)&&(!("toggle"in l[0])||l[0].toggle)?up(e,t,n,s):JR(e,t,n,s))},nN=Zt.explode,PC=()=>{const e={};return{addFilter:(l,f)=>{me(nN(l),g=>{Gn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(f)})},getFilters:()=>ru(e),removeFilter:(l,f)=>{me(nN(l),g=>{if(Gn(e,g))if(Ee(f)){const _=e[g],A=xt(_.callbacks,F=>F!==f);A.length>0?_.callbacks=A:delete e[g]}else delete e[g]})}}},$P=(e,t)=>{me(t,n=>{e.attr(n,null)})},VP=(e,t,n)=>{e.addNodeFilter("font",s=>{me(s,l=>{const f=t.parse(l.attr("style")),g=l.attr("color"),_=l.attr("face"),A=l.attr("size");g&&(f.color=g),_&&(f["font-family"]=_),A&&nn(A).each(F=>{f["font-size"]=n[F-1]}),l.name="span",l.attr("style",t.serialize(f)),$P(l,["color","face","size"])})})},oN=(e,t,n)=>{e.addNodeFilter("strike",s=>{const l=t.type!=="html4";me(s,f=>{if(l)f.name="s";else{const g=n.parse(f.attr("style"));g["text-decoration"]="line-through",f.name="span",f.attr("style",n.serialize(g))}})})},UP=(e,t,n)=>{var s;const l=Rx();t.convert_fonts_to_spans&&VP(e,l,Zt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),oN(e,n,l)},WP=(e,t,n)=>{t.inline_styles&&UP(e,t,n)},f4=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),LC=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},FC=e=>{const[t,...n]=e.split(","),s=n.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const f=l[2]===";base64",g=f?LC(s):decodeURIComponent(s);return J.some({type:l[1],data:g,base64Encoded:f})}else return J.none()},m4=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return J.none()}const l=new Uint8Array(s.length);for(let f=0;f<l.length;f++)l[f]=s.charCodeAt(f);return J.some(new Blob([l],{type:e}))},g4=e=>new Promise((t,n)=>{FC(e).bind(({type:s,data:l,base64Encoded:f})=>m4(s,l,f)).fold(()=>n("Invalid data URI"),t)}),ZP=e=>Ur(e,"blob:")?f4(e):Ur(e,"data:")?g4(e):Promise.reject("Unknown URI format"),rN=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var l;n((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(e)});let jP=0;const f0=e=>"blobid"+jP++,sN=(e,t,n)=>FC(e).bind(({data:s,type:l,base64Encoded:f})=>{if(t&&!f)return J.none();{const g=f?s:btoa(s);return n(g,l)}}),g2=(e,t,n)=>{const s=e.create(f0(),t,n);return e.add(s),s},aN=(e,t,n=!1)=>sN(t,n,(s,l)=>J.from(e.getByData(s,l)).orThunk(()=>m4(l,s).map(f=>g2(e,f,s)))),h4=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ur(t,"blob:")){const s=e.getByUri(t);return Ee(s)?Promise.resolve(s):ZP(t).then(l=>rN(l).then(f=>sN(f,!1,g=>J.some(g2(e,l,g))).getOrThunk(n)))}else return Ur(t,"data:")?aN(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},iN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,lN=e=>J.from(e.match(iN)).bind(t=>gi(t,1)).map(t=>Ur(t,"www.")?t.substring(4):t),p4=(e,t)=>{J.from(e.attr("src")).bind(lN).forall(n=>!le(t,n))&&e.attr("sandbox","")},fv=(e,t)=>Ur(e,`${t}/`),KP=e=>Ye(e)?"iframe":fv(e,"image")?"img":fv(e,"video")?"video":fv(e,"audio")?"audio":"iframe",qP=({type:e,src:t,width:n,height:s}={},l,f)=>{const g=KP(e),_=new ci(g,1);return _.attr(g==="audio"?{src:t}:{src:t,width:n,height:s}),(g==="audio"||g==="video")&&_.attr("controls",""),g==="iframe"&&l&&p4(_,f),_},b4=e=>Ee(e.attr("data-mce-bogus")),cN=e=>e.attr("src")===wo.transparentSrc||Ee(e.attr("data-mce-placeholder")),GP=(e,t)=>{const{blob_cache:n}=t;if(n){const s=l=>{const f=l.attr("src");cN(l)||b4(l)||mt(f)||aN(n,f,!0).each(g=>{l.attr("src",g.blobUri())})};e.addAttributeFilter("src",l=>me(l,s))}},YP=(e,t)=>{var n,s;const l=e.schema;e.addAttributeFilter("href",A=>{let F=A.length;const j=X=>X.split(" ").filter(xe=>xe.length>0).concat(["noopener"]).sort().join(" "),q=X=>{const ue=X?Zt.trim(X):"";return/\b(noopener)\b/g.test(ue)?ue:j(ue)};if(!t.allow_unsafe_link_target)for(;F--;){const X=A[F];X.name==="a"&&X.attr("target")==="_blank"&&X.attr("rel",q(X.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let F=A.length,j,q,X,ue;for(;F--;)if(ue=A[F],ue.name==="a"&&ue.firstChild&&!ue.attr("href"))for(X=ue.parent,j=ue.lastChild;j&&X;)q=j.prev,X.insert(j,ue),j=q}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let F=A.length,j,q;for(;F--;)if(j=A[F],q=j.parent,q&&(q.name==="ul"||q.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const X=new ci("li",1);X.attr("style","list-style-type: none"),j.wrap(X)}});const f=l.getValidClasses();t.validate&&f&&e.addAttributeFilter("class",A=>{var F;let j=A.length;for(;j--;){const q=A[j],X=(F=q.attr("class"))!==null&&F!==void 0?F:"",ue=Zt.explode(X," ");let xe="";for(let de=0;de<ue.length;de++){const Ce=ue[de];let ze=!1,je=f["*"];je&&je[Ce]&&(ze=!0),je=f[q.name],!ze&&je&&je[Ce]&&(ze=!0),ze&&(xe&&(xe+=" "),xe+=Ce)}xe.length||(xe=null),q.attr("class",xe)}}),GP(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,_=Ba((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>me(A,F=>{F.replace(qP({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},g,_))})),g&&e.addNodeFilter("iframe",A=>me(A,F=>p4(F,_)))},{entries:uN,setPrototypeOf:dN,isFrozen:v4,getPrototypeOf:fN,getOwnPropertyDescriptor:XP}=Object;let{freeze:Cc,seal:Qr,create:JP}=Object,{apply:x4,construct:zC}=typeof Reflect<"u"&&Reflect;x4||(x4=function(t,n,s){return t.apply(n,s)}),Cc||(Cc=function(t){return t}),Qr||(Qr=function(t){return t}),zC||(zC=function(t,n){return new t(...n)});const y4=Ul(Array.prototype.forEach),mN=Ul(Array.prototype.pop),Cd=Ul(Array.prototype.push),mv=Ul(String.prototype.toLowerCase),HC=Ul(String.prototype.toString),w4=Ul(String.prototype.match),Bu=Ul(String.prototype.replace),_4=Ul(String.prototype.indexOf),gN=Ul(String.prototype.trim),Vl=Ul(RegExp.prototype.test),fp=h2(TypeError);function Ul(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return x4(e,t,s)}}function h2(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return zC(e,n)}}function $o(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:mv,dN&&dN(e,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){const g=n(f);g!==f&&(v4(t)||(t[l]=g),f=g)}e[f]=!0}return e}function Fm(e){const t=JP(null);for(const[n,s]of uN(e))t[n]=s;return t}function p2(e,t){for(;e!==null;){const s=XP(e,t);if(s){if(s.get)return Ul(s.get);if(typeof s.value=="function")return Ul(s.value)}e=fN(e)}function n(s){return console.warn("fallback value for",s),null}return n}const C4=Cc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S4=Cc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$C=Cc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),QP=Cc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k4=Cc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b2=Cc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hN=Cc(["#text"]),pN=Cc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),E4=Cc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bN=Cc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),VC=Cc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eL=Qr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tL=Qr(/<%[\w\W]*|[\w\W]*%>/gm),nL=Qr(/\${[\w\W]*}/gm),oL=Qr(/^data-[\-\w.\u00B7-\uFFFF]/),rL=Qr(/^aria-[\-\w]+$/),vN=Qr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xN=Qr(/^(?:\w+script|data):/i),yN=Qr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),A4=Qr(/^html$/i);var T4=Object.freeze({__proto__:null,MUSTACHE_EXPR:eL,ERB_EXPR:tL,TMPLIT_EXPR:nL,DATA_ATTR:oL,ARIA_ATTR:rL,IS_ALLOWED_URI:vN,IS_SCRIPT_OR_DATA:xN,ATTR_WHITESPACE:yN,DOCTYPE_NAME:A4});const wN=()=>typeof window>"u"?null:window,_N=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(s=n.getAttribute(l));const f="dompurify"+(s?"#"+s:"");try{return t.createPolicy(f,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function O4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wN();const t=Ro=>O4(Ro);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:l}=e;const{DocumentFragment:f,HTMLTemplateElement:g,Node:_,Element:A,NodeFilter:F,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:q,DOMParser:X,trustedTypes:ue}=e,xe=A.prototype,de=p2(xe,"cloneNode"),Ce=p2(xe,"nextSibling"),ze=p2(xe,"childNodes"),je=p2(xe,"parentNode");if(typeof g=="function"){const Ro=l.createElement("template");Ro.content&&Ro.content.ownerDocument&&(l=Ro.content.ownerDocument)}let Ue,rt="";const{implementation:Rt,createNodeIterator:Wt,createDocumentFragment:cn,getElementsByTagName:bt}=l,{importNode:ct}=n;let Ot={};t.isSupported=typeof uN=="function"&&typeof je=="function"&&Rt&&Rt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:gn,ERB_EXPR:On,TMPLIT_EXPR:vo,DATA_ATTR:Ao,ARIA_ATTR:cr,IS_SCRIPT_OR_DATA:wr,ATTR_WHITESPACE:js}=T4;let{IS_ALLOWED_URI:cl}=T4,Or=null;const Yt=$o({},[...C4,...S4,...$C,...k4,...hN]);let kn=null;const Yo=$o({},[...pN,...E4,...bN,...VC]);let tn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),zn=null,So=null,an=!0,xo=!0,Do=!1,ui=!0,xr=!1,Ja=!1,Tf=!1,ch=!1,jl=!1,Fu=!1,Of=!1,zu=!0,Df=!1;const In="user-content-";let Zo=!0,Bs=!1,Qs={},Da=null;const Wi=$o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ba=null;const va=$o({},["audio","video","img","source","image","track"]);let Kl=null;const jm=$o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Km="http://www.w3.org/1998/Math/MathML",qm="http://www.w3.org/2000/svg",Rf="http://www.w3.org/1999/xhtml";let Iv=Rf,OS=!1,DS=null;const D9=$o({},[Km,qm,Rf],HC);let A0;const Q8=["application/xhtml+xml","text/html"],$W="text/html";let Ol,X2=null;const VW=l.createElement("form"),R9=function(gt){return gt instanceof RegExp||gt instanceof Function},wp=function(gt){if(!(X2&&X2===gt)){if((!gt||typeof gt!="object")&&(gt={}),gt=Fm(gt),A0=Q8.indexOf(gt.PARSER_MEDIA_TYPE)===-1?A0=$W:A0=gt.PARSER_MEDIA_TYPE,Ol=A0==="application/xhtml+xml"?HC:mv,Or="ALLOWED_TAGS"in gt?$o({},gt.ALLOWED_TAGS,Ol):Yt,kn="ALLOWED_ATTR"in gt?$o({},gt.ALLOWED_ATTR,Ol):Yo,DS="ALLOWED_NAMESPACES"in gt?$o({},gt.ALLOWED_NAMESPACES,HC):D9,Kl="ADD_URI_SAFE_ATTR"in gt?$o(Fm(jm),gt.ADD_URI_SAFE_ATTR,Ol):jm,ba="ADD_DATA_URI_TAGS"in gt?$o(Fm(va),gt.ADD_DATA_URI_TAGS,Ol):va,Da="FORBID_CONTENTS"in gt?$o({},gt.FORBID_CONTENTS,Ol):Wi,zn="FORBID_TAGS"in gt?$o({},gt.FORBID_TAGS,Ol):{},So="FORBID_ATTR"in gt?$o({},gt.FORBID_ATTR,Ol):{},Qs="USE_PROFILES"in gt?gt.USE_PROFILES:!1,an=gt.ALLOW_ARIA_ATTR!==!1,xo=gt.ALLOW_DATA_ATTR!==!1,Do=gt.ALLOW_UNKNOWN_PROTOCOLS||!1,ui=gt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xr=gt.SAFE_FOR_TEMPLATES||!1,Ja=gt.WHOLE_DOCUMENT||!1,jl=gt.RETURN_DOM||!1,Fu=gt.RETURN_DOM_FRAGMENT||!1,Of=gt.RETURN_TRUSTED_TYPE||!1,ch=gt.FORCE_BODY||!1,zu=gt.SANITIZE_DOM!==!1,Df=gt.SANITIZE_NAMED_PROPS||!1,Zo=gt.KEEP_CONTENT!==!1,Bs=gt.IN_PLACE||!1,cl=gt.ALLOWED_URI_REGEXP||vN,Iv=gt.NAMESPACE||Rf,tn=gt.CUSTOM_ELEMENT_HANDLING||{},gt.CUSTOM_ELEMENT_HANDLING&&R9(gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tn.tagNameCheck=gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&R9(gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tn.attributeNameCheck=gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&typeof gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(tn.allowCustomizedBuiltInElements=gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xr&&(xo=!1),Fu&&(jl=!0),Qs&&(Or=$o({},[...hN]),kn=[],Qs.html===!0&&($o(Or,C4),$o(kn,pN)),Qs.svg===!0&&($o(Or,S4),$o(kn,E4),$o(kn,VC)),Qs.svgFilters===!0&&($o(Or,$C),$o(kn,E4),$o(kn,VC)),Qs.mathMl===!0&&($o(Or,k4),$o(kn,bN),$o(kn,VC))),gt.ADD_TAGS&&(Or===Yt&&(Or=Fm(Or)),$o(Or,gt.ADD_TAGS,Ol)),gt.ADD_ATTR&&(kn===Yo&&(kn=Fm(kn)),$o(kn,gt.ADD_ATTR,Ol)),gt.ADD_URI_SAFE_ATTR&&$o(Kl,gt.ADD_URI_SAFE_ATTR,Ol),gt.FORBID_CONTENTS&&(Da===Wi&&(Da=Fm(Da)),$o(Da,gt.FORBID_CONTENTS,Ol)),Zo&&(Or["#text"]=!0),Ja&&$o(Or,["html","head","body"]),Or.table&&($o(Or,["tbody"]),delete zn.tbody),gt.TRUSTED_TYPES_POLICY){if(typeof gt.TRUSTED_TYPES_POLICY.createHTML!="function")throw fp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof gt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ue=gt.TRUSTED_TYPES_POLICY,rt=Ue.createHTML("")}else Ue===void 0&&(Ue=_N(ue,s)),Ue!==null&&typeof rt=="string"&&(rt=Ue.createHTML(""));Cc&&Cc(gt),X2=gt}},ET=$o({},["mi","mo","mn","ms","mtext"]),it=$o({},["foreignobject","desc","title","annotation-xml"]),ut=$o({},["title","style","font","a","script"]),qt=$o({},S4);$o(qt,$C),$o(qt,QP);const Ut=$o({},k4);$o(Ut,b2);const Wn=function(gt){let _n=je(gt);(!_n||!_n.tagName)&&(_n={namespaceURI:Iv,tagName:"template"});const to=mv(gt.tagName),aa=mv(_n.tagName);return DS[gt.namespaceURI]?gt.namespaceURI===qm?_n.namespaceURI===Rf?to==="svg":_n.namespaceURI===Km?to==="svg"&&(aa==="annotation-xml"||ET[aa]):!!qt[to]:gt.namespaceURI===Km?_n.namespaceURI===Rf?to==="math":_n.namespaceURI===qm?to==="math"&&it[aa]:!!Ut[to]:gt.namespaceURI===Rf?_n.namespaceURI===qm&&!it[aa]||_n.namespaceURI===Km&&!ET[aa]?!1:!Ut[to]&&(ut[to]||!qt[to]):!!(A0==="application/xhtml+xml"&&DS[gt.namespaceURI]):!1},zo=function(gt){Cd(t.removed,{element:gt});try{gt.parentNode.removeChild(gt)}catch{gt.remove()}},Ms=function(gt,_n){try{Cd(t.removed,{attribute:_n.getAttributeNode(gt),from:_n})}catch{Cd(t.removed,{attribute:null,from:_n})}if(_n.removeAttribute(gt),gt==="is"&&!kn[gt])if(jl||Fu)try{zo(_n)}catch{}else try{_n.setAttribute(gt,"")}catch{}},Gm=function(gt){let _n,to;if(ch)gt="<remove></remove>"+gt;else{const Ym=w4(gt,/^[\r\n\t ]+/);to=Ym&&Ym[0]}A0==="application/xhtml+xml"&&Iv===Rf&&(gt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+gt+"</body></html>");const aa=Ue?Ue.createHTML(gt):gt;if(Iv===Rf)try{_n=new X().parseFromString(aa,A0)}catch{}if(!_n||!_n.documentElement){_n=Rt.createDocument(Iv,"template",null);try{_n.documentElement.innerHTML=OS?rt:aa}catch{}}const ql=_n.body||_n.documentElement;return gt&&to&&ql.insertBefore(l.createTextNode(to),ql.childNodes[0]||null),Iv===Rf?bt.call(_n,Ja?"html":"body")[0]:Ja?_n.documentElement:ql},eB=function(gt){return Wt.call(gt.ownerDocument||gt,gt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},ise=function(gt){return gt instanceof q&&(typeof gt.nodeName!="string"||typeof gt.textContent!="string"||typeof gt.removeChild!="function"||!(gt.attributes instanceof j)||typeof gt.removeAttribute!="function"||typeof gt.setAttribute!="function"||typeof gt.namespaceURI!="string"||typeof gt.insertBefore!="function"||typeof gt.hasChildNodes!="function")},tB=function(gt){return typeof _=="object"?gt instanceof _:gt&&typeof gt=="object"&&typeof gt.nodeType=="number"&&typeof gt.nodeName=="string"},T0=function(gt,_n,to){Ot[gt]&&y4(Ot[gt],aa=>{aa.call(t,_n,to,X2)})},UW=function(gt){let _n;if(T0("beforeSanitizeElements",gt,null),ise(gt))return zo(gt),!0;const to=Ol(gt.nodeName);if(T0("uponSanitizeElement",gt,{tagName:to,allowedTags:Or}),gt.hasChildNodes()&&!tB(gt.firstElementChild)&&(!tB(gt.content)||!tB(gt.content.firstElementChild))&&Vl(/<[/\w]/g,gt.innerHTML)&&Vl(/<[/\w]/g,gt.textContent))return zo(gt),!0;if(!Or[to]||zn[to]){if(!zn[to]&&ZW(to)&&(tn.tagNameCheck instanceof RegExp&&Vl(tn.tagNameCheck,to)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(to)))return!1;if(Zo&&!Da[to]){const aa=je(gt)||gt.parentNode,ql=ze(gt)||gt.childNodes;if(ql&&aa){const Ym=ql.length;for(let Ti=Ym-1;Ti>=0;--Ti)aa.insertBefore(de(ql[Ti],!0),Ce(gt))}}return zo(gt),!0}return gt instanceof A&&!Wn(gt)||(to==="noscript"||to==="noembed"||to==="noframes")&&Vl(/<\/no(script|embed|frames)/i,gt.innerHTML)?(zo(gt),!0):(xr&&gt.nodeType===3&&(_n=gt.textContent,_n=Bu(_n,gn," "),_n=Bu(_n,On," "),_n=Bu(_n,vo," "),gt.textContent!==_n&&(Cd(t.removed,{element:gt.cloneNode()}),gt.textContent=_n)),T0("afterSanitizeElements",gt,null),!1)},WW=function(gt,_n,to){if(zu&&(_n==="id"||_n==="name")&&(to in l||to in VW))return!1;if(!(xo&&!So[_n]&&Vl(Ao,_n))){if(!(an&&Vl(cr,_n))){if(!kn[_n]||So[_n]){if(!(ZW(gt)&&(tn.tagNameCheck instanceof RegExp&&Vl(tn.tagNameCheck,gt)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(gt))&&(tn.attributeNameCheck instanceof RegExp&&Vl(tn.attributeNameCheck,_n)||tn.attributeNameCheck instanceof Function&&tn.attributeNameCheck(_n))||_n==="is"&&tn.allowCustomizedBuiltInElements&&(tn.tagNameCheck instanceof RegExp&&Vl(tn.tagNameCheck,to)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(to))))return!1}else if(!Kl[_n]){if(!Vl(cl,Bu(to,js,""))){if(!((_n==="src"||_n==="xlink:href"||_n==="href")&&gt!=="script"&&_4(to,"data:")===0&&ba[gt])){if(!(Do&&!Vl(wr,Bu(to,js,"")))){if(to)return!1}}}}}}return!0},ZW=function(gt){return gt.indexOf("-")>0},jW=function(gt){let _n,to,aa,ql;T0("beforeSanitizeAttributes",gt,null);const{attributes:Ym}=gt;if(!Ym)return;const Ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:kn};for(ql=Ym.length;ql--;){_n=Ym[ql];const{name:Xm,namespaceURI:N9}=_n;to=Xm==="value"?_n.value:gN(_n.value);const cse=to;if(aa=Ol(Xm),Ti.attrName=aa,Ti.attrValue=to,Ti.keepAttr=!0,Ti.forceKeepAttr=void 0,T0("uponSanitizeAttribute",gt,Ti),to=Ti.attrValue,Ti.forceKeepAttr)continue;if(!Ti.keepAttr){Ms(Xm,gt);continue}if(!ui&&Vl(/\/>/i,to)){Ms(Xm,gt);continue}xr&&(to=Bu(to,gn," "),to=Bu(to,On," "),to=Bu(to,vo," "));const KW=Ol(gt.nodeName);if(!WW(KW,aa,to)){Ms(Xm,gt);continue}if(Df&&(aa==="id"||aa==="name")&&(Ms(Xm,gt),to=In+to),Ue&&typeof ue=="object"&&typeof ue.getAttributeType=="function"&&!N9)switch(ue.getAttributeType(KW,aa)){case"TrustedHTML":{to=Ue.createHTML(to);break}case"TrustedScriptURL":{to=Ue.createScriptURL(to);break}}if(to!==cse)try{N9?gt.setAttributeNS(N9,Xm,to):gt.setAttribute(Xm,to)}catch{Ms(Xm,gt)}}T0("afterSanitizeAttributes",gt,null)},lse=function Ro(gt){let _n;const to=eB(gt);for(T0("beforeSanitizeShadowDOM",gt,null);_n=to.nextNode();)T0("uponSanitizeShadowNode",_n,null),!UW(_n)&&(_n.content instanceof f&&Ro(_n.content),jW(_n));T0("afterSanitizeShadowDOM",gt,null)};return t.sanitize=function(Ro){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_n,to,aa,ql;if(OS=!Ro,OS&&(Ro="<!-->"),typeof Ro!="string"&&!tB(Ro))if(typeof Ro.toString=="function"){if(Ro=Ro.toString(),typeof Ro!="string")throw fp("dirty is not a string, aborting")}else throw fp("toString is not a function");if(!t.isSupported)return Ro;if(Tf||wp(gt),t.removed=[],typeof Ro=="string"&&(Bs=!1),Bs){if(Ro.nodeName){const Xm=Ol(Ro.nodeName);if(!Or[Xm]||zn[Xm])throw fp("root node is forbidden and cannot be sanitized in-place")}}else if(Ro instanceof _)_n=Gm("<!---->"),to=_n.ownerDocument.importNode(Ro,!0),to.nodeType===1&&to.nodeName==="BODY"||to.nodeName==="HTML"?_n=to:_n.appendChild(to);else{if(!jl&&!xr&&!Ja&&Ro.indexOf("<")===-1)return Ue&&Of?Ue.createHTML(Ro):Ro;if(_n=Gm(Ro),!_n)return jl?null:Of?rt:""}_n&&ch&&zo(_n.firstChild);const Ym=eB(Bs?Ro:_n);for(;aa=Ym.nextNode();)UW(aa)||(aa.content instanceof f&&lse(aa.content),jW(aa));if(Bs)return Ro;if(jl){if(Fu)for(ql=cn.call(_n.ownerDocument);_n.firstChild;)ql.appendChild(_n.firstChild);else ql=_n;return(kn.shadowroot||kn.shadowrootmode)&&(ql=ct.call(n,ql,!0)),ql}let Ti=Ja?_n.outerHTML:_n.innerHTML;return Ja&&Or["!doctype"]&&_n.ownerDocument&&_n.ownerDocument.doctype&&_n.ownerDocument.doctype.name&&Vl(A4,_n.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+_n.ownerDocument.doctype.name+`>
`+Ti),xr&&(Ti=Bu(Ti,gn," "),Ti=Bu(Ti,On," "),Ti=Bu(Ti,vo," ")),Ue&&Of?Ue.createHTML(Ti):Ti},t.setConfig=function(Ro){wp(Ro),Tf=!0},t.clearConfig=function(){X2=null,Tf=!1},t.isValidAttribute=function(Ro,gt,_n){X2||wp({});const to=Ol(Ro),aa=Ol(gt);return WW(to,aa,_n)},t.addHook=function(Ro,gt){typeof gt=="function"&&(Ot[Ro]=Ot[Ro]||[],Cd(Ot[Ro],gt))},t.removeHook=function(Ro){if(Ot[Ro])return mN(Ot[Ro])},t.removeHooks=function(Ro){Ot[Ro]&&(Ot[Ro]=[])},t.removeAllHooks=function(){Ot={}},t}var D4=O4();const CN=Zt.each,SN=Zt.trim,sL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],aL={ftp:21,http:80,https:443,mailto:25},kN=["img","video"],EN=(e,t)=>Ee(e)?!e:Ee(t)?!le(kN,t):!0,iL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},R4=(e,t,n)=>{const s=iL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?EN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Mu{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(n=l[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const l=_g.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!R4(s,l,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=SN(t),this.settings=n;const s=n.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const _=s?s.path:new Mu(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+l.toAbsPath(_,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(_,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&CN(sL,(_,A)=>{let F=g[A];F&&(F=F.replace(/\(mce_at\)/g,"@@")),l[_]=F}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),!l.port&&l.host==="mce_host"&&(l.port=s.port),(!l.host||l.host==="mce_host")&&(l.host=s.host),l.source=""),f&&(l.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Mu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),l=n.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let f=this.toRelPath(this.path,n.path);return n.query&&(f+="?"+n.query),n.anchor&&(f+="#"+n.anchor),f}toAbsolute(t,n){const s=new Mu(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?aL[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,l="",f,g;const _=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(_.length>=A.length){for(f=0,g=_.length;f<g;f++)if(f>=A.length||_[f]!==A[f]){s=f+1;break}}if(_.length<A.length){for(f=0,g=A.length;f<g;f++)if(f>=_.length||_[f]!==A[f]){s=f+1;break}}if(s===1)return n;for(f=0,g=_.length-(s-1);f<g;f++)l+="../";for(f=s-1,g=A.length;f<g;f++)f!==s-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(t,n){let s=0;const l=/\/$/.test(n)?"/":"",f=t.split("/"),g=n.split("/"),_=[];CN(f,q=>{q&&_.push(q)});const A=[];for(let q=g.length-1;q>=0;q--)if(!(g[q].length===0||g[q]===".")){if(g[q]===".."){s++;continue}if(s>0){s--;continue}A.push(g[q])}const F=_.length-s;let j;return F<=0?j=Eo(A).join("/"):j=_.slice(0,F).join("/")+"/"+Eo(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const lL=Zt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),N4="data-mce-type";let AN=0;const TN=(e,t,n,s,l)=>{var f,g,_,A;const F=t.validate,j=n.getSpecialElements();e.nodeType===Hd&&!t.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const q=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Ee(l)&&(l.allowedTags[q]=!0);return}if(e.nodeType!==Ji||q==="body")return;const X=Re.fromDom(e),ue=Qu(X,N4),xe=ri(X,"data-mce-bogus");if(!ue&&Be(xe)){xe==="all"?lr(X):wi(X);return}const de=n.getElementRule(q);if(F&&!de){Gn(j,q)?lr(X):wi(X);return}else Ee(l)&&(l.allowedTags[q]=!0);if(F&&de&&!ue){if(me((_=de.attributesForced)!==null&&_!==void 0?_:[],Ce=>{ea(X,Ce.name,Ce.value==="{$uid}"?`mce_${AN++}`:Ce.value)}),me((A=de.attributesDefault)!==null&&A!==void 0?A:[],Ce=>{Qu(X,Ce.name)||ea(X,Ce.name,Ce.value==="{$uid}"?`mce_${AN++}`:Ce.value)}),de.attributesRequired&&!ve(de.attributesRequired,Ce=>Qu(X,Ce))){wi(X);return}if(de.removeEmptyAttrs&&Us(X)){wi(X);return}de.outputName&&de.outputName!==q&&Vx(X,de.outputName)}},cL=(e,t,n,s,l)=>{const f=e.tagName.toLowerCase(),{attrName:g,attrValue:_}=l;l.keepAttr=v2(t,n,s,f,g,_),l.keepAttr?(l.allowedAttributes[g]=!0,B4(g,n)&&(l.attrValue=g),t.allow_svg_data_urls&&Ur(_,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):I4(e,g)&&(l.forceKeepAttr=!0)},v2=(e,t,n,s,l,f)=>n!=="html"&&!am(s)?!0:!(l in lL&&R4(e,f,s))&&(!e.validate||t.isValid(s,l)||Ur(l,"data-")||Ur(l,"aria-")),I4=(e,t)=>e.hasAttribute(N4)&&(t==="id"||t==="class"||t==="style"),B4=(e,t)=>e in t.getBoolAttrs(),ON=(e,t,n,s)=>{const{attributes:l}=e;for(let f=l.length-1;f>=0;f--){const g=l[f],_=g.name,A=g.value;!v2(t,n,s,e.tagName.toLowerCase(),_,A)&&!I4(e,_)?e.removeAttribute(_):B4(_,n)&&e.setAttribute(_,_)}},uL=(e,t,n)=>{const s=D4();return s.addHook("uponSanitizeElement",(l,f)=>{TN(l,e,t,n.track(l),f)}),s.addHook("uponSanitizeAttribute",(l,f)=>{cL(l,e,t,n.current(),f)}),s},dL=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},DN=e=>{const t=Dw(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};D4().sanitize(e,s)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};D4().sanitize(e,n)}else throw new Error("Not a namespace element")},fL=(e,t)=>{const n=ak();if(e.sanitize){const s=uL(e,t,n);return{sanitizeHtmlElement:(f,g)=>{s.sanitize(f,dL(e,g)),s.removed=[],n.reset()},sanitizeNamespaceElement:DN}}else return{sanitizeHtmlElement:(f,g)=>{const _=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const F=n.track(A);TN(A,e,t,F),bn(A)&&ON(A,e,t,F)}n.reset()},sanitizeNamespaceElement:Jt}},UC=Zt.makeMap,M4=Zt.extend,RN=(e,t,n,s)=>{const l=e.name,f=l in n&&l!=="title"&&l!=="textarea"&&l!=="noscript",g=t.childNodes;for(let _=0,A=g.length;_<A;_++){const F=g[_],j=new ci(F.nodeName.toLowerCase(),F.nodeType);if(bn(F)){const q=F.attributes;for(let X=0,ue=q.length;X<ue;X++){const xe=q[X];j.attr(xe.name,xe.value)}am(j.name)&&(s(F),j.value=F.innerHTML)}else Mt(F)?(j.value=F.data,f&&(j.raw=!0)):(fo(F)||fx(F)||Xd(F))&&(j.value=F.data);am(j.name)||RN(j,F,n,s),e.append(j)}},Ya=(e,t,n)=>{const s=[];for(let l=e,f=l;l;f=l,l=l.walk()){const g=l;me(t,_=>_(g)),mt(g.parent)&&g!==e?l=f:s.push(g)}for(let l=s.length-1;l>=0;l--){const f=s[l];me(n,g=>g(f))}},zm=(e,t,n,s)=>{const l=n.validate,f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),_=M4(UC("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=i1(t),F=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,X=je=>{let Ue=je.parent;for(;Ee(Ue);){if(Ue.name in g)return!0;Ue=Ue.parent}return!1},ue=je=>{let Ue=je;for(;Ee(Ue);){if(Ue.name in A)return lv(t,f,g,Ue);Ue=Ue.parent}return!1},xe=je=>je.name in _||Eh(t,je)||am(je.name)&&je.parent===e,de=(je,Ue)=>{const rt=Ue?je.prev:je.next;return Ee(rt)||mt(je.parent)?!1:xe(je.parent)&&(je.parent!==e||s.isRootContent===!0)};return[je=>{var Ue;if(je.type===3&&!X(je)){let rt=(Ue=je.value)!==null&&Ue!==void 0?Ue:"";rt=rt.replace(F," "),(bR(je.prev,xe)||de(je,!0))&&(rt=rt.replace(j,"")),rt.length===0||rt===" "&&je.prev&&je.prev.type===Hd&&je.next&&je.next.type===Hd?je.remove():je.value=rt}},je=>{var Ue;if(je.type===1){const rt=t.getElementRule(je.name);if(l&&rt){const Rt=lv(t,f,g,je);rt.paddInEmptyBlock&&Rt&&ue(je)?gC(n,s,xe,je):rt.removeEmpty&&Rt?xe(je)?je.remove():je.unwrap():rt.paddEmpty&&(Rt||hC(je))&&gC(n,s,xe,je)}}else if(je.type===3&&!X(je)){let rt=(Ue=je.value)!==null&&Ue!==void 0?Ue:"";(je.next&&xe(je.next)||de(je,!1))&&(rt=rt.replace(q,"")),rt.length===0?je.remove():je.value=rt}}]},mL=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},gv=(e={},t=dc())=>{const n=PC(),s=PC(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,g=fL(l,t),_=(Ue,rt,Rt="html")=>{const Wt=Rt==="xhtml"?"application/xhtml+xml":"text/html",cn=Gn(t.getSpecialElements(),rt.toLowerCase()),bt=cn?`<${rt}>${Ue}</${rt}>`:Ue,ct=()=>Rt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${bt}</body></html>`:/^[\s]*<head/i.test(Ue)||/^[\s]*<html/i.test(Ue)||/^[\s]*<!DOCTYPE/i.test(Ue)?`<html>${bt}</html>`:`<body>${bt}</body>`,Ot=f.parseFromString(ct(),Wt).body;return g.sanitizeHtmlElement(Ot,Wt),cn?Ot.firstChild:Ot},A=n.addFilter,F=n.getFilters,j=n.removeFilter,q=s.addFilter,X=s.getFilters,ue=s.removeFilter,xe=(Ue,rt)=>{a2(t,Ue)&&rt.push(Ue)},de=(Ue,rt)=>{const Rt=Be(rt.attr(N4)),Wt=rt.type===1&&!Gn(Ue,rt.name)&&!Eh(t,rt)&&!am(rt.name);return rt.type===3||Wt&&!Rt},Ce=(Ue,rt)=>{const Rt=M4(UC("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Wt=/^[ \t\r\n]+/,cn=/[ \t\r\n]+$/;let bt=Ue.firstChild,ct=null;const Ot=gn=>{var On,vo;gn&&(bt=gn.firstChild,bt&&bt.type===3&&(bt.value=(On=bt.value)===null||On===void 0?void 0:On.replace(Wt,"")),bt=gn.lastChild,bt&&bt.type===3&&(bt.value=(vo=bt.value)===null||vo===void 0?void 0:vo.replace(cn,"")))};if(t.isValidChild(Ue.name,rt.toLowerCase())){for(;bt;){const gn=bt.next;de(Rt,bt)?(ct||(ct=new ci(rt,1),ct.attr(l.forced_root_block_attrs),Ue.insert(ct,bt)),ct.append(bt)):(Ot(ct),ct=null),bt=gn}Ot(ct)}},je={schema:t,addAttributeFilter:q,getAttributeFilters:X,removeAttributeFilter:ue,addNodeFilter:A,getNodeFilters:F,removeNodeFilter:j,parse:(Ue,rt={})=>{var Rt;const Wt=l.validate,cn=(Rt=rt.context)!==null&&Rt!==void 0?Rt:l.root_name,bt=_(Ue,cn,rt.format);Ds(t,bt);const ct=new ci(cn,11);RN(ct,bt,t.getSpecialElements(),g.sanitizeNamespaceElement),bt.innerHTML="";const[Ot,gn]=zm(ct,t,l,rt),On=[],vo=Wt?js=>xe(js,On):Jt,Ao={nodes:{},attributes:{}},cr=js=>C3(F(),X(),js,Ao);if(Ya(ct,[Ot,cr],[gn,vo]),On.reverse(),Wt&&On.length>0)if(rt.context){const{pass:js,fail:cl}=$t(On,Or=>Or.parent===ct);Jc(cl,t,ct,cr),rt.invalid=js.length>0}else Jc(On,t,ct,cr);const wr=mL(l,rt);return wr&&(ct.name==="body"||rt.isRootContent)&&Ce(ct,wr),rt.invalid||S3(Ao,rt),ct}};return YP(je,l),WP(je,l,t),je},gL=e=>c0(e)?Kg({validate:!1}).serialize(e):e,P4=(e,t,n)=>{const s=gL(e),l=t(s);if(l.isDefaultPrevented())return l;if(c0(e))if(l.content!==s){const f=gv({validate:!1,forced_root_block:!1,...n}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},m0=e=>({sanitize:RO(e),sandbox_iframes:Fk(e),sandbox_iframes_exclusions:n_(e)}),NN=(e,t)=>{if(t.no_events)return $n.value(t);{const n=wf(e,t);return n.isDefaultPrevented()?$n.error(B5(e,{content:"",...n}).content):$n.value(n)}},Sd=(e,t,n)=>n.no_events?t:P4(t,l=>B5(e,{...n,content:l}),m0(e)).content,L4=(e,t)=>{if(t.no_events)return $n.value(t);{const n=P4(t.content,s=>d7(e,{...t,content:s}),m0(e));return n.isDefaultPrevented()?(Hl(e,n),$n.error(void 0)):$n.value(n)}},F4=(e,t,n)=>{n.no_events||Hl(e,{...n,content:t})},WC=(e,t,n)=>({element:e,width:t,rows:n}),z4=(e,t)=>({element:e,cells:t}),hL=(e,t)=>({x:e,y:t}),ZC=(e,t)=>Oc(e,t).bind(nn).getOr(1),Hm=(e,t,n,s,l)=>{const f=ZC(l,"rowspan"),g=ZC(l,"colspan"),_=e.rows;for(let A=n;A<n+f;A++){_[A]||(_[A]=z4(hm(s),[]));for(let F=t;F<t+g;F++){const j=_[A].cells;j[F]=A===n&&F===t?l:Ns(l)}}},IN=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},BN=(e,t,n)=>{for(;IN(e,t,n);)t++;return t},x2=e=>It(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),jC=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const l=n[s].cells;for(let f=0;f<l.length;f++)if(Po(l[f],t))return J.some(hL(f,s))}return J.none()},H4=(e,t,n,s,l)=>{const f=[],g=e.rows;for(let _=n;_<=l;_++){const A=g[_].cells,F=t<s?A.slice(t,s+1):A.slice(s,t+1);f.push(z4(g[_].element,F))}return f},MN=(e,t,n)=>{const s=t.x,l=t.y,f=n.x,g=n.y,_=l<g?H4(e,s,l,f,g):H4(e,s,g,f,l);return WC(e.element,x2(_),_)},PN=(e,t)=>{const n=Ns(e.element),s=Re.fromTag("tbody");return Ls(s,t),As(n,s),n},pL=e=>Ie(e.rows,t=>{const n=Ie(t.cells,l=>{const f=hm(l);return go(f,"colspan"),go(f,"rowspan"),f}),s=Ns(t.element);return Ls(s,n),s}),bL=e=>{const t=WC(Ns(e),0,[]);return me(Ys(e,"tr"),(n,s)=>{me(Ys(n,"td,th"),(l,f)=>{Hm(t,BN(t,f,s),s,n,l)})}),WC(t.element,x2(t.rows),t.rows)},vL=e=>PN(e,pL(e)),LN=(e,t,n)=>jC(e,t).bind(s=>jC(e,n).map(l=>MN(e,s,l))),FN=e=>vn(e,t=>Mo(t)==="ul"||Mo(t)==="ol"),xL=(e,t)=>vn(e,n=>Mo(n)==="li"&&yy(n,t)).fold(ot([]),n=>FN(e).map(s=>{const l=Re.fromTag(Mo(s)),f=Jl(gg(s),(g,_)=>Ur(_,"list-style"));return Io(l,f),[Re.fromTag("li"),l]}).getOr([])),$4=(e,t)=>{const n=It(t,(s,l)=>(As(l,s),l),e);return t.length>0?xc([n]):n},zN=e=>bm(e)?$a(e).filter(_b).fold(ot([]),t=>[e,t]):_b(e)?[e]:[],yL=(e,t,n)=>{const s=Re.fromDom(t.commonAncestorContainer),l=wc(s,e),f=xt(l,A=>n.isWrapper(Mo(A))),g=xL(l,t),_=f.concat(g.length?g:zN(s));return Ie(_,Ns)},V4=()=>xc([]),wL=(e,t,n)=>$4(Re.fromDom(t.cloneContents()),yL(e,t,n)),_L=(e,t)=>Bc(t,"table",yt(Po,e)),il=(e,t)=>_L(e,t[0]).bind(n=>{const s=t[0],l=t[t.length-1],f=bL(n);return LN(f,s,l).map(g=>xc([vL(g)]))}).getOrThunk(V4),CL=(e,t,n)=>t.length>0&&t[0].collapsed?V4():wL(e,t[0],n),SL=(e,t,n)=>{const s=h5(t,e);return s.length>0?il(e,s):CL(e,t,n)},KC=(e,t)=>t>=0&&t<e.length&&Zb(e.charAt(t)),HN=e=>rl(e.innerText),qC=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),kL=e=>J.from(e.selection.getRng()).map(t=>{var n;const s=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=qC(s),g=Re.fromDom(t.cloneContents());CD(g),SD(g);const _=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=HN(_),F=rl((n=_.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(_),KC(F,0)||KC(F,F.length-1)){const j=s.getOr(l),q=HN(j),X=q.indexOf(A);if(X===-1)return A;{const ue=KC(q,X-1),xe=KC(q,X+A.length);return(ue?" ":"")+A+(xe?" ":"")}}else return A}).getOr(""),U4=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),l=e.selection.getSel(),f=V_(e,Jr(l)),g=t.contextual?SL(Re.fromDom(e.getBody()),f,e.schema).dom:n.cloneContents();return g&&s.appendChild(g),e.selection.serializer.serialize(s,t)},W4=(e,t)=>{if(t.format==="text")return kL(e);{const n=U4(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},EL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),AL=(e,t,n={})=>{const s=EL(n,t);return NN(e,s).fold(Vn,l=>{const f=W4(e,l);return Sd(e,f,l)})},Pu=0,Z4=1,$N=2,j4=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),l=new Array(n),f=(j,q,X)=>({start:j,end:q,diag:X}),g=(j,q,X,ue,xe)=>{const de=A(j,q,X,ue);if(de===null||de.start===q&&de.diag===q-ue||de.end===j&&de.diag===j-X){let Ce=j,ze=X;for(;Ce<q||ze<ue;)Ce<q&&ze<ue&&e[Ce]===t[ze]?(xe.push([Pu,e[Ce]]),++Ce,++ze):q-j>ue-X?(xe.push([$N,e[Ce]]),++Ce):(xe.push([Z4,t[ze]]),++ze)}else{g(j,de.start,X,de.start-de.diag,xe);for(let Ce=de.start;Ce<de.end;++Ce)xe.push([Pu,e[Ce]]);g(de.end,q,de.end-de.diag,ue,xe)}},_=(j,q,X,ue)=>{let xe=j;for(;xe-q<ue&&xe<X&&e[xe]===t[xe-q];)++xe;return f(j,xe,q)},A=(j,q,X,ue)=>{const xe=q-j,de=ue-X;if(xe===0||de===0)return null;const Ce=xe-de,ze=de+xe,je=(ze%2===0?ze:ze+1)/2;s[1+je]=j,l[1+je]=q+1;let Ue,rt,Rt,Wt,cn;for(Ue=0;Ue<=je;++Ue){for(rt=-Ue;rt<=Ue;rt+=2){for(Rt=rt+je,rt===-Ue||rt!==Ue&&s[Rt-1]<s[Rt+1]?s[Rt]=s[Rt+1]:s[Rt]=s[Rt-1]+1,Wt=s[Rt],cn=Wt-j+X-rt;Wt<q&&cn<ue&&e[Wt]===t[cn];)s[Rt]=++Wt,++cn;if(Ce%2!==0&&Ce-Ue<=rt&&rt<=Ce+Ue&&l[Rt-Ce]<=s[Rt])return _(l[Rt-Ce],rt+j-X,q,ue)}for(rt=Ce-Ue;rt<=Ce+Ue;rt+=2){for(Rt=rt+je-Ce,rt===Ce-Ue||rt!==Ce+Ue&&l[Rt+1]<=l[Rt-1]?l[Rt]=l[Rt+1]-1:l[Rt]=l[Rt-1],Wt=l[Rt]-1,cn=Wt-j+X-rt;Wt>=j&&cn>=X&&e[Wt]===t[cn];)l[Rt]=Wt--,cn--;if(Ce%2===0&&-Ue<=rt&&rt<=Ue&&l[Rt]<=s[Rt+Ce])return _(l[Rt],rt+j-X,q,ue)}}return null},F=[];return g(0,e.length,0,t.length,F),F},K4=e=>bn(e)?e.outerHTML:Mt(e)?_g.encodeRaw(e.data,!1):fo(e)?"<!--"+e.data+"-->":"",GC=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},VN=(e,t,n)=>{const s=GC(t);if(e.hasChildNodes()&&n<e.childNodes.length){const l=e.childNodes[n];e.insertBefore(s,l)}else e.appendChild(s)},UN=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},WN=(e,t)=>{let n=0;me(e,s=>{s[0]===Pu?n++:s[0]===Z4?(VN(t,s[1],n),n++):s[0]===$N&&UN(t,n)})},TL=(e,t)=>xt(Ie(so(e.childNodes),pn(rl,K4)),n=>n.length>0),OL=(e,t)=>{const n=Ie(so(t.childNodes),K4);return WN(j4(n,e),t),t},q4=dl(()=>document.implementation.createHTMLDocument("undo")),DL=e=>e.querySelector("iframe")!==null,RL=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),YC=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),hv=e=>{const t=e.serializer.getTempAttrs(),n=PE(e.getBody(),t);return DL(n)?RL(TL(n)):YC(rl(n.innerHTML))},y2=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?OL(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ee(s)&&i5(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},XC=e=>e.type==="fragmented"?e.fragments.join(""):e.content,eh=e=>{const t=Re.fromTag("body",q4());return tm(t,XC(e)),me(Ys(t,"*[data-mce-bogus]"),wi),rd(t)},NL=(e,t)=>XC(e)===XC(t),IL=(e,t)=>eh(e)===eh(t),pv=(e,t)=>!e||!t?!1:NL(e,t)?!0:IL(e,t),JC=e=>e.get()===0,w2=(e,t,n)=>{JC(n)&&(e.typing=t)},G4=(e,t)=>{e.typing&&(w2(e,!1,t),e.add())},BL=e=>{e.typing&&(e.typing=!1,e.add())},ML=(e,t,n)=>{JC(t)&&n.set(fn(e.selection))},Y4=(e,t,n,s,l,f,g)=>{const _=hv(e),A=Zt.extend(f||{},_);if(!JC(s)||e.removed)return null;const F=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:F,originalEvent:g}).isDefaultPrevented()||F&&pv(F,A))return null;t.data[n.get()]&&l.get().each(X=>{t.data[n.get()].beforeBookmark=X});const j=SO(e);if(j&&t.data.length>j){for(let X=0;X<t.data.length-1;X++)t.data[X]=t.data[X+1];t.data.length--,n.set(t.data.length)}A.bookmark=fn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const q={level:A,lastLevel:F,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",q),e.dispatch("change",q)):e.dispatch("AddUndo",q),A},X4=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},J4=(e,t,n,s,l)=>{if(t.transact(s)){const f=t.data[n.get()].bookmark,g=t.data[n.get()-1];y2(e,g,!0),t.transact(l)&&(t.data[n.get()-1].beforeBookmark=f)}},ZN=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],y2(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},QC=(e,t,n,s)=>{let l;return t.typing&&(t.add(),t.typing=!1,w2(t,!1,n)),s.get()>0&&(s.set(s.get()-1),l=t.data[s.get()],y2(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},jN=e=>{e.clear(),e.add()},KN=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!pv(hv(e),t.data[0]),PL=(e,t)=>t.get()<e.data.length-1&&!e.typing,LL=(e,t,n)=>(G4(e,t),e.beforeChange(),e.ignore(n),e.add()),Q4=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},qN=(e,t)=>{const n=e.dom,s=Ee(t)?t:e.getBody();me(n.select("table,a",s),l=>{switch(l.nodeName){case"TABLE":const f=e_(e),g=n.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?n.addClass(l,f):n.removeClass(l,f);break;case"A":if(!n.getAttrib(l,"href")){const _=n.getAttrib(l,"name")||l.id,A=z1(e);_&&e.hasVisual?n.addClass(l,A):n.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},eA=e=>({init:{bindEvents:Jt},undoManager:{beforeChange:(t,n)=>ML(e,t,n),add:(t,n,s,l,f,g)=>Y4(e,t,n,s,l,f,g),undo:(t,n,s)=>QC(e,t,n,s),redo:(t,n)=>ZN(e,t,n),clear:(t,n)=>X4(e,t,n),reset:t=>jN(t),hasUndo:(t,n)=>KN(e,t,n),hasRedo:(t,n)=>PL(t,n),transact:(t,n,s)=>LL(t,n,s),ignore:(t,n)=>Q4(t,n),extra:(t,n,s,l)=>J4(e,t,n,s,l)},formatter:{match:(t,n,s,l)=>ap(e,t,n,s,l),matchAll:(t,n)=>RR(e,t,n),matchNode:(t,n,s,l)=>Pm(e,t,n,s,l),canApply:t=>IR(e,t),closest:t=>NR(e,t),apply:(t,n,s)=>JR(e,t,n,s),remove:(t,n,s,l)=>up(e,t,n,s,l),toggle:(t,n,s)=>HP(e,t,n,s),formatChanged:(t,n,s,l,f)=>zP(e,t,n,s,l,f)},editor:{getContent:t=>AD(e,t),setContent:(t,n)=>RP(e,t,n),insertContent:(t,n)=>SC(e,t,n),addVisual:t=>qN(e,t)},selection:{getContent:(t,n)=>AL(e,t,n)},autocompleter:{addDecoration:Jt,removeDecoration:Jt},raw:{getModel:()=>J.none()}}),FL=e=>{const t=F=>ie(F)?F:{},{init:n,undoManager:s,formatter:l,editor:f,selection:g,autocompleter:_,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(F,j,q)=>s.transact(q),ignore:(F,j)=>s.ignore(j),extra:(F,j,q,X)=>s.extra(q,X)},formatter:{match:(F,j,q,X)=>l.match(F,t(j),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:F=>l.canApply(F),closest:F=>l.closest(F),apply:(F,j,q)=>l.apply(F,t(j)),remove:(F,j,q,X)=>l.remove(F,t(j)),toggle:(F,j,q)=>l.toggle(F,t(j)),formatChanged:(F,j,q,X,ue)=>l.formatChanged(j,q,X,ue)},editor:{getContent:F=>f.getContent(F),setContent:(F,j)=>({content:f.setContent(F,j),html:""}),insertContent:(F,j)=>(f.insertContent(F),""),addVisual:f.addVisual},selection:{getContent:(F,j)=>g.getContent(j)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},zL=()=>{const e=ot(null),t=ot("");return{init:{bindEvents:Jt},undoManager:{beforeChange:Jt,add:e,undo:e,redo:e,clear:Jt,reset:Jt,hasUndo:En,hasRedo:En,transact:e,ignore:Jt,extra:Jt},formatter:{match:En,matchAll:ot([]),matchNode:ot(void 0),canApply:En,closest:t,apply:Jt,remove:Jt,toggle:Jt,formatChanged:ot({unbind:Jt})},editor:{getContent:t,setContent:ot({content:"",html:""}),insertContent:ot(""),addVisual:Jt},selection:{getContent:t},autocompleter:{addDecoration:Jt,removeDecoration:Jt},raw:{getModel:ot(J.none())}}},$m=e=>Gn(e.plugins,"rtc"),GN=e=>ir(e.plugins,"rtc").bind(t=>J.from(t.setup)),YN=e=>{const t=e;return GN(e).fold(()=>(t.rtcInstance=eA(e),J.none()),n=>(t.rtcInstance=zL(),J.some(()=>n().then(s=>(t.rtcInstance=FL(s),s.rtc.isRemote)))))},tA=e=>e.rtcInstance?e.rtcInstance:eA(e),Xa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},bv=(e,t,n)=>{Xa(e).undoManager.beforeChange(t,n)},HL=(e,t,n,s,l,f,g)=>Xa(e).undoManager.add(t,n,s,l,f,g),$L=(e,t,n,s)=>Xa(e).undoManager.undo(t,n,s),XN=(e,t,n)=>Xa(e).undoManager.redo(t,n),JN=(e,t,n)=>{Xa(e).undoManager.clear(t,n)},eS=(e,t)=>{Xa(e).undoManager.reset(t)},VL=(e,t,n)=>Xa(e).undoManager.hasUndo(t,n),UL=(e,t,n)=>Xa(e).undoManager.hasRedo(t,n),WL=(e,t,n,s)=>Xa(e).undoManager.transact(t,n,s),ZL=(e,t,n)=>{Xa(e).undoManager.ignore(t,n)},jL=(e,t,n,s,l)=>{Xa(e).undoManager.extra(t,n,s,l)},KL=(e,t,n,s,l)=>Xa(e).formatter.match(t,n,s,l),qL=(e,t,n)=>Xa(e).formatter.matchAll(t,n),GL=(e,t,n,s,l)=>Xa(e).formatter.matchNode(t,n,s,l),YL=(e,t)=>Xa(e).formatter.canApply(t),XL=(e,t)=>Xa(e).formatter.closest(t),Pr=(e,t,n,s)=>{Xa(e).formatter.apply(t,n,s)},QN=(e,t,n,s,l)=>{Xa(e).formatter.remove(t,n,s,l)},nA=(e,t,n,s)=>{Xa(e).formatter.toggle(t,n,s)},e6=(e,t,n,s,l,f)=>Xa(e).formatter.formatChanged(t,n,s,l,f),t6=(e,t)=>tA(e).editor.getContent(t),oA=(e,t,n)=>tA(e).editor.setContent(t,n),JL=(e,t,n)=>tA(e).editor.insertContent(t,n),QL=(e,t,n)=>Xa(e).selection.getContent(t,n),n6=(e,t)=>Xa(e).editor.addVisual(t),o6=e=>Xa(e).init.bindEvents(),eF=(e,t={})=>{const n=t.format?t.format:"html";return QL(e,n,t)},g0=e=>e.dom.length===0?(lr(e),J.none()):J.some(e),tF=(e,t)=>e.filter(n=>Sr.isBookmarkNode(n.dom)).bind(t?Bn:ta),vv=(e,t,n,s,l)=>{const f=e.dom,g=t.dom,_=s?f.length:g.length;s?(Qy(f,g,l,!1,!s),n.setStart(g,_)):(Qy(g,f,l,!1,!s),n.setEnd(g,_))},_2=(e,t,n)=>{$a(e).each(s=>{const l=e.dom;t&&rv(s,dt(l,0),n)?J_(l,0,n):!t&&s0(s,dt(l,l.length),n)&&ws(l,l.length,n)})},h0=(e,t,n,s,l)=>{e.bind(f=>((s?ws:J_)(f.dom,s?f.dom.length:0,l),t.filter(Wr).map(_=>vv(f,_,n,s,l)))).orThunk(()=>tF(t,s).or(t).filter(Wr).map(g=>_2(g,s,l)))},rA=(e,t,n)=>{const s=J.from(t.firstChild).map(Re.fromDom),l=J.from(t.lastChild).map(Re.fromDom);e.deleteContents(),e.insertNode(t);const f=s.bind(ta).filter(Wr).bind(g0),g=l.bind(Bn).filter(Wr).bind(g0);h0(f,s,e,!0,n),h0(g,l,e,!1,n),e.collapse(!1)},r6=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),s6=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),l=s?{context:s.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return Kg({validate:!1},e.schema).serialize(f)}else return t.content},sA=(e,t,n={})=>{const s=r6(n,t);L4(e,s).each(l=>{const f=s6(e,l),g=e.selection.getRng();rA(g,g.createContextualFragment(f),e.schema),e.selection.setRng(g),Au(e,g),F4(e,f,l)})},aA=(e,t,n)=>{if(Gn(e,t)){const s=xt(e[t],l=>l!==n);s.length===0?delete e[t]:e[t]=s}};var a6=(e,t)=>{let n,s;const l=(_,A)=>vn(A,F=>e.is(F,_)),f=_=>e.getParents(_,void 0,e.getRoot()),g=()=>{n={},s={},t.on("NodeChange",_=>{const A=_.element,F=f(A),j={};Vo(n,(q,X)=>{l(X,F).each(ue=>{s[X]||(me(q,xe=>{xe(!0,{node:ue,selector:X,parents:F})}),s[X]=q),j[X]=q})}),Vo(s,(q,X)=>{j[X]||(delete s[X],me(q,ue=>{ue(!1,{node:A,selector:X,parents:F})}))})})};return{selectorChangedWithUnbind:(_,A)=>(n||g(),n[_]||(n[_]=[]),n[_].push(A),l(_,f(t.selection.getStart())).each(()=>{s[_]=n[_]}),{unbind:()=>{aA(n,_,A),aA(s,_,A)}})}};const iA=e=>!!(e&&e.ownerDocument)&&Ha(Re.fromDom(e.ownerDocument),Re.fromDom(e)),lA=e=>e?iA(e.startContainer)&&iA(e.endContainer):!1,cA=(e,t,n,s)=>{let l,f;const{selectorChangedWithUnbind:g}=a6(e,s),_=(Yt,kn)=>{const Yo=e.createRng();Ee(Yt)&&Ee(kn)?(Yo.setStart(Yt,kn),Yo.setEnd(Yt,kn),rt(Yo),ze(!1)):(wy(e,Yo,s.getBody(),!0),rt(Yo))},A=Yt=>eF(s,Yt),F=(Yt,kn)=>sA(s,Yt,kn),j=Yt=>pD(s.getBody(),Ue(),Yt),q=Yt=>bD(s.getBody(),Ue(),Yt),X=(Yt,kn)=>cl.getBookmark(Yt,kn),ue=Yt=>cl.moveToBookmark(Yt),xe=(Yt,kn)=>(jy(e,Yt,kn).each(rt),Yt),de=()=>{const Yt=Ue(),kn=je();return!Yt||Yt.item?!1:Yt.compareEndPoints?Yt.compareEndPoints("StartToEnd",Yt)===0:!kn||Yt.collapsed},Ce=()=>{const Yt=Ue(),kn=s.getBody().querySelectorAll('[data-mce-selected="1"]');return kn.length>0?po(kn,Yo=>e.isEditable(Yo.parentElement)):gD(e,Yt)},ze=Yt=>{const kn=Ue();kn.collapse(!!Yt),rt(kn)},je=()=>t.getSelection?t.getSelection():t.document.selection,Ue=()=>{let Yt;const kn=(tn,zn,So)=>{try{return zn.compareBoundaryPoints(tn,So)}catch{return-1}},Yo=t.document;if(Ee(s.bookmark)&&!X1(s)){const tn=OE(s);if(tn.isSome())return tn.map(zn=>V_(s,[zn])[0]).getOr(Yo.createRange())}try{const tn=je();tn&&!qd(tn.anchorNode)&&(tn.rangeCount>0?Yt=tn.getRangeAt(0):Yt=Yo.createRange(),Yt=V_(s,[Yt])[0])}catch{}if(Yt||(Yt=Yo.createRange()),wn(Yt.startContainer)&&Yt.collapsed){const tn=e.getRoot();Yt.setStart(tn,0),Yt.setEnd(tn,0)}return l&&f&&(kn(Yt.START_TO_START,Yt,l)===0&&kn(Yt.END_TO_END,Yt,l)===0?Yt=f:(l=null,f=null)),Yt},rt=(Yt,kn)=>{if(!lA(Yt))return;const Yo=je();if(Yt=s.dispatch("SetSelectionRange",{range:Yt,forward:kn}).range,Yo){f=Yt;try{Yo.removeAllRanges(),Yo.addRange(Yt)}catch{}kn===!1&&Yo.extend&&(Yo.collapse(Yt.endContainer,Yt.endOffset),Yo.extend(Yt.startContainer,Yt.startOffset)),l=Yo.rangeCount>0?Yo.getRangeAt(0):null}if(!Yt.collapsed&&Yt.startContainer===Yt.endContainer&&(Yo!=null&&Yo.setBaseAndExtent)&&Yt.endOffset-Yt.startOffset<2&&Yt.startContainer.hasChildNodes()){const zn=Yt.startContainer.childNodes[Yt.startOffset];zn&&zn.nodeName==="IMG"&&(Yo.setBaseAndExtent(Yt.startContainer,Yt.startOffset,Yt.endContainer,Yt.endOffset),(Yo.anchorNode!==Yt.startContainer||Yo.focusNode!==Yt.endContainer)&&Yo.setBaseAndExtent(zn,0,zn,1))}s.dispatch("AfterSetSelectionRange",{range:Yt,forward:kn})},Rt=Yt=>(F(e.getOuterHTML(Yt)),Yt),Wt=()=>Z7(s.getBody(),Ue()),cn=(Yt,kn)=>BE(e,Ue(),Yt,kn),bt=()=>{const Yt=je(),kn=Yt==null?void 0:Yt.anchorNode,Yo=Yt==null?void 0:Yt.focusNode;if(!Yt||!kn||!Yo||qd(kn)||qd(Yo))return!0;const tn=e.createRng(),zn=e.createRng();try{tn.setStart(kn,Yt.anchorOffset),tn.collapse(!0),zn.setStart(Yo,Yt.focusOffset),zn.collapse(!0)}catch{return!0}return tn.compareBoundaryPoints(tn.START_TO_START,zn)<=0},js={dom:e,win:t,serializer:n,editor:s,expand:(Yt={type:"word"})=>rt(Yh(e).expand(Ue(),Yt)),collapse:ze,setCursorLocation:_,getContent:A,setContent:F,getBookmark:X,moveToBookmark:ue,select:xe,isCollapsed:de,isEditable:Ce,isForward:bt,setNode:Rt,getNode:Wt,getSel:je,setRng:rt,getRng:Ue,getStart:j,getEnd:q,getSelectedBlocks:cn,normalize:()=>{const Yt=Ue(),kn=je();if(!by(kn)&&W1(s)){const Yo=Om(e,Yt);return Yo.each(tn=>{rt(tn,bt())}),Yo.getOr(Yt)}return Yt},selectorChanged:(Yt,kn)=>(g(Yt,kn),js),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Yt,kn=e.getRoot();for(;kn&&kn.nodeName!=="BODY";){if(kn.scrollHeight>kn.clientHeight){Yt=kn;break}kn=kn.parentNode}return Yt},scrollIntoView:(Yt,kn)=>{Ee(Yt)?kE(s,Yt,kn):Au(s,Ue(),kn)},placeCaretAt:(Yt,kn)=>rt(U5(Yt,kn,s.getDoc())),getBoundingClientRect:()=>{const Yt=Ue();return Yt.collapsed?dt.fromRangeStart(Yt).getClientRects()[0]:Yt.getBoundingClientRect()},destroy:()=>{t=l=f=null,Or.destroy()}},cl=Sr(js),Or=vr(js,s);return js.bookmarkManager=cl,js.controlSelection=Or,js},i6=(e,t,n)=>{t.addNodeFilter("br",(s,l,f)=>{const g=Zt.extend({},n.getBlockElements()),_=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const F=j=>j.name in g||Eh(n,j);for(let j=0,q=s.length;j<q;j++){let X=s[j],ue=X.parent;if(ue&&F(ue)&&X===ue.lastChild){let xe=X.prev;for(;xe;){const de=xe.name;if(de!=="span"||xe.attr("data-mce-type")!=="bookmark"){de==="br"&&(X=null);break}xe=xe.prev}if(X&&(X.remove(),lv(n,_,A,ue))){const de=n.getElementRule(ue.name);de&&(de.removeEmpty?ue.remove():de.paddEmpty&&gC(e,f,F,ue))}}else{let xe=X;for(;ue&&ue.firstChild===xe&&ue.lastChild===xe&&(xe=ue,!g[ue.name]);)ue=ue.parent;if(xe===ue){const de=new ci("#text",3);de.value=ua,X.replace(de)}}}})},uA=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",(s,l)=>{const f="data-mce-"+l,g=t.url_converter,_=t.url_converter_scope;let A=s.length;for(;A--;){const F=s[A];let j=F.attr(f);j!==void 0?(F.attr(l,j.length>0?j:null),F.attr(f,null)):(j=F.attr(l),l==="style"?j=n.serializeStyle(n.parseStyle(j),F.name):g&&(j=g.call(_,j,l,F.name)),F.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",s=>{let l=s.length;for(;l--;){const f=s[l];let g=f.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(s,l,f)=>{let g=s.length;for(;g--;){const _=s[g];_.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(J.from(_.firstChild).exists(F=>{var j;return!hc((j=F.value)!==null&&j!==void 0?j:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(s,l)=>{var f;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=s.length;for(;_--;){const A=s[_],F=A.firstChild,j=(f=F==null?void 0:F.value)!==null&&f!==void 0?f:"";if(l==="script"){const q=A.attr("type");q&&A.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`// <![CDATA[
`+g(j)+`
// ]]>`)}else t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`<!--
`+g(j)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let l=s.length;for(;l--;){const f=s[l],g=f.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{me(s,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.remove_trailing_brs&&i6(t,e,e.schema)},nF=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},l6=(e,t,n)=>{let s;const l=e.dom;let f=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const _=g.createHTMLDocument("");Zt.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{_.body.appendChild(_.importNode(A,!0))}),f.nodeName!=="BODY"?f=_.body.firstChild:f=_.body,s=l.doc,l.doc=_}return Ty(e,{...n,node:f}),s&&(l.doc=s),f},c6=(e,t)=>Ee(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,u6=(e,t,n)=>c6(e,n)?l6(e,t,n):t,oF=(e,t,n)=>{Zt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.push(n))},rF=(e,t,n)=>!t.no_events&&e?Oy(e,{...t,content:n}).content:n,tS=(e,t,n)=>{const s=rl(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Cb(Re.fromDom(t))?s:Zt.trim(s)},d6=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,l=e.parse(t,s);return nF(l),l},f6=(e,t,n)=>Kg(e,t).serialize(n),m6=(e,t,n,s,l)=>{const f=f6(t,n,s);return rF(e,l,f)},sF=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Ar.DOM,f=t&&t.schema?t.schema:dc(s),g=gv(s,f);uA(g,s,l);const _=(A,F={})=>{const j={format:"html",...F},q=u6(t,A,j),X=tS(l,q,j),ue=d6(g,X,j);return j.format==="tree"?ue:m6(t,s,f,ue,j)};return{schema:f,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:_,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:yt(oF,g,n),getTempAttrs:ot(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},g6=(e,t)=>{const n=sF(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},aF="html",iF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),h6=(e,t={})=>{const n=t.format?t.format:aF,s=iF(t,n);return NN(e,s).fold(Vn,l=>{const f=t6(e,l);return Sd(e,f,l)})},p6="html",b6=(e,t)=>({format:p6,...e,set:!0,content:t}),dA=(e,t,n={})=>{const s=b6(n,t);return L4(e,s).map(l=>{const f=oA(e,l.content,l);return F4(e,f.html,l),f.content}).getOr(t)},lF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cF=[],uF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),C2=[],fA=(e,t)=>{const n=xt(t,s=>Gn(e,s));return ar(n)},dF=e=>{const t=fA(e,lF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ar(t)},v6=e=>fA(e,cF),mA=(e,t)=>{const n=Zt.makeMap(e.plugins," "),l=xt(t,f=>Gn(n,f));return ar(l)},gA=e=>mA(e,uF),x6=e=>mA(e,C2.map(t=>t.name)),y6=(e,t)=>{const n=dF(e),s=gA(t),l=s.length>0,f=n.length>0,g=t.theme==="mobile";if(l||f||g){const _=`
- `,A=g?`

Themes:${_}mobile`:"",F=l?`

Plugins:${_}${s.join(_)}`:"",j=f?`

Options:${_}${n.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+F+j)}},w6=e=>vn(C2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),fF=(e,t)=>{const n=v6(e),s=x6(t),l=s.length>0,f=n.length>0;if(l||f){const g=`
- `,_=l?`

Plugins:${g}${s.map(w6).join(g)}`:"",A=f?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},mF=(e,t)=>{y6(e,t),fF(e,t)},mp=Ar.DOM,gF=e=>{mp.setStyle(e.id,"display",e.orgDisplay)},S2=e=>J.from(e).each(t=>t.destroy()),nS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},_6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),mp.unbind(t,"submit reset",e.formEventDelegate))},C6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),l=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ee(l==null?void 0:l.nextSibling)&&mp.remove(l.nextSibling),Dy(e),e.editorManager.remove(e),!e.inline&&s&&gF(e),Ry(e),mp.remove(e.getContainer()),S2(t),S2(n),e.destroy()}},hF=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),S2(n),S2(s)),_6(e),nS(e),e.destroyed=!0}},k2=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>Gn(e,l)}})(),gp=zi.ModelManager,E2=(e,t)=>t.dom[e],hA=(e,t)=>parseInt(Es(t,e),10),pA=yt(E2,"clientWidth"),S6=yt(E2,"clientHeight"),pF=yt(hA,"margin-top"),k6=yt(hA,"margin-left"),bF=e=>e.dom.getBoundingClientRect(),E6=(e,t,n)=>{const s=pA(e),l=S6(e);return t>=0&&n>=0&&t<=s&&n<=l},A6=(e,t,n,s)=>{const l=bF(t),f=e?l.left+t.dom.clientLeft+k6(t):0,g=e?l.top+t.dom.clientTop+pF(t):0,_=n-f,A=s-g;return{x:_,y:A}},vF=(e,t,n)=>{const s=Re.fromDom(e.getBody()),l=e.inline?s:uu(s),f=A6(e.inline,l,t,n);return E6(l,f.x,f.y)},T6=e=>J.from(e).map(Re.fromDom),bA=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return T6(t).map(vi).getOr(!1)};var O6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const vA=e=>{const t=[],n=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():O6()},s=()=>J.from(t[0]),l=(X,ue)=>X.type===ue.type&&X.text===ue.text&&!X.progressBar&&!X.timeout&&!ue.progressBar&&!ue.timeout,f=()=>{s().each(X=>{X.reposition()})},g=X=>{t.push(X)},_=X=>{xn(t,ue=>ue===X).each(ue=>{t.splice(ue,1)})},A=(X,ue=!0)=>e.removed||!bA(e)?{}:(ue&&e.dispatch("BeforeOpenNotification",{notification:X}),vn(t,xe=>l(n().getArgs(xe),X)).getOrThunk(()=>{e.editorManager.setActive(e);const xe=n().open(X,()=>{_(xe)},()=>Qb(e));return g(xe),f(),e.dispatch("OpenNotification",{notification:{...xe}}),xe})),F=()=>{s().each(X=>{n().close(X),_(X),f()})},j=ot(t);return(X=>{X.on("SkinLoaded",()=>{const ue=EM(X);ue&&A({text:ue,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{me(t.slice(),ue=>{n().close(ue)})}),X.addShortcut("alt+F12","Focus to notification",()=>s().map(ue=>Re.fromDom(ue.getEl())).each(ue=>EE(ue)))})(e),{open:A,close:F,getNotifications:j}},p0=zi.PluginManager,hp=zi.ThemeManager;var xF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const D6=e=>{let t=[];const n=()=>{const de=e.theme;return de&&de.getWindowManagerImpl?de.getWindowManagerImpl():xF()},s=(de,Ce)=>(...ze)=>Ce?Ce.apply(de,ze):void 0,l=de=>{e.dispatch("OpenWindow",{dialog:de})},f=de=>{e.dispatch("CloseWindow",{dialog:de})},g=de=>{t.push(de),l(de)},_=de=>{f(de),t=xt(t,Ce=>Ce!==de),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),F=de=>{e.editorManager.setActive(e),Y1(e),e.ui.show();const Ce=de();return g(Ce),Ce},j=(de,Ce)=>F(()=>n().open(de,Ce,_)),q=de=>F(()=>n().openUrl(de,_)),X=(de,Ce,ze)=>{const je=n();je.alert(de,s(ze||je,Ce))},ue=(de,Ce,ze)=>{const je=n();je.confirm(de,s(ze||je,Ce))},xe=()=>{A().each(de=>{n().close(de),_(de)})};return e.on("remove",()=>{me(t,de=>{n().close(de)})}),{open:j,openUrl:q,alert:X,confirm:ue,close:xe}},oS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},rS=(e,t)=>{e._skinLoaded?oS(e,t):e.on("SkinLoaded",()=>{oS(e,t)})},R6=(e,t)=>{rS(e,fc.translate(["Failed to upload image: {0}",t]))},xv=(e,t,n)=>{dE(e,t,{message:n}),console.error(n)},b0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,xA=(e,t,n)=>{xv(e,"PluginLoadError",b0("plugin",t,n))},yA=(e,t,n)=>{xv(e,"IconsLoadError",b0("icons",t,n))},yF=(e,t,n)=>{xv(e,"LanguageLoadError",b0("language",t,n))},N6=(e,t,n)=>{xv(e,"ThemeLoadError",b0("theme",t,n))},wF=(e,t,n)=>{xv(e,"ModelLoadError",b0("model",t,n))},_F=(e,t,n)=>{const s=fc.translate(["Failed to initialize plugin: {0}",t]);dE(e,"PluginLoadError",{message:s}),A2(s,n),rS(e,s)},A2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},wA=e=>/^[a-z0-9\-]+$/i.test(e),_A=e=>"content/"+e+"/content.css",sS=e=>tinymce.Resource.has(_A(e)),CF=e=>I6(e,bl(e)),SF=e=>I6(e,pO(e)),I6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Ie(t,f=>sS(f)?f:wA(f)&&!e.inline?`${n}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},B6=e=>{e.contentCSS=e.contentCSS.concat(CF(e),SF(e))},M6=e=>e?so(e.getElementsByTagName("img")):[],kF=(e,t)=>{const n={};return{findAll:(l,f=Mn)=>{const g=xt(M6(l),A=>{const F=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===wo.transparentSrc?!1:Ur(F,"blob:")?!e.isUploaded(F)&&f(A):Ur(F,"data:")?f(A):!1}),_=Ie(g,A=>{const F=A.src;if(Gn(n,F))return n[F].then(j=>Be(j)?j:{image:A,blobInfo:j.blobInfo});{const j=h4(t,F).then(q=>(delete n[F],{image:A,blobInfo:q})).catch(q=>(delete n[F],q));return n[F]=j,j}});return Promise.all(_)}}},CA=()=>{let n={};const s=(X,ue)=>({status:X,resultUri:ue}),l=X=>X in n;return{hasBlobUri:l,getResultUri:X=>{const ue=n[X];return ue?ue.resultUri:null},isPending:X=>l(X)?n[X].status===1:!1,isUploaded:X=>l(X)?n[X].status===2:!1,markPending:X=>{n[X]=s(1,null)},markUploaded:(X,ue)=>{n[X]=s(2,ue)},removeFailed:X=>{delete n[X]},destroy:()=>{n={}}}};let T2=0;const P6=()=>{const e=()=>Math.round(ol()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},EF=e=>e+T2+++P6(),L6=()=>{let e=[];const t=q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[q.toLowerCase()]||"dat",n=(q,X,ue,xe,de)=>{if(Be(q))return s({id:q,name:xe,filename:de,blob:X,base64:ue});if(ie(q))return s(q);throw new Error("Unknown input type")},s=q=>{if(!q.blob||!q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=q.id||EF("blobid"),ue=q.name||X,xe=q.blob;return{id:ot(X),name:ot(ue),filename:ot(q.filename||ue+"."+t(xe.type)),blob:ot(xe),base64:ot(q.base64),blobUri:ot(q.blobUri||URL.createObjectURL(xe)),uri:ot(q.uri)}},l=q=>{g(q.id())||e.push(q)},f=q=>vn(e,q).getOrUndefined(),g=q=>f(X=>X.id()===q);return{create:n,add:l,get:g,getByUri:q=>f(X=>X.blobUri()===q),getByData:(q,X)=>f(ue=>ue.base64()===q&&ue.blob().type===X),findFirst:f,removeByUri:q=>{e=xt(e,X=>X.blobUri()===q?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{me(e,q=>{URL.revokeObjectURL(q.blobUri())}),e=[]}}},F6=(e,t)=>{const n={},s=(de,Ce)=>de?de.replace(/\/$/,"")+"/"+Ce.replace(/^\//,""):Ce,l=(de,Ce)=>new Promise((ze,je)=>{const Ue=new XMLHttpRequest;Ue.open("POST",t.url),Ue.withCredentials=t.credentials,Ue.upload.onprogress=Rt=>{Ce(Rt.loaded/Rt.total*100)},Ue.onerror=()=>{je("Image upload failed due to a XHR Transport error. Code: "+Ue.status)},Ue.onload=()=>{if(Ue.status<200||Ue.status>=300){je("HTTP Error: "+Ue.status);return}const Rt=JSON.parse(Ue.responseText);if(!Rt||!Be(Rt.location)){je("Invalid JSON: "+Ue.responseText);return}ze(s(t.basePath,Rt.location))};const rt=new FormData;rt.append("file",de.blob(),de.filename()),Ue.send(rt)}),f=Ne(t.handler)?t.handler:l,g=()=>new Promise(de=>{de([])}),_=(de,Ce)=>({url:Ce,blobInfo:de,status:!0}),A=(de,Ce)=>({url:"",blobInfo:de,status:!1,error:Ce}),F=(de,Ce)=>{Zt.each(n[de],ze=>{ze(Ce)}),delete n[de]},j=(de,Ce,ze)=>(e.markPending(de.blobUri()),new Promise(je=>{let Ue,rt;try{const Rt=()=>{Ue&&(Ue.close(),rt=Jt)},Wt=bt=>{Rt(),e.markUploaded(de.blobUri(),bt),F(de.blobUri(),_(de,bt)),je(_(de,bt))},cn=bt=>{Rt(),e.removeFailed(de.blobUri()),F(de.blobUri(),A(de,bt)),je(A(de,bt))};rt=bt=>{bt<0||bt>100||J.from(Ue).orThunk(()=>J.from(ze).map(bs)).each(ct=>{Ue=ct,ct.progressBar.value(bt)})},Ce(de,rt).then(Wt,bt=>{cn(Be(bt)?{message:bt}:bt)})}catch(Rt){je(A(de,Rt))}})),q=de=>de===l,X=de=>{const Ce=de.blobUri();return new Promise(ze=>{n[Ce]=n[Ce]||[],n[Ce].push(ze)})},ue=(de,Ce)=>(de=Zt.grep(de,ze=>!e.isUploaded(ze.blobUri())),Promise.all(Zt.map(de,ze=>e.isPending(ze.blobUri())?X(ze):j(ze,f,Ce))));return{upload:(de,Ce)=>!t.url&&q(f)?g():ue(de,Ce)}},z6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),H6=(e,t)=>F6(t,{url:Ak(e),basePath:mO(e),credentials:Tk(e),handler:CM(e)}),AF=e=>{const t=CA(),n=H6(e,t);return{upload:(s,l=!0)=>n.upload(s,l?z6(e):void 0)}},TF=(e,t)=>e.dom.isEmpty(t.dom)&&Ee(e.schema.getTextBlockElements()[Mo(t)]),$6=e=>t=>{TF(e,t)&&As(t,Re.fromHtml('<br data-mce-bogus="1" />'))},SA=e=>{const t=L6();let n,s;const l=CA(),f=[],g=Ue=>rt=>e.selection?Ue(rt):[],_=Ue=>Ue+(Ue.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Ue,rt,Rt)=>{let Wt=0;do Wt=Ue.indexOf(rt,Wt),Wt!==-1&&(Ue=Ue.substring(0,Wt)+Rt+Ue.substr(Wt+rt.length),Wt+=Rt.length-rt.length+1);while(Wt!==-1);return Ue},F=(Ue,rt,Rt)=>{const Wt=`src="${Rt}"${Rt===wo.transparentSrc?' data-mce-placeholder="1"':""}`;return Ue=A(Ue,`src="${rt}"`,Wt),Ue=A(Ue,'data-mce-src="'+rt+'"','data-mce-src="'+Rt+'"'),Ue},j=(Ue,rt)=>{me(e.undoManager.data,Rt=>{Rt.type==="fragmented"?Rt.fragments=Ie(Rt.fragments,Wt=>F(Wt,Ue,rt)):Rt.content=F(Rt.content,Ue,rt)})},q=(Ue,rt)=>{const Rt=e.convertURL(rt,"src");j(Ue.src,rt),pi(Re.fromDom(Ue),{src:Hg(e)?_(rt):rt,"data-mce-src":Rt})},X=()=>(n||(n=H6(e,l)),Ce().then(g(Ue=>{const rt=Ie(Ue,Rt=>Rt.blobInfo);return n.upload(rt,z6(e)).then(g(Rt=>{const Wt=[];let cn=!1;const bt=Ie(Rt,(ct,Ot)=>{const{blobInfo:gn,image:On}=Ue[Ot];let vo=!1;return ct.status&&dO(e)?(ct.url&&!fr(On.src,ct.url)&&(cn=!0),t.removeByUri(On.src),$m(e)||q(On,ct.url)):ct.error&&(ct.error.remove&&(j(On.src,wo.transparentSrc),Wt.push(On),vo=!0),R6(e,ct.error.message)),{element:On,status:ct.status,uploadUri:ct.url,blobInfo:gn,removed:vo}});return Wt.length>0&&!$m(e)?e.undoManager.transact(()=>{me(Pc(Wt),ct=>{const Ot=$a(ct);lr(ct),Ot.each($6(e)),t.removeByUri(ct.dom.src)})}):cn&&e.undoManager.dispatchChange(),bt}))}))),ue=()=>Tr(e)?X():Promise.resolve([]),xe=Ue=>po(f,rt=>rt(Ue)),de=Ue=>{f.push(Ue)},Ce=()=>(s||(s=kF(l,t)),s.findAll(e.getBody(),xe).then(g(Ue=>{const rt=xt(Ue,Rt=>Be(Rt)?(rS(e,Rt),!1):Rt.uriType!=="blob");return $m(e)||me(rt,Rt=>{j(Rt.image.src,Rt.blobInfo.blobUri()),Rt.image.src=Rt.blobInfo.blobUri(),Rt.image.removeAttribute("data-mce-src")}),rt}))),ze=()=>{t.destroy(),l.destroy(),s=n=null},je=Ue=>Ue.replace(/src="(blob:[^"]+)"/g,(rt,Rt)=>{const Wt=l.getResultUri(Rt);if(Wt)return'src="'+Wt+'"';let cn=t.getByUri(Rt);return cn||(cn=It(e.editorManager.get(),(bt,ct)=>bt||ct.editorUpload&&ct.editorUpload.blobCache.getByUri(Rt),void 0)),cn?'src="data:'+cn.blob().type+";base64,"+cn.base64()+'"':rt});return e.on("SetContent",()=>{Tr(e)?ue():Ce()}),e.on("RawSaveContent",Ue=>{Ue.content=je(Ue.content)}),e.on("GetContent",Ue=>{Ue.source_view||Ue.format==="raw"||Ue.format==="tree"||(Ue.content=je(Ue.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ue=>{me(Ue,rt=>{const Rt=rt.attr("src");if(!Rt||t.getByUri(Rt))return;const Wt=l.getResultUri(Rt);Wt&&rt.attr("src",Wt)})})}),{blobCache:t,addFilter:de,uploadImages:X,uploadImagesAuto:ue,scanForImages:Ce,destroy:ze}},V6=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,l,f]:[l,g,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,g)=>bn(l)&&l.hasAttribute("href"),onformat:(l,f,g)=>{Zt.each(g,(_,A)=>{t.setAttrib(l,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Zt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{s[l]={block:l,remove:"all"}}),s},kA={remove_similar:!0,inherit:!1},v0={selector:"td,th",...kA},U6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...v0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...v0},tablecellbordercolor:{styles:{borderColor:"%value"},...v0},tablecellclass:{classes:["%value"],...v0},tableclass:{selector:"table",classes:["%value"],...kA},tablecellborderstyle:{styles:{borderStyle:"%value"},...v0},tablecellborderwidth:{styles:{borderWidth:"%value"},...v0}},OF=ot(U6),EA=e=>{const t={},n=g=>Ee(g)?t[g]:t,s=g=>Gn(t,g),l=(g,_)=>{g&&(Be(g)?(oe(_)||(_=[_]),me(_,A=>{Ye(A.deep)&&(A.deep=!vc(A)),Ye(A.split)&&(A.split=!vc(A)||Ga(A)),Ye(A.remove)&&vc(A)&&!Ga(A)&&(A.remove="none"),vc(A)&&Ga(A)&&(A.mixed=!0,A.block_expand=!0),Be(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=_):Vo(g,(A,F)=>{l(F,A)}))},f=g=>(g&&t[g]&&delete t[g],t);return l(V6(e)),l(OF()),l(TM(e)),{get:n,has:s,register:l,unregister:f}},x0=Zt.each,Wl=Ar.DOM,kf=e=>Ee(e)&&ie(e),O2=(e,t)=>{const n=t&&t.schema||dc({}),s=(A,F)=>{F.classes.length>0&&Wl.addClass(A,F.classes.join(" ")),Wl.setAttribs(A,F.attrs)},l=A=>{const F=Be(A)?{name:A,classes:[],attrs:{}}:A,j=Wl.create(F.name);return s(j,F),j},f=(A,F)=>{const j=n.getElementRule(A.nodeName.toLowerCase()),q=j==null?void 0:j.parentsRequired;return q&&q.length?F&&le(q,F)?F:q[0]:!1},g=(A,F,j)=>{let q;const X=F[0],ue=kf(X)?X.name:void 0,xe=f(A,ue);if(xe)ue===xe?(q=X,F=F.slice(1)):q=xe;else if(X)q=X,F=F.slice(1);else if(!j)return A;const de=q?l(q):Wl.create("div");de.appendChild(A),j&&Zt.each(j,ze=>{const je=l(ze);de.insertBefore(je,A)});const Ce=kf(q)?q.siblings:void 0;return g(de,F,Ce)},_=Wl.create("div");if(e.length>0){const A=e[0],F=l(A),j=kf(A)?A.siblings:void 0;_.appendChild(g(F,e.slice(1),j))}return _},yv=e=>{e=Zt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,f,g,_)=>{switch(l){case"#":n.attrs.id=f;break;case".":n.classes.push(f);break;case":":Zt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(n.attrs[f]=f);break}if(g==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},W6=e=>Be(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Zt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Zt.map(t.split(/(?:~\+|~|\+)/),yv),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],Z6=(e,t)=>{let n="",s=OM(e);if(s==="")return"";const l=X=>Be(X)?X.replace(/%(\w+)/g,""):"",f=(X,ue)=>Wl.getStyle(ue??e.getBody(),X,!0);if(Be(t)){const X=e.formatter.get(t);if(!X)return"";t=X[0]}if("preview"in t){const X=t.preview;if(X===!1)return"";s=X||s}let g=t.block||t.inline||"span",_;const A=W6(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,_=O2(A,e)):_=O2([g],e);const F=Wl.select(g,_)[0]||_.firstChild;x0(t.styles,(X,ue)=>{const xe=l(X);xe&&Wl.setStyle(F,ue,xe)}),x0(t.attributes,(X,ue)=>{const xe=l(X);xe&&Wl.setAttrib(F,ue,xe)}),x0(t.classes,X=>{const ue=l(X);Wl.hasClass(F,ue)||Wl.addClass(F,ue)}),e.dispatch("PreviewFormats"),Wl.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const j=f("fontSize"),q=/px$/.test(j)?parseInt(j,10):0;return x0(s.split(" "),X=>{let ue=f(X,F);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ue)&&(ue=f(X),cb(ue).toLowerCase()==="#ffffff"))&&!(X==="color"&&cb(ue).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ue)){if(q===0)return;ue=parseFloat(ue)/(/%$/.test(ue)?100:1)*q+"px"}X==="border"&&ue&&(n+="padding:0 2px;"),n+=X+":"+ue+";"}}),e.dispatch("AfterPreviewFormats"),Wl.remove(_),n},AA=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},D2=e=>{const t=EA(e),n=da({});return AA(e),PR(e),$m(e)||QR(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,l,f)=>{Pr(e,s,l,f)},remove:(s,l,f,g)=>{QN(e,s,l,f,g)},toggle:(s,l,f)=>{nA(e,s,l,f)},match:(s,l,f,g)=>KL(e,s,l,f,g),closest:s=>XL(e,s),matchAll:(s,l)=>qL(e,s,l),matchNode:(s,l,f,g)=>GL(e,s,l,f,g),canApply:s=>YL(e,s),formatChanged:(s,l,f,g)=>e6(e,n,s,l,f,g),getCssText:yt(Z6,e)}},th=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},y0=(e,t,n)=>{const s=da(!1),l=A=>{w2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const F=A.command;th(F)||(G4(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const F=A.command;th(F)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;const j=wo.os.isMacOS()&&A.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey||j)&&(l(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),s.get()&&t.typing&&!pv(hv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){t.typing&&l(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!t.typing&&!j){t.beforeChange(),w2(t,!0,n),t.add({},A),s.set(!0);return}(wo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||g(A)||_(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},j6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},K6=e=>{const t=fa(),n=da(0),s=da(0),l={data:[],typing:!1,beforeChange:()=>{bv(e,n,t)},add:(f,g)=>HL(e,l,s,n,t,f,g),dispatchChange:()=>{e.setDirty(!0);const f=hv(e);f.bookmark=fn(e.selection),e.dispatch("change",{level:f,lastLevel:gi(l.data,s.get()).getOrUndefined()})},undo:()=>$L(e,l,n,s),redo:()=>XN(e,s,l.data),clear:()=>{JN(e,l,s)},reset:()=>{eS(e,l)},hasUndo:()=>VL(e,l,s),hasRedo:()=>UL(e,l,s),transact:f=>WL(e,l,n,f),ignore:f=>{ZL(e,n,f)},extra:(f,g)=>{jL(e,l,s,f,g)}};return $m(e)||y0(e,l,n),j6(e),l},q6=[9,27,rn.HOME,rn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rn.DOWN,rn.UP,rn.LEFT,rn.RIGHT].concat(wo.browser.isFirefox()?[224]:[]),G6="data-mce-placeholder",Y6=e=>e.type==="keydown"||e.type==="keyup",X6=e=>{const t=e.keyCode;return t===rn.BACKSPACE||t===rn.DELETE},TA=e=>{if(Y6(e)){const t=e.keyCode;return!X6(e)&&(rn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||le(q6,t))}else return!1},J6=e=>Y6(e)&&!(X6(e)||e.type==="keyup"&&e.keyCode===229),DF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},Q6=e=>{var t;const n=e.dom,s=$i(e),l=(t=Dk(e))!==null&&t!==void 0?t:"",f=(g,_)=>{if(TA(g))return;const A=e.getBody(),F=J6(g)?!1:DF(n,A,s);(n.getAttrib(A,G6)!==""!==F||_)&&(n.setAttrib(A,G6,F?l:null),R5(e,F),e.on(F?"keydown":"keyup",f),e.off(F?"keyup":"keydown",f))};We(l)&&e.on("init",g=>{f(g,!0),e.on("change SetContent ExecCommand",f),e.on("paste",_=>yc.setEditorTimeout(e,()=>f(_)))})},RF=(e,t)=>({block:e,position:t}),OA=(e,t)=>({from:e,to:t}),DA=(e,t)=>{const n=Re.fromDom(e),s=Re.fromDom(t.container());return n2(n,s).map(l=>RF(l,t))},eI=e=>!(Ha(e.to.block,e.from.block)||Ha(e.from.block,e.to.block)),RA=e=>!Po(e.from.block,e.to.block),NA=(e,t)=>Gs(t,l=>mc(l)||ic(l.dom),l=>Po(l,e)).filter(ks).getOr(e),IA=(e,t)=>{const n=Re.fromDom(e);return Po(NA(n,t.from.block),NA(n,t.to.block))},NF=e=>Qn(e.from.block.dom)===!1&&Qn(e.to.block.dom)===!1,tI=e=>{const t=n=>wb(n)||ka(n.dom)||bm(n);return t(e.from.block)&&t(e.to.block)},IF=(e,t,n,s)=>Xr(s.position.getNode())&&!Os(e,s.block)?$1(!1,s.block.dom).bind(l=>l.isEqual(s.position)?qc(n,t,l).bind(f=>DA(t,f)):J.some(s)).getOr(s):s,nI=(e,t,n,s)=>{const l=DA(t,dt.fromRangeStart(s)),f=l.bind(g=>qc(n,t,g.position).bind(_=>DA(t,_).map(A=>IF(e,t,n,A))));return Fa(l,f,OA).filter(g=>RA(g)&&IA(t,g)&&NF(g)&&tI(g)&&eI(g))},oI=(e,t,n,s)=>s.collapsed?nI(e,t,n,s):J.none(),BF=(e,t)=>{const n=Va(e);return xn(n,s=>t.isBlock(Mo(s))).fold(ot(n),s=>n.slice(0,s))},rI=(e,t)=>{const n=BF(e,t);return me(n,lr),n},sI=(e,t,n)=>{const s=wc(n,t);return vn(s.reverse(),l=>Os(e,l)).each(lr)},MF=(e,t)=>xt(fu(t),n=>!Os(e,n)).length===0,PF=(e,t,n,s,l)=>{if(Os(s,n))return gc(n),Un(n.dom);MF(s,l)&&Os(s,t)&&ds(l,Re.fromTag("br"));const f=bc(n.dom,dt.before(l.dom));return me(rI(t,s),g=>{ds(l,g)}),sI(s,e,t),f},w0=(e,t)=>e.isInline(Mo(t)),aI=(e,t,n,s)=>{if(Os(s,n)){if(Os(s,t)){const g=Ft((_=>{const A=(F,j)=>pl(F).fold(()=>j,q=>w0(s,q)?A(q,j.concat(Ns(q))):j);return A(_,[])})(n),(_,A)=>(Cl(_,A),A),md());Mr(t),As(t,g)}return lr(n),Un(t.dom)}const l=Su(n.dom);return me(rI(t,s),f=>{As(n,f)}),sI(s,e,t),l},iI=(e,t)=>{const n=wc(t,e);return J.from(n[n.length-1])},lI=(e,t)=>Ha(t,e)?iI(t,e):J.none(),cI=(e,t)=>{$1(e,t.dom).bind(n=>J.from(n.getNode())).map(Re.fromDom).filter(_u).each(lr)},uI=(e,t,n,s)=>(cI(!0,t),cI(!1,n),lI(t,n).fold(yt(aI,e,t,n,s),yt(PF,e,t,n,s))),nh=(e,t,n,s,l)=>t?uI(e,s,n,l):uI(e,n,s,l),aS=(e,t)=>{const n=Re.fromDom(e.getBody());return oI(e.schema,n.dom,t,e.selection.getRng()).map(l=>()=>{nh(n,t,l.from.block,l.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},iS=(e,t,n)=>{const s=t.getRng();return Fa(n2(e,Re.fromDom(s.startContainer)),n2(e,Re.fromDom(s.endContainer)),(l,f)=>Po(l,f)?J.none():J.some(()=>{s.deleteContents(),nh(e,!0,l,f,n).each(g=>{t.setRng(g.toRange())})})).getOr(J.none())},dI=(e,t)=>{const n=Re.fromDom(t),s=yt(Po,e);return Mi(n,mc,s).isSome()},fI=(e,t)=>dI(e,t.startContainer)||dI(e,t.endContainer),LF=(e,t)=>{const n=bc(e.dom,dt.fromRangeStart(t)).isNone(),s=El(e.dom,dt.fromRangeEnd(t)).isNone();return!fI(e,t)&&n&&s},FF=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),BA=e=>{const t=Re.fromDom(e.getBody()),n=e.selection.getRng();return LF(t,n)?FF(e):iS(t,e.selection,e.schema)},MA=(e,t)=>e.selection.isCollapsed()?J.none():BA(e),ps=(e,t,n,s,l)=>J.from(t._selectionOverrides.showCaret(e,n,s,l)),zF=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},R2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(zF(t)),PA=(e,t,n)=>{const s=Kk(1,e.getBody(),t),l=dt.fromRangeStart(s),f=l.getNode();if(cy(f))return ps(1,e,f,!l.isAtEnd(),!1);const g=l.getNode(!0);if(cy(g))return ps(1,e,g,!1,!1);const _=Nu(e.dom.getRoot(),l.getNode());return cy(_)?ps(1,e,_,!1,n):J.none()},lS=(e,t,n)=>t.collapsed?PA(e,t,n).getOr(t):t,LA=e=>ha(e)||n0(e),HF=e=>Cf(e)||tv(e),$F=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},mI=(e,t,n,s,l,f)=>{ps(s,e,f.getNode(!l),l,!0).each(g=>{if(t.collapsed){const _=t.cloneRange();l?_.setEnd(g.startContainer,g.startOffset):_.setStart(g.endContainer,g.endOffset),_.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),$F(e.dom,n)},VF=(e,t)=>{const n=e.selection.getRng();if(!Mt(n.commonAncestorContainer))return J.none();const s=t?Si.Forwards:Si.Backwards,l=Fn(e.getBody()),f=yt(qk,t?l.next:l.prev),g=t?LA:HF,_=gy(s,e.getBody(),n),A=f(_),F=A&&Ru(t,A);if(!F||!u_(_,F))return J.none();if(g(F))return J.some(()=>mI(e,n,_.getNode(),s,t,F));const j=f(F);return j&&g(j)&&u_(F,j)?J.some(()=>mI(e,n,_.getNode(),s,t,j)):J.none()},FA=(e,t)=>VF(e,t),zA=(e,t)=>{const n=e.getBody();return t?Un(n).filter(ha):Su(n).filter(Cf)},HA=e=>{const t=e.selection.getRng();return!t.collapsed&&(zA(e,!0).exists(n=>n.isEqual(dt.fromRangeStart(t)))||zA(e,!1).exists(n=>n.isEqual(dt.fromRangeEnd(t))))},wv=e=>Ee(e)&&(mc(Re.fromDom(e))||bm(Re.fromDom(e))),Ta=Bo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),UF=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return bn(n)&&n.getAttribute("data-mce-caret")===s},WF=(e,t,n,s,l)=>{const f=g=>l.isInline(g.nodeName.toLowerCase())&&!km(n,s,e);return GO(!t,n).fold(()=>GO(t,s).fold(En,f),f)},gI=(e,t,n,s,l)=>{const f=l.getNode(!n);return n2(Re.fromDom(t),Re.fromDom(s.getNode())).map(g=>Os(e,g)?Ta.remove(g.dom):Ta.moveToElement(f)).orThunk(()=>J.some(Ta.moveToElement(f)))},hI=(e,t,n,s)=>qc(t,e,n).bind(l=>wv(l.getNode())||WF(e,t,n,l,s)?J.none():t&&Qn(l.getNode())||!t&&Qn(l.getNode(!0))?gI(s,e,t,n,l):t&&Cf(n)||!t&&ha(n)?J.some(Ta.moveToPosition(l)):J.none()),ZF=(e,t)=>mt(t)?J.none():e&&Qn(t.nextSibling)?J.some(Ta.moveToElement(t.nextSibling)):!e&&Qn(t.previousSibling)?J.some(Ta.moveToElement(t.previousSibling)):J.none(),jF=(e,t,n)=>n.fold(s=>J.some(Ta.remove(s)),s=>J.some(Ta.moveToElement(s)),s=>km(t,s,e)?J.none():J.some(Ta.moveToPosition(s))),KF=(e,t,n,s)=>UF(t,n)?ZF(t,n.getNode(!t)).orThunk(()=>hI(e,t,n,s)):hI(e,t,n,s).bind(l=>jF(e,n,l)),qF=(e,t,n,s)=>{const l=Kk(t?1:-1,e,n),f=dt.fromRangeStart(l),g=Re.fromDom(e);return!t&&Cf(f)?J.some(Ta.remove(f.getNode(!0))):t&&ha(f)?J.some(Ta.remove(f.getNode())):!t&&ha(f)&&r0(g,f,s)?Y_(g,f,s).map(_=>Ta.remove(_.getNode())):t&&Cf(f)&&Xy(g,f,s)?FD(g,f,s).map(_=>Ta.remove(_.getNode())):KF(e,t,f,s)},GF=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),al(e,t,Re.fromDom(n)),!0),YF=(e,t)=>n=>{const s=t?dt.before(n):dt.after(n);return e.selection.setRng(s.toRange()),!0},XF=e=>t=>(e.selection.setRng(t.toRange()),!0),pI=(e,t)=>J.from(Nu(e.getBody(),t)),JF=(e,t)=>{const n=e.selection.getNode();return pI(e,n).filter(Qn).fold(()=>qF(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(GF(e,t),YF(e,t),XF(e))),()=>J.some(Jt))},QF=e=>{me(Ys(e,".mce-offscreen-selection"),lr)},ez=(e,t)=>{const n=e.selection.getNode();return Qn(n)&&!_h(n)?pI(e,n.parentNode).filter(Qn).fold(()=>J.some(()=>{QF(Re.fromDom(e.getBody())),al(e,t,Re.fromDom(e.selection.getNode())),tC(e)}),()=>J.some(Jt)):HA(e)?J.some(()=>{nC(e,e.selection.getRng(),Re.fromDom(e.getBody()))}):J.none()},bI=e=>{const t=e.dom,n=e.selection,s=Nu(e.getBody(),n.getNode());if(ic(s)&&t.isBlock(s)&&t.isEmpty(s)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(l),n.setRng(dt.before(l).toRange())}return!0},$A=(e,t)=>e.selection.isCollapsed()?JF(e,t):ez(e,t),vI=e=>e.hasOwnProperty("text"),xI=e=>e.hasOwnProperty("marker"),yI=(e,t)=>{const n=(f,g)=>{if(Mt(f))return{text:f,offset:g};{const _=t(),A=f.childNodes;return g<A.length?(f.insertBefore(_,A[g]),{marker:_,before:!0}):(f.appendChild(_),{marker:_,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},wI=e=>{var t,n;const{start:s,end:l}=e,f=new window.Range;return vI(s)?f.setStart(s.text,s.offset):xI(s)&&(s.before?f.setStartBefore(s.marker):f.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),vI(l)?f.setEnd(l.text,l.offset):xI(l)&&(l.before?f.setEndBefore(l.marker):f.setEndAfter(l.marker),(n=l.marker.parentNode)===null||n===void 0||n.removeChild(l.marker)),f},VA=(e,t)=>{var n;const s=e.dom,l=s.getParent(e.selection.getStart(),s.isBlock),f=s.getParent(e.selection.getEnd(),s.isBlock),g=e.getBody();if(((n=l==null?void 0:l.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&l&&f&&l===g.firstChild&&f===g.lastChild&&!s.isEmpty(g)){const A=l.cloneNode(!1),F=()=>{if(t?d3(e):eC(e),g.firstChild!==l){const j=yI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(q=>A.appendChild(q)),g.appendChild(A),e.selection.setRng(wI(j))}};return J.some(F)}return J.none()},tz=(e,t)=>{const n=dt.fromRangeStart(e.selection.getRng());return qc(t,e.getBody(),n).filter(s=>t?ND(s):ID(s)).bind(s=>l_(t?0:-1,s)).map(s=>()=>e.selection.select(s))},UA=(e,t)=>e.selection.isCollapsed()?tz(e,t):J.none(),_v=Mt,_I=e=>_v(e)&&e.data[0]===oa,CI=e=>_v(e)&&e.data[e.data.length-1]===oa,SI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(oa)},nz=e=>{var t;if(_v(e.previousSibling))return CI(e.previousSibling)||e.previousSibling.appendData(oa),e.previousSibling;if(_v(e))return _I(e)||e.insertData(0,oa),e;{const n=SI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},oz=e=>{var t,n;if(_v(e.nextSibling))return _I(e.nextSibling)||e.nextSibling.insertData(0,oa),e.nextSibling;if(_v(e))return CI(e)||e.appendData(oa),e;{const s=SI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},cS=(e,t)=>e?nz(t):oz(t),kI=yt(cS,!0),rz=yt(cS,!1),EI=(e,t)=>Mt(e.container())?cS(t,e.container()):cS(t,e.getNode()),AI=(e,t)=>{const n=t.get();return n&&e.container()===n&&vm(n)},WA=(e,t)=>t.fold(n=>{Hh(e.get());const s=kI(n);return e.set(s),J.some(dt(s,s.length-1))},n=>Un(n).map(s=>{if(AI(s,e)){const l=e.get();return dt(l,1)}else{Hh(e.get());const l=EI(s,!0);return e.set(l),dt(l,1)}}),n=>Su(n).map(s=>{if(AI(s,e)){const l=e.get();return dt(l,l.length-1)}else{Hh(e.get());const l=EI(s,!1);return e.set(l),dt(l,l.length-1)}}),n=>{Hh(e.get());const s=rz(n);return e.set(s),J.some(dt(s,1))}),TI=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return J.none()},Tl=Bo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),OI=(e,t)=>{const n=$h(t,e);return n||e},sz=(e,t,n)=>{const s=oR(n),l=OI(t,s.container());return tp(e,l,s).fold(()=>El(l,s).bind(yt(tp,e,l)).map(f=>Tl.before(f)),J.none)},DI=(e,t)=>Vh(e,t)===null,RI=(e,t,n)=>tp(e,t,n).filter(yt(DI,t)),az=(e,t,n)=>{const s=av(n);return RI(e,t,s).bind(l=>bc(l,s).isNone()?J.some(Tl.start(l)):J.none())},iz=(e,t,n)=>{const s=oR(n);return RI(e,t,s).bind(l=>El(l,s).isNone()?J.some(Tl.end(l)):J.none())},lz=(e,t,n)=>{const s=av(n),l=OI(t,s.container());return tp(e,l,s).fold(()=>bc(l,s).bind(yt(tp,e,l)).map(f=>Tl.after(f)),J.none)},NI=e=>!e2(ZA(e)),Vm=(e,t,n)=>TI([sz,az,iz,lz],[e,t,n]).filter(NI),ZA=e=>e.fold(Vn,Vn,Vn,Vn),II=e=>e.fold(ot("before"),ot("start"),ot("end"),ot("after")),N2=e=>e.fold(Tl.before,Tl.before,Tl.after,Tl.after),uS=e=>e.fold(Tl.start,Tl.start,Tl.end,Tl.end),cz=(e,t)=>II(e)===II(t)&&ZA(e)===ZA(t),BI=(e,t,n,s,l,f)=>Fa(tp(t,n,s),tp(t,n,l),(g,_)=>g!==_&&nR(n,g,_)?Tl.after(e?g:_):f).getOr(f),uz=(e,t)=>e.fold(Mn,n=>!cz(n,t)),dz=(e,t,n,s,l)=>{const f=Ru(e,l);return qc(e,n,f).map(yt(Ru,e)).fold(()=>s.map(N2),A=>Vm(t,n,A).map(yt(BI,e,t,n,f,A)).filter(yt(uz,s))).filter(NI)},fz=(e,t)=>e?t.fold(pn(J.some,Tl.start),J.none,pn(J.some,Tl.after),J.none):t.fold(J.none,pn(J.some,Tl.before),J.none,pn(J.some,Tl.end)),mz=(e,t,n,s)=>{const l=Ru(e,s),f=Vm(t,n,l);return Vm(t,n,l).bind(yt(fz,e)).orThunk(()=>dz(e,t,n,f,s))},gz=e=>Ne(e.selection.getSel().modify),MI=(e,t,n)=>{const s=e?1:-1;return t.setRng(dt(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},jA=(e,t)=>{const n=t.selection.getRng(),s=e?dt.fromRangeEnd(n):dt.fromRangeStart(n);return gz(t)?e&&Sb(s)?MI(!0,t.selection,s):!e&&S1(s)?MI(!1,t.selection,s):!1:!1};var kd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(kd||(kd={}));const dS=(e,t)=>e===Si.Backwards?Eo(t):t,PI=(e,t,n)=>e===Si.Forwards?t.next(n):t.prev(n),hz=(e,t,n,s)=>Xr(s.getNode(t===Si.Forwards))?kd.Br:km(n,s)===!1?kd.Block:kd.Wrap,LI=(e,t,n,s)=>{const l=Fn(n);let f=s;const g=[];for(;f;){const _=PI(t,l,f);if(!_)break;if(Xr(_.getNode(!1)))return t===Si.Forwards?{positions:dS(t,g).concat([_]),breakType:kd.Br,breakAt:J.some(_)}:{positions:dS(t,g),breakType:kd.Br,breakAt:J.some(_)};if(!_.isVisible()){f=_;continue}if(e(f,_)){const A=hz(n,t,f,_);return{positions:dS(t,g),breakType:A,breakAt:J.some(_)}}g.push(_),f=_}return{positions:dS(t,g),breakType:kd.Eol,breakAt:J.none()}},FI=(e,t,n,s)=>t(n,s).breakAt.map(l=>{const f=t(n,l).positions;return e===Si.Backwards?f.concat(l):[l].concat(f)}).getOr([]),KA=(e,t)=>It(e,(n,s)=>n.fold(()=>J.some(s),l=>Fa(ln(l.getClientRects()),ln(s.getClientRects()),(f,g)=>{const _=Math.abs(t-f.left);return Math.abs(t-g.left)<=_?s:l}).or(n)),J.none()),fS=(e,t)=>ln(t.getClientRects()).bind(n=>KA(e,n.left)),I2=yt(LI,dt.isAbove,-1),B2=yt(LI,dt.isBelow,1),zI=yt(FI,-1,I2),mS=yt(FI,1,B2),HI=(e,t)=>I2(e,t).breakAt.isNone(),$I=(e,t)=>B2(e,t).breakAt.isNone(),pz=e=>Un(e).map(t=>[t].concat(B2(e,t).positions)).getOr([]),VI=e=>Su(e).map(t=>I2(e,t).positions.concat(t)).getOr([]),_0=(e,t)=>fS(zI(e,t),t),bz=(e,t)=>fS(mS(e,t),t),vz=Qn,UI=(e,t)=>Math.abs(e.left-t),Zl=(e,t)=>Math.abs(e.right-t),WI=e=>_l(e,"node"),ZI=(e,t)=>Gi(e,(n,s)=>{const l=Math.min(UI(n,t),Zl(n,t)),f=Math.min(UI(s,t),Zl(s,t));return f===l&&WI(s)&&vz(s.node)||f<l?s:n}),xz=e=>{const t=n=>Ie(n,s=>{const l=lf(s);return l.node=e,l});if(bn(e))return t(e.getClientRects());if(Mt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},jI=e=>ro(e,xz);var M2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(M2||(M2={}));const yz=(e,t,n,s)=>{let l=s;for(;l=dy(l,e,Db,t);)if(n(l))return},qA=(e,t,n,s,l,f)=>{let g=0;const _=[],A=q=>{let X=jI([q]);e===-1&&(X=X.reverse());for(let ue=0;ue<X.length;ue++){const xe=X[ue];if(!n(xe,F)){if(_.length>0&&t(xe,ti(_))&&g++,xe.line=g,l(xe))return!0;_.push(xe)}}return!1},F=ti(f.getClientRects());if(!F)return _;const j=f.getNode();return j&&(A(j),yz(e,s,A,j)),_},wz=(e,t)=>t.line>e,_z=(e,t)=>t.line===e,Cz=yt(qA,M2.Up,df,Lg),Sz=yt(qA,M2.Down,Lg,df),KI=e=>ti(e.getClientRects()),Cv=(e,t,n,s)=>{const l=Fn(t);let f,g,_,A;const F=[];let j=0;e===1?(f=l.next,g=Lg,_=df,A=dt.after(s)):(f=l.prev,g=df,_=Lg,A=dt.before(s));const q=KI(A);do{if(!A.isVisible())continue;const X=KI(A);if(_(X,q))continue;F.length>0&&g(X,ti(F))&&j++;const ue=lf(X);if(ue.position=A,ue.line=j,n(ue))return F;F.push(ue)}while(A=f(A));return F},GA=e=>t=>wz(e,t),Sv=e=>t=>_z(e,t),Ef=(e,t)=>{e.selection.setRng(t),Au(e,e.selection.getRng())},gS=(e,t,n)=>J.some(lS(e,t,n)),YA=(e,t,n,s,l,f)=>{const g=t===Si.Forwards,_=Fn(e.getBody()),A=yt(qk,g?_.next:_.prev),F=g?s:l;if(!n.collapsed){const xe=Mh(n);if(f(xe))return ps(t,e,xe,t===Si.Backwards,!1);if(HA(e)){const de=n.cloneRange();return de.collapse(t===Si.Backwards),J.from(de)}}const j=gy(t,e.getBody(),n);if(F(j))return R2(e,j.getNode(!g));let q=A(j);const X=Pg(n);if(q)q=Ru(g,q);else return X?J.some(n):J.none();if(F(q))return ps(t,e,q.getNode(!g),g,!1);const ue=A(q);return ue&&F(ue)&&u_(q,ue)?ps(t,e,ue.getNode(!g),g,!1):X?gS(e,q.toRange(),!1):J.none()},qI=(e,t,n,s,l,f)=>{const g=gy(t,e.getBody(),n),_=ti(g.getClientRects()),A=t===M2.Down,F=e.getBody();if(!_)return J.none();if(HA(e)){const Ce=A?dt.fromRangeEnd(n):dt.fromRangeStart(n);return(A?bz:_0)(F,Ce).orThunk(()=>J.from(Ce)).map(je=>je.toRange())}const q=(A?Sz:Cz)(F,GA(1),g),X=xt(q,Sv(1)),ue=_.left,xe=ZI(X,ue);if(xe&&f(xe.node)){const Ce=Math.abs(ue-xe.left),ze=Math.abs(ue-xe.right);return ps(t,e,xe.node,Ce<ze,!1)}let de;if(s(g)?de=g.getNode():l(g)?de=g.getNode(!0):de=Mh(n),de){const Ce=Cv(t,F,GA(1),de);let ze=ZI(xt(Ce,Sv(1)),ue);if(ze||(ze=ti(xt(Ce,Sv(0))),ze))return gS(e,ze.position.toRange(),!1)}return X.length===0?hS(e,A).filter(A?l:s).map(Ce=>lS(e,Ce.toRange(),!1)):J.none()},hS=(e,t)=>{const n=e.selection.getRng(),s=t?dt.fromRangeEnd(n):dt.fromRangeStart(n),l=YM(s.container(),e.getBody());if(t){const f=B2(l,s);return mo(f.positions)}else{const f=I2(l,s);return ln(f.positions)}},GI=(e,t,n)=>hS(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),P2=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},XA=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},JA=(e,t,n)=>WA(t,n).map(s=>(P2(e,s),n)),YI=(e,t,n)=>{const s=dt.fromRangeStart(e);if(e.collapsed)return s;{const l=dt.fromRangeEnd(e);return n?bc(t,l).getOr(l):El(t,s).getOr(s)}},XI=(e,t,n)=>{const s=e.getBody(),l=YI(e.selection.getRng(),s,n),f=yt(a0,e);return mz(n,f,s,l).bind(_=>JA(e,t,_))},JI=(e,t,n)=>{const s=Ie(Ys(Re.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),l=xt(s,e),f=xt(n,e);me(Oo(l,f),yt(XA,!1)),me(Oo(f,l),yt(XA,!0))},QA=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(s)&&!c3(s)&&(P2(e,KM(n,s)),t.set(null))}},QI=(e,t,n,s)=>{if(t.selection.isCollapsed()){const l=xt(s,e);me(l,f=>{const g=dt.fromRangeStart(t.selection.getRng());Vm(e,t.getBody(),g).bind(_=>JA(t,n,_))})}},eT=(e,t,n)=>F1(e)?XI(e,t,n).isSome():!1,tT=(e,t,n)=>F1(t)?jA(e,t):!1,e8=e=>{const t=da(null),n=yt(a0,e);return e.on("NodeChange",s=>{F1(e)&&(JI(n,e.dom,s.parents),QA(e,t),QI(n,e,t,s.parents))}),t},t8=yt(tT,!0),n8=yt(tT,!1),L2=(e,t,n)=>{if(F1(e)){const s=hS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?dt.fromRangeEnd(l):dt.fromRangeStart(l)});return Vm(yt(a0,e),e.getBody(),s).exists(l=>{const f=N2(l);return WA(n,f).exists(g=>(P2(e,g),!0))})}else return!1},nT=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},oT=e=>Fa(Un(e),Su(e),(t,n)=>{const s=Ru(!0,t),l=Ru(!1,n);return El(e,s).forall(f=>f.isEqual(l))}).getOr(!0),F2=(e,t)=>n=>WA(t,n).map(s=>()=>P2(e,s)),rT=(e,t,n,s)=>{const l=e.getBody(),f=yt(a0,e);e.undoManager.ignore(()=>{e.selection.setRng(nT(n,s)),eC(e),Vm(f,l,dt.fromRangeStart(e.selection.getRng())).map(uS).bind(F2(e,t)).each(bo)}),e.nodeChanged()},o8=(e,t)=>{const n=$h(t,e);return n||e},r8=(e,t,n,s)=>{const l=o8(e.getBody(),s.container()),f=yt(a0,e),g=Vm(f,l,s);return g.bind(A=>n?A.fold(ot(J.some(uS(A))),J.none,ot(J.some(N2(A))),J.none):A.fold(J.none,ot(J.some(N2(A))),J.none,ot(J.some(uS(A))))).map(F2(e,t)).getOrThunk(()=>{const A=Ub(n,l,s),F=A.bind(j=>Vm(f,l,j));return Fa(g,F,()=>tp(f,l,s).bind(j=>oT(j)?J.some(()=>{al(e,n,Re.fromDom(j))}):J.none())).getOrThunk(()=>F.bind(()=>A.map(j=>()=>{n?rT(e,t,s,j):rT(e,t,j,s)})))})},z2=(e,t,n)=>{if(e.selection.isCollapsed()&&F1(e)){const s=dt.fromRangeStart(e.selection.getRng());return r8(e,t,n,s)}return J.none()},s8=e=>od(e)>1,sT=(e,t)=>{const n=Re.fromDom(e.getBody()),s=Re.fromDom(e.selection.getStart()),l=wc(s,n);return xn(l,t).fold(ot(l),f=>l.slice(0,f))},a8=e=>od(e)===1,kz=e=>sT(e,t=>e.schema.isBlock(Mo(t))||s8(t)),i8=e=>sT(e,t=>e.schema.isBlock(Mo(t))),aT=(e,t)=>{const n=yt(cv,e);return ro(t,s=>n(s)?[s.dom]:[])},H2=e=>{const t=i8(e);return aT(e,t)},l8=(e,t,n,s)=>{const l=aT(t,s);if(l.length===0)al(t,e,n);else{const f=K3(n.dom,l);t.selection.setRng(f.toRange())}},c8=(e,t)=>{const n=xt(kz(e),a8);return mo(n).bind(s=>{const l=dt.fromRangeStart(e.selection.getRng());return aR(t,l,s.dom)&&!y_(s)?J.some(()=>l8(t,e,s,n)):J.none()})},iT=(e,t)=>{const n=t.parentElement;return Xr(t)&&!Je(n)&&e.dom.isEmpty(n)},Ez=e=>y_(Re.fromDom(e)),lT=(e,t)=>{const n=e.selection.getStart(),s=iT(e,n)||Ez(n)?K3(n,t):BP(e.selection.getRng(),t);e.selection.setRng(s.toRange())},Az=(e,t)=>{const n=Oo(t,H2(e));n.length>0&&lT(e,n)},cT=e=>Mt(e.startContainer),u8=e=>e.startOffset===0&&cT(e),Tz=(e,t)=>{const n=t.startContainer.parentElement;return!Je(n)&&cv(e,Re.fromDom(n))},Oz=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Je(t)&&!Je(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Mt(t)?t.length:t.childNodes.length)},a=e=>Oz(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),u=e=>a(e)||c(e),h=e=>{const t=e.selection.getRng();return u8(t)&&Tz(e,t)&&u(t)},p=e=>{if(h(e)){const t=H2(e);return J.some(()=>{eC(e),Az(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?c8(e,t):p(e),k=(e,t)=>Aw(e,n=>Gc(n.dom),n=>t.isBlock(Mo(n))),E=e=>k(Re.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(cT(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},M=e=>(O(e)&&lT(e,[]),!0),I=(e,t,n)=>Ee(n)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),al(e,t,Re.fromDom(n))}):J.none(),H=(e,t)=>{const n=t?n0:tv,s=t?Si.Forwards:Si.Backwards,l=gy(s,e.getBody(),e.selection.getRng());return n(l)?I(e,t,l.getNode(!t)):J.from(Ru(t,l)).filter(f=>n(f)&&u_(l,f)).bind(f=>I(e,t,f.getNode(!t)))},K=(e,t)=>{const n=e.selection.getNode();return pt(n)?I(e,t,n):J.none()},Y=(e,t)=>e.selection.isCollapsed()?H(e,t):K(e,t),re=e=>Gs(e,t=>ic(t.dom)||Qn(t.dom)).exists(t=>ic(t.dom)),ce=e=>nn(e??"").getOr(0),pe=(e,t)=>{const n=e||yb(t)?"margin":"padding",s=Es(t,"direction")==="rtl"?"-right":"-left";return n+s},ae=(e,t,n,s,l,f)=>{const g=pe(n,Re.fromDom(f)),_=ce(e.getStyle(f,g));if(t==="outdent"){const A=Math.max(0,_-s);e.setStyle(f,g,A?A+l:"")}else{const A=_+s+l;e.setStyle(f,g,A)}},se=(e,t)=>po(t,n=>{const s=pe(hO(e),n),l=xs(n,s).map(ce).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&l>0}),fe=e=>{const t=Fe(e);return!e.mode.isReadOnly()&&(t.length>1||se(e,t))},be=e=>_b(e)||bm(e),we=e=>$a(e).exists(be),Fe=e=>xt(Pc(e.selection.getSelectedBlocks()),t=>!be(t)&&!we(t)&&re(t)),qe=(e,t)=>{var n,s;const{dom:l}=e,f=Kc(e),g=(s=(n=/[a-z%]+$/i.exec(f))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",_=ce(f),A=hO(e);me(Fe(e),F=>{ae(l,t,A,_,g,F.dom)})},wt=e=>qe(e,"indent"),ht=e=>qe(e,"outdent"),ft=e=>{if(e.selection.isCollapsed()&&fe(e)){const t=e.dom,n=e.selection.getRng(),s=dt.fromRangeStart(n),l=t.getParent(n.startContainer,t.isBlock);if(l!==null&&G_(Re.fromDom(l),s,e.schema))return J.some(()=>ht(e))}return J.none()},Bt=(e,t,n)=>zr([ft,$A,FA,(s,l)=>z2(s,t,l),aS,Yg,UA,Y,MA,w,VA],s=>s(e,n)).filter(s=>e.selection.isEditable()),sn=(e,t)=>{Bt(e,t,!1).fold(()=>{e.selection.isEditable()&&(eC(e),tC(e))},bo)},hn=(e,t)=>{Bt(e,t,!0).fold(()=>{e.selection.isEditable()&&d3(e)},bo)},Rn=(e,t)=>{e.addCommand("delete",()=>{sn(e,t)}),e.addCommand("forwardDelete",()=>{hn(e,t)})},qn=5,Co=400,Lr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),Kr=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>qn||s>qn},uo=e=>{const t=fa(),n=da(!1),s=Rh(l=>{e.dispatch("longpress",{...l,type:"longpress"}),n.set(!0)},Co);e.on("touchstart",l=>{Lr(l).each(f=>{s.cancel();const g={x:f.clientX,y:f.clientY,target:l.target};s.throttle(l),n.set(!1),t.set(g)})},!0),e.on("touchmove",l=>{s.cancel(),Lr(l).each(f=>{t.on(g=>{Kr(f,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{s.cancel(),l.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{n.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},Fo=(e,t)=>Gn(e,t.nodeName),Ln=(e,t)=>Mt(t)?!0:bn(t)?!Fo(e.getBlockElements(),t)&&!Yc(t)&&!ef(e,t)&&!ma(t):!1,qr=(e,t,n)=>ve($l(Re.fromDom(n),Re.fromDom(t)),s=>Fo(e,s.dom)),pr=(e,t)=>{if(Mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Fo(e,t.nextSibling)||ma(t.nextSibling)}return!1},Ei=e=>e.dom.create($i(e),ny(e)),Ai=e=>{const t=e.dom,n=e.selection,s=e.schema,l=s.getBlockElements(),f=n.getStart(),g=e.getBody();let _,A,F=null;const j=$i(e);if(!f||!bn(f))return;const q=g.nodeName.toLowerCase();if(!s.isValidChild(q,j.toLowerCase())||qr(l,g,f))return;if(g.firstChild===g.lastChild&&Xr(g.firstChild)){_=Ei(e),_.appendChild(md().dom),g.replaceChild(_,g.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let X=g.firstChild;for(;X;)if(bn(X)&&Ll(s,X),Ln(s,X)){if(pr(l,X)){A=X,X=X.nextSibling,t.remove(A);continue}if(!_){if(!F&&e.hasFocus()&&(F=yI(e.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}_=Ei(e),g.insertBefore(_,X)}A=X,X=X.nextSibling,_.appendChild(A)}else _=null,X=X.nextSibling;F&&(e.selection.setRng(wI(F)),e.nodeChanged())},Oa=(e,t,n)=>{const s=Re.fromDom(Ei(e)),l=md();As(s,l),n(t,s);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},pa=e=>{e.on("NodeChange",()=>Ai(e))},oh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,kv=(e,t,n)=>function(s){const l=arguments,f=l[l.length-2],g=f>0?t.charAt(f-1):"";if(g==='"')return s;if(g===">"){const _=t.lastIndexOf("<",f);if(_!==-1&&t.substring(_,f).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},pp=(e,t,n)=>{let s=t.length,l=n.content;if(n.format!=="raw"){for(;s--;)l=l.replace(t[s],kv(e,l,zb(e)));n.content=l}},rh=(e,t)=>po(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),$2=e=>{const t="contenteditable",n=" "+Zt.trim(HM(e))+" ",s=" "+Zt.trim(zb(e))+" ",l=oh(n),f=oh(s),g=OO(e);g.length>0&&e.on("BeforeSetContent",_=>{pp(e,g,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const F=_[A];l(F)?F.attr(t,"true"):f(F)&&F.attr(t,"false")}}),e.serializer.addAttributeFilter(t,_=>{let A=_.length;for(;A--;){const F=_[A];if(!l(F)&&!f(F))continue;const j=F.attr("data-mce-content");g.length>0&&j?rh(g,j)?(F.name="#text",F.type=3,F.raw=!0,F.value=j):F.remove():F.attr(t,null)}})},bp=e=>kt(Re.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Um=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Mg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},C0=(e,t)=>{const n=bp(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Um(e,n);return}_1(n)&&(Um(e,n),e.undoManager.add())}},S0=e=>{e.on("keyup compositionstart",yt(C0,e))},Ev=Qn,pS=(e,t,n)=>YA(t,e,n,ha,Cf,Ev),V2=(e,t,n)=>qI(t,e,n,f=>ha(f)||BD(f),f=>Cf(f)||nv(f),Ev),vp=e=>{const t=e.dom.create($i(e));return t.innerHTML='<br data-mce-bogus="1">',t},Wm=(e,t,n)=>{const s=Fn(e.getBody()),l=yt(qk,t===1?s.next:s.prev);if(n.collapsed){const f=e.dom.getParent(n.startContainer,"PRE");if(!f)return;if(!l(dt.fromRangeStart(n))){const _=Re.fromDom(vp(e));t===1?Xe(Re.fromDom(f),_):ds(Re.fromDom(f),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},sh=(e,t)=>{const n=t?Si.Forwards:Si.Backwards,s=e.selection.getRng();return pS(n,e,s).orThunk(()=>(Wm(e,n,s),J.none()))},U2=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return V2(n,e,s).orThunk(()=>(Wm(e,n,s),J.none()))},W2=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return e2(n)?!t:t},qo=(e,t)=>sh(e,W2(e.selection,t)).exists(n=>(Ef(e,n),!0)),Zm=(e,t)=>U2(e,t).exists(n=>(Ef(e,n),!0)),Ed=(e,t)=>GI(e,t,t?Cf:ha),k0=(e,t)=>zA(e,!t).map(n=>{const s=n.toRange(),l=e.selection.getRng();return t?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(n=>(Ef(e,n),!0)),bS=e=>le(["figcaption"],Mo(e)),ah=(e,t,n)=>{const s=yt(Po,t);return Gs(Re.fromDom(e.container()),l=>n.isBlock(Mo(l)),s).filter(bS)},Av=(e,t,n)=>t?$I(e.dom,n):HI(e.dom,n),uT=(e,t)=>{const n=Re.fromDom(e.getBody()),s=dt.fromRangeStart(e.selection.getRng());return ah(s,n,e.schema).exists(()=>{if(Av(n,t,s)){const f=Oa(e,n,t?As:yi);return e.selection.setRng(f),!0}else return!1})},vS=(e,t)=>e.selection.isCollapsed()?uT(e,t):!1,Dz=(e,t,n)=>{const s=e.selection.getRng(),l=dt.fromRangeStart(s);return e.getBody().firstChild===t&&HI(n,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Tv=(e,t)=>{const n=e.selection.getRng(),s=dt.fromRangeStart(n);return e.getBody().lastChild===t&&$I(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Rz=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Tv(e,n)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>J.from(e.dom.getParent(n,"details")).map(s=>Dz(e,s,n))).getOr(!1),ll=(e,t)=>Rz(e,t),E0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Nz=e=>Ie(e,t=>({...E0,...t})),d8=e=>Ie(e,t=>({...E0,...t})),xS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,f8=(e,t)=>ro(Nz(e),n=>xS(n,t)?[n]:[]),m8=(e,t)=>ro(d8(e),n=>xS(n,t)?[n]:[]),Jn=(e,...t)=>()=>e.apply(null,t),xp=(e,t)=>vn(f8(e,t),n=>n.action()),yS=(e,t)=>zr(m8(e,t),n=>n.action()),yp=(e,t)=>{const n=t?Si.Forwards:Si.Backwards,s=e.selection.getRng();return YA(e,n,s,n0,tv,pt).exists(l=>(Ef(e,l),!0))},Ov=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return qI(e,n,s,n0,tv,pt).exists(l=>(Ef(e,l),!0))},dT=(e,t)=>GI(e,t,t?tv:n0),fT=Bo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Lu={...fT,none:e=>fT.none(e)},g8=(e,t)=>gT(e,t,Mn),gT=(e,t,n)=>ro(Va(e),s=>mr(s,t)?n(s)?[s]:[]:gT(s,t,n)),h8=(e,t,n=En)=>{if(n(t))return J.none();if(le(e,Mo(t)))return J.some(t);const s=l=>mr(l,"table")||n(l);return Bc(t,e.join(","),s)},p8=(e,t)=>h8(["td","th"],e,t),Iz=e=>g8(e,"th,td"),st=(e,t)=>Sa(e,"table",t),Nn=(e,t,n,s,l=Mn)=>{const f=s===1;if(!f&&n<=0)return Lu.first(e[0]);if(f&&n>=e.length-1)return Lu.last(e[e.length-1]);{const g=n+s,_=e[g];return l(_)?Lu.middle(t,_):Nn(e,t,g,s,l)}},eo=(e,t)=>st(e,t).bind(n=>{const s=Iz(n);return xn(s,f=>Po(e,f)).map(f=>({index:f,all:s}))}),Fr=(e,t,n)=>eo(e,n).fold(()=>Lu.none(e),l=>Nn(l.all,e,l.index,1,t)),Is=(e,t,n)=>eo(e,n).fold(()=>Lu.none(),l=>Nn(l.all,e,l.index,-1,t)),Zs=e=>Vw(e).filter(t=>t.trim().length!==0||t.indexOf(ua)>-1).isSome(),$s=e=>hi(e)&&ri(e,"contenteditable")==="false",sa=["img","br"],Dv=e=>Zs(e)||le(sa,Mo(e))||$s(e),Bz=e=>Ca(e,Dv),b8=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Y$=(e,t)=>ro(t,n=>{const s=b8(lf(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),wY=(e,t,n)=>It(e,(s,l)=>s.fold(()=>J.some(l),f=>{const g=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-n)),_=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-n));return J.some(_<g?l:f)}),J.none()),X$=(e,t,n,s,l)=>{const f=Ys(Re.fromDom(n),"td,th,caption").map(_=>_.dom),g=xt(Y$(e,f),_=>t(_,l));return wY(g,s,l).map(_=>_.cell)},_Y=e=>e.bottom,CY=e=>e.top,SY=(e,t)=>e.y<t,kY=(e,t)=>e.y>t,EY=yt(X$,_Y,SY),AY=yt(X$,CY,kY),TY=(e,t)=>ln(t.getClientRects()).bind(n=>EY(e,n.left,n.top)).bind(n=>fS(VI(n),t)),OY=(e,t)=>mo(t.getClientRects()).bind(n=>AY(e,n.left,n.top)).bind(n=>fS(pz(n),t)),DY=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),RY=e=>e.breakType===kd.Wrap&&e.positions.length===0,NY=e=>e.breakType===kd.Br&&e.positions.length===1,J$=(e,t,n)=>{const s=e(t,n);return RY(s)||!Xr(n.getNode())&&NY(s)?!DY(e,t,s):s.breakAt.isNone()},IY=yt(J$,I2),BY=yt(J$,B2),MY=(e,t,n)=>{const s=dt.fromRangeStart(t);return $1(!e,n).exists(l=>l.isEqual(s))},PY=(e,t,n,s)=>{const l=e.selection.getRng(),f=t?1:-1;return Uk()&&MY(t,l,n)?(ps(f,e,n,!t,!1).each(g=>{Ef(e,g)}),!0):!1},LY=(e,t,n)=>TY(t,n).orThunk(()=>ln(n.getClientRects()).bind(s=>KA(zI(e,dt.before(t)),s.left))).getOr(dt.before(t)),FY=(e,t,n)=>OY(t,n).orThunk(()=>ln(n.getClientRects()).bind(s=>KA(mS(e,dt.after(t)),s.left))).getOr(dt.after(t)),Q$=(e,t)=>{const n=t.getNode(e);return Fc(n)?J.some(n):J.none()},zY=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?Xe:ds,l=Oa(t,Re.fromDom(n),s);Ef(t,l)})},eV=(e,t,n)=>{const s=Q$(!!t,n),l=t===!1;s.fold(()=>Ef(e,n.toRange()),f=>$1(l,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>Ef(e,n.toRange()),g=>zY(t,e,f)))},HY=(e,t,n,s)=>{const l=e.selection.getRng(),f=dt.fromRangeStart(l),g=e.getBody();if(!t&&IY(s,f)){const _=LY(g,n,f);return eV(e,t,_),!0}else if(t&&BY(s,f)){const _=FY(g,n,f);return eV(e,t,_),!0}else return!1},tV=(e,t,n)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>J.from(e.dom.getParent(s,"table")).map(l=>n(e,t,l,s))).getOr(!1),nV=(e,t)=>tV(e,t,PY),Mz=(e,t)=>tV(e,t,HY),$Y=e=>{const t=Gh.exact(e,0,e,0);return E7(t)},oV=(e,t,n)=>n.fold(J.none,J.none,(s,l)=>Bz(l).map(f=>$Y(f)),s=>(e.execCommand("mceTableInsertRowAfter"),rV(e,t,s))),rV=(e,t,n)=>oV(e,t,Fr(n,rs)),VY=(e,t,n)=>oV(e,t,Is(n,rs)),sV=(e,t)=>{const n=["table","li","dl"],s=Re.fromDom(e.getBody()),l=_=>{const A=Mo(_);return Po(_,s)||le(n,A)},f=e.selection.getRng(),g=Re.fromDom(t?f.endContainer:f.startContainer);return p8(g,l).map(_=>(st(_,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?rV:VY)(e,l,_).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},UY=(e,t,n)=>{const s=wo.os.isMacOS()||wo.os.isiOS();xp([{keyCode:rn.RIGHT,action:Jn(qo,e,!0)},{keyCode:rn.LEFT,action:Jn(qo,e,!1)},{keyCode:rn.UP,action:Jn(Zm,e,!1)},{keyCode:rn.DOWN,action:Jn(Zm,e,!0)},...s?[{keyCode:rn.UP,action:Jn(k0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rn.DOWN,action:Jn(k0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rn.RIGHT,action:Jn(nV,e,!0)},{keyCode:rn.LEFT,action:Jn(nV,e,!1)},{keyCode:rn.UP,action:Jn(Mz,e,!1)},{keyCode:rn.DOWN,action:Jn(Mz,e,!0)},{keyCode:rn.UP,action:Jn(Mz,e,!1)},{keyCode:rn.UP,action:Jn(ll,e,!1)},{keyCode:rn.DOWN,action:Jn(ll,e,!0)},{keyCode:rn.RIGHT,action:Jn(yp,e,!0)},{keyCode:rn.LEFT,action:Jn(yp,e,!1)},{keyCode:rn.UP,action:Jn(Ov,e,!1)},{keyCode:rn.DOWN,action:Jn(Ov,e,!0)},{keyCode:rn.RIGHT,action:Jn(eT,e,t,!0)},{keyCode:rn.LEFT,action:Jn(eT,e,t,!1)},{keyCode:rn.RIGHT,ctrlKey:!s,altKey:s,action:Jn(t8,e,t)},{keyCode:rn.LEFT,ctrlKey:!s,altKey:s,action:Jn(n8,e,t)},{keyCode:rn.UP,action:Jn(vS,e,!1)},{keyCode:rn.DOWN,action:Jn(vS,e,!0)}],n).each(l=>{n.preventDefault()})},WY=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||UY(e,t,n)})},ih=(e,t)=>({container:e,offset:t}),v8=Ar.DOM,x8=e=>t=>e===t?-1:0,ZY=e=>t=>e.isBlock(t)||le(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Pz=(e,t,n)=>{if(Mt(e)&&t>=0)return J.some(ih(e,t));{const s=dd(v8);return J.from(s.backwards(e,t,x8(e),n)).map(l=>ih(l.container,l.container.data.length))}},jY=(e,t,n)=>{if(Mt(e)&&t>=e.length)return J.some(ih(e,t));{const s=dd(v8);return J.from(s.forwards(e,t,x8(e),n)).map(l=>ih(l.container,0))}},Lz=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t>=0&&t<=s.length)return J.some(ih(e,t));{const l=dd(v8);return J.from(l.backwards(e,t,x8(e),n)).bind(f=>{const g=f.container.data;return Lz(f.container,t+g.length,n)})}},aV=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t<=s.length)return J.some(ih(e,t));{const l=dd(v8);return J.from(l.forwards(e,t,x8(e),n)).bind(f=>aV(f.container,t-s.length,n))}},Fz=(e,t,n,s,l)=>{const f=dd(e,ZY(e));return J.from(f.backwards(t,n,s,l))},KY=e=>e.collapsed&&Mt(e.startContainer),qY=e=>rl(e.toString().replace(/\u00A0/g," ")),iV=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,GY=(e,t)=>e.substring(t.length),YY=(e,t,n,s=!1)=>{let l;const f=n.charAt(0);for(l=t-1;l>=0;l--){const g=e.charAt(l);if(!s&&iV(g))return J.none();if(f===g&&fr(e,n,l,t))break}return J.some(l)},zz=(e,t,n,s=!1)=>{if(!KY(t))return J.none();const l={text:"",offset:0},f=(_,A,F)=>(l.text=F+l.text,l.offset+=A,YY(l.text,l.offset,n,s).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Fz(e,t.startContainer,t.startOffset,f,g).bind(_=>{const A=t.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const F=qY(A);return F.lastIndexOf(n)!==0?J.none():J.some({text:GY(F,n),range:A,trigger:n})})},XY=e=>e.nodeType===ug,JY=e=>e.nodeType===Ji,lV=e=>{if(XY(e))return ih(e,e.data.length);{const t=e.childNodes;return t.length>0?lV(t[t.length-1]):ih(e,t.length)}},cV=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?cV(n[t],0):n.length>0&&JY(e)&&n.length===t?lV(n[n.length-1]):ih(e,t)},QY=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Fz(e,t.container,t.offset,(l,f)=>f===0?-1:f,s).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!iV(f)}).isSome()},eX=e=>t=>{const n=cV(t.startContainer,t.startOffset);return!QY(e,n)},tX=(e,t,n)=>zr(n.triggers,s=>zz(e,t,s)),nX=(e,t)=>{const n=t(),s=e.selection.getRng();return tX(e.dom,s,n).bind(l=>uV(e,t,l))},uV=(e,t,n,s={})=>{var l;const f=t(),_=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=xt(f.lookupByTrigger(n.trigger),j=>n.text.length>=j.minChars&&j.matches.getOrThunk(()=>eX(e.dom))(n.range,_,n.text));if(A.length===0)return J.none();const F=Promise.all(Ie(A,j=>j.fetch(n.text,j.maxResults,s).then(X=>({matchText:n.text,items:X,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return J.some({lookupData:F,context:n})};var lh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(lh||(lh={}));const Hz=(e,t,n)=>e.stype===lh.Error?t(e.serror):n(e.svalue),oX=e=>{const t=[],n=[];return me(e,s=>{Hz(s,l=>n.push(l),l=>t.push(l))}),{values:t,errors:n}},rX=(e,t)=>e.stype===lh.Error?{stype:lh.Error,serror:t(e.serror)}:e,sX=(e,t)=>e.stype===lh.Value?{stype:lh.Value,svalue:t(e.svalue)}:e,aX=(e,t)=>e.stype===lh.Value?t(e.svalue):e,iX=(e,t)=>e.stype===lh.Error?t(e.serror):e,dV=e=>({stype:lh.Value,svalue:e}),fV=e=>({stype:lh.Error,serror:e}),vl={fromResult:e=>e.fold(fV,dV),toResult:e=>Hz(e,$n.error,$n.value),svalue:dV,partition:oX,serror:fV,bind:aX,bindError:iX,map:sX,mapError:rX,fold:Hz},$z=e=>ie(e)&&Ht(e).length>100?" removed due to size":JSON.stringify(e,null,2),lX=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):e;return Ie(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},y8=(e,t)=>vl.serror([{path:e,getErrorInfo:t}]),cX=(e,t,n)=>y8(e,()=>'Could not find valid *required* value for "'+t+'" in '+$z(n)),uX=(e,t)=>y8(e,()=>'Choice schema did not contain choice key: "'+t+'"'),dX=(e,t,n)=>y8(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+$z(t)),fX=(e,t)=>y8(e,ot(t)),mX=(e,t,n,s)=>ir(n,s).fold(()=>dX(e,n,s),f=>f.extract(e.concat(["branch: "+s]),t)),gX=(e,t)=>({extract:(l,f)=>ir(f,e).fold(()=>uX(l,e),_=>mX(l,f,t,_)),toString:()=>"chooseOn("+e+"). Possible values: "+Ht(t)}),hX=(e,t)=>t,pX=(e,t)=>Me(e)&&Me(t)?w8(e,t):t,mV=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const l=t[s];for(const f in l)Gn(l,f)&&(n[f]=e(n[f],l[f]))}return n},w8=mV(pX),gV=mV(hX),hV=()=>({tag:"required",process:{}}),bX=e=>({tag:"defaultedThunk",process:e}),pV=e=>bX(ot(e)),vX=()=>({tag:"option",process:{}}),xX=(e,t)=>e.length>0?vl.svalue(w8(t,gV.apply(void 0,e))):vl.svalue(t),bV=e=>pn(vl.serror,Cn)(e),yX={consolidateObj:(e,t)=>{const n=vl.partition(e);return n.errors.length>0?bV(n.errors):xX(n.values,t)},consolidateArr:e=>{const t=vl.partition(e);return t.errors.length>0?bV(t.errors):vl.svalue(t.values)}},wX=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),_X=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),vV=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Vz=e=>{const t=(s,l)=>vl.bindError(e(l),f=>fX(s,f)),n=ot("val");return{extract:t,toString:n}},CX=Vz(vl.svalue),SX=(e,t,n,s)=>ir(t,n).fold(()=>cX(e,n,t),s),xV=(e,t,n,s)=>{const l=ir(e,t).getOrThunk(()=>n(e));return s(l)},kX=(e,t,n)=>n(ir(e,t)),EX=(e,t,n,s)=>{const l=ir(e,t).map(f=>f===!0?n(e):f);return s(l)},AX=(e,t,n,s,l)=>{const f=_=>l.extract(t.concat([s]),_),g=_=>_.fold(()=>vl.svalue(J.none()),A=>{const F=l.extract(t.concat([s]),A);return vl.map(F,J.some)});switch(e.tag){case"required":return SX(t,n,s,f);case"defaultedThunk":return xV(n,s,e.process,f);case"option":return kX(n,s,g);case"defaultedOptionThunk":return EX(n,s,e.process,g);case"mergeWithThunk":return xV(n,s,ot({}),_=>{const A=w8(e.process(n),_);return f(A)})}},TX=(e,t,n)=>{const s={},l=[];for(const f of n)vV(f,(g,_,A,F)=>{const j=AX(A,e,t,g,F);vl.fold(j,q=>{l.push(...q)},q=>{s[_]=q})},(g,_)=>{s[g]=_(t)});return l.length>0?vl.serror(l):vl.svalue(s)},Uz=e=>({extract:(s,l)=>TX(s,l,e),toString:()=>`obj{
`+Ie(e,l=>vV(l,(f,g,_,A)=>f+" -> "+A.toString(),(f,g)=>"state("+f+")")).join(`
`)+"}"}),yV=e=>({extract:(s,l)=>{const f=Ie(l,(g,_)=>e.extract(s.concat(["["+_+"]"]),g));return yX.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),OX=e=>Vz(t=>e(t).fold(vl.serror,vl.svalue)),DX=(e,t,n)=>{const s=t.extract([e],n);return vl.mapError(s,l=>({input:n,errors:l}))},RX=(e,t,n)=>vl.toResult(DX(e,t,n)),NX=e=>`Errors: 
`+lX(e.errors).join(`
`)+`

Input object: `+$z(e.input),wV=(e,t)=>gX(e,wl(t,Uz)),IX=ot(CX),_8=(e,t)=>Vz(n=>{const s=typeof n;return e(n)?vl.svalue(n):vl.serror(`Expected type: ${t} but got: ${s}`)}),BX=_8(R,"number"),C8=_8(Be,"string"),MX=_8(Ve,"boolean"),Wz=_8(Ne,"function"),hT=wX,_V=_X,PX=e=>OX(t=>le(e,t)?$n.value(t):$n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),CV=(e,t)=>hT(e,e,hV(),t),SV=e=>CV(e,C8),kV=e=>CV(e,Wz),LX=(e,t)=>hT(e,e,hV(),yV(t)),Zz=(e,t)=>hT(e,e,vX(),t),S8=e=>Zz(e,C8),FX=e=>Zz(e,Wz),zX=(e,t)=>hT(e,e,pV(t),IX()),wS=(e,t,n)=>hT(e,e,pV(t),n),EV=(e,t)=>wS(e,t,BX),HX=(e,t)=>wS(e,t,C8),AV=(e,t,n)=>wS(e,t,PX(n)),jz=(e,t)=>wS(e,t,MX),Kz=(e,t)=>wS(e,t,Wz),$X=(e,t,n)=>wS(e,t,yV(n)),VX=SV("type"),UX=kV("fetch"),qz=kV("onAction"),WX=Kz("onSetup",()=>Jt),ZX=S8("text"),jX=S8("icon"),KX=S8("tooltip"),qX=S8("label"),GX=jz("active",!1),YX=jz("enabled",!0),TV=jz("primary",!1),XX=e=>zX("columns",e),pT=e=>HX("type",e),JX=Uz([VX,SV("trigger"),EV("minChars",1),XX(1),EV("maxResults",10),FX("matches"),UX,qz,$X("highlightOn",[],C8)]),QX=e=>RX("Autocompleter",JX,e),Gz=[YX,KX,jX,ZX,WX],OV=[GX].concat(Gz),eJ=[Kz("predicate",En),AV("scope","node",["node","editor"]),AV("position","selection",["node","selection","line"])],tJ=Gz.concat([pT("contextformbutton"),TV,qz,_V("original",Vn)]),nJ=OV.concat([pT("contextformbutton"),TV,qz,_V("original",Vn)]),oJ=Gz.concat([pT("contextformbutton")]),rJ=OV.concat([pT("contextformtogglebutton")]),sJ=wV("type",{contextformbutton:tJ,contextformtogglebutton:nJ});Uz([pT("contextform"),Kz("initValue",ot("")),qX,LX("commands",sJ),Zz("launch",wV("type",{contextformbutton:oJ,contextformtogglebutton:rJ}))].concat(eJ));const aJ=e=>{const t=e.ui.registry.getAll().popups,n=wl(t,g=>QX(g).fold(_=>{throw new Error(NX(_))},Vn)),s=su(qi(n,g=>g.trigger)),l=ru(n);return{dataset:n,triggers:s,lookupByTrigger:g=>xt(l,_=>_.trigger===g)}},iJ=(e,t)=>{const n=Rh(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const l=s.which;l===8?n.throttle():l===27?(n.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&n.cancel()},!0),e.on("remove",n.cancel)},lJ=e=>{const t=fa(),n=da(!1),s=t.isSet,l=()=>{s()&&(f7(e),n.set(!1),t.clear())},f=q=>{s()||t.set({trigger:q.trigger,matchLength:q.text.length})},g=dl(()=>aJ(e)),_=q=>t.get().map(X=>zz(e.dom,e.selection.getRng(),X.trigger,!0).bind(ue=>uV(e,g,ue,q))).getOrThunk(()=>nX(e,g)),A=q=>{_(q).fold(l,X=>{f(X.context),X.lookupData.then(ue=>{t.get().map(xe=>{const de=X.context;xe.trigger===de.trigger&&(t.set({...xe,matchLength:de.text.length}),n.get()?(gE(e,{range:de.range}),mE(e,{lookupData:ue})):(n.set(!0),gE(e,{range:de.range}),fE(e,{lookupData:ue})))})})})},F=(q,X)=>{const ue=q.compareBoundaryPoints(window.Range.START_TO_START,X),xe=q.compareBoundaryPoints(window.Range.END_TO_END,X);return ue>=0&&xe<=0},j=()=>t.get().bind(({trigger:q})=>{const X=e.selection.getRng();return zz(e.dom,X,q,n.get()).filter(({range:ue})=>F(X,ue)).map(({range:ue})=>ue)});e.addCommand("mceAutocompleterReload",(q,X)=>{const ue=ie(X)?X.fetchOptions:{};A(ue)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(q=>{gE(e,{range:q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),iJ(e,{cancelIfNecessary:l,load:A})},cJ=Pa().browser.isSafari(),DV=e=>gc(Re.fromDom(e)),RV=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},k8=(e,t)=>J.from(e.getParent(t.container(),"details")),NV=(e,t)=>k8(e,t).isSome(),uJ=(e,t)=>{const n=J.from(e.getParent(t.startContainer,"details")),s=J.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const l=n.bind(f=>J.from(e.select("summary",f)[0]));return J.some({startSummary:l,startDetails:n,endDetails:s})}else return J.none()},dJ=(e,t)=>Un(t).exists(n=>n.isEqual(e)),fJ=(e,t)=>Su(t).exists(n=>Xr(n.getNode())&&bc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),mJ=(e,t)=>t.startSummary.exists(n=>dJ(e,n)),gJ=(e,t)=>t.startSummary.exists(n=>fJ(e,n)),hJ=(e,t)=>t.startDetails.exists(n=>bc(n,e).forall(s=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(s.container())))),pJ=(e,t,n)=>n.startDetails.exists(s=>El(e,t).forall(l=>!s.contains(l.container()))),IV=(e,t)=>{const n=t.getNode();Ye(n)||e.selection.setCursorLocation(n,t.offset())},BV=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const l=e.dom.select("summary",s)[0];l&&(n?Un(l):Su(l)).each(g=>IV(e,g))}else IV(e,t)},bJ=(e,t)=>{const n=A=>A.contains(e.startContainer),s=A=>A.contains(e.endContainer),l=t.startSummary.exists(n),f=t.startSummary.exists(s),g=t.startDetails.forall(A=>t.endDetails.forall(F=>A!==F));return(l||f)&&!(l&&f)||g},MV=(e,t,n)=>{const{dom:s,selection:l}=e,f=e.getBody();if(n==="character"){const g=dt.fromRangeStart(l.getRng()),_=s.getParent(g.container(),s.isBlock),A=k8(s,g),F=_&&s.isEmpty(_),j=Je(_==null?void 0:_.previousSibling),q=Je(_==null?void 0:_.nextSibling);return F&&(t?q:j)&&Ub(!t,f,g).exists(xe=>NV(s,xe)&&!Fd(A,k8(s,xe)))?!0:Ub(t,f,g).fold(En,X=>{const ue=k8(s,X);if(NV(s,X)&&!Fd(A,ue)){if(t||BV(e,X,!1),_&&F){if(t&&j)return!0;if(!t&&q)return!0;BV(e,X,t),e.dom.remove(_)}return!0}else return!1})}else return!1},vJ=(e,t,n,s)=>{const f=e.selection.getRng(),g=dt.fromRangeStart(f),_=e.getBody();return s==="selection"?bJ(f,t):n?gJ(g,t)||pJ(_,g,t):mJ(g,t)||hJ(g,t)},xJ=(e,t,n)=>uJ(e.dom,e.selection.getRng()).fold(()=>MV(e,t,n),s=>vJ(e,s,t,n)||MV(e,t,n)),yJ=(e,t,n)=>{const s=e.selection,l=s.getNode(),f=s.getRng(),g=dt.fromRangeStart(f);return Sh(l)?(n==="selection"&&RV(f,l)||aR(t,g,l)?DV(l):e.undoManager.transact(()=>{const _=s.getSel();let{anchorNode:A,anchorOffset:F,focusNode:j,focusOffset:q}=_??{};const X=()=>{Ee(A)&&Ee(F)&&Ee(j)&&Ee(q)&&(_==null||_.setBaseAndExtent(A,F,j,q))},ue=()=>{A=_==null?void 0:_.anchorNode,F=_==null?void 0:_.anchorOffset,j=_==null?void 0:_.focusNode,q=_==null?void 0:_.focusOffset},xe=(Ce,ze)=>{me(Ce.childNodes,je=>{j1(je)&&ze.appendChild(je)})},de=e.dom.create("span",{"data-mce-bogus":"1"});xe(l,de),l.appendChild(de),X(),(n==="word"||n==="line")&&(_==null||_.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&RV(s.getRng(),de)?DV(l):(e.execCommand(t?"ForwardDelete":"Delete"),ue(),xe(de,l),X()),e.dom.remove(de)}),!0):!1},Z2=(e,t,n)=>xJ(e,t,n)||cJ&&yJ(e,t,n)?J.some(Jt):J.none(),PV=e=>(t,n,s={})=>{const l=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Jt,inputType:n},g=um(new InputEvent(e));return t.dispatch(e,{...g,...f,...s})},bT=PV("input"),E8=PV("beforeinput"),LV=Pa(),FV=LV.os,zV=FV.isMacOS()||FV.isiOS(),wJ=LV.browser.isFirefox(),_J=(e,t,n)=>{const s=n.keyCode===rn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",g=_=>l?_?"word":"line":"selection";yS([{keyCode:rn.BACKSPACE,action:Jn(ft,e)},{keyCode:rn.BACKSPACE,action:Jn($A,e,!1)},{keyCode:rn.DELETE,action:Jn($A,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(FA,e,!1)},{keyCode:rn.DELETE,action:Jn(FA,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(z2,e,t,!1)},{keyCode:rn.DELETE,action:Jn(z2,e,t,!0)},{keyCode:rn.BACKSPACE,action:Jn(Yg,e,!1)},{keyCode:rn.DELETE,action:Jn(Yg,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(Z2,e,!1,f)},{keyCode:rn.DELETE,action:Jn(Z2,e,!0,f)},...zV?[{keyCode:rn.BACKSPACE,altKey:!0,action:Jn(Z2,e,!1,g(!0))},{keyCode:rn.DELETE,altKey:!0,action:Jn(Z2,e,!0,g(!0))},{keyCode:rn.BACKSPACE,metaKey:!0,action:Jn(Z2,e,!1,g(!1))}]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Jn(Z2,e,!1,g(!0))},{keyCode:rn.DELETE,ctrlKey:!0,action:Jn(Z2,e,!0,g(!0))}],{keyCode:rn.BACKSPACE,action:Jn(UA,e,!1)},{keyCode:rn.DELETE,action:Jn(UA,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(Y,e,!1)},{keyCode:rn.DELETE,action:Jn(Y,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(MA,e,!1)},{keyCode:rn.DELETE,action:Jn(MA,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(aS,e,!1)},{keyCode:rn.DELETE,action:Jn(aS,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(w,e,!1)},{keyCode:rn.DELETE,action:Jn(w,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(VA,e,!1)},{keyCode:rn.DELETE,action:Jn(VA,e,!0)}],n).filter(_=>e.selection.isEditable()).each(_=>{n.preventDefault(),E8(e,s).isDefaultPrevented()||(_(),bT(e,s))})},CJ=(e,t,n)=>xp([{keyCode:rn.BACKSPACE,action:Jn(bI,e)},{keyCode:rn.DELETE,action:Jn(bI,e)},...zV?[{keyCode:rn.BACKSPACE,altKey:!0,action:Jn(M,e)},{keyCode:rn.DELETE,altKey:!0,action:Jn(M,e)},...n?[{keyCode:wJ?224:91,action:Jn(M,e)}]:[]]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Jn(M,e)},{keyCode:rn.DELETE,ctrlKey:!0,action:Jn(M,e)}]],t),SJ=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===rn.BACKSPACE,s.isDefaultPrevented()||_J(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||CJ(e,s,n),n=!1})},kJ=e=>{for(;e;){if(bn(e)||Mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},_S=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=kJ(t.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&t.insertBefore(n.doc.createTextNode(ua),t.firstChild)}const l=n.createRng();if(t.normalize(),t.hasChildNodes()){const f=new Ua(t,t);let g=t,_;for(;_=f.current();){if(Mt(_)){l.setStart(_,0),l.setEnd(_,0);break}if(s[_.nodeName.toLowerCase()]){l.setStartBefore(_),l.setEndBefore(_);break}g=_,_=f.next()}_||(l.setStart(g,0),l.setEnd(g,0))}else Xr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Au(e,l)},vT=(e,t)=>{const n=e.getRoot();let s,l=t;for(;l!==n&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){s=l;break}l=l.parentNode}return l!==n?s:n},Yz=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),EJ=e=>Yz(e).fold(ot(""),t=>t.nodeName.toUpperCase()),AJ=e=>Yz(e).filter(t=>bm(Re.fromDom(t))).isSome(),Xz=e=>{e.innerHTML='<br data-mce-bogus="1">'},TJ=(e,t,n)=>{const s=e.dom;J.from(n.style).map(s.parseStyle).each(A=>{const j={...gg(Re.fromDom(t)),...A};s.setStyles(t,j)});const l=J.from(n.class).map(A=>A.split(/\s+/)),f=J.from(t.className).map(A=>xt(A.split(/\s+/),F=>F!==""));Fa(l,f,(A,F)=>{const j=xt(F,X=>!le(A,X)),q=[...A,...j];s.setAttrib(t,"class",q.join(" "))});const g=["style","class"],_=Jl(n,(A,F)=>!le(g,F));s.setAttribs(t,_)},xT=(e,t)=>{if($i(e).toLowerCase()===t.tagName.toLowerCase()){const s=ny(e);TJ(e,t,s)}},HV=(e,t,n,s,l=!0,f,g)=>{const _=e.dom,A=e.schema,F=$i(e),j=n?n.nodeName.toUpperCase():"";let q=t;const X=A.getTextInlineElements();let ue;f||j==="TABLE"||j==="HR"?ue=_.create(f||F,g||{}):ue=n.cloneNode(!1);let xe=ue;if(!l)_.setAttrib(ue,"style",null),_.setAttrib(ue,"class",null);else do if(X[q.nodeName]){if(Gc(q)||Yc(q))continue;const de=q.cloneNode(!1);_.setAttrib(de,"id",""),ue.hasChildNodes()?(de.appendChild(ue.firstChild),ue.appendChild(de)):(xe=de,ue.appendChild(de))}while((q=q.parentNode)&&q!==s);return xT(e,ue),Xz(xe),ue},OJ=(e,t)=>e.dom.getParent(t,Ch),DJ=(e,t,n)=>{let s=t;for(;s&&s!==e&&Je(s.nextSibling);){const l=s.parentElement;if(!l||!n(l))return Ch(l);s=l}return!1},RJ=(e,t,n)=>!t&&n.nodeName.toLowerCase()===$i(e)&&e.dom.isEmpty(n)&&DJ(e.getBody(),n,s=>Gn(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),NJ=(e,t,n)=>{var s,l,f;const g=t($i(e)),_=OJ(e,n);_&&(e.dom.insertAfter(g,_),_S(e,g),((f=(l=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(n))},IJ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,BJ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},$V=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ee(n)&&n.nodeName===t},VV=e=>Ee(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Jz=e=>Ee(e)&&/^(LI|DT|DD)$/.test(e.nodeName),MJ=e=>VV(e)&&VV(e.parentNode),A8=e=>{const t=e.parentNode;return Jz(t)?t:e},T8=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!bn(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},UV=e=>It(qi(gg(Re.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),PJ=(e,t,n,s,l)=>{const f=e.dom,g=e.selection.getRng(),_=n.parentNode;if(n===e.getBody()||!_)return;MJ(n)&&(l="LI");const A=Jz(s)?UV(s):void 0;let F=Jz(s)&&A?t(l,{style:UV(s)}):t(l);if(T8(n,s,!0)&&T8(n,s,!1))if($V(n,"LI")){const j=A8(n);f.insertAfter(F,j),BJ(n)?f.remove(j):f.remove(n)}else f.replace(F,n);else if(T8(n,s,!0))$V(n,"LI")?(f.insertAfter(F,A8(n)),F.appendChild(f.doc.createTextNode(" ")),F.appendChild(n)):_.insertBefore(F,n),f.remove(s);else if(T8(n,s,!1))f.insertAfter(F,A8(n)),f.remove(s);else{n=A8(n);const j=g.cloneRange();j.setStartAfter(s),j.setEndAfter(n);const q=j.extractContents();if(l==="LI"&&IJ(q,"LI")){const X=xt(Ie(F.children,Re.fromDom),vt(Vd("br")));F=q.firstChild,f.insertAfter(q,n),me(X,ue=>yi(Re.fromDom(F),ue)),A&&F.setAttribute("style",A)}else f.insertAfter(q,n),f.insertAfter(F,n);f.remove(s)}_S(e,F)},LJ=e=>{me(om(Re.fromDom(e),Wr),t=>{const n=t.dom;n.nodeValue=rl(n.data)})},FJ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},zJ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Qz=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,e9=(e,t)=>Ee(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",HJ=(e,t,n)=>{var s;const l=[];if(!n)return;let f=n;for(;f=f.firstChild;){if(e.isBlock(f))return;bn(f)&&!t[f.nodeName.toLowerCase()]&&l.push(f)}let g=l.length;for(;g--;)f=l[g],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((s=f.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||zJ(e,f))&&e.remove(f)},t9=(e,t,n)=>Mt(t)?e?n===1&&t.data.charAt(n-1)===oa?0:n:n===t.data.length-1&&t.data.charAt(n)===oa?t.data.length:n:n,$J=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,t9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,t9(!1,e.endContainer,e.endOffset)),t},VJ=e=>{let t=e;do Mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},UJ=(e,t,n,s,l)=>{var f,g;const _=e.dom,A=(f=vT(_,s))!==null&&f!==void 0?f:_.getRoot();let F=_.getParent(s,_.isBlock);if(!F||!e9(_,F)){if(F=F||A,!F.hasChildNodes()){const ue=_.create(t);return xT(e,ue),F.appendChild(ue),n.setStart(ue,0),n.setEnd(ue,0),ue}let j=s;for(;j&&j.parentNode!==F;)j=j.parentNode;let q;for(;j&&!_.isBlock(j);)q=j,j=j.previousSibling;const X=(g=q==null?void 0:q.parentElement)===null||g===void 0?void 0:g.nodeName;if(q&&X&&e.schema.isValidChild(X,t.toLowerCase())){const ue=q.parentNode,xe=_.create(t);for(xT(e,xe),ue.insertBefore(xe,q),j=q;j&&!_.isBlock(j);){const de=j.nextSibling;xe.appendChild(j),j=de}n.setStart(s,l),n.setEnd(s,l)}}return s},WJ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||bn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},ZJ=(e,t)=>{const n=kk(e);return mt(t)?!1:Be(n)?le(Zt.explode(n),t.nodeName.toLowerCase()):n},WV={insert:(e,t)=>{let n,s,l,f,g=!1;const _=e.dom,A=e.schema,F=A.getNonEmptyElements(),j=e.selection.getRng(),q=$i(e),X=Re.fromDom(j.startContainer),ue=mu(X,j.startOffset),xe=ue.exists(Ot=>hi(Ot)&&!rs(Ot)),de=j.collapsed&&xe,Ce=(Ot,gn)=>HV(e,n,Wt,Rt,Sk(e),Ot,gn),ze=Ot=>{const gn=t9(Ot,n,s);if(Mt(n)&&(Ot?gn>0:gn<n.data.length))return!1;if((n.parentNode===Wt||n===Wt)&&g&&!Ot||Ot&&bn(n)&&n===Wt.firstChild)return!0;if(Qz(n,"TABLE")||Qz(n,"HR"))return g&&!Ot||!g&&Ot;const On=new Ua(n,Wt);Mt(n)&&(Ot&&gn===0?On.prev():!Ot&&gn===n.data.length&&On.next());let vo;for(;vo=On.current();){if(bn(vo)){if(!vo.getAttribute("data-mce-bogus")){const Ao=vo.nodeName.toLowerCase();if(F[Ao]&&Ao!=="br")return!1}}else if(Mt(vo)&&!Ml(vo.data))return!1;Ot?On.prev():On.next()}return!0},je=()=>{let Ot;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&cn!=="HGROUP"?Ot=Ce(q):Ot=Ce(),ZJ(e,f)&&e9(_,f)&&_.isEmpty(Wt,void 0,{includeZwsp:!0})?Ot=_.split(f,Wt):_.insertAfter(Ot,Wt),_S(e,Ot),Ot};Om(_,j).each(Ot=>{j.setStart(Ot.startContainer,Ot.startOffset),j.setEnd(Ot.endContainer,Ot.endOffset)}),n=j.startContainer,s=j.startOffset;const Ue=!!(t&&t.shiftKey),rt=!!(t&&t.ctrlKey);bn(n)&&n.hasChildNodes()&&!de&&(g=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,g&&Mt(n)?s=n.data.length:s=0);const Rt=vT(_,n);if(!Rt||FJ(e,n))return;Ue||(n=UJ(e,q,j,n,s));let Wt=_.getParent(n,_.isBlock)||_.getRoot();f=Ee(Wt==null?void 0:Wt.parentNode)?_.getParent(Wt.parentNode,_.isBlock):null,l=Wt?Wt.nodeName.toUpperCase():"";const cn=f?f.nodeName.toUpperCase():"";if(cn==="LI"&&!rt){const Ot=f;Wt=Ot,f=Ot.parentNode,l=cn}if(bn(f)&&RJ(e,Ue,Wt))return NJ(e,Ce,Wt);if(/^(LI|DT|DD)$/.test(l)&&bn(f)&&_.isEmpty(Wt)){PJ(e,Ce,f,Wt,q);return}if(!de&&(Wt===e.getBody()||!e9(_,Wt)))return;const bt=Wt.parentNode;let ct;if(de)ct=Ce(q),ue.fold(()=>{As(X,Re.fromDom(ct))},Ot=>{ds(Ot,Re.fromDom(ct))}),e.selection.setCursorLocation(ct,0);else if(Ih(Wt))ct=Mg(Wt),_.isEmpty(Wt)&&Xz(Wt),xT(e,ct),_S(e,ct);else if(ze(!1))ct=je();else if(ze(!0)&&bt){const Ot=dt.fromRangeStart(j),gn=nv(Ot),On=Re.fromDom(Wt),Ao=r0(On,Ot,e.schema)?Y_(On,Ot,e.schema).bind(wr=>J.from(wr.getNode())):J.none();ct=bt.insertBefore(Ce(),Wt);const cr=Qz(Wt,"HR")||gn?ct:Ao.getOr(Wt);_S(e,cr)}else{const Ot=$J(j).cloneRange();Ot.setEndAfter(Wt);const gn=Ot.extractContents();LJ(gn),VJ(gn),ct=gn.firstChild,_.insertAfter(gn,Wt),HJ(_,F,ct),WJ(_,Wt),_.isEmpty(Wt)&&Xz(Wt),ct.normalize(),_.isEmpty(ct)?(_.remove(ct),je()):(xT(e,ct),_S(e,ct))}_.setAttrib(ct,"id",""),e.dispatch("NewBlock",{newBlock:ct})},fakeEventName:"insertParagraph"},jJ=(e,t,n)=>{const s=new Ua(t,n);let l;const f=e.getNonEmptyElements();for(;l=s.next();)if(f[l.nodeName.toLowerCase()]||Mt(l)&&l.length>0)return!0;return!1},ZV=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Au(e,s)},KJ=(e,t)=>{const n=e.selection,s=e.dom,l=n.getRng();let f,g=!1;Om(s,l).each(ue=>{l.setStart(ue.startContainer,ue.startOffset),l.setEnd(ue.endContainer,ue.endOffset)});let _=l.startOffset,A=l.startContainer;if(bn(A)&&A.hasChildNodes()){const ue=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,ue&&Mt(A)?_=A.data.length:_=0}let F=s.getParent(A,s.isBlock);const j=F&&F.parentNode?s.getParent(F.parentNode,s.isBlock):null,q=j?j.nodeName.toUpperCase():"",X=!!(t&&t.ctrlKey);q==="LI"&&!X&&(F=j),Mt(A)&&_>=A.data.length&&(jJ(e.schema,A,F||s.getRoot())||(f=s.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=s.create("br"),I1(s,l,f),ZV(e,f,g),e.undoManager.add()},qJ=(e,t)=>{const n=Re.fromTag("br");ds(Re.fromDom(t),n),e.undoManager.add()},GJ=(e,t)=>{XJ(e.getBody(),t)||Xe(Re.fromDom(t),Re.fromTag("br"));const n=Re.fromTag("br");Xe(Re.fromDom(t),n),ZV(e,n.dom,!1),e.undoManager.add()},YJ=e=>Xr(e.getNode()),XJ=(e,t)=>YJ(dt.after(t))?!0:El(e,dt.after(t)).map(n=>Xr(n.getNode())).getOr(!1),jV=e=>e&&e.nodeName==="A"&&"href"in e,JJ=e=>e.fold(En,jV,jV,En),QJ=e=>{const t=yt(a0,e),n=dt.fromRangeStart(e.selection.getRng());return Vm(t,e.getBody(),n).filter(JJ)},eQ=(e,t)=>{t.fold(Jt,yt(qJ,e),yt(GJ,e),Jt)},KV={insert:(e,t)=>{const n=QJ(e);n.isSome()?n.each(yt(eQ,e)):KJ(e,t)},fakeEventName:"insertLineBreak"},qV=(e,t)=>Yz(e).filter(n=>t.length>0&&mr(Re.fromDom(n),t)).isSome(),tQ=e=>qV(e,cO(e)),nQ=e=>qV(e,uO(e)),Ad=Bo.generate([{br:[]},{block:[]},{none:[]}]),oQ=(e,t)=>nQ(e),GV=e=>(t,n)=>AJ(t)===e,YV=(e,t)=>(n,s)=>EJ(n)===e.toUpperCase()===t,rQ=e=>{const t=vT(e.dom,e.selection.getStart());return mt(t)},yT=e=>YV("pre",e),sQ=()=>YV("summary",!0),O8=e=>(t,n)=>_k(t)===e,aQ=(e,t)=>tQ(e),D8=(e,t)=>t,iQ=e=>{const t=$i(e),n=vT(e.dom,e.selection.getStart());return Ee(n)&&e.schema.isValidChild(n.nodeName,t)},lQ=e=>{const t=e.selection.getRng(),n=Re.fromDom(t.startContainer),l=mu(n,t.startOffset).map(f=>hi(f)&&!rs(f));return t.collapsed&&l.getOr(!0)},Af=(e,t)=>(n,s)=>It(e,(f,g)=>f&&g(n,s),!0)?J.some(t):J.none(),cQ=(e,t)=>TI([Af([oQ],Ad.none()),Af([yT(!0),rQ],Ad.none()),Af([sQ()],Ad.br()),Af([yT(!0),O8(!1),D8],Ad.br()),Af([yT(!0),O8(!1)],Ad.block()),Af([yT(!0),O8(!0),D8],Ad.block()),Af([yT(!0),O8(!0)],Ad.br()),Af([GV(!0),D8],Ad.br()),Af([GV(!0)],Ad.block()),Af([aQ],Ad.br()),Af([D8],Ad.br()),Af([iQ],Ad.block()),Af([lQ],Ad.block())],[e,!!(t&&t.shiftKey)]).getOr(Ad.none()),R8=(e,t,n)=>{t.selection.isCollapsed()||rR(t),!(Ee(n)&&E8(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ee(n)&&bT(t,e.fakeEventName))},XV=(e,t)=>{const n=()=>R8(KV,e,t),s=()=>R8(WV,e,t),l=cQ(e,t);switch(Ck(e)){case"linebreak":l.fold(n,n,Jt);break;case"block":l.fold(s,s,Jt);break;case"invert":l.fold(s,n,Jt);break;default:l.fold(n,s,Jt);break}},JV=Pa(),uQ=JV.os.isiOS()&&JV.browser.isSafari(),QV=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),BL(e.undoManager),e.undoManager.transact(()=>{XV(e,t)}))},dQ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Mt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},fQ=e=>{let t=J.none();const n=l=>{t=J.some(l.selection.getBookmark()),l.undoManager.add()},s=(l,f)=>{l.undoManager.undo(),t.fold(Jt,g=>l.selection.moveToBookmark(g)),QV(l,f),t=J.none()};e.on("keydown",l=>{l.keyCode===rn.ENTER&&(uQ&&dQ(e.selection.getRng())?n(e):QV(e,l))}),e.on("keyup",l=>{l.keyCode===rn.ENTER&&t.each(()=>s(e,l))})},mQ=(e,t,n)=>{const s=wo.os.isMacOS()||wo.os.isiOS();xp([{keyCode:rn.END,action:Jn(Ed,e,!0)},{keyCode:rn.HOME,action:Jn(Ed,e,!1)},...s?[]:[{keyCode:rn.HOME,action:Jn(k0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rn.END,action:Jn(k0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rn.END,action:Jn(dT,e,!0)},{keyCode:rn.HOME,action:Jn(dT,e,!1)},{keyCode:rn.END,action:Jn(L2,e,!0,t)},{keyCode:rn.HOME,action:Jn(L2,e,!1,t)}],n).each(l=>{n.preventDefault()})},gQ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||mQ(e,t,n)})},hQ=e=>{e.on("input",t=>{t.isComposing||X7(e)})},pQ=Pa(),bQ=(e,t,n)=>{xp([{keyCode:rn.PAGE_UP,action:Jn(L2,e,!1,t)},{keyCode:rn.PAGE_DOWN,action:Jn(L2,e,!0,t)}],n)},eU=e=>e.stopImmediatePropagation(),tU=e=>e.keyCode===rn.PAGE_UP||e.keyCode===rn.PAGE_DOWN,nU=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",eU,!0):!n&&e.get()&&t.off("NodeChange",eU),e.set(n)},vQ=(e,t)=>{if(pQ.os.isMacOS())return;const n=da(!1);e.on("keydown",s=>{tU(s)&&nU(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||bQ(e,t,s),tU(s)&&n.get()&&(nU(n,e,!1),e.nodeChanged())})},xQ=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||ve(t.getTargetRanges(),n=>!gD(e.dom,n)))&&t.preventDefault()})},oU=(e,t)=>{const n=t.container(),s=t.offset();return Mt(n)?(n.insertData(s,e),J.some(dt(n,s+e.length))):c_(t).map(l=>{const f=Re.fromText(e);return t.isAtEnd()?Xe(l,f):ds(l,f),dt(f.dom,e.length)})},rU=yt(oU,ua),sU=yt(oU," "),yQ=(e,t,n)=>t3(e,t,n)?rU(t):sU(t),wQ=e=>t=>t.fold(n=>bc(e.dom,dt.before(n)),n=>Un(n),n=>Su(n),n=>El(e.dom,dt.after(n))),_Q=(e,t,n)=>s=>t3(e,s,n)?rU(t):sU(t),aU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},CQ=(e,t)=>e.isEditable(e.getParent(t,"summary")),SQ=e=>{const t=dt.fromRangeStart(e.selection.getRng()),n=Re.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=yt(a0,e),l=dt.fromRangeStart(e.selection.getRng());return Vm(s,e.getBody(),l).bind(wQ(n)).map(f=>()=>_Q(n,t,e.schema)(f).each(aU(e)))}else return J.none()},kQ=e=>{const t=()=>{const n=Re.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=dt.fromRangeStart(e.selection.getRng());yQ(n,s,e.schema).each(aU(e))};return lg(wo.browser.isFirefox()&&e.selection.isEditable()&&CQ(e.dom,e.selection.getRng().startContainer),t)},EQ=(e,t)=>{yS([{keyCode:rn.SPACEBAR,action:Jn(SQ,e)},{keyCode:rn.SPACEBAR,action:Jn(kQ,e)}],t).each(n=>{t.preventDefault(),E8(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),bT(e,"insertText",{data:" "}))})},AQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||EQ(e,t)})},TQ=e=>BO(e)?[{keyCode:rn.TAB,action:Jn(sV,e,!0)},{keyCode:rn.TAB,shiftKey:!0,action:Jn(sV,e,!1)}]:[],OQ=(e,t)=>{xp([...TQ(e)],t).each(n=>{t.preventDefault()})},DQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||OQ(e,t)})},RQ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),lJ(e),$m(e))return da(null);{const t=e8(e);return xQ(e),S0(e),WY(e,t),SJ(e,t),fQ(e),AQ(e),hQ(e),DQ(e),gQ(e,t),vQ(e,t),t}};class NQ{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const f=t.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!Py(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{Y1(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&W1(t)&&!s.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&W1(t)&&(t.selection.getNode().nodeName==="IMG"?yc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!RM(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();s=n.getStart(!0)||l,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,l))&&(s=l);const f=[];this.editor.dom.getParent(s,g=>g===l?!0:(f.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:f})}}isSameElementPath(t){let n;const s=this.editor,l=Eo(s.dom.getParents(t,Mn,s.getBody()));if(l.length===this.lastPath.length){for(n=l.length;n>=0&&l[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const iU=_i("image"),IQ=e=>{const t=e;return J.from(t[iU])},BQ=(e,t)=>{const n=e;n[iU]=t},n9=_i("event"),MQ=e=>{const t=e;return J.from(t[n9])},N8=e=>t=>{const n=t;n[n9]=e},PQ=(e,t)=>N8(t)(e),lU=N8(0),LQ=N8(2),FQ=N8(1),zQ=(e=>t=>{const n=t;return J.from(n[n9]).exists(s=>s===e)})(0),HQ=()=>Object.freeze({length:0,item:e=>null}),o9=_i("mode"),$Q=e=>{const t=e;return J.from(t[o9])},I8=e=>t=>{const n=t;n[o9]=e},cU=(e,t)=>I8(t)(e),uU=I8(0),r9=I8(2),VQ=I8(1),dU=e=>t=>{const n=t;return J.from(n[o9]).exists(s=>s===e)},CS=dU(0),fU=dU(1),UQ=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(CS(e))if(Be(n)){if(!Ye(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{CS(e)&&t.remove(n)},clear:()=>{CS(e)&&t.clear()}}),WQ=["none","copy","link","move"],ZQ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],s9=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(l){le(WQ,l)&&(t=l)},get effectAllowed(){return n},set effectAllowed(l){zQ(s)&&le(ZQ,l)&&(n=l)},get items(){return UQ(s,e.items)},get files(){return fU(s)?HQ():e.files},get types(){return e.types},setDragImage:(l,f,g)=>{CS(s)&&(BQ(s,{image:l,x:f,y:g}),e.setDragImage(l,f,g))},getData:l=>fU(s)?"":e.getData(l),setData:(l,f)=>{CS(s)&&e.setData(l,f)},clearData:l=>{CS(s)&&e.clearData(l)}};return uU(s),s},jQ=e=>{const t=s9(),n=$Q(e);return r9(e),lU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,IQ(e).each(s=>t.setDragImage(s.image,s.x,s.y)),me(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),me(e.files,s=>t.items.add(s)),MQ(e).each(s=>{PQ(t,s)}),n.each(s=>{cU(e,s),cU(t,s)}),t},KQ=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},mU=(e,t)=>e.setData("text/html",t),gU="x-tinymce/html",B8=ot(gU),a9="<!-- "+gU+" -->",qQ=e=>a9+e,GQ=e=>e.replace(a9,""),hU=e=>e.indexOf(a9)!==-1,YQ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),XQ=(e,t)=>{let n="<"+e;const s=qi(t,(l,f)=>f+'="'+_g.encodeAllRaw(l)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},JQ=(e,t,n)=>{const s=e.split(/\n\n/),l=XQ(t,n),f="</"+t+">",g=Ie(s,A=>A.split(/\n/).join("<br />")),_=A=>l+A+f;return g.length===1?g[0]:Ie(g,_).join("")},pU="%MCEPASTEBIN%",QQ=(e,t)=>{const{dom:n,selection:s}=e,l=e.getBody();t.set(s.getRng());const f=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},pU);wo.browser.isFirefox()&&n.setStyle(f,"left",n.getStyle(l,"direction",!0)==="rtl"?65535:-65535),n.bind(f,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),f.focus(),s.select(f,!0)},eee=(e,t)=>{const n=e.dom;if(i9(e)){let s;const l=t.get();for(;s=i9(e);)n.remove(s),n.unbind(s);l&&e.selection.setRng(l)}t.set(null)},i9=e=>e.dom.get("mcepastebin"),tee=e=>Ee(e)&&e.id==="mcepastebin",nee=e=>{const t=e.dom,n=(g,_)=>{g.appendChild(_),t.remove(_,!0)},[s,...l]=xt(e.getBody().childNodes,tee);me(l,g=>{n(s,g)});const f=t.select("div[id=mcepastebin]",s);for(let g=f.length-1;g>=0;g--){const _=t.create("div");s.insertBefore(_,f[g]),n(_,f[g])}return s?s.innerHTML:""},bU=e=>e===pU,oee=e=>{const t=da(null);return{create:()=>QQ(e,t),remove:()=>eee(e,t),getEl:()=>i9(e),getHtml:()=>nee(e),getLastRng:t.get}},vU=(e,t)=>(Zt.each(t,n=>{Le(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),ree=e=>{const t=dc(),n=gv({},t);let s="";const l=t.getVoidElements(),f=Zt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),_=A=>{const F=A.name,j=A;if(F==="br"){s+=`
`;return}if(F!=="wbr"){if(l[F]&&(s+=" "),f[F]){s+=" ";return}if(A.type===3&&(s+=A.value),!(A.name in t.getVoidElements())){let q=A.firstChild;if(q)do _(q);while(q=q.next)}g[F]&&j.next&&(s+=`
`,F==="p"&&(s+=`
`))}};return e=vU(e,[/<!\[[^\]]+\]>/g]),_(n.parse(e)),s},xU=e=>(e=vU(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,l)=>!s&&!l?" ":ua],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),see=e=>{let t=0;return()=>e+t++},aee=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Zt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},iee=(e,t)=>{const n=gv({sanitize:RO(e),sandbox_iframes:Fk(e),sandbox_iframes_exclusions:n_(e),convert_unsafe_embeds:PO(e)},e.schema);n.addNodeFilter("meta",l=>{Zt.each(l,f=>{f.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Kg({validate:!0},e.schema).serialize(s)},yU=(e,t)=>({content:e,cancelled:t}),lee=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),l=E_(e,s,n);return yU(l.node.innerHTML,l.isDefaultPrevented())},cee=(e,t,n)=>{const s=Ny(e,t,n),l=iee(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?lee(e,l,n):yU(l,s.isDefaultPrevented())},uee=(e,t,n)=>cee(e,t,n),l9=(e,t)=>(e.insertContent(t,{merge:LM(e),paste:!0}),!0),c9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),dee=(e,t)=>c9(t)&&ve(Lk(e),n=>_e(t.toLowerCase(),`.${n.toLowerCase()}`)),fee=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),mee=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),gee=(e,t,n)=>!e.selection.isCollapsed()&&c9(t)?mee(e,t,n):!1,hee=(e,t,n)=>dee(e,t)?fee(e,t,n):!1,pee=(e,t)=>{Zt.each([gee,hee,l9],n=>!n(e,t,l9))},bee=(e,t,n)=>{n||!Lb(e)?l9(e,t):pee(e,t)},vee=see("mceclip"),xee=e=>{const t=s9();return mU(t,e),r9(t),t},wU=(e,t,n,s,l)=>{const f=uee(e,t,n);if(!f.cancelled){const g=f.content,_=()=>bee(e,g,s);l?E8(e,"insertFromPaste",{dataTransfer:xee(g)}).isDefaultPrevented()||(_(),bT(e,"insertFromPaste")):_()}},M8=(e,t,n,s)=>{const l=n||hU(t);wU(e,GQ(t),l,!1,s)},u9=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),l=Gp(s,TO(e)),f=JQ(l,$i(e),ny(e));wU(e,f,!1,!0,n)},_U=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Rv=(e,t)=>t in e&&e[t].length>0,CU=e=>Rv(e,"text/html")||Rv(e,"text/plain"),yee=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ee(n)?e.dom.encode(n[1]):void 0},wee=(e,t,n,s)=>{const l=vee(),f=Hg(e)&&Ee(n.name),g=f?yee(e,n.name):l,_=f?n.name:void 0,A=t.create(l,n,s,g,_);return t.add(A),A},_ee=(e,t)=>{FC(t.uri).each(({data:n,type:s,base64Encoded:l})=>{const f=l?n:btoa(n),g=t.file,_=e.editorUpload.blobCache,A=_.getByData(f,s),F=A??wee(e,_,g,f);M8(e,`<img src="${F.blobUri()}">`,!1,!0)})},Cee=e=>e.type==="paste",See=e=>Promise.all(Ie(e,t=>rN(t).then(n=>({file:t,uri:n})))),kee=e=>{const t=Lk(e);return n=>Ur(n.type,"image/")&&ve(t,s=>aee(s)===n.type)},Eee=(e,t)=>{const n=t.items?ro(so(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],s=t.files?so(t.files):[];return xt(n.length>0?n:s,kee(e))},SU=(e,t,n)=>{const s=Cee(t)?t.clipboardData:t.dataTransfer;if(Sm(e)&&s){const l=Eee(e,s);if(l.length>0)return t.preventDefault(),See(l).then(f=>{n&&e.selection.setRng(n),me(f,g=>{_ee(e,g)})}),!0}return!1},Aee=e=>{var t,n;return wo.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},Tee=e=>rn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,d9=(e,t,n,s,l)=>{let f=xU(n);const g=Rv(t,B8())||hU(n),_=!g&&YQ(f),A=c9(f);(bU(f)||!f.length||_&&!A)&&(s=!0),(s||A)&&(Rv(t,"text/plain")&&_?f=t["text/plain"]:f=ree(f)),!bU(f)&&(s?u9(e,f,l):M8(e,f,g,l))},Oee=(e,t,n)=>{let s;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{Tee(f)&&!f.isDefaultPrevented()&&(s=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||Aee(f))return;const g=n.get()==="text"||s;s=!1;const _=_U(f.clipboardData);!CU(_)&&SU(e,f,l())||(Rv(_,"text/html")?(f.preventDefault(),d9(e,_,_["text/html"],g,!0)):Rv(_,"text/plain")&&Rv(_,"text/uri-list")?(f.preventDefault(),d9(e,_,_["text/plain"],g,!0)):(t.create(),yc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),d9(e,_,A,g,!1)},0)))})},Dee=e=>{const t=l=>Ur(l,"webkit-fake-url"),n=l=>Ur(l,"data:"),s=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,g)=>{if(!Sm(e)&&s(g))for(const _ of l){const A=_.attr("src");Be(A)&&!_.attr("data-mce-object")&&A!==wo.transparentSrc&&(t(A)||!FM(e)&&n(A))&&_.remove()}})},Ree=(e,t,n)=>{Oee(e,t,n),Dee(e)},Nee=(e,t)=>{t.get()==="text"?(t.set("html"),A_(e,!1)):(t.set("text"),A_(e,!0)),e.focus()},Iee=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Nee(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&M8(e,s.html,s.internal,!1),s.text&&u9(e,s.text,!1)})},Bee=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(B8(),t),!0}catch{return!1}else return!1},kU=(e,t,n,s)=>{Bee(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},EU=e=>(t,n)=>{const{dom:s,selection:l}=e,f=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=s.create("div",{contenteditable:"true"},t);s.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),s.add(e.getBody(),f);const _=l.getRng();g.focus();const A=s.createRng();A.selectNodeContents(g),l.setRng(A),yc.setEditorTimeout(e,()=>{l.setRng(_),s.remove(f),n()},0)},AU=e=>({html:qQ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Mee=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),TU=e=>!e.selection.isCollapsed()||Mee(e),Pee=e=>t=>{!t.isDefaultPrevented()&&TU(e)&&e.selection.isEditable()&&kU(t,AU(e),EU(e),()=>{if(wo.browser.isChromium()||wo.browser.isFirefox()){const n=e.selection.getRng();yc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Lee=e=>t=>{!t.isDefaultPrevented()&&TU(e)&&kU(t,AU(e),EU(e),Jt)},Fee=e=>{e.on("cut",Pee(e)),e.on("copy",Lee(e))},OU=(e,t)=>{var n,s;return Yh.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},zee=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},DU=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Hee=e=>ve(e.files,t=>/^image\//.test(t.type)),$ee=(e,t,n,s)=>{const l=e.getParent(n,g=>ef(t,g));if(!Je(e.getParent(n,"summary")))return!0;if(l&&Gn(s,"text/html")){const g=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Je(g.querySelector(l.nodeName.toLowerCase()))}else return!1},Vee=e=>{e.on("input",t=>{const n=s=>Je(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=xt(e.dom.select("details"),n);me(s,l=>{Xr(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(md().dom),l.prepend(f)})}})},Uee=(e,t)=>{vf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Sm(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Hee(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=OU(e,n);if(mt(s))return;const l=_U(n.dataTransfer),f=Rv(l,B8());if((!CU(l)||zee(l))&&SU(e,n,s))return;const g=l[B8()],_=g||l["text/html"]||l["text/plain"],A=$ee(e.dom,e.schema,s.startContainer,l),F=t.get();F&&!A||_&&(n.preventDefault(),yc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||F&&A)&&e.execCommand("Delete"),DU(e,s);const j=xU(_);l["text/html"]?M8(e,j,f,!0):u9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Sm(e)&&!t.get()&&(n.preventDefault(),DU(e,OU(e,n))),n.type==="dragend"&&t.set(!1)}),Vee(e)},Wee=e=>{const t=l=>f=>{l(e,f)},n=PM(e);Ne(n)&&e.on("PastePreProcess",t(n));const s=ay(e);Ne(s)&&e.on("PastePostProcess",t(s))},Zee=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},jee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,RU=e=>Zt.trim(e).replace(jee,cb).toLowerCase(),Kee=(e,t,n)=>{const s=AO(e);if(n||s==="all"||!Ik(e))return t;const l=s?s.split(/[, ]/):[];if(l&&s!=="none"){const f=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,F,j)=>{const q=f.parseStyle(f.decode(F)),X={};for(let xe=0;xe<l.length;xe++){const de=q[l[xe]];let Ce=de,ze=f.getStyle(g,l[xe],!0);/color/.test(l[xe])&&(Ce=RU(Ce),ze=RU(ze)),ze!==Ce&&(X[l[xe]]=de)}const ue=f.serializeStyle(X,"span");return ue?A+' style="'+ue+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,g,_,A)=>g+' style="'+_+'"'+A),t},qee=e=>{(wo.browser.isChromium()||wo.browser.isSafari())&&Zee(e,Kee)},Gee=e=>{const t=da(!1),n=da(Fb(e)?"text":"html"),s=oee(e);qee(e),Iee(e,n),Wee(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Fee(e),Uee(e,t),Ree(e,s,n)})},Yee=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Xee=e=>{e.parser.addNodeFilter("details",t=>{const n=t_(e);me(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=MO(e);me(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},Jee=e=>{Yee(e),Xee(e)},Qee=Xr,NU=Mt,ete=e=>Qn(e.dom),tte=e=>ic(e.dom),IU=e=>t=>Po(Re.fromDom(e),t),nte=(e,t,n)=>Gs(Re.fromDom(e),s=>tte(s)||n.isBlock(Mo(s)),IU(t)).getOr(Re.fromDom(t)).dom,BU=(e,t)=>Gs(Re.fromDom(e),ete,IU(t)),MU=(e,t,n)=>{const s=new Ua(e,t),l=n?s.next.bind(s):s.prev.bind(s);let f=e;for(let g=n?e:l();g&&!Qee(g);g=l())Uc(g)&&(f=g);return f},ote=(e,t,n)=>{const l=dt.fromRangeStart(e).getNode(),f=nte(l,t,n),g=MU(l,f,!1),_=MU(l,f,!0),A=document.createRange();return BU(g,f).fold(()=>{NU(g)?A.setStart(g,0):A.setStartBefore(g)},F=>A.setStartBefore(F.dom)),BU(_,f).fold(()=>{NU(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},F=>A.setEndAfter(F.dom)),A},rte=e=>{const t=ote(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(pC(t))},ste=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),rte(e))})};var SS;(function(e){e.Before="before",e.After="after"})(SS||(SS={}));const ate=(e,t)=>Math.abs(e.left-t),ite=(e,t)=>Math.abs(e.right-t),lte=(e,t)=>e>=t.top&&e<=t.bottom,cte=(e,t)=>e.top<t.bottom&&e.bottom>t.top,ute=(e,t)=>{const n=Zx(e,t)/Math.min(e.height,t.height);return cte(e,t)&&n>.5},dte=(e,t)=>{const n=xt(e,s=>lte(t,s));return Bh(n).fold(()=>[[],e],s=>{const{pass:l,fail:f}=$t(e,g=>ute(g,s));return[l,f]})},fte=(e,t)=>({node:e.node,position:ate(e,t)<ite(e,t)?SS.Before:SS.After}),mte=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),f9=(e,t,n,s)=>{const l=q=>Uc(q.node)?J.some(q):bn(q.node)?f9(so(q.node.childNodes),t,n,!1):J.none(),f=(q,X,ue)=>l(X).filter(xe=>Math.abs(ue(q,t,n)-ue(xe,t,n))<2&&Mt(xe.node)),g=(q,X)=>{const ue=ar(q,(xe,de)=>X(xe,t,n)-X(de,t,n));return zr(ue,l).map(xe=>s&&!Mt(xe.node)&&ue.length>1?f(xe,ue[1],X).getOr(xe):xe)},[_,A]=dte(jI(e),n),{pass:F,fail:j}=$t(A,q=>q.top<n);return g(_,mte).orThunk(()=>g(j,E1)).orThunk(()=>g(F,E1))},gte=(e,t,n,s)=>{const l=(f,g)=>{const _=F=>bn(F)&&F.classList.contains("mce-drag-container"),A=xt(f.dom.childNodes,vt(_));return g.fold(()=>f9(A,n,s,!0),F=>{const j=xt(A,q=>q!==F.dom);return f9(j,n,s,!0)}).orThunk(()=>(Po(f,e)?J.none():Wd(f)).bind(j=>l(j,J.some(f))))};return l(t,J.none())},hte=(e,t,n)=>{const s=Re.fromDom(e),l=Il(s),g=Re.fromPoint(l,t,n).filter(_=>Ha(s,_)).getOr(s);return gte(s,g,t,n)},PU=(e,t,n)=>hte(e,t,n).filter(s=>uy(s.node)).map(s=>fte(s,t)),LU=e=>{var t,n;const s=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,g=l.defaultView;return{top:s.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-f.clientTop,left:s.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-f.clientLeft}},pte=e=>e.inline?LU(e.getBody()):{left:0,top:0},bte=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},vte=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:l},xte=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=LU(e.getContentAreaContainer()),s=vte(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},yte=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),wte=(e,t)=>yte(pte(e),bte(e),xte(e,t)),FU=e=>({target:e,srcElement:e}),_te=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...FU(n)}),Cte=(e,t,n)=>{const s=jt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Jt,stopImmediatePropagation:Jt,stopPropagation:Jt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...FU(t)}},Ste=(e,t)=>{const n=jQ(e);return t==="dragstart"?(lU(n),uU(n)):t==="drop"?(LQ(n),r9(n)):(FQ(n),VQ(n)),n},kte=(e,t,n,s)=>{const l=Ste(n,e);return Ye(s)?Cte(e,t,l):_te(e,s,t,l)},P8=32,Ete=100,L8=8,F8=16,zU=Qn,Ate=qx(zU,ic),Tte=(e,t,n)=>zU(n)&&n!==t&&e.isEditable(n.parentElement),Ote=(e,t,n)=>mt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),Dte=(e,t,n,s)=>{const l=e.dom,f=t.cloneNode(!0);l.setStyles(f,{width:n,height:s}),l.setAttrib(f,"data-mce-selected",null);const g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},Rte=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},z8=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},HU=z8("left",-P8),$U=z8("left",P8),VU=z8("top",-P8),UU=z8("top",P8),Nte=(e,t,n,s,l,f,g,_,A,F,j,q)=>{let X=0,ue=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>l&&(X=t.pageX+n-l),t.pageY+s>f&&(ue=t.pageY+s-f),e.style.width=n-X+"px",e.style.height=s-ue+"px";const xe=A.clientHeight,de=A.clientWidth,Ce=g+A.getBoundingClientRect().top,ze=_+A.getBoundingClientRect().left;j.on(je=>{je.intervalId.clear(),je.dragging&&q&&(g+L8>=xe?je.intervalId.set(UU(F)):g-L8<=0?je.intervalId.set(VU(F)):_+L8>=de?je.intervalId.set($U(F)):_-L8<=0?je.intervalId.set(HU(F)):Ce+F8>=window.innerHeight?je.intervalId.set(UU(window)):Ce-F8<=0?je.intervalId.set(VU(window)):ze+F8>=window.innerWidth?je.intervalId.set($U(window)):ze-F8<=0&&je.intervalId.set(HU(window)))})},WU=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Ite=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);WU(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&gc(Re.fromDom(n))},Bte=e=>e.button===0,Mte=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Pte=(e,t)=>n=>{if(Bte(n)){const s=vn(t.dom.getParents(n.target),Ate).getOr(null);if(Ee(s)&&Tte(t.dom,t.getBody(),s)){const l=t.dom.getPos(s),f=t.getBody(),g=t.getDoc().documentElement;e.set({element:s,dataTransfer:s9(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:g.offsetHeight)-2,relX:n.pageX-l.x,relY:n.pageY-l.y,width:s.offsetWidth,height:s.offsetHeight,ghost:Dte(t,s,s.offsetWidth,s.offsetHeight),intervalId:lc(Ete)})}}},Lte=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),PU(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const l=e._selectionOverrides.showCaret(1,s.node,s.position===SS.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,n)})},wT=(e,t,n,s,l)=>{t==="dragstart"&&mU(s,e.dom.getOuterHTML(n));const f=kte(t,n,s,l);return e.dispatch(t,f)},Fte=(e,t)=>{const n=Rg((l,f)=>Lte(t,l,f),0);t.on("remove",n.cancel);const s=e;return l=>e.on(f=>{const g=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&g>10){const _=wT(t,"dragstart",f.element,f.dataTransfer,l);if(Ee(_.dataTransfer)&&(f.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const _=l.currentTarget===t.getDoc().documentElement,A=Mte(f,wte(t,l));Rte(f.ghost,t.getBody()),Nte(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),s,_),n.throttle(l.clientX,l.clientY)}})},zte=e=>{const t=e.getSel();if(Ee(t)){const s=t.getRangeAt(0).startContainer;return Mt(s)?s.parentNode:s}else return null},Hte=(e,t)=>n=>{e.on(s=>{var l;if(s.intervalId.clear(),s.dragging){if(Ote(t,zte(t.selection),s.element)){const f=(l=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&l!==void 0?l:t.getBody();wT(t,"drop",f,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{Ite(t.dom,s.element),KQ(s.dataTransfer).each(_=>t.insertContent(_)),t._selectionOverrides.hideFakeCaret()})}wT(t,"dragend",t.getBody(),s.dataTransfer,n)}}),jU(e)},ZU=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>wT(t,"dragend",s.element,s.dataTransfer),l=>wT(t,"dragend",s.element,s.dataTransfer,l))}),jU(e)},$te=(e,t)=>n=>ZU(e,t,J.some(n)),jU=e=>{e.on(t=>{t.intervalId.clear(),WU(t.ghost)}),e.clear()},Vte=e=>{const t=fa(),n=Ar.DOM,s=document,l=Pte(t,e),f=Fte(t,e),g=Hte(t,e),_=$te(t,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),n.bind(s,"mousemove",f),n.bind(s,"mouseup",_),e.on("remove",()=>{n.unbind(s,"mousemove",f),n.unbind(s,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===rn.ESC&&ZU(t,e,J.none())})},Ute=e=>{const t=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(le(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&rS(e,"Dropped file type is not supported"))}},n=l=>{z_(e,l.target)&&t(l)},s=()=>{const l=Ar.DOM,f=e.dom,g=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];me(A,F=>{l.bind(g,F,n),f.bind(_,F,t)}),e.on("remove",()=>{me(A,F=>{l.unbind(g,F,n),f.unbind(_,F,t)})})};e.on("init",()=>{yc.setEditorTimeout(e,s,0)})},Wte=e=>{Vte(e),Qw(e)&&Ute(e)},Zte=e=>{const t=Rg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=lS(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},jte=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(pt(n)){const s=Nu(e.getBody(),n),l=Qn(s)?s:n;e.selection.getNode()!==l&&R2(e,l).each(f=>e.selection.setRng(f))}})})},_T=Qn,KU=(e,t)=>Nu(e.getBody(),t),Kte=e=>{const t=e.selection,n=e.dom,s=e.getBody(),l=UO(e,s,n.isBlock,()=>X1(e)),f="sel-"+n.uniqueId(),g="data-mce-selected";let _;const A=cn=>Ee(cn)&&n.hasClass(cn,"mce-offscreen-selection"),F=cn=>cn!==s&&(_T(cn)||pt(cn))&&n.isChildOf(cn,s)&&n.isEditable(cn.parentNode),j=cn=>{cn&&t.setRng(cn)},q=(cn,bt,ct,Ot=!0)=>e.dispatch("ShowCaret",{target:bt,direction:cn,before:ct}).isDefaultPrevented()?null:(Ot&&t.scrollIntoView(bt,cn===-1),l.show(ct,bt)),X=cn=>{cn.hasAttribute("data-mce-caret")&&(Mg(cn),t.scrollIntoView(cn))},ue=()=>{e.on("click",bt=>{n.isEditable(bt.target)||(bt.preventDefault(),e.focus())}),e.on("blur NewBlock",rt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",bt=>{const ct=bt.target,Ot=KU(e,ct);_T(Ot)?(bt.preventDefault(),R2(e,Ot).each(Ue)):F(ct)&&R2(e,ct).each(Ue)},!0),e.on("mousedown",bt=>{const ct=bt.target;if(ct!==s&&ct.nodeName!=="HTML"&&!n.isChildOf(ct,s)||!vF(e,bt.clientX,bt.clientY))return;rt(),Wt();const Ot=KU(e,ct);_T(Ot)?(bt.preventDefault(),R2(e,Ot).each(Ue)):PU(s,bt.clientX,bt.clientY).each(gn=>{bt.preventDefault();const On=q(1,gn.node,gn.position===SS.Before,!1);j(On),Lc(Ot)?Ot.focus():e.getBody().focus()})}),e.on("keypress",bt=>{rn.modifierPressed(bt)||_T(t.getNode())&&bt.preventDefault()}),e.on("GetSelectionRange",bt=>{let ct=bt.range;if(_){if(!_.parentNode){_=null;return}ct=ct.cloneRange(),ct.selectNode(_),bt.range=ct}}),e.on("SetSelectionRange",bt=>{bt.range=Ce(bt.range);const ct=Ue(bt.range,bt.forward);ct&&(bt.range=ct)});const cn=bt=>bn(bt)&&bt.id==="mcepastebin";e.on("AfterSetSelectionRange",bt=>{const ct=bt.range,Ot=ct.startContainer.parentElement;!de(ct)&&!cn(Ot)&&Wt(),A(Ot)||rt()}),Wte(e),Zte(e),jte(e)},xe=cn=>kl(cn)||kb(cn)||hd(cn),de=cn=>xe(cn.startContainer)||xe(cn.endContainer),Ce=cn=>{const bt=e.schema.getVoidElements(),ct=n.createRng(),Ot=cn.startContainer,gn=cn.startOffset,On=cn.endContainer,vo=cn.endOffset;return Gn(bt,Ot.nodeName.toLowerCase())?gn===0?ct.setStartBefore(Ot):ct.setStartAfter(Ot):ct.setStart(Ot,gn),Gn(bt,On.nodeName.toLowerCase())?vo===0?ct.setEndBefore(On):ct.setEndAfter(On):ct.setEnd(On,vo),ct},ze=(cn,bt)=>{const ct=Re.fromDom(e.getBody()),Ot=e.getDoc(),gn=kt(ct,"#"+f).getOrThunk(()=>{const Ao=Re.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ot);return ea(Ao,"id",f),As(ct,Ao),Ao}),On=n.createRng();Mr(gn),Ls(gn,[Re.fromText(ua,Ot),Re.fromDom(bt),Re.fromText(ua,Ot)]),On.setStart(gn.dom.firstChild,1),On.setEnd(gn.dom.lastChild,0),Io(gn,{top:n.getPos(cn,e.getBody()).y+"px"}),EE(gn);const vo=t.getSel();return vo&&(vo.removeAllRanges(),vo.addRange(On)),On},je=cn=>{const bt=cn.cloneNode(!0),ct=e.dispatch("ObjectSelected",{target:cn,targetClone:bt});if(ct.isDefaultPrevented())return null;const Ot=ze(cn,ct.targetClone),gn=Re.fromDom(cn);return me(Ys(Re.fromDom(e.getBody()),`*[${g}]`),On=>{Po(gn,On)||go(On,g)}),n.getAttrib(cn,g)||cn.setAttribute(g,"1"),_=cn,Wt(),Ot},Ue=(cn,bt)=>{if(!cn)return null;if(cn.collapsed){if(!de(cn)){const On=bt?1:-1,vo=gy(On,s,cn),Ao=vo.getNode(!bt);if(Ee(Ao)){if(uy(Ao))return q(On,Ao,bt?!vo.isAtEnd():!1,!1);if(vm(Ao)&&Qn(Ao.nextSibling)){const wr=n.createRng();return wr.setStart(Ao,0),wr.setEnd(Ao,0),wr}}const cr=vo.getNode(bt);if(Ee(cr)){if(uy(cr))return q(On,cr,bt?!1:!vo.isAtEnd(),!1);if(vm(cr)&&Qn(cr.previousSibling)){const wr=n.createRng();return wr.setStart(cr,1),wr.setEnd(cr,1),wr}}}return null}let ct=cn.startContainer,Ot=cn.startOffset;const gn=cn.endOffset;if(Mt(ct)&&Ot===0&&_T(ct.parentNode)&&(ct=ct.parentNode,Ot=n.nodeIndex(ct),ct=ct.parentNode),!bn(ct))return null;if(gn===Ot+1&&ct===cn.endContainer){const On=ct.childNodes[Ot];if(F(On))return je(On)}return null},rt=()=>{_&&_.removeAttribute(g),kt(Re.fromDom(e.getBody()),"#"+f).each(lr),_=null},Rt=()=>{l.destroy(),_=null},Wt=()=>{l.hide()};return $m(e)||ue(),{showCaret:q,showBlockCaretContainer:X,hideFakeCaret:Wt,destroy:Rt}},qte=(e,t)=>{let n=t;for(let s=e.previousSibling;Mt(s);s=s.previousSibling)n+=s.data.length;return n},qU=(e,t,n,s,l)=>{if(Mt(n)&&(s<0||s>n.data.length))return[];const f=l&&Mt(n)?[qte(n,s)]:[s];let g=n;for(;g!==t&&g.parentNode;)f.push(e.nodeIndex(g,l)),g=g.parentNode;return g===t?f.reverse():[]},m9=(e,t,n,s,l,f,g=!1)=>{const _=qU(e,t,n,s,g),A=qU(e,t,l,f,g);return{start:_,end:A}},GU=(e,t)=>{const n=t.slice(),s=n.pop();return R(s)?It(n,(f,g)=>f.bind(_=>J.from(_.childNodes[g])),J.some(e)).bind(f=>Mt(f)&&(s<0||s>f.data.length)?J.none():J.some({node:f,offset:s})):J.none()},YU=(e,t)=>GU(e,t.start).bind(({node:n,offset:s})=>GU(e,t.end).map(({node:l,offset:f})=>{const g=document.createRange();return g.setStart(n,s),g.setEnd(l,f),g})),Gte=(e,t,n,s=!1)=>m9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),kS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,Mt(t.firstChild)&&Ml(t.firstChild.data)),kS(e,s,n)}},H8=(e,t,n,s=!0)=>{const l=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),kS(e,l,n),l!==f&&kS(e,f,n))},$8=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),g9=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:li(s).concat(e.blockPatterns),inlinePatterns:Cu(s).concat(e.inlinePatterns)}},h9=(e,t,n,s)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(n,s),l.toString()},XU=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),V8=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},JU=(e,t,n)=>{const s=YU(e.getRoot(),n).getOrDie("Unable to resolve path range"),l=s.startContainer,f=s.endContainer,g=s.endOffset===0?f:f.splitText(s.endOffset),_=s.startOffset===0?l:l.splitText(s.startOffset),A=_.parentNode,F=g.parentNode;return{prefix:t,end:F.insertBefore(XU(e,t+"-end"),g),start:A.insertBefore(XU(e,t+"-start"),_)}},QU=(e,t,n)=>{kS(e,e.get(t.prefix+"-end"),n),kS(e,e.get(t.prefix+"-start"),n)},p9=e=>e.start.length===0,Yte=e=>(t,n)=>{const l=t.data.substring(0,n),f=l.lastIndexOf(e.charAt(e.length-1)),g=l.lastIndexOf(e);return g!==-1?g+e.length:f!==-1?f+1:-1},eW=(e,t,n,s)=>{const l=t.start;return Fz(e,s.container,s.offset,Yte(l),n).bind(g=>{var _,A;const F=(A=(_=n.textContent)===null||_===void 0?void 0:_.indexOf(l))!==null&&A!==void 0?A:-1;if(F!==-1&&g.offset>=F+l.length){const q=e.createRng();return q.setStart(g.container,g.offset-l.length),q.setEnd(g.container,g.offset),J.some(q)}else{const q=g.offset-l.length;return Lz(g.container,q,n).map(X=>{const ue=e.createRng();return ue.setStart(X.container,X.offset),ue.setEnd(g.container,g.offset),ue}).filter(X=>X.toString()===l).orThunk(()=>eW(e,t,n,ih(g.container,0)))}})},Xte=(e,t,n,s,l,f=!1)=>{if(t.start.length===0&&!f){const g=e.createRng();return g.setStart(n,s),g.setEnd(n,s),J.some(g)}return Pz(n,s,l).bind(g=>eW(e,t,l,g).bind(A=>{var F;if(f){if(A.endContainer===g.container&&A.endOffset===g.offset)return J.none();if(g.offset===0&&((F=A.endContainer.textContent)===null||F===void 0?void 0:F.length)===A.endOffset)return J.none()}return J.some(A)}))},Jte=(e,t,n,s)=>{const l=e.dom,f=l.getRoot(),g=n.pattern,_=n.position.container,A=n.position.offset;return Lz(_,A-n.pattern.end.length,t).bind(F=>{const j=m9(l,f,F.container,F.offset,_,A,s);if(p9(g))return J.some({matches:[{pattern:g,startRng:j,endRng:j}],position:F});{const q=U8(e,n.remainingPatterns,F.container,F.offset,t,s),X=q.getOr({matches:[],position:F}),ue=X.position;return Xte(l,g,ue.container,ue.offset,t,q.isNone()).map(de=>{const Ce=Gte(l,f,de,s);return{matches:X.matches.concat([{pattern:g,startRng:Ce,endRng:j}]),position:ih(de.startContainer,de.startOffset)}})}})},U8=(e,t,n,s,l,f)=>{const g=e.dom;return Pz(n,s,g.getRoot()).bind(_=>{const A=h9(g,l,n,s);for(let F=0;F<t.length;F++){const j=t[F];if(!_e(A,j.end))continue;const q=t.slice();q.splice(F,1);const X=Jte(e,l,{pattern:j,remainingPatterns:q,position:_},f);if(X.isNone()&&s>0)return U8(e,t,n,s-1,l,f);if(X.isSome())return X}return J.none()})},tW=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?me(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Qte=(e,t,n,s)=>{const l=V8(e.dom,n);H8(e.dom,l,s),tW(e,t,l)},ene=(e,t,n,s,l)=>{const f=e.dom,g=V8(f,s),_=V8(f,n);H8(f,_,l),H8(f,g,l);const A={prefix:n.prefix,start:n.end,end:s.start},F=V8(f,A);tW(e,t,F)},tne=(e,t)=>{const n=_i("mce_textpattern"),s=Ft(t,(l,f)=>{const g=JU(e,n+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:g}])},[]);return Ft(s,(l,f)=>{const g=s.length-l.length-1,_=p9(f.pattern)?f.endMarker:JU(e,n+`_start${g}`,f.startRng);return l.concat([{...f,startMarker:_}])},[])},nne=e=>ar(e,(t,n)=>n.end.length-t.end.length),one=(e,t)=>{const n=po(e,s=>ve(t,l=>s.pattern.start===l.pattern.start&&s.pattern.end===l.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},nW=(e,t,n,s,l,f)=>{const g=U8(e,l.inlinePatterns,n,s,t,f).fold(()=>[],A=>A.matches),_=U8(e,nne(l.inlinePatterns),n,s,t,f).fold(()=>[],A=>A.matches);return one(g,_)},oW=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),l=tne(n,t);me(l,f=>{const g=n.getParent(f.startMarker.start,n.isBlock),_=A=>A===g;p9(f.pattern)?Qte(e,f.pattern,f.endMarker,_):ene(e,f.pattern,f.startMarker,f.endMarker,_),QU(n,f.endMarker,_),QU(n,f.startMarker,_)}),e.selection.moveToBookmark(s)},rW=(e,t,n)=>jY(t,0,t).map(s=>{const l=s.container;return aV(l,n.start.length,t).each(f=>{const g=e.createRng();g.setStart(l,0),g.setEnd(f.container,f.offset),H8(e,g,_=>_===t)}),l}),sW=e=>(t,n)=>{const s=t.dom,l=n.pattern,f=YU(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(_,A)=>{const F=A.get(_);return oe(F)&&ln(F).exists(j=>Gn(j,"block"))};return $8(t,f).each(_=>{l.type==="block-format"?g(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,_,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,_,l),t.execCommand(l.cmd,!1,l.value)})}),!0},rne=e=>ar(e,(t,n)=>n.start.length-t.start.length),aW=e=>(t,n)=>{const s=rne(t),l=n.replace(ua," ");return vn(s,f=>e(f,n,l))},iW=(e,t)=>(n,s,l,f,g)=>{var _;g===void 0&&(g=(_=s.textContent)!==null&&_!==void 0?_:"");const A=n.dom,F=$i(n);return A.is(s,F)?e(l.blockPatterns,g).map(j=>t&&Zt.trim(g).length===j.start.length?[]:[{pattern:j,range:m9(A,A.getRoot(),s,0,s,0,f)}]).getOr([]):[]},sne=e=>/^\s[^\s]/.test(e),ane=sW((e,t,n)=>{rW(e,t,n).each(s=>{const l=Re.fromDom(s),f=pm(l);sne(f)&&vb(l,f.slice(1))})}),ine=aW((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),lne=iW(ine,!0),cne=(e,t)=>{const n=e.selection.getRng();return $8(e,n).map(s=>{var l;const f=Math.max(0,n.startOffset),g=g9(t,s,(l=s.textContent)!==null&&l!==void 0?l:""),_=nW(e,s,n.startContainer,f,g,!0),A=lne(e,s,g,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:s,blockMatches:l})=>l.length>0||s.length>0)},une=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();me(t,s=>ane(e,s)),e.selection.moveToBookmark(n)},dne=sW(rW),fne=aW((e,t,n)=>t===e.start||n===e.start),mne=iW(fne,!1),gne=(e,t)=>{const n=e.selection.getRng();return $8(e,n).map(s=>{const l=Math.max(0,n.startOffset),f=h9(e.dom,s,n.startContainer,l),g=g9(t,s,f);return mne(e,s,g,!1,f)}).filter(s=>s.length>0)},hne=(e,t)=>{me(t,n=>dne(e,n))},pne=(e,t)=>cne(e,t).fold(En,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{pk(e),oW(e,n),une(e,s);const l=e.selection.getRng(),f=Pz(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(g=>{const _=g.container;_.data.charAt(g.offset-1)===fs&&(_.deleteData(g.offset-1,1),kS(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),bne=(e,t)=>{const n=e.selection.getRng();$8(e,n).map(s=>{const l=Math.max(0,n.startOffset-1),f=h9(e.dom,s,n.startContainer,l),g=g9(t,s,f),_=nW(e,s,n.startContainer,l,g,!1);_.length>0&&e.undoManager.transact(()=>{oW(e,_)})})},vne=(e,t)=>gne(e,t).fold(En,n=>(e.undoManager.transact(()=>{hne(e,n)}),!0)),lW=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},xne=(e,t)=>lW(e,t,(n,s)=>n===s.keyCode&&!rn.modifierPressed(s)),yne=(e,t)=>lW(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),wne=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>Fh(zM(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),iy(e)),l=()=>Bk(e);e.on("keydown",g=>{if(g.keyCode===13&&!rn.modifierPressed(g)&&e.selection.isCollapsed()){const _=pf(s(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||l())&&pne(e,_)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const _=pf(s(),"space");(_.blockPatterns.length>0||l())&&vne(e,_)&&g.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const g=pf(s(),"space");(g.inlinePatterns.length>0||l())&&bne(e,g)}};e.on("keyup",g=>{xne(n,g)&&f()}),e.on("keypress",g=>{yne(t,g)&&yc.setEditorTimeout(e,f)})},_ne=e=>{wne(e)},Cne=e=>{const t=Zt.each,n=rn.BACKSPACE,s=rn.DELETE,l=e.dom,f=e.selection,g=e.parser,_=wo.browser,A=_.isFirefox(),F=_.isChromium()||_.isSafari(),j=wo.deviceType.isiPhone()||wo.deviceType.isiPad(),q=wo.os.isMacOS()||wo.os.isiOS(),X=(tn,zn)=>{try{e.getDoc().execCommand(tn,!1,String(zn))}catch{}},ue=tn=>tn.isDefaultPrevented(),xe=()=>{const tn=So=>{const an=l.create("body"),xo=So.cloneContents();return an.appendChild(xo),f.serializer.serialize(an,{format:"html"})},zn=So=>{const an=tn(So),xo=l.createRng();xo.selectNode(e.getBody());const Do=tn(xo);return an===Do};e.on("keydown",So=>{const an=So.keyCode;if(!ue(So)&&(an===s||an===n)&&e.selection.isEditable()){const xo=e.selection.isCollapsed(),Do=e.getBody();if(xo&&!Pl(e.schema,Do)||!xo&&!zn(e.selection.getRng()))return;So.preventDefault(),e.setContent(""),Do.firstChild&&l.isBlock(Do.firstChild)?e.selection.setCursorLocation(Do.firstChild,0):e.selection.setCursorLocation(Do,0),e.nodeChanged()}})},de=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ce=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",tn=>{let zn;if(tn.target===e.getDoc().documentElement)if(zn=f.getRng(),e.getBody().focus(),tn.type==="mousedown"){if(kl(zn.startContainer))return;f.placeCaretAt(tn.clientX,tn.clientY)}else f.setRng(zn)})},ze=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const zn=f.getNode(),So=zn.previousSibling;if(zn.nodeName==="HR"){l.remove(zn),tn.preventDefault();return}So&&So.nodeName&&So.nodeName.toLowerCase()==="hr"&&(l.remove(So),tn.preventDefault())}}})},je=()=>{Range.prototype.getClientRects||e.on("mousedown",tn=>{if(!ue(tn)&&tn.target.nodeName==="HTML"){const zn=e.getBody();zn.blur(),yc.setEditorTimeout(e,()=>{zn.focus()})}})},Ue=()=>{const tn=z1(e);e.on("click",zn=>{const So=zn.target;/^(IMG|HR)$/.test(So.nodeName)&&l.isEditable(So)&&(zn.preventDefault(),e.selection.select(So),e.nodeChanged()),So.nodeName==="A"&&l.hasClass(So,tn)&&So.childNodes.length===0&&l.isEditable(So.parentNode)&&(zn.preventDefault(),f.select(So))})},rt=()=>{const tn=()=>{const So=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const an=f.getStart();an!==e.getBody()&&(l.setAttrib(an,"style",null),t(So,xo=>{an.setAttributeNode(xo.cloneNode(!0))}))}},zn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",So=>{let an;return!ue(So)&&(So.keyCode===8||So.keyCode===46)&&zn()?(an=tn(),e.getDoc().execCommand("delete",!1),an(),So.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",So=>{if(!ue(So)&&zn()){const an=tn();yc.setEditorTimeout(e,()=>{an()})}})},Rt=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n&&f.isCollapsed()&&f.getRng().startOffset===0){const zn=f.getNode().previousSibling;if(zn&&zn.nodeName&&zn.nodeName.toLowerCase()==="table")return tn.preventDefault(),!1}return!0})},Wt=()=>{e.on("keydown",tn=>{if(ue(tn)||tn.keyCode!==rn.BACKSPACE)return;let zn=f.getRng();const So=zn.startContainer,an=zn.startOffset,xo=l.getRoot();let Do=So;if(!(!zn.collapsed||an!==0)){for(;Do.parentNode&&Do.parentNode.firstChild===Do&&Do.parentNode!==xo;)Do=Do.parentNode;Do.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Do),zn=l.createRng(),zn.setStart(So,0),zn.setEnd(So,0),f.setRng(zn))}})},cn=()=>{const tn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),bO(e)||X("enableObjectResizing",!1)};kO(e)||e.on("BeforeExecCommand mousedown",tn)},bt=()=>{const tn=()=>{t(l.select("a:not([data-mce-block])"),zn=>{var So;let an=zn.parentNode;const xo=l.getRoot();if((an==null?void 0:an.lastChild)===zn){for(;an&&!l.isBlock(an);){if(((So=an.parentNode)===null||So===void 0?void 0:So.lastChild)!==an||an===xo)return;an=an.parentNode}l.add(an,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",zn=>{(zn.type==="setcontent"||zn.command==="mceInsertLink")&&tn()})},ct=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",$i(e))})},Ot=tn=>{const zn=tn.getBody(),So=tn.selection.getRng();return So.startContainer===So.endContainer&&So.startContainer===zn&&So.startOffset===0&&So.endOffset===zn.childNodes.length},gn=()=>{e.on("keyup focusin mouseup",tn=>{!rn.modifierPressed(tn)&&!Ot(e)&&f.normalize()},!0)},On=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},vo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ao=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",tn=>{let zn;tn.target.nodeName==="HTML"&&(zn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(zn),e.selection.normalize(),e.nodeChanged())}))},cr=()=>{q&&e.on("keydown",tn=>{rn.metaKeyPressed(tn)&&!tn.shiftKey&&(tn.keyCode===37||tn.keyCode===39)&&(tn.preventDefault(),e.selection.getSel().modify("move",tn.keyCode===37?"backward":"forward","lineboundary"))})},wr=()=>{e.on("click",tn=>{let zn=tn.target;do if(zn.tagName==="A"){tn.preventDefault();return}while(zn=zn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},js=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",tn=>{tn.preventDefault()})})},cl=()=>{g.addNodeFilter("br",tn=>{let zn=tn.length;for(;zn--;)tn[zn].attr("class")==="Apple-interchange-newline"&&tn[zn].remove()})},Or=Jt,Yt=()=>{if(!A||e.removed)return!1;const tn=e.selection.getSel();return!tn||!tn.rangeCount||tn.rangeCount===0},kn=()=>{F&&(Ce(),Ue(),js(),de(),j&&(vo(),Ao(),wr())),A&&(je(),cn(),On(),cr())},Yo=()=>{Wt(),xe(),wo.windowsPhone||gn(),F&&(Ce(),Ue(),ct(),js(),Rt(),cl(),j?(vo(),Ao(),wr()):de()),A&&(ze(),je(),rt(),cn(),bt(),On(),cr(),Rt())};return $m(e)?kn():Yo(),{refreshContentEditable:Or,isHidden:Yt}},Sne=e=>e.toLowerCase()==="gpl",kne=e=>e.length>=64&&e.length<=255,Ene=e=>Sne(e)||kne(e)?"VALID":"INVALID",Ane=e=>{const t=LO(e);!Be(FO(e))&&(Ye(t)||Ene(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},b9=Ar.DOM,Tne=(e,t)=>{const n=Re.fromDom(e.getBody()),s=Qf(Ic(n)),l=Re.fromTag("style");ea(l,"type","text/css"),As(l,Re.fromText(t)),As(s,l),e.on("remove",()=>{lr(l)})},One=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,v9=e=>Jl(e,t=>Ye(t)===!1),cW=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return v9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:One(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:n_(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},uW=e=>{const t=e.options.get;return v9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Dne=e=>{const t=e.options.get;return{...cW(e),...uW(e),...v9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Rne=e=>{const t=gv(cW(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const l=e.dom,f="data-mce-"+s;let g=n.length;for(;g--;){const _=n[g];let A=_.attr(s);if(A&&!_.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;s==="style"?(A=l.serializeStyle(l.parseStyle(A),_.name),A.length||(A=null),_.attr(f,A),_.attr(s,A)):s==="tabindex"?(_.attr(f,A),_.attr(s,null)):_.attr(f,e.convertURL(A,s,_.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const l=n[s],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),$M(e)&&t.addNodeFilter("#cdata",n=>{var s;let l=n.length;for(;l--;){const f=n[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((s=f.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const l=e.schema.getNonEmptyElements();for(;s--;){const f=n[s];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new ci("br",1))}}),t},Nne=e=>{const t=BM(e);t&&yc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},Ine=e=>{const t=e.dom.getRoot();!e.inline&&(!W1(e)||e.selection.getStart(!0)===t)&&Un(t).each(n=>{const s=n.getNode(),l=Fc(s)?Un(s).getOr(n):n;e.selection.setRng(l.toRange())})},Bne=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Hs(e),e.focus(!0),Ine(e),e.nodeChanged({initial:!0});const t=NM(e);Ne(t)&&t.call(e,e),Nne(e)},x9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Mne=(e,t,n)=>{const{pass:s,fail:l}=$t(t,_=>tinymce.Resource.has(_A(_))),g=[...s.map(_=>{const A=tinymce.Resource.get(_A(_));return Be(A)?Promise.resolve(x9(e).loadRawCss(_,A)):Promise.resolve()}),x9(e).loadAll(l)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},dW=e=>{const t=x9(e),n=pO(e),s=e.contentCSS,l=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Zt.each(e.contentStyles,F=>{A+=F+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(Mne(e,s,n)).then(f).catch(f),_=P1(e);return _&&Tne(e,_),g},Pne=e=>{const t=e.getDoc(),n=e.getBody();c7(e),MM(e)||(t.body.spellcheck=!1,b9.setAttrib(n,"spellcheck","false")),e.quirks=Cne(e),u7(e);const s=kM(e);s!==void 0&&(n.dir=s);const l=Wo(e);l&&e.on("BeforeSetContent",f=>{Zt.each(l,g=>{f.content=f.content.replace(g,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},Lne=e=>{$m(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},y9=e=>{e.removed!==!0&&(Lne(e),Bne(e))},Fne=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},fW=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(b9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=kO(e),e._editableRoot=er(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&b9.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=SA(e),e.schema=dc(uW(e)),e.dom=Ar(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:gO(e),referrerPolicy:oy(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=Rne(e),e.serializer=g6(Dne(e),e),e.selection=cA(e.dom,e.getWin(),e.serializer,e),e.annotator=O5(e),e.formatter=D2(e),e.undoManager=K6(e),e._nodeChangeDispatcher=new NQ(e),e._selectionOverrides=Kte(e),uo(e),Jee(e),$2(e),$m(e)||(ste(e),_ne(e));const l=RQ(e);Rn(e,l),pa(e),Q6(e),Gee(e);const f=YN(e);Pne(e),Ane(e),f.fold(()=>{const g=Fne(e);dW(e).then(()=>{y9(e),g()})},g=>{e.setProgressState(!0),dW(e).then(()=>{g().then(_=>{e.setProgressState(!1),y9(e),o6(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),y9(e),o6(e)})})})},zne=Mn,Hne=(e,t,n)=>N(e,t,zne,n),w9=Ar.DOM,$ne=(e,t,n,s)=>{const l=Re.fromTag("iframe");return s.each(f=>ea(l,"tabindex",f)),pi(l,n),pi(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),td(l,"tox-edit-area__iframe"),l},Vne=e=>{let t=pd(e)+"<html><head>";jc(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Jw(e),s=wk(e),l=e.translate(sy(e));return lO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+lO(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Une=(e,t)=>{const n=wo.browser.isFirefox()?sy(e):"Rich Text Area",s=e.translate(n),l=Oc(Re.fromDom(e.getElement()),"tabindex").bind(nn),f=$ne(e.id,s,sl(e),l).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=Vne(e),w9.add(t.iframeContainer,f)},Wne=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,fW(e)};if(NO(e)||wo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=Hne(Re.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},Zne=(e,t)=>{Une(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=w9.isHidden(t.editorContainer)),e.getElement().style.display="none",w9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Wne(e)},mW=Ar.DOM,jne=(e,t,n)=>{const s=p0.get(n),l=p0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Zt.trim(n),s&&Zt.inArray(t,n)===-1){if(e.plugins[n])return;try{const f=s(e,l)||{};e.plugins[n]=f,Ne(f.init)&&(f.init(e,l),t.push(n))}catch(f){_F(e,n,f)}}},Kne=e=>e.replace(/^\-/,""),qne=e=>{const t=[];me(bd(e),n=>{jne(e,t,Kne(n))})},Gne=e=>{const t=Zt.trim(Ek(e)),n=e.ui.registry.getAll().icons,s={...k2.get("default").icons,...k2.get(t).icons};Vo(s,(l,f)=>{Gn(n,f)||e.ui.registry.addIcon(f,l)})},Yne=e=>{const t=L1(e);if(Be(t)){const n=hp.get(t);e.theme=n(e,hp.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,hp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Xne=e=>{const t=ry(e),n=gp.get(t);e.model=n(e,gp.urls[t])},Jne=e=>{const t=e.theme.renderUI;return t?t():hW(e)},Qne=e=>{const t=e.getElement(),s=L1(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},gW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),eoe=e=>{const t=mW.create("div");return mW.insertAfter(t,e),gW(t,t)},hW=e=>{const t=e.getElement();return e.inline?gW(null):eoe(t)},toe=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Be(L1(e))?Jne(e):Ne(L1(e))?Qne(e):hW(e)},noe=(e,t)=>{const n={show:J.from(t.show).getOr(Jt),hide:J.from(t.hide).getOr(Jt),isEnabled:J.from(t.isEnabled).getOr(Mn),setEnabled:s=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(l=>l(s))}};e.ui={...e.ui,...n}},ooe=async e=>{e.dispatch("ScriptsLoaded"),Gne(e),Yne(e),Xne(e),qne(e);const t=await toe(e);noe(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,B6(e),e.inline?fW(e):Zne(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},j2=Ar.DOM,pW=e=>e.charAt(0)==="-",roe=(e,t)=>{const n=Ok(t),s=SM(t);if(!fc.hasCode(n)&&n!=="en"){const l=We(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(l).catch(()=>{yF(t,l,n)})}},soe=(e,t)=>{const n=L1(e);if(Be(n)&&!pW(n)&&!Gn(hp.urls,n)){const s=AM(e),l=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;hp.load(n,l).catch(()=>{N6(e,l,n)})}},aoe=(e,t)=>{const n=ry(e);if(n!=="plugin"&&!Gn(gp.urls,n)){const s=Rk(e),l=Be(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;gp.load(n,l).catch(()=>{wF(e,l,n)})}},ioe=e=>J.from(fO(e)).filter(We).map(t=>({url:t,name:J.none()})),bW=(e,t,n)=>J.from(t).filter(s=>We(s)&&!k2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:J.some(s)})),loe=(e,t,n)=>{const s=bW(t,"default",n),l=ioe(t).orThunk(()=>bW(t,Ek(t),""));me(W0([s,l]),f=>{e.add(f.url).catch(()=>{yA(t,f.url,f.name.getOrUndefined())})})},coe=(e,t)=>{const n=(s,l)=>{p0.load(s,l).catch(()=>{xA(e,l,s)})};Vo(Cm(e),(s,l)=>{n(l,s),e.options.set("plugins",bd(e).concat(l))}),me(bd(e),s=>{s=Zt.trim(s),s&&!p0.urls[s]&&!pW(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},uoe=e=>{const t=L1(e);return!Be(t)||Ee(hp.get(t))},doe=e=>{const t=ry(e);return Ee(gp.get(t))},foe=(e,t)=>{const n=nl.ScriptLoader,s=()=>{!e.removed&&uoe(e)&&doe(e)&&ooe(e)};soe(e,t),aoe(e,t),roe(n,e),loe(n,e,t),coe(e,t),n.loadQueue().then(s,s)},moe=(e,t)=>n1.forElement(e,{contentCssCors:EO(t),referrerPolicy:oy(t)}),goe=e=>{const t=e.id;fc.setCode(Ok(e));const n=()=>{j2.unbind(window,"ready",n),e.render()};if(!of.Event.domLoaded){j2.bind(window,"ready",n);return}if(!e.getElement())return;const s=Re.fromDom(e.getElement()),l=Qi(s);e.on("remove",()=>{_t(s.dom.attributes,g=>go(s,g.name)),pi(s,l)}),e.ui.styleSheetLoader=moe(s,e),Pb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||j2.getParent(t,"form");f&&(e.formElement=f,Nk(e)&&!wh(e.getElement())&&(j2.insertAfter(j2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},j2.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),wO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=D6(e),e.notificationManager=vA(e),IO(e)&&e.on("GetContent",g=>{g.save&&(g.content=j2.encode(g.content))}),_O(e)&&e.on("submit",()=>{e.initialized&&e.save()}),CO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),foe(e,e.suffix)},hoe=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),m7(e,t))},poe=e=>e._editableRoot,boe=(e,t)=>({sections:ot(e),options:ot(t)}),vW=Pa().deviceType,xW=vW.isPhone(),voe=vW.isTablet(),CT=e=>{if(mt(e))return[];{const t=oe(e)?e:e.split(/[ ,]/),n=Ie(t,Oe);return xt(n,We)}},xoe=(e,t)=>{const n=ou(t,(s,l)=>le(e,l));return boe(n.t,n.f)},yoe=(e,t,n={})=>{const s=e.sections(),l=ir(s,t).getOr({});return Zt.extend({},n,l)},_9=(e,t)=>Gn(e.sections(),t),woe=(e,t)=>_9(e,t)?e.sections()[t]:{},_oe=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ir(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),Coe=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Zt.extend({},e.external_plugins,s):s},Soe=(e,t)=>[...CT(e),...CT(t)],koe=(e,t,n,s)=>e&&_9(t,"mobile")?s:n,Eoe=(e,t,n,s)=>{const l=CT(n.forced_plugins),f=CT(s.plugins),g=woe(t,"mobile"),_=g.plugins?CT(g.plugins):f,A=koe(e,t,f,_),F=Soe(l,A);return Zt.extend(s,{forced_plugins:l,plugins:F})},Aoe=(e,t)=>e&&_9(t,"mobile"),Toe=(e,t,n,s,l)=>{var f;const g=e?{mobile:_oe((f=l.mobile)!==null&&f!==void 0?f:{},t)}:{},_=xoe(["mobile"],w8(g,l)),A=Zt.extend(n,s,_.options(),Aoe(e,_)?yoe(_,"mobile"):{},{external_plugins:Coe(s,_.options())});return Eoe(e,_,s,A)},Ooe=(e,t)=>{const n=gV(t);return Toe(xW||voe,xW,n,e,n)},Doe=(e,t)=>n6(e,t),Roe=e=>{const t=(s,l)=>{e.formatter.toggle(s,l),e.nodeChanged()},n=s=>()=>{me("left,center,right,justify".split(","),l=>{s!==l&&e.formatter.remove("align"+l)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Noe=e=>{const t=n=>()=>{const s=e.selection,l=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return ve(l,f=>Ee(e.formatter.matchNode(f,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Ioe=e=>{Roe(e),Noe(e)},Boe=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(wo.os.isMacOS()||wo.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Moe=(e,t,n,s)=>{const l=Re.fromDom(e.getRoot());return rv(l,dt.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),s0(l,dt.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Poe=e=>{if(typeof e!="string"){const t=Zt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Loe=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?Moe(s,n.getRng(),t,e.schema):t},W8=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=Poe(t);L4(e,{...s,content:Loe(e,n),format:"html",set:!1,selection:!0}).each(l=>{const f=JL(e,l.content,s);F4(e,f,l),e.addVisual()})}},Foe=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{W8(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{W8(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{W8(e,s)},mceInsertContent:(t,n,s)=>{W8(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Ko(e))}})},zoe={"font-size":"size","font-family":"face"},Hoe=Vd("font"),$oe=(e,t,n)=>{const s=f=>xs(f,e).orThunk(()=>Hoe(f)?ir(zoe,e).bind(g=>Oc(f,g)):J.none()),l=f=>Po(Re.fromDom(t),f);return i2(Re.fromDom(n),f=>s(f),l)},Voe=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Uoe=(e,t)=>J.from(Ar.DOM.getStyle(t,e,!0)),yW=e=>(t,n)=>J.from(n).map(Re.fromDom).filter(ks).bind(s=>$oe(e,t,s.dom).or(Uoe(e,s.dom))).getOr(""),Woe=yW("font-size"),Zoe=pn(Voe,yW("font-family")),joe=e=>Un(e.getBody()).bind(t=>{const n=t.container();return J.from(Mt(n)?n.parentNode:n)}),Koe=e=>J.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),qoe=(e,t)=>Koe(e).orThunk(yt(joe,e)).map(Re.fromDom).filter(ks).bind(t),C9=(e,t)=>qoe(e,Tn(J.some,t)),wW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Mk(e),l=Pk(e);return l.length>0?l[n-1]||t:s[n-1]||t}else return t}else return t},Goe=e=>{const t=e.split(/\s*,\s*/);return Ie(t,n=>n.indexOf(" ")!==-1&&!(Ur(n,'"')||Ur(n,"'"))?`'${n}'`:n).join(",")},Yoe=(e,t)=>{const n=wW(e,t);e.formatter.toggle("fontname",{value:Goe(n)}),e.nodeChanged()},Xoe=e=>C9(e,t=>Zoe(e.getBody(),t.dom)).getOr(""),Joe=(e,t)=>{e.formatter.toggle("fontsize",{value:wW(e,t)}),e.nodeChanged()},Qoe=e=>C9(e,t=>Woe(e.getBody(),t.dom)).getOr(""),ere=e=>C9(e,t=>{const n=Re.fromDom(e.getBody()),s=i2(t,f=>xs(f,"line-height"),yt(Po,n)),l=()=>{const f=parseFloat(Es(t,"line-height")),g=parseFloat(Es(t,"font-size"));return String(f/g)};return s.getOrThunk(l)}).getOr(""),tre=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},nre=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,l)=>{t(n,{value:l})},BackColor:(n,s,l)=>{t("hilitecolor",{value:l})},FontName:(n,s,l)=>{Yoe(e,l)},FontSize:(n,s,l)=>{Joe(e,l)},LineHeight:(n,s,l)=>{tre(e,l)},Lang:(n,s,l)=>{var f;t(n,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,l)=>{t(Be(l)?l:"p")},mceToggleFormat:(n,s,l)=>{t(l)}})},ore=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Xoe(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Qoe(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ere(e))},rre=e=>{nre(e),ore(e)},sre=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},are=e=>{e.editorCommands.addCommands({Indent:()=>{wt(e)},Outdent:()=>{ht(e)}}),e.editorCommands.addCommands({Outdent:()=>fe(e)},"state")},ire=e=>{const t=(n,s,l)=>{const f=Be(l)?{href:l}:l,g=e.dom.getParent(e.selection.getNode(),"a");ie(f)&&Be(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!g||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},lre=(e,t,n,s)=>{const l=e.dom,f=_=>l.isBlock(_)&&_.parentElement===n,g=f(t)?t:l.getParent(s,f,n);return J.from(g).map(Re.fromDom)},_W=(e,t)=>{const n=e.dom,s=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),f=t?s.startContainer:s.endContainer,g=vT(n,f);if(!g||!g.isContentEditable)return;const _=t?ds:Xe,A=$i(e);lre(e,l,g,f).each(F=>{const j=HV(e,f,F.dom,g,!1,A);_(F,Re.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),bT(e,"insertParagraph")})},cre=e=>_W(e,!0),ure=e=>_W(e,!1),dre=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{cre(e)},InsertNewBlockAfter:()=>{ure(e)}})},fre=e=>{e.editorCommands.addCommands({insertParagraph:()=>{R8(WV,e)},mceInsertNewLine:(t,n,s)=>{XV(e,s)},InsertLineBreak:(t,n,s)=>{R8(KV,e)}})},mre=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>bn(f)&&l++===s?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ic);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},gre=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const l=s??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{mD(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},hre=e=>{Ioe(e),Boe(e),sre(e),mre(e),Foe(e),ire(e),are(e),dre(e),fre(e),rre(e),gre(e)},pre=["toggleview"],CW=e=>le(pre,e.toLowerCase());class SW{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,l){const f=this.editor,g=t.toLowerCase(),_=l==null?void 0:l.skip_focus;if(f.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!_?f.focus():L_(f)),f.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const F=this.commands.exec[g];return Ne(F)?(F(g,n,s),f.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!CW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Ne(s)?s(n):!1}queryCommandValue(t){if(!CW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Ne(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Vo(t,(l,f)=>{me(f.toLowerCase().split(","),g=>{s[n][g]=l})})}addCommand(t,n,s){const l=t.toLowerCase();this.commands.exec[l]=(f,g,_)=>n.call(s??this.editor,g,_)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const K2="data-mce-contenteditable",bre=(e,t,n)=>{nd(e,t)&&!n?bi(e,t):n&&td(e,t)},S9=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},Z8=(e,t)=>{e.dom.contentEditable=t?"true":"false"},vre=e=>{me(Ys(e,'*[contenteditable="true"]'),t=>{ea(t,K2,"true"),Z8(t,!1)})},xre=e=>{me(Ys(e,`*[${K2}="true"]`),t=>{go(t,K2),Z8(t,!0)})},yre=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},wre=e=>{e.selection.setRng(e.selection.getRng())},_re=(e,t)=>{const n=Re.fromDom(e.getBody());bre(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),yre(e),e.readonly=!0,Z8(n,!1),vre(n)):(e.readonly=!1,e.hasEditableRoot()&&Z8(n,!0),xre(n),S9(e,"StyleWithCSS",!1),S9(e,"enableInlineTableEditing",!1),S9(e,"enableObjectResizing",!1),Qb(e)&&e.focus(),wre(e),e.nodeChanged())},q2=e=>e.readonly,kW=e=>{e.parser.addAttributeFilter("contenteditable",t=>{q2(e)&&me(t,n=>{n.attr(K2,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(K2,t=>{q2(e)&&me(t,n=>{n.attr("contenteditable",n.attr(K2))})}),e.serializer.addTempAttr(K2)},Cre=e=>{e.serializer?kW(e):e.on("PreInit",()=>{kW(e)})},Sre=e=>e.type==="click",kre=["copy"],Ere=e=>le(kre,e.type),Are=(e,t)=>Sa(t,"a",s=>Po(s,Re.fromDom(e.getBody()))).bind(s=>Oc(s,"href")),Tre=(e,t)=>{if(Sre(t)&&!rn.metaKeyPressed(t)){const n=Re.fromDom(t.target);Are(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const l=e.dom.select(`${s},[name="${Ac(s,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ere(t)&&e.dispatch(t.type,t)},Ore=e=>{e.on("ShowCaret",t=>{q2(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{q2(e)&&t.preventDefault()})},Dre=Zt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class k9{static isNative(t){return!!Dre[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||En}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),l=d1(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[s];if(f)for(let g=0,_=f.length;g<_;g++){const A=f[g];if(!A.removed){if(A.once&&this.off(s,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,n,s,l){if(n===!1&&(n=En),n){const f={func:n,removed:!1};l&&Zt.extend(f,l);const g=t.toLowerCase().split(" ");let _=g.length;for(;_--;){const A=g[_];let F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),s?F=[f,...F]:F=[...F,f],this.bindings[A]=F}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let l=s.length;for(;l--;){const f=s[l];let g=this.bindings[f];if(!f)return Vo(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const _=$t(g,A=>A.func===n);g=_.fail,this.bindings[f]=g,me(_.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Vo(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const ST=e=>(e._eventDispatcher||(e._eventDispatcher=new k9({scope:e,toggleEvent:(t,n)=>{k9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),E9={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return d1(e.toLowerCase(),t??{},s);const l=ST(s).dispatch(e,t);if(n!==!1&&s.parent){let f=s.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,t,n){return ST(this).on(e,t,n)},off(e,t){return ST(this).off(e,t)},once(e,t){return ST(this).once(e,t)},hasEventListeners(e){return ST(this).has(e)}},j8=Ar.DOM;let G2;const K8=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=xO(e);return n?(e.eventRoot||(e.eventRoot=j8.select(n)[0]),e.eventRoot):e.getBody()},Rre=e=>!e.hidden&&!q2(e),EW=(e,t,n)=>{Rre(e)?e.dispatch(t,n):q2(e)&&Tre(e,n)},AW=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=K8(e,t);if(xO(e)){if(G2||(G2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||G2&&(Vo(G2,(l,f)=>{e.dom.unbind(K8(e,f))}),G2=null)})),G2[t])return;const s=l=>{const f=l.target,g=e.editorManager.get();let _=g.length;for(;_--;){const A=g[_].getBody();(A===f||j8.isChildOf(f,A))&&EW(g[_],t,l)}};G2[t]=s,j8.bind(n,t,s)}else{const s=l=>{EW(e,t,l)};j8.bind(n,t,s),e.delegates[t]=s}},TW={...E9,bindPendingEventDelegates(){const e=this;Zt.each(e._pendingNativeEvents,t=>{AW(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?AW(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(K8(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Vo(e.delegates,(s,l)=>{e.dom.unbind(K8(e,l),l,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Nre=e=>Be(e)?{value:e.split(/[ ,]/),valid:!0}:Nt(e,Be)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ire=e=>{const t=(()=>{switch(e){case"array":return oe;case"boolean":return Ve;case"function":return Ne;case"number":return R;case"object":return ie;case"string":return Be;case"string[]":return Nre;case"object[]":return n=>Nt(n,ie);case"regexp":return n=>Le(n,RegExp);default:return Mn}})();return n=>A9(n,t,`The value must be a ${e}.`)},Bre=e=>Be(e.processor),OW=(e,t)=>{const n=Pt(t.message)?"":`. ${t.message}`;return e+n},DW=e=>e.valid,A9=(e,t,n="")=>{const s=t(e);return Ve(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},Mre=(e,t,n)=>{if(!Ye(t)){const s=A9(t,n);if(DW(s))return s.value;console.error(OW(`Invalid default value passed for the "${e}" option`,s))}},Pre=(e,t,n=t)=>{const s={},l={},f=(ue,xe,de)=>{const Ce=A9(xe,de);return DW(Ce)?(l[ue]=Ce.value,!0):(console.warn(OW(`Invalid value passed for the ${ue} option`,Ce)),!1)},g=(ue,xe)=>{const de=Bre(xe)?Ire(xe.processor):xe.processor,Ce=Mre(ue,xe.default,de);s[ue]={...xe,default:Ce,processor:de},ir(l,ue).orThunk(()=>ir(t,ue)).each(je=>f(ue,je,de))},_=ue=>Gn(s,ue);return{register:g,isRegistered:_,get:ue=>ir(l,ue).orThunk(()=>ir(s,ue).map(xe=>xe.default)).getOrUndefined(),set:(ue,xe)=>{if(_(ue)){const de=s[ue];return de.immutable?(console.error(`"${ue}" is an immutable option and cannot be updated`),!1):f(ue,xe,de.processor)}else return console.warn(`"${ue}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ue=>{const xe=_(ue);return xe&&delete l[ue],xe},isSet:ue=>Gn(l,ue),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ue,xe)=>Ve(xe)||R(xe)||Be(xe)||Je(xe)||oe(xe)||Me(xe)?xe:Object.prototype.toString.call(xe))))}catch(ue){console.error(ue)}}}},Lre=["design","readonly"],RW=(e,t,n,s)=>{const l=n[t.get()],f=n[s];try{f.activate()}catch(g){console.error(`problem while activating editor mode ${s}:`,g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&_re(e,f.editorReadOnly),t.set(s),D5(e,s)},Fre=(e,t,n,s)=>{if(s!==n.get()){if(!Gn(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?RW(e,n,t,s):e.on("init",()=>RW(e,n,t,s))}},zre=(e,t,n)=>{if(le(Lre,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},Hre=e=>{const t=da("design"),n=da({design:{activate:Jt,deactivate:Jt,editorReadOnly:!1},readonly:{activate:Jt,deactivate:Jt,editorReadOnly:!0}});return Cre(e),Ore(e),{isReadOnly:()=>q2(e),set:s=>Fre(e,n.get(),t,s),get:()=>t.get(),register:(s,l)=>{n.set(zre(n.get(),s,l))}}},T9=Zt.each,O9=Zt.explode,$re={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},NW=Zt.makeMap("alt,ctrl,shift,meta,access"),Vre=e=>e in NW,Ure=e=>{const t={},n=wo.os.isMacOS()||wo.os.isiOS();T9(O9(e.toLowerCase(),"+"),f=>{Vre(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=$re[f]||f.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let l;for(l in NW)t[l]?s.push(l):t[l]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class IW{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(T9(n.shortcuts,l=>{n.matchShortcut(s,l)&&(n.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(l))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,l){const f=this,g=f.normalizeCommandFunc(s);return T9(O9(Zt.trim(t)),_=>{const A=f.createShortcut(_,n,g,l);f.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Zt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,l){const f=Zt.map(O9(t,">"),Ure);return f[f.length-1]=Zt.extend(f[f.length-1],{func:s,scope:l||this.editor}),Zt.extend(f[0],{desc:this.editor.translate(n),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Wre=()=>{const e={},t={},n={},s={},l={},f={},g={},_={},A=(j,q)=>(X,ue)=>{j[X.toLowerCase()]={...ue,type:q}},F=(j,q)=>s[j.toLowerCase()]=q;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(g,"sidebar"),addView:A(_,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:l,contextToolbars:f,sidebars:g,views:_})}},Zre=()=>{const e=Wre();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Y2=Ar.DOM,BW=Zt.extend,jre=Zt.each;class q8{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,BW(this,TW);const l=this;this.id=t,this.hidden=!1;const f=Ooe(s.defaultOptions,n);this.options=Pre(l,f,n),Xw(l);const g=this.options.get;g("deprecation_warnings")&&mF(n,f);const _=g("suffix");_&&(s.suffix=_),this.suffix=s.suffix;const A=g("base_url");A&&s._setBaseUrl(A),this.baseUri=s.baseURI;const F=oy(l);F&&(nl.ScriptLoader._setReferrerPolicy(F),Ar.DOM.styleSheetLoader._setReferrerPolicy(F));const j=EO(l);Ee(j)&&Ar.DOM.styleSheetLoader._setContentCssCors(j),zi.languageLoad=g("language_load"),zi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Mu(jc(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Pb(l),this.hasVisual=pc(l),this.shortcuts=new IW(this),this.editorCommands=new SW(this),hre(this);const q=g("cache_suffix");q&&(wo.cacheSuffix=q.replace(/^[\?\&]+/,"")),this.ui={registry:Zre(),styleSheetLoader:void 0,show:Jt,hide:Jt,setEnabled:Jt,isEnabled:Mn},this.mode=Hre(l),s.dispatch("SetupEditor",{editor:this});const X=H1(l);Ne(X)&&X.call(l,l)}render(){goe(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return X1(this)}translate(t){return fc.translate(t)}getParam(t,n,s){const l=this.options;return l.isRegistered(t)||(Ee(s)?l.register(t,{processor:s,default:n}):l.register(t,{processor:Mn,default:n})),!l.isSet(t)&&!Ye(n)?n:l.get(t)}hasPlugin(t,n){return le(bd(this),t)?n?p0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,l){this.shortcuts.add(t,n,s,l)}execCommand(t,n,s,l){return this.editorCommands.execCommand(t,n,s,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Y2.show(t.getContainer()),Y2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Y2.hide(t.getContainer()),Y2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const l={...t,load:!0},f=wh(s)?s.value:s.innerHTML,g=n.setContent(f,l);return l.no_events||n.dispatch("LoadContent",{...l,element:s}),g}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const l={...t,save:!0,element:s};let f=n.getContent(l);const g={...l,content:f};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),f=g.content,wh(s))s.value=f;else{(t.is_removing||!n.inline)&&(s.innerHTML=f);const _=Y2.getParent(n.id,"form");_&&jre(_.elements,A=>A.name===n.id?(A.value=f,!1):!0)}return g.element=l.element=s=null,g.set_dirty!==!1&&n.setDirty(!1),f}setContent(t,n){return dA(this,t,n)}getContent(t){return h6(this,t)}insertContent(t,n){n&&(t=BW({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?dA(this,this.startContent,{format:"raw"}):dA(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Y2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Y2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const l=this,f=l.options.get,g=IM(l);if(Ne(g))return g.call(l,t,s,!0,n);if(!f("convert_urls")||s==="link"||ie(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const _=new Mu(t);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?t:f("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){Doe(this,t)}setEditableRoot(t){hoe(this,t)}hasEditableRoot(){return poe(this)}remove(){C6(this)}destroy(t){hF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ES=Ar.DOM,G8=Zt.each;let MW=!1,Y8,eu=[];const X8=e=>{const t=e.type;G8(Nv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},PW=e=>{if(e!==MW){const t=Ar.DOM;e?(t.bind(window,"resize",X8),t.bind(window,"scroll",X8)):(t.unbind(window,"resize",X8),t.unbind(window,"scroll",X8)),MW=e}},LW=e=>{const t=eu;return eu=xt(eu,n=>e!==n),Nv.activeEditor===e&&(Nv.activeEditor=eu.length>0?eu[0]:null),Nv.focusedEditor===e&&(Nv.focusedEditor=null),t.length!==eu.length},Kre=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(LW(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},qre=document.compatMode!=="CSS1Compat",Nv={...E9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:fc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=Mu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,n=l.suffix;else{const f=document.getElementsByTagName("script");for(let g=0;g<f.length;g++){const _=f[g].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(n=".min"),t=_.substring(0,_.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new Mu(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Mu(e.baseURL),e.suffix=n,P7(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Vo(s,(l,f)=>{zi.PluginManager.urls[f]=l})},init(e){const t=this;let n;const s=Zt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,q)=>j.inline&&q.tagName.toLowerCase()in s,f=j=>{let q=j.id;return q||(q=ir(j,"name").filter(X=>!ES.get(X)).getOrThunk(ES.uniqueId),j.setAttribute("id",q)),q},g=j=>{const q=e[j];if(q)return q.apply(t,[])},_=j=>wo.browser.isIE()||wo.browser.isEdge()?(A2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):qre?(A2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Be(j.selector)?ES.select(j.selector):Ee(j.target)?[j.target]:[];let A=j=>{n=j};const F=()=>{let j=0;const q=[];let X;const ue=(xe,de,Ce)=>{const ze=new q8(xe,de,t);q.push(ze),ze.on("init",()=>{++j===X.length&&A(q)}),ze.targetElm=ze.targetElm||Ce,ze.render()};ES.unbind(window,"ready",F),g("onpageload"),X=Ba(_(e)),Zt.each(X,xe=>{Kre(t.get(xe.id))}),X=Zt.grep(X,xe=>!t.get(xe.id)),X.length===0?A([]):G8(X,xe=>{l(e,xe)?A2("Could not initialize inline editor on invalid inline target element",xe):ue(f(xe),e,xe)})};return ES.bind(window,"ready",F),new Promise(j=>{n?j(n):A=q=>{j(q)}})},get(e){return arguments.length===0?eu.slice(0):Be(e)?vn(eu,t=>t.id===e).getOr(null):R(e)&&eu[e]?eu[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&eu.push(e),PW(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Y8||(Y8=s=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",Y8))),e},createEditor(e,t){return this.add(new q8(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=eu.length-1;s>=0;s--)t.remove(eu[s]);return}if(Be(e)){G8(ES.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Je(t.get(n.id))?null:(LW(n)&&t.dispatch("RemoveEditor",{editor:n}),eu.length===0&&window.removeEventListener("beforeunload",Y8),n.remove(),PW(eu.length>0),n)},execCommand(e,t,n){var s;const l=this,f=ie(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!l.get(f)){const g=n.options;new q8(f,g,l).render()}return!0}case"mceRemoveEditor":{const g=l.get(f);return g&&g.remove(),!0}case"mceToggleEditor":{const g=l.get(f);return g?(g.isHidden()?g.show():g.hide(),!0):(l.execCommand("mceAddEditor",!1,n),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{G8(eu,e=>{e.save()})},addI18n:(e,t)=>{fc.add(e,t)},translate:e=>fc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Mu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Mu(this.baseURL)}};Nv.setup();const Gre=(()=>{const e=fa(),t=f=>({items:f,types:Ht(f),getType:g=>ir(f,g).getOrUndefined()}),n=f=>{e.set(f)},s=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:l}})(),FW=Math.min,AS=Math.max,J8=Math.round,zW=(e,t,n)=>{let s=t.x,l=t.y;const f=e.w,g=e.h,_=t.w,A=t.h,F=(n||"").split("");return F[0]==="b"&&(l+=A),F[1]==="r"&&(s+=_),F[0]==="c"&&(l+=J8(A/2)),F[1]==="c"&&(s+=J8(_/2)),F[3]==="b"&&(l-=g),F[4]==="r"&&(s-=f),F[3]==="c"&&(l-=J8(g/2)),F[4]==="c"&&(s-=J8(f/2)),TS(s,l,f,g)},Yre=(e,t,n,s)=>{for(let l=0;l<s.length;l++){const f=zW(e,t,s[l]);if(f.x>=n.x&&f.x+f.w<=n.w+n.x&&f.y>=n.y&&f.y+f.h<=n.h+n.y)return s[l]}return null},Xre=(e,t,n)=>TS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Jre=(e,t)=>{const n=AS(e.x,t.x),s=AS(e.y,t.y),l=FW(e.x+e.w,t.x+t.w),f=FW(e.y+e.h,t.y+t.h);return l-n<0||f-s<0?null:TS(n,s,l-n,f-s)},Qre=(e,t,n)=>{let s=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h;const _=t.x+t.w,A=t.y+t.h,F=AS(0,t.x-s),j=AS(0,t.y-l),q=AS(0,f-_),X=AS(0,g-A);return s+=F,l+=j,n&&(f+=F,g+=j,s-=q,l-=X),f-=q,g-=X,TS(s,l,f-s,g-l)},TS=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),ese={inflate:Xre,relativePosition:zW,findBestRelativePosition:Yre,intersect:Jre,clamp:Qre,create:TS,fromClientRect:e=>TS(e.left,e.top,e.width,e.height)},tse=(e,t,n=1e3)=>{let s=!1,l=null;const f=F=>(...j)=>{s||(s=!0,l!==null&&(clearTimeout(l),l=null),F.apply(null,j))},g=f(e),_=f(t);return{start:(...F)=>{!s&&l===null&&(l=setTimeout(()=>_.apply(null,F),n))},resolve:g,reject:_}},nse=(()=>{const e={},t={},n={};return{load:(A,F)=>{const j=`Script at URL "${F}" failed to load`,q=`Script at URL "${F}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const X=new Promise((ue,xe)=>{const de=tse(ue,xe);t[A]=de.resolve,nl.ScriptLoader.loadScript(F).then(()=>de.start(q),()=>de.reject(j))});return e[A]=X,X}},add:(A,F)=>{t[A]!==void 0&&(t[A](F),delete t[A]),e[A]=Promise.resolve(F),n[A]=F},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),ose=()=>(()=>{let e={},t=[];const n={getItem:s=>{const l=e[s];return l||null},setItem:(s,l)=>{t.push(s),e[s]=String(l)},key:s=>t[s],removeItem:s=>{t=t.filter(l=>l===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let kT;try{const e="__storage_test__";kT=window.localStorage,kT.setItem(e,e),kT.removeItem(e)}catch{kT=ose()}var rse=kT;const sse={geom:{Rect:ese},util:{Delay:yc,Tools:Zt,VK:rn,URI:Mu,EventDispatcher:k9,Observable:E9,I18n:fc,LocalStorage:rse,ImageUploader:AF},dom:{EventUtils:of,TreeWalker:Ua,TextSeeker:dd,DOMUtils:Ar,ScriptLoader:nl,RangeUtils:Yh,Serializer:g6,StyleSheetLoader:im,ControlSelection:vr,BookmarkManager:Sr,Selection:cA,Event:of.Event},html:{Styles:Rx,Entities:_g,Node:ci,Schema:dc,DomParser:gv,Writer:FE,Serializer:Kg},Env:wo,AddOnManager:zi,Annotator:O5,Formatter:D2,UndoManager:K6,EditorCommands:SW,WindowManager:D6,NotificationManager:vA,EditorObservable:TW,Shortcuts:IW,Editor:q8,FocusManager:Ou,EditorManager:Nv,DOM:Ar.DOM,ScriptLoader:nl.ScriptLoader,PluginManager:p0,ThemeManager:hp,ModelManager:gp,IconManager:k2,Resource:nse,FakeClipboard:Gre,trim:Zt.trim,isArray:Zt.isArray,is:Zt.is,toArray:Zt.toArray,makeMap:Zt.makeMap,each:Zt.each,map:Zt.map,grep:Zt.grep,inArray:Zt.inArray,extend:Zt.extend,walk:Zt.walk,resolve:Zt.resolve,explode:Zt.explode,_addCacheSuffix:Zt._addCacheSuffix},HW=Zt.extend(Nv,sse),ase=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(HW),ase(HW)})()})(pY);var Pge=pY.exports;const WS=lM(Pge);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const r=Object.getPrototypeOf,i=(o,a,c)=>{var u;return!!c(o,a.prototype)||((u=o.constructor)===null||u===void 0?void 0:u.name)===a.name},d=o=>a=>(c=>{const u=typeof c;return c===null?"null":u==="object"&&Array.isArray(c)?"array":u==="object"&&i(c,String,(h,p)=>p.isPrototypeOf(h))?"string":u})(a)===o,m=o=>a=>typeof a===o,x=o=>a=>o===a,b=d("string"),y=d("object"),S=o=>((a,c)=>y(a)&&i(a,c,(u,h)=>r(u)===h))(o,Object),L=d("array"),P=x(null),D=m("boolean"),z=x(void 0),W=o=>o==null,U=o=>!W(o),G=m("function"),ee=m("number"),ye=(o,a)=>{if(L(o)){for(let c=0,u=o.length;c<u;++c)if(!a(o[c]))return!1;return!0}return!1},ge=()=>{},Le=o=>()=>o(),Be=(o,a)=>(...c)=>o(a.apply(null,c)),ie=o=>()=>o,Me=o=>o,oe=(o,a)=>o===a;function Je(o,...a){return(...c)=>{const u=a.concat(c);return o.apply(null,u)}}const Ve=o=>a=>!o(a),Ye=o=>()=>{throw new Error(o)},mt=o=>o(),Ee=ie(!1),Ne=ie(!0);class R{constructor(a,c){this.tag=a,this.value=c}static some(a){return new R(!0,a)}static none(){return R.singletonNone}fold(a,c){return this.tag?c(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?R.some(a(this.value)):R.none()}bind(a){return this.tag?a(this.value):R.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:R.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return U(a)?R.some(a):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const Nt=Array.prototype.slice,Jt=Array.prototype.indexOf,pn=Array.prototype.push,Tn=(o,a)=>Jt.call(o,a),ot=(o,a)=>Tn(o,a)>-1,Vn=(o,a)=>{for(let c=0,u=o.length;c<u;c++)if(a(o[c],c))return!0;return!1},Nr=(o,a)=>{const c=[];for(let u=0;u<o;u++)c.push(a(u));return c},yt=(o,a)=>{const c=[];for(let u=0;u<o.length;u+=a){const h=Nt.call(o,u,u+a);c.push(h)}return c},vt=(o,a)=>{const c=o.length,u=new Array(c);for(let h=0;h<c;h++){const p=o[h];u[h]=a(p,h)}return u},jt=(o,a)=>{for(let c=0,u=o.length;c<u;c++)a(o[c],c)},bs=(o,a)=>{const c=[],u=[];for(let h=0,p=o.length;h<p;h++){const w=o[h];(a(w,h)?c:u).push(w)}return{pass:c,fail:u}},bo=(o,a)=>{const c=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];a(p,u)&&c.push(p)}return c},En=(o,a,c)=>(((u,h)=>{for(let p=u.length-1;p>=0;p--)h(u[p],p)})(o,(u,h)=>{c=a(c,u,h)}),c),Mn=(o,a,c)=>(jt(o,(u,h)=>{c=a(c,u,h)}),c),J=(o,a)=>((c,u,h)=>{for(let p=0,w=c.length;p<w;p++){const k=c[p];if(u(k,p))return R.some(k);if(h(k,p))break}return R.none()})(o,a,Ee),nr=(o,a)=>{for(let c=0,u=o.length;c<u;c++)if(a(o[c],c))return R.some(c);return R.none()},dr=o=>{const a=[];for(let c=0,u=o.length;c<u;++c){if(!L(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);pn.apply(a,o[c])}return a},jo=(o,a)=>dr(vt(o,a)),ei=(o,a)=>{for(let c=0,u=o.length;c<u;++c)if(a(o[c],c)!==!0)return!1;return!0},Ze=o=>{const a=Nt.call(o,0);return a.reverse(),a},le=(o,a)=>bo(o,c=>!ot(a,c)),ve=(o,a)=>{const c={};for(let u=0,h=o.length;u<h;u++){const p=o[u];c[String(p)]=a(p,u)}return c},Ie=o=>[o],me=(o,a)=>{const c=Nt.call(o,0);return c.sort(a),c},_t=(o,a)=>a>=0&&a<o.length?R.some(o[a]):R.none(),$t=o=>_t(o,0),xt=o=>_t(o,o.length-1),Ft=G(Array.from)?Array.from:o=>Nt.call(o),It=(o,a)=>{for(let c=0;c<o.length;c++){const u=a(o[c],c);if(u.isSome())return u}return R.none()},on=Object.keys,vn=Object.hasOwnProperty,xn=(o,a)=>{const c=on(o);for(let u=0,h=c.length;u<h;u++){const p=c[u];a(o[p],p)}},Cn=(o,a)=>ro(o,(c,u)=>({k:u,v:a(c,u)})),ro=(o,a)=>{const c={};return xn(o,(u,h)=>{const p=a(u,h);c[p.k]=p.v}),c},po=o=>(a,c)=>{o[c]=a},Eo=(o,a,c,u)=>{xn(o,(h,p)=>{(a(h,p)?c:u)(h,p)})},Oo=(o,a)=>{const c={};return Eo(o,a,po(c),ge),c},Cs=(o,a)=>{const c=[];return xn(o,(u,h)=>{c.push(a(u,h))}),c},ar=(o,a)=>{const c=on(o);for(let u=0,h=c.length;u<h;u++){const p=c[u],w=o[p];if(a(w,p,o))return R.some(w)}return R.none()},gi=o=>Cs(o,Me),ln=(o,a)=>mo(o,a)?R.from(o[a]):R.none(),mo=(o,a)=>vn.call(o,a),so=(o,a)=>mo(o,a)&&o[a]!==void 0&&o[a]!==null,zr=(o,a,c=oe)=>o.exists(u=>c(u,a)),Ba=o=>{const a=[],c=u=>{a.push(u)};for(let u=0;u<o.length;u++)o[u].each(c);return a},Ht=(o,a,c)=>o.isSome()&&a.isSome()?R.some(c(o.getOrDie(),a.getOrDie())):R.none(),qs=(o,a)=>o!=null?R.some(a(o)):R.none(),Vo=(o,a)=>o?R.some(a):R.none(),wl=(o,a,c)=>a===""||o.length>=a.length&&o.substr(c,c+a.length)===a,yr=(o,a)=>Vf(o,a)?((c,u)=>c.substring(u))(o,a.length):o,Ps=(o,a,c=0,u)=>{const h=o.indexOf(a,c);return h!==-1&&(!!z(u)||h+a.length<=u)},Vf=(o,a)=>wl(o,a,0),ou=(o,a)=>wl(o,a,o.length-a.length),Jl=(Hd=/^\s+|\s+$/g,o=>o.replace(Hd,"")),qi=o=>o.length>0,ru=o=>!qi(o),ir=o=>o.style!==void 0&&G(o.style.getPropertyValue),Gn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},_l=(o,a)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const u="HTML does not have a single root node";throw console.error(u,o),new Error(u)}return Gn(c.childNodes[0])},la=(o,a)=>{const c=document.createElement(o);return Gn(c)},su=(o,a)=>{const c=document.createTextNode(o);return Gn(c)},Qt=Gn,au=typeof window<"u"?window:Function("return this;")(),Uf=(o,a)=>((c,u)=>{let h=u??au;for(let p=0;p<c.length&&h!=null;++p)h=h[c[p]];return h})(o.split("."),a),Yr=Object.getPrototypeOf,Wf=o=>{const a=Uf("ownerDocument.defaultView",o);return y(o)&&((c=>((u,h)=>{const p=((w,k)=>Uf(w,k))(u,h);if(p==null)throw new Error(u+" not available on this browser");return p})("HTMLElement",c))(a).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(Yr(o).constructor.name))},Di=o=>o.dom.nodeName.toLowerCase(),ul=o=>a=>(c=>c.dom.nodeType)(a)===o,Gi=o=>Vr(o)&&Wf(o.dom),Vr=ul(1),ti=ul(3),dl=ul(9),Zf=ul(11),Sc=o=>a=>Vr(a)&&Di(a)===o,kc=(o,a)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const u=c;if(u.matches!==void 0)return u.matches(a);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(a);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(a);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},Md=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Gu=(o,a)=>{const c=a===void 0?document:a.dom;return Md(c)?R.none():R.from(c.querySelector(o)).map(Qt)},Uo=(o,a)=>o.dom===a.dom,vs=(o,a)=>{const c=o.dom,u=a.dom;return c!==u&&c.contains(u)},Vs=o=>Qt(o.dom.ownerDocument),jf=o=>dl(o)?o:Vs(o),Ri=o=>Qt(jf(o).dom.documentElement),Ec=o=>Qt(jf(o).dom.defaultView),ni=o=>R.from(o.dom.parentNode).map(Qt),oi=o=>R.from(o.dom.parentElement).map(Qt),Ac=o=>R.from(o.dom.offsetParent).map(Qt),fr=o=>vt(o.dom.childNodes,Qt),Ur=(o,a)=>{const c=o.dom.childNodes;return R.from(c[a]).map(Qt)},_e=o=>Ur(o,0),Ke=(o,a)=>({element:o,offset:a}),Oe=(o,a)=>{const c=fr(o);return c.length>0&&a<c.length?Ke(c[a],0):Ke(o,a)},at=o=>Zf(o)&&U(o.dom.host),nt=o=>Qt(o.dom.getRootNode()),We=o=>at(o)?o:Qt(jf(o).dom.body),Pt=o=>{const a=nt(o);return at(a)?R.some(a):R.none()},Gt=o=>Qt(o.dom.host),nn=o=>{const a=ti(o)?o.dom.parentNode:o.dom;if(a==null||a.ownerDocument===null)return!1;const c=a.ownerDocument;return Pt(Qt(a)).fold(()=>c.body.contains(a),(u=nn,h=Gt,p=>u(h(p))));var u,h},un=()=>en(Qt(document)),en=o=>{const a=o.dom.body;if(a==null)throw new Error("Body is not available yet");return Qt(a)},no=(o,a,c)=>{if(!(b(c)||D(c)||ee(c)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(a,c+"")},Xt=(o,a,c)=>{no(o.dom,a,c)},or=(o,a)=>{const c=o.dom;xn(a,(u,h)=>{no(c,h,u)})},yo=(o,a)=>{const c=o.dom.getAttribute(a);return c===null?void 0:c},No=(o,a)=>R.from(yo(o,a)),cs=(o,a)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(a)},co=(o,a)=>{o.dom.removeAttribute(a)},fl=(o,a,c)=>{if(!b(c))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);ir(o)&&o.style.setProperty(a,c)},Ma=(o,a)=>{ir(o)&&o.style.removeProperty(a)},Xn=(o,a,c)=>{const u=o.dom;fl(u,a,c)},Ni=(o,a)=>{const c=o.dom;xn(a,(u,h)=>{fl(c,h,u)})},Yi=(o,a)=>{const c=o.dom;xn(a,(u,h)=>{u.fold(()=>{Ma(c,h)},p=>{fl(c,h,p)})})},ns=(o,a)=>{const c=o.dom,u=window.getComputedStyle(c).getPropertyValue(a);return u!==""||nn(o)?u:Yu(c,a)},Yu=(o,a)=>ir(o)?o.style.getPropertyValue(a):"",Ss=(o,a)=>{const c=o.dom,u=Yu(c,a);return R.from(u).filter(h=>h.length>0)},Pd=o=>{const a={},c=o.dom;if(ir(c))for(let u=0;u<c.style.length;u++){const h=c.style.item(u);a[h]=c.style[h]}return a},ml=(o,a,c)=>{const u=la(o);return Xn(u,a,c),Ss(u,a).isSome()},Jo=(o,a)=>{const c=o.dom;Ma(c,a),zr(No(o,"style").map(Jl),"")&&co(o,"style")},iu=o=>o.dom.offsetWidth,Kf=(o,a)=>{const c=h=>{const p=a(h);if(p<=0||p===null){const w=ns(h,o);return parseFloat(w)||0}return p},u=(h,p)=>Mn(p,(w,k)=>{const E=ns(h,k),O=E===void 0?0:parseInt(E,10);return isNaN(O)?w:w+O},0);return{set:(h,p)=>{if(!ee(p)&&!p.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+p);const w=h.dom;ir(w)&&(w.style[o]=p+"px")},get:c,getOuter:c,aggregate:u,max:(h,p,w)=>{const k=u(h,w);return p>k?p-k:0}}},fh=Kf("height",o=>{const a=o.dom;return nn(o)?a.getBoundingClientRect().height:a.offsetHeight}),us=o=>fh.get(o),Ql=o=>fh.getOuter(o),Xi=(o,a)=>({left:o,top:a,translate:(c,u)=>Xi(o+c,a+u)}),Ir=Xi,qf=(o,a)=>o!==void 0?o:a!==void 0?a:0,gl=o=>{const a=o.dom.ownerDocument,c=a.body,u=a.defaultView,h=a.documentElement;if(c===o.dom)return Ir(c.offsetLeft,c.offsetTop);const p=qf(u==null?void 0:u.pageYOffset,h.scrollTop),w=qf(u==null?void 0:u.pageXOffset,h.scrollLeft),k=qf(h.clientTop,c.clientTop),E=qf(h.clientLeft,c.clientLeft);return Pa(o).translate(w-E,p-k)},Pa=o=>{const a=o.dom,c=a.ownerDocument.body;return c===a?Ir(c.offsetLeft,c.offsetTop):nn(o)?(u=>{const h=u.getBoundingClientRect();return Ir(h.left,h.top)})(a):Ir(0,0)},ig=Kf("width",o=>o.dom.offsetWidth),ca=o=>ig.get(o),Ii=o=>ig.getOuter(o),La=o=>{let a,c=!1;return(...u)=>(c||(c=!0,a=o.apply(null,u)),a)},hl=()=>mh(0,0),mh=(o,a)=>({major:o,minor:a}),wo={nu:mh,detect:(o,a)=>{const c=String(a).toLowerCase();return o.length===0?hl():((u,h)=>{const p=((k,E)=>{for(let O=0;O<k.length;O++){const M=k[O];if(M.test(E))return M}})(u,h);if(!p)return{major:0,minor:0};const w=k=>Number(h.replace(p,"$"+k));return mh(w(1),w(2))})(o,c)},unknown:hl},Tc=(o,a)=>{const c=String(a).toLowerCase();return J(o,u=>u.search(c))},Xu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,lu=o=>a=>Ps(a,o),Fp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Ps(o,"edge/")&&Ps(o,"chrome")&&Ps(o,"safari")&&Ps(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xu],search:o=>Ps(o,"chrome")&&!Ps(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Ps(o,"msie")||Ps(o,"trident")},{name:"Opera",versionRegexes:[Xu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:lu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:lu("firefox")},{name:"Safari",versionRegexes:[Xu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Ps(o,"safari")||Ps(o,"mobile/"))&&Ps(o,"applewebkit")}],ax=[{name:"Windows",search:lu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Ps(o,"iphone")||Ps(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:lu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:lu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:lu("linux"),versionRegexes:[]},{name:"Solaris",search:lu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:lu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:lu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$0={browsers:ie(Fp),oses:ie(ax)},V0="Edge",Ew="Chromium",gh="Opera",U0="Firefox",Zt="Safari",Ld=o=>{const a=o.current,c=o.version,u=h=>()=>a===h;return{current:a,version:c,isEdge:u(V0),isChromium:u(Ew),isIE:u("IE"),isOpera:u(gh),isFirefox:u(U0),isSafari:u(Zt)}},Fd=()=>Ld({current:void 0,version:wo.unknown()}),W0=Ld,Fa="Windows",zd="Android",lg="Linux",ix="macOS",lx="Solaris",zp="FreeBSD",cx="ChromeOS",Z0=o=>{const a=o.current,c=o.version,u=h=>()=>a===h;return{current:a,version:c,isWindows:u(Fa),isiOS:u("iOS"),isAndroid:u(zd),isMacOS:u(ix),isLinux:u(lg),isSolaris:u(lx),isFreeBSD:u(zp),isChromeOS:u(cx)}},ux=()=>Z0({current:void 0,version:wo.unknown()}),cg=Z0,j0=o=>window.matchMedia(o).matches;var Hd;let $d=La(()=>((o,a,c)=>{const u=$0.browsers(),h=$0.oses(),p=a.bind(E=>((O,M)=>It(M.brands,I=>{const H=I.brand.toLowerCase();return J(O,K=>{var Y;return H===((Y=K.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(K=>({current:K.name,version:wo.nu(parseInt(I.version,10),0)}))}))(u,E)).orThunk(()=>((E,O)=>Tc(E,O).map(M=>{const I=wo.detect(M.versionRegexes,O);return{current:M.name,version:I}}))(u,o)).fold(Fd,W0),w=((E,O)=>Tc(E,O).map(M=>{const I=wo.detect(M.versionRegexes,O);return{current:M.name,version:I}}))(h,o).fold(ux,cg),k=((E,O,M,I)=>{const H=E.isiOS()&&/ipad/i.test(M)===!0,K=E.isiOS()&&!H,Y=E.isiOS()||E.isAndroid(),re=Y||I("(pointer:coarse)"),ce=H||!K&&Y&&I("(min-device-width:768px)"),pe=K||Y&&!ce,ae=O.isSafari()&&E.isiOS()&&/safari/i.test(M)===!1,se=!pe&&!ce&&!ae;return{isiPad:ie(H),isiPhone:ie(K),isTablet:ie(ce),isPhone:ie(pe),isTouch:ie(re),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:ie(ae),isDesktop:ie(se)}})(w,p,o,c);return{browser:p,os:w,deviceType:k}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),j0));const za=()=>$d(),Ji=o=>{const a=Qt((p=>{if(U(p.target)){const w=Qt(p.target);if(Vr(w)&&(k=>U(k.dom.shadowRoot))(w)&&p.composed&&p.composedPath){const k=p.composedPath();if(k)return $t(k)}}return R.from(p.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),u=()=>o.preventDefault(),h=Be(u,c);return((p,w,k,E,O,M,I)=>({target:p,x:w,y:k,stop:E,prevent:O,kill:M,raw:I}))(a,o.clientX,o.clientY,c,u,h,o)},ug=(o,a,c,u,h)=>{const p=((w,k)=>E=>{w(E)&&k(Ji(E))})(c,u);return o.dom.addEventListener(a,p,h),{unbind:Je(Mo,o,a,p,h)}},Mo=(o,a,c,u)=>{o.dom.removeEventListener(a,c,u)},Ju=(o,a)=>{ni(o).each(c=>{c.dom.insertBefore(a.dom,o.dom)})},dg=(o,a)=>{(u=>R.from(u.dom.nextSibling).map(Qt))(o).fold(()=>{ni(o).each(u=>{hi(u,a)})},u=>{Ju(u,a)})},fg=(o,a)=>{_e(o).fold(()=>{hi(o,a)},c=>{o.dom.insertBefore(a.dom,c.dom)})},hi=(o,a)=>{o.dom.appendChild(a.dom)},ks=(o,a)=>{jt(a,c=>{hi(o,c)})},Wr=o=>{o.dom.textContent="",jt(fr(o),a=>{wa(a)})},wa=o=>{const a=o.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Br=o=>{const a=o!==void 0?o.dom:document,c=a.body.scrollLeft||a.documentElement.scrollLeft,u=a.body.scrollTop||a.documentElement.scrollTop;return Ir(c,u)},Vd=(o,a,c)=>{const u=(c!==void 0?c.dom:document).defaultView;u&&u.scrollTo(o,a)},Gf=(o,a,c,u)=>({x:o,y:a,width:c,height:u,right:o+c,bottom:a+u}),ea=o=>{const a=o===void 0?window:o,c=a.document,u=Br(Qt(c));return(h=>{const p=h===void 0?window:h;return za().browser.isFirefox()?R.none():R.from(p.visualViewport)})(a).fold(()=>{const h=a.document.documentElement,p=h.clientWidth,w=h.clientHeight;return Gf(u.left,u.top,p,w)},h=>Gf(Math.max(h.pageLeft,u.left),Math.max(h.pageTop,u.top),h.width,h.height))},pi=()=>Qt(document),ri=(o,a)=>o.view(a).fold(ie([]),c=>{const u=o.owner(c),h=ri(o,u);return[c].concat(h)});var Oc=Object.freeze({__proto__:null,view:o=>{var a;return(o.dom===document?R.none():R.from((a=o.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(Qt)},owner:o=>Vs(o)});const Qu=o=>{const a=pi(),c=Br(a);return((h,p)=>{const w=p.owner(h),k=ri(p,w);return R.some(k)})(o,Oc).fold(Je(gl,o),h=>{const p=Pa(o),w=En(h,(k,E)=>{const O=Pa(E);return{left:k.left+O.left,top:k.top+O.top}},{left:0,top:0});return Ir(w.left+p.left+c.left,w.top+p.top+c.top)})},go=(o,a,c,u)=>({x:o,y:a,width:c,height:u,right:o+c,bottom:a+u}),Us=o=>{const a=gl(o),c=Ii(o),u=Ql(o);return go(a.left,a.top,c,u)},Qi=o=>{const a=Qu(o),c=Ii(o),u=Ql(o);return go(a.left,a.top,c,u)},ed=(o,a)=>{const c=Math.max(o.x,a.x),u=Math.max(o.y,a.y),h=Math.min(o.right,a.right),p=Math.min(o.bottom,a.bottom);return go(c,u,h-c,p-u)},_a=()=>ea(window),An=o=>{let a=o;return{get:()=>a,set:c=>{a=c}}},ec=o=>{const a=An(R.none()),c=()=>a.get().each(o);return{clear:()=>{c(),a.set(R.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:u=>{c(),a.set(R.some(u))}}},tc=()=>ec(o=>o.unbind()),rr=()=>{const o=ec(ge);return{...o,on:a=>o.get().each(a)}};var hh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Hp=o=>{const a=p=>p(o),c=ie(o),u=()=>h,h={tag:!0,inner:o,fold:(p,w)=>w(o),isValue:Ne,isError:Ee,map:p=>_o.value(p(o)),mapError:u,bind:a,exists:a,forall:a,getOr:c,or:u,getOrThunk:c,orThunk:u,getOrDie:c,each:p=>{p(o)},toOptional:()=>R.some(o)};return h},td=o=>{const a=()=>c,c={tag:!1,inner:o,fold:(u,h)=>u(o),isValue:Ee,isError:Ne,map:a,mapError:u=>_o.error(u(o)),bind:a,exists:Ee,forall:Ne,getOr:Me,or:Me,getOrThunk:mt,orThunk:mt,getOrDie:Ye(String(o)),each:ge,toOptional:R.none};return c},_o={value:Hp,error:td,fromOption:(o,a)=>o.fold(()=>td(a),Hp)};var bi;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(bi||(bi={}));const ph=(o,a,c)=>o.stype===bi.Error?a(o.serror):c(o.svalue),nd=o=>({stype:bi.Value,svalue:o}),$p=o=>({stype:bi.Error,serror:o}),Dc=nd,Bi=$p,Rc=ph,Ud=(o,a,c,u)=>({tag:"field",key:o,newKey:a,presence:c,prop:u}),Re=(o,a,c)=>{switch(o.tag){case"field":return a(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},Yf=o=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const c={};for(let u=0;u<a.length;u++){const h=a[u];for(const p in h)mo(h,p)&&(c[p]=o(c[p],h[p]))}return c},mr=Yf((o,a)=>S(o)&&S(a)?mr(o,a):a),Vp=Yf((o,a)=>a),mg=o=>({tag:"defaultedThunk",process:o}),Nc=o=>mg(ie(o)),Po=o=>({tag:"mergeWithThunk",process:o}),Ha=o=>{const a=(u=>{const h=[],p=[];return jt(u,w=>{ph(w,k=>p.push(k),k=>h.push(k))}),{values:h,errors:p}})(o);return a.errors.length>0?(c=a.errors,Be(Bi,dr)(c)):Dc(a.values);var c},cu=o=>y(o)&&on(o).length>100?" removed due to size":JSON.stringify(o,null,2),Il=(o,a)=>Bi([{path:o,getErrorInfo:a}]),uu=o=>({extract:(a,c)=>((u,h)=>u.stype===bi.Error?h(u.serror):u)(o(c),u=>((h,p)=>Il(h,ie(p)))(a,u)),toString:ie("val")}),du=uu(Dc),$a=(o,a,c,u)=>u(ln(o,a).getOrThunk(()=>c(o))),Wd=(o,a,c,u,h)=>{const p=k=>h.extract(a.concat([u]),k),w=k=>k.fold(()=>Dc(R.none()),E=>((O,M)=>O.stype===bi.Value?{stype:bi.Value,svalue:M(O.svalue)}:O)(h.extract(a.concat([u]),E),R.some));switch(o.tag){case"required":return((k,E,O,M)=>ln(E,O).fold(()=>((I,H,K)=>Il(I,()=>'Could not find valid *required* value for "'+H+'" in '+cu(K)))(k,O,E),M))(a,c,u,p);case"defaultedThunk":return $a(c,u,o.process,p);case"option":return((k,E,O)=>O(ln(k,E)))(c,u,w);case"defaultedOptionThunk":return((k,E,O,M)=>M(ln(k,E).map(I=>I===!0?O(k):I)))(c,u,o.process,w);case"mergeWithThunk":return $a(c,u,ie({}),k=>{const E=mr(o.process(c),k);return p(E)})}},Xf=o=>({extract:(a,c)=>o().extract(a,c),toString:()=>o().toString()}),Up=o=>on(Oo(o,U)),ta=o=>{const a=Bn(o),c=En(o,(u,h)=>Re(h,p=>mr(u,{[p]:!0}),ie(u)),{});return{extract:(u,h)=>{const p=D(h)?[]:Up(h),w=bo(p,k=>!so(c,k));return w.length===0?a.extract(u,h):((k,E)=>Il(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(u,w)},toString:a.toString}},Bn=o=>({extract:(a,c)=>((u,h,p)=>{const w={},k=[];for(const E of p)Re(E,(O,M,I,H)=>{const K=Wd(I,u,h,O,H);Rc(K,Y=>{k.push(...Y)},Y=>{w[M]=Y})},(O,M)=>{w[O]=M(h)});return k.length>0?Bi(k):Dc(w)})(a,c,o),toString:()=>`obj{
`+vt(o,c=>Re(c,(u,h,p,w)=>u+" -> "+w.toString(),(u,h)=>"state("+u+")")).join(`
`)+"}"}),fu=o=>({extract:(a,c)=>{const u=vt(c,(h,p)=>o.extract(a.concat(["["+p+"]"]),h));return Ha(u)},toString:()=>"array("+o.toString()+")"}),Jf=(o,a)=>{const c=a!==void 0?a:Me;return{extract:(u,h)=>{const p=[];for(const w of o){const k=w.extract(u,h);if(k.stype===bi.Value)return{stype:bi.Value,svalue:c(k.svalue)};p.push(k)}return Ha(p)},toString:()=>"oneOf("+vt(o,u=>u.toString()).join(", ")+")"}},Va=(o,a)=>({extract:(c,u)=>{const h=on(u),p=((w,k)=>fu(uu(o)).extract(w,k))(c,h);return((w,k)=>w.stype===bi.Value?k(w.svalue):w)(p,w=>{const k=vt(w,E=>Ud(E,E,{tag:"required",process:{}},a));return Bn(k).extract(c,u)})},toString:()=>"setOf("+a.toString()+")"}),mu=Be(fu,Bn),pl=ie(du),gu=(o,a)=>uu(c=>{const u=typeof c;return o(c)?Dc(c):Bi(`Expected type: ${a} but got: ${u}`)}),od=gu(ee,"number"),na=gu(b,"string"),Bl=gu(D,"boolean"),Ic=gu(G,"function"),Qf=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(a=>Qf(o[a]));default:return!1}},K0=uu(o=>Qf(o)?Dc(o):Bi("Expected value to be acceptable for sending via postMessage")),hu=(o,a)=>({extract:(c,u)=>ln(u,o).fold(()=>((h,p)=>Il(h,()=>'Choice schema did not contain choice key: "'+p+'"'))(c,o),h=>((p,w,k,E)=>ln(k,E).fold(()=>((O,M,I)=>Il(O,()=>'The chosen schema: "'+I+'" did not exist in branches: '+cu(M)))(p,k,E),O=>O.extract(p.concat(["branch: "+E]),w)))(c,u,a,h)),toString:()=>"chooseOn("+o+"). Possible values: "+on(a)}),Zd=o=>uu(a=>o(a).fold(Bi,Dc)),Wp=(o,a)=>Va(c=>o(c).fold($p,nd),a),os=(o,a,c)=>{return u=((h,p,w)=>((k,E)=>k.stype===bi.Error?{stype:bi.Error,serror:E(k.serror)}:k)(p.extract([h],w),k=>({input:w,errors:k})))(o,a,c),ph(u,_o.error,_o.value);var u},vi=o=>o.fold(a=>{throw new Error(Mi(a))},Me),si=(o,a,c)=>vi(os(o,a,c)),Mi=o=>`Errors: 
`+(a=>{const c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):a;return vt(c,u=>"Failed path: ("+u.path.join(" > ")+`)
`+u.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+cu(o.input),Gs=(o,a)=>hu(o,Cn(a,Bn)),bh=(o,a)=>((c,u)=>{const h=La(u);return{extract:(p,w)=>h().extract(p,w),toString:()=>h().toString()}})(0,a),Ws=Ud,Ca=(o,a)=>({tag:"custom",newKey:o,instantiator:a}),Bc=o=>Zd(a=>ot(o,a)?_o.value(a):_o.error(`Unsupported value: "${a}", choose one of "${o.join(", ")}".`)),kt=o=>Ws(o,o,{tag:"required",process:{}},pl()),Sa=(o,a)=>Ws(o,o,{tag:"required",process:{}},a),vh=o=>Sa(o,od),rs=o=>Sa(o,na),pu=(o,a)=>Ws(o,o,{tag:"required",process:{}},Bc(a)),xi=o=>Sa(o,Ic),nc=(o,a)=>Ws(o,o,{tag:"required",process:{}},Bn(a)),em=(o,a)=>Ws(o,o,{tag:"required",process:{}},mu(a)),Pi=(o,a)=>Ws(o,o,{tag:"required",process:{}},fu(a)),Io=o=>Ws(o,o,{tag:"option",process:{}},pl()),Es=(o,a)=>Ws(o,o,{tag:"option",process:{}},a),jd=o=>Es(o,od),xs=o=>Es(o,na),gg=(o,a)=>Es(o,Bc(a)),Mc=o=>Es(o,Ic),q0=(o,a)=>Es(o,fu(a)),ds=(o,a)=>Es(o,Bn(a)),Xe=(o,a)=>Ws(o,o,Nc(a),pl()),yi=(o,a,c)=>Ws(o,o,Nc(a),c),As=(o,a)=>yi(o,a,od),Cl=(o,a)=>yi(o,a,na),oc=(o,a,c)=>yi(o,a,Bc(c)),Ls=(o,a)=>yi(o,a,Bl),Mr=(o,a)=>yi(o,a,Ic),lr=(o,a,c)=>yi(o,a,fu(c)),wi=(o,a,c)=>yi(o,a,Bn(c)),Sl=o=>{if(!L(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const a=[],c={};return jt(o,(u,h)=>{const p=on(u);if(p.length!==1)throw new Error("one and only one name per case");const w=p[0],k=u[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!L(k))throw new Error("case arguments must be an array");a.push(w),c[w]=(...E)=>{const O=E.length;if(O!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+O);return{fold:(...M)=>{if(M.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+M.length);return M[h].apply(null,E)},match:M=>{const I=on(M);if(a.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+I.join(","));if(!ei(a,H=>ot(I,H)))throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+a.join(", "));return M[w].apply(null,E)},log:M=>{console.log(M,{constructors:a,constructor:w,params:E})}}}}),c};Sl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pc=(o,a)=>((c,u)=>({[c]:u}))(o,a),rd=o=>(a=>{const c={};return jt(a,u=>{c[u.key]=u.value}),c})(o),tm=o=>G(o)?o:Ee,hg=(o,a,c)=>{let u=o.dom;const h=tm(c);for(;u.parentNode;){u=u.parentNode;const p=Qt(u),w=a(p);if(w.isSome())return w;if(h(p))break}return R.none()},pg=(o,a,c)=>{const u=a(o),h=tm(c);return u.orThunk(()=>h(o)?R.none():hg(o,a,h))},Zp=(o,a)=>Uo(o.element,a.event.target),jp={can:Ne,abort:Ee,run:ge},bu=o=>{if(!so(o,"can")&&!so(o,"abort")&&!so(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...jp,...o}},N=ie,Z=N("touchstart"),te=N("touchmove"),ke=N("touchend"),He=N("touchcancel"),Et=N("mousedown"),Pn=N("mousemove"),oo=N("mouseout"),Yn=N("mouseup"),yn=N("mouseover"),Go=N("focusin"),Ts=N("focusout"),ss=N("keydown"),rc=N("keyup"),nm=N("input"),om=N("change"),Ys=N("click"),Aw=N("transitioncancel"),Kp=N("transitionend"),G0=N("transitionstart"),Ua=N("selectstart"),fs=o=>ie("alloy."+o),ua={tap:fs("tap")},vu=fs("focus"),xh=fs("blur.post"),dx=fs("paste.post"),Ml=fs("receive"),el=fs("execute"),qp=fs("focus.item"),Kd=ua.tap,sk=fs("longpress"),Gp=fs("sandbox.close"),sd=fs("typeahead.cancel"),qd=fs("system.init"),bn=fs("system.touchmove"),Lc=fs("system.touchend"),Yp=fs("system.scroll"),Gd=fs("system.resize"),Wa=fs("system.attached"),sc=fs("system.detached"),bg=fs("system.dismissRequested"),Yd=fs("system.repositionRequested"),Y0=fs("focusmanager.shifted"),Fc=fs("slotcontainer.visibility"),yh=fs("system.external.element.scroll"),wh=fs("change.tab"),Mt=fs("dismiss.tab"),fx=fs("highlight"),Xd=fs("dehighlight"),fo=(o,a)=>{ac(o,o.element,a,{})},wn=(o,a,c)=>{ac(o,o.element,a,c)},Jd=o=>{fo(o,el())},Xr=(o,a,c)=>{ac(o,a,c,{})},ac=(o,a,c,u)=>{const h={target:a,...u};o.getSystem().triggerEvent(c,a,h)},ic=(o,a,c,u)=>{o.getSystem().triggerEvent(c,a,u.event)},Qn=o=>rd(o),_h=(o,a)=>({key:o,value:bu({abort:a})}),Tw=o=>({key:o,value:bu({run:(a,c)=>{c.event.prevent()}})}),pt=(o,a)=>({key:o,value:bu({run:a})}),mx=(o,a,c)=>({key:o,value:bu({run:(u,h)=>{a.apply(void 0,[u,h].concat(c))}})}),Ch=o=>a=>({key:o,value:bu({run:(c,u)=>{Zp(c,u)&&a(c,u)}})}),Sh=(o,a,c)=>((u,h)=>pt(u,(p,w)=>{p.getSystem().getByUid(h).each(k=>{ic(k,k.element,u,w)})}))(o,a.partUids[c]),vg=(o,a)=>pt(o,(c,u)=>{const h=u.event,p=c.getSystem().getByDom(h.target).getOrThunk(()=>pg(h.target,w=>c.getSystem().getByDom(w).toOptional(),Ee).getOr(c));a(c,p,u)}),rm=o=>pt(o,(a,c)=>{c.cut()}),Ow=o=>pt(o,(a,c)=>{c.stop()}),Qd=(o,a)=>Ch(o)(a),Hr=Ch(Wa()),xu=Ch(sc()),X0=Ch(qd()),zc=(lm=el(),o=>pt(lm,o)),sm=o=>vt(o,a=>ou(a,"/*")?a.substring(0,a.length-2):a),Pl=(o,a)=>{const c=o.toString(),u=c.indexOf(")")+1,h=c.indexOf("("),p=c.substring(h+1,u-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:a,parameters:sm(p)}),o},Os=o=>({classes:z(o.classes)?[]:o.classes,attributes:z(o.attributes)?{}:o.attributes,styles:z(o.styles)?{}:o.styles}),Xp=(o,a,c)=>X0((u,h)=>{c(u,o,a)}),da=o=>({key:o,value:void 0}),J0=(o,a,c,u,h,p,w)=>{const k=M=>so(M,c)?M[c]():R.none(),E=Cn(h,(M,I)=>((H,K,Y)=>((re,ce,pe)=>{const ae=pe.toString(),se=ae.indexOf(")")+1,fe=ae.indexOf("("),be=ae.substring(fe+1,se-1).split(/,\s*/);return re.toFunctionAnnotation=()=>({name:ce,parameters:sm(be.slice(0,1).concat(be.slice(3)))}),re})((re,...ce)=>{const pe=[re].concat(ce);return re.config({name:ie(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Y)},ae=>{const se=Array.prototype.slice.call(pe,1);return K.apply(void 0,[re,ae.config,ae.state].concat(se))})},Y,K))(c,M,I)),O={...Cn(p,(M,I)=>Pl(M,I)),...E,revoke:Je(da,c),config:M=>{const I=si(c+"-config",o,M);return{key:c,value:{config:I,me:O,configAsRaw:La(()=>si(c+"-config",o,M)),initialConfig:M,state:w}}},schema:ie(a),exhibit:(M,I)=>Ht(k(M),ln(u,"exhibit"),(H,K)=>K(I,H.config,H.state)).getOrThunk(()=>Os({})),name:ie(c),handlers:M=>k(M).map(I=>ln(u,"events").getOr(()=>({}))(I.config,I.state)).getOr({})};return O},lc={init:()=>fa({readState:ie("No State required")})},fa=o=>o,Lt=o=>rd(o),am=ta([kt("fields"),kt("name"),Xe("active",{}),Xe("apis",{}),Xe("state",lc),Xe("extra",{})]),ma=o=>{const a=si("Creating behaviour: "+o.name,am,o);return((c,u,h,p,w,k)=>{const E=ta(c),O=ds(u,[(M=c,Es("config",ta(M)))]);var M;return J0(E,O,u,h,p,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},Dw=ta([kt("branchKey"),kt("branches"),kt("name"),Xe("active",{}),Xe("apis",{}),Xe("state",lc),Xe("extra",{})]),Rw=o=>{const a=si("Creating behaviour: "+o.name,Dw,o);return((c,u,h,p,w,k)=>{const E=c,O=ds(u,[Es("config",c)]);return J0(E,O,u,h,p,w,k)})(Gs(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},ak=ie(void 0),ad=(o,a)=>{const c=yo(o,a);return c===void 0||c===""?[]:c.split(" ")},xg=o=>o.dom.classList!==void 0,Jp=o=>ad(o,"class"),Q0=(o,a)=>((c,u,h)=>{const p=ad(c,u).concat([h]);return Xt(c,u,p.join(" ")),!0})(o,"class",a),gx=(o,a)=>((c,u,h)=>{const p=bo(ad(c,u),w=>w!==h);return p.length>0?Xt(c,u,p.join(" ")):co(c,u),!1})(o,"class",a),as=(o,a)=>{xg(o)?o.dom.classList.add(a):Q0(o,a)},Qp=o=>{(xg(o)?o.dom.classList:Jp(o)).length===0&&co(o,"class")},ms=(o,a)=>{xg(o)?o.dom.classList.remove(a):gx(o,a),Qp(o)},Li=(o,a)=>xg(o)&&o.dom.classList.contains(a),Ds=(o,a)=>{jt(a,c=>{as(o,c)})},Ll=(o,a)=>{jt(a,c=>{ms(o,c)})},id=o=>xg(o)?(a=>{const c=a.dom.classList,u=new Array(c.length);for(let h=0;h<c.length;h++){const p=c.item(h);p!==null&&(u[h]=p)}return u})(o):Jp(o),ka=(o,a,c,u,h)=>{const p=w=>w+"px";return{position:o,left:a.map(p),top:c.map(p),right:u.map(p),bottom:h.map(p)}},eb=(o,a)=>{Yi(o,(c=>({...c,position:R.some(c.position)}))(a))},kh=o=>(zr(Ss(o,"position"),"fixed")?R.none():Ac(o)).orThunk(()=>{const a=la("span");return ni(o).bind(c=>{hi(c,a);const u=Ac(a);return wa(a),u})}),ef=o=>kh(o).map(gl).getOrThunk(()=>Ir(0,0)),Nw=(o,a)=>{const c=o.element;as(c,a.transitionClass),ms(c,a.fadeOutClass),as(c,a.fadeInClass),a.onShow(o)},Eh=(o,a)=>{const c=o.element;as(c,a.transitionClass),ms(c,a.fadeInClass),as(c,a.fadeOutClass),a.onHide(o)},hx=(o,a)=>o.y>=a.y,e1=(o,a)=>o.bottom<=a.bottom,tb=(o,a,c)=>({location:"top",leftX:a,topY:c.bounds.y-o.y}),t1=(o,a,c)=>({location:"bottom",leftX:a,bottomY:o.bottom-c.bounds.bottom}),px=o=>o.box.x-o.win.x,im=(o,a,c)=>c.getInitialPos().map(u=>{const h=((p,w)=>{const k=w.optScrollEnv.fold(ie(p.bounds.y),E=>E.scrollElmTop+(p.bounds.y-E.currentScrollTop));return Ir(p.bounds.x,k)})(u,a);return{box:go(h.left,h.top,ca(o),us(o)),location:u.location}}),ik=(o,a,c,u,h)=>{const p=((k,E)=>{const O=E.optScrollEnv.fold(ie(k.y),M=>k.y+M.currentScrollTop-M.scrollElmTop);return Ir(k.x,O)})(a,c),w=go(p.left,p.top,a.width,a.height);u.setInitialPos({style:Pd(o),position:ns(o,"position")||"static",bounds:w,location:h.location})},n1=(o,a,c)=>c.getInitialPos().bind(u=>{var h;switch(c.clearInitialPos(),u.position){case"static":return R.some({morph:"static"});case"absolute":const p=kh(o).getOr(un()),w=Us(p),k=(h=p.dom.scrollTop)!==null&&h!==void 0?h:0;return R.some({morph:"absolute",positionCss:ka("absolute",ln(u.style,"left").map(E=>a.x-w.x),ln(u.style,"top").map(E=>a.y-w.y+k),ln(u.style,"right").map(E=>w.right-a.right),ln(u.style,"bottom").map(E=>w.bottom-a.bottom))});default:return R.none()}}),o1=o=>{switch(o.location){case"top":return R.some({morph:"fixed",positionCss:ka("fixed",R.some(o.leftX),R.some(o.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:ka("fixed",R.some(o.leftX),R.none(),R.none(),R.some(o.bottomY))});default:return R.none()}},bx=(o,a,c)=>{const u=o.element;return zr(Ss(u,"position"),"fixed")?((h,p,w)=>((k,E,O)=>im(k,E,O).filter(({box:M})=>((I,H,K)=>ei(I,Y=>{switch(Y){case"bottom":return e1(H,K.bounds);case"top":return hx(H,K.bounds)}}))(O.getModes(),M,E)).bind(({box:M})=>n1(k,M,O)))(h,p,w).orThunk(()=>p.optScrollEnv.bind(k=>im(h,p,w)).bind(({box:k,location:E})=>{const O=_a(),M=px({win:O,box:k}),I=E==="top"?tb(O,M,p):t1(O,M,p);return o1(I)})))(u,a,c):((h,p,w)=>{const k=Us(h),E=_a(),O=((M,I,H)=>{const K=I.win,Y=I.box,re=px(I);return It(M,ce=>{switch(ce){case"bottom":return e1(Y,H.bounds)?R.none():R.some(t1(K,re,H));case"top":return hx(Y,H.bounds)?R.none():R.some(tb(K,re,H));default:return R.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},p);return O.location==="top"||O.location==="bottom"?(ik(h,k,p,w,O),o1(O)):R.none()})(u,a,c)},vx=(o,a,c)=>{c.setDocked(!1),jt(["left","right","top","bottom","position"],u=>Jo(o.element,u)),a.onUndocked(o)},nb=(o,a,c,u)=>{const h=u.position==="fixed";c.setDocked(h),eb(o.element,u),(h?a.onDocked:a.onUndocked)(o)},xx=(o,a,c,u,h=!1)=>{a.contextual.each(p=>{p.lazyContext(o).each(w=>{const k=((E,O)=>E.y<O.bottom&&E.bottom>O.y)(w,u.bounds);k!==c.isVisible()&&(c.setVisible(k),h&&!k?(Ds(o.element,[p.fadeOutClass]),p.onHide(o)):(k?Nw:Eh)(o,p))})})},yx=(o,a,c,u,h)=>{xx(o,a,c,u,!0),nb(o,a,c,h.positionCss)},ob=(o,a,c)=>{o.getSystem().isConnected()&&((u,h,p)=>{const w=h.lazyViewport(u);xx(u,h,p,w),bx(u,w,p).each(k=>{((E,O,M,I,H)=>{switch(H.morph){case"static":return vx(E,O,M);case"absolute":return nb(E,O,M,H.positionCss);case"fixed":yx(E,O,M,I,H)}})(u,h,p,w,k)})})(o,a,c)},Ah=(o,a,c)=>{c.isDocked()&&((u,h,p)=>{const w=u.element;p.setDocked(!1);const k=h.lazyViewport(u);((E,O,M)=>{const I=E.element;return im(I,O,M).bind(({box:H})=>n1(I,H,M))})(u,k,p).each(E=>{switch(E.morph){case"static":vx(u,h,p);break;case"absolute":nb(u,h,p,E.positionCss)}}),p.setVisible(!0),h.contextual.each(E=>{Ll(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(u)}),ob(u,h,p)})(o,a,c)},wx=o=>(a,c,u)=>{const h=c.lazyViewport(a);((p,w,k,E)=>{const O=Us(p),M=_a(),I=E(M,px({win:M,box:O}),w);return I.location==="bottom"||I.location==="top"?(((H,K,Y,re,ce)=>{re.getInitialPos().fold(()=>ik(H,K,Y,re,ce),()=>ge)})(p,O,w,k,I),o1(I)):R.none()})(a.element,h,u,o).each(p=>{yx(a,c,u,h,p)})},rb=wx(tb),sb=wx(t1);var lm,Th=Object.freeze({__proto__:null,refresh:ob,reset:Ah,isDocked:(o,a,c)=>c.isDocked(),getModes:(o,a,c)=>c.getModes(),setModes:(o,a,c,u)=>c.setModes(u),forceDockToTop:rb,forceDockToBottom:sb}),_x=Object.freeze({__proto__:null,events:(o,a)=>Qn([Qd(Kp(),(c,u)=>{o.contextual.each(h=>{Li(c.element,h.transitionClass)&&(Ll(c.element,[h.transitionClass,h.fadeInClass]),(a.isVisible()?h.onShown:h.onHidden)(c)),u.stop()})}),pt(Yp(),(c,u)=>{ob(c,o,a)}),pt(yh(),(c,u)=>{ob(c,o,a)}),pt(Gd(),(c,u)=>{Ah(c,o,a)})])});const ld=o=>o.dom.innerHTML,yg=(o,a)=>{const c=Vs(o).dom,u=Qt(c.createDocumentFragment()),h=((p,w)=>{const k=(w||document).createElement("div");return k.innerHTML=p,fr(Qt(k))})(a,c);ks(u,h),Wr(o),hi(o,u)},wg=(o,a)=>Qt(o.dom.cloneNode(a)),cd=o=>(a=>{if(at(a))return"#shadow-root";{const c=(u=>wg(u,!1))(a);return(u=>{const h=la("div"),p=Qt(u.dom.cloneNode(!0));return hi(h,p),ld(h)})(c)}})(o);var tf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(tf||(tf={}));const ab=An({}),lk=["alloy/data/Fields","alloy/debugging/Debugging"],ib=(o,a,c)=>((u,h,p)=>{switch(ln(ab.get(),u).orThunk(()=>{const w=on(ab.get());return It(w,k=>u.indexOf(k)>-1?R.some(ab.get()[k]):R.none())}).getOr(tf.NORMAL)){case tf.NORMAL:return p(cc());case tf.LOGGING:{const w=((E,O)=>{const M=[],I=new Date().getTime();return{logEventCut:(H,K,Y)=>{M.push({outcome:"cut",target:K,purpose:Y})},logEventStopped:(H,K,Y)=>{M.push({outcome:"stopped",target:K,purpose:Y})},logNoParent:(H,K,Y)=>{M.push({outcome:"no-parent",target:K,purpose:Y})},logEventNoHandlers:(H,K)=>{M.push({outcome:"no-handlers-left",target:K})},logEventResponse:(H,K,Y)=>{M.push({outcome:"response",purpose:Y,target:K})},write:()=>{const H=new Date().getTime();ot(["mousemove","mouseover","mouseout",qd()],E)||console.log(E,{event:E,time:H-I,target:O.dom,sequence:vt(M,K=>ot(["cut","stopped","response"],K.outcome)?"{"+K.purpose+"} "+K.outcome+" at ("+cd(K.target)+")":K.outcome)})}}})(u,h),k=p(w);return w.write(),k}case tf.STOP:return!0}})(o,a,c),cc=ie({logEventCut:ge,logEventStopped:ge,logNoParent:ge,logEventNoHandlers:ge,logEventResponse:ge,write:ge}),Iw=ie([kt("menu"),kt("selectedMenu")]),Cx=ie([kt("item"),kt("selectedItem")]);ie(Bn(Cx().concat(Iw())));const _g=ie(Bn(Cx())),Za=nc("initSize",[kt("numColumns"),kt("numRows")]),Cg=()=>nc("markers",[kt("backgroundMenu")].concat(Iw()).concat(Cx())),Sg=o=>nc("markers",vt(o,kt)),r1=(o,a,c)=>((()=>{const u=new Error;if(u.stack!==void 0){const h=u.stack.split(`
`);J(h,p=>p.indexOf("alloy")>0&&!Vn(lk,w=>p.indexOf(w)>-1)).getOr("unknown")}})(),Ws(a,a,c,Zd(u=>_o.value((...h)=>u.apply(void 0,h))))),Lo=o=>r1(0,o,Nc(ge)),tl=o=>r1(0,o,Nc(R.none)),yu=o=>r1(0,o,{tag:"required",process:{}}),ai=o=>r1(0,o,{tag:"required",process:{}}),Er=(o,a)=>Ca(o,ie(a)),lb=o=>Ca(o,Me),Bw=ie(Za);var ck=[ds("contextual",[rs("fadeInClass"),rs("fadeOutClass"),rs("transitionClass"),xi("lazyContext"),Lo("onShow"),Lo("onShown"),Lo("onHide"),Lo("onHidden")]),Mr("lazyViewport",()=>({bounds:_a(),optScrollEnv:R.none()})),lr("modes",["top","bottom"],na),Lo("onDocked"),Lo("onUndocked")];const Zr=ma({fields:ck,name:"docking",active:_x,apis:Th,state:Object.freeze({__proto__:null,init:o=>{const a=An(!1),c=An(!0),u=rr(),h=An(o.modes);return fa({isDocked:a.get,setDocked:a.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:c.get,setVisible:c.set,getModes:h.get,setModes:h.set,readState:()=>`docked:  ${a.get()}, visible: ${c.get()}, modes: ${h.get().join(",")}`})}})}),s1=Qn([((o,a)=>({key:o,value:bu({can:(c,u)=>{const h=u.event,p=h.originator,w=h.target;return!((k,E,O)=>Uo(E,k.element)&&!Uo(E,O))(c,p,w)||(console.warn(vu()+` did not get interpreted by the desired target. 
Originator: `+cd(p)+`
Target: `+cd(w)+`
Check the `+vu()+" event handlers"),!1)}})}))(vu())]);var Sx=Object.freeze({__proto__:null,events:s1});const cm=(o,a,c,u)=>{const h=o+a;return h>u?c:h<c?u:h},uc=(o,a,c)=>Math.min(Math.max(o,a),c);let Oh=0;const dn=o=>{const a=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Oh++,o+"_"+c+Oh+String(a)},Hc=ie("alloy-id-"),kx=ie("data-alloy-id"),a1=Hc(),Dh=kx(),i1=(o,a)=>{Object.defineProperty(o.dom,Dh,{value:a,writable:!0})},kg=o=>{const a=Vr(o)?o.dom[Dh]:null;return R.from(a)},dc=o=>dn(o),uk=Me,l1=o=>{const a=h=>`The component must be in a context to execute: ${h}`+(o?`
`+cd(o().element)+" is not in context.":""),c=h=>()=>{throw new Error(a(h))},u=h=>()=>{console.warn(a(h))};return{debugInfo:ie("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ee}},Ex=l1(),c1=dn("alloy-premade"),Ax=o=>(Object.defineProperty(o.element.dom,c1,{value:o.uid,writable:!0}),Pc(c1,o)),Tx=o=>ln(o,c1),u1=o=>((a,c)=>{const u=c.toString(),h=u.indexOf(")")+1,p=u.indexOf("("),w=u.substring(p+1,h-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:sm(w.slice(1))}),a})((a,...c)=>o(a.getApis(),a,...c),o),Ox=(o,a)=>{const c={};return xn(o,(u,h)=>{xn(u,(p,w)=>{const k=ln(c,w).getOr([]);c[w]=k.concat([a(h,p)])})}),c},Dx=o=>o.cHandler,Mw=(o,a)=>({name:o,handler:a}),dk=(o,a)=>{const c={};return jt(o,u=>{c[u.name()]=u.handlers(a)}),c},cb=(o,a,c)=>{const u=a[c];return u?((h,p,w,k)=>{try{const E=me(w,(O,M)=>{const I=O[p],H=M[p],K=k.indexOf(I),Y=k.indexOf(H);if(K===-1)throw new Error("The ordering for "+h+" does not have an entry for "+I+`.
Order specified: `+JSON.stringify(k,null,2));if(Y===-1)throw new Error("The ordering for "+h+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return K<Y?-1:Y<K?1:0});return _o.value(E)}catch(E){return _o.error([E])}})("Event: "+c,"name",o,u).map(h=>(p=>({can:((E,O)=>(...M)=>Mn(E,(I,H)=>I&&(K=>K.can)(H).apply(void 0,M),!0))(p),abort:((E,O)=>(...M)=>Mn(E,(I,H)=>I||(K=>K.abort)(H).apply(void 0,M),!1))(p),run:(...E)=>{jt(p,O=>{O.run.apply(void 0,E)})}}))(vt(h,p=>p.handler))):((h,p)=>_o.error(["The event ("+h+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(vt(p,w=>w.name),null,2)]))(c,o)},Rx=(o,a)=>((c,u)=>{const h=(w=>{const k=[],E=[];return jt(w,O=>{O.fold(M=>{k.push(M)},M=>{E.push(M)})}),{errors:k,values:E}})(c);return h.errors.length>0?(p=h.errors,_o.error(dr(p))):((w,k)=>w.length===0?_o.value(k):_o.value(mr(k,Vp.apply(void 0,w))))(h.values,u);var p})(Cs(o,(c,u)=>(c.length===1?_o.value(c[0].handler):cb(c,a,u)).map(h=>{const p=(k=>{const E=(O=>G(O)?{can:Ne,abort:Ee,run:O}:O)(k);return(O,M,...I)=>{const H=[O,M].concat(I);E.abort.apply(void 0,H)?M.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(h),w=c.length>1?bo(a[u],k=>Vn(c,E=>E.name===k)).join(" > "):c[0].name;return Pc(u,((k,E)=>({handler:k,purpose:E}))(p,w))})),{}),Eg="alloy.base.behaviour",fk=Bn([Ws("dom","dom",{tag:"required",process:{}},Bn([kt("tag"),Xe("styles",{}),Xe("classes",[]),Xe("attributes",{}),Io("value"),Io("innerHtml")])),kt("components"),kt("uid"),Xe("events",{}),Xe("apis",{}),Ws("eventOrder","eventOrder",(Ag={[el()]:["disabling",Eg,"toggling","typeaheadevents"],[vu()]:[Eg,"focusing","keying"],[qd()]:[Eg,"disabling","toggling","representing","tooltipping"],[nm()]:[Eg,"representing","streaming","invalidating"],[sc()]:[Eg,"representing","item-events","toolbar-button-events","tooltipping"],[Et()]:["focusing",Eg,"item-type-events"],[Z()]:["focusing",Eg,"item-type-events"],[yn()]:["item-type-events","tooltipping"],[Ml()]:["receiving","reflecting","tooltipping"]},Po(ie(Ag))),pl()),Io("domModification")]),mk=o=>o.events,nf=o=>o.dom.value,um=(o,a)=>{if(a===void 0)throw new Error("Value.set was undefined");o.dom.value=a},d1=(o,a,c)=>{c.fold(()=>hi(o,a),u=>{Uo(u,a)||(Ju(u,a),wa(u))})},Pw=(o,a,c)=>{const u=vt(a,c),h=fr(o);return jt(h.slice(u.length),wa),u},Nx=(o,a,c,u)=>{const h=Ur(o,a),p=u(c,h),w=((k,E,O)=>Ur(k,E).map(M=>{if(O.exists(I=>!Uo(I,M))){const I=O.map(Di).getOr("span"),H=la(I);return Ju(M,H),H}return M}))(o,a,h);return d1(o,p.element,w),p},ub=(o,a)=>{const c=on(o),u=on(a),h=le(u,c),p=((w,k)=>{const E={},O={};return Eo(w,(M,I)=>!mo(a,I)||M!==a[I],po(E),po(O)),{t:E,f:O}})(o).t;return{toRemove:h,toSet:p}},ud=(o,a)=>{const c=a.filter(u=>Di(u)===o.tag&&!(h=>h.innerHtml.isSome()&&h.domChildren.length>0)(o)&&!(h=>mo(h.dom,c1))(u)).bind(u=>((h,p)=>{try{const w=((k,E)=>{const{class:O,style:M,...I}=(fe=>Mn(fe.dom.attributes,(be,we)=>(be[we.name]=we.value,be),{}))(E),{toSet:H,toRemove:K}=ub(k.attributes,I),Y=Pd(E),{toSet:re,toRemove:ce}=ub(k.styles,Y),pe=id(E),ae=le(pe,k.classes),se=le(k.classes,pe);return jt(K,fe=>co(E,fe)),or(E,H),Ds(E,se),Ll(E,ae),jt(ce,fe=>Jo(E,fe)),Ni(E,re),k.innerHtml.fold(()=>{const fe=k.domChildren;((be,we)=>{Pw(be,we,(Fe,qe)=>{const wt=Ur(be,qe);return d1(be,Fe,wt),Fe})})(E,fe)},fe=>{yg(E,fe)}),(()=>{const fe=E,be=k.value.getOrUndefined();be!==nf(fe)&&um(fe,be??"")})(),E})(h,p);return R.some(w)}catch{return R.none()}})(o,u)).getOrThunk(()=>(u=>{const h=la(u.tag);or(h,u.attributes),Ds(h,u.classes),Ni(h,u.styles),u.innerHtml.each(w=>yg(h,w));const p=u.domChildren;return ks(h,p),u.value.each(w=>{um(h,w)}),h})(o));return i1(c,o.uid),c},f1=o=>{const a=(c=>{const u=ln(c,"behaviours").getOr({});return jo(on(u),h=>{const p=u[h];return U(p)?[p.me]:[]})})(o);return((c,u)=>((h,p)=>{const w=vt(p,E=>ds(E.name(),[kt("config"),Xe("state",lc)])),k=os("component.behaviours",Bn(w),h.behaviours).fold(E=>{throw new Error(Mi(E)+`
Complete spec:
`+JSON.stringify(h,null,2))},Me);return{list:p,data:Cn(k,E=>{const O=E.map(M=>({config:M.config,state:M.state.init(M.config)}));return ie(O)})}})(c,u))(o,a)},Xs=(o,a)=>{const c=()=>H,u=An(Ex),h=vi((K=>os("custom.definition",fk,K))(o)),p=f1(o),w=(K=>K.list)(p),k=(K=>K.data)(p),E=((K,Y,re)=>{const ce={...(pe=K).dom,uid:pe.uid,domChildren:vt(pe.components,Fe=>Fe.element)};var pe;const ae=(Fe=>Fe.domModification.fold(()=>Os({}),Os))(K),se={"alloy.base.modification":ae},fe=Y.length>0?((Fe,qe,wt,ht)=>{const ft={...qe};jt(wt,Co=>{ft[Co.name()]=Co.exhibit(Fe,ht)});const Bt=Ox(ft,(Co,Lr)=>({name:Co,modification:Lr})),sn=Co=>En(Co,(Lr,Kr)=>({...Kr.modification,...Lr}),{}),hn=En(Bt.classes,(Co,Lr)=>Lr.modification.concat(Co),[]),Rn=sn(Bt.attributes),qn=sn(Bt.styles);return Os({classes:hn,attributes:Rn,styles:qn})})(re,se,Y,ce):ae;return be=ce,we=fe,{...be,attributes:{...be.attributes,...we.attributes},styles:{...be.styles,...we.styles},classes:be.classes.concat(we.classes)};var be,we})(h,w,k),O=ud(E,a),M=((K,Y,re)=>{const ce={"alloy.base.behaviour":mk(K)};return((pe,ae,se,fe)=>{const be=((we,Fe,qe)=>{const wt={...qe,...dk(Fe,we)};return Ox(wt,Mw)})(pe,se,fe);return Rx(be,ae)})(re,K.eventOrder,Y,ce).getOrDie()})(h,w,k),I=An(h.components),H={uid:o.uid,getSystem:u.get,config:K=>{const Y=k;return(G(Y[K.name()])?Y[K.name()]:()=>{throw new Error("Could not find "+K.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:K=>G(k[K.name()]),spec:o,readState:K=>k[K]().map(Y=>Y.state.readState()).getOr("not enabled"),getApis:()=>h.apis,connect:K=>{u.set(K)},disconnect:()=>{u.set(l1(c))},element:O,syncComponents:()=>{const K=fr(O),Y=jo(K,re=>u.get().getByDom(re).fold(()=>[],Ie));I.set(Y)},components:I.get,events:M};return H},ys=o=>{const a=su(o);return of({element:a})},of=o=>{const a=si("external.component",ta([kt("element"),Io("uid")]),o),c=An(l1()),u=a.uid.getOrThunk(()=>dc("external"));i1(a.element,u);const h={uid:u,getSystem:c.get,config:R.none,hasConfigured:Ee,connect:p=>{c.set(p)},disconnect:()=>{c.set(l1(()=>h))},getApis:()=>({}),element:a.element,spec:o,readState:ie("No state"),syncComponents:ge,components:ie([]),events:{}};return Ax(h)},Ix=dc,m1=(o,a)=>Tx(o).getOrThunk(()=>((c,u)=>{const{events:h,...p}=uk(c),w=((E,O)=>{const M=ln(E,"components").getOr([]);return O.fold(()=>vt(M,Ea),I=>vt(M,(H,K)=>m1(H,Ur(I,K))))})(p,u),k={...p,events:{...Sx,...h},components:w};return _o.value(Xs(k,u))})((c=>mo(c,"uid"))(o)?o:{uid:Ix(""),...o},a).getOrDie()),Ea=o=>m1(o,R.none()),Fi=Ax;var Ag,rf=(o,a,c,u,h)=>o(c,u)?R.some(c):G(h)&&h(c)?R.none():a(c,u,h);const dm=(o,a,c)=>{let u=o.dom;const h=G(c)?c:Ee;for(;u.parentNode;){u=u.parentNode;const p=Qt(u);if(a(p))return R.some(p);if(h(p))break}return R.none()},g1=(o,a,c)=>rf((u,h)=>h(u),dm,o,a,c),Lw=(o,a)=>J(o.dom.childNodes,c=>a(Qt(c))).map(Qt),Bx=(o,a,c)=>g1(o,a,c).isSome(),fm=(o,a,c)=>dm(o,u=>kc(u,a),c),Ar=(o,a)=>((c,u)=>{const h=c.dom;return h.parentNode?Lw(Qt(h.parentNode),p=>!Uo(c,p)&&kc(p,a)):R.none()})(o),h1=(o,a)=>Lw(o,c=>kc(c,a)),jr=(o,a)=>Gu(a,o),wu=(o,a,c)=>rf((u,h)=>kc(u,h),fm,o,a,c),$c="aria-controls",Tg=()=>{const o=dn($c);return{id:o,link:a=>{Xt(a,$c,o)},unlink:a=>{co(a,$c)}}},nl=(o,a)=>Bx(a,c=>Uo(c,o.element),Ee)||((c,u)=>(h=>g1(h,p=>{if(!Vr(p))return!1;const w=yo(p,"id");return w!==void 0&&w.indexOf($c)>-1}).bind(p=>{const w=yo(p,"id"),k=nt(p);return jr(k,`[${$c}="${w}"]`)}))(u).exists(h=>nl(c,h)))(o,a),ja=(o,a,c,u,h,p,w,k=!1)=>({x:o,y:a,bubble:c,direction:u,placement:h,restriction:p,label:`${w}-${h}`,alwaysFit:k}),mm=Sl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),db=mm.southeast,Og=mm.southwest,fb=mm.northeast,Dg=mm.northwest,Fw=mm.south,Mx=mm.north,Px=mm.east,zw=mm.west,Ka=(o,a)=>ve(["left","right","top","bottom"],c=>ln(a,c).map(u=>((h,p)=>{switch(p){case 1:return h.x;case 0:return h.x+h.width;case 2:return h.y;case 3:return h.y+h.height}})(o,u))),gm="layout",Hw=o=>o.x,fc=(o,a)=>o.x+o.width/2-a.width/2,zi=(o,a)=>o.x+o.width-a.width,Rg=(o,a)=>o.y-a.height,Rh=o=>o.y+o.height,$w=(o,a)=>o.y+o.height/2-a.height/2,gs=(o,a,c)=>ja(Hw(o),Rh(o),c.southeast(),db(),"southeast",Ka(o,{left:1,top:3}),gm),hs=(o,a,c)=>ja(zi(o,a),Rh(o),c.southwest(),Og(),"southwest",Ka(o,{right:0,top:3}),gm),Fs=(o,a,c)=>ja(Hw(o),Rg(o,a),c.northeast(),fb(),"northeast",Ka(o,{left:1,bottom:2}),gm),gr=(o,a,c)=>ja(zi(o,a),Rg(o,a),c.northwest(),Dg(),"northwest",Ka(o,{right:0,bottom:2}),gm),is=(o,a,c)=>ja(fc(o,a),Rg(o,a),c.north(),Mx(),"north",Ka(o,{bottom:2}),gm),Rs=(o,a,c)=>ja(fc(o,a),Rh(o),c.south(),Fw(),"south",Ka(o,{top:3}),gm),p1=(o,a,c)=>ja((u=>u.x+u.width)(o),$w(o,a),c.east(),Px(),"east",Ka(o,{left:0}),gm),b1=(o,a,c)=>ja(((u,h)=>u.x-h.width)(o,a),$w(o,a),c.west(),zw(),"west",Ka(o,{right:1}),gm),Lx=()=>[gs,hs,Fs,gr,Rs,is,p1,b1],mb=()=>[hs,gs,gr,Fs,Rs,is,p1,b1],Fx=()=>[Fs,gr,gs,hs,is,Rs],Ng=()=>[gr,Fs,hs,gs,is,Rs],v1=()=>[gs,hs,Fs,gr,Rs,is],x1=()=>[hs,gs,gr,Fs,Rs,is];var zx=Object.freeze({__proto__:null,events:o=>Qn([pt(Ml(),(a,c)=>{const u=o.channels,h=on(u),p=c,w=((k,E)=>E.universal?k:bo(k,O=>ot(E.channels,O)))(h,p);jt(w,k=>{const E=u[k],O=E.schema,M=si("channel["+k+`] data
Receiver: `+cd(a.element),O,p.data);E.onReceive(a,M)})})])}),gb=[Sa("channels",Wp(_o.value,ta([yu("onReceive"),Xe("schema",pl())])))];const ol=ma({fields:gb,name:"receiving",active:zx});var Hx=Object.freeze({__proto__:null,exhibit:(o,a)=>Os({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const _i=(o,a=!1)=>o.dom.focus({preventScroll:a}),hb=o=>o.dom.blur(),Ig=o=>{const a=nt(o).dom;return o.dom===a.activeElement},Vc=(o=pi())=>R.from(o.dom.activeElement).map(Qt),Ns=o=>Vc(nt(o)).filter(a=>o.dom.contains(a.dom)),hm=(o,a)=>{const c=nt(a),u=Vc(c).bind(p=>{const w=k=>Uo(p,k);return w(a)?R.some(a):((k,E)=>{const O=M=>{for(let I=0;I<M.childNodes.length;I++){const H=Qt(M.childNodes[I]);if(E(H))return R.some(H);const K=O(M.childNodes[I]);if(K.isSome())return K}return R.none()};return O(k.dom)})(a,w)}),h=o(a);return u.each(p=>{Vc(c).filter(w=>Uo(w,p)).fold(()=>{_i(p)},ge)}),h},$x=Sl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Vx=(o,a,c,u,h,p)=>{const w=a.rect,k=w.x-c,E=w.y-u,O=h-(k+w.width),M=p-(E+w.height),I=R.some(k),H=R.some(E),K=R.some(O),Y=R.some(M),re=R.none();return a.direction.fold(()=>ka(o,I,H,re,re),()=>ka(o,re,H,K,re),()=>ka(o,I,re,re,Y),()=>ka(o,re,re,K,Y),()=>ka(o,I,H,re,re),()=>ka(o,I,re,re,Y),()=>ka(o,I,H,re,re),()=>ka(o,re,H,K,re))},pb=(o,a)=>o.fold(()=>{const c=a.rect;return ka("absolute",R.some(c.x),R.some(c.y),R.none(),R.none())},(c,u,h,p)=>Vx("absolute",a,c,u,h,p),(c,u,h,p)=>Vx("fixed",a,c,u,h,p)),dd=(o,a)=>{const c=Je(Qu,a),u=o.fold(c,c,()=>{const w=Br();return Qu(a).translate(-w.left,-w.top)}),h=Ii(a),p=Ql(a);return go(u.left,u.top,h,p)},gk=(o,a)=>a.fold(()=>o.fold(_a,_a,go),c=>o.fold(ie(c),ie(c),()=>{const u=bb(o,c.x,c.y);return go(u.left,u.top,c.width,c.height)})),bb=(o,a,c)=>{const u=Ir(a,c);return o.fold(ie(u),ie(u),()=>{const h=Br();return u.translate(-h.left,-h.top)})};$x.none;const pm=$x.relative,Vw=$x.fixed,vb="data-alloy-placement",xb=o=>No(o,vb),y1=Sl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Nh=(o,a,c,u)=>{const h=o.bubble,p=h.offset,w=((fe,be,we)=>{const Fe=(Bt,sn)=>be[Bt].map(hn=>{const Rn=Bt==="top"||Bt==="bottom",qn=Rn?we.top:we.left,Co=(Bt==="left"||Bt==="top"?Math.max:Math.min)(hn,sn)+qn;return Rn?uc(Co,fe.y,fe.bottom):uc(Co,fe.x,fe.right)}).getOr(sn),qe=Fe("left",fe.x),wt=Fe("top",fe.y),ht=Fe("right",fe.right),ft=Fe("bottom",fe.bottom);return go(qe,wt,ht-qe,ft-wt)})(u,o.restriction,p),k=o.x+p.left,E=o.y+p.top,O=go(k,E,a,c),{originInBounds:M,sizeInBounds:I,visibleW:H,visibleH:K}=((fe,be)=>{const{x:we,y:Fe,right:qe,bottom:wt}=be,{x:ht,y:ft,right:Bt,bottom:sn,width:hn,height:Rn}=fe;return{originInBounds:ht>=we&&ht<=qe&&ft>=Fe&&ft<=wt,sizeInBounds:Bt<=qe&&Bt>=we&&sn<=wt&&sn>=Fe,visibleW:Math.min(hn,ht>=we?qe-ht:Bt-we),visibleH:Math.min(Rn,ft>=Fe?wt-ft:sn-Fe)}})(O,w),Y=M&&I,re=Y?O:((fe,be)=>{const{x:we,y:Fe,right:qe,bottom:wt}=be,{x:ht,y:ft,width:Bt,height:sn}=fe,hn=Math.max(we,qe-Bt),Rn=Math.max(Fe,wt-sn),qn=uc(ht,we,hn),Co=uc(ft,Fe,Rn),Lr=Math.min(qn+Bt,qe)-qn,Kr=Math.min(Co+sn,wt)-Co;return go(qn,Co,Lr,Kr)})(O,w),ce=re.width>0&&re.height>0,{maxWidth:pe,maxHeight:ae}=((fe,be,we)=>{const Fe=ie(be.bottom-we.y),qe=ie(we.bottom-be.y),wt=((sn,hn,Rn,qn)=>sn.fold(hn,hn,qn,qn,hn,qn,Rn,Rn))(fe,qe,qe,Fe),ht=ie(be.right-we.x),ft=ie(we.right-be.x);return{maxWidth:((sn,hn,Rn,qn)=>sn.fold(hn,qn,hn,qn,Rn,Rn,hn,qn))(fe,ft,ft,ht),maxHeight:wt}})(o.direction,re,u),se={rect:re,maxHeight:ae,maxWidth:pe,direction:o.direction,placement:o.placement,classes:{on:h.classesOn,off:h.classesOff},layout:o.label,testY:E};return Y||o.alwaysFit?y1.fit(se):y1.nofit(se,H,K,ce)},w1=Ne,Ci=(o,a,c)=>((u,h,p,w)=>ug(u,h,p,w,!1))(o,a,w1,c),Ux=(o,a,c)=>((u,h,p,w)=>ug(u,h,p,w,!0))(o,a,w1,c),fd=Ji,yb=["top","bottom","right","left"],_u="data-alloy-transition-timer",wb=(o,a,c,u,h,p)=>{const w=((k,E,O)=>O.exists(M=>{const I=k.mode;return I==="all"||M[I]!==E[I]}))(u,h,p);if(w||((k,E)=>((O,M)=>ei(M,I=>Li(O,I)))(k,E.classes))(o,u)){Xn(o,"position",c.position);const k=dd(a,o),E=pb(a,{...h,rect:k}),O=ve(yb,M=>E[M]);((M,I)=>{const H=K=>parseFloat(K).toFixed(3);return ar(I,(K,Y)=>!((re,ce,pe=oe)=>Ht(re,ce,pe).getOr(re.isNone()&&ce.isNone()))(M[Y].map(H),K.map(H))).isSome()})(c,O)&&(Yi(o,O),w&&((M,I)=>{Ds(M,I.classes),No(M,_u).each(H=>{clearTimeout(parseInt(H,10)),co(M,_u)}),((H,K)=>{const Y=tc(),re=tc();let ce;const pe=be=>{var we;const Fe=(we=be.raw.pseudoElement)!==null&&we!==void 0?we:"";return Uo(be.target,H)&&ru(Fe)&&ot(yb,be.raw.propertyName)},ae=be=>{if(W(be)||pe(be)){Y.clear(),re.clear();const we=be==null?void 0:be.raw.type;(W(we)||we===Kp())&&(clearTimeout(ce),co(H,_u),Ll(H,K.classes))}},se=Ci(H,G0(),be=>{pe(be)&&(se.unbind(),Y.set(Ci(H,Kp(),ae)),re.set(Ci(H,Aw(),ae)))}),fe=(be=>{const we=ht=>{const ft=ns(be,ht).split(/\s*,\s*/);return bo(ft,qi)},Fe=ht=>{if(b(ht)&&/^[\d.]+/.test(ht)){const ft=parseFloat(ht);return ou(ht,"ms")?ft:1e3*ft}return 0},qe=we("transition-delay"),wt=we("transition-duration");return Mn(wt,(ht,ft,Bt)=>{const sn=Fe(qe[Bt])+Fe(ft);return Math.max(ht,sn)},0)})(H);requestAnimationFrame(()=>{ce=setTimeout(ae,fe+17),Xt(H,_u,ce)})})(M,I)})(o,u),iu(o))}else Ll(o,u.classes)},_b=(o,a)=>{((c,u)=>{const h=fh.max(c,u,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Xn(c,"max-height",h+"px")})(o,Math.floor(a))},bm=ie((o,a)=>{_b(o,a),Ni(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Bg=ie((o,a)=>{_b(o,a)}),mc=(o,a,c)=>o[a]===void 0?c:o[a],Cb=(o,a,c,u)=>{const h=((p,w,k,E)=>{Jo(w,"max-height"),Jo(w,"max-width");const O={width:Ii(M=w),height:Ql(M)};var M;return((I,H,K,Y,re,ce)=>{const pe=Y.width,ae=Y.height,se=(fe,be,we,Fe,qe)=>{const wt=fe(K,Y,re,I,ce),ht=Nh(wt,pe,ae,ce);return ht.fold(ie(ht),(ft,Bt,sn,hn)=>(qe===hn?sn>Fe||Bt>we:!qe&&hn)?ht:y1.nofit(be,we,Fe,qe))};return Mn(H,(fe,be)=>{const we=Je(se,be);return fe.fold(ie(fe),we)},y1.nofit({rect:K,maxHeight:Y.height,maxWidth:Y.width,direction:db(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:K.y},-1,-1,!1)).fold(Me,Me)})(w,E.preference,p,O,k,E.bounds)})(o,a,c,u);return((p,w,k)=>{const E=pb(k.origin,w);k.transition.each(O=>{wb(p,k.origin,E,O,w,k.lastPlacement)}),eb(p,E)})(a,h,u),((p,w)=>{((k,E)=>{Xt(k,vb,E)})(p,w.placement)})(a,h),((p,w)=>{const k=w.classes;Ll(p,k.off),Ds(p,k.on)})(a,h),((p,w,k)=>{(0,k.maxHeightFunction)(p,w.maxHeight)})(a,h,u),((p,w,k)=>{(0,k.maxWidthFunction)(p,w.maxWidth)})(a,h,u),{layout:h.layout,placement:h.placement}},hk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Fl=(o,a,c,u=1)=>{const h=o*u,p=a*u,w=E=>ln(c,E).getOr([]),k=(E,O,M)=>{const I=le(hk,M);return{offset:Ir(E,O),classesOn:jo(M,w),classesOff:jo(I,w)}};return{southeast:()=>k(-o,a,["top","alignLeft"]),southwest:()=>k(o,a,["top","alignRight"]),south:()=>k(-o/2,a,["top","alignCentre"]),northeast:()=>k(-o,-a,["bottom","alignLeft"]),northwest:()=>k(o,-a,["bottom","alignRight"]),north:()=>k(-o/2,-a,["bottom","alignCentre"]),east:()=>k(o,-a/2,["valignCentre","left"]),west:()=>k(-o,-a/2,["valignCentre","right"]),insetNortheast:()=>k(h,p,["top","alignLeft","inset"]),insetNorthwest:()=>k(-h,p,["top","alignRight","inset"]),insetNorth:()=>k(-h/2,p,["top","alignCentre","inset"]),insetSoutheast:()=>k(h,-p,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-h,-p,["bottom","alignRight","inset"]),insetSouth:()=>k(-h/2,-p,["bottom","alignCentre","inset"]),insetEast:()=>k(-h,-p/2,["valignCentre","right","inset"]),insetWest:()=>k(h,-p/2,["valignCentre","left","inset"])}},md=()=>Fl(0,0,{}),gc=Me,Wx=(o,a)=>c=>oa(c)==="rtl"?a:o,oa=o=>ns(o,"direction")==="rtl"?"rtl":"ltr";var hc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(hc||(hc={}));const rl="data-alloy-vertical-dir",pk=o=>Bx(o,a=>Vr(a)&&yo(a,"data-alloy-vertical-dir")===hc.BottomToTop),sf=()=>ds("layouts",[kt("onLtr"),kt("onRtl"),Io("onBottomLtr"),Io("onBottomRtl")]),gd=(o,a,c,u,h,p,w)=>{const k=w.map(pk).getOr(!1),E=a.layouts.map(H=>H.onLtr(o)),O=a.layouts.map(H=>H.onRtl(o)),M=k?a.layouts.bind(H=>H.onBottomLtr.map(K=>K(o))).or(E).getOr(h):E.getOr(c),I=k?a.layouts.bind(H=>H.onBottomRtl.map(K=>K(o))).or(O).getOr(p):O.getOr(u);return Wx(M,I)(o)};var Ih=[kt("hotspot"),Io("bubble"),Xe("overrides",{}),sf(),Er("placement",(o,a,c)=>{const u=a.hotspot,h=dd(c,u.element),p=gd(o.element,a,v1(),x1(),Fx(),Ng(),R.some(a.hotspot.element));return R.some(gc({anchorBox:h,bubble:a.bubble.getOr(md()),overrides:a.overrides,layouts:p}))})],vm=[kt("x"),kt("y"),Xe("height",0),Xe("width",0),Xe("bubble",md()),Xe("overrides",{}),sf(),Er("placement",(o,a,c)=>{const u=bb(c,a.x,a.y),h=go(u.left,u.top,a.width,a.height),p=gd(o.element,a,Lx(),mb(),Lx(),mb(),R.none());return R.some(gc({anchorBox:h,bubble:a.bubble,overrides:a.overrides,layouts:p}))})];const kl=Sl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),_1=o=>o.fold(Me,(a,c,u)=>a.translate(-c,-u)),C1=o=>o.fold(Me,Me),Sb=o=>Mn(o,(a,c)=>a.translate(c.left,c.top),Ir(0,0)),S1=o=>{const a=vt(o,C1);return Sb(a)},Uw=kl.screen,kb=kl.absolute,hd=(o,a,c)=>{const u=Vs(o.element),h=Br(u),p=((w,k,E)=>{const O=Ec(E.root).dom;return R.from(O.frameElement).map(Qt).filter(M=>{const I=Vs(M),H=Vs(w.element);return Uo(I,H)}).map(gl)})(o,0,c).getOr(h);return kb(p,h.left,h.top)},Eb=(o,a,c,u)=>{const h=Uw(Ir(o,a));return R.some(((p,w,k)=>({point:p,width:w,height:k}))(h,c,u))},Mg=(o,a,c,u,h)=>o.map(p=>{const w=[a,p.point],k=(E=()=>S1(w),O=()=>S1(w),M=()=>(se=>{const fe=vt(se,_1);return Sb(fe)})(w),u.fold(E,O,M));var E,O,M;const I=(re=k.left,ce=k.top,pe=p.width,ae=p.height,{x:re,y:ce,width:pe,height:ae}),H=c.showAbove?Fx():v1(),K=c.showAbove?Ng():x1(),Y=gd(h,c,H,K,H,K,R.none());var re,ce,pe,ae;return gc({anchorBox:I,bubble:c.bubble.getOr(md()),overrides:c.overrides,layouts:Y})});var Pg=[kt("node"),kt("root"),Io("bubble"),sf(),Xe("overrides",{}),Xe("showAbove",!1),Er("placement",(o,a,c)=>{const u=hd(o,0,a);return a.node.filter(nn).bind(h=>{const p=h.dom.getBoundingClientRect(),w=Eb(p.left,p.top,p.width,p.height),k=a.node.getOr(o.element);return Mg(w,u,a,c,k)})})];const af=(o,a,c,u)=>({start:o,soffset:a,finish:c,foffset:u}),lf=Sl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ab=(lf.before,lf.on,lf.after,o=>o.fold(Me,Me,Me)),cf=Sl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uf={domRange:cf.domRange,relative:cf.relative,exact:cf.exact,exactFromRange:o=>cf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const a=(c=>c.match({domRange:u=>Qt(u.startContainer),relative:(u,h)=>Ab(u),exact:(u,h,p,w)=>u}))(o);return Ec(a)},range:af},df=(o,a,c)=>{const u=o.document.createRange();var h;return h=u,a.fold(p=>{h.setStartBefore(p.dom)},(p,w)=>{h.setStart(p.dom,w)},p=>{h.setStartAfter(p.dom)}),((p,w)=>{w.fold(k=>{p.setEndBefore(k.dom)},(k,E)=>{p.setEnd(k.dom,E)},k=>{p.setEndAfter(k.dom)})})(u,c),u},Lg=(o,a,c,u,h)=>{const p=o.document.createRange();return p.setStart(a.dom,c),p.setEnd(u.dom,h),p},k1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Bh=Sl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),E1=(o,a,c)=>a(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset),Zx=(o,a)=>((c,u)=>{const h=((p,w)=>w.match({domRange:k=>({ltr:ie(k),rtl:R.none}),relative:(k,E)=>({ltr:La(()=>df(p,k,E)),rtl:La(()=>R.some(df(p,E,k)))}),exact:(k,E,O,M)=>({ltr:La(()=>Lg(p,k,E,O,M)),rtl:La(()=>R.some(Lg(p,O,M,k,E)))})}))(c,u);return((p,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>Bh.rtl(Qt(E.endContainer),E.endOffset,Qt(E.startContainer),E.startOffset)).getOrThunk(()=>E1(0,Bh.ltr,k)):E1(0,Bh.ltr,k)})(0,h)})(o,a).match({ltr:(c,u,h,p)=>{const w=o.document.createRange();return w.setStart(c.dom,u),w.setEnd(h.dom,p),w},rtl:(c,u,h,p)=>{const w=o.document.createRange();return w.setStart(h.dom,p),w.setEnd(c.dom,u),w}});Bh.ltr,Bh.rtl;const Mh=(o,a,c)=>bo(((u,h)=>{const p=G(h)?h:Ee;let w=u.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,O=Qt(E);if(k.push(O),p(O)===!0)break;w=E}return k})(o,c),a),ra=(o,a)=>((c,u)=>{const h=u===void 0?document:u.dom;return Md(h)?[]:vt(h.querySelectorAll(c),Qt)})(a,o),jx=o=>{if(o.rangeCount>0){const a=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return R.some(af(Qt(a.startContainer),a.startOffset,Qt(c.endContainer),c.endOffset))}return R.none()},Ww=o=>{if(o.anchorNode===null||o.focusNode===null)return jx(o);{const a=Qt(o.anchorNode),c=Qt(o.focusNode);return((u,h,p,w)=>{const k=((O,M,I,H)=>{const K=Vs(O).dom.createRange();return K.setStart(O.dom,M),K.setEnd(I.dom,H),K})(u,h,p,w),E=Uo(u,p)&&h===w;return k.collapsed&&!E})(a,o.anchorOffset,c,o.focusOffset)?R.some(af(a,o.anchorOffset,c,o.focusOffset)):jx(o)}},Kx=(o,a)=>(c=>{const u=c.getClientRects(),h=u.length>0?u[0]:c.getBoundingClientRect();return h.width>0||h.height>0?R.some(h).map(k1):R.none()})(Zx(o,a)),qx=((o,a)=>{const c=u=>o(u)?R.from(u.dom.nodeValue):R.none();return{get:u=>{if(!o(u))throw new Error("Can only get text value of a text node");return c(u).getOr("")},getOption:c,set:(u,h)=>{if(!o(u))throw new Error("Can only set raw text value of a text node");u.dom.nodeValue=h}}})(ti),ff=(o,a)=>({element:o,offset:a}),A1=(o,a)=>ti(o)?ff(o,a):((c,u)=>{const h=fr(c);if(h.length===0)return ff(c,u);if(u<h.length)return ff(h[u],0);{const p=h[h.length-1],w=ti(p)?(k=>qx.get(k))(p).length:fr(p).length;return ff(p,w)}})(o,a),Tb=o=>o.foffset!==void 0,Gx=(o,a)=>a.getSelection.getOrThunk(()=>()=>(c=>(u=>R.from(u.getSelection()))(c).filter(u=>u.rangeCount>0).bind(Ww))(o))().map(c=>{if(Tb(c)){const u=A1(c.start,c.soffset),h=A1(c.finish,c.foffset);return uf.range(u.element,u.offset,h.element,h.offset)}return c});var bk=[Io("getSelection"),kt("root"),Io("bubble"),sf(),Xe("overrides",{}),Xe("showAbove",!1),Er("placement",(o,a,c)=>{const u=Ec(a.root).dom,h=hd(o,0,a),p=Gx(u,a).bind(k=>{if(Tb(k))return((O,M)=>(I=>{const H=I.getBoundingClientRect();return H.width>0||H.height>0?R.some(H).map(k1):R.none()})(Zx(O,M)))(u,uf.exactFromRange(k)).orThunk(()=>{const O=su("\uFEFF");Ju(k.start,O);const M=Kx(u,uf.exact(O,0,O,1));return wa(O),M}).bind(O=>Eb(O.left,O.top,O.width,O.height));{const E=Cn(k,M=>M.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Eb(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),w=Gx(u,a).bind(k=>Tb(k)?Vr(k.start)?R.some(k.start):oi(k.start):R.some(k.firstCell)).getOr(o.element);return Mg(p,h,a,c,w)})];const mf="link-layout",Ob=o=>o.x+o.width,Zw=(o,a)=>o.x-a.width,jw=(o,a)=>o.y-a.height+o.height,Uc=o=>o.y,Yx=(o,a,c)=>ja(Ob(o),Uc(o),c.southeast(),db(),"southeast",Ka(o,{left:0,top:2}),mf),T1=(o,a,c)=>ja(Zw(o,a),Uc(o),c.southwest(),Og(),"southwest",Ka(o,{right:1,top:2}),mf),Kw=(o,a,c)=>ja(Ob(o),jw(o,a),c.northeast(),fb(),"northeast",Ka(o,{left:0,bottom:3}),mf),Fg=(o,a,c)=>ja(Zw(o,a),jw(o,a),c.northwest(),Dg(),"northwest",Ka(o,{right:1,bottom:3}),mf),Ph=()=>[Yx,T1,Kw,Fg],Db=()=>[T1,Yx,Fg,Kw];var qw=[kt("item"),sf(),Xe("overrides",{}),Er("placement",(o,a,c)=>{const u=dd(c,a.item.element),h=gd(o.element,a,Ph(),Db(),Ph(),Db(),R.none());return R.some(gc({anchorBox:u,bubble:md(),overrides:a.overrides,layouts:h}))})],Wc=Gs("type",{selection:bk,node:Pg,hotspot:Ih,submenu:qw,makeshift:vm});const xm=[Pi("classes",na),oc("mode","all",["all","layout","placement"])],Rb=[Xe("useFixed",Ee),Io("getBounds")],Nb=[Sa("anchor",Wc),ds("transition",xm)],O1=(o,a,c,u,h,p)=>{const w=si("placement.info",Bn(Nb),h),k=w.anchor,E=u.element,O=c.get(u.uid);hm(()=>{Xn(E,"position","fixed");const M=Ss(E,"visibility");Xn(E,"visibility","hidden");const I=a.useFixed()?(()=>{const H=document.documentElement;return Vw(0,0,H.clientWidth,H.clientHeight)})():(H=>{const K=gl(H.element),Y=H.element.dom.getBoundingClientRect();return pm(K.left,K.top,Y.width,Y.height)})(o);k.placement(o,k,I).each(H=>{const K=p.orThunk(()=>a.getBounds.map(mt)),Y=((re,ce,pe,ae,se,fe)=>((be,we,Fe,qe,wt,ht,ft,Bt)=>{const sn=mc(ft,"maxHeightFunction",bm()),hn=mc(ft,"maxWidthFunction",ge),Rn=be.anchorBox,qn=be.origin,Co={bounds:gk(qn,ht),origin:qn,preference:qe,maxHeightFunction:sn,maxWidthFunction:hn,lastPlacement:wt,transition:Bt};return Cb(Rn,we,Fe,Co)})(((be,we)=>((Fe,qe)=>({anchorBox:Fe,origin:qe}))(be,we))(ce.anchorBox,re),ae.element,ce.bubble,ce.layouts,se,pe,ce.overrides,fe))(I,H,K,u,O,w.transition);c.set(u.uid,Y)}),M.fold(()=>{Jo(E,"visibility")},H=>{Xn(E,"visibility",H)}),Ss(E,"left").isNone()&&Ss(E,"top").isNone()&&Ss(E,"right").isNone()&&Ss(E,"bottom").isNone()&&zr(Ss(E,"position"),"fixed")&&Jo(E,"position")},E)};var Ib=Object.freeze({__proto__:null,position:(o,a,c,u,h)=>{const p=R.none();O1(o,a,c,u,h,p)},positionWithinBounds:O1,getMode:(o,a,c)=>a.useFixed()?"fixed":"absolute",reset:(o,a,c,u)=>{const h=u.element;jt(["position","left","right","top","bottom"],p=>Jo(h,p)),(p=>{co(p,vb)})(h),c.clear(u.uid)}});const qa=ma({fields:Rb,name:"positioning",active:Hx,apis:Ib,state:Object.freeze({__proto__:null,init:()=>{let o={};return fa({readState:()=>o,clear:a=>{U(a)?delete o[a]:o={}},set:(a,c)=>{o[a]=c},get:a=>ln(o,a)})}})}),D1=o=>o.getSystem().isConnected(),ym=o=>{fo(o,sc());const a=o.components();jt(a,ym)},wm=o=>{const a=o.components();jt(a,wm),fo(o,Wa())},Bb=(o,a)=>{o.getSystem().addToWorld(a),nn(o.element)&&wm(a)},R1=o=>{ym(o),o.getSystem().removeFromWorld(o)},zg=(o,a)=>{hi(o.element,a.element)},gf=(o,a)=>{Xx(o,a,hi)},Xx=(o,a,c)=>{o.getSystem().addToWorld(a),c(o.element,a.element),nn(o.element)&&wm(a),o.syncComponents()},N1=o=>{ym(o),wa(o.element),o.getSystem().removeFromWorld(o)},Hi=o=>{const a=ni(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());N1(o),a.each(c=>{c.syncComponents()})},hf=o=>{const a=o.components();jt(a,N1),Wr(o.element),o.syncComponents()},Jx=(o,a)=>{Lh(o,a,hi)},dt=(o,a)=>{Lh(o,a,dg)},Lh=(o,a,c)=>{c(o,a.element);const u=fr(a.element);jt(u,h=>{a.getByDom(h).each(wm)})},vk=o=>{const a=fr(o.element);jt(a,c=>{o.getByDom(c).each(ym)}),wa(o.element)},Gw=(o,a,c,u)=>{c.get().each(w=>{hf(o)});const h=a.getAttachPoint(o);gf(h,o);const p=o.getSystem().build(u);return gf(o,p),c.set(p),p},I1=(o,a,c,u)=>{const h=Gw(o,a,c,u);return a.onOpen(o,h),h},Zc=(o,a,c)=>{c.get().each(u=>{hf(o),Hi(o),a.onClose(o,u),c.clear()})},B1=(o,a,c)=>c.isOpen(),Mb=(o,a,c)=>{const u=a.getAttachPoint(o);Xn(o.element,"position",qa.getMode(u)),((h,p,w,k)=>{Ss(h.element,p).fold(()=>{co(h.element,w)},E=>{Xt(h.element,w,E)}),Xn(h.element,p,"hidden")})(o,"visibility",a.cloakVisibilityAttr)},Qx=(o,a,c)=>{(u=>Vn(["top","left","right","bottom"],h=>Ss(u,h).isSome()))(o.element)||Jo(o.element,"position"),((u,h,p)=>{No(u.element,p).fold(()=>Jo(u.element,h),w=>Xn(u.element,h,w))})(o,"visibility",a.cloakVisibilityAttr)};var ey=Object.freeze({__proto__:null,cloak:Mb,decloak:Qx,open:I1,openWhileCloaked:(o,a,c,u,h)=>{Mb(o,a),I1(o,a,c,u),h(),Qx(o,a)},close:Zc,isOpen:B1,isPartOf:(o,a,c,u)=>B1(0,0,c)&&c.get().exists(h=>a.isPartOf(o,h,u)),getState:(o,a,c)=>c.get(),setContent:(o,a,c,u)=>c.get().map(()=>Gw(o,a,c,u))}),xk=Object.freeze({__proto__:null,events:(o,a)=>Qn([pt(Gp(),(c,u)=>{Zc(c,o,a)})])}),v=[Lo("onOpen"),Lo("onClose"),kt("isPartOf"),kt("getAttachPoint"),Xe("cloakVisibilityAttr","data-precloak-visibility")],C=Object.freeze({__proto__:null,init:()=>{const o=rr(),a=ie("not-implemented");return fa({readState:a,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=ma({fields:v,name:"sandboxing",active:xk,apis:ey,state:C}),B=ie("dismiss.popups"),$=ie("reposition.popups"),V=ie("mouse.released"),Q=ta([Xe("isExtraPart",Ee),ds("fireEventInstead",[Xe("event",bg())])]),ne=o=>{const a=si("Dismissal",Q,o);return{[B()]:{schema:ta([kt("target")]),onReceive:(c,u)=>{T.isOpen(c)&&(T.isPartOf(c,u.target)||a.isExtraPart(c,u.target)||a.fireEventInstead.fold(()=>T.close(c),h=>fo(c,h.event)))}}}},he=ta([ds("fireEventInstead",[Xe("event",Yd())]),xi("doReposition")]),Ae=o=>{const a=si("Reposition",he,o);return{[$()]:{onReceive:c=>{T.isOpen(c)&&a.fireEventInstead.fold(()=>a.doReposition(c),u=>fo(c,u.event))}}}},$e=(o,a,c)=>{a.store.manager.onLoad(o,a,c)},Se=(o,a,c)=>{a.store.manager.onUnload(o,a,c)};var De=Object.freeze({__proto__:null,onLoad:$e,onUnload:Se,setValue:(o,a,c,u)=>{a.store.manager.setValue(o,a,c,u)},getValue:(o,a,c)=>a.store.manager.getValue(o,a,c),getState:(o,a,c)=>c}),Pe=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.resetOnDom?[Hr((u,h)=>{$e(u,o,a)}),xu((u,h)=>{Se(u,o,a)})]:[Xp(o,a,$e)];return Qn(c)}});const Ge=()=>{const o=An(null);return fa({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},Qe=()=>{const o=An({}),a=An({});return fa({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:a.get()}),lookup:c=>ln(o.get(),c).orThunk(()=>ln(a.get(),c)),update:c=>{const u=o.get(),h=a.get(),p={},w={};jt(c,k=>{p[k.value]=k,ln(k,"meta").each(E=>{ln(E,"text").each(O=>{w[O]=k})})}),o.set({...u,...p}),a.set({...h,...w})},clear:()=>{o.set({}),a.set({})}})};var St=Object.freeze({__proto__:null,memory:Ge,dataset:Qe,manual:()=>fa({readState:ge}),init:o=>o.store.manager.state(o)});const At=(o,a,c,u)=>{const h=a.store;c.update([u]),h.setValue(o,u),a.onSetValue(o,u)};var Ct=[Io("initialValue"),kt("getFallbackEntry"),kt("getDataKey"),kt("setValue"),Er("manager",{setValue:At,getValue:(o,a,c)=>{const u=a.store,h=u.getDataKey(o);return c.lookup(h).getOrThunk(()=>u.getFallbackEntry(h))},onLoad:(o,a,c)=>{a.store.initialValue.each(u=>{At(o,a,c,u)})},onUnload:(o,a,c)=>{c.clear()},state:Qe})],Dt=[kt("getValue"),Xe("setValue",ge),Io("initialValue"),Er("manager",{setValue:(o,a,c,u)=>{a.store.setValue(o,u),a.onSetValue(o,u)},getValue:(o,a,c)=>a.store.getValue(o),onLoad:(o,a,c)=>{a.store.initialValue.each(u=>{a.store.setValue(o,u)})},onUnload:ge,state:lc.init})],Vt=[Io("initialValue"),Er("manager",{setValue:(o,a,c,u)=>{c.set(u),a.onSetValue(o,u)},getValue:(o,a,c)=>c.get(),onLoad:(o,a,c)=>{a.store.initialValue.each(u=>{c.isNotSet()&&c.set(u)})},onUnload:(o,a,c)=>{c.clear()},state:Ge})],Kt=[yi("store",{mode:"memory"},Gs("mode",{memory:Vt,manual:Dt,dataset:Ct})),Lo("onSetValue"),Xe("resetOnDom",!1)];const tt=ma({fields:Kt,name:"representing",active:Pe,apis:De,extra:{setValueFrom:(o,a)=>{const c=tt.getValue(a);tt.setValue(o,c)}},state:St}),fn=(o,a)=>wi(o,{},vt(a,c=>{return u=c.name(),h="Cannot configure "+c.name()+" for "+o,Ws(u,u,{tag:"option",process:{}},uu(p=>Bi("The field: "+u+" is forbidden. "+h)));var u,h}).concat([Ca("dump",Me)])),Hn=o=>o.dump,io=(o,a)=>({...Lt(a),...o.dump}),jn=fn,$n=io,ao="placeholder",Bo=Sl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),zs=o=>mo(o,"uiType"),ii=(o,a,c,u)=>((h,p,w,k)=>zs(w)&&w.uiType===ao?((E,O,M,I)=>E.exists(H=>H!==M.owner)?Bo.single(!0,ie(M)):ln(I,M.name).fold(()=>{throw new Error("Unknown placeholder component: "+M.name+`
Known: [`+on(I)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(M,null,2))},H=>H.replace()))(h,0,w,k):Bo.single(!1,ie(w)))(o,0,c,u).fold((h,p)=>{const w=zs(c)?p(a,c.config,c.validated):p(a),k=ln(w,"components").getOr([]),E=jo(k,O=>ii(o,a,O,u));return[{...w,components:E}]},(h,p)=>{if(zs(c)){const w=p(a,c.config,c.validated);return c.validated.preprocess.getOr(Me)(w)}return p(a)}),Aa=Bo.single,zl=Bo.multiple,_m=ie(ao),li=Sl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Cu=Xe("factory",{sketch:Me}),Fh=Xe("schema",[]),pf=kt("name"),zh=Ws("pname","pname",mg(o=>"<alloy."+dn(o.name)+">"),pl()),M1=Ca("schema",()=>[Io("preprocess")]),bf=Xe("defaults",ie({})),Yw=Xe("overrides",ie({})),wM=Bn([Cu,Fh,pf,zh,bf,Yw]),_M=Bn([Cu,Fh,pf,bf,Yw]),iO=Bn([Cu,Fh,pf,zh,bf,Yw]),mn=Bn([Cu,M1,pf,kt("unit"),zh,bf,Yw]),ty=o=>o.fold(R.some,R.none,R.some,R.some),yk=o=>{const a=c=>c.name;return o.fold(a,a,a,a)},Xw=(o,a)=>c=>{const u=si("Converting part type",a,c);return o(u)},sl=Xw(li.required,wM),pd=Xw(li.external,_M),jc=Xw(li.optional,iO),Jw=Xw(li.group,mn),wk=ie("entirety");var lO=Object.freeze({__proto__:null,required:sl,external:pd,optional:jc,group:Jw,asNamedPart:ty,name:yk,asCommon:o=>o.fold(Me,Me,Me,Me),original:wk});const _k=(o,a,c,u)=>mr(a.defaults(o,c,u),c,{uid:o.partUids[a.name]},a.overrides(o,c,u)),$i=(o,a)=>{const c={};return jt(a,u=>{ty(u).each(h=>{const p=ny(o,h.pname);c[h.name]=w=>{const k=si("Part: "+h.name+" in "+o,Bn(h.schema),w);return{...p,config:w,validated:k}}})}),c},ny=(o,a)=>({uiType:_m(),owner:o,name:a}),Ck=(o,a,c)=>({uiType:_m(),owner:o,name:a,config:c,validated:{}}),cO=o=>jo(o,a=>a.fold(R.none,R.some,R.none,R.none).map(c=>nc(c.name,c.schema.concat([lb(wk())]))).toArray()),uO=o=>vt(o,yk),Sk=(o,a,c)=>((u,h,p)=>{const w={},k={};return jt(p,E=>{E.fold(O=>{w[O.pname]=Aa(!0,(M,I,H)=>O.factory.sketch(_k(M,O,I,H)))},O=>{const M=h.parts[O.name];k[O.name]=ie(O.factory.sketch(_k(h,O,M[wk()]),M))},O=>{w[O.pname]=Aa(!1,(M,I,H)=>O.factory.sketch(_k(M,O,I,H)))},O=>{w[O.pname]=zl(!0,(M,I,H)=>{const K=M[O.name];return vt(K,Y=>O.factory.sketch(mr(O.defaults(M,Y,H),Y,O.overrides(M,Y))))})})}),{internals:ie(w),externals:ie(k)}})(0,a,c),kk=(o,a,c)=>((u,h,p,w)=>{const k=Cn(w,(O,M)=>((I,H)=>{let K=!1;return{name:ie(I),required:()=>H.fold((Y,re)=>Y,(Y,re)=>Y),used:()=>K,replace:()=>{if(K)throw new Error("Trying to use the same placeholder more than once: "+I);return K=!0,H}}})(M,O)),E=((O,M,I,H)=>jo(I,K=>ii(O,M,K,H)))(u,h,p,k);return xn(k,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+u.getOr("none")+`
Components: `+JSON.stringify(h.components,null,2))}),E})(R.some(o),a,a.components,c),Tr=(o,a,c)=>{const u=a.partUids[c];return o.getSystem().getByUid(u).toOptional()},Hg=(o,a,c)=>Tr(o,a,c).getOrDie("Could not find part: "+c),dO=(o,a,c)=>{const u={},h=a.partUids,p=o.getSystem();return jt(c,w=>{u[w]=ie(p.getByUid(h[w]))}),u},Ek=(o,a)=>{const c=o.getSystem();return Cn(a.partUids,(u,h)=>ie(c.getByUid(u)))},fO=o=>on(o.partUids),Ak=(o,a,c)=>{const u={},h=a.partUids,p=o.getSystem();return jt(c,w=>{u[w]=ie(p.getByUid(h[w]).getOrDie())}),u},mO=(o,a)=>{const c=uO(a);return rd(vt(c,u=>({key:u,value:o+"-"+u})))},Tk=o=>Ws("partUids","partUids",Po(a=>mO(a.uid,o)),pl());var CM=Object.freeze({__proto__:null,generate:$i,generateOne:Ck,schemas:cO,names:uO,substitutes:Sk,components:kk,defaultUids:mO,defaultUidsSchema:Tk,getAllParts:Ek,getAllPartNames:fO,getPart:Tr,getPartOrDie:Hg,getParts:dO,getPartsOrDie:Ak});const gO=(o,a,c,u,h)=>{const p=((w,k)=>(w.length>0?[nc("parts",w)]:[]).concat([kt("uid"),Xe("dom",{}),Xe("components",[]),lb("originalSpec"),Xe("debug.sketcher",{})]).concat(k))(u,h);return si(o+" [SpecSchema]",ta(p.concat(a)),c)},oy=(o,a,c,u,h)=>{const p=Ok(h),w=cO(c),k=Tk(c),E=gO(o,a,p,w,[k]),O=Sk(0,E,c);return u(E,kk(o,E,O.internals()),p,O.externals())},Ok=o=>(a=>mo(a,"uid"))(o)?o:{...o,uid:dc("uid")},SM=ta([kt("name"),kt("factory"),kt("configFields"),Xe("apis",{}),Xe("extraApis",{})]),hO=ta([kt("name"),kt("factory"),kt("configFields"),kt("partFields"),Xe("apis",{}),Xe("extraApis",{})]),Kc=o=>{const a=si("Sketcher for "+o.name,SM,o),c=Cn(a.apis,u1),u=Cn(a.extraApis,(h,p)=>Pl(h,p));return{name:a.name,configFields:a.configFields,sketch:h=>((p,w,k,E)=>{const O=Ok(E);return k(gO(p,w,O,[],[]),O)})(a.name,a.configFields,a.factory,h),...c,...u}},bl=o=>{const a=si("Sketcher for "+o.name,hO,o),c=$i(a.name,a.partFields),u=Cn(a.apis,u1),h=Cn(a.extraApis,(p,w)=>Pl(p,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:p=>oy(a.name,a.configFields,a.partFields,a.factory,p),parts:c,...u,...h}},P1=o=>Sc("input")(o)&&yo(o,"type")!=="radio"||Sc("textarea")(o);var pO=Object.freeze({__proto__:null,getCurrent:(o,a,c)=>a.find(o)});const kM=[kt("find")],Ho=ma({fields:kM,name:"composing",apis:pO}),bO=["input","button","textarea","select"],vO=(o,a,c)=>{(a.disabled()?ry:Rk)(o,a)},Dk=(o,a)=>a.useNative===!0&&ot(bO,Di(o.element)),xO=o=>{Xt(o.element,"disabled","disabled")},EM=o=>{co(o.element,"disabled")},L1=o=>{Xt(o.element,"aria-disabled","true")},AM=o=>{Xt(o.element,"aria-disabled","false")},ry=(o,a,c)=>{a.disableClass.each(u=>{as(o.element,u)}),(Dk(o,a)?xO:L1)(o),a.onDisabled(o)},Rk=(o,a,c)=>{a.disableClass.each(u=>{ms(o.element,u)}),(Dk(o,a)?EM:AM)(o),a.onEnabled(o)},F1=(o,a)=>Dk(o,a)?(c=>cs(c.element,"disabled"))(o):(c=>yo(c.element,"aria-disabled")==="true")(o);var TM=Object.freeze({__proto__:null,enable:Rk,disable:ry,isDisabled:F1,onLoad:vO,set:(o,a,c,u)=>{(u?ry:Rk)(o,a)}}),OM=Object.freeze({__proto__:null,exhibit:(o,a)=>Os({classes:a.disabled()?a.disableClass.toArray():[]}),events:(o,a)=>Qn([_h(el(),(c,u)=>F1(c,o)),Xp(o,a,vO)])}),DM=[Mr("disabled",Ee),Xe("useNative",!0),Io("disableClass"),Lo("onDisabled"),Lo("onEnabled")];const Kn=ma({fields:DM,name:"disabling",active:OM,apis:TM}),yO=(o,a,c,u)=>{const h=ra(o.element,"."+a.highlightClass);jt(h,p=>{Vn(u,w=>Uo(w.element,p))||(ms(p,a.highlightClass),o.getSystem().getByDom(p).each(w=>{a.onDehighlight(o,w),fo(w,Xd())}))})},Pb=(o,a,c,u)=>{yO(o,a,0,[u]),Nk(o,a,c,u)||(as(u.element,a.highlightClass),a.onHighlight(o,u),fo(u,fx()))},Nk=(o,a,c,u)=>Li(u.element,a.highlightClass),wO=(o,a,c)=>jr(o.element,"."+a.itemClass).bind(u=>o.getSystem().getByDom(u).toOptional()),_O=(o,a,c)=>{const u=ra(o.element,"."+a.itemClass);return(u.length>0?R.some(u[u.length-1]):R.none()).bind(h=>o.getSystem().getByDom(h).toOptional())},CO=(o,a,c,u)=>{const h=ra(o.element,"."+a.itemClass);return nr(h,p=>Li(p,a.highlightClass)).bind(p=>{const w=cm(p,u,0,h.length-1);return o.getSystem().getByDom(h[w]).toOptional()})},SO=(o,a,c)=>{const u=ra(o.element,"."+a.itemClass);return Ba(vt(u,h=>o.getSystem().getByDom(h).toOptional()))};var RM=Object.freeze({__proto__:null,dehighlightAll:(o,a,c)=>yO(o,a,0,[]),dehighlight:(o,a,c,u)=>{Nk(o,a,c,u)&&(ms(u.element,a.highlightClass),a.onDehighlight(o,u),fo(u,Xd()))},highlight:Pb,highlightFirst:(o,a,c)=>{wO(o,a).each(u=>{Pb(o,a,c,u)})},highlightLast:(o,a,c)=>{_O(o,a).each(u=>{Pb(o,a,c,u)})},highlightAt:(o,a,c,u)=>{((h,p,w,k)=>{const E=ra(h.element,"."+p.itemClass);return R.from(E[k]).fold(()=>_o.error(new Error("No element found with index "+k)),h.getSystem().getByDom)})(o,a,0,u).fold(h=>{throw h},h=>{Pb(o,a,c,h)})},highlightBy:(o,a,c,u)=>{const h=SO(o,a);J(h,u).each(p=>{Pb(o,a,c,p)})},isHighlighted:Nk,getHighlighted:(o,a,c)=>jr(o.element,"."+a.highlightClass).bind(u=>o.getSystem().getByDom(u).toOptional()),getFirst:wO,getLast:_O,getPrevious:(o,a,c)=>CO(o,a,0,-1),getNext:(o,a,c)=>CO(o,a,0,1),getCandidates:SO}),kO=[kt("highlightClass"),kt("itemClass"),Lo("onHighlight"),Lo("onDehighlight")];const er=ma({fields:kO,name:"highlighting",apis:RM}),EO=[8],bd=[9],Cm=[13],Qw=[27],pc=[32],e_=[37],z1=[38],sy=[39],H1=[40],NM=(o,a,c)=>{const u=Ze(o.slice(0,a)),h=Ze(o.slice(a+1));return J(u.concat(h),c)},IM=(o,a,c)=>{const u=Ze(o.slice(0,a));return J(u,c)},BM=(o,a,c)=>{const u=o.slice(0,a),h=o.slice(a+1);return J(h.concat(u),c)},MM=(o,a,c)=>{const u=o.slice(a+1);return J(u,c)},Wo=o=>a=>{const c=a.raw;return ot(o,c.which)},vf=o=>a=>ei(o,c=>c(a)),Sm=o=>o.raw.shiftKey===!0,PM=o=>o.raw.ctrlKey===!0,ay=Ve(Sm),Ko=(o,a)=>({matches:o,classification:a}),AO=(o,a,c)=>{a.exists(u=>c.exists(h=>Uo(h,u)))||wn(o,Y0(),{prevFocus:a,newFocus:c})},Ik=()=>{const o=a=>Ns(a.element);return{get:o,set:(a,c)=>{const u=o(a);a.getSystem().triggerFocus(c,a.element);const h=o(a);AO(a,u,h)}}},LM=()=>{const o=a=>er.getHighlighted(a).map(c=>c.element);return{get:o,set:(a,c)=>{const u=o(a);a.getSystem().getByDom(c).fold(ge,p=>{er.highlight(a,p)});const h=o(a);AO(a,u,h)}}};var Lb;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(Lb||(Lb={}));const Fb=(o,a,c,u,h)=>{const p=(k,E,O,M,I)=>{return(H=O(k,E,M,I),K=E.event,J(H,Y=>Y.matches(K)).map(Y=>Y.classification)).bind(Y=>Y(k,E,M,I));var H,K},w={schema:()=>o.concat([Xe("focusManager",Ik()),yi("focusInside","onFocus",Zd(k=>ot(["onFocus","onEnterOrSpace","onApi"],k)?_o.value(k):_o.error("Invalid value for focusInside"))),Er("handler",w),Er("state",a),Er("sendFocusIn",h)]),processKey:p,toEvents:(k,E)=>{const O=k.focusInside!==Lb.OnFocusMode?R.none():h(k).map(I=>pt(vu(),(H,K)=>{I(H,k,E),K.stop()})),M=[pt(ss(),(I,H)=>{p(I,H,c,k,E).fold(()=>{((K,Y)=>{const re=Wo(pc.concat(Cm))(Y.event);k.focusInside===Lb.OnEnterOrSpaceMode&&re&&Zp(K,Y)&&h(k).each(ce=>{ce(K,k,E),Y.stop()})})(I,H)},K=>{H.stop()})}),pt(rc(),(I,H)=>{p(I,H,u,k,E).each(K=>{H.stop()})})];return Qn(O.toArray().concat(M))}};return w},TO=o=>{const a=[Io("onEscape"),Io("onEnter"),Xe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Xe("firstTabstop",0),Xe("useTabstopAt",Ne),Io("visibilitySelector")].concat([o]),c=(M,I)=>{const H=M.visibilitySelector.bind(K=>wu(I,K)).getOr(I);return us(H)>0},u=(M,I)=>I.focusManager.get(M).bind(H=>wu(H,I.selector)),h=(M,I,H)=>{((K,Y)=>{const re=ra(K.element,Y.selector),ce=bo(re,pe=>c(Y,pe));return R.from(ce[Y.firstTabstop])})(M,I).each(K=>{I.focusManager.set(M,K)})},p=(M,I,H,K)=>{const Y=ra(M.element,H.selector);return u(M,H).bind(re=>nr(Y,Je(Uo,re)).bind(ce=>((pe,ae,se,fe,be)=>be(ae,se,we=>((Fe,qe)=>c(Fe,qe)&&Fe.useTabstopAt(qe))(fe,we)).fold(()=>fe.cyclic?R.some(!0):R.none(),we=>(fe.focusManager.set(pe,we),R.some(!0))))(M,Y,ce,H,K)))},w=(M,I,H)=>{const K=H.cyclic?NM:IM;return p(M,0,H,K)},k=(M,I,H)=>{const K=H.cyclic?BM:MM;return p(M,0,H,K)},E=ie([Ko(vf([Sm,Wo(bd)]),w),Ko(Wo(bd),k),Ko(vf([ay,Wo(Cm)]),(M,I,H)=>H.onEnter.bind(K=>K(M,I)))]),O=ie([Ko(Wo(Qw),(M,I,H)=>H.onEscape.bind(K=>K(M,I))),Ko(Wo(bd),(M,I,H)=>u(M,H).filter(K=>!H.useTabstopAt(K)).bind(K=>((Y=>(re=>ni(re))(Y).bind(_e).exists(re=>Uo(re,Y)))(K)?w:k)(M,I,H)))]);return Fb(a,lc.init,E,O,()=>R.some(h))};var FM=TO(Ca("cyclic",Ee)),zM=TO(Ca("cyclic",Ne));const iy=(o,a,c)=>P1(c)&&Wo(pc)(a.event)?R.none():((u,h,p)=>(Xr(u,p,el()),R.some(!0)))(o,0,c),zb=(o,a)=>R.some(!0),HM=[Xe("execute",iy),Xe("useSpace",!1),Xe("useEnter",!0),Xe("useControlEnter",!1),Xe("useDown",!1)],OO=(o,a,c)=>c.execute(o,a,o.element);var $M=Fb(HM,lc.init,(o,a,c,u)=>{const h=c.useSpace&&!P1(o.element)?pc:[],p=c.useEnter?Cm:[],w=c.useDown?H1:[],k=h.concat(p).concat(w);return[Ko(Wo(k),OO)].concat(c.useControlEnter?[Ko(vf([PM,Wo(Cm)]),OO)]:[])},(o,a,c,u)=>c.useSpace&&!P1(o.element)?[Ko(Wo(pc),zb)]:[],()=>R.none());const DO=()=>{const o=rr();return fa({readState:()=>o.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,c)=>{o.set({numRows:a,numColumns:c})},getNumRows:()=>o.get().map(a=>a.numRows),getNumColumns:()=>o.get().map(a=>a.numColumns)})};var RO=Object.freeze({__proto__:null,flatgrid:DO,init:o=>o.state(o)});const NO=o=>(a,c,u,h)=>{const p=o(a.element);return IO(p,a,c,u,h)},Bk=(o,a)=>{const c=Wx(o,a);return NO(c)},Mk=(o,a)=>{const c=Wx(a,o);return NO(c)},Pk=o=>(a,c,u,h)=>IO(o,a,c,u,h),IO=(o,a,c,u,h)=>u.focusManager.get(a).bind(p=>o(a.element,p,u,h)).map(p=>(u.focusManager.set(a,p),!0)),Lk=Pk,BO=Pk,t_=Pk,MO=o=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(o.dom),Fk=(o,a,c)=>{const u=ra(o,c);return((h,p)=>nr(h,w=>Uo(w,a)).map(w=>({index:w,candidates:h})))(bo(u,MO))},n_=(o,a)=>nr(o,c=>Uo(a,c)),PO=(o,a,c,u)=>u(Math.floor(a/c),a%c).bind(h=>{const p=h.row*c+h.column;return p>=0&&p<o.length?R.some(o[p]):R.none()}),LO=(o,a,c,u,h)=>PO(o,a,u,(p,w)=>{const k=p===c-1?o.length-p*u:u,E=cm(w,h,0,k-1);return R.some({row:p,column:E})}),FO=(o,a,c,u,h)=>PO(o,a,u,(p,w)=>{const k=cm(p,h,0,c-1),E=k===c-1?o.length-k*u:u,O=uc(w,0,E-1);return R.some({row:k,column:O})}),VM=[kt("selector"),Xe("execute",iy),tl("onEscape"),Xe("captureTab",!1),Bw()],zO=(o,a,c)=>{jr(o.element,a.selector).each(u=>{a.focusManager.set(o,u)})},ly=o=>(a,c,u,h)=>Fk(a,c,u.selector).bind(p=>o(p.candidates,p.index,h.getNumRows().getOr(u.initSize.numRows),h.getNumColumns().getOr(u.initSize.numColumns))),zk=(o,a,c)=>c.captureTab?R.some(!0):R.none(),Hk=ly((o,a,c,u)=>LO(o,a,c,u,-1)),$k=ly((o,a,c,u)=>LO(o,a,c,u,1)),UM=ly((o,a,c,u)=>FO(o,a,c,u,-1)),WM=ly((o,a,c,u)=>FO(o,a,c,u,1)),ZM=ie([Ko(Wo(e_),Bk(Hk,$k)),Ko(Wo(sy),Mk(Hk,$k)),Ko(Wo(z1),Lk(UM)),Ko(Wo(H1),BO(WM)),Ko(vf([Sm,Wo(bd)]),zk),Ko(vf([ay,Wo(bd)]),zk),Ko(Wo(pc.concat(Cm)),(o,a,c,u)=>((h,p)=>p.focusManager.get(h).bind(w=>wu(w,p.selector)))(o,c).bind(h=>c.execute(o,a,h)))]),jM=ie([Ko(Wo(Qw),(o,a,c)=>c.onEscape(o,a)),Ko(Wo(pc),zb)]);var KM=Fb(VM,DO,ZM,jM,()=>R.some(zO));const Hh=(o,a,c,u,h)=>{const p=(w,k,E)=>h(w,k,u,0,E.length-1,E[k],O=>{return M=E[O],Di(M)==="button"&&yo(M,"disabled")==="disabled"?p(w,O,E):R.from(E[O]);var M});return Fk(o,c,a).bind(w=>{const k=w.index,E=w.candidates;return p(k,k,E)})},HO=(o,a,c,u)=>Hh(o,a,c,u,(h,p,w,k,E,O,M)=>{const I=uc(p+w,k,E);return I===h?R.from(O):M(I)}),o_=(o,a,c,u)=>Hh(o,a,c,u,(h,p,w,k,E,O,M)=>{const I=cm(p,w,k,E);return I===h?R.none():M(I)}),qM=[kt("selector"),Xe("getInitial",R.none),Xe("execute",iy),tl("onEscape"),Xe("executeOnMove",!1),Xe("allowVertical",!0),Xe("allowHorizontal",!0),Xe("cycles",!0)],Vk=(o,a,c)=>((u,h)=>h.focusManager.get(u).bind(p=>wu(p,h.selector)))(o,c).bind(u=>c.execute(o,a,u)),$O=(o,a,c)=>{a.getInitial(o).orThunk(()=>jr(o.element,a.selector)).each(u=>{a.focusManager.set(o,u)})},VO=(o,a,c)=>(c.cycles?o_:HO)(o,c.selector,a,-1),UO=(o,a,c)=>(c.cycles?o_:HO)(o,c.selector,a,1),Uk=o=>(a,c,u,h)=>o(a,c,u,h).bind(()=>u.executeOnMove?Vk(a,c,u):R.some(!0)),cy=ie([Ko(Wo(pc),zb),Ko(Wo(Qw),(o,a,c)=>c.onEscape(o,a))]);var uy=Fb(qM,lc.init,(o,a,c,u)=>{const h=[...c.allowHorizontal?e_:[]].concat(c.allowVertical?z1:[]),p=[...c.allowHorizontal?sy:[]].concat(c.allowVertical?H1:[]);return[Ko(Wo(h),Uk(Bk(VO,UO))),Ko(Wo(p),Uk(Mk(VO,UO))),Ko(Wo(Cm),Vk),Ko(Wo(pc),Vk)]},cy,()=>R.some($O));const r_=(o,a,c)=>R.from(o[a]).bind(u=>R.from(u[c]).map(h=>({rowIndex:a,columnIndex:c,cell:h}))),s_=(o,a,c,u)=>{const h=o[a].length,p=cm(c,u,0,h-1);return r_(o,a,p)},WO=(o,a,c,u)=>{const h=cm(c,u,0,o.length-1),p=o[h].length,w=uc(a,0,p-1);return r_(o,h,w)},Wk=(o,a,c,u)=>{const h=o[a].length,p=uc(c+u,0,h-1);return r_(o,a,p)},Zk=(o,a,c,u)=>{const h=uc(c+u,0,o.length-1),p=o[h].length,w=uc(a,0,p-1);return r_(o,h,w)},ZO=[nc("selectors",[kt("row"),kt("cell")]),Xe("cycles",!0),Xe("previousSelector",R.none),Xe("execute",iy)],GM=(o,a,c)=>{a.previousSelector(o).orThunk(()=>{const u=a.selectors;return jr(o.element,u.cell)}).each(u=>{a.focusManager.set(o,u)})},a_=(o,a)=>(c,u,h)=>{const p=h.cycles?o:a;return wu(u,h.selectors.row).bind(w=>{const k=ra(w,h.selectors.cell);return n_(k,u).bind(E=>{const O=ra(c,h.selectors.row);return n_(O,w).bind(M=>{const I=((H,K)=>vt(H,Y=>ra(Y,K.selectors.cell)))(O,h);return p(I,M,E).map(H=>H.cell)})})})},jO=a_((o,a,c)=>s_(o,a,c,-1),(o,a,c)=>Wk(o,a,c,-1)),Hb=a_((o,a,c)=>s_(o,a,c,1),(o,a,c)=>Wk(o,a,c,1)),$b=a_((o,a,c)=>WO(o,c,a,-1),(o,a,c)=>Zk(o,c,a,-1)),i_=a_((o,a,c)=>WO(o,c,a,1),(o,a,c)=>Zk(o,c,a,1)),dy=ie([Ko(Wo(e_),Bk(jO,Hb)),Ko(Wo(sy),Mk(jO,Hb)),Ko(Wo(z1),Lk($b)),Ko(Wo(H1),BO(i_)),Ko(Wo(pc.concat(Cm)),(o,a,c)=>Ns(o.element).bind(u=>c.execute(o,a,u)))]),YM=ie([Ko(Wo(pc),zb)]);var $h=Fb(ZO,lc.init,dy,YM,()=>R.some(GM));const km=[kt("selector"),Xe("execute",iy),Xe("moveOnTab",!1)],l_=(o,a,c)=>c.focusManager.get(o).bind(u=>c.execute(o,a,u)),KO=(o,a,c)=>{jr(o.element,a.selector).each(u=>{a.focusManager.set(o,u)})},qO=(o,a,c)=>o_(o,c.selector,a,-1),jk=(o,a,c)=>o_(o,c.selector,a,1),fy=ie([Ko(Wo(z1),t_(qO)),Ko(Wo(H1),t_(jk)),Ko(vf([Sm,Wo(bd)]),(o,a,c,u)=>c.moveOnTab?t_(qO)(o,a,c,u):R.none()),Ko(vf([ay,Wo(bd)]),(o,a,c,u)=>c.moveOnTab?t_(jk)(o,a,c,u):R.none()),Ko(Wo(Cm),l_),Ko(Wo(pc),l_)]),my=ie([Ko(Wo(pc),zb)]);var Kk=Fb(km,lc.init,fy,my,()=>R.some(KO));const GO=[tl("onSpace"),tl("onEnter"),tl("onShiftEnter"),tl("onLeft"),tl("onRight"),tl("onTab"),tl("onShiftTab"),tl("onUp"),tl("onDown"),tl("onEscape"),Xe("stopSpaceKeyup",!1),Io("focusIn")];var gy=Fb(GO,lc.init,(o,a,c)=>[Ko(Wo(pc),c.onSpace),Ko(vf([ay,Wo(Cm)]),c.onEnter),Ko(vf([Sm,Wo(Cm)]),c.onShiftEnter),Ko(vf([Sm,Wo(bd)]),c.onShiftTab),Ko(vf([ay,Wo(bd)]),c.onTab),Ko(Wo(z1),c.onUp),Ko(Wo(H1),c.onDown),Ko(Wo(e_),c.onLeft),Ko(Wo(sy),c.onRight),Ko(Wo(pc),c.onSpace)],(o,a,c)=>[...c.stopSpaceKeyup?[Ko(Wo(pc),zb)]:[],Ko(Wo(Qw),c.onEscape)],o=>o.focusIn);const c_=FM.schema(),XM=zM.schema(),qk=uy.schema(),u_=KM.schema(),Si=$h.schema(),JM=$M.schema(),Em=Kk.schema(),YO=gy.schema(),Sn=Rw({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:c_,cyclic:XM,flow:qk,flatgrid:u_,matrix:Si,execution:JM,menu:Em,special:YO}),name:"keying",active:{events:(o,a)=>o.handler.toEvents(o,a)},apis:{focusIn:(o,a,c)=>{a.sendFocusIn(a).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},u=>{u(o,a,c)})},setGridSize:(o,a,c,u,h)=>{(p=>so(p,"setGridSize"))(c)?c.setGridSize(u,h):console.error("Layout does not support setGridSize")}},state:RO}),Vb=(o,a)=>{hm(()=>{((c,u,h)=>{const p=c.components();(E=>{jt(E.components(),O=>wa(O.element)),Wr(E.element),E.syncComponents()})(c);const w=h(u),k=le(p,w);jt(k,E=>{ym(E),c.getSystem().removeFromWorld(E)}),jt(w,E=>{D1(E)?zg(c,E):(c.getSystem().addToWorld(E),zg(c,E),nn(c.element)&&wm(E))}),c.syncComponents()})(o,a,()=>vt(a,o.getSystem().build))},o.element)},Gk=(o,a)=>{hm(()=>{((c,u,h)=>{const p=c.components(),w=jo(u,O=>Tx(O).toArray());jt(p,O=>{ot(w,O)||R1(O)});const k=((O,M,I)=>Pw(O,M,(H,K)=>Nx(O,K,H,I)))(o.element,a,o.getSystem().buildOrPatch),E=le(p,k);jt(E,O=>{D1(O)&&R1(O)}),jt(k,O=>{D1(O)||Bb(c,O)}),c.syncComponents()})(o,a)},o.element)},d_=(o,a,c,u)=>{R1(a);const h=Nx(o.element,c,u,o.getSystem().buildOrPatch);Bb(o,h),o.syncComponents()},Yk=(o,a,c)=>{const u=o.getSystem().build(c);Xx(o,u,a)},XO=(o,a,c,u)=>{Hi(a),Yk(o,(h,p)=>((w,k,E)=>{Ur(w,E).fold(()=>{hi(w,k)},O=>{Ju(O,k)})})(h,p,c),u)},hy=(o,a)=>o.components(),JO=(o,a,c,u,h)=>{const p=hy(o);return R.from(p[u]).map(w=>(h.fold(()=>Hi(w),k=>{(a.reuseDom?d_:XO)(o,w,u,k)}),w))};var Xk=Object.freeze({__proto__:null,append:(o,a,c,u)=>{Yk(o,hi,u)},prepend:(o,a,c,u)=>{Yk(o,fg,u)},remove:(o,a,c,u)=>{const h=hy(o);J(h,w=>Uo(u.element,w.element)).each(Hi)},replaceAt:JO,replaceBy:(o,a,c,u,h)=>{const p=hy(o);return nr(p,u).bind(w=>JO(o,a,0,w,h))},set:(o,a,c,u)=>(a.reuseDom?Gk:Vb)(o,u),contents:hy});const Fn=ma({fields:[Ls("reuseDom",!0)],name:"replacing",apis:Xk}),lo=(o,a)=>{const c=((u,h)=>{const p=Qn(h);return ma({fields:[kt("enabled")],name:u,active:{events:ie(p)}})})(o,a);return{key:o,value:{config:{},me:c,configAsRaw:ie({}),initialConfig:{},state:lc}}},QO=(o,a)=>{a.ignore||(_i(o.element),a.onFocus(o))};var e5=Object.freeze({__proto__:null,focus:QO,blur:(o,a)=>{a.ignore||hb(o.element)},isFocused:o=>Ig(o.element)}),t5=Object.freeze({__proto__:null,exhibit:(o,a)=>{const c=a.ignore?{}:{attributes:{tabindex:"-1"}};return Os(c)},events:o=>Qn([pt(vu(),(a,c)=>{QO(a,o),c.stop()})].concat(o.stopMousedown?[pt(Et(),(a,c)=>{c.event.prevent()})]:[]))}),n5=[Lo("onFocus"),Xe("stopMousedown",!1),Xe("ignore",!1)];const Zn=ma({fields:n5,name:"focusing",active:t5,apis:e5}),py=(o,a,c,u)=>{const h=c.get();c.set(u),((p,w,k)=>{w.toggleClass.each(E=>{k.get()?as(p.element,E):ms(p.element,E)})})(o,a,c),((p,w,k)=>{const E=w.aria;E.update(p,E,k.get())})(o,a,c),h!==u&&a.onToggled(o,u)},qc=(o,a,c)=>{py(o,a,c,!c.get())},Ub=(o,a,c)=>{py(o,a,c,a.selected)};var o5=Object.freeze({__proto__:null,onLoad:Ub,toggle:qc,isOn:(o,a,c)=>c.get(),on:(o,a,c)=>{py(o,a,c,!0)},off:(o,a,c)=>{py(o,a,c,!1)},set:py}),$1=Object.freeze({__proto__:null,exhibit:()=>Os({}),events:(o,a)=>{const c=(u=o,h=a,p=qc,zc(k=>{p(k,u,h)}));var u,h,p;const w=Xp(o,a,Ub);return Qn(dr([o.toggleOnExecute?[c]:[],[w]]))}});const El=(o,a,c)=>{Xt(o.element,"aria-expanded",c)};var bc=[Xe("selected",!1),Io("toggleClass"),Xe("toggleOnExecute",!0),Lo("onToggled"),yi("aria",{mode:"none"},Gs("mode",{pressed:[Xe("syncWithExpanded",!1),Er("update",(o,a,c)=>{Xt(o.element,"aria-pressed",c),a.syncWithExpanded&&El(o,0,c)})],checked:[Er("update",(o,a,c)=>{Xt(o.element,"aria-checked",c)})],expanded:[Er("update",El)],selected:[Er("update",(o,a,c)=>{Xt(o.element,"aria-selected",c)})],none:[Er("update",ge)]}))];const Un=ma({fields:bc,name:"toggling",active:$1,apis:o5,state:{init:()=>{const o=An(!1);return{get:()=>o.get(),set:a=>o.set(a),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Su=()=>{const o=(a,c)=>{c.stop(),Jd(a)};return[pt(Ys(),o),pt(Kd(),o),rm(Z()),rm(Et())]},V1=o=>Qn(dr([o.map(a=>zc((c,u)=>{a(c),u.stop()})).toArray(),Su()])),Gc="alloy.item-hover",Vh="alloy.item-focus",r5="alloy.item-toggled",s5=o=>{(Ns(o.element).isNone()||Zn.isFocused(o))&&(Zn.isFocused(o)||Zn.focus(o),wn(o,Gc,{item:o}))},a5=o=>{wn(o,Vh,{item:o})},Jk=ie(Gc),i5=ie(Vh),f_=ie(r5),l5=o=>o.role.fold(()=>o.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Me),QM=[kt("data"),kt("components"),kt("dom"),Xe("hasSubmenu",!1),Io("toggling"),Io("role"),jn("itemBehaviours",[Un,Zn,Sn,tt]),Xe("ignoreFocus",!1),Xe("domModification",{}),Er("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:l5(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:$n(o.itemBehaviours,[o.toggling.fold(Un.revoke,a=>Un.config(((c,u)=>({aria:{mode:u?"selected":"checked"},...Oo(c,(h,p)=>p!=="exclusive"),onToggled:(h,p)=>{G(c.onToggled)&&c.onToggled(h,p),((w,k)=>{wn(w,r5,{item:w,state:k})})(h,p)}}))(a,o.role.exists(c=>c==="option")))),Zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:a=>{a5(a)}}),Sn.config({mode:"execution"}),tt.config({store:{mode:"memory",initialValue:o.data}}),lo("item-type-events",[...Su(),pt(yn(),s5),pt(qp(),Zn.focus)])]),components:o.components,eventOrder:o.eventOrder})),Xe("eventOrder",{})],e7=[kt("dom"),kt("components"),Er("builder",o=>({dom:o.dom,components:o.components,events:Qn([Ow(qp())])}))],Qk=ie("item-widget"),eE=ie([sl({name:"widget",overrides:o=>({behaviours:Lt([tt.config({store:{mode:"manual",getValue:a=>o.data,setValue:ge}})])})})]),c5=[kt("uid"),kt("data"),kt("components"),kt("dom"),Xe("autofocus",!1),Xe("ignoreFocus",!1),jn("widgetBehaviours",[tt,Zn,Sn]),Xe("domModification",{}),Tk(eE()),Er("builder",o=>{const a=Sk(Qk(),o,eE()),c=kk(Qk(),o,a.internals()),u=p=>Tr(p,o,"widget").map(w=>(Sn.focusIn(w),w)),h=(p,w)=>(P1(w.event.target)||o.autofocus&&w.setSource(p.element),R.none());return{dom:o.dom,components:c,domModification:o.domModification,events:Qn([zc((p,w)=>{u(p).each(k=>{w.stop()})}),pt(yn(),s5),pt(qp(),(p,w)=>{o.autofocus?u(p):Zn.focus(p)})]),behaviours:$n(o.widgetBehaviours,[tt.config({store:{mode:"memory",initialValue:o.data}}),Zn.config({ignore:o.ignoreFocus,onFocus:p=>{a5(p)}}),Sn.config({mode:"special",focusIn:o.autofocus?p=>{u(p)}:ak(),onLeft:h,onRight:h,onEscape:(p,w)=>Zn.isFocused(p)||o.autofocus?(o.autofocus&&w.setSource(p.element),R.none()):(Zn.focus(p),R.some(!0))})])}})],u5=Gs("type",{widget:c5,item:QM,separator:e7}),tE=ie([Jw({factory:{sketch:o=>{const a=si("menu.spec item",u5,o);return a.builder(a)}},name:"items",unit:"item",defaults:(o,a)=>mo(a,"uid")?a:{...a,uid:dc("item")},overrides:(o,a)=>({type:a.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),d5=ie([xs("role"),kt("value"),kt("items"),kt("dom"),kt("components"),Xe("eventOrder",{}),fn("menuBehaviours",[er,tt,Ho,Sn]),yi("movement",{mode:"menu",moveOnTab:!0},Gs("mode",{grid:[Bw(),Er("config",(o,a)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:o.focusManager}))],matrix:[Er("config",(o,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+o.markers.item},previousSelector:a.previousSelector,focusManager:o.focusManager})),kt("rowSelector"),Xe("previousSelector",R.none)],menu:[Xe("moveOnTab",!0),Er("config",(o,a)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:a.moveOnTab,focusManager:o.focusManager}))]})),Sa("markers",_g()),Xe("fakeFocus",!1),Xe("focusManager",Ik()),Lo("onHighlight"),Lo("onDehighlight"),Xe("showMenuRole",!0)]),f5=ie("alloy.menu-focus"),Wb=bl({name:"Menu",configFields:d5(),partFields:tE(),factory:(o,a,c,u)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:io(o.menuBehaviours,[er.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),tt.config({store:{mode:"memory",initialValue:o.value}}),Ho.config({find:R.some}),Sn.config(o.movement.config(o,o.movement))]),events:Qn([pt(i5(),(h,p)=>{const w=p.event;h.getSystem().getByDom(w.target).each(k=>{er.highlight(h,k),p.stop(),wn(h,f5(),{menu:h,item:k})})}),pt(Jk(),(h,p)=>{const w=p.event.item;er.highlight(h,w)}),pt(f_(),(h,p)=>{const{item:w,state:k}=p.event;k&&yo(w.element,"role")==="menuitemradio"&&((E,O)=>{const M=ra(E.element,'[role="menuitemradio"][aria-checked="true"]');jt(M,I=>{Uo(I,O.element)||E.getSystem().getByDom(I).each(H=>{Un.off(H)})})})(h,w)})]),components:a,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),m5=(o,a,c,u)=>ln(c,u).bind(h=>ln(o,h).bind(p=>{const w=m5(o,a,c,p);return R.some([p].concat(w))})).getOr([]),g5=o=>o.type==="prepared"?R.some(o.menu):R.none(),t7=()=>{const o=An({}),a=An({}),c=An({}),u=rr(),h=An({}),p=E=>w(E).bind(g5),w=E=>ln(a.get(),E),k=E=>ln(o.get(),E);return{setMenuBuilt:(E,O)=>{a.set({...a.get(),[E]:{type:"prepared",menu:O}})},setContents:(E,O,M,I)=>{u.set(E),o.set(M),a.set(O),h.set(I);const H=((K,Y)=>{const re={};xn(K,(se,fe)=>{jt(se,be=>{re[be]=fe})});const ce=Y,pe=ro(Y,(se,fe)=>({k:se,v:fe})),ae=Cn(pe,(se,fe)=>[fe].concat(m5(re,ce,pe,fe)));return Cn(re,se=>ln(ae,se).getOr([se]))})(I,M);c.set(H)},expand:E=>ln(o.get(),E).map(O=>{const M=ln(c.get(),E).getOr([]);return[O].concat(M)}),refresh:E=>ln(c.get(),E),collapse:E=>ln(c.get(),E).bind(O=>O.length>1?R.some(O.slice(1)):R.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const O=h.get();return le(on(O),E)},getPrimary:()=>u.get().bind(p),getMenus:()=>a.get(),clear:()=>{o.set({}),a.set({}),c.set({}),u.clear()},isClear:()=>u.get().isNone(),getTriggeringPath:(E,O)=>{const M=bo(k(E).toArray(),I=>p(I).isSome());return ln(c.get(),E).bind(I=>{const H=Ze(M.concat(I));return(K=>{const Y=[];for(let re=0;re<K.length;re++){const ce=K[re];if(!ce.isSome())return R.none();Y.push(ce.getOrDie())}return R.some(Y)})(jo(H,(K,Y)=>((re,ce,pe)=>p(re).bind(ae=>(se=>ar(o.get(),(fe,be)=>fe===se))(re).bind(se=>ce(se).map(fe=>({triggeredMenu:ae,triggeringItem:fe,triggeringPath:pe})))))(K,O,H.slice(0,Y+1)).fold(()=>zr(u.get(),K)?[]:[R.none()],re=>[R.some(re)])))})}}},n7=g5,Yc=dn("tiered-menu-item-highlight"),o7=dn("tiered-menu-item-dehighlight");var Vi;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Vi||(Vi={}));const Zb=ie("collapse-item"),$g=Kc({name:"TieredMenu",configFields:[ai("onExecute"),ai("onEscape"),yu("onOpenMenu"),yu("onOpenSubmenu"),Lo("onRepositionMenu"),Lo("onCollapseMenu"),Xe("highlightOnOpen",Vi.HighlightMenuAndItem),nc("data",[kt("primary"),kt("menus"),kt("expansions")]),Xe("fakeFocus",!1),Lo("onHighlightItem"),Lo("onDehighlightItem"),Lo("onHover"),Cg(),kt("dom"),Xe("navigateOnHover",!0),Xe("stayInDom",!1),fn("tmenuBehaviours",[Sn,er,Ho,Fn]),Xe("eventOrder",{})],apis:{collapseMenu:(o,a)=>{o.collapseMenu(a)},highlightPrimary:(o,a)=>{o.highlightPrimary(a)},repositionMenus:(o,a)=>{o.repositionMenus(a)}},factory:(o,a)=>{const c=rr(),u=t7(),h=se=>tt.getValue(se).value,p=se=>Cn(o.data.menus,(fe,be)=>jo(fe.items,we=>we.type==="separator"?[]:[we.data.value])),w=er.highlight,k=(se,fe)=>{w(se,fe),er.getHighlighted(fe).orThunk(()=>er.getFirst(fe)).each(be=>{o.fakeFocus?er.highlight(fe,be):Xr(se,be.element,qp())})},E=(se,fe)=>Ba(vt(fe,be=>se.lookupMenu(be).bind(we=>we.type==="prepared"?R.some(we.menu):R.none()))),O=(se,fe,be)=>{const we=E(fe,fe.otherMenus(be));jt(we,Fe=>{Ll(Fe.element,[o.markers.backgroundMenu]),o.stayInDom||Fn.remove(se,Fe)})},M=(se,fe)=>{const be=(we=>c.get().getOrThunk(()=>{const Fe={},qe=ra(we.element,`.${o.markers.item}`),wt=bo(qe,ht=>yo(ht,"aria-haspopup")==="true");return jt(wt,ht=>{we.getSystem().getByDom(ht).each(ft=>{const Bt=h(ft);Fe[Bt]=ft})}),c.set(Fe),Fe}))(se);xn(be,(we,Fe)=>{const qe=ot(fe,Fe);Xt(we.element,"aria-expanded",qe)})},I=(se,fe,be)=>R.from(be[0]).bind(we=>fe.lookupMenu(we).bind(Fe=>{if(Fe.type==="notbuilt")return R.none();{const qe=Fe.menu,wt=E(fe,be.slice(1));return jt(wt,ht=>{as(ht.element,o.markers.backgroundMenu)}),nn(qe.element)||Fn.append(se,Fi(qe)),Ll(qe.element,[o.markers.backgroundMenu]),k(se,qe),O(se,fe,be),R.some(qe)}}));let H;(function(se){se[se.HighlightSubmenu=0]="HighlightSubmenu",se[se.HighlightParent=1]="HighlightParent"})(H||(H={}));const K=(se,fe,be=H.HighlightSubmenu)=>{if(fe.hasConfigured(Kn)&&Kn.isDisabled(fe))return R.some(fe);{const we=h(fe);return u.expand(we).bind(Fe=>(M(se,Fe),R.from(Fe[0]).bind(qe=>u.lookupMenu(qe).bind(wt=>{const ht=((ft,Bt,sn)=>{if(sn.type==="notbuilt"){const hn=ft.getSystem().build(sn.nbMenu());return u.setMenuBuilt(Bt,hn),hn}return sn.menu})(se,qe,wt);return nn(ht.element)||Fn.append(se,Fi(ht)),o.onOpenSubmenu(se,fe,ht,Ze(Fe)),be===H.HighlightSubmenu?(er.highlightFirst(ht),I(se,u,Fe)):(er.dehighlightAll(ht),R.some(fe))}))))}},Y=(se,fe)=>{const be=h(fe);return u.collapse(be).bind(we=>(M(se,we),I(se,u,we).map(Fe=>(o.onCollapseMenu(se,fe,Fe),Fe))))},re=se=>(fe,be)=>wu(be.getSource(),`.${o.markers.item}`).bind(we=>fe.getSystem().getByDom(we).toOptional().bind(Fe=>se(fe,Fe).map(Ne))),ce=Qn([pt(f5(),(se,fe)=>{const be=fe.event.item;u.lookupItem(h(be)).each(()=>{const we=fe.event.menu;er.highlight(se,we);const Fe=h(fe.event.item);u.refresh(Fe).each(qe=>O(se,u,qe))})}),zc((se,fe)=>{const be=fe.event.target;se.getSystem().getByDom(be).each(we=>{h(we).indexOf("collapse-item")===0&&Y(se,we),K(se,we,H.HighlightSubmenu).fold(()=>{o.onExecute(se,we)},ge)})}),Hr((se,fe)=>{(be=>{const we=((qe,wt,ht)=>Cn(ht,(ft,Bt)=>{const sn=()=>Wb.sketch({...ft,value:Bt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(hn,Rn)=>{wn(hn,Yc,{menuComp:hn,itemComp:Rn})},onDehighlight:(hn,Rn)=>{wn(hn,o7,{menuComp:hn,itemComp:Rn})},focusManager:o.fakeFocus?LM():Ik()});return Bt===wt?{type:"prepared",menu:qe.getSystem().build(sn())}:{type:"notbuilt",nbMenu:sn}}))(be,o.data.primary,o.data.menus),Fe=p();return u.setContents(o.data.primary,we,o.data.expansions,Fe),u.getPrimary()})(se).each(be=>{Fn.append(se,Fi(be)),o.onOpenMenu(se,be),o.highlightOnOpen===Vi.HighlightMenuAndItem?k(se,be):o.highlightOnOpen===Vi.HighlightJustMenu&&w(se,be)})}),pt(Yc,(se,fe)=>{o.onHighlightItem(se,fe.event.menuComp,fe.event.itemComp)}),pt(o7,(se,fe)=>{o.onDehighlightItem(se,fe.event.menuComp,fe.event.itemComp)}),...o.navigateOnHover?[pt(Jk(),(se,fe)=>{const be=fe.event.item;((we,Fe)=>{const qe=h(Fe);u.refresh(qe).bind(wt=>(M(we,wt),I(we,u,wt)))})(se,be),K(se,be,H.HighlightParent),o.onHover(se,be)})]:[]]),pe=se=>er.getHighlighted(se).bind(er.getHighlighted),ae={collapseMenu:se=>{pe(se).each(fe=>{Y(se,fe)})},highlightPrimary:se=>{u.getPrimary().each(fe=>{k(se,fe)})},repositionMenus:se=>{u.getPrimary().bind(be=>pe(se).bind(we=>{const Fe=h(we),qe=gi(u.getMenus()),wt=Ba(vt(qe,n7));return u.getTriggeringPath(Fe,ht=>((ft,Bt,sn)=>It(Bt,hn=>{if(!hn.getSystem().isConnected())return R.none();const Rn=er.getCandidates(hn);return J(Rn,qn=>h(qn)===sn)}))(0,wt,ht))}).map(we=>({primary:be,triggeringPath:we}))).fold(()=>{(be=>R.from(be.components()[0]).filter(we=>yo(we.element,"role")==="menu"))(se).each(be=>{o.onRepositionMenu(se,be,[])})},({primary:be,triggeringPath:we})=>{o.onRepositionMenu(se,be,we)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:io(o.tmenuBehaviours,[Sn.config({mode:"special",onRight:re((se,fe)=>P1(fe.element)?R.none():K(se,fe,H.HighlightSubmenu)),onLeft:re((se,fe)=>P1(fe.element)?R.none():Y(se,fe)),onEscape:re((se,fe)=>Y(se,fe).orThunk(()=>o.onEscape(se,fe).map(()=>se))),focusIn:(se,fe)=>{u.getPrimary().each(be=>{Xr(se,be.element,qp())})}}),er.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Ho.config({find:se=>er.getHighlighted(se)}),Fn.config({})]),eventOrder:o.eventOrder,apis:ae,events:ce}},extraApis:{tieredData:(o,a,c)=>({primary:o,menus:a,expansions:c}),singleData:(o,a)=>({primary:o,menus:Pc(o,a),expansions:{}}),collapseItem:o=>({value:dn(Zb()),meta:{text:o}})}}),Jr=Kc({name:"InlineView",configFields:[kt("lazySink"),Lo("onShow"),Lo("onHide"),Mc("onEscape"),fn("inlineBehaviours",[T,tt,ol]),ds("fireDismissalEventInstead",[Xe("event",bg())]),ds("fireRepositionEventInstead",[Xe("event",Yd())]),Xe("getRelated",R.none),Xe("isExtraPart",Ee),Xe("eventOrder",R.none)],factory:(o,a)=>{const c=(w,k,E,O)=>{const M=o.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>qa.positionWithinBounds(M,w,E,O())),tt.setValue(w,R.some({mode:"position",config:E,getBounds:O}))},u=(w,k,E,O)=>{const M=((I,H,K,Y,re)=>{const ce=()=>I.lazySink(H),pe=Y.type==="horizontal"?{layouts:{onLtr:()=>v1(),onRtl:()=>x1()}}:{},ae=se=>(fe=>fe.length===2)(se)?pe:{};return $g.sketch({dom:{tag:"div"},data:Y.data,markers:Y.menu.markers,highlightOnOpen:Y.menu.highlightOnOpen,fakeFocus:Y.menu.fakeFocus,onEscape:()=>(T.close(H),I.onEscape.map(se=>se(H)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(se,fe)=>{qa.positionWithinBounds(ce().getOrDie(),fe,K,re())},onOpenSubmenu:(se,fe,be,we)=>{const Fe=ce().getOrDie();qa.position(Fe,be,{anchor:{type:"submenu",item:fe,...ae(we)}})},onRepositionMenu:(se,fe,be)=>{const we=ce().getOrDie();qa.positionWithinBounds(we,fe,K,re()),jt(be,Fe=>{const qe=ae(Fe.triggeringPath);qa.position(we,Fe.triggeredMenu,{anchor:{type:"submenu",item:Fe.triggeringItem,...qe}})})}})})(o,w,k,E,O);T.open(w,M),tt.setValue(w,R.some({mode:"menu",menu:M}))},h=w=>{T.isOpen(w)&&tt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each($g.repositionMenus);break;case"position":const E=o.lazySink(w).getOrDie();qa.positionWithinBounds(E,w,k.config,k.getBounds())}})},p={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const O=R.none;c(w,k,E,O)},showWithinBounds:c,showMenuAt:(w,k,E)=>{u(w,k,E,R.none)},showMenuWithinBounds:u,hide:w=>{T.isOpen(w)&&(tt.setValue(w,R.none()),T.close(w))},getContent:w=>T.getState(w),reposition:h,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:io(o.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>nl(k,E)||((O,M)=>o.getRelated(O).exists(I=>nl(I,M)))(w,E),getAttachPoint:w=>o.lazySink(w).getOrDie(),onOpen:w=>{o.onShow(w)},onClose:w=>{o.onHide(w)}}),tt.config({store:{mode:"memory",initialValue:R.none()}}),ol.config({channels:{...ne({isExtraPart:a.isExtraPart,...o.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Ae({...o.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:h})}})]),eventOrder:o.eventOrder,apis:p}},apis:{showAt:(o,a,c,u)=>{o.showAt(a,c,u)},showWithinBounds:(o,a,c,u,h)=>{o.showWithinBounds(a,c,u,h)},showMenuAt:(o,a,c,u)=>{o.showMenuAt(a,c,u)},showMenuWithinBounds:(o,a,c,u,h)=>{o.showMenuWithinBounds(a,c,u,h)},hide:(o,a)=>{o.hide(a)},isOpen:(o,a)=>o.isOpen(a),getContent:(o,a)=>o.getContent(a),setContent:(o,a,c)=>{o.setContent(a,c)},reposition:(o,a)=>{o.reposition(a)}}});var ku,by,m_=tinymce.util.Tools.resolve("tinymce.util.Delay"),U1=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h5=tinymce.util.Tools.resolve("tinymce.EditorManager"),xf=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(ku||(ku={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(by||(by={}));const hr=o=>a=>a.options.get(o),vy=o=>a=>R.from(o(a)),p5=o=>{const a=xf.deviceType.isPhone(),c=xf.deviceType.isTablet()||a,u=o.options.register,h=w=>b(w)||w===!1,p=w=>b(w)||ee(w);u("skin",{processor:w=>b(w)||w===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:p,default:Math.max(o.getElement().offsetHeight,400)}),u("width",{processor:p,default:U1.DOM.getStyle(o.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:w=>b(w)||D(w),default:!a}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:w=>D(w)||b(w)||L(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Nr(9,w=>{u("toolbar"+(w+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:by.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:o.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:h,default:"#top"}),u("anchor_bottom",{processor:h,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:w=>w==="both"||D(w),default:!xf.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),u("default_font_stack",{processor:"string[]",default:[]})},nE=hr("readonly"),xy=hr("height"),yy=hr("width"),wy=vy(hr("min_width")),W1=vy(hr("min_height")),Z1=vy(hr("max_width")),g_=vy(hr("max_height")),j1=vy(hr("style_formats")),h_=hr("style_formats_merge"),b5=hr("style_formats_autohide"),oE=hr("content_langs"),v5=hr("removed_menuitems"),jb=hr("toolbar_mode"),p_=hr("toolbar_groups"),Uh=hr("toolbar_location"),rE=hr("fixed_toolbar_container"),r7=hr("fixed_toolbar_container_target"),x5=hr("toolbar_persist"),sE=hr("toolbar_sticky_offset"),Vg=hr("menubar"),K1=hr("toolbar"),b_=hr("file_picker_callback"),_y=hr("file_picker_validator_handler"),aE=hr("font_size_input_default_unit"),Cy=hr("file_picker_types"),v_=hr("typeahead_urls"),y5=hr("anchor_top"),w5=hr("anchor_bottom"),yf=hr("draggable_modal"),_5=hr("statusbar"),C5=hr("elementpath"),vc=hr("branding"),Ga=hr("resize"),S5=hr("paste_as_text"),x_=hr("sidebar_show"),k5=hr("promotion"),iE=hr("help_accessibility"),y_=hr("default_font_stack"),Wh=o=>o.options.get("skin")===!1,Sy=o=>o.options.get("menubar")!==!1,w_=o=>{const a=o.options.get("skin_url");if(Wh(o))return a;if(a)return o.documentBaseURI.toAbsolute(a);{const c=o.options.get("skin");return h5.baseURL+"/skins/ui/"+c}},__=o=>R.from(o.options.get("skin_url")),E5=o=>o.options.get("line_height_formats").split(" "),ky=o=>{const a=K1(o),c=b(a),u=L(a)&&a.length>0;return!Ey(o)&&(u||c||a===!0)},C_=o=>{const a=Nr(9,u=>o.options.get("toolbar"+(u+1))),c=bo(a,b);return Vo(c.length>0,c)},Ey=o=>C_(o).fold(()=>{const a=K1(o);return ye(a,b)&&a.length>0},Ne),lE=o=>Uh(o)===by.bottom,cE=o=>{var a;if(!o.inline)return R.none();const c=(a=rE(o))!==null&&a!==void 0?a:"";if(c.length>0)return jr(un(),c);const u=r7(o);return U(u)?R.some(Qt(u)):R.none()},Kb=o=>o.inline&&cE(o).isSome(),S_=o=>cE(o).getOrThunk(()=>We(nt(Qt(o.getElement())))),k_=o=>o.inline&&!Sy(o)&&!ky(o)&&!Ey(o),Ug=o=>(o.options.get("toolbar_sticky")||o.inline)&&!Kb(o)&&!k_(o),Wg=o=>!Kb(o)&&o.options.get("ui_mode")==="split",Zh=o=>{const a=o.options.get("menu");return Cn(a,c=>({...c,items:c.items}))};var Ay=Object.freeze({__proto__:null,get ToolbarMode(){return ku},get ToolbarLocation(){return by},register:p5,getSkinUrl:w_,getSkinUrlOption:__,isReadOnly:nE,isSkinDisabled:Wh,getHeightOption:xy,getWidthOption:yy,getMinWidthOption:wy,getMinHeightOption:W1,getMaxWidthOption:Z1,getMaxHeightOption:g_,getUserStyleFormats:j1,shouldMergeStyleFormats:h_,shouldAutoHideStyleFormats:b5,getLineHeightFormats:E5,getContentLanguages:oE,getRemovedMenuItems:v5,isMenubarEnabled:Sy,isMultipleToolbars:Ey,isToolbarEnabled:ky,isToolbarPersist:x5,getMultipleToolbarsOption:C_,getUiContainer:S_,useFixedContainer:Kb,isSplitUiMode:Wg,getToolbarMode:jb,isDraggableModal:yf,isDistractionFree:k_,isStickyToolbar:Ug,getStickyToolbarOffset:sE,getToolbarLocation:Uh,isToolbarLocationBottom:lE,getToolbarGroups:p_,getMenus:Zh,getMenubar:Vg,getToolbar:K1,getFilePickerCallback:b_,getFilePickerTypes:Cy,useTypeaheadUrls:v_,getAnchorTop:y5,getAnchorBottom:w5,getFilePickerValidatorHandler:_y,getFontSizeInputDefaultUnit:aE,useStatusBar:_5,useElementPath:C5,promotionEnabled:k5,useBranding:vc,getResize:Ga,getPasteAsText:S5,getSidebarShow:x_,useHelpAccessibility:iE,getDefaultFontStack:y_});const s7=["visible","hidden","clip"],A5=o=>Jl(o).length>0&&!ot(s7,o),T5=o=>{if(Gi(o)){const a=ns(o,"overflow-x"),c=ns(o,"overflow-y");return A5(a)||A5(c)}return!1},jh=(o,a)=>Wg(o)?((c,u)=>{const h=Mh(u,T5),p=h.length===0?Pt(u).map(Gt).map(w=>Mh(w,T5)).getOr([]):h;return $t(p).map(w=>({element:w,others:p.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(c)}))})(o,a):R.none(),Kh=o=>{const a=[...vt(o.others,Us),_a()];return o.isFullscreen()?_a():((c,u)=>Mn(u,(h,p)=>ed(h,p),c))(Us(o.element),a)},ki=Kc({name:"Button",factory:o=>{const a=V1(o.action),c=o.dom.tag,u=h=>ln(o.dom,"attributes").bind(p=>ln(p,h));return{uid:o.uid,dom:o.dom,components:o.components,events:a,behaviours:$n(o.buttonBehaviours,[Zn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:u("type").getOr("button"),...u("role").map(h=>({role:h})).getOr({})}:{role:o.role.getOr(u("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Xe("uid",void 0),kt("dom"),Xe("components",[]),jn("buttonBehaviours",[Zn,Sn]),Io("action"),Io("role"),Xe("eventOrder",{})]}),Am=o=>{const a=_l(o),c=fr(a),u=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return Mn(k,(E,O)=>O.name==="class"?E:{...E,[O.name]:O.value},{})})(a),h=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),p=c.length===0?{}:{innerHtml:ld(a)};return{tag:Di(a),classes:h,attributes:u,...p}},Qo=o=>{const a=(c=>c.uid!==void 0)(o)&&so(o,"uid")?o.uid:dc("memento");return{get:c=>c.getSystem().getByUid(a).getOrDie(),getOpt:c=>c.getSystem().getByUid(a).toOptional(),asSpec:()=>({...o,uid:a})}};var a7=Object.freeze({__proto__:null,exhibit:(o,a)=>Os({attributes:rd([{key:a.tabAttr,value:"true"}])})}),O5=[Xe("tabAttr","data-alloy-tabstop")];const Sr=ma({fields:O5,name:"tabstopping",active:a7}),uE=dn("tooltip.exclusive"),Ty=dn("tooltip.show"),Oy=dn("tooltip.hide"),Dy=dn("tooltip.immediateHide"),Ry=dn("tooltip.immediateShow"),D5=(o,a,c)=>{o.getSystem().broadcastOn([uE],{})};var i7=Object.freeze({__proto__:null,hideAllExclusive:D5,immediateOpenClose:(o,a,c,u)=>fo(o,u?Ry:Dy),isEnabled:(o,a,c)=>c.isEnabled(),setComponents:(o,a,c,u)=>{c.getTooltip().each(h=>{h.getSystem().isConnected()&&Fn.set(h,u)})},setEnabled:(o,a,c,u)=>c.setEnabled(u)}),l7=Object.freeze({__proto__:null,events:(o,a)=>{const c=p=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(Hi(w),o.onHide(p,w),a.clearTooltip())}),a.clearTimer()},u=p=>{if(!a.isShowing()&&a.isEnabled()){D5(p);const w=o.lazySink(p).getOrDie(),k=p.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Qn(o.mode==="normal"?[pt(yn(),E=>{fo(p,Ty)}),pt(oo(),E=>{fo(p,Oy)})]:[]),behaviours:Lt([Fn.config({})])});a.setTooltip(k),gf(w,k),o.onShow(p,k),qa.position(w,k,{anchor:o.anchor(p)})}},h=p=>{a.getTooltip().each(w=>{const k=o.lazySink(p).getOrDie();qa.position(k,w,{anchor:o.anchor(p)})})};return Qn(dr([[X0(p=>{o.onSetup(p)}),pt(Ty,p=>{a.resetTimer(()=>{u(p)},o.delayForShow())}),pt(Oy,p=>{a.resetTimer(()=>{c(p)},o.delayForHide())}),pt(Ry,p=>{a.resetTimer(()=>{u(p)},0)}),pt(Dy,p=>{a.resetTimer(()=>{c(p)},0)}),pt(Ml(),(p,w)=>{const k=w;k.universal||ot(k.channels,uE)&&c(p)}),xu(p=>{c(p)})],(()=>{switch(o.mode){case"normal":return[pt(Go(),p=>{fo(p,Ry)}),pt(xh(),p=>{fo(p,Dy)}),pt(yn(),p=>{fo(p,Ty)}),pt(oo(),p=>{fo(p,Oy)})];case"follow-highlight":return[pt(fx(),(p,w)=>{fo(p,Ty)}),pt(Xd(),p=>{fo(p,Oy)})];case"children-normal":return[pt(Go(),(p,w)=>{Ns(p.element).each(k=>{kc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{fo(p,Ry)},E=>{a.isShowing()&&(o.onShow(p,E),h(p))})})}),pt(xh(),p=>{Ns(p.element).fold(()=>{fo(p,Dy)},ge)}),pt(yn(),p=>{jr(p.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{fo(p,Ty)},k=>{a.isShowing()&&(o.onShow(p,k),h(p))})})}),pt(oo(),p=>{jr(p.element,"[data-mce-tooltip]:hover").fold(()=>{fo(p,Oy)},ge)})];default:return[pt(Go(),(p,w)=>{Ns(p.element).each(k=>{kc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{fo(p,Ry)},E=>{a.isShowing()&&(o.onShow(p,E),h(p))})})}),pt(xh(),p=>{Ns(p.element).fold(()=>{fo(p,Dy)},ge)})]}})()]))}}),c7=[kt("lazySink"),kt("tooltipDom"),Xe("exclusive",!0),Xe("tooltipComponents",[]),Mr("delayForShow",ie(300)),Mr("delayForHide",ie(300)),Mr("onSetup",ge),oc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Xe("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ie([Rs,is,gs,Fs,hs,gr]),onRtl:ie([Rs,is,gs,Fs,hs,gr])},bubble:Fl(0,-2,{})})),Lo("onHide"),Lo("onShow")],u7=Object.freeze({__proto__:null,init:()=>{const o=An(!0),a=rr(),c=rr(),u=()=>{a.on(clearTimeout)},h=ie("not-implemented");return fa({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:u,resetTimer:(p,w)=>{u(),a.set(setTimeout(p,w))},readState:h,isEnabled:()=>o.get(),setEnabled:p=>o.set(p)})}});const Hs=ma({fields:c7,name:"tooltipping",active:l7,state:u7,apis:i7}),{entries:R5,setPrototypeOf:dE,isFrozen:N5,getPrototypeOf:I5,getOwnPropertyDescriptor:d7}=Object;let{freeze:Hl,seal:wf,create:B5}=Object,{apply:fE,construct:mE}=typeof Reflect<"u"&&Reflect;fE||(fE=function(o,a,c){return o.apply(a,c)}),Hl||(Hl=function(o){return o}),wf||(wf=function(o){return o}),mE||(mE=function(o,a){return new o(...a)});const gE=vd(Array.prototype.forEach),f7=vd(Array.prototype.pop),Ny=vd(Array.prototype.push),E_=vd(String.prototype.toLowerCase),A_=vd(String.prototype.toString),m7=vd(String.prototype.match),rn=vd(String.prototype.replace),qb=vd(String.prototype.indexOf),g7=vd(String.prototype.trim),Xc=vd(RegExp.prototype.test),qh=(T_=TypeError,function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return mE(T_,a)});var T_;function vd(o){return function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return fE(o,a,u)}}function vr(o,a,c){var u;c=(u=c)!==null&&u!==void 0?u:E_,dE&&dE(o,null);let h=a.length;for(;h--;){let p=a[h];if(typeof p=="string"){const w=c(p);w!==p&&(N5(a)||(a[h]=w),p=w)}o[p]=!0}return o}function q1(o){const a=B5(null);for(const[c,u]of R5(o))a[c]=u;return a}function O_(o,a){for(;o!==null;){const c=d7(o,a);if(c){if(c.get)return vd(c.get);if(typeof c.value=="function")return vd(c.value)}o=I5(o)}return function(c){return console.warn("fallback value for",c),null}}const hE=Hl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Iy=Hl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gb=Hl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M5=Hl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pE=Hl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),h7=Hl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P5=Hl(["#text"]),p7=Hl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D_=Hl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L5=Hl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R_=Hl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),b7=wf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v7=wf(/<%[\w\W]*|[\w\W]*%>/gm),bE=wf(/\${[\w\W]*}/gm),x7=wf(/^data-[\-\w.\u00B7-\uFFFF]/),y7=wf(/^aria-[\-\w]+$/),F5=wf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),w7=wf(/^(?:\w+script|data):/i),_7=wf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tm=wf(/^html$/i);var By=Object.freeze({__proto__:null,MUSTACHE_EXPR:b7,ERB_EXPR:v7,TMPLIT_EXPR:bE,DATA_ATTR:x7,ARIA_ATTR:y7,IS_ALLOWED_URI:F5,IS_SCRIPT_OR_DATA:w7,ATTR_WHITESPACE:_7,DOCTYPE_NAME:Tm});const C7=()=>typeof window>"u"?null:window;var S7=function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C7();const c=st=>o(st);if(c.version="3.0.5",c.removed=[],!a||!a.document||a.document.nodeType!==9)return c.isSupported=!1,c;const u=a.document,h=u.currentScript;let{document:p}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:O,NodeFilter:M,NamedNodeMap:I=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:H,DOMParser:K,trustedTypes:Y}=a,re=O.prototype,ce=O_(re,"cloneNode"),pe=O_(re,"nextSibling"),ae=O_(re,"childNodes"),se=O_(re,"parentNode");if(typeof k=="function"){const st=p.createElement("template");st.content&&st.content.ownerDocument&&(p=st.content.ownerDocument)}let fe,be="";const{implementation:we,createNodeIterator:Fe,createDocumentFragment:qe,getElementsByTagName:wt}=p,{importNode:ht}=u;let ft={};c.isSupported=typeof R5=="function"&&typeof se=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:sn,TMPLIT_EXPR:hn,DATA_ATTR:Rn,ARIA_ATTR:qn,IS_SCRIPT_OR_DATA:Co,ATTR_WHITESPACE:Lr}=By;let{IS_ALLOWED_URI:Kr}=By,uo=null;const Fo=vr({},[...hE,...Iy,...Gb,...pE,...P5]);let Ln=null;const qr=vr({},[...p7,...D_,...L5,...R_]);let pr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ei=null,Ai=null,Oa=!0,pa=!0,oh=!1,kv=!0,pp=!1,rh=!1,$2=!1,bp=!1,Um=!1,C0=!1,S0=!1,Ev=!0,pS=!1,V2=!0,vp=!1,Wm={},sh=null;const U2=vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let W2=null;const qo=vr({},["audio","video","img","source","image","track"]);let Zm=null;const Ed=vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),k0="http://www.w3.org/1998/Math/MathML",bS="http://www.w3.org/2000/svg",ah="http://www.w3.org/1999/xhtml";let Av=ah,uT=!1,vS=null;const Dz=vr({},[k0,bS,ah],A_);let Tv;const Rz=["application/xhtml+xml","text/html"];let ll,E0=null;const Nz=p.createElement("form"),d8=function(st){return st instanceof RegExp||st instanceof Function},xS=function(st){if(!E0||E0!==st){if(st&&typeof st=="object"||(st={}),st=q1(st),Tv=Tv=Rz.indexOf(st.PARSER_MEDIA_TYPE)===-1?"text/html":st.PARSER_MEDIA_TYPE,ll=Tv==="application/xhtml+xml"?A_:E_,uo="ALLOWED_TAGS"in st?vr({},st.ALLOWED_TAGS,ll):Fo,Ln="ALLOWED_ATTR"in st?vr({},st.ALLOWED_ATTR,ll):qr,vS="ALLOWED_NAMESPACES"in st?vr({},st.ALLOWED_NAMESPACES,A_):Dz,Zm="ADD_URI_SAFE_ATTR"in st?vr(q1(Ed),st.ADD_URI_SAFE_ATTR,ll):Ed,W2="ADD_DATA_URI_TAGS"in st?vr(q1(qo),st.ADD_DATA_URI_TAGS,ll):qo,sh="FORBID_CONTENTS"in st?vr({},st.FORBID_CONTENTS,ll):U2,Ei="FORBID_TAGS"in st?vr({},st.FORBID_TAGS,ll):{},Ai="FORBID_ATTR"in st?vr({},st.FORBID_ATTR,ll):{},Wm="USE_PROFILES"in st&&st.USE_PROFILES,Oa=st.ALLOW_ARIA_ATTR!==!1,pa=st.ALLOW_DATA_ATTR!==!1,oh=st.ALLOW_UNKNOWN_PROTOCOLS||!1,kv=st.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pp=st.SAFE_FOR_TEMPLATES||!1,rh=st.WHOLE_DOCUMENT||!1,Um=st.RETURN_DOM||!1,C0=st.RETURN_DOM_FRAGMENT||!1,S0=st.RETURN_TRUSTED_TYPE||!1,bp=st.FORCE_BODY||!1,Ev=st.SANITIZE_DOM!==!1,pS=st.SANITIZE_NAMED_PROPS||!1,V2=st.KEEP_CONTENT!==!1,vp=st.IN_PLACE||!1,Kr=st.ALLOWED_URI_REGEXP||F5,Av=st.NAMESPACE||ah,pr=st.CUSTOM_ELEMENT_HANDLING||{},st.CUSTOM_ELEMENT_HANDLING&&d8(st.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pr.tagNameCheck=st.CUSTOM_ELEMENT_HANDLING.tagNameCheck),st.CUSTOM_ELEMENT_HANDLING&&d8(st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pr.attributeNameCheck=st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),st.CUSTOM_ELEMENT_HANDLING&&typeof st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pr.allowCustomizedBuiltInElements=st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pp&&(pa=!1),C0&&(Um=!0),Wm&&(uo=vr({},[...P5]),Ln=[],Wm.html===!0&&(vr(uo,hE),vr(Ln,p7)),Wm.svg===!0&&(vr(uo,Iy),vr(Ln,D_),vr(Ln,R_)),Wm.svgFilters===!0&&(vr(uo,Gb),vr(Ln,D_),vr(Ln,R_)),Wm.mathMl===!0&&(vr(uo,pE),vr(Ln,L5),vr(Ln,R_))),st.ADD_TAGS&&(uo===Fo&&(uo=q1(uo)),vr(uo,st.ADD_TAGS,ll)),st.ADD_ATTR&&(Ln===qr&&(Ln=q1(Ln)),vr(Ln,st.ADD_ATTR,ll)),st.ADD_URI_SAFE_ATTR&&vr(Zm,st.ADD_URI_SAFE_ATTR,ll),st.FORBID_CONTENTS&&(sh===U2&&(sh=q1(sh)),vr(sh,st.FORBID_CONTENTS,ll)),V2&&(uo["#text"]=!0),rh&&vr(uo,["html","head","body"]),uo.table&&(vr(uo,["tbody"]),delete Ei.tbody),st.TRUSTED_TYPES_POLICY){if(typeof st.TRUSTED_TYPES_POLICY.createHTML!="function")throw qh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof st.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fe=st.TRUSTED_TYPES_POLICY,be=fe.createHTML("")}else fe===void 0&&(fe=function(Nn,eo){if(typeof Nn!="object"||typeof Nn.createPolicy!="function")return null;let Fr=null;const Is="data-tt-policy-suffix";eo&&eo.hasAttribute(Is)&&(Fr=eo.getAttribute(Is));const Zs="dompurify"+(Fr?"#"+Fr:"");try{return Nn.createPolicy(Zs,{createHTML:$s=>$s,createScriptURL:$s=>$s})}catch{return console.warn("TrustedTypes policy "+Zs+" could not be created."),null}}(Y,h)),fe!==null&&typeof be=="string"&&(be=fe.createHTML(""));Hl&&Hl(st),E0=st}},f8=vr({},["mi","mo","mn","ms","mtext"]),m8=vr({},["foreignobject","desc","title","annotation-xml"]),Jn=vr({},["title","style","font","a","script"]),xp=vr({},Iy);vr(xp,Gb),vr(xp,M5);const yS=vr({},pE);vr(yS,h7);const yp=function(st){Ny(c.removed,{element:st});try{st.parentNode.removeChild(st)}catch{st.remove()}},Ov=function(st,Nn){try{Ny(c.removed,{attribute:Nn.getAttributeNode(st),from:Nn})}catch{Ny(c.removed,{attribute:null,from:Nn})}if(Nn.removeAttribute(st),st==="is"&&!Ln[st])if(Um||C0)try{yp(Nn)}catch{}else try{Nn.setAttribute(st,"")}catch{}},dT=function(st){let Nn,eo;if(bp)st="<remove></remove>"+st;else{const Zs=m7(st,/^[\r\n\t ]+/);eo=Zs&&Zs[0]}Tv==="application/xhtml+xml"&&Av===ah&&(st='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+st+"</body></html>");const Fr=fe?fe.createHTML(st):st;if(Av===ah)try{Nn=new K().parseFromString(Fr,Tv)}catch{}if(!Nn||!Nn.documentElement){Nn=we.createDocument(Av,"template",null);try{Nn.documentElement.innerHTML=uT?be:Fr}catch{}}const Is=Nn.body||Nn.documentElement;return st&&eo&&Is.insertBefore(p.createTextNode(eo),Is.childNodes[0]||null),Av===ah?wt.call(Nn,rh?"html":"body")[0]:rh?Nn.documentElement:Is},fT=function(st){return Fe.call(st.ownerDocument||st,st,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},mT=function(st){return typeof E=="object"?st instanceof E:st&&typeof st=="object"&&typeof st.nodeType=="number"&&typeof st.nodeName=="string"},Lu=function(st,Nn,eo){ft[st]&&gE(ft[st],Fr=>{Fr.call(c,Nn,eo,E0)})},g8=function(st){let Nn;if(Lu("beforeSanitizeElements",st,null),(eo=st)instanceof H&&(typeof eo.nodeName!="string"||typeof eo.textContent!="string"||typeof eo.removeChild!="function"||!(eo.attributes instanceof I)||typeof eo.removeAttribute!="function"||typeof eo.setAttribute!="function"||typeof eo.namespaceURI!="string"||typeof eo.insertBefore!="function"||typeof eo.hasChildNodes!="function"))return yp(st),!0;var eo;const Fr=ll(st.nodeName);if(Lu("uponSanitizeElement",st,{tagName:Fr,allowedTags:uo}),st.hasChildNodes()&&!mT(st.firstElementChild)&&(!mT(st.content)||!mT(st.content.firstElementChild))&&Xc(/<[/\w]/g,st.innerHTML)&&Xc(/<[/\w]/g,st.textContent))return yp(st),!0;if(!uo[Fr]||Ei[Fr]){if(!Ei[Fr]&&h8(Fr)&&(pr.tagNameCheck instanceof RegExp&&Xc(pr.tagNameCheck,Fr)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(Fr)))return!1;if(V2&&!sh[Fr]){const Is=se(st)||st.parentNode,Zs=ae(st)||st.childNodes;if(Zs&&Is)for(let $s=Zs.length-1;$s>=0;--$s)Is.insertBefore(ce(Zs[$s],!0),pe(st))}return yp(st),!0}return st instanceof O&&!function(Is){let Zs=se(Is);Zs&&Zs.tagName||(Zs={namespaceURI:Av,tagName:"template"});const $s=E_(Is.tagName),sa=E_(Zs.tagName);return!!vS[Is.namespaceURI]&&(Is.namespaceURI===bS?Zs.namespaceURI===ah?$s==="svg":Zs.namespaceURI===k0?$s==="svg"&&(sa==="annotation-xml"||f8[sa]):!!xp[$s]:Is.namespaceURI===k0?Zs.namespaceURI===ah?$s==="math":Zs.namespaceURI===bS?$s==="math"&&m8[sa]:!!yS[$s]:Is.namespaceURI===ah?!(Zs.namespaceURI===bS&&!m8[sa])&&!(Zs.namespaceURI===k0&&!f8[sa])&&!yS[$s]&&(Jn[$s]||!xp[$s]):!(Tv!=="application/xhtml+xml"||!vS[Is.namespaceURI]))}(st)?(yp(st),!0):Fr!=="noscript"&&Fr!=="noembed"&&Fr!=="noframes"||!Xc(/<\/no(script|embed|frames)/i,st.innerHTML)?(pp&&st.nodeType===3&&(Nn=st.textContent,Nn=rn(Nn,Bt," "),Nn=rn(Nn,sn," "),Nn=rn(Nn,hn," "),st.textContent!==Nn&&(Ny(c.removed,{element:st.cloneNode()}),st.textContent=Nn)),Lu("afterSanitizeElements",st,null),!1):(yp(st),!0)},gT=function(st,Nn,eo){if(Ev&&(Nn==="id"||Nn==="name")&&(eo in p||eo in Nz))return!1;if(!(pa&&!Ai[Nn]&&Xc(Rn,Nn))){if(!(Oa&&Xc(qn,Nn))){if(!Ln[Nn]||Ai[Nn]){if(!(h8(st)&&(pr.tagNameCheck instanceof RegExp&&Xc(pr.tagNameCheck,st)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(st))&&(pr.attributeNameCheck instanceof RegExp&&Xc(pr.attributeNameCheck,Nn)||pr.attributeNameCheck instanceof Function&&pr.attributeNameCheck(Nn))||Nn==="is"&&pr.allowCustomizedBuiltInElements&&(pr.tagNameCheck instanceof RegExp&&Xc(pr.tagNameCheck,eo)||pr.tagNameCheck instanceof Function&&pr.tagNameCheck(eo))))return!1}else if(!Zm[Nn]){if(!Xc(Kr,rn(eo,Lr,""))){if((Nn!=="src"&&Nn!=="xlink:href"&&Nn!=="href"||st==="script"||qb(eo,"data:")!==0||!W2[st])&&!(oh&&!Xc(Co,rn(eo,Lr,"")))){if(eo)return!1}}}}}return!0},h8=function(st){return st.indexOf("-")>0},p8=function(st){let Nn,eo,Fr,Is;Lu("beforeSanitizeAttributes",st,null);const{attributes:Zs}=st;if(!Zs)return;const $s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ln};for(Is=Zs.length;Is--;){Nn=Zs[Is];const{name:sa,namespaceURI:Dv}=Nn;eo=sa==="value"?Nn.value:g7(Nn.value);const Bz=eo;if(Fr=ll(sa),$s.attrName=Fr,$s.attrValue=eo,$s.keepAttr=!0,$s.forceKeepAttr=void 0,Lu("uponSanitizeAttribute",st,$s),eo=$s.attrValue,$s.forceKeepAttr)continue;if(!$s.keepAttr){Ov(sa,st);continue}if(!kv&&Xc(/\/>/i,eo)){Ov(sa,st);continue}pp&&(eo=rn(eo,Bt," "),eo=rn(eo,sn," "),eo=rn(eo,hn," "));const b8=ll(st.nodeName);if(gT(b8,Fr,eo)){if(!pS||Fr!=="id"&&Fr!=="name"||(Ov(sa,st),eo="user-content-"+eo),fe&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Dv)switch(Y.getAttributeType(b8,Fr)){case"TrustedHTML":eo=fe.createHTML(eo);break;case"TrustedScriptURL":eo=fe.createScriptURL(eo)}if(eo!==Bz)try{Dv?st.setAttributeNS(Dv,sa,eo):st.setAttribute(sa,eo)}catch{Ov(sa,st)}}else Ov(sa,st)}Lu("afterSanitizeAttributes",st,null)},Iz=function st(Nn){let eo;const Fr=fT(Nn);for(Lu("beforeSanitizeShadowDOM",Nn,null);eo=Fr.nextNode();)Lu("uponSanitizeShadowNode",eo,null),g8(eo)||(eo.content instanceof w&&st(eo.content),p8(eo));Lu("afterSanitizeShadowDOM",Nn,null)};return c.sanitize=function(st){let Nn,eo,Fr,Is,Zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(uT=!st,uT&&(st="<!-->"),typeof st!="string"&&!mT(st)){if(typeof st.toString!="function")throw qh("toString is not a function");if(typeof(st=st.toString())!="string")throw qh("dirty is not a string, aborting")}if(!c.isSupported)return st;if($2||xS(Zs),c.removed=[],typeof st=="string"&&(vp=!1),vp){if(st.nodeName){const Dv=ll(st.nodeName);if(!uo[Dv]||Ei[Dv])throw qh("root node is forbidden and cannot be sanitized in-place")}}else if(st instanceof E)Nn=dT("<!---->"),eo=Nn.ownerDocument.importNode(st,!0),eo.nodeType===1&&eo.nodeName==="BODY"||eo.nodeName==="HTML"?Nn=eo:Nn.appendChild(eo);else{if(!Um&&!pp&&!rh&&st.indexOf("<")===-1)return fe&&S0?fe.createHTML(st):st;if(Nn=dT(st),!Nn)return Um?null:S0?be:""}Nn&&bp&&yp(Nn.firstChild);const $s=fT(vp?st:Nn);for(;Fr=$s.nextNode();)g8(Fr)||(Fr.content instanceof w&&Iz(Fr.content),p8(Fr));if(vp)return st;if(Um){if(C0)for(Is=qe.call(Nn.ownerDocument);Nn.firstChild;)Is.appendChild(Nn.firstChild);else Is=Nn;return(Ln.shadowroot||Ln.shadowrootmode)&&(Is=ht.call(u,Is,!0)),Is}let sa=rh?Nn.outerHTML:Nn.innerHTML;return rh&&uo["!doctype"]&&Nn.ownerDocument&&Nn.ownerDocument.doctype&&Nn.ownerDocument.doctype.name&&Xc(Tm,Nn.ownerDocument.doctype.name)&&(sa="<!DOCTYPE "+Nn.ownerDocument.doctype.name+`>
`+sa),pp&&(sa=rn(sa,Bt," "),sa=rn(sa,sn," "),sa=rn(sa,hn," ")),fe&&S0?fe.createHTML(sa):sa},c.setConfig=function(st){xS(st),$2=!0},c.clearConfig=function(){E0=null,$2=!1},c.isValidAttribute=function(st,Nn,eo){E0||xS({});const Fr=ll(st),Is=ll(Nn);return gT(Fr,Is,eo)},c.addHook=function(st,Nn){typeof Nn=="function"&&(ft[st]=ft[st]||[],Ny(ft[st],Nn))},c.removeHook=function(st){if(ft[st])return f7(ft[st])},c.removeHooks=function(st){ft[st]&&(ft[st]=[])},c.removeAllHooks=function(){ft={}},c}();const z5=o=>S7().sanitize(o);var Eu=tinymce.util.Tools.resolve("tinymce.util.I18n");const k7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},H5="temporary-placeholder",vE=o=>()=>ln(o,H5).getOr("!not found!"),Gh=(o,a)=>{const c=o.toLowerCase();if(Eu.isRtl()){const u=((h,p)=>ou(h,p)?h:((w,k)=>w+k)(h,p))(c,"-rtl");return mo(a,u)?u:c}return c},My=(o,a)=>ln(a,Gh(o,a)),$5=(o,a)=>{const c=a();return My(o,c).getOrThunk(vE(c))},N_=()=>lo("add-focusable",[Hr(o=>{h1(o.element,"svg").each(a=>Xt(a,"focusable","false"))})]),V5=(o,a,c,u)=>{var h,p;const w=(E=>!!Eu.isRtl()&&mo(k7,E))(a)?["tox-icon--flip"]:[],k=ln(c,Gh(a,c)).or(u).getOrThunk(vE(c));return{dom:{tag:o.tag,attributes:(h=o.attributes)!==null&&h!==void 0?h:{},classes:o.classes.concat(w),innerHtml:k},behaviours:Lt([...(p=o.behaviours)!==null&&p!==void 0?p:[],N_()])}},xc=(o,a,c,u=R.none())=>V5(a,o,c(),u),E7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},xE=Kc({name:"Notification",factory:o=>{const a=dn("notification-text"),c=Qo({dom:Am(`<p id=${a}>${z5(o.backstageProvider.translate(o.text))}</p>`),behaviours:Lt([Fn.config({})])}),u=I=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${I}%`}}}),h=I=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${I}%`}}),p=Qo({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(0)]},h(0)],behaviours:Lt([Fn.config({})])}),w={updateProgress:(I,H)=>{I.getSystem().isConnected()&&p.getOpt(I).each(K=>{Fn.set(K,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(H)]},h(H)])})},updateText:(I,H)=>{if(I.getSystem().isConnected()){const K=c.get(I);Fn.set(K,[ys(H)])}}},k=dr([o.icon.toArray(),o.level.toArray(),o.level.bind(I=>R.from(E7[I])).toArray()]),E=Qo(ki.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[xc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:Lt([Sr.config({}),Hs.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:I=>{o.onAction(I)}})),O=((I,H,K)=>{const Y=K(),re=J(I,ce=>mo(Y,Gh(ce,Y)));return V5({tag:"div",classes:["tox-notification__icon"]},re.getOr(H5),Y,R.none())})(k,0,o.iconProvider),M=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:Lt([Fn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:o.level.map(I=>["tox-notification","tox-notification--in",`tox-notification--${I}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Lt([Sr.config({}),Zn.config({}),Sn.config({mode:"special",onEscape:I=>(o.onAction(I),R.some(!0))})]),components:M.concat(o.progress?[p.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Io("level"),kt("progress"),Io("icon"),kt("onAction"),kt("text"),kt("iconProvider"),kt("backstageProvider")],apis:{updateProgress:(o,a,c)=>{o.updateProgress(a,c)},updateText:(o,a,c)=>{o.updateText(a,c)}}});var U5=(o,a,c,u)=>{const h=a.backstage.shared,p=()=>Qt(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),w=()=>{const E=Us(p());return R.some(E)},k=E=>{w().each(O=>{jt(E,M=>{Jo(M.element,"width"),ca(M.element)>O.width&&Xn(M.element,"width",O.width+"px")})})};return{open:(E,O,M)=>{const I=()=>{u.on(Y=>{O();const re=M();(ce=>{Fn.remove(ce,H),K()})(Y),((ce,pe)=>{fr(ce.element).length===0?((ae,se)=>{Jr.hide(ae),u.clear(),se&&o.focus()})(ce,pe):((ae,se)=>{se&&Sn.focusIn(ae)})(ce,pe)})(Y,re)})},H=Ea(xE.sketch({text:E.text,level:ot(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:I,iconProvider:h.providers.icons,backstageProvider:h.providers}));if(u.isSet()){const Y=Fi(H);u.on(re=>{Fn.append(re,Y),Jr.reposition(re),Zr.refresh(re),k(re.components())})}else{const Y=Ea(Jr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:h.getSink,fireDismissalEventInstead:{},...h.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Lt([Sn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Fn.config({}),...Ug(o)&&!h.header.isPositionedAtTop()?[]:[Zr.config({contextual:{lazyContext:()=>R.some(Us(p())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ae=>jh(o,ae.element).map(se=>({bounds:Kh(se),optScrollEnv:R.some({currentScrollTop:se.element.dom.scrollTop,scrollElmTop:gl(se.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})]])})),re=Fi(H),ce={maxHeightFunction:Bg()},pe={...h.anchors.banner(),overrides:ce};u.set(Y),c.add(Y),Jr.showWithinBounds(Y,re,{anchor:pe},w)}ee(E.timeout)&&E.timeout>0&&m_.setEditorTimeout(o,()=>{I()},E.timeout);const K=()=>{u.on(Y=>{Jr.reposition(Y),Zr.refresh(Y),k(Y.components())})};return{close:I,reposition:K,text:Y=>{xE.updateText(H,Y)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Y=>{xE.updateProgress(H,Y)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},Py;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Py||(Py={}));var _f=Py;const I_="tox-menu-nav__js",B_="tox-collection__item",W5="tox-swatch",Z5={normal:I_,color:W5},j5="tox-collection__item--enabled",K5="tox-collection__item-icon",Ly="tox-collection__item-label",yE="tox-collection__item-caret",Om="tox-collection__item--active",Fy="tox-collection__item-container",zy="tox-collection__item-container--row",Yh=o=>ln(Z5,o).getOr(I_),K$=o=>o==="color"?"tox-swatches":"tox-menu",wE=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:K$(o),tieredMenu:"tox-tiered-menu"}),Yb=o=>{const a=wE(o);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:Yh(o)}},q5=(o,a,c)=>{const u=wE(c);return{tag:"div",classes:dr([[u.menu,`tox-menu-${a}-column`],o?[u.hasIcons]:[]])}},G5=[Wb.parts.items({})],M_=(o,a,c)=>{const u=wE(c);return{dom:{tag:"div",classes:dr([[u.tieredMenu]])},markers:Yb(c)}},A7=ie([Io("data"),Xe("inputAttributes",{}),Xe("inputStyles",{}),Xe("tag","input"),Xe("inputClasses",[]),Lo("onSetValue"),Xe("styles",{}),Xe("eventOrder",{}),fn("inputBehaviours",[tt,Zn]),Xe("selectOnFocus",!0)]),T7=o=>Lt([Zn.config({onFocus:o.selectOnFocus?a=>{const c=a.element,u=nf(c);c.dom.setSelectionRange(0,u.length)}:ge})]),O7=o=>({...T7(o),...io(o.inputBehaviours,[tt.config({store:{mode:"manual",...o.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>nf(a.element),setValue:(a,c)=>{nf(a.element)!==c&&um(a.element,c)}},onSetValue:o.onSetValue})])}),Y5=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Zg=Kc({name:"Input",configFields:A7(),factory:(o,a)=>({uid:o.uid,dom:Y5(o),components:[],behaviours:O7(o),eventOrder:o.eventOrder})}),X5=dn("refetch-trigger-event"),J5=dn("redirect-menu-item-interaction"),Q5="tox-menu__searcher",Hy=o=>jr(o.element,`.${Q5}`).bind(a=>o.getSystem().getByDom(a).toOptional()),eD=Hy,tD=o=>({fetchPattern:tt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),nD=o=>{const a=(h,p)=>(p.cut(),R.none()),c=(h,p)=>{const w={interactionEvent:p.event,eventType:p.event.raw.type};return wn(h,J5,w),R.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[B_]},components:[Zg.sketch({inputClasses:[Q5,"tox-textfield"],inputAttributes:{...o.placeholder.map(h=>({placeholder:o.i18n(h)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Lt([lo(u,[pt(nm(),h=>{fo(h,X5)}),pt(ss(),(h,p)=>{p.event.raw.key==="Escape"&&p.stop()})]),Sn.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[u,Sn.name()]}})]}},$y="tox-collection--results__js",oD=o=>{var a;return o.dom?{...o,dom:{...o.dom,attributes:{...(a=o.dom.attributes)!==null&&a!==void 0?a:{},id:dn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},P_=(o,a)=>c=>{const u=yt(c,a);return vt(u,h=>({dom:o,components:h}))},rD=(o,a)=>{const c=[];let u=[];return jt(o,(h,p)=>{a(h,p)?(u.length>0&&c.push(u),u=[],(mo(h.dom,"innerHtml")||h.components&&h.components.length>0)&&u.push(h)):u.push(h)}),u.length>0&&c.push(u),vt(c,h=>({dom:{tag:"div",classes:["tox-collection__group"]},components:h}))},Vy=(o,a,c)=>Wb.parts.items({preprocess:u=>{const h=vt(u,c);return o!=="auto"&&o>1?P_({tag:"div",classes:["tox-collection__group"]},o)(h):rD(h,(p,w)=>a[w].type==="separator")}}),_E=(o,a,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Vy(o,a,Me)]}),Uy=o=>Vn(o,a=>"icon"in a&&a.icon!==void 0),Dm=o=>(console.error(Mi(o)),console.log(o),R.none()),D7=(o,a,c,u,h)=>{const p=(w=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Wb.parts.items({preprocess:k=>rD(k,(E,O)=>w[O].type==="separator")})]});var w;return{value:o,dom:p.dom,components:p.components,items:c}},CE=(o,a,c,u,h)=>{if(h.menuType==="color"){const p=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Wb.parts.items({preprocess:w!=="auto"?P_({tag:"div",classes:["tox-swatches__row"]},w):Me})]}]}))(u);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="normal"&&u==="auto"){const p=_E(u,c);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="normal"||h.menuType==="searchable"){const p=h.menuType!=="searchable"?_E(u,c):h.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const O=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[nD({i18n:Eu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],$y],attributes:{id:O}},components:[Vy(w,k,oD)]}]}})(u,c,h.searchMode):((w,k,E=!0)=>{const O=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",$y].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[Vy(w,k,oD)]}})(u,c);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="listpreview"&&u!=="auto"){const p=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Wb.parts.items({preprocess:P_({tag:"div",classes:["tox-collection__group"]},w)})]}))(u);return{value:o,dom:p.dom,components:p.components,items:c}}return{value:o,dom:q5(a,u,h.menuType),components:G5,items:c}},Js=rs("type"),SE=rs("name"),kE=rs("label"),Au=rs("text"),EE=rs("title"),AE=rs("icon"),Xb=rs("value"),R7=xi("fetch"),sD=xi("getSubmenuItems"),G1=xi("onAction"),aD=xi("onItemAction"),Xh=Mr("onSetup",()=>ge),N7=xs("name"),Jh=xs("text"),I7=xs("role"),Tu=xs("icon"),Wy=xs("tooltip"),TE=xs("label"),Y1=xs("shortcut"),OE=Mc("select"),L_=Ls("active",!1),q$=Ls("borderless",!1),Ou=Ls("enabled",!0),F_=Ls("primary",!1),iD=o=>Xe("columns",o),yc=Xe("meta",{}),DE=Mr("onAction",ge),Jb=o=>Cl("type",o),RE=o=>Ws("name","name",mg(()=>dn(`${o}-name`)),na),lD=Bn([Js,Jh]),B7=Bn([Jb("autocompleteitem"),L_,Ou,yc,Xb,Jh,Tu]),Rm=[Ou,Wy,Tu,Jh,Xh],NE=Bn([Js,G1,Y1].concat(Rm)),cD=o=>os("toolbarbutton",NE,o),Zy=[L_].concat(Rm),z_=Bn(Zy.concat([Js,G1,Y1])),H_=o=>os("ToggleButton",z_,o),uD=[Mr("predicate",Ee),oc("scope","node",["node","editor"]),oc("position","selection",["node","selection","line"])],M7=Rm.concat([Jb("contextformbutton"),F_,G1,Ca("original",Me)]),P7=Zy.concat([Jb("contextformbutton"),F_,G1,Ca("original",Me)]),L7=Rm.concat([Jb("contextformbutton")]),F7=Zy.concat([Jb("contextformtogglebutton")]),z7=Gs("type",{contextformbutton:M7,contextformtogglebutton:P7}),H7=Bn([Jb("contextform"),Mr("initValue",ie("")),TE,Pi("commands",z7),Es("launch",Gs("type",{contextformbutton:L7,contextformtogglebutton:F7}))].concat(uD)),dD=Bn([Jb("contexttoolbar"),rs("items")].concat(uD)),$_=[Js,rs("src"),xs("alt"),lr("classes",[],na)],$7=Bn($_),V7=[Js,Au,N7,lr("classes",["tox-collection__item-label"],na)],U7=Bn(V7),fD=Xf(()=>hu("type",{cardimage:$7,cardtext:U7,cardcontainer:X1})),X1=Bn([Js,Cl("direction","horizontal"),Cl("align","left"),Cl("valign","middle"),Pi("items",fD)]),Qb=[Ou,Jh,I7,Y1,Ws("value","value",mg(()=>dn("menuitem-value")),pl()),yc],W7=Bn([Js,TE,Pi("items",fD),Xh,DE].concat(Qb)),IE=Bn([Js,L_,Tu].concat(Qb)),mD=[Js,rs("fancytype"),DE],gD=[Xe("initData",{})].concat(mD),hD=[Mc("select"),wi("initData",{},[Ls("allowCustomColors",!0),Cl("storageKey","default"),q0("colors",pl())])].concat(mD),pD=Gs("fancytype",{inserttable:gD,colorswatch:hD}),bD=Bn([Js,Xh,DE,Tu].concat(Qb)),vD=Bn([Js,sD,Xh,Tu].concat(Qb)),Z7=Bn([Js,Tu,L_,Xh,G1].concat(Qb)),BE=(o,a,c)=>{const u=ra(o.element,"."+c);if(u.length>0){const h=nr(u,p=>{const w=p.dom.getBoundingClientRect().top,k=u[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(u.length);return R.some({numColumns:h,numRows:Math.ceil(u.length/h)})}return R.none()},jy=o=>((a,c)=>Lt([lo(a,c)]))(dn("unnamed-events"),o),V_="silver.readonly",j7=Bn([Sa("readonly",Bl)]),e0=(o,a)=>{const c=o.mainUi.outerContainer.element,u=[o.mainUi.mothership,...o.uiMotherships];a&&jt(u,h=>{h.broadcastOn([B()],{target:c})}),jt(u,h=>{h.broadcastOn([V_],{readonly:a})})},xD=(o,a)=>{o.on("init",()=>{o.mode.isReadOnly()&&e0(a,!0)}),o.on("SwitchMode",()=>e0(a,o.mode.isReadOnly())),nE(o)&&o.mode.set("readonly")},ga=()=>ol.config({channels:{[V_]:{schema:j7,onReceive:(o,a)=>{Kn.set(o,a.readonly)}}}}),ci=o=>Kn.config({disabled:o}),yD=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),U_=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),Ky=(o,a)=>{const c=o.getApi(a);return u=>{u(c)}},Qh=(o,a)=>Hr(c=>{Ky(o,c)(u=>{const h=o.onSetup(u);G(h)&&a.set(h)})}),jg=(o,a)=>xu(c=>Ky(o,c)(a.get())),wD=(o,a)=>zc((c,u)=>{Ky(o,c)(o.onAction),o.triggersSubmenu||a!==_f.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&fo(c,Gp()),u.stop())}),K7={[el()]:["disabling","alloy.base.behaviour","toggling","item-events"]},J1=Ba,Q1=(o,a,c,u)=>{const h=An(ge);return{type:"item",dom:a.dom,components:J1(a.optComponents),data:o.data,eventOrder:K7,hasSubmenu:o.triggersSubmenu,itemBehaviours:Lt([lo("item-events",[wD(o,c),Qh(o,h),jg(o,h)]),(p=()=>!o.enabled||u.isDisabled(),Kn.config({disabled:p,disableClass:"tox-collection__item--state-disabled"})),ga(),Fn.config({})].concat(o.itemBehaviours))};var p},ev=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),W_=o=>{const a=xf.os.isMacOS()||xf.os.isiOS(),c=a?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},u=o.split("+"),h=vt(u,p=>{const w=p.toLowerCase().trim();return mo(c,w)?c[w]:p});return a?h.join(""):h.join("+")},ME=(o,a,c=[K5])=>xc(o,{tag:"div",classes:c},a),_D=o=>({dom:{tag:"div",classes:[Ly]},components:[ys(Eu.translate(o))]}),PE=(o,a)=>({dom:{tag:"div",classes:a,innerHtml:o}}),CD=(o,a)=>({dom:{tag:"div",classes:[Ly]},components:[{dom:{tag:o.tag,styles:o.styles},components:[ys(Eu.translate(a))]}]}),SD=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ys(W_(o))]}),kD=o=>ME("checkmark",o,["tox-collection__item-checkmark"]),ED=o=>{const a=o.map(c=>({attributes:{id:dn("menu-item"),"aria-label":Eu.translate(c)}})).getOr({});return{tag:"div",classes:[I_,B_],...a}},qy=(o,a,c,u=R.none())=>o.presets==="color"?((h,p,w)=>{const k=h.value,E=h.iconContent.map(M=>((I,H,K)=>{const Y=H();return My(I,Y).or(K).getOrThunk(vE(Y))})(M,p.icons,w)),O=h.ariaLabel.map(M=>({"aria-label":p.translate(M),"data-mce-name":M})).getOr({});return{dom:(()=>{const M=W5,I=E.getOr(""),H={tag:"div",attributes:O,classes:[M]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:I}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:I}:U(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:I}:H})(),optComponents:[]}})(o,a,u):((h,p,w,k)=>{const E={tag:"div",classes:[K5]},O=w?h.iconContent.map(K=>xc(K,E,p.icons,k)).orThunk(()=>R.some({dom:E})):R.none(),M=h.checkMark,I=R.from(h.meta).fold(()=>_D,K=>mo(K,"style")?Je(CD,K.style):_D),H=h.htmlContent.fold(()=>h.textContent.map(I),K=>R.some(PE(K,[Ly])));return{dom:ED(h.ariaLabel),optComponents:[O,H,h.shortcutContent.map(SD),M,h.caret]}})(o,a,c,u),AD=(o,a,c)=>ln(o,"tooltipWorker").map(u=>[Hs.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:h=>({type:"submenu",item:h,overrides:{maxHeightFunction:Bg}}),mode:"follow-highlight",onShow:(h,p)=>{u(w=>{Hs.setComponents(h,[of({element:Qt(w)})])})}})]).getOrThunk(()=>c.map(u=>[Hs.config({...a.providers.tooltips.getConfig({tooltipText:u}),mode:"follow-highlight"})]).getOr([])),LE=(o,a)=>{const c=(u=>U1.DOM.encode(u))(Eu.translate(o));if(a.length>0){const u=new RegExp((h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return c.replace(u,h=>`<span class="tox-autocompleter-highlight">${h}</span>`)}return c},FE=(o,a)=>vt(o,c=>{switch(c.type){case"cardcontainer":return((p,w)=>{const k=p.direction==="vertical"?"tox-collection__item-container--column":zy,E=p.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Fy,k,E,(()=>{switch(p.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(c,FE(c.items,a));case"cardimage":return((p,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:p,alt:k.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const u=c.name.exists(p=>ot(a.cardText.highlightOn,p)),h=u?R.from(a.cardText.matchText).getOr(""):"";return PE(LE(c.text,h),c.classes)}}),Kg=$i(Qk(),eE()),zE=o=>({value:t0(o)}),HE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$E=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,TD=o=>HE.test(o)||$E.test(o),t0=o=>yr(o,"#").toUpperCase(),VE=o=>{const a=o.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},Gy=o=>{const a=VE(o.red)+VE(o.green)+VE(o.blue);return zE(a)},UE=Math.min,OD=Math.max,Z_=Math.round,q7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,DD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,qg=(o,a,c,u)=>({red:o,green:a,blue:c,alpha:u}),Yy=o=>{const a=parseInt(o,10);return a.toString()===o&&a>=0&&a<=255},RD=o=>{let a,c,u;const h=(o.hue||0)%360;let p=o.saturation/100,w=o.value/100;if(p=OD(0,UE(p,1)),w=OD(0,UE(w,1)),p===0)return a=c=u=Z_(255*w),qg(a,c,u,1);const k=h/60,E=w*p,O=E*(1-Math.abs(k%2-1)),M=w-E;switch(Math.floor(k)){case 0:a=E,c=O,u=0;break;case 1:a=O,c=E,u=0;break;case 2:a=0,c=E,u=O;break;case 3:a=0,c=O,u=E;break;case 4:a=O,c=0,u=E;break;case 5:a=E,c=0,u=O;break;default:a=c=u=0}return a=Z_(255*(a+M)),c=Z_(255*(c+M)),u=Z_(255*(u+M)),qg(a,c,u,1)},xd=o=>{const a=(p=>{const w=(E=>({value:E.value.replace(HE,(M,I,H,K)=>I+I+H+H+K+K)}))(p),k=$E.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(o),c=parseInt(a[1],16),u=parseInt(a[2],16),h=parseInt(a[3],16);return qg(c,u,h,1)},WE=(o,a,c,u)=>{const h=parseInt(o,10),p=parseInt(a,10),w=parseInt(c,10),k=parseFloat(u);return qg(h,p,w,k)},j_=o=>{const a=q7.exec(o);if(a!==null)return R.some(WE(a[1],a[2],a[3],"1"));const c=DD.exec(o);return c!==null?R.some(WE(c[1],c[2],c[3],c[4])):R.none()},ND=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,ID=qg(255,0,0,1),n0=(o,a)=>{o.dispatch("ResizeContent",a)},tv=(o,a)=>{o.dispatch("TextColorChange",a)},BD=(o,a)=>o.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),nv=(o,a)=>()=>{o(),a()},ha=o=>o0(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable())}),Cf=(o,a)=>c=>{const u=ha(o)(c),h=((p,w)=>k=>{const E=tc(),O=()=>{k.setActive(p.formatter.match(w));const M=p.formatter.formatChanged(w,k.setActive);E.set(M)};return p.initialized?O():p.once("init",O),()=>{p.off("init",O),E.clear()}})(o,a)(c);return()=>{u(),h()}},o0=(o,a,c)=>u=>{const h=()=>c(u),p=()=>{c(u),o.on(a,h)};return o.initialized?p():o.once("init",p),()=>{o.off("init",p),o.off(a,h)}},MD=o=>a=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,a.format)})},$l=(o,a)=>()=>o.execCommand(a);var wc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const K_={},PD=o=>ln(K_,o).getOrThunk(()=>{const a=`tinymce-custom-colors-${o}`,c=wc.getItem(a);if(W(c)){const h=wc.getItem("tinymce-custom-colors");wc.setItem(a,U(h)?h:"[]")}const u=((h,p=10)=>{const w=wc.getItem(h),k=b(w)?JSON.parse(w):[],E=p-(O=k).length<0?O.slice(0,p):O;var O;const M=I=>{E.splice(I,1)};return{add:I=>{((H,K)=>{const Y=Tn(H,K);return Y===-1?R.none():R.some(Y)})(E,I).each(M),E.unshift(I),E.length>p&&E.pop(),wc.setItem(h,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return K_[o]=u,u}),ZE=(o,a)=>{PD(o).add(a)},ov=(o,a,c)=>({hue:o,saturation:a,value:c}),q_=o=>{let a=0,c=0,u=0;const h=o.red/255,p=o.green/255,w=o.blue/255,k=Math.min(h,Math.min(p,w)),E=Math.max(h,Math.max(p,w));return k===E?(u=k,ov(0,0,100*u)):(a=h===k?3:w===k?1:5,a=60*(a-(h===k?p-w:w===k?h-p:w-h)/(E-k)),c=(E-k)/E,u=E,ov(Math.round(a),Math.round(100*c),Math.round(100*u)))},G_=o=>Gy(RD(o)),LD=o=>{return(a=o,TD(a)?R.some({value:t0(a)}):R.none()).orThunk(()=>j_(o).map(Gy)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const u=c.getContext("2d");u.clearRect(0,0,c.width,c.height),u.fillStyle="#FFFFFF",u.fillStyle=o,u.fillRect(0,0,1,1);const h=u.getImageData(0,0,1,1).data,p=h[0],w=h[1],k=h[2],E=h[3];return Gy(qg(p,w,k,E))});var a},jE="forecolor",KE="hilitecolor",G7=o=>{const a=[];for(let c=0;c<o.length;c+=2)a.push({text:o[c+1],value:"#"+LD(o[c]).value,icon:"checkmark",type:"choiceitem"});return a},Du=o=>a=>a.options.get(o),Xy="#000000",r0=(o,a)=>a===jE&&o.options.isSet("color_map_foreground")?Du("color_map_foreground")(o):a===KE&&o.options.isSet("color_map_background")?Du("color_map_background")(o):Du("color_map")(o),Y_=(o,a="default")=>Math.max(5,Math.ceil(Math.sqrt(r0(o,a).length))),FD=(o,a)=>{const c=Du("color_cols")(o),u=Y_(o,a);return c===Y_(o)?u:c},qE=(o,a="default")=>Math.round(a===jE?Du("color_cols_foreground")(o):a===KE?Du("color_cols_background")(o):Du("color_cols")(o)),GE=Du("custom_colors"),zD=Du("color_default_foreground"),HD=Du("color_default_background"),$D=(o,a)=>{const c=Qt(o.selection.getStart()),u=a==="hilitecolor"?pg(c,h=>{if(Vr(h)){const p=ns(h,"background-color");return Vo(j_(p).exists(w=>w.alpha!==0),p)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):ns(c,"color");return j_(u).map(h=>"#"+Gy(h).value)},X_=o=>{const a="choiceitem",c={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},YE=(o,a,c,u)=>{c==="custom"?WD(o)(h=>{h.each(p=>{ZE(a,p),o.execCommand("mceApplyTextcolor",a,p),u(p)})},$D(o,a).getOr(Xy)):c==="remove"?(u(""),o.execCommand("mceRemoveTextcolor",a)):(u(c),o.execCommand("mceApplyTextcolor",a,c))},XE=(o,a,c)=>o.concat((u=>vt(PD(u).state(),h=>({type:"choiceitem",text:h,icon:"checkmark",value:h})))(a).concat(X_(c))),VD=(o,a,c)=>u=>{u(XE(o,a,c))},JE=(o,a,c)=>{const u=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(u,c)},QE=(o,a)=>{o.setTooltip(a)},UD=(o,a)=>c=>{const u=$D(o,a);return zr(u,c.toUpperCase())},e3=(o,a,c)=>{if(ru(c))return a==="forecolor"?"Text color":"Background color";const u=a==="forecolor"?"Text color {0}":"Background color {0}",h=XE(r0(o,a),a,!1),p=J(h,w=>w.value===c).getOr({text:""}).text;return o.translate([u,o.translate(p)])},t3=(o,a,c,u)=>{o.ui.registry.addSplitButton(a,{tooltip:e3(o,c,u.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:UD(o,c),columns:qE(o,c),fetch:VD(r0(o,c),c,GE(o)),onAction:h=>{YE(o,c,u.get(),ge)},onItemAction:(h,p)=>{YE(o,c,p,w=>{u.set(w),tv(o,{name:a,color:w})})},onSetup:h=>{JE(h,a,u.get());const p=w=>{w.name===a&&(JE(h,w.name,w.color),QE(h,e3(o,c,w.color)))};return o.on("TextColorChange",p),nv(ha(o)(h),()=>{o.off("TextColorChange",p)})}})},rv=(o,a,c,u,h)=>{o.ui.registry.addNestedMenuItem(a,{text:u,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:p=>(QE(p,e3(o,c,h.get())),JE(p,a,h.get()),ha(o)(p)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:UD(o,c),initData:{storageKey:c},onAction:p=>{YE(o,c,p.value,w=>{h.set(w),tv(o,{name:a,color:w})})}}]})},WD=o=>(a,c)=>{let u=!1;const h={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:(p,w)=>{w.name==="hex-valid"&&(u=w.value)},onSubmit:p=>{const w=p.getData().colorpicker;u?(a(R.from(w)),p.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",w]))},onClose:ge,onCancel:()=>{a(R.none())}})},s0=(o,a,c,u,h,p,w,k)=>{const E=Uy(a),O=n3(a,c,u,h!=="color"?"normal":"color",p,w,k);return CE(o,E,O,u,{menuType:h})},n3=(o,a,c,u,h,p,w)=>Ba(vt(o,k=>{return k.type==="choiceitem"?(E=k,os("choicemenuitem",IE,E)).fold(Dm,O=>R.some(((M,I,H,K,Y,re,ce,pe=!0)=>{const ae=qy({presets:H,textContent:I?M.text:R.none(),htmlContent:R.none(),ariaLabel:M.text,iconContent:M.icon,shortcutContent:I?M.shortcut:R.none(),checkMark:I?R.some(kD(ce.icons)):R.none(),caret:R.none(),value:M.value},ce,pe),se=M.text.filter(ie(!I)).map(fe=>Hs.config(ce.tooltips.getConfig({tooltipText:ce.translate(fe)})));return mr(Q1({data:ev(M),enabled:M.enabled,getApi:fe=>({setActive:be=>{Un.set(fe,be)},isActive:()=>Un.isOn(fe),isEnabled:()=>!Kn.isDisabled(fe),setEnabled:be=>Kn.set(fe,!be)}),onAction:fe=>K(M.value),onSetup:fe=>(fe.setActive(Y),ge),triggersSubmenu:!1,itemBehaviours:[...se.toArray()]},ae,re,ce),{toggling:{toggleClass:j5,toggleOnExecute:!1,selected:M.active,exclusive:!0}})})(O,c===1,u,a,p(O.value),h,w,Uy(o)))):R.none();var E})),Jy=(o,a)=>{const c=Yb(a);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:u=>a==="color"?jr(u.element,"[aria-checked=true]"):R.none()}},o3=dn("cell-over"),ZD=dn("cell-execute"),Y7=(o,a,c)=>{const u=p=>wn(p,ZD,{row:o,col:a}),h=(p,w)=>{w.stop(),u(p)};return Ea({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:Lt([lo("insert-table-picker-cell",[pt(yn(),Zn.focus),pt(el(),u),pt(Ys(),h),pt(Kd(),h)]),Un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:p=>wn(p,o3,{row:o,col:a})})])})},jD=o=>jo(o,a=>vt(a,Fi)),KD=(o,a)=>ys(`${a}x${o}`),qD={inserttable:(o,a)=>{const c=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),u=((w,k,E)=>{const O=[];for(let M=0;M<10;M++){const I=[];for(let H=0;H<10;H++){const K=w(M+1,H+1);I.push(Y7(M,H,K))}O.push(I)}return O})(c),h=KD(0,0),p=Qo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:Lt([Fn.config({})])});return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Kg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:jD(u).concat(p.asSpec()),behaviours:Lt([lo("insert-table-picker",[Hr(w=>{Fn.set(p.get(w),[h])}),vg(o3,(w,k,E)=>{const{row:O,col:M}=E.event;((I,H,K,Y,re)=>{for(let ce=0;ce<10;ce++)for(let pe=0;pe<10;pe++)Un.set(I[ce][pe],ce<=H&&pe<=K)})(u,O,M),Fn.set(p.get(w),[KD(O+1,M+1)])}),vg(ZD,(w,k,E)=>{const{row:O,col:M}=E.event;fo(w,Gp()),o.onAction({numRows:O+1,numColumns:M+1})})]),Sn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,a)=>{const c=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>XE(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),O=>O.concat(X_(E)))})(o,a),u=a.colorinput.getColorCols(o.initData.storageKey),h="color",p={...s0(dn("menu-value"),c,w=>{o.onAction({value:w})},u,h,_f.CLOSE_ON_EXECUTE,o.select.getOr(Ee),a.shared.providers),markers:Yb(h),movement:Jy(u,h),showMenuRole:!1};return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Kg.widget(Wb.sketch(p))]}}},GD=o=>({type:"separator",dom:{tag:"div",classes:[B_,"tox-collection__group-heading"]},components:o.text.map(ys).toArray()});var X7=Object.freeze({__proto__:null,getCoupled:(o,a,c,u)=>c.getOrCreate(o,a,u),getExistingCoupled:(o,a,c,u)=>c.getExisting(o,a,u)}),YD=[Sa("others",Wp(_o.value,pl()))],J_=Object.freeze({__proto__:null,init:()=>{const o={},a=(u,h)=>{if(on(u.others).length===0)throw new Error("Cannot find any known coupled components");return ln(o,h)},c=ie({});return fa({readState:c,getExisting:(u,h,p)=>a(h,p).orThunk(()=>(ln(h.others,p).getOrDie("No information found for coupled component: "+p),R.none())),getOrCreate:(u,h,p)=>a(h,p).getOrThunk(()=>{const w=ln(h.others,p).getOrDie("No information found for coupled component: "+p)(u),k=u.getSystem().build(w);return o[p]=k,k})})}});const ws=ma({fields:YD,name:"coupling",apis:X7,state:J_}),Qy=o=>{let a=R.none(),c=[];const u=w=>{h()?p(w):c.push(w)},h=()=>a.isSome(),p=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return o(w=>{h()||(a=R.some(w),jt(c,p),c=[])}),{get:u,map:w=>Qy(k=>{u(E=>{k(w(E))})}),isReady:h}},J7={nu:Qy,pure:o=>Qy(a=>{a(o)})},Q7=o=>{setTimeout(()=>{throw o},0)},sv=o=>{const a=c=>{o().then(c,Q7)};return{map:c=>sv(()=>o().then(c)),bind:c=>sv(()=>o().then(u=>c(u).toPromise())),anonBind:c=>sv(()=>o().then(()=>c.toPromise())),toLazy:()=>J7.nu(a),toCached:()=>{let c=null;return sv(()=>(c===null&&(c=o()),c))},toPromise:o,get:a}},ep=o=>sv(()=>new Promise(o)),Nm=o=>sv(()=>Promise.resolve(o)),r3=ie("sink"),XD=ie(jc({name:r3(),overrides:ie({dom:{tag:"div"},behaviours:Lt([qa.config({useFixed:Ne})]),events:Qn([rm(ss()),rm(Et()),rm(Ys())])})})),JD=(o,a)=>{const c=o.getHotspot(a).getOr(a),u="hotspot",h=o.getAnchorOverrides();return o.layouts.fold(()=>({type:u,hotspot:c,overrides:h}),p=>({type:u,hotspot:c,overrides:h,layouts:p}))},Q_=(o,a,c,u,h,p,w)=>((E,O,M,I,H,K,Y)=>{const re=((pe,ae,se)=>(0,pe.fetch)(se).map(ae))(E,O,I),ce=QD(I,E);return re.map(pe=>pe.bind(ae=>{const se=ae.menus[ae.primary];return R.from(se).each(fe=>{E.listRole.each(be=>{fe.role=be})}),R.from($g.sketch({...K.menu(),uid:dc(""),data:ae,highlightOnOpen:Y,onOpenMenu:(fe,be)=>{const we=ce().getOrDie();qa.position(we,be,{anchor:M}),T.decloak(H)},onOpenSubmenu:(fe,be,we)=>{const Fe=ce().getOrDie();qa.position(Fe,we,{anchor:{type:"submenu",item:be}}),T.decloak(H)},onRepositionMenu:(fe,be,we)=>{const Fe=ce().getOrDie();qa.position(Fe,be,{anchor:M}),jt(we,qe=>{qa.position(Fe,qe.triggeredMenu,{anchor:{type:"submenu",item:qe.triggeringItem}})})},onEscape:()=>(Zn.focus(I),T.close(H),R.some(!0))}))}))})(o,a,JD(o,c),c,u,h,w).map(E=>(E.fold(()=>{T.isOpen(u)&&T.close(u)},O=>{T.cloak(u),T.open(u,O),p(u)}),u)),eP=(o,a,c,u,h,p,w)=>(T.close(u),Nm(u)),s3=(o,a,c,u,h,p)=>{const w=ws.getCoupled(c,"sandbox");return(T.isOpen(w)?eP:Q_)(o,a,c,w,u,h,p)},QD=(o,a)=>o.getSystem().getByUid(a.uid+"-"+r3()).map(c=>()=>_o.value(c)).getOrThunk(()=>a.lazySink.fold(()=>()=>_o.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),a3=o=>{T.getState(o).each(a=>{$g.repositionMenus(a)})},i3=(o,a,c)=>{const u=Tg(),h=QD(a,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:u.id}},behaviours:$n(o.sandboxBehaviours,[tt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(p,w)=>{const k=JD(o,a);u.link(a.element),o.matchWidth&&((E,O,M)=>{const I=Ho.getCurrent(O).getOr(O),H=ca(E.element);M?Xn(I.element,"min-width",H+"px"):((K,Y)=>{ig.set(K,Y)})(I.element,H)})(k.hotspot,w,o.useMinWidth),o.onOpen(k,p,w),c!==void 0&&c.onOpen!==void 0&&c.onOpen(p,w)},onClose:(p,w)=>{u.unlink(a.element),h().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(p,w)},isPartOf:(p,w,k)=>nl(w,k)||nl(a,k),getAttachPoint:()=>h().getOrDie()}),Ho.config({find:p=>T.getState(p).bind(w=>Ho.getCurrent(w))}),ol.config({channels:{...ne({isExtraPart:Ee}),...Ae({doReposition:a3})}})])}},eR=o=>{const a=ws.getCoupled(o,"sandbox");a3(a)},l3=()=>[Xe("sandboxClasses",[]),jn("sandboxBehaviours",[Ho,ol,T,tt])],tP=ie([kt("dom"),kt("fetch"),Lo("onOpen"),tl("onExecute"),Xe("getHotspot",R.some),Xe("getAnchorOverrides",ie({})),sf(),fn("dropdownBehaviours",[Un,ws,Sn,Zn]),kt("toggleClass"),Xe("eventOrder",{}),Io("lazySink"),Xe("matchWidth",!1),Xe("useMinWidth",!1),Io("role"),Io("listRole")].concat(l3())),nP=ie([pd({schema:[Cg(),Xe("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),XD()]),al=bl({name:"Dropdown",configFields:tP(),partFields:nP(),factory:(o,a,c,u)=>{const h=E=>{T.getState(E).each(O=>{$g.highlightPrimary(O)})},p=(E,O,M)=>s3(o,Me,E,u,O,M),w={expand:E=>{Un.isOn(E)||p(E,ge,Vi.HighlightNone).get(ge)},open:E=>{Un.isOn(E)||p(E,ge,Vi.HighlightMenuAndItem).get(ge)},refetch:E=>ws.getExistingCoupled(E,"sandbox").fold(()=>p(E,ge,Vi.HighlightMenuAndItem).map(ge),O=>Q_(o,Me,E,O,u,ge,Vi.HighlightMenuAndItem).map(ge)),isOpen:Un.isOn,close:E=>{Un.isOn(E)&&p(E,ge,Vi.HighlightMenuAndItem).get(ge)},repositionMenus:E=>{Un.isOn(E)&&eR(E)}},k=(E,O)=>(Jd(E),R.some(!0));return{uid:o.uid,dom:o.dom,components:a,behaviours:io(o.dropdownBehaviours,[Un.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),ws.config({others:{sandbox:E=>i3(o,E,{onOpen:()=>Un.on(E),onClose:()=>Un.off(E)})}}),Sn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,O)=>{if(al.isOpen(E)){const M=ws.getCoupled(E,"sandbox");h(M)}else al.open(E);return R.some(!0)},onEscape:(E,O)=>al.isOpen(E)?(al.close(E),R.some(!0)):R.none()}),Zn.config({})]),events:V1(R.some(E=>{p(E,h,Vi.HighlightMenuAndItem).get(ge)})),eventOrder:{...o.eventOrder,[el()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),E=>({role:E})),...o.dom.tag==="button"?{type:ln(o.dom,"attributes").bind(E=>ln(E,"type")).getOr("button")}:{}}}}},apis:{open:(o,a)=>o.open(a),refetch:(o,a)=>o.refetch(a),expand:(o,a)=>o.expand(a),close:(o,a)=>o.close(a),isOpen:(o,a)=>o.isOpen(a),repositionMenus:(o,a)=>o.repositionMenus(a)}}),tR=(o,a,c)=>{eD(o).each(u=>{var h;((p,w)=>{No(w.element,"id").each(k=>Xt(p.element,"aria-activedescendant",k))})(u,c),(Li((h=a).element,$y)?R.some(h.element):jr(h.element,"."+$y)).each(p=>{No(p,"id").each(w=>Xt(u.element,"aria-controls",w))})}),Xt(c.element,"aria-selected","true")},oP=(o,a,c)=>{Xt(c.element,"aria-selected","false")},a0=o=>ws.getExistingCoupled(o,"sandbox").bind(Hy).map(tD).map(a=>a.fetchPattern).getOr("");var e2;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(e2||(e2={}));const rP=(o,a,c,u,h)=>{const p=c.shared.providers,w=E=>h?{...E,shortcut:R.none(),icon:E.text.isSome()?R.none():E.icon}:E;switch(o.type){case"menuitem":return(k=o,os("menuitem",bD,k)).fold(Dm,E=>R.some(((O,M,I,H=!0)=>{const K=qy({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,caret:R.none(),checkMark:R.none(),shortcutContent:O.shortcut},I,H);return Q1({data:ev(O),getApi:Y=>({isEnabled:()=>!Kn.isDisabled(Y),setEnabled:re=>Kn.set(Y,!re)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,M,I)})(w(E),a,p,u)));case"nestedmenuitem":return(E=>os("nestedmenuitem",vD,E))(o).fold(Dm,E=>R.some(((O,M,I,H=!0,K=!1)=>{const Y=K?(re=I.icons,ME("chevron-down",re,[yE])):(pe=>ME("chevron-right",pe,[yE]))(I.icons);var re;const ce=qy({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,caret:R.some(Y),checkMark:R.none(),shortcutContent:O.shortcut},I,H);return Q1({data:ev(O),getApi:pe=>({isEnabled:()=>!Kn.isDisabled(pe),setEnabled:ae=>Kn.set(pe,!ae),setIconFill:(ae,se)=>{jr(pe.element,`svg path[class="${ae}"], rect[class="${ae}"]`).each(fe=>{Xt(fe,"fill",se)})},setTooltip:ae=>{const se=I.translate(ae);Xt(pe.element,"aria-label",se)}}),enabled:O.enabled,onAction:ge,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ce,M,I)})(w(E),a,p,u,h)));case"togglemenuitem":return(E=>os("togglemenuitem",Z7,E))(o).fold(Dm,E=>R.some(((O,M,I,H=!0)=>{const K=qy({iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,checkMark:R.some(kD(I.icons)),caret:R.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},I,H);return mr(Q1({data:ev(O),enabled:O.enabled,getApi:Y=>({setActive:re=>{Un.set(Y,re)},isActive:()=>Un.isOn(Y),isEnabled:()=>!Kn.isDisabled(Y),setEnabled:re=>Kn.set(Y,!re)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,M,I),{toggling:{toggleClass:j5,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(w(E),a,p,u)));case"separator":return(E=>os("separatormenuitem",lD,E))(o).fold(Dm,E=>R.some(GD(E)));case"fancymenuitem":return(E=>os("fancymenuitem",pD,E))(o).fold(Dm,E=>((O,M)=>ln(qD,O.fancytype).map(I=>I(O,M)))(E,c));default:return console.error("Unknown item in general menu",o),R.none()}var k},tp=(o,a,c,u,h,p,w)=>{const k=u===1,E=!k||Uy(o);return Ba(vt(o,O=>{switch(O.type){case"separator":return(M=O,os("Autocompleter.Separator",lD,M)).fold(Dm,I=>R.some(GD(I)));case"cardmenuitem":return(I=>os("cardmenuitem",W7,I))(O).fold(Dm,I=>R.some(((H,K,Y,re)=>{const ce={dom:ED(H.label),optComponents:[R.some({dom:{tag:"div",classes:[Fy,zy]},components:FE(H.items,re)})]};return Q1({data:ev({text:R.none(),...H}),enabled:H.enabled,getApi:pe=>({isEnabled:()=>!Kn.isDisabled(pe),setEnabled:ae=>{Kn.set(pe,!ae),jt(ra(pe.element,"*"),se=>{pe.getSystem().getByDom(se).each(fe=>{fe.hasConfigured(Kn)&&Kn.set(fe,!ae)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(re.itemBehaviours).getOr([])},ce,K,Y.providers)})({...I,onAction:H=>{I.onAction(H),c(I.value,I.meta)}},h,p,{itemBehaviours:AD(I.meta,p,R.none()),cardText:{matchText:a,highlightOn:w}})));default:return(I=>os("Autocompleter.Item",B7,I))(O).fold(Dm,I=>R.some(((H,K,Y,re,ce,pe,ae,se=!0)=>{const fe=qy({presets:re,textContent:R.none(),htmlContent:Y?H.text.map(we=>LE(we,K)):R.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:H.value},ae.providers,se,H.icon),be=H.text.filter(we=>!Y&&we!=="");return Q1({data:ev(H),enabled:H.enabled,getApi:ie({}),onAction:we=>ce(H.value,H.meta),onSetup:ie(ge),triggersSubmenu:!1,itemBehaviours:AD(H,ae,be)},fe,pe,ae.providers)})(I,a,k,"normal",c,h,p,E)))}var M}))},nR=(o,a,c,u,h,p)=>{const w=Uy(a),k=Ba(vt(a,O=>{const M=I=>rP(I,c,u,(H=>h?!mo(H,"text"):w)(I),h);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?M({...O,enabled:!1}):M(O)})),E=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(p);return(h?D7:CE)(o,w,k,1,E)},c3=o=>$g.singleData(o.value,o),Ru=o=>af(Qt(o.startContainer),o.startOffset,Qt(o.endContainer),o.endOffset),oR=(o,a)=>{const c=dn("autocompleter"),u=An(!1),h=An(!1),p=rr(),w=Ea(Jr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Lt([lo("dismissAutocompleter",[pt(bg(),()=>I()),pt(fx(),(Y,re)=>{No(re.event.target,"id").each(ce=>Xt(Qt(o.getBody()),"aria-activedescendant",ce))})])]),lazySink:a.getSink})),k=()=>Jr.isOpen(w),E=h.get,O=()=>{if(k()){Jr.hide(w),o.dom.remove(c,!1);const Y=Qt(o.getBody());No(Y,"aria-owns").filter(re=>re===c).each(()=>{co(Y,"aria-owns"),co(Y,"aria-activedescendant")})}},M=()=>Jr.getContent(w).bind(Y=>_t(Y.components(),0)),I=()=>o.execCommand("mceAutocompleterClose"),H=Y=>{const re=(ce=>{const pe=It(ce,ae=>R.from(ae.columns)).getOr(1);return jo(ce,ae=>{const se=ae.items;return tp(se,ae.matchText,(fe,be)=>{const we={hide:()=>I(),reload:Fe=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Fe})}};o.execCommand("mceAutocompleterRefreshActiveRange"),p.get().each(Fe=>{u.set(!0),ae.onAction(we,Fe,fe,be),u.set(!1)})},pe,_f.BUBBLE_TO_SANDBOX,a,ae.highlightOn)})})(Y);re.length>0?(((ce,pe)=>{const ae=It(ce,se=>R.from(se.columns)).getOr(1);Jr.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>p.get().map(Ru),root:Qt(o.getBody())}},((se,fe,be,we)=>{const Fe=Jy(fe,we),qe=Yb(we);return{data:c3({...se,movement:Fe,menuBehaviours:jy(fe!=="auto"?[]:[Hr((wt,ht)=>{BE(wt,4,qe.item).each(({numColumns:ft,numRows:Bt})=>{Sn.setGridSize(wt,Bt,ft)})})])}),menu:{markers:Yb(we),fakeFocus:be===e2.ContentFocus}}})(CE("autocompleter-value",!0,pe,ae,{menuType:"normal"}),ae,e2.ContentFocus,"normal")),M().each(er.highlightFirst)})(Y,re),Xt(Qt(o.getBody()),"aria-owns",c),o.inline||K()):O()},K=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const Y=o.getDoc().documentElement,re=o.selection.getNode(),ce=(pe=>wg(pe,!0))(w.element);Ni(ce,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${re.offsetTop}px`,left:`${re.offsetLeft}px`}),o.dom.add(Y,ce.dom),jr(ce,'[role="menu"]').each(pe=>{Jo(pe,"position"),Jo(pe,"max-height")})};o.on("AutocompleterStart",({lookupData:Y})=>{h.set(!0),u.set(!1),H(Y)}),o.on("AutocompleterUpdate",({lookupData:Y})=>H(Y)),o.on("AutocompleterUpdateActiveRange",({range:Y})=>p.set(Y)),o.on("AutocompleterEnd",()=>{O(),h.set(!1),u.set(!1),p.clear()}),((Y,re)=>{const ce=(ae,se)=>{wn(ae,ss(),{raw:se})},pe=()=>Y.getMenu().bind(er.getHighlighted);re.on("keydown",ae=>{const se=ae.which;Y.isActive()&&(Y.isMenuOpen()?se===13?(pe().each(Jd),ae.preventDefault()):se===40?(pe().fold(()=>{Y.getMenu().each(er.highlightFirst)},fe=>{ce(fe,ae)}),ae.preventDefault(),ae.stopImmediatePropagation()):se!==37&&se!==38&&se!==39||pe().each(fe=>{ce(fe,ae),ae.preventDefault(),ae.stopImmediatePropagation()}):se!==13&&se!==38&&se!==40||Y.cancelIfNecessary())}),re.on("NodeChange",()=>{!Y.isActive()||Y.isProcessingAction()||re.queryCommandState("mceAutoCompleterInRange")||Y.cancelIfNecessary()})})({cancelIfNecessary:I,isMenuOpen:k,isActive:E,isProcessingAction:u.get,getMenu:M},o)},av=(o,a,c)=>wu(o,a,c).isSome(),u3=(o,a)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...u)=>{c=setTimeout(()=>{o.apply(null,u),c=null},a)}}},rR=o=>{const a=o.raw;return a.touches===void 0||a.touches.length!==1?R.none():R.some(a.touches[0])},eC=(o,a)=>{const c={stopBackspace:!0,...a},u=(I=>{const H=rr(),K=An(!1),Y=u3(ce=>{I.triggerEvent(sk(),ce),K.set(!0)},400),re=rd([{key:Z(),value:ce=>(rR(ce).each(pe=>{Y.cancel();const ae={x:pe.clientX,y:pe.clientY,target:ce.target};Y.schedule(ce),K.set(!1),H.set(ae)}),R.none())},{key:te(),value:ce=>(Y.cancel(),rR(ce).each(pe=>{H.on(ae=>{((se,fe)=>{const be=Math.abs(se.clientX-fe.x),we=Math.abs(se.clientY-fe.y);return be>5||we>5})(pe,ae)&&H.clear()})}),R.none())},{key:ke(),value:ce=>(Y.cancel(),H.get().filter(pe=>Uo(pe.target,ce.target)).map(pe=>K.get()?(ce.prevent(),!1):I.triggerEvent(Kd(),ce)))}]);return{fireIfReady:(ce,pe)=>ln(re,pe).bind(ae=>ae(ce))}})(c),h=vt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),I=>Ci(o,I,H=>{u.fireIfReady(H,I).each(K=>{K&&H.kill()}),c.triggerEvent(I,H)&&H.kill()})),p=rr(),w=Ci(o,"paste",I=>{u.fireIfReady(I,"paste").each(H=>{H&&I.kill()}),c.triggerEvent("paste",I)&&I.kill(),p.set(setTimeout(()=>{c.triggerEvent(dx(),I)},0))}),k=Ci(o,"keydown",I=>{c.triggerEvent("keydown",I)?I.kill():c.stopBackspace&&(H=>H.raw.which===EO[0]&&!ot(["input","textarea"],Di(H.target))&&!av(H.target,'[contenteditable="true"]'))(I)&&I.prevent()}),E=Ci(o,"focusin",I=>{c.triggerEvent("focusin",I)&&I.kill()}),O=rr(),M=Ci(o,"focusout",I=>{c.triggerEvent("focusout",I)&&I.kill(),O.set(setTimeout(()=>{c.triggerEvent(xh(),I)},0))});return{unbind:()=>{jt(h,I=>{I.unbind()}),k.unbind(),E.unbind(),M.unbind(),w.unbind(),p.on(clearTimeout),O.on(clearTimeout)}}},d3=(o,a)=>{const c=ln(o,"target").getOr(a);return An(c)},t2=Sl([{stopped:[]},{resume:["element"]},{complete:[]}]),sR=(o,a,c,u,h,p)=>{const w=o(a,u),k=((E,O)=>{const M=An(!1),I=An(!1);return{stop:()=>{M.set(!0)},cut:()=>{I.set(!0)},isStopped:M.get,isCut:I.get,event:E,setSource:O.set,getSource:O.get}})(c,h);return w.fold(()=>(p.logEventNoHandlers(a,u),t2.complete()),E=>{const O=E.descHandler;return Dx(O)(k),k.isStopped()?(p.logEventStopped(a,E.element,O.purpose),t2.stopped()):k.isCut()?(p.logEventCut(a,E.element,O.purpose),t2.complete()):ni(E.element).fold(()=>(p.logNoParent(a,E.element,O.purpose),t2.complete()),M=>(p.logEventResponse(a,E.element,O.purpose),t2.resume(M)))})},n2=(o,a,c,u,h,p)=>sR(o,a,c,u,h,p).fold(Ne,w=>n2(o,a,c,w,h,p),Ee),tC=(o,a,c,u,h)=>{const p=d3(c,u);return n2(o,a,c,u,p,h)},aR=()=>{const o=(()=>{const u={};return{registerId:(h,p,w)=>{xn(w,(k,E)=>{const O=u[E]!==void 0?u[E]:{};O[p]=((M,I)=>({cHandler:Je.apply(void 0,[M.handler].concat(I)),purpose:M.purpose}))(k,h),u[E]=O})},unregisterId:h=>{xn(u,(p,w)=>{mo(p,h)&&delete p[h]})},filterByType:h=>ln(u,h).map(p=>Cs(p,(w,k)=>((E,O)=>({id:E,descHandler:O}))(k,w))).getOr([]),find:(h,p,w)=>ln(u,p).bind(k=>pg(w,E=>((O,M)=>kg(M).bind(I=>ln(O,I)).map(I=>((H,K)=>({element:H,descHandler:K}))(M,I)))(k,E),h))}})(),a={},c=u=>{kg(u.element).each(h=>{delete a[h],o.unregisterId(h)})};return{find:(u,h,p)=>o.find(u,h,p),filter:u=>o.filterByType(u),register:u=>{const h=(w=>{const k=w.element;return kg(k).getOrThunk(()=>((E,O)=>{const M=dn(a1+"uid-");return i1(O,M),M})(0,w.element))})(u);so(a,h)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+cd(E.element)+`
Cannot use it for: `+cd(w.element)+`
The conflicting element is`+(nn(E.element)?" ":" not ")+"already in the DOM");c(w)})(u,h);const p=[u];o.registerId(p,h,u.events),a[h]=u},unregister:c,getById:u=>ln(a,u)}},yd=Kc({name:"Container",factory:o=>{const{attributes:a,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...c},components:o.components,behaviours:Hn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Xe("components",[]),fn("containerBehaviours",[]),Xe("events",{}),Xe("domModification",{}),Xe("eventOrder",{})]}),nC=o=>{const a=ce=>ni(o.element).fold(Ne,pe=>Uo(ce,pe)),c=aR(),u=(ce,pe)=>c.find(a,ce,pe),h=eC(o.element,{triggerEvent:(ce,pe)=>ib(ce,pe.target,ae=>((se,fe,be,we)=>tC(se,fe,be,be.target,we))(u,ce,pe,ae))}),p={debugInfo:ie("real"),triggerEvent:(ce,pe,ae)=>{ib(ce,pe,se=>tC(u,ce,ae,pe,se))},triggerFocus:(ce,pe)=>{kg(ce).fold(()=>{_i(ce)},ae=>{ib(vu(),ce,se=>(((fe,be,we,Fe,qe)=>{const wt=d3(we,Fe);sR(fe,be,we,Fe,wt,qe)})(u,vu(),{originator:pe,kill:ge,prevent:ge,target:ce},ce,se),!1))})},triggerEscape:(ce,pe)=>{p.triggerEvent("keydown",ce.element,pe.event)},getByUid:ce=>Y(ce),getByDom:ce=>re(ce),build:Ea,buildOrPatch:m1,addToGui:ce=>{E(ce)},removeFromGui:ce=>{O(ce)},addToWorld:ce=>{w(ce)},removeFromWorld:ce=>{k(ce)},broadcast:ce=>{I(ce)},broadcastOn:(ce,pe)=>{H(ce,pe)},broadcastEvent:(ce,pe)=>{K(ce,pe)},isConnected:Ne},w=ce=>{ce.connect(p),ti(ce.element)||(c.register(ce),jt(ce.components(),w),p.triggerEvent(qd(),ce.element,{target:ce.element}))},k=ce=>{ti(ce.element)||(jt(ce.components(),k),c.unregister(ce)),ce.disconnect()},E=ce=>{gf(o,ce)},O=ce=>{Hi(ce)},M=ce=>{const pe=c.filter(Ml());jt(pe,ae=>{const se=ae.descHandler;Dx(se)(ce)})},I=ce=>{M({universal:!0,data:ce})},H=(ce,pe)=>{M({universal:!1,channels:ce,data:pe})},K=(ce,pe)=>((ae,se,fe)=>{const be=(we=>{const Fe=An(!1);return{stop:()=>{Fe.set(!0)},cut:ge,isStopped:Fe.get,isCut:Ee,event:we,setSource:Ye("Cannot set source of a broadcasted event"),getSource:Ye("Cannot get source of a broadcasted event")}})(se);return jt(ae,we=>{const Fe=we.descHandler;Dx(Fe)(be)}),be.isStopped()})(c.filter(ce),pe),Y=ce=>c.getById(ce).fold(()=>_o.error(new Error('Could not find component with uid: "'+ce+'" in system.')),_o.value),re=ce=>{const pe=kg(ce).getOr("not found");return Y(pe)};return w(o),{root:o,element:o.element,destroy:()=>{h.unbind(),wa(o.element)},add:E,remove:O,getByUid:Y,getByDom:re,addToWorld:w,removeFromWorld:k,broadcast:I,broadcastOn:H,broadcastEvent:K}},sP=ie([Xe("prefix","form-field"),fn("fieldBehaviours",[Ho,tt])]),f3=ie([jc({schema:[kt("dom")],name:"label"}),jc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[kt("text")],name:"aria-descriptor"}),sl({factory:{sketch:o=>{const a=((c,u)=>{const h={};return xn(c,(p,w)=>{ot(u,w)||(h[w]=p)}),h})(o,["factory"]);return o.factory.sketch(a)}},schema:[kt("factory")],name:"field"})]),sr=bl({name:"FormField",configFields:sP(),partFields:f3(),factory:(o,a,c,u)=>{const h=io(o.fieldBehaviours,[Ho.config({find:k=>Tr(k,o,"field")}),tt.config({store:{mode:"manual",getValue:k=>Ho.getCurrent(k).bind(tt.getValue),setValue:(k,E)=>{Ho.getCurrent(k).each(O=>{tt.setValue(O,E)})}}})]),p=Qn([Hr((k,E)=>{const O=dO(k,o,["label","field","aria-descriptor"]);O.field().each(M=>{const I=dn(o.prefix);O.label().each(H=>{Xt(H.element,"for",I),Xt(M.element,"id",I)}),O["aria-descriptor"]().each(H=>{const K=dn(o.prefix);Xt(H.element,"id",K),Xt(M.element,"aria-describedby",K)})})})]),w={getField:k=>Tr(k,o,"field"),getLabel:k=>Tr(k,o,"label")};return{uid:o.uid,dom:o.dom,components:a,behaviours:h,events:p,apis:w}},apis:{getField:(o,a)=>o.getField(a),getLabel:(o,a)=>o.getLabel(a)}});var aP=tinymce.util.Tools.resolve("tinymce.html.Entities");const o2=(o,a,c,u)=>{const h=iP(o,a,c,u);return sr.sketch(h)},iP=(o,a,c,u)=>({dom:oC(c),components:o.toArray().concat([a]),fieldBehaviours:Lt(u)}),oC=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),np=(o,a)=>sr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ys(a.translate(o))]}),Ui=dn("form-component-change"),op=dn("form-close"),Gg=dn("form-cancel"),Sf=dn("form-action"),r2=dn("form-submit"),m3=dn("form-block"),g3=dn("form-unblock"),iR=dn("form-tabchange"),rC=dn("form-resize"),lR=(o,a,c)=>{const u=o.label.map(I=>np(I,a)),h=a.icons(),p=I=>(H,K)=>{wu(K.event.target,"[data-collection-item-value]").each(Y=>{I(H,K,Y,yo(Y,"data-collection-item-value"))})},w=p((I,H,K,Y)=>{H.stop(),a.isDisabled()||wn(I,Sf,{name:o.name,value:Y})}),k=[pt(yn(),p((I,H,K)=>{_i(K)})),pt(Ys(),w),pt(Kd(),w),pt(Go(),p((I,H,K)=>{jr(I.element,"."+Om).each(Y=>{ms(Y,Om)}),as(K,Om)})),pt(Ts(),p(I=>{jr(I.element,"."+Om).each(H=>{ms(H,Om),hb(H)})})),zc(p((I,H,K,Y)=>{wn(I,Sf,{name:o.name,value:Y})}))],E=(I,H)=>vt(ra(I.element,".tox-collection__item"),H),O=sr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Me},behaviours:Lt([Kn.config({disabled:a.isDisabled,onDisabled:I=>{E(I,H=>{as(H,"tox-collection__item--state-disabled"),Xt(H,"aria-disabled",!0)})},onEnabled:I=>{E(I,H=>{ms(H,"tox-collection__item--state-disabled"),co(H,"aria-disabled")})}}),ga(),Fn.config({}),Hs.config({...a.tooltips.getConfig({tooltipText:"",onShow:I=>{jr(I.element,"."+Om+"[data-mce-tooltip]").each(H=>{No(H,"data-mce-tooltip").each(K=>{Hs.setComponents(I,a.tooltips.getComponents({tooltipText:K}))})})}}),mode:"children-keyboard-focus",anchor:I=>({type:"node",node:jr(I.element,"."+Om).orThunk(()=>Gu(".tox-collection__item")),root:I.element,layouts:{onLtr:ie([Rs,is,gs,Fs,hs,gr]),onRtl:ie([Rs,is,gs,Fs,hs,gr])},bubble:Fl(0,-2,{})})}),tt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(I,H)=>{((K,Y)=>{const re=vt(Y,ae=>{const se=Eu.translate(ae.text),fe=o.columns===1?`<div class="tox-collection__item-label">${se}</div>`:"",be=`<div class="tox-collection__item-icon">${(qe=>{var wt;return(wt=h[qe])!==null&&wt!==void 0?wt:qe})(ae.icon)}</div>`,we={_:" "," - ":" ","-":" "},Fe=se.replace(/\_| \- |\-/g,qe=>we[qe]);return`<div data-mce-tooltip="${Fe}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${aP.encodeAllRaw(ae.value)}" aria-label="${Fe}">${be}${fe}</div>`}),ce=o.columns!=="auto"&&o.columns>1?yt(re,o.columns):[re],pe=vt(ce,ae=>`<div class="tox-collection__group">${ae.join("")}</div>`);yg(K.element,pe.join(""))})(I,H),o.columns==="auto"&&BE(I,5,"tox-collection__item").each(({numRows:K,numColumns:Y})=>{Sn.setGridSize(I,K,Y)}),fo(I,rC)}}),Sr.config({}),Sn.config((M=o.columns,M===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:M==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${B_}`}})),lo("collection-events",k)]),eventOrder:{[el()]:["disabling","alloy.base.behaviour","collection-events"],[Go()]:["collection-events","tooltipping"]}});var M;return o2(u,O,["tox-form__group--collection"],[])},cR=["input","textarea"],sC=o=>{const a=Di(o);return ot(cR,a)},uR=(o,a)=>{const c=a.getRoot(o).getOr(o.element);ms(c,a.invalidClass),a.notify.each(u=>{sC(o.element)&&Xt(o.element,"aria-invalid",!1),u.getContainer(o).each(h=>{yg(h,u.validHtml)}),u.onValid(o)})},h3=(o,a,c,u)=>{const h=a.getRoot(o).getOr(o.element);as(h,a.invalidClass),a.notify.each(p=>{sC(o.element)&&Xt(o.element,"aria-invalid",!0),p.getContainer(o).each(w=>{yg(w,u)}),p.onInvalid(o,u)})},dR=(o,a,c)=>a.validator.fold(()=>Nm(_o.value(!0)),u=>u.validate(o)),p3=(o,a,c)=>(a.notify.each(u=>{u.onValidate(o)}),dR(o,a).map(u=>o.getSystem().isConnected()?u.fold(h=>(h3(o,a,0,h),_o.error(h)),h=>(uR(o,a),_o.value(h))):_o.error("No longer in system")));var lP=Object.freeze({__proto__:null,markValid:uR,markInvalid:h3,query:dR,run:p3,isInvalid:(o,a)=>{const c=a.getRoot(o).getOr(o.element);return Li(c,a.invalidClass)}}),fR=Object.freeze({__proto__:null,events:(o,a)=>o.validator.map(c=>Qn([pt(c.onEvent,u=>{p3(u,o).get(Me)})].concat(c.validateOnLoad?[Hr(u=>{p3(u,o).get(ge)})]:[]))).getOr({})}),cP=[kt("invalidClass"),Xe("getRoot",R.none),ds("notify",[Xe("aria","alert"),Xe("getContainer",R.none),Xe("validHtml",""),Lo("onValid"),Lo("onInvalid"),Lo("onValidate")]),ds("validator",[kt("validate"),Xe("onEvent","input"),Xe("validateOnLoad",!0)])];const Im=ma({fields:cP,name:"invalidating",active:fR,apis:lP,extra:{validation:o=>a=>{const c=tt.getValue(a);return Nm(o(c))}}}),i0=ma({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Qn([_h(Ua(),Ne)]),exhibit:()=>Os({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),b3=dn("color-input-change"),v3=dn("color-swatch-change"),mR=dn("color-picker-cancel"),x3=jc({schema:[kt("dom")],name:"label"}),rp=o=>jc({name:o+"-edge",overrides:a=>a.model.manager.edgeActions[o].fold(()=>({}),c=>({events:Qn([mx(Z(),(u,h,p)=>c(u,p),[a]),mx(Et(),(u,h,p)=>c(u,p),[a]),mx(Pn(),(u,h,p)=>{p.mouseIsDown.get()&&c(u,p)},[a])])}))}),uP=rp("top-left"),dP=rp("top"),fP=rp("top-right"),mP=rp("right"),gR=rp("bottom-right"),y3=rp("bottom"),gP=rp("bottom-left"),aC=rp("left"),hP=sl({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Qn([Sh(Z(),o,"spectrum"),Sh(te(),o,"spectrum"),Sh(ke(),o,"spectrum"),Sh(Et(),o,"spectrum"),Sh(Pn(),o,"spectrum"),Sh(Yn(),o,"spectrum")])})}),iC=o=>Sm(o.event);var pP=[x3,aC,mP,dP,y3,uP,fP,gP,gR,hP,sl({schema:[Ca("mouseIsDown",()=>An(!1))],name:"spectrum",overrides:o=>{const a=o.model.manager,c=(u,h)=>a.getValueFromEvent(h).map(p=>a.setValueFrom(u,o,p));return{behaviours:Lt([Sn.config({mode:"special",onLeft:(u,h)=>a.onLeft(u,o,iC(h)),onRight:(u,h)=>a.onRight(u,o,iC(h)),onUp:(u,h)=>a.onUp(u,o,iC(h)),onDown:(u,h)=>a.onDown(u,o,iC(h))}),Sr.config({}),Zn.config({})]),events:Qn([pt(Z(),c),pt(te(),c),pt(Et(),c),pt(Pn(),(u,h)=>{o.mouseIsDown.get()&&c(u,h)})])}}})];const s2=ie("slider.change.value"),w3=o=>{const a=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(a)){const c=a;return c.touches!==void 0&&c.touches.length===1?R.some(c.touches[0]).map(u=>Ir(u.clientX,u.clientY)):R.none()}{const c=a;return c.clientX!==void 0?R.some(c).map(u=>Ir(u.clientX,u.clientY)):R.none()}},l0=o=>o.model.minX,sp=o=>o.model.minY,lC=o=>o.model.minX-1,cC=o=>o.model.minY-1,Yg=o=>o.model.maxX,Nu=o=>o.model.maxY,uC=o=>o.model.maxX+1,dC=o=>o.model.maxY+1,fC=(o,a,c)=>a(o)-c(o),mC=o=>fC(o,Yg,l0),_3=o=>fC(o,Nu,sp),hR=o=>mC(o)/2,C3=o=>_3(o)/2,iv=(o,a)=>a?o.stepSize*o.speedMultiplier:o.stepSize,S3=o=>o.snapToGrid,k3=o=>o.snapStart,gC=o=>o.rounded,hC=(o,a)=>o[a+"-edge"]!==void 0,E3=o=>hC(o,"left"),pR=o=>hC(o,"right"),lv=o=>hC(o,"top"),bR=o=>hC(o,"bottom"),Xg=o=>o.model.value.get(),Bm=(o,a)=>({x:o,y:a}),Jc=(o,a)=>{wn(o,s2(),{value:a})},A3=(o,a,c,u)=>o<a?o:o>c?c:o===a?a-1:Math.max(a,o-u),a2=(o,a,c,u)=>o>c?o:o<a?a:o===c?c+1:Math.min(c,o+u),vR=(o,a,c)=>Math.max(a,Math.min(c,o)),xR=o=>{const{min:a,max:c,range:u,value:h,step:p,snap:w,snapStart:k,rounded:E,hasMinEdge:O,hasMaxEdge:M,minBound:I,maxBound:H,screenRange:K}=o,Y=O?a-1:a,re=M?c+1:c;if(h<I)return Y;if(h>H)return re;{const ce=((ae,se,fe)=>Math.min(fe,Math.max(ae,se))-se)(h,I,H),pe=vR(ce/K*u+a,Y,re);return w&&pe>=a&&pe<=c?((ae,se,fe,be,we)=>we.fold(()=>{const Fe=ae-se,qe=Math.round(Fe/be)*be;return vR(se+qe,se-1,fe+1)},Fe=>{const qe=(ae-Fe)%be,wt=Math.round(qe/be),ht=Math.floor((ae-Fe)/be),ft=Math.floor((fe-Fe)/be),Bt=Fe+Math.min(ft,ht+wt)*be;return Math.max(Fe,Bt)}))(pe,a,c,p,k):E?Math.round(pe):pe}},pC=o=>{const{min:a,max:c,range:u,value:h,hasMinEdge:p,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:O,centerMaxEdge:M}=o;return h<a?p?0:O:h>c?w?k:M:(h-a)/u*E},T3="top",yR="right",wR="bottom",O3="left",Mm=o=>o.element.dom.getBoundingClientRect(),wd=(o,a)=>o[a],bC=o=>{const a=Mm(o);return wd(a,O3)},_R=o=>{const a=Mm(o);return wd(a,yR)},vC=o=>{const a=Mm(o);return wd(a,T3)},CR=o=>{const a=Mm(o);return wd(a,wR)},SR=o=>{const a=Mm(o);return wd(a,"width")},kR=o=>{const a=Mm(o);return wd(a,"height")},xC=(o,a,c)=>(o+a)/2-c,ER=(o,a)=>{const c=Mm(o),u=Mm(a),h=wd(c,O3),p=wd(c,yR),w=wd(u,O3);return xC(h,p,w)},AR=(o,a)=>{const c=Mm(o),u=Mm(a),h=wd(c,T3),p=wd(c,wR),w=wd(u,T3);return xC(h,p,w)},yC=(o,a)=>{wn(o,s2(),{value:a})},wC=(o,a,c)=>{const u={min:l0(a),max:Yg(a),range:mC(a),value:c,step:iv(a),snap:S3(a),snapStart:k3(a),rounded:gC(a),hasMinEdge:E3(a),hasMaxEdge:pR(a),minBound:bC(o),maxBound:_R(o),screenRange:SR(o)};return xR(u)},TR=o=>(a,c,u)=>((h,p,w,k)=>{const E=(h>0?a2:A3)(Xg(w),l0(w),Yg(w),iv(w,k));return yC(p,E),R.some(E)})(o,a,c,u).map(Ne),D3=(o,a,c,u,h,p)=>{const w=((k,E,O,M,I)=>{const H=SR(k),K=M.bind(ce=>R.some(ER(ce,k))).getOr(0),Y=I.bind(ce=>R.some(ER(ce,k))).getOr(H),re={min:l0(E),max:Yg(E),range:mC(E),value:O,hasMinEdge:E3(E),hasMaxEdge:pR(E),minBound:bC(k),minOffset:0,maxBound:_R(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return pC(re)})(a,p,c,u,h);return bC(a)-bC(o)+w},bP=TR(-1),vP=TR(1),xP=R.none,yP=R.none,R3={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((o,a)=>{Jc(o,uC(a))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((o,a)=>{Jc(o,lC(a))})};var wP=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const u=wC(o,a,c);return yC(o,u),u},setToMin:(o,a)=>{const c=l0(a);yC(o,c)},setToMax:(o,a)=>{const c=Yg(a);yC(o,c)},findValueOfOffset:wC,getValueFromEvent:o=>w3(o).map(a=>a.left),findPositionOfValue:D3,setPositionFromValue:(o,a,c,u)=>{const h=Xg(c),p=D3(o,u.getSpectrum(o),h,u.getLeftEdge(o),u.getRightEdge(o),c),w=ca(a.element)/2;Xn(a.element,"left",p-w+"px")},onLeft:bP,onRight:vP,onUp:xP,onDown:yP,edgeActions:R3});const _C=(o,a)=>{wn(o,s2(),{value:a})},N3=(o,a,c)=>{const u={min:sp(a),max:Nu(a),range:_3(a),value:c,step:iv(a),snap:S3(a),snapStart:k3(a),rounded:gC(a),hasMinEdge:lv(a),hasMaxEdge:bR(a),minBound:vC(o),maxBound:CR(o),screenRange:kR(o)};return xR(u)},OR=o=>(a,c,u)=>((h,p,w,k)=>{const E=(h>0?a2:A3)(Xg(w),sp(w),Nu(w),iv(w,k));return _C(p,E),R.some(E)})(o,a,c,u).map(Ne),I3=(o,a,c,u,h,p)=>{const w=((k,E,O,M,I)=>{const H=kR(k),K=M.bind(ce=>R.some(AR(ce,k))).getOr(0),Y=I.bind(ce=>R.some(AR(ce,k))).getOr(H),re={min:sp(E),max:Nu(E),range:_3(E),value:O,hasMinEdge:lv(E),hasMaxEdge:bR(E),minBound:vC(k),minOffset:0,maxBound:CR(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return pC(re)})(a,p,c,u,h);return vC(a)-vC(o)+w},_P=R.none,CP=R.none,SP=OR(-1),kP=OR(1),EP={"top-left":R.none(),top:R.some((o,a)=>{Jc(o,cC(a))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((o,a)=>{Jc(o,dC(a))}),"bottom-left":R.none(),left:R.none()};var AP=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const u=N3(o,a,c);return _C(o,u),u},setToMin:(o,a)=>{const c=sp(a);_C(o,c)},setToMax:(o,a)=>{const c=Nu(a);_C(o,c)},findValueOfOffset:N3,getValueFromEvent:o=>w3(o).map(a=>a.top),findPositionOfValue:I3,setPositionFromValue:(o,a,c,u)=>{const h=Xg(c),p=I3(o,u.getSpectrum(o),h,u.getTopEdge(o),u.getBottomEdge(o),c),w=us(a.element)/2;Xn(a.element,"top",p-w+"px")},onLeft:_P,onRight:CP,onUp:SP,onDown:kP,edgeActions:EP});const CC=(o,a)=>{wn(o,s2(),{value:a})},SC=(o,a)=>({x:o,y:a}),c0=(o,a)=>(c,u,h)=>((p,w,k,E,O)=>{const M=p>0?a2:A3,I=w?Xg(E).x:M(Xg(E).x,l0(E),Yg(E),iv(E,O)),H=w?M(Xg(E).y,sp(E),Nu(E),iv(E,O)):Xg(E).y;return CC(k,SC(I,H)),R.some(I)})(o,a,c,u,h).map(Ne),TP=c0(-1,!1),B3=c0(1,!1),OP=c0(-1,!0),DP=c0(1,!0),RP={"top-left":R.some((o,a)=>{Jc(o,Bm(lC(a),cC(a)))}),top:R.some((o,a)=>{Jc(o,Bm(hR(a),cC(a)))}),"top-right":R.some((o,a)=>{Jc(o,Bm(uC(a),cC(a)))}),right:R.some((o,a)=>{Jc(o,Bm(uC(a),C3(a)))}),"bottom-right":R.some((o,a)=>{Jc(o,Bm(uC(a),dC(a)))}),bottom:R.some((o,a)=>{Jc(o,Bm(hR(a),dC(a)))}),"bottom-left":R.some((o,a)=>{Jc(o,Bm(lC(a),dC(a)))}),left:R.some((o,a)=>{Jc(o,Bm(lC(a),C3(a)))})};var DR=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const u=wC(o,a,c.left),h=N3(o,a,c.top),p=SC(u,h);return CC(o,p),p},setToMin:(o,a)=>{const c=l0(a),u=sp(a);CC(o,SC(c,u))},setToMax:(o,a)=>{const c=Yg(a),u=Nu(a);CC(o,SC(c,u))},getValueFromEvent:o=>w3(o),setPositionFromValue:(o,a,c,u)=>{const h=Xg(c),p=D3(o,u.getSpectrum(o),h.x,u.getLeftEdge(o),u.getRightEdge(o),c),w=I3(o,u.getSpectrum(o),h.y,u.getTopEdge(o),u.getBottomEdge(o),c),k=ca(a.element)/2,E=us(a.element)/2;Xn(a.element,"left",p-k+"px"),Xn(a.element,"top",w-E+"px")},onLeft:TP,onRight:B3,onUp:OP,onDown:DP,edgeActions:RP});const _d=bl({name:"Slider",configFields:[Xe("stepSize",1),Xe("speedMultiplier",10),Xe("onChange",ge),Xe("onChoose",ge),Xe("onInit",ge),Xe("onDragStart",ge),Xe("onDragEnd",ge),Xe("snapToGrid",!1),Xe("rounded",!0),Io("snapStart"),Sa("model",Gs("mode",{x:[Xe("minX",0),Xe("maxX",100),Ca("value",o=>An(o.mode.minX)),kt("getInitialValue"),Er("manager",wP)],y:[Xe("minY",0),Xe("maxY",100),Ca("value",o=>An(o.mode.minY)),kt("getInitialValue"),Er("manager",AP)],xy:[Xe("minX",0),Xe("maxX",100),Xe("minY",0),Xe("maxY",100),Ca("value",o=>An({x:o.mode.minX,y:o.mode.minY})),kt("getInitialValue"),Er("manager",DR)]})),fn("sliderBehaviours",[Sn,tt]),Ca("mouseIsDown",()=>An(!1))],partFields:pP,factory:(o,a,c,u)=>{const h=ae=>Hg(ae,o,"thumb"),p=ae=>Hg(ae,o,"spectrum"),w=ae=>Tr(ae,o,"left-edge"),k=ae=>Tr(ae,o,"right-edge"),E=ae=>Tr(ae,o,"top-edge"),O=ae=>Tr(ae,o,"bottom-edge"),M=o.model,I=M.manager,H=(ae,se)=>{I.setPositionFromValue(ae,se,o,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:O,getSpectrum:p})},K=(ae,se)=>{M.value.set(se);const fe=h(ae);H(ae,fe)},Y=ae=>{const se=o.mouseIsDown.get();o.mouseIsDown.set(!1),se&&Tr(ae,o,"thumb").each(fe=>{const be=M.value.get();o.onChoose(ae,fe,be)})},re=(ae,se)=>{se.stop(),o.mouseIsDown.set(!0),o.onDragStart(ae,h(ae))},ce=(ae,se)=>{se.stop(),o.onDragEnd(ae,h(ae)),Y(ae)},pe=ae=>{Tr(ae,o,"spectrum").map(Sn.focusIn)};return{uid:o.uid,dom:o.dom,components:a,behaviours:io(o.sliderBehaviours,[Sn.config({mode:"special",focusIn:pe}),tt.config({store:{mode:"manual",getValue:ae=>M.value.get(),setValue:K}}),ol.config({channels:{[V()]:{onReceive:Y}}})]),events:Qn([pt(s2(),(ae,se)=>{((fe,be)=>{K(fe,be);const we=h(fe);o.onChange(fe,we,be)})(ae,se.event.value)}),Hr((ae,se)=>{const fe=M.getInitialValue();M.value.set(fe);const be=h(ae);H(ae,be);const we=p(ae);o.onInit(ae,be,we,M.value.get())}),pt(Z(),re),pt(ke(),ce),pt(Et(),(ae,se)=>{pe(ae),re(ae,se)}),pt(Yn(),ce)]),apis:{resetToMin:ae=>{I.setToMin(ae,o)},resetToMax:ae=>{I.setToMax(ae,o)},setValue:K,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,a,c)=>{o.setValue(a,c)},resetToMin:(o,a)=>{o.resetToMin(a)},resetToMax:(o,a)=>{o.resetToMax(a)},refresh:(o,a)=>{o.refresh(a)}}}),i2=dn("rgb-hex-update"),kC=dn("slider-update"),M3=dn("palette-update"),EC="form",AC=[fn("formBehaviours",[tt])],P3=o=>"<alloy.field."+o+">",Pm=(o,a)=>({uid:o.uid,dom:o.dom,components:a,behaviours:io(o.formBehaviours,[tt.config({store:{mode:"manual",getValue:c=>{const u=Ek(c,o);return Cn(u,(h,p)=>h().bind(w=>{return k=Ho.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${p}': `+cd(w.element)),k.fold(()=>_o.error(E),_o.value);var k,E}).map(tt.getValue))},setValue:(c,u)=>{xn(u,(h,p)=>{Tr(c,o,p).each(w=>{Ho.getCurrent(w).each(k=>{tt.setValue(k,h)})})})}}})]),apis:{getField:(c,u)=>Tr(c,o,u).bind(Ho.getCurrent)}}),ap={getField:u1((o,a,c)=>o.getField(a,c)),sketch:o=>{const a=(()=>{const p=[];return{field:(w,k)=>(p.push(w),Ck(EC,P3(w),k)),record:ie(p)}})(),c=o(a),u=a.record(),h=vt(u,p=>sl({name:p,pname:P3(p)}));return oy(EC,AC,h,Pm,c)}},RR=dn("valid-input"),NR=dn("invalid-input"),IR=dn("validating-input"),L3="colorcustom.rgb.",l2={isEnabled:Ne,setEnabled:ge,immediatelyShow:ge,immediatelyHide:ge},NP=(o,a,c,u,h,p)=>{const w=(K,Y)=>{const re=Y.get();K!==re.isEnabled()&&(re.setEnabled(K),K?re.immediatelyShow():re.immediatelyHide())},k=(K,Y,re)=>Im.config({invalidClass:a("invalid"),notify:{onValidate:ce=>{wn(ce,IR,{type:K})},onValid:ce=>{w(!1,re),wn(ce,RR,{type:K,value:tt.getValue(ce)})},onInvalid:ce=>{w(!0,re),wn(ce,NR,{type:K,value:tt.getValue(ce)})}},validator:{validate:ce=>{const pe=tt.getValue(ce),ae=Y(pe)?_o.value(!0):_o.error(o("aria.input.invalid"));return Nm(ae)},validateOnLoad:!1}}),E=(K,Y,re,ce,pe)=>{const ae=An(l2),se=o(L3+"range"),fe=sr.parts.label({dom:{tag:"label",attributes:{"aria-label":ce}},components:[ys(re)]}),be=sr.parts.field({data:pe,factory:Zg,inputAttributes:{type:"text",...Y==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Lt([k(Y,K,ae),Sr.config({}),Hs.config({...h({tooltipText:"",onSetup:ft=>{ae.set({isEnabled:()=>Hs.isEnabled(ft),setEnabled:Bt=>Hs.setEnabled(ft,Bt),immediatelyShow:()=>Hs.immediateOpenClose(ft,!0),immediatelyHide:()=>Hs.immediateOpenClose(ft,!1)}),Hs.setEnabled(ft,!1)},onShow:(ft,Bt)=>{Hs.setComponents(ft,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[ys(o(Y==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:ft=>{Im.isInvalid(ft)&&Im.run(ft).get(ge)}}),we=dn("aria-invalid"),Fe=Qo(p("invalid",R.some(we),"warning")),qe=[fe,be,Qo({dom:{tag:"div",classes:[a("invalid-icon")]},components:[Fe.asSpec()]}).asSpec()],wt=Y!=="hex"?[sr.parts["aria-descriptor"]({text:se})]:[],ht=qe.concat(wt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:ht}},O=(K,Y)=>{const re=Y.red,ce=Y.green,pe=Y.blue;tt.setValue(K,{red:re,green:ce,blue:pe})},M=Qo({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),I=(K,Y)=>{M.getOpt(K).each(re=>{Xn(re.element,"background-color","#"+Y.value)})};return Kc({factory:()=>{const K={red:An(R.some(255)),green:An(R.some(255)),blue:An(R.some(255)),hex:An(R.some("ffffff"))},Y=qe=>K[qe].get(),re=(qe,wt)=>{K[qe].set(wt)},ce=qe=>{const wt=qe.red,ht=qe.green,ft=qe.blue;re("red",R.some(wt)),re("green",R.some(ht)),re("blue",R.some(ft))},pe=(qe,wt)=>{const ht=wt.event;ht.type!=="hex"?re(ht.type,R.none()):u(qe)},ae=(qe,wt)=>{const ht=wt.event;(ft=>ft.type==="hex")(ht)?((ft,Bt)=>{c(ft);const sn=zE(Bt);re("hex",R.some(sn.value));const hn=xd(sn);O(ft,hn),ce(hn),wn(ft,i2,{hex:sn}),I(ft,sn)})(qe,ht.value):((ft,Bt,sn)=>{const hn=parseInt(sn,10);re(Bt,R.some(hn)),Y("red").bind(Rn=>Y("green").bind(qn=>Y("blue").map(Co=>qg(Rn,qn,Co,1)))).each(Rn=>{const qn=((Co,Lr)=>{const Kr=Gy(Lr);return ap.getField(Co,"hex").each(uo=>{Zn.isFocused(uo)||tt.setValue(Co,{hex:Kr.value})}),Kr})(ft,Rn);wn(ft,i2,{hex:qn}),I(ft,qn)})})(qe,ht.type,ht.value)},se=qe=>({label:o(L3+qe+".label"),description:o(L3+qe+".description")}),fe=se("red"),be=se("green"),we=se("blue"),Fe=se("hex");return mr(ap.sketch(qe=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[qe.field("red",sr.sketch(E(Yy,"red",fe.label,fe.description,255))),qe.field("green",sr.sketch(E(Yy,"green",be.label,be.description,255))),qe.field("blue",sr.sketch(E(Yy,"blue",we.label,we.description,255))),qe.field("hex",sr.sketch(E(TD,"hex",Fe.label,Fe.description,"ffffff"))),M.asSpec()],formBehaviours:Lt([Im.config({invalidClass:a("form-invalid")}),lo("rgb-form-events",[pt(RR,ae),pt(NR,pe),pt(IR,pe)])])})),{apis:{updateHex:(qe,wt)=>{tt.setValue(qe,{hex:wt.value}),((ht,ft)=>{const Bt=xd(ft);O(ht,Bt),ce(Bt)})(qe,wt),I(qe,wt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,Y,re)=>{K.updateHex(Y,re)}},extraApis:{}})},BR=(o,a,c,u)=>Kc({name:"ColourPicker",configFields:[kt("dom"),Xe("onValidHex",ge),Xe("onInvalidHex",ge)],factory:p=>{const w=NP(o,a,p.onValidHex,p.onInvalidHex,c,u),k=((pe,ae)=>{const se=_d.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ae("sv-palette-spectrum")]}}),fe=_d.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ae("sv-palette-thumb")],innerHtml:`<div class=${ae("sv-palette-inner-thumb")} role="presentation"></div>`}}),be=(we,Fe)=>{const{width:qe,height:wt}=we,ht=we.getContext("2d");if(ht===null)return;ht.fillStyle=Fe,ht.fillRect(0,0,qe,wt);const ft=ht.createLinearGradient(0,0,qe,0);ft.addColorStop(0,"rgba(255,255,255,1)"),ft.addColorStop(1,"rgba(255,255,255,0)"),ht.fillStyle=ft,ht.fillRect(0,0,qe,wt);const Bt=ht.createLinearGradient(0,0,0,wt);Bt.addColorStop(0,"rgba(0,0,0,0)"),Bt.addColorStop(1,"rgba(0,0,0,1)"),ht.fillStyle=Bt,ht.fillRect(0,0,qe,wt)};return Kc({factory:we=>{const Fe=ie({x:0,y:0}),qe=Lt([Ho.config({find:R.some}),Zn.config({})]);return _d.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":pe(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ae("sv-palette")]},model:{mode:"xy",getInitialValue:Fe},rounded:!1,components:[se,fe],onChange:(wt,ht,ft)=>{ee(ft)||Xt(wt.element,"aria-valuetext",pe(["Saturation {0}%, Brightness {1}%",Math.floor(ft.x),Math.floor(100-ft.y)])),wn(wt,M3,{value:ft})},onInit:(wt,ht,ft,Bt)=>{be(ft.element.dom,ND(ID))},sliderBehaviours:qe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(we,Fe,qe)=>{((wt,ht)=>{const ft=wt.components()[0].element.dom,Bt=ov(ht,100,100),sn=RD(Bt);be(ft,ND(sn))})(Fe,qe)},setThumb:(we,Fe,qe)=>{((wt,ht)=>{const ft=q_(xd(ht));_d.setValue(wt,{x:ft.saturation,y:100-ft.value}),Xt(wt.element,"aria-valuetext",pe(["Saturation {0}%, Brightness {1}%",ft.saturation,ft.value]))})(Fe,qe)}},extraApis:{}})})(o,a),E={paletteRgba:An(ID),paletteHue:An(0)},O=Qo(((pe,ae)=>{const se=_d.parts.spectrum({dom:{tag:"div",classes:[ae("hue-slider-spectrum")],attributes:{role:"presentation"}}}),fe=_d.parts.thumb({dom:{tag:"div",classes:[ae("hue-slider-thumb")],attributes:{role:"presentation"}}});return _d.sketch({dom:{tag:"div",classes:[ae("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ie(0)},components:[se,fe],sliderBehaviours:Lt([Zn.config({})]),onChange:(be,we,Fe)=>{Xt(be.element,"aria-valuenow",Math.floor(360-3.6*Fe)),wn(be,kC,{value:Fe})}})})(0,a)),M=Qo(k.sketch({})),I=Qo(w.sketch({})),H=(pe,ae,se)=>{M.getOpt(pe).each(fe=>{k.setHue(fe,se)})},K=(pe,ae)=>{I.getOpt(pe).each(se=>{w.updateHex(se,ae)})},Y=(pe,ae,se)=>{O.getOpt(pe).each(fe=>{_d.setValue(fe,(be=>100-be/360*100)(se))})},re=(pe,ae)=>{M.getOpt(pe).each(se=>{k.setThumb(se,ae)})},ce=(pe,ae,se,fe)=>{((be,we)=>{const Fe=xd(be);E.paletteRgba.set(Fe),E.paletteHue.set(we)})(ae,se),jt(fe,be=>{be(pe,ae,se)})};return{uid:p.uid,dom:p.dom,components:[M.asSpec(),O.asSpec(),I.asSpec()],behaviours:Lt([lo("colour-picker-events",[pt(i2,(()=>{const pe=[H,Y,re];return(ae,se)=>{const fe=se.event.hex,be=(we=>q_(xd(we)))(fe);ce(ae,fe,be.hue,pe)}})()),pt(M3,(()=>{const pe=[K];return(ae,se)=>{const fe=se.event.value,be=E.paletteHue.get(),we=ov(be,fe.x,100-fe.y),Fe=G_(we);ce(ae,Fe,be,pe)}})()),pt(kC,(()=>{const pe=[H,K];return(ae,se)=>{const fe=(wt=>(100-wt)/100*360)(se.event.value),be=E.paletteRgba.get(),we=q_(be),Fe=ov(fe,we.saturation,we.value),qe=G_(Fe);ce(ae,qe,fe,pe)}})())]),Ho.config({find:pe=>I.getOpt(pe)}),Sn.config({mode:"acyclic"})])}}}),Lm=()=>Ho.config({find:R.some}),F3=o=>Ho.config({find:a=>Ur(a.element,o).bind(c=>a.getSystem().getByDom(c).toOptional())}),z3=Bn([Xe("preprocess",Me),Xe("postprocess",Me)]),H3=(o,a)=>{const c=si("RepresentingConfigs.memento processors",z3,a);return tt.config({store:{mode:"manual",getValue:u=>{const h=o.get(u),p=tt.getValue(h);return c.postprocess(p)},setValue:(u,h)=>{const p=c.preprocess(h),w=o.get(u);tt.setValue(w,p)}}})},u0=(o,a,c)=>tt.config({store:{mode:"manual",...o.map(u=>({initialValue:u})).getOr({}),getValue:a,setValue:c}}),$3=(o,a,c)=>u0(o,u=>a(u.element),(u,h)=>c(u.element,h)),c2=o=>tt.config({store:{mode:"memory",initialValue:o}}),IP={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var MR=tinymce.util.Tools.resolve("tinymce.Resource");const V3=o=>mo(o,"init");var Jg=tinymce.util.Tools.resolve("tinymce.util.Tools");const U3=(o,a)=>{let c=null;const u=()=>{P(c)||(clearTimeout(c),c=null)};return{cancel:u,throttle:(...h)=>{u(),c=setTimeout(()=>{c=null,o.apply(null,h)},a)}}},W3=dn("alloy-fake-before-tabstop"),Z3=dn("alloy-fake-after-tabstop"),PR=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Lt([Zn.config({ignore:!0}),Sr.config({})])}),j3=(o,a)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[PR([W3]),a,PR([Z3])],behaviours:Lt([F3(1)])}),K3=(o,a)=>{wn(o,ss(),{raw:{which:9,shiftKey:a}})},BP=(o,a)=>{const c=a.element;Li(c,W3)?K3(o,!0):Li(c,Z3)&&K3(o,!1)},cv=o=>av(o,["."+W3,"."+Z3].join(","),Ee),ip=dn("update-dialog"),q3=dn("update-title"),LR=dn("update-body"),FR=dn("update-footer"),G3=dn("body-send-message"),TC=dn("dialog-focus-shifted"),Y3=za().browser,uv=Y3.isSafari(),zR=Y3.isFirefox(),X3=uv||zR,HR=Y3.isChromium(),MP=({scrollTop:o,scrollHeight:a,clientHeight:c})=>Math.ceil(o)+c>=a,$R=(o,a)=>o.scrollTo(0,a==="bottom"?99999999:a),J3=(o,a,c)=>{const u=o.dom;R.from(u.contentDocument).fold(c,h=>{let p=0;const w=((E,O)=>{const M=E.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!HR&&!uv||U(M)&&(M.scrollTop!==0||Math.abs(M.scrollHeight-M.clientHeight)>1))?M:E.documentElement)})(h,a).map(E=>(p=E.scrollTop,E)).forall(MP),k=()=>{const E=u.contentWindow;U(E)&&(w?$R(E,"bottom"):!w&&X3&&p!==0&&$R(E,p))};uv&&u.addEventListener("load",k,{once:!0}),h.open(),h.write(a),h.close(),uv||k()})},Q3=Vo(X3,uv?500:200).map(o=>((a,c)=>{let u=null,h=null;return{cancel:()=>{P(u)||(clearTimeout(u),u=null,h=null)},throttle:(...p)=>{h=p,P(u)&&(u=setTimeout(()=>{const w=h;u=null,h=null,a.apply(null,w)},c))}}})(J3,o)),OC=dn("toolbar.button.execute"),lp=dn("common-button-display-events"),e4={[el()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Wa()]:["toolbar-button-events",lp],[sc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Et()]:["focusing","alloy.base.behaviour",lp]},DC=o=>Xn(o.element,"width",ns(o.element,"width")),VR=(o,a,c)=>xc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},a),u2=(o,a)=>VR(o,a,[]),cp=(o,a)=>VR(o,a,[Fn.config({})]),t4=(o,a,c)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[ys(c.translate(o))],behaviours:Lt([Fn.config({})])}),Qc=dn("update-menu-text"),Iu=dn("update-menu-icon"),n4=(o,a,c,u)=>{const h=An(ge),p=o.text.map(re=>Qo(t4(re,a,c.providers))),w=o.icon.map(re=>Qo(cp(re,c.providers.icons))),k=(re,ce)=>{const pe=tt.getValue(re);return Zn.focus(pe),wn(pe,"keydown",{raw:ce.event.raw}),al.close(pe),R.some(!0)},E=o.role.fold(()=>({}),re=>({role:re})),O=R.from(o.listRole).map(re=>({listRole:re})).getOr({}),M=o.ariaLabel.fold(()=>({}),re=>({"aria-label":c.providers.translate(re)})),I=xc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},c.providers.icons),H=dn("common-button-display-events"),K="dropdown-events";return Qo(al.sketch({...o.uid?{uid:o.uid}:{},...E,...O,dom:{tag:"button",classes:[a,`${a}--select`].concat(vt(o.classes,re=>`${a}--${re}`)),attributes:{...M,...U(u)?{"data-mce-name":u}:{}}},components:J1([w.map(re=>re.asSpec()),p.map(re=>re.asSpec()),R.some(I)]),matchWidth:!0,useMinWidth:!0,onOpen:(re,ce,pe)=>{o.searchable&&(ae=>{eD(ae).each(se=>Zn.focus(se))})(pe)},dropdownBehaviours:Lt([...o.dropdownBehaviours,ci(()=>o.disabled||c.providers.isDisabled()),ga(),i0.config({}),Fn.config({}),...o.tooltip.map(re=>Hs.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(re)}))).toArray(),lo(K,[Qh(o,h),jg(o,h)]),lo(H,[Hr((re,ce)=>o.listRole==="listbox"?ge:DC(re))]),lo("menubutton-update-display-text",[pt(Qc,(re,ce)=>{p.bind(pe=>pe.getOpt(re)).each(pe=>{Fn.set(pe,[ys(c.providers.translate(ce.event.text))])})}),pt(Iu,(re,ce)=>{w.bind(pe=>pe.getOpt(re)).each(pe=>{Fn.set(pe,[cp(ce.event.icon,c.providers.icons)])})})])]),eventOrder:mr(e4,{[Et()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Wa()]:["toolbar-button-events",Hs.name(),K,H]}),sandboxBehaviours:Lt([Sn.config({mode:"special",onLeft:k,onRight:k}),lo("dropdown-sandbox-events",[pt(X5,(re,ce)=>{(pe=>{const ae=tt.getValue(pe),se=Hy(pe).map(tD);al.refetch(ae).get(()=>{const fe=ws.getCoupled(ae,"sandbox");se.each(be=>Hy(fe).each(we=>((Fe,qe)=>{tt.setValue(Fe,qe.fetchPattern),Fe.element.dom.selectionStart=qe.selectionStart,Fe.element.dom.selectionEnd=qe.selectionEnd})(we,be)))})})(re),ce.stop()}),pt(J5,(re,ce)=>{((pe,ae)=>{(se=>T.getState(se).bind(er.getHighlighted).bind(er.getHighlighted))(pe).each(se=>{((fe,be,we,Fe)=>{const qe={...Fe,target:be};fe.getSystem().triggerEvent(we,be,qe)})(pe,se.element,ae.event.eventType,ae.event.interactionEvent)})})(re,ce),ce.stop()})])]),lazySink:c.getSink,toggleClass:`${a}--active`,parts:{menu:{...M_(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:tR,onCollapseMenu:(re,ce,pe)=>{er.getHighlighted(pe).each(ae=>{tR(re,pe,ae)})},onDehighlightItem:oP}}},getAnchorOverrides:()=>({maxHeightFunction:(re,ce)=>{bm()(re,ce-10)}}),fetch:re=>ep(Je(o.fetch,re))})).asSpec()},RC=o=>o.type==="separator",NC={type:"separator"},UR=(o,a)=>{const c=((u,h)=>{const p=Mn(u,(w,k)=>(E=>b(E))(k)?k===""?w:k==="|"?w.length>0&&!RC(w[w.length-1])?w.concat([NC]):w:mo(h,k.toLowerCase())?w.concat([h[k.toLowerCase()]]):w:w.concat([k]),[]);return p.length>0&&RC(p[p.length-1])&&p.pop(),p})(b(o)?o.split(" "):o,a);return En(c,(u,h)=>{if((p=>mo(p,"getSubmenuItems"))(h)){const p=(k=>{const E=ln(k,"value").getOrThunk(()=>dn("generated-menu-item"));return mr({value:E},k)})(h),w=((k,E)=>{const O=k.getSubmenuItems(),M=UR(O,E);return{item:k,menus:mr(M.menus,{[k.value]:M.items}),expansions:mr(M.expansions,{[k.value]:k.value})}})(p,a);return{menus:mr(u.menus,w.menus),items:[w.item,...u.items],expansions:mr(u.expansions,w.expansions)}}return{...u,items:[h,...u.items]}},{menus:{},expansions:{},items:[]})},d0=(o,a,c,u)=>{const h=dn("primary-menu"),p=UR(o,c.shared.providers.menuItems());if(p.items.length===0)return R.none();const w=(I=>I.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(u),k=nR(h,p.items,a,c,u.isHorizontalMenu,w),E=(I=>I.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(u),O=Cn(p.menus,(I,H)=>nR(H,I,a,c,!1,E)),M=mr(O,Pc(h,k));return R.from($g.tieredData(h,M,p.expansions))},d2=o=>!mo(o,"items"),o4="data-value",IC=(o,a,c,u,h)=>vt(c,p=>d2(p)?{type:"togglemenuitem",...h?{}:{role:"option"},text:p.text,value:p.value,active:p.value===u,onAction:()=>{tt.setValue(o,p.value),wn(o,Ui,{name:a}),Zn.focus(o)}}:{type:"nestedmenuitem",text:p.text,getSubmenuItems:()=>IC(o,a,p.items,u,h)}),BC=(o,a)=>It(o,c=>d2(c)?Vo(c.value===a,c):BC(c.items,a)),PP=Kc({name:"HtmlSelect",configFields:[kt("options"),fn("selectBehaviours",[Zn,tt]),Xe("selectClasses",[]),Xe("selectAttributes",{}),Io("data")],factory:(o,a)=>{const c=vt(o.options,h=>({dom:{tag:"option",value:h.value,innerHtml:h.text}})),u=o.data.map(h=>Pc("initialValue",h)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:io(o.selectBehaviours,[Zn.config({}),tt.config({store:{mode:"manual",getValue:h=>nf(h.element),setValue:(h,p)=>{const w=$t(o.options);J(o.options,k=>k.value===p).isSome()?um(h.element,p):h.element.dom.selectedIndex===-1&&p===""&&w.each(k=>um(h.element,k.value))},...u}})])}}}),WR=ie([Xe("field1Name","field1"),Xe("field2Name","field2"),yu("onLockedChange"),Sg(["lockClass"]),Xe("locked",!1),jn("coupledFieldBehaviours",[Ho,tt])]),r4=(o,a)=>sl({factory:sr,name:o,overrides:c=>({fieldBehaviours:Lt([lo("coupled-input-behaviour",[pt(nm(),u=>{((h,p,w)=>Tr(h,p,w).bind(Ho.getCurrent))(u,c,a).each(h=>{Tr(u,c,"lock").each(p=>{Un.isOn(p)&&c.onLockedChange(u,h,p)})})})])])})}),ZR=ie([r4("field1","field2"),r4("field2","field1"),sl({factory:ki,schema:[kt("dom")],name:"lock",overrides:o=>({buttonBehaviours:Lt([Un.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),_c=bl({name:"FormCoupledInputs",configFields:WR(),partFields:ZR(),factory:(o,a,c,u)=>({uid:o.uid,dom:o.dom,components:a,behaviours:$n(o.coupledFieldBehaviours,[Ho.config({find:R.some}),tt.config({store:{mode:"manual",getValue:h=>{const p=Ak(h,o,["field1","field2"]);return{[o.field1Name]:tt.getValue(p.field1()),[o.field2Name]:tt.getValue(p.field2())}},setValue:(h,p)=>{const w=Ak(h,o,["field1","field2"]);so(p,o.field1Name)&&tt.setValue(w.field1(),p[o.field1Name]),so(p,o.field2Name)&&tt.setValue(w.field2(),p[o.field2Name])}}})]),apis:{getField1:h=>Tr(h,o,"field1"),getField2:h=>Tr(h,o,"field2"),getLock:h=>Tr(h,o,"lock")}}),apis:{getField1:(o,a)=>o.getField1(a),getField2:(o,a)=>o.getField2(a),getLock:(o,a)=>o.getLock(a)}}),s4=o=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(a!==null){const c=parseFloat(a[1]),u=a[2];return _o.value({value:c,unit:u})}return _o.error(o)},a4=(o,a)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=h=>mo(c,h);return o.unit===a?R.some(o.value):u(o.unit)&&u(a)?c[o.unit]===c[a]?R.some(o.value):R.some(o.value/c[o.unit]*c[a]):R.none()},i4=o=>R.none(),jR=(o,a)=>{const c=o.label.map(M=>np(M,a)),u=[Kn.config({disabled:()=>o.disabled||a.isDisabled()}),ga(),Sn.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:M=>(fo(M,r2),R.some(!0))}),lo("textfield-change",[pt(nm(),(M,I)=>{wn(M,Ui,{name:o.name})}),pt(dx(),(M,I)=>{wn(M,Ui,{name:o.name})})]),Sr.config({})],h=o.validation.map(M=>Im.config({getRoot:I=>oi(I.element),invalidClass:"tox-invalid",validator:{validate:I=>{const H=tt.getValue(I),K=M.validator(H);return Nm(K===!0?_o.value(H):_o.error(K))},validateOnLoad:M.validateOnLoad}})).toArray(),p={...o.placeholder.fold(ie({}),M=>({placeholder:a.translate(M)})),...o.inputMode.fold(ie({}),M=>({inputmode:M})),"data-mce-name":o.name},w=sr.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(M=>({data:M})).getOr({}),inputAttributes:p,inputClasses:[o.classname],inputBehaviours:Lt(dr([u,h])),selectOnFocus:!1,factory:Zg}),k=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[Kn.config({disabled:()=>o.disabled||a.isDisabled(),onDisabled:M=>{sr.getField(M).each(Kn.disable)},onEnabled:M=>{sr.getField(M).each(Kn.enable)}}),ga()];return o2(c,k,E,O)},f2=(o,a)=>a.getAnimationRoot.fold(()=>o.element,c=>c(o)),Qg=o=>o.dimension.property,up=(o,a)=>o.dimension.getDimension(a),dp=(o,a)=>{const c=f2(o,a);Ll(c,[a.shrinkingClass,a.growingClass])},MC=(o,a)=>{ms(o.element,a.openClass),as(o.element,a.closedClass),Xn(o.element,Qg(a),"0px"),iu(o.element)},l4=(o,a)=>{ms(o.element,a.closedClass),as(o.element,a.openClass),Jo(o.element,Qg(a))},KR=(o,a,c,u)=>{c.setCollapsed(),Xn(o.element,Qg(a),up(a,o.element)),dp(o,a),MC(o,a),a.onStartShrink(o),a.onShrunk(o)},LP=(o,a,c,u)=>{const h=u.getOrThunk(()=>up(a,o.element));c.setCollapsed(),Xn(o.element,Qg(a),h),iu(o.element);const p=f2(o,a);ms(p,a.growingClass),as(p,a.shrinkingClass),MC(o,a),a.onStartShrink(o)},qR=(o,a,c)=>{const u=up(a,o.element);(u==="0px"?KR:LP)(o,a,c,R.some(u))},GR=(o,a,c)=>{const u=f2(o,a),h=Li(u,a.shrinkingClass),p=up(a,o.element);l4(o,a);const w=up(a,o.element);(h?()=>{Xn(o.element,Qg(a),p),iu(o.element)}:()=>{MC(o,a)})(),ms(u,a.shrinkingClass),as(u,a.growingClass),l4(o,a),Xn(o.element,Qg(a),w),c.setExpanded(),a.onStartGrow(o)},m2=(o,a,c)=>{const u=f2(o,a);return Li(u,a.growingClass)===!0},YR=(o,a,c)=>{const u=f2(o,a);return Li(u,a.shrinkingClass)===!0};var XR=Object.freeze({__proto__:null,refresh:(o,a,c)=>{if(c.isExpanded()){Jo(o.element,Qg(a));const u=up(a,o.element);Xn(o.element,Qg(a),u)}},grow:(o,a,c)=>{c.isExpanded()||GR(o,a,c)},shrink:(o,a,c)=>{c.isExpanded()&&qR(o,a,c)},immediateShrink:(o,a,c)=>{c.isExpanded()&&KR(o,a,c)},hasGrown:(o,a,c)=>c.isExpanded(),hasShrunk:(o,a,c)=>c.isCollapsed(),isGrowing:m2,isShrinking:YR,isTransitioning:(o,a,c)=>m2(o,a)||YR(o,a),toggleGrow:(o,a,c)=>{(c.isExpanded()?qR:GR)(o,a,c)},disableTransitions:dp,immediateGrow:(o,a,c)=>{c.isExpanded()||(l4(o,a),Xn(o.element,Qg(a),up(a,o.element)),dp(o,a),c.setExpanded(),a.onStartGrow(o),a.onGrown(o))}}),FP=Object.freeze({__proto__:null,exhibit:(o,a,c)=>{const u=a.expanded;return Os(u?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:Pc(a.dimension.property,"0px")})},events:(o,a)=>Qn([Qd(Kp(),(c,u)=>{u.event.raw.propertyName===o.dimension.property&&(dp(c,o),a.isExpanded()&&Jo(c.element,o.dimension.property),(a.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),JR=[kt("closedClass"),kt("openClass"),kt("shrinkingClass"),kt("growingClass"),Io("getAnimationRoot"),Lo("onShrunk"),Lo("onStartShrink"),Lo("onGrown"),Lo("onStartGrow"),Xe("expanded",!1),Sa("dimension",Gs("property",{width:[Er("property","width"),Er("getDimension",o=>ca(o)+"px")],height:[Er("property","height"),Er("getDimension",o=>us(o)+"px")]}))];const Al=ma({fields:JR,name:"sliding",active:FP,apis:XR,state:Object.freeze({__proto__:null,init:o=>{const a=An(o.expanded);return fa({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Je(a.set,!1),setExpanded:Je(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),QR=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setActive:a=>{const c=o.element;a?(as(c,"tox-tbtn--enabled"),Xt(c,"aria-pressed",!0)):(ms(c,"tox-tbtn--enabled"),co(c,"aria-pressed"))},isActive:()=>Li(o.element,"tox-tbtn--enabled"),setText:a=>{wn(o,Qc,{text:a})},setIcon:a=>wn(o,Iu,{icon:a})}),dv=(o,a,c,u,h=!0,p)=>n4({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:u,fetch:(w,k)=>{const E={pattern:o.search.isSome()?a0(w):""};o.fetch(O=>{k(d0(O,_f.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},E,QR(w))},onSetup:o.onSetup,getApi:QR,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...h?[Sr.config({})]:[]]},a,c.shared,p),eN=(o,a,c)=>{const u=p=>w=>{const k=!w.isActive();w.setActive(k),p.storage.set(k),c.shared.getSink().each(E=>{a().getOpt(E).each(O=>{_i(O.element),wn(O,Sf,{name:p.name,value:p.storage.get()})})})},h=p=>w=>{w.setActive(p.storage.get())};return p=>{p(vt(o,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:u(w),onSetup:h(w)}}))}},c4=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[ys(o)]}),u4=dn("leaf-label-event-id"),d4=({leaf:o,onLeafAction:a,visible:c,treeId:u,selectedId:h,backstage:p})=>{const w=o.menu.map(E=>dv(E,"tox-mbtn",p,R.none(),c)),k=[c4(o.title)];return w.each(E=>k.push(E)),ki.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(o.id),E.getSystem().broadcastOn([`update-active-item-${u}`],{value:o.id})},eventOrder:{[ss()]:[u4,"keying"]},buttonBehaviours:Lt([...c?[Sr.config({})]:[],Un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ol.config({channels:{[`update-active-item-${u}`]:{onReceive:(E,O)=>{(O.value===o.id?Un.on:Un.off)(E)}}}}),lo(u4,[Hr((E,O)=>{h.each(M=>{(M===o.id?Un.on:Un.off)(E)})}),pt(ss(),(E,O)=>{const M=O.event.raw.code==="ArrowLeft",I=O.event.raw.code==="ArrowRight";M?(fm(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(K=>{h1(H,".tox-tree--directory__label").each(Y=>{K.getSystem().getByDom(Y).each(Zn.focus)})})}),O.stop()):I&&O.stop()})])])})},tN=dn("directory-label-event-id"),zP=({directory:o,visible:a,noChildren:c,backstage:u})=>{const h=o.menu.map(O=>dv(O,"tox-mbtn",u,R.none())),p=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=u.shared.providers.icons,((O,M,I)=>xc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},M))(w,k))]},c4(o.title)];var w,k;h.each(O=>{p.push(O)});const E=O=>{fm(O.element,".tox-tree--directory").each(M=>{O.getSystem().getByDom(M).each(I=>{const H=!Un.isOn(I);Un.toggle(I),wn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return ki.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:p,action:E,eventOrder:{[ss()]:[tN,"keying"]},buttonBehaviours:Lt([...a?[Sr.config({})]:[],lo(tN,[pt(ss(),(O,M)=>{const I=M.event.raw.code==="ArrowRight",H=M.event.raw.code==="ArrowLeft";I&&c&&M.stop(),(I||H)&&fm(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(Y=>{!Un.isOn(Y)&&I||Un.isOn(Y)&&H?(E(O),M.stop()):H&&!Un.isOn(Y)&&(fm(Y.element,".tox-tree--directory").each(re=>{h1(re,".tox-tree--directory__label").each(ce=>{Y.getSystem().getByDom(ce).each(Zn.focus)})}),M.stop())})})})])])})},HP=({children:o,onLeafAction:a,visible:c,treeId:u,expandedIds:h,selectedId:p,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(k=>k.type==="leaf"?d4({leaf:k,selectedId:p,onLeafAction:a,visible:c,treeId:u,backstage:w}):PC({directory:k,expandedIds:h,selectedId:p,onLeafAction:a,labelTabstopping:c,treeId:u,backstage:w})),behaviours:Lt([Al.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Fn.config({})])}),nN=dn("directory-event-id"),PC=({directory:o,onLeafAction:a,labelTabstopping:c,treeId:u,backstage:h,expandedIds:p,selectedId:w})=>{const{children:k}=o,E=An(p),O=p.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[zP({directory:o,visible:c,noChildren:o.children.length===0,backstage:h}),HP({children:k,expandedIds:p,selectedId:w,onLeafAction:a,visible:O,treeId:u,backstage:h})],behaviours:Lt([lo(nN,[Hr((M,I)=>{Un.set(M,O)}),pt("expand-tree-node",(M,I)=>{const{expanded:H,node:K}=I.event;E.set(H?[...E.get(),K]:E.get().filter(Y=>Y!==K))})]),Un.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,I)=>{const H=M.components()[1],K=(Y=I,k.map(re=>re.type==="leaf"?d4({leaf:re,selectedId:w,onLeafAction:a,visible:Y,treeId:u,backstage:h}):PC({directory:re,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:Y,treeId:u,backstage:h})));var Y;I?Al.grow(H):Al.shrink(H),Fn.set(H,K)}})])}},$P=dn("tree-event-id");var VP=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.stream.streams.setup(o,a);return Qn([pt(o.event,c),xu(()=>a.cancel())].concat(o.cancelEvent.map(u=>[pt(u,()=>a.cancel())]).getOr([])))}});const oN=o=>{const a=An(null);return fa({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:c=>{a.set(c)},cancel:()=>{const c=a.get();c!==null&&c.cancel()}})};var UP=Object.freeze({__proto__:null,throttle:oN,init:o=>o.stream.streams.state(o)}),WP=[Sa("stream",Gs("mode",{throttle:[kt("delay"),Xe("stopEvent",!0),Er("streams",{setup:(o,a)=>{const c=o.stream,u=U3(o.onStream,c.delay);return a.setTimer(u),(h,p)=>{u.throttle(h,p),c.stopEvent&&p.stop()}},state:oN})]})),Xe("event","input"),Io("cancelEvent"),yu("onStream")];const f4=ma({fields:WP,name:"streaming",active:VP,state:UP}),LC=(o,a,c)=>{const u=tt.getValue(c);tt.setValue(a,u),m4(a)},FC=(o,a)=>{const c=o.element,u=nf(c),h=c.dom;yo(c,"type")!=="number"&&a(h,u)},m4=o=>{FC(o,(a,c)=>a.setSelectionRange(c.length,c.length))},g4=ie("alloy.typeahead.itemexecute"),ZP=ie([Io("lazySink"),kt("fetch"),Xe("minChars",5),Xe("responseTime",1e3),Lo("onOpen"),Xe("getHotspot",R.some),Xe("getAnchorOverrides",ie({})),Xe("layouts",R.none()),Xe("eventOrder",{}),wi("model",{},[Xe("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Xe("selectsOver",!0),Xe("populateFromBrowse",!0)]),Lo("onSetValue"),tl("onExecute"),Lo("onItemExecute"),Xe("inputClasses",[]),Xe("inputAttributes",{}),Xe("inputStyles",{}),Xe("matchWidth",!0),Xe("useMinWidth",!1),Xe("dismissOnBlur",!0),Sg(["openClass"]),Io("initialData"),Io("listRole"),fn("typeaheadBehaviours",[Zn,tt,f4,Sn,Un,ws]),Ca("lazyTypeaheadComp",()=>An(R.none)),Ca("previewing",()=>An(!0))].concat(A7()).concat(l3())),rN=ie([pd({schema:[Cg()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(a,c,u)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(h=>{((p,w,k)=>{if(p.selectsOver){const E=tt.getValue(w),O=p.getDisplayText(E),M=tt.getValue(k);return p.getDisplayText(M).indexOf(O)===0?R.some(()=>{LC(0,w,k),((I,H)=>{FC(I,(K,Y)=>K.setSelectionRange(H,Y.length))})(w,O.length)}):R.none()}return R.none()})(o.model,h,u).fold(()=>{o.model.selectsOver?(er.dehighlight(c,u),o.previewing.set(!0)):o.previewing.set(!1)},p=>{p(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(h=>{o.model.populateFromBrowse&&LC(o.model,h,u),No(u.element,"id").each(p=>Xt(h.element,"aria-activedescendant",p))})},onExecute:(a,c)=>o.lazyTypeaheadComp.get().map(u=>(wn(u,g4(),{item:c}),!0)),onHover:(a,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(u=>{o.model.populateFromBrowse&&LC(o.model,u,c)})}})})]),jP=bl({name:"Typeahead",configFields:ZP(),partFields:rN(),factory:(o,a,c,u)=>{const h=(I,H,K)=>{o.previewing.set(!1);const Y=ws.getCoupled(I,"sandbox");if(T.isOpen(Y))Ho.getCurrent(Y).each(re=>{er.getHighlighted(re).fold(()=>{K(re)},()=>{ic(Y,re.element,"keydown",H)})});else{const re=ce=>{Ho.getCurrent(ce).each(K)};Q_(o,w(I),I,Y,u,re,Vi.HighlightMenuAndItem).get(ge)}},p=T7(o),w=I=>H=>H.map(K=>{const Y=gi(K.menus),re=jo(Y,ce=>bo(ce.items,pe=>pe.type==="item"));return tt.getState(I).update(vt(re,ce=>ce.data)),K}),k=I=>Ho.getCurrent(I),E="typeaheadevents",O=[Zn.config({}),tt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:I=>nf(I.element),getFallbackEntry:I=>({value:I,meta:{}}),setValue:(I,H)=>{um(I.element,o.model.getDisplayText(H))},...o.initialData.map(I=>Pc("initialValue",I)).getOr({})}}),f4.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(I,H)=>{const K=ws.getCoupled(I,"sandbox");if(Zn.isFocused(I)&&nf(I.element).length>=o.minChars){const Y=k(K).bind(ce=>er.getHighlighted(ce).map(tt.getValue));o.previewing.set(!0);const re=ce=>{k(K).each(pe=>{Y.fold(()=>{o.model.selectsOver&&er.highlightFirst(pe)},ae=>{er.highlightBy(pe,se=>tt.getValue(se).value===ae.value),er.getHighlighted(pe).orThunk(()=>(er.highlightFirst(pe),R.none()))})})};Q_(o,w(I),I,K,u,re,Vi.HighlightJustMenu).get(ge)}},cancelEvent:sd()}),Sn.config({mode:"special",onDown:(I,H)=>(h(I,H,er.highlightFirst),R.some(!0)),onEscape:I=>{const H=ws.getCoupled(I,"sandbox");return T.isOpen(H)?(T.close(H),R.some(!0)):R.none()},onUp:(I,H)=>(h(I,H,er.highlightLast),R.some(!0)),onEnter:I=>{const H=ws.getCoupled(I,"sandbox"),K=T.isOpen(H);if(K&&!o.previewing.get())return k(H).bind(Y=>er.getHighlighted(Y)).map(Y=>(wn(I,g4(),{item:Y}),!0));{const Y=tt.getValue(I);return fo(I,sd()),o.onExecute(H,I,Y),K&&T.close(H),R.some(!0)}}}),Un.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),ws.config({others:{sandbox:I=>i3(o,I,{onOpen:()=>Un.on(I),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>co(H.element,"aria-activedescendant")),Un.off(I)}})}}),lo(E,[Hr(I=>{o.lazyTypeaheadComp.set(R.some(I))}),xu(I=>{o.lazyTypeaheadComp.set(R.none())}),zc(I=>{const H=ge;s3(o,w(I),I,u,H,Vi.HighlightMenuAndItem).get(ge)}),pt(g4(),(I,H)=>{const K=ws.getCoupled(I,"sandbox");LC(o.model,I,H.event.item),fo(I,sd()),o.onItemExecute(I,K,H.event.item,tt.getValue(I)),T.close(K),m4(I)})].concat(o.dismissOnBlur?[pt(xh(),I=>{const H=ws.getCoupled(I,"sandbox");Ns(H.element).isNone()&&T.close(H)})]:[]))],M={[sc()]:[tt.name(),f4.name(),E],...o.eventOrder};return{uid:o.uid,dom:Y5(mr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...p,...io(o.typeaheadBehaviours,O)},eventOrder:M}}}),f0=o=>({...o,toCached:()=>f0(o.toCached()),bindFuture:a=>f0(o.bind(c=>c.fold(u=>Nm(_o.error(u)),u=>a(u)))),bindResult:a=>f0(o.map(c=>c.bind(a))),mapResult:a=>f0(o.map(c=>c.map(a))),mapError:a=>f0(o.map(c=>c.mapError(a))),foldResult:(a,c)=>o.map(u=>u.fold(a,c)),withTimeout:(a,c)=>f0(ep(u=>{let h=!1;const p=setTimeout(()=>{h=!0,u(_o.error(c()))},a);o.get(w=>{h||(clearTimeout(p),u(w))})}))}),sN=o=>f0(ep(o)),g2=(o,a,c=[],u,h,p,w)=>{const k=a.fold(()=>({}),M=>({action:M})),E={buttonBehaviours:Lt([ci(()=>!o.enabled||w.isDisabled()),ga(),Sr.config({}),...p.map(M=>Hs.config(w.tooltips.getConfig({tooltipText:w.translate(M)}))).toArray(),lo("button press",[Tw("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},O=mr(E,{dom:u});return mr(O,{components:h})},aN=(o,a,c,u=[],h)=>{const p={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(E=>({"aria-label":c.translate(E)})).getOr({}),"data-mce-name":h}},w=o.icon.map(E=>u2(E,c.icons)),k=J1([w]);return g2(o,a,u,p,k,o.tooltip,c)},h4=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},iN=(o,a,c,u=[],h=[])=>{const p=c.translate(o.text),w=o.icon.map(I=>u2(I,c.icons)),k=[w.getOrThunk(()=>ys(p))],E=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...h4(E),...w.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...h],attributes:{"aria-label":p,"data-mce-name":o.text}},M=o.icon.map(ie(p));return g2(o,a,u,O,k,M,c)},lN=(o,a,c,u=[],h=[])=>{const p=iN(o,R.some(a),c,u,h);return ki.sketch(p)},p4=(o,a)=>c=>{a==="custom"?wn(c,Sf,{name:o,value:{}}):a==="submit"?fo(c,r2):a==="cancel"?fo(c,Gg):console.error("Unknown button type: ",a)},fv=(o,a,c)=>{if(((u,h)=>h==="menu")(0,a)){const u=()=>w,h=o,p={...o,type:"menubutton",search:R.none(),onSetup:k=>(k.setEnabled(o.enabled),ge),fetch:eN(h.items,u,c)},w=Qo(dv(p,"tox-tbtn",c,R.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return w.asSpec()}if(((u,h)=>h==="custom"||h==="cancel"||h==="submit")(0,a)){const u=p4(o.name,a),h={...o,borderless:!1};return lN(h,u,c.shared.providers,[])}if(((u,h)=>h==="togglebutton")(0,a))return((u,h,p)=>{var w,k;const E=u.icon.map(se=>cp(se,h.icons)).map(Qo),O=u.buttonType.getOr(u.primary?"primary":"secondary"),M={...u,name:(w=u.name)!==null&&w!==void 0?w:"",primary:O==="primary",tooltip:u.tooltip,enabled:(k=u.enabled)!==null&&k!==void 0&&k,borderless:!1},I=M.tooltip.or(u.text).map(se=>({"aria-label":h.translate(se)})).getOr({}),H=h4(O??"secondary"),K=u.icon.isSome()&&u.text.isSome(),Y={tag:"button",classes:[...H.concat(u.icon.isSome()?["tox-button--icon"]:[]),...u.active?["tox-button--enabled"]:[],...K?["tox-button--icon-and-text"]:[]],attributes:{...I,...U(p)?{"data-mce-name":p}:{}}},re=h.translate(u.text.getOr("")),ce=ys(re),pe=[...J1([E.map(se=>se.asSpec())]),...u.text.isSome()?[ce]:[]],ae=g2(M,R.some(se=>{wn(se,Sf,{name:u.name,value:{setIcon:fe=>{E.map(be=>be.getOpt(se).each(we=>{Fn.set(we,[cp(fe,h.icons)])}))}}})}),[],Y,pe,u.tooltip,h);return ki.sketch(ae)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},KP={type:"separator"},qP=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:ge}),b4=(o,a)=>({type:"menuitem",value:a,text:o,meta:{attach:void 0},onAction:ge}),cN=(o,a)=>(c=>vt(c,qP))(((c,u)=>bo(u,h=>h.type===c))(o,a)),GP=o=>cN("header",o.targets),YP=o=>cN("anchor",o.targets),uN=o=>R.from(o.anchorTop).map(a=>b4("<top>",a)).toArray(),dN=o=>R.from(o.anchorBottom).map(a=>b4("<bottom>",a)).toArray(),v4=(o,a)=>{const c=o.toLowerCase();return bo(a,u=>{var h;const p=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,w=(h=u.value)!==null&&h!==void 0?h:"";return Ps(p.toLowerCase(),c)||Ps(w.toLowerCase(),c)})},fN=dn("aria-invalid"),XP=(o,a)=>{o.dom.checked=a},Cc=o=>o.dom.checked,Qr=o=>(a,c,u,h,p)=>ln(c,"name").fold(()=>o(c,h,R.none(),p),w=>a.field(w,o(c,h,ln(u,w),p))),JP={bar:Qr((o,a)=>((c,u)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:vt(c.items,u.interpreter)}))(o,a.shared)),collection:Qr((o,a,c)=>lR(o,a.shared.providers,c)),alertbanner:Qr((o,a)=>((c,u)=>{const h=$5(c.icon,u.icons);return yd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:h},components:c.url?[ki.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:u.translate(c.iconTooltip)}},action:p=>wn(p,Sf,{name:"alert-banner",value:c.url}),buttonBehaviours:Lt([N_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:u.translate(c.text)}}]})})(o,a.shared.providers)),input:Qr((o,a,c)=>((u,h,p)=>jR({name:u.name,multiline:!1,label:u.label,inputMode:u.inputMode,placeholder:u.placeholder,flex:!1,disabled:!u.enabled,classname:"tox-textfield",validation:R.none(),maximized:u.maximized,data:p},h))(o,a.shared.providers,c)),textarea:Qr((o,a,c)=>((u,h,p)=>jR({name:u.name,multiline:!0,label:u.label,inputMode:R.none(),placeholder:u.placeholder,flex:!0,disabled:!u.enabled,classname:"tox-textarea",validation:R.none(),maximized:u.maximized,data:p},h))(o,a.shared.providers,c)),label:Qr((o,a,c,u)=>((h,p,w)=>{const k="tox-label",E=h.align==="center"?[`${k}--center`]:[],O=h.align==="end"?[`${k}--end`]:[],M=Qo({dom:{tag:"label",classes:[k,...E,...O]},components:[ys(p.providers.translate(h.label))]}),I=vt(h.items,p.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[M.asSpec(),...I],behaviours:Lt([Lm(),Fn.config({}),(H=R.none(),$3(H,ld,yg)),Sn.config({mode:"acyclic"}),lo("label",[Hr(K=>{h.for.each(Y=>{w(Y).each(re=>{M.getOpt(K).each(ce=>{var pe;const ae=(pe=yo(re.element,"id"))!==null&&pe!==void 0?pe:dn("form-field");Xt(re.element,"id",ae),Xt(ce.element,"for",ae)})})})})])])};var H})(o,a.shared,u)),iframe:(z4=(o,a,c)=>((u,h,p)=>{const w="tox-dialog__iframe",k=u.transparent?[]:[`${w}--opaque`],E=u.border?["tox-navobj-bordered"]:[],O={...u.label.map(K=>({title:K})).getOr({}),...p.map(K=>({srcdoc:K})).getOr({}),...u.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},M=((K,Y)=>{const re=An(K.getOr(""));return{getValue:ce=>re.get(),setValue:(ce,pe)=>{if(re.get()!==pe){const ae=ce.element,se=()=>Xt(ae,"srcdoc",pe);Y?Q3.fold(ie(J3),fe=>fe.throttle)(ae,pe,se):se()}re.set(pe)}}})(p,u.streamContent),I=u.label.map(K=>np(K,h)),H=sr.parts.field({factory:{sketch:K=>j3(R.from(E),{uid:K.uid,dom:{tag:"iframe",attributes:O,classes:[w,...k]},behaviours:Lt([Sr.config({}),Zn.config({}),u0(p,M.getValue,M.setValue),ol.config({channels:{[TC]:{onReceive:(Y,re)=>{re.newFocus.each(ce=>{oi(Y.element).each(pe=>{(Uo(Y.element,ce)?as:ms)(pe,"tox-navobj-bordered-focus")})})}}}})])})}});return o2(I,H,["tox-form__group--stretched"],[])})(o,a.shared.providers,c),(o,a,c,u,h)=>{const p=mr(a,{source:"dynamic"});return Qr(z4)(o,p,c,u,h)}),button:Qr((o,a)=>((c,u)=>{const h=p4(c.name,"custom");return p=R.none(),w=sr.parts.field({factory:ki,...iN(c,R.some(h),u,[c2(""),Lm()])}),o2(p,w,[],[]);var p,w})(o,a.shared.providers)),checkbox:Qr((o,a,c)=>((u,h,p)=>{const w=I=>(I.element.dom.click(),R.some(!0)),k=sr.parts.field({factory:{sketch:Me},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Lt([Lm(),Kn.config({disabled:()=>!u.enabled||h.isDisabled(),onDisabled:I=>{oi(I.element).each(H=>as(H,"tox-checkbox--disabled"))},onEnabled:I=>{oi(I.element).each(H=>ms(H,"tox-checkbox--disabled"))}}),Sr.config({}),Zn.config({}),$3(p,Cc,XP),Sn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),lo("checkbox-events",[pt(om(),(I,H)=>{wn(I,Ui,{name:u.name})})])])}),E=sr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ys(h.translate(u.label))],behaviours:Lt([i0.config({})])}),O=I=>xc(I==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+I]},h.icons),M=Qo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return sr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,M.asSpec(),E],fieldBehaviours:Lt([Kn.config({disabled:()=>!u.enabled||h.isDisabled()}),ga()])})})(o,a.shared.providers,c)),colorinput:Qr((o,a,c)=>((u,h,p,w)=>{const k=sr.parts.field({factory:Zg,inputClasses:["tox-textfield"],data:w,onSetValue:I=>Im.run(I).get(ge),inputBehaviours:Lt([Kn.config({disabled:h.providers.isDisabled}),ga(),Sr.config({}),Im.config({invalidClass:"tox-textbox-field-invalid",getRoot:I=>oi(I.element),notify:{onValid:I=>{const H=tt.getValue(I);wn(I,b3,{color:H})}},validator:{validateOnLoad:!1,validate:I=>{const H=tt.getValue(I);if(H.length===0)return Nm(_o.value(!0));{const K=la("span");Xn(K,"background-color",H);const Y=Ss(K,"background-color").fold(()=>_o.error("blah"),re=>_o.value(H));return Nm(Y)}}}})]),selectOnFocus:!1}),E=u.label.map(I=>np(I,h.providers)),O=(I,H)=>{wn(I,v3,{value:H})},M=Qo(((I,H)=>al.sketch({dom:I.dom,components:I.components,toggleClass:"mce-active",dropdownBehaviours:Lt([ci(H.providers.isDisabled),ga(),i0.config({}),Sr.config({})]),layouts:I.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:K=>ep(Y=>I.fetch(Y)).map(Y=>R.from(c3(mr(s0(dn("menu-value"),Y,re=>{I.onItemAction(K,re)},I.columns,I.presets,_f.CLOSE_ON_EXECUTE,Ee,H.providers),{movement:Jy(I.columns,I.presets)})))),parts:{menu:M_(0,0,I.presets)}}))({dom:{tag:"span",attributes:{"aria-label":h.providers.translate("Color swatch")}},layouts:{onRtl:()=>[hs,gs,Rs],onLtr:()=>[gs,hs,Rs]},components:[],fetch:VD(p.getColors(u.storageKey),u.storageKey,p.hasCustomColors()),columns:p.getColorCols(u.storageKey),presets:"color",onItemAction:(I,H)=>{M.getOpt(I).each(K=>{H==="custom"?p.colorPicker(Y=>{Y.fold(()=>fo(K,mR),re=>{O(K,re),ZE(u.storageKey,re)})},"#ffffff"):O(K,H==="remove"?"":H)})}},h));return sr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,M.asSpec()]}]),fieldBehaviours:Lt([lo("form-field-events",[pt(b3,(I,H)=>{M.getOpt(I).each(K=>{Xn(K.element,"background-color",H.event.color)}),wn(I,Ui,{name:u.name})}),pt(v3,(I,H)=>{sr.getField(I).each(K=>{tt.setValue(K,H.event.value),Ho.getCurrent(I).each(Zn.focus)})}),pt(mR,(I,H)=>{sr.getField(I).each(K=>{Ho.getCurrent(I).each(Zn.focus)})})])])})})(o,a.shared,a.colorinput,c)),colorpicker:Qr((o,a,c)=>((u,h,p)=>{const w=O=>"tox-"+O,k=BR((O=>M=>b(M)?O.translate(IP[M]):O.translate(M))(h),w,h.tooltips.getConfig,(O,M,I=O,H=O)=>xc(I,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:h.translate(H),"aria-live":"polite",...M.fold(()=>({}),K=>({id:K}))}},h.icons)),E=Qo(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{wn(O,Sf,{name:"hex-valid",value:!0})},onInvalidHex:O=>{wn(O,Sf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Lt([u0(p,O=>{const M=E.get(O);return Ho.getCurrent(M).bind(I=>tt.getValue(I).hex).map(I=>"#"+yr(I,"#")).getOr("")},(O,M)=>{const I=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(M)).bind(K=>_t(K,1)),H=E.get(O);Ho.getCurrent(H).fold(()=>{console.log("Can not find form")},K=>{tt.setValue(K,{hex:I.getOr("")}),ap.getField(K,"hex").each(Y=>{fo(Y,nm())})})}),Lm()])}})(0,a.shared.providers,c)),dropzone:Qr((o,a,c)=>((u,h,p)=>{const w=(Y,re)=>{re.stop()},k=Y=>(re,ce)=>{jt(Y,pe=>{pe(re,ce)})},E=(Y,re)=>{var ce;if(!Kn.isDisabled(Y)){const pe=re.event.raw;M(Y,(ce=pe.dataTransfer)===null||ce===void 0?void 0:ce.files)}},O=(Y,re)=>{const ce=re.event.raw.target;M(Y,ce.files)},M=(Y,re)=>{re&&(tt.setValue(Y,((ce,pe)=>{const ae=Jg.explode(pe.getOption("images_file_types"));return bo(Ft(ce),se=>Vn(ae,fe=>ou(se.name.toLowerCase(),`.${fe.toLowerCase()}`)))})(re,h)),wn(Y,Ui,{name:u.name}))},I=Qo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Lt([lo("input-file-events",[rm(Ys()),rm(Kd())])])}),H=u.label.map(Y=>np(Y,h)),K=sr.parts.field({factory:{sketch:Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Lt([c2(p.getOr([])),Lm(),Kn.config({}),Un.config({toggleClass:"dragenter",toggleOnExecute:!1}),lo("dropzone-events",[pt("dragenter",k([w,Un.toggle])),pt("dragleave",k([w,Un.toggle])),pt("dragover",w),pt("drop",k([w,E])),pt(om(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ys(h.translate("Drop an image here"))]},ki.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ys(h.translate("Browse for an image")),I.asSpec()],action:re=>{I.get(re).element.dom.click()},buttonBehaviours:Lt([Sr.config({}),ci(h.isDisabled),ga()])})]}]})}});return o2(H,K,["tox-form__group--stretched"],[])})(o,a.shared.providers,c)),grid:Qr((o,a)=>((c,u)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:vt(c.items,u.interpreter)}))(o,a.shared)),listbox:Qr((o,a,c)=>((u,h,p)=>{const w=Vn(u.items,H=>!d2(H)),k=h.shared.providers,E=p.bind(H=>BC(u.items,H)).orThunk(()=>$t(u.items).filter(d2)),O=u.label.map(H=>np(H,k)),M=sr.parts.field({dom:{},factory:{sketch:H=>n4({uid:H.uid,text:E.map(K=>K.text),icon:R.none(),tooltip:R.none(),role:Vo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:u.label,fetch:(K,Y)=>{const re=IC(K,u.name,u.items,tt.getValue(K),w);Y(d0(re,_f.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:R.none()}))},onSetup:ie(ge),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Sr.config({}),u0(E.map(K=>K.value),K=>yo(K.element,o4),(K,Y)=>{BC(u.items,Y).each(re=>{Xt(K.element,o4,re.value),wn(K,Qc,{text:re.text})})})]},"tox-listbox",h.shared)}}),I={dom:{tag:"div",classes:["tox-listboxfield"]},components:[M]};return sr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:dr([O.toArray(),[I]]),fieldBehaviours:Lt([Kn.config({disabled:ie(!u.enabled),onDisabled:H=>{sr.getField(H).each(Kn.disable)},onEnabled:H=>{sr.getField(H).each(Kn.enable)}})])})})(o,a,c)),selectbox:Qr((o,a,c)=>((u,h,p)=>{const w=vt(u.items,I=>({text:h.translate(I.text),value:I.value})),k=u.label.map(I=>np(I,h)),E=sr.parts.field({dom:{},...p.map(I=>({data:I})).getOr({}),selectAttributes:{size:u.size},options:w,factory:PP,selectBehaviours:Lt([Kn.config({disabled:()=>!u.enabled||h.isDisabled()}),Sr.config({}),lo("selectbox-change",[pt(om(),(I,H)=>{wn(I,Ui,{name:u.name})})])])}),O=u.size>1?R.none():R.some(xc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},h.icons)),M={dom:{tag:"div",classes:["tox-selectfield"]},components:dr([[E],O.toArray()])};return sr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:dr([k.toArray(),[M]]),fieldBehaviours:Lt([Kn.config({disabled:()=>!u.enabled||h.isDisabled(),onDisabled:I=>{sr.getField(I).each(Kn.disable)},onEnabled:I=>{sr.getField(I).each(Kn.enable)}}),ga()])})})(o,a.shared.providers,c)),sizeinput:Qr((o,a)=>((c,u)=>{let h=i4;const p=dn("ratio-event"),w=re=>xc(re,{tag:"span",classes:["tox-icon","tox-lock-icon__"+re]},u.icons),k=c.label.getOr("Constrain proportions"),E=u.translate(k),O=_c.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Lt([Kn.config({disabled:()=>!c.enabled||u.isDisabled()}),ga(),Sr.config({}),Hs.config(u.tooltips.getConfig({tooltipText:E}))])}),M=re=>({dom:{tag:"div",classes:["tox-form__group"]},components:re}),I=re=>sr.parts.field({factory:Zg,inputClasses:["tox-textfield"],inputBehaviours:Lt([Kn.config({disabled:()=>!c.enabled||u.isDisabled()}),ga(),Sr.config({}),lo("size-input-events",[pt(Go(),(ce,pe)=>{wn(ce,p,{isField1:re})}),pt(om(),(ce,pe)=>{wn(ce,Ui,{name:c.name})})])]),selectOnFocus:!1}),H=re=>({dom:{tag:"label",classes:["tox-label"]},components:[ys(u.translate(re))]}),K=_c.parts.field1(M([sr.parts.label(H("Width")),I(!0)])),Y=_c.parts.field2(M([sr.parts.label(H("Height")),I(!1)]));return _c.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,Y,M([H(" "),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(re,ce,pe)=>{s4(tt.getValue(re)).each(ae=>{h(ae).each(se=>{tt.setValue(ce,(fe=>{const be={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let we=fe.value.toFixed((Fe=fe.unit)in be?be[Fe]:1);var Fe;return we.indexOf(".")!==-1&&(we=we.replace(/\.?0*$/,"")),we+fe.unit})(se))})})},coupledFieldBehaviours:Lt([Kn.config({disabled:()=>!c.enabled||u.isDisabled(),onDisabled:re=>{_c.getField1(re).bind(sr.getField).each(Kn.disable),_c.getField2(re).bind(sr.getField).each(Kn.disable),_c.getLock(re).each(Kn.disable)},onEnabled:re=>{_c.getField1(re).bind(sr.getField).each(Kn.enable),_c.getField2(re).bind(sr.getField).each(Kn.enable),_c.getLock(re).each(Kn.enable)}}),ga(),lo("size-input-events2",[pt(p,(re,ce)=>{const pe=ce.event.isField1,ae=pe?_c.getField1(re):_c.getField2(re),se=pe?_c.getField2(re):_c.getField1(re),fe=ae.map(tt.getValue).getOr(""),be=se.map(tt.getValue).getOr("");h=((we,Fe)=>{const qe=s4(we).toOptional(),wt=s4(Fe).toOptional();return Ht(qe,wt,(ht,ft)=>a4(ht,ft.unit).map(Bt=>ft.value/Bt).map(Bt=>{return sn=Bt,hn=ft.unit,Rn=>a4(Rn,hn).map(qn=>({value:qn*sn,unit:hn}));var sn,hn}).getOr(i4)).getOr(i4)})(fe,be)})])])})})(o,a.shared.providers)),slider:Qr((o,a,c)=>((u,h,p)=>{const w=_d.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ys(h.translate(u.label))]}),k=_d.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=_d.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return _d.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:u.min,maxX:u.max,getInitialValue:ie(p.getOrThunk(()=>(Math.abs(u.max)-Math.abs(u.min))/2))},components:[w,k,E],sliderBehaviours:Lt([Lm(),Zn.config({})]),onChoose:(O,M,I)=>{wn(O,Ui,{name:u.name,value:I})},onChange:(O,M,I)=>{wn(O,Ui,{name:u.name,value:I})}})})(o,a.shared.providers,c)),urlinput:Qr((o,a,c)=>((u,h,p,w)=>{const k=h.shared.providers,E=ae=>{const se=tt.getValue(ae);p.addToHistory(se.value,u.filetype)},O={...w.map(ae=>({initialData:ae})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":fN,type:"url"},minChars:0,responseTime:0,fetch:ae=>{const se=((be,we,Fe)=>{var qe,wt;const ht=tt.getValue(we),ft=(wt=(qe=ht==null?void 0:ht.meta)===null||qe===void 0?void 0:qe.text)!==null&&wt!==void 0?wt:ht.value;return Fe.getLinkInformation().fold(()=>[],Bt=>{const sn=v4(ft,(Rn=>vt(Rn,qn=>b4(qn,qn)))(Fe.getHistory(be)));return be==="file"?(hn=[sn,v4(ft,GP(Bt)),v4(ft,dr([uN(Bt),YP(Bt),dN(Bt)]))],Mn(hn,(Rn,qn)=>Rn.length===0||qn.length===0?Rn.concat(qn):Rn.concat(KP,qn),[])):sn;var hn})})(u.filetype,ae,p),fe=d0(se,_f.BUBBLE_TO_SANDBOX,h,{isHorizontalMenu:!1,search:R.none()});return Nm(fe)},getHotspot:ae=>ce.getOpt(ae),onSetValue:(ae,se)=>{ae.hasConfigured(Im)&&Im.run(ae).get(ge)},typeaheadBehaviours:Lt([...p.getValidationHandler().map(ae=>Im.config({getRoot:se=>oi(se.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(se,fe)=>{H.getOpt(se).each(be=>{Xt(be.element,"title",k.translate(fe))})}},validator:{validate:se=>{const fe=tt.getValue(se);return sN(be=>{ae({type:u.filetype,url:fe.value},we=>{if(we.status==="invalid"){const Fe=_o.error(we.message);be(Fe)}else{const Fe=_o.value(we.message);be(Fe)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!u.enabled||k.isDisabled()}),Sr.config({}),lo("urlinput-events",[pt(nm(),ae=>{const se=nf(ae.element),fe=se.trim();fe!==se&&um(ae.element,fe),u.filetype==="file"&&wn(ae,Ui,{name:u.name})}),pt(om(),ae=>{wn(ae,Ui,{name:u.name}),E(ae)}),pt(dx(),ae=>{wn(ae,Ui,{name:u.name}),E(ae)})])]),eventOrder:{[nm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ae=>ae.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:h.shared.getSink,parts:{menu:M_(0,0,"normal")},onExecute:(ae,se,fe)=>{wn(se,r2,{})},onItemExecute:(ae,se,fe,be)=>{E(ae),wn(ae,Ui,{name:u.name})}},M=sr.parts.field({...O,factory:jP}),I=u.label.map(ae=>np(ae,k)),H=Qo(((ae,se,fe=ae,be=ae)=>xc(fe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ae],attributes:{title:k.translate(be),"aria-live":"polite",...se.fold(()=>({}),we=>({id:we}))}},k.icons))("invalid",R.some(fN),"warning")),K=Qo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Y=p.getUrlPicker(u.filetype),re=dn("browser.url.event"),ce=Qo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[M,K.asSpec()],behaviours:Lt([Kn.config({disabled:()=>!u.enabled||k.isDisabled()})])}),pe=Qo(lN({name:u.name,icon:R.some("browse"),text:u.picker_text.or(u.label).getOr(""),enabled:u.enabled,primary:!1,buttonType:R.none(),borderless:!0},ae=>fo(ae,re),k,[],["tox-browse-url"]));return sr.sketch({dom:oC([]),components:I.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:dr([[ce.asSpec()],Y.map(()=>pe.asSpec()).toArray()])}]),fieldBehaviours:Lt([Kn.config({disabled:()=>!u.enabled||k.isDisabled(),onDisabled:ae=>{sr.getField(ae).each(Kn.disable),pe.getOpt(ae).each(Kn.disable)},onEnabled:ae=>{sr.getField(ae).each(Kn.enable),pe.getOpt(ae).each(Kn.enable)}}),ga(),lo("url-input-events",[pt(re,ae=>{Ho.getCurrent(ae).each(se=>{const fe=tt.getValue(se),be={fieldname:u.name,...fe};Y.each(we=>{we(be).get(Fe=>{tt.setValue(se,Fe),wn(ae,Ui,{name:u.name})})})})})])])})})(o,a,a.urlinput,c)),customeditor:Qr(o=>{const a=rr(),c=Qo({dom:{tag:o.tag}}),u=rr(),h=!V3(o)&&o.onFocus.isSome()?[Zn.config({onFocus:p=>{o.onFocus.each(w=>{w(p.element.dom)})}}),Sr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Lt([lo("custom-editor-events",[Hr(p=>{c.getOpt(p).each(w=>{(V3(o)?o.init(w.element.dom):MR.load(o.scriptId,o.scriptUrl).then(k=>k(w.element.dom,o.settings))).then(k=>{u.on(E=>{k.setValue(E)}),u.clear(),a.set(k)})})})]),u0(R.none(),()=>a.get().fold(()=>u.get().getOr(""),p=>p.getValue()),(p,w)=>{a.get().fold(()=>u.set(w),k=>k.setValue(w))}),Lm()].concat(h)),components:[c.asSpec()]}}),htmlpanel:Qr((o,a)=>((c,u)=>{const h=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],p=lo("htmlpanel",[Hr(w=>{c.onInit(w.element.dom)})]);return c.presets==="presentation"?yd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html},containerBehaviours:Lt([Hs.config({...u.tooltips.getConfig({tooltipText:"",onShow:w=>{jr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ns(w.element)).each(k=>{No(k,"data-mce-tooltip").each(E=>{Hs.setComponents(w,u.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:jr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ns(w.element).filter(k=>No(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:ie([Rs,is,gs,Fs,hs,gr]),onRtl:ie([Rs,is,gs,Fs,hs,gr])},bubble:Fl(0,-2,{})})}),p])}):yd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:Lt([Sr.config({}),Zn.config({}),p])})})(o,a.shared.providers)),imagepreview:Qr((o,a,c)=>((u,h)=>{const p=An(h.getOr({url:""})),w=Qo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:h.map(M=>({src:M.url})).getOr({})}}),k=Qo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};u.height.each(M=>E.height=M);const O=h.map(M=>({url:M.url,zoom:R.from(M.zoom),cachedWidth:R.from(M.cachedWidth),cachedHeight:R.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Lt([Lm(),u0(O,()=>p.get(),(M,I)=>{const H={url:I.url};I.zoom.each(Y=>H.zoom=Y),I.cachedWidth.each(Y=>H.cachedWidth=Y),I.cachedHeight.each(Y=>H.cachedHeight=Y),p.set(H);const K=()=>{const{cachedWidth:Y,cachedHeight:re,zoom:ce}=H;if(!z(Y)&&!z(re)){if(z(ce)){const ae=((se,fe,be)=>{const we=ca(se),Fe=us(se);return Math.min(we/fe,Fe/be,1)})(M.element,Y,re);H.zoom=ae}const pe=((ae,se,fe,be,we)=>{const Fe=fe*we,qe=be*we,wt=Math.max(0,ae/2-Fe/2),ht=Math.max(0,se/2-qe/2);return{left:wt.toString()+"px",top:ht.toString()+"px",width:Fe.toString()+"px",height:qe.toString()+"px"}})(ca(M.element),us(M.element),Y,re,H.zoom);k.getOpt(M).each(ae=>{Ni(ae.element,pe)})}};w.getOpt(M).each(Y=>{const re=Y.element;var ce;I.url!==yo(re,"src")&&(Xt(re,"src",I.url),ms(M.element,"tox-imagepreview__loaded")),K(),(ce=re,new Promise((pe,ae)=>{const se=()=>{be(),pe(ce)},fe=[Ci(ce,"load",se),Ci(ce,"error",()=>{be(),ae("Unable to load data from image: "+ce.dom.src)})],be=()=>jt(fe,we=>we.unbind());ce.dom.complete&&se()})).then(pe=>{M.getSystem().isConnected()&&(as(M.element,"tox-imagepreview__loaded"),H.cachedWidth=pe.dom.naturalWidth,H.cachedHeight=pe.dom.naturalHeight,K())})})})])}})(o,c)),table:Qr((o,a)=>((c,u)=>{const h=k=>({dom:{tag:"td",innerHtml:u.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:vt(w,k=>({dom:{tag:"th",innerHtml:u.translate(k)}}))}]}),(p=c.cells,{dom:{tag:"tbody"},components:vt(p,k=>({dom:{tag:"tr"},components:vt(k,h)}))})],behaviours:Lt([Sr.config({}),Zn.config({})])};var p,w})(o,a.shared.providers)),tree:Qr((o,a)=>((c,u)=>{const h=c.onLeafAction.getOr(ge),p=c.onToggleExpand.getOr(ge),w=c.defaultExpandedIds,k=An(w),E=An(c.defaultSelectedId),O=dn("tree-id"),M=(I,H)=>c.items.map(K=>K.type==="leaf"?d4({leaf:K,selectedId:I,onLeafAction:h,visible:!0,treeId:O,backstage:u}):PC({directory:K,selectedId:I,onLeafAction:h,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:u}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:M(E.get(),k.get()),behaviours:Lt([Sn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),lo($P,[pt("expand-tree-node",(I,H)=>{const{expanded:K,node:Y}=H.event;k.set(K?[...k.get(),Y]:k.get().filter(re=>re!==Y)),p(k.get(),{expanded:K,node:Y})})]),ol.config({channels:{[`update-active-item-${O}`]:{onReceive:(I,H)=>{E.set(R.some(H.value)),Fn.set(I,M(R.some(H.value),k.get()))}}}}),Fn.config({})])}})(o,a)),panel:Qr((o,a)=>((c,u)=>({dom:{tag:"div",classes:c.classes},components:vt(c.items,u.shared.interpreter)}))(o,a))},x4={field:(o,a)=>a,record:ie([])},zC=(o,a,c,u,h)=>{const p=mr(u,{shared:{interpreter:w=>y4(o,w,c,p,h)}});return y4(o,a,c,p,h)},y4=(o,a,c,u,h)=>ln(JP,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),p=>p(o,a,c,u,h)),mN=(o,a,c,u)=>y4(x4,o,a,c,u),Cd="layout-inset",mv=o=>o.x,HC=(o,a)=>o.x+o.width/2-a.width/2,w4=(o,a)=>o.x+o.width-a.width,Bu=o=>o.y,_4=(o,a)=>o.y+o.height-a.height,gN=(o,a)=>o.y+o.height/2-a.height/2,Vl=(o,a,c)=>ja(w4(o,a),_4(o,a),c.insetSouthwest(),Dg(),"southwest",Ka(o,{right:0,bottom:3}),Cd),fp=(o,a,c)=>ja(mv(o),_4(o,a),c.insetSoutheast(),fb(),"southeast",Ka(o,{left:1,bottom:3}),Cd),Ul=(o,a,c)=>ja(w4(o,a),Bu(o),c.insetNorthwest(),Og(),"northwest",Ka(o,{right:0,top:2}),Cd),h2=(o,a,c)=>ja(mv(o),Bu(o),c.insetNortheast(),db(),"northeast",Ka(o,{left:1,top:2}),Cd),$o=(o,a,c)=>ja(HC(o,a),Bu(o),c.insetNorth(),Fw(),"north",Ka(o,{top:2}),Cd),Fm=(o,a,c)=>ja(HC(o,a),_4(o,a),c.insetSouth(),Mx(),"south",Ka(o,{bottom:3}),Cd),p2=(o,a,c)=>ja(w4(o,a),gN(o,a),c.insetEast(),zw(),"east",Ka(o,{right:0}),Cd),C4=(o,a,c)=>ja(mv(o),gN(o,a),c.insetWest(),Px(),"west",Ka(o,{left:1}),Cd),S4=o=>{switch(o){case"north":return $o;case"northeast":return h2;case"northwest":return Ul;case"south":return Fm;case"southeast":return fp;case"southwest":return Vl;case"east":return p2;case"west":return C4}},$C=(o,a,c,u,h)=>xb(u).map(S4).getOr($o)(o,a,c,u,h),QP=o=>{switch(o){case"north":return Fm;case"northeast":return fp;case"northwest":return Vl;case"south":return $o;case"southeast":return h2;case"southwest":return Ul;case"east":return C4;case"west":return p2}},k4=(o,a,c,u,h)=>xb(u).map(QP).getOr($o)(o,a,c,u,h),b2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},hN=(o,a,c)=>{const u={maxHeightFunction:Bg()};return()=>c()?{type:"node",root:We(nt(o())),node:R.from(o()),bubble:Fl(12,12,b2),layouts:{onRtl:()=>[h2],onLtr:()=>[Ul]},overrides:u}:{type:"hotspot",hotspot:a(),bubble:Fl(-12,12,b2),layouts:{onRtl:()=>[gs,hs,Rs],onLtr:()=>[hs,gs,Rs]},overrides:u}},pN=(o,a,c,u)=>{const h={maxHeightFunction:Bg()};return()=>u()?{type:"node",root:We(nt(a())),node:R.from(a()),bubble:Fl(12,12,b2),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]},overrides:h}:o?{type:"node",root:We(nt(a())),node:R.from(a()),bubble:Fl(0,-Ql(a()),b2),layouts:{onRtl:()=>[is],onLtr:()=>[is]},overrides:h}:{type:"hotspot",hotspot:c(),bubble:Fl(0,0,b2),layouts:{onRtl:()=>[is],onLtr:()=>[is]},overrides:h}},E4=(o,a,c)=>()=>c()?{type:"node",root:We(nt(o())),node:R.from(o()),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Rs],onLtr:()=>[Rs]}},bN=(o,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const c=o.selection.getRng(),u=o.model.table.getSelectedCells();if(u.length>1){const h=u[0],p=u[u.length-1],w={firstCell:Qt(h),lastCell:Qt(p)};return R.some(w)}return R.some(uf.range(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset))}}),VC=o=>a=>({type:"node",root:o(),node:a}),eL=(o,a,c,u)=>{const h=Kb(o),p=()=>Qt(o.getBody()),w=()=>Qt(o.getContentAreaContainer()),k=()=>h||!u();return{inlineDialog:hN(w,a,k),inlineBottomDialog:pN(o.inline,w,c,k),banner:E4(w,a,k),cursor:bN(o,p),node:VC(p)}},tL=o=>(a,c)=>{WD(o)(a,c)},nL=o=>()=>GE(o),oL=o=>a=>r0(o,a),rL=o=>a=>qE(o,a),vN=o=>()=>yf(o),xN=o=>so(o,"items"),yN=o=>so(o,"format"),A4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],T4=o=>Mn(o,(a,c)=>{if(mo(c,"items")){const u=T4(c.items);return{customFormats:a.customFormats.concat(u.customFormats),formats:a.formats.concat([{title:c.title,items:u.formats}])}}if(mo(c,"inline")||(u=>mo(u,"block"))(c)||(u=>mo(u,"selector"))(c)){const u=`custom-${b(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:u,format:c}]),formats:a.formats.concat([{title:c.title,format:u,icon:c.icon}])}}return{...a,formats:a.formats.concat(c)}},{customFormats:[],formats:[]}),wN=o=>j1(o).map(a=>{const c=((u,h)=>{const p=T4(h),w=k=>{jt(k,E=>{u.formatter.has(E.name)||u.formatter.register(E.name,E.format)})};return u.formatter?w(p.customFormats):u.on("init",()=>{w(p.customFormats)}),p.formats})(o,a);return h_(o)?A4.concat(c):c}).getOr(A4),_N=(o,a,c)=>({...o,type:"formatter",isSelected:a(o.format),getStylePreview:c(o.format)}),O4=(o,a,c,u)=>{const h=p=>vt(p,w=>xN(w)?(k=>{const E=h(k.items);return{...k,type:"submenu",getStyleItems:ie(E)}})(w):yN(w)?(k=>_N(k,c,u))(w):(k=>{const E=on(k);return E.length===1&&ot(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=b(k.name)?k.name:dn(k.title),O=`custom-${E}`,M={...k,type:"formatter",format:O,isSelected:c(O),getStylePreview:u(O)};return o.formatter.register(E,M),M})(w));return h(a)},D4=o=>{let a=0;const c=u=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[ys(u.tooltipText)]}];return{getConfig:u=>({delayForShow:()=>a>0?60:300,delayForHide:ie(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(u),onShow:(h,p)=>{a++,u.onShow&&u.onShow(h,p)},onHide:(h,p)=>{a--,u.onHide&&u.onHide(h,p)},onSetup:u.onSetup}),getComponents:c}},CN=Jg.trim,SN=o=>a=>!!((c=>U(c)&&c.nodeType===1)(a)&&(a.contentEditable===o||a.getAttribute("data-mce-contenteditable")===o)),sL=SN("true"),aL=SN("false"),kN=(o,a,c,u,h)=>({type:o,title:a,url:c,level:u,attach:h}),EN=o=>o.innerText||o.textContent,iL=o=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(o)&&Mu(o),R4=o=>o&&/^(H[1-6])$/.test(o.nodeName),Mu=o=>(a=>{let c=a;for(;c=c.parentNode;){const u=c.contentEditable;if(u&&u!=="inherit")return sL(c)}return!1})(o)&&!aL(o),lL=o=>R4(o)&&Mu(o),N4=o=>{var a;const c=(u=>u.id?u.id:dn("h"))(o);return kN("header",(a=EN(o))!==null&&a!==void 0?a:"","#"+c,(u=>R4(u)?parseInt(u.nodeName.substr(1),10):0)(o),()=>{o.id=c})},AN=o=>{const a=o.id||o.name,c=EN(o);return kN("anchor",c||"#"+a,"#"+a,0,ge)},TN=o=>CN(o.title).length>0,cL=o=>{const a=(c=>vt(ra(Qt(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),h=>h.dom))(o);return bo((c=>vt(bo(c,lL),N4))(a).concat((c=>vt(bo(c,iL),AN))(a)),TN)},v2="tinymce-url-history",I4=o=>b(o)&&/^https?/.test(o),B4=o=>y(o)&&ar(o,a=>{return!(L(c=a)&&c.length<=5&&ei(c,I4));var c}).isNone(),ON=()=>{const o=wc.getItem(v2);if(o===null)return{};let a;try{a=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+v2+" was not valid JSON",c),{};throw c}return B4(a)?a:(console.log("Local storage "+v2+" was not valid format",a),{})},uL=o=>{const a=ON();return ln(a,o).getOr([])},dL=(o,a)=>{if(!I4(o))return;const c=ON(),u=ln(c,a).getOr([]),h=bo(u,p=>p!==o);c[a]=[o].concat(h).slice(0,5),(p=>{if(!B4(p))throw new Error(`Bad format for history:
`+JSON.stringify(p));wc.setItem(v2,JSON.stringify(p))})(c)},DN=o=>!!o,fL=o=>Cn(Jg.makeMap(o,/[, ]/),DN),UC=o=>R.from(b_(o)),M4=o=>R.from(o).filter(b).getOrUndefined(),RN=o=>({getHistory:uL,addToHistory:dL,getLinkInformation:()=>(a=>v_(a)?R.some({targets:cL(a.getBody()),anchorTop:M4(y5(a)),anchorBottom:M4(w5(a))}):R.none())(o),getValidationHandler:()=>(a=>R.from(_y(a)))(o),getUrlPicker:a=>((c,u)=>((h,p)=>{const w=(k=>{const E=R.from(Cy(k)).filter(DN).map(fL);return UC(k).fold(Ee,O=>E.fold(Ne,M=>on(M).length>0&&M))})(h);return D(w)?w?UC(h):R.none():w[p]?UC(h):R.none()})(c,u).map(h=>p=>ep(w=>{const k={filetype:u,fieldname:p.fieldname,...R.from(p.meta).getOr({})};h.call(c,(E,O)=>{if(!b(E))throw new Error("Expected value to be string");if(O!==void 0&&!y(O))throw new Error("Expected meta to be a object");w({value:E,meta:O})},p.value,k)})))(o,a)}),Ya=CM,zm=lO,mL=ie([Xe("shell",!1),kt("makeItem"),Xe("setupItem",ge),jn("listBehaviours",[Fn])]),gv=jc({name:"items",overrides:()=>({behaviours:Lt([Fn.config({})])})}),gL=ie([gv]),P4=bl({name:ie("CustomList")(),configFields:mL(),partFields:gL(),factory:(o,a,c,u)=>{const h=o.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:io(o.listBehaviours,h.behaviours),apis:{setItems:(p,w)=>{var k;(k=p,o.shell?R.some(k):Tr(k,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=Fn.contents(E),M=w.length,I=M-O.length,H=I>0?Nr(I,()=>o.makeItem()):[],K=O.slice(M);jt(K,re=>Fn.remove(E,re)),jt(H,re=>Fn.append(E,re));const Y=Fn.contents(E);jt(Y,(re,ce)=>{o.setupItem(p,re,w[ce],ce)})})}}}},apis:{setItems:(o,a,c)=>{o.setItems(a,c)}}}),m0=ie([kt("dom"),Xe("shell",!0),fn("toolbarBehaviours",[Fn])]),NN=ie([jc({name:"groups",overrides:()=>({behaviours:Lt([Fn.config({})])})})]),Sd=bl({name:"Toolbar",configFields:m0(),partFields:NN(),factory:(o,a,c,u)=>{const h=o.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:io(o.toolbarBehaviours,h.behaviours),apis:{setGroups:(p,w)=>{var k;(k=p,o.shell?R.some(k):Tr(k,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Fn.set(E,w)})},refresh:ge},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)}}}),L4=ge,F4=Ee,WC=ie([]);var z4,hL=Object.freeze({__proto__:null,setup:L4,isDocked:F4,getBehaviours:WC});const ZC=ie(dn("toolbar-height-change")),Hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},IN="tox-tinymce--toolbar-sticky-on",BN="tox-tinymce--toolbar-sticky-off",x2=(o,a)=>ot(Zr.getModes(o),a),jC=o=>{const a=o.element;oi(a).each(c=>{const u="padding-"+Zr.getModes(o)[0];if(Zr.isDocked(o)){const h=ca(c);Xn(a,"width",h+"px"),Xn(c,u,(p=>Ql(p)+(parseInt(ns(p,"margin-top"),10)||0)+(parseInt(ns(p,"margin-bottom"),10)||0))(a)+"px")}else Jo(a,"width"),Jo(c,u)})},H4=(o,a)=>{a?(ms(o,Hm.fadeOutClass),Ds(o,[Hm.transitionClass,Hm.fadeInClass])):(ms(o,Hm.fadeInClass),Ds(o,[Hm.fadeOutClass,Hm.transitionClass]))},MN=(o,a)=>{const c=Qt(o.getContainer());a?(as(c,IN),ms(c,BN)):(as(c,BN),ms(c,IN))},PN=(o,a)=>{const c=rr(),u=a.getSink,h=k=>{u().each(E=>k(E.element))},p=k=>{o.inline||jC(k),MN(o,Zr.isDocked(k)),k.getSystem().broadcastOn([$()],{}),u().each(E=>E.getSystem().broadcastOn([$()],{}))},w=o.inline?[]:[ol.config({channels:{[ZC()]:{onReceive:jC}}})];return[Zn.config({}),Zr.config({contextual:{lazyContext:k=>{const E=Ql(k.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return R.from(O).map(M=>{const I=Us(Qt(M));return jh(o,k.element).fold(()=>{const H=I.height-E,K=I.y+(x2(k,"top")?0:E);return go(I.x,K,I.width,H)},H=>{const K=ed(I,Kh(H)),Y=x2(k,"top")?K.y:K.y+E;return go(K.x,Y,K.width,K.height-E)})})},onShow:()=>{h(k=>H4(k,!0))},onShown:k=>{h(E=>Ll(E,[Hm.transitionClass,Hm.fadeInClass])),c.get().each(E=>{((O,M)=>{const I=Vs(M);Vc(I).filter(H=>!Uo(M,H)).filter(H=>Uo(H,Qt(I.dom.body))||vs(O,H)).each(()=>_i(M))})(k.element,E),c.clear()})},onHide:k=>{((E,O)=>Ns(E).orThunk(()=>O().toOptional().bind(M=>Ns(M.element))))(k.element,u).fold(c.clear,c.set),h(E=>H4(E,!1))},onHidden:()=>{h(k=>Ll(k,[Hm.transitionClass]))},...Hm},lazyViewport:k=>jh(o,k.element).fold(()=>{const E=_a(),O=sE(o),M=E.y+(x2(k,"top")?O:0),I=E.height-(x2(k,"bottom")?O:0);return{bounds:go(E.x,M,E.width,I),optScrollEnv:R.none()}},E=>({bounds:Kh(E),optScrollEnv:R.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:gl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:p,onUndocked:p}),...w]};var pL=Object.freeze({__proto__:null,setup:(o,a,c)=>{o.inline||(a.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(Zr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(jC)}),o.on("SkinLoaded",()=>{c().each(u=>{Zr.isDocked(u)?Zr.reset(u):Zr.refresh(u)})}),o.on("FullscreenStateChanged",()=>{c().each(Zr.reset)})),o.on("AfterScrollIntoView",u=>{c().each(h=>{Zr.refresh(h);const p=h.element;MO(p)&&((w,k)=>{const E=Vs(k),O=Ec(k).dom.innerHeight,M=Br(E),I=Qt(w.elm),H=Qi(I),K=us(I),Y=H.y,re=Y+K,ce=gl(k),pe=us(k),ae=ce.top,se=ae+pe,fe=Math.abs(ae-M.top)<2,be=Math.abs(se-(M.top+O))<2;if(fe&&Y<se)Vd(M.left,Y-pe,E);else if(be&&re>ae){const we=Y-O+K+pe;Vd(M.left,we,E)}})(u,p)})}),o.on("PostRender",()=>{MN(o,!1)})},isDocked:o=>o().map(Zr.isDocked).getOr(!1),getBehaviours:PN});const bL=Bn([Js,Sa("items",Jf([mu([SE,Pi("items",na)]),na]))].concat(Rm)),vL=[xs("text"),xs("tooltip"),xs("icon"),yi("search",!1,Jf([Bl,Bn([xs("placeholder")])],o=>D(o)?o?R.some({placeholder:R.none()}):R.none():R.some(o))),xi("fetch"),Mr("onSetup",()=>ge)],LN=Bn([Js,...vL]),FN=o=>os("menubutton",LN,o),xL=Bn([Js,Wy,Tu,Jh,OE,R7,Xh,oc("presets","normal",["normal","color","listpreview"]),iD(1),G1,aD]);var $4=Kc({factory:(o,a)=>{const c={focus:Sn.focusIn,setMenus:(u,h)=>{const p=vt(h,w=>{const k={type:"menubutton",text:w.text,fetch:O=>{O(w.getItems())}},E=FN(k).mapError(O=>Mi(O)).getOrDie();return dv(E,"tox-mbtn",a.backstage,R.some("menuitem"))});Fn.set(u,p)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Lt([Fn.config({}),lo("menubar-events",[Hr(u=>{o.onSetup(u)}),pt(yn(),(u,h)=>{jr(u.element,".tox-mbtn--active").each(p=>{wu(h.event.target,".tox-mbtn").each(w=>{Uo(p,w)||u.getSystem().getByDom(p).each(k=>{u.getSystem().getByDom(w).each(E=>{al.expand(E),al.close(k),Zn.focus(E)})})})})}),pt(Y0(),(u,h)=>{h.event.prevFocus.bind(p=>u.getSystem().getByDom(p).toOptional()).each(p=>{h.event.newFocus.bind(w=>u.getSystem().getByDom(w).toOptional()).each(w=>{al.isOpen(p)&&(al.expand(w),al.close(p))})})})]),Sn.config({mode:"flow",selector:".tox-mbtn",onEscape:u=>(o.onEscape(u),R.some(!0))}),Sr.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[kt("dom"),kt("uid"),kt("onEscape"),kt("backstage"),Xe("onSetup",ge)],apis:{focus:(o,a)=>{o.focus(a)},setMenus:(o,a,c)=>{o.setMenus(a,c)}}});const zN="container",yL=[fn("slotBehaviours",[])],V4=o=>"<alloy.field."+o+">",wL=(o,a)=>{const c=M=>fO(o),u=(M,I)=>(H,K)=>Tr(H,o,K).map(Y=>M(Y,K)).getOr(I),h=(M,I)=>yo(M.element,"aria-hidden")!=="true",p=u(h,!1),w=u((M,I)=>{if(h(M)){const H=M.element;Xn(H,"display","none"),Xt(H,"aria-hidden","true"),wn(M,Fc(),{name:I,visible:!1})}}),k=(M=>(I,H)=>{jt(H,K=>M(I,K))})(w),E=u((M,I)=>{if(!h(M)){const H=M.element;Jo(H,"display"),co(H,"aria-hidden"),wn(M,Fc(),{name:I,visible:!0})}}),O={getSlotNames:c,getSlot:(M,I)=>Tr(M,o,I),isShowing:p,hideSlot:w,hideAllSlots:M=>k(M,c()),showSlot:E};return{uid:o.uid,dom:o.dom,components:a,behaviours:Hn(o.slotBehaviours),apis:O}},_L=Cn({getSlotNames:(o,a)=>o.getSlotNames(a),getSlot:(o,a,c)=>o.getSlot(a,c),isShowing:(o,a,c)=>o.isShowing(a,c),hideSlot:(o,a,c)=>o.hideSlot(a,c),hideAllSlots:(o,a)=>o.hideAllSlots(a),showSlot:(o,a,c)=>o.showSlot(a,c)},o=>u1(o)),il={..._L,sketch:o=>{const a=(()=>{const p=[];return{slot:(w,k)=>(p.push(w),Ck(zN,V4(w),k)),record:ie(p)}})(),c=o(a),u=a.record(),h=vt(u,p=>sl({name:p,pname:V4(p)}));return oy(zN,yL,h,wL,c)}},CL=Bn([Tu,Wy,Mr("onShow",ge),Mr("onHide",ge),Xh]),SL=o=>({element:()=>o.element.dom}),KC=(o,a)=>{const c=vt(on(a),u=>{const h=a[u],p=vi((w=>os("sidebar",CL,w))(h));return{name:u,getApi:SL,onSetup:p.onSetup,onShow:p.onShow,onHide:p.onHide}});return vt(c,u=>{const h=An(ge);return o.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:jy([Qh(u,h),jg(u,h),pt(Fc(),(p,w)=>{const k=w.event;J(c,O=>O.name===k.name).each(O=>{(k.visible?O.onShow:O.onHide)(O.getApi(p))})})])})})},HN=o=>il.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:KC(a,o),slotBehaviours:jy([Hr(c=>il.hideAllSlots(c))])})),qC=(o,a)=>{Xt(o,"role",a)},kL=o=>Ho.getCurrent(o).bind(a=>Al.isGrowing(a)||Al.hasGrown(a)?Ho.getCurrent(a).bind(c=>J(il.getSlotNames(c),u=>il.isShowing(c,u))):R.none()),U4=dn("FixSizeEvent"),W4=dn("AutoSizeEvent");var EL=Object.freeze({__proto__:null,block:(o,a,c,u)=>{Xt(o.element,"aria-busy",!0);const h=a.getRoot(o).getOr(o),p=Lt([Sn.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),Zn.config({})]),w=u(h,p),k=h.getSystem().build(w);Fn.append(h,Fi(k)),k.hasConfigured(Sn)&&a.focus&&Sn.focusIn(k),c.isBlocked()||a.onBlock(o),c.blockWith(()=>Fn.remove(h,k))},unblock:(o,a,c)=>{co(o.element,"aria-busy"),c.isBlocked()&&a.onUnblock(o),c.clear()},isBlocked:(o,a,c)=>c.isBlocked()}),AL=[Mr("getRoot",R.none),Ls("focus",!0),Lo("onBlock"),Lo("onUnblock")];const Pu=ma({fields:AL,name:"blocking",apis:EL,state:Object.freeze({__proto__:null,init:()=>{const o=ec(a=>a.destroy());return fa({readState:o.isSet,blockWith:a=>{o.set({destroy:a})},clear:o.clear,isBlocked:o.isSet})}})}),Z4=o=>Ho.getCurrent(o).each(a=>_i(a.element,!0)),$N=(o,a,c)=>{const u=An(!1),h=rr(),p=k=>{var E;u.get()&&(!(O=>O.type==="focusin")(E=k)||!(E.composed?$t(E.composedPath()):R.from(E.target)).map(Qt).filter(Vr).exists(O=>Li(O,"mce-pastebin")))&&(k.preventDefault(),Z4(a()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",p),o.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&p(k)})});const w=k=>{k!==u.get()&&(u.set(k),((E,O,M,I)=>{const H=O.element;if(((K,Y)=>{const re="tabindex",ce=`data-mce-${re}`;R.from(K.iframeElement).map(Qt).each(pe=>{Y?(No(pe,re).each(ae=>Xt(pe,ce,ae)),Xt(pe,re,-1)):(co(pe,re),No(pe,ce).each(ae=>{Xt(pe,re,ae),co(pe,ce)}))})})(E,M),M)Pu.block(O,(K=>(Y,re)=>({dom:{tag:"div",attributes:{"aria-label":K.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(I)),Jo(H,"display"),co(H,"aria-hidden"),E.hasFocus()&&Z4(O);else{const K=Ho.getCurrent(O).exists(Y=>Ig(Y.element));Pu.unblock(O),Xn(H,"display","none"),Xt(H,"aria-hidden","true"),K&&E.focus()}})(o,a(),k,c.providers),((E,O)=>{E.dispatch("AfterProgressState",{state:O})})(o,k))};o.on("ProgressState",k=>{if(h.on(clearTimeout),ee(k.time)){const E=m_.setEditorTimeout(o,()=>w(k.state),k.time);h.set(E)}else w(k.state),h.clear()})},j4=(o,a,c)=>({within:o,extra:a,withinWidth:c}),K4=(o,a,c)=>{const u=Mn(o,(w,k)=>((E,O)=>{const M=c(E);return R.some({element:E,start:O,finish:O+M,width:M})})(k,w.len).fold(ie(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,h=bo(u,w=>w.finish<=a),p=En(h,(w,k)=>w+k.width,0);return{within:h,extra:u.slice(h.length),withinWidth:p}},GC=o=>vt(o,a=>a.element),VN=(o,a)=>{const c=vt(a,u=>Fi(u));Sd.setGroups(o,c)},UN=(o,a,c)=>{const u=a.builtGroups.get();if(u.length===0)return;const h=Hg(o,a,"primary"),p=ws.getCoupled(o,"overflowGroup");Xn(h.element,"visibility","hidden");const w=u.concat([p]),k=It(w,O=>Ns(O.element).bind(M=>O.getSystem().getByDom(M).toOptional()));c([]),VN(h,w);const E=((O,M,I,H)=>{const K=((pe,ae,se)=>{const fe=K4(ae,pe,se);return fe.extra.length===0?R.some(fe):R.none()})(O,M,I).getOrThunk(()=>K4(M,O-I(H),I)),Y=K.within,re=K.extra,ce=K.withinWidth;return re.length===1&&re[0].width<=I(H)?((pe,ae,se)=>{const fe=GC(pe.concat(ae));return j4(fe,[],se)})(Y,re,ce):re.length>=1?((pe,ae,se,fe)=>{const be=GC(pe).concat([se]);return j4(be,GC(ae),fe)})(Y,re,H,ce):((pe,ae,se)=>j4(GC(pe),[],se))(Y,0,ce)})(ca(h.element),a.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),p);E.extra.length===0?(Fn.remove(h,p),c([])):(VN(h,E.within),c(E.extra)),Jo(h.element,"visibility"),iu(h.element),k.each(Zn.focus)},WN=ie([fn("splitToolbarBehaviours",[ws]),Ca("builtGroups",()=>An([]))]),TL=ie([Sg(["overflowToggledClass"]),Mc("getOverflowBounds"),kt("lazySink"),Ca("overflowGroups",()=>An([])),Lo("onOpened"),Lo("onClosed")].concat(WN())),OL=ie([sl({factory:Sd,schema:m0(),name:"primary"}),pd({schema:m0(),name:"overflow"}),pd({name:"overflow-button"}),pd({name:"overflow-group"})]),q4=ie((o,a)=>{((c,u)=>{const h=ig.max(c,u,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Xn(c,"max-width",h+"px")})(o,Math.floor(a))}),DL=ie([Sg(["toggledClass"]),kt("lazySink"),xi("fetch"),Mc("getBounds"),ds("fireDismissalEventInstead",[Xe("event",bg())]),sf(),Lo("onToggled")]),RL=ie([pd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Lt([Un.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),pd({factory:Sd,schema:m0(),name:"toolbar",overrides:o=>({toolbarBehaviours:Lt([Sn.config({mode:"cyclic",onEscape:a=>(Tr(a,o,"button").each(Zn.focus),R.none())})])})})]),YC=rr(),hv=(o,a)=>{const c=ws.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,a.toolbar())},y2=(o,a,c,u)=>{const h=c.getBounds.map(w=>w()),p=c.lazySink(o).getOrDie();qa.positionWithinBounds(p,a,{anchor:{type:"hotspot",hotspot:o,layouts:u,overrides:{maxWidthFunction:q4()}}},h)},XC=(o,a,c,u,h)=>{Sd.setGroups(a,h),y2(o,a,c,u),Un.on(o)},eh=bl({name:"FloatingToolbarButton",factory:(o,a,c,u)=>({...ki.sketch({...u.button(),action:h=>{hv(h,u)},buttonBehaviours:$n({dump:u.button().buttonBehaviours},[ws.config({others:{toolbarSandbox:h=>((p,w,k)=>{const E=Tg();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Lt([Sn.config({mode:"special",onEscape:O=>(T.close(O),R.some(!0))}),T.config({onOpen:(O,M)=>{const I=YC.get().getOr(!1);k.fetch().get(H=>{XC(p,M,k,w.layouts,H),E.link(p.element),I||Sn.focusIn(M)})},onClose:()=>{Un.off(p),YC.get().getOr(!1)||Zn.focus(p),E.unlink(p.element)},isPartOf:(O,M,I)=>nl(M,I)||nl(p,I),getAttachPoint:()=>k.lazySink(p).getOrDie()}),ol.config({channels:{...ne({isExtraPart:Ee,...k.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...Ae({doReposition:()=>{T.getState(ws.getCoupled(p,"toolbarSandbox")).each(O=>{y2(p,O,k,w.layouts)})}})}})])}})(h,c,o)}})])}),apis:{setGroups:(h,p)=>{T.getState(ws.getCoupled(h,"toolbarSandbox")).each(w=>{XC(h,w,o,c.layouts,p)})},reposition:h=>{T.getState(ws.getCoupled(h,"toolbarSandbox")).each(p=>{y2(h,p,o,c.layouts)})},toggle:h=>{hv(h,u)},toggleWithoutFocusing:h=>{((p,w)=>{YC.set(!0),hv(p,w),YC.clear()})(h,u)},getToolbar:h=>T.getState(ws.getCoupled(h,"toolbarSandbox")),isOpen:h=>T.isOpen(ws.getCoupled(h,"toolbarSandbox"))}}),configFields:DL(),partFields:RL(),apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggleWithoutFocusing(a)},getToolbar:(o,a)=>o.getToolbar(a),isOpen:(o,a)=>o.isOpen(a)}}),NL=ie([kt("items"),Sg(["itemSelector"]),fn("tgroupBehaviours",[Sn])]),IL=ie([Jw({name:"items",unit:"item"})]),pv=bl({name:"ToolbarGroup",configFields:NL(),partFields:IL(),factory:(o,a,c,u)=>({uid:o.uid,dom:o.dom,components:a,behaviours:io(o.tgroupBehaviours,[Sn.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),JC=o=>vt(o,a=>Fi(a)),w2=(o,a,c)=>{UN(o,c,u=>{c.overflowGroups.set(u),a.getOpt(o).each(h=>{eh.setGroups(h,JC(u))})})},G4=bl({name:"SplitFloatingToolbar",configFields:TL(),partFields:OL(),factory:(o,a,c,u)=>{const h=Qo(eh.sketch({fetch:()=>ep(p=>{p(JC(o.overflowGroups.get()))}),layouts:{onLtr:()=>[hs,gs],onRtl:()=>[gs,hs],onBottomLtr:()=>[gr,Fs],onBottomRtl:()=>[Fs,gr]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(p,w)=>o[w?"onOpened":"onClosed"](p)}));return{uid:o.uid,dom:o.dom,components:a,behaviours:io(o.splitToolbarBehaviours,[ws.config({others:{overflowGroup:()=>pv.sketch({...u["overflow-group"](),items:[h.asSpec()]})}})]),apis:{setGroups:(p,w)=>{o.builtGroups.set(vt(w,p.getSystem().build)),w2(p,h,o)},refresh:p=>w2(p,h,o),toggle:p=>{h.getOpt(p).each(w=>{eh.toggle(w)})},toggleWithoutFocusing:p=>{h.getOpt(p).each(eh.toggleWithoutFocusing)},isOpen:p=>h.getOpt(p).map(eh.isOpen).getOr(!1),reposition:p=>{h.getOpt(p).each(w=>{eh.reposition(w)})},getOverflow:p=>h.getOpt(p).bind(eh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a),getOverflow:(o,a)=>o.getOverflow(a)}}),BL=ie([Sg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Lo("onOpened"),Lo("onClosed")].concat(WN())),ML=ie([sl({factory:Sd,schema:m0(),name:"primary"}),sl({factory:Sd,schema:m0(),name:"overflow",overrides:o=>({toolbarBehaviours:Lt([Al.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:a=>{Tr(a,o,"overflow-button").each(c=>{Un.off(c)}),o.onClosed(a)},onGrown:a=>{o.onOpened(a)},onStartGrow:a=>{Tr(a,o,"overflow-button").each(Un.on)}}),Sn.config({mode:"acyclic",onEscape:a=>(Tr(a,o,"overflow-button").each(Zn.focus),R.some(!0))})])})}),pd({name:"overflow-button",overrides:o=>({buttonBehaviours:Lt([Un.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),pd({name:"overflow-group"})]),Y4=(o,a,c)=>{Tr(o,a,"overflow-button").each(u=>{Tr(o,a,"overflow").each(h=>{if(X4(o,a),Al.hasShrunk(h)){const p=a.onOpened;a.onOpened=w=>{c||Sn.focusIn(h),p(w),a.onOpened=p}}else{const p=a.onClosed;a.onClosed=w=>{c||Zn.focus(u),p(w),a.onClosed=p}}Al.toggleGrow(h)})})},X4=(o,a)=>{Tr(o,a,"overflow").each(c=>{UN(o,a,u=>{const h=vt(u,p=>Fi(p));Sd.setGroups(c,h)}),Tr(o,a,"overflow-button").each(u=>{Al.hasGrown(c)&&Un.on(u)}),Al.refresh(c)})},J4=bl({name:"SplitSlidingToolbar",configFields:BL(),partFields:ML(),factory:(o,a,c,u)=>{const h="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:a,behaviours:io(o.splitToolbarBehaviours,[ws.config({others:{overflowGroup:p=>pv.sketch({...u["overflow-group"](),items:[ki.sketch({...u["overflow-button"](),action:w=>{fo(p,h)}})]})}}),lo("toolbar-toggle-events",[pt(h,p=>{Y4(p,o,!1)})])]),apis:{setGroups:(p,w)=>{((k,E)=>{const O=vt(E,k.getSystem().build);o.builtGroups.set(O)})(p,w),X4(p,o)},refresh:p=>X4(p,o),toggle:p=>{Y4(p,o,!1)},toggleWithoutFocusing:p=>{Y4(p,o,!0)},isOpen:p=>((w,k)=>Tr(w,k,"overflow").map(Al.hasGrown).getOr(!1))(p,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},toggle:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a)}}),ZN=o=>{const a=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[pv.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Lt([Sr.config({}),Zn.config({})])}},QC=o=>pv.sketch(ZN(o)),jN=(o,a)=>{const c=Hr(u=>{const h=vt(o.initGroups,QC);Sd.setGroups(u,h)});return Lt([U_(o.providers.isDisabled),ga(),Sn.config({mode:a,onEscape:o.onEscape,selector:".tox-toolbar__group"}),lo("toolbar-events",[c])])},KN=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ZN({title:R.none(),items:[]}),"overflow-button":aN({name:"more",icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:R.none(),borderless:!1},R.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:jN(o,a)}},PL=o=>{const a=KN(o),c=G4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return G4.sketch({...a,lazySink:o.getSink,getOverflowBounds:()=>{const u=o.moreDrawerData.lazyHeader().element,h=Qi(u),p=Ri(u),w=Qi(p),k=Math.max(p.dom.scrollHeight,w.height);return go(h.x+4,w.y,h.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>o.onToggled(u,!0),onClosed:u=>o.onToggled(u,!1)})},LL=o=>{const a=J4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=J4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=KN(o);return J4.sketch({...u,components:[a,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>{h.getSystem().broadcastOn([ZC()],{type:"opened"}),o.onToggled(h,!0)},onClosed:h=>{h.getSystem().broadcastOn([ZC()],{type:"closed"}),o.onToggled(h,!1)}})},Q4=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return Sd.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===ku.scrolling?["tox-toolbar--scrolling"]:[])},components:[Sd.parts.groups({})],toolbarBehaviours:jN(o,a)})},qN=[Jh,Tu,xs("tooltip"),oc("buttonType","secondary",["primary","secondary"]),Ls("borderless",!1),xi("onAction")],eA={button:[...qN,Au,pu("type",["button"])],togglebutton:[...qN,Ls("active",!1),pu("type",["togglebutton"])]},FL=[pu("type",["group"]),lr("buttons",[],Gs("type",eA))],zL=Gs("type",{...eA,group:FL}),$m=Bn([lr("buttons",[],zL),xi("onShow"),xi("onHide")]),GN=(o,a)=>((c,u)=>{var h,p;const w=c.type==="togglebutton",k=c.icon.map(ae=>cp(ae,u.icons)).map(Qo),E={...c,name:w?c.text.getOr(c.icon.getOr("")):(h=c.text)!==null&&h!==void 0?h:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:R.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=h4((p=c.buttonType)!==null&&p!==void 0?p:"secondary"),M=w?c.text.map(u.translate):R.some(u.translate(c.text)),I=M.map(ys),H=E.tooltip.or(M).map(ae=>({"aria-label":u.translate(ae)})).getOr({}),K=k.map(ae=>ae.asSpec()),Y=J1([K,I]),re=c.icon.isSome()&&I.isSome(),ce={tag:"button",classes:O.concat(...c.icon.isSome()&&!re?["tox-button--icon"]:[]).concat(...re?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},pe=g2(E,R.some(ae=>{const se=fe=>{k.map(be=>be.getOpt(ae).each(we=>{Fn.set(we,[cp(fe,u.icons)])}))};return w?c.onAction({setIcon:se,setActive:fe=>{const be=ae.element;fe?(as(be,"tox-button--enabled"),Xt(be,"aria-pressed",!0)):(ms(be,"tox-button--enabled"),co(be,"aria-pressed"))},isActive:()=>Li(ae.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:se}):void 0}),[],ce,Y,c.tooltip,u);return ki.sketch(pe)})(o,a),YN=za().deviceType,tA=YN.isPhone(),Xa=YN.isTablet();var bv=bl({name:"silver.View",configFields:[kt("viewConfig")],partFields:[jc({factory:{sketch:o=>{let a=!1;const c=vt(o.buttons,u=>u.type==="group"?(a=!0,((h,p)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:vt(h.buttons,w=>GN(w,p))}))(u,o.providers)):GN(u,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...tA||Xa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Lt([Zn.config({}),Sn.config({mode:"flow",selector:"button, .tox-button",focusInside:Lb.OnEnterOrSpaceMode})]),components:a?c:[yd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),yd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[kt("buttons"),kt("providers")],name:"header"}),jc({factory:{sketch:o=>({uid:o.uid,behaviours:Lt([Zn.config({}),Sr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,a,c,u)=>{const h={getPane:p=>Ya.getPart(p,o,"pane"),getOnShow:p=>o.viewConfig.onShow,getOnHide:p=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:a,behaviours:Lt([Zn.config({}),Sn.config({mode:"cyclic",focusInside:Lb.OnEnterOrSpaceMode})]),apis:h}},apis:{getPane:(o,a)=>o.getPane(a),getOnShow:(o,a)=>o.getOnShow(a),getOnHide:(o,a)=>o.getOnHide(a)}});const HL=(o,a,c)=>Cs(a,(u,h)=>{const p=vi(os("view",$m,u));return o.slot(h,bv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:p,components:[...p.buttons.length>0?[bv.parts.header({buttons:p.buttons,providers:c})]:[],bv.parts.pane({})]}))}),$L=(o,a)=>il.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:HL(c,o,a),slotBehaviours:jy([Hr(u=>il.hideAllSlots(u))])})),XN=o=>J(il.getSlotNames(o),a=>il.isShowing(o,a)),JN=(o,a,c)=>{il.getSlot(o,a).each(u=>{bv.getPane(u).each(h=>{var p;c(u)((p=h.element.dom,{getContainer:ie(p)}))})})};var eS=Kc({factory:(o,a)=>{const c={setViews:(u,h)=>{Fn.set(u,[$L(h,a.backstage.shared.providers)])},whichView:u=>Ho.getCurrent(u).bind(XN),toggleView:(u,h,p,w)=>Ho.getCurrent(u).exists(k=>{const E=XN(k),O=E.exists(I=>w===I),M=il.getSlot(k,w).isSome();return M&&(il.hideAllSlots(k),O?((I=>{const H=I.element;Xn(H,"display","none"),Xt(H,"aria-hidden","true")})(u),h()):(p(),(I=>{const H=I.element;Jo(H,"display"),co(H,"aria-hidden")})(u),il.showSlot(k,w),((I,H)=>{JN(I,H,bv.getOnShow)})(k,w)),E.each(I=>((H,K)=>JN(H,K,bv.getOnHide))(k,I))),M})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Lt([Fn.config({}),Ho.config({find:u=>{const h=Fn.contents(u);return $t(h)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[kt("backstage")],apis:{setViews:(o,a,c)=>o.setViews(a,c),toggleView:(o,a,c,u,h)=>o.toggleView(a,c,u,h),whichView:(o,a)=>o.whichView(a)}});const VL=zm.optional({factory:$4,name:"menubar",schema:[kt("backstage")]}),UL=zm.optional({factory:{sketch:o=>P4.sketch({uid:o.uid,dom:o.dom,listBehaviours:Lt([Sn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Q4({type:o.type,uid:dn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),R.some(!0))}),setupItem:(a,c,u,h)=>{Sd.setGroups(c,u)},shell:!0})},name:"multiple-toolbar",schema:[kt("dom"),kt("onEscape")]}),WL=zm.optional({factory:{sketch:o=>(c=>c.type===ku.sliding?LL:c.type===ku.floating?PL:Q4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),R.some(!0)),onToggled:(c,u)=>o.onToolbarToggled(u),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[kt("dom"),kt("onEscape"),kt("getSink")]}),ZL=zm.optional({factory:{sketch:o=>{const a=o.editor,c=o.sticky?PN:WC;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Lt(c(a,o.sharedBackstage))}}},name:"header",schema:[kt("dom")]}),jL=zm.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[kt("dom")]}),KL=zm.optional({name:"socket",schema:[kt("dom")]}),qL=zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Lt([Sr.config({}),Zn.config({}),Al.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Ho.getCurrent(a).each(il.hideAllSlots),fo(a,W4)},onGrown:a=>{fo(a,W4)},onStartGrow:a=>{wn(a,U4,{width:Ss(a.element,"width").getOr("")})},onStartShrink:a=>{wn(a,U4,{width:ca(a.element)+"px"})}}),Fn.config({}),Ho.config({find:a=>{const c=Fn.contents(a);return $t(c)}})])}],behaviours:Lt([F3(0),lo("sidebar-sliding-events",[pt(U4,(a,c)=>{Xn(a.element,"width",c.event.width)}),pt(W4,(a,c)=>{Jo(a.element,"width")})])])})},name:"sidebar",schema:[kt("dom")]}),GL=zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Lt([Fn.config({}),Pu.config({focus:!1}),Ho.config({find:a=>$t(a.components())})]),components:[]})},name:"throbber",schema:[kt("dom")]}),YL=zm.optional({factory:eS,name:"viewWrapper",schema:[kt("backstage")]}),XL=zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Pr=bl({name:"OuterContainer",factory:(o,a,c)=>{let u=!1;const h=w=>{Ar(w,".tox-statusbar").each(k=>{ns(k,"display")==="none"&&yo(k,"aria-hidden")==="true"?(Jo(k,"display"),co(k,"aria-hidden")):(Xn(k,"display","none"),Xt(k,"aria-hidden","true"))})},p={getSocket:w=>Ya.getPart(w,o,"socket"),setSidebar:(w,k,E)=>{Ya.getPart(w,o,"sidebar").each(O=>((M,I,H)=>{Ho.getCurrent(M).each(K=>{Fn.set(K,[HN(I)]);const Y=H==null?void 0:H.toLowerCase();b(Y)&&mo(I,Y)&&Ho.getCurrent(K).each(re=>{il.showSlot(re,Y),Al.immediateGrow(K),Jo(K.element,"width"),qC(M.element,"region")})})})(O,k,E))},toggleSidebar:(w,k)=>{Ya.getPart(w,o,"sidebar").each(E=>((O,M)=>{Ho.getCurrent(O).each(I=>{Ho.getCurrent(I).each(H=>{Al.hasGrown(I)?il.isShowing(H,M)?(Al.shrink(I),qC(O.element,"presentation")):(il.hideAllSlots(H),il.showSlot(H,M),qC(O.element,"region")):(il.hideAllSlots(H),il.showSlot(H,M),Al.grow(I),qC(O.element,"region"))})})})(E,k))},whichSidebar:w=>Ya.getPart(w,o,"sidebar").bind(kL).getOrNull(),getHeader:w=>Ya.getPart(w,o,"header"),getToolbar:w=>Ya.getPart(w,o,"toolbar"),setToolbar:(w,k)=>{Ya.getPart(w,o,"toolbar").each(E=>{const O=vt(k,QC);E.getApis().setGroups(E,O)})},setToolbars:(w,k)=>{Ya.getPart(w,o,"multiple-toolbar").each(E=>{const O=vt(k,M=>vt(M,QC));P4.setItems(E,O)})},refreshToolbar:w=>{Ya.getPart(w,o,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{Ya.getPart(w,o,"toolbar").each(k=>{qs(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{Ya.getPart(w,o,"toolbar").each(k=>{qs(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>Ya.getPart(w,o,"toolbar").bind(k=>R.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>Ya.getPart(w,o,"throbber"),focusToolbar:w=>{Ya.getPart(w,o,"toolbar").orThunk(()=>Ya.getPart(w,o,"multiple-toolbar")).each(k=>{Sn.focusIn(k)})},setMenubar:(w,k)=>{Ya.getPart(w,o,"menubar").each(E=>{$4.setMenus(E,k)})},focusMenubar:w=>{Ya.getPart(w,o,"menubar").each(k=>{$4.focus(k)})},setViews:(w,k)=>{Ya.getPart(w,o,"viewWrapper").each(E=>{eS.setViews(E,k)})},toggleView:(w,k)=>Ya.getPart(w,o,"viewWrapper").exists(E=>eS.toggleView(E,()=>p.showMainView(w),()=>p.hideMainView(w),k)),whichView:w=>Ya.getPart(w,o,"viewWrapper").bind(eS.whichView).getOrNull(),hideMainView:w=>{u=p.isToolbarDrawerToggled(w),u&&p.toggleToolbarDrawer(w),Ya.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),Xn(E,"display","none"),Xt(E,"aria-hidden","true")})},showMainView:w=>{u&&p.toggleToolbarDrawer(w),Ya.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),Jo(E,"display"),co(E,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:a,apis:p,behaviours:o.behaviours}},configFields:[kt("dom"),kt("behaviours")],partFields:[ZL,VL,WL,UL,KL,qL,jL,GL,YL,XL],apis:{getSocket:(o,a)=>o.getSocket(a),setSidebar:(o,a,c,u)=>{o.setSidebar(a,c,u)},toggleSidebar:(o,a,c)=>{o.toggleSidebar(a,c)},whichSidebar:(o,a)=>o.whichSidebar(a),getHeader:(o,a)=>o.getHeader(a),getToolbar:(o,a)=>o.getToolbar(a),setToolbar:(o,a,c)=>{o.setToolbar(a,c)},setToolbars:(o,a,c)=>{o.setToolbars(a,c)},refreshToolbar:(o,a)=>o.refreshToolbar(a),toggleToolbarDrawer:(o,a)=>{o.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(o,a)=>{o.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(o,a)=>o.isToolbarDrawerToggled(a),getThrobber:(o,a)=>o.getThrobber(a),setMenubar:(o,a,c)=>{o.setMenubar(a,c)},focusMenubar:(o,a)=>{o.focusMenubar(a)},focusToolbar:(o,a)=>{o.focusToolbar(a)},setViews:(o,a,c)=>{o.setViews(a,c)},toggleView:(o,a,c)=>o.toggleView(a,c),whichView:(o,a)=>o.whichView(a)}});const QN={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},nA=o=>o.split(" "),e6=(o,a)=>{const c={...QN,...a.menus},u=on(a.menus).length>0,h=a.menubar===void 0||a.menubar===!0?nA("file edit view insert format tools table help"):nA(a.menubar===!1?"":a.menubar),p=bo(h,k=>{const E=mo(QN,k);return u?E||ln(a.menus,k).exists(O=>mo(O,"items")):E}),w=vt(p,k=>{const E=c[k];return((O,M,I)=>{const H=v5(I).split(/[ ,]/);return{text:O.title,getItems:()=>jo(O.items,K=>{const Y=K.toLowerCase();return Y.trim().length===0||Vn(H,re=>re===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:M.menuItems[Y]?[M.menuItems[Y]]:[]})}})({title:E.title,items:nA(E.items)},a,o)});return bo(w,k=>k.getItems().length>0&&Vn(k.getItems(),E=>b(E)||E.type!=="separator"))},t6=(o,a,c)=>(o.on("remove",()=>c.unload(a)),c.load(a)),oA=(o,a,c,u)=>(o.on("remove",()=>u.unloadRawCss(a)),u.loadRawCss(a,c)),JL=async(o,a)=>{const c="ui/"+__(o).getOr("default")+"/skin.css",u=tinymce.Resource.get(c);if(!b(u)){const h=o.editorManager.suffix;return t6(o,a+`/skin${h}.css`,o.ui.styleSheetLoader)}oA(o,c,u,o.ui.styleSheetLoader)},QL=async(o,a)=>{var c;if(c=Qt(o.getElement()),Pt(c).isSome()){const u="ui/"+__(o).getOr("default")+"/skin.shadowdom.css",h=tinymce.Resource.get(u);if(!b(h)){const p=o.editorManager.suffix;return t6(o,a+`/skin.shadowdom${p}.css`,U1.DOM.styleSheetLoader)}oA(o,u,h,U1.DOM.styleSheetLoader)}},n6=(o,a)=>(async(c,u)=>{const h=()=>{const w=w_(u),k=u.editorManager.suffix;w&&u.contentCSS.push(w+(c?"/content.inline":"/content")+`${k}.css`)};__(u).fold(h,w=>{const k="ui/"+w+(c?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);b(E)?oA(u,k,E,u.ui.styleSheetLoader):h()});const p=w_(u);if(!Wh(u)&&b(p))return Promise.all([JL(u,p),QL(u,p)]).then()})(o,a).then((c=>{const u=()=>{c._skinLoaded=!0,(h=>{h.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?u():c.on("init",u)}})(a),((c,u)=>()=>((h,p)=>{h.dispatch("SkinLoadError",p)})(c,{message:"Skin could not be loaded"}))(a)),o6=Je(n6,!1),eF=Je(n6,!0),g0=(o,a,c)=>ru(c)?o.translate(a):o.translate([a,o.translate(c)]),tF=(o,a)=>{const c=(p,w,k,E)=>{const O=o.shared.providers.translate(p.title);if(p.type==="separator")return R.some({type:"separator",text:O});if(p.type==="submenu"){const M=jo(p.getStyleItems(),I=>u(I,w,E));return w===0&&M.length<=0?R.none():R.some({type:"nestedmenuitem",text:O,enabled:M.length>0,getSubmenuItems:()=>jo(p.getStyleItems(),I=>u(I,w,E))})}return R.some({type:"togglemenuitem",text:O,icon:p.icon,active:p.isSelected(E),enabled:!k,onAction:a.onAction(p),...p.getStylePreview().fold(()=>({}),M=>({meta:{style:M}}))})},u=(p,w,k)=>{const E=p.type==="formatter"&&a.isInvalid(p);return w===0?E?[]:c(p,w,!1,k).toArray():c(p,w,E,k).toArray()},h=p=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return jo(p,E=>u(E,k,w))};return{validateItems:h,getFetch:(p,w)=>(k,E)=>{const O=w(),M=h(O);E(d0(M,_f.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:R.none()}))}}},vv=(o,a)=>{const c=a.dataset,u=c.type==="basic"?()=>vt(c.data,h=>_N(h,a.isSelectedFor,a.getPreviewFor)):c.getData;return{items:tF(o,a),getStyleItems:u}},_2=(o,a,c,u,h,p)=>{const{items:w,getStyleItems:k}=vv(a,c),E=An(c.tooltip);return n4({text:c.icon.isSome()?R.none():c.text,icon:c.icon,ariaLabel:R.some(c.tooltip),tooltip:R.none(),role:R.none(),fetch:w.getFetch(a,k),onSetup:O=>{const M=I=>O.setTooltip(g0(o,u(I.value),I.value));return o.on(h,M),nv(o0(o,"NodeChange",I=>{const H=I.getComponent();c.updateText(H),Kn.set(I.getComponent(),!o.selection.isEditable())})(O),()=>o.off(h,M))},getApi:O=>({getComponent:ie(O),setTooltip:M=>{const I=a.shared.providers.translate(M);Xt(O.element,"aria-label",I),E.set(M)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Hs.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==E.get()){const M=a.shared.providers.translate(E.get());Hs.setComponents(O,a.shared.providers.tooltips.getComponents({tooltipText:M}))}}})})]},"tox-tbtn",a.shared,p)};var h0;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(h0||(h0={}));const rA=(o,a,c)=>{const u=(h=((p,w)=>w===h0.SemiColon?p.replace(/;$/,"").split(";"):p.split(" "))(o.options.get(a),c),vt(h,p=>{let w=p,k=p;const E=p.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var h;return{type:"basic",data:u}},r6=ie("Alignment {0}"),s6="left",sA=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],aA=o=>{const a={type:"basic",data:sA};return{tooltip:g0(o,r6(),s6),text:R.none(),icon:R.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:R.none,getPreviewFor:c=>R.none,onAction:c=>()=>J(sA,u=>u.format===c.format).each(u=>o.execCommand(u.command)),updateText:c=>{const u=J(sA,h=>o.formatter.match(h.format)).fold(ie(s6),h=>h.title.toLowerCase());wn(c,Iu,{icon:`align-${u}`}),((h,p)=>{h.dispatch("AlignTextUpdate",p)})(o,{value:u})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},a6=(o,a)=>{const c=a(),u=vt(c,h=>h.format);return R.from(o.formatter.closest(u)).bind(h=>J(c,p=>p.format===h))},iA=ie("Block {0}"),lA="Paragraph",cA=o=>{const a=rA(o,"block_formats",h0.SemiColon);return{tooltip:g0(o,iA(),lA),text:R.some(lA),icon:R.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:R.none,getPreviewFor:c=>()=>{const u=o.formatter.get(c);return u?R.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):R.none()},onAction:MD(o),updateText:c=>{const u=a6(o,()=>a.data).fold(ie(lA),h=>h.title);wn(c,Qc,{text:u}),((h,p)=>{h.dispatch("BlocksTextUpdate",p)})(o,{value:u})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},i6=ie("Font {0}"),uA="System Font",nF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],l6=o=>{const a=o.split(/\s*,\s*/);return vt(a,c=>c.replace(/^['"]+|['"]+$/g,""))},c6=(o,a)=>a.length>0&&ei(a,c=>o.indexOf(c.toLowerCase())>-1),u6=o=>{const a=()=>{const u=O=>O?l6(O)[0]:"",h=o.queryCommandValue("FontName"),p=c.data,w=h?h.toLowerCase():"",k=y_(o);return{matchOpt:J(p,O=>{const M=O.format;return M.toLowerCase()===w||u(M).toLowerCase()===u(w).toLowerCase()}).orThunk(()=>Vo(((O,M)=>{if(O.indexOf("-apple-system")===0||M.length>0){const I=l6(O.toLowerCase());return c6(I,nF)||c6(I,M)}return!1})(w,k),{title:uA,format:w})),font:h}},c=rA(o,"font_family_formats",h0.SemiColon);return{tooltip:g0(o,i6(),uA),text:R.some(uA),icon:R.none(),isSelectedFor:u=>h=>h.exists(p=>p.format===u),getCurrentValue:()=>{const{matchOpt:u}=a();return u},getPreviewFor:u=>()=>R.some({tag:"div",styles:u.indexOf("dings")===-1?{"font-family":u}:{}}),onAction:u=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,u.format)})},updateText:u=>{const{matchOpt:h,font:p}=a(),w=h.fold(ie(p),k=>k.title);wn(u,Qc,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(o,{value:w})},dataset:c,shouldHide:!1,isInvalid:Ee}},oF={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},rF=(()=>{const o="[0-9]+",a="[eE][+-]?"+o,c=h=>`(?:${h})?`,u=["Infinity",o+"\\."+c(o)+c(a),"\\."+o+c(a),o+c(a)].join("|");return new RegExp(`^([+-]?(?:${u}))(.*)$`)})(),tS=(o,a)=>R.from(rF.exec(o)).bind(c=>{const u=Number(c[1]),h=c[2];return((p,w)=>Vn(w,k=>Vn(oF[k],E=>p===E)))(h,a)?R.some({value:u,unit:h}):R.none()}),d6={tab:ie(9),escape:ie(27),enter:ie(13),backspace:ie(8),delete:ie(46),left:ie(37),up:ie(38),right:ie(39),down:ie(40),space:ie(32),home:ie(36),end:ie(35),pageUp:ie(33),pageDown:ie(34)},f6=ie("Font size {0}"),m6="12pt",sF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},g6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},aF=(o,a)=>/[0-9.]+px$/.test(o)?((c,u)=>{const h=Math.pow(10,u);return Math.round(c*h)/h})(72*parseInt(o,10)/96,a||0)+"pt":ln(g6,o).getOr(o),iF=o=>ln(sF,o).getOr(""),h6=o=>{const a=()=>{let h=R.none();const p=u.data,w=o.queryCommandValue("FontSize");if(w)for(let k=3;h.isNone()&&k>=0;k--){const E=aF(w,k),O=iF(E);h=J(p,M=>M.format===w||M.format===E||M.format===O)}return{matchOpt:h,size:w}},c=ie(R.none),u=rA(o,"font_size_formats",h0.Space);return{tooltip:g0(o,f6(),m6),text:R.some(m6),icon:R.none(),isSelectedFor:h=>p=>p.exists(w=>w.format===h),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:h}=a();return h},onAction:h=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,h.format)})},updateText:h=>{const{matchOpt:p,size:w}=a(),k=p.fold(ie(w),E=>E.title);wn(h,Qc,{text:k}),((E,O)=>{E.dispatch("FontSizeTextUpdate",O)})(o,{value:k})},dataset:u,shouldHide:!1,isInvalid:Ee}},p6=o=>ru(o)?"Formats":"Format {0}",b6=(o,a)=>{const c="Formats";return{tooltip:g0(o,p6(""),""),text:R.some(c),icon:R.none(),isSelectedFor:u=>()=>o.formatter.match(u),getCurrentValue:R.none,getPreviewFor:u=>()=>{const h=o.formatter.get(u);return h!==void 0?R.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(u))}):R.none()},onAction:MD(o),updateText:u=>{const h=k=>xN(k)?jo(k.items,h):yN(k)?[{title:k.title,format:k.format}]:[],p=jo(wN(o),h),w=a6(o,ie(p)).fold(ie({title:c,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));wn(u,Qc,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(o,{value:w.tooltipLabel})},shouldHide:b5(o),isInvalid:u=>!o.formatter.canApply(u.format),dataset:a}},dA=ie([kt("toggleClass"),kt("fetch"),yu("onExecute"),Xe("getHotspot",R.some),Xe("getAnchorOverrides",ie({})),sf(),yu("onItemExecute"),Io("lazySink"),kt("dom"),Lo("onOpen"),fn("splitDropdownBehaviours",[ws,Sn,Zn]),Xe("matchWidth",!1),Xe("useMinWidth",!1),Xe("eventOrder",{}),Io("role"),Io("listRole")].concat(l3())),lF=sl({factory:ki,schema:[kt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Lt([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(Jd)},buttonBehaviours:Lt([Un.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),cF=sl({factory:ki,schema:[kt("dom")],name:"button",defaults:()=>({buttonBehaviours:Lt([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,a)})}})}),uF=ie([lF,cF,jc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[kt("text")],name:"aria-descriptor"}),pd({schema:[Cg()],name:"menu",defaults:o=>({onExecute:(a,c)=>{a.getSystem().getByUid(o.uid).each(u=>{o.onItemExecute(u,a,c)})}})}),XD()]),C2=bl({name:"SplitDropdown",configFields:dA(),partFields:uF(),factory:(o,a,c,u)=>{const h=O=>{Ho.getCurrent(O).each(M=>{er.highlightFirst(M),Sn.focusIn(M)})},p=O=>{s3(o,Me,O,u,h,Vi.HighlightMenuAndItem).get(ge)},w=O=>{const M=Hg(O,o,"button");return Jd(M),R.some(!0)},k={...Qn([Hr((O,M)=>{Tr(O,o,"aria-descriptor").each(I=>{const H=dn("aria");Xt(I.element,"id",H),Xt(O.element,"aria-describedby",H)})})]),...V1(R.some(p))},E={repositionMenus:O=>{Un.isOn(O)&&eR(O)}};return{uid:o.uid,dom:o.dom,components:a,apis:E,eventOrder:{...o.eventOrder,[el()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:io(o.splitDropdownBehaviours,[ws.config({others:{sandbox:O=>{const M=Hg(O,o,"arrow");return i3(o,O,{onOpen:()=>{Un.on(M),Un.on(O)},onClose:()=>{Un.off(M),Un.off(O)}})}}}),Sn.config({mode:"special",onSpace:w,onEnter:w,onDown:O=>(p(O),R.some(!0))}),Zn.config({}),Un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,a)=>o.repositionMenus(a)}}),fA=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>wn(o,Qc,{text:a}),setIcon:a=>wn(o,Iu,{icon:a})}),dF=o=>({setActive:a=>{Un.set(o,a)},isActive:()=>Un.isOn(o),isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>wn(o,Qc,{text:a}),setIcon:a=>wn(o,Iu,{icon:a})}),v6=(o,a)=>o.map(c=>({"aria-label":a.translate(c)})).getOr({}),mA=dn("focus-button"),gA=(o,a,c,u,h,p)=>{const w=a.map(E=>Qo(t4(E,"tox-tbtn",h))),k=o.map(E=>Qo(cp(E,h.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...v6(c,h),...U(p)?{"data-mce-name":p}:{}}},components:J1([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Et()]:["focusing","alloy.base.behaviour",lp],[Wa()]:[lp,"toolbar-group-button-events"]},buttonBehaviours:Lt([U_(h.isDisabled),ga(),lo(lp,[Hr((E,O)=>DC(E)),pt(Qc,(E,O)=>{w.bind(M=>M.getOpt(E)).each(M=>{Fn.set(M,[ys(h.translate(O.event.text))])})}),pt(Iu,(E,O)=>{k.bind(M=>M.getOpt(E)).each(M=>{Fn.set(M,[cp(O.event.icon,h.icons)])})}),pt(Et(),(E,O)=>{O.event.prevent(),fo(E,mA)})])].concat(u.getOr([])))}},x6=(o,a,c,u)=>{var h;const p=An(ge),w=gA(o.icon,o.text,o.tooltip,R.none(),c,u);return ki.sketch({dom:w.dom,components:w.components,eventOrder:e4,buttonBehaviours:{...Lt([lo("toolbar-button-events",[(k={onAction:o.onAction,getApi:a.getApi},zc((E,O)=>{Ky(k,E)(M=>{wn(E,OC,{buttonApi:M}),k.onAction(M)})})),Qh(a,p),jg(a,p)]),...o.tooltip.map(E=>Hs.config(c.tooltips.getConfig({tooltipText:c.translate(E)+o.shortcut.map(O=>` (${W_(O)})`).getOr("")}))).toArray(),U_(()=>!o.enabled||c.isDisabled()),ga()].concat(a.toolbarButtonBehaviours)),[lp]:(h=w.buttonBehaviours)===null||h===void 0?void 0:h[lp]}});var k},y6=(o,a,c,u)=>x6(o,{toolbarButtonBehaviours:c.length>0?[lo("toolbarButtonWith",c)]:[],getApi:fA,onSetup:o.onSetup},a,u),w6=(o,a,c,u)=>x6(o,{toolbarButtonBehaviours:[Fn.config({}),Un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[lo("toolbarToggleButtonWith",c)]:[]),getApi:dF,onSetup:o.onSetup},a,u),fF=(o,a,c)=>u=>ep(h=>a.fetch(h)).map(h=>R.from(c3(mr(s0(dn("menu-value"),h,p=>{a.onItemAction(o(u),p)},a.columns,a.presets,_f.CLOSE_ON_EXECUTE,a.select.getOr(Ee),c),{movement:Jy(a.columns,a.presets),menuBehaviours:jy(a.columns!=="auto"?[]:[Hr((p,w)=>{BE(p,4,Yh(a.presets)).each(({numRows:k,numColumns:E})=>{Sn.setGridSize(p,k,E)})})])})))),mF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],mp=(o,a)=>(c,u,h,p)=>{const w=o(c).mapError(k=>Mi(k)).getOrDie();return a(w,u,h,p)},gF={button:mp(cD,(o,a,c,u)=>((h,p,w)=>y6(h,p,[],w))(o,a.shared.providers,u)),togglebutton:mp(H_,(o,a,c,u)=>((h,p,w)=>w6(h,p,[],w))(o,a.shared.providers,u)),menubutton:mp(FN,(o,a,c,u)=>dv(o,"tox-tbtn",a,R.none(),!1,u)),splitbutton:mp(o=>os("SplitButton",xL,o),(o,a,c,u)=>((h,p,w)=>{const k=An(h.tooltip.getOr("")),E=I=>({isEnabled:()=>!Kn.isDisabled(I),setEnabled:H=>Kn.set(I,!H),setIconFill:(H,K)=>{jr(I.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{Xt(Y,"fill",K)})},setActive:H=>{Xt(I.element,"aria-pressed",H),jr(I.element,"span").each(K=>{I.getSystem().getByDom(K).each(Y=>Un.set(Y,H))})},isActive:()=>jr(I.element,"span").exists(H=>I.getSystem().getByDom(H).exists(Un.isOn)),setText:H=>jr(I.element,"span").each(K=>I.getSystem().getByDom(K).each(Y=>wn(Y,Qc,{text:H}))),setIcon:H=>jr(I.element,"span").each(K=>I.getSystem().getByDom(K).each(Y=>wn(Y,Iu,{icon:H}))),setTooltip:H=>{const K=p.providers.translate(H);Xt(I.element,"aria-label",K),k.set(H)}}),O=An(ge),M={getApi:E,onSetup:h.onSetup};return C2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...v6(h.tooltip,p.providers),...U(w)?{"data-mce-name":w}:{}}},onExecute:I=>{const H=E(I);H.isEnabled()&&h.onAction(H)},onItemExecute:(I,H,K)=>{},splitDropdownBehaviours:Lt([yD(p.providers.isDisabled),ga(),lo("split-dropdown-events",[Hr((I,H)=>DC(I)),pt(mA,Zn.focus),Qh(M,O),jg(M,O)]),i0.config({}),...h.tooltip.map(I=>Hs.config({...p.providers.tooltips.getConfig({tooltipText:p.providers.translate(I),onShow:H=>{if(k.get()!==I){const K=p.providers.translate(k.get());Hs.setComponents(H,p.providers.tooltips.getComponents({tooltipText:K}))}}})})).toArray()]),eventOrder:{[Wa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[sc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:p.getSink,fetch:fF(E,h,p.providers),parts:{menu:M_(0,h.columns,h.presets)},components:[C2.parts.button(gA(h.icon,h.text,R.none(),R.some([Un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),p.providers)),C2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:$5("chevron-down",p.providers.icons)},buttonBehaviours:Lt([yD(p.providers.isDisabled),ga(),N_()])}),C2.parts["aria-descriptor"]({text:p.providers.translate("To open the popup, press Shift+Enter")})]})})(o,a.shared,u)),grouptoolbarbutton:mp(o=>os("GroupToolbarButton",bL,o),(o,a,c,u)=>{const h=c.ui.registry.getAll().buttons,p={[rl]:a.shared.header.isPositionedAtTop()?hc.TopToBottom:hc.BottomToTop};if(jb(c)===ku.floating)return((w,k,E,O,M)=>{const I=k.shared,H=An(ge),K={toolbarButtonBehaviours:[],getApi:fA,onSetup:w.onSetup},Y=[lo("toolbar-group-button-events",[Qh(K,H),jg(K,H)])];return eh.sketch({lazySink:I.getSink,fetch:()=>ep(re=>{re(vt(E(w.items),QC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:gA(w.icon,w.text,w.tooltip,R.some(Y),I.providers,M),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,a,w=>nS(c,{buttons:h,toolbar:w,allowToolbarGroups:!1},a,R.none()),p,u);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},S2={styles:(o,a)=>{const c={type:"advanced",...a.styles};return _2(o,a,b6(o,c),p6,"StylesTextUpdate","styles")},fontsize:(o,a)=>_2(o,a,h6(o),f6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,a)=>((c,u,h,p)=>{let w=R.none();const k=o0(c,"NodeChange SwitchMode",fe=>{const be=fe.getComponent();w=R.some(be),h.updateInputValue(be),Kn.set(be,!c.selection.isEditable())}),E=fe=>({getComponent:ie(fe)}),O=An(ge),M=dn("custom-number-input-events"),I=(fe,be,we)=>{const Fe=w.map(Bt=>tt.getValue(Bt)).getOr(""),qe=h.getNewValue(Fe,fe),wt=Fe.length-`${qe}`.length,ht=w.map(Bt=>Bt.element.dom.selectionStart-wt),ft=w.map(Bt=>Bt.element.dom.selectionEnd-wt);h.onAction(qe,we),w.each(Bt=>{tt.setValue(Bt,qe),be&&(ht.each(sn=>Bt.element.dom.selectionStart=sn),ft.each(sn=>Bt.element.dom.selectionEnd=sn))})},H=(fe,be)=>I((we,Fe)=>we-Fe,fe,be),K=(fe,be)=>I((we,Fe)=>we+Fe,fe,be),Y=fe=>oi(fe.element).fold(R.none,be=>(_i(be),R.some(!0))),re=fe=>Ig(fe.element)?(_e(fe.element).each(be=>_i(be)),R.some(!0)):R.none(),ce=(fe,be,we,Fe)=>{const qe=An(ge),wt=u.shared.providers.translate(we),ht=dn("altExecuting"),ft=o0(c,"NodeChange SwitchMode",sn=>{Kn.set(sn.getComponent(),!c.selection.isEditable())}),Bt=sn=>{Kn.isDisabled(sn)||fe(!0)};return ki.sketch({dom:{tag:"button",attributes:{"aria-label":wt,"data-mce-name":be},classes:Fe.concat(be)},components:[u2(be,u.shared.providers.icons)],buttonBehaviours:Lt([Kn.config({}),Hs.config(u.shared.providers.tooltips.getConfig({tooltipText:wt})),lo(ht,[Qh({onSetup:ft,getApi:E},qe),jg({getApi:E},qe),pt(ss(),(sn,hn)=>{hn.event.raw.keyCode!==d6.space()&&hn.event.raw.keyCode!==d6.enter()||Kn.isDisabled(sn)||fe(!1)}),pt(Ys(),Bt),pt(ke(),Bt)])]),eventOrder:{[ss()]:[ht,"keying"],[Ys()]:[ht,"alloy.base.behaviour"],[ke()]:[ht,"alloy.base.behaviour"],[Wa()]:["alloy.base.behaviour",ht,"tooltipping"],[sc()]:[ht,"tooltipping"]}})},pe=Qo(ce(fe=>H(!1,fe),"minus","Decrease font size",[])),ae=Qo(ce(fe=>K(!1,fe),"plus","Increase font size",[])),se=Qo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Zg.sketch({inputBehaviours:Lt([Kn.config({}),lo(M,[Qh({onSetup:k,getApi:E},O),jg({getApi:E},O)]),lo("input-update-display-text",[pt(Qc,(fe,be)=>{tt.setValue(fe,be.event.text)}),pt(Ts(),fe=>{h.onAction(tt.getValue(fe))}),pt(om(),fe=>{h.onAction(tt.getValue(fe))})]),Sn.config({mode:"special",onEnter:fe=>(I(Me,!0,!0),R.some(!0)),onEscape:Y,onUp:fe=>(K(!0,!1),R.some(!0)),onDown:fe=>(H(!0,!1),R.some(!0)),onLeft:(fe,be)=>(be.cut(),R.none()),onRight:(fe,be)=>(be.cut(),R.none())})])})],behaviours:Lt([Zn.config({}),Sn.config({mode:"special",onEnter:re,onSpace:re,onEscape:Y}),lo("input-wrapper-events",[pt(yn(),fe=>{jt([pe,ae],be=>{const we=Qt(be.get(fe).element.dom);Ig(we)&&hb(we)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...U(p)?{"data-mce-name":p}:{}}},components:[pe.asSpec(),se.asSpec(),ae.asSpec()],behaviours:Lt([Zn.config({}),Sn.config({mode:"flow",focusInside:Lb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:fe=>Ig(fe.element)?R.none():(_i(fe.element),R.some(!0))})])}})(o,a,(c=>{const u=()=>c.queryCommandValue("FontSize");return{updateInputValue:h=>wn(h,Qc,{text:u()}),onAction:(h,p)=>c.execCommand("FontSize",!1,h,{skip_focus:!p}),getNewValue:(h,p)=>{tS(h,["unsupportedLength","empty"]);const w=u(),k=tS(h,["unsupportedLength","empty"]).or(tS(w,["unsupportedLength","empty"])),E=k.map(K=>K.value).getOr(16),O=aE(c),M=k.map(K=>K.unit).filter(K=>K!=="").getOr(O),I=p(E,(K=>{var Y;return(Y={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[K])!==null&&Y!==void 0?Y:{step:1}})(M).step),H=`${(K=>K>=0)(I)?I:E}${M}`;return H!==w&&((K,Y)=>{K.dispatch("FontSizeInputTextUpdate",Y)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,a)=>_2(o,a,u6(o),i6,"FontFamilyTextUpdate","fontfamily"),blocks:(o,a)=>_2(o,a,cA(o),iA,"BlocksTextUpdate","blocks"),align:(o,a)=>_2(o,a,aA(o),r6,"AlignTextUpdate","align")},nS=(o,a,c,u)=>{const h=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(O=>{const M=vt(mF,I=>{const H=bo(I.items,K=>mo(O,K)||mo(S2,K));return{name:I.name,items:H}});return bo(M,I=>I.items.length>0)})(E):b(k)?(O=>{const M=O.split("|");return vt(M,I=>({items:I.trim().split(" ")}))})(k):(O=>ye(O,M=>mo(M,"name")&&mo(M,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),p=vt(h,w=>{const k=jo(w.items,E=>E.trim().length===0?[]:((O,M,I,H,K,Y)=>ln(M,I.toLowerCase()).orThunk(()=>Y.bind(re=>It(re,ce=>ln(M,ce+I.toLowerCase())))).fold(()=>ln(S2,I.toLowerCase()).map(re=>re(O,K)),re=>re.type!=="grouptoolbarbutton"||H?((ce,pe,ae,se)=>ln(gF,ce.type).fold(()=>(console.error("skipping button defined by",ce),R.none()),fe=>R.some(fe(ce,pe,ae,se))))(re,K,O,I.toLowerCase()):(console.warn(`Ignoring the '${I}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(o,a.buttons,E,a.allowToolbarGroups,c,u).toArray());return{title:R.from(o.translate(w.name)),items:k}});return bo(p,w=>w.items.length>0)},_6=(o,a,c,u)=>{const h=a.mainUi.outerContainer,p=c.toolbar,w=c.buttons;if(ye(p,b)){const k=p.map(E=>{const O={toolbar:E,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return nS(o,O,u,R.none())});Pr.setToolbars(h,k)}else Pr.setToolbar(h,nS(o,c,u,R.none()))},C6=za(),hF=C6.os.isiOS()&&C6.os.version.major<=12;var G$=Object.freeze({__proto__:null,render:(o,a,c,u,h)=>{const{mainUi:p,uiMotherships:w}=a,k=An(0),E=p.outerContainer;o6(o);const O=Qt(h.targetNode),M=We(nt(O));dt(O,p.mothership),((Y,re,ce)=>{Wg(Y)&&dt(ce.mainUi.mothership.element,ce.popupUi.mothership),Jx(re,ce.dialogUi.mothership)})(o,M,a),o.on("SkinLoaded",()=>{Pr.setSidebar(E,c.sidebar,x_(o)),_6(o,a,c,u),k.set(o.getWin().innerWidth),Pr.setMenubar(E,e6(o,c)),Pr.setViews(E,c.views),((Y,re)=>{const{uiMotherships:ce}=re,pe=Y.dom;let ae=Y.getWin();const se=Y.getDoc().documentElement,fe=An(Ir(ae.innerWidth,ae.innerHeight)),be=An(Ir(se.offsetWidth,se.offsetHeight)),we=()=>{const ht=fe.get();ht.left===ae.innerWidth&&ht.top===ae.innerHeight||(fe.set(Ir(ae.innerWidth,ae.innerHeight)),n0(Y))},Fe=()=>{const ht=Y.getDoc().documentElement,ft=be.get();ft.left===ht.offsetWidth&&ft.top===ht.offsetHeight||(be.set(Ir(ht.offsetWidth,ht.offsetHeight)),n0(Y))},qe=ht=>{((ft,Bt)=>{ft.dispatch("ScrollContent",Bt)})(Y,ht)};pe.bind(ae,"resize",we),pe.bind(ae,"scroll",qe);const wt=Ux(Qt(Y.getBody()),"load",Fe);Y.on("hide",()=>{jt(ce,ht=>{Xn(ht.element,"display","none")})}),Y.on("show",()=>{jt(ce,ht=>{Jo(ht.element,"display")})}),Y.on("NodeChange",Fe),Y.on("remove",()=>{wt.unbind(),pe.unbind(ae,"resize",we),pe.unbind(ae,"scroll",qe),ae=null})})(o,a)});const I=Pr.getSocket(E).getOrDie("Could not find expected socket element");if(hF){Ni(I.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Y=((ce,pe)=>{let ae=null;return{cancel:()=>{P(ae)||(clearTimeout(ae),ae=null)},throttle:(...se)=>{P(ae)&&(ae=setTimeout(()=>{ae=null,ce.apply(null,se)},20))}}})(()=>{o.dispatch("ScrollContent")}),re=Ci(I.element,"scroll",Y.throttle);o.on("remove",re.unbind)}xD(o,a),o.addCommand("ToggleSidebar",(Y,re)=>{Pr.toggleSidebar(E,re),(ce=>{ce.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var Y;return(Y=Pr.whichSidebar(E))!==null&&Y!==void 0?Y:""}),o.addCommand("ToggleView",(Y,re)=>{if(Pr.toggleView(E,re)){const ce=E.element;p.mothership.broadcastOn([B()],{target:ce}),jt(w,pe=>{pe.broadcastOn([B()],{target:ce})}),P(Pr.whichView(E))&&(o.focus(),o.nodeChanged(),Pr.refreshToolbar(E)),(pe=>{pe.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var Y;return(Y=Pr.whichView(E))!==null&&Y!==void 0?Y:""});const H=jb(o);H!==ku.sliding&&H!==ku.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Y=o.getWin().innerWidth;Y!==k.get()&&(Pr.refreshToolbar(a.mainUi.outerContainer),k.set(Y))});const K={setEnabled:Y=>{e0(a,!Y)},isEnabled:()=>!Kn.isDisabled(E)};return{iframeContainer:I.element.dom,editorContainer:E.element.dom,api:K}}});const k2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?R.some(parseInt(""+o,10)):R.none(),gp=o=>ee(o)?o+"px":o,E2=(o,a,c)=>{const u=a.filter(p=>o<p),h=c.filter(p=>o>p);return u.or(h).getOr(o)},hA=o=>{const a=yy(o),c=wy(o),u=Z1(o);return k2(a).map(h=>E2(h,c,u))},{ToolbarLocation:pA,ToolbarMode:S6}=Ay,pF=(o,a,c,u,h)=>{const{mainUi:p,uiMotherships:w}=c,k=U1.DOM,E=Kb(o),O=Ug(o),M=Z1(o).or(hA(o)),I=u.shared.header,H=I.isPositionedAtTop,K=jb(o),Y=K===S6.sliding||K===S6.floating,re=An(!1),ce=()=>re.get()&&!o.removed,pe=be=>Y?be.fold(ie(0),we=>we.components().length>1?us(we.components()[1].element):0):0,ae=()=>{jt(w,be=>{be.broadcastOn([$()],{})})},se=be=>{if(!ce())return;E||h.on(qe=>{const wt=M.getOrThunk(()=>ea().width-Pa(a).left-10);Xn(qe.element,"max-width",wt+"px")});const we=Br(),Fe=!(E||E||!(gl(p.outerContainer.element).left+Ii(p.outerContainer.element)>=window.innerWidth-40||Ss(p.outerContainer.element,"width").isSome())||(Xn(p.outerContainer.element,"position","absolute"),Xn(p.outerContainer.element,"left","0px"),Jo(p.outerContainer.element,"width"),0));if(Y&&Pr.refreshToolbar(p.outerContainer),!E){const qe=Br(),wt=Vo(we.left!==qe.left,we);((ht,ft)=>{h.on(Bt=>{const sn=Pr.getToolbar(p.outerContainer),hn=pe(sn),Rn=Us(a),qn=((uo,Fo)=>Wg(uo)?kh(Fo):R.none())(o,p.outerContainer.element),Co=qn.fold(()=>Rn.x,uo=>{const Fo=Us(uo);return Uo(uo,un())?Rn.x:Rn.x-Fo.x}),Lr=Vo(ht,Math.ceil(p.outerContainer.element.dom.getBoundingClientRect().width)).filter(uo=>uo>150).map(uo=>{const Fo=ft.getOr(Br()),Ln=window.innerWidth-(Co-Fo.left),qr=Math.max(Math.min(uo,Ln),150);return Ln<uo&&Xn(p.outerContainer.element,"width",qr+"px"),{width:qr+"px"}}).getOr({width:"max-content"}),Kr={position:"absolute",left:Math.round(Co)+"px",top:qn.fold(()=>H()?Math.max(Rn.y-us(Bt.element)+hn,0):Rn.bottom,uo=>{var Fo;const Ln=Us(uo),qr=(Fo=uo.dom.scrollTop)!==null&&Fo!==void 0?Fo:0,pr=Uo(uo,un())?Math.max(Rn.y-us(Bt.element)+hn,0):Rn.y-Ln.y+qr-us(Bt.element)+hn;return H()?pr:Rn.bottom})+"px"};Ni(p.outerContainer.element,{...Kr,...Lr})})})(Fe,wt),wt.each(ht=>{Vd(ht.left,qe.top)})}O&&h.on(be),ae()},fe=()=>!(E||!O||!ce())&&h.get().exists(be=>{const we=I.getDockingMode(),Fe=(wt=>{switch(Uh(o)){case pA.auto:const ht=Pr.getToolbar(p.outerContainer),ft=pe(ht),Bt=us(wt.element)-ft,sn=Us(a);if(sn.y>Bt)return"top";{const hn=Ri(a),Rn=Math.max(hn.dom.scrollHeight,us(hn));return sn.bottom<Rn-Bt||_a().bottom<sn.bottom-Bt?"bottom":"top"}case pA.bottom:return"bottom";case pA.top:default:return"top"}})(be);return Fe!==we&&(qe=Fe,h.on(wt=>{Zr.setModes(wt,[qe]),I.setDockingMode(qe);const ht=H()?hc.TopToBottom:hc.BottomToTop;Xt(wt.element,rl,ht)}),!0);var qe});return{isVisible:ce,isPositionedAtTop:H,show:()=>{re.set(!0),Xn(p.outerContainer.element,"display","flex"),k.addClass(o.getBody(),"mce-edit-focus"),jt(w,be=>{Jo(be.element,"display")}),fe(),Wg(o)?se(be=>Zr.isDocked(be)?Zr.reset(be):Zr.refresh(be)):se(Zr.refresh)},hide:()=>{re.set(!1),Xn(p.outerContainer.element,"display","none"),k.removeClass(o.getBody(),"mce-edit-focus"),jt(w,be=>{Xn(be.element,"display","none")})},update:se,updateMode:()=>{fe()&&se(Zr.reset)},repositionPopups:ae}},k6=(o,a)=>{const c=Us(o);return{pos:a?c.y:c.bottom,bounds:c}};var bF=Object.freeze({__proto__:null,render:(o,a,c,u,h)=>{const{mainUi:p}=a,w=rr(),k=Qt(h.targetNode),E=pF(o,k,a,u,w),O=x5(o);eF(o);const M=()=>{if(w.isSet())return void E.show();w.set(Pr.getHeader(p.outerContainer).getOrDie());const H=S_(o);Wg(o)?(dt(k,p.mothership),dt(k,a.popupUi.mothership)):Jx(H,p.mothership),Jx(H,a.dialogUi.mothership);const K=()=>{_6(o,a,c,u),Pr.setMenubar(p.outerContainer,e6(o,c)),E.show(),((Y,re,ce,pe)=>{const ae=An(k6(re,ce.isPositionedAtTop())),se=Fe=>{const{pos:qe,bounds:wt}=k6(re,ce.isPositionedAtTop()),{pos:ht,bounds:ft}=ae.get(),Bt=wt.height!==ft.height||wt.width!==ft.width;ae.set({pos:qe,bounds:wt}),Bt&&n0(Y,Fe),ce.isVisible()&&(ht!==qe?ce.update(Zr.reset):Bt&&(ce.updateMode(),ce.repositionPopups()))};pe||(Y.on("activate",ce.show),Y.on("deactivate",ce.hide)),Y.on("SkinLoaded ResizeWindow",()=>ce.update(Zr.reset)),Y.on("NodeChange keydown",Fe=>{requestAnimationFrame(()=>se(Fe))});let fe=0;const be=U3(()=>ce.update(Zr.refresh),33);Y.on("ScrollWindow",()=>{const Fe=Br().left;Fe!==fe&&(fe=Fe,be.throttle()),ce.updateMode()}),Wg(Y)&&Y.on("ElementScroll",Fe=>{ce.update(Zr.refresh)});const we=tc();we.set(Ux(Qt(Y.getBody()),"load",Fe=>se(Fe.raw))),Y.on("remove",()=>{we.clear()})})(o,k,E,O),o.nodeChanged()};O?o.once("SkinLoaded",K):K()};o.on("show",M),o.on("hide",E.hide),O||(o.on("focus",M),o.on("blur",E.hide)),o.on("init",()=>{(o.hasFocus()||O)&&M()}),xD(o,a);const I={show:M,hide:E.hide,setEnabled:H=>{e0(a,!H)},isEnabled:()=>!Kn.isDisabled(p.outerContainer)};return{editorContainer:p.outerContainer.element.dom,api:I}}});const E6="contexttoolbar-hide",A6=(o,a)=>pt(OC,(c,u)=>{const h=(p=>({hide:()=>fo(p,Gp()),getValue:()=>tt.getValue(p)}))(o.get(c));a.onAction(h,u.event.buttonApi)}),vF=(o,a)=>{const c=o.label.fold(()=>({}),p=>({"aria-label":p})),u=Qo(Zg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Lt([Sn.config({mode:"special",onEnter:p=>h.findPrimary(p).map(w=>(Jd(w),!0)),onLeft:(p,w)=>(w.cut(),R.none()),onRight:(p,w)=>(w.cut(),R.none())})])})),h=((p,w,k)=>{const E=vt(w,O=>Qo(((M,I,H)=>(K=>K.type==="contextformtogglebutton")(I)?((K,Y,re)=>{const{primary:ce,...pe}=Y.original,ae=vi(H_({...pe,type:"togglebutton",onAction:ge}));return w6(ae,re,[A6(K,Y)])})(M,I,H):((K,Y,re)=>{const{primary:ce,...pe}=Y.original,ae=vi(cD({...pe,type:"button",onAction:ge}));return y6(ae,re,[A6(K,Y)])})(M,I,H))(p,O,k)));return{asSpecs:()=>vt(E,O=>O.asSpec()),findPrimary:O=>It(w,(M,I)=>M.primary?R.from(E[I]).bind(H=>H.getOpt(O)).filter(Ve(Kn.isDisabled)):R.none())}})(u,o.commands,a);return[{title:R.none(),items:[u.asSpec()]},{title:R.none(),items:h.asSpecs()}]},T6=(o,a,c)=>a.bottom-o.y>=c&&o.bottom-a.y>=c,bA=o=>{const a=(c=>{const u=c.getBoundingClientRect();if(u.height<=0&&u.width<=0){const h=Oe(Qt(c.startContainer),c.startOffset).element;return(ti(h)?ni(h):R.some(h)).filter(Vr).map(p=>p.dom.getBoundingClientRect()).getOr(u)}return u})(o.selection.getRng());if(o.inline){const c=Br();return go(c.left+a.left,c.top+a.top,a.width,a.height)}{const c=Qi(Qt(o.getBody()));return go(c.x+a.left,c.y+a.top,a.width,a.height)}},O6=(o,a,c,u=0)=>{const h=ea(window),p=Us(Qt(o.getContentAreaContainer())),w=Sy(o)||ky(o)||Ey(o),{x:k,width:E}=((O,M,I)=>{const H=Math.max(O.x+I,M.x);return{x:H,width:Math.min(O.right-I,M.right)-H}})(p,h,u);if(o.inline&&!w)return go(k,h.y,E,h.height);{const O=a.header.isPositionedAtTop(),{y:M,bottom:I}=((H,K,Y,re,ce,pe)=>{const ae=Qt(H.getContainer()),se=jr(ae,".tox-editor-header").getOr(ae),fe=Us(se),be=fe.y>=K.bottom,we=re&&!be;if(H.inline&&we)return{y:Math.max(fe.bottom+pe,Y.y),bottom:Y.bottom};if(H.inline&&!we)return{y:Y.y,bottom:Math.min(fe.y-pe,Y.bottom)};const Fe=ce==="line"?Us(ae):K;return we?{y:Math.max(fe.bottom+pe,Y.y),bottom:Math.min(Fe.bottom-pe,Y.bottom)}:{y:Math.max(Fe.y+pe,Y.y),bottom:Math.min(fe.y-pe,Y.bottom)}})(o,p,h,O,c,u);return go(k,M,E,I-M)}},vA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},p0={maxHeightFunction:Bg(),maxWidthFunction:q4()},hp=o=>o==="node",xF=(o,a,c,u,h)=>{const p=bA(o),w=u.lastElement().exists(k=>Uo(c,k));return((k,E)=>{const O=k.selection.getRng(),M=Oe(Qt(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Uo(M.element,E)})(o,c)?w?$C:$o:w?((k,E,O)=>{const M=Ss(k,"position");Xn(k,"position",E);const I=T6(p,Us(a),-20)&&!u.isReposition()?k4:$C;return M.each(H=>Xn(k,"position",H)),I})(a,u.getMode()):(u.getMode()==="fixed"?h.y+Br().top:h.y)+(us(a)+12)<=p.y?$o:Fm},D6=(o,a,c,u)=>{const h=w=>(k,E,O,M,I)=>({...xF(o,M,w,c,I)({...k,y:I.y,height:I.height},E,O,M,I),alwaysFit:!0}),p=w=>hp(u)?[h(w)]:[];return a?{onLtr:w=>[Rs,gs,hs,Fs,gr,is].concat(p(w)),onRtl:w=>[Rs,hs,gs,gr,Fs,is].concat(p(w))}:{onLtr:w=>[is,Rs,Fs,gs,gr,hs].concat(p(w)),onRtl:w=>[is,Rs,gr,hs,Fs,gs].concat(p(w))}},oS=(o,a)=>{const c=bo(a,p=>p.predicate(o.dom)),{pass:u,fail:h}=bs(c,p=>p.type==="contexttoolbar");return{contextToolbars:u,contextForms:h}},rS=(o,a)=>{const c={},u=[],h=[],p={},w={},k=on(o);return jt(k,E=>{const O=o[E];O.type==="contextform"?((M,I)=>{const H=vi(os("ContextForm",H7,I));c[M]=H,H.launch.map(K=>{p["form:"+M]={...I.launch,type:K.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(H)}}}),H.scope==="editor"?h.push(H):u.push(H),w[M]=H})(E,O):O.type==="contexttoolbar"&&((M,I)=>{var H;(H=I,os("ContextToolbar",dD,H)).each(K=>{I.scope==="editor"?h.push(K):u.push(K),w[M]=K})})(E,O)}),{forms:c,inNodeScope:u,inEditorScope:h,lookupTable:w,formNavigators:p}},R6=dn("forward-slide"),xv=dn("backward-slide"),b0=dn("change-slide-event"),xA="tox-pop--resizing",yA="tox-pop--transition",yF=(o,a,c,u)=>{const h=u.backstage,p=h.shared,w=za().deviceType.isTouch,k=rr(),E=rr(),O=rr(),M=Ea((we=>{const Fe=An([]);return Jr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:qe=>{Fe.set([]),Jr.getContent(qe).each(wt=>{Jo(wt.element,"visibility")}),ms(qe.element,xA),Jo(qe.element,"width")},inlineBehaviours:Lt([lo("context-toolbar-events",[Qd(Kp(),(qe,wt)=>{wt.event.raw.propertyName==="width"&&(ms(qe.element,xA),Jo(qe.element,"width"))}),pt(b0,(qe,wt)=>{const ht=qe.element;Jo(ht,"width");const ft=ca(ht);Jr.setContent(qe,wt.event.contents),as(ht,xA);const Bt=ca(ht);Xn(ht,"width",ft+"px"),Jr.getContent(qe).each(sn=>{wt.event.focus.bind(hn=>(_i(hn),Ns(ht))).orThunk(()=>(Sn.focusIn(sn),Vc(nt(ht))))}),setTimeout(()=>{Xn(qe.element,"width",Bt+"px")},0)}),pt(R6,(qe,wt)=>{Jr.getContent(qe).each(ht=>{Fe.set(Fe.get().concat([{bar:ht,focus:Vc(nt(qe.element))}]))}),wn(qe,b0,{contents:wt.event.forwardContents,focus:R.none()})}),pt(xv,(qe,wt)=>{xt(Fe.get()).each(ht=>{Fe.set(Fe.get().slice(0,Fe.get().length-1)),wn(qe,b0,{contents:Fi(ht.bar),focus:ht.focus})})})]),Sn.config({mode:"special",onEscape:qe=>xt(Fe.get()).fold(()=>we.onEscape(),wt=>(fo(qe,xv),R.some(!0)))})]),lazySink:()=>_o.value(we.sink)})})({sink:c,onEscape:()=>(o.focus(),R.some(!0))})),I=()=>{const we=O.get().getOr("node"),Fe=hp(we)?1:0;return O6(o,p,we,Fe)},H=()=>!(o.removed||w()&&h.isContextMenuOpen()),K=()=>{if(H()){const we=I(),Fe=zr(O.get(),"node")?((qe,wt)=>wt.filter(ht=>nn(ht)&&Gi(ht)).map(Qi).getOrThunk(()=>bA(qe)))(o,k.get()):bA(o);return we.height<=0||!T6(Fe,we,.01)}return!0},Y=()=>{k.clear(),E.clear(),O.clear(),Jr.hide(M)},re=()=>{if(Jr.isOpen(M)){const we=M.element;Jo(we,"display"),K()?Xn(we,"display","none"):(E.set(0),Jr.reposition(M))}},ce=we=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[we],behaviours:Lt([Sn.config({mode:"acyclic"}),lo("pop-dialog-wrap-events",[Hr(Fe=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Sn.focusIn(Fe))}),xu(Fe=>{o.shortcuts.remove("ctrl+F9")})])])}),pe=La(()=>rS(a,we=>{const Fe=ae([we]);wn(M,R6,{forwardContents:ce(Fe)})})),ae=we=>{const{buttons:Fe}=o.ui.registry.getAll(),qe={...Fe,...pe().formNavigators},wt=jb(o)===ku.scrolling?ku.scrolling:ku.default,ht=dr(vt(we,ft=>ft.type==="contexttoolbar"?((Bt,sn)=>nS(o,{buttons:Bt,toolbar:sn.items,allowToolbarGroups:!1},u.backstage,R.some(["form:"])))(qe,ft):((Bt,sn)=>vF(Bt,sn))(ft,p.providers)));return Q4({type:wt,uid:dn("context-toolbar"),initGroups:ht,onEscape:R.none,cyclicKeying:!0,providers:p.providers})},se=(we,Fe)=>{if(be.cancel(),!H())return;const qe=ae(we),wt=we[0].position,ht=((Bt,sn)=>{const hn=Bt==="node"?p.anchors.node(sn):p.anchors.cursor(),Rn=((qn,Co,Lr,Kr)=>Co==="line"?{bubble:Fl(12,0,vA),layouts:{onLtr:()=>[p1],onRtl:()=>[b1]},overrides:p0}:{bubble:Fl(0,12,vA,1/12),layouts:D6(qn,Lr,Kr,Co),overrides:p0})(o,Bt,w(),{lastElement:k.get,isReposition:()=>zr(E.get(),0),getMode:()=>qa.getMode(c)});return mr(hn,Rn)})(wt,Fe);O.set(wt),E.set(1);const ft=M.element;Jo(ft,"display"),(Bt=>zr(Ht(Bt,k.get(),Uo),!0))(Fe)||(ms(ft,yA),qa.reset(c,M)),Jr.showWithinBounds(M,ce(qe),{anchor:ht,transition:{classes:[yA],mode:"placement"}},()=>R.some(I())),Fe.fold(k.clear,k.set),K()&&Xn(ft,"display","none")};let fe=!1;const be=U3(()=>{!o.hasFocus()||o.removed||fe||(Li(M.element,yA)?be.throttle():((we,Fe)=>{const qe=Qt(Fe.getBody()),wt=ft=>Uo(ft,qe),ht=Qt(Fe.selection.getNode());return(ft=>!wt(ft)&&!vs(qe,ft))(ht)?R.none():((ft,Bt,sn)=>{const hn=oS(ft,Bt);if(hn.contextForms.length>0)return R.some({elem:ft,toolbars:[hn.contextForms[0]]});{const Rn=oS(ft,sn);if(Rn.contextForms.length>0)return R.some({elem:ft,toolbars:[Rn.contextForms[0]]});if(hn.contextToolbars.length>0||Rn.contextToolbars.length>0){const qn=(Co=>{if(Co.length<=1)return Co;{const Lr=Ln=>Vn(Co,qr=>qr.position===Ln),Kr=Ln=>bo(Co,qr=>qr.position===Ln),uo=Lr("selection"),Fo=Lr("node");if(uo||Fo){if(Fo&&uo){const Ln=Kr("node"),qr=vt(Kr("selection"),pr=>({...pr,position:"node"}));return Ln.concat(qr)}return Kr(uo?"selection":"node")}return Kr("line")}})(hn.contextToolbars.concat(Rn.contextToolbars));return R.some({elem:ft,toolbars:qn})}return R.none()}})(ht,we.inNodeScope,we.inEditorScope).orThunk(()=>((ft,Bt,sn)=>ft(Bt)?R.none():hg(Bt,hn=>{if(Vr(hn)){const{contextToolbars:Rn,contextForms:qn}=oS(hn,sn.inNodeScope),Co=qn.length>0?qn:(Lr=>{if(Lr.length<=1)return Lr;{const Kr=uo=>J(Lr,Fo=>Fo.position===uo);return Kr("selection").orThunk(()=>Kr("node")).orThunk(()=>Kr("line")).map(uo=>uo.position).fold(()=>[],uo=>bo(Lr,Fo=>Fo.position===uo))}})(Rn);return Co.length>0?R.some({elem:hn,toolbars:Co}):R.none()}return R.none()},ft))(wt,ht,we))})(pe(),o).fold(Y,we=>{se(we.toolbars,R.some(we.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),o.on("click keyup focus SetContent",be.throttle),o.on(E6,Y),o.on("contexttoolbar-show",we=>{const Fe=pe();ln(Fe.lookupTable,we.toolbarKey).each(qe=>{se([qe],Vo(we.target!==o,we.target)),Jr.getContent(M).each(Sn.focusIn)})}),o.on("focusout",we=>{m_.setEditorTimeout(o,()=>{Ns(c.element).isNone()&&Ns(M.element).isNone()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("ExecCommand",({command:we})=>{we.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",we=>{we.state?Y():o.hasFocus()&&be.throttle()}),o.on("dragstart",()=>{fe=!0}),o.on("dragend drop",()=>{fe=!1}),o.on("NodeChange",we=>{Ns(M.element).fold(be.throttle,ge)})})},N6=(o,a)=>{const c=()=>{const u=a.getOptions(o),h=a.getCurrent(o).map(a.hash),p=rr();return vt(u,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=M=>{M&&(p.on(I=>I.setActive(!1)),p.set(k)),k.setActive(M)};E(zr(h,a.hash(w)));const O=a.watcher(o,w,E);return()=>{p.clear(),O()}},onAction:()=>a.setCurrent(o,w)}))};o.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:u=>u(c()),onSetup:a.onToolbarSetup}),o.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:c,onSetup:a.onMenuSetup})},wF=o=>{N6(o,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:E5,hash:c=>((u,h)=>tS(u,["fixed","relative","empty"]).map(({value:p,unit:w})=>p+w))(c).getOr(c),display:Me,watcher:(c,u,h)=>c.formatter.formatChanged("lineheight",h,!1,{value:u}).unbind,getCurrent:c=>R.from(c.queryCommandValue("LineHeight")),setCurrent:(c,u)=>c.execCommand("LineHeight",!1,u),onToolbarSetup:ha(a),onMenuSetup:ha(a)}))(o)),(a=>R.from(oE(a)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:ie(c),hash:u=>z(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,h,p)=>{var w;return u.formatter.formatChanged("lang",p,!1,{value:h.code,customValue:(w=h.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:u=>{const h=Qt(u.selection.getNode());return pg(h,p=>R.some(p).filter(Vr).bind(w=>No(w,"lang").map(k=>({code:k,customCode:No(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(u,h)=>u.execCommand("Lang",!1,h),onToolbarSetup:u=>{const h=tc();return u.setActive(a.formatter.match("lang",{},void 0,!0)),h.set(a.formatter.formatChanged("lang",u.setActive,!0)),nv(h.clear,ha(a)(u))},onMenuSetup:ha(a)})))(o).each(a=>N6(o,a))},_F=o=>o0(o,"NodeChange",a=>{a.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),A2=(o,a)=>c=>{c.setActive(a.get());const u=h=>{a.set(h.state),c.setActive(h.state)};return o.on("PastePlainTextToggle",u),nv(()=>o.off("PastePlainTextToggle",u),ha(o)(c))},wA=(o,a)=>()=>{o.execCommand("mceToggleFormat",!1,a)},_A=o=>{(a=>{(c=>{Jg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(u,h)=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:Cf(c,u.name),onAction:wA(c,u.name),shortcut:u.shortcut})});for(let u=1;u<=6;u++){const h="h"+u,p=`Access+${u}`;c.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+u,onSetup:Cf(c,h),onAction:wA(c,h),shortcut:p})}})(a),(c=>{Jg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{c.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onAction:$l(c,u.action),shortcut:u.shortcut})}),Jg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{c.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:ha(c),onAction:$l(c,u.action)})})})(a),(c=>{Jg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],u=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:$l(c,u.action),onSetup:Cf(c,u.name)})})})(a)})(o),(a=>{Jg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:$l(a,c.action)})}),Jg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:ha(a),onAction:$l(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ha(a),onAction:wA(a,"code")})})(o)},sS=(o,a)=>o0(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[a]())}),CF=o=>o0(o,"VisualAid",a=>{a.setActive(o.hasVisual)}),SF=(o,a)=>{(c=>{jt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],u=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:$l(c,u.cmd),onSetup:Cf(c,u.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ha(c),onAction:$l(c,"JustifyNone")})})(o),_A(o),((c,u)=>{((h,p)=>{const w=vv(p,aA(h));h.ui.registry.addNestedMenuItem("align",{text:p.shared.providers.translate("Align"),onSetup:ha(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,u),((h,p)=>{const w=vv(p,u6(h));h.ui.registry.addNestedMenuItem("fontfamily",{text:p.shared.providers.translate("Fonts"),onSetup:ha(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,u),((h,p)=>{const w={type:"advanced",...p.styles},k=vv(p,b6(h,w));h.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ha(h),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(c,u),((h,p)=>{const w=vv(p,cA(h));h.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ha(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,u),((h,p)=>{const w=vv(p,h6(h));h.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ha(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,u)})(o,a),(c=>{(u=>{u.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:sS(u,"hasUndo"),onAction:$l(u,"undo")}),u.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:sS(u,"hasRedo"),onAction:$l(u,"redo")})})(c),(u=>{u.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:sS(u,"hasUndo"),onAction:$l(u,"undo"),shortcut:"Meta+Z"}),u.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:sS(u,"hasRedo"),onAction:$l(u,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(k=>{k.addCommand("mceApplyTextcolor",(E,O)=>{((M,I,H)=>{M.undoManager.transact(()=>{M.focus(),M.formatter.apply(I,{value:H}),M.nodeChanged()})})(k,E,O)}),k.addCommand("mceRemoveTextcolor",E=>{((O,M)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(M,{value:null},void 0,!0),O.nodeChanged()})})(k,E)})})(c);const u=zD(c),h=HD(c),p=An(u),w=An(h);t3(c,"forecolor","forecolor",p),t3(c,"backcolor","hilitecolor",w),rv(c,"forecolor","forecolor","Text color",p),rv(c,"backcolor","hilitecolor","Background color",w)})(o),(c=>{(u=>{u.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:$l(u,"mceToggleVisualAid")})})(c),(u=>{u.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:CF(u),onAction:$l(u,"mceToggleVisualAid")})})(c)})(o),(c=>{(u=>{u.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_F(u),onAction:$l(u,"outdent")}),u.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ha(u),onAction:$l(u,"indent")})})(c)})(o),wF(o),(c=>{const u=An(S5(c)),h=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:A2(c,u)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:A2(c,u)})})(o)},I6=o=>b(o)?o.split(/[ ,]/):o,B6=o=>a=>a.options.get(o),M6=B6("contextmenu_never_use_native"),kF=B6("contextmenu_avoid_overlap"),CA=o=>{const a=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:bo(c,u=>mo(a,u))},T2=(o,a)=>({type:"makeshift",x:o,y:a}),P6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,EF=(o,a)=>a.type==="contextmenu"||a.type==="longpress"?o.inline?(c=>{if(P6(c)){const u=c.touches[0];return T2(u.pageX,u.pageY)}return T2(c.pageX,c.pageY)})(a):((c,u)=>{const h=U1.DOM.getPos(c);return((p,w,k)=>T2(p.x+w,p.y+k))(u,h.x,h.y)})(o.getContentAreaContainer(),(c=>{if(P6(c)){const u=c.touches[0];return T2(u.clientX,u.clientY)}return T2(c.clientX,c.clientY)})(a)):L6(o),L6=o=>({type:"selection",root:Qt(o.selection.getNode())}),F6=(o,a,c)=>{switch(c){case"node":return(u=>({type:"node",node:R.some(Qt(u.selection.getNode())),root:Qt(u.getBody())}))(o);case"point":return EF(o,a);case"selection":return L6(o)}},z6=(o,a,c,u,h,p)=>{const w=c(),k=F6(o,a,p);d0(w,_f.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:R.none()}).map(E=>{a.preventDefault(),Jr.showMenuAt(h,{anchor:k},{menu:{markers:Yb("normal")},data:E})})},H6={onLtr:()=>[Rs,gs,hs,Fs,gr,is,$o,Fm,h2,fp,Ul,Vl],onRtl:()=>[Rs,hs,gs,gr,Fs,is,$o,Fm,Ul,Vl,h2,fp]},AF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},TF=(o,a,c,u,h,p)=>{const w=za(),k=w.os.isiOS(),E=w.os.isMacOS(),O=w.os.isAndroid(),M=w.deviceType.isTouch(),I=()=>{const H=c();((K,Y,re,ce,pe,ae,se)=>{const fe=((be,we,Fe)=>{const qe=F6(be,we,Fe);return{bubble:Fl(0,Fe==="point"?12:0,AF),layouts:H6,overrides:{maxWidthFunction:q4(),maxHeightFunction:Bg()},...qe}})(K,Y,ae);d0(re,_f.CLOSE_ON_EXECUTE,ce,{isHorizontalMenu:!0,search:R.none()}).map(be=>{Y.preventDefault();const we=se?Vi.HighlightMenuAndItem:Vi.HighlightNone;Jr.showMenuWithinBounds(pe,{anchor:fe},{menu:{markers:Yb("normal"),highlightOnOpen:we},data:be,type:"horizontal"},()=>R.some(O6(K,ce.shared,ae==="node"?"node":"selection"))),K.dispatch(E6)})})(o,a,H,u,h,p,!(O||k||E&&M))};if((E||k)&&p!=="node"){const H=()=>{(K=>{const Y=K.selection.getRng(),re=()=>{m_.setEditorTimeout(K,()=>{K.selection.setRng(Y)},10),ae()};K.once("touchend",re);const ce=se=>{se.preventDefault(),se.stopImmediatePropagation()};K.on("mousedown",ce,!0);const pe=()=>ae();K.once("longpresscancel",pe);const ae=()=>{K.off("touchend",re),K.off("longpresscancel",pe),K.off("mousedown",ce)}})(o),I()};((K,Y)=>{const re=K.selection;if(re.isCollapsed()||Y.touches.length<1)return!1;{const ce=Y.touches[0],pe=re.getRng();return Kx(K.getWin(),uf.domRange(pe)).exists(ae=>ae.left<=ce.clientX&&ae.right>=ce.clientX&&ae.top<=ce.clientY&&ae.bottom>=ce.clientY)}})(o,a)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else I()},$6=o=>b(o)?o==="|":o.type==="separator",SA={type:"separator"},V6=o=>{const a=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(b(o))return o;switch(o.type){case"separator":return SA;case"submenu":return{type:"nestedmenuitem",...a(o),getSubmenuItems:()=>{const u=o.getSubmenuItems();return b(u)?u:vt(u,V6)}};default:const c=o;return{type:"menuitem",...a(c),onAction:Le(c.onAction)}}},kA=(o,a)=>{if(a.length===0)return o;const c=xt(o).filter(u=>!$6(u)).fold(()=>[],u=>[SA]);return o.concat(c).concat(a).concat([SA])},v0=(o,a)=>!(c=>c.type==="longpress"||mo(c,"touches"))(a)&&(a.button!==2||a.target===o.getBody()&&a.pointerType===""),U6=(o,a)=>v0(o,a)?o.selection.getStart(!0):a.target,OF=(o,a,c)=>{const u=za().deviceType.isTouch,h=Ea(Jr.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Lt([lo("dismissContextMenu",[pt(bg(),(k,E)=>{T.close(k),o.focus()})])])})),p=()=>Jr.hide(h),w=k=>{if(M6(o)&&k.preventDefault(),((O,M)=>M.ctrlKey&&!M6(O))(o,k)||(O=>CA(O).length===0)(o))return;const E=((O,M)=>{const I=kF(O),H=v0(O,M)?"selection":"point";if(qi(I)){const K=U6(O,M);return av(Qt(K),I)?"node":H}return H})(o,k);(u()?TF:z6)(o,k,()=>{const O=U6(o,k),M=o.ui.registry.getAll(),I=CA(o);return((H,K,Y)=>{const re=Mn(K,(ce,pe)=>ln(H,pe.toLowerCase()).map(ae=>{const se=ae.update(Y);if(b(se)&&qi(Jl(se)))return kA(ce,se.split(" "));if(L(se)&&se.length>0){const fe=vt(se,V6);return kA(ce,fe)}return ce}).getOrThunk(()=>ce.concat([pe])),[]);return re.length>0&&$6(re[re.length-1])&&re.pop(),re})(M.contextMenus,I,O)},c,h,E)};o.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(u()?"":" ResizeWindow");o.on(k,p),o.on("longpress contextmenu",w)})},EA=Sl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),x0=o=>a=>a.translate(-o.left,-o.top),Wl=o=>a=>a.translate(o.left,o.top),kf=o=>(a,c)=>Mn(o,(u,h)=>h(u),Ir(a,c)),O2=(o,a,c)=>o.fold(kf([Wl(c),x0(a)]),kf([x0(a)]),kf([])),yv=(o,a,c)=>o.fold(kf([Wl(c)]),kf([]),kf([Wl(a)])),W6=(o,a,c)=>o.fold(kf([]),kf([x0(c)]),kf([Wl(a),x0(c)])),Z6=(o,a,c)=>{const u=o.fold((h,p)=>({position:R.some("absolute"),left:R.some(h+"px"),top:R.some(p+"px")}),(h,p)=>({position:R.some("absolute"),left:R.some(h-c.left+"px"),top:R.some(p-c.top+"px")}),(h,p)=>({position:R.some("fixed"),left:R.some(h+"px"),top:R.some(p+"px")}));return{right:R.none(),bottom:R.none(),...u}},AA=(o,a,c,u)=>{const h=(p,w)=>(k,E)=>{const O=p(a,c,u);return w(k.getOr(O.left),E.getOr(O.top))};return o.fold(h(W6,D2),h(yv,th),h(O2,y0))},D2=EA.offset,th=EA.absolute,y0=EA.fixed,j6=(o,a)=>{const c=yo(o,a);return z(c)?NaN:parseInt(c,10)},K6=(o,a,c,u,h,p)=>{const w=((O,M,I,H)=>((K,Y)=>{const re=K.element,ce=j6(re,Y.leftAttr),pe=j6(re,Y.topAttr);return isNaN(ce)||isNaN(pe)?R.none():R.some(Ir(ce,pe))})(O,M).fold(()=>I,K=>y0(K.left+H.left,K.top+H.top)))(o,a,c,u),k=a.mustSnap?G6(o,a,w,h,p):Y6(o,a,w,h,p),E=O2(w,h,p);return((O,M,I)=>{const H=O.element;Xt(H,M.leftAttr,I.left+"px"),Xt(H,M.topAttr,I.top+"px")})(o,a,E),k.fold(()=>({coord:y0(E.left,E.top),extra:R.none()}),O=>({coord:O.output,extra:O.extra}))},q6=(o,a,c,u)=>It(o,h=>{const p=h.sensor;return((k,E,O,M,I,H)=>{const K=yv(k,I,H),Y=yv(E,I,H);return Math.abs(K.left-Y.left)<=O&&Math.abs(K.top-Y.top)<=M})(a,p,h.range.left,h.range.top,c,u)?R.some({output:AA(h.output,a,c,u),extra:h.extra}):R.none()}),G6=(o,a,c,u,h)=>{const p=a.getSnapPoints(o);return q6(p,c,u,h).orThunk(()=>Mn(p,(k,E)=>{const O=E.sensor,M=((I,H,K,Y,re,ce)=>{const pe=yv(I,re,ce),ae=yv(H,re,ce),se=Math.abs(pe.left-ae.left),fe=Math.abs(pe.top-ae.top);return Ir(se,fe)})(c,O,E.range.left,E.range.top,u,h);return k.deltas.fold(()=>({deltas:R.some(M),snap:R.some(E)}),I=>(M.left+M.top)/2<=(I.left+I.top)/2?{deltas:R.some(M),snap:R.some(E)}:k)},{deltas:R.none(),snap:R.none()}).snap.map(k=>({output:AA(k.output,c,u,h),extra:k.extra})))},Y6=(o,a,c,u,h)=>{const p=a.getSnapPoints(o);return q6(p,c,u,h)};var X6=Object.freeze({__proto__:null,snapTo:(o,a,c,u)=>{const h=a.getTarget(o.element);if(a.repositionTarget){const p=Vs(o.element),w=Br(p),k=ef(h),E=((M,I,H)=>({coord:AA(M.output,M.output,I,H),extra:M.extra}))(u,w,k),O=Z6(E.coord,0,k);Yi(h,O)}}});const TA="data-initial-z-index",J6=(o,a)=>{o.getSystem().addToGui(a),(c=>{ni(c.element).filter(Vr).each(u=>{Ss(u,"z-index").each(h=>{Xt(u,TA,h)}),Xn(u,"z-index",ns(c.element,"z-index"))})})(a)},DF=o=>{(a=>{ni(a.element).filter(Vr).each(c=>{No(c,TA).fold(()=>Jo(c,"z-index"),u=>Xn(c,"z-index",u)),co(c,TA)})})(o),o.getSystem().removeFromGui(o)},Q6=(o,a,c)=>o.getSystem().build(yd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:c}));var RF=ds("snaps",[kt("getSnapPoints"),Lo("onSensor"),kt("leftAttr"),kt("topAttr"),Xe("lazyViewport",_a),Xe("mustSnap",!1)]);const OA=[Xe("useFixed",Ee),kt("blockerClass"),Xe("getTarget",Me),Xe("onDrag",ge),Xe("repositionTarget",!0),Xe("onDrop",ge),Mr("getBounds",_a),RF],DA=o=>{return(a=Ss(o,"left"),c=Ss(o,"top"),u=Ss(o,"position"),a.isSome()&&c.isSome()&&u.isSome()?R.some(((h,p,w)=>(w==="fixed"?y0:D2)(parseInt(h,10),parseInt(p,10)))(a.getOrDie(),c.getOrDie(),u.getOrDie())):R.none()).getOrThunk(()=>{const h=gl(o);return th(h.left,h.top)});var a,c,u},eI=(o,a)=>({bounds:o.getBounds(),height:Ql(a.element),width:Ii(a.element)}),RA=(o,a,c,u,h)=>{const p=c.update(u,h),w=c.getStartData().getOrThunk(()=>eI(a,o));p.each(k=>{((E,O,M,I)=>{const H=O.getTarget(E.element);if(O.repositionTarget){const K=Vs(E.element),Y=Br(K),re=ef(H),ce=DA(H),pe=((se,fe,be,we,Fe,qe,wt)=>((ht,ft,Bt,sn,hn)=>{const Rn=hn.bounds,qn=yv(ft,Bt,sn),Co=uc(qn.left,Rn.x,Rn.x+Rn.width-hn.width),Lr=uc(qn.top,Rn.y,Rn.y+Rn.height-hn.height),Kr=th(Co,Lr);return ft.fold(()=>{const uo=W6(Kr,Bt,sn);return D2(uo.left,uo.top)},ie(Kr),()=>{const uo=O2(Kr,Bt,sn);return y0(uo.left,uo.top)})})(0,fe.fold(()=>{const ht=(ft=be,Bt=qe.left,sn=qe.top,ft.fold((Rn,qn)=>D2(Rn+Bt,qn+sn),(Rn,qn)=>th(Rn+Bt,qn+sn),(Rn,qn)=>y0(Rn+Bt,qn+sn)));var ft,Bt,sn;const hn=O2(ht,we,Fe);return y0(hn.left,hn.top)},ht=>{const ft=K6(se,ht,be,qe,we,Fe);return ft.extra.each(Bt=>{ht.onSensor(se,Bt)}),ft.coord}),we,Fe,wt))(E,O.snaps,ce,Y,re,I,M),ae=Z6(pe,0,re);Yi(H,ae)}O.onDrag(E,H,I)})(o,a,w,k)})},NA=(o,a,c,u)=>{a.each(DF),c.snaps.each(p=>{((w,k)=>{((E,O)=>{const M=E.element;co(M,O.leftAttr),co(M,O.topAttr)})(w,k)})(o,p)});const h=c.getTarget(o.element);u.reset(),c.onDrop(o,h)},IA=o=>(a,c)=>{const u=h=>{c.setStartData(eI(a,h))};return Qn([pt(Yp(),h=>{c.getStartData().each(()=>u(h))}),...o(a,c,u)])};var NF=Object.freeze({__proto__:null,getData:o=>R.from(Ir(o.x,o.y)),getDelta:(o,a)=>Ir(a.left-o.left,a.top-o.top)});const tI=(o,a,c)=>[pt(Et(),(u,h)=>{if(h.event.raw.button!==0)return;h.stop();const p=()=>NA(u,R.some(E),o,a),w=u3(p,200),k={drop:p,delayDrop:w.schedule,forceDrop:p,move:O=>{w.cancel(),RA(u,o,a,NF,O)}},E=Q6(u,o.blockerClass,(O=>Qn([pt(Et(),O.forceDrop),pt(Yn(),O.drop),pt(Pn(),(M,I)=>{O.move(I.event)}),pt(oo(),O.delayDrop)]))(k));c(u),J6(u,E)})],IF=[...OA,Er("dragger",{handlers:IA(tI)})];var nI=Object.freeze({__proto__:null,getData:o=>{const a=o.raw.touches;return a.length===1?(c=>{const u=c[0];return R.some(Ir(u.clientX,u.clientY))})(a):R.none()},getDelta:(o,a)=>Ir(a.left-o.left,a.top-o.top)});const oI=(o,a,c)=>{const u=rr(),h=p=>{NA(p,u.get(),o,a),u.clear()};return[pt(Z(),(p,w)=>{w.stop();const k=()=>h(p),E={drop:k,delayDrop:ge,forceDrop:k,move:M=>{RA(p,o,a,nI,M)}},O=Q6(p,o.blockerClass,(M=>Qn([pt(Z(),M.forceDrop),pt(ke(),M.drop),pt(He(),M.drop),pt(te(),(I,H)=>{M.move(H.event)})]))(E));u.set(O),c(p),J6(p,O)}),pt(te(),(p,w)=>{w.stop(),RA(p,o,a,nI,w.event)}),pt(ke(),(p,w)=>{w.stop(),h(p)}),pt(He(),h)]},BF=IF,rI=[...OA,Er("dragger",{handlers:IA(oI)})],sI=[...OA,Er("dragger",{handlers:IA((o,a,c)=>[...tI(o,a,c),...oI(o,a,c)])})];var MF=Object.freeze({__proto__:null,mouse:BF,touch:rI,mouseOrTouch:sI}),PF=Object.freeze({__proto__:null,init:()=>{let o=R.none(),a=R.none();const c=ie({});return fa({readState:c,reset:()=>{o=R.none(),a=R.none()},update:(u,h)=>u.getData(h).bind(p=>((w,k)=>{const E=o.map(O=>w.getDelta(O,k));return o=R.some(k),E})(u,p)),getStartData:()=>a,setStartData:u=>{a=R.some(u)}})}});const w0=Rw({branchKey:"mode",branches:MF,name:"dragging",active:{events:(o,a)=>o.dragger.handlers(o,a)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:R.from(o.extra)})},state:PF,apis:X6}),aI=(o,a,c,u,h,p)=>o.fold(()=>w0.snap({sensor:th(c-20,u-20),range:Ir(h,p),output:th(R.some(c),R.some(u)),extra:{td:a}}),w=>{const k=c-20,E=u-20,O=w.element.dom.getBoundingClientRect();return w0.snap({sensor:th(k,E),range:Ir(40,40),output:th(R.some(c-O.width/2),R.some(u-O.height/2)),extra:{td:a}})}),iI=(o,a,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(u,h)=>{const p=h.td;((w,k)=>w.exists(E=>Uo(E,k)))(a.get(),p)||(a.set(p),c(p))},mustSnap:!0}),lI=o=>Qo(ki.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Lt([w0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),i0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),cI=(o,a)=>{const c=An([]),u=An([]),h=An(!1),p=rr(),w=rr(),k=ae=>{const se=Qi(ae);return aI(I.getOpt(a),ae,se.x,se.y,se.width,se.height)},E=ae=>{const se=Qi(ae);return aI(H.getOpt(a),ae,se.right,se.bottom,se.width,se.height)},O=iI(()=>vt(c.get(),ae=>k(ae)),p,ae=>{w.get().each(se=>{o.dispatch("TableSelectorChange",{start:ae,finish:se})})}),M=iI(()=>vt(u.get(),ae=>E(ae)),w,ae=>{p.get().each(se=>{o.dispatch("TableSelectorChange",{start:se,finish:ae})})}),I=lI(O),H=lI(M),K=Ea(I.asSpec()),Y=Ea(H.asSpec()),re=(ae,se,fe,be)=>{const we=fe(se);w0.snapTo(ae,we),((Fe,qe,wt,ht)=>{const ft=qe.dom.getBoundingClientRect();Jo(Fe.element,"display");const Bt=Ec(Qt(o.getBody())).dom.innerHeight,sn=ft[be]<0,hn=((Rn,qn)=>Rn[be]>qn)(ft,Bt);(sn||hn)&&Xn(Fe.element,"display","none")})(ae,se)},ce=ae=>re(K,ae,k,"top"),pe=ae=>re(Y,ae,E,"bottom");if(za().deviceType.isTouch()){const ae=se=>vt(se,Qt);o.on("TableSelectionChange",se=>{h.get()||(gf(a,K),gf(a,Y),h.set(!0));const fe=Qt(se.start),be=Qt(se.finish);p.set(fe),w.set(be),R.from(se.otherCells).each(we=>{c.set(ae(we.upOrLeftCells)),u.set(ae(we.downOrRightCells)),ce(fe),pe(be)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{p.get().each(ce),w.get().each(pe)}),o.on("TableSelectionClear",()=>{h.get()&&(Hi(K),Hi(Y),h.set(!1)),p.clear(),w.clear()})}},uI=(o,a,c)=>{var u;const h=(u=a.delimiter)!==null&&u!==void 0?u:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Lt([Sn.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:c.isDisabled}),ga(),Sr.config({}),Fn.config({}),lo("elementPathEvents",[Hr((p,w)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Sn.focusIn(p)),o.on("NodeChange",k=>{const E=(M=>{const I=[];let H=M.length;for(;H-- >0;){const Y=M[H];if(Y.nodeType===1&&(K=Y).nodeName!=="BR"&&!K.getAttribute("data-mce-bogus")&&K.getAttribute("data-mce-type")!=="bookmark"){const re=BD(o,Y);if(re.isDefaultPrevented()||I.push({name:re.name,element:Y}),re.isPropagationStopped())break}}var K;return I})(k.parents),O=E.length>0?Mn(E,(M,I,H)=>{const K=((Y,re,ce)=>ki.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ce}},components:[ys(Y)],action:pe=>{o.focus(),o.selection.select(re),o.nodeChanged()},buttonBehaviours:Lt([Hs.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",re.nodeName.toLowerCase()]),onShow:(pe,ae)=>{((se,fe)=>{const be=R.from(yo(se,"id")).getOrThunk(()=>{const we=dn("aria");return Xt(fe,"id",we),we});Xt(se,"aria-describedby",be)})(pe.element,ae.element)},onHide:pe=>{var ae;ae=pe.element,co(ae,"aria-describedby")}})}),ci(c.isDisabled),ga()])}))(I.name,I.element,H);return H===0?M.concat([K]):M.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ys(` ${h} `)]},K])},[]):[];Fn.set(p,O)})})])]),components:[]}};var nh;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(nh||(nh={}));const aS=(o,a,c)=>{const u=Qt(o.getContainer()),h=((p,w,k,E,O)=>{const M={height:E2(E+w.top,W1(p),g_(p))};return k===nh.Both&&(M.width=E2(O+w.left,wy(p),Z1(p))),M})(o,a,c,us(u),ca(u));xn(h,(p,w)=>{ee(p)&&Xn(u,w,gp(p))}),(p=>{p.dispatch("ResizeEditor")})(o)},iS=(o,a,c,u)=>{const h=Ir(20*c,20*u);return aS(o,h,a),R.some(!0)},dI=(o,a)=>{const c=()=>{const u=[],h=iE(o),p=C5(o),w=vc(o)||o.hasPlugin("wordcount");return p&&u.push(uI(o,{},a)),h&&u.push((()=>{const k=W_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ys(Eu.translate(["Press {0} for help",k]))]}})()),w&&u.push((()=>{const k=[];return o.hasPlugin("wordcount")&&k.push(((E,O)=>{const M=(I,H,K)=>Fn.set(I,[ys(O.translate(["{0} "+K,H[K]]))]);return ki.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Lt([ci(O.isDisabled),ga(),Sr.config({}),Fn.config({}),tt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),lo("wordcount-events",[zc(I=>{const H=tt.getValue(I),K=H.mode==="words"?"characters":"words";tt.setValue(I,{mode:K,count:H.count}),M(I,H.count,K)}),Hr(I=>{E.on("wordCountUpdate",H=>{const{mode:K}=tt.getValue(I);tt.setValue(I,{mode:K,count:H.wordCount}),M(I,H.wordCount,K)})})])]),eventOrder:{[el()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,a)),vc(o)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Lt([Zn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),u.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(h){const O="tox-statusbar__text-container-3-cols";return w||p?w&&!p?[O,E]:[O,k]:[O,"tox-statusbar__text-container--space-around"]}return[w&&!p?E:k]})()]},components:u}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const u=c(),h=((p,w)=>{const k=(O=>{const M=Ga(O);return M===!1?nh.None:M==="both"?nh.Both:nh.Vertical})(p);if(k===nh.None)return R.none();const E=k===nh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(xc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[w0.config({mode:"mouse",repositionTarget:!1,onDrag:(O,M,I)=>aS(p,I,k),blockerClass:"tox-blocker"}),Sn.config({mode:"special",onLeft:()=>iS(p,k,-1,0),onRight:()=>iS(p,k,1,0),onUp:()=>iS(p,k,0,-1),onDown:()=>iS(p,k,0,1)}),Sr.config({}),Zn.config({}),Hs.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(o,a);return u.concat(h.toArray())})()}},fI=(o,a)=>a.get().getOrDie(`UI for ${o} has not been rendered`),LF=(o,a)=>{const c=o.inline,u=c?bF:G$,h=Ug(o)?pL:hL,p=(()=>{const we=rr(),Fe=rr(),qe=rr();return{dialogUi:we,popupUi:Fe,mainUi:qe,getUiMotherships:()=>{const wt=we.get().map(ft=>ft.mothership),ht=Fe.get().map(ft=>ft.mothership);return wt.fold(()=>ht.toArray(),ft=>ht.fold(()=>[ft],Bt=>Uo(ft.element,Bt.element)?[ft]:[ft,Bt]))},lazyGetInOuterOrDie:(wt,ht)=>()=>qe.get().bind(ft=>ht(ft.outerContainer)).getOrDie(`Could not find ${wt} element in OuterContainer`)}})(),w=rr(),k=rr(),E=rr(),O=za().deviceType.isTouch()?["tox-platform-touch"]:[],M=lE(o),I=jb(o),H=Qo({dom:{tag:"div",classes:["tox-anchorbar"]}}),K=Qo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Y=()=>p.mainUi.get().map(we=>we.outerContainer).bind(Pr.getHeader),re=p.lazyGetInOuterOrDie("anchor bar",H.getOpt),ce=p.lazyGetInOuterOrDie("bottom anchor bar",K.getOpt),pe=p.lazyGetInOuterOrDie("toolbar",Pr.getToolbar),ae=p.lazyGetInOuterOrDie("throbber",Pr.getThrobber),se=((we,Fe,qe,wt)=>{const ht=An(!1),ft=(Fo=>{const Ln=An(lE(Fo)?"bottom":"top");return{isPositionedAtTop:()=>Ln.get()==="top",getDockingMode:Ln.get,setDockingMode:Ln.set}})(Fe),Bt={icons:()=>Fe.ui.registry.getAll().icons,menuItems:()=>Fe.ui.registry.getAll().menuItems,translate:Eu.translate,isDisabled:()=>Fe.mode.isReadOnly()||!Fe.ui.isEnabled(),getOption:Fe.options.get,tooltips:D4(we.dialog)},sn=RN(Fe),hn=(Fo=>{const Ln=Oa=>()=>Fo.formatter.match(Oa),qr=Oa=>()=>{const pa=Fo.formatter.get(Oa);return pa!==void 0?R.some({tag:pa.length>0&&(pa[0].inline||pa[0].block)||"div",styles:Fo.dom.parseStyle(Fo.formatter.getCssText(Oa))}):R.none()},pr=An([]),Ei=An([]),Ai=An(!1);return Fo.on("PreInit",Oa=>{const pa=wN(Fo),oh=O4(Fo,pa,Ln,qr);pr.set(oh)}),Fo.on("addStyleModifications",Oa=>{const pa=O4(Fo,Oa.items,Ln,qr);Ei.set(pa),Ai.set(Oa.replace)}),{getData:()=>{const Oa=Ai.get()?[]:pr.get(),pa=Ei.get();return Oa.concat(pa)}}})(Fe),Rn=(Fo=>({colorPicker:tL(Fo),hasCustomColors:nL(Fo),getColors:oL(Fo),getColorCols:rL(Fo)}))(Fe),qn=(Fo=>({isDraggableModal:vN(Fo)}))(Fe),Co={shared:{providers:Bt,anchors:eL(Fe,qe,wt,ft.isPositionedAtTop),header:ft},urlinput:sn,styles:hn,colorinput:Rn,dialog:qn,isContextMenuOpen:()=>ht.get(),setContextMenuState:Fo=>ht.set(Fo)},Lr=Fo=>R.none(),Kr={...Co,shared:{...Co.shared,interpreter:Fo=>mN(Fo,{},Kr,Lr),getSink:we.popup}},uo={...Co,shared:{...Co.shared,interpreter:Fo=>mN(Fo,{},uo,Lr),getSink:we.dialog}};return{popup:Kr,dialog:uo}})({popup:()=>_o.fromOption(p.popupUi.get().map(we=>we.sink),"(popup) UI has not been rendered"),dialog:()=>_o.fromOption(p.dialogUi.get().map(we=>we.sink),"UI has not been rendered")},o,re,ce),fe=()=>{const we=(()=>{const Co={attributes:{[rl]:M?hc.BottomToTop:hc.TopToBottom}},Lr=Pr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:se.popup,onEscape:()=>{o.focus()}}),Kr=Pr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:se.popup.shared.getSink,providers:se.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:pa=>{((oh,kv)=>{oh.dispatch("ToggleToolbarDrawer",{state:kv})})(o,pa)},type:I,lazyToolbar:pe,lazyHeader:()=>Y().getOrDie("Could not find header element"),...Co}),uo=Pr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:se.popup.shared.providers,onEscape:()=>{o.focus()},type:I}),Fo=Ey(o),Ln=ky(o),qr=Sy(o),pr=k5(o),Ei=Pr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ai=Fo||Ln||qr,Oa=pr?[Ei,Lr]:[Lr];return Pr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ai?[]:["tox-editor-header--empty"]),...Co},components:dr([qr?Oa:[],Fo?[uo]:Ln?[Kr]:[],Kb(o)?[]:[H.asSpec()]]),sticky:Ug(o),editor:o,sharedBackstage:se.popup.shared})})(),Fe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Pr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Pr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},qe=Pr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:se.popup}),wt=Pr.parts.viewWrapper({backstage:se.popup}),ht=_5(o)&&!c?R.some(dI(o,se.popup.shared.providers)):R.none(),ft=dr([M?[]:[we],c?[]:[Fe],M?[we]:[]]),Bt=Pr.parts.editorContainer({components:dr([ft,c?[]:[K.asSpec()]])}),sn=k_(o),hn={role:"application",...Eu.isRtl()?{dir:"rtl"}:{},...sn?{"aria-hidden":"true"}:{}},Rn=Ea(Pr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(M?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...sn?{opacity:"0",border:"0"}:{}},attributes:hn},components:[Bt,...c?[]:[wt,...ht.toArray()],qe],behaviours:Lt([ga(),Kn.config({disableClass:"tox-tinymce--disabled"}),Sn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qn=nC(Rn);return w.set(qn),{mothership:qn,outerContainer:Rn}},be=we=>{const Fe=gp((wt=>(ft=>{const Bt=xy(ft),sn=W1(ft),hn=g_(ft);return k2(Bt).map(Rn=>E2(Rn,sn,hn))})(wt).getOr(xy(wt)))(o)),qe=gp((wt=>hA(wt).getOr(yy(wt)))(o));return o.inline||(ml("div","width",qe)&&Xn(we.element,"width",qe),ml("div","height",Fe)?Xn(we.element,"height",Fe):Xn(we.element,"height","400px")),Fe};return{popups:{backstage:se.popup,getMothership:()=>fI("popups",E)},dialogs:{backstage:se.dialog,getMothership:()=>fI("dialogs",k)},renderUI:()=>{const we=fe(),Fe=(()=>{const wt=S_(o),ht=Uo(un(),wt)&&ns(wt,"display")==="grid",ft={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...Eu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([qa.config({useFixed:()=>h.isDocked(Y)})])},Bt={dom:{styles:{width:document.body.clientWidth+"px"}},events:Qn([pt(Gd(),Rn=>{Xn(Rn.element,"width",document.body.clientWidth+"px")})])},sn=Ea(mr(ft,ht?Bt:{})),hn=nC(sn);return k.set(hn),{sink:sn,mothership:hn}})(),qe=Wg(o)?(()=>{const wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...Eu.isRtl()?{dir:"rtl"}:{}}},behaviours:Lt([qa.config({useFixed:()=>h.isDocked(Y),getBounds:()=>a.getPopupSinkBounds()})])},ht=Ea(wt),ft=nC(ht);return E.set(ft),{sink:ht,mothership:ft}})():(wt=>(E.set(wt.mothership),wt))(Fe);return p.dialogUi.set(Fe),p.popupUi.set(qe),p.mainUi.set(we),(wt=>{const{mainUi:ht,popupUi:ft,uiMotherships:Bt}=wt;Cn(p_(o),(Ln,qr)=>{o.ui.registry.addGroupToolbarButton(qr,Ln)});const{buttons:sn,menuItems:hn,contextToolbars:Rn,sidebars:qn,views:Co}=o.ui.registry.getAll(),Lr=C_(o),Kr={menuItems:hn,menus:Zh(o),menubar:Vg(o),toolbar:Lr.getOrThunk(()=>K1(o)),allowToolbarGroups:I===ku.floating,buttons:sn,sidebar:qn,views:Co};var uo;uo=ht.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Pr.focusMenubar(uo)}),o.addShortcut("alt+F10","focus toolbar",()=>{Pr.focusToolbar(uo)}),o.addCommand("ToggleToolbarDrawer",(Ln,qr)=>{qr!=null&&qr.skipFocus?Pr.toggleToolbarDrawerWithoutFocusing(uo):Pr.toggleToolbarDrawer(uo)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Pr.isToolbarDrawerToggled(uo)),((Ln,qr,pr)=>{const Ei=(qo,Zm)=>{jt([qr,...pr],Ed=>{Ed.broadcastEvent(qo,Zm)})},Ai=(qo,Zm)=>{jt([qr,...pr],Ed=>{Ed.broadcastOn([qo],Zm)})},Oa=qo=>Ai(B(),{target:qo.target}),pa=pi(),oh=Ci(pa,"touchstart",Oa),kv=Ci(pa,"touchmove",qo=>Ei(bn(),qo)),pp=Ci(pa,"touchend",qo=>Ei(Lc(),qo)),rh=Ci(pa,"mousedown",Oa),$2=Ci(pa,"mouseup",qo=>{qo.raw.button===0&&Ai(V(),{target:qo.target})}),bp=qo=>Ai(B(),{target:Qt(qo.target)}),Um=qo=>{qo.button===0&&Ai(V(),{target:Qt(qo.target)})},C0=()=>{jt(Ln.editorManager.get(),qo=>{Ln!==qo&&qo.dispatch("DismissPopups",{relatedTarget:Ln})})},S0=qo=>Ei(Yp(),fd(qo)),Ev=qo=>{Ai($(),{}),Ei(Gd(),fd(qo))},pS=nt(Qt(Ln.getElement())),V2=Ux(pS,"scroll",qo=>{requestAnimationFrame(()=>{if(Ln.getContainer()!=null){const Zm=jh(Ln,qr.element).map(Ed=>[Ed.element,...Ed.others]).getOr([]);Vn(Zm,Ed=>Uo(Ed,qo.target))&&(Ln.dispatch("ElementScroll",{target:qo.target.dom}),Ei(yh(),qo))}})}),vp=()=>Ai($(),{}),Wm=qo=>{qo.state&&Ai(B(),{target:Qt(Ln.getContainer())})},sh=qo=>{Ai(B(),{target:Qt(qo.relatedTarget.getContainer())})},U2=qo=>Ln.dispatch("focusin",qo),W2=qo=>Ln.dispatch("focusout",qo);Ln.on("PostRender",()=>{Ln.on("click",bp),Ln.on("tap",bp),Ln.on("mouseup",Um),Ln.on("mousedown",C0),Ln.on("ScrollWindow",S0),Ln.on("ResizeWindow",Ev),Ln.on("ResizeEditor",vp),Ln.on("AfterProgressState",Wm),Ln.on("DismissPopups",sh),jt([qr,...pr],qo=>{qo.element.dom.addEventListener("focusin",U2),qo.element.dom.addEventListener("focusout",W2)})}),Ln.on("remove",()=>{Ln.off("click",bp),Ln.off("tap",bp),Ln.off("mouseup",Um),Ln.off("mousedown",C0),Ln.off("ScrollWindow",S0),Ln.off("ResizeWindow",Ev),Ln.off("ResizeEditor",vp),Ln.off("AfterProgressState",Wm),Ln.off("DismissPopups",sh),jt([qr,...pr],qo=>{qo.element.dom.removeEventListener("focusin",U2),qo.element.dom.removeEventListener("focusout",W2)}),rh.unbind(),oh.unbind(),kv.unbind(),pp.unbind(),$2.unbind(),V2.unbind()}),Ln.on("detach",()=>{jt([qr,...pr],vk),jt([qr,...pr],qo=>qo.destroy())})})(o,ht.mothership,Bt),h.setup(o,se.popup.shared,Y),SF(o,se.popup),OF(o,se.popup.shared.getSink,se.popup),(Ln=>{const{sidebars:qr}=Ln.ui.registry.getAll();jt(on(qr),pr=>{const Ei=qr[pr],Ai=()=>zr(R.from(Ln.queryCommandValue("ToggleSidebar")),pr);Ln.ui.registry.addToggleButton(pr,{icon:Ei.icon,tooltip:Ei.tooltip,onAction:Oa=>{Ln.execCommand("ToggleSidebar",!1,pr),Oa.setActive(Ai())},onSetup:Oa=>{Oa.setActive(Ai());const pa=()=>Oa.setActive(Ai());return Ln.on("ToggleSidebar",pa),()=>{Ln.off("ToggleSidebar",pa)}}})})})(o),$N(o,ae,se.popup.shared),yF(o,Rn,ft.sink,{backstage:se.popup}),cI(o,ft.sink);const Fo={targetNode:o.getElement(),height:be(ht.outerContainer)};return u.render(o,wt,Kr,se.popup,Fo)})({popupUi:qe,dialogUi:Fe,mainUi:we,uiMotherships:p.getUiMotherships()})}}},FF=ie([kt("lazySink"),Io("dragBlockClass"),Mr("getBounds",_a),Xe("useTabstopAt",Ne),Xe("firstTabstop",0),Xe("eventOrder",{}),fn("modalBehaviours",[Sn]),tl("onExecute"),ai("onEscape")]),BA={sketch:Me},MA=ie([jc({name:"draghandle",overrides:(o,a)=>({behaviours:Lt([w0.config({mode:"mouse",getTarget:c=>fm(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:o.getDragBounds})])})}),sl({schema:[kt("dom")],name:"title"}),sl({factory:BA,schema:[kt("dom")],name:"close"}),sl({factory:BA,schema:[kt("dom")],name:"body"}),jc({factory:BA,schema:[kt("dom")],name:"footer"}),pd({factory:{sketch:(o,a)=>({...o,dom:a.dom,components:a.components})},schema:[Xe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Xe("components",[])],name:"blocker"})]),ps=bl({name:"ModalDialog",configFields:FF(),partFields:MA(),factory:(o,a,c,u)=>{const h=rr(),p=dn("modal-events"),w={...o.eventOrder,[Wa()]:[p].concat(o.eventOrder["alloy.system.attached"]||[])},k=za();return{uid:o.uid,dom:o.dom,components:a,apis:{show:E=>{h.set(E);const O=o.lazySink(E).getOrDie(),M=u.blocker(),I=O.getSystem().build({...M,components:M.components.concat([Fi(E)]),behaviours:Lt([Zn.config({}),lo("dialog-blocker-events",[Qd(Go(),()=>{Pu.isBlocked(E)||Sn.focusIn(E)})])])});gf(O,I),Sn.focusIn(E)},hide:E=>{h.clear(),ni(E.element).each(O=>{E.getSystem().getByDom(O).each(M=>{Hi(M)})})},getBody:E=>Hg(E,o,"body"),getFooter:E=>Tr(E,o,"footer"),setIdle:E=>{Pu.unblock(E)},setBusy:(E,O)=>{Pu.block(E,O)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:io(o.modalBehaviours,[Fn.config({}),Sn.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Pu.config({getRoot:h.get}),lo(p,[Hr(E=>{const O=Hg(E,o,"title").element,M=(I=>I.dom.textContent)(O);k.os.isMacOS()&&U(M)?Xt(E.element,"aria-label",M):((I,H)=>{const K=No(I,"id").fold(()=>{const Y=dn("dialog-label");return Xt(H,"id",Y),Y},Me);Xt(I,"aria-labelledby",K)})(E.element,O)})])])}},apis:{show:(o,a)=>{o.show(a)},hide:(o,a)=>{o.hide(a)},getBody:(o,a)=>o.getBody(a),getFooter:(o,a)=>o.getFooter(a),setBusy:(o,a,c)=>{o.setBusy(a,c)},setIdle:(o,a)=>{o.setIdle(a)}}}),zF=Bn([Js,SE].concat(Qb)),R2=Bl,PA=[RE("button"),Tu,oc("align","end",["start","end"]),F_,Ou,gg("buttonType",["primary","secondary"])],lS=[...PA,Au],LA=[pu("type",["submit","cancel","custom"]),...lS],HF=[pu("type",["menu"]),Jh,Wy,Tu,Pi("items",zF),...PA],$F=[...PA,pu("type",["togglebutton"]),Wy,Tu,Jh,Ls("active",!1)],mI=Gs("type",{submit:LA,cancel:LA,custom:LA,menu:HF,togglebutton:$F}),VF=[Js,Au,pu("level",["info","warn","error","success"]),AE,Xe("url","")],FA=Bn(VF),zA=[Js,Au,Ou,RE("button"),Tu,q$,gg("buttonType",["primary","secondary","toolbar"]),F_],HA=Bn(zA),wv=[Js,SE],Ta=wv.concat([TE]),UF=wv.concat([kE,Ou]),WF=Bn(UF),gI=Bl,hI=Ta.concat([iD("auto")]),ZF=Bn(hI),jF=mu([Xb,Au,AE]),KF=Ta.concat([Cl("storageKey","default")]),qF=Bn(KF),GF=na,YF=Bn(Ta),XF=na,pI=wv.concat([Cl("tag","textarea"),rs("scriptId"),rs("scriptUrl"),Mc("onFocus"),yi("settings",void 0,K0)]),JF=wv.concat([Cl("tag","textarea"),xi("init")]),QF=Zd(o=>os("customeditor.old",ta(JF),o).orThunk(()=>os("customeditor.new",ta(pI),o))),ez=na,bI=Bn(Ta),$A=fu(du),vI=o=>[Js,vh("columns"),o],xI=[Js,rs("html"),oc("presets","presentation",["presentation","document"]),Mr("onInit",ge),Ls("stretched",!1)],yI=Bn(xI),wI=Ta.concat([Ls("border",!1),Ls("sandboxed",!0),Ls("streamContent",!1),Ls("transparent",!0)]),VA=Bn(wI),tz=na,UA=Bn(wv.concat([xs("height")])),_v=Bn([rs("url"),jd("zoom"),jd("cachedWidth"),jd("cachedHeight")]),_I=Ta.concat([xs("inputMode"),xs("placeholder"),Ls("maximized",!1),Ou]),CI=Bn(_I),SI=na,nz=o=>[Js,kE,o,oc("align","start",["start","center","end"]),xs("for")],oz=[Au,Xb],cS=[Au,Pi("items",bh(0,()=>kI))],kI=Jf([Bn(oz),Bn(cS)]),rz=Ta.concat([Pi("items",kI),Ou]),EI=Bn(rz),AI=na,WA=Ta.concat([em("items",[Au,Xb]),As("size",1),Ou]),TI=Bn(WA),Tl=na,OI=Ta.concat([Ls("constrain",!0),Ou]),sz=Bn(OI),DI=Bn([rs("width"),rs("height")]),RI=wv.concat([kE,As("min",0),As("max",0)]),az=Bn(RI),iz=od,lz=[Js,Pi("header",na),Pi("cells",fu(na))],NI=Bn(lz),Vm=Ta.concat([xs("placeholder"),Ls("maximized",!1),Ou]),ZA=Bn(Vm),II=na,N2=[pu("type",["directory","leaf"]),EE,rs("id"),Es("menu",LN)],uS=Bn(N2),cz=N2.concat([Pi("children",bh(0,()=>hu("type",{directory:BI,leaf:uS})))]),BI=Bn(cz),uz=hu("type",{directory:BI,leaf:uS}),dz=[Js,Pi("items",uz),Mc("onLeafAction"),Mc("onToggleExpand"),lr("defaultExpandedIds",[],na),xs("defaultSelectedId")],fz=Bn(dz),mz=Ta.concat([oc("filetype","file",["image","media","file"]),Ou,xs("picker_text")]),gz=Bn(mz),MI=Bn([Xb,yc]),jA=o=>Ws("items","items",{tag:"required",process:{}},fu(Zd(a=>os(`Checking item of ${o}`,kd,a).fold(c=>_o.error(Mi(c)),c=>_o.value(c))))),kd=Xf(()=>{return hu("type",{alertbanner:FA,bar:Bn((o=jA("bar"),[Js,o])),button:HA,checkbox:WF,colorinput:qF,colorpicker:YF,dropzone:bI,grid:Bn(vI(jA("grid"))),iframe:VA,input:CI,listbox:EI,selectbox:TI,sizeinput:sz,slider:az,textarea:ZA,urlinput:gz,customeditor:QF,htmlpanel:yI,imagepreview:UA,collection:ZF,label:Bn(nz(jA("label"))),table:NI,tree:fz,panel:PI});var o}),dS=[Js,Xe("classes",[]),Pi("items",kd)],PI=Bn(dS),hz=[RE("tab"),EE,Pi("items",kd)],LI=[Js,em("tabs",hz)],FI=Bn(LI),KA=lS,fS=mI,I2=Bn([rs("title"),Sa("body",hu("type",{panel:PI,tabpanel:FI})),Cl("size","normal"),lr("buttons",[],fS),Xe("initialData",{}),Mr("onAction",ge),Mr("onChange",ge),Mr("onSubmit",ge),Mr("onClose",ge),Mr("onCancel",ge),Mr("onTabChange",ge)]),B2=Bn([pu("type",["cancel","custom"]),...KA]),zI=Bn([rs("title"),rs("url"),jd("height"),jd("width"),q0("buttons",B2),Mr("onAction",ge),Mr("onCancel",ge),Mr("onClose",ge),Mr("onMessage",ge)]),mS=o=>y(o)?[o].concat(jo(gi(o),mS)):L(o)?jo(o,mS):[],HI=o=>b(o.type)&&b(o.name),$I={checkbox:gI,colorinput:GF,colorpicker:XF,dropzone:$A,input:SI,iframe:tz,imagepreview:_v,selectbox:Tl,sizeinput:DI,slider:iz,listbox:AI,size:DI,textarea:II,urlinput:MI,customeditor:ez,collection:jF,togglemenuitem:R2},pz=o=>{const a=(u=>bo(mS(u),HI))(o),c=jo(a,u=>(h=>R.from($I[h.type]))(u).fold(()=>[],h=>[Sa(u.name,h)]));return Bn(c)},VI=o=>{var a;return{internalDialog:vi(os("dialog",I2,o)),dataValidator:pz(o),initialData:(a=o.initialData)!==null&&a!==void 0?a:{}}},_0={open:(o,a)=>{const c=VI(a);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,a)=>o(vi(os("dialog",zI,a))),redial:o=>VI(o)};var bz=Object.freeze({__proto__:null,events:(o,a)=>{const c=(u,h)=>{o.updateState.each(p=>{const w=p(u,h);a.set(w)}),o.renderComponents.each(p=>{const w=p(h,a.get());(o.reuseDom?Gk:Vb)(u,w)})};return Qn([pt(Ml(),(u,h)=>{const p=h;if(!p.universal){const w=o.channel;ot(p.channels,w)&&c(u,p.data)}}),Hr((u,h)=>{o.initialData.each(p=>{c(u,p)})})])}}),vz=Object.freeze({__proto__:null,getState:(o,a,c)=>c}),UI=[kt("channel"),Io("renderComponents"),Io("updateState"),Io("initialData"),Ls("reuseDom",!0)];const Zl=ma({fields:UI,name:"reflecting",active:bz,apis:vz,state:Object.freeze({__proto__:null,init:()=>{const o=An(R.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(R.none())}}})}),WI=o=>{const a=[],c={};return xn(o,(u,h)=>{u.fold(()=>{a.push(h)},p=>{c[h]=p})}),a.length>0?_o.error(a):_o.value(c)},ZI=(o,a,c,u)=>{const h=Qo(ap.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:vt(o.items,k=>zC(w,k,a,c,u))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[h.asSpec()]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ve(cv)}),(p=h,Ho.config({find:p.getOpt})),H3(h,{postprocess:w=>WI(w).fold(k=>(console.error(k),{}),Me)}),lo("dialog-body-panel",[pt(Go(),(w,k)=>{w.getSystem().broadcastOn([TC],{newFocus:R.some(k.event.target)})})])])};var p},xz=Kc({name:"TabButton",configFields:[Xe("uid",void 0),kt("value"),Ws("dom","dom",Po(()=>({attributes:{role:"tab",id:dn("aria"),"aria-selected":"false"}})),pl()),Io("action"),Xe("domModification",{}),fn("tabButtonBehaviours",[Zn,Sn,tt]),kt("view")],factory:(o,a)=>({uid:o.uid,dom:o.dom,components:o.components,events:V1(o.action),behaviours:io(o.tabButtonBehaviours,[Zn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0}),tt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),jI=ie([kt("tabs"),kt("dom"),Xe("clickToDismiss",!1),fn("tabbarBehaviours",[er,Sn]),Sg(["tabClass","selectedClass"])]),M2=Jw({factory:xz,name:"tabs",unit:"tab",overrides:o=>{const a=(u,h)=>{er.dehighlight(u,h),wn(u,Mt(),{tabbar:u,button:h})},c=(u,h)=>{er.highlight(u,h),wn(u,wh(),{tabbar:u,button:h})};return{action:u=>{const h=u.getSystem().getByUid(o.uid).getOrDie(),p=er.isHighlighted(h,u);(p&&o.clickToDismiss?a:p?ge:c)(h,u)},domModification:{classes:[o.markers.tabClass]}}}}),yz=ie([M2]),qA=bl({name:"Tabbar",configFields:jI(),partFields:yz(),factory:(o,a,c,u)=>({uid:o.uid,dom:o.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:io(o.tabbarBehaviours,[er.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(h,p)=>{Xt(p.element,"aria-selected","true")},onDehighlight:(h,p)=>{Xt(p.element,"aria-selected","false")}}),Sn.config({mode:"flow",getInitial:h=>er.getHighlighted(h).map(p=>p.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),wz=Kc({name:"Tabview",configFields:[fn("tabviewBehaviours",[Fn])],factory:(o,a)=>({uid:o.uid,dom:o.dom,behaviours:io(o.tabviewBehaviours,[Fn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),_z=ie([Xe("selectFirst",!0),Lo("onChangeTab"),Lo("onDismissTab"),Xe("tabs",[]),fn("tabSectionBehaviours",[])]),Cz=sl({factory:qA,schema:[kt("dom"),nc("markers",[kt("tabClass"),kt("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Sz=sl({factory:wz,name:"tabview"}),KI=ie([Cz,Sz]),Cv=bl({name:"TabSection",configFields:_z(),partFields:KI(),factory:(o,a,c,u)=>{const h=(p,w)=>{Tr(p,o,"tabbar").each(k=>{w(k).each(Jd)})};return{uid:o.uid,dom:o.dom,components:a,behaviours:Hn(o.tabSectionBehaviours),events:Qn(dr([o.selectFirst?[Hr((p,w)=>{h(p,er.getFirst)})]:[],[pt(wh(),(p,w)=>{(k=>{const E=tt.getValue(k);Tr(k,o,"tabview").each(O=>{J(o.tabs,M=>M.value===E).each(M=>{const I=M.view();No(k.element,"id").each(H=>{Xt(O.element,"aria-labelledby",H)}),Fn.set(O,I),o.onChangeTab(O,k,I)})})})(w.event.button)}),pt(Mt(),(p,w)=>{const k=w.event.button;o.onDismissTab(p,k)})]])),apis:{getViewItems:p=>Tr(p,o,"tabview").map(w=>Fn.contents(w)).getOr([]),showTab:(p,w)=>{h(p,k=>{const E=er.getCandidates(k);return J(E,O=>tt.getValue(O)===w).filter(O=>!er.isHighlighted(k,O))})}}}},apis:{getViewItems:(o,a)=>o.getViewItems(a),showTab:(o,a,c)=>{o.showTab(a,c)}}}),GA=(o,a)=>{Xn(o,"height",a+"px"),Xn(o,"flex-basis",a+"px")},Sv=(o,a,c)=>{fm(o,'[role="dialog"]').each(u=>{jr(u,'[role="tablist"]').each(h=>{c.get().map(p=>(Xn(a,"height","0"),Xn(a,"flex-basis","0"),Math.min(p,((w,k,E)=>{const O=Ri(w).dom,M=fm(w,".tox-dialog-wrap").getOr(w);let I;I=ns(M,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=us(k),K=k.dom.offsetLeft>=E.dom.offsetLeft+ca(E)?Math.max(us(E),H):H,Y=parseInt(ns(w,"margin-top"),10)||0,re=parseInt(ns(w,"margin-bottom"),10)||0;return I-(us(w)+Y+re-K)})(u,a,h)))).each(p=>{GA(a,p)})})})},Ef=o=>jr(o,'[role="tabpanel"]'),gS="send-data-to-section",YA="send-data-to-view",qI=(o,a,c,u)=>{const h=An({}),p=M=>{const I=tt.getValue(M),H=WI(I).getOr({}),K=h.get(),Y=mr(K,H);h.set(Y)},w=M=>{const I=h.get();tt.setValue(M,I)},k=An(null),E=vt(o.tabs,M=>({value:M.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ys(c.shared.providers.translate(M.title))],view:()=>[ap.sketch(I=>({dom:{tag:"div",classes:["tox-form"]},components:vt(M.items,H=>zC(I,H,a,c,u)),formBehaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ve(cv)}),lo("TabView.form.events",[Hr(w),xu(p)]),ol.config({channels:rd([{key:gS,value:{onReceive:p}},{key:YA,value:{onReceive:w}}])})])}))]})),O=(M=>{const I=rr();return{extraEvents:[Hr(K=>{const Y=K.element;Ef(Y).each(re=>{Xn(re,"visibility","hidden"),K.getSystem().getByDom(re).toOptional().each(ce=>{const pe=((se,fe,be)=>vt(se,(we,Fe)=>{Fn.set(be,se[Fe].view());const qe=fe.dom.getBoundingClientRect();return Fn.set(be,[]),qe.height}))(M,re,ce);(se=>$t(me(se,(fe,be)=>fe>be?-1:fe<be?1:0)))(pe).fold(I.clear,I.set)}),Sv(Y,re,I),Jo(re,"visibility"),((ce,pe)=>{$t(ce).each(ae=>Cv.showTab(pe,ae.value))})(M,K),requestAnimationFrame(()=>{Sv(Y,re,I)})})}),pt(Gd(),K=>{const Y=K.element;Ef(Y).each(re=>{Sv(Y,re,I)})}),pt(rC,(K,Y)=>{const re=K.element;Ef(re).each(ce=>{const pe=Vc(nt(ce));Xn(ce,"visibility","hidden");const ae=Ss(ce,"height").map(fe=>parseInt(fe,10));Jo(ce,"height"),Jo(ce,"flex-basis");const se=ce.dom.getBoundingClientRect().height;ae.forall(fe=>se>fe)?(I.set(se),Sv(re,ce,I)):ae.each(fe=>{GA(ce,fe)}),Jo(ce,"visibility"),pe.each(_i)})})],selectFirst:!1}})(E);return Cv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(M,I,H)=>{const K=tt.getValue(I);wn(M,iR,{name:K,oldName:k.get()}),k.set(K)},tabs:E,components:[Cv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qA.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Lt([Sr.config({})])}),Cv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Lt([lo("tabpanel",O.extraEvents),Sn.config({mode:"acyclic"}),Ho.config({find:M=>$t(Cv.getViewItems(M))}),u0(R.none(),M=>(M.getSystem().broadcastOn([gS],{}),h.get()),(M,I)=>{h.set(I),M.getSystem().broadcastOn([YA],{})})])})},hS=(o,a,c,u,h,p)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(w=>({id:w})).getOr({}),...h?{"aria-live":"polite"}:{}}},components:[],behaviours:Lt([F3(0),Zl.config({channel:`${LR}-${a}`,updateState:(w,k)=>R.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[qI(k,w.initialData,u,p)]:[ZI(k,w.initialData,u,p)]},initialData:o})])}),GI=xf.deviceType.isTouch(),P2=(o,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,a]}),XA=(o,a)=>ps.parts.close(ki.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:o,buttonBehaviours:Lt([Sr.config({})])})),JA=()=>ps.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),YI=(o,a)=>ps.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Am(`<p>${z5(a.translate(o))}</p>`)}]}]}),XI=o=>ps.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),JI=(o,a)=>[yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],QA=o=>{const a="tox-dialog",c=a+"-wrap",u=c+"__backdrop",h=a+"__disable-scroll";return ps.sketch({lazySink:o.lazySink,onEscape:p=>(o.onEscape(p),R.some(!0)),useTabstopAt:p=>!cv(p),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[a].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Am(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:GI?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:c,modalBehaviours:Lt([Zn.config({}),lo("dialog-events",o.dialogEvents.concat([Qd(Go(),(p,w)=>{Pu.isBlocked(p)||Sn.focusIn(p)}),pt(Y0(),(p,w)=>{p.getSystem().broadcastOn([TC],{newFocus:w.event.newFocus})})])),lo("scroll-lock",[Hr(()=>{as(un(),h)}),xu(()=>{ms(un(),h)})]),...o.extraBehaviours]),eventOrder:{[el()]:["dialog-events"],[Wa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[sc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},QI=o=>ki.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Lt([Sr.config({}),Hs.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[xc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:a=>{fo(a,Gg)}}),eT=(o,a,c,u)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(h=>({id:h})).getOr({})}},components:[],behaviours:Lt([Zl.config({channel:`${q3}-${a}`,initialData:o,renderComponents:h=>[ys(u.translate(h.title))]})])}),tT=()=>({dom:Am('<div class="tox-dialog__draghandle"></div>')}),e8=(o,a,c)=>((u,h,p)=>{const w=ps.parts.title(eT(u,h,R.none(),p)),k=ps.parts.draghandle(tT()),E=ps.parts.close(QI(p)),O=[w].concat(u.draggable?[k]:[]).concat([E]);return yd.sketch({dom:Am('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},a,c.shared.providers),t8=(o,a,c,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:Am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),n8=(o,a,c)=>({onClose:()=>c.closeWindow(),onBlock:u=>{const h=jr(o().element,".tox-dialog__header").map(p=>us(p));ps.setBusy(o(),(p,w)=>t8(u.message,w,a,h))},onUnblock:()=>{ps.setIdle(o())}}),L2="tox-dialog--fullscreen",nT="tox-dialog--width-lg",oT="tox-dialog--width-md",F2=o=>{switch(o){case"large":return R.some(nT);case"medium":return R.some(oT);default:return R.none()}},rT=(o,a)=>{const c=Qt(a.element.dom);Li(c,L2)||(Ll(c,[nT,oT]),F2(o).each(u=>as(c,u)))},o8=(o,a)=>{const c=Qt(o.element.dom),u=id(c),h=J(u,p=>p===nT||p===oT).or(F2(a));((p,w)=>{jt(w,k=>{((E,O)=>{xg(E)?E.dom.classList.toggle(O):((M,I)=>ot(Jp(M),I)?gx(M,I):Q0(M,I))(E,O),Qp(E)})(p,k)})})(c,[L2,...h.toArray()])},r8=(o,a,c)=>Ea(QA({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[c2({}),...o.extraBehaviours],onEscape:u=>{fo(u,Gg)},dialogEvents:a,eventOrder:{[Ml()]:[Zl.name(),ol.name()],[Wa()]:["scroll-lock",Zl.name(),"messages","dialog-events","alloy.base.behaviour"],[sc()]:["alloy.base.behaviour","dialog-events","messages",Zl.name(),"scroll-lock"]}})),z2=(o,a={})=>vt(o,c=>c.type==="menu"?(u=>{const h=vt(u.items,p=>{const w=ln(a,p.name).getOr(An(!1));return{...p,storage:w}});return{...u,items:h}})(c):c),s8=o=>Mn(o,(a,c)=>c.type==="menu"?Mn(c.items,(u,h)=>(u[h.name]=h.storage,u),a):a,{}),sT=(o,a)=>[vg(Go(),BP),o(op,(c,u,h,p)=>{Vc(nt(p.element)).fold(ge,hb),a.onClose(),u.onClose()}),o(Gg,(c,u,h,p)=>{u.onCancel(c),fo(p,op)}),pt(g3,(c,u)=>a.onUnblock()),pt(m3,(c,u)=>a.onBlock(u.event))],a8=(o,a,c)=>{const u=(p,w)=>pt(p,(k,E)=>{h(k,(O,M)=>{w(o(),O,E.event,k)})}),h=(p,w)=>{Zl.getState(p).get().each(k=>{w(k.internalDialog,p)})};return[...sT(u,a),u(r2,(p,w)=>w.onSubmit(p)),u(Ui,(p,w,k)=>{w.onChange(p,{name:k.name})}),u(Sf,(p,w,k,E)=>{const O=()=>E.getSystem().isConnected()?Sn.focusIn(E):void 0,M=K=>cs(K,"disabled")||No(K,"aria-disabled").exists(Y=>Y==="true"),I=nt(E.element),H=Vc(I);w.onAction(p,{name:k.name,value:k.value}),Vc(I).fold(O,K=>{M(K)||H.exists(Y=>vs(K,Y)&&M(Y))?O():c().toOptional().filter(Y=>!vs(Y.element,K)).each(O)})}),u(iR,(p,w,k)=>{w.onTabChange(p,{newTabName:k.name,oldTabName:k.oldName})}),xu(p=>{const w=o();tt.setValue(p,w.getData())})]},kz=(o,a)=>{const c=a.map(p=>p.footerButtons).getOr([]),u=bs(c,p=>p.align==="start"),h=(p,w)=>yd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${p}`]},components:vt(w,k=>k.memento.asSpec())});return[h("start",u.pass),h("end",u.fail)]},i8=(o,a,c)=>({dom:Am('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Lt([Zl.config({channel:`${FR}-${a}`,initialData:o,updateState:(u,h)=>{const p=vt(h.buttons,w=>{const k=Qo(((E,O)=>fv(E,E.type,O))(w,c));return{name:w.name,align:w.align,memento:k}});return R.some({lookupByName:w=>((k,E,O)=>J(E,M=>M.name===O).bind(M=>M.memento.getOpt(k)))(u,p,w),footerButtons:p})},renderComponents:kz})])}),aT=(o,a,c)=>ps.parts.footer(i8(o,a,c)),H2=(o,a)=>{if(o.getRoot().getSystem().isConnected()){const c=Ho.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return ap.getField(c,a).orThunk(()=>o.getFooter().bind(h=>Zl.getState(h).get()).bind(h=>h.lookupByName(a)))}return R.none()},l8=(o,a,c)=>{const u=p=>{const w=o.getRoot();w.getSystem().isConnected()&&p(w)},h={getData:()=>{const p=o.getRoot(),w=p.getSystem().isConnected()?o.getFormWrapper():p;return{...tt.getValue(w),...Cn(c,k=>k.get())}},setData:p=>{u(w=>{const k=h.getData(),E=mr(k,p),O=((I,H)=>{const K=I.getRoot();return Zl.getState(K).get().map(Y=>vi(os("data",Y.dataValidator,H))).getOr(H)})(o,E),M=o.getFormWrapper();tt.setValue(M,O),xn(c,(I,H)=>{mo(E,H)&&I.set(E[H])})})},setEnabled:(p,w)=>{H2(o,p).each(w?Kn.enable:Kn.disable)},focus:p=>{H2(o,p).each(Zn.focus)},block:p=>{if(!b(p))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(w=>{wn(w,m3,{message:p})})},unblock:()=>{u(p=>{fo(p,g3)})},showTab:p=>{u(w=>{const k=o.getBody();Zl.getState(k).get().exists(E=>E.isTabPanel())&&Ho.getCurrent(k).each(E=>{Cv.showTab(E,p)})})},redial:p=>{u(w=>{const k=o.getId(),E=a(p),O=z2(E.internalDialog.buttons,c);w.getSystem().broadcastOn([`${ip}-${k}`],E),w.getSystem().broadcastOn([`${q3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${LR}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${FR}-${k}`],{...E.internalDialog,buttons:O}),h.setData(E.initialData)})},close:()=>{u(p=>{fo(p,op)})},toggleFullscreen:o.toggleFullscreen};return h},c8=(o,a,c,u=!1,h)=>{const p=dn("dialog"),w=dn("dialog-label"),k=dn("dialog-content"),E=o.internalDialog,O=An(E.size),M=F2(O.get()).toArray(),I=Qo(((be,we,Fe,qe)=>yd.sketch({dom:Am('<div class="tox-dialog__header"></div>'),components:[eT(be,we,R.some(Fe),qe),tT(),QI(qe)],containerBehaviours:Lt([w0.config({mode:"mouse",blockerClass:"blocker",getTarget:wt=>wu(wt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},p,w,c.shared.providers)),H=Qo(((be,we,Fe,qe,wt,ht)=>hS(be,we,R.some(Fe),qe,wt,ht))({body:E.body,initialData:E.initialData},p,k,c,u,be=>H2(se,be))),K=z2(E.buttons),Y=s8(K),re=Vo(K.length!==0,Qo(((be,we,Fe)=>i8(be,we,Fe))({buttons:K},p,c))),ce=a8(()=>fe,{onBlock:be=>{Pu.block(ae,(we,Fe)=>{const qe=I.getOpt(ae).map(wt=>us(wt.element));return t8(be.message,Fe,c.shared.providers,qe)})},onUnblock:()=>{Pu.unblock(ae)},onClose:()=>a.closeWindow()},c.shared.getSink),pe=za().os,ae=Ea({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...M],attributes:{role:"dialog",...pe.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[Ml()]:[Zl.name(),ol.name()],[el()]:["execute-on-form"],[Wa()]:["reflecting","execute-on-form"]},behaviours:Lt([Sn.config({mode:"cyclic",onEscape:be=>(fo(be,op),R.some(!0)),useTabstopAt:be=>!cv(be)&&(Di(be)!=="button"||yo(be,"disabled")!=="disabled"),firstTabstop:1}),Zl.config({channel:`${ip}-${p}`,updateState:(be,we)=>(O.set(we.internalDialog.size),rT(we.internalDialog.size,be),h(),R.some(we)),initialData:o}),Zn.config({}),lo("execute-on-form",ce.concat([Qd(Go(),(be,we)=>{Sn.focusIn(be)}),pt(Y0(),(be,we)=>{be.getSystem().broadcastOn([TC],{newFocus:we.event.newFocus})})])),Pu.config({getRoot:()=>R.some(ae)}),Fn.config({}),c2({})]),components:[I.asSpec(),H.asSpec(),...re.map(be=>be.asSpec()).toArray()]}),se={getId:ie(p),getRoot:ie(ae),getFooter:()=>re.map(be=>be.get(ae)),getBody:()=>H.get(ae),getFormWrapper:()=>{const be=H.get(ae);return Ho.getCurrent(be).getOr(be)},toggleFullscreen:()=>{o8(ae,O.get())}},fe=l8(se,a.redial,Y);return{dialog:ae,instanceApi:fe}};var iT=tinymce.util.Tools.resolve("tinymce.util.URI");const Ez=["insertContent","setContent","execCommand","close","block","unblock"],lT=o=>y(o)&&Ez.indexOf(o.mceAction)!==-1,Az=(o,a,c,u)=>{const h=dn("dialog"),p=e8(o.title,h,u),w=(pe=>{const ae={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[j3(R.none(),{dom:{tag:"iframe",attributes:{src:pe.url}},behaviours:Lt([Sr.config({}),Zn.config({})])})]}],behaviours:Lt([Sn.config({mode:"acyclic",useTabstopAt:Ve(cv)})])};return ps.parts.body(ae)})(o),k=o.buttons.bind(pe=>pe.length===0?R.none():R.some(aT({buttons:pe},h,u))),E=((pe,ae)=>{const se=(be,we)=>pt(be,(Fe,qe)=>{fe(Fe,(wt,ht)=>{we(ce,wt,qe.event,Fe)})}),fe=(be,we)=>{Zl.getState(be).get().each(Fe=>{we(Fe,be)})};return[...sT(se,ae),se(Sf,(be,we,Fe)=>{we.onAction(be,{name:Fe.name})})]})(0,n8(()=>re,u.shared.providers,a)),O={...o.height.fold(()=>({}),pe=>({height:pe+"px","max-height":pe+"px"})),...o.width.fold(()=>({}),pe=>({width:pe+"px","max-width":pe+"px"}))},M=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],I=new iT(o.url,{base_uri:new iT(window.location.href)}),H=`${I.protocol}://${I.host}${I.port?":"+I.port:""}`,K=tc(),Y=[Zl.config({channel:`${ip}-${h}`,updateState:(pe,ae)=>R.some(ae),initialData:o}),lo("messages",[Hr(()=>{const pe=Ci(Qt(window),"message",ae=>{if(I.isSameOrigin(new iT(ae.raw.origin))){const se=ae.raw.data;lT(se)?((fe,be,we)=>{switch(we.mceAction){case"insertContent":fe.insertContent(we.content);break;case"setContent":fe.setContent(we.content);break;case"execCommand":const Fe=!!D(we.ui)&&we.ui;fe.execCommand(we.cmd,Fe,we.value);break;case"close":be.close();break;case"block":be.block(we.message);break;case"unblock":be.unblock()}})(c,ce,se):(fe=>!lT(fe)&&y(fe)&&mo(fe,"mceAction"))(se)&&o.onMessage(ce,se)}});K.set(pe)}),xu(K.clear)]),ol.config({channels:{[G3]:{onReceive:(pe,ae)=>{jr(pe.element,"iframe").each(se=>{const fe=se.dom.contentWindow;U(fe)&&fe.postMessage(ae,H)})}}}})],re=r8({id:h,header:p,body:w,footer:k,extraClasses:M,extraBehaviours:Y,extraStyles:O},E,u),ce=(pe=>{const ae=se=>{pe.getSystem().isConnected()&&se(pe)};return{block:se=>{if(!b(se))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ae(fe=>{wn(fe,m3,{message:se})})},unblock:()=>{ae(se=>{fo(se,g3)})},close:()=>{ae(se=>{fo(se,op)})},sendMessage:se=>{ae(fe=>{fe.getSystem().broadcastOn([G3],se)})}}})(re);return{dialog:re,instanceApi:ce}},cT=(o,a)=>vi(os("data",a,o)),u8=o=>av(o,".tox-alert-dialog")||av(o,".tox-confirm-dialog"),Tz=(o,a,c)=>a&&c?[]:[Zr.config({contextual:{lazyContext:()=>R.some(Us(Qt(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>jh(o,u.element).map(h=>({bounds:Kh(h),optScrollEnv:R.some({currentScrollTop:h.element.dom.scrollTop,scrollElmTop:gl(h.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})],Oz=o=>{const a=o.editor,c=Ug(a),u=(E=>{const O=E.shared;return{open:(M,I)=>{const H=()=>{ps.hide(ce),I()},K=Qo(fv({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",E)),Y=JA(),re=XA(H,O.providers),ce=Ea(QA({lazySink:()=>O.getSink(),header:P2(Y,re),body:YI(M,O.providers),footer:R.some(XI(JI([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[pt(Gg,H)],eventOrder:{}}));ps.show(ce);const pe=K.get(ce);Zn.focus(pe)}}})(o.backstages.dialog),h=(E=>{const O=E.shared;return{open:(M,I)=>{const H=se=>{ps.hide(pe),I(se)},K=Qo(fv({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",E)),Y=fv({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",E),re=JA(),ce=XA(()=>H(!1),O.providers),pe=Ea(QA({lazySink:()=>O.getSink(),header:P2(re,ce),body:YI(M,O.providers),footer:R.some(XI(JI([],[Y,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[pt(Gg,()=>H(!1)),pt(r2,()=>H(!0))],eventOrder:{}}));ps.show(pe);const ae=K.get(pe);Zn.focus(ae)}}})(o.backstages.dialog),p=(E,O)=>_0.open((M,I,H)=>{const K=I,Y=((re,ce,pe)=>{const ae=dn("dialog"),se=re.internalDialog,fe=e8(se.title,ae,pe),be=An(se.size),we=F2(be.get()).toArray(),Fe=((qn,Co,Lr,Kr)=>{const uo=hS(qn,Co,R.none(),Lr,!1,Kr);return ps.parts.body(uo)})({body:se.body,initialData:se.initialData},ae,pe,qn=>H2(hn,qn)),qe=z2(se.buttons),wt=s8(qe),ht=Vo(qe.length!==0,aT({buttons:qe},ae,pe)),ft=a8(()=>Rn,n8(()=>sn,pe.shared.providers,ce),pe.shared.getSink),Bt={id:ae,header:fe,body:Fe,footer:ht,extraClasses:we,extraBehaviours:[Zl.config({channel:`${ip}-${ae}`,updateState:(qn,Co)=>(be.set(Co.internalDialog.size),rT(Co.internalDialog.size,qn),R.some(Co)),initialData:re})],extraStyles:{}},sn=r8(Bt,ft,pe),hn={getId:ie(ae),getRoot:ie(sn),getBody:()=>ps.getBody(sn),getFooter:()=>ps.getFooter(sn),getFormWrapper:()=>{const qn=ps.getBody(sn);return Ho.getCurrent(qn).getOr(qn)},toggleFullscreen:()=>{o8(sn,be.get())}},Rn=l8(hn,ce.redial,wt);return{dialog:sn,instanceApi:Rn}})({dataValidator:H,initialData:K,internalDialog:M},{redial:_0.redial,closeWindow:()=>{ps.hide(Y.dialog),O(Y.instanceApi)}},o.backstages.dialog);return ps.show(Y.dialog),Y.instanceApi.setData(K),Y.instanceApi},E),w=(E,O,M,I)=>_0.open((H,K,Y)=>{const re=cT(K,Y),ce=rr(),pe=o.backstages.popup.shared.header.isPositionedAtTop(),ae=()=>ce.on(be=>{Jr.reposition(be),c&&pe||Zr.refresh(be)}),se=c8({dataValidator:Y,initialData:re,internalDialog:H},{redial:_0.redial,closeWindow:()=>{ce.on(Jr.hide),a.off("ResizeEditor",ae),ce.clear(),M(se.instanceApi)}},o.backstages.popup,I.ariaAttrs,ae),fe=Ea(Jr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:I.persistent?{event:"doNotDismissYet"}:{},...pe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Lt([lo("window-manager-inline-events",[pt(bg(),(be,we)=>{fo(se.dialog,Gg)})]),...Tz(a,c,pe)]),isExtraPart:(be,we)=>u8(we)}));return ce.set(fe),Jr.showWithinBounds(fe,Fi(se.dialog),{anchor:O},()=>{const be=a.inline?un():Qt(a.getContainer()),we=Us(be);return R.some(we)}),c&&pe||(Zr.refresh(fe),a.on("ResizeEditor",ae)),se.instanceApi.setData(re),Sn.focusIn(se.dialog),se.instanceApi},E),k=(E,O,M,I)=>_0.open((H,K,Y)=>{const re=cT(K,Y),ce=rr(),pe=o.backstages.popup.shared.header.isPositionedAtTop(),ae=()=>ce.on(be=>{Jr.reposition(be),Zr.refresh(be)}),se=c8({dataValidator:Y,initialData:re,internalDialog:H},{redial:_0.redial,closeWindow:()=>{ce.on(Jr.hide),a.off("ResizeEditor ScrollWindow ElementScroll",ae),ce.clear(),M(se.instanceApi)}},o.backstages.popup,I.ariaAttrs,ae),fe=Ea(Jr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:I.persistent?{event:"doNotDismissYet"}:{},...pe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Lt([lo("window-manager-inline-events",[pt(bg(),(be,we)=>{fo(se.dialog,Gg)})]),Zr.config({contextual:{lazyContext:()=>R.some(Us(Qt(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:be=>jh(a,be.element).map(we=>({bounds:Kh(we),optScrollEnv:R.some({currentScrollTop:we.element.dom.scrollTop,scrollElmTop:gl(we.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})]),isExtraPart:(be,we)=>u8(we)}));return ce.set(fe),Jr.showWithinBounds(fe,Fi(se.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(be=>{const we=jh(a,be.element).map(wt=>Kh(wt)).getOr(_a()),Fe=Us(Qt(a.getContentAreaContainer())),qe=ed(Fe,we);return R.some(go(qe.x,qe.y,qe.width,qe.height-15))})),Zr.refresh(fe),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ae),se.instanceApi.setData(re),Sn.focusIn(se.dialog),se.instanceApi},E);return{open:(E,O,M)=>{if(!z(O)){if(O.inline==="toolbar")return w(E,o.backstages.popup.shared.anchors.inlineDialog(),M,O);if(O.inline==="bottom")return k(E,o.backstages.popup.shared.anchors.inlineBottomDialog(),M,O);if(O.inline==="cursor")return w(E,o.backstages.popup.shared.anchors.cursor(),M,O)}return p(E,M)},openUrl:(E,O)=>((M,I)=>_0.openUrl(H=>{const K=Az(H,{closeWindow:()=>{ps.hide(K.dialog),I(K.instanceApi)}},a,o.backstages.dialog);return ps.show(K.dialog),K.instanceApi},M))(E,O),alert:(E,O)=>{u.open(E,O)},close:E=>{E.close()},confirm:(E,O)=>{h.open(E,O)}}};hh.add("silver",o=>{(k=>{p5(k),(E=>{const O=E.options.register,M=H=>ye(H,b)?{value:G7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},I=H=>ee(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:M,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:M}),O("color_map_foreground",{processor:M}),O("color_cols",{processor:I,default:Y_(E)}),O("color_cols_foreground",{processor:I,default:FD(E,jE)}),O("color_cols_background",{processor:I,default:FD(E,KE)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:Xy}),O("color_default_background",{processor:"string",default:Xy})})(k),(E=>{const O=E.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:M=>M===!1?{value:[],valid:!0}:b(M)||ye(M,b)?{value:I6(M),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(o);let a=()=>_a();const{dialogs:c,popups:u,renderUI:h}=LF(o,{getPopupSinkBounds:()=>a()});oR(o,u.backstage.shared);const p=Oz({editor:o,backstages:{popup:u.backstage,dialog:c.backstage}}),w=rr();return{renderUI:()=>{const k=h();return jh(o,u.getMothership().element).each(E=>{a=()=>Kh(E)}),k},getWindowManagerImpl:ie(p),getNotificationManagerImpl:()=>U5(o,{backstage:u.backstage},u.getMothership(),w)}})})();(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=v=>C=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&($=V=T,(Q=String).prototype.isPrototypeOf($)||((ne=V.constructor)===null||ne===void 0?void 0:ne.name)===Q.name)?"string":B;var $,V,Q,ne})(C)===v,d=v=>C=>typeof C===v,m=v=>C=>v===C,x=i("string"),b=i("object"),y=i("array"),S=m(null),L=d("boolean"),P=m(void 0),D=v=>!(C=>C==null)(v),z=d("function"),W=d("number"),U=()=>{},G=v=>()=>v,ee=v=>v,ye=(v,C)=>v===C;function ge(v,...C){return(...T)=>{const B=C.concat(T);return v.apply(null,B)}}const Le=v=>C=>!v(C),Be=v=>v(),ie=G(!1),Me=G(!0);class oe{constructor(C,T){this.tag=C,this.value=T}static some(C){return new oe(!0,C)}static none(){return oe.singletonNone}fold(C,T){return this.tag?T(this.value):C()}isSome(){return this.tag}isNone(){return!this.tag}map(C){return this.tag?oe.some(C(this.value)):oe.none()}bind(C){return this.tag?C(this.value):oe.none()}exists(C){return this.tag&&C(this.value)}forall(C){return!this.tag||C(this.value)}filter(C){return!this.tag||C(this.value)?this:oe.none()}getOr(C){return this.tag?this.value:C}or(C){return this.tag?this:C}getOrThunk(C){return this.tag?this.value:C()}orThunk(C){return this.tag?this:C()}getOrDie(C){if(this.tag)return this.value;throw new Error(C??"Called getOrDie on None")}static from(C){return D(C)?oe.some(C):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(C){this.tag&&C(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Je=Array.prototype.slice,Ve=Array.prototype.indexOf,Ye=Array.prototype.push,mt=(v,C)=>{return T=v,B=C,Ve.call(T,B)>-1;var T,B},Ee=(v,C)=>{for(let T=0,B=v.length;T<B;T++)if(C(v[T],T))return!0;return!1},Ne=(v,C)=>{const T=[];for(let B=0;B<v;B++)T.push(C(B));return T},R=(v,C)=>{const T=v.length,B=new Array(T);for(let $=0;$<T;$++){const V=v[$];B[$]=C(V,$)}return B},Nt=(v,C)=>{for(let T=0,B=v.length;T<B;T++)C(v[T],T)},Jt=(v,C)=>{const T=[],B=[];for(let $=0,V=v.length;$<V;$++){const Q=v[$];(C(Q,$)?T:B).push(Q)}return{pass:T,fail:B}},pn=(v,C)=>{const T=[];for(let B=0,$=v.length;B<$;B++){const V=v[B];C(V,B)&&T.push(V)}return T},Tn=(v,C,T)=>(((B,$)=>{for(let V=B.length-1;V>=0;V--)$(B[V],V)})(v,(B,$)=>{T=C(T,B,$)}),T),ot=(v,C,T)=>(Nt(v,(B,$)=>{T=C(T,B,$)}),T),Vn=(v,C)=>((T,B,$)=>{for(let V=0,Q=T.length;V<Q;V++){const ne=T[V];if(B(ne,V))return oe.some(ne);if($(ne,V))break}return oe.none()})(v,C,ie),Nr=(v,C)=>{for(let T=0,B=v.length;T<B;T++)if(C(v[T],T))return oe.some(T);return oe.none()},yt=v=>{const C=[];for(let T=0,B=v.length;T<B;++T){if(!y(v[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+v);Ye.apply(C,v[T])}return C},vt=(v,C)=>yt(R(v,C)),jt=(v,C)=>{for(let T=0,B=v.length;T<B;++T)if(C(v[T],T)!==!0)return!1;return!0},bs=(v,C)=>{const T={};for(let B=0,$=v.length;B<$;B++){const V=v[B];T[String(V)]=C(V,B)}return T},bo=(v,C)=>C>=0&&C<v.length?oe.some(v[C]):oe.none(),En=v=>bo(v,0),Mn=v=>bo(v,v.length-1),J=(v,C)=>{for(let T=0;T<v.length;T++){const B=C(v[T],T);if(B.isSome())return B}return oe.none()},nr=Object.keys,dr=Object.hasOwnProperty,jo=(v,C)=>{const T=nr(v);for(let B=0,$=T.length;B<$;B++){const V=T[B];C(v[V],V)}},ei=(v,C)=>Ze(v,(T,B)=>({k:B,v:C(T,B)})),Ze=(v,C)=>{const T={};return jo(v,(B,$)=>{const V=C(B,$);T[V.k]=V.v}),T},le=(v,C)=>{const T=[];return jo(v,(B,$)=>{T.push(C(B,$))}),T},ve=v=>le(v,ee),Ie=(v,C)=>dr.call(v,C),me=typeof window<"u"?window:Function("return this;")(),_t=(v,C)=>((T,B)=>{let $=B??me;for(let V=0;V<T.length&&$!=null;++V)$=$[T[V]];return $})(v.split("."),C),$t=Object.getPrototypeOf,xt=v=>{const C=_t("ownerDocument.defaultView",v);return b(v)&&((T=>((B,$)=>{const V=((Q,ne)=>_t(Q,ne))(B,$);if(V==null)throw new Error(B+" not available on this browser");return V})("HTMLElement",T))(C).prototype.isPrototypeOf(v)||/^HTML\w*Element$/.test($t(v).constructor.name))},Ft=v=>v.dom.nodeName.toLowerCase(),It=v=>v.dom.nodeType,on=v=>C=>It(C)===v,vn=v=>It(v)===8||Ft(v)==="#comment",xn=v=>Cn(v)&&xt(v.dom),Cn=on(1),ro=on(3),po=on(9),Eo=on(11),Oo=v=>C=>Cn(C)&&Ft(C)===v,Cs=(v,C,T)=>{if(!(x(T)||L(T)||W(T)))throw console.error("Invalid call to Attribute.set. Key ",C,":: Value ",T,":: Element ",v),new Error("Attribute value was not simple");v.setAttribute(C,T+"")},ar=(v,C,T)=>{Cs(v.dom,C,T)},gi=(v,C)=>{const T=v.dom;jo(C,(B,$)=>{Cs(T,$,B)})},ln=(v,C)=>{const T=v.dom.getAttribute(C);return T===null?void 0:T},mo=(v,C)=>oe.from(ln(v,C)),so=(v,C)=>{v.dom.removeAttribute(C)},zr=v=>ot(v.dom.attributes,(C,T)=>(C[T.name]=T.value,C),{}),Ba=v=>{if(v==null)throw new Error("Node cannot be null or undefined");return{dom:v}},Ht={fromHtml:(v,C)=>{const T=(C||document).createElement("div");if(T.innerHTML=v,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,v),new Error(B)}return Ba(T.childNodes[0])},fromTag:(v,C)=>{const T=(C||document).createElement(v);return Ba(T)},fromText:(v,C)=>{const T=(C||document).createTextNode(v);return Ba(T)},fromDom:Ba,fromPoint:(v,C,T)=>oe.from(v.dom.elementFromPoint(C,T)).map(Ba)},qs=(v,C)=>{const T=v.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(C);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(C);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(C);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(C);throw new Error("Browser lacks native selectors")}},Vo=v=>v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11||v.childElementCount===0,wl=(v,C)=>{const T=C===void 0?document:C.dom;return Vo(T)?oe.none():oe.from(T.querySelector(v)).map(Ht.fromDom)},yr=(v,C)=>v.dom===C.dom,Ps=(v,C)=>{const T=v.dom,B=C.dom;return T!==B&&T.contains(B)},Vf=qs,ou=v=>Ht.fromDom(v.dom.ownerDocument),Jl=v=>po(v)?v:ou(v),qi=v=>oe.from(v.dom.parentNode).map(Ht.fromDom),ru=v=>oe.from(v.dom.parentElement).map(Ht.fromDom),ir=(v,C)=>{const T=z(C)?C:ie;let B=v.dom;const $=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const V=B.parentNode,Q=Ht.fromDom(V);if($.push(Q),T(Q)===!0)break;B=V}return $},Gn=v=>oe.from(v.dom.previousSibling).map(Ht.fromDom),_l=v=>oe.from(v.dom.nextSibling).map(Ht.fromDom),la=v=>R(v.dom.childNodes,Ht.fromDom),su=(v,C)=>{const T=v.dom.childNodes;return oe.from(T[C]).map(Ht.fromDom)},Qt=(v,C)=>{qi(v).each(T=>{T.dom.insertBefore(C.dom,v.dom)})},au=(v,C)=>{_l(v).fold(()=>{qi(v).each(T=>{Yr(T,C)})},T=>{Qt(T,C)})},Uf=(v,C)=>{(B=>su(B,0))(v).fold(()=>{Yr(v,C)},B=>{v.dom.insertBefore(C.dom,B.dom)})},Yr=(v,C)=>{v.dom.appendChild(C.dom)},Wf=(v,C)=>{Qt(v,C),Yr(C,v)},Di=(v,C)=>{Nt(C,(T,B)=>{const $=B===0?v:C[B-1];au($,T)})},ul=(v,C)=>{Nt(C,T=>{Yr(v,T)})},Gi=v=>{v.dom.textContent="",Nt(la(v),C=>{Vr(C)})},Vr=v=>{const C=v.dom;C.parentNode!==null&&C.parentNode.removeChild(C)},ti=v=>{const C=la(v);C.length>0&&Di(v,C),Vr(v)},dl=(v,C)=>Ht.fromDom(v.dom.cloneNode(C)),Zf=v=>dl(v,!1),Sc=v=>dl(v,!0),kc=(v,C)=>{const T=Ht.fromTag(C),B=zr(v);return gi(T,B),T},Md=["tfoot","thead","tbody","colgroup"],Gu=(v,C,T)=>({element:v,rowspan:C,colspan:T}),Uo=(v,C,T)=>({element:v,cells:C,section:T}),vs=(v,C,T)=>({element:v,isNew:C,isLocked:T}),Vs=(v,C,T,B)=>({element:v,cells:C,section:T,isNew:B}),jf=v=>Ht.fromDom(v.dom.host),Ri=v=>{const C=ro(v)?v.dom.parentNode:v.dom;if(C==null||C.ownerDocument===null)return!1;const T=C.ownerDocument;return(V=>{const Q=(he=>Ht.fromDom(he.dom.getRootNode()))(V);return Eo(ne=Q)&&D(ne.dom.host)?oe.some(Q):oe.none();var ne})(Ht.fromDom(C)).fold(()=>T.body.contains(C),(B=Ri,$=jf,V=>B($(V))));var B,$},Ec=v=>{const C=v.dom.body;if(C==null)throw new Error("Body is not available yet");return Ht.fromDom(C)},ni=(v,C)=>{let T=[];return Nt(la(v),B=>{C(B)&&(T=T.concat([B])),T=T.concat(ni(B,C))}),T},oi=(v,C,T)=>((B,$,V)=>pn(ir(B,V),Q=>qs(Q,C)))(v,0,T),Ac=(v,C)=>((T,B)=>pn(la(T),$=>qs($,C)))(v),fr=(v,C)=>((T,B)=>{const $=B===void 0?document:B.dom;return Vo($)?[]:R($.querySelectorAll(T),Ht.fromDom)})(C,v);var Ur=(v,C,T,B,$)=>v(T,B)?oe.some(T):z($)&&$(T)?oe.none():C(T,B,$);const _e=(v,C,T)=>{let B=v.dom;const $=z(T)?T:ie;for(;B.parentNode;){B=B.parentNode;const V=Ht.fromDom(B);if(C(V))return oe.some(V);if($(V))break}return oe.none()},Ke=(v,C,T)=>Ur((B,$)=>$(B),_e,v,C,T),Oe=(v,C,T)=>_e(v,B=>qs(B,C),T),at=(v,C)=>((T,B)=>Vn(T.dom.childNodes,$=>{return V=Ht.fromDom($),qs(V,C);var V}).map(Ht.fromDom))(v),nt=(v,C)=>wl(C,v),We=(v,C,T)=>Ur((B,$)=>qs(B,$),Oe,v,C,T),Pt=(v,C,T=ye)=>v.exists(B=>T(B,C)),Gt=v=>{const C=[],T=B=>{C.push(B)};for(let B=0;B<v.length;B++)v[B].each(T);return C},nn=(v,C)=>v?oe.some(C):oe.none(),un=(v,C,T)=>C===""||v.length>=C.length&&v.substr(T,T+C.length)===C,en=(v,C,T=0,B)=>{const $=v.indexOf(C,T);return $!==-1&&(!!P(B)||$+C.length<=B)},no=(v,C)=>un(v,C,0),Xt=(v,C)=>un(v,C,v.length-C.length),or=(v=>C=>C.replace(v,""))(/^\s+|\s+$/g),yo=v=>v.length>0,No=v=>v.style!==void 0&&z(v.style.getPropertyValue),cs=(v,C,T)=>{if(!x(T))throw console.error("Invalid call to CSS.set. Property ",C,":: Value ",T,":: Element ",v),new Error("CSS value must be a string: "+T);No(v)&&v.style.setProperty(C,T)},co=(v,C,T)=>{const B=v.dom;cs(B,C,T)},fl=(v,C)=>{const T=v.dom;jo(C,(B,$)=>{cs(T,$,B)})},Ma=(v,C)=>{const T=v.dom,B=window.getComputedStyle(T).getPropertyValue(C);return B!==""||Ri(v)?B:Xn(T,C)},Xn=(v,C)=>No(v)?v.style.getPropertyValue(C):"",Ni=(v,C)=>{const T=v.dom,B=Xn(T,C);return oe.from(B).filter($=>$.length>0)},Yi=(v,C)=>{((T,B)=>{No(T)&&T.style.removeProperty(B)})(v.dom,C),Pt(mo(v,"style").map(or),"")&&so(v,"style")},ns=(v,C,T=0)=>mo(v,C).map(B=>parseInt(B,10)).getOr(T),Yu=(v,C)=>ns(v,C,1),Ss=v=>Oo("col")(v)?ns(v,"span",1)>1:Yu(v,"colspan")>1,Pd=(v,C)=>parseInt(Ma(v,C),10),ml=G(10),Jo=G(10),iu=(v,C)=>Kf(v,C,Me),Kf=(v,C,T)=>vt(la(v),B=>qs(B,C)?T(B)?[B]:[]:Kf(B,C,T)),fh=(v,C)=>((T,B,$=ie)=>$(B)?oe.none():mt(T,Ft(B))?oe.some(B):Oe(B,T.join(","),V=>qs(V,"table")||$(V)))(["td","th"],v,C),us=v=>iu(v,"th,td"),Ql=v=>qs(v,"colgroup")?Ac(v,"col"):vt(qf(v),C=>Ac(C,"col")),Xi=(v,C)=>We(v,"table",C),Ir=v=>iu(v,"tr"),qf=v=>Xi(v).fold(G([]),C=>Ac(C,"colgroup")),gl=(v,C)=>R(v,T=>{if(Ft(T)==="colgroup"){const B=R(Ql(T),$=>{const V=ns($,"span",1);return Gu($,1,V)});return Uo(T,B,"colgroup")}{const B=R(us(T),$=>{const V=ns($,"rowspan",1),Q=ns($,"colspan",1);return Gu($,V,Q)});return Uo(T,B,C(T))}}),Pa=v=>qi(v).map(C=>{const T=Ft(C);return(B=>mt(Md,B))(T)?T:"tbody"}).getOr("tbody"),ig=v=>{const C=Ir(v),T=[...qf(v),...C];return gl(T,Pa)},ca=v=>{let C,T=!1;return(...B)=>(T||(T=!0,C=v.apply(null,B)),C)},Ii=()=>La(0,0),La=(v,C)=>({major:v,minor:C}),hl={nu:La,detect:(v,C)=>{const T=String(C).toLowerCase();return v.length===0?Ii():((B,$)=>{const V=((ne,he)=>{for(let Ae=0;Ae<ne.length;Ae++){const $e=ne[Ae];if($e.test(he))return $e}})(B,$);if(!V)return{major:0,minor:0};const Q=ne=>Number($.replace(V,"$"+ne));return La(Q(1),Q(2))})(v,T)},unknown:Ii},mh=(v,C)=>{const T=String(C).toLowerCase();return Vn(v,B=>B.search(T))},wo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Tc=v=>C=>en(C,v),Xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:v=>en(v,"edge/")&&en(v,"chrome")&&en(v,"safari")&&en(v,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wo],search:v=>en(v,"chrome")&&!en(v,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:v=>en(v,"msie")||en(v,"trident")},{name:"Opera",versionRegexes:[wo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Tc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Tc("firefox")},{name:"Safari",versionRegexes:[wo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:v=>(en(v,"safari")||en(v,"mobile/"))&&en(v,"applewebkit")}],lu=[{name:"Windows",search:Tc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:v=>en(v,"iphone")||en(v,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Tc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Tc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Tc("linux"),versionRegexes:[]},{name:"Solaris",search:Tc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Tc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Tc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Fp={browsers:G(Xu),oses:G(lu)},ax="Edge",$0="Chromium",V0="Opera",Ew="Firefox",gh="Safari",U0=v=>{const C=v.current,T=v.version,B=$=>()=>C===$;return{current:C,version:T,isEdge:B(ax),isChromium:B($0),isIE:B("IE"),isOpera:B(V0),isFirefox:B(Ew),isSafari:B(gh)}},Zt=()=>U0({current:void 0,version:hl.unknown()}),Ld=U0,Fd="Windows",W0="Android",Fa="Linux",zd="macOS",lg="Solaris",ix="FreeBSD",lx="ChromeOS",zp=v=>{const C=v.current,T=v.version,B=$=>()=>C===$;return{current:C,version:T,isWindows:B(Fd),isiOS:B("iOS"),isAndroid:B(W0),isMacOS:B(zd),isLinux:B(Fa),isSolaris:B(lg),isFreeBSD:B(ix),isChromeOS:B(lx)}},cx=()=>zp({current:void 0,version:hl.unknown()}),Z0=zp,ux=v=>window.matchMedia(v).matches;let cg=ca(()=>((v,C,T)=>{const B=Fp.browsers(),$=Fp.oses(),V=C.bind(he=>((Ae,$e)=>J($e.brands,Se=>{const De=Se.brand.toLowerCase();return Vn(Ae,Pe=>{var Ge;return De===((Ge=Pe.brand)===null||Ge===void 0?void 0:Ge.toLowerCase())}).map(Pe=>({current:Pe.name,version:hl.nu(parseInt(Se.version,10),0)}))}))(B,he)).orThunk(()=>((he,Ae)=>mh(he,Ae).map($e=>{const Se=hl.detect($e.versionRegexes,Ae);return{current:$e.name,version:Se}}))(B,v)).fold(Zt,Ld),Q=((he,Ae)=>mh(he,Ae).map($e=>{const Se=hl.detect($e.versionRegexes,Ae);return{current:$e.name,version:Se}}))($,v).fold(cx,Z0),ne=((he,Ae,$e,Se)=>{const De=he.isiOS()&&/ipad/i.test($e)===!0,Pe=he.isiOS()&&!De,Ge=he.isiOS()||he.isAndroid(),Qe=Ge||Se("(pointer:coarse)"),St=De||!Pe&&Ge&&Se("(min-device-width:768px)"),At=Pe||Ge&&!St,Ct=Ae.isSafari()&&he.isiOS()&&/safari/i.test($e)===!1,Dt=!At&&!St&&!Ct;return{isiPad:G(De),isiPhone:G(Pe),isTablet:G(St),isPhone:G(At),isTouch:G(Qe),isAndroid:he.isAndroid,isiOS:he.isiOS,isWebView:G(Ct),isDesktop:G(Dt)}})(Q,V,v,T);return{browser:V,os:Q,deviceType:ne}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),ux));const j0=()=>cg(),Hd=(v,C)=>{const T=$=>{const V=C($);if(V<=0||V===null){const Q=Ma($,v);return parseFloat(Q)||0}return V},B=($,V)=>ot(V,(Q,ne)=>{const he=Ma($,ne),Ae=he===void 0?0:parseInt(he,10);return isNaN(Ae)?Q:Q+Ae},0);return{set:($,V)=>{if(!W(V)&&!V.match(/^[0-9]+$/))throw new Error(v+".set accepts only positive integer values. Value was "+V);const Q=$.dom;No(Q)&&(Q.style[v]=V+"px")},get:T,getOuter:T,aggregate:B,max:($,V,Q)=>{const ne=B($,Q);return V>ne?V-ne:0}}},$d=(v,C,T)=>((B,$)=>(V=>{const Q=parseFloat(V);return isNaN(Q)?oe.none():oe.some(Q)})(B).getOr($))(Ma(v,C),T),za=Hd("width",v=>v.dom.offsetWidth),Ji=v=>za.get(v),ug=v=>za.getOuter(v),Mo=v=>((C,T)=>{const B=C.dom,$=B.getBoundingClientRect().width||B.offsetWidth;return T==="border-box"?$:((V,Q,ne,he)=>Q-$d(V,`padding-${ne}`,0)-$d(V,`padding-${he}`,0)-$d(V,`border-${ne}-width`,0)-$d(V,`border-${he}-width`,0))(C,$,"left","right")})(v,"content-box"),Ju=(v,C,T)=>{const B=v.cells,$=B.slice(0,C),V=B.slice(C),Q=$.concat(T).concat(V);return hi(v,Q)},dg=(v,C,T)=>Ju(v,C,[T]),fg=(v,C,T)=>{v.cells[C]=T},hi=(v,C)=>Vs(v.element,C,v.section,v.isNew),ks=(v,C)=>v.cells[C],Wr=(v,C)=>ks(v,C).element,wa=v=>v.cells.length,Br=v=>{const C=Jt(v,T=>T.section==="colgroup");return{rows:C.fail,cols:C.pass}},Vd=(v,C,T)=>{const B=R(v.cells,T);return Vs(C(v.element),B,v.section,!0)},Gf="data-snooker-locked-cols",ea=v=>mo(v,Gf).bind(C=>oe.from(C.match(/\d+/g))).map(C=>bs(C,Me)),pi=v=>{const C=ot(Br(v).rows,(B,$)=>(Nt($.cells,(V,Q)=>{V.isLocked&&(B[Q]=!0)}),B),{}),T=le(C,(B,$)=>parseInt($,10));return((B,$)=>{const V=Je.call(B,0);return V.sort(void 0),V})(T)},ri=(v,C)=>v+","+C,Oc=(v,C)=>{const T=vt(v.all,B=>B.cells);return pn(T,C)},Qu=v=>{const C={},T=[],B=En(v).map(De=>De.element).bind(Xi).bind(ea).getOr({});let $=0,V=0,Q=0;const{pass:ne,fail:he}=Jt(v,De=>De.section==="colgroup");Nt(he,De=>{const Pe=[];Nt(De.cells,Ge=>{let Qe=0;for(;C[ri(Q,Qe)]!==void 0;)Qe++;const St=((Ct,Dt)=>Ie(Ct,Dt)&&Ct[Dt]!==void 0&&Ct[Dt]!==null)(B,Qe.toString()),At=((Ct,Dt,Vt,Kt,tt,fn)=>({element:Ct,rowspan:Dt,colspan:Vt,row:Kt,column:tt,isLocked:fn}))(Ge.element,Ge.rowspan,Ge.colspan,Q,Qe,St);for(let Ct=0;Ct<Ge.colspan;Ct++)for(let Dt=0;Dt<Ge.rowspan;Dt++){const Vt=Qe+Ct,Kt=ri(Q+Dt,Vt);C[Kt]=At,V=Math.max(V,Vt+1)}Pe.push(At)}),$++,T.push(Uo(De.element,Pe,De.section)),Q++});const{columns:Ae,colgroups:$e}=Mn(ne).map(De=>{const Pe=(Qe=>{const St={};let At=0;return Nt(Qe.cells,Ct=>{const Dt=Ct.colspan;Ne(Dt,Vt=>{const Kt=At+Vt;St[Kt]=((tt,fn,Hn)=>({element:tt,colspan:fn,column:Hn}))(Ct.element,Dt,Kt)}),At+=Dt}),St})(De);return{colgroups:[((Qe,St)=>({element:Qe,columns:St}))(De.element,ve(Pe))],columns:Pe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((De,Pe)=>({rows:De,columns:Pe}))($,V),access:C,all:T,columns:Ae,colgroups:$e}},go=v=>{const C=ig(v);return Qu(C)},Us=Qu,Qi=(v,C,T)=>oe.from(v.access[ri(C,T)]),ed=(v,C,T)=>{const B=Oc(v,$=>T(C,$.element));return B.length>0?oe.some(B[0]):oe.none()},_a=Oc,An=v=>vt(v.all,C=>C.cells),ec=v=>ve(v.columns),tc=v=>nr(v.columns).length>0,rr=(v,C)=>oe.from(v.columns[C]),hh=(v,C=Me)=>{const T=v.grid,B=Ne(T.columns,ee),$=Ne(T.rows,ee);return R(B,V=>Hp(()=>vt($,Q=>Qi(v,Q,V).filter(ne=>ne.column===V).toArray()),Q=>Q.colspan===1&&C(Q.element),()=>Qi(v,0,V)))},Hp=(v,C,T)=>{const B=v();return Vn(B,C).orThunk(()=>oe.from(B[0]).orThunk(T)).map($=>$.element)},td=v=>{const C=v.grid,T=Ne(C.rows,ee),B=Ne(C.columns,ee);return R(T,$=>Hp(()=>vt(B,V=>Qi(v,$,V).filter(Q=>Q.row===$).fold(G([]),Q=>[Q])),V=>V.rowspan===1,()=>Qi(v,$,0)))},_o=(v,C)=>T=>bi(T)==="rtl"?C:v,bi=v=>Ma(v,"direction")==="rtl"?"rtl":"ltr",ph=Hd("height",v=>{const C=v.dom;return Ri(v)?C.getBoundingClientRect().height:C.offsetHeight}),nd=v=>ph.get(v),$p=v=>ph.getOuter(v),Dc=(v,C)=>({left:v,top:C,translate:(T,B)=>Dc(v+T,C+B)}),Bi=Dc,Rc=(v,C)=>v!==void 0?v:C!==void 0?C:0,Ud=v=>{const C=v.dom.ownerDocument,T=C.body,B=C.defaultView,$=C.documentElement;if(T===v.dom)return Bi(T.offsetLeft,T.offsetTop);const V=Rc(B==null?void 0:B.pageYOffset,$.scrollTop),Q=Rc(B==null?void 0:B.pageXOffset,$.scrollLeft),ne=Rc($.clientTop,T.clientTop),he=Rc($.clientLeft,T.clientLeft);return Re(v).translate(Q-he,V-ne)},Re=v=>{const C=v.dom,T=C.ownerDocument.body;return T===C?Bi(T.offsetLeft,T.offsetTop):Ri(v)?(B=>{const $=B.getBoundingClientRect();return Bi($.left,$.top)})(C):Bi(0,0)},Yf=(v,C)=>({row:v,y:C}),mr=(v,C)=>({col:v,x:C}),Vp=v=>Ud(v).left+ug(v),mg=v=>Ud(v).left,Nc=(v,C)=>mr(v,mg(C)),Po=(v,C)=>mr(v,Vp(C)),Ha=v=>Ud(v).top,cu=(v,C)=>Yf(v,Ha(C)),Il=(v,C)=>Yf(v,Ha(C)+$p(C)),uu=(v,C,T)=>{if(T.length===0)return[];const B=R(T.slice(1),(V,Q)=>V.map(ne=>v(Q,ne))),$=T[T.length-1].map(V=>C(T.length-1,V));return B.concat([$])},du={delta:ee,positions:v=>uu(cu,Il,v),edge:Ha},$a=_o({delta:ee,edge:mg,positions:v=>uu(Nc,Po,v)},{delta:v=>-v,edge:Vp,positions:v=>uu(Po,Nc,v)}),Wd={delta:(v,C)=>$a(C).delta(v,C),positions:(v,C)=>$a(C).positions(v,C),edge:v=>$a(v).edge(v)},Xf={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Up=(()=>{const v="[0-9]+",C="[eE][+-]?"+v,T=$=>`(?:${$})?`,B=["Infinity",v+"\\."+T(v)+T(C),"\\."+v+T(C),v+T(C)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),ta=/(\d+(\.\d+)?)%/,Bn=/(\d+(\.\d+)?)px|em/,fu=Oo("col"),Jf=Oo("tr"),Va=(v,C,T)=>{const B=ru(v).getOrThunk(()=>Ec(ou(v)));return C(v)/T(B)*100},mu=(v,C)=>{co(v,"width",C+"px")},pl=(v,C)=>{co(v,"width",C+"%")},gu=(v,C)=>{co(v,"height",C+"px")},od=v=>{const C=(T=>{return $d(B=T,"height",B.dom.offsetHeight)+"px";var B})(v);return C?((T,B,$,V)=>{const Q=parseFloat(T);return Xt(T,"%")&&Ft(B)!=="table"?((ne,he,Ae,$e)=>{const Se=Xi(ne).map(De=>{const Pe=Ae(De);return Math.floor(he/100*Pe)}).getOr(he);return $e(ne,Se),Se})(B,Q,$,V):Q})(C,v,nd,gu):nd(v)},na=(v,C)=>Ni(v,C).orThunk(()=>mo(v,C).map(T=>T+"px")),Bl=v=>na(v,"width"),Ic=v=>Va(v,Ji,Mo),Qf=v=>{return fu(v)?Ji(v):$d(C=v,"width",C.dom.offsetWidth);var C},K0=v=>Jf(v)?nd(v):((C,T,B)=>B(C)/Yu(C,"rowspan"))(v,0,od),hu=(v,C,T)=>{co(v,"width",C+T)},Zd=v=>Va(v,Ji,Mo)+"%",Wp=G(ta),os=Oo("col"),vi=v=>Bl(v).getOrThunk(()=>Qf(v)+"px"),si=v=>{return(C=v,na(C,"height")).getOrThunk(()=>K0(v)+"px");var C},Mi=(v,C,T,B,$,V)=>v.filter(B).fold(()=>V(((Q,ne)=>{if(ne<0||ne>=Q.length-1)return oe.none();const he=Q[ne].fold(()=>{const $e=(Se=>{const De=Je.call(Se,0);return De.reverse(),De})(Q.slice(0,ne));return J($e,(Se,De)=>Se.map(Pe=>({value:Pe,delta:De+1})))},$e=>oe.some({value:$e,delta:0})),Ae=Q[ne+1].fold(()=>{const $e=Q.slice(ne+1);return J($e,(Se,De)=>Se.map(Pe=>({value:Pe,delta:De+1})))},$e=>oe.some({value:$e,delta:1}));return he.bind($e=>Ae.map(Se=>{const De=Se.delta+$e.delta;return Math.abs(Se.value-$e.value)/De}))})(T,C)),Q=>$(Q)),Gs=(v,C,T,B)=>{const $=hh(v),V=tc(v)?(he=>R(ec(he),Ae=>oe.from(Ae.element)))(v):$,Q=[oe.some(Wd.edge(C))].concat(R(Wd.positions($,C),he=>he.map(Ae=>Ae.x))),ne=Le(Ss);return R(V,(he,Ae)=>Mi(he,Ae,Q,ne,$e=>{if((De=>{const Pe=j0().browser,Ge=Pe.isChromium()||Pe.isFirefox();return!os(De)||Ge})($e))return T($e);{const De=(Se=$[Ae])!=null?ee(Se):oe.none();return Mi(De,Ae,Q,ne,Pe=>B(oe.some(Ji(Pe))),B)}var Se},B))},bh=v=>v.map(C=>C+"px").getOr(""),Ws=(v,C,T)=>Gs(v,C,Qf,B=>B.getOrThunk(T.minCellWidth)),Ca=(v,C,T,B)=>{const $=td(v),V=R(v.all,ne=>oe.some(ne.element)),Q=[oe.some(du.edge(C))].concat(R(du.positions($,C),ne=>ne.map(he=>he.y)));return R(V,(ne,he)=>Mi(ne,he,Q,Me,T,B))},Bc=(v,C)=>()=>Ri(v)?C(v):parseFloat(Ni(v,"width").getOr("0")),kt=v=>{const C=Bc(v,B=>parseFloat(Zd(B))),T=Bc(v,Ji);return{width:C,pixelWidth:T,getWidths:(B,$)=>((V,Q,ne)=>Gs(V,Q,Ic,he=>he.fold(()=>ne.minCellWidth(),Ae=>Ae/ne.pixelWidth()*100)))(B,v,$),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,$)=>[100-B],minCellWidth:()=>ml()/T()*100,setElementWidth:pl,adjustTableWidth:B=>{const $=C();pl(v,$+B/100*$)},isRelative:!0,label:"percent"}},Sa=v=>{const C=Bc(v,Ji);return{width:C,pixelWidth:C,getWidths:(T,B)=>Ws(T,v,B),getCellDelta:ee,singleColumnWidth:(T,B)=>[Math.max(ml(),T+B)-T],minCellWidth:ml,setElementWidth:mu,adjustTableWidth:T=>{const B=C()+T;mu(v,B)},isRelative:!1,label:"pixel"}},vh=v=>Bl(v).fold(()=>(C=>{const T=Bc(C,Ji),B=G(0);return{width:T,pixelWidth:T,getWidths:($,V)=>Ws($,C,V),getCellDelta:B,singleColumnWidth:G([0]),minCellWidth:B,setElementWidth:U,adjustTableWidth:U,isRelative:!0,label:"none"}})(v),C=>((T,B)=>Wp().exec(B)!==null?kt(T):Sa(T))(v,C)),rs=Sa,pu=kt,xi=(v,C,T)=>{const B=v[T].element,$=Ht.fromTag("td");Yr($,Ht.fromTag("br")),(C?Yr:Uf)(B,$)},nc=((v,C)=>{const T=B=>v(B)?oe.from(B.dom.nodeValue):oe.none();return{get:B=>{if(!v(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,$)=>{if(!v(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=$}}})(ro),em=v=>nc.get(v),Pi=v=>nc.getOption(v),Io=(v,C)=>nc.set(v,C),Es=v=>Ft(v)==="img"?1:Pi(v).fold(()=>la(v).length,C=>C.length),jd=["img","br"],xs=v=>Pi(v).filter(C=>C.trim().length!==0||C.indexOf(" ")>-1).isSome()||mt(jd,Ft(v))||(C=>xn(C)&&ln(C,"contenteditable")==="false")(v),gg=v=>((C,T)=>{const B=$=>{for(let V=0;V<$.childNodes.length;V++){const Q=Ht.fromDom($.childNodes[V]);if(T(Q))return oe.some(Q);const ne=B($.childNodes[V]);if(ne.isSome())return ne}return oe.none()};return B(C.dom)})(v,xs),Mc=v=>q0(v,xs),q0=(v,C)=>{const T=B=>{const $=la(B);for(let V=$.length-1;V>=0;V--){const Q=$[V];if(C(Q))return oe.some(Q);const ne=T(Q);if(ne.isSome())return ne}return oe.none()};return T(v)},ds={scope:["row","col"]},Xe=v=>()=>{const C=Ht.fromTag("td",v.dom);return Yr(C,Ht.fromTag("br",v.dom)),C},yi=v=>()=>Ht.fromTag("col",v.dom),As=v=>()=>Ht.fromTag("colgroup",v.dom),Cl=v=>()=>Ht.fromTag("tr",v.dom),oc=(v,C,T)=>{const B=(($,V)=>{const Q=kc($,V),ne=la(Sc($));return ul(Q,ne),Q})(v,C);return jo(T,($,V)=>{$===null?so(B,V):ar(B,V,$)}),B},Ls=v=>v,Mr=(v,C,T)=>{const B=($,V)=>{((Q,ne)=>{const he=Q.dom,Ae=ne.dom;No(he)&&No(Ae)&&(Ae.style.cssText=he.style.cssText)})($.element,V),Yi(V,"height"),$.colspan!==1&&Yi(V,"width")};return{col:$=>{const V=Ht.fromTag(Ft($.element),C.dom);return B($,V),v($.element,V),V},colgroup:As(C),row:Cl(C),cell:$=>{const V=Ht.fromTag(Ft($.element),C.dom),Q=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ne=Q.length>0?((he,Ae,$e)=>gg(he).map(Se=>{const De=$e.join(","),Pe=oi(Se,De,Ge=>yr(Ge,he));return Tn(Pe,(Ge,Qe)=>{const St=Zf(Qe);return Yr(Ge,St),St},Ae)}).getOr(Ae))($.element,V,Q):V;return Yr(ne,Ht.fromTag("br")),B($,V),((he,Ae)=>{jo(ds,($e,Se)=>mo(he,Se).filter(De=>mt($e,De)).each(De=>ar(Ae,Se,De)))})($.element,V),v($.element,V),V},replace:oc,colGap:yi(C),gap:Xe(C)}},lr=v=>({col:yi(v),colgroup:As(v),row:Cl(v),cell:Xe(v),replace:Ls,colGap:yi(v),gap:Xe(v)}),wi=v=>C=>C.options.get(v),Sl="100%",Pc=v=>{var C;const T=v.dom,B=(C=T.getParent(v.selection.getStart(),T.isBlock))!==null&&C!==void 0?C:v.getBody();return Mo(Ht.fromDom(B))+"px"},rd=v=>oe.from(v.options.get("table_clone_elements")),tm=wi("table_header_type"),hg=wi("table_column_resizing"),pg=v=>hg(v)==="preservetable",Zp=v=>hg(v)==="resizetable",jp=wi("table_sizing_mode"),bu=v=>jp(v)==="relative",N=v=>jp(v)==="fixed",Z=v=>jp(v)==="responsive",te=wi("table_resize_bars"),ke=wi("table_style_by_css"),He=wi("table_merge_content_on_paste"),Et=v=>{const C=v.options,T=C.get("table_default_attributes");return C.isSet("table_default_attributes")?T:((B,$)=>Z(B)||ke(B)?$:N(B)?{...$,width:Pc(B)}:{...$,width:Sl})(v,T)},Pn=wi("table_use_colgroups"),oo=v=>We(v,"[contenteditable]"),Yn=(v,C=!1)=>Ri(v)?v.dom.isContentEditable:oo(v).fold(G(C),T=>yn(T)==="true"),yn=v=>v.dom.contentEditable,Go=v=>Ht.fromDom(v.getBody()),Ts=v=>C=>yr(C,Go(v)),ss=v=>{so(v,"data-mce-style");const C=T=>so(T,"data-mce-style");Nt(us(v),C),Nt(Ql(v),C),Nt(Ir(v),C)},rc=v=>Ht.fromDom(v.selection.getStart()),nm=v=>v.getBoundingClientRect().width,om=v=>v.getBoundingClientRect().height,Ys=v=>(C,T)=>{const B=C.dom.getStyle(T,v)||C.dom.getAttrib(T,v);return oe.from(B).filter(yo)},Aw=Ys("width"),Kp=Ys("height"),G0=v=>Ke(v,Oo("table")).exists(Yn),Ua=(v,C)=>{const T=C.column,B=C.column+C.colspan-1,$=C.row,V=C.row+C.rowspan-1;return T<=v.finishCol&&B>=v.startCol&&$<=v.finishRow&&V>=v.startRow},fs=(v,C)=>C.column>=v.startCol&&C.column+C.colspan-1<=v.finishCol&&C.row>=v.startRow&&C.row+C.rowspan-1<=v.finishRow,ua=(v,C,T)=>{const B=ed(v,C,yr),$=ed(v,T,yr);return B.bind(V=>$.map(Q=>{return ne=V,he=Q,{startRow:Math.min(ne.row,he.row),startCol:Math.min(ne.column,he.column),finishRow:Math.max(ne.row+ne.rowspan-1,he.row+he.rowspan-1),finishCol:Math.max(ne.column+ne.colspan-1,he.column+he.colspan-1)};var ne,he}))},vu=(v,C,T)=>ua(v,C,T).map(B=>{const $=_a(v,ge(Ua,B));return R($,V=>V.element)}),xh=(v,C)=>ed(v,C,(T,B)=>Ps(B,T)).map(T=>T.element),dx=(v,C,T)=>{const B=el(v);return vu(B,C,T)},Ml=(v,C,T,B,$)=>{const V=el(v),Q=yr(v,T)?oe.some(C):xh(V,C),ne=yr(v,$)?oe.some(B):xh(V,B);return Q.bind(he=>ne.bind(Ae=>vu(V,he,Ae)))},el=go;var qp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Kd=()=>({up:G({selector:Oe,closest:We,predicate:_e,all:ir}),down:G({selector:fr,predicate:ni}),styles:G({get:Ma,getRaw:Ni,set:co,remove:Yi}),attrs:G({get:ln,set:ar,remove:so,copyTo:(v,C)=>{const T=zr(v);gi(C,T)}}),insert:G({before:Qt,after:au,afterAll:Di,append:Yr,appendAll:ul,prepend:Uf,wrap:Wf}),remove:G({unwrap:ti,remove:Vr}),create:G({nu:Ht.fromTag,clone:v=>Ht.fromDom(v.dom.cloneNode(!1)),text:Ht.fromText}),query:G({comparePosition:(v,C)=>v.dom.compareDocumentPosition(C.dom),prevSibling:Gn,nextSibling:_l}),property:G({children:la,name:Ft,parent:qi,document:v=>Jl(v).dom,isText:ro,isComment:vn,isElement:Cn,isSpecial:v=>{const C=Ft(v);return mt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],C)},getLanguage:v=>Cn(v)?mo(v,"lang"):oe.none(),getText:em,setText:Io,isBoundary:v=>!!Cn(v)&&(Ft(v)==="body"||mt(qp,Ft(v))),isEmptyTag:v=>!!Cn(v)&&mt(["br","img","hr","input"],Ft(v)),isNonEditable:v=>Cn(v)&&ln(v,"contenteditable")==="false"}),eq:yr,is:Vf});const sk=(v,C,T,B)=>{const $=C(v,T);return Tn(B,(V,Q)=>{const ne=C(v,Q);return Gp(v,V,ne)},$)},Gp=(v,C,T)=>C.bind(B=>T.filter(ge(v.eq,B))),sd=Kd(),qd=(v,C)=>((T,B,$)=>$.length>0?((V,Q,ne,he)=>he(V,Q,ne[0],ne.slice(1)))(T,B,$,sk):oe.none())(sd,(T,B)=>v(B),C),bn=v=>Oe(v,"table"),Lc=(v,C,T)=>{const B=$=>V=>T!==void 0&&T(V)||yr(V,$);return yr(v,C)?oe.some({boxes:oe.some([v]),start:v,finish:C}):bn(v).bind($=>bn(C).bind(V=>{if(yr($,V))return oe.some({boxes:dx($,v,C),start:v,finish:C});if(Ps($,V)){const Q=oi(C,"td,th",B($)),ne=Q.length>0?Q[Q.length-1]:C;return oe.some({boxes:Ml($,v,$,C,V),start:v,finish:ne})}if(Ps(V,$)){const Q=oi(v,"td,th",B(V)),ne=Q.length>0?Q[Q.length-1]:v;return oe.some({boxes:Ml(V,v,$,C,V),start:v,finish:ne})}return((Q,ne,he)=>((Ae,$e,Se,De=ie)=>{const Pe=[$e].concat(Ae.up().all($e)),Ge=[Se].concat(Ae.up().all(Se)),Qe=Dt=>Nr(Dt,De).fold(()=>Dt,Vt=>Dt.slice(0,Vt+1)),St=Qe(Pe),At=Qe(Ge),Ct=Vn(St,Dt=>Ee(At,((Vt,Kt)=>ge(Vt.eq,Kt))(Ae,Dt)));return{firstpath:St,secondpath:At,shared:Ct}})(sd,Q,ne,void 0))(v,C).shared.bind(Q=>We(Q,"table",T).bind(ne=>{const he=oi(C,"td,th",B(ne)),Ae=he.length>0?he[he.length-1]:C,$e=oi(v,"td,th",B(ne)),Se=$e.length>0?$e[$e.length-1]:v;return oe.some({boxes:Ml(ne,v,$,C,V),start:Se,finish:Ae})}))}))},Yp=(v,C)=>{const T=fr(v,C);return T.length>0?oe.some(T):oe.none()},Gd=(v,C,T)=>nt(v,C).bind(B=>nt(v,T).bind($=>qd(bn,[B,$]).map(V=>({first:B,last:$,table:V})))),Wa=(v,C,T,B,$)=>((V,Q)=>Vn(V,ne=>qs(ne,Q)))(v,$).bind(V=>((Q,ne,he)=>Xi(Q).bind(Ae=>(($e,Se,De,Pe)=>ed($e,Se,yr).bind(Ge=>{const Qe=De>0?Ge.row+Ge.rowspan-1:Ge.row,St=Pe>0?Ge.column+Ge.colspan-1:Ge.column;return Qi($e,Qe+De,St+Pe).map(At=>At.element)}))(el(Ae),Q,ne,he)))(V,C,T).bind(Q=>((ne,he)=>Oe(ne,"table").bind(Ae=>nt(Ae,he).bind($e=>Lc($e,ne).bind(Se=>Se.boxes.map(De=>({boxes:De,start:Se.start,finish:Se.finish}))))))(Q,B))),sc=(v,C)=>Yp(v,C),bg=(v,C,T)=>Gd(v,C,T).bind(B=>{const $=he=>yr(v,he),V="thead,tfoot,tbody,table",Q=Oe(B.first,V,$),ne=Oe(B.last,V,$);return Q.bind(he=>ne.bind(Ae=>yr(he,Ae)?(($e,Se,De)=>((Pe,Ge,Qe)=>ua(Pe,Ge,Qe).bind(St=>((At,Ct)=>{let Dt=!0;const Vt=ge(fs,Ct);for(let Kt=Ct.startRow;Kt<=Ct.finishRow;Kt++)for(let tt=Ct.startCol;tt<=Ct.finishCol;tt++)Dt=Dt&&Qi(At,Kt,tt).exists(Vt);return Dt?oe.some(Ct):oe.none()})(Pe,St)))(el($e),Se,De))(B.table,B.first,B.last):oe.none()))}),Yd=ee,Y0=v=>{const C=(T,B)=>mo(T,B).exists($=>parseInt($,10)>1);return v.length>0&&jt(v,T=>C(T,"rowspan")||C(T,"colspan"))?oe.some(v):oe.none()},Fc=(v,C,T)=>C.length<=1?oe.none():bg(v,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:C})),yh="data-mce-selected",wh="data-mce-first-selected",Mt="data-mce-last-selected",fx="["+yh+"]",Xd={selected:yh,selectedSelector:"td["+yh+"],th["+yh+"]",firstSelected:wh,firstSelectedSelector:"td["+wh+"],th["+wh+"]",lastSelected:Mt,lastSelectedSelector:"td["+Mt+"],th["+Mt+"]"},fo=(v,C,T)=>({element:T,mergable:Fc(C,v,Xd),unmergable:Y0(v),selection:Yd(v)}),wn=v=>(C,T)=>{const B=Ft(C),$=B==="col"||B==="colgroup"?Xi(V=C).bind(Q=>sc(Q,Xd.firstSelectedSelector)).fold(G(V),Q=>Q[0]):C;var V;return We($,v,T)},Jd=wn("th,td,caption"),Xr=wn("th,td"),ac=v=>{return C=v.model.table.getSelectedCells(),R(C,Ht.fromDom);var C},ic=(v,C)=>{v.on("BeforeGetContent",T=>{const B=$=>{T.preventDefault(),(V=>Xi(V[0]).map(Q=>{const ne=((he,Ae)=>{const $e=Dt=>qs(Dt.element,Ae),Se=Sc(he),De=ig(Se),Pe=vh(he),Ge=Us(De),Qe=((Dt,Vt)=>{const Kt=Dt.grid.columns;let tt=Dt.grid.rows,fn=Kt,Hn=0,io=0;const jn=[],$n=[];return jo(Dt.access,ao=>{if(jn.push(ao),Vt(ao)){$n.push(ao);const Bo=ao.row,zs=Bo+ao.rowspan-1,ii=ao.column,Aa=ii+ao.colspan-1;Bo<tt?tt=Bo:zs>Hn&&(Hn=zs),ii<fn?fn=ii:Aa>io&&(io=Aa)}}),((ao,Bo,zs,ii,Aa,zl)=>({minRow:ao,minCol:Bo,maxRow:zs,maxCol:ii,allCells:Aa,selectedCells:zl}))(tt,fn,Hn,io,jn,$n)})(Ge,$e),St="th:not("+Ae+"),td:not("+Ae+")",At=Kf(Se,"th,td",Dt=>qs(Dt,St));Nt(At,Vr),((Dt,Vt,Kt,tt)=>{const fn=pn(Dt,jn=>jn.section!=="colgroup"),Hn=Vt.grid.columns,io=Vt.grid.rows;for(let jn=0;jn<io;jn++){let $n=!1;for(let ao=0;ao<Hn;ao++)jn<Kt.minRow||jn>Kt.maxRow||ao<Kt.minCol||ao>Kt.maxCol||(Qi(Vt,jn,ao).filter(tt).isNone()?xi(fn,$n,jn):$n=!0)}})(De,Ge,Qe,$e);const Ct=((Dt,Vt,Kt,tt)=>{if(tt.minCol===0&&Vt.grid.columns===tt.maxCol+1)return 0;const fn=Ws(Vt,Dt,Kt),Hn=ot(fn,($n,ao)=>$n+ao,0),io=ot(fn.slice(tt.minCol,tt.maxCol+1),($n,ao)=>$n+ao,0),jn=io/Hn*Kt.pixelWidth()-Kt.pixelWidth();return Kt.getCellDelta(jn)})(he,go(he),Pe,Qe);return((Dt,Vt,Kt,tt)=>{jo(Kt.columns,Hn=>{(Hn.column<Vt.minCol||Hn.column>Vt.maxCol)&&Vr(Hn.element)});const fn=pn(iu(Dt,"tr"),Hn=>Hn.dom.childElementCount===0);Nt(fn,Vr),Vt.minCol!==Vt.maxCol&&Vt.minRow!==Vt.maxRow||Nt(iu(Dt,"th,td"),Hn=>{so(Hn,"rowspan"),so(Hn,"colspan")}),so(Dt,Gf),so(Dt,"data-snooker-col-series"),vh(Dt).adjustTableWidth(tt)})(Se,Qe,Ge,Ct),Se})(Q,fx);return ss(ne),[ne]}))($).each(V=>{T.content=T.format==="text"?(Q=>R(Q,ne=>ne.dom.innerText).join(""))(V):((Q,ne)=>R(ne,he=>Q.selection.serializer.serialize(he.dom,{})).join(""))(v,V)})};if(T.selection===!0){const $=(V=>pn(ac(V),Q=>qs(Q,Xd.selectedSelector)))(v);$.length>=1&&B($)}}),v.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=ac(v);En(B).each($=>{Xi($).each(V=>{const Q=pn(((he,Ae)=>{const $e=document.createElement("div");return $e.innerHTML=he,la(Ht.fromDom($e))})(T.content),he=>Ft(he)!=="meta"),ne=Oo("table");if(He(v)&&Q.length===1&&ne(Q[0])){T.preventDefault();const he=Ht.fromDom(v.getDoc()),Ae=lr(he),$e=((Se,De,Pe)=>({element:Se,clipboard:De,generators:Pe}))($,Q[0],Ae);C.pasteCells(V,$e).each(()=>{v.focus()})}})})}})},Qn=(v,C)=>({element:v,offset:C}),_h=(v,C,T)=>v.property().isText(C)&&v.property().getText(C).trim().length===0||v.property().isComment(C)?T(C).bind(B=>_h(v,B,T).orThunk(()=>oe.some(B))):oe.none(),Tw=(v,C)=>v.property().isText(C)?v.property().getText(C).length:v.property().children(C).length,pt=(v,C)=>{const T=_h(v,C,v.query().prevSibling).getOr(C);if(v.property().isText(T))return Qn(T,Tw(v,T));const B=v.property().children(T);return B.length>0?pt(v,B[B.length-1]):Qn(T,Tw(v,T))},mx=pt,Ch=Kd(),Sh=(v,C)=>{Ss(v)||(B=>Bl(B).bind($=>{return V=$,Q=["fixed","relative","empty"],oe.from(Up.exec(V)).bind(ne=>{const he=Number(ne[1]),Ae=ne[2];return(($e,Se)=>Ee(Se,De=>Ee(Xf[De],Pe=>$e===Pe)))(Ae,Q)?oe.some({value:he,unit:Ae}):oe.none()});var V,Q}))(v).each(B=>{const $=B.value/2;hu(v,$,B.unit),hu(C,$,B.unit)})},vg=v=>R(v,G(0)),rm=(v,C,T,B,$)=>$(v.slice(0,C)).concat(B).concat($(v.slice(T))),Ow=v=>(C,T,B,$)=>{if(v(B)){const V=Math.max($,C[T]-Math.abs(B)),Q=Math.abs(V-C[T]);return B>=0?Q:-Q}return B},Qd=Ow(v=>v<0),Hr=Ow(Me),xu=()=>{const v=(T,B,$,V)=>{const Q=(100+$)/100,ne=Math.max(V,(T[B]+$)/Q);return R(T,(he,Ae)=>(Ae===B?ne:he/Q)-he)},C=(T,B,$,V,Q,ne)=>ne?v(T,B,V,Q):((he,Ae,$e,Se,De)=>{const Pe=Qd(he,Ae,Se,De);return rm(he,Ae,$e+1,[Pe,0],vg)})(T,B,$,V,Q);return{resizeTable:(T,B)=>T(B),clampTableDelta:Qd,calcLeftEdgeDeltas:C,calcMiddleDeltas:(T,B,$,V,Q,ne,he)=>C(T,$,V,Q,ne,he),calcRightEdgeDeltas:(T,B,$,V,Q,ne)=>{if(ne)return v(T,$,V,Q);{const he=Qd(T,$,V,Q);return vg(T.slice(0,$)).concat([he])}},calcRedestributedWidths:(T,B,$,V)=>{if(V){const Q=(B+$)/B,ne=R(T,he=>he/Q);return{delta:100*Q-100,newSizes:ne}}return{delta:$,newSizes:T}}}},X0=()=>{const v=(C,T,B,$,V)=>{const Q=Hr(C,$>=0?B:T,$,V);return rm(C,T,B+1,[Q,-Q],vg)};return{resizeTable:(C,T,B)=>{B&&C(T)},clampTableDelta:(C,T,B,$,V)=>{if(V){if(B>=0)return B;{const Q=ot(C,(ne,he)=>ne+he-$,0);return Math.max(-Q,B)}}return Qd(C,T,B,$)},calcLeftEdgeDeltas:v,calcMiddleDeltas:(C,T,B,$,V,Q)=>v(C,B,$,V,Q),calcRightEdgeDeltas:(C,T,B,$,V,Q)=>{if(Q)return vg(C);{const ne=$/C.length;return R(C,G(ne))}},calcRedestributedWidths:(C,T,B,$)=>({delta:0,newSizes:C})}},zc=v=>go(v).grid,sm=Oo("th"),Pl=v=>jt(v,C=>sm(C.element)),Os=(v,C)=>v&&C?"sectionCells":v?"section":"cells",Xp=v=>{const C=v.section==="thead",T=Pt(da(v.cells),"th");return v.section==="tfoot"?{type:"footer"}:C||T?{type:"header",subType:Os(C,T)}:{type:"body"}},da=v=>{const C=pn(v,T=>sm(T.element));return C.length===0?oe.some("td"):C.length===v.length?oe.some("th"):oe.none()},J0=(v,C,T)=>vs(T(v.element,C),!0,v.isLocked),lc=(v,C)=>v.section!==C?Vs(v.element,v.cells,C,v.isNew):v,fa=()=>({transformRow:lc,transformCell:(v,C,T)=>{const B=T(v.element,C),$=Ft(B)!=="td"?((V,Q)=>{const ne=kc(V,"td");au(V,ne);const he=la(V);return ul(ne,he),Vr(V),ne})(B):B;return vs($,v.isNew,v.isLocked)}}),Lt=()=>({transformRow:lc,transformCell:J0}),am=()=>({transformRow:(v,C)=>lc(v,C==="thead"?"tbody":C),transformCell:J0}),ma=fa,Dw=Lt,Rw=am,ak=()=>({transformRow:ee,transformCell:J0}),ad=(v,C,T,B)=>{T===B?so(v,C):ar(v,C,T)},xg=(v,C,T)=>{Mn(Ac(v,C)).fold(()=>Uf(v,T),B=>au(B,T))},Jp=(v,C)=>{const T=[],B=[],$=De=>R(De,Pe=>{Pe.isNew&&T.push(Pe.element);const Ge=Pe.element;return Gi(Ge),Nt(Pe.cells,Qe=>{Qe.isNew&&B.push(Qe.element),ad(Qe.element,"colspan",Qe.colspan,1),ad(Qe.element,"rowspan",Qe.rowspan,1),Yr(Ge,Qe.element)}),Ge}),V=De=>vt(De,Pe=>R(Pe.cells,Ge=>(ad(Ge.element,"span",Ge.colspan,1),Ge.element))),Q=(De,Pe)=>{const Ge=((St,At)=>{const Ct=at(St,At).getOrThunk(()=>{const Dt=Ht.fromTag(At,ou(St).dom);return At==="thead"?xg(St,"caption,colgroup",Dt):At==="colgroup"?xg(St,"caption",Dt):Yr(St,Dt),Dt});return Gi(Ct),Ct})(v,Pe),Qe=(Pe==="colgroup"?V:$)(De);ul(Ge,Qe)},ne=(De,Pe)=>{De.length>0?Q(De,Pe):(Ge=>{at(v,Ge).each(Vr)})(Pe)},he=[],Ae=[],$e=[],Se=[];return Nt(C,De=>{switch(De.section){case"thead":he.push(De);break;case"tbody":Ae.push(De);break;case"tfoot":$e.push(De);break;case"colgroup":Se.push(De)}}),ne(Se,"colgroup"),ne(he,"thead"),ne(Ae,"tbody"),ne($e,"tfoot"),{newRows:T,newCells:B}},Q0=(v,C)=>{if(v.length===0)return 0;const T=v[0];return Nr(v,B=>!C(T.element,B.element)).getOr(v.length)},gx=(v,C)=>{const T=R(v,B=>R(B.cells,ie));return R(v,(B,$)=>{const V=vt(B.cells,(Q,ne)=>{if(T[$][ne]===!1){const De=((Pe,Ge,Qe,St)=>{const At=((Kt,tt)=>Kt[tt])(Pe,Ge),Ct=At.section==="colgroup",Dt=Q0(At.cells.slice(Qe),St),Vt=Ct?1:Q0(((Kt,tt)=>R(Kt,fn=>ks(fn,tt)))(Pe.slice(Ge),Qe),St);return{colspan:Dt,rowspan:Vt}})(v,$,ne,C);return((Pe,Ge,Qe,St)=>{for(let At=Pe;At<Pe+Qe;At++)for(let Ct=Ge;Ct<Ge+St;Ct++)T[At][Ct]=!0})($,ne,De.rowspan,De.colspan),[(he=Q.element,Ae=De.rowspan,$e=De.colspan,Se=Q.isNew,{element:he,rowspan:Ae,colspan:$e,isNew:Se})]}return[];var he,Ae,$e,Se});return((Q,ne,he,Ae)=>({element:Q,cells:ne,section:he,isNew:Ae}))(B.element,V,B.section,B.isNew)})},as=(v,C,T)=>{const B=[];Nt(v.colgroups,$=>{const V=[];for(let Q=0;Q<v.grid.columns;Q++){const ne=rr(v,Q).map(he=>vs(he.element,T,!1)).getOrThunk(()=>vs(C.colGap(),!0,!1));V.push(ne)}B.push(Vs($.element,V,"colgroup",T))});for(let $=0;$<v.grid.rows;$++){const V=[];for(let he=0;he<v.grid.columns;he++){const Ae=Qi(v,$,he).map($e=>vs($e.element,T,$e.isLocked)).getOrThunk(()=>vs(C.gap(),!0,!1));V.push(Ae)}const Q=v.all[$],ne=Vs(Q.element,V,Q.section,T);B.push(ne)}return B},Qp=v=>gx(v,yr),ms=(v,C)=>J(v.all,T=>Vn(T.cells,B=>yr(C,B.element))),Li=(v,C,T)=>{const B=R(C.selection,V=>fh(V).bind(Q=>ms(v,Q)).filter(T)),$=Gt(B);return nn($.length>0,$)},Ds=(v,C,T,B,$)=>(V,Q,ne,he)=>{const Ae=go(V),$e=oe.from(he==null?void 0:he.section).getOrThunk(ak);return C(Ae,Q).map(Se=>{const De=((Qe,St)=>as(Qe,St,!1))(Ae,ne),Pe=v(De,Se,yr,$(ne),$e),Ge=pi(Pe.grid);return{info:Se,grid:Qp(Pe.grid),cursor:Pe.cursor,lockedColumns:Ge}}).bind(Se=>{const De=Jp(V,Se.grid),Pe=oe.from(he==null?void 0:he.sizing).getOrThunk(()=>vh(V)),Ge=oe.from(he==null?void 0:he.resize).getOrThunk(X0);return T(V,Se.grid,Se.info,{sizing:Pe,resize:Ge,section:$e}),B(V),so(V,Gf),Se.lockedColumns.length>0&&ar(V,Gf,Se.lockedColumns.join(",")),oe.some({cursor:Se.cursor,newRows:De.newRows,newCells:De.newCells})})},Ll=(v,C)=>Li(v,C,Me).map(T=>({cells:T,generators:C.generators,clipboard:C.clipboard})),id=(v,C)=>Li(v,C,Me),ka=(v,C)=>Li(v,C,T=>!T.isLocked),eb=(v,C)=>jt(C,T=>((B,$)=>ms(B,$).exists(V=>!V.isLocked))(v,T)),kh=(v,C,T,B)=>{const $=Br(v).rows;let V=!0;for(let Q=0;Q<$.length;Q++)for(let ne=0;ne<wa($[0]);ne++){const he=$[Q],Ae=ks(he,ne),$e=T(Ae.element,C);$e&&!V?fg(he,ne,vs(B(),!0,Ae.isLocked)):$e&&(V=!1)}return v},ef=v=>{const C=V=>V(v),T=G(v),B=()=>$,$={tag:!0,inner:v,fold:(V,Q)=>Q(v),isValue:Me,isError:ie,map:V=>Eh.value(V(v)),mapError:B,bind:C,exists:C,forall:C,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:V=>{V(v)},toOptional:()=>oe.some(v)};return $},Nw=v=>{const C=()=>T,T={tag:!1,inner:v,fold:($,V)=>$(v),isValue:ie,isError:Me,map:C,mapError:$=>Eh.error($(v)),bind:C,exists:ie,forall:Me,getOr:ee,or:ee,getOrThunk:Be,orThunk:Be,getOrDie:(B=String(v),()=>{throw new Error(B)}),each:U,toOptional:oe.none};var B;return T},Eh={value:ef,error:Nw,fromOption:(v,C)=>v.fold(()=>Nw(C),ef)},hx=(v,C)=>({rowDelta:0,colDelta:wa(v[0])-wa(C[0])}),e1=(v,C)=>({rowDelta:v.length-C.length,colDelta:0}),tb=(v,C,T,B)=>{const $=C.section==="colgroup"?T.col:T.cell;return Ne(v,V=>vs($(),!0,B(V)))},t1=(v,C,T,B)=>{const $=v[v.length-1];return v.concat(Ne(C,()=>{const V=$.section==="colgroup"?T.colgroup:T.row,Q=Vd($,V,ee),ne=tb(Q.cells.length,Q,T,he=>Ie(B,he.toString()));return hi(Q,ne)}))},px=(v,C,T,B)=>R(v,$=>{const V=tb(C,$,T,ie);return Ju($,B,V)}),im=(v,C,T)=>{const B=C.colDelta<0?px:ee,$=C.rowDelta<0?t1:ee,V=pi(v),Q=wa(v[0]),ne=Ee(V,$e=>$e===Q-1),he=B(v,Math.abs(C.colDelta),T,ne?Q-1:Q),Ae=pi(he);return $(he,Math.abs(C.rowDelta),T,bs(Ae,Me))},ik=(v,C,T,B)=>{const $=ge(B,ks(v[C],T).element),V=v[C];return v.length>1&&wa(V)>1&&(T>0&&$(Wr(V,T-1))||T<V.cells.length-1&&$(Wr(V,T+1))||C>0&&$(Wr(v[C-1],T))||C<v.length-1&&$(Wr(v[C+1],T)))},n1=(v,C,T)=>pn(T,B=>B>=v.column&&B<=wa(C[0])+v.column),o1=(v,C,T,B,$)=>{((Ae,$e,Se,De)=>{$e>0&&$e<Ae[0].cells.length&&Nt(Ae,Pe=>{const Ge=Pe.cells[$e-1];let Qe=0;const St=De();for(;Pe.cells.length>$e+Qe&&Se(Ge.element,Pe.cells[$e+Qe].element);)fg(Pe,$e+Qe,vs(St,!0,Pe.cells[$e+Qe].isLocked)),Qe++})})(C,v,$,B.cell);const V=e1(T,C),Q=im(T,V,B),ne=e1(C,Q),he=im(C,ne,B);return R(he,(Ae,$e)=>Ju(Ae,v,Q[$e].cells))},bx=(v,C,T,B,$)=>{((Ct,Dt,Vt,Kt)=>{const tt=Br(Ct).rows;if(Dt>0&&Dt<tt.length){const fn=((Hn,io)=>ot(Hn,(jn,$n)=>Ee(jn,ao=>io(ao.element,$n.element))?jn:jn.concat([$n]),[]))(tt[Dt-1].cells,Vt);Nt(fn,Hn=>{let io=oe.none();for(let jn=Dt;jn<tt.length;jn++)for(let $n=0;$n<wa(tt[0]);$n++){const ao=tt[jn],Bo=ks(ao,$n);Vt(Bo.element,Hn.element)&&(io.isNone()&&(io=oe.some(Kt())),io.each(zs=>{fg(ao,$n,vs(zs,!0,Bo.isLocked))}))}})}})(C,v,$,B.cell);const V=pi(C),Q=hx(C,T),ne={...Q,colDelta:Q.colDelta-V.length},he=im(C,ne,B),{cols:Ae,rows:$e}=Br(he),Se=pi(he),De=hx(T,C),Pe={...De,colDelta:De.colDelta+Se.length},Ge=(St=B,At=Se,R(T,Ct=>ot(At,(Dt,Vt)=>{const Kt=tb(1,Ct,St,Me)[0];return dg(Dt,Vt,Kt)},Ct))),Qe=im(Ge,Pe,B);var St,At;return[...Ae,...$e.slice(0,v),...Qe,...$e.slice(v,$e.length)]},vx=(v,C,T,B,$)=>{const{rows:V,cols:Q}=Br(v),ne=V.slice(0,C),he=V.slice(C);return[...Q,...ne,((Ae,$e,Se,De)=>Vd(Ae,Pe=>De(Pe,Se),$e))(V[T],(Ae,$e)=>C>0&&C<V.length&&B(Wr(V[C-1],$e),Wr(V[C],$e))?ks(V[C],$e):vs($(Ae.element,B),!0,Ae.isLocked),B,$),...he]},nb=(v,C,T,B,$)=>R(v,V=>{const Q=C>0&&C<wa(V)&&B(Wr(V,C-1),Wr(V,C)),ne=((he,Ae,$e,Se,De,Pe,Ge)=>{if($e!=="colgroup"&&Se)return ks(he,Ae);{const Qe=ks(he,De);return vs(Ge(Qe.element,Pe),!0,!1)}})(V,C,V.section,Q,T,B,$);return dg(V,C,ne)}),xx=(v,C,T,B)=>(($,V,Q,ne)=>Wr($[V],Q)!==void 0&&V>0&&ne(Wr($[V-1],Q),Wr($[V],Q)))(v,C,T,B)||(($,V,Q)=>V>0&&Q(Wr($,V-1),Wr($,V)))(v[C],T,B),yx=(v,C,T,B)=>{const $=V=>(Q=>Q==="row"?(ne=>Yu(ne,"rowspan")>1)(C):Ss(C))(V)?`${V}group`:V;return v?sm(C)?$(T):null:B&&sm(C)?$(T==="row"?"col":"row"):null},ob=(v,C,T)=>vs(T(v.element,C),!0,v.isLocked),Ah=(v,C,T,B,$,V,Q)=>R(v,(ne,he)=>((Ae,$e)=>{const Se=Ae.cells,De=R(Se,(Pe,Ge)=>{if((Qe=>Ee(C,St=>T(Qe.element,St.element)))(Pe)){const Qe=Q(Pe,he,Ge)?$(Pe,T,B):Pe;return V(Qe,he,Ge).each(St=>{var At,Ct;At=Qe.element,Ct={scope:oe.from(St)},jo(Ct,(Dt,Vt)=>{Dt.fold(()=>{so(At,Vt)},Kt=>{Cs(At.dom,Vt,Kt)})})}),Qe}return Pe});return Vs(Ae.element,De,Ae.section,Ae.isNew)})(ne)),wx=(v,C,T)=>vt(v,(B,$)=>xx(v,$,C,T)?[]:[ks(B,C)]),rb=(v,C,T,B,$)=>{const V=Br(v).rows,Q=vt(C,$e=>wx(V,$e,B)),ne=R(V,$e=>Pl($e.cells)),he=(($e,Se)=>jt(Se,ee)&&Pl($e)?Me:(De,Pe,Ge)=>!(Ft(De.element)==="th"&&Se[Pe]))(Q,ne);return Ah(v,Q,B,$,ob,(($e,Se)=>(De,Pe)=>oe.some(yx($e,De.element,"row",Se[Pe])))(T,ne),he)},sb=(v,C,T,B)=>{const $=Br(v).rows,V=R(C,Q=>ks($[Q.row],Q.column));return Ah(v,V,T,B,ob,oe.none,Me)},lm=v=>{if(!y(v))throw new Error("cases must be an array");if(v.length===0)throw new Error("there must be at least one case");const C=[],T={};return Nt(v,(B,$)=>{const V=nr(B);if(V.length!==1)throw new Error("one and only one name per case");const Q=V[0],ne=B[Q];if(T[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!y(ne))throw new Error("case arguments must be an array");C.push(Q),T[Q]=(...he)=>{const Ae=he.length;if(Ae!==ne.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+ne.length+" ("+ne+"), got "+Ae);return{fold:(...$e)=>{if($e.length!==v.length)throw new Error("Wrong number of arguments to fold. Expected "+v.length+", got "+$e.length);return $e[$].apply(null,he)},match:$e=>{const Se=nr($e);if(C.length!==Se.length)throw new Error("Wrong number of arguments to match. Expected: "+C.join(",")+`
Actual: `+Se.join(","));if(!jt(C,De=>mt(Se,De)))throw new Error("Not all branches were specified when using match. Specified: "+Se.join(", ")+`
Required: `+C.join(", "));return $e[Q].apply(null,he)},log:$e=>{console.log($e,{constructors:C,constructor:Q,params:he})}}}}),T},Th={...lm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},_x=(v,C,T)=>{const B=(($,V)=>tc($)?((Q,ne)=>{const he=ec(Q);return R(he,(Ae,$e)=>({element:Ae.element,width:ne[$e],colspan:Ae.colspan}))})($,V):((Q,ne)=>{const he=An(Q);return R(he,Ae=>{const $e=((Se,De,Pe)=>{let Ge=0;for(let Qe=Se;Qe<De;Qe++)Ge+=Pe[Qe]!==void 0?Pe[Qe]:0;return Ge})(Ae.column,Ae.column+Ae.colspan,ne);return{element:Ae.element,width:$e,colspan:Ae.colspan}})})($,V))(v,C);Nt(B,$=>{T.setElementWidth($.element,$.width)})},ld=(v,C,T,B,$)=>{const V=go(v),Q=$.getCellDelta(C),ne=$.getWidths(V,$),he=T===V.grid.columns-1,Ae=B.clampTableDelta(ne,T,Q,$.minCellWidth(),he),$e=((De,Pe,Ge,Qe,St)=>{const At=De.slice(0),Ct=((Vt,Kt)=>Vt.length===0?Th.none():Vt.length===1?Th.only(0):Kt===0?Th.left(0,1):Kt===Vt.length-1?Th.right(Kt-1,Kt):Kt>0&&Kt<Vt.length-1?Th.middle(Kt-1,Kt,Kt+1):Th.none())(De,Pe),Dt=G(R(At,G(0)));return Ct.fold(Dt,Vt=>Qe.singleColumnWidth(At[Vt],Ge),(Vt,Kt)=>St.calcLeftEdgeDeltas(At,Vt,Kt,Ge,Qe.minCellWidth(),Qe.isRelative),(Vt,Kt,tt)=>St.calcMiddleDeltas(At,Vt,Kt,tt,Ge,Qe.minCellWidth(),Qe.isRelative),(Vt,Kt)=>St.calcRightEdgeDeltas(At,Vt,Kt,Ge,Qe.minCellWidth(),Qe.isRelative))})(ne,T,Ae,$,B),Se=R($e,(De,Pe)=>De+ne[Pe]);_x(V,Se,$),B.resizeTable($.adjustTableWidth,Ae,he)},yg=(v,C,T)=>{const B=go(v),$=((he,Ae)=>Ca(he,Ae,K0,$e=>$e.getOrThunk(Jo)))(B,v),V=R($,(he,Ae)=>T===Ae?Math.max(C+he,Jo()):he),Q=((he,Ae)=>R(he.all,($e,Se)=>({element:$e.element,height:Ae[Se]})))(B,V);Nt(Q,he=>{gu(he.element,he.height)}),Nt(An(B),he=>{(Ae=>{Yi(Ae,"height")})(he.element)});const ne=Tn(V,(he,Ae)=>he+Ae,0);gu(v,ne)},wg=v=>ot(v,(C,T)=>Ee(C,B=>B.column===T.column)?C:C.concat([T]),[]).sort((C,T)=>C.column-T.column),cd=Oo("col"),tf=Oo("colgroup"),ab=v=>Ft(v)==="tr"||tf(v),lk=v=>({element:v,colspan:ns(v,"colspan",1),rowspan:ns(v,"rowspan",1)}),ib=v=>mo(v,"scope").map(C=>C.substr(0,3)),cc=(v,C=lk)=>{const T=$=>{if(ab($))return tf((V={element:$}).element)?v.colgroup(V):v.row(V);{const Q=$,ne=(he=>cd(he.element)?v.col(he):v.cell(he))(C(Q));return B=oe.some({item:Q,replacement:ne}),ne}var V};let B=oe.none();return{getOrInit:($,V)=>B.fold(()=>T($),Q=>V($,Q.item)?Q.replacement:T($))}},Iw=v=>C=>{const T=[],B=$=>{const V=v==="td"?{scope:null}:{},Q=C.replace($,v,V);return T.push({item:$,sub:Q}),Q};return{replaceOrInit:($,V)=>{if(ab($)||cd($))return $;{const Q=$;return((ne,he)=>Vn(T,Ae=>he(Ae.item,ne)))(Q,V).fold(()=>B(Q),ne=>V($,ne.item)?ne.sub:B(Q))}}}},Cx=v=>({unmerge:C=>{const T=ib(C);return T.each(B=>ar(C,"scope",B)),()=>{const B=v.cell({element:C,colspan:1,rowspan:1});return Yi(B,"width"),Yi(C,"width"),T.each($=>ar(B,"scope",$)),B}},merge:C=>(Yi(C[0],"width"),(()=>{const T=Gt(R(C,ib));if(T.length===0)return oe.none();{const B=T[0],$=["row","col"];return Ee(T,V=>V!==B&&mt($,V))?oe.none():oe.from(B)}})().fold(()=>so(C[0],"scope"),T=>ar(C[0],"scope",T+"group")),G(C[0]))}),_g=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Za=Kd(),Cg=v=>((C,T)=>{const B=C.property().name(T);return mt(_g,B)})(Za,v),Sg=v=>((C,T)=>{const B=C.property().name(T);return mt(["ol","ul"],B)})(Za,v),r1=v=>{const C=Oo("br"),T=$=>Mc($).bind(V=>{const Q=_l(V).map(ne=>!!Cg(ne)||!!((he,Ae)=>mt(["br","img","hr","input"],he.property().name(Ae)))(Za,ne)&&Ft(ne)!=="img").getOr(!1);return qi(V).map(ne=>{return Q===!0||Ft(he=ne)==="li"||_e(he,Sg).isSome()||C(V)||Cg(ne)&&!yr($,ne)?[]:[Ht.fromTag("br")];var he})}).getOr([]),B=(()=>{const $=vt(v,V=>{const Q=la(V);return(ne=>jt(ne,he=>C(he)||ro(he)&&em(he).trim().length===0))(Q)?[]:Q.concat(T(V))});return $.length===0?[Ht.fromTag("br")]:$})();Gi(v[0]),ul(v[0],B)},Lo=v=>Yn(v,!0),tl=v=>{us(v).length===0&&Vr(v)},yu=(v,C)=>({grid:v,cursor:C}),ai=(v,C,T)=>{const B=(($,V,Q)=>{var ne,he;const Ae=Br($).rows;return oe.from((he=(ne=Ae[V])===null||ne===void 0?void 0:ne.cells[Q])===null||he===void 0?void 0:he.element).filter(Lo).orThunk(()=>($e=>J($e,Se=>J(Se.cells,De=>{const Pe=De.element;return nn(Lo(Pe),Pe)})))(Ae))})(v,C,T);return yu(v,B)},Er=v=>ot(v,(C,T)=>Ee(C,B=>B.row===T.row)?C:C.concat([T]),[]).sort((C,T)=>C.row-T.row),lb=(v,C)=>(T,B,$,V,Q)=>{const ne=Er(B),he=R(ne,$e=>$e.row),Ae=(($e,Se,De,Pe,Ge,Qe,St)=>{const{cols:At,rows:Ct}=Br($e),Dt=Ct[Se[0]],Vt=vt(Se,jn=>(($n,ao,Bo)=>{const zs=$n[ao];return vt(zs.cells,(ii,Aa)=>xx($n,ao,Aa,Bo)?[]:[ii])})(Ct,jn,Ge)),Kt=R(Dt.cells,(jn,$n)=>Pl(wx(Ct,$n,Ge))),tt=[...Ct];Nt(Se,jn=>{tt[jn]=St.transformRow(Ct[jn],De)});const fn=[...At,...tt],Hn=((jn,$n)=>jt($n,ee)&&Pl(jn.cells)?Me:(ao,Bo,zs)=>!(Ft(ao.element)==="th"&&$n[zs]))(Dt,Kt),io=((jn,$n)=>(ao,Bo,zs)=>oe.some(yx(jn,ao.element,"col",$n[zs])))(Pe,Kt);return Ah(fn,Vt,Ge,Qe,St.transformCell,io,Hn)})(T,he,v,C,$,V.replaceOrInit,Q);return ai(Ae,B[0].row,B[0].column)},Bw=lb("thead",!0),ck=lb("tbody",!1),Zr=lb("tfoot",!1),s1=(v,C,T)=>{const B=((V,Q)=>gl(V,()=>Q))(v,T.section),$=Us(B);return as($,C,!0)},Sx=(v,C,T,B)=>(($,V,Q,ne)=>{const he=Us(V),Ae=ne.getWidths(he,ne);_x(he,Ae,ne)})(0,C,0,B.sizing),cm=(v,C,T,B)=>(($,V,Q,ne,he)=>{const Ae=Us(V),$e=ne.getWidths(Ae,ne),Se=ne.pixelWidth(),{newSizes:De,delta:Pe}=he.calcRedestributedWidths($e,Se,Q.pixelDelta,ne.isRelative);_x(Ae,De,ne),ne.adjustTableWidth(Pe)})(0,C,T,B.sizing,B.resize),uc=(v,C)=>Ee(C,T=>T.column===0&&T.isLocked),Oh=(v,C)=>Ee(C,T=>T.column+T.colspan>=v.grid.columns&&T.isLocked),dn=(v,C)=>{const T=hh(v),B=wg(C);return ot(B,($,V)=>$+T[V.column].map(ug).getOr(0),0)},Hc=v=>(C,T)=>id(C,T).filter(B=>!(v?uc:Oh)(C,B)).map(B=>({details:B,pixelDelta:dn(C,B)})),kx=v=>(C,T)=>Ll(C,T).filter(B=>!(v?uc:Oh)(C,B.cells)),a1=Iw("th"),Dh=Iw("td"),i1=Ds((v,C,T,B)=>{const $=C[0].row,V=Er(C),Q=Tn(V,(ne,he)=>({grid:vx(ne.grid,$,he.row+ne.delta,T,B.getOrInit),delta:ne.delta+1}),{grid:v,delta:0}).grid;return ai(Q,$,C[0].column)},id,U,U,cc),kg=Ds((v,C,T,B)=>{const $=Er(C),V=$[$.length-1],Q=V.row+V.rowspan,ne=Tn($,(he,Ae)=>vx(he,Q,Ae.row,T,B.getOrInit),v);return ai(ne,Q,C[0].column)},id,U,U,cc),dc=Ds((v,C,T,B)=>{const $=C.details,V=wg($),Q=V[0].column,ne=Tn(V,(he,Ae)=>({grid:nb(he.grid,Q,Ae.column+he.delta,T,B.getOrInit),delta:he.delta+1}),{grid:v,delta:0}).grid;return ai(ne,$[0].row,Q)},Hc(!0),cm,U,cc),uk=Ds((v,C,T,B)=>{const $=C.details,V=$[$.length-1],Q=V.column+V.colspan,ne=wg($),he=Tn(ne,(Ae,$e)=>nb(Ae,Q,$e.column,T,B.getOrInit),v);return ai(he,$[0].row,Q)},Hc(!1),cm,U,cc),l1=Ds((v,C,T,B)=>{const $=wg(C.details),V=((ne,he)=>vt(ne,Ae=>{const $e=Ae.cells,Se=Tn(he,(De,Pe)=>Pe>=0&&Pe<De.length?De.slice(0,Pe).concat(De.slice(Pe+1)):De,$e);return Se.length>0?[Vs(Ae.element,Se,Ae.section,Ae.isNew)]:[]}))(v,R($,ne=>ne.column)),Q=V.length>0?V[0].cells.length-1:0;return ai(V,$[0].row,Math.min($[0].column,Q))},(v,C)=>ka(v,C).map(T=>({details:T,pixelDelta:-dn(v,T)})),cm,tl,cc),Ex=Ds((v,C,T,B)=>{const $=Er(C),V=((ne,he,Ae)=>{const{rows:$e,cols:Se}=Br(ne);return[...Se,...$e.slice(0,he),...$e.slice(Ae+1)]})(v,$[0].row,$[$.length-1].row),Q=Math.max(Br(V).rows.length-1,0);return ai(V,Math.min(C[0].row,Q),C[0].column)},id,U,tl,cc),c1=Ds((v,C,T,B)=>{const $=wg(C),V=R($,ne=>ne.column),Q=rb(v,V,!0,T,B.replaceOrInit);return ai(Q,C[0].row,C[0].column)},ka,U,U,a1),Ax=Ds((v,C,T,B)=>{const $=wg(C),V=R($,ne=>ne.column),Q=rb(v,V,!1,T,B.replaceOrInit);return ai(Q,C[0].row,C[0].column)},ka,U,U,Dh),Tx=Ds(Bw,ka,U,U,a1),u1=Ds(ck,ka,U,U,Dh),Ox=Ds(Zr,ka,U,U,Dh),Dx=Ds((v,C,T,B)=>{const $=sb(v,C,T,B.replaceOrInit);return ai($,C[0].row,C[0].column)},ka,U,U,a1),Mw=Ds((v,C,T,B)=>{const $=sb(v,C,T,B.replaceOrInit);return ai($,C[0].row,C[0].column)},ka,U,U,Dh),dk=Ds((v,C,T,B)=>{const $=C.cells;r1($);const V=((Q,ne,he,Ae)=>{const $e=Br(Q).rows;if($e.length===0)return Q;for(let Se=ne.startRow;Se<=ne.finishRow;Se++)for(let De=ne.startCol;De<=ne.finishCol;De++){const Pe=$e[Se],Ge=ks(Pe,De).isLocked;fg(Pe,De,vs(Ae(),!1,Ge))}return Q})(v,C.bounds,0,B.merge($));return yu(V,oe.from($[0]))},(v,C)=>((T,B)=>B.mergable)(0,C).filter(T=>eb(v,T.cells)),Sx,U,Cx),cb=Ds((v,C,T,B)=>{const $=Tn(C,(V,Q)=>kh(V,Q,T,B.unmerge(Q)),v);return yu($,oe.from(C[0]))},(v,C)=>((T,B)=>B.unmergable)(0,C).filter(T=>eb(v,T)),Sx,U,Cx),Rx=Ds((v,C,T,B)=>{const $=((ne,he)=>{const Ae=go(ne);return as(Ae,he,!0)})(C.clipboard,C.generators);var V,Q;return((ne,he,Ae,$e,Se)=>{const De=pi(he),Pe=((At,Ct,Dt)=>{const Vt=wa(Ct[0]),Kt=Br(Ct).cols.length+At.row,tt=Ne(Vt-At.column,fn=>fn+At.column);return{row:Kt,column:Vn(tt,fn=>jt(Dt,Hn=>Hn!==fn)).getOr(Vt-1)}})(ne,he,De),Ge=Br(Ae).rows,Qe=n1(Pe,Ge,De);return((At,Ct,Dt)=>{if(At.row>=Ct.length||At.column>wa(Ct[0]))return Eh.error("invalid start address out of table bounds, row: "+At.row+", column: "+At.column);const Vt=Ct.slice(At.row),Kt=Vt[0].cells.slice(At.column),tt=wa(Dt[0]),fn=Dt.length;return Eh.value({rowDelta:Vt.length-fn,colDelta:Kt.length-tt})})(Pe,he,Ge).map(At=>{const Ct={...At,colDelta:At.colDelta-Qe.length},Dt=im(he,Ct,$e),Vt=pi(Dt),Kt=n1(Pe,Ge,Vt);return((tt,fn,Hn,io,jn,$n)=>{const ao=tt.row,Bo=tt.column,zs=ao+Hn.length,ii=Bo+wa(Hn[0])+$n.length,Aa=bs($n,Me);for(let zl=ao;zl<zs;zl++){let _m=0;for(let li=Bo;li<ii;li++){if(Aa[li]){_m++;continue}ik(fn,zl,li,jn)&&kh(fn,Wr(fn[zl],li),jn,io.cell);const Cu=li-Bo-_m,Fh=ks(Hn[zl-ao],Cu),pf=Fh.element,zh=io.replace(pf);fg(fn[zl],li,vs(zh,!0,Fh.isLocked))}}return fn})(Pe,Dt,Ge,$e,Se,Kt)})})((V=C.row,Q=C.column,{row:V,column:Q}),v,$,C.generators,T).fold(()=>yu(v,oe.some(C.element)),ne=>ai(ne,C.row,C.column))},(v,C)=>fh(C.element).bind(T=>ms(v,T).map(B=>({...B,generators:C.generators,clipboard:C.clipboard}))),Sx,U,cc),Eg=Ds((v,C,T,B)=>{const $=Br(v).rows,V=C.cells[0].column,Q=$[C.cells[0].row],ne=s1(C.clipboard,C.generators,Q),he=o1(V,v,ne,C.generators,T);return ai(he,C.cells[0].row,C.cells[0].column)},kx(!0),U,U,cc),fk=Ds((v,C,T,B)=>{const $=Br(v).rows,V=C.cells[C.cells.length-1].column+C.cells[C.cells.length-1].colspan,Q=$[C.cells[0].row],ne=s1(C.clipboard,C.generators,Q),he=o1(V,v,ne,C.generators,T);return ai(he,C.cells[0].row,V)},kx(!1),U,U,cc),mk=Ds((v,C,T,B)=>{const $=Br(v).rows,V=C.cells[0].row,Q=$[V],ne=s1(C.clipboard,C.generators,Q),he=bx(V,v,ne,C.generators,T);return ai(he,C.cells[0].row,C.cells[0].column)},Ll,U,U,cc),nf=Ds((v,C,T,B)=>{const $=Br(v).rows,V=C.cells[C.cells.length-1].row+C.cells[C.cells.length-1].rowspan,Q=$[C.cells[0].row],ne=s1(C.clipboard,C.generators,Q),he=bx(V,v,ne,C.generators,T);return ai(he,V,C.cells[0].column)},Ll,U,U,cc),um=(v,C)=>{const T=go(v);return id(T,C).bind(B=>{const $=B[B.length-1],V=B[0].column,Q=$.column+$.colspan,ne=yt(R(T.all,he=>pn(he.cells,Ae=>Ae.column>=V&&Ae.column<Q)));return da(ne)}).getOr("")},d1=(v,C)=>{const T=go(v);return id(T,C).bind(da).getOr("")},Pw=(v,C)=>{const T=go(v);return id(T,C).bind(B=>{const $=B[B.length-1],V=B[0].row,Q=$.row+$.rowspan;return(ne=>{const he=R(ne,Se=>Xp(Se).type),Ae=mt(he,"header"),$e=mt(he,"footer");if(Ae||$e){const Se=mt(he,"body");return!Ae||Se||$e?Ae||Se||!$e?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(T.all.slice(V,Q))}).getOr("")},Nx=(v,C)=>v.dispatch("NewRow",{node:C}),ub=(v,C)=>v.dispatch("NewCell",{node:C}),ud=(v,C,T)=>{v.dispatch("TableModified",{...T,table:C})},f1={structure:!1,style:!0},Xs={structure:!0,style:!1},ys={structure:!0,style:!0},of=(v,C)=>bu(v)?pu(C):N(v)?rs(C):vh(C),Ix=(v,C,T)=>{const B=$e=>Ft(Go($e))==="table",$=rd(v),V=Zp(v)?U:Sh,Q=$e=>{switch(tm(v)){case"section":return ma();case"sectionCells":return Dw();case"cells":return Rw();default:return((Se,De)=>{var Pe;switch((Pe=go(Se),J(Pe.all,Ge=>{const Qe=Xp(Ge);return Qe.type==="header"?oe.from(Qe.subType):oe.none()})).getOr(De)){case"section":return fa();case"sectionCells":return Lt();case"cells":return am()}})($e,"section")}},ne=($e,Se,De,Pe)=>(Ge,Qe,St=!1)=>{ss(Ge);const At=Ht.fromDom(v.getDoc()),Ct=Mr(De,At,$),Dt={sizing:of(v,Ge),resize:Zp(v)?xu():X0(),section:Q(Ge)};return Se(Ge)?$e(Ge,Qe,Ct,Dt).bind(Vt=>{C.refresh(Ge.dom),Nt(Vt.newRows,tt=>{Nx(v,tt.dom)}),Nt(Vt.newCells,tt=>{ub(v,tt.dom)});const Kt=((tt,fn)=>fn.cursor.fold(()=>{const Hn=us(tt);return En(Hn).filter(Ri).map(io=>{T.clearSelectedCells(tt.dom);const jn=v.dom.createRng();return jn.selectNode(io.dom),v.selection.setRng(jn),ar(io,"data-mce-selected","1"),jn})},Hn=>{const io=mx(Ch,Hn),jn=v.dom.createRng();return jn.setStart(io.element.dom,io.offset),jn.setEnd(io.element.dom,io.offset),v.selection.setRng(jn),T.clearSelectedCells(tt.dom),oe.some(jn)}))(Ge,Vt);return Ri(Ge)&&(ss(Ge),St||ud(v,Ge.dom,Pe)),Kt.map(tt=>({rng:tt,effect:Pe}))}):oe.none()},he=ne(Ex,$e=>!B(v)||zc($e).rows>1,U,Xs),Ae=ne(l1,$e=>!B(v)||zc($e).columns>1,U,Xs);return{deleteRow:he,deleteColumn:Ae,insertRowsBefore:ne(i1,Me,U,Xs),insertRowsAfter:ne(kg,Me,U,Xs),insertColumnsBefore:ne(dc,Me,V,Xs),insertColumnsAfter:ne(uk,Me,V,Xs),mergeCells:ne(dk,Me,U,Xs),unmergeCells:ne(cb,Me,U,Xs),pasteColsBefore:ne(Eg,Me,U,Xs),pasteColsAfter:ne(fk,Me,U,Xs),pasteRowsBefore:ne(mk,Me,U,Xs),pasteRowsAfter:ne(nf,Me,U,Xs),pasteCells:ne(Rx,Me,U,ys),makeCellsHeader:ne(Dx,Me,U,Xs),unmakeCellsHeader:ne(Mw,Me,U,Xs),makeColumnsHeader:ne(c1,Me,U,Xs),unmakeColumnsHeader:ne(Ax,Me,U,Xs),makeRowsHeader:ne(Tx,Me,U,Xs),makeRowsBody:ne(u1,Me,U,Xs),makeRowsFooter:ne(Ox,Me,U,Xs),getTableRowType:Pw,getTableCellType:d1,getTableColType:um}},m1=(v,C,T)=>{const B=ns(v,C,1);T===1||B<=1?so(v,C):ar(v,C,Math.min(T,B))},Ea=(v,C)=>T=>{const B=T.column+T.colspan-1,$=T.column;return B>=v&&$<C},Fi=lm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ag=(v,C,T)=>{const B=T.substring(0,T.length-v.length),$=parseFloat(B);return B===$.toString()?C($):Fi.invalid(T)},rf={...Fi,from:v=>Xt(v,"%")?Ag("%",Fi.percent,v):Xt(v,"px")?Ag("px",Fi.pixels,v):Fi.invalid(v)},dm=(v,C,T)=>{const B=rf.from(T),$=jt(v,V=>V==="0px")?((V,Q)=>{const ne=V.fold(()=>G(""),he=>G(he/Q+"px"),()=>G(100/Q+"%"));return Ne(Q,ne)})(B,v.length):((V,Q,ne)=>V.fold(()=>Q,he=>((Ae,$e,Se)=>{const De=Se/$e;return R(Ae,Pe=>rf.from(Pe).fold(()=>Pe,Ge=>Ge*De+"px",Ge=>Ge/100*Se+"px"))})(Q,ne,he),he=>((Ae,$e)=>R(Ae,Se=>rf.from(Se).fold(()=>Se,De=>De/$e*100+"%",De=>De+"%")))(Q,ne)))(B,v,C);return Bx($)},g1=(v,C)=>v.length===0?C:Tn(v,(T,B)=>rf.from(B).fold(G(0),ee,ee)+T,0),Lw=(v,C)=>rf.from(v).fold(G(v),T=>T+C+"px",T=>T+C+"%"),Bx=v=>{if(v.length===0)return v;const C=Tn(v,(B,$)=>{const V=rf.from($).fold(()=>({value:$,remainder:0}),Q=>((ne,he)=>{const Ae=Math.floor(ne);return{value:Ae+"px",remainder:ne-Ae}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[V.value].concat(B.output),remainder:B.remainder+V.remainder}},{output:[],remainder:0}),T=C.output;return T.slice(0,T.length-1).concat([Lw(T[T.length-1],Math.round(C.remainder))])},fm=rf.from,Ar=(v,C,T)=>{const B=go(v),$=B.all,V=An(B),Q=ec(B);C.each(ne=>{const he=fm(ne).fold(G("px"),G("px"),G("%")),Ae=Ji(v),$e=((De,Pe)=>Gs(De,Pe,vi,bh))(B,v),Se=dm($e,Ae,ne);tc(B)?((De,Pe,Ge)=>{Nt(Pe,(Qe,St)=>{const At=g1([De[St]],ml());co(Qe.element,"width",At+Ge)})})(Se,Q,he):((De,Pe,Ge)=>{Nt(Pe,Qe=>{const St=De.slice(Qe.column,Qe.colspan+Qe.column),At=g1(St,ml());co(Qe.element,"width",At+Ge)})})(Se,V,he),co(v,"width",ne)}),T.each(ne=>{const he=nd(v),Ae=(($e,Se)=>Ca($e,Se,si,bh))(B,v);(($e,Se,De)=>{Nt(De,Pe=>{Yi(Pe.element,"height")}),Nt(Se,(Pe,Ge)=>{co(Pe.element,"height",$e[Ge])})})(dm(Ae,he,ne),$,V),co(v,"height",ne)})},h1=v=>Bl(v).exists(C=>ta.test(C)),jr=v=>Bl(v).exists(C=>Bn.test(C)),wu=v=>Bl(v).isNone(),$c=v=>{so(v,"width"),so(v,"height")},Tg=v=>{const C=Zd(v);Ar(v,oe.some(C),oe.none()),$c(v)},nl=v=>{const C=(T=>Ji(T)+"px")(v);Ar(v,oe.some(C),oe.none()),$c(v)},ja=v=>{Yi(v,"width");const C=Ql(v),T=C.length>0?C:us(v);Nt(T,B=>{Yi(B,"width"),$c(B)}),$c(v)},mm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},db=(v,C,T,B)=>Ne(v,$=>((V,Q,ne,he)=>{const Ae=Ht.fromTag("tr");for(let $e=0;$e<V;$e++){const Se=Ht.fromTag(he<Q||$e<ne?"th":"td");$e<ne&&ar(Se,"scope","row"),he<Q&&ar(Se,"scope","col"),Yr(Se,Ht.fromTag("br")),Yr(Ae,Se)}return Ae})(C,T,B,$)),Og=(v,C)=>{v.selection.select(C.dom,!0),v.selection.collapse(!0)},fb=(v,C,T,B,$)=>{const V=(ne=>{const he=ne.options,Ae=he.get("table_default_styles");return he.isSet("table_default_styles")?Ae:(($e,Se)=>Z($e)||!ke($e)?Se:N($e)?{...Se,width:Pc($e)}:{...Se,width:Sl})(ne,Ae)})(v),Q={styles:V,attributes:Et(v),colGroups:Pn(v)};return v.undoManager.ignore(()=>{const ne=((Ae,$e,Se,De,Pe,Ge=mm)=>{const Qe=Ht.fromTag("table"),St=Pe!=="cells";fl(Qe,Ge.styles),gi(Qe,Ge.attributes),Ge.colGroups&&Yr(Qe,(Vt=>{const Kt=Ht.fromTag("colgroup");return Ne(Vt,()=>Yr(Kt,Ht.fromTag("col"))),Kt})($e));const At=Math.min(Ae,Se);if(St&&Se>0){const Vt=Ht.fromTag("thead");Yr(Qe,Vt);const Kt=db(Se,$e,Pe==="sectionCells"?At:0,De);ul(Vt,Kt)}const Ct=Ht.fromTag("tbody");Yr(Qe,Ct);const Dt=db(St?Ae-At:Ae,$e,St?0:Se,De);return ul(Ct,Dt),Qe})(T,C,$,B,tm(v),Q);ar(ne,"data-mce-id","__mce");const he=(Ae=>{const $e=Ht.fromTag("div"),Se=Ht.fromDom(Ae.dom.cloneNode(!0));return Yr($e,Se),(De=>De.dom.innerHTML)($e)})(ne);v.insertContent(he),v.addVisual()}),nt(Go(v),'table[data-mce-id="__mce"]').map(ne=>(N(v)?nl(ne):Z(v)?ja(ne):(bu(v)||(he=>x(he)&&he.indexOf("%")!==-1)(V.width))&&Tg(ne),ss(ne),so(ne,"data-mce-id"),((he,Ae)=>{Nt(fr(Ae,"tr"),$e=>{Nx(he,$e.dom),Nt(fr($e,"th,td"),Se=>{ub(he,Se.dom)})})})(v,ne),((he,Ae)=>{nt(Ae,"td,th").each(ge(Og,he))})(v,ne),ne.dom)).getOrNull()};var Dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Fw="x-tinymce/dom-table-",Mx=Fw+"rows",Px=Fw+"columns",zw=v=>{const C=Dg.FakeClipboardItem(v);Dg.write([C])},Ka=v=>{var C;const T=(C=Dg.read())!==null&&C!==void 0?C:[];return J(T,B=>oe.from(B.getType(v)))},gm=v=>{Ka(v).isSome()&&Dg.clear()},Hw=v=>{v.fold(zi,C=>zw({[Mx]:C}))},fc=()=>Ka(Mx),zi=()=>gm(Mx),Rg=v=>{v.fold($w,C=>zw({[Px]:C}))},Rh=()=>Ka(Px),$w=()=>gm(Px),gs=v=>Jd(rc(v),Ts(v)).filter(G0),hs=(v,C)=>{const T=Ts(v),B=Se=>Xi(Se,T),$=Se=>(De=>Xr(rc(De),Ts(De)).filter(G0))(v).bind(De=>B(De).map(Pe=>Se(Pe,De))),V=Se=>{v.focus()},Q=(Se,De=!1)=>$((Pe,Ge)=>{const Qe=fo(ac(v),Pe,Ge);Se(Pe,Qe,De).each(V)}),ne=()=>$((Se,De)=>((Pe,Ge,Qe)=>{const St=go(Pe);return id(St,Ge).bind(At=>{const Ct=as(St,Qe,!1),Dt=Br(Ct).rows.slice(At[0].row,At[At.length-1].row+At[At.length-1].rowspan),Vt=vt(Dt,tt=>{const fn=pn(tt.cells,Hn=>!Hn.isLocked);return fn.length>0?[{...tt,cells:fn}]:[]}),Kt=Qp(Vt);return nn(Kt.length>0,Kt)}).map(At=>R(At,Ct=>{const Dt=Zf(Ct.element);return Nt(Ct.cells,Vt=>{const Kt=Sc(Vt.element);ad(Kt,"colspan",Vt.colspan,1),ad(Kt,"rowspan",Vt.rowspan,1),Yr(Dt,Kt)}),Dt}))})(Se,fo(ac(v),Se,De),Mr(U,Ht.fromDom(v.getDoc()),oe.none()))),he=()=>$((Se,De)=>((Pe,Ge)=>{const Qe=go(Pe);return ka(Qe,Ge).map(St=>{const At=St[St.length-1],Ct=St[0].column,Dt=At.column+At.colspan,Vt=((tt,fn,Hn)=>{if(tc(tt)){const io=pn(ec(tt),Ea(fn,Hn)),jn=R(io,ao=>{const Bo=Sc(ao.element);return m1(Bo,"span",Hn-fn),Bo}),$n=Ht.fromTag("colgroup");return ul($n,jn),[$n]}return[]})(Qe,Ct,Dt),Kt=((tt,fn,Hn)=>R(tt.all,io=>{const jn=pn(io.cells,Ea(fn,Hn)),$n=R(jn,Bo=>{const zs=Sc(Bo.element);return m1(zs,"colspan",Hn-fn),zs}),ao=Ht.fromTag("tr");return ul(ao,$n),ao}))(Qe,Ct,Dt);return[...Vt,...Kt]})})(Se,fo(ac(v),Se,De))),Ae=(Se,De)=>De().each(Pe=>{const Ge=R(Pe,Qe=>Sc(Qe));$((Qe,St)=>{const At=lr(Ht.fromDom(v.getDoc())),Ct=((Dt,Vt,Kt,tt)=>({selection:Yd(Dt),clipboard:Kt,generators:tt}))(ac(v),0,Ge,At);Se(Qe,Ct).each(V)})}),$e=Se=>(De,Pe)=>((Ge,Qe)=>Ie(Ge,Qe)?oe.from(Ge[Qe]):oe.none())(Pe,"type").each(Ge=>{Q(Se(Ge),Pe.no_events)});jo({mceTableSplitCells:()=>Q(C.unmergeCells),mceTableMergeCells:()=>Q(C.mergeCells),mceTableInsertRowBefore:()=>Q(C.insertRowsBefore),mceTableInsertRowAfter:()=>Q(C.insertRowsAfter),mceTableInsertColBefore:()=>Q(C.insertColumnsBefore),mceTableInsertColAfter:()=>Q(C.insertColumnsAfter),mceTableDeleteCol:()=>Q(C.deleteColumn),mceTableDeleteRow:()=>Q(C.deleteRow),mceTableCutCol:()=>he().each(Se=>{Rg(Se),Q(C.deleteColumn)}),mceTableCutRow:()=>ne().each(Se=>{Hw(Se),Q(C.deleteRow)}),mceTableCopyCol:()=>he().each(Se=>Rg(Se)),mceTableCopyRow:()=>ne().each(Se=>Hw(Se)),mceTablePasteColBefore:()=>Ae(C.pasteColsBefore,Rh),mceTablePasteColAfter:()=>Ae(C.pasteColsAfter,Rh),mceTablePasteRowBefore:()=>Ae(C.pasteRowsBefore,fc),mceTablePasteRowAfter:()=>Ae(C.pasteRowsAfter,fc),mceTableDelete:()=>gs(v).each(Se=>{Xi(Se,T).filter(Le(T)).each(De=>{const Pe=Ht.fromText("");if(au(De,Pe),Vr(De),v.dom.isEmpty(v.getBody()))v.setContent(""),v.selection.setCursorLocation();else{const Ge=v.dom.createRng();Ge.setStart(Pe.dom,0),Ge.setEnd(Pe.dom,0),v.selection.setRng(Ge),v.nodeChanged()}})}),mceTableCellToggleClass:(Se,De)=>{$(Pe=>{const Ge=ac(v),Qe=jt(Ge,At=>v.formatter.match("tablecellclass",{value:De},At.dom)),St=Qe?v.formatter.remove:v.formatter.apply;Nt(Ge,At=>St("tablecellclass",{value:De},At.dom)),ud(v,Pe.dom,f1)})},mceTableToggleClass:(Se,De)=>{$(Pe=>{v.formatter.toggle("tableclass",{value:De},Pe.dom),ud(v,Pe.dom,f1)})},mceTableToggleCaption:()=>{gs(v).each(Se=>{Xi(Se,T).each(De=>{at(De,"caption").fold(()=>{const Pe=Ht.fromTag("caption");Yr(Pe,Ht.fromText("Caption")),((Ge,Qe,St)=>{su(Ge,0).fold(()=>{Yr(Ge,Qe)},At=>{Qt(At,Qe)})})(De,Pe),v.selection.setCursorLocation(Pe.dom,0)},Pe=>{Oo("caption")(Se)&&wl("td",De).each(Ge=>v.selection.setCursorLocation(Ge.dom,0)),Vr(Pe)}),ud(v,De.dom,Xs)})})},mceTableSizingMode:(Se,De)=>(Pe=>gs(v).each(Ge=>{Z(v)||N(v)||bu(v)||Xi(Ge,T).each(Qe=>{Pe!=="relative"||h1(Qe)?Pe!=="fixed"||jr(Qe)?Pe!=="responsive"||wu(Qe)||ja(Qe):nl(Qe):Tg(Qe),ss(Qe),ud(v,Qe.dom,Xs)})}))(De),mceTableCellType:$e(Se=>Se==="th"?C.makeCellsHeader:C.unmakeCellsHeader),mceTableColType:$e(Se=>Se==="th"?C.makeColumnsHeader:C.unmakeColumnsHeader),mceTableRowType:$e(Se=>{switch(Se){case"header":return C.makeRowsHeader;case"footer":return C.makeRowsFooter;default:return C.makeRowsBody}})},(Se,De)=>v.addCommand(De,Se)),v.addCommand("mceInsertTable",(Se,De)=>{((Pe,Ge,Qe,St={})=>{const At=Ct=>W(Ct)&&Ct>0;if(At(Ge)&&At(Qe)){const Ct=St.headerRows||0,Dt=St.headerColumns||0;return fb(Pe,Qe,Ge,Dt,Ct)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(v,De.rows,De.columns,De.options)}),v.addCommand("mceTableApplyCellStyle",(Se,De)=>{const Pe=St=>"tablecell"+St.toLowerCase().replace("-","");if(!b(De))return;const Ge=pn(ac(v),G0);if(Ge.length===0)return;const Qe=((St,At)=>{const Ct={};return((Dt,Vt,Kt,tt)=>{jo(Dt,(fn,Hn)=>{(Vt(fn,Hn)?Kt:tt)(fn,Hn)})})(St,At,(Dt=>(Vt,Kt)=>{Dt[Kt]=Vt})(Ct),U),Ct})(De,(St,At)=>v.formatter.has(Pe(At))&&x(St));(St=>{for(const At in St)if(dr.call(St,At))return!1;return!0})(Qe)||(jo(Qe,(St,At)=>{const Ct=Pe(At);Nt(Ge,Dt=>{St===""?v.formatter.remove(Ct,{value:null},Dt.dom,!0):v.formatter.apply(Ct,{value:St},Dt.dom)})}),B(Ge[0]).each(St=>ud(v,St.dom,f1)))})},Fs=lm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gr={before:Fs.before,on:Fs.on,after:Fs.after,cata:(v,C,T,B)=>v.fold(C,T,B),getStart:v=>v.fold(ee,ee,ee)},is=(v,C)=>({selection:v,kill:C}),Rs=(v,C)=>{const T=v.document.createRange();return T.selectNode(C.dom),T},p1=(v,C)=>{const T=v.document.createRange();return b1(T,C),T},b1=(v,C)=>v.selectNodeContents(C.dom),Lx=(v,C,T)=>{const B=v.document.createRange();var $;return $=B,C.fold(V=>{$.setStartBefore(V.dom)},(V,Q)=>{$.setStart(V.dom,Q)},V=>{$.setStartAfter(V.dom)}),((V,Q)=>{Q.fold(ne=>{V.setEndBefore(ne.dom)},(ne,he)=>{V.setEnd(ne.dom,he)},ne=>{V.setEndAfter(ne.dom)})})(B,T),B},mb=(v,C,T,B,$)=>{const V=v.document.createRange();return V.setStart(C.dom,T),V.setEnd(B.dom,$),V},Fx=v=>({left:v.left,top:v.top,right:v.right,bottom:v.bottom,width:v.width,height:v.height}),Ng=lm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),v1=(v,C,T)=>C(Ht.fromDom(T.startContainer),T.startOffset,Ht.fromDom(T.endContainer),T.endOffset),x1=(v,C)=>{const T=((B,$)=>$.match({domRange:V=>({ltr:G(V),rtl:oe.none}),relative:(V,Q)=>({ltr:ca(()=>Lx(B,V,Q)),rtl:ca(()=>oe.some(Lx(B,Q,V)))}),exact:(V,Q,ne,he)=>({ltr:ca(()=>mb(B,V,Q,ne,he)),rtl:ca(()=>oe.some(mb(B,ne,he,V,Q)))})}))(v,C);return((B,$)=>{const V=$.ltr();return V.collapsed?$.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Ng.rtl(Ht.fromDom(Q.endContainer),Q.endOffset,Ht.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>v1(0,Ng.ltr,V)):v1(0,Ng.ltr,V)})(0,T)},zx=(v,C)=>x1(v,C).match({ltr:(T,B,$,V)=>{const Q=v.document.createRange();return Q.setStart(T.dom,B),Q.setEnd($.dom,V),Q},rtl:(T,B,$,V)=>{const Q=v.document.createRange();return Q.setStart($.dom,V),Q.setEnd(T.dom,B),Q}});Ng.ltr,Ng.rtl;const gb=(v,C,T,B)=>({start:v,soffset:C,finish:T,foffset:B}),ol=(v,C,T,B)=>({start:gr.on(v,C),finish:gr.on(T,B)}),Hx=(v,C)=>{const T=zx(v,C);return gb(Ht.fromDom(T.startContainer),T.startOffset,Ht.fromDom(T.endContainer),T.endOffset)},_i=ol,hb=(v,C,T,B,$)=>yr(T,B)?oe.none():Lc(T,B,C).bind(V=>{const Q=V.boxes.getOr([]);return Q.length>1?($(v,Q,V.start,V.finish),oe.some(is(oe.some(_i(T,0,T,Es(T))),!0))):oe.none()}),Ig=(v,C)=>({item:v,mode:C}),Vc=(v,C,T,B=Ns)=>v.property().parent(C).map($=>Ig($,B)),Ns=(v,C,T,B=hm)=>T.sibling(v,C).map($=>Ig($,B)),hm=(v,C,T,B=hm)=>{const $=v.property().children(C);return T.first($).map(V=>Ig(V,B))},$x=[{current:Vc,next:Ns,fallback:oe.none()},{current:Ns,next:hm,fallback:oe.some(Vc)},{current:hm,next:hm,fallback:oe.some(Ns)}],Vx=(v,C,T,B,$=$x)=>Vn($,V=>V.current===T).bind(V=>V.current(v,C,B,V.next).orThunk(()=>V.fallback.bind(Q=>Vx(v,C,Q,B)))),pb=(v,C,T,B,$,V)=>Vx(v,C,B,$).bind(Q=>V(Q.item)?oe.none():T(Q.item)?oe.some(Q.item):pb(v,Q.item,T,Q.mode,$,V)),dd=v=>C=>v.property().children(C).length===0,gk=(v,C,T,B)=>pb(v,C,T,Ns,{sibling:($,V)=>$.query().prevSibling(V),first:$=>$.length>0?oe.some($[$.length-1]):oe.none()},B),bb=(v,C,T,B)=>pb(v,C,T,Ns,{sibling:($,V)=>$.query().nextSibling(V),first:$=>$.length>0?oe.some($[0]):oe.none()},B),pm=Kd(),Vw=(v,C)=>((T,B,$)=>gk(T,B,dd(T),$))(pm,v,C),vb=(v,C)=>((T,B,$)=>bb(T,B,dd(T),$))(pm,v,C),xb=lm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),y1=v=>We(v,"tr"),Nh={...xb,verify:(v,C,T,B,$,V,Q)=>We(B,"td,th",Q).bind(ne=>We(C,"td,th",Q).map(he=>yr(ne,he)?yr(B,ne)&&Es(ne)===$?V(he):xb.none("in same cell"):qd(y1,[ne,he]).fold(()=>((Ae,$e,Se)=>{const De=Ae.getRect($e),Pe=Ae.getRect(Se);return Pe.right>De.left&&Pe.left<De.right})(v,he,ne)?xb.success():V(he),Ae=>V(he)))).getOr(xb.none("default")),cata:(v,C,T,B,$)=>v.fold(C,T,B,$)},w1=Oo("br"),Ci=(v,C,T)=>C(v,T).bind(B=>ro(B)&&em(B).trim().length===0?Ci(B,C,T):oe.some(B)),Ux=(v,C,T,B)=>(($,V)=>su($,V).filter(w1).orThunk(()=>su($,V-1).filter(w1)))(C,T).bind($=>B.traverse($).fold(()=>Ci($,B.gather,v).map(B.relative),V=>(Q=>qi(Q).bind(ne=>{const he=la(ne);return((Ae,$e)=>Nr(Ae,ge(yr,$e)))(he,Q).map(Ae=>(($e,Se,De,Pe)=>({parent:$e,children:Se,element:De,index:Pe}))(ne,he,Q,Ae))}))(V).map(Q=>gr.on(Q.parent,Q.index)))),fd=(v,C)=>({left:v.left,top:v.top+C,right:v.right,bottom:v.bottom+C}),yb=(v,C)=>({left:v.left,top:v.top-C,right:v.right,bottom:v.bottom-C}),_u=(v,C,T)=>({left:v.left+C,top:v.top+T,right:v.right+C,bottom:v.bottom+T}),wb=v=>({left:v.left,top:v.top,right:v.right,bottom:v.bottom}),_b=(v,C)=>oe.some(v.getRect(C)),bm=(v,C,T)=>Cn(C)?_b(v,C).map(wb):ro(C)?((B,$,V)=>V>=0&&V<Es($)?B.getRangedRect($,V,$,V+1):V>0?B.getRangedRect($,V-1,$,V):oe.none())(v,C,T).map(wb):oe.none(),Bg=(v,C)=>Cn(C)?_b(v,C).map(wb):ro(C)?v.getRangedRect(C,0,C,Es(C)).map(wb):oe.none(),mc=lm([{none:[]},{retry:["caret"]}]),Cb=(v,C,T)=>Ke(C,Cg).fold(ie,B=>Bg(v,B).exists($=>((V,Q)=>V.left<Q.left||Math.abs(Q.right-V.left)<1||V.left>Q.right)(T,$))),hk={point:v=>v.bottom,adjuster:(v,C,T,B,$)=>{const V=fd($,5);return Math.abs(T.bottom-B.bottom)<1||T.top>$.bottom?mc.retry(V):T.top===$.bottom?mc.retry(fd($,1)):Cb(v,C,$)?mc.retry(_u(V,5,0)):mc.none()},move:fd,gather:vb},Fl=(v,C,T,B,$)=>$===0?oe.some(B):((V,Q,ne)=>V.elementFromPoint(Q,ne).filter(he=>Ft(he)==="table").isSome())(v,B.left,C.point(B))?((V,Q,ne,he,Ae)=>Fl(V,Q,ne,Q.move(he,5),Ae))(v,C,T,B,$-1):v.situsFromPoint(B.left,C.point(B)).bind(V=>V.start.fold(oe.none,Q=>Bg(v,Q).bind(ne=>C.adjuster(v,Q,ne,T,B).fold(oe.none,he=>Fl(v,C,T,he,$-1))).orThunk(()=>oe.some(B)),oe.none)),md=(v,C,T)=>{const B=v.move(T,5),$=Fl(C,v,T,B,100).getOr(B);return((V,Q,ne)=>V.point(Q)>ne.getInnerHeight()?oe.some(V.point(Q)-ne.getInnerHeight()):V.point(Q)<0?oe.some(-V.point(Q)):oe.none())(v,$,C).fold(()=>C.situsFromPoint($.left,v.point($)),V=>(C.scrollBy(0,V),C.situsFromPoint($.left,v.point($)-V)))},gc={tryUp:ge(md,{point:v=>v.top,adjuster:(v,C,T,B,$)=>{const V=yb($,5);return Math.abs(T.top-B.top)<1||T.bottom<$.top?mc.retry(V):T.bottom===$.top?mc.retry(yb($,1)):Cb(v,C,$)?mc.retry(_u(V,5,0)):mc.none()},move:yb,gather:Vw}),tryDown:ge(md,hk),getJumpSize:G(5)},Wx=(v,C,T)=>v.getSelection().bind(B=>(($,V,Q,ne)=>(w1(V)?((Ae,$e,Se)=>Se.traverse($e).orThunk(()=>Ci($e,Se.gather,Ae)).map(Se.relative))($,V,ne):Ux($,V,Q,ne)).map(Ae=>({start:Ae,finish:Ae})))(C,B.finish,B.foffset,T).fold(()=>oe.some(Qn(B.finish,B.foffset)),$=>{const V=v.fromSitus($);return Q=Nh.verify(v,B.finish,B.foffset,V.finish,V.foffset,T.failure,C),Nh.cata(Q,ne=>oe.none(),()=>oe.none(),ne=>oe.some(Qn(ne,0)),ne=>oe.some(Qn(ne,Es(ne))));var Q})),oa=(v,C,T,B,$,V)=>V===0?oe.none():pk(v,C,T,B,$).bind(Q=>{const ne=v.fromSitus(Q),he=Nh.verify(v,T,B,ne.finish,ne.foffset,$.failure,C);return Nh.cata(he,()=>oe.none(),()=>oe.some(Q),Ae=>yr(T,Ae)&&B===0?hc(v,T,B,yb,$):oa(v,C,Ae,0,$,V-1),Ae=>yr(T,Ae)&&B===Es(Ae)?hc(v,T,B,fd,$):oa(v,C,Ae,Es(Ae),$,V-1))}),hc=(v,C,T,B,$)=>bm(v,C,T).bind(V=>rl(v,$,B(V,gc.getJumpSize()))),rl=(v,C,T)=>{const B=j0().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?C.retry(v,T):oe.none()},pk=(v,C,T,B,$)=>bm(v,T,B).bind(V=>rl(v,$,V)),sf=(v,C,T,B,$)=>We(B,"td,th",C).bind(V=>We(V,"table",C).bind(Q=>((ne,he)=>_e(ne,Ae=>qi(Ae).exists($e=>yr($e,he)),void 0).isSome())($,Q)?((ne,he,Ae)=>Wx(ne,he,Ae).bind($e=>oa(ne,he,$e.element,$e.offset,Ae,20).map(ne.fromSitus)))(v,C,T).bind(ne=>We(ne.finish,"td,th",C).map(he=>({start:V,finish:he,range:ne}))):oe.none())),gd=(v,C,T,B,$,V)=>V(B,C).orThunk(()=>sf(v,C,T,B,$).map(Q=>{const ne=Q.range;return is(oe.some(_i(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),Ih=(v,C)=>We(v,"tr",C).bind(T=>We(T,"table",C).bind(B=>{const $=fr(B,"tr");return yr(T,$[0])?((V,Q,ne)=>gk(pm,V,he=>Mc(he).isSome(),ne))(B,0,C).map(V=>{const Q=Es(V);return is(oe.some(_i(V,Q,V,Q)),!0)}):oe.none()})),vm=(v,C)=>We(v,"tr",C).bind(T=>We(T,"table",C).bind(B=>{const $=fr(B,"tr");return yr(T,$[$.length-1])?((V,Q,ne)=>bb(pm,V,he=>gg(he).isSome(),ne))(B,0,C).map(V=>is(oe.some(_i(V,0,V,0)),!0)):oe.none()})),kl=(v,C,T,B,$,V,Q)=>sf(v,T,B,$,V).bind(ne=>hb(C,T,ne.start,ne.finish,Q)),_1=v=>{let C=v;return{get:()=>C,set:T=>{C=T}}},C1=()=>{const v=(C=>{const T=_1(oe.none()),B=()=>T.get().each(C);return{clear:()=>{B(),T.set(oe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:$=>{B(),T.set(oe.some($))}}})(U);return{...v,on:C=>v.get().each(C)}},Sb=(v,C)=>We(v,"td,th",C),S1=v=>ru(v).exists(Yn),Uw={traverse:_l,gather:vb,relative:gr.before,retry:gc.tryDown,failure:Nh.failedDown},kb={traverse:Gn,gather:Vw,relative:gr.before,retry:gc.tryUp,failure:Nh.failedUp},hd=v=>C=>C===v,Eb=hd(38),Mg=hd(40),Pg=v=>v>=37&&v<=40,af={isBackward:hd(37),isForward:hd(39)},lf={isBackward:hd(39),isForward:hd(37)},Ab=lm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),cf={domRange:Ab.domRange,relative:Ab.relative,exact:Ab.exact,exactFromRange:v=>Ab.exact(v.start,v.soffset,v.finish,v.foffset),getWin:v=>{const C=(T=>T.match({domRange:B=>Ht.fromDom(B.startContainer),relative:(B,$)=>gr.getStart(B),exact:(B,$,V,Q)=>B}))(v);return Ht.fromDom(Jl(C).dom.defaultView)},range:gb},uf=(v,C)=>{const T=Ft(v);return T==="input"?gr.after(v):mt(["br","img"],T)?C===0?gr.before(v):gr.after(v):gr.on(v,C)},df=v=>oe.from(v.getSelection()),Lg=(v,C)=>{df(v).each(T=>{T.removeAllRanges(),T.addRange(C)})},k1=(v,C,T,B,$)=>{const V=mb(v,C,T,B,$);Lg(v,V)},Bh=(v,C)=>x1(v,C).match({ltr:(T,B,$,V)=>{k1(v,T,B,$,V)},rtl:(T,B,$,V)=>{df(v).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(T.dom,B,$.dom,V);else if(Q.extend)try{((ne,he,Ae,$e,Se,De)=>{he.collapse(Ae.dom,$e),he.extend(Se.dom,De)})(0,Q,T,B,$,V)}catch{k1(v,$,V,T,B)}else k1(v,$,V,T,B)})}}),E1=(v,C,T,B,$)=>{const V=((Q,ne,he,Ae)=>{const $e=uf(Q,ne),Se=uf(he,Ae);return cf.relative($e,Se)})(C,T,B,$);Bh(v,V)},Zx=(v,C,T)=>{const B=(($,V)=>{const Q=$.fold(gr.before,uf,gr.after),ne=V.fold(gr.before,uf,gr.after);return cf.relative(Q,ne)})(C,T);Bh(v,B)},Mh=v=>{if(v.rangeCount>0){const C=v.getRangeAt(0),T=v.getRangeAt(v.rangeCount-1);return oe.some(gb(Ht.fromDom(C.startContainer),C.startOffset,Ht.fromDom(T.endContainer),T.endOffset))}return oe.none()},ra=v=>{if(v.anchorNode===null||v.focusNode===null)return Mh(v);{const C=Ht.fromDom(v.anchorNode),T=Ht.fromDom(v.focusNode);return((B,$,V,Q)=>{const ne=((Ae,$e,Se,De)=>{const Pe=ou(Ae).dom.createRange();return Pe.setStart(Ae.dom,$e),Pe.setEnd(Se.dom,De),Pe})(B,$,V,Q),he=yr(B,V)&&$===Q;return ne.collapsed&&!he})(C,v.anchorOffset,T,v.focusOffset)?oe.some(gb(C,v.anchorOffset,T,v.focusOffset)):Mh(v)}},jx=(v,C,T=!0)=>{const B=(T?p1:Rs)(v,C);Lg(v,B)},Ww=v=>(C=>df(C).filter(T=>T.rangeCount>0).bind(ra))(v).map(C=>cf.exact(C.start,C.soffset,C.finish,C.foffset)),Kx=(v,C,T)=>((B,$,V)=>((Q,ne,he)=>Q.caretPositionFromPoint?((Ae,$e,Se)=>{var De;return oe.from((De=Ae.caretPositionFromPoint)===null||De===void 0?void 0:De.call(Ae,$e,Se)).bind(Pe=>{if(Pe.offsetNode===null)return oe.none();const Ge=Ae.createRange();return Ge.setStart(Pe.offsetNode,Pe.offset),Ge.collapse(),oe.some(Ge)})})(Q,ne,he):Q.caretRangeFromPoint?((Ae,$e,Se)=>{var De;return oe.from((De=Ae.caretRangeFromPoint)===null||De===void 0?void 0:De.call(Ae,$e,Se))})(Q,ne,he):oe.none())(B.document,$,V).map(Q=>gb(Ht.fromDom(Q.startContainer),Q.startOffset,Ht.fromDom(Q.endContainer),Q.endOffset)))(v,C,T),qx=v=>({elementFromPoint:(C,T)=>Ht.fromPoint(Ht.fromDom(v.document),C,T),getRect:C=>C.dom.getBoundingClientRect(),getRangedRect:(C,T,B,$)=>{const V=cf.exact(C,T,B,$);return((Q,ne)=>(he=>{const Ae=he.getClientRects(),$e=Ae.length>0?Ae[0]:he.getBoundingClientRect();return $e.width>0||$e.height>0?oe.some($e).map(Fx):oe.none()})(zx(Q,ne)))(v,V)},getSelection:()=>Ww(v).map(C=>Hx(v,C)),fromSitus:C=>{const T=cf.relative(C.start,C.finish);return Hx(v,T)},situsFromPoint:(C,T)=>Kx(v,C,T).map(B=>ol(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(C=>{df(C).each(T=>T.removeAllRanges())})(v)},collapseSelection:(C=!1)=>{Ww(v).each(T=>T.fold(B=>B.collapse(C),(B,$)=>{const V=C?B:$;Zx(v,V,V)},(B,$,V,Q)=>{const ne=C?B:V,he=C?$:Q;E1(v,ne,he,ne,he)}))},setSelection:C=>{E1(v,C.start,C.soffset,C.finish,C.foffset)},setRelativeSelection:(C,T)=>{Zx(v,C,T)},selectNode:C=>{jx(v,C,!1)},selectContents:C=>{jx(v,C)},getInnerHeight:()=>v.innerHeight,getScrollY:()=>(C=>{const T=C!==void 0?C.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,$=T.body.scrollTop||T.documentElement.scrollTop;return Bi(B,$)})(Ht.fromDom(v.document)).top,scrollBy:(C,T)=>{((B,$,V)=>{const Q=(V!==void 0?V.dom:document).defaultView;Q&&Q.scrollBy(B,$)})(C,T,Ht.fromDom(v.document))}}),ff=(v,C)=>({rows:v,cols:C}),A1=v=>Ke(v,xn).exists(Yn),Tb=(v,C)=>A1(v)||A1(C),Gx=v=>v.dom.classList!==void 0,bk=(v,C)=>((T,B,$)=>{const V=((Q,ne)=>{const he=ln(Q,ne);return he===void 0||he===""?[]:he.split(" ")})(T,B).concat([$]);return ar(T,B,V.join(" ")),!0})(v,"class",C),mf=(v,C)=>{Gx(v)?v.dom.classList.add(C):bk(v,C)},Ob=(v,C)=>Gx(v)&&v.dom.classList.contains(C),Zw=()=>({tag:"none"}),jw=v=>({tag:"multiple",elements:v}),Uc=v=>({tag:"single",element:v}),Yx=v=>{const C=Ht.fromDom((ne=>{if(D(ne.target)){const he=Ht.fromDom(ne.target);if(Cn(he)&&D(he.dom.shadowRoot)&&ne.composed&&ne.composedPath){const Ae=ne.composedPath();if(Ae)return En(Ae)}}return oe.from(ne.target)})(v).getOr(v.target)),T=()=>v.stopPropagation(),B=()=>v.preventDefault(),$=(V=B,Q=T,(...ne)=>V(Q.apply(null,ne)));var V,Q;return((ne,he,Ae,$e,Se,De,Pe)=>({target:ne,x:he,y:Ae,stop:$e,prevent:Se,kill:De,raw:Pe}))(C,v.clientX,v.clientY,T,B,$,v)},T1=(v,C,T,B)=>{v.dom.removeEventListener(C,T,B)},Kw=Me,Fg=(v,C,T)=>((B,$,V,Q)=>((ne,he,Ae,$e,Se)=>{const De=((Pe,Ge)=>Qe=>{Pe(Qe)&&Ge(Yx(Qe))})(Ae,$e);return ne.dom.addEventListener(he,De,Se),{unbind:ge(T1,ne,he,De,Se)}})(B,$,V,Q,!1))(v,C,Kw,T),Ph=Yx,Db=v=>!Ob(Ht.fromDom(v.target),"ephox-snooker-resizer-bar"),qw=(v,C)=>{const T=($=Xd.selectedSelector,{get:()=>sc(Ht.fromDom(v.getBody()),$).fold(()=>Xr(rc(v),Ts(v)).fold(Zw,Uc),jw)}),B=((V,Q,ne)=>{const he=De=>{so(De,V.selected),so(De,V.firstSelected),so(De,V.lastSelected)},Ae=De=>{ar(De,V.selected,"1")},$e=De=>{Se(De),ne()},Se=De=>{const Pe=fr(De,`${V.selectedSelector},${V.firstSelectedSelector},${V.lastSelectedSelector}`);Nt(Pe,he)};return{clearBeforeUpdate:Se,clear:$e,selectRange:(De,Pe,Ge,Qe)=>{$e(De),Nt(Pe,Ae),ar(Ge,V.firstSelected,"1"),ar(Qe,V.lastSelected,"1"),Q(Pe,Ge,Qe)},selectedSelector:V.selectedSelector,firstSelectedSelector:V.firstSelectedSelector,lastSelectedSelector:V.lastSelectedSelector}})(Xd,(V,Q,ne)=>{Xi(Q).each(he=>{const Ae=R(V,Pe=>Pe.dom),$e=rd(v),Se=Mr(U,Ht.fromDom(v.getDoc()),$e),De=((Pe,Ge,Qe)=>{const St=go(Pe);return id(St,Ge).map(At=>{const Ct=as(St,Qe,!1),{rows:Dt}=Br(Ct),Vt=((tt,fn)=>{const Hn=tt.slice(0,fn[fn.length-1].row+1),io=Qp(Hn);return vt(io,jn=>{const $n=jn.cells.slice(0,fn[fn.length-1].column+1);return R($n,ao=>ao.element)})})(Dt,At),Kt=((tt,fn)=>{const Hn=tt.slice(fn[0].row+fn[0].rowspan-1,tt.length),io=Qp(Hn);return vt(io,jn=>{const $n=jn.cells.slice(fn[0].column+fn[0].colspan-1,jn.cells.length);return R($n,ao=>ao.element)})})(Dt,At);return{upOrLeftCells:Vt,downOrRightCells:Kt}})})(he,{selection:ac(v)},Se).map(Pe=>ei(Pe,Ge=>R(Ge,Qe=>Qe.dom))).getOrUndefined();((Pe,Ge,Qe,St,At)=>{Pe.dispatch("TableSelectionChange",{cells:Ge,start:Qe,finish:St,otherCells:At})})(v,Ae,Q.dom,ne.dom,De)})},()=>(V=>{V.dispatch("TableSelectionClear")})(v));var $;return v.on("init",V=>{const Q=v.getWin(),ne=Go(v),he=Ts(v),Ae=((Qe,St,At,Ct)=>{const Dt=((Vt,Kt,tt,fn)=>{const Hn=C1(),io=Hn.clear,jn=$n=>{Hn.on(ao=>{fn.clearBeforeUpdate(Kt),Sb($n.target,tt).each(Bo=>{Lc(ao,Bo,tt).each(zs=>{const ii=zs.boxes.getOr([]);if(ii.length===1){const Aa=ii[0],zl=yn(Aa)==="false",_m=Pt(oo($n.target),Aa,yr);zl&&_m&&fn.selectRange(Kt,ii,Aa,Aa)}else ii.length>1&&(fn.selectRange(Kt,ii,zs.start,zs.finish),Vt.selectContents(Bo))})})})};return{clearstate:io,mousedown:$n=>{fn.clear(Kt),Sb($n.target,tt).filter(S1).each(Hn.set)},mouseover:$n=>{jn($n)},mouseup:$n=>{jn($n),io()}}})(qx(Qe),St,At,Ct);return{clearstate:Dt.clearstate,mousedown:Dt.mousedown,mouseover:Dt.mouseover,mouseup:Dt.mouseup}})(Q,ne,he,B),$e=((Qe,St,At,Ct)=>{const Dt=qx(Qe),Vt=()=>(Ct.clear(St),oe.none());return{keydown:(Kt,tt,fn,Hn,io,jn)=>{const $n=Kt.raw,ao=$n.which,Bo=$n.shiftKey===!0;return Yp(St,Ct.selectedSelector).fold(()=>(Pg(ao)&&!Bo&&Ct.clearBeforeUpdate(St),Pg(ao)&&Bo&&!Tb(tt,Hn)?oe.none:Mg(ao)&&Bo?ge(kl,Dt,St,At,Uw,Hn,tt,Ct.selectRange):Eb(ao)&&Bo?ge(kl,Dt,St,At,kb,Hn,tt,Ct.selectRange):Mg(ao)?ge(gd,Dt,At,Uw,Hn,tt,vm):Eb(ao)?ge(gd,Dt,At,kb,Hn,tt,Ih):oe.none),ii=>{const Aa=zl=>()=>J(zl,li=>((Cu,Fh,pf,zh,M1)=>Wa(zh,Cu,Fh,M1.firstSelectedSelector,M1.lastSelectedSelector).map(bf=>(M1.clearBeforeUpdate(pf),M1.selectRange(pf,bf.boxes,bf.start,bf.finish),bf.boxes)))(li.rows,li.cols,St,ii,Ct)).fold(()=>Gd(St,Ct.firstSelectedSelector,Ct.lastSelectedSelector).map(li=>{const Cu=Mg(ao)||jn.isForward(ao)?gr.after:gr.before;return Dt.setRelativeSelection(gr.on(li.first,0),Cu(li.table)),Ct.clear(St),is(oe.none(),!0)}),li=>oe.some(is(oe.none(),!0)));return Pg(ao)&&Bo&&!Tb(tt,Hn)?oe.none:Mg(ao)&&Bo?Aa([ff(1,0)]):Eb(ao)&&Bo?Aa([ff(-1,0)]):jn.isBackward(ao)&&Bo?Aa([ff(0,-1),ff(-1,0)]):jn.isForward(ao)&&Bo?Aa([ff(0,1),ff(1,0)]):Pg(ao)&&!Bo?Vt:oe.none})()},keyup:(Kt,tt,fn,Hn,io)=>Yp(St,Ct.selectedSelector).fold(()=>{const jn=Kt.raw,$n=jn.which;return jn.shiftKey===!0&&Pg($n)&&Tb(tt,Hn)?((ao,Bo,zs,ii,Aa,zl,_m)=>yr(zs,Aa)&&ii===zl?oe.none():We(zs,"td,th",Bo).bind(li=>We(Aa,"td,th",Bo).bind(Cu=>hb(ao,Bo,li,Cu,_m))))(St,At,tt,fn,Hn,io,Ct.selectRange):oe.none()},oe.none)}})(Q,ne,he,B),Se=((Qe,St,At,Ct)=>{const Dt=qx(Qe);return(Vt,Kt)=>{Ct.clearBeforeUpdate(St),Lc(Vt,Kt,At).each(tt=>{const fn=tt.boxes.getOr([]);Ct.selectRange(St,fn,tt.start,tt.finish),Dt.selectContents(Kt),Dt.collapseSelection()})}})(Q,ne,he,B);v.on("TableSelectorChange",Qe=>Se(Qe.start,Qe.finish));const De=(Qe,St)=>{(At=>At.raw.shiftKey===!0)(Qe)&&(St.kill&&Qe.kill(),St.selection.each(At=>{const Ct=cf.relative(At.start,At.finish),Dt=zx(Q,Ct);v.selection.setRng(Dt)}))},Pe=Qe=>Qe.button===0,Ge=(()=>{const Qe=_1(Ht.fromDom(ne)),St=_1(0);return{touchEnd:At=>{const Ct=Ht.fromDom(At.target);if(Oo("td")(Ct)||Oo("th")(Ct)){const Dt=Qe.get(),Vt=St.get();yr(Dt,Ct)&&At.timeStamp-Vt<300&&(At.preventDefault(),Se(Ct,Ct))}Qe.set(Ct),St.set(At.timeStamp)}}})();v.on("dragstart",Qe=>{Ae.clearstate()}),v.on("mousedown",Qe=>{Pe(Qe)&&Db(Qe)&&Ae.mousedown(Ph(Qe))}),v.on("mouseover",Qe=>{var St;(St=Qe).buttons!==void 0&&!(1&St.buttons)||!Db(Qe)||Ae.mouseover(Ph(Qe))}),v.on("mouseup",Qe=>{Pe(Qe)&&Db(Qe)&&Ae.mouseup(Ph(Qe))}),v.on("touchend",Ge.touchEnd),v.on("keyup",Qe=>{const St=Ph(Qe);if(St.raw.shiftKey&&Pg(St.raw.which)){const At=v.selection.getRng(),Ct=Ht.fromDom(At.startContainer),Dt=Ht.fromDom(At.endContainer);$e.keyup(St,Ct,At.startOffset,Dt,At.endOffset).each(Vt=>{De(St,Vt)})}}),v.on("keydown",Qe=>{const St=Ph(Qe);C.hide();const At=v.selection.getRng(),Ct=Ht.fromDom(At.startContainer),Dt=Ht.fromDom(At.endContainer),Vt=_o(af,lf)(Ht.fromDom(v.selection.getStart()));$e.keydown(St,Ct,At.startOffset,Dt,At.endOffset,Vt).each(Kt=>{De(St,Kt)}),C.show()}),v.on("NodeChange",()=>{const Qe=v.selection,St=Ht.fromDom(Qe.getStart()),At=Ht.fromDom(Qe.getEnd());qd(Xi,[St,At]).fold(()=>B.clear(ne),U)})}),v.on("PreInit",()=>{v.serializer.addTempAttr(Xd.firstSelected),v.serializer.addTempAttr(Xd.lastSelected)}),{getSelectedCells:()=>((V,Q,ne,he)=>{switch(V.tag){case"none":return Q();case"single":return(Ae=>[Ae.dom])(V.element);case"multiple":return(Ae=>R(Ae,$e=>$e.dom))(V.elements)}})(T.get(),G([])),clearSelectedCells:V=>B.clear(Ht.fromDom(V))}},Wc=v=>{let C=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");C.push(T)},unbind:T=>{C=pn(C,B=>B!==T)},trigger:(...T)=>{const B={};Nt(v,($,V)=>{B[$]=T[V]}),Nt(C,$=>{$(B)})}}},xm=v=>({registry:ei(v,C=>({bind:C.bind,unbind:C.unbind})),trigger:ei(v,C=>C.trigger)}),Rb=v=>v.slice(0).sort(),Nb=(v,C)=>{const T=pn(C,B=>!mt(v,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+Rb(B).join(", "))})(T)},O1=v=>((C,T)=>((B,$,V)=>{if($.length===0)throw new Error("You must specify at least one required field.");return((Q,ne)=>{if(!y(ne))throw new Error("The "+Q+" fields must be an array. Was: "+ne+".");Nt(ne,he=>{if(!x(he))throw new Error("The value "+he+" in the "+Q+" fields was not a string.")})})("required",$),(Q=>{const ne=Rb(Q);Vn(ne,(he,Ae)=>Ae<ne.length-1&&he===ne[Ae+1]).each(he=>{throw new Error("The field: "+he+" occurs more than once in the combined fields: ["+ne.join(", ")+"].")})})($),Q=>{const ne=nr(Q);jt($,Ae=>mt(ne,Ae))||((Ae,$e)=>{throw new Error("All required keys ("+Rb(Ae).join(", ")+") were not specified. Specified keys were: "+Rb($e).join(", ")+".")})($,ne),B($,ne);const he=pn($,Ae=>!V.validate(Q[Ae],Ae));return he.length>0&&((Ae,$e)=>{throw new Error("All values need to be of type: "+$e+". Keys ("+Rb(Ae).join(", ")+") were not.")})(he,V.label),Q}})(C,T,{validate:z,label:"function"}))(Nb,v),Ib=O1(["compare","extract","mutate","sink"]),qa=O1(["element","start","stop","destroy"]),D1=O1(["forceDrop","drop","move","delayDrop"]),ym=()=>{const v=(()=>{const B=xm({move:Wc(["info"])});return{onEvent:U,reset:U,events:B.registry}})(),C=(()=>{let B=oe.none();const $=xm({move:Wc(["info"])});return{onEvent:(V,Q)=>{Q.extract(V).each(ne=>{((Ae,$e)=>{const Se=B.map(De=>Ae.compare(De,$e));return B=oe.some($e),Se})(Q,ne).each(Ae=>{$.trigger.move(Ae)})})},reset:()=>{B=oe.none()},events:$.registry}})();let T=v;return{on:()=>{T.reset(),T=C},off:()=>{T.reset(),T=v},isOn:()=>T===C,onEvent:(B,$)=>{T.onEvent(B,$)},events:C.events}},wm=v=>{const C=v.replace(/\./g,"-");return{resolve:T=>C+"-"+T}},Bb=wm("ephox-dragster").resolve;var R1=Ib({compare:(v,C)=>Bi(C.left-v.left,C.top-v.top),extract:v=>oe.some(Bi(v.x,v.y)),sink:(v,C)=>{const T=(ne=>{const he={layerClass:Bb("blocker"),...ne},Ae=Ht.fromTag("div");return ar(Ae,"role","presentation"),fl(Ae,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),mf(Ae,Bb("blocker")),mf(Ae,he.layerClass),{element:G(Ae),destroy:()=>{Vr(Ae)}}})(C),B=Fg(T.element(),"mousedown",v.forceDrop),$=Fg(T.element(),"mouseup",v.drop),V=Fg(T.element(),"mousemove",v.move),Q=Fg(T.element(),"mouseout",v.delayDrop);return qa({element:T.element,start:ne=>{Yr(ne,T.element())},stop:()=>{Vr(T.element())},destroy:()=>{T.destroy(),$.unbind(),V.unbind(),Q.unbind(),B.unbind()}})},mutate:(v,C)=>{v.mutate(C.left,C.top)}});const zg=wm("ephox-snooker").resolve,gf=zg("resizer-bar"),Xx=zg("resizer-rows"),N1=zg("resizer-cols"),Hi=v=>{const C=fr(v.parent(),"."+gf);Nt(C,Vr)},hf=(v,C,T)=>{const B=v.origin();Nt(C,$=>{$.each(V=>{const Q=T(B,V);mf(Q,gf),Yr(v.parent(),Q)})})},Jx=(v,C,T,B,$)=>{const V=Ud(T),Q=C.isResizable,ne=B.length>0?du.positions(B,T):[],he=ne.length>0?((Se,De)=>vt(Se.all,(Pe,Ge)=>De(Pe.element)?[Ge]:[]))(v,Q):[];((Se,De,Pe,Ge)=>{hf(Se,De,(Qe,St)=>{const At=((Ct,Dt,Vt,Kt,tt)=>{const fn=Ht.fromTag("div");return fl(fn,{position:"absolute",left:Dt+"px",top:Vt-3.5+"px",height:"7px",width:Kt+"px"}),gi(fn,{"data-row":Ct,role:"presentation"}),fn})(St.row,Pe.left-Qe.left,St.y-Qe.top,Ge);return mf(At,Xx),At})})(C,pn(ne,(Se,De)=>Ee(he,Pe=>De===Pe)),V,ug(T));const Ae=$.length>0?Wd.positions($,T):[],$e=Ae.length>0?((Se,De)=>{const Pe=[];return Ne(Se.grid.columns,Ge=>{rr(Se,Ge).map(Qe=>Qe.element).forall(De)&&Pe.push(Ge)}),pn(Pe,Ge=>{const Qe=_a(Se,St=>St.column===Ge);return jt(Qe,St=>De(St.element))})})(v,Q):[];((Se,De,Pe,Ge)=>{hf(Se,De,(Qe,St)=>{const At=((Ct,Dt,Vt,Kt,tt)=>{const fn=Ht.fromTag("div");return fl(fn,{position:"absolute",left:Dt-3.5+"px",top:Vt+"px",height:tt+"px",width:"7px"}),gi(fn,{"data-column":Ct,role:"presentation"}),fn})(St.col,St.x-Qe.left,Pe.top-Qe.top,0,Ge);return mf(At,N1),At})})(C,pn(Ae,(Se,De)=>Ee($e,Pe=>De===Pe)),V,$p(T))},dt=(v,C)=>{if(Hi(v),v.isResizable(C)){const T=go(C),B=td(T),$=hh(T);Jx(T,v,C,B,$)}},Lh=(v,C)=>{const T=fr(v.parent(),"."+gf);Nt(T,C)},vk=v=>{Lh(v,C=>{co(C,"display","none")})},Gw=v=>{Lh(v,C=>{co(C,"display","block")})},I1=zg("resizer-bar-dragging"),Zc=v=>{const C=(()=>{const Se=xm({drag:Wc(["xDelta","yDelta","target"])});let De=oe.none();const Pe=(()=>{const Ge=xm({drag:Wc(["xDelta","yDelta"])});return{mutate:(Qe,St)=>{Ge.trigger.drag(Qe,St)},events:Ge.registry}})();return Pe.events.drag.bind(Ge=>{De.each(Qe=>{Se.trigger.drag(Ge.xDelta,Ge.yDelta,Qe)})}),{assign:Ge=>{De=oe.some(Ge)},get:()=>De,mutate:Pe.mutate,events:Se.registry}})(),T=((Se,De={})=>{var Pe;return((Ge,Qe,St)=>{let At=!1;const Ct=xm({start:Wc([]),stop:Wc([])}),Dt=ym(),Vt=()=>{fn.stop(),Dt.isOn()&&(Dt.off(),Ct.trigger.stop())},Kt=((Hn,io)=>{let jn=null;const $n=()=>{S(jn)||(clearTimeout(jn),jn=null)};return{cancel:$n,throttle:(...ao)=>{$n(),jn=setTimeout(()=>{jn=null,Hn.apply(null,ao)},200)}}})(Vt);Dt.events.move.bind(Hn=>{Qe.mutate(Ge,Hn.info)});const tt=Hn=>(...io)=>{At&&Hn.apply(null,io)},fn=Qe.sink(D1({forceDrop:Vt,drop:tt(Vt),move:tt(Hn=>{Kt.cancel(),Dt.onEvent(Hn,Qe)}),delayDrop:tt(Kt.throttle)}),St);return{element:fn.element,go:Hn=>{fn.start(Hn),Dt.on(),Ct.trigger.start()},on:()=>{At=!0},off:()=>{At=!1},isActive:()=>At,destroy:()=>{fn.destroy()},events:Ct.registry}})(Se,(Pe=De.mode)!==null&&Pe!==void 0?Pe:R1,De)})(C,{});let B=oe.none();const $=(Se,De)=>oe.from(ln(Se,De));C.events.drag.bind(Se=>{$(Se.target,"data-row").each(De=>{const Pe=Pd(Se.target,"top");co(Se.target,"top",Pe+Se.yDelta+"px")}),$(Se.target,"data-column").each(De=>{const Pe=Pd(Se.target,"left");co(Se.target,"left",Pe+Se.xDelta+"px")})});const V=(Se,De)=>Pd(Se,De)-ns(Se,"data-initial-"+De,0);T.events.stop.bind(()=>{C.get().each(Se=>{B.each(De=>{$(Se,"data-row").each(Pe=>{const Ge=V(Se,"top");so(Se,"data-initial-top"),$e.trigger.adjustHeight(De,Ge,parseInt(Pe,10))}),$(Se,"data-column").each(Pe=>{const Ge=V(Se,"left");so(Se,"data-initial-left"),$e.trigger.adjustWidth(De,Ge,parseInt(Pe,10))}),dt(v,De)})})});const Q=(Se,De)=>{$e.trigger.startAdjust(),C.assign(Se),ar(Se,"data-initial-"+De,Pd(Se,De)),mf(Se,I1),co(Se,"opacity","0.2"),T.go(v.parent())},ne=Fg(v.parent(),"mousedown",Se=>{var De;De=Se.target,Ob(De,Xx)&&Q(Se.target,"top"),(Pe=>Ob(Pe,N1))(Se.target)&&Q(Se.target,"left")}),he=Se=>yr(Se,v.view()),Ae=Fg(v.view(),"mouseover",Se=>{var De;(De=Se.target,We(De,"table",he).filter(Yn)).fold(()=>{Ri(Se.target)&&Hi(v)},Pe=>{T.isActive()&&(B=oe.some(Pe),dt(v,Pe))})}),$e=xm({adjustHeight:Wc(["table","delta","row"]),adjustWidth:Wc(["table","delta","column"]),startAdjust:Wc([])});return{destroy:()=>{ne.unbind(),Ae.unbind(),T.destroy(),Hi(v)},refresh:Se=>{dt(v,Se)},on:T.on,off:T.off,hideBars:ge(vk,v),showBars:ge(Gw,v),events:$e.registry}},B1=v=>D(v)&&v.nodeName==="TABLE",Mb="bar-",Qx=v=>ln(v,"data-mce-resize")!=="false",ey=v=>{const C=C1(),T=C1(),B=C1();let $,V,Q,ne;const he=Se=>of(v,Se),Ae=()=>pg(v)?X0():xu(),$e=(Se,De,Pe,Ge)=>{const Qe=(Ct=>{return no(Dt=Ct,"corner-")?((Vt,Kt)=>Vt.substring(7))(Dt):Dt;var Dt})(De),St=Xt(Qe,"e"),At=no(Qe,"n");if(V===""&&Tg(Se),ne===""&&(Ct=>{const Dt=(Vt=>nd(Vt)+"px")(Ct);Ar(Ct,oe.none(),oe.some(Dt)),$c(Ct)})(Se),Pe!==$&&V!==""){co(Se,"width",V);const Ct=Ae(),Dt=he(Se),Vt=pg(v)||St?(Kt=>zc(Kt).columns)(Se)-1:0;ld(Se,Pe-$,Vt,Ct,Dt)}else if((Ct=>/^(\d+(\.\d+)?)%$/.test(Ct))(V)){const Ct=parseFloat(V.replace("%",""));co(Se,"width",Pe*Ct/$+"%")}if((Ct=>/^(\d+(\.\d+)?)px$/.test(Ct))(V)&&(Ct=>{const Dt=go(Ct);tc(Dt)||Nt(us(Ct),Vt=>{const Kt=Ma(Vt,"width");co(Vt,"width",Kt),so(Vt,"width")})})(Se),Ge!==Q&&ne!==""){co(Se,"height",ne);const Ct=At?0:(Dt=>zc(Dt).rows)(Se)-1;yg(Se,Ge-Q,Ct)}};return v.on("init",()=>{const Se=((De,Pe)=>De.inline?((Ge,Qe,St)=>({parent:G(Qe),view:G(Ge),origin:G(Bi(0,0)),isResizable:St}))(Ht.fromDom(De.getBody()),(()=>{const Ge=Ht.fromTag("div");return fl(Ge,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Yr(Ec(Ht.fromDom(document)),Ge),Ge})(),Pe):((Ge,Qe)=>{const St=po(Ge)?(At=>Ht.fromDom(Jl(At).dom.documentElement))(Ge):Ge;return{parent:G(St),view:G(Ge),origin:G(Bi(0,0)),isResizable:Qe}})(Ht.fromDom(De.getDoc()),Pe))(v,Qx);if(B.set(Se),(De=>{const Pe=De.options.get("object_resizing");return mt(Pe.split(","),"table")})(v)&&te(v)){const De=((Pe,Ge,Qe)=>{const St=du,At=Wd,Ct=Zc(Pe),Dt=xm({beforeResize:Wc(["table","type"]),afterResize:Wc(["table","type"]),startDrag:Wc([])});return Ct.events.adjustHeight.bind(Vt=>{const Kt=Vt.table;Dt.trigger.beforeResize(Kt,"row");const tt=St.delta(Vt.delta,Kt);yg(Kt,tt,Vt.row),Dt.trigger.afterResize(Kt,"row")}),Ct.events.startAdjust.bind(Vt=>{Dt.trigger.startDrag()}),Ct.events.adjustWidth.bind(Vt=>{const Kt=Vt.table;Dt.trigger.beforeResize(Kt,"col");const tt=At.delta(Vt.delta,Kt),fn=Qe(Kt);ld(Kt,tt,Vt.column,Ge,fn),Dt.trigger.afterResize(Kt,"col")}),{on:Ct.on,off:Ct.off,refreshBars:Ct.refresh,hideBars:Ct.hideBars,showBars:Ct.showBars,destroy:Ct.destroy,events:Dt.registry}})(Se,Ae(),he);De.on(),De.events.startDrag.bind(Pe=>{C.set(v.selection.getRng())}),De.events.beforeResize.bind(Pe=>{const Ge=Pe.table.dom;((Qe,St,At,Ct,Dt)=>{Qe.dispatch("ObjectResizeStart",{target:St,width:At,height:Ct,origin:Dt})})(v,Ge,nm(Ge),om(Ge),Mb+Pe.type)}),De.events.afterResize.bind(Pe=>{const Ge=Pe.table,Qe=Ge.dom;ss(Ge),C.on(St=>{v.selection.setRng(St),v.focus()}),((St,At,Ct,Dt,Vt)=>{St.dispatch("ObjectResized",{target:At,width:Ct,height:Dt,origin:Vt})})(v,Qe,nm(Qe),om(Qe),Mb+Pe.type),v.undoManager.add()}),T.set(De)}}),v.on("ObjectResizeStart",Se=>{const De=Se.target;if(B1(De)){const Pe=Ht.fromDom(De);Nt(v.dom.select(".mce-clonedresizable"),Ge=>{v.dom.addClass(Ge,"mce-"+hg(v)+"-columns")}),!jr(Pe)&&N(v)?nl(Pe):!h1(Pe)&&bu(v)&&Tg(Pe),wu(Pe)&&no(Se.origin,Mb)&&Tg(Pe),$=Se.width,V=Z(v)?"":Aw(v,De).getOr(""),Q=Se.height,ne=Kp(v,De).getOr("")}}),v.on("ObjectResized",Se=>{const De=Se.target;if(B1(De)){const Pe=Ht.fromDom(De),Ge=Se.origin;(Qe=>no(Qe,"corner-"))(Ge)&&$e(Pe,Ge,Se.width,Se.height),ss(Pe),ud(v,Pe.dom,f1)}}),v.on("SwitchMode",()=>{T.on(Se=>{v.mode.isReadOnly()?Se.hideBars():Se.showBars()})}),v.on("dragstart dragend",Se=>{T.on(De=>{Se.type==="dragstart"?(De.hideBars(),De.off()):(De.on(),De.showBars())})}),v.on("remove",()=>{T.on(Se=>{Se.destroy()}),B.on(Se=>{((De,Pe)=>{De.inline&&Vr(Pe.parent())})(v,Se)})}),{refresh:Se=>{T.on(De=>De.refreshBars(Ht.fromDom(Se)))},hide:()=>{T.on(Se=>Se.hideBars())},show:()=>{T.on(Se=>Se.showBars())}}},xk=v=>{($=>{const V=$.options.register;V("table_clone_elements",{processor:"string[]"}),V("table_use_colgroups",{processor:"boolean",default:!0}),V("table_header_type",{processor:Q=>{const ne=mt(["section","cells","sectionCells","auto"],Q);return ne?{value:Q,valid:ne}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),V("table_sizing_mode",{processor:"string",default:"auto"}),V("table_default_attributes",{processor:"object",default:{border:"1"}}),V("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),V("table_column_resizing",{processor:Q=>{const ne=mt(["preservetable","resizetable"],Q);return ne?{value:Q,valid:ne}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),V("table_resize_bars",{processor:"boolean",default:!0}),V("table_style_by_css",{processor:"boolean",default:!0}),V("table_merge_content_on_paste",{processor:"boolean",default:!0})})(v);const C=ey(v),T=qw(v,C),B=Ix(v,C,T);return hs(v,B),(($,V)=>{const Q=Ts($),ne=he=>Xr(rc($)).bind(Ae=>Xi(Ae,Q).map($e=>{const Se=fo(ac($),$e,Ae);return he($e,Se)})).getOr("");jo({mceTableRowType:()=>ne(V.getTableRowType),mceTableCellType:()=>ne(V.getTableCellType),mceTableColType:()=>ne(V.getTableColType)},(he,Ae)=>$.addQueryValueHandler(Ae,he))})(v,B),ic(v,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};r.add("dom",v=>({table:xk(v)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivität",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbündig ausrichten","Align right":"Rechtsbündig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blöcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzählung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schließen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhältnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Währung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrün","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltürkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte löschen","Delete row":"Zeile löschen","Delete table":"Tabelle löschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht unterstützt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbestätigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wörter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menüleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgrößen","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fußzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grün","Green component":"Grünanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"Überschrift 1","Heading 2":"Überschrift 2","Heading 3":"Überschrift 3","Heading 4":"Überschrift 4","Heading 5":"Überschrift 5","Heading 6":"Überschrift 6",Headings:"Überschriften",Height:"Höhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrößern",Inline:"Zeichenformate",Insert:"Einfügen","Insert Template":"Vorlage einfügen","Insert accordion":"","Insert column after":"Neue Spalte danach einfügen","Insert column before":"Neue Spalte davor einfügen","Insert date/time":"Datum/Uhrzeit einfügen","Insert image":"Bild einfügen","Insert link (if link plugin activated)":"Link einfügen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfügen","Insert row before":"Neue Zeile davor einfügen","Insert table":"Tabelle einfügen","Insert template...":"Vorlage einfügen...","Insert video":"Video einfügen","Insert/Edit code sample":"Codebeispiel einfügen/bearbeiten","Insert/edit image":"Bild einfügen/bearbeiten","Insert/edit link":"Link einfügen/bearbeiten","Insert/edit media":"Medien einfügen/bearbeiten","Insert/edit video":"Video einfügen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungültiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungültige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrün","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner römischer Buchstabe","Match case":"Groß-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nächste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschütztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog öffnen","Open link":"Link öffnen","Open link in...":"Link öffnen in...","Open popup menu for split buttons":"Öffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfügen","Paste as text":"Als Text einfügen","Paste column after":"Spalte danach einfügen","Paste column before":"Spalte davor einfügen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfügen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefügt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfügen oder eingeben","Paste row after":"Zeile danach einfügen","Paste row before":"Zeile davor einfügen","Paste your embed code below:":"Fügen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anführungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drücken Sie Alt+0 für Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drücken Sie Alt+F9 für das Menü. Drücken Sie Alt+F10 für die Symbolleiste. Drücken Sie Alt+0 für Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswählen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blöcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgröße",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Möchten Sie das dazu benötigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Möchten Sie das dazu benötigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergänzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drücken Sie Umschalt+Eingabe, um das Popup-Fenster zu öffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Türkis",Underline:"Unterstrichen",Undo:"Rückgängig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Großbuchstaben","Upper Roman":"Großer römischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gültig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Weiß",Width:"Breite","Word count":"Anzahl der Wörter",Words:"Wörter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die Änderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser unterstützt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Währungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrückungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Türkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0} Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wörter"});(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(N,Z,te)=>{var ke;return te(N,Z.prototype)?!0:((ke=N.constructor)===null||ke===void 0?void 0:ke.name)===Z.name},d=N=>{const Z=typeof N;return N===null?"null":Z==="object"&&Array.isArray(N)?"array":Z==="object"&&i(N,String,(te,ke)=>ke.isPrototypeOf(te))?"string":Z},m=N=>Z=>d(Z)===N,x=N=>Z=>typeof Z===N,b=m("string"),y=m("object"),S=m("array"),L=x("boolean"),P=N=>N==null,D=N=>!P(N),z=x("function"),W=x("number"),U=()=>{},G=(N,Z)=>te=>N(Z(te)),ee=N=>()=>N,ye=(N,Z)=>N===Z;function ge(N,...Z){return(...te)=>{const ke=Z.concat(te);return N.apply(null,ke)}}const Le=N=>Z=>!N(Z),Be=ee(!1);class ie{constructor(Z,te){this.tag=Z,this.value=te}static some(Z){return new ie(!0,Z)}static none(){return ie.singletonNone}fold(Z,te){return this.tag?te(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?ie.some(Z(this.value)):ie.none()}bind(Z){return this.tag?Z(this.value):ie.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:ie.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return D(Z)?ie.some(Z):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Me=Array.prototype.slice,oe=Array.prototype.indexOf,Je=Array.prototype.push,Ve=(N,Z)=>oe.call(N,Z),Ye=(N,Z)=>Ve(N,Z)>-1,mt=(N,Z)=>{for(let te=0,ke=N.length;te<ke;te++){const He=N[te];if(Z(He,te))return!0}return!1},Ee=(N,Z)=>{const te=N.length,ke=new Array(te);for(let He=0;He<te;He++){const Et=N[He];ke[He]=Z(Et,He)}return ke},Ne=(N,Z)=>{for(let te=0,ke=N.length;te<ke;te++){const He=N[te];Z(He,te)}},R=(N,Z)=>{const te=[];for(let ke=0,He=N.length;ke<He;ke++){const Et=N[ke];Z(Et,ke)&&te.push(Et)}return te},Nt=(N,Z)=>{if(N.length===0)return[];{let te=Z(N[0]);const ke=[];let He=[];for(let Et=0,Pn=N.length;Et<Pn;Et++){const oo=N[Et],Yn=Z(oo);Yn!==te&&(ke.push(He),He=[]),te=Yn,He.push(oo)}return He.length!==0&&ke.push(He),ke}},Jt=(N,Z,te)=>(Ne(N,(ke,He)=>{te=Z(te,ke,He)}),te),pn=(N,Z,te)=>{for(let ke=0,He=N.length;ke<He;ke++){const Et=N[ke];if(Z(Et,ke))return ie.some(Et);if(te(Et,ke))break}return ie.none()},Tn=(N,Z)=>pn(N,Z,Be),ot=N=>{const Z=[];for(let te=0,ke=N.length;te<ke;++te){if(!S(N[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+N);Je.apply(Z,N[te])}return Z},Vn=(N,Z)=>ot(Ee(N,Z)),Nr=N=>{const Z=Me.call(N,0);return Z.reverse(),Z},yt=(N,Z)=>Z>=0&&Z<N.length?ie.some(N[Z]):ie.none(),vt=N=>yt(N,0),jt=N=>yt(N,N.length-1),bs=(N,Z)=>{const te=[],ke=z(Z)?He=>mt(te,Et=>Z(Et,He)):He=>Ye(te,He);for(let He=0,Et=N.length;He<Et;He++){const Pn=N[He];ke(Pn)||te.push(Pn)}return te},bo=(N,Z,te=ye)=>N.exists(ke=>te(ke,Z)),En=(N,Z,te=ye)=>Mn(N,Z,te).getOr(N.isNone()&&Z.isNone()),Mn=(N,Z,te)=>N.isSome()&&Z.isSome()?ie.some(te(N.getOrDie(),Z.getOrDie())):ie.none(),J=8,nr=11,dr=1,jo=3,ei=(N,Z)=>{const ke=(Z||document).createElement("div");if(ke.innerHTML=N,!ke.hasChildNodes()||ke.childNodes.length>1){const He="HTML does not have a single root node";throw console.error(He,N),new Error(He)}return ve(ke.childNodes[0])},Ze=(N,Z)=>{const ke=(Z||document).createElement(N);return ve(ke)},le=(N,Z)=>{const ke=(Z||document).createTextNode(N);return ve(ke)},ve=N=>{if(N==null)throw new Error("Node cannot be null or undefined");return{dom:N}},me={fromHtml:ei,fromTag:Ze,fromText:le,fromDom:ve,fromPoint:(N,Z,te)=>ie.from(N.dom.elementFromPoint(Z,te)).map(ve)},_t=(N,Z)=>{const te=N.dom;if(te.nodeType!==dr)return!1;{const ke=te;if(ke.matches!==void 0)return ke.matches(Z);if(ke.msMatchesSelector!==void 0)return ke.msMatchesSelector(Z);if(ke.webkitMatchesSelector!==void 0)return ke.webkitMatchesSelector(Z);if(ke.mozMatchesSelector!==void 0)return ke.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},$t=(N,Z)=>N.dom===Z.dom,xt=(N,Z)=>{const te=N.dom,ke=Z.dom;return te===ke?!1:te.contains(ke)},Ft=_t,It=typeof window<"u"?window:Function("return this;")(),on=(N,Z)=>{let te=Z??It;for(let ke=0;ke<N.length&&te!==void 0&&te!==null;++ke)te=te[N[ke]];return te},vn=(N,Z)=>{const te=N.split(".");return on(te,Z)},xn=(N,Z)=>vn(N,Z),Cn=(N,Z)=>{const te=xn(N,Z);if(te==null)throw new Error(N+" not available on this browser");return te},ro=Object.getPrototypeOf,po=N=>Cn("HTMLElement",N),Eo=N=>{const Z=vn("ownerDocument.defaultView",N);return y(N)&&(po(Z).prototype.isPrototypeOf(N)||/^HTML\w*Element$/.test(ro(N).constructor.name))},Oo=N=>N.dom.nodeName.toLowerCase(),Cs=N=>N.dom.nodeType,ar=N=>Z=>Cs(Z)===N,gi=N=>Cs(N)===J||Oo(N)==="#comment",ln=N=>mo(N)&&Eo(N.dom),mo=ar(dr),so=ar(jo),zr=ar(nr),Ba=N=>Z=>mo(Z)&&Oo(Z)===N,Ht=N=>ie.from(N.dom.parentNode).map(me.fromDom),qs=N=>ie.from(N.dom.parentElement).map(me.fromDom),Vo=N=>ie.from(N.dom.nextSibling).map(me.fromDom),wl=N=>Ee(N.dom.childNodes,me.fromDom),yr=(N,Z)=>{const te=N.dom.childNodes;return ie.from(te[Z]).map(me.fromDom)},Ps=N=>yr(N,0),Vf=N=>yr(N,N.dom.childNodes.length-1),ou=N=>zr(N)&&D(N.dom.host),Jl=N=>me.fromDom(N.dom.getRootNode()),qi=N=>{const Z=Jl(N);return ou(Z)?ie.some(Z):ie.none()},ru=N=>me.fromDom(N.dom.host),ir=N=>{const Z=so(N)?N.dom.parentNode:N.dom;if(Z==null||Z.ownerDocument===null)return!1;const te=Z.ownerDocument;return qi(me.fromDom(Z)).fold(()=>te.body.contains(Z),G(ir,ru))};var Gn=(N,Z,te,ke,He)=>N(te,ke)?ie.some(te):z(He)&&He(te)?ie.none():Z(te,ke,He);const _l=(N,Z,te)=>{let ke=N.dom;const He=z(te)?te:Be;for(;ke.parentNode;){ke=ke.parentNode;const Et=me.fromDom(ke);if(Z(Et))return ie.some(Et);if(He(Et))break}return ie.none()},la=(N,Z,te)=>Gn((He,Et)=>Et(He),_l,N,Z,te),su=(N,Z,te)=>_l(N,ke=>_t(ke,Z),te),Qt=(N,Z,te)=>Gn((He,Et)=>_t(He,Et),su,N,Z,te),au=N=>Qt(N,"[contenteditable]"),Uf=(N,Z=!1)=>ir(N)?N.dom.isContentEditable:au(N).fold(ee(Z),te=>Yr(te)==="true"),Yr=N=>N.dom.contentEditable,Wf=(N,Z)=>{Ht(N).each(ke=>{ke.dom.insertBefore(Z.dom,N.dom)})},Di=(N,Z)=>{Vo(N).fold(()=>{Ht(N).each(He=>{Gi(He,Z)})},ke=>{Wf(ke,Z)})},ul=(N,Z)=>{Ps(N).fold(()=>{Gi(N,Z)},ke=>{N.dom.insertBefore(Z.dom,ke.dom)})},Gi=(N,Z)=>{N.dom.appendChild(Z.dom)},Vr=(N,Z)=>{Ne(Z,te=>{Wf(N,te)})},ti=(N,Z)=>{Ne(Z,te=>{Gi(N,te)})},dl=N=>{N.dom.textContent="",Ne(wl(N),Z=>{Zf(Z)})},Zf=N=>{const Z=N.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Sc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),kc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Md=tinymce.util.Tools.resolve("tinymce.util.VK");const Gu=N=>Ee(N,me.fromDom),Uo=Object.keys,vs=(N,Z)=>{const te=Uo(N);for(let ke=0,He=te.length;ke<He;ke++){const Et=te[ke],Pn=N[Et];Z(Pn,Et)}},Vs=N=>(Z,te)=>{N[te]=Z},jf=(N,Z,te,ke)=>{vs(N,(He,Et)=>{(Z(He,Et)?te:ke)(He,Et)})},Ri=(N,Z)=>{const te={};return jf(N,Z,Vs(te),U),te},Ec=(N,Z,te)=>{if(b(te)||L(te)||W(te))N.setAttribute(Z,te+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",te,":: Element ",N),new Error("Attribute value was not simple")},ni=(N,Z)=>{const te=N.dom;vs(Z,(ke,He)=>{Ec(te,He,ke)})},oi=N=>Jt(N.dom.attributes,(Z,te)=>(Z[te.name]=te.value,Z),{}),Ac=(N,Z)=>me.fromDom(N.dom.cloneNode(Z)),fr=N=>Ac(N,!0),Ur=(N,Z)=>{const te=me.fromTag(Z),ke=oi(N);return ni(te,ke),te},_e=(N,Z)=>{const te=Ur(N,Z);Di(N,te);const ke=wl(N);return ti(te,ke),Zf(N),te};var Ke=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const at=N=>Z=>D(Z)&&Z.nodeName.toLowerCase()===N,nt=N=>Z=>D(Z)&&N.test(Z.nodeName),We=N=>D(N)&&N.nodeType===3,Pt=N=>D(N)&&N.nodeType===1,Gt=nt(/^(OL|UL|DL)$/),nn=nt(/^(OL|UL)$/),un=at("ol"),en=nt(/^(LI|DT|DD)$/),no=nt(/^(DT|DD)$/),Xt=nt(/^(TH|TD)$/),or=at("br"),yo=N=>{var Z;return((Z=N.parentNode)===null||Z===void 0?void 0:Z.firstChild)===N},No=(N,Z)=>D(Z)&&Z.nodeName in N.schema.getTextBlockElements(),cs=(N,Z)=>D(N)&&N.nodeName in Z,co=(N,Z)=>D(Z)&&Z.nodeName in N.schema.getVoidElements(),fl=(N,Z)=>or(Z)?N.isBlock(Z.nextSibling)&&!or(Z.previousSibling):!1,Ma=(N,Z,te)=>{const ke=N.isEmpty(Z);return te&&N.select("span[data-mce-type=bookmark]",Z).length>0?!1:ke},Xn=(N,Z)=>N.isChildOf(Z,N.getRoot()),Ni=N=>Z=>Z.options.get(N),Yi=N=>{const Z=N.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},ns=Ni("lists_indent_on_tab"),Yu=Ni("forced_root_block"),Ss=Ni("forced_root_block_attrs"),Pd=(N,Z,te={})=>{const ke=N.dom,He=N.schema.getBlockElements(),Et=ke.createFragment(),Pn=Yu(N),oo=Ss(N);let Yn,yn,Go=!1;for(yn=ke.create(Pn,{...oo,...te.style?{style:te.style}:{}}),cs(Z.firstChild,He)||Et.appendChild(yn);Yn=Z.firstChild;){const Ts=Yn.nodeName;!Go&&(Ts!=="SPAN"||Yn.getAttribute("data-mce-type")!=="bookmark")&&(Go=!0),cs(Yn,He)?(Et.appendChild(Yn),yn=null):(yn||(yn=ke.create(Pn,oo),Et.appendChild(yn)),yn.appendChild(Yn))}return!Go&&yn&&yn.appendChild(ke.create("br",{"data-mce-bogus":"1"})),Et},ml=Ke.DOM,Jo=(N,Z,te)=>{const ke=yn=>{const Go=yn.parentNode;Go&&Oe.each(He,Ts=>{Go.insertBefore(Ts,te.parentNode)}),ml.remove(yn)},He=ml.select('span[data-mce-type="bookmark"]',Z),Et=Pd(N,te),Pn=ml.createRng();Pn.setStartAfter(te),Pn.setEndAfter(Z);const oo=Pn.extractContents();for(let yn=oo.firstChild;yn;yn=yn.firstChild)if(yn.nodeName==="LI"&&N.dom.isEmpty(yn)){ml.remove(yn);break}N.dom.isEmpty(oo)||ml.insertAfter(oo,Z),ml.insertAfter(Et,Z);const Yn=te.parentElement;Yn&&Ma(N.dom,Yn)&&ke(Yn),ml.remove(te),Ma(N.dom,Z)&&ml.remove(Z)},iu=Ba("dd"),Kf=Ba("dt"),fh=(N,Z)=>{iu(Z)?_e(Z,"dt"):Kf(Z)&&qs(Z).each(te=>Jo(N,te.dom,Z.dom))},us=N=>{Kf(N)&&_e(N,"dd")},Ql=(N,Z,te)=>{Z==="Indent"?Ne(te,us):Ne(te,ke=>fh(N,ke))},Xi=(N,Z)=>{if(We(N))return{container:N,offset:Z};const te=Sc.getNode(N,Z);return We(te)?{container:te,offset:Z>=N.childNodes.length?te.data.length:0}:te.previousSibling&&We(te.previousSibling)?{container:te.previousSibling,offset:te.previousSibling.data.length}:te.nextSibling&&We(te.nextSibling)?{container:te.nextSibling,offset:0}:{container:N,offset:Z}},Ir=N=>{const Z=N.cloneRange(),te=Xi(N.startContainer,N.startOffset);Z.setStart(te.container,te.offset);const ke=Xi(N.endContainer,N.endOffset);return Z.setEnd(ke.container,ke.offset),Z},qf=["OL","UL","DL"],gl=qf.join(","),Pa=(N,Z)=>{const te=Z||N.selection.getStart(!0);return N.dom.getParent(te,gl,Xu(N,te))},ig=(N,Z)=>D(N)&&Z.length===1&&Z[0]===N,ca=N=>R(N.querySelectorAll(gl),Gt),Ii=N=>{const Z=Pa(N),te=N.selection.getSelectedBlocks();return ig(Z,te)?ca(Z):R(te,ke=>Gt(ke)&&Z!==ke)},La=(N,Z)=>{const te=Oe.map(Z,ke=>{const He=N.dom.getParent(ke,"li,dd,dt",Xu(N,ke));return He||ke});return bs(te)},hl=N=>{const Z=N.selection.getSelectedBlocks();return R(La(N,Z),en)},mh=N=>R(hl(N),no),wo=(N,Z)=>{const te=N.dom.getParents(Z,"TD,TH");return te.length>0?te[0]:N.getBody()},Tc=(N,Z)=>!Gt(Z)&&!en(Z)&&mt(qf,te=>N.isValidChild(Z.nodeName,te)),Xu=(N,Z)=>{const te=N.dom.getParents(Z,N.dom.isBlock),ke=Et=>Et.nodeName.toLowerCase()!==Yu(N);return Tn(te,Et=>ke(Et)&&Tc(N.schema,Et)).getOr(N.getBody())},lu=N=>Ht(N).exists(Z=>en(Z.dom)&&Ps(Z).exists(te=>!Gt(te.dom))&&Vf(Z).exists(te=>!Gt(te.dom))),Fp=(N,Z)=>{const te=N.dom.getParents(Z,"ol,ul",Xu(N,Z));return jt(te)},ax=N=>{const Z=Fp(N,N.selection.getStart()),te=R(N.selection.getSelectedBlocks(),nn);return Z.toArray().concat(te)},$0=N=>{const Z=N.selection.getStart();return N.dom.getParents(Z,"ol,ul",Xu(N,Z))},V0=N=>{const Z=ax(N),te=$0(N);return Tn(te,ke=>lu(me.fromDom(ke))).fold(()=>Ew(N,Z),ke=>[ke])},Ew=(N,Z)=>{const te=Ee(Z,ke=>Fp(N,ke).getOr(ke));return bs(te)},gh=N=>/\btox\-/.test(N.className),U0=(N,Z)=>pn(N,Gt,Xt).exists(te=>te.nodeName===Z&&!gh(te)),Zt=(N,Z)=>Z!==null&&!N.dom.isEditable(Z),Ld=N=>{const Z=Pa(N);return Zt(N,Z)},Fd=(N,Z)=>{const te=N.dom.getParent(Z,"ol,ul,dl");return Zt(N,te)},W0=(N,Z)=>{const te=N.selection.getNode();return Z({parents:N.dom.getParents(te),element:te}),N.on("NodeChange",Z),()=>N.off("NodeChange",Z)},Fa=(N,Z)=>{const ke=document.createDocumentFragment();return Ne(N,He=>{ke.appendChild(He.dom)}),me.fromDom(ke)},zd=(N,Z,te)=>N.dispatch("ListMutation",{action:Z,element:te}),ix=(N=>Z=>Z.replace(N,""))(/^\s+|\s+$/g),lx=N=>N.length>0,zp=N=>!lx(N),cx=N=>N.style!==void 0&&z(N.style.getPropertyValue),Z0=(N,Z,te)=>{if(!b(te))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",te,":: Element ",N),new Error("CSS value must be a string: "+te);cx(N)&&N.style.setProperty(Z,te)},ux=(N,Z,te)=>{const ke=N.dom;Z0(ke,Z,te)},cg=N=>Ft(N,"OL,UL"),j0=N=>Ft(N,"LI"),Hd=N=>Ps(N).exists(cg),$d=N=>Vf(N).exists(cg),za=N=>"listAttributes"in N,Ji=N=>"isComment"in N,ug=N=>"isFragment"in N,Mo=N=>N.depth>0,Ju=N=>N.isSelected,dg=N=>{const Z=wl(N),te=$d(N)?Z.slice(0,-1):Z;return Ee(te,fr)},fg=(N,Z,te)=>Ht(N).filter(mo).map(ke=>({depth:Z,dirty:!1,isSelected:te,content:dg(N),itemAttributes:oi(N),listAttributes:oi(ke),listType:Oo(ke),isInPreviousLi:!1})),hi=(N,Z)=>{Gi(N.item,Z.list)},ks=N=>{for(let Z=1;Z<N.length;Z++)hi(N[Z-1],N[Z])},Wr=(N,Z)=>{Mn(jt(N),vt(Z),hi)},wa=(N,Z)=>{const te={list:me.fromTag(Z,N),item:me.fromTag("li",N)};return Gi(te.list,te.item),te},Br=(N,Z,te)=>{const ke=[];for(let He=0;He<te;He++)ke.push(wa(N,za(Z)?Z.listType:Z.parentListType));return ke},Vd=(N,Z)=>{for(let te=0;te<N.length-1;te++)ux(N[te].item,"list-style-type","none");jt(N).each(te=>{za(Z)&&(ni(te.list,Z.listAttributes),ni(te.item,Z.itemAttributes)),ti(te.item,Z.content)})},Gf=(N,Z)=>{Oo(N.list)!==Z.listType&&(N.list=_e(N.list,Z.listType)),ni(N.list,Z.listAttributes)},ea=(N,Z,te)=>{const ke=me.fromTag("li",N);return ni(ke,Z),ti(ke,te),ke},pi=(N,Z)=>{Gi(N.list,Z),N.item=Z},ri=(N,Z,te)=>{const ke=Z.slice(0,te.depth);return jt(ke).each(He=>{if(za(te)){const Et=ea(N,te.itemAttributes,te.content);pi(He,Et),Gf(He,te)}else if(ug(te))ti(He.item,te.content);else{const Et=me.fromHtml(`<!--${te.content}-->`);Gi(He.list,Et)}}),ke},Oc=(N,Z,te)=>{const ke=Br(N,te,te.depth-Z.length);return ks(ke),Vd(ke,te),Wr(Z,ke),Z.concat(ke)},Qu=(N,Z)=>{let te=ie.none();const ke=Jt(Z,(He,Et,Pn)=>Ji(Et)?Pn===0?(te=ie.some(Et),He):ri(N,He,Et):Et.depth>He.length?Oc(N,He,Et):ri(N,He,Et),[]);return te.each(He=>{const Et=me.fromHtml(`<!--${He.content}-->`);vt(ke).each(Pn=>{ul(Pn.list,Et)})}),vt(ke).map(He=>He.list)},go=(N,Z)=>{switch(N){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},Us=(N,Z)=>{za(N)&&za(Z)&&(N.listType=Z.listType,N.listAttributes={...Z.listAttributes})},Qi=N=>{N.listAttributes=Ri(N.listAttributes,(Z,te)=>te!=="start")},ed=(N,Z)=>{const te=N[Z].depth,ke=Et=>Et.depth===te&&!Et.dirty,He=Et=>Et.depth<te;return pn(Nr(N.slice(0,Z)),ke,He).orThunk(()=>pn(N.slice(Z+1),ke,He))},_a=N=>(Ne(N,(Z,te)=>{ed(N,te).fold(()=>{Z.dirty&&za(Z)&&Qi(Z)},ke=>Us(Z,ke))}),N),An=N=>{let Z=N;return{get:()=>Z,set:He=>{Z=He}}},ec=(N,Z,te,ke)=>{var He;if(gi(ke))return[{depth:N+1,content:(He=ke.dom.nodeValue)!==null&&He!==void 0?He:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(oo=>{$t(oo.start,ke)&&te.set(!0)});const Et=fg(ke,N,te.get());Z.each(oo=>{$t(oo.end,ke)&&te.set(!1)});const Pn=Vf(ke).filter(cg).map(oo=>rr(N,Z,te,oo)).getOr([]);return Et.toArray().concat(Pn)},tc=(N,Z,te,ke)=>Ps(ke).filter(cg).fold(()=>ec(N,Z,te,ke),He=>{const Et=Jt(wl(ke),(Pn,oo,Yn)=>{if(Yn===0)return Pn;if(j0(oo))return Pn.concat(ec(N,Z,te,oo));{const yn={isFragment:!0,depth:N,content:[oo],isSelected:!1,dirty:!1,parentListType:Oo(He)};return Pn.concat(yn)}},[]);return rr(N,Z,te,He).concat(Et)}),rr=(N,Z,te,ke)=>Vn(wl(ke),He=>{const Et=cg(He)?rr:tc,Pn=N+1;return Et(Pn,Z,te,He)}),hh=(N,Z)=>{const te=An(!1),ke=0;return Ee(N,He=>({sourceList:He,entries:rr(ke,Z,te,He)}))},Hp=(N,Z)=>{const te=_a(Z);return Ee(te,ke=>{const He=Ji(ke)?Fa([me.fromHtml(`<!--${ke.content}-->`)]):Fa(ke.content),Et=za(ke)?ke.itemAttributes:{};return me.fromDom(Pd(N,He.dom,Et))})},td=(N,Z)=>{const te=_a(Z);return Qu(N.contentDocument,te).toArray()},_o=(N,Z)=>Vn(Nt(Z,Mo),te=>vt(te).exists(Mo)?td(N,te):Hp(N,te)),bi=(N,Z)=>{Ne(R(N,Ju),te=>go(Z,te))},ph=N=>{const Z=Ee(hl(N),me.fromDom);return Mn(Tn(Z,Le(Hd)),Tn(Nr(Z),Le(Hd)),(te,ke)=>({start:te,end:ke}))},nd=(N,Z,te)=>{const ke=hh(Z,ph(N));Ne(ke,He=>{bi(He.entries,te);const Et=_o(N,He.entries);Ne(Et,Pn=>{zd(N,te==="Indent"?"IndentList":"OutdentList",Pn.dom)}),Vr(He.sourceList,Et),Zf(He.sourceList)})},$p=(N,Z)=>{const te=Gu(V0(N)),ke=Gu(mh(N));let He=!1;if(te.length||ke.length){const Et=N.selection.getBookmark();nd(N,te,Z),Ql(N,Z,ke),N.selection.moveToBookmark(Et),N.selection.setRng(Ir(N.selection.getRng())),N.nodeChanged(),He=!0}return He},Dc=(N,Z)=>!Ld(N)&&$p(N,Z),Bi=N=>Dc(N,"Indent"),Rc=N=>Dc(N,"Outdent"),Ud=N=>Dc(N,"Flatten"),Re="\uFEFF",Yf=N=>N===Re,mr=(N,Z,te)=>_l(N,Z,te).isSome(),Vp=(N,Z)=>mr(N,ge($t,Z));var mg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Nc=Ke.DOM,Po=N=>{const Z={},te=ke=>{let He=N[ke?"startContainer":"endContainer"],Et=N[ke?"startOffset":"endOffset"];if(Pt(He)){const Pn=Nc.create("span",{"data-mce-type":"bookmark"});He.hasChildNodes()?(Et=Math.min(Et,He.childNodes.length-1),ke?He.insertBefore(Pn,He.childNodes[Et]):Nc.insertAfter(Pn,He.childNodes[Et])):He.appendChild(Pn),He=Pn,Et=0}Z[ke?"startContainer":"endContainer"]=He,Z[ke?"startOffset":"endOffset"]=Et};return te(!0),N.collapsed||te(),Z},Ha=N=>{const Z=ke=>{const He=oo=>{var Yn;let yn=(Yn=oo.parentNode)===null||Yn===void 0?void 0:Yn.firstChild,Go=0;for(;yn;){if(yn===oo)return Go;(!Pt(yn)||yn.getAttribute("data-mce-type")!=="bookmark")&&Go++,yn=yn.nextSibling}return-1};let Et=N[ke?"startContainer":"endContainer"],Pn=N[ke?"startOffset":"endOffset"];if(Et){if(Pt(Et)&&Et.parentNode){const oo=Et;Pn=He(Et),Et=Et.parentNode,Nc.remove(oo),!Et.hasChildNodes()&&Nc.isBlock(Et)&&Et.appendChild(Nc.create("br"))}N[ke?"startContainer":"endContainer"]=Et,N[ke?"startOffset":"endOffset"]=Pn}};Z(!0),Z();const te=Nc.createRng();return te.setStart(N.startContainer,N.startOffset),N.endContainer&&te.setEnd(N.endContainer,N.endOffset),Ir(te)},cu=N=>{switch(N){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Il=(N,Z,te)=>{const ke=te["list-style-type"]?te["list-style-type"]:null;N.setStyle(Z,"list-style-type",ke)},uu=(N,Z)=>{Oe.each(Z,(te,ke)=>{N.setAttribute(ke,te)})},du=(N,Z,te)=>{uu(Z,te["list-attributes"]),Oe.each(N.select("li",Z),ke=>{uu(ke,te["list-item-attributes"])})},$a=(N,Z,te)=>{Il(N,Z,te),du(N,Z,te)},Wd=(N,Z,te)=>{Oe.each(te,ke=>N.setStyle(Z,ke,""))},Xf=(N,Z)=>D(Z)&&!cs(Z,N.schema.getBlockElements()),Up=(N,Z,te,ke)=>{let He=Z[te?"startContainer":"endContainer"];const Et=Z[te?"startOffset":"endOffset"];Pt(He)&&(He=He.childNodes[Math.min(Et,He.childNodes.length-1)]||He),!te&&or(He.nextSibling)&&(He=He.nextSibling);const Pn=Yn=>{for(;!N.dom.isBlock(Yn)&&Yn.parentNode&&ke!==Yn;)Yn=Yn.parentNode;return Yn},oo=(Yn,yn)=>{var Go;const Ts=new kc(Yn,Pn(Yn)),ss=yn?"next":"prev";let rc;for(;rc=Ts[ss]();)if(!(co(N,rc)||Yf(rc.textContent)||((Go=rc.textContent)===null||Go===void 0?void 0:Go.length)===0))return ie.some(rc);return ie.none()};if(te&&We(He))if(Yf(He.textContent))He=oo(He,!1).getOr(He);else for(He.parentNode!==null&&Xf(N,He.parentNode)&&(He=He.parentNode);He.previousSibling!==null&&(Xf(N,He.previousSibling)||We(He.previousSibling));)He=He.previousSibling;if(!te&&We(He))if(Yf(He.textContent))He=oo(He,!0).getOr(He);else for(He.parentNode!==null&&Xf(N,He.parentNode)&&(He=He.parentNode);He.nextSibling!==null&&(Xf(N,He.nextSibling)||We(He.nextSibling));)He=He.nextSibling;for(;He.parentNode!==ke;){const Yn=He.parentNode;if(No(N,He)||/^(TD|TH)$/.test(Yn.nodeName))return He;He=Yn}return He},ta=(N,Z,te)=>{const ke=[],He=N.dom,Et=Up(N,Z,!0,te),Pn=Up(N,Z,!1,te);let oo;const Yn=[];for(let yn=Et;yn&&(Yn.push(yn),yn!==Pn);yn=yn.nextSibling);return Oe.each(Yn,yn=>{var Go;if(No(N,yn)){ke.push(yn),oo=null;return}if(He.isBlock(yn)||or(yn)){or(yn)&&He.remove(yn),oo=null;return}const Ts=yn.nextSibling;if(mg.isBookmarkNode(yn)&&(Gt(Ts)||No(N,Ts)||!Ts&&yn.parentNode===te)){oo=null;return}oo||(oo=He.create("p"),(Go=yn.parentNode)===null||Go===void 0||Go.insertBefore(oo,yn),ke.push(oo)),oo.appendChild(yn)}),ke},Bn=(N,Z,te)=>{const ke=N.getStyle(Z,"list-style-type");let He=te?te["list-style-type"]:"";return He=He===null?"":He,ke===He},fu=(N,Z)=>{const te=N.selection.getStart(!0),ke=Up(N,Z,!0,N.getBody());return Vp(me.fromDom(ke),me.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:te},Jf=(N,Z,te)=>{const ke=N.selection.getRng();let He="LI";const Et=Xu(N,fu(N,ke)),Pn=N.dom;if(Pn.getContentEditable(N.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(He="DT");const oo=Po(ke),Yn=R(ta(N,ke,Et),N.dom.isEditable);Oe.each(Yn,yn=>{let Go;const Ts=yn.previousSibling,ss=yn.parentNode;en(ss)||(Ts&&Gt(Ts)&&Ts.nodeName===Z&&Bn(Pn,Ts,te)?(Go=Ts,yn=Pn.rename(yn,He),Ts.appendChild(yn)):(Go=Pn.create(Z),ss.insertBefore(Go,yn),Go.appendChild(yn),yn=Pn.rename(yn,He)),Wd(Pn,yn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),$a(Pn,Go,te),od(N.dom,Go))}),N.selection.setRng(Ha(oo))},Va=(N,Z)=>Gt(N)&&N.nodeName===(Z==null?void 0:Z.nodeName),mu=(N,Z,te)=>{const ke=N.getStyle(Z,"list-style-type",!0),He=N.getStyle(te,"list-style-type",!0);return ke===He},pl=(N,Z)=>N.className===Z.className,gu=(N,Z,te)=>Va(Z,te)&&mu(N,Z,te)&&pl(Z,te),od=(N,Z)=>{let te,ke=Z.nextSibling;if(gu(N,Z,ke)){const He=ke;for(;te=He.firstChild;)Z.appendChild(te);N.remove(He)}if(ke=Z.previousSibling,gu(N,Z,ke)){const He=ke;for(;te=He.lastChild;)Z.insertBefore(te,Z.firstChild);N.remove(He)}},na=(N,Z,te,ke)=>{if(Z.nodeName!==te){const He=N.dom.rename(Z,te);$a(N.dom,He,ke),zd(N,cu(te),He)}else $a(N.dom,Z,ke),zd(N,cu(te),Z)},Bl=(N,Z,te,ke)=>{if(Z.classList.forEach((He,Et,Pn)=>{He.startsWith("tox-")&&(Pn.remove(He),Pn.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==te){const He=N.dom.rename(Z,te);$a(N.dom,He,ke),zd(N,cu(te),He)}else $a(N.dom,Z,ke),zd(N,cu(te),Z)},Ic=(N,Z,te,ke,He)=>{const Et=Gt(Z);if(Et&&Z.nodeName===ke&&!Qf(He)&&!gh(Z))Ud(N);else{Jf(N,ke,He);const Pn=Po(N.selection.getRng()),oo=Et?[Z,...te]:te,Yn=Et&&gh(Z)?Bl:na;Oe.each(oo,yn=>{Yn(N,yn,ke,He)}),N.selection.setRng(Ha(Pn))}},Qf=N=>"list-style-type"in N,K0=(N,Z,te,ke)=>{if(Z!==N.getBody())if(Z)if(Z.nodeName===te&&!Qf(ke)&&!gh(Z))Ud(N);else{const He=Po(N.selection.getRng());gh(Z)&&Z.classList.forEach((Pn,oo,Yn)=>{Pn.startsWith("tox-")&&(Yn.remove(Pn),Yn.length===0&&Z.removeAttribute("class"))}),$a(N.dom,Z,ke);const Et=N.dom.rename(Z,te);od(N.dom,Et),N.selection.setRng(Ha(He)),Jf(N,te,ke),zd(N,cu(te),Et)}else Jf(N,te,ke),zd(N,cu(te),Z)},hu=(N,Z,te)=>{const ke=Pa(N);if(Fd(N,ke))return;const He=Ii(N),Et=y(te)?te:{};He.length>0?Ic(N,ke,He,Z,Et):K0(N,ke,Z,Et)},Zd=Ke.DOM,Wp=(N,Z)=>{const te=Z.parentElement;if(te&&te.nodeName==="LI"&&te.firstChild===Z){const ke=te.previousSibling;ke&&ke.nodeName==="LI"?(ke.appendChild(Z),Ma(N,te)&&Zd.remove(te)):Zd.setStyle(te,"listStyleType","none")}if(Gt(te)){const ke=te.previousSibling;ke&&ke.nodeName==="LI"&&ke.appendChild(Z)}},os=(N,Z)=>{const te=Oe.grep(N.select("ol,ul",Z));Oe.each(te,ke=>{Wp(N,ke)})},vi=(N,Z,te,ke)=>{let He=Z.startContainer;const Et=Z.startOffset;if(We(He)&&(te?Et<He.data.length:Et>0))return He;const Pn=N.schema.getNonEmptyElements();Pt(He)&&(He=Sc.getNode(He,Et));const oo=new kc(He,ke);te&&fl(N.dom,He)&&oo.next();const Yn=te?oo.next.bind(oo):oo.prev2.bind(oo);for(;He=Yn();)if(He.nodeName==="LI"&&!He.hasChildNodes()||Pn[He.nodeName]||We(He)&&He.data.length>0)return He;return null},si=(N,Z)=>{const te=Z.childNodes;return te.length===1&&!Gt(te[0])&&N.isBlock(te[0])},Mi=N=>ie.from(N).map(me.fromDom).filter(ln).exists(Z=>Uf(Z)&&!Ye(["details"],Oo(Z))),Gs=(N,Z)=>{si(N,Z)&&Mi(Z.firstChild)&&N.remove(Z.firstChild,!0)},bh=(N,Z,te)=>{let ke;const He=si(N,te)?te.firstChild:te;if(Gs(N,Z),!Ma(N,Z,!0))for(;ke=Z.firstChild;)He.appendChild(ke)},Ws=(N,Z,te)=>{let ke;const He=Z.parentNode;if(!Xn(N,Z)||!Xn(N,te))return;Gt(te.lastChild)&&(ke=te.lastChild),He===te.lastChild&&or(He.previousSibling)&&N.remove(He.previousSibling);const Et=te.lastChild;Et&&or(Et)&&Z.hasChildNodes()&&N.remove(Et),Ma(N,te,!0)&&dl(me.fromDom(te)),bh(N,Z,te),ke&&te.appendChild(ke);const oo=xt(me.fromDom(te),me.fromDom(Z))?N.getParents(Z,Gt,te):[];N.remove(Z),Ne(oo,Yn=>{Ma(N,Yn)&&Yn!==N.getRoot()&&N.remove(Yn)})},Ca=(N,Z,te)=>{dl(me.fromDom(te)),Ws(N.dom,Z,te),N.selection.setCursorLocation(te,0)},Bc=(N,Z,te,ke)=>{const He=N.dom;if(He.isEmpty(ke))Ca(N,te,ke);else{const Et=Po(Z);Ws(He,te,ke),N.selection.setRng(Ha(Et))}},kt=(N,Z,te,ke)=>{const He=Po(Z);Ws(N.dom,te,ke);const Et=Ha(He);N.selection.setRng(Et)},Sa=(N,Z)=>{const te=N.dom,ke=N.selection,He=ke.getStart(),Et=wo(N,He),Pn=te.getParent(ke.getStart(),"LI",Et);if(Pn){const oo=Pn.parentElement;if(oo===N.getBody()&&Ma(te,oo))return!0;const Yn=Ir(ke.getRng()),yn=te.getParent(vi(N,Yn,Z,Et),"LI",Et),Go=yn&&(Z?te.isChildOf(Pn,yn):te.isChildOf(yn,Pn));if(yn&&yn!==Pn&&!Go)return N.undoManager.transact(()=>{Z?Bc(N,Yn,yn,Pn):yo(Pn)?Rc(N):kt(N,Yn,Pn,yn)}),!0;if(Go&&!Z&&yn!==Pn)return N.undoManager.transact(()=>{if(Yn.commonAncestorContainer.parentElement){const Ts=Po(Yn),ss=Yn.commonAncestorContainer.parentElement;bh(te,Yn.commonAncestorContainer.parentElement,yn),ss.remove();const rc=Ha(Ts);N.selection.setRng(rc)}}),!0;if(!yn&&!Z&&Yn.startOffset===0&&Yn.endOffset===0)return N.undoManager.transact(()=>{Ud(N)}),!0}return!1},vh=(N,Z,te)=>{const ke=N.getParent(Z.parentNode,N.isBlock,te);N.remove(Z),ke&&N.isEmpty(ke)&&N.remove(ke)},rs=(N,Z)=>{const te=N.dom,ke=N.selection.getStart(),He=wo(N,ke),Et=te.getParent(ke,te.isBlock,He);if(Et&&te.isEmpty(Et,void 0,{checkRootAsContent:!0})){const Pn=Ir(N.selection.getRng()),oo=te.getParent(vi(N,Pn,Z,He),"LI",He);if(oo){const Yn=ss=>Ye(["td","th","caption"],Oo(ss)),yn=ss=>ss.dom===He,Go=la(me.fromDom(oo),Yn,yn),Ts=la(me.fromDom(Pn.startContainer),Yn,yn);return En(Go,Ts,$t)?(N.undoManager.transact(()=>{const ss=oo.parentNode;vh(te,Et,He),od(te,ss),N.selection.select(oo,!0),N.selection.collapse(Z)}),!0):!1}}return!1},pu=(N,Z)=>Sa(N,Z)||rs(N,Z),xi=N=>{const Z=N.selection.getStart(),te=wo(N,Z);return N.dom.getParent(Z,"LI,DT,DD",te)||hl(N).length>0},nc=N=>xi(N)?(N.undoManager.transact(()=>{N.execCommand("Delete"),os(N.dom,N.getBody())}),!0):!1,em=(N,Z)=>{const te=N.selection;return!Fd(N,te.getNode())&&(te.isCollapsed()?pu(N,Z):nc(N))},Pi=N=>{N.on("ExecCommand",Z=>{const te=Z.command.toLowerCase();(te==="delete"||te==="forwarddelete")&&xi(N)&&os(N.dom,N.getBody())}),N.on("keydown",Z=>{Z.keyCode===Md.BACKSPACE?em(N,!1)&&Z.preventDefault():Z.keyCode===Md.DELETE&&em(N,!0)&&Z.preventDefault()})},Io=N=>({backspaceDelete:Z=>{em(N,Z)}}),Es=(N,Z)=>{const te=Pa(N);te===null||Fd(N,te)||N.undoManager.transact(()=>{y(Z.styles)&&N.dom.setStyles(te,Z.styles),y(Z.attrs)&&vs(Z.attrs,(ke,He)=>N.dom.setAttrib(te,He,ke))})},jd=N=>{const Z=Nr(ix(N).split("")),te=Ee(Z,(ke,He)=>{const Et=ke.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,He)*Et});return Jt(te,(ke,He)=>ke+He,0)},xs=N=>{if(N--,N<0)return"";{const Z=N%26,te=Math.floor(N/26),ke=xs(te),He=String.fromCharCode(65+Z);return ke+He}},gg=N=>/^[A-Z]+$/.test(N),Mc=N=>/^[a-z]+$/.test(N),q0=N=>/^[0-9]+$/.test(N),ds=N=>q0(N)?2:gg(N)?0:Mc(N)?1:zp(N)?3:4,Xe=N=>{switch(ds(N)){case 2:return ie.some({listStyleType:ie.none(),start:N});case 0:return ie.some({listStyleType:ie.some("upper-alpha"),start:jd(N).toString()});case 1:return ie.some({listStyleType:ie.some("lower-alpha"),start:jd(N).toString()});case 3:return ie.some({listStyleType:ie.none(),start:""});case 4:return ie.none()}},yi=N=>{const Z=parseInt(N.start,10);return bo(N.listStyleType,"upper-alpha")?xs(Z):bo(N.listStyleType,"lower-alpha")?xs(Z).toLowerCase():N.start},As=N=>{const Z=Pa(N);!un(Z)||Fd(N,Z)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:yi({start:N.dom.getAttrib(Z,"start","1"),listStyleType:ie.from(N.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:te=>{const ke=te.getData();Xe(ke.start).each(He=>{N.execCommand("mceListUpdate",!1,{attrs:{start:He.start==="1"?"":He.start},styles:{"list-style-type":He.listStyleType.getOr("")}})}),te.close()}})},Cl=(N,Z)=>()=>{const te=Pa(N);return D(te)&&te.nodeName===Z},oc=N=>{N.addCommand("mceListProps",()=>{As(N)})},Ls=N=>{N.on("BeforeExecCommand",Z=>{const te=Z.command.toLowerCase();te==="indent"?Bi(N):te==="outdent"&&Rc(N)}),N.addCommand("InsertUnorderedList",(Z,te)=>{hu(N,"UL",te)}),N.addCommand("InsertOrderedList",(Z,te)=>{hu(N,"OL",te)}),N.addCommand("InsertDefinitionList",(Z,te)=>{hu(N,"DL",te)}),N.addCommand("RemoveList",()=>{Ud(N)}),oc(N),N.addCommand("mceListUpdate",(Z,te)=>{y(te)&&Es(N,te)}),N.addQueryStateHandler("InsertUnorderedList",Cl(N,"UL")),N.addQueryStateHandler("InsertOrderedList",Cl(N,"OL")),N.addQueryStateHandler("InsertDefinitionList",Cl(N,"DL"))};var Mr=tinymce.util.Tools.resolve("tinymce.html.Node");const lr=N=>N.type===3,wi=N=>N.length===0,Sl=N=>{const Z=(He,Et)=>{const Pn=Mr.create("li");Ne(He,oo=>Pn.append(oo)),Et?N.insert(Pn,Et,!0):N.append(Pn)},te=(He,Et)=>lr(Et)?[...He,Et]:!wi(He)&&!lr(Et)?(Z(He,Et),[]):He,ke=Jt(N.children(),te,[]);wi(ke)||Z(ke)},Pc=N=>{N.on("PreInit",()=>{const{parser:Z}=N;Z.addNodeFilter("ul,ol",te=>Ne(te,Sl))})},rd=N=>{N.on("keydown",Z=>{Z.keyCode!==Md.TAB||Md.metaKeyPressed(Z)||N.undoManager.transact(()=>{(Z.shiftKey?Rc(N):Bi(N))&&Z.preventDefault()})})},tm=N=>{ns(N)&&rd(N),Pi(N)},hg=(N,Z)=>te=>{const ke=He=>{te.setActive(U0(He.parents,Z)),te.setEnabled(!Fd(N,He.element)&&N.selection.isEditable())};return te.setEnabled(N.selection.isEditable()),W0(N,ke)},pg=N=>{const Z=te=>()=>N.execCommand(te);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:hg(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:hg(N,"UL")}))},Zp=(N,Z)=>te=>W0(N,He=>te.setEnabled(U0(He.parents,Z)&&!Fd(N,He.element))),jp=N=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:Zp(N,"OL")};N.ui.registry.addMenuItem("listprops",Z),N.ui.registry.addContextMenu("lists",{update:te=>{const ke=Pa(N,te);return un(ke)?["listprops"]:[]}})};var bu=()=>{r.add("lists",N=>(Yi(N),Pc(N),N.hasPlugin("rtc",!0)?oc(N):(tm(N),Ls(N)),pg(N),jp(N),Io(N)))};bu()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(le,ve)=>le.dispatch("insertCustomChar",{chr:ve}),d=(le,ve)=>{const Ie=i(le,ve).chr;le.execCommand("mceInsertContent",!1,Ie)},m=(le,ve,Ie)=>{var me;return Ie(le,ve.prototype)?!0:((me=le.constructor)===null||me===void 0?void 0:me.name)===ve.name},x=le=>{const ve=typeof le;return le===null?"null":ve==="object"&&Array.isArray(le)?"array":ve==="object"&&m(le,String,(Ie,me)=>me.isPrototypeOf(Ie))?"string":ve},b=le=>ve=>x(ve)===le,y=le=>ve=>typeof ve===le,S=le=>ve=>le===ve,L=b("array"),P=S(null),D=S(void 0),z=le=>le==null,W=le=>!z(le),U=y("function"),ee=(le=>()=>le)(!1);class ye{constructor(ve,Ie){this.tag=ve,this.value=Ie}static some(ve){return new ye(!0,ve)}static none(){return ye.singletonNone}fold(ve,Ie){return this.tag?Ie(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?ye.some(ve(this.value)):ye.none()}bind(ve){return this.tag?ve(this.value):ye.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:ye.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve??"Called getOrDie on None")}static from(ve){return W(ve)?ye.some(ve):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const ge=Array.prototype.push,Le=(le,ve)=>{const Ie=le.length,me=new Array(Ie);for(let _t=0;_t<Ie;_t++){const $t=le[_t];me[_t]=ve($t,_t)}return me},Be=(le,ve)=>{for(let Ie=0,me=le.length;Ie<me;Ie++){const _t=le[Ie];ve(_t,Ie)}},ie=(le,ve,Ie)=>{for(let me=0,_t=le.length;me<_t;me++){const $t=le[me];if(ve($t,me))return ye.some($t);if(Ie($t,me))break}return ye.none()},Me=(le,ve)=>ie(le,ve,ee),oe=le=>{const ve=[];for(let Ie=0,me=le.length;Ie<me;++Ie){if(!L(le[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+le);ge.apply(ve,le[Ie])}return ve},Je=(le,ve)=>oe(Le(le,ve));var Ve=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ye=le=>ve=>ve.options.get(le),mt=le=>{const ve=le.options.register,Ie=me=>U(me)||L(me);ve("charmap",{processor:Ie}),ve("charmap_append",{processor:Ie})},Ee=Ye("charmap"),Ne=Ye("charmap_append"),R=Ve.isArray,Nt="User Defined",Jt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],pn=le=>Ve.grep(le,ve=>R(ve)&&ve.length===2),Tn=le=>R(le)?pn(le):typeof le=="function"?le():[],ot=(le,ve)=>{const Ie=Ee(le);Ie&&(ve=[{name:Nt,characters:Tn(Ie)}]);const me=Ne(le);if(me){const _t=Ve.grep(ve,$t=>$t.name===Nt);return _t.length?(_t[0].characters=[..._t[0].characters,...Tn(me)],ve):ve.concat({name:Nt,characters:Tn(me)})}return ve},Vn=le=>{const ve=ot(le,Jt());return ve.length>1?[{name:"All",characters:Je(ve,Ie=>Ie.characters)}].concat(ve):ve},Nr=le=>({getCharMap:()=>Vn(le),insertChar:me=>{d(le,me)}}),yt=le=>{let ve=le;return{get:()=>ve,set:_t=>{ve=_t}}},vt=(le,ve)=>{let Ie=null;const me=()=>{P(Ie)||(clearTimeout(Ie),Ie=null)};return{cancel:me,throttle:(...$t)=>{me(),Ie=setTimeout(()=>{Ie=null,le.apply(null,$t)},ve)}}},jt=(le,ve,Ie=0,me)=>{const _t=le.indexOf(ve,Ie);return _t!==-1?D(me)?!0:_t+ve.length<=me:!1},bs=String.fromCodePoint,bo=(le,ve,Ie)=>jt(bs(le).toLowerCase(),Ie)?!0:jt(ve.toLowerCase(),Ie)||jt(ve.toLowerCase().replace(/\s+/g,""),Ie),En=(le,ve)=>{const Ie=[],me=ve.toLowerCase();return Be(le.characters,_t=>{bo(_t[0],_t[1],me)&&Ie.push(_t)}),Le(Ie,_t=>({text:_t[1],value:bs(_t[0]),icon:bs(_t[0])}))},Mn="pattern",J=(le,ve)=>{const Ie=()=>[{label:"Search",type:"input",name:Mn},{type:"collection",name:"results"}],me=()=>Le(ve,po=>({title:po.name,name:po.name,items:Ie()})),_t=()=>({type:"panel",items:Ie()}),$t=()=>({type:"tabpanel",tabs:me()}),xt=ve.length===1?yt(Nt):yt("All"),Ft=(po,Eo)=>{Me(ve,Oo=>Oo.name===xt.get()).each(Oo=>{const Cs=En(Oo,Eo);po.setData({results:Cs})})},on=vt(po=>{const Eo=po.getData().pattern;Ft(po,Eo)},40),vn=ve.length===1?_t():$t(),xn={pattern:"",results:En(ve[0],"")},Cn={title:"Special Character",size:"normal",body:vn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:xn,onAction:(po,Eo)=>{Eo.name==="results"&&(d(le,Eo.value),po.close())},onTabChange:(po,Eo)=>{xt.set(Eo.newTabName),on.throttle(po)},onChange:(po,Eo)=>{Eo.name===Mn&&on.throttle(po)}};le.windowManager.open(Cn).focus(Mn)},nr=(le,ve)=>{le.addCommand("mceShowCharmap",()=>{J(le,ve)})},dr=(le,ve)=>{le.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ie,me)=>new Promise((_t,$t)=>{_t(En(ve,Ie))}),onAction:(Ie,me,_t)=>{le.selection.setRng(me),le.insertContent(_t),Ie.hide()}})},jo=le=>ve=>{const Ie=()=>{ve.setEnabled(le.selection.isEditable())};return le.on("NodeChange",Ie),Ie(),()=>{le.off("NodeChange",Ie)}},ei=le=>{const ve=()=>le.execCommand("mceShowCharmap");le.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:ve,onSetup:jo(le)}),le.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:ve,onSetup:jo(le)})};var Ze=()=>{r.add("charmap",le=>{mt(le);const ve=Vn(le);return nr(le,ve),ei(le),dr(le,ve[0]),Nr(le)})};Ze()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(le=>ve=>le===ve)(null),m=le=>le,x=(le,ve)=>{const Ie=le.length,me=new Array(Ie);for(let _t=0;_t<Ie;_t++){const $t=le[_t];me[_t]=ve($t,_t)}return me},y={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},L=[new RegExp(y.aletter),new RegExp(y.midnumlet),new RegExp(y.midletter),new RegExp(y.midnum),new RegExp(y.numeric),new RegExp(y.cr),new RegExp(y.lf),new RegExp(y.newline),new RegExp(y.extend),new RegExp(y.format),new RegExp(y.katakana),new RegExp(y.extendnumlet),new RegExp("@")],P="",D=new RegExp("^"+y.punctuation+"$"),z=/^\s+$/,W=L,U=S.OTHER,G=le=>{let ve=U;const Ie=W.length;for(let me=0;me<Ie;++me){const _t=W[me];if(_t&&_t.test(le)){ve=me;break}}return ve},ee=le=>{const ve={};return Ie=>{if(ve[Ie])return ve[Ie];{const me=le(Ie);return ve[Ie]=me,me}}},ye=le=>{const ve=ee(G);return x(le,ve)},ge=(le,ve)=>{const Ie=le[ve],me=le[ve+1];if(ve<0||ve>le.length-1&&ve!==0||Ie===S.ALETTER&&me===S.ALETTER)return!1;const _t=le[ve+2];if(Ie===S.ALETTER&&(me===S.MIDLETTER||me===S.MIDNUMLET||me===S.AT)&&_t===S.ALETTER)return!1;const $t=le[ve-1];return(Ie===S.MIDLETTER||Ie===S.MIDNUMLET||me===S.AT)&&me===S.ALETTER&&$t===S.ALETTER||(Ie===S.NUMERIC||Ie===S.ALETTER)&&(me===S.NUMERIC||me===S.ALETTER)||(Ie===S.MIDNUM||Ie===S.MIDNUMLET)&&me===S.NUMERIC&&$t===S.NUMERIC||Ie===S.NUMERIC&&(me===S.MIDNUM||me===S.MIDNUMLET)&&_t===S.NUMERIC||(Ie===S.EXTEND||Ie===S.FORMAT)&&(me===S.ALETTER||me===S.NUMERIC||me===S.KATAKANA||me===S.EXTEND||me===S.FORMAT)||(me===S.EXTEND||me===S.FORMAT&&(_t===S.ALETTER||_t===S.NUMERIC||_t===S.KATAKANA||_t===S.EXTEND||_t===S.FORMAT))&&(Ie===S.ALETTER||Ie===S.NUMERIC||Ie===S.KATAKANA||Ie===S.EXTEND||Ie===S.FORMAT)||Ie===S.CR&&me===S.LF?!1:Ie===S.NEWLINE||Ie===S.CR||Ie===S.LF||me===S.NEWLINE||me===S.CR||me===S.LF?!0:!(Ie===S.KATAKANA&&me===S.KATAKANA||me===S.EXTENDNUMLET&&(Ie===S.ALETTER||Ie===S.NUMERIC||Ie===S.KATAKANA||Ie===S.EXTENDNUMLET)||Ie===S.EXTENDNUMLET&&(me===S.ALETTER||me===S.NUMERIC||me===S.KATAKANA)||Ie===S.AT)},Le=P,Be=z,ie=D,Me=le=>le==="http"||le==="https",oe=(le,ve)=>{let Ie;for(Ie=ve;Ie<le.length&&!Be.test(le[Ie]);Ie++);return Ie},Je=(le,ve)=>{const Ie=oe(le,ve+1);return le.slice(ve+1,Ie).join(Le).substr(0,3)==="://"?Ie:ve},Ve=(le,ve,Ie,me)=>{const _t=[],$t=[];let xt=[];for(let Ft=0;Ft<Ie.length;++Ft)if(xt.push(le[Ft]),ge(Ie,Ft)){const It=ve[Ft];if((me.includeWhitespace||!Be.test(It))&&(me.includePunctuation||!ie.test(It))){const on=Ft-xt.length+1,vn=Ft+1,xn=ve.slice(on,vn).join(Le);if(Me(xn)){const Cn=Je(ve,Ft),ro=le.slice(vn,Cn);Array.prototype.push.apply(xt,ro),Ft=Cn}ve[Ft+1]==="."&&/^([a-zA-Z]\.)+$/.test(xn+".")?(xt.push(le[Ft+1]),$t.push({start:on,end:vn+1})):$t.push({start:on,end:vn}),_t.push(xt)}xt=[]}return{words:_t,indices:$t}},Ye=()=>({includeWhitespace:!1,includePunctuation:!1}),mt=(le,ve,Ie)=>{Ie={...Ye(),...Ie};const me=x(le,ve),_t=ye(me);return Ve(le,me,_t,Ie)},Ne=(le,ve,Ie)=>mt(le,ve,Ie).words,R=le=>le.replace(/\uFEFF/g,"");var Nt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Jt=(le,ve)=>{const Ie=ve.getBlockElements(),me=ve.getVoidElements(),_t=on=>Ie[on.nodeName]||me[on.nodeName],$t=[];let xt="";const Ft=new Nt(le,le);let It;for(;It=Ft.next();)It.nodeType===3?xt+=R(It.data):_t(It)&&xt.length&&($t.push(xt),xt="");return xt.length&&$t.push(xt),$t},pn=le=>le.replace(/\u200B/g,""),Tn=le=>le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ot=(le,ve)=>{const Ie=pn(Jt(le,ve).join(`
`));return Ne(Ie.split(""),m).length},Vn=(le,ve)=>{const Ie=Jt(le,ve).join("");return Tn(Ie)},Nr=(le,ve)=>{const Ie=Jt(le,ve).join("").replace(/\s/g,"");return Tn(Ie)},yt=(le,ve)=>()=>ve(le.getBody(),le.schema),vt=(le,ve)=>()=>ve(le.selection.getRng().cloneContents(),le.schema),jt=le=>yt(le,ot),bs=le=>({body:{getWordCount:jt(le),getCharacterCount:yt(le,Vn),getCharacterCountWithoutSpaces:yt(le,Nr)},selection:{getWordCount:vt(le,ot),getCharacterCount:vt(le,Vn),getCharacterCountWithoutSpaces:vt(le,Nr)},getCount:jt(le)}),bo=(le,ve)=>{le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(ve.body.getWordCount()),String(ve.selection.getWordCount())],["Characters (no spaces)",String(ve.body.getCharacterCountWithoutSpaces()),String(ve.selection.getCharacterCountWithoutSpaces())],["Characters",String(ve.body.getCharacterCount()),String(ve.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},En=(le,ve)=>{le.addCommand("mceWordCount",()=>bo(le,ve))},Mn=(le,ve)=>{let Ie=null;return{cancel:()=>{d(Ie)||(clearTimeout(Ie),Ie=null)},throttle:(...$t)=>{d(Ie)&&(Ie=setTimeout(()=>{Ie=null,le.apply(null,$t)},ve))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const nr=(le,ve)=>{le.dispatch("wordCountUpdate",{wordCount:{words:ve.body.getWordCount(),characters:ve.body.getCharacterCount(),charactersWithoutSpaces:ve.body.getCharacterCountWithoutSpaces()}})},dr=(le,ve)=>{nr(le,ve)},jo=(le,ve,Ie)=>{const me=Mn(()=>dr(le,ve),Ie);le.on("init",()=>{dr(le,ve),J.setEditorTimeout(le,()=>{le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",me.throttle)},0),le.on("remove",me.cancel)})},ei=le=>{const ve=()=>le.execCommand("mceWordCount");le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:ve}),le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:ve})};var Ze=(le=300)=>{r.add("wordcount",ve=>{const Ie=bs(ve);return En(ve,Ie),ei(ve),jo(ve,Ie,le),Ie})};Ze()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var Lge=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Fge=function(r){return Lge.map(function(i){return i.toLowerCase()}).indexOf(r.toLowerCase())!==-1},zge=function(r,i,d){Object.keys(i).filter(Fge).forEach(function(m){var x=i[m];typeof x=="function"&&(m==="onInit"?x(r,d):d.on(m.substring(2),function(b){return x(b,d)}))})},Hge=function(r,i,d,m){var x=r.modelEvents?r.modelEvents:null,b=Array.isArray(x)?x.join(" "):x;To(m,function(y,S){d&&typeof y=="string"&&y!==S&&y!==d.getContent({format:r.outputFormat})&&d.setContent(y)}),d.on(b||"change input undo redo",function(){i.emit("update:modelValue",d.getContent({format:r.outputFormat}))})},$ge=function(r,i,d,m,x,b){m.setContent(b()),d.attrs["onUpdate:modelValue"]&&Hge(i,d,m,x),zge(r,d.attrs,m)},qj=0,bY=function(r){var i=Date.now(),d=Math.floor(Math.random()*1e9);return qj++,r+"_"+d+qj+String(i)},Vge=function(r){return r!==null&&r.tagName.toLowerCase()==="textarea"},Gj=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},Uge=function(r,i){return Gj(r).concat(Gj(i))},Wge=function(r){return r==null},Yj=function(){return{listeners:[],scriptId:bY("tiny-script"),scriptLoaded:!1}},Zge=function(){var r=Yj(),i=function(x,b,y,S){var L=b.createElement("script");L.referrerPolicy="origin",L.type="application/javascript",L.id=x,L.src=y;var P=function(){L.removeEventListener("load",P),S()};L.addEventListener("load",P),b.head&&b.head.appendChild(L)},d=function(x,b,y){r.scriptLoaded?y():(r.listeners.push(y),x.getElementById(r.scriptId)||i(r.scriptId,x,b,function(){r.listeners.forEach(function(S){return S()}),r.scriptLoaded=!0}))},m=function(){r=Yj()};return{load:d,reinitialize:m}},jge=Zge(),Kge=function(){return typeof window<"u"?window:global},rw=function(){var r=Kge();return r&&r.tinymce?r.tinymce:null},qge={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(r){return r==="html"||r==="text"}}},kp=function(){return kp=Object.assign||function(r){for(var i,d=1,m=arguments.length;d<m;d++){i=arguments[d];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(r[x]=i[x])}return r},kp.apply(this,arguments)},Gge=function(r,i,d,m){return r(m||"div",{id:i,ref:d})},Yge=function(r,i,d){return r("textarea",{id:i,visibility:"hidden",ref:d})},fH={selector:void 0,target:void 0},vY=IK({props:qge,setup:function(r,i){var d=r.init?kp(kp({},r.init),fH):kp({},fH),m=eO(r),x=m.disabled,b=m.modelValue,y=m.tagName,S=tr(null),L=null,P=r.id||bY("tiny-vue"),D=r.init&&r.init.inline||r.inline,z=!!i.attrs["onUpdate:modelValue"],W=!0,U=r.initialValue?r.initialValue:"",G="",ee=function(Le){return z?function(){return b!=null&&b.value?b.value:""}:function(){return Le?U:G}},ye=function(){var Le=ee(W),Be=kp(kp({},d),{readonly:r.disabled,target:S.value,plugins:Uge(d.plugins,r.plugins),toolbar:r.toolbar||d.toolbar,inline:D,setup:function(ie){L=ie,ie.on("init",function(Me){return $ge(Me,r,i,ie,b,Le)}),typeof d.setup=="function"&&d.setup(ie)}});Vge(S.value)&&(S.value.style.visibility=""),rw().init(Be),W=!1};To(x,function(Le){var Be;L!==null&&(typeof((Be=L.mode)===null||Be===void 0?void 0:Be.set)=="function"?L.mode.set(Le?"readonly":"design"):L.setMode(Le?"readonly":"design"))}),To(y,function(Le){var Be;z||(G=L.getContent()),(Be=rw())===null||Be===void 0||Be.remove(L),yl(function(){return ye()})}),sg(function(){if(rw()!==null)ye();else if(S.value&&S.value.ownerDocument){var Le=r.cloudChannel?r.cloudChannel:"7",Be=r.apiKey?r.apiKey:"no-api-key",ie=Wge(r.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Be,"/tinymce/").concat(Le,"/tinymce.min.js"):r.tinymceScriptSrc;jge.load(S.value.ownerDocument,ie,ye)}}),ju(function(){rw()!==null&&rw().remove(L)}),D||(g$(function(){W||ye()}),h$(function(){var Le;z||(G=L.getContent()),(Le=rw())===null||Le===void 0||Le.remove(L)}));var ge=function(Le){var Be;G=L.getContent(),(Be=rw())===null||Be===void 0||Be.remove(L),d=kp(kp(kp({},d),Le),fH),yl(function(){return ye()})};return i.expose({rerender:ge,getEditor:function(){return L}}),function(){return D?Gge(Jv,P,S,r.tagName):Yge(Jv,P,S)}}});const Xge={id:"app-note-edit-wrapper"},Jge=["for"],Qge={class:"tinyWrapper"},ehe={class:"wordCountWrapper"},the={__name:"EditNote",props:["noteKey","noteLabel"],setup(r){const i=Uv(),d=Op(),m=Kv(),x=yM(),b=Wu(),y=r,S=tr(0),L=tr(0);function P(){U(),G(),ee()}To(()=>m.editor_zoom,U),To(()=>d.contentClass,G);async function D(){if(b.focusTarget=="right"&&b.isNotesSelected){await yl();const Le=WS.get("app-note-"+i.activeKey);Le&&Le.focus()}}To(()=>b.focusChange,D);function z(){i.updateContent(!0),U(),ee()}function W(){i.updateContent(!0),ee()}function U(){try{const Le=WS.get("app-note-"+y.noteKey);Le&&(Le.dom.setStyle(Le.dom.doc.body,"font-size",m.editor_zoom+"rem"),Le.dom.setStyle(Le.dom.select("h1"),"font-size",m.editor_zoom*d.tinyH1Size+"rem"),Le.dom.setStyle(Le.dom.select("h2"),"font-size",m.editor_zoom*d.tinyH2Size+"rem"),Le.dom.setStyle(Le.dom.select("h3"),"font-size",m.editor_zoom+"rem"),Le.dom.setStyle(Le.dom.select("h4"),"font-size",m.editor_zoom+"rem"),Le.dom.setStyle(Le.dom.select("h5"),"font-size",m.editor_zoom+"rem"),Le.dom.setStyle(Le.dom.select("h6"),"font-size",m.editor_zoom+"rem"))}catch{}}function G(){for(const Le of document.getElementsByClassName("tox-tinymce-aux"))Le.classList.add(d.contentClass)}function ee(){try{const Le=WS.get("app-note-"+y.noteKey);if(Le){const Be=Le.plugins.wordcount;S.value=Be.body.getWordCount(),L.value=Be.body.getCharacterCount()}}catch{}}function ye(Le){x.setContent(Le.clipboardData.getData("text/html"))}function ge(Le,Be){x.getPasteAllowed(Be.content)||(Be.content="",x.showWarning())}return(Le,Be)=>(kr(),Xl("div",Xge,[lt("label",{class:"hidden",for:"app-note-"+y.noteKey},ng("Verborgenes Feld zur "+y.noteLabel),9,Jge),lt("div",Qge,[Te(et(vY),{id:"app-note-"+y.noteKey,modelValue:et(i).editNotes[y.noteKey].note_text,"onUpdate:modelValue":Be[0]||(Be[0]=ie=>et(i).editNotes[y.noteKey].note_text=ie),onChange:z,onKeydown:et(b).handleKeyDown,onKeyup:W,onCopy:ye,onCut:ye,onInit:P,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:et(d).tinyToolbar,valid_elements:et(d).tinyValidElements,formats:et(d).tinyFormats,style_formats:et(d).tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:et(d).tinyContentStyle,browser_spellcheck:et(d).allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor "+y.noteLabel,paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:ge}},null,8,["id","modelValue","onKeydown","init"])]),_r(lt("div",ehe,[Te(ls,{variant:"text",size:"small",onClick:Be[1]||(Be[1]=ie=>et(m).toggleWordCountCharacters()),text:et(m).word_count_characters?L.value+" Zeichen":S.value+" Wörter"},null,8,["text"])],512),[[$r,et(m).word_count_enabled]])]))}},nhe=dh(the,[["__scopeId","data-v-d0d05e30"]]),ohe=r=>(xw("data-v-37f0a1e4"),r=r(),yw(),r),rhe={id:"app-essay-edit-wrapper"},she=ohe(()=>lt("label",{for:"app-essay",class:"hidden"},"Verborgenes Feld zum Abgabe-Text",-1)),ahe={class:"tinyWrapper"},ihe={class:"wordCountWrapper"},lhe={__name:"EditEssay",setup(r){const i=N0(),d=Op(),m=Kv(),x=yM(),b=Wu(),y=tr(0),S=tr(0);function L(){W(),U(),G()}To(()=>m.editor_zoom,W),To(()=>d.contentClass,U);async function P(){b.focusTarget=="right"&&b.isEssayVisible&&(await yl(),WS.get("app-essay").focus())}To(()=>b.focusChange,P);function D(){i.updateContent(!0),W(),G()}function z(){i.updateContent(!0),G()}function W(){try{const ge=WS.get("app-essay");ge&&(ge.dom.setStyle(ge.dom.doc.body,"font-size",m.editor_zoom+"rem"),ge.dom.setStyle(ge.dom.select("h1"),"font-size",m.editor_zoom*d.tinyH1Size+"rem"),ge.dom.setStyle(ge.dom.select("h2"),"font-size",m.editor_zoom*d.tinyH2Size+"rem"),ge.dom.setStyle(ge.dom.select("h3"),"font-size",m.editor_zoom+"rem"),ge.dom.setStyle(ge.dom.select("h4"),"font-size",m.editor_zoom+"rem"),ge.dom.setStyle(ge.dom.select("h5"),"font-size",m.editor_zoom+"rem"),ge.dom.setStyle(ge.dom.select("h6"),"font-size",m.editor_zoom+"rem"))}catch{}}function U(){for(const ge of document.getElementsByClassName("tox-tinymce-aux"))ge.classList.add(d.contentClass)}function G(){try{const ge=WS.get("app-essay");if(ge){const Le=ge.plugins.wordcount;y.value=Le.body.getWordCount(),S.value=Le.body.getCharacterCount()}}catch{}}function ee(ge){x.setContent(ge.clipboardData.getData("text/html"))}function ye(ge,Le){x.getPasteAllowed(Le.content)||(Le.content="",x.showWarning())}return(ge,Le)=>(kr(),Xl("div",rhe,[she,lt("div",ahe,[Te(et(vY),{id:"app-essay",modelValue:et(i).currentContent,"onUpdate:modelValue":Le[0]||(Le[0]=Be=>et(i).currentContent=Be),onChange:D,onKeydown:et(b).handleKeyDown,onKeyup:z,onCopy:ee,onCut:ee,onInit:L,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:et(d).tinyToolbar,valid_elements:et(d).tinyValidElements,formats:et(d).tinyFormats,style_formats:et(d).tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:et(d).tinyContentStyle,browser_spellcheck:et(d).allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor Abgabe-Text",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:ye}},null,8,["modelValue","onKeydown","init"])]),_r(lt("div",ihe,[Te(ls,{variant:"text",size:"small",onClick:Le[1]||(Le[1]=Be=>et(m).toggleWordCountCharacters()),text:et(m).word_count_characters?S.value+" Zeichen":y.value+" Wörter"},null,8,["text"])],512),[[$r,et(m).word_count_enabled]])]))}},che=dh(lhe,[["__scopeId","data-v-37f0a1e4"]]),xY=r=>(xw("data-v-f59cf3e5"),r=r(),yw(),r),uhe={id:"app-edit-select-wrapper"},dhe={class:"appEditChoices"},fhe=xY(()=>lt("span",{class:"sr-only",id:"app-edit-select-text"},"Abgabe Text bearbeiten",-1)),mhe=xY(()=>lt("span",{"aria-hidden":"true"},"Text",-1)),ghe=["id"],hhe={"aria-hidden":"true"},phe={key:1,"aria-hidden":"true"},bhe={class:"appEditors"},vhe={__name:"EditSelect",setup(r){const i=Wu(),d=Uv(),m=Op(),x=Kv(),b=tr("essay");y();function y(){switch(i.rightContent){case"essay":b.value="essay";break;case"notes":b.value=d.activeKey}}To(()=>i.rightContent,y),To(()=>d.activeKey,y);function S(){switch(b.value){case void 0:y();break;case"essay":i.showEssay();break;default:i.showNotes(),d.activeKey=b.value;break}}return(L,P)=>(kr(),Xl("div",uhe,[lt("div",dhe,[et(m).hasNotes?(kr(),Oi(ofe,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:b.value,"onUpdate:modelValue":P[0]||(P[0]=D=>b.value=D),onClick:P[1]||(P[1]=D=>S())},{default:Dn(()=>[Te(ls,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:Dn(()=>[Te(Dr,{icon:"mdi-file-edit-outline"}),fhe,mhe]),_:1}),(kr(!0),Xl(ia,null,WT(et(d).keys,D=>(kr(),Oi(ls,{size:"small","aria-labelledby":"app-edit-select-note"+et(d).notes[D].note_no,key:D,value:D},{default:Dn(()=>[Te(Dr,{icon:"mdi-clipboard-outline"}),lt("span",{class:"sr-only",id:"app-edit-select-note"+et(d).notes[D].note_no},ng(et(m).notice_boards==1?"Notizen bearbeiten":"Notiz "+(et(d).notes[D].note_no+1)+" bearbeiten"),9,ghe),lt("span",hhe,ng(et(m).notice_boards==1?"Notizen":et(d).notes[D].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):$u("",!0),et(m).hasNotes?(kr(),Xl("span",phe," ")):$u("",!0),Te(XS,{density:"comfortable",variant:"outlined",divided:""},{default:Dn(()=>[Te(ls,{title:"Editor Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:P[2]||(P[2]=D=>et(x).zoomEditorOut())}),Te(ls,{title:"Editor Text vergrößern",size:"small",icon:"mdi-magnify-plus-outline",onClick:P[3]||(P[3]=D=>et(x).zoomEditorIn())}),Te(ls,{title:et(x).word_count_enabled?"Zähler verbergen":"Zähler anzeigen",size:"small",icon:et(x).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:P[4]||(P[4]=D=>et(x).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),lt("div",bhe,[_r(Te(che,null,null,512),[[$r,et(i).isEssaySelected]]),et(m).notice_boards>0?(kr(!0),Xl(ia,{key:0},WT(et(d).keys,D=>_r((kr(),Oi(nhe,{key:D,noteKey:D,noteLabel:et(m).notice_boards==1?"Notizen":"Notiz "+(et(d).notes[D].note_no+1)},null,8,["noteKey","noteLabel"])),[[$r,et(i).isNotesSelected&&et(d).activeKey==D]])),128)):$u("",!0)])]))}},xhe=dh(vhe,[["__scopeId","data-v-f59cf3e5"]]),yhe=ho({scrollable:Boolean,...ya(),...Sw(),...Nl({tag:"main"})},"VMain"),j$=Gr()({name:"VMain",props:yhe(),setup(r,i){let{slots:d}=i;const{dimensionStyles:m}=kw(r),{mainStyles:x}=zce(),{ssrBootStyles:b}=xM();return Ks(()=>Te(r.tag,{class:["v-main",{"v-main--scrollable":r.scrollable},r.class],style:[x.value,b.value,m.value,r.style]},{default:()=>{var y,S;return[r.scrollable?Te("div",{class:"v-main__scroller"},[(y=d.default)==null?void 0:y.call(d)]):(S=d.default)==null?void 0:S.call(d)]}})),{}}}),aO=r=>(xw("data-v-e2bc3bde"),r=r(),yw(),r),whe={id:"app-main-container"},_he={class:"col-header"},Che={class:"headline"},She=aO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),khe=aO(()=>lt("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),Ehe={class:"col-content"},Ahe={class:"col-header"},The={class:"headline"},Ohe=aO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),Dhe=aO(()=>lt("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1)),Rhe={class:"col-content"},Nhe=aO(()=>lt("p",null,"Sie können nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfügen.",-1)),Ihe={__name:"MainContent",setup(r){const i=Wu(),d=Rp(),m=yM();return document.addEventListener("keydown",i.handleKeyDown),(x,b)=>(kr(),Oi(j$,{"fill-height":""},{default:Dn(()=>[lt("div",whe,[_r(lt("section",{"aria-label":"Linke Spalte",class:hw(["column",{colExpanded:et(i).isLeftExpanded,colNormal:!et(i).isLeftExpanded}])},[lt("div",_he,[lt("h1",Che,ng(et(i).isInstructionsSelected?"Aufgabenstellung":et(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":et(i).isResourcesSelected?et(d).activeTitle:"Linke Spalte"),1),Te(XS,{density:"comfortable"},{default:Dn(()=>[_r(Te(ls,{size:"small",onClick:b[0]||(b[0]=y=>et(i).setLeftExpanded(!1))},{default:Dn(()=>[Te(Dr,{icon:"mdi-chevron-left"}),lt("span",null,ng(et(i).isEssaySelected?"Abgabe-Text":et(i).isNotesSelected?"Notizen":"Rechte Spalte erweitern"),1)]),_:1},512),[[$r,et(i).isLeftExpanded]]),_r(Te(ls,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:b[1]||(b[1]=y=>et(i).setLeftExpanded(!0))},{default:Dn(()=>[She,khe,Te(Dr,{icon:"mdi-chevron-right"})]),_:1},512),[[$r,!et(i).isLeftExpanded]])]),_:1})]),lt("div",Ehe,[_r(Te(yge,null,null,512),[[$r,et(i).isInstructionsVisible]]),_r(Te(Mge,null,null,512),[[$r,et(i).isInstructionsPdfVisible||et(i).isResourcesVisible]])])],2),[[$r,et(i).isLeftVisible]]),_r(lt("section",{"aria-label":"Rechte Spalte",class:hw(["column",{colExpanded:et(i).isRightExpanded,colNormal:!et(i).isRightExpanded}])},[lt("div",Ahe,[lt("h1",The,ng(et(i).isEssayVisible?"Abgabe-Text":et(i).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":"Rechte Spalte"),1),Te(XS,{density:"comfortable"},{default:Dn(()=>[_r(Te(ls,{size:"small",onClick:b[2]||(b[2]=y=>et(i).setRightExpanded(!1))},{default:Dn(()=>[lt("span",null,ng(et(i).isInstructionsSelected?"Aufgabenstellung":et(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":et(i).isResourcesSelected?et(d).activeTitle:"Linke Spalte erweitern"),1),Te(Dr,{icon:"mdi-chevron-right"})]),_:1},512),[[$r,et(i).isRightExpanded]]),_r(Te(ls,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:b[3]||(b[3]=y=>et(i).setRightExpanded(!0))},{default:Dn(()=>[Te(Dr,{icon:"mdi-chevron-left"}),Ohe,Dhe]),_:1},512),[[$r,!et(i).isRightExpanded]])]),_:1})]),lt("div",Rhe,[Te(xhe)])],2),[[$r,et(i).isRightVisible]])]),Te(Gv,{width:"500",persistent:"",modelValue:et(m).show_warning,"onUpdate:modelValue":b[5]||(b[5]=y=>et(m).show_warning=y)},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[Nhe]),_:1}),Te(F0,null,{default:Dn(()=>[Te(Z$),Te(ls,{onClick:b[4]||(b[4]=y=>et(m).hideWarning())},{default:Dn(()=>[eg(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Bhe=dh(Ihe,[["__scopeId","data-v-e2bc3bde"]]),Mhe=lt("p",null,"Lade Daten...",-1),Phe=lt("span",null,"Beenden ...",-1),Lhe=lt("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),Fhe=lt("span",null,"Beenden",-1),zhe=lt("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht übertragen wurden. Durch das Laden werden diese Eingaben gelöscht.",-1),Hhe=lt("p",null,"Möchten Sie die neue Aufgabe laden?",-1),$he=lt("span",null,"Laden",-1),Vhe=lt("span",null,"Abbrechen",-1),Uhe=lt("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht übertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschließend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser überschrieben.",-1),Whe=lt("p",null,"Möchten Sie die Eingabe vom System laden?",-1),Zhe=lt("span",null,"Laden",-1),jhe=lt("span",null,"Abbrechen",-1),Khe={__name:"StartupContent",setup(r){const i=Id();return(d,m)=>(kr(),Oi(j$,{"fill-height":""},{default:Dn(()=>[Te(hY,{elevation:"1",color:"white",density:"compact"},{default:Dn(()=>[Mhe,Te(Z$),Te(ls,{href:et(i).returnUrl},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-logout-variant"}),Phe]),_:1},8,["href"])]),_:1}),Te(Gv,{persistent:"",modelValue:et(i).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=x=>et(i).showInitFailure=x)},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[Lhe]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{href:et(i).returnUrl},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-logout-variant"}),Fhe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Te(Gv,{persistent:"",modelValue:et(i).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=x=>et(i).showReplaceConfirmation=x)},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[zhe,Hhe]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:m[1]||(m[1]=x=>et(i).loadDataFromBackend())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-reload"}),$he]),_:1}),Te(ls,{href:et(i).returnUrl},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-logout-variant"}),Vhe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Te(Gv,{persistent:"",modelValue:et(i).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=x=>et(i).showReloadConfirmation=x)},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[Uhe,Whe]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:m[3]||(m[3]=x=>et(i).loadDataFromBackend())},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-reload"}),Zhe]),_:1}),Te(ls,{href:et(i).returnUrl},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-logout-variant"}),jhe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Bd=r=>(xw("data-v-83558a5a"),r=r(),yw(),r),qhe={class:"column"},Ghe=Bd(()=>lt("div",{class:"col-header bg-grey-lighten-4"},[lt("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht übertragen, sind aber lokal gesichert!"),lt("p",null,"Bitte versuchen Sie die Übertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),Yhe={class:"col-content"},Xhe=["innerHTML"],Jhe={class:"col-footer bg-grey-lighten-4"},Qhe=Bd(()=>lt("span",null,"Weiter bearbeiten",-1)),epe={class:"column"},tpe={class:"col-header bg-grey-lighten-4"},npe=Bd(()=>lt("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),ope=Bd(()=>lt("p",null,"Es ist keine weitere Eingabe möglich.",-1)),rpe=[npe,ope],spe={class:"col-header bg-grey-lighten-4"},ape=Bd(()=>lt("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),ipe={key:0},lpe={class:"col-header bg-grey-lighten-4"},cpe=Bd(()=>lt("h2",{class:"text-h6"},"Abgabe-Text",-1)),upe={key:0},dpe={class:"col-content"},fpe=["innerHTML"],mpe={class:"col-footer bg-grey-lighten-4"},gpe=Bd(()=>lt("span",null,"Meine Bearbeitung nicht bewerten",-1)),hpe=Bd(()=>lt("span",null,"Weiter bearbeiten",-1)),ppe=Bd(()=>lt("p",null,"Bei der Übertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),bpe=Bd(()=>lt("p",null,[lt("br"),eg(" Sie können die Klausur auch ohne Übertragung verlassen und später wieder aufrufen, um die Übertragung nachzuholen. ")],-1)),vpe=Bd(()=>lt("br",null,null,-1)),xpe=Bd(()=>lt("br",null,null,-1)),ype=Bd(()=>lt("span",null,"Meldung schließen",-1)),wpe=Bd(()=>lt("span",null,"Ohne Übertragung verlassen",-1)),_pe={__name:"ReviewContent",setup(r){const i=Id(),d=N0(),m=Uv(),x=og(),b=Op(),y=Kv();return(S,L)=>(kr(),Oi(j$,{"fill-height":""},{default:Dn(()=>[_r(lt("div",qhe,[Ghe,lt("div",Yhe,[lt("div",{class:hw("long-essay-content "+et(b).contentClass),style:Wv("font-size:"+et(y).editor_zoom+"rem;"),innerHTML:et(d).storedContent},null,14,Xhe)]),lt("div",Jhe,[Te(ls,{class:"ma-2",color:et(b).primaryColorCss,onClick:L[0]||(L[0]=P=>et(i).retry())},{default:Dn(()=>[Te(Dr,{color:et(b).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),lt("span",{style:Wv(et(b).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),_r(Te(ls,{class:"ma-2",onClick:L[1]||(L[1]=P=>et(i).review=!1)},{default:Dn(()=>[Te(Dr,{icon:"mdi-file-edit-outline"}),Qhe]),_:1},512),[[$r,!et(x).writingEndReached&&!et(x).isExcluded]])])],512),[[$r,et(d).openSendings>0]]),_r(lt("div",epe,[_r(lt("div",tpe,rpe,512),[[$r,et(x).isExcluded]]),_r(lt("div",spe,[ape,lt("p",null,[eg("Es ist keine weitere Eingabe möglich. Bitte überprüfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben möchten. Eventuell müssen Sie scrollen um alle Teile ihres Textes sehen zu können! "),et(m).hasWrittenNotes?(kr(),Xl("span",ipe,"Ihre Notizen werden verworfen.")):$u("",!0)])],512),[[$r,et(x).writingEndReached&&!et(x).isExcluded]]),_r(lt("div",lpe,[cpe,lt("p",null,[eg("Bitte überprüfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben möchten. "),et(m).hasWrittenNotes?(kr(),Xl("span",upe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):$u("",!0),eg(" Nach der Abgabe ist keine weitere Bearbeitung mehr möglich. Eventuell müssen Sie scrollen um alle Teile ihres Textes sehen zu können!")])],512),[[$r,!et(x).writingEndReached&&!et(x).isExcluded]]),lt("div",dpe,[lt("div",{class:hw("long-essay-content "+et(b).contentClass),style:Wv("font-size:"+et(y).editor_zoom*16+"px;"),innerHTML:et(d).storedContent},null,14,fpe)]),lt("div",mpe,[_r(Te(ls,{class:"ma-2 primary",onClick:L[2]||(L[2]=P=>et(i).finalize(!0)),color:et(b).primaryColorCss},{default:Dn(()=>[Te(Dr,{color:et(b).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),lt("span",{style:Wv(et(b).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[$r,!et(x).isExcluded]]),_r(Te(ls,{class:"ma-2",onClick:L[3]||(L[3]=P=>et(i).finalize(!1))},{default:Dn(()=>[Te(Dr,{icon:"mdi-logout-variant"}),gpe]),_:1},512),[[$r,et(x).writingEndReached||et(x).isExcluded]]),_r(Te(ls,{class:"ma-2",onClick:L[4]||(L[4]=P=>et(i).review=!1)},{default:Dn(()=>[Te(Dr,{icon:"mdi-file-edit-outline"}),hpe]),_:1},512),[[$r,!et(x).writingEndReached&&!et(x).isExcluded]])])],512),[[$r,et(d).openSendings<=0]]),Te(Gv,{persistent:"",modelValue:et(i).showFinalizeFailure,"onUpdate:modelValue":L[6]||(L[6]=P=>et(i).showFinalizeFailure=P)},{default:Dn(()=>[Te(qv,null,{default:Dn(()=>[Te(z0,null,{default:Dn(()=>[ppe,bpe,_r(lt("p",null,[vpe,eg(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[$r,et(i).showAuthorizeFailure]]),_r(lt("p",null,[xpe,eg(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[$r,!et(i).showAuthorizeFailure]])]),_:1}),Te(F0,null,{default:Dn(()=>[Te(ls,{onClick:L[5]||(L[5]=P=>et(i).showFinalizeFailure=!1)},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-close"}),ype]),_:1}),Te(ls,{href:et(i).returnUrl},{default:Dn(()=>[Te(Dr,{left:"",icon:"mdi-logout-variant"}),wpe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Cpe=dh(_pe,[["__scopeId","data-v-83558a5a"]]),Spe=ho({...ya(),...Fce({fullHeight:!0}),...Ku()},"VApp"),kpe=Gr()({name:"VApp",props:Spe(),setup(r,i){let{slots:d}=i;const m=qu(r),{layoutClasses:x,getLayoutItem:b,items:y,layoutRef:S}=$ce(r),{rtlClasses:L}=tk();return Ks(()=>{var P;return Te("div",{ref:S,class:["v-application",m.themeClasses.value,x.value,L.value,r.class],style:[r.style]},[Te("div",{class:"v-application__wrap"},[(P=d.default)==null?void 0:P.call(d)])])}),{getLayoutItem:b,items:y,theme:m}}}),Epe={__name:"App",setup(r){const i=Id();return i.init(),(d,m)=>(kr(),Oi(kpe,{"fill-height":""},{default:Dn(()=>[et(i).initialized?$u("",!0):(kr(),Oi(Khe,{key:0})),et(i).initialized?(kr(),Oi(rge,{key:1})):$u("",!0),et(i).initialized&&!et(i).review?(kr(),Oi(hge,{key:2})):$u("",!0),et(i).initialized&&!et(i).review?(kr(),Oi(Bhe,{key:3})):$u("",!0),et(i).initialized&&et(i).review?(kr(),Oi(Cpe,{key:4})):$u("",!0)]),_:1}))}},yY=Pie(Epe);Jce(yY);yY.mount("#app");
