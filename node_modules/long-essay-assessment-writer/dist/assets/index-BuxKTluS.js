var Jse=Object.defineProperty;var Qse=(r,i,u)=>i in r?Jse(r,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[i]=u;var _r=(r,i,u)=>Qse(r,typeof i!="symbol"?i+"":i,u);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const p of b)if(p.type==="childList")for(const x of p.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&m(x)}).observe(document,{childList:!0,subtree:!0});function u(b){const p={};return b.integrity&&(p.integrity=b.integrity),b.referrerPolicy&&(p.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?p.credentials="include":b.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function m(b){if(b.ep)return;b.ep=!0;const p=u(b);fetch(b.href,p)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function uV(r,i){const u=new Set(r.split(","));return m=>u.has(m)}const hi={},tk=[],ig=()=>{},eae=()=>!1,rM=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),dV=r=>r.startsWith("onUpdate:"),Bl=Object.assign,fV=(r,i)=>{const u=r.indexOf(i);u>-1&&r.splice(u,1)},tae=Object.prototype.hasOwnProperty,Ss=(r,i)=>tae.call(r,i),Xo=Array.isArray,nk=r=>sM(r)==="[object Map]",wK=r=>sM(r)==="[object Set]",pr=r=>typeof r=="function",Gi=r=>typeof r=="string",gy=r=>typeof r=="symbol",Ba=r=>r!==null&&typeof r=="object",CK=r=>(Ba(r)||pr(r))&&pr(r.then)&&pr(r.catch),_K=Object.prototype.toString,sM=r=>_K.call(r),nae=r=>sM(r).slice(8,-1),SK=r=>sM(r)==="[object Object]",mV=r=>Gi(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,UT=uV(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),aM=r=>{const i=Object.create(null);return u=>i[u]||(i[u]=r(u))},oae=/-(\w)/g,Wf=aM(r=>r.replace(oae,(i,u)=>u?u.toUpperCase():"")),rae=/\B([A-Z])/g,Pw=aM(r=>r.replace(rae,"-$1").toLowerCase()),q0=aM(r=>r.charAt(0).toUpperCase()+r.slice(1)),j9=aM(r=>r?`on${q0(r)}`:""),uy=(r,i)=>!Object.is(r,i),O8=(r,...i)=>{for(let u=0;u<r.length;u++)r[u](...i)},kK=(r,i,u,m=!1)=>{Object.defineProperty(r,i,{configurable:!0,enumerable:!1,writable:m,value:u})},kH=r=>{const i=parseFloat(r);return isNaN(i)?r:i},sae=r=>{const i=Gi(r)?Number(r):NaN;return isNaN(i)?r:i};let fZ;const EK=()=>fZ||(fZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $0(r){if(Xo(r)){const i={};for(let u=0;u<r.length;u++){const m=r[u],b=Gi(m)?cae(m):$0(m);if(b)for(const p in b)i[p]=b[p]}return i}else if(Gi(r)||Ba(r))return r}const aae=/;(?![^(]*\))/g,iae=/:([^]+)/,lae=/\/\*[^]*?\*\//g;function cae(r){const i={};return r.replace(lae,"").split(aae).forEach(u=>{if(u){const m=u.split(iae);m.length>1&&(i[m[0].trim()]=m[1].trim())}}),i}function dy(r){let i="";if(Gi(r))i=r;else if(Xo(r))for(let u=0;u<r.length;u++){const m=dy(r[u]);m&&(i+=m+" ")}else if(Ba(r))for(const u in r)r[u]&&(i+=u+" ");return i.trim()}const uae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dae=uV(uae);function AK(r){return!!r||r===""}const TK=r=>!!(r&&r.__v_isRef===!0),Bd=r=>Gi(r)?r:r==null?"":Xo(r)||Ba(r)&&(r.toString===_K||!pr(r.toString))?TK(r)?Bd(r.value):JSON.stringify(r,OK,2):String(r),OK=(r,i)=>TK(i)?OK(r,i.value):nk(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((u,[m,b],p)=>(u[K9(m,p)+" =>"]=b,u),{})}:wK(i)?{[`Set(${i.size})`]:[...i.values()].map(u=>K9(u))}:gy(i)?K9(i):Ba(i)&&!Xo(i)&&!SK(i)?String(i):i,K9=(r,i="")=>{var u;return gy(r)?`Symbol(${(u=r.description)!=null?u:i})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pf;class DK{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pf,!i&&Pf&&(this.index=(Pf.scopes||(Pf.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const u=Pf;try{return Pf=this,i()}finally{Pf=u}}}on(){Pf=this}off(){Pf=this.parent}stop(i){if(this._active){let u,m;for(u=0,m=this.effects.length;u<m;u++)this.effects[u].stop();for(u=0,m=this.cleanups.length;u<m;u++)this.cleanups[u]();if(this.scopes)for(u=0,m=this.scopes.length;u<m;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!i){const b=this.parent.scopes.pop();b&&b!==this&&(this.parent.scopes[this.index]=b,b.index=this.index)}this.parent=void 0,this._active=!1}}}function rO(r){return new DK(r)}function fae(r,i=Pf){i&&i.active&&i.effects.push(r)}function RK(){return Pf}function Zf(r){Pf&&Pf.cleanups.push(r)}let kw;class gV{constructor(i,u,m,b){this.fn=i,this.trigger=u,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,fae(this,b)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,hy();for(let i=0;i<this._depsLength;i++){const u=this.deps[i];if(u.computed&&(mae(u.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),py()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=sy,u=kw;try{return sy=!0,kw=this,this._runnings++,mZ(this),this.fn()}finally{gZ(this),this._runnings--,kw=u,sy=i}}stop(){this.active&&(mZ(this),gZ(this),this.onStop&&this.onStop(),this.active=!1)}}function mae(r){return r.value}function mZ(r){r._trackId++,r._depsLength=0}function gZ(r){if(r.deps.length>r._depsLength){for(let i=r._depsLength;i<r.deps.length;i++)NK(r.deps[i],r);r.deps.length=r._depsLength}}function NK(r,i){const u=r.get(i);u!==void 0&&i._trackId!==u&&(r.delete(i),r.size===0&&r.cleanup())}let sy=!0,EH=0;const IK=[];function hy(){IK.push(sy),sy=!1}function py(){const r=IK.pop();sy=r===void 0?!0:r}function hV(){EH++}function pV(){for(EH--;!EH&&AH.length;)AH.shift()()}function BK(r,i,u){if(i.get(r)!==r._trackId){i.set(r,r._trackId);const m=r.deps[r._depsLength];m!==i?(m&&NK(m,r),r.deps[r._depsLength++]=i):r._depsLength++}}const AH=[];function MK(r,i,u){hV();for(const m of r.keys()){let b;m._dirtyLevel<i&&(b??(b=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=i),m._shouldSchedule&&(b??(b=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&AH.push(m.scheduler)))}pV()}const PK=(r,i)=>{const u=new Map;return u.cleanup=r,u.computed=i,u},z8=new WeakMap,Ew=Symbol(""),TH=Symbol("");function Ld(r,i,u){if(sy&&kw){let m=z8.get(r);m||z8.set(r,m=new Map);let b=m.get(u);b||m.set(u,b=PK(()=>m.delete(u))),BK(kw,b)}}function W0(r,i,u,m,b,p){const x=z8.get(r);if(!x)return;let S=[];if(i==="clear")S=[...x.values()];else if(u==="length"&&Xo(r)){const M=Number(m);x.forEach((I,R)=>{(R==="length"||!gy(R)&&R>=M)&&S.push(I)})}else switch(u!==void 0&&S.push(x.get(u)),i){case"add":Xo(r)?mV(u)&&S.push(x.get("length")):(S.push(x.get(Ew)),nk(r)&&S.push(x.get(TH)));break;case"delete":Xo(r)||(S.push(x.get(Ew)),nk(r)&&S.push(x.get(TH)));break;case"set":nk(r)&&S.push(x.get(Ew));break}hV();for(const M of S)M&&MK(M,4);pV()}function gae(r,i){const u=z8.get(r);return u&&u.get(i)}const hae=uV("__proto__,__v_isRef,__isVue"),LK=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(gy)),hZ=pae();function pae(){const r={};return["includes","indexOf","lastIndexOf"].forEach(i=>{r[i]=function(...u){const m=Eo(this);for(let p=0,x=this.length;p<x;p++)Ld(m,"get",p+"");const b=m[i](...u);return b===-1||b===!1?m[i](...u.map(Eo)):b}}),["push","pop","shift","unshift","splice"].forEach(i=>{r[i]=function(...u){hy(),hV();const m=Eo(this)[i].apply(this,u);return pV(),py(),m}}),r}function bae(r){gy(r)||(r=String(r));const i=Eo(this);return Ld(i,"has",r),i.hasOwnProperty(r)}class FK{constructor(i=!1,u=!1){this._isReadonly=i,this._isShallow=u}get(i,u,m){const b=this._isReadonly,p=this._isShallow;if(u==="__v_isReactive")return!b;if(u==="__v_isReadonly")return b;if(u==="__v_isShallow")return p;if(u==="__v_raw")return m===(b?p?Dae:$K:p?VK:HK).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(m)?i:void 0;const x=Xo(i);if(!b){if(x&&Ss(hZ,u))return Reflect.get(hZ,u,m);if(u==="hasOwnProperty")return bae}const S=Reflect.get(i,u,m);return(gy(u)?LK.has(u):hae(u))||(b||Ld(i,"get",u),p)?S:Ma(S)?x&&mV(u)?S:S.value:Ba(S)?b?sO(S):lu(S):S}}class zK extends FK{constructor(i=!1){super(!1,i)}set(i,u,m,b){let p=i[u];if(!this._isShallow){const M=Iw(p);if(!rk(m)&&!Iw(m)&&(p=Eo(p),m=Eo(m)),!Xo(i)&&Ma(p)&&!Ma(m))return M?!1:(p.value=m,!0)}const x=Xo(i)&&mV(u)?Number(u)<i.length:Ss(i,u),S=Reflect.set(i,u,m,b);return i===Eo(b)&&(x?uy(m,p)&&W0(i,"set",u,m):W0(i,"add",u,m)),S}deleteProperty(i,u){const m=Ss(i,u);i[u];const b=Reflect.deleteProperty(i,u);return b&&m&&W0(i,"delete",u,void 0),b}has(i,u){const m=Reflect.has(i,u);return(!gy(u)||!LK.has(u))&&Ld(i,"has",u),m}ownKeys(i){return Ld(i,"iterate",Xo(i)?"length":Ew),Reflect.ownKeys(i)}}class vae extends FK{constructor(i=!1){super(!0,i)}set(i,u){return!0}deleteProperty(i,u){return!0}}const yae=new zK,xae=new vae,wae=new zK(!0);const bV=r=>r,iM=r=>Reflect.getPrototypeOf(r);function l8(r,i,u=!1,m=!1){r=r.__v_raw;const b=Eo(r),p=Eo(i);u||(uy(i,p)&&Ld(b,"get",i),Ld(b,"get",p));const{has:x}=iM(b),S=m?bV:u?wV:qT;if(x.call(b,i))return S(r.get(i));if(x.call(b,p))return S(r.get(p));r!==b&&r.get(i)}function c8(r,i=!1){const u=this.__v_raw,m=Eo(u),b=Eo(r);return i||(uy(r,b)&&Ld(m,"has",r),Ld(m,"has",b)),r===b?u.has(r):u.has(r)||u.has(b)}function u8(r,i=!1){return r=r.__v_raw,!i&&Ld(Eo(r),"iterate",Ew),Reflect.get(r,"size",r)}function pZ(r,i=!1){!i&&!rk(r)&&!Iw(r)&&(r=Eo(r));const u=Eo(this);return iM(u).has.call(u,r)||(u.add(r),W0(u,"add",r,r)),this}function bZ(r,i,u=!1){!u&&!rk(i)&&!Iw(i)&&(i=Eo(i));const m=Eo(this),{has:b,get:p}=iM(m);let x=b.call(m,r);x||(r=Eo(r),x=b.call(m,r));const S=p.call(m,r);return m.set(r,i),x?uy(i,S)&&W0(m,"set",r,i):W0(m,"add",r,i),this}function vZ(r){const i=Eo(this),{has:u,get:m}=iM(i);let b=u.call(i,r);b||(r=Eo(r),b=u.call(i,r)),m&&m.call(i,r);const p=i.delete(r);return b&&W0(i,"delete",r,void 0),p}function yZ(){const r=Eo(this),i=r.size!==0,u=r.clear();return i&&W0(r,"clear",void 0,void 0),u}function d8(r,i){return function(m,b){const p=this,x=p.__v_raw,S=Eo(x),M=i?bV:r?wV:qT;return!r&&Ld(S,"iterate",Ew),x.forEach((I,R)=>m.call(b,M(I),M(R),p))}}function f8(r,i,u){return function(...m){const b=this.__v_raw,p=Eo(b),x=nk(p),S=r==="entries"||r===Symbol.iterator&&x,M=r==="keys"&&x,I=b[r](...m),R=u?bV:i?wV:qT;return!i&&Ld(p,"iterate",M?TH:Ew),{next(){const{value:z,done:U}=I.next();return U?{value:z,done:U}:{value:S?[R(z[0]),R(z[1])]:R(z),done:U}},[Symbol.iterator](){return this}}}}function Kv(r){return function(...i){return r==="delete"?!1:r==="clear"?void 0:this}}function Cae(){const r={get(p){return l8(this,p)},get size(){return u8(this)},has:c8,add:pZ,set:bZ,delete:vZ,clear:yZ,forEach:d8(!1,!1)},i={get(p){return l8(this,p,!1,!0)},get size(){return u8(this)},has:c8,add(p){return pZ.call(this,p,!0)},set(p,x){return bZ.call(this,p,x,!0)},delete:vZ,clear:yZ,forEach:d8(!1,!0)},u={get(p){return l8(this,p,!0)},get size(){return u8(this,!0)},has(p){return c8.call(this,p,!0)},add:Kv("add"),set:Kv("set"),delete:Kv("delete"),clear:Kv("clear"),forEach:d8(!0,!1)},m={get(p){return l8(this,p,!0,!0)},get size(){return u8(this,!0)},has(p){return c8.call(this,p,!0)},add:Kv("add"),set:Kv("set"),delete:Kv("delete"),clear:Kv("clear"),forEach:d8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{r[p]=f8(p,!1,!1),u[p]=f8(p,!0,!1),i[p]=f8(p,!1,!0),m[p]=f8(p,!0,!0)}),[r,u,i,m]}const[_ae,Sae,kae,Eae]=Cae();function vV(r,i){const u=i?r?Eae:kae:r?Sae:_ae;return(m,b,p)=>b==="__v_isReactive"?!r:b==="__v_isReadonly"?r:b==="__v_raw"?m:Reflect.get(Ss(u,b)&&b in m?u:m,b,p)}const Aae={get:vV(!1,!1)},Tae={get:vV(!1,!0)},Oae={get:vV(!0,!1)};const HK=new WeakMap,VK=new WeakMap,$K=new WeakMap,Dae=new WeakMap;function Rae(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nae(r){return r.__v_skip||!Object.isExtensible(r)?0:Rae(nae(r))}function lu(r){return Iw(r)?r:yV(r,!1,yae,Aae,HK)}function Iae(r){return yV(r,!1,wae,Tae,VK)}function sO(r){return yV(r,!0,xae,Oae,$K)}function yV(r,i,u,m,b){if(!Ba(r)||r.__v_raw&&!(i&&r.__v_isReactive))return r;const p=b.get(r);if(p)return p;const x=Nae(r);if(x===0)return r;const S=new Proxy(r,x===2?m:u);return b.set(r,S),S}function Aw(r){return Iw(r)?Aw(r.__v_raw):!!(r&&r.__v_isReactive)}function Iw(r){return!!(r&&r.__v_isReadonly)}function rk(r){return!!(r&&r.__v_isShallow)}function UK(r){return r?!!r.__v_raw:!1}function Eo(r){const i=r&&r.__v_raw;return i?Eo(i):r}function xV(r){return Object.isExtensible(r)&&kK(r,"__v_skip",!0),r}const qT=r=>Ba(r)?lu(r):r,wV=r=>Ba(r)?sO(r):r;class WK{constructor(i,u,m,b){this.getter=i,this._setter=u,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new gV(()=>i(this._value),()=>D8(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!b,this.__v_isReadonly=m}get value(){const i=Eo(this);return(!i._cacheable||i.effect.dirty)&&uy(i._value,i._value=i.effect.run())&&D8(i,4),ZK(i),i.effect._dirtyLevel>=2&&D8(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Bae(r,i,u=!1){let m,b;const p=pr(r);return p?(m=r,b=ig):(m=r.get,b=r.set),new WK(m,b,p||!b,u)}function ZK(r){var i;sy&&kw&&(r=Eo(r),BK(kw,(i=r.dep)!=null?i:r.dep=PK(()=>r.dep=void 0,r instanceof WK?r:void 0)))}function D8(r,i=4,u,m){r=Eo(r);const b=r.dep;b&&MK(b,i)}function Ma(r){return!!(r&&r.__v_isRef===!0)}function Mo(r){return jK(r,!1)}function Ar(r){return jK(r,!0)}function jK(r,i){return Ma(r)?r:new Mae(r,i)}class Mae{constructor(i,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?i:Eo(i),this._value=u?i:qT(i)}get value(){return ZK(this),this._value}set value(i){const u=this.__v_isShallow||rk(i)||Iw(i);i=u?i:Eo(i),uy(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=u?i:qT(i),D8(this,4))}}function Ue(r){return Ma(r)?r.value:r}const Pae={get:(r,i,u)=>Ue(Reflect.get(r,i,u)),set:(r,i,u,m)=>{const b=r[i];return Ma(b)&&!Ma(u)?(b.value=u,!0):Reflect.set(r,i,u,m)}};function KK(r){return Aw(r)?r:new Proxy(r,Pae)}function aO(r){const i=Xo(r)?new Array(r.length):{};for(const u in r)i[u]=qK(r,u);return i}class Lae{constructor(i,u,m){this._object=i,this._key=u,this._defaultValue=m,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return gae(Eo(this._object),this._key)}}class Fae{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function es(r,i,u){return Ma(r)?r:pr(r)?new Fae(r):Ba(r)&&arguments.length>1?qK(r,i,u):Mo(r)}function qK(r,i,u){const m=r[i];return Ma(m)?m:new Lae(r,i,u)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ay(r,i,u,m){try{return m?r(...m):r()}catch(b){lM(b,i,u)}}function cg(r,i,u,m){if(pr(r)){const b=ay(r,i,u,m);return b&&CK(b)&&b.catch(p=>{lM(p,i,u)}),b}if(Xo(r)){const b=[];for(let p=0;p<r.length;p++)b.push(cg(r[p],i,u,m));return b}}function lM(r,i,u,m=!0){const b=i?i.vnode:null;if(i){let p=i.parent;const x=i.proxy,S=`https://vuejs.org/error-reference/#runtime-${u}`;for(;p;){const I=p.ec;if(I){for(let R=0;R<I.length;R++)if(I[R](r,x,S)===!1)return}p=p.parent}const M=i.appContext.config.errorHandler;if(M){hy(),ay(M,null,10,[r,x,S]),py();return}}zae(r,u,b,m)}function zae(r,i,u,m=!0){console.error(r)}let GT=!1,OH=!1;const cu=[];let Lp=0;const ok=[];let Qv=null,Cw=0;const GK=Promise.resolve();let CV=null;function Ia(r){const i=CV||GK;return r?i.then(this?r.bind(this):r):i}function Hae(r){let i=Lp+1,u=cu.length;for(;i<u;){const m=i+u>>>1,b=cu[m],p=YT(b);p<r||p===r&&b.pre?i=m+1:u=m}return i}function _V(r){(!cu.length||!cu.includes(r,GT&&r.allowRecurse?Lp+1:Lp))&&(r.id==null?cu.push(r):cu.splice(Hae(r.id),0,r),YK())}function YK(){!GT&&!OH&&(OH=!0,CV=GK.then(JK))}function Vae(r){const i=cu.indexOf(r);i>Lp&&cu.splice(i,1)}function $ae(r){Xo(r)?ok.push(...r):(!Qv||!Qv.includes(r,r.allowRecurse?Cw+1:Cw))&&ok.push(r),YK()}function xZ(r,i,u=GT?Lp+1:0){for(;u<cu.length;u++){const m=cu[u];if(m&&m.pre){if(r&&m.id!==r.uid)continue;cu.splice(u,1),u--,m()}}}function XK(r){if(ok.length){const i=[...new Set(ok)].sort((u,m)=>YT(u)-YT(m));if(ok.length=0,Qv){Qv.push(...i);return}for(Qv=i,Cw=0;Cw<Qv.length;Cw++){const u=Qv[Cw];u.active!==!1&&u()}Qv=null,Cw=0}}const YT=r=>r.id==null?1/0:r.id,Uae=(r,i)=>{const u=YT(r)-YT(i);if(u===0){if(r.pre&&!i.pre)return-1;if(i.pre&&!r.pre)return 1}return u};function JK(r){OH=!1,GT=!0,cu.sort(Uae);try{for(Lp=0;Lp<cu.length;Lp++){const i=cu[Lp];i&&i.active!==!1&&ay(i,i.i,i.i?15:14)}}finally{Lp=0,cu.length=0,XK(),GT=!1,CV=null,(cu.length||ok.length)&&JK()}}let Yu=null,cM=null;function H8(r){const i=Yu;return Yu=r,cM=r&&r.type.__scopeId||null,i}function by(r){cM=r}function vy(){cM=null}function bn(r,i=Yu,u){if(!i||r._n)return r;const m=(...b)=>{m._d&&NZ(-1);const p=H8(i);let x;try{x=r(...b)}finally{H8(p),m._d&&NZ(1)}return x};return m._n=!0,m._c=!0,m._d=!0,m}function qo(r,i){if(Yu===null)return r;const u=gM(Yu),m=r.dirs||(r.dirs=[]);for(let b=0;b<i.length;b++){let[p,x,S,M=hi]=i[b];p&&(pr(p)&&(p={mounted:p,updated:p}),p.deep&&ny(x),m.push({dir:p,instance:u,value:x,oldValue:void 0,arg:S,modifiers:M}))}return r}function hw(r,i,u,m){const b=r.dirs,p=i&&i.dirs;for(let x=0;x<b.length;x++){const S=b[x];p&&(S.oldValue=p[x].value);let M=S.dir[m];M&&(hy(),cg(M,u,8,[r.el,S,r,i]),py())}}const ey=Symbol("_leaveCb"),m8=Symbol("_enterCb");function QK(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tc(()=>{r.isMounted=!0}),Oc(()=>{r.isUnmounting=!0}),r}const rg=[Function,Array],eq={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rg,onEnter:rg,onAfterEnter:rg,onEnterCancelled:rg,onBeforeLeave:rg,onLeave:rg,onAfterLeave:rg,onLeaveCancelled:rg,onBeforeAppear:rg,onAppear:rg,onAfterAppear:rg,onAppearCancelled:rg},tq=r=>{const i=r.subTree;return i.component?tq(i.component):i},Wae={name:"BaseTransition",props:eq,setup(r,{slots:i}){const u=BV(),m=QK();return()=>{const b=i.default&&SV(i.default(),!0);if(!b||!b.length)return;let p=b[0];if(b.length>1){for(const U of b)if(U.type!==Lf){p=U;break}}const x=Eo(r),{mode:S}=x;if(m.isLeaving)return q9(p);const M=wZ(p);if(!M)return q9(p);let I=XT(M,x,m,u,U=>I=U);sk(M,I);const R=u.subTree,z=R&&wZ(R);if(z&&z.type!==Lf&&!_w(M,z)&&tq(u).type!==Lf){const U=XT(z,x,m,u);if(sk(z,U),S==="out-in"&&M.type!==Lf)return m.isLeaving=!0,U.afterLeave=()=>{m.isLeaving=!1,u.update.active!==!1&&(u.effect.dirty=!0,u.update())},q9(p);S==="in-out"&&M.type!==Lf&&(U.delayLeave=($,G,ee)=>{const he=nq(m,z);he[String(z.key)]=z,$[ey]=()=>{G(),$[ey]=void 0,delete I.delayedLeave},I.delayedLeave=ee})}return p}}},Zae=Wae;function nq(r,i){const{leavingVNodes:u}=r;let m=u.get(i.type);return m||(m=Object.create(null),u.set(i.type,m)),m}function XT(r,i,u,m,b){const{appear:p,mode:x,persisted:S=!1,onBeforeEnter:M,onEnter:I,onAfterEnter:R,onEnterCancelled:z,onBeforeLeave:U,onLeave:$,onAfterLeave:G,onLeaveCancelled:ee,onBeforeAppear:he,onAppear:me,onAfterAppear:$e,onAppearCancelled:Te}=i,te=String(r.key),Ae=nq(u,r),re=(Ze,rt)=>{Ze&&cg(Ze,m,9,rt)},Ge=(Ze,rt)=>{const Ce=rt[1];re(Ze,rt),Xo(Ze)?Ze.every(Ne=>Ne.length<=1)&&Ce():Ze.length<=1&&Ce()},Ve={mode:x,persisted:S,beforeEnter(Ze){let rt=M;if(!u.isMounted)if(p)rt=he||M;else return;Ze[ey]&&Ze[ey](!0);const Ce=Ae[te];Ce&&_w(r,Ce)&&Ce.el[ey]&&Ce.el[ey](),re(rt,[Ze])},enter(Ze){let rt=I,Ce=R,Ne=z;if(!u.isMounted)if(p)rt=me||I,Ce=$e||R,Ne=Te||z;else return;let D=!1;const yt=Ze[m8]=Pt=>{D||(D=!0,Pt?re(Ne,[Ze]):re(Ce,[Ze]),Ve.delayedLeave&&Ve.delayedLeave(),Ze[m8]=void 0)};rt?Ge(rt,[Ze,yt]):yt()},leave(Ze,rt){const Ce=String(r.key);if(Ze[m8]&&Ze[m8](!0),u.isUnmounting)return rt();re(U,[Ze]);let Ne=!1;const D=Ze[ey]=yt=>{Ne||(Ne=!0,rt(),yt?re(ee,[Ze]):re(G,[Ze]),Ze[ey]=void 0,Ae[Ce]===r&&delete Ae[Ce])};Ae[Ce]=r,$?Ge($,[Ze,D]):D()},clone(Ze){const rt=XT(Ze,i,u,m,b);return b&&b(rt),rt}};return Ve}function q9(r){if(uM(r))return r=fy(r),r.children=null,r}function wZ(r){if(!uM(r))return r;const{shapeFlag:i,children:u}=r;if(u){if(i&16)return u[0];if(i&32&&pr(u.default))return u.default()}}function sk(r,i){r.shapeFlag&6&&r.component?sk(r.component.subTree,i):r.shapeFlag&128?(r.ssContent.transition=i.clone(r.ssContent),r.ssFallback.transition=i.clone(r.ssFallback)):r.transition=i}function SV(r,i=!1,u){let m=[],b=0;for(let p=0;p<r.length;p++){let x=r[p];const S=u==null?x.key:String(u)+String(x.key!=null?x.key:p);x.type===ks?(x.patchFlag&128&&b++,m=m.concat(SV(x.children,i,S))):(i||x.type!==Lf)&&m.push(S!=null?fy(x,{key:S}):x)}if(b>1)for(let p=0;p<m.length;p++)m[p].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function oq(r,i){return pr(r)?Bl({name:r.name},i,{setup:r}):r}const R8=r=>!!r.type.__asyncLoader,uM=r=>r.type.__isKeepAlive;function kV(r,i){rq(r,"a",i)}function EV(r,i){rq(r,"da",i)}function rq(r,i,u=Jl){const m=r.__wdc||(r.__wdc=()=>{let b=u;for(;b;){if(b.isDeactivated)return;b=b.parent}return r()});if(dM(i,m,u),u){let b=u.parent;for(;b&&b.parent;)uM(b.parent.vnode)&&jae(m,i,u,b),b=b.parent}}function jae(r,i,u,m){const b=dM(i,r,m,!0);sq(()=>{fV(m[i],b)},u)}function dM(r,i,u=Jl,m=!1){if(u){const b=u[r]||(u[r]=[]),p=i.__weh||(i.__weh=(...x)=>{hy();const S=cO(u),M=cg(i,u,r,x);return S(),py(),M});return m?b.unshift(p):b.push(p),p}}const G0=r=>(i,u=Jl)=>{(!mM||r==="sp")&&dM(r,(...m)=>i(...m),u)},AV=G0("bm"),Tc=G0("m"),Kae=G0("bu"),TV=G0("u"),Oc=G0("bum"),sq=G0("um"),qae=G0("sp"),Gae=G0("rtg"),Yae=G0("rtc");function Xae(r,i=Jl){dM("ec",r,i)}const aq="components",Jae="directives",Qae=Symbol.for("v-ndc");function eie(r){return Gi(r)&&iq(aq,r,!1)||r}function iO(r){return iq(Jae,r)}function iq(r,i,u=!0,m=!1){const b=Yu||Jl;if(b){const p=b.type;if(r===aq){const S=Zie(p,!1);if(S&&(S===i||S===Wf(i)||S===q0(Wf(i))))return p}const x=CZ(b[r]||p[r],i)||CZ(b.appContext[r],i);return!x&&m?p:x}}function CZ(r,i){return r&&(r[i]||r[Wf(i)]||r[q0(Wf(i))])}function ak(r,i,u,m){let b;const p=u;if(Xo(r)||Gi(r)){b=new Array(r.length);for(let x=0,S=r.length;x<S;x++)b[x]=i(r[x],x,void 0,p)}else if(typeof r=="number"){b=new Array(r);for(let x=0;x<r;x++)b[x]=i(x+1,x,void 0,p)}else if(Ba(r))if(r[Symbol.iterator])b=Array.from(r,(x,S)=>i(x,S,void 0,p));else{const x=Object.keys(r);b=new Array(x.length);for(let S=0,M=x.length;S<M;S++){const I=x[S];b[S]=i(r[I],I,S,p)}}else b=[];return b}const DH=r=>r?Aq(r)?gM(r):DH(r.parent):null,WT=Bl(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>DH(r.parent),$root:r=>DH(r.root),$emit:r=>r.emit,$options:r=>OV(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,_V(r.update)}),$nextTick:r=>r.n||(r.n=Ia.bind(r.proxy)),$watch:r=>Eie.bind(r)}),G9=(r,i)=>r!==hi&&!r.__isScriptSetup&&Ss(r,i),tie={get({_:r},i){if(i==="__v_skip")return!0;const{ctx:u,setupState:m,data:b,props:p,accessCache:x,type:S,appContext:M}=r;let I;if(i[0]!=="$"){const $=x[i];if($!==void 0)switch($){case 1:return m[i];case 2:return b[i];case 4:return u[i];case 3:return p[i]}else{if(G9(m,i))return x[i]=1,m[i];if(b!==hi&&Ss(b,i))return x[i]=2,b[i];if((I=r.propsOptions[0])&&Ss(I,i))return x[i]=3,p[i];if(u!==hi&&Ss(u,i))return x[i]=4,u[i];RH&&(x[i]=0)}}const R=WT[i];let z,U;if(R)return i==="$attrs"&&Ld(r.attrs,"get",""),R(r);if((z=S.__cssModules)&&(z=z[i]))return z;if(u!==hi&&Ss(u,i))return x[i]=4,u[i];if(U=M.config.globalProperties,Ss(U,i))return U[i]},set({_:r},i,u){const{data:m,setupState:b,ctx:p}=r;return G9(b,i)?(b[i]=u,!0):m!==hi&&Ss(m,i)?(m[i]=u,!0):Ss(r.props,i)||i[0]==="$"&&i.slice(1)in r?!1:(p[i]=u,!0)},has({_:{data:r,setupState:i,accessCache:u,ctx:m,appContext:b,propsOptions:p}},x){let S;return!!u[x]||r!==hi&&Ss(r,x)||G9(i,x)||(S=p[0])&&Ss(S,x)||Ss(m,x)||Ss(WT,x)||Ss(b.config.globalProperties,x)},defineProperty(r,i,u){return u.get!=null?r._.accessCache[i]=0:Ss(u,"value")&&this.set(r,i,u.value,null),Reflect.defineProperty(r,i,u)}};function _Z(r){return Xo(r)?r.reduce((i,u)=>(i[u]=null,i),{}):r}let RH=!0;function nie(r){const i=OV(r),u=r.proxy,m=r.ctx;RH=!1,i.beforeCreate&&SZ(i.beforeCreate,r,"bc");const{data:b,computed:p,methods:x,watch:S,provide:M,inject:I,created:R,beforeMount:z,mounted:U,beforeUpdate:$,updated:G,activated:ee,deactivated:he,beforeDestroy:me,beforeUnmount:$e,destroyed:Te,unmounted:te,render:Ae,renderTracked:re,renderTriggered:Ge,errorCaptured:Ve,serverPrefetch:Ze,expose:rt,inheritAttrs:Ce,components:Ne,directives:D,filters:yt}=i;if(I&&oie(I,m,null),x)for(const gn in x){const Qe=x[gn];pr(Qe)&&(m[gn]=Qe.bind(u))}if(b){const gn=b.call(u,u);Ba(gn)&&(r.data=lu(gn))}if(RH=!0,p)for(const gn in p){const Qe=p[gn],On=pr(Qe)?Qe.bind(u,u):pr(Qe.get)?Qe.get.bind(u,u):ig,nr=!pr(Qe)&&pr(Qe.set)?Qe.set.bind(u):ig,pt=ct({get:On,set:nr});Object.defineProperty(m,gn,{enumerable:!0,configurable:!0,get:()=>pt.value,set:bt=>pt.value=bt})}if(S)for(const gn in S)lq(S[gn],m,u,gn);if(M){const gn=pr(M)?M.call(u):M;Reflect.ownKeys(gn).forEach(Qe=>{jf(Qe,gn[Qe])})}R&&SZ(R,r,"c");function ln(gn,Qe){Xo(Qe)?Qe.forEach(On=>gn(On.bind(u))):Qe&&gn(Qe.bind(u))}if(ln(AV,z),ln(Tc,U),ln(Kae,$),ln(TV,G),ln(kV,ee),ln(EV,he),ln(Xae,Ve),ln(Yae,re),ln(Gae,Ge),ln(Oc,$e),ln(sq,te),ln(qae,Ze),Xo(rt))if(rt.length){const gn=r.exposed||(r.exposed={});rt.forEach(Qe=>{Object.defineProperty(gn,Qe,{get:()=>u[Qe],set:On=>u[Qe]=On})})}else r.exposed||(r.exposed={});Ae&&r.render===ig&&(r.render=Ae),Ce!=null&&(r.inheritAttrs=Ce),Ne&&(r.components=Ne),D&&(r.directives=D)}function oie(r,i,u=ig){Xo(r)&&(r=NH(r));for(const m in r){const b=r[m];let p;Ba(b)?"default"in b?p=qi(b.from||m,b.default,!0):p=qi(b.from||m):p=qi(b),Ma(p)?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>p.value,set:x=>p.value=x}):i[m]=p}}function SZ(r,i,u){cg(Xo(r)?r.map(m=>m.bind(i.proxy)):r.bind(i.proxy),i,u)}function lq(r,i,u,m){const b=m.includes(".")?_q(u,m):()=>u[m];if(Gi(r)){const p=i[r];pr(p)&&Xn(b,p)}else if(pr(r))Xn(b,r.bind(u));else if(Ba(r))if(Xo(r))r.forEach(p=>lq(p,i,u,m));else{const p=pr(r.handler)?r.handler.bind(u):i[r.handler];pr(p)&&Xn(b,p,r)}}function OV(r){const i=r.type,{mixins:u,extends:m}=i,{mixins:b,optionsCache:p,config:{optionMergeStrategies:x}}=r.appContext,S=p.get(i);let M;return S?M=S:!b.length&&!u&&!m?M=i:(M={},b.length&&b.forEach(I=>V8(M,I,x,!0)),V8(M,i,x)),Ba(i)&&p.set(i,M),M}function V8(r,i,u,m=!1){const{mixins:b,extends:p}=i;p&&V8(r,p,u,!0),b&&b.forEach(x=>V8(r,x,u,!0));for(const x in i)if(!(m&&x==="expose")){const S=rie[x]||u&&u[x];r[x]=S?S(r[x],i[x]):i[x]}return r}const rie={data:kZ,props:EZ,emits:EZ,methods:$T,computed:$T,beforeCreate:qu,created:qu,beforeMount:qu,mounted:qu,beforeUpdate:qu,updated:qu,beforeDestroy:qu,beforeUnmount:qu,destroyed:qu,unmounted:qu,activated:qu,deactivated:qu,errorCaptured:qu,serverPrefetch:qu,components:$T,directives:$T,watch:aie,provide:kZ,inject:sie};function kZ(r,i){return i?r?function(){return Bl(pr(r)?r.call(this,this):r,pr(i)?i.call(this,this):i)}:i:r}function sie(r,i){return $T(NH(r),NH(i))}function NH(r){if(Xo(r)){const i={};for(let u=0;u<r.length;u++)i[r[u]]=r[u];return i}return r}function qu(r,i){return r?[...new Set([].concat(r,i))]:i}function $T(r,i){return r?Bl(Object.create(null),r,i):i}function EZ(r,i){return r?Xo(r)&&Xo(i)?[...new Set([...r,...i])]:Bl(Object.create(null),_Z(r),_Z(i??{})):i}function aie(r,i){if(!r)return i;if(!i)return r;const u=Bl(Object.create(null),r);for(const m in i)u[m]=qu(r[m],i[m]);return u}function cq(){return{app:null,config:{isNativeTag:eae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iie=0;function lie(r,i){return function(m,b=null){pr(m)||(m=Bl({},m)),b!=null&&!Ba(b)&&(b=null);const p=cq(),x=new WeakSet;let S=!1;const M=p.app={_uid:iie++,_component:m,_props:b,_container:null,_context:p,_instance:null,version:Kie,get config(){return p.config},set config(I){},use(I,...R){return x.has(I)||(I&&pr(I.install)?(x.add(I),I.install(M,...R)):pr(I)&&(x.add(I),I(M,...R))),M},mixin(I){return p.mixins.includes(I)||p.mixins.push(I),M},component(I,R){return R?(p.components[I]=R,M):p.components[I]},directive(I,R){return R?(p.directives[I]=R,M):p.directives[I]},mount(I,R,z){if(!S){const U=be(m,b);return U.appContext=p,z===!0?z="svg":z===!1&&(z=void 0),R&&i?i(U,I):r(U,I,z),S=!0,M._container=I,I.__vue_app__=M,gM(U.component)}},unmount(){S&&(r(null,M._container),delete M._container.__vue_app__)},provide(I,R){return p.provides[I]=R,M},runWithContext(I){const R=Tw;Tw=M;try{return I()}finally{Tw=R}}};return M}}let Tw=null;function jf(r,i){if(Jl){let u=Jl.provides;const m=Jl.parent&&Jl.parent.provides;m===u&&(u=Jl.provides=Object.create(m)),u[r]=i}}function qi(r,i,u=!1){const m=Jl||Yu;if(m||Tw){const b=Tw?Tw._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(b&&r in b)return b[r];if(arguments.length>1)return u&&pr(i)?i.call(m&&m.proxy):i}}function cie(){return!!(Jl||Yu||Tw)}const uq={},dq=()=>Object.create(uq),fq=r=>Object.getPrototypeOf(r)===uq;function uie(r,i,u,m=!1){const b={},p=dq();r.propsDefaults=Object.create(null),mq(r,i,b,p);for(const x in r.propsOptions[0])x in b||(b[x]=void 0);u?r.props=m?b:Iae(b):r.type.props?r.props=b:r.props=p,r.attrs=p}function die(r,i,u,m){const{props:b,attrs:p,vnode:{patchFlag:x}}=r,S=Eo(b),[M]=r.propsOptions;let I=!1;if((m||x>0)&&!(x&16)){if(x&8){const R=r.vnode.dynamicProps;for(let z=0;z<R.length;z++){let U=R[z];if(fM(r.emitsOptions,U))continue;const $=i[U];if(M)if(Ss(p,U))$!==p[U]&&(p[U]=$,I=!0);else{const G=Wf(U);b[G]=IH(M,S,G,$,r,!1)}else $!==p[U]&&(p[U]=$,I=!0)}}}else{mq(r,i,b,p)&&(I=!0);let R;for(const z in S)(!i||!Ss(i,z)&&((R=Pw(z))===z||!Ss(i,R)))&&(M?u&&(u[z]!==void 0||u[R]!==void 0)&&(b[z]=IH(M,S,z,void 0,r,!0)):delete b[z]);if(p!==S)for(const z in p)(!i||!Ss(i,z))&&(delete p[z],I=!0)}I&&W0(r.attrs,"set","")}function mq(r,i,u,m){const[b,p]=r.propsOptions;let x=!1,S;if(i)for(let M in i){if(UT(M))continue;const I=i[M];let R;b&&Ss(b,R=Wf(M))?!p||!p.includes(R)?u[R]=I:(S||(S={}))[R]=I:fM(r.emitsOptions,M)||(!(M in m)||I!==m[M])&&(m[M]=I,x=!0)}if(p){const M=Eo(u),I=S||hi;for(let R=0;R<p.length;R++){const z=p[R];u[z]=IH(b,M,z,I[z],r,!Ss(I,z))}}return x}function IH(r,i,u,m,b,p){const x=r[u];if(x!=null){const S=Ss(x,"default");if(S&&m===void 0){const M=x.default;if(x.type!==Function&&!x.skipFactory&&pr(M)){const{propsDefaults:I}=b;if(u in I)m=I[u];else{const R=cO(b);m=I[u]=M.call(null,i),R()}}else m=M}x[0]&&(p&&!S?m=!1:x[1]&&(m===""||m===Pw(u))&&(m=!0))}return m}const fie=new WeakMap;function gq(r,i,u=!1){const m=u?fie:i.propsCache,b=m.get(r);if(b)return b;const p=r.props,x={},S=[];let M=!1;if(!pr(r)){const R=z=>{M=!0;const[U,$]=gq(z,i,!0);Bl(x,U),$&&S.push(...$)};!u&&i.mixins.length&&i.mixins.forEach(R),r.extends&&R(r.extends),r.mixins&&r.mixins.forEach(R)}if(!p&&!M)return Ba(r)&&m.set(r,tk),tk;if(Xo(p))for(let R=0;R<p.length;R++){const z=Wf(p[R]);AZ(z)&&(x[z]=hi)}else if(p)for(const R in p){const z=Wf(R);if(AZ(z)){const U=p[R],$=x[z]=Xo(U)||pr(U)?{type:U}:Bl({},U),G=$.type;let ee=!1,he=!0;if(Xo(G))for(let me=0;me<G.length;++me){const $e=G[me],Te=pr($e)&&$e.name;if(Te==="Boolean"){ee=!0;break}else Te==="String"&&(he=!1)}else ee=pr(G)&&G.name==="Boolean";$[0]=ee,$[1]=he,(ee||Ss($,"default"))&&S.push(z)}}const I=[x,S];return Ba(r)&&m.set(r,I),I}function AZ(r){return r[0]!=="$"&&!UT(r)}const hq=r=>r[0]==="_"||r==="$stable",DV=r=>Xo(r)?r.map(Pp):[Pp(r)],mie=(r,i,u)=>{if(i._n)return i;const m=bn((...b)=>DV(i(...b)),u);return m._c=!1,m},pq=(r,i,u)=>{const m=r._ctx;for(const b in r){if(hq(b))continue;const p=r[b];if(pr(p))i[b]=mie(b,p,m);else if(p!=null){const x=DV(p);i[b]=()=>x}}},bq=(r,i)=>{const u=DV(i);r.slots.default=()=>u},vq=(r,i,u)=>{for(const m in i)(u||m!=="_")&&(r[m]=i[m])},gie=(r,i,u)=>{const m=r.slots=dq();if(r.vnode.shapeFlag&32){const b=i._;b?(vq(m,i,u),u&&kK(m,"_",b,!0)):pq(i,m)}else i&&bq(r,i)},hie=(r,i,u)=>{const{vnode:m,slots:b}=r;let p=!0,x=hi;if(m.shapeFlag&32){const S=i._;S?u&&S===1?p=!1:vq(b,i,u):(p=!i.$stable,pq(i,b)),x=i}else i&&(bq(r,i),x={default:1});if(p)for(const S in b)!hq(S)&&x[S]==null&&delete b[S]};function BH(r,i,u,m,b=!1){if(Xo(r)){r.forEach((U,$)=>BH(U,i&&(Xo(i)?i[$]:i),u,m,b));return}if(R8(m)&&!b)return;const p=m.shapeFlag&4?gM(m.component):m.el,x=b?null:p,{i:S,r:M}=r,I=i&&i.r,R=S.refs===hi?S.refs={}:S.refs,z=S.setupState;if(I!=null&&I!==M&&(Gi(I)?(R[I]=null,Ss(z,I)&&(z[I]=null)):Ma(I)&&(I.value=null)),pr(M))ay(M,S,12,[x,R]);else{const U=Gi(M),$=Ma(M);if(U||$){const G=()=>{if(r.f){const ee=U?Ss(z,M)?z[M]:R[M]:M.value;b?Xo(ee)&&fV(ee,p):Xo(ee)?ee.includes(p)||ee.push(p):U?(R[M]=[p],Ss(z,M)&&(z[M]=R[M])):(M.value=[p],r.k&&(R[r.k]=M.value))}else U?(R[M]=x,Ss(z,M)&&(z[M]=x)):$&&(M.value=x,r.k&&(R[r.k]=x))};x?(G.id=-1,Dd(G,u)):G()}}}const yq=Symbol("_vte"),pie=r=>r.__isTeleport,ZT=r=>r&&(r.disabled||r.disabled===""),TZ=r=>typeof SVGElement<"u"&&r instanceof SVGElement,OZ=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,MH=(r,i)=>{const u=r&&r.to;return Gi(u)?i?i(u):null:u},bie={name:"Teleport",__isTeleport:!0,process(r,i,u,m,b,p,x,S,M,I){const{mc:R,pc:z,pbc:U,o:{insert:$,querySelector:G,createText:ee,createComment:he}}=I,me=ZT(i.props);let{shapeFlag:$e,children:Te,dynamicChildren:te}=i;if(r==null){const Ae=i.el=ee(""),re=i.anchor=ee("");$(Ae,u,m),$(re,u,m);const Ge=i.target=MH(i.props,G),Ve=wq(Ge,i,ee,$);Ge&&(x==="svg"||TZ(Ge)?x="svg":(x==="mathml"||OZ(Ge))&&(x="mathml"));const Ze=(rt,Ce)=>{$e&16&&R(Te,rt,Ce,b,p,x,S,M)};me?Ze(u,re):Ge&&Ze(Ge,Ve)}else{i.el=r.el,i.targetStart=r.targetStart;const Ae=i.anchor=r.anchor,re=i.target=r.target,Ge=i.targetAnchor=r.targetAnchor,Ve=ZT(r.props),Ze=Ve?u:re,rt=Ve?Ae:Ge;if(x==="svg"||TZ(re)?x="svg":(x==="mathml"||OZ(re))&&(x="mathml"),te?(U(r.dynamicChildren,te,Ze,b,p,x,S),RV(r,i,!0)):M||z(r,i,Ze,rt,b,p,x,S,!1),me)Ve?i.props&&r.props&&i.props.to!==r.props.to&&(i.props.to=r.props.to):g8(i,u,Ae,I,1);else if((i.props&&i.props.to)!==(r.props&&r.props.to)){const Ce=i.target=MH(i.props,G);Ce&&g8(i,Ce,null,I,0)}else Ve&&g8(i,re,Ge,I,1)}xq(i)},remove(r,i,u,{um:m,o:{remove:b}},p){const{shapeFlag:x,children:S,anchor:M,targetStart:I,targetAnchor:R,target:z,props:U}=r;if(z&&(b(I),b(R)),p&&b(M),x&16){const $=p||!ZT(U);for(let G=0;G<S.length;G++){const ee=S[G];m(ee,i,u,$,!!ee.dynamicChildren)}}},move:g8,hydrate:vie};function g8(r,i,u,{o:{insert:m},m:b},p=2){p===0&&m(r.targetAnchor,i,u);const{el:x,anchor:S,shapeFlag:M,children:I,props:R}=r,z=p===2;if(z&&m(x,i,u),(!z||ZT(R))&&M&16)for(let U=0;U<I.length;U++)b(I[U],i,u,2);z&&m(S,i,u)}function vie(r,i,u,m,b,p,{o:{nextSibling:x,parentNode:S,querySelector:M,insert:I,createText:R}},z){const U=i.target=MH(i.props,M);if(U){const $=U._lpa||U.firstChild;if(i.shapeFlag&16)if(ZT(i.props))i.anchor=z(x(r),i,S(r),u,m,b,p),i.targetStart=$,i.targetAnchor=$&&x($);else{i.anchor=x(r);let G=$;for(;G;){if(G&&G.nodeType===8){if(G.data==="teleport start anchor")i.targetStart=G;else if(G.data==="teleport anchor"){i.targetAnchor=G,U._lpa=i.targetAnchor&&x(i.targetAnchor);break}}G=x(G)}i.targetAnchor||wq(U,i,R,I),z($&&x($),i,U,u,m,b,p)}xq(i)}return i.anchor&&x(i.anchor)}const yie=bie;function xq(r){const i=r.ctx;if(i&&i.ut){let u=r.children[0].el;for(;u&&u!==r.targetAnchor;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function wq(r,i,u,m){const b=i.targetStart=u(""),p=i.targetAnchor=u("");return b[yq]=p,r&&(m(b,r),m(p,r)),p}const Dd=Bie;function xie(r){return wie(r)}function wie(r,i){const u=EK();u.__VUE__=!0;const{insert:m,remove:b,patchProp:p,createElement:x,createText:S,createComment:M,setText:I,setElementText:R,parentNode:z,nextSibling:U,setScopeId:$=ig,insertStaticContent:G}=r,ee=(Ke,le,xe,Me=null,ge=null,St=null,$t=void 0,Ct=null,zt=!!le.dynamicChildren)=>{if(Ke===le)return;Ke&&!_w(Ke,le)&&(Me=Rn(Ke),bt(Ke,ge,St,!0),Ke=null),le.patchFlag===-2&&(zt=!1,le.dynamicChildren=null);const{type:It,ref:on,shapeFlag:wn}=le;switch(It){case lO:he(Ke,le,xe,Me);break;case Lf:me(Ke,le,xe,Me);break;case J9:Ke==null&&$e(le,xe,Me,$t);break;case ks:Ne(Ke,le,xe,Me,ge,St,$t,Ct,zt);break;default:wn&1?Ae(Ke,le,xe,Me,ge,St,$t,Ct,zt):wn&6?D(Ke,le,xe,Me,ge,St,$t,Ct,zt):(wn&64||wn&128)&&It.process(Ke,le,xe,Me,ge,St,$t,Ct,zt,br)}on!=null&&ge&&BH(on,Ke&&Ke.ref,St,le||Ke,!le)},he=(Ke,le,xe,Me)=>{if(Ke==null)m(le.el=S(le.children),xe,Me);else{const ge=le.el=Ke.el;le.children!==Ke.children&&I(ge,le.children)}},me=(Ke,le,xe,Me)=>{Ke==null?m(le.el=M(le.children||""),xe,Me):le.el=Ke.el},$e=(Ke,le,xe,Me)=>{[Ke.el,Ke.anchor]=G(Ke.children,le,xe,Me,Ke.el,Ke.anchor)},Te=({el:Ke,anchor:le},xe,Me)=>{let ge;for(;Ke&&Ke!==le;)ge=U(Ke),m(Ke,xe,Me),Ke=ge;m(le,xe,Me)},te=({el:Ke,anchor:le})=>{let xe;for(;Ke&&Ke!==le;)xe=U(Ke),b(Ke),Ke=xe;b(le)},Ae=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{le.type==="svg"?$t="svg":le.type==="math"&&($t="mathml"),Ke==null?re(le,xe,Me,ge,St,$t,Ct,zt):Ze(Ke,le,ge,St,$t,Ct,zt)},re=(Ke,le,xe,Me,ge,St,$t,Ct)=>{let zt,It;const{props:on,shapeFlag:wn,transition:Cn,dirs:En}=Ke;if(zt=Ke.el=x(Ke.type,St,on&&on.is,on),wn&8?R(zt,Ke.children):wn&16&&Ve(Ke.children,zt,null,Me,ge,Y9(Ke,St),$t,Ct),En&&hw(Ke,null,Me,"created"),Ge(zt,Ke,Ke.scopeId,$t,Me),on){for(const vo in on)vo!=="value"&&!UT(vo)&&p(zt,vo,null,on[vo],St,Me);"value"in on&&p(zt,"value",null,on.value,St),(It=on.onVnodeBeforeMount)&&Np(It,Me,Ke)}En&&hw(Ke,null,Me,"beforeMount");const ao=Cie(ge,Cn);ao&&Cn.beforeEnter(zt),m(zt,le,xe),((It=on&&on.onVnodeMounted)||ao||En)&&Dd(()=>{It&&Np(It,Me,Ke),ao&&Cn.enter(zt),En&&hw(Ke,null,Me,"mounted")},ge)},Ge=(Ke,le,xe,Me,ge)=>{if(xe&&$(Ke,xe),Me)for(let St=0;St<Me.length;St++)$(Ke,Me[St]);if(ge){let St=ge.subTree;if(le===St){const $t=ge.vnode;Ge(Ke,$t,$t.scopeId,$t.slotScopeIds,ge.parent)}}},Ve=(Ke,le,xe,Me,ge,St,$t,Ct,zt=0)=>{for(let It=zt;It<Ke.length;It++){const on=Ke[It]=Ct?ty(Ke[It]):Pp(Ke[It]);ee(null,on,le,xe,Me,ge,St,$t,Ct)}},Ze=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=le.el=Ke.el;let{patchFlag:zt,dynamicChildren:It,dirs:on}=le;zt|=Ke.patchFlag&16;const wn=Ke.props||hi,Cn=le.props||hi;let En;if(xe&&pw(xe,!1),(En=Cn.onVnodeBeforeUpdate)&&Np(En,xe,le,Ke),on&&hw(le,Ke,xe,"beforeUpdate"),xe&&pw(xe,!0),(wn.innerHTML&&Cn.innerHTML==null||wn.textContent&&Cn.textContent==null)&&R(Ct,""),It?rt(Ke.dynamicChildren,It,Ct,xe,Me,Y9(le,ge),St):$t||Qe(Ke,le,Ct,null,xe,Me,Y9(le,ge),St,!1),zt>0){if(zt&16)Ce(Ct,wn,Cn,xe,ge);else if(zt&2&&wn.class!==Cn.class&&p(Ct,"class",null,Cn.class,ge),zt&4&&p(Ct,"style",wn.style,Cn.style,ge),zt&8){const ao=le.dynamicProps;for(let vo=0;vo<ao.length;vo++){const Ao=ao[vo],Oo=wn[Ao],Es=Cn[Ao];(Es!==Oo||Ao==="value")&&p(Ct,Ao,Oo,Es,ge,xe)}}zt&1&&Ke.children!==le.children&&R(Ct,le.children)}else!$t&&It==null&&Ce(Ct,wn,Cn,xe,ge);((En=Cn.onVnodeUpdated)||on)&&Dd(()=>{En&&Np(En,xe,le,Ke),on&&hw(le,Ke,xe,"updated")},Me)},rt=(Ke,le,xe,Me,ge,St,$t)=>{for(let Ct=0;Ct<le.length;Ct++){const zt=Ke[Ct],It=le[Ct],on=zt.el&&(zt.type===ks||!_w(zt,It)||zt.shapeFlag&70)?z(zt.el):xe;ee(zt,It,on,null,Me,ge,St,$t,!0)}},Ce=(Ke,le,xe,Me,ge)=>{if(le!==xe){if(le!==hi)for(const St in le)!UT(St)&&!(St in xe)&&p(Ke,St,le[St],null,ge,Me);for(const St in xe){if(UT(St))continue;const $t=xe[St],Ct=le[St];$t!==Ct&&St!=="value"&&p(Ke,St,Ct,$t,ge,Me)}"value"in xe&&p(Ke,"value",le.value,xe.value,ge)}},Ne=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{const It=le.el=Ke?Ke.el:S(""),on=le.anchor=Ke?Ke.anchor:S("");let{patchFlag:wn,dynamicChildren:Cn,slotScopeIds:En}=le;En&&(Ct=Ct?Ct.concat(En):En),Ke==null?(m(It,xe,Me),m(on,xe,Me),Ve(le.children||[],xe,on,ge,St,$t,Ct,zt)):wn>0&&wn&64&&Cn&&Ke.dynamicChildren?(rt(Ke.dynamicChildren,Cn,xe,ge,St,$t,Ct),(le.key!=null||ge&&le===ge.subTree)&&RV(Ke,le,!0)):Qe(Ke,le,xe,on,ge,St,$t,Ct,zt)},D=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{le.slotScopeIds=Ct,Ke==null?le.shapeFlag&512?ge.ctx.activate(le,xe,Me,$t,zt):yt(le,xe,Me,ge,St,$t,zt):Pt(Ke,le,zt)},yt=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=Ke.component=Hie(Ke,Me,ge);if(uM(Ke)&&(Ct.ctx.renderer=br),Vie(Ct,!1,$t),Ct.asyncDep){if(ge&&ge.registerDep(Ct,ln,$t),!Ke.el){const zt=Ct.subTree=be(Lf);me(null,zt,le,xe)}}else ln(Ct,Ke,le,xe,ge,St,$t)},Pt=(Ke,le,xe)=>{const Me=le.component=Ke.component;if(Rie(Ke,le,xe))if(Me.asyncDep&&!Me.asyncResolved){gn(Me,le,xe);return}else Me.next=le,Vae(Me.update),Me.effect.dirty=!0,Me.update();else le.el=Ke.el,Me.vnode=le},ln=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=()=>{if(Ke.isMounted){let{next:on,bu:wn,u:Cn,parent:En,vnode:ao}=Ke;{const ur=Cq(Ke);if(ur){on&&(on.el=ao.el,gn(Ke,on,$t)),ur.asyncDep.then(()=>{Ke.isUnmounted||Ct()});return}}let vo=on,Ao;pw(Ke,!1),on?(on.el=ao.el,gn(Ke,on,$t)):on=ao,wn&&O8(wn),(Ao=on.props&&on.props.onVnodeBeforeUpdate)&&Np(Ao,En,on,ao),pw(Ke,!0);const Oo=X9(Ke),Es=Ke.subTree;Ke.subTree=Oo,ee(Es,Oo,z(Es.el),Rn(Es),Ke,ge,St),on.el=Oo.el,vo===null&&Nie(Ke,Oo.el),Cn&&Dd(Cn,ge),(Ao=on.props&&on.props.onVnodeUpdated)&&Dd(()=>Np(Ao,En,on,ao),ge)}else{let on;const{el:wn,props:Cn}=le,{bm:En,m:ao,parent:vo}=Ke,Ao=R8(le);if(pw(Ke,!1),En&&O8(En),!Ao&&(on=Cn&&Cn.onVnodeBeforeMount)&&Np(on,vo,le),pw(Ke,!0),wn&&oi){const Oo=()=>{Ke.subTree=X9(Ke),oi(wn,Ke.subTree,Ke,ge,null)};Ao?le.type.__asyncLoader().then(()=>!Ke.isUnmounted&&Oo()):Oo()}else{const Oo=Ke.subTree=X9(Ke);ee(null,Oo,xe,Me,Ke,ge,St),le.el=Oo.el}if(ao&&Dd(ao,ge),!Ao&&(on=Cn&&Cn.onVnodeMounted)){const Oo=le;Dd(()=>Np(on,vo,Oo),ge)}(le.shapeFlag&256||vo&&R8(vo.vnode)&&vo.vnode.shapeFlag&256)&&Ke.a&&Dd(Ke.a,ge),Ke.isMounted=!0,le=xe=Me=null}},zt=Ke.effect=new gV(Ct,ig,()=>_V(It),Ke.scope),It=Ke.update=()=>{zt.dirty&&zt.run()};It.i=Ke,It.id=Ke.uid,pw(Ke,!0),It()},gn=(Ke,le,xe)=>{le.component=Ke;const Me=Ke.vnode.props;Ke.vnode=le,Ke.next=null,die(Ke,le.props,Me,xe),hie(Ke,le.children,xe),hy(),xZ(Ke),py()},Qe=(Ke,le,xe,Me,ge,St,$t,Ct,zt=!1)=>{const It=Ke&&Ke.children,on=Ke?Ke.shapeFlag:0,wn=le.children,{patchFlag:Cn,shapeFlag:En}=le;if(Cn>0){if(Cn&128){nr(It,wn,xe,Me,ge,St,$t,Ct,zt);return}else if(Cn&256){On(It,wn,xe,Me,ge,St,$t,Ct,zt);return}}En&8?(on&16&&xn(It,ge,St),wn!==It&&R(xe,wn)):on&16?En&16?nr(It,wn,xe,Me,ge,St,$t,Ct,zt):xn(It,ge,St,!0):(on&8&&R(xe,""),En&16&&Ve(wn,xe,Me,ge,St,$t,Ct,zt))},On=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{Ke=Ke||tk,le=le||tk;const It=Ke.length,on=le.length,wn=Math.min(It,on);let Cn;for(Cn=0;Cn<wn;Cn++){const En=le[Cn]=zt?ty(le[Cn]):Pp(le[Cn]);ee(Ke[Cn],En,xe,null,ge,St,$t,Ct,zt)}It>on?xn(Ke,ge,St,!0,!1,wn):Ve(le,xe,Me,ge,St,$t,Ct,zt,wn)},nr=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{let It=0;const on=le.length;let wn=Ke.length-1,Cn=on-1;for(;It<=wn&&It<=Cn;){const En=Ke[It],ao=le[It]=zt?ty(le[It]):Pp(le[It]);if(_w(En,ao))ee(En,ao,xe,null,ge,St,$t,Ct,zt);else break;It++}for(;It<=wn&&It<=Cn;){const En=Ke[wn],ao=le[Cn]=zt?ty(le[Cn]):Pp(le[Cn]);if(_w(En,ao))ee(En,ao,xe,null,ge,St,$t,Ct,zt);else break;wn--,Cn--}if(It>wn){if(It<=Cn){const En=Cn+1,ao=En<on?le[En].el:Me;for(;It<=Cn;)ee(null,le[It]=zt?ty(le[It]):Pp(le[It]),xe,ao,ge,St,$t,Ct,zt),It++}}else if(It>Cn)for(;It<=wn;)bt(Ke[It],ge,St,!0),It++;else{const En=It,ao=It,vo=new Map;for(It=ao;It<=Cn;It++){const io=le[It]=zt?ty(le[It]):Pp(le[It]);io.key!=null&&vo.set(io.key,It)}let Ao,Oo=0;const Es=Cn-ao+1;let ur=!1,bi=0;const cn=new Array(Es);for(It=0;It<Es;It++)cn[It]=0;for(It=En;It<=wn;It++){const io=Ke[It];if(Oo>=Es){bt(io,ge,St,!0);continue}let Wr;if(io.key!=null)Wr=vo.get(io.key);else for(Ao=ao;Ao<=Cn;Ao++)if(cn[Ao-ao]===0&&_w(io,le[Ao])){Wr=Ao;break}Wr===void 0?bt(io,ge,St,!0):(cn[Wr-ao]=It+1,Wr>=bi?bi=Wr:ur=!0,ee(io,le[Wr],xe,null,ge,St,$t,Ct,zt),Oo++)}const po=ur?_ie(cn):tk;for(Ao=po.length-1,It=Es-1;It>=0;It--){const io=ao+It,Wr=le[io],Pa=io+1<on?le[io+1].el:Me;cn[It]===0?ee(null,Wr,xe,Pa,ge,St,$t,Ct,zt):ur&&(Ao<0||It!==po[Ao]?pt(Wr,xe,Pa,2):Ao--)}}},pt=(Ke,le,xe,Me,ge=null)=>{const{el:St,type:$t,transition:Ct,children:zt,shapeFlag:It}=Ke;if(It&6){pt(Ke.component.subTree,le,xe,Me);return}if(It&128){Ke.suspense.move(le,xe,Me);return}if(It&64){$t.move(Ke,le,xe,br);return}if($t===ks){m(St,le,xe);for(let wn=0;wn<zt.length;wn++)pt(zt[wn],le,xe,Me);m(Ke.anchor,le,xe);return}if($t===J9){Te(Ke,le,xe);return}if(Me!==2&&It&1&&Ct)if(Me===0)Ct.beforeEnter(St),m(St,le,xe),Dd(()=>Ct.enter(St),ge);else{const{leave:wn,delayLeave:Cn,afterLeave:En}=Ct,ao=()=>m(St,le,xe),vo=()=>{wn(St,()=>{ao(),En&&En()})};Cn?Cn(St,ao,vo):vo()}else m(St,le,xe)},bt=(Ke,le,xe,Me=!1,ge=!1)=>{const{type:St,props:$t,ref:Ct,children:zt,dynamicChildren:It,shapeFlag:on,patchFlag:wn,dirs:Cn,cacheIndex:En}=Ke;if(wn===-2&&(ge=!1),Ct!=null&&BH(Ct,null,xe,Ke,!0),En!=null&&(le.renderCache[En]=void 0),on&256){le.ctx.deactivate(Ke);return}const ao=on&1&&Cn,vo=!R8(Ke);let Ao;if(vo&&(Ao=$t&&$t.onVnodeBeforeUnmount)&&Np(Ao,le,Ke),on&6)ho(Ke.component,xe,Me);else{if(on&128){Ke.suspense.unmount(xe,Me);return}ao&&hw(Ke,null,le,"beforeUnmount"),on&64?Ke.type.remove(Ke,le,xe,br,Me):It&&!It.hasOnce&&(St!==ks||wn>0&&wn&64)?xn(It,le,xe,!1,!0):(St===ks&&wn&384||!ge&&on&16)&&xn(zt,le,xe),Me&&Zt(Ke)}(vo&&(Ao=$t&&$t.onVnodeUnmounted)||ao)&&Dd(()=>{Ao&&Np(Ao,le,Ke),ao&&hw(Ke,null,le,"unmounted")},xe)},Zt=Ke=>{const{type:le,el:xe,anchor:Me,transition:ge}=Ke;if(le===ks){Ur(xe,Me);return}if(le===J9){te(Ke);return}const St=()=>{b(xe),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(Ke.shapeFlag&1&&ge&&!ge.persisted){const{leave:$t,delayLeave:Ct}=ge,zt=()=>$t(xe,St);Ct?Ct(Ke.el,St,zt):zt()}else St()},Ur=(Ke,le)=>{let xe;for(;Ke!==le;)xe=U(Ke),b(Ke),Ke=xe;b(le)},ho=(Ke,le,xe)=>{const{bum:Me,scope:ge,update:St,subTree:$t,um:Ct,m:zt,a:It}=Ke;DZ(zt),DZ(It),Me&&O8(Me),ge.stop(),St&&(St.active=!1,bt($t,Ke,le,xe)),Ct&&Dd(Ct,le),Dd(()=>{Ke.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},xn=(Ke,le,xe,Me=!1,ge=!1,St=0)=>{for(let $t=St;$t<Ke.length;$t++)bt(Ke[$t],le,xe,Me,ge)},Rn=Ke=>{if(Ke.shapeFlag&6)return Rn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const le=U(Ke.anchor||Ke.el),xe=le&&le[yq];return xe?U(xe):le};let J=!1;const sr=(Ke,le,xe)=>{Ke==null?le._vnode&&bt(le._vnode,null,null,!0):ee(le._vnode||null,Ke,le,null,null,null,xe),le._vnode=Ke,J||(J=!0,xZ(),XK(),J=!1)},br={p:ee,um:bt,m:pt,r:Zt,mt:yt,mc:Ve,pc:Qe,pbc:rt,n:Rn,o:r};let Ko,oi;return{render:sr,hydrate:Ko,createApp:lie(sr,Ko)}}function Y9({type:r,props:i},u){return u==="svg"&&r==="foreignObject"||u==="mathml"&&r==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:u}function pw({effect:r,update:i},u){r.allowRecurse=i.allowRecurse=u}function Cie(r,i){return(!r||r&&!r.pendingBranch)&&i&&!i.persisted}function RV(r,i,u=!1){const m=r.children,b=i.children;if(Xo(m)&&Xo(b))for(let p=0;p<m.length;p++){const x=m[p];let S=b[p];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=b[p]=ty(b[p]),S.el=x.el),!u&&S.patchFlag!==-2&&RV(x,S)),S.type===lO&&(S.el=x.el)}}function _ie(r){const i=r.slice(),u=[0];let m,b,p,x,S;const M=r.length;for(m=0;m<M;m++){const I=r[m];if(I!==0){if(b=u[u.length-1],r[b]<I){i[m]=b,u.push(m);continue}for(p=0,x=u.length-1;p<x;)S=p+x>>1,r[u[S]]<I?p=S+1:x=S;I<r[u[p]]&&(p>0&&(i[m]=u[p-1]),u[p]=m)}}for(p=u.length,x=u[p-1];p-- >0;)u[p]=x,x=i[x];return u}function Cq(r){const i=r.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:Cq(i)}function DZ(r){if(r)for(let i=0;i<r.length;i++)r[i].active=!1}const Sie=Symbol.for("v-scx"),kie=()=>qi(Sie);function vh(r,i){return NV(r,null,i)}const h8={};function Xn(r,i,u){return NV(r,i,u)}function NV(r,i,{immediate:u,deep:m,flush:b,once:p,onTrack:x,onTrigger:S}=hi){if(i&&p){const re=i;i=(...Ge)=>{re(...Ge),Ae()}}const M=Jl,I=re=>m===!0?re:ny(re,m===!1?1:void 0);let R,z=!1,U=!1;if(Ma(r)?(R=()=>r.value,z=rk(r)):Aw(r)?(R=()=>I(r),z=!0):Xo(r)?(U=!0,z=r.some(re=>Aw(re)||rk(re)),R=()=>r.map(re=>{if(Ma(re))return re.value;if(Aw(re))return I(re);if(pr(re))return ay(re,M,2)})):pr(r)?i?R=()=>ay(r,M,2):R=()=>($&&$(),cg(r,M,3,[G])):R=ig,i&&m){const re=R;R=()=>ny(re())}let $,G=re=>{$=Te.onStop=()=>{ay(re,M,4),$=Te.onStop=void 0}},ee;if(mM)if(G=ig,i?u&&cg(i,M,3,[R(),U?[]:void 0,G]):R(),b==="sync"){const re=kie();ee=re.__watcherHandles||(re.__watcherHandles=[])}else return ig;let he=U?new Array(r.length).fill(h8):h8;const me=()=>{if(!(!Te.active||!Te.dirty))if(i){const re=Te.run();(m||z||(U?re.some((Ge,Ve)=>uy(Ge,he[Ve])):uy(re,he)))&&($&&$(),cg(i,M,3,[re,he===h8?void 0:U&&he[0]===h8?[]:he,G]),he=re)}else Te.run()};me.allowRecurse=!!i;let $e;b==="sync"?$e=me:b==="post"?$e=()=>Dd(me,M&&M.suspense):(me.pre=!0,M&&(me.id=M.uid),$e=()=>_V(me));const Te=new gV(R,ig,$e),te=RK(),Ae=()=>{Te.stop(),te&&fV(te.effects,Te)};return i?u?me():he=Te.run():b==="post"?Dd(Te.run.bind(Te),M&&M.suspense):Te.run(),ee&&ee.push(Ae),Ae}function Eie(r,i,u){const m=this.proxy,b=Gi(r)?r.includes(".")?_q(m,r):()=>m[r]:r.bind(m,m);let p;pr(i)?p=i:(p=i.handler,u=i);const x=cO(this),S=NV(b,p.bind(m),u);return x(),S}function _q(r,i){const u=i.split(".");return()=>{let m=r;for(let b=0;b<u.length&&m;b++)m=m[u[b]];return m}}function ny(r,i=1/0,u){if(i<=0||!Ba(r)||r.__v_skip||(u=u||new Set,u.has(r)))return r;if(u.add(r),i--,Ma(r))ny(r.value,i,u);else if(Xo(r))for(let m=0;m<r.length;m++)ny(r[m],i,u);else if(wK(r)||nk(r))r.forEach(m=>{ny(m,i,u)});else if(SK(r)){for(const m in r)ny(r[m],i,u);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&ny(r[m],i,u)}return r}const Aie=(r,i)=>i==="modelValue"||i==="model-value"?r.modelModifiers:r[`${i}Modifiers`]||r[`${Wf(i)}Modifiers`]||r[`${Pw(i)}Modifiers`];function Tie(r,i,...u){if(r.isUnmounted)return;const m=r.vnode.props||hi;let b=u;const p=i.startsWith("update:"),x=p&&Aie(m,i.slice(7));x&&(x.trim&&(b=u.map(R=>Gi(R)?R.trim():R)),x.number&&(b=u.map(kH)));let S,M=m[S=j9(i)]||m[S=j9(Wf(i))];!M&&p&&(M=m[S=j9(Pw(i))]),M&&cg(M,r,6,b);const I=m[S+"Once"];if(I){if(!r.emitted)r.emitted={};else if(r.emitted[S])return;r.emitted[S]=!0,cg(I,r,6,b)}}function Sq(r,i,u=!1){const m=i.emitsCache,b=m.get(r);if(b!==void 0)return b;const p=r.emits;let x={},S=!1;if(!pr(r)){const M=I=>{const R=Sq(I,i,!0);R&&(S=!0,Bl(x,R))};!u&&i.mixins.length&&i.mixins.forEach(M),r.extends&&M(r.extends),r.mixins&&r.mixins.forEach(M)}return!p&&!S?(Ba(r)&&m.set(r,null),null):(Xo(p)?p.forEach(M=>x[M]=null):Bl(x,p),Ba(r)&&m.set(r,x),x)}function fM(r,i){return!r||!rM(i)?!1:(i=i.slice(2).replace(/Once$/,""),Ss(r,i[0].toLowerCase()+i.slice(1))||Ss(r,Pw(i))||Ss(r,i))}function X9(r){const{type:i,vnode:u,proxy:m,withProxy:b,propsOptions:[p],slots:x,attrs:S,emit:M,render:I,renderCache:R,props:z,data:U,setupState:$,ctx:G,inheritAttrs:ee}=r,he=H8(r);let me,$e;try{if(u.shapeFlag&4){const te=b||m,Ae=te;me=Pp(I.call(Ae,te,R,z,$,U,G)),$e=S}else{const te=i;me=Pp(te.length>1?te(z,{attrs:S,slots:x,emit:M}):te(z,null)),$e=i.props?S:Oie(S)}}catch(te){jT.length=0,lM(te,r,1),me=be(Lf)}let Te=me;if($e&&ee!==!1){const te=Object.keys($e),{shapeFlag:Ae}=Te;te.length&&Ae&7&&(p&&te.some(dV)&&($e=Die($e,p)),Te=fy(Te,$e,!1,!0))}return u.dirs&&(Te=fy(Te,null,!1,!0),Te.dirs=Te.dirs?Te.dirs.concat(u.dirs):u.dirs),u.transition&&(Te.transition=u.transition),me=Te,H8(he),me}const Oie=r=>{let i;for(const u in r)(u==="class"||u==="style"||rM(u))&&((i||(i={}))[u]=r[u]);return i},Die=(r,i)=>{const u={};for(const m in r)(!dV(m)||!(m.slice(9)in i))&&(u[m]=r[m]);return u};function Rie(r,i,u){const{props:m,children:b,component:p}=r,{props:x,children:S,patchFlag:M}=i,I=p.emitsOptions;if(i.dirs||i.transition)return!0;if(u&&M>=0){if(M&1024)return!0;if(M&16)return m?RZ(m,x,I):!!x;if(M&8){const R=i.dynamicProps;for(let z=0;z<R.length;z++){const U=R[z];if(x[U]!==m[U]&&!fM(I,U))return!0}}}else return(b||S)&&(!S||!S.$stable)?!0:m===x?!1:m?x?RZ(m,x,I):!0:!!x;return!1}function RZ(r,i,u){const m=Object.keys(i);if(m.length!==Object.keys(r).length)return!0;for(let b=0;b<m.length;b++){const p=m[b];if(i[p]!==r[p]&&!fM(u,p))return!0}return!1}function Nie({vnode:r,parent:i},u){for(;i;){const m=i.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=i.vnode).el=u,i=i.parent;else break}}const Iie=r=>r.__isSuspense;function Bie(r,i){i&&i.pendingBranch?Xo(r)?i.effects.push(...r):i.effects.push(r):$ae(r)}const ks=Symbol.for("v-fgt"),lO=Symbol.for("v-txt"),Lf=Symbol.for("v-cmt"),J9=Symbol.for("v-stc"),jT=[];let zf=null;function hr(r=!1){jT.push(zf=r?null:[])}function Mie(){jT.pop(),zf=jT[jT.length-1]||null}let JT=1;function NZ(r){JT+=r,r<0&&zf&&(zf.hasOnce=!0)}function kq(r){return r.dynamicChildren=JT>0?zf||tk:null,Mie(),JT>0&&zf&&zf.push(r),r}function Cl(r,i,u,m,b,p){return kq(lt(r,i,u,m,b,p,!0))}function ni(r,i,u,m,b){return kq(be(r,i,u,m,b,!0))}function PH(r){return r?r.__v_isVNode===!0:!1}function _w(r,i){return r.type===i.type&&r.key===i.key}const Eq=({key:r})=>r??null,N8=({ref:r,ref_key:i,ref_for:u})=>(typeof r=="number"&&(r=""+r),r!=null?Gi(r)||Ma(r)||pr(r)?{i:Yu,r,k:i,f:!!u}:r:null);function lt(r,i=null,u=null,m=0,b=null,p=r===ks?0:1,x=!1,S=!1){const M={__v_isVNode:!0,__v_skip:!0,type:r,props:i,key:i&&Eq(i),ref:i&&N8(i),scopeId:cM,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:m,dynamicProps:b,dynamicChildren:null,appContext:null,ctx:Yu};return S?(IV(M,u),p&128&&r.normalize(M)):u&&(M.shapeFlag|=Gi(u)?8:16),JT>0&&!x&&zf&&(M.patchFlag>0||p&6)&&M.patchFlag!==32&&zf.push(M),M}const be=Pie;function Pie(r,i=null,u=null,m=0,b=null,p=!1){if((!r||r===Qae)&&(r=Lf),PH(r)){const S=fy(r,i,!0);return u&&IV(S,u),JT>0&&!p&&zf&&(S.shapeFlag&6?zf[zf.indexOf(r)]=S:zf.push(S)),S.patchFlag=-2,S}if(jie(r)&&(r=r.__vccOpts),i){i=Lie(i);let{class:S,style:M}=i;S&&!Gi(S)&&(i.class=dy(S)),Ba(M)&&(UK(M)&&!Xo(M)&&(M=Bl({},M)),i.style=$0(M))}const x=Gi(r)?1:Iie(r)?128:pie(r)?64:Ba(r)?4:pr(r)?2:0;return lt(r,i,u,m,b,x,p,!0)}function Lie(r){return r?UK(r)||fq(r)?Bl({},r):r:null}function fy(r,i,u=!1,m=!1){const{props:b,ref:p,patchFlag:x,children:S,transition:M}=r,I=i?Na(b||{},i):b,R={__v_isVNode:!0,__v_skip:!0,type:r.type,props:I,key:I&&Eq(I),ref:i&&i.ref?u&&p?Xo(p)?p.concat(N8(i)):[p,N8(i)]:N8(i):p,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:S,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:i&&r.type!==ks?x===-1?16:x|16:x,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:M,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&fy(r.ssContent),ssFallback:r.ssFallback&&fy(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return M&&m&&sk(R,M.clone(R)),R}function Id(r=" ",i=0){return be(lO,null,r,i)}function Gu(r="",i=!1){return i?(hr(),ni(Lf,null,r)):be(Lf,null,r)}function Pp(r){return r==null||typeof r=="boolean"?be(Lf):Xo(r)?be(ks,null,r.slice()):typeof r=="object"?ty(r):be(lO,null,String(r))}function ty(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:fy(r)}function IV(r,i){let u=0;const{shapeFlag:m}=r;if(i==null)i=null;else if(Xo(i))u=16;else if(typeof i=="object")if(m&65){const b=i.default;b&&(b._c&&(b._d=!1),IV(r,b()),b._c&&(b._d=!0));return}else{u=32;const b=i._;!b&&!fq(i)?i._ctx=Yu:b===3&&Yu&&(Yu.slots._===1?i._=1:(i._=2,r.patchFlag|=1024))}else pr(i)?(i={default:i,_ctx:Yu},u=32):(i=String(i),m&64?(u=16,i=[Id(i)]):u=8);r.children=i,r.shapeFlag|=u}function Na(...r){const i={};for(let u=0;u<r.length;u++){const m=r[u];for(const b in m)if(b==="class")i.class!==m.class&&(i.class=dy([i.class,m.class]));else if(b==="style")i.style=$0([i.style,m.style]);else if(rM(b)){const p=i[b],x=m[b];x&&p!==x&&!(Xo(p)&&p.includes(x))&&(i[b]=p?[].concat(p,x):x)}else b!==""&&(i[b]=m[b])}return i}function Np(r,i,u,m=null){cg(r,i,7,[u,m])}const Fie=cq();let zie=0;function Hie(r,i,u){const m=r.type,b=(i?i.appContext:r.appContext)||Fie,p={uid:zie++,vnode:r,type:m,parent:i,appContext:b,root:null,next:null,subTree:null,effect:null,update:null,scope:new DK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(b.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gq(m,b),emitsOptions:Sq(m,b),emit:null,emitted:null,propsDefaults:hi,inheritAttrs:m.inheritAttrs,ctx:hi,data:hi,props:hi,attrs:hi,slots:hi,refs:hi,setupState:hi,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=i?i.root:p,p.emit=Tie.bind(null,p),r.ce&&r.ce(p),p}let Jl=null;const BV=()=>Jl||Yu;let $8,LH;{const r=EK(),i=(u,m)=>{let b;return(b=r[u])||(b=r[u]=[]),b.push(m),p=>{b.length>1?b.forEach(x=>x(p)):b[0](p)}};$8=i("__VUE_INSTANCE_SETTERS__",u=>Jl=u),LH=i("__VUE_SSR_SETTERS__",u=>mM=u)}const cO=r=>{const i=Jl;return $8(r),r.scope.on(),()=>{r.scope.off(),$8(i)}},IZ=()=>{Jl&&Jl.scope.off(),$8(null)};function Aq(r){return r.vnode.shapeFlag&4}let mM=!1;function Vie(r,i=!1,u=!1){i&&LH(i);const{props:m,children:b}=r.vnode,p=Aq(r);uie(r,m,p,i),gie(r,b,u);const x=p?$ie(r,i):void 0;return i&&LH(!1),x}function $ie(r,i){const u=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,tie);const{setup:m}=u;if(m){const b=r.setupContext=m.length>1?Wie(r):null,p=cO(r);hy();const x=ay(m,r,0,[r.props,b]);if(py(),p(),CK(x)){if(x.then(IZ,IZ),i)return x.then(S=>{BZ(r,S,i)}).catch(S=>{lM(S,r,0)});r.asyncDep=x}else BZ(r,x,i)}else Tq(r,i)}function BZ(r,i,u){pr(i)?r.type.__ssrInlineRender?r.ssrRender=i:r.render=i:Ba(i)&&(r.setupState=KK(i)),Tq(r,u)}let MZ;function Tq(r,i,u){const m=r.type;if(!r.render){if(!i&&MZ&&!m.render){const b=m.template||OV(r).template;if(b){const{isCustomElement:p,compilerOptions:x}=r.appContext.config,{delimiters:S,compilerOptions:M}=m,I=Bl(Bl({isCustomElement:p,delimiters:S},x),M);m.render=MZ(b,I)}}r.render=m.render||ig}{const b=cO(r);hy();try{nie(r)}finally{py(),b()}}}const Uie={get(r,i){return Ld(r,"get",""),r[i]}};function Wie(r){const i=u=>{r.exposed=u||{}};return{attrs:new Proxy(r.attrs,Uie),slots:r.slots,emit:r.emit,expose:i}}function gM(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(KK(xV(r.exposed)),{get(i,u){if(u in i)return i[u];if(u in WT)return WT[u](r)},has(i,u){return u in i||u in WT}})):r.proxy}function Zie(r,i=!0){return pr(r)?r.displayName||r.name:r.name||i&&r.__name}function jie(r){return pr(r)&&"__vccOpts"in r}const ct=(r,i)=>Bae(r,i,mM);function Hp(r,i,u){const m=arguments.length;return m===2?Ba(i)&&!Xo(i)?PH(i)?be(r,null,[i]):be(r,i):be(r,null,i):(m>3?u=Array.prototype.slice.call(arguments,2):m===3&&PH(u)&&(u=[u]),be(r,i,u))}const Kie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qie="http://www.w3.org/2000/svg",Gie="http://www.w3.org/1998/Math/MathML",F0=typeof document<"u"?document:null,PZ=F0&&F0.createElement("template"),Yie={insert:(r,i,u)=>{i.insertBefore(r,u||null)},remove:r=>{const i=r.parentNode;i&&i.removeChild(r)},createElement:(r,i,u,m)=>{const b=i==="svg"?F0.createElementNS(qie,r):i==="mathml"?F0.createElementNS(Gie,r):u?F0.createElement(r,{is:u}):F0.createElement(r);return r==="select"&&m&&m.multiple!=null&&b.setAttribute("multiple",m.multiple),b},createText:r=>F0.createTextNode(r),createComment:r=>F0.createComment(r),setText:(r,i)=>{r.nodeValue=i},setElementText:(r,i)=>{r.textContent=i},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>F0.querySelector(r),setScopeId(r,i){r.setAttribute(i,"")},insertStaticContent(r,i,u,m,b,p){const x=u?u.previousSibling:i.lastChild;if(b&&(b===p||b.nextSibling))for(;i.insertBefore(b.cloneNode(!0),u),!(b===p||!(b=b.nextSibling)););else{PZ.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const S=PZ.content;if(m==="svg"||m==="mathml"){const M=S.firstChild;for(;M.firstChild;)S.appendChild(M.firstChild);S.removeChild(M)}i.insertBefore(S,u)}return[x?x.nextSibling:i.firstChild,u?u.previousSibling:i.lastChild]}},qv="transition",LT="animation",ik=Symbol("_vtc"),Vp=(r,{slots:i})=>Hp(Zae,Dq(r),i);Vp.displayName="Transition";const Oq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xie=Vp.props=Bl({},eq,Oq),bw=(r,i=[])=>{Xo(r)?r.forEach(u=>u(...i)):r&&r(...i)},LZ=r=>r?Xo(r)?r.some(i=>i.length>1):r.length>1:!1;function Dq(r){const i={};for(const Ne in r)Ne in Oq||(i[Ne]=r[Ne]);if(r.css===!1)return i;const{name:u="v",type:m,duration:b,enterFromClass:p=`${u}-enter-from`,enterActiveClass:x=`${u}-enter-active`,enterToClass:S=`${u}-enter-to`,appearFromClass:M=p,appearActiveClass:I=x,appearToClass:R=S,leaveFromClass:z=`${u}-leave-from`,leaveActiveClass:U=`${u}-leave-active`,leaveToClass:$=`${u}-leave-to`}=r,G=Jie(b),ee=G&&G[0],he=G&&G[1],{onBeforeEnter:me,onEnter:$e,onEnterCancelled:Te,onLeave:te,onLeaveCancelled:Ae,onBeforeAppear:re=me,onAppear:Ge=$e,onAppearCancelled:Ve=Te}=i,Ze=(Ne,D,yt)=>{Xv(Ne,D?R:S),Xv(Ne,D?I:x),yt&&yt()},rt=(Ne,D)=>{Ne._isLeaving=!1,Xv(Ne,z),Xv(Ne,$),Xv(Ne,U),D&&D()},Ce=Ne=>(D,yt)=>{const Pt=Ne?Ge:$e,ln=()=>Ze(D,Ne,yt);bw(Pt,[D,ln]),FZ(()=>{Xv(D,Ne?M:p),L0(D,Ne?R:S),LZ(Pt)||zZ(D,m,ee,ln)})};return Bl(i,{onBeforeEnter(Ne){bw(me,[Ne]),L0(Ne,p),L0(Ne,x)},onBeforeAppear(Ne){bw(re,[Ne]),L0(Ne,M),L0(Ne,I)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(Ne,D){Ne._isLeaving=!0;const yt=()=>rt(Ne,D);L0(Ne,z),L0(Ne,U),Nq(),FZ(()=>{Ne._isLeaving&&(Xv(Ne,z),L0(Ne,$),LZ(te)||zZ(Ne,m,he,yt))}),bw(te,[Ne,yt])},onEnterCancelled(Ne){Ze(Ne,!1),bw(Te,[Ne])},onAppearCancelled(Ne){Ze(Ne,!0),bw(Ve,[Ne])},onLeaveCancelled(Ne){rt(Ne),bw(Ae,[Ne])}})}function Jie(r){if(r==null)return null;if(Ba(r))return[Q9(r.enter),Q9(r.leave)];{const i=Q9(r);return[i,i]}}function Q9(r){return sae(r)}function L0(r,i){i.split(/\s+/).forEach(u=>u&&r.classList.add(u)),(r[ik]||(r[ik]=new Set)).add(i)}function Xv(r,i){i.split(/\s+/).forEach(m=>m&&r.classList.remove(m));const u=r[ik];u&&(u.delete(i),u.size||(r[ik]=void 0))}function FZ(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let Qie=0;function zZ(r,i,u,m){const b=r._endId=++Qie,p=()=>{b===r._endId&&m()};if(u)return setTimeout(p,u);const{type:x,timeout:S,propCount:M}=Rq(r,i);if(!x)return m();const I=x+"end";let R=0;const z=()=>{r.removeEventListener(I,U),p()},U=$=>{$.target===r&&++R>=M&&z()};setTimeout(()=>{R<M&&z()},S+1),r.addEventListener(I,U)}function Rq(r,i){const u=window.getComputedStyle(r),m=G=>(u[G]||"").split(", "),b=m(`${qv}Delay`),p=m(`${qv}Duration`),x=HZ(b,p),S=m(`${LT}Delay`),M=m(`${LT}Duration`),I=HZ(S,M);let R=null,z=0,U=0;i===qv?x>0&&(R=qv,z=x,U=p.length):i===LT?I>0&&(R=LT,z=I,U=M.length):(z=Math.max(x,I),R=z>0?x>I?qv:LT:null,U=R?R===qv?p.length:M.length:0);const $=R===qv&&/\b(transform|all)(,|$)/.test(m(`${qv}Property`).toString());return{type:R,timeout:z,propCount:U,hasTransform:$}}function HZ(r,i){for(;r.length<i.length;)r=r.concat(r);return Math.max(...i.map((u,m)=>VZ(u)+VZ(r[m])))}function VZ(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function Nq(){return document.body.offsetHeight}function ele(r,i,u){const m=r[ik];m&&(i=(i?[i,...m]:[...m]).join(" ")),i==null?r.removeAttribute("class"):u?r.setAttribute("class",i):r.className=i}const U8=Symbol("_vod"),Iq=Symbol("_vsh"),gr={beforeMount(r,{value:i},{transition:u}){r[U8]=r.style.display==="none"?"":r.style.display,u&&i?u.beforeEnter(r):FT(r,i)},mounted(r,{value:i},{transition:u}){u&&i&&u.enter(r)},updated(r,{value:i,oldValue:u},{transition:m}){!i!=!u&&(m?i?(m.beforeEnter(r),FT(r,!0),m.enter(r)):m.leave(r,()=>{FT(r,!1)}):FT(r,i))},beforeUnmount(r,{value:i}){FT(r,i)}};function FT(r,i){r.style.display=i?r[U8]:"none",r[Iq]=!i}const tle=Symbol(""),nle=/(^|;)\s*display\s*:/;function ole(r,i,u){const m=r.style,b=Gi(u);let p=!1;if(u&&!b){if(i)if(Gi(i))for(const x of i.split(";")){const S=x.slice(0,x.indexOf(":")).trim();u[S]==null&&I8(m,S,"")}else for(const x in i)u[x]==null&&I8(m,x,"");for(const x in u)x==="display"&&(p=!0),I8(m,x,u[x])}else if(b){if(i!==u){const x=m[tle];x&&(u+=";"+x),m.cssText=u,p=nle.test(u)}}else i&&r.removeAttribute("style");U8 in r&&(r[U8]=p?m.display:"",r[Iq]&&(m.display="none"))}const $Z=/\s*!important$/;function I8(r,i,u){if(Xo(u))u.forEach(m=>I8(r,i,m));else if(u==null&&(u=""),i.startsWith("--"))r.setProperty(i,u);else{const m=rle(r,i);$Z.test(u)?r.setProperty(Pw(m),u.replace($Z,""),"important"):r[m]=u}}const UZ=["Webkit","Moz","ms"],eH={};function rle(r,i){const u=eH[i];if(u)return u;let m=Wf(i);if(m!=="filter"&&m in r)return eH[i]=m;m=q0(m);for(let b=0;b<UZ.length;b++){const p=UZ[b]+m;if(p in r)return eH[i]=p}return i}const WZ="http://www.w3.org/1999/xlink";function ZZ(r,i,u,m,b,p=dae(i)){m&&i.startsWith("xlink:")?u==null?r.removeAttributeNS(WZ,i.slice(6,i.length)):r.setAttributeNS(WZ,i,u):u==null||p&&!AK(u)?r.removeAttribute(i):r.setAttribute(i,p?"":gy(u)?String(u):u)}function sle(r,i,u,m){if(i==="innerHTML"||i==="textContent"){if(u==null)return;r[i]=u;return}const b=r.tagName;if(i==="value"&&b!=="PROGRESS"&&!b.includes("-")){const x=b==="OPTION"?r.getAttribute("value")||"":r.value,S=u==null?"":String(u);(x!==S||!("_value"in r))&&(r.value=S),u==null&&r.removeAttribute(i),r._value=u;return}let p=!1;if(u===""||u==null){const x=typeof r[i];x==="boolean"?u=AK(u):u==null&&x==="string"?(u="",p=!0):x==="number"&&(u=0,p=!0)}try{r[i]=u}catch{}p&&r.removeAttribute(i)}function XS(r,i,u,m){r.addEventListener(i,u,m)}function ale(r,i,u,m){r.removeEventListener(i,u,m)}const jZ=Symbol("_vei");function ile(r,i,u,m,b=null){const p=r[jZ]||(r[jZ]={}),x=p[i];if(m&&x)x.value=m;else{const[S,M]=lle(i);if(m){const I=p[i]=dle(m,b);XS(r,S,I,M)}else x&&(ale(r,S,x,M),p[i]=void 0)}}const KZ=/(?:Once|Passive|Capture)$/;function lle(r){let i;if(KZ.test(r)){i={};let m;for(;m=r.match(KZ);)r=r.slice(0,r.length-m[0].length),i[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Pw(r.slice(2)),i]}let tH=0;const cle=Promise.resolve(),ule=()=>tH||(cle.then(()=>tH=0),tH=Date.now());function dle(r,i){const u=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=u.attached)return;cg(fle(m,u.value),i,5,[m])};return u.value=r,u.attached=ule(),u}function fle(r,i){if(Xo(i)){const u=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{u.call(r),r._stopped=!0},i.map(m=>b=>!b._stopped&&m&&m(b))}else return i}const qZ=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,mle=(r,i,u,m,b,p)=>{const x=b==="svg";i==="class"?ele(r,m,x):i==="style"?ole(r,u,m):rM(i)?dV(i)||ile(r,i,u,m,p):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):gle(r,i,m,x))?(sle(r,i,m),!r.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&ZZ(r,i,m,x,p,i!=="value")):(i==="true-value"?r._trueValue=m:i==="false-value"&&(r._falseValue=m),ZZ(r,i,m,x))};function gle(r,i,u,m){if(m)return!!(i==="innerHTML"||i==="textContent"||i in r&&qZ(i)&&pr(u));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&r.tagName==="INPUT"||i==="type"&&r.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const b=r.tagName;if(b==="IMG"||b==="VIDEO"||b==="CANVAS"||b==="SOURCE")return!1}return qZ(i)&&Gi(u)?!1:i in r}const Bq=new WeakMap,Mq=new WeakMap,W8=Symbol("_moveCb"),GZ=Symbol("_enterCb"),Pq={name:"TransitionGroup",props:Bl({},Xie,{tag:String,moveClass:String}),setup(r,{slots:i}){const u=BV(),m=QK();let b,p;return TV(()=>{if(!b.length)return;const x=r.moveClass||`${r.name||"v"}-move`;if(!yle(b[0].el,u.vnode.el,x))return;b.forEach(ple),b.forEach(ble);const S=b.filter(vle);Nq(),S.forEach(M=>{const I=M.el,R=I.style;L0(I,x),R.transform=R.webkitTransform=R.transitionDuration="";const z=I[W8]=U=>{U&&U.target!==I||(!U||/transform$/.test(U.propertyName))&&(I.removeEventListener("transitionend",z),I[W8]=null,Xv(I,x))};I.addEventListener("transitionend",z)})}),()=>{const x=Eo(r),S=Dq(x);let M=x.tag||ks;if(b=[],p)for(let I=0;I<p.length;I++){const R=p[I];R.el&&R.el instanceof Element&&(b.push(R),sk(R,XT(R,S,m,u)),Bq.set(R,R.el.getBoundingClientRect()))}p=i.default?SV(i.default()):[];for(let I=0;I<p.length;I++){const R=p[I];R.key!=null&&sk(R,XT(R,S,m,u))}return be(M,null,p)}}},hle=r=>delete r.mode;Pq.props;const MV=Pq;function ple(r){const i=r.el;i[W8]&&i[W8](),i[GZ]&&i[GZ]()}function ble(r){Mq.set(r,r.el.getBoundingClientRect())}function vle(r){const i=Bq.get(r),u=Mq.get(r),m=i.left-u.left,b=i.top-u.top;if(m||b){const p=r.el.style;return p.transform=p.webkitTransform=`translate(${m}px,${b}px)`,p.transitionDuration="0s",r}}function yle(r,i,u){const m=r.cloneNode(),b=r[ik];b&&b.forEach(S=>{S.split(/\s+/).forEach(M=>M&&m.classList.remove(M))}),u.split(/\s+/).forEach(S=>S&&m.classList.add(S)),m.style.display="none";const p=i.nodeType===1?i:i.parentNode;p.appendChild(m);const{hasTransform:x}=Rq(m);return p.removeChild(m),x}const YZ=r=>{const i=r.props["onUpdate:modelValue"]||!1;return Xo(i)?u=>O8(i,u):i};function xle(r){r.target.composing=!0}function XZ(r){const i=r.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const nH=Symbol("_assign"),wle={created(r,{modifiers:{lazy:i,trim:u,number:m}},b){r[nH]=YZ(b);const p=m||b.props&&b.props.type==="number";XS(r,i?"change":"input",x=>{if(x.target.composing)return;let S=r.value;u&&(S=S.trim()),p&&(S=kH(S)),r[nH](S)}),u&&XS(r,"change",()=>{r.value=r.value.trim()}),i||(XS(r,"compositionstart",xle),XS(r,"compositionend",XZ),XS(r,"change",XZ))},mounted(r,{value:i}){r.value=i??""},beforeUpdate(r,{value:i,oldValue:u,modifiers:{lazy:m,trim:b,number:p}},x){if(r[nH]=YZ(x),r.composing)return;const S=(p||r.type==="number")&&!/^0\d/.test(r.value)?kH(r.value):r.value,M=i??"";S!==M&&(document.activeElement===r&&r.type!=="range"&&(m&&i===u||b&&r.value.trim()===M)||(r.value=M))}},Cle=Bl({patchProp:mle},Yie);let JZ;function _le(){return JZ||(JZ=xie(Cle))}const Sle=(...r)=>{const i=_le().createApp(...r),{mount:u}=i;return i.mount=m=>{const b=Ele(m);if(!b)return;const p=i._component;!pr(p)&&!p.render&&!p.template&&(p.template=b.innerHTML),b.innerHTML="";const x=u(b,!1,kle(b));return b instanceof Element&&(b.removeAttribute("v-cloak"),b.setAttribute("data-v-app","")),x},i};function kle(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Ele(r){return Gi(r)?document.querySelector(r):r}function bh(r,i){let u;function m(){u=rO(),u.run(()=>i.length?i(()=>{u==null||u.stop(),m()}):i())}Xn(r,b=>{b&&!u?m():b||(u==null||u.stop(),u=void 0)},{immediate:!0}),Zf(()=>{u==null||u.stop()})}const pi=typeof window<"u",PV=pi&&"IntersectionObserver"in window,Ale=pi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function QZ(r,i,u){Tle(r,i),i.set(r,u)}function Tle(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ole(r,i,u){return r.set(Lq(r,i),u),u}function vw(r,i){return r.get(Lq(r,i))}function Lq(r,i,u){if(typeof r=="function"?r===i:r.has(i))return arguments.length<3?i:u;throw new TypeError("Private element is not present on this object")}function Fq(r,i,u){const m=i.length-1;if(m<0)return r===void 0?u:r;for(let b=0;b<m;b++){if(r==null)return u;r=r[i[b]]}return r==null||r[i[m]]===void 0?u:r[i[m]]}function hM(r,i){if(r===i)return!0;if(r instanceof Date&&i instanceof Date&&r.getTime()!==i.getTime()||r!==Object(r)||i!==Object(i))return!1;const u=Object.keys(r);return u.length!==Object.keys(i).length?!1:u.every(m=>hM(r[m],i[m]))}function FH(r,i,u){return r==null||!i||typeof i!="string"?u:r[i]!==void 0?r[i]:(i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,""),Fq(r,i.split("."),u))}function zT(r,i,u){if(i===!0)return r===void 0?u:r;if(i==null||typeof i=="boolean")return u;if(r!==Object(r)){if(typeof i!="function")return u;const b=i(r,u);return typeof b>"u"?u:b}if(typeof i=="string")return FH(r,i,u);if(Array.isArray(i))return Fq(r,i,u);if(typeof i!="function")return u;const m=i(r,u);return typeof m>"u"?u:m}function zq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:r},(u,m)=>i+m)}function cr(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(r==null||r===""))return isNaN(+r)?String(r):isFinite(+r)?`${Number(r)}${i}`:void 0}function Dle(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function ej(r){let i;return r!==null&&typeof r=="object"&&((i=Object.getPrototypeOf(r))===Object.prototype||i===null)}function Rle(r){if(r&&"$el"in r){const i=r.$el;return(i==null?void 0:i.nodeType)===Node.TEXT_NODE?i.nextElementSibling:i}return r}const tj=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function oH(r,i){return i.every(u=>r.hasOwnProperty(u))}function Hq(r,i){const u={},m=new Set(Object.keys(r));for(const b of i)m.has(b)&&(u[b]=r[b]);return u}function nj(r,i,u){const m=Object.create(null),b=Object.create(null);for(const p in r)i.some(x=>x instanceof RegExp?x.test(p):x===p)&&!(u!=null&&u.some(x=>x===p))?m[p]=r[p]:b[p]=r[p];return[m,b]}function Vq(r,i){const u={...r};return i.forEach(m=>delete u[m]),u}function Nle(r,i){const u={};return i.forEach(m=>u[m]=r[m]),u}const $q=/^on[^a-z]/,LV=r=>$q.test(r),Ile=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Ble(r){const[i,u]=nj(r,[$q]),m=Vq(i,Ile),[b,p]=nj(u,["class","style","id",/^data-/]);return Object.assign(b,i),Object.assign(p,m),[b,p]}function Ow(r){return r==null?[]:Array.isArray(r)?r:[r]}function Bw(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(i,Math.min(u,r))}function oj(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return r+u.repeat(Math.max(0,i-r.length))}function rj(r,i){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,i-r.length))+r}function Mle(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const u=[];let m=0;for(;m<r.length;)u.push(r.substr(m,i)),m+=i;return u}function Hf(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const m={};for(const b in r)m[b]=r[b];for(const b in i){const p=r[b],x=i[b];if(ej(p)&&ej(x)){m[b]=Hf(p,x,u);continue}if(u&&Array.isArray(p)&&Array.isArray(x)){m[b]=u(p,x);continue}m[b]=x}return m}function Uq(r){return r.map(i=>i.type===ks?Uq(i.children):i).flat()}function Dw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Dw.cache.has(r))return Dw.cache.get(r);const i=r.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Dw.cache.set(r,i),i}Dw.cache=new Map;function JS(r,i){if(!i||typeof i!="object")return[];if(Array.isArray(i))return i.map(u=>JS(r,u)).flat(1);if(i.suspense)return JS(r,i.ssContent);if(Array.isArray(i.children))return i.children.map(u=>JS(r,u)).flat(1);if(i.component){if(Object.getOwnPropertySymbols(i.component.provides).includes(r))return[i.component];if(i.component.subTree)return JS(r,i.component.subTree).flat(1)}return[]}var p8=new WeakMap,WS=new WeakMap;class Ple{constructor(i){QZ(this,p8,[]),QZ(this,WS,0),this.size=i}push(i){vw(p8,this)[vw(WS,this)]=i,Ole(WS,this,(vw(WS,this)+1)%this.size)}values(){return vw(p8,this).slice(vw(WS,this)).concat(vw(p8,this).slice(0,vw(WS,this)))}}function FV(r){const i=lu({}),u=ct(r);return vh(()=>{for(const m in u.value)i[m]=u.value[m]},{flush:"sync"}),aO(i)}function Z8(r,i){return r.includes(i)}function Wq(r){return r[2].toLowerCase()+r.slice(3)}const ug=()=>[Function,Array];function sj(r,i){return i="on"+q0(i),!!(r[i]||r[`${i}Once`]||r[`${i}Capture`]||r[`${i}OnceCapture`]||r[`${i}CaptureOnce`])}function Lle(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];if(Array.isArray(r))for(const b of r)b(...u);else typeof r=="function"&&r(...u)}function Zq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${i?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...r.querySelectorAll(u)]}function Fle(r,i,u){let m,b=r.indexOf(document.activeElement);const p=i==="next"?1:-1;do b+=p,m=r[b];while((!m||m.offsetParent==null)&&b<r.length&&b>=0);return m}function jq(r,i){var m,b,p,x;const u=Zq(r);if(!i)(r===document.activeElement||!r.contains(document.activeElement))&&((m=u[0])==null||m.focus());else if(i==="first")(b=u[0])==null||b.focus();else if(i==="last")(p=u.at(-1))==null||p.focus();else if(typeof i=="number")(x=u[i])==null||x.focus();else{const S=Fle(u,i);S?S.focus():jq(r,i==="next"?"first":"last")}}function zle(r,i){if(!(pi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${i})`)))return null;try{return!!r&&r.matches(i)}catch{return null}}function Hle(r,i){if(!pi||r===0)return i(),()=>{};const u=window.setTimeout(i,r);return()=>window.clearTimeout(u)}function zH(){const r=Ar(),i=u=>{r.value=u};return Object.defineProperty(i,"value",{enumerable:!0,get:()=>r.value,set:u=>r.value=u}),Object.defineProperty(i,"el",{enumerable:!0,get:()=>Rle(r.value)}),i}const Kq=["top","bottom"],Vle=["start","end","left","right"];function HH(r,i){let[u,m]=r.split(" ");return m||(m=Z8(Kq,u)?"start":Z8(Vle,u)?"top":"center"),{side:VH(u,i),align:VH(m,i)}}function VH(r,i){return r==="start"?i?"right":"left":r==="end"?i?"left":"right":r}function rH(r){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.side],align:r.align}}function sH(r){return{side:r.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.align]}}function aj(r){return{side:r.align,align:r.side}}function ij(r){return Z8(Kq,r.side)?"y":"x"}class Rw{constructor(i){let{x:u,y:m,width:b,height:p}=i;this.x=u,this.y=m,this.width=b,this.height=p}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function lj(r,i){return{x:{before:Math.max(0,i.left-r.left),after:Math.max(0,r.right-i.right)},y:{before:Math.max(0,i.top-r.top),after:Math.max(0,r.bottom-i.bottom)}}}function qq(r){return Array.isArray(r)?new Rw({x:r[0],y:r[1],width:0,height:0}):r.getBoundingClientRect()}function zV(r){const i=r.getBoundingClientRect(),u=getComputedStyle(r),m=u.transform;if(m){let b,p,x,S,M;if(m.startsWith("matrix3d("))b=m.slice(9,-1).split(/, /),p=+b[0],x=+b[5],S=+b[12],M=+b[13];else if(m.startsWith("matrix("))b=m.slice(7,-1).split(/, /),p=+b[0],x=+b[3],S=+b[4],M=+b[5];else return new Rw(i);const I=u.transformOrigin,R=i.x-S-(1-p)*parseFloat(I),z=i.y-M-(1-x)*parseFloat(I.slice(I.indexOf(" ")+1)),U=p?i.width/p:r.offsetWidth+1,$=x?i.height/x:r.offsetHeight+1;return new Rw({x:R,y:z,width:U,height:$})}else return new Rw(i)}function QS(r,i,u){if(typeof r.animate>"u")return{finished:Promise.resolve()};let m;try{m=r.animate(i,u)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(b=>{m.onfinish=()=>{b(m)}})),m}const B8=new WeakMap;function $le(r,i){Object.keys(i).forEach(u=>{if(LV(u)){const m=Wq(u),b=B8.get(r);if(i[u]==null)b==null||b.forEach(p=>{const[x,S]=p;x===m&&(r.removeEventListener(m,S),b.delete(p))});else if(!b||![...b].some(p=>p[0]===m&&p[1]===i[u])){r.addEventListener(m,i[u]);const p=b||new Set;p.add([m,i[u]]),B8.has(r)||B8.set(r,p)}}else i[u]==null?r.removeAttribute(u):r.setAttribute(u,i[u])})}function Ule(r,i){Object.keys(i).forEach(u=>{if(LV(u)){const m=Wq(u),b=B8.get(r);b==null||b.forEach(p=>{const[x,S]=p;x===m&&(r.removeEventListener(m,S),b.delete(p))})}else r.removeAttribute(u)})}const ZS=2.4,cj=.2126729,uj=.7151522,dj=.072175,Wle=.55,Zle=.58,jle=.57,Kle=.62,b8=.03,fj=1.45,qle=5e-4,Gle=1.25,Yle=1.25,mj=.078,gj=12.82051282051282,v8=.06,hj=.001;function pj(r,i){const u=(r.r/255)**ZS,m=(r.g/255)**ZS,b=(r.b/255)**ZS,p=(i.r/255)**ZS,x=(i.g/255)**ZS,S=(i.b/255)**ZS;let M=u*cj+m*uj+b*dj,I=p*cj+x*uj+S*dj;if(M<=b8&&(M+=(b8-M)**fj),I<=b8&&(I+=(b8-I)**fj),Math.abs(I-M)<qle)return 0;let R;if(I>M){const z=(I**Wle-M**Zle)*Gle;R=z<hj?0:z<mj?z-z*gj*v8:z-v8}else{const z=(I**Kle-M**jle)*Yle;R=z>-hj?0:z>-mj?z-z*gj*v8:z+v8}return R*100}function Xle(r,i){i=Array.isArray(i)?i.slice(0,-1).map(u=>`'${u}'`).join(", ")+` or '${i.at(-1)}'`:`'${i}'`}const j8=.20689655172413793,Jle=r=>r>j8**3?Math.cbrt(r):r/(3*j8**2)+4/29,Qle=r=>r>j8?r**3:3*j8**2*(r-4/29);function Gq(r){const i=Jle,u=i(r[1]);return[116*u-16,500*(i(r[0]/.95047)-u),200*(u-i(r[2]/1.08883))]}function Yq(r){const i=Qle,u=(r[0]+16)/116;return[i(u+r[1]/500)*.95047,i(u),i(u-r[2]/200)*1.08883]}const ece=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],tce=r=>r<=.0031308?r*12.92:1.055*r**(1/2.4)-.055,nce=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],oce=r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4;function Xq(r){const i=Array(3),u=tce,m=ece;for(let b=0;b<3;++b)i[b]=Math.round(Bw(u(m[b][0]*r[0]+m[b][1]*r[1]+m[b][2]*r[2]))*255);return{r:i[0],g:i[1],b:i[2]}}function HV(r){let{r:i,g:u,b:m}=r;const b=[0,0,0],p=oce,x=nce;i=p(i/255),u=p(u/255),m=p(m/255);for(let S=0;S<3;++S)b[S]=x[S][0]*i+x[S][1]*u+x[S][2]*m;return b}function $H(r){return!!r&&/^(#|var\(--|(rgb|hsl)a?\()/.test(r)}function rce(r){return $H(r)&&!/^((rgb|hsl)a?\()?var\(--/.test(r)}const bj=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,sce={rgb:(r,i,u,m)=>({r,g:i,b:u,a:m}),rgba:(r,i,u,m)=>({r,g:i,b:u,a:m}),hsl:(r,i,u,m)=>vj({h:r,s:i,l:u,a:m}),hsla:(r,i,u,m)=>vj({h:r,s:i,l:u,a:m}),hsv:(r,i,u,m)=>QT({h:r,s:i,v:u,a:m}),hsva:(r,i,u,m)=>QT({h:r,s:i,v:u,a:m})};function Fp(r){if(typeof r=="number")return{r:(r&16711680)>>16,g:(r&65280)>>8,b:r&255};if(typeof r=="string"&&bj.test(r)){const{groups:i}=r.match(bj),{fn:u,values:m}=i,b=m.split(/,\s*/).map(p=>p.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(u)?parseFloat(p)/100:parseFloat(p));return sce[u](...b)}else if(typeof r=="string"){let i=r.startsWith("#")?r.slice(1):r;return[3,4].includes(i.length)?i=i.split("").map(u=>u+u).join(""):[6,8].includes(i.length),ice(i)}else if(typeof r=="object"){if(oH(r,["r","g","b"]))return r;if(oH(r,["h","s","l"]))return QT(Jq(r));if(oH(r,["h","s","v"]))return QT(r)}throw new TypeError(`Invalid color: ${r==null?r:String(r)||r.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function QT(r){const{h:i,s:u,v:m,a:b}=r,p=S=>{const M=(S+i/60)%6;return m-m*u*Math.max(Math.min(M,4-M,1),0)},x=[p(5),p(3),p(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:b}}function vj(r){return QT(Jq(r))}function Jq(r){const{h:i,s:u,l:m,a:b}=r,p=m+u*Math.min(m,1-m),x=p===0?0:2-2*m/p;return{h:i,s:x,v:p,a:b}}function y8(r){const i=Math.round(r).toString(16);return("00".substr(0,2-i.length)+i).toUpperCase()}function ace(r){let{r:i,g:u,b:m,a:b}=r;return`#${[y8(i),y8(u),y8(m),b!==void 0?y8(Math.round(b*255)):""].join("")}`}function ice(r){r=lce(r);let[i,u,m,b]=Mle(r,2).map(p=>parseInt(p,16));return b=b===void 0?b:b/255,{r:i,g:u,b:m,a:b}}function lce(r){return r.startsWith("#")&&(r=r.slice(1)),r=r.replace(/([^0-9a-f])/gi,"F"),(r.length===3||r.length===4)&&(r=r.split("").map(i=>i+i).join("")),r.length!==6&&(r=oj(oj(r,6),8,"F")),r}function cce(r,i){const u=Gq(HV(r));return u[0]=u[0]+i*10,Xq(Yq(u))}function uce(r,i){const u=Gq(HV(r));return u[0]=u[0]-i*10,Xq(Yq(u))}function dce(r){const i=Fp(r);return HV(i)[1]}function Qq(r){const i=Math.abs(pj(Fp(0),Fp(r)));return Math.abs(pj(Fp(16777215),Fp(r)))>Math.min(i,50)?"#fff":"#000"}function eo(r,i){return u=>Object.keys(r).reduce((m,b)=>{const x=typeof r[b]=="object"&&r[b]!=null&&!Array.isArray(r[b])?r[b]:{type:r[b]};return u&&b in u?m[b]={...x,default:u[b]}:m[b]=x,i&&!m[b].source&&(m[b].source=i),m},{})}const ss=eo({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Sl(r,i){const u=BV();if(!u)throw new Error(`[Vuetify] ${r} must be called from inside a setup function`);return u}function $p(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const i=Sl(r).type;return Dw((i==null?void 0:i.aliasName)||(i==null?void 0:i.name))}let eG=0,M8=new WeakMap;function yy(){const r=Sl("getUid");if(M8.has(r))return M8.get(r);{const i=eG++;return M8.set(r,i),i}}yy.reset=()=>{eG=0,M8=new WeakMap};function fce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl("injectSelf");const{provides:u}=i;if(u&&r in u)return u[r]}const lk=Symbol.for("vuetify:defaults");function mce(r){return Mo(r)}function VV(){const r=qi(lk);if(!r)throw new Error("[Vuetify] Could not find defaults instance");return r}function uk(r,i){const u=VV(),m=Mo(r),b=ct(()=>{if(Ue(i==null?void 0:i.disabled))return u.value;const x=Ue(i==null?void 0:i.scoped),S=Ue(i==null?void 0:i.reset),M=Ue(i==null?void 0:i.root);if(m.value==null&&!(x||S||M))return u.value;let I=Hf(m.value,{prev:u.value});if(x)return I;if(S||M){const R=Number(S||1/0);for(let z=0;z<=R&&!(!I||!("prev"in I));z++)I=I.prev;return I&&typeof M=="string"&&M in I&&(I=Hf(Hf(I,{prev:I}),I[M])),I}return I.prev?Hf(I.prev,I):I});return jf(lk,b),b}function gce(r,i){var u,m;return typeof((u=r.props)==null?void 0:u[i])<"u"||typeof((m=r.props)==null?void 0:m[Dw(i)])<"u"}function hce(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:VV();const m=Sl("useDefaults");if(i=i??m.type.name??m.type.__name,!i)throw new Error("[Vuetify] Could not determine component name");const b=ct(()=>{var M;return(M=u.value)==null?void 0:M[r._as??i]}),p=new Proxy(r,{get(M,I){var z,U,$,G,ee,he,me;const R=Reflect.get(M,I);return I==="class"||I==="style"?[(z=b.value)==null?void 0:z[I],R].filter($e=>$e!=null):typeof I=="string"&&!gce(m.vnode,I)?((U=b.value)==null?void 0:U[I])!==void 0?($=b.value)==null?void 0:$[I]:((ee=(G=u.value)==null?void 0:G.global)==null?void 0:ee[I])!==void 0?(me=(he=u.value)==null?void 0:he.global)==null?void 0:me[I]:R:R}}),x=Ar();vh(()=>{if(b.value){const M=Object.entries(b.value).filter(I=>{let[R]=I;return R.startsWith(R[0].toUpperCase())});x.value=M.length?Object.fromEntries(M):void 0}else x.value=void 0});function S(){const M=fce(lk,m);jf(lk,ct(()=>x.value?Hf((M==null?void 0:M.value)??{},x.value):M==null?void 0:M.value))}return{props:p,provideSubDefaults:S}}function dk(r){if(r._setup=r._setup??r.setup,!r.name)return r;if(r._setup){r.props=eo(r.props??{},r.name)();const i=Object.keys(r.props).filter(u=>u!=="class"&&u!=="style");r.filterProps=function(m){return Hq(m,i)},r.props._as=String,r.setup=function(m,b){const p=VV();if(!p.value)return r._setup(m,b);const{props:x,provideSubDefaults:S}=hce(m,m._as??r.name,p),M=r._setup(x,b);return S(),M}}return r}function rr(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i=>(r?dk:oq)(i)}function $V(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",u=arguments.length>2?arguments[2]:void 0;return rr()({name:u??q0(Wf(r.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...ss()},setup(m,b){let{slots:p}=b;return()=>{var x;return Hp(m.tag,{class:[r,m.class],style:m.style},(x=p.default)==null?void 0:x.call(p))}}})}function tG(r){if(typeof r.getRootNode!="function"){for(;r.parentNode;)r=r.parentNode;return r!==document?null:document}const i=r.getRootNode();return i!==document&&i.getRootNode({composed:!0})!==document?null:i}const K8="cubic-bezier(0.4, 0, 0.2, 1)",pce="cubic-bezier(0.0, 0, 0.2, 1)",bce="cubic-bezier(0.4, 0, 1, 1)";function vce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;r;){if(i?yce(r):UV(r))return r;r=r.parentElement}return document.scrollingElement}function q8(r,i){const u=[];if(i&&r&&!i.contains(r))return u;for(;r&&(UV(r)&&u.push(r),r!==i);)r=r.parentElement;return u}function UV(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return i.overflowY==="scroll"||i.overflowY==="auto"&&r.scrollHeight>r.clientHeight}function yce(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return["scroll","auto"].includes(i.overflowY)}function xce(r){for(;r;){if(window.getComputedStyle(r).position==="fixed")return!0;r=r.offsetParent}return!1}function jr(r){const i=Sl("useRender");i.render=r}function $f(r,i,u){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z=>z,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:z=>z;const p=Sl("useProxiedModel"),x=Mo(r[i]!==void 0?r[i]:u),S=Dw(i),I=ct(S!==i?()=>{var z,U,$,G;return r[i],!!(((z=p.vnode.props)!=null&&z.hasOwnProperty(i)||(U=p.vnode.props)!=null&&U.hasOwnProperty(S))&&(($=p.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${i}`)||(G=p.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var z,U;return r[i],!!((z=p.vnode.props)!=null&&z.hasOwnProperty(i)&&((U=p.vnode.props)!=null&&U.hasOwnProperty(`onUpdate:${i}`)))});bh(()=>!I.value,()=>{Xn(()=>r[i],z=>{x.value=z})});const R=ct({get(){const z=r[i];return m(I.value?z:x.value)},set(z){const U=b(z),$=Eo(I.value?r[i]:x.value);$===U||m($)===z||(x.value=U,p==null||p.emit(`update:${i}`,U))}});return Object.defineProperty(R,"externalValue",{get:()=>I.value?r[i]:x.value}),R}const wce={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},yj="$vuetify.",xj=(r,i)=>r.replace(/\{(\d+)\}/g,(u,m)=>String(i[+m])),nG=(r,i,u)=>function(m){for(var b=arguments.length,p=new Array(b>1?b-1:0),x=1;x<b;x++)p[x-1]=arguments[x];if(!m.startsWith(yj))return xj(m,p);const S=m.replace(yj,""),M=r.value&&u.value[r.value],I=i.value&&u.value[i.value];let R=FH(M,S,null);return R||(`${m}${r.value}`,R=FH(I,S,null)),R||(R=m),typeof R!="string"&&(R=m),xj(R,p)};function oG(r,i){return(u,m)=>new Intl.NumberFormat([r.value,i.value],m).format(u)}function aH(r,i,u){const m=$f(r,i,r[i]??u.value);return m.value=r[i]??u.value,Xn(u,b=>{r[i]==null&&(m.value=u.value)}),m}function rG(r){return i=>{const u=aH(i,"locale",r.current),m=aH(i,"fallback",r.fallback),b=aH(i,"messages",r.messages);return{name:"vuetify",current:u,fallback:m,messages:b,t:nG(u,m,b),n:oG(u,m),provide:rG({current:u,fallback:m,messages:b})}}}function Cce(r){const i=Ar((r==null?void 0:r.locale)??"en"),u=Ar((r==null?void 0:r.fallback)??"en"),m=Mo({en:wce,...r==null?void 0:r.messages});return{name:"vuetify",current:i,fallback:u,messages:m,t:nG(i,u,m),n:oG(i,u),provide:rG({current:i,fallback:u,messages:m})}}const G8=Symbol.for("vuetify:locale");function _ce(r){return r.name!=null}function Sce(r){const i=r!=null&&r.adapter&&_ce(r==null?void 0:r.adapter)?r==null?void 0:r.adapter:Cce(r),u=Ace(i,r);return{...i,...u}}function kce(){const r=qi(G8);if(!r)throw new Error("[Vuetify] Could not find injected locale instance");return r}function Ece(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Ace(r,i){const u=Mo((i==null?void 0:i.rtl)??Ece()),m=ct(()=>u.value[r.current.value]??!1);return{isRtl:m,rtl:u,rtlClasses:ct(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function Y0(){const r=qi(G8);if(!r)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:r.isRtl,rtlClasses:r.rtlClasses}}const pM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Tce(r,i,u){const m=[];let b=[];const p=sG(r),x=aG(r),S=u??pM[i.slice(-2).toUpperCase()]??0,M=(p.getDay()-S+7)%7,I=(x.getDay()-S+7)%7;for(let R=0;R<M;R++){const z=new Date(p);z.setDate(z.getDate()-(M-R)),b.push(z)}for(let R=1;R<=x.getDate();R++){const z=new Date(r.getFullYear(),r.getMonth(),R);b.push(z),b.length===7&&(m.push(b),b=[])}for(let R=1;R<7-I;R++){const z=new Date(x);z.setDate(z.getDate()+R),b.push(z)}return b.length>0&&m.push(b),m}function Oce(r,i,u){const m=u??pM[i.slice(-2).toUpperCase()]??0,b=new Date(r);for(;b.getDay()!==m;)b.setDate(b.getDate()-1);return b}function Dce(r,i){const u=new Date(r),m=((pM[i.slice(-2).toUpperCase()]??0)+6)%7;for(;u.getDay()!==m;)u.setDate(u.getDate()+1);return u}function sG(r){return new Date(r.getFullYear(),r.getMonth(),1)}function aG(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function Rce(r){const i=r.split("-").map(Number);return new Date(i[0],i[1]-1,i[2])}const Nce=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function iG(r){if(r==null)return new Date;if(r instanceof Date)return r;if(typeof r=="string"){let i;if(Nce.test(r))return Rce(r);if(i=Date.parse(r),!isNaN(i))return new Date(i)}return null}const wj=new Date(2e3,0,2);function Ice(r,i){const u=i??pM[r.slice(-2).toUpperCase()]??0;return zq(7).map(m=>{const b=new Date(wj);return b.setDate(wj.getDate()+u+m),new Intl.DateTimeFormat(r,{weekday:"narrow"}).format(b)})}function Bce(r,i,u,m){const b=iG(r)??new Date,p=m==null?void 0:m[i];if(typeof p=="function")return p(b,i,u);let x={};switch(i){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=b.getDate(),M=new Intl.DateTimeFormat(u,{month:"long"}).format(b);return`${S} ${M}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(u).format(b.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=p??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(u,x).format(b)}function Mce(r,i){const u=r.toJsDate(i),m=u.getFullYear(),b=rj(String(u.getMonth()+1),2,"0"),p=rj(String(u.getDate()),2,"0");return`${m}-${b}-${p}`}function Pce(r){const[i,u,m]=r.split("-").map(Number);return new Date(i,u-1,m)}function Lce(r,i){const u=new Date(r);return u.setMinutes(u.getMinutes()+i),u}function Fce(r,i){const u=new Date(r);return u.setHours(u.getHours()+i),u}function zce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i),u}function Hce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i*7),u}function Vce(r,i){const u=new Date(r);return u.setDate(1),u.setMonth(u.getMonth()+i),u}function $ce(r){return r.getFullYear()}function Uce(r){return r.getMonth()}function Wce(r){return r.getDate()}function Zce(r){return new Date(r.getFullYear(),r.getMonth()+1,1)}function jce(r){return new Date(r.getFullYear(),r.getMonth()-1,1)}function Kce(r){return r.getHours()}function qce(r){return r.getMinutes()}function Gce(r){return new Date(r.getFullYear(),0,1)}function Yce(r){return new Date(r.getFullYear(),11,31)}function Xce(r,i){return Y8(r,i[0])&&eue(r,i[1])}function Jce(r){const i=new Date(r);return i instanceof Date&&!isNaN(i.getTime())}function Y8(r,i){return r.getTime()>i.getTime()}function Qce(r,i){return Y8(UH(r),UH(i))}function eue(r,i){return r.getTime()<i.getTime()}function Cj(r,i){return r.getTime()===i.getTime()}function tue(r,i){return r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function nue(r,i){return r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function oue(r,i){return r.getFullYear()===i.getFullYear()}function rue(r,i,u){const m=new Date(r),b=new Date(i);switch(u){case"years":return m.getFullYear()-b.getFullYear();case"quarters":return Math.floor((m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12)/4);case"months":return m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-b.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-b.getTime())/1e3);default:return m.getTime()-b.getTime()}}function sue(r,i){const u=new Date(r);return u.setHours(i),u}function aue(r,i){const u=new Date(r);return u.setMinutes(i),u}function iue(r,i){const u=new Date(r);return u.setMonth(i),u}function lue(r,i){const u=new Date(r);return u.setDate(i),u}function cue(r,i){const u=new Date(r);return u.setFullYear(i),u}function UH(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0)}function uue(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}class due{constructor(i){this.locale=i.locale,this.formats=i.formats}date(i){return iG(i)}toJsDate(i){return i}toISO(i){return Mce(this,i)}parseISO(i){return Pce(i)}addMinutes(i,u){return Lce(i,u)}addHours(i,u){return Fce(i,u)}addDays(i,u){return zce(i,u)}addWeeks(i,u){return Hce(i,u)}addMonths(i,u){return Vce(i,u)}getWeekArray(i,u){return Tce(i,this.locale,u?Number(u):void 0)}startOfWeek(i,u){return Oce(i,this.locale,u?Number(u):void 0)}endOfWeek(i){return Dce(i,this.locale)}startOfMonth(i){return sG(i)}endOfMonth(i){return aG(i)}format(i,u){return Bce(i,u,this.locale,this.formats)}isEqual(i,u){return Cj(i,u)}isValid(i){return Jce(i)}isWithinRange(i,u){return Xce(i,u)}isAfter(i,u){return Y8(i,u)}isAfterDay(i,u){return Qce(i,u)}isBefore(i,u){return!Y8(i,u)&&!Cj(i,u)}isSameDay(i,u){return tue(i,u)}isSameMonth(i,u){return nue(i,u)}isSameYear(i,u){return oue(i,u)}setMinutes(i,u){return aue(i,u)}setHours(i,u){return sue(i,u)}setMonth(i,u){return iue(i,u)}setDate(i,u){return lue(i,u)}setYear(i,u){return cue(i,u)}getDiff(i,u,m){return rue(i,u,m)}getWeekdays(i){return Ice(this.locale,i?Number(i):void 0)}getYear(i){return $ce(i)}getMonth(i){return Uce(i)}getDate(i){return Wce(i)}getNextMonth(i){return Zce(i)}getPreviousMonth(i){return jce(i)}getHours(i){return Kce(i)}getMinutes(i){return qce(i)}startOfDay(i){return UH(i)}endOfDay(i){return uue(i)}startOfYear(i){return Gce(i)}endOfYear(i){return Yce(i)}}const fue=Symbol.for("vuetify:date-options"),_j=Symbol.for("vuetify:date-adapter");function mue(r,i){const u=Hf({adapter:due,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},r);return{options:u,instance:gue(u,i)}}function gue(r,i){const u=lu(typeof r.adapter=="function"?new r.adapter({locale:r.locale[i.current.value]??i.current.value,formats:r.formats}):r.adapter);return Xn(i.current,m=>{u.locale=r.locale[m]??m??u.locale}),u}const bM=["sm","md","lg","xl","xxl"],WH=Symbol.for("vuetify:display"),Sj={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},hue=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sj;return Hf(Sj,r)};function kj(r){return pi&&!r?window.innerWidth:typeof r=="object"&&r.clientWidth||0}function Ej(r){return pi&&!r?window.innerHeight:typeof r=="object"&&r.clientHeight||0}function Aj(r){const i=pi&&!r?window.navigator.userAgent:"ssr";function u(G){return!!i.match(G)}const m=u(/android/i),b=u(/iphone|ipad|ipod/i),p=u(/cordova/i),x=u(/electron/i),S=u(/chrome/i),M=u(/edge/i),I=u(/firefox/i),R=u(/opera/i),z=u(/win/i),U=u(/mac/i),$=u(/linux/i);return{android:m,ios:b,cordova:p,electron:x,chrome:S,edge:M,firefox:I,opera:R,win:z,mac:U,linux:$,touch:Ale,ssr:i==="ssr"}}function pue(r,i){const{thresholds:u,mobileBreakpoint:m}=hue(r),b=Ar(Ej(i)),p=Ar(Aj(i)),x=lu({}),S=Ar(kj(i));function M(){b.value=Ej(),S.value=kj()}function I(){M(),p.value=Aj()}return vh(()=>{const R=S.value<u.sm,z=S.value<u.md&&!R,U=S.value<u.lg&&!(z||R),$=S.value<u.xl&&!(U||z||R),G=S.value<u.xxl&&!($||U||z||R),ee=S.value>=u.xxl,he=R?"xs":z?"sm":U?"md":$?"lg":G?"xl":"xxl",me=typeof m=="number"?m:u[m],$e=S.value<me;x.xs=R,x.sm=z,x.md=U,x.lg=$,x.xl=G,x.xxl=ee,x.smAndUp=!R,x.mdAndUp=!(R||z),x.lgAndUp=!(R||z||U),x.xlAndUp=!(R||z||U||$),x.smAndDown=!(U||$||G||ee),x.mdAndDown=!($||G||ee),x.lgAndDown=!(G||ee),x.xlAndDown=!ee,x.name=he,x.height=b.value,x.width=S.value,x.mobile=$e,x.mobileBreakpoint=m,x.platform=p.value,x.thresholds=u}),pi&&window.addEventListener("resize",M,{passive:!0}),{...aO(x),update:I,ssr:!!i}}const bue=eo({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function lG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();const u=qi(WH);if(!u)throw new Error("Could not find Vuetify display injection");const m=ct(()=>{if(r.mobile!=null)return r.mobile;if(!r.mobileBreakpoint)return u.mobile.value;const p=typeof r.mobileBreakpoint=="number"?r.mobileBreakpoint:u.thresholds.value[r.mobileBreakpoint];return u.width.value<p}),b=ct(()=>i?{[`${i}--mobile`]:m.value}:{});return{...u,displayClasses:b,mobile:m}}const vue=Symbol.for("vuetify:goto");function yue(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:r=>r,easeInQuad:r=>r**2,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r**2:-1+(4-2*r)*r,easeInCubic:r=>r**3,easeOutCubic:r=>--r**3+1,easeInOutCubic:r=>r<.5?4*r**3:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r**4,easeOutQuart:r=>1- --r**4,easeInOutQuart:r=>r<.5?8*r**4:1-8*--r**4,easeInQuint:r=>r**5,easeOutQuint:r=>1+--r**5,easeInOutQuint:r=>r<.5?16*r**5:1+16*--r**5}}}function xue(r,i){return{rtl:i.isRtl,options:Hf(yue(),r)}}const wue={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Cue={component:r=>Hp(uG,{...r,class:"mdi"})},_l=[String,Function,Object,Array],ZH=Symbol.for("vuetify:icons"),vM=eo({icon:{type:_l},tag:{type:String,required:!0}},"icon"),Tj=rr()({name:"VComponentIcon",props:vM(),setup(r,i){let{slots:u}=i;return()=>{const m=r.icon;return be(r.tag,null,{default:()=>{var b;return[r.icon?be(m,null,null):(b=u.default)==null?void 0:b.call(u)]}})}}}),cG=dk({name:"VSvgIcon",inheritAttrs:!1,props:vM(),setup(r,i){let{attrs:u}=i;return()=>be(r.tag,Na(u,{style:null}),{default:()=>[be("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(r.icon)?r.icon.map(m=>Array.isArray(m)?be("path",{d:m[0],"fill-opacity":m[1]},null):be("path",{d:m},null)):be("path",{d:r.icon},null)])]})}});dk({name:"VLigatureIcon",props:vM(),setup(r){return()=>be(r.tag,null,{default:()=>[r.icon]})}});const uG=dk({name:"VClassIcon",props:vM(),setup(r){return()=>be(r.tag,{class:r.icon},null)}});function _ue(){return{svg:{component:cG},class:{component:uG}}}function Sue(r){const i=_ue(),u=(r==null?void 0:r.defaultSet)??"mdi";return u==="mdi"&&!i.mdi&&(i.mdi=Cue),Hf({defaultSet:u,sets:i,aliases:{...wue,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},r)}const kue=r=>{const i=qi(ZH);if(!i)throw new Error("Missing Vuetify Icons provide!");return{iconData:ct(()=>{var M;const m=Ue(r);if(!m)return{component:Tj};let b=m;if(typeof b=="string"&&(b=b.trim(),b.startsWith("$")&&(b=(M=i.aliases)==null?void 0:M[b.slice(1)])),Array.isArray(b))return{component:cG,icon:b};if(typeof b!="string")return{component:Tj,icon:b};const p=Object.keys(i.sets).find(I=>typeof b=="string"&&b.startsWith(`${I}:`)),x=p?b.slice(p.length+1):b;return{component:i.sets[p??i.defaultSet].component,icon:x}})}},X8=Symbol.for("vuetify:theme"),Ql=eo({theme:String},"theme");function Oj(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Eue(){var m,b;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oj();const i=Oj();if(!r)return{...i,isDisabled:!0};const u={};for(const[p,x]of Object.entries(r.themes??{})){const S=x.dark||p==="dark"?(m=i.themes)==null?void 0:m.dark:(b=i.themes)==null?void 0:b.light;u[p]=Hf(S,x)}return Hf(i,{...r,themes:u})}function Aue(r){const i=Eue(r),u=Mo(i.defaultTheme),m=Mo(i.themes),b=ct(()=>{const R={};for(const[z,U]of Object.entries(m.value)){const $=R[z]={...U,colors:{...U.colors}};if(i.variations)for(const G of i.variations.colors){const ee=$.colors[G];if(ee)for(const he of["lighten","darken"]){const me=he==="lighten"?cce:uce;for(const $e of zq(i.variations[he],1))$.colors[`${G}-${he}-${$e}`]=ace(me(Fp(ee),$e))}}for(const G of Object.keys($.colors)){if(/^on-[a-z]/.test(G)||$.colors[`on-${G}`])continue;const ee=`on-${G}`,he=Fp($.colors[G]);$.colors[ee]=Qq(he)}}return R}),p=ct(()=>b.value[u.value]),x=ct(()=>{var G;const R=[];(G=p.value)!=null&&G.dark&&yw(R,":root",["color-scheme: dark"]),yw(R,":root",Dj(p.value));for(const[ee,he]of Object.entries(b.value))yw(R,`.v-theme--${ee}`,[`color-scheme: ${he.dark?"dark":"normal"}`,...Dj(he)]);const z=[],U=[],$=new Set(Object.values(b.value).flatMap(ee=>Object.keys(ee.colors)));for(const ee of $)/^on-[a-z]/.test(ee)?yw(U,`.${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]):(yw(z,`.bg-${ee}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ee}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ee})) !important`,`color: rgb(var(--v-theme-on-${ee})) !important`]),yw(U,`.text-${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]),yw(U,`.border-${ee}`,[`--v-border-color: var(--v-theme-${ee})`]));return R.push(...z,...U),R.map((ee,he)=>he===0?ee:`    ${ee}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:i.cspNonce||!1}]}}function M(R){if(i.isDisabled)return;const z=R._context.provides.usehead;if(z)if(z.push){const $=z.push(S);pi&&Xn(x,()=>{$.patch(S)})}else pi?(z.addHeadObjs(ct(S)),vh(()=>z.updateDOM())):z.addHeadObjs(S());else{let G=function(){if(typeof document<"u"&&!$){const ee=document.createElement("style");ee.type="text/css",ee.id="vuetify-theme-stylesheet",i.cspNonce&&ee.setAttribute("nonce",i.cspNonce),$=ee,document.head.appendChild($)}$&&($.innerHTML=x.value)};var U=G;let $=pi?document.getElementById("vuetify-theme-stylesheet"):null;pi?Xn(x,G,{immediate:!0}):G()}}const I=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`);return{install:M,isDisabled:i.isDisabled,name:u,themes:m,current:p,computedThemes:b,themeClasses:I,styles:x,global:{name:u,current:p}}}function Dc(r){Sl("provideTheme");const i=qi(X8,null);if(!i)throw new Error("Could not find Vuetify theme injection");const u=ct(()=>r.theme??i.name.value),m=ct(()=>i.themes.value[u.value]),b=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`),p={...i,name:u,current:m,themeClasses:b};return jf(X8,p),p}function yw(r,i,u){r.push(`${i} {
`,...u.map(m=>`  ${m};
`),`}
`)}function Dj(r){const i=r.dark?2:1,u=r.dark?1:2,m=[];for(const[b,p]of Object.entries(r.colors)){const x=Fp(p);m.push(`--v-theme-${b}: ${x.r},${x.g},${x.b}`),b.startsWith("on-")||m.push(`--v-theme-${b}-overlay-multiplier: ${dce(p)>.18?i:u}`)}for(const[b,p]of Object.entries(r.variables)){const x=typeof p=="string"&&p.startsWith("#")?Fp(p):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;m.push(`--v-${b}: ${S??p}`)}return m}function dG(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const u=zH(),m=Mo();if(pi){const b=new ResizeObserver(p=>{p.length&&(i==="content"?m.value=p[0].contentRect:m.value=p[0].target.getBoundingClientRect())});Oc(()=>{b.disconnect()}),Xn(()=>u.el,(p,x)=>{x&&(b.unobserve(x),m.value=void 0),p&&b.observe(p)},{flush:"post"})}return{resizeRef:u,contentRect:sO(m)}}const J8=Symbol.for("vuetify:layout"),fG=Symbol.for("vuetify:layout-item"),Rj=1e3,Tue=eo({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),mG=eo({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Oue(){const r=qi(J8);if(!r)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:r.getLayoutItem,mainRect:r.mainRect,mainStyles:r.mainStyles}}function gG(r){const i=qi(J8);if(!i)throw new Error("[Vuetify] Could not find injected layout");const u=r.id??`layout-item-${yy()}`,m=Sl("useLayoutItem");jf(fG,{id:u});const b=Ar(!1);EV(()=>b.value=!0),kV(()=>b.value=!1);const{layoutItemStyles:p,layoutItemScrimStyles:x}=i.register(m,{...r,active:ct(()=>b.value?!1:r.active.value),id:u});return Oc(()=>i.unregister(u)),{layoutItemStyles:p,layoutRect:i.layoutRect,layoutItemScrimStyles:x}}const Due=(r,i,u,m)=>{let b={top:0,left:0,right:0,bottom:0};const p=[{id:"",layer:{...b}}];for(const x of r){const S=i.get(x),M=u.get(x),I=m.get(x);if(!S||!M||!I)continue;const R={...b,[S.value]:parseInt(b[S.value],10)+(I.value?parseInt(M.value,10):0)};p.push({id:x,layer:R}),b=R}return p};function Rue(r){const i=qi(J8,null),u=ct(()=>i?i.rootZIndex.value-100:Rj),m=Mo([]),b=lu(new Map),p=lu(new Map),x=lu(new Map),S=lu(new Map),M=lu(new Map),{resizeRef:I,contentRect:R}=dG(),z=ct(()=>{const re=new Map,Ge=r.overlaps??[];for(const Ve of Ge.filter(Ze=>Ze.includes(":"))){const[Ze,rt]=Ve.split(":");if(!m.value.includes(Ze)||!m.value.includes(rt))continue;const Ce=b.get(Ze),Ne=b.get(rt),D=p.get(Ze),yt=p.get(rt);!Ce||!Ne||!D||!yt||(re.set(rt,{position:Ce.value,amount:parseInt(D.value,10)}),re.set(Ze,{position:Ne.value,amount:-parseInt(yt.value,10)}))}return re}),U=ct(()=>{const re=[...new Set([...x.values()].map(Ve=>Ve.value))].sort((Ve,Ze)=>Ve-Ze),Ge=[];for(const Ve of re){const Ze=m.value.filter(rt=>{var Ce;return((Ce=x.get(rt))==null?void 0:Ce.value)===Ve});Ge.push(...Ze)}return Due(Ge,b,p,S)}),$=ct(()=>!Array.from(M.values()).some(re=>re.value)),G=ct(()=>U.value[U.value.length-1].layer),ee=ct(()=>({"--v-layout-left":cr(G.value.left),"--v-layout-right":cr(G.value.right),"--v-layout-top":cr(G.value.top),"--v-layout-bottom":cr(G.value.bottom),...$.value?void 0:{transition:"none"}})),he=ct(()=>U.value.slice(1).map((re,Ge)=>{let{id:Ve}=re;const{layer:Ze}=U.value[Ge],rt=p.get(Ve),Ce=b.get(Ve);return{id:Ve,...Ze,size:Number(rt.value),position:Ce.value}})),me=re=>he.value.find(Ge=>Ge.id===re),$e=Sl("createLayout"),Te=Ar(!1);Tc(()=>{Te.value=!0}),jf(J8,{register:(re,Ge)=>{let{id:Ve,order:Ze,position:rt,layoutSize:Ce,elementSize:Ne,active:D,disableTransitions:yt,absolute:Pt}=Ge;x.set(Ve,Ze),b.set(Ve,rt),p.set(Ve,Ce),S.set(Ve,D),yt&&M.set(Ve,yt);const gn=JS(fG,$e==null?void 0:$e.vnode).indexOf(re);gn>-1?m.value.splice(gn,0,Ve):m.value.push(Ve);const Qe=ct(()=>he.value.findIndex(bt=>bt.id===Ve)),On=ct(()=>u.value+U.value.length*2-Qe.value*2),nr=ct(()=>{const bt=rt.value==="left"||rt.value==="right",Zt=rt.value==="right",Ur=rt.value==="bottom",ho=Ne.value??Ce.value,xn=ho===0?"%":"px",Rn={[rt.value]:0,zIndex:On.value,transform:`translate${bt?"X":"Y"}(${(D.value?0:-(ho===0?100:ho))*(Zt||Ur?-1:1)}${xn})`,position:Pt.value||u.value!==Rj?"absolute":"fixed",...$.value?void 0:{transition:"none"}};if(!Te.value)return Rn;const J=he.value[Qe.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${Ve}"`);const sr=z.value.get(Ve);return sr&&(J[sr.position]+=sr.amount),{...Rn,height:bt?`calc(100% - ${J.top}px - ${J.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:Zt?void 0:`${J.left}px`,right:Zt?`${J.right}px`:void 0,top:rt.value!=="bottom"?`${J.top}px`:void 0,bottom:rt.value!=="top"?`${J.bottom}px`:void 0,width:bt?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),pt=ct(()=>({zIndex:On.value-1}));return{layoutItemStyles:nr,layoutItemScrimStyles:pt,zIndex:On}},unregister:re=>{x.delete(re),b.delete(re),p.delete(re),S.delete(re),M.delete(re),m.value=m.value.filter(Ge=>Ge!==re)},mainRect:G,mainStyles:ee,getLayoutItem:me,items:he,layoutRect:R,rootZIndex:u});const te=ct(()=>["v-layout",{"v-layout--full-height":r.fullHeight}]),Ae=ct(()=>({zIndex:i?u.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:te,layoutStyles:Ae,getLayoutItem:me,items:he,layoutRect:R,layoutRef:I}}function hG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:i,...u}=r,m=Hf(i,u),{aliases:b={},components:p={},directives:x={}}=m,S=mce(m.defaults),M=pue(m.display,m.ssr),I=Aue(m.theme),R=Sue(m.icons),z=Sce(m.locale),U=mue(m.date,z),$=xue(m.goTo,z);return{install:ee=>{for(const he in x)ee.directive(he,x[he]);for(const he in p)ee.component(he,p[he]);for(const he in b)ee.component(he,dk({...b[he],name:he,aliasName:b[he].name}));if(I.install(ee),ee.provide(lk,S),ee.provide(WH,M),ee.provide(X8,I),ee.provide(ZH,R),ee.provide(G8,z),ee.provide(fue,U.options),ee.provide(_j,U.instance),ee.provide(vue,$),pi&&m.ssr)if(ee.$nuxt)ee.$nuxt.hook("app:suspense:resolve",()=>{M.update()});else{const{mount:he}=ee;ee.mount=function(){const me=he(...arguments);return Ia(()=>M.update()),ee.mount=he,me}}yy.reset(),ee.mixin({computed:{$vuetify(){return lu({defaults:jS.call(this,lk),display:jS.call(this,WH),theme:jS.call(this,X8),icons:jS.call(this,ZH),locale:jS.call(this,G8),date:jS.call(this,_j)})}}})},defaults:S,display:M,theme:I,icons:R,locale:z,date:U,goTo:$}}const Nue="3.7.1";hG.version=Nue;function jS(r){var m,b;const i=this.$,u=((m=i.parent)==null?void 0:m.provides)??((b=i.vnode.appContext)==null?void 0:b.provides);if(u&&r in u)return u[r]}const Iue=hG({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Bue=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let pG;const yM=r=>pG=r,bG=Symbol();function jH(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var KT;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(KT||(KT={}));function Mue(){const r=rO(!0),i=r.run(()=>Mo({}));let u=[],m=[];const b=xV({install(p){yM(b),b._a=p,p.provide(bG,b),p.config.globalProperties.$pinia=b,m.forEach(x=>u.push(x)),m=[]},use(p){return!this._a&&!Bue?m.push(p):u.push(p),this},_p:u,_a:null,_e:r,_s:new Map,state:i});return b}const vG=()=>{};function Nj(r,i,u,m=vG){r.push(i);const b=()=>{const p=r.indexOf(i);p>-1&&(r.splice(p,1),m())};return!u&&RK()&&Zf(b),b}function KS(r,...i){r.slice().forEach(u=>{u(...i)})}const Pue=r=>r(),Ij=Symbol(),iH=Symbol();function KH(r,i){r instanceof Map&&i instanceof Map?i.forEach((u,m)=>r.set(m,u)):r instanceof Set&&i instanceof Set&&i.forEach(r.add,r);for(const u in i){if(!i.hasOwnProperty(u))continue;const m=i[u],b=r[u];jH(b)&&jH(m)&&r.hasOwnProperty(u)&&!Ma(m)&&!Aw(m)?r[u]=KH(b,m):r[u]=m}return r}const Lue=Symbol();function Fue(r){return!jH(r)||!r.hasOwnProperty(Lue)}const{assign:Jv}=Object;function zue(r){return!!(Ma(r)&&r.effect)}function Hue(r,i,u,m){const{state:b,actions:p,getters:x}=i,S=u.state.value[r];let M;function I(){S||(u.state.value[r]=b?b():{});const R=aO(u.state.value[r]);return Jv(R,p,Object.keys(x||{}).reduce((z,U)=>(z[U]=xV(ct(()=>{yM(u);const $=u._s.get(r);return x[U].call($,$)})),z),{}))}return M=yG(r,I,i,u,m,!0),M}function yG(r,i,u={},m,b,p){let x;const S=Jv({actions:{}},u),M={deep:!0};let I,R,z=[],U=[],$;const G=m.state.value[r];!p&&!G&&(m.state.value[r]={}),Mo({});let ee;function he(Ve){let Ze;I=R=!1,typeof Ve=="function"?(Ve(m.state.value[r]),Ze={type:KT.patchFunction,storeId:r,events:$}):(KH(m.state.value[r],Ve),Ze={type:KT.patchObject,payload:Ve,storeId:r,events:$});const rt=ee=Symbol();Ia().then(()=>{ee===rt&&(I=!0)}),R=!0,KS(z,Ze,m.state.value[r])}const me=p?function(){const{state:Ze}=u,rt=Ze?Ze():{};this.$patch(Ce=>{Jv(Ce,rt)})}:vG;function $e(){x.stop(),z=[],U=[],m._s.delete(r)}const Te=(Ve,Ze="")=>{if(Ij in Ve)return Ve[iH]=Ze,Ve;const rt=function(){yM(m);const Ce=Array.from(arguments),Ne=[],D=[];function yt(gn){Ne.push(gn)}function Pt(gn){D.push(gn)}KS(U,{args:Ce,name:rt[iH],store:Ae,after:yt,onError:Pt});let ln;try{ln=Ve.apply(this&&this.$id===r?this:Ae,Ce)}catch(gn){throw KS(D,gn),gn}return ln instanceof Promise?ln.then(gn=>(KS(Ne,gn),gn)).catch(gn=>(KS(D,gn),Promise.reject(gn))):(KS(Ne,ln),ln)};return rt[Ij]=!0,rt[iH]=Ze,rt},te={_p:m,$id:r,$onAction:Nj.bind(null,U),$patch:he,$reset:me,$subscribe(Ve,Ze={}){const rt=Nj(z,Ve,Ze.detached,()=>Ce()),Ce=x.run(()=>Xn(()=>m.state.value[r],Ne=>{(Ze.flush==="sync"?R:I)&&Ve({storeId:r,type:KT.direct,events:$},Ne)},Jv({},M,Ze)));return rt},$dispose:$e},Ae=lu(te);m._s.set(r,Ae);const Ge=(m._a&&m._a.runWithContext||Pue)(()=>m._e.run(()=>(x=rO()).run(()=>i({action:Te}))));for(const Ve in Ge){const Ze=Ge[Ve];if(Ma(Ze)&&!zue(Ze)||Aw(Ze))p||(G&&Fue(Ze)&&(Ma(Ze)?Ze.value=G[Ve]:KH(Ze,G[Ve])),m.state.value[r][Ve]=Ze);else if(typeof Ze=="function"){const rt=Te(Ze,Ve);Ge[Ve]=rt,S.actions[Ve]=Ze}}return Jv(Ae,Ge),Jv(Eo(Ae),Ge),Object.defineProperty(Ae,"$state",{get:()=>m.state.value[r],set:Ve=>{he(Ze=>{Jv(Ze,Ve)})}}),m._p.forEach(Ve=>{Jv(Ae,x.run(()=>Ve({store:Ae,app:m._a,pinia:m,options:S})))}),G&&p&&u.hydrate&&u.hydrate(Ae.$state,G),I=!0,R=!0,Ae}function dg(r,i,u){let m,b;const p=typeof i=="function";typeof r=="string"?(m=r,b=p?u:i):(b=r,m=r.id);function x(S,M){const I=cie();return S=S||(I?qi(bG,null):null),S&&yM(S),S=pG,S._s.has(m)||(p?yG(m,i,b,S):Hue(m,b,S)),S._s.get(m)}return x.$id=m,x}const Vue=Mue();function $ue(r){r.use(Iue).use(Vue)}var x8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function w8(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,i){(function(u){r.exports=u()})(function(){return function u(m,b,p){function x(I,R){if(!b[I]){if(!m[I]){var z=typeof w8=="function"&&w8;if(!R&&z)return z(I,!0);if(S)return S(I,!0);var U=new Error("Cannot find module '"+I+"'");throw U.code="MODULE_NOT_FOUND",U}var $=b[I]={exports:{}};m[I][0].call($.exports,function(G){var ee=m[I][1][G];return x(ee||G)},$,$.exports,u,m,b,p)}return b[I].exports}for(var S=typeof w8=="function"&&w8,M=0;M<p.length;M++)x(p[M]);return x}({1:[function(u,m,b){(function(p){var x=p.MutationObserver||p.WebKitMutationObserver,S;if(x){var M=0,I=new x(G),R=p.document.createTextNode("");I.observe(R,{characterData:!0}),S=function(){R.data=M=++M%2}}else if(!p.setImmediate&&typeof p.MessageChannel<"u"){var z=new p.MessageChannel;z.port1.onmessage=G,S=function(){z.port2.postMessage(0)}}else"document"in p&&"onreadystatechange"in p.document.createElement("script")?S=function(){var he=p.document.createElement("script");he.onreadystatechange=function(){G(),he.onreadystatechange=null,he.parentNode.removeChild(he),he=null},p.document.documentElement.appendChild(he)}:S=function(){setTimeout(G,0)};var U,$=[];function G(){U=!0;for(var he,me,$e=$.length;$e;){for(me=$,$=[],he=-1;++he<$e;)me[he]();$e=$.length}U=!1}m.exports=ee;function ee(he){$.push(he)===1&&!U&&S()}}).call(this,typeof x8<"u"?x8:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,m,b){var p=u(1);function x(){}var S={},M=["REJECTED"],I=["FULFILLED"],R=["PENDING"];m.exports=z;function z(Ae){if(typeof Ae!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,Ae!==x&&ee(this,Ae)}z.prototype.catch=function(Ae){return this.then(null,Ae)},z.prototype.then=function(Ae,re){if(typeof Ae!="function"&&this.state===I||typeof re!="function"&&this.state===M)return this;var Ge=new this.constructor(x);if(this.state!==R){var Ve=this.state===I?Ae:re;$(Ge,Ve,this.outcome)}else this.queue.push(new U(Ge,Ae,re));return Ge};function U(Ae,re,Ge){this.promise=Ae,typeof re=="function"&&(this.onFulfilled=re,this.callFulfilled=this.otherCallFulfilled),typeof Ge=="function"&&(this.onRejected=Ge,this.callRejected=this.otherCallRejected)}U.prototype.callFulfilled=function(Ae){S.resolve(this.promise,Ae)},U.prototype.otherCallFulfilled=function(Ae){$(this.promise,this.onFulfilled,Ae)},U.prototype.callRejected=function(Ae){S.reject(this.promise,Ae)},U.prototype.otherCallRejected=function(Ae){$(this.promise,this.onRejected,Ae)};function $(Ae,re,Ge){p(function(){var Ve;try{Ve=re(Ge)}catch(Ze){return S.reject(Ae,Ze)}Ve===Ae?S.reject(Ae,new TypeError("Cannot resolve promise with itself")):S.resolve(Ae,Ve)})}S.resolve=function(Ae,re){var Ge=he(G,re);if(Ge.status==="error")return S.reject(Ae,Ge.value);var Ve=Ge.value;if(Ve)ee(Ae,Ve);else{Ae.state=I,Ae.outcome=re;for(var Ze=-1,rt=Ae.queue.length;++Ze<rt;)Ae.queue[Ze].callFulfilled(re)}return Ae},S.reject=function(Ae,re){Ae.state=M,Ae.outcome=re;for(var Ge=-1,Ve=Ae.queue.length;++Ge<Ve;)Ae.queue[Ge].callRejected(re);return Ae};function G(Ae){var re=Ae&&Ae.then;if(Ae&&(typeof Ae=="object"||typeof Ae=="function")&&typeof re=="function")return function(){re.apply(Ae,arguments)}}function ee(Ae,re){var Ge=!1;function Ve(Ne){Ge||(Ge=!0,S.reject(Ae,Ne))}function Ze(Ne){Ge||(Ge=!0,S.resolve(Ae,Ne))}function rt(){re(Ze,Ve)}var Ce=he(rt);Ce.status==="error"&&Ve(Ce.value)}function he(Ae,re){var Ge={};try{Ge.value=Ae(re),Ge.status="success"}catch(Ve){Ge.status="error",Ge.value=Ve}return Ge}z.resolve=me;function me(Ae){return Ae instanceof this?Ae:S.resolve(new this(x),Ae)}z.reject=$e;function $e(Ae){var re=new this(x);return S.reject(re,Ae)}z.all=Te;function Te(Ae){var re=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,Ve=!1;if(!Ge)return this.resolve([]);for(var Ze=new Array(Ge),rt=0,Ce=-1,Ne=new this(x);++Ce<Ge;)D(Ae[Ce],Ce);return Ne;function D(yt,Pt){re.resolve(yt).then(ln,function(gn){Ve||(Ve=!0,S.reject(Ne,gn))});function ln(gn){Ze[Pt]=gn,++rt===Ge&&!Ve&&(Ve=!0,S.resolve(Ne,Ze))}}}z.race=te;function te(Ae){var re=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,Ve=!1;if(!Ge)return this.resolve([]);for(var Ze=-1,rt=new this(x);++Ze<Ge;)Ce(Ae[Ze]);return rt;function Ce(Ne){re.resolve(Ne).then(function(D){Ve||(Ve=!0,S.resolve(rt,D))},function(D){Ve||(Ve=!0,S.reject(rt,D))})}}},{1:1}],3:[function(u,m,b){(function(p){typeof p.Promise!="function"&&(p.Promise=u(2))}).call(this,typeof x8<"u"?x8:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,m,b){var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se};function x(Se,Ye){if(!(Se instanceof Ye))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var M=S();function I(){try{if(!M||!M.open)return!1;var Se=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Se||Ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function R(Se,Ye){Se=Se||[],Ye=Ye||{};try{return new Blob(Se,Ye)}catch(je){if(je.name!=="TypeError")throw je;for(var Re=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,it=new Re,ot=0;ot<Se.length;ot+=1)it.append(Se[ot]);return it.getBlob(Ye.type)}}typeof Promise>"u"&&u(3);var z=Promise;function U(Se,Ye){Ye&&Se.then(function(Re){Ye(null,Re)},function(Re){Ye(Re)})}function $(Se,Ye,Re){typeof Ye=="function"&&Se.then(Ye),typeof Re=="function"&&Se.catch(Re)}function G(Se){return typeof Se!="string"&&(console.warn(Se+" used as a key, but it is not a string."),Se=String(Se)),Se}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var he="local-forage-detect-blob-support",me=void 0,$e={},Te=Object.prototype.toString,te="readonly",Ae="readwrite";function re(Se){for(var Ye=Se.length,Re=new ArrayBuffer(Ye),it=new Uint8Array(Re),ot=0;ot<Ye;ot++)it[ot]=Se.charCodeAt(ot);return Re}function Ge(Se){return new z(function(Ye){var Re=Se.transaction(he,Ae),it=R([""]);Re.objectStore(he).put(it,"key"),Re.onabort=function(ot){ot.preventDefault(),ot.stopPropagation(),Ye(!1)},Re.oncomplete=function(){var ot=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ye(je||!ot||parseInt(ot[1],10)>=43)}}).catch(function(){return!1})}function Ve(Se){return typeof me=="boolean"?z.resolve(me):Ge(Se).then(function(Ye){return me=Ye,me})}function Ze(Se){var Ye=$e[Se.name],Re={};Re.promise=new z(function(it,ot){Re.resolve=it,Re.reject=ot}),Ye.deferredOperations.push(Re),Ye.dbReady?Ye.dbReady=Ye.dbReady.then(function(){return Re.promise}):Ye.dbReady=Re.promise}function rt(Se){var Ye=$e[Se.name],Re=Ye.deferredOperations.pop();if(Re)return Re.resolve(),Re.promise}function Ce(Se,Ye){var Re=$e[Se.name],it=Re.deferredOperations.pop();if(it)return it.reject(Ye),it.promise}function Ne(Se,Ye){return new z(function(Re,it){if($e[Se.name]=$e[Se.name]||bt(),Se.db)if(Ye)Ze(Se),Se.db.close();else return Re(Se.db);var ot=[Se.name];Ye&&ot.push(Se.version);var je=M.open.apply(M,ot);Ye&&(je.onupgradeneeded=function(Lt){var Yt=je.result;try{Yt.createObjectStore(Se.storeName),Lt.oldVersion<=1&&Yt.createObjectStore(he)}catch(nn){if(nn.name==="ConstraintError")console.warn('The database "'+Se.name+'" has been upgraded from version '+Lt.oldVersion+" to version "+Lt.newVersion+', but the storage "'+Se.storeName+'" already exists.');else throw nn}}),je.onerror=function(Lt){Lt.preventDefault(),it(je.error)},je.onsuccess=function(){var Lt=je.result;Lt.onversionchange=function(Yt){Yt.target.close()},Re(Lt),rt(Se)}})}function D(Se){return Ne(Se,!1)}function yt(Se){return Ne(Se,!0)}function Pt(Se,Ye){if(!Se.db)return!0;var Re=!Se.db.objectStoreNames.contains(Se.storeName),it=Se.version<Se.db.version,ot=Se.version>Se.db.version;if(it&&(Se.version!==Ye&&console.warn('The database "'+Se.name+`" can't be downgraded from version `+Se.db.version+" to version "+Se.version+"."),Se.version=Se.db.version),ot||Re){if(Re){var je=Se.db.version+1;je>Se.version&&(Se.version=je)}return!0}return!1}function ln(Se){return new z(function(Ye,Re){var it=new FileReader;it.onerror=Re,it.onloadend=function(ot){var je=btoa(ot.target.result||"");Ye({__local_forage_encoded_blob:!0,data:je,type:Se.type})},it.readAsBinaryString(Se)})}function gn(Se){var Ye=re(atob(Se.data));return R([Ye],{type:Se.type})}function Qe(Se){return Se&&Se.__local_forage_encoded_blob}function On(Se){var Ye=this,Re=Ye._initReady().then(function(){var it=$e[Ye._dbInfo.name];if(it&&it.dbReady)return it.dbReady});return $(Re,Se,Se),Re}function nr(Se){Ze(Se);for(var Ye=$e[Se.name],Re=Ye.forages,it=0;it<Re.length;it++){var ot=Re[it];ot._dbInfo.db&&(ot._dbInfo.db.close(),ot._dbInfo.db=null)}return Se.db=null,D(Se).then(function(je){return Se.db=je,Pt(Se)?yt(Se):je}).then(function(je){Se.db=Ye.db=je;for(var Lt=0;Lt<Re.length;Lt++)Re[Lt]._dbInfo.db=je}).catch(function(je){throw Ce(Se,je),je})}function pt(Se,Ye,Re,it){it===void 0&&(it=1);try{var ot=Se.db.transaction(Se.storeName,Ye);Re(null,ot)}catch(je){if(it>0&&(!Se.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return z.resolve().then(function(){if(!Se.db||je.name==="NotFoundError"&&!Se.db.objectStoreNames.contains(Se.storeName)&&Se.version<=Se.db.version)return Se.db&&(Se.version=Se.db.version+1),yt(Se)}).then(function(){return nr(Se).then(function(){pt(Se,Ye,Re,it-1)})}).catch(Re);Re(je)}}function bt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zt(Se){var Ye=this,Re={db:null};if(Se)for(var it in Se)Re[it]=Se[it];var ot=$e[Re.name];ot||(ot=bt(),$e[Re.name]=ot),ot.forages.push(Ye),Ye._initReady||(Ye._initReady=Ye.ready,Ye.ready=On);var je=[];function Lt(){return z.resolve()}for(var Yt=0;Yt<ot.forages.length;Yt++){var nn=ot.forages[Yt];nn!==Ye&&je.push(nn._initReady().catch(Lt))}var dn=ot.forages.slice(0);return z.all(je).then(function(){return Re.db=ot.db,D(Re)}).then(function(en){return Re.db=en,Pt(Re,Ye._defaultConfig.version)?yt(Re):en}).then(function(en){Re.db=ot.db=en,Ye._dbInfo=Re;for(var ro=0;ro<dn.length;ro++){var Jt=dn[ro];Jt!==Ye&&(Jt._dbInfo.db=Re.db,Jt._dbInfo.version=Re.version)}})}function Ur(Se,Ye){var Re=this;Se=G(Se);var it=new z(function(ot,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),dn=nn.get(Se);dn.onsuccess=function(){var en=dn.result;en===void 0&&(en=null),Qe(en)&&(en=gn(en)),ot(en)},dn.onerror=function(){je(dn.error)}}catch(en){je(en)}})}).catch(je)});return U(it,Ye),it}function ho(Se,Ye){var Re=this,it=new z(function(ot,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),dn=nn.openCursor(),en=1;dn.onsuccess=function(){var ro=dn.result;if(ro){var Jt=ro.value;Qe(Jt)&&(Jt=gn(Jt));var ar=Se(Jt,ro.key,en++);ar!==void 0?ot(ar):ro.continue()}else ot()},dn.onerror=function(){je(dn.error)}}catch(ro){je(ro)}})}).catch(je)});return U(it,Ye),it}function xn(Se,Ye,Re){var it=this;Se=G(Se);var ot=new z(function(je,Lt){var Yt;it.ready().then(function(){return Yt=it._dbInfo,Te.call(Ye)==="[object Blob]"?Ve(Yt.db).then(function(nn){return nn?Ye:ln(Ye)}):Ye}).then(function(nn){pt(it._dbInfo,Ae,function(dn,en){if(dn)return Lt(dn);try{var ro=en.objectStore(it._dbInfo.storeName);nn===null&&(nn=void 0);var Jt=ro.put(nn,Se);en.oncomplete=function(){nn===void 0&&(nn=null),je(nn)},en.onabort=en.onerror=function(){var ar=Jt.error?Jt.error:Jt.transaction.error;Lt(ar)}}catch(ar){Lt(ar)}})}).catch(Lt)});return U(ot,Re),ot}function Rn(Se,Ye){var Re=this;Se=G(Se);var it=new z(function(ot,je){Re.ready().then(function(){pt(Re._dbInfo,Ae,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),dn=nn.delete(Se);Yt.oncomplete=function(){ot()},Yt.onerror=function(){je(dn.error)},Yt.onabort=function(){var en=dn.error?dn.error:dn.transaction.error;je(en)}}catch(en){je(en)}})}).catch(je)});return U(it,Ye),it}function J(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,Ae,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.clear();Lt.oncomplete=function(){it()},Lt.onabort=Lt.onerror=function(){var dn=nn.error?nn.error:nn.transaction.error;ot(dn)}}catch(dn){ot(dn)}})}).catch(ot)});return U(Re,Se),Re}function sr(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.count();nn.onsuccess=function(){it(nn.result)},nn.onerror=function(){ot(nn.error)}}catch(dn){ot(dn)}})}).catch(ot)});return U(Re,Se),Re}function br(Se,Ye){var Re=this,it=new z(function(ot,je){if(Se<0){ot(null);return}Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),dn=!1,en=nn.openKeyCursor();en.onsuccess=function(){var ro=en.result;if(!ro){ot(null);return}Se===0||dn?ot(ro.key):(dn=!0,ro.advance(Se))},en.onerror=function(){je(en.error)}}catch(ro){je(ro)}})}).catch(je)});return U(it,Ye),it}function Ko(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.openKeyCursor(),dn=[];nn.onsuccess=function(){var en=nn.result;if(!en){it(dn);return}dn.push(en.key),en.continue()},nn.onerror=function(){ot(nn.error)}}catch(en){ot(en)}})}).catch(ot)});return U(Re,Se),Re}function oi(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var it=this,ot;if(!Se.name)ot=z.reject("Invalid arguments");else{var je=Se.name===Re.name&&it._dbInfo.db,Lt=je?z.resolve(it._dbInfo.db):D(Se).then(function(Yt){var nn=$e[Se.name],dn=nn.forages;nn.db=Yt;for(var en=0;en<dn.length;en++)dn[en]._dbInfo.db=Yt;return Yt});Se.storeName?ot=Lt.then(function(Yt){if(Yt.objectStoreNames.contains(Se.storeName)){var nn=Yt.version+1;Ze(Se);var dn=$e[Se.name],en=dn.forages;Yt.close();for(var ro=0;ro<en.length;ro++){var Jt=en[ro];Jt._dbInfo.db=null,Jt._dbInfo.version=nn}var ar=new z(function(wo,No){var fs=M.open(Se.name,nn);fs.onerror=function(fo){var hl=fs.result;hl.close(),No(fo)},fs.onupgradeneeded=function(){var fo=fs.result;fo.deleteObjectStore(Se.storeName)},fs.onsuccess=function(){var fo=fs.result;fo.close(),wo(fo)}});return ar.then(function(wo){dn.db=wo;for(var No=0;No<en.length;No++){var fs=en[No];fs._dbInfo.db=wo,rt(fs._dbInfo)}}).catch(function(wo){throw(Ce(Se,wo)||z.resolve()).catch(function(){}),wo})}}):ot=Lt.then(function(Yt){Ze(Se);var nn=$e[Se.name],dn=nn.forages;Yt.close();for(var en=0;en<dn.length;en++){var ro=dn[en];ro._dbInfo.db=null}var Jt=new z(function(ar,wo){var No=M.deleteDatabase(Se.name);No.onerror=function(){var fs=No.result;fs&&fs.close(),wo(No.error)},No.onblocked=function(){console.warn('dropInstance blocked for database "'+Se.name+'" until all open connections are closed')},No.onsuccess=function(){var fs=No.result;fs&&fs.close(),ar(fs)}});return Jt.then(function(ar){nn.db=ar;for(var wo=0;wo<dn.length;wo++){var No=dn[wo];rt(No._dbInfo)}}).catch(function(ar){throw(Ce(Se,ar)||z.resolve()).catch(function(){}),ar})})}return U(ot,Ye),ot}var Ke={_driver:"asyncStorage",_initStorage:Zt,_support:I(),iterate:ho,getItem:Ur,setItem:xn,removeItem:Rn,clear:J,length:sr,key:br,keys:Ko,dropInstance:oi};function le(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me="~~local_forage_type~",ge=/^~~local_forage_type~([^~]+)~/,St="__lfsc__:",$t=St.length,Ct="arbf",zt="blob",It="si08",on="ui08",wn="uic8",Cn="si16",En="si32",ao="ur16",vo="ui32",Ao="fl32",Oo="fl64",Es=$t+Ct.length,ur=Object.prototype.toString;function bi(Se){var Ye=Se.length*.75,Re=Se.length,it,ot=0,je,Lt,Yt,nn;Se[Se.length-1]==="="&&(Ye--,Se[Se.length-2]==="="&&Ye--);var dn=new ArrayBuffer(Ye),en=new Uint8Array(dn);for(it=0;it<Re;it+=4)je=xe.indexOf(Se[it]),Lt=xe.indexOf(Se[it+1]),Yt=xe.indexOf(Se[it+2]),nn=xe.indexOf(Se[it+3]),en[ot++]=je<<2|Lt>>4,en[ot++]=(Lt&15)<<4|Yt>>2,en[ot++]=(Yt&3)<<6|nn&63;return dn}function cn(Se){var Ye=new Uint8Array(Se),Re="",it;for(it=0;it<Ye.length;it+=3)Re+=xe[Ye[it]>>2],Re+=xe[(Ye[it]&3)<<4|Ye[it+1]>>4],Re+=xe[(Ye[it+1]&15)<<2|Ye[it+2]>>6],Re+=xe[Ye[it+2]&63];return Ye.length%3===2?Re=Re.substring(0,Re.length-1)+"=":Ye.length%3===1&&(Re=Re.substring(0,Re.length-2)+"=="),Re}function po(Se,Ye){var Re="";if(Se&&(Re=ur.call(Se)),Se&&(Re==="[object ArrayBuffer]"||Se.buffer&&ur.call(Se.buffer)==="[object ArrayBuffer]")){var it,ot=St;Se instanceof ArrayBuffer?(it=Se,ot+=Ct):(it=Se.buffer,Re==="[object Int8Array]"?ot+=It:Re==="[object Uint8Array]"?ot+=on:Re==="[object Uint8ClampedArray]"?ot+=wn:Re==="[object Int16Array]"?ot+=Cn:Re==="[object Uint16Array]"?ot+=ao:Re==="[object Int32Array]"?ot+=En:Re==="[object Uint32Array]"?ot+=vo:Re==="[object Float32Array]"?ot+=Ao:Re==="[object Float64Array]"?ot+=Oo:Ye(new Error("Failed to get type for BinaryArray"))),Ye(ot+cn(it))}else if(Re==="[object Blob]"){var je=new FileReader;je.onload=function(){var Lt=Me+Se.type+"~"+cn(this.result);Ye(St+zt+Lt)},je.readAsArrayBuffer(Se)}else try{Ye(JSON.stringify(Se))}catch(Lt){console.error("Couldn't convert value into a JSON string: ",Se),Ye(null,Lt)}}function io(Se){if(Se.substring(0,$t)!==St)return JSON.parse(Se);var Ye=Se.substring(Es),Re=Se.substring($t,Es),it;if(Re===zt&&ge.test(Ye)){var ot=Ye.match(ge);it=ot[1],Ye=Ye.substring(ot[0].length)}var je=bi(Ye);switch(Re){case Ct:return je;case zt:return R([je],{type:it});case It:return new Int8Array(je);case on:return new Uint8Array(je);case wn:return new Uint8ClampedArray(je);case Cn:return new Int16Array(je);case ao:return new Uint16Array(je);case En:return new Int32Array(je);case vo:return new Uint32Array(je);case Ao:return new Float32Array(je);case Oo:return new Float64Array(je);default:throw new Error("Unkown type: "+Re)}}var Wr={serialize:po,deserialize:io,stringToBuffer:bi,bufferToString:cn};function Pa(Se,Ye,Re,it){Se.executeSql("CREATE TABLE IF NOT EXISTS "+Ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Re,it)}function Vt(Se){var Ye=this,Re={db:null};if(Se)for(var it in Se)Re[it]=typeof Se[it]!="string"?Se[it].toString():Se[it];var ot=new z(function(je,Lt){try{Re.db=openDatabase(Re.name,String(Re.version),Re.description,Re.size)}catch(Yt){return Lt(Yt)}Re.db.transaction(function(Yt){Pa(Yt,Re,function(){Ye._dbInfo=Re,je()},function(nn,dn){Lt(dn)})},Lt)});return Re.serializer=Wr,ot}function Ys(Se,Ye,Re,it,ot,je){Se.executeSql(Re,it,ot,function(Lt,Yt){Yt.code===Yt.SYNTAX_ERR?Lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ye.storeName],function(nn,dn){dn.rows.length?je(nn,Yt):Pa(nn,Ye,function(){nn.executeSql(Re,it,ot,je)},je)},je):je(Lt,Yt)},je)}function Uo(Se,Ye){var Re=this;Se=G(Se);var it=new z(function(ot,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT * FROM "+Lt.storeName+" WHERE key = ? LIMIT 1",[Se],function(nn,dn){var en=dn.rows.length?dn.rows.item(0).value:null;en&&(en=Lt.serializer.deserialize(en)),ot(en)},function(nn,dn){je(dn)})})}).catch(je)});return U(it,Ye),it}function kl(Se,Ye){var Re=this,it=new z(function(ot,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT * FROM "+Lt.storeName,[],function(nn,dn){for(var en=dn.rows,ro=en.length,Jt=0;Jt<ro;Jt++){var ar=en.item(Jt),wo=ar.value;if(wo&&(wo=Lt.serializer.deserialize(wo)),wo=Se(wo,ar.key,Jt+1),wo!==void 0){ot(wo);return}}ot()},function(nn,dn){je(dn)})})}).catch(je)});return U(it,Ye),it}function Tr(Se,Ye,Re,it){var ot=this;Se=G(Se);var je=new z(function(Lt,Yt){ot.ready().then(function(){Ye===void 0&&(Ye=null);var nn=Ye,dn=ot._dbInfo;dn.serializer.serialize(Ye,function(en,ro){ro?Yt(ro):dn.db.transaction(function(Jt){Ys(Jt,dn,"INSERT OR REPLACE INTO "+dn.storeName+" (key, value) VALUES (?, ?)",[Se,en],function(){Lt(nn)},function(ar,wo){Yt(wo)})},function(Jt){if(Jt.code===Jt.QUOTA_ERR){if(it>0){Lt(Tr.apply(ot,[Se,nn,Re,it-1]));return}Yt(Jt)}})})}).catch(Yt)});return U(je,Re),je}function zs(Se,Ye,Re){return Tr.apply(this,[Se,Ye,Re,1])}function qf(Se,Ye){var Re=this;Se=G(Se);var it=new z(function(ot,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"DELETE FROM "+Lt.storeName+" WHERE key = ?",[Se],function(){ot()},function(nn,dn){je(dn)})})}).catch(je)});return U(it,Ye),it}function du(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"DELETE FROM "+je.storeName,[],function(){it()},function(Yt,nn){ot(nn)})})}).catch(ot)});return U(Re,Se),Re}function ec(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(Yt,nn){var dn=nn.rows.item(0).c;it(dn)},function(Yt,nn){ot(nn)})})}).catch(ot)});return U(Re,Se),Re}function Xi(Se,Ye){var Re=this,it=new z(function(ot,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT key FROM "+Lt.storeName+" WHERE id = ? LIMIT 1",[Se+1],function(nn,dn){var en=dn.rows.length?dn.rows.item(0).key:null;ot(en)},function(nn,dn){je(dn)})})}).catch(je)});return U(it,Ye),it}function fu(Se){var Ye=this,Re=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"SELECT key FROM "+je.storeName,[],function(Yt,nn){for(var dn=[],en=0;en<nn.rows.length;en++)dn.push(nn.rows.item(en).key);it(dn)},function(Yt,nn){ot(nn)})})}).catch(ot)});return U(Re,Se),Re}function dr(Se){return new z(function(Ye,Re){Se.transaction(function(it){it.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ot,je){for(var Lt=[],Yt=0;Yt<je.rows.length;Yt++)Lt.push(je.rows.item(Yt).name);Ye({db:Se,storeNames:Lt})},function(ot,je){Re(je)})},function(it){Re(it)})})}function Gn(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var it=this,ot;return Se.name?ot=new z(function(je){var Lt;Se.name===Re.name?Lt=it._dbInfo.db:Lt=openDatabase(Se.name,"","",0),Se.storeName?je({db:Lt,storeNames:[Se.storeName]}):je(dr(Lt))}).then(function(je){return new z(function(Lt,Yt){je.db.transaction(function(nn){function dn(ar){return new z(function(wo,No){nn.executeSql("DROP TABLE IF EXISTS "+ar,[],function(){wo()},function(fs,fo){No(fo)})})}for(var en=[],ro=0,Jt=je.storeNames.length;ro<Jt;ro++)en.push(dn(je.storeNames[ro]));z.all(en).then(function(){Lt()}).catch(function(ar){Yt(ar)})},function(nn){Yt(nn)})})}):ot=z.reject("Invalid arguments"),U(ot,Ye),ot}var El={_driver:"webSQLStorage",_initStorage:Vt,_support:le(),iterate:kl,getItem:Uo,setItem:zs,removeItem:qf,clear:du,length:ec,key:Xi,keys:fu,dropInstance:Gn};function ca(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function mu(Se,Ye){var Re=Se.name+"/";return Se.storeName!==Ye.storeName&&(Re+=Se.storeName+"/"),Re}function Qt(){var Se="_localforage_support_test";try{return localStorage.setItem(Se,!0),localStorage.removeItem(Se),!1}catch{return!0}}function gu(){return!Qt()||localStorage.length>0}function Gf(Se){var Ye=this,Re={};if(Se)for(var it in Se)Re[it]=Se[it];return Re.keyPrefix=mu(Se,Ye._defaultConfig),gu()?(Ye._dbInfo=Re,Re.serializer=Wr,z.resolve()):z.reject()}function ts(Se){var Ye=this,Re=Ye.ready().then(function(){for(var it=Ye._dbInfo.keyPrefix,ot=localStorage.length-1;ot>=0;ot--){var je=localStorage.key(ot);je.indexOf(it)===0&&localStorage.removeItem(je)}});return U(Re,Se),Re}function Yf(Se,Ye){var Re=this;Se=G(Se);var it=Re.ready().then(function(){var ot=Re._dbInfo,je=localStorage.getItem(ot.keyPrefix+Se);return je&&(je=ot.serializer.deserialize(je)),je});return U(it,Ye),it}function Ni(Se,Ye){var Re=this,it=Re.ready().then(function(){for(var ot=Re._dbInfo,je=ot.keyPrefix,Lt=je.length,Yt=localStorage.length,nn=1,dn=0;dn<Yt;dn++){var en=localStorage.key(dn);if(en.indexOf(je)===0){var ro=localStorage.getItem(en);if(ro&&(ro=ot.serializer.deserialize(ro)),ro=Se(ro,en.substring(Lt),nn++),ro!==void 0)return ro}}});return U(it,Ye),it}function ml(Se,Ye){var Re=this,it=Re.ready().then(function(){var ot=Re._dbInfo,je;try{je=localStorage.key(Se)}catch{je=null}return je&&(je=je.substring(ot.keyPrefix.length)),je});return U(it,Ye),it}function Ji(Se){var Ye=this,Re=Ye.ready().then(function(){for(var it=Ye._dbInfo,ot=localStorage.length,je=[],Lt=0;Lt<ot;Lt++){var Yt=localStorage.key(Lt);Yt.indexOf(it.keyPrefix)===0&&je.push(Yt.substring(it.keyPrefix.length))}return je});return U(Re,Se),Re}function Kr(Se){var Ye=this,Re=Ye.keys().then(function(it){return it.length});return U(Re,Se),Re}function ri(Se,Ye){var Re=this;Se=G(Se);var it=Re.ready().then(function(){var ot=Re._dbInfo;localStorage.removeItem(ot.keyPrefix+Se)});return U(it,Ye),it}function gl(Se,Ye,Re){var it=this;Se=G(Se);var ot=it.ready().then(function(){Ye===void 0&&(Ye=null);var je=Ye;return new z(function(Lt,Yt){var nn=it._dbInfo;nn.serializer.serialize(Ye,function(dn,en){if(en)Yt(en);else try{localStorage.setItem(nn.keyPrefix+Se,dn),Lt(je)}catch(ro){(ro.name==="QuotaExceededError"||ro.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Yt(ro),Yt(ro)}})})});return U(ot,Re),ot}function Xf(Se,Ye){if(Ye=ee.apply(this,arguments),Se=typeof Se!="function"&&Se||{},!Se.name){var Re=this.config();Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName}var it=this,ot;return Se.name?ot=new z(function(je){Se.storeName?je(mu(Se,it._defaultConfig)):je(Se.name+"/")}).then(function(je){for(var Lt=localStorage.length-1;Lt>=0;Lt--){var Yt=localStorage.key(Lt);Yt.indexOf(je)===0&&localStorage.removeItem(Yt)}}):ot=z.reject("Invalid arguments"),U(ot,Ye),ot}var Rc={_driver:"localStorageWrapper",_initStorage:Gf,_support:ca(),iterate:Ni,getItem:Yf,setItem:gl,removeItem:ri,clear:ts,length:Kr,key:ml,keys:Ji,dropInstance:Xf},Nc=function(Ye,Re){return Ye===Re||typeof Ye=="number"&&typeof Re=="number"&&isNaN(Ye)&&isNaN(Re)},zd=function(Ye,Re){for(var it=Ye.length,ot=0;ot<it;){if(Nc(Ye[ot],Re))return!0;ot++}return!1},Xu=Array.isArray||function(Se){return Object.prototype.toString.call(Se)==="[object Array]"},Wo={},xs={},Zs={INDEXEDDB:Ke,WEBSQL:El,LOCALSTORAGE:Rc},Jf=[Zs.INDEXEDDB._driver,Zs.WEBSQL._driver,Zs.LOCALSTORAGE._driver],Ii=["dropInstance"],Ic=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ii),si={description:"",driver:Jf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ai(Se,Ye){Se[Ye]=function(){var Re=arguments;return Se.ready().then(function(){return Se[Ye].apply(Se,Re)})}}function Bc(){for(var Se=1;Se<arguments.length;Se++){var Ye=arguments[Se];if(Ye)for(var Re in Ye)Ye.hasOwnProperty(Re)&&(Xu(Ye[Re])?arguments[0][Re]=Ye[Re].slice():arguments[0][Re]=Ye[Re])}return arguments[0]}var vr=function(){function Se(Ye){x(this,Se);for(var Re in Zs)if(Zs.hasOwnProperty(Re)){var it=Zs[Re],ot=it._driver;this[Re]=ot,Wo[ot]||this.defineDriver(it)}this._defaultConfig=Bc({},si),this._config=Bc({},this._defaultConfig,Ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Se.prototype.config=function(Re){if((typeof Re>"u"?"undefined":p(Re))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var it in Re){if(it==="storeName"&&(Re[it]=Re[it].replace(/\W/g,"_")),it==="version"&&typeof Re[it]!="number")return new Error("Database version must be a number.");this._config[it]=Re[it]}return"driver"in Re&&Re.driver?this.setDriver(this._config.driver):!0}else return typeof Re=="string"?this._config[Re]:this._config},Se.prototype.defineDriver=function(Re,it,ot){var je=new z(function(Lt,Yt){try{var nn=Re._driver,dn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Re._driver){Yt(dn);return}for(var en=Ic.concat("_initStorage"),ro=0,Jt=en.length;ro<Jt;ro++){var ar=en[ro],wo=!zd(Ii,ar);if((wo||Re[ar])&&typeof Re[ar]!="function"){Yt(dn);return}}var No=function(){for(var hl=function(as){return function(){var Ju=new Error("Method "+as+" is not implemented by the current driver"),As=z.reject(Ju);return U(As,arguments[arguments.length-1]),As}},La=0,Jn=Ii.length;La<Jn;La++){var Bi=Ii[La];Re[Bi]||(Re[Bi]=hl(Bi))}};No();var fs=function(hl){Wo[nn]&&console.info("Redefining LocalForage driver: "+nn),Wo[nn]=Re,xs[nn]=hl,Lt()};"_support"in Re?Re._support&&typeof Re._support=="function"?Re._support().then(fs,Yt):fs(!!Re._support):fs(!0)}catch(fo){Yt(fo)}});return $(je,it,ot),je},Se.prototype.driver=function(){return this._driver||null},Se.prototype.getDriver=function(Re,it,ot){var je=Wo[Re]?z.resolve(Wo[Re]):z.reject(new Error("Driver not found."));return $(je,it,ot),je},Se.prototype.getSerializer=function(Re){var it=z.resolve(Wr);return $(it,Re),it},Se.prototype.ready=function(Re){var it=this,ot=it._driverSet.then(function(){return it._ready===null&&(it._ready=it._initDriver()),it._ready});return $(ot,Re,Re),ot},Se.prototype.setDriver=function(Re,it,ot){var je=this;Xu(Re)||(Re=[Re]);var Lt=this._getSupportedDrivers(Re);function Yt(){je._config.driver=je.driver()}function nn(ro){return je._extend(ro),Yt(),je._ready=je._initStorage(je._config),je._ready}function dn(ro){return function(){var Jt=0;function ar(){for(;Jt<ro.length;){var wo=ro[Jt];return Jt++,je._dbInfo=null,je._ready=null,je.getDriver(wo).then(nn).catch(ar)}Yt();var No=new Error("No available storage method found.");return je._driverSet=z.reject(No),je._driverSet}return ar()}}var en=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=en.then(function(){var ro=Lt[0];return je._dbInfo=null,je._ready=null,je.getDriver(ro).then(function(Jt){je._driver=Jt._driver,Yt(),je._wrapLibraryMethodsWithReady(),je._initDriver=dn(Lt)})}).catch(function(){Yt();var ro=new Error("No available storage method found.");return je._driverSet=z.reject(ro),je._driverSet}),$(this._driverSet,it,ot),this._driverSet},Se.prototype.supports=function(Re){return!!xs[Re]},Se.prototype._extend=function(Re){Bc(this,Re)},Se.prototype._getSupportedDrivers=function(Re){for(var it=[],ot=0,je=Re.length;ot<je;ot++){var Lt=Re[ot];this.supports(Lt)&&it.push(Lt)}return it},Se.prototype._wrapLibraryMethodsWithReady=function(){for(var Re=0,it=Ic.length;Re<it;Re++)ai(this,Ic[Re])},Se.prototype.createInstance=function(Re){return new Se(Re)},Se}(),qr=new vr;m.exports=qr},{3:3}]},{},[4])(4)})})(xG);var Uue=xG.exports;const Up=xM(Uue);function wG(r,i){return function(){return r.apply(i,arguments)}}const{toString:Wue}=Object.prototype,{getPrototypeOf:WV}=Object,wM=(r=>i=>{const u=Wue.call(i);return r[u]||(r[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),yh=r=>(r=r.toLowerCase(),i=>wM(i)===r),CM=r=>i=>typeof i===r,{isArray:fk}=Array,eO=CM("undefined");function Zue(r){return r!==null&&!eO(r)&&r.constructor!==null&&!eO(r.constructor)&&Uf(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const CG=yh("ArrayBuffer");function jue(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&CG(r.buffer),i}const Kue=CM("string"),Uf=CM("function"),_G=CM("number"),_M=r=>r!==null&&typeof r=="object",que=r=>r===!0||r===!1,P8=r=>{if(wM(r)!=="object")return!1;const i=WV(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Gue=yh("Date"),Yue=yh("File"),Xue=yh("Blob"),Jue=yh("FileList"),Que=r=>_M(r)&&Uf(r.pipe),ede=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||Uf(r.append)&&((i=wM(r))==="formdata"||i==="object"&&Uf(r.toString)&&r.toString()==="[object FormData]"))},tde=yh("URLSearchParams"),[nde,ode,rde,sde]=["ReadableStream","Request","Response","Headers"].map(yh),ade=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uO(r,i,{allOwnKeys:u=!1}={}){if(r===null||typeof r>"u")return;let m,b;if(typeof r!="object"&&(r=[r]),fk(r))for(m=0,b=r.length;m<b;m++)i.call(null,r[m],m,r);else{const p=u?Object.getOwnPropertyNames(r):Object.keys(r),x=p.length;let S;for(m=0;m<x;m++)S=p[m],i.call(null,r[S],S,r)}}function SG(r,i){i=i.toLowerCase();const u=Object.keys(r);let m=u.length,b;for(;m-- >0;)if(b=u[m],i===b.toLowerCase())return b;return null}const Sw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kG=r=>!eO(r)&&r!==Sw;function qH(){const{caseless:r}=kG(this)&&this||{},i={},u=(m,b)=>{const p=r&&SG(i,b)||b;P8(i[p])&&P8(m)?i[p]=qH(i[p],m):P8(m)?i[p]=qH({},m):fk(m)?i[p]=m.slice():i[p]=m};for(let m=0,b=arguments.length;m<b;m++)arguments[m]&&uO(arguments[m],u);return i}const ide=(r,i,u,{allOwnKeys:m}={})=>(uO(i,(b,p)=>{u&&Uf(b)?r[p]=wG(b,u):r[p]=b},{allOwnKeys:m}),r),lde=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),cde=(r,i,u,m)=>{r.prototype=Object.create(i.prototype,m),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),u&&Object.assign(r.prototype,u)},ude=(r,i,u,m)=>{let b,p,x;const S={};if(i=i||{},r==null)return i;do{for(b=Object.getOwnPropertyNames(r),p=b.length;p-- >0;)x=b[p],(!m||m(x,r,i))&&!S[x]&&(i[x]=r[x],S[x]=!0);r=u!==!1&&WV(r)}while(r&&(!u||u(r,i))&&r!==Object.prototype);return i},dde=(r,i,u)=>{r=String(r),(u===void 0||u>r.length)&&(u=r.length),u-=i.length;const m=r.indexOf(i,u);return m!==-1&&m===u},fde=r=>{if(!r)return null;if(fk(r))return r;let i=r.length;if(!_G(i))return null;const u=new Array(i);for(;i-- >0;)u[i]=r[i];return u},mde=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&WV(Uint8Array)),gde=(r,i)=>{const m=(r&&r[Symbol.iterator]).call(r);let b;for(;(b=m.next())&&!b.done;){const p=b.value;i.call(r,p[0],p[1])}},hde=(r,i)=>{let u;const m=[];for(;(u=r.exec(i))!==null;)m.push(u);return m},pde=yh("HTMLFormElement"),bde=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,m,b){return m.toUpperCase()+b}),Bj=(({hasOwnProperty:r})=>(i,u)=>r.call(i,u))(Object.prototype),vde=yh("RegExp"),EG=(r,i)=>{const u=Object.getOwnPropertyDescriptors(r),m={};uO(u,(b,p)=>{let x;(x=i(b,p,r))!==!1&&(m[p]=x||b)}),Object.defineProperties(r,m)},yde=r=>{EG(r,(i,u)=>{if(Uf(r)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const m=r[u];if(Uf(m)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},xde=(r,i)=>{const u={},m=b=>{b.forEach(p=>{u[p]=!0})};return fk(r)?m(r):m(String(r).split(i)),u},wde=()=>{},Cde=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i,lH="abcdefghijklmnopqrstuvwxyz",Mj="0123456789",AG={DIGIT:Mj,ALPHA:lH,ALPHA_DIGIT:lH+lH.toUpperCase()+Mj},_de=(r=16,i=AG.ALPHA_DIGIT)=>{let u="";const{length:m}=i;for(;r--;)u+=i[Math.random()*m|0];return u};function Sde(r){return!!(r&&Uf(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const kde=r=>{const i=new Array(10),u=(m,b)=>{if(_M(m)){if(i.indexOf(m)>=0)return;if(!("toJSON"in m)){i[b]=m;const p=fk(m)?[]:{};return uO(m,(x,S)=>{const M=u(x,b+1);!eO(M)&&(p[S]=M)}),i[b]=void 0,p}}return m};return u(r,0)},Ede=yh("AsyncFunction"),Ade=r=>r&&(_M(r)||Uf(r))&&Uf(r.then)&&Uf(r.catch),TG=((r,i)=>r?setImmediate:i?((u,m)=>(Sw.addEventListener("message",({source:b,data:p})=>{b===Sw&&p===u&&m.length&&m.shift()()},!1),b=>{m.push(b),Sw.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",Uf(Sw.postMessage)),Tde=typeof queueMicrotask<"u"?queueMicrotask.bind(Sw):typeof process<"u"&&process.nextTick||TG,Ht={isArray:fk,isArrayBuffer:CG,isBuffer:Zue,isFormData:ede,isArrayBufferView:jue,isString:Kue,isNumber:_G,isBoolean:que,isObject:_M,isPlainObject:P8,isReadableStream:nde,isRequest:ode,isResponse:rde,isHeaders:sde,isUndefined:eO,isDate:Gue,isFile:Yue,isBlob:Xue,isRegExp:vde,isFunction:Uf,isStream:Que,isURLSearchParams:tde,isTypedArray:mde,isFileList:Jue,forEach:uO,merge:qH,extend:ide,trim:ade,stripBOM:lde,inherits:cde,toFlatObject:ude,kindOf:wM,kindOfTest:yh,endsWith:dde,toArray:fde,forEachEntry:gde,matchAll:hde,isHTMLForm:pde,hasOwnProperty:Bj,hasOwnProp:Bj,reduceDescriptors:EG,freezeMethods:yde,toObjectSet:xde,toCamelCase:bde,noop:wde,toFiniteNumber:Cde,findKey:SG,global:Sw,isContextDefined:kG,ALPHABET:AG,generateString:_de,isSpecCompliantForm:Sde,toJSONObject:kde,isAsyncFn:Ede,isThenable:Ade,setImmediate:TG,asap:Tde};function Dr(r,i,u,m,b){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),u&&(this.config=u),m&&(this.request=m),b&&(this.response=b,this.status=b.status?b.status:null)}Ht.inherits(Dr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const OG=Dr.prototype,DG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{DG[r]={value:r}});Object.defineProperties(Dr,DG);Object.defineProperty(OG,"isAxiosError",{value:!0});Dr.from=(r,i,u,m,b,p)=>{const x=Object.create(OG);return Ht.toFlatObject(r,x,function(M){return M!==Error.prototype},S=>S!=="isAxiosError"),Dr.call(x,r.message,i,u,m,b),x.cause=r,x.name=r.name,p&&Object.assign(x,p),x};const Ode=null;function GH(r){return Ht.isPlainObject(r)||Ht.isArray(r)}function RG(r){return Ht.endsWith(r,"[]")?r.slice(0,-2):r}function Pj(r,i,u){return r?r.concat(i).map(function(b,p){return b=RG(b),!u&&p?"["+b+"]":b}).join(u?".":""):i}function Dde(r){return Ht.isArray(r)&&!r.some(GH)}const Rde=Ht.toFlatObject(Ht,{},null,function(i){return/^is[A-Z]/.test(i)});function SM(r,i,u){if(!Ht.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,u=Ht.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,he){return!Ht.isUndefined(he[ee])});const m=u.metaTokens,b=u.visitor||R,p=u.dots,x=u.indexes,M=(u.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(i);if(!Ht.isFunction(b))throw new TypeError("visitor must be a function");function I(G){if(G===null)return"";if(Ht.isDate(G))return G.toISOString();if(!M&&Ht.isBlob(G))throw new Dr("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(G)||Ht.isTypedArray(G)?M&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function R(G,ee,he){let me=G;if(G&&!he&&typeof G=="object"){if(Ht.endsWith(ee,"{}"))ee=m?ee:ee.slice(0,-2),G=JSON.stringify(G);else if(Ht.isArray(G)&&Dde(G)||(Ht.isFileList(G)||Ht.endsWith(ee,"[]"))&&(me=Ht.toArray(G)))return ee=RG(ee),me.forEach(function(Te,te){!(Ht.isUndefined(Te)||Te===null)&&i.append(x===!0?Pj([ee],te,p):x===null?ee:ee+"[]",I(Te))}),!1}return GH(G)?!0:(i.append(Pj(he,ee,p),I(G)),!1)}const z=[],U=Object.assign(Rde,{defaultVisitor:R,convertValue:I,isVisitable:GH});function $(G,ee){if(!Ht.isUndefined(G)){if(z.indexOf(G)!==-1)throw Error("Circular reference detected in "+ee.join("."));z.push(G),Ht.forEach(G,function(me,$e){(!(Ht.isUndefined(me)||me===null)&&b.call(i,me,Ht.isString($e)?$e.trim():$e,ee,U))===!0&&$(me,ee?ee.concat($e):[$e])}),z.pop()}}if(!Ht.isObject(r))throw new TypeError("data must be an object");return $(r),i}function Lj(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(m){return i[m]})}function ZV(r,i){this._pairs=[],r&&SM(r,this,i)}const NG=ZV.prototype;NG.append=function(i,u){this._pairs.push([i,u])};NG.toString=function(i){const u=i?function(m){return i.call(this,m,Lj)}:Lj;return this._pairs.map(function(b){return u(b[0])+"="+u(b[1])},"").join("&")};function Nde(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IG(r,i,u){if(!i)return r;const m=u&&u.encode||Nde,b=u&&u.serialize;let p;if(b?p=b(i,u):p=Ht.isURLSearchParams(i)?i.toString():new ZV(i,u).toString(m),p){const x=r.indexOf("#");x!==-1&&(r=r.slice(0,x)),r+=(r.indexOf("?")===-1?"?":"&")+p}return r}class Fj{constructor(){this.handlers=[]}use(i,u,m){return this.handlers.push({fulfilled:i,rejected:u,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ht.forEach(this.handlers,function(m){m!==null&&i(m)})}}const BG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ide=typeof URLSearchParams<"u"?URLSearchParams:ZV,Bde=typeof FormData<"u"?FormData:null,Mde=typeof Blob<"u"?Blob:null,Pde={isBrowser:!0,classes:{URLSearchParams:Ide,FormData:Bde,Blob:Mde},protocols:["http","https","file","blob","url","data"]},jV=typeof window<"u"&&typeof document<"u",YH=typeof navigator=="object"&&navigator||void 0,Lde=jV&&(!YH||["ReactNative","NativeScript","NS"].indexOf(YH.product)<0),Fde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zde=jV&&window.location.href||"http://localhost",Hde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jV,hasStandardBrowserEnv:Lde,hasStandardBrowserWebWorkerEnv:Fde,navigator:YH,origin:zde},Symbol.toStringTag,{value:"Module"})),Md={...Hde,...Pde};function Vde(r,i){return SM(r,new Md.classes.URLSearchParams,Object.assign({visitor:function(u,m,b,p){return Md.isNode&&Ht.isBuffer(u)?(this.append(m,u.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},i))}function $de(r){return Ht.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Ude(r){const i={},u=Object.keys(r);let m;const b=u.length;let p;for(m=0;m<b;m++)p=u[m],i[p]=r[p];return i}function MG(r){function i(u,m,b,p){let x=u[p++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),M=p>=u.length;return x=!x&&Ht.isArray(b)?b.length:x,M?(Ht.hasOwnProp(b,x)?b[x]=[b[x],m]:b[x]=m,!S):((!b[x]||!Ht.isObject(b[x]))&&(b[x]=[]),i(u,m,b[x],p)&&Ht.isArray(b[x])&&(b[x]=Ude(b[x])),!S)}if(Ht.isFormData(r)&&Ht.isFunction(r.entries)){const u={};return Ht.forEachEntry(r,(m,b)=>{i($de(m),b,u,0)}),u}return null}function Wde(r,i,u){if(Ht.isString(r))try{return(i||JSON.parse)(r),Ht.trim(r)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(r)}const dO={transitional:BG,adapter:["xhr","http","fetch"],transformRequest:[function(i,u){const m=u.getContentType()||"",b=m.indexOf("application/json")>-1,p=Ht.isObject(i);if(p&&Ht.isHTMLForm(i)&&(i=new FormData(i)),Ht.isFormData(i))return b?JSON.stringify(MG(i)):i;if(Ht.isArrayBuffer(i)||Ht.isBuffer(i)||Ht.isStream(i)||Ht.isFile(i)||Ht.isBlob(i)||Ht.isReadableStream(i))return i;if(Ht.isArrayBufferView(i))return i.buffer;if(Ht.isURLSearchParams(i))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let S;if(p){if(m.indexOf("application/x-www-form-urlencoded")>-1)return Vde(i,this.formSerializer).toString();if((S=Ht.isFileList(i))||m.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return SM(S?{"files[]":i}:i,M&&new M,this.formSerializer)}}return p||b?(u.setContentType("application/json",!1),Wde(i)):i}],transformResponse:[function(i){const u=this.transitional||dO.transitional,m=u&&u.forcedJSONParsing,b=this.responseType==="json";if(Ht.isResponse(i)||Ht.isReadableStream(i))return i;if(i&&Ht.isString(i)&&(m&&!this.responseType||b)){const x=!(u&&u.silentJSONParsing)&&b;try{return JSON.parse(i)}catch(S){if(x)throw S.name==="SyntaxError"?Dr.from(S,Dr.ERR_BAD_RESPONSE,this,null,this.response):S}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Md.classes.FormData,Blob:Md.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],r=>{dO.headers[r]={}});const Zde=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jde=r=>{const i={};let u,m,b;return r&&r.split(`
`).forEach(function(x){b=x.indexOf(":"),u=x.substring(0,b).trim().toLowerCase(),m=x.substring(b+1).trim(),!(!u||i[u]&&Zde[u])&&(u==="set-cookie"?i[u]?i[u].push(m):i[u]=[m]:i[u]=i[u]?i[u]+", "+m:m)}),i},zj=Symbol("internals");function HT(r){return r&&String(r).trim().toLowerCase()}function L8(r){return r===!1||r==null?r:Ht.isArray(r)?r.map(L8):String(r)}function Kde(r){const i=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=u.exec(r);)i[m[1]]=m[2];return i}const qde=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function cH(r,i,u,m,b){if(Ht.isFunction(m))return m.call(this,i,u);if(b&&(i=u),!!Ht.isString(i)){if(Ht.isString(m))return i.indexOf(m)!==-1;if(Ht.isRegExp(m))return m.test(i)}}function Gde(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,u,m)=>u.toUpperCase()+m)}function Yde(r,i){const u=Ht.toCamelCase(" "+i);["get","set","has"].forEach(m=>{Object.defineProperty(r,m+u,{value:function(b,p,x){return this[m].call(this,i,b,p,x)},configurable:!0})})}class Pd{constructor(i){i&&this.set(i)}set(i,u,m){const b=this;function p(S,M,I){const R=HT(M);if(!R)throw new Error("header name must be a non-empty string");const z=Ht.findKey(b,R);(!z||b[z]===void 0||I===!0||I===void 0&&b[z]!==!1)&&(b[z||M]=L8(S))}const x=(S,M)=>Ht.forEach(S,(I,R)=>p(I,R,M));if(Ht.isPlainObject(i)||i instanceof this.constructor)x(i,u);else if(Ht.isString(i)&&(i=i.trim())&&!qde(i))x(jde(i),u);else if(Ht.isHeaders(i))for(const[S,M]of i.entries())p(M,S,m);else i!=null&&p(u,i,m);return this}get(i,u){if(i=HT(i),i){const m=Ht.findKey(this,i);if(m){const b=this[m];if(!u)return b;if(u===!0)return Kde(b);if(Ht.isFunction(u))return u.call(this,b,m);if(Ht.isRegExp(u))return u.exec(b);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,u){if(i=HT(i),i){const m=Ht.findKey(this,i);return!!(m&&this[m]!==void 0&&(!u||cH(this,this[m],m,u)))}return!1}delete(i,u){const m=this;let b=!1;function p(x){if(x=HT(x),x){const S=Ht.findKey(m,x);S&&(!u||cH(m,m[S],S,u))&&(delete m[S],b=!0)}}return Ht.isArray(i)?i.forEach(p):p(i),b}clear(i){const u=Object.keys(this);let m=u.length,b=!1;for(;m--;){const p=u[m];(!i||cH(this,this[p],p,i,!0))&&(delete this[p],b=!0)}return b}normalize(i){const u=this,m={};return Ht.forEach(this,(b,p)=>{const x=Ht.findKey(m,p);if(x){u[x]=L8(b),delete u[p];return}const S=i?Gde(p):String(p).trim();S!==p&&delete u[p],u[S]=L8(b),m[S]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const u=Object.create(null);return Ht.forEach(this,(m,b)=>{m!=null&&m!==!1&&(u[b]=i&&Ht.isArray(m)?m.join(", "):m)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,u])=>i+": "+u).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...u){const m=new this(i);return u.forEach(b=>m.set(b)),m}static accessor(i){const m=(this[zj]=this[zj]={accessors:{}}).accessors,b=this.prototype;function p(x){const S=HT(x);m[S]||(Yde(b,x),m[S]=!0)}return Ht.isArray(i)?i.forEach(p):p(i),this}}Pd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(Pd.prototype,({value:r},i)=>{let u=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(m){this[u]=m}}});Ht.freezeMethods(Pd);function uH(r,i){const u=this||dO,m=i||u,b=Pd.from(m.headers);let p=m.data;return Ht.forEach(r,function(S){p=S.call(u,p,b.normalize(),i?i.status:void 0)}),b.normalize(),p}function PG(r){return!!(r&&r.__CANCEL__)}function mk(r,i,u){Dr.call(this,r??"canceled",Dr.ERR_CANCELED,i,u),this.name="CanceledError"}Ht.inherits(mk,Dr,{__CANCEL__:!0});function LG(r,i,u){const m=u.config.validateStatus;!u.status||!m||m(u.status)?r(u):i(new Dr("Request failed with status code "+u.status,[Dr.ERR_BAD_REQUEST,Dr.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Xde(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function Jde(r,i){r=r||10;const u=new Array(r),m=new Array(r);let b=0,p=0,x;return i=i!==void 0?i:1e3,function(M){const I=Date.now(),R=m[p];x||(x=I),u[b]=M,m[b]=I;let z=p,U=0;for(;z!==b;)U+=u[z++],z=z%r;if(b=(b+1)%r,b===p&&(p=(p+1)%r),I-x<i)return;const $=R&&I-R;return $?Math.round(U*1e3/$):void 0}}function Qde(r,i){let u=0,m=1e3/i,b,p;const x=(I,R=Date.now())=>{u=R,b=null,p&&(clearTimeout(p),p=null),r.apply(null,I)};return[(...I)=>{const R=Date.now(),z=R-u;z>=m?x(I,R):(b=I,p||(p=setTimeout(()=>{p=null,x(b)},m-z)))},()=>b&&x(b)]}const Q8=(r,i,u=3)=>{let m=0;const b=Jde(50,250);return Qde(p=>{const x=p.loaded,S=p.lengthComputable?p.total:void 0,M=x-m,I=b(M),R=x<=S;m=x;const z={loaded:x,total:S,progress:S?x/S:void 0,bytes:M,rate:I||void 0,estimated:I&&S&&R?(S-x)/I:void 0,event:p,lengthComputable:S!=null,[i?"download":"upload"]:!0};r(z)},u)},Hj=(r,i)=>{const u=r!=null;return[m=>i[0]({lengthComputable:u,total:r,loaded:m}),i[1]]},Vj=r=>(...i)=>Ht.asap(()=>r(...i)),efe=Md.hasStandardBrowserEnv?function(){const i=Md.navigator&&/(msie|trident)/i.test(Md.navigator.userAgent),u=document.createElement("a");let m;function b(p){let x=p;return i&&(u.setAttribute("href",x),x=u.href),u.setAttribute("href",x),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return m=b(window.location.href),function(x){const S=Ht.isString(x)?b(x):x;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}(),tfe=Md.hasStandardBrowserEnv?{write(r,i,u,m,b,p){const x=[r+"="+encodeURIComponent(i)];Ht.isNumber(u)&&x.push("expires="+new Date(u).toGMTString()),Ht.isString(m)&&x.push("path="+m),Ht.isString(b)&&x.push("domain="+b),p===!0&&x.push("secure"),document.cookie=x.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nfe(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function ofe(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function FG(r,i){return r&&!nfe(i)?ofe(r,i):i}const $j=r=>r instanceof Pd?{...r}:r;function Mw(r,i){i=i||{};const u={};function m(I,R,z){return Ht.isPlainObject(I)&&Ht.isPlainObject(R)?Ht.merge.call({caseless:z},I,R):Ht.isPlainObject(R)?Ht.merge({},R):Ht.isArray(R)?R.slice():R}function b(I,R,z){if(Ht.isUndefined(R)){if(!Ht.isUndefined(I))return m(void 0,I,z)}else return m(I,R,z)}function p(I,R){if(!Ht.isUndefined(R))return m(void 0,R)}function x(I,R){if(Ht.isUndefined(R)){if(!Ht.isUndefined(I))return m(void 0,I)}else return m(void 0,R)}function S(I,R,z){if(z in i)return m(I,R);if(z in r)return m(void 0,I)}const M={url:p,method:p,data:p,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(I,R)=>b($j(I),$j(R),!0)};return Ht.forEach(Object.keys(Object.assign({},r,i)),function(R){const z=M[R]||b,U=z(r[R],i[R],R);Ht.isUndefined(U)&&z!==S||(u[R]=U)}),u}const zG=r=>{const i=Mw({},r);let{data:u,withXSRFToken:m,xsrfHeaderName:b,xsrfCookieName:p,headers:x,auth:S}=i;i.headers=x=Pd.from(x),i.url=IG(FG(i.baseURL,i.url),r.params,r.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let M;if(Ht.isFormData(u)){if(Md.hasStandardBrowserEnv||Md.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((M=x.getContentType())!==!1){const[I,...R]=M?M.split(";").map(z=>z.trim()).filter(Boolean):[];x.setContentType([I||"multipart/form-data",...R].join("; "))}}if(Md.hasStandardBrowserEnv&&(m&&Ht.isFunction(m)&&(m=m(i)),m||m!==!1&&efe(i.url))){const I=b&&p&&tfe.read(p);I&&x.set(b,I)}return i},rfe=typeof XMLHttpRequest<"u",sfe=rfe&&function(r){return new Promise(function(u,m){const b=zG(r);let p=b.data;const x=Pd.from(b.headers).normalize();let{responseType:S,onUploadProgress:M,onDownloadProgress:I}=b,R,z,U,$,G;function ee(){$&&$(),G&&G(),b.cancelToken&&b.cancelToken.unsubscribe(R),b.signal&&b.signal.removeEventListener("abort",R)}let he=new XMLHttpRequest;he.open(b.method.toUpperCase(),b.url,!0),he.timeout=b.timeout;function me(){if(!he)return;const Te=Pd.from("getAllResponseHeaders"in he&&he.getAllResponseHeaders()),Ae={data:!S||S==="text"||S==="json"?he.responseText:he.response,status:he.status,statusText:he.statusText,headers:Te,config:r,request:he};LG(function(Ge){u(Ge),ee()},function(Ge){m(Ge),ee()},Ae),he=null}"onloadend"in he?he.onloadend=me:he.onreadystatechange=function(){!he||he.readyState!==4||he.status===0&&!(he.responseURL&&he.responseURL.indexOf("file:")===0)||setTimeout(me)},he.onabort=function(){he&&(m(new Dr("Request aborted",Dr.ECONNABORTED,r,he)),he=null)},he.onerror=function(){m(new Dr("Network Error",Dr.ERR_NETWORK,r,he)),he=null},he.ontimeout=function(){let te=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded";const Ae=b.transitional||BG;b.timeoutErrorMessage&&(te=b.timeoutErrorMessage),m(new Dr(te,Ae.clarifyTimeoutError?Dr.ETIMEDOUT:Dr.ECONNABORTED,r,he)),he=null},p===void 0&&x.setContentType(null),"setRequestHeader"in he&&Ht.forEach(x.toJSON(),function(te,Ae){he.setRequestHeader(Ae,te)}),Ht.isUndefined(b.withCredentials)||(he.withCredentials=!!b.withCredentials),S&&S!=="json"&&(he.responseType=b.responseType),I&&([U,G]=Q8(I,!0),he.addEventListener("progress",U)),M&&he.upload&&([z,$]=Q8(M),he.upload.addEventListener("progress",z),he.upload.addEventListener("loadend",$)),(b.cancelToken||b.signal)&&(R=Te=>{he&&(m(!Te||Te.type?new mk(null,r,he):Te),he.abort(),he=null)},b.cancelToken&&b.cancelToken.subscribe(R),b.signal&&(b.signal.aborted?R():b.signal.addEventListener("abort",R)));const $e=Xde(b.url);if($e&&Md.protocols.indexOf($e)===-1){m(new Dr("Unsupported protocol "+$e+":",Dr.ERR_BAD_REQUEST,r));return}he.send(p||null)})},afe=(r,i)=>{const{length:u}=r=r?r.filter(Boolean):[];if(i||u){let m=new AbortController,b;const p=function(I){if(!b){b=!0,S();const R=I instanceof Error?I:this.reason;m.abort(R instanceof Dr?R:new mk(R instanceof Error?R.message:R))}};let x=i&&setTimeout(()=>{x=null,p(new Dr(`timeout ${i} of ms exceeded`,Dr.ETIMEDOUT))},i);const S=()=>{r&&(x&&clearTimeout(x),x=null,r.forEach(I=>{I.unsubscribe?I.unsubscribe(p):I.removeEventListener("abort",p)}),r=null)};r.forEach(I=>I.addEventListener("abort",p));const{signal:M}=m;return M.unsubscribe=()=>Ht.asap(S),M}},ife=function*(r,i){let u=r.byteLength;if(u<i){yield r;return}let m=0,b;for(;m<u;)b=m+i,yield r.slice(m,b),m=b},lfe=async function*(r,i){for await(const u of cfe(r))yield*ife(u,i)},cfe=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:u,value:m}=await i.read();if(u)break;yield m}}finally{await i.cancel()}},Uj=(r,i,u,m)=>{const b=lfe(r,i);let p=0,x,S=M=>{x||(x=!0,m&&m(M))};return new ReadableStream({async pull(M){try{const{done:I,value:R}=await b.next();if(I){S(),M.close();return}let z=R.byteLength;if(u){let U=p+=z;u(U)}M.enqueue(new Uint8Array(R))}catch(I){throw S(I),I}},cancel(M){return S(M),b.return()}},{highWaterMark:2})},kM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HG=kM&&typeof ReadableStream=="function",ufe=kM&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),VG=(r,...i)=>{try{return!!r(...i)}catch{return!1}},dfe=HG&&VG(()=>{let r=!1;const i=new Request(Md.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),Wj=64*1024,XH=HG&&VG(()=>Ht.isReadableStream(new Response("").body)),eM={stream:XH&&(r=>r.body)};kM&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!eM[i]&&(eM[i]=Ht.isFunction(r[i])?u=>u[i]():(u,m)=>{throw new Dr(`Response type '${i}' is not supported`,Dr.ERR_NOT_SUPPORT,m)})})})(new Response);const ffe=async r=>{if(r==null)return 0;if(Ht.isBlob(r))return r.size;if(Ht.isSpecCompliantForm(r))return(await new Request(Md.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(r)||Ht.isArrayBuffer(r))return r.byteLength;if(Ht.isURLSearchParams(r)&&(r=r+""),Ht.isString(r))return(await ufe(r)).byteLength},mfe=async(r,i)=>{const u=Ht.toFiniteNumber(r.getContentLength());return u??ffe(i)},gfe=kM&&(async r=>{let{url:i,method:u,data:m,signal:b,cancelToken:p,timeout:x,onDownloadProgress:S,onUploadProgress:M,responseType:I,headers:R,withCredentials:z="same-origin",fetchOptions:U}=zG(r);I=I?(I+"").toLowerCase():"text";let $=afe([b,p&&p.toAbortSignal()],x),G;const ee=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let he;try{if(M&&dfe&&u!=="get"&&u!=="head"&&(he=await mfe(R,m))!==0){let Ae=new Request(i,{method:"POST",body:m,duplex:"half"}),re;if(Ht.isFormData(m)&&(re=Ae.headers.get("content-type"))&&R.setContentType(re),Ae.body){const[Ge,Ve]=Hj(he,Q8(Vj(M)));m=Uj(Ae.body,Wj,Ge,Ve)}}Ht.isString(z)||(z=z?"include":"omit");const me="credentials"in Request.prototype;G=new Request(i,{...U,signal:$,method:u.toUpperCase(),headers:R.normalize().toJSON(),body:m,duplex:"half",credentials:me?z:void 0});let $e=await fetch(G);const Te=XH&&(I==="stream"||I==="response");if(XH&&(S||Te&&ee)){const Ae={};["status","statusText","headers"].forEach(Ze=>{Ae[Ze]=$e[Ze]});const re=Ht.toFiniteNumber($e.headers.get("content-length")),[Ge,Ve]=S&&Hj(re,Q8(Vj(S),!0))||[];$e=new Response(Uj($e.body,Wj,Ge,()=>{Ve&&Ve(),ee&&ee()}),Ae)}I=I||"text";let te=await eM[Ht.findKey(eM,I)||"text"]($e,r);return!Te&&ee&&ee(),await new Promise((Ae,re)=>{LG(Ae,re,{data:te,headers:Pd.from($e.headers),status:$e.status,statusText:$e.statusText,config:r,request:G})})}catch(me){throw ee&&ee(),me&&me.name==="TypeError"&&/fetch/i.test(me.message)?Object.assign(new Dr("Network Error",Dr.ERR_NETWORK,r,G),{cause:me.cause||me}):Dr.from(me,me&&me.code,r,G)}}),JH={http:Ode,xhr:sfe,fetch:gfe};Ht.forEach(JH,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Zj=r=>`- ${r}`,hfe=r=>Ht.isFunction(r)||r===null||r===!1,$G={getAdapter:r=>{r=Ht.isArray(r)?r:[r];const{length:i}=r;let u,m;const b={};for(let p=0;p<i;p++){u=r[p];let x;if(m=u,!hfe(u)&&(m=JH[(x=String(u)).toLowerCase()],m===void 0))throw new Dr(`Unknown adapter '${x}'`);if(m)break;b[x||"#"+p]=m}if(!m){const p=Object.entries(b).map(([S,M])=>`adapter ${S} `+(M===!1?"is not supported by the environment":"is not available in the build"));let x=i?p.length>1?`since :
`+p.map(Zj).join(`
`):" "+Zj(p[0]):"as no adapter specified";throw new Dr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return m},adapters:JH};function dH(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new mk(null,r)}function jj(r){return dH(r),r.headers=Pd.from(r.headers),r.data=uH.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),$G.getAdapter(r.adapter||dO.adapter)(r).then(function(m){return dH(r),m.data=uH.call(r,r.transformResponse,m),m.headers=Pd.from(m.headers),m},function(m){return PG(m)||(dH(r),m&&m.response&&(m.response.data=uH.call(r,r.transformResponse,m.response),m.response.headers=Pd.from(m.response.headers))),Promise.reject(m)})}const UG="1.7.7",KV={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{KV[r]=function(m){return typeof m===r||"a"+(i<1?"n ":" ")+r}});const Kj={};KV.transitional=function(i,u,m){function b(p,x){return"[Axios v"+UG+"] Transitional option '"+p+"'"+x+(m?". "+m:"")}return(p,x,S)=>{if(i===!1)throw new Dr(b(x," has been removed"+(u?" in "+u:"")),Dr.ERR_DEPRECATED);return u&&!Kj[x]&&(Kj[x]=!0,console.warn(b(x," has been deprecated since v"+u+" and will be removed in the near future"))),i?i(p,x,S):!0}};function pfe(r,i,u){if(typeof r!="object")throw new Dr("options must be an object",Dr.ERR_BAD_OPTION_VALUE);const m=Object.keys(r);let b=m.length;for(;b-- >0;){const p=m[b],x=i[p];if(x){const S=r[p],M=S===void 0||x(S,p,r);if(M!==!0)throw new Dr("option "+p+" must be "+M,Dr.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Dr("Unknown option "+p,Dr.ERR_BAD_OPTION)}}const QH={assertOptions:pfe,validators:KV},Gv=QH.validators;class Nw{constructor(i){this.defaults=i,this.interceptors={request:new Fj,response:new Fj}}async request(i,u){try{return await this._request(i,u)}catch(m){if(m instanceof Error){let b;Error.captureStackTrace?Error.captureStackTrace(b={}):b=new Error;const p=b.stack?b.stack.replace(/^.+\n/,""):"";try{m.stack?p&&!String(m.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+p):m.stack=p}catch{}}throw m}}_request(i,u){typeof i=="string"?(u=u||{},u.url=i):u=i||{},u=Mw(this.defaults,u);const{transitional:m,paramsSerializer:b,headers:p}=u;m!==void 0&&QH.assertOptions(m,{silentJSONParsing:Gv.transitional(Gv.boolean),forcedJSONParsing:Gv.transitional(Gv.boolean),clarifyTimeoutError:Gv.transitional(Gv.boolean)},!1),b!=null&&(Ht.isFunction(b)?u.paramsSerializer={serialize:b}:QH.assertOptions(b,{encode:Gv.function,serialize:Gv.function},!0)),u.method=(u.method||this.defaults.method||"get").toLowerCase();let x=p&&Ht.merge(p.common,p[u.method]);p&&Ht.forEach(["delete","get","head","post","put","patch","common"],G=>{delete p[G]}),u.headers=Pd.concat(x,p);const S=[];let M=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(u)===!1||(M=M&&ee.synchronous,S.unshift(ee.fulfilled,ee.rejected))});const I=[];this.interceptors.response.forEach(function(ee){I.push(ee.fulfilled,ee.rejected)});let R,z=0,U;if(!M){const G=[jj.bind(this),void 0];for(G.unshift.apply(G,S),G.push.apply(G,I),U=G.length,R=Promise.resolve(u);z<U;)R=R.then(G[z++],G[z++]);return R}U=S.length;let $=u;for(z=0;z<U;){const G=S[z++],ee=S[z++];try{$=G($)}catch(he){ee.call(this,he);break}}try{R=jj.call(this,$)}catch(G){return Promise.reject(G)}for(z=0,U=I.length;z<U;)R=R.then(I[z++],I[z++]);return R}getUri(i){i=Mw(this.defaults,i);const u=FG(i.baseURL,i.url);return IG(u,i.params,i.paramsSerializer)}}Ht.forEach(["delete","get","head","options"],function(i){Nw.prototype[i]=function(u,m){return this.request(Mw(m||{},{method:i,url:u,data:(m||{}).data}))}});Ht.forEach(["post","put","patch"],function(i){function u(m){return function(p,x,S){return this.request(Mw(S||{},{method:i,headers:m?{"Content-Type":"multipart/form-data"}:{},url:p,data:x}))}}Nw.prototype[i]=u(),Nw.prototype[i+"Form"]=u(!0)});class qV{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(p){u=p});const m=this;this.promise.then(b=>{if(!m._listeners)return;let p=m._listeners.length;for(;p-- >0;)m._listeners[p](b);m._listeners=null}),this.promise.then=b=>{let p;const x=new Promise(S=>{m.subscribe(S),p=S}).then(b);return x.cancel=function(){m.unsubscribe(p)},x},i(function(p,x,S){m.reason||(m.reason=new mk(p,x,S),u(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const i=new AbortController,u=m=>{i.abort(m)};return this.subscribe(u),i.signal.unsubscribe=()=>this.unsubscribe(u),i.signal}static source(){let i;return{token:new qV(function(b){i=b}),cancel:i}}}function bfe(r){return function(u){return r.apply(null,u)}}function vfe(r){return Ht.isObject(r)&&r.isAxiosError===!0}const eV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eV).forEach(([r,i])=>{eV[i]=r});function WG(r){const i=new Nw(r),u=wG(Nw.prototype.request,i);return Ht.extend(u,Nw.prototype,i,{allOwnKeys:!0}),Ht.extend(u,i,null,{allOwnKeys:!0}),u.create=function(b){return WG(Mw(r,b))},u}const Ra=WG(dO);Ra.Axios=Nw;Ra.CanceledError=mk;Ra.CancelToken=qV;Ra.isCancel=PG;Ra.VERSION=UG;Ra.toFormData=SM;Ra.AxiosError=Dr;Ra.Cancel=Ra.CanceledError;Ra.all=function(i){return Promise.all(i)};Ra.spread=bfe;Ra.isAxiosError=vfe;Ra.mergeConfig=Mw;Ra.AxiosHeaders=Pd;Ra.formToJSON=r=>MG(Ht.isHTMLForm(r)?new FormData(r):r);Ra.getAdapter=$G.getAdapter;Ra.HttpStatusCode=eV;Ra.default=Ra;/*! js-cookie v3.0.5 | MIT */function C8(r){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var m in u)r[m]=u[m]}return r}var yfe={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function tV(r,i){function u(b,p,x){if(!(typeof document>"u")){x=C8({},i,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),b=encodeURIComponent(b).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var M in x)x[M]&&(S+="; "+M,x[M]!==!0&&(S+="="+x[M].split(";")[0]));return document.cookie=b+"="+r.write(p,b)+S}}function m(b){if(!(typeof document>"u"||arguments.length&&!b)){for(var p=document.cookie?document.cookie.split("; "):[],x={},S=0;S<p.length;S++){var M=p[S].split("="),I=M.slice(1).join("=");try{var R=decodeURIComponent(M[0]);if(x[R]=r.read(I,R),b===R)break}catch{}}return b?x[b]:x}}return Object.create({set:u,get:m,remove:function(b,p){u(b,"",C8({},p,{expires:-1}))},withAttributes:function(b){return tV(this.converter,C8({},this.attributes,b))},withConverter:function(b){return tV(C8({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}var Ki=tV(yfe,{path:"/"});const xfe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",wfe="",Cfe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",_fe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',Sfe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',fH=Up.createInstance({storeName:"writer-settings",description:"Settings data"}),ph=dg("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:r=>r.notice_boards>0,primaryColorCss:r=>r.primary_color?"#"+r.primary_color:"",primaryTextColorCss:r=>r.primary_text_color?"#"+r.primary_text_color:"",primaryTextColorFullCss:r=>r.primary_text_color?"color: #"+r.primary_text_color+";":"",tinyToolbar:r=>{switch(r.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:r=>{switch(r.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:r=>r.headline_scheme=="three"?1.3:1,tinyH2Size:r=>r.headline_scheme=="three"?1.15:1,tinyStyles:r=>{switch(r.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"Überschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"Überschrift 1",format:"h1"},{title:"Überschrift 2",format:"h2"},{title:"Überschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"Überschrift 1",format:"h1"},{title:"Überschrift 2",format:"h2"},{title:"Überschrift 3",format:"h3"},{title:"Überschrift 4",format:"h4"},{title:"Überschrift 5",format:"h5"},{title:"Überschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:r=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:r=>{const i=xfe.toString();switch(r.headline_scheme){case"single":return i+`
`+wfe.toString();case"three":return i+`
`+Cfe.toString();case"numeric":return i+`
`+_fe.toString();case"edutiek":return i+`
`+Sfe.toString();default:return i}},contentClass:r=>{switch(r.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(r){this.headline_scheme=r.headline_scheme,this.formatting_options=r.formatting_options,this.notice_boards=r.notice_boards,this.copy_allowed=r.copy_allowed,this.primary_color=r.primary_color,this.primary_text_color=r.primary_text_color,this.allow_spellcheck=r.allow_spellcheck},async clearStorage(){try{await fH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await fH.getItem("settings");this.setData(r)}catch(r){console.log(r)}},async loadFromData(r){try{await fH.setItem("settings",r),this.setData(r)}catch(i){console.log(i)}}}}),Xl=class Xl{constructor(i={}){_r(this,"action",null);_r(this,"type",null);_r(this,"key","");_r(this,"last_change",0);_r(this,"payload",null);this.setData(i),this.last_change==0&&(this.last_change=Date.now())}setData(i){i.action!==void 0&&Xl.ALLOWED_ACTIONS.includes(i.action)&&(this.action=i.action.toString()),i.type!==void 0&&Xl.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change)),i.payload!==void 0&&i.payload!==null&&(this.payload=i.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return Xl.ALLOWED_TYPES.includes(this.type)&&Xl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};_r(Xl,"ACTION_SAVE","save"),_r(Xl,"ACTION_DELETE","delete"),_r(Xl,"ALLOWED_ACTIONS",[Xl.ACTION_SAVE,Xl.ACTION_DELETE]),_r(Xl,"TYPE_ANNOTATIONS","annotations"),_r(Xl,"TYPE_NOTES","notes"),_r(Xl,"TYPE_PREFERENCES","preferences"),_r(Xl,"ALLOWED_TYPES",[Xl.TYPE_ANNOTATIONS,Xl.TYPE_NOTES,Xl.TYPE_PREFERENCES]);let xa=Xl;const _8=Up.createInstance({storeName:"writer-changes",description:"Writer changes data"});function qj(){const r={changes:{}};for(const i of xa.ALLOWED_TYPES)r.changes[i]={};return r}const Nd=dg("changes",{state:()=>qj(),getters:{countChanges:r=>{let i=0;for(const u in r.changes)i+=Object.keys(r.changes[u]).length;return i},getCountOfChangesFor:r=>function(u){return xa.ALLOWED_TYPES.includes(u)?Object.keys(r.changes[u]).length:(console.log("wrong type"+u),0)},getChangesFor:r=>function(u,m=0){if(!xa.ALLOWED_TYPES.includes(u))return[];const b=[];for(const p in r.changes[u]){const x=r.changes[u][p];(m==0||x.last_change<=m)&&b.push(x)}return b}},actions:{async clearStorage(){try{await _8.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){const r=qj();try{for(const i in r.changes){const u=await _8.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null)for(const b in m)r.changes[i][b]=new xa(m[b])}}}catch(i){console.log(i)}this.$patch(r)},async saveChangesOfTypeToStorage(r){const i={};for(const u in this.changes[r]){const m=this.changes[r][u];i[u]=m.getData()}await _8.setItem(r,JSON.stringify(i))},async hasChangesInStorage(){for(const r in this.changes){const i=await _8.getItem(r);if(i){const u=JSON.parse(i);if(Object.keys(u).length>0)return!0}}return!1},async setChange(r){r.isValid()&&(this.changes[r.type][r.key]=r,await this.saveChangesOfTypeToStorage(r.type))},async unsetChange(r){r.isValid()&&(delete this.changes[r.type][r.key],await this.saveChangesOfTypeToStorage(r.type))},async setChangesSent(r,i,u){const m=this.changes[r];let b=!1;for(const p in i){const x=i[p],S=m[p];S&&(S.last_change<=u?(delete m[p],b=!0):(x==null||x!=p)&&(S.key=x,m[x]=S,delete m[p],b=!0))}b&&await this.saveChangesOfTypeToStorage(r)}}}),mH=Up.createInstance({storeName:"writer-preferences",description:"Preferences data"}),Z0=dg("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:r=>({instructions_zoom:r.instructions_zoom,editor_zoom:r.editor_zoom,word_count_enabled:r.word_count_enabled,word_count_characters:r.word_count_characters})},actions:{async clearStorage(){try{await mH.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{const r=await mH.getItem("preferences");r&&this.$patch(r)}catch(r){console.log(r)}},async saveToStorage(){try{await mH.setItem("preferences",this.allData)}catch(r){console.log(r)}},loadFromData(r){try{this.$patch(r),this.sent=!0,this.saveToStorage()}catch(i){console.log(i)}},async update(){const r=Nd();Ac(),await this.saveToStorage(),await r.setChange(new xa({type:xa.TYPE_PREFERENCES,action:xa.ACTION_SAVE,key:"preferences"}))},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const b of u.getChangesFor(xa.TYPE_PREFERENCES,r))m.push(i.getChangeDataToSend(b,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),gi=class gi{constructor(i={}){_r(this,"key","");_r(this,"title","");_r(this,"type",null);_r(this,"embedded",!0);_r(this,"source","");_r(this,"url","");_r(this,"mimetype","");_r(this,"size",null);this.setData(i)}setData(i){i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.title!==void 0&&i.title!==null&&(this.title=i.title.toString()),i.type!==void 0&&gi.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.embedded!==void 0&&i.embedded!==null&&(this.embedded=!!i.embedded),i.source!==void 0&&i.source!==null&&(this.source=i.source.toString(),this.type==gi.TYPE_URL&&(this.url=this.source)),i.url!==void 0&&i.url!==null&&(this.url=i.url.toString()),i.mimetype!==void 0&&i.mimetype!==null&&(this.mimetype=i.mimetype),i.size!==void 0&&i.size!==null&&(this.size=parseInt(i.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==gi.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==gi.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==gi.TYPE_FILE||this.type==gi.TYPE_URL&&this.embedded}hasFileToLoad(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new gi(this.getData())}};_r(gi,"TYPE_FILE","file"),_r(gi,"TYPE_URL","url"),_r(gi,"TYPE_INSTRUCTION","instruct"),_r(gi,"TYPE_SOLUTION","solution"),_r(gi,"ALLOWED_TYPES",[gi.TYPE_FILE,gi.TYPE_URL,gi.TYPE_INSTRUCTION,gi.TYPE_SOLUTION]);let Rd=gi;const P0=Up.createInstance({storeName:"writer-resources",description:"Resource data"}),lg=dg("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:r=>r.resources.length>0,hasInstruction(r){return!!r.resources.find(u=>u.type==Rd.TYPE_INSTRUCTION)},getInstruction(r){return r.resources.find(i=>i.type==Rd.TYPE_INSTRUCTION)},hasEmbeddedFileOrUrlResources(r){return!!r.resources.find(u=>(u.type==Rd.TYPE_FILE||u.type==Rd.TYPE_URL)&&u.embedded==!0)},getFileOrUrlResources(r){return r.resources.filter(i=>i.type==Rd.TYPE_FILE||i.type==Rd.TYPE_URL)},activeTitle(r){const i=r.resources.find(u=>u.key==r.activeKey);return i?i.title:""},getResource(r){return i=>r.resources.find(u=>u.key==i)},isActive(r){return i=>r.activeKey==i.key}},actions:{async clearStorage(){try{await P0.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await P0.getItem("resourceKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await P0.getItem("activeKey")??[],this.resources=[];for(const i of this.keys){const u=await P0.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new Rd(m);this.resources.push(b)}}}await this.loadFiles()}catch(r){console.log(r)}},async loadFromData(r){const i=Ac();try{await P0.clear(),this.$reset();for(const u of r){const m=new Rd(u);m.type!=Rd.TYPE_URL&&(m.url=i.getResourceUrl(m.key)),this.resources.push(m),this.activeKey==""&&m.isEmbeddedSelectable()&&(this.activeKey=m.key),this.keys.push(m.getKey()),await P0.setItem(m.getKey(),JSON.stringify(m.getData()))}await P0.setItem("keys",JSON.stringify(this.keys)),await P0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(u){console.log(u)}},async selectResource(r){this.activeKey=r.key,await P0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const r of this.keys){let i=this.getResource(r),u=null;if(i.hasFileToLoad())try{console.log("preload "+i.title+"..."),u=await Ra(i.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}}}}});var U0;let ag=(U0=class{constructor(i={}){_r(this,"resource_key","");_r(this,"mark_key","");_r(this,"mark_value",null);_r(this,"parent_number",0);_r(this,"start_position",0);_r(this,"end_position",0);_r(this,"comment",null);_r(this,"label","");this.setData(i)}static buildKey(i,u){return"ANNO_"+i+"_"+u}static getFromKey(i){const u=i.split("_");return new U0({resource_key:u[1],mark_key:u[2]})}static compare(i,u){return i.resource_key<u.resource_key?-1:i.resource_key>u.resource_key?1:i.parent_number<u.parent_number?-1:i.parent_number>u.parent_number?1:i.start_position<u.start_position?-1:i.start_position>u.start_position?1:0}setData(i){i.resource_key!==void 0&&i.resource_key!==null&&(this.resource_key=i.resource_key.toString()),i.mark_key!==void 0&&i.mark_key!==null?this.mark_key=i.mark_key:this.mark_key=Math.random().toString(),i.mark_value!==void 0&&i.mark_value!==null&&(this.mark_value=i.mark_value),i.parent_number!==void 0&&i.parent_number!==null&&(this.parent_number=i.parent_number),i.start_position!==void 0&&i.start_position!==null&&(this.start_position=i.start_position),i.end_position!==void 0&&i.end_position!==null&&(this.end_position=i.end_position),i.comment!==void 0&&i.comment!==null&&(this.comment=i.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return U0.buildKey(this.resource_key,this.mark_key)}getSignature(){return JSON.stringify(this.getData())}getClone(){return new U0(this.getData())}},_r(U0,"KEY_INSTRUCTIONS","0"),U0);const gH=Up.createInstance({storeName:"writer-layout",description:"Layout data"}),Ec=dg("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:r=>r.expandedColumn=="left",isRightExpanded:r=>r.expandedColumn=="right",isLeftVisible:r=>r.expandedColumn!="right",isRightVisible:r=>r.expandedColumn!="left",isInstructionsSelected:r=>r.leftContent=="instructions",isInstructionsPdfSelected:r=>r.leftContent=="instructionsPdf",isResourcesSelected:r=>r.leftContent=="resources",isAnnotationsSelected:r=>r.rightContent=="annotations",isEssaySelected:r=>r.rightContent=="essay",isNotesSelected:r=>r.rightContent=="notes",isInstructionsVisible:r=>r.expandedColumn!="right"&&r.leftContent=="instructions",isInstructionsPdfVisible:r=>r.isInstructionsPdfSelected&&r.isLeftVisible,isResourcesVisible:r=>r.expandedColumn!="right"&&r.leftContent=="resources",isAnnotationsVisible:r=>r.expandedColumn!="left"&&r.rightContent=="annotations",isEssayVisible:r=>r.expandedColumn!="left"&&r.rightContent=="essay",isNotesVisible:r=>r.expandedColumn!="left"&&r.rightContent=="notes",isResourceShown:r=>{const i=lg();return function(m){return r.isInstructionsPdfVisible&&m.type==Rd.TYPE_INSTRUCTION||r.isResourcesVisible&&i.isActive(m)}},shownResourceKey:r=>{const i=lg();if(r.isInstructionsVisible)return ag.KEY_INSTRUCTIONS;if(r.isInstructionsPdfVisible){const u=i.getInstruction;if(u)return u.key}else if(r.isResourcesVisible)return i.activeKey;return null}},actions:{async initialize(){await this.clearStorage();const r=lg(),i=Vf();this.leftContent=i.hasInstructions?"instructions":r.hasInstruction?"instructionsPdf":r.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await gH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await gH.getItem("layout");r&&(this.expandedColumn=r.expandedColumn,this.showTimer=r.showTimer)}catch(r){console.log(r)}},async saveToStorage(){try{await gH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(r){console.log(r)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showForResourceKey(r){const i=lg(),u=i.getResource(r);u&&(u.type==Rd.TYPE_INSTRUCTION?this.showInstructionsPdf():(i.selectResource(u),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(r){this.expandedColumn=r?"left":"none",this.setFocusChange("left"),this.saveToStorage()},setRightExpanded(r){this.expandedColumn=r?"right":"none",this.setFocusChange("right"),this.saveToStorage()},setFocusChange(r){this.focusTarget=r,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(r){if(r.altKey)switch(r.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var ZG={exports:{}};(function(r){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},u=-1,m=1,b=0;i.Diff=function(p,x){return[p,x]},i.prototype.diff_main=function(p,x,S,M){typeof M>"u"&&(this.Diff_Timeout<=0?M=Number.MAX_VALUE:M=new Date().getTime()+this.Diff_Timeout*1e3);var I=M;if(p==null||x==null)throw new Error("Null input. (diff_main)");if(p==x)return p?[new i.Diff(b,p)]:[];typeof S>"u"&&(S=!0);var R=S,z=this.diff_commonPrefix(p,x),U=p.substring(0,z);p=p.substring(z),x=x.substring(z),z=this.diff_commonSuffix(p,x);var $=p.substring(p.length-z);p=p.substring(0,p.length-z),x=x.substring(0,x.length-z);var G=this.diff_compute_(p,x,R,I);return U&&G.unshift(new i.Diff(b,U)),$&&G.push(new i.Diff(b,$)),this.diff_cleanupMerge(G),G},i.prototype.diff_compute_=function(p,x,S,M){var I;if(!p)return[new i.Diff(m,x)];if(!x)return[new i.Diff(u,p)];var R=p.length>x.length?p:x,z=p.length>x.length?x:p,U=R.indexOf(z);if(U!=-1)return I=[new i.Diff(m,R.substring(0,U)),new i.Diff(b,z),new i.Diff(m,R.substring(U+z.length))],p.length>x.length&&(I[0][0]=I[2][0]=u),I;if(z.length==1)return[new i.Diff(u,p),new i.Diff(m,x)];var $=this.diff_halfMatch_(p,x);if($){var G=$[0],ee=$[1],he=$[2],me=$[3],$e=$[4],Te=this.diff_main(G,he,S,M),te=this.diff_main(ee,me,S,M);return Te.concat([new i.Diff(b,$e)],te)}return S&&p.length>100&&x.length>100?this.diff_lineMode_(p,x,M):this.diff_bisect_(p,x,M)},i.prototype.diff_lineMode_=function(p,x,S){var M=this.diff_linesToChars_(p,x);p=M.chars1,x=M.chars2;var I=M.lineArray,R=this.diff_main(p,x,!1,S);this.diff_charsToLines_(R,I),this.diff_cleanupSemantic(R),R.push(new i.Diff(b,""));for(var z=0,U=0,$=0,G="",ee="";z<R.length;){switch(R[z][0]){case m:$++,ee+=R[z][1];break;case u:U++,G+=R[z][1];break;case b:if(U>=1&&$>=1){R.splice(z-U-$,U+$),z=z-U-$;for(var he=this.diff_main(G,ee,!1,S),me=he.length-1;me>=0;me--)R.splice(z,0,he[me]);z=z+he.length}$=0,U=0,G="",ee="";break}z++}return R.pop(),R},i.prototype.diff_bisect_=function(p,x,S){for(var M=p.length,I=x.length,R=Math.ceil((M+I)/2),z=R,U=2*R,$=new Array(U),G=new Array(U),ee=0;ee<U;ee++)$[ee]=-1,G[ee]=-1;$[z+1]=0,G[z+1]=0;for(var he=M-I,me=he%2!=0,$e=0,Te=0,te=0,Ae=0,re=0;re<R&&!(new Date().getTime()>S);re++){for(var Ge=-re+$e;Ge<=re-Te;Ge+=2){var Ve=z+Ge,Ze;Ge==-re||Ge!=re&&$[Ve-1]<$[Ve+1]?Ze=$[Ve+1]:Ze=$[Ve-1]+1;for(var rt=Ze-Ge;Ze<M&&rt<I&&p.charAt(Ze)==x.charAt(rt);)Ze++,rt++;if($[Ve]=Ze,Ze>M)Te+=2;else if(rt>I)$e+=2;else if(me){var Ce=z+he-Ge;if(Ce>=0&&Ce<U&&G[Ce]!=-1){var Ne=M-G[Ce];if(Ze>=Ne)return this.diff_bisectSplit_(p,x,Ze,rt,S)}}}for(var D=-re+te;D<=re-Ae;D+=2){var Ce=z+D,Ne;D==-re||D!=re&&G[Ce-1]<G[Ce+1]?Ne=G[Ce+1]:Ne=G[Ce-1]+1;for(var yt=Ne-D;Ne<M&&yt<I&&p.charAt(M-Ne-1)==x.charAt(I-yt-1);)Ne++,yt++;if(G[Ce]=Ne,Ne>M)Ae+=2;else if(yt>I)te+=2;else if(!me){var Ve=z+he-D;if(Ve>=0&&Ve<U&&$[Ve]!=-1){var Ze=$[Ve],rt=z+Ze-Ve;if(Ne=M-Ne,Ze>=Ne)return this.diff_bisectSplit_(p,x,Ze,rt,S)}}}}return[new i.Diff(u,p),new i.Diff(m,x)]},i.prototype.diff_bisectSplit_=function(p,x,S,M,I){var R=p.substring(0,S),z=x.substring(0,M),U=p.substring(S),$=x.substring(M),G=this.diff_main(R,z,!1,I),ee=this.diff_main(U,$,!1,I);return G.concat(ee)},i.prototype.diff_linesToChars_=function(p,x){var S=[],M={};S[0]="";function I($){for(var G="",ee=0,he=-1,me=S.length;he<$.length-1;){he=$.indexOf(`
`,ee),he==-1&&(he=$.length-1);var $e=$.substring(ee,he+1);(M.hasOwnProperty?M.hasOwnProperty($e):M[$e]!==void 0)?G+=String.fromCharCode(M[$e]):(me==R&&($e=$.substring(ee),he=$.length),G+=String.fromCharCode(me),M[$e]=me,S[me++]=$e),ee=he+1}return G}var R=4e4,z=I(p);R=65535;var U=I(x);return{chars1:z,chars2:U,lineArray:S}},i.prototype.diff_charsToLines_=function(p,x){for(var S=0;S<p.length;S++){for(var M=p[S][1],I=[],R=0;R<M.length;R++)I[R]=x[M.charCodeAt(R)];p[S][1]=I.join("")}},i.prototype.diff_commonPrefix=function(p,x){if(!p||!x||p.charAt(0)!=x.charAt(0))return 0;for(var S=0,M=Math.min(p.length,x.length),I=M,R=0;S<I;)p.substring(R,I)==x.substring(R,I)?(S=I,R=S):M=I,I=Math.floor((M-S)/2+S);return I},i.prototype.diff_commonSuffix=function(p,x){if(!p||!x||p.charAt(p.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,M=Math.min(p.length,x.length),I=M,R=0;S<I;)p.substring(p.length-I,p.length-R)==x.substring(x.length-I,x.length-R)?(S=I,R=S):M=I,I=Math.floor((M-S)/2+S);return I},i.prototype.diff_commonOverlap_=function(p,x){var S=p.length,M=x.length;if(S==0||M==0)return 0;S>M?p=p.substring(S-M):S<M&&(x=x.substring(0,S));var I=Math.min(S,M);if(p==x)return I;for(var R=0,z=1;;){var U=p.substring(I-z),$=x.indexOf(U);if($==-1)return R;z+=$,($==0||p.substring(I-z)==x.substring(0,z))&&(R=z,z++)}},i.prototype.diff_halfMatch_=function(p,x){if(this.Diff_Timeout<=0)return null;var S=p.length>x.length?p:x,M=p.length>x.length?x:p;if(S.length<4||M.length*2<S.length)return null;var I=this;function R(Te,te,Ae){for(var re=Te.substring(Ae,Ae+Math.floor(Te.length/4)),Ge=-1,Ve="",Ze,rt,Ce,Ne;(Ge=te.indexOf(re,Ge+1))!=-1;){var D=I.diff_commonPrefix(Te.substring(Ae),te.substring(Ge)),yt=I.diff_commonSuffix(Te.substring(0,Ae),te.substring(0,Ge));Ve.length<yt+D&&(Ve=te.substring(Ge-yt,Ge)+te.substring(Ge,Ge+D),Ze=Te.substring(0,Ae-yt),rt=Te.substring(Ae+D),Ce=te.substring(0,Ge-yt),Ne=te.substring(Ge+D))}return Ve.length*2>=Te.length?[Ze,rt,Ce,Ne,Ve]:null}var z=R(S,M,Math.ceil(S.length/4)),U=R(S,M,Math.ceil(S.length/2)),$;if(!z&&!U)return null;U?z?$=z[4].length>U[4].length?z:U:$=U:$=z;var G,ee,he,me;p.length>x.length?(G=$[0],ee=$[1],he=$[2],me=$[3]):(he=$[0],me=$[1],G=$[2],ee=$[3]);var $e=$[4];return[G,ee,he,me,$e]},i.prototype.diff_cleanupSemantic=function(p){for(var x=!1,S=[],M=0,I=null,R=0,z=0,U=0,$=0,G=0;R<p.length;)p[R][0]==b?(S[M++]=R,z=$,U=G,$=0,G=0,I=p[R][1]):(p[R][0]==m?$+=p[R][1].length:G+=p[R][1].length,I&&I.length<=Math.max(z,U)&&I.length<=Math.max($,G)&&(p.splice(S[M-1],0,new i.Diff(u,I)),p[S[M-1]+1][0]=m,M--,M--,R=M>0?S[M-1]:-1,z=0,U=0,$=0,G=0,I=null,x=!0)),R++;for(x&&this.diff_cleanupMerge(p),this.diff_cleanupSemanticLossless(p),R=1;R<p.length;){if(p[R-1][0]==u&&p[R][0]==m){var ee=p[R-1][1],he=p[R][1],me=this.diff_commonOverlap_(ee,he),$e=this.diff_commonOverlap_(he,ee);me>=$e?(me>=ee.length/2||me>=he.length/2)&&(p.splice(R,0,new i.Diff(b,he.substring(0,me))),p[R-1][1]=ee.substring(0,ee.length-me),p[R+1][1]=he.substring(me),R++):($e>=ee.length/2||$e>=he.length/2)&&(p.splice(R,0,new i.Diff(b,ee.substring(0,$e))),p[R-1][0]=m,p[R-1][1]=he.substring(0,he.length-$e),p[R+1][0]=u,p[R+1][1]=ee.substring($e),R++),R++}R++}},i.prototype.diff_cleanupSemanticLossless=function(p){function x($e,Te){if(!$e||!Te)return 6;var te=$e.charAt($e.length-1),Ae=Te.charAt(0),re=te.match(i.nonAlphaNumericRegex_),Ge=Ae.match(i.nonAlphaNumericRegex_),Ve=re&&te.match(i.whitespaceRegex_),Ze=Ge&&Ae.match(i.whitespaceRegex_),rt=Ve&&te.match(i.linebreakRegex_),Ce=Ze&&Ae.match(i.linebreakRegex_),Ne=rt&&$e.match(i.blanklineEndRegex_),D=Ce&&Te.match(i.blanklineStartRegex_);return Ne||D?5:rt||Ce?4:re&&!Ve&&Ze?3:Ve||Ze?2:re||Ge?1:0}for(var S=1;S<p.length-1;){if(p[S-1][0]==b&&p[S+1][0]==b){var M=p[S-1][1],I=p[S][1],R=p[S+1][1],z=this.diff_commonSuffix(M,I);if(z){var U=I.substring(I.length-z);M=M.substring(0,M.length-z),I=U+I.substring(0,I.length-z),R=U+R}for(var $=M,G=I,ee=R,he=x(M,I)+x(I,R);I.charAt(0)===R.charAt(0);){M+=I.charAt(0),I=I.substring(1)+R.charAt(0),R=R.substring(1);var me=x(M,I)+x(I,R);me>=he&&(he=me,$=M,G=I,ee=R)}p[S-1][1]!=$&&($?p[S-1][1]=$:(p.splice(S-1,1),S--),p[S][1]=G,ee?p[S+1][1]=ee:(p.splice(S+1,1),S--))}S++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(p){for(var x=!1,S=[],M=0,I=null,R=0,z=!1,U=!1,$=!1,G=!1;R<p.length;)p[R][0]==b?(p[R][1].length<this.Diff_EditCost&&($||G)?(S[M++]=R,z=$,U=G,I=p[R][1]):(M=0,I=null),$=G=!1):(p[R][0]==u?G=!0:$=!0,I&&(z&&U&&$&&G||I.length<this.Diff_EditCost/2&&z+U+$+G==3)&&(p.splice(S[M-1],0,new i.Diff(u,I)),p[S[M-1]+1][0]=m,M--,I=null,z&&U?($=G=!0,M=0):(M--,R=M>0?S[M-1]:-1,$=G=!1),x=!0)),R++;x&&this.diff_cleanupMerge(p)},i.prototype.diff_cleanupMerge=function(p){p.push(new i.Diff(b,""));for(var x=0,S=0,M=0,I="",R="",z;x<p.length;)switch(p[x][0]){case m:M++,R+=p[x][1],x++;break;case u:S++,I+=p[x][1],x++;break;case b:S+M>1?(S!==0&&M!==0&&(z=this.diff_commonPrefix(R,I),z!==0&&(x-S-M>0&&p[x-S-M-1][0]==b?p[x-S-M-1][1]+=R.substring(0,z):(p.splice(0,0,new i.Diff(b,R.substring(0,z))),x++),R=R.substring(z),I=I.substring(z)),z=this.diff_commonSuffix(R,I),z!==0&&(p[x][1]=R.substring(R.length-z)+p[x][1],R=R.substring(0,R.length-z),I=I.substring(0,I.length-z))),x-=S+M,p.splice(x,S+M),I.length&&(p.splice(x,0,new i.Diff(u,I)),x++),R.length&&(p.splice(x,0,new i.Diff(m,R)),x++),x++):x!==0&&p[x-1][0]==b?(p[x-1][1]+=p[x][1],p.splice(x,1)):x++,M=0,S=0,I="",R="";break}p[p.length-1][1]===""&&p.pop();var U=!1;for(x=1;x<p.length-1;)p[x-1][0]==b&&p[x+1][0]==b&&(p[x][1].substring(p[x][1].length-p[x-1][1].length)==p[x-1][1]?(p[x][1]=p[x-1][1]+p[x][1].substring(0,p[x][1].length-p[x-1][1].length),p[x+1][1]=p[x-1][1]+p[x+1][1],p.splice(x-1,1),U=!0):p[x][1].substring(0,p[x+1][1].length)==p[x+1][1]&&(p[x-1][1]+=p[x+1][1],p[x][1]=p[x][1].substring(p[x+1][1].length)+p[x+1][1],p.splice(x+1,1),U=!0)),x++;U&&this.diff_cleanupMerge(p)},i.prototype.diff_xIndex=function(p,x){var S=0,M=0,I=0,R=0,z;for(z=0;z<p.length&&(p[z][0]!==m&&(S+=p[z][1].length),p[z][0]!==u&&(M+=p[z][1].length),!(S>x));z++)I=S,R=M;return p.length!=z&&p[z][0]===u?R:R+(x-I)},i.prototype.diff_prettyHtml=function(p){for(var x=[],S=/&/g,M=/</g,I=/>/g,R=/\n/g,z=0;z<p.length;z++){var U=p[z][0],$=p[z][1],G=$.replace(S,"&amp;").replace(M,"&lt;").replace(I,"&gt;").replace(R,"&para;<br>");switch(U){case m:x[z]='<ins style="background:#e6ffe6;">'+G+"</ins>";break;case u:x[z]='<del style="background:#ffe6e6;">'+G+"</del>";break;case b:x[z]="<span>"+G+"</span>";break}}return x.join("")},i.prototype.diff_text1=function(p){for(var x=[],S=0;S<p.length;S++)p[S][0]!==m&&(x[S]=p[S][1]);return x.join("")},i.prototype.diff_text2=function(p){for(var x=[],S=0;S<p.length;S++)p[S][0]!==u&&(x[S]=p[S][1]);return x.join("")},i.prototype.diff_levenshtein=function(p){for(var x=0,S=0,M=0,I=0;I<p.length;I++){var R=p[I][0],z=p[I][1];switch(R){case m:S+=z.length;break;case u:M+=z.length;break;case b:x+=Math.max(S,M),S=0,M=0;break}}return x+=Math.max(S,M),x},i.prototype.diff_toDelta=function(p){for(var x=[],S=0;S<p.length;S++)switch(p[S][0]){case m:x[S]="+"+encodeURI(p[S][1]);break;case u:x[S]="-"+p[S][1].length;break;case b:x[S]="="+p[S][1].length;break}return x.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(p,x){for(var S=[],M=0,I=0,R=x.split(/\t/g),z=0;z<R.length;z++){var U=R[z].substring(1);switch(R[z].charAt(0)){case"+":try{S[M++]=new i.Diff(m,decodeURI(U))}catch{throw new Error("Illegal escape in diff_fromDelta: "+U)}break;case"-":case"=":var $=parseInt(U,10);if(isNaN($)||$<0)throw new Error("Invalid number in diff_fromDelta: "+U);var G=p.substring(I,I+=$);R[z].charAt(0)=="="?S[M++]=new i.Diff(b,G):S[M++]=new i.Diff(u,G);break;default:if(R[z])throw new Error("Invalid diff operation in diff_fromDelta: "+R[z])}}if(I!=p.length)throw new Error("Delta length ("+I+") does not equal source text length ("+p.length+").");return S},i.prototype.match_main=function(p,x,S){if(p==null||x==null||S==null)throw new Error("Null input. (match_main)");return S=Math.max(0,Math.min(S,p.length)),p==x?0:p.length?p.substring(S,S+x.length)==x?S:this.match_bitap_(p,x,S):-1},i.prototype.match_bitap_=function(p,x,S){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var M=this.match_alphabet_(x),I=this;function R(Ze,rt){var Ce=Ze/x.length,Ne=Math.abs(S-rt);return I.Match_Distance?Ce+Ne/I.Match_Distance:Ne?1:Ce}var z=this.Match_Threshold,U=p.indexOf(x,S);U!=-1&&(z=Math.min(R(0,U),z),U=p.lastIndexOf(x,S+x.length),U!=-1&&(z=Math.min(R(0,U),z)));var $=1<<x.length-1;U=-1;for(var G,ee,he=x.length+p.length,me,$e=0;$e<x.length;$e++){for(G=0,ee=he;G<ee;)R($e,S+ee)<=z?G=ee:he=ee,ee=Math.floor((he-G)/2+G);he=ee;var Te=Math.max(1,S-ee+1),te=Math.min(S+ee,p.length)+x.length,Ae=Array(te+2);Ae[te+1]=(1<<$e)-1;for(var re=te;re>=Te;re--){var Ge=M[p.charAt(re-1)];if($e===0?Ae[re]=(Ae[re+1]<<1|1)&Ge:Ae[re]=(Ae[re+1]<<1|1)&Ge|((me[re+1]|me[re])<<1|1)|me[re+1],Ae[re]&$){var Ve=R($e,re-1);if(Ve<=z)if(z=Ve,U=re-1,U>S)Te=Math.max(1,2*S-U);else break}}if(R($e+1,S)>z)break;me=Ae}return U},i.prototype.match_alphabet_=function(p){for(var x={},S=0;S<p.length;S++)x[p.charAt(S)]=0;for(var S=0;S<p.length;S++)x[p.charAt(S)]|=1<<p.length-S-1;return x},i.prototype.patch_addContext_=function(p,x){if(x.length!=0){if(p.start2===null)throw Error("patch not initialized");for(var S=x.substring(p.start2,p.start2+p.length1),M=0;x.indexOf(S)!=x.lastIndexOf(S)&&S.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)M+=this.Patch_Margin,S=x.substring(p.start2-M,p.start2+p.length1+M);M+=this.Patch_Margin;var I=x.substring(p.start2-M,p.start2);I&&p.diffs.unshift(new i.Diff(b,I));var R=x.substring(p.start2+p.length1,p.start2+p.length1+M);R&&p.diffs.push(new i.Diff(b,R)),p.start1-=I.length,p.start2-=I.length,p.length1+=I.length+R.length,p.length2+=I.length+R.length}},i.prototype.patch_make=function(p,x,S){var M,I;if(typeof p=="string"&&typeof x=="string"&&typeof S>"u")M=p,I=this.diff_main(M,x,!0),I.length>2&&(this.diff_cleanupSemantic(I),this.diff_cleanupEfficiency(I));else if(p&&typeof p=="object"&&typeof x>"u"&&typeof S>"u")I=p,M=this.diff_text1(I);else if(typeof p=="string"&&x&&typeof x=="object"&&typeof S>"u")M=p,I=x;else if(typeof p=="string"&&typeof x=="string"&&S&&typeof S=="object")M=p,I=S;else throw new Error("Unknown call format to patch_make.");if(I.length===0)return[];for(var R=[],z=new i.patch_obj,U=0,$=0,G=0,ee=M,he=M,me=0;me<I.length;me++){var $e=I[me][0],Te=I[me][1];switch(!U&&$e!==b&&(z.start1=$,z.start2=G),$e){case m:z.diffs[U++]=I[me],z.length2+=Te.length,he=he.substring(0,G)+Te+he.substring(G);break;case u:z.length1+=Te.length,z.diffs[U++]=I[me],he=he.substring(0,G)+he.substring(G+Te.length);break;case b:Te.length<=2*this.Patch_Margin&&U&&I.length!=me+1?(z.diffs[U++]=I[me],z.length1+=Te.length,z.length2+=Te.length):Te.length>=2*this.Patch_Margin&&U&&(this.patch_addContext_(z,ee),R.push(z),z=new i.patch_obj,U=0,ee=he,$=G);break}$e!==m&&($+=Te.length),$e!==u&&(G+=Te.length)}return U&&(this.patch_addContext_(z,ee),R.push(z)),R},i.prototype.patch_deepCopy=function(p){for(var x=[],S=0;S<p.length;S++){var M=p[S],I=new i.patch_obj;I.diffs=[];for(var R=0;R<M.diffs.length;R++)I.diffs[R]=new i.Diff(M.diffs[R][0],M.diffs[R][1]);I.start1=M.start1,I.start2=M.start2,I.length1=M.length1,I.length2=M.length2,x[S]=I}return x},i.prototype.patch_apply=function(p,x){if(p.length==0)return[x,[]];p=this.patch_deepCopy(p);var S=this.patch_addPadding(p);x=S+x+S,this.patch_splitMax(p);for(var M=0,I=[],R=0;R<p.length;R++){var z=p[R].start2+M,U=this.diff_text1(p[R].diffs),$,G=-1;if(U.length>this.Match_MaxBits?($=this.match_main(x,U.substring(0,this.Match_MaxBits),z),$!=-1&&(G=this.match_main(x,U.substring(U.length-this.Match_MaxBits),z+U.length-this.Match_MaxBits),(G==-1||$>=G)&&($=-1))):$=this.match_main(x,U,z),$==-1)I[R]=!1,M-=p[R].length2-p[R].length1;else{I[R]=!0,M=$-z;var ee;if(G==-1?ee=x.substring($,$+U.length):ee=x.substring($,G+this.Match_MaxBits),U==ee)x=x.substring(0,$)+this.diff_text2(p[R].diffs)+x.substring($+U.length);else{var he=this.diff_main(U,ee,!1);if(U.length>this.Match_MaxBits&&this.diff_levenshtein(he)/U.length>this.Patch_DeleteThreshold)I[R]=!1;else{this.diff_cleanupSemanticLossless(he);for(var me=0,$e,Te=0;Te<p[R].diffs.length;Te++){var te=p[R].diffs[Te];te[0]!==b&&($e=this.diff_xIndex(he,me)),te[0]===m?x=x.substring(0,$+$e)+te[1]+x.substring($+$e):te[0]===u&&(x=x.substring(0,$+$e)+x.substring($+this.diff_xIndex(he,me+te[1].length))),te[0]!==u&&(me+=te[1].length)}}}}}return x=x.substring(S.length,x.length-S.length),[x,I]},i.prototype.patch_addPadding=function(p){for(var x=this.Patch_Margin,S="",M=1;M<=x;M++)S+=String.fromCharCode(M);for(var M=0;M<p.length;M++)p[M].start1+=x,p[M].start2+=x;var I=p[0],R=I.diffs;if(R.length==0||R[0][0]!=b)R.unshift(new i.Diff(b,S)),I.start1-=x,I.start2-=x,I.length1+=x,I.length2+=x;else if(x>R[0][1].length){var z=x-R[0][1].length;R[0][1]=S.substring(R[0][1].length)+R[0][1],I.start1-=z,I.start2-=z,I.length1+=z,I.length2+=z}if(I=p[p.length-1],R=I.diffs,R.length==0||R[R.length-1][0]!=b)R.push(new i.Diff(b,S)),I.length1+=x,I.length2+=x;else if(x>R[R.length-1][1].length){var z=x-R[R.length-1][1].length;R[R.length-1][1]+=S.substring(0,z),I.length1+=z,I.length2+=z}return S},i.prototype.patch_splitMax=function(p){for(var x=this.Match_MaxBits,S=0;S<p.length;S++)if(!(p[S].length1<=x)){var M=p[S];p.splice(S--,1);for(var I=M.start1,R=M.start2,z="";M.diffs.length!==0;){var U=new i.patch_obj,$=!0;for(U.start1=I-z.length,U.start2=R-z.length,z!==""&&(U.length1=U.length2=z.length,U.diffs.push(new i.Diff(b,z)));M.diffs.length!==0&&U.length1<x-this.Patch_Margin;){var G=M.diffs[0][0],ee=M.diffs[0][1];G===m?(U.length2+=ee.length,R+=ee.length,U.diffs.push(M.diffs.shift()),$=!1):G===u&&U.diffs.length==1&&U.diffs[0][0]==b&&ee.length>2*x?(U.length1+=ee.length,I+=ee.length,$=!1,U.diffs.push(new i.Diff(G,ee)),M.diffs.shift()):(ee=ee.substring(0,x-U.length1-this.Patch_Margin),U.length1+=ee.length,I+=ee.length,G===b?(U.length2+=ee.length,R+=ee.length):$=!1,U.diffs.push(new i.Diff(G,ee)),ee==M.diffs[0][1]?M.diffs.shift():M.diffs[0][1]=M.diffs[0][1].substring(ee.length))}z=this.diff_text2(U.diffs),z=z.substring(z.length-this.Patch_Margin);var he=this.diff_text1(M.diffs).substring(0,this.Patch_Margin);he!==""&&(U.length1+=he.length,U.length2+=he.length,U.diffs.length!==0&&U.diffs[U.diffs.length-1][0]===b?U.diffs[U.diffs.length-1][1]+=he:U.diffs.push(new i.Diff(b,he))),$||p.splice(++S,0,U)}}},i.prototype.patch_toText=function(p){for(var x=[],S=0;S<p.length;S++)x[S]=p[S];return x.join("")},i.prototype.patch_fromText=function(p){var x=[];if(!p)return x;for(var S=p.split(`
`),M=0,I=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;M<S.length;){var R=S[M].match(I);if(!R)throw new Error("Invalid patch string: "+S[M]);var z=new i.patch_obj;for(x.push(z),z.start1=parseInt(R[1],10),R[2]===""?(z.start1--,z.length1=1):R[2]=="0"?z.length1=0:(z.start1--,z.length1=parseInt(R[2],10)),z.start2=parseInt(R[3],10),R[4]===""?(z.start2--,z.length2=1):R[4]=="0"?z.length2=0:(z.start2--,z.length2=parseInt(R[4],10)),M++;M<S.length;){var U=S[M].charAt(0);try{var $=decodeURI(S[M].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+$)}if(U=="-")z.diffs.push(new i.Diff(u,$));else if(U=="+")z.diffs.push(new i.Diff(m,$));else if(U==" ")z.diffs.push(new i.Diff(b,$));else{if(U=="@")break;if(U!=="")throw new Error('Invalid patch mode "'+U+'" in: '+$)}M++}}return x},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var p,x;this.length1===0?p=this.start1+",0":this.length1==1?p=this.start1+1:p=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var S=["@@ -"+p+" +"+x+` @@
`],M,I=0;I<this.diffs.length;I++){switch(this.diffs[I][0]){case m:M="+";break;case u:M="-";break;case b:M=" ";break}S[I+1]=M+encodeURI(this.diffs[I][1])+`
`}return S.join("").replace(/%20/g," ")},r.exports=i,r.exports.diff_match_patch=i,r.exports.DIFF_DELETE=u,r.exports.DIFF_INSERT=m,r.exports.DIFF_EQUAL=b})(ZG);var kfe=ZG.exports;const Efe=xM(kfe);var jG={exports:{}},KG={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(u,m){return u<<m|u>>>32-m},rotr:function(u,m){return u<<32-m|u>>>m},endian:function(u){if(u.constructor==Number)return i.rotl(u,8)&16711935|i.rotl(u,24)&4278255360;for(var m=0;m<u.length;m++)u[m]=i.endian(u[m]);return u},randomBytes:function(u){for(var m=[];u>0;u--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(u){for(var m=[],b=0,p=0;b<u.length;b++,p+=8)m[p>>>5]|=u[b]<<24-p%32;return m},wordsToBytes:function(u){for(var m=[],b=0;b<u.length*32;b+=8)m.push(u[b>>>5]>>>24-b%32&255);return m},bytesToHex:function(u){for(var m=[],b=0;b<u.length;b++)m.push((u[b]>>>4).toString(16)),m.push((u[b]&15).toString(16));return m.join("")},hexToBytes:function(u){for(var m=[],b=0;b<u.length;b+=2)m.push(parseInt(u.substr(b,2),16));return m},bytesToBase64:function(u){for(var m=[],b=0;b<u.length;b+=3)for(var p=u[b]<<16|u[b+1]<<8|u[b+2],x=0;x<4;x++)b*8+x*6<=u.length*8?m.push(r.charAt(p>>>6*(3-x)&63)):m.push("=");return m.join("")},base64ToBytes:function(u){u=u.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],b=0,p=0;b<u.length;p=++b%4)p!=0&&m.push((r.indexOf(u.charAt(b-1))&Math.pow(2,-2*p+8)-1)<<p*2|r.indexOf(u.charAt(b))>>>6-p*2);return m}};KG.exports=i})();var Afe=KG.exports,nV={utf8:{stringToBytes:function(r){return nV.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(nV.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}},Gj=nV;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Tfe=function(r){return r!=null&&(qG(r)||Ofe(r)||!!r._isBuffer)};function qG(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Ofe(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&qG(r.slice(0,0))}(function(){var r=Afe,i=Gj.utf8,u=Tfe,m=Gj.bin,b=function(p,x){p.constructor==String?x&&x.encoding==="binary"?p=m.stringToBytes(p):p=i.stringToBytes(p):u(p)?p=Array.prototype.slice.call(p,0):!Array.isArray(p)&&p.constructor!==Uint8Array&&(p=p.toString());for(var S=r.bytesToWords(p),M=p.length*8,I=1732584193,R=-271733879,z=-1732584194,U=271733878,$=0;$<S.length;$++)S[$]=(S[$]<<8|S[$]>>>24)&16711935|(S[$]<<24|S[$]>>>8)&4278255360;S[M>>>5]|=128<<M%32,S[(M+64>>>9<<4)+14]=M;for(var G=b._ff,ee=b._gg,he=b._hh,me=b._ii,$=0;$<S.length;$+=16){var $e=I,Te=R,te=z,Ae=U;I=G(I,R,z,U,S[$+0],7,-680876936),U=G(U,I,R,z,S[$+1],12,-389564586),z=G(z,U,I,R,S[$+2],17,606105819),R=G(R,z,U,I,S[$+3],22,-1044525330),I=G(I,R,z,U,S[$+4],7,-176418897),U=G(U,I,R,z,S[$+5],12,1200080426),z=G(z,U,I,R,S[$+6],17,-1473231341),R=G(R,z,U,I,S[$+7],22,-45705983),I=G(I,R,z,U,S[$+8],7,1770035416),U=G(U,I,R,z,S[$+9],12,-1958414417),z=G(z,U,I,R,S[$+10],17,-42063),R=G(R,z,U,I,S[$+11],22,-1990404162),I=G(I,R,z,U,S[$+12],7,1804603682),U=G(U,I,R,z,S[$+13],12,-40341101),z=G(z,U,I,R,S[$+14],17,-1502002290),R=G(R,z,U,I,S[$+15],22,1236535329),I=ee(I,R,z,U,S[$+1],5,-165796510),U=ee(U,I,R,z,S[$+6],9,-1069501632),z=ee(z,U,I,R,S[$+11],14,643717713),R=ee(R,z,U,I,S[$+0],20,-373897302),I=ee(I,R,z,U,S[$+5],5,-701558691),U=ee(U,I,R,z,S[$+10],9,38016083),z=ee(z,U,I,R,S[$+15],14,-660478335),R=ee(R,z,U,I,S[$+4],20,-405537848),I=ee(I,R,z,U,S[$+9],5,568446438),U=ee(U,I,R,z,S[$+14],9,-1019803690),z=ee(z,U,I,R,S[$+3],14,-187363961),R=ee(R,z,U,I,S[$+8],20,1163531501),I=ee(I,R,z,U,S[$+13],5,-1444681467),U=ee(U,I,R,z,S[$+2],9,-51403784),z=ee(z,U,I,R,S[$+7],14,1735328473),R=ee(R,z,U,I,S[$+12],20,-1926607734),I=he(I,R,z,U,S[$+5],4,-378558),U=he(U,I,R,z,S[$+8],11,-2022574463),z=he(z,U,I,R,S[$+11],16,1839030562),R=he(R,z,U,I,S[$+14],23,-35309556),I=he(I,R,z,U,S[$+1],4,-1530992060),U=he(U,I,R,z,S[$+4],11,1272893353),z=he(z,U,I,R,S[$+7],16,-155497632),R=he(R,z,U,I,S[$+10],23,-1094730640),I=he(I,R,z,U,S[$+13],4,681279174),U=he(U,I,R,z,S[$+0],11,-358537222),z=he(z,U,I,R,S[$+3],16,-722521979),R=he(R,z,U,I,S[$+6],23,76029189),I=he(I,R,z,U,S[$+9],4,-640364487),U=he(U,I,R,z,S[$+12],11,-421815835),z=he(z,U,I,R,S[$+15],16,530742520),R=he(R,z,U,I,S[$+2],23,-995338651),I=me(I,R,z,U,S[$+0],6,-198630844),U=me(U,I,R,z,S[$+7],10,1126891415),z=me(z,U,I,R,S[$+14],15,-1416354905),R=me(R,z,U,I,S[$+5],21,-57434055),I=me(I,R,z,U,S[$+12],6,1700485571),U=me(U,I,R,z,S[$+3],10,-1894986606),z=me(z,U,I,R,S[$+10],15,-1051523),R=me(R,z,U,I,S[$+1],21,-2054922799),I=me(I,R,z,U,S[$+8],6,1873313359),U=me(U,I,R,z,S[$+15],10,-30611744),z=me(z,U,I,R,S[$+6],15,-1560198380),R=me(R,z,U,I,S[$+13],21,1309151649),I=me(I,R,z,U,S[$+4],6,-145523070),U=me(U,I,R,z,S[$+11],10,-1120210379),z=me(z,U,I,R,S[$+2],15,718787259),R=me(R,z,U,I,S[$+9],21,-343485551),I=I+$e>>>0,R=R+Te>>>0,z=z+te>>>0,U=U+Ae>>>0}return r.endian([I,R,z,U])};b._ff=function(p,x,S,M,I,R,z){var U=p+(x&S|~x&M)+(I>>>0)+z;return(U<<R|U>>>32-R)+x},b._gg=function(p,x,S,M,I,R,z){var U=p+(x&M|S&~M)+(I>>>0)+z;return(U<<R|U>>>32-R)+x},b._hh=function(p,x,S,M,I,R,z){var U=p+(x^S^M)+(I>>>0)+z;return(U<<R|U>>>32-R)+x},b._ii=function(p,x,S,M,I,R,z){var U=p+(S^(x|~M))+(I>>>0)+z;return(U<<R|U>>>32-R)+x},b._blocksize=16,b._digestsize=16,jG.exports=function(p,x){if(p==null)throw new Error("Illegal argument "+p);var S=r.wordsToBytes(b(p,x));return x&&x.asBytes?S:x&&x.asString?m.bytesToString(S):r.bytesToHex(S)}})();var Dfe=jG.exports;const GG=xM(Dfe),ti=Up.createInstance({storeName:"writer-essay",description:"Essay data"}),xw=new Efe,hH=1e3,Rfe=5e3,Nfe=5e3,Ife=10,Bfe=1e3,pH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let qS=0,Yj=0;const z0=dg("essay",{state:()=>pH,getters:{hasHistory:r=>r.history.length>0,historyLength:r=>r.history.length,openSendings:r=>r.lastStoredIndex-r.lastSentIndex,unsentHistory(r){let i=[],u=r.lastSentIndex+1;for(;u<r.history.length;)i.push(r.history[u]),u++;return i},formatTimestamp(){return r=>new Date(r).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return r=>r.toString().padStart(9,"0")},makeHash(){return(r,i)=>GG(r+i)}},actions:{async clearStorage(){try{await ti.clear()}catch(r){console.log(r)}},addToHistory(r,i=0){let u=this.history.push(r)-1;return r.is_delta?this.sumOfDistances+=i:this.sumOfDistances=0,u},async loadFromData(r){qS=1;try{this.$state=pH,this.currentContent=r.content??"",this.storedContent=r.content??"",this.storedHash=r.hash??"",await ti.clear(),await ti.setItem("storedContent",this.storedContent),await ti.setItem("storedHash",this.storedHash);let i=0;for(;i<r.steps.length;){let u=r.steps[i],m={is_delta:u.is_delta,timestamp:u.timestamp,content:u.content,hash_before:u.hash_before,hash_after:u.hash_after};this.addToHistory(m),await ti.setItem(this.formatIndex(i),m),i++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await ti.setItem("lastStoredIndex",this.lastStoredIndex),await ti.setItem("lastSentIndex",this.lastSentIndex),await ti.setItem("lastSentHash",this.lastSentHash)}catch(i){console.log(i)}qS=0,setInterval(this.updateContent,hH)},async loadFromStorage(){qS=1;try{this.$state=pH,this.lastStoredIndex=await ti.getItem("lastStoredIndex")??-1,this.lastSentIndex=await ti.getItem("lastSentIndex")??-1,this.lastSentHash=await ti.getItem("lastSentHash")??"",this.storedContent=await ti.getItem("storedContent")??"",this.storedHash=await ti.getItem("storedHash")??"",this.currentContent=this.storedContent;let r=0;for(;r<=this.lastStoredIndex;){let i=await ti.getItem(this.formatIndex(r));if(i==null)break;this.addToHistory(i),r++}}catch(r){console.log(r)}qS=0,setInterval(this.updateContent,hH)},async updateContent(r=!1,i=!1){const u=Ac(),m=Date.now();if(!(!i&&m-this.lastCheck<hH||qS++||Vf().writingEndReached)){try{const p=this.currentContent+"";let x=null;if(p!=this.storedContent){const S=this.makeHash(p,u.getServerTime(m));let M=xw.diff_main(this.storedContent,p);xw.diff_cleanupEfficiency(M);const I=xw.diff_levenshtein(M),R=xw.patch_toText(xw.patch_make(this.storedContent,M)),z=xw.patch_apply(xw.patch_fromText(R),this.storedContent);this.history.length==0||i||R.length>p.length||this.sumOfDistances+I>Bfe||z[0]!=p?x={is_delta:0,timestamp:u.getServerTime(m),content:p,hash_before:this.storedHash,hash_after:S}:(I>=Ife||m-this.lastSave>Rfe)&&(x={is_delta:1,timestamp:u.getServerTime(m),content:R,hash_before:this.storedHash,hash_after:S}),x!==null&&(this.lastStoredIndex=this.addToHistory(x,I),this.lastSave=m,this.storedContent=p,this.storedHash=S,await ti.setItem("storedContent",this.storedContent),await ti.setItem("storedHash",this.storedHash),await ti.setItem(this.formatIndex(this.lastStoredIndex),x),await ti.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",x.is_delta,"| Distance (sum): ",I,"(",this.sumOfDistances,")","| Editor: ",r,"| Duration:",Date.now()-m,"ms"))}this.lastCheck=m,this.sendUpdate(i)}catch(p){console.error(p)}qS=0}},async sendUpdate(r=!1){if(!r&&Date.now()-this.lastSending<Nfe||Yj++)return;let i=[],u=this.lastSentIndex,m=this.lastSentHash,b=this.lastSentIndex+1;for(;b<this.history.length;)i.push(this.history[b]),m=this.history[b].hash_after,u=b++;i.length>0&&(await Ac().saveWritingStepsToBackend(i)&&(this.lastSentIndex=u,this.lastSentHash=m,await ti.setItem("lastSentIndex",u),await ti.setItem("lastSentHash",m)),this.lastSending=Date.now()),Yj=!1},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,await ti.setItem("lastSentIndex",this.lastSentIndex),await ti.setItem("lastSentHash",this.lastSentHash),this.lastSending=Date.now()},async hasUnsentSavingsInStorage(){return this.lastStoredIndex=await ti.getItem("lastStoredIndex")??-1,this.lastSentIndex=await ti.getItem("lastSentIndex")??-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(r){return this.lastSentHash=await ti.getItem("lastSentHash")??"",r==this.lastSentHash}}});class H0{constructor(i={}){_r(this,"note_no",0);_r(this,"note_text","");_r(this,"last_change",null);this.setData(i)}static getKeyForNo(i){return"NOTE_"+i}setData(i){i.note_no!==void 0&&i.note_no!==null&&(this.note_no=parseInt(i.note_no)),i.note_text!==void 0&&i.note_text!==null&&(this.note_text=i.note_text.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return H0.getKeyForNo(this.note_no)}getClone(){return new H0(this.getData())}isEqual(i){for(const u in this)if(this[u]!==i[u])return!1;return!0}}const Ip=Up.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Xj=200;function Mfe(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let bH=0;const oy=dg("notes",{state:()=>Mfe(),getters:{hasWrittenNotes:r=>{for(const i in r.notes)if(r.notes[i].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Ip.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await Ip.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await Ip.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new H0(m);this.notes[i]=b,this.editNotes[i]=b.getClone()}}}}catch(r){console.log(r)}},async loadFromData(r){try{await Ip.clear(),this.$reset();for(const i of r){const u=new H0(i);this.notes[u.getKey()]=u,this.editNotes[u.getKey()]=u.getClone(),this.keys.push(u.getKey()),await Ip.setItem(u.getKey(),JSON.stringify(u.getData()))}await Ip.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}bH=0,setInterval(this.updateContent,Xj)},async prepareNotes(r){const i=[];let u=!1;for(let m=0;m<r;m++){const b=H0.getKeyForNo(m);if(i.push(b),this.activeKey==b&&(u=!0),!(b in this.notes)){const p=new H0({note_no:m});this.notes[b]=p,this.editNotes[b]=p.getClone(),await Ip.setItem(b,JSON.stringify(p.getData()))}}this.keys=i,await Ip.setItem("keys",JSON.stringify(this.keys)),r>0&&!u&&(this.activeKey=H0.getKeyForNo(0))},async updateContent(r=!1,i=!1){const u=Date.now();if(!(u-this.lastCheck<Xj&&!i||bH++&&!i||Vf().writingEndReached)){for(const b in this.editNotes)try{const p=this.editNotes[b].getClone(),x=this.notes[b]??new H0;if(!p.isEqual(x)){const S=Ac(),M=Nd();p.last_change=S.getServerTime(Date.now()),this.editNotes[b].setData(p.getData()),this.notes[b]=p,await Ip.setItem(b,JSON.stringify(p.getData())),await M.setChange(new xa({type:xa.TYPE_NOTES,action:xa.ACTION_SAVE,key:b})),console.log("Save Change ","| Editor: ",r,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(p){console.error(p)}bH=0}},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const b of u.getChangesFor(xa.TYPE_NOTES,r)){const p=await Ip.getItem(b.key);p?m.push(i.getChangeDataToSend(b,JSON.parse(p))):m.push(i.getChangeDataToSend(b))}return m}}}),GS=Up.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),ek=dg("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:r=>r.alerts.length,hasAlerts:r=>r.alerts.length>0,hasActiveAlert:r=>r.activeKey!="",activeMessage(r){const i=r.alerts.find(u=>u.key==r.activeKey);return i?i.message:""},getAlert(r){return i=>r.alerts.find(u=>u.key==i)},formatTimestamp(){return r=>new Date(r*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await GS.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await GS.getItem("alertKeys");r&&(this.keys=JSON.parse(r)),this.alerts=[];for(const i of this.keys){let u=await GS.getItem(i);this.alerts.unshift(u)}}catch(r){console.log(r)}},async loadFromData(r,i=!1){try{await GS.clear();let u=[],m=[];for(const b of r)i&&!this.keys.includes(b.key)&&(this.activeKey=b.key),m.unshift(b),u.push(b.key),await GS.setItem(b.key,b);this.keys=u,this.alerts=m,await GS.setItem("alertKeys",JSON.stringify(this.keys))}catch(u){console.log(u)}}}}),sg=Up.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function Pfe(){return{keys:[],annotations:[],markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""}}const iy=dg("annotations",{state:()=>Pfe(),getters:{activeAnnotations:r=>{const u=Ec().shownResourceKey;return u!==null?r.annotations.filter(m=>m.resource_key===u):[]},getAnnotation:r=>function(u){return r.annotations.find(m=>m.getKey()===u)},getAnnotationsForResource:r=>function(u){return r.annotations.filter(m=>m.resource_key===u)},getActiveAnotationsInRange:r=>function(u,m){return r.activeAnnotations.filter(b=>b.start_position<=m&&b.end_position>=u)},getActiveAnnotationsByStartPosition:r=>function(u){return r.activeAnnotations.filter(m=>m.start_position==u)},getActiveAnnotationsByParentNumber:r=>function(u){return r.activeAnnotations.filter(m=>m.parent_number==u)}},actions:{setFirstVisibleAnnotation(r){this.firstVisibleKey=r},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(r){this.selectedKey=r,this.selectionChange=Date.now()},async createAnnotation(r){Ac();const i=Nd();this.keys.push(r.getKey()),this.annotations.push(r),await this.sortAndLabelAnnotations(),this.setMarkerChange(),this.selectAnnotation(r),await sg.setItem(r.getKey(),JSON.stringify(r.getData())),await sg.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:r.getKey()}))},async updateAnnotation(r,i=!1){Ac();const u=Nd();this.keys.includes(r.getKey())&&(await sg.setItem(r.getKey(),JSON.stringify(r.getData())),await u.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:r.getKey()})),i&&(await this.sortAndLabelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(r){this.selectedKey==r&&this.selectAnnotation("");const i=this.annotations.find(b=>b.getKey()==r);this.annotations=this.annotations.filter(b=>b.getKey()!=r),this.keys.includes(r)&&(this.keys=this.keys.filter(b=>b!=r),await sg.setItem("keys",JSON.stringify(this.keys)),await sg.removeItem(r)),this.deletedKey=r;const u=Nd(),m=new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_DELETE,key:i.getKey()});await u.setChange(m),await this.sortAndLabelAnnotations(),this.setMarkerChange()},async sortAndLabelAnnotations(){this.annotations=this.annotations.sort(ag.compare);let r="",i=0,u=0;for(const m of this.annotations)m.resource_key!==r?(r=m.resource_key,i=0,u=1):m.parent_number>i?(i=m.parent_number,u=1):u++,m.label=(i+1).toString()+"."+u.toString()},async clearStorage(){try{await sg.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await sg.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await sg.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new ag(m);this.annotations.push(b)}}}await this.sortAndLabelAnnotations()}catch(r){console.log(r)}},async loadFromData(r){try{await sg.clear(),this.$reset();for(const i of r){const u=new ag(i);this.annotations.push(u),this.keys.push(u.getKey()),await sg.setItem(u.getKey(),JSON.stringify(u.getData()))}await sg.setItem("keys",JSON.stringify(this.keys)),await this.sortAndLabelAnnotations()}catch(i){console.log(i)}},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const b of u.getChangesFor(xa.TYPE_ANNOTATIONS,r)){const p=await sg.getItem(b.key);p?m.push(i.getChangeDataToSend(b,JSON.parse(p))):m.push(i.getChangeDataToSend(b,ag.getFromKey(b.key)))}return m}}}),Lfe=5e3,Ac=dg("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastSendingTry:0}),getters:{isAllSent:r=>{const i=z0(),u=Nd();return!r.isSending&&i.openSendings+u.countChanges==0},isSending:r=>{r.lastSendingTry>0||r.lastStepsTry>0},getRequestConfig:r=>function(u){let m=r.backendUrl,b=new URLSearchParams,p=m.search(/\?+/);return p!=-1&&(b=new URLSearchParams(m.substr(p)),m=m.substr(0,p)),b.append("LongEssayUser",r.userKey),b.append("LongEssayEnvironment",r.environmentKey),b.append("LongEssaySignature",GG(r.userKey+r.environmentKey+u)),{baseURL:m,params:b,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:r=>function(u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+u+"?"+m.params.toString()},getServerTime:r=>function(u){return u==0?0:Math.floor((u-r.timeOffset)/1e3)},getChangeDataToSend:r=>function(u,m=null){const b=u.getData();return m&&(b.payload=m),b.server_time=r.getServerTime(u.last_change),b}},actions:{async init(){let r=!1,i=Ki.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Ki.get("LongEssayUser")&&Ki.get("LongEssayUser")!==this.userKey&&(this.userKey=Ki.get("LongEssayUser"),r=!0),Ki.get("LongEssayEnvironment")&&Ki.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Ki.get("LongEssayEnvironment"),r=!0),Ki.get("LongEssayBackend")&&Ki.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Ki.get("LongEssayBackend")),Ki.get("LongEssayReturn")&&Ki.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Ki.get("LongEssayReturn")),Ki.get("LongEssayToken")&&Ki.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Ki.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const u=z0(),m=Nd();r?await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):i?await u.hasHashInStorage(i)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),setInterval(this.timedSync,Lfe)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const r=ph(),i=Z0(),u=Vf(),m=ek(),b=lg(),p=z0(),x=oy(),S=Ec(),M=Nd(),I=iy();await r.loadFromStorage(),await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await b.loadFromStorage(),await p.loadFromStorage(),await x.loadFromStorage(),await x.prepareNotes(r.notice_boards),await S.loadFromStorage(),await M.loadFromStorage(),await I.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let r={};try{r=await Ra.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r)}catch(z){console.error(z),this.showInitFailure=!0;return}const i=ph(),u=Z0(),m=Vf(),b=ek(),p=lg(),x=z0(),S=oy(),M=Nd(),I=Ec(),R=iy();await i.loadFromData(r.data.settings),await u.loadFromData(r.data.preferences),await m.loadFromData(r.data.task),await b.loadFromData(r.data.alerts,!1),await p.loadFromData(r.data.resources),await x.loadFromData(r.data.essay),await S.loadFromData(r.data.notes),await S.prepareNotes(i.notice_boards),await R.loadFromData(r.data.annotations),await M.clearStorage(),await I.initialize(),r.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastSendingTry>0)return!1;this.lastSendingTry=Date.now();try{const r=await Ra.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(r),this.refreshToken(r);const i=Vf(),u=ek(),m=ph(),b=oy();return await i.loadFromUpdate(r.data.task),await u.loadFromData(r.data.alerts,!0),await m.loadFromData(r.data.settings),await b.prepareNotes(m.notice_boards),this.lastSendingTry=0,!0}catch(r){return console.error(r),this.lastSendingTry=0,!1}},async sendStart(){let r={},i={started:this.getServerTime(Date.now())};try{return r=await Ra.put("/start",i,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(u){return console.error(u),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(r){let i={},u={steps:r};this.lastStepsTry=Date.now();try{return i=await Ra.put("/steps",u,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i),this.lastStepsTry=0,!0}catch(m){return console.error(m),this.lastStepsTry=0,!1}},async saveChangesToBackend(r=!1){const i=iy(),u=Nd(),m=oy(),b=Z0();if(r){let p=0;for(;p<5&&this.lastSendingTry>0;)p++,await new Promise(x=>setTimeout(x,1e3))}if(this.lastSendingTry>0)return!1;if(u.countChanges>0){this.lastSendingTry=Date.now();try{const p={annotations:await i.getChangedData(this.lastSendingTry),notes:await m.getChangedData(this.lastSendingTry),preferences:await b.getChangedData(this.lastSendingTry)},x=await Ra.put("/changes",p,this.getRequestConfig(this.dataToken));this.setTimeOffset(x),this.refreshToken(x),await u.setChangesSent(xa.TYPE_ANNOTATIONS,x.data.annotations,this.lastSendingTry),await u.setChangesSent(xa.TYPE_NOTES,x.data.notes,this.lastSendingTry),await u.setChangesSent(xa.TYPE_PREFERENCES,x.data.preferences,this.lastSendingTry)}catch(p){return console.error(p),this.lastSendingTry=0,!1}this.lastSendingTry=0}return!0},async saveFinalContentToBackend(r,i,u,m){let b={},p={steps:r,content:i,hash:u,authorized:m};try{return b=await Ra.put("/final",p,this.getRequestConfig(this.dataToken)),this.refreshToken(b),!0}catch(x){return console.error(x),!1}},updateConfig(){Ki.remove("LongEssayBackend"),Ki.remove("LongEssayReturn"),Ki.remove("LongEssayUser"),Ki.remove("LongEssayEnvironment"),Ki.remove("LongEssayToken"),Ki.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(r){if(r.headers.longessaytime){const i=r.headers.longessaytime*1e3,u=Date.now();this.timeOffset=u-i,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(r){r.headers.longessaydatatoken&&(this.dataToken=r.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),r.headers.longessayfiletoken&&(this.fileToken=r.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(r){const i=ph(),u=Vf(),m=lg(),b=z0(),p=oy(),x=Ec(),S=ek(),M=Nd();if((r||b.openSendings>0)&&!await this.saveFinalContentToBackend(b.unsentHistory,b.storedContent,b.storedHash,r)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=r;return}await i.clearStorage(),await u.clearStorage(),await m.clearStorage(),await b.clearStorage(),await p.clearStorage(),await x.clearStorage(),await S.clearStorage(),await M.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const r=z0();await this.saveFinalContentToBackend(r.unsentHistory,r.storedContent,r.storedHash,!1)?await r.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0}}}),S8=Up.createInstance({storeName:"writer-task",description:"Task data"}),Vf=dg("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:r=>!!r.instructions,hasWritingEnd:r=>!!r.writing_end,writingEndReached:r=>r.remaining_time===0,isExcluded:r=>r.writing_excluded>0},actions:{setData(r){this.title=r.title,this.instructions=r.instructions,this.writer_name=r.writer_name,this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded},async clearStorage(){try{await S8.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await S8.getItem("task");this.setData(r)}catch(r){console.log(r)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromData(r){try{await S8.setItem("task",r),this.setData(r)}catch(i){console.log(i)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromUpdate(r){try{this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded,await S8.setItem("task",{title:this.title,instructions:this.instructions,writer_name:this.writer_name,writing_end:this.writing_end,writing_excluded:this.writing_excluded})}catch(i){console.log(i)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},updateRemainingTime(){const r=Ac();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-r.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(r.review=!0)}}}),xy=eo({border:[Boolean,Number,String]},"border");function wy(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return{borderClasses:ct(()=>{const m=Ma(r)?r.value:r.border,b=[];if(m===!0||m==="")b.push(`${i}--border`);else if(typeof m=="string"||m===0)for(const p of String(m).split(" "))b.push(`border-${p}`);return b})}}const Ffe=[null,"default","comfortable","compact"],X0=eo({density:{type:String,default:"default",validator:r=>Ffe.includes(r)}},"density");function Cy(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return{densityClasses:ct(()=>`${i}--density-${r.density}`)}}const Lw=eo({elevation:{type:[Number,String],validator(r){const i=parseInt(r);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function Fw(r){return{elevationClasses:ct(()=>{const u=Ma(r)?r.value:r.elevation,m=[];return u==null||m.push(`elevation-${u}`),m})}}const xh=eo({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function wh(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return{roundedClasses:ct(()=>{const m=Ma(r)?r.value:r.rounded,b=Ma(r)?r.value:r.tile,p=[];if(m===!0||m==="")p.push(`${i}--rounded`);else if(typeof m=="string"||m===0)for(const x of String(m).split(" "))p.push(`rounded-${x}`);else(b||m===!1)&&p.push("rounded-0");return p})}}const Yi=eo({tag:{type:String,default:"div"}},"tag");function GV(r){return FV(()=>{const i=[],u={};if(r.value.background)if($H(r.value.background)){if(u.backgroundColor=r.value.background,!r.value.text&&rce(r.value.background)){const m=Fp(r.value.background);if(m.a==null||m.a===1){const b=Qq(m);u.color=b,u.caretColor=b}}}else i.push(`bg-${r.value.background}`);return r.value.text&&($H(r.value.text)?(u.color=r.value.text,u.caretColor=r.value.text):i.push(`text-${r.value.text}`)),{colorClasses:i,colorStyles:u}})}function my(r,i){const u=ct(()=>({text:Ma(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:b}=GV(u);return{textColorClasses:m,textColorStyles:b}}function zp(r,i){const u=ct(()=>({background:Ma(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:b}=GV(u);return{backgroundColorClasses:m,backgroundColorStyles:b}}const zfe=["elevated","flat","tonal","outlined","text","plain"];function EM(r,i){return be(ks,null,[r&&be("span",{key:"overlay",class:`${i}__overlay`},null),be("span",{key:"underlay",class:`${i}__underlay`},null)])}const gk=eo({color:String,variant:{type:String,default:"elevated",validator:r=>zfe.includes(r)}},"variant");function AM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();const u=ct(()=>{const{variant:p}=Ue(r);return`${i}--variant-${p}`}),{colorClasses:m,colorStyles:b}=GV(ct(()=>{const{variant:p,color:x}=Ue(r);return{[["elevated","flat"].includes(p)?"background":"text"]:x}}));return{colorClasses:m,colorStyles:b,variantClasses:u}}const YG=eo({baseColor:String,divided:Boolean,...xy(),...ss(),...X0(),...Lw(),...xh(),...Yi(),...Ql(),...gk()},"VBtnGroup"),ck=rr()({name:"VBtnGroup",props:YG(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=Dc(r),{densityClasses:b}=Cy(r),{borderClasses:p}=wy(r),{elevationClasses:x}=Fw(r),{roundedClasses:S}=wh(r);uk({VBtn:{height:"auto",baseColor:es(r,"baseColor"),color:es(r,"color"),density:es(r,"density"),flat:!0,variant:es(r,"variant")}}),jr(()=>be(r.tag,{class:["v-btn-group",{"v-btn-group--divided":r.divided},m.value,p.value,b.value,x.value,S.value,r.class],style:r.style},u))}}),Hfe=eo({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Vfe=eo({value:null,disabled:Boolean,selectedClass:String},"group-item");function $fe(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=Sl("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const b=yy();jf(Symbol.for(`${i.description}:id`),b);const p=qi(i,null);if(!p){if(!u)return p;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${i.description}`)}const x=es(r,"value"),S=ct(()=>!!(p.disabled.value||r.disabled));p.register({id:b,value:x,disabled:S},m),Oc(()=>{p.unregister(b)});const M=ct(()=>p.isSelected(b)),I=ct(()=>p.items.value[0].id===b),R=ct(()=>p.items.value[p.items.value.length-1].id===b),z=ct(()=>M.value&&[p.selectedClass.value,r.selectedClass]);return Xn(M,U=>{m.emit("group:selected",{value:U})},{flush:"sync"}),{id:b,isSelected:M,isFirst:I,isLast:R,toggle:()=>p.select(b,!M.value),select:U=>p.select(b,U),selectedClass:z,value:x,disabled:S,group:p}}function Ufe(r,i){let u=!1;const m=lu([]),b=$f(r,"modelValue",[],U=>U==null?[]:XG(m,Ow(U)),U=>{const $=Zfe(m,U);return r.multiple?$:$[0]}),p=Sl("useGroup");function x(U,$){const G=U,ee=Symbol.for(`${i.description}:id`),me=JS(ee,p==null?void 0:p.vnode).indexOf($);Ue(G.value)==null&&(G.value=me,G.useIndexAsValue=!0),me>-1?m.splice(me,0,G):m.push(G)}function S(U){if(u)return;M();const $=m.findIndex(G=>G.id===U);m.splice($,1)}function M(){const U=m.find($=>!$.disabled);U&&r.mandatory==="force"&&!b.value.length&&(b.value=[U.id])}Tc(()=>{M()}),Oc(()=>{u=!0}),TV(()=>{for(let U=0;U<m.length;U++)m[U].useIndexAsValue&&(m[U].value=U)});function I(U,$){const G=m.find(ee=>ee.id===U);if(!($&&(G!=null&&G.disabled)))if(r.multiple){const ee=b.value.slice(),he=ee.findIndex($e=>$e===U),me=~he;if($=$??!me,me&&r.mandatory&&ee.length<=1||!me&&r.max!=null&&ee.length+1>r.max)return;he<0&&$?ee.push(U):he>=0&&!$&&ee.splice(he,1),b.value=ee}else{const ee=b.value.includes(U);if(r.mandatory&&ee)return;b.value=$??!ee?[U]:[]}}function R(U){if(r.multiple,b.value.length){const $=b.value[0],G=m.findIndex(me=>me.id===$);let ee=(G+U)%m.length,he=m[ee];for(;he.disabled&&ee!==G;)ee=(ee+U)%m.length,he=m[ee];if(he.disabled)return;b.value=[m[ee].id]}else{const $=m.find(G=>!G.disabled);$&&(b.value=[$.id])}}const z={register:x,unregister:S,selected:b,select:I,disabled:es(r,"disabled"),prev:()=>R(m.length-1),next:()=>R(1),isSelected:U=>b.value.includes(U),selectedClass:ct(()=>r.selectedClass),items:ct(()=>m),getItemIndex:U=>Wfe(m,U)};return jf(i,z),z}function Wfe(r,i){const u=XG(r,[i]);return u.length?r.findIndex(m=>m.id===u[0]):-1}function XG(r,i){const u=[];return i.forEach(m=>{const b=r.find(x=>hM(m,x.value)),p=r[m];(b==null?void 0:b.value)!=null?u.push(b.id):p!=null&&u.push(p.id)}),u}function Zfe(r,i){const u=[];return i.forEach(m=>{const b=r.findIndex(p=>p.id===m);if(~b){const p=r[b];u.push(p.value!=null?p.value:b)}}),u}const JG=Symbol.for("vuetify:v-btn-toggle"),jfe=eo({...YG(),...Hfe()},"VBtnToggle"),QG=rr()({name:"VBtnToggle",props:jfe(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const{isSelected:m,next:b,prev:p,select:x,selected:S}=Ufe(r,JG);return jr(()=>{const M=ck.filterProps(r);return be(ck,Na({class:["v-btn-toggle",r.class]},M,{style:r.style}),{default:()=>{var I;return[(I=u.default)==null?void 0:I.call(u,{isSelected:m,next:b,prev:p,select:x,selected:S})]}})}),{next:b,prev:p,select:x}}}),Kfe=eo({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),uu=rr(!1)({name:"VDefaultsProvider",props:Kfe(),setup(r,i){let{slots:u}=i;const{defaults:m,disabled:b,reset:p,root:x,scoped:S}=aO(r);return uk(m,{reset:p,root:x,scoped:S,disabled:b}),()=>{var M;return(M=u.default)==null?void 0:M.call(u)}}}),qfe=["x-small","small","default","large","x-large"],TM=eo({size:{type:[String,Number],default:"default"}},"size");function OM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return FV(()=>{let u,m;return Z8(qfe,r.size)?u=`${i}--size-${r.size}`:r.size&&(m={width:cr(r.size),height:cr(r.size)}),{sizeClasses:u,sizeStyles:m}})}const Gfe=eo({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:_l,...ss(),...TM(),...Yi({tag:"i"}),...Ql()},"VIcon"),Sr=rr()({name:"VIcon",props:Gfe(),setup(r,i){let{attrs:u,slots:m}=i;const b=Mo(),{themeClasses:p}=Dc(r),{iconData:x}=kue(ct(()=>b.value||r.icon)),{sizeClasses:S}=OM(r),{textColorClasses:M,textColorStyles:I}=my(es(r,"color"));return jr(()=>{var U,$;const R=(U=m.default)==null?void 0:U.call(m);R&&(b.value=($=Uq(R).filter(G=>G.type===lO&&G.children&&typeof G.children=="string")[0])==null?void 0:$.children);const z=!!(u.onClick||u.onClickOnce);return be(x.value.component,{tag:r.tag,icon:x.value.icon,class:["v-icon","notranslate",p.value,S.value,M.value,{"v-icon--clickable":z,"v-icon--disabled":r.disabled,"v-icon--start":r.start,"v-icon--end":r.end},r.class],style:[S.value?void 0:{fontSize:cr(r.size),height:cr(r.size),width:cr(r.size)},I.value,r.style],role:z?"button":void 0,"aria-hidden":!z,tabindex:z?r.disabled?-1:0:void 0},{default:()=>[R]})}),{}}});function eY(r,i){const u=Mo(),m=Ar(!1);if(PV){const b=new IntersectionObserver(p=>{m.value=!!p.find(x=>x.isIntersecting)},i);Oc(()=>{b.disconnect()}),Xn(u,(p,x)=>{x&&(b.unobserve(x),m.value=!1),p&&b.observe(p)},{flush:"post"})}return{intersectionRef:u,isIntersecting:m}}const Yfe=eo({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ss(),...TM(),...Yi({tag:"div"}),...Ql()},"VProgressCircular"),Xfe=rr()({name:"VProgressCircular",props:Yfe(),setup(r,i){let{slots:u}=i;const m=20,b=2*Math.PI*m,p=Mo(),{themeClasses:x}=Dc(r),{sizeClasses:S,sizeStyles:M}=OM(r),{textColorClasses:I,textColorStyles:R}=my(es(r,"color")),{textColorClasses:z,textColorStyles:U}=my(es(r,"bgColor")),{intersectionRef:$,isIntersecting:G}=eY(),{resizeRef:ee,contentRect:he}=dG(),me=ct(()=>Math.max(0,Math.min(100,parseFloat(r.modelValue)))),$e=ct(()=>Number(r.width)),Te=ct(()=>M.value?Number(r.size):he.value?he.value.width:Math.max($e.value,32)),te=ct(()=>m/(1-$e.value/Te.value)*2),Ae=ct(()=>$e.value/Te.value*te.value),re=ct(()=>cr((100-me.value)/100*b));return vh(()=>{$.value=p.value,ee.value=p.value}),jr(()=>be(r.tag,{ref:p,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!r.indeterminate,"v-progress-circular--visible":G.value,"v-progress-circular--disable-shrink":r.indeterminate==="disable-shrink"},x.value,S.value,I.value,r.class],style:[M.value,R.value,r.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":r.indeterminate?void 0:me.value},{default:()=>[be("svg",{style:{transform:`rotate(calc(-90deg + ${Number(r.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${te.value} ${te.value}`},[be("circle",{class:["v-progress-circular__underlay",z.value],style:U.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":0},null),be("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":re.value},null)]),u.default&&be("div",{class:"v-progress-circular__content"},[u.default({value:me.value})])]})),{}}}),J0=eo({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Q0(r){return{dimensionStyles:ct(()=>{const u={},m=cr(r.height),b=cr(r.maxHeight),p=cr(r.maxWidth),x=cr(r.minHeight),S=cr(r.minWidth),M=cr(r.width);return m!=null&&(u.height=m),b!=null&&(u.maxHeight=b),p!=null&&(u.maxWidth=p),x!=null&&(u.minHeight=x),S!=null&&(u.minWidth=S),M!=null&&(u.width=M),u})}}const Jj={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},YV=eo({location:String},"location");function XV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=Y0();return{locationStyles:ct(()=>{if(!r.location)return{};const{side:p,align:x}=HH(r.location.split(" ").length>1?r.location:`${r.location} center`,m.value);function S(I){return u?u(I):0}const M={};return p!=="center"&&(i?M[Jj[p]]=`calc(100% - ${S(p)}px)`:M[p]=0),x!=="center"?i?M[Jj[x]]=`calc(100% - ${S(x)}px)`:M[x]=0:(p==="center"?M.top=M.left="50%":M[{top:"left",bottom:"left",left:"top",right:"top"}[p]]="50%",M.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[p]),M})}}const Jfe=eo({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ss(),...YV({location:"top"}),...xh(),...Yi(),...Ql()},"VProgressLinear"),Qfe=rr()({name:"VProgressLinear",props:Jfe(),emits:{"update:modelValue":r=>!0},setup(r,i){var Ce;let{slots:u}=i;const m=$f(r,"modelValue"),{isRtl:b,rtlClasses:p}=Y0(),{themeClasses:x}=Dc(r),{locationStyles:S}=XV(r),{textColorClasses:M,textColorStyles:I}=my(r,"color"),{backgroundColorClasses:R,backgroundColorStyles:z}=zp(ct(()=>r.bgColor||r.color)),{backgroundColorClasses:U,backgroundColorStyles:$}=zp(ct(()=>r.bufferColor||r.bgColor||r.color)),{backgroundColorClasses:G,backgroundColorStyles:ee}=zp(r,"color"),{roundedClasses:he}=wh(r),{intersectionRef:me,isIntersecting:$e}=eY(),Te=ct(()=>parseFloat(r.max)),te=ct(()=>parseFloat(r.height)),Ae=ct(()=>Bw(parseFloat(r.bufferValue)/Te.value*100,0,100)),re=ct(()=>Bw(parseFloat(m.value)/Te.value*100,0,100)),Ge=ct(()=>b.value!==r.reverse),Ve=ct(()=>r.indeterminate?"fade-transition":"slide-x-transition"),Ze=pi&&((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(forced-colors: active)").matches);function rt(Ne){if(!me.value)return;const{left:D,right:yt,width:Pt}=me.value.getBoundingClientRect(),ln=Ge.value?Pt-Ne.clientX+(yt-Pt):Ne.clientX-D;m.value=Math.round(ln/Pt*Te.value)}return jr(()=>be(r.tag,{ref:me,class:["v-progress-linear",{"v-progress-linear--absolute":r.absolute,"v-progress-linear--active":r.active&&$e.value,"v-progress-linear--reverse":Ge.value,"v-progress-linear--rounded":r.rounded,"v-progress-linear--rounded-bar":r.roundedBar,"v-progress-linear--striped":r.striped},he.value,x.value,p.value,r.class],style:[{bottom:r.location==="bottom"?0:void 0,top:r.location==="top"?0:void 0,height:r.active?cr(te.value):0,"--v-progress-linear-height":cr(te.value),...r.absolute?S.value:{}},r.style],role:"progressbar","aria-hidden":r.active?"false":"true","aria-valuemin":"0","aria-valuemax":r.max,"aria-valuenow":r.indeterminate?void 0:re.value,onClick:r.clickable&&rt},{default:()=>[r.stream&&be("div",{key:"stream",class:["v-progress-linear__stream",M.value],style:{...I.value,[Ge.value?"left":"right"]:cr(-te.value),borderTop:`${cr(te.value/2)} dotted`,opacity:parseFloat(r.bufferOpacity),top:`calc(50% - ${cr(te.value/4)})`,width:cr(100-Ae.value,"%"),"--v-progress-linear-stream-to":cr(te.value*(Ge.value?1:-1))}},null),be("div",{class:["v-progress-linear__background",Ze?void 0:R.value],style:[z.value,{opacity:parseFloat(r.bgOpacity),width:r.stream?0:void 0}]},null),be("div",{class:["v-progress-linear__buffer",Ze?void 0:U.value],style:[$.value,{opacity:parseFloat(r.bufferOpacity),width:cr(Ae.value,"%")}]},null),be(Vp,{name:Ve.value},{default:()=>[r.indeterminate?be("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>be("div",{key:Ne,class:["v-progress-linear__indeterminate",Ne,Ze?void 0:G.value],style:ee.value},null))]):be("div",{class:["v-progress-linear__determinate",Ze?void 0:G.value],style:[ee.value,{width:cr(re.value,"%")}]},null)]}),u.default&&be("div",{class:"v-progress-linear__content"},[u.default({value:re.value,buffer:Ae.value})])]})),{}}}),JV=eo({loading:[Boolean,String]},"loader");function QV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return{loaderClasses:ct(()=>({[`${i}--loading`]:r.loading}))}}function tY(r,i){var m;let{slots:u}=i;return be("div",{class:`${r.name}__loader`},[((m=u.default)==null?void 0:m.call(u,{color:r.color,isActive:r.active}))||be(Qfe,{absolute:r.absolute,active:r.active,color:r.color,height:"2",indeterminate:!0},null)])}const eme=["static","relative","fixed","absolute","sticky"],nY=eo({position:{type:String,validator:r=>eme.includes(r)}},"position");function oY(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();return{positionClasses:ct(()=>r.position?`${i}--${r.position}`:void 0)}}function tme(){const r=Sl("useRoute");return ct(()=>{var i;return(i=r==null?void 0:r.proxy)==null?void 0:i.$route})}function rY(){var r,i;return(i=(r=Sl("useRouter"))==null?void 0:r.proxy)==null?void 0:i.$router}function e$(r,i){var I,R;const u=eie("RouterLink"),m=ct(()=>!!(r.href||r.to)),b=ct(()=>(m==null?void 0:m.value)||sj(i,"click")||sj(r,"click"));if(typeof u=="string"||!("useLink"in u))return{isLink:m,isClickable:b,href:es(r,"href")};const p=ct(()=>({...r,to:es(()=>r.to||"")})),x=u.useLink(p.value),S=ct(()=>r.to?x:void 0),M=tme();return{isLink:m,isClickable:b,route:(I=S.value)==null?void 0:I.route,navigate:(R=S.value)==null?void 0:R.navigate,isActive:ct(()=>{var z,U,$;return S.value?r.exact?M.value?(($=S.value.isExactActive)==null?void 0:$.value)&&hM(S.value.route.value.query,M.value.query):((U=S.value.isExactActive)==null?void 0:U.value)??!1:((z=S.value.isActive)==null?void 0:z.value)??!1:!1}),href:ct(()=>{var z;return r.to?(z=S.value)==null?void 0:z.route.value.href:r.href})}}const t$=eo({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let vH=!1;function nme(r,i){let u=!1,m,b;pi&&(Ia(()=>{window.addEventListener("popstate",p),m=r==null?void 0:r.beforeEach((x,S,M)=>{vH?u?i(M):M():setTimeout(()=>u?i(M):M()),vH=!0}),b=r==null?void 0:r.afterEach(()=>{vH=!1})}),Zf(()=>{window.removeEventListener("popstate",p),m==null||m(),b==null||b()}));function p(x){var S;(S=x.state)!=null&&S.replaced||(u=!0,setTimeout(()=>u=!1))}}function ome(r,i){Xn(()=>{var u;return(u=r.isActive)==null?void 0:u.value},u=>{r.isLink.value&&u&&i&&Ia(()=>{i(!0)})},{immediate:!0})}const oV=Symbol("rippleStop"),rme=80;function Qj(r,i){r.style.transform=i,r.style.webkitTransform=i}function rV(r){return r.constructor.name==="TouchEvent"}function sY(r){return r.constructor.name==="KeyboardEvent"}const sme=function(r,i){var z;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,b=0;if(!sY(r)){const U=i.getBoundingClientRect(),$=rV(r)?r.touches[r.touches.length-1]:r;m=$.clientX-U.left,b=$.clientY-U.top}let p=0,x=.3;(z=i._ripple)!=null&&z.circle?(x=.15,p=i.clientWidth/2,p=u.center?p:p+Math.sqrt((m-p)**2+(b-p)**2)/4):p=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const S=`${(i.clientWidth-p*2)/2}px`,M=`${(i.clientHeight-p*2)/2}px`,I=u.center?S:`${m-p}px`,R=u.center?M:`${b-p}px`;return{radius:p,scale:x,x:I,y:R,centerX:S,centerY:M}},tM={show(r,i){var $;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(($=i==null?void 0:i._ripple)!=null&&$.enabled))return;const m=document.createElement("span"),b=document.createElement("span");m.appendChild(b),m.className="v-ripple__container",u.class&&(m.className+=` ${u.class}`);const{radius:p,scale:x,x:S,y:M,centerX:I,centerY:R}=sme(r,i,u),z=`${p*2}px`;b.className="v-ripple__animation",b.style.width=z,b.style.height=z,i.appendChild(m);const U=window.getComputedStyle(i);U&&U.position==="static"&&(i.style.position="relative",i.dataset.previousPosition="static"),b.classList.add("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--visible"),Qj(b,`translate(${S}, ${M}) scale3d(${x},${x},${x})`),b.dataset.activated=String(performance.now()),setTimeout(()=>{b.classList.remove("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--in"),Qj(b,`translate(${I}, ${R}) scale3d(1,1,1)`)},0)},hide(r){var p;if(!((p=r==null?void 0:r._ripple)!=null&&p.enabled))return;const i=r.getElementsByClassName("v-ripple__animation");if(i.length===0)return;const u=i[i.length-1];if(u.dataset.isHiding)return;u.dataset.isHiding="true";const m=performance.now()-Number(u.dataset.activated),b=Math.max(250-m,0);setTimeout(()=>{u.classList.remove("v-ripple__animation--in"),u.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;r.getElementsByClassName("v-ripple__animation").length===1&&r.dataset.previousPosition&&(r.style.position=r.dataset.previousPosition,delete r.dataset.previousPosition),((S=u.parentNode)==null?void 0:S.parentNode)===r&&r.removeChild(u.parentNode)},300)},b)}};function aY(r){return typeof r>"u"||!!r}function tO(r){const i={},u=r.currentTarget;if(!(!(u!=null&&u._ripple)||u._ripple.touched||r[oV])){if(r[oV]=!0,rV(r))u._ripple.touched=!0,u._ripple.isTouch=!0;else if(u._ripple.isTouch)return;if(i.center=u._ripple.centered||sY(r),u._ripple.class&&(i.class=u._ripple.class),rV(r)){if(u._ripple.showTimerCommit)return;u._ripple.showTimerCommit=()=>{tM.show(r,u,i)},u._ripple.showTimer=window.setTimeout(()=>{var m;(m=u==null?void 0:u._ripple)!=null&&m.showTimerCommit&&(u._ripple.showTimerCommit(),u._ripple.showTimerCommit=null)},rme)}else tM.show(r,u,i)}}function eK(r){r[oV]=!0}function Ff(r){const i=r.currentTarget;if(i!=null&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),r.type==="touchend"&&i._ripple.showTimerCommit){i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,i._ripple.showTimer=window.setTimeout(()=>{Ff(r)});return}window.setTimeout(()=>{i._ripple&&(i._ripple.touched=!1)}),tM.hide(i)}}function iY(r){const i=r.currentTarget;i!=null&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let nO=!1;function lY(r){!nO&&(r.keyCode===tj.enter||r.keyCode===tj.space)&&(nO=!0,tO(r))}function cY(r){nO=!1,Ff(r)}function uY(r){nO&&(nO=!1,Ff(r))}function dY(r,i,u){const{value:m,modifiers:b}=i,p=aY(m);if(p||tM.hide(r),r._ripple=r._ripple??{},r._ripple.enabled=p,r._ripple.centered=b.center,r._ripple.circle=b.circle,Dle(m)&&m.class&&(r._ripple.class=m.class),p&&!u){if(b.stop){r.addEventListener("touchstart",eK,{passive:!0}),r.addEventListener("mousedown",eK);return}r.addEventListener("touchstart",tO,{passive:!0}),r.addEventListener("touchend",Ff,{passive:!0}),r.addEventListener("touchmove",iY,{passive:!0}),r.addEventListener("touchcancel",Ff),r.addEventListener("mousedown",tO),r.addEventListener("mouseup",Ff),r.addEventListener("mouseleave",Ff),r.addEventListener("keydown",lY),r.addEventListener("keyup",cY),r.addEventListener("blur",uY),r.addEventListener("dragstart",Ff,{passive:!0})}else!p&&u&&fY(r)}function fY(r){r.removeEventListener("mousedown",tO),r.removeEventListener("touchstart",tO),r.removeEventListener("touchend",Ff),r.removeEventListener("touchmove",iY),r.removeEventListener("touchcancel",Ff),r.removeEventListener("mouseup",Ff),r.removeEventListener("mouseleave",Ff),r.removeEventListener("keydown",lY),r.removeEventListener("keyup",cY),r.removeEventListener("dragstart",Ff),r.removeEventListener("blur",uY)}function ame(r,i){dY(r,i,!1)}function ime(r){delete r._ripple,fY(r)}function lme(r,i){if(i.value===i.oldValue)return;const u=aY(i.oldValue);dY(r,i,u)}const n$={mounted:ame,unmounted:ime,updated:lme},cme=eo({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:JG},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:_l,appendIcon:_l,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...xy(),...ss(),...X0(),...J0(),...Lw(),...Vfe(),...JV(),...YV(),...nY(),...xh(),...t$(),...TM(),...Yi({tag:"button"}),...Ql(),...gk({variant:"elevated"})},"VBtn"),$r=rr()({name:"VBtn",props:cme(),emits:{"group:selected":r=>!0},setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=Dc(r),{borderClasses:p}=wy(r),{densityClasses:x}=Cy(r),{dimensionStyles:S}=Q0(r),{elevationClasses:M}=Fw(r),{loaderClasses:I}=QV(r),{locationStyles:R}=XV(r),{positionClasses:z}=oY(r),{roundedClasses:U}=wh(r),{sizeClasses:$,sizeStyles:G}=OM(r),ee=$fe(r,r.symbol,!1),he=e$(r,u),me=ct(()=>{var Ce;return r.active!==void 0?r.active:he.isLink.value?(Ce=he.isActive)==null?void 0:Ce.value:ee==null?void 0:ee.isSelected.value}),$e=ct(()=>me.value?r.activeColor??r.color:r.color),Te=ct(()=>{var Ne,D;return{color:(ee==null?void 0:ee.isSelected.value)&&(!he.isLink.value||((Ne=he.isActive)==null?void 0:Ne.value))||!ee||((D=he.isActive)==null?void 0:D.value)?$e.value??r.baseColor:r.baseColor,variant:r.variant}}),{colorClasses:te,colorStyles:Ae,variantClasses:re}=AM(Te),Ge=ct(()=>(ee==null?void 0:ee.disabled.value)||r.disabled),Ve=ct(()=>r.variant==="elevated"&&!(r.disabled||r.flat||r.border)),Ze=ct(()=>{if(!(r.value===void 0||typeof r.value=="symbol"))return Object(r.value)===r.value?JSON.stringify(r.value,null,0):r.value});function rt(Ce){var Ne;Ge.value||he.isLink.value&&(Ce.metaKey||Ce.ctrlKey||Ce.shiftKey||Ce.button!==0||u.target==="_blank")||((Ne=he.navigate)==null||Ne.call(he,Ce),ee==null||ee.toggle())}return ome(he,ee==null?void 0:ee.select),jr(()=>{const Ce=he.isLink.value?"a":r.tag,Ne=!!(r.prependIcon||m.prepend),D=!!(r.appendIcon||m.append),yt=!!(r.icon&&r.icon!==!0);return qo(be(Ce,{type:Ce==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":me.value,"v-btn--block":r.block,"v-btn--disabled":Ge.value,"v-btn--elevated":Ve.value,"v-btn--flat":r.flat,"v-btn--icon":!!r.icon,"v-btn--loading":r.loading,"v-btn--readonly":r.readonly,"v-btn--slim":r.slim,"v-btn--stacked":r.stacked},b.value,p.value,te.value,x.value,M.value,I.value,z.value,U.value,$.value,re.value,r.class],style:[Ae.value,S.value,R.value,G.value,r.style],"aria-busy":r.loading?!0:void 0,disabled:Ge.value||void 0,href:he.href.value,tabindex:r.loading||r.readonly?-1:void 0,onClick:rt,value:Ze.value},{default:()=>{var Pt;return[EM(!0,"v-btn"),!r.icon&&Ne&&be("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?be(uu,{key:"prepend-defaults",disabled:!r.prependIcon,defaults:{VIcon:{icon:r.prependIcon}}},m.prepend):be(Sr,{key:"prepend-icon",icon:r.prependIcon},null)]),be("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&yt?be(Sr,{key:"content-icon",icon:r.icon},null):be(uu,{key:"content-defaults",disabled:!yt,defaults:{VIcon:{icon:r.icon}}},{default:()=>{var ln;return[((ln=m.default)==null?void 0:ln.call(m))??r.text]}})]),!r.icon&&D&&be("span",{key:"append",class:"v-btn__append"},[m.append?be(uu,{key:"append-defaults",disabled:!r.appendIcon,defaults:{VIcon:{icon:r.appendIcon}}},m.append):be(Sr,{key:"append-icon",icon:r.appendIcon},null)]),!!r.loading&&be("span",{key:"loader",class:"v-btn__loader"},[((Pt=m.loader)==null?void 0:Pt.call(m))??be(Xfe,{color:typeof r.loading=="boolean"?void 0:r.loading,indeterminate:!0,width:"2"},null)])]}}),[[n$,!Ge.value&&r.ripple,"",{center:!!r.icon}]])}),{group:ee}}}),ume={__name:"Timer",setup(r){const i=Vf(),u=Ec();function m(b){const p=("00"+Math.floor(b)%60).slice(-2),x=("00"+Math.floor(b/60)%60).slice(-2),S=("00"+Math.floor(b/3600)%24).slice(-2),M=Math.floor(b/86400);return M>1?M+" Tage "+S+" Stunden":M>0?M+" Tag "+S+" Stunden":S!="00"?S+":"+x+":"+p+" Stunden":x!="00"?x+":"+p+" Minuten":p+" Sekunden"}return(b,p)=>qo((hr(),ni($r,{class:"app-header-item",onClick:p[0]||(p[0]=x=>Ue(u).toggleTimer())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-clock-outline"}),qo(lt("span",null,Bd(m(Ue(i).remaining_time)),513),[[gr,Ue(u).showTimer]]),qo(lt("span",null,"Restzeit",512),[[gr,!Ue(u).showTimer]])]),_:1},512)),[[gr,!Ue(i).writingEndReached]])}},j0=rr()({name:"VCardActions",props:ss(),setup(r,i){let{slots:u}=i;return uk({VBtn:{slim:!0,variant:"text"}}),jr(()=>{var m;return be("div",{class:["v-card-actions",r.class],style:r.style},[(m=u.default)==null?void 0:m.call(u)])}),{}}}),dme=eo({opacity:[Number,String],...ss(),...Yi()},"VCardSubtitle"),fme=rr()({name:"VCardSubtitle",props:dme(),setup(r,i){let{slots:u}=i;return jr(()=>be(r.tag,{class:["v-card-subtitle",r.class],style:[{"--v-card-subtitle-opacity":r.opacity},r.style]},u)),{}}}),sV=$V("v-card-title");function mme(r){return{aspectStyles:ct(()=>{const i=Number(r.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const mY=eo({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ss(),...J0()},"VResponsive"),tK=rr()({name:"VResponsive",props:mY(),setup(r,i){let{slots:u}=i;const{aspectStyles:m}=mme(r),{dimensionStyles:b}=Q0(r);return jr(()=>{var p;return be("div",{class:["v-responsive",{"v-responsive--inline":r.inline},r.class],style:[b.value,r.style]},[be("div",{class:"v-responsive__sizer",style:m.value},null),(p=u.additional)==null?void 0:p.call(u),u.default&&be("div",{class:["v-responsive__content",r.contentClass]},[u.default()])])}),{}}}),DM=eo({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:r=>r!==!0}},"transition"),ry=(r,i)=>{let{slots:u}=i;const{transition:m,disabled:b,group:p,...x}=r,{component:S=p?MV:Vp,...M}=typeof m=="object"?m:{};return Hp(S,Na(typeof m=="string"?{name:b?"":m}:M,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:b,group:p}).filter(I=>{let[R,z]=I;return z!==void 0})),x),u)};function gme(r,i){if(!PV)return;const u=i.modifiers||{},m=i.value,{handler:b,options:p}=typeof m=="object"?m:{handler:m,options:{}},x=new IntersectionObserver(function(){var z;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1?arguments[1]:void 0;const I=(z=r._observe)==null?void 0:z[i.instance.$.uid];if(!I)return;const R=S.some(U=>U.isIntersecting);b&&(!u.quiet||I.init)&&(!u.once||R||I.init)&&b(R,S,M),R&&u.once?gY(r,i):I.init=!0},p);r._observe=Object(r._observe),r._observe[i.instance.$.uid]={init:!1,observer:x},x.observe(r)}function gY(r,i){var m;const u=(m=r._observe)==null?void 0:m[i.instance.$.uid];u&&(u.observer.unobserve(r),delete r._observe[i.instance.$.uid])}const hY={mounted:gme,unmounted:gY},hme=eo({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...mY(),...ss(),...xh(),...DM()},"VImg"),RM=rr()({name:"VImg",directives:{intersect:hY},props:hme(),emits:{loadstart:r=>!0,load:r=>!0,error:r=>!0},setup(r,i){let{emit:u,slots:m}=i;const{backgroundColorClasses:b,backgroundColorStyles:p}=zp(es(r,"color")),{roundedClasses:x}=wh(r),S=Sl("VImg"),M=Ar(""),I=Mo(),R=Ar(r.eager?"loading":"idle"),z=Ar(),U=Ar(),$=ct(()=>r.src&&typeof r.src=="object"?{src:r.src.src,srcset:r.srcset||r.src.srcset,lazySrc:r.lazySrc||r.src.lazySrc,aspect:Number(r.aspectRatio||r.src.aspect||0)}:{src:r.src,srcset:r.srcset,lazySrc:r.lazySrc,aspect:Number(r.aspectRatio||0)}),G=ct(()=>$.value.aspect||z.value/U.value||0);Xn(()=>r.src,()=>{ee(R.value!=="idle")}),Xn(G,(Ne,D)=>{!Ne&&D&&I.value&&te(I.value)}),AV(()=>ee());function ee(Ne){if(!(r.eager&&Ne)&&!(PV&&!Ne&&!r.eager)){if(R.value="loading",$.value.lazySrc){const D=new Image;D.src=$.value.lazySrc,te(D,null)}$.value.src&&Ia(()=>{var D;u("loadstart",((D=I.value)==null?void 0:D.currentSrc)||$.value.src),setTimeout(()=>{var yt;if(!S.isUnmounted)if((yt=I.value)!=null&&yt.complete){if(I.value.naturalWidth||me(),R.value==="error")return;G.value||te(I.value,null),R.value==="loading"&&he()}else G.value||te(I.value),$e()})})}}function he(){var Ne;S.isUnmounted||($e(),te(I.value),R.value="loaded",u("load",((Ne=I.value)==null?void 0:Ne.currentSrc)||$.value.src))}function me(){var Ne;S.isUnmounted||(R.value="error",u("error",((Ne=I.value)==null?void 0:Ne.currentSrc)||$.value.src))}function $e(){const Ne=I.value;Ne&&(M.value=Ne.currentSrc||Ne.src)}let Te=-1;Oc(()=>{clearTimeout(Te)});function te(Ne){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const yt=()=>{if(clearTimeout(Te),S.isUnmounted)return;const{naturalHeight:Pt,naturalWidth:ln}=Ne;Pt||ln?(z.value=ln,U.value=Pt):!Ne.complete&&R.value==="loading"&&D!=null?Te=window.setTimeout(yt,D):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(z.value=1,U.value=1)};yt()}const Ae=ct(()=>({"v-img__img--cover":r.cover,"v-img__img--contain":!r.cover})),re=()=>{var yt;if(!$.value.src||R.value==="idle")return null;const Ne=be("img",{class:["v-img__img",Ae.value],style:{objectPosition:r.position},src:$.value.src,srcset:$.value.srcset,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable,sizes:r.sizes,ref:I,onLoad:he,onError:me},null),D=(yt=m.sources)==null?void 0:yt.call(m);return be(ry,{transition:r.transition,appear:!0},{default:()=>[qo(D?be("picture",{class:"v-img__picture"},[D,Ne]):Ne,[[gr,R.value==="loaded"]])]})},Ge=()=>be(ry,{transition:r.transition},{default:()=>[$.value.lazySrc&&R.value!=="loaded"&&be("img",{class:["v-img__img","v-img__img--preload",Ae.value],style:{objectPosition:r.position},src:$.value.lazySrc,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable},null)]}),Ve=()=>m.placeholder?be(ry,{transition:r.transition,appear:!0},{default:()=>[(R.value==="loading"||R.value==="error"&&!m.error)&&be("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ze=()=>m.error?be(ry,{transition:r.transition,appear:!0},{default:()=>[R.value==="error"&&be("div",{class:"v-img__error"},[m.error()])]}):null,rt=()=>r.gradient?be("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${r.gradient})`}},null):null,Ce=Ar(!1);{const Ne=Xn(G,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ce.value=!0})}),Ne())})}return jr(()=>{const Ne=tK.filterProps(r);return qo(be(tK,Na({class:["v-img",{"v-img--absolute":r.absolute,"v-img--booting":!Ce.value},b.value,x.value,r.class],style:[{width:cr(r.width==="auto"?z.value:r.width)},p.value,r.style]},Ne,{aspectRatio:G.value,"aria-label":r.alt,role:r.alt?"img":void 0}),{additional:()=>be(ks,null,[be(re,null,null),be(Ge,null,null),be(rt,null,null),be(Ve,null,null),be(Ze,null,null)]),default:m.default}),[[iO("intersect"),{handler:ee,options:r.options},null,{once:!0}]])}),{currentSrc:M,image:I,state:R,naturalWidth:z,naturalHeight:U}}}),pme=eo({start:Boolean,end:Boolean,icon:_l,image:String,text:String,...xy(),...ss(),...X0(),...xh(),...TM(),...Yi(),...Ql(),...gk({variant:"flat"})},"VAvatar"),nM=rr()({name:"VAvatar",props:pme(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=Dc(r),{borderClasses:b}=wy(r),{colorClasses:p,colorStyles:x,variantClasses:S}=AM(r),{densityClasses:M}=Cy(r),{roundedClasses:I}=wh(r),{sizeClasses:R,sizeStyles:z}=OM(r);return jr(()=>be(r.tag,{class:["v-avatar",{"v-avatar--start":r.start,"v-avatar--end":r.end},m.value,b.value,p.value,M.value,I.value,R.value,S.value,r.class],style:[x.value,z.value,r.style]},{default:()=>[u.default?be(uu,{key:"content-defaults",defaults:{VImg:{cover:!0,src:r.image},VIcon:{icon:r.icon}}},{default:()=>[u.default()]}):r.image?be(RM,{key:"image",src:r.image,alt:"",cover:!0},null):r.icon?be(Sr,{key:"icon",icon:r.icon},null):r.text,EM(!1,"v-avatar")]})),{}}}),bme=eo({appendAvatar:String,appendIcon:_l,prependAvatar:String,prependIcon:_l,subtitle:[String,Number],title:[String,Number],...ss(),...X0()},"VCardItem"),vme=rr()({name:"VCardItem",props:bme(),setup(r,i){let{slots:u}=i;return jr(()=>{var I;const m=!!(r.prependAvatar||r.prependIcon),b=!!(m||u.prepend),p=!!(r.appendAvatar||r.appendIcon),x=!!(p||u.append),S=!!(r.title!=null||u.title),M=!!(r.subtitle!=null||u.subtitle);return be("div",{class:["v-card-item",r.class],style:r.style},[b&&be("div",{key:"prepend",class:"v-card-item__prepend"},[u.prepend?be(uu,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon}}},u.prepend):be(ks,null,[r.prependAvatar&&be(nM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&be(Sr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)])]),be("div",{class:"v-card-item__content"},[S&&be(sV,{key:"title"},{default:()=>{var R;return[((R=u.title)==null?void 0:R.call(u))??r.title]}}),M&&be(fme,{key:"subtitle"},{default:()=>{var R;return[((R=u.subtitle)==null?void 0:R.call(u))??r.subtitle]}}),(I=u.default)==null?void 0:I.call(u)]),x&&be("div",{key:"append",class:"v-card-item__append"},[u.append?be(uu,{key:"append-defaults",disabled:!p,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon}}},u.append):be(ks,null,[r.appendIcon&&be(Sr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&be(nM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)])])])}),{}}}),yme=eo({opacity:[Number,String],...ss(),...Yi()},"VCardText"),K0=rr()({name:"VCardText",props:yme(),setup(r,i){let{slots:u}=i;return jr(()=>be(r.tag,{class:["v-card-text",r.class],style:[{"--v-card-text-opacity":r.opacity},r.style]},u)),{}}}),xme=eo({appendAvatar:String,appendIcon:_l,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:_l,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...xy(),...ss(),...X0(),...J0(),...Lw(),...JV(),...YV(),...nY(),...xh(),...t$(),...Yi(),...Ql(),...gk({variant:"elevated"})},"VCard"),ly=rr()({name:"VCard",directives:{Ripple:n$},props:xme(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=Dc(r),{borderClasses:p}=wy(r),{colorClasses:x,colorStyles:S,variantClasses:M}=AM(r),{densityClasses:I}=Cy(r),{dimensionStyles:R}=Q0(r),{elevationClasses:z}=Fw(r),{loaderClasses:U}=QV(r),{locationStyles:$}=XV(r),{positionClasses:G}=oY(r),{roundedClasses:ee}=wh(r),he=e$(r,u),me=ct(()=>r.link!==!1&&he.isLink.value),$e=ct(()=>!r.disabled&&r.link!==!1&&(r.link||he.isClickable.value));return jr(()=>{const Te=me.value?"a":r.tag,te=!!(m.title||r.title!=null),Ae=!!(m.subtitle||r.subtitle!=null),re=te||Ae,Ge=!!(m.append||r.appendAvatar||r.appendIcon),Ve=!!(m.prepend||r.prependAvatar||r.prependIcon),Ze=!!(m.image||r.image),rt=re||Ve||Ge,Ce=!!(m.text||r.text!=null);return qo(be(Te,{class:["v-card",{"v-card--disabled":r.disabled,"v-card--flat":r.flat,"v-card--hover":r.hover&&!(r.disabled||r.flat),"v-card--link":$e.value},b.value,p.value,x.value,I.value,z.value,U.value,G.value,ee.value,M.value,r.class],style:[S.value,R.value,$.value,r.style],href:he.href.value,onClick:$e.value&&he.navigate,tabindex:r.disabled?-1:void 0},{default:()=>{var Ne;return[Ze&&be("div",{key:"image",class:"v-card__image"},[m.image?be(uu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},m.image):be(RM,{key:"image-img",cover:!0,src:r.image},null)]),be(tY,{name:"v-card",active:!!r.loading,color:typeof r.loading=="boolean"?void 0:r.loading},{default:m.loader}),rt&&be(vme,{key:"item",prependAvatar:r.prependAvatar,prependIcon:r.prependIcon,title:r.title,subtitle:r.subtitle,appendAvatar:r.appendAvatar,appendIcon:r.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Ce&&be(K0,{key:"text"},{default:()=>{var D;return[((D=m.text)==null?void 0:D.call(m))??r.text]}}),(Ne=m.default)==null?void 0:Ne.call(m),m.actions&&be(j0,null,{default:m.actions}),EM($e.value,"v-card")]}}),[[iO("ripple"),$e.value&&r.ripple]])}),{}}}),wme=eo({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Kf(r,i,u){return rr()({name:r,props:wme({mode:u,origin:i}),setup(m,b){let{slots:p}=b;const x={onBeforeEnter(S){m.origin&&(S.style.transformOrigin=m.origin)},onLeave(S){if(m.leaveAbsolute){const{offsetTop:M,offsetLeft:I,offsetWidth:R,offsetHeight:z}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${M}px`,S.style.left=`${I}px`,S.style.width=`${R}px`,S.style.height=`${z}px`}m.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(m.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:M,top:I,left:R,width:z,height:U}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=M||"",S.style.top=I||"",S.style.left=R||"",S.style.width=z||"",S.style.height=U||""}}};return()=>{const S=m.group?MV:Vp;return Hp(S,{name:m.disabled?"":r,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:x},p.default)}}})}function pY(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return rr()({name:r,props:{mode:{type:String,default:u},disabled:Boolean,group:Boolean},setup(m,b){let{slots:p}=b;const x=m.group?MV:Vp;return()=>Hp(x,{name:m.disabled?"":r,css:!m.disabled,...m.disabled?{}:i},p.default)}})}function bY(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=Wf(`offset-${u}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[u]:x.style[u]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const M=`${x[m]}px`;x.style[u]="0",x.offsetHeight,x.style.transition=S.transition,r&&x._parent&&x._parent.classList.add(r),requestAnimationFrame(()=>{x.style[u]=M})},onAfterEnter:p,onEnterCancelled:p,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[u]:x.style[u]},x.style.overflow="hidden",x.style[u]=`${x[m]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[u]="0")},onAfterLeave:b,onLeaveCancelled:b};function b(x){r&&x._parent&&x._parent.classList.remove(r),p(x)}function p(x){const S=x._initialStyle[u];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[u]=S),delete x._initialStyle}}const Cme=eo({target:[Object,Array]},"v-dialog-transition"),_me=rr()({name:"VDialogTransition",props:Cme(),setup(r,i){let{slots:u}=i;const m={onBeforeEnter(b){b.style.pointerEvents="none",b.style.visibility="hidden"},async onEnter(b,p){var U;await new Promise($=>requestAnimationFrame($)),await new Promise($=>requestAnimationFrame($)),b.style.visibility="";const{x,y:S,sx:M,sy:I,speed:R}=oK(r.target,b),z=QS(b,[{transform:`translate(${x}px, ${S}px) scale(${M}, ${I})`,opacity:0},{}],{duration:225*R,easing:pce});(U=nK(b))==null||U.forEach($=>{QS($,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*R,easing:K8})}),z.finished.then(()=>p())},onAfterEnter(b){b.style.removeProperty("pointer-events")},onBeforeLeave(b){b.style.pointerEvents="none"},async onLeave(b,p){var U;await new Promise($=>requestAnimationFrame($));const{x,y:S,sx:M,sy:I,speed:R}=oK(r.target,b);QS(b,[{},{transform:`translate(${x}px, ${S}px) scale(${M}, ${I})`,opacity:0}],{duration:125*R,easing:bce}).finished.then(()=>p()),(U=nK(b))==null||U.forEach($=>{QS($,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*R,easing:K8})})},onAfterLeave(b){b.style.removeProperty("pointer-events")}};return()=>r.target?be(Vp,Na({name:"dialog-transition"},m,{css:!1}),u):be(Vp,{name:"dialog-transition"},u)}});function nK(r){var u;const i=(u=r.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:u.children;return i&&[...i]}function oK(r,i){const u=qq(r),m=zV(i),[b,p]=getComputedStyle(i).transformOrigin.split(" ").map(me=>parseFloat(me)),[x,S]=getComputedStyle(i).getPropertyValue("--v-overlay-anchor-origin").split(" ");let M=u.left+u.width/2;x==="left"||S==="left"?M-=u.width/2:(x==="right"||S==="right")&&(M+=u.width/2);let I=u.top+u.height/2;x==="top"||S==="top"?I-=u.height/2:(x==="bottom"||S==="bottom")&&(I+=u.height/2);const R=u.width/m.width,z=u.height/m.height,U=Math.max(1,R,z),$=R/U||0,G=z/U||0,ee=m.width*m.height/(window.innerWidth*window.innerHeight),he=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:M-(b+m.left),y:I-(p+m.top),sx:$,sy:G,speed:he}}Kf("fab-transition","center center","out-in");Kf("dialog-bottom-transition");Kf("dialog-top-transition");Kf("fade-transition");Kf("scale-transition");Kf("scroll-x-transition");Kf("scroll-x-reverse-transition");Kf("scroll-y-transition");Kf("scroll-y-reverse-transition");Kf("slide-x-transition");Kf("slide-x-reverse-transition");const vY=Kf("slide-y-transition");Kf("slide-y-reverse-transition");const yY=pY("expand-transition",bY()),Sme=pY("expand-x-transition",bY("",!0));function yH(r,i){return{x:r.x+i.x,y:r.y+i.y}}function kme(r,i){return{x:r.x-i.x,y:r.y-i.y}}function rK(r,i){if(r.side==="top"||r.side==="bottom"){const{side:u,align:m}=r,b=m==="left"?0:m==="center"?i.width/2:m==="right"?i.width:m,p=u==="top"?0:u==="bottom"?i.height:u;return yH({x:b,y:p},i)}else if(r.side==="left"||r.side==="right"){const{side:u,align:m}=r,b=u==="left"?0:u==="right"?i.width:u,p=m==="top"?0:m==="center"?i.height/2:m==="bottom"?i.height:m;return yH({x:b,y:p},i)}return yH({x:i.width/2,y:i.height/2},i)}const xY={static:Tme,connected:Dme},Eme=eo({locationStrategy:{type:[String,Function],default:"static",validator:r=>typeof r=="function"||r in xY},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Ame(r,i){const u=Mo({}),m=Mo();pi&&bh(()=>!!(i.isActive.value&&r.locationStrategy),p=>{var x,S;Xn(()=>r.locationStrategy,p),Zf(()=>{window.removeEventListener("resize",b),m.value=void 0}),window.addEventListener("resize",b,{passive:!0}),typeof r.locationStrategy=="function"?m.value=(x=r.locationStrategy(i,r,u))==null?void 0:x.updateLocation:m.value=(S=xY[r.locationStrategy](i,r,u))==null?void 0:S.updateLocation});function b(p){var x;(x=m.value)==null||x.call(m,p)}return{contentStyles:u,updateLocation:m}}function Tme(){}function Ome(r,i){const u=zV(r);return i?u.x+=parseFloat(r.style.right||0):u.x-=parseFloat(r.style.left||0),u.y-=parseFloat(r.style.top||0),u}function Dme(r,i,u){(Array.isArray(r.target.value)||xce(r.target.value))&&Object.assign(u.value,{position:"fixed",top:0,[r.isRtl.value?"right":"left"]:0});const{preferredAnchor:b,preferredOrigin:p}=FV(()=>{const G=HH(i.location,r.isRtl.value),ee=i.origin==="overlap"?G:i.origin==="auto"?rH(G):HH(i.origin,r.isRtl.value);return G.side===ee.side&&G.align===sH(ee).align?{preferredAnchor:aj(G),preferredOrigin:aj(ee)}:{preferredAnchor:G,preferredOrigin:ee}}),[x,S,M,I]=["minWidth","minHeight","maxWidth","maxHeight"].map(G=>ct(()=>{const ee=parseFloat(i[G]);return isNaN(ee)?1/0:ee})),R=ct(()=>{if(Array.isArray(i.offset))return i.offset;if(typeof i.offset=="string"){const G=i.offset.split(" ").map(parseFloat);return G.length<2&&G.push(0),G}return typeof i.offset=="number"?[i.offset,0]:[0,0]});let z=!1;const U=new ResizeObserver(()=>{z&&$()});Xn([r.target,r.contentEl],(G,ee)=>{let[he,me]=G,[$e,Te]=ee;$e&&!Array.isArray($e)&&U.unobserve($e),he&&!Array.isArray(he)&&U.observe(he),Te&&U.unobserve(Te),me&&U.observe(me)},{immediate:!0}),Zf(()=>{U.disconnect()});function $(){if(z=!1,requestAnimationFrame(()=>z=!0),!r.target.value||!r.contentEl.value)return;const G=qq(r.target.value),ee=Ome(r.contentEl.value,r.isRtl.value),he=q8(r.contentEl.value),me=12;he.length||(he.push(document.documentElement),r.contentEl.value.style.top&&r.contentEl.value.style.left||(ee.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ee.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const $e=he.reduce((Ce,Ne)=>{const D=Ne.getBoundingClientRect(),yt=new Rw({x:Ne===document.documentElement?0:D.x,y:Ne===document.documentElement?0:D.y,width:Ne.clientWidth,height:Ne.clientHeight});return Ce?new Rw({x:Math.max(Ce.left,yt.left),y:Math.max(Ce.top,yt.top),width:Math.min(Ce.right,yt.right)-Math.max(Ce.left,yt.left),height:Math.min(Ce.bottom,yt.bottom)-Math.max(Ce.top,yt.top)}):yt},void 0);$e.x+=me,$e.y+=me,$e.width-=me*2,$e.height-=me*2;let Te={anchor:b.value,origin:p.value};function te(Ce){const Ne=new Rw(ee),D=rK(Ce.anchor,G),yt=rK(Ce.origin,Ne);let{x:Pt,y:ln}=kme(D,yt);switch(Ce.anchor.side){case"top":ln-=R.value[0];break;case"bottom":ln+=R.value[0];break;case"left":Pt-=R.value[0];break;case"right":Pt+=R.value[0];break}switch(Ce.anchor.align){case"top":ln-=R.value[1];break;case"bottom":ln+=R.value[1];break;case"left":Pt-=R.value[1];break;case"right":Pt+=R.value[1];break}return Ne.x+=Pt,Ne.y+=ln,Ne.width=Math.min(Ne.width,M.value),Ne.height=Math.min(Ne.height,I.value),{overflows:lj(Ne,$e),x:Pt,y:ln}}let Ae=0,re=0;const Ge={x:0,y:0},Ve={x:!1,y:!1};let Ze=-1;for(;!(Ze++>10);){const{x:Ce,y:Ne,overflows:D}=te(Te);Ae+=Ce,re+=Ne,ee.x+=Ce,ee.y+=Ne;{const yt=ij(Te.anchor),Pt=D.x.before||D.x.after,ln=D.y.before||D.y.after;let gn=!1;if(["x","y"].forEach(Qe=>{if(Qe==="x"&&Pt&&!Ve.x||Qe==="y"&&ln&&!Ve.y){const On={anchor:{...Te.anchor},origin:{...Te.origin}},nr=Qe==="x"?yt==="y"?sH:rH:yt==="y"?rH:sH;On.anchor=nr(On.anchor),On.origin=nr(On.origin);const{overflows:pt}=te(On);(pt[Qe].before<=D[Qe].before&&pt[Qe].after<=D[Qe].after||pt[Qe].before+pt[Qe].after<(D[Qe].before+D[Qe].after)/2)&&(Te=On,gn=Ve[Qe]=!0)}}),gn)continue}D.x.before&&(Ae+=D.x.before,ee.x+=D.x.before),D.x.after&&(Ae-=D.x.after,ee.x-=D.x.after),D.y.before&&(re+=D.y.before,ee.y+=D.y.before),D.y.after&&(re-=D.y.after,ee.y-=D.y.after);{const yt=lj(ee,$e);Ge.x=$e.width-yt.x.before-yt.x.after,Ge.y=$e.height-yt.y.before-yt.y.after,Ae+=yt.x.before,ee.x+=yt.x.before,re+=yt.y.before,ee.y+=yt.y.before}break}const rt=ij(Te.anchor);return Object.assign(u.value,{"--v-overlay-anchor-origin":`${Te.anchor.side} ${Te.anchor.align}`,transformOrigin:`${Te.origin.side} ${Te.origin.align}`,top:cr(xH(re)),left:r.isRtl.value?void 0:cr(xH(Ae)),right:r.isRtl.value?cr(xH(-Ae)):void 0,minWidth:cr(rt==="y"?Math.min(x.value,G.width):x.value),maxWidth:cr(sK(Bw(Ge.x,x.value===1/0?0:x.value,M.value))),maxHeight:cr(sK(Bw(Ge.y,S.value===1/0?0:S.value,I.value)))}),{available:Ge,contentBox:ee}}return Xn(()=>[b.value,p.value,i.offset,i.minWidth,i.minHeight,i.maxWidth,i.maxHeight],()=>$()),Ia(()=>{const G=$();if(!G)return;const{available:ee,contentBox:he}=G;he.height>ee.y&&requestAnimationFrame(()=>{$(),requestAnimationFrame(()=>{$()})})}),{updateLocation:$}}function xH(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}function sK(r){return Math.ceil(r*devicePixelRatio)/devicePixelRatio}let aV=!0;const oM=[];function Rme(r){!aV||oM.length?(oM.push(r),iV()):(aV=!1,r(),iV())}let aK=-1;function iV(){cancelAnimationFrame(aK),aK=requestAnimationFrame(()=>{const r=oM.shift();r&&r(),oM.length?iV():aV=!0})}const F8={none:null,close:Bme,block:Mme,reposition:Pme},Nme=eo({scrollStrategy:{type:[String,Function],default:"block",validator:r=>typeof r=="function"||r in F8}},"VOverlay-scroll-strategies");function Ime(r,i){if(!pi)return;let u;vh(async()=>{u==null||u.stop(),i.isActive.value&&r.scrollStrategy&&(u=rO(),await new Promise(m=>setTimeout(m)),u.active&&u.run(()=>{var m;typeof r.scrollStrategy=="function"?r.scrollStrategy(i,r,u):(m=F8[r.scrollStrategy])==null||m.call(F8,i,r,u)}))}),Zf(()=>{u==null||u.stop()})}function Bme(r){function i(u){r.isActive.value=!1}wY(r.targetEl.value??r.contentEl.value,i)}function Mme(r,i){var x;const u=(x=r.root.value)==null?void 0:x.offsetParent,m=[...new Set([...q8(r.targetEl.value,i.contained?u:void 0),...q8(r.contentEl.value,i.contained?u:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),b=window.innerWidth-document.documentElement.offsetWidth,p=(S=>UV(S)&&S)(u||document.documentElement);p&&r.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((S,M)=>{S.style.setProperty("--v-body-scroll-x",cr(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",cr(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",cr(b)),S.classList.add("v-overlay-scroll-blocked")}),Zf(()=>{m.forEach((S,M)=>{const I=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),R=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),z=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-I,S.scrollTop=-R,S.style.scrollBehavior=z}),p&&r.root.value.classList.remove("v-overlay--scroll-blocked")})}function Pme(r,i,u){let m=!1,b=-1,p=-1;function x(S){Rme(()=>{var R,z;const M=performance.now();(z=(R=r.updateLocation).value)==null||z.call(R,S),m=(performance.now()-M)/(1e3/60)>2})}p=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{u.run(()=>{wY(r.targetEl.value??r.contentEl.value,S=>{m?(cancelAnimationFrame(b),b=requestAnimationFrame(()=>{b=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Zf(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(p),cancelAnimationFrame(b)})}function wY(r,i){const u=[document,...q8(r)];u.forEach(m=>{m.addEventListener("scroll",i,{passive:!0})}),Zf(()=>{u.forEach(m=>{m.removeEventListener("scroll",i)})})}const Lme=Symbol.for("vuetify:v-menu"),CY=eo({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function _Y(r,i){let u=()=>{};function m(x){u==null||u();const S=Number(x?r.openDelay:r.closeDelay);return new Promise(M=>{u=Hle(S,()=>{i==null||i(x),M(x)})})}function b(){return m(!0)}function p(){return m(!1)}return{clearDelay:u,runOpenDelay:b,runCloseDelay:p}}const Fme=eo({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...CY()},"VOverlay-activator");function zme(r,i){let{isActive:u,isTop:m,contentEl:b}=i;const p=Sl("useActivator"),x=Mo();let S=!1,M=!1,I=!0;const R=ct(()=>r.openOnFocus||r.openOnFocus==null&&r.openOnHover),z=ct(()=>r.openOnClick||r.openOnClick==null&&!r.openOnHover&&!R.value),{runOpenDelay:U,runCloseDelay:$}=_Y(r,Ve=>{Ve===(r.openOnHover&&S||R.value&&M)&&!(r.openOnHover&&u.value&&!m.value)&&(u.value!==Ve&&(I=!0),u.value=Ve)}),G=Mo(),ee={onClick:Ve=>{Ve.stopPropagation(),x.value=Ve.currentTarget||Ve.target,u.value||(G.value=[Ve.clientX,Ve.clientY]),u.value=!u.value},onMouseenter:Ve=>{var Ze;(Ze=Ve.sourceCapabilities)!=null&&Ze.firesTouchEvents||(S=!0,x.value=Ve.currentTarget||Ve.target,U())},onMouseleave:Ve=>{S=!1,$()},onFocus:Ve=>{zle(Ve.target,":focus-visible")!==!1&&(M=!0,Ve.stopPropagation(),x.value=Ve.currentTarget||Ve.target,U())},onBlur:Ve=>{M=!1,Ve.stopPropagation(),$()}},he=ct(()=>{const Ve={};return z.value&&(Ve.onClick=ee.onClick),r.openOnHover&&(Ve.onMouseenter=ee.onMouseenter,Ve.onMouseleave=ee.onMouseleave),R.value&&(Ve.onFocus=ee.onFocus,Ve.onBlur=ee.onBlur),Ve}),me=ct(()=>{const Ve={};if(r.openOnHover&&(Ve.onMouseenter=()=>{S=!0,U()},Ve.onMouseleave=()=>{S=!1,$()}),R.value&&(Ve.onFocusin=()=>{M=!0,U()},Ve.onFocusout=()=>{M=!1,$()}),r.closeOnContentClick){const Ze=qi(Lme,null);Ve.onClick=()=>{u.value=!1,Ze==null||Ze.closeParents()}}return Ve}),$e=ct(()=>{const Ve={};return r.openOnHover&&(Ve.onMouseenter=()=>{I&&(S=!0,I=!1,U())},Ve.onMouseleave=()=>{S=!1,$()}),Ve});Xn(m,Ve=>{var Ze;Ve&&(r.openOnHover&&!S&&(!R.value||!M)||R.value&&!M&&(!r.openOnHover||!S))&&!((Ze=b.value)!=null&&Ze.contains(document.activeElement))&&(u.value=!1)}),Xn(u,Ve=>{Ve||setTimeout(()=>{G.value=void 0})},{flush:"post"});const Te=zH();vh(()=>{Te.value&&Ia(()=>{x.value=Te.el})});const te=zH(),Ae=ct(()=>r.target==="cursor"&&G.value?G.value:te.value?te.el:SY(r.target,p)||x.value),re=ct(()=>Array.isArray(Ae.value)?void 0:Ae.value);let Ge;return Xn(()=>!!r.activator,Ve=>{Ve&&pi?(Ge=rO(),Ge.run(()=>{Hme(r,p,{activatorEl:x,activatorEvents:he})})):Ge&&Ge.stop()},{flush:"post",immediate:!0}),Zf(()=>{Ge==null||Ge.stop()}),{activatorEl:x,activatorRef:Te,target:Ae,targetEl:re,targetRef:te,activatorEvents:he,contentEvents:me,scrimEvents:$e}}function Hme(r,i,u){let{activatorEl:m,activatorEvents:b}=u;Xn(()=>r.activator,(M,I)=>{if(I&&M!==I){const R=S(I);R&&x(R)}M&&Ia(()=>p())},{immediate:!0}),Xn(()=>r.activatorProps,()=>{p()}),Zf(()=>{x()});function p(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;M&&$le(M,Na(b.value,I))}function x(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;M&&Ule(M,Na(b.value,I))}function S(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.activator;const I=SY(M,i);return m.value=(I==null?void 0:I.nodeType)===Node.ELEMENT_NODE?I:void 0,m.value}}function SY(r,i){var m,b;if(!r)return;let u;if(r==="parent"){let p=(b=(m=i==null?void 0:i.proxy)==null?void 0:m.$el)==null?void 0:b.parentNode;for(;p!=null&&p.hasAttribute("data-no-activator");)p=p.parentNode;u=p}else typeof r=="string"?u=document.querySelector(r):"$el"in r?u=r.$el:u=r;return u}function Vme(){if(!pi)return Ar(!1);const{ssr:r}=lG();if(r){const i=Ar(!1);return Tc(()=>{i.value=!0}),i}else return Ar(!0)}const $me=eo({eager:Boolean},"lazy");function Ume(r,i){const u=Ar(!1),m=ct(()=>u.value||r.eager||i.value);Xn(i,()=>u.value=!0);function b(){r.eager||(u.value=!1)}return{isBooted:u,hasContent:m,onAfterLeave:b}}function o$(){const i=Sl("useScopeId").vnode.scopeId;return{scopeId:i?{[i]:""}:void 0}}const iK=Symbol.for("vuetify:stack"),VT=lu([]);function Wme(r,i,u){const m=Sl("useStack"),b=!u,p=qi(iK,void 0),x=lu({activeChildren:new Set});jf(iK,x);const S=Ar(+i.value);bh(r,()=>{var z;const R=(z=VT.at(-1))==null?void 0:z[1];S.value=R?R+10:+i.value,b&&VT.push([m.uid,S.value]),p==null||p.activeChildren.add(m.uid),Zf(()=>{if(b){const U=Eo(VT).findIndex($=>$[0]===m.uid);VT.splice(U,1)}p==null||p.activeChildren.delete(m.uid)})});const M=Ar(!0);b&&vh(()=>{var z;const R=((z=VT.at(-1))==null?void 0:z[0])===m.uid;setTimeout(()=>M.value=R)});const I=ct(()=>!x.activeChildren.size);return{globalTop:sO(M),localTop:I,stackStyles:ct(()=>({zIndex:S.value}))}}function Zme(r){return{teleportTarget:ct(()=>{const u=r();if(u===!0||!pi)return;const m=u===!1?document.body:typeof u=="string"?document.querySelector(u):u;if(m==null)return;let b=[...m.children].find(p=>p.matches(".v-overlay-container"));return b||(b=document.createElement("div"),b.className="v-overlay-container",m.appendChild(b)),b})}}function jme(){return!0}function kY(r,i,u){if(!r||EY(r,u)===!1)return!1;const m=tG(i);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===r.target)return!1;const b=(typeof u.value=="object"&&u.value.include||(()=>[]))();return b.push(i),!b.some(p=>p==null?void 0:p.contains(r.target))}function EY(r,i){return(typeof i.value=="object"&&i.value.closeConditional||jme)(r)}function Kme(r,i,u){const m=typeof u.value=="function"?u.value:u.value.handler;r.shadowTarget=r.target,i._clickOutside.lastMousedownWasOutside&&kY(r,i,u)&&setTimeout(()=>{EY(r,u)&&m&&m(r)},0)}function lK(r,i){const u=tG(r);i(document),typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&i(u)}const qme={mounted(r,i){const u=b=>Kme(b,r,i),m=b=>{r._clickOutside.lastMousedownWasOutside=kY(b,r,i)};lK(r,b=>{b.addEventListener("click",u,!0),b.addEventListener("mousedown",m,!0)}),r._clickOutside||(r._clickOutside={lastMousedownWasOutside:!1}),r._clickOutside[i.instance.$.uid]={onClick:u,onMousedown:m}},beforeUnmount(r,i){r._clickOutside&&(lK(r,u=>{var p;if(!u||!((p=r._clickOutside)!=null&&p[i.instance.$.uid]))return;const{onClick:m,onMousedown:b}=r._clickOutside[i.instance.$.uid];u.removeEventListener("click",m,!0),u.removeEventListener("mousedown",b,!0)}),delete r._clickOutside[i.instance.$.uid])}};function Gme(r){const{modelValue:i,color:u,...m}=r;return be(Vp,{name:"fade-transition",appear:!0},{default:()=>[r.modelValue&&be("div",Na({class:["v-overlay__scrim",r.color.backgroundColorClasses.value],style:r.color.backgroundColorStyles.value},m),null)]})}const AY=eo({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Fme(),...ss(),...J0(),...$me(),...Eme(),...Nme(),...Ql(),...DM()},"VOverlay"),cK=rr()({name:"VOverlay",directives:{ClickOutside:qme},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...AY()},emits:{"click:outside":r=>!0,"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{slots:u,attrs:m,emit:b}=i;const p=Sl("VOverlay"),x=Mo(),S=Mo(),M=Mo(),I=$f(r,"modelValue"),R=ct({get:()=>I.value,set:xn=>{xn&&r.disabled||(I.value=xn)}}),{themeClasses:z}=Dc(r),{rtlClasses:U,isRtl:$}=Y0(),{hasContent:G,onAfterLeave:ee}=Ume(r,R),he=zp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),{globalTop:me,localTop:$e,stackStyles:Te}=Wme(R,es(r,"zIndex"),r._disableGlobalStack),{activatorEl:te,activatorRef:Ae,target:re,targetEl:Ge,targetRef:Ve,activatorEvents:Ze,contentEvents:rt,scrimEvents:Ce}=zme(r,{isActive:R,isTop:$e,contentEl:M}),{teleportTarget:Ne}=Zme(()=>{var J,sr,br;const xn=r.attach||r.contained;if(xn)return xn;const Rn=((J=te==null?void 0:te.value)==null?void 0:J.getRootNode())||((br=(sr=p.proxy)==null?void 0:sr.$el)==null?void 0:br.getRootNode());return Rn instanceof ShadowRoot?Rn:!1}),{dimensionStyles:D}=Q0(r),yt=Vme(),{scopeId:Pt}=o$();Xn(()=>r.disabled,xn=>{xn&&(R.value=!1)});const{contentStyles:ln,updateLocation:gn}=Ame(r,{isRtl:$,contentEl:M,target:re,isActive:R});Ime(r,{root:x,contentEl:M,targetEl:Ge,isActive:R,updateLocation:gn});function Qe(xn){b("click:outside",xn),r.persistent?Zt():R.value=!1}function On(xn){return R.value&&me.value&&(!r.scrim||xn.target===S.value||xn instanceof MouseEvent&&xn.shadowTarget===S.value)}pi&&Xn(R,xn=>{xn?window.addEventListener("keydown",nr):window.removeEventListener("keydown",nr)},{immediate:!0}),Oc(()=>{pi&&window.removeEventListener("keydown",nr)});function nr(xn){var Rn,J;xn.key==="Escape"&&me.value&&(r.persistent?Zt():(R.value=!1,(Rn=M.value)!=null&&Rn.contains(document.activeElement)&&((J=te.value)==null||J.focus())))}const pt=rY();bh(()=>r.closeOnBack,()=>{nme(pt,xn=>{me.value&&R.value?(xn(!1),r.persistent?Zt():R.value=!1):xn()})});const bt=Mo();Xn(()=>R.value&&(r.absolute||r.contained)&&Ne.value==null,xn=>{if(xn){const Rn=vce(x.value);Rn&&Rn!==document.scrollingElement&&(bt.value=Rn.scrollTop)}});function Zt(){r.noClickAnimation||M.value&&QS(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:K8})}function Ur(){b("afterEnter")}function ho(){ee(),b("afterLeave")}return jr(()=>{var xn;return be(ks,null,[(xn=u.activator)==null?void 0:xn.call(u,{isActive:R.value,targetRef:Ve,props:Na({ref:Ae},Ze.value,r.activatorProps)}),yt.value&&G.value&&be(yie,{disabled:!Ne.value,to:Ne.value},{default:()=>[be("div",Na({class:["v-overlay",{"v-overlay--absolute":r.absolute||r.contained,"v-overlay--active":R.value,"v-overlay--contained":r.contained},z.value,U.value,r.class],style:[Te.value,{"--v-overlay-opacity":r.opacity,top:cr(bt.value)},r.style],ref:x},Pt,m),[be(Gme,Na({color:he,modelValue:R.value&&!!r.scrim,ref:S},Ce.value),null),be(ry,{appear:!0,persisted:!0,transition:r.transition,target:re.value,onAfterEnter:Ur,onAfterLeave:ho},{default:()=>{var Rn;return[qo(be("div",Na({ref:M,class:["v-overlay__content",r.contentClass],style:[D.value,ln.value]},rt.value,r.contentProps),[(Rn=u.default)==null?void 0:Rn.call(u,{isActive:R})]),[[gr,R.value],[iO("click-outside"),{handler:Qe,closeConditional:On,include:()=>[te.value]}]])]}})])]})])}),{activatorEl:te,scrimEl:S,target:re,animateClick:Zt,contentEl:M,globalTop:me,localTop:$e,updateLocation:gn}}}),wH=Symbol("Forwarded refs");function CH(r,i){let u=r;for(;u;){const m=Reflect.getOwnPropertyDescriptor(u,i);if(m)return m;u=Object.getPrototypeOf(u)}}function TY(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return r[wH]=u,new Proxy(r,{get(b,p){if(Reflect.has(b,p))return Reflect.get(b,p);if(!(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))){for(const x of u)if(x.value&&Reflect.has(x.value,p)){const S=Reflect.get(x.value,p);return typeof S=="function"?S.bind(x.value):S}}},has(b,p){if(Reflect.has(b,p))return!0;if(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))return!1;for(const x of u)if(x.value&&Reflect.has(x.value,p))return!0;return!1},set(b,p,x){if(Reflect.has(b,p))return Reflect.set(b,p,x);if(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))return!1;for(const S of u)if(S.value&&Reflect.has(S.value,p))return Reflect.set(S.value,p,x);return!1},getOwnPropertyDescriptor(b,p){var S;const x=Reflect.getOwnPropertyDescriptor(b,p);if(x)return x;if(!(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))){for(const M of u){if(!M.value)continue;const I=CH(M.value,p)??("_"in M.value?CH((S=M.value._)==null?void 0:S.setupState,p):void 0);if(I)return I}for(const M of u){const I=M.value&&M.value[wH];if(!I)continue;const R=I.slice();for(;R.length;){const z=R.shift(),U=CH(z.value,p);if(U)return U;const $=z.value&&z.value[wH];$&&R.push(...$)}}}}})}const Yme=eo({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...AY({origin:"center center",scrollStrategy:"block",transition:{component:_me},zIndex:2400})},"VDialog"),cy=rr()({name:"VDialog",props:Yme(),emits:{"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{emit:u,slots:m}=i;const b=$f(r,"modelValue"),{scopeId:p}=o$(),x=Mo();function S(R){var $,G;const z=R.relatedTarget,U=R.target;if(z!==U&&(($=x.value)!=null&&$.contentEl)&&((G=x.value)!=null&&G.globalTop)&&![document,x.value.contentEl].includes(U)&&!x.value.contentEl.contains(U)){const ee=Zq(x.value.contentEl);if(!ee.length)return;const he=ee[0],me=ee[ee.length-1];z===he?me.focus():he.focus()}}pi&&Xn(()=>b.value&&r.retainFocus,R=>{R?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function M(){var R;u("afterEnter"),(R=x.value)!=null&&R.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function I(){u("afterLeave")}return Xn(b,async R=>{var z;R||(await Ia(),(z=x.value.activatorEl)==null||z.focus({preventScroll:!0}))}),jr(()=>{const R=cK.filterProps(r),z=Na({"aria-haspopup":"dialog","aria-expanded":String(b.value)},r.activatorProps),U=Na({tabindex:-1},r.contentProps);return be(cK,Na({ref:x,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},R,{modelValue:b.value,"onUpdate:modelValue":$=>b.value=$,"aria-modal":"true",activatorProps:z,contentProps:U,role:"dialog",onAfterEnter:M,onAfterLeave:I},p),{activator:m.activator,default:function(){for(var $=arguments.length,G=new Array($),ee=0;ee<$;ee++)G[ee]=arguments[ee];return be(uu,{root:"VDialog"},{default:()=>{var he;return[(he=m.default)==null?void 0:he.call(m,...G)]}})}})}),TY({},x)}}),lV=Symbol.for("vuetify:list");function OY(){const r=qi(lV,{hasPrepend:Ar(!1),updateHasPrepend:()=>null}),i={hasPrepend:Ar(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return jf(lV,i),r}function DY(){return qi(lV,null)}const r$=r=>{const i={activate:u=>{let{id:m,value:b,activated:p}=u;return m=Eo(m),r&&!b&&p.size===1&&p.has(m)||(b?p.add(m):p.delete(m)),p},in:(u,m,b)=>{let p=new Set;if(u!=null)for(const x of Ow(u))p=i.activate({id:x,value:!0,activated:new Set(p),children:m,parents:b});return p},out:u=>Array.from(u)};return i},RY=r=>{const i=r$(r);return{activate:m=>{let{activated:b,id:p,...x}=m;p=Eo(p);const S=b.has(p)?new Set([p]):new Set;return i.activate({...x,id:p,activated:S})},in:(m,b,p)=>{let x=new Set;if(m!=null){const S=Ow(m);S.length&&(x=i.in(S.slice(0,1),b,p))}return x},out:(m,b,p)=>i.out(m,b,p)}},Xme=r=>{const i=r$(r);return{activate:m=>{let{id:b,activated:p,children:x,...S}=m;return b=Eo(b),x.has(b)?p:i.activate({id:b,activated:p,children:x,...S})},in:i.in,out:i.out}},Jme=r=>{const i=RY(r);return{activate:m=>{let{id:b,activated:p,children:x,...S}=m;return b=Eo(b),x.has(b)?p:i.activate({id:b,activated:p,children:x,...S})},in:i.in,out:i.out}},Qme={open:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(u){const p=new Set;p.add(i);let x=b.get(i);for(;x!=null;)p.add(x),x=b.get(x);return p}else return m.delete(i),m},select:()=>null},NY={open:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(u){let p=Eo(b.get(i));for(m.add(i);p!=null&&p!==i;)m.add(p),p=Eo(b.get(p));return m}else m.delete(i);return m},select:()=>null},ege={open:NY.open,select:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(!u)return m;const p=[];let x=b.get(i);for(;x!=null;)p.push(x),x=b.get(x);return new Set(p)}},s$=r=>{const i={select:u=>{let{id:m,value:b,selected:p}=u;if(m=Eo(m),r&&!b){const x=Array.from(p.entries()).reduce((S,M)=>{let[I,R]=M;return R==="on"&&S.push(I),S},[]);if(x.length===1&&x[0]===m)return p}return p.set(m,b?"on":"off"),p},in:(u,m,b)=>{let p=new Map;for(const x of u||[])p=i.select({id:x,value:!0,selected:new Map(p),children:m,parents:b});return p},out:u=>{const m=[];for(const[b,p]of u.entries())p==="on"&&m.push(b);return m}};return i},IY=r=>{const i=s$(r);return{select:m=>{let{selected:b,id:p,...x}=m;p=Eo(p);const S=b.has(p)?new Map([[p,b.get(p)]]):new Map;return i.select({...x,id:p,selected:S})},in:(m,b,p)=>{let x=new Map;return m!=null&&m.length&&(x=i.in(m.slice(0,1),b,p)),x},out:(m,b,p)=>i.out(m,b,p)}},tge=r=>{const i=s$(r);return{select:m=>{let{id:b,selected:p,children:x,...S}=m;return b=Eo(b),x.has(b)?p:i.select({id:b,selected:p,children:x,...S})},in:i.in,out:i.out}},nge=r=>{const i=IY(r);return{select:m=>{let{id:b,selected:p,children:x,...S}=m;return b=Eo(b),x.has(b)?p:i.select({id:b,selected:p,children:x,...S})},in:i.in,out:i.out}},oge=r=>{const i={select:u=>{let{id:m,value:b,selected:p,children:x,parents:S}=u;m=Eo(m);const M=new Map(p),I=[m];for(;I.length;){const z=I.shift();p.set(Eo(z),b?"on":"off"),x.has(z)&&I.push(...x.get(z))}let R=Eo(S.get(m));for(;R;){const z=x.get(R),U=z.every(G=>p.get(Eo(G))==="on"),$=z.every(G=>!p.has(Eo(G))||p.get(Eo(G))==="off");p.set(R,U?"on":$?"off":"indeterminate"),R=Eo(S.get(R))}return r&&!b&&Array.from(p.entries()).reduce((U,$)=>{let[G,ee]=$;return ee==="on"&&U.push(G),U},[]).length===0?M:p},in:(u,m,b)=>{let p=new Map;for(const x of u||[])p=i.select({id:x,value:!0,selected:new Map(p),children:m,parents:b});return p},out:(u,m)=>{const b=[];for(const[p,x]of u.entries())x==="on"&&!m.has(p)&&b.push(p);return b}};return i},oO=Symbol.for("vuetify:nested"),BY={id:Ar(),root:{register:()=>null,unregister:()=>null,parents:Mo(new Map),children:Mo(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Mo(!1),selectable:Mo(!1),opened:Mo(new Set),activated:Mo(new Set),selected:Mo(new Map),selectedValues:Mo([])}},rge=eo({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),sge=r=>{let i=!1;const u=Mo(new Map),m=Mo(new Map),b=$f(r,"opened",r.opened,$=>new Set(Eo($)),$=>[...$.values()]),p=ct(()=>{if(typeof r.activeStrategy=="object")return r.activeStrategy;if(typeof r.activeStrategy=="function")return r.activeStrategy(r.mandatory);switch(r.activeStrategy){case"leaf":return Xme(r.mandatory);case"single-leaf":return Jme(r.mandatory);case"independent":return r$(r.mandatory);case"single-independent":default:return RY(r.mandatory)}}),x=ct(()=>{if(typeof r.selectStrategy=="object")return r.selectStrategy;if(typeof r.selectStrategy=="function")return r.selectStrategy(r.mandatory);switch(r.selectStrategy){case"single-leaf":return nge(r.mandatory);case"leaf":return tge(r.mandatory);case"independent":return s$(r.mandatory);case"single-independent":return IY(r.mandatory);case"classic":default:return oge(r.mandatory)}}),S=ct(()=>{if(typeof r.openStrategy=="object")return r.openStrategy;switch(r.openStrategy){case"list":return ege;case"single":return Qme;case"multiple":default:return NY}}),M=$f(r,"activated",r.activated,$=>p.value.in($,u.value,m.value),$=>p.value.out($,u.value,m.value)),I=$f(r,"selected",r.selected,$=>x.value.in($,u.value,m.value),$=>x.value.out($,u.value,m.value));Oc(()=>{i=!0});function R($){const G=[];let ee=$;for(;ee!=null;)G.unshift(ee),ee=m.value.get(ee);return G}const z=Sl("nested"),U={id:Ar(),root:{opened:b,activatable:es(r,"activatable"),selectable:es(r,"selectable"),activated:M,selected:I,selectedValues:ct(()=>{const $=[];for(const[G,ee]of I.value.entries())ee==="on"&&$.push(G);return $}),register:($,G,ee)=>{G&&$!==G&&m.value.set($,G),ee&&u.value.set($,[]),G!=null&&u.value.set(G,[...u.value.get(G)||[],$])},unregister:$=>{if(i)return;u.value.delete($);const G=m.value.get($);if(G){const ee=u.value.get(G)??[];u.value.set(G,ee.filter(he=>he!==$))}m.value.delete($)},open:($,G,ee)=>{z.emit("click:open",{id:$,value:G,path:R($),event:ee});const he=S.value.open({id:$,value:G,opened:new Set(b.value),children:u.value,parents:m.value,event:ee});he&&(b.value=he)},openOnSelect:($,G,ee)=>{const he=S.value.select({id:$,value:G,selected:new Map(I.value),opened:new Set(b.value),children:u.value,parents:m.value,event:ee});he&&(b.value=he)},select:($,G,ee)=>{z.emit("click:select",{id:$,value:G,path:R($),event:ee});const he=x.value.select({id:$,value:G,selected:new Map(I.value),children:u.value,parents:m.value,event:ee});he&&(I.value=he),U.root.openOnSelect($,G,ee)},activate:($,G,ee)=>{if(!r.activatable)return U.root.select($,!0,ee);z.emit("click:activate",{id:$,value:G,path:R($),event:ee});const he=p.value.activate({id:$,value:G,activated:new Set(M.value),children:u.value,parents:m.value,event:ee});he&&(M.value=he)},children:u,parents:m}};return jf(oO,U),U.root},MY=(r,i)=>{const u=qi(oO,BY),m=Symbol(yy()),b=ct(()=>r.value!==void 0?r.value:m),p={...u,id:b,open:(x,S)=>u.root.open(Eo(b.value),x,S),openOnSelect:(x,S)=>u.root.openOnSelect(b.value,x,S),isOpen:ct(()=>u.root.opened.value.has(Eo(b.value))),parent:ct(()=>u.root.parents.value.get(b.value)),activate:(x,S)=>u.root.activate(b.value,x,S),isActivated:ct(()=>u.root.activated.value.has(Eo(b.value))),select:(x,S)=>u.root.select(b.value,x,S),isSelected:ct(()=>u.root.selected.value.get(Eo(b.value))==="on"),isIndeterminate:ct(()=>u.root.selected.value.get(b.value)==="indeterminate"),isLeaf:ct(()=>!u.root.children.value.get(b.value)),isGroupActivator:u.isGroupActivator};return!u.isGroupActivator&&u.root.register(b.value,u.id.value,i),Oc(()=>{!u.isGroupActivator&&u.root.unregister(b.value)}),i&&jf(oO,p),p},age=()=>{const r=qi(oO,BY);jf(oO,{...r,isGroupActivator:!0})};function NM(){const r=Ar(!1);return Tc(()=>{window.requestAnimationFrame(()=>{r.value=!0})}),{ssrBootStyles:ct(()=>r.value?void 0:{transition:"none !important"}),isBooted:sO(r)}}const ige=dk({name:"VListGroupActivator",setup(r,i){let{slots:u}=i;return age(),()=>{var m;return(m=u.default)==null?void 0:m.call(u)}}}),lge=eo({activeColor:String,baseColor:String,color:String,collapseIcon:{type:_l,default:"$collapse"},expandIcon:{type:_l,default:"$expand"},prependIcon:_l,appendIcon:_l,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ss(),...Yi()},"VListGroup"),uK=rr()({name:"VListGroup",props:lge(),setup(r,i){let{slots:u}=i;const{isOpen:m,open:b,id:p}=MY(es(r,"value"),!0),x=ct(()=>`v-list-group--id-${String(p.value)}`),S=DY(),{isBooted:M}=NM();function I($){$.stopPropagation(),b(!m.value,$)}const R=ct(()=>({onClick:I,class:"v-list-group__header",id:x.value})),z=ct(()=>m.value?r.collapseIcon:r.expandIcon),U=ct(()=>({VListItem:{active:m.value,activeColor:r.activeColor,baseColor:r.baseColor,color:r.color,prependIcon:r.prependIcon||r.subgroup&&z.value,appendIcon:r.appendIcon||!r.subgroup&&z.value,title:r.title,value:r.value}}));return jr(()=>be(r.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":r.fluid,"v-list-group--subgroup":r.subgroup,"v-list-group--open":m.value},r.class],style:r.style},{default:()=>[u.activator&&be(uu,{defaults:U.value},{default:()=>[be(ige,null,{default:()=>[u.activator({props:R.value,isOpen:m.value})]})]}),be(ry,{transition:{component:yY},disabled:!M.value},{default:()=>{var $;return[qo(be("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[($=u.default)==null?void 0:$.call(u)]),[[gr,m.value]])]}})]})),{isOpen:m}}}),cge=eo({opacity:[Number,String],...ss(),...Yi()},"VListItemSubtitle"),uge=rr()({name:"VListItemSubtitle",props:cge(),setup(r,i){let{slots:u}=i;return jr(()=>be(r.tag,{class:["v-list-item-subtitle",r.class],style:[{"--v-list-item-subtitle-opacity":r.opacity},r.style]},u)),{}}}),dge=$V("v-list-item-title"),fge=eo({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:_l,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:_l,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ug(),onClickOnce:ug(),...xy(),...ss(),...X0(),...J0(),...Lw(),...xh(),...t$(),...Yi(),...Ql(),...gk({variant:"text"})},"VListItem"),V0=rr()({name:"VListItem",directives:{Ripple:n$},props:fge(),emits:{click:r=>!0},setup(r,i){let{attrs:u,slots:m,emit:b}=i;const p=e$(r,u),x=ct(()=>r.value===void 0?p.href.value:r.value),{activate:S,isActivated:M,select:I,isOpen:R,isSelected:z,isIndeterminate:U,isGroupActivator:$,root:G,parent:ee,openOnSelect:he}=MY(x,!1),me=DY(),$e=ct(()=>{var pt;return r.active!==!1&&(r.active||((pt=p.isActive)==null?void 0:pt.value)||(G.activatable.value?M.value:z.value))}),Te=ct(()=>r.link!==!1&&p.isLink.value),te=ct(()=>!r.disabled&&r.link!==!1&&(r.link||p.isClickable.value||!!me&&(G.selectable.value||G.activatable.value||r.value!=null))),Ae=ct(()=>r.rounded||r.nav),re=ct(()=>r.color??r.activeColor),Ge=ct(()=>({color:$e.value?re.value??r.baseColor:r.baseColor,variant:r.variant}));Xn(()=>{var pt;return(pt=p.isActive)==null?void 0:pt.value},pt=>{pt&&ee.value!=null&&G.open(ee.value,!0),pt&&he(pt)},{immediate:!0});const{themeClasses:Ve}=Dc(r),{borderClasses:Ze}=wy(r),{colorClasses:rt,colorStyles:Ce,variantClasses:Ne}=AM(Ge),{densityClasses:D}=Cy(r),{dimensionStyles:yt}=Q0(r),{elevationClasses:Pt}=Fw(r),{roundedClasses:ln}=wh(Ae),gn=ct(()=>r.lines?`v-list-item--${r.lines}-line`:void 0),Qe=ct(()=>({isActive:$e.value,select:I,isOpen:R.value,isSelected:z.value,isIndeterminate:U.value}));function On(pt){var bt;b("click",pt),te.value&&((bt=p.navigate)==null||bt.call(p,pt),!$&&(G.activatable.value?S(!M.value,pt):(G.selectable.value||r.value!=null)&&I(!z.value,pt)))}function nr(pt){(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),pt.target.dispatchEvent(new MouseEvent("click",pt)))}return jr(()=>{const pt=Te.value?"a":r.tag,bt=m.title||r.title!=null,Zt=m.subtitle||r.subtitle!=null,Ur=!!(r.appendAvatar||r.appendIcon),ho=!!(Ur||m.append),xn=!!(r.prependAvatar||r.prependIcon),Rn=!!(xn||m.prepend);return me==null||me.updateHasPrepend(Rn),r.activeColor&&Xle("active-color",["color","base-color"]),qo(be(pt,{class:["v-list-item",{"v-list-item--active":$e.value,"v-list-item--disabled":r.disabled,"v-list-item--link":te.value,"v-list-item--nav":r.nav,"v-list-item--prepend":!Rn&&(me==null?void 0:me.hasPrepend.value),"v-list-item--slim":r.slim,[`${r.activeClass}`]:r.activeClass&&$e.value},Ve.value,Ze.value,rt.value,D.value,Pt.value,gn.value,ln.value,Ne.value,r.class],style:[Ce.value,yt.value,r.style],href:p.href.value,tabindex:te.value?me?-2:0:void 0,onClick:On,onKeydown:te.value&&!Te.value&&nr},{default:()=>{var J;return[EM(te.value||$e.value,"v-list-item"),Rn&&be("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?be(uu,{key:"prepend-defaults",disabled:!xn,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var sr;return[(sr=m.prepend)==null?void 0:sr.call(m,Qe.value)]}}):be(ks,null,[r.prependAvatar&&be(nM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&be(Sr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)]),be("div",{class:"v-list-item__spacer"},null)]),be("div",{class:"v-list-item__content","data-no-activator":""},[bt&&be(dge,{key:"title"},{default:()=>{var sr;return[((sr=m.title)==null?void 0:sr.call(m,{title:r.title}))??r.title]}}),Zt&&be(uge,{key:"subtitle"},{default:()=>{var sr;return[((sr=m.subtitle)==null?void 0:sr.call(m,{subtitle:r.subtitle}))??r.subtitle]}}),(J=m.default)==null?void 0:J.call(m,Qe.value)]),ho&&be("div",{key:"append",class:"v-list-item__append"},[m.append?be(uu,{key:"append-defaults",disabled:!Ur,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var sr;return[(sr=m.append)==null?void 0:sr.call(m,Qe.value)]}}):be(ks,null,[r.appendIcon&&be(Sr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&be(nM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)]),be("div",{class:"v-list-item__spacer"},null)])]}}),[[iO("ripple"),te.value&&r.ripple]])}),{activate:S,isActivated:M,isGroupActivator:$,isSelected:z,list:me,select:I}}}),mge=eo({color:String,inset:Boolean,sticky:Boolean,title:String,...ss(),...Yi()},"VListSubheader"),gge=rr()({name:"VListSubheader",props:mge(),setup(r,i){let{slots:u}=i;const{textColorClasses:m,textColorStyles:b}=my(es(r,"color"));return jr(()=>{const p=!!(u.default||r.title);return be(r.tag,{class:["v-list-subheader",{"v-list-subheader--inset":r.inset,"v-list-subheader--sticky":r.sticky},m.value,r.class],style:[{textColorStyles:b},r.style]},{default:()=>{var x;return[p&&be("div",{class:"v-list-subheader__text"},[((x=u.default)==null?void 0:x.call(u))??r.title])]}})}),{}}}),hge=eo({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ss(),...Ql()},"VDivider"),cV=rr()({name:"VDivider",props:hge(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=Dc(r),{textColorClasses:p,textColorStyles:x}=my(es(r,"color")),S=ct(()=>{const M={};return r.length&&(M[r.vertical?"height":"width"]=cr(r.length)),r.thickness&&(M[r.vertical?"borderRightWidth":"borderTopWidth"]=cr(r.thickness)),M});return jr(()=>{const M=be("hr",{class:[{"v-divider":!0,"v-divider--inset":r.inset,"v-divider--vertical":r.vertical},b.value,p.value,r.class],style:[S.value,x.value,{"--v-border-opacity":r.opacity},r.style],"aria-orientation":!u.role||u.role==="separator"?r.vertical?"vertical":"horizontal":void 0,role:`${u.role||"separator"}`},null);return m.default?be("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":r.vertical,"v-divider__wrapper--inset":r.inset}]},[M,be("div",{class:"v-divider__content"},[m.default()]),M]):M}),{}}}),pge=eo({items:Array,returnObject:Boolean},"VListChildren"),PY=rr()({name:"VListChildren",props:pge(),setup(r,i){let{slots:u}=i;return OY(),()=>{var m,b;return((m=u.default)==null?void 0:m.call(u))??((b=r.items)==null?void 0:b.map(p=>{var U,$;let{children:x,props:S,type:M,raw:I}=p;if(M==="divider")return((U=u.divider)==null?void 0:U.call(u,{props:S}))??be(cV,S,null);if(M==="subheader")return(($=u.subheader)==null?void 0:$.call(u,{props:S}))??be(gge,S,null);const R={subtitle:u.subtitle?G=>{var ee;return(ee=u.subtitle)==null?void 0:ee.call(u,{...G,item:I})}:void 0,prepend:u.prepend?G=>{var ee;return(ee=u.prepend)==null?void 0:ee.call(u,{...G,item:I})}:void 0,append:u.append?G=>{var ee;return(ee=u.append)==null?void 0:ee.call(u,{...G,item:I})}:void 0,title:u.title?G=>{var ee;return(ee=u.title)==null?void 0:ee.call(u,{...G,item:I})}:void 0},z=uK.filterProps(S);return x?be(uK,Na({value:S==null?void 0:S.value},z),{activator:G=>{let{props:ee}=G;const he={...S,...ee,value:r.returnObject?I:S.value};return u.header?u.header({props:he}):be(V0,he,R)},default:()=>be(PY,{items:x,returnObject:r.returnObject},u)}):u.item?u.item({props:S}):be(V0,Na(S,{value:r.returnObject?I:S.value}),R)}))}}}),bge=eo({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:hM}},"list-items");function vge(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function yge(r,i){const u=zT(i,r.itemType,"item"),m=vge(i)?i:zT(i,r.itemTitle),b=zT(i,r.itemValue,void 0),p=zT(i,r.itemChildren),x=r.itemProps===!0?Vq(i,["children"]):zT(i,r.itemProps),S={title:m,value:b,...x};return{type:u,title:S.title,value:S.value,props:S,children:u==="item"&&p?LY(r,p):void 0,raw:i}}function LY(r,i){const u=[];for(const m of i)u.push(yge(r,m));return u}function xge(r){return{items:ct(()=>LY(r,r.items))}}const wge=eo({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ug(),"onClick:select":ug(),"onUpdate:opened":ug(),...rge({selectStrategy:"single-leaf",openStrategy:"list"}),...xy(),...ss(),...X0(),...J0(),...Lw(),itemType:{type:String,default:"type"},...bge(),...xh(),...Yi(),...Ql(),...gk({variant:"text"})},"VList"),dK=rr()({name:"VList",props:wge(),emits:{"update:selected":r=>!0,"update:activated":r=>!0,"update:opened":r=>!0,"click:open":r=>!0,"click:activate":r=>!0,"click:select":r=>!0},setup(r,i){let{slots:u}=i;const{items:m}=xge(r),{themeClasses:b}=Dc(r),{backgroundColorClasses:p,backgroundColorStyles:x}=zp(es(r,"bgColor")),{borderClasses:S}=wy(r),{densityClasses:M}=Cy(r),{dimensionStyles:I}=Q0(r),{elevationClasses:R}=Fw(r),{roundedClasses:z}=wh(r),{children:U,open:$,parents:G,select:ee}=sge(r),he=ct(()=>r.lines?`v-list--${r.lines}-line`:void 0),me=es(r,"activeColor"),$e=es(r,"baseColor"),Te=es(r,"color");OY(),uk({VListGroup:{activeColor:me,baseColor:$e,color:Te,expandIcon:es(r,"expandIcon"),collapseIcon:es(r,"collapseIcon")},VListItem:{activeClass:es(r,"activeClass"),activeColor:me,baseColor:$e,color:Te,density:es(r,"density"),disabled:es(r,"disabled"),lines:es(r,"lines"),nav:es(r,"nav"),slim:es(r,"slim"),variant:es(r,"variant")}});const te=Ar(!1),Ae=Mo();function re(Ne){te.value=!0}function Ge(Ne){te.value=!1}function Ve(Ne){var D;!te.value&&!(Ne.relatedTarget&&((D=Ae.value)!=null&&D.contains(Ne.relatedTarget)))&&Ce()}function Ze(Ne){const D=Ne.target;if(!(!Ae.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(Ne.key==="ArrowDown")Ce("next");else if(Ne.key==="ArrowUp")Ce("prev");else if(Ne.key==="Home")Ce("first");else if(Ne.key==="End")Ce("last");else return;Ne.preventDefault()}}function rt(Ne){te.value=!0}function Ce(Ne){if(Ae.value)return jq(Ae.value,Ne)}return jr(()=>be(r.tag,{ref:Ae,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav,"v-list--slim":r.slim},b.value,p.value,S.value,M.value,R.value,he.value,z.value,r.class],style:[x.value,I.value,r.style],tabindex:r.disabled||te.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:re,onFocusout:Ge,onFocus:Ve,onKeydown:Ze,onMousedown:rt},{default:()=>[be(PY,{items:m.value,returnObject:r.returnObject},u)]})),{open:$,select:ee,focus:Ce,children:U,parents:G}}}),Cge=lt("span",null,"OK",-1),_ge=lt("span",null,"OK",-1),Sge={__name:"Alerts",setup(r){const i=ek();return(u,m)=>(hr(),Cl(ks,null,[qo(be($r,{onClick:m[0]||(m[0]=b=>Ue(i).showAlerts())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-bell-outline"}),qo(lt("span",null,"1 Nachricht",512),[[gr,Ue(i).countAlerts==1]]),qo(lt("span",null,Bd(Ue(i).countAlerts)+" Nachrichten",513),[[gr,Ue(i).countAlerts>1]])]),_:1},512),[[gr,Ue(i).hasAlerts]]),be(cy,{persistent:"",modelValue:Ue(i).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=b=>Ue(i).hasActiveAlert=b),"max-width":"1000"},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(sV,null,{default:bn(()=>[Id(" Nachricht der Aufsicht ")]),_:1}),be(K0,null,{default:bn(()=>[lt("p",null,Bd(Ue(i).activeMessage),1)]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:m[1]||(m[1]=b=>Ue(i).hideAlert())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-check"}),Cge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),be(cy,{modelValue:Ue(i).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=b=>Ue(i).showAllAlerts=b),"max-width":"1000"},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(sV,null,{default:bn(()=>[Id(" Nachrichten der Aufsicht ")]),_:1}),be(K0,null,{default:bn(()=>[(hr(!0),Cl(ks,null,ak(Ue(i).alerts,b=>(hr(),ni(V0,{key:b.key,title:Ue(i).formatTimestamp(b.time),subtitle:b.message},null,8,["title","subtitle"]))),128))]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:m[3]||(m[3]=b=>Ue(i).hideAlert())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-check"}),_ge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},fg=(r,i)=>{const u=r.__vccOpts||r;for(const[m,b]of i)u[m]=b;return u},kge=eo({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ss(),...X0(),...Yi(),...Ql()},"VTable"),_H=rr()({name:"VTable",props:kge(),setup(r,i){let{slots:u,emit:m}=i;const{themeClasses:b}=Dc(r),{densityClasses:p}=Cy(r);return jr(()=>be(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!u.top,"v-table--has-bottom":!!u.bottom,"v-table--hover":r.hover},b.value,p.value,r.class],style:r.style},{default:()=>{var x,S,M;return[(x=u.top)==null?void 0:x.call(u),u.default?be("div",{class:"v-table__wrapper",style:{height:cr(r.height)}},[be("table",null,[u.default()])]):(S=u.wrapper)==null?void 0:S.call(u),(M=u.bottom)==null?void 0:M.call(u)]}})),{}}}),Wp=r=>(by("data-v-1a660a2d"),r=r(),vy(),r),Ege=Wp(()=>lt("h1",null,"Allgemeine Navigation",-1)),Age=Wp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Tge=Wp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Nächstes Element"),lt("td",null,"Tab")]),lt("tr",null,[lt("td",null,"Vorheriges Element"),lt("td",null,"Shift + Tab")]),lt("tr",null,[lt("td",null,"Header Schaltflächen"),lt("td",null,"Alt + 0")]),lt("tr",null,[lt("td",null,"Navigationsleiste Schaltflächen"),lt("td",null,"Alt + #")]),lt("tr",null,[lt("td",null,"Inhalt linke Spalte"),lt("td",null,"Alt + 1")]),lt("tr",null,[lt("td",null,"Inhalt rechte Spalte"),lt("td",null,"Alt + 2")])],-1)),Oge=Wp(()=>lt("h1",null,"Navigation im Editor",-1)),Dge=Wp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Rge=Wp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"In Symbolleiste wechseln"),lt("td",null,"Alt + F10")]),lt("tr",null,[lt("td",null,"Symbolleiste verlassen"),lt("td",null,"Esc")]),lt("tr",null,[lt("td",null,"In Symbolleiste zwischen Schaltflächen wechseln"),lt("td",null,"Pfeil links und rechts")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate aufklappen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Im Popup zwischen Absatzformaten wechseln"),lt("td",null,"Pfeil abwärts und aufwärts")]),lt("tr",null,[lt("td",null,"Im Popup ein Absatzformat wählen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate schließen"),lt("td",null,"Esc")])],-1)),Nge=Wp(()=>lt("h1",null,"Tastenbefehle im Editor",-1)),Ige=Wp(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Bge=Wp(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Fett"),lt("td",null,"Ctrl + B")]),lt("tr",null,[lt("td",null,"Kursiv"),lt("td",null,"Ctrl + I")]),lt("tr",null,[lt("td",null,"Unterstrichen"),lt("td",null,"Ctrl + U")]),lt("tr",null,[lt("td",null,"Alles auswählen"),lt("td",null,"Ctrl + A")]),lt("tr",null,[lt("td",null,"Wiederholen"),lt("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),lt("tr",null,[lt("td",null,"Rückgängig machen"),lt("td",null,"Ctrl + Z")]),lt("tr",null,[lt("td",null,"Überschrift 1"),lt("td",null,"Shift + Alt + 1")]),lt("tr",null,[lt("td",null,"Überschrift 2"),lt("td",null,"Shift + Alt + 2")]),lt("tr",null,[lt("td",null,"Überschrift 3"),lt("td",null,"Shift + Alt + 3")]),lt("tr",null,[lt("td",null,"Überschrift 4"),lt("td",null,"Shift + Alt + 4")]),lt("tr",null,[lt("td",null,"Überschrift 5"),lt("td",null,"Shift + Alt + 5")]),lt("tr",null,[lt("td",null,"Überschrift 6"),lt("td",null,"Shift + Alt + 6")]),lt("tr",null,[lt("td",null,"Absatz"),lt("td",null,"Shift + Alt + 7")])],-1)),Mge=Wp(()=>lt("span",null,"Hilfe schließen",-1)),Pge={__name:"Help",setup(r){const i=Ec();return(u,m)=>(hr(),Cl(ks,null,[be($r,{class:"app-header-item",onClick:m[0]||(m[0]=b=>Ue(i).showHelp=!0)},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-help"}),Id(" Hilfe ")]),_:1}),be(cy,{modelValue:Ue(i).showHelp,"onUpdate:modelValue":m[2]||(m[2]=b=>Ue(i).showHelp=b),"max-width":"1000"},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[Ege,be(_H,null,{default:bn(()=>[Age,Tge]),_:1}),Oge,be(_H,null,{default:bn(()=>[Dge,Rge]),_:1}),Nge,be(_H,{title:"Tastenbefehle im Editor"},{default:bn(()=>[Ige,Bge]),_:1})]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:m[1]||(m[1]=b=>Ue(i).showHelp=!1)},{default:bn(()=>[Mge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Lge=fg(Pge,[["__scopeId","data-v-1a660a2d"]]),FY=eo({text:String,...ss(),...Yi()},"VToolbarTitle"),zY=rr()({name:"VToolbarTitle",props:FY(),setup(r,i){let{slots:u}=i;return jr(()=>{const m=!!(u.default||u.text||r.text);return be(r.tag,{class:["v-toolbar-title",r.class],style:r.style},{default:()=>{var b;return[m&&be("div",{class:"v-toolbar-title__placeholder"},[u.text?u.text():r.text,(b=u.default)==null?void 0:b.call(u)])]}})}),{}}}),Fge=[null,"prominent","default","comfortable","compact"],HY=eo({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:r=>Fge.includes(r)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...xy(),...ss(),...Lw(),...xh(),...Yi({tag:"header"}),...Ql()},"VToolbar"),fK=rr()({name:"VToolbar",props:HY(),setup(r,i){var $;let{slots:u}=i;const{backgroundColorClasses:m,backgroundColorStyles:b}=zp(es(r,"color")),{borderClasses:p}=wy(r),{elevationClasses:x}=Fw(r),{roundedClasses:S}=wh(r),{themeClasses:M}=Dc(r),{rtlClasses:I}=Y0(),R=Ar(!!(r.extended||($=u.extension)!=null&&$.call(u))),z=ct(()=>parseInt(Number(r.height)+(r.density==="prominent"?Number(r.height):0)-(r.density==="comfortable"?8:0)-(r.density==="compact"?16:0),10)),U=ct(()=>R.value?parseInt(Number(r.extensionHeight)+(r.density==="prominent"?Number(r.extensionHeight):0)-(r.density==="comfortable"?4:0)-(r.density==="compact"?8:0),10):0);return uk({VBtn:{variant:"text"}}),jr(()=>{var me;const G=!!(r.title||u.title),ee=!!(u.image||r.image),he=(me=u.extension)==null?void 0:me.call(u);return R.value=!!(r.extended||he),be(r.tag,{class:["v-toolbar",{"v-toolbar--absolute":r.absolute,"v-toolbar--collapse":r.collapse,"v-toolbar--flat":r.flat,"v-toolbar--floating":r.floating,[`v-toolbar--density-${r.density}`]:!0},m.value,p.value,x.value,S.value,M.value,I.value,r.class],style:[b.value,r.style]},{default:()=>[ee&&be("div",{key:"image",class:"v-toolbar__image"},[u.image?be(uu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},u.image):be(RM,{key:"image-img",cover:!0,src:r.image},null)]),be(uu,{defaults:{VTabs:{height:cr(z.value)}}},{default:()=>{var $e,Te,te;return[be("div",{class:"v-toolbar__content",style:{height:cr(z.value)}},[u.prepend&&be("div",{class:"v-toolbar__prepend"},[($e=u.prepend)==null?void 0:$e.call(u)]),G&&be(zY,{key:"title",text:r.title},{text:u.title}),(Te=u.default)==null?void 0:Te.call(u),u.append&&be("div",{class:"v-toolbar__append"},[(te=u.append)==null?void 0:te.call(u)])])]}}),be(uu,{defaults:{VTabs:{height:cr(U.value)}}},{default:()=>[be(yY,null,{default:()=>[R.value&&be("div",{class:"v-toolbar__extension",style:{height:cr(U.value)}},[he])]})]})]})}),{contentHeight:z,extensionHeight:U}}}),zge=eo({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Hge(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=i;let m=0,b=0;const p=Mo(null),x=Ar(0),S=Ar(0),M=Ar(0),I=Ar(!1),R=Ar(!1),z=ct(()=>Number(r.scrollThreshold)),U=ct(()=>Bw((z.value-x.value)/z.value||0)),$=()=>{const G=p.value;if(!G||u&&!u.value)return;m=x.value,x.value="window"in G?G.pageYOffset:G.scrollTop;const ee=G instanceof Window?document.documentElement.scrollHeight:G.scrollHeight;if(b!==ee){b=ee;return}R.value=x.value<m,M.value=Math.abs(x.value-z.value)};return Xn(R,()=>{S.value=S.value||x.value}),Xn(I,()=>{S.value=0}),Tc(()=>{Xn(()=>r.scrollTarget,G=>{var he;const ee=G?document.querySelector(G):window;ee&&ee!==p.value&&((he=p.value)==null||he.removeEventListener("scroll",$),p.value=ee,p.value.addEventListener("scroll",$,{passive:!0}))},{immediate:!0})}),Oc(()=>{var G;(G=p.value)==null||G.removeEventListener("scroll",$)}),u&&Xn(u,$,{immediate:!0}),{scrollThreshold:z,currentScroll:x,currentThreshold:M,isScrollActive:I,scrollRatio:U,isScrollingUp:R,savedScroll:S}}const Vge=eo({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},...HY(),...mG(),...zge(),height:{type:[Number,String],default:64}},"VAppBar"),VY=rr()({name:"VAppBar",props:Vge(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const m=Mo(),b=$f(r,"modelValue"),p=ct(()=>{var Te;const $e=new Set(((Te=r.scrollBehavior)==null?void 0:Te.split(" "))??[]);return{hide:$e.has("hide"),fullyHide:$e.has("fully-hide"),inverted:$e.has("inverted"),collapse:$e.has("collapse"),elevate:$e.has("elevate"),fadeImage:$e.has("fade-image")}}),x=ct(()=>{const $e=p.value;return $e.hide||$e.fullyHide||$e.inverted||$e.collapse||$e.elevate||$e.fadeImage||!b.value}),{currentScroll:S,scrollThreshold:M,isScrollingUp:I,scrollRatio:R}=Hge(r,{canScroll:x}),z=ct(()=>p.value.hide||p.value.fullyHide),U=ct(()=>r.collapse||p.value.collapse&&(p.value.inverted?R.value>0:R.value===0)),$=ct(()=>r.flat||p.value.fullyHide&&!b.value||p.value.elevate&&(p.value.inverted?S.value>0:S.value===0)),G=ct(()=>p.value.fadeImage?p.value.inverted?1-R.value:R.value:void 0),ee=ct(()=>{var te,Ae;if(p.value.hide&&p.value.inverted)return 0;const $e=((te=m.value)==null?void 0:te.contentHeight)??0,Te=((Ae=m.value)==null?void 0:Ae.extensionHeight)??0;return z.value?S.value<M.value||p.value.fullyHide?$e+Te:$e:$e+Te});bh(ct(()=>!!r.scrollBehavior),()=>{vh(()=>{z.value?p.value.inverted?b.value=S.value>M.value:b.value=I.value||S.value<M.value:b.value=!0})});const{ssrBootStyles:he}=NM(),{layoutItemStyles:me}=gG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:es(r,"location"),layoutSize:ee,elementSize:Ar(void 0),active:b,absolute:es(r,"absolute")});return jr(()=>{const $e=fK.filterProps(r);return be(fK,Na({ref:m,class:["v-app-bar",{"v-app-bar--bottom":r.location==="bottom"},r.class],style:[{...me.value,"--v-toolbar-image-opacity":G.value,height:void 0,...he.value},r.style]},$e,{collapse:U.value,flat:$.value}),u)}),{}}}),$ge=rr()({name:"VAppBarTitle",props:FY(),setup(r,i){let{slots:u}=i;return jr(()=>be(zY,Na(r,{class:"v-app-bar-title"}),u)),{}}}),Uge=eo({fluid:{type:Boolean,default:!1},...ss(),...J0(),...Yi()},"VContainer"),Wge=rr()({name:"VContainer",props:Uge(),setup(r,i){let{slots:u}=i;const{rtlClasses:m}=Y0(),{dimensionStyles:b}=Q0(r);return jr(()=>be(r.tag,{class:["v-container",{"v-container--fluid":r.fluid},m.value,r.class],style:[b.value,r.style]},u)),{}}}),$Y=bM.reduce((r,i)=>(r[i]={type:[Boolean,String,Number],default:!1},r),{}),UY=bM.reduce((r,i)=>{const u="offset"+q0(i);return r[u]={type:[String,Number],default:null},r},{}),WY=bM.reduce((r,i)=>{const u="order"+q0(i);return r[u]={type:[String,Number],default:null},r},{}),mK={col:Object.keys($Y),offset:Object.keys(UY),order:Object.keys(WY)};function Zge(r,i,u){let m=r;if(!(u==null||u===!1)){if(i){const b=i.replace(r,"");m+=`-${b}`}return r==="col"&&(m="v-"+m),r==="col"&&(u===""||u===!0)||(m+=`-${u}`),m.toLowerCase()}}const jge=["auto","start","end","center","baseline","stretch"],Kge=eo({cols:{type:[Boolean,String,Number],default:!1},...$Y,offset:{type:[String,Number],default:null},...UY,order:{type:[String,Number],default:null},...WY,alignSelf:{type:String,default:null,validator:r=>jge.includes(r)},...ss(),...Yi()},"VCol"),k8=rr()({name:"VCol",props:Kge(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const b=[];let p;for(p in mK)mK[p].forEach(S=>{const M=r[S],I=Zge(p,S,M);I&&b.push(I)});const x=b.some(S=>S.startsWith("v-col-"));return b.push({"v-col":!x||!r.cols,[`v-col-${r.cols}`]:r.cols,[`offset-${r.offset}`]:r.offset,[`order-${r.order}`]:r.order,[`align-self-${r.alignSelf}`]:r.alignSelf}),b});return()=>{var b;return Hp(r.tag,{class:[m.value,r.class],style:r.style},(b=u.default)==null?void 0:b.call(u))}}}),a$=["start","end","center"],ZY=["space-between","space-around","space-evenly"];function i$(r,i){return bM.reduce((u,m)=>{const b=r+q0(m);return u[b]=i(),u},{})}const qge=[...a$,"baseline","stretch"],jY=r=>qge.includes(r),KY=i$("align",()=>({type:String,default:null,validator:jY})),Gge=[...a$,...ZY],qY=r=>Gge.includes(r),GY=i$("justify",()=>({type:String,default:null,validator:qY})),Yge=[...a$,...ZY,"stretch"],YY=r=>Yge.includes(r),XY=i$("alignContent",()=>({type:String,default:null,validator:YY})),gK={align:Object.keys(KY),justify:Object.keys(GY),alignContent:Object.keys(XY)},Xge={align:"align",justify:"justify",alignContent:"align-content"};function Jge(r,i,u){let m=Xge[r];if(u!=null){if(i){const b=i.replace(r,"");m+=`-${b}`}return m+=`-${u}`,m.toLowerCase()}}const Qge=eo({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:jY},...KY,justify:{type:String,default:null,validator:qY},...GY,alignContent:{type:String,default:null,validator:YY},...XY,...ss(),...Yi()},"VRow"),ehe=rr()({name:"VRow",props:Qge(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const b=[];let p;for(p in gK)gK[p].forEach(x=>{const S=r[x],M=Jge(p,x,S);M&&b.push(M)});return b.push({"v-row--no-gutters":r.noGutters,"v-row--dense":r.dense,[`align-${r.align}`]:r.align,[`justify-${r.justify}`]:r.justify,[`align-content-${r.alignContent}`]:r.alignContent}),b});return()=>{var b;return Hp(r.tag,{class:["v-row",m.value,r.class],style:r.style},(b=u.default)==null?void 0:b.call(u))}}}),l$=$V("v-spacer","div","VSpacer"),the=lt("span",null,"Unterbrechen",-1),nhe=lt("span",null,"Vorschau zur Abgabe ",-1),ohe={__name:"AppBar",setup(r){const i=Ac(),u=Vf(),m=ek(),b=z0(),p=Ec();async function x(){if(p.focusTarget=="header"){await Ia();for(const z of document.getElementsByClassName("app-header-item")){z.focus();break}}}Xn(()=>p.focusChange,x);function S(){return(u.writer_name==null?"":u.writer_name+", ")+(u.title??"")}function M(z){return new Promise(U=>setTimeout(U,z))}async function I(){await b.updateContent(!1,!0),await M(500),b.openSendings>0?i.review=!0:window.location=i.returnUrl}async function R(){await b.updateContent(!1,!0),await M(500),i.review=!0}return(z,U)=>(hr(),ni(VY,{elevation:"1",color:"white",density:"compact"},{default:bn(()=>[be($ge,null,{default:bn(()=>[Id(Bd(S()),1)]),_:1}),be(l$),be(Lge),Ue(m).hasAlerts?(hr(),ni(Sge,{key:0})):Gu("",!0),Ue(u).hasWritingEnd?(hr(),ni(ume,{key:1})):Gu("",!0),qo(be($r,{class:"app-header-item",onClick:U[0]||(U[0]=$=>I())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-pause"}),the]),_:1},512),[[gr,!Ue(i).review]]),qo(be($r,{class:"app-header-item",onClick:R},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-eye"}),nhe]),_:1},512),[[gr,!Ue(i).review]])]),_:1}))}};function rhe(r){let{rootEl:i,isSticky:u,layoutItemStyles:m}=r;const b=Ar(!1),p=Ar(0),x=ct(()=>{const I=typeof b.value=="boolean"?"top":b.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,b.value?{[I]:cr(p.value)}:{top:m.value.top}]});Tc(()=>{Xn(u,I=>{I?window.addEventListener("scroll",M,{passive:!0}):window.removeEventListener("scroll",M)},{immediate:!0})}),Oc(()=>{window.removeEventListener("scroll",M)});let S=0;function M(){const I=S>window.scrollY?"up":"down",R=i.value.getBoundingClientRect(),z=parseFloat(m.value.top??0),U=window.scrollY-Math.max(0,p.value-z),$=R.height+Math.max(p.value,z)-window.scrollY-window.innerHeight,G=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;R.height<window.innerHeight-z?(b.value="top",p.value=z):I==="up"&&b.value==="bottom"||I==="down"&&b.value==="top"?(p.value=window.scrollY+R.top-G,b.value=!0):I==="down"&&$<=0?(p.value=0,b.value="bottom"):I==="up"&&U<=0&&(G?b.value!=="top"&&(p.value=-U+G+z,b.value="top"):(p.value=R.top+U,b.value="top")),S=window.scrollY}return{isStuck:b,stickyStyles:x}}const she=100,ahe=20;function hK(r){return(r<0?-1:1)*Math.sqrt(Math.abs(r))*1.41421356237}function pK(r){if(r.length<2)return 0;if(r.length===2)return r[1].t===r[0].t?0:(r[1].d-r[0].d)/(r[1].t-r[0].t);let i=0;for(let u=r.length-1;u>0;u--){if(r[u].t===r[u-1].t)continue;const m=hK(i),b=(r[u].d-r[u-1].d)/(r[u].t-r[u-1].t);i+=(b-m)*Math.abs(b),u===r.length-1&&(i*=.5)}return hK(i)*1e3}function ihe(){const r={};function i(b){Array.from(b.changedTouches).forEach(p=>{(r[p.identifier]??(r[p.identifier]=new Ple(ahe))).push([b.timeStamp,p])})}function u(b){Array.from(b.changedTouches).forEach(p=>{delete r[p.identifier]})}function m(b){var I;const p=(I=r[b])==null?void 0:I.values().reverse();if(!p)throw new Error(`No samples for touch id ${b}`);const x=p[0],S=[],M=[];for(const R of p){if(x[0]-R[0]>she)break;S.push({t:R[0],d:R[1].clientX}),M.push({t:R[0],d:R[1].clientY})}return{x:pK(S),y:pK(M),get direction(){const{x:R,y:z}=this,[U,$]=[Math.abs(R),Math.abs(z)];return U>$&&R>=0?"right":U>$&&R<=0?"left":$>U&&z>=0?"down":$>U&&z<=0?"up":lhe()}}}return{addMovement:i,endTouch:u,getVelocity:m}}function lhe(){throw new Error}function che(r){let{el:i,isActive:u,isTemporary:m,width:b,touchless:p,position:x}=r;Tc(()=>{window.addEventListener("touchstart",$e,{passive:!0}),window.addEventListener("touchmove",Te,{passive:!1}),window.addEventListener("touchend",te,{passive:!0})}),Oc(()=>{window.removeEventListener("touchstart",$e),window.removeEventListener("touchmove",Te),window.removeEventListener("touchend",te)});const S=ct(()=>["left","right"].includes(x.value)),{addMovement:M,endTouch:I,getVelocity:R}=ihe();let z=!1;const U=Ar(!1),$=Ar(0),G=Ar(0);let ee;function he(re,Ge){return(x.value==="left"?re:x.value==="right"?document.documentElement.clientWidth-re:x.value==="top"?re:x.value==="bottom"?document.documentElement.clientHeight-re:YS())-(Ge?b.value:0)}function me(re){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Ve=x.value==="left"?(re-G.value)/b.value:x.value==="right"?(document.documentElement.clientWidth-re-G.value)/b.value:x.value==="top"?(re-G.value)/b.value:x.value==="bottom"?(document.documentElement.clientHeight-re-G.value)/b.value:YS();return Ge?Math.max(0,Math.min(1,Ve)):Ve}function $e(re){if(p.value)return;const Ge=re.changedTouches[0].clientX,Ve=re.changedTouches[0].clientY,Ze=25,rt=x.value==="left"?Ge<Ze:x.value==="right"?Ge>document.documentElement.clientWidth-Ze:x.value==="top"?Ve<Ze:x.value==="bottom"?Ve>document.documentElement.clientHeight-Ze:YS(),Ce=u.value&&(x.value==="left"?Ge<b.value:x.value==="right"?Ge>document.documentElement.clientWidth-b.value:x.value==="top"?Ve<b.value:x.value==="bottom"?Ve>document.documentElement.clientHeight-b.value:YS());(rt||Ce||u.value&&m.value)&&(ee=[Ge,Ve],G.value=he(S.value?Ge:Ve,u.value),$.value=me(S.value?Ge:Ve),z=G.value>-20&&G.value<80,I(re),M(re))}function Te(re){const Ge=re.changedTouches[0].clientX,Ve=re.changedTouches[0].clientY;if(z){if(!re.cancelable){z=!1;return}const rt=Math.abs(Ge-ee[0]),Ce=Math.abs(Ve-ee[1]);(S.value?rt>Ce&&rt>3:Ce>rt&&Ce>3)?(U.value=!0,z=!1):(S.value?Ce:rt)>3&&(z=!1)}if(!U.value)return;re.preventDefault(),M(re);const Ze=me(S.value?Ge:Ve,!1);$.value=Math.max(0,Math.min(1,Ze)),Ze>1?G.value=he(S.value?Ge:Ve,!0):Ze<0&&(G.value=he(S.value?Ge:Ve,!1))}function te(re){if(z=!1,!U.value)return;M(re),U.value=!1;const Ge=R(re.changedTouches[0].identifier),Ve=Math.abs(Ge.x),Ze=Math.abs(Ge.y);(S.value?Ve>Ze&&Ve>400:Ze>Ve&&Ze>3)?u.value=Ge.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||YS()):u.value=$.value>.5}const Ae=ct(()=>U.value?{transform:x.value==="left"?`translateX(calc(-100% + ${$.value*b.value}px))`:x.value==="right"?`translateX(calc(100% - ${$.value*b.value}px))`:x.value==="top"?`translateY(calc(-100% + ${$.value*b.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${$.value*b.value}px))`:YS(),transition:"none"}:void 0);return bh(U,()=>{var Ve,Ze;const re=((Ve=i.value)==null?void 0:Ve.style.transform)??null,Ge=((Ze=i.value)==null?void 0:Ze.style.transition)??null;vh(()=>{var rt,Ce,Ne,D;(Ce=i.value)==null||Ce.style.setProperty("transform",((rt=Ae.value)==null?void 0:rt.transform)||"none"),(D=i.value)==null||D.style.setProperty("transition",((Ne=Ae.value)==null?void 0:Ne.transition)||null)}),Zf(()=>{var rt,Ce;(rt=i.value)==null||rt.style.setProperty("transform",re),(Ce=i.value)==null||Ce.style.setProperty("transition",Ge)})}),{isDragging:U,dragProgress:$,dragStyles:Ae}}function YS(){throw new Error}const uhe=["start","end","left","right","top","bottom"],dhe=eo({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:r=>uhe.includes(r)},sticky:Boolean,...xy(),...ss(),...CY(),...bue({mobile:null}),...Lw(),...mG(),...xh(),...Yi({tag:"nav"}),...Ql()},"VNavigationDrawer"),fhe=rr()({name:"VNavigationDrawer",props:dhe(),emits:{"update:modelValue":r=>!0,"update:rail":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const{isRtl:p}=Y0(),{themeClasses:x}=Dc(r),{borderClasses:S}=wy(r),{backgroundColorClasses:M,backgroundColorStyles:I}=zp(es(r,"color")),{elevationClasses:R}=Fw(r),{displayClasses:z,mobile:U}=lG(r),{roundedClasses:$}=wh(r),G=rY(),ee=$f(r,"modelValue",null,pt=>!!pt),{ssrBootStyles:he}=NM(),{scopeId:me}=o$(),$e=Mo(),Te=Ar(!1),{runOpenDelay:te,runCloseDelay:Ae}=_Y(r,pt=>{Te.value=pt}),re=ct(()=>r.rail&&r.expandOnHover&&Te.value?Number(r.width):Number(r.rail?r.railWidth:r.width)),Ge=ct(()=>VH(r.location,p.value)),Ve=ct(()=>r.persistent),Ze=ct(()=>!r.permanent&&(U.value||r.temporary)),rt=ct(()=>r.sticky&&!Ze.value&&Ge.value!=="bottom");bh(()=>r.expandOnHover&&r.rail!=null,()=>{Xn(Te,pt=>m("update:rail",!pt))}),bh(()=>!r.disableResizeWatcher,()=>{Xn(Ze,pt=>!r.permanent&&Ia(()=>ee.value=!pt))}),bh(()=>!r.disableRouteWatcher&&!!G,()=>{Xn(G.currentRoute,()=>Ze.value&&(ee.value=!1))}),Xn(()=>r.permanent,pt=>{pt&&(ee.value=!0)}),r.modelValue==null&&!Ze.value&&(ee.value=r.permanent||!U.value);const{isDragging:Ce,dragProgress:Ne}=che({el:$e,isActive:ee,isTemporary:Ze,width:re,touchless:es(r,"touchless"),position:Ge}),D=ct(()=>{const pt=Ze.value?0:r.rail&&r.expandOnHover?Number(r.railWidth):re.value;return Ce.value?pt*Ne.value:pt}),yt=ct(()=>["top","bottom"].includes(r.location)?0:re.value),{layoutItemStyles:Pt,layoutItemScrimStyles:ln}=gG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:Ge,layoutSize:D,elementSize:yt,active:ct(()=>ee.value||Ce.value),disableTransitions:ct(()=>Ce.value),absolute:ct(()=>r.absolute||rt.value&&typeof gn.value!="string")}),{isStuck:gn,stickyStyles:Qe}=rhe({rootEl:$e,isSticky:rt,layoutItemStyles:Pt}),On=zp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),nr=ct(()=>({...Ce.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...ln.value}));return uk({VList:{bgColor:"transparent"}}),jr(()=>{const pt=b.image||r.image;return be(ks,null,[be(r.tag,Na({ref:$e,onMouseenter:te,onMouseleave:Ae,class:["v-navigation-drawer",`v-navigation-drawer--${Ge.value}`,{"v-navigation-drawer--expand-on-hover":r.expandOnHover,"v-navigation-drawer--floating":r.floating,"v-navigation-drawer--is-hovering":Te.value,"v-navigation-drawer--rail":r.rail,"v-navigation-drawer--temporary":Ze.value,"v-navigation-drawer--persistent":Ve.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":rt.value},x.value,M.value,S.value,z.value,R.value,$.value,r.class],style:[I.value,Pt.value,he.value,Qe.value,r.style,["top","bottom"].includes(Ge.value)?{height:"auto"}:{}]},me,u),{default:()=>{var bt,Zt,Ur;return[pt&&be("div",{key:"image",class:"v-navigation-drawer__img"},[b.image?be(uu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:r.image}}},b.image):be(RM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:r.image},null)]),b.prepend&&be("div",{class:"v-navigation-drawer__prepend"},[(bt=b.prepend)==null?void 0:bt.call(b)]),be("div",{class:"v-navigation-drawer__content"},[(Zt=b.default)==null?void 0:Zt.call(b)]),b.append&&be("div",{class:"v-navigation-drawer__append"},[(Ur=b.append)==null?void 0:Ur.call(b)])]}}),be(Vp,{name:"fade-transition"},{default:()=>[Ze.value&&(Ce.value||ee.value)&&!!r.scrim&&be("div",Na({class:["v-navigation-drawer__scrim",On.backgroundColorClasses.value],style:[nr.value,On.backgroundColorStyles.value],onClick:()=>{Ve.value||(ee.value=!1)}},me),null)]})])}),{isStuck:gn}}}),mhe={__name:"NavBar",setup(r){const i=Ec(),u=lg(),m=Vf(),b=ph(),p=Ac();async function x(){if(i.focusTarget=="navigation"){await Ia();for(const U of document.getElementsByClassName("app-navigation-item")){U.focus();break}}}Xn(()=>i.focusChange,x);function S(U){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function M(U){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function I(U){U.type==Rd.TYPE_URL&&!U.embedded?window.open(U.source,"long-essay-writer-resource-"+U.key):(u.selectResource(U),i.showResources())}function R(U){U.keyCode==27?M():i.handleKeyDown(U)}function z(U){return U.isExternalUrl()?"mdi-link":U.isEmbeddedUrl()?u.isActive(U)&&i.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":u.isActive(U)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(U,$)=>(hr(),ni(fhe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:S,onFocusout:M,onKeydown:R},{append:bn(()=>[be(dK,{tabindex:"-1"},{default:bn(()=>[be(V0,{tabindex:"-1",disabled:"","aria-label":Ue(p).isSending?"Änderungen werden gesendet":Ue(p).isAllSent?"Alles gesendet":"Noch Änderungen zu senden",title:Ue(p).isSending?"Änderungen werden gesendet":Ue(p).isAllSent?"Alles gesendet":"Noch Änderungen zu senden"},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:Ue(p).isSending?"mdi-cloud-upload":Ue(p).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])]),_:1})]),default:bn(()=>[be(dK,{tabindex:"-1"},{default:bn(()=>[qo(be(V0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[0]||($[0]=G=>{Ue(i).showInstructions()}),"aria-label":"Aufgabenstellung"+(Ue(i).isInstructionsVisible?", ist ausgewählt":""),title:"Aufgabenstellung"+(Ue(i).isInstructionsVisible?" (ausgewählt)":""),ripple:!1},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:Ue(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[gr,Ue(m).hasInstructions]]),qo(be(V0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[1]||($[1]=G=>{Ue(i).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(Ue(i).isInstructionsPdfVisible?", ist ausgewählt":""),title:"Aufgabenstellung als PDF"+(Ue(i).isInstructionsPdfVisible?" (ausgewählt)":""),ripple:!1},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:Ue(i).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[gr,Ue(u).hasInstruction]]),qo(be(cV,{class:"border-opacity-75"},null,512),[[gr,Ue(m).hasInstructions||Ue(u).hasInstruction]]),be(V0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[2]||($[2]=G=>{Ue(i).showEssay()}),"aria-label":"Abgabe-Text"+(Ue(i).isEssayVisible?", ist ausgewählt":""),title:"Abgabe-Text"+(Ue(i).isEssayVisible?" (ausgewählt)":""),ripple:!1},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:Ue(i).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),Ue(b).hasNotes?(hr(),ni(V0,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[3]||($[3]=G=>{Ue(i).showNotes()}),"aria-label":"Notizen, werden bei der Abgabe verworfen"+(Ue(i).isNotesVisible?", ist ausgewählt":""),title:"Notizen, werden bei der Abgabe verworfen"+(Ue(i).isNotesVisible?" (ausgewählt)":""),ripple:!1},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:Ue(i).isNotesVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Gu("",!0),be(cV,{class:"border-opacity-75"}),(hr(!0),Cl(ks,null,ak(Ue(u).getFileOrUrlResources,G=>(hr(),ni(V0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{I(G)},"aria-label":G.title+(Ue(u).isActive(G)&&Ue(i).isResourcesVisible?", ist ausgewählt":""),title:G.title+(Ue(u).isActive(G)&&Ue(i).isResourcesVisible?" (ausgewählt)":""),key:G.key,ripple:!1},{prepend:bn(()=>[be(Sr,{"aria-role":"hidden",icon:z(G)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128))]),_:1})]),_:1}))}},ghe=fg(mhe,[["__scopeId","data-v-9a1be660"]]);function E8(r){const i=document.createElement("div");return i.innerHTML=r,(i.innerText||i.textContent).replace(/[\s\n\r]+/g,"")}const c$=dg("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:r=>function(u){return!!(ph().copy_allowed||(console.log("content:",u),console.log("normalized content:",E8(u)),console.log("state.content:",r.content),console.log("normalized state.content:",E8(r.content)),E8(u)==E8(r.content)))}},actions:{setContent(r){this.content=r},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}});class hhe{constructor(i,u,m){_r(this,"observer",null);_r(this,"marks",[]);if(!i)throw new Error("Missing anchor element");this.el=i,u instanceof Function&&(this.onSelection=u,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),m instanceof Function&&(this.onIntersection=m,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(i){}onIntersection(i){}keydownHandler(i){switch(i.key){case"Enter":i.preventDefault(),this.selectionHandler(i);break;case"Escape":i.preventDefault(),this.removeSelection();break}}selectionHandler(i){let u=this.getSelectionData();u.mouseX=i.clientX,u.mouseY=i.clientY,u.firstWord>0&&u.lastWord>0&&this.onSelection(u)}intersectionHandler(i){let u=0;this.marks.forEach(m=>{(u==0||m.firstWord<u)&&this.isMarkVisible(m.firstWord,m.lastWord)&&(u=m.firstWord)}),this.onIntersection(u)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const i=window.getSelection(),u=i.getRangeAt(0);if(!i||!u)return{};let m=u.commonAncestorContainer;m.nodeType==3&&(m=m.parentNode.parentNode);let b=0,p=0,x=0;return m.querySelectorAll("w-p").forEach(S=>{if(i.containsNode(S,!0)){let M=parseInt(S.getAttribute("w")),I=parseInt(S.getAttribute("p"));(b==0||M<b)&&(b=M,x=I),M>p&&(p=M)}}),{firstWord:b,lastWord:p,parentNumber:x,isCollapsed:i.isCollapsed}}addLabel(i,u,m){let b=this.el.querySelector('w-p[w="'+m+'"]');b&&(b.setAttribute("label",u),b.classList.add(i))}showMark(i,u,m){this.marks.push({cssClass:i,firstWord:u,lastWord:m}),this.el.querySelectorAll("w-p").forEach(b=>{let p=parseInt(b.getAttribute("w"));p>=u&&p<=m&&b.classList.add(i),this.observer&&(p==u||p==m)&&this.observer.observe(b)})}hideMark(i,u,m){this.marks=this.marks.filter(b=>b.cssClass!=i||b.firstWord!=u||b.lastWord!=m),this.el.querySelectorAll("w-p."+i).forEach(b=>{let p=parseInt(b.getAttribute("w"));p>=u&&p<=m&&b.classList.remove(i),this.observer&&(p==u||p==m)&&this.observer.unobserve(b)})}hideAllMarksOfClass(i){this.marks=this.marks.filter(u=>u.cssClass!=i),this.el.querySelectorAll("w-p."+i).forEach(u=>{u.classList.remove(i)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(i=>{i.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(i,u){if(!this.isMarkVisible(i,u,!0)){const m=this.el.querySelector('w-p[w="'+i+'"]');m&&m.scrollIntoView()}}setCaretToMark(i){const u=this.el.querySelector('w-p[w="'+i+'"]').childNodes[0];if(u){let m=document.createRange(),b=window.getSelection();m.setStart(u,0),m.collapse(!0),b.removeAllRanges(),b.addRange(m)}}isMarkVisible(i,u,m){const b=this.el.querySelector('w-p[w="'+i+'"]'),p=this.el.querySelector('w-p[w="'+u+'"]');if(!b||!p)return!1;const x=this.el.getBoundingClientRect(),S=b.getBoundingClientRect(),M=p.getBoundingClientRect(),I=S.top>=x.top&&S.bottom<=x.bottom,R=M.top>=x.top&&M.bottom<=x.bottom;return m?I&&R:I||R}}const phe={id:"app-instructions-wrapper"},bhe={class:"appTextButtons"},vhe=lt("span",{class:"sr-only",id:"app-instructions-mode-select"},"Auswählen",-1),yhe=lt("span",{class:"sr-only",id:"app-instructions-mode-mark"},"Markieren",-1),xhe=["innerHTML"],whe={__name:"Instructions",setup(r){const i=Vf(),u=Ec(),m=Z0(),b=c$(),p=iy(),x=Mo(0);let S;Tc(()=>{S=new hhe(document.getElementById("app-instructions"),U,$),M()});function M(){S.hideAllMarksAndLabels(),p.activeAnnotations.forEach(Te=>z(Te))}Xn(()=>p.markerChange,M);function I(){S.hideAllMarksOfClass("selected");let Te=p.getAnnotation(p.selectedKey);Te&&(S.showMark("selected",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position),S.scrollToMark(Te.start_position,Te.end_position))}Xn(()=>p.selectionChange,I);function R(){let Te=p.getAnnotation(p.selectedKey);S.setCaretToMark(Te.start_position)}Xn(()=>p.caretRequest,R);function z(Te){S.showMark("marked",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position)}async function U(Te){if(Te.isCollapsed){const te=p.getActiveAnotationsInRange(Te.firstWord,Te.lastWord);if(te.length){const Ae=te.shift();p.selectAnnotation(Ae.getKey())}}else if(x.value===1){S.removeSelection();const te=new ag({resource_key:ag.KEY_INSTRUCTIONS,parent_number:Te.parentNumber,start_position:Te.firstWord,end_position:Te.lastWord});await p.createAnnotation(te),p.selectAnnotation(te.getKey())}}function $(Te){const te=p.getActiveAnnotationsByStartPosition(Te);if(te.length){const Ae=te.shift();p.setFirstVisibleAnnotation(Ae.getKey())}}function G(Te){x.value=Te}async function ee(){u.focusTarget=="left"&&u.isInstructionsVisible&&(await Ia(),document.getElementById("app-instructions").focus())}Xn(()=>u.focusChange,ee);function he(Te){const te=$e();console.log(te),b.setContent(te),Te.clipboardData.setData("text/html",te),Te.preventDefault()}function me(Te){return Te.preventDefault(),!1}function $e(){var Te;if(document.selection&&document.selection.createRange)return Te=document.selection.createRange(),Te.htmlText;if(window.getSelection){var te=window.getSelection();if(te.rangeCount>0){Te=te.getRangeAt(0);var Ae=Te.cloneContents(),re=document.createElement("div");return re.appendChild(Ae),re.innerHTML}else return""}else return""}return(Te,te)=>(hr(),Cl("div",phe,[lt("div",bhe,[be(QG,{modelValue:x.value,"onUpdate:modelValue":te[2]||(te[2]=Ae=>x.value=Ae),density:"comfortable",variant:"outlined",divided:""},{default:bn(()=>[be($r,{"aria-labelledby":"app-instructions-mode-select",size:"small",value:"0",onClick:te[0]||(te[0]=Ae=>G(0))},{default:bn(()=>[be(Sr,{icon:"mdi-cursor-default-outline"}),vhe]),_:1}),be($r,{"aria-labelledby":"app-instructions-mode-mark",size:"small",value:"1",onClick:te[1]||(te[1]=Ae=>G(1))},{default:bn(()=>[be(Sr,{icon:"mdi-marker"}),yhe]),_:1})]),_:1},8,["modelValue"]),Id("   "),be(ck,{density:"comfortable",variant:"outlined",divided:""},{default:bn(()=>[be($r,{title:"Aufgabenstellung Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:te[3]||(te[3]=Ae=>Ue(m).zoomInstructionsOut())}),be($r,{title:"Aufgabenstellung Text vergrößern",size:"small",icon:"mdi-magnify-plus-outline",onClick:te[4]||(te[4]=Ae=>Ue(m).zoomInstructionsIn())})]),_:1})]),lt("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:$0("font-size:"+Ue(m).instructions_zoom+"rem;"),innerHTML:Ue(i).instructions,onBeforeinput:me,onCopy:he,onCut:he},null,44,xhe)]))}},Che=(r,i,u)=>{let m=Promise.resolve();const b=new EventTarget,p=(G,ee=null)=>b.dispatchEvent(new CustomEvent(G,{detail:ee})),x=((G=0)=>()=>++G)(),S={},M=document.createElement("iframe"),I=Promise.withResolvers();return M.src=i+"?file="+encodeURIComponent(u),M.style.width="100%",M.style.height="100%",r.appendChild(M),window.addEventListener("message",$),{on:b.addEventListener.bind(b),off:b.removeEventListener.bind(b),getAll:()=>z("getAll"),get:G=>z("get",G),update:G=>R("update",G),setAll:G=>R("setAll",G),add:G=>R("add",G),delete:G=>R("delete",G),selected:()=>z("selected"),select:G=>z("select",G),currentPage:()=>z("currentPage"),destroy:()=>{window.removeEventListener("message",$),iframe.remove()},rebuild:()=>{window.addEventListener("message",$),r.appendChild(M)}};function R(G,...ee){return m=m.then(()=>z(G,...ee))}function z(G,...ee){return new Promise(he=>{const me=x();return S[me]=he,I.promise.then(()=>M.contentWindow.postMessage({id:me,name:G,args:ee}))})}function U(G){if(!S[G.id])return;const ee=S[G.id];delete S[G.id],ee(G.value)}function $(G){if(G.source===M.contentWindow){if(G.data.emit){G.data.emit.name==="ready"&&I.resolve(),p(G.data.emit.name,G.data.emit.detail);return}if(G.data.response){U(G.data.response);return}}}},_he=r=>(by("data-v-55f64618"),r=r(),vy(),r),She={class:"appResourceWrapper"},khe=_he(()=>lt("div",{class:"appTextButtons"},null,-1)),Ehe={__name:"ResourcePdf",props:["resource"],setup(r){const i=Ec();lg();const u=iy(),b=r.resource,p=Mo();let x;Tc(()=>{x=Che(p.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",b.url),M(),x.on("create",I),x.on("update",R),x.on("delete",z),x.on("select",U),x.on("pageChanged",$),S()});async function S(){i.isResourceShown(b)&&(await Ia(),p.value.focus())}Xn(()=>i.focusChange,S);function M(){const he=[];for(const me of u.getAnnotationsForResource(b.key))he.push({id:me.mark_key,page:me.parent_number,intern:JSON.parse(me.mark_value)});x.setAll(he)}async function I(he){const me=new ag({resource_key:b.key,mark_key:he.detail.id,mark_value:JSON.stringify(he.detail.intern),parent_number:he.detail.page,start_position:Math.round(-he.detail.intern.rect[1])});await u.createAnnotation(me),u.selectAnnotation(me.getKey())}function R(he){const me=u.getAnnotation(ag.buildKey(b.key,he.detail.id));me&&(me.mark_value=JSON.stringify(he.detail.intern),u.updateAnnotation(me))}function z(he){he.detail&&u.deleteAnnotation(ag.buildKey(b.key,he.detail.id))}function U(he){he.detail&&u.selectAnnotation(ag.buildKey(b.key,he.detail.id))}function $(he){let me=u.getActiveAnnotationsByParentNumber(he.detail);if(me.length){let $e=me.shift();u.setFirstVisibleAnnotation($e.getKey())}}function G(){const he=u.getAnnotation(u.selectedKey);he&&he.resource_key==b.key&&x.select(he.mark_key)}Xn(()=>u.selectionChange,G);function ee(){const he=ag.getFromKey(u.deletedKey);he.resource_key==b.key&&x.delete(he.mark_key)}return Xn(()=>u.deletedKey,ee),(he,me)=>(hr(),Cl("div",She,[khe,lt("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:p},null,512)]))}},Ahe=fg(Ehe,[["__scopeId","data-v-55f64618"]]),The=r=>(by("data-v-4491b7ee"),r=r(),vy(),r),Ohe={id:"app-resource-url-wrapper"},Dhe=The(()=>lt("div",{class:"appTextButtons"},null,-1)),Rhe=["src"],Nhe={__name:"ResourceUrl",props:["resource"],setup(r){const i=Ec();lg();const m=r.resource,b=Mo();async function p(){i.isResourceShown(m)&&(await Ia(),b.value.focus())}return Tc(()=>p),Xn(()=>i.focusChange,p),(x,S)=>(hr(),Cl("div",Ohe,[Dhe,lt("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:b},[lt("iframe",{src:Ue(m).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Rhe)],512)]))}},Ihe=fg(Nhe,[["__scopeId","data-v-4491b7ee"]]),Bhe={id:"app-resources",tabindex:"0",class:"resources"},Mhe={__name:"Resources",setup(r){const i=Ec(),u=lg();return(m,b)=>(hr(),Cl("div",Bhe,[(hr(!0),Cl(ks,null,ak(Ue(u).resources,p=>(hr(),Cl(ks,{key:p.key},[p.isPdf()?qo((hr(),ni(Ahe,{key:p.key,resource:p},null,8,["resource"])),[[gr,Ue(i).isResourceShown(p)]]):Gu("",!0),p.isEmbeddedUrl()?qo((hr(),ni(Ihe,{key:p.key,resource:p},null,8,["resource"])),[[gr,Ue(i).isResourceShown(p)]]):Gu("",!0)],64))),128))]))}},Phe=fg(Mhe,[["__scopeId","data-v-1c7878fa"]]);var JY={exports:{}};(function(r){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},u=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},b=function(e,t){return p(function(n,s){return e.eq(t(n),t(s))})},p=function(e){return{eq:e}},x=p(function(e,t){return e===t}),S=x,M=function(e){return p(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e.eq(t[l],n[l]))return!1;return!0})},I=function(e,t){return b(M(e),function(n){return m(n,t)})},R=function(e){return p(function(t,n){var s=Object.keys(t),l=Object.keys(n);if(!I(S).eq(s,l))return!1;for(var f=s.length,g=0;g<f;g++){var C=s[g];if(!e.eq(t[C],n[C]))return!1}return!0})},z=p(function(e,t){if(e===t)return!0;var n=i(e),s=i(t);return n!==s?!1:u(n)?e===t:n==="array"?M(z).eq(e,t):n==="object"?R(z).eq(e,t):!1});const U=Object.getPrototypeOf,$=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},G=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&$(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},ee=e=>t=>G(t)===e,he=e=>t=>typeof t===e,me=e=>t=>e===t,$e=(e,t)=>te(e)&&$(e,t,(n,s)=>U(n)===s),Te=ee("string"),te=ee("object"),Ae=e=>$e(e,Object),re=ee("array"),Ge=me(null),Ve=he("boolean"),Ze=me(void 0),rt=e=>e==null,Ce=e=>!rt(e),Ne=he("function"),D=he("number"),yt=(e,t)=>{if(re(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Pt=()=>{},ln=(e,t)=>(...n)=>e(t.apply(null,n)),gn=(e,t)=>n=>e(t(n)),Qe=e=>()=>e,On=e=>e,nr=(e,t)=>e===t;function pt(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const bt=e=>t=>!e(t),Zt=e=>()=>{throw new Error(e)},Ur=e=>e(),ho=e=>{e()},xn=Qe(!1),Rn=Qe(!0);class J{constructor(t,n){this.tag=t,this.value=n}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const sr=Array.prototype.slice,br=Array.prototype.indexOf,Ko=Array.prototype.push,oi=(e,t)=>br.call(e,t),Ke=(e,t)=>{const n=oi(e,t);return n===-1?J.none():J.some(n)},le=(e,t)=>oi(e,t)>-1,xe=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return!0}return!1},Me=(e,t)=>{const n=e.length,s=new Array(n);for(let l=0;l<n;l++){const f=e[l];s[l]=t(f,l)}return s},ge=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];t(l,n)}},St=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},$t=(e,t)=>{const n=[],s=[];for(let l=0,f=e.length;l<f;l++){const g=e[l];(t(g,l)?n:s).push(g)}return{pass:n,fail:s}},Ct=(e,t)=>{const n=[];for(let s=0,l=e.length;s<l;s++){const f=e[s];t(f,s)&&n.push(f)}return n},zt=(e,t,n)=>(St(e,(s,l)=>{n=t(n,s,l)}),n),It=(e,t,n)=>(ge(e,(s,l)=>{n=t(n,s,l)}),n),on=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++){const f=e[s];if(t(f,s))return J.some(f);if(n(f,s))break}return J.none()},wn=(e,t)=>on(e,t,xn),Cn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return J.some(n)}return J.none()},En=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!re(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ko.apply(t,e[n])}return t},ao=(e,t)=>En(Me(e,t)),vo=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const l=e[n];if(t(l,n)!==!0)return!1}return!0},Ao=e=>{const t=sr.call(e,0);return t.reverse(),t},Oo=(e,t)=>Ct(e,n=>!le(t,n)),Es=(e,t)=>{const n={};for(let s=0,l=e.length;s<l;s++){const f=e[s];n[String(f)]=t(f,s)}return n},ur=(e,t)=>{const n=sr.call(e,0);return n.sort(t),n},bi=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),cn=e=>bi(e,0),po=e=>bi(e,e.length-1),io=Ne(Array.from)?Array.from:e=>sr.call(e),Wr=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return J.none()},Pa=(e,t)=>{const n=[],s=Ne(t)?l=>xe(n,f=>t(f,l)):l=>le(n,l);for(let l=0,f=e.length;l<f;l++){const g=e[l];s(g)||n.push(g)}return n},Vt=Object.keys,Ys=Object.hasOwnProperty,Uo=(e,t)=>{const n=Vt(e);for(let s=0,l=n.length;s<l;s++){const f=n[s],g=e[f];t(g,f)}},kl=(e,t)=>Tr(e,(n,s)=>({k:s,v:t(n,s)})),Tr=(e,t)=>{const n={};return Uo(e,(s,l)=>{const f=t(s,l);n[f.k]=f.v}),n},zs=e=>(t,n)=>{e[n]=t},qf=(e,t,n,s)=>{Uo(e,(l,f)=>{(t(l,f)?n:s)(l,f)})},du=(e,t)=>{const n={},s={};return qf(e,t,zs(n),zs(s)),{t:n,f:s}},ec=(e,t)=>{const n={};return qf(e,t,zs(n),Pt),n},Xi=(e,t)=>{const n=[];return Uo(e,(s,l)=>{n.push(t(s,l))}),n},fu=e=>Xi(e,On),dr=(e,t)=>Gn(e,t)?J.from(e[t]):J.none(),Gn=(e,t)=>Ys.call(e,t),El=(e,t)=>Gn(e,t)&&e[t]!==void 0&&e[t]!==null,ca=(e,t,n=z)=>R(n).eq(e,t),mu=e=>{const t={};return ge(e,n=>{t[n]={}}),Vt(t)},Qt=e=>e.length!==void 0,gu=Array.isArray,Gf=e=>{if(gu(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},ts=(e,t,n)=>{if(!e)return!1;if(n=n||e,Qt(e)){for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Gn(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Yf=(e,t)=>{const n=[];return ts(e,(s,l)=>{n.push(t(s,l,e))}),n},Ni=(e,t)=>{const n=[];return ts(e,(s,l)=>{(!t||t(s,l,e))&&n.push(s)}),n},ml=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Ji=(e,t,n,s)=>{let l=Ze(n)?e[0]:n;for(let f=0;f<e.length;f++)l=t.call(s,l,e[f],f);return l},Kr=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e))return s;return-1},ri=e=>e[e.length-1],gl=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Xf=(e,t,n,s)=>{const l=e.isiOS()&&/ipad/i.test(n)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),C=g||s("(pointer:coarse)"),A=l||!f&&g&&s("(min-device-width:768px)"),F=f||g&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,q=!F&&!A&&!j;return{isiPad:Qe(l),isiPhone:Qe(f),isTablet:Qe(A),isPhone:Qe(F),isTouch:Qe(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Qe(j),isDesktop:Qe(q)}},Rc=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Nc=(e,t)=>{const n=Rc(e,t);if(!n)return{major:0,minor:0};const s=l=>Number(t.replace(n,"$"+l));return Wo(s(1),s(2))},zd=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Xu():Nc(e,n)},Xu=()=>Wo(0,0),Wo=(e,t)=>({major:e,minor:t}),xs={nu:Wo,detect:zd,unknown:Xu},Zs=(e,t)=>Wr(t.brands,n=>{const s=n.brand.toLowerCase();return wn(e,l=>{var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:xs.nu(parseInt(n.version,10),0)}))}),Jf=(e,t)=>{const n=String(t).toLowerCase();return wn(e,s=>s.search(n))},Ii=(e,t)=>Jf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Ic=(e,t)=>Jf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),si=(e,t)=>e.substring(t),ai=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Bc=(e,t)=>qr(e,t)?si(e,t.length):e,vr=(e,t,n=0,s)=>{const l=e.indexOf(t,n);return l!==-1?Ze(s)?!0:l+t.length<=s:!1},qr=(e,t)=>ai(e,t,0),Se=(e,t)=>ai(e,t,e.length-t.length),Ye=e=>t=>t.replace(e,""),Re=Ye(/^\s+|\s+$/g),it=Ye(/^\s+/g),ot=Ye(/\s+$/g),je=e=>e.length>0,Lt=e=>!je(e),Yt=(e,t)=>t<=0?"":new Array(t+1).join(e),nn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?J.none():J.some(n)},dn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,en=e=>t=>vr(t,e),ro=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>vr(e,"edge/")&&vr(e,"chrome")&&vr(e,"safari")&&vr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dn],search:e=>vr(e,"chrome")&&!vr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>vr(e,"msie")||vr(e,"trident")},{name:"Opera",versionRegexes:[dn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:en("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:en("firefox")},{name:"Safari",versionRegexes:[dn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(vr(e,"safari")||vr(e,"mobile/"))&&vr(e,"applewebkit")}],Jt=[{name:"Windows",search:en("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>vr(e,"iphone")||vr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:en("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:en("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:en("linux"),versionRegexes:[]},{name:"Solaris",search:en("sunos"),versionRegexes:[]},{name:"FreeBSD",search:en("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:en("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ar={browsers:Qe(ro),oses:Qe(Jt)},wo="Edge",No="Chromium",fs="IE",fo="Opera",hl="Firefox",La="Safari",Jn=()=>Bi({current:void 0,version:xs.unknown()}),Bi=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isEdge:s(wo),isChromium:s(No),isIE:s(fs),isOpera:s(fo),isFirefox:s(hl),isSafari:s(La)}},Qi={unknown:Jn,nu:Bi,edge:Qe(wo),chromium:Qe(No),ie:Qe(fs),opera:Qe(fo),firefox:Qe(hl),safari:Qe(La)},as="Windows",Ju="iOS",As="Android",Hd="Linux",pl="macOS",er="Solaris",hu="FreeBSD",Qf="ChromeOS",Ch=()=>ms({current:void 0,version:xs.unknown()}),ms=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isWindows:s(as),isiOS:s(Ju),isAndroid:s(As),isMacOS:s(pl),isLinux:s(Hd),isSolaris:s(er),isFreeBSD:s(hu),isChromeOS:s(Qf)}},tc={unknown:Ch,nu:ms,windows:Qe(as),ios:Qe(Ju),android:Qe(As),linux:Qe(Hd),macos:Qe(pl),solaris:Qe(er),freebsd:Qe(hu),chromeos:Qe(Qf)},Pr={detect:(e,t,n)=>{const s=ar.browsers(),l=ar.oses(),f=t.bind(A=>Zs(s,A)).orThunk(()=>Ii(s,e)).fold(Qi.unknown,Qi.nu),g=Ic(l,e).fold(tc.unknown,tc.nu),C=Xf(g,f,e,n);return{browser:f,os:g,deviceType:C}}},em=e=>window.matchMedia(e).matches;let bl=gl(()=>Pr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),em));const Fa=()=>bl(),mg=window.navigator.userAgent,ua=Fa(),Mi=ua.browser,za=ua.os,vl=ua.deviceType,_h=mg.indexOf("Windows Phone")!==-1,Co={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Mi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Mi.isIE(),windowsPhone:_h,browser:{current:Mi.current,version:Mi.version,isChromium:Mi.isChromium,isEdge:Mi.isEdge,isFirefox:Mi.isFirefox,isIE:Mi.isIE,isOpera:Mi.isOpera,isSafari:Mi.isSafari},os:{current:za.current,version:za.version,isAndroid:za.isAndroid,isChromeOS:za.isChromeOS,isFreeBSD:za.isFreeBSD,isiOS:za.isiOS,isLinux:za.isLinux,isMacOS:za.isMacOS,isSolaris:za.isSolaris,isWindows:za.isWindows},deviceType:{isDesktop:vl.isDesktop,isiPad:vl.isiPad,isiPhone:vl.isiPhone,isPhone:vl.isPhone,isTablet:vl.isTablet,isTouch:vl.isTouch,isWebView:vl.isWebView}},Mc=/^\s*|\s*$/g,Qu=e=>rt(e)?"":(""+e).replace(Mc,""),pu=(e,t)=>t?t==="array"&&gu(e)?!0:typeof e===t:e!==void 0,Zp=(e,t,n={})=>{const s=Te(e)?e.split(t||","):e||[];let l=s.length;for(;l--;)n[s[l]]={};return n},_y=Gn,e1=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const l in s)if(Gn(s,l)){const f=s[l];f!==void 0&&(e[l]=f)}}return e},t1=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),ts(e,(l,f)=>t.call(s,l,f,n)===!1?!1:(t1(l,t,n,s),!0)))},Kt={trim:Qu,isArray:gu,is:pu,toArray:Gf,makeMap:Zp,each:ts,map:Yf,grep:Ni,inArray:ml,hasOwn:_y,extend:e1,walk:t1,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,l=n.length;s<l&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>re(e)?e:e===""?[]:Yf(e.split(t||","),Qu),_addCacheSuffix:e=>{const t=Co.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Vd=(e,t,n=nr)=>e.exists(s=>n(s,t)),$d=(e,t,n=nr)=>Ha(e,t,n).getOr(e.isNone()&&t.isNone()),o1=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},Ha=(e,t,n)=>e.isSome()&&t.isSome()?J.some(n(e.getOrDie(),t.getOrDie())):J.none(),Ud=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?J.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):J.none(),gg=(e,t)=>e?J.some(t):J.none(),Sy=typeof window<"u"?window:Function("return this;")(),ky=(e,t)=>{let n=t??Sy;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},jp=(e,t)=>{const n=e.split(".");return ky(n,t)},Ey=(e,t)=>jp(e,t),r1=(e,t)=>{const n=Ey(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Ay=Object.getPrototypeOf,hg=e=>r1("HTMLElement",e),s1=e=>{const t=jp("ownerDocument.defaultView",e);return te(e)&&(hg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ay(e).constructor.name))},Wd=8,Zd=9,Va=11,tl=1,pg=3,Po=e=>e.dom.nodeName.toLowerCase(),ed=e=>e.dom.nodeType,bg=e=>t=>ed(t)===e,vg=e=>ed(e)===Wd||Po(e)==="#comment",vi=e=>Ts(e)&&s1(e.dom),Ts=bg(tl),Gr=bg(pg),wa=bg(Zd),Lr=bg(Va),jd=e=>t=>Ts(t)&&Po(t)===e,tm=(e,t,n)=>{if(Te(n)||Ve(n)||D(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},na=(e,t,n)=>{tm(e.dom,t,n)},yi=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{tm(n,l,s)})},ii=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Pc=(e,t)=>J.from(ii(e,t)),td=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},bo=(e,t)=>{e.dom.removeAttribute(t)},js=e=>{const t=e.dom.attributes;return t==null||t.length===0},nl=e=>It(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),nd=(e,t)=>{const n=ii(e,t);return n===void 0||n===""?[]:n.split(" ")},Ca=(e,t,n)=>{const l=nd(e,t).concat([n]);return na(e,t,l.join(" ")),!0},Dn=(e,t,n)=>{const s=Ct(nd(e,t),l=>l!==n);return s.length>0?na(e,t,s.join(" ")):bo(e,t),!1},nc=e=>e.dom.classList!==void 0,oc=e=>nd(e,"class"),ir=(e,t)=>Ca(e,"class",t),kh=(e,t)=>Dn(e,"class",t),Kp=(e,t)=>le(oc(e),t)?kh(e,t):ir(e,t),od=(e,t)=>{nc(e)?e.dom.classList.add(t):ir(e,t)},_o=e=>{(nc(e)?e.dom.classList:oc(e)).length===0&&bo(e,"class")},xi=(e,t)=>{nc(e)?e.dom.classList.remove(t):kh(e,t),_o(e)},Eh=(e,t)=>{const n=nc(e)?e.dom.classList.toggle(t):Kp(e,t);return _o(e),n},rd=(e,t)=>nc(e)&&e.dom.classList.contains(t),qp=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Fc(s.childNodes[0])},Lc=(e,t)=>{const s=(t||document).createElement(e);return Fc(s)},Pi=(e,t)=>{const s=(t||document).createTextNode(e);return Fc(s)},Fc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:qp,fromTag:Lc,fromText:Pi,fromDom:Fc,fromPoint:(e,t,n)=>J.from(e.dom.elementFromPoint(t,n)).map(Fc)},nm=(e,t)=>{const n=[],s=f=>(n.push(f),t(f));let l=t(e);do l=l.bind(s);while(l.isSome());return n},yr=(e,t)=>{const n=e.dom;if(n.nodeType!==tl)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Gp=e=>e.nodeType!==tl&&e.nodeType!==Zd&&e.nodeType!==Va||e.childElementCount===0,yg=(e,t)=>{const n=t===void 0?document:t.dom;return Gp(n)?[]:Me(n.querySelectorAll(e),Be.fromDom)},zc=(e,t)=>{const n=t===void 0?document:t.dom;return Gp(n)?J.none():J.from(n.querySelector(e)).map(Be.fromDom)},Lo=(e,t)=>e.dom===t.dom,$a=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},bu=e=>Be.fromDom(e.dom.ownerDocument),Ml=e=>wa(e)?e:bu(e),vu=e=>Be.fromDom(Ml(e).dom.documentElement),yu=e=>Be.fromDom(Ml(e).dom.defaultView),Ua=e=>J.from(e.dom.parentNode).map(Be.fromDom),qd=e=>J.from(e.dom.parentElement).map(Be.fromDom),om=(e,t)=>{const n=Ne(t)?t:xn;let s=e.dom;const l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const f=s.parentNode,g=Be.fromDom(f);if(l.push(g),n(g)===!0)break;s=f}return l},Yp=e=>{const t=n=>Ct(n,s=>!Lo(e,s));return Ua(e).map(Wa).map(t).getOr([])},oa=e=>J.from(e.dom.previousSibling).map(Be.fromDom),Pn=e=>J.from(e.dom.nextSibling).map(Be.fromDom),xu=e=>Ao(nm(e,oa)),rm=e=>nm(e,Pn),Wa=e=>Me(e.dom.childNodes,Be.fromDom),wu=(e,t)=>{const n=e.dom.childNodes;return J.from(n[t]).map(Be.fromDom)},yl=e=>wu(e,0),Cu=e=>wu(e,e.dom.childNodes.length-1),sd=e=>e.dom.childNodes.length,ra=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Be.fromDom(t)},Pl=e=>Lr(e)&&Ce(e.dom.host),Hc=e=>Be.fromDom(e.dom.getRootNode()),sm=e=>Pl(e)?e:ra(Ml(e)),a1=e=>Pl(e)?e:Be.fromDom(Ml(e).dom.body),_u=e=>{const t=Hc(e);return Pl(t)?J.some(t):J.none()},Gd=e=>Be.fromDom(e.dom.host),Xp=e=>{if(Ce(e.target)){const t=Be.fromDom(e.target);if(Ts(t)&&is(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return cn(n)}}return J.from(e.target)},is=e=>Ce(e.dom.shadowRoot),wi=e=>{const t=Gr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return _u(Be.fromDom(t)).fold(()=>n.body.contains(t),gn(wi,Gd))};var li=(e,t,n,s,l)=>e(n,s)?J.some(n):Ne(l)&&l(n)?J.none():t(n,s,l);const Li=(e,t,n)=>{let s=e.dom;const l=Ne(n)?n:xn;for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s);if(t(f))return J.some(f);if(l(f))break}return J.none()},Xs=(e,t,n)=>li((l,f)=>f(l),Li,e,t,n),Ah=(e,t)=>{const n=e.dom;return n.parentNode?Ks(Be.fromDom(n.parentNode),s=>!Lo(e,s)&&t(s)):J.none()},Ks=(e,t)=>{const n=l=>t(Be.fromDom(l));return wn(e.dom.childNodes,n).map(Be.fromDom)},_a=(e,t)=>{const n=s=>{for(let l=0;l<s.childNodes.length;l++){const f=Be.fromDom(s.childNodes[l]);if(t(f))return J.some(f);const g=n(s.childNodes[l]);if(g.isSome())return g}return J.none()};return n(e.dom)},Vc=(e,t,n)=>Li(e,s=>yr(s,t),n),At=(e,t)=>zc(t,e),Sa=(e,t,n)=>li((l,f)=>yr(l,f),Vc,e,t,n),Th=e=>Sa(e,"[contenteditable]"),ls=(e,t=!1)=>wi(e)?e.dom.isContentEditable:Th(e).fold(Qe(t),n=>Su(n)==="true"),Su=e=>e.dom.contentEditable,Ci=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),rc=(e,t,n)=>{if(!Te(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ci(e)&&e.style.setProperty(t,n)},am=(e,t)=>{Ci(e)&&e.style.removeProperty(t)},Fi=(e,t,n)=>{const s=e.dom;rc(s,t,n)},Io=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{rc(n,l,s)})},Os=(e,t)=>{const n=e.dom,l=window.getComputedStyle(n).getPropertyValue(t);return l===""&&!wi(e)?Yd(n,t):l},Yd=(e,t)=>Ci(e)?e.style.getPropertyValue(t):"",ws=(e,t)=>{const n=e.dom,s=Yd(n,t);return J.from(s).filter(l=>l.length>0)},xg=e=>{const t={},n=e.dom;if(Ci(n))for(let s=0;s<n.style.length;s++){const l=n.style.item(s);t[l]=n.style[l]}return t},$c=(e,t)=>{const n=e.dom;am(n,t),Vd(Pc(e,"style").map(Re),"")&&bo(e,"style")},i1=e=>e.dom.offsetWidth,gs=(e,t)=>{Ua(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},et=(e,t)=>{Pn(e).fold(()=>{Ua(e).each(l=>{Ds(l,t)})},s=>{gs(s,t)})},_i=(e,t)=>{yl(e).fold(()=>{Ds(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Ds=(e,t)=>{e.dom.appendChild(t.dom)},Al=(e,t)=>{gs(e,t),Ds(t,e)},sc=(e,t)=>{ge(t,(n,s)=>{const l=s===0?e:t[s-1];et(l,n)})},Hs=(e,t)=>{ge(t,n=>{Ds(e,n)})},Fr=e=>{e.dom.textContent="",ge(Wa(e),t=>{fr(t)})},fr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Si=e=>{const t=Wa(e);t.length>0&&sc(e,t),fr(e)},Tl=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Wa(Be.fromDom(s))},Uc=e=>Me(e,Be.fromDom),ad=e=>e.dom.innerHTML,im=(e,t)=>{const s=bu(e).dom,l=Be.fromDom(s.createDocumentFragment()),f=Tl(t,s);Hs(l,f),Fr(e),Ds(e,l)},wg=e=>{const t=Be.fromTag("div"),n=Be.fromDom(e.dom.cloneNode(!0));return Ds(t,n),ad(t)},Cg=(e,t,n,s,l,f,g)=>({target:e,x:t,y:n,stop:s,prevent:l,kill:f,raw:g}),Jp=e=>{const t=Be.fromDom(Xp(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),l=ln(s,n);return Cg(t,e.clientX,e.clientY,n,s,l,e)},Qp=(e,t)=>n=>{e(n)&&t(Jp(n))},ku=(e,t,n,s,l)=>{const f=Qp(n,s);return e.dom.addEventListener(t,f,l),{unbind:pt(Z,e,t,f,l)}},N=(e,t,n,s)=>ku(e,t,n,s,!1),Z=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},ne=(e,t)=>({left:e,top:t,translate:(s,l)=>ne(e+s,t+l)}),Oe=ne,ze=e=>{const t=e.getBoundingClientRect();return Oe(t.left,t.top)},Tt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ln=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,l=t.documentElement;if(n===e.dom)return Oe(n.offsetLeft,n.offsetTop);const f=Tt(s==null?void 0:s.pageYOffset,l.scrollTop),g=Tt(s==null?void 0:s.pageXOffset,l.scrollLeft),C=Tt(l.clientTop,n.clientTop),A=Tt(l.clientLeft,n.clientLeft);return so(e).translate(g-A,f-C)},so=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Oe(s.offsetLeft,s.offsetTop):wi(e)?ze(t):Oe(0,0)},Yn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Oe(n,s)},_n=(e,t,n)=>{const l=(n!==void 0?n.dom:document).defaultView;l&&l.scrollTo(e,t)},Jo=(e,t)=>{Fa().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Rs=e=>{const t=e===void 0?window:e;return Fa().browser.isFirefox()?J.none():J.from(t.visualViewport)},cs=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),ac=e=>{const t=e===void 0?window:e,n=t.document,s=Yn(Be.fromDom(n));return Rs(t).fold(()=>{const l=t.document.documentElement,f=l.clientWidth,g=l.clientHeight;return cs(s.left,s.top,f,g)},l=>cs(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},lm=(e,t)=>Ct(Wa(e),t),cm=(e,t)=>{let n=[];return ge(Wa(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(cm(s,t))}),n},Js=(e,t)=>yg(t,e),Hw=(e,t,n)=>Li(e,t,n).isSome(),eb=(e,t)=>Ah(e,t).isSome(),l1=(e,t)=>_a(e,t).isSome();class Za{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,l){if(t){if(!l&&t[n])return t[n];if(t!==this.rootNode){let f=t[s];if(f)return f;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[s],f)return f}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let f=s.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return s}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const hs="\uFEFF",da=" ",Eu=e=>e===hs,Oh=e=>e.replace(/\uFEFF/g,""),Ty=/^[ \t\r\n]*$/,Ll=e=>Ty.test(e),ol=e=>{for(const t of e)if(!Eu(t))return!1;return!0},tb=e=>" \f	\v".indexOf(e)!==-1,Xd=e=>e===`
`||e==="\r",hk=(e,t)=>t<e.length&&t>=0?Xd(e[t]):!1,nb=(e,t=4,n=!0,s=!0)=>{const l=Yt(" ",t),f=e.replace(/\t/g,l);return It(f,(C,A)=>tb(A)||A===da?C.pcIsSpace||C.str===""&&n||C.str.length===f.length-1&&s||hk(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+da}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Xd(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},id=e=>t=>!!t&&t.nodeType===e,Jd=e=>!!e&&!Object.getPrototypeOf(e),yn=id(1),Wc=e=>yn(e)&&vi(Be.fromDom(e)),ob=e=>yn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Qd=e=>{const t=e.toLowerCase();return n=>Ce(n)&&n.nodeName.toLowerCase()===t},ja=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return le(t,s)}return!1}},ic=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(yn(s)){const l=s.ownerDocument.defaultView;if(l)for(let f=0;f<n.length;f++){const g=l.getComputedStyle(s,null);if((g?g.getPropertyValue(e):null)===n[f])return!0}}return!1}},_g=e=>t=>yn(t)&&t.hasAttribute(e),ef=e=>yn(e)&&e.hasAttribute("data-mce-bogus"),c1=e=>yn(e)&&e.getAttribute("data-mce-bogus")==="all",Zc=e=>yn(e)&&e.tagName==="TABLE",Dh=e=>t=>!!(Wc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Rh=ja(["textarea","input"]),Mt=id(3),Oy=id(4),tf=id(7),go=id(8),Sn=id(9),nf=id(11),ns=Qd("br"),lc=Qd("img"),cc=Dh("true"),to=Dh("false"),Nh=ja(["td","th"]),Vw=ja(["td","th","caption"]),xt=ja(["video","audio","object","embed"]),Dy=Qd("li"),Ih=Qd("details"),Bh=Qd("summary"),Sg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},um=(e,t,n)=>{const s=Be.fromDom(t),l=Be.fromDom(e),f=n.getWhitespaceElements();return Hw(l,C=>Gn(f,Po(C)),pt(Lo,s))},$w=e=>yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),of=(e,t)=>yn(e)&&Gn(t.getNonEmptyElements(),e.nodeName),Zr=_g("data-mce-bookmark"),Au=e=>qd(Be.fromDom(e)).exists(t=>!ls(t)),u1=(e,t,n)=>Ll(e.data)&&!um(e,t,n),jc=(e,t,n,s)=>Mt(e)&&!u1(e,t,n)&&(!s.includeZwsp||!ol(e.data)),dm=(e,t,n,s)=>Ne(s.isContent)&&s.isContent(t)||of(t,e)||Zr(t)||$w(t)||jc(t,n,e,s)||to(t)||cc(t)&&Au(t),Fl=(e,t,n)=>{const s={...Sg,...n};if(s.checkRootAsContent&&dm(e,t,t,s))return!1;let l=t.firstChild,f=0;if(!l)return!0;const g=new Za(l,t);do{if(s.skipBogus&&yn(l)){const C=l.getAttribute("data-mce-bogus");if(C){l=g.next(C==="all");continue}}if(go(l)){l=g.next(!0);continue}if(ns(l)){f++,l=g.next();continue}if(dm(e,l,t,s))return!1;l=g.next()}while(l);return f<=1},Ns=(e,t,n)=>Fl(e,t.dom,{checkRootAsContent:!0,...n}),rb=(e,t,n)=>dm(e,t,t,{includeZwsp:Sg.includeZwsp,...n}),fa=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},d1=e=>{const t=fa(J.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(C))}}},uc=e=>{const t=fa(J.none()),n=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(setInterval(C,e)))}}},ma=()=>{const e=d1(Pt);return{...e,on:n=>e.get().each(n)}},Ft=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},fm=e=>Ft(e)!=="html",ga=e=>fm(e.nodeName),Uw=e=>Ft(e.nodeName),Ww=["svg","math"],pk=()=>{const e=ma(),t=()=>e.get().map(Uw).getOr("html");return{track:l=>(ga(l)?e.set(l):e.get().exists(f=>!f.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},ld="data-mce-block",kg=e=>Ct(Vt(e),t=>!/[A-Z]/.test(t)),sb=e=>Me(kg(e),t=>{const n=CSS.escape(t);return`${n}:`+Me(Ww,s=>`not(${s} ${n})`).join(":")}).join(","),f1=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(ld,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ld),!1),Ry=(e,t)=>{const n=sb(e.getTransparentElements()),s=sb(e.getBlockElements());return Ct(t.querySelectorAll(n),l=>f1(s,l))},us=(e,t,n)=>{var s;const l=n?"lastChild":"firstChild";for(let f=t[l];f;f=f[l])if(Fl(e,f,{checkRootAsContent:!0})){(s=f.parentNode)===null||s===void 0||s.removeChild(f);return}},ab=(e,t,n)=>{const s=document.createRange(),l=t.parentNode;if(l){s.setStartBefore(t),s.setEndBefore(n);const f=s.extractContents();us(e,f,!0),s.setStartAfter(n),s.setEndAfter(t);const g=s.extractContents();us(e,g,!1),Fl(e,f,{checkRootAsContent:!0})||l.insertBefore(f,t),Fl(e,n,{checkRootAsContent:!0})||l.insertBefore(n,t),Fl(e,g,{checkRootAsContent:!0})||l.insertBefore(g,t),l.removeChild(t)}},ps=(e,t,n)=>{const s=e.getBlockElements(),l=Be.fromDom(t),f=C=>Po(C)in s,g=C=>Lo(C,l);ge(Uc(n),C=>{Li(C,f,g).each(A=>{const F=lm(C,j=>f(j)&&!e.isValidChild(Po(A),Po(j)));if(F.length>0){const j=qd(A);ge(F,q=>{Li(q,f,g).each(X=>{ab(e,X.dom,q.dom)})}),j.each(q=>Ry(e,q.dom))}})})},zi=(e,t,n)=>{ge([...n,...rf(e,t)?[t]:[]],s=>ge(Js(Be.fromDom(s),s.nodeName.toLowerCase()),l=>{Zw(e,l.dom)&&Si(l)}))},Is=(e,t)=>{const n=Ry(e,t);ps(e,t,n),zi(e,t,n)},zl=(e,t)=>{if(Mh(e,t)){const n=sb(e.getBlockElements());f1(n,t)}},cd=(e,t,n)=>{const s=f=>Lo(f,Be.fromDom(t)),l=om(Be.fromDom(n),s);bi(l,l.length-2).filter(Ts).fold(()=>Is(e,t),f=>Is(e,f.dom))},ka=e=>e.hasAttribute(ld),ib=(e,t)=>Gn(e.getTransparentElements(),t),Mh=(e,t)=>yn(t)&&ib(e,t.nodeName),rf=(e,t)=>Mh(e,t)&&ka(t),Zw=(e,t)=>Mh(e,t)&&!ka(t),Ph=(e,t)=>t.type===1&&ib(e,t.name)&&Te(t.attr(ld)),Ny=Fa().browser,m1=e=>wn(e,Ts),lb=e=>Ny.isFirefox()&&Po(e)==="table"?m1(Wa(e)).filter(t=>Po(t)==="caption").bind(t=>m1(rm(t)).map(n=>{const s=n.dom.offsetTop,l=t.dom.offsetTop,f=t.dom.offsetHeight;return s<=l?-f:0})).getOr(0):0,g1=(e,t)=>e.children&&le(e.children,t),Iy=(e,t,n)=>{let s=0,l=0;const f=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Os(Be.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return s=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:s,y:l}}let g=t;for(;g&&g!==n&&g.nodeType&&!g1(g,n);){const C=g;s+=C.offsetLeft||0,l+=C.offsetTop||0,g=C.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!g1(g,n);)s-=g.scrollLeft||0,l-=g.scrollTop||0,g=g.parentNode;l+=lb(Be.fromDom(t))}return{x:s,y:l}},mm=(e,t={})=>{let n=0;const s={},l=Be.fromDom(e),f=Ml(l),g=Fe=>{t.referrerPolicy=Fe},C=Fe=>{t.contentCssCors=Fe},A=Fe=>{Ds(sm(l),Fe)},F=Fe=>{const qe=sm(l);At(qe,"#"+Fe).each(fr)},j=Fe=>dr(s,Fe).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),q=Fe=>new Promise((qe,We)=>{let st;const Nt=Kt._addCacheSuffix(Fe),jt=j(Nt);s[Nt]=jt,jt.count++;const un=(pn,Nn)=>{ge(pn,ho),jt.status=Nn,jt.passed=[],jt.failed=[],st&&(st.onload=null,st.onerror=null,st=null)},wt=()=>un(jt.passed,2),dt=()=>un(jt.failed,3);if(qe&&jt.passed.push(qe),We&&jt.failed.push(We),jt.status===1)return;if(jt.status===2){wt();return}if(jt.status===3){dt();return}jt.status=1;const Dt=Be.fromTag("link",f.dom);yi(Dt,{rel:"stylesheet",type:"text/css",id:jt.id}),t.contentCssCors&&na(Dt,"crossOrigin","anonymous"),t.referrerPolicy&&na(Dt,"referrerpolicy",t.referrerPolicy),st=Dt.dom,st.onload=wt,st.onerror=dt,A(Dt),na(Dt,"href",Nt)}),X=(Fe,qe)=>{const We=j(Fe);s[Fe]=We,We.count++;const st=Be.fromTag("style",f.dom);yi(st,{rel:"stylesheet",type:"text/css",id:We.id}),st.dom.innerHTML=qe,A(st)},ue=Fe=>Promise.allSettled(Me(Fe,We=>q(We).then(Qe(We)))).then(We=>{const st=$t(We,Nt=>Nt.status==="fulfilled");return st.fail.length>0?Promise.reject(Me(st.fail,Nt=>Nt.reason)):Me(st.pass,Nt=>Nt.value)}),we=Fe=>{const qe=Kt._addCacheSuffix(Fe);dr(s,qe).each(We=>{--We.count===0&&(delete s[qe],F(We.id))})};return{load:q,loadRawCss:X,loadAll:ue,unload:we,unloadRawCss:Fe=>{dr(s,Fe).each(qe=>{--qe.count===0&&(delete s[Fe],F(qe.id))})},unloadAll:Fe=>{ge(Fe,qe=>{we(qe)})},_setReferrerPolicy:g,_setContentCssCors:C}},h1=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const f=Hc(n).dom;return J.from(e.get(f)).getOrThunk(()=>{const g=mm(f,s);return e.set(f,g),g})}}})(),p1=e=>e.nodeName.toLowerCase()==="span",By=(e,t)=>Ce(e)&&(rb(t,e)||t.isInline(e.nodeName.toLowerCase())),My=(e,t,n)=>{const s=new Za(e,t).prev(!1),l=new Za(e,t).next(!1),f=Ze(s)||By(s,n),g=Ze(l)||By(l,n);return f&&g},cb=e=>p1(e)&&e.getAttribute("data-mce-type")==="bookmark",Py=(e,t,n)=>Mt(e)&&e.data.length>0&&My(e,t,n),Ly=e=>yn(e)?e.childNodes.length>0:!1,ub=e=>nf(e)||Sn(e),Lh=(e,t,n,s)=>{var l;const f=s||t;if(yn(t)&&cb(t))return t;const g=t.childNodes;for(let C=g.length-1;C>=0;C--)Lh(e,g[C],n,f);if(yn(t)){const C=t.childNodes;C.length===1&&cb(C[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(C[0],t))}return!ub(t)&&!rb(n,t)&&!Ly(t)&&!Py(t,f,n)&&e.remove(t),t},Fy=Kt.makeMap,db=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gm=/[<>&\"\']/g,Fh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,zy={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ud={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Eg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ag=e=>{const t=Be.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},dd=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let l=0;l<s.length;l+=2){const f=String.fromCharCode(parseInt(s[l],t));if(!ud[f]){const g="&"+s[l+1]+";";n[f]=g,n[g]=f}}return n}else return},sf=dd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),mb=(e,t)=>e.replace(t?db:fb,n=>ud[n]||n),vk=e=>(""+e).replace(gm,t=>ud[t]||t),gb=(e,t)=>e.replace(t?db:fb,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":ud[n]||"&#"+n.charCodeAt(0)+";"),dc=(e,t,n)=>{const s=n||sf;return e.replace(t?db:fb,l=>ud[l]||s[l]||l)},Tg={encodeRaw:mb,encodeAllRaw:vk,encodeNumeric:gb,encodeNamed:dc,getEncodeFunc:(e,t)=>{const n=dd(t)||sf,s=(g,C)=>g.replace(C?db:fb,A=>ud[A]!==void 0?ud[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(g,C)=>dc(g,C,n),f=Fy(e.replace(/\+/g,","));return f.named&&f.numeric?s:f.named?t?l:dc:f.numeric?gb:mb},decode:e=>e.replace(Fh,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):zy[n]||String.fromCharCode(n)):Eg[t]||sf[t]||Ag(t))},Ka=(e,t)=>(e=Kt.trim(e),e?e.split(t||" "):[]),Og=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Dg=e=>te(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",b1=e=>{const t=n=>re(n)?Me(n,t):Dg(n)?new RegExp(n.source,n.flags):te(n)?kl(n,t):n;return t(e)},Fo=e=>{const t=/^(~)?(.+)$/;return ao(Ka(e,","),n=>{const s=t.exec(n);if(s){const f=s[1]==="~"?"span":"div",g=s[2];return[{cloneName:f,name:g}]}else return[]})},rl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Tu=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},ci=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=Tu(e),l=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(n),flowContent:l(s)})},Nr={html4:gl(()=>ci("html4")),html5:gl(()=>ci("html5")),"html5-strict":gl(()=>ci("html5-strict"))},hb=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:l}=Nr[e]();return t==="blocks"?J.some(n):t==="phrasing"?J.some(s):t==="flow"?J.some(l):J.none()},Kw=e=>{const t=rl(e),{phrasingContent:n,flowContent:s}=Tu(e),l={},f=(A,F,j)=>{l[A]={attributes:Es(F,Qe({})),attributesOrder:F,children:Es(j,Qe({}))}},g=(A,F="",j="")=>{const q=Ka(j),X=Ka(A);let ue=X.length;const we=[...t,...Ka(F)];for(;ue--;)f(X[ue],we.slice(),q)},C=(A,F)=>{const j=Ka(A),q=Ka(F);let X=j.length;for(;X--;){const ue=l[j[X]];for(let we=0,de=q.length;we<de;we++)ue.attributes[q[we]]={},ue.attributesOrder.push(q[we])}};return e!=="html5-strict"&&(ge(Ka("acronym applet basefont big font strike tt"),j=>{g(j,"",n)}),ge(Ka("center dir isindex noframes"),j=>{g(j,"",s)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),g("dd div","",s),g("address dt caption","",e==="html4"?n:s),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",s),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",s),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:s),g("q","cite",n),g("ins del","cite datetime",s),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",s),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),g("param","name value"),g("map","name",[s,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",s),g("th","colspan rowspan headers scope abbr",s),g("form","accept-charset action autocomplete enctype method name novalidate target",s),g("fieldset","disabled form name",[s,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[s,"li"].join(" ")),g("noscript","",s),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",s),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",s),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",s),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[s,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",s),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[s,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&ge([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),ge(Ka("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},yk=e=>e==="-"?"remove":"add",Yr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},v1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ao(Ka(e,","),n=>{const s=t.exec(n);if(s){const l=s[1],f=l?yk(l):"replace",g=s[2],C=ao(Ka(s[3],"|"),A=>Yr(A).toArray());return[{operation:f,name:g,validChildren:C}]}else return[]})},Vy=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:l,attributesOrder:f}=t;return ge(Ka(e,"|"),g=>{const C=n.exec(g);if(C){const A={},F=C[1],j=C[2].replace(/[\\:]:/g,":"),q=C[3],X=C[4];if(F==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),F==="-"){delete l[j],f.splice(Kt.inArray(f,j),1);return}if(q&&(q==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:X}),A.defaultValue=X):q==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:X}),A.forcedValue=X):q==="<"&&(A.validValues=Kt.makeMap(X,"?"))),s.test(j)){const ue=A;t.attributePatterns=t.attributePatterns||[],ue.pattern=Og(j),t.attributePatterns.push(ue)}else l[j]||f.push(j),l[j]=A}})},hm=(e,t)=>{Uo(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},fc=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ao(Ka(t,","),s=>{const l=n.exec(s);if(l){const f=l[1],g=l[2],C=l[3],A=l[4],F=l[5],j={attributes:{},attributesOrder:[]};if(e.each(q=>hm(q,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),F&&Vy(F,j),C&&(j.outputName=g),g==="@")if(e.isNone())e=J.some(j);else return[];return[C?{name:g,element:j,aliasName:C}:{name:g,element:j}]}else return[]})},zh={},fn=Kt.makeMap,Kc=Kt.each,$y=Kt.extend,y1=Kt.explode,Hh=(e,t={})=>{const n=fn(e," ",fn(e.toUpperCase()," "));return $y(n,t)},x1=e=>Hh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Rg=(e,t)=>{if(e){const n={};return Te(e)&&(e={"*":e}),Kc(e,(s,l)=>{n[l]=n[l.toUpperCase()]=t==="map"?fn(s,/[, ]/):y1(s,/[, ]/)}),n}else return},mc=(e={})=>{var t;const n={},s={};let l=[];const f={},g={},C=(Mn,jo,Ls)=>{const ta=e[Mn];if(ta)return fn(ta,/[, ]/,fn(ta.toUpperCase(),/[, ]/));{let Da=zh[Mn];return Da||(Da=Hh(jo,Ls),zh[Mn]=Da),Da}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",F=Kw(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Rg(e.valid_styles),q=Rg(e.invalid_styles,"map"),X=Rg(e.valid_classes,"map"),ue=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),de=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Fe="td th iframe video audio object script code",qe=C("non_empty_elements",Fe+" pre svg textarea summary",de),We=C("move_caret_before_on_enter_elements",Fe+" table",de),st="h1 h2 h3 h4 h5 h6",Nt=C("text_block_elements",st+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),jt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Nt),un=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wt=C("transparent_elements","a ins del canvas map"),dt=C("wrap_block_elements","pre "+st);Kc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Mn=>{g[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")});const Dt=Mn=>{const jo=J.from(n["@"]),Ls=/[*?+]/;ge(fc(jo,Mn??""),({name:ta,element:Da,aliasName:ji})=>{if(ji&&(n[ji]=Da),Ls.test(ta)){const va=Da;va.pattern=Og(ta),l.push(va)}else n[ta]=Da})},pn=Mn=>{l=[],ge(Vt(n),jo=>{delete n[jo]}),Dt(Mn)},Nn=(Mn,jo)=>{var Ls,ta;delete zh.text_block_elements,delete zh.block_elements;const Da=jo.extends?!ju(jo.extends):!1,ji=jo.extends;if(s[Mn]=ji?s[ji]:{},f[Mn]=ji??Mn,qe[Mn.toUpperCase()]={},qe[Mn]={},Da||(jt[Mn.toUpperCase()]={},jt[Mn]={}),ji&&!n[Mn]&&n[ji]){const va=b1(n[ji]);delete va.removeEmptyAttrs,delete va.removeEmpty,n[Mn]=va}else n[Mn]={attributesOrder:[],attributes:{}};if(re(jo.attributes)){const va=Gl=>{ya.attributesOrder.push(Gl),ya.attributes[Gl]={}},ya=(Ls=n[Mn])!==null&&Ls!==void 0?Ls:{};delete ya.attributesDefault,delete ya.attributesForced,delete ya.attributePatterns,delete ya.attributesRequired,ya.attributesOrder=[],ya.attributes={},ge(jo.attributes,Gl=>{const Jm=rl(A);Yr(Gl).each(({preset:Qm,name:eg})=>{Qm?eg==="global"&&ge(Jm,va):va(eg)})}),n[Mn]=ya}if(Ve(jo.padEmpty)){const va=(ta=n[Mn])!==null&&ta!==void 0?ta:{};va.paddEmpty=jo.padEmpty,n[Mn]=va}if(re(jo.children)){const va={},ya=Jm=>{va[Jm]={}},Gl=Jm=>{hb(A,Jm).each(Qm=>{ge(Qm,ya)})};ge(jo.children,Jm=>{Yr(Jm).each(({preset:Qm,name:eg})=>{Qm?Gl(eg):ya(eg)})}),s[Mn]=va}ji&&Uo(s,(va,ya)=>{va[ji]&&(s[ya]=va=$y({},s[ya]),va[Mn]=va[ji])})},yo=Mn=>{ge(Fo(Mn??""),({name:jo,cloneName:Ls})=>{Nn(jo,{extends:Ls})})},To=Mn=>{te(Mn)?Uo(Mn,(jo,Ls)=>Nn(Ls,jo)):Te(Mn)&&yo(Mn)},mr=Mn=>{ge(v1(Mn??""),({operation:jo,name:Ls,validChildren:ta})=>{const Da=jo==="replace"?{"#comment":{}}:s[Ls],ji=ya=>{jo==="remove"?delete Da[ya]:Da[ya]={}},va=ya=>{hb(A,ya).each(Gl=>{ge(Gl,ji)})};ge(ta,({preset:ya,name:Gl})=>{ya?va(Gl):ji(Gl)}),s[Ls]=Da})},Or=Mn=>{const jo=n[Mn];if(jo)return jo;let Ls=l.length;for(;Ls--;){const ta=l[Ls];if(ta.pattern.test(Mn))return ta}},Gs=()=>{e.valid_elements?(pn(e.valid_elements),Kc(F,(Mn,jo)=>{s[jo]=Mn.children})):(Kc(F,(Mn,jo)=>{n[jo]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},s[jo]=Mn.children}),Kc(Ka("strong/b em/i"),Mn=>{const jo=Ka(Mn,"/");n[jo[1]].outputName=jo[0]}),Kc(un,(Mn,jo)=>{n[jo]&&(e.padd_empty_block_inline_children&&(n[jo].paddInEmptyBlock=!0),n[jo].removeEmpty=!0)}),Kc(Ka("ol ul blockquote a table tbody"),Mn=>{n[Mn]&&(n[Mn].removeEmpty=!0)}),Kc(Ka("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Mn=>{n[Mn]&&(n[Mn].paddEmpty=!0)}),Kc(Ka("span"),Mn=>{n[Mn].removeEmptyAttrs=!0})),delete n.svg,To(e.custom_elements),mr(e.valid_children),Dt(e.extended_valid_elements),mr("+ol[ul|ol],+ul[ul|ol]"),Kc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Mn,jo)=>{n[jo]&&(n[jo].parentsRequired=Ka(Mn))}),e.invalid_elements&&Kc(y1(e.invalid_elements),Mn=>{n[Mn]&&delete n[Mn]}),Or("span")||Dt("span[!data-mce-type|*]")},fl=Qe(j),Mr=Qe(q),Xt=Qe(X),Tn=Qe(ke),Qo=Qe(jt),tn=Qe(Nt),Hn=Qe(un),ko=Qe(Object.seal(de)),an=Qe(we),xo=Qe(qe),Do=Qe(We),mi=Qe(ue),Er=Qe(wt),ei=Qe(dt),Nf=Qe(Object.seal(g)),hh=(Mn,jo)=>{const Ls=s[Mn.toLowerCase()];return!!(Ls&&Ls[jo.toLowerCase()])},ql=(Mn,jo)=>{const Ls=Or(Mn);if(Ls)if(jo){if(Ls.attributes[jo])return!0;const ta=Ls.attributePatterns;if(ta){let Da=ta.length;for(;Da--;)if(ta[Da].pattern.test(jo))return!0}}else return!0;return!1},ju=Mn=>Gn(Qo(),Mn),If=Mn=>!qr(Mn,"#")&&ql(Mn)&&!ju(Mn),Ku=Mn=>Gn(ei(),Mn)||If(Mn),Bf=Qe(f);return Gs(),{type:A,children:s,elements:n,getValidStyles:fl,getValidClasses:Xt,getBlockElements:Qo,getInvalidStyles:Mr,getVoidElements:ko,getTextBlockElements:tn,getTextInlineElements:Hn,getBoolAttrs:Tn,getElementRule:Or,getSelfClosingElements:an,getNonEmptyElements:xo,getMoveCaretBeforeOnEnterElements:Do,getWhitespaceElements:mi,getTransparentElements:Er,getSpecialElements:Nf,isValidChild:hh,isValid:ql,isBlock:ju,isInline:If,isWrapper:Ku,getCustomElements:Bf,addValidElements:Dt,setValidElements:pn,addCustomElements:To,addValidChildren:mr}},xk=e=>({value:w1(e)}),w1=e=>Bc(e,"#").toUpperCase(),Uy=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},C1=e=>{const t=Uy(e.red)+Uy(e.green)+Uy(e.blue);return xk(t)},Wy=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Zy=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,_1=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),jy=(e,t,n,s)=>{const l=parseInt(e,10),f=parseInt(t,10),g=parseInt(n,10),C=parseFloat(s);return _1(l,f,g,C)},Ky=e=>Wy.test(e)?"rgb":Zy.test(e)?"rgba":"other",qw=e=>{const t=Wy.exec(e);if(t!==null)return J.some(jy(t[1],t[2],t[3],"1"));const n=Zy.exec(e);return n!==null?J.some(jy(n[1],n[2],n[3],n[4])):J.none()},wk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,pb=e=>qw(e).map(C1).map(t=>"#"+t.value).getOr(e),qy=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let g,C;const A=hs;t&&(g=t.getValidStyles(),C=t.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let q=0;q<F.length;q++)f[F[q]]=A+q,f[A+q]=F[q];const j={parse:q=>{const X={};let ue=!1;const we=e.url_converter,de=e.url_converter_scope||j,ke=(wt,dt,Dt)=>{const pn=X[wt+"-top"+dt];if(!pn)return;const Nn=X[wt+"-right"+dt];if(!Nn)return;const yo=X[wt+"-bottom"+dt];if(!yo)return;const To=X[wt+"-left"+dt];if(!To)return;const mr=[pn,Nn,yo,To];let Or=mr.length-1;for(;Or--&&mr[Or]===mr[Or+1];);Or>-1&&Dt||(X[wt+dt]=Or===-1?mr[0]:mr.join(" "),delete X[wt+"-top"+dt],delete X[wt+"-right"+dt],delete X[wt+"-bottom"+dt],delete X[wt+"-left"+dt])},Fe=wt=>{const dt=X[wt];if(!dt)return;const Dt=dt.indexOf(",")>-1?[dt]:dt.split(" ");let pn=Dt.length;for(;pn--;)if(Dt[pn]!==Dt[0])return!1;return X[wt]=Dt[0],!0},qe=(wt,dt,Dt,pn)=>{Fe(dt)&&Fe(Dt)&&Fe(pn)&&(X[wt]=X[dt]+" "+X[Dt]+" "+X[pn],delete X[dt],delete X[Dt],delete X[pn])},We=wt=>(ue=!0,f[wt]),st=(wt,dt)=>(ue&&(wt=wt.replace(/\uFEFF[0-9]/g,Dt=>f[Dt])),dt||(wt=wt.replace(/\\([\'\";:])/g,"$1")),wt),Nt=wt=>String.fromCharCode(parseInt(wt.slice(1),16)),jt=wt=>wt.replace(/\\[0-9a-f]+/gi,Nt),un=(wt,dt,Dt,pn,Nn,yo)=>{if(Nn=Nn||yo,Nn)return Nn=st(Nn),"'"+Nn.replace(/\'/g,"\\'")+"'";if(dt=st(dt||Dt||pn||""),!e.allow_script_urls){const To=dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(To)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(To))return""}return we&&(dt=we.call(de,dt,"style")),"url('"+dt.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,We).replace(/\"[^\"]+\"|\'[^\']+\'/g,dt=>dt.replace(/[;:]/g,We));let wt;for(;wt=s.exec(q);){s.lastIndex=wt.index+wt[0].length;let dt=wt[1].replace(l,"").toLowerCase(),Dt=wt[2].replace(l,"");if(dt&&Dt){if(dt=jt(dt),Dt=jt(Dt),dt.indexOf(A)!==-1||dt.indexOf('"')!==-1||!e.allow_script_urls&&(dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Dt)))continue;dt==="font-weight"&&Dt==="700"?Dt="bold":(dt==="color"||dt==="background-color")&&(Dt=Dt.toLowerCase()),Ky(Dt)==="rgb"&&qw(Dt).each(pn=>{Dt=pb(wk(pn)).toLowerCase()}),Dt=Dt.replace(n,un),X[dt]=ue?st(Dt,!0):Dt}}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),qe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(q,X)=>{let ue="";const we=(ke,Fe)=>{const qe=Fe[ke];if(qe)for(let We=0,st=qe.length;We<st;We++){const Nt=qe[We],jt=q[Nt];jt&&(ue+=(ue.length>0?" ":"")+Nt+": "+jt+";")}},de=(ke,Fe)=>{if(!C||!Fe)return!0;let qe=C["*"];return qe&&qe[ke]?!1:(qe=C[Fe],!(qe&&qe[ke]))};return X&&g?(we("*",g),we(X,g)):Uo(q,(ke,Fe)=>{ke&&de(Fe,X)&&(ue+=(ue.length>0?" ":"")+Fe+": "+ke+";")}),ue}};return j},Ng={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ck=e=>e instanceof Event||Ne(e.initEvent),_k=e=>e.isDefaultPrevented===Rn||e.isDefaultPrevented===xn,af=e=>rt(e.preventDefault)||Ck(e),pm=(e,t)=>{const n=t??{};for(const s in e)Gn(Ng,s)||(n[s]=e[s]);return Ce(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Ce(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},S1=(e,t,n,s)=>{var l;const f=pm(t,s);return f.type=e,rt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:n),af(t)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Rn,Ne(t.preventDefault)&&t.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Rn,Ne(t.stopPropagation)&&t.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Rn,f.stopPropagation()},_k(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Rn:xn,f.isPropagationStopped=f.cancelBubble===!0?Rn:xn,f.isImmediatePropagationStopped=xn)),f},Gw="mce-data-",Gy=/^(?:mouse|contextmenu)|click/,bb=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},fd=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},k1=e=>Ce(e)&&Gy.test(e.type),Qs=(e,t)=>{const n=S1(e.type,e,document,t);if(k1(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const s=n.target.ownerDocument||document,l=s.documentElement,f=s.body,g=n;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return n},Cs=(e,t,n)=>{const s=e.document,l={type:"ready"};if(n.domLoaded){t(l);return}const f=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,g=()=>{fd(e,"DOMContentLoaded",g),fd(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(l)),e=null};f()?g():bb(e,"DOMContentLoaded",g),n.domLoaded||bb(e,"load",g)};class lf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Gw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,l){const f=this;let g;const C=window,A=X=>{f.executeHandlers(Qs(X||C.event),F)};if(!t||Mt(t)||go(t))return s;let F;t[f.expando]?F=t[f.expando]:(F=f.count++,t[f.expando]=F,f.events[F]={}),l=l||t;const j=n.split(" ");let q=j.length;for(;q--;){let X=j[q],ue=A,we=!1,de=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&t.readyState==="complete"){s.call(l,Qs({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(we=!0,de=X==="focusin"?"focus":"blur",ue=ke=>{const Fe=Qs(ke||C.event);Fe.type=Fe.type==="focus"?"focusin":"focusout",f.executeHandlers(Fe,F)}),g=f.events[F][X],g?X==="ready"&&f.domLoaded?s(Qs({type:X})):g.push({func:s,scope:l}):(f.events[F][X]=g=[{func:s,scope:l}],g.fakeName=de,g.capture=we,g.nativeHandler=ue,X==="ready"?Cs(t,ue,f):bb(t,de||X,ue,we))}return t=g=null,s}unbind(t,n,s){if(!t||Mt(t)||go(t))return this;const l=t[this.expando];if(l){let f=this.events[l];if(n){const g=n.split(" ");let C=g.length;for(;C--;){const A=g[C],F=f[A];if(F){if(s){let j=F.length;for(;j--;)if(F[j].func===s){const q=F.nativeHandler,X=F.fakeName,ue=F.capture,we=F.slice(0,j).concat(F.slice(j+1));we.nativeHandler=q,we.fakeName=X,we.capture=ue,f[A]=we}}(!s||F.length===0)&&(delete f[A],fd(t,F.fakeName||A,F.nativeHandler,F.capture))}}}else Uo(f,(g,C)=>{fd(t,g.fakeName||C,g.nativeHandler,g.capture)}),f={};for(const g in f)if(Gn(f,g))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Mt(t)||go(t))return this;const l=Qs({type:n,target:t},s);do{const f=t[this.expando];f&&this.executeHandlers(l,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Mt(t)||go(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],l=s&&s[t.type];if(l)for(let f=0,g=l.length;f<g;f++){const C=l[f];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}lf.Event=new lf;const Yy=Kt.each,E1=Kt.grep,Ea="data-mce-style",Hi=Kt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ig=(e,t,n)=>{rt(n)||n===""?bo(e,t):na(e,t,n)},cf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),bm=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;t&&Mt(l)&&(f===s||!l.data.length)||(n++,s=f)}return n},A1=(e,t)=>{const n=ii(t,"style"),s=e.serialize(e.parse(n),Po(t));Ig(t,Ea,s)},Yw=(e,t)=>D(e)?Gn(Hi,t)?e+"":e+"px":e,Xy=(e,t,n)=>{const s=cf(t);rt(n)||n===""?$c(e,s):Fi(e,s,Yw(n,s))},vm=(e,t,n)=>{const s=t.keep_values,l={set:(g,C,A)=>{const F=Be.fromDom(g);Ne(t.url_converter)&&Ce(C)&&(C=t.url_converter.call(t.url_converter_scope||n(),String(C),A,g));const j="data-mce-"+A;Ig(F,j,C),Ig(F,A,C)},get:(g,C)=>{const A=Be.fromDom(g);return ii(A,"data-mce-"+C)||ii(A,C)}},f={style:{set:(g,C)=>{const A=Be.fromDom(g);s&&Ig(A,Ea,C),bo(A,"style"),Te(C)&&Io(A,e.parse(C))},get:g=>{const C=Be.fromDom(g),A=ii(C,Ea)||ii(C,"style");return e.serialize(e.parse(A),Po(C))}}};return s&&(f.href=f.src=l),f},Ir=(e,t={})=>{const n={},s=window,l={};let f=0;const g=!0,C=!0,A=h1.forElement(Be.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),F=[],j=t.schema?t.schema:mc({}),q=qy({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),X=t.ownEvents?new lf:lf.Event,ue=j.getBlockElements(),we=ut=>Te(ut)?Gn(ue,ut):yn(ut)&&(Gn(ue,ut.nodeName)||rf(j,ut)),de=ut=>ut&&e&&Te(ut)?e.getElementById(ut):ut,ke=ut=>{const ft=de(ut);return Ce(ft)?Be.fromDom(ft):null},Fe=(ut,ft,Gt="")=>{let Wt;const Wn=ke(ut);if(Ce(Wn)&&Ts(Wn)){const Ho=PT[ft];Ho&&Ho.get?Wt=Ho.get(Wn.dom,ft):Wt=ii(Wn,ft)}return Ce(Wt)?Wt:Gt},qe=ut=>{const ft=de(ut);return rt(ft)?[]:ft.attributes},We=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=Gt===""?null:Gt,Fs=ii(Wn,ft),tg=PT[ft];tg&&tg.set?tg.set(Wn.dom,Ho,ft):Ig(Wn,ft,Ho),Fs!==Ho&&t.onSetAttrib&&t.onSetAttrib({attrElm:Wn.dom,attrName:ft,attrValue:Ho})}})},st=(ut,ft)=>ut.cloneNode(ft),Nt=()=>t.root_element||e.body,jt=ut=>{const ft=ac(ut);return{x:ft.x,y:ft.y,w:ft.width,h:ft.height}},un=(ut,ft)=>Iy(e.body,de(ut),ft),wt=(ut,ft,Gt)=>{Tn(ut,Wt=>{const Wn=Be.fromDom(Wt);Xy(Wn,ft,Gt),t.update_styles&&A1(q,Wn)})},dt=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);Uo(ft,(Wn,Ho)=>{Xy(Wt,Ho,Wn)}),t.update_styles&&A1(q,Wt)})},Dt=(ut,ft,Gt)=>{const Wt=de(ut);if(!(rt(Wt)||!Wc(Wt)&&!ob(Wt)))return Gt?Os(Be.fromDom(Wt),cf(ft)):(ft=ft.replace(/-(\D)/g,(Wn,Ho)=>Ho.toUpperCase()),ft==="float"&&(ft="cssFloat"),Wt.style?Wt.style[ft]:void 0)},pn=ut=>{const ft=de(ut);if(!ft)return{w:0,h:0};let Gt=Dt(ft,"width"),Wt=Dt(ft,"height");return(!Gt||Gt.indexOf("px")===-1)&&(Gt="0"),(!Wt||Wt.indexOf("px")===-1)&&(Wt="0"),{w:parseInt(Gt,10)||ft.offsetWidth||ft.clientWidth,h:parseInt(Wt,10)||ft.offsetHeight||ft.clientHeight}},Nn=ut=>{const ft=de(ut),Gt=un(ft),Wt=pn(ft);return{x:Gt.x,y:Gt.y,w:Wt.w,h:Wt.h}},yo=(ut,ft)=>{if(!ut)return!1;const Gt=re(ut)?ut:[ut];return xe(Gt,Wt=>yr(Be.fromDom(Wt),ft))},To=(ut,ft,Gt,Wt)=>{const Wn=[];let Ho=de(ut);Wt=Wt===void 0;const Fs=Gt||(Nt().nodeName!=="BODY"?Nt().parentNode:null);if(Te(ft))if(ft==="*")ft=yn;else{const tg=ft;ft=a8=>yo(a8,tg)}for(;Ho&&!(Ho===Fs||rt(Ho.nodeType)||Sn(Ho)||nf(Ho));){if(!ft||ft(Ho))if(Wt)Wn.push(Ho);else return[Ho];Ho=Ho.parentNode}return Wt?Wn:null},mr=(ut,ft,Gt)=>{const Wt=To(ut,ft,Gt,!1);return Wt&&Wt.length>0?Wt[0]:null},Or=(ut,ft,Gt)=>{let Wt=ft;if(ut){Te(ft)&&(Wt=Wn=>yo(Wn,ft));for(let Wn=ut[Gt];Wn;Wn=Wn[Gt])if(Ne(Wt)&&Wt(Wn))return Wn}return null},Gs=(ut,ft)=>Or(ut,ft,"nextSibling"),fl=(ut,ft)=>Or(ut,ft,"previousSibling"),Mr=ut=>Ne(ut.querySelectorAll),Xt=(ut,ft)=>{var Gt,Wt;const Wn=(Wt=(Gt=de(ft))!==null&&Gt!==void 0?Gt:t.root_element)!==null&&Wt!==void 0?Wt:e;return Mr(Wn)?io(Wn.querySelectorAll(ut)):[]},Tn=function(ut,ft,Gt){const Wt=Gt??this;if(re(ut)){const Wn=[];return Yy(ut,(Ho,Fs)=>{const tg=de(Ho);tg&&Wn.push(ft.call(Wt,tg,Fs))}),Wn}else{const Wn=de(ut);return Wn?ft.call(Wt,Wn):!1}},Qo=(ut,ft)=>{Tn(ut,Gt=>{Uo(ft,(Wt,Wn)=>{We(Gt,Wn,Wt)})})},tn=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);im(Wt,ft)})},Hn=(ut,ft,Gt,Wt,Wn)=>Tn(ut,Ho=>{const Fs=Te(ft)?e.createElement(ft):ft;return Ce(Gt)&&Qo(Fs,Gt),Wt&&(!Te(Wt)&&Wt.nodeType?Fs.appendChild(Wt):Te(Wt)&&tn(Fs,Wt)),Wn?Fs:Ho.appendChild(Fs)}),ko=(ut,ft,Gt)=>Hn(e.createElement(ut),ut,ft,Gt,!0),an=Tg.decode,xo=Tg.encodeAllRaw,Do=(ut,ft,Gt="")=>{let Wt="<"+ut;for(const Wn in ft)El(ft,Wn)&&(Wt+=" "+Wn+'="'+xo(ft[Wn])+'"');return Lt(Gt)&&Gn(j.getVoidElements(),ut)?Wt+" />":Wt+">"+Gt+"</"+ut+">"},mi=ut=>{const ft=e.createElement("div"),Gt=e.createDocumentFragment();Gt.appendChild(ft),ut&&(ft.innerHTML=ut);let Wt;for(;Wt=ft.firstChild;)Gt.appendChild(Wt);return Gt.removeChild(ft),Gt},Er=(ut,ft)=>Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);return ft&&ge(Wa(Wt),Wn=>{Gr(Wn)&&Wn.dom.length===0?fr(Wn):gs(Wt,Wn)}),fr(Wt),Wt.dom}),ei=ut=>Tn(ut,ft=>{const Gt=ft.attributes;for(let Wt=Gt.length-1;Wt>=0;Wt--)ft.removeAttributeNode(Gt.item(Wt))}),Nf=ut=>q.parse(ut),hh=(ut,ft)=>q.serialize(ut,ft),ql=ut=>{if(Rp!==Ir.DOM&&e===document){if(n[ut])return;n[ut]=!0}let ft=e.getElementById("mceDefaultStyles");if(!ft){ft=e.createElement("style"),ft.id="mceDefaultStyles",ft.type="text/css";const Gt=e.head;Gt.firstChild?Gt.insertBefore(ft,Gt.firstChild):Gt.appendChild(ft)}ft.styleSheet?ft.styleSheet.cssText+=ut:ft.appendChild(e.createTextNode(ut))},ju=ut=>{ut||(ut=""),ge(ut.split(","),ft=>{l[ft]=!0,A.load(ft).catch(Pt)})},If=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=ft.split(" ");ge(Ho,Fs=>{Ce(Gt)?(Gt?od:xi)(Wn,Fs):Eh(Wn,Fs)})}})},Ku=(ut,ft)=>{If(ut,ft,!0)},Bf=(ut,ft)=>{If(ut,ft,!1)},Mn=(ut,ft)=>{const Gt=ke(ut),Wt=ft.split(" ");return Ce(Gt)&&vo(Wt,Wn=>rd(Gt,Wn))},jo=ut=>{Tn(ut,ft=>$c(Be.fromDom(ft),"display"))},Ls=ut=>{Tn(ut,ft=>Fi(Be.fromDom(ft),"display","none"))},ta=ut=>{const ft=ke(ut);return Ce(ft)&&Vd(ws(ft,"display"),"none")},Da=ut=>(ut||"mce_")+f++,ji=ut=>{const ft=ke(ut);return Ce(ft)?yn(ft.dom)?ft.dom.outerHTML:wg(ft):""},va=(ut,ft)=>{Tn(ut,Gt=>{yn(Gt)&&(Gt.outerHTML=ft)})},ya=(ut,ft)=>{const Gt=de(ft);return Tn(ut,Wt=>{const Wn=Gt==null?void 0:Gt.parentNode,Ho=Gt==null?void 0:Gt.nextSibling;return Wn&&(Ho?Wn.insertBefore(Wt,Ho):Wn.appendChild(Wt)),Wt})},Gl=(ut,ft,Gt)=>Tn(ft,Wt=>{var Wn;const Ho=re(ft)?ut.cloneNode(!0):ut;return Gt&&Yy(E1(Wt.childNodes),Fs=>{Ho.appendChild(Fs)}),(Wn=Wt.parentNode)===null||Wn===void 0||Wn.replaceChild(Ho,Wt),Wt}),Jm=(ut,ft)=>{if(ut.nodeName!==ft.toUpperCase()){const Gt=ko(ft);return Yy(qe(ut),Wt=>{We(Gt,Wt.nodeName,Fe(ut,Wt.nodeName))}),Gl(Gt,ut,!0),Gt}else return ut},Qm=(ut,ft)=>{let Gt=ut;for(;Gt;){let Wt=ft;for(;Wt&&Gt!==Wt;)Wt=Wt.parentNode;if(Gt===Wt)break;Gt=Gt.parentNode}return!Gt&&ut.ownerDocument?ut.ownerDocument.documentElement:Gt},eg=(ut,ft,Gt)=>Ae(ft)?Fl(j,ut,{...Gt,isContent:Wn=>{const Ho=Wn.nodeName.toLowerCase();return!!ft[Ho]}}):Fl(j,ut,Gt),Mf=()=>e.createRange(),jv=(ut,ft,Gt)=>{let Wt=Mf(),Wn,Ho;if(ut&&ft&&ut.parentNode&&ft.parentNode){const Fs=ut.parentNode;return Wt.setStart(Fs,bm(ut)),Wt.setEnd(ft.parentNode,bm(ft)),Wn=Wt.extractContents(),Wt=Mf(),Wt.setStart(ft.parentNode,bm(ft)+1),Wt.setEnd(Fs,bm(ut)+1),Ho=Wt.extractContents(),Fs.insertBefore(Lh(Rp,Wn,j),ut),Gt?Fs.insertBefore(Gt,ut):Fs.insertBefore(ft,ut),Fs.insertBefore(Lh(Rp,Ho,j),ut),Er(ut),Gt||ft}else return},$S=(ut,ft,Gt,Wt)=>{if(re(ut)){let Wn=ut.length;const Ho=[];for(;Wn--;)Ho[Wn]=$S(ut[Wn],ft,Gt,Wt);return Ho}else return t.collect&&(ut===e||ut===s)&&F.push([ut,ft,Gt,Wt]),X.bind(ut,ft,Gt,Wt||Rp)},US=(ut,ft,Gt)=>{if(re(ut)){let Wt=ut.length;const Wn=[];for(;Wt--;)Wn[Wt]=US(ut[Wt],ft,Gt);return Wn}else{if(F.length>0&&(ut===e||ut===s)){let Wt=F.length;for(;Wt--;){const[Wn,Ho,Fs]=F[Wt];ut===Wn&&(!ft||ft===Ho)&&(!Gt||Gt===Fs)&&X.unbind(Wn,Ho,Fs)}}return X.unbind(ut,ft,Gt)}},U9=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),B0=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),s8=ut=>{if(ut&&Wc(ut)){const ft=ut.getAttribute("data-mce-contenteditable");return ft&&ft!=="inherit"?ft:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},Rp={doc:e,settings:t,win:s,files:l,stdMode:g,boxModel:C,styleSheetLoader:A,boundEvents:F,styles:q,schema:j,events:X,isBlock:we,root:null,clone:st,getRoot:Nt,getViewPort:jt,getRect:Nn,getSize:pn,getParent:mr,getParents:To,get:de,getNext:Gs,getPrev:fl,select:Xt,is:yo,add:Hn,create:ko,createHTML:Do,createFragment:mi,remove:Er,setStyle:wt,getStyle:Dt,setStyles:dt,removeAllAttribs:ei,setAttrib:We,setAttribs:Qo,getAttrib:Fe,getPos:un,parseStyle:Nf,serializeStyle:hh,addStyle:ql,loadCSS:ju,addClass:Ku,removeClass:Bf,hasClass:Mn,toggleClass:If,show:jo,hide:Ls,isHidden:ta,uniqueId:Da,setHTML:tn,getOuterHTML:ji,setOuterHTML:va,decode:an,encode:xo,insertAfter:ya,replace:Gl,rename:Jm,findCommonAncestor:Qm,run:Tn,getAttribs:qe,isEmpty:eg,createRng:Mf,nodeIndex:bm,split:jv,bind:$S,unbind:US,fire:B0,dispatch:U9,getContentEditable:s8,getContentEditableParent:ut=>{const ft=Nt();let Gt=null;for(let Wt=ut;Wt&&Wt!==ft&&(Gt=s8(Wt),Gt===null);Wt=Wt.parentNode);return Gt},isEditable:ut=>{if(Ce(ut)){const ft=yn(ut)?ut:ut.parentElement;return Ce(ft)&&Wc(ft)&&ls(Be.fromDom(ft))}else return!1},destroy:()=>{if(F.length>0){let ut=F.length;for(;ut--;){const[ft,Gt,Wt]=F[ut];X.unbind(ft,Gt,Wt)}}Uo(l,(ut,ft)=>{A.unload(ft),delete l[ft]})},isChildOf:(ut,ft)=>ut===ft||ft.contains(ut),dumpRng:ut=>"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},PT=vm(q,t,Qe(Rp));return Rp};Ir.DOM=Ir(document),Ir.nodeIndex=bm;const T1=Ir.DOM,Xr=0,Ou=1,qc=2,Bg=3;class sl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const l=T1;let f;const g=()=>{l.remove(F),f&&(f.onerror=f.onload=f=null)},C=()=>{g(),n()},A=()=>{g(),s("Failed to load script: "+t)},F=l.uniqueId();f=document.createElement("script"),f.id=F,f.type="text/javascript",f.src=Kt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(t){return this.states[t]===qc}markDone(t){this.states[t]=qc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Xr),new Promise((l,f)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:l,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(A,F)=>{dr(n.scriptLoadedCallbacks,F).each(j=>{ge(j,q=>q[A](F))}),delete n.scriptLoadedCallbacks[F]},l=A=>{const F=Ct(A,j=>j.status==="rejected");return F.length>0?Promise.reject(ao(F,({reason:j})=>re(j)?j:[j])):Promise.resolve()},f=A=>Promise.allSettled(Me(A,F=>n.states[F]===qc?(s("resolve",F),Promise.resolve()):n.states[F]===Bg?(s("reject",F),Promise.reject(F)):(n.states[F]=Ou,n.loadScript(F).then(()=>{n.states[F]=qc,s("resolve",F);const j=n.queue;return j.length>0?(n.queue=[],f(j).then(l)):Promise.resolve()},()=>(n.states[F]=Bg,s("reject",F),Promise.reject(F)))))),g=A=>(n.loading=!0,f(A).then(F=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return J.from(j).each(ho),l(F)})),C=mu(t);return n.loading?new Promise((A,F)=>{n.queueLoadedCallbacks.push(()=>{g(C).then(A,F)})}):g(C)}}sl.ScriptLoader=new sl;const qa=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},ym=e=>te(e)&&Gn(e,"raw"),vb=e=>re(e)&&e.length>1,Mg={},yb=fa("en"),Pg=()=>dr(Mg,yb.get()),gc={getData:()=>kl(Mg,e=>({...e})),setCode:e=>{e&&yb.set(e)},getCode:()=>yb.get(),add:(e,t)=>{let n=Mg[e];n||(Mg[e]=n={});const s=Me(Vt(t),l=>l.toLowerCase());Uo(t,(l,f)=>{const g=f.toLowerCase();g!==f&&qa(s,g)?(Gn(t,g)||(n[g]=l),n[f]=l):n[g]=l})},translate:e=>{const t=Pg().getOr({}),n=g=>Ne(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,l=g=>{const C=n(g);return Gn(t,C)?n(t[C]):dr(t,C.toLowerCase()).map(n).getOr(C)},f=g=>g.replace(/{context:\w+}$/,"");if(s(e))return"";if(ym(e))return n(e.raw);if(vb(e)){const g=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(A,F)=>Gn(g,F)?n(g[F]):A);return f(C)}return f(l(e))},isRtl:()=>Pg().bind(e=>dr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Gn(Mg,e)},Vi=()=>{const e=[],t={},n={},s=[],l=(de,ke)=>{const Fe=Ct(s,qe=>qe.name===de&&qe.state===ke);ge(Fe,qe=>qe.resolve())},f=de=>Gn(t,de),g=de=>Gn(n,de),C=de=>{if(n[de])return n[de].instance},A=(de,ke)=>{const Fe=gc.getCode(),qe=","+(ke||"")+",";!Fe||ke&&qe.indexOf(","+Fe+",")===-1||sl.ScriptLoader.add(t[de]+"/langs/"+Fe+".js")},F=(de,ke)=>{Vi.languageLoad!==!1&&(f(de)?A(de,ke):we(de,"loaded").then(()=>A(de,ke)))},j=(de,ke)=>(e.push(ke),n[de]={instance:ke},l(de,"added"),ke),q=de=>{delete t[de],delete n[de]},X=(de,ke)=>Te(ke)?Te(de)?{prefix:"",resource:ke,suffix:""}:{prefix:de.prefix,resource:ke,suffix:de.suffix}:ke,ue=(de,ke)=>{if(t[de])return Promise.resolve();let Fe=Te(ke)?ke:ke.prefix+ke.resource+ke.suffix;Fe.indexOf("/")!==0&&Fe.indexOf("://")===-1&&(Fe=Vi.baseURL+"/"+Fe),t[de]=Fe.substring(0,Fe.lastIndexOf("/"));const qe=()=>(l(de,"loaded"),Promise.resolve());return n[de]?qe():sl.ScriptLoader.add(Fe).then(qe)},we=(de,ke="added")=>ke==="added"&&g(de)||ke==="loaded"&&f(de)?Promise.resolve():new Promise(Fe=>{s.push({name:de,state:ke,resolve:Fe})});return{items:e,urls:t,lookup:n,get:C,requireLangPack:F,add:j,remove:q,createUrl:X,load:ue,waitFor:we}};Vi.languageLoad=!0,Vi.baseURL="",Vi.PluginManager=Vi(),Vi.ThemeManager=Vi(),Vi.ModelManager=Vi();const Lg=(e,t)=>{let n=null;return{cancel:()=>{Ge(n)||(clearTimeout(n),n=null)},throttle:(...f)=>{Ge(n)&&(n=setTimeout(()=>{n=null,e.apply(null,f)},t))}}},Vh=(e,t)=>{let n=null;const s=()=>{Ge(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...f)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,f)},t)}}},eC=(e,t,n)=>Vc(e,t,n).isSome(),bs=Qe("mce-annotation"),vs=Qe("data-mce-annotation"),Vs=Qe("data-mce-annotation-uid"),xr=Qe("data-mce-annotation-active"),ds=Qe("data-mce-annotation-classes"),Bs=Qe("data-mce-annotation-attrs"),O1=e=>t=>Lo(t,e),D1=(e,t)=>{const n=e.selection.getRng(),s=Be.fromDom(n.startContainer),l=Be.fromDom(e.getBody()),f=t.fold(()=>"."+bs(),A=>`[${vs()}="${A}"]`),g=wu(s,n.startOffset).getOr(s);return Sa(g,f,O1(l)).bind(A=>Pc(A,`${Vs()}`).bind(F=>Pc(A,`${vs()}`).map(j=>{const q=tx(e,F);return{uid:F,name:j,elements:q}})))},ex=e=>Ts(e)&&rd(e,bs()),xb=(e,t)=>td(e,"data-mce-bogus")||eC(e,'[data-mce-bogus="all"]',O1(t)),tx=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Js(n,`[${Vs()}="${t}"]`);return Ct(s,l=>!xb(l,n))},Fg=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Js(n,`[${vs()}="${t}"]`),l={};return ge(s,f=>{if(!xb(f,n)){const g=ii(f,Vs()),C=dr(l,g).getOr([]);l[g]=C.concat([f])}}),l},R1=(e,t)=>{const n=fa({}),s=()=>({listeners:[],previous:ma()}),l=(q,X)=>{f(q,ue=>(X(ue),ue))},f=(q,X)=>{const ue=n.get(),we=dr(ue,q).getOrThunk(s),de=X(we);ue[q]=de,n.set(ue)},g=(q,X,ue)=>{l(q,we=>{ge(we.listeners,de=>de(!0,q,{uid:X,nodes:Me(ue,ke=>ke.dom)}))})},C=q=>{l(q,X=>{ge(X.listeners,ue=>ue(!1,q))})},A=(q,X)=>{ge(tx(e,q),ue=>{X?na(ue,xr(),"true"):bo(ue,xr())})},F=Vh(()=>{const q=ur(t.getNames());ge(q,X=>{f(X,ue=>{const we=ue.previous.get();return D1(e,J.some(X)).fold(()=>{we.each(de=>{C(X),ue.previous.clear(),A(de,!1)})},({uid:de,name:ke,elements:Fe})=>{Vd(we,de)||(we.each(qe=>A(qe,!1)),g(ke,de,Fe),ue.previous.set(de),A(de,!0))}),{previous:ue.previous,listeners:ue.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(q,X)=>{f(q,ue=>({previous:ue.previous,listeners:ue.listeners.concat([X])}))}}},N1=(e,t)=>{const n=vs(),s=f=>J.from(f.attr(n)).bind(t.lookup),l=f=>{var g,C;f.attr(Vs(),null),f.attr(vs(),null),f.attr(xr(),null);const A=J.from(f.attr(Bs())).map(X=>X.split(",")).getOr([]),F=J.from(f.attr(ds())).map(X=>X.split(",")).getOr([]);ge(A,X=>f.attr(X,null));const j=(C=(g=f.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&C!==void 0?C:[],q=Oo(j,[bs()].concat(F));f.attr("class",q.length>0?q.join(" "):null),f.attr(ds(),null),f.attr(Bs(),null)};e.serializer.addTempAttr(xr()),e.serializer.addAttributeFilter(n,f=>{for(const g of f)s(g).each(C=>{C.persistent===!1&&(g.name==="span"?g.unwrap():l(g))})})},nx=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>dr(e,l).map(f=>f.settings),getNames:()=>Vt(e)}},wb=(e,t,n)=>Math.min(Math.max(e,t),n),al=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ox=0;const ki=e=>{const n=new Date().getTime(),s=Math.floor(al()*1e9);return ox++,e+"_"+s+ox+String(n)},Cb=(e,t)=>{ge(t,n=>{od(e,n)})},zg=(e,t)=>{ge(t,n=>{xi(e,n)})},Gc=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),Ms=e=>Gc(e,!1),wm=e=>Gc(e,!0),rx=(e,t)=>{const n=Be.fromTag(t),s=nl(e);return yi(n,s),n},sx=(e,t)=>{const n=rx(e,t);et(e,n);const s=Wa(e);return Hs(n,s),fr(e),n},_b=(e,t,n=xn)=>{const s=new Za(e,t),l=f=>{let g;do g=s[f]();while(g&&!Mt(g)&&!n(g));return J.from(g).filter(Mt)};return{current:()=>J.from(s.current()).filter(Mt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},md=(e,t)=>{const n=t||(g=>e.isBlock(g)||ns(g)||to(g)),s=(g,C,A,F)=>{if(Mt(g)){const j=F(g,C,g.data);if(j!==-1)return J.some({container:g,offset:j})}return A().bind(j=>s(j.container,j.offset,A,F))};return{backwards:(g,C,A,F)=>{const j=_b(g,F??e.getRoot(),n);return s(g,C,()=>j.prev().map(q=>({container:q,offset:q.length})),A).getOrNull()},forwards:(g,C,A,F)=>{const j=_b(g,F??e.getRoot(),n);return s(g,C,()=>j.next().map(q=>({container:q,offset:0})),A).getOrNull()}}},Sb=((e,t)=>{const n=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return s(f).getOr("")},s=f=>e(f)?J.from(f.dom.nodeValue):J.none();return{get:n,getOption:s,set:(f,g)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=g}}})(Gr,"text"),Cm=e=>Sb.get(e),tC=e=>Sb.getOption(e),kb=(e,t)=>Sb.set(e,t),Eb=["td","th"],I1=["thead","tbody","tfoot"],$h=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],B1=["li","dd","dt"],Ei=["ul","ol","dl"],ax=["pre","script","textarea","style"],gd=e=>{let t;return n=>(t=t||Es(e,Rn),Gn(t,Po(n)))},Ab=e=>Po(e)==="table",Du=e=>Ts(e)&&Po(e)==="br",Tb=gd($h),Ob=gd(Ei),_m=gd(B1),Hg=gd(I1),hc=gd(Eb),Db=gd(ax),kk=e=>{const t=[];let n=e.dom;for(;n;)t.push(Be.fromDom(n)),n=n.lastChild;return t},Hl=e=>{const t=Js(e,"br"),n=Ct(kk(e).slice(-1),Du);t.length===n.length&&ge(n,fr)},hd=()=>{const e=Be.fromTag("br");return na(e,"data-mce-bogus","1"),e},pc=e=>{Fr(e),Ds(e,hd())},ix=(e,t)=>{Cu(e).each(n=>{oa(n).each(s=>{t.isBlock(Po(e))&&Du(n)&&t.isBlock(Po(s))&&fr(n)})})},sa=hs,bc=Eu,il=Oh,Ek=e=>e.insertContent(sa,{preserve_zwsp:!0}),uf=yn,pd=Mt,Uh=e=>(pd(e)&&(e=e.parentNode),uf(e)&&e.hasAttribute("data-mce-caret")),Sm=e=>pd(e)&&bc(e.data),Ol=e=>Uh(e)||Sm(e),M1=e=>e.firstChild!==e.lastChild||!ns(e.firstChild),P1=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sa),f=e.parentNode;if(t){const g=e.previousSibling;if(pd(g)){if(Ol(g))return g;if(bd(g))return g.splitText(g.data.length-1)}f==null||f.insertBefore(l,e)}else{const g=e.nextSibling;if(pd(g)){if(Ol(g))return g;if(Nb(g))return g.splitText(1),g}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Rb=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset())===sa||e.isAtStart()&&Sm(t.previousSibling):!1},L1=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset()-1)===sa||e.isAtEnd()&&Sm(t.nextSibling):!1},nC=(e,t,n)=>{var s;const f=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);f.setAttribute("data-mce-caret",n?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(hd().dom);const g=t.parentNode;return n?g==null||g.insertBefore(f,t):t.nextSibling?g==null||g.insertBefore(f,t.nextSibling):g==null||g.appendChild(f),f},Nb=e=>pd(e)&&e.data[0]===sa,bd=e=>pd(e)&&e.data[e.data.length-1]===sa,Ib=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];ef(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Vg=e=>e&&e.hasAttribute("data-mce-caret")?(Ib(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,$g=e=>Uh(e.startContainer),df=Math.round,ff=e=>e?{left:df(e.left),top:df(e.top),bottom:df(e.bottom),right:df(e.right),width:df(e.width),height:df(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Bb=(e,t)=>(e=ff(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),mf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,gf=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,hf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:gf(t.top-e.bottom,e,t)},Ug=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:gf(t.bottom-e.top,e,t),F1=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Wh=e=>It(e,(t,n)=>t.fold(()=>J.some(n),s=>{const l=Math.min(n.left,s.left),f=Math.min(n.top,s.top),g=Math.max(n.right,s.right),C=Math.max(n.bottom,s.bottom);return J.some({top:f,right:g,bottom:C,left:l,width:g-l,height:C-f})}),J.none()),z1=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-l)*(n-l))},lx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Zh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},aa=(e,t)=>{if(yn(e)&&e.hasChildNodes()){const n=e.childNodes,s=wb(t,0,n.length-1);return n[s]}else return e},cx=(e,t)=>{if(!(t<0&&yn(e)&&e.hasChildNodes()))return aa(e,t)},oC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ux=e=>Te(e)&&e.charCodeAt(0)>=768&&oC.test(e),dx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},pf=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},H1=cc,Mb=to,fx=ns,Ak=Mt,bf=ja(["script","style","textarea"]),Pb=ja(["img","input","textarea","hr","iframe","video","audio","object","embed"]),rC=ja(["table"]),sC=Ol,Yc=e=>sC(e)?!1:Ak(e)?!bf(e.parentNode):Pb(e)||fx(e)||rC(e)||V1(e),mx=e=>yn(e)&&e.getAttribute("unselectable")==="true",V1=e=>!mx(e)&&Mb(e),aC=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(V1(n))return!1;if(H1(n))return!0}return!0},Wg=e=>V1(e)?!It(io(e.getElementsByTagName("*")),(t,n)=>t||H1(n),!1):!1,jh=e=>Pb(e)||Wg(e),Lb=(e,t)=>Yc(e)&&aC(e,t),iC=yn,Xc=Yc,km=ic("display","block table"),Fb=ic("float","left right"),zb=pf(iC,Xc,bt(Fb)),$1=bt(ic("white-space","pre pre-line pre-wrap")),Hb=Mt,Ya=ns,U1=Ir.nodeIndex,Em=cx,Am=e=>e?e.createRange():Ir.DOM.createRng(),Vb=e=>Te(e)&&/[\r\n\t ]/.test(e),W1=e=>!!e.setStart&&!!e.setEnd,Zg=e=>{const t=e.startContainer,n=e.startOffset;if(Vb(e.toString())&&$1(t.parentNode)&&Mt(t)){const s=t.data;if(Vb(s[n-1])||Vb(s[n+1]))return!0}return!1},vf=e=>{const t=e.ownerDocument,n=Am(t),s=t.createTextNode(da),l=e.parentNode;l.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const f=ff(n.getBoundingClientRect());return l.removeChild(s),f},gx=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,l=e.endOffset;if(t===n&&Mt(n)&&s===0&&l===1){const f=e.cloneRange();return f.setEndAfter(n),$i(f)}else return null},Z1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,$i=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=ff(s[0]):n=ff(e.getBoundingClientRect()),!W1(e)&&Ya(e)&&Z1(n)?vf(e):Z1(n)&&W1(e)&&(t=gx(e))!==null&&t!==void 0?t:n},yf=(e,t)=>{const n=Bb(e,t);return n.width=1,n.right=n.left+1,n},hx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&mf(g,t[t.length-1])||t.push(g))},s=(g,C)=>{const A=Am(g.ownerDocument);if(C<g.data.length){if(ux(g.data[C]))return;if(ux(g.data[C-1])&&(A.setStart(g,C),A.setEnd(g,C+1),!Zg(A))){n(yf($i(A),!1));return}}C>0&&(A.setStart(g,C-1),A.setEnd(g,C),Zg(A)||n(yf($i(A),!1))),C<g.data.length&&(A.setStart(g,C),A.setEnd(g,C+1),Zg(A)||n(yf($i(A),!0)))},l=e.container(),f=e.offset();if(Hb(l))return s(l,f),t;if(iC(l))if(e.isAtEnd()){const g=Em(l,f);Hb(g)&&s(g,g.data.length),zb(g)&&!Ya(g)&&n(yf($i(g),!1))}else{const g=Em(l,f);if(Hb(g)&&s(g,0),zb(g)&&e.isAtEnd())return n(yf($i(g),!1)),t;const C=Em(e.container(),e.offset()-1);zb(C)&&!Ya(C)&&(km(C)||km(g)||!zb(g))&&n(yf($i(C),!1)),zb(g)&&n(yf($i(g),!0))}return t},mt=(e,t,n)=>{const s=()=>(Hb(e),t===0),l=()=>Hb(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const j=Am(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},g=()=>(n||(n=hx(mt(e,t))),n),C=()=>g().length>0,A=j=>j&&e===j.container()&&t===j.offset(),F=j=>Em(e,j?t-1:t);return{container:Qe(e),offset:Qe(t),toRange:f,getClientRects:g,isVisible:C,isAtStart:s,isAtEnd:l,isEqual:A,getNode:F}};mt.fromRangeStart=e=>mt(e.startContainer,e.startOffset),mt.fromRangeEnd=e=>mt(e.endContainer,e.endOffset),mt.after=e=>mt(e.parentNode,U1(e)+1),mt.before=e=>mt(e.parentNode,U1(e)),mt.isAbove=(e,t)=>Ha(cn(t.getClientRects()),po(e.getClientRects()),hf).getOr(!1),mt.isBelow=(e,t)=>Ha(po(t.getClientRects()),cn(e.getClientRects()),Ug).getOr(!1),mt.isAtStart=e=>e?e.isAtStart():!1,mt.isAtEnd=e=>e?e.isAtEnd():!1,mt.isTextPosition=e=>e?Mt(e.container()):!1,mt.isElementPosition=e=>!mt.isTextPosition(e);const Kh=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},Tk=(e,t,n)=>{t.insertNode(n),Kh(e,n.previousSibling),Kh(e,n.nextSibling)},lC=(e,t,n)=>{const s=J.from(n.firstChild),l=J.from(n.lastChild);t.insertNode(n),s.each(f=>Kh(e,f.previousSibling)),l.each(f=>Kh(e,f.nextSibling))},j1=(e,t,n)=>{nf(n)?lC(e,t,n):Tk(e,t,n)},Jc=Mt,K1=ef,$b=Ir.nodeIndex,px=e=>{const t=e.parentNode;return K1(t)?px(t):t},bx=e=>e?Ji(e.childNodes,(t,n)=>(K1(n)&&n.nodeName!=="BR"?t=t.concat(bx(n)):t.push(n),t),[]):[],Ok=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Jc(n);)t+=n.data.length;return t},y=e=>t=>e===t,_=e=>{let t,n;t=bx(px(e)),n=Kr(t,y(e),e),t=t.slice(0,n+1);const s=Ji(t,(l,f,g)=>(Jc(f)&&Jc(t[g-1])&&l++,l),0);return t=Ni(t,ja([e.nodeName])),n=Kr(t,y(e),e),n-s},T=e=>(Jc(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",P=(e,t,n)=>{const s=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)s.push(l);return s},V=(e,t)=>{let n=[],s=t.container(),l=t.offset(),f;if(Jc(s))f=Ok(s,l);else{const C=s.childNodes;l>=C.length?(f="after",l=C.length-1):f="before",s=C[l]}n.push(T(s));let g=P(e,s);return g=Ni(g,bt(ef)),n=n.concat(Yf(g,C=>T(C))),n.reverse().join("/")+","+f},W=(e,t,n)=>{let s=bx(e);return s=Ni(s,(l,f)=>!Jc(l)||!Jc(s[f-1])),s=Ni(s,ja([t])),s[n]},Q=(e,t)=>{let n=e,s=0;for(;Jc(n);){const l=n.data.length;if(t>=s&&t<=s+l){e=n,t=t-s;break}if(!Jc(n.nextSibling)){e=n,t=l;break}s+=l,n=n.nextSibling}return Jc(e)&&t>e.data.length&&(t=e.data.length),mt(e,t)},oe=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),l=n.length>1?n[1]:"before",f=Ji(s,(g,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),W(g,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!Jc(f)&&f.parentNode){let g;return l==="after"?g=$b(f)+1:g=$b(f),mt(f.parentNode,g)}return Q(f,parseInt(l,10))},pe=to,De=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let l=t.previousSibling;l&&Mt(l);l=l.previousSibling)s+=e(l.data).length;return s},He=(e,t,n,s,l)=>{const f=l?s.startContainer:s.endContainer;let g=l?s.startOffset:s.endOffset;const C=[],A=e.getRoot();if(Mt(f))C.push(n?De(t,f,g):g);else{let F=0;const j=f.childNodes;g>=j.length&&j.length&&(F=1,g=Math.max(0,j.length-1)),C.push(e.nodeIndex(j[g],n)+F)}for(let F=f;F&&F!==A;F=F.parentNode)C.push(e.nodeIndex(F,n));return C},Ee=(e,t,n,s)=>{const l=t.dom,f=He(l,e,n,s,!0),g=t.isForward(),C=$g(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:g,...C};{const A=He(l,e,n,s,!1);return{start:f,end:A,forward:g,...C}}},Ie=(e,t,n)=>{let s=0;return Kt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===n)return!1;s++;return}}),s},Pe=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(yn(n)&&n.nodeName==="TR"){const l=n.childNodes;n=l[Math.min(t?s:s-1,l.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Je=e=>(Pe(e,!0),Pe(e,!1),e),tt=(e,t)=>{if(yn(e)&&(e=aa(e,t),pe(e)))return e;if(Ol(e)){Mt(e)&&Uh(e)&&(e=e.parentNode);let n=e.previousSibling;if(pe(n)||(n=e.nextSibling,pe(n)))return n}},Et=e=>tt(e.startContainer,e.startOffset)||tt(e.endContainer,e.endOffset),Ot=(e,t,n)=>{const s=n.getNode(),l=n.getRng();if(s.nodeName==="IMG"||pe(s)){const g=s.nodeName;return{name:g,index:Ie(n.dom,g,s)}}const f=Et(l);if(f){const g=f.tagName;return{name:g,index:Ie(n.dom,g,f)}}return Ee(e,n,t,l)},kt=e=>{const t=e.getRng();return{start:V(e.dom.getRoot(),mt.fromRangeStart(t)),end:V(e.dom.getRoot(),mt.fromRangeEnd(t)),forward:e.isForward()}},Rt=e=>({rng:e.getRng(),forward:e.isForward()}),Ut=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},qt=(e,t)=>{const n=e.dom;let s=e.getRng();const l=n.uniqueId(),f=e.isCollapsed(),g=e.getNode(),C=g.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Ie(n,C,g)};const F=Je(s.cloneRange());if(!f){F.collapse(!1);const q=Ut(n,l+"_end",t);j1(n,F,q)}s=Je(s),s.collapse(!0);const j=Ut(n,l+"_start",t);return j1(n,s,j),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},nt=(e,t,n=!1)=>t===2?Ot(il,n,e):t===3?kt(e):t?Rt(e):qt(e,!1),mn=pt(Ot,On,!0),Vn=e=>{const t=f=>f(e),n=Qe(e),s=()=>l,l={tag:!0,inner:e,fold:(f,g)=>g(e),isValue:Rn,isError:xn,map:f=>$n.value(f(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:f=>{f(e)},toOptional:()=>J.some(e)};return l},co=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:xn,isError:Rn,map:t,mapError:s=>$n.error(s(e)),bind:t,exists:xn,forall:Rn,getOr:On,or:On,getOrThunk:Ur,orThunk:Ur,getOrDie:Zt(String(e)),each:Pt,toOptional:J.none};return n},$n={value:Vn,error:co,fromOption:(e,t)=>e.fold(()=>co(t),Vn)},Bo={generate:e=>{if(!re(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return ge(e,(s,l)=>{const f=Vt(s);if(f.length!==1)throw new Error("one and only one name per case");const g=f[0],C=s[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!re(C))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const F=A.length;if(F!==C.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+C.length+" ("+C+"), got "+F);return{fold:(...q)=>{if(q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+q.length);return q[l].apply(null,A)},match:q=>{const X=Vt(q);if(t.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+X.join(","));if(!vo(t,we=>le(X,we)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+t.join(", "));return q[g].apply(null,A)},log:q=>{console.log(q,{constructors:t,constructor:g,params:A})}}}}),n}};Bo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const $s=e=>{const t=[],n=[];return ge(e,s=>{s.fold(l=>{t.push(l)},l=>{n.push(l)})}),{errors:t,values:n}},ui=e=>e.type==="inline-command"||e.type==="inline-format",Aa=e=>e.type==="block-command"||e.type==="block-format",Vl=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Tm=e=>{var t;const n=l=>$n.error({message:l,pattern:e}),s=(l,f,g)=>{if(e.format!==void 0){let C;if(re(e.format)){if(!vo(e.format,Te))return n(l+" pattern has non-string items in the `format` array");C=e.format}else if(Te(e.format))C=[e.format];else return n(l+" pattern has non-string `format` parameter");return $n.value(f(C))}else return e.cmd!==void 0?Te(e.cmd)?$n.value(g(e.cmd,e.value)):n(l+" pattern has non-string `cmd` parameter"):n(l+" pattern is missing both `format` and `cmd` parameters")};if(!te(e))return n("Raw pattern is not an object");if(!Te(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Te(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let l=e.start,f=e.end;return f.length===0&&(f=l,l=""),s("Inline",g=>({type:"inline-format",start:l,end:f,format:g}),(g,C)=>({type:"inline-command",start:l,end:f,cmd:g,value:C}))}else{if(e.replacement!==void 0)return Te(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:l}),(f,g)=>({type:"block-command",start:e.start,cmd:f,value:g,trigger:l}))}}},di=e=>Ct(e,Aa),Ru=e=>Ct(e,ui),qh=(e,t)=>({inlinePatterns:Ru(e),blockPatterns:di(e),dynamicPatternsLookup:t}),xf=(e,t)=>({...e,blockPatterns:Ct(e.blockPatterns,n=>Vl(n,t))}),Gh=e=>{const t=$s(Me(e,Tm));return ge(t.errors,n=>console.error(n.message,n.pattern)),t.values},q1=e=>t=>{const n=e(t);return Gh(n)},wf=Fa().deviceType,cC=wf.isTouch(),BM=Ir.DOM,MM=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return It(t,(n,s)=>{const l=s.split("="),f=l[0],g=l.length>1?l[1]:f;return n[Re(f)]=Re(g),n},{})},mO=e=>$e(e,RegExp),hn=e=>t=>t.options.get(e),vx=e=>Te(e)||te(e),Dk=(e,t="")=>n=>{const s=Te(n);if(s)if(n.indexOf("=")!==-1){const l=MM(n);return{value:dr(l,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},uC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Dk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Dk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Te(n)&&je(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=le(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Ve(n)?{valid:!0,value:n}:Te(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Te(n)||yt(n,Te);return s?Te(n)?{value:Me(n.split(","),Re),valid:s}:re(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ub(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Te(n)||yt(n,Te);return s?{value:re(n)?n:Me(n.split(","),Re),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=Ve(n)||Te(n);return s?n===!1||wf.isiPhone()||wf.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!cC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Te(n)||Ne(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Te(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:vx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:vx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:vx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:vx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Te(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>yt(n,te)||n===!1?{value:Gh(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Ne(n)?{value:q1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>yt(n,mO)?{value:n,valid:!0}:mO(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:gc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:BM.getAttrib(e.getElement(),"placeholder")})})},ll=hn("iframe_attrs"),vd=hn("doctype"),Qc=hn("document_base_url"),dC=hn("body_id"),Rk=hn("body_class"),gO=hn("content_security_policy"),Nk=hn("br_in_pre"),Ui=hn("forced_root_block"),yx=hn("forced_root_block_attrs"),Ik=hn("newline_behavior"),hO=hn("br_newline_selector"),pO=hn("no_newline_selector"),Bk=hn("keep_styles"),Mk=hn("end_container_on_empty_block"),Br=hn("automatic_uploads"),jg=hn("images_reuse_filename"),bO=hn("images_replace_blob_uris"),Pk=hn("icons"),vO=hn("icons_url"),Lk=hn("images_upload_url"),yO=hn("images_upload_base_path"),Fk=hn("images_upload_credentials"),PM=hn("images_upload_handler"),xO=hn("content_css_cors"),xx=hn("referrer_policy"),zk=hn("language"),LM=hn("language_url"),wO=hn("indent_use_margin"),eu=hn("indentation"),xl=hn("content_css"),G1=hn("content_style"),CO=hn("font_css"),FM=hn("directionality"),Vo=hn("inline_boundaries_selector"),_O=hn("object_resizing"),SO=hn("resize_img_proportional"),Hk=hn("placeholder"),kO=hn("event_root"),zM=hn("service_message"),Y1=hn("theme"),HM=hn("theme_url"),wx=hn("model"),Vk=hn("model_url"),X1=hn("inline_boundaries"),VM=hn("formats"),$M=hn("preview_styles"),UM=hn("format_empty_lines"),Kn=hn("format_noneditable_selector"),EO=hn("custom_ui_selector"),Ub=hn("inline"),$k=hn("hidden_input"),AO=hn("submit_patch"),TO=hn("add_form_submit_trigger"),OO=hn("add_unload_trigger"),DO=hn("custom_undo_redo_levels"),WM=hn("disable_nodechange"),RO=hn("readonly"),or=hn("editable_root"),NO=hn("content_css_cors"),yd=hn("plugins"),Om=hn("external_plugins"),fC=hn("block_unsupported_drop"),vc=hn("visual"),mC=hn("visual_table_class"),J1=hn("visual_anchor_class"),Cx=hn("iframe_aria_text"),Q1=hn("setup"),ZM=hn("init_instance_callback"),jM=hn("urlconverter_callback"),KM=hn("auto_focus"),qM=hn("browser_spellcheck"),Zo=hn("protect"),Cf=hn("paste_block_drop"),Dm=hn("paste_data_images"),GM=hn("paste_preprocess"),_x=hn("paste_postprocess"),Go=hn("newdocument_content"),IO=hn("paste_webkit_styles"),Uk=hn("paste_remove_styles_if_webkit"),YM=hn("paste_merge_formats"),Wb=hn("smart_paste"),Zb=hn("paste_as_text"),BO=hn("paste_tab_spaces"),XM=hn("allow_html_data_urls"),JM=hn("text_patterns"),Sx=hn("text_patterns_lookup"),jb=hn("noneditable_class"),QM=hn("editable_class"),MO=hn("noneditable_regexp"),eP=hn("preserve_cdata"),PO=hn("highlight_on_focus"),LO=hn("xss_sanitization"),FO=hn("init_content_sync"),Wk=e=>e.options.isSet("text_patterns_lookup"),Zk=e=>Kt.explode(e.options.get("font_size_style_values")),jk=e=>Kt.explode(e.options.get("font_size_classes")),zO=e=>e.options.get("encoding")==="xml",Kk=e=>Kt.explode(e.options.get("images_file_types")),HO=hn("table_tab_navigation"),gC=hn("details_initial_state"),VO=hn("details_serialized_state"),qk=hn("sandbox_iframes"),hC=e=>e.options.get("sandbox_iframes_exclusions"),$O=hn("convert_unsafe_embeds"),UO=hn("license_key"),WO=hn("api_key"),tP=yn,ZO=Mt,kx=e=>{const t=e.parentNode;t&&t.removeChild(e)},Gk=e=>{const t=il(e);return{count:e.length-t.length,text:t}},Yk=e=>{let t;for(;(t=e.data.lastIndexOf(sa))!==-1;)e.deleteData(t,1)},Xk=(e,t)=>(Yh(e),t),nP=(e,t)=>{const n=Gk(e.data.substr(0,t.offset())),s=Gk(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Yk(e),mt(e,t.offset()-n.count)):t},oP=(e,t)=>{const n=t.container(),s=Ke(io(n.childNodes),e).map(l=>l<t.offset()?mt(n,t.offset()-1):t).getOr(t);return Yh(e),s},rP=(e,t)=>ZO(e)&&t.container()===e?nP(e,t):Xk(e,t),sP=(e,t)=>t.container()===e.parentNode?oP(e,t):Xk(e,t),aP=(e,t)=>mt.isTextPosition(t)?rP(e,t):sP(e,t),Yh=e=>{tP(e)&&Ol(e)&&(M1(e)?e.removeAttribute("data-mce-caret"):kx(e)),ZO(e)&&(Yk(e),e.data.length===0&&kx(e))},jO=to,pC=xt,iP=Nh,Jk="*[contentEditable=false],video,audio,embed,object",KO=(e,t,n)=>{const s=Bb(t.getBoundingClientRect(),n);let l,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}s.left+=l,s.right+=l,s.top+=f,s.bottom+=f,s.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),s.left+=g,s.right+=g),s},qO=e=>{var t,n;const s=Js(Be.fromDom(e),Jk);for(let l=0;l<s.length;l++){const f=s[l].dom;let g=f.previousSibling;if(bd(g)){const C=g.data;C.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(C.length-1,1)}g=f.nextSibling,Nb(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},GO=(e,t,n,s)=>{const l=ma();let f,g;const C=Ui(e),A=e.dom,F=(de,ke)=>{let Fe;if(j(),iP(ke))return null;if(n(ke)){const qe=nC(C,ke,de),We=KO(t,ke,de);A.setStyle(qe,"top",We.top),A.setStyle(qe,"caret-color","transparent"),g=qe;const st=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(st,{...We}),A.add(t,st),l.set({caret:st,element:ke,before:de}),de&&A.addClass(st,"mce-visual-caret-before"),q(),Fe=ke.ownerDocument.createRange(),Fe.setStart(qe,0),Fe.setEnd(qe,0)}else return g=P1(ke,de),Fe=ke.ownerDocument.createRange(),Ex(g.nextSibling)?(Fe.setStart(g,0),Fe.setEnd(g,0)):(Fe.setStart(g,1),Fe.setEnd(g,1)),Fe;return Fe},j=()=>{qO(t),g&&(Yh(g),g=null),l.on(de=>{A.remove(de.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},q=()=>{f=setInterval(()=>{l.on(de=>{s()?A.toggleClass(de.caret,"mce-visual-caret-hidden"):A.addClass(de.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(de=>{const ke=KO(t,de.element,de.before);A.setStyles(de.caret,{...ke})})},destroy:()=>clearInterval(f)}},Qk=()=>Co.browser.isFirefox(),Ex=e=>jO(e)||pC(e),Ax=e=>(Ex(e)||Zc(e)&&Qk())&&qd(Be.fromDom(e)).exists(ls),bC=cc,vC=to,YO=xt,eE=ic("display","block table table-cell table-caption list-item"),tE=Ol,XO=Uh,lP=yn,yC=Mt,JO=Yc,Kb=e=>e>0,qb=e=>e<0,xC=(e,t)=>{let n;for(;n=e(t);)if(!XO(n))return n;return null},Tx=(e,t,n,s,l)=>{const f=new Za(e,s),g=vC(e)||XO(e);let C;if(qb(t)){if(g&&(C=xC(f.prev.bind(f),!0),n(C)))return C;for(;C=xC(f.prev.bind(f),l);)if(n(C))return C}if(Kb(t)){if(g&&(C=xC(f.next.bind(f),!0),n(C)))return C;for(;C=xC(f.next.bind(f),l);)if(n(C))return C}return null},cP=(e,t)=>{const n=l=>bC(l.dom),s=l=>l.dom===t;return Li(Be.fromDom(e),n,s).map(l=>l.dom).getOr(t)},Xh=(e,t)=>{for(;e&&e!==t;){if(eE(e))return e;e=e.parentNode}return null},Rm=(e,t,n)=>Xh(e.container(),n)===Xh(t.container(),n),wC=(e,t)=>{if(!t)return J.none();const n=t.container(),s=t.offset();return lP(n)?J.from(n.childNodes[s+e]):J.none()},QO=(e,t)=>{var n;const l=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},e5=(e,t,n)=>Xh(t,e)===Xh(n,e),nE=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let l=n;for(;l&&l!==t;){let f=l[s];if(f&&tE(f)&&(f=f[s]),vC(f)||YO(f)){if(e5(t,f,l))return f;break}if(JO(f))break;l=l.parentNode}return null},Ox=pt(QO,!0),Dx=pt(QO,!1),oE=(e,t,n)=>{let s;const l=pt(nE,!0,t),f=pt(nE,!1,t),g=n.startContainer,C=n.startOffset;if(Uh(g)){const A=yC(g)?g.parentNode:g,F=A.getAttribute("data-mce-caret");if(F==="before"&&(s=A.nextSibling,Ax(s)))return Ox(s);if(F==="after"&&(s=A.previousSibling,Ax(s)))return Dx(s)}if(!n.collapsed)return n;if(Mt(g)){if(tE(g)){if(e===1){if(s=f(g),s)return Ox(s);if(s=l(g),s)return Dx(s)}if(e===-1){if(s=l(g),s)return Dx(s);if(s=f(g),s)return Ox(s)}return n}if(bd(g)&&C>=g.data.length-1)return e===1&&(s=f(g),s)?Ox(s):n;if(Nb(g)&&C<=1)return e===-1&&(s=l(g),s)?Dx(s):n;if(C===g.data.length)return s=f(g),s?Ox(s):n;if(C===0)return s=l(g),s?Dx(s):n}return n},t5=(e,t)=>wC(e?0:-1,t).filter(vC),Rx=(e,t,n)=>{const s=oE(e,t,n);return e===-1?mt.fromRangeStart(s):mt.fromRangeEnd(s)},CC=e=>J.from(e.getNode()).map(Be.fromDom),uP=e=>J.from(e.getNode(!0)).map(Be.fromDom),rE=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},_C=(e,t)=>{const n=Rm(e,t);return!n&&ns(e.getNode())?!0:n};var Ai;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ai||(Ai={}));const dP=to,Nm=Mt,n5=yn,An=ns,Gb=Yc,sE=jh,SC=Lb,aE=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},o5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Nx=(e,t)=>{if(Kb(e)){if(Gb(t.previousSibling)&&!Nm(t.previousSibling))return mt.before(t);if(Nm(t))return mt(t,0)}if(qb(e)){if(Gb(t.nextSibling)&&!Nm(t.nextSibling))return mt.after(t);if(Nm(t))return mt(t,t.data.length)}return qb(e)?An(t)?mt.before(t):mt.after(t):mt.before(t)},r5=(e,t)=>{const n=t.nextSibling;return n&&Gb(n)?Nm(n)?mt(n,0):mt.before(n):iE(Ai.Forwards,mt.after(t),e)},iE=(e,t,n)=>{let s,l,f,g;if(!n5(n)||!t)return null;if(t.isEqual(mt.after(n))&&n.lastChild){if(g=mt.after(n.lastChild),qb(e)&&Gb(n.lastChild)&&n5(n.lastChild))return An(n.lastChild)?mt.before(n.lastChild):g}else g=t;const C=g.container();let A=g.offset();if(Nm(C)){if(qb(e)&&A>0)return mt(C,--A);if(Kb(e)&&A<C.length)return mt(C,++A);s=C}else{if(qb(e)&&A>0&&(l=o5(C,A-1),Gb(l)))return!sE(l)&&(f=Tx(l,e,SC,l),f)?Nm(f)?mt(f,f.data.length):mt.after(f):Nm(l)?mt(l,l.data.length):mt.before(l);if(Kb(e)&&A<C.childNodes.length&&(l=o5(C,A),Gb(l)))return An(l)?r5(n,l):!sE(l)&&(f=Tx(l,e,SC,l),f)?Nm(f)?mt(f,0):mt.before(f):Nm(l)?mt(l,0):mt.after(l);s=l||g.getNode()}if(s&&(Kb(e)&&g.isAtEnd()||qb(e)&&g.isAtStart())&&(s=Tx(s,e,Rn,n,!0),SC(s,n)))return Nx(e,s);l=s&&Tx(s,e,SC,n);const F=ri(Ct(aE(C,n),dP));return F&&(!l||!F.contains(l))?(Kb(e)?g=mt.after(F):g=mt.before(F),g):l?Nx(e,l):null},zn=e=>({next:t=>iE(Ai.Forwards,t,e),prev:t=>iE(Ai.Backwards,t,e)}),uo=(e,t,n)=>{const s=e?mt.before(n):mt.after(n);return tu(e,t,s)},s5=e=>ns(e)?mt.before(e):mt.after(e),a5=e=>mt.isTextPosition(e)?e.offset()===0:Yc(e.getNode()),i5=e=>{if(mt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Yc(e.getNode(!0))},l5=(e,t)=>!mt.isTextPosition(e)&&!mt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zn=e=>!mt.isTextPosition(e)&&ns(e.getNode()),Ix=(e,t,n)=>e?!l5(t,n)&&!Zn(t)&&i5(t)&&a5(n):!l5(n,t)&&a5(t)&&i5(n),tu=(e,t,n)=>{const s=zn(t);return J.from(e?s.next(n):s.prev(n))},Yb=(e,t,n)=>tu(e,t,n).bind(s=>Rm(n,s,t)&&Ix(e,n,s)?tu(e,t,s):J.some(s)),c5=(e,t,n,s)=>Yb(e,t,n).bind(l=>s(l)?c5(e,t,l,s):J.some(l)),ev=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Mt(n)?J.some(mt(n,e?0:n.data.length)):n?Yc(n)?J.some(e?mt.before(n):s5(n)):uo(e,t,n):J.none()},Dl=pt(tu,!0),yc=pt(tu,!1),Un=pt(ev,!0),Nu=pt(ev,!1),tv="_mce_caret",nu=e=>yn(e)&&e.id===tv,Jh=(e,t)=>{let n=t;for(;n&&n!==e;){if(nu(n))return n;n=n.parentNode}return null},u5=e=>Te(e.start),d5=e=>Gn(e,"rng"),f5=e=>Gn(e,"id"),lE=e=>Gn(e,"name"),m5=e=>Kt.isArray(e.start),kC=e=>!lE(e)&&Ve(e.forward)?e.forward:!0,g5=(e,t)=>(yn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),fP=(e,t)=>{const n=J.from(oe(e.getRoot(),t.start)),s=J.from(oe(e.getRoot(),t.end));return Ha(n,s,(l,f)=>{const g=e.createRng();return g.setStart(l.container(),l.offset()),g.setEnd(f.container(),f.offset()),{range:g,forward:kC(t)}})},mP=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sa);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},cE=e=>!e.hasChildNodes(),uE=(e,t)=>Nu(e).fold(xn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),h5=(e,t,n)=>cE(t)&&Jh(e,t)?(mP(t,n),!0):!1,p5=(e,t,n,s)=>{const l=n[t?"start":"end"],f=e.getRoot();if(l){let g=f,C=l[0];for(let A=l.length-1;g&&A>=1;A--){const F=g.childNodes;if(h5(f,g,s))return!0;if(l[A]>F.length-1)return h5(f,g,s)?!0:uE(g,s);g=F[l[A]]}Mt(g)&&(C=Math.min(l[0],g.data.length)),yn(g)&&(C=Math.min(l[0],g.childNodes.length)),t?s.setStart(g,C):s.setEnd(g,C)}return!0},dE=e=>Mt(e)&&e.data.length>0,b5=(e,t,n)=>{const s=e.get(n.id+"_"+t),l=s==null?void 0:s.parentNode,f=n.keep;if(s&&l){let g,C;if(t==="start"?f?s.hasChildNodes()?(g=s.firstChild,C=1):dE(s.nextSibling)?(g=s.nextSibling,C=0):dE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)+1):(g=l,C=e.nodeIndex(s)):f?s.hasChildNodes()?(g=s.firstChild,C=1):dE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)):(g=l,C=e.nodeIndex(s)),!f){const A=s.previousSibling,F=s.nextSibling;Kt.each(Kt.grep(s.childNodes),q=>{Mt(q)&&(q.data=q.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(Mt(F)&&Mt(A)&&!Co.browser.isOpera()){const q=A.data.length;A.appendData(F.data),e.remove(F),g=A,C=q}}return J.some(mt(g,C))}else return J.none()},v5=(e,t)=>{const n=e.createRng();return p5(e,!0,t,n)&&p5(e,!1,t,n)?J.some({range:n,forward:kC(t)}):J.none()},Xb=(e,t)=>{const n=b5(e,"start",t),s=b5(e,"end",t);return Ha(n,s.or(n),(l,f)=>{const g=e.createRng();return g.setStart(g5(e,l.container()),l.offset()),g.setEnd(g5(e,f.container()),f.offset()),{range:g,forward:kC(t)}})},y5=(e,t)=>J.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),x5=(e,t)=>{const n=e.dom;if(t){if(m5(t))return v5(n,t);if(u5(t))return fP(n,t);if(f5(t))return Xb(n,t);if(lE(t))return y5(n,t);if(d5(t))return J.some({range:t.rng,forward:kC(t)})}return J.none()},gP=(e,t,n)=>nt(e,t,n),hP=(e,t)=>{x5(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},ou=e=>yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Wi=(e=>t=>e===t)(da),Jb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Kg=e=>!Jb(e)&&!Wi(e)&&!Eu(e),os=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Iu=e=>ao(e,t=>{const n=Zh(t);return n?[Be.fromDom(n)]:[]}),Bx=e=>os(e).length>1,EC=e=>Ct(Iu(e),hc),nv=e=>Js(e,"td[data-mce-selected],th[data-mce-selected]"),w5=(e,t)=>{const n=nv(t);return n.length>0?n:EC(e)},_f=e=>w5(os(e.selection.getSel()),Be.fromDom(e.getBody())),wr=(e,t)=>Vc(e,"table",t),Mx=e=>{const t=e.startContainer,n=e.startOffset;return Mt(t)?n===0?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n]).map(Be.fromDom)},C5=e=>{const t=e.endContainer,n=e.endOffset;return Mt(t)?n===t.data.length?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n-1]).map(Be.fromDom)},fE=e=>yl(e).fold(Qe([e]),t=>[e].concat(fE(t))),Px=e=>Cu(e).fold(Qe([e]),t=>Po(t)==="br"?oa(t).map(n=>[e].concat(Px(n))).getOr([]):[e].concat(Px(t))),Lx=(e,t)=>Ha(Mx(t),C5(t),(n,s)=>{const l=wn(fE(e),pt(Lo,n)),f=wn(Px(e),pt(Lo,s));return l.isSome()&&f.isSome()}).getOr(!1),Fx=(e,t,n,s)=>{const l=n,f=new Za(n,l),g=ec(e.schema.getMoveCaretBeforeOnEnterElements(),(A,F)=>!le(["td","th","table"],F.toLowerCase()));let C=n;do{if(Mt(C)&&Kt.trim(C.data).length!==0){s?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(g[C.nodeName]){s?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=s?f.next():f.prev());l.nodeName==="BODY"&&(s?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},ov=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},rv=(e,t)=>{const n=_f(e);n.length>0?ge(n,s=>{const l=s.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),t(f,!0)}):t(e.selection.getRng(),!1)},AC=(e,t,n)=>{const s=qt(e,t);n(s),e.moveToBookmark(s)},sv=e=>D(e==null?void 0:e.nodeType),TC=e=>yn(e)&&!ou(e)&&!nu(e)&&!ef(e),_5=(e,t)=>{if(TC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},mE=(e,t,n)=>{const{selection:s,dom:l}=e,f=s.getNode(),g=to(f);AC(s,!0,()=>{t()}),g&&to(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):n(s.getStart())&&S5(l,s)},S5=(e,t)=>{var n,s;const l=t.getRng(),{startContainer:f,startOffset:g}=l,C=t.getNode();if(!_5(e,C)&&yn(f)){const A=f.childNodes,F=e.getRoot();let j;if(g<A.length){const q=A[g];j=new Za(q,(n=e.getParent(q,e.isBlock))!==null&&n!==void 0?n:F)}else{const q=A[A.length-1];j=new Za(q,(s=e.getParent(q,e.isBlock))!==null&&s!==void 0?s:F),j.next(!0)}for(let q=j.current();q;q=j.next()){if(e.getContentEditable(q)==="false")return;if(Mt(q)&&!gE(q)){l.setStart(q,0),t.setRng(l);return}}}},Qb=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(yn(e)||!gE(e))return e}},OC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||rf(e,t),Qh=(e,t,n)=>e.schema.isValidChild(t,n),gE=(e,t=!1)=>{if(Ce(e)&&Mt(e)){const n=t?e.data.replace(/ /g," "):e.data;return Ll(n)}else return!1},bP=e=>Ce(e)&&Mt(e)&&e.length===0,k5=(e,t)=>{const n="[data-mce-cef-wrappable]",s=Kn(e),l=Lt(s)?n:`${n},${s}`;return yr(Be.fromDom(t),l)},hE=(e,t)=>{const n=e.dom;return TC(t)&&n.getContentEditable(t)==="false"&&k5(e,t)&&n.select('[contenteditable="true"]',t).length===0},qg=(e,t)=>Ne(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),av=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),DC=(e,t)=>{if(rt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=pb(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},zx=(e,t,n)=>{const s=e.getStyle(t,n);return DC(s,n)},pE=(e,t)=>{let n;return e.getParent(t,s=>yn(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},Hx=(e,t,n)=>e.getParents(t,n,e.getRoot()),RC=(e,t,n)=>{const s=e.formatter.get(t);return Ce(s)&&xe(s,n)},E5=(e,t)=>RC(e,t,s=>{const l=f=>Ne(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>dr(s,f).exists(g=>{const C=re(g)?g:fu(g);return xe(C,l)}))}),A5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],l=f=>ec(f,(g,C)=>xe(s,A=>A===C));return RC(e,t,f=>{const g=l(f);return RC(e,n,C=>{const A=l(C);return ca(g,A)})})},Sf=e=>El(e,"block"),T5=e=>Sf(e)&&e.wrapper===!0,O5=e=>Sf(e)&&e.wrapper!==!0,xc=e=>El(e,"selector"),Xa=e=>El(e,"inline"),D5=e=>xc(e)&&Xa(e)&&Vd(dr(e,"mixed"),!0),NC=e=>xc(e)&&e.expand!==!1&&!Xa(e),R5=e=>{const t=[];let n=e;for(;n;){if(Mt(n)&&n.data!==sa||n.childNodes.length>1)return[];yn(n)&&t.push(n),n=n.firstChild}return t},bE=e=>R5(e).length>0,IC=e=>nu(e.dom)&&bE(e.dom),ep=ou,Vx=Hx,BC=gE,MC=OC,N5=e=>ns(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,$x=(e,t)=>{let n=t;for(;n;){if(yn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},PC=(e,t,n,s)=>{const l=t.data;if(e){for(let f=n;f>0;f--)if(s(l.charAt(f-1)))return f}else for(let f=n;f<l.length;f++)if(s(l.charAt(f)))return f;return-1},Ux=(e,t,n)=>PC(e,t,n,s=>Wi(s)||Jb(s)),vE=(e,t,n)=>PC(e,t,n,Kg),yE=(e,t,n,s,l,f)=>{let g;const C=e.getParent(n,e.isBlock)||t,A=(j,q,X)=>{const ue=md(e),we=l?ue.backwards:ue.forwards;return J.from(we(j,q,(de,ke)=>ep(de.parentNode)?-1:(g=de,X(l,de,ke)),C))};return A(n,s,Ux).bind(j=>f?A(j.container,j.offset+(l?-1:0),vE):J.some(j)).orThunk(()=>g?J.some({container:g,offset:l?0:g.length}):J.none())},e0=(e,t,n,s,l)=>{const f=s[l];Mt(s)&&Lt(s.data)&&f&&(s=f);const g=Vx(e,s);for(let C=0;C<g.length;C++)for(let A=0;A<t.length;A++){const F=t[A];if(!(Ce(F.collapsed)&&F.collapsed!==n.collapsed)&&xc(F)&&e.is(g[C],F.selector))return g[C]}return s},LC=(e,t,n,s)=>{var l;let f=n;const g=e.getRoot(),C=t[0];if(Sf(C)&&(f=C.wrapper?null:e.getParent(n,C.block,g)),!f){const A=(l=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:g;f=e.getParent(Mt(n)?n.parentNode:n,F=>F!==g&&MC(e.schema,F),A)}if(f&&Sf(C)&&C.wrapper&&(f=Vx(e,f,"ul,ol").reverse()[0]||f),!f)for(f=n;f&&f[s]&&!e.isBlock(f[s])&&(f=f[s],!av(f,"br")););return f||n},FC=(e,t,n,s)=>{const l=n.parentNode;return Ce(n[s])?!1:l===t||rt(l)||e.isBlock(l)?!0:FC(e,t,l,s)},Gg=(e,t,n,s,l)=>{let f=n;const g=l?"previousSibling":"nextSibling",C=e.getRoot();if(Mt(n)&&!BC(n)&&(l?s>0:s<n.data.length))return n;for(;f;){if(!t[0].block_expand&&e.isBlock(f))return f;for(let A=f[g];A;A=A[g]){const F=Mt(A)&&!FC(e,C,A,g);if(!ep(A)&&!N5(A)&&!BC(A,F))return f}if(f===C||f.parentNode===C){n=f;break}f=f.parentNode}return n},Yg=e=>ep(e.parentNode)||ep(e),tp=(e,t,n,s=!1)=>{let{startContainer:l,startOffset:f,endContainer:g,endOffset:C}=t;const A=n[0];return yn(l)&&l.hasChildNodes()&&(l=aa(l,f),Mt(l)&&(f=0)),yn(g)&&g.hasChildNodes()&&(g=aa(g,t.collapsed?C:C-1),Mt(g)&&(C=g.data.length)),l=$x(e,l),g=$x(e,g),Yg(l)&&(l=ep(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Mt(l)&&(f=t.collapsed?l.length:0)),Yg(g)&&(g=ep(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Mt(g)&&(C=t.collapsed?0:g.length)),t.collapsed&&(yE(e,e.getRoot(),l,f,!0,s).each(({container:q,offset:X})=>{l=q,f=X}),yE(e,e.getRoot(),g,C,!1,s).each(({container:q,offset:X})=>{g=q,C=X})),(Xa(A)||A.block_expand)&&((!Xa(A)||!Mt(l)||f===0)&&(l=Gg(e,n,l,f,!0)),(!Xa(A)||!Mt(g)||C===g.data.length)&&(g=Gg(e,n,g,C,!1))),NC(A)&&(l=e0(e,n,t,l,"previousSibling"),g=e0(e,n,t,g,"nextSibling")),(Sf(A)||xc(A))&&(l=LC(e,n,l,"previousSibling"),g=LC(e,n,g,"nextSibling"),Sf(A)&&(e.isBlock(l)||(l=Gg(e,n,l,f,!0),Mt(l)&&(f=0)),e.isBlock(g)||(g=Gg(e,n,g,C,!1),Mt(g)&&(C=g.data.length)))),yn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),yn(g)&&g.parentNode&&(C=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:C}},Wx=(e,t,n)=>{var s;const l=t.startOffset,f=aa(t.startContainer,l),g=t.endOffset,C=aa(t.endContainer,g-1),A=ke=>{const Fe=ke[0];Mt(Fe)&&Fe===f&&l>=Fe.data.length&&ke.splice(0,1);const qe=ke[ke.length-1];return g===0&&ke.length>0&&qe===C&&Mt(qe)&&ke.splice(ke.length-1,1),ke},F=(ke,Fe,qe)=>{const We=[];for(;ke&&ke!==qe;ke=ke[Fe])We.push(ke);return We},j=(ke,Fe)=>e.getParent(ke,qe=>qe.parentNode===Fe,Fe),q=(ke,Fe,qe)=>{const We=qe?"nextSibling":"previousSibling";for(let st=ke,Nt=st.parentNode;st&&st!==Fe;st=Nt){Nt=st.parentNode;const jt=F(st===ke?st:st[We],We);jt.length&&(qe||jt.reverse(),n(A(jt)))}};if(f===C)return n(A([f]));const X=(s=e.findCommonAncestor(f,C))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(f,C))return q(f,X,!0);if(e.isChildOf(C,f))return q(C,X);const ue=j(f,X)||f,we=j(C,X)||C;q(f,ue,!0);const de=F(ue===f?ue:ue.nextSibling,"nextSibling",we===C?we.nextSibling:we);de.length&&n(A(de)),q(C,we)},vP=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],I5=e=>Gr(e)&&Cm(e)===sa,B5=(e,t,n,s)=>Ua(t).fold(()=>"skipping",l=>s==="br"||I5(t)?"valid":ex(t)?"existing":nu(t.dom)?"caret":xe(vP,f=>yr(t,f))?"valid-block":!Qh(e,n,s)||!Qh(e,Po(l),n)?"invalid-child":"valid"),np=(e,t)=>{const n=tp(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},op=(e,t,n,s,l,f)=>{const{uid:g=t,...C}=n;od(e,bs()),na(e,`${Vs()}`,g),na(e,`${vs()}`,s);const{attributes:A={},classes:F=[]}=l(g,C);if(yi(e,A),Cb(e,F),f){F.length>0&&na(e,`${ds()}`,F.join(","));const j=Vt(A);j.length>0&&na(e,`${Bs()}`,j.join(","))}},Ti=e=>{xi(e,bs()),bo(e,`${Vs()}`),bo(e,`${vs()}`),bo(e,`${xr()}`);const t=Pc(e,`${Bs()}`).map(s=>s.split(",")).getOr([]),n=Pc(e,`${ds()}`).map(s=>s.split(",")).getOr([]);ge(t,s=>bo(e,s)),zg(e,n),bo(e,`${ds()}`),bo(e,`${Bs()}`)},Im=(e,t,n,s,l)=>{const f=Be.fromTag("span",e);return op(f,t,n,s,l,!1),f},tr=(e,t,n,s,l,f)=>{const g=[],C=Im(e.getDoc(),n,f,s,l),A=ma(),F=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const we=Ms(C);return g.push(we),A.set(we),we}),q=we=>{ge(we,X)},X=we=>{switch(B5(e,we,"span",Po(we))){case"invalid-child":{F();const ke=Wa(we);q(ke),F();break}case"valid-block":{F(),op(we,n,f,s,l,!0);break}case"valid":{const ke=j();Al(we,ke);break}}},ue=we=>{const de=Me(we,Be.fromDom);q(de)};return Wx(e.dom,t,we=>{F(),ue(we)}),g},yP=(e,t,n,s)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),g=_f(e).length>0,C=ki("mce-annotation");if(f.collapsed&&!g&&np(e,f),l.getRng().collapsed&&!g){const A=Im(e.getDoc(),C,s,t,n.decorate);im(A,da),l.getRng().insertNode(A.dom),l.select(A.dom)}else AC(l,!1,()=>{rv(e,A=>{tr(e,A,C,t,n.decorate,s)})})})},M5=e=>{const t=nx();N1(e,t);const n=R1(e,t),s=jd("span"),l=f=>{ge(f,g=>{s(g)?Si(g):Ti(g)})};return{register:(f,g)=>{t.register(f,g)},annotate:(f,g)=>{t.lookup(f).each(C=>{yP(e,f,C,g)})},annotationChanged:(f,g)=>{n.addListener(f,g)},remove:f=>{D1(e,J.some(f)).each(({elements:g})=>{const C=e.selection.getBookmark();l(g),e.selection.moveToBookmark(C)})},removeAll:f=>{const g=e.selection.getBookmark();Uo(Fg(e,f),(C,A)=>{l(C)}),e.selection.moveToBookmark(g)},getAll:f=>{const g=Fg(e,f);return kl(g,C=>Me(C,A=>A.dom))}}},Rr=e=>({getBookmark:pt(gP,e),moveToBookmark:pt(hP,e)});Rr.isBookmarkNode=ou;const xE=(e,t,n)=>n.collapsed?!1:xe(n.getClientRects(),s=>F1(s,e,t)),Zx=(e,t)=>e.dispatch("PreProcess",t),jx=(e,t)=>e.dispatch("PostProcess",t),Kx=e=>{e.dispatch("remove")},qx=e=>{e.dispatch("detach")},P5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},xP=(e,t,n,s,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:l})},wP=(e,t,n,s,l)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:l})},CP=e=>{e.dispatch("PreInit")},_P=e=>{e.dispatch("PostRender")},Us=e=>{e.dispatch("Init")},L5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},wE=(e,t,n)=>{e.dispatch(t,n)},F5=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},z5=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},SP=(e,t)=>e.dispatch("BeforeSetContent",t),$l=(e,t)=>e.dispatch("SetContent",t),kf=(e,t)=>e.dispatch("BeforeGetContent",t),H5=(e,t)=>e.dispatch("GetContent",t),CE=(e,t)=>{e.dispatch("AutocompleterStart",t)},_E=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},SE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},kP=e=>{e.dispatch("AutocompleterEnd")},Gx=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),zC=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),HC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),EP=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rn.metaKeyPressed(e),metaKeyPressed:e=>Co.os.isMacOS()||Co.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},t0="data-mce-selected",AP="table,img,figure.image,hr,video,span.mce-preview-object,details",ru=Math.abs,rp=Math.round,VC={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},xd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,kr=(e,t)=>{const n=t.dom,s=t.getDoc(),l=document,f=t.getBody();let g,C,A,F,j,q,X,ue,we,de,ke,Fe,qe,We,st,Nt,jt;const un=an=>Ce(an)&&(lc(an)||n.is(an,"figure.image")),wt=an=>xt(an)||n.hasClass(an,"mce-preview-object"),dt=(an,xo)=>{if(xd(an)){const Do=an.touches[0];return un(an.target)&&!xE(Do.clientX,Do.clientY,xo)}else return un(an.target)&&!xE(an.clientX,an.clientY,xo)},Dt=an=>{const xo=an.target;dt(an,t.selection.getRng())&&!an.isDefaultPrevented()&&t.selection.select(xo)},pn=an=>n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?[an,an.firstElementChild]:n.is(an,"figure.image")?[an.querySelector("img")]:[an],Nn=an=>{const xo=_O(t);return!xo||an.getAttribute("data-mce-resize")==="false"||an===t.getBody()?!1:n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?yr(Be.fromDom(an.firstElementChild),xo):yr(Be.fromDom(an),xo)},yo=(an,xo)=>{if(wt(xo))return an.create("img",{src:Co.transparentSrc});if(Zc(xo)){const mi=qr(F.name,"n")?cn:po,Er=xo.cloneNode(!0);return mi(an.select("tr",Er)).each(ei=>{const Nf=an.select("td,th",ei);an.setStyle(ei,"height",null),ge(Nf,hh=>an.setStyle(hh,"height",null))}),Er}else return xo.cloneNode(!0)},To=(an,xo,Do)=>{if(Ce(Do)){const mi=pn(an);ge(mi,Er=>{Er.style[xo]||!t.schema.isValid(Er.nodeName.toLowerCase(),xo)?n.setStyle(Er,xo,Do):n.setAttrib(Er,xo,""+Do)})}},mr=(an,xo,Do)=>{To(an,"width",xo),To(an,"height",Do)},Or=an=>{let xo,Do,mi,Er,ei;xo=an.screenX-q,Do=an.screenY-X,We=xo*F[2]+de,st=Do*F[3]+ke,We=We<5?5:We,st=st<5?5:st,(un(g)||wt(g))&&SO(t)!==!1?mi=!rn.modifierPressed(an):mi=rn.modifierPressed(an),mi&&(ru(xo)>ru(Do)?(st=rp(We*Fe),We=rp(st/Fe)):(We=rp(st/Fe),st=rp(We*Fe))),mr(C,We,st),Er=F.startPos.x+xo,ei=F.startPos.y+Do,Er=Er>0?Er:0,ei=ei>0?ei:0,n.setStyles(A,{left:Er,top:ei,display:"block"}),A.innerHTML=We+" &times; "+st,F[2]<0&&C.clientWidth<=We&&n.setStyle(C,"left",ue+(de-We)),F[3]<0&&C.clientHeight<=st&&n.setStyle(C,"top",we+(ke-st)),xo=f.scrollWidth-Nt,Do=f.scrollHeight-jt,xo+Do!==0&&n.setStyles(A,{left:Er-xo,top:ei-Do}),qe||(xP(t,g,de,ke,"corner-"+F.name),qe=!0)},Gs=()=>{const an=qe;qe=!1,an&&(To(g,"width",We),To(g,"height",st)),n.unbind(s,"mousemove",Or),n.unbind(s,"mouseup",Gs),l!==s&&(n.unbind(l,"mousemove",Or),n.unbind(l,"mouseup",Gs)),n.remove(C),n.remove(A),n.remove(j),fl(g),an&&(wP(t,g,We,st,"corner-"+F.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},fl=an=>{tn();const xo=n.getPos(an,f),Do=xo.x,mi=xo.y,Er=an.getBoundingClientRect(),ei=Er.width||Er.right-Er.left,Nf=Er.height||Er.bottom-Er.top;g!==an&&(Xt(),g=an,We=st=0);const hh=t.dispatch("ObjectSelected",{target:an});Nn(an)&&!hh.isDefaultPrevented()?Uo(VC,(ql,ju)=>{const If=Bf=>{const Mn=pn(g)[0];q=Bf.screenX,X=Bf.screenY,de=Mn.clientWidth,ke=Mn.clientHeight,Fe=ke/de,F=ql,F.name=ju,F.startPos={x:ei*ql[0]+Do,y:Nf*ql[1]+mi},Nt=f.scrollWidth,jt=f.scrollHeight,j=n.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=yo(n,g),n.addClass(C,"mce-clonedresizable"),n.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",n.setStyles(C,{left:Do,top:mi,margin:0}),mr(C,ei,Nf),C.removeAttribute(t0),f.appendChild(C),n.bind(s,"mousemove",Or),n.bind(s,"mouseup",Gs),l!==s&&(n.bind(l,"mousemove",Or),n.bind(l,"mouseup",Gs)),A=n.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},de+" &times; "+ke)};let Ku=n.get("mceResizeHandle"+ju);Ku&&n.remove(Ku),Ku=n.add(f,"div",{id:"mceResizeHandle"+ju,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ju+"-resize; margin:0; padding:0"}),n.bind(Ku,"mousedown",Bf=>{Bf.stopImmediatePropagation(),Bf.preventDefault(),If(Bf)}),ql.elm=Ku,n.setStyles(Ku,{left:ei*ql[0]+Do-Ku.offsetWidth/2,top:Nf*ql[1]+mi-Ku.offsetHeight/2})}):Xt(!1)},Mr=Lg(fl,0),Xt=(an=!0)=>{Mr.cancel(),tn(),g&&an&&g.removeAttribute(t0),Uo(VC,(xo,Do)=>{const mi=n.get("mceResizeHandle"+Do);mi&&(n.unbind(mi),n.remove(mi))})},Tn=(an,xo)=>n.isChildOf(an,xo),Qo=an=>{if(qe||t.removed||t.composing)return;const xo=an.type==="mousedown"?an.target:e.getNode(),Do=Sa(Be.fromDom(xo),AP).map(Er=>Er.dom).filter(Er=>n.isEditable(Er.parentElement)||Er.nodeName==="IMG"&&n.isEditable(Er)).getOrUndefined(),mi=Ce(Do)?n.getAttrib(Do,t0,"1"):"1";if(ge(n.select(`img[${t0}],hr[${t0}]`),Er=>{Er.removeAttribute(t0)}),Ce(Do)&&Tn(Do,f)&&t.hasFocus()){Hn();const Er=e.getStart(!0);if(Tn(Er,Do)&&Tn(e.getEnd(!0),Do)){n.setAttrib(Do,t0,mi),Mr.throttle(Do);return}}Xt()},tn=()=>{Uo(VC,an=>{an.elm&&(n.unbind(an.elm),delete an.elm)})},Hn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Hn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Qo),t.on("keyup compositionend",an=>{g&&g.nodeName==="TABLE"&&Qo(an)}),t.on("hide blur",Xt),t.on("contextmenu longpress",Dt,!0)}),t.on("remove",tn),{isResizable:Nn,showResizeRect:fl,hideResizeRect:Xt,updateResizeRect:Qo,destroy:()=>{Mr.cancel(),g=C=j=null}}},iv=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},$C=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},kE=(e,t,n)=>{const s=e.document.createRange();return iv(s,t),$C(s,n),s},Yx=(e,t,n,s,l)=>{const f=e.document.createRange();return f.setStart(t.dom,n),f.setEnd(s.dom,l),f},n0=Bo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),V5=(e,t,n)=>t(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset),EE=(e,t)=>t.match({domRange:n=>({ltr:Qe(n),rtl:J.none}),relative:(n,s)=>({ltr:gl(()=>kE(e,n,s)),rtl:gl(()=>J.some(kE(e,s,n)))}),exact:(n,s,l,f)=>({ltr:gl(()=>Yx(e,n,s,l,f)),rtl:gl(()=>J.some(Yx(e,l,f,n,s)))})}),TP=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>n0.rtl(Be.fromDom(l.endContainer),l.endOffset,Be.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>V5(e,n0.ltr,n)):V5(e,n0.ltr,n)},$5=(e,t)=>{const n=EE(e,t);return TP(e,n)};n0.ltr,n0.rtl;const UC={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},U5=(e,t,n)=>{var s;return J.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(l=>{if(l.offsetNode===null)return J.none();const f=e.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),J.some(f)})},WC=(e,t,n)=>{var s;return J.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},DP=(e,t,n)=>e.caretPositionFromPoint?U5(e,t,n):e.caretRangeFromPoint?WC(e,t,n):J.none(),RP=(e,t,n)=>{const s=e.document;return DP(s,t,n).map(l=>UC.create(Be.fromDom(l.startContainer),l.startOffset,Be.fromDom(l.endContainer),l.endOffset))},AE=Bo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),NP=(e,t,n,s)=>e.fold(t,n,s),IP=e=>e.fold(On,On,On),W5=AE.before,BP=AE.on,MP=AE.after,Bm={before:W5,on:BP,after:MP,cata:NP,getStart:IP},Xx=Bo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),PP=e=>Xx.exact(e.start,e.soffset,e.finish,e.foffset),LP=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,n)=>Bm.getStart(t),exact:(t,n,s,l)=>t}),Z5=Xx.domRange,Bu=Xx.relative,FP=Xx.exact,j5=e=>{const t=LP(e);return yu(t)},TE=UC.create,sp={domRange:Z5,relative:Bu,exact:FP,exactFromRange:PP,getWin:j5,range:TE},Jx=(e,t)=>{const n=Po(e);return n==="input"?Bm.after(e):le(["br","img"],n)?t===0?Bm.before(e):Bm.after(e):Bm.on(e,t)},K5=(e,t)=>{const n=e.fold(Bm.before,Jx,Bm.after),s=t.fold(Bm.before,Jx,Bm.after);return sp.relative(n,s)},ZC=(e,t,n,s)=>{const l=Jx(e,t),f=Jx(n,s);return sp.relative(l,f)},q5=e=>e.match({domRange:t=>{const n=Be.fromDom(t.startContainer),s=Be.fromDom(t.endContainer);return ZC(n,t.startOffset,s,t.endOffset)},relative:K5,exact:ZC}),wc=(e,t)=>{const s=document.createDocumentFragment();return ge(e,l=>{s.appendChild(l.dom)}),Be.fromDom(s)},zP=e=>{const t=sp.getWin(e).dom,n=(l,f,g,C)=>Yx(t,l,f,g,C),s=q5(e);return $5(t,s).match({ltr:n,rtl:n})},OE=(e,t,n)=>RP(e,t,n),G5=(e,t,n)=>{const s=yu(Be.fromDom(n));return OE(s.dom,e,t).map(l=>{const f=n.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},Qx=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Ef=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},jC=(e,t,n)=>Ef(e,t,n)!==null,KC=(e,t,n)=>jC(e,t,s=>s.nodeName===n),Y5=(e,t)=>Ol(e)&&!jC(e,t,nu),X5=(e,t,n)=>{const s=t.parentNode;if(s){const l=new Za(t,e.getParent(s,e.isBlock)||e.getRoot());let f;for(;f=l[n?"prev":"next"]();)if(ns(f))return!0}return!1},J5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},Q5=(e,t)=>{let n=t;for(;n&&n!==e;){if(to(n))return!0;n=n.parentNode}return!1},e2=(e,t,n,s,l)=>{const f=e.getRoot(),g=e.schema.getNonEmptyElements(),C=l.parentNode;let A,F;if(!C)return J.none();const j=e.getParent(C,e.isBlock)||f;if(s&&ns(l)&&t&&e.isEmpty(j))return J.some(mt(C,e.nodeIndex(l)));const q=new Za(l,j);for(;F=q[s?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||Y5(F,f))return J.none();if(Mt(F)&&F.data.length>0)return KC(F,f,"A")?J.none():J.some(mt(F,s?F.data.length:0));if(e.isBlock(F)||g[F.nodeName.toLowerCase()])return J.none();A=F}return go(A)?J.none():n&&A?J.some(mt(A,0)):J.none()},DE=(e,t,n,s)=>{const l=e.getRoot();let f,g=!1,C=n?s.startContainer:s.endContainer,A=n?s.startOffset:s.endOffset;const F=yn(C)&&A===C.childNodes.length,j=e.schema.getNonEmptyElements();let q=n;if(Ol(C))return J.none();if(yn(C)&&A>C.childNodes.length-1&&(q=!1),Sn(C)&&(C=l,A=0),C===l){if(q&&(f=C.childNodes[A>0?A-1:0],f&&(Ol(f)||j[f.nodeName]||Zc(f))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!q&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Mt(C)&&F?C.data.length:0,!t&&C===l.lastChild&&Zc(C)||Q5(l,C)||Ol(C)||Ih(C))return J.none();if(C.hasChildNodes()&&!Zc(C)){f=C;const X=new Za(C,l);do{if(to(f)||Ol(f)){g=!1;break}if(Mt(f)&&f.data.length>0){A=q?0:f.data.length,C=f,g=!0;break}if(j[f.nodeName.toLowerCase()]&&!Vw(f)){A=e.nodeIndex(f),C=f.parentNode,q||A++,g=!0;break}}while(f=q?X.next():X.prev())}}}return t&&(Mt(C)&&A===0&&e2(e,F,t,!0,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),yn(C)&&(f=C.childNodes[A],f||(f=C.childNodes[A-1]),f&&ns(f)&&!J5(f,"A")&&!X5(e,f,!1)&&!X5(e,f,!0)&&e2(e,F,t,!0,f).each(X=>{C=X.container(),A=X.offset(),g=!0}))),q&&!t&&Mt(C)&&A===C.data.length&&e2(e,F,t,!1,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),g&&C?J.some(mt(C,A)):J.none()},Mm=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),l=mt.fromRangeStart(t);return DE(e,n,!0,s).each(f=>{(!n||!mt.isAbove(l,f))&&s.setStart(f.container(),f.offset())}),n||DE(e,n,!1,s).each(f=>{s.setEnd(f.container(),f.offset())}),n&&s.collapse(!0),Qx(t,s)?J.none():J.some(s)},t2=(e,t)=>e.splitText(t),n2=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,l=e.endOffset;if(t===s&&Mt(t)){if(n>0&&n<t.data.length)if(s=t2(t,n),t=s.previousSibling,l>n){l=l-n;const f=t2(s,l).previousSibling;t=s=f,l=f.data.length,n=0}else l=0}else if(Mt(t)&&n>0&&n<t.data.length&&(t=t2(t,n),n=0),Mt(s)&&l>0&&l<s.data.length){const f=t2(s,l).previousSibling;s=f,l=f.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:l}},ap=e=>({walk:(f,g)=>Wx(e,f,g),split:n2,expand:(f,g={type:"word"})=>{if(g.type==="word"){const C=tp(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return f},normalize:f=>Mm(e,f).fold(xn,g=>(f.setStart(g.startContainer,g.startOffset),f.setEnd(g.endContainer,g.endOffset),!0))});ap.compareRanges=Qx,ap.getCaretRangeFromPoint=G5,ap.getSelectedNode=Zh,ap.getNode=aa;const RE=((e,t)=>{const n=(C,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const F=C.dom;Ci(F)&&(F.style[e]=A+"px")},s=C=>{const A=t(C);if(A<=0||A===null){const F=Os(C,e);return parseFloat(F)||0}return A},l=s,f=(C,A)=>It(A,(F,j)=>{const q=Os(C,j),X=q===void 0?0:parseInt(q,10);return isNaN(X)?F:F+X},0);return{set:n,get:s,getOuter:l,aggregate:f,max:(C,A,F)=>{const j=f(C,F);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return wi(e)?t.getBoundingClientRect().height:t.offsetHeight}),o0=e=>RE.get(e),eD=()=>Be.fromDom(document),tD=(e,t)=>e.view(t).fold(Qe([]),s=>{const l=e.owner(s),f=tD(e,l);return[s].concat(f)}),qC=(e,t)=>{const n=t.owner(e);return tD(t,n)};var $P=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>Ml(e)});const nD=e=>{const t=eD(),n=Yn(t),s=qC(e,$P),l=so(e),f=zt(s,(g,C)=>{const A=so(C);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return Oe(f.left+l.left+n.left,f.top+l.top+n.top)},Xg=e=>Po(e)==="textarea",oD=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),rD=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},sD=(e,t)=>{const n=Wa(e);if(n.length===0||Xg(e))return{element:e,offset:t};if(t<n.length&&!Xg(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Xg(s)?{element:e,offset:t}:Po(s)==="img"?{element:s,offset:1}:Gr(s)?{element:s,offset:Cm(s).length}:{element:s,offset:Wa(s).length}}},o2=(e,t)=>{const n=Ln(e),s=o0(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},aD=(e,t)=>{const n=sD(e,t),s=Be.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+sa+"</span>");return gs(n.element,s),o2(s,()=>fr(s))},iD=e=>o2(Be.fromDom(e),Pt),lD=(e,t,n,s)=>{uD(e,(l,f)=>cD(e,t,n,s),n)},r2=(e,t,n,s,l)=>{const f={elm:s.element.dom,alignToTop:l};if(oD(e,f))return;const g=Yn(t).top;n(e,t,g,s,l),rD(e,f)},cD=(e,t,n,s)=>{const l=Be.fromDom(e.getBody()),f=Be.fromDom(e.getDoc());i1(l);const g=aD(Be.fromDom(n.startContainer),n.startOffset);r2(e,f,t,g,s),g.cleanup()},GC=(e,t,n,s)=>{const l=Be.fromDom(e.getDoc());r2(e,l,n,iD(t),s)},uD=(e,t,n)=>{const s=n.startContainer,l=n.startOffset,f=n.endContainer,g=n.endOffset;t(Be.fromDom(s),Be.fromDom(f));const C=e.dom.createRng();C.setStart(s,l),C.setEnd(f,g),e.selection.setRng(n)},s2=(e,t,n,s,l)=>{const f=t.pos;if(s)_n(f.left,f.top,l);else{const g=f.top-n+t.height;_n(-e.getBody().getBoundingClientRect().left,g,l)}},NE=(e,t,n,s,l,f)=>{const g=s+n,C=l.pos.top,A=l.bottom,F=A-C>=s;C<n?s2(e,l,s,f!==!1,t):C>g?s2(e,l,s,F?f!==!1:f===!0,t):A>g&&!F&&s2(e,l,s,f===!0,t)},a2=(e,t,n,s,l)=>{const f=yu(t).dom.innerHeight;NE(e,t,n,f,s,l)},Pm=(e,t,n,s,l)=>{const f=yu(t).dom.innerHeight;NE(e,t,n,f,s,l);const g=nD(s.element),C=ac(window);g.top<C.y?Jo(s.element,l!==!1):g.top>C.bottom&&Jo(s.element,l===!0)},UP=(e,t,n)=>lD(e,a2,t,n),IE=(e,t,n)=>GC(e,t,a2,n),ea=(e,t,n)=>lD(e,Pm,t,n),BE=(e,t,n)=>GC(e,t,Pm,n),ME=(e,t,n)=>{(e.inline?IE:BE)(e,t,n)},Mu=(e,t,n)=>{(e.inline?UP:ea)(e,t,n)},PE=(e,t=!1)=>e.dom.focus({preventScroll:t}),LE=e=>{const t=Hc(e).dom;return e.dom===t.activeElement},r0=(e=eD())=>J.from(e.dom.activeElement).map(Be.fromDom),WP=e=>r0(Hc(e)).filter(t=>e.dom.contains(t.dom)),dD=(e,t)=>{const n=Gr(t)?Cm(t).length:Wa(t).length+1;return e>n?n:e<0?0:e},lv=e=>sp.range(e.start,dD(e.soffset,e.start),e.finish,dD(e.foffset,e.finish)),fD=(e,t)=>!Jd(t.dom)&&($a(e,t)||Lo(e,t)),ip=e=>t=>fD(e,t.start)&&fD(e,t.finish),ZP=e=>e.inline||Co.browser.isFirefox(),lp=e=>sp.range(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),jP=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(lp)},Pu=e=>{const t=yu(e);return jP(t.dom).filter(ip(e))},i2=(e,t)=>J.from(t).filter(ip(e)).map(lv),FE=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},cv=e=>{const t=ZP(e)?Pu(Be.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},zE=e=>(e.bookmark?e.bookmark:J.none()).bind(n=>i2(Be.fromDom(e.getBody()),n)).bind(FE),YC=e=>{zE(e).each(t=>e.selection.setRng(t))},Lu={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},XC=(e,t)=>(D(t)||(t=0),setTimeout(e,t)),mD=(e,t)=>(D(t)||(t=0),setInterval(e,t)),Cc={setEditorTimeout:(e,t,n)=>XC(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=mD(()=>{e.removed?clearInterval(s):t()},n);return s}},HE=e=>e.type==="nodechange"&&e.selectionChange,s0=(e,t)=>{const n=()=>{t.throttle()};Ir.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ir.DOM.unbind(document,"mouseup",n)})},VE=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},gD=(e,t)=>{VE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{HE(n)||cv(e)})},KP=e=>{const t=Lg(()=>{cv(e)},0);e.on("init",()=>{e.inline&&s0(e,t),gD(e,t)}),e.on("remove",()=>{t.cancel()})};let Lm;const $E=Ir.DOM,hD=e=>yn(e)&&Lu.isEditorUIElement(e),l2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},JC=(e,t)=>{const n=EO(e);return $E.getParent(t,l=>hD(l)||(n?e.dom.is(l,n):!1))!==null},QC=e=>{try{const t=Hc(Be.fromDom(e.getElement()));return r0(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},pD=(e,t)=>{const n=t.editor;KP(n);const s=(l,f)=>{if(PO(l)&&l.inline!==!0){const g=Be.fromDom(l.getContainer());f(g,"tox-edit-focus")}};n.on("focusin",()=>{const l=e.focusedEditor;l2(QC(n))&&s(n,od),l!==n&&(l&&l.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:l}),n.focus(!0))}),n.on("focusout",()=>{Cc.setEditorTimeout(n,()=>{const l=e.focusedEditor;(!l2(QC(n))||l!==n)&&s(n,xi),!JC(n,QC(n))&&l===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Lm||(Lm=l=>{const f=e.activeEditor;f&&Xp(l).each(g=>{const C=g;C.ownerDocument===document&&C!==document.body&&!JC(f,C)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},$E.bind(document,"focusin",Lm))},qP=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Lm&&($E.unbind(document,"focusin",Lm),Lm=null)},GP=e=>{e.on("AddEditor",pt(pD,e)),e.on("RemoveEditor",pt(qP,e))},YP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),XP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,JP=e=>e.collapsed?J.from(aa(e.startContainer,e.startOffset)).map(Be.fromDom):J.none(),QP=(e,t)=>JP(t).bind(n=>Hg(n)?J.some(n):$a(e,n)?J.none():J.some(e)),bD=(e,t)=>{QP(Be.fromDom(e.getBody()),t).bind(n=>Un(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},e_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},e7=e=>LE(e)||WP(e).isSome(),t7=e=>Ce(e.iframeElement)&&LE(Be.fromDom(e.iframeElement)),n7=e=>{const t=e.getBody();return t&&e7(Be.fromDom(t))},vD=e=>{const t=Hc(Be.fromDom(e.getElement()));return r0(t).filter(n=>!l2(n.dom)&&JC(e,n.dom)).isSome()},uv=e=>e.inline?n7(e):t7(e),a0=e=>uv(e)||vD(e),o7=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const l=g=>{zE(g).each(C=>{g.selection.setRng(C),s=C})};!uv(e)&&e.hasEditableRoot()&&l(e);const f=YP(e,t.getNode());if(f&&e.dom.isChildOf(f,n)){XP(e,f)||e_(n),e_(f),e.hasEditableRoot()||l(e),bD(e,s),UE(e);return}e.inline||(Co.browser.isOpera()||e_(n),e.getWin().focus()),(Co.browser.isFirefox()||e.inline)&&(e_(n),bD(e,s)),UE(e)},UE=e=>e.editorManager.setActive(e),yD=(e,t)=>{e.removed||(t?UE(e):o7(e))},xD=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),wD=(e,t,n,s,l)=>{const f=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return J.from(f).map(Be.fromDom).map(C=>!s||!t.collapsed?wu(C,l(C,g)).getOr(C):C).bind(C=>Ts(C)?J.some(C):Ua(C).filter(Ts)).map(C=>C.dom).getOr(e)},CD=(e,t,n=!1)=>wD(e,t,!0,n,(s,l)=>Math.min(sd(s),l)),_D=(e,t,n=!1)=>wD(e,t,!1,n,(s,l)=>l>0?l-1:l),SD=(e,t)=>{const n=e;for(;e&&Mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},r7=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const l=t.startOffset,f=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===s&&f-l<2&&n.hasChildNodes()&&(g=n.childNodes[l]),Mt(n)&&Mt(s)&&(n.length===l?n=SD(n.nextSibling,!0):n=n.parentNode,f===0?s=SD(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(g=n)));const C=Mt(g)?g.parentNode:g;return Wc(C)?C:e},WE=(e,t,n,s)=>{const l=[],f=e.getRoot(),g=e.getParent(n||CD(f,t,t.collapsed),e.isBlock),C=e.getParent(s||_D(f,t,t.collapsed),e.isBlock);if(g&&g!==f&&l.push(g),g&&C&&g!==C){let A;const F=new Za(g,f);for(;(A=F.next())&&A!==C;)e.isBlock(A)&&l.push(A)}return C&&g!==C&&C!==f&&l.push(C),l},c2=(e,t,n)=>J.from(t).bind(s=>J.from(s.parentNode).map(l=>{const f=e.nodeIndex(s),g=e.createRng();return g.setStart(l,f),g.setEnd(l,f+1),n&&(Fx(e,g,s,!0),Fx(e,g,s,!1)),g})),t_=(e,t)=>Me(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),s7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},i0=(e,t,n)=>{const s=n?"lastChild":"firstChild",l=n?"prev":"next";if(e[s])return e[s];if(e!==t){let f=e[l];if(f)return f;for(let g=e.parent;g&&g!==t;g=g.parent)if(f=g[l],f)return f}},kD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ll(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},ha=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fi{static create(t,n){const s=new fi(t,s7[t]||1);return n&&Uo(n,(l,f)=>{s.attr(f,l)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Te(t))return Ce(t)&&Uo(t,(f,g)=>{s.attr(g,f)}),s;const l=s.attributes;if(l){if(n!==void 0){if(n===null){if(t in l.map){delete l.map[t];let f=l.length;for(;f--;)if(l[f].name===t)return l.splice(f,1),s}return s}if(t in l.map){let f=l.length;for(;f--;)if(l[f].name===t){l[f].value=n;break}}else l.push({name:t,value:n});return l.map[t]=n,s}return l.map[t]}}clone(){const t=this,n=new fi(t.name,t.type),s=t.attributes;if(s){const l=[];l.map={};for(let f=0,g=s.length;f<g;f++){const C=s[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}n.attributes=l}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,l=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),n.lastChild===t?(n.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const l=n.parent||this;return s?(n===l.firstChild?l.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===l.lastChild?l.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=l,t}getAll(t){const n=this,s=[];for(let l=n.firstChild;l;l=i0(l,n))l.name===t&&s.push(l);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let l=t.firstChild;l;l=i0(l,t))n.push(l);let s=n.length;for(;s--;){const l=n[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var l;const f=this;let g=f.firstChild;if(ha(f))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||ha(g))return!1}if(g.type===8||g.type===3&&!kD(g)||g.type===3&&g.parent&&n[g.parent.name]&&Ll((l=g.value)!==null&&l!==void 0?l:"")||s&&s(g))return!1}while(g=i0(g,f));return!0}walk(t){return i0(this,null,t)}}const ED=Kt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),n_=e=>Te(e.nodeValue)&&e.nodeValue.includes(sa),u2=e=>`${e.length===0?"":`${Me(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,cp=(e,t)=>t.querySelectorAll(u2(e)),Jg=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>n_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),AD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(n_(t)){const n=t.parentNode;return n&&Gn(ED,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),a7=e=>Jg(e).nextNode()!==null,dv=e=>AD(e).nextNode()!==null,fv=(e,t)=>t.querySelector(u2(e))!==null,mv=(e,t)=>{ge(cp(e,t),n=>{const s=Be.fromDom(n);ii(s,"data-mce-bogus")==="all"?fr(s):ge(e,l=>{td(s,l)&&bo(s,l)})})},o_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},ZE=ln(o_,Jg),TD=ln(o_,AD),jE=(e,t)=>{const n=[{condition:pt(fv,t),action:pt(mv,t)},{condition:a7,action:ZE},{condition:dv,action:TD}];let s=e,l=!1;return ge(n,({condition:f,action:g})=>{f(s)&&(l||(s=e.cloneNode(!0),l=!0),g(s))}),s},OD=e=>{const t=Js(e,"[data-mce-bogus]");ge(t,n=>{ii(n,"data-mce-bogus")==="all"?fr(n):Du(n)?(gs(n,Be.fromText(hs)),fr(n)):Si(n)})},DD=e=>{const t=Js(e,"input");ge(t,n=>{bo(n,"name")})},RD=(e,t)=>{const n=Ui(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},ND=(e,t)=>{const n=e.getDoc(),s=Hc(Be.fromDom(e.getBody())),l=Be.fromTag("div",n);na(l,"data-mce-bogus","all"),Io(l,{position:"fixed",left:"-9999999px",top:"0"}),im(l,t.innerHTML),OD(l),DD(l);const f=a1(s);Ds(f,l);const g=il(l.dom.innerText);return fr(l),g},d2=(e,t,n)=>{let s;return t.format==="raw"?s=Kt.trim(il(jE(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=ND(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=RD(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Db(Be.fromDom(n))&&Te(s)?Kt.trim(s):s},ID=(e,t)=>J.from(e.getBody()).fold(Qe(t.format==="tree"?new fi("body",11):""),n=>d2(e,t,n)),KE=Kt.makeMap,qE=e=>{const t=[];e=e||{};const n=e.indent,s=KE(e.indent_before||""),l=KE(e.indent_after||""),f=Tg.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(C,A,F)=>{if(n&&s[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let j=0,q=A.length;j<q;j++){const X=A[j];t.push(" ",X.name,'="',f(X.value,!0),'"')}if(!F||g?t[t.length]=">":t[t.length]=" />",F&&n&&l[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),n&&l[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:f(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",f(A),"?>"):t.push("<?",C,"?>"),n&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Qg=(e={},t=mc())=>{const n=qE(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,g={3:A=>{var F;n.text((F=A.value)!==null&&F!==void 0?F:"",A.raw)},8:A=>{var F;n.comment((F=A.value)!==null&&F!==void 0?F:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var F;n.doctype((F=A.value)!==null&&F!==void 0?F:"")},4:A=>{var F;n.cdata((F=A.value)!==null&&F!==void 0?F:"")},11:A=>{let F=A;if(F=F.firstChild)do C(F);while(F=F.next)}};n.reset();const C=A=>{var F;const j=g[A.type];if(j)j(A);else{const q=A.name,X=q in t.getVoidElements();let ue=A.attributes;if(f&&ue&&ue.length>1){const we=[];we.map={};const de=t.getElementRule(A.name);if(de){for(let ke=0,Fe=de.attributesOrder.length;ke<Fe;ke++){const qe=de.attributesOrder[ke];if(qe in ue.map){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}for(let ke=0,Fe=ue.length;ke<Fe;ke++){const qe=ue[ke].name;if(!(qe in we.map)){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}ue=we}}if(n.start(q,ue,X),fm(q))Te(A.value)&&n.text(A.value,!0),n.end(q);else if(!X){let we=A.firstChild;if(we){(q==="pre"||q==="textarea")&&we.type===3&&((F=we.value)===null||F===void 0?void 0:F[0])===`
`&&n.text(`
`,!0);do C(we);while(we=we.next)}n.end(q)}}};return l.type===1&&!e.inner?C(l):l.type===3?g[3](l):g[11](l),n.getContent()}}},GE=new Set;ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{GE.add(t)});const YE=new Set;ge(["background-color"],t=>{YE.add(t)});const XE=["font","text-decoration","text-emphasis"],BD=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),l0=(e,t)=>Vt(BD(e,t)),JE=e=>GE.has(e),f2=e=>YE.has(e),QE=(e,t)=>xe(l0(e,t),n=>JE(n)),MD=(e,t)=>QE(e,t)&&xe(l0(e,t),n=>f2(n)),r_=e=>Ct(e,t=>xe(XE,n=>qr(t,n))),i7=(e,t,n)=>{const s=l0(e,t),l=l0(e,n),f=g=>{var C,A;const F=(C=e.getStyle(t,g))!==null&&C!==void 0?C:"",j=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return je(F)&&je(j)&&F!==j};return xe(s,g=>{const C=A=>xe(A,F=>F===g);if(!C(l)&&C(XE)){const A=r_(l);return xe(A,f)}else return f(g)})},PD=(e,t,n)=>J.from(n.container()).filter(Mt).exists(s=>{const l=e?0:-1;return t(s.data.charAt(n.offset()+l))}),eh=pt(PD,!0,Jb),m2=pt(PD,!1,Jb),LD=e=>{const t=e.container();return Mt(t)&&(t.data.length===0||bc(t.data)&&Rr.isBookmarkNode(t.parentNode))},wd=(e,t)=>n=>wC(e?0:-1,n).filter(t).isSome(),eA=e=>lc(e)&&Os(Be.fromDom(e),"display")==="block",s_=e=>to(e)&&!c1(e),FD=wd(!0,eA),zD=wd(!1,eA),c0=wd(!0,xt),gv=wd(!1,xt),HD=wd(!0,Zc),hv=wd(!1,Zc),pa=wd(!0,s_),Af=wd(!1,s_),u0=e=>e.slice(0,-1),VD=(e,t,n)=>$a(t,e)?u0(om(e,s=>n(s)||Lo(s,t))):[],Ul=(e,t)=>VD(e,t,xn),_c=(e,t)=>[e].concat(Ul(e,t)),a_=(e,t,n)=>c5(e,t,n,LD),$D=e=>t=>e.isBlock(Po(t)),tA=(e,t,n)=>wn(_c(Be.fromDom(t.container()),e),$D(n)),pv=(e,t,n,s)=>a_(e,t.dom,n).forall(l=>tA(t,n,s).fold(()=>!Rm(l,n,t.dom),f=>!Rm(l,n,t.dom)&&$a(f,Be.fromDom(l.container())))),i_=(e,t,n,s)=>tA(t,n,s).fold(()=>a_(e,t.dom,n).forall(l=>!Rm(l,n,t.dom)),l=>a_(e,l.dom,n).isNone()),l_=pt(i_,!1),UD=pt(i_,!0),nA=pt(pv,!1),oA=pt(pv,!0),l7=e=>CC(e).exists(Du),Fu=(e,t,n,s)=>{const l=Ct(_c(Be.fromDom(n.container()),t),g=>s.isBlock(Po(g))),f=cn(l).getOr(t);return tu(e,f.dom,n).filter(l7)},g2=(e,t,n)=>CC(t).exists(Du)||Fu(!0,e,t,n).isSome(),d0=(e,t,n)=>uP(t).exists(Du)||Fu(!1,e,t,n).isSome(),c_=pt(Fu,!1),WD=pt(Fu,!0),rA=e=>mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),sA=(e,t,n)=>{const s=Ct(_c(Be.fromDom(t.container()),e),l=>n.isBlock(Po(l)));return cn(s).getOr(e)},ZD=(e,t,n)=>rA(t)?m2(t):m2(t)||yc(sA(e,t,n).dom,t).exists(m2),jD=(e,t,n)=>rA(t)?eh(t):eh(t)||Dl(sA(e,t,n).dom,t).exists(eh),KD=e=>le(["pre","pre-wrap"],e),u_=e=>CC(e).bind(t=>Xs(t,Ts)).exists(t=>KD(Os(t,"white-space"))),aA=(e,t)=>yc(e.dom,t).isNone(),iA=(e,t)=>Dl(e.dom,t).isNone(),qD=(e,t,n)=>aA(e,t)||iA(e,t)||l_(e,t,n)||UD(e,t,n)||d0(e,t,n)||g2(e,t,n),lA=e=>Ce(e)&&to(e)&&eE(e),cA=(e,t)=>n=>lA(new Za(n,e)[t]()),GD=(e,t)=>{const n=Dl(e.dom,t).getOr(t),s=cA(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},uA=(e,t)=>{const n=yc(e.dom,t).getOr(t),s=cA(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},dA=(e,t,n)=>u_(t)?!1:qD(e,t,n)||ZD(e,t,n)||jD(e,t,n),bv=(e,t,n)=>u_(t)?!1:l_(e,t,n)||nA(e,t,n)||d0(e,t,n)||ZD(e,t,n)||uA(e,t),YD=e=>{const t=e.container(),n=e.offset();return Mt(t)&&n<t.data.length?mt(t,n+1):e},f0=(e,t,n)=>u_(t)?!1:UD(e,t,n)||oA(e,t,n)||g2(e,t,n)||jD(e,t,n)||GD(e,t),fA=(e,t,n)=>bv(e,t,n)||f0(e,YD(t),n),h2=(e,t)=>Wi(e.charAt(t)),mA=(e,t)=>Jb(e.charAt(t)),XD=e=>{const t=e.container();return Mt(t)&&vr(t.data,da)},c7=e=>{const t=e.split("");return Me(t,(n,s)=>Wi(n)&&s>0&&s<t.length-1&&Kg(t[s-1])&&Kg(t[s+1])?" ":n).join("")},JD=(e,t,n,s)=>{const l=t.data,f=mt(t,0);return!n&&h2(l,0)&&!fA(e,f,s)?(t.data=" "+l.slice(1),!0):n&&mA(l,0)&&bv(e,f,s)?(t.data=da+l.slice(1),!0):!1},QD=e=>{const t=e.data,n=c7(t);return n!==t?(e.data=n,!0):!1},eR=(e,t,n,s)=>{const l=t.data,f=mt(t,l.length-1);return!n&&h2(l,l.length-1)&&!fA(e,f,s)?(t.data=l.slice(0,-1)+" ",!0):n&&mA(l,l.length-1)&&f0(e,f,s)?(t.data=l.slice(0,-1)+da,!0):!1},tR=(e,t,n)=>{const s=t.container();if(!Mt(s))return J.none();if(XD(t)){const l=JD(e,s,!1,n)||QD(s)||eR(e,s,!1,n);return gg(l,t)}else if(fA(e,t,n)){const l=JD(e,s,!0,n)||eR(e,s,!0,n);return gg(l,t)}else return J.none()},u7=e=>{const t=Be.fromDom(e.getBody());e.selection.isCollapsed()&&tR(t,mt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},nR=(e,t,n,s)=>{if(n===0)return;const l=Be.fromDom(e),f=Li(l,F=>s.isBlock(Po(F))).getOr(l),g=e.data.slice(t,t+n),C=t+n>=e.data.length&&f0(f,mt(e,e.data.length),s),A=t===0&&bv(f,mt(e,0),s);e.replaceData(t,n,nb(g,4,A,C))},d_=(e,t,n)=>{const s=e.data.slice(t),l=s.length-it(s).length;nR(e,t,l,n)},_s=(e,t,n)=>{const s=e.data.slice(0,t),l=s.length-ot(s).length;nR(e,t-l,l,n)},p2=(e,t,n,s,l=!0)=>{const f=ot(e.data).length,g=l?e:t,C=l?t:e;return l?g.appendData(C.data):g.insertData(0,C.data),fr(Be.fromDom(C)),s&&d_(g,f,n),g},d7=(e,t)=>{const n=e.container(),s=e.offset();return!mt.isTextPosition(e)&&n===t.parentNode&&s>mt.before(t).offset()},f7=(e,t)=>d7(t,e)?mt(t.container(),t.offset()-1):t,vv=e=>Mt(e)?mt(e,0):mt.before(e),up=e=>Mt(e)?mt(e,e.data.length):mt.after(e),Fm=e=>Yc(e.previousSibling)?J.some(up(e.previousSibling)):e.previousSibling?Nu(e.previousSibling):J.none(),gA=e=>Yc(e.nextSibling)?J.some(vv(e.nextSibling)):e.nextSibling?Un(e.nextSibling):J.none(),oR=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>yc(e,mt.before(n))).orThunk(()=>Dl(e,mt.after(t))),rR=(e,t)=>Dl(e,mt.after(t)).orThunk(()=>yc(e,mt.before(t))),f_=(e,t)=>Fm(t).orThunk(()=>gA(t)).orThunk(()=>oR(e,t)),m7=(e,t)=>gA(t).orThunk(()=>Fm(t)).orThunk(()=>rR(e,t)),hA=(e,t,n)=>e?m7(t,n):f_(t,n),sR=(e,t,n)=>hA(e,t,n).map(pt(f7,n)),pA=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},bA=e=>t=>t.dom===e,aR=(e,t)=>t&&Gn(e.schema.getBlockElements(),Po(t)),vA=(e,t,n)=>{if(Ns(e,t)){const s=Be.fromHtml('<br data-mce-bogus="1">');return n?ge(Wa(t),l=>{IC(l)||fr(l)}):Fr(t),Ds(t,s),J.some(mt.before(s.dom))}else return J.none()},g7=(e,t,n,s)=>{const l=oa(e).filter(Gr),f=Pn(e).filter(Gr);return fr(e),Ud(l,f,t,(g,C,A)=>{const F=g.dom,j=C.dom,q=F.data.length;return p2(F,j,n,s),A.container()===j?mt(F,q):A}).orThunk(()=>(s&&(l.each(g=>_s(g.dom,g.dom.length,n)),f.each(g=>d_(g.dom,0,n))),t))},h7=(e,t)=>Gn(e.schema.getTextInlineElements(),Po(t)),cl=(e,t,n,s=!0,l=!1)=>{const f=sR(t,e.getBody(),n.dom),g=Li(n,pt(aR,e),bA(e.getBody())),C=g7(n,f,e.schema,h7(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>vA(e.schema,A,l)).fold(()=>{s&&pA(e,t,C)},A=>{s&&pA(e,t,J.some(A))})},iR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,p7=e=>iR.test(e),m0=(e,t)=>yr(Be.fromDom(t),Vo(e))&&!rf(e.schema,t)&&e.dom.isEditable(t),b2=e=>{var t;return Ir.DOM.getStyle(e,"direction",!0)==="rtl"||p7((t=e.textContent)!==null&&t!==void 0?t:"")},b7=(e,t,n)=>Ct(Ir.DOM.getParents(n.container(),"*",t),e),dp=(e,t,n)=>{const s=b7(e,t,n);return J.from(s[s.length-1])},lR=(e,t,n)=>{const s=Xh(t,e),l=Xh(n,e);return Ce(s)&&s===l},yA=e=>Rb(e)||L1(e),zu=(e,t)=>{const n=t.container(),s=t.offset();return e?Sm(n)?Mt(n.nextSibling)?mt(n.nextSibling,0):mt.after(n):Rb(t)?mt(n,s+1):t:Sm(n)?Mt(n.previousSibling)?mt(n.previousSibling,n.previousSibling.data.length):mt.before(n):L1(t)?mt(n,s-1):t},cR=pt(zu,!0),yv=pt(zu,!1),xA=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},uR=e=>{e.execCommand("delete")},m_=e=>xA(e,"Delete"),wA=e=>xA(e,"ForwardDelete"),v2=e=>t=>Vd(Ua(t),e,Lo),dR=e=>Tb(e)||_m(e),y2=(e,t)=>$a(e,t)?Xs(t,dR,v2(e)):J.none(),g_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},fR=(e,t,n)=>Ha(Un(n),Nu(n),(s,l)=>{const f=zu(!0,s),g=zu(!1,l),C=zu(!1,t);return e?Dl(n,C).exists(A=>A.isEqual(g)&&t.isEqual(f)):yc(n,C).exists(A=>A.isEqual(f)&&t.isEqual(g))}).getOr(!0),Cd=e=>(vg(e)?oa(e):Cu(e)).bind(Cd).orThunk(()=>J.some(e)),h_=(e,t,n,s=!0)=>{var l;t.deleteContents();const f=Cd(n).getOr(n),g=Be.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:n.dom);if(g.dom===e.getBody()?g_(e,s):Ns(e.schema,g,{checkRootAsContent:!1})&&(pc(g),s&&e.selection.setCursorLocation(g.dom,0)),!Lo(n,g)){const C=Vd(Ua(g),n)?[]:Yp(g);ge(C.concat(Wa(n)),A=>{!Lo(A,g)&&!$a(A,g)&&Ns(e.schema,A)&&fr(A)})}},v7=e=>t=>Lo(e,t),CA=e=>Js(e,"td,th"),lr=(e,t)=>wr(Be.fromDom(e),t),y7=e=>Ha(e.startTable,e.endTable,(t,n)=>{const s=l1(t,f=>Lo(f,n)),l=l1(n,f=>Lo(f,t));return!s&&!l?e:{...e,startTable:s?J.none():e.startTable,endTable:l?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),x2=e=>y7(e),x7=(e,t)=>{const n=lr(e.startContainer,t),s=lr(e.endContainer,t),l=n.isSome(),f=s.isSome(),g=Ha(n,s,Lo).getOr(!1);return x2({startTable:n,endTable:s,isStartInTable:l,isEndInTable:f,isSameTable:g,isMultiTable:!g&&l&&f})},p_=(e,t)=>({start:e,end:t}),fp=(e,t,n)=>({rng:e,table:t,cells:n}),Zi=Bo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mp=(e,t)=>Sa(Be.fromDom(e),"td,th",t),th=e=>!Lo(e.start,e.end),Tf=(e,t)=>wr(e.start,t).bind(n=>wr(e.end,t).bind(s=>gg(Lo(n,s),n))),w2=(e,t)=>!th(e)&&Tf(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),_A=(e,t)=>{const n=mp(e.startContainer,t),s=mp(e.endContainer,t);return Ha(n,s,p_)},SA=e=>t=>wr(t,e).bind(n=>po(CA(n)).map(s=>p_(t,s))),mR=e=>t=>wr(t,e).bind(n=>cn(CA(n)).map(s=>p_(s,t))),b_=e=>t=>Tf(t,e).map(n=>fp(t,n,CA(n))),gR=(e,t,n,s)=>{if(n.collapsed||!e.forall(th))return J.none();if(t.isSameTable){const l=e.bind(b_(s));return J.some({start:l,end:l})}else{const l=mp(n.startContainer,s),f=mp(n.endContainer,s),g=l.bind(SA(s)).bind(b_(s)),C=f.bind(mR(s)).bind(b_(s));return J.some({start:g,end:C})}},hR=(e,t)=>Cn(e,n=>Lo(n,t)),v_=e=>Ha(hR(e.cells,e.rng.start),hR(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),pR=(e,t,n)=>e.exists(s=>w2(s,n)&&Lx(s.start,t)),kA=(e,t)=>{const{startTable:n,endTable:s}=t,l=e.cloneRange();return n.each(f=>l.setStartAfter(f.dom)),s.each(f=>l.setEndBefore(f.dom)),l},bR=(e,t,n,s)=>gR(e,t,n,s).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=t,g=v_(l).getOr([]);if(f&&l.cells.length===g.length)return J.some(Zi.fullTable(l.table));if(g.length>0){if(f)return J.some(Zi.partialTable(g,J.none()));{const C=kA(n,t);return J.some(Zi.partialTable(g,J.some({...t,rng:C})))}}else return J.none()}),EA=(e,t,n,s)=>gR(e,t,n,s).bind(({start:l,end:f})=>{const g=l.bind(v_).getOr([]),C=f.bind(v_).getOr([]);if(g.length>0&&C.length>0){const A=kA(n,t);return J.some(Zi.multiTable(g,C,A))}else return J.none()}),w7=(e,t)=>{const n=v7(e),s=_A(t,n),l=x7(t,n);return pR(s,t,n)?s.map(f=>Zi.singleCellTable(t,f.start)):l.isMultiTable?EA(s,l,t,n):bR(s,l,t,n)},vR=e=>ge(e,t=>{bo(t,"contenteditable"),pc(t)}),C7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Be.fromDom),zm=(e,t,n)=>{n.each(s=>{t?fr(s):(pc(s),e.selection.setCursorLocation(s.dom,0))})},g0=(e,t,n,s)=>{const l=n.cloneRange();s?(l.setStart(n.startContainer,n.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(n.endContainer,n.endOffset)),OA(e,l,t,!1).each(f=>f())},AA=e=>{const t=_f(e),n=Be.fromDom(e.selection.getNode());Nh(n.dom)&&Ns(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&xe(t,s=>Lo(s,n))&&na(n,"data-mce-selected","1")},TA=(e,t,n)=>J.some(()=>{const s=e.selection.getRng(),l=n.bind(({rng:f,isStartInTable:g})=>{const C=C7(e,g?f.endContainer:f.startContainer);f.deleteContents(),zm(e,g,C.filter(pt(Ns,e.schema)));const A=g?t[0]:t[t.length-1];return g0(e,A,s,g),Ns(e.schema,A)?J.none():J.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);vR(l),AA(e)}),yR=(e,t,n,s)=>J.some(()=>{const l=e.selection.getRng(),f=t[0],g=n[n.length-1];g0(e,f,l,!0),g0(e,g,l,!1);const C=Ns(e.schema,f)?t:t.slice(1),A=Ns(e.schema,g)?n:n.slice(0,-1);vR(C.concat(A)),s.deleteContents(),AA(e)}),OA=(e,t,n,s=!0)=>J.some(()=>{h_(e,t,n,s)}),gp=(e,t)=>J.some(()=>cl(e,!1,t)),_7=(e,t,n)=>w7(t,n).bind(s=>s.fold(pt(OA,e),pt(gp,e),pt(TA,e),pt(yR,e))),S7=(e,t)=>y_(e,t),k7=(e,t,n,s)=>DA(t,s).fold(()=>_7(e,t,n),l=>S7(e,l)),E7=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.selection.getRng();return n.length!==0?TA(e,n,J.none()):k7(e,s,l,t)},xR=(e,t)=>wn(_c(t,e),hc),DA=(e,t)=>wn(_c(t,e),jd("caption")),A7=(e,t,n,s,l)=>Yb(n,e.getBody(),l).bind(f=>xR(t,Be.fromDom(f.getNode())).bind(g=>Lo(g,s)?J.none():J.some(Pt))),y_=(e,t)=>J.some(()=>{pc(t),e.selection.setCursorLocation(t.dom,0)}),T7=(e,t,n,s)=>Un(e.dom).bind(l=>Nu(e.dom).map(f=>t?n.isEqual(l)&&s.isEqual(f):n.isEqual(f)&&s.isEqual(l))).getOr(!0),x_=(e,t)=>y_(e,t),O7=(e,t,n)=>DA(e,Be.fromDom(n.getNode())).fold(()=>J.some(Pt),s=>gg(!Lo(s,t),Pt)),C2=(e,t,n,s,l)=>Yb(n,e.getBody(),l).fold(()=>J.some(Pt),f=>T7(s,n,l,f)?x_(e,s):O7(t,s,f)),RA=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return xR(n,s).bind(f=>Ns(e.schema,f,{checkRootAsContent:!1})?y_(e,f):A7(e,n,t,f,l))},h0=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return Ns(e.schema,s)?y_(e,s):C2(e,n,t,s,l)},hp=(e,t)=>e?HD(t):hv(t),w_=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return hp(t,n)||tu(t,e.getBody(),n).exists(s=>hp(t,s))},C_=(e,t,n)=>{const s=Be.fromDom(e.getBody());return DA(s,n).fold(()=>RA(e,t,s,n).orThunk(()=>gg(w_(e,t),Pt)),l=>h0(e,t,s,l))},nh=(e,t)=>{const n=Be.fromDom(e.selection.getStart(!0)),s=_f(e);return e.selection.isCollapsed()&&s.length===0?C_(e,t,n):E7(e,n,s)},Hu=(e,t)=>{let n=t;for(;n&&n!==e;){if(cc(n)||to(n))return n;n=n.parentNode}return null},__=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],S_=Kt.each,k_=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(f,g)=>{if(f.nodeName!==g.nodeName||f.nodeType!==g.nodeType)return!1;const C=F=>{const j={};return S_(t.getAttribs(F),q=>{const X=q.nodeName.toLowerCase();X!=="style"&&!l(X)&&(j[X]=t.getAttrib(F,X))}),j},A=(F,j)=>{for(const q in F)if(Gn(F,q)){const X=j[q];if(Ze(X)||F[q]!==X)return!1;delete j[q]}for(const q in j)if(Gn(j,q))return!1;return!0};return yn(f)&&yn(g)&&(!A(C(f),C(g))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!ou(f)&&!ou(g)},l=f=>xe(__,g=>qr(f,g))||n.has(f);return{compare:s,isAttributeInternal:l}},E_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),NA=e=>e.name==="summary",wR=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},IA=(e,t,n,s)=>{const l=n.name;for(let f=0,g=e.length;f<g;f++){const C=e[f];if(C.name===l){const A=s.nodes[l];A?A.nodes.push(n):s.nodes[l]={filter:C,nodes:[n]}}}if(n.attributes)for(let f=0,g=t.length;f<g;f++){const C=t[f],A=C.name;if(A in n.attributes.map){const F=s.attributes[A];F?F.nodes.push(n):s.attributes[A]={filter:C,nodes:[n]}}}},xv=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&wR(n,l=>{IA(e,t,l,s)}),s},BA=(e,t)=>{const n=(s,l)=>{Uo(s,f=>{const g=io(f.nodes);ge(f.filter.callbacks,C=>{for(let A=g.length-1;A>=0;A--){const F=g[A];(!(l?F.attr(f.filter.name)!==void 0:F.name===f.filter.name)||rt(F.parent))&&g.splice(A,1)}g.length>0&&C(g,f.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},MA=(e,t,n,s={})=>{const l=xv(e,t,n);BA(l,s)},A_=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const f=new fi("br",1);t.insert&&f.attr("data-mce-bogus","1"),s.empty().append(f)}else s.empty().append(new fi("#text",3)).value=da},T_=e=>{var t;return PA(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===da},PA=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ce(n)&&n===e.lastChild&&n.name===t},CR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},wv=(e,t,n,s)=>s.isEmpty(t,n,l=>CR(e,l)),_R=(e,t)=>Ce(e)&&(t(e)||e.name==="br"),oh=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return J.from(t)},Hm=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const l of s)n&&!t.isValidChild(n.name,l.name)&&Hm(l,t,n);e.unwrap()}},su=(e,t,n,s=Pt)=>{const l=t.getTextBlockElements(),f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Kt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,F=j=>j!==n&&!C[j.name];for(let j=0;j<e.length;j++){const q=e[j];let X,ue,we;if(!q.parent||A.has(q))continue;if(l[q.name]&&q.parent.name==="li"){let ke=q.next;for(;ke&&l[ke.name];){ke.name="li",A.add(ke),q.parent.insert(ke,q.parent);ke=ke.next}q.unwrap();continue}const de=[q];for(X=q.parent;X&&!t.isValidChild(X.name,q.name)&&F(X);X=X.parent)de.push(X);if(X&&de.length>1)if(_2(t,q,X))Hm(q,t);else{de.reverse(),ue=de[0].clone(),s(ue);let ke=ue;for(let Fe=0;Fe<de.length-1;Fe++){t.isValidChild(ke.name,de[Fe].name)&&Fe>0?(we=de[Fe].clone(),s(we),ke.append(we)):we=ke;for(let qe=de[Fe].firstChild;qe&&qe!==de[Fe+1];){const We=qe.next;we.append(qe),qe=We}ke=we}wv(t,f,g,ue)?X.insert(q,de[0],!0):(X.insert(ue,de[0],!0),X.insert(q,ue)),X=de[0],(wv(t,f,g,X)||PA(X,"br"))&&X.empty().remove()}else if(q.parent){if(q.name==="li"){let ke=q.prev;if(ke&&(ke.name==="ul"||ke.name==="ol")){ke.append(q);continue}if(ke=q.next,ke&&(ke.name==="ul"||ke.name==="ol")&&ke.firstChild){ke.insert(q,ke.firstChild,!0);continue}const Fe=new fi("ul",1);s(Fe),q.wrap(Fe);continue}if(t.isValidChild(q.parent.name,"div")&&t.isValidChild("div",q.name)){const ke=new fi("div",1);s(ke),q.wrap(ke)}else Hm(q,t)}}},LA=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},_2=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&LA(n,"a")?!0:NA(n)&&E_(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,SR=(e,t,n,s)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(n,s),l},kR=e=>{const t=mt.fromRangeStart(e),n=mt.fromRangeEnd(e),s=e.commonAncestorContainer;return tu(!1,s,n).map(l=>!Rm(t,n,s)&&Rm(t,l,s)?SR(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},O_=e=>e.collapsed?e:kR(e),FA=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,ER=e=>e.name==="br"||e.value===da,AR=(e,t)=>e.getBlockElements()[t.name]&&FA(t)&&ER(t.firstChild),zA=(e,t)=>{const n=e.getNonEmptyElements();return Ce(t)&&(t.isEmpty(n)||AR(e,t))},Vm=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),zA(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},_d=e=>{var t,n;const s=e.firstChild,l=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),l&&l.id==="mce_marker"&&((n=l.parentNode)===null||n===void 0||n.removeChild(l)),e},D_=(e,t,n)=>{const s=t.serialize(n),l=e.createFragment(s);return _d(l)},TR=e=>{var t;return Ct((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},R_=e=>e.data===da||ns(e),OR=e=>Ce(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&R_(e.firstChild),DR=e=>!e.firstChild||OR(e),RR=e=>e.length>0&&DR(e[e.length-1])?e.slice(0,-1):e,N_=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},NR=(e,t)=>!!N_(e,t),IR=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},I_=(e,t)=>{const n=mt.before(e),l=zn(t).next(n);return l?l.toRange():null},B_=(e,t)=>{const n=mt.after(e),l=zn(t).prev(n);return l?l.toRange():null},BR=(e,t,n,s)=>{const l=IR(e,s),f=e.parentNode;return f&&(f.insertBefore(l[0],e),Kt.each(t,g=>{f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e)),B_(t[t.length-1],n)},HA=(e,t,n)=>{const s=e.parentNode;return s&&Kt.each(t,l=>{s.insertBefore(l,e)}),I_(e,n)},D7=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),B_(t[0],n)),R7=(e,t,n,s)=>{const l=D_(t,e,s),f=N_(t,n.startContainer),g=RR(TR(l.firstChild)),C=1,A=2,F=t.getRoot(),j=q=>{const X=mt.fromRangeStart(n),ue=zn(t.getRoot()),we=q===C?ue.prev(X):ue.next(X),de=we==null?void 0:we.getNode();return de?N_(t,de)!==f:!0};return f?j(C)?HA(f,g,F):j(A)?D7(f,g,F,t):BR(f,g,F,n):null},N7=["pre"],I7=(e,t,n,s)=>{var l;const f=t.firstChild,g=t.lastChild,C=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=f===C,F=le(N7,f.name);if(A&&F){const j=f.attr("contenteditable")!=="false",q=((l=e.getParent(n,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=J.from(Hu(s,n)).forall(cc);return j&&q&&X}else return!1},VA=Nh,B7=(e,t,n)=>{if(Ce(n)){const s=e.getParent(t.endContainer,VA);return n===s&&Lx(Be.fromDom(n),t)}else return!1},M_=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const l=n.firstChild,f=n.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},$A=(e,t,n)=>{J.from(e.getParent(t,"td,th")).map(Be.fromDom).each(s=>ix(s,n))},MR=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const l=e.getBody(),f=k_(e),g="*[data-mce-fragment]",C=s.select(g);Kt.each(C,A=>{const F=X=>Ce(n[X.nodeName.toLowerCase()]),j=X=>X.childNodes.length===1;if((X=>!(QE(s,X)||MD(s,X)))(A)&&F(A)&&j(A)){const X=l0(s,A),ue=(Fe,qe)=>vo(Fe,We=>le(qe,We)),we=Fe=>j(A)&&s.is(Fe,g)&&F(Fe)&&(Fe.nodeName===A.nodeName&&ue(X,l0(s,Fe))||we(Fe.children[0])),de=Fe=>Ce(Fe)&&Fe!==l&&(f.compare(A,Fe)||de(Fe.parentElement)),ke=Fe=>Ce(Fe)&&Fe!==l&&s.is(Fe,g)&&(i7(s,A,Fe)||ke(Fe.parentElement));(we(A.children[0])||de(A.parentElement)&&!ke(A.parentElement))&&s.remove(A,!0)}})}},UA=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},M7=e=>{Kt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},P7=e=>!!e.getAttribute("data-mce-fragment"),L7=(e,t)=>Ce(t)&&!e.schema.getVoidElements()[t.nodeName],F7=(e,t)=>{var n,s,l;let f;const g=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=Hu(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),C.select(A);return}let F=g.createRng();const j=t.previousSibling;if(Mt(j)){F.setStart(j,(s=(n=j.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const ue=t.nextSibling;Mt(ue)&&(j.appendData(ue.data),(l=ue.parentNode)===null||l===void 0||l.removeChild(ue))}else F.setStartBefore(t),F.setEndBefore(t);const q=ue=>{let we=mt.fromRangeStart(ue);return we=zn(e.getBody()).next(we),we==null?void 0:we.toRange()},X=g.getParent(t,g.isBlock);if(g.remove(t),X&&g.isEmpty(X)){const ue=VA(X);Fr(Be.fromDom(X)),F.setStart(X,0),F.setEnd(X,0),!ue&&!P7(X)&&(f=q(F))?(F=f,g.remove(X)):g.add(X,g.create("br",ue?{}:{"data-mce-bogus":"1"}))}C.setRng(F)},z7=e=>{const t=e.dom,n=O_(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,VA);B7(t,n,s)?OA(e,n,Be.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Mt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},H7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},P_=(e,t,n)=>{var s;return xe(n.children(),E_)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},L_=(e,t,n)=>{var s,l;const f=e.selection,g=e.dom,C=e.parser,A=n.merge,F=Qg({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=il(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let q=f.getRng();const X=q.startContainer,ue=e.getBody();X===ue&&f.isCollapsed()&&g.isBlock(ue.firstChild)&&L7(e,ue.firstChild)&&g.isEmpty(ue.firstChild)&&(q=g.createRng(),q.setStart(ue.firstChild,0),q.setEnd(ue.firstChild,0),f.setRng(q)),f.isCollapsed()||z7(e);const we=f.getNode(),de={context:we.nodeName.toLowerCase(),data:n.data,insert:!0},ke=C.parse(t,de);if(n.paste===!0&&Vm(e.schema,ke)&&NR(g,we))return q=R7(F,g,f.getRng(),ke),q&&f.setRng(q),t;n.paste===!0&&I7(g,ke,we,e.getBody())&&((s=ke.firstChild)===null||s===void 0||s.unwrap()),UA(ke);let Fe=ke.lastChild;if(Fe&&Fe.attr("id")==="mce_marker"){const qe=Fe;for(Fe=Fe.prev;Fe;Fe=Fe.walk(!0))if(Fe.type===3||!g.isBlock(Fe.name)){Fe.parent&&e.schema.isValidChild(Fe.parent.name,"span")&&Fe.parent.insert(qe,Fe,Fe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!de.invalid&&!P_(g,we,ke))t=F.serialize(ke),M_(e,t,we);else{e.selection.setContent(j);let qe=f.getNode(),We;const st=e.getBody();for(Sn(qe)?qe=We=st:We=qe;We&&We!==st;)qe=We,We=We.parentNode;t=qe===st?st.innerHTML:g.getOuterHTML(qe);const Nt=C.parse(t),jt=H7(Nt),un=jt.bind(oh).getOr(Nt);jt.each(pn=>pn.replace(ke));const wt=ke.children(),dt=(l=ke.parent)!==null&&l!==void 0?l:Nt;ke.unwrap();const Dt=Ct(wt,pn=>_2(e.schema,pn,dt));su(Dt,e.schema,un),MA(C.getNodeFilters(),C.getAttributeFilters(),Nt),t=F.serialize(Nt),qe===st?g.setHTML(st,t):g.setOuterHTML(qe,t)}return MR(e,A),F7(e,g.get("mce_marker")),M7(e.getBody()),$A(g,f.getStart(),e.schema),cd(e.schema,e.getBody(),f.getStart()),t},p0=e=>e instanceof fi,V7=e=>{uv(e)&&Un(e.getBody()).each(t=>{const n=t.getNode(),s=Zc(n)?Un(n).getOr(t):t;e.selection.setRng(s.toRange())})},WA=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&V7(e)},$7=(e,t,n,s)=>{if(n=il(n),n.length===0||/^\s+$/.test(n)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+l+"</li>");const f=Ui(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(n=l,n=e.dom.createHTML(f,yx(e),n)):n||(n=l),WA(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Qg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const l=Db(Be.fromDom(t))?n:Kt.trim(n);return WA(e,l,s.no_selection),{content:l,html:l}}},U7=(e,t,n,s)=>{MA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const l=Qg({validate:!1},e.schema).serialize(n),f=il(Db(Be.fromDom(t))?l:Kt.trim(l));return WA(e,f,s.no_selection),{content:n,html:f}},W7=(e,t,n)=>J.from(e.getBody()).map(s=>p0(t)?U7(e,s,t,n):$7(e,s,t,n)).getOr({content:t,html:p0(n.content)?"":n.content}),PR=e=>Ne(e)?e:xn,Sd=(e,t,n)=>{let s=e.dom;const l=PR(n);for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s),g=t(f);if(g.isSome())return g;if(l(f))break}return J.none()},S2=(e,t,n)=>{const s=t(e),l=PR(n);return s.orThunk(()=>l(e)?J.none():Sd(e,t,l))},F_=av,ZA=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let l=0;l<s.length;l++){const f=s[l];if(xc(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},z_=(e,t,n,s,l)=>{const f=e.dom.getRoot();if(t===f)return!1;const g=e.dom.getParent(t,C=>ZA(e,C,n)?!0:C.parentNode===f||!!$m(e,C,n,s,!0));return!!$m(e,g,n,s,l)},H_=(e,t,n)=>Xa(n)&&F_(t,n.inline)||Sf(n)&&F_(t,n.block)?!0:xc(n)?yn(t)&&e.is(t,n.selector):!1,jA=(e,t,n,s,l,f)=>{const g=n[s],C=s==="attributes";if(Ne(n.onmatch))return n.onmatch(t,n,s);if(g){if(Qt(g)){for(let A=0;A<g.length;A++)if(C?e.getAttrib(t,g[A]):zx(e,t,g[A]))return!0}else for(const A in g)if(Gn(g,A)){const F=C?e.getAttrib(t,A):zx(e,t,A),j=qg(g[A],f),q=rt(F)||Lt(F);if(q&&rt(j))continue;if(l&&q&&!n.exact||(!l||n.exact)&&!F_(F,DC(j,A)))return!1}}return!0},$m=(e,t,n,s,l)=>{const f=e.formatter.get(n),g=e.dom;if(f&&yn(t))for(let C=0;C<f.length;C++){const A=f[C];if(H_(e.dom,t,A)&&jA(g,t,A,"attributes",l,s)&&jA(g,t,A,"styles",l,s)){const F=A.classes;if(F){for(let j=0;j<F.length;j++)if(!e.dom.hasClass(t,qg(F[j],s)))return}return A}}},pp=(e,t,n,s,l)=>{if(s)return z_(e,s,t,n,l);if(s=e.selection.getNode(),z_(e,s,t,n,l))return!0;const f=e.selection.getStart();return!!(f!==s&&z_(e,f,t,n,l))},LR=(e,t,n)=>{const s=[],l={},f=e.selection.getStart();return e.dom.getParent(f,g=>{for(let C=0;C<t.length;C++){const A=t[C];!l[A]&&$m(e,g,A,n)&&(l[A]=!0,s.push(A))}},e.dom.getRoot()),s},FR=(e,t)=>{const n=l=>Lo(l,Be.fromDom(e.getBody())),s=(l,f)=>$m(e,l.dom,f)?J.some(f):J.none();return J.from(e.selection.getStart(!0)).bind(l=>S2(Be.fromDom(l),f=>Wr(t,g=>s(f,g)),n)).getOrNull()},zR=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const l=e.selection.getStart(),f=Hx(s,l);for(let g=n.length-1;g>=0;g--){const C=n[g];if(!xc(C))return!0;for(let A=f.length-1;A>=0;A--)if(s.is(f[A],C.selector))return!0}}return!1},KA=(e,t,n)=>It(n,(s,l)=>{const f=E5(e,l);return e.formatter.matchNode(t,l,{},f)?s.concat([l]):s},[]),k2=sa,Z7=(e,t)=>e.importNode(t,!0),HR=e=>{if(e){const t=new Za(e,e);for(let n=t.current();n;n=t.next())if(Mt(n))return n}return null},Um=e=>{const t=Be.fromTag("span");return yi(t,{id:tv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ds(t,Be.fromText(k2)),t},qA=e=>{const t=HR(e);return t&&t.data.charAt(0)===k2&&t.deleteData(0,1),t},GA=(e,t,n)=>{const s=e.dom,l=e.selection;if(bE(t))cl(e,!1,Be.fromDom(t),n,!0);else{const f=l.getRng(),g=s.getParent(t,s.isBlock),C=f.startContainer,A=f.startOffset,F=f.endContainer,j=f.endOffset,q=qA(t);s.remove(t,!0),C===q&&A>0&&f.setStart(q,A-1),F===q&&j>0&&f.setEnd(q,j-1),g&&s.isEmpty(g)&&pc(Be.fromDom(g)),l.setRng(f)}},YA=(e,t,n)=>{const s=e.dom,l=e.selection;if(t)GA(e,t,n);else if(t=Jh(e.getBody(),l.getStart()),!t)for(;t=s.get(tv);)GA(e,t,n)},b0=(e,t,n)=>{var s,l;const f=e.dom,g=f.getParent(n,pt(OC,e.schema));g&&f.isEmpty(g)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Hl(Be.fromDom(n)),f.isEmpty(n)?(l=n.parentNode)===null||l===void 0||l.replaceChild(t,n):f.insertAfter(t,n))},XA=(e,t)=>(e.appendChild(t),t),E2=(e,t)=>{var n;const s=zt(e,(f,g)=>XA(f,g.cloneNode(!1)),t),l=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return XA(s,l.createTextNode(k2))},j7=(e,t,n,s,l,f)=>{const g=e.formatter,C=e.dom,A=Ct(Vt(g.get()),q=>q!==s&&!vr(q,"removeformat")),F=KA(e,n,A);if(Ct(F,q=>!A5(e,q,s)).length>0){const q=n.cloneNode(!1);return C.add(t,q),g.remove(s,l,q,f),C.remove(q),J.some(q)}else return J.none()},VR=e=>kb(e,Cm(e).replace(new RegExp(`${da}$`)," ")),JA=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&oa(Be.fromDom(t)).each(s=>{Gr(s)?VR(s):_a(s,l=>Gr(l)).each(l=>{Gr(l)&&VR(l)})})};e.once("input",s=>{s.data&&!Jb(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},rh=(e,t,n)=>{let s;const l=e.selection,f=e.formatter.get(t);if(!f)return;const g=l.getRng();let C=g.startOffset;const F=g.startContainer.nodeValue;s=Jh(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&C>0&&C<F.length&&j.test(F.charAt(C))&&j.test(F.charAt(C-1))){const q=l.getBookmark();g.collapse(!0);let X=tp(e.dom,g,f);X=n2(X),e.formatter.apply(t,n,X),l.moveToBookmark(q)}else{let q=s?HR(s):null;(!s||(q==null?void 0:q.data)!==k2)&&(s=Z7(e.getDoc(),Um(!0).dom),q=s.firstChild,g.insertNode(s),C=1,JA(e,s)),e.formatter.apply(t,n,s),l.setCursorLocation(q,C)}},QA=(e,t,n,s)=>{const l=e.dom,f=e.selection;let g=!1;const C=e.formatter.get(t);if(!C)return;const A=f.getRng(),F=A.startContainer,j=A.startOffset;let q=F;Mt(F)&&(j!==F.data.length&&(g=!0),q=q.parentNode);const X=[];let ue;for(;q;){if($m(e,q,t,n,s)){ue=q;break}q.nextSibling&&(g=!0),X.push(q),q=q.parentNode}if(ue)if(g){const we=f.getBookmark();A.collapse(!0);let de=tp(l,A,C,!0);de=n2(de),e.formatter.remove(t,n,de,s),f.moveToBookmark(we)}else{const we=Jh(e.getBody(),ue),de=Ce(we)?l.getParents(ue.parentNode,Rn,we):[],ke=Um(!1).dom;b0(e,ke,we??ue);const Fe=j7(e,ke,ue,t,n,s),qe=E2([...X,...Fe.toArray(),...de],ke);we&&GA(e,we,Ce(we)),f.setCursorLocation(qe,1),JA(e,ke),l.isEmpty(ue)&&l.remove(ue)}},e3=(e,t,n)=>{const s=e.selection,l=e.getBody();YA(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===k2&&YA(e,Jh(l,s.getStart()),!0),(t===37||t===39)&&YA(e,Jh(l,s.getStart()),!0)},t3=e=>Mt(e)&&Se(e.data,da),$R=e=>{e.on("mouseup keydown",t=>{e3(e,t.keyCode,t3(e.selection.getRng().endContainer))})},n3=e=>{const t=Um(!1),n=E2(e,t.dom);return{caretContainer:t,caretPosition:mt(n,0)}},o3=(e,t)=>{const{caretContainer:n,caretPosition:s}=n3(t);return gs(Be.fromDom(e),n),fr(Be.fromDom(e)),s},K7=(e,t)=>{const{caretContainer:n,caretPosition:s}=n3(t);return e.insertNode(n.dom),s},Cv=(e,t)=>{if(nu(t.dom))return!1;const n=e.schema.getTextInlineElements();return Gn(n,Po(t))&&!nu(t.dom)&&!ef(t.dom)},bp={},r3=ja(["pre"]),UR=(e,t)=>{bp[e]||(bp[e]=[]),bp[e].push(t)},WR=(e,t)=>{Gn(bp,e)&&ge(bp[e],n=>{n(t)})};UR("pre",e=>{const t=e.selection.getRng(),n=l=>f=>{const g=f.previousSibling;return r3(g)&&le(l,g)},s=(l,f)=>{const g=Be.fromDom(f),C=Ml(g).dom;fr(g),Hs(Be.fromDom(l),[Be.fromTag("br",C),Be.fromTag("br",C),...Wa(g)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),f=Ct(Ct(l,r3),n(l));ge(f,g=>{s(g.previousSibling,g)})}});const s3=["fontWeight","fontStyle","color","fontSize","fontFamily"],V_=e=>te(e.styles)&&xe(Vt(e.styles),t=>le(s3,t)),a3=e=>wn(e,t=>Xa(t)&&t.inline==="span"&&V_(t)),_v=(e,t)=>{const n=e.get(t);return re(n)?a3(n):J.none()},ZR=(e,t)=>yc(t,mt.fromRangeStart(e)).isNone(),i3=(e,t)=>Dl(t,mt.fromRangeEnd(e)).exists(n=>!ns(n.getNode())||Dl(t,n).isSome())===!1,jR=e=>t=>Dy(t)&&e.isEditable(t),q7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return ZR(n,t[0])&&i3(n,t[0])?t:[];{const s=cn(t).filter(g=>ZR(n,g)).toArray(),l=po(t).filter(g=>i3(n,g)).toArray(),f=t.slice(1,-1);return s.concat(f).concat(l)}},KR=e=>Ct(q7(e),jR(e.dom)),l3=e=>Ct(e.getSelectedBlocks(),jR(e.dom)),c3=Kt.each,$_=e=>yn(e)&&!ou(e)&&!nu(e)&&!ef(e),vp=(e,t)=>{for(let n=e;n;n=n[t]){if(Mt(n)&&je(n.data))return e;if(yn(n)&&!ou(n))return n}return e},u3=(e,t,n)=>{const s=k_(e),l=Wc(t)&&e.dom.isEditable(t),f=Wc(n)&&e.dom.isEditable(n);if(l&&f){const g=vp(t,"previousSibling"),C=vp(n,"nextSibling");if(s.compare(g,C)){for(let A=g.nextSibling;A&&A!==C;){const F=A;A=A.nextSibling,g.appendChild(F)}return e.dom.remove(C),Kt.each(Kt.grep(C.childNodes),A=>{g.appendChild(A)}),g}}return n},U_=(e,t,n,s)=>{var l;if(s&&t.merge_siblings!==!1){const f=(l=u3(e,Qb(s),s))!==null&&l!==void 0?l:s;u3(e,f,Qb(f,!0))}},qR=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";c3(e.select(s,n),l=>{$_(l)&&e.isEditable(l)&&c3(t.styles,(f,g)=>{e.setStyle(l,g,"")})})}},A2=(e,t,n)=>{c3(e.childNodes,s=>{$_(s)&&(t(s)&&n(s),s.hasChildNodes()&&A2(s,t,n))})},yp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},d3=(e,t)=>n=>!!(n&&zx(e,n,t)),au=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),yp(e,s)},Vu=Bo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),f3=/^(src|href|style)$/,W_=Kt.each,Z_=av,GR=e=>/^(TR|TH|TD)$/.test(e.nodeName),v0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),T2=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"];if(yn(s)){const f=s.childNodes.length-1;!n&&l&&l--,s=s.childNodes[l>f?f:l]}return Mt(s)&&n&&l>=s.data.length&&(s=new Za(s,e.getBody()).next()||s),Mt(s)&&!n&&l===0&&(s=new Za(s,e.getBody()).prev()||s),s},m3=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return GR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},j_=(e,t,n,s)=>{var l;const f=e.create(n,s);return(l=t.parentNode)===null||l===void 0||l.insertBefore(f,t),f.appendChild(t),f},K_=(e,t,n,s,l)=>{const f=Be.fromDom(t),g=Be.fromDom(e.create(s,l)),C=n?rm(f):xu(f);return Hs(g,C),n?(gs(f,g),_i(g,f)):(et(f,g),Ds(g,f)),g.dom},G7=(e,t)=>t.links&&e.nodeName==="A",YR=(e,t,n)=>{const s=t.parentNode;let l;const f=e.dom,g=Ui(e);Sf(n)&&s===f.getRoot()&&(!n.list_block||!Z_(t,n.list_block))&&ge(io(t.childNodes),C=>{Qh(e,g,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=j_(f,C,g),f.setAttribs(l,yx(e))):l=null}),!(D5(n)&&!Z_(n.inline,t))&&f.remove(t,!0)},g3=(e,t,n)=>D(e)?{name:t,value:null}:{name:e,value:qg(t,n)},XR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Sc=(e,t,n,s,l)=>{let f=!1;W_(n.styles,(g,C)=>{const{name:A,value:F}=g3(C,g,s),j=DC(F,A);(n.remove_similar||Ge(F)||!yn(l)||Z_(zx(e,l,A),j))&&e.setStyle(t,A,""),f=!0}),f&&XR(e,t)},h3=(e,t,n)=>{t==="removeformat"?ge(l3(e.selection),s=>{ge(s3,l=>e.dom.setStyle(s,l,"")),XR(e.dom,s)}):_v(e.formatter,t).each(s=>{ge(l3(e.selection),l=>Sc(e.dom,l,s,n,null))})},p3=(e,t,n,s,l)=>{const f=e.dom,g=k_(e),C=e.schema;if(Xa(t)&&ib(C,t.inline)&&rf(C,s)&&s.parentElement===e.getBody())return YR(e,s,t),Vu.removed();if(!t.ceFalseOverride&&s&&f.getContentEditableParent(s)==="false"||s&&!H_(f,s,t)&&!G7(s,t))return Vu.keep();const A=s,F=t.preserve_attributes;if(Xa(t)&&t.remove==="all"&&re(F)){const j=Ct(f.getAttribs(A),q=>le(F,q.name.toLowerCase()));if(f.removeAllAttribs(A),ge(j,q=>f.setAttrib(A,q.name,q.value)),j.length>0)return Vu.rename("span")}if(t.remove!=="all"){Sc(f,A,t,n,l),W_(t.attributes,(q,X)=>{const{name:ue,value:we}=g3(X,q,n);if(t.remove_similar||Ge(we)||!yn(l)||Z_(f.getAttrib(l,ue),we)){if(ue==="class"){const de=f.getAttrib(A,ue);if(de){let ke="";if(ge(de.split(/\s+/),Fe=>{/mce\-\w+/.test(Fe)&&(ke+=(ke?" ":"")+Fe)}),ke){f.setAttrib(A,ue,ke);return}}}if(f3.test(ue)&&A.removeAttribute("data-mce-"+ue),ue==="style"&&ja(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ue),f.setStyle(A,"list-style-type","none");return}ue==="class"&&A.removeAttribute("className"),A.removeAttribute(ue)}}),W_(t.classes,q=>{q=qg(q,n),(!yn(l)||f.hasClass(l,q))&&f.removeClass(A,q)});const j=f.getAttribs(A);for(let q=0;q<j.length;q++){const X=j[q].nodeName;if(!g.isAttributeInternal(X))return Vu.keep()}}return t.remove!=="none"?(YR(e,A,t),Vu.removed()):Vu.keep()},b3=(e,t,n,s,l)=>{let f;return t.parentNode&&ge(Hx(e.dom,t.parentNode).reverse(),g=>{if(!f&&yn(g)&&g.id!=="_start"&&g.id!=="_end"){const C=$m(e,g,n,s,l);C&&C.split!==!1&&(f=g)}}),f},JR=(e,t,n,s)=>p3(e,t,n,s,s).fold(Qe(s),l=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,l)),Qe(null)),O2=(e,t,n,s,l,f,g,C)=>{var A,F;let j,q;const X=e.dom;if(n){const ue=n.parentNode;for(let we=s.parentNode;we&&we!==ue;we=we.parentNode){let de=X.clone(we,!1);for(let ke=0;ke<t.length&&(de=JR(e,t[ke],C,de),de!==null);ke++);de&&(j&&de.appendChild(j),q||(q=de),j=de)}(!g.mixed||!X.isBlock(n))&&(s=(A=X.split(n,s))!==null&&A!==void 0?A:s),j&&q&&((F=l.parentNode)===null||F===void 0||F.insertBefore(j,l),q.appendChild(l),Xa(g)&&U_(e,g,C,j))}return s},sh=(e,t,n,s,l)=>{const f=e.formatter.get(t),g=f[0],C=e.dom,A=e.selection,F=de=>{const ke=b3(e,de,t,n,l);return O2(e,f,ke,de,de,!0,g,n)},j=de=>ou(de)&&yn(de)&&(de.id==="_start"||de.id==="_end"),q=de=>xe(f,ke=>wp(e,ke,n,de,de)),X=de=>{const ke=io(de.childNodes),qe=q(de)||xe(f,Nt=>H_(C,de,Nt)),We=de.parentNode;if(!qe&&Ce(We)&&NC(g)&&q(We),g.deep&&ke.length)for(let Nt=0;Nt<ke.length;Nt++)X(ke[Nt]);ge(["underline","line-through","overline"],Nt=>{yn(de)&&e.dom.getStyle(de,"text-decoration")===Nt&&de.parentNode&&pE(C,de.parentNode)===Nt&&wp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Nt}},void 0,de)})},ue=de=>{const ke=C.get(de?"_start":"_end");if(ke){let Fe=ke[de?"firstChild":"lastChild"];return j(Fe)&&(Fe=Fe[de?"firstChild":"lastChild"]),Mt(Fe)&&Fe.data.length===0&&(Fe=de?ke.previousSibling||ke.nextSibling:ke.nextSibling||ke.previousSibling),C.remove(ke,!0),Fe}else return null},we=de=>{let ke,Fe,qe=tp(C,de,f,de.collapsed);if(g.split){if(qe=n2(qe),ke=T2(e,qe,!0),Fe=T2(e,qe),ke!==Fe){if(ke=m3(ke,!0),Fe=m3(Fe,!1),v0(C,ke,Fe)){const st=J.from(ke.firstChild).getOr(ke);F(K_(C,st,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ue(!0);return}if(v0(C,Fe,ke)){const st=J.from(Fe.lastChild).getOr(Fe);F(K_(C,st,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ue(!1);return}ke=j_(C,ke,"span",{id:"_start","data-mce-type":"bookmark"}),Fe=j_(C,Fe,"span",{id:"_end","data-mce-type":"bookmark"});const We=C.createRng();We.setStartAfter(ke),We.setEndBefore(Fe),Wx(C,We,st=>{ge(st,Nt=>{!ou(Nt)&&!ou(Nt.parentNode)&&F(Nt)})}),F(ke),F(Fe),ke=ue(!0),Fe=ue()}else ke=Fe=F(ke);qe.startContainer=ke.parentNode?ke.parentNode:ke,qe.startOffset=C.nodeIndex(ke),qe.endContainer=Fe.parentNode?Fe.parentNode:Fe,qe.endOffset=C.nodeIndex(Fe)+1}Wx(C,qe,We=>{ge(We,X)})};if(s){if(sv(s)){const de=C.createRng();de.setStartBefore(s),de.setEndAfter(s),we(de)}else we(s);z5(e,t,s,n);return}!A.isCollapsed()||!Xa(g)||_f(e).length?(mE(e,()=>rv(e,we),de=>Xa(g)&&pp(e,t,n,de)),e.nodeChanged()):QA(e,t,n,l),h3(e,t,n),z5(e,t,s,n)},xp=(e,t,n,s,l)=>{(s||e.selection.isEditable())&&sh(e,t,n,s,l)},wp=(e,t,n,s,l)=>p3(e,t,n,s,l).fold(xn,f=>(e.dom.rename(s,f),!0),Rn),q_=Kt.each,v3=(e,t,n,s)=>{const l=f=>{if(Wc(f)&&yn(f.parentNode)&&e.isEditable(f)){const g=pE(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Kt.walk(s,l,"childNodes"),l(s))},QR=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const l=d3(e,"fontSize");A2(s,f=>l(f)&&e.isEditable(f),au(e,"backgroundColor",qg(t.styles.backgroundColor,n)))}},Y7=(e,t,n,s)=>{if(Xa(t)&&(t.inline==="sub"||t.inline==="sup")){const l=d3(e,"fontSize");A2(s,g=>l(g)&&e.isEditable(g),au(e,"fontSize",""));const f=Ct(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(f,!0)}},eN=(e,t,n,s)=>{q_(t,l=>{Xa(l)&&q_(e.dom.select(l.inline,s),f=>{$_(f)&&wp(e,l,n,f,l.exact?f:null)}),qR(e.dom,l,s)})},tN=(e,t,n,s,l)=>{const f=l.parentNode;$m(e,f,n,s)&&wp(e,t,s,l)||t.merge_with_parents&&f&&e.dom.getParent(f,g=>$m(e,g,n,s)?(wp(e,t,s,l),!0):!1)},D2=Kt.each,nN=(e,t,n,s)=>{if(UM(e)&&Xa(t)&&n.parentNode){const l=x1(e.schema),f=eb(Be.fromDom(n),g=>nu(g.dom));return El(l,s)&&Fl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},oN=(e,t,n,s)=>{if(D2(n.styles,(l,f)=>{e.setStyle(t,f,qg(l,s))}),n.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},X7=(e,t,n,s)=>{const l=e.formatter.get(t),f=l[0],g=!s&&e.selection.isCollapsed(),C=e.dom,A=e.selection,F=(we,de=f)=>{Ne(de.onformat)&&de.onformat(we,de,n,s),oN(C,we,de,n),D2(de.attributes,(ke,Fe)=>{C.setAttrib(we,Fe,qg(ke,n))}),D2(de.classes,ke=>{const Fe=qg(ke,n);C.hasClass(we,Fe)||C.addClass(we,Fe)})},j=(we,de)=>{let ke=!1;return D2(we,Fe=>xc(Fe)?C.getContentEditable(de)==="false"&&!Fe.ceFalseOverride||Ce(Fe.collapsed)&&Fe.collapsed!==g?!0:C.is(de,Fe.selector)&&!nu(de)?(F(de,Fe),ke=!0,!1):!0:!1),ke},q=we=>{if(Te(we)){const de=C.create(we);return F(de),de}else return null},X=(we,de,ke)=>{const Fe=[];let qe=!0;const We=f.inline||f.block,st=q(We),Nt=wt=>T5(f)&&$m(e,wt,t,n),jt=(wt,dt,Dt)=>{const pn=O5(f)&&OC(e.schema,wt)&&Qh(e,dt,We);return Dt&&pn},un=(wt,dt,Dt,pn)=>{const Nn=wt.nodeName.toLowerCase(),yo=Qh(e,We,Nn)&&Qh(e,dt,We),To=!ke&&Mt(wt)&&bc(wt.data),mr=nu(wt),Or=!Xa(f)||!we.isBlock(wt);return(Dt||pn)&&yo&&!To&&!mr&&Or};Wx(we,de,wt=>{let dt;const Dt=pn=>{let Nn=!1,yo=qe,To=!1;const mr=pn.parentNode,Or=mr.nodeName.toLowerCase(),Gs=we.getContentEditable(pn);Ce(Gs)&&(yo=qe,qe=Gs==="true",Nn=!0,To=hE(e,pn));const fl=qe&&!Nn;if(ns(pn)&&!nN(e,f,pn,Or)){dt=null,Sf(f)&&we.remove(pn);return}if(Nt(pn)){dt=null;return}if(jt(pn,Or,fl)){const Mr=we.rename(pn,We);F(Mr),Fe.push(Mr),dt=null;return}if(xc(f)){let Mr=j(l,pn);if(!Mr&&Ce(mr)&&NC(f)&&(Mr=j(l,mr)),!Xa(f)||Mr){dt=null;return}}Ce(st)&&un(pn,Or,fl,To)?(dt||(dt=we.clone(st,!1),mr.insertBefore(dt,pn),Fe.push(dt)),To&&Nn&&(qe=yo),dt.appendChild(pn)):(dt=null,ge(io(pn.childNodes),Dt),Nn&&(qe=yo),dt=null)};ge(wt,Dt)}),f.links===!0&&ge(Fe,wt=>{const dt=Dt=>{Dt.nodeName==="A"&&F(Dt,f),ge(io(Dt.childNodes),dt)};dt(wt)}),ge(Fe,wt=>{const dt=Nn=>{let yo=0;return ge(Nn.childNodes,To=>{!bP(To)&&!ou(To)&&yo++}),yo},Dt=Nn=>wn(Nn.childNodes,TC).filter(To=>we.getContentEditable(To)!=="false"&&H_(we,To,f)).map(To=>{const mr=we.clone(To,!1);return F(mr),we.replace(mr,Nn,!0),we.remove(To,!0),mr}).getOr(Nn),pn=dt(wt);if((Fe.length>1||!we.isBlock(wt))&&pn===0){we.remove(wt,!0);return}(Xa(f)||Sf(f)&&f.wrapper)&&(!f.exact&&pn===1&&(wt=Dt(wt)),eN(e,l,n,wt),tN(e,f,t,n,wt),QR(we,f,n,wt),v3(we,f,n,wt),Y7(we,f,n,wt),U_(e,f,n,wt))})},ue=sv(s)?s:A.getNode();if(C.getContentEditable(ue)==="false"&&!hE(e,ue)){s=ue,j(l,s),F5(e,t,s,n);return}if(f){if(s)if(sv(s)){if(!j(l,s)){const we=C.createRng();we.setStartBefore(s),we.setEndAfter(s),X(C,tp(C,we,l),!0)}}else X(C,s,!0);else!g||!Xa(f)||_f(e).length?(A.setRng(O_(A.getRng())),mE(e,()=>{rv(e,(we,de)=>{const ke=de?we:tp(C,we,l);X(C,ke,!1)})},Rn),e.nodeChanged()):rh(e,t,n),_v(e.formatter,t).each(we=>{ge(KR(e.selection),de=>oN(C,de,we,n))});WR(t,e)}F5(e,t,s,n)},rN=(e,t,n,s)=>{(s||e.selection.isEditable())&&X7(e,t,n,s)},Rl=e=>Gn(e,"vars"),sN=(e,t)=>{e.set({}),t.on("NodeChange",n=>{x3(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=J.from(n.node).map(l=>sv(l)?l:l.startContainer).bind(l=>yn(l)?J.some(l):J.from(l.parentElement)).getOrThunk(()=>Sv(t));x3(t,s,e.get())})},Sv=e=>e.selection.getStart(),aN=(e,t,n,s,l)=>on(t,C=>{const A=e.formatter.matchNode(C,n,l??{},s);return!Ze(A)},C=>ZA(e,C,n)?!0:s?!1:Ce(e.formatter.matchNode(C,n,l,!0))),y3=(e,t)=>{const n=t??Sv(e);return Ct(Hx(e.dom,n),s=>yn(s)&&!ef(s))},x3=(e,t,n)=>{const s=y3(e,t);Uo(n,(l,f)=>{const g=C=>{const A=aN(e,s,f,C.similar,Rl(C)?C.vars:void 0),F=A.isSome();if(C.state.get()!==F){C.state.set(F);const j=A.getOr(t);Rl(C)?C.callback(F,{node:j,format:f,parents:s}):ge(C.callbacks,q=>q(F,{node:j,format:f,parents:s}))}};ge([l.withSimilar,l.withoutSimilar],g),ge(l.withVars,g)})},w3=(e,t,n,s,l,f)=>{const g=t.get();ge(n.split(","),C=>{const A=dr(g,C).getOrThunk(()=>{const j={withSimilar:{state:fa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fa(!1),similar:!1,callbacks:[]},withVars:[]};return g[C]=j,j}),F=()=>{const j=y3(e);return aN(e,j,C,l,f).isSome()};if(Ze(f)){const j=l?A.withSimilar:A.withoutSimilar;j.callbacks.push(s),j.callbacks.length===1&&j.state.set(F())}else A.withVars.push({state:fa(F()),similar:l,vars:f,callback:s})}),t.set(g)},iN=(e,t,n)=>{const s=e.get();ge(t.split(","),l=>dr(s,l).each(f=>{s[l]={withSimilar:{...f.withSimilar,callbacks:Ct(f.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...f.withoutSimilar,callbacks:Ct(f.withoutSimilar.callbacks,g=>g!==n)},withVars:Ct(f.withVars,g=>g.callback!==n)}})),e.set(s)},J7=(e,t,n,s,l,f)=>(w3(e,t,n,s,l,f),{unbind:()=>iN(t,n,s)}),Q7=(e,t,n,s)=>{const l=e.formatter.get(t);l&&(pp(e,t,n,s)&&(!("toggle"in l[0])||l[0].toggle)?xp(e,t,n,s):rN(e,t,n,s))},lN=Kt.explode,G_=()=>{const e={};return{addFilter:(l,f)=>{ge(lN(l),g=>{Gn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(f)})},getFilters:()=>fu(e),removeFilter:(l,f)=>{ge(lN(l),g=>{if(Gn(e,g))if(Ce(f)){const C=e[g],A=Ct(C.callbacks,F=>F!==f);A.length>0?C.callbacks=A:delete e[g]}else delete e[g]})}}},eL=(e,t)=>{ge(t,n=>{e.attr(n,null)})},tL=(e,t,n)=>{e.addNodeFilter("font",s=>{ge(s,l=>{const f=t.parse(l.attr("style")),g=l.attr("color"),C=l.attr("face"),A=l.attr("size");g&&(f.color=g),C&&(f["font-family"]=C),A&&nn(A).each(F=>{f["font-size"]=n[F-1]}),l.name="span",l.attr("style",t.serialize(f)),eL(l,["color","face","size"])})})},cN=(e,t,n)=>{e.addNodeFilter("strike",s=>{const l=t.type!=="html4";ge(s,f=>{if(l)f.name="s";else{const g=n.parse(f.attr("style"));g["text-decoration"]="line-through",f.name="span",f.attr("style",n.serialize(g))}})})},nL=(e,t,n)=>{var s;const l=qy();t.convert_fonts_to_spans&&tL(e,l,Kt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),cN(e,n,l)},oL=(e,t,n)=>{t.inline_styles&&nL(e,t,n)},C3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Y_=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},X_=e=>{const[t,...n]=e.split(","),s=n.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const f=l[2]===";base64",g=f?Y_(s):decodeURIComponent(s);return J.some({type:l[1],data:g,base64Encoded:f})}else return J.none()},_3=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return J.none()}const l=new Uint8Array(s.length);for(let f=0;f<l.length;f++)l[f]=s.charCodeAt(f);return J.some(new Blob([l],{type:e}))},S3=e=>new Promise((t,n)=>{X_(e).bind(({type:s,data:l,base64Encoded:f})=>_3(s,l,f)).fold(()=>n("Invalid data URI"),t)}),rL=e=>qr(e,"blob:")?C3(e):qr(e,"data:")?S3(e):Promise.reject("Unknown URI format"),uN=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var l;n((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(e)});let sL=0;const y0=e=>"blobid"+sL++,dN=(e,t,n)=>X_(e).bind(({data:s,type:l,base64Encoded:f})=>{if(t&&!f)return J.none();{const g=f?s:btoa(s);return n(g,l)}}),R2=(e,t,n)=>{const s=e.create(y0(),t,n);return e.add(s),s},fN=(e,t,n=!1)=>dN(t,n,(s,l)=>J.from(e.getByData(s,l)).orThunk(()=>_3(l,s).map(f=>R2(e,f,s)))),k3=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(qr(t,"blob:")){const s=e.getByUri(t);return Ce(s)?Promise.resolve(s):rL(t).then(l=>uN(l).then(f=>dN(f,!1,g=>J.some(R2(e,l,g))).getOrThunk(n)))}else return qr(t,"data:")?fN(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},mN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,gN=e=>J.from(e.match(mN)).bind(t=>bi(t,1)).map(t=>qr(t,"www.")?t.substring(4):t),E3=(e,t)=>{J.from(e.attr("src")).bind(gN).forall(n=>!le(t,n))&&e.attr("sandbox","")},kv=(e,t)=>qr(e,`${t}/`),aL=e=>Ze(e)?"iframe":kv(e,"image")?"img":kv(e,"video")?"video":kv(e,"audio")?"audio":"iframe",iL=({type:e,src:t,width:n,height:s}={},l,f)=>{const g=aL(e),C=new fi(g,1);return C.attr(g==="audio"?{src:t}:{src:t,width:n,height:s}),(g==="audio"||g==="video")&&C.attr("controls",""),g==="iframe"&&l&&E3(C,f),C},A3=e=>Ce(e.attr("data-mce-bogus")),hN=e=>e.attr("src")===Co.transparentSrc||Ce(e.attr("data-mce-placeholder")),lL=(e,t)=>{const{blob_cache:n}=t;if(n){const s=l=>{const f=l.attr("src");hN(l)||A3(l)||rt(f)||fN(n,f,!0).each(g=>{l.attr("src",g.blobUri())})};e.addAttributeFilter("src",l=>ge(l,s))}},cL=(e,t)=>{var n,s;const l=e.schema;e.addAttributeFilter("href",A=>{let F=A.length;const j=X=>X.split(" ").filter(we=>we.length>0).concat(["noopener"]).sort().join(" "),q=X=>{const ue=X?Kt.trim(X):"";return/\b(noopener)\b/g.test(ue)?ue:j(ue)};if(!t.allow_unsafe_link_target)for(;F--;){const X=A[F];X.name==="a"&&X.attr("target")==="_blank"&&X.attr("rel",q(X.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let F=A.length,j,q,X,ue;for(;F--;)if(ue=A[F],ue.name==="a"&&ue.firstChild&&!ue.attr("href"))for(X=ue.parent,j=ue.lastChild;j&&X;)q=j.prev,X.insert(j,ue),j=q}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let F=A.length,j,q;for(;F--;)if(j=A[F],q=j.parent,q&&(q.name==="ul"||q.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const X=new fi("li",1);X.attr("style","list-style-type: none"),j.wrap(X)}});const f=l.getValidClasses();t.validate&&f&&e.addAttributeFilter("class",A=>{var F;let j=A.length;for(;j--;){const q=A[j],X=(F=q.attr("class"))!==null&&F!==void 0?F:"",ue=Kt.explode(X," ");let we="";for(let de=0;de<ue.length;de++){const ke=ue[de];let Fe=!1,qe=f["*"];qe&&qe[ke]&&(Fe=!0),qe=f[q.name],!Fe&&qe&&qe[ke]&&(Fe=!0),Fe&&(we&&(we+=" "),we+=ke)}we.length||(we=null),q.attr("class",we)}}),lL(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,C=Pa((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>ge(A,F=>{F.replace(iL({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},g,C))})),g&&e.addNodeFilter("iframe",A=>ge(A,F=>E3(F,C)))},{entries:pN,setPrototypeOf:bN,isFrozen:T3,getPrototypeOf:vN,getOwnPropertyDescriptor:uL}=Object;let{freeze:kc,seal:rs,create:dL}=Object,{apply:O3,construct:J_}=typeof Reflect<"u"&&Reflect;O3||(O3=function(t,n,s){return t.apply(n,s)}),kc||(kc=function(t){return t}),rs||(rs=function(t){return t}),J_||(J_=function(t,n){return new t(...n)});const D3=Zl(Array.prototype.forEach),yN=Zl(Array.prototype.pop),kd=Zl(Array.prototype.push),Ev=Zl(String.prototype.toLowerCase),Q_=Zl(String.prototype.toString),R3=Zl(String.prototype.match),$u=Zl(String.prototype.replace),N3=Zl(String.prototype.indexOf),xN=Zl(String.prototype.trim),Wl=Zl(RegExp.prototype.test),Cp=N2(TypeError);function Zl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return O3(e,t,s)}}function N2(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return J_(e,n)}}function $o(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:Ev,bN&&bN(e,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){const g=n(f);g!==f&&(T3(t)||(t[l]=g),f=g)}e[f]=!0}return e}function Wm(e){const t=dL(null);for(const[n,s]of pN(e))t[n]=s;return t}function I2(e,t){for(;e!==null;){const s=uL(e,t);if(s){if(s.get)return Zl(s.get);if(typeof s.value=="function")return Zl(s.value)}e=vN(e)}function n(s){return console.warn("fallback value for",s),null}return n}const I3=kc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B3=kc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),eS=kc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fL=kc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M3=kc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B2=kc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wN=kc(["#text"]),CN=kc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P3=kc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_N=kc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tS=kc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mL=rs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gL=rs(/<%[\w\W]*|[\w\W]*%>/gm),hL=rs(/\${[\w\W]*}/gm),pL=rs(/^data-[\-\w.\u00B7-\uFFFF]/),bL=rs(/^aria-[\-\w]+$/),SN=rs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kN=rs(/^(?:\w+script|data):/i),EN=rs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),L3=rs(/^html$/i);var F3=Object.freeze({__proto__:null,MUSTACHE_EXPR:mL,ERB_EXPR:gL,TMPLIT_EXPR:hL,DATA_ATTR:pL,ARIA_ATTR:bL,IS_ALLOWED_URI:SN,IS_SCRIPT_OR_DATA:kN,ATTR_WHITESPACE:EN,DOCTYPE_NAME:L3});const AN=()=>typeof window>"u"?null:window,TN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(s=n.getAttribute(l));const f="dompurify"+(s?"#"+s:"");try{return t.createPolicy(f,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function z3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AN();const t=Ro=>z3(Ro);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:l}=e;const{DocumentFragment:f,HTMLTemplateElement:g,Node:C,Element:A,NodeFilter:F,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:q,DOMParser:X,trustedTypes:ue}=e,we=A.prototype,de=I2(we,"cloneNode"),ke=I2(we,"nextSibling"),Fe=I2(we,"childNodes"),qe=I2(we,"parentNode");if(typeof g=="function"){const Ro=l.createElement("template");Ro.content&&Ro.content.ownerDocument&&(l=Ro.content.ownerDocument)}let We,st="";const{implementation:Nt,createNodeIterator:jt,createDocumentFragment:un,getElementsByTagName:wt}=l,{importNode:dt}=n;let Dt={};t.isSupported=typeof pN=="function"&&typeof qe=="function"&&Nt&&Nt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pn,ERB_EXPR:Nn,TMPLIT_EXPR:yo,DATA_ATTR:To,ARIA_ATTR:mr,IS_SCRIPT_OR_DATA:Or,ATTR_WHITESPACE:Gs}=F3;let{IS_ALLOWED_URI:fl}=F3,Mr=null;const Xt=$o({},[...I3,...B3,...eS,...M3,...wN]);let Tn=null;const Qo=$o({},[...CN,...P3,..._N,...tS]);let tn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hn=null,ko=null,an=!0,xo=!0,Do=!1,mi=!0,Er=!1,ei=!1,Nf=!1,hh=!1,ql=!1,ju=!1,If=!1,Ku=!0,Bf=!1;const Mn="user-content-";let jo=!0,Ls=!1,ta={},Da=null;const ji=$o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let va=null;const ya=$o({},["audio","video","img","source","image","track"]);let Gl=null;const Jm=$o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qm="http://www.w3.org/1998/Math/MathML",eg="http://www.w3.org/2000/svg",Mf="http://www.w3.org/1999/xhtml";let jv=Mf,$S=!1,US=null;const U9=$o({},[Qm,eg,Mf],Q_);let B0;const s8=["application/xhtml+xml","text/html"],sZ="text/html";let Il,gw=null;const aZ=l.createElement("form"),W9=function(ht){return ht instanceof RegExp||ht instanceof Function},Rp=function(ht){if(!(gw&&gw===ht)){if((!ht||typeof ht!="object")&&(ht={}),ht=Wm(ht),B0=s8.indexOf(ht.PARSER_MEDIA_TYPE)===-1?B0=sZ:B0=ht.PARSER_MEDIA_TYPE,Il=B0==="application/xhtml+xml"?Q_:Ev,Mr="ALLOWED_TAGS"in ht?$o({},ht.ALLOWED_TAGS,Il):Xt,Tn="ALLOWED_ATTR"in ht?$o({},ht.ALLOWED_ATTR,Il):Qo,US="ALLOWED_NAMESPACES"in ht?$o({},ht.ALLOWED_NAMESPACES,Q_):U9,Gl="ADD_URI_SAFE_ATTR"in ht?$o(Wm(Jm),ht.ADD_URI_SAFE_ATTR,Il):Jm,va="ADD_DATA_URI_TAGS"in ht?$o(Wm(ya),ht.ADD_DATA_URI_TAGS,Il):ya,Da="FORBID_CONTENTS"in ht?$o({},ht.FORBID_CONTENTS,Il):ji,Hn="FORBID_TAGS"in ht?$o({},ht.FORBID_TAGS,Il):{},ko="FORBID_ATTR"in ht?$o({},ht.FORBID_ATTR,Il):{},ta="USE_PROFILES"in ht?ht.USE_PROFILES:!1,an=ht.ALLOW_ARIA_ATTR!==!1,xo=ht.ALLOW_DATA_ATTR!==!1,Do=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,mi=ht.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Er=ht.SAFE_FOR_TEMPLATES||!1,ei=ht.WHOLE_DOCUMENT||!1,ql=ht.RETURN_DOM||!1,ju=ht.RETURN_DOM_FRAGMENT||!1,If=ht.RETURN_TRUSTED_TYPE||!1,hh=ht.FORCE_BODY||!1,Ku=ht.SANITIZE_DOM!==!1,Bf=ht.SANITIZE_NAMED_PROPS||!1,jo=ht.KEEP_CONTENT!==!1,Ls=ht.IN_PLACE||!1,fl=ht.ALLOWED_URI_REGEXP||SN,jv=ht.NAMESPACE||Mf,tn=ht.CUSTOM_ELEMENT_HANDLING||{},ht.CUSTOM_ELEMENT_HANDLING&&W9(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tn.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&W9(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tn.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(tn.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Er&&(xo=!1),ju&&(ql=!0),ta&&(Mr=$o({},[...wN]),Tn=[],ta.html===!0&&($o(Mr,I3),$o(Tn,CN)),ta.svg===!0&&($o(Mr,B3),$o(Tn,P3),$o(Tn,tS)),ta.svgFilters===!0&&($o(Mr,eS),$o(Tn,P3),$o(Tn,tS)),ta.mathMl===!0&&($o(Mr,M3),$o(Tn,_N),$o(Tn,tS))),ht.ADD_TAGS&&(Mr===Xt&&(Mr=Wm(Mr)),$o(Mr,ht.ADD_TAGS,Il)),ht.ADD_ATTR&&(Tn===Qo&&(Tn=Wm(Tn)),$o(Tn,ht.ADD_ATTR,Il)),ht.ADD_URI_SAFE_ATTR&&$o(Gl,ht.ADD_URI_SAFE_ATTR,Il),ht.FORBID_CONTENTS&&(Da===ji&&(Da=Wm(Da)),$o(Da,ht.FORBID_CONTENTS,Il)),jo&&(Mr["#text"]=!0),ei&&$o(Mr,["html","head","body"]),Mr.table&&($o(Mr,["tbody"]),delete Hn.tbody),ht.TRUSTED_TYPES_POLICY){if(typeof ht.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ht.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=ht.TRUSTED_TYPES_POLICY,st=We.createHTML("")}else We===void 0&&(We=TN(ue,s)),We!==null&&typeof st=="string"&&(st=We.createHTML(""));kc&&kc(ht),gw=ht}},PT=$o({},["mi","mo","mn","ms","mtext"]),ut=$o({},["foreignobject","desc","title","annotation-xml"]),ft=$o({},["title","style","font","a","script"]),Gt=$o({},B3);$o(Gt,eS),$o(Gt,fL);const Wt=$o({},M3);$o(Wt,B2);const Wn=function(ht){let kn=qe(ht);(!kn||!kn.tagName)&&(kn={namespaceURI:jv,tagName:"template"});const oo=Ev(ht.tagName),la=Ev(kn.tagName);return US[ht.namespaceURI]?ht.namespaceURI===eg?kn.namespaceURI===Mf?oo==="svg":kn.namespaceURI===Qm?oo==="svg"&&(la==="annotation-xml"||PT[la]):!!Gt[oo]:ht.namespaceURI===Qm?kn.namespaceURI===Mf?oo==="math":kn.namespaceURI===eg?oo==="math"&&ut[la]:!!Wt[oo]:ht.namespaceURI===Mf?kn.namespaceURI===eg&&!ut[la]||kn.namespaceURI===Qm&&!PT[la]?!1:!Wt[oo]&&(ft[oo]||!Gt[oo]):!!(B0==="application/xhtml+xml"&&US[ht.namespaceURI]):!1},Ho=function(ht){kd(t.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{ht.remove()}},Fs=function(ht,kn){try{kd(t.removed,{attribute:kn.getAttributeNode(ht),from:kn})}catch{kd(t.removed,{attribute:null,from:kn})}if(kn.removeAttribute(ht),ht==="is"&&!Tn[ht])if(ql||ju)try{Ho(kn)}catch{}else try{kn.setAttribute(ht,"")}catch{}},tg=function(ht){let kn,oo;if(hh)ht="<remove></remove>"+ht;else{const ng=R3(ht,/^[\r\n\t ]+/);oo=ng&&ng[0]}B0==="application/xhtml+xml"&&jv===Mf&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");const la=We?We.createHTML(ht):ht;if(jv===Mf)try{kn=new X().parseFromString(la,B0)}catch{}if(!kn||!kn.documentElement){kn=Nt.createDocument(jv,"template",null);try{kn.documentElement.innerHTML=$S?st:la}catch{}}const Yl=kn.body||kn.documentElement;return ht&&oo&&Yl.insertBefore(l.createTextNode(oo),Yl.childNodes[0]||null),jv===Mf?wt.call(kn,ei?"html":"body")[0]:ei?kn.documentElement:Yl},a8=function(ht){return jt.call(ht.ownerDocument||ht,ht,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},Gse=function(ht){return ht instanceof q&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof j)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function"||typeof ht.hasChildNodes!="function")},i8=function(ht){return typeof C=="object"?ht instanceof C:ht&&typeof ht=="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},M0=function(ht,kn,oo){Dt[ht]&&D3(Dt[ht],la=>{la.call(t,kn,oo,gw)})},iZ=function(ht){let kn;if(M0("beforeSanitizeElements",ht,null),Gse(ht))return Ho(ht),!0;const oo=Il(ht.nodeName);if(M0("uponSanitizeElement",ht,{tagName:oo,allowedTags:Mr}),ht.hasChildNodes()&&!i8(ht.firstElementChild)&&(!i8(ht.content)||!i8(ht.content.firstElementChild))&&Wl(/<[/\w]/g,ht.innerHTML)&&Wl(/<[/\w]/g,ht.textContent))return Ho(ht),!0;if(!Mr[oo]||Hn[oo]){if(!Hn[oo]&&cZ(oo)&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,oo)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(oo)))return!1;if(jo&&!Da[oo]){const la=qe(ht)||ht.parentNode,Yl=Fe(ht)||ht.childNodes;if(Yl&&la){const ng=Yl.length;for(let Ri=ng-1;Ri>=0;--Ri)la.insertBefore(de(Yl[Ri],!0),ke(ht))}}return Ho(ht),!0}return ht instanceof A&&!Wn(ht)||(oo==="noscript"||oo==="noembed"||oo==="noframes")&&Wl(/<\/no(script|embed|frames)/i,ht.innerHTML)?(Ho(ht),!0):(Er&&ht.nodeType===3&&(kn=ht.textContent,kn=$u(kn,pn," "),kn=$u(kn,Nn," "),kn=$u(kn,yo," "),ht.textContent!==kn&&(kd(t.removed,{element:ht.cloneNode()}),ht.textContent=kn)),M0("afterSanitizeElements",ht,null),!1)},lZ=function(ht,kn,oo){if(Ku&&(kn==="id"||kn==="name")&&(oo in l||oo in aZ))return!1;if(!(xo&&!ko[kn]&&Wl(To,kn))){if(!(an&&Wl(mr,kn))){if(!Tn[kn]||ko[kn]){if(!(cZ(ht)&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,ht)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(ht))&&(tn.attributeNameCheck instanceof RegExp&&Wl(tn.attributeNameCheck,kn)||tn.attributeNameCheck instanceof Function&&tn.attributeNameCheck(kn))||kn==="is"&&tn.allowCustomizedBuiltInElements&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,oo)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(oo))))return!1}else if(!Gl[kn]){if(!Wl(fl,$u(oo,Gs,""))){if(!((kn==="src"||kn==="xlink:href"||kn==="href")&&ht!=="script"&&N3(oo,"data:")===0&&va[ht])){if(!(Do&&!Wl(Or,$u(oo,Gs,"")))){if(oo)return!1}}}}}}return!0},cZ=function(ht){return ht.indexOf("-")>0},uZ=function(ht){let kn,oo,la,Yl;M0("beforeSanitizeAttributes",ht,null);const{attributes:ng}=ht;if(!ng)return;const Ri={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tn};for(Yl=ng.length;Yl--;){kn=ng[Yl];const{name:og,namespaceURI:Z9}=kn;oo=og==="value"?kn.value:xN(kn.value);const Xse=oo;if(la=Il(og),Ri.attrName=la,Ri.attrValue=oo,Ri.keepAttr=!0,Ri.forceKeepAttr=void 0,M0("uponSanitizeAttribute",ht,Ri),oo=Ri.attrValue,Ri.forceKeepAttr)continue;if(!Ri.keepAttr){Fs(og,ht);continue}if(!mi&&Wl(/\/>/i,oo)){Fs(og,ht);continue}Er&&(oo=$u(oo,pn," "),oo=$u(oo,Nn," "),oo=$u(oo,yo," "));const dZ=Il(ht.nodeName);if(!lZ(dZ,la,oo)){Fs(og,ht);continue}if(Bf&&(la==="id"||la==="name")&&(Fs(og,ht),oo=Mn+oo),We&&typeof ue=="object"&&typeof ue.getAttributeType=="function"&&!Z9)switch(ue.getAttributeType(dZ,la)){case"TrustedHTML":{oo=We.createHTML(oo);break}case"TrustedScriptURL":{oo=We.createScriptURL(oo);break}}if(oo!==Xse)try{Z9?ht.setAttributeNS(Z9,og,oo):ht.setAttribute(og,oo)}catch{Fs(og,ht)}}M0("afterSanitizeAttributes",ht,null)},Yse=function Ro(ht){let kn;const oo=a8(ht);for(M0("beforeSanitizeShadowDOM",ht,null);kn=oo.nextNode();)M0("uponSanitizeShadowNode",kn,null),!iZ(kn)&&(kn.content instanceof f&&Ro(kn.content),uZ(kn));M0("afterSanitizeShadowDOM",ht,null)};return t.sanitize=function(Ro){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kn,oo,la,Yl;if($S=!Ro,$S&&(Ro="<!-->"),typeof Ro!="string"&&!i8(Ro))if(typeof Ro.toString=="function"){if(Ro=Ro.toString(),typeof Ro!="string")throw Cp("dirty is not a string, aborting")}else throw Cp("toString is not a function");if(!t.isSupported)return Ro;if(Nf||Rp(ht),t.removed=[],typeof Ro=="string"&&(Ls=!1),Ls){if(Ro.nodeName){const og=Il(Ro.nodeName);if(!Mr[og]||Hn[og])throw Cp("root node is forbidden and cannot be sanitized in-place")}}else if(Ro instanceof C)kn=tg("<!---->"),oo=kn.ownerDocument.importNode(Ro,!0),oo.nodeType===1&&oo.nodeName==="BODY"||oo.nodeName==="HTML"?kn=oo:kn.appendChild(oo);else{if(!ql&&!Er&&!ei&&Ro.indexOf("<")===-1)return We&&If?We.createHTML(Ro):Ro;if(kn=tg(Ro),!kn)return ql?null:If?st:""}kn&&hh&&Ho(kn.firstChild);const ng=a8(Ls?Ro:kn);for(;la=ng.nextNode();)iZ(la)||(la.content instanceof f&&Yse(la.content),uZ(la));if(Ls)return Ro;if(ql){if(ju)for(Yl=un.call(kn.ownerDocument);kn.firstChild;)Yl.appendChild(kn.firstChild);else Yl=kn;return(Tn.shadowroot||Tn.shadowrootmode)&&(Yl=dt.call(n,Yl,!0)),Yl}let Ri=ei?kn.outerHTML:kn.innerHTML;return ei&&Mr["!doctype"]&&kn.ownerDocument&&kn.ownerDocument.doctype&&kn.ownerDocument.doctype.name&&Wl(L3,kn.ownerDocument.doctype.name)&&(Ri="<!DOCTYPE "+kn.ownerDocument.doctype.name+`>
`+Ri),Er&&(Ri=$u(Ri,pn," "),Ri=$u(Ri,Nn," "),Ri=$u(Ri,yo," ")),We&&If?We.createHTML(Ri):Ri},t.setConfig=function(Ro){Rp(Ro),Nf=!0},t.clearConfig=function(){gw=null,Nf=!1},t.isValidAttribute=function(Ro,ht,kn){gw||Rp({});const oo=Il(Ro),la=Il(ht);return lZ(oo,la,kn)},t.addHook=function(Ro,ht){typeof ht=="function"&&(Dt[Ro]=Dt[Ro]||[],kd(Dt[Ro],ht))},t.removeHook=function(Ro){if(Dt[Ro])return yN(Dt[Ro])},t.removeHooks=function(Ro){Dt[Ro]&&(Dt[Ro]=[])},t.removeAllHooks=function(){Dt={}},t}var H3=z3();const ON=Kt.each,DN=Kt.trim,vL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],yL={ftp:21,http:80,https:443,mailto:25},RN=["img","video"],NN=(e,t)=>Ce(e)?!e:Ce(t)?!le(RN,t):!0,xL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},V3=(e,t,n)=>{const s=xL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?NN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Uu{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(n=l[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const l=Tg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!V3(s,l,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=DN(t),this.settings=n;const s=n.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=s?s.path:new Uu(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+l.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&ON(vL,(C,A)=>{let F=g[A];F&&(F=F.replace(/\(mce_at\)/g,"@@")),l[C]=F}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),!l.port&&l.host==="mce_host"&&(l.port=s.port),(!l.host||l.host==="mce_host")&&(l.host=s.host),l.source=""),f&&(l.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Uu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),l=n.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let f=this.toRelPath(this.path,n.path);return n.query&&(f+="?"+n.query),n.anchor&&(f+="#"+n.anchor),f}toAbsolute(t,n){const s=new Uu(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?yL[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,l="",f,g;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(C.length>=A.length){for(f=0,g=C.length;f<g;f++)if(f>=A.length||C[f]!==A[f]){s=f+1;break}}if(C.length<A.length){for(f=0,g=A.length;f<g;f++)if(f>=C.length||C[f]!==A[f]){s=f+1;break}}if(s===1)return n;for(f=0,g=C.length-(s-1);f<g;f++)l+="../";for(f=s-1,g=A.length;f<g;f++)f!==s-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(t,n){let s=0;const l=/\/$/.test(n)?"/":"",f=t.split("/"),g=n.split("/"),C=[];ON(f,q=>{q&&C.push(q)});const A=[];for(let q=g.length-1;q>=0;q--)if(!(g[q].length===0||g[q]===".")){if(g[q]===".."){s++;continue}if(s>0){s--;continue}A.push(g[q])}const F=C.length-s;let j;return F<=0?j=Ao(A).join("/"):j=C.slice(0,F).join("/")+"/"+Ao(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const wL=Kt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),$3="data-mce-type";let IN=0;const BN=(e,t,n,s,l)=>{var f,g,C,A;const F=t.validate,j=n.getSpecialElements();e.nodeType===Wd&&!t.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const q=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Ce(l)&&(l.allowedTags[q]=!0);return}if(e.nodeType!==tl||q==="body")return;const X=Be.fromDom(e),ue=td(X,$3),we=ii(X,"data-mce-bogus");if(!ue&&Te(we)){we==="all"?fr(X):Si(X);return}const de=n.getElementRule(q);if(F&&!de){Gn(j,q)?fr(X):Si(X);return}else Ce(l)&&(l.allowedTags[q]=!0);if(F&&de&&!ue){if(ge((C=de.attributesForced)!==null&&C!==void 0?C:[],ke=>{na(X,ke.name,ke.value==="{$uid}"?`mce_${IN++}`:ke.value)}),ge((A=de.attributesDefault)!==null&&A!==void 0?A:[],ke=>{td(X,ke.name)||na(X,ke.name,ke.value==="{$uid}"?`mce_${IN++}`:ke.value)}),de.attributesRequired&&!xe(de.attributesRequired,ke=>td(X,ke))){Si(X);return}if(de.removeEmptyAttrs&&js(X)){Si(X);return}de.outputName&&de.outputName!==q&&sx(X,de.outputName)}},CL=(e,t,n,s,l)=>{const f=e.tagName.toLowerCase(),{attrName:g,attrValue:C}=l;l.keepAttr=M2(t,n,s,f,g,C),l.keepAttr?(l.allowedAttributes[g]=!0,W3(g,n)&&(l.attrValue=g),t.allow_svg_data_urls&&qr(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):U3(e,g)&&(l.forceKeepAttr=!0)},M2=(e,t,n,s,l,f)=>n!=="html"&&!fm(s)?!0:!(l in wL&&V3(e,f,s))&&(!e.validate||t.isValid(s,l)||qr(l,"data-")||qr(l,"aria-")),U3=(e,t)=>e.hasAttribute($3)&&(t==="id"||t==="class"||t==="style"),W3=(e,t)=>e in t.getBoolAttrs(),MN=(e,t,n,s)=>{const{attributes:l}=e;for(let f=l.length-1;f>=0;f--){const g=l[f],C=g.name,A=g.value;!M2(t,n,s,e.tagName.toLowerCase(),C,A)&&!U3(e,C)?e.removeAttribute(C):W3(C,n)&&e.setAttribute(C,C)}},_L=(e,t,n)=>{const s=H3();return s.addHook("uponSanitizeElement",(l,f)=>{BN(l,e,t,n.track(l),f)}),s.addHook("uponSanitizeAttribute",(l,f)=>{CL(l,e,t,n.current(),f)}),s},SL=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},PN=e=>{const t=Uw(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};H3().sanitize(e,s)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};H3().sanitize(e,n)}else throw new Error("Not a namespace element")},kL=(e,t)=>{const n=pk();if(e.sanitize){const s=_L(e,t,n);return{sanitizeHtmlElement:(f,g)=>{s.sanitize(f,SL(e,g)),s.removed=[],n.reset()},sanitizeNamespaceElement:PN}}else return{sanitizeHtmlElement:(f,g)=>{const C=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const F=n.track(A);BN(A,e,t,F),yn(A)&&MN(A,e,t,F)}n.reset()},sanitizeNamespaceElement:Pt}},nS=Kt.makeMap,Z3=Kt.extend,LN=(e,t,n,s)=>{const l=e.name,f=l in n&&l!=="title"&&l!=="textarea"&&l!=="noscript",g=t.childNodes;for(let C=0,A=g.length;C<A;C++){const F=g[C],j=new fi(F.nodeName.toLowerCase(),F.nodeType);if(yn(F)){const q=F.attributes;for(let X=0,ue=q.length;X<ue;X++){const we=q[X];j.attr(we.name,we.value)}fm(j.name)&&(s(F),j.value=F.innerHTML)}else Mt(F)?(j.value=F.data,f&&(j.raw=!0)):(go(F)||Oy(F)||tf(F))&&(j.value=F.data);fm(j.name)||LN(j,F,n,s),e.append(j)}},Ja=(e,t,n)=>{const s=[];for(let l=e,f=l;l;f=l,l=l.walk()){const g=l;ge(t,C=>C(g)),rt(g.parent)&&g!==e?l=f:s.push(g)}for(let l=s.length-1;l>=0;l--){const f=s[l];ge(n,g=>g(f))}},Zm=(e,t,n,s)=>{const l=n.validate,f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Z3(nS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=x1(t),F=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,X=qe=>{let We=qe.parent;for(;Ce(We);){if(We.name in g)return!0;We=We.parent}return!1},ue=qe=>{let We=qe;for(;Ce(We);){if(We.name in A)return wv(t,f,g,We);We=We.parent}return!1},we=qe=>qe.name in C||Ph(t,qe)||fm(qe.name)&&qe.parent===e,de=(qe,We)=>{const st=We?qe.prev:qe.next;return Ce(st)||rt(qe.parent)?!1:we(qe.parent)&&(qe.parent!==e||s.isRootContent===!0)};return[qe=>{var We;if(qe.type===3&&!X(qe)){let st=(We=qe.value)!==null&&We!==void 0?We:"";st=st.replace(F," "),(_R(qe.prev,we)||de(qe,!0))&&(st=st.replace(j,"")),st.length===0||st===" "&&qe.prev&&qe.prev.type===Wd&&qe.next&&qe.next.type===Wd?qe.remove():qe.value=st}},qe=>{var We;if(qe.type===1){const st=t.getElementRule(qe.name);if(l&&st){const Nt=wv(t,f,g,qe);st.paddInEmptyBlock&&Nt&&ue(qe)?A_(n,s,we,qe):st.removeEmpty&&Nt?we(qe)?qe.remove():qe.unwrap():st.paddEmpty&&(Nt||T_(qe))&&A_(n,s,we,qe)}}else if(qe.type===3&&!X(qe)){let st=(We=qe.value)!==null&&We!==void 0?We:"";(qe.next&&we(qe.next)||de(qe,!1))&&(st=st.replace(q,"")),st.length===0?qe.remove():qe.value=st}}]},EL=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},Av=(e={},t=mc())=>{const n=G_(),s=G_(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,g=kL(l,t),C=(We,st,Nt="html")=>{const jt=Nt==="xhtml"?"application/xhtml+xml":"text/html",un=Gn(t.getSpecialElements(),st.toLowerCase()),wt=un?`<${st}>${We}</${st}>`:We,dt=()=>Nt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${wt}</body></html>`:/^[\s]*<head/i.test(We)||/^[\s]*<html/i.test(We)||/^[\s]*<!DOCTYPE/i.test(We)?`<html>${wt}</html>`:`<body>${wt}</body>`,Dt=f.parseFromString(dt(),jt).body;return g.sanitizeHtmlElement(Dt,jt),un?Dt.firstChild:Dt},A=n.addFilter,F=n.getFilters,j=n.removeFilter,q=s.addFilter,X=s.getFilters,ue=s.removeFilter,we=(We,st)=>{_2(t,We)&&st.push(We)},de=(We,st)=>{const Nt=Te(st.attr($3)),jt=st.type===1&&!Gn(We,st.name)&&!Ph(t,st)&&!fm(st.name);return st.type===3||jt&&!Nt},ke=(We,st)=>{const Nt=Z3(nS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),jt=/^[ \t\r\n]+/,un=/[ \t\r\n]+$/;let wt=We.firstChild,dt=null;const Dt=pn=>{var Nn,yo;pn&&(wt=pn.firstChild,wt&&wt.type===3&&(wt.value=(Nn=wt.value)===null||Nn===void 0?void 0:Nn.replace(jt,"")),wt=pn.lastChild,wt&&wt.type===3&&(wt.value=(yo=wt.value)===null||yo===void 0?void 0:yo.replace(un,"")))};if(t.isValidChild(We.name,st.toLowerCase())){for(;wt;){const pn=wt.next;de(Nt,wt)?(dt||(dt=new fi(st,1),dt.attr(l.forced_root_block_attrs),We.insert(dt,wt)),dt.append(wt)):(Dt(dt),dt=null),wt=pn}Dt(dt)}},qe={schema:t,addAttributeFilter:q,getAttributeFilters:X,removeAttributeFilter:ue,addNodeFilter:A,getNodeFilters:F,removeNodeFilter:j,parse:(We,st={})=>{var Nt;const jt=l.validate,un=(Nt=st.context)!==null&&Nt!==void 0?Nt:l.root_name,wt=C(We,un,st.format);Is(t,wt);const dt=new fi(un,11);LN(dt,wt,t.getSpecialElements(),g.sanitizeNamespaceElement),wt.innerHTML="";const[Dt,pn]=Zm(dt,t,l,st),Nn=[],yo=jt?Gs=>we(Gs,Nn):Pt,To={nodes:{},attributes:{}},mr=Gs=>IA(F(),X(),Gs,To);if(Ja(dt,[Dt,mr],[pn,yo]),Nn.reverse(),jt&&Nn.length>0)if(st.context){const{pass:Gs,fail:fl}=$t(Nn,Mr=>Mr.parent===dt);su(fl,t,dt,mr),st.invalid=Gs.length>0}else su(Nn,t,dt,mr);const Or=EL(l,st);return Or&&(dt.name==="body"||st.isRootContent)&&ke(dt,Or),st.invalid||BA(To,st),dt}};return cL(qe,l),oL(qe,l,t),qe},AL=e=>p0(e)?Qg({validate:!1}).serialize(e):e,j3=(e,t,n)=>{const s=AL(e),l=t(s);if(l.isDefaultPrevented())return l;if(p0(e))if(l.content!==s){const f=Av({validate:!1,forced_root_block:!1,...n}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},x0=e=>({sanitize:LO(e),sandbox_iframes:qk(e),sandbox_iframes_exclusions:hC(e)}),FN=(e,t)=>{if(t.no_events)return $n.value(t);{const n=kf(e,t);return n.isDefaultPrevented()?$n.error(H5(e,{content:"",...n}).content):$n.value(n)}},Ed=(e,t,n)=>n.no_events?t:j3(t,l=>H5(e,{...n,content:l}),x0(e)).content,K3=(e,t)=>{if(t.no_events)return $n.value(t);{const n=j3(t.content,s=>SP(e,{...t,content:s}),x0(e));return n.isDefaultPrevented()?($l(e,n),$n.error(void 0)):$n.value(n)}},q3=(e,t,n)=>{n.no_events||$l(e,{...n,content:t})},oS=(e,t,n)=>({element:e,width:t,rows:n}),G3=(e,t)=>({element:e,cells:t}),TL=(e,t)=>({x:e,y:t}),rS=(e,t)=>Pc(e,t).bind(nn).getOr(1),jm=(e,t,n,s,l)=>{const f=rS(l,"rowspan"),g=rS(l,"colspan"),C=e.rows;for(let A=n;A<n+f;A++){C[A]||(C[A]=G3(wm(s),[]));for(let F=t;F<t+g;F++){const j=C[A].cells;j[F]=A===n&&F===t?l:Ms(l)}}},zN=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},HN=(e,t,n)=>{for(;zN(e,t,n);)t++;return t},P2=e=>It(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),sS=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const l=n[s].cells;for(let f=0;f<l.length;f++)if(Lo(l[f],t))return J.some(TL(f,s))}return J.none()},Y3=(e,t,n,s,l)=>{const f=[],g=e.rows;for(let C=n;C<=l;C++){const A=g[C].cells,F=t<s?A.slice(t,s+1):A.slice(s,t+1);f.push(G3(g[C].element,F))}return f},VN=(e,t,n)=>{const s=t.x,l=t.y,f=n.x,g=n.y,C=l<g?Y3(e,s,l,f,g):Y3(e,s,g,f,l);return oS(e.element,P2(C),C)},$N=(e,t)=>{const n=Ms(e.element),s=Be.fromTag("tbody");return Hs(s,t),Ds(n,s),n},OL=e=>Me(e.rows,t=>{const n=Me(t.cells,l=>{const f=wm(l);return bo(f,"colspan"),bo(f,"rowspan"),f}),s=Ms(t.element);return Hs(s,n),s}),DL=e=>{const t=oS(Ms(e),0,[]);return ge(Js(e,"tr"),(n,s)=>{ge(Js(n,"td,th"),(l,f)=>{jm(t,HN(t,f,s),s,n,l)})}),oS(t.element,P2(t.rows),t.rows)},RL=e=>$N(e,OL(e)),UN=(e,t,n)=>sS(e,t).bind(s=>sS(e,n).map(l=>VN(e,s,l))),WN=e=>wn(e,t=>Po(t)==="ul"||Po(t)==="ol"),NL=(e,t)=>wn(e,n=>Po(n)==="li"&&Lx(n,t)).fold(Qe([]),n=>WN(e).map(s=>{const l=Be.fromTag(Po(s)),f=ec(xg(s),(g,C)=>qr(C,"list-style"));return Io(l,f),[Be.fromTag("li"),l]}).getOr([])),X3=(e,t)=>{const n=It(t,(s,l)=>(Ds(l,s),l),e);return t.length>0?wc([n]):n},ZN=e=>_m(e)?Ua(e).filter(Ob).fold(Qe([]),t=>[e,t]):Ob(e)?[e]:[],IL=(e,t,n)=>{const s=Be.fromDom(t.commonAncestorContainer),l=_c(s,e),f=Ct(l,A=>n.isWrapper(Po(A))),g=NL(l,t),C=f.concat(g.length?g:ZN(s));return Me(C,Ms)},J3=()=>wc([]),BL=(e,t,n)=>X3(Be.fromDom(t.cloneContents()),IL(e,t,n)),ML=(e,t)=>Vc(t,"table",pt(Lo,e)),ul=(e,t)=>ML(e,t[0]).bind(n=>{const s=t[0],l=t[t.length-1],f=DL(n);return UN(f,s,l).map(g=>wc([RL(g)]))}).getOrThunk(J3),PL=(e,t,n)=>t.length>0&&t[0].collapsed?J3():BL(e,t[0],n),LL=(e,t,n)=>{const s=w5(t,e);return s.length>0?ul(e,s):PL(e,t,n)},aS=(e,t)=>t>=0&&t<e.length&&Jb(e.charAt(t)),jN=e=>il(e.innerText),iS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),FL=e=>J.from(e.selection.getRng()).map(t=>{var n;const s=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=iS(s),g=Be.fromDom(t.cloneContents());OD(g),DD(g);const C=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=jN(C),F=il((n=C.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(C),aS(F,0)||aS(F,F.length-1)){const j=s.getOr(l),q=jN(j),X=q.indexOf(A);if(X===-1)return A;{const ue=aS(q,X-1),we=aS(q,X+A.length);return(ue?" ":"")+A+(we?" ":"")}}else return A}).getOr(""),Q3=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),l=e.selection.getSel(),f=t_(e,os(l)),g=t.contextual?LL(Be.fromDom(e.getBody()),f,e.schema).dom:n.cloneContents();return g&&s.appendChild(g),e.selection.serializer.serialize(s,t)},e4=(e,t)=>{if(t.format==="text")return FL(e);{const n=Q3(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},zL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),HL=(e,t,n={})=>{const s=zL(n,t);return FN(e,s).fold(On,l=>{const f=e4(e,l);return Ed(e,f,l)})},Wu=0,t4=1,KN=2,n4=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),l=new Array(n),f=(j,q,X)=>({start:j,end:q,diag:X}),g=(j,q,X,ue,we)=>{const de=A(j,q,X,ue);if(de===null||de.start===q&&de.diag===q-ue||de.end===j&&de.diag===j-X){let ke=j,Fe=X;for(;ke<q||Fe<ue;)ke<q&&Fe<ue&&e[ke]===t[Fe]?(we.push([Wu,e[ke]]),++ke,++Fe):q-j>ue-X?(we.push([KN,e[ke]]),++ke):(we.push([t4,t[Fe]]),++Fe)}else{g(j,de.start,X,de.start-de.diag,we);for(let ke=de.start;ke<de.end;++ke)we.push([Wu,e[ke]]);g(de.end,q,de.end-de.diag,ue,we)}},C=(j,q,X,ue)=>{let we=j;for(;we-q<ue&&we<X&&e[we]===t[we-q];)++we;return f(j,we,q)},A=(j,q,X,ue)=>{const we=q-j,de=ue-X;if(we===0||de===0)return null;const ke=we-de,Fe=de+we,qe=(Fe%2===0?Fe:Fe+1)/2;s[1+qe]=j,l[1+qe]=q+1;let We,st,Nt,jt,un;for(We=0;We<=qe;++We){for(st=-We;st<=We;st+=2){for(Nt=st+qe,st===-We||st!==We&&s[Nt-1]<s[Nt+1]?s[Nt]=s[Nt+1]:s[Nt]=s[Nt-1]+1,jt=s[Nt],un=jt-j+X-st;jt<q&&un<ue&&e[jt]===t[un];)s[Nt]=++jt,++un;if(ke%2!==0&&ke-We<=st&&st<=ke+We&&l[Nt-ke]<=s[Nt])return C(l[Nt-ke],st+j-X,q,ue)}for(st=ke-We;st<=ke+We;st+=2){for(Nt=st+qe-ke,st===ke-We||st!==ke+We&&l[Nt+1]<=l[Nt-1]?l[Nt]=l[Nt+1]-1:l[Nt]=l[Nt-1],jt=l[Nt]-1,un=jt-j+X-st;jt>=j&&un>=X&&e[jt]===t[un];)l[Nt]=jt--,un--;if(ke%2===0&&-We<=st&&st<=We&&l[Nt]<=s[Nt+ke])return C(l[Nt],st+j-X,q,ue)}}return null},F=[];return g(0,e.length,0,t.length,F),F},o4=e=>yn(e)?e.outerHTML:Mt(e)?Tg.encodeRaw(e.data,!1):go(e)?"<!--"+e.data+"-->":"",lS=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},qN=(e,t,n)=>{const s=lS(t);if(e.hasChildNodes()&&n<e.childNodes.length){const l=e.childNodes[n];e.insertBefore(s,l)}else e.appendChild(s)},GN=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},YN=(e,t)=>{let n=0;ge(e,s=>{s[0]===Wu?n++:s[0]===t4?(qN(t,s[1],n),n++):s[0]===KN&&GN(t,n)})},VL=(e,t)=>Ct(Me(io(e.childNodes),ln(il,o4)),n=>n.length>0),$L=(e,t)=>{const n=Me(io(t.childNodes),o4);return YN(n4(n,e),t),t},r4=gl(()=>document.implementation.createHTMLDocument("undo")),UL=e=>e.querySelector("iframe")!==null,WL=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),cS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Tv=e=>{const t=e.serializer.getTempAttrs(),n=jE(e.getBody(),t);return UL(n)?WL(VL(n)):cS(il(n.innerHTML))},L2=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?$L(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ce(s)&&m5(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},uS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,ah=e=>{const t=Be.fromTag("body",r4());return im(t,uS(e)),ge(Js(t,"*[data-mce-bogus]"),Si),ad(t)},ZL=(e,t)=>uS(e)===uS(t),jL=(e,t)=>ah(e)===ah(t),Ov=(e,t)=>!e||!t?!1:ZL(e,t)?!0:jL(e,t),dS=e=>e.get()===0,F2=(e,t,n)=>{dS(n)&&(e.typing=t)},s4=(e,t)=>{e.typing&&(F2(e,!1,t),e.add())},KL=e=>{e.typing&&(e.typing=!1,e.add())},qL=(e,t,n)=>{dS(t)&&n.set(mn(e.selection))},a4=(e,t,n,s,l,f,g)=>{const C=Tv(e),A=Kt.extend(f||{},C);if(!dS(s)||e.removed)return null;const F=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:F,originalEvent:g}).isDefaultPrevented()||F&&Ov(F,A))return null;t.data[n.get()]&&l.get().each(X=>{t.data[n.get()].beforeBookmark=X});const j=DO(e);if(j&&t.data.length>j){for(let X=0;X<t.data.length-1;X++)t.data[X]=t.data[X+1];t.data.length--,n.set(t.data.length)}A.bookmark=mn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const q={level:A,lastLevel:F,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",q),e.dispatch("change",q)):e.dispatch("AddUndo",q),A},i4=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},l4=(e,t,n,s,l)=>{if(t.transact(s)){const f=t.data[n.get()].bookmark,g=t.data[n.get()-1];L2(e,g,!0),t.transact(l)&&(t.data[n.get()-1].beforeBookmark=f)}},XN=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],L2(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},fS=(e,t,n,s)=>{let l;return t.typing&&(t.add(),t.typing=!1,F2(t,!1,n)),s.get()>0&&(s.set(s.get()-1),l=t.data[s.get()],L2(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},JN=e=>{e.clear(),e.add()},QN=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Ov(Tv(e),t.data[0]),GL=(e,t)=>t.get()<e.data.length-1&&!e.typing,YL=(e,t,n)=>(s4(e,t),e.beforeChange(),e.ignore(n),e.add()),c4=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},e6=(e,t)=>{const n=e.dom,s=Ce(t)?t:e.getBody();ge(n.select("table,a",s),l=>{switch(l.nodeName){case"TABLE":const f=mC(e),g=n.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?n.addClass(l,f):n.removeClass(l,f);break;case"A":if(!n.getAttrib(l,"href")){const C=n.getAttrib(l,"name")||l.id,A=J1(e);C&&e.hasVisual?n.addClass(l,A):n.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},u4=e=>({init:{bindEvents:Pt},undoManager:{beforeChange:(t,n)=>qL(e,t,n),add:(t,n,s,l,f,g)=>a4(e,t,n,s,l,f,g),undo:(t,n,s)=>fS(e,t,n,s),redo:(t,n)=>XN(e,t,n),clear:(t,n)=>i4(e,t,n),reset:t=>JN(t),hasUndo:(t,n)=>QN(e,t,n),hasRedo:(t,n)=>GL(t,n),transact:(t,n,s)=>YL(t,n,s),ignore:(t,n)=>c4(t,n),extra:(t,n,s,l)=>l4(e,t,n,s,l)},formatter:{match:(t,n,s,l)=>pp(e,t,n,s,l),matchAll:(t,n)=>LR(e,t,n),matchNode:(t,n,s,l)=>$m(e,t,n,s,l),canApply:t=>zR(e,t),closest:t=>FR(e,t),apply:(t,n,s)=>rN(e,t,n,s),remove:(t,n,s,l)=>xp(e,t,n,s,l),toggle:(t,n,s)=>Q7(e,t,n,s),formatChanged:(t,n,s,l,f)=>J7(e,t,n,s,l,f)},editor:{getContent:t=>ID(e,t),setContent:(t,n)=>W7(e,t,n),insertContent:(t,n)=>L_(e,t,n),addVisual:t=>e6(e,t)},selection:{getContent:(t,n)=>HL(e,t,n)},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:()=>J.none()}}),XL=e=>{const t=F=>te(F)?F:{},{init:n,undoManager:s,formatter:l,editor:f,selection:g,autocompleter:C,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(F,j,q)=>s.transact(q),ignore:(F,j)=>s.ignore(j),extra:(F,j,q,X)=>s.extra(q,X)},formatter:{match:(F,j,q,X)=>l.match(F,t(j),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:F=>l.canApply(F),closest:F=>l.closest(F),apply:(F,j,q)=>l.apply(F,t(j)),remove:(F,j,q,X)=>l.remove(F,t(j)),toggle:(F,j,q)=>l.toggle(F,t(j)),formatChanged:(F,j,q,X,ue)=>l.formatChanged(j,q,X,ue)},editor:{getContent:F=>f.getContent(F),setContent:(F,j)=>({content:f.setContent(F,j),html:""}),insertContent:(F,j)=>(f.insertContent(F),""),addVisual:f.addVisual},selection:{getContent:(F,j)=>g.getContent(j)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},JL=()=>{const e=Qe(null),t=Qe("");return{init:{bindEvents:Pt},undoManager:{beforeChange:Pt,add:e,undo:e,redo:e,clear:Pt,reset:Pt,hasUndo:xn,hasRedo:xn,transact:e,ignore:Pt,extra:Pt},formatter:{match:xn,matchAll:Qe([]),matchNode:Qe(void 0),canApply:xn,closest:t,apply:Pt,remove:Pt,toggle:Pt,formatChanged:Qe({unbind:Pt})},editor:{getContent:t,setContent:Qe({content:"",html:""}),insertContent:Qe(""),addVisual:Pt},selection:{getContent:t},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:Qe(J.none())}}},Km=e=>Gn(e.plugins,"rtc"),t6=e=>dr(e.plugins,"rtc").bind(t=>J.from(t.setup)),n6=e=>{const t=e;return t6(e).fold(()=>(t.rtcInstance=u4(e),J.none()),n=>(t.rtcInstance=JL(),J.some(()=>n().then(s=>(t.rtcInstance=XL(s),s.rtc.isRemote)))))},d4=e=>e.rtcInstance?e.rtcInstance:u4(e),Qa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Dv=(e,t,n)=>{Qa(e).undoManager.beforeChange(t,n)},QL=(e,t,n,s,l,f,g)=>Qa(e).undoManager.add(t,n,s,l,f,g),eF=(e,t,n,s)=>Qa(e).undoManager.undo(t,n,s),o6=(e,t,n)=>Qa(e).undoManager.redo(t,n),r6=(e,t,n)=>{Qa(e).undoManager.clear(t,n)},mS=(e,t)=>{Qa(e).undoManager.reset(t)},tF=(e,t,n)=>Qa(e).undoManager.hasUndo(t,n),nF=(e,t,n)=>Qa(e).undoManager.hasRedo(t,n),oF=(e,t,n,s)=>Qa(e).undoManager.transact(t,n,s),rF=(e,t,n)=>{Qa(e).undoManager.ignore(t,n)},sF=(e,t,n,s,l)=>{Qa(e).undoManager.extra(t,n,s,l)},aF=(e,t,n,s,l)=>Qa(e).formatter.match(t,n,s,l),iF=(e,t,n)=>Qa(e).formatter.matchAll(t,n),lF=(e,t,n,s,l)=>Qa(e).formatter.matchNode(t,n,s,l),cF=(e,t)=>Qa(e).formatter.canApply(t),uF=(e,t)=>Qa(e).formatter.closest(t),zr=(e,t,n,s)=>{Qa(e).formatter.apply(t,n,s)},s6=(e,t,n,s,l)=>{Qa(e).formatter.remove(t,n,s,l)},f4=(e,t,n,s)=>{Qa(e).formatter.toggle(t,n,s)},a6=(e,t,n,s,l,f)=>Qa(e).formatter.formatChanged(t,n,s,l,f),i6=(e,t)=>d4(e).editor.getContent(t),m4=(e,t,n)=>d4(e).editor.setContent(t,n),dF=(e,t,n)=>d4(e).editor.insertContent(t,n),fF=(e,t,n)=>Qa(e).selection.getContent(t,n),l6=(e,t)=>Qa(e).editor.addVisual(t),c6=e=>Qa(e).init.bindEvents(),mF=(e,t={})=>{const n=t.format?t.format:"html";return fF(e,n,t)},w0=e=>e.dom.length===0?(fr(e),J.none()):J.some(e),gF=(e,t)=>e.filter(n=>Rr.isBookmarkNode(n.dom)).bind(t?Pn:oa),Rv=(e,t,n,s,l)=>{const f=e.dom,g=t.dom,C=s?f.length:g.length;s?(p2(f,g,l,!1,!s),n.setStart(g,C)):(p2(g,f,l,!1,!s),n.setEnd(g,C))},z2=(e,t,n)=>{Ua(e).each(s=>{const l=e.dom;t&&bv(s,mt(l,0),n)?d_(l,0,n):!t&&f0(s,mt(l,l.length),n)&&_s(l,l.length,n)})},C0=(e,t,n,s,l)=>{e.bind(f=>((s?_s:d_)(f.dom,s?f.dom.length:0,l),t.filter(Gr).map(C=>Rv(f,C,n,s,l)))).orThunk(()=>gF(t,s).or(t).filter(Gr).map(g=>z2(g,s,l)))},g4=(e,t,n)=>{const s=J.from(t.firstChild).map(Be.fromDom),l=J.from(t.lastChild).map(Be.fromDom);e.deleteContents(),e.insertNode(t);const f=s.bind(oa).filter(Gr).bind(w0),g=l.bind(Pn).filter(Gr).bind(w0);C0(f,s,e,!0,n),C0(g,l,e,!1,n),e.collapse(!1)},u6=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),d6=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),l=s?{context:s.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return Qg({validate:!1},e.schema).serialize(f)}else return t.content},h4=(e,t,n={})=>{const s=u6(n,t);K3(e,s).each(l=>{const f=d6(e,l),g=e.selection.getRng();g4(g,g.createContextualFragment(f),e.schema),e.selection.setRng(g),Mu(e,g),q3(e,f,l)})},p4=(e,t,n)=>{if(Gn(e,t)){const s=Ct(e[t],l=>l!==n);s.length===0?delete e[t]:e[t]=s}};var f6=(e,t)=>{let n,s;const l=(C,A)=>wn(A,F=>e.is(F,C)),f=C=>e.getParents(C,void 0,e.getRoot()),g=()=>{n={},s={},t.on("NodeChange",C=>{const A=C.element,F=f(A),j={};Uo(n,(q,X)=>{l(X,F).each(ue=>{s[X]||(ge(q,we=>{we(!0,{node:ue,selector:X,parents:F})}),s[X]=q),j[X]=q})}),Uo(s,(q,X)=>{j[X]||(delete s[X],ge(q,ue=>{ue(!1,{node:A,selector:X,parents:F})}))})})};return{selectorChangedWithUnbind:(C,A)=>(n||g(),n[C]||(n[C]=[]),n[C].push(A),l(C,f(t.selection.getStart())).each(()=>{s[C]=n[C]}),{unbind:()=>{p4(n,C,A),p4(s,C,A)}})}};const b4=e=>!!(e&&e.ownerDocument)&&$a(Be.fromDom(e.ownerDocument),Be.fromDom(e)),v4=e=>e?b4(e.startContainer)&&b4(e.endContainer):!1,y4=(e,t,n,s)=>{let l,f;const{selectorChangedWithUnbind:g}=f6(e,s),C=(Xt,Tn)=>{const Qo=e.createRng();Ce(Xt)&&Ce(Tn)?(Qo.setStart(Xt,Tn),Qo.setEnd(Xt,Tn),st(Qo),Fe(!1)):(Fx(e,Qo,s.getBody(),!0),st(Qo))},A=Xt=>mF(s,Xt),F=(Xt,Tn)=>h4(s,Xt,Tn),j=Xt=>CD(s.getBody(),We(),Xt),q=Xt=>_D(s.getBody(),We(),Xt),X=(Xt,Tn)=>fl.getBookmark(Xt,Tn),ue=Xt=>fl.moveToBookmark(Xt),we=(Xt,Tn)=>(c2(e,Xt,Tn).each(st),Xt),de=()=>{const Xt=We(),Tn=qe();return!Xt||Xt.item?!1:Xt.compareEndPoints?Xt.compareEndPoints("StartToEnd",Xt)===0:!Tn||Xt.collapsed},ke=()=>{const Xt=We(),Tn=s.getBody().querySelectorAll('[data-mce-selected="1"]');return Tn.length>0?vo(Tn,Qo=>e.isEditable(Qo.parentElement)):xD(e,Xt)},Fe=Xt=>{const Tn=We();Tn.collapse(!!Xt),st(Tn)},qe=()=>t.getSelection?t.getSelection():t.document.selection,We=()=>{let Xt;const Tn=(tn,Hn,ko)=>{try{return Hn.compareBoundaryPoints(tn,ko)}catch{return-1}},Qo=t.document;if(Ce(s.bookmark)&&!uv(s)){const tn=zE(s);if(tn.isSome())return tn.map(Hn=>t_(s,[Hn])[0]).getOr(Qo.createRange())}try{const tn=qe();tn&&!Jd(tn.anchorNode)&&(tn.rangeCount>0?Xt=tn.getRangeAt(0):Xt=Qo.createRange(),Xt=t_(s,[Xt])[0])}catch{}if(Xt||(Xt=Qo.createRange()),Sn(Xt.startContainer)&&Xt.collapsed){const tn=e.getRoot();Xt.setStart(tn,0),Xt.setEnd(tn,0)}return l&&f&&(Tn(Xt.START_TO_START,Xt,l)===0&&Tn(Xt.END_TO_END,Xt,l)===0?Xt=f:(l=null,f=null)),Xt},st=(Xt,Tn)=>{if(!v4(Xt))return;const Qo=qe();if(Xt=s.dispatch("SetSelectionRange",{range:Xt,forward:Tn}).range,Qo){f=Xt;try{Qo.removeAllRanges(),Qo.addRange(Xt)}catch{}Tn===!1&&Qo.extend&&(Qo.collapse(Xt.endContainer,Xt.endOffset),Qo.extend(Xt.startContainer,Xt.startOffset)),l=Qo.rangeCount>0?Qo.getRangeAt(0):null}if(!Xt.collapsed&&Xt.startContainer===Xt.endContainer&&(Qo!=null&&Qo.setBaseAndExtent)&&Xt.endOffset-Xt.startOffset<2&&Xt.startContainer.hasChildNodes()){const Hn=Xt.startContainer.childNodes[Xt.startOffset];Hn&&Hn.nodeName==="IMG"&&(Qo.setBaseAndExtent(Xt.startContainer,Xt.startOffset,Xt.endContainer,Xt.endOffset),(Qo.anchorNode!==Xt.startContainer||Qo.focusNode!==Xt.endContainer)&&Qo.setBaseAndExtent(Hn,0,Hn,1))}s.dispatch("AfterSetSelectionRange",{range:Xt,forward:Tn})},Nt=Xt=>(F(e.getOuterHTML(Xt)),Xt),jt=()=>r7(s.getBody(),We()),un=(Xt,Tn)=>WE(e,We(),Xt,Tn),wt=()=>{const Xt=qe(),Tn=Xt==null?void 0:Xt.anchorNode,Qo=Xt==null?void 0:Xt.focusNode;if(!Xt||!Tn||!Qo||Jd(Tn)||Jd(Qo))return!0;const tn=e.createRng(),Hn=e.createRng();try{tn.setStart(Tn,Xt.anchorOffset),tn.collapse(!0),Hn.setStart(Qo,Xt.focusOffset),Hn.collapse(!0)}catch{return!0}return tn.compareBoundaryPoints(tn.START_TO_START,Hn)<=0},Gs={dom:e,win:t,serializer:n,editor:s,expand:(Xt={type:"word"})=>st(ap(e).expand(We(),Xt)),collapse:Fe,setCursorLocation:C,getContent:A,setContent:F,getBookmark:X,moveToBookmark:ue,select:we,isCollapsed:de,isEditable:ke,isForward:wt,setNode:Nt,getNode:jt,getSel:qe,setRng:st,getRng:We,getStart:j,getEnd:q,getSelectedBlocks:un,normalize:()=>{const Xt=We(),Tn=qe();if(!Bx(Tn)&&ov(s)){const Qo=Mm(e,Xt);return Qo.each(tn=>{st(tn,wt())}),Qo.getOr(Xt)}return Xt},selectorChanged:(Xt,Tn)=>(g(Xt,Tn),Gs),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Xt,Tn=e.getRoot();for(;Tn&&Tn.nodeName!=="BODY";){if(Tn.scrollHeight>Tn.clientHeight){Xt=Tn;break}Tn=Tn.parentNode}return Xt},scrollIntoView:(Xt,Tn)=>{Ce(Xt)?ME(s,Xt,Tn):Mu(s,We(),Tn)},placeCaretAt:(Xt,Tn)=>st(G5(Xt,Tn,s.getDoc())),getBoundingClientRect:()=>{const Xt=We();return Xt.collapsed?mt.fromRangeStart(Xt).getClientRects()[0]:Xt.getBoundingClientRect()},destroy:()=>{t=l=f=null,Mr.destroy()}},fl=Rr(Gs),Mr=kr(Gs,s);return Gs.bookmarkManager=fl,Gs.controlSelection=Mr,Gs},m6=(e,t,n)=>{t.addNodeFilter("br",(s,l,f)=>{const g=Kt.extend({},n.getBlockElements()),C=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const F=j=>j.name in g||Ph(n,j);for(let j=0,q=s.length;j<q;j++){let X=s[j],ue=X.parent;if(ue&&F(ue)&&X===ue.lastChild){let we=X.prev;for(;we;){const de=we.name;if(de!=="span"||we.attr("data-mce-type")!=="bookmark"){de==="br"&&(X=null);break}we=we.prev}if(X&&(X.remove(),wv(n,C,A,ue))){const de=n.getElementRule(ue.name);de&&(de.removeEmpty?ue.remove():de.paddEmpty&&A_(e,f,F,ue))}}else{let we=X;for(;ue&&ue.firstChild===we&&ue.lastChild===we&&(we=ue,!g[ue.name]);)ue=ue.parent;if(we===ue){const de=new fi("#text",3);de.value=da,X.replace(de)}}}})},x4=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",(s,l)=>{const f="data-mce-"+l,g=t.url_converter,C=t.url_converter_scope;let A=s.length;for(;A--;){const F=s[A];let j=F.attr(f);j!==void 0?(F.attr(l,j.length>0?j:null),F.attr(f,null)):(j=F.attr(l),l==="style"?j=n.serializeStyle(n.parseStyle(j),F.name):g&&(j=g.call(C,j,l,F.name)),F.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",s=>{let l=s.length;for(;l--;){const f=s[l];let g=f.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(s,l,f)=>{let g=s.length;for(;g--;){const C=s[g];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(J.from(C.firstChild).exists(F=>{var j;return!bc((j=F.value)!==null&&j!==void 0?j:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(s,l)=>{var f;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=s.length;for(;C--;){const A=s[C],F=A.firstChild,j=(f=F==null?void 0:F.value)!==null&&f!==void 0?f:"";if(l==="script"){const q=A.attr("type");q&&A.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`// <![CDATA[
`+g(j)+`
// ]]>`)}else t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`<!--
`+g(j)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let l=s.length;for(;l--;){const f=s[l],g=f.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{ge(s,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.remove_trailing_brs&&m6(t,e,e.schema)},hF=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},g6=(e,t,n)=>{let s;const l=e.dom;let f=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const C=g.createHTMLDocument("");Kt.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{C.body.appendChild(C.importNode(A,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,s=l.doc,l.doc=C}return Zx(e,{...n,node:f}),s&&(l.doc=s),f},h6=(e,t)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,p6=(e,t,n)=>h6(e,n)?g6(e,t,n):t,pF=(e,t,n)=>{Kt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.push(n))},bF=(e,t,n)=>!t.no_events&&e?jx(e,{...t,content:n}).content:n,gS=(e,t,n)=>{const s=il(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Db(Be.fromDom(t))?s:Kt.trim(s)},b6=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,l=e.parse(t,s);return hF(l),l},v6=(e,t,n)=>Qg(e,t).serialize(n),y6=(e,t,n,s,l)=>{const f=v6(t,n,s);return bF(e,l,f)},vF=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Ir.DOM,f=t&&t.schema?t.schema:mc(s),g=Av(s,f);x4(g,s,l);const C=(A,F={})=>{const j={format:"html",...F},q=p6(t,A,j),X=gS(l,q,j),ue=b6(g,X,j);return j.format==="tree"?ue:y6(t,s,f,ue,j)};return{schema:f,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:C,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:pt(pF,g,n),getTempAttrs:Qe(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},x6=(e,t)=>{const n=vF(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},yF="html",xF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),w6=(e,t={})=>{const n=t.format?t.format:yF,s=xF(t,n);return FN(e,s).fold(On,l=>{const f=i6(e,l);return Ed(e,f,l)})},C6="html",_6=(e,t)=>({format:C6,...e,set:!0,content:t}),w4=(e,t,n={})=>{const s=_6(n,t);return K3(e,s).map(l=>{const f=m4(e,l.content,l);return q3(e,f.html,l),f.content}).getOr(t)},wF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),CF=[],_F="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),H2=[],C4=(e,t)=>{const n=Ct(t,s=>Gn(e,s));return ur(n)},SF=e=>{const t=C4(e,wF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ur(t)},S6=e=>C4(e,CF),_4=(e,t)=>{const n=Kt.makeMap(e.plugins," "),l=Ct(t,f=>Gn(n,f));return ur(l)},S4=e=>_4(e,_F),k6=e=>_4(e,H2.map(t=>t.name)),E6=(e,t)=>{const n=SF(e),s=S4(t),l=s.length>0,f=n.length>0,g=t.theme==="mobile";if(l||f||g){const C=`
- `,A=g?`

Themes:${C}mobile`:"",F=l?`

Plugins:${C}${s.join(C)}`:"",j=f?`

Options:${C}${n.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+F+j)}},A6=e=>wn(H2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),kF=(e,t)=>{const n=S6(e),s=k6(t),l=s.length>0,f=n.length>0;if(l||f){const g=`
- `,C=l?`

Plugins:${g}${s.map(A6).join(g)}`:"",A=f?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},EF=(e,t)=>{E6(e,t),kF(e,t)},_p=Ir.DOM,AF=e=>{_p.setStyle(e.id,"display",e.orgDisplay)},V2=e=>J.from(e).each(t=>t.destroy()),hS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},T6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),_p.unbind(t,"submit reset",e.formEventDelegate))},O6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),l=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(l==null?void 0:l.nextSibling)&&_p.remove(l.nextSibling),Kx(e),e.editorManager.remove(e),!e.inline&&s&&AF(e),qx(e),_p.remove(e.getContainer()),V2(t),V2(n),e.destroy()}},TF=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),V2(n),V2(s)),T6(e),hS(e),e.destroyed=!0}},$2=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>Gn(e,l)}})(),Sp=Vi.ModelManager,U2=(e,t)=>t.dom[e],k4=(e,t)=>parseInt(Os(t,e),10),E4=pt(U2,"clientWidth"),D6=pt(U2,"clientHeight"),OF=pt(k4,"margin-top"),R6=pt(k4,"margin-left"),DF=e=>e.dom.getBoundingClientRect(),N6=(e,t,n)=>{const s=E4(e),l=D6(e);return t>=0&&n>=0&&t<=s&&n<=l},I6=(e,t,n,s)=>{const l=DF(t),f=e?l.left+t.dom.clientLeft+R6(t):0,g=e?l.top+t.dom.clientTop+OF(t):0,C=n-f,A=s-g;return{x:C,y:A}},RF=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.inline?s:vu(s),f=I6(e.inline,l,t,n);return N6(l,f.x,f.y)},B6=e=>J.from(e).map(Be.fromDom),A4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return B6(t).map(wi).getOr(!1)};var M6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const T4=e=>{const t=[],n=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():M6()},s=()=>J.from(t[0]),l=(X,ue)=>X.type===ue.type&&X.text===ue.text&&!X.progressBar&&!X.timeout&&!ue.progressBar&&!ue.timeout,f=()=>{s().each(X=>{X.reposition()})},g=X=>{t.push(X)},C=X=>{Cn(t,ue=>ue===X).each(ue=>{t.splice(ue,1)})},A=(X,ue=!0)=>e.removed||!A4(e)?{}:(ue&&e.dispatch("BeforeOpenNotification",{notification:X}),wn(t,we=>l(n().getArgs(we),X)).getOrThunk(()=>{e.editorManager.setActive(e);const we=n().open(X,()=>{C(we)},()=>a0(e));return g(we),f(),e.dispatch("OpenNotification",{notification:{...we}}),we})),F=()=>{s().each(X=>{n().close(X),C(X),f()})},j=Qe(t);return(X=>{X.on("SkinLoaded",()=>{const ue=zM(X);ue&&A({text:ue,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{ge(t.slice(),ue=>{n().close(ue)})}),X.addShortcut("alt+F12","Focus to notification",()=>s().map(ue=>Be.fromDom(ue.getEl())).each(ue=>PE(ue)))})(e),{open:A,close:F,getNotifications:j}},_0=Vi.PluginManager,kp=Vi.ThemeManager;var NF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const P6=e=>{let t=[];const n=()=>{const de=e.theme;return de&&de.getWindowManagerImpl?de.getWindowManagerImpl():NF()},s=(de,ke)=>(...Fe)=>ke?ke.apply(de,Fe):void 0,l=de=>{e.dispatch("OpenWindow",{dialog:de})},f=de=>{e.dispatch("CloseWindow",{dialog:de})},g=de=>{t.push(de),l(de)},C=de=>{f(de),t=Ct(t,ke=>ke!==de),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),F=de=>{e.editorManager.setActive(e),cv(e),e.ui.show();const ke=de();return g(ke),ke},j=(de,ke)=>F(()=>n().open(de,ke,C)),q=de=>F(()=>n().openUrl(de,C)),X=(de,ke,Fe)=>{const qe=n();qe.alert(de,s(Fe||qe,ke))},ue=(de,ke,Fe)=>{const qe=n();qe.confirm(de,s(Fe||qe,ke))},we=()=>{A().each(de=>{n().close(de),C(de)})};return e.on("remove",()=>{ge(t,de=>{n().close(de)})}),{open:j,openUrl:q,alert:X,confirm:ue,close:we}},pS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},bS=(e,t)=>{e._skinLoaded?pS(e,t):e.on("SkinLoaded",()=>{pS(e,t)})},L6=(e,t)=>{bS(e,gc.translate(["Failed to upload image: {0}",t]))},Nv=(e,t,n)=>{wE(e,t,{message:n}),console.error(n)},S0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,O4=(e,t,n)=>{Nv(e,"PluginLoadError",S0("plugin",t,n))},D4=(e,t,n)=>{Nv(e,"IconsLoadError",S0("icons",t,n))},IF=(e,t,n)=>{Nv(e,"LanguageLoadError",S0("language",t,n))},F6=(e,t,n)=>{Nv(e,"ThemeLoadError",S0("theme",t,n))},BF=(e,t,n)=>{Nv(e,"ModelLoadError",S0("model",t,n))},MF=(e,t,n)=>{const s=gc.translate(["Failed to initialize plugin: {0}",t]);wE(e,"PluginLoadError",{message:s}),W2(s,n),bS(e,s)},W2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},R4=e=>/^[a-z0-9\-]+$/i.test(e),N4=e=>"content/"+e+"/content.css",vS=e=>tinymce.Resource.has(N4(e)),PF=e=>z6(e,xl(e)),LF=e=>z6(e,CO(e)),z6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Me(t,f=>vS(f)?f:R4(f)&&!e.inline?`${n}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},H6=e=>{e.contentCSS=e.contentCSS.concat(PF(e),LF(e))},V6=e=>e?io(e.getElementsByTagName("img")):[],FF=(e,t)=>{const n={};return{findAll:(l,f=Rn)=>{const g=Ct(V6(l),A=>{const F=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===Co.transparentSrc?!1:qr(F,"blob:")?!e.isUploaded(F)&&f(A):qr(F,"data:")?f(A):!1}),C=Me(g,A=>{const F=A.src;if(Gn(n,F))return n[F].then(j=>Te(j)?j:{image:A,blobInfo:j.blobInfo});{const j=k3(t,F).then(q=>(delete n[F],{image:A,blobInfo:q})).catch(q=>(delete n[F],q));return n[F]=j,j}});return Promise.all(C)}}},I4=()=>{let n={};const s=(X,ue)=>({status:X,resultUri:ue}),l=X=>X in n;return{hasBlobUri:l,getResultUri:X=>{const ue=n[X];return ue?ue.resultUri:null},isPending:X=>l(X)?n[X].status===1:!1,isUploaded:X=>l(X)?n[X].status===2:!1,markPending:X=>{n[X]=s(1,null)},markUploaded:(X,ue)=>{n[X]=s(2,ue)},removeFailed:X=>{delete n[X]},destroy:()=>{n={}}}};let Z2=0;const $6=()=>{const e=()=>Math.round(al()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},zF=e=>e+Z2+++$6(),U6=()=>{let e=[];const t=q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[q.toLowerCase()]||"dat",n=(q,X,ue,we,de)=>{if(Te(q))return s({id:q,name:we,filename:de,blob:X,base64:ue});if(te(q))return s(q);throw new Error("Unknown input type")},s=q=>{if(!q.blob||!q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=q.id||zF("blobid"),ue=q.name||X,we=q.blob;return{id:Qe(X),name:Qe(ue),filename:Qe(q.filename||ue+"."+t(we.type)),blob:Qe(we),base64:Qe(q.base64),blobUri:Qe(q.blobUri||URL.createObjectURL(we)),uri:Qe(q.uri)}},l=q=>{g(q.id())||e.push(q)},f=q=>wn(e,q).getOrUndefined(),g=q=>f(X=>X.id()===q);return{create:n,add:l,get:g,getByUri:q=>f(X=>X.blobUri()===q),getByData:(q,X)=>f(ue=>ue.base64()===q&&ue.blob().type===X),findFirst:f,removeByUri:q=>{e=Ct(e,X=>X.blobUri()===q?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{ge(e,q=>{URL.revokeObjectURL(q.blobUri())}),e=[]}}},W6=(e,t)=>{const n={},s=(de,ke)=>de?de.replace(/\/$/,"")+"/"+ke.replace(/^\//,""):ke,l=(de,ke)=>new Promise((Fe,qe)=>{const We=new XMLHttpRequest;We.open("POST",t.url),We.withCredentials=t.credentials,We.upload.onprogress=Nt=>{ke(Nt.loaded/Nt.total*100)},We.onerror=()=>{qe("Image upload failed due to a XHR Transport error. Code: "+We.status)},We.onload=()=>{if(We.status<200||We.status>=300){qe("HTTP Error: "+We.status);return}const Nt=JSON.parse(We.responseText);if(!Nt||!Te(Nt.location)){qe("Invalid JSON: "+We.responseText);return}Fe(s(t.basePath,Nt.location))};const st=new FormData;st.append("file",de.blob(),de.filename()),We.send(st)}),f=Ne(t.handler)?t.handler:l,g=()=>new Promise(de=>{de([])}),C=(de,ke)=>({url:ke,blobInfo:de,status:!0}),A=(de,ke)=>({url:"",blobInfo:de,status:!1,error:ke}),F=(de,ke)=>{Kt.each(n[de],Fe=>{Fe(ke)}),delete n[de]},j=(de,ke,Fe)=>(e.markPending(de.blobUri()),new Promise(qe=>{let We,st;try{const Nt=()=>{We&&(We.close(),st=Pt)},jt=wt=>{Nt(),e.markUploaded(de.blobUri(),wt),F(de.blobUri(),C(de,wt)),qe(C(de,wt))},un=wt=>{Nt(),e.removeFailed(de.blobUri()),F(de.blobUri(),A(de,wt)),qe(A(de,wt))};st=wt=>{wt<0||wt>100||J.from(We).orThunk(()=>J.from(Fe).map(Ur)).each(dt=>{We=dt,dt.progressBar.value(wt)})},ke(de,st).then(jt,wt=>{un(Te(wt)?{message:wt}:wt)})}catch(Nt){qe(A(de,Nt))}})),q=de=>de===l,X=de=>{const ke=de.blobUri();return new Promise(Fe=>{n[ke]=n[ke]||[],n[ke].push(Fe)})},ue=(de,ke)=>(de=Kt.grep(de,Fe=>!e.isUploaded(Fe.blobUri())),Promise.all(Kt.map(de,Fe=>e.isPending(Fe.blobUri())?X(Fe):j(Fe,f,ke))));return{upload:(de,ke)=>!t.url&&q(f)?g():ue(de,ke)}},Z6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),j6=(e,t)=>W6(t,{url:Lk(e),basePath:yO(e),credentials:Fk(e),handler:PM(e)}),HF=e=>{const t=I4(),n=j6(e,t);return{upload:(s,l=!0)=>n.upload(s,l?Z6(e):void 0)}},VF=(e,t)=>e.dom.isEmpty(t.dom)&&Ce(e.schema.getTextBlockElements()[Po(t)]),K6=e=>t=>{VF(e,t)&&Ds(t,Be.fromHtml('<br data-mce-bogus="1" />'))},B4=e=>{const t=U6();let n,s;const l=I4(),f=[],g=We=>st=>e.selection?We(st):[],C=We=>We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(We,st,Nt)=>{let jt=0;do jt=We.indexOf(st,jt),jt!==-1&&(We=We.substring(0,jt)+Nt+We.substr(jt+st.length),jt+=Nt.length-st.length+1);while(jt!==-1);return We},F=(We,st,Nt)=>{const jt=`src="${Nt}"${Nt===Co.transparentSrc?' data-mce-placeholder="1"':""}`;return We=A(We,`src="${st}"`,jt),We=A(We,'data-mce-src="'+st+'"','data-mce-src="'+Nt+'"'),We},j=(We,st)=>{ge(e.undoManager.data,Nt=>{Nt.type==="fragmented"?Nt.fragments=Me(Nt.fragments,jt=>F(jt,We,st)):Nt.content=F(Nt.content,We,st)})},q=(We,st)=>{const Nt=e.convertURL(st,"src");j(We.src,st),yi(Be.fromDom(We),{src:jg(e)?C(st):st,"data-mce-src":Nt})},X=()=>(n||(n=j6(e,l)),ke().then(g(We=>{const st=Me(We,Nt=>Nt.blobInfo);return n.upload(st,Z6(e)).then(g(Nt=>{const jt=[];let un=!1;const wt=Me(Nt,(dt,Dt)=>{const{blobInfo:pn,image:Nn}=We[Dt];let yo=!1;return dt.status&&bO(e)?(dt.url&&!vr(Nn.src,dt.url)&&(un=!0),t.removeByUri(Nn.src),Km(e)||q(Nn,dt.url)):dt.error&&(dt.error.remove&&(j(Nn.src,Co.transparentSrc),jt.push(Nn),yo=!0),L6(e,dt.error.message)),{element:Nn,status:dt.status,uploadUri:dt.url,blobInfo:pn,removed:yo}});return jt.length>0&&!Km(e)?e.undoManager.transact(()=>{ge(Uc(jt),dt=>{const Dt=Ua(dt);fr(dt),Dt.each(K6(e)),t.removeByUri(dt.dom.src)})}):un&&e.undoManager.dispatchChange(),wt}))}))),ue=()=>Br(e)?X():Promise.resolve([]),we=We=>vo(f,st=>st(We)),de=We=>{f.push(We)},ke=()=>(s||(s=FF(l,t)),s.findAll(e.getBody(),we).then(g(We=>{const st=Ct(We,Nt=>Te(Nt)?(bS(e,Nt),!1):Nt.uriType!=="blob");return Km(e)||ge(st,Nt=>{j(Nt.image.src,Nt.blobInfo.blobUri()),Nt.image.src=Nt.blobInfo.blobUri(),Nt.image.removeAttribute("data-mce-src")}),st}))),Fe=()=>{t.destroy(),l.destroy(),s=n=null},qe=We=>We.replace(/src="(blob:[^"]+)"/g,(st,Nt)=>{const jt=l.getResultUri(Nt);if(jt)return'src="'+jt+'"';let un=t.getByUri(Nt);return un||(un=It(e.editorManager.get(),(wt,dt)=>wt||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(Nt),void 0)),un?'src="data:'+un.blob().type+";base64,"+un.base64()+'"':st});return e.on("SetContent",()=>{Br(e)?ue():ke()}),e.on("RawSaveContent",We=>{We.content=qe(We.content)}),e.on("GetContent",We=>{We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",We=>{ge(We,st=>{const Nt=st.attr("src");if(!Nt||t.getByUri(Nt))return;const jt=l.getResultUri(Nt);jt&&st.attr("src",jt)})})}),{blobCache:t,addFilter:de,uploadImages:X,uploadImagesAuto:ue,scanForImages:ke,destroy:Fe}},q6=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,l,f]:[l,g,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,g)=>yn(l)&&l.hasAttribute("href"),onformat:(l,f,g)=>{Kt.each(g,(C,A)=>{t.setAttrib(l,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{s[l]={block:l,remove:"all"}}),s},M4={remove_similar:!0,inherit:!1},k0={selector:"td,th",...M4},G6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...k0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...k0},tablecellbordercolor:{styles:{borderColor:"%value"},...k0},tablecellclass:{classes:["%value"],...k0},tableclass:{selector:"table",classes:["%value"],...M4},tablecellborderstyle:{styles:{borderStyle:"%value"},...k0},tablecellborderwidth:{styles:{borderWidth:"%value"},...k0}},$F=Qe(G6),P4=e=>{const t={},n=g=>Ce(g)?t[g]:t,s=g=>Gn(t,g),l=(g,C)=>{g&&(Te(g)?(re(C)||(C=[C]),ge(C,A=>{Ze(A.deep)&&(A.deep=!xc(A)),Ze(A.split)&&(A.split=!xc(A)||Xa(A)),Ze(A.remove)&&xc(A)&&!Xa(A)&&(A.remove="none"),xc(A)&&Xa(A)&&(A.mixed=!0,A.block_expand=!0),Te(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=C):Uo(g,(A,F)=>{l(F,A)}))},f=g=>(g&&t[g]&&delete t[g],t);return l(q6(e)),l($F()),l(VM(e)),{get:n,has:s,register:l,unregister:f}},E0=Kt.each,jl=Ir.DOM,Of=e=>Ce(e)&&te(e),j2=(e,t)=>{const n=t&&t.schema||mc({}),s=(A,F)=>{F.classes.length>0&&jl.addClass(A,F.classes.join(" ")),jl.setAttribs(A,F.attrs)},l=A=>{const F=Te(A)?{name:A,classes:[],attrs:{}}:A,j=jl.create(F.name);return s(j,F),j},f=(A,F)=>{const j=n.getElementRule(A.nodeName.toLowerCase()),q=j==null?void 0:j.parentsRequired;return q&&q.length?F&&le(q,F)?F:q[0]:!1},g=(A,F,j)=>{let q;const X=F[0],ue=Of(X)?X.name:void 0,we=f(A,ue);if(we)ue===we?(q=X,F=F.slice(1)):q=we;else if(X)q=X,F=F.slice(1);else if(!j)return A;const de=q?l(q):jl.create("div");de.appendChild(A),j&&Kt.each(j,Fe=>{const qe=l(Fe);de.insertBefore(qe,A)});const ke=Of(q)?q.siblings:void 0;return g(de,F,ke)},C=jl.create("div");if(e.length>0){const A=e[0],F=l(A),j=Of(A)?A.siblings:void 0;C.appendChild(g(F,e.slice(1),j))}return C},Iv=e=>{e=Kt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,f,g,C)=>{switch(l){case"#":n.attrs.id=f;break;case".":n.classes.push(f);break;case":":Kt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(n.attrs[f]=f);break}if(g==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},Y6=e=>Te(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Kt.map(t.split(/(?:~\+|~|\+)/),Iv),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],X6=(e,t)=>{let n="",s=$M(e);if(s==="")return"";const l=X=>Te(X)?X.replace(/%(\w+)/g,""):"",f=(X,ue)=>jl.getStyle(ue??e.getBody(),X,!0);if(Te(t)){const X=e.formatter.get(t);if(!X)return"";t=X[0]}if("preview"in t){const X=t.preview;if(X===!1)return"";s=X||s}let g=t.block||t.inline||"span",C;const A=Y6(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,C=j2(A,e)):C=j2([g],e);const F=jl.select(g,C)[0]||C.firstChild;E0(t.styles,(X,ue)=>{const we=l(X);we&&jl.setStyle(F,ue,we)}),E0(t.attributes,(X,ue)=>{const we=l(X);we&&jl.setAttrib(F,ue,we)}),E0(t.classes,X=>{const ue=l(X);jl.hasClass(F,ue)||jl.addClass(F,ue)}),e.dispatch("PreviewFormats"),jl.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const j=f("fontSize"),q=/px$/.test(j)?parseInt(j,10):0;return E0(s.split(" "),X=>{let ue=f(X,F);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ue)&&(ue=f(X),pb(ue).toLowerCase()==="#ffffff"))&&!(X==="color"&&pb(ue).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ue)){if(q===0)return;ue=parseFloat(ue)/(/%$/.test(ue)?100:1)*q+"px"}X==="border"&&ue&&(n+="padding:0 2px;"),n+=X+":"+ue+";"}}),e.dispatch("AfterPreviewFormats"),jl.remove(C),n},L4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},K2=e=>{const t=P4(e),n=fa({});return L4(e),$R(e),Km(e)||sN(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,l,f)=>{zr(e,s,l,f)},remove:(s,l,f,g)=>{s6(e,s,l,f,g)},toggle:(s,l,f)=>{f4(e,s,l,f)},match:(s,l,f,g)=>aF(e,s,l,f,g),closest:s=>uF(e,s),matchAll:(s,l)=>iF(e,s,l),matchNode:(s,l,f,g)=>lF(e,s,l,f,g),canApply:s=>cF(e,s),formatChanged:(s,l,f,g)=>a6(e,n,s,l,f,g),getCssText:pt(X6,e)}},ih=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},A0=(e,t,n)=>{const s=fa(!1),l=A=>{F2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const F=A.command;ih(F)||(s4(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const F=A.command;ih(F)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;const j=Co.os.isMacOS()&&A.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey||j)&&(l(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),s.get()&&t.typing&&!Ov(Tv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){t.typing&&l(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!t.typing&&!j){t.beforeChange(),F2(t,!0,n),t.add({},A),s.set(!0);return}(Co.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||g(A)||C(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},J6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Q6=e=>{const t=ma(),n=fa(0),s=fa(0),l={data:[],typing:!1,beforeChange:()=>{Dv(e,n,t)},add:(f,g)=>QL(e,l,s,n,t,f,g),dispatchChange:()=>{e.setDirty(!0);const f=Tv(e);f.bookmark=mn(e.selection),e.dispatch("change",{level:f,lastLevel:bi(l.data,s.get()).getOrUndefined()})},undo:()=>eF(e,l,n,s),redo:()=>o6(e,s,l.data),clear:()=>{r6(e,l,s)},reset:()=>{mS(e,l)},hasUndo:()=>tF(e,l,s),hasRedo:()=>nF(e,l,s),transact:f=>oF(e,l,n,f),ignore:f=>{rF(e,n,f)},extra:(f,g)=>{sF(e,l,s,f,g)}};return Km(e)||A0(e,l,n),J6(e),l},eI=[9,27,rn.HOME,rn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rn.DOWN,rn.UP,rn.LEFT,rn.RIGHT].concat(Co.browser.isFirefox()?[224]:[]),tI="data-mce-placeholder",nI=e=>e.type==="keydown"||e.type==="keyup",oI=e=>{const t=e.keyCode;return t===rn.BACKSPACE||t===rn.DELETE},F4=e=>{if(nI(e)){const t=e.keyCode;return!oI(e)&&(rn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||le(eI,t))}else return!1},rI=e=>nI(e)&&!(oI(e)||e.type==="keyup"&&e.keyCode===229),UF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},sI=e=>{var t;const n=e.dom,s=Ui(e),l=(t=Hk(e))!==null&&t!==void 0?t:"",f=(g,C)=>{if(F4(g))return;const A=e.getBody(),F=rI(g)?!1:UF(n,A,s);(n.getAttrib(A,tI)!==""!==F||C)&&(n.setAttrib(A,tI,F?l:null),L5(e,F),e.on(F?"keydown":"keyup",f),e.off(F?"keyup":"keydown",f))};je(l)&&e.on("init",g=>{f(g,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>Cc.setEditorTimeout(e,()=>f(C)))})},WF=(e,t)=>({block:e,position:t}),z4=(e,t)=>({from:e,to:t}),H4=(e,t)=>{const n=Be.fromDom(e),s=Be.fromDom(t.container());return y2(n,s).map(l=>WF(l,t))},aI=e=>!($a(e.to.block,e.from.block)||$a(e.from.block,e.to.block)),V4=e=>!Lo(e.from.block,e.to.block),$4=(e,t)=>Xs(t,l=>hc(l)||cc(l.dom),l=>Lo(l,e)).filter(Ts).getOr(e),U4=(e,t)=>{const n=Be.fromDom(e);return Lo($4(n,t.from.block),$4(n,t.to.block))},ZF=e=>to(e.from.block.dom)===!1&&to(e.to.block.dom)===!1,iI=e=>{const t=n=>Tb(n)||ka(n.dom)||_m(n);return t(e.from.block)&&t(e.to.block)},jF=(e,t,n,s)=>ns(s.position.getNode())&&!Ns(e,s.block)?ev(!1,s.block.dom).bind(l=>l.isEqual(s.position)?tu(n,t,l).bind(f=>H4(t,f)):J.some(s)).getOr(s):s,lI=(e,t,n,s)=>{const l=H4(t,mt.fromRangeStart(s)),f=l.bind(g=>tu(n,t,g.position).bind(C=>H4(t,C).map(A=>jF(e,t,n,A))));return Ha(l,f,z4).filter(g=>V4(g)&&U4(t,g)&&ZF(g)&&iI(g)&&aI(g))},cI=(e,t,n,s)=>s.collapsed?lI(e,t,n,s):J.none(),KF=(e,t)=>{const n=Wa(e);return Cn(n,s=>t.isBlock(Po(s))).fold(Qe(n),s=>n.slice(0,s))},uI=(e,t)=>{const n=KF(e,t);return ge(n,fr),n},dI=(e,t,n)=>{const s=_c(n,t);return wn(s.reverse(),l=>Ns(e,l)).each(fr)},qF=(e,t)=>Ct(xu(t),n=>!Ns(e,n)).length===0,GF=(e,t,n,s,l)=>{if(Ns(s,n))return pc(n),Un(n.dom);qF(s,l)&&Ns(s,t)&&gs(l,Be.fromTag("br"));const f=yc(n.dom,mt.before(l.dom));return ge(uI(t,s),g=>{gs(l,g)}),dI(s,e,t),f},T0=(e,t)=>e.isInline(Po(t)),fI=(e,t,n,s)=>{if(Ns(s,n)){if(Ns(s,t)){const g=zt((C=>{const A=(F,j)=>yl(F).fold(()=>j,q=>T0(s,q)?A(q,j.concat(Ms(q))):j);return A(C,[])})(n),(C,A)=>(Al(C,A),A),hd());Fr(t),Ds(t,g)}return fr(n),Un(t.dom)}const l=Nu(n.dom);return ge(uI(t,s),f=>{Ds(n,f)}),dI(s,e,t),l},mI=(e,t)=>{const n=_c(t,e);return J.from(n[n.length-1])},gI=(e,t)=>$a(t,e)?mI(t,e):J.none(),hI=(e,t)=>{ev(e,t.dom).bind(n=>J.from(n.getNode())).map(Be.fromDom).filter(Du).each(fr)},pI=(e,t,n,s)=>(hI(!0,t),hI(!1,n),gI(t,n).fold(pt(fI,e,t,n,s),pt(GF,e,t,n,s))),lh=(e,t,n,s,l)=>t?pI(e,s,n,l):pI(e,n,s,l),yS=(e,t)=>{const n=Be.fromDom(e.getBody());return cI(e.schema,n.dom,t,e.selection.getRng()).map(l=>()=>{lh(n,t,l.from.block,l.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},xS=(e,t,n)=>{const s=t.getRng();return Ha(y2(e,Be.fromDom(s.startContainer)),y2(e,Be.fromDom(s.endContainer)),(l,f)=>Lo(l,f)?J.none():J.some(()=>{s.deleteContents(),lh(e,!0,l,f,n).each(g=>{t.setRng(g.toRange())})})).getOr(J.none())},bI=(e,t)=>{const n=Be.fromDom(t),s=pt(Lo,e);return Li(n,hc,s).isSome()},vI=(e,t)=>bI(e,t.startContainer)||bI(e,t.endContainer),YF=(e,t)=>{const n=yc(e.dom,mt.fromRangeStart(t)).isNone(),s=Dl(e.dom,mt.fromRangeEnd(t)).isNone();return!vI(e,t)&&n&&s},XF=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),W4=e=>{const t=Be.fromDom(e.getBody()),n=e.selection.getRng();return YF(t,n)?XF(e):xS(t,e.selection,e.schema)},Z4=(e,t)=>e.selection.isCollapsed()?J.none():W4(e),ys=(e,t,n,s,l)=>J.from(t._selectionOverrides.showCaret(e,n,s,l)),JF=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},q2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(JF(t)),j4=(e,t,n)=>{const s=oE(1,e.getBody(),t),l=mt.fromRangeStart(s),f=l.getNode();if(Ex(f))return ys(1,e,f,!l.isAtEnd(),!1);const g=l.getNode(!0);if(Ex(g))return ys(1,e,g,!1,!1);const C=Hu(e.dom.getRoot(),l.getNode());return Ex(C)?ys(1,e,C,!1,n):J.none()},wS=(e,t,n)=>t.collapsed?j4(e,t,n).getOr(t):t,K4=e=>pa(e)||c0(e),QF=e=>Af(e)||gv(e),ez=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},yI=(e,t,n,s,l,f)=>{ys(s,e,f.getNode(!l),l,!0).each(g=>{if(t.collapsed){const C=t.cloneRange();l?C.setEnd(g.startContainer,g.startOffset):C.setStart(g.endContainer,g.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),ez(e.dom,n)},tz=(e,t)=>{const n=e.selection.getRng();if(!Mt(n.commonAncestorContainer))return J.none();const s=t?Ai.Forwards:Ai.Backwards,l=zn(e.getBody()),f=pt(rE,t?l.next:l.prev),g=t?K4:QF,C=Rx(s,e.getBody(),n),A=f(C),F=A&&zu(t,A);if(!F||!_C(C,F))return J.none();if(g(F))return J.some(()=>yI(e,n,C.getNode(),s,t,F));const j=f(F);return j&&g(j)&&_C(F,j)?J.some(()=>yI(e,n,C.getNode(),s,t,j)):J.none()},q4=(e,t)=>tz(e,t),G4=(e,t)=>{const n=e.getBody();return t?Un(n).filter(pa):Nu(n).filter(Af)},Y4=e=>{const t=e.selection.getRng();return!t.collapsed&&(G4(e,!0).exists(n=>n.isEqual(mt.fromRangeStart(t)))||G4(e,!1).exists(n=>n.isEqual(mt.fromRangeEnd(t))))},Bv=e=>Ce(e)&&(hc(Be.fromDom(e))||_m(Be.fromDom(e))),Ta=Bo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),nz=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return yn(n)&&n.getAttribute("data-mce-caret")===s},oz=(e,t,n,s,l)=>{const f=g=>l.isInline(g.nodeName.toLowerCase())&&!Rm(n,s,e);return t5(!t,n).fold(()=>t5(t,s).fold(xn,f),f)},xI=(e,t,n,s,l)=>{const f=l.getNode(!n);return y2(Be.fromDom(t),Be.fromDom(s.getNode())).map(g=>Ns(e,g)?Ta.remove(g.dom):Ta.moveToElement(f)).orThunk(()=>J.some(Ta.moveToElement(f)))},wI=(e,t,n,s)=>tu(t,e,n).bind(l=>Bv(l.getNode())||oz(e,t,n,l,s)?J.none():t&&to(l.getNode())||!t&&to(l.getNode(!0))?xI(s,e,t,n,l):t&&Af(n)||!t&&pa(n)?J.some(Ta.moveToPosition(l)):J.none()),rz=(e,t)=>rt(t)?J.none():e&&to(t.nextSibling)?J.some(Ta.moveToElement(t.nextSibling)):!e&&to(t.previousSibling)?J.some(Ta.moveToElement(t.previousSibling)):J.none(),sz=(e,t,n)=>n.fold(s=>J.some(Ta.remove(s)),s=>J.some(Ta.moveToElement(s)),s=>Rm(t,s,e)?J.none():J.some(Ta.moveToPosition(s))),az=(e,t,n,s)=>nz(t,n)?rz(t,n.getNode(!t)).orThunk(()=>wI(e,t,n,s)):wI(e,t,n,s).bind(l=>sz(e,n,l)),iz=(e,t,n,s)=>{const l=oE(t?1:-1,e,n),f=mt.fromRangeStart(l),g=Be.fromDom(e);return!t&&Af(f)?J.some(Ta.remove(f.getNode(!0))):t&&pa(f)?J.some(Ta.remove(f.getNode())):!t&&pa(f)&&d0(g,f,s)?c_(g,f,s).map(C=>Ta.remove(C.getNode())):t&&Af(f)&&g2(g,f,s)?WD(g,f,s).map(C=>Ta.remove(C.getNode())):az(e,t,f,s)},lz=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),cl(e,t,Be.fromDom(n)),!0),cz=(e,t)=>n=>{const s=t?mt.before(n):mt.after(n);return e.selection.setRng(s.toRange()),!0},uz=e=>t=>(e.selection.setRng(t.toRange()),!0),CI=(e,t)=>J.from(Hu(e.getBody(),t)),dz=(e,t)=>{const n=e.selection.getNode();return CI(e,n).filter(to).fold(()=>iz(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(lz(e,t),cz(e,t),uz(e))),()=>J.some(Pt))},fz=e=>{ge(Js(e,".mce-offscreen-selection"),fr)},mz=(e,t)=>{const n=e.selection.getNode();return to(n)&&!Nh(n)?CI(e,n.parentNode).filter(to).fold(()=>J.some(()=>{fz(Be.fromDom(e.getBody())),cl(e,t,Be.fromDom(e.selection.getNode())),g_(e)}),()=>J.some(Pt)):Y4(e)?J.some(()=>{h_(e,e.selection.getRng(),Be.fromDom(e.getBody()))}):J.none()},_I=e=>{const t=e.dom,n=e.selection,s=Hu(e.getBody(),n.getNode());if(cc(s)&&t.isBlock(s)&&t.isEmpty(s)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(l),n.setRng(mt.before(l).toRange())}return!0},X4=(e,t)=>e.selection.isCollapsed()?dz(e,t):mz(e,t),SI=e=>e.hasOwnProperty("text"),kI=e=>e.hasOwnProperty("marker"),EI=(e,t)=>{const n=(f,g)=>{if(Mt(f))return{text:f,offset:g};{const C=t(),A=f.childNodes;return g<A.length?(f.insertBefore(C,A[g]),{marker:C,before:!0}):(f.appendChild(C),{marker:C,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},AI=e=>{var t,n;const{start:s,end:l}=e,f=new window.Range;return SI(s)?f.setStart(s.text,s.offset):kI(s)&&(s.before?f.setStartBefore(s.marker):f.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),SI(l)?f.setEnd(l.text,l.offset):kI(l)&&(l.before?f.setEndBefore(l.marker):f.setEndAfter(l.marker),(n=l.marker.parentNode)===null||n===void 0||n.removeChild(l.marker)),f},J4=(e,t)=>{var n;const s=e.dom,l=s.getParent(e.selection.getStart(),s.isBlock),f=s.getParent(e.selection.getEnd(),s.isBlock),g=e.getBody();if(((n=l==null?void 0:l.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&l&&f&&l===g.firstChild&&f===g.lastChild&&!s.isEmpty(g)){const A=l.cloneNode(!1),F=()=>{if(t?wA(e):m_(e),g.firstChild!==l){const j=EI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(q=>A.appendChild(q)),g.appendChild(A),e.selection.setRng(AI(j))}};return J.some(F)}return J.none()},gz=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return tu(t,e.getBody(),n).filter(s=>t?FD(s):zD(s)).bind(s=>wC(t?0:-1,s)).map(s=>()=>e.selection.select(s))},Q4=(e,t)=>e.selection.isCollapsed()?gz(e,t):J.none(),Mv=Mt,TI=e=>Mv(e)&&e.data[0]===sa,OI=e=>Mv(e)&&e.data[e.data.length-1]===sa,DI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(sa)},hz=e=>{var t;if(Mv(e.previousSibling))return OI(e.previousSibling)||e.previousSibling.appendData(sa),e.previousSibling;if(Mv(e))return TI(e)||e.insertData(0,sa),e;{const n=DI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},pz=e=>{var t,n;if(Mv(e.nextSibling))return TI(e.nextSibling)||e.nextSibling.insertData(0,sa),e.nextSibling;if(Mv(e))return OI(e)||e.appendData(sa),e;{const s=DI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},CS=(e,t)=>e?hz(t):pz(t),RI=pt(CS,!0),bz=pt(CS,!1),NI=(e,t)=>Mt(e.container())?CS(t,e.container()):CS(t,e.getNode()),II=(e,t)=>{const n=t.get();return n&&e.container()===n&&Sm(n)},eT=(e,t)=>t.fold(n=>{Yh(e.get());const s=RI(n);return e.set(s),J.some(mt(s,s.length-1))},n=>Un(n).map(s=>{if(II(s,e)){const l=e.get();return mt(l,1)}else{Yh(e.get());const l=NI(s,!0);return e.set(l),mt(l,1)}}),n=>Nu(n).map(s=>{if(II(s,e)){const l=e.get();return mt(l,l.length-1)}else{Yh(e.get());const l=NI(s,!1);return e.set(l),mt(l,l.length-1)}}),n=>{Yh(e.get());const s=bz(n);return e.set(s),J.some(mt(s,1))}),BI=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return J.none()},Nl=Bo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),MI=(e,t)=>{const n=Xh(t,e);return n||e},vz=(e,t,n)=>{const s=cR(n),l=MI(t,s.container());return dp(e,l,s).fold(()=>Dl(l,s).bind(pt(dp,e,l)).map(f=>Nl.before(f)),J.none)},PI=(e,t)=>Jh(e,t)===null,LI=(e,t,n)=>dp(e,t,n).filter(pt(PI,t)),yz=(e,t,n)=>{const s=yv(n);return LI(e,t,s).bind(l=>yc(l,s).isNone()?J.some(Nl.start(l)):J.none())},xz=(e,t,n)=>{const s=cR(n);return LI(e,t,s).bind(l=>Dl(l,s).isNone()?J.some(Nl.end(l)):J.none())},wz=(e,t,n)=>{const s=yv(n),l=MI(t,s.container());return dp(e,l,s).fold(()=>yc(l,s).bind(pt(dp,e,l)).map(f=>Nl.after(f)),J.none)},FI=e=>!b2(tT(e)),qm=(e,t,n)=>BI([vz,yz,xz,wz],[e,t,n]).filter(FI),tT=e=>e.fold(On,On,On,On),zI=e=>e.fold(Qe("before"),Qe("start"),Qe("end"),Qe("after")),G2=e=>e.fold(Nl.before,Nl.before,Nl.after,Nl.after),_S=e=>e.fold(Nl.start,Nl.start,Nl.end,Nl.end),Cz=(e,t)=>zI(e)===zI(t)&&tT(e)===tT(t),HI=(e,t,n,s,l,f)=>Ha(dp(t,n,s),dp(t,n,l),(g,C)=>g!==C&&lR(n,g,C)?Nl.after(e?g:C):f).getOr(f),_z=(e,t)=>e.fold(Rn,n=>!Cz(n,t)),Sz=(e,t,n,s,l)=>{const f=zu(e,l);return tu(e,n,f).map(pt(zu,e)).fold(()=>s.map(G2),A=>qm(t,n,A).map(pt(HI,e,t,n,f,A)).filter(pt(_z,s))).filter(FI)},kz=(e,t)=>e?t.fold(ln(J.some,Nl.start),J.none,ln(J.some,Nl.after),J.none):t.fold(J.none,ln(J.some,Nl.before),J.none,ln(J.some,Nl.end)),Ez=(e,t,n,s)=>{const l=zu(e,s),f=qm(t,n,l);return qm(t,n,l).bind(pt(kz,e)).orThunk(()=>Sz(e,t,n,f,s))},Az=e=>Ne(e.selection.getSel().modify),VI=(e,t,n)=>{const s=e?1:-1;return t.setRng(mt(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},nT=(e,t)=>{const n=t.selection.getRng(),s=e?mt.fromRangeEnd(n):mt.fromRangeStart(n);return Az(t)?e&&Rb(s)?VI(!0,t.selection,s):!e&&L1(s)?VI(!1,t.selection,s):!1:!1};var Ad;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ad||(Ad={}));const SS=(e,t)=>e===Ai.Backwards?Ao(t):t,$I=(e,t,n)=>e===Ai.Forwards?t.next(n):t.prev(n),Tz=(e,t,n,s)=>ns(s.getNode(t===Ai.Forwards))?Ad.Br:Rm(n,s)===!1?Ad.Block:Ad.Wrap,UI=(e,t,n,s)=>{const l=zn(n);let f=s;const g=[];for(;f;){const C=$I(t,l,f);if(!C)break;if(ns(C.getNode(!1)))return t===Ai.Forwards?{positions:SS(t,g).concat([C]),breakType:Ad.Br,breakAt:J.some(C)}:{positions:SS(t,g),breakType:Ad.Br,breakAt:J.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const A=Tz(n,t,f,C);return{positions:SS(t,g),breakType:A,breakAt:J.some(C)}}g.push(C),f=C}return{positions:SS(t,g),breakType:Ad.Eol,breakAt:J.none()}},WI=(e,t,n,s)=>t(n,s).breakAt.map(l=>{const f=t(n,l).positions;return e===Ai.Backwards?f.concat(l):[l].concat(f)}).getOr([]),oT=(e,t)=>It(e,(n,s)=>n.fold(()=>J.some(s),l=>Ha(cn(l.getClientRects()),cn(s.getClientRects()),(f,g)=>{const C=Math.abs(t-f.left);return Math.abs(t-g.left)<=C?s:l}).or(n)),J.none()),kS=(e,t)=>cn(t.getClientRects()).bind(n=>oT(e,n.left)),Y2=pt(UI,mt.isAbove,-1),X2=pt(UI,mt.isBelow,1),ZI=pt(WI,-1,Y2),ES=pt(WI,1,X2),jI=(e,t)=>Y2(e,t).breakAt.isNone(),KI=(e,t)=>X2(e,t).breakAt.isNone(),Oz=e=>Un(e).map(t=>[t].concat(X2(e,t).positions)).getOr([]),qI=e=>Nu(e).map(t=>Y2(e,t).positions.concat(t)).getOr([]),O0=(e,t)=>kS(ZI(e,t),t),Dz=(e,t)=>kS(ES(e,t),t),Rz=to,GI=(e,t)=>Math.abs(e.left-t),Kl=(e,t)=>Math.abs(e.right-t),YI=e=>El(e,"node"),XI=(e,t)=>Ji(e,(n,s)=>{const l=Math.min(GI(n,t),Kl(n,t)),f=Math.min(GI(s,t),Kl(s,t));return f===l&&YI(s)&&Rz(s.node)||f<l?s:n}),Nz=e=>{const t=n=>Me(n,s=>{const l=ff(s);return l.node=e,l});if(yn(e))return t(e.getClientRects());if(Mt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},JI=e=>ao(e,Nz);var J2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(J2||(J2={}));const Iz=(e,t,n,s)=>{let l=s;for(;l=Tx(l,e,Lb,t);)if(n(l))return},rT=(e,t,n,s,l,f)=>{let g=0;const C=[],A=q=>{let X=JI([q]);e===-1&&(X=X.reverse());for(let ue=0;ue<X.length;ue++){const we=X[ue];if(!n(we,F)){if(C.length>0&&t(we,ri(C))&&g++,we.line=g,l(we))return!0;C.push(we)}}return!1},F=ri(f.getClientRects());if(!F)return C;const j=f.getNode();return j&&(A(j),Iz(e,s,A,j)),C},Bz=(e,t)=>t.line>e,Mz=(e,t)=>t.line===e,Pz=pt(rT,J2.Up,hf,Ug),Lz=pt(rT,J2.Down,Ug,hf),QI=e=>ri(e.getClientRects()),Pv=(e,t,n,s)=>{const l=zn(t);let f,g,C,A;const F=[];let j=0;e===1?(f=l.next,g=Ug,C=hf,A=mt.after(s)):(f=l.prev,g=hf,C=Ug,A=mt.before(s));const q=QI(A);do{if(!A.isVisible())continue;const X=QI(A);if(C(X,q))continue;F.length>0&&g(X,ri(F))&&j++;const ue=ff(X);if(ue.position=A,ue.line=j,n(ue))return F;F.push(ue)}while(A=f(A));return F},sT=e=>t=>Bz(e,t),Lv=e=>t=>Mz(e,t),Df=(e,t)=>{e.selection.setRng(t),Mu(e,e.selection.getRng())},AS=(e,t,n)=>J.some(wS(e,t,n)),aT=(e,t,n,s,l,f)=>{const g=t===Ai.Forwards,C=zn(e.getBody()),A=pt(rE,g?C.next:C.prev),F=g?s:l;if(!n.collapsed){const we=Zh(n);if(f(we))return ys(t,e,we,t===Ai.Backwards,!1);if(Y4(e)){const de=n.cloneRange();return de.collapse(t===Ai.Backwards),J.from(de)}}const j=Rx(t,e.getBody(),n);if(F(j))return q2(e,j.getNode(!g));let q=A(j);const X=$g(n);if(q)q=zu(g,q);else return X?J.some(n):J.none();if(F(q))return ys(t,e,q.getNode(!g),g,!1);const ue=A(q);return ue&&F(ue)&&_C(q,ue)?ys(t,e,ue.getNode(!g),g,!1):X?AS(e,q.toRange(),!1):J.none()},eB=(e,t,n,s,l,f)=>{const g=Rx(t,e.getBody(),n),C=ri(g.getClientRects()),A=t===J2.Down,F=e.getBody();if(!C)return J.none();if(Y4(e)){const ke=A?mt.fromRangeEnd(n):mt.fromRangeStart(n);return(A?Dz:O0)(F,ke).orThunk(()=>J.from(ke)).map(qe=>qe.toRange())}const q=(A?Lz:Pz)(F,sT(1),g),X=Ct(q,Lv(1)),ue=C.left,we=XI(X,ue);if(we&&f(we.node)){const ke=Math.abs(ue-we.left),Fe=Math.abs(ue-we.right);return ys(t,e,we.node,ke<Fe,!1)}let de;if(s(g)?de=g.getNode():l(g)?de=g.getNode(!0):de=Zh(n),de){const ke=Pv(t,F,sT(1),de);let Fe=XI(Ct(ke,Lv(1)),ue);if(Fe||(Fe=ri(Ct(ke,Lv(0))),Fe))return AS(e,Fe.position.toRange(),!1)}return X.length===0?TS(e,A).filter(A?l:s).map(ke=>wS(e,ke.toRange(),!1)):J.none()},TS=(e,t)=>{const n=e.selection.getRng(),s=t?mt.fromRangeEnd(n):mt.fromRangeStart(n),l=cP(s.container(),e.getBody());if(t){const f=X2(l,s);return po(f.positions)}else{const f=Y2(l,s);return cn(f.positions)}},tB=(e,t,n)=>TS(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Q2=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},iT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},lT=(e,t,n)=>eT(t,n).map(s=>(Q2(e,s),n)),nB=(e,t,n)=>{const s=mt.fromRangeStart(e);if(e.collapsed)return s;{const l=mt.fromRangeEnd(e);return n?yc(t,l).getOr(l):Dl(t,s).getOr(s)}},oB=(e,t,n)=>{const s=e.getBody(),l=nB(e.selection.getRng(),s,n),f=pt(m0,e);return Ez(n,f,s,l).bind(C=>lT(e,t,C))},rB=(e,t,n)=>{const s=Me(Js(Be.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),l=Ct(s,e),f=Ct(n,e);ge(Oo(l,f),pt(iT,!1)),ge(Oo(f,l),pt(iT,!0))},cT=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(s)&&!yA(s)&&(Q2(e,aP(n,s)),t.set(null))}},sB=(e,t,n,s)=>{if(t.selection.isCollapsed()){const l=Ct(s,e);ge(l,f=>{const g=mt.fromRangeStart(t.selection.getRng());qm(e,t.getBody(),g).bind(C=>lT(t,n,C))})}},uT=(e,t,n)=>X1(e)?oB(e,t,n).isSome():!1,dT=(e,t,n)=>X1(t)?nT(e,t):!1,aB=e=>{const t=fa(null),n=pt(m0,e);return e.on("NodeChange",s=>{X1(e)&&(rB(n,e.dom,s.parents),cT(e,t),sB(n,e,t,s.parents))}),t},iB=pt(dT,!0),lB=pt(dT,!1),ew=(e,t,n)=>{if(X1(e)){const s=TS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return qm(pt(m0,e),e.getBody(),s).exists(l=>{const f=G2(l);return eT(n,f).exists(g=>(Q2(e,g),!0))})}else return!1},fT=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},mT=e=>Ha(Un(e),Nu(e),(t,n)=>{const s=zu(!0,t),l=zu(!1,n);return Dl(e,s).forall(f=>f.isEqual(l))}).getOr(!0),tw=(e,t)=>n=>eT(t,n).map(s=>()=>Q2(e,s)),gT=(e,t,n,s)=>{const l=e.getBody(),f=pt(m0,e);e.undoManager.ignore(()=>{e.selection.setRng(fT(n,s)),m_(e),qm(f,l,mt.fromRangeStart(e.selection.getRng())).map(_S).bind(tw(e,t)).each(ho)}),e.nodeChanged()},cB=(e,t)=>{const n=Xh(t,e);return n||e},uB=(e,t,n,s)=>{const l=cB(e.getBody(),s.container()),f=pt(m0,e),g=qm(f,l,s);return g.bind(A=>n?A.fold(Qe(J.some(_S(A))),J.none,Qe(J.some(G2(A))),J.none):A.fold(J.none,Qe(J.some(G2(A))),J.none,Qe(J.some(_S(A))))).map(tw(e,t)).getOrThunk(()=>{const A=Yb(n,l,s),F=A.bind(j=>qm(f,l,j));return Ha(g,F,()=>dp(f,l,s).bind(j=>mT(j)?J.some(()=>{cl(e,n,Be.fromDom(j))}):J.none())).getOrThunk(()=>F.bind(()=>A.map(j=>()=>{n?gT(e,t,s,j):gT(e,t,j,s)})))})},nw=(e,t,n)=>{if(e.selection.isCollapsed()&&X1(e)){const s=mt.fromRangeStart(e.selection.getRng());return uB(e,t,n,s)}return J.none()},dB=e=>sd(e)>1,hT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Be.fromDom(e.selection.getStart()),l=_c(s,n);return Cn(l,t).fold(Qe(l),f=>l.slice(0,f))},fB=e=>sd(e)===1,Fz=e=>hT(e,t=>e.schema.isBlock(Po(t))||dB(t)),mB=e=>hT(e,t=>e.schema.isBlock(Po(t))),pT=(e,t)=>{const n=pt(Cv,e);return ao(t,s=>n(s)?[s.dom]:[])},ow=e=>{const t=mB(e);return pT(e,t)},gB=(e,t,n,s)=>{const l=pT(t,s);if(l.length===0)cl(t,e,n);else{const f=o3(n.dom,l);t.selection.setRng(f.toRange())}},hB=(e,t)=>{const n=Ct(Fz(e),fB);return po(n).bind(s=>{const l=mt.fromRangeStart(e.selection.getRng());return fR(t,l,s.dom)&&!IC(s)?J.some(()=>gB(t,e,s,n)):J.none()})},bT=(e,t)=>{const n=t.parentElement;return ns(t)&&!Ge(n)&&e.dom.isEmpty(n)},zz=e=>IC(Be.fromDom(e)),vT=(e,t)=>{const n=e.selection.getStart(),s=bT(e,n)||zz(n)?o3(n,t):K7(e.selection.getRng(),t);e.selection.setRng(s.toRange())},Hz=(e,t)=>{const n=Oo(t,ow(e));n.length>0&&vT(e,n)},yT=e=>Mt(e.startContainer),pB=e=>e.startOffset===0&&yT(e),Vz=(e,t)=>{const n=t.startContainer.parentElement;return!Ge(n)&&Cv(e,Be.fromDom(n))},$z=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Ge(t)&&!Ge(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Mt(t)?t.length:t.childNodes.length)},a=e=>$z(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),d=e=>a(e)||c(e),h=e=>{const t=e.selection.getRng();return pB(t)&&Vz(e,t)&&d(t)},v=e=>{if(h(e)){const t=ow(e);return J.some(()=>{m_(e),Hz(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?hB(e,t):v(e),k=(e,t)=>Hw(e,n=>nu(n.dom),n=>t.isBlock(Po(n))),E=e=>k(Be.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(yT(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(O(e)&&vT(e,[]),!0),B=(e,t,n)=>Ce(n)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),cl(e,t,Be.fromDom(n))}):J.none(),H=(e,t)=>{const n=t?c0:gv,s=t?Ai.Forwards:Ai.Backwards,l=Rx(s,e.getBody(),e.selection.getRng());return n(l)?B(e,t,l.getNode(!t)):J.from(zu(t,l)).filter(f=>n(f)&&_C(l,f)).bind(f=>B(e,t,f.getNode(!t)))},K=(e,t)=>{const n=e.selection.getNode();return xt(n)?B(e,t,n):J.none()},Y=(e,t)=>e.selection.isCollapsed()?H(e,t):K(e,t),se=e=>Xs(e,t=>cc(t.dom)||to(t.dom)).exists(t=>cc(t.dom)),ce=e=>nn(e??"").getOr(0),ve=(e,t)=>{const n=e||Ab(t)?"margin":"padding",s=Os(t,"direction")==="rtl"?"-right":"-left";return n+s},ie=(e,t,n,s,l,f)=>{const g=ve(n,Be.fromDom(f)),C=ce(e.getStyle(f,g));if(t==="outdent"){const A=Math.max(0,C-s);e.setStyle(f,g,A?A+l:"")}else{const A=C+s+l;e.setStyle(f,g,A)}},ae=(e,t)=>vo(t,n=>{const s=ve(wO(e),n),l=ws(n,s).map(ce).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&l>0}),fe=e=>{const t=Le(e);return!e.mode.isReadOnly()&&(t.length>1||ae(e,t))},ye=e=>Ob(e)||_m(e),_e=e=>Ua(e).exists(ye),Le=e=>Ct(Uc(e.selection.getSelectedBlocks()),t=>!ye(t)&&!_e(t)&&se(t)),Xe=(e,t)=>{var n,s;const{dom:l}=e,f=eu(e),g=(s=(n=/[a-z%]+$/i.exec(f))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",C=ce(f),A=wO(e);ge(Le(e),F=>{ie(l,t,A,C,g,F.dom)})},_t=e=>Xe(e,"indent"),vt=e=>Xe(e,"outdent"),gt=e=>{if(e.selection.isCollapsed()&&fe(e)){const t=e.dom,n=e.selection.getRng(),s=mt.fromRangeStart(n),l=t.getParent(n.startContainer,t.isBlock);if(l!==null&&l_(Be.fromDom(l),s,e.schema))return J.some(()=>vt(e))}return J.none()},Bt=(e,t,n)=>Wr([gt,X4,q4,(s,l)=>nw(s,t,l),yS,nh,Q4,Y,Z4,w,J4],s=>s(e,n)).filter(s=>e.selection.isEditable()),sn=(e,t)=>{Bt(e,t,!1).fold(()=>{e.selection.isEditable()&&(m_(e),g_(e))},ho)},vn=(e,t)=>{Bt(e,t,!0).fold(()=>{e.selection.isEditable()&&wA(e)},ho)},In=(e,t)=>{e.addCommand("delete",()=>{sn(e,t)}),e.addCommand("forwardDelete",()=>{vn(e,t)})},qn=5,So=400,Hr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),Jr=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>qn||s>qn},mo=e=>{const t=ma(),n=fa(!1),s=Vh(l=>{e.dispatch("longpress",{...l,type:"longpress"}),n.set(!0)},So);e.on("touchstart",l=>{Hr(l).each(f=>{s.cancel();const g={x:f.clientX,y:f.clientY,target:l.target};s.throttle(l),n.set(!1),t.set(g)})},!0),e.on("touchmove",l=>{s.cancel(),Hr(l).each(f=>{t.on(g=>{Jr(f,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{s.cancel(),l.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{n.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},zo=(e,t)=>Gn(e,t.nodeName),Fn=(e,t)=>Mt(t)?!0:yn(t)?!zo(e.getBlockElements(),t)&&!ou(t)&&!rf(e,t)&&!ga(t):!1,Qr=(e,t,n)=>xe(Ul(Be.fromDom(n),Be.fromDom(t)),s=>zo(e,s.dom)),Cr=(e,t)=>{if(Mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||zo(e,t.nextSibling)||ga(t.nextSibling)}return!1},Oi=e=>e.dom.create(Ui(e),yx(e)),Di=e=>{const t=e.dom,n=e.selection,s=e.schema,l=s.getBlockElements(),f=n.getStart(),g=e.getBody();let C,A,F=null;const j=Ui(e);if(!f||!yn(f))return;const q=g.nodeName.toLowerCase();if(!s.isValidChild(q,j.toLowerCase())||Qr(l,g,f))return;if(g.firstChild===g.lastChild&&ns(g.firstChild)){C=Oi(e),C.appendChild(hd().dom),g.replaceChild(C,g.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let X=g.firstChild;for(;X;)if(yn(X)&&zl(s,X),Fn(s,X)){if(Cr(l,X)){A=X,X=X.nextSibling,t.remove(A);continue}if(!C){if(!F&&e.hasFocus()&&(F=EI(e.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}C=Oi(e),g.insertBefore(C,X)}A=X,X=X.nextSibling,C.appendChild(A)}else C=null,X=X.nextSibling;F&&(e.selection.setRng(AI(F)),e.nodeChanged())},Oa=(e,t,n)=>{const s=Be.fromDom(Oi(e)),l=hd();Ds(s,l),n(t,s);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},ba=e=>{e.on("NodeChange",()=>Di(e))},ch=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Fv=(e,t,n)=>function(s){const l=arguments,f=l[l.length-2],g=f>0?t.charAt(f-1):"";if(g==='"')return s;if(g===">"){const C=t.lastIndexOf("<",f);if(C!==-1&&t.substring(C,f).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Ep=(e,t,n)=>{let s=t.length,l=n.content;if(n.format!=="raw"){for(;s--;)l=l.replace(t[s],Fv(e,l,jb(e)));n.content=l}},uh=(e,t)=>vo(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),rw=e=>{const t="contenteditable",n=" "+Kt.trim(QM(e))+" ",s=" "+Kt.trim(jb(e))+" ",l=ch(n),f=ch(s),g=MO(e);g.length>0&&e.on("BeforeSetContent",C=>{Ep(e,g,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const F=C[A];l(F)?F.attr(t,"true"):f(F)&&F.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const F=C[A];if(!l(F)&&!f(F))continue;const j=F.attr("data-mce-content");g.length>0&&j?uh(g,j)?(F.name="#text",F.type=3,F.raw=!0,F.value=j):F.remove():F.attr(t,null)}})},Ap=e=>At(Be.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Gm=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Vg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},D0=(e,t)=>{const n=Ap(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Gm(e,n);return}M1(n)&&(Gm(e,n),e.undoManager.add())}},R0=e=>{e.on("keyup compositionstart",pt(D0,e))},zv=to,OS=(e,t,n)=>aT(t,e,n,pa,Af,zv),sw=(e,t,n)=>eB(t,e,n,f=>pa(f)||HD(f),f=>Af(f)||hv(f),zv),Tp=e=>{const t=e.dom.create(Ui(e));return t.innerHTML='<br data-mce-bogus="1">',t},Ym=(e,t,n)=>{const s=zn(e.getBody()),l=pt(rE,t===1?s.next:s.prev);if(n.collapsed){const f=e.dom.getParent(n.startContainer,"PRE");if(!f)return;if(!l(mt.fromRangeStart(n))){const C=Be.fromDom(Tp(e));t===1?et(Be.fromDom(f),C):gs(Be.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},dh=(e,t)=>{const n=t?Ai.Forwards:Ai.Backwards,s=e.selection.getRng();return OS(n,e,s).orThunk(()=>(Ym(e,n,s),J.none()))},aw=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return sw(n,e,s).orThunk(()=>(Ym(e,n,s),J.none()))},iw=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return b2(n)?!t:t},Yo=(e,t)=>dh(e,iw(e.selection,t)).exists(n=>(Df(e,n),!0)),Xm=(e,t)=>aw(e,t).exists(n=>(Df(e,n),!0)),Td=(e,t)=>tB(e,t,t?Af:pa),N0=(e,t)=>G4(e,!t).map(n=>{const s=n.toRange(),l=e.selection.getRng();return t?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(n=>(Df(e,n),!0)),DS=e=>le(["figcaption"],Po(e)),fh=(e,t,n)=>{const s=pt(Lo,t);return Xs(Be.fromDom(e.container()),l=>n.isBlock(Po(l)),s).filter(DS)},Hv=(e,t,n)=>t?KI(e.dom,n):jI(e.dom,n),xT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=mt.fromRangeStart(e.selection.getRng());return fh(s,n,e.schema).exists(()=>{if(Hv(n,t,s)){const f=Oa(e,n,t?Ds:_i);return e.selection.setRng(f),!0}else return!1})},RS=(e,t)=>e.selection.isCollapsed()?xT(e,t):!1,Uz=(e,t,n)=>{const s=e.selection.getRng(),l=mt.fromRangeStart(s);return e.getBody().firstChild===t&&jI(n,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Vv=(e,t)=>{const n=e.selection.getRng(),s=mt.fromRangeStart(n);return e.getBody().lastChild===t&&KI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Wz=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Vv(e,n)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>J.from(e.dom.getParent(n,"details")).map(s=>Uz(e,s,n))).getOr(!1),dl=(e,t)=>Wz(e,t),I0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Zz=e=>Me(e,t=>({...I0,...t})),bB=e=>Me(e,t=>({...I0,...t})),NS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,vB=(e,t)=>ao(Zz(e),n=>NS(n,t)?[n]:[]),yB=(e,t)=>ao(bB(e),n=>NS(n,t)?[n]:[]),Qn=(e,...t)=>()=>e.apply(null,t),Op=(e,t)=>wn(vB(e,t),n=>n.action()),IS=(e,t)=>Wr(yB(e,t),n=>n.action()),Dp=(e,t)=>{const n=t?Ai.Forwards:Ai.Backwards,s=e.selection.getRng();return aT(e,n,s,c0,gv,xt).exists(l=>(Df(e,l),!0))},$v=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return eB(e,n,s,c0,gv,xt).exists(l=>(Df(e,l),!0))},wT=(e,t)=>tB(e,t,t?gv:c0),CT=Bo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Zu={...CT,none:e=>CT.none(e)},xB=(e,t)=>ST(e,t,Rn),ST=(e,t,n)=>ao(Wa(e),s=>yr(s,t)?n(s)?[s]:[]:ST(s,t,n)),wB=(e,t,n=xn)=>{if(n(t))return J.none();if(le(e,Po(t)))return J.some(t);const s=l=>yr(l,"table")||n(l);return Vc(t,e.join(","),s)},CB=(e,t)=>wB(["td","th"],e,t),jz=e=>xB(e,"th,td"),at=(e,t)=>Sa(e,"table",t),Bn=(e,t,n,s,l=Rn)=>{const f=s===1;if(!f&&n<=0)return Zu.first(e[0]);if(f&&n>=e.length-1)return Zu.last(e[e.length-1]);{const g=n+s,C=e[g];return l(C)?Zu.middle(t,C):Bn(e,t,g,s,l)}},no=(e,t)=>at(e,t).bind(n=>{const s=jz(n);return Cn(s,f=>Lo(e,f)).map(f=>({index:f,all:s}))}),Vr=(e,t,n)=>no(e,n).fold(()=>Zu.none(e),l=>Bn(l.all,e,l.index,1,t)),Ps=(e,t,n)=>no(e,n).fold(()=>Zu.none(),l=>Bn(l.all,e,l.index,-1,t)),qs=e=>tC(e).filter(t=>t.trim().length!==0||t.indexOf(da)>-1).isSome(),Ws=e=>vi(e)&&ii(e,"contenteditable")==="false",ia=["img","br"],Uv=e=>qs(e)||le(ia,Po(e))||Ws(e),Kz=e=>_a(e,Uv),_B=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),g$=(e,t)=>ao(t,n=>{const s=_B(ff(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),cX=(e,t,n)=>It(e,(s,l)=>s.fold(()=>J.some(l),f=>{const g=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-n)),C=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-n));return J.some(C<g?l:f)}),J.none()),h$=(e,t,n,s,l)=>{const f=Js(Be.fromDom(n),"td,th,caption").map(C=>C.dom),g=Ct(g$(e,f),C=>t(C,l));return cX(g,s,l).map(C=>C.cell)},uX=e=>e.bottom,dX=e=>e.top,fX=(e,t)=>e.y<t,mX=(e,t)=>e.y>t,gX=pt(h$,uX,fX),hX=pt(h$,dX,mX),pX=(e,t)=>cn(t.getClientRects()).bind(n=>gX(e,n.left,n.top)).bind(n=>kS(qI(n),t)),bX=(e,t)=>po(t.getClientRects()).bind(n=>hX(e,n.left,n.top)).bind(n=>kS(Oz(n),t)),vX=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),yX=e=>e.breakType===Ad.Wrap&&e.positions.length===0,xX=e=>e.breakType===Ad.Br&&e.positions.length===1,p$=(e,t,n)=>{const s=e(t,n);return yX(s)||!ns(n.getNode())&&xX(s)?!vX(e,t,s):s.breakAt.isNone()},wX=pt(p$,Y2),CX=pt(p$,X2),_X=(e,t,n)=>{const s=mt.fromRangeStart(t);return ev(!e,n).exists(l=>l.isEqual(s))},SX=(e,t,n,s)=>{const l=e.selection.getRng(),f=t?1:-1;return Qk()&&_X(t,l,n)?(ys(f,e,n,!t,!1).each(g=>{Df(e,g)}),!0):!1},kX=(e,t,n)=>pX(t,n).orThunk(()=>cn(n.getClientRects()).bind(s=>oT(ZI(e,mt.before(t)),s.left))).getOr(mt.before(t)),EX=(e,t,n)=>bX(t,n).orThunk(()=>cn(n.getClientRects()).bind(s=>oT(ES(e,mt.after(t)),s.left))).getOr(mt.after(t)),b$=(e,t)=>{const n=t.getNode(e);return Zc(n)?J.some(n):J.none()},AX=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?et:gs,l=Oa(t,Be.fromDom(n),s);Df(t,l)})},v$=(e,t,n)=>{const s=b$(!!t,n),l=t===!1;s.fold(()=>Df(e,n.toRange()),f=>ev(l,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>Df(e,n.toRange()),g=>AX(t,e,f)))},TX=(e,t,n,s)=>{const l=e.selection.getRng(),f=mt.fromRangeStart(l),g=e.getBody();if(!t&&wX(s,f)){const C=kX(g,n,f);return v$(e,t,C),!0}else if(t&&CX(s,f)){const C=EX(g,n,f);return v$(e,t,C),!0}else return!1},y$=(e,t,n)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>J.from(e.dom.getParent(s,"table")).map(l=>n(e,t,l,s))).getOr(!1),x$=(e,t)=>y$(e,t,SX),qz=(e,t)=>y$(e,t,TX),OX=e=>{const t=sp.exact(e,0,e,0);return zP(t)},w$=(e,t,n)=>n.fold(J.none,J.none,(s,l)=>Kz(l).map(f=>OX(f)),s=>(e.execCommand("mceTableInsertRowAfter"),C$(e,t,s))),C$=(e,t,n)=>w$(e,t,Vr(n,ls)),DX=(e,t,n)=>w$(e,t,Ps(n,ls)),_$=(e,t)=>{const n=["table","li","dl"],s=Be.fromDom(e.getBody()),l=C=>{const A=Po(C);return Lo(C,s)||le(n,A)},f=e.selection.getRng(),g=Be.fromDom(t?f.endContainer:f.startContainer);return CB(g,l).map(C=>(at(C,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?C$:DX)(e,l,C).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},RX=(e,t,n)=>{const s=Co.os.isMacOS()||Co.os.isiOS();Op([{keyCode:rn.RIGHT,action:Qn(Yo,e,!0)},{keyCode:rn.LEFT,action:Qn(Yo,e,!1)},{keyCode:rn.UP,action:Qn(Xm,e,!1)},{keyCode:rn.DOWN,action:Qn(Xm,e,!0)},...s?[{keyCode:rn.UP,action:Qn(N0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rn.DOWN,action:Qn(N0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rn.RIGHT,action:Qn(x$,e,!0)},{keyCode:rn.LEFT,action:Qn(x$,e,!1)},{keyCode:rn.UP,action:Qn(qz,e,!1)},{keyCode:rn.DOWN,action:Qn(qz,e,!0)},{keyCode:rn.UP,action:Qn(qz,e,!1)},{keyCode:rn.UP,action:Qn(dl,e,!1)},{keyCode:rn.DOWN,action:Qn(dl,e,!0)},{keyCode:rn.RIGHT,action:Qn(Dp,e,!0)},{keyCode:rn.LEFT,action:Qn(Dp,e,!1)},{keyCode:rn.UP,action:Qn($v,e,!1)},{keyCode:rn.DOWN,action:Qn($v,e,!0)},{keyCode:rn.RIGHT,action:Qn(uT,e,t,!0)},{keyCode:rn.LEFT,action:Qn(uT,e,t,!1)},{keyCode:rn.RIGHT,ctrlKey:!s,altKey:s,action:Qn(iB,e,t)},{keyCode:rn.LEFT,ctrlKey:!s,altKey:s,action:Qn(lB,e,t)},{keyCode:rn.UP,action:Qn(RS,e,!1)},{keyCode:rn.DOWN,action:Qn(RS,e,!0)}],n).each(l=>{n.preventDefault()})},NX=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||RX(e,t,n)})},mh=(e,t)=>({container:e,offset:t}),SB=Ir.DOM,kB=e=>t=>e===t?-1:0,IX=e=>t=>e.isBlock(t)||le(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Gz=(e,t,n)=>{if(Mt(e)&&t>=0)return J.some(mh(e,t));{const s=md(SB);return J.from(s.backwards(e,t,kB(e),n)).map(l=>mh(l.container,l.container.data.length))}},BX=(e,t,n)=>{if(Mt(e)&&t>=e.length)return J.some(mh(e,t));{const s=md(SB);return J.from(s.forwards(e,t,kB(e),n)).map(l=>mh(l.container,0))}},Yz=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t>=0&&t<=s.length)return J.some(mh(e,t));{const l=md(SB);return J.from(l.backwards(e,t,kB(e),n)).bind(f=>{const g=f.container.data;return Yz(f.container,t+g.length,n)})}},S$=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t<=s.length)return J.some(mh(e,t));{const l=md(SB);return J.from(l.forwards(e,t,kB(e),n)).bind(f=>S$(f.container,t-s.length,n))}},Xz=(e,t,n,s,l)=>{const f=md(e,IX(e));return J.from(f.backwards(t,n,s,l))},MX=e=>e.collapsed&&Mt(e.startContainer),PX=e=>il(e.toString().replace(/\u00A0/g," ")),k$=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,LX=(e,t)=>e.substring(t.length),FX=(e,t,n,s=!1)=>{let l;const f=n.charAt(0);for(l=t-1;l>=0;l--){const g=e.charAt(l);if(!s&&k$(g))return J.none();if(f===g&&vr(e,n,l,t))break}return J.some(l)},Jz=(e,t,n,s=!1)=>{if(!MX(t))return J.none();const l={text:"",offset:0},f=(C,A,F)=>(l.text=F+l.text,l.offset+=A,FX(l.text,l.offset,n,s).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Xz(e,t.startContainer,t.startOffset,f,g).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const F=PX(A);return F.lastIndexOf(n)!==0?J.none():J.some({text:LX(F,n),range:A,trigger:n})})},zX=e=>e.nodeType===pg,HX=e=>e.nodeType===tl,E$=e=>{if(zX(e))return mh(e,e.data.length);{const t=e.childNodes;return t.length>0?E$(t[t.length-1]):mh(e,t.length)}},A$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?A$(n[t],0):n.length>0&&HX(e)&&n.length===t?E$(n[n.length-1]):mh(e,t)},VX=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Xz(e,t.container,t.offset,(l,f)=>f===0?-1:f,s).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!k$(f)}).isSome()},$X=e=>t=>{const n=A$(t.startContainer,t.startOffset);return!VX(e,n)},UX=(e,t,n)=>Wr(n.triggers,s=>Jz(e,t,s)),WX=(e,t)=>{const n=t(),s=e.selection.getRng();return UX(e.dom,s,n).bind(l=>T$(e,t,l))},T$=(e,t,n,s={})=>{var l;const f=t(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=Ct(f.lookupByTrigger(n.trigger),j=>n.text.length>=j.minChars&&j.matches.getOrThunk(()=>$X(e.dom))(n.range,C,n.text));if(A.length===0)return J.none();const F=Promise.all(Me(A,j=>j.fetch(n.text,j.maxResults,s).then(X=>({matchText:n.text,items:X,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return J.some({lookupData:F,context:n})};var gh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(gh||(gh={}));const Qz=(e,t,n)=>e.stype===gh.Error?t(e.serror):n(e.svalue),ZX=e=>{const t=[],n=[];return ge(e,s=>{Qz(s,l=>n.push(l),l=>t.push(l))}),{values:t,errors:n}},jX=(e,t)=>e.stype===gh.Error?{stype:gh.Error,serror:t(e.serror)}:e,KX=(e,t)=>e.stype===gh.Value?{stype:gh.Value,svalue:t(e.svalue)}:e,qX=(e,t)=>e.stype===gh.Value?t(e.svalue):e,GX=(e,t)=>e.stype===gh.Error?t(e.serror):e,O$=e=>({stype:gh.Value,svalue:e}),D$=e=>({stype:gh.Error,serror:e}),wl={fromResult:e=>e.fold(D$,O$),toResult:e=>Qz(e,$n.error,$n.value),svalue:O$,partition:ZX,serror:D$,bind:qX,bindError:GX,map:KX,mapError:jX,fold:Qz},e9=e=>te(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),YX=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Qe("... (only showing first ten failures)")}]):e;return Me(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},EB=(e,t)=>wl.serror([{path:e,getErrorInfo:t}]),XX=(e,t,n)=>EB(e,()=>'Could not find valid *required* value for "'+t+'" in '+e9(n)),JX=(e,t)=>EB(e,()=>'Choice schema did not contain choice key: "'+t+'"'),QX=(e,t,n)=>EB(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+e9(t)),eJ=(e,t)=>EB(e,Qe(t)),tJ=(e,t,n,s)=>dr(n,s).fold(()=>QX(e,n,s),f=>f.extract(e.concat(["branch: "+s]),t)),nJ=(e,t)=>({extract:(l,f)=>dr(f,e).fold(()=>JX(l,e),C=>tJ(l,f,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(t)}),oJ=(e,t)=>t,rJ=(e,t)=>Ae(e)&&Ae(t)?AB(e,t):t,R$=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const l=t[s];for(const f in l)Gn(l,f)&&(n[f]=e(n[f],l[f]))}return n},AB=R$(rJ),N$=R$(oJ),I$=()=>({tag:"required",process:{}}),sJ=e=>({tag:"defaultedThunk",process:e}),B$=e=>sJ(Qe(e)),aJ=()=>({tag:"option",process:{}}),iJ=(e,t)=>e.length>0?wl.svalue(AB(t,N$.apply(void 0,e))):wl.svalue(t),M$=e=>ln(wl.serror,En)(e),lJ={consolidateObj:(e,t)=>{const n=wl.partition(e);return n.errors.length>0?M$(n.errors):iJ(n.values,t)},consolidateArr:e=>{const t=wl.partition(e);return t.errors.length>0?M$(t.errors):wl.svalue(t.values)}},cJ=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),uJ=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),P$=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},t9=e=>{const t=(s,l)=>wl.bindError(e(l),f=>eJ(s,f)),n=Qe("val");return{extract:t,toString:n}},dJ=t9(wl.svalue),fJ=(e,t,n,s)=>dr(t,n).fold(()=>XX(e,n,t),s),L$=(e,t,n,s)=>{const l=dr(e,t).getOrThunk(()=>n(e));return s(l)},mJ=(e,t,n)=>n(dr(e,t)),gJ=(e,t,n,s)=>{const l=dr(e,t).map(f=>f===!0?n(e):f);return s(l)},hJ=(e,t,n,s,l)=>{const f=C=>l.extract(t.concat([s]),C),g=C=>C.fold(()=>wl.svalue(J.none()),A=>{const F=l.extract(t.concat([s]),A);return wl.map(F,J.some)});switch(e.tag){case"required":return fJ(t,n,s,f);case"defaultedThunk":return L$(n,s,e.process,f);case"option":return mJ(n,s,g);case"defaultedOptionThunk":return gJ(n,s,e.process,g);case"mergeWithThunk":return L$(n,s,Qe({}),C=>{const A=AB(e.process(n),C);return f(A)})}},pJ=(e,t,n)=>{const s={},l=[];for(const f of n)P$(f,(g,C,A,F)=>{const j=hJ(A,e,t,g,F);wl.fold(j,q=>{l.push(...q)},q=>{s[C]=q})},(g,C)=>{s[g]=C(t)});return l.length>0?wl.serror(l):wl.svalue(s)},n9=e=>({extract:(s,l)=>pJ(s,l,e),toString:()=>`obj{
`+Me(e,l=>P$(l,(f,g,C,A)=>f+" -> "+A.toString(),(f,g)=>"state("+f+")")).join(`
`)+"}"}),F$=e=>({extract:(s,l)=>{const f=Me(l,(g,C)=>e.extract(s.concat(["["+C+"]"]),g));return lJ.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),bJ=e=>t9(t=>e(t).fold(wl.serror,wl.svalue)),vJ=(e,t,n)=>{const s=t.extract([e],n);return wl.mapError(s,l=>({input:n,errors:l}))},yJ=(e,t,n)=>wl.toResult(vJ(e,t,n)),xJ=e=>`Errors: 
`+YX(e.errors).join(`
`)+`

Input object: `+e9(e.input),z$=(e,t)=>nJ(e,kl(t,n9)),wJ=Qe(dJ),TB=(e,t)=>t9(n=>{const s=typeof n;return e(n)?wl.svalue(n):wl.serror(`Expected type: ${t} but got: ${s}`)}),CJ=TB(D,"number"),OB=TB(Te,"string"),_J=TB(Ve,"boolean"),o9=TB(Ne,"function"),kT=cJ,H$=uJ,SJ=e=>bJ(t=>le(e,t)?$n.value(t):$n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),V$=(e,t)=>kT(e,e,I$(),t),$$=e=>V$(e,OB),U$=e=>V$(e,o9),kJ=(e,t)=>kT(e,e,I$(),F$(t)),r9=(e,t)=>kT(e,e,aJ(),t),DB=e=>r9(e,OB),EJ=e=>r9(e,o9),AJ=(e,t)=>kT(e,e,B$(t),wJ()),BS=(e,t,n)=>kT(e,e,B$(t),n),W$=(e,t)=>BS(e,t,CJ),TJ=(e,t)=>BS(e,t,OB),Z$=(e,t,n)=>BS(e,t,SJ(n)),s9=(e,t)=>BS(e,t,_J),a9=(e,t)=>BS(e,t,o9),OJ=(e,t,n)=>BS(e,t,F$(n)),DJ=$$("type"),RJ=U$("fetch"),i9=U$("onAction"),NJ=a9("onSetup",()=>Pt),IJ=DB("text"),BJ=DB("icon"),MJ=DB("tooltip"),PJ=DB("label"),LJ=s9("active",!1),FJ=s9("enabled",!0),j$=s9("primary",!1),zJ=e=>AJ("columns",e),ET=e=>TJ("type",e),HJ=n9([DJ,$$("trigger"),W$("minChars",1),zJ(1),W$("maxResults",10),EJ("matches"),RJ,i9,OJ("highlightOn",[],OB)]),VJ=e=>yJ("Autocompleter",HJ,e),l9=[FJ,MJ,BJ,IJ,NJ],K$=[LJ].concat(l9),$J=[a9("predicate",xn),Z$("scope","node",["node","editor"]),Z$("position","selection",["node","selection","line"])],UJ=l9.concat([ET("contextformbutton"),j$,i9,H$("original",On)]),WJ=K$.concat([ET("contextformbutton"),j$,i9,H$("original",On)]),ZJ=l9.concat([ET("contextformbutton")]),jJ=K$.concat([ET("contextformtogglebutton")]),KJ=z$("type",{contextformbutton:UJ,contextformtogglebutton:WJ});n9([ET("contextform"),a9("initValue",Qe("")),PJ,kJ("commands",KJ),r9("launch",z$("type",{contextformbutton:ZJ,contextformtogglebutton:jJ}))].concat($J));const qJ=e=>{const t=e.ui.registry.getAll().popups,n=kl(t,g=>VJ(g).fold(C=>{throw new Error(xJ(C))},On)),s=mu(Xi(n,g=>g.trigger)),l=fu(n);return{dataset:n,triggers:s,lookupByTrigger:g=>Ct(l,C=>C.trigger===g)}},GJ=(e,t)=>{const n=Vh(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const l=s.which;l===8?n.throttle():l===27?(n.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&n.cancel()},!0),e.on("remove",n.cancel)},YJ=e=>{const t=ma(),n=fa(!1),s=t.isSet,l=()=>{s()&&(kP(e),n.set(!1),t.clear())},f=q=>{s()||t.set({trigger:q.trigger,matchLength:q.text.length})},g=gl(()=>qJ(e)),C=q=>t.get().map(X=>Jz(e.dom,e.selection.getRng(),X.trigger,!0).bind(ue=>T$(e,g,ue,q))).getOrThunk(()=>WX(e,g)),A=q=>{C(q).fold(l,X=>{f(X.context),X.lookupData.then(ue=>{t.get().map(we=>{const de=X.context;we.trigger===de.trigger&&(t.set({...we,matchLength:de.text.length}),n.get()?(SE(e,{range:de.range}),_E(e,{lookupData:ue})):(n.set(!0),SE(e,{range:de.range}),CE(e,{lookupData:ue})))})})})},F=(q,X)=>{const ue=q.compareBoundaryPoints(window.Range.START_TO_START,X),we=q.compareBoundaryPoints(window.Range.END_TO_END,X);return ue>=0&&we<=0},j=()=>t.get().bind(({trigger:q})=>{const X=e.selection.getRng();return Jz(e.dom,X,q,n.get()).filter(({range:ue})=>F(X,ue)).map(({range:ue})=>ue)});e.addCommand("mceAutocompleterReload",(q,X)=>{const ue=te(X)?X.fetchOptions:{};A(ue)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(q=>{SE(e,{range:q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),GJ(e,{cancelIfNecessary:l,load:A})},XJ=Fa().browser.isSafari(),q$=e=>pc(Be.fromDom(e)),G$=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},RB=(e,t)=>J.from(e.getParent(t.container(),"details")),Y$=(e,t)=>RB(e,t).isSome(),JJ=(e,t)=>{const n=J.from(e.getParent(t.startContainer,"details")),s=J.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const l=n.bind(f=>J.from(e.select("summary",f)[0]));return J.some({startSummary:l,startDetails:n,endDetails:s})}else return J.none()},QJ=(e,t)=>Un(t).exists(n=>n.isEqual(e)),eQ=(e,t)=>Nu(t).exists(n=>ns(n.getNode())&&yc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),tQ=(e,t)=>t.startSummary.exists(n=>QJ(e,n)),nQ=(e,t)=>t.startSummary.exists(n=>eQ(e,n)),oQ=(e,t)=>t.startDetails.exists(n=>yc(n,e).forall(s=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(s.container())))),rQ=(e,t,n)=>n.startDetails.exists(s=>Dl(e,t).forall(l=>!s.contains(l.container()))),X$=(e,t)=>{const n=t.getNode();Ze(n)||e.selection.setCursorLocation(n,t.offset())},J$=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const l=e.dom.select("summary",s)[0];l&&(n?Un(l):Nu(l)).each(g=>X$(e,g))}else X$(e,t)},sQ=(e,t)=>{const n=A=>A.contains(e.startContainer),s=A=>A.contains(e.endContainer),l=t.startSummary.exists(n),f=t.startSummary.exists(s),g=t.startDetails.forall(A=>t.endDetails.forall(F=>A!==F));return(l||f)&&!(l&&f)||g},Q$=(e,t,n)=>{const{dom:s,selection:l}=e,f=e.getBody();if(n==="character"){const g=mt.fromRangeStart(l.getRng()),C=s.getParent(g.container(),s.isBlock),A=RB(s,g),F=C&&s.isEmpty(C),j=Ge(C==null?void 0:C.previousSibling),q=Ge(C==null?void 0:C.nextSibling);return F&&(t?q:j)&&Yb(!t,f,g).exists(we=>Y$(s,we)&&!$d(A,RB(s,we)))?!0:Yb(t,f,g).fold(xn,X=>{const ue=RB(s,X);if(Y$(s,X)&&!$d(A,ue)){if(t||J$(e,X,!1),C&&F){if(t&&j)return!0;if(!t&&q)return!0;J$(e,X,t),e.dom.remove(C)}return!0}else return!1})}else return!1},aQ=(e,t,n,s)=>{const f=e.selection.getRng(),g=mt.fromRangeStart(f),C=e.getBody();return s==="selection"?sQ(f,t):n?nQ(g,t)||rQ(C,g,t):tQ(g,t)||oQ(g,t)},iQ=(e,t,n)=>JJ(e.dom,e.selection.getRng()).fold(()=>Q$(e,t,n),s=>aQ(e,s,t,n)||Q$(e,t,n)),lQ=(e,t,n)=>{const s=e.selection,l=s.getNode(),f=s.getRng(),g=mt.fromRangeStart(f);return Bh(l)?(n==="selection"&&G$(f,l)||fR(t,g,l)?q$(l):e.undoManager.transact(()=>{const C=s.getSel();let{anchorNode:A,anchorOffset:F,focusNode:j,focusOffset:q}=C??{};const X=()=>{Ce(A)&&Ce(F)&&Ce(j)&&Ce(q)&&(C==null||C.setBaseAndExtent(A,F,j,q))},ue=()=>{A=C==null?void 0:C.anchorNode,F=C==null?void 0:C.anchorOffset,j=C==null?void 0:C.focusNode,q=C==null?void 0:C.focusOffset},we=(ke,Fe)=>{ge(ke.childNodes,qe=>{sv(qe)&&Fe.appendChild(qe)})},de=e.dom.create("span",{"data-mce-bogus":"1"});we(l,de),l.appendChild(de),X(),(n==="word"||n==="line")&&(C==null||C.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&G$(s.getRng(),de)?q$(l):(e.execCommand(t?"ForwardDelete":"Delete"),ue(),we(de,l),X()),e.dom.remove(de)}),!0):!1},lw=(e,t,n)=>iQ(e,t,n)||XJ&&lQ(e,t,n)?J.some(Pt):J.none(),eU=e=>(t,n,s={})=>{const l=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Pt,inputType:n},g=pm(new InputEvent(e));return t.dispatch(e,{...g,...f,...s})},AT=eU("input"),NB=eU("beforeinput"),tU=Fa(),nU=tU.os,oU=nU.isMacOS()||nU.isiOS(),cQ=tU.browser.isFirefox(),uQ=(e,t,n)=>{const s=n.keyCode===rn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",g=C=>l?C?"word":"line":"selection";IS([{keyCode:rn.BACKSPACE,action:Qn(gt,e)},{keyCode:rn.BACKSPACE,action:Qn(X4,e,!1)},{keyCode:rn.DELETE,action:Qn(X4,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(q4,e,!1)},{keyCode:rn.DELETE,action:Qn(q4,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(nw,e,t,!1)},{keyCode:rn.DELETE,action:Qn(nw,e,t,!0)},{keyCode:rn.BACKSPACE,action:Qn(nh,e,!1)},{keyCode:rn.DELETE,action:Qn(nh,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(lw,e,!1,f)},{keyCode:rn.DELETE,action:Qn(lw,e,!0,f)},...oU?[{keyCode:rn.BACKSPACE,altKey:!0,action:Qn(lw,e,!1,g(!0))},{keyCode:rn.DELETE,altKey:!0,action:Qn(lw,e,!0,g(!0))},{keyCode:rn.BACKSPACE,metaKey:!0,action:Qn(lw,e,!1,g(!1))}]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Qn(lw,e,!1,g(!0))},{keyCode:rn.DELETE,ctrlKey:!0,action:Qn(lw,e,!0,g(!0))}],{keyCode:rn.BACKSPACE,action:Qn(Q4,e,!1)},{keyCode:rn.DELETE,action:Qn(Q4,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(Y,e,!1)},{keyCode:rn.DELETE,action:Qn(Y,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(Z4,e,!1)},{keyCode:rn.DELETE,action:Qn(Z4,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(yS,e,!1)},{keyCode:rn.DELETE,action:Qn(yS,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(w,e,!1)},{keyCode:rn.DELETE,action:Qn(w,e,!0)},{keyCode:rn.BACKSPACE,action:Qn(J4,e,!1)},{keyCode:rn.DELETE,action:Qn(J4,e,!0)}],n).filter(C=>e.selection.isEditable()).each(C=>{n.preventDefault(),NB(e,s).isDefaultPrevented()||(C(),AT(e,s))})},dQ=(e,t,n)=>Op([{keyCode:rn.BACKSPACE,action:Qn(_I,e)},{keyCode:rn.DELETE,action:Qn(_I,e)},...oU?[{keyCode:rn.BACKSPACE,altKey:!0,action:Qn(L,e)},{keyCode:rn.DELETE,altKey:!0,action:Qn(L,e)},...n?[{keyCode:cQ?224:91,action:Qn(L,e)}]:[]]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Qn(L,e)},{keyCode:rn.DELETE,ctrlKey:!0,action:Qn(L,e)}]],t),fQ=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===rn.BACKSPACE,s.isDefaultPrevented()||uQ(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||dQ(e,s,n),n=!1})},mQ=e=>{for(;e;){if(yn(e)||Mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},MS=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=mQ(t.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&t.insertBefore(n.doc.createTextNode(da),t.firstChild)}const l=n.createRng();if(t.normalize(),t.hasChildNodes()){const f=new Za(t,t);let g=t,C;for(;C=f.current();){if(Mt(C)){l.setStart(C,0),l.setEnd(C,0);break}if(s[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}g=C,C=f.next()}C||(l.setStart(g,0),l.setEnd(g,0))}else ns(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Mu(e,l)},TT=(e,t)=>{const n=e.getRoot();let s,l=t;for(;l!==n&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){s=l;break}l=l.parentNode}return l!==n?s:n},c9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),gQ=e=>c9(e).fold(Qe(""),t=>t.nodeName.toUpperCase()),hQ=e=>c9(e).filter(t=>_m(Be.fromDom(t))).isSome(),u9=e=>{e.innerHTML='<br data-mce-bogus="1">'},pQ=(e,t,n)=>{const s=e.dom;J.from(n.style).map(s.parseStyle).each(A=>{const j={...xg(Be.fromDom(t)),...A};s.setStyles(t,j)});const l=J.from(n.class).map(A=>A.split(/\s+/)),f=J.from(t.className).map(A=>Ct(A.split(/\s+/),F=>F!==""));Ha(l,f,(A,F)=>{const j=Ct(F,X=>!le(A,X)),q=[...A,...j];s.setAttrib(t,"class",q.join(" "))});const g=["style","class"],C=ec(n,(A,F)=>!le(g,F));s.setAttribs(t,C)},OT=(e,t)=>{if(Ui(e).toLowerCase()===t.tagName.toLowerCase()){const s=yx(e);pQ(e,t,s)}},rU=(e,t,n,s,l=!0,f,g)=>{const C=e.dom,A=e.schema,F=Ui(e),j=n?n.nodeName.toUpperCase():"";let q=t;const X=A.getTextInlineElements();let ue;f||j==="TABLE"||j==="HR"?ue=C.create(f||F,g||{}):ue=n.cloneNode(!1);let we=ue;if(!l)C.setAttrib(ue,"style",null),C.setAttrib(ue,"class",null);else do if(X[q.nodeName]){if(nu(q)||ou(q))continue;const de=q.cloneNode(!1);C.setAttrib(de,"id",""),ue.hasChildNodes()?(de.appendChild(ue.firstChild),ue.appendChild(de)):(we=de,ue.appendChild(de))}while((q=q.parentNode)&&q!==s);return OT(e,ue),u9(we),ue},bQ=(e,t)=>e.dom.getParent(t,Ih),vQ=(e,t,n)=>{let s=t;for(;s&&s!==e&&Ge(s.nextSibling);){const l=s.parentElement;if(!l||!n(l))return Ih(l);s=l}return!1},yQ=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ui(e)&&e.dom.isEmpty(n)&&vQ(e.getBody(),n,s=>Gn(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),xQ=(e,t,n)=>{var s,l,f;const g=t(Ui(e)),C=bQ(e,n);C&&(e.dom.insertAfter(g,C),MS(e,g),((f=(l=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(n))},wQ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,CQ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},sU=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ce(n)&&n.nodeName===t},aU=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),d9=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),_Q=e=>aU(e)&&aU(e.parentNode),IB=e=>{const t=e.parentNode;return d9(t)?t:e},BB=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!yn(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},iU=e=>It(Xi(xg(Be.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),SQ=(e,t,n,s,l)=>{const f=e.dom,g=e.selection.getRng(),C=n.parentNode;if(n===e.getBody()||!C)return;_Q(n)&&(l="LI");const A=d9(s)?iU(s):void 0;let F=d9(s)&&A?t(l,{style:iU(s)}):t(l);if(BB(n,s,!0)&&BB(n,s,!1))if(sU(n,"LI")){const j=IB(n);f.insertAfter(F,j),CQ(n)?f.remove(j):f.remove(n)}else f.replace(F,n);else if(BB(n,s,!0))sU(n,"LI")?(f.insertAfter(F,IB(n)),F.appendChild(f.doc.createTextNode(" ")),F.appendChild(n)):C.insertBefore(F,n),f.remove(s);else if(BB(n,s,!1))f.insertAfter(F,IB(n)),f.remove(s);else{n=IB(n);const j=g.cloneRange();j.setStartAfter(s),j.setEndAfter(n);const q=j.extractContents();if(l==="LI"&&wQ(q,"LI")){const X=Ct(Me(F.children,Be.fromDom),bt(jd("br")));F=q.firstChild,f.insertAfter(q,n),ge(X,ue=>_i(Be.fromDom(F),ue)),A&&F.setAttribute("style",A)}else f.insertAfter(q,n),f.insertAfter(F,n);f.remove(s)}MS(e,F)},kQ=e=>{ge(cm(Be.fromDom(e),Gr),t=>{const n=t.dom;n.nodeValue=il(n.data)})},EQ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},AQ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),f9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,m9=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",TQ=(e,t,n)=>{var s;const l=[];if(!n)return;let f=n;for(;f=f.firstChild;){if(e.isBlock(f))return;yn(f)&&!t[f.nodeName.toLowerCase()]&&l.push(f)}let g=l.length;for(;g--;)f=l[g],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((s=f.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||AQ(e,f))&&e.remove(f)},g9=(e,t,n)=>Mt(t)?e?n===1&&t.data.charAt(n-1)===sa?0:n:n===t.data.length-1&&t.data.charAt(n)===sa?t.data.length:n:n,OQ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,g9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,g9(!1,e.endContainer,e.endOffset)),t},DQ=e=>{let t=e;do Mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},RQ=(e,t,n,s,l)=>{var f,g;const C=e.dom,A=(f=TT(C,s))!==null&&f!==void 0?f:C.getRoot();let F=C.getParent(s,C.isBlock);if(!F||!m9(C,F)){if(F=F||A,!F.hasChildNodes()){const ue=C.create(t);return OT(e,ue),F.appendChild(ue),n.setStart(ue,0),n.setEnd(ue,0),ue}let j=s;for(;j&&j.parentNode!==F;)j=j.parentNode;let q;for(;j&&!C.isBlock(j);)q=j,j=j.previousSibling;const X=(g=q==null?void 0:q.parentElement)===null||g===void 0?void 0:g.nodeName;if(q&&X&&e.schema.isValidChild(X,t.toLowerCase())){const ue=q.parentNode,we=C.create(t);for(OT(e,we),ue.insertBefore(we,q),j=q;j&&!C.isBlock(j);){const de=j.nextSibling;we.appendChild(j),j=de}n.setStart(s,l),n.setEnd(s,l)}}return s},NQ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||yn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},IQ=(e,t)=>{const n=Mk(e);return rt(t)?!1:Te(n)?le(Kt.explode(n),t.nodeName.toLowerCase()):n},lU={insert:(e,t)=>{let n,s,l,f,g=!1;const C=e.dom,A=e.schema,F=A.getNonEmptyElements(),j=e.selection.getRng(),q=Ui(e),X=Be.fromDom(j.startContainer),ue=wu(X,j.startOffset),we=ue.exists(Dt=>vi(Dt)&&!ls(Dt)),de=j.collapsed&&we,ke=(Dt,pn)=>rU(e,n,jt,Nt,Bk(e),Dt,pn),Fe=Dt=>{const pn=g9(Dt,n,s);if(Mt(n)&&(Dt?pn>0:pn<n.data.length))return!1;if((n.parentNode===jt||n===jt)&&g&&!Dt||Dt&&yn(n)&&n===jt.firstChild)return!0;if(f9(n,"TABLE")||f9(n,"HR"))return g&&!Dt||!g&&Dt;const Nn=new Za(n,jt);Mt(n)&&(Dt&&pn===0?Nn.prev():!Dt&&pn===n.data.length&&Nn.next());let yo;for(;yo=Nn.current();){if(yn(yo)){if(!yo.getAttribute("data-mce-bogus")){const To=yo.nodeName.toLowerCase();if(F[To]&&To!=="br")return!1}}else if(Mt(yo)&&!Ll(yo.data))return!1;Dt?Nn.prev():Nn.next()}return!0},qe=()=>{let Dt;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&un!=="HGROUP"?Dt=ke(q):Dt=ke(),IQ(e,f)&&m9(C,f)&&C.isEmpty(jt,void 0,{includeZwsp:!0})?Dt=C.split(f,jt):C.insertAfter(Dt,jt),MS(e,Dt),Dt};Mm(C,j).each(Dt=>{j.setStart(Dt.startContainer,Dt.startOffset),j.setEnd(Dt.endContainer,Dt.endOffset)}),n=j.startContainer,s=j.startOffset;const We=!!(t&&t.shiftKey),st=!!(t&&t.ctrlKey);yn(n)&&n.hasChildNodes()&&!de&&(g=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,g&&Mt(n)?s=n.data.length:s=0);const Nt=TT(C,n);if(!Nt||EQ(e,n))return;We||(n=RQ(e,q,j,n,s));let jt=C.getParent(n,C.isBlock)||C.getRoot();f=Ce(jt==null?void 0:jt.parentNode)?C.getParent(jt.parentNode,C.isBlock):null,l=jt?jt.nodeName.toUpperCase():"";const un=f?f.nodeName.toUpperCase():"";if(un==="LI"&&!st){const Dt=f;jt=Dt,f=Dt.parentNode,l=un}if(yn(f)&&yQ(e,We,jt))return xQ(e,ke,jt);if(/^(LI|DT|DD)$/.test(l)&&yn(f)&&C.isEmpty(jt)){SQ(e,ke,f,jt,q);return}if(!de&&(jt===e.getBody()||!m9(C,jt)))return;const wt=jt.parentNode;let dt;if(de)dt=ke(q),ue.fold(()=>{Ds(X,Be.fromDom(dt))},Dt=>{gs(Dt,Be.fromDom(dt))}),e.selection.setCursorLocation(dt,0);else if(Uh(jt))dt=Vg(jt),C.isEmpty(jt)&&u9(jt),OT(e,dt),MS(e,dt);else if(Fe(!1))dt=qe();else if(Fe(!0)&&wt){const Dt=mt.fromRangeStart(j),pn=hv(Dt),Nn=Be.fromDom(jt),To=d0(Nn,Dt,e.schema)?c_(Nn,Dt,e.schema).bind(Or=>J.from(Or.getNode())):J.none();dt=wt.insertBefore(ke(),jt);const mr=f9(jt,"HR")||pn?dt:To.getOr(jt);MS(e,mr)}else{const Dt=OQ(j).cloneRange();Dt.setEndAfter(jt);const pn=Dt.extractContents();kQ(pn),DQ(pn),dt=pn.firstChild,C.insertAfter(pn,jt),TQ(C,F,dt),NQ(C,jt),C.isEmpty(jt)&&u9(jt),dt.normalize(),C.isEmpty(dt)?(C.remove(dt),qe()):(OT(e,dt),MS(e,dt))}C.setAttrib(dt,"id",""),e.dispatch("NewBlock",{newBlock:dt})},fakeEventName:"insertParagraph"},BQ=(e,t,n)=>{const s=new Za(t,n);let l;const f=e.getNonEmptyElements();for(;l=s.next();)if(f[l.nodeName.toLowerCase()]||Mt(l)&&l.length>0)return!0;return!1},cU=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Mu(e,s)},MQ=(e,t)=>{const n=e.selection,s=e.dom,l=n.getRng();let f,g=!1;Mm(s,l).each(ue=>{l.setStart(ue.startContainer,ue.startOffset),l.setEnd(ue.endContainer,ue.endOffset)});let C=l.startOffset,A=l.startContainer;if(yn(A)&&A.hasChildNodes()){const ue=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ue&&Mt(A)?C=A.data.length:C=0}let F=s.getParent(A,s.isBlock);const j=F&&F.parentNode?s.getParent(F.parentNode,s.isBlock):null,q=j?j.nodeName.toUpperCase():"",X=!!(t&&t.ctrlKey);q==="LI"&&!X&&(F=j),Mt(A)&&C>=A.data.length&&(BQ(e.schema,A,F||s.getRoot())||(f=s.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=s.create("br"),j1(s,l,f),cU(e,f,g),e.undoManager.add()},PQ=(e,t)=>{const n=Be.fromTag("br");gs(Be.fromDom(t),n),e.undoManager.add()},LQ=(e,t)=>{zQ(e.getBody(),t)||et(Be.fromDom(t),Be.fromTag("br"));const n=Be.fromTag("br");et(Be.fromDom(t),n),cU(e,n.dom,!1),e.undoManager.add()},FQ=e=>ns(e.getNode()),zQ=(e,t)=>FQ(mt.after(t))?!0:Dl(e,mt.after(t)).map(n=>ns(n.getNode())).getOr(!1),uU=e=>e&&e.nodeName==="A"&&"href"in e,HQ=e=>e.fold(xn,uU,uU,xn),VQ=e=>{const t=pt(m0,e),n=mt.fromRangeStart(e.selection.getRng());return qm(t,e.getBody(),n).filter(HQ)},$Q=(e,t)=>{t.fold(Pt,pt(PQ,e),pt(LQ,e),Pt)},dU={insert:(e,t)=>{const n=VQ(e);n.isSome()?n.each(pt($Q,e)):MQ(e,t)},fakeEventName:"insertLineBreak"},fU=(e,t)=>c9(e).filter(n=>t.length>0&&yr(Be.fromDom(n),t)).isSome(),UQ=e=>fU(e,hO(e)),WQ=e=>fU(e,pO(e)),Od=Bo.generate([{br:[]},{block:[]},{none:[]}]),ZQ=(e,t)=>WQ(e),mU=e=>(t,n)=>hQ(t)===e,gU=(e,t)=>(n,s)=>gQ(n)===e.toUpperCase()===t,jQ=e=>{const t=TT(e.dom,e.selection.getStart());return rt(t)},DT=e=>gU("pre",e),KQ=()=>gU("summary",!0),MB=e=>(t,n)=>Nk(t)===e,qQ=(e,t)=>UQ(e),PB=(e,t)=>t,GQ=e=>{const t=Ui(e),n=TT(e.dom,e.selection.getStart());return Ce(n)&&e.schema.isValidChild(n.nodeName,t)},YQ=e=>{const t=e.selection.getRng(),n=Be.fromDom(t.startContainer),l=wu(n,t.startOffset).map(f=>vi(f)&&!ls(f));return t.collapsed&&l.getOr(!0)},Rf=(e,t)=>(n,s)=>It(e,(f,g)=>f&&g(n,s),!0)?J.some(t):J.none(),XQ=(e,t)=>BI([Rf([ZQ],Od.none()),Rf([DT(!0),jQ],Od.none()),Rf([KQ()],Od.br()),Rf([DT(!0),MB(!1),PB],Od.br()),Rf([DT(!0),MB(!1)],Od.block()),Rf([DT(!0),MB(!0),PB],Od.block()),Rf([DT(!0),MB(!0)],Od.br()),Rf([mU(!0),PB],Od.br()),Rf([mU(!0)],Od.block()),Rf([qQ],Od.br()),Rf([PB],Od.br()),Rf([GQ],Od.block()),Rf([YQ],Od.block())],[e,!!(t&&t.shiftKey)]).getOr(Od.none()),LB=(e,t,n)=>{t.selection.isCollapsed()||uR(t),!(Ce(n)&&NB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ce(n)&&AT(t,e.fakeEventName))},hU=(e,t)=>{const n=()=>LB(dU,e,t),s=()=>LB(lU,e,t),l=XQ(e,t);switch(Ik(e)){case"linebreak":l.fold(n,n,Pt);break;case"block":l.fold(s,s,Pt);break;case"invert":l.fold(s,n,Pt);break;default:l.fold(n,s,Pt);break}},pU=Fa(),JQ=pU.os.isiOS()&&pU.browser.isSafari(),bU=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),KL(e.undoManager),e.undoManager.transact(()=>{hU(e,t)}))},QQ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Mt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},eee=e=>{let t=J.none();const n=l=>{t=J.some(l.selection.getBookmark()),l.undoManager.add()},s=(l,f)=>{l.undoManager.undo(),t.fold(Pt,g=>l.selection.moveToBookmark(g)),bU(l,f),t=J.none()};e.on("keydown",l=>{l.keyCode===rn.ENTER&&(JQ&&QQ(e.selection.getRng())?n(e):bU(e,l))}),e.on("keyup",l=>{l.keyCode===rn.ENTER&&t.each(()=>s(e,l))})},tee=(e,t,n)=>{const s=Co.os.isMacOS()||Co.os.isiOS();Op([{keyCode:rn.END,action:Qn(Td,e,!0)},{keyCode:rn.HOME,action:Qn(Td,e,!1)},...s?[]:[{keyCode:rn.HOME,action:Qn(N0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rn.END,action:Qn(N0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rn.END,action:Qn(wT,e,!0)},{keyCode:rn.HOME,action:Qn(wT,e,!1)},{keyCode:rn.END,action:Qn(ew,e,!0,t)},{keyCode:rn.HOME,action:Qn(ew,e,!1,t)}],n).each(l=>{n.preventDefault()})},nee=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||tee(e,t,n)})},oee=e=>{e.on("input",t=>{t.isComposing||u7(e)})},ree=Fa(),see=(e,t,n)=>{Op([{keyCode:rn.PAGE_UP,action:Qn(ew,e,!1,t)},{keyCode:rn.PAGE_DOWN,action:Qn(ew,e,!0,t)}],n)},vU=e=>e.stopImmediatePropagation(),yU=e=>e.keyCode===rn.PAGE_UP||e.keyCode===rn.PAGE_DOWN,xU=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",vU,!0):!n&&e.get()&&t.off("NodeChange",vU),e.set(n)},aee=(e,t)=>{if(ree.os.isMacOS())return;const n=fa(!1);e.on("keydown",s=>{yU(s)&&xU(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||see(e,t,s),yU(s)&&n.get()&&(xU(n,e,!1),e.nodeChanged())})},iee=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||xe(t.getTargetRanges(),n=>!xD(e.dom,n)))&&t.preventDefault()})},wU=(e,t)=>{const n=t.container(),s=t.offset();return Mt(n)?(n.insertData(s,e),J.some(mt(n,s+e.length))):CC(t).map(l=>{const f=Be.fromText(e);return t.isAtEnd()?et(l,f):gs(l,f),mt(f.dom,e.length)})},CU=pt(wU,da),_U=pt(wU," "),lee=(e,t,n)=>dA(e,t,n)?CU(t):_U(t),cee=e=>t=>t.fold(n=>yc(e.dom,mt.before(n)),n=>Un(n),n=>Nu(n),n=>Dl(e.dom,mt.after(n))),uee=(e,t,n)=>s=>dA(e,s,n)?CU(t):_U(t),SU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},dee=(e,t)=>e.isEditable(e.getParent(t,"summary")),fee=e=>{const t=mt.fromRangeStart(e.selection.getRng()),n=Be.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=pt(m0,e),l=mt.fromRangeStart(e.selection.getRng());return qm(s,e.getBody(),l).bind(cee(n)).map(f=>()=>uee(n,t,e.schema)(f).each(SU(e)))}else return J.none()},mee=e=>{const t=()=>{const n=Be.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=mt.fromRangeStart(e.selection.getRng());lee(n,s,e.schema).each(SU(e))};return gg(Co.browser.isFirefox()&&e.selection.isEditable()&&dee(e.dom,e.selection.getRng().startContainer),t)},gee=(e,t)=>{IS([{keyCode:rn.SPACEBAR,action:Qn(fee,e)},{keyCode:rn.SPACEBAR,action:Qn(mee,e)}],t).each(n=>{t.preventDefault(),NB(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),AT(e,"insertText",{data:" "}))})},hee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||gee(e,t)})},pee=e=>HO(e)?[{keyCode:rn.TAB,action:Qn(_$,e,!0)},{keyCode:rn.TAB,shiftKey:!0,action:Qn(_$,e,!1)}]:[],bee=(e,t)=>{Op([...pee(e)],t).each(n=>{t.preventDefault()})},vee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||bee(e,t)})},yee=e=>{if(e.addShortcut("Meta+P","","mcePrint"),YJ(e),Km(e))return fa(null);{const t=aB(e);return iee(e),R0(e),NX(e,t),fQ(e,t),eee(e),hee(e),oee(e),vee(e),nee(e,t),aee(e,t),t}};class xee{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const f=t.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!Qx(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{cv(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&ov(t)&&!s.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&ov(t)&&(t.selection.getNode().nodeName==="IMG"?Cc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!WM(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();s=n.getStart(!0)||l,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,l))&&(s=l);const f=[];this.editor.dom.getParent(s,g=>g===l?!0:(f.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:f})}}isSameElementPath(t){let n;const s=this.editor,l=Ao(s.dom.getParents(t,Rn,s.getBody()));if(l.length===this.lastPath.length){for(n=l.length;n>=0&&l[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const kU=ki("image"),wee=e=>{const t=e;return J.from(t[kU])},Cee=(e,t)=>{const n=e;n[kU]=t},h9=ki("event"),_ee=e=>{const t=e;return J.from(t[h9])},FB=e=>t=>{const n=t;n[h9]=e},See=(e,t)=>FB(t)(e),EU=FB(0),kee=FB(2),Eee=FB(1),Aee=(e=>t=>{const n=t;return J.from(n[h9]).exists(s=>s===e)})(0),Tee=()=>Object.freeze({length:0,item:e=>null}),p9=ki("mode"),Oee=e=>{const t=e;return J.from(t[p9])},zB=e=>t=>{const n=t;n[p9]=e},AU=(e,t)=>zB(t)(e),TU=zB(0),b9=zB(2),Dee=zB(1),OU=e=>t=>{const n=t;return J.from(n[p9]).exists(s=>s===e)},PS=OU(0),DU=OU(1),Ree=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(PS(e))if(Te(n)){if(!Ze(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{PS(e)&&t.remove(n)},clear:()=>{PS(e)&&t.clear()}}),Nee=["none","copy","link","move"],Iee=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],v9=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(l){le(Nee,l)&&(t=l)},get effectAllowed(){return n},set effectAllowed(l){Aee(s)&&le(Iee,l)&&(n=l)},get items(){return Ree(s,e.items)},get files(){return DU(s)?Tee():e.files},get types(){return e.types},setDragImage:(l,f,g)=>{PS(s)&&(Cee(s,{image:l,x:f,y:g}),e.setDragImage(l,f,g))},getData:l=>DU(s)?"":e.getData(l),setData:(l,f)=>{PS(s)&&e.setData(l,f)},clearData:l=>{PS(s)&&e.clearData(l)}};return TU(s),s},Bee=e=>{const t=v9(),n=Oee(e);return b9(e),EU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,wee(e).each(s=>t.setDragImage(s.image,s.x,s.y)),ge(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),ge(e.files,s=>t.items.add(s)),_ee(e).each(s=>{See(t,s)}),n.each(s=>{AU(e,s),AU(t,s)}),t},Mee=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},RU=(e,t)=>e.setData("text/html",t),NU="x-tinymce/html",HB=Qe(NU),y9="<!-- "+NU+" -->",Pee=e=>y9+e,Lee=e=>e.replace(y9,""),IU=e=>e.indexOf(y9)!==-1,Fee=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),zee=(e,t)=>{let n="<"+e;const s=Xi(t,(l,f)=>f+'="'+Tg.encodeAllRaw(l)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},Hee=(e,t,n)=>{const s=e.split(/\n\n/),l=zee(t,n),f="</"+t+">",g=Me(s,A=>A.split(/\n/).join("<br />")),C=A=>l+A+f;return g.length===1?g[0]:Me(g,C).join("")},BU="%MCEPASTEBIN%",Vee=(e,t)=>{const{dom:n,selection:s}=e,l=e.getBody();t.set(s.getRng());const f=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},BU);Co.browser.isFirefox()&&n.setStyle(f,"left",n.getStyle(l,"direction",!0)==="rtl"?65535:-65535),n.bind(f,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),f.focus(),s.select(f,!0)},$ee=(e,t)=>{const n=e.dom;if(x9(e)){let s;const l=t.get();for(;s=x9(e);)n.remove(s),n.unbind(s);l&&e.selection.setRng(l)}t.set(null)},x9=e=>e.dom.get("mcepastebin"),Uee=e=>Ce(e)&&e.id==="mcepastebin",Wee=e=>{const t=e.dom,n=(g,C)=>{g.appendChild(C),t.remove(C,!0)},[s,...l]=Ct(e.getBody().childNodes,Uee);ge(l,g=>{n(s,g)});const f=t.select("div[id=mcepastebin]",s);for(let g=f.length-1;g>=0;g--){const C=t.create("div");s.insertBefore(C,f[g]),n(C,f[g])}return s?s.innerHTML:""},MU=e=>e===BU,Zee=e=>{const t=fa(null);return{create:()=>Vee(e,t),remove:()=>$ee(e,t),getEl:()=>x9(e),getHtml:()=>Wee(e),getLastRng:t.get}},PU=(e,t)=>(Kt.each(t,n=>{$e(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),jee=e=>{const t=mc(),n=Av({},t);let s="";const l=t.getVoidElements(),f=Kt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),C=A=>{const F=A.name,j=A;if(F==="br"){s+=`
`;return}if(F!=="wbr"){if(l[F]&&(s+=" "),f[F]){s+=" ";return}if(A.type===3&&(s+=A.value),!(A.name in t.getVoidElements())){let q=A.firstChild;if(q)do C(q);while(q=q.next)}g[F]&&j.next&&(s+=`
`,F==="p"&&(s+=`
`))}};return e=PU(e,[/<!\[[^\]]+\]>/g]),C(n.parse(e)),s},LU=e=>(e=PU(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,l)=>!s&&!l?" ":da],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Kee=e=>{let t=0;return()=>e+t++},qee=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},Gee=(e,t)=>{const n=Av({sanitize:LO(e),sandbox_iframes:qk(e),sandbox_iframes_exclusions:hC(e),convert_unsafe_embeds:$O(e)},e.schema);n.addNodeFilter("meta",l=>{Kt.each(l,f=>{f.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Qg({validate:!0},e.schema).serialize(s)},FU=(e,t)=>({content:e,cancelled:t}),Yee=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),l=zC(e,s,n);return FU(l.node.innerHTML,l.isDefaultPrevented())},Xee=(e,t,n)=>{const s=Gx(e,t,n),l=Gee(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?Yee(e,l,n):FU(l,s.isDefaultPrevented())},Jee=(e,t,n)=>Xee(e,t,n),w9=(e,t)=>(e.insertContent(t,{merge:YM(e),paste:!0}),!0),C9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Qee=(e,t)=>C9(t)&&xe(Kk(e),n=>Se(t.toLowerCase(),`.${n.toLowerCase()}`)),ete=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),tte=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),nte=(e,t,n)=>!e.selection.isCollapsed()&&C9(t)?tte(e,t,n):!1,ote=(e,t,n)=>Qee(e,t)?ete(e,t,n):!1,rte=(e,t)=>{Kt.each([nte,ote,w9],n=>!n(e,t,w9))},ste=(e,t,n)=>{n||!Wb(e)?w9(e,t):rte(e,t)},ate=Kee("mceclip"),ite=e=>{const t=v9();return RU(t,e),b9(t),t},zU=(e,t,n,s,l)=>{const f=Jee(e,t,n);if(!f.cancelled){const g=f.content,C=()=>ste(e,g,s);l?NB(e,"insertFromPaste",{dataTransfer:ite(g)}).isDefaultPrevented()||(C(),AT(e,"insertFromPaste")):C()}},VB=(e,t,n,s)=>{const l=n||IU(t);zU(e,Lee(t),l,!1,s)},_9=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),l=nb(s,BO(e)),f=Hee(l,Ui(e),yx(e));zU(e,f,!1,!0,n)},HU=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Wv=(e,t)=>t in e&&e[t].length>0,VU=e=>Wv(e,"text/html")||Wv(e,"text/plain"),lte=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(n)?e.dom.encode(n[1]):void 0},cte=(e,t,n,s)=>{const l=ate(),f=jg(e)&&Ce(n.name),g=f?lte(e,n.name):l,C=f?n.name:void 0,A=t.create(l,n,s,g,C);return t.add(A),A},ute=(e,t)=>{X_(t.uri).each(({data:n,type:s,base64Encoded:l})=>{const f=l?n:btoa(n),g=t.file,C=e.editorUpload.blobCache,A=C.getByData(f,s),F=A??cte(e,C,g,f);VB(e,`<img src="${F.blobUri()}">`,!1,!0)})},dte=e=>e.type==="paste",fte=e=>Promise.all(Me(e,t=>uN(t).then(n=>({file:t,uri:n})))),mte=e=>{const t=Kk(e);return n=>qr(n.type,"image/")&&xe(t,s=>qee(s)===n.type)},gte=(e,t)=>{const n=t.items?ao(io(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],s=t.files?io(t.files):[];return Ct(n.length>0?n:s,mte(e))},$U=(e,t,n)=>{const s=dte(t)?t.clipboardData:t.dataTransfer;if(Dm(e)&&s){const l=gte(e,s);if(l.length>0)return t.preventDefault(),fte(l).then(f=>{n&&e.selection.setRng(n),ge(f,g=>{ute(e,g)})}),!0}return!1},hte=e=>{var t,n;return Co.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},pte=e=>rn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,S9=(e,t,n,s,l)=>{let f=LU(n);const g=Wv(t,HB())||IU(n),C=!g&&Fee(f),A=C9(f);(MU(f)||!f.length||C&&!A)&&(s=!0),(s||A)&&(Wv(t,"text/plain")&&C?f=t["text/plain"]:f=jee(f)),!MU(f)&&(s?_9(e,f,l):VB(e,f,g,l))},bte=(e,t,n)=>{let s;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{pte(f)&&!f.isDefaultPrevented()&&(s=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||hte(f))return;const g=n.get()==="text"||s;s=!1;const C=HU(f.clipboardData);!VU(C)&&$U(e,f,l())||(Wv(C,"text/html")?(f.preventDefault(),S9(e,C,C["text/html"],g,!0)):Wv(C,"text/plain")&&Wv(C,"text/uri-list")?(f.preventDefault(),S9(e,C,C["text/plain"],g,!0)):(t.create(),Cc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),S9(e,C,A,g,!1)},0)))})},vte=e=>{const t=l=>qr(l,"webkit-fake-url"),n=l=>qr(l,"data:"),s=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,g)=>{if(!Dm(e)&&s(g))for(const C of l){const A=C.attr("src");Te(A)&&!C.attr("data-mce-object")&&A!==Co.transparentSrc&&(t(A)||!XM(e)&&n(A))&&C.remove()}})},yte=(e,t,n)=>{bte(e,t,n),vte(e)},xte=(e,t)=>{t.get()==="text"?(t.set("html"),HC(e,!1)):(t.set("text"),HC(e,!0)),e.focus()},wte=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{xte(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&VB(e,s.html,s.internal,!1),s.text&&_9(e,s.text,!1)})},Cte=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(HB(),t),!0}catch{return!1}else return!1},UU=(e,t,n,s)=>{Cte(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},WU=e=>(t,n)=>{const{dom:s,selection:l}=e,f=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=s.create("div",{contenteditable:"true"},t);s.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),s.add(e.getBody(),f);const C=l.getRng();g.focus();const A=s.createRng();A.selectNodeContents(g),l.setRng(A),Cc.setEditorTimeout(e,()=>{l.setRng(C),s.remove(f),n()},0)},ZU=e=>({html:Pee(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),_te=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),jU=e=>!e.selection.isCollapsed()||_te(e),Ste=e=>t=>{!t.isDefaultPrevented()&&jU(e)&&e.selection.isEditable()&&UU(t,ZU(e),WU(e),()=>{if(Co.browser.isChromium()||Co.browser.isFirefox()){const n=e.selection.getRng();Cc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},kte=e=>t=>{!t.isDefaultPrevented()&&jU(e)&&UU(t,ZU(e),WU(e),Pt)},Ete=e=>{e.on("cut",Ste(e)),e.on("copy",kte(e))},KU=(e,t)=>{var n,s;return ap.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},Ate=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},qU=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Tte=e=>xe(e.files,t=>/^image\//.test(t.type)),Ote=(e,t,n,s)=>{const l=e.getParent(n,g=>rf(t,g));if(!Ge(e.getParent(n,"summary")))return!0;if(l&&Gn(s,"text/html")){const g=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Ge(g.querySelector(l.nodeName.toLowerCase()))}else return!1},Dte=e=>{e.on("input",t=>{const n=s=>Ge(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=Ct(e.dom.select("details"),n);ge(s,l=>{ns(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(hd().dom),l.prepend(f)})}})},Rte=(e,t)=>{Cf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Dm(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Tte(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=KU(e,n);if(rt(s))return;const l=HU(n.dataTransfer),f=Wv(l,HB());if((!VU(l)||Ate(l))&&$U(e,n,s))return;const g=l[HB()],C=g||l["text/html"]||l["text/plain"],A=Ote(e.dom,e.schema,s.startContainer,l),F=t.get();F&&!A||C&&(n.preventDefault(),Cc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||F&&A)&&e.execCommand("Delete"),qU(e,s);const j=LU(C);l["text/html"]?VB(e,j,f,!0):_9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Dm(e)&&!t.get()&&(n.preventDefault(),qU(e,KU(e,n))),n.type==="dragend"&&t.set(!1)}),Dte(e)},Nte=e=>{const t=l=>f=>{l(e,f)},n=GM(e);Ne(n)&&e.on("PastePreProcess",t(n));const s=_x(e);Ne(s)&&e.on("PastePostProcess",t(s))},Ite=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Bte=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,GU=e=>Kt.trim(e).replace(Bte,pb).toLowerCase(),Mte=(e,t,n)=>{const s=IO(e);if(n||s==="all"||!Uk(e))return t;const l=s?s.split(/[, ]/):[];if(l&&s!=="none"){const f=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,F,j)=>{const q=f.parseStyle(f.decode(F)),X={};for(let we=0;we<l.length;we++){const de=q[l[we]];let ke=de,Fe=f.getStyle(g,l[we],!0);/color/.test(l[we])&&(ke=GU(ke),Fe=GU(Fe)),Fe!==ke&&(X[l[we]]=de)}const ue=f.serializeStyle(X,"span");return ue?A+' style="'+ue+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,g,C,A)=>g+' style="'+C+'"'+A),t},Pte=e=>{(Co.browser.isChromium()||Co.browser.isSafari())&&Ite(e,Mte)},Lte=e=>{const t=fa(!1),n=fa(Zb(e)?"text":"html"),s=Zee(e);Pte(e),wte(e,n),Nte(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Ete(e),Rte(e,t),yte(e,s,n)})},Fte=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},zte=e=>{e.parser.addNodeFilter("details",t=>{const n=gC(e);ge(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=VO(e);ge(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},Hte=e=>{Fte(e),zte(e)},Vte=ns,YU=Mt,$te=e=>to(e.dom),Ute=e=>cc(e.dom),XU=e=>t=>Lo(Be.fromDom(e),t),Wte=(e,t,n)=>Xs(Be.fromDom(e),s=>Ute(s)||n.isBlock(Po(s)),XU(t)).getOr(Be.fromDom(t)).dom,JU=(e,t)=>Xs(Be.fromDom(e),$te,XU(t)),QU=(e,t,n)=>{const s=new Za(e,t),l=n?s.next.bind(s):s.prev.bind(s);let f=e;for(let g=n?e:l();g&&!Vte(g);g=l())Yc(g)&&(f=g);return f},Zte=(e,t,n)=>{const l=mt.fromRangeStart(e).getNode(),f=Wte(l,t,n),g=QU(l,f,!1),C=QU(l,f,!0),A=document.createRange();return JU(g,f).fold(()=>{YU(g)?A.setStart(g,0):A.setStartBefore(g)},F=>A.setStartBefore(F.dom)),JU(C,f).fold(()=>{YU(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},F=>A.setEndAfter(F.dom)),A},jte=e=>{const t=Zte(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(O_(t))},Kte=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),jte(e))})};var LS;(function(e){e.Before="before",e.After="after"})(LS||(LS={}));const qte=(e,t)=>Math.abs(e.left-t),Gte=(e,t)=>Math.abs(e.right-t),Yte=(e,t)=>e>=t.top&&e<=t.bottom,Xte=(e,t)=>e.top<t.bottom&&e.bottom>t.top,Jte=(e,t)=>{const n=lx(e,t)/Math.min(e.height,t.height);return Xte(e,t)&&n>.5},Qte=(e,t)=>{const n=Ct(e,s=>Yte(t,s));return Wh(n).fold(()=>[[],e],s=>{const{pass:l,fail:f}=$t(e,g=>Jte(g,s));return[l,f]})},ene=(e,t)=>({node:e.node,position:qte(e,t)<Gte(e,t)?LS.Before:LS.After}),tne=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),k9=(e,t,n,s)=>{const l=q=>Yc(q.node)?J.some(q):yn(q.node)?k9(io(q.node.childNodes),t,n,!1):J.none(),f=(q,X,ue)=>l(X).filter(we=>Math.abs(ue(q,t,n)-ue(we,t,n))<2&&Mt(we.node)),g=(q,X)=>{const ue=ur(q,(we,de)=>X(we,t,n)-X(de,t,n));return Wr(ue,l).map(we=>s&&!Mt(we.node)&&ue.length>1?f(we,ue[1],X).getOr(we):we)},[C,A]=Qte(JI(e),n),{pass:F,fail:j}=$t(A,q=>q.top<n);return g(C,tne).orThunk(()=>g(j,z1)).orThunk(()=>g(F,z1))},nne=(e,t,n,s)=>{const l=(f,g)=>{const C=F=>yn(F)&&F.classList.contains("mce-drag-container"),A=Ct(f.dom.childNodes,bt(C));return g.fold(()=>k9(A,n,s,!0),F=>{const j=Ct(A,q=>q!==F.dom);return k9(j,n,s,!0)}).orThunk(()=>(Lo(f,e)?J.none():qd(f)).bind(j=>l(j,J.some(f))))};return l(t,J.none())},one=(e,t,n)=>{const s=Be.fromDom(e),l=Ml(s),g=Be.fromPoint(l,t,n).filter(C=>$a(s,C)).getOr(s);return nne(s,g,t,n)},eW=(e,t,n)=>one(e,t,n).filter(s=>Ax(s.node)).map(s=>ene(s,t)),tW=e=>{var t,n;const s=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,g=l.defaultView;return{top:s.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-f.clientTop,left:s.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-f.clientLeft}},rne=e=>e.inline?tW(e.getBody()):{left:0,top:0},sne=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},ane=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:l},ine=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=tW(e.getContentAreaContainer()),s=ane(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},lne=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),cne=(e,t)=>lne(rne(e),sne(e),ine(e,t)),nW=e=>({target:e,srcElement:e}),une=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...nW(n)}),dne=(e,t,n)=>{const s=Zt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Pt,stopImmediatePropagation:Pt,stopPropagation:Pt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...nW(t)}},fne=(e,t)=>{const n=Bee(e);return t==="dragstart"?(EU(n),TU(n)):t==="drop"?(kee(n),b9(n)):(Eee(n),Dee(n)),n},mne=(e,t,n,s)=>{const l=fne(n,e);return Ze(s)?dne(e,t,l):une(e,s,t,l)},$B=32,gne=100,UB=8,WB=16,oW=to,hne=dx(oW,cc),pne=(e,t,n)=>oW(n)&&n!==t&&e.isEditable(n.parentElement),bne=(e,t,n)=>rt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),vne=(e,t,n,s)=>{const l=e.dom,f=t.cloneNode(!0);l.setStyles(f,{width:n,height:s}),l.setAttrib(f,"data-mce-selected",null);const g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},yne=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},ZB=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},rW=ZB("left",-$B),sW=ZB("left",$B),aW=ZB("top",-$B),iW=ZB("top",$B),xne=(e,t,n,s,l,f,g,C,A,F,j,q)=>{let X=0,ue=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>l&&(X=t.pageX+n-l),t.pageY+s>f&&(ue=t.pageY+s-f),e.style.width=n-X+"px",e.style.height=s-ue+"px";const we=A.clientHeight,de=A.clientWidth,ke=g+A.getBoundingClientRect().top,Fe=C+A.getBoundingClientRect().left;j.on(qe=>{qe.intervalId.clear(),qe.dragging&&q&&(g+UB>=we?qe.intervalId.set(iW(F)):g-UB<=0?qe.intervalId.set(aW(F)):C+UB>=de?qe.intervalId.set(sW(F)):C-UB<=0?qe.intervalId.set(rW(F)):ke+WB>=window.innerHeight?qe.intervalId.set(iW(window)):ke-WB<=0?qe.intervalId.set(aW(window)):Fe+WB>=window.innerWidth?qe.intervalId.set(sW(window)):Fe-WB<=0&&qe.intervalId.set(rW(window)))})},lW=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},wne=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);lW(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&pc(Be.fromDom(n))},Cne=e=>e.button===0,_ne=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Sne=(e,t)=>n=>{if(Cne(n)){const s=wn(t.dom.getParents(n.target),hne).getOr(null);if(Ce(s)&&pne(t.dom,t.getBody(),s)){const l=t.dom.getPos(s),f=t.getBody(),g=t.getDoc().documentElement;e.set({element:s,dataTransfer:v9(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:g.offsetHeight)-2,relX:n.pageX-l.x,relY:n.pageY-l.y,width:s.offsetWidth,height:s.offsetHeight,ghost:vne(t,s,s.offsetWidth,s.offsetHeight),intervalId:uc(gne)})}}},kne=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),eW(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const l=e._selectionOverrides.showCaret(1,s.node,s.position===LS.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,n)})},RT=(e,t,n,s,l)=>{t==="dragstart"&&RU(s,e.dom.getOuterHTML(n));const f=mne(t,n,s,l);return e.dispatch(t,f)},Ene=(e,t)=>{const n=Lg((l,f)=>kne(t,l,f),0);t.on("remove",n.cancel);const s=e;return l=>e.on(f=>{const g=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&g>10){const C=RT(t,"dragstart",f.element,f.dataTransfer,l);if(Ce(C.dataTransfer)&&(f.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const C=l.currentTarget===t.getDoc().documentElement,A=_ne(f,cne(t,l));yne(f.ghost,t.getBody()),xne(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),s,C),n.throttle(l.clientX,l.clientY)}})},Ane=e=>{const t=e.getSel();if(Ce(t)){const s=t.getRangeAt(0).startContainer;return Mt(s)?s.parentNode:s}else return null},Tne=(e,t)=>n=>{e.on(s=>{var l;if(s.intervalId.clear(),s.dragging){if(bne(t,Ane(t.selection),s.element)){const f=(l=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&l!==void 0?l:t.getBody();RT(t,"drop",f,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{wne(t.dom,s.element),Mee(s.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}RT(t,"dragend",t.getBody(),s.dataTransfer,n)}}),uW(e)},cW=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>RT(t,"dragend",s.element,s.dataTransfer),l=>RT(t,"dragend",s.element,s.dataTransfer,l))}),uW(e)},One=(e,t)=>n=>cW(e,t,J.some(n)),uW=e=>{e.on(t=>{t.intervalId.clear(),lW(t.ghost)}),e.clear()},Dne=e=>{const t=ma(),n=Ir.DOM,s=document,l=Sne(t,e),f=Ene(t,e),g=Tne(t,e),C=One(t,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),n.bind(s,"mousemove",f),n.bind(s,"mouseup",C),e.on("remove",()=>{n.unbind(s,"mousemove",f),n.unbind(s,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===rn.ESC&&cW(t,e,J.none())})},Rne=e=>{const t=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(le(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&bS(e,"Dropped file type is not supported"))}},n=l=>{JC(e,l.target)&&t(l)},s=()=>{const l=Ir.DOM,f=e.dom,g=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];ge(A,F=>{l.bind(g,F,n),f.bind(C,F,t)}),e.on("remove",()=>{ge(A,F=>{l.unbind(g,F,n),f.unbind(C,F,t)})})};e.on("init",()=>{Cc.setEditorTimeout(e,s,0)})},Nne=e=>{Dne(e),fC(e)&&Rne(e)},Ine=e=>{const t=Lg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=wS(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Bne=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(xt(n)){const s=Hu(e.getBody(),n),l=to(s)?s:n;e.selection.getNode()!==l&&q2(e,l).each(f=>e.selection.setRng(f))}})})},NT=to,dW=(e,t)=>Hu(e.getBody(),t),Mne=e=>{const t=e.selection,n=e.dom,s=e.getBody(),l=GO(e,s,n.isBlock,()=>uv(e)),f="sel-"+n.uniqueId(),g="data-mce-selected";let C;const A=un=>Ce(un)&&n.hasClass(un,"mce-offscreen-selection"),F=un=>un!==s&&(NT(un)||xt(un))&&n.isChildOf(un,s)&&n.isEditable(un.parentNode),j=un=>{un&&t.setRng(un)},q=(un,wt,dt,Dt=!0)=>e.dispatch("ShowCaret",{target:wt,direction:un,before:dt}).isDefaultPrevented()?null:(Dt&&t.scrollIntoView(wt,un===-1),l.show(dt,wt)),X=un=>{un.hasAttribute("data-mce-caret")&&(Vg(un),t.scrollIntoView(un))},ue=()=>{e.on("click",wt=>{n.isEditable(wt.target)||(wt.preventDefault(),e.focus())}),e.on("blur NewBlock",st),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",wt=>{const dt=wt.target,Dt=dW(e,dt);NT(Dt)?(wt.preventDefault(),q2(e,Dt).each(We)):F(dt)&&q2(e,dt).each(We)},!0),e.on("mousedown",wt=>{const dt=wt.target;if(dt!==s&&dt.nodeName!=="HTML"&&!n.isChildOf(dt,s)||!RF(e,wt.clientX,wt.clientY))return;st(),jt();const Dt=dW(e,dt);NT(Dt)?(wt.preventDefault(),q2(e,Dt).each(We)):eW(s,wt.clientX,wt.clientY).each(pn=>{wt.preventDefault();const Nn=q(1,pn.node,pn.position===LS.Before,!1);j(Nn),Wc(Dt)?Dt.focus():e.getBody().focus()})}),e.on("keypress",wt=>{rn.modifierPressed(wt)||NT(t.getNode())&&wt.preventDefault()}),e.on("GetSelectionRange",wt=>{let dt=wt.range;if(C){if(!C.parentNode){C=null;return}dt=dt.cloneRange(),dt.selectNode(C),wt.range=dt}}),e.on("SetSelectionRange",wt=>{wt.range=ke(wt.range);const dt=We(wt.range,wt.forward);dt&&(wt.range=dt)});const un=wt=>yn(wt)&&wt.id==="mcepastebin";e.on("AfterSetSelectionRange",wt=>{const dt=wt.range,Dt=dt.startContainer.parentElement;!de(dt)&&!un(Dt)&&jt(),A(Dt)||st()}),Nne(e),Ine(e),Bne(e)},we=un=>Ol(un)||Nb(un)||bd(un),de=un=>we(un.startContainer)||we(un.endContainer),ke=un=>{const wt=e.schema.getVoidElements(),dt=n.createRng(),Dt=un.startContainer,pn=un.startOffset,Nn=un.endContainer,yo=un.endOffset;return Gn(wt,Dt.nodeName.toLowerCase())?pn===0?dt.setStartBefore(Dt):dt.setStartAfter(Dt):dt.setStart(Dt,pn),Gn(wt,Nn.nodeName.toLowerCase())?yo===0?dt.setEndBefore(Nn):dt.setEndAfter(Nn):dt.setEnd(Nn,yo),dt},Fe=(un,wt)=>{const dt=Be.fromDom(e.getBody()),Dt=e.getDoc(),pn=At(dt,"#"+f).getOrThunk(()=>{const To=Be.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Dt);return na(To,"id",f),Ds(dt,To),To}),Nn=n.createRng();Fr(pn),Hs(pn,[Be.fromText(da,Dt),Be.fromDom(wt),Be.fromText(da,Dt)]),Nn.setStart(pn.dom.firstChild,1),Nn.setEnd(pn.dom.lastChild,0),Io(pn,{top:n.getPos(un,e.getBody()).y+"px"}),PE(pn);const yo=t.getSel();return yo&&(yo.removeAllRanges(),yo.addRange(Nn)),Nn},qe=un=>{const wt=un.cloneNode(!0),dt=e.dispatch("ObjectSelected",{target:un,targetClone:wt});if(dt.isDefaultPrevented())return null;const Dt=Fe(un,dt.targetClone),pn=Be.fromDom(un);return ge(Js(Be.fromDom(e.getBody()),`*[${g}]`),Nn=>{Lo(pn,Nn)||bo(Nn,g)}),n.getAttrib(un,g)||un.setAttribute(g,"1"),C=un,jt(),Dt},We=(un,wt)=>{if(!un)return null;if(un.collapsed){if(!de(un)){const Nn=wt?1:-1,yo=Rx(Nn,s,un),To=yo.getNode(!wt);if(Ce(To)){if(Ax(To))return q(Nn,To,wt?!yo.isAtEnd():!1,!1);if(Sm(To)&&to(To.nextSibling)){const Or=n.createRng();return Or.setStart(To,0),Or.setEnd(To,0),Or}}const mr=yo.getNode(wt);if(Ce(mr)){if(Ax(mr))return q(Nn,mr,wt?!1:!yo.isAtEnd(),!1);if(Sm(mr)&&to(mr.previousSibling)){const Or=n.createRng();return Or.setStart(mr,1),Or.setEnd(mr,1),Or}}}return null}let dt=un.startContainer,Dt=un.startOffset;const pn=un.endOffset;if(Mt(dt)&&Dt===0&&NT(dt.parentNode)&&(dt=dt.parentNode,Dt=n.nodeIndex(dt),dt=dt.parentNode),!yn(dt))return null;if(pn===Dt+1&&dt===un.endContainer){const Nn=dt.childNodes[Dt];if(F(Nn))return qe(Nn)}return null},st=()=>{C&&C.removeAttribute(g),At(Be.fromDom(e.getBody()),"#"+f).each(fr),C=null},Nt=()=>{l.destroy(),C=null},jt=()=>{l.hide()};return Km(e)||ue(),{showCaret:q,showBlockCaretContainer:X,hideFakeCaret:jt,destroy:Nt}},Pne=(e,t)=>{let n=t;for(let s=e.previousSibling;Mt(s);s=s.previousSibling)n+=s.data.length;return n},fW=(e,t,n,s,l)=>{if(Mt(n)&&(s<0||s>n.data.length))return[];const f=l&&Mt(n)?[Pne(n,s)]:[s];let g=n;for(;g!==t&&g.parentNode;)f.push(e.nodeIndex(g,l)),g=g.parentNode;return g===t?f.reverse():[]},E9=(e,t,n,s,l,f,g=!1)=>{const C=fW(e,t,n,s,g),A=fW(e,t,l,f,g);return{start:C,end:A}},mW=(e,t)=>{const n=t.slice(),s=n.pop();return D(s)?It(n,(f,g)=>f.bind(C=>J.from(C.childNodes[g])),J.some(e)).bind(f=>Mt(f)&&(s<0||s>f.data.length)?J.none():J.some({node:f,offset:s})):J.none()},gW=(e,t)=>mW(e,t.start).bind(({node:n,offset:s})=>mW(e,t.end).map(({node:l,offset:f})=>{const g=document.createRange();return g.setStart(n,s),g.setEnd(l,f),g})),Lne=(e,t,n,s=!1)=>E9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),FS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,Mt(t.firstChild)&&Ll(t.firstChild.data)),FS(e,s,n)}},jB=(e,t,n,s=!0)=>{const l=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),FS(e,l,n),l!==f&&FS(e,f,n))},KB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),A9=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:di(s).concat(e.blockPatterns),inlinePatterns:Ru(s).concat(e.inlinePatterns)}},T9=(e,t,n,s)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(n,s),l.toString()},hW=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),qB=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},pW=(e,t,n)=>{const s=gW(e.getRoot(),n).getOrDie("Unable to resolve path range"),l=s.startContainer,f=s.endContainer,g=s.endOffset===0?f:f.splitText(s.endOffset),C=s.startOffset===0?l:l.splitText(s.startOffset),A=C.parentNode,F=g.parentNode;return{prefix:t,end:F.insertBefore(hW(e,t+"-end"),g),start:A.insertBefore(hW(e,t+"-start"),C)}},bW=(e,t,n)=>{FS(e,e.get(t.prefix+"-end"),n),FS(e,e.get(t.prefix+"-start"),n)},O9=e=>e.start.length===0,Fne=e=>(t,n)=>{const l=t.data.substring(0,n),f=l.lastIndexOf(e.charAt(e.length-1)),g=l.lastIndexOf(e);return g!==-1?g+e.length:f!==-1?f+1:-1},vW=(e,t,n,s)=>{const l=t.start;return Xz(e,s.container,s.offset,Fne(l),n).bind(g=>{var C,A;const F=(A=(C=n.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&A!==void 0?A:-1;if(F!==-1&&g.offset>=F+l.length){const q=e.createRng();return q.setStart(g.container,g.offset-l.length),q.setEnd(g.container,g.offset),J.some(q)}else{const q=g.offset-l.length;return Yz(g.container,q,n).map(X=>{const ue=e.createRng();return ue.setStart(X.container,X.offset),ue.setEnd(g.container,g.offset),ue}).filter(X=>X.toString()===l).orThunk(()=>vW(e,t,n,mh(g.container,0)))}})},zne=(e,t,n,s,l,f=!1)=>{if(t.start.length===0&&!f){const g=e.createRng();return g.setStart(n,s),g.setEnd(n,s),J.some(g)}return Gz(n,s,l).bind(g=>vW(e,t,l,g).bind(A=>{var F;if(f){if(A.endContainer===g.container&&A.endOffset===g.offset)return J.none();if(g.offset===0&&((F=A.endContainer.textContent)===null||F===void 0?void 0:F.length)===A.endOffset)return J.none()}return J.some(A)}))},Hne=(e,t,n,s)=>{const l=e.dom,f=l.getRoot(),g=n.pattern,C=n.position.container,A=n.position.offset;return Yz(C,A-n.pattern.end.length,t).bind(F=>{const j=E9(l,f,F.container,F.offset,C,A,s);if(O9(g))return J.some({matches:[{pattern:g,startRng:j,endRng:j}],position:F});{const q=GB(e,n.remainingPatterns,F.container,F.offset,t,s),X=q.getOr({matches:[],position:F}),ue=X.position;return zne(l,g,ue.container,ue.offset,t,q.isNone()).map(de=>{const ke=Lne(l,f,de,s);return{matches:X.matches.concat([{pattern:g,startRng:ke,endRng:j}]),position:mh(de.startContainer,de.startOffset)}})}})},GB=(e,t,n,s,l,f)=>{const g=e.dom;return Gz(n,s,g.getRoot()).bind(C=>{const A=T9(g,l,n,s);for(let F=0;F<t.length;F++){const j=t[F];if(!Se(A,j.end))continue;const q=t.slice();q.splice(F,1);const X=Hne(e,l,{pattern:j,remainingPatterns:q,position:C},f);if(X.isNone()&&s>0)return GB(e,t,n,s-1,l,f);if(X.isSome())return X}return J.none()})},yW=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?ge(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Vne=(e,t,n,s)=>{const l=qB(e.dom,n);jB(e.dom,l,s),yW(e,t,l)},$ne=(e,t,n,s,l)=>{const f=e.dom,g=qB(f,s),C=qB(f,n);jB(f,C,l),jB(f,g,l);const A={prefix:n.prefix,start:n.end,end:s.start},F=qB(f,A);yW(e,t,F)},Une=(e,t)=>{const n=ki("mce_textpattern"),s=zt(t,(l,f)=>{const g=pW(e,n+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:g}])},[]);return zt(s,(l,f)=>{const g=s.length-l.length-1,C=O9(f.pattern)?f.endMarker:pW(e,n+`_start${g}`,f.startRng);return l.concat([{...f,startMarker:C}])},[])},Wne=e=>ur(e,(t,n)=>n.end.length-t.end.length),Zne=(e,t)=>{const n=vo(e,s=>xe(t,l=>s.pattern.start===l.pattern.start&&s.pattern.end===l.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},xW=(e,t,n,s,l,f)=>{const g=GB(e,l.inlinePatterns,n,s,t,f).fold(()=>[],A=>A.matches),C=GB(e,Wne(l.inlinePatterns),n,s,t,f).fold(()=>[],A=>A.matches);return Zne(g,C)},wW=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),l=Une(n,t);ge(l,f=>{const g=n.getParent(f.startMarker.start,n.isBlock),C=A=>A===g;O9(f.pattern)?Vne(e,f.pattern,f.endMarker,C):$ne(e,f.pattern,f.startMarker,f.endMarker,C),bW(n,f.endMarker,C),bW(n,f.startMarker,C)}),e.selection.moveToBookmark(s)},CW=(e,t,n)=>BX(t,0,t).map(s=>{const l=s.container;return S$(l,n.start.length,t).each(f=>{const g=e.createRng();g.setStart(l,0),g.setEnd(f.container,f.offset),jB(e,g,C=>C===t)}),l}),_W=e=>(t,n)=>{const s=t.dom,l=n.pattern,f=gW(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(C,A)=>{const F=A.get(C);return re(F)&&cn(F).exists(j=>Gn(j,"block"))};return KB(t,f).each(C=>{l.type==="block-format"?g(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,l),t.execCommand(l.cmd,!1,l.value)})}),!0},jne=e=>ur(e,(t,n)=>n.start.length-t.start.length),SW=e=>(t,n)=>{const s=jne(t),l=n.replace(da," ");return wn(s,f=>e(f,n,l))},kW=(e,t)=>(n,s,l,f,g)=>{var C;g===void 0&&(g=(C=s.textContent)!==null&&C!==void 0?C:"");const A=n.dom,F=Ui(n);return A.is(s,F)?e(l.blockPatterns,g).map(j=>t&&Kt.trim(g).length===j.start.length?[]:[{pattern:j,range:E9(A,A.getRoot(),s,0,s,0,f)}]).getOr([]):[]},Kne=e=>/^\s[^\s]/.test(e),qne=_W((e,t,n)=>{CW(e,t,n).each(s=>{const l=Be.fromDom(s),f=Cm(l);Kne(f)&&kb(l,f.slice(1))})}),Gne=SW((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Yne=kW(Gne,!0),Xne=(e,t)=>{const n=e.selection.getRng();return KB(e,n).map(s=>{var l;const f=Math.max(0,n.startOffset),g=A9(t,s,(l=s.textContent)!==null&&l!==void 0?l:""),C=xW(e,s,n.startContainer,f,g,!0),A=Yne(e,s,g,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:s,blockMatches:l})=>l.length>0||s.length>0)},Jne=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();ge(t,s=>qne(e,s)),e.selection.moveToBookmark(n)},Qne=_W(CW),eoe=SW((e,t,n)=>t===e.start||n===e.start),toe=kW(eoe,!1),noe=(e,t)=>{const n=e.selection.getRng();return KB(e,n).map(s=>{const l=Math.max(0,n.startOffset),f=T9(e.dom,s,n.startContainer,l),g=A9(t,s,f);return toe(e,s,g,!1,f)}).filter(s=>s.length>0)},ooe=(e,t)=>{ge(t,n=>Qne(e,n))},roe=(e,t)=>Xne(e,t).fold(xn,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Ek(e),wW(e,n),Jne(e,s);const l=e.selection.getRng(),f=Gz(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(g=>{const C=g.container;C.data.charAt(g.offset-1)===hs&&(C.deleteData(g.offset-1,1),FS(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),soe=(e,t)=>{const n=e.selection.getRng();KB(e,n).map(s=>{const l=Math.max(0,n.startOffset-1),f=T9(e.dom,s,n.startContainer,l),g=A9(t,s,f),C=xW(e,s,n.startContainer,l,g,!1);C.length>0&&e.undoManager.transact(()=>{wW(e,C)})})},aoe=(e,t)=>noe(e,t).fold(xn,n=>(e.undoManager.transact(()=>{ooe(e,n)}),!0)),EW=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},ioe=(e,t)=>EW(e,t,(n,s)=>n===s.keyCode&&!rn.modifierPressed(s)),loe=(e,t)=>EW(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),coe=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>qh(JM(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),Sx(e)),l=()=>Wk(e);e.on("keydown",g=>{if(g.keyCode===13&&!rn.modifierPressed(g)&&e.selection.isCollapsed()){const C=xf(s(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&roe(e,C)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const C=xf(s(),"space");(C.blockPatterns.length>0||l())&&aoe(e,C)&&g.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const g=xf(s(),"space");(g.inlinePatterns.length>0||l())&&soe(e,g)}};e.on("keyup",g=>{ioe(n,g)&&f()}),e.on("keypress",g=>{loe(t,g)&&Cc.setEditorTimeout(e,f)})},uoe=e=>{coe(e)},doe=e=>{const t=Kt.each,n=rn.BACKSPACE,s=rn.DELETE,l=e.dom,f=e.selection,g=e.parser,C=Co.browser,A=C.isFirefox(),F=C.isChromium()||C.isSafari(),j=Co.deviceType.isiPhone()||Co.deviceType.isiPad(),q=Co.os.isMacOS()||Co.os.isiOS(),X=(tn,Hn)=>{try{e.getDoc().execCommand(tn,!1,String(Hn))}catch{}},ue=tn=>tn.isDefaultPrevented(),we=()=>{const tn=ko=>{const an=l.create("body"),xo=ko.cloneContents();return an.appendChild(xo),f.serializer.serialize(an,{format:"html"})},Hn=ko=>{const an=tn(ko),xo=l.createRng();xo.selectNode(e.getBody());const Do=tn(xo);return an===Do};e.on("keydown",ko=>{const an=ko.keyCode;if(!ue(ko)&&(an===s||an===n)&&e.selection.isEditable()){const xo=e.selection.isCollapsed(),Do=e.getBody();if(xo&&!Fl(e.schema,Do)||!xo&&!Hn(e.selection.getRng()))return;ko.preventDefault(),e.setContent(""),Do.firstChild&&l.isBlock(Do.firstChild)?e.selection.setCursorLocation(Do.firstChild,0):e.selection.setCursorLocation(Do,0),e.nodeChanged()}})},de=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ke=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",tn=>{let Hn;if(tn.target===e.getDoc().documentElement)if(Hn=f.getRng(),e.getBody().focus(),tn.type==="mousedown"){if(Ol(Hn.startContainer))return;f.placeCaretAt(tn.clientX,tn.clientY)}else f.setRng(Hn)})},Fe=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode(),ko=Hn.previousSibling;if(Hn.nodeName==="HR"){l.remove(Hn),tn.preventDefault();return}ko&&ko.nodeName&&ko.nodeName.toLowerCase()==="hr"&&(l.remove(ko),tn.preventDefault())}}})},qe=()=>{Range.prototype.getClientRects||e.on("mousedown",tn=>{if(!ue(tn)&&tn.target.nodeName==="HTML"){const Hn=e.getBody();Hn.blur(),Cc.setEditorTimeout(e,()=>{Hn.focus()})}})},We=()=>{const tn=J1(e);e.on("click",Hn=>{const ko=Hn.target;/^(IMG|HR)$/.test(ko.nodeName)&&l.isEditable(ko)&&(Hn.preventDefault(),e.selection.select(ko),e.nodeChanged()),ko.nodeName==="A"&&l.hasClass(ko,tn)&&ko.childNodes.length===0&&l.isEditable(ko.parentNode)&&(Hn.preventDefault(),f.select(ko))})},st=()=>{const tn=()=>{const ko=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const an=f.getStart();an!==e.getBody()&&(l.setAttrib(an,"style",null),t(ko,xo=>{an.setAttributeNode(xo.cloneNode(!0))}))}},Hn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",ko=>{let an;return!ue(ko)&&(ko.keyCode===8||ko.keyCode===46)&&Hn()?(an=tn(),e.getDoc().execCommand("delete",!1),an(),ko.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",ko=>{if(!ue(ko)&&Hn()){const an=tn();Cc.setEditorTimeout(e,()=>{an()})}})},Nt=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n&&f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode().previousSibling;if(Hn&&Hn.nodeName&&Hn.nodeName.toLowerCase()==="table")return tn.preventDefault(),!1}return!0})},jt=()=>{e.on("keydown",tn=>{if(ue(tn)||tn.keyCode!==rn.BACKSPACE)return;let Hn=f.getRng();const ko=Hn.startContainer,an=Hn.startOffset,xo=l.getRoot();let Do=ko;if(!(!Hn.collapsed||an!==0)){for(;Do.parentNode&&Do.parentNode.firstChild===Do&&Do.parentNode!==xo;)Do=Do.parentNode;Do.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Do),Hn=l.createRng(),Hn.setStart(ko,0),Hn.setEnd(ko,0),f.setRng(Hn))}})},un=()=>{const tn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),_O(e)||X("enableObjectResizing",!1)};RO(e)||e.on("BeforeExecCommand mousedown",tn)},wt=()=>{const tn=()=>{t(l.select("a:not([data-mce-block])"),Hn=>{var ko;let an=Hn.parentNode;const xo=l.getRoot();if((an==null?void 0:an.lastChild)===Hn){for(;an&&!l.isBlock(an);){if(((ko=an.parentNode)===null||ko===void 0?void 0:ko.lastChild)!==an||an===xo)return;an=an.parentNode}l.add(an,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Hn=>{(Hn.type==="setcontent"||Hn.command==="mceInsertLink")&&tn()})},dt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Ui(e))})},Dt=tn=>{const Hn=tn.getBody(),ko=tn.selection.getRng();return ko.startContainer===ko.endContainer&&ko.startContainer===Hn&&ko.startOffset===0&&ko.endOffset===Hn.childNodes.length},pn=()=>{e.on("keyup focusin mouseup",tn=>{!rn.modifierPressed(tn)&&!Dt(e)&&f.normalize()},!0)},Nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},To=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",tn=>{let Hn;tn.target.nodeName==="HTML"&&(Hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Hn),e.selection.normalize(),e.nodeChanged())}))},mr=()=>{q&&e.on("keydown",tn=>{rn.metaKeyPressed(tn)&&!tn.shiftKey&&(tn.keyCode===37||tn.keyCode===39)&&(tn.preventDefault(),e.selection.getSel().modify("move",tn.keyCode===37?"backward":"forward","lineboundary"))})},Or=()=>{e.on("click",tn=>{let Hn=tn.target;do if(Hn.tagName==="A"){tn.preventDefault();return}while(Hn=Hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Gs=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",tn=>{tn.preventDefault()})})},fl=()=>{g.addNodeFilter("br",tn=>{let Hn=tn.length;for(;Hn--;)tn[Hn].attr("class")==="Apple-interchange-newline"&&tn[Hn].remove()})},Mr=Pt,Xt=()=>{if(!A||e.removed)return!1;const tn=e.selection.getSel();return!tn||!tn.rangeCount||tn.rangeCount===0},Tn=()=>{F&&(ke(),We(),Gs(),de(),j&&(yo(),To(),Or())),A&&(qe(),un(),Nn(),mr())},Qo=()=>{jt(),we(),Co.windowsPhone||pn(),F&&(ke(),We(),dt(),Gs(),Nt(),fl(),j?(yo(),To(),Or()):de()),A&&(Fe(),qe(),st(),un(),wt(),Nn(),mr(),Nt())};return Km(e)?Tn():Qo(),{refreshContentEditable:Mr,isHidden:Xt}},foe=e=>e.toLowerCase()==="gpl",moe=e=>e.length>=64&&e.length<=255,goe=e=>foe(e)||moe(e)?"VALID":"INVALID",hoe=e=>{const t=UO(e);!Te(WO(e))&&(Ze(t)||goe(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},D9=Ir.DOM,poe=(e,t)=>{const n=Be.fromDom(e.getBody()),s=sm(Hc(n)),l=Be.fromTag("style");na(l,"type","text/css"),Ds(l,Be.fromText(t)),Ds(s,l),e.on("remove",()=>{fr(l)})},boe=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,R9=e=>ec(e,t=>Ze(t)===!1),AW=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return R9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:boe(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:hC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},TW=e=>{const t=e.options.get;return R9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},voe=e=>{const t=e.options.get;return{...AW(e),...TW(e),...R9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},yoe=e=>{const t=Av(AW(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const l=e.dom,f="data-mce-"+s;let g=n.length;for(;g--;){const C=n[g];let A=C.attr(s);if(A&&!C.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;s==="style"?(A=l.serializeStyle(l.parseStyle(A),C.name),A.length||(A=null),C.attr(f,A),C.attr(s,A)):s==="tabindex"?(C.attr(f,A),C.attr(s,null)):C.attr(f,e.convertURL(A,s,C.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const l=n[s],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),eP(e)&&t.addNodeFilter("#cdata",n=>{var s;let l=n.length;for(;l--;){const f=n[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((s=f.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const l=e.schema.getNonEmptyElements();for(;s--;){const f=n[s];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new fi("br",1))}}),t},xoe=e=>{const t=KM(e);t&&Cc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},woe=e=>{const t=e.dom.getRoot();!e.inline&&(!ov(e)||e.selection.getStart(!0)===t)&&Un(t).each(n=>{const s=n.getNode(),l=Zc(s)?Un(s).getOr(n):n;e.selection.setRng(l.toRange())})},Coe=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Us(e),e.focus(!0),woe(e),e.nodeChanged({initial:!0});const t=ZM(e);Ne(t)&&t.call(e,e),xoe(e)},N9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,_oe=(e,t,n)=>{const{pass:s,fail:l}=$t(t,C=>tinymce.Resource.has(N4(C))),g=[...s.map(C=>{const A=tinymce.Resource.get(N4(C));return Te(A)?Promise.resolve(N9(e).loadRawCss(C,A)):Promise.resolve()}),N9(e).loadAll(l)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},OW=e=>{const t=N9(e),n=CO(e),s=e.contentCSS,l=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Kt.each(e.contentStyles,F=>{A+=F+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(_oe(e,s,n)).then(f).catch(f),C=G1(e);return C&&poe(e,C),g},Soe=e=>{const t=e.getDoc(),n=e.getBody();CP(e),qM(e)||(t.body.spellcheck=!1,D9.setAttrib(n,"spellcheck","false")),e.quirks=doe(e),_P(e);const s=FM(e);s!==void 0&&(n.dir=s);const l=Zo(e);l&&e.on("BeforeSetContent",f=>{Kt.each(l,g=>{f.content=f.content.replace(g,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},koe=e=>{Km(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},I9=e=>{e.removed!==!0&&(koe(e),Coe(e))},Eoe=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},DW=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(D9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=RO(e),e._editableRoot=or(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&D9.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=B4(e),e.schema=mc(TW(e)),e.dom=Ir(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:xO(e),referrerPolicy:xx(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=yoe(e),e.serializer=x6(voe(e),e),e.selection=y4(e.dom,e.getWin(),e.serializer,e),e.annotator=M5(e),e.formatter=K2(e),e.undoManager=Q6(e),e._nodeChangeDispatcher=new xee(e),e._selectionOverrides=Mne(e),mo(e),Hte(e),rw(e),Km(e)||(Kte(e),uoe(e));const l=yee(e);In(e,l),ba(e),sI(e),Lte(e);const f=n6(e);Soe(e),hoe(e),f.fold(()=>{const g=Eoe(e);OW(e).then(()=>{I9(e),g()})},g=>{e.setProgressState(!0),OW(e).then(()=>{g().then(C=>{e.setProgressState(!1),I9(e),c6(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),I9(e),c6(e)})})})},Aoe=Rn,Toe=(e,t,n)=>N(e,t,Aoe,n),B9=Ir.DOM,Ooe=(e,t,n,s)=>{const l=Be.fromTag("iframe");return s.each(f=>na(l,"tabindex",f)),yi(l,n),yi(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),od(l,"tox-edit-area__iframe"),l},Doe=e=>{let t=vd(e)+"<html><head>";Qc(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=dC(e),s=Rk(e),l=e.translate(Cx(e));return gO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+gO(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Roe=(e,t)=>{const n=Co.browser.isFirefox()?Cx(e):"Rich Text Area",s=e.translate(n),l=Pc(Be.fromDom(e.getElement()),"tabindex").bind(nn),f=Ooe(e.id,s,ll(e),l).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=Doe(e),B9.add(t.iframeContainer,f)},Noe=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,DW(e)};if(FO(e)||Co.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=Toe(Be.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},Ioe=(e,t)=>{Roe(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=B9.isHidden(t.editorContainer)),e.getElement().style.display="none",B9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Noe(e)},RW=Ir.DOM,Boe=(e,t,n)=>{const s=_0.get(n),l=_0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Kt.trim(n),s&&Kt.inArray(t,n)===-1){if(e.plugins[n])return;try{const f=s(e,l)||{};e.plugins[n]=f,Ne(f.init)&&(f.init(e,l),t.push(n))}catch(f){MF(e,n,f)}}},Moe=e=>e.replace(/^\-/,""),Poe=e=>{const t=[];ge(yd(e),n=>{Boe(e,t,Moe(n))})},Loe=e=>{const t=Kt.trim(Pk(e)),n=e.ui.registry.getAll().icons,s={...$2.get("default").icons,...$2.get(t).icons};Uo(s,(l,f)=>{Gn(n,f)||e.ui.registry.addIcon(f,l)})},Foe=e=>{const t=Y1(e);if(Te(t)){const n=kp.get(t);e.theme=n(e,kp.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,kp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},zoe=e=>{const t=wx(e),n=Sp.get(t);e.model=n(e,Sp.urls[t])},Hoe=e=>{const t=e.theme.renderUI;return t?t():IW(e)},Voe=e=>{const t=e.getElement(),s=Y1(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},NW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),$oe=e=>{const t=RW.create("div");return RW.insertAfter(t,e),NW(t,t)},IW=e=>{const t=e.getElement();return e.inline?NW(null):$oe(t)},Uoe=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Te(Y1(e))?Hoe(e):Ne(Y1(e))?Voe(e):IW(e)},Woe=(e,t)=>{const n={show:J.from(t.show).getOr(Pt),hide:J.from(t.hide).getOr(Pt),isEnabled:J.from(t.isEnabled).getOr(Rn),setEnabled:s=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(l=>l(s))}};e.ui={...e.ui,...n}},Zoe=async e=>{e.dispatch("ScriptsLoaded"),Loe(e),Foe(e),zoe(e),Poe(e);const t=await Uoe(e);Woe(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,H6(e),e.inline?DW(e):Ioe(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},cw=Ir.DOM,BW=e=>e.charAt(0)==="-",joe=(e,t)=>{const n=zk(t),s=LM(t);if(!gc.hasCode(n)&&n!=="en"){const l=je(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(l).catch(()=>{IF(t,l,n)})}},Koe=(e,t)=>{const n=Y1(e);if(Te(n)&&!BW(n)&&!Gn(kp.urls,n)){const s=HM(e),l=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;kp.load(n,l).catch(()=>{F6(e,l,n)})}},qoe=(e,t)=>{const n=wx(e);if(n!=="plugin"&&!Gn(Sp.urls,n)){const s=Vk(e),l=Te(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Sp.load(n,l).catch(()=>{BF(e,l,n)})}},Goe=e=>J.from(vO(e)).filter(je).map(t=>({url:t,name:J.none()})),MW=(e,t,n)=>J.from(t).filter(s=>je(s)&&!$2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:J.some(s)})),Yoe=(e,t,n)=>{const s=MW(t,"default",n),l=Goe(t).orThunk(()=>MW(t,Pk(t),""));ge(o1([s,l]),f=>{e.add(f.url).catch(()=>{D4(t,f.url,f.name.getOrUndefined())})})},Xoe=(e,t)=>{const n=(s,l)=>{_0.load(s,l).catch(()=>{O4(e,l,s)})};Uo(Om(e),(s,l)=>{n(l,s),e.options.set("plugins",yd(e).concat(l))}),ge(yd(e),s=>{s=Kt.trim(s),s&&!_0.urls[s]&&!BW(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},Joe=e=>{const t=Y1(e);return!Te(t)||Ce(kp.get(t))},Qoe=e=>{const t=wx(e);return Ce(Sp.get(t))},ere=(e,t)=>{const n=sl.ScriptLoader,s=()=>{!e.removed&&Joe(e)&&Qoe(e)&&Zoe(e)};Koe(e,t),qoe(e,t),joe(n,e),Yoe(n,e,t),Xoe(e,t),n.loadQueue().then(s,s)},tre=(e,t)=>h1.forElement(e,{contentCssCors:NO(t),referrerPolicy:xx(t)}),nre=e=>{const t=e.id;gc.setCode(zk(e));const n=()=>{cw.unbind(window,"ready",n),e.render()};if(!lf.Event.domLoaded){cw.bind(window,"ready",n);return}if(!e.getElement())return;const s=Be.fromDom(e.getElement()),l=nl(s);e.on("remove",()=>{St(s.dom.attributes,g=>bo(s,g.name)),yi(s,l)}),e.ui.styleSheetLoader=tre(s,e),Ub(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||cw.getParent(t,"form");f&&(e.formElement=f,$k(e)&&!Rh(e.getElement())&&(cw.insertAfter(cw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},cw.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),AO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=P6(e),e.notificationManager=T4(e),zO(e)&&e.on("GetContent",g=>{g.save&&(g.content=cw.encode(g.content))}),TO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),OO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),ere(e,e.suffix)},ore=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),EP(e,t))},rre=e=>e._editableRoot,sre=(e,t)=>({sections:Qe(e),options:Qe(t)}),PW=Fa().deviceType,LW=PW.isPhone(),are=PW.isTablet(),IT=e=>{if(rt(e))return[];{const t=re(e)?e:e.split(/[ ,]/),n=Me(t,Re);return Ct(n,je)}},ire=(e,t)=>{const n=du(t,(s,l)=>le(e,l));return sre(n.t,n.f)},lre=(e,t,n={})=>{const s=e.sections(),l=dr(s,t).getOr({});return Kt.extend({},n,l)},M9=(e,t)=>Gn(e.sections(),t),cre=(e,t)=>M9(e,t)?e.sections()[t]:{},ure=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:dr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),dre=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Kt.extend({},e.external_plugins,s):s},fre=(e,t)=>[...IT(e),...IT(t)],mre=(e,t,n,s)=>e&&M9(t,"mobile")?s:n,gre=(e,t,n,s)=>{const l=IT(n.forced_plugins),f=IT(s.plugins),g=cre(t,"mobile"),C=g.plugins?IT(g.plugins):f,A=mre(e,t,f,C),F=fre(l,A);return Kt.extend(s,{forced_plugins:l,plugins:F})},hre=(e,t)=>e&&M9(t,"mobile"),pre=(e,t,n,s,l)=>{var f;const g=e?{mobile:ure((f=l.mobile)!==null&&f!==void 0?f:{},t)}:{},C=ire(["mobile"],AB(g,l)),A=Kt.extend(n,s,C.options(),hre(e,C)?lre(C,"mobile"):{},{external_plugins:dre(s,C.options())});return gre(e,C,s,A)},bre=(e,t)=>{const n=N$(t);return pre(LW||are,LW,n,e,n)},vre=(e,t)=>l6(e,t),yre=e=>{const t=(s,l)=>{e.formatter.toggle(s,l),e.nodeChanged()},n=s=>()=>{ge("left,center,right,justify".split(","),l=>{s!==l&&e.formatter.remove("align"+l)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},xre=e=>{const t=n=>()=>{const s=e.selection,l=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return xe(l,f=>Ce(e.formatter.matchNode(f,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},wre=e=>{yre(e),xre(e)},Cre=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Co.os.isMacOS()||Co.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},_re=(e,t,n,s)=>{const l=Be.fromDom(e.getRoot());return bv(l,mt.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),f0(l,mt.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Sre=e=>{if(typeof e!="string"){const t=Kt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},kre=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?_re(s,n.getRng(),t,e.schema):t},YB=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=Sre(t);K3(e,{...s,content:kre(e,n),format:"html",set:!1,selection:!0}).each(l=>{const f=dF(e,l.content,s);q3(e,f,l),e.addVisual()})}},Ere=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{YB(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{YB(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{YB(e,s)},mceInsertContent:(t,n,s)=>{YB(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Go(e))}})},Are={"font-size":"size","font-family":"face"},Tre=jd("font"),Ore=(e,t,n)=>{const s=f=>ws(f,e).orThunk(()=>Tre(f)?dr(Are,e).bind(g=>Pc(f,g)):J.none()),l=f=>Lo(Be.fromDom(t),f);return S2(Be.fromDom(n),f=>s(f),l)},Dre=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Rre=(e,t)=>J.from(Ir.DOM.getStyle(t,e,!0)),FW=e=>(t,n)=>J.from(n).map(Be.fromDom).filter(Ts).bind(s=>Ore(e,t,s.dom).or(Rre(e,s.dom))).getOr(""),Nre=FW("font-size"),Ire=ln(Dre,FW("font-family")),Bre=e=>Un(e.getBody()).bind(t=>{const n=t.container();return J.from(Mt(n)?n.parentNode:n)}),Mre=e=>J.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Pre=(e,t)=>Mre(e).orThunk(pt(Bre,e)).map(Be.fromDom).filter(Ts).bind(t),P9=(e,t)=>Pre(e,gn(J.some,t)),zW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Zk(e),l=jk(e);return l.length>0?l[n-1]||t:s[n-1]||t}else return t}else return t},Lre=e=>{const t=e.split(/\s*,\s*/);return Me(t,n=>n.indexOf(" ")!==-1&&!(qr(n,'"')||qr(n,"'"))?`'${n}'`:n).join(",")},Fre=(e,t)=>{const n=zW(e,t);e.formatter.toggle("fontname",{value:Lre(n)}),e.nodeChanged()},zre=e=>P9(e,t=>Ire(e.getBody(),t.dom)).getOr(""),Hre=(e,t)=>{e.formatter.toggle("fontsize",{value:zW(e,t)}),e.nodeChanged()},Vre=e=>P9(e,t=>Nre(e.getBody(),t.dom)).getOr(""),$re=e=>P9(e,t=>{const n=Be.fromDom(e.getBody()),s=S2(t,f=>ws(f,"line-height"),pt(Lo,n)),l=()=>{const f=parseFloat(Os(t,"line-height")),g=parseFloat(Os(t,"font-size"));return String(f/g)};return s.getOrThunk(l)}).getOr(""),Ure=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Wre=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,l)=>{t(n,{value:l})},BackColor:(n,s,l)=>{t("hilitecolor",{value:l})},FontName:(n,s,l)=>{Fre(e,l)},FontSize:(n,s,l)=>{Hre(e,l)},LineHeight:(n,s,l)=>{Ure(e,l)},Lang:(n,s,l)=>{var f;t(n,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,l)=>{t(Te(l)?l:"p")},mceToggleFormat:(n,s,l)=>{t(l)}})},Zre=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>zre(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Vre(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>$re(e))},jre=e=>{Wre(e),Zre(e)},Kre=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},qre=e=>{e.editorCommands.addCommands({Indent:()=>{_t(e)},Outdent:()=>{vt(e)}}),e.editorCommands.addCommands({Outdent:()=>fe(e)},"state")},Gre=e=>{const t=(n,s,l)=>{const f=Te(l)?{href:l}:l,g=e.dom.getParent(e.selection.getNode(),"a");te(f)&&Te(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!g||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Yre=(e,t,n,s)=>{const l=e.dom,f=C=>l.isBlock(C)&&C.parentElement===n,g=f(t)?t:l.getParent(s,f,n);return J.from(g).map(Be.fromDom)},HW=(e,t)=>{const n=e.dom,s=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),f=t?s.startContainer:s.endContainer,g=TT(n,f);if(!g||!g.isContentEditable)return;const C=t?gs:et,A=Ui(e);Yre(e,l,g,f).each(F=>{const j=rU(e,f,F.dom,g,!1,A);C(F,Be.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),AT(e,"insertParagraph")})},Xre=e=>HW(e,!0),Jre=e=>HW(e,!1),Qre=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Xre(e)},InsertNewBlockAfter:()=>{Jre(e)}})},ese=e=>{e.editorCommands.addCommands({insertParagraph:()=>{LB(lU,e)},mceInsertNewLine:(t,n,s)=>{hU(e,s)},InsertLineBreak:(t,n,s)=>{LB(dU,e)}})},tse=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>yn(f)&&l++===s?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),cc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},nse=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const l=s??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{yD(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},ose=e=>{wre(e),Cre(e),Kre(e),tse(e),Ere(e),Gre(e),qre(e),Qre(e),ese(e),jre(e),nse(e)},rse=["toggleview"],VW=e=>le(rse,e.toLowerCase());class $W{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,l){const f=this.editor,g=t.toLowerCase(),C=l==null?void 0:l.skip_focus;if(f.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!C?f.focus():YC(f)),f.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const F=this.commands.exec[g];return Ne(F)?(F(g,n,s),f.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!VW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Ne(s)?s(n):!1}queryCommandValue(t){if(!VW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Ne(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Uo(t,(l,f)=>{ge(f.toLowerCase().split(","),g=>{s[n][g]=l})})}addCommand(t,n,s){const l=t.toLowerCase();this.commands.exec[l]=(f,g,C)=>n.call(s??this.editor,g,C)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const uw="data-mce-contenteditable",sse=(e,t,n)=>{rd(e,t)&&!n?xi(e,t):n&&od(e,t)},L9=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},XB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ase=e=>{ge(Js(e,'*[contenteditable="true"]'),t=>{na(t,uw,"true"),XB(t,!1)})},ise=e=>{ge(Js(e,`*[${uw}="true"]`),t=>{bo(t,uw),XB(t,!0)})},lse=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},cse=e=>{e.selection.setRng(e.selection.getRng())},use=(e,t)=>{const n=Be.fromDom(e.getBody());sse(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),lse(e),e.readonly=!0,XB(n,!1),ase(n)):(e.readonly=!1,e.hasEditableRoot()&&XB(n,!0),ise(n),L9(e,"StyleWithCSS",!1),L9(e,"enableInlineTableEditing",!1),L9(e,"enableObjectResizing",!1),a0(e)&&e.focus(),cse(e),e.nodeChanged())},dw=e=>e.readonly,UW=e=>{e.parser.addAttributeFilter("contenteditable",t=>{dw(e)&&ge(t,n=>{n.attr(uw,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(uw,t=>{dw(e)&&ge(t,n=>{n.attr("contenteditable",n.attr(uw))})}),e.serializer.addTempAttr(uw)},dse=e=>{e.serializer?UW(e):e.on("PreInit",()=>{UW(e)})},fse=e=>e.type==="click",mse=["copy"],gse=e=>le(mse,e.type),hse=(e,t)=>Sa(t,"a",s=>Lo(s,Be.fromDom(e.getBody()))).bind(s=>Pc(s,"href")),pse=(e,t)=>{if(fse(t)&&!rn.metaKeyPressed(t)){const n=Be.fromDom(t.target);hse(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const l=e.dom.select(`${s},[name="${Bc(s,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else gse(t)&&e.dispatch(t.type,t)},bse=e=>{e.on("ShowCaret",t=>{dw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{dw(e)&&t.preventDefault()})},vse=Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class F9{static isNative(t){return!!vse[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),l=S1(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[s];if(f)for(let g=0,C=f.length;g<C;g++){const A=f[g];if(!A.removed){if(A.once&&this.off(s,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,n,s,l){if(n===!1&&(n=xn),n){const f={func:n,removed:!1};l&&Kt.extend(f,l);const g=t.toLowerCase().split(" ");let C=g.length;for(;C--;){const A=g[C];let F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),s?F=[f,...F]:F=[...F,f],this.bindings[A]=F}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let l=s.length;for(;l--;){const f=s[l];let g=this.bindings[f];if(!f)return Uo(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const C=$t(g,A=>A.func===n);g=C.fail,this.bindings[f]=g,ge(C.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Uo(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const BT=e=>(e._eventDispatcher||(e._eventDispatcher=new F9({scope:e,toggleEvent:(t,n)=>{F9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),z9={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return S1(e.toLowerCase(),t??{},s);const l=BT(s).dispatch(e,t);if(n!==!1&&s.parent){let f=s.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,t,n){return BT(this).on(e,t,n)},off(e,t){return BT(this).off(e,t)},once(e,t){return BT(this).once(e,t)},hasEventListeners(e){return BT(this).has(e)}},JB=Ir.DOM;let fw;const QB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=kO(e);return n?(e.eventRoot||(e.eventRoot=JB.select(n)[0]),e.eventRoot):e.getBody()},yse=e=>!e.hidden&&!dw(e),WW=(e,t,n)=>{yse(e)?e.dispatch(t,n):dw(e)&&pse(e,n)},ZW=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=QB(e,t);if(kO(e)){if(fw||(fw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||fw&&(Uo(fw,(l,f)=>{e.dom.unbind(QB(e,f))}),fw=null)})),fw[t])return;const s=l=>{const f=l.target,g=e.editorManager.get();let C=g.length;for(;C--;){const A=g[C].getBody();(A===f||JB.isChildOf(f,A))&&WW(g[C],t,l)}};fw[t]=s,JB.bind(n,t,s)}else{const s=l=>{WW(e,t,l)};JB.bind(n,t,s),e.delegates[t]=s}},jW={...z9,bindPendingEventDelegates(){const e=this;Kt.each(e._pendingNativeEvents,t=>{ZW(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?ZW(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(QB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Uo(e.delegates,(s,l)=>{e.dom.unbind(QB(e,l),l,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},xse=e=>Te(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,Te)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},wse=e=>{const t=(()=>{switch(e){case"array":return re;case"boolean":return Ve;case"function":return Ne;case"number":return D;case"object":return te;case"string":return Te;case"string[]":return xse;case"object[]":return n=>yt(n,te);case"regexp":return n=>$e(n,RegExp);default:return Rn}})();return n=>H9(n,t,`The value must be a ${e}.`)},Cse=e=>Te(e.processor),KW=(e,t)=>{const n=Lt(t.message)?"":`. ${t.message}`;return e+n},qW=e=>e.valid,H9=(e,t,n="")=>{const s=t(e);return Ve(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},_se=(e,t,n)=>{if(!Ze(t)){const s=H9(t,n);if(qW(s))return s.value;console.error(KW(`Invalid default value passed for the "${e}" option`,s))}},Sse=(e,t,n=t)=>{const s={},l={},f=(ue,we,de)=>{const ke=H9(we,de);return qW(ke)?(l[ue]=ke.value,!0):(console.warn(KW(`Invalid value passed for the ${ue} option`,ke)),!1)},g=(ue,we)=>{const de=Cse(we)?wse(we.processor):we.processor,ke=_se(ue,we.default,de);s[ue]={...we,default:ke,processor:de},dr(l,ue).orThunk(()=>dr(t,ue)).each(qe=>f(ue,qe,de))},C=ue=>Gn(s,ue);return{register:g,isRegistered:C,get:ue=>dr(l,ue).orThunk(()=>dr(s,ue).map(we=>we.default)).getOrUndefined(),set:(ue,we)=>{if(C(ue)){const de=s[ue];return de.immutable?(console.error(`"${ue}" is an immutable option and cannot be updated`),!1):f(ue,we,de.processor)}else return console.warn(`"${ue}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ue=>{const we=C(ue);return we&&delete l[ue],we},isSet:ue=>Gn(l,ue),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ue,we)=>Ve(we)||D(we)||Te(we)||Ge(we)||re(we)||Ae(we)?we:Object.prototype.toString.call(we))))}catch(ue){console.error(ue)}}}},kse=["design","readonly"],GW=(e,t,n,s)=>{const l=n[t.get()],f=n[s];try{f.activate()}catch(g){console.error(`problem while activating editor mode ${s}:`,g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&use(e,f.editorReadOnly),t.set(s),P5(e,s)},Ese=(e,t,n,s)=>{if(s!==n.get()){if(!Gn(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?GW(e,n,t,s):e.on("init",()=>GW(e,n,t,s))}},Ase=(e,t,n)=>{if(le(kse,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},Tse=e=>{const t=fa("design"),n=fa({design:{activate:Pt,deactivate:Pt,editorReadOnly:!1},readonly:{activate:Pt,deactivate:Pt,editorReadOnly:!0}});return dse(e),bse(e),{isReadOnly:()=>dw(e),set:s=>Ese(e,n.get(),t,s),get:()=>t.get(),register:(s,l)=>{n.set(Ase(n.get(),s,l))}}},V9=Kt.each,$9=Kt.explode,Ose={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},YW=Kt.makeMap("alt,ctrl,shift,meta,access"),Dse=e=>e in YW,Rse=e=>{const t={},n=Co.os.isMacOS()||Co.os.isiOS();V9($9(e.toLowerCase(),"+"),f=>{Dse(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=Ose[f]||f.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let l;for(l in YW)t[l]?s.push(l):t[l]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class XW{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(V9(n.shortcuts,l=>{n.matchShortcut(s,l)&&(n.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(l))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,l){const f=this,g=f.normalizeCommandFunc(s);return V9($9(Kt.trim(t)),C=>{const A=f.createShortcut(C,n,g,l);f.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Kt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,l){const f=Kt.map($9(t,">"),Rse);return f[f.length-1]=Kt.extend(f[f.length-1],{func:s,scope:l||this.editor}),Kt.extend(f[0],{desc:this.editor.translate(n),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Nse=()=>{const e={},t={},n={},s={},l={},f={},g={},C={},A=(j,q)=>(X,ue)=>{j[X.toLowerCase()]={...ue,type:q}},F=(j,q)=>s[j.toLowerCase()]=q;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(g,"sidebar"),addView:A(C,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:l,contextToolbars:f,sidebars:g,views:C})}},Ise=()=>{const e=Nse();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mw=Ir.DOM,JW=Kt.extend,Bse=Kt.each;class e8{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,JW(this,jW);const l=this;this.id=t,this.hidden=!1;const f=bre(s.defaultOptions,n);this.options=Sse(l,f,n),uC(l);const g=this.options.get;g("deprecation_warnings")&&EF(n,f);const C=g("suffix");C&&(s.suffix=C),this.suffix=s.suffix;const A=g("base_url");A&&s._setBaseUrl(A),this.baseUri=s.baseURI;const F=xx(l);F&&(sl.ScriptLoader._setReferrerPolicy(F),Ir.DOM.styleSheetLoader._setReferrerPolicy(F));const j=NO(l);Ce(j)&&Ir.DOM.styleSheetLoader._setContentCssCors(j),Vi.languageLoad=g("language_load"),Vi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Uu(Qc(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ub(l),this.hasVisual=vc(l),this.shortcuts=new XW(this),this.editorCommands=new $W(this),ose(this);const q=g("cache_suffix");q&&(Co.cacheSuffix=q.replace(/^[\?\&]+/,"")),this.ui={registry:Ise(),styleSheetLoader:void 0,show:Pt,hide:Pt,setEnabled:Pt,isEnabled:Rn},this.mode=Tse(l),s.dispatch("SetupEditor",{editor:this});const X=Q1(l);Ne(X)&&X.call(l,l)}render(){nre(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return uv(this)}translate(t){return gc.translate(t)}getParam(t,n,s){const l=this.options;return l.isRegistered(t)||(Ce(s)?l.register(t,{processor:s,default:n}):l.register(t,{processor:Rn,default:n})),!l.isSet(t)&&!Ze(n)?n:l.get(t)}hasPlugin(t,n){return le(yd(this),t)?n?_0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,l){this.shortcuts.add(t,n,s,l)}execCommand(t,n,s,l){return this.editorCommands.execCommand(t,n,s,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(mw.show(t.getContainer()),mw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(mw.hide(t.getContainer()),mw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const l={...t,load:!0},f=Rh(s)?s.value:s.innerHTML,g=n.setContent(f,l);return l.no_events||n.dispatch("LoadContent",{...l,element:s}),g}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const l={...t,save:!0,element:s};let f=n.getContent(l);const g={...l,content:f};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),f=g.content,Rh(s))s.value=f;else{(t.is_removing||!n.inline)&&(s.innerHTML=f);const C=mw.getParent(n.id,"form");C&&Bse(C.elements,A=>A.name===n.id?(A.value=f,!1):!0)}return g.element=l.element=s=null,g.set_dirty!==!1&&n.setDirty(!1),f}setContent(t,n){return w4(this,t,n)}getContent(t){return w6(this,t)}insertContent(t,n){n&&(t=JW({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?w4(this,this.startContent,{format:"raw"}):w4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||mw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const l=this,f=l.options.get,g=jM(l);if(Ne(g))return g.call(l,t,s,!0,n);if(!f("convert_urls")||s==="link"||te(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new Uu(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:f("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){vre(this,t)}setEditableRoot(t){ore(this,t)}hasEditableRoot(){return rre(this)}remove(){O6(this)}destroy(t){TF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const zS=Ir.DOM,t8=Kt.each;let QW=!1,n8,iu=[];const o8=e=>{const t=e.type;t8(Zv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},eZ=e=>{if(e!==QW){const t=Ir.DOM;e?(t.bind(window,"resize",o8),t.bind(window,"scroll",o8)):(t.unbind(window,"resize",o8),t.unbind(window,"scroll",o8)),QW=e}},tZ=e=>{const t=iu;return iu=Ct(iu,n=>e!==n),Zv.activeEditor===e&&(Zv.activeEditor=iu.length>0?iu[0]:null),Zv.focusedEditor===e&&(Zv.focusedEditor=null),t.length!==iu.length},Mse=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(tZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Pse=document.compatMode!=="CSS1Compat",Zv={...z9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:gc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=Uu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,n=l.suffix;else{const f=document.getElementsByTagName("script");for(let g=0;g<f.length;g++){const C=f[g].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(n=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new Uu(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Uu(e.baseURL),e.suffix=n,GP(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Uo(s,(l,f)=>{Vi.PluginManager.urls[f]=l})},init(e){const t=this;let n;const s=Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,q)=>j.inline&&q.tagName.toLowerCase()in s,f=j=>{let q=j.id;return q||(q=dr(j,"name").filter(X=>!zS.get(X)).getOrThunk(zS.uniqueId),j.setAttribute("id",q)),q},g=j=>{const q=e[j];if(q)return q.apply(t,[])},C=j=>Co.browser.isIE()||Co.browser.isEdge()?(W2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Pse?(W2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Te(j.selector)?zS.select(j.selector):Ce(j.target)?[j.target]:[];let A=j=>{n=j};const F=()=>{let j=0;const q=[];let X;const ue=(we,de,ke)=>{const Fe=new e8(we,de,t);q.push(Fe),Fe.on("init",()=>{++j===X.length&&A(q)}),Fe.targetElm=Fe.targetElm||ke,Fe.render()};zS.unbind(window,"ready",F),g("onpageload"),X=Pa(C(e)),Kt.each(X,we=>{Mse(t.get(we.id))}),X=Kt.grep(X,we=>!t.get(we.id)),X.length===0?A([]):t8(X,we=>{l(e,we)?W2("Could not initialize inline editor on invalid inline target element",we):ue(f(we),e,we)})};return zS.bind(window,"ready",F),new Promise(j=>{n?j(n):A=q=>{j(q)}})},get(e){return arguments.length===0?iu.slice(0):Te(e)?wn(iu,t=>t.id===e).getOr(null):D(e)&&iu[e]?iu[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&iu.push(e),eZ(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),n8||(n8=s=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",n8))),e},createEditor(e,t){return this.add(new e8(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=iu.length-1;s>=0;s--)t.remove(iu[s]);return}if(Te(e)){t8(zS.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Ge(t.get(n.id))?null:(tZ(n)&&t.dispatch("RemoveEditor",{editor:n}),iu.length===0&&window.removeEventListener("beforeunload",n8),n.remove(),eZ(iu.length>0),n)},execCommand(e,t,n){var s;const l=this,f=te(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!l.get(f)){const g=n.options;new e8(f,g,l).render()}return!0}case"mceRemoveEditor":{const g=l.get(f);return g&&g.remove(),!0}case"mceToggleEditor":{const g=l.get(f);return g?(g.isHidden()?g.show():g.hide(),!0):(l.execCommand("mceAddEditor",!1,n),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{t8(iu,e=>{e.save()})},addI18n:(e,t)=>{gc.add(e,t)},translate:e=>gc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Uu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Uu(this.baseURL)}};Zv.setup();const Lse=(()=>{const e=ma(),t=f=>({items:f,types:Vt(f),getType:g=>dr(f,g).getOrUndefined()}),n=f=>{e.set(f)},s=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:l}})(),nZ=Math.min,HS=Math.max,r8=Math.round,oZ=(e,t,n)=>{let s=t.x,l=t.y;const f=e.w,g=e.h,C=t.w,A=t.h,F=(n||"").split("");return F[0]==="b"&&(l+=A),F[1]==="r"&&(s+=C),F[0]==="c"&&(l+=r8(A/2)),F[1]==="c"&&(s+=r8(C/2)),F[3]==="b"&&(l-=g),F[4]==="r"&&(s-=f),F[3]==="c"&&(l-=r8(g/2)),F[4]==="c"&&(s-=r8(f/2)),VS(s,l,f,g)},Fse=(e,t,n,s)=>{for(let l=0;l<s.length;l++){const f=oZ(e,t,s[l]);if(f.x>=n.x&&f.x+f.w<=n.w+n.x&&f.y>=n.y&&f.y+f.h<=n.h+n.y)return s[l]}return null},zse=(e,t,n)=>VS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Hse=(e,t)=>{const n=HS(e.x,t.x),s=HS(e.y,t.y),l=nZ(e.x+e.w,t.x+t.w),f=nZ(e.y+e.h,t.y+t.h);return l-n<0||f-s<0?null:VS(n,s,l-n,f-s)},Vse=(e,t,n)=>{let s=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,F=HS(0,t.x-s),j=HS(0,t.y-l),q=HS(0,f-C),X=HS(0,g-A);return s+=F,l+=j,n&&(f+=F,g+=j,s-=q,l-=X),f-=q,g-=X,VS(s,l,f-s,g-l)},VS=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),$se={inflate:zse,relativePosition:oZ,findBestRelativePosition:Fse,intersect:Hse,clamp:Vse,create:VS,fromClientRect:e=>VS(e.left,e.top,e.width,e.height)},Use=(e,t,n=1e3)=>{let s=!1,l=null;const f=F=>(...j)=>{s||(s=!0,l!==null&&(clearTimeout(l),l=null),F.apply(null,j))},g=f(e),C=f(t);return{start:(...F)=>{!s&&l===null&&(l=setTimeout(()=>C.apply(null,F),n))},resolve:g,reject:C}},Wse=(()=>{const e={},t={},n={};return{load:(A,F)=>{const j=`Script at URL "${F}" failed to load`,q=`Script at URL "${F}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const X=new Promise((ue,we)=>{const de=Use(ue,we);t[A]=de.resolve,sl.ScriptLoader.loadScript(F).then(()=>de.start(q),()=>de.reject(j))});return e[A]=X,X}},add:(A,F)=>{t[A]!==void 0&&(t[A](F),delete t[A]),e[A]=Promise.resolve(F),n[A]=F},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),Zse=()=>(()=>{let e={},t=[];const n={getItem:s=>{const l=e[s];return l||null},setItem:(s,l)=>{t.push(s),e[s]=String(l)},key:s=>t[s],removeItem:s=>{t=t.filter(l=>l===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let MT;try{const e="__storage_test__";MT=window.localStorage,MT.setItem(e,e),MT.removeItem(e)}catch{MT=Zse()}var jse=MT;const Kse={geom:{Rect:$se},util:{Delay:Cc,Tools:Kt,VK:rn,URI:Uu,EventDispatcher:F9,Observable:z9,I18n:gc,LocalStorage:jse,ImageUploader:HF},dom:{EventUtils:lf,TreeWalker:Za,TextSeeker:md,DOMUtils:Ir,ScriptLoader:sl,RangeUtils:ap,Serializer:x6,StyleSheetLoader:mm,ControlSelection:kr,BookmarkManager:Rr,Selection:y4,Event:lf.Event},html:{Styles:qy,Entities:Tg,Node:fi,Schema:mc,DomParser:Av,Writer:qE,Serializer:Qg},Env:Co,AddOnManager:Vi,Annotator:M5,Formatter:K2,UndoManager:Q6,EditorCommands:$W,WindowManager:P6,NotificationManager:T4,EditorObservable:jW,Shortcuts:XW,Editor:e8,FocusManager:Lu,EditorManager:Zv,DOM:Ir.DOM,ScriptLoader:sl.ScriptLoader,PluginManager:_0,ThemeManager:kp,ModelManager:Sp,IconManager:$2,Resource:Wse,FakeClipboard:Lse,trim:Kt.trim,isArray:Kt.isArray,is:Kt.is,toArray:Kt.toArray,makeMap:Kt.makeMap,each:Kt.each,map:Kt.map,grep:Kt.grep,inArray:Kt.inArray,extend:Kt.extend,walk:Kt.walk,resolve:Kt.resolve,explode:Kt.explode,_addCacheSuffix:Kt._addCacheSuffix},rZ=Kt.extend(Zv,Kse),qse=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(rZ),qse(rZ)})()})(JY);var Lhe=JY.exports;const Fhe=xM(Lhe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const r=Object.getPrototypeOf,i=(o,a,c)=>{var d;return!!c(o,a.prototype)||((d=o.constructor)===null||d===void 0?void 0:d.name)===a.name},u=o=>a=>(c=>{const d=typeof c;return c===null?"null":d==="object"&&Array.isArray(c)?"array":d==="object"&&i(c,String,(h,v)=>v.isPrototypeOf(h))?"string":d})(a)===o,m=o=>a=>typeof a===o,b=o=>a=>o===a,p=u("string"),x=u("object"),S=o=>((a,c)=>x(a)&&i(a,c,(d,h)=>r(d)===h))(o,Object),M=u("array"),I=b(null),R=m("boolean"),z=b(void 0),U=o=>o==null,$=o=>!U(o),G=m("function"),ee=m("number"),he=(o,a)=>{if(M(o)){for(let c=0,d=o.length;c<d;++c)if(!a(o[c]))return!1;return!0}return!1},me=()=>{},$e=o=>()=>o(),Te=(o,a)=>(...c)=>o(a.apply(null,c)),te=o=>()=>o,Ae=o=>o,re=(o,a)=>o===a;function Ge(o,...a){return(...c)=>{const d=a.concat(c);return o.apply(null,d)}}const Ve=o=>a=>!o(a),Ze=o=>()=>{throw new Error(o)},rt=o=>o(),Ce=te(!1),Ne=te(!0);class D{constructor(a,c){this.tag=a,this.value=c}static some(a){return new D(!0,a)}static none(){return D.singletonNone}fold(a,c){return this.tag?c(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?D.some(a(this.value)):D.none()}bind(a){return this.tag?a(this.value):D.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:D.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return $(a)?D.some(a):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const yt=Array.prototype.slice,Pt=Array.prototype.indexOf,ln=Array.prototype.push,gn=(o,a)=>Pt.call(o,a),Qe=(o,a)=>gn(o,a)>-1,On=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return!0;return!1},nr=(o,a)=>{const c=[];for(let d=0;d<o;d++)c.push(a(d));return c},pt=(o,a)=>{const c=[];for(let d=0;d<o.length;d+=a){const h=yt.call(o,d,d+a);c.push(h)}return c},bt=(o,a)=>{const c=o.length,d=new Array(c);for(let h=0;h<c;h++){const v=o[h];d[h]=a(v,h)}return d},Zt=(o,a)=>{for(let c=0,d=o.length;c<d;c++)a(o[c],c)},Ur=(o,a)=>{const c=[],d=[];for(let h=0,v=o.length;h<v;h++){const w=o[h];(a(w,h)?c:d).push(w)}return{pass:c,fail:d}},ho=(o,a)=>{const c=[];for(let d=0,h=o.length;d<h;d++){const v=o[d];a(v,d)&&c.push(v)}return c},xn=(o,a,c)=>(((d,h)=>{for(let v=d.length-1;v>=0;v--)h(d[v],v)})(o,(d,h)=>{c=a(c,d,h)}),c),Rn=(o,a,c)=>(Zt(o,(d,h)=>{c=a(c,d,h)}),c),J=(o,a)=>((c,d,h)=>{for(let v=0,w=c.length;v<w;v++){const k=c[v];if(d(k,v))return D.some(k);if(h(k,v))break}return D.none()})(o,a,Ce),sr=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return D.some(c);return D.none()},br=o=>{const a=[];for(let c=0,d=o.length;c<d;++c){if(!M(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);ln.apply(a,o[c])}return a},Ko=(o,a)=>br(bt(o,a)),oi=(o,a)=>{for(let c=0,d=o.length;c<d;++c)if(a(o[c],c)!==!0)return!1;return!0},Ke=o=>{const a=yt.call(o,0);return a.reverse(),a},le=(o,a)=>ho(o,c=>!Qe(a,c)),xe=(o,a)=>{const c={};for(let d=0,h=o.length;d<h;d++){const v=o[d];c[String(v)]=a(v,d)}return c},Me=o=>[o],ge=(o,a)=>{const c=yt.call(o,0);return c.sort(a),c},St=(o,a)=>a>=0&&a<o.length?D.some(o[a]):D.none(),$t=o=>St(o,0),Ct=o=>St(o,o.length-1),zt=G(Array.from)?Array.from:o=>yt.call(o),It=(o,a)=>{for(let c=0;c<o.length;c++){const d=a(o[c],c);if(d.isSome())return d}return D.none()},on=Object.keys,wn=Object.hasOwnProperty,Cn=(o,a)=>{const c=on(o);for(let d=0,h=c.length;d<h;d++){const v=c[d];a(o[v],v)}},En=(o,a)=>ao(o,(c,d)=>({k:d,v:a(c,d)})),ao=(o,a)=>{const c={};return Cn(o,(d,h)=>{const v=a(d,h);c[v.k]=v.v}),c},vo=o=>(a,c)=>{o[c]=a},Ao=(o,a,c,d)=>{Cn(o,(h,v)=>{(a(h,v)?c:d)(h,v)})},Oo=(o,a)=>{const c={};return Ao(o,a,vo(c),me),c},Es=(o,a)=>{const c=[];return Cn(o,(d,h)=>{c.push(a(d,h))}),c},ur=(o,a)=>{const c=on(o);for(let d=0,h=c.length;d<h;d++){const v=c[d],w=o[v];if(a(w,v,o))return D.some(w)}return D.none()},bi=o=>Es(o,Ae),cn=(o,a)=>po(o,a)?D.from(o[a]):D.none(),po=(o,a)=>wn.call(o,a),io=(o,a)=>po(o,a)&&o[a]!==void 0&&o[a]!==null,Wr=(o,a,c=re)=>o.exists(d=>c(d,a)),Pa=o=>{const a=[],c=d=>{a.push(d)};for(let d=0;d<o.length;d++)o[d].each(c);return a},Vt=(o,a,c)=>o.isSome()&&a.isSome()?D.some(c(o.getOrDie(),a.getOrDie())):D.none(),Ys=(o,a)=>o!=null?D.some(a(o)):D.none(),Uo=(o,a)=>o?D.some(a):D.none(),kl=(o,a,c)=>a===""||o.length>=a.length&&o.substr(c,c+a.length)===a,Tr=(o,a)=>qf(o,a)?((c,d)=>c.substring(d))(o,a.length):o,zs=(o,a,c=0,d)=>{const h=o.indexOf(a,c);return h!==-1&&(!!z(d)||h+a.length<=d)},qf=(o,a)=>kl(o,a,0),du=(o,a)=>kl(o,a,o.length-a.length),ec=(Wd=/^\s+|\s+$/g,o=>o.replace(Wd,"")),Xi=o=>o.length>0,fu=o=>!Xi(o),dr=o=>o.style!==void 0&&G(o.style.getPropertyValue),Gn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},El=(o,a)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,o),new Error(d)}return Gn(c.childNodes[0])},ca=(o,a)=>{const c=document.createElement(o);return Gn(c)},mu=(o,a)=>{const c=document.createTextNode(o);return Gn(c)},Qt=Gn,gu=typeof window<"u"?window:Function("return this;")(),Gf=(o,a)=>((c,d)=>{let h=d??gu;for(let v=0;v<c.length&&h!=null;++v)h=h[c[v]];return h})(o.split("."),a),ts=Object.getPrototypeOf,Yf=o=>{const a=Gf("ownerDocument.defaultView",o);return x(o)&&((c=>((d,h)=>{const v=((w,k)=>Gf(w,k))(d,h);if(v==null)throw new Error(d+" not available on this browser");return v})("HTMLElement",c))(a).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(ts(o).constructor.name))},Ni=o=>o.dom.nodeName.toLowerCase(),ml=o=>a=>(c=>c.dom.nodeType)(a)===o,Ji=o=>Kr(o)&&Yf(o.dom),Kr=ml(1),ri=ml(3),gl=ml(9),Xf=ml(11),Rc=o=>a=>Kr(a)&&Ni(a)===o,Nc=(o,a)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const d=c;if(d.matches!==void 0)return d.matches(a);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(a);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(a);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},zd=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Xu=(o,a)=>{const c=a===void 0?document:a.dom;return zd(c)?D.none():D.from(c.querySelector(o)).map(Qt)},Wo=(o,a)=>o.dom===a.dom,xs=(o,a)=>{const c=o.dom,d=a.dom;return c!==d&&c.contains(d)},Zs=o=>Qt(o.dom.ownerDocument),Jf=o=>gl(o)?o:Zs(o),Ii=o=>Qt(Jf(o).dom.documentElement),Ic=o=>Qt(Jf(o).dom.defaultView),si=o=>D.from(o.dom.parentNode).map(Qt),ai=o=>D.from(o.dom.parentElement).map(Qt),Bc=o=>D.from(o.dom.offsetParent).map(Qt),vr=o=>bt(o.dom.childNodes,Qt),qr=(o,a)=>{const c=o.dom.childNodes;return D.from(c[a]).map(Qt)},Se=o=>qr(o,0),Ye=(o,a)=>({element:o,offset:a}),Re=(o,a)=>{const c=vr(o);return c.length>0&&a<c.length?Ye(c[a],0):Ye(o,a)},it=o=>Xf(o)&&$(o.dom.host),ot=o=>Qt(o.dom.getRootNode()),je=o=>it(o)?o:Qt(Jf(o).dom.body),Lt=o=>{const a=ot(o);return it(a)?D.some(a):D.none()},Yt=o=>Qt(o.dom.host),nn=o=>{const a=ri(o)?o.dom.parentNode:o.dom;if(a==null||a.ownerDocument===null)return!1;const c=a.ownerDocument;return Lt(Qt(a)).fold(()=>c.body.contains(a),(d=nn,h=Yt,v=>d(h(v))));var d,h},dn=()=>en(Qt(document)),en=o=>{const a=o.dom.body;if(a==null)throw new Error("Body is not available yet");return Qt(a)},ro=(o,a,c)=>{if(!(p(c)||R(c)||ee(c)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(a,c+"")},Jt=(o,a,c)=>{ro(o.dom,a,c)},ar=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{ro(c,h,d)})},wo=(o,a)=>{const c=o.dom.getAttribute(a);return c===null?void 0:c},No=(o,a)=>D.from(wo(o,a)),fs=(o,a)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(a)},fo=(o,a)=>{o.dom.removeAttribute(a)},hl=(o,a,c)=>{if(!p(c))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);dr(o)&&o.style.setProperty(a,c)},La=(o,a)=>{dr(o)&&o.style.removeProperty(a)},Jn=(o,a,c)=>{const d=o.dom;hl(d,a,c)},Bi=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{hl(c,h,d)})},Qi=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{d.fold(()=>{La(c,h)},v=>{hl(c,h,v)})})},as=(o,a)=>{const c=o.dom,d=window.getComputedStyle(c).getPropertyValue(a);return d!==""||nn(o)?d:Ju(c,a)},Ju=(o,a)=>dr(o)?o.style.getPropertyValue(a):"",As=(o,a)=>{const c=o.dom,d=Ju(c,a);return D.from(d).filter(h=>h.length>0)},Hd=o=>{const a={},c=o.dom;if(dr(c))for(let d=0;d<c.style.length;d++){const h=c.style.item(d);a[h]=c.style[h]}return a},pl=(o,a,c)=>{const d=ca(o);return Jn(d,a,c),As(d,a).isSome()},er=(o,a)=>{const c=o.dom;La(c,a),Wr(No(o,"style").map(ec),"")&&fo(o,"style")},hu=o=>o.dom.offsetWidth,Qf=(o,a)=>{const c=h=>{const v=a(h);if(v<=0||v===null){const w=as(h,o);return parseFloat(w)||0}return v},d=(h,v)=>Rn(v,(w,k)=>{const E=as(h,k),O=E===void 0?0:parseInt(E,10);return isNaN(O)?w:w+O},0);return{set:(h,v)=>{if(!ee(v)&&!v.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+v);const w=h.dom;dr(w)&&(w.style[o]=v+"px")},get:c,getOuter:c,aggregate:d,max:(h,v,w)=>{const k=d(h,w);return v>k?v-k:0}}},Ch=Qf("height",o=>{const a=o.dom;return nn(o)?a.getBoundingClientRect().height:a.offsetHeight}),ms=o=>Ch.get(o),tc=o=>Ch.getOuter(o),el=(o,a)=>({left:o,top:a,translate:(c,d)=>el(o+c,a+d)}),Pr=el,em=(o,a)=>o!==void 0?o:a!==void 0?a:0,bl=o=>{const a=o.dom.ownerDocument,c=a.body,d=a.defaultView,h=a.documentElement;if(c===o.dom)return Pr(c.offsetLeft,c.offsetTop);const v=em(d==null?void 0:d.pageYOffset,h.scrollTop),w=em(d==null?void 0:d.pageXOffset,h.scrollLeft),k=em(h.clientTop,c.clientTop),E=em(h.clientLeft,c.clientLeft);return Fa(o).translate(w-E,v-k)},Fa=o=>{const a=o.dom,c=a.ownerDocument.body;return c===a?Pr(c.offsetLeft,c.offsetTop):nn(o)?(d=>{const h=d.getBoundingClientRect();return Pr(h.left,h.top)})(a):Pr(0,0)},mg=Qf("width",o=>o.dom.offsetWidth),ua=o=>mg.get(o),Mi=o=>mg.getOuter(o),za=o=>{let a,c=!1;return(...d)=>(c||(c=!0,a=o.apply(null,d)),a)},vl=()=>_h(0,0),_h=(o,a)=>({major:o,minor:a}),Co={nu:_h,detect:(o,a)=>{const c=String(a).toLowerCase();return o.length===0?vl():((d,h)=>{const v=((k,E)=>{for(let O=0;O<k.length;O++){const L=k[O];if(L.test(E))return L}})(d,h);if(!v)return{major:0,minor:0};const w=k=>Number(h.replace(v,"$"+k));return _h(w(1),w(2))})(o,c)},unknown:vl},Mc=(o,a)=>{const c=String(a).toLowerCase();return J(o,d=>d.search(c))},Qu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pu=o=>a=>zs(a,o),Zp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>zs(o,"edge/")&&zs(o,"chrome")&&zs(o,"safari")&&zs(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qu],search:o=>zs(o,"chrome")&&!zs(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>zs(o,"msie")||zs(o,"trident")},{name:"Opera",versionRegexes:[Qu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pu("firefox")},{name:"Safari",versionRegexes:[Qu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(zs(o,"safari")||zs(o,"mobile/"))&&zs(o,"applewebkit")}],_y=[{name:"Windows",search:pu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>zs(o,"iphone")||zs(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:pu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pu("linux"),versionRegexes:[]},{name:"Solaris",search:pu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],e1={browsers:te(Zp),oses:te(_y)},t1="Edge",zw="Chromium",Sh="Opera",n1="Firefox",Kt="Safari",Vd=o=>{const a=o.current,c=o.version,d=h=>()=>a===h;return{current:a,version:c,isEdge:d(t1),isChromium:d(zw),isIE:d("IE"),isOpera:d(Sh),isFirefox:d(n1),isSafari:d(Kt)}},$d=()=>Vd({current:void 0,version:Co.unknown()}),o1=Vd,Ha="Windows",Ud="Android",gg="Linux",Sy="macOS",ky="Solaris",jp="FreeBSD",Ey="ChromeOS",r1=o=>{const a=o.current,c=o.version,d=h=>()=>a===h;return{current:a,version:c,isWindows:d(Ha),isiOS:d("iOS"),isAndroid:d(Ud),isMacOS:d(Sy),isLinux:d(gg),isSolaris:d(ky),isFreeBSD:d(jp),isChromeOS:d(Ey)}},Ay=()=>r1({current:void 0,version:Co.unknown()}),hg=r1,s1=o=>window.matchMedia(o).matches;var Wd;let Zd=za(()=>((o,a,c)=>{const d=e1.browsers(),h=e1.oses(),v=a.bind(E=>((O,L)=>It(L.brands,B=>{const H=B.brand.toLowerCase();return J(O,K=>{var Y;return H===((Y=K.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(K=>({current:K.name,version:Co.nu(parseInt(B.version,10),0)}))}))(d,E)).orThunk(()=>((E,O)=>Mc(E,O).map(L=>{const B=Co.detect(L.versionRegexes,O);return{current:L.name,version:B}}))(d,o)).fold($d,o1),w=((E,O)=>Mc(E,O).map(L=>{const B=Co.detect(L.versionRegexes,O);return{current:L.name,version:B}}))(h,o).fold(Ay,hg),k=((E,O,L,B)=>{const H=E.isiOS()&&/ipad/i.test(L)===!0,K=E.isiOS()&&!H,Y=E.isiOS()||E.isAndroid(),se=Y||B("(pointer:coarse)"),ce=H||!K&&Y&&B("(min-device-width:768px)"),ve=K||Y&&!ce,ie=O.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,ae=!ve&&!ce&&!ie;return{isiPad:te(H),isiPhone:te(K),isTablet:te(ce),isPhone:te(ve),isTouch:te(se),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:te(ie),isDesktop:te(ae)}})(w,v,o,c);return{browser:v,os:w,deviceType:k}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),s1));const Va=()=>Zd(),tl=o=>{const a=Qt((v=>{if($(v.target)){const w=Qt(v.target);if(Kr(w)&&(k=>$(k.dom.shadowRoot))(w)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return $t(k)}}return D.from(v.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),d=()=>o.preventDefault(),h=Te(d,c);return((v,w,k,E,O,L,B)=>({target:v,x:w,y:k,stop:E,prevent:O,kill:L,raw:B}))(a,o.clientX,o.clientY,c,d,h,o)},pg=(o,a,c,d,h)=>{const v=((w,k)=>E=>{w(E)&&k(tl(E))})(c,d);return o.dom.addEventListener(a,v,h),{unbind:Ge(Po,o,a,v,h)}},Po=(o,a,c,d)=>{o.dom.removeEventListener(a,c,d)},ed=(o,a)=>{si(o).each(c=>{c.dom.insertBefore(a.dom,o.dom)})},bg=(o,a)=>{(d=>D.from(d.dom.nextSibling).map(Qt))(o).fold(()=>{si(o).each(d=>{vi(d,a)})},d=>{ed(d,a)})},vg=(o,a)=>{Se(o).fold(()=>{vi(o,a)},c=>{o.dom.insertBefore(a.dom,c.dom)})},vi=(o,a)=>{o.dom.appendChild(a.dom)},Ts=(o,a)=>{Zt(a,c=>{vi(o,c)})},Gr=o=>{o.dom.textContent="",Zt(vr(o),a=>{wa(a)})},wa=o=>{const a=o.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Lr=o=>{const a=o!==void 0?o.dom:document,c=a.body.scrollLeft||a.documentElement.scrollLeft,d=a.body.scrollTop||a.documentElement.scrollTop;return Pr(c,d)},jd=(o,a,c)=>{const d=(c!==void 0?c.dom:document).defaultView;d&&d.scrollTo(o,a)},tm=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),na=o=>{const a=o===void 0?window:o,c=a.document,d=Lr(Qt(c));return(h=>{const v=h===void 0?window:h;return Va().browser.isFirefox()?D.none():D.from(v.visualViewport)})(a).fold(()=>{const h=a.document.documentElement,v=h.clientWidth,w=h.clientHeight;return tm(d.left,d.top,v,w)},h=>tm(Math.max(h.pageLeft,d.left),Math.max(h.pageTop,d.top),h.width,h.height))},yi=()=>Qt(document),ii=(o,a)=>o.view(a).fold(te([]),c=>{const d=o.owner(c),h=ii(o,d);return[c].concat(h)});var Pc=Object.freeze({__proto__:null,view:o=>{var a;return(o.dom===document?D.none():D.from((a=o.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(Qt)},owner:o=>Zs(o)});const td=o=>{const a=yi(),c=Lr(a);return((h,v)=>{const w=v.owner(h),k=ii(v,w);return D.some(k)})(o,Pc).fold(Ge(bl,o),h=>{const v=Fa(o),w=xn(h,(k,E)=>{const O=Fa(E);return{left:k.left+O.left,top:k.top+O.top}},{left:0,top:0});return Pr(w.left+v.left+c.left,w.top+v.top+c.top)})},bo=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),js=o=>{const a=bl(o),c=Mi(o),d=tc(o);return bo(a.left,a.top,c,d)},nl=o=>{const a=td(o),c=Mi(o),d=tc(o);return bo(a.left,a.top,c,d)},nd=(o,a)=>{const c=Math.max(o.x,a.x),d=Math.max(o.y,a.y),h=Math.min(o.right,a.right),v=Math.min(o.bottom,a.bottom);return bo(c,d,h-c,v-d)},Ca=()=>na(window),Dn=o=>{let a=o;return{get:()=>a,set:c=>{a=c}}},nc=o=>{const a=Dn(D.none()),c=()=>a.get().each(o);return{clear:()=>{c(),a.set(D.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:d=>{c(),a.set(D.some(d))}}},oc=()=>nc(o=>o.unbind()),ir=()=>{const o=nc(me);return{...o,on:a=>o.get().each(a)}};var kh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Kp=o=>{const a=v=>v(o),c=te(o),d=()=>h,h={tag:!0,inner:o,fold:(v,w)=>w(o),isValue:Ne,isError:Ce,map:v=>_o.value(v(o)),mapError:d,bind:a,exists:a,forall:a,getOr:c,or:d,getOrThunk:c,orThunk:d,getOrDie:c,each:v=>{v(o)},toOptional:()=>D.some(o)};return h},od=o=>{const a=()=>c,c={tag:!1,inner:o,fold:(d,h)=>d(o),isValue:Ce,isError:Ne,map:a,mapError:d=>_o.error(d(o)),bind:a,exists:Ce,forall:Ne,getOr:Ae,or:Ae,getOrThunk:rt,orThunk:rt,getOrDie:Ze(String(o)),each:me,toOptional:D.none};return c},_o={value:Kp,error:od,fromOption:(o,a)=>o.fold(()=>od(a),Kp)};var xi;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(xi||(xi={}));const Eh=(o,a,c)=>o.stype===xi.Error?a(o.serror):c(o.svalue),rd=o=>({stype:xi.Value,svalue:o}),qp=o=>({stype:xi.Error,serror:o}),Lc=rd,Pi=qp,Fc=Eh,Kd=(o,a,c,d)=>({tag:"field",key:o,newKey:a,presence:c,prop:d}),Be=(o,a,c)=>{switch(o.tag){case"field":return a(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},nm=o=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const c={};for(let d=0;d<a.length;d++){const h=a[d];for(const v in h)po(h,v)&&(c[v]=o(c[v],h[v]))}return c},yr=nm((o,a)=>S(o)&&S(a)?yr(o,a):a),Gp=nm((o,a)=>a),yg=o=>({tag:"defaultedThunk",process:o}),zc=o=>yg(te(o)),Lo=o=>({tag:"mergeWithThunk",process:o}),$a=o=>{const a=(d=>{const h=[],v=[];return Zt(d,w=>{Eh(w,k=>v.push(k),k=>h.push(k))}),{values:h,errors:v}})(o);return a.errors.length>0?(c=a.errors,Te(Pi,br)(c)):Lc(a.values);var c},bu=o=>x(o)&&on(o).length>100?" removed due to size":JSON.stringify(o,null,2),Ml=(o,a)=>Pi([{path:o,getErrorInfo:a}]),vu=o=>({extract:(a,c)=>((d,h)=>d.stype===xi.Error?h(d.serror):d)(o(c),d=>((h,v)=>Ml(h,te(v)))(a,d)),toString:te("val")}),yu=vu(Lc),Ua=(o,a,c,d)=>d(cn(o,a).getOrThunk(()=>c(o))),qd=(o,a,c,d,h)=>{const v=k=>h.extract(a.concat([d]),k),w=k=>k.fold(()=>Lc(D.none()),E=>((O,L)=>O.stype===xi.Value?{stype:xi.Value,svalue:L(O.svalue)}:O)(h.extract(a.concat([d]),E),D.some));switch(o.tag){case"required":return((k,E,O,L)=>cn(E,O).fold(()=>((B,H,K)=>Ml(B,()=>'Could not find valid *required* value for "'+H+'" in '+bu(K)))(k,O,E),L))(a,c,d,v);case"defaultedThunk":return Ua(c,d,o.process,v);case"option":return((k,E,O)=>O(cn(k,E)))(c,d,w);case"defaultedOptionThunk":return((k,E,O,L)=>L(cn(k,E).map(B=>B===!0?O(k):B)))(c,d,o.process,w);case"mergeWithThunk":return Ua(c,d,te({}),k=>{const E=yr(o.process(c),k);return v(E)})}},om=o=>({extract:(a,c)=>o().extract(a,c),toString:()=>o().toString()}),Yp=o=>on(Oo(o,$)),oa=o=>{const a=Pn(o),c=xn(o,(d,h)=>Be(h,v=>yr(d,{[v]:!0}),te(d)),{});return{extract:(d,h)=>{const v=R(h)?[]:Yp(h),w=ho(v,k=>!io(c,k));return w.length===0?a.extract(d,h):((k,E)=>Ml(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(d,w)},toString:a.toString}},Pn=o=>({extract:(a,c)=>((d,h,v)=>{const w={},k=[];for(const E of v)Be(E,(O,L,B,H)=>{const K=qd(B,d,h,O,H);Fc(K,Y=>{k.push(...Y)},Y=>{w[L]=Y})},(O,L)=>{w[O]=L(h)});return k.length>0?Pi(k):Lc(w)})(a,c,o),toString:()=>`obj{
`+bt(o,c=>Be(c,(d,h,v,w)=>d+" -> "+w.toString(),(d,h)=>"state("+d+")")).join(`
`)+"}"}),xu=o=>({extract:(a,c)=>{const d=bt(c,(h,v)=>o.extract(a.concat(["["+v+"]"]),h));return $a(d)},toString:()=>"array("+o.toString()+")"}),rm=(o,a)=>{const c=a!==void 0?a:Ae;return{extract:(d,h)=>{const v=[];for(const w of o){const k=w.extract(d,h);if(k.stype===xi.Value)return{stype:xi.Value,svalue:c(k.svalue)};v.push(k)}return $a(v)},toString:()=>"oneOf("+bt(o,d=>d.toString()).join(", ")+")"}},Wa=(o,a)=>({extract:(c,d)=>{const h=on(d),v=((w,k)=>xu(vu(o)).extract(w,k))(c,h);return((w,k)=>w.stype===xi.Value?k(w.svalue):w)(v,w=>{const k=bt(w,E=>Kd(E,E,{tag:"required",process:{}},a));return Pn(k).extract(c,d)})},toString:()=>"setOf("+a.toString()+")"}),wu=Te(xu,Pn),yl=te(yu),Cu=(o,a)=>vu(c=>{const d=typeof c;return o(c)?Lc(c):Pi(`Expected type: ${a} but got: ${d}`)}),sd=Cu(ee,"number"),ra=Cu(p,"string"),Pl=Cu(R,"boolean"),Hc=Cu(G,"function"),sm=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(a=>sm(o[a]));default:return!1}},a1=vu(o=>sm(o)?Lc(o):Pi("Expected value to be acceptable for sending via postMessage")),_u=(o,a)=>({extract:(c,d)=>cn(d,o).fold(()=>((h,v)=>Ml(h,()=>'Choice schema did not contain choice key: "'+v+'"'))(c,o),h=>((v,w,k,E)=>cn(k,E).fold(()=>((O,L,B)=>Ml(O,()=>'The chosen schema: "'+B+'" did not exist in branches: '+bu(L)))(v,k,E),O=>O.extract(v.concat(["branch: "+E]),w)))(c,d,a,h)),toString:()=>"chooseOn("+o+"). Possible values: "+on(a)}),Gd=o=>vu(a=>o(a).fold(Pi,Lc)),Xp=(o,a)=>Wa(c=>o(c).fold(qp,rd),a),is=(o,a,c)=>{return d=((h,v,w)=>((k,E)=>k.stype===xi.Error?{stype:xi.Error,serror:E(k.serror)}:k)(v.extract([h],w),k=>({input:w,errors:k})))(o,a,c),Eh(d,_o.error,_o.value);var d},wi=o=>o.fold(a=>{throw new Error(Li(a))},Ae),li=(o,a,c)=>wi(is(o,a,c)),Li=o=>`Errors: 
`+(a=>{const c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:te("... (only showing first ten failures)")}]):a;return bt(c,d=>"Failed path: ("+d.path.join(" > ")+`)
`+d.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+bu(o.input),Xs=(o,a)=>_u(o,En(a,Pn)),Ah=(o,a)=>((c,d)=>{const h=za(d);return{extract:(v,w)=>h().extract(v,w),toString:()=>h().toString()}})(0,a),Ks=Kd,_a=(o,a)=>({tag:"custom",newKey:o,instantiator:a}),Vc=o=>Gd(a=>Qe(o,a)?_o.value(a):_o.error(`Unsupported value: "${a}", choose one of "${o.join(", ")}".`)),At=o=>Ks(o,o,{tag:"required",process:{}},yl()),Sa=(o,a)=>Ks(o,o,{tag:"required",process:{}},a),Th=o=>Sa(o,sd),ls=o=>Sa(o,ra),Su=(o,a)=>Ks(o,o,{tag:"required",process:{}},Vc(a)),Ci=o=>Sa(o,Hc),rc=(o,a)=>Ks(o,o,{tag:"required",process:{}},Pn(a)),am=(o,a)=>Ks(o,o,{tag:"required",process:{}},wu(a)),Fi=(o,a)=>Ks(o,o,{tag:"required",process:{}},xu(a)),Io=o=>Ks(o,o,{tag:"option",process:{}},yl()),Os=(o,a)=>Ks(o,o,{tag:"option",process:{}},a),Yd=o=>Os(o,sd),ws=o=>Os(o,ra),xg=(o,a)=>Os(o,Vc(a)),$c=o=>Os(o,Hc),i1=(o,a)=>Os(o,xu(a)),gs=(o,a)=>Os(o,Pn(a)),et=(o,a)=>Ks(o,o,zc(a),yl()),_i=(o,a,c)=>Ks(o,o,zc(a),c),Ds=(o,a)=>_i(o,a,sd),Al=(o,a)=>_i(o,a,ra),sc=(o,a,c)=>_i(o,a,Vc(c)),Hs=(o,a)=>_i(o,a,Pl),Fr=(o,a)=>_i(o,a,Hc),fr=(o,a,c)=>_i(o,a,xu(c)),Si=(o,a,c)=>_i(o,a,Pn(c)),Tl=o=>{if(!M(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const a=[],c={};return Zt(o,(d,h)=>{const v=on(d);if(v.length!==1)throw new Error("one and only one name per case");const w=v[0],k=d[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!M(k))throw new Error("case arguments must be an array");a.push(w),c[w]=(...E)=>{const O=E.length;if(O!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+O);return{fold:(...L)=>{if(L.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+L.length);return L[h].apply(null,E)},match:L=>{const B=on(L);if(a.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+B.join(","));if(!oi(a,H=>Qe(B,H)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),c};Tl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Uc=(o,a)=>((c,d)=>({[c]:d}))(o,a),ad=o=>(a=>{const c={};return Zt(a,d=>{c[d.key]=d.value}),c})(o),im=o=>G(o)?o:Ce,wg=(o,a,c)=>{let d=o.dom;const h=im(c);for(;d.parentNode;){d=d.parentNode;const v=Qt(d),w=a(v);if(w.isSome())return w;if(h(v))break}return D.none()},Cg=(o,a,c)=>{const d=a(o),h=im(c);return d.orThunk(()=>h(o)?D.none():wg(o,a,h))},Jp=(o,a)=>Wo(o.element,a.event.target),Qp={can:Ne,abort:Ce,run:me},ku=o=>{if(!io(o,"can")&&!io(o,"abort")&&!io(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Qp,...o}},N=te,Z=N("touchstart"),ne=N("touchmove"),Oe=N("touchend"),ze=N("touchcancel"),Tt=N("mousedown"),Ln=N("mousemove"),so=N("mouseout"),Yn=N("mouseup"),_n=N("mouseover"),Jo=N("focusin"),Rs=N("focusout"),cs=N("keydown"),ac=N("keyup"),lm=N("input"),cm=N("change"),Js=N("click"),Hw=N("transitioncancel"),eb=N("transitionend"),l1=N("transitionstart"),Za=N("selectstart"),hs=o=>te("alloy."+o),da={tap:hs("tap")},Eu=hs("focus"),Oh=hs("blur.post"),Ty=hs("paste.post"),Ll=hs("receive"),ol=hs("execute"),tb=hs("focus.item"),Xd=da.tap,hk=hs("longpress"),nb=hs("sandbox.close"),id=hs("typeahead.cancel"),Jd=hs("system.init"),yn=hs("system.touchmove"),Wc=hs("system.touchend"),ob=hs("system.scroll"),Qd=hs("system.resize"),ja=hs("system.attached"),ic=hs("system.detached"),_g=hs("system.dismissRequested"),ef=hs("system.repositionRequested"),c1=hs("focusmanager.shifted"),Zc=hs("slotcontainer.visibility"),Dh=hs("system.external.element.scroll"),Rh=hs("change.tab"),Mt=hs("dismiss.tab"),Oy=hs("highlight"),tf=hs("dehighlight"),go=(o,a)=>{lc(o,o.element,a,{})},Sn=(o,a,c)=>{lc(o,o.element,a,c)},nf=o=>{go(o,ol())},ns=(o,a,c)=>{lc(o,a,c,{})},lc=(o,a,c,d)=>{const h={target:a,...d};o.getSystem().triggerEvent(c,a,h)},cc=(o,a,c,d)=>{o.getSystem().triggerEvent(c,a,d.event)},to=o=>ad(o),Nh=(o,a)=>({key:o,value:ku({abort:a})}),Vw=o=>({key:o,value:ku({run:(a,c)=>{c.event.prevent()}})}),xt=(o,a)=>({key:o,value:ku({run:a})}),Dy=(o,a,c)=>({key:o,value:ku({run:(d,h)=>{a.apply(void 0,[d,h].concat(c))}})}),Ih=o=>a=>({key:o,value:ku({run:(c,d)=>{Jp(c,d)&&a(c,d)}})}),Bh=(o,a,c)=>((d,h)=>xt(d,(v,w)=>{v.getSystem().getByUid(h).each(k=>{cc(k,k.element,d,w)})}))(o,a.partUids[c]),Sg=(o,a)=>xt(o,(c,d)=>{const h=d.event,v=c.getSystem().getByDom(h.target).getOrThunk(()=>Cg(h.target,w=>c.getSystem().getByDom(w).toOptional(),Ce).getOr(c));a(c,v,d)}),um=o=>xt(o,(a,c)=>{c.cut()}),$w=o=>xt(o,(a,c)=>{c.stop()}),of=(o,a)=>Ih(o)(a),Zr=Ih(ja()),Au=Ih(ic()),u1=Ih(Jd()),jc=(gm=ol(),o=>xt(gm,o)),dm=o=>bt(o,a=>du(a,"/*")?a.substring(0,a.length-2):a),Fl=(o,a)=>{const c=o.toString(),d=c.indexOf(")")+1,h=c.indexOf("("),v=c.substring(h+1,d-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:a,parameters:dm(v)}),o},Ns=o=>({classes:z(o.classes)?[]:o.classes,attributes:z(o.attributes)?{}:o.attributes,styles:z(o.styles)?{}:o.styles}),rb=(o,a,c)=>u1((d,h)=>{c(d,o,a)}),fa=o=>({key:o,value:void 0}),d1=(o,a,c,d,h,v,w)=>{const k=L=>io(L,c)?L[c]():D.none(),E=En(h,(L,B)=>((H,K,Y)=>((se,ce,ve)=>{const ie=ve.toString(),ae=ie.indexOf(")")+1,fe=ie.indexOf("("),ye=ie.substring(fe+1,ae-1).split(/,\s*/);return se.toFunctionAnnotation=()=>({name:ce,parameters:dm(ye.slice(0,1).concat(ye.slice(3)))}),se})((se,...ce)=>{const ve=[se].concat(ce);return se.config({name:te(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Y)},ie=>{const ae=Array.prototype.slice.call(ve,1);return K.apply(void 0,[se,ie.config,ie.state].concat(ae))})},Y,K))(c,L,B)),O={...En(v,(L,B)=>Fl(L,B)),...E,revoke:Ge(fa,c),config:L=>{const B=li(c+"-config",o,L);return{key:c,value:{config:B,me:O,configAsRaw:za(()=>li(c+"-config",o,L)),initialConfig:L,state:w}}},schema:te(a),exhibit:(L,B)=>Vt(k(L),cn(d,"exhibit"),(H,K)=>K(B,H.config,H.state)).getOrThunk(()=>Ns({})),name:te(c),handlers:L=>k(L).map(B=>cn(d,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return O},uc={init:()=>ma({readState:te("No State required")})},ma=o=>o,Ft=o=>ad(o),fm=oa([At("fields"),At("name"),et("active",{}),et("apis",{}),et("state",uc),et("extra",{})]),ga=o=>{const a=li("Creating behaviour: "+o.name,fm,o);return((c,d,h,v,w,k)=>{const E=oa(c),O=gs(d,[(L=c,Os("config",oa(L)))]);var L;return d1(E,O,d,h,v,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},Uw=oa([At("branchKey"),At("branches"),At("name"),et("active",{}),et("apis",{}),et("state",uc),et("extra",{})]),Ww=o=>{const a=li("Creating behaviour: "+o.name,Uw,o);return((c,d,h,v,w,k)=>{const E=c,O=gs(d,[Os("config",c)]);return d1(E,O,d,h,v,w,k)})(Xs(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},pk=te(void 0),ld=(o,a)=>{const c=wo(o,a);return c===void 0||c===""?[]:c.split(" ")},kg=o=>o.dom.classList!==void 0,sb=o=>ld(o,"class"),f1=(o,a)=>((c,d,h)=>{const v=ld(c,d).concat([h]);return Jt(c,d,v.join(" ")),!0})(o,"class",a),Ry=(o,a)=>((c,d,h)=>{const v=ho(ld(c,d),w=>w!==h);return v.length>0?Jt(c,d,v.join(" ")):fo(c,d),!1})(o,"class",a),us=(o,a)=>{kg(o)?o.dom.classList.add(a):f1(o,a)},ab=o=>{(kg(o)?o.dom.classList:sb(o)).length===0&&fo(o,"class")},ps=(o,a)=>{kg(o)?o.dom.classList.remove(a):Ry(o,a),ab(o)},zi=(o,a)=>kg(o)&&o.dom.classList.contains(a),Is=(o,a)=>{Zt(a,c=>{us(o,c)})},zl=(o,a)=>{Zt(a,c=>{ps(o,c)})},cd=o=>kg(o)?(a=>{const c=a.dom.classList,d=new Array(c.length);for(let h=0;h<c.length;h++){const v=c.item(h);v!==null&&(d[h]=v)}return d})(o):sb(o),ka=(o,a,c,d,h)=>{const v=w=>w+"px";return{position:o,left:a.map(v),top:c.map(v),right:d.map(v),bottom:h.map(v)}},ib=(o,a)=>{Qi(o,(c=>({...c,position:D.some(c.position)}))(a))},Mh=o=>(Wr(As(o,"position"),"fixed")?D.none():Bc(o)).orThunk(()=>{const a=ca("span");return si(o).bind(c=>{vi(c,a);const d=Bc(a);return wa(a),d})}),rf=o=>Mh(o).map(bl).getOrThunk(()=>Pr(0,0)),Zw=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeOutClass),us(c,a.fadeInClass),a.onShow(o)},Ph=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeInClass),us(c,a.fadeOutClass),a.onHide(o)},Ny=(o,a)=>o.y>=a.y,m1=(o,a)=>o.bottom<=a.bottom,lb=(o,a,c)=>({location:"top",leftX:a,topY:c.bounds.y-o.y}),g1=(o,a,c)=>({location:"bottom",leftX:a,bottomY:o.bottom-c.bounds.bottom}),Iy=o=>o.box.x-o.win.x,mm=(o,a,c)=>c.getInitialPos().map(d=>{const h=((v,w)=>{const k=w.optScrollEnv.fold(te(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return Pr(v.bounds.x,k)})(d,a);return{box:bo(h.left,h.top,ua(o),ms(o)),location:d.location}}),bk=(o,a,c,d,h)=>{const v=((k,E)=>{const O=E.optScrollEnv.fold(te(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return Pr(k.x,O)})(a,c),w=bo(v.left,v.top,a.width,a.height);d.setInitialPos({style:Hd(o),position:as(o,"position")||"static",bounds:w,location:h.location})},h1=(o,a,c)=>c.getInitialPos().bind(d=>{var h;switch(c.clearInitialPos(),d.position){case"static":return D.some({morph:"static"});case"absolute":const v=Mh(o).getOr(dn()),w=js(v),k=(h=v.dom.scrollTop)!==null&&h!==void 0?h:0;return D.some({morph:"absolute",positionCss:ka("absolute",cn(d.style,"left").map(E=>a.x-w.x),cn(d.style,"top").map(E=>a.y-w.y+k),cn(d.style,"right").map(E=>w.right-a.right),cn(d.style,"bottom").map(E=>w.bottom-a.bottom))});default:return D.none()}}),p1=o=>{switch(o.location){case"top":return D.some({morph:"fixed",positionCss:ka("fixed",D.some(o.leftX),D.some(o.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:ka("fixed",D.some(o.leftX),D.none(),D.none(),D.some(o.bottomY))});default:return D.none()}},By=(o,a,c)=>{const d=o.element;return Wr(As(d,"position"),"fixed")?((h,v,w)=>((k,E,O)=>mm(k,E,O).filter(({box:L})=>((B,H,K)=>oi(B,Y=>{switch(Y){case"bottom":return m1(H,K.bounds);case"top":return Ny(H,K.bounds)}}))(O.getModes(),L,E)).bind(({box:L})=>h1(k,L,O)))(h,v,w).orThunk(()=>v.optScrollEnv.bind(k=>mm(h,v,w)).bind(({box:k,location:E})=>{const O=Ca(),L=Iy({win:O,box:k}),B=E==="top"?lb(O,L,v):g1(O,L,v);return p1(B)})))(d,a,c):((h,v,w)=>{const k=js(h),E=Ca(),O=((L,B,H)=>{const K=B.win,Y=B.box,se=Iy(B);return It(L,ce=>{switch(ce){case"bottom":return m1(Y,H.bounds)?D.none():D.some(g1(K,se,H));case"top":return Ny(Y,H.bounds)?D.none():D.some(lb(K,se,H));default:return D.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},v);return O.location==="top"||O.location==="bottom"?(bk(h,k,v,w,O),p1(O)):D.none()})(d,a,c)},My=(o,a,c)=>{c.setDocked(!1),Zt(["left","right","top","bottom","position"],d=>er(o.element,d)),a.onUndocked(o)},cb=(o,a,c,d)=>{const h=d.position==="fixed";c.setDocked(h),ib(o.element,d),(h?a.onDocked:a.onUndocked)(o)},Py=(o,a,c,d,h=!1)=>{a.contextual.each(v=>{v.lazyContext(o).each(w=>{const k=((E,O)=>E.y<O.bottom&&E.bottom>O.y)(w,d.bounds);k!==c.isVisible()&&(c.setVisible(k),h&&!k?(Is(o.element,[v.fadeOutClass]),v.onHide(o)):(k?Zw:Ph)(o,v))})})},Ly=(o,a,c,d,h)=>{Py(o,a,c,d,!0),cb(o,a,c,h.positionCss)},ub=(o,a,c)=>{o.getSystem().isConnected()&&((d,h,v)=>{const w=h.lazyViewport(d);Py(d,h,v,w),By(d,w,v).each(k=>{((E,O,L,B,H)=>{switch(H.morph){case"static":return My(E,O,L);case"absolute":return cb(E,O,L,H.positionCss);case"fixed":Ly(E,O,L,B,H)}})(d,h,v,w,k)})})(o,a,c)},Lh=(o,a,c)=>{c.isDocked()&&((d,h,v)=>{const w=d.element;v.setDocked(!1);const k=h.lazyViewport(d);((E,O,L)=>{const B=E.element;return mm(B,O,L).bind(({box:H})=>h1(B,H,L))})(d,k,v).each(E=>{switch(E.morph){case"static":My(d,h,v);break;case"absolute":cb(d,h,v,E.positionCss)}}),v.setVisible(!0),h.contextual.each(E=>{zl(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(d)}),ub(d,h,v)})(o,a,c)},Fy=o=>(a,c,d)=>{const h=c.lazyViewport(a);((v,w,k,E)=>{const O=js(v),L=Ca(),B=E(L,Iy({win:L,box:O}),w);return B.location==="bottom"||B.location==="top"?(((H,K,Y,se,ce)=>{se.getInitialPos().fold(()=>bk(H,K,Y,se,ce),()=>me)})(v,O,w,k,B),p1(B)):D.none()})(a.element,h,d,o).each(v=>{Ly(a,c,d,h,v)})},db=Fy(lb),fb=Fy(g1);var gm,Fh=Object.freeze({__proto__:null,refresh:ub,reset:Lh,isDocked:(o,a,c)=>c.isDocked(),getModes:(o,a,c)=>c.getModes(),setModes:(o,a,c,d)=>c.setModes(d),forceDockToTop:db,forceDockToBottom:fb}),zy=Object.freeze({__proto__:null,events:(o,a)=>to([of(eb(),(c,d)=>{o.contextual.each(h=>{zi(c.element,h.transitionClass)&&(zl(c.element,[h.transitionClass,h.fadeInClass]),(a.isVisible()?h.onShown:h.onHidden)(c)),d.stop()})}),xt(ob(),(c,d)=>{ub(c,o,a)}),xt(Dh(),(c,d)=>{ub(c,o,a)}),xt(Qd(),(c,d)=>{Lh(c,o,a)})])});const ud=o=>o.dom.innerHTML,Eg=(o,a)=>{const c=Zs(o).dom,d=Qt(c.createDocumentFragment()),h=((v,w)=>{const k=(w||document).createElement("div");return k.innerHTML=v,vr(Qt(k))})(a,c);Ts(d,h),Gr(o),vi(o,d)},Ag=(o,a)=>Qt(o.dom.cloneNode(a)),dd=o=>(a=>{if(it(a))return"#shadow-root";{const c=(d=>Ag(d,!1))(a);return(d=>{const h=ca("div"),v=Qt(d.dom.cloneNode(!0));return vi(h,v),ud(h)})(c)}})(o);var sf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(sf||(sf={}));const mb=Dn({}),vk=["alloy/data/Fields","alloy/debugging/Debugging"],gb=(o,a,c)=>((d,h,v)=>{switch(cn(mb.get(),d).orThunk(()=>{const w=on(mb.get());return It(w,k=>d.indexOf(k)>-1?D.some(mb.get()[k]):D.none())}).getOr(sf.NORMAL)){case sf.NORMAL:return v(dc());case sf.LOGGING:{const w=((E,O)=>{const L=[],B=new Date().getTime();return{logEventCut:(H,K,Y)=>{L.push({outcome:"cut",target:K,purpose:Y})},logEventStopped:(H,K,Y)=>{L.push({outcome:"stopped",target:K,purpose:Y})},logNoParent:(H,K,Y)=>{L.push({outcome:"no-parent",target:K,purpose:Y})},logEventNoHandlers:(H,K)=>{L.push({outcome:"no-handlers-left",target:K})},logEventResponse:(H,K,Y)=>{L.push({outcome:"response",purpose:Y,target:K})},write:()=>{const H=new Date().getTime();Qe(["mousemove","mouseover","mouseout",Jd()],E)||console.log(E,{event:E,time:H-B,target:O.dom,sequence:bt(L,K=>Qe(["cut","stopped","response"],K.outcome)?"{"+K.purpose+"} "+K.outcome+" at ("+dd(K.target)+")":K.outcome)})}}})(d,h),k=v(w);return w.write(),k}case sf.STOP:return!0}})(o,a,c),dc=te({logEventCut:me,logEventStopped:me,logNoParent:me,logEventNoHandlers:me,logEventResponse:me,write:me}),jw=te([At("menu"),At("selectedMenu")]),Hy=te([At("item"),At("selectedItem")]);te(Pn(Hy().concat(jw())));const Tg=te(Pn(Hy())),Ka=rc("initSize",[At("numColumns"),At("numRows")]),Og=()=>rc("markers",[At("backgroundMenu")].concat(jw()).concat(Hy())),Dg=o=>rc("markers",bt(o,At)),b1=(o,a,c)=>((()=>{const d=new Error;if(d.stack!==void 0){const h=d.stack.split(`
`);J(h,v=>v.indexOf("alloy")>0&&!On(vk,w=>v.indexOf(w)>-1)).getOr("unknown")}})(),Ks(a,a,c,Gd(d=>_o.value((...h)=>d.apply(void 0,h))))),Fo=o=>b1(0,o,zc(me)),rl=o=>b1(0,o,zc(D.none)),Tu=o=>b1(0,o,{tag:"required",process:{}}),ci=o=>b1(0,o,{tag:"required",process:{}}),Nr=(o,a)=>_a(o,te(a)),hb=o=>_a(o,Ae),Kw=te(Ka);var yk=[gs("contextual",[ls("fadeInClass"),ls("fadeOutClass"),ls("transitionClass"),Ci("lazyContext"),Fo("onShow"),Fo("onShown"),Fo("onHide"),Fo("onHidden")]),Fr("lazyViewport",()=>({bounds:Ca(),optScrollEnv:D.none()})),fr("modes",["top","bottom"],ra),Fo("onDocked"),Fo("onUndocked")];const Yr=ga({fields:yk,name:"docking",active:zy,apis:Fh,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(!1),c=Dn(!0),d=ir(),h=Dn(o.modes);return ma({isDocked:a.get,setDocked:a.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:c.get,setVisible:c.set,getModes:h.get,setModes:h.set,readState:()=>`docked:  ${a.get()}, visible: ${c.get()}, modes: ${h.get().join(",")}`})}})}),v1=to([((o,a)=>({key:o,value:ku({can:(c,d)=>{const h=d.event,v=h.originator,w=h.target;return!((k,E,O)=>Wo(E,k.element)&&!Wo(E,O))(c,v,w)||(console.warn(Eu()+` did not get interpreted by the desired target. 
Originator: `+dd(v)+`
Target: `+dd(w)+`
Check the `+Eu()+" event handlers"),!1)}})}))(Eu())]);var Vy=Object.freeze({__proto__:null,events:v1});const hm=(o,a,c,d)=>{const h=o+a;return h>d?c:h<c?d:h},fc=(o,a,c)=>Math.min(Math.max(o,a),c);let zh=0;const fn=o=>{const a=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return zh++,o+"_"+c+zh+String(a)},Kc=te("alloy-id-"),$y=te("data-alloy-id"),y1=Kc(),Hh=$y(),x1=(o,a)=>{Object.defineProperty(o.dom,Hh,{value:a,writable:!0})},Rg=o=>{const a=Kr(o)?o.dom[Hh]:null;return D.from(a)},mc=o=>fn(o),xk=Ae,w1=o=>{const a=h=>`The component must be in a context to execute: ${h}`+(o?`
`+dd(o().element)+" is not in context.":""),c=h=>()=>{throw new Error(a(h))},d=h=>()=>{console.warn(a(h))};return{debugInfo:te("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ce}},Uy=w1(),C1=fn("alloy-premade"),Wy=o=>(Object.defineProperty(o.element.dom,C1,{value:o.uid,writable:!0}),Uc(C1,o)),Zy=o=>cn(o,C1),_1=o=>((a,c)=>{const d=c.toString(),h=d.indexOf(")")+1,v=d.indexOf("("),w=d.substring(v+1,h-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:dm(w.slice(1))}),a})((a,...c)=>o(a.getApis(),a,...c),o),jy=(o,a)=>{const c={};return Cn(o,(d,h)=>{Cn(d,(v,w)=>{const k=cn(c,w).getOr([]);c[w]=k.concat([a(h,v)])})}),c},Ky=o=>o.cHandler,qw=(o,a)=>({name:o,handler:a}),wk=(o,a)=>{const c={};return Zt(o,d=>{c[d.name()]=d.handlers(a)}),c},pb=(o,a,c)=>{const d=a[c];return d?((h,v,w,k)=>{try{const E=ge(w,(O,L)=>{const B=O[v],H=L[v],K=k.indexOf(B),Y=k.indexOf(H);if(K===-1)throw new Error("The ordering for "+h+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(k,null,2));if(Y===-1)throw new Error("The ordering for "+h+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return K<Y?-1:Y<K?1:0});return _o.value(E)}catch(E){return _o.error([E])}})("Event: "+c,"name",o,d).map(h=>(v=>({can:((E,O)=>(...L)=>Rn(E,(B,H)=>B&&(K=>K.can)(H).apply(void 0,L),!0))(v),abort:((E,O)=>(...L)=>Rn(E,(B,H)=>B||(K=>K.abort)(H).apply(void 0,L),!1))(v),run:(...E)=>{Zt(v,O=>{O.run.apply(void 0,E)})}}))(bt(h,v=>v.handler))):((h,v)=>_o.error(["The event ("+h+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(bt(v,w=>w.name),null,2)]))(c,o)},qy=(o,a)=>((c,d)=>{const h=(w=>{const k=[],E=[];return Zt(w,O=>{O.fold(L=>{k.push(L)},L=>{E.push(L)})}),{errors:k,values:E}})(c);return h.errors.length>0?(v=h.errors,_o.error(br(v))):((w,k)=>w.length===0?_o.value(k):_o.value(yr(k,Gp.apply(void 0,w))))(h.values,d);var v})(Es(o,(c,d)=>(c.length===1?_o.value(c[0].handler):pb(c,a,d)).map(h=>{const v=(k=>{const E=(O=>G(O)?{can:Ne,abort:Ce,run:O}:O)(k);return(O,L,...B)=>{const H=[O,L].concat(B);E.abort.apply(void 0,H)?L.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(h),w=c.length>1?ho(a[d],k=>On(c,E=>E.name===k)).join(" > "):c[0].name;return Uc(d,((k,E)=>({handler:k,purpose:E}))(v,w))})),{}),Ng="alloy.base.behaviour",Ck=Pn([Ks("dom","dom",{tag:"required",process:{}},Pn([At("tag"),et("styles",{}),et("classes",[]),et("attributes",{}),Io("value"),Io("innerHtml")])),At("components"),At("uid"),et("events",{}),et("apis",{}),Ks("eventOrder","eventOrder",(Ig={[ol()]:["disabling",Ng,"toggling","typeaheadevents"],[Eu()]:[Ng,"focusing","keying"],[Jd()]:[Ng,"disabling","toggling","representing","tooltipping"],[lm()]:[Ng,"representing","streaming","invalidating"],[ic()]:[Ng,"representing","item-events","toolbar-button-events","tooltipping"],[Tt()]:["focusing",Ng,"item-type-events"],[Z()]:["focusing",Ng,"item-type-events"],[_n()]:["item-type-events","tooltipping"],[Ll()]:["receiving","reflecting","tooltipping"]},Lo(te(Ig))),yl()),Io("domModification")]),_k=o=>o.events,af=o=>o.dom.value,pm=(o,a)=>{if(a===void 0)throw new Error("Value.set was undefined");o.dom.value=a},S1=(o,a,c)=>{c.fold(()=>vi(o,a),d=>{Wo(d,a)||(ed(d,a),wa(d))})},Gw=(o,a,c)=>{const d=bt(a,c),h=vr(o);return Zt(h.slice(d.length),wa),d},Gy=(o,a,c,d)=>{const h=qr(o,a),v=d(c,h),w=((k,E,O)=>qr(k,E).map(L=>{if(O.exists(B=>!Wo(B,L))){const B=O.map(Ni).getOr("span"),H=ca(B);return ed(L,H),H}return L}))(o,a,h);return S1(o,v.element,w),v},bb=(o,a)=>{const c=on(o),d=on(a),h=le(d,c),v=((w,k)=>{const E={},O={};return Ao(w,(L,B)=>!po(a,B)||L!==a[B],vo(E),vo(O)),{t:E,f:O}})(o).t;return{toRemove:h,toSet:v}},fd=(o,a)=>{const c=a.filter(d=>Ni(d)===o.tag&&!(h=>h.innerHtml.isSome()&&h.domChildren.length>0)(o)&&!(h=>po(h.dom,C1))(d)).bind(d=>((h,v)=>{try{const w=((k,E)=>{const{class:O,style:L,...B}=(fe=>Rn(fe.dom.attributes,(ye,_e)=>(ye[_e.name]=_e.value,ye),{}))(E),{toSet:H,toRemove:K}=bb(k.attributes,B),Y=Hd(E),{toSet:se,toRemove:ce}=bb(k.styles,Y),ve=cd(E),ie=le(ve,k.classes),ae=le(k.classes,ve);return Zt(K,fe=>fo(E,fe)),ar(E,H),Is(E,ae),zl(E,ie),Zt(ce,fe=>er(E,fe)),Bi(E,se),k.innerHtml.fold(()=>{const fe=k.domChildren;((ye,_e)=>{Gw(ye,_e,(Le,Xe)=>{const _t=qr(ye,Xe);return S1(ye,Le,_t),Le})})(E,fe)},fe=>{Eg(E,fe)}),(()=>{const fe=E,ye=k.value.getOrUndefined();ye!==af(fe)&&pm(fe,ye??"")})(),E})(h,v);return D.some(w)}catch{return D.none()}})(o,d)).getOrThunk(()=>(d=>{const h=ca(d.tag);ar(h,d.attributes),Is(h,d.classes),Bi(h,d.styles),d.innerHtml.each(w=>Eg(h,w));const v=d.domChildren;return Ts(h,v),d.value.each(w=>{pm(h,w)}),h})(o));return x1(c,o.uid),c},k1=o=>{const a=(c=>{const d=cn(c,"behaviours").getOr({});return Ko(on(d),h=>{const v=d[h];return $(v)?[v.me]:[]})})(o);return((c,d)=>((h,v)=>{const w=bt(v,E=>gs(E.name(),[At("config"),et("state",uc)])),k=is("component.behaviours",Pn(w),h.behaviours).fold(E=>{throw new Error(Li(E)+`
Complete spec:
`+JSON.stringify(h,null,2))},Ae);return{list:v,data:En(k,E=>{const O=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return te(O)})}})(c,d))(o,a)},Qs=(o,a)=>{const c=()=>H,d=Dn(Uy),h=wi((K=>is("custom.definition",Ck,K))(o)),v=k1(o),w=(K=>K.list)(v),k=(K=>K.data)(v),E=((K,Y,se)=>{const ce={...(ve=K).dom,uid:ve.uid,domChildren:bt(ve.components,Le=>Le.element)};var ve;const ie=(Le=>Le.domModification.fold(()=>Ns({}),Ns))(K),ae={"alloy.base.modification":ie},fe=Y.length>0?((Le,Xe,_t,vt)=>{const gt={...Xe};Zt(_t,So=>{gt[So.name()]=So.exhibit(Le,vt)});const Bt=jy(gt,(So,Hr)=>({name:So,modification:Hr})),sn=So=>xn(So,(Hr,Jr)=>({...Jr.modification,...Hr}),{}),vn=xn(Bt.classes,(So,Hr)=>Hr.modification.concat(So),[]),In=sn(Bt.attributes),qn=sn(Bt.styles);return Ns({classes:vn,attributes:In,styles:qn})})(se,ae,Y,ce):ie;return ye=ce,_e=fe,{...ye,attributes:{...ye.attributes,..._e.attributes},styles:{...ye.styles,..._e.styles},classes:ye.classes.concat(_e.classes)};var ye,_e})(h,w,k),O=fd(E,a),L=((K,Y,se)=>{const ce={"alloy.base.behaviour":_k(K)};return((ve,ie,ae,fe)=>{const ye=((_e,Le,Xe)=>{const _t={...Xe,...wk(Le,_e)};return jy(_t,qw)})(ve,ae,fe);return qy(ye,ie)})(se,K.eventOrder,Y,ce).getOrDie()})(h,w,k),B=Dn(h.components),H={uid:o.uid,getSystem:d.get,config:K=>{const Y=k;return(G(Y[K.name()])?Y[K.name()]:()=>{throw new Error("Could not find "+K.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:K=>G(k[K.name()]),spec:o,readState:K=>k[K]().map(Y=>Y.state.readState()).getOr("not enabled"),getApis:()=>h.apis,connect:K=>{d.set(K)},disconnect:()=>{d.set(w1(c))},element:O,syncComponents:()=>{const K=vr(O),Y=Ko(K,se=>d.get().getByDom(se).fold(()=>[],Me));B.set(Y)},components:B.get,events:L};return H},Cs=o=>{const a=mu(o);return lf({element:a})},lf=o=>{const a=li("external.component",oa([At("element"),Io("uid")]),o),c=Dn(w1()),d=a.uid.getOrThunk(()=>mc("external"));x1(a.element,d);const h={uid:d,getSystem:c.get,config:D.none,hasConfigured:Ce,connect:v=>{c.set(v)},disconnect:()=>{c.set(w1(()=>h))},getApis:()=>({}),element:a.element,spec:o,readState:te("No state"),syncComponents:me,components:te([]),events:{}};return Wy(h)},Yy=mc,E1=(o,a)=>Zy(o).getOrThunk(()=>((c,d)=>{const{events:h,...v}=xk(c),w=((E,O)=>{const L=cn(E,"components").getOr([]);return O.fold(()=>bt(L,Ea),B=>bt(L,(H,K)=>E1(H,qr(B,K))))})(v,d),k={...v,events:{...Vy,...h},components:w};return _o.value(Qs(k,d))})((c=>po(c,"uid"))(o)?o:{uid:Yy(""),...o},a).getOrDie()),Ea=o=>E1(o,D.none()),Hi=Wy;var Ig,cf=(o,a,c,d,h)=>o(c,d)?D.some(c):G(h)&&h(c)?D.none():a(c,d,h);const bm=(o,a,c)=>{let d=o.dom;const h=G(c)?c:Ce;for(;d.parentNode;){d=d.parentNode;const v=Qt(d);if(a(v))return D.some(v);if(h(v))break}return D.none()},A1=(o,a,c)=>cf((d,h)=>h(d),bm,o,a,c),Yw=(o,a)=>J(o.dom.childNodes,c=>a(Qt(c))).map(Qt),Xy=(o,a,c)=>A1(o,a,c).isSome(),vm=(o,a,c)=>bm(o,d=>Nc(d,a),c),Ir=(o,a)=>((c,d)=>{const h=c.dom;return h.parentNode?Yw(Qt(h.parentNode),v=>!Wo(c,v)&&Nc(v,a)):D.none()})(o),T1=(o,a)=>Yw(o,c=>Nc(c,a)),Xr=(o,a)=>Xu(a,o),Ou=(o,a,c)=>cf((d,h)=>Nc(d,h),vm,o,a,c),qc="aria-controls",Bg=()=>{const o=fn(qc);return{id:o,link:a=>{Jt(a,qc,o)},unlink:a=>{fo(a,qc)}}},sl=(o,a)=>Xy(a,c=>Wo(c,o.element),Ce)||((c,d)=>(h=>A1(h,v=>{if(!Kr(v))return!1;const w=wo(v,"id");return w!==void 0&&w.indexOf(qc)>-1}).bind(v=>{const w=wo(v,"id"),k=ot(v);return Xr(k,`[${qc}="${w}"]`)}))(d).exists(h=>sl(c,h)))(o,a),qa=(o,a,c,d,h,v,w,k=!1)=>({x:o,y:a,bubble:c,direction:d,placement:h,restriction:v,label:`${w}-${h}`,alwaysFit:k}),ym=Tl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),vb=ym.southeast,Mg=ym.southwest,yb=ym.northeast,Pg=ym.northwest,Xw=ym.south,Jy=ym.north,Qy=ym.east,Jw=ym.west,Ga=(o,a)=>xe(["left","right","top","bottom"],c=>cn(a,c).map(d=>((h,v)=>{switch(v){case 1:return h.x;case 0:return h.x+h.width;case 2:return h.y;case 3:return h.y+h.height}})(o,d))),xm="layout",Qw=o=>o.x,gc=(o,a)=>o.x+o.width/2-a.width/2,Vi=(o,a)=>o.x+o.width-a.width,Lg=(o,a)=>o.y-a.height,Vh=o=>o.y+o.height,eC=(o,a)=>o.y+o.height/2-a.height/2,bs=(o,a,c)=>qa(Qw(o),Vh(o),c.southeast(),vb(),"southeast",Ga(o,{left:1,top:3}),xm),vs=(o,a,c)=>qa(Vi(o,a),Vh(o),c.southwest(),Mg(),"southwest",Ga(o,{right:0,top:3}),xm),Vs=(o,a,c)=>qa(Qw(o),Lg(o,a),c.northeast(),yb(),"northeast",Ga(o,{left:1,bottom:2}),xm),xr=(o,a,c)=>qa(Vi(o,a),Lg(o,a),c.northwest(),Pg(),"northwest",Ga(o,{right:0,bottom:2}),xm),ds=(o,a,c)=>qa(gc(o,a),Lg(o,a),c.north(),Jy(),"north",Ga(o,{bottom:2}),xm),Bs=(o,a,c)=>qa(gc(o,a),Vh(o),c.south(),Xw(),"south",Ga(o,{top:3}),xm),O1=(o,a,c)=>qa((d=>d.x+d.width)(o),eC(o,a),c.east(),Qy(),"east",Ga(o,{left:0}),xm),D1=(o,a,c)=>qa(((d,h)=>d.x-h.width)(o,a),eC(o,a),c.west(),Jw(),"west",Ga(o,{right:1}),xm),ex=()=>[bs,vs,Vs,xr,Bs,ds,O1,D1],xb=()=>[vs,bs,xr,Vs,Bs,ds,O1,D1],tx=()=>[Vs,xr,bs,vs,ds,Bs],Fg=()=>[xr,Vs,vs,bs,ds,Bs],R1=()=>[bs,vs,Vs,xr,Bs,ds],N1=()=>[vs,bs,xr,Vs,Bs,ds];var nx=Object.freeze({__proto__:null,events:o=>to([xt(Ll(),(a,c)=>{const d=o.channels,h=on(d),v=c,w=((k,E)=>E.universal?k:ho(k,O=>Qe(E.channels,O)))(h,v);Zt(w,k=>{const E=d[k],O=E.schema,L=li("channel["+k+`] data
Receiver: `+dd(a.element),O,v.data);E.onReceive(a,L)})})])}),wb=[Sa("channels",Xp(_o.value,oa([Tu("onReceive"),et("schema",yl())])))];const al=ga({fields:wb,name:"receiving",active:nx});var ox=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const ki=(o,a=!1)=>o.dom.focus({preventScroll:a}),Cb=o=>o.dom.blur(),zg=o=>{const a=ot(o).dom;return o.dom===a.activeElement},Gc=(o=yi())=>D.from(o.dom.activeElement).map(Qt),Ms=o=>Gc(ot(o)).filter(a=>o.dom.contains(a.dom)),wm=(o,a)=>{const c=ot(a),d=Gc(c).bind(v=>{const w=k=>Wo(v,k);return w(a)?D.some(a):((k,E)=>{const O=L=>{for(let B=0;B<L.childNodes.length;B++){const H=Qt(L.childNodes[B]);if(E(H))return D.some(H);const K=O(L.childNodes[B]);if(K.isSome())return K}return D.none()};return O(k.dom)})(a,w)}),h=o(a);return d.each(v=>{Gc(c).filter(w=>Wo(w,v)).fold(()=>{ki(v)},me)}),h},rx=Tl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),sx=(o,a,c,d,h,v)=>{const w=a.rect,k=w.x-c,E=w.y-d,O=h-(k+w.width),L=v-(E+w.height),B=D.some(k),H=D.some(E),K=D.some(O),Y=D.some(L),se=D.none();return a.direction.fold(()=>ka(o,B,H,se,se),()=>ka(o,se,H,K,se),()=>ka(o,B,se,se,Y),()=>ka(o,se,se,K,Y),()=>ka(o,B,H,se,se),()=>ka(o,B,se,se,Y),()=>ka(o,B,H,se,se),()=>ka(o,se,H,K,se))},_b=(o,a)=>o.fold(()=>{const c=a.rect;return ka("absolute",D.some(c.x),D.some(c.y),D.none(),D.none())},(c,d,h,v)=>sx("absolute",a,c,d,h,v),(c,d,h,v)=>sx("fixed",a,c,d,h,v)),md=(o,a)=>{const c=Ge(td,a),d=o.fold(c,c,()=>{const w=Lr();return td(a).translate(-w.left,-w.top)}),h=Mi(a),v=tc(a);return bo(d.left,d.top,h,v)},Sk=(o,a)=>a.fold(()=>o.fold(Ca,Ca,bo),c=>o.fold(te(c),te(c),()=>{const d=Sb(o,c.x,c.y);return bo(d.left,d.top,c.width,c.height)})),Sb=(o,a,c)=>{const d=Pr(a,c);return o.fold(te(d),te(d),()=>{const h=Lr();return d.translate(-h.left,-h.top)})};rx.none;const Cm=rx.relative,tC=rx.fixed,kb="data-alloy-placement",Eb=o=>No(o,kb),I1=Tl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),$h=(o,a,c,d)=>{const h=o.bubble,v=h.offset,w=((fe,ye,_e)=>{const Le=(Bt,sn)=>ye[Bt].map(vn=>{const In=Bt==="top"||Bt==="bottom",qn=In?_e.top:_e.left,So=(Bt==="left"||Bt==="top"?Math.max:Math.min)(vn,sn)+qn;return In?fc(So,fe.y,fe.bottom):fc(So,fe.x,fe.right)}).getOr(sn),Xe=Le("left",fe.x),_t=Le("top",fe.y),vt=Le("right",fe.right),gt=Le("bottom",fe.bottom);return bo(Xe,_t,vt-Xe,gt-_t)})(d,o.restriction,v),k=o.x+v.left,E=o.y+v.top,O=bo(k,E,a,c),{originInBounds:L,sizeInBounds:B,visibleW:H,visibleH:K}=((fe,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,right:Bt,bottom:sn,width:vn,height:In}=fe;return{originInBounds:vt>=_e&&vt<=Xe&&gt>=Le&&gt<=_t,sizeInBounds:Bt<=Xe&&Bt>=_e&&sn<=_t&&sn>=Le,visibleW:Math.min(vn,vt>=_e?Xe-vt:Bt-_e),visibleH:Math.min(In,gt>=Le?_t-gt:sn-Le)}})(O,w),Y=L&&B,se=Y?O:((fe,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,width:Bt,height:sn}=fe,vn=Math.max(_e,Xe-Bt),In=Math.max(Le,_t-sn),qn=fc(vt,_e,vn),So=fc(gt,Le,In),Hr=Math.min(qn+Bt,Xe)-qn,Jr=Math.min(So+sn,_t)-So;return bo(qn,So,Hr,Jr)})(O,w),ce=se.width>0&&se.height>0,{maxWidth:ve,maxHeight:ie}=((fe,ye,_e)=>{const Le=te(ye.bottom-_e.y),Xe=te(_e.bottom-ye.y),_t=((sn,vn,In,qn)=>sn.fold(vn,vn,qn,qn,vn,qn,In,In))(fe,Xe,Xe,Le),vt=te(ye.right-_e.x),gt=te(_e.right-ye.x);return{maxWidth:((sn,vn,In,qn)=>sn.fold(vn,qn,vn,qn,In,In,vn,qn))(fe,gt,gt,vt),maxHeight:_t}})(o.direction,se,d),ae={rect:se,maxHeight:ie,maxWidth:ve,direction:o.direction,placement:o.placement,classes:{on:h.classesOn,off:h.classesOff},layout:o.label,testY:E};return Y||o.alwaysFit?I1.fit(ae):I1.nofit(ae,H,K,ce)},B1=Ne,Ei=(o,a,c)=>((d,h,v,w)=>pg(d,h,v,w,!1))(o,a,B1,c),ax=(o,a,c)=>((d,h,v,w)=>pg(d,h,v,w,!0))(o,a,B1,c),gd=tl,Ab=["top","bottom","right","left"],Du="data-alloy-transition-timer",Tb=(o,a,c,d,h,v)=>{const w=((k,E,O)=>O.exists(L=>{const B=k.mode;return B==="all"||L[B]!==E[B]}))(d,h,v);if(w||((k,E)=>((O,L)=>oi(L,B=>zi(O,B)))(k,E.classes))(o,d)){Jn(o,"position",c.position);const k=md(a,o),E=_b(a,{...h,rect:k}),O=xe(Ab,L=>E[L]);((L,B)=>{const H=K=>parseFloat(K).toFixed(3);return ur(B,(K,Y)=>!((se,ce,ve=re)=>Vt(se,ce,ve).getOr(se.isNone()&&ce.isNone()))(L[Y].map(H),K.map(H))).isSome()})(c,O)&&(Qi(o,O),w&&((L,B)=>{Is(L,B.classes),No(L,Du).each(H=>{clearTimeout(parseInt(H,10)),fo(L,Du)}),((H,K)=>{const Y=oc(),se=oc();let ce;const ve=ye=>{var _e;const Le=(_e=ye.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Wo(ye.target,H)&&fu(Le)&&Qe(Ab,ye.raw.propertyName)},ie=ye=>{if(U(ye)||ve(ye)){Y.clear(),se.clear();const _e=ye==null?void 0:ye.raw.type;(U(_e)||_e===eb())&&(clearTimeout(ce),fo(H,Du),zl(H,K.classes))}},ae=Ei(H,l1(),ye=>{ve(ye)&&(ae.unbind(),Y.set(Ei(H,eb(),ie)),se.set(Ei(H,Hw(),ie)))}),fe=(ye=>{const _e=vt=>{const gt=as(ye,vt).split(/\s*,\s*/);return ho(gt,Xi)},Le=vt=>{if(p(vt)&&/^[\d.]+/.test(vt)){const gt=parseFloat(vt);return du(vt,"ms")?gt:1e3*gt}return 0},Xe=_e("transition-delay"),_t=_e("transition-duration");return Rn(_t,(vt,gt,Bt)=>{const sn=Le(Xe[Bt])+Le(gt);return Math.max(vt,sn)},0)})(H);requestAnimationFrame(()=>{ce=setTimeout(ie,fe+17),Jt(H,Du,ce)})})(L,B)})(o,d),hu(o))}else zl(o,d.classes)},Ob=(o,a)=>{((c,d)=>{const h=Ch.max(c,d,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Jn(c,"max-height",h+"px")})(o,Math.floor(a))},_m=te((o,a)=>{Ob(o,a),Bi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Hg=te((o,a)=>{Ob(o,a)}),hc=(o,a,c)=>o[a]===void 0?c:o[a],Db=(o,a,c,d)=>{const h=((v,w,k,E)=>{er(w,"max-height"),er(w,"max-width");const O={width:Mi(L=w),height:tc(L)};var L;return((B,H,K,Y,se,ce)=>{const ve=Y.width,ie=Y.height,ae=(fe,ye,_e,Le,Xe)=>{const _t=fe(K,Y,se,B,ce),vt=$h(_t,ve,ie,ce);return vt.fold(te(vt),(gt,Bt,sn,vn)=>(Xe===vn?sn>Le||Bt>_e:!Xe&&vn)?vt:I1.nofit(ye,_e,Le,Xe))};return Rn(H,(fe,ye)=>{const _e=Ge(ae,ye);return fe.fold(te(fe),_e)},I1.nofit({rect:K,maxHeight:Y.height,maxWidth:Y.width,direction:vb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:K.y},-1,-1,!1)).fold(Ae,Ae)})(w,E.preference,v,O,k,E.bounds)})(o,a,c,d);return((v,w,k)=>{const E=_b(k.origin,w);k.transition.each(O=>{Tb(v,k.origin,E,O,w,k.lastPlacement)}),ib(v,E)})(a,h,d),((v,w)=>{((k,E)=>{Jt(k,kb,E)})(v,w.placement)})(a,h),((v,w)=>{const k=w.classes;zl(v,k.off),Is(v,k.on)})(a,h),((v,w,k)=>{(0,k.maxHeightFunction)(v,w.maxHeight)})(a,h,d),((v,w,k)=>{(0,k.maxWidthFunction)(v,w.maxWidth)})(a,h,d),{layout:h.layout,placement:h.placement}},kk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hl=(o,a,c,d=1)=>{const h=o*d,v=a*d,w=E=>cn(c,E).getOr([]),k=(E,O,L)=>{const B=le(kk,L);return{offset:Pr(E,O),classesOn:Ko(L,w),classesOff:Ko(B,w)}};return{southeast:()=>k(-o,a,["top","alignLeft"]),southwest:()=>k(o,a,["top","alignRight"]),south:()=>k(-o/2,a,["top","alignCentre"]),northeast:()=>k(-o,-a,["bottom","alignLeft"]),northwest:()=>k(o,-a,["bottom","alignRight"]),north:()=>k(-o/2,-a,["bottom","alignCentre"]),east:()=>k(o,-a/2,["valignCentre","left"]),west:()=>k(-o,-a/2,["valignCentre","right"]),insetNortheast:()=>k(h,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-h,v,["top","alignRight","inset"]),insetNorth:()=>k(-h/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(h,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-h,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-h/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-h,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(h,-v/2,["valignCentre","left","inset"])}},hd=()=>Hl(0,0,{}),pc=Ae,ix=(o,a)=>c=>sa(c)==="rtl"?a:o,sa=o=>as(o,"direction")==="rtl"?"rtl":"ltr";var bc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(bc||(bc={}));const il="data-alloy-vertical-dir",Ek=o=>Xy(o,a=>Kr(a)&&wo(a,"data-alloy-vertical-dir")===bc.BottomToTop),uf=()=>gs("layouts",[At("onLtr"),At("onRtl"),Io("onBottomLtr"),Io("onBottomRtl")]),pd=(o,a,c,d,h,v,w)=>{const k=w.map(Ek).getOr(!1),E=a.layouts.map(H=>H.onLtr(o)),O=a.layouts.map(H=>H.onRtl(o)),L=k?a.layouts.bind(H=>H.onBottomLtr.map(K=>K(o))).or(E).getOr(h):E.getOr(c),B=k?a.layouts.bind(H=>H.onBottomRtl.map(K=>K(o))).or(O).getOr(v):O.getOr(d);return ix(L,B)(o)};var Uh=[At("hotspot"),Io("bubble"),et("overrides",{}),uf(),Nr("placement",(o,a,c)=>{const d=a.hotspot,h=md(c,d.element),v=pd(o.element,a,R1(),N1(),tx(),Fg(),D.some(a.hotspot.element));return D.some(pc({anchorBox:h,bubble:a.bubble.getOr(hd()),overrides:a.overrides,layouts:v}))})],Sm=[At("x"),At("y"),et("height",0),et("width",0),et("bubble",hd()),et("overrides",{}),uf(),Nr("placement",(o,a,c)=>{const d=Sb(c,a.x,a.y),h=bo(d.left,d.top,a.width,a.height),v=pd(o.element,a,ex(),xb(),ex(),xb(),D.none());return D.some(pc({anchorBox:h,bubble:a.bubble,overrides:a.overrides,layouts:v}))})];const Ol=Tl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),M1=o=>o.fold(Ae,(a,c,d)=>a.translate(-c,-d)),P1=o=>o.fold(Ae,Ae),Rb=o=>Rn(o,(a,c)=>a.translate(c.left,c.top),Pr(0,0)),L1=o=>{const a=bt(o,P1);return Rb(a)},nC=Ol.screen,Nb=Ol.absolute,bd=(o,a,c)=>{const d=Zs(o.element),h=Lr(d),v=((w,k,E)=>{const O=Ic(E.root).dom;return D.from(O.frameElement).map(Qt).filter(L=>{const B=Zs(L),H=Zs(w.element);return Wo(B,H)}).map(bl)})(o,0,c).getOr(h);return Nb(v,h.left,h.top)},Ib=(o,a,c,d)=>{const h=nC(Pr(o,a));return D.some(((v,w,k)=>({point:v,width:w,height:k}))(h,c,d))},Vg=(o,a,c,d,h)=>o.map(v=>{const w=[a,v.point],k=(E=()=>L1(w),O=()=>L1(w),L=()=>(ae=>{const fe=bt(ae,M1);return Rb(fe)})(w),d.fold(E,O,L));var E,O,L;const B=(se=k.left,ce=k.top,ve=v.width,ie=v.height,{x:se,y:ce,width:ve,height:ie}),H=c.showAbove?tx():R1(),K=c.showAbove?Fg():N1(),Y=pd(h,c,H,K,H,K,D.none());var se,ce,ve,ie;return pc({anchorBox:B,bubble:c.bubble.getOr(hd()),overrides:c.overrides,layouts:Y})});var $g=[At("node"),At("root"),Io("bubble"),uf(),et("overrides",{}),et("showAbove",!1),Nr("placement",(o,a,c)=>{const d=bd(o,0,a);return a.node.filter(nn).bind(h=>{const v=h.dom.getBoundingClientRect(),w=Ib(v.left,v.top,v.width,v.height),k=a.node.getOr(o.element);return Vg(w,d,a,c,k)})})];const df=(o,a,c,d)=>({start:o,soffset:a,finish:c,foffset:d}),ff=Tl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bb=(ff.before,ff.on,ff.after,o=>o.fold(Ae,Ae,Ae)),mf=Tl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gf={domRange:mf.domRange,relative:mf.relative,exact:mf.exact,exactFromRange:o=>mf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const a=(c=>c.match({domRange:d=>Qt(d.startContainer),relative:(d,h)=>Bb(d),exact:(d,h,v,w)=>d}))(o);return Ic(a)},range:df},hf=(o,a,c)=>{const d=o.document.createRange();var h;return h=d,a.fold(v=>{h.setStartBefore(v.dom)},(v,w)=>{h.setStart(v.dom,w)},v=>{h.setStartAfter(v.dom)}),((v,w)=>{w.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(d,c),d},Ug=(o,a,c,d,h)=>{const v=o.document.createRange();return v.setStart(a.dom,c),v.setEnd(d.dom,h),v},F1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Wh=Tl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),z1=(o,a,c)=>a(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset),lx=(o,a)=>((c,d)=>{const h=((v,w)=>w.match({domRange:k=>({ltr:te(k),rtl:D.none}),relative:(k,E)=>({ltr:za(()=>hf(v,k,E)),rtl:za(()=>D.some(hf(v,E,k)))}),exact:(k,E,O,L)=>({ltr:za(()=>Ug(v,k,E,O,L)),rtl:za(()=>D.some(Ug(v,O,L,k,E)))})}))(c,d);return((v,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>Wh.rtl(Qt(E.endContainer),E.endOffset,Qt(E.startContainer),E.startOffset)).getOrThunk(()=>z1(0,Wh.ltr,k)):z1(0,Wh.ltr,k)})(0,h)})(o,a).match({ltr:(c,d,h,v)=>{const w=o.document.createRange();return w.setStart(c.dom,d),w.setEnd(h.dom,v),w},rtl:(c,d,h,v)=>{const w=o.document.createRange();return w.setStart(h.dom,v),w.setEnd(c.dom,d),w}});Wh.ltr,Wh.rtl;const Zh=(o,a,c)=>ho(((d,h)=>{const v=G(h)?h:Ce;let w=d.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,O=Qt(E);if(k.push(O),v(O)===!0)break;w=E}return k})(o,c),a),aa=(o,a)=>((c,d)=>{const h=d===void 0?document:d.dom;return zd(h)?[]:bt(h.querySelectorAll(c),Qt)})(a,o),cx=o=>{if(o.rangeCount>0){const a=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return D.some(df(Qt(a.startContainer),a.startOffset,Qt(c.endContainer),c.endOffset))}return D.none()},oC=o=>{if(o.anchorNode===null||o.focusNode===null)return cx(o);{const a=Qt(o.anchorNode),c=Qt(o.focusNode);return((d,h,v,w)=>{const k=((O,L,B,H)=>{const K=Zs(O).dom.createRange();return K.setStart(O.dom,L),K.setEnd(B.dom,H),K})(d,h,v,w),E=Wo(d,v)&&h===w;return k.collapsed&&!E})(a,o.anchorOffset,c,o.focusOffset)?D.some(df(a,o.anchorOffset,c,o.focusOffset)):cx(o)}},ux=(o,a)=>(c=>{const d=c.getClientRects(),h=d.length>0?d[0]:c.getBoundingClientRect();return h.width>0||h.height>0?D.some(h).map(F1):D.none()})(lx(o,a)),dx=((o,a)=>{const c=d=>o(d)?D.from(d.dom.nodeValue):D.none();return{get:d=>{if(!o(d))throw new Error("Can only get text value of a text node");return c(d).getOr("")},getOption:c,set:(d,h)=>{if(!o(d))throw new Error("Can only set raw text value of a text node");d.dom.nodeValue=h}}})(ri),pf=(o,a)=>({element:o,offset:a}),H1=(o,a)=>ri(o)?pf(o,a):((c,d)=>{const h=vr(c);if(h.length===0)return pf(c,d);if(d<h.length)return pf(h[d],0);{const v=h[h.length-1],w=ri(v)?(k=>dx.get(k))(v).length:vr(v).length;return pf(v,w)}})(o,a),Mb=o=>o.foffset!==void 0,fx=(o,a)=>a.getSelection.getOrThunk(()=>()=>(c=>(d=>D.from(d.getSelection()))(c).filter(d=>d.rangeCount>0).bind(oC))(o))().map(c=>{if(Mb(c)){const d=H1(c.start,c.soffset),h=H1(c.finish,c.foffset);return gf.range(d.element,d.offset,h.element,h.offset)}return c});var Ak=[Io("getSelection"),At("root"),Io("bubble"),uf(),et("overrides",{}),et("showAbove",!1),Nr("placement",(o,a,c)=>{const d=Ic(a.root).dom,h=bd(o,0,a),v=fx(d,a).bind(k=>{if(Mb(k))return((O,L)=>(B=>{const H=B.getBoundingClientRect();return H.width>0||H.height>0?D.some(H).map(F1):D.none()})(lx(O,L)))(d,gf.exactFromRange(k)).orThunk(()=>{const O=mu("\uFEFF");ed(k.start,O);const L=ux(d,gf.exact(O,0,O,1));return wa(O),L}).bind(O=>Ib(O.left,O.top,O.width,O.height));{const E=En(k,L=>L.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Ib(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),w=fx(d,a).bind(k=>Mb(k)?Kr(k.start)?D.some(k.start):ai(k.start):D.some(k.firstCell)).getOr(o.element);return Vg(v,h,a,c,w)})];const bf="link-layout",Pb=o=>o.x+o.width,rC=(o,a)=>o.x-a.width,sC=(o,a)=>o.y-a.height+o.height,Yc=o=>o.y,mx=(o,a,c)=>qa(Pb(o),Yc(o),c.southeast(),vb(),"southeast",Ga(o,{left:0,top:2}),bf),V1=(o,a,c)=>qa(rC(o,a),Yc(o),c.southwest(),Mg(),"southwest",Ga(o,{right:1,top:2}),bf),aC=(o,a,c)=>qa(Pb(o),sC(o,a),c.northeast(),yb(),"northeast",Ga(o,{left:0,bottom:3}),bf),Wg=(o,a,c)=>qa(rC(o,a),sC(o,a),c.northwest(),Pg(),"northwest",Ga(o,{right:1,bottom:3}),bf),jh=()=>[mx,V1,aC,Wg],Lb=()=>[V1,mx,Wg,aC];var iC=[At("item"),uf(),et("overrides",{}),Nr("placement",(o,a,c)=>{const d=md(c,a.item.element),h=pd(o.element,a,jh(),Lb(),jh(),Lb(),D.none());return D.some(pc({anchorBox:d,bubble:hd(),overrides:a.overrides,layouts:h}))})],Xc=Xs("type",{selection:Ak,node:$g,hotspot:Uh,submenu:iC,makeshift:Sm});const km=[Fi("classes",ra),sc("mode","all",["all","layout","placement"])],Fb=[et("useFixed",Ce),Io("getBounds")],zb=[Sa("anchor",Xc),gs("transition",km)],$1=(o,a,c,d,h,v)=>{const w=li("placement.info",Pn(zb),h),k=w.anchor,E=d.element,O=c.get(d.uid);wm(()=>{Jn(E,"position","fixed");const L=As(E,"visibility");Jn(E,"visibility","hidden");const B=a.useFixed()?(()=>{const H=document.documentElement;return tC(0,0,H.clientWidth,H.clientHeight)})():(H=>{const K=bl(H.element),Y=H.element.dom.getBoundingClientRect();return Cm(K.left,K.top,Y.width,Y.height)})(o);k.placement(o,k,B).each(H=>{const K=v.orThunk(()=>a.getBounds.map(rt)),Y=((se,ce,ve,ie,ae,fe)=>((ye,_e,Le,Xe,_t,vt,gt,Bt)=>{const sn=hc(gt,"maxHeightFunction",_m()),vn=hc(gt,"maxWidthFunction",me),In=ye.anchorBox,qn=ye.origin,So={bounds:Sk(qn,vt),origin:qn,preference:Xe,maxHeightFunction:sn,maxWidthFunction:vn,lastPlacement:_t,transition:Bt};return Db(In,_e,Le,So)})(((ye,_e)=>((Le,Xe)=>({anchorBox:Le,origin:Xe}))(ye,_e))(ce.anchorBox,se),ie.element,ce.bubble,ce.layouts,ae,ve,ce.overrides,fe))(B,H,K,d,O,w.transition);c.set(d.uid,Y)}),L.fold(()=>{er(E,"visibility")},H=>{Jn(E,"visibility",H)}),As(E,"left").isNone()&&As(E,"top").isNone()&&As(E,"right").isNone()&&As(E,"bottom").isNone()&&Wr(As(E,"position"),"fixed")&&er(E,"position")},E)};var Hb=Object.freeze({__proto__:null,position:(o,a,c,d,h)=>{const v=D.none();$1(o,a,c,d,h,v)},positionWithinBounds:$1,getMode:(o,a,c)=>a.useFixed()?"fixed":"absolute",reset:(o,a,c,d)=>{const h=d.element;Zt(["position","left","right","top","bottom"],v=>er(h,v)),(v=>{fo(v,kb)})(h),c.clear(d.uid)}});const Ya=ga({fields:Fb,name:"positioning",active:ox,apis:Hb,state:Object.freeze({__proto__:null,init:()=>{let o={};return ma({readState:()=>o,clear:a=>{$(a)?delete o[a]:o={}},set:(a,c)=>{o[a]=c},get:a=>cn(o,a)})}})}),U1=o=>o.getSystem().isConnected(),Em=o=>{go(o,ic());const a=o.components();Zt(a,Em)},Am=o=>{const a=o.components();Zt(a,Am),go(o,ja())},Vb=(o,a)=>{o.getSystem().addToWorld(a),nn(o.element)&&Am(a)},W1=o=>{Em(o),o.getSystem().removeFromWorld(o)},Zg=(o,a)=>{vi(o.element,a.element)},vf=(o,a)=>{gx(o,a,vi)},gx=(o,a,c)=>{o.getSystem().addToWorld(a),c(o.element,a.element),nn(o.element)&&Am(a),o.syncComponents()},Z1=o=>{Em(o),wa(o.element),o.getSystem().removeFromWorld(o)},$i=o=>{const a=si(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());Z1(o),a.each(c=>{c.syncComponents()})},yf=o=>{const a=o.components();Zt(a,Z1),Gr(o.element),o.syncComponents()},hx=(o,a)=>{Kh(o,a,vi)},mt=(o,a)=>{Kh(o,a,bg)},Kh=(o,a,c)=>{c(o,a.element);const d=vr(a.element);Zt(d,h=>{a.getByDom(h).each(Am)})},Tk=o=>{const a=vr(o.element);Zt(a,c=>{o.getByDom(c).each(Em)}),wa(o.element)},lC=(o,a,c,d)=>{c.get().each(w=>{yf(o)});const h=a.getAttachPoint(o);vf(h,o);const v=o.getSystem().build(d);return vf(o,v),c.set(v),v},j1=(o,a,c,d)=>{const h=lC(o,a,c,d);return a.onOpen(o,h),h},Jc=(o,a,c)=>{c.get().each(d=>{yf(o),$i(o),a.onClose(o,d),c.clear()})},K1=(o,a,c)=>c.isOpen(),$b=(o,a,c)=>{const d=a.getAttachPoint(o);Jn(o.element,"position",Ya.getMode(d)),((h,v,w,k)=>{As(h.element,v).fold(()=>{fo(h.element,w)},E=>{Jt(h.element,w,E)}),Jn(h.element,v,"hidden")})(o,"visibility",a.cloakVisibilityAttr)},px=(o,a,c)=>{(d=>On(["top","left","right","bottom"],h=>As(d,h).isSome()))(o.element)||er(o.element,"position"),((d,h,v)=>{No(d.element,v).fold(()=>er(d.element,h),w=>Jn(d.element,h,w))})(o,"visibility",a.cloakVisibilityAttr)};var bx=Object.freeze({__proto__:null,cloak:$b,decloak:px,open:j1,openWhileCloaked:(o,a,c,d,h)=>{$b(o,a),j1(o,a,c,d),h(),px(o,a)},close:Jc,isOpen:K1,isPartOf:(o,a,c,d)=>K1(0,0,c)&&c.get().exists(h=>a.isPartOf(o,h,d)),getState:(o,a,c)=>c.get(),setContent:(o,a,c,d)=>c.get().map(()=>lC(o,a,c,d))}),Ok=Object.freeze({__proto__:null,events:(o,a)=>to([xt(nb(),(c,d)=>{Jc(c,o,a)})])}),y=[Fo("onOpen"),Fo("onClose"),At("isPartOf"),At("getAttachPoint"),et("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const o=ir(),a=te("not-implemented");return ma({readState:a,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=ga({fields:y,name:"sandboxing",active:Ok,apis:bx,state:_}),P=te("dismiss.popups"),V=te("reposition.popups"),W=te("mouse.released"),Q=oa([et("isExtraPart",Ce),gs("fireEventInstead",[et("event",_g())])]),oe=o=>{const a=li("Dismissal",Q,o);return{[P()]:{schema:oa([At("target")]),onReceive:(c,d)=>{T.isOpen(c)&&(T.isPartOf(c,d.target)||a.isExtraPart(c,d.target)||a.fireEventInstead.fold(()=>T.close(c),h=>go(c,h.event)))}}}},pe=oa([gs("fireEventInstead",[et("event",ef())]),Ci("doReposition")]),De=o=>{const a=li("Reposition",pe,o);return{[V()]:{onReceive:c=>{T.isOpen(c)&&a.fireEventInstead.fold(()=>a.doReposition(c),d=>go(c,d.event))}}}},He=(o,a,c)=>{a.store.manager.onLoad(o,a,c)},Ee=(o,a,c)=>{a.store.manager.onUnload(o,a,c)};var Ie=Object.freeze({__proto__:null,onLoad:He,onUnload:Ee,setValue:(o,a,c,d)=>{a.store.manager.setValue(o,a,c,d)},getValue:(o,a,c)=>a.store.manager.getValue(o,a,c),getState:(o,a,c)=>c}),Pe=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.resetOnDom?[Zr((d,h)=>{He(d,o,a)}),Au((d,h)=>{Ee(d,o,a)})]:[rb(o,a,He)];return to(c)}});const Je=()=>{const o=Dn(null);return ma({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},tt=()=>{const o=Dn({}),a=Dn({});return ma({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:a.get()}),lookup:c=>cn(o.get(),c).orThunk(()=>cn(a.get(),c)),update:c=>{const d=o.get(),h=a.get(),v={},w={};Zt(c,k=>{v[k.value]=k,cn(k,"meta").each(E=>{cn(E,"text").each(O=>{w[O]=k})})}),o.set({...d,...v}),a.set({...h,...w})},clear:()=>{o.set({}),a.set({})}})};var Et=Object.freeze({__proto__:null,memory:Je,dataset:tt,manual:()=>ma({readState:me}),init:o=>o.store.manager.state(o)});const Ot=(o,a,c,d)=>{const h=a.store;c.update([d]),h.setValue(o,d),a.onSetValue(o,d)};var kt=[Io("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),Nr("manager",{setValue:Ot,getValue:(o,a,c)=>{const d=a.store,h=d.getDataKey(o);return c.lookup(h).getOrThunk(()=>d.getFallbackEntry(h))},onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{Ot(o,a,c,d)})},onUnload:(o,a,c)=>{c.clear()},state:tt})],Rt=[At("getValue"),et("setValue",me),Io("initialValue"),Nr("manager",{setValue:(o,a,c,d)=>{a.store.setValue(o,d),a.onSetValue(o,d)},getValue:(o,a,c)=>a.store.getValue(o),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{a.store.setValue(o,d)})},onUnload:me,state:uc.init})],Ut=[Io("initialValue"),Nr("manager",{setValue:(o,a,c,d)=>{c.set(d),a.onSetValue(o,d)},getValue:(o,a,c)=>c.get(),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{c.isNotSet()&&c.set(d)})},onUnload:(o,a,c)=>{c.clear()},state:Je})],qt=[_i("store",{mode:"memory"},Xs("mode",{memory:Ut,manual:Rt,dataset:kt})),Fo("onSetValue"),et("resetOnDom",!1)];const nt=ga({fields:qt,name:"representing",active:Pe,apis:Ie,extra:{setValueFrom:(o,a)=>{const c=nt.getValue(a);nt.setValue(o,c)}},state:Et}),mn=(o,a)=>Si(o,{},bt(a,c=>{return d=c.name(),h="Cannot configure "+c.name()+" for "+o,Ks(d,d,{tag:"option",process:{}},vu(v=>Pi("The field: "+d+" is forbidden. "+h)));var d,h}).concat([_a("dump",Ae)])),Vn=o=>o.dump,co=(o,a)=>({...Ft(a),...o.dump}),jn=mn,$n=co,lo="placeholder",Bo=Tl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),$s=o=>po(o,"uiType"),ui=(o,a,c,d)=>((h,v,w,k)=>$s(w)&&w.uiType===lo?((E,O,L,B)=>E.exists(H=>H!==L.owner)?Bo.single(!0,te(L)):cn(B,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+on(B)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},H=>H.replace()))(h,0,w,k):Bo.single(!1,te(w)))(o,0,c,d).fold((h,v)=>{const w=$s(c)?v(a,c.config,c.validated):v(a),k=cn(w,"components").getOr([]),E=Ko(k,O=>ui(o,a,O,d));return[{...w,components:E}]},(h,v)=>{if($s(c)){const w=v(a,c.config,c.validated);return c.validated.preprocess.getOr(Ae)(w)}return v(a)}),Aa=Bo.single,Vl=Bo.multiple,Tm=te(lo),di=Tl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ru=et("factory",{sketch:Ae}),qh=et("schema",[]),xf=At("name"),Gh=Ks("pname","pname",yg(o=>"<alloy."+fn(o.name)+">"),yl()),q1=_a("schema",()=>[Io("preprocess")]),wf=et("defaults",te({})),cC=et("overrides",te({})),BM=Pn([Ru,qh,xf,Gh,wf,cC]),MM=Pn([Ru,qh,xf,wf,cC]),mO=Pn([Ru,qh,xf,Gh,wf,cC]),hn=Pn([Ru,q1,xf,At("unit"),Gh,wf,cC]),vx=o=>o.fold(D.some,D.none,D.some,D.some),Dk=o=>{const a=c=>c.name;return o.fold(a,a,a,a)},uC=(o,a)=>c=>{const d=li("Converting part type",a,c);return o(d)},ll=uC(di.required,BM),vd=uC(di.external,MM),Qc=uC(di.optional,mO),dC=uC(di.group,hn),Rk=te("entirety");var gO=Object.freeze({__proto__:null,required:ll,external:vd,optional:Qc,group:dC,asNamedPart:vx,name:Dk,asCommon:o=>o.fold(Ae,Ae,Ae,Ae),original:Rk});const Nk=(o,a,c,d)=>yr(a.defaults(o,c,d),c,{uid:o.partUids[a.name]},a.overrides(o,c,d)),Ui=(o,a)=>{const c={};return Zt(a,d=>{vx(d).each(h=>{const v=yx(o,h.pname);c[h.name]=w=>{const k=li("Part: "+h.name+" in "+o,Pn(h.schema),w);return{...v,config:w,validated:k}}})}),c},yx=(o,a)=>({uiType:Tm(),owner:o,name:a}),Ik=(o,a,c)=>({uiType:Tm(),owner:o,name:a,config:c,validated:{}}),hO=o=>Ko(o,a=>a.fold(D.none,D.some,D.none,D.none).map(c=>rc(c.name,c.schema.concat([hb(Rk())]))).toArray()),pO=o=>bt(o,Dk),Bk=(o,a,c)=>((d,h,v)=>{const w={},k={};return Zt(v,E=>{E.fold(O=>{w[O.pname]=Aa(!0,(L,B,H)=>O.factory.sketch(Nk(L,O,B,H)))},O=>{const L=h.parts[O.name];k[O.name]=te(O.factory.sketch(Nk(h,O,L[Rk()]),L))},O=>{w[O.pname]=Aa(!1,(L,B,H)=>O.factory.sketch(Nk(L,O,B,H)))},O=>{w[O.pname]=Vl(!0,(L,B,H)=>{const K=L[O.name];return bt(K,Y=>O.factory.sketch(yr(O.defaults(L,Y,H),Y,O.overrides(L,Y))))})})}),{internals:te(w),externals:te(k)}})(0,a,c),Mk=(o,a,c)=>((d,h,v,w)=>{const k=En(w,(O,L)=>((B,H)=>{let K=!1;return{name:te(B),required:()=>H.fold((Y,se)=>Y,(Y,se)=>Y),used:()=>K,replace:()=>{if(K)throw new Error("Trying to use the same placeholder more than once: "+B);return K=!0,H}}})(L,O)),E=((O,L,B,H)=>Ko(B,K=>ui(O,L,K,H)))(d,h,v,k);return Cn(k,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+d.getOr("none")+`
Components: `+JSON.stringify(h.components,null,2))}),E})(D.some(o),a,a.components,c),Br=(o,a,c)=>{const d=a.partUids[c];return o.getSystem().getByUid(d).toOptional()},jg=(o,a,c)=>Br(o,a,c).getOrDie("Could not find part: "+c),bO=(o,a,c)=>{const d={},h=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(h[w]))}),d},Pk=(o,a)=>{const c=o.getSystem();return En(a.partUids,(d,h)=>te(c.getByUid(d)))},vO=o=>on(o.partUids),Lk=(o,a,c)=>{const d={},h=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(h[w]).getOrDie())}),d},yO=(o,a)=>{const c=pO(a);return ad(bt(c,d=>({key:d,value:o+"-"+d})))},Fk=o=>Ks("partUids","partUids",Lo(a=>yO(a.uid,o)),yl());var PM=Object.freeze({__proto__:null,generate:Ui,generateOne:Ik,schemas:hO,names:pO,substitutes:Bk,components:Mk,defaultUids:yO,defaultUidsSchema:Fk,getAllParts:Pk,getAllPartNames:vO,getPart:Br,getPartOrDie:jg,getParts:bO,getPartsOrDie:Lk});const xO=(o,a,c,d,h)=>{const v=((w,k)=>(w.length>0?[rc("parts",w)]:[]).concat([At("uid"),et("dom",{}),et("components",[]),hb("originalSpec"),et("debug.sketcher",{})]).concat(k))(d,h);return li(o+" [SpecSchema]",oa(v.concat(a)),c)},xx=(o,a,c,d,h)=>{const v=zk(h),w=hO(c),k=Fk(c),E=xO(o,a,v,w,[k]),O=Bk(0,E,c);return d(E,Mk(o,E,O.internals()),v,O.externals())},zk=o=>(a=>po(a,"uid"))(o)?o:{...o,uid:mc("uid")},LM=oa([At("name"),At("factory"),At("configFields"),et("apis",{}),et("extraApis",{})]),wO=oa([At("name"),At("factory"),At("configFields"),At("partFields"),et("apis",{}),et("extraApis",{})]),eu=o=>{const a=li("Sketcher for "+o.name,LM,o),c=En(a.apis,_1),d=En(a.extraApis,(h,v)=>Fl(h,v));return{name:a.name,configFields:a.configFields,sketch:h=>((v,w,k,E)=>{const O=zk(E);return k(xO(v,w,O,[],[]),O)})(a.name,a.configFields,a.factory,h),...c,...d}},xl=o=>{const a=li("Sketcher for "+o.name,wO,o),c=Ui(a.name,a.partFields),d=En(a.apis,_1),h=En(a.extraApis,(v,w)=>Fl(v,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:v=>xx(a.name,a.configFields,a.partFields,a.factory,v),parts:c,...d,...h}},G1=o=>Rc("input")(o)&&wo(o,"type")!=="radio"||Rc("textarea")(o);var CO=Object.freeze({__proto__:null,getCurrent:(o,a,c)=>a.find(o)});const FM=[At("find")],Vo=ga({fields:FM,name:"composing",apis:CO}),_O=["input","button","textarea","select"],SO=(o,a,c)=>{(a.disabled()?wx:Vk)(o,a)},Hk=(o,a)=>a.useNative===!0&&Qe(_O,Ni(o.element)),kO=o=>{Jt(o.element,"disabled","disabled")},zM=o=>{fo(o.element,"disabled")},Y1=o=>{Jt(o.element,"aria-disabled","true")},HM=o=>{Jt(o.element,"aria-disabled","false")},wx=(o,a,c)=>{a.disableClass.each(d=>{us(o.element,d)}),(Hk(o,a)?kO:Y1)(o),a.onDisabled(o)},Vk=(o,a,c)=>{a.disableClass.each(d=>{ps(o.element,d)}),(Hk(o,a)?zM:HM)(o),a.onEnabled(o)},X1=(o,a)=>Hk(o,a)?(c=>fs(c.element,"disabled"))(o):(c=>wo(c.element,"aria-disabled")==="true")(o);var VM=Object.freeze({__proto__:null,enable:Vk,disable:wx,isDisabled:X1,onLoad:SO,set:(o,a,c,d)=>{(d?wx:Vk)(o,a)}}),$M=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({classes:a.disabled()?a.disableClass.toArray():[]}),events:(o,a)=>to([Nh(ol(),(c,d)=>X1(c,o)),rb(o,a,SO)])}),UM=[Fr("disabled",Ce),et("useNative",!0),Io("disableClass"),Fo("onDisabled"),Fo("onEnabled")];const Kn=ga({fields:UM,name:"disabling",active:$M,apis:VM}),EO=(o,a,c,d)=>{const h=aa(o.element,"."+a.highlightClass);Zt(h,v=>{On(d,w=>Wo(w.element,v))||(ps(v,a.highlightClass),o.getSystem().getByDom(v).each(w=>{a.onDehighlight(o,w),go(w,tf())}))})},Ub=(o,a,c,d)=>{EO(o,a,0,[d]),$k(o,a,c,d)||(us(d.element,a.highlightClass),a.onHighlight(o,d),go(d,Oy()))},$k=(o,a,c,d)=>zi(d.element,a.highlightClass),AO=(o,a,c)=>Xr(o.element,"."+a.itemClass).bind(d=>o.getSystem().getByDom(d).toOptional()),TO=(o,a,c)=>{const d=aa(o.element,"."+a.itemClass);return(d.length>0?D.some(d[d.length-1]):D.none()).bind(h=>o.getSystem().getByDom(h).toOptional())},OO=(o,a,c,d)=>{const h=aa(o.element,"."+a.itemClass);return sr(h,v=>zi(v,a.highlightClass)).bind(v=>{const w=hm(v,d,0,h.length-1);return o.getSystem().getByDom(h[w]).toOptional()})},DO=(o,a,c)=>{const d=aa(o.element,"."+a.itemClass);return Pa(bt(d,h=>o.getSystem().getByDom(h).toOptional()))};var WM=Object.freeze({__proto__:null,dehighlightAll:(o,a,c)=>EO(o,a,0,[]),dehighlight:(o,a,c,d)=>{$k(o,a,c,d)&&(ps(d.element,a.highlightClass),a.onDehighlight(o,d),go(d,tf()))},highlight:Ub,highlightFirst:(o,a,c)=>{AO(o,a).each(d=>{Ub(o,a,c,d)})},highlightLast:(o,a,c)=>{TO(o,a).each(d=>{Ub(o,a,c,d)})},highlightAt:(o,a,c,d)=>{((h,v,w,k)=>{const E=aa(h.element,"."+v.itemClass);return D.from(E[k]).fold(()=>_o.error(new Error("No element found with index "+k)),h.getSystem().getByDom)})(o,a,0,d).fold(h=>{throw h},h=>{Ub(o,a,c,h)})},highlightBy:(o,a,c,d)=>{const h=DO(o,a);J(h,d).each(v=>{Ub(o,a,c,v)})},isHighlighted:$k,getHighlighted:(o,a,c)=>Xr(o.element,"."+a.highlightClass).bind(d=>o.getSystem().getByDom(d).toOptional()),getFirst:AO,getLast:TO,getPrevious:(o,a,c)=>OO(o,a,0,-1),getNext:(o,a,c)=>OO(o,a,0,1),getCandidates:DO}),RO=[At("highlightClass"),At("itemClass"),Fo("onHighlight"),Fo("onDehighlight")];const or=ga({fields:RO,name:"highlighting",apis:WM}),NO=[8],yd=[9],Om=[13],fC=[27],vc=[32],mC=[37],J1=[38],Cx=[39],Q1=[40],ZM=(o,a,c)=>{const d=Ke(o.slice(0,a)),h=Ke(o.slice(a+1));return J(d.concat(h),c)},jM=(o,a,c)=>{const d=Ke(o.slice(0,a));return J(d,c)},KM=(o,a,c)=>{const d=o.slice(0,a),h=o.slice(a+1);return J(h.concat(d),c)},qM=(o,a,c)=>{const d=o.slice(a+1);return J(d,c)},Zo=o=>a=>{const c=a.raw;return Qe(o,c.which)},Cf=o=>a=>oi(o,c=>c(a)),Dm=o=>o.raw.shiftKey===!0,GM=o=>o.raw.ctrlKey===!0,_x=Ve(Dm),Go=(o,a)=>({matches:o,classification:a}),IO=(o,a,c)=>{a.exists(d=>c.exists(h=>Wo(h,d)))||Sn(o,c1(),{prevFocus:a,newFocus:c})},Uk=()=>{const o=a=>Ms(a.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().triggerFocus(c,a.element);const h=o(a);IO(a,d,h)}}},YM=()=>{const o=a=>or.getHighlighted(a).map(c=>c.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().getByDom(c).fold(me,v=>{or.highlight(a,v)});const h=o(a);IO(a,d,h)}}};var Wb;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(Wb||(Wb={}));const Zb=(o,a,c,d,h)=>{const v=(k,E,O,L,B)=>{return(H=O(k,E,L,B),K=E.event,J(H,Y=>Y.matches(K)).map(Y=>Y.classification)).bind(Y=>Y(k,E,L,B));var H,K},w={schema:()=>o.concat([et("focusManager",Uk()),_i("focusInside","onFocus",Gd(k=>Qe(["onFocus","onEnterOrSpace","onApi"],k)?_o.value(k):_o.error("Invalid value for focusInside"))),Nr("handler",w),Nr("state",a),Nr("sendFocusIn",h)]),processKey:v,toEvents:(k,E)=>{const O=k.focusInside!==Wb.OnFocusMode?D.none():h(k).map(B=>xt(Eu(),(H,K)=>{B(H,k,E),K.stop()})),L=[xt(cs(),(B,H)=>{v(B,H,c,k,E).fold(()=>{((K,Y)=>{const se=Zo(vc.concat(Om))(Y.event);k.focusInside===Wb.OnEnterOrSpaceMode&&se&&Jp(K,Y)&&h(k).each(ce=>{ce(K,k,E),Y.stop()})})(B,H)},K=>{H.stop()})}),xt(ac(),(B,H)=>{v(B,H,d,k,E).each(K=>{H.stop()})})];return to(O.toArray().concat(L))}};return w},BO=o=>{const a=[Io("onEscape"),Io("onEnter"),et("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),et("firstTabstop",0),et("useTabstopAt",Ne),Io("visibilitySelector")].concat([o]),c=(L,B)=>{const H=L.visibilitySelector.bind(K=>Ou(B,K)).getOr(B);return ms(H)>0},d=(L,B)=>B.focusManager.get(L).bind(H=>Ou(H,B.selector)),h=(L,B,H)=>{((K,Y)=>{const se=aa(K.element,Y.selector),ce=ho(se,ve=>c(Y,ve));return D.from(ce[Y.firstTabstop])})(L,B).each(K=>{B.focusManager.set(L,K)})},v=(L,B,H,K)=>{const Y=aa(L.element,H.selector);return d(L,H).bind(se=>sr(Y,Ge(Wo,se)).bind(ce=>((ve,ie,ae,fe,ye)=>ye(ie,ae,_e=>((Le,Xe)=>c(Le,Xe)&&Le.useTabstopAt(Xe))(fe,_e)).fold(()=>fe.cyclic?D.some(!0):D.none(),_e=>(fe.focusManager.set(ve,_e),D.some(!0))))(L,Y,ce,H,K)))},w=(L,B,H)=>{const K=H.cyclic?ZM:jM;return v(L,0,H,K)},k=(L,B,H)=>{const K=H.cyclic?KM:qM;return v(L,0,H,K)},E=te([Go(Cf([Dm,Zo(yd)]),w),Go(Zo(yd),k),Go(Cf([_x,Zo(Om)]),(L,B,H)=>H.onEnter.bind(K=>K(L,B)))]),O=te([Go(Zo(fC),(L,B,H)=>H.onEscape.bind(K=>K(L,B))),Go(Zo(yd),(L,B,H)=>d(L,H).filter(K=>!H.useTabstopAt(K)).bind(K=>((Y=>(se=>si(se))(Y).bind(Se).exists(se=>Wo(se,Y)))(K)?w:k)(L,B,H)))]);return Zb(a,uc.init,E,O,()=>D.some(h))};var XM=BO(_a("cyclic",Ce)),JM=BO(_a("cyclic",Ne));const Sx=(o,a,c)=>G1(c)&&Zo(vc)(a.event)?D.none():((d,h,v)=>(ns(d,v,ol()),D.some(!0)))(o,0,c),jb=(o,a)=>D.some(!0),QM=[et("execute",Sx),et("useSpace",!1),et("useEnter",!0),et("useControlEnter",!1),et("useDown",!1)],MO=(o,a,c)=>c.execute(o,a,o.element);var eP=Zb(QM,uc.init,(o,a,c,d)=>{const h=c.useSpace&&!G1(o.element)?vc:[],v=c.useEnter?Om:[],w=c.useDown?Q1:[],k=h.concat(v).concat(w);return[Go(Zo(k),MO)].concat(c.useControlEnter?[Go(Cf([GM,Zo(Om)]),MO)]:[])},(o,a,c,d)=>c.useSpace&&!G1(o.element)?[Go(Zo(vc),jb)]:[],()=>D.none());const PO=()=>{const o=ir();return ma({readState:()=>o.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,c)=>{o.set({numRows:a,numColumns:c})},getNumRows:()=>o.get().map(a=>a.numRows),getNumColumns:()=>o.get().map(a=>a.numColumns)})};var LO=Object.freeze({__proto__:null,flatgrid:PO,init:o=>o.state(o)});const FO=o=>(a,c,d,h)=>{const v=o(a.element);return zO(v,a,c,d,h)},Wk=(o,a)=>{const c=ix(o,a);return FO(c)},Zk=(o,a)=>{const c=ix(a,o);return FO(c)},jk=o=>(a,c,d,h)=>zO(o,a,c,d,h),zO=(o,a,c,d,h)=>d.focusManager.get(a).bind(v=>o(a.element,v,d,h)).map(v=>(d.focusManager.set(a,v),!0)),Kk=jk,HO=jk,gC=jk,VO=o=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(o.dom),qk=(o,a,c)=>{const d=aa(o,c);return((h,v)=>sr(h,w=>Wo(w,a)).map(w=>({index:w,candidates:h})))(ho(d,VO))},hC=(o,a)=>sr(o,c=>Wo(a,c)),$O=(o,a,c,d)=>d(Math.floor(a/c),a%c).bind(h=>{const v=h.row*c+h.column;return v>=0&&v<o.length?D.some(o[v]):D.none()}),UO=(o,a,c,d,h)=>$O(o,a,d,(v,w)=>{const k=v===c-1?o.length-v*d:d,E=hm(w,h,0,k-1);return D.some({row:v,column:E})}),WO=(o,a,c,d,h)=>$O(o,a,d,(v,w)=>{const k=hm(v,h,0,c-1),E=k===c-1?o.length-k*d:d,O=fc(w,0,E-1);return D.some({row:k,column:O})}),tP=[At("selector"),et("execute",Sx),rl("onEscape"),et("captureTab",!1),Kw()],ZO=(o,a,c)=>{Xr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},kx=o=>(a,c,d,h)=>qk(a,c,d.selector).bind(v=>o(v.candidates,v.index,h.getNumRows().getOr(d.initSize.numRows),h.getNumColumns().getOr(d.initSize.numColumns))),Gk=(o,a,c)=>c.captureTab?D.some(!0):D.none(),Yk=kx((o,a,c,d)=>UO(o,a,c,d,-1)),Xk=kx((o,a,c,d)=>UO(o,a,c,d,1)),nP=kx((o,a,c,d)=>WO(o,a,c,d,-1)),oP=kx((o,a,c,d)=>WO(o,a,c,d,1)),rP=te([Go(Zo(mC),Wk(Yk,Xk)),Go(Zo(Cx),Zk(Yk,Xk)),Go(Zo(J1),Kk(nP)),Go(Zo(Q1),HO(oP)),Go(Cf([Dm,Zo(yd)]),Gk),Go(Cf([_x,Zo(yd)]),Gk),Go(Zo(vc.concat(Om)),(o,a,c,d)=>((h,v)=>v.focusManager.get(h).bind(w=>Ou(w,v.selector)))(o,c).bind(h=>c.execute(o,a,h)))]),sP=te([Go(Zo(fC),(o,a,c)=>c.onEscape(o,a)),Go(Zo(vc),jb)]);var aP=Zb(tP,PO,rP,sP,()=>D.some(ZO));const Yh=(o,a,c,d,h)=>{const v=(w,k,E)=>h(w,k,d,0,E.length-1,E[k],O=>{return L=E[O],Ni(L)==="button"&&wo(L,"disabled")==="disabled"?v(w,O,E):D.from(E[O]);var L});return qk(o,c,a).bind(w=>{const k=w.index,E=w.candidates;return v(k,k,E)})},jO=(o,a,c,d)=>Yh(o,a,c,d,(h,v,w,k,E,O,L)=>{const B=fc(v+w,k,E);return B===h?D.from(O):L(B)}),pC=(o,a,c,d)=>Yh(o,a,c,d,(h,v,w,k,E,O,L)=>{const B=hm(v,w,k,E);return B===h?D.none():L(B)}),iP=[At("selector"),et("getInitial",D.none),et("execute",Sx),rl("onEscape"),et("executeOnMove",!1),et("allowVertical",!0),et("allowHorizontal",!0),et("cycles",!0)],Jk=(o,a,c)=>((d,h)=>h.focusManager.get(d).bind(v=>Ou(v,h.selector)))(o,c).bind(d=>c.execute(o,a,d)),KO=(o,a,c)=>{a.getInitial(o).orThunk(()=>Xr(o.element,a.selector)).each(d=>{a.focusManager.set(o,d)})},qO=(o,a,c)=>(c.cycles?pC:jO)(o,c.selector,a,-1),GO=(o,a,c)=>(c.cycles?pC:jO)(o,c.selector,a,1),Qk=o=>(a,c,d,h)=>o(a,c,d,h).bind(()=>d.executeOnMove?Jk(a,c,d):D.some(!0)),Ex=te([Go(Zo(vc),jb),Go(Zo(fC),(o,a,c)=>c.onEscape(o,a))]);var Ax=Zb(iP,uc.init,(o,a,c,d)=>{const h=[...c.allowHorizontal?mC:[]].concat(c.allowVertical?J1:[]),v=[...c.allowHorizontal?Cx:[]].concat(c.allowVertical?Q1:[]);return[Go(Zo(h),Qk(Wk(qO,GO))),Go(Zo(v),Qk(Zk(qO,GO))),Go(Zo(Om),Jk),Go(Zo(vc),Jk)]},Ex,()=>D.some(KO));const bC=(o,a,c)=>D.from(o[a]).bind(d=>D.from(d[c]).map(h=>({rowIndex:a,columnIndex:c,cell:h}))),vC=(o,a,c,d)=>{const h=o[a].length,v=hm(c,d,0,h-1);return bC(o,a,v)},YO=(o,a,c,d)=>{const h=hm(c,d,0,o.length-1),v=o[h].length,w=fc(a,0,v-1);return bC(o,h,w)},eE=(o,a,c,d)=>{const h=o[a].length,v=fc(c+d,0,h-1);return bC(o,a,v)},tE=(o,a,c,d)=>{const h=fc(c+d,0,o.length-1),v=o[h].length,w=fc(a,0,v-1);return bC(o,h,w)},XO=[rc("selectors",[At("row"),At("cell")]),et("cycles",!0),et("previousSelector",D.none),et("execute",Sx)],lP=(o,a,c)=>{a.previousSelector(o).orThunk(()=>{const d=a.selectors;return Xr(o.element,d.cell)}).each(d=>{a.focusManager.set(o,d)})},yC=(o,a)=>(c,d,h)=>{const v=h.cycles?o:a;return Ou(d,h.selectors.row).bind(w=>{const k=aa(w,h.selectors.cell);return hC(k,d).bind(E=>{const O=aa(c,h.selectors.row);return hC(O,w).bind(L=>{const B=((H,K)=>bt(H,Y=>aa(Y,K.selectors.cell)))(O,h);return v(B,L,E).map(H=>H.cell)})})})},JO=yC((o,a,c)=>vC(o,a,c,-1),(o,a,c)=>eE(o,a,c,-1)),Kb=yC((o,a,c)=>vC(o,a,c,1),(o,a,c)=>eE(o,a,c,1)),qb=yC((o,a,c)=>YO(o,c,a,-1),(o,a,c)=>tE(o,c,a,-1)),xC=yC((o,a,c)=>YO(o,c,a,1),(o,a,c)=>tE(o,c,a,1)),Tx=te([Go(Zo(mC),Wk(JO,Kb)),Go(Zo(Cx),Zk(JO,Kb)),Go(Zo(J1),Kk(qb)),Go(Zo(Q1),HO(xC)),Go(Zo(vc.concat(Om)),(o,a,c)=>Ms(o.element).bind(d=>c.execute(o,a,d)))]),cP=te([Go(Zo(vc),jb)]);var Xh=Zb(XO,uc.init,Tx,cP,()=>D.some(lP));const Rm=[At("selector"),et("execute",Sx),et("moveOnTab",!1)],wC=(o,a,c)=>c.focusManager.get(o).bind(d=>c.execute(o,a,d)),QO=(o,a,c)=>{Xr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},e5=(o,a,c)=>pC(o,c.selector,a,-1),nE=(o,a,c)=>pC(o,c.selector,a,1),Ox=te([Go(Zo(J1),gC(e5)),Go(Zo(Q1),gC(nE)),Go(Cf([Dm,Zo(yd)]),(o,a,c,d)=>c.moveOnTab?gC(e5)(o,a,c,d):D.none()),Go(Cf([_x,Zo(yd)]),(o,a,c,d)=>c.moveOnTab?gC(nE)(o,a,c,d):D.none()),Go(Zo(Om),wC),Go(Zo(vc),wC)]),Dx=te([Go(Zo(vc),jb)]);var oE=Zb(Rm,uc.init,Ox,Dx,()=>D.some(QO));const t5=[rl("onSpace"),rl("onEnter"),rl("onShiftEnter"),rl("onLeft"),rl("onRight"),rl("onTab"),rl("onShiftTab"),rl("onUp"),rl("onDown"),rl("onEscape"),et("stopSpaceKeyup",!1),Io("focusIn")];var Rx=Zb(t5,uc.init,(o,a,c)=>[Go(Zo(vc),c.onSpace),Go(Cf([_x,Zo(Om)]),c.onEnter),Go(Cf([Dm,Zo(Om)]),c.onShiftEnter),Go(Cf([Dm,Zo(yd)]),c.onShiftTab),Go(Cf([_x,Zo(yd)]),c.onTab),Go(Zo(J1),c.onUp),Go(Zo(Q1),c.onDown),Go(Zo(mC),c.onLeft),Go(Zo(Cx),c.onRight),Go(Zo(vc),c.onSpace)],(o,a,c)=>[...c.stopSpaceKeyup?[Go(Zo(vc),jb)]:[],Go(Zo(fC),c.onEscape)],o=>o.focusIn);const CC=XM.schema(),uP=JM.schema(),rE=Ax.schema(),_C=aP.schema(),Ai=Xh.schema(),dP=eP.schema(),Nm=oE.schema(),n5=Rx.schema(),An=Ww({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:CC,cyclic:uP,flow:rE,flatgrid:_C,matrix:Ai,execution:dP,menu:Nm,special:n5}),name:"keying",active:{events:(o,a)=>o.handler.toEvents(o,a)},apis:{focusIn:(o,a,c)=>{a.sendFocusIn(a).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},d=>{d(o,a,c)})},setGridSize:(o,a,c,d,h)=>{(v=>io(v,"setGridSize"))(c)?c.setGridSize(d,h):console.error("Layout does not support setGridSize")}},state:LO}),Gb=(o,a)=>{wm(()=>{((c,d,h)=>{const v=c.components();(E=>{Zt(E.components(),O=>wa(O.element)),Gr(E.element),E.syncComponents()})(c);const w=h(d),k=le(v,w);Zt(k,E=>{Em(E),c.getSystem().removeFromWorld(E)}),Zt(w,E=>{U1(E)?Zg(c,E):(c.getSystem().addToWorld(E),Zg(c,E),nn(c.element)&&Am(E))}),c.syncComponents()})(o,a,()=>bt(a,o.getSystem().build))},o.element)},sE=(o,a)=>{wm(()=>{((c,d,h)=>{const v=c.components(),w=Ko(d,O=>Zy(O).toArray());Zt(v,O=>{Qe(w,O)||W1(O)});const k=((O,L,B)=>Gw(O,L,(H,K)=>Gy(O,K,H,B)))(o.element,a,o.getSystem().buildOrPatch),E=le(v,k);Zt(E,O=>{U1(O)&&W1(O)}),Zt(k,O=>{U1(O)||Vb(c,O)}),c.syncComponents()})(o,a)},o.element)},SC=(o,a,c,d)=>{W1(a);const h=Gy(o.element,c,d,o.getSystem().buildOrPatch);Vb(o,h),o.syncComponents()},aE=(o,a,c)=>{const d=o.getSystem().build(c);gx(o,d,a)},o5=(o,a,c,d)=>{$i(a),aE(o,(h,v)=>((w,k,E)=>{qr(w,E).fold(()=>{vi(w,k)},O=>{ed(O,k)})})(h,v,c),d)},Nx=(o,a)=>o.components(),r5=(o,a,c,d,h)=>{const v=Nx(o);return D.from(v[d]).map(w=>(h.fold(()=>$i(w),k=>{(a.reuseDom?SC:o5)(o,w,d,k)}),w))};var iE=Object.freeze({__proto__:null,append:(o,a,c,d)=>{aE(o,vi,d)},prepend:(o,a,c,d)=>{aE(o,vg,d)},remove:(o,a,c,d)=>{const h=Nx(o);J(h,w=>Wo(d.element,w.element)).each($i)},replaceAt:r5,replaceBy:(o,a,c,d,h)=>{const v=Nx(o);return sr(v,d).bind(w=>r5(o,a,0,w,h))},set:(o,a,c,d)=>(a.reuseDom?sE:Gb)(o,d),contents:Nx});const zn=ga({fields:[Hs("reuseDom",!0)],name:"replacing",apis:iE}),uo=(o,a)=>{const c=((d,h)=>{const v=to(h);return ga({fields:[At("enabled")],name:d,active:{events:te(v)}})})(o,a);return{key:o,value:{config:{},me:c,configAsRaw:te({}),initialConfig:{},state:uc}}},s5=(o,a)=>{a.ignore||(ki(o.element),a.onFocus(o))};var a5=Object.freeze({__proto__:null,focus:s5,blur:(o,a)=>{a.ignore||Cb(o.element)},isFocused:o=>zg(o.element)}),i5=Object.freeze({__proto__:null,exhibit:(o,a)=>{const c=a.ignore?{}:{attributes:{tabindex:"-1"}};return Ns(c)},events:o=>to([xt(Eu(),(a,c)=>{s5(a,o),c.stop()})].concat(o.stopMousedown?[xt(Tt(),(a,c)=>{c.event.prevent()})]:[]))}),l5=[Fo("onFocus"),et("stopMousedown",!1),et("ignore",!1)];const Zn=ga({fields:l5,name:"focusing",active:i5,apis:a5}),Ix=(o,a,c,d)=>{const h=c.get();c.set(d),((v,w,k)=>{w.toggleClass.each(E=>{k.get()?us(v.element,E):ps(v.element,E)})})(o,a,c),((v,w,k)=>{const E=w.aria;E.update(v,E,k.get())})(o,a,c),h!==d&&a.onToggled(o,d)},tu=(o,a,c)=>{Ix(o,a,c,!c.get())},Yb=(o,a,c)=>{Ix(o,a,c,a.selected)};var c5=Object.freeze({__proto__:null,onLoad:Yb,toggle:tu,isOn:(o,a,c)=>c.get(),on:(o,a,c)=>{Ix(o,a,c,!0)},off:(o,a,c)=>{Ix(o,a,c,!1)},set:Ix}),ev=Object.freeze({__proto__:null,exhibit:()=>Ns({}),events:(o,a)=>{const c=(d=o,h=a,v=tu,jc(k=>{v(k,d,h)}));var d,h,v;const w=rb(o,a,Yb);return to(br([o.toggleOnExecute?[c]:[],[w]]))}});const Dl=(o,a,c)=>{Jt(o.element,"aria-expanded",c)};var yc=[et("selected",!1),Io("toggleClass"),et("toggleOnExecute",!0),Fo("onToggled"),_i("aria",{mode:"none"},Xs("mode",{pressed:[et("syncWithExpanded",!1),Nr("update",(o,a,c)=>{Jt(o.element,"aria-pressed",c),a.syncWithExpanded&&Dl(o,0,c)})],checked:[Nr("update",(o,a,c)=>{Jt(o.element,"aria-checked",c)})],expanded:[Nr("update",Dl)],selected:[Nr("update",(o,a,c)=>{Jt(o.element,"aria-selected",c)})],none:[Nr("update",me)]}))];const Un=ga({fields:yc,name:"toggling",active:ev,apis:c5,state:{init:()=>{const o=Dn(!1);return{get:()=>o.get(),set:a=>o.set(a),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Nu=()=>{const o=(a,c)=>{c.stop(),nf(a)};return[xt(Js(),o),xt(Xd(),o),um(Z()),um(Tt())]},tv=o=>to(br([o.map(a=>jc((c,d)=>{a(c),d.stop()})).toArray(),Nu()])),nu="alloy.item-hover",Jh="alloy.item-focus",u5="alloy.item-toggled",d5=o=>{(Ms(o.element).isNone()||Zn.isFocused(o))&&(Zn.isFocused(o)||Zn.focus(o),Sn(o,nu,{item:o}))},f5=o=>{Sn(o,Jh,{item:o})},lE=te(nu),m5=te(Jh),kC=te(u5),g5=o=>o.role.fold(()=>o.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ae),fP=[At("data"),At("components"),At("dom"),et("hasSubmenu",!1),Io("toggling"),Io("role"),jn("itemBehaviours",[Un,Zn,An,nt]),et("ignoreFocus",!1),et("domModification",{}),Nr("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:g5(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:$n(o.itemBehaviours,[o.toggling.fold(Un.revoke,a=>Un.config(((c,d)=>({aria:{mode:d?"selected":"checked"},...Oo(c,(h,v)=>v!=="exclusive"),onToggled:(h,v)=>{G(c.onToggled)&&c.onToggled(h,v),((w,k)=>{Sn(w,u5,{item:w,state:k})})(h,v)}}))(a,o.role.exists(c=>c==="option")))),Zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:a=>{f5(a)}}),An.config({mode:"execution"}),nt.config({store:{mode:"memory",initialValue:o.data}}),uo("item-type-events",[...Nu(),xt(_n(),d5),xt(tb(),Zn.focus)])]),components:o.components,eventOrder:o.eventOrder})),et("eventOrder",{})],mP=[At("dom"),At("components"),Nr("builder",o=>({dom:o.dom,components:o.components,events:to([$w(tb())])}))],cE=te("item-widget"),uE=te([ll({name:"widget",overrides:o=>({behaviours:Ft([nt.config({store:{mode:"manual",getValue:a=>o.data,setValue:me}})])})})]),h5=[At("uid"),At("data"),At("components"),At("dom"),et("autofocus",!1),et("ignoreFocus",!1),jn("widgetBehaviours",[nt,Zn,An]),et("domModification",{}),Fk(uE()),Nr("builder",o=>{const a=Bk(cE(),o,uE()),c=Mk(cE(),o,a.internals()),d=v=>Br(v,o,"widget").map(w=>(An.focusIn(w),w)),h=(v,w)=>(G1(w.event.target)||o.autofocus&&w.setSource(v.element),D.none());return{dom:o.dom,components:c,domModification:o.domModification,events:to([jc((v,w)=>{d(v).each(k=>{w.stop()})}),xt(_n(),d5),xt(tb(),(v,w)=>{o.autofocus?d(v):Zn.focus(v)})]),behaviours:$n(o.widgetBehaviours,[nt.config({store:{mode:"memory",initialValue:o.data}}),Zn.config({ignore:o.ignoreFocus,onFocus:v=>{f5(v)}}),An.config({mode:"special",focusIn:o.autofocus?v=>{d(v)}:pk(),onLeft:h,onRight:h,onEscape:(v,w)=>Zn.isFocused(v)||o.autofocus?(o.autofocus&&w.setSource(v.element),D.none()):(Zn.focus(v),D.some(!0))})])}})],p5=Xs("type",{widget:h5,item:fP,separator:mP}),dE=te([dC({factory:{sketch:o=>{const a=li("menu.spec item",p5,o);return a.builder(a)}},name:"items",unit:"item",defaults:(o,a)=>po(a,"uid")?a:{...a,uid:mc("item")},overrides:(o,a)=>({type:a.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),b5=te([ws("role"),At("value"),At("items"),At("dom"),At("components"),et("eventOrder",{}),mn("menuBehaviours",[or,nt,Vo,An]),_i("movement",{mode:"menu",moveOnTab:!0},Xs("mode",{grid:[Kw(),Nr("config",(o,a)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:o.focusManager}))],matrix:[Nr("config",(o,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+o.markers.item},previousSelector:a.previousSelector,focusManager:o.focusManager})),At("rowSelector"),et("previousSelector",D.none)],menu:[et("moveOnTab",!0),Nr("config",(o,a)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:a.moveOnTab,focusManager:o.focusManager}))]})),Sa("markers",Tg()),et("fakeFocus",!1),et("focusManager",Uk()),Fo("onHighlight"),Fo("onDehighlight"),et("showMenuRole",!0)]),v5=te("alloy.menu-focus"),Xb=xl({name:"Menu",configFields:b5(),partFields:dE(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.menuBehaviours,[or.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),nt.config({store:{mode:"memory",initialValue:o.value}}),Vo.config({find:D.some}),An.config(o.movement.config(o,o.movement))]),events:to([xt(m5(),(h,v)=>{const w=v.event;h.getSystem().getByDom(w.target).each(k=>{or.highlight(h,k),v.stop(),Sn(h,v5(),{menu:h,item:k})})}),xt(lE(),(h,v)=>{const w=v.event.item;or.highlight(h,w)}),xt(kC(),(h,v)=>{const{item:w,state:k}=v.event;k&&wo(w.element,"role")==="menuitemradio"&&((E,O)=>{const L=aa(E.element,'[role="menuitemradio"][aria-checked="true"]');Zt(L,B=>{Wo(B,O.element)||E.getSystem().getByDom(B).each(H=>{Un.off(H)})})})(h,w)})]),components:a,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),y5=(o,a,c,d)=>cn(c,d).bind(h=>cn(o,h).bind(v=>{const w=y5(o,a,c,v);return D.some([v].concat(w))})).getOr([]),x5=o=>o.type==="prepared"?D.some(o.menu):D.none(),gP=()=>{const o=Dn({}),a=Dn({}),c=Dn({}),d=ir(),h=Dn({}),v=E=>w(E).bind(x5),w=E=>cn(a.get(),E),k=E=>cn(o.get(),E);return{setMenuBuilt:(E,O)=>{a.set({...a.get(),[E]:{type:"prepared",menu:O}})},setContents:(E,O,L,B)=>{d.set(E),o.set(L),a.set(O),h.set(B);const H=((K,Y)=>{const se={};Cn(K,(ae,fe)=>{Zt(ae,ye=>{se[ye]=fe})});const ce=Y,ve=ao(Y,(ae,fe)=>({k:ae,v:fe})),ie=En(ve,(ae,fe)=>[fe].concat(y5(se,ce,ve,fe)));return En(se,ae=>cn(ie,ae).getOr([ae]))})(B,L);c.set(H)},expand:E=>cn(o.get(),E).map(O=>{const L=cn(c.get(),E).getOr([]);return[O].concat(L)}),refresh:E=>cn(c.get(),E),collapse:E=>cn(c.get(),E).bind(O=>O.length>1?D.some(O.slice(1)):D.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const O=h.get();return le(on(O),E)},getPrimary:()=>d.get().bind(v),getMenus:()=>a.get(),clear:()=>{o.set({}),a.set({}),c.set({}),d.clear()},isClear:()=>d.get().isNone(),getTriggeringPath:(E,O)=>{const L=ho(k(E).toArray(),B=>v(B).isSome());return cn(c.get(),E).bind(B=>{const H=Ke(L.concat(B));return(K=>{const Y=[];for(let se=0;se<K.length;se++){const ce=K[se];if(!ce.isSome())return D.none();Y.push(ce.getOrDie())}return D.some(Y)})(Ko(H,(K,Y)=>((se,ce,ve)=>v(se).bind(ie=>(ae=>ur(o.get(),(fe,ye)=>fe===ae))(se).bind(ae=>ce(ae).map(fe=>({triggeredMenu:ie,triggeringItem:fe,triggeringPath:ve})))))(K,O,H.slice(0,Y+1)).fold(()=>Wr(d.get(),K)?[]:[D.none()],se=>[D.some(se)])))})}}},hP=x5,ou=fn("tiered-menu-item-highlight"),pP=fn("tiered-menu-item-dehighlight");var Wi;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Wi||(Wi={}));const Jb=te("collapse-item"),Kg=eu({name:"TieredMenu",configFields:[ci("onExecute"),ci("onEscape"),Tu("onOpenMenu"),Tu("onOpenSubmenu"),Fo("onRepositionMenu"),Fo("onCollapseMenu"),et("highlightOnOpen",Wi.HighlightMenuAndItem),rc("data",[At("primary"),At("menus"),At("expansions")]),et("fakeFocus",!1),Fo("onHighlightItem"),Fo("onDehighlightItem"),Fo("onHover"),Og(),At("dom"),et("navigateOnHover",!0),et("stayInDom",!1),mn("tmenuBehaviours",[An,or,Vo,zn]),et("eventOrder",{})],apis:{collapseMenu:(o,a)=>{o.collapseMenu(a)},highlightPrimary:(o,a)=>{o.highlightPrimary(a)},repositionMenus:(o,a)=>{o.repositionMenus(a)}},factory:(o,a)=>{const c=ir(),d=gP(),h=ae=>nt.getValue(ae).value,v=ae=>En(o.data.menus,(fe,ye)=>Ko(fe.items,_e=>_e.type==="separator"?[]:[_e.data.value])),w=or.highlight,k=(ae,fe)=>{w(ae,fe),or.getHighlighted(fe).orThunk(()=>or.getFirst(fe)).each(ye=>{o.fakeFocus?or.highlight(fe,ye):ns(ae,ye.element,tb())})},E=(ae,fe)=>Pa(bt(fe,ye=>ae.lookupMenu(ye).bind(_e=>_e.type==="prepared"?D.some(_e.menu):D.none()))),O=(ae,fe,ye)=>{const _e=E(fe,fe.otherMenus(ye));Zt(_e,Le=>{zl(Le.element,[o.markers.backgroundMenu]),o.stayInDom||zn.remove(ae,Le)})},L=(ae,fe)=>{const ye=(_e=>c.get().getOrThunk(()=>{const Le={},Xe=aa(_e.element,`.${o.markers.item}`),_t=ho(Xe,vt=>wo(vt,"aria-haspopup")==="true");return Zt(_t,vt=>{_e.getSystem().getByDom(vt).each(gt=>{const Bt=h(gt);Le[Bt]=gt})}),c.set(Le),Le}))(ae);Cn(ye,(_e,Le)=>{const Xe=Qe(fe,Le);Jt(_e.element,"aria-expanded",Xe)})},B=(ae,fe,ye)=>D.from(ye[0]).bind(_e=>fe.lookupMenu(_e).bind(Le=>{if(Le.type==="notbuilt")return D.none();{const Xe=Le.menu,_t=E(fe,ye.slice(1));return Zt(_t,vt=>{us(vt.element,o.markers.backgroundMenu)}),nn(Xe.element)||zn.append(ae,Hi(Xe)),zl(Xe.element,[o.markers.backgroundMenu]),k(ae,Xe),O(ae,fe,ye),D.some(Xe)}}));let H;(function(ae){ae[ae.HighlightSubmenu=0]="HighlightSubmenu",ae[ae.HighlightParent=1]="HighlightParent"})(H||(H={}));const K=(ae,fe,ye=H.HighlightSubmenu)=>{if(fe.hasConfigured(Kn)&&Kn.isDisabled(fe))return D.some(fe);{const _e=h(fe);return d.expand(_e).bind(Le=>(L(ae,Le),D.from(Le[0]).bind(Xe=>d.lookupMenu(Xe).bind(_t=>{const vt=((gt,Bt,sn)=>{if(sn.type==="notbuilt"){const vn=gt.getSystem().build(sn.nbMenu());return d.setMenuBuilt(Bt,vn),vn}return sn.menu})(ae,Xe,_t);return nn(vt.element)||zn.append(ae,Hi(vt)),o.onOpenSubmenu(ae,fe,vt,Ke(Le)),ye===H.HighlightSubmenu?(or.highlightFirst(vt),B(ae,d,Le)):(or.dehighlightAll(vt),D.some(fe))}))))}},Y=(ae,fe)=>{const ye=h(fe);return d.collapse(ye).bind(_e=>(L(ae,_e),B(ae,d,_e).map(Le=>(o.onCollapseMenu(ae,fe,Le),Le))))},se=ae=>(fe,ye)=>Ou(ye.getSource(),`.${o.markers.item}`).bind(_e=>fe.getSystem().getByDom(_e).toOptional().bind(Le=>ae(fe,Le).map(Ne))),ce=to([xt(v5(),(ae,fe)=>{const ye=fe.event.item;d.lookupItem(h(ye)).each(()=>{const _e=fe.event.menu;or.highlight(ae,_e);const Le=h(fe.event.item);d.refresh(Le).each(Xe=>O(ae,d,Xe))})}),jc((ae,fe)=>{const ye=fe.event.target;ae.getSystem().getByDom(ye).each(_e=>{h(_e).indexOf("collapse-item")===0&&Y(ae,_e),K(ae,_e,H.HighlightSubmenu).fold(()=>{o.onExecute(ae,_e)},me)})}),Zr((ae,fe)=>{(ye=>{const _e=((Xe,_t,vt)=>En(vt,(gt,Bt)=>{const sn=()=>Xb.sketch({...gt,value:Bt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(vn,In)=>{Sn(vn,ou,{menuComp:vn,itemComp:In})},onDehighlight:(vn,In)=>{Sn(vn,pP,{menuComp:vn,itemComp:In})},focusManager:o.fakeFocus?YM():Uk()});return Bt===_t?{type:"prepared",menu:Xe.getSystem().build(sn())}:{type:"notbuilt",nbMenu:sn}}))(ye,o.data.primary,o.data.menus),Le=v();return d.setContents(o.data.primary,_e,o.data.expansions,Le),d.getPrimary()})(ae).each(ye=>{zn.append(ae,Hi(ye)),o.onOpenMenu(ae,ye),o.highlightOnOpen===Wi.HighlightMenuAndItem?k(ae,ye):o.highlightOnOpen===Wi.HighlightJustMenu&&w(ae,ye)})}),xt(ou,(ae,fe)=>{o.onHighlightItem(ae,fe.event.menuComp,fe.event.itemComp)}),xt(pP,(ae,fe)=>{o.onDehighlightItem(ae,fe.event.menuComp,fe.event.itemComp)}),...o.navigateOnHover?[xt(lE(),(ae,fe)=>{const ye=fe.event.item;((_e,Le)=>{const Xe=h(Le);d.refresh(Xe).bind(_t=>(L(_e,_t),B(_e,d,_t)))})(ae,ye),K(ae,ye,H.HighlightParent),o.onHover(ae,ye)})]:[]]),ve=ae=>or.getHighlighted(ae).bind(or.getHighlighted),ie={collapseMenu:ae=>{ve(ae).each(fe=>{Y(ae,fe)})},highlightPrimary:ae=>{d.getPrimary().each(fe=>{k(ae,fe)})},repositionMenus:ae=>{d.getPrimary().bind(ye=>ve(ae).bind(_e=>{const Le=h(_e),Xe=bi(d.getMenus()),_t=Pa(bt(Xe,hP));return d.getTriggeringPath(Le,vt=>((gt,Bt,sn)=>It(Bt,vn=>{if(!vn.getSystem().isConnected())return D.none();const In=or.getCandidates(vn);return J(In,qn=>h(qn)===sn)}))(0,_t,vt))}).map(_e=>({primary:ye,triggeringPath:_e}))).fold(()=>{(ye=>D.from(ye.components()[0]).filter(_e=>wo(_e.element,"role")==="menu"))(ae).each(ye=>{o.onRepositionMenu(ae,ye,[])})},({primary:ye,triggeringPath:_e})=>{o.onRepositionMenu(ae,ye,_e)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.tmenuBehaviours,[An.config({mode:"special",onRight:se((ae,fe)=>G1(fe.element)?D.none():K(ae,fe,H.HighlightSubmenu)),onLeft:se((ae,fe)=>G1(fe.element)?D.none():Y(ae,fe)),onEscape:se((ae,fe)=>Y(ae,fe).orThunk(()=>o.onEscape(ae,fe).map(()=>ae))),focusIn:(ae,fe)=>{d.getPrimary().each(ye=>{ns(ae,ye.element,tb())})}}),or.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Vo.config({find:ae=>or.getHighlighted(ae)}),zn.config({})]),eventOrder:o.eventOrder,apis:ie,events:ce}},extraApis:{tieredData:(o,a,c)=>({primary:o,menus:a,expansions:c}),singleData:(o,a)=>({primary:o,menus:Uc(o,a),expansions:{}}),collapseItem:o=>({value:fn(Jb()),meta:{text:o}})}}),os=eu({name:"InlineView",configFields:[At("lazySink"),Fo("onShow"),Fo("onHide"),$c("onEscape"),mn("inlineBehaviours",[T,nt,al]),gs("fireDismissalEventInstead",[et("event",_g())]),gs("fireRepositionEventInstead",[et("event",ef())]),et("getRelated",D.none),et("isExtraPart",Ce),et("eventOrder",D.none)],factory:(o,a)=>{const c=(w,k,E,O)=>{const L=o.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>Ya.positionWithinBounds(L,w,E,O())),nt.setValue(w,D.some({mode:"position",config:E,getBounds:O}))},d=(w,k,E,O)=>{const L=((B,H,K,Y,se)=>{const ce=()=>B.lazySink(H),ve=Y.type==="horizontal"?{layouts:{onLtr:()=>R1(),onRtl:()=>N1()}}:{},ie=ae=>(fe=>fe.length===2)(ae)?ve:{};return Kg.sketch({dom:{tag:"div"},data:Y.data,markers:Y.menu.markers,highlightOnOpen:Y.menu.highlightOnOpen,fakeFocus:Y.menu.fakeFocus,onEscape:()=>(T.close(H),B.onEscape.map(ae=>ae(H)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(ae,fe)=>{Ya.positionWithinBounds(ce().getOrDie(),fe,K,se())},onOpenSubmenu:(ae,fe,ye,_e)=>{const Le=ce().getOrDie();Ya.position(Le,ye,{anchor:{type:"submenu",item:fe,...ie(_e)}})},onRepositionMenu:(ae,fe,ye)=>{const _e=ce().getOrDie();Ya.positionWithinBounds(_e,fe,K,se()),Zt(ye,Le=>{const Xe=ie(Le.triggeringPath);Ya.position(_e,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem,...Xe}})})}})})(o,w,k,E,O);T.open(w,L),nt.setValue(w,D.some({mode:"menu",menu:L}))},h=w=>{T.isOpen(w)&&nt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(Kg.repositionMenus);break;case"position":const E=o.lazySink(w).getOrDie();Ya.positionWithinBounds(E,w,k.config,k.getBounds())}})},v={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const O=D.none;c(w,k,E,O)},showWithinBounds:c,showMenuAt:(w,k,E)=>{d(w,k,E,D.none)},showMenuWithinBounds:d,hide:w=>{T.isOpen(w)&&(nt.setValue(w,D.none()),T.close(w))},getContent:w=>T.getState(w),reposition:h,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:co(o.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>sl(k,E)||((O,L)=>o.getRelated(O).exists(B=>sl(B,L)))(w,E),getAttachPoint:w=>o.lazySink(w).getOrDie(),onOpen:w=>{o.onShow(w)},onClose:w=>{o.onHide(w)}}),nt.config({store:{mode:"memory",initialValue:D.none()}}),al.config({channels:{...oe({isExtraPart:a.isExtraPart,...o.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...De({...o.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:h})}})]),eventOrder:o.eventOrder,apis:v}},apis:{showAt:(o,a,c,d)=>{o.showAt(a,c,d)},showWithinBounds:(o,a,c,d,h)=>{o.showWithinBounds(a,c,d,h)},showMenuAt:(o,a,c,d)=>{o.showMenuAt(a,c,d)},showMenuWithinBounds:(o,a,c,d,h)=>{o.showMenuWithinBounds(a,c,d,h)},hide:(o,a)=>{o.hide(a)},isOpen:(o,a)=>o.isOpen(a),getContent:(o,a)=>o.getContent(a),setContent:(o,a,c)=>{o.setContent(a,c)},reposition:(o,a)=>{o.reposition(a)}}});var Iu,Bx,EC=tinymce.util.Tools.resolve("tinymce.util.Delay"),nv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),w5=tinymce.util.Tools.resolve("tinymce.EditorManager"),_f=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Iu||(Iu={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(Bx||(Bx={}));const wr=o=>a=>a.options.get(o),Mx=o=>a=>D.from(o(a)),C5=o=>{const a=_f.deviceType.isPhone(),c=_f.deviceType.isTablet()||a,d=o.options.register,h=w=>p(w)||w===!1,v=w=>p(w)||ee(w);d("skin",{processor:w=>p(w)||w===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(o.getElement().offsetHeight,400)}),d("width",{processor:v,default:nv.DOM.getStyle(o.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:w=>p(w)||R(w),default:!a}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:w=>R(w)||p(w)||M(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),nr(9,w=>{d("toolbar"+(w+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Bx.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:o.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:h,default:"#top"}),d("anchor_bottom",{processor:h,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:w=>w==="both"||R(w),default:!_f.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},fE=wr("readonly"),Px=wr("height"),Lx=wr("width"),Fx=Mx(wr("min_width")),ov=Mx(wr("min_height")),rv=Mx(wr("max_width")),AC=Mx(wr("max_height")),sv=Mx(wr("style_formats")),TC=wr("style_formats_merge"),_5=wr("style_formats_autohide"),mE=wr("content_langs"),S5=wr("removed_menuitems"),Qb=wr("toolbar_mode"),OC=wr("toolbar_groups"),Qh=wr("toolbar_location"),gE=wr("fixed_toolbar_container"),bP=wr("fixed_toolbar_container_target"),k5=wr("toolbar_persist"),hE=wr("toolbar_sticky_offset"),qg=wr("menubar"),av=wr("toolbar"),DC=wr("file_picker_callback"),zx=wr("file_picker_validator_handler"),pE=wr("font_size_input_default_unit"),Hx=wr("file_picker_types"),RC=wr("typeahead_urls"),E5=wr("anchor_top"),A5=wr("anchor_bottom"),Sf=wr("draggable_modal"),T5=wr("statusbar"),O5=wr("elementpath"),xc=wr("branding"),Xa=wr("resize"),D5=wr("paste_as_text"),NC=wr("sidebar_show"),R5=wr("promotion"),bE=wr("help_accessibility"),IC=wr("default_font_stack"),ep=o=>o.options.get("skin")===!1,Vx=o=>o.options.get("menubar")!==!1,BC=o=>{const a=o.options.get("skin_url");if(ep(o))return a;if(a)return o.documentBaseURI.toAbsolute(a);{const c=o.options.get("skin");return w5.baseURL+"/skins/ui/"+c}},MC=o=>D.from(o.options.get("skin_url")),N5=o=>o.options.get("line_height_formats").split(" "),$x=o=>{const a=av(o),c=p(a),d=M(a)&&a.length>0;return!Ux(o)&&(d||c||a===!0)},PC=o=>{const a=nr(9,d=>o.options.get("toolbar"+(d+1))),c=ho(a,p);return Uo(c.length>0,c)},Ux=o=>PC(o).fold(()=>{const a=av(o);return he(a,p)&&a.length>0},Ne),vE=o=>Qh(o)===Bx.bottom,yE=o=>{var a;if(!o.inline)return D.none();const c=(a=gE(o))!==null&&a!==void 0?a:"";if(c.length>0)return Xr(dn(),c);const d=bP(o);return $(d)?D.some(Qt(d)):D.none()},e0=o=>o.inline&&yE(o).isSome(),LC=o=>yE(o).getOrThunk(()=>je(ot(Qt(o.getElement())))),FC=o=>o.inline&&!Vx(o)&&!$x(o)&&!Ux(o),Gg=o=>(o.options.get("toolbar_sticky")||o.inline)&&!e0(o)&&!FC(o),Yg=o=>!e0(o)&&o.options.get("ui_mode")==="split",tp=o=>{const a=o.options.get("menu");return En(a,c=>({...c,items:c.items}))};var Wx=Object.freeze({__proto__:null,get ToolbarMode(){return Iu},get ToolbarLocation(){return Bx},register:C5,getSkinUrl:BC,getSkinUrlOption:MC,isReadOnly:fE,isSkinDisabled:ep,getHeightOption:Px,getWidthOption:Lx,getMinWidthOption:Fx,getMinHeightOption:ov,getMaxWidthOption:rv,getMaxHeightOption:AC,getUserStyleFormats:sv,shouldMergeStyleFormats:TC,shouldAutoHideStyleFormats:_5,getLineHeightFormats:N5,getContentLanguages:mE,getRemovedMenuItems:S5,isMenubarEnabled:Vx,isMultipleToolbars:Ux,isToolbarEnabled:$x,isToolbarPersist:k5,getMultipleToolbarsOption:PC,getUiContainer:LC,useFixedContainer:e0,isSplitUiMode:Yg,getToolbarMode:Qb,isDraggableModal:Sf,isDistractionFree:FC,isStickyToolbar:Gg,getStickyToolbarOffset:hE,getToolbarLocation:Qh,isToolbarLocationBottom:vE,getToolbarGroups:OC,getMenus:tp,getMenubar:qg,getToolbar:av,getFilePickerCallback:DC,getFilePickerTypes:Hx,useTypeaheadUrls:RC,getAnchorTop:E5,getAnchorBottom:A5,getFilePickerValidatorHandler:zx,getFontSizeInputDefaultUnit:pE,useStatusBar:T5,useElementPath:O5,promotionEnabled:R5,useBranding:xc,getResize:Xa,getPasteAsText:D5,getSidebarShow:NC,useHelpAccessibility:bE,getDefaultFontStack:IC});const vP=["visible","hidden","clip"],I5=o=>ec(o).length>0&&!Qe(vP,o),B5=o=>{if(Ji(o)){const a=as(o,"overflow-x"),c=as(o,"overflow-y");return I5(a)||I5(c)}return!1},np=(o,a)=>Yg(o)?((c,d)=>{const h=Zh(d,B5),v=h.length===0?Lt(d).map(Yt).map(w=>Zh(w,B5)).getOr([]):h;return $t(v).map(w=>({element:w,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(c)}))})(o,a):D.none(),op=o=>{const a=[...bt(o.others,js),Ca()];return o.isFullscreen()?Ca():((c,d)=>Rn(d,(h,v)=>nd(h,v),c))(js(o.element),a)},Ti=eu({name:"Button",factory:o=>{const a=tv(o.action),c=o.dom.tag,d=h=>cn(o.dom,"attributes").bind(v=>cn(v,h));return{uid:o.uid,dom:o.dom,components:o.components,events:a,behaviours:$n(o.buttonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:d("type").getOr("button"),...d("role").map(h=>({role:h})).getOr({})}:{role:o.role.getOr(d("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[et("uid",void 0),At("dom"),et("components",[]),jn("buttonBehaviours",[Zn,An]),Io("action"),Io("role"),et("eventOrder",{})]}),Im=o=>{const a=El(o),c=vr(a),d=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return Rn(k,(E,O)=>O.name==="class"?E:{...E,[O.name]:O.value},{})})(a),h=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),v=c.length===0?{}:{innerHtml:ud(a)};return{tag:Ni(a),classes:h,attributes:d,...v}},tr=o=>{const a=(c=>c.uid!==void 0)(o)&&io(o,"uid")?o.uid:mc("memento");return{get:c=>c.getSystem().getByUid(a).getOrDie(),getOpt:c=>c.getSystem().getByUid(a).toOptional(),asSpec:()=>({...o,uid:a})}};var yP=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({attributes:ad([{key:a.tabAttr,value:"true"}])})}),M5=[et("tabAttr","data-alloy-tabstop")];const Rr=ga({fields:M5,name:"tabstopping",active:yP}),xE=fn("tooltip.exclusive"),Zx=fn("tooltip.show"),jx=fn("tooltip.hide"),Kx=fn("tooltip.immediateHide"),qx=fn("tooltip.immediateShow"),P5=(o,a,c)=>{o.getSystem().broadcastOn([xE],{})};var xP=Object.freeze({__proto__:null,hideAllExclusive:P5,immediateOpenClose:(o,a,c,d)=>go(o,d?qx:Kx),isEnabled:(o,a,c)=>c.isEnabled(),setComponents:(o,a,c,d)=>{c.getTooltip().each(h=>{h.getSystem().isConnected()&&zn.set(h,d)})},setEnabled:(o,a,c,d)=>c.setEnabled(d)}),wP=Object.freeze({__proto__:null,events:(o,a)=>{const c=v=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&($i(w),o.onHide(v,w),a.clearTooltip())}),a.clearTimer()},d=v=>{if(!a.isShowing()&&a.isEnabled()){P5(v);const w=o.lazySink(v).getOrDie(),k=v.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:to(o.mode==="normal"?[xt(_n(),E=>{go(v,Zx)}),xt(so(),E=>{go(v,jx)})]:[]),behaviours:Ft([zn.config({})])});a.setTooltip(k),vf(w,k),o.onShow(v,k),Ya.position(w,k,{anchor:o.anchor(v)})}},h=v=>{a.getTooltip().each(w=>{const k=o.lazySink(v).getOrDie();Ya.position(k,w,{anchor:o.anchor(v)})})};return to(br([[u1(v=>{o.onSetup(v)}),xt(Zx,v=>{a.resetTimer(()=>{d(v)},o.delayForShow())}),xt(jx,v=>{a.resetTimer(()=>{c(v)},o.delayForHide())}),xt(qx,v=>{a.resetTimer(()=>{d(v)},0)}),xt(Kx,v=>{a.resetTimer(()=>{c(v)},0)}),xt(Ll(),(v,w)=>{const k=w;k.universal||Qe(k.channels,xE)&&c(v)}),Au(v=>{c(v)})],(()=>{switch(o.mode){case"normal":return[xt(Jo(),v=>{go(v,qx)}),xt(Oh(),v=>{go(v,Kx)}),xt(_n(),v=>{go(v,Zx)}),xt(so(),v=>{go(v,jx)})];case"follow-highlight":return[xt(Oy(),(v,w)=>{go(v,Zx)}),xt(tf(),v=>{go(v,jx)})];case"children-normal":return[xt(Jo(),(v,w)=>{Ms(v.element).each(k=>{Nc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,qx)},E=>{a.isShowing()&&(o.onShow(v,E),h(v))})})}),xt(Oh(),v=>{Ms(v.element).fold(()=>{go(v,Kx)},me)}),xt(_n(),v=>{Xr(v.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{go(v,Zx)},k=>{a.isShowing()&&(o.onShow(v,k),h(v))})})}),xt(so(),v=>{Xr(v.element,"[data-mce-tooltip]:hover").fold(()=>{go(v,jx)},me)})];default:return[xt(Jo(),(v,w)=>{Ms(v.element).each(k=>{Nc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,qx)},E=>{a.isShowing()&&(o.onShow(v,E),h(v))})})}),xt(Oh(),v=>{Ms(v.element).fold(()=>{go(v,Kx)},me)})]}})()]))}}),CP=[At("lazySink"),At("tooltipDom"),et("exclusive",!0),et("tooltipComponents",[]),Fr("delayForShow",te(300)),Fr("delayForHide",te(300)),Fr("onSetup",me),sc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),et("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:te([Bs,ds,bs,Vs,vs,xr]),onRtl:te([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})),Fo("onHide"),Fo("onShow")],_P=Object.freeze({__proto__:null,init:()=>{const o=Dn(!0),a=ir(),c=ir(),d=()=>{a.on(clearTimeout)},h=te("not-implemented");return ma({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:d,resetTimer:(v,w)=>{d(),a.set(setTimeout(v,w))},readState:h,isEnabled:()=>o.get(),setEnabled:v=>o.set(v)})}});const Us=ga({fields:CP,name:"tooltipping",active:wP,state:_P,apis:xP}),{entries:L5,setPrototypeOf:wE,isFrozen:F5,getPrototypeOf:z5,getOwnPropertyDescriptor:SP}=Object;let{freeze:$l,seal:kf,create:H5}=Object,{apply:CE,construct:_E}=typeof Reflect<"u"&&Reflect;CE||(CE=function(o,a,c){return o.apply(a,c)}),$l||($l=function(o){return o}),kf||(kf=function(o){return o}),_E||(_E=function(o,a){return new o(...a)});const SE=xd(Array.prototype.forEach),kP=xd(Array.prototype.pop),Gx=xd(Array.prototype.push),zC=xd(String.prototype.toLowerCase),HC=xd(String.prototype.toString),EP=xd(String.prototype.match),rn=xd(String.prototype.replace),t0=xd(String.prototype.indexOf),AP=xd(String.prototype.trim),ru=xd(RegExp.prototype.test),rp=(VC=TypeError,function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return _E(VC,a)});var VC;function xd(o){return function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return CE(o,a,d)}}function kr(o,a,c){var d;c=(d=c)!==null&&d!==void 0?d:zC,wE&&wE(o,null);let h=a.length;for(;h--;){let v=a[h];if(typeof v=="string"){const w=c(v);w!==v&&(F5(a)||(a[h]=w),v=w)}o[v]=!0}return o}function iv(o){const a=H5(null);for(const[c,d]of L5(o))a[c]=d;return a}function $C(o,a){for(;o!==null;){const c=SP(o,a);if(c){if(c.get)return xd(c.get);if(typeof c.value=="function")return xd(c.value)}o=z5(o)}return function(c){return console.warn("fallback value for",c),null}}const kE=$l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yx=$l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),n0=$l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),V5=$l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),EE=$l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),TP=$l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$5=$l(["#text"]),OP=$l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),UC=$l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U5=$l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),WC=$l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),DP=kf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),RP=kf(/<%[\w\W]*|[\w\W]*%>/gm),AE=kf(/\${[\w\W]*}/gm),NP=kf(/^data-[\-\w.\u00B7-\uFFFF]/),IP=kf(/^aria-[\-\w]+$/),W5=kf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),BP=kf(/^(?:\w+script|data):/i),MP=kf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bm=kf(/^html$/i);var Xx=Object.freeze({__proto__:null,MUSTACHE_EXPR:DP,ERB_EXPR:RP,TMPLIT_EXPR:AE,DATA_ATTR:NP,ARIA_ATTR:IP,IS_ALLOWED_URI:W5,IS_SCRIPT_OR_DATA:BP,ATTR_WHITESPACE:MP,DOCTYPE_NAME:Bm});const PP=()=>typeof window>"u"?null:window;var LP=function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PP();const c=at=>o(at);if(c.version="3.0.5",c.removed=[],!a||!a.document||a.document.nodeType!==9)return c.isSupported=!1,c;const d=a.document,h=d.currentScript;let{document:v}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:O,NodeFilter:L,NamedNodeMap:B=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:H,DOMParser:K,trustedTypes:Y}=a,se=O.prototype,ce=$C(se,"cloneNode"),ve=$C(se,"nextSibling"),ie=$C(se,"childNodes"),ae=$C(se,"parentNode");if(typeof k=="function"){const at=v.createElement("template");at.content&&at.content.ownerDocument&&(v=at.content.ownerDocument)}let fe,ye="";const{implementation:_e,createNodeIterator:Le,createDocumentFragment:Xe,getElementsByTagName:_t}=v,{importNode:vt}=d;let gt={};c.isSupported=typeof L5=="function"&&typeof ae=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:sn,TMPLIT_EXPR:vn,DATA_ATTR:In,ARIA_ATTR:qn,IS_SCRIPT_OR_DATA:So,ATTR_WHITESPACE:Hr}=Xx;let{IS_ALLOWED_URI:Jr}=Xx,mo=null;const zo=kr({},[...kE,...Yx,...n0,...EE,...$5]);let Fn=null;const Qr=kr({},[...OP,...UC,...U5,...WC]);let Cr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oi=null,Di=null,Oa=!0,ba=!0,ch=!1,Fv=!0,Ep=!1,uh=!1,rw=!1,Ap=!1,Gm=!1,D0=!1,R0=!1,zv=!0,OS=!1,sw=!0,Tp=!1,Ym={},dh=null;const aw=kr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let iw=null;const Yo=kr({},["audio","video","img","source","image","track"]);let Xm=null;const Td=kr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),N0="http://www.w3.org/1998/Math/MathML",DS="http://www.w3.org/2000/svg",fh="http://www.w3.org/1999/xhtml";let Hv=fh,xT=!1,RS=null;const Uz=kr({},[N0,DS,fh],HC);let Vv;const Wz=["application/xhtml+xml","text/html"];let dl,I0=null;const Zz=v.createElement("form"),bB=function(at){return at instanceof RegExp||at instanceof Function},NS=function(at){if(!I0||I0!==at){if(at&&typeof at=="object"||(at={}),at=iv(at),Vv=Vv=Wz.indexOf(at.PARSER_MEDIA_TYPE)===-1?"text/html":at.PARSER_MEDIA_TYPE,dl=Vv==="application/xhtml+xml"?HC:zC,mo="ALLOWED_TAGS"in at?kr({},at.ALLOWED_TAGS,dl):zo,Fn="ALLOWED_ATTR"in at?kr({},at.ALLOWED_ATTR,dl):Qr,RS="ALLOWED_NAMESPACES"in at?kr({},at.ALLOWED_NAMESPACES,HC):Uz,Xm="ADD_URI_SAFE_ATTR"in at?kr(iv(Td),at.ADD_URI_SAFE_ATTR,dl):Td,iw="ADD_DATA_URI_TAGS"in at?kr(iv(Yo),at.ADD_DATA_URI_TAGS,dl):Yo,dh="FORBID_CONTENTS"in at?kr({},at.FORBID_CONTENTS,dl):aw,Oi="FORBID_TAGS"in at?kr({},at.FORBID_TAGS,dl):{},Di="FORBID_ATTR"in at?kr({},at.FORBID_ATTR,dl):{},Ym="USE_PROFILES"in at&&at.USE_PROFILES,Oa=at.ALLOW_ARIA_ATTR!==!1,ba=at.ALLOW_DATA_ATTR!==!1,ch=at.ALLOW_UNKNOWN_PROTOCOLS||!1,Fv=at.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ep=at.SAFE_FOR_TEMPLATES||!1,uh=at.WHOLE_DOCUMENT||!1,Gm=at.RETURN_DOM||!1,D0=at.RETURN_DOM_FRAGMENT||!1,R0=at.RETURN_TRUSTED_TYPE||!1,Ap=at.FORCE_BODY||!1,zv=at.SANITIZE_DOM!==!1,OS=at.SANITIZE_NAMED_PROPS||!1,sw=at.KEEP_CONTENT!==!1,Tp=at.IN_PLACE||!1,Jr=at.ALLOWED_URI_REGEXP||W5,Hv=at.NAMESPACE||fh,Cr=at.CUSTOM_ELEMENT_HANDLING||{},at.CUSTOM_ELEMENT_HANDLING&&bB(at.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Cr.tagNameCheck=at.CUSTOM_ELEMENT_HANDLING.tagNameCheck),at.CUSTOM_ELEMENT_HANDLING&&bB(at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Cr.attributeNameCheck=at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),at.CUSTOM_ELEMENT_HANDLING&&typeof at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Cr.allowCustomizedBuiltInElements=at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ep&&(ba=!1),D0&&(Gm=!0),Ym&&(mo=kr({},[...$5]),Fn=[],Ym.html===!0&&(kr(mo,kE),kr(Fn,OP)),Ym.svg===!0&&(kr(mo,Yx),kr(Fn,UC),kr(Fn,WC)),Ym.svgFilters===!0&&(kr(mo,n0),kr(Fn,UC),kr(Fn,WC)),Ym.mathMl===!0&&(kr(mo,EE),kr(Fn,U5),kr(Fn,WC))),at.ADD_TAGS&&(mo===zo&&(mo=iv(mo)),kr(mo,at.ADD_TAGS,dl)),at.ADD_ATTR&&(Fn===Qr&&(Fn=iv(Fn)),kr(Fn,at.ADD_ATTR,dl)),at.ADD_URI_SAFE_ATTR&&kr(Xm,at.ADD_URI_SAFE_ATTR,dl),at.FORBID_CONTENTS&&(dh===aw&&(dh=iv(dh)),kr(dh,at.FORBID_CONTENTS,dl)),sw&&(mo["#text"]=!0),uh&&kr(mo,["html","head","body"]),mo.table&&(kr(mo,["tbody"]),delete Oi.tbody),at.TRUSTED_TYPES_POLICY){if(typeof at.TRUSTED_TYPES_POLICY.createHTML!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof at.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fe=at.TRUSTED_TYPES_POLICY,ye=fe.createHTML("")}else fe===void 0&&(fe=function(Bn,no){if(typeof Bn!="object"||typeof Bn.createPolicy!="function")return null;let Vr=null;const Ps="data-tt-policy-suffix";no&&no.hasAttribute(Ps)&&(Vr=no.getAttribute(Ps));const qs="dompurify"+(Vr?"#"+Vr:"");try{return Bn.createPolicy(qs,{createHTML:Ws=>Ws,createScriptURL:Ws=>Ws})}catch{return console.warn("TrustedTypes policy "+qs+" could not be created."),null}}(Y,h)),fe!==null&&typeof ye=="string"&&(ye=fe.createHTML(""));$l&&$l(at),I0=at}},vB=kr({},["mi","mo","mn","ms","mtext"]),yB=kr({},["foreignobject","desc","title","annotation-xml"]),Qn=kr({},["title","style","font","a","script"]),Op=kr({},Yx);kr(Op,n0),kr(Op,V5);const IS=kr({},EE);kr(IS,TP);const Dp=function(at){Gx(c.removed,{element:at});try{at.parentNode.removeChild(at)}catch{at.remove()}},$v=function(at,Bn){try{Gx(c.removed,{attribute:Bn.getAttributeNode(at),from:Bn})}catch{Gx(c.removed,{attribute:null,from:Bn})}if(Bn.removeAttribute(at),at==="is"&&!Fn[at])if(Gm||D0)try{Dp(Bn)}catch{}else try{Bn.setAttribute(at,"")}catch{}},wT=function(at){let Bn,no;if(Ap)at="<remove></remove>"+at;else{const qs=EP(at,/^[\r\n\t ]+/);no=qs&&qs[0]}Vv==="application/xhtml+xml"&&Hv===fh&&(at='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+at+"</body></html>");const Vr=fe?fe.createHTML(at):at;if(Hv===fh)try{Bn=new K().parseFromString(Vr,Vv)}catch{}if(!Bn||!Bn.documentElement){Bn=_e.createDocument(Hv,"template",null);try{Bn.documentElement.innerHTML=xT?ye:Vr}catch{}}const Ps=Bn.body||Bn.documentElement;return at&&no&&Ps.insertBefore(v.createTextNode(no),Ps.childNodes[0]||null),Hv===fh?_t.call(Bn,uh?"html":"body")[0]:uh?Bn.documentElement:Ps},CT=function(at){return Le.call(at.ownerDocument||at,at,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},_T=function(at){return typeof E=="object"?at instanceof E:at&&typeof at=="object"&&typeof at.nodeType=="number"&&typeof at.nodeName=="string"},Zu=function(at,Bn,no){gt[at]&&SE(gt[at],Vr=>{Vr.call(c,Bn,no,I0)})},xB=function(at){let Bn;if(Zu("beforeSanitizeElements",at,null),(no=at)instanceof H&&(typeof no.nodeName!="string"||typeof no.textContent!="string"||typeof no.removeChild!="function"||!(no.attributes instanceof B)||typeof no.removeAttribute!="function"||typeof no.setAttribute!="function"||typeof no.namespaceURI!="string"||typeof no.insertBefore!="function"||typeof no.hasChildNodes!="function"))return Dp(at),!0;var no;const Vr=dl(at.nodeName);if(Zu("uponSanitizeElement",at,{tagName:Vr,allowedTags:mo}),at.hasChildNodes()&&!_T(at.firstElementChild)&&(!_T(at.content)||!_T(at.content.firstElementChild))&&ru(/<[/\w]/g,at.innerHTML)&&ru(/<[/\w]/g,at.textContent))return Dp(at),!0;if(!mo[Vr]||Oi[Vr]){if(!Oi[Vr]&&wB(Vr)&&(Cr.tagNameCheck instanceof RegExp&&ru(Cr.tagNameCheck,Vr)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(Vr)))return!1;if(sw&&!dh[Vr]){const Ps=ae(at)||at.parentNode,qs=ie(at)||at.childNodes;if(qs&&Ps)for(let Ws=qs.length-1;Ws>=0;--Ws)Ps.insertBefore(ce(qs[Ws],!0),ve(at))}return Dp(at),!0}return at instanceof O&&!function(Ps){let qs=ae(Ps);qs&&qs.tagName||(qs={namespaceURI:Hv,tagName:"template"});const Ws=zC(Ps.tagName),ia=zC(qs.tagName);return!!RS[Ps.namespaceURI]&&(Ps.namespaceURI===DS?qs.namespaceURI===fh?Ws==="svg":qs.namespaceURI===N0?Ws==="svg"&&(ia==="annotation-xml"||vB[ia]):!!Op[Ws]:Ps.namespaceURI===N0?qs.namespaceURI===fh?Ws==="math":qs.namespaceURI===DS?Ws==="math"&&yB[ia]:!!IS[Ws]:Ps.namespaceURI===fh?!(qs.namespaceURI===DS&&!yB[ia])&&!(qs.namespaceURI===N0&&!vB[ia])&&!IS[Ws]&&(Qn[Ws]||!Op[Ws]):!(Vv!=="application/xhtml+xml"||!RS[Ps.namespaceURI]))}(at)?(Dp(at),!0):Vr!=="noscript"&&Vr!=="noembed"&&Vr!=="noframes"||!ru(/<\/no(script|embed|frames)/i,at.innerHTML)?(Ep&&at.nodeType===3&&(Bn=at.textContent,Bn=rn(Bn,Bt," "),Bn=rn(Bn,sn," "),Bn=rn(Bn,vn," "),at.textContent!==Bn&&(Gx(c.removed,{element:at.cloneNode()}),at.textContent=Bn)),Zu("afterSanitizeElements",at,null),!1):(Dp(at),!0)},ST=function(at,Bn,no){if(zv&&(Bn==="id"||Bn==="name")&&(no in v||no in Zz))return!1;if(!(ba&&!Di[Bn]&&ru(In,Bn))){if(!(Oa&&ru(qn,Bn))){if(!Fn[Bn]||Di[Bn]){if(!(wB(at)&&(Cr.tagNameCheck instanceof RegExp&&ru(Cr.tagNameCheck,at)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(at))&&(Cr.attributeNameCheck instanceof RegExp&&ru(Cr.attributeNameCheck,Bn)||Cr.attributeNameCheck instanceof Function&&Cr.attributeNameCheck(Bn))||Bn==="is"&&Cr.allowCustomizedBuiltInElements&&(Cr.tagNameCheck instanceof RegExp&&ru(Cr.tagNameCheck,no)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(no))))return!1}else if(!Xm[Bn]){if(!ru(Jr,rn(no,Hr,""))){if((Bn!=="src"&&Bn!=="xlink:href"&&Bn!=="href"||at==="script"||t0(no,"data:")!==0||!iw[at])&&!(ch&&!ru(So,rn(no,Hr,"")))){if(no)return!1}}}}}return!0},wB=function(at){return at.indexOf("-")>0},CB=function(at){let Bn,no,Vr,Ps;Zu("beforeSanitizeAttributes",at,null);const{attributes:qs}=at;if(!qs)return;const Ws={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(Ps=qs.length;Ps--;){Bn=qs[Ps];const{name:ia,namespaceURI:Uv}=Bn;no=ia==="value"?Bn.value:AP(Bn.value);const Kz=no;if(Vr=dl(ia),Ws.attrName=Vr,Ws.attrValue=no,Ws.keepAttr=!0,Ws.forceKeepAttr=void 0,Zu("uponSanitizeAttribute",at,Ws),no=Ws.attrValue,Ws.forceKeepAttr)continue;if(!Ws.keepAttr){$v(ia,at);continue}if(!Fv&&ru(/\/>/i,no)){$v(ia,at);continue}Ep&&(no=rn(no,Bt," "),no=rn(no,sn," "),no=rn(no,vn," "));const _B=dl(at.nodeName);if(ST(_B,Vr,no)){if(!OS||Vr!=="id"&&Vr!=="name"||($v(ia,at),no="user-content-"+no),fe&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Uv)switch(Y.getAttributeType(_B,Vr)){case"TrustedHTML":no=fe.createHTML(no);break;case"TrustedScriptURL":no=fe.createScriptURL(no)}if(no!==Kz)try{Uv?at.setAttributeNS(Uv,ia,no):at.setAttribute(ia,no)}catch{$v(ia,at)}}else $v(ia,at)}Zu("afterSanitizeAttributes",at,null)},jz=function at(Bn){let no;const Vr=CT(Bn);for(Zu("beforeSanitizeShadowDOM",Bn,null);no=Vr.nextNode();)Zu("uponSanitizeShadowNode",no,null),xB(no)||(no.content instanceof w&&at(no.content),CB(no));Zu("afterSanitizeShadowDOM",Bn,null)};return c.sanitize=function(at){let Bn,no,Vr,Ps,qs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xT=!at,xT&&(at="<!-->"),typeof at!="string"&&!_T(at)){if(typeof at.toString!="function")throw rp("toString is not a function");if(typeof(at=at.toString())!="string")throw rp("dirty is not a string, aborting")}if(!c.isSupported)return at;if(rw||NS(qs),c.removed=[],typeof at=="string"&&(Tp=!1),Tp){if(at.nodeName){const Uv=dl(at.nodeName);if(!mo[Uv]||Oi[Uv])throw rp("root node is forbidden and cannot be sanitized in-place")}}else if(at instanceof E)Bn=wT("<!---->"),no=Bn.ownerDocument.importNode(at,!0),no.nodeType===1&&no.nodeName==="BODY"||no.nodeName==="HTML"?Bn=no:Bn.appendChild(no);else{if(!Gm&&!Ep&&!uh&&at.indexOf("<")===-1)return fe&&R0?fe.createHTML(at):at;if(Bn=wT(at),!Bn)return Gm?null:R0?ye:""}Bn&&Ap&&Dp(Bn.firstChild);const Ws=CT(Tp?at:Bn);for(;Vr=Ws.nextNode();)xB(Vr)||(Vr.content instanceof w&&jz(Vr.content),CB(Vr));if(Tp)return at;if(Gm){if(D0)for(Ps=Xe.call(Bn.ownerDocument);Bn.firstChild;)Ps.appendChild(Bn.firstChild);else Ps=Bn;return(Fn.shadowroot||Fn.shadowrootmode)&&(Ps=vt.call(d,Ps,!0)),Ps}let ia=uh?Bn.outerHTML:Bn.innerHTML;return uh&&mo["!doctype"]&&Bn.ownerDocument&&Bn.ownerDocument.doctype&&Bn.ownerDocument.doctype.name&&ru(Bm,Bn.ownerDocument.doctype.name)&&(ia="<!DOCTYPE "+Bn.ownerDocument.doctype.name+`>
`+ia),Ep&&(ia=rn(ia,Bt," "),ia=rn(ia,sn," "),ia=rn(ia,vn," ")),fe&&R0?fe.createHTML(ia):ia},c.setConfig=function(at){NS(at),rw=!0},c.clearConfig=function(){I0=null,rw=!1},c.isValidAttribute=function(at,Bn,no){I0||NS({});const Vr=dl(at),Ps=dl(Bn);return ST(Vr,Ps,no)},c.addHook=function(at,Bn){typeof Bn=="function"&&(gt[at]=gt[at]||[],Gx(gt[at],Bn))},c.removeHook=function(at){if(gt[at])return kP(gt[at])},c.removeHooks=function(at){gt[at]&&(gt[at]=[])},c.removeAllHooks=function(){gt={}},c}();const Z5=o=>LP().sanitize(o);var Bu=tinymce.util.Tools.resolve("tinymce.util.I18n");const FP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},j5="temporary-placeholder",TE=o=>()=>cn(o,j5).getOr("!not found!"),sp=(o,a)=>{const c=o.toLowerCase();if(Bu.isRtl()){const d=((h,v)=>du(h,v)?h:((w,k)=>w+k)(h,v))(c,"-rtl");return po(a,d)?d:c}return c},Jx=(o,a)=>cn(a,sp(o,a)),K5=(o,a)=>{const c=a();return Jx(o,c).getOrThunk(TE(c))},ZC=()=>uo("add-focusable",[Zr(o=>{T1(o.element,"svg").each(a=>Jt(a,"focusable","false"))})]),q5=(o,a,c,d)=>{var h,v;const w=(E=>!!Bu.isRtl()&&po(FP,E))(a)?["tox-icon--flip"]:[],k=cn(c,sp(a,c)).or(d).getOrThunk(TE(c));return{dom:{tag:o.tag,attributes:(h=o.attributes)!==null&&h!==void 0?h:{},classes:o.classes.concat(w),innerHtml:k},behaviours:Ft([...(v=o.behaviours)!==null&&v!==void 0?v:[],ZC()])}},wc=(o,a,c,d=D.none())=>q5(a,o,c(),d),zP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},OE=eu({name:"Notification",factory:o=>{const a=fn("notification-text"),c=tr({dom:Im(`<p id=${a}>${Z5(o.backstageProvider.translate(o.text))}</p>`),behaviours:Ft([zn.config({})])}),d=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),h=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),v=tr({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},h(0)],behaviours:Ft([zn.config({})])}),w={updateProgress:(B,H)=>{B.getSystem().isConnected()&&v.getOpt(B).each(K=>{zn.set(K,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(H)]},h(H)])})},updateText:(B,H)=>{if(B.getSystem().isConnected()){const K=c.get(B);zn.set(K,[Cs(H)])}}},k=br([o.icon.toArray(),o.level.toArray(),o.level.bind(B=>D.from(zP[B])).toArray()]),E=tr(Ti.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[wc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:Ft([Rr.config({}),Us.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:B=>{o.onAction(B)}})),O=((B,H,K)=>{const Y=K(),se=J(B,ce=>po(Y,sp(ce,Y)));return q5({tag:"div",classes:["tox-notification__icon"]},se.getOr(j5),Y,D.none())})(k,0,o.iconProvider),L=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:Ft([zn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:o.level.map(B=>["tox-notification","tox-notification--in",`tox-notification--${B}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Ft([Rr.config({}),Zn.config({}),An.config({mode:"special",onEscape:B=>(o.onAction(B),D.some(!0))})]),components:L.concat(o.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Io("level"),At("progress"),Io("icon"),At("onAction"),At("text"),At("iconProvider"),At("backstageProvider")],apis:{updateProgress:(o,a,c)=>{o.updateProgress(a,c)},updateText:(o,a,c)=>{o.updateText(a,c)}}});var G5=(o,a,c,d)=>{const h=a.backstage.shared,v=()=>Qt(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),w=()=>{const E=js(v());return D.some(E)},k=E=>{w().each(O=>{Zt(E,L=>{er(L.element,"width"),ua(L.element)>O.width&&Jn(L.element,"width",O.width+"px")})})};return{open:(E,O,L)=>{const B=()=>{d.on(Y=>{O();const se=L();(ce=>{zn.remove(ce,H),K()})(Y),((ce,ve)=>{vr(ce.element).length===0?((ie,ae)=>{os.hide(ie),d.clear(),ae&&o.focus()})(ce,ve):((ie,ae)=>{ae&&An.focusIn(ie)})(ce,ve)})(Y,se)})},H=Ea(OE.sketch({text:E.text,level:Qe(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:h.providers.icons,backstageProvider:h.providers}));if(d.isSet()){const Y=Hi(H);d.on(se=>{zn.append(se,Y),os.reposition(se),Yr.refresh(se),k(se.components())})}else{const Y=Ea(os.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:h.getSink,fireDismissalEventInstead:{},...h.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([An.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zn.config({}),...Gg(o)&&!h.header.isPositionedAtTop()?[]:[Yr.config({contextual:{lazyContext:()=>D.some(js(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ie=>np(o,ie.element).map(ae=>({bounds:op(ae),optScrollEnv:D.some({currentScrollTop:ae.element.dom.scrollTop,scrollElmTop:bl(ae.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:D.none()}))})]])})),se=Hi(H),ce={maxHeightFunction:Hg()},ve={...h.anchors.banner(),overrides:ce};d.set(Y),c.add(Y),os.showWithinBounds(Y,se,{anchor:ve},w)}ee(E.timeout)&&E.timeout>0&&EC.setEditorTimeout(o,()=>{B()},E.timeout);const K=()=>{d.on(Y=>{os.reposition(Y),Yr.refresh(Y),k(Y.components())})};return{close:B,reposition:K,text:Y=>{OE.updateText(H,Y)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Y=>{OE.updateProgress(H,Y)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},Qx;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Qx||(Qx={}));var Ef=Qx;const jC="tox-menu-nav__js",KC="tox-collection__item",Y5="tox-swatch",X5={normal:jC,color:Y5},J5="tox-collection__item--enabled",Q5="tox-collection__item-icon",e2="tox-collection__item-label",DE="tox-collection__item-caret",Mm="tox-collection__item--active",t2="tox-collection__item-container",n2="tox-collection__item-container--row",ap=o=>cn(X5,o).getOr(jC),d$=o=>o==="color"?"tox-swatches":"tox-menu",RE=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:d$(o),tieredMenu:"tox-tiered-menu"}),o0=o=>{const a=RE(o);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:ap(o)}},eD=(o,a,c)=>{const d=RE(c);return{tag:"div",classes:br([[d.menu,`tox-menu-${a}-column`],o?[d.hasIcons]:[]])}},tD=[Xb.parts.items({})],qC=(o,a,c)=>{const d=RE(c);return{dom:{tag:"div",classes:br([[d.tieredMenu]])},markers:o0(c)}},HP=te([Io("data"),et("inputAttributes",{}),et("inputStyles",{}),et("tag","input"),et("inputClasses",[]),Fo("onSetValue"),et("styles",{}),et("eventOrder",{}),mn("inputBehaviours",[nt,Zn]),et("selectOnFocus",!0)]),VP=o=>Ft([Zn.config({onFocus:o.selectOnFocus?a=>{const c=a.element,d=af(c);c.dom.setSelectionRange(0,d.length)}:me})]),$P=o=>({...VP(o),...co(o.inputBehaviours,[nt.config({store:{mode:"manual",...o.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>af(a.element),setValue:(a,c)=>{af(a.element)!==c&&pm(a.element,c)}},onSetValue:o.onSetValue})])}),nD=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Xg=eu({name:"Input",configFields:HP(),factory:(o,a)=>({uid:o.uid,dom:nD(o),components:[],behaviours:$P(o),eventOrder:o.eventOrder})}),oD=fn("refetch-trigger-event"),rD=fn("redirect-menu-item-interaction"),sD="tox-menu__searcher",o2=o=>Xr(o.element,`.${sD}`).bind(a=>o.getSystem().getByDom(a).toOptional()),aD=o2,iD=o=>({fetchPattern:nt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),lD=o=>{const a=(h,v)=>(v.cut(),D.none()),c=(h,v)=>{const w={interactionEvent:v.event,eventType:v.event.raw.type};return Sn(h,rD,w),D.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[KC]},components:[Xg.sketch({inputClasses:[sD,"tox-textfield"],inputAttributes:{...o.placeholder.map(h=>({placeholder:o.i18n(h)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ft([uo(d,[xt(lm(),h=>{go(h,oD)}),xt(cs(),(h,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),An.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[d,An.name()]}})]}},r2="tox-collection--results__js",cD=o=>{var a;return o.dom?{...o,dom:{...o.dom,attributes:{...(a=o.dom.attributes)!==null&&a!==void 0?a:{},id:fn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},GC=(o,a)=>c=>{const d=pt(c,a);return bt(d,h=>({dom:o,components:h}))},uD=(o,a)=>{const c=[];let d=[];return Zt(o,(h,v)=>{a(h,v)?(d.length>0&&c.push(d),d=[],(po(h.dom,"innerHtml")||h.components&&h.components.length>0)&&d.push(h)):d.push(h)}),d.length>0&&c.push(d),bt(c,h=>({dom:{tag:"div",classes:["tox-collection__group"]},components:h}))},s2=(o,a,c)=>Xb.parts.items({preprocess:d=>{const h=bt(d,c);return o!=="auto"&&o>1?GC({tag:"div",classes:["tox-collection__group"]},o)(h):uD(h,(v,w)=>a[w].type==="separator")}}),NE=(o,a,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[s2(o,a,Ae)]}),a2=o=>On(o,a=>"icon"in a&&a.icon!==void 0),Pm=o=>(console.error(Li(o)),console.log(o),D.none()),UP=(o,a,c,d,h)=>{const v=(w=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Xb.parts.items({preprocess:k=>uD(k,(E,O)=>w[O].type==="separator")})]});var w;return{value:o,dom:v.dom,components:v.components,items:c}},IE=(o,a,c,d,h)=>{if(h.menuType==="color"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Xb.parts.items({preprocess:w!=="auto"?GC({tag:"div",classes:["tox-swatches__row"]},w):Ae})]}]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}if(h.menuType==="normal"&&d==="auto"){const v=NE(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(h.menuType==="normal"||h.menuType==="searchable"){const v=h.menuType!=="searchable"?NE(d,c):h.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const O=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[lD({i18n:Bu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],r2],attributes:{id:O}},components:[s2(w,k,cD)]}]}})(d,c,h.searchMode):((w,k,E=!0)=>{const O=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",r2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[s2(w,k,cD)]}})(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(h.menuType==="listpreview"&&d!=="auto"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Xb.parts.items({preprocess:GC({tag:"div",classes:["tox-collection__group"]},w)})]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}return{value:o,dom:eD(a,d,h.menuType),components:tD,items:c}},ea=ls("type"),BE=ls("name"),ME=ls("label"),Mu=ls("text"),PE=ls("title"),LE=ls("icon"),r0=ls("value"),WP=Ci("fetch"),dD=Ci("getSubmenuItems"),lv=Ci("onAction"),fD=Ci("onItemAction"),ip=Fr("onSetup",()=>me),ZP=ws("name"),lp=ws("text"),jP=ws("role"),Pu=ws("icon"),i2=ws("tooltip"),FE=ws("label"),cv=ws("shortcut"),zE=$c("select"),YC=Hs("active",!1),f$=Hs("borderless",!1),Lu=Hs("enabled",!0),XC=Hs("primary",!1),mD=o=>et("columns",o),Cc=et("meta",{}),HE=Fr("onAction",me),s0=o=>Al("type",o),VE=o=>Ks("name","name",yg(()=>fn(`${o}-name`)),ra),gD=Pn([ea,lp]),KP=Pn([s0("autocompleteitem"),YC,Lu,Cc,r0,lp,Pu]),Lm=[Lu,i2,Pu,lp,ip],$E=Pn([ea,lv,cv].concat(Lm)),hD=o=>is("toolbarbutton",$E,o),l2=[YC].concat(Lm),JC=Pn(l2.concat([ea,lv,cv])),QC=o=>is("ToggleButton",JC,o),pD=[Fr("predicate",Ce),sc("scope","node",["node","editor"]),sc("position","selection",["node","selection","line"])],qP=Lm.concat([s0("contextformbutton"),XC,lv,_a("original",Ae)]),GP=l2.concat([s0("contextformbutton"),XC,lv,_a("original",Ae)]),YP=Lm.concat([s0("contextformbutton")]),XP=l2.concat([s0("contextformtogglebutton")]),JP=Xs("type",{contextformbutton:qP,contextformtogglebutton:GP}),QP=Pn([s0("contextform"),Fr("initValue",te("")),FE,Fi("commands",JP),Os("launch",Xs("type",{contextformbutton:YP,contextformtogglebutton:XP}))].concat(pD)),bD=Pn([s0("contexttoolbar"),ls("items")].concat(pD)),e_=[ea,ls("src"),ws("alt"),fr("classes",[],ra)],e7=Pn(e_),t7=[ea,Mu,ZP,fr("classes",["tox-collection__item-label"],ra)],n7=Pn(t7),vD=om(()=>_u("type",{cardimage:e7,cardtext:n7,cardcontainer:uv})),uv=Pn([ea,Al("direction","horizontal"),Al("align","left"),Al("valign","middle"),Fi("items",vD)]),a0=[Lu,lp,jP,cv,Ks("value","value",yg(()=>fn("menuitem-value")),yl()),Cc],o7=Pn([ea,FE,Fi("items",vD),ip,HE].concat(a0)),UE=Pn([ea,YC,Pu].concat(a0)),yD=[ea,ls("fancytype"),HE],xD=[et("initData",{})].concat(yD),wD=[$c("select"),Si("initData",{},[Hs("allowCustomColors",!0),Al("storageKey","default"),i1("colors",yl())])].concat(yD),CD=Xs("fancytype",{inserttable:xD,colorswatch:wD}),_D=Pn([ea,ip,HE,Pu].concat(a0)),SD=Pn([ea,dD,ip,Pu].concat(a0)),r7=Pn([ea,Pu,YC,ip,lv].concat(a0)),WE=(o,a,c)=>{const d=aa(o.element,"."+c);if(d.length>0){const h=sr(d,v=>{const w=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(d.length);return D.some({numColumns:h,numRows:Math.ceil(d.length/h)})}return D.none()},c2=o=>((a,c)=>Ft([uo(a,c)]))(fn("unnamed-events"),o),t_="silver.readonly",s7=Pn([Sa("readonly",Pl)]),i0=(o,a)=>{const c=o.mainUi.outerContainer.element,d=[o.mainUi.mothership,...o.uiMotherships];a&&Zt(d,h=>{h.broadcastOn([P()],{target:c})}),Zt(d,h=>{h.broadcastOn([t_],{readonly:a})})},kD=(o,a)=>{o.on("init",()=>{o.mode.isReadOnly()&&i0(a,!0)}),o.on("SwitchMode",()=>i0(a,o.mode.isReadOnly())),fE(o)&&o.mode.set("readonly")},ha=()=>al.config({channels:{[t_]:{schema:s7,onReceive:(o,a)=>{Kn.set(o,a.readonly)}}}}),fi=o=>Kn.config({disabled:o}),ED=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),n_=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),u2=(o,a)=>{const c=o.getApi(a);return d=>{d(c)}},cp=(o,a)=>Zr(c=>{u2(o,c)(d=>{const h=o.onSetup(d);G(h)&&a.set(h)})}),Jg=(o,a)=>Au(c=>u2(o,c)(a.get())),AD=(o,a)=>jc((c,d)=>{u2(o,c)(o.onAction),o.triggersSubmenu||a!==Ef.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&go(c,nb()),d.stop())}),a7={[ol()]:["disabling","alloy.base.behaviour","toggling","item-events"]},dv=Pa,fv=(o,a,c,d)=>{const h=Dn(me);return{type:"item",dom:a.dom,components:dv(a.optComponents),data:o.data,eventOrder:a7,hasSubmenu:o.triggersSubmenu,itemBehaviours:Ft([uo("item-events",[AD(o,c),cp(o,h),Jg(o,h)]),(v=()=>!o.enabled||d.isDisabled(),Kn.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),ha(),zn.config({})].concat(o.itemBehaviours))};var v},mv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),o_=o=>{const a=_f.os.isMacOS()||_f.os.isiOS(),c=a?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},d=o.split("+"),h=bt(d,v=>{const w=v.toLowerCase().trim();return po(c,w)?c[w]:v});return a?h.join(""):h.join("+")},ZE=(o,a,c=[Q5])=>wc(o,{tag:"div",classes:c},a),TD=o=>({dom:{tag:"div",classes:[e2]},components:[Cs(Bu.translate(o))]}),jE=(o,a)=>({dom:{tag:"div",classes:a,innerHtml:o}}),OD=(o,a)=>({dom:{tag:"div",classes:[e2]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Cs(Bu.translate(a))]}]}),DD=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Cs(o_(o))]}),RD=o=>ZE("checkmark",o,["tox-collection__item-checkmark"]),ND=o=>{const a=o.map(c=>({attributes:{id:fn("menu-item"),"aria-label":Bu.translate(c)}})).getOr({});return{tag:"div",classes:[jC,KC],...a}},d2=(o,a,c,d=D.none())=>o.presets==="color"?((h,v,w)=>{const k=h.value,E=h.iconContent.map(L=>((B,H,K)=>{const Y=H();return Jx(B,Y).or(K).getOrThunk(TE(Y))})(L,v.icons,w)),O=h.ariaLabel.map(L=>({"aria-label":v.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=Y5,B=E.getOr(""),H={tag:"div",attributes:O,classes:[L]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:B}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:B}:$(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:B}:H})(),optComponents:[]}})(o,a,d):((h,v,w,k)=>{const E={tag:"div",classes:[Q5]},O=w?h.iconContent.map(K=>wc(K,E,v.icons,k)).orThunk(()=>D.some({dom:E})):D.none(),L=h.checkMark,B=D.from(h.meta).fold(()=>TD,K=>po(K,"style")?Ge(OD,K.style):TD),H=h.htmlContent.fold(()=>h.textContent.map(B),K=>D.some(jE(K,[e2])));return{dom:ND(h.ariaLabel),optComponents:[O,H,h.shortcutContent.map(DD),L,h.caret]}})(o,a,c,d),ID=(o,a,c)=>cn(o,"tooltipWorker").map(d=>[Us.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:h=>({type:"submenu",item:h,overrides:{maxHeightFunction:Hg}}),mode:"follow-highlight",onShow:(h,v)=>{d(w=>{Us.setComponents(h,[lf({element:Qt(w)})])})}})]).getOrThunk(()=>c.map(d=>[Us.config({...a.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),KE=(o,a)=>{const c=(d=>nv.DOM.encode(d))(Bu.translate(o));if(a.length>0){const d=new RegExp((h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return c.replace(d,h=>`<span class="tox-autocompleter-highlight">${h}</span>`)}return c},qE=(o,a)=>bt(o,c=>{switch(c.type){case"cardcontainer":return((v,w)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":n2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[t2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(c,qE(c.items,a));case"cardimage":return((v,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:v,alt:k.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const d=c.name.exists(v=>Qe(a.cardText.highlightOn,v)),h=d?D.from(a.cardText.matchText).getOr(""):"";return jE(KE(c.text,h),c.classes)}}),Qg=Ui(cE(),uE()),GE=o=>({value:l0(o)}),YE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,XE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,BD=o=>YE.test(o)||XE.test(o),l0=o=>Tr(o,"#").toUpperCase(),JE=o=>{const a=o.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},f2=o=>{const a=JE(o.red)+JE(o.green)+JE(o.blue);return GE(a)},QE=Math.min,MD=Math.max,r_=Math.round,i7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,PD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,eh=(o,a,c,d)=>({red:o,green:a,blue:c,alpha:d}),m2=o=>{const a=parseInt(o,10);return a.toString()===o&&a>=0&&a<=255},LD=o=>{let a,c,d;const h=(o.hue||0)%360;let v=o.saturation/100,w=o.value/100;if(v=MD(0,QE(v,1)),w=MD(0,QE(w,1)),v===0)return a=c=d=r_(255*w),eh(a,c,d,1);const k=h/60,E=w*v,O=E*(1-Math.abs(k%2-1)),L=w-E;switch(Math.floor(k)){case 0:a=E,c=O,d=0;break;case 1:a=O,c=E,d=0;break;case 2:a=0,c=E,d=O;break;case 3:a=0,c=O,d=E;break;case 4:a=O,c=0,d=E;break;case 5:a=E,c=0,d=O;break;default:a=c=d=0}return a=r_(255*(a+L)),c=r_(255*(c+L)),d=r_(255*(d+L)),eh(a,c,d,1)},wd=o=>{const a=(v=>{const w=(E=>({value:E.value.replace(YE,(L,B,H,K)=>B+B+H+H+K+K)}))(v),k=XE.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(o),c=parseInt(a[1],16),d=parseInt(a[2],16),h=parseInt(a[3],16);return eh(c,d,h,1)},eA=(o,a,c,d)=>{const h=parseInt(o,10),v=parseInt(a,10),w=parseInt(c,10),k=parseFloat(d);return eh(h,v,w,k)},s_=o=>{const a=i7.exec(o);if(a!==null)return D.some(eA(a[1],a[2],a[3],"1"));const c=PD.exec(o);return c!==null?D.some(eA(c[1],c[2],c[3],c[4])):D.none()},FD=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,zD=eh(255,0,0,1),c0=(o,a)=>{o.dispatch("ResizeContent",a)},gv=(o,a)=>{o.dispatch("TextColorChange",a)},HD=(o,a)=>o.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),hv=(o,a)=>()=>{o(),a()},pa=o=>u0(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable())}),Af=(o,a)=>c=>{const d=pa(o)(c),h=((v,w)=>k=>{const E=oc(),O=()=>{k.setActive(v.formatter.match(w));const L=v.formatter.formatChanged(w,k.setActive);E.set(L)};return v.initialized?O():v.once("init",O),()=>{v.off("init",O),E.clear()}})(o,a)(c);return()=>{d(),h()}},u0=(o,a,c)=>d=>{const h=()=>c(d),v=()=>{c(d),o.on(a,h)};return o.initialized?v():o.once("init",v),()=>{o.off("init",v),o.off(a,h)}},VD=o=>a=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,a.format)})},Ul=(o,a)=>()=>o.execCommand(a);var _c=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const a_={},$D=o=>cn(a_,o).getOrThunk(()=>{const a=`tinymce-custom-colors-${o}`,c=_c.getItem(a);if(U(c)){const h=_c.getItem("tinymce-custom-colors");_c.setItem(a,$(h)?h:"[]")}const d=((h,v=10)=>{const w=_c.getItem(h),k=p(w)?JSON.parse(w):[],E=v-(O=k).length<0?O.slice(0,v):O;var O;const L=B=>{E.splice(B,1)};return{add:B=>{((H,K)=>{const Y=gn(H,K);return Y===-1?D.none():D.some(Y)})(E,B).each(L),E.unshift(B),E.length>v&&E.pop(),_c.setItem(h,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return a_[o]=d,d}),tA=(o,a)=>{$D(o).add(a)},pv=(o,a,c)=>({hue:o,saturation:a,value:c}),i_=o=>{let a=0,c=0,d=0;const h=o.red/255,v=o.green/255,w=o.blue/255,k=Math.min(h,Math.min(v,w)),E=Math.max(h,Math.max(v,w));return k===E?(d=k,pv(0,0,100*d)):(a=h===k?3:w===k?1:5,a=60*(a-(h===k?v-w:w===k?h-v:w-h)/(E-k)),c=(E-k)/E,d=E,pv(Math.round(a),Math.round(100*c),Math.round(100*d)))},l_=o=>f2(LD(o)),UD=o=>{return(a=o,BD(a)?D.some({value:l0(a)}):D.none()).orThunk(()=>s_(o).map(f2)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),d.fillStyle="#FFFFFF",d.fillStyle=o,d.fillRect(0,0,1,1);const h=d.getImageData(0,0,1,1).data,v=h[0],w=h[1],k=h[2],E=h[3];return f2(eh(v,w,k,E))});var a},nA="forecolor",oA="hilitecolor",l7=o=>{const a=[];for(let c=0;c<o.length;c+=2)a.push({text:o[c+1],value:"#"+UD(o[c]).value,icon:"checkmark",type:"choiceitem"});return a},Fu=o=>a=>a.options.get(o),g2="#000000",d0=(o,a)=>a===nA&&o.options.isSet("color_map_foreground")?Fu("color_map_foreground")(o):a===oA&&o.options.isSet("color_map_background")?Fu("color_map_background")(o):Fu("color_map")(o),c_=(o,a="default")=>Math.max(5,Math.ceil(Math.sqrt(d0(o,a).length))),WD=(o,a)=>{const c=Fu("color_cols")(o),d=c_(o,a);return c===c_(o)?d:c},rA=(o,a="default")=>Math.round(a===nA?Fu("color_cols_foreground")(o):a===oA?Fu("color_cols_background")(o):Fu("color_cols")(o)),sA=Fu("custom_colors"),ZD=Fu("color_default_foreground"),jD=Fu("color_default_background"),KD=(o,a)=>{const c=Qt(o.selection.getStart()),d=a==="hilitecolor"?Cg(c,h=>{if(Kr(h)){const v=as(h,"background-color");return Uo(s_(v).exists(w=>w.alpha!==0),v)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):as(c,"color");return s_(d).map(h=>"#"+f2(h).value)},u_=o=>{const a="choiceitem",c={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},aA=(o,a,c,d)=>{c==="custom"?YD(o)(h=>{h.each(v=>{tA(a,v),o.execCommand("mceApplyTextcolor",a,v),d(v)})},KD(o,a).getOr(g2)):c==="remove"?(d(""),o.execCommand("mceRemoveTextcolor",a)):(d(c),o.execCommand("mceApplyTextcolor",a,c))},iA=(o,a,c)=>o.concat((d=>bt($D(d).state(),h=>({type:"choiceitem",text:h,icon:"checkmark",value:h})))(a).concat(u_(c))),qD=(o,a,c)=>d=>{d(iA(o,a,c))},lA=(o,a,c)=>{const d=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(d,c)},cA=(o,a)=>{o.setTooltip(a)},GD=(o,a)=>c=>{const d=KD(o,a);return Wr(d,c.toUpperCase())},uA=(o,a,c)=>{if(fu(c))return a==="forecolor"?"Text color":"Background color";const d=a==="forecolor"?"Text color {0}":"Background color {0}",h=iA(d0(o,a),a,!1),v=J(h,w=>w.value===c).getOr({text:""}).text;return o.translate([d,o.translate(v)])},dA=(o,a,c,d)=>{o.ui.registry.addSplitButton(a,{tooltip:uA(o,c,d.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:GD(o,c),columns:rA(o,c),fetch:qD(d0(o,c),c,sA(o)),onAction:h=>{aA(o,c,d.get(),me)},onItemAction:(h,v)=>{aA(o,c,v,w=>{d.set(w),gv(o,{name:a,color:w})})},onSetup:h=>{lA(h,a,d.get());const v=w=>{w.name===a&&(lA(h,w.name,w.color),cA(h,uA(o,c,w.color)))};return o.on("TextColorChange",v),hv(pa(o)(h),()=>{o.off("TextColorChange",v)})}})},bv=(o,a,c,d,h)=>{o.ui.registry.addNestedMenuItem(a,{text:d,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(cA(v,uA(o,c,h.get())),lA(v,a,h.get()),pa(o)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:GD(o,c),initData:{storageKey:c},onAction:v=>{aA(o,c,v.value,w=>{h.set(w),gv(o,{name:a,color:w})})}}]})},YD=o=>(a,c)=>{let d=!1;const h={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:(v,w)=>{w.name==="hex-valid"&&(d=w.value)},onSubmit:v=>{const w=v.getData().colorpicker;d?(a(D.from(w)),v.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",w]))},onClose:me,onCancel:()=>{a(D.none())}})},f0=(o,a,c,d,h,v,w,k)=>{const E=a2(a),O=fA(a,c,d,h!=="color"?"normal":"color",v,w,k);return IE(o,E,O,d,{menuType:h})},fA=(o,a,c,d,h,v,w)=>Pa(bt(o,k=>{return k.type==="choiceitem"?(E=k,is("choicemenuitem",UE,E)).fold(Pm,O=>D.some(((L,B,H,K,Y,se,ce,ve=!0)=>{const ie=d2({presets:H,textContent:B?L.text:D.none(),htmlContent:D.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:B?L.shortcut:D.none(),checkMark:B?D.some(RD(ce.icons)):D.none(),caret:D.none(),value:L.value},ce,ve),ae=L.text.filter(te(!B)).map(fe=>Us.config(ce.tooltips.getConfig({tooltipText:ce.translate(fe)})));return yr(fv({data:mv(L),enabled:L.enabled,getApi:fe=>({setActive:ye=>{Un.set(fe,ye)},isActive:()=>Un.isOn(fe),isEnabled:()=>!Kn.isDisabled(fe),setEnabled:ye=>Kn.set(fe,!ye)}),onAction:fe=>K(L.value),onSetup:fe=>(fe.setActive(Y),me),triggersSubmenu:!1,itemBehaviours:[...ae.toArray()]},ie,se,ce),{toggling:{toggleClass:J5,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(O,c===1,d,a,v(O.value),h,w,a2(o)))):D.none();var E})),h2=(o,a)=>{const c=o0(a);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>a==="color"?Xr(d.element,"[aria-checked=true]"):D.none()}},mA=fn("cell-over"),XD=fn("cell-execute"),c7=(o,a,c)=>{const d=v=>Sn(v,XD,{row:o,col:a}),h=(v,w)=>{w.stop(),d(v)};return Ea({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:Ft([uo("insert-table-picker-cell",[xt(_n(),Zn.focus),xt(ol(),d),xt(Js(),h),xt(Xd(),h)]),Un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:v=>Sn(v,mA,{row:o,col:a})})])})},JD=o=>Ko(o,a=>bt(a,Hi)),QD=(o,a)=>Cs(`${a}x${o}`),eR={inserttable:(o,a)=>{const c=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),d=((w,k,E)=>{const O=[];for(let L=0;L<10;L++){const B=[];for(let H=0;H<10;H++){const K=w(L+1,H+1);B.push(c7(L,H,K))}O.push(B)}return O})(c),h=QD(0,0),v=tr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:Ft([zn.config({})])});return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:JD(d).concat(v.asSpec()),behaviours:Ft([uo("insert-table-picker",[Zr(w=>{zn.set(v.get(w),[h])}),Sg(mA,(w,k,E)=>{const{row:O,col:L}=E.event;((B,H,K,Y,se)=>{for(let ce=0;ce<10;ce++)for(let ve=0;ve<10;ve++)Un.set(B[ce][ve],ce<=H&&ve<=K)})(d,O,L),zn.set(v.get(w),[QD(O+1,L+1)])}),Sg(XD,(w,k,E)=>{const{row:O,col:L}=E.event;go(w,nb()),o.onAction({numRows:O+1,numColumns:L+1})})]),An.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,a)=>{const c=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>iA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),O=>O.concat(u_(E)))})(o,a),d=a.colorinput.getColorCols(o.initData.storageKey),h="color",v={...f0(fn("menu-value"),c,w=>{o.onAction({value:w})},d,h,Ef.CLOSE_ON_EXECUTE,o.select.getOr(Ce),a.shared.providers),markers:o0(h),movement:h2(d,h),showMenuRole:!1};return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qg.widget(Xb.sketch(v))]}}},tR=o=>({type:"separator",dom:{tag:"div",classes:[KC,"tox-collection__group-heading"]},components:o.text.map(Cs).toArray()});var u7=Object.freeze({__proto__:null,getCoupled:(o,a,c,d)=>c.getOrCreate(o,a,d),getExistingCoupled:(o,a,c,d)=>c.getExisting(o,a,d)}),nR=[Sa("others",Xp(_o.value,yl()))],d_=Object.freeze({__proto__:null,init:()=>{const o={},a=(d,h)=>{if(on(d.others).length===0)throw new Error("Cannot find any known coupled components");return cn(o,h)},c=te({});return ma({readState:c,getExisting:(d,h,v)=>a(h,v).orThunk(()=>(cn(h.others,v).getOrDie("No information found for coupled component: "+v),D.none())),getOrCreate:(d,h,v)=>a(h,v).getOrThunk(()=>{const w=cn(h.others,v).getOrDie("No information found for coupled component: "+v)(d),k=d.getSystem().build(w);return o[v]=k,k})})}});const _s=ga({fields:nR,name:"coupling",apis:u7,state:d_}),p2=o=>{let a=D.none(),c=[];const d=w=>{h()?v(w):c.push(w)},h=()=>a.isSome(),v=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return o(w=>{h()||(a=D.some(w),Zt(c,v),c=[])}),{get:d,map:w=>p2(k=>{d(E=>{k(w(E))})}),isReady:h}},d7={nu:p2,pure:o=>p2(a=>{a(o)})},f7=o=>{setTimeout(()=>{throw o},0)},vv=o=>{const a=c=>{o().then(c,f7)};return{map:c=>vv(()=>o().then(c)),bind:c=>vv(()=>o().then(d=>c(d).toPromise())),anonBind:c=>vv(()=>o().then(()=>c.toPromise())),toLazy:()=>d7.nu(a),toCached:()=>{let c=null;return vv(()=>(c===null&&(c=o()),c))},toPromise:o,get:a}},up=o=>vv(()=>new Promise(o)),Fm=o=>vv(()=>Promise.resolve(o)),gA=te("sink"),oR=te(Qc({name:gA(),overrides:te({dom:{tag:"div"},behaviours:Ft([Ya.config({useFixed:Ne})]),events:to([um(cs()),um(Tt()),um(Js())])})})),rR=(o,a)=>{const c=o.getHotspot(a).getOr(a),d="hotspot",h=o.getAnchorOverrides();return o.layouts.fold(()=>({type:d,hotspot:c,overrides:h}),v=>({type:d,hotspot:c,overrides:h,layouts:v}))},f_=(o,a,c,d,h,v,w)=>((E,O,L,B,H,K,Y)=>{const se=((ve,ie,ae)=>(0,ve.fetch)(ae).map(ie))(E,O,B),ce=sR(B,E);return se.map(ve=>ve.bind(ie=>{const ae=ie.menus[ie.primary];return D.from(ae).each(fe=>{E.listRole.each(ye=>{fe.role=ye})}),D.from(Kg.sketch({...K.menu(),uid:mc(""),data:ie,highlightOnOpen:Y,onOpenMenu:(fe,ye)=>{const _e=ce().getOrDie();Ya.position(_e,ye,{anchor:L}),T.decloak(H)},onOpenSubmenu:(fe,ye,_e)=>{const Le=ce().getOrDie();Ya.position(Le,_e,{anchor:{type:"submenu",item:ye}}),T.decloak(H)},onRepositionMenu:(fe,ye,_e)=>{const Le=ce().getOrDie();Ya.position(Le,ye,{anchor:L}),Zt(_e,Xe=>{Ya.position(Le,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem}})})},onEscape:()=>(Zn.focus(B),T.close(H),D.some(!0))}))}))})(o,a,rR(o,c),c,d,h,w).map(E=>(E.fold(()=>{T.isOpen(d)&&T.close(d)},O=>{T.cloak(d),T.open(d,O),v(d)}),d)),m7=(o,a,c,d,h,v,w)=>(T.close(d),Fm(d)),hA=(o,a,c,d,h,v)=>{const w=_s.getCoupled(c,"sandbox");return(T.isOpen(w)?m7:f_)(o,a,c,w,d,h,v)},sR=(o,a)=>o.getSystem().getByUid(a.uid+"-"+gA()).map(c=>()=>_o.value(c)).getOrThunk(()=>a.lazySink.fold(()=>()=>_o.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),pA=o=>{T.getState(o).each(a=>{Kg.repositionMenus(a)})},bA=(o,a,c)=>{const d=Bg(),h=sR(a,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:d.id}},behaviours:$n(o.sandboxBehaviours,[nt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(v,w)=>{const k=rR(o,a);d.link(a.element),o.matchWidth&&((E,O,L)=>{const B=Vo.getCurrent(O).getOr(O),H=ua(E.element);L?Jn(B.element,"min-width",H+"px"):((K,Y)=>{mg.set(K,Y)})(B.element,H)})(k.hotspot,w,o.useMinWidth),o.onOpen(k,v,w),c!==void 0&&c.onOpen!==void 0&&c.onOpen(v,w)},onClose:(v,w)=>{d.unlink(a.element),h().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(v,w)},isPartOf:(v,w,k)=>sl(w,k)||sl(a,k),getAttachPoint:()=>h().getOrDie()}),Vo.config({find:v=>T.getState(v).bind(w=>Vo.getCurrent(w))}),al.config({channels:{...oe({isExtraPart:Ce}),...De({doReposition:pA})}})])}},aR=o=>{const a=_s.getCoupled(o,"sandbox");pA(a)},vA=()=>[et("sandboxClasses",[]),jn("sandboxBehaviours",[Vo,al,T,nt])],g7=te([At("dom"),At("fetch"),Fo("onOpen"),rl("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),uf(),mn("dropdownBehaviours",[Un,_s,An,Zn]),At("toggleClass"),et("eventOrder",{}),Io("lazySink"),et("matchWidth",!1),et("useMinWidth",!1),Io("role"),Io("listRole")].concat(vA())),h7=te([vd({schema:[Og(),et("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),oR()]),cl=xl({name:"Dropdown",configFields:g7(),partFields:h7(),factory:(o,a,c,d)=>{const h=E=>{T.getState(E).each(O=>{Kg.highlightPrimary(O)})},v=(E,O,L)=>hA(o,Ae,E,d,O,L),w={expand:E=>{Un.isOn(E)||v(E,me,Wi.HighlightNone).get(me)},open:E=>{Un.isOn(E)||v(E,me,Wi.HighlightMenuAndItem).get(me)},refetch:E=>_s.getExistingCoupled(E,"sandbox").fold(()=>v(E,me,Wi.HighlightMenuAndItem).map(me),O=>f_(o,Ae,E,O,d,me,Wi.HighlightMenuAndItem).map(me)),isOpen:Un.isOn,close:E=>{Un.isOn(E)&&v(E,me,Wi.HighlightMenuAndItem).get(me)},repositionMenus:E=>{Un.isOn(E)&&aR(E)}},k=(E,O)=>(nf(E),D.some(!0));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.dropdownBehaviours,[Un.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:E=>bA(o,E,{onOpen:()=>Un.on(E),onClose:()=>Un.off(E)})}}),An.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,O)=>{if(cl.isOpen(E)){const L=_s.getCoupled(E,"sandbox");h(L)}else cl.open(E);return D.some(!0)},onEscape:(E,O)=>cl.isOpen(E)?(cl.close(E),D.some(!0)):D.none()}),Zn.config({})]),events:tv(D.some(E=>{v(E,h,Wi.HighlightMenuAndItem).get(me)})),eventOrder:{...o.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),E=>({role:E})),...o.dom.tag==="button"?{type:cn(o.dom,"attributes").bind(E=>cn(E,"type")).getOr("button")}:{}}}}},apis:{open:(o,a)=>o.open(a),refetch:(o,a)=>o.refetch(a),expand:(o,a)=>o.expand(a),close:(o,a)=>o.close(a),isOpen:(o,a)=>o.isOpen(a),repositionMenus:(o,a)=>o.repositionMenus(a)}}),iR=(o,a,c)=>{aD(o).each(d=>{var h;((v,w)=>{No(w.element,"id").each(k=>Jt(v.element,"aria-activedescendant",k))})(d,c),(zi((h=a).element,r2)?D.some(h.element):Xr(h.element,"."+r2)).each(v=>{No(v,"id").each(w=>Jt(d.element,"aria-controls",w))})}),Jt(c.element,"aria-selected","true")},p7=(o,a,c)=>{Jt(c.element,"aria-selected","false")},m0=o=>_s.getExistingCoupled(o,"sandbox").bind(o2).map(iD).map(a=>a.fetchPattern).getOr("");var b2;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(b2||(b2={}));const b7=(o,a,c,d,h)=>{const v=c.shared.providers,w=E=>h?{...E,shortcut:D.none(),icon:E.text.isSome()?D.none():E.icon}:E;switch(o.type){case"menuitem":return(k=o,is("menuitem",_D,k)).fold(Pm,E=>D.some(((O,L,B,H=!0)=>{const K=d2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.none(),checkMark:D.none(),shortcutContent:O.shortcut},B,H);return fv({data:mv(O),getApi:Y=>({isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,B)})(w(E),a,v,d)));case"nestedmenuitem":return(E=>is("nestedmenuitem",SD,E))(o).fold(Pm,E=>D.some(((O,L,B,H=!0,K=!1)=>{const Y=K?(se=B.icons,ZE("chevron-down",se,[DE])):(ve=>ZE("chevron-right",ve,[DE]))(B.icons);var se;const ce=d2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.some(Y),checkMark:D.none(),shortcutContent:O.shortcut},B,H);return fv({data:mv(O),getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>Kn.set(ve,!ie),setIconFill:(ie,ae)=>{Xr(ve.element,`svg path[class="${ie}"], rect[class="${ie}"]`).each(fe=>{Jt(fe,"fill",ae)})},setTooltip:ie=>{const ae=B.translate(ie);Jt(ve.element,"aria-label",ae)}}),enabled:O.enabled,onAction:me,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ce,L,B)})(w(E),a,v,d,h)));case"togglemenuitem":return(E=>is("togglemenuitem",r7,E))(o).fold(Pm,E=>D.some(((O,L,B,H=!0)=>{const K=d2({iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,checkMark:D.some(RD(B.icons)),caret:D.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},B,H);return yr(fv({data:mv(O),enabled:O.enabled,getApi:Y=>({setActive:se=>{Un.set(Y,se)},isActive:()=>Un.isOn(Y),isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,B),{toggling:{toggleClass:J5,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(w(E),a,v,d)));case"separator":return(E=>is("separatormenuitem",gD,E))(o).fold(Pm,E=>D.some(tR(E)));case"fancymenuitem":return(E=>is("fancymenuitem",CD,E))(o).fold(Pm,E=>((O,L)=>cn(eR,O.fancytype).map(B=>B(O,L)))(E,c));default:return console.error("Unknown item in general menu",o),D.none()}var k},dp=(o,a,c,d,h,v,w)=>{const k=d===1,E=!k||a2(o);return Pa(bt(o,O=>{switch(O.type){case"separator":return(L=O,is("Autocompleter.Separator",gD,L)).fold(Pm,B=>D.some(tR(B)));case"cardmenuitem":return(B=>is("cardmenuitem",o7,B))(O).fold(Pm,B=>D.some(((H,K,Y,se)=>{const ce={dom:ND(H.label),optComponents:[D.some({dom:{tag:"div",classes:[t2,n2]},components:qE(H.items,se)})]};return fv({data:mv({text:D.none(),...H}),enabled:H.enabled,getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>{Kn.set(ve,!ie),Zt(aa(ve.element,"*"),ae=>{ve.getSystem().getByDom(ae).each(fe=>{fe.hasConfigured(Kn)&&Kn.set(fe,!ie)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(se.itemBehaviours).getOr([])},ce,K,Y.providers)})({...B,onAction:H=>{B.onAction(H),c(B.value,B.meta)}},h,v,{itemBehaviours:ID(B.meta,v,D.none()),cardText:{matchText:a,highlightOn:w}})));default:return(B=>is("Autocompleter.Item",KP,B))(O).fold(Pm,B=>D.some(((H,K,Y,se,ce,ve,ie,ae=!0)=>{const fe=d2({presets:se,textContent:D.none(),htmlContent:Y?H.text.map(_e=>KE(_e,K)):D.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:H.value},ie.providers,ae,H.icon),ye=H.text.filter(_e=>!Y&&_e!=="");return fv({data:mv(H),enabled:H.enabled,getApi:te({}),onAction:_e=>ce(H.value,H.meta),onSetup:te(me),triggersSubmenu:!1,itemBehaviours:ID(H,ie,ye)},fe,ve,ie.providers)})(B,a,k,"normal",c,h,v,E)))}var L}))},lR=(o,a,c,d,h,v)=>{const w=a2(a),k=Pa(bt(a,O=>{const L=B=>b7(B,c,d,(H=>h?!po(H,"text"):w)(B),h);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?L({...O,enabled:!1}):L(O)})),E=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(v);return(h?UP:IE)(o,w,k,1,E)},yA=o=>Kg.singleData(o.value,o),zu=o=>df(Qt(o.startContainer),o.startOffset,Qt(o.endContainer),o.endOffset),cR=(o,a)=>{const c=fn("autocompleter"),d=Dn(!1),h=Dn(!1),v=ir(),w=Ea(os.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissAutocompleter",[xt(_g(),()=>B()),xt(Oy(),(Y,se)=>{No(se.event.target,"id").each(ce=>Jt(Qt(o.getBody()),"aria-activedescendant",ce))})])]),lazySink:a.getSink})),k=()=>os.isOpen(w),E=h.get,O=()=>{if(k()){os.hide(w),o.dom.remove(c,!1);const Y=Qt(o.getBody());No(Y,"aria-owns").filter(se=>se===c).each(()=>{fo(Y,"aria-owns"),fo(Y,"aria-activedescendant")})}},L=()=>os.getContent(w).bind(Y=>St(Y.components(),0)),B=()=>o.execCommand("mceAutocompleterClose"),H=Y=>{const se=(ce=>{const ve=It(ce,ie=>D.from(ie.columns)).getOr(1);return Ko(ce,ie=>{const ae=ie.items;return dp(ae,ie.matchText,(fe,ye)=>{const _e={hide:()=>B(),reload:Le=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Le})}};o.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Le=>{d.set(!0),ie.onAction(_e,Le,fe,ye),d.set(!1)})},ve,Ef.BUBBLE_TO_SANDBOX,a,ie.highlightOn)})})(Y);se.length>0?(((ce,ve)=>{const ie=It(ce,ae=>D.from(ae.columns)).getOr(1);os.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>v.get().map(zu),root:Qt(o.getBody())}},((ae,fe,ye,_e)=>{const Le=h2(fe,_e),Xe=o0(_e);return{data:yA({...ae,movement:Le,menuBehaviours:c2(fe!=="auto"?[]:[Zr((_t,vt)=>{WE(_t,4,Xe.item).each(({numColumns:gt,numRows:Bt})=>{An.setGridSize(_t,Bt,gt)})})])}),menu:{markers:o0(_e),fakeFocus:ye===b2.ContentFocus}}})(IE("autocompleter-value",!0,ve,ie,{menuType:"normal"}),ie,b2.ContentFocus,"normal")),L().each(or.highlightFirst)})(Y,se),Jt(Qt(o.getBody()),"aria-owns",c),o.inline||K()):O()},K=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const Y=o.getDoc().documentElement,se=o.selection.getNode(),ce=(ve=>Ag(ve,!0))(w.element);Bi(ce,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${se.offsetTop}px`,left:`${se.offsetLeft}px`}),o.dom.add(Y,ce.dom),Xr(ce,'[role="menu"]').each(ve=>{er(ve,"position"),er(ve,"max-height")})};o.on("AutocompleterStart",({lookupData:Y})=>{h.set(!0),d.set(!1),H(Y)}),o.on("AutocompleterUpdate",({lookupData:Y})=>H(Y)),o.on("AutocompleterUpdateActiveRange",({range:Y})=>v.set(Y)),o.on("AutocompleterEnd",()=>{O(),h.set(!1),d.set(!1),v.clear()}),((Y,se)=>{const ce=(ie,ae)=>{Sn(ie,cs(),{raw:ae})},ve=()=>Y.getMenu().bind(or.getHighlighted);se.on("keydown",ie=>{const ae=ie.which;Y.isActive()&&(Y.isMenuOpen()?ae===13?(ve().each(nf),ie.preventDefault()):ae===40?(ve().fold(()=>{Y.getMenu().each(or.highlightFirst)},fe=>{ce(fe,ie)}),ie.preventDefault(),ie.stopImmediatePropagation()):ae!==37&&ae!==38&&ae!==39||ve().each(fe=>{ce(fe,ie),ie.preventDefault(),ie.stopImmediatePropagation()}):ae!==13&&ae!==38&&ae!==40||Y.cancelIfNecessary())}),se.on("NodeChange",()=>{!Y.isActive()||Y.isProcessingAction()||se.queryCommandState("mceAutoCompleterInRange")||Y.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:k,isActive:E,isProcessingAction:d.get,getMenu:L},o)},yv=(o,a,c)=>Ou(o,a,c).isSome(),xA=(o,a)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...d)=>{c=setTimeout(()=>{o.apply(null,d),c=null},a)}}},uR=o=>{const a=o.raw;return a.touches===void 0||a.touches.length!==1?D.none():D.some(a.touches[0])},m_=(o,a)=>{const c={stopBackspace:!0,...a},d=(B=>{const H=ir(),K=Dn(!1),Y=xA(ce=>{B.triggerEvent(hk(),ce),K.set(!0)},400),se=ad([{key:Z(),value:ce=>(uR(ce).each(ve=>{Y.cancel();const ie={x:ve.clientX,y:ve.clientY,target:ce.target};Y.schedule(ce),K.set(!1),H.set(ie)}),D.none())},{key:ne(),value:ce=>(Y.cancel(),uR(ce).each(ve=>{H.on(ie=>{((ae,fe)=>{const ye=Math.abs(ae.clientX-fe.x),_e=Math.abs(ae.clientY-fe.y);return ye>5||_e>5})(ve,ie)&&H.clear()})}),D.none())},{key:Oe(),value:ce=>(Y.cancel(),H.get().filter(ve=>Wo(ve.target,ce.target)).map(ve=>K.get()?(ce.prevent(),!1):B.triggerEvent(Xd(),ce)))}]);return{fireIfReady:(ce,ve)=>cn(se,ve).bind(ie=>ie(ce))}})(c),h=bt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Ei(o,B,H=>{d.fireIfReady(H,B).each(K=>{K&&H.kill()}),c.triggerEvent(B,H)&&H.kill()})),v=ir(),w=Ei(o,"paste",B=>{d.fireIfReady(B,"paste").each(H=>{H&&B.kill()}),c.triggerEvent("paste",B)&&B.kill(),v.set(setTimeout(()=>{c.triggerEvent(Ty(),B)},0))}),k=Ei(o,"keydown",B=>{c.triggerEvent("keydown",B)?B.kill():c.stopBackspace&&(H=>H.raw.which===NO[0]&&!Qe(["input","textarea"],Ni(H.target))&&!yv(H.target,'[contenteditable="true"]'))(B)&&B.prevent()}),E=Ei(o,"focusin",B=>{c.triggerEvent("focusin",B)&&B.kill()}),O=ir(),L=Ei(o,"focusout",B=>{c.triggerEvent("focusout",B)&&B.kill(),O.set(setTimeout(()=>{c.triggerEvent(Oh(),B)},0))});return{unbind:()=>{Zt(h,B=>{B.unbind()}),k.unbind(),E.unbind(),L.unbind(),w.unbind(),v.on(clearTimeout),O.on(clearTimeout)}}},wA=(o,a)=>{const c=cn(o,"target").getOr(a);return Dn(c)},v2=Tl([{stopped:[]},{resume:["element"]},{complete:[]}]),dR=(o,a,c,d,h,v)=>{const w=o(a,d),k=((E,O)=>{const L=Dn(!1),B=Dn(!1);return{stop:()=>{L.set(!0)},cut:()=>{B.set(!0)},isStopped:L.get,isCut:B.get,event:E,setSource:O.set,getSource:O.get}})(c,h);return w.fold(()=>(v.logEventNoHandlers(a,d),v2.complete()),E=>{const O=E.descHandler;return Ky(O)(k),k.isStopped()?(v.logEventStopped(a,E.element,O.purpose),v2.stopped()):k.isCut()?(v.logEventCut(a,E.element,O.purpose),v2.complete()):si(E.element).fold(()=>(v.logNoParent(a,E.element,O.purpose),v2.complete()),L=>(v.logEventResponse(a,E.element,O.purpose),v2.resume(L)))})},y2=(o,a,c,d,h,v)=>dR(o,a,c,d,h,v).fold(Ne,w=>y2(o,a,c,w,h,v),Ce),g_=(o,a,c,d,h)=>{const v=wA(c,d);return y2(o,a,c,d,v,h)},fR=()=>{const o=(()=>{const d={};return{registerId:(h,v,w)=>{Cn(w,(k,E)=>{const O=d[E]!==void 0?d[E]:{};O[v]=((L,B)=>({cHandler:Ge.apply(void 0,[L.handler].concat(B)),purpose:L.purpose}))(k,h),d[E]=O})},unregisterId:h=>{Cn(d,(v,w)=>{po(v,h)&&delete v[h]})},filterByType:h=>cn(d,h).map(v=>Es(v,(w,k)=>((E,O)=>({id:E,descHandler:O}))(k,w))).getOr([]),find:(h,v,w)=>cn(d,v).bind(k=>Cg(w,E=>((O,L)=>Rg(L).bind(B=>cn(O,B)).map(B=>((H,K)=>({element:H,descHandler:K}))(L,B)))(k,E),h))}})(),a={},c=d=>{Rg(d.element).each(h=>{delete a[h],o.unregisterId(h)})};return{find:(d,h,v)=>o.find(d,h,v),filter:d=>o.filterByType(d),register:d=>{const h=(w=>{const k=w.element;return Rg(k).getOrThunk(()=>((E,O)=>{const L=fn(y1+"uid-");return x1(O,L),L})(0,w.element))})(d);io(a,h)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+dd(E.element)+`
Cannot use it for: `+dd(w.element)+`
The conflicting element is`+(nn(E.element)?" ":" not ")+"already in the DOM");c(w)})(d,h);const v=[d];o.registerId(v,h,d.events),a[h]=d},unregister:c,getById:d=>cn(a,d)}},Cd=eu({name:"Container",factory:o=>{const{attributes:a,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...c},components:o.components,behaviours:Vn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[et("components",[]),mn("containerBehaviours",[]),et("events",{}),et("domModification",{}),et("eventOrder",{})]}),h_=o=>{const a=ce=>si(o.element).fold(Ne,ve=>Wo(ce,ve)),c=fR(),d=(ce,ve)=>c.find(a,ce,ve),h=m_(o.element,{triggerEvent:(ce,ve)=>gb(ce,ve.target,ie=>((ae,fe,ye,_e)=>g_(ae,fe,ye,ye.target,_e))(d,ce,ve,ie))}),v={debugInfo:te("real"),triggerEvent:(ce,ve,ie)=>{gb(ce,ve,ae=>g_(d,ce,ie,ve,ae))},triggerFocus:(ce,ve)=>{Rg(ce).fold(()=>{ki(ce)},ie=>{gb(Eu(),ce,ae=>(((fe,ye,_e,Le,Xe)=>{const _t=wA(_e,Le);dR(fe,ye,_e,Le,_t,Xe)})(d,Eu(),{originator:ve,kill:me,prevent:me,target:ce},ce,ae),!1))})},triggerEscape:(ce,ve)=>{v.triggerEvent("keydown",ce.element,ve.event)},getByUid:ce=>Y(ce),getByDom:ce=>se(ce),build:Ea,buildOrPatch:E1,addToGui:ce=>{E(ce)},removeFromGui:ce=>{O(ce)},addToWorld:ce=>{w(ce)},removeFromWorld:ce=>{k(ce)},broadcast:ce=>{B(ce)},broadcastOn:(ce,ve)=>{H(ce,ve)},broadcastEvent:(ce,ve)=>{K(ce,ve)},isConnected:Ne},w=ce=>{ce.connect(v),ri(ce.element)||(c.register(ce),Zt(ce.components(),w),v.triggerEvent(Jd(),ce.element,{target:ce.element}))},k=ce=>{ri(ce.element)||(Zt(ce.components(),k),c.unregister(ce)),ce.disconnect()},E=ce=>{vf(o,ce)},O=ce=>{$i(ce)},L=ce=>{const ve=c.filter(Ll());Zt(ve,ie=>{const ae=ie.descHandler;Ky(ae)(ce)})},B=ce=>{L({universal:!0,data:ce})},H=(ce,ve)=>{L({universal:!1,channels:ce,data:ve})},K=(ce,ve)=>((ie,ae,fe)=>{const ye=(_e=>{const Le=Dn(!1);return{stop:()=>{Le.set(!0)},cut:me,isStopped:Le.get,isCut:Ce,event:_e,setSource:Ze("Cannot set source of a broadcasted event"),getSource:Ze("Cannot get source of a broadcasted event")}})(ae);return Zt(ie,_e=>{const Le=_e.descHandler;Ky(Le)(ye)}),ye.isStopped()})(c.filter(ce),ve),Y=ce=>c.getById(ce).fold(()=>_o.error(new Error('Could not find component with uid: "'+ce+'" in system.')),_o.value),se=ce=>{const ve=Rg(ce).getOr("not found");return Y(ve)};return w(o),{root:o,element:o.element,destroy:()=>{h.unbind(),wa(o.element)},add:E,remove:O,getByUid:Y,getByDom:se,addToWorld:w,removeFromWorld:k,broadcast:B,broadcastOn:H,broadcastEvent:K}},v7=te([et("prefix","form-field"),mn("fieldBehaviours",[Vo,nt])]),CA=te([Qc({schema:[At("dom")],name:"label"}),Qc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),ll({factory:{sketch:o=>{const a=((c,d)=>{const h={};return Cn(c,(v,w)=>{Qe(d,w)||(h[w]=v)}),h})(o,["factory"]);return o.factory.sketch(a)}},schema:[At("factory")],name:"field"})]),lr=xl({name:"FormField",configFields:v7(),partFields:CA(),factory:(o,a,c,d)=>{const h=co(o.fieldBehaviours,[Vo.config({find:k=>Br(k,o,"field")}),nt.config({store:{mode:"manual",getValue:k=>Vo.getCurrent(k).bind(nt.getValue),setValue:(k,E)=>{Vo.getCurrent(k).each(O=>{nt.setValue(O,E)})}}})]),v=to([Zr((k,E)=>{const O=bO(k,o,["label","field","aria-descriptor"]);O.field().each(L=>{const B=fn(o.prefix);O.label().each(H=>{Jt(H.element,"for",B),Jt(L.element,"id",B)}),O["aria-descriptor"]().each(H=>{const K=fn(o.prefix);Jt(H.element,"id",K),Jt(L.element,"aria-describedby",K)})})})]),w={getField:k=>Br(k,o,"field"),getLabel:k=>Br(k,o,"label")};return{uid:o.uid,dom:o.dom,components:a,behaviours:h,events:v,apis:w}},apis:{getField:(o,a)=>o.getField(a),getLabel:(o,a)=>o.getLabel(a)}});var y7=tinymce.util.Tools.resolve("tinymce.html.Entities");const x2=(o,a,c,d)=>{const h=x7(o,a,c,d);return lr.sketch(h)},x7=(o,a,c,d)=>({dom:p_(c),components:o.toArray().concat([a]),fieldBehaviours:Ft(d)}),p_=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),fp=(o,a)=>lr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(a.translate(o))]}),Zi=fn("form-component-change"),mp=fn("form-close"),th=fn("form-cancel"),Tf=fn("form-action"),w2=fn("form-submit"),_A=fn("form-block"),SA=fn("form-unblock"),mR=fn("form-tabchange"),b_=fn("form-resize"),gR=(o,a,c)=>{const d=o.label.map(B=>fp(B,a)),h=a.icons(),v=B=>(H,K)=>{Ou(K.event.target,"[data-collection-item-value]").each(Y=>{B(H,K,Y,wo(Y,"data-collection-item-value"))})},w=v((B,H,K,Y)=>{H.stop(),a.isDisabled()||Sn(B,Tf,{name:o.name,value:Y})}),k=[xt(_n(),v((B,H,K)=>{ki(K)})),xt(Js(),w),xt(Xd(),w),xt(Jo(),v((B,H,K)=>{Xr(B.element,"."+Mm).each(Y=>{ps(Y,Mm)}),us(K,Mm)})),xt(Rs(),v(B=>{Xr(B.element,"."+Mm).each(H=>{ps(H,Mm),Cb(H)})})),jc(v((B,H,K,Y)=>{Sn(B,Tf,{name:o.name,value:Y})}))],E=(B,H)=>bt(aa(B.element,".tox-collection__item"),H),O=lr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ae},behaviours:Ft([Kn.config({disabled:a.isDisabled,onDisabled:B=>{E(B,H=>{us(H,"tox-collection__item--state-disabled"),Jt(H,"aria-disabled",!0)})},onEnabled:B=>{E(B,H=>{ps(H,"tox-collection__item--state-disabled"),fo(H,"aria-disabled")})}}),ha(),zn.config({}),Us.config({...a.tooltips.getConfig({tooltipText:"",onShow:B=>{Xr(B.element,"."+Mm+"[data-mce-tooltip]").each(H=>{No(H,"data-mce-tooltip").each(K=>{Us.setComponents(B,a.tooltips.getComponents({tooltipText:K}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:Xr(B.element,"."+Mm).orThunk(()=>Xu(".tox-collection__item")),root:B.element,layouts:{onLtr:te([Bs,ds,bs,Vs,vs,xr]),onRtl:te([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})}),nt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(B,H)=>{((K,Y)=>{const se=bt(Y,ie=>{const ae=Bu.translate(ie.text),fe=o.columns===1?`<div class="tox-collection__item-label">${ae}</div>`:"",ye=`<div class="tox-collection__item-icon">${(Xe=>{var _t;return(_t=h[Xe])!==null&&_t!==void 0?_t:Xe})(ie.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Le=ae.replace(/\_| \- |\-/g,Xe=>_e[Xe]);return`<div data-mce-tooltip="${Le}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${y7.encodeAllRaw(ie.value)}" aria-label="${Le}">${ye}${fe}</div>`}),ce=o.columns!=="auto"&&o.columns>1?pt(se,o.columns):[se],ve=bt(ce,ie=>`<div class="tox-collection__group">${ie.join("")}</div>`);Eg(K.element,ve.join(""))})(B,H),o.columns==="auto"&&WE(B,5,"tox-collection__item").each(({numRows:K,numColumns:Y})=>{An.setGridSize(B,K,Y)}),go(B,b_)}}),Rr.config({}),An.config((L=o.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${KC}`}})),uo("collection-events",k)]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","collection-events"],[Jo()]:["collection-events","tooltipping"]}});var L;return x2(d,O,["tox-form__group--collection"],[])},hR=["input","textarea"],v_=o=>{const a=Ni(o);return Qe(hR,a)},pR=(o,a)=>{const c=a.getRoot(o).getOr(o.element);ps(c,a.invalidClass),a.notify.each(d=>{v_(o.element)&&Jt(o.element,"aria-invalid",!1),d.getContainer(o).each(h=>{Eg(h,d.validHtml)}),d.onValid(o)})},kA=(o,a,c,d)=>{const h=a.getRoot(o).getOr(o.element);us(h,a.invalidClass),a.notify.each(v=>{v_(o.element)&&Jt(o.element,"aria-invalid",!0),v.getContainer(o).each(w=>{Eg(w,d)}),v.onInvalid(o,d)})},bR=(o,a,c)=>a.validator.fold(()=>Fm(_o.value(!0)),d=>d.validate(o)),EA=(o,a,c)=>(a.notify.each(d=>{d.onValidate(o)}),bR(o,a).map(d=>o.getSystem().isConnected()?d.fold(h=>(kA(o,a,0,h),_o.error(h)),h=>(pR(o,a),_o.value(h))):_o.error("No longer in system")));var w7=Object.freeze({__proto__:null,markValid:pR,markInvalid:kA,query:bR,run:EA,isInvalid:(o,a)=>{const c=a.getRoot(o).getOr(o.element);return zi(c,a.invalidClass)}}),vR=Object.freeze({__proto__:null,events:(o,a)=>o.validator.map(c=>to([xt(c.onEvent,d=>{EA(d,o).get(Ae)})].concat(c.validateOnLoad?[Zr(d=>{EA(d,o).get(me)})]:[]))).getOr({})}),C7=[At("invalidClass"),et("getRoot",D.none),gs("notify",[et("aria","alert"),et("getContainer",D.none),et("validHtml",""),Fo("onValid"),Fo("onInvalid"),Fo("onValidate")]),gs("validator",[At("validate"),et("onEvent","input"),et("validateOnLoad",!0)])];const zm=ga({fields:C7,name:"invalidating",active:vR,apis:w7,extra:{validation:o=>a=>{const c=nt.getValue(a);return Fm(o(c))}}}),g0=ga({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>to([Nh(Za(),Ne)]),exhibit:()=>Ns({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),AA=fn("color-input-change"),TA=fn("color-swatch-change"),yR=fn("color-picker-cancel"),OA=Qc({schema:[At("dom")],name:"label"}),gp=o=>Qc({name:o+"-edge",overrides:a=>a.model.manager.edgeActions[o].fold(()=>({}),c=>({events:to([Dy(Z(),(d,h,v)=>c(d,v),[a]),Dy(Tt(),(d,h,v)=>c(d,v),[a]),Dy(Ln(),(d,h,v)=>{v.mouseIsDown.get()&&c(d,v)},[a])])}))}),_7=gp("top-left"),S7=gp("top"),k7=gp("top-right"),E7=gp("right"),xR=gp("bottom-right"),DA=gp("bottom"),A7=gp("bottom-left"),y_=gp("left"),T7=ll({name:"thumb",defaults:te({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:to([Bh(Z(),o,"spectrum"),Bh(ne(),o,"spectrum"),Bh(Oe(),o,"spectrum"),Bh(Tt(),o,"spectrum"),Bh(Ln(),o,"spectrum"),Bh(Yn(),o,"spectrum")])})}),x_=o=>Dm(o.event);var O7=[OA,y_,E7,S7,DA,_7,k7,A7,xR,T7,ll({schema:[_a("mouseIsDown",()=>Dn(!1))],name:"spectrum",overrides:o=>{const a=o.model.manager,c=(d,h)=>a.getValueFromEvent(h).map(v=>a.setValueFrom(d,o,v));return{behaviours:Ft([An.config({mode:"special",onLeft:(d,h)=>a.onLeft(d,o,x_(h)),onRight:(d,h)=>a.onRight(d,o,x_(h)),onUp:(d,h)=>a.onUp(d,o,x_(h)),onDown:(d,h)=>a.onDown(d,o,x_(h))}),Rr.config({}),Zn.config({})]),events:to([xt(Z(),c),xt(ne(),c),xt(Tt(),c),xt(Ln(),(d,h)=>{o.mouseIsDown.get()&&c(d,h)})])}}})];const C2=te("slider.change.value"),RA=o=>{const a=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(a)){const c=a;return c.touches!==void 0&&c.touches.length===1?D.some(c.touches[0]).map(d=>Pr(d.clientX,d.clientY)):D.none()}{const c=a;return c.clientX!==void 0?D.some(c).map(d=>Pr(d.clientX,d.clientY)):D.none()}},h0=o=>o.model.minX,hp=o=>o.model.minY,w_=o=>o.model.minX-1,C_=o=>o.model.minY-1,nh=o=>o.model.maxX,Hu=o=>o.model.maxY,__=o=>o.model.maxX+1,S_=o=>o.model.maxY+1,k_=(o,a,c)=>a(o)-c(o),E_=o=>k_(o,nh,h0),NA=o=>k_(o,Hu,hp),wR=o=>E_(o)/2,IA=o=>NA(o)/2,xv=(o,a)=>a?o.stepSize*o.speedMultiplier:o.stepSize,BA=o=>o.snapToGrid,MA=o=>o.snapStart,A_=o=>o.rounded,T_=(o,a)=>o[a+"-edge"]!==void 0,PA=o=>T_(o,"left"),CR=o=>T_(o,"right"),wv=o=>T_(o,"top"),_R=o=>T_(o,"bottom"),oh=o=>o.model.value.get(),Hm=(o,a)=>({x:o,y:a}),su=(o,a)=>{Sn(o,C2(),{value:a})},LA=(o,a,c,d)=>o<a?o:o>c?c:o===a?a-1:Math.max(a,o-d),_2=(o,a,c,d)=>o>c?o:o<a?a:o===c?c+1:Math.min(c,o+d),SR=(o,a,c)=>Math.max(a,Math.min(c,o)),kR=o=>{const{min:a,max:c,range:d,value:h,step:v,snap:w,snapStart:k,rounded:E,hasMinEdge:O,hasMaxEdge:L,minBound:B,maxBound:H,screenRange:K}=o,Y=O?a-1:a,se=L?c+1:c;if(h<B)return Y;if(h>H)return se;{const ce=((ie,ae,fe)=>Math.min(fe,Math.max(ie,ae))-ae)(h,B,H),ve=SR(ce/K*d+a,Y,se);return w&&ve>=a&&ve<=c?((ie,ae,fe,ye,_e)=>_e.fold(()=>{const Le=ie-ae,Xe=Math.round(Le/ye)*ye;return SR(ae+Xe,ae-1,fe+1)},Le=>{const Xe=(ie-Le)%ye,_t=Math.round(Xe/ye),vt=Math.floor((ie-Le)/ye),gt=Math.floor((fe-Le)/ye),Bt=Le+Math.min(gt,vt+_t)*ye;return Math.max(Le,Bt)}))(ve,a,c,v,k):E?Math.round(ve):ve}},O_=o=>{const{min:a,max:c,range:d,value:h,hasMinEdge:v,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:O,centerMaxEdge:L}=o;return h<a?v?0:O:h>c?w?k:L:(h-a)/d*E},FA="top",ER="right",AR="bottom",zA="left",Vm=o=>o.element.dom.getBoundingClientRect(),_d=(o,a)=>o[a],D_=o=>{const a=Vm(o);return _d(a,zA)},TR=o=>{const a=Vm(o);return _d(a,ER)},R_=o=>{const a=Vm(o);return _d(a,FA)},OR=o=>{const a=Vm(o);return _d(a,AR)},DR=o=>{const a=Vm(o);return _d(a,"width")},RR=o=>{const a=Vm(o);return _d(a,"height")},N_=(o,a,c)=>(o+a)/2-c,NR=(o,a)=>{const c=Vm(o),d=Vm(a),h=_d(c,zA),v=_d(c,ER),w=_d(d,zA);return N_(h,v,w)},IR=(o,a)=>{const c=Vm(o),d=Vm(a),h=_d(c,FA),v=_d(c,AR),w=_d(d,FA);return N_(h,v,w)},I_=(o,a)=>{Sn(o,C2(),{value:a})},B_=(o,a,c)=>{const d={min:h0(a),max:nh(a),range:E_(a),value:c,step:xv(a),snap:BA(a),snapStart:MA(a),rounded:A_(a),hasMinEdge:PA(a),hasMaxEdge:CR(a),minBound:D_(o),maxBound:TR(o),screenRange:DR(o)};return kR(d)},BR=o=>(a,c,d)=>((h,v,w,k)=>{const E=(h>0?_2:LA)(oh(w),h0(w),nh(w),xv(w,k));return I_(v,E),D.some(E)})(o,a,c,d).map(Ne),HA=(o,a,c,d,h,v)=>{const w=((k,E,O,L,B)=>{const H=DR(k),K=L.bind(ce=>D.some(NR(ce,k))).getOr(0),Y=B.bind(ce=>D.some(NR(ce,k))).getOr(H),se={min:h0(E),max:nh(E),range:E_(E),value:O,hasMinEdge:PA(E),hasMaxEdge:CR(E),minBound:D_(k),minOffset:0,maxBound:TR(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return O_(se)})(a,v,c,d,h);return D_(a)-D_(o)+w},D7=BR(-1),R7=BR(1),N7=D.none,I7=D.none,VA={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((o,a)=>{su(o,__(a))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((o,a)=>{su(o,w_(a))})};var B7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=B_(o,a,c);return I_(o,d),d},setToMin:(o,a)=>{const c=h0(a);I_(o,c)},setToMax:(o,a)=>{const c=nh(a);I_(o,c)},findValueOfOffset:B_,getValueFromEvent:o=>RA(o).map(a=>a.left),findPositionOfValue:HA,setPositionFromValue:(o,a,c,d)=>{const h=oh(c),v=HA(o,d.getSpectrum(o),h,d.getLeftEdge(o),d.getRightEdge(o),c),w=ua(a.element)/2;Jn(a.element,"left",v-w+"px")},onLeft:D7,onRight:R7,onUp:N7,onDown:I7,edgeActions:VA});const M_=(o,a)=>{Sn(o,C2(),{value:a})},$A=(o,a,c)=>{const d={min:hp(a),max:Hu(a),range:NA(a),value:c,step:xv(a),snap:BA(a),snapStart:MA(a),rounded:A_(a),hasMinEdge:wv(a),hasMaxEdge:_R(a),minBound:R_(o),maxBound:OR(o),screenRange:RR(o)};return kR(d)},MR=o=>(a,c,d)=>((h,v,w,k)=>{const E=(h>0?_2:LA)(oh(w),hp(w),Hu(w),xv(w,k));return M_(v,E),D.some(E)})(o,a,c,d).map(Ne),UA=(o,a,c,d,h,v)=>{const w=((k,E,O,L,B)=>{const H=RR(k),K=L.bind(ce=>D.some(IR(ce,k))).getOr(0),Y=B.bind(ce=>D.some(IR(ce,k))).getOr(H),se={min:hp(E),max:Hu(E),range:NA(E),value:O,hasMinEdge:wv(E),hasMaxEdge:_R(E),minBound:R_(k),minOffset:0,maxBound:OR(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return O_(se)})(a,v,c,d,h);return R_(a)-R_(o)+w},M7=D.none,P7=D.none,L7=MR(-1),F7=MR(1),z7={"top-left":D.none(),top:D.some((o,a)=>{su(o,C_(a))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((o,a)=>{su(o,S_(a))}),"bottom-left":D.none(),left:D.none()};var H7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=$A(o,a,c);return M_(o,d),d},setToMin:(o,a)=>{const c=hp(a);M_(o,c)},setToMax:(o,a)=>{const c=Hu(a);M_(o,c)},findValueOfOffset:$A,getValueFromEvent:o=>RA(o).map(a=>a.top),findPositionOfValue:UA,setPositionFromValue:(o,a,c,d)=>{const h=oh(c),v=UA(o,d.getSpectrum(o),h,d.getTopEdge(o),d.getBottomEdge(o),c),w=ms(a.element)/2;Jn(a.element,"top",v-w+"px")},onLeft:M7,onRight:P7,onUp:L7,onDown:F7,edgeActions:z7});const P_=(o,a)=>{Sn(o,C2(),{value:a})},L_=(o,a)=>({x:o,y:a}),p0=(o,a)=>(c,d,h)=>((v,w,k,E,O)=>{const L=v>0?_2:LA,B=w?oh(E).x:L(oh(E).x,h0(E),nh(E),xv(E,O)),H=w?L(oh(E).y,hp(E),Hu(E),xv(E,O)):oh(E).y;return P_(k,L_(B,H)),D.some(B)})(o,a,c,d,h).map(Ne),V7=p0(-1,!1),WA=p0(1,!1),$7=p0(-1,!0),U7=p0(1,!0),W7={"top-left":D.some((o,a)=>{su(o,Hm(w_(a),C_(a)))}),top:D.some((o,a)=>{su(o,Hm(wR(a),C_(a)))}),"top-right":D.some((o,a)=>{su(o,Hm(__(a),C_(a)))}),right:D.some((o,a)=>{su(o,Hm(__(a),IA(a)))}),"bottom-right":D.some((o,a)=>{su(o,Hm(__(a),S_(a)))}),bottom:D.some((o,a)=>{su(o,Hm(wR(a),S_(a)))}),"bottom-left":D.some((o,a)=>{su(o,Hm(w_(a),S_(a)))}),left:D.some((o,a)=>{su(o,Hm(w_(a),IA(a)))})};var PR=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=B_(o,a,c.left),h=$A(o,a,c.top),v=L_(d,h);return P_(o,v),v},setToMin:(o,a)=>{const c=h0(a),d=hp(a);P_(o,L_(c,d))},setToMax:(o,a)=>{const c=nh(a),d=Hu(a);P_(o,L_(c,d))},getValueFromEvent:o=>RA(o),setPositionFromValue:(o,a,c,d)=>{const h=oh(c),v=HA(o,d.getSpectrum(o),h.x,d.getLeftEdge(o),d.getRightEdge(o),c),w=UA(o,d.getSpectrum(o),h.y,d.getTopEdge(o),d.getBottomEdge(o),c),k=ua(a.element)/2,E=ms(a.element)/2;Jn(a.element,"left",v-k+"px"),Jn(a.element,"top",w-E+"px")},onLeft:V7,onRight:WA,onUp:$7,onDown:U7,edgeActions:W7});const Sd=xl({name:"Slider",configFields:[et("stepSize",1),et("speedMultiplier",10),et("onChange",me),et("onChoose",me),et("onInit",me),et("onDragStart",me),et("onDragEnd",me),et("snapToGrid",!1),et("rounded",!0),Io("snapStart"),Sa("model",Xs("mode",{x:[et("minX",0),et("maxX",100),_a("value",o=>Dn(o.mode.minX)),At("getInitialValue"),Nr("manager",B7)],y:[et("minY",0),et("maxY",100),_a("value",o=>Dn(o.mode.minY)),At("getInitialValue"),Nr("manager",H7)],xy:[et("minX",0),et("maxX",100),et("minY",0),et("maxY",100),_a("value",o=>Dn({x:o.mode.minX,y:o.mode.minY})),At("getInitialValue"),Nr("manager",PR)]})),mn("sliderBehaviours",[An,nt]),_a("mouseIsDown",()=>Dn(!1))],partFields:O7,factory:(o,a,c,d)=>{const h=ie=>jg(ie,o,"thumb"),v=ie=>jg(ie,o,"spectrum"),w=ie=>Br(ie,o,"left-edge"),k=ie=>Br(ie,o,"right-edge"),E=ie=>Br(ie,o,"top-edge"),O=ie=>Br(ie,o,"bottom-edge"),L=o.model,B=L.manager,H=(ie,ae)=>{B.setPositionFromValue(ie,ae,o,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:O,getSpectrum:v})},K=(ie,ae)=>{L.value.set(ae);const fe=h(ie);H(ie,fe)},Y=ie=>{const ae=o.mouseIsDown.get();o.mouseIsDown.set(!1),ae&&Br(ie,o,"thumb").each(fe=>{const ye=L.value.get();o.onChoose(ie,fe,ye)})},se=(ie,ae)=>{ae.stop(),o.mouseIsDown.set(!0),o.onDragStart(ie,h(ie))},ce=(ie,ae)=>{ae.stop(),o.onDragEnd(ie,h(ie)),Y(ie)},ve=ie=>{Br(ie,o,"spectrum").map(An.focusIn)};return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.sliderBehaviours,[An.config({mode:"special",focusIn:ve}),nt.config({store:{mode:"manual",getValue:ie=>L.value.get(),setValue:K}}),al.config({channels:{[W()]:{onReceive:Y}}})]),events:to([xt(C2(),(ie,ae)=>{((fe,ye)=>{K(fe,ye);const _e=h(fe);o.onChange(fe,_e,ye)})(ie,ae.event.value)}),Zr((ie,ae)=>{const fe=L.getInitialValue();L.value.set(fe);const ye=h(ie);H(ie,ye);const _e=v(ie);o.onInit(ie,ye,_e,L.value.get())}),xt(Z(),se),xt(Oe(),ce),xt(Tt(),(ie,ae)=>{ve(ie),se(ie,ae)}),xt(Yn(),ce)]),apis:{resetToMin:ie=>{B.setToMin(ie,o)},resetToMax:ie=>{B.setToMax(ie,o)},setValue:K,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,a,c)=>{o.setValue(a,c)},resetToMin:(o,a)=>{o.resetToMin(a)},resetToMax:(o,a)=>{o.resetToMax(a)},refresh:(o,a)=>{o.refresh(a)}}}),S2=fn("rgb-hex-update"),F_=fn("slider-update"),ZA=fn("palette-update"),z_="form",H_=[mn("formBehaviours",[nt])],jA=o=>"<alloy.field."+o+">",$m=(o,a)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.formBehaviours,[nt.config({store:{mode:"manual",getValue:c=>{const d=Pk(c,o);return En(d,(h,v)=>h().bind(w=>{return k=Vo.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+dd(w.element)),k.fold(()=>_o.error(E),_o.value);var k,E}).map(nt.getValue))},setValue:(c,d)=>{Cn(d,(h,v)=>{Br(c,o,v).each(w=>{Vo.getCurrent(w).each(k=>{nt.setValue(k,h)})})})}}})]),apis:{getField:(c,d)=>Br(c,o,d).bind(Vo.getCurrent)}}),pp={getField:_1((o,a,c)=>o.getField(a,c)),sketch:o=>{const a=(()=>{const v=[];return{field:(w,k)=>(v.push(w),Ik(z_,jA(w),k)),record:te(v)}})(),c=o(a),d=a.record(),h=bt(d,v=>ll({name:v,pname:jA(v)}));return xx(z_,H_,h,$m,c)}},LR=fn("valid-input"),FR=fn("invalid-input"),zR=fn("validating-input"),KA="colorcustom.rgb.",k2={isEnabled:Ne,setEnabled:me,immediatelyShow:me,immediatelyHide:me},Z7=(o,a,c,d,h,v)=>{const w=(K,Y)=>{const se=Y.get();K!==se.isEnabled()&&(se.setEnabled(K),K?se.immediatelyShow():se.immediatelyHide())},k=(K,Y,se)=>zm.config({invalidClass:a("invalid"),notify:{onValidate:ce=>{Sn(ce,zR,{type:K})},onValid:ce=>{w(!1,se),Sn(ce,LR,{type:K,value:nt.getValue(ce)})},onInvalid:ce=>{w(!0,se),Sn(ce,FR,{type:K,value:nt.getValue(ce)})}},validator:{validate:ce=>{const ve=nt.getValue(ce),ie=Y(ve)?_o.value(!0):_o.error(o("aria.input.invalid"));return Fm(ie)},validateOnLoad:!1}}),E=(K,Y,se,ce,ve)=>{const ie=Dn(k2),ae=o(KA+"range"),fe=lr.parts.label({dom:{tag:"label",attributes:{"aria-label":ce}},components:[Cs(se)]}),ye=lr.parts.field({data:ve,factory:Xg,inputAttributes:{type:"text",...Y==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Ft([k(Y,K,ie),Rr.config({}),Us.config({...h({tooltipText:"",onSetup:gt=>{ie.set({isEnabled:()=>Us.isEnabled(gt),setEnabled:Bt=>Us.setEnabled(gt,Bt),immediatelyShow:()=>Us.immediateOpenClose(gt,!0),immediatelyHide:()=>Us.immediateOpenClose(gt,!1)}),Us.setEnabled(gt,!1)},onShow:(gt,Bt)=>{Us.setComponents(gt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Cs(o(Y==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:gt=>{zm.isInvalid(gt)&&zm.run(gt).get(me)}}),_e=fn("aria-invalid"),Le=tr(v("invalid",D.some(_e),"warning")),Xe=[fe,ye,tr({dom:{tag:"div",classes:[a("invalid-icon")]},components:[Le.asSpec()]}).asSpec()],_t=Y!=="hex"?[lr.parts["aria-descriptor"]({text:ae})]:[],vt=Xe.concat(_t);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:vt}},O=(K,Y)=>{const se=Y.red,ce=Y.green,ve=Y.blue;nt.setValue(K,{red:se,green:ce,blue:ve})},L=tr({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(K,Y)=>{L.getOpt(K).each(se=>{Jn(se.element,"background-color","#"+Y.value)})};return eu({factory:()=>{const K={red:Dn(D.some(255)),green:Dn(D.some(255)),blue:Dn(D.some(255)),hex:Dn(D.some("ffffff"))},Y=Xe=>K[Xe].get(),se=(Xe,_t)=>{K[Xe].set(_t)},ce=Xe=>{const _t=Xe.red,vt=Xe.green,gt=Xe.blue;se("red",D.some(_t)),se("green",D.some(vt)),se("blue",D.some(gt))},ve=(Xe,_t)=>{const vt=_t.event;vt.type!=="hex"?se(vt.type,D.none()):d(Xe)},ie=(Xe,_t)=>{const vt=_t.event;(gt=>gt.type==="hex")(vt)?((gt,Bt)=>{c(gt);const sn=GE(Bt);se("hex",D.some(sn.value));const vn=wd(sn);O(gt,vn),ce(vn),Sn(gt,S2,{hex:sn}),B(gt,sn)})(Xe,vt.value):((gt,Bt,sn)=>{const vn=parseInt(sn,10);se(Bt,D.some(vn)),Y("red").bind(In=>Y("green").bind(qn=>Y("blue").map(So=>eh(In,qn,So,1)))).each(In=>{const qn=((So,Hr)=>{const Jr=f2(Hr);return pp.getField(So,"hex").each(mo=>{Zn.isFocused(mo)||nt.setValue(So,{hex:Jr.value})}),Jr})(gt,In);Sn(gt,S2,{hex:qn}),B(gt,qn)})})(Xe,vt.type,vt.value)},ae=Xe=>({label:o(KA+Xe+".label"),description:o(KA+Xe+".description")}),fe=ae("red"),ye=ae("green"),_e=ae("blue"),Le=ae("hex");return yr(pp.sketch(Xe=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Xe.field("red",lr.sketch(E(m2,"red",fe.label,fe.description,255))),Xe.field("green",lr.sketch(E(m2,"green",ye.label,ye.description,255))),Xe.field("blue",lr.sketch(E(m2,"blue",_e.label,_e.description,255))),Xe.field("hex",lr.sketch(E(BD,"hex",Le.label,Le.description,"ffffff"))),L.asSpec()],formBehaviours:Ft([zm.config({invalidClass:a("form-invalid")}),uo("rgb-form-events",[xt(LR,ie),xt(FR,ve),xt(zR,ve)])])})),{apis:{updateHex:(Xe,_t)=>{nt.setValue(Xe,{hex:_t.value}),((vt,gt)=>{const Bt=wd(gt);O(vt,Bt),ce(Bt)})(Xe,_t),B(Xe,_t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,Y,se)=>{K.updateHex(Y,se)}},extraApis:{}})},HR=(o,a,c,d)=>eu({name:"ColourPicker",configFields:[At("dom"),et("onValidHex",me),et("onInvalidHex",me)],factory:v=>{const w=Z7(o,a,v.onValidHex,v.onInvalidHex,c,d),k=((ve,ie)=>{const ae=Sd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ie("sv-palette-spectrum")]}}),fe=Sd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ie("sv-palette-thumb")],innerHtml:`<div class=${ie("sv-palette-inner-thumb")} role="presentation"></div>`}}),ye=(_e,Le)=>{const{width:Xe,height:_t}=_e,vt=_e.getContext("2d");if(vt===null)return;vt.fillStyle=Le,vt.fillRect(0,0,Xe,_t);const gt=vt.createLinearGradient(0,0,Xe,0);gt.addColorStop(0,"rgba(255,255,255,1)"),gt.addColorStop(1,"rgba(255,255,255,0)"),vt.fillStyle=gt,vt.fillRect(0,0,Xe,_t);const Bt=vt.createLinearGradient(0,0,0,_t);Bt.addColorStop(0,"rgba(0,0,0,0)"),Bt.addColorStop(1,"rgba(0,0,0,1)"),vt.fillStyle=Bt,vt.fillRect(0,0,Xe,_t)};return eu({factory:_e=>{const Le=te({x:0,y:0}),Xe=Ft([Vo.config({find:D.some}),Zn.config({})]);return Sd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ve(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ie("sv-palette")]},model:{mode:"xy",getInitialValue:Le},rounded:!1,components:[ae,fe],onChange:(_t,vt,gt)=>{ee(gt)||Jt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",Math.floor(gt.x),Math.floor(100-gt.y)])),Sn(_t,ZA,{value:gt})},onInit:(_t,vt,gt,Bt)=>{ye(gt.element.dom,FD(zD))},sliderBehaviours:Xe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(_e,Le,Xe)=>{((_t,vt)=>{const gt=_t.components()[0].element.dom,Bt=pv(vt,100,100),sn=LD(Bt);ye(gt,FD(sn))})(Le,Xe)},setThumb:(_e,Le,Xe)=>{((_t,vt)=>{const gt=i_(wd(vt));Sd.setValue(_t,{x:gt.saturation,y:100-gt.value}),Jt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",gt.saturation,gt.value]))})(Le,Xe)}},extraApis:{}})})(o,a),E={paletteRgba:Dn(zD),paletteHue:Dn(0)},O=tr(((ve,ie)=>{const ae=Sd.parts.spectrum({dom:{tag:"div",classes:[ie("hue-slider-spectrum")],attributes:{role:"presentation"}}}),fe=Sd.parts.thumb({dom:{tag:"div",classes:[ie("hue-slider-thumb")],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:[ie("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:te(0)},components:[ae,fe],sliderBehaviours:Ft([Zn.config({})]),onChange:(ye,_e,Le)=>{Jt(ye.element,"aria-valuenow",Math.floor(360-3.6*Le)),Sn(ye,F_,{value:Le})}})})(0,a)),L=tr(k.sketch({})),B=tr(w.sketch({})),H=(ve,ie,ae)=>{L.getOpt(ve).each(fe=>{k.setHue(fe,ae)})},K=(ve,ie)=>{B.getOpt(ve).each(ae=>{w.updateHex(ae,ie)})},Y=(ve,ie,ae)=>{O.getOpt(ve).each(fe=>{Sd.setValue(fe,(ye=>100-ye/360*100)(ae))})},se=(ve,ie)=>{L.getOpt(ve).each(ae=>{k.setThumb(ae,ie)})},ce=(ve,ie,ae,fe)=>{((ye,_e)=>{const Le=wd(ye);E.paletteRgba.set(Le),E.paletteHue.set(_e)})(ie,ae),Zt(fe,ye=>{ye(ve,ie,ae)})};return{uid:v.uid,dom:v.dom,components:[L.asSpec(),O.asSpec(),B.asSpec()],behaviours:Ft([uo("colour-picker-events",[xt(S2,(()=>{const ve=[H,Y,se];return(ie,ae)=>{const fe=ae.event.hex,ye=(_e=>i_(wd(_e)))(fe);ce(ie,fe,ye.hue,ve)}})()),xt(ZA,(()=>{const ve=[K];return(ie,ae)=>{const fe=ae.event.value,ye=E.paletteHue.get(),_e=pv(ye,fe.x,100-fe.y),Le=l_(_e);ce(ie,Le,ye,ve)}})()),xt(F_,(()=>{const ve=[H,K];return(ie,ae)=>{const fe=(_t=>(100-_t)/100*360)(ae.event.value),ye=E.paletteRgba.get(),_e=i_(ye),Le=pv(fe,_e.saturation,_e.value),Xe=l_(Le);ce(ie,Xe,fe,ve)}})())]),Vo.config({find:ve=>B.getOpt(ve)}),An.config({mode:"acyclic"})])}}}),Um=()=>Vo.config({find:D.some}),qA=o=>Vo.config({find:a=>qr(a.element,o).bind(c=>a.getSystem().getByDom(c).toOptional())}),GA=Pn([et("preprocess",Ae),et("postprocess",Ae)]),YA=(o,a)=>{const c=li("RepresentingConfigs.memento processors",GA,a);return nt.config({store:{mode:"manual",getValue:d=>{const h=o.get(d),v=nt.getValue(h);return c.postprocess(v)},setValue:(d,h)=>{const v=c.preprocess(h),w=o.get(d);nt.setValue(w,v)}}})},b0=(o,a,c)=>nt.config({store:{mode:"manual",...o.map(d=>({initialValue:d})).getOr({}),getValue:a,setValue:c}}),XA=(o,a,c)=>b0(o,d=>a(d.element),(d,h)=>c(d.element,h)),E2=o=>nt.config({store:{mode:"memory",initialValue:o}}),j7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var VR=tinymce.util.Tools.resolve("tinymce.Resource");const JA=o=>po(o,"init");var rh=tinymce.util.Tools.resolve("tinymce.util.Tools");const QA=(o,a)=>{let c=null;const d=()=>{I(c)||(clearTimeout(c),c=null)};return{cancel:d,throttle:(...h)=>{d(),c=setTimeout(()=>{c=null,o.apply(null,h)},a)}}},e3=fn("alloy-fake-before-tabstop"),t3=fn("alloy-fake-after-tabstop"),$R=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Ft([Zn.config({ignore:!0}),Rr.config({})])}),n3=(o,a)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[$R([e3]),a,$R([t3])],behaviours:Ft([qA(1)])}),o3=(o,a)=>{Sn(o,cs(),{raw:{which:9,shiftKey:a}})},K7=(o,a)=>{const c=a.element;zi(c,e3)?o3(o,!0):zi(c,t3)&&o3(o,!1)},Cv=o=>yv(o,["."+e3,"."+t3].join(","),Ce),bp=fn("update-dialog"),r3=fn("update-title"),UR=fn("update-body"),WR=fn("update-footer"),s3=fn("body-send-message"),V_=fn("dialog-focus-shifted"),a3=Va().browser,_v=a3.isSafari(),ZR=a3.isFirefox(),i3=_v||ZR,jR=a3.isChromium(),q7=({scrollTop:o,scrollHeight:a,clientHeight:c})=>Math.ceil(o)+c>=a,KR=(o,a)=>o.scrollTo(0,a==="bottom"?99999999:a),l3=(o,a,c)=>{const d=o.dom;D.from(d.contentDocument).fold(c,h=>{let v=0;const w=((E,O)=>{const L=E.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!jR&&!_v||$(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(h,a).map(E=>(v=E.scrollTop,E)).forall(q7),k=()=>{const E=d.contentWindow;$(E)&&(w?KR(E,"bottom"):!w&&i3&&v!==0&&KR(E,v))};_v&&d.addEventListener("load",k,{once:!0}),h.open(),h.write(a),h.close(),_v||k()})},c3=Uo(i3,_v?500:200).map(o=>((a,c)=>{let d=null,h=null;return{cancel:()=>{I(d)||(clearTimeout(d),d=null,h=null)},throttle:(...v)=>{h=v,I(d)&&(d=setTimeout(()=>{const w=h;d=null,h=null,a.apply(null,w)},c))}}})(l3,o)),$_=fn("toolbar.button.execute"),vp=fn("common-button-display-events"),u3={[ol()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ja()]:["toolbar-button-events",vp],[ic()]:["toolbar-button-events","dropdown-events","tooltipping"],[Tt()]:["focusing","alloy.base.behaviour",vp]},U_=o=>Jn(o.element,"width",as(o.element,"width")),qR=(o,a,c)=>wc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},a),A2=(o,a)=>qR(o,a,[]),yp=(o,a)=>qR(o,a,[zn.config({})]),d3=(o,a,c)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Cs(c.translate(o))],behaviours:Ft([zn.config({})])}),au=fn("update-menu-text"),Vu=fn("update-menu-icon"),f3=(o,a,c,d)=>{const h=Dn(me),v=o.text.map(se=>tr(d3(se,a,c.providers))),w=o.icon.map(se=>tr(yp(se,c.providers.icons))),k=(se,ce)=>{const ve=nt.getValue(se);return Zn.focus(ve),Sn(ve,"keydown",{raw:ce.event.raw}),cl.close(ve),D.some(!0)},E=o.role.fold(()=>({}),se=>({role:se})),O=D.from(o.listRole).map(se=>({listRole:se})).getOr({}),L=o.ariaLabel.fold(()=>({}),se=>({"aria-label":c.providers.translate(se)})),B=wc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},c.providers.icons),H=fn("common-button-display-events"),K="dropdown-events";return tr(cl.sketch({...o.uid?{uid:o.uid}:{},...E,...O,dom:{tag:"button",classes:[a,`${a}--select`].concat(bt(o.classes,se=>`${a}--${se}`)),attributes:{...L,...$(d)?{"data-mce-name":d}:{}}},components:dv([w.map(se=>se.asSpec()),v.map(se=>se.asSpec()),D.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(se,ce,ve)=>{o.searchable&&(ie=>{aD(ie).each(ae=>Zn.focus(ae))})(ve)},dropdownBehaviours:Ft([...o.dropdownBehaviours,fi(()=>o.disabled||c.providers.isDisabled()),ha(),g0.config({}),zn.config({}),...o.tooltip.map(se=>Us.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(se)}))).toArray(),uo(K,[cp(o,h),Jg(o,h)]),uo(H,[Zr((se,ce)=>o.listRole==="listbox"?me:U_(se))]),uo("menubutton-update-display-text",[xt(au,(se,ce)=>{v.bind(ve=>ve.getOpt(se)).each(ve=>{zn.set(ve,[Cs(c.providers.translate(ce.event.text))])})}),xt(Vu,(se,ce)=>{w.bind(ve=>ve.getOpt(se)).each(ve=>{zn.set(ve,[yp(ce.event.icon,c.providers.icons)])})})])]),eventOrder:yr(u3,{[Tt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ja()]:["toolbar-button-events",Us.name(),K,H]}),sandboxBehaviours:Ft([An.config({mode:"special",onLeft:k,onRight:k}),uo("dropdown-sandbox-events",[xt(oD,(se,ce)=>{(ve=>{const ie=nt.getValue(ve),ae=o2(ve).map(iD);cl.refetch(ie).get(()=>{const fe=_s.getCoupled(ie,"sandbox");ae.each(ye=>o2(fe).each(_e=>((Le,Xe)=>{nt.setValue(Le,Xe.fetchPattern),Le.element.dom.selectionStart=Xe.selectionStart,Le.element.dom.selectionEnd=Xe.selectionEnd})(_e,ye)))})})(se),ce.stop()}),xt(rD,(se,ce)=>{((ve,ie)=>{(ae=>T.getState(ae).bind(or.getHighlighted).bind(or.getHighlighted))(ve).each(ae=>{((fe,ye,_e,Le)=>{const Xe={...Le,target:ye};fe.getSystem().triggerEvent(_e,ye,Xe)})(ve,ae.element,ie.event.eventType,ie.event.interactionEvent)})})(se,ce),ce.stop()})])]),lazySink:c.getSink,toggleClass:`${a}--active`,parts:{menu:{...qC(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:iR,onCollapseMenu:(se,ce,ve)=>{or.getHighlighted(ve).each(ie=>{iR(se,ve,ie)})},onDehighlightItem:p7}}},getAnchorOverrides:()=>({maxHeightFunction:(se,ce)=>{_m()(se,ce-10)}}),fetch:se=>up(Ge(o.fetch,se))})).asSpec()},W_=o=>o.type==="separator",Z_={type:"separator"},GR=(o,a)=>{const c=((d,h)=>{const v=Rn(d,(w,k)=>(E=>p(E))(k)?k===""?w:k==="|"?w.length>0&&!W_(w[w.length-1])?w.concat([Z_]):w:po(h,k.toLowerCase())?w.concat([h[k.toLowerCase()]]):w:w.concat([k]),[]);return v.length>0&&W_(v[v.length-1])&&v.pop(),v})(p(o)?o.split(" "):o,a);return xn(c,(d,h)=>{if((v=>po(v,"getSubmenuItems"))(h)){const v=(k=>{const E=cn(k,"value").getOrThunk(()=>fn("generated-menu-item"));return yr({value:E},k)})(h),w=((k,E)=>{const O=k.getSubmenuItems(),L=GR(O,E);return{item:k,menus:yr(L.menus,{[k.value]:L.items}),expansions:yr(L.expansions,{[k.value]:k.value})}})(v,a);return{menus:yr(d.menus,w.menus),items:[w.item,...d.items],expansions:yr(d.expansions,w.expansions)}}return{...d,items:[h,...d.items]}},{menus:{},expansions:{},items:[]})},v0=(o,a,c,d)=>{const h=fn("primary-menu"),v=GR(o,c.shared.providers.menuItems());if(v.items.length===0)return D.none();const w=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(d),k=lR(h,v.items,a,c,d.isHorizontalMenu,w),E=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(d),O=En(v.menus,(B,H)=>lR(H,B,a,c,!1,E)),L=yr(O,Uc(h,k));return D.from(Kg.tieredData(h,L,v.expansions))},T2=o=>!po(o,"items"),m3="data-value",j_=(o,a,c,d,h)=>bt(c,v=>T2(v)?{type:"togglemenuitem",...h?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{nt.setValue(o,v.value),Sn(o,Zi,{name:a}),Zn.focus(o)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>j_(o,a,v.items,d,h)}),K_=(o,a)=>It(o,c=>T2(c)?Uo(c.value===a,c):K_(c.items,a)),G7=eu({name:"HtmlSelect",configFields:[At("options"),mn("selectBehaviours",[Zn,nt]),et("selectClasses",[]),et("selectAttributes",{}),Io("data")],factory:(o,a)=>{const c=bt(o.options,h=>({dom:{tag:"option",value:h.value,innerHtml:h.text}})),d=o.data.map(h=>Uc("initialValue",h)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:co(o.selectBehaviours,[Zn.config({}),nt.config({store:{mode:"manual",getValue:h=>af(h.element),setValue:(h,v)=>{const w=$t(o.options);J(o.options,k=>k.value===v).isSome()?pm(h.element,v):h.element.dom.selectedIndex===-1&&v===""&&w.each(k=>pm(h.element,k.value))},...d}})])}}}),YR=te([et("field1Name","field1"),et("field2Name","field2"),Tu("onLockedChange"),Dg(["lockClass"]),et("locked",!1),jn("coupledFieldBehaviours",[Vo,nt])]),g3=(o,a)=>ll({factory:lr,name:o,overrides:c=>({fieldBehaviours:Ft([uo("coupled-input-behaviour",[xt(lm(),d=>{((h,v,w)=>Br(h,v,w).bind(Vo.getCurrent))(d,c,a).each(h=>{Br(d,c,"lock").each(v=>{Un.isOn(v)&&c.onLockedChange(d,h,v)})})})])])})}),XR=te([g3("field1","field2"),g3("field2","field1"),ll({factory:Ti,schema:[At("dom")],name:"lock",overrides:o=>({buttonBehaviours:Ft([Un.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Sc=xl({name:"FormCoupledInputs",configFields:YR(),partFields:XR(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:$n(o.coupledFieldBehaviours,[Vo.config({find:D.some}),nt.config({store:{mode:"manual",getValue:h=>{const v=Lk(h,o,["field1","field2"]);return{[o.field1Name]:nt.getValue(v.field1()),[o.field2Name]:nt.getValue(v.field2())}},setValue:(h,v)=>{const w=Lk(h,o,["field1","field2"]);io(v,o.field1Name)&&nt.setValue(w.field1(),v[o.field1Name]),io(v,o.field2Name)&&nt.setValue(w.field2(),v[o.field2Name])}}})]),apis:{getField1:h=>Br(h,o,"field1"),getField2:h=>Br(h,o,"field2"),getLock:h=>Br(h,o,"lock")}}),apis:{getField1:(o,a)=>o.getField1(a),getField2:(o,a)=>o.getField2(a),getLock:(o,a)=>o.getLock(a)}}),h3=o=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(a!==null){const c=parseFloat(a[1]),d=a[2];return _o.value({value:c,unit:d})}return _o.error(o)},p3=(o,a)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=h=>po(c,h);return o.unit===a?D.some(o.value):d(o.unit)&&d(a)?c[o.unit]===c[a]?D.some(o.value):D.some(o.value/c[o.unit]*c[a]):D.none()},b3=o=>D.none(),JR=(o,a)=>{const c=o.label.map(L=>fp(L,a)),d=[Kn.config({disabled:()=>o.disabled||a.isDisabled()}),ha(),An.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:L=>(go(L,w2),D.some(!0))}),uo("textfield-change",[xt(lm(),(L,B)=>{Sn(L,Zi,{name:o.name})}),xt(Ty(),(L,B)=>{Sn(L,Zi,{name:o.name})})]),Rr.config({})],h=o.validation.map(L=>zm.config({getRoot:B=>ai(B.element),invalidClass:"tox-invalid",validator:{validate:B=>{const H=nt.getValue(B),K=L.validator(H);return Fm(K===!0?_o.value(H):_o.error(K))},validateOnLoad:L.validateOnLoad}})).toArray(),v={...o.placeholder.fold(te({}),L=>({placeholder:a.translate(L)})),...o.inputMode.fold(te({}),L=>({inputmode:L})),"data-mce-name":o.name},w=lr.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(L=>({data:L})).getOr({}),inputAttributes:v,inputClasses:[o.classname],inputBehaviours:Ft(br([d,h])),selectOnFocus:!1,factory:Xg}),k=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[Kn.config({disabled:()=>o.disabled||a.isDisabled(),onDisabled:L=>{lr.getField(L).each(Kn.disable)},onEnabled:L=>{lr.getField(L).each(Kn.enable)}}),ha()];return x2(c,k,E,O)},O2=(o,a)=>a.getAnimationRoot.fold(()=>o.element,c=>c(o)),sh=o=>o.dimension.property,xp=(o,a)=>o.dimension.getDimension(a),wp=(o,a)=>{const c=O2(o,a);zl(c,[a.shrinkingClass,a.growingClass])},q_=(o,a)=>{ps(o.element,a.openClass),us(o.element,a.closedClass),Jn(o.element,sh(a),"0px"),hu(o.element)},v3=(o,a)=>{ps(o.element,a.closedClass),us(o.element,a.openClass),er(o.element,sh(a))},QR=(o,a,c,d)=>{c.setCollapsed(),Jn(o.element,sh(a),xp(a,o.element)),wp(o,a),q_(o,a),a.onStartShrink(o),a.onShrunk(o)},Y7=(o,a,c,d)=>{const h=d.getOrThunk(()=>xp(a,o.element));c.setCollapsed(),Jn(o.element,sh(a),h),hu(o.element);const v=O2(o,a);ps(v,a.growingClass),us(v,a.shrinkingClass),q_(o,a),a.onStartShrink(o)},eN=(o,a,c)=>{const d=xp(a,o.element);(d==="0px"?QR:Y7)(o,a,c,D.some(d))},tN=(o,a,c)=>{const d=O2(o,a),h=zi(d,a.shrinkingClass),v=xp(a,o.element);v3(o,a);const w=xp(a,o.element);(h?()=>{Jn(o.element,sh(a),v),hu(o.element)}:()=>{q_(o,a)})(),ps(d,a.shrinkingClass),us(d,a.growingClass),v3(o,a),Jn(o.element,sh(a),w),c.setExpanded(),a.onStartGrow(o)},D2=(o,a,c)=>{const d=O2(o,a);return zi(d,a.growingClass)===!0},nN=(o,a,c)=>{const d=O2(o,a);return zi(d,a.shrinkingClass)===!0};var oN=Object.freeze({__proto__:null,refresh:(o,a,c)=>{if(c.isExpanded()){er(o.element,sh(a));const d=xp(a,o.element);Jn(o.element,sh(a),d)}},grow:(o,a,c)=>{c.isExpanded()||tN(o,a,c)},shrink:(o,a,c)=>{c.isExpanded()&&eN(o,a,c)},immediateShrink:(o,a,c)=>{c.isExpanded()&&QR(o,a,c)},hasGrown:(o,a,c)=>c.isExpanded(),hasShrunk:(o,a,c)=>c.isCollapsed(),isGrowing:D2,isShrinking:nN,isTransitioning:(o,a,c)=>D2(o,a)||nN(o,a),toggleGrow:(o,a,c)=>{(c.isExpanded()?eN:tN)(o,a,c)},disableTransitions:wp,immediateGrow:(o,a,c)=>{c.isExpanded()||(v3(o,a),Jn(o.element,sh(a),xp(a,o.element)),wp(o,a),c.setExpanded(),a.onStartGrow(o),a.onGrown(o))}}),X7=Object.freeze({__proto__:null,exhibit:(o,a,c)=>{const d=a.expanded;return Ns(d?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:Uc(a.dimension.property,"0px")})},events:(o,a)=>to([of(eb(),(c,d)=>{d.event.raw.propertyName===o.dimension.property&&(wp(c,o),a.isExpanded()&&er(c.element,o.dimension.property),(a.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),rN=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Io("getAnimationRoot"),Fo("onShrunk"),Fo("onStartShrink"),Fo("onGrown"),Fo("onStartGrow"),et("expanded",!1),Sa("dimension",Xs("property",{width:[Nr("property","width"),Nr("getDimension",o=>ua(o)+"px")],height:[Nr("property","height"),Nr("getDimension",o=>ms(o)+"px")]}))];const Rl=ga({fields:rN,name:"sliding",active:X7,apis:oN,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(o.expanded);return ma({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ge(a.set,!1),setExpanded:Ge(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),sN=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setActive:a=>{const c=o.element;a?(us(c,"tox-tbtn--enabled"),Jt(c,"aria-pressed",!0)):(ps(c,"tox-tbtn--enabled"),fo(c,"aria-pressed"))},isActive:()=>zi(o.element,"tox-tbtn--enabled"),setText:a=>{Sn(o,au,{text:a})},setIcon:a=>Sn(o,Vu,{icon:a})}),Sv=(o,a,c,d,h=!0,v)=>f3({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:d,fetch:(w,k)=>{const E={pattern:o.search.isSome()?m0(w):""};o.fetch(O=>{k(v0(O,Ef.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},E,sN(w))},onSetup:o.onSetup,getApi:sN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...h?[Rr.config({})]:[]]},a,c.shared,v),aN=(o,a,c)=>{const d=v=>w=>{const k=!w.isActive();w.setActive(k),v.storage.set(k),c.shared.getSink().each(E=>{a().getOpt(E).each(O=>{ki(O.element),Sn(O,Tf,{name:v.name,value:v.storage.get()})})})},h=v=>w=>{w.setActive(v.storage.get())};return v=>{v(bt(o,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:d(w),onSetup:h(w)}}))}},y3=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[Cs(o)]}),x3=fn("leaf-label-event-id"),w3=({leaf:o,onLeafAction:a,visible:c,treeId:d,selectedId:h,backstage:v})=>{const w=o.menu.map(E=>Sv(E,"tox-mbtn",v,D.none(),c)),k=[y3(o.title)];return w.each(E=>k.push(E)),Ti.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(o.id),E.getSystem().broadcastOn([`update-active-item-${d}`],{value:o.id})},eventOrder:{[cs()]:[x3,"keying"]},buttonBehaviours:Ft([...c?[Rr.config({})]:[],Un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),al.config({channels:{[`update-active-item-${d}`]:{onReceive:(E,O)=>{(O.value===o.id?Un.on:Un.off)(E)}}}}),uo(x3,[Zr((E,O)=>{h.each(L=>{(L===o.id?Un.on:Un.off)(E)})}),xt(cs(),(E,O)=>{const L=O.event.raw.code==="ArrowLeft",B=O.event.raw.code==="ArrowRight";L?(vm(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(K=>{T1(H,".tox-tree--directory__label").each(Y=>{K.getSystem().getByDom(Y).each(Zn.focus)})})}),O.stop()):B&&O.stop()})])])})},iN=fn("directory-label-event-id"),J7=({directory:o,visible:a,noChildren:c,backstage:d})=>{const h=o.menu.map(O=>Sv(O,"tox-mbtn",d,D.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=d.shared.providers.icons,((O,L,B)=>wc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,k))]},y3(o.title)];var w,k;h.each(O=>{v.push(O)});const E=O=>{vm(O.element,".tox-tree--directory").each(L=>{O.getSystem().getByDom(L).each(B=>{const H=!Un.isOn(B);Un.toggle(B),Sn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return Ti.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[cs()]:[iN,"keying"]},buttonBehaviours:Ft([...a?[Rr.config({})]:[],uo(iN,[xt(cs(),(O,L)=>{const B=L.event.raw.code==="ArrowRight",H=L.event.raw.code==="ArrowLeft";B&&c&&L.stop(),(B||H)&&vm(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(Y=>{!Un.isOn(Y)&&B||Un.isOn(Y)&&H?(E(O),L.stop()):H&&!Un.isOn(Y)&&(vm(Y.element,".tox-tree--directory").each(se=>{T1(se,".tox-tree--directory__label").each(ce=>{Y.getSystem().getByDom(ce).each(Zn.focus)})}),L.stop())})})})])])})},Q7=({children:o,onLeafAction:a,visible:c,treeId:d,expandedIds:h,selectedId:v,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(k=>k.type==="leaf"?w3({leaf:k,selectedId:v,onLeafAction:a,visible:c,treeId:d,backstage:w}):G_({directory:k,expandedIds:h,selectedId:v,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:w})),behaviours:Ft([Rl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),zn.config({})])}),lN=fn("directory-event-id"),G_=({directory:o,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:h,expandedIds:v,selectedId:w})=>{const{children:k}=o,E=Dn(v),O=v.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[J7({directory:o,visible:c,noChildren:o.children.length===0,backstage:h}),Q7({children:k,expandedIds:v,selectedId:w,onLeafAction:a,visible:O,treeId:d,backstage:h})],behaviours:Ft([uo(lN,[Zr((L,B)=>{Un.set(L,O)}),xt("expand-tree-node",(L,B)=>{const{expanded:H,node:K}=B.event;E.set(H?[...E.get(),K]:E.get().filter(Y=>Y!==K))})]),Un.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,B)=>{const H=L.components()[1],K=(Y=B,k.map(se=>se.type==="leaf"?w3({leaf:se,selectedId:w,onLeafAction:a,visible:Y,treeId:d,backstage:h}):G_({directory:se,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:Y,treeId:d,backstage:h})));var Y;B?Rl.grow(H):Rl.shrink(H),zn.set(H,K)}})])}},eL=fn("tree-event-id");var tL=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.stream.streams.setup(o,a);return to([xt(o.event,c),Au(()=>a.cancel())].concat(o.cancelEvent.map(d=>[xt(d,()=>a.cancel())]).getOr([])))}});const cN=o=>{const a=Dn(null);return ma({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:c=>{a.set(c)},cancel:()=>{const c=a.get();c!==null&&c.cancel()}})};var nL=Object.freeze({__proto__:null,throttle:cN,init:o=>o.stream.streams.state(o)}),oL=[Sa("stream",Xs("mode",{throttle:[At("delay"),et("stopEvent",!0),Nr("streams",{setup:(o,a)=>{const c=o.stream,d=QA(o.onStream,c.delay);return a.setTimer(d),(h,v)=>{d.throttle(h,v),c.stopEvent&&v.stop()}},state:cN})]})),et("event","input"),Io("cancelEvent"),Tu("onStream")];const C3=ga({fields:oL,name:"streaming",active:tL,state:nL}),Y_=(o,a,c)=>{const d=nt.getValue(c);nt.setValue(a,d),_3(a)},X_=(o,a)=>{const c=o.element,d=af(c),h=c.dom;wo(c,"type")!=="number"&&a(h,d)},_3=o=>{X_(o,(a,c)=>a.setSelectionRange(c.length,c.length))},S3=te("alloy.typeahead.itemexecute"),rL=te([Io("lazySink"),At("fetch"),et("minChars",5),et("responseTime",1e3),Fo("onOpen"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),et("layouts",D.none()),et("eventOrder",{}),Si("model",{},[et("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),et("selectsOver",!0),et("populateFromBrowse",!0)]),Fo("onSetValue"),rl("onExecute"),Fo("onItemExecute"),et("inputClasses",[]),et("inputAttributes",{}),et("inputStyles",{}),et("matchWidth",!0),et("useMinWidth",!1),et("dismissOnBlur",!0),Dg(["openClass"]),Io("initialData"),Io("listRole"),mn("typeaheadBehaviours",[Zn,nt,C3,An,Un,_s]),_a("lazyTypeaheadComp",()=>Dn(D.none)),_a("previewing",()=>Dn(!0))].concat(HP()).concat(vA())),uN=te([vd({schema:[Og()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(a,c,d)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(h=>{((v,w,k)=>{if(v.selectsOver){const E=nt.getValue(w),O=v.getDisplayText(E),L=nt.getValue(k);return v.getDisplayText(L).indexOf(O)===0?D.some(()=>{Y_(0,w,k),((B,H)=>{X_(B,(K,Y)=>K.setSelectionRange(H,Y.length))})(w,O.length)}):D.none()}return D.none()})(o.model,h,d).fold(()=>{o.model.selectsOver?(or.dehighlight(c,d),o.previewing.set(!0)):o.previewing.set(!1)},v=>{v(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(h=>{o.model.populateFromBrowse&&Y_(o.model,h,d),No(d.element,"id").each(v=>Jt(h.element,"aria-activedescendant",v))})},onExecute:(a,c)=>o.lazyTypeaheadComp.get().map(d=>(Sn(d,S3(),{item:c}),!0)),onHover:(a,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&Y_(o.model,d,c)})}})})]),sL=xl({name:"Typeahead",configFields:rL(),partFields:uN(),factory:(o,a,c,d)=>{const h=(B,H,K)=>{o.previewing.set(!1);const Y=_s.getCoupled(B,"sandbox");if(T.isOpen(Y))Vo.getCurrent(Y).each(se=>{or.getHighlighted(se).fold(()=>{K(se)},()=>{cc(Y,se.element,"keydown",H)})});else{const se=ce=>{Vo.getCurrent(ce).each(K)};f_(o,w(B),B,Y,d,se,Wi.HighlightMenuAndItem).get(me)}},v=VP(o),w=B=>H=>H.map(K=>{const Y=bi(K.menus),se=Ko(Y,ce=>ho(ce.items,ve=>ve.type==="item"));return nt.getState(B).update(bt(se,ce=>ce.data)),K}),k=B=>Vo.getCurrent(B),E="typeaheadevents",O=[Zn.config({}),nt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:B=>af(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,H)=>{pm(B.element,o.model.getDisplayText(H))},...o.initialData.map(B=>Uc("initialValue",B)).getOr({})}}),C3.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(B,H)=>{const K=_s.getCoupled(B,"sandbox");if(Zn.isFocused(B)&&af(B.element).length>=o.minChars){const Y=k(K).bind(ce=>or.getHighlighted(ce).map(nt.getValue));o.previewing.set(!0);const se=ce=>{k(K).each(ve=>{Y.fold(()=>{o.model.selectsOver&&or.highlightFirst(ve)},ie=>{or.highlightBy(ve,ae=>nt.getValue(ae).value===ie.value),or.getHighlighted(ve).orThunk(()=>(or.highlightFirst(ve),D.none()))})})};f_(o,w(B),B,K,d,se,Wi.HighlightJustMenu).get(me)}},cancelEvent:id()}),An.config({mode:"special",onDown:(B,H)=>(h(B,H,or.highlightFirst),D.some(!0)),onEscape:B=>{const H=_s.getCoupled(B,"sandbox");return T.isOpen(H)?(T.close(H),D.some(!0)):D.none()},onUp:(B,H)=>(h(B,H,or.highlightLast),D.some(!0)),onEnter:B=>{const H=_s.getCoupled(B,"sandbox"),K=T.isOpen(H);if(K&&!o.previewing.get())return k(H).bind(Y=>or.getHighlighted(Y)).map(Y=>(Sn(B,S3(),{item:Y}),!0));{const Y=nt.getValue(B);return go(B,id()),o.onExecute(H,B,Y),K&&T.close(H),D.some(!0)}}}),Un.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:B=>bA(o,B,{onOpen:()=>Un.on(B),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>fo(H.element,"aria-activedescendant")),Un.off(B)}})}}),uo(E,[Zr(B=>{o.lazyTypeaheadComp.set(D.some(B))}),Au(B=>{o.lazyTypeaheadComp.set(D.none())}),jc(B=>{const H=me;hA(o,w(B),B,d,H,Wi.HighlightMenuAndItem).get(me)}),xt(S3(),(B,H)=>{const K=_s.getCoupled(B,"sandbox");Y_(o.model,B,H.event.item),go(B,id()),o.onItemExecute(B,K,H.event.item,nt.getValue(B)),T.close(K),_3(B)})].concat(o.dismissOnBlur?[xt(Oh(),B=>{const H=_s.getCoupled(B,"sandbox");Ms(H.element).isNone()&&T.close(H)})]:[]))],L={[ic()]:[nt.name(),C3.name(),E],...o.eventOrder};return{uid:o.uid,dom:nD(yr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...co(o.typeaheadBehaviours,O)},eventOrder:L}}}),y0=o=>({...o,toCached:()=>y0(o.toCached()),bindFuture:a=>y0(o.bind(c=>c.fold(d=>Fm(_o.error(d)),d=>a(d)))),bindResult:a=>y0(o.map(c=>c.bind(a))),mapResult:a=>y0(o.map(c=>c.map(a))),mapError:a=>y0(o.map(c=>c.mapError(a))),foldResult:(a,c)=>o.map(d=>d.fold(a,c)),withTimeout:(a,c)=>y0(up(d=>{let h=!1;const v=setTimeout(()=>{h=!0,d(_o.error(c()))},a);o.get(w=>{h||(clearTimeout(v),d(w))})}))}),dN=o=>y0(up(o)),R2=(o,a,c=[],d,h,v,w)=>{const k=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Ft([fi(()=>!o.enabled||w.isDisabled()),ha(),Rr.config({}),...v.map(L=>Us.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),uo("button press",[Vw("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},O=yr(E,{dom:d});return yr(O,{components:h})},fN=(o,a,c,d=[],h)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(E=>({"aria-label":c.translate(E)})).getOr({}),"data-mce-name":h}},w=o.icon.map(E=>A2(E,c.icons)),k=dv([w]);return R2(o,a,d,v,k,o.tooltip,c)},k3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},mN=(o,a,c,d=[],h=[])=>{const v=c.translate(o.text),w=o.icon.map(B=>A2(B,c.icons)),k=[w.getOrThunk(()=>Cs(v))],E=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...k3(E),...w.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...h],attributes:{"aria-label":v,"data-mce-name":o.text}},L=o.icon.map(te(v));return R2(o,a,d,O,k,L,c)},gN=(o,a,c,d=[],h=[])=>{const v=mN(o,D.some(a),c,d,h);return Ti.sketch(v)},E3=(o,a)=>c=>{a==="custom"?Sn(c,Tf,{name:o,value:{}}):a==="submit"?go(c,w2):a==="cancel"?go(c,th):console.error("Unknown button type: ",a)},kv=(o,a,c)=>{if(((d,h)=>h==="menu")(0,a)){const d=()=>w,h=o,v={...o,type:"menubutton",search:D.none(),onSetup:k=>(k.setEnabled(o.enabled),me),fetch:aN(h.items,d,c)},w=tr(Sv(v,"tox-tbtn",c,D.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return w.asSpec()}if(((d,h)=>h==="custom"||h==="cancel"||h==="submit")(0,a)){const d=E3(o.name,a),h={...o,borderless:!1};return gN(h,d,c.shared.providers,[])}if(((d,h)=>h==="togglebutton")(0,a))return((d,h,v)=>{var w,k;const E=d.icon.map(ae=>yp(ae,h.icons)).map(tr),O=d.buttonType.getOr(d.primary?"primary":"secondary"),L={...d,name:(w=d.name)!==null&&w!==void 0?w:"",primary:O==="primary",tooltip:d.tooltip,enabled:(k=d.enabled)!==null&&k!==void 0&&k,borderless:!1},B=L.tooltip.or(d.text).map(ae=>({"aria-label":h.translate(ae)})).getOr({}),H=k3(O??"secondary"),K=d.icon.isSome()&&d.text.isSome(),Y={tag:"button",classes:[...H.concat(d.icon.isSome()?["tox-button--icon"]:[]),...d.active?["tox-button--enabled"]:[],...K?["tox-button--icon-and-text"]:[]],attributes:{...B,...$(v)?{"data-mce-name":v}:{}}},se=h.translate(d.text.getOr("")),ce=Cs(se),ve=[...dv([E.map(ae=>ae.asSpec())]),...d.text.isSome()?[ce]:[]],ie=R2(L,D.some(ae=>{Sn(ae,Tf,{name:d.name,value:{setIcon:fe=>{E.map(ye=>ye.getOpt(ae).each(_e=>{zn.set(_e,[yp(fe,h.icons)])}))}}})}),[],Y,ve,d.tooltip,h);return Ti.sketch(ie)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},aL={type:"separator"},iL=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:me}),A3=(o,a)=>({type:"menuitem",value:a,text:o,meta:{attach:void 0},onAction:me}),hN=(o,a)=>(c=>bt(c,iL))(((c,d)=>ho(d,h=>h.type===c))(o,a)),lL=o=>hN("header",o.targets),cL=o=>hN("anchor",o.targets),pN=o=>D.from(o.anchorTop).map(a=>A3("<top>",a)).toArray(),bN=o=>D.from(o.anchorBottom).map(a=>A3("<bottom>",a)).toArray(),T3=(o,a)=>{const c=o.toLowerCase();return ho(a,d=>{var h;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,w=(h=d.value)!==null&&h!==void 0?h:"";return zs(v.toLowerCase(),c)||zs(w.toLowerCase(),c)})},vN=fn("aria-invalid"),uL=(o,a)=>{o.dom.checked=a},kc=o=>o.dom.checked,rs=o=>(a,c,d,h,v)=>cn(c,"name").fold(()=>o(c,h,D.none(),v),w=>a.field(w,o(c,h,cn(d,w),v))),dL={bar:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:bt(c.items,d.interpreter)}))(o,a.shared)),collection:rs((o,a,c)=>gR(o,a.shared.providers,c)),alertbanner:rs((o,a)=>((c,d)=>{const h=K5(c.icon,d.icons);return Cd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:h},components:c.url?[Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:d.translate(c.iconTooltip)}},action:v=>Sn(v,Tf,{name:"alert-banner",value:c.url}),buttonBehaviours:Ft([ZC()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:d.translate(c.text)}}]})})(o,a.shared.providers)),input:rs((o,a,c)=>((d,h,v)=>JR({name:d.name,multiline:!1,label:d.label,inputMode:d.inputMode,placeholder:d.placeholder,flex:!1,disabled:!d.enabled,classname:"tox-textfield",validation:D.none(),maximized:d.maximized,data:v},h))(o,a.shared.providers,c)),textarea:rs((o,a,c)=>((d,h,v)=>JR({name:d.name,multiline:!0,label:d.label,inputMode:D.none(),placeholder:d.placeholder,flex:!0,disabled:!d.enabled,classname:"tox-textarea",validation:D.none(),maximized:d.maximized,data:v},h))(o,a.shared.providers,c)),label:rs((o,a,c,d)=>((h,v,w)=>{const k="tox-label",E=h.align==="center"?[`${k}--center`]:[],O=h.align==="end"?[`${k}--end`]:[],L=tr({dom:{tag:"label",classes:[k,...E,...O]},components:[Cs(v.providers.translate(h.label))]}),B=bt(h.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...B],behaviours:Ft([Um(),zn.config({}),(H=D.none(),XA(H,ud,Eg)),An.config({mode:"acyclic"}),uo("label",[Zr(K=>{h.for.each(Y=>{w(Y).each(se=>{L.getOpt(K).each(ce=>{var ve;const ie=(ve=wo(se.element,"id"))!==null&&ve!==void 0?ve:fn("form-field");Jt(se.element,"id",ie),Jt(ce.element,"for",ie)})})})})])])};var H})(o,a.shared,d)),iframe:(G3=(o,a,c)=>((d,h,v)=>{const w="tox-dialog__iframe",k=d.transparent?[]:[`${w}--opaque`],E=d.border?["tox-navobj-bordered"]:[],O={...d.label.map(K=>({title:K})).getOr({}),...v.map(K=>({srcdoc:K})).getOr({}),...d.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((K,Y)=>{const se=Dn(K.getOr(""));return{getValue:ce=>se.get(),setValue:(ce,ve)=>{if(se.get()!==ve){const ie=ce.element,ae=()=>Jt(ie,"srcdoc",ve);Y?c3.fold(te(l3),fe=>fe.throttle)(ie,ve,ae):ae()}se.set(ve)}}})(v,d.streamContent),B=d.label.map(K=>fp(K,h)),H=lr.parts.field({factory:{sketch:K=>n3(D.from(E),{uid:K.uid,dom:{tag:"iframe",attributes:O,classes:[w,...k]},behaviours:Ft([Rr.config({}),Zn.config({}),b0(v,L.getValue,L.setValue),al.config({channels:{[V_]:{onReceive:(Y,se)=>{se.newFocus.each(ce=>{ai(Y.element).each(ve=>{(Wo(Y.element,ce)?us:ps)(ve,"tox-navobj-bordered-focus")})})}}}})])})}});return x2(B,H,["tox-form__group--stretched"],[])})(o,a.shared.providers,c),(o,a,c,d,h)=>{const v=yr(a,{source:"dynamic"});return rs(G3)(o,v,c,d,h)}),button:rs((o,a)=>((c,d)=>{const h=E3(c.name,"custom");return v=D.none(),w=lr.parts.field({factory:Ti,...mN(c,D.some(h),d,[E2(""),Um()])}),x2(v,w,[],[]);var v,w})(o,a.shared.providers)),checkbox:rs((o,a,c)=>((d,h,v)=>{const w=B=>(B.element.dom.click(),D.some(!0)),k=lr.parts.field({factory:{sketch:Ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ft([Um(),Kn.config({disabled:()=>!d.enabled||h.isDisabled(),onDisabled:B=>{ai(B.element).each(H=>us(H,"tox-checkbox--disabled"))},onEnabled:B=>{ai(B.element).each(H=>ps(H,"tox-checkbox--disabled"))}}),Rr.config({}),Zn.config({}),XA(v,kc,uL),An.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),uo("checkbox-events",[xt(cm(),(B,H)=>{Sn(B,Zi,{name:d.name})})])])}),E=lr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Cs(h.translate(d.label))],behaviours:Ft([g0.config({})])}),O=B=>wc(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},h.icons),L=tr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return lr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),E],fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled()}),ha()])})})(o,a.shared.providers,c)),colorinput:rs((o,a,c)=>((d,h,v,w)=>{const k=lr.parts.field({factory:Xg,inputClasses:["tox-textfield"],data:w,onSetValue:B=>zm.run(B).get(me),inputBehaviours:Ft([Kn.config({disabled:h.providers.isDisabled}),ha(),Rr.config({}),zm.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>ai(B.element),notify:{onValid:B=>{const H=nt.getValue(B);Sn(B,AA,{color:H})}},validator:{validateOnLoad:!1,validate:B=>{const H=nt.getValue(B);if(H.length===0)return Fm(_o.value(!0));{const K=ca("span");Jn(K,"background-color",H);const Y=As(K,"background-color").fold(()=>_o.error("blah"),se=>_o.value(H));return Fm(Y)}}}})]),selectOnFocus:!1}),E=d.label.map(B=>fp(B,h.providers)),O=(B,H)=>{Sn(B,TA,{value:H})},L=tr(((B,H)=>cl.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:Ft([fi(H.providers.isDisabled),ha(),g0.config({}),Rr.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:K=>up(Y=>B.fetch(Y)).map(Y=>D.from(yA(yr(f0(fn("menu-value"),Y,se=>{B.onItemAction(K,se)},B.columns,B.presets,Ef.CLOSE_ON_EXECUTE,Ce,H.providers),{movement:h2(B.columns,B.presets)})))),parts:{menu:qC(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":h.providers.translate("Color swatch")}},layouts:{onRtl:()=>[vs,bs,Bs],onLtr:()=>[bs,vs,Bs]},components:[],fetch:qD(v.getColors(d.storageKey),d.storageKey,v.hasCustomColors()),columns:v.getColorCols(d.storageKey),presets:"color",onItemAction:(B,H)=>{L.getOpt(B).each(K=>{H==="custom"?v.colorPicker(Y=>{Y.fold(()=>go(K,yR),se=>{O(K,se),tA(d.storageKey,se)})},"#ffffff"):O(K,H==="remove"?"":H)})}},h));return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:Ft([uo("form-field-events",[xt(AA,(B,H)=>{L.getOpt(B).each(K=>{Jn(K.element,"background-color",H.event.color)}),Sn(B,Zi,{name:d.name})}),xt(TA,(B,H)=>{lr.getField(B).each(K=>{nt.setValue(K,H.event.value),Vo.getCurrent(B).each(Zn.focus)})}),xt(yR,(B,H)=>{lr.getField(B).each(K=>{Vo.getCurrent(B).each(Zn.focus)})})])])})})(o,a.shared,a.colorinput,c)),colorpicker:rs((o,a,c)=>((d,h,v)=>{const w=O=>"tox-"+O,k=HR((O=>L=>p(L)?O.translate(j7[L]):O.translate(L))(h),w,h.tooltips.getConfig,(O,L,B=O,H=O)=>wc(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:h.translate(H),"aria-live":"polite",...L.fold(()=>({}),K=>({id:K}))}},h.icons)),E=tr(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{Sn(O,Tf,{name:"hex-valid",value:!0})},onInvalidHex:O=>{Sn(O,Tf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Ft([b0(v,O=>{const L=E.get(O);return Vo.getCurrent(L).bind(B=>nt.getValue(B).hex).map(B=>"#"+Tr(B,"#")).getOr("")},(O,L)=>{const B=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(K=>St(K,1)),H=E.get(O);Vo.getCurrent(H).fold(()=>{console.log("Can not find form")},K=>{nt.setValue(K,{hex:B.getOr("")}),pp.getField(K,"hex").each(Y=>{go(Y,lm())})})}),Um()])}})(0,a.shared.providers,c)),dropzone:rs((o,a,c)=>((d,h,v)=>{const w=(Y,se)=>{se.stop()},k=Y=>(se,ce)=>{Zt(Y,ve=>{ve(se,ce)})},E=(Y,se)=>{var ce;if(!Kn.isDisabled(Y)){const ve=se.event.raw;L(Y,(ce=ve.dataTransfer)===null||ce===void 0?void 0:ce.files)}},O=(Y,se)=>{const ce=se.event.raw.target;L(Y,ce.files)},L=(Y,se)=>{se&&(nt.setValue(Y,((ce,ve)=>{const ie=rh.explode(ve.getOption("images_file_types"));return ho(zt(ce),ae=>On(ie,fe=>du(ae.name.toLowerCase(),`.${fe.toLowerCase()}`)))})(se,h)),Sn(Y,Zi,{name:d.name}))},B=tr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ft([uo("input-file-events",[um(Js()),um(Xd())])])}),H=d.label.map(Y=>fp(Y,h)),K=lr.parts.field({factory:{sketch:Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ft([E2(v.getOr([])),Um(),Kn.config({}),Un.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[xt("dragenter",k([w,Un.toggle])),xt("dragleave",k([w,Un.toggle])),xt("dragover",w),xt("drop",k([w,E])),xt(cm(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Cs(h.translate("Drop an image here"))]},Ti.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Cs(h.translate("Browse for an image")),B.asSpec()],action:se=>{B.get(se).element.dom.click()},buttonBehaviours:Ft([Rr.config({}),fi(h.isDisabled),ha()])})]}]})}});return x2(H,K,["tox-form__group--stretched"],[])})(o,a.shared.providers,c)),grid:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:bt(c.items,d.interpreter)}))(o,a.shared)),listbox:rs((o,a,c)=>((d,h,v)=>{const w=On(d.items,H=>!T2(H)),k=h.shared.providers,E=v.bind(H=>K_(d.items,H)).orThunk(()=>$t(d.items).filter(T2)),O=d.label.map(H=>fp(H,k)),L=lr.parts.field({dom:{},factory:{sketch:H=>f3({uid:H.uid,text:E.map(K=>K.text),icon:D.none(),tooltip:D.none(),role:Uo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:d.label,fetch:(K,Y)=>{const se=j_(K,d.name,d.items,nt.getValue(K),w);Y(v0(se,Ef.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:D.none()}))},onSetup:te(me),getApi:te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Rr.config({}),b0(E.map(K=>K.value),K=>wo(K.element,m3),(K,Y)=>{K_(d.items,Y).each(se=>{Jt(K.element,m3,se.value),Sn(K,au,{text:se.text})})})]},"tox-listbox",h.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([O.toArray(),[B]]),fieldBehaviours:Ft([Kn.config({disabled:te(!d.enabled),onDisabled:H=>{lr.getField(H).each(Kn.disable)},onEnabled:H=>{lr.getField(H).each(Kn.enable)}})])})})(o,a,c)),selectbox:rs((o,a,c)=>((d,h,v)=>{const w=bt(d.items,B=>({text:h.translate(B.text),value:B.value})),k=d.label.map(B=>fp(B,h)),E=lr.parts.field({dom:{},...v.map(B=>({data:B})).getOr({}),selectAttributes:{size:d.size},options:w,factory:G7,selectBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled()}),Rr.config({}),uo("selectbox-change",[xt(cm(),(B,H)=>{Sn(B,Zi,{name:d.name})})])])}),O=d.size>1?D.none():D.some(wc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},h.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:br([[E],O.toArray()])};return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([k.toArray(),[L]]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled(),onDisabled:B=>{lr.getField(B).each(Kn.disable)},onEnabled:B=>{lr.getField(B).each(Kn.enable)}}),ha()])})})(o,a.shared.providers,c)),sizeinput:rs((o,a)=>((c,d)=>{let h=b3;const v=fn("ratio-event"),w=se=>wc(se,{tag:"span",classes:["tox-icon","tox-lock-icon__"+se]},d.icons),k=c.label.getOr("Constrain proportions"),E=d.translate(k),O=Sc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ha(),Rr.config({}),Us.config(d.tooltips.getConfig({tooltipText:E}))])}),L=se=>({dom:{tag:"div",classes:["tox-form__group"]},components:se}),B=se=>lr.parts.field({factory:Xg,inputClasses:["tox-textfield"],inputBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ha(),Rr.config({}),uo("size-input-events",[xt(Jo(),(ce,ve)=>{Sn(ce,v,{isField1:se})}),xt(cm(),(ce,ve)=>{Sn(ce,Zi,{name:c.name})})])]),selectOnFocus:!1}),H=se=>({dom:{tag:"label",classes:["tox-label"]},components:[Cs(d.translate(se))]}),K=Sc.parts.field1(L([lr.parts.label(H("Width")),B(!0)])),Y=Sc.parts.field2(L([lr.parts.label(H("Height")),B(!1)]));return Sc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,Y,L([H(" "),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(se,ce,ve)=>{h3(nt.getValue(se)).each(ie=>{h(ie).each(ae=>{nt.setValue(ce,(fe=>{const ye={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let _e=fe.value.toFixed((Le=fe.unit)in ye?ye[Le]:1);var Le;return _e.indexOf(".")!==-1&&(_e=_e.replace(/\.?0*$/,"")),_e+fe.unit})(ae))})})},coupledFieldBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled(),onDisabled:se=>{Sc.getField1(se).bind(lr.getField).each(Kn.disable),Sc.getField2(se).bind(lr.getField).each(Kn.disable),Sc.getLock(se).each(Kn.disable)},onEnabled:se=>{Sc.getField1(se).bind(lr.getField).each(Kn.enable),Sc.getField2(se).bind(lr.getField).each(Kn.enable),Sc.getLock(se).each(Kn.enable)}}),ha(),uo("size-input-events2",[xt(v,(se,ce)=>{const ve=ce.event.isField1,ie=ve?Sc.getField1(se):Sc.getField2(se),ae=ve?Sc.getField2(se):Sc.getField1(se),fe=ie.map(nt.getValue).getOr(""),ye=ae.map(nt.getValue).getOr("");h=((_e,Le)=>{const Xe=h3(_e).toOptional(),_t=h3(Le).toOptional();return Vt(Xe,_t,(vt,gt)=>p3(vt,gt.unit).map(Bt=>gt.value/Bt).map(Bt=>{return sn=Bt,vn=gt.unit,In=>p3(In,vn).map(qn=>({value:qn*sn,unit:vn}));var sn,vn}).getOr(b3)).getOr(b3)})(fe,ye)})])])})})(o,a.shared.providers)),slider:rs((o,a,c)=>((d,h,v)=>{const w=Sd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(h.translate(d.label))]}),k=Sd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Sd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:d.min,maxX:d.max,getInitialValue:te(v.getOrThunk(()=>(Math.abs(d.max)-Math.abs(d.min))/2))},components:[w,k,E],sliderBehaviours:Ft([Um(),Zn.config({})]),onChoose:(O,L,B)=>{Sn(O,Zi,{name:d.name,value:B})},onChange:(O,L,B)=>{Sn(O,Zi,{name:d.name,value:B})}})})(o,a.shared.providers,c)),urlinput:rs((o,a,c)=>((d,h,v,w)=>{const k=h.shared.providers,E=ie=>{const ae=nt.getValue(ie);v.addToHistory(ae.value,d.filetype)},O={...w.map(ie=>({initialData:ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":vN,type:"url"},minChars:0,responseTime:0,fetch:ie=>{const ae=((ye,_e,Le)=>{var Xe,_t;const vt=nt.getValue(_e),gt=(_t=(Xe=vt==null?void 0:vt.meta)===null||Xe===void 0?void 0:Xe.text)!==null&&_t!==void 0?_t:vt.value;return Le.getLinkInformation().fold(()=>[],Bt=>{const sn=T3(gt,(In=>bt(In,qn=>A3(qn,qn)))(Le.getHistory(ye)));return ye==="file"?(vn=[sn,T3(gt,lL(Bt)),T3(gt,br([pN(Bt),cL(Bt),bN(Bt)]))],Rn(vn,(In,qn)=>In.length===0||qn.length===0?In.concat(qn):In.concat(aL,qn),[])):sn;var vn})})(d.filetype,ie,v),fe=v0(ae,Ef.BUBBLE_TO_SANDBOX,h,{isHorizontalMenu:!1,search:D.none()});return Fm(fe)},getHotspot:ie=>ce.getOpt(ie),onSetValue:(ie,ae)=>{ie.hasConfigured(zm)&&zm.run(ie).get(me)},typeaheadBehaviours:Ft([...v.getValidationHandler().map(ie=>zm.config({getRoot:ae=>ai(ae.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ae,fe)=>{H.getOpt(ae).each(ye=>{Jt(ye.element,"title",k.translate(fe))})}},validator:{validate:ae=>{const fe=nt.getValue(ae);return dN(ye=>{ie({type:d.filetype,url:fe.value},_e=>{if(_e.status==="invalid"){const Le=_o.error(_e.message);ye(Le)}else{const Le=_o.value(_e.message);ye(Le)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!d.enabled||k.isDisabled()}),Rr.config({}),uo("urlinput-events",[xt(lm(),ie=>{const ae=af(ie.element),fe=ae.trim();fe!==ae&&pm(ie.element,fe),d.filetype==="file"&&Sn(ie,Zi,{name:d.name})}),xt(cm(),ie=>{Sn(ie,Zi,{name:d.name}),E(ie)}),xt(Ty(),ie=>{Sn(ie,Zi,{name:d.name}),E(ie)})])]),eventOrder:{[lm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ie=>ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:h.shared.getSink,parts:{menu:qC(0,0,"normal")},onExecute:(ie,ae,fe)=>{Sn(ae,w2,{})},onItemExecute:(ie,ae,fe,ye)=>{E(ie),Sn(ie,Zi,{name:d.name})}},L=lr.parts.field({...O,factory:sL}),B=d.label.map(ie=>fp(ie,k)),H=tr(((ie,ae,fe=ie,ye=ie)=>wc(fe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:{title:k.translate(ye),"aria-live":"polite",...ae.fold(()=>({}),_e=>({id:_e}))}},k.icons))("invalid",D.some(vN),"warning")),K=tr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Y=v.getUrlPicker(d.filetype),se=fn("browser.url.event"),ce=tr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,K.asSpec()],behaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled()})])}),ve=tr(gN({name:d.name,icon:D.some("browse"),text:d.picker_text.or(d.label).getOr(""),enabled:d.enabled,primary:!1,buttonType:D.none(),borderless:!0},ie=>go(ie,se),k,[],["tox-browse-url"]));return lr.sketch({dom:p_([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:br([[ce.asSpec()],Y.map(()=>ve.asSpec()).toArray()])}]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled(),onDisabled:ie=>{lr.getField(ie).each(Kn.disable),ve.getOpt(ie).each(Kn.disable)},onEnabled:ie=>{lr.getField(ie).each(Kn.enable),ve.getOpt(ie).each(Kn.enable)}}),ha(),uo("url-input-events",[xt(se,ie=>{Vo.getCurrent(ie).each(ae=>{const fe=nt.getValue(ae),ye={fieldname:d.name,...fe};Y.each(_e=>{_e(ye).get(Le=>{nt.setValue(ae,Le),Sn(ie,Zi,{name:d.name})})})})})])])})})(o,a,a.urlinput,c)),customeditor:rs(o=>{const a=ir(),c=tr({dom:{tag:o.tag}}),d=ir(),h=!JA(o)&&o.onFocus.isSome()?[Zn.config({onFocus:v=>{o.onFocus.each(w=>{w(v.element.dom)})}}),Rr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ft([uo("custom-editor-events",[Zr(v=>{c.getOpt(v).each(w=>{(JA(o)?o.init(w.element.dom):VR.load(o.scriptId,o.scriptUrl).then(k=>k(w.element.dom,o.settings))).then(k=>{d.on(E=>{k.setValue(E)}),d.clear(),a.set(k)})})})]),b0(D.none(),()=>a.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,w)=>{a.get().fold(()=>d.set(w),k=>k.setValue(w))}),Um()].concat(h)),components:[c.asSpec()]}}),htmlpanel:rs((o,a)=>((c,d)=>{const h=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],v=uo("htmlpanel",[Zr(w=>{c.onInit(w.element.dom)})]);return c.presets==="presentation"?Cd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html},containerBehaviours:Ft([Us.config({...d.tooltips.getConfig({tooltipText:"",onShow:w=>{Xr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element)).each(k=>{No(k,"data-mce-tooltip").each(E=>{Us.setComponents(w,d.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:Xr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element).filter(k=>No(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:te([Bs,ds,bs,Vs,vs,xr]),onRtl:te([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})}),v])}):Cd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:Ft([Rr.config({}),Zn.config({}),v])})})(o,a.shared.providers)),imagepreview:rs((o,a,c)=>((d,h)=>{const v=Dn(h.getOr({url:""})),w=tr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:h.map(L=>({src:L.url})).getOr({})}}),k=tr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};d.height.each(L=>E.height=L);const O=h.map(L=>({url:L.url,zoom:D.from(L.zoom),cachedWidth:D.from(L.cachedWidth),cachedHeight:D.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Ft([Um(),b0(O,()=>v.get(),(L,B)=>{const H={url:B.url};B.zoom.each(Y=>H.zoom=Y),B.cachedWidth.each(Y=>H.cachedWidth=Y),B.cachedHeight.each(Y=>H.cachedHeight=Y),v.set(H);const K=()=>{const{cachedWidth:Y,cachedHeight:se,zoom:ce}=H;if(!z(Y)&&!z(se)){if(z(ce)){const ie=((ae,fe,ye)=>{const _e=ua(ae),Le=ms(ae);return Math.min(_e/fe,Le/ye,1)})(L.element,Y,se);H.zoom=ie}const ve=((ie,ae,fe,ye,_e)=>{const Le=fe*_e,Xe=ye*_e,_t=Math.max(0,ie/2-Le/2),vt=Math.max(0,ae/2-Xe/2);return{left:_t.toString()+"px",top:vt.toString()+"px",width:Le.toString()+"px",height:Xe.toString()+"px"}})(ua(L.element),ms(L.element),Y,se,H.zoom);k.getOpt(L).each(ie=>{Bi(ie.element,ve)})}};w.getOpt(L).each(Y=>{const se=Y.element;var ce;B.url!==wo(se,"src")&&(Jt(se,"src",B.url),ps(L.element,"tox-imagepreview__loaded")),K(),(ce=se,new Promise((ve,ie)=>{const ae=()=>{ye(),ve(ce)},fe=[Ei(ce,"load",ae),Ei(ce,"error",()=>{ye(),ie("Unable to load data from image: "+ce.dom.src)})],ye=()=>Zt(fe,_e=>_e.unbind());ce.dom.complete&&ae()})).then(ve=>{L.getSystem().isConnected()&&(us(L.element,"tox-imagepreview__loaded"),H.cachedWidth=ve.dom.naturalWidth,H.cachedHeight=ve.dom.naturalHeight,K())})})})])}})(o,c)),table:rs((o,a)=>((c,d)=>{const h=k=>({dom:{tag:"td",innerHtml:d.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:bt(w,k=>({dom:{tag:"th",innerHtml:d.translate(k)}}))}]}),(v=c.cells,{dom:{tag:"tbody"},components:bt(v,k=>({dom:{tag:"tr"},components:bt(k,h)}))})],behaviours:Ft([Rr.config({}),Zn.config({})])};var v,w})(o,a.shared.providers)),tree:rs((o,a)=>((c,d)=>{const h=c.onLeafAction.getOr(me),v=c.onToggleExpand.getOr(me),w=c.defaultExpandedIds,k=Dn(w),E=Dn(c.defaultSelectedId),O=fn("tree-id"),L=(B,H)=>c.items.map(K=>K.type==="leaf"?w3({leaf:K,selectedId:B,onLeafAction:h,visible:!0,treeId:O,backstage:d}):G_({directory:K,selectedId:B,onLeafAction:h,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),k.get()),behaviours:Ft([An.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(eL,[xt("expand-tree-node",(B,H)=>{const{expanded:K,node:Y}=H.event;k.set(K?[...k.get(),Y]:k.get().filter(se=>se!==Y)),v(k.get(),{expanded:K,node:Y})})]),al.config({channels:{[`update-active-item-${O}`]:{onReceive:(B,H)=>{E.set(D.some(H.value)),zn.set(B,L(D.some(H.value),k.get()))}}}}),zn.config({})])}})(o,a)),panel:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:c.classes},components:bt(c.items,d.shared.interpreter)}))(o,a))},O3={field:(o,a)=>a,record:te([])},J_=(o,a,c,d,h)=>{const v=yr(d,{shared:{interpreter:w=>D3(o,w,c,v,h)}});return D3(o,a,c,v,h)},D3=(o,a,c,d,h)=>cn(dL,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),v=>v(o,a,c,d,h)),yN=(o,a,c,d)=>D3(O3,o,a,c,d),kd="layout-inset",Ev=o=>o.x,Q_=(o,a)=>o.x+o.width/2-a.width/2,R3=(o,a)=>o.x+o.width-a.width,$u=o=>o.y,N3=(o,a)=>o.y+o.height-a.height,xN=(o,a)=>o.y+o.height/2-a.height/2,Wl=(o,a,c)=>qa(R3(o,a),N3(o,a),c.insetSouthwest(),Pg(),"southwest",Ga(o,{right:0,bottom:3}),kd),Cp=(o,a,c)=>qa(Ev(o),N3(o,a),c.insetSoutheast(),yb(),"southeast",Ga(o,{left:1,bottom:3}),kd),Zl=(o,a,c)=>qa(R3(o,a),$u(o),c.insetNorthwest(),Mg(),"northwest",Ga(o,{right:0,top:2}),kd),N2=(o,a,c)=>qa(Ev(o),$u(o),c.insetNortheast(),vb(),"northeast",Ga(o,{left:1,top:2}),kd),$o=(o,a,c)=>qa(Q_(o,a),$u(o),c.insetNorth(),Xw(),"north",Ga(o,{top:2}),kd),Wm=(o,a,c)=>qa(Q_(o,a),N3(o,a),c.insetSouth(),Jy(),"south",Ga(o,{bottom:3}),kd),I2=(o,a,c)=>qa(R3(o,a),xN(o,a),c.insetEast(),Jw(),"east",Ga(o,{right:0}),kd),I3=(o,a,c)=>qa(Ev(o),xN(o,a),c.insetWest(),Qy(),"west",Ga(o,{left:1}),kd),B3=o=>{switch(o){case"north":return $o;case"northeast":return N2;case"northwest":return Zl;case"south":return Wm;case"southeast":return Cp;case"southwest":return Wl;case"east":return I2;case"west":return I3}},eS=(o,a,c,d,h)=>Eb(d).map(B3).getOr($o)(o,a,c,d,h),fL=o=>{switch(o){case"north":return Wm;case"northeast":return Cp;case"northwest":return Wl;case"south":return $o;case"southeast":return N2;case"southwest":return Zl;case"east":return I3;case"west":return I2}},M3=(o,a,c,d,h)=>Eb(d).map(fL).getOr($o)(o,a,c,d,h),B2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},wN=(o,a,c)=>{const d={maxHeightFunction:Hg()};return()=>c()?{type:"node",root:je(ot(o())),node:D.from(o()),bubble:Hl(12,12,B2),layouts:{onRtl:()=>[N2],onLtr:()=>[Zl]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:Hl(-12,12,B2),layouts:{onRtl:()=>[bs,vs,Bs],onLtr:()=>[vs,bs,Bs]},overrides:d}},CN=(o,a,c,d)=>{const h={maxHeightFunction:Hg()};return()=>d()?{type:"node",root:je(ot(a())),node:D.from(a()),bubble:Hl(12,12,B2),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]},overrides:h}:o?{type:"node",root:je(ot(a())),node:D.from(a()),bubble:Hl(0,-tc(a()),B2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:h}:{type:"hotspot",hotspot:c(),bubble:Hl(0,0,B2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:h}},P3=(o,a,c)=>()=>c()?{type:"node",root:je(ot(o())),node:D.from(o()),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]}},_N=(o,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const c=o.selection.getRng(),d=o.model.table.getSelectedCells();if(d.length>1){const h=d[0],v=d[d.length-1],w={firstCell:Qt(h),lastCell:Qt(v)};return D.some(w)}return D.some(gf.range(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset))}}),tS=o=>a=>({type:"node",root:o(),node:a}),mL=(o,a,c,d)=>{const h=e0(o),v=()=>Qt(o.getBody()),w=()=>Qt(o.getContentAreaContainer()),k=()=>h||!d();return{inlineDialog:wN(w,a,k),inlineBottomDialog:CN(o.inline,w,c,k),banner:P3(w,a,k),cursor:_N(o,v),node:tS(v)}},gL=o=>(a,c)=>{YD(o)(a,c)},hL=o=>()=>sA(o),pL=o=>a=>d0(o,a),bL=o=>a=>rA(o,a),SN=o=>()=>Sf(o),kN=o=>io(o,"items"),EN=o=>io(o,"format"),L3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],F3=o=>Rn(o,(a,c)=>{if(po(c,"items")){const d=F3(c.items);return{customFormats:a.customFormats.concat(d.customFormats),formats:a.formats.concat([{title:c.title,items:d.formats}])}}if(po(c,"inline")||(d=>po(d,"block"))(c)||(d=>po(d,"selector"))(c)){const d=`custom-${p(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:d,format:c}]),formats:a.formats.concat([{title:c.title,format:d,icon:c.icon}])}}return{...a,formats:a.formats.concat(c)}},{customFormats:[],formats:[]}),AN=o=>sv(o).map(a=>{const c=((d,h)=>{const v=F3(h),w=k=>{Zt(k,E=>{d.formatter.has(E.name)||d.formatter.register(E.name,E.format)})};return d.formatter?w(v.customFormats):d.on("init",()=>{w(v.customFormats)}),v.formats})(o,a);return TC(o)?L3.concat(c):c}).getOr(L3),TN=(o,a,c)=>({...o,type:"formatter",isSelected:a(o.format),getStylePreview:c(o.format)}),z3=(o,a,c,d)=>{const h=v=>bt(v,w=>kN(w)?(k=>{const E=h(k.items);return{...k,type:"submenu",getStyleItems:te(E)}})(w):EN(w)?(k=>TN(k,c,d))(w):(k=>{const E=on(k);return E.length===1&&Qe(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=p(k.name)?k.name:fn(k.title),O=`custom-${E}`,L={...k,type:"formatter",format:O,isSelected:c(O),getStylePreview:d(O)};return o.formatter.register(E,L),L})(w));return h(a)},H3=o=>{let a=0;const c=d=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Cs(d.tooltipText)]}];return{getConfig:d=>({delayForShow:()=>a>0?60:300,delayForHide:te(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(d),onShow:(h,v)=>{a++,d.onShow&&d.onShow(h,v)},onHide:(h,v)=>{a--,d.onHide&&d.onHide(h,v)},onSetup:d.onSetup}),getComponents:c}},ON=rh.trim,DN=o=>a=>!!((c=>$(c)&&c.nodeType===1)(a)&&(a.contentEditable===o||a.getAttribute("data-mce-contenteditable")===o)),vL=DN("true"),yL=DN("false"),RN=(o,a,c,d,h)=>({type:o,title:a,url:c,level:d,attach:h}),NN=o=>o.innerText||o.textContent,xL=o=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(o)&&Uu(o),V3=o=>o&&/^(H[1-6])$/.test(o.nodeName),Uu=o=>(a=>{let c=a;for(;c=c.parentNode;){const d=c.contentEditable;if(d&&d!=="inherit")return vL(c)}return!1})(o)&&!yL(o),wL=o=>V3(o)&&Uu(o),$3=o=>{var a;const c=(d=>d.id?d.id:fn("h"))(o);return RN("header",(a=NN(o))!==null&&a!==void 0?a:"","#"+c,(d=>V3(d)?parseInt(d.nodeName.substr(1),10):0)(o),()=>{o.id=c})},IN=o=>{const a=o.id||o.name,c=NN(o);return RN("anchor",c||"#"+a,"#"+a,0,me)},BN=o=>ON(o.title).length>0,CL=o=>{const a=(c=>bt(aa(Qt(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),h=>h.dom))(o);return ho((c=>bt(ho(c,wL),$3))(a).concat((c=>bt(ho(c,xL),IN))(a)),BN)},M2="tinymce-url-history",U3=o=>p(o)&&/^https?/.test(o),W3=o=>x(o)&&ur(o,a=>{return!(M(c=a)&&c.length<=5&&oi(c,U3));var c}).isNone(),MN=()=>{const o=_c.getItem(M2);if(o===null)return{};let a;try{a=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+M2+" was not valid JSON",c),{};throw c}return W3(a)?a:(console.log("Local storage "+M2+" was not valid format",a),{})},_L=o=>{const a=MN();return cn(a,o).getOr([])},SL=(o,a)=>{if(!U3(o))return;const c=MN(),d=cn(c,a).getOr([]),h=ho(d,v=>v!==o);c[a]=[o].concat(h).slice(0,5),(v=>{if(!W3(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));_c.setItem(M2,JSON.stringify(v))})(c)},PN=o=>!!o,kL=o=>En(rh.makeMap(o,/[, ]/),PN),nS=o=>D.from(DC(o)),Z3=o=>D.from(o).filter(p).getOrUndefined(),LN=o=>({getHistory:_L,addToHistory:SL,getLinkInformation:()=>(a=>RC(a)?D.some({targets:CL(a.getBody()),anchorTop:Z3(E5(a)),anchorBottom:Z3(A5(a))}):D.none())(o),getValidationHandler:()=>(a=>D.from(zx(a)))(o),getUrlPicker:a=>((c,d)=>((h,v)=>{const w=(k=>{const E=D.from(Hx(k)).filter(PN).map(kL);return nS(k).fold(Ce,O=>E.fold(Ne,L=>on(L).length>0&&L))})(h);return R(w)?w?nS(h):D.none():w[v]?nS(h):D.none()})(c,d).map(h=>v=>up(w=>{const k={filetype:d,fieldname:v.fieldname,...D.from(v.meta).getOr({})};h.call(c,(E,O)=>{if(!p(E))throw new Error("Expected value to be string");if(O!==void 0&&!x(O))throw new Error("Expected meta to be a object");w({value:E,meta:O})},v.value,k)})))(o,a)}),Ja=PM,Zm=gO,EL=te([et("shell",!1),At("makeItem"),et("setupItem",me),jn("listBehaviours",[zn])]),Av=Qc({name:"items",overrides:()=>({behaviours:Ft([zn.config({})])})}),AL=te([Av]),j3=xl({name:te("CustomList")(),configFields:EL(),partFields:AL(),factory:(o,a,c,d)=>{const h=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.listBehaviours,h.behaviours),apis:{setItems:(v,w)=>{var k;(k=v,o.shell?D.some(k):Br(k,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=zn.contents(E),L=w.length,B=L-O.length,H=B>0?nr(B,()=>o.makeItem()):[],K=O.slice(L);Zt(K,se=>zn.remove(E,se)),Zt(H,se=>zn.append(E,se));const Y=zn.contents(E);Zt(Y,(se,ce)=>{o.setupItem(v,se,w[ce],ce)})})}}}},apis:{setItems:(o,a,c)=>{o.setItems(a,c)}}}),x0=te([At("dom"),et("shell",!0),mn("toolbarBehaviours",[zn])]),FN=te([Qc({name:"groups",overrides:()=>({behaviours:Ft([zn.config({})])})})]),Ed=xl({name:"Toolbar",configFields:x0(),partFields:FN(),factory:(o,a,c,d)=>{const h=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.toolbarBehaviours,h.behaviours),apis:{setGroups:(v,w)=>{var k;(k=v,o.shell?D.some(k):Br(k,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{zn.set(E,w)})},refresh:me},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)}}}),K3=me,q3=Ce,oS=te([]);var G3,TL=Object.freeze({__proto__:null,setup:K3,isDocked:q3,getBehaviours:oS});const rS=te(fn("toolbar-height-change")),jm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},zN="tox-tinymce--toolbar-sticky-on",HN="tox-tinymce--toolbar-sticky-off",P2=(o,a)=>Qe(Yr.getModes(o),a),sS=o=>{const a=o.element;ai(a).each(c=>{const d="padding-"+Yr.getModes(o)[0];if(Yr.isDocked(o)){const h=ua(c);Jn(a,"width",h+"px"),Jn(c,d,(v=>tc(v)+(parseInt(as(v,"margin-top"),10)||0)+(parseInt(as(v,"margin-bottom"),10)||0))(a)+"px")}else er(a,"width"),er(c,d)})},Y3=(o,a)=>{a?(ps(o,jm.fadeOutClass),Is(o,[jm.transitionClass,jm.fadeInClass])):(ps(o,jm.fadeInClass),Is(o,[jm.fadeOutClass,jm.transitionClass]))},VN=(o,a)=>{const c=Qt(o.getContainer());a?(us(c,zN),ps(c,HN)):(us(c,HN),ps(c,zN))},$N=(o,a)=>{const c=ir(),d=a.getSink,h=k=>{d().each(E=>k(E.element))},v=k=>{o.inline||sS(k),VN(o,Yr.isDocked(k)),k.getSystem().broadcastOn([V()],{}),d().each(E=>E.getSystem().broadcastOn([V()],{}))},w=o.inline?[]:[al.config({channels:{[rS()]:{onReceive:sS}}})];return[Zn.config({}),Yr.config({contextual:{lazyContext:k=>{const E=tc(k.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return D.from(O).map(L=>{const B=js(Qt(L));return np(o,k.element).fold(()=>{const H=B.height-E,K=B.y+(P2(k,"top")?0:E);return bo(B.x,K,B.width,H)},H=>{const K=nd(B,op(H)),Y=P2(k,"top")?K.y:K.y+E;return bo(K.x,Y,K.width,K.height-E)})})},onShow:()=>{h(k=>Y3(k,!0))},onShown:k=>{h(E=>zl(E,[jm.transitionClass,jm.fadeInClass])),c.get().each(E=>{((O,L)=>{const B=Zs(L);Gc(B).filter(H=>!Wo(L,H)).filter(H=>Wo(H,Qt(B.dom.body))||xs(O,H)).each(()=>ki(L))})(k.element,E),c.clear()})},onHide:k=>{((E,O)=>Ms(E).orThunk(()=>O().toOptional().bind(L=>Ms(L.element))))(k.element,d).fold(c.clear,c.set),h(E=>Y3(E,!1))},onHidden:()=>{h(k=>zl(k,[jm.transitionClass]))},...jm},lazyViewport:k=>np(o,k.element).fold(()=>{const E=Ca(),O=hE(o),L=E.y+(P2(k,"top")?O:0),B=E.height-(P2(k,"bottom")?O:0);return{bounds:bo(E.x,L,E.width,B),optScrollEnv:D.none()}},E=>({bounds:op(E),optScrollEnv:D.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:bl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:v,onUndocked:v}),...w]};var OL=Object.freeze({__proto__:null,setup:(o,a,c)=>{o.inline||(a.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(Yr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(sS)}),o.on("SkinLoaded",()=>{c().each(d=>{Yr.isDocked(d)?Yr.reset(d):Yr.refresh(d)})}),o.on("FullscreenStateChanged",()=>{c().each(Yr.reset)})),o.on("AfterScrollIntoView",d=>{c().each(h=>{Yr.refresh(h);const v=h.element;VO(v)&&((w,k)=>{const E=Zs(k),O=Ic(k).dom.innerHeight,L=Lr(E),B=Qt(w.elm),H=nl(B),K=ms(B),Y=H.y,se=Y+K,ce=bl(k),ve=ms(k),ie=ce.top,ae=ie+ve,fe=Math.abs(ie-L.top)<2,ye=Math.abs(ae-(L.top+O))<2;if(fe&&Y<ae)jd(L.left,Y-ve,E);else if(ye&&se>ie){const _e=Y-O+K+ve;jd(L.left,_e,E)}})(d,v)})}),o.on("PostRender",()=>{VN(o,!1)})},isDocked:o=>o().map(Yr.isDocked).getOr(!1),getBehaviours:$N});const DL=Pn([ea,Sa("items",rm([wu([BE,Fi("items",ra)]),ra]))].concat(Lm)),RL=[ws("text"),ws("tooltip"),ws("icon"),_i("search",!1,rm([Pl,Pn([ws("placeholder")])],o=>R(o)?o?D.some({placeholder:D.none()}):D.none():D.some(o))),Ci("fetch"),Fr("onSetup",()=>me)],UN=Pn([ea,...RL]),WN=o=>is("menubutton",UN,o),NL=Pn([ea,i2,Pu,lp,zE,WP,ip,sc("presets","normal",["normal","color","listpreview"]),mD(1),lv,fD]);var X3=eu({factory:(o,a)=>{const c={focus:An.focusIn,setMenus:(d,h)=>{const v=bt(h,w=>{const k={type:"menubutton",text:w.text,fetch:O=>{O(w.getItems())}},E=WN(k).mapError(O=>Li(O)).getOrDie();return Sv(E,"tox-mbtn",a.backstage,D.some("menuitem"))});zn.set(d,v)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Ft([zn.config({}),uo("menubar-events",[Zr(d=>{o.onSetup(d)}),xt(_n(),(d,h)=>{Xr(d.element,".tox-mbtn--active").each(v=>{Ou(h.event.target,".tox-mbtn").each(w=>{Wo(v,w)||d.getSystem().getByDom(v).each(k=>{d.getSystem().getByDom(w).each(E=>{cl.expand(E),cl.close(k),Zn.focus(E)})})})})}),xt(c1(),(d,h)=>{h.event.prevFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{h.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{cl.isOpen(v)&&(cl.expand(w),cl.close(v))})})})]),An.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(o.onEscape(d),D.some(!0))}),Rr.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),et("onSetup",me)],apis:{focus:(o,a)=>{o.focus(a)},setMenus:(o,a,c)=>{o.setMenus(a,c)}}});const ZN="container",IL=[mn("slotBehaviours",[])],J3=o=>"<alloy.field."+o+">",BL=(o,a)=>{const c=L=>vO(o),d=(L,B)=>(H,K)=>Br(H,o,K).map(Y=>L(Y,K)).getOr(B),h=(L,B)=>wo(L.element,"aria-hidden")!=="true",v=d(h,!1),w=d((L,B)=>{if(h(L)){const H=L.element;Jn(H,"display","none"),Jt(H,"aria-hidden","true"),Sn(L,Zc(),{name:B,visible:!1})}}),k=(L=>(B,H)=>{Zt(H,K=>L(B,K))})(w),E=d((L,B)=>{if(!h(L)){const H=L.element;er(H,"display"),fo(H,"aria-hidden"),Sn(L,Zc(),{name:B,visible:!0})}}),O={getSlotNames:c,getSlot:(L,B)=>Br(L,o,B),isShowing:v,hideSlot:w,hideAllSlots:L=>k(L,c()),showSlot:E};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.slotBehaviours),apis:O}},ML=En({getSlotNames:(o,a)=>o.getSlotNames(a),getSlot:(o,a,c)=>o.getSlot(a,c),isShowing:(o,a,c)=>o.isShowing(a,c),hideSlot:(o,a,c)=>o.hideSlot(a,c),hideAllSlots:(o,a)=>o.hideAllSlots(a),showSlot:(o,a,c)=>o.showSlot(a,c)},o=>_1(o)),ul={...ML,sketch:o=>{const a=(()=>{const v=[];return{slot:(w,k)=>(v.push(w),Ik(ZN,J3(w),k)),record:te(v)}})(),c=o(a),d=a.record(),h=bt(d,v=>ll({name:v,pname:J3(v)}));return xx(ZN,IL,h,BL,c)}},PL=Pn([Pu,i2,Fr("onShow",me),Fr("onHide",me),ip]),LL=o=>({element:()=>o.element.dom}),aS=(o,a)=>{const c=bt(on(a),d=>{const h=a[d],v=wi((w=>is("sidebar",PL,w))(h));return{name:d,getApi:LL,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return bt(c,d=>{const h=Dn(me);return o.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:c2([cp(d,h),Jg(d,h),xt(Zc(),(v,w)=>{const k=w.event;J(c,O=>O.name===k.name).each(O=>{(k.visible?O.onShow:O.onHide)(O.getApi(v))})})])})})},jN=o=>ul.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:aS(a,o),slotBehaviours:c2([Zr(c=>ul.hideAllSlots(c))])})),iS=(o,a)=>{Jt(o,"role",a)},FL=o=>Vo.getCurrent(o).bind(a=>Rl.isGrowing(a)||Rl.hasGrown(a)?Vo.getCurrent(a).bind(c=>J(ul.getSlotNames(c),d=>ul.isShowing(c,d))):D.none()),Q3=fn("FixSizeEvent"),e4=fn("AutoSizeEvent");var zL=Object.freeze({__proto__:null,block:(o,a,c,d)=>{Jt(o.element,"aria-busy",!0);const h=a.getRoot(o).getOr(o),v=Ft([An.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Zn.config({})]),w=d(h,v),k=h.getSystem().build(w);zn.append(h,Hi(k)),k.hasConfigured(An)&&a.focus&&An.focusIn(k),c.isBlocked()||a.onBlock(o),c.blockWith(()=>zn.remove(h,k))},unblock:(o,a,c)=>{fo(o.element,"aria-busy"),c.isBlocked()&&a.onUnblock(o),c.clear()},isBlocked:(o,a,c)=>c.isBlocked()}),HL=[Fr("getRoot",D.none),Hs("focus",!0),Fo("onBlock"),Fo("onUnblock")];const Wu=ga({fields:HL,name:"blocking",apis:zL,state:Object.freeze({__proto__:null,init:()=>{const o=nc(a=>a.destroy());return ma({readState:o.isSet,blockWith:a=>{o.set({destroy:a})},clear:o.clear,isBlocked:o.isSet})}})}),t4=o=>Vo.getCurrent(o).each(a=>ki(a.element,!0)),KN=(o,a,c)=>{const d=Dn(!1),h=ir(),v=k=>{var E;d.get()&&(!(O=>O.type==="focusin")(E=k)||!(E.composed?$t(E.composedPath()):D.from(E.target)).map(Qt).filter(Kr).exists(O=>zi(O,"mce-pastebin")))&&(k.preventDefault(),t4(a()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",v),o.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const w=k=>{k!==d.get()&&(d.set(k),((E,O,L,B)=>{const H=O.element;if(((K,Y)=>{const se="tabindex",ce=`data-mce-${se}`;D.from(K.iframeElement).map(Qt).each(ve=>{Y?(No(ve,se).each(ie=>Jt(ve,ce,ie)),Jt(ve,se,-1)):(fo(ve,se),No(ve,ce).each(ie=>{Jt(ve,se,ie),fo(ve,ce)}))})})(E,L),L)Wu.block(O,(K=>(Y,se)=>({dom:{tag:"div",attributes:{"aria-label":K.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Im('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),er(H,"display"),fo(H,"aria-hidden"),E.hasFocus()&&t4(O);else{const K=Vo.getCurrent(O).exists(Y=>zg(Y.element));Wu.unblock(O),Jn(H,"display","none"),Jt(H,"aria-hidden","true"),K&&E.focus()}})(o,a(),k,c.providers),((E,O)=>{E.dispatch("AfterProgressState",{state:O})})(o,k))};o.on("ProgressState",k=>{if(h.on(clearTimeout),ee(k.time)){const E=EC.setEditorTimeout(o,()=>w(k.state),k.time);h.set(E)}else w(k.state),h.clear()})},n4=(o,a,c)=>({within:o,extra:a,withinWidth:c}),o4=(o,a,c)=>{const d=Rn(o,(w,k)=>((E,O)=>{const L=c(E);return D.some({element:E,start:O,finish:O+L,width:L})})(k,w.len).fold(te(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,h=ho(d,w=>w.finish<=a),v=xn(h,(w,k)=>w+k.width,0);return{within:h,extra:d.slice(h.length),withinWidth:v}},lS=o=>bt(o,a=>a.element),qN=(o,a)=>{const c=bt(a,d=>Hi(d));Ed.setGroups(o,c)},GN=(o,a,c)=>{const d=a.builtGroups.get();if(d.length===0)return;const h=jg(o,a,"primary"),v=_s.getCoupled(o,"overflowGroup");Jn(h.element,"visibility","hidden");const w=d.concat([v]),k=It(w,O=>Ms(O.element).bind(L=>O.getSystem().getByDom(L).toOptional()));c([]),qN(h,w);const E=((O,L,B,H)=>{const K=((ve,ie,ae)=>{const fe=o4(ie,ve,ae);return fe.extra.length===0?D.some(fe):D.none()})(O,L,B).getOrThunk(()=>o4(L,O-B(H),B)),Y=K.within,se=K.extra,ce=K.withinWidth;return se.length===1&&se[0].width<=B(H)?((ve,ie,ae)=>{const fe=lS(ve.concat(ie));return n4(fe,[],ae)})(Y,se,ce):se.length>=1?((ve,ie,ae,fe)=>{const ye=lS(ve).concat([ae]);return n4(ye,lS(ie),fe)})(Y,se,H,ce):((ve,ie,ae)=>n4(lS(ve),[],ae))(Y,0,ce)})(ua(h.element),a.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(zn.remove(h,v),c([])):(qN(h,E.within),c(E.extra)),er(h.element,"visibility"),hu(h.element),k.each(Zn.focus)},YN=te([mn("splitToolbarBehaviours",[_s]),_a("builtGroups",()=>Dn([]))]),VL=te([Dg(["overflowToggledClass"]),$c("getOverflowBounds"),At("lazySink"),_a("overflowGroups",()=>Dn([])),Fo("onOpened"),Fo("onClosed")].concat(YN())),$L=te([ll({factory:Ed,schema:x0(),name:"primary"}),vd({schema:x0(),name:"overflow"}),vd({name:"overflow-button"}),vd({name:"overflow-group"})]),r4=te((o,a)=>{((c,d)=>{const h=mg.max(c,d,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Jn(c,"max-width",h+"px")})(o,Math.floor(a))}),UL=te([Dg(["toggledClass"]),At("lazySink"),Ci("fetch"),$c("getBounds"),gs("fireDismissalEventInstead",[et("event",_g())]),uf(),Fo("onToggled")]),WL=te([vd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ft([Un.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),vd({factory:Ed,schema:x0(),name:"toolbar",overrides:o=>({toolbarBehaviours:Ft([An.config({mode:"cyclic",onEscape:a=>(Br(a,o,"button").each(Zn.focus),D.none())})])})})]),cS=ir(),Tv=(o,a)=>{const c=_s.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,a.toolbar())},L2=(o,a,c,d)=>{const h=c.getBounds.map(w=>w()),v=c.lazySink(o).getOrDie();Ya.positionWithinBounds(v,a,{anchor:{type:"hotspot",hotspot:o,layouts:d,overrides:{maxWidthFunction:r4()}}},h)},uS=(o,a,c,d,h)=>{Ed.setGroups(a,h),L2(o,a,c,d),Un.on(o)},ah=xl({name:"FloatingToolbarButton",factory:(o,a,c,d)=>({...Ti.sketch({...d.button(),action:h=>{Tv(h,d)},buttonBehaviours:$n({dump:d.button().buttonBehaviours},[_s.config({others:{toolbarSandbox:h=>((v,w,k)=>{const E=Bg();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Ft([An.config({mode:"special",onEscape:O=>(T.close(O),D.some(!0))}),T.config({onOpen:(O,L)=>{const B=cS.get().getOr(!1);k.fetch().get(H=>{uS(v,L,k,w.layouts,H),E.link(v.element),B||An.focusIn(L)})},onClose:()=>{Un.off(v),cS.get().getOr(!1)||Zn.focus(v),E.unlink(v.element)},isPartOf:(O,L,B)=>sl(L,B)||sl(v,B),getAttachPoint:()=>k.lazySink(v).getOrDie()}),al.config({channels:{...oe({isExtraPart:Ce,...k.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...De({doReposition:()=>{T.getState(_s.getCoupled(v,"toolbarSandbox")).each(O=>{L2(v,O,k,w.layouts)})}})}})])}})(h,c,o)}})])}),apis:{setGroups:(h,v)=>{T.getState(_s.getCoupled(h,"toolbarSandbox")).each(w=>{uS(h,w,o,c.layouts,v)})},reposition:h=>{T.getState(_s.getCoupled(h,"toolbarSandbox")).each(v=>{L2(h,v,o,c.layouts)})},toggle:h=>{Tv(h,d)},toggleWithoutFocusing:h=>{((v,w)=>{cS.set(!0),Tv(v,w),cS.clear()})(h,d)},getToolbar:h=>T.getState(_s.getCoupled(h,"toolbarSandbox")),isOpen:h=>T.isOpen(_s.getCoupled(h,"toolbarSandbox"))}}),configFields:UL(),partFields:WL(),apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggleWithoutFocusing(a)},getToolbar:(o,a)=>o.getToolbar(a),isOpen:(o,a)=>o.isOpen(a)}}),ZL=te([At("items"),Dg(["itemSelector"]),mn("tgroupBehaviours",[An])]),jL=te([dC({name:"items",unit:"item"})]),Ov=xl({name:"ToolbarGroup",configFields:ZL(),partFields:jL(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.tgroupBehaviours,[An.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),dS=o=>bt(o,a=>Hi(a)),F2=(o,a,c)=>{GN(o,c,d=>{c.overflowGroups.set(d),a.getOpt(o).each(h=>{ah.setGroups(h,dS(d))})})},s4=xl({name:"SplitFloatingToolbar",configFields:VL(),partFields:$L(),factory:(o,a,c,d)=>{const h=tr(ah.sketch({fetch:()=>up(v=>{v(dS(o.overflowGroups.get()))}),layouts:{onLtr:()=>[vs,bs],onRtl:()=>[bs,vs],onBottomLtr:()=>[xr,Vs],onBottomRtl:()=>[Vs,xr]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,w)=>o[w?"onOpened":"onClosed"](v)}));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:()=>Ov.sketch({...d["overflow-group"](),items:[h.asSpec()]})}})]),apis:{setGroups:(v,w)=>{o.builtGroups.set(bt(w,v.getSystem().build)),F2(v,h,o)},refresh:v=>F2(v,h,o),toggle:v=>{h.getOpt(v).each(w=>{ah.toggle(w)})},toggleWithoutFocusing:v=>{h.getOpt(v).each(ah.toggleWithoutFocusing)},isOpen:v=>h.getOpt(v).map(ah.isOpen).getOr(!1),reposition:v=>{h.getOpt(v).each(w=>{ah.reposition(w)})},getOverflow:v=>h.getOpt(v).bind(ah.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a),getOverflow:(o,a)=>o.getOverflow(a)}}),KL=te([Dg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fo("onOpened"),Fo("onClosed")].concat(YN())),qL=te([ll({factory:Ed,schema:x0(),name:"primary"}),ll({factory:Ed,schema:x0(),name:"overflow",overrides:o=>({toolbarBehaviours:Ft([Rl.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:a=>{Br(a,o,"overflow-button").each(c=>{Un.off(c)}),o.onClosed(a)},onGrown:a=>{o.onOpened(a)},onStartGrow:a=>{Br(a,o,"overflow-button").each(Un.on)}}),An.config({mode:"acyclic",onEscape:a=>(Br(a,o,"overflow-button").each(Zn.focus),D.some(!0))})])})}),vd({name:"overflow-button",overrides:o=>({buttonBehaviours:Ft([Un.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),vd({name:"overflow-group"})]),a4=(o,a,c)=>{Br(o,a,"overflow-button").each(d=>{Br(o,a,"overflow").each(h=>{if(i4(o,a),Rl.hasShrunk(h)){const v=a.onOpened;a.onOpened=w=>{c||An.focusIn(h),v(w),a.onOpened=v}}else{const v=a.onClosed;a.onClosed=w=>{c||Zn.focus(d),v(w),a.onClosed=v}}Rl.toggleGrow(h)})})},i4=(o,a)=>{Br(o,a,"overflow").each(c=>{GN(o,a,d=>{const h=bt(d,v=>Hi(v));Ed.setGroups(c,h)}),Br(o,a,"overflow-button").each(d=>{Rl.hasGrown(c)&&Un.on(d)}),Rl.refresh(c)})},l4=xl({name:"SplitSlidingToolbar",configFields:KL(),partFields:qL(),factory:(o,a,c,d)=>{const h="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:v=>Ov.sketch({...d["overflow-group"](),items:[Ti.sketch({...d["overflow-button"](),action:w=>{go(v,h)}})]})}}),uo("toolbar-toggle-events",[xt(h,v=>{a4(v,o,!1)})])]),apis:{setGroups:(v,w)=>{((k,E)=>{const O=bt(E,k.getSystem().build);o.builtGroups.set(O)})(v,w),i4(v,o)},refresh:v=>i4(v,o),toggle:v=>{a4(v,o,!1)},toggleWithoutFocusing:v=>{a4(v,o,!0)},isOpen:v=>((w,k)=>Br(w,k,"overflow").map(Rl.hasGrown).getOr(!1))(v,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},toggle:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a)}}),XN=o=>{const a=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[Ov.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ft([Rr.config({}),Zn.config({})])}},fS=o=>Ov.sketch(XN(o)),JN=(o,a)=>{const c=Zr(d=>{const h=bt(o.initGroups,fS);Ed.setGroups(d,h)});return Ft([n_(o.providers.isDisabled),ha(),An.config({mode:a,onEscape:o.onEscape,selector:".tox-toolbar__group"}),uo("toolbar-events",[c])])},QN=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":XN({title:D.none(),items:[]}),"overflow-button":fN({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:JN(o,a)}},GL=o=>{const a=QN(o),c=s4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return s4.sketch({...a,lazySink:o.getSink,getOverflowBounds:()=>{const d=o.moreDrawerData.lazyHeader().element,h=nl(d),v=Ii(d),w=nl(v),k=Math.max(v.dom.scrollHeight,w.height);return bo(h.x+4,w.y,h.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>o.onToggled(d,!0),onClosed:d=>o.onToggled(d,!1)})},YL=o=>{const a=l4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=l4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=QN(o);return l4.sketch({...d,components:[a,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>{h.getSystem().broadcastOn([rS()],{type:"opened"}),o.onToggled(h,!0)},onClosed:h=>{h.getSystem().broadcastOn([rS()],{type:"closed"}),o.onToggled(h,!1)}})},c4=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return Ed.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Iu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ed.parts.groups({})],toolbarBehaviours:JN(o,a)})},e6=[lp,Pu,ws("tooltip"),sc("buttonType","secondary",["primary","secondary"]),Hs("borderless",!1),Ci("onAction")],u4={button:[...e6,Mu,Su("type",["button"])],togglebutton:[...e6,Hs("active",!1),Su("type",["togglebutton"])]},XL=[Su("type",["group"]),fr("buttons",[],Xs("type",u4))],JL=Xs("type",{...u4,group:XL}),Km=Pn([fr("buttons",[],JL),Ci("onShow"),Ci("onHide")]),t6=(o,a)=>((c,d)=>{var h,v;const w=c.type==="togglebutton",k=c.icon.map(ie=>yp(ie,d.icons)).map(tr),E={...c,name:w?c.text.getOr(c.icon.getOr("")):(h=c.text)!==null&&h!==void 0?h:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:D.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=k3((v=c.buttonType)!==null&&v!==void 0?v:"secondary"),L=w?c.text.map(d.translate):D.some(d.translate(c.text)),B=L.map(Cs),H=E.tooltip.or(L).map(ie=>({"aria-label":d.translate(ie)})).getOr({}),K=k.map(ie=>ie.asSpec()),Y=dv([K,B]),se=c.icon.isSome()&&B.isSome(),ce={tag:"button",classes:O.concat(...c.icon.isSome()&&!se?["tox-button--icon"]:[]).concat(...se?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},ve=R2(E,D.some(ie=>{const ae=fe=>{k.map(ye=>ye.getOpt(ie).each(_e=>{zn.set(_e,[yp(fe,d.icons)])}))};return w?c.onAction({setIcon:ae,setActive:fe=>{const ye=ie.element;fe?(us(ye,"tox-button--enabled"),Jt(ye,"aria-pressed",!0)):(ps(ye,"tox-button--enabled"),fo(ye,"aria-pressed"))},isActive:()=>zi(ie.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:ae}):void 0}),[],ce,Y,c.tooltip,d);return Ti.sketch(ve)})(o,a),n6=Va().deviceType,d4=n6.isPhone(),Qa=n6.isTablet();var Dv=xl({name:"silver.View",configFields:[At("viewConfig")],partFields:[Qc({factory:{sketch:o=>{let a=!1;const c=bt(o.buttons,d=>d.type==="group"?(a=!0,((h,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:bt(h.buttons,w=>t6(w,v))}))(d,o.providers)):t6(d,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...d4||Qa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ft([Zn.config({}),An.config({mode:"flow",selector:"button, .tox-button",focusInside:Wb.OnEnterOrSpaceMode})]),components:a?c:[Cd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[At("buttons"),At("providers")],name:"header"}),Qc({factory:{sketch:o=>({uid:o.uid,behaviours:Ft([Zn.config({}),Rr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,a,c,d)=>{const h={getPane:v=>Ja.getPart(v,o,"pane"),getOnShow:v=>o.viewConfig.onShow,getOnHide:v=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:a,behaviours:Ft([Zn.config({}),An.config({mode:"cyclic",focusInside:Wb.OnEnterOrSpaceMode})]),apis:h}},apis:{getPane:(o,a)=>o.getPane(a),getOnShow:(o,a)=>o.getOnShow(a),getOnHide:(o,a)=>o.getOnHide(a)}});const QL=(o,a,c)=>Es(a,(d,h)=>{const v=wi(is("view",Km,d));return o.slot(h,Dv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Dv.parts.header({buttons:v.buttons,providers:c})]:[],Dv.parts.pane({})]}))}),eF=(o,a)=>ul.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:QL(c,o,a),slotBehaviours:c2([Zr(d=>ul.hideAllSlots(d))])})),o6=o=>J(ul.getSlotNames(o),a=>ul.isShowing(o,a)),r6=(o,a,c)=>{ul.getSlot(o,a).each(d=>{Dv.getPane(d).each(h=>{var v;c(d)((v=h.element.dom,{getContainer:te(v)}))})})};var mS=eu({factory:(o,a)=>{const c={setViews:(d,h)=>{zn.set(d,[eF(h,a.backstage.shared.providers)])},whichView:d=>Vo.getCurrent(d).bind(o6),toggleView:(d,h,v,w)=>Vo.getCurrent(d).exists(k=>{const E=o6(k),O=E.exists(B=>w===B),L=ul.getSlot(k,w).isSome();return L&&(ul.hideAllSlots(k),O?((B=>{const H=B.element;Jn(H,"display","none"),Jt(H,"aria-hidden","true")})(d),h()):(v(),(B=>{const H=B.element;er(H,"display"),fo(H,"aria-hidden")})(d),ul.showSlot(k,w),((B,H)=>{r6(B,H,Dv.getOnShow)})(k,w)),E.each(B=>((H,K)=>r6(H,K,Dv.getOnHide))(k,B))),L})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ft([zn.config({}),Vo.config({find:d=>{const h=zn.contents(d);return $t(h)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(o,a,c)=>o.setViews(a,c),toggleView:(o,a,c,d,h)=>o.toggleView(a,c,d,h),whichView:(o,a)=>o.whichView(a)}});const tF=Zm.optional({factory:X3,name:"menubar",schema:[At("backstage")]}),nF=Zm.optional({factory:{sketch:o=>j3.sketch({uid:o.uid,dom:o.dom,listBehaviours:Ft([An.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>c4({type:o.type,uid:fn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),D.some(!0))}),setupItem:(a,c,d,h)=>{Ed.setGroups(c,d)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),oF=Zm.optional({factory:{sketch:o=>(c=>c.type===Iu.sliding?YL:c.type===Iu.floating?GL:c4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),D.some(!0)),onToggled:(c,d)=>o.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),rF=Zm.optional({factory:{sketch:o=>{const a=o.editor,c=o.sticky?$N:oS;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Ft(c(a,o.sharedBackstage))}}},name:"header",schema:[At("dom")]}),sF=Zm.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[At("dom")]}),aF=Zm.optional({name:"socket",schema:[At("dom")]}),iF=Zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ft([Rr.config({}),Zn.config({}),Rl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Vo.getCurrent(a).each(ul.hideAllSlots),go(a,e4)},onGrown:a=>{go(a,e4)},onStartGrow:a=>{Sn(a,Q3,{width:As(a.element,"width").getOr("")})},onStartShrink:a=>{Sn(a,Q3,{width:ua(a.element)+"px"})}}),zn.config({}),Vo.config({find:a=>{const c=zn.contents(a);return $t(c)}})])}],behaviours:Ft([qA(0),uo("sidebar-sliding-events",[xt(Q3,(a,c)=>{Jn(a.element,"width",c.event.width)}),xt(e4,(a,c)=>{er(a.element,"width")})])])})},name:"sidebar",schema:[At("dom")]}),lF=Zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ft([zn.config({}),Wu.config({focus:!1}),Vo.config({find:a=>$t(a.components())})]),components:[]})},name:"throbber",schema:[At("dom")]}),cF=Zm.optional({factory:mS,name:"viewWrapper",schema:[At("backstage")]}),uF=Zm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var zr=xl({name:"OuterContainer",factory:(o,a,c)=>{let d=!1;const h=w=>{Ir(w,".tox-statusbar").each(k=>{as(k,"display")==="none"&&wo(k,"aria-hidden")==="true"?(er(k,"display"),fo(k,"aria-hidden")):(Jn(k,"display","none"),Jt(k,"aria-hidden","true"))})},v={getSocket:w=>Ja.getPart(w,o,"socket"),setSidebar:(w,k,E)=>{Ja.getPart(w,o,"sidebar").each(O=>((L,B,H)=>{Vo.getCurrent(L).each(K=>{zn.set(K,[jN(B)]);const Y=H==null?void 0:H.toLowerCase();p(Y)&&po(B,Y)&&Vo.getCurrent(K).each(se=>{ul.showSlot(se,Y),Rl.immediateGrow(K),er(K.element,"width"),iS(L.element,"region")})})})(O,k,E))},toggleSidebar:(w,k)=>{Ja.getPart(w,o,"sidebar").each(E=>((O,L)=>{Vo.getCurrent(O).each(B=>{Vo.getCurrent(B).each(H=>{Rl.hasGrown(B)?ul.isShowing(H,L)?(Rl.shrink(B),iS(O.element,"presentation")):(ul.hideAllSlots(H),ul.showSlot(H,L),iS(O.element,"region")):(ul.hideAllSlots(H),ul.showSlot(H,L),Rl.grow(B),iS(O.element,"region"))})})})(E,k))},whichSidebar:w=>Ja.getPart(w,o,"sidebar").bind(FL).getOrNull(),getHeader:w=>Ja.getPart(w,o,"header"),getToolbar:w=>Ja.getPart(w,o,"toolbar"),setToolbar:(w,k)=>{Ja.getPart(w,o,"toolbar").each(E=>{const O=bt(k,fS);E.getApis().setGroups(E,O)})},setToolbars:(w,k)=>{Ja.getPart(w,o,"multiple-toolbar").each(E=>{const O=bt(k,L=>bt(L,fS));j3.setItems(E,O)})},refreshToolbar:w=>{Ja.getPart(w,o,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{Ja.getPart(w,o,"toolbar").each(k=>{Ys(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{Ja.getPart(w,o,"toolbar").each(k=>{Ys(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>Ja.getPart(w,o,"toolbar").bind(k=>D.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>Ja.getPart(w,o,"throbber"),focusToolbar:w=>{Ja.getPart(w,o,"toolbar").orThunk(()=>Ja.getPart(w,o,"multiple-toolbar")).each(k=>{An.focusIn(k)})},setMenubar:(w,k)=>{Ja.getPart(w,o,"menubar").each(E=>{X3.setMenus(E,k)})},focusMenubar:w=>{Ja.getPart(w,o,"menubar").each(k=>{X3.focus(k)})},setViews:(w,k)=>{Ja.getPart(w,o,"viewWrapper").each(E=>{mS.setViews(E,k)})},toggleView:(w,k)=>Ja.getPart(w,o,"viewWrapper").exists(E=>mS.toggleView(E,()=>v.showMainView(w),()=>v.hideMainView(w),k)),whichView:w=>Ja.getPart(w,o,"viewWrapper").bind(mS.whichView).getOrNull(),hideMainView:w=>{d=v.isToolbarDrawerToggled(w),d&&v.toggleToolbarDrawer(w),Ja.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),Jn(E,"display","none"),Jt(E,"aria-hidden","true")})},showMainView:w=>{d&&v.toggleToolbarDrawer(w),Ja.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),er(E,"display"),fo(E,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:a,apis:v,behaviours:o.behaviours}},configFields:[At("dom"),At("behaviours")],partFields:[rF,tF,oF,nF,aF,iF,sF,lF,cF,uF],apis:{getSocket:(o,a)=>o.getSocket(a),setSidebar:(o,a,c,d)=>{o.setSidebar(a,c,d)},toggleSidebar:(o,a,c)=>{o.toggleSidebar(a,c)},whichSidebar:(o,a)=>o.whichSidebar(a),getHeader:(o,a)=>o.getHeader(a),getToolbar:(o,a)=>o.getToolbar(a),setToolbar:(o,a,c)=>{o.setToolbar(a,c)},setToolbars:(o,a,c)=>{o.setToolbars(a,c)},refreshToolbar:(o,a)=>o.refreshToolbar(a),toggleToolbarDrawer:(o,a)=>{o.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(o,a)=>{o.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(o,a)=>o.isToolbarDrawerToggled(a),getThrobber:(o,a)=>o.getThrobber(a),setMenubar:(o,a,c)=>{o.setMenubar(a,c)},focusMenubar:(o,a)=>{o.focusMenubar(a)},focusToolbar:(o,a)=>{o.focusToolbar(a)},setViews:(o,a,c)=>{o.setViews(a,c)},toggleView:(o,a,c)=>o.toggleView(a,c),whichView:(o,a)=>o.whichView(a)}});const s6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},f4=o=>o.split(" "),a6=(o,a)=>{const c={...s6,...a.menus},d=on(a.menus).length>0,h=a.menubar===void 0||a.menubar===!0?f4("file edit view insert format tools table help"):f4(a.menubar===!1?"":a.menubar),v=ho(h,k=>{const E=po(s6,k);return d?E||cn(a.menus,k).exists(O=>po(O,"items")):E}),w=bt(v,k=>{const E=c[k];return((O,L,B)=>{const H=S5(B).split(/[ ,]/);return{text:O.title,getItems:()=>Ko(O.items,K=>{const Y=K.toLowerCase();return Y.trim().length===0||On(H,se=>se===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:L.menuItems[Y]?[L.menuItems[Y]]:[]})}})({title:E.title,items:f4(E.items)},a,o)});return ho(w,k=>k.getItems().length>0&&On(k.getItems(),E=>p(E)||E.type!=="separator"))},i6=(o,a,c)=>(o.on("remove",()=>c.unload(a)),c.load(a)),m4=(o,a,c,d)=>(o.on("remove",()=>d.unloadRawCss(a)),d.loadRawCss(a,c)),dF=async(o,a)=>{const c="ui/"+MC(o).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(!p(d)){const h=o.editorManager.suffix;return i6(o,a+`/skin${h}.css`,o.ui.styleSheetLoader)}m4(o,c,d,o.ui.styleSheetLoader)},fF=async(o,a)=>{var c;if(c=Qt(o.getElement()),Lt(c).isSome()){const d="ui/"+MC(o).getOr("default")+"/skin.shadowdom.css",h=tinymce.Resource.get(d);if(!p(h)){const v=o.editorManager.suffix;return i6(o,a+`/skin.shadowdom${v}.css`,nv.DOM.styleSheetLoader)}m4(o,d,h,nv.DOM.styleSheetLoader)}},l6=(o,a)=>(async(c,d)=>{const h=()=>{const w=BC(d),k=d.editorManager.suffix;w&&d.contentCSS.push(w+(c?"/content.inline":"/content")+`${k}.css`)};MC(d).fold(h,w=>{const k="ui/"+w+(c?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);p(E)?m4(d,k,E,d.ui.styleSheetLoader):h()});const v=BC(d);if(!ep(d)&&p(v))return Promise.all([dF(d,v),fF(d,v)]).then()})(o,a).then((c=>{const d=()=>{c._skinLoaded=!0,(h=>{h.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?d():c.on("init",d)}})(a),((c,d)=>()=>((h,v)=>{h.dispatch("SkinLoadError",v)})(c,{message:"Skin could not be loaded"}))(a)),c6=Ge(l6,!1),mF=Ge(l6,!0),w0=(o,a,c)=>fu(c)?o.translate(a):o.translate([a,o.translate(c)]),gF=(o,a)=>{const c=(v,w,k,E)=>{const O=o.shared.providers.translate(v.title);if(v.type==="separator")return D.some({type:"separator",text:O});if(v.type==="submenu"){const L=Ko(v.getStyleItems(),B=>d(B,w,E));return w===0&&L.length<=0?D.none():D.some({type:"nestedmenuitem",text:O,enabled:L.length>0,getSubmenuItems:()=>Ko(v.getStyleItems(),B=>d(B,w,E))})}return D.some({type:"togglemenuitem",text:O,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:a.onAction(v),...v.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},d=(v,w,k)=>{const E=v.type==="formatter"&&a.isInvalid(v);return w===0?E?[]:c(v,w,!1,k).toArray():c(v,w,E,k).toArray()},h=v=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return Ko(v,E=>d(E,k,w))};return{validateItems:h,getFetch:(v,w)=>(k,E)=>{const O=w(),L=h(O);E(v0(L,Ef.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:D.none()}))}}},Rv=(o,a)=>{const c=a.dataset,d=c.type==="basic"?()=>bt(c.data,h=>TN(h,a.isSelectedFor,a.getPreviewFor)):c.getData;return{items:gF(o,a),getStyleItems:d}},z2=(o,a,c,d,h,v)=>{const{items:w,getStyleItems:k}=Rv(a,c),E=Dn(c.tooltip);return f3({text:c.icon.isSome()?D.none():c.text,icon:c.icon,ariaLabel:D.some(c.tooltip),tooltip:D.none(),role:D.none(),fetch:w.getFetch(a,k),onSetup:O=>{const L=B=>O.setTooltip(w0(o,d(B.value),B.value));return o.on(h,L),hv(u0(o,"NodeChange",B=>{const H=B.getComponent();c.updateText(H),Kn.set(B.getComponent(),!o.selection.isEditable())})(O),()=>o.off(h,L))},getApi:O=>({getComponent:te(O),setTooltip:L=>{const B=a.shared.providers.translate(L);Jt(O.element,"aria-label",B),E.set(L)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Us.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());Us.setComponents(O,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,v)};var C0;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(C0||(C0={}));const g4=(o,a,c)=>{const d=(h=((v,w)=>w===C0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(o.options.get(a),c),bt(h,v=>{let w=v,k=v;const E=v.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var h;return{type:"basic",data:d}},u6=te("Alignment {0}"),d6="left",h4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],p4=o=>{const a={type:"basic",data:h4};return{tooltip:w0(o,u6(),d6),text:D.none(),icon:D.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>D.none,onAction:c=>()=>J(h4,d=>d.format===c.format).each(d=>o.execCommand(d.command)),updateText:c=>{const d=J(h4,h=>o.formatter.match(h.format)).fold(te(d6),h=>h.title.toLowerCase());Sn(c,Vu,{icon:`align-${d}`}),((h,v)=>{h.dispatch("AlignTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},f6=(o,a)=>{const c=a(),d=bt(c,h=>h.format);return D.from(o.formatter.closest(d)).bind(h=>J(c,v=>v.format===h))},b4=te("Block {0}"),v4="Paragraph",y4=o=>{const a=g4(o,"block_formats",C0.SemiColon);return{tooltip:w0(o,b4(),v4),text:D.some(v4),icon:D.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>()=>{const d=o.formatter.get(c);return d?D.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):D.none()},onAction:VD(o),updateText:c=>{const d=f6(o,()=>a.data).fold(te(v4),h=>h.title);Sn(c,au,{text:d}),((h,v)=>{h.dispatch("BlocksTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},m6=te("Font {0}"),x4="System Font",hF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],g6=o=>{const a=o.split(/\s*,\s*/);return bt(a,c=>c.replace(/^['"]+|['"]+$/g,""))},h6=(o,a)=>a.length>0&&oi(a,c=>o.indexOf(c.toLowerCase())>-1),p6=o=>{const a=()=>{const d=O=>O?g6(O)[0]:"",h=o.queryCommandValue("FontName"),v=c.data,w=h?h.toLowerCase():"",k=IC(o);return{matchOpt:J(v,O=>{const L=O.format;return L.toLowerCase()===w||d(L).toLowerCase()===d(w).toLowerCase()}).orThunk(()=>Uo(((O,L)=>{if(O.indexOf("-apple-system")===0||L.length>0){const B=g6(O.toLowerCase());return h6(B,hF)||h6(B,L)}return!1})(w,k),{title:x4,format:w})),font:h}},c=g4(o,"font_family_formats",C0.SemiColon);return{tooltip:w0(o,m6(),x4),text:D.some(x4),icon:D.none(),isSelectedFor:d=>h=>h.exists(v=>v.format===d),getCurrentValue:()=>{const{matchOpt:d}=a();return d},getPreviewFor:d=>()=>D.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}}),onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,d.format)})},updateText:d=>{const{matchOpt:h,font:v}=a(),w=h.fold(te(v),k=>k.title);Sn(d,au,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(o,{value:w})},dataset:c,shouldHide:!1,isInvalid:Ce}},pF={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bF=(()=>{const o="[0-9]+",a="[eE][+-]?"+o,c=h=>`(?:${h})?`,d=["Infinity",o+"\\."+c(o)+c(a),"\\."+o+c(a),o+c(a)].join("|");return new RegExp(`^([+-]?(?:${d}))(.*)$`)})(),gS=(o,a)=>D.from(bF.exec(o)).bind(c=>{const d=Number(c[1]),h=c[2];return((v,w)=>On(w,k=>On(pF[k],E=>v===E)))(h,a)?D.some({value:d,unit:h}):D.none()}),b6={tab:te(9),escape:te(27),enter:te(13),backspace:te(8),delete:te(46),left:te(37),up:te(38),right:te(39),down:te(40),space:te(32),home:te(36),end:te(35),pageUp:te(33),pageDown:te(34)},v6=te("Font size {0}"),y6="12pt",vF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},x6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},yF=(o,a)=>/[0-9.]+px$/.test(o)?((c,d)=>{const h=Math.pow(10,d);return Math.round(c*h)/h})(72*parseInt(o,10)/96,a||0)+"pt":cn(x6,o).getOr(o),xF=o=>cn(vF,o).getOr(""),w6=o=>{const a=()=>{let h=D.none();const v=d.data,w=o.queryCommandValue("FontSize");if(w)for(let k=3;h.isNone()&&k>=0;k--){const E=yF(w,k),O=xF(E);h=J(v,L=>L.format===w||L.format===E||L.format===O)}return{matchOpt:h,size:w}},c=te(D.none),d=g4(o,"font_size_formats",C0.Space);return{tooltip:w0(o,v6(),y6),text:D.some(y6),icon:D.none(),isSelectedFor:h=>v=>v.exists(w=>w.format===h),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:h}=a();return h},onAction:h=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,h.format)})},updateText:h=>{const{matchOpt:v,size:w}=a(),k=v.fold(te(w),E=>E.title);Sn(h,au,{text:k}),((E,O)=>{E.dispatch("FontSizeTextUpdate",O)})(o,{value:k})},dataset:d,shouldHide:!1,isInvalid:Ce}},C6=o=>fu(o)?"Formats":"Format {0}",_6=(o,a)=>{const c="Formats";return{tooltip:w0(o,C6(""),""),text:D.some(c),icon:D.none(),isSelectedFor:d=>()=>o.formatter.match(d),getCurrentValue:D.none,getPreviewFor:d=>()=>{const h=o.formatter.get(d);return h!==void 0?D.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(d))}):D.none()},onAction:VD(o),updateText:d=>{const h=k=>kN(k)?Ko(k.items,h):EN(k)?[{title:k.title,format:k.format}]:[],v=Ko(AN(o),h),w=f6(o,te(v)).fold(te({title:c,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Sn(d,au,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(o,{value:w.tooltipLabel})},shouldHide:_5(o),isInvalid:d=>!o.formatter.canApply(d.format),dataset:a}},w4=te([At("toggleClass"),At("fetch"),Tu("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),uf(),Tu("onItemExecute"),Io("lazySink"),At("dom"),Fo("onOpen"),mn("splitDropdownBehaviours",[_s,An,Zn]),et("matchWidth",!1),et("useMinWidth",!1),et("eventOrder",{}),Io("role"),Io("listRole")].concat(vA())),wF=ll({factory:Ti,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(nf)},buttonBehaviours:Ft([Un.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),CF=ll({factory:Ti,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,a)})}})}),_F=te([wF,CF,Qc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),vd({schema:[Og()],name:"menu",defaults:o=>({onExecute:(a,c)=>{a.getSystem().getByUid(o.uid).each(d=>{o.onItemExecute(d,a,c)})}})}),oR()]),H2=xl({name:"SplitDropdown",configFields:w4(),partFields:_F(),factory:(o,a,c,d)=>{const h=O=>{Vo.getCurrent(O).each(L=>{or.highlightFirst(L),An.focusIn(L)})},v=O=>{hA(o,Ae,O,d,h,Wi.HighlightMenuAndItem).get(me)},w=O=>{const L=jg(O,o,"button");return nf(L),D.some(!0)},k={...to([Zr((O,L)=>{Br(O,o,"aria-descriptor").each(B=>{const H=fn("aria");Jt(B.element,"id",H),Jt(O.element,"aria-describedby",H)})})]),...tv(D.some(v))},E={repositionMenus:O=>{Un.isOn(O)&&aR(O)}};return{uid:o.uid,dom:o.dom,components:a,apis:E,eventOrder:{...o.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:co(o.splitDropdownBehaviours,[_s.config({others:{sandbox:O=>{const L=jg(O,o,"arrow");return bA(o,O,{onOpen:()=>{Un.on(L),Un.on(O)},onClose:()=>{Un.off(L),Un.off(O)}})}}}),An.config({mode:"special",onSpace:w,onEnter:w,onDown:O=>(v(O),D.some(!0))}),Zn.config({}),Un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,a)=>o.repositionMenus(a)}}),C4=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,au,{text:a}),setIcon:a=>Sn(o,Vu,{icon:a})}),SF=o=>({setActive:a=>{Un.set(o,a)},isActive:()=>Un.isOn(o),isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,au,{text:a}),setIcon:a=>Sn(o,Vu,{icon:a})}),S6=(o,a)=>o.map(c=>({"aria-label":a.translate(c)})).getOr({}),_4=fn("focus-button"),S4=(o,a,c,d,h,v)=>{const w=a.map(E=>tr(d3(E,"tox-tbtn",h))),k=o.map(E=>tr(yp(E,h.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...S6(c,h),...$(v)?{"data-mce-name":v}:{}}},components:dv([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Tt()]:["focusing","alloy.base.behaviour",vp],[ja()]:[vp,"toolbar-group-button-events"]},buttonBehaviours:Ft([n_(h.isDisabled),ha(),uo(vp,[Zr((E,O)=>U_(E)),xt(au,(E,O)=>{w.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[Cs(h.translate(O.event.text))])})}),xt(Vu,(E,O)=>{k.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[yp(O.event.icon,h.icons)])})}),xt(Tt(),(E,O)=>{O.event.prevent(),go(E,_4)})])].concat(d.getOr([])))}},k6=(o,a,c,d)=>{var h;const v=Dn(me),w=S4(o.icon,o.text,o.tooltip,D.none(),c,d);return Ti.sketch({dom:w.dom,components:w.components,eventOrder:u3,buttonBehaviours:{...Ft([uo("toolbar-button-events",[(k={onAction:o.onAction,getApi:a.getApi},jc((E,O)=>{u2(k,E)(L=>{Sn(E,$_,{buttonApi:L}),k.onAction(L)})})),cp(a,v),Jg(a,v)]),...o.tooltip.map(E=>Us.config(c.tooltips.getConfig({tooltipText:c.translate(E)+o.shortcut.map(O=>` (${o_(O)})`).getOr("")}))).toArray(),n_(()=>!o.enabled||c.isDisabled()),ha()].concat(a.toolbarButtonBehaviours)),[vp]:(h=w.buttonBehaviours)===null||h===void 0?void 0:h[vp]}});var k},E6=(o,a,c,d)=>k6(o,{toolbarButtonBehaviours:c.length>0?[uo("toolbarButtonWith",c)]:[],getApi:C4,onSetup:o.onSetup},a,d),A6=(o,a,c,d)=>k6(o,{toolbarButtonBehaviours:[zn.config({}),Un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[uo("toolbarToggleButtonWith",c)]:[]),getApi:SF,onSetup:o.onSetup},a,d),kF=(o,a,c)=>d=>up(h=>a.fetch(h)).map(h=>D.from(yA(yr(f0(fn("menu-value"),h,v=>{a.onItemAction(o(d),v)},a.columns,a.presets,Ef.CLOSE_ON_EXECUTE,a.select.getOr(Ce),c),{movement:h2(a.columns,a.presets),menuBehaviours:c2(a.columns!=="auto"?[]:[Zr((v,w)=>{WE(v,4,ap(a.presets)).each(({numRows:k,numColumns:E})=>{An.setGridSize(v,k,E)})})])})))),EF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],_p=(o,a)=>(c,d,h,v)=>{const w=o(c).mapError(k=>Li(k)).getOrDie();return a(w,d,h,v)},AF={button:_p(hD,(o,a,c,d)=>((h,v,w)=>E6(h,v,[],w))(o,a.shared.providers,d)),togglebutton:_p(QC,(o,a,c,d)=>((h,v,w)=>A6(h,v,[],w))(o,a.shared.providers,d)),menubutton:_p(WN,(o,a,c,d)=>Sv(o,"tox-tbtn",a,D.none(),!1,d)),splitbutton:_p(o=>is("SplitButton",NL,o),(o,a,c,d)=>((h,v,w)=>{const k=Dn(h.tooltip.getOr("")),E=B=>({isEnabled:()=>!Kn.isDisabled(B),setEnabled:H=>Kn.set(B,!H),setIconFill:(H,K)=>{Xr(B.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{Jt(Y,"fill",K)})},setActive:H=>{Jt(B.element,"aria-pressed",H),Xr(B.element,"span").each(K=>{B.getSystem().getByDom(K).each(Y=>Un.set(Y,H))})},isActive:()=>Xr(B.element,"span").exists(H=>B.getSystem().getByDom(H).exists(Un.isOn)),setText:H=>Xr(B.element,"span").each(K=>B.getSystem().getByDom(K).each(Y=>Sn(Y,au,{text:H}))),setIcon:H=>Xr(B.element,"span").each(K=>B.getSystem().getByDom(K).each(Y=>Sn(Y,Vu,{icon:H}))),setTooltip:H=>{const K=v.providers.translate(H);Jt(B.element,"aria-label",K),k.set(H)}}),O=Dn(me),L={getApi:E,onSetup:h.onSetup};return H2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...S6(h.tooltip,v.providers),...$(w)?{"data-mce-name":w}:{}}},onExecute:B=>{const H=E(B);H.isEnabled()&&h.onAction(H)},onItemExecute:(B,H,K)=>{},splitDropdownBehaviours:Ft([ED(v.providers.isDisabled),ha(),uo("split-dropdown-events",[Zr((B,H)=>U_(B)),xt(_4,Zn.focus),cp(L,O),Jg(L,O)]),g0.config({}),...h.tooltip.map(B=>Us.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(B),onShow:H=>{if(k.get()!==B){const K=v.providers.translate(k.get());Us.setComponents(H,v.providers.tooltips.getComponents({tooltipText:K}))}}})})).toArray()]),eventOrder:{[ja()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[ic()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:kF(E,h,v.providers),parts:{menu:qC(0,h.columns,h.presets)},components:[H2.parts.button(S4(h.icon,h.text,D.none(),D.some([Un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),H2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:K5("chevron-down",v.providers.icons)},buttonBehaviours:Ft([ED(v.providers.isDisabled),ha(),ZC()])}),H2.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(o,a.shared,d)),grouptoolbarbutton:_p(o=>is("GroupToolbarButton",DL,o),(o,a,c,d)=>{const h=c.ui.registry.getAll().buttons,v={[il]:a.shared.header.isPositionedAtTop()?bc.TopToBottom:bc.BottomToTop};if(Qb(c)===Iu.floating)return((w,k,E,O,L)=>{const B=k.shared,H=Dn(me),K={toolbarButtonBehaviours:[],getApi:C4,onSetup:w.onSetup},Y=[uo("toolbar-group-button-events",[cp(K,H),Jg(K,H)])];return ah.sketch({lazySink:B.getSink,fetch:()=>up(se=>{se(bt(E(w.items),fS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:S4(w.icon,w.text,w.tooltip,D.some(Y),B.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,a,w=>hS(c,{buttons:h,toolbar:w,allowToolbarGroups:!1},a,D.none()),v,d);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},V2={styles:(o,a)=>{const c={type:"advanced",...a.styles};return z2(o,a,_6(o,c),C6,"StylesTextUpdate","styles")},fontsize:(o,a)=>z2(o,a,w6(o),v6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,a)=>((c,d,h,v)=>{let w=D.none();const k=u0(c,"NodeChange SwitchMode",fe=>{const ye=fe.getComponent();w=D.some(ye),h.updateInputValue(ye),Kn.set(ye,!c.selection.isEditable())}),E=fe=>({getComponent:te(fe)}),O=Dn(me),L=fn("custom-number-input-events"),B=(fe,ye,_e)=>{const Le=w.map(Bt=>nt.getValue(Bt)).getOr(""),Xe=h.getNewValue(Le,fe),_t=Le.length-`${Xe}`.length,vt=w.map(Bt=>Bt.element.dom.selectionStart-_t),gt=w.map(Bt=>Bt.element.dom.selectionEnd-_t);h.onAction(Xe,_e),w.each(Bt=>{nt.setValue(Bt,Xe),ye&&(vt.each(sn=>Bt.element.dom.selectionStart=sn),gt.each(sn=>Bt.element.dom.selectionEnd=sn))})},H=(fe,ye)=>B((_e,Le)=>_e-Le,fe,ye),K=(fe,ye)=>B((_e,Le)=>_e+Le,fe,ye),Y=fe=>ai(fe.element).fold(D.none,ye=>(ki(ye),D.some(!0))),se=fe=>zg(fe.element)?(Se(fe.element).each(ye=>ki(ye)),D.some(!0)):D.none(),ce=(fe,ye,_e,Le)=>{const Xe=Dn(me),_t=d.shared.providers.translate(_e),vt=fn("altExecuting"),gt=u0(c,"NodeChange SwitchMode",sn=>{Kn.set(sn.getComponent(),!c.selection.isEditable())}),Bt=sn=>{Kn.isDisabled(sn)||fe(!0)};return Ti.sketch({dom:{tag:"button",attributes:{"aria-label":_t,"data-mce-name":ye},classes:Le.concat(ye)},components:[A2(ye,d.shared.providers.icons)],buttonBehaviours:Ft([Kn.config({}),Us.config(d.shared.providers.tooltips.getConfig({tooltipText:_t})),uo(vt,[cp({onSetup:gt,getApi:E},Xe),Jg({getApi:E},Xe),xt(cs(),(sn,vn)=>{vn.event.raw.keyCode!==b6.space()&&vn.event.raw.keyCode!==b6.enter()||Kn.isDisabled(sn)||fe(!1)}),xt(Js(),Bt),xt(Oe(),Bt)])]),eventOrder:{[cs()]:[vt,"keying"],[Js()]:[vt,"alloy.base.behaviour"],[Oe()]:[vt,"alloy.base.behaviour"],[ja()]:["alloy.base.behaviour",vt,"tooltipping"],[ic()]:[vt,"tooltipping"]}})},ve=tr(ce(fe=>H(!1,fe),"minus","Decrease font size",[])),ie=tr(ce(fe=>K(!1,fe),"plus","Increase font size",[])),ae=tr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Xg.sketch({inputBehaviours:Ft([Kn.config({}),uo(L,[cp({onSetup:k,getApi:E},O),Jg({getApi:E},O)]),uo("input-update-display-text",[xt(au,(fe,ye)=>{nt.setValue(fe,ye.event.text)}),xt(Rs(),fe=>{h.onAction(nt.getValue(fe))}),xt(cm(),fe=>{h.onAction(nt.getValue(fe))})]),An.config({mode:"special",onEnter:fe=>(B(Ae,!0,!0),D.some(!0)),onEscape:Y,onUp:fe=>(K(!0,!1),D.some(!0)),onDown:fe=>(H(!0,!1),D.some(!0)),onLeft:(fe,ye)=>(ye.cut(),D.none()),onRight:(fe,ye)=>(ye.cut(),D.none())})])})],behaviours:Ft([Zn.config({}),An.config({mode:"special",onEnter:se,onSpace:se,onEscape:Y}),uo("input-wrapper-events",[xt(_n(),fe=>{Zt([ve,ie],ye=>{const _e=Qt(ye.get(fe).element.dom);zg(_e)&&Cb(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$(v)?{"data-mce-name":v}:{}}},components:[ve.asSpec(),ae.asSpec(),ie.asSpec()],behaviours:Ft([Zn.config({}),An.config({mode:"flow",focusInside:Wb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:fe=>zg(fe.element)?D.none():(ki(fe.element),D.some(!0))})])}})(o,a,(c=>{const d=()=>c.queryCommandValue("FontSize");return{updateInputValue:h=>Sn(h,au,{text:d()}),onAction:(h,v)=>c.execCommand("FontSize",!1,h,{skip_focus:!v}),getNewValue:(h,v)=>{gS(h,["unsupportedLength","empty"]);const w=d(),k=gS(h,["unsupportedLength","empty"]).or(gS(w,["unsupportedLength","empty"])),E=k.map(K=>K.value).getOr(16),O=pE(c),L=k.map(K=>K.unit).filter(K=>K!=="").getOr(O),B=v(E,(K=>{var Y;return(Y={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[K])!==null&&Y!==void 0?Y:{step:1}})(L).step),H=`${(K=>K>=0)(B)?B:E}${L}`;return H!==w&&((K,Y)=>{K.dispatch("FontSizeInputTextUpdate",Y)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,a)=>z2(o,a,p6(o),m6,"FontFamilyTextUpdate","fontfamily"),blocks:(o,a)=>z2(o,a,y4(o),b4,"BlocksTextUpdate","blocks"),align:(o,a)=>z2(o,a,p4(o),u6,"AlignTextUpdate","align")},hS=(o,a,c,d)=>{const h=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(O=>{const L=bt(EF,B=>{const H=ho(B.items,K=>po(O,K)||po(V2,K));return{name:B.name,items:H}});return ho(L,B=>B.items.length>0)})(E):p(k)?(O=>{const L=O.split("|");return bt(L,B=>({items:B.trim().split(" ")}))})(k):(O=>he(O,L=>po(L,"name")&&po(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),v=bt(h,w=>{const k=Ko(w.items,E=>E.trim().length===0?[]:((O,L,B,H,K,Y)=>cn(L,B.toLowerCase()).orThunk(()=>Y.bind(se=>It(se,ce=>cn(L,ce+B.toLowerCase())))).fold(()=>cn(V2,B.toLowerCase()).map(se=>se(O,K)),se=>se.type!=="grouptoolbarbutton"||H?((ce,ve,ie,ae)=>cn(AF,ce.type).fold(()=>(console.error("skipping button defined by",ce),D.none()),fe=>D.some(fe(ce,ve,ie,ae))))(se,K,O,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(o,a.buttons,E,a.allowToolbarGroups,c,d).toArray());return{title:D.from(o.translate(w.name)),items:k}});return ho(v,w=>w.items.length>0)},T6=(o,a,c,d)=>{const h=a.mainUi.outerContainer,v=c.toolbar,w=c.buttons;if(he(v,p)){const k=v.map(E=>{const O={toolbar:E,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return hS(o,O,d,D.none())});zr.setToolbars(h,k)}else zr.setToolbar(h,hS(o,c,d,D.none()))},O6=Va(),TF=O6.os.isiOS()&&O6.os.version.major<=12;var m$=Object.freeze({__proto__:null,render:(o,a,c,d,h)=>{const{mainUi:v,uiMotherships:w}=a,k=Dn(0),E=v.outerContainer;c6(o);const O=Qt(h.targetNode),L=je(ot(O));mt(O,v.mothership),((Y,se,ce)=>{Yg(Y)&&mt(ce.mainUi.mothership.element,ce.popupUi.mothership),hx(se,ce.dialogUi.mothership)})(o,L,a),o.on("SkinLoaded",()=>{zr.setSidebar(E,c.sidebar,NC(o)),T6(o,a,c,d),k.set(o.getWin().innerWidth),zr.setMenubar(E,a6(o,c)),zr.setViews(E,c.views),((Y,se)=>{const{uiMotherships:ce}=se,ve=Y.dom;let ie=Y.getWin();const ae=Y.getDoc().documentElement,fe=Dn(Pr(ie.innerWidth,ie.innerHeight)),ye=Dn(Pr(ae.offsetWidth,ae.offsetHeight)),_e=()=>{const vt=fe.get();vt.left===ie.innerWidth&&vt.top===ie.innerHeight||(fe.set(Pr(ie.innerWidth,ie.innerHeight)),c0(Y))},Le=()=>{const vt=Y.getDoc().documentElement,gt=ye.get();gt.left===vt.offsetWidth&&gt.top===vt.offsetHeight||(ye.set(Pr(vt.offsetWidth,vt.offsetHeight)),c0(Y))},Xe=vt=>{((gt,Bt)=>{gt.dispatch("ScrollContent",Bt)})(Y,vt)};ve.bind(ie,"resize",_e),ve.bind(ie,"scroll",Xe);const _t=ax(Qt(Y.getBody()),"load",Le);Y.on("hide",()=>{Zt(ce,vt=>{Jn(vt.element,"display","none")})}),Y.on("show",()=>{Zt(ce,vt=>{er(vt.element,"display")})}),Y.on("NodeChange",Le),Y.on("remove",()=>{_t.unbind(),ve.unbind(ie,"resize",_e),ve.unbind(ie,"scroll",Xe),ie=null})})(o,a)});const B=zr.getSocket(E).getOrDie("Could not find expected socket element");if(TF){Bi(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Y=((ce,ve)=>{let ie=null;return{cancel:()=>{I(ie)||(clearTimeout(ie),ie=null)},throttle:(...ae)=>{I(ie)&&(ie=setTimeout(()=>{ie=null,ce.apply(null,ae)},20))}}})(()=>{o.dispatch("ScrollContent")}),se=Ei(B.element,"scroll",Y.throttle);o.on("remove",se.unbind)}kD(o,a),o.addCommand("ToggleSidebar",(Y,se)=>{zr.toggleSidebar(E,se),(ce=>{ce.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var Y;return(Y=zr.whichSidebar(E))!==null&&Y!==void 0?Y:""}),o.addCommand("ToggleView",(Y,se)=>{if(zr.toggleView(E,se)){const ce=E.element;v.mothership.broadcastOn([P()],{target:ce}),Zt(w,ve=>{ve.broadcastOn([P()],{target:ce})}),I(zr.whichView(E))&&(o.focus(),o.nodeChanged(),zr.refreshToolbar(E)),(ve=>{ve.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var Y;return(Y=zr.whichView(E))!==null&&Y!==void 0?Y:""});const H=Qb(o);H!==Iu.sliding&&H!==Iu.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Y=o.getWin().innerWidth;Y!==k.get()&&(zr.refreshToolbar(a.mainUi.outerContainer),k.set(Y))});const K={setEnabled:Y=>{i0(a,!Y)},isEnabled:()=>!Kn.isDisabled(E)};return{iframeContainer:B.element.dom,editorContainer:E.element.dom,api:K}}});const $2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?D.some(parseInt(""+o,10)):D.none(),Sp=o=>ee(o)?o+"px":o,U2=(o,a,c)=>{const d=a.filter(v=>o<v),h=c.filter(v=>o>v);return d.or(h).getOr(o)},k4=o=>{const a=Lx(o),c=Fx(o),d=rv(o);return $2(a).map(h=>U2(h,c,d))},{ToolbarLocation:E4,ToolbarMode:D6}=Wx,OF=(o,a,c,d,h)=>{const{mainUi:v,uiMotherships:w}=c,k=nv.DOM,E=e0(o),O=Gg(o),L=rv(o).or(k4(o)),B=d.shared.header,H=B.isPositionedAtTop,K=Qb(o),Y=K===D6.sliding||K===D6.floating,se=Dn(!1),ce=()=>se.get()&&!o.removed,ve=ye=>Y?ye.fold(te(0),_e=>_e.components().length>1?ms(_e.components()[1].element):0):0,ie=()=>{Zt(w,ye=>{ye.broadcastOn([V()],{})})},ae=ye=>{if(!ce())return;E||h.on(Xe=>{const _t=L.getOrThunk(()=>na().width-Fa(a).left-10);Jn(Xe.element,"max-width",_t+"px")});const _e=Lr(),Le=!(E||E||!(bl(v.outerContainer.element).left+Mi(v.outerContainer.element)>=window.innerWidth-40||As(v.outerContainer.element,"width").isSome())||(Jn(v.outerContainer.element,"position","absolute"),Jn(v.outerContainer.element,"left","0px"),er(v.outerContainer.element,"width"),0));if(Y&&zr.refreshToolbar(v.outerContainer),!E){const Xe=Lr(),_t=Uo(_e.left!==Xe.left,_e);((vt,gt)=>{h.on(Bt=>{const sn=zr.getToolbar(v.outerContainer),vn=ve(sn),In=js(a),qn=((mo,zo)=>Yg(mo)?Mh(zo):D.none())(o,v.outerContainer.element),So=qn.fold(()=>In.x,mo=>{const zo=js(mo);return Wo(mo,dn())?In.x:In.x-zo.x}),Hr=Uo(vt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(mo=>mo>150).map(mo=>{const zo=gt.getOr(Lr()),Fn=window.innerWidth-(So-zo.left),Qr=Math.max(Math.min(mo,Fn),150);return Fn<mo&&Jn(v.outerContainer.element,"width",Qr+"px"),{width:Qr+"px"}}).getOr({width:"max-content"}),Jr={position:"absolute",left:Math.round(So)+"px",top:qn.fold(()=>H()?Math.max(In.y-ms(Bt.element)+vn,0):In.bottom,mo=>{var zo;const Fn=js(mo),Qr=(zo=mo.dom.scrollTop)!==null&&zo!==void 0?zo:0,Cr=Wo(mo,dn())?Math.max(In.y-ms(Bt.element)+vn,0):In.y-Fn.y+Qr-ms(Bt.element)+vn;return H()?Cr:In.bottom})+"px"};Bi(v.outerContainer.element,{...Jr,...Hr})})})(Le,_t),_t.each(vt=>{jd(vt.left,Xe.top)})}O&&h.on(ye),ie()},fe=()=>!(E||!O||!ce())&&h.get().exists(ye=>{const _e=B.getDockingMode(),Le=(_t=>{switch(Qh(o)){case E4.auto:const vt=zr.getToolbar(v.outerContainer),gt=ve(vt),Bt=ms(_t.element)-gt,sn=js(a);if(sn.y>Bt)return"top";{const vn=Ii(a),In=Math.max(vn.dom.scrollHeight,ms(vn));return sn.bottom<In-Bt||Ca().bottom<sn.bottom-Bt?"bottom":"top"}case E4.bottom:return"bottom";case E4.top:default:return"top"}})(ye);return Le!==_e&&(Xe=Le,h.on(_t=>{Yr.setModes(_t,[Xe]),B.setDockingMode(Xe);const vt=H()?bc.TopToBottom:bc.BottomToTop;Jt(_t.element,il,vt)}),!0);var Xe});return{isVisible:ce,isPositionedAtTop:H,show:()=>{se.set(!0),Jn(v.outerContainer.element,"display","flex"),k.addClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{er(ye.element,"display")}),fe(),Yg(o)?ae(ye=>Yr.isDocked(ye)?Yr.reset(ye):Yr.refresh(ye)):ae(Yr.refresh)},hide:()=>{se.set(!1),Jn(v.outerContainer.element,"display","none"),k.removeClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{Jn(ye.element,"display","none")})},update:ae,updateMode:()=>{fe()&&ae(Yr.reset)},repositionPopups:ie}},R6=(o,a)=>{const c=js(o);return{pos:a?c.y:c.bottom,bounds:c}};var DF=Object.freeze({__proto__:null,render:(o,a,c,d,h)=>{const{mainUi:v}=a,w=ir(),k=Qt(h.targetNode),E=OF(o,k,a,d,w),O=k5(o);mF(o);const L=()=>{if(w.isSet())return void E.show();w.set(zr.getHeader(v.outerContainer).getOrDie());const H=LC(o);Yg(o)?(mt(k,v.mothership),mt(k,a.popupUi.mothership)):hx(H,v.mothership),hx(H,a.dialogUi.mothership);const K=()=>{T6(o,a,c,d),zr.setMenubar(v.outerContainer,a6(o,c)),E.show(),((Y,se,ce,ve)=>{const ie=Dn(R6(se,ce.isPositionedAtTop())),ae=Le=>{const{pos:Xe,bounds:_t}=R6(se,ce.isPositionedAtTop()),{pos:vt,bounds:gt}=ie.get(),Bt=_t.height!==gt.height||_t.width!==gt.width;ie.set({pos:Xe,bounds:_t}),Bt&&c0(Y,Le),ce.isVisible()&&(vt!==Xe?ce.update(Yr.reset):Bt&&(ce.updateMode(),ce.repositionPopups()))};ve||(Y.on("activate",ce.show),Y.on("deactivate",ce.hide)),Y.on("SkinLoaded ResizeWindow",()=>ce.update(Yr.reset)),Y.on("NodeChange keydown",Le=>{requestAnimationFrame(()=>ae(Le))});let fe=0;const ye=QA(()=>ce.update(Yr.refresh),33);Y.on("ScrollWindow",()=>{const Le=Lr().left;Le!==fe&&(fe=Le,ye.throttle()),ce.updateMode()}),Yg(Y)&&Y.on("ElementScroll",Le=>{ce.update(Yr.refresh)});const _e=oc();_e.set(ax(Qt(Y.getBody()),"load",Le=>ae(Le.raw))),Y.on("remove",()=>{_e.clear()})})(o,k,E,O),o.nodeChanged()};O?o.once("SkinLoaded",K):K()};o.on("show",L),o.on("hide",E.hide),O||(o.on("focus",L),o.on("blur",E.hide)),o.on("init",()=>{(o.hasFocus()||O)&&L()}),kD(o,a);const B={show:L,hide:E.hide,setEnabled:H=>{i0(a,!H)},isEnabled:()=>!Kn.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:B}}});const N6="contexttoolbar-hide",I6=(o,a)=>xt($_,(c,d)=>{const h=(v=>({hide:()=>go(v,nb()),getValue:()=>nt.getValue(v)}))(o.get(c));a.onAction(h,d.event.buttonApi)}),RF=(o,a)=>{const c=o.label.fold(()=>({}),v=>({"aria-label":v})),d=tr(Xg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Ft([An.config({mode:"special",onEnter:v=>h.findPrimary(v).map(w=>(nf(w),!0)),onLeft:(v,w)=>(w.cut(),D.none()),onRight:(v,w)=>(w.cut(),D.none())})])})),h=((v,w,k)=>{const E=bt(w,O=>tr(((L,B,H)=>(K=>K.type==="contextformtogglebutton")(B)?((K,Y,se)=>{const{primary:ce,...ve}=Y.original,ie=wi(QC({...ve,type:"togglebutton",onAction:me}));return A6(ie,se,[I6(K,Y)])})(L,B,H):((K,Y,se)=>{const{primary:ce,...ve}=Y.original,ie=wi(hD({...ve,type:"button",onAction:me}));return E6(ie,se,[I6(K,Y)])})(L,B,H))(v,O,k)));return{asSpecs:()=>bt(E,O=>O.asSpec()),findPrimary:O=>It(w,(L,B)=>L.primary?D.from(E[B]).bind(H=>H.getOpt(O)).filter(Ve(Kn.isDisabled)):D.none())}})(d,o.commands,a);return[{title:D.none(),items:[d.asSpec()]},{title:D.none(),items:h.asSpecs()}]},B6=(o,a,c)=>a.bottom-o.y>=c&&o.bottom-a.y>=c,A4=o=>{const a=(c=>{const d=c.getBoundingClientRect();if(d.height<=0&&d.width<=0){const h=Re(Qt(c.startContainer),c.startOffset).element;return(ri(h)?si(h):D.some(h)).filter(Kr).map(v=>v.dom.getBoundingClientRect()).getOr(d)}return d})(o.selection.getRng());if(o.inline){const c=Lr();return bo(c.left+a.left,c.top+a.top,a.width,a.height)}{const c=nl(Qt(o.getBody()));return bo(c.x+a.left,c.y+a.top,a.width,a.height)}},M6=(o,a,c,d=0)=>{const h=na(window),v=js(Qt(o.getContentAreaContainer())),w=Vx(o)||$x(o)||Ux(o),{x:k,width:E}=((O,L,B)=>{const H=Math.max(O.x+B,L.x);return{x:H,width:Math.min(O.right-B,L.right)-H}})(v,h,d);if(o.inline&&!w)return bo(k,h.y,E,h.height);{const O=a.header.isPositionedAtTop(),{y:L,bottom:B}=((H,K,Y,se,ce,ve)=>{const ie=Qt(H.getContainer()),ae=Xr(ie,".tox-editor-header").getOr(ie),fe=js(ae),ye=fe.y>=K.bottom,_e=se&&!ye;if(H.inline&&_e)return{y:Math.max(fe.bottom+ve,Y.y),bottom:Y.bottom};if(H.inline&&!_e)return{y:Y.y,bottom:Math.min(fe.y-ve,Y.bottom)};const Le=ce==="line"?js(ie):K;return _e?{y:Math.max(fe.bottom+ve,Y.y),bottom:Math.min(Le.bottom-ve,Y.bottom)}:{y:Math.max(Le.y+ve,Y.y),bottom:Math.min(fe.y-ve,Y.bottom)}})(o,v,h,O,c,d);return bo(k,L,E,B-L)}},T4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_0={maxHeightFunction:Hg(),maxWidthFunction:r4()},kp=o=>o==="node",NF=(o,a,c,d,h)=>{const v=A4(o),w=d.lastElement().exists(k=>Wo(c,k));return((k,E)=>{const O=k.selection.getRng(),L=Re(Qt(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Wo(L.element,E)})(o,c)?w?eS:$o:w?((k,E,O)=>{const L=As(k,"position");Jn(k,"position",E);const B=B6(v,js(a),-20)&&!d.isReposition()?M3:eS;return L.each(H=>Jn(k,"position",H)),B})(a,d.getMode()):(d.getMode()==="fixed"?h.y+Lr().top:h.y)+(ms(a)+12)<=v.y?$o:Wm},P6=(o,a,c,d)=>{const h=w=>(k,E,O,L,B)=>({...NF(o,L,w,c,B)({...k,y:B.y,height:B.height},E,O,L,B),alwaysFit:!0}),v=w=>kp(d)?[h(w)]:[];return a?{onLtr:w=>[Bs,bs,vs,Vs,xr,ds].concat(v(w)),onRtl:w=>[Bs,vs,bs,xr,Vs,ds].concat(v(w))}:{onLtr:w=>[ds,Bs,Vs,bs,xr,vs].concat(v(w)),onRtl:w=>[ds,Bs,xr,vs,Vs,bs].concat(v(w))}},pS=(o,a)=>{const c=ho(a,v=>v.predicate(o.dom)),{pass:d,fail:h}=Ur(c,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:h}},bS=(o,a)=>{const c={},d=[],h=[],v={},w={},k=on(o);return Zt(k,E=>{const O=o[E];O.type==="contextform"?((L,B)=>{const H=wi(is("ContextForm",QP,B));c[L]=H,H.launch.map(K=>{v["form:"+L]={...B.launch,type:K.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(H)}}}),H.scope==="editor"?h.push(H):d.push(H),w[L]=H})(E,O):O.type==="contexttoolbar"&&((L,B)=>{var H;(H=B,is("ContextToolbar",bD,H)).each(K=>{B.scope==="editor"?h.push(K):d.push(K),w[L]=K})})(E,O)}),{forms:c,inNodeScope:d,inEditorScope:h,lookupTable:w,formNavigators:v}},L6=fn("forward-slide"),Nv=fn("backward-slide"),S0=fn("change-slide-event"),O4="tox-pop--resizing",D4="tox-pop--transition",IF=(o,a,c,d)=>{const h=d.backstage,v=h.shared,w=Va().deviceType.isTouch,k=ir(),E=ir(),O=ir(),L=Ea((_e=>{const Le=Dn([]);return os.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Xe=>{Le.set([]),os.getContent(Xe).each(_t=>{er(_t.element,"visibility")}),ps(Xe.element,O4),er(Xe.element,"width")},inlineBehaviours:Ft([uo("context-toolbar-events",[of(eb(),(Xe,_t)=>{_t.event.raw.propertyName==="width"&&(ps(Xe.element,O4),er(Xe.element,"width"))}),xt(S0,(Xe,_t)=>{const vt=Xe.element;er(vt,"width");const gt=ua(vt);os.setContent(Xe,_t.event.contents),us(vt,O4);const Bt=ua(vt);Jn(vt,"width",gt+"px"),os.getContent(Xe).each(sn=>{_t.event.focus.bind(vn=>(ki(vn),Ms(vt))).orThunk(()=>(An.focusIn(sn),Gc(ot(vt))))}),setTimeout(()=>{Jn(Xe.element,"width",Bt+"px")},0)}),xt(L6,(Xe,_t)=>{os.getContent(Xe).each(vt=>{Le.set(Le.get().concat([{bar:vt,focus:Gc(ot(Xe.element))}]))}),Sn(Xe,S0,{contents:_t.event.forwardContents,focus:D.none()})}),xt(Nv,(Xe,_t)=>{Ct(Le.get()).each(vt=>{Le.set(Le.get().slice(0,Le.get().length-1)),Sn(Xe,S0,{contents:Hi(vt.bar),focus:vt.focus})})})]),An.config({mode:"special",onEscape:Xe=>Ct(Le.get()).fold(()=>_e.onEscape(),_t=>(go(Xe,Nv),D.some(!0)))})]),lazySink:()=>_o.value(_e.sink)})})({sink:c,onEscape:()=>(o.focus(),D.some(!0))})),B=()=>{const _e=O.get().getOr("node"),Le=kp(_e)?1:0;return M6(o,v,_e,Le)},H=()=>!(o.removed||w()&&h.isContextMenuOpen()),K=()=>{if(H()){const _e=B(),Le=Wr(O.get(),"node")?((Xe,_t)=>_t.filter(vt=>nn(vt)&&Ji(vt)).map(nl).getOrThunk(()=>A4(Xe)))(o,k.get()):A4(o);return _e.height<=0||!B6(Le,_e,.01)}return!0},Y=()=>{k.clear(),E.clear(),O.clear(),os.hide(L)},se=()=>{if(os.isOpen(L)){const _e=L.element;er(_e,"display"),K()?Jn(_e,"display","none"):(E.set(0),os.reposition(L))}},ce=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Ft([An.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[Zr(Le=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>An.focusIn(Le))}),Au(Le=>{o.shortcuts.remove("ctrl+F9")})])])}),ve=za(()=>bS(a,_e=>{const Le=ie([_e]);Sn(L,L6,{forwardContents:ce(Le)})})),ie=_e=>{const{buttons:Le}=o.ui.registry.getAll(),Xe={...Le,...ve().formNavigators},_t=Qb(o)===Iu.scrolling?Iu.scrolling:Iu.default,vt=br(bt(_e,gt=>gt.type==="contexttoolbar"?((Bt,sn)=>hS(o,{buttons:Bt,toolbar:sn.items,allowToolbarGroups:!1},d.backstage,D.some(["form:"])))(Xe,gt):((Bt,sn)=>RF(Bt,sn))(gt,v.providers)));return c4({type:_t,uid:fn("context-toolbar"),initGroups:vt,onEscape:D.none,cyclicKeying:!0,providers:v.providers})},ae=(_e,Le)=>{if(ye.cancel(),!H())return;const Xe=ie(_e),_t=_e[0].position,vt=((Bt,sn)=>{const vn=Bt==="node"?v.anchors.node(sn):v.anchors.cursor(),In=((qn,So,Hr,Jr)=>So==="line"?{bubble:Hl(12,0,T4),layouts:{onLtr:()=>[O1],onRtl:()=>[D1]},overrides:_0}:{bubble:Hl(0,12,T4,1/12),layouts:P6(qn,Hr,Jr,So),overrides:_0})(o,Bt,w(),{lastElement:k.get,isReposition:()=>Wr(E.get(),0),getMode:()=>Ya.getMode(c)});return yr(vn,In)})(_t,Le);O.set(_t),E.set(1);const gt=L.element;er(gt,"display"),(Bt=>Wr(Vt(Bt,k.get(),Wo),!0))(Le)||(ps(gt,D4),Ya.reset(c,L)),os.showWithinBounds(L,ce(Xe),{anchor:vt,transition:{classes:[D4],mode:"placement"}},()=>D.some(B())),Le.fold(k.clear,k.set),K()&&Jn(gt,"display","none")};let fe=!1;const ye=QA(()=>{!o.hasFocus()||o.removed||fe||(zi(L.element,D4)?ye.throttle():((_e,Le)=>{const Xe=Qt(Le.getBody()),_t=gt=>Wo(gt,Xe),vt=Qt(Le.selection.getNode());return(gt=>!_t(gt)&&!xs(Xe,gt))(vt)?D.none():((gt,Bt,sn)=>{const vn=pS(gt,Bt);if(vn.contextForms.length>0)return D.some({elem:gt,toolbars:[vn.contextForms[0]]});{const In=pS(gt,sn);if(In.contextForms.length>0)return D.some({elem:gt,toolbars:[In.contextForms[0]]});if(vn.contextToolbars.length>0||In.contextToolbars.length>0){const qn=(So=>{if(So.length<=1)return So;{const Hr=Fn=>On(So,Qr=>Qr.position===Fn),Jr=Fn=>ho(So,Qr=>Qr.position===Fn),mo=Hr("selection"),zo=Hr("node");if(mo||zo){if(zo&&mo){const Fn=Jr("node"),Qr=bt(Jr("selection"),Cr=>({...Cr,position:"node"}));return Fn.concat(Qr)}return Jr(mo?"selection":"node")}return Jr("line")}})(vn.contextToolbars.concat(In.contextToolbars));return D.some({elem:gt,toolbars:qn})}return D.none()}})(vt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((gt,Bt,sn)=>gt(Bt)?D.none():wg(Bt,vn=>{if(Kr(vn)){const{contextToolbars:In,contextForms:qn}=pS(vn,sn.inNodeScope),So=qn.length>0?qn:(Hr=>{if(Hr.length<=1)return Hr;{const Jr=mo=>J(Hr,zo=>zo.position===mo);return Jr("selection").orThunk(()=>Jr("node")).orThunk(()=>Jr("line")).map(mo=>mo.position).fold(()=>[],mo=>ho(Hr,zo=>zo.position===mo))}})(In);return So.length>0?D.some({elem:vn,toolbars:So}):D.none()}return D.none()},gt))(_t,vt,_e))})(ve(),o).fold(Y,_e=>{ae(_e.toolbars,D.some(_e.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",se),o.on("click keyup focus SetContent",ye.throttle),o.on(N6,Y),o.on("contexttoolbar-show",_e=>{const Le=ve();cn(Le.lookupTable,_e.toolbarKey).each(Xe=>{ae([Xe],Uo(_e.target!==o,_e.target)),os.getContent(L).each(An.focusIn)})}),o.on("focusout",_e=>{EC.setEditorTimeout(o,()=>{Ms(c.element).isNone()&&Ms(L.element).isNone()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("ExecCommand",({command:_e})=>{_e.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",_e=>{_e.state?Y():o.hasFocus()&&ye.throttle()}),o.on("dragstart",()=>{fe=!0}),o.on("dragend drop",()=>{fe=!1}),o.on("NodeChange",_e=>{Ms(L.element).fold(ye.throttle,me)})})},F6=(o,a)=>{const c=()=>{const d=a.getOptions(o),h=a.getCurrent(o).map(a.hash),v=ir();return bt(d,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=L=>{L&&(v.on(B=>B.setActive(!1)),v.set(k)),k.setActive(L)};E(Wr(h,a.hash(w)));const O=a.watcher(o,w,E);return()=>{v.clear(),O()}},onAction:()=>a.setCurrent(o,w)}))};o.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:d=>d(c()),onSetup:a.onToolbarSetup}),o.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:c,onSetup:a.onMenuSetup})},BF=o=>{F6(o,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:N5,hash:c=>((d,h)=>gS(d,["fixed","relative","empty"]).map(({value:v,unit:w})=>v+w))(c).getOr(c),display:Ae,watcher:(c,d,h)=>c.formatter.formatChanged("lineheight",h,!1,{value:d}).unbind,getCurrent:c=>D.from(c.queryCommandValue("LineHeight")),setCurrent:(c,d)=>c.execCommand("LineHeight",!1,d),onToolbarSetup:pa(a),onMenuSetup:pa(a)}))(o)),(a=>D.from(mE(a)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:te(c),hash:d=>z(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,h,v)=>{var w;return d.formatter.formatChanged("lang",v,!1,{value:h.code,customValue:(w=h.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:d=>{const h=Qt(d.selection.getNode());return Cg(h,v=>D.some(v).filter(Kr).bind(w=>No(w,"lang").map(k=>({code:k,customCode:No(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(d,h)=>d.execCommand("Lang",!1,h),onToolbarSetup:d=>{const h=oc();return d.setActive(a.formatter.match("lang",{},void 0,!0)),h.set(a.formatter.formatChanged("lang",d.setActive,!0)),hv(h.clear,pa(a)(d))},onMenuSetup:pa(a)})))(o).each(a=>F6(o,a))},MF=o=>u0(o,"NodeChange",a=>{a.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),W2=(o,a)=>c=>{c.setActive(a.get());const d=h=>{a.set(h.state),c.setActive(h.state)};return o.on("PastePlainTextToggle",d),hv(()=>o.off("PastePlainTextToggle",d),pa(o)(c))},R4=(o,a)=>()=>{o.execCommand("mceToggleFormat",!1,a)},N4=o=>{(a=>{(c=>{rh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(d,h)=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Af(c,d.name),onAction:R4(c,d.name),shortcut:d.shortcut})});for(let d=1;d<=6;d++){const h="h"+d,v=`Access+${d}`;c.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+d,onSetup:Af(c,h),onAction:R4(c,h),shortcut:v})}})(a),(c=>{rh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.action),shortcut:d.shortcut})}),rh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:pa(c),onAction:Ul(c,d.action)})})})(a),(c=>{rh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.action),onSetup:Af(c,d.name)})})})(a)})(o),(a=>{rh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:Ul(a,c.action)})}),rh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:pa(a),onAction:Ul(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:pa(a),onAction:R4(a,"code")})})(o)},vS=(o,a)=>u0(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[a]())}),PF=o=>u0(o,"VisualAid",a=>{a.setActive(o.hasVisual)}),LF=(o,a)=>{(c=>{Zt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.cmd),onSetup:Af(c,d.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:pa(c),onAction:Ul(c,"JustifyNone")})})(o),N4(o),((c,d)=>{((h,v)=>{const w=Rv(v,p4(h));h.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,v)=>{const w=Rv(v,p6(h));h.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,v)=>{const w={type:"advanced",...v.styles},k=Rv(v,_6(h,w));h.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:pa(h),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(c,d),((h,v)=>{const w=Rv(v,y4(h));h.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,v)=>{const w=Rv(v,w6(h));h.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d)})(o,a),(c=>{(d=>{d.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:vS(d,"hasUndo"),onAction:Ul(d,"undo")}),d.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:vS(d,"hasRedo"),onAction:Ul(d,"redo")})})(c),(d=>{d.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:vS(d,"hasUndo"),onAction:Ul(d,"undo"),shortcut:"Meta+Z"}),d.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:vS(d,"hasRedo"),onAction:Ul(d,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(k=>{k.addCommand("mceApplyTextcolor",(E,O)=>{((L,B,H)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(B,{value:H}),L.nodeChanged()})})(k,E,O)}),k.addCommand("mceRemoveTextcolor",E=>{((O,L)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(L,{value:null},void 0,!0),O.nodeChanged()})})(k,E)})})(c);const d=ZD(c),h=jD(c),v=Dn(d),w=Dn(h);dA(c,"forecolor","forecolor",v),dA(c,"backcolor","hilitecolor",w),bv(c,"forecolor","forecolor","Text color",v),bv(c,"backcolor","hilitecolor","Background color",w)})(o),(c=>{(d=>{d.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Ul(d,"mceToggleVisualAid")})})(c),(d=>{d.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:PF(d),onAction:Ul(d,"mceToggleVisualAid")})})(c)})(o),(c=>{(d=>{d.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:MF(d),onAction:Ul(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:pa(d),onAction:Ul(d,"indent")})})(c)})(o),BF(o),(c=>{const d=Dn(D5(c)),h=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:W2(c,d)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:W2(c,d)})})(o)},z6=o=>p(o)?o.split(/[ ,]/):o,H6=o=>a=>a.options.get(o),V6=H6("contextmenu_never_use_native"),FF=H6("contextmenu_avoid_overlap"),I4=o=>{const a=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:ho(c,d=>po(a,d))},Z2=(o,a)=>({type:"makeshift",x:o,y:a}),$6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,zF=(o,a)=>a.type==="contextmenu"||a.type==="longpress"?o.inline?(c=>{if($6(c)){const d=c.touches[0];return Z2(d.pageX,d.pageY)}return Z2(c.pageX,c.pageY)})(a):((c,d)=>{const h=nv.DOM.getPos(c);return((v,w,k)=>Z2(v.x+w,v.y+k))(d,h.x,h.y)})(o.getContentAreaContainer(),(c=>{if($6(c)){const d=c.touches[0];return Z2(d.clientX,d.clientY)}return Z2(c.clientX,c.clientY)})(a)):U6(o),U6=o=>({type:"selection",root:Qt(o.selection.getNode())}),W6=(o,a,c)=>{switch(c){case"node":return(d=>({type:"node",node:D.some(Qt(d.selection.getNode())),root:Qt(d.getBody())}))(o);case"point":return zF(o,a);case"selection":return U6(o)}},Z6=(o,a,c,d,h,v)=>{const w=c(),k=W6(o,a,v);v0(w,Ef.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:D.none()}).map(E=>{a.preventDefault(),os.showMenuAt(h,{anchor:k},{menu:{markers:o0("normal")},data:E})})},j6={onLtr:()=>[Bs,bs,vs,Vs,xr,ds,$o,Wm,N2,Cp,Zl,Wl],onRtl:()=>[Bs,vs,bs,xr,Vs,ds,$o,Wm,Zl,Wl,N2,Cp]},HF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},VF=(o,a,c,d,h,v)=>{const w=Va(),k=w.os.isiOS(),E=w.os.isMacOS(),O=w.os.isAndroid(),L=w.deviceType.isTouch(),B=()=>{const H=c();((K,Y,se,ce,ve,ie,ae)=>{const fe=((ye,_e,Le)=>{const Xe=W6(ye,_e,Le);return{bubble:Hl(0,Le==="point"?12:0,HF),layouts:j6,overrides:{maxWidthFunction:r4(),maxHeightFunction:Hg()},...Xe}})(K,Y,ie);v0(se,Ef.CLOSE_ON_EXECUTE,ce,{isHorizontalMenu:!0,search:D.none()}).map(ye=>{Y.preventDefault();const _e=ae?Wi.HighlightMenuAndItem:Wi.HighlightNone;os.showMenuWithinBounds(ve,{anchor:fe},{menu:{markers:o0("normal"),highlightOnOpen:_e},data:ye,type:"horizontal"},()=>D.some(M6(K,ce.shared,ie==="node"?"node":"selection"))),K.dispatch(N6)})})(o,a,H,d,h,v,!(O||k||E&&L))};if((E||k)&&v!=="node"){const H=()=>{(K=>{const Y=K.selection.getRng(),se=()=>{EC.setEditorTimeout(K,()=>{K.selection.setRng(Y)},10),ie()};K.once("touchend",se);const ce=ae=>{ae.preventDefault(),ae.stopImmediatePropagation()};K.on("mousedown",ce,!0);const ve=()=>ie();K.once("longpresscancel",ve);const ie=()=>{K.off("touchend",se),K.off("longpresscancel",ve),K.off("mousedown",ce)}})(o),B()};((K,Y)=>{const se=K.selection;if(se.isCollapsed()||Y.touches.length<1)return!1;{const ce=Y.touches[0],ve=se.getRng();return ux(K.getWin(),gf.domRange(ve)).exists(ie=>ie.left<=ce.clientX&&ie.right>=ce.clientX&&ie.top<=ce.clientY&&ie.bottom>=ce.clientY)}})(o,a)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else B()},K6=o=>p(o)?o==="|":o.type==="separator",B4={type:"separator"},q6=o=>{const a=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(p(o))return o;switch(o.type){case"separator":return B4;case"submenu":return{type:"nestedmenuitem",...a(o),getSubmenuItems:()=>{const d=o.getSubmenuItems();return p(d)?d:bt(d,q6)}};default:const c=o;return{type:"menuitem",...a(c),onAction:$e(c.onAction)}}},M4=(o,a)=>{if(a.length===0)return o;const c=Ct(o).filter(d=>!K6(d)).fold(()=>[],d=>[B4]);return o.concat(c).concat(a).concat([B4])},k0=(o,a)=>!(c=>c.type==="longpress"||po(c,"touches"))(a)&&(a.button!==2||a.target===o.getBody()&&a.pointerType===""),G6=(o,a)=>k0(o,a)?o.selection.getStart(!0):a.target,$F=(o,a,c)=>{const d=Va().deviceType.isTouch,h=Ea(os.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissContextMenu",[xt(_g(),(k,E)=>{T.close(k),o.focus()})])])})),v=()=>os.hide(h),w=k=>{if(V6(o)&&k.preventDefault(),((O,L)=>L.ctrlKey&&!V6(O))(o,k)||(O=>I4(O).length===0)(o))return;const E=((O,L)=>{const B=FF(O),H=k0(O,L)?"selection":"point";if(Xi(B)){const K=G6(O,L);return yv(Qt(K),B)?"node":H}return H})(o,k);(d()?VF:Z6)(o,k,()=>{const O=G6(o,k),L=o.ui.registry.getAll(),B=I4(o);return((H,K,Y)=>{const se=Rn(K,(ce,ve)=>cn(H,ve.toLowerCase()).map(ie=>{const ae=ie.update(Y);if(p(ae)&&Xi(ec(ae)))return M4(ce,ae.split(" "));if(M(ae)&&ae.length>0){const fe=bt(ae,q6);return M4(ce,fe)}return ce}).getOrThunk(()=>ce.concat([ve])),[]);return se.length>0&&K6(se[se.length-1])&&se.pop(),se})(L.contextMenus,B,O)},c,h,E)};o.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");o.on(k,v),o.on("longpress contextmenu",w)})},P4=Tl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),E0=o=>a=>a.translate(-o.left,-o.top),jl=o=>a=>a.translate(o.left,o.top),Of=o=>(a,c)=>Rn(o,(d,h)=>h(d),Pr(a,c)),j2=(o,a,c)=>o.fold(Of([jl(c),E0(a)]),Of([E0(a)]),Of([])),Iv=(o,a,c)=>o.fold(Of([jl(c)]),Of([]),Of([jl(a)])),Y6=(o,a,c)=>o.fold(Of([]),Of([E0(c)]),Of([jl(a),E0(c)])),X6=(o,a,c)=>{const d=o.fold((h,v)=>({position:D.some("absolute"),left:D.some(h+"px"),top:D.some(v+"px")}),(h,v)=>({position:D.some("absolute"),left:D.some(h-c.left+"px"),top:D.some(v-c.top+"px")}),(h,v)=>({position:D.some("fixed"),left:D.some(h+"px"),top:D.some(v+"px")}));return{right:D.none(),bottom:D.none(),...d}},L4=(o,a,c,d)=>{const h=(v,w)=>(k,E)=>{const O=v(a,c,d);return w(k.getOr(O.left),E.getOr(O.top))};return o.fold(h(Y6,K2),h(Iv,ih),h(j2,A0))},K2=P4.offset,ih=P4.absolute,A0=P4.fixed,J6=(o,a)=>{const c=wo(o,a);return z(c)?NaN:parseInt(c,10)},Q6=(o,a,c,d,h,v)=>{const w=((O,L,B,H)=>((K,Y)=>{const se=K.element,ce=J6(se,Y.leftAttr),ve=J6(se,Y.topAttr);return isNaN(ce)||isNaN(ve)?D.none():D.some(Pr(ce,ve))})(O,L).fold(()=>B,K=>A0(K.left+H.left,K.top+H.top)))(o,a,c,d),k=a.mustSnap?tI(o,a,w,h,v):nI(o,a,w,h,v),E=j2(w,h,v);return((O,L,B)=>{const H=O.element;Jt(H,L.leftAttr,B.left+"px"),Jt(H,L.topAttr,B.top+"px")})(o,a,E),k.fold(()=>({coord:A0(E.left,E.top),extra:D.none()}),O=>({coord:O.output,extra:O.extra}))},eI=(o,a,c,d)=>It(o,h=>{const v=h.sensor;return((k,E,O,L,B,H)=>{const K=Iv(k,B,H),Y=Iv(E,B,H);return Math.abs(K.left-Y.left)<=O&&Math.abs(K.top-Y.top)<=L})(a,v,h.range.left,h.range.top,c,d)?D.some({output:L4(h.output,a,c,d),extra:h.extra}):D.none()}),tI=(o,a,c,d,h)=>{const v=a.getSnapPoints(o);return eI(v,c,d,h).orThunk(()=>Rn(v,(k,E)=>{const O=E.sensor,L=((B,H,K,Y,se,ce)=>{const ve=Iv(B,se,ce),ie=Iv(H,se,ce),ae=Math.abs(ve.left-ie.left),fe=Math.abs(ve.top-ie.top);return Pr(ae,fe)})(c,O,E.range.left,E.range.top,d,h);return k.deltas.fold(()=>({deltas:D.some(L),snap:D.some(E)}),B=>(L.left+L.top)/2<=(B.left+B.top)/2?{deltas:D.some(L),snap:D.some(E)}:k)},{deltas:D.none(),snap:D.none()}).snap.map(k=>({output:L4(k.output,c,d,h),extra:k.extra})))},nI=(o,a,c,d,h)=>{const v=a.getSnapPoints(o);return eI(v,c,d,h)};var oI=Object.freeze({__proto__:null,snapTo:(o,a,c,d)=>{const h=a.getTarget(o.element);if(a.repositionTarget){const v=Zs(o.element),w=Lr(v),k=rf(h),E=((L,B,H)=>({coord:L4(L.output,L.output,B,H),extra:L.extra}))(d,w,k),O=X6(E.coord,0,k);Qi(h,O)}}});const F4="data-initial-z-index",rI=(o,a)=>{o.getSystem().addToGui(a),(c=>{si(c.element).filter(Kr).each(d=>{As(d,"z-index").each(h=>{Jt(d,F4,h)}),Jn(d,"z-index",as(c.element,"z-index"))})})(a)},UF=o=>{(a=>{si(a.element).filter(Kr).each(c=>{No(c,F4).fold(()=>er(c,"z-index"),d=>Jn(c,"z-index",d)),fo(c,F4)})})(o),o.getSystem().removeFromGui(o)},sI=(o,a,c)=>o.getSystem().build(Cd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:c}));var WF=gs("snaps",[At("getSnapPoints"),Fo("onSensor"),At("leftAttr"),At("topAttr"),et("lazyViewport",Ca),et("mustSnap",!1)]);const z4=[et("useFixed",Ce),At("blockerClass"),et("getTarget",Ae),et("onDrag",me),et("repositionTarget",!0),et("onDrop",me),Fr("getBounds",Ca),WF],H4=o=>{return(a=As(o,"left"),c=As(o,"top"),d=As(o,"position"),a.isSome()&&c.isSome()&&d.isSome()?D.some(((h,v,w)=>(w==="fixed"?A0:K2)(parseInt(h,10),parseInt(v,10)))(a.getOrDie(),c.getOrDie(),d.getOrDie())):D.none()).getOrThunk(()=>{const h=bl(o);return ih(h.left,h.top)});var a,c,d},aI=(o,a)=>({bounds:o.getBounds(),height:tc(a.element),width:Mi(a.element)}),V4=(o,a,c,d,h)=>{const v=c.update(d,h),w=c.getStartData().getOrThunk(()=>aI(a,o));v.each(k=>{((E,O,L,B)=>{const H=O.getTarget(E.element);if(O.repositionTarget){const K=Zs(E.element),Y=Lr(K),se=rf(H),ce=H4(H),ve=((ae,fe,ye,_e,Le,Xe,_t)=>((vt,gt,Bt,sn,vn)=>{const In=vn.bounds,qn=Iv(gt,Bt,sn),So=fc(qn.left,In.x,In.x+In.width-vn.width),Hr=fc(qn.top,In.y,In.y+In.height-vn.height),Jr=ih(So,Hr);return gt.fold(()=>{const mo=Y6(Jr,Bt,sn);return K2(mo.left,mo.top)},te(Jr),()=>{const mo=j2(Jr,Bt,sn);return A0(mo.left,mo.top)})})(0,fe.fold(()=>{const vt=(gt=ye,Bt=Xe.left,sn=Xe.top,gt.fold((In,qn)=>K2(In+Bt,qn+sn),(In,qn)=>ih(In+Bt,qn+sn),(In,qn)=>A0(In+Bt,qn+sn)));var gt,Bt,sn;const vn=j2(vt,_e,Le);return A0(vn.left,vn.top)},vt=>{const gt=Q6(ae,vt,ye,Xe,_e,Le);return gt.extra.each(Bt=>{vt.onSensor(ae,Bt)}),gt.coord}),_e,Le,_t))(E,O.snaps,ce,Y,se,B,L),ie=X6(ve,0,se);Qi(H,ie)}O.onDrag(E,H,B)})(o,a,w,k)})},$4=(o,a,c,d)=>{a.each(UF),c.snaps.each(v=>{((w,k)=>{((E,O)=>{const L=E.element;fo(L,O.leftAttr),fo(L,O.topAttr)})(w,k)})(o,v)});const h=c.getTarget(o.element);d.reset(),c.onDrop(o,h)},U4=o=>(a,c)=>{const d=h=>{c.setStartData(aI(a,h))};return to([xt(ob(),h=>{c.getStartData().each(()=>d(h))}),...o(a,c,d)])};var ZF=Object.freeze({__proto__:null,getData:o=>D.from(Pr(o.x,o.y)),getDelta:(o,a)=>Pr(a.left-o.left,a.top-o.top)});const iI=(o,a,c)=>[xt(Tt(),(d,h)=>{if(h.event.raw.button!==0)return;h.stop();const v=()=>$4(d,D.some(E),o,a),w=xA(v,200),k={drop:v,delayDrop:w.schedule,forceDrop:v,move:O=>{w.cancel(),V4(d,o,a,ZF,O)}},E=sI(d,o.blockerClass,(O=>to([xt(Tt(),O.forceDrop),xt(Yn(),O.drop),xt(Ln(),(L,B)=>{O.move(B.event)}),xt(so(),O.delayDrop)]))(k));c(d),rI(d,E)})],jF=[...z4,Nr("dragger",{handlers:U4(iI)})];var lI=Object.freeze({__proto__:null,getData:o=>{const a=o.raw.touches;return a.length===1?(c=>{const d=c[0];return D.some(Pr(d.clientX,d.clientY))})(a):D.none()},getDelta:(o,a)=>Pr(a.left-o.left,a.top-o.top)});const cI=(o,a,c)=>{const d=ir(),h=v=>{$4(v,d.get(),o,a),d.clear()};return[xt(Z(),(v,w)=>{w.stop();const k=()=>h(v),E={drop:k,delayDrop:me,forceDrop:k,move:L=>{V4(v,o,a,lI,L)}},O=sI(v,o.blockerClass,(L=>to([xt(Z(),L.forceDrop),xt(Oe(),L.drop),xt(ze(),L.drop),xt(ne(),(B,H)=>{L.move(H.event)})]))(E));d.set(O),c(v),rI(v,O)}),xt(ne(),(v,w)=>{w.stop(),V4(v,o,a,lI,w.event)}),xt(Oe(),(v,w)=>{w.stop(),h(v)}),xt(ze(),h)]},KF=jF,uI=[...z4,Nr("dragger",{handlers:U4(cI)})],dI=[...z4,Nr("dragger",{handlers:U4((o,a,c)=>[...iI(o,a,c),...cI(o,a,c)])})];var qF=Object.freeze({__proto__:null,mouse:KF,touch:uI,mouseOrTouch:dI}),GF=Object.freeze({__proto__:null,init:()=>{let o=D.none(),a=D.none();const c=te({});return ma({readState:c,reset:()=>{o=D.none(),a=D.none()},update:(d,h)=>d.getData(h).bind(v=>((w,k)=>{const E=o.map(O=>w.getDelta(O,k));return o=D.some(k),E})(d,v)),getStartData:()=>a,setStartData:d=>{a=D.some(d)}})}});const T0=Ww({branchKey:"mode",branches:qF,name:"dragging",active:{events:(o,a)=>o.dragger.handlers(o,a)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:D.from(o.extra)})},state:GF,apis:oI}),fI=(o,a,c,d,h,v)=>o.fold(()=>T0.snap({sensor:ih(c-20,d-20),range:Pr(h,v),output:ih(D.some(c),D.some(d)),extra:{td:a}}),w=>{const k=c-20,E=d-20,O=w.element.dom.getBoundingClientRect();return T0.snap({sensor:ih(k,E),range:Pr(40,40),output:ih(D.some(c-O.width/2),D.some(d-O.height/2)),extra:{td:a}})}),mI=(o,a,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,h)=>{const v=h.td;((w,k)=>w.exists(E=>Wo(E,k)))(a.get(),v)||(a.set(v),c(v))},mustSnap:!0}),gI=o=>tr(Ti.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ft([T0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),g0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),hI=(o,a)=>{const c=Dn([]),d=Dn([]),h=Dn(!1),v=ir(),w=ir(),k=ie=>{const ae=nl(ie);return fI(B.getOpt(a),ie,ae.x,ae.y,ae.width,ae.height)},E=ie=>{const ae=nl(ie);return fI(H.getOpt(a),ie,ae.right,ae.bottom,ae.width,ae.height)},O=mI(()=>bt(c.get(),ie=>k(ie)),v,ie=>{w.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ie,finish:ae})})}),L=mI(()=>bt(d.get(),ie=>E(ie)),w,ie=>{v.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ae,finish:ie})})}),B=gI(O),H=gI(L),K=Ea(B.asSpec()),Y=Ea(H.asSpec()),se=(ie,ae,fe,ye)=>{const _e=fe(ae);T0.snapTo(ie,_e),((Le,Xe,_t,vt)=>{const gt=Xe.dom.getBoundingClientRect();er(Le.element,"display");const Bt=Ic(Qt(o.getBody())).dom.innerHeight,sn=gt[ye]<0,vn=((In,qn)=>In[ye]>qn)(gt,Bt);(sn||vn)&&Jn(Le.element,"display","none")})(ie,ae)},ce=ie=>se(K,ie,k,"top"),ve=ie=>se(Y,ie,E,"bottom");if(Va().deviceType.isTouch()){const ie=ae=>bt(ae,Qt);o.on("TableSelectionChange",ae=>{h.get()||(vf(a,K),vf(a,Y),h.set(!0));const fe=Qt(ae.start),ye=Qt(ae.finish);v.set(fe),w.set(ye),D.from(ae.otherCells).each(_e=>{c.set(ie(_e.upOrLeftCells)),d.set(ie(_e.downOrRightCells)),ce(fe),ve(ye)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ce),w.get().each(ve)}),o.on("TableSelectionClear",()=>{h.get()&&($i(K),$i(Y),h.set(!1)),v.clear(),w.clear()})}},pI=(o,a,c)=>{var d;const h=(d=a.delimiter)!==null&&d!==void 0?d:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ft([An.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:c.isDisabled}),ha(),Rr.config({}),zn.config({}),uo("elementPathEvents",[Zr((v,w)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>An.focusIn(v)),o.on("NodeChange",k=>{const E=(L=>{const B=[];let H=L.length;for(;H-- >0;){const Y=L[H];if(Y.nodeType===1&&(K=Y).nodeName!=="BR"&&!K.getAttribute("data-mce-bogus")&&K.getAttribute("data-mce-type")!=="bookmark"){const se=HD(o,Y);if(se.isDefaultPrevented()||B.push({name:se.name,element:Y}),se.isPropagationStopped())break}}var K;return B})(k.parents),O=E.length>0?Rn(E,(L,B,H)=>{const K=((Y,se,ce)=>Ti.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ce}},components:[Cs(Y)],action:ve=>{o.focus(),o.selection.select(se),o.nodeChanged()},buttonBehaviours:Ft([Us.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",se.nodeName.toLowerCase()]),onShow:(ve,ie)=>{((ae,fe)=>{const ye=D.from(wo(ae,"id")).getOrThunk(()=>{const _e=fn("aria");return Jt(fe,"id",_e),_e});Jt(ae,"aria-describedby",ye)})(ve.element,ie.element)},onHide:ve=>{var ie;ie=ve.element,fo(ie,"aria-describedby")}})}),fi(c.isDisabled),ha()])}))(B.name,B.element,H);return H===0?L.concat([K]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Cs(` ${h} `)]},K])},[]):[];zn.set(v,O)})})])]),components:[]}};var lh;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(lh||(lh={}));const yS=(o,a,c)=>{const d=Qt(o.getContainer()),h=((v,w,k,E,O)=>{const L={height:U2(E+w.top,ov(v),AC(v))};return k===lh.Both&&(L.width=U2(O+w.left,Fx(v),rv(v))),L})(o,a,c,ms(d),ua(d));Cn(h,(v,w)=>{ee(v)&&Jn(d,w,Sp(v))}),(v=>{v.dispatch("ResizeEditor")})(o)},xS=(o,a,c,d)=>{const h=Pr(20*c,20*d);return yS(o,h,a),D.some(!0)},bI=(o,a)=>{const c=()=>{const d=[],h=bE(o),v=O5(o),w=xc(o)||o.hasPlugin("wordcount");return v&&d.push(pI(o,{},a)),h&&d.push((()=>{const k=o_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Cs(Bu.translate(["Press {0} for help",k]))]}})()),w&&d.push((()=>{const k=[];return o.hasPlugin("wordcount")&&k.push(((E,O)=>{const L=(B,H,K)=>zn.set(B,[Cs(O.translate(["{0} "+K,H[K]]))]);return Ti.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ft([fi(O.isDisabled),ha(),Rr.config({}),zn.config({}),nt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[jc(B=>{const H=nt.getValue(B),K=H.mode==="words"?"characters":"words";nt.setValue(B,{mode:K,count:H.count}),L(B,H.count,K)}),Zr(B=>{E.on("wordCountUpdate",H=>{const{mode:K}=nt.getValue(B);nt.setValue(B,{mode:K,count:H.wordCount}),L(B,H.wordCount,K)})})])]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,a)),xc(o)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Ft([Zn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),d.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(h){const O="tox-statusbar__text-container-3-cols";return w||v?w&&!v?[O,E]:[O,k]:[O,"tox-statusbar__text-container--space-around"]}return[w&&!v?E:k]})()]},components:d}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const d=c(),h=((v,w)=>{const k=(O=>{const L=Xa(O);return L===!1?lh.None:L==="both"?lh.Both:lh.Vertical})(v);if(k===lh.None)return D.none();const E=k===lh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(wc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[T0.config({mode:"mouse",repositionTarget:!1,onDrag:(O,L,B)=>yS(v,B,k),blockerClass:"tox-blocker"}),An.config({mode:"special",onLeft:()=>xS(v,k,-1,0),onRight:()=>xS(v,k,1,0),onUp:()=>xS(v,k,0,-1),onDown:()=>xS(v,k,0,1)}),Rr.config({}),Zn.config({}),Us.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(o,a);return d.concat(h.toArray())})()}},vI=(o,a)=>a.get().getOrDie(`UI for ${o} has not been rendered`),YF=(o,a)=>{const c=o.inline,d=c?DF:m$,h=Gg(o)?OL:TL,v=(()=>{const _e=ir(),Le=ir(),Xe=ir();return{dialogUi:_e,popupUi:Le,mainUi:Xe,getUiMotherships:()=>{const _t=_e.get().map(gt=>gt.mothership),vt=Le.get().map(gt=>gt.mothership);return _t.fold(()=>vt.toArray(),gt=>vt.fold(()=>[gt],Bt=>Wo(gt.element,Bt.element)?[gt]:[gt,Bt]))},lazyGetInOuterOrDie:(_t,vt)=>()=>Xe.get().bind(gt=>vt(gt.outerContainer)).getOrDie(`Could not find ${_t} element in OuterContainer`)}})(),w=ir(),k=ir(),E=ir(),O=Va().deviceType.isTouch()?["tox-platform-touch"]:[],L=vE(o),B=Qb(o),H=tr({dom:{tag:"div",classes:["tox-anchorbar"]}}),K=tr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Y=()=>v.mainUi.get().map(_e=>_e.outerContainer).bind(zr.getHeader),se=v.lazyGetInOuterOrDie("anchor bar",H.getOpt),ce=v.lazyGetInOuterOrDie("bottom anchor bar",K.getOpt),ve=v.lazyGetInOuterOrDie("toolbar",zr.getToolbar),ie=v.lazyGetInOuterOrDie("throbber",zr.getThrobber),ae=((_e,Le,Xe,_t)=>{const vt=Dn(!1),gt=(zo=>{const Fn=Dn(vE(zo)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Le),Bt={icons:()=>Le.ui.registry.getAll().icons,menuItems:()=>Le.ui.registry.getAll().menuItems,translate:Bu.translate,isDisabled:()=>Le.mode.isReadOnly()||!Le.ui.isEnabled(),getOption:Le.options.get,tooltips:H3(_e.dialog)},sn=LN(Le),vn=(zo=>{const Fn=Oa=>()=>zo.formatter.match(Oa),Qr=Oa=>()=>{const ba=zo.formatter.get(Oa);return ba!==void 0?D.some({tag:ba.length>0&&(ba[0].inline||ba[0].block)||"div",styles:zo.dom.parseStyle(zo.formatter.getCssText(Oa))}):D.none()},Cr=Dn([]),Oi=Dn([]),Di=Dn(!1);return zo.on("PreInit",Oa=>{const ba=AN(zo),ch=z3(zo,ba,Fn,Qr);Cr.set(ch)}),zo.on("addStyleModifications",Oa=>{const ba=z3(zo,Oa.items,Fn,Qr);Oi.set(ba),Di.set(Oa.replace)}),{getData:()=>{const Oa=Di.get()?[]:Cr.get(),ba=Oi.get();return Oa.concat(ba)}}})(Le),In=(zo=>({colorPicker:gL(zo),hasCustomColors:hL(zo),getColors:pL(zo),getColorCols:bL(zo)}))(Le),qn=(zo=>({isDraggableModal:SN(zo)}))(Le),So={shared:{providers:Bt,anchors:mL(Le,Xe,_t,gt.isPositionedAtTop),header:gt},urlinput:sn,styles:vn,colorinput:In,dialog:qn,isContextMenuOpen:()=>vt.get(),setContextMenuState:zo=>vt.set(zo)},Hr=zo=>D.none(),Jr={...So,shared:{...So.shared,interpreter:zo=>yN(zo,{},Jr,Hr),getSink:_e.popup}},mo={...So,shared:{...So.shared,interpreter:zo=>yN(zo,{},mo,Hr),getSink:_e.dialog}};return{popup:Jr,dialog:mo}})({popup:()=>_o.fromOption(v.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>_o.fromOption(v.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},o,se,ce),fe=()=>{const _e=(()=>{const So={attributes:{[il]:L?bc.BottomToTop:bc.TopToBottom}},Hr=zr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ae.popup,onEscape:()=>{o.focus()}}),Jr=zr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ae.popup.shared.getSink,providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:ba=>{((ch,Fv)=>{ch.dispatch("ToggleToolbarDrawer",{state:Fv})})(o,ba)},type:B,lazyToolbar:ve,lazyHeader:()=>Y().getOrDie("Could not find header element"),...So}),mo=zr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},type:B}),zo=Ux(o),Fn=$x(o),Qr=Vx(o),Cr=R5(o),Oi=zr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Di=zo||Fn||Qr,Oa=Cr?[Oi,Hr]:[Hr];return zr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Di?[]:["tox-editor-header--empty"]),...So},components:br([Qr?Oa:[],zo?[mo]:Fn?[Jr]:[],e0(o)?[]:[H.asSpec()]]),sticky:Gg(o),editor:o,sharedBackstage:ae.popup.shared})})(),Le={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[zr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),zr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Xe=zr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ae.popup}),_t=zr.parts.viewWrapper({backstage:ae.popup}),vt=T5(o)&&!c?D.some(bI(o,ae.popup.shared.providers)):D.none(),gt=br([L?[]:[_e],c?[]:[Le],L?[_e]:[]]),Bt=zr.parts.editorContainer({components:br([gt,c?[]:[K.asSpec()]])}),sn=FC(o),vn={role:"application",...Bu.isRtl()?{dir:"rtl"}:{},...sn?{"aria-hidden":"true"}:{}},In=Ea(zr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...sn?{opacity:"0",border:"0"}:{}},attributes:vn},components:[Bt,...c?[]:[_t,...vt.toArray()],Xe],behaviours:Ft([ha(),Kn.config({disableClass:"tox-tinymce--disabled"}),An.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qn=h_(In);return w.set(qn),{mothership:qn,outerContainer:In}},ye=_e=>{const Le=Sp((_t=>(gt=>{const Bt=Px(gt),sn=ov(gt),vn=AC(gt);return $2(Bt).map(In=>U2(In,sn,vn))})(_t).getOr(Px(_t)))(o)),Xe=Sp((_t=>k4(_t).getOr(Lx(_t)))(o));return o.inline||(pl("div","width",Xe)&&Jn(_e.element,"width",Xe),pl("div","height",Le)?Jn(_e.element,"height",Le):Jn(_e.element,"height","400px")),Le};return{popups:{backstage:ae.popup,getMothership:()=>vI("popups",E)},dialogs:{backstage:ae.dialog,getMothership:()=>vI("dialogs",k)},renderUI:()=>{const _e=fe(),Le=(()=>{const _t=LC(o),vt=Wo(dn(),_t)&&as(_t,"display")==="grid",gt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...Bu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ya.config({useFixed:()=>h.isDocked(Y)})])},Bt={dom:{styles:{width:document.body.clientWidth+"px"}},events:to([xt(Qd(),In=>{Jn(In.element,"width",document.body.clientWidth+"px")})])},sn=Ea(yr(gt,vt?Bt:{})),vn=h_(sn);return k.set(vn),{sink:sn,mothership:vn}})(),Xe=Yg(o)?(()=>{const _t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...Bu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ya.config({useFixed:()=>h.isDocked(Y),getBounds:()=>a.getPopupSinkBounds()})])},vt=Ea(_t),gt=h_(vt);return E.set(gt),{sink:vt,mothership:gt}})():(_t=>(E.set(_t.mothership),_t))(Le);return v.dialogUi.set(Le),v.popupUi.set(Xe),v.mainUi.set(_e),(_t=>{const{mainUi:vt,popupUi:gt,uiMotherships:Bt}=_t;En(OC(o),(Fn,Qr)=>{o.ui.registry.addGroupToolbarButton(Qr,Fn)});const{buttons:sn,menuItems:vn,contextToolbars:In,sidebars:qn,views:So}=o.ui.registry.getAll(),Hr=PC(o),Jr={menuItems:vn,menus:tp(o),menubar:qg(o),toolbar:Hr.getOrThunk(()=>av(o)),allowToolbarGroups:B===Iu.floating,buttons:sn,sidebar:qn,views:So};var mo;mo=vt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{zr.focusMenubar(mo)}),o.addShortcut("alt+F10","focus toolbar",()=>{zr.focusToolbar(mo)}),o.addCommand("ToggleToolbarDrawer",(Fn,Qr)=>{Qr!=null&&Qr.skipFocus?zr.toggleToolbarDrawerWithoutFocusing(mo):zr.toggleToolbarDrawer(mo)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>zr.isToolbarDrawerToggled(mo)),((Fn,Qr,Cr)=>{const Oi=(Yo,Xm)=>{Zt([Qr,...Cr],Td=>{Td.broadcastEvent(Yo,Xm)})},Di=(Yo,Xm)=>{Zt([Qr,...Cr],Td=>{Td.broadcastOn([Yo],Xm)})},Oa=Yo=>Di(P(),{target:Yo.target}),ba=yi(),ch=Ei(ba,"touchstart",Oa),Fv=Ei(ba,"touchmove",Yo=>Oi(yn(),Yo)),Ep=Ei(ba,"touchend",Yo=>Oi(Wc(),Yo)),uh=Ei(ba,"mousedown",Oa),rw=Ei(ba,"mouseup",Yo=>{Yo.raw.button===0&&Di(W(),{target:Yo.target})}),Ap=Yo=>Di(P(),{target:Qt(Yo.target)}),Gm=Yo=>{Yo.button===0&&Di(W(),{target:Qt(Yo.target)})},D0=()=>{Zt(Fn.editorManager.get(),Yo=>{Fn!==Yo&&Yo.dispatch("DismissPopups",{relatedTarget:Fn})})},R0=Yo=>Oi(ob(),gd(Yo)),zv=Yo=>{Di(V(),{}),Oi(Qd(),gd(Yo))},OS=ot(Qt(Fn.getElement())),sw=ax(OS,"scroll",Yo=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const Xm=np(Fn,Qr.element).map(Td=>[Td.element,...Td.others]).getOr([]);On(Xm,Td=>Wo(Td,Yo.target))&&(Fn.dispatch("ElementScroll",{target:Yo.target.dom}),Oi(Dh(),Yo))}})}),Tp=()=>Di(V(),{}),Ym=Yo=>{Yo.state&&Di(P(),{target:Qt(Fn.getContainer())})},dh=Yo=>{Di(P(),{target:Qt(Yo.relatedTarget.getContainer())})},aw=Yo=>Fn.dispatch("focusin",Yo),iw=Yo=>Fn.dispatch("focusout",Yo);Fn.on("PostRender",()=>{Fn.on("click",Ap),Fn.on("tap",Ap),Fn.on("mouseup",Gm),Fn.on("mousedown",D0),Fn.on("ScrollWindow",R0),Fn.on("ResizeWindow",zv),Fn.on("ResizeEditor",Tp),Fn.on("AfterProgressState",Ym),Fn.on("DismissPopups",dh),Zt([Qr,...Cr],Yo=>{Yo.element.dom.addEventListener("focusin",aw),Yo.element.dom.addEventListener("focusout",iw)})}),Fn.on("remove",()=>{Fn.off("click",Ap),Fn.off("tap",Ap),Fn.off("mouseup",Gm),Fn.off("mousedown",D0),Fn.off("ScrollWindow",R0),Fn.off("ResizeWindow",zv),Fn.off("ResizeEditor",Tp),Fn.off("AfterProgressState",Ym),Fn.off("DismissPopups",dh),Zt([Qr,...Cr],Yo=>{Yo.element.dom.removeEventListener("focusin",aw),Yo.element.dom.removeEventListener("focusout",iw)}),uh.unbind(),ch.unbind(),Fv.unbind(),Ep.unbind(),rw.unbind(),sw.unbind()}),Fn.on("detach",()=>{Zt([Qr,...Cr],Tk),Zt([Qr,...Cr],Yo=>Yo.destroy())})})(o,vt.mothership,Bt),h.setup(o,ae.popup.shared,Y),LF(o,ae.popup),$F(o,ae.popup.shared.getSink,ae.popup),(Fn=>{const{sidebars:Qr}=Fn.ui.registry.getAll();Zt(on(Qr),Cr=>{const Oi=Qr[Cr],Di=()=>Wr(D.from(Fn.queryCommandValue("ToggleSidebar")),Cr);Fn.ui.registry.addToggleButton(Cr,{icon:Oi.icon,tooltip:Oi.tooltip,onAction:Oa=>{Fn.execCommand("ToggleSidebar",!1,Cr),Oa.setActive(Di())},onSetup:Oa=>{Oa.setActive(Di());const ba=()=>Oa.setActive(Di());return Fn.on("ToggleSidebar",ba),()=>{Fn.off("ToggleSidebar",ba)}}})})})(o),KN(o,ie,ae.popup.shared),IF(o,In,gt.sink,{backstage:ae.popup}),hI(o,gt.sink);const zo={targetNode:o.getElement(),height:ye(vt.outerContainer)};return d.render(o,_t,Jr,ae.popup,zo)})({popupUi:Xe,dialogUi:Le,mainUi:_e,uiMotherships:v.getUiMotherships()})}}},XF=te([At("lazySink"),Io("dragBlockClass"),Fr("getBounds",Ca),et("useTabstopAt",Ne),et("firstTabstop",0),et("eventOrder",{}),mn("modalBehaviours",[An]),rl("onExecute"),ci("onEscape")]),W4={sketch:Ae},Z4=te([Qc({name:"draghandle",overrides:(o,a)=>({behaviours:Ft([T0.config({mode:"mouse",getTarget:c=>vm(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:o.getDragBounds})])})}),ll({schema:[At("dom")],name:"title"}),ll({factory:W4,schema:[At("dom")],name:"close"}),ll({factory:W4,schema:[At("dom")],name:"body"}),Qc({factory:W4,schema:[At("dom")],name:"footer"}),vd({factory:{sketch:(o,a)=>({...o,dom:a.dom,components:a.components})},schema:[et("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),et("components",[])],name:"blocker"})]),ys=xl({name:"ModalDialog",configFields:XF(),partFields:Z4(),factory:(o,a,c,d)=>{const h=ir(),v=fn("modal-events"),w={...o.eventOrder,[ja()]:[v].concat(o.eventOrder["alloy.system.attached"]||[])},k=Va();return{uid:o.uid,dom:o.dom,components:a,apis:{show:E=>{h.set(E);const O=o.lazySink(E).getOrDie(),L=d.blocker(),B=O.getSystem().build({...L,components:L.components.concat([Hi(E)]),behaviours:Ft([Zn.config({}),uo("dialog-blocker-events",[of(Jo(),()=>{Wu.isBlocked(E)||An.focusIn(E)})])])});vf(O,B),An.focusIn(E)},hide:E=>{h.clear(),si(E.element).each(O=>{E.getSystem().getByDom(O).each(L=>{$i(L)})})},getBody:E=>jg(E,o,"body"),getFooter:E=>Br(E,o,"footer"),setIdle:E=>{Wu.unblock(E)},setBusy:(E,O)=>{Wu.block(E,O)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:co(o.modalBehaviours,[zn.config({}),An.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Wu.config({getRoot:h.get}),uo(v,[Zr(E=>{const O=jg(E,o,"title").element,L=(B=>B.dom.textContent)(O);k.os.isMacOS()&&$(L)?Jt(E.element,"aria-label",L):((B,H)=>{const K=No(B,"id").fold(()=>{const Y=fn("dialog-label");return Jt(H,"id",Y),Y},Ae);Jt(B,"aria-labelledby",K)})(E.element,O)})])])}},apis:{show:(o,a)=>{o.show(a)},hide:(o,a)=>{o.hide(a)},getBody:(o,a)=>o.getBody(a),getFooter:(o,a)=>o.getFooter(a),setBusy:(o,a,c)=>{o.setBusy(a,c)},setIdle:(o,a)=>{o.setIdle(a)}}}),JF=Pn([ea,BE].concat(a0)),q2=Pl,j4=[VE("button"),Pu,sc("align","end",["start","end"]),XC,Lu,xg("buttonType",["primary","secondary"])],wS=[...j4,Mu],K4=[Su("type",["submit","cancel","custom"]),...wS],QF=[Su("type",["menu"]),lp,i2,Pu,Fi("items",JF),...j4],ez=[...j4,Su("type",["togglebutton"]),i2,Pu,lp,Hs("active",!1)],yI=Xs("type",{submit:K4,cancel:K4,custom:K4,menu:QF,togglebutton:ez}),tz=[ea,Mu,Su("level",["info","warn","error","success"]),LE,et("url","")],q4=Pn(tz),G4=[ea,Mu,Lu,VE("button"),Pu,f$,xg("buttonType",["primary","secondary","toolbar"]),XC],Y4=Pn(G4),Bv=[ea,BE],Ta=Bv.concat([FE]),nz=Bv.concat([ME,Lu]),oz=Pn(nz),xI=Pl,wI=Ta.concat([mD("auto")]),rz=Pn(wI),sz=wu([r0,Mu,LE]),az=Ta.concat([Al("storageKey","default")]),iz=Pn(az),lz=ra,cz=Pn(Ta),uz=ra,CI=Bv.concat([Al("tag","textarea"),ls("scriptId"),ls("scriptUrl"),$c("onFocus"),_i("settings",void 0,a1)]),dz=Bv.concat([Al("tag","textarea"),Ci("init")]),fz=Gd(o=>is("customeditor.old",oa(dz),o).orThunk(()=>is("customeditor.new",oa(CI),o))),mz=ra,_I=Pn(Ta),X4=xu(yu),SI=o=>[ea,Th("columns"),o],kI=[ea,ls("html"),sc("presets","presentation",["presentation","document"]),Fr("onInit",me),Hs("stretched",!1)],EI=Pn(kI),AI=Ta.concat([Hs("border",!1),Hs("sandboxed",!0),Hs("streamContent",!1),Hs("transparent",!0)]),J4=Pn(AI),gz=ra,Q4=Pn(Bv.concat([ws("height")])),Mv=Pn([ls("url"),Yd("zoom"),Yd("cachedWidth"),Yd("cachedHeight")]),TI=Ta.concat([ws("inputMode"),ws("placeholder"),Hs("maximized",!1),Lu]),OI=Pn(TI),DI=ra,hz=o=>[ea,ME,o,sc("align","start",["start","center","end"]),ws("for")],pz=[Mu,r0],CS=[Mu,Fi("items",Ah(0,()=>RI))],RI=rm([Pn(pz),Pn(CS)]),bz=Ta.concat([Fi("items",RI),Lu]),NI=Pn(bz),II=ra,eT=Ta.concat([am("items",[Mu,r0]),Ds("size",1),Lu]),BI=Pn(eT),Nl=ra,MI=Ta.concat([Hs("constrain",!0),Lu]),vz=Pn(MI),PI=Pn([ls("width"),ls("height")]),LI=Bv.concat([ME,Ds("min",0),Ds("max",0)]),yz=Pn(LI),xz=sd,wz=[ea,Fi("header",ra),Fi("cells",xu(ra))],FI=Pn(wz),qm=Ta.concat([ws("placeholder"),Hs("maximized",!1),Lu]),tT=Pn(qm),zI=ra,G2=[Su("type",["directory","leaf"]),PE,ls("id"),Os("menu",UN)],_S=Pn(G2),Cz=G2.concat([Fi("children",Ah(0,()=>_u("type",{directory:HI,leaf:_S})))]),HI=Pn(Cz),_z=_u("type",{directory:HI,leaf:_S}),Sz=[ea,Fi("items",_z),$c("onLeafAction"),$c("onToggleExpand"),fr("defaultExpandedIds",[],ra),ws("defaultSelectedId")],kz=Pn(Sz),Ez=Ta.concat([sc("filetype","file",["image","media","file"]),Lu,ws("picker_text")]),Az=Pn(Ez),VI=Pn([r0,Cc]),nT=o=>Ks("items","items",{tag:"required",process:{}},xu(Gd(a=>is(`Checking item of ${o}`,Ad,a).fold(c=>_o.error(Li(c)),c=>_o.value(c))))),Ad=om(()=>{return _u("type",{alertbanner:q4,bar:Pn((o=nT("bar"),[ea,o])),button:Y4,checkbox:oz,colorinput:iz,colorpicker:cz,dropzone:_I,grid:Pn(SI(nT("grid"))),iframe:J4,input:OI,listbox:NI,selectbox:BI,sizeinput:vz,slider:yz,textarea:tT,urlinput:Az,customeditor:fz,htmlpanel:EI,imagepreview:Q4,collection:rz,label:Pn(hz(nT("label"))),table:FI,tree:kz,panel:$I});var o}),SS=[ea,et("classes",[]),Fi("items",Ad)],$I=Pn(SS),Tz=[VE("tab"),PE,Fi("items",Ad)],UI=[ea,am("tabs",Tz)],WI=Pn(UI),oT=wS,kS=yI,Y2=Pn([ls("title"),Sa("body",_u("type",{panel:$I,tabpanel:WI})),Al("size","normal"),fr("buttons",[],kS),et("initialData",{}),Fr("onAction",me),Fr("onChange",me),Fr("onSubmit",me),Fr("onClose",me),Fr("onCancel",me),Fr("onTabChange",me)]),X2=Pn([Su("type",["cancel","custom"]),...oT]),ZI=Pn([ls("title"),ls("url"),Yd("height"),Yd("width"),i1("buttons",X2),Fr("onAction",me),Fr("onCancel",me),Fr("onClose",me),Fr("onMessage",me)]),ES=o=>x(o)?[o].concat(Ko(bi(o),ES)):M(o)?Ko(o,ES):[],jI=o=>p(o.type)&&p(o.name),KI={checkbox:xI,colorinput:lz,colorpicker:uz,dropzone:X4,input:DI,iframe:gz,imagepreview:Mv,selectbox:Nl,sizeinput:PI,slider:xz,listbox:II,size:PI,textarea:zI,urlinput:VI,customeditor:mz,collection:sz,togglemenuitem:q2},Oz=o=>{const a=(d=>ho(ES(d),jI))(o),c=Ko(a,d=>(h=>D.from(KI[h.type]))(d).fold(()=>[],h=>[Sa(d.name,h)]));return Pn(c)},qI=o=>{var a;return{internalDialog:wi(is("dialog",Y2,o)),dataValidator:Oz(o),initialData:(a=o.initialData)!==null&&a!==void 0?a:{}}},O0={open:(o,a)=>{const c=qI(a);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,a)=>o(wi(is("dialog",ZI,a))),redial:o=>qI(o)};var Dz=Object.freeze({__proto__:null,events:(o,a)=>{const c=(d,h)=>{o.updateState.each(v=>{const w=v(d,h);a.set(w)}),o.renderComponents.each(v=>{const w=v(h,a.get());(o.reuseDom?sE:Gb)(d,w)})};return to([xt(Ll(),(d,h)=>{const v=h;if(!v.universal){const w=o.channel;Qe(v.channels,w)&&c(d,v.data)}}),Zr((d,h)=>{o.initialData.each(v=>{c(d,v)})})])}}),Rz=Object.freeze({__proto__:null,getState:(o,a,c)=>c}),GI=[At("channel"),Io("renderComponents"),Io("updateState"),Io("initialData"),Hs("reuseDom",!0)];const Kl=ga({fields:GI,name:"reflecting",active:Dz,apis:Rz,state:Object.freeze({__proto__:null,init:()=>{const o=Dn(D.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(D.none())}}})}),YI=o=>{const a=[],c={};return Cn(o,(d,h)=>{d.fold(()=>{a.push(h)},v=>{c[h]=v})}),a.length>0?_o.error(a):_o.value(c)},XI=(o,a,c,d)=>{const h=tr(pp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:bt(o.items,k=>J_(w,k,a,c,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[h.asSpec()]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:Ve(Cv)}),(v=h,Vo.config({find:v.getOpt})),YA(h,{postprocess:w=>YI(w).fold(k=>(console.error(k),{}),Ae)}),uo("dialog-body-panel",[xt(Jo(),(w,k)=>{w.getSystem().broadcastOn([V_],{newFocus:D.some(k.event.target)})})])])};var v},Nz=eu({name:"TabButton",configFields:[et("uid",void 0),At("value"),Ks("dom","dom",Lo(()=>({attributes:{role:"tab",id:fn("aria"),"aria-selected":"false"}})),yl()),Io("action"),et("domModification",{}),mn("tabButtonBehaviours",[Zn,An,nt]),At("view")],factory:(o,a)=>({uid:o.uid,dom:o.dom,components:o.components,events:tv(o.action),behaviours:co(o.tabButtonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0}),nt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),JI=te([At("tabs"),At("dom"),et("clickToDismiss",!1),mn("tabbarBehaviours",[or,An]),Dg(["tabClass","selectedClass"])]),J2=dC({factory:Nz,name:"tabs",unit:"tab",overrides:o=>{const a=(d,h)=>{or.dehighlight(d,h),Sn(d,Mt(),{tabbar:d,button:h})},c=(d,h)=>{or.highlight(d,h),Sn(d,Rh(),{tabbar:d,button:h})};return{action:d=>{const h=d.getSystem().getByUid(o.uid).getOrDie(),v=or.isHighlighted(h,d);(v&&o.clickToDismiss?a:v?me:c)(h,d)},domModification:{classes:[o.markers.tabClass]}}}}),Iz=te([J2]),rT=xl({name:"Tabbar",configFields:JI(),partFields:Iz(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:co(o.tabbarBehaviours,[or.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(h,v)=>{Jt(v.element,"aria-selected","true")},onDehighlight:(h,v)=>{Jt(v.element,"aria-selected","false")}}),An.config({mode:"flow",getInitial:h=>or.getHighlighted(h).map(v=>v.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Bz=eu({name:"Tabview",configFields:[mn("tabviewBehaviours",[zn])],factory:(o,a)=>({uid:o.uid,dom:o.dom,behaviours:co(o.tabviewBehaviours,[zn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),Mz=te([et("selectFirst",!0),Fo("onChangeTab"),Fo("onDismissTab"),et("tabs",[]),mn("tabSectionBehaviours",[])]),Pz=ll({factory:rT,schema:[At("dom"),rc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Lz=ll({factory:Bz,name:"tabview"}),QI=te([Pz,Lz]),Pv=xl({name:"TabSection",configFields:Mz(),partFields:QI(),factory:(o,a,c,d)=>{const h=(v,w)=>{Br(v,o,"tabbar").each(k=>{w(k).each(nf)})};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.tabSectionBehaviours),events:to(br([o.selectFirst?[Zr((v,w)=>{h(v,or.getFirst)})]:[],[xt(Rh(),(v,w)=>{(k=>{const E=nt.getValue(k);Br(k,o,"tabview").each(O=>{J(o.tabs,L=>L.value===E).each(L=>{const B=L.view();No(k.element,"id").each(H=>{Jt(O.element,"aria-labelledby",H)}),zn.set(O,B),o.onChangeTab(O,k,B)})})})(w.event.button)}),xt(Mt(),(v,w)=>{const k=w.event.button;o.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Br(v,o,"tabview").map(w=>zn.contents(w)).getOr([]),showTab:(v,w)=>{h(v,k=>{const E=or.getCandidates(k);return J(E,O=>nt.getValue(O)===w).filter(O=>!or.isHighlighted(k,O))})}}}},apis:{getViewItems:(o,a)=>o.getViewItems(a),showTab:(o,a,c)=>{o.showTab(a,c)}}}),sT=(o,a)=>{Jn(o,"height",a+"px"),Jn(o,"flex-basis",a+"px")},Lv=(o,a,c)=>{vm(o,'[role="dialog"]').each(d=>{Xr(d,'[role="tablist"]').each(h=>{c.get().map(v=>(Jn(a,"height","0"),Jn(a,"flex-basis","0"),Math.min(v,((w,k,E)=>{const O=Ii(w).dom,L=vm(w,".tox-dialog-wrap").getOr(w);let B;B=as(L,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=ms(k),K=k.dom.offsetLeft>=E.dom.offsetLeft+ua(E)?Math.max(ms(E),H):H,Y=parseInt(as(w,"margin-top"),10)||0,se=parseInt(as(w,"margin-bottom"),10)||0;return B-(ms(w)+Y+se-K)})(d,a,h)))).each(v=>{sT(a,v)})})})},Df=o=>Xr(o,'[role="tabpanel"]'),AS="send-data-to-section",aT="send-data-to-view",eB=(o,a,c,d)=>{const h=Dn({}),v=L=>{const B=nt.getValue(L),H=YI(B).getOr({}),K=h.get(),Y=yr(K,H);h.set(Y)},w=L=>{const B=h.get();nt.setValue(L,B)},k=Dn(null),E=bt(o.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Cs(c.shared.providers.translate(L.title))],view:()=>[pp.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:bt(L.items,H=>J_(B,H,a,c,d)),formBehaviours:Ft([An.config({mode:"acyclic",useTabstopAt:Ve(Cv)}),uo("TabView.form.events",[Zr(w),Au(v)]),al.config({channels:ad([{key:AS,value:{onReceive:v}},{key:aT,value:{onReceive:w}}])})])}))]})),O=(L=>{const B=ir();return{extraEvents:[Zr(K=>{const Y=K.element;Df(Y).each(se=>{Jn(se,"visibility","hidden"),K.getSystem().getByDom(se).toOptional().each(ce=>{const ve=((ae,fe,ye)=>bt(ae,(_e,Le)=>{zn.set(ye,ae[Le].view());const Xe=fe.dom.getBoundingClientRect();return zn.set(ye,[]),Xe.height}))(L,se,ce);(ae=>$t(ge(ae,(fe,ye)=>fe>ye?-1:fe<ye?1:0)))(ve).fold(B.clear,B.set)}),Lv(Y,se,B),er(se,"visibility"),((ce,ve)=>{$t(ce).each(ie=>Pv.showTab(ve,ie.value))})(L,K),requestAnimationFrame(()=>{Lv(Y,se,B)})})}),xt(Qd(),K=>{const Y=K.element;Df(Y).each(se=>{Lv(Y,se,B)})}),xt(b_,(K,Y)=>{const se=K.element;Df(se).each(ce=>{const ve=Gc(ot(ce));Jn(ce,"visibility","hidden");const ie=As(ce,"height").map(fe=>parseInt(fe,10));er(ce,"height"),er(ce,"flex-basis");const ae=ce.dom.getBoundingClientRect().height;ie.forall(fe=>ae>fe)?(B.set(ae),Lv(se,ce,B)):ie.each(fe=>{sT(ce,fe)}),er(ce,"visibility"),ve.each(ki)})})],selectFirst:!1}})(E);return Pv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,B,H)=>{const K=nt.getValue(B);Sn(L,mR,{name:K,oldName:k.get()}),k.set(K)},tabs:E,components:[Pv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[rT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ft([Rr.config({})])}),Pv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Ft([uo("tabpanel",O.extraEvents),An.config({mode:"acyclic"}),Vo.config({find:L=>$t(Pv.getViewItems(L))}),b0(D.none(),L=>(L.getSystem().broadcastOn([AS],{}),h.get()),(L,B)=>{h.set(B),L.getSystem().broadcastOn([aT],{})})])})},TS=(o,a,c,d,h,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(w=>({id:w})).getOr({}),...h?{"aria-live":"polite"}:{}}},components:[],behaviours:Ft([qA(0),Kl.config({channel:`${UR}-${a}`,updateState:(w,k)=>D.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[eB(k,w.initialData,d,v)]:[XI(k,w.initialData,d,v)]},initialData:o})])}),tB=_f.deviceType.isTouch(),Q2=(o,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,a]}),iT=(o,a)=>ys.parts.close(Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:o,buttonBehaviours:Ft([Rr.config({})])})),lT=()=>ys.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),nB=(o,a)=>ys.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Im(`<p>${Z5(a.translate(o))}</p>`)}]}]}),oB=o=>ys.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),rB=(o,a)=>[Cd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Cd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],cT=o=>{const a="tox-dialog",c=a+"-wrap",d=c+"__backdrop",h=a+"__disable-scroll";return ys.sketch({lazySink:o.lazySink,onEscape:v=>(o.onEscape(v),D.some(!0)),useTabstopAt:v=>!Cv(v),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[a].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Im(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:tB?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Ft([Zn.config({}),uo("dialog-events",o.dialogEvents.concat([of(Jo(),(v,w)=>{Wu.isBlocked(v)||An.focusIn(v)}),xt(c1(),(v,w)=>{v.getSystem().broadcastOn([V_],{newFocus:w.event.newFocus})})])),uo("scroll-lock",[Zr(()=>{us(dn(),h)}),Au(()=>{ps(dn(),h)})]),...o.extraBehaviours]),eventOrder:{[ol()]:["dialog-events"],[ja()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ic()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},sB=o=>Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ft([Rr.config({}),Us.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[wc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:a=>{go(a,th)}}),uT=(o,a,c,d)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(h=>({id:h})).getOr({})}},components:[],behaviours:Ft([Kl.config({channel:`${r3}-${a}`,initialData:o,renderComponents:h=>[Cs(d.translate(h.title))]})])}),dT=()=>({dom:Im('<div class="tox-dialog__draghandle"></div>')}),aB=(o,a,c)=>((d,h,v)=>{const w=ys.parts.title(uT(d,h,D.none(),v)),k=ys.parts.draghandle(dT()),E=ys.parts.close(sB(v)),O=[w].concat(d.draggable?[k]:[]).concat([E]);return Cd.sketch({dom:Im('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},a,c.shared.providers),iB=(o,a,c,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:Im('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),lB=(o,a,c)=>({onClose:()=>c.closeWindow(),onBlock:d=>{const h=Xr(o().element,".tox-dialog__header").map(v=>ms(v));ys.setBusy(o(),(v,w)=>iB(d.message,w,a,h))},onUnblock:()=>{ys.setIdle(o())}}),ew="tox-dialog--fullscreen",fT="tox-dialog--width-lg",mT="tox-dialog--width-md",tw=o=>{switch(o){case"large":return D.some(fT);case"medium":return D.some(mT);default:return D.none()}},gT=(o,a)=>{const c=Qt(a.element.dom);zi(c,ew)||(zl(c,[fT,mT]),tw(o).each(d=>us(c,d)))},cB=(o,a)=>{const c=Qt(o.element.dom),d=cd(c),h=J(d,v=>v===fT||v===mT).or(tw(a));((v,w)=>{Zt(w,k=>{((E,O)=>{kg(E)?E.dom.classList.toggle(O):((L,B)=>Qe(sb(L),B)?Ry(L,B):f1(L,B))(E,O),ab(E)})(v,k)})})(c,[ew,...h.toArray()])},uB=(o,a,c)=>Ea(cT({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[E2({}),...o.extraBehaviours],onEscape:d=>{go(d,th)},dialogEvents:a,eventOrder:{[Ll()]:[Kl.name(),al.name()],[ja()]:["scroll-lock",Kl.name(),"messages","dialog-events","alloy.base.behaviour"],[ic()]:["alloy.base.behaviour","dialog-events","messages",Kl.name(),"scroll-lock"]}})),nw=(o,a={})=>bt(o,c=>c.type==="menu"?(d=>{const h=bt(d.items,v=>{const w=cn(a,v.name).getOr(Dn(!1));return{...v,storage:w}});return{...d,items:h}})(c):c),dB=o=>Rn(o,(a,c)=>c.type==="menu"?Rn(c.items,(d,h)=>(d[h.name]=h.storage,d),a):a,{}),hT=(o,a)=>[Sg(Jo(),K7),o(mp,(c,d,h,v)=>{Gc(ot(v.element)).fold(me,Cb),a.onClose(),d.onClose()}),o(th,(c,d,h,v)=>{d.onCancel(c),go(v,mp)}),xt(SA,(c,d)=>a.onUnblock()),xt(_A,(c,d)=>a.onBlock(d.event))],fB=(o,a,c)=>{const d=(v,w)=>xt(v,(k,E)=>{h(k,(O,L)=>{w(o(),O,E.event,k)})}),h=(v,w)=>{Kl.getState(v).get().each(k=>{w(k.internalDialog,v)})};return[...hT(d,a),d(w2,(v,w)=>w.onSubmit(v)),d(Zi,(v,w,k)=>{w.onChange(v,{name:k.name})}),d(Tf,(v,w,k,E)=>{const O=()=>E.getSystem().isConnected()?An.focusIn(E):void 0,L=K=>fs(K,"disabled")||No(K,"aria-disabled").exists(Y=>Y==="true"),B=ot(E.element),H=Gc(B);w.onAction(v,{name:k.name,value:k.value}),Gc(B).fold(O,K=>{L(K)||H.exists(Y=>xs(K,Y)&&L(Y))?O():c().toOptional().filter(Y=>!xs(Y.element,K)).each(O)})}),d(mR,(v,w,k)=>{w.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Au(v=>{const w=o();nt.setValue(v,w.getData())})]},Fz=(o,a)=>{const c=a.map(v=>v.footerButtons).getOr([]),d=Ur(c,v=>v.align==="start"),h=(v,w)=>Cd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:bt(w,k=>k.memento.asSpec())});return[h("start",d.pass),h("end",d.fail)]},mB=(o,a,c)=>({dom:Im('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ft([Kl.config({channel:`${WR}-${a}`,initialData:o,updateState:(d,h)=>{const v=bt(h.buttons,w=>{const k=tr(((E,O)=>kv(E,E.type,O))(w,c));return{name:w.name,align:w.align,memento:k}});return D.some({lookupByName:w=>((k,E,O)=>J(E,L=>L.name===O).bind(L=>L.memento.getOpt(k)))(d,v,w),footerButtons:v})},renderComponents:Fz})])}),pT=(o,a,c)=>ys.parts.footer(mB(o,a,c)),ow=(o,a)=>{if(o.getRoot().getSystem().isConnected()){const c=Vo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return pp.getField(c,a).orThunk(()=>o.getFooter().bind(h=>Kl.getState(h).get()).bind(h=>h.lookupByName(a)))}return D.none()},gB=(o,a,c)=>{const d=v=>{const w=o.getRoot();w.getSystem().isConnected()&&v(w)},h={getData:()=>{const v=o.getRoot(),w=v.getSystem().isConnected()?o.getFormWrapper():v;return{...nt.getValue(w),...En(c,k=>k.get())}},setData:v=>{d(w=>{const k=h.getData(),E=yr(k,v),O=((B,H)=>{const K=B.getRoot();return Kl.getState(K).get().map(Y=>wi(is("data",Y.dataValidator,H))).getOr(H)})(o,E),L=o.getFormWrapper();nt.setValue(L,O),Cn(c,(B,H)=>{po(E,H)&&B.set(E[H])})})},setEnabled:(v,w)=>{ow(o,v).each(w?Kn.enable:Kn.disable)},focus:v=>{ow(o,v).each(Zn.focus)},block:v=>{if(!p(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(w=>{Sn(w,_A,{message:v})})},unblock:()=>{d(v=>{go(v,SA)})},showTab:v=>{d(w=>{const k=o.getBody();Kl.getState(k).get().exists(E=>E.isTabPanel())&&Vo.getCurrent(k).each(E=>{Pv.showTab(E,v)})})},redial:v=>{d(w=>{const k=o.getId(),E=a(v),O=nw(E.internalDialog.buttons,c);w.getSystem().broadcastOn([`${bp}-${k}`],E),w.getSystem().broadcastOn([`${r3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${UR}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${WR}-${k}`],{...E.internalDialog,buttons:O}),h.setData(E.initialData)})},close:()=>{d(v=>{go(v,mp)})},toggleFullscreen:o.toggleFullscreen};return h},hB=(o,a,c,d=!1,h)=>{const v=fn("dialog"),w=fn("dialog-label"),k=fn("dialog-content"),E=o.internalDialog,O=Dn(E.size),L=tw(O.get()).toArray(),B=tr(((ye,_e,Le,Xe)=>Cd.sketch({dom:Im('<div class="tox-dialog__header"></div>'),components:[uT(ye,_e,D.some(Le),Xe),dT(),sB(Xe)],containerBehaviours:Ft([T0.config({mode:"mouse",blockerClass:"blocker",getTarget:_t=>Ou(_t,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,w,c.shared.providers)),H=tr(((ye,_e,Le,Xe,_t,vt)=>TS(ye,_e,D.some(Le),Xe,_t,vt))({body:E.body,initialData:E.initialData},v,k,c,d,ye=>ow(ae,ye))),K=nw(E.buttons),Y=dB(K),se=Uo(K.length!==0,tr(((ye,_e,Le)=>mB(ye,_e,Le))({buttons:K},v,c))),ce=fB(()=>fe,{onBlock:ye=>{Wu.block(ie,(_e,Le)=>{const Xe=B.getOpt(ie).map(_t=>ms(_t.element));return iB(ye.message,Le,c.shared.providers,Xe)})},onUnblock:()=>{Wu.unblock(ie)},onClose:()=>a.closeWindow()},c.shared.getSink),ve=Va().os,ie=Ea({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",...ve.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[Ll()]:[Kl.name(),al.name()],[ol()]:["execute-on-form"],[ja()]:["reflecting","execute-on-form"]},behaviours:Ft([An.config({mode:"cyclic",onEscape:ye=>(go(ye,mp),D.some(!0)),useTabstopAt:ye=>!Cv(ye)&&(Ni(ye)!=="button"||wo(ye,"disabled")!=="disabled"),firstTabstop:1}),Kl.config({channel:`${bp}-${v}`,updateState:(ye,_e)=>(O.set(_e.internalDialog.size),gT(_e.internalDialog.size,ye),h(),D.some(_e)),initialData:o}),Zn.config({}),uo("execute-on-form",ce.concat([of(Jo(),(ye,_e)=>{An.focusIn(ye)}),xt(c1(),(ye,_e)=>{ye.getSystem().broadcastOn([V_],{newFocus:_e.event.newFocus})})])),Wu.config({getRoot:()=>D.some(ie)}),zn.config({}),E2({})]),components:[B.asSpec(),H.asSpec(),...se.map(ye=>ye.asSpec()).toArray()]}),ae={getId:te(v),getRoot:te(ie),getFooter:()=>se.map(ye=>ye.get(ie)),getBody:()=>H.get(ie),getFormWrapper:()=>{const ye=H.get(ie);return Vo.getCurrent(ye).getOr(ye)},toggleFullscreen:()=>{cB(ie,O.get())}},fe=gB(ae,a.redial,Y);return{dialog:ie,instanceApi:fe}};var bT=tinymce.util.Tools.resolve("tinymce.util.URI");const zz=["insertContent","setContent","execCommand","close","block","unblock"],vT=o=>x(o)&&zz.indexOf(o.mceAction)!==-1,Hz=(o,a,c,d)=>{const h=fn("dialog"),v=aB(o.title,h,d),w=(ve=>{const ie={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[n3(D.none(),{dom:{tag:"iframe",attributes:{src:ve.url}},behaviours:Ft([Rr.config({}),Zn.config({})])})]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:Ve(Cv)})])};return ys.parts.body(ie)})(o),k=o.buttons.bind(ve=>ve.length===0?D.none():D.some(pT({buttons:ve},h,d))),E=((ve,ie)=>{const ae=(ye,_e)=>xt(ye,(Le,Xe)=>{fe(Le,(_t,vt)=>{_e(ce,_t,Xe.event,Le)})}),fe=(ye,_e)=>{Kl.getState(ye).get().each(Le=>{_e(Le,ye)})};return[...hT(ae,ie),ae(Tf,(ye,_e,Le)=>{_e.onAction(ye,{name:Le.name})})]})(0,lB(()=>se,d.shared.providers,a)),O={...o.height.fold(()=>({}),ve=>({height:ve+"px","max-height":ve+"px"})),...o.width.fold(()=>({}),ve=>({width:ve+"px","max-width":ve+"px"}))},L=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],B=new bT(o.url,{base_uri:new bT(window.location.href)}),H=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,K=oc(),Y=[Kl.config({channel:`${bp}-${h}`,updateState:(ve,ie)=>D.some(ie),initialData:o}),uo("messages",[Zr(()=>{const ve=Ei(Qt(window),"message",ie=>{if(B.isSameOrigin(new bT(ie.raw.origin))){const ae=ie.raw.data;vT(ae)?((fe,ye,_e)=>{switch(_e.mceAction){case"insertContent":fe.insertContent(_e.content);break;case"setContent":fe.setContent(_e.content);break;case"execCommand":const Le=!!R(_e.ui)&&_e.ui;fe.execCommand(_e.cmd,Le,_e.value);break;case"close":ye.close();break;case"block":ye.block(_e.message);break;case"unblock":ye.unblock()}})(c,ce,ae):(fe=>!vT(fe)&&x(fe)&&po(fe,"mceAction"))(ae)&&o.onMessage(ce,ae)}});K.set(ve)}),Au(K.clear)]),al.config({channels:{[s3]:{onReceive:(ve,ie)=>{Xr(ve.element,"iframe").each(ae=>{const fe=ae.dom.contentWindow;$(fe)&&fe.postMessage(ie,H)})}}}})],se=uB({id:h,header:v,body:w,footer:k,extraClasses:L,extraBehaviours:Y,extraStyles:O},E,d),ce=(ve=>{const ie=ae=>{ve.getSystem().isConnected()&&ae(ve)};return{block:ae=>{if(!p(ae))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ie(fe=>{Sn(fe,_A,{message:ae})})},unblock:()=>{ie(ae=>{go(ae,SA)})},close:()=>{ie(ae=>{go(ae,mp)})},sendMessage:ae=>{ie(fe=>{fe.getSystem().broadcastOn([s3],ae)})}}})(se);return{dialog:se,instanceApi:ce}},yT=(o,a)=>wi(is("data",a,o)),pB=o=>yv(o,".tox-alert-dialog")||yv(o,".tox-confirm-dialog"),Vz=(o,a,c)=>a&&c?[]:[Yr.config({contextual:{lazyContext:()=>D.some(js(Qt(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>np(o,d.element).map(h=>({bounds:op(h),optScrollEnv:D.some({currentScrollTop:h.element.dom.scrollTop,scrollElmTop:bl(h.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:D.none()}))})],$z=o=>{const a=o.editor,c=Gg(a),d=(E=>{const O=E.shared;return{open:(L,B)=>{const H=()=>{ys.hide(ce),B()},K=tr(kv({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",E)),Y=lT(),se=iT(H,O.providers),ce=Ea(cT({lazySink:()=>O.getSink(),header:Q2(Y,se),body:nB(L,O.providers),footer:D.some(oB(rB([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(th,H)],eventOrder:{}}));ys.show(ce);const ve=K.get(ce);Zn.focus(ve)}}})(o.backstages.dialog),h=(E=>{const O=E.shared;return{open:(L,B)=>{const H=ae=>{ys.hide(ve),B(ae)},K=tr(kv({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",E)),Y=kv({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",E),se=lT(),ce=iT(()=>H(!1),O.providers),ve=Ea(cT({lazySink:()=>O.getSink(),header:Q2(se,ce),body:nB(L,O.providers),footer:D.some(oB(rB([],[Y,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(th,()=>H(!1)),xt(w2,()=>H(!0))],eventOrder:{}}));ys.show(ve);const ie=K.get(ve);Zn.focus(ie)}}})(o.backstages.dialog),v=(E,O)=>O0.open((L,B,H)=>{const K=B,Y=((se,ce,ve)=>{const ie=fn("dialog"),ae=se.internalDialog,fe=aB(ae.title,ie,ve),ye=Dn(ae.size),_e=tw(ye.get()).toArray(),Le=((qn,So,Hr,Jr)=>{const mo=TS(qn,So,D.none(),Hr,!1,Jr);return ys.parts.body(mo)})({body:ae.body,initialData:ae.initialData},ie,ve,qn=>ow(vn,qn)),Xe=nw(ae.buttons),_t=dB(Xe),vt=Uo(Xe.length!==0,pT({buttons:Xe},ie,ve)),gt=fB(()=>In,lB(()=>sn,ve.shared.providers,ce),ve.shared.getSink),Bt={id:ie,header:fe,body:Le,footer:vt,extraClasses:_e,extraBehaviours:[Kl.config({channel:`${bp}-${ie}`,updateState:(qn,So)=>(ye.set(So.internalDialog.size),gT(So.internalDialog.size,qn),D.some(So)),initialData:se})],extraStyles:{}},sn=uB(Bt,gt,ve),vn={getId:te(ie),getRoot:te(sn),getBody:()=>ys.getBody(sn),getFooter:()=>ys.getFooter(sn),getFormWrapper:()=>{const qn=ys.getBody(sn);return Vo.getCurrent(qn).getOr(qn)},toggleFullscreen:()=>{cB(sn,ye.get())}},In=gB(vn,ce.redial,_t);return{dialog:sn,instanceApi:In}})({dataValidator:H,initialData:K,internalDialog:L},{redial:O0.redial,closeWindow:()=>{ys.hide(Y.dialog),O(Y.instanceApi)}},o.backstages.dialog);return ys.show(Y.dialog),Y.instanceApi.setData(K),Y.instanceApi},E),w=(E,O,L,B)=>O0.open((H,K,Y)=>{const se=yT(K,Y),ce=ir(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{os.reposition(ye),c&&ve||Yr.refresh(ye)}),ae=hB({dataValidator:Y,initialData:se,internalDialog:H},{redial:O0.redial,closeWindow:()=>{ce.on(os.hide),a.off("ResizeEditor",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,B.ariaAttrs,ie),fe=Ea(os.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(_g(),(ye,_e)=>{go(ae.dialog,th)})]),...Vz(a,c,ve)]),isExtraPart:(ye,_e)=>pB(_e)}));return ce.set(fe),os.showWithinBounds(fe,Hi(ae.dialog),{anchor:O},()=>{const ye=a.inline?dn():Qt(a.getContainer()),_e=js(ye);return D.some(_e)}),c&&ve||(Yr.refresh(fe),a.on("ResizeEditor",ie)),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E),k=(E,O,L,B)=>O0.open((H,K,Y)=>{const se=yT(K,Y),ce=ir(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{os.reposition(ye),Yr.refresh(ye)}),ae=hB({dataValidator:Y,initialData:se,internalDialog:H},{redial:O0.redial,closeWindow:()=>{ce.on(os.hide),a.off("ResizeEditor ScrollWindow ElementScroll",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,B.ariaAttrs,ie),fe=Ea(os.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(_g(),(ye,_e)=>{go(ae.dialog,th)})]),Yr.config({contextual:{lazyContext:()=>D.some(js(Qt(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ye=>np(a,ye.element).map(_e=>({bounds:op(_e),optScrollEnv:D.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:bl(_e.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:D.none()}))})]),isExtraPart:(ye,_e)=>pB(_e)}));return ce.set(fe),os.showWithinBounds(fe,Hi(ae.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(ye=>{const _e=np(a,ye.element).map(_t=>op(_t)).getOr(Ca()),Le=js(Qt(a.getContentAreaContainer())),Xe=nd(Le,_e);return D.some(bo(Xe.x,Xe.y,Xe.width,Xe.height-15))})),Yr.refresh(fe),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ie),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E);return{open:(E,O,L)=>{if(!z(O)){if(O.inline==="toolbar")return w(E,o.backstages.popup.shared.anchors.inlineDialog(),L,O);if(O.inline==="bottom")return k(E,o.backstages.popup.shared.anchors.inlineBottomDialog(),L,O);if(O.inline==="cursor")return w(E,o.backstages.popup.shared.anchors.cursor(),L,O)}return v(E,L)},openUrl:(E,O)=>((L,B)=>O0.openUrl(H=>{const K=Hz(H,{closeWindow:()=>{ys.hide(K.dialog),B(K.instanceApi)}},a,o.backstages.dialog);return ys.show(K.dialog),K.instanceApi},L))(E,O),alert:(E,O)=>{d.open(E,O)},close:E=>{E.close()},confirm:(E,O)=>{h.open(E,O)}}};kh.add("silver",o=>{(k=>{C5(k),(E=>{const O=E.options.register,L=H=>he(H,p)?{value:l7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},B=H=>ee(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:L}),O("color_map_foreground",{processor:L}),O("color_cols",{processor:B,default:c_(E)}),O("color_cols_foreground",{processor:B,default:WD(E,nA)}),O("color_cols_background",{processor:B,default:WD(E,oA)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:g2}),O("color_default_background",{processor:"string",default:g2})})(k),(E=>{const O=E.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:p(L)||he(L,p)?{value:z6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(o);let a=()=>Ca();const{dialogs:c,popups:d,renderUI:h}=YF(o,{getPopupSinkBounds:()=>a()});cR(o,d.backstage.shared);const v=$z({editor:o,backstages:{popup:d.backstage,dialog:c.backstage}}),w=ir();return{renderUI:()=>{const k=h();return np(o,d.getMothership().element).each(E=>{a=()=>op(E)}),k},getWindowManagerImpl:te(v),getNotificationManagerImpl:()=>G5(o,{backstage:d.backstage},d.getMothership(),w)}})})();(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=y=>_=>(T=>{const P=typeof T;return T===null?"null":P==="object"&&Array.isArray(T)?"array":P==="object"&&(V=W=T,(Q=String).prototype.isPrototypeOf(V)||((oe=W.constructor)===null||oe===void 0?void 0:oe.name)===Q.name)?"string":P;var V,W,Q,oe})(_)===y,u=y=>_=>typeof _===y,m=y=>_=>y===_,b=i("string"),p=i("object"),x=i("array"),S=m(null),M=u("boolean"),I=m(void 0),R=y=>!(_=>_==null)(y),z=u("function"),U=u("number"),$=()=>{},G=y=>()=>y,ee=y=>y,he=(y,_)=>y===_;function me(y,..._){return(...T)=>{const P=_.concat(T);return y.apply(null,P)}}const $e=y=>_=>!y(_),Te=y=>y(),te=G(!1),Ae=G(!0);class re{constructor(_,T){this.tag=_,this.value=T}static some(_){return new re(!0,_)}static none(){return re.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?re.some(_(this.value)):re.none()}bind(_){return this.tag?_(this.value):re.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:re.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return R(_)?re.some(_):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const Ge=Array.prototype.slice,Ve=Array.prototype.indexOf,Ze=Array.prototype.push,rt=(y,_)=>{return T=y,P=_,Ve.call(T,P)>-1;var T,P},Ce=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return!0;return!1},Ne=(y,_)=>{const T=[];for(let P=0;P<y;P++)T.push(_(P));return T},D=(y,_)=>{const T=y.length,P=new Array(T);for(let V=0;V<T;V++){const W=y[V];P[V]=_(W,V)}return P},yt=(y,_)=>{for(let T=0,P=y.length;T<P;T++)_(y[T],T)},Pt=(y,_)=>{const T=[],P=[];for(let V=0,W=y.length;V<W;V++){const Q=y[V];(_(Q,V)?T:P).push(Q)}return{pass:T,fail:P}},ln=(y,_)=>{const T=[];for(let P=0,V=y.length;P<V;P++){const W=y[P];_(W,P)&&T.push(W)}return T},gn=(y,_,T)=>(((P,V)=>{for(let W=P.length-1;W>=0;W--)V(P[W],W)})(y,(P,V)=>{T=_(T,P,V)}),T),Qe=(y,_,T)=>(yt(y,(P,V)=>{T=_(T,P,V)}),T),On=(y,_)=>((T,P,V)=>{for(let W=0,Q=T.length;W<Q;W++){const oe=T[W];if(P(oe,W))return re.some(oe);if(V(oe,W))break}return re.none()})(y,_,te),nr=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return re.some(T);return re.none()},pt=y=>{const _=[];for(let T=0,P=y.length;T<P;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Ze.apply(_,y[T])}return _},bt=(y,_)=>pt(D(y,_)),Zt=(y,_)=>{for(let T=0,P=y.length;T<P;++T)if(_(y[T],T)!==!0)return!1;return!0},Ur=(y,_)=>{const T={};for(let P=0,V=y.length;P<V;P++){const W=y[P];T[String(W)]=_(W,P)}return T},ho=(y,_)=>_>=0&&_<y.length?re.some(y[_]):re.none(),xn=y=>ho(y,0),Rn=y=>ho(y,y.length-1),J=(y,_)=>{for(let T=0;T<y.length;T++){const P=_(y[T],T);if(P.isSome())return P}return re.none()},sr=Object.keys,br=Object.hasOwnProperty,Ko=(y,_)=>{const T=sr(y);for(let P=0,V=T.length;P<V;P++){const W=T[P];_(y[W],W)}},oi=(y,_)=>Ke(y,(T,P)=>({k:P,v:_(T,P)})),Ke=(y,_)=>{const T={};return Ko(y,(P,V)=>{const W=_(P,V);T[W.k]=W.v}),T},le=(y,_)=>{const T=[];return Ko(y,(P,V)=>{T.push(_(P,V))}),T},xe=y=>le(y,ee),Me=(y,_)=>br.call(y,_),ge=typeof window<"u"?window:Function("return this;")(),St=(y,_)=>((T,P)=>{let V=P??ge;for(let W=0;W<T.length&&V!=null;++W)V=V[T[W]];return V})(y.split("."),_),$t=Object.getPrototypeOf,Ct=y=>{const _=St("ownerDocument.defaultView",y);return p(y)&&((T=>((P,V)=>{const W=((Q,oe)=>St(Q,oe))(P,V);if(W==null)throw new Error(P+" not available on this browser");return W})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test($t(y).constructor.name))},zt=y=>y.dom.nodeName.toLowerCase(),It=y=>y.dom.nodeType,on=y=>_=>It(_)===y,wn=y=>It(y)===8||zt(y)==="#comment",Cn=y=>En(y)&&Ct(y.dom),En=on(1),ao=on(3),vo=on(9),Ao=on(11),Oo=y=>_=>En(_)&&zt(_)===y,Es=(y,_,T)=>{if(!(b(T)||M(T)||U(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},ur=(y,_,T)=>{Es(y.dom,_,T)},bi=(y,_)=>{const T=y.dom;Ko(_,(P,V)=>{Es(T,V,P)})},cn=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},po=(y,_)=>re.from(cn(y,_)),io=(y,_)=>{y.dom.removeAttribute(_)},Wr=y=>Qe(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),Pa=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Vt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const P="HTML does not have a single root node";throw console.error(P,y),new Error(P)}return Pa(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return Pa(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return Pa(T)},fromDom:Pa,fromPoint:(y,_,T)=>re.from(y.dom.elementFromPoint(_,T)).map(Pa)},Ys=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const P=T;if(P.matches!==void 0)return P.matches(_);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(_);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(_);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Uo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,kl=(y,_)=>{const T=_===void 0?document:_.dom;return Uo(T)?re.none():re.from(T.querySelector(y)).map(Vt.fromDom)},Tr=(y,_)=>y.dom===_.dom,zs=(y,_)=>{const T=y.dom,P=_.dom;return T!==P&&T.contains(P)},qf=Ys,du=y=>Vt.fromDom(y.dom.ownerDocument),ec=y=>vo(y)?y:du(y),Xi=y=>re.from(y.dom.parentNode).map(Vt.fromDom),fu=y=>re.from(y.dom.parentElement).map(Vt.fromDom),dr=(y,_)=>{const T=z(_)?_:te;let P=y.dom;const V=[];for(;P.parentNode!==null&&P.parentNode!==void 0;){const W=P.parentNode,Q=Vt.fromDom(W);if(V.push(Q),T(Q)===!0)break;P=W}return V},Gn=y=>re.from(y.dom.previousSibling).map(Vt.fromDom),El=y=>re.from(y.dom.nextSibling).map(Vt.fromDom),ca=y=>D(y.dom.childNodes,Vt.fromDom),mu=(y,_)=>{const T=y.dom.childNodes;return re.from(T[_]).map(Vt.fromDom)},Qt=(y,_)=>{Xi(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},gu=(y,_)=>{El(y).fold(()=>{Xi(y).each(T=>{ts(T,_)})},T=>{Qt(T,_)})},Gf=(y,_)=>{(P=>mu(P,0))(y).fold(()=>{ts(y,_)},P=>{y.dom.insertBefore(_.dom,P.dom)})},ts=(y,_)=>{y.dom.appendChild(_.dom)},Yf=(y,_)=>{Qt(y,_),ts(_,y)},Ni=(y,_)=>{yt(_,(T,P)=>{const V=P===0?y:_[P-1];gu(V,T)})},ml=(y,_)=>{yt(_,T=>{ts(y,T)})},Ji=y=>{y.dom.textContent="",yt(ca(y),_=>{Kr(_)})},Kr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ri=y=>{const _=ca(y);_.length>0&&Ni(y,_),Kr(y)},gl=(y,_)=>Vt.fromDom(y.dom.cloneNode(_)),Xf=y=>gl(y,!1),Rc=y=>gl(y,!0),Nc=(y,_)=>{const T=Vt.fromTag(_),P=Wr(y);return bi(T,P),T},zd=["tfoot","thead","tbody","colgroup"],Xu=(y,_,T)=>({element:y,rowspan:_,colspan:T}),Wo=(y,_,T)=>({element:y,cells:_,section:T}),xs=(y,_,T)=>({element:y,isNew:_,isLocked:T}),Zs=(y,_,T,P)=>({element:y,cells:_,section:T,isNew:P}),Jf=y=>Vt.fromDom(y.dom.host),Ii=y=>{const _=ao(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(W=>{const Q=(pe=>Vt.fromDom(pe.dom.getRootNode()))(W);return Ao(oe=Q)&&R(oe.dom.host)?re.some(Q):re.none();var oe})(Vt.fromDom(_)).fold(()=>T.body.contains(_),(P=Ii,V=Jf,W=>P(V(W))));var P,V},Ic=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Vt.fromDom(_)},si=(y,_)=>{let T=[];return yt(ca(y),P=>{_(P)&&(T=T.concat([P])),T=T.concat(si(P,_))}),T},ai=(y,_,T)=>((P,V,W)=>ln(dr(P,W),Q=>Ys(Q,_)))(y,0,T),Bc=(y,_)=>((T,P)=>ln(ca(T),V=>Ys(V,_)))(y),vr=(y,_)=>((T,P)=>{const V=P===void 0?document:P.dom;return Uo(V)?[]:D(V.querySelectorAll(T),Vt.fromDom)})(_,y);var qr=(y,_,T,P,V)=>y(T,P)?re.some(T):z(V)&&V(T)?re.none():_(T,P,V);const Se=(y,_,T)=>{let P=y.dom;const V=z(T)?T:te;for(;P.parentNode;){P=P.parentNode;const W=Vt.fromDom(P);if(_(W))return re.some(W);if(V(W))break}return re.none()},Ye=(y,_,T)=>qr((P,V)=>V(P),Se,y,_,T),Re=(y,_,T)=>Se(y,P=>Ys(P,_),T),it=(y,_)=>((T,P)=>On(T.dom.childNodes,V=>{return W=Vt.fromDom(V),Ys(W,_);var W}).map(Vt.fromDom))(y),ot=(y,_)=>kl(_,y),je=(y,_,T)=>qr((P,V)=>Ys(P,V),Re,y,_,T),Lt=(y,_,T=he)=>y.exists(P=>T(P,_)),Yt=y=>{const _=[],T=P=>{_.push(P)};for(let P=0;P<y.length;P++)y[P].each(T);return _},nn=(y,_)=>y?re.some(_):re.none(),dn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,en=(y,_,T=0,P)=>{const V=y.indexOf(_,T);return V!==-1&&(!!I(P)||V+_.length<=P)},ro=(y,_)=>dn(y,_,0),Jt=(y,_)=>dn(y,_,y.length-_.length),ar=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),wo=y=>y.length>0,No=y=>y.style!==void 0&&z(y.style.getPropertyValue),fs=(y,_,T)=>{if(!b(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);No(y)&&y.style.setProperty(_,T)},fo=(y,_,T)=>{const P=y.dom;fs(P,_,T)},hl=(y,_)=>{const T=y.dom;Ko(_,(P,V)=>{fs(T,V,P)})},La=(y,_)=>{const T=y.dom,P=window.getComputedStyle(T).getPropertyValue(_);return P!==""||Ii(y)?P:Jn(T,_)},Jn=(y,_)=>No(y)?y.style.getPropertyValue(_):"",Bi=(y,_)=>{const T=y.dom,P=Jn(T,_);return re.from(P).filter(V=>V.length>0)},Qi=(y,_)=>{((T,P)=>{No(T)&&T.style.removeProperty(P)})(y.dom,_),Lt(po(y,"style").map(ar),"")&&io(y,"style")},as=(y,_,T=0)=>po(y,_).map(P=>parseInt(P,10)).getOr(T),Ju=(y,_)=>as(y,_,1),As=y=>Oo("col")(y)?as(y,"span",1)>1:Ju(y,"colspan")>1,Hd=(y,_)=>parseInt(La(y,_),10),pl=G(10),er=G(10),hu=(y,_)=>Qf(y,_,Ae),Qf=(y,_,T)=>bt(ca(y),P=>Ys(P,_)?T(P)?[P]:[]:Qf(P,_,T)),Ch=(y,_)=>((T,P,V=te)=>V(P)?re.none():rt(T,zt(P))?re.some(P):Re(P,T.join(","),W=>Ys(W,"table")||V(W)))(["td","th"],y,_),ms=y=>hu(y,"th,td"),tc=y=>Ys(y,"colgroup")?Bc(y,"col"):bt(em(y),_=>Bc(_,"col")),el=(y,_)=>je(y,"table",_),Pr=y=>hu(y,"tr"),em=y=>el(y).fold(G([]),_=>Bc(_,"colgroup")),bl=(y,_)=>D(y,T=>{if(zt(T)==="colgroup"){const P=D(tc(T),V=>{const W=as(V,"span",1);return Xu(V,1,W)});return Wo(T,P,"colgroup")}{const P=D(ms(T),V=>{const W=as(V,"rowspan",1),Q=as(V,"colspan",1);return Xu(V,W,Q)});return Wo(T,P,_(T))}}),Fa=y=>Xi(y).map(_=>{const T=zt(_);return(P=>rt(zd,P))(T)?T:"tbody"}).getOr("tbody"),mg=y=>{const _=Pr(y),T=[...em(y),..._];return bl(T,Fa)},ua=y=>{let _,T=!1;return(...P)=>(T||(T=!0,_=y.apply(null,P)),_)},Mi=()=>za(0,0),za=(y,_)=>({major:y,minor:_}),vl={nu:za,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Mi():((P,V)=>{const W=((oe,pe)=>{for(let De=0;De<oe.length;De++){const He=oe[De];if(He.test(pe))return He}})(P,V);if(!W)return{major:0,minor:0};const Q=oe=>Number(V.replace(W,"$"+oe));return za(Q(1),Q(2))})(y,T)},unknown:Mi},_h=(y,_)=>{const T=String(_).toLowerCase();return On(y,P=>P.search(T))},Co=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mc=y=>_=>en(_,y),Qu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>en(y,"edge/")&&en(y,"chrome")&&en(y,"safari")&&en(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Co],search:y=>en(y,"chrome")&&!en(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>en(y,"msie")||en(y,"trident")},{name:"Opera",versionRegexes:[Co,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mc("firefox")},{name:"Safari",versionRegexes:[Co,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(en(y,"safari")||en(y,"mobile/"))&&en(y,"applewebkit")}],pu=[{name:"Windows",search:Mc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>en(y,"iphone")||en(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mc("linux"),versionRegexes:[]},{name:"Solaris",search:Mc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zp={browsers:G(Qu),oses:G(pu)},_y="Edge",e1="Chromium",t1="Opera",zw="Firefox",Sh="Safari",n1=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isEdge:P(_y),isChromium:P(e1),isIE:P("IE"),isOpera:P(t1),isFirefox:P(zw),isSafari:P(Sh)}},Kt=()=>n1({current:void 0,version:vl.unknown()}),Vd=n1,$d="Windows",o1="Android",Ha="Linux",Ud="macOS",gg="Solaris",Sy="FreeBSD",ky="ChromeOS",jp=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isWindows:P($d),isiOS:P("iOS"),isAndroid:P(o1),isMacOS:P(Ud),isLinux:P(Ha),isSolaris:P(gg),isFreeBSD:P(Sy),isChromeOS:P(ky)}},Ey=()=>jp({current:void 0,version:vl.unknown()}),r1=jp,Ay=y=>window.matchMedia(y).matches;let hg=ua(()=>((y,_,T)=>{const P=Zp.browsers(),V=Zp.oses(),W=_.bind(pe=>((De,He)=>J(He.brands,Ee=>{const Ie=Ee.brand.toLowerCase();return On(De,Pe=>{var Je;return Ie===((Je=Pe.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(Pe=>({current:Pe.name,version:vl.nu(parseInt(Ee.version,10),0)}))}))(P,pe)).orThunk(()=>((pe,De)=>_h(pe,De).map(He=>{const Ee=vl.detect(He.versionRegexes,De);return{current:He.name,version:Ee}}))(P,y)).fold(Kt,Vd),Q=((pe,De)=>_h(pe,De).map(He=>{const Ee=vl.detect(He.versionRegexes,De);return{current:He.name,version:Ee}}))(V,y).fold(Ey,r1),oe=((pe,De,He,Ee)=>{const Ie=pe.isiOS()&&/ipad/i.test(He)===!0,Pe=pe.isiOS()&&!Ie,Je=pe.isiOS()||pe.isAndroid(),tt=Je||Ee("(pointer:coarse)"),Et=Ie||!Pe&&Je&&Ee("(min-device-width:768px)"),Ot=Pe||Je&&!Et,kt=De.isSafari()&&pe.isiOS()&&/safari/i.test(He)===!1,Rt=!Ot&&!Et&&!kt;return{isiPad:G(Ie),isiPhone:G(Pe),isTablet:G(Et),isPhone:G(Ot),isTouch:G(tt),isAndroid:pe.isAndroid,isiOS:pe.isiOS,isWebView:G(kt),isDesktop:G(Rt)}})(Q,W,y,T);return{browser:W,os:Q,deviceType:oe}})(window.navigator.userAgent,re.from(window.navigator.userAgentData),Ay));const s1=()=>hg(),Wd=(y,_)=>{const T=V=>{const W=_(V);if(W<=0||W===null){const Q=La(V,y);return parseFloat(Q)||0}return W},P=(V,W)=>Qe(W,(Q,oe)=>{const pe=La(V,oe),De=pe===void 0?0:parseInt(pe,10);return isNaN(De)?Q:Q+De},0);return{set:(V,W)=>{if(!U(W)&&!W.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+W);const Q=V.dom;No(Q)&&(Q.style[y]=W+"px")},get:T,getOuter:T,aggregate:P,max:(V,W,Q)=>{const oe=P(V,Q);return W>oe?W-oe:0}}},Zd=(y,_,T)=>((P,V)=>(W=>{const Q=parseFloat(W);return isNaN(Q)?re.none():re.some(Q)})(P).getOr(V))(La(y,_),T),Va=Wd("width",y=>y.dom.offsetWidth),tl=y=>Va.get(y),pg=y=>Va.getOuter(y),Po=y=>((_,T)=>{const P=_.dom,V=P.getBoundingClientRect().width||P.offsetWidth;return T==="border-box"?V:((W,Q,oe,pe)=>Q-Zd(W,`padding-${oe}`,0)-Zd(W,`padding-${pe}`,0)-Zd(W,`border-${oe}-width`,0)-Zd(W,`border-${pe}-width`,0))(_,V,"left","right")})(y,"content-box"),ed=(y,_,T)=>{const P=y.cells,V=P.slice(0,_),W=P.slice(_),Q=V.concat(T).concat(W);return vi(y,Q)},bg=(y,_,T)=>ed(y,_,[T]),vg=(y,_,T)=>{y.cells[_]=T},vi=(y,_)=>Zs(y.element,_,y.section,y.isNew),Ts=(y,_)=>y.cells[_],Gr=(y,_)=>Ts(y,_).element,wa=y=>y.cells.length,Lr=y=>{const _=Pt(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},jd=(y,_,T)=>{const P=D(y.cells,T);return Zs(_(y.element),P,y.section,!0)},tm="data-snooker-locked-cols",na=y=>po(y,tm).bind(_=>re.from(_.match(/\d+/g))).map(_=>Ur(_,Ae)),yi=y=>{const _=Qe(Lr(y).rows,(P,V)=>(yt(V.cells,(W,Q)=>{W.isLocked&&(P[Q]=!0)}),P),{}),T=le(_,(P,V)=>parseInt(V,10));return((P,V)=>{const W=Ge.call(P,0);return W.sort(void 0),W})(T)},ii=(y,_)=>y+","+_,Pc=(y,_)=>{const T=bt(y.all,P=>P.cells);return ln(T,_)},td=y=>{const _={},T=[],P=xn(y).map(Ie=>Ie.element).bind(el).bind(na).getOr({});let V=0,W=0,Q=0;const{pass:oe,fail:pe}=Pt(y,Ie=>Ie.section==="colgroup");yt(pe,Ie=>{const Pe=[];yt(Ie.cells,Je=>{let tt=0;for(;_[ii(Q,tt)]!==void 0;)tt++;const Et=((kt,Rt)=>Me(kt,Rt)&&kt[Rt]!==void 0&&kt[Rt]!==null)(P,tt.toString()),Ot=((kt,Rt,Ut,qt,nt,mn)=>({element:kt,rowspan:Rt,colspan:Ut,row:qt,column:nt,isLocked:mn}))(Je.element,Je.rowspan,Je.colspan,Q,tt,Et);for(let kt=0;kt<Je.colspan;kt++)for(let Rt=0;Rt<Je.rowspan;Rt++){const Ut=tt+kt,qt=ii(Q+Rt,Ut);_[qt]=Ot,W=Math.max(W,Ut+1)}Pe.push(Ot)}),V++,T.push(Wo(Ie.element,Pe,Ie.section)),Q++});const{columns:De,colgroups:He}=Rn(oe).map(Ie=>{const Pe=(tt=>{const Et={};let Ot=0;return yt(tt.cells,kt=>{const Rt=kt.colspan;Ne(Rt,Ut=>{const qt=Ot+Ut;Et[qt]=((nt,mn,Vn)=>({element:nt,colspan:mn,column:Vn}))(kt.element,Rt,qt)}),Ot+=Rt}),Et})(Ie);return{colgroups:[((tt,Et)=>({element:tt,columns:Et}))(Ie.element,xe(Pe))],columns:Pe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ie,Pe)=>({rows:Ie,columns:Pe}))(V,W),access:_,all:T,columns:De,colgroups:He}},bo=y=>{const _=mg(y);return td(_)},js=td,nl=(y,_,T)=>re.from(y.access[ii(_,T)]),nd=(y,_,T)=>{const P=Pc(y,V=>T(_,V.element));return P.length>0?re.some(P[0]):re.none()},Ca=Pc,Dn=y=>bt(y.all,_=>_.cells),nc=y=>xe(y.columns),oc=y=>sr(y.columns).length>0,ir=(y,_)=>re.from(y.columns[_]),kh=(y,_=Ae)=>{const T=y.grid,P=Ne(T.columns,ee),V=Ne(T.rows,ee);return D(P,W=>Kp(()=>bt(V,Q=>nl(y,Q,W).filter(oe=>oe.column===W).toArray()),Q=>Q.colspan===1&&_(Q.element),()=>nl(y,0,W)))},Kp=(y,_,T)=>{const P=y();return On(P,_).orThunk(()=>re.from(P[0]).orThunk(T)).map(V=>V.element)},od=y=>{const _=y.grid,T=Ne(_.rows,ee),P=Ne(_.columns,ee);return D(T,V=>Kp(()=>bt(P,W=>nl(y,V,W).filter(Q=>Q.row===V).fold(G([]),Q=>[Q])),W=>W.rowspan===1,()=>nl(y,V,0)))},_o=(y,_)=>T=>xi(T)==="rtl"?_:y,xi=y=>La(y,"direction")==="rtl"?"rtl":"ltr",Eh=Wd("height",y=>{const _=y.dom;return Ii(y)?_.getBoundingClientRect().height:_.offsetHeight}),rd=y=>Eh.get(y),qp=y=>Eh.getOuter(y),Lc=(y,_)=>({left:y,top:_,translate:(T,P)=>Lc(y+T,_+P)}),Pi=Lc,Fc=(y,_)=>y!==void 0?y:_!==void 0?_:0,Kd=y=>{const _=y.dom.ownerDocument,T=_.body,P=_.defaultView,V=_.documentElement;if(T===y.dom)return Pi(T.offsetLeft,T.offsetTop);const W=Fc(P==null?void 0:P.pageYOffset,V.scrollTop),Q=Fc(P==null?void 0:P.pageXOffset,V.scrollLeft),oe=Fc(V.clientTop,T.clientTop),pe=Fc(V.clientLeft,T.clientLeft);return Be(y).translate(Q-pe,W-oe)},Be=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Pi(T.offsetLeft,T.offsetTop):Ii(y)?(P=>{const V=P.getBoundingClientRect();return Pi(V.left,V.top)})(_):Pi(0,0)},nm=(y,_)=>({row:y,y:_}),yr=(y,_)=>({col:y,x:_}),Gp=y=>Kd(y).left+pg(y),yg=y=>Kd(y).left,zc=(y,_)=>yr(y,yg(_)),Lo=(y,_)=>yr(y,Gp(_)),$a=y=>Kd(y).top,bu=(y,_)=>nm(y,$a(_)),Ml=(y,_)=>nm(y,$a(_)+qp(_)),vu=(y,_,T)=>{if(T.length===0)return[];const P=D(T.slice(1),(W,Q)=>W.map(oe=>y(Q,oe))),V=T[T.length-1].map(W=>_(T.length-1,W));return P.concat([V])},yu={delta:ee,positions:y=>vu(bu,Ml,y),edge:$a},Ua=_o({delta:ee,edge:yg,positions:y=>vu(zc,Lo,y)},{delta:y=>-y,edge:Gp,positions:y=>vu(Lo,zc,y)}),qd={delta:(y,_)=>Ua(_).delta(y,_),positions:(y,_)=>Ua(_).positions(y,_),edge:y=>Ua(y).edge(y)},om={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Yp=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=V=>`(?:${V})?`,P=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${P}))(.*)$`)})(),oa=/(\d+(\.\d+)?)%/,Pn=/(\d+(\.\d+)?)px|em/,xu=Oo("col"),rm=Oo("tr"),Wa=(y,_,T)=>{const P=fu(y).getOrThunk(()=>Ic(du(y)));return _(y)/T(P)*100},wu=(y,_)=>{fo(y,"width",_+"px")},yl=(y,_)=>{fo(y,"width",_+"%")},Cu=(y,_)=>{fo(y,"height",_+"px")},sd=y=>{const _=(T=>{return Zd(P=T,"height",P.dom.offsetHeight)+"px";var P})(y);return _?((T,P,V,W)=>{const Q=parseFloat(T);return Jt(T,"%")&&zt(P)!=="table"?((oe,pe,De,He)=>{const Ee=el(oe).map(Ie=>{const Pe=De(Ie);return Math.floor(pe/100*Pe)}).getOr(pe);return He(oe,Ee),Ee})(P,Q,V,W):Q})(_,y,rd,Cu):rd(y)},ra=(y,_)=>Bi(y,_).orThunk(()=>po(y,_).map(T=>T+"px")),Pl=y=>ra(y,"width"),Hc=y=>Wa(y,tl,Po),sm=y=>{return xu(y)?tl(y):Zd(_=y,"width",_.dom.offsetWidth);var _},a1=y=>rm(y)?rd(y):((_,T,P)=>P(_)/Ju(_,"rowspan"))(y,0,sd),_u=(y,_,T)=>{fo(y,"width",_+T)},Gd=y=>Wa(y,tl,Po)+"%",Xp=G(oa),is=Oo("col"),wi=y=>Pl(y).getOrThunk(()=>sm(y)+"px"),li=y=>{return(_=y,ra(_,"height")).getOrThunk(()=>a1(y)+"px");var _},Li=(y,_,T,P,V,W)=>y.filter(P).fold(()=>W(((Q,oe)=>{if(oe<0||oe>=Q.length-1)return re.none();const pe=Q[oe].fold(()=>{const He=(Ee=>{const Ie=Ge.call(Ee,0);return Ie.reverse(),Ie})(Q.slice(0,oe));return J(He,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},He=>re.some({value:He,delta:0})),De=Q[oe+1].fold(()=>{const He=Q.slice(oe+1);return J(He,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},He=>re.some({value:He,delta:1}));return pe.bind(He=>De.map(Ee=>{const Ie=Ee.delta+He.delta;return Math.abs(Ee.value-He.value)/Ie}))})(T,_)),Q=>V(Q)),Xs=(y,_,T,P)=>{const V=kh(y),W=oc(y)?(pe=>D(nc(pe),De=>re.from(De.element)))(y):V,Q=[re.some(qd.edge(_))].concat(D(qd.positions(V,_),pe=>pe.map(De=>De.x))),oe=$e(As);return D(W,(pe,De)=>Li(pe,De,Q,oe,He=>{if((Ie=>{const Pe=s1().browser,Je=Pe.isChromium()||Pe.isFirefox();return!is(Ie)||Je})(He))return T(He);{const Ie=(Ee=V[De])!=null?ee(Ee):re.none();return Li(Ie,De,Q,oe,Pe=>P(re.some(tl(Pe))),P)}var Ee},P))},Ah=y=>y.map(_=>_+"px").getOr(""),Ks=(y,_,T)=>Xs(y,_,sm,P=>P.getOrThunk(T.minCellWidth)),_a=(y,_,T,P)=>{const V=od(y),W=D(y.all,oe=>re.some(oe.element)),Q=[re.some(yu.edge(_))].concat(D(yu.positions(V,_),oe=>oe.map(pe=>pe.y)));return D(W,(oe,pe)=>Li(oe,pe,Q,Ae,T,P))},Vc=(y,_)=>()=>Ii(y)?_(y):parseFloat(Bi(y,"width").getOr("0")),At=y=>{const _=Vc(y,P=>parseFloat(Gd(P))),T=Vc(y,tl);return{width:_,pixelWidth:T,getWidths:(P,V)=>((W,Q,oe)=>Xs(W,Q,Hc,pe=>pe.fold(()=>oe.minCellWidth(),De=>De/oe.pixelWidth()*100)))(P,y,V),getCellDelta:P=>P/T()*100,singleColumnWidth:(P,V)=>[100-P],minCellWidth:()=>pl()/T()*100,setElementWidth:yl,adjustTableWidth:P=>{const V=_();yl(y,V+P/100*V)},isRelative:!0,label:"percent"}},Sa=y=>{const _=Vc(y,tl);return{width:_,pixelWidth:_,getWidths:(T,P)=>Ks(T,y,P),getCellDelta:ee,singleColumnWidth:(T,P)=>[Math.max(pl(),T+P)-T],minCellWidth:pl,setElementWidth:wu,adjustTableWidth:T=>{const P=_()+T;wu(y,P)},isRelative:!1,label:"pixel"}},Th=y=>Pl(y).fold(()=>(_=>{const T=Vc(_,tl),P=G(0);return{width:T,pixelWidth:T,getWidths:(V,W)=>Ks(V,_,W),getCellDelta:P,singleColumnWidth:G([0]),minCellWidth:P,setElementWidth:$,adjustTableWidth:$,isRelative:!0,label:"none"}})(y),_=>((T,P)=>Xp().exec(P)!==null?At(T):Sa(T))(y,_)),ls=Sa,Su=At,Ci=(y,_,T)=>{const P=y[T].element,V=Vt.fromTag("td");ts(V,Vt.fromTag("br")),(_?ts:Gf)(P,V)},rc=((y,_)=>{const T=P=>y(P)?re.from(P.dom.nodeValue):re.none();return{get:P=>{if(!y(P))throw new Error("Can only get text value of a text node");return T(P).getOr("")},getOption:T,set:(P,V)=>{if(!y(P))throw new Error("Can only set raw text value of a text node");P.dom.nodeValue=V}}})(ao),am=y=>rc.get(y),Fi=y=>rc.getOption(y),Io=(y,_)=>rc.set(y,_),Os=y=>zt(y)==="img"?1:Fi(y).fold(()=>ca(y).length,_=>_.length),Yd=["img","br"],ws=y=>Fi(y).filter(_=>_.trim().length!==0||_.indexOf(" ")>-1).isSome()||rt(Yd,zt(y))||(_=>Cn(_)&&cn(_,"contenteditable")==="false")(y),xg=y=>((_,T)=>{const P=V=>{for(let W=0;W<V.childNodes.length;W++){const Q=Vt.fromDom(V.childNodes[W]);if(T(Q))return re.some(Q);const oe=P(V.childNodes[W]);if(oe.isSome())return oe}return re.none()};return P(_.dom)})(y,ws),$c=y=>i1(y,ws),i1=(y,_)=>{const T=P=>{const V=ca(P);for(let W=V.length-1;W>=0;W--){const Q=V[W];if(_(Q))return re.some(Q);const oe=T(Q);if(oe.isSome())return oe}return re.none()};return T(y)},gs={scope:["row","col"]},et=y=>()=>{const _=Vt.fromTag("td",y.dom);return ts(_,Vt.fromTag("br",y.dom)),_},_i=y=>()=>Vt.fromTag("col",y.dom),Ds=y=>()=>Vt.fromTag("colgroup",y.dom),Al=y=>()=>Vt.fromTag("tr",y.dom),sc=(y,_,T)=>{const P=((V,W)=>{const Q=Nc(V,W),oe=ca(Rc(V));return ml(Q,oe),Q})(y,_);return Ko(T,(V,W)=>{V===null?io(P,W):ur(P,W,V)}),P},Hs=y=>y,Fr=(y,_,T)=>{const P=(V,W)=>{((Q,oe)=>{const pe=Q.dom,De=oe.dom;No(pe)&&No(De)&&(De.style.cssText=pe.style.cssText)})(V.element,W),Qi(W,"height"),V.colspan!==1&&Qi(W,"width")};return{col:V=>{const W=Vt.fromTag(zt(V.element),_.dom);return P(V,W),y(V.element,W),W},colgroup:Ds(_),row:Al(_),cell:V=>{const W=Vt.fromTag(zt(V.element),_.dom),Q=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),oe=Q.length>0?((pe,De,He)=>xg(pe).map(Ee=>{const Ie=He.join(","),Pe=ai(Ee,Ie,Je=>Tr(Je,pe));return gn(Pe,(Je,tt)=>{const Et=Xf(tt);return ts(Je,Et),Et},De)}).getOr(De))(V.element,W,Q):W;return ts(oe,Vt.fromTag("br")),P(V,W),((pe,De)=>{Ko(gs,(He,Ee)=>po(pe,Ee).filter(Ie=>rt(He,Ie)).each(Ie=>ur(De,Ee,Ie)))})(V.element,W),y(V.element,W),W},replace:sc,colGap:_i(_),gap:et(_)}},fr=y=>({col:_i(y),colgroup:Ds(y),row:Al(y),cell:et(y),replace:Hs,colGap:_i(y),gap:et(y)}),Si=y=>_=>_.options.get(y),Tl="100%",Uc=y=>{var _;const T=y.dom,P=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return Po(Vt.fromDom(P))+"px"},ad=y=>re.from(y.options.get("table_clone_elements")),im=Si("table_header_type"),wg=Si("table_column_resizing"),Cg=y=>wg(y)==="preservetable",Jp=y=>wg(y)==="resizetable",Qp=Si("table_sizing_mode"),ku=y=>Qp(y)==="relative",N=y=>Qp(y)==="fixed",Z=y=>Qp(y)==="responsive",ne=Si("table_resize_bars"),Oe=Si("table_style_by_css"),ze=Si("table_merge_content_on_paste"),Tt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((P,V)=>Z(P)||Oe(P)?V:N(P)?{...V,width:Uc(P)}:{...V,width:Tl})(y,T)},Ln=Si("table_use_colgroups"),so=y=>je(y,"[contenteditable]"),Yn=(y,_=!1)=>Ii(y)?y.dom.isContentEditable:so(y).fold(G(_),T=>_n(T)==="true"),_n=y=>y.dom.contentEditable,Jo=y=>Vt.fromDom(y.getBody()),Rs=y=>_=>Tr(_,Jo(y)),cs=y=>{io(y,"data-mce-style");const _=T=>io(T,"data-mce-style");yt(ms(y),_),yt(tc(y),_),yt(Pr(y),_)},ac=y=>Vt.fromDom(y.selection.getStart()),lm=y=>y.getBoundingClientRect().width,cm=y=>y.getBoundingClientRect().height,Js=y=>(_,T)=>{const P=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return re.from(P).filter(wo)},Hw=Js("width"),eb=Js("height"),l1=y=>Ye(y,Oo("table")).exists(Yn),Za=(y,_)=>{const T=_.column,P=_.column+_.colspan-1,V=_.row,W=_.row+_.rowspan-1;return T<=y.finishCol&&P>=y.startCol&&V<=y.finishRow&&W>=y.startRow},hs=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,da=(y,_,T)=>{const P=nd(y,_,Tr),V=nd(y,T,Tr);return P.bind(W=>V.map(Q=>{return oe=W,pe=Q,{startRow:Math.min(oe.row,pe.row),startCol:Math.min(oe.column,pe.column),finishRow:Math.max(oe.row+oe.rowspan-1,pe.row+pe.rowspan-1),finishCol:Math.max(oe.column+oe.colspan-1,pe.column+pe.colspan-1)};var oe,pe}))},Eu=(y,_,T)=>da(y,_,T).map(P=>{const V=Ca(y,me(Za,P));return D(V,W=>W.element)}),Oh=(y,_)=>nd(y,_,(T,P)=>zs(P,T)).map(T=>T.element),Ty=(y,_,T)=>{const P=ol(y);return Eu(P,_,T)},Ll=(y,_,T,P,V)=>{const W=ol(y),Q=Tr(y,T)?re.some(_):Oh(W,_),oe=Tr(y,V)?re.some(P):Oh(W,P);return Q.bind(pe=>oe.bind(De=>Eu(W,pe,De)))},ol=bo;var tb=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Xd=()=>({up:G({selector:Re,closest:je,predicate:Se,all:dr}),down:G({selector:vr,predicate:si}),styles:G({get:La,getRaw:Bi,set:fo,remove:Qi}),attrs:G({get:cn,set:ur,remove:io,copyTo:(y,_)=>{const T=Wr(y);bi(_,T)}}),insert:G({before:Qt,after:gu,afterAll:Ni,append:ts,appendAll:ml,prepend:Gf,wrap:Yf}),remove:G({unwrap:ri,remove:Kr}),create:G({nu:Vt.fromTag,clone:y=>Vt.fromDom(y.dom.cloneNode(!1)),text:Vt.fromText}),query:G({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:Gn,nextSibling:El}),property:G({children:ca,name:zt,parent:Xi,document:y=>ec(y).dom,isText:ao,isComment:wn,isElement:En,isSpecial:y=>{const _=zt(y);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>En(y)?po(y,"lang"):re.none(),getText:am,setText:Io,isBoundary:y=>!!En(y)&&(zt(y)==="body"||rt(tb,zt(y))),isEmptyTag:y=>!!En(y)&&rt(["br","img","hr","input"],zt(y)),isNonEditable:y=>En(y)&&cn(y,"contenteditable")==="false"}),eq:Tr,is:qf});const hk=(y,_,T,P)=>{const V=_(y,T);return gn(P,(W,Q)=>{const oe=_(y,Q);return nb(y,W,oe)},V)},nb=(y,_,T)=>_.bind(P=>T.filter(me(y.eq,P))),id=Xd(),Jd=(y,_)=>((T,P,V)=>V.length>0?((W,Q,oe,pe)=>pe(W,Q,oe[0],oe.slice(1)))(T,P,V,hk):re.none())(id,(T,P)=>y(P),_),yn=y=>Re(y,"table"),Wc=(y,_,T)=>{const P=V=>W=>T!==void 0&&T(W)||Tr(W,V);return Tr(y,_)?re.some({boxes:re.some([y]),start:y,finish:_}):yn(y).bind(V=>yn(_).bind(W=>{if(Tr(V,W))return re.some({boxes:Ty(V,y,_),start:y,finish:_});if(zs(V,W)){const Q=ai(_,"td,th",P(V)),oe=Q.length>0?Q[Q.length-1]:_;return re.some({boxes:Ll(V,y,V,_,W),start:y,finish:oe})}if(zs(W,V)){const Q=ai(y,"td,th",P(W)),oe=Q.length>0?Q[Q.length-1]:y;return re.some({boxes:Ll(W,y,V,_,W),start:y,finish:oe})}return((Q,oe,pe)=>((De,He,Ee,Ie=te)=>{const Pe=[He].concat(De.up().all(He)),Je=[Ee].concat(De.up().all(Ee)),tt=Rt=>nr(Rt,Ie).fold(()=>Rt,Ut=>Rt.slice(0,Ut+1)),Et=tt(Pe),Ot=tt(Je),kt=On(Et,Rt=>Ce(Ot,((Ut,qt)=>me(Ut.eq,qt))(De,Rt)));return{firstpath:Et,secondpath:Ot,shared:kt}})(id,Q,oe,void 0))(y,_).shared.bind(Q=>je(Q,"table",T).bind(oe=>{const pe=ai(_,"td,th",P(oe)),De=pe.length>0?pe[pe.length-1]:_,He=ai(y,"td,th",P(oe)),Ee=He.length>0?He[He.length-1]:y;return re.some({boxes:Ll(oe,y,V,_,W),start:Ee,finish:De})}))}))},ob=(y,_)=>{const T=vr(y,_);return T.length>0?re.some(T):re.none()},Qd=(y,_,T)=>ot(y,_).bind(P=>ot(y,T).bind(V=>Jd(yn,[P,V]).map(W=>({first:P,last:V,table:W})))),ja=(y,_,T,P,V)=>((W,Q)=>On(W,oe=>Ys(oe,Q)))(y,V).bind(W=>((Q,oe,pe)=>el(Q).bind(De=>((He,Ee,Ie,Pe)=>nd(He,Ee,Tr).bind(Je=>{const tt=Ie>0?Je.row+Je.rowspan-1:Je.row,Et=Pe>0?Je.column+Je.colspan-1:Je.column;return nl(He,tt+Ie,Et+Pe).map(Ot=>Ot.element)}))(ol(De),Q,oe,pe)))(W,_,T).bind(Q=>((oe,pe)=>Re(oe,"table").bind(De=>ot(De,pe).bind(He=>Wc(He,oe).bind(Ee=>Ee.boxes.map(Ie=>({boxes:Ie,start:Ee.start,finish:Ee.finish}))))))(Q,P))),ic=(y,_)=>ob(y,_),_g=(y,_,T)=>Qd(y,_,T).bind(P=>{const V=pe=>Tr(y,pe),W="thead,tfoot,tbody,table",Q=Re(P.first,W,V),oe=Re(P.last,W,V);return Q.bind(pe=>oe.bind(De=>Tr(pe,De)?((He,Ee,Ie)=>((Pe,Je,tt)=>da(Pe,Je,tt).bind(Et=>((Ot,kt)=>{let Rt=!0;const Ut=me(hs,kt);for(let qt=kt.startRow;qt<=kt.finishRow;qt++)for(let nt=kt.startCol;nt<=kt.finishCol;nt++)Rt=Rt&&nl(Ot,qt,nt).exists(Ut);return Rt?re.some(kt):re.none()})(Pe,Et)))(ol(He),Ee,Ie))(P.table,P.first,P.last):re.none()))}),ef=ee,c1=y=>{const _=(T,P)=>po(T,P).exists(V=>parseInt(V,10)>1);return y.length>0&&Zt(y,T=>_(T,"rowspan")||_(T,"colspan"))?re.some(y):re.none()},Zc=(y,_,T)=>_.length<=1?re.none():_g(y,T.firstSelectedSelector,T.lastSelectedSelector).map(P=>({bounds:P,cells:_})),Dh="data-mce-selected",Rh="data-mce-first-selected",Mt="data-mce-last-selected",Oy="["+Dh+"]",tf={selected:Dh,selectedSelector:"td["+Dh+"],th["+Dh+"]",firstSelected:Rh,firstSelectedSelector:"td["+Rh+"],th["+Rh+"]",lastSelected:Mt,lastSelectedSelector:"td["+Mt+"],th["+Mt+"]"},go=(y,_,T)=>({element:T,mergable:Zc(_,y,tf),unmergable:c1(y),selection:ef(y)}),Sn=y=>(_,T)=>{const P=zt(_),V=P==="col"||P==="colgroup"?el(W=_).bind(Q=>ic(Q,tf.firstSelectedSelector)).fold(G(W),Q=>Q[0]):_;var W;return je(V,y,T)},nf=Sn("th,td,caption"),ns=Sn("th,td"),lc=y=>{return _=y.model.table.getSelectedCells(),D(_,Vt.fromDom);var _},cc=(y,_)=>{y.on("BeforeGetContent",T=>{const P=V=>{T.preventDefault(),(W=>el(W[0]).map(Q=>{const oe=((pe,De)=>{const He=Rt=>Ys(Rt.element,De),Ee=Rc(pe),Ie=mg(Ee),Pe=Th(pe),Je=js(Ie),tt=((Rt,Ut)=>{const qt=Rt.grid.columns;let nt=Rt.grid.rows,mn=qt,Vn=0,co=0;const jn=[],$n=[];return Ko(Rt.access,lo=>{if(jn.push(lo),Ut(lo)){$n.push(lo);const Bo=lo.row,$s=Bo+lo.rowspan-1,ui=lo.column,Aa=ui+lo.colspan-1;Bo<nt?nt=Bo:$s>Vn&&(Vn=$s),ui<mn?mn=ui:Aa>co&&(co=Aa)}}),((lo,Bo,$s,ui,Aa,Vl)=>({minRow:lo,minCol:Bo,maxRow:$s,maxCol:ui,allCells:Aa,selectedCells:Vl}))(nt,mn,Vn,co,jn,$n)})(Je,He),Et="th:not("+De+"),td:not("+De+")",Ot=Qf(Ee,"th,td",Rt=>Ys(Rt,Et));yt(Ot,Kr),((Rt,Ut,qt,nt)=>{const mn=ln(Rt,jn=>jn.section!=="colgroup"),Vn=Ut.grid.columns,co=Ut.grid.rows;for(let jn=0;jn<co;jn++){let $n=!1;for(let lo=0;lo<Vn;lo++)jn<qt.minRow||jn>qt.maxRow||lo<qt.minCol||lo>qt.maxCol||(nl(Ut,jn,lo).filter(nt).isNone()?Ci(mn,$n,jn):$n=!0)}})(Ie,Je,tt,He);const kt=((Rt,Ut,qt,nt)=>{if(nt.minCol===0&&Ut.grid.columns===nt.maxCol+1)return 0;const mn=Ks(Ut,Rt,qt),Vn=Qe(mn,($n,lo)=>$n+lo,0),co=Qe(mn.slice(nt.minCol,nt.maxCol+1),($n,lo)=>$n+lo,0),jn=co/Vn*qt.pixelWidth()-qt.pixelWidth();return qt.getCellDelta(jn)})(pe,bo(pe),Pe,tt);return((Rt,Ut,qt,nt)=>{Ko(qt.columns,Vn=>{(Vn.column<Ut.minCol||Vn.column>Ut.maxCol)&&Kr(Vn.element)});const mn=ln(hu(Rt,"tr"),Vn=>Vn.dom.childElementCount===0);yt(mn,Kr),Ut.minCol!==Ut.maxCol&&Ut.minRow!==Ut.maxRow||yt(hu(Rt,"th,td"),Vn=>{io(Vn,"rowspan"),io(Vn,"colspan")}),io(Rt,tm),io(Rt,"data-snooker-col-series"),Th(Rt).adjustTableWidth(nt)})(Ee,tt,Je,kt),Ee})(Q,Oy);return cs(oe),[oe]}))(V).each(W=>{T.content=T.format==="text"?(Q=>D(Q,oe=>oe.dom.innerText).join(""))(W):((Q,oe)=>D(oe,pe=>Q.selection.serializer.serialize(pe.dom,{})).join(""))(y,W)})};if(T.selection===!0){const V=(W=>ln(lc(W),Q=>Ys(Q,tf.selectedSelector)))(y);V.length>=1&&P(V)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const P=lc(y);xn(P).each(V=>{el(V).each(W=>{const Q=ln(((pe,De)=>{const He=document.createElement("div");return He.innerHTML=pe,ca(Vt.fromDom(He))})(T.content),pe=>zt(pe)!=="meta"),oe=Oo("table");if(ze(y)&&Q.length===1&&oe(Q[0])){T.preventDefault();const pe=Vt.fromDom(y.getDoc()),De=fr(pe),He=((Ee,Ie,Pe)=>({element:Ee,clipboard:Ie,generators:Pe}))(V,Q[0],De);_.pasteCells(W,He).each(()=>{y.focus()})}})})}})},to=(y,_)=>({element:y,offset:_}),Nh=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(P=>Nh(y,P,T).orThunk(()=>re.some(P))):re.none(),Vw=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,xt=(y,_)=>{const T=Nh(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return to(T,Vw(y,T));const P=y.property().children(T);return P.length>0?xt(y,P[P.length-1]):to(T,Vw(y,T))},Dy=xt,Ih=Xd(),Bh=(y,_)=>{As(y)||(P=>Pl(P).bind(V=>{return W=V,Q=["fixed","relative","empty"],re.from(Yp.exec(W)).bind(oe=>{const pe=Number(oe[1]),De=oe[2];return((He,Ee)=>Ce(Ee,Ie=>Ce(om[Ie],Pe=>He===Pe)))(De,Q)?re.some({value:pe,unit:De}):re.none()});var W,Q}))(y).each(P=>{const V=P.value/2;_u(y,V,P.unit),_u(_,V,P.unit)})},Sg=y=>D(y,G(0)),um=(y,_,T,P,V)=>V(y.slice(0,_)).concat(P).concat(V(y.slice(T))),$w=y=>(_,T,P,V)=>{if(y(P)){const W=Math.max(V,_[T]-Math.abs(P)),Q=Math.abs(W-_[T]);return P>=0?Q:-Q}return P},of=$w(y=>y<0),Zr=$w(Ae),Au=()=>{const y=(T,P,V,W)=>{const Q=(100+V)/100,oe=Math.max(W,(T[P]+V)/Q);return D(T,(pe,De)=>(De===P?oe:pe/Q)-pe)},_=(T,P,V,W,Q,oe)=>oe?y(T,P,W,Q):((pe,De,He,Ee,Ie)=>{const Pe=of(pe,De,Ee,Ie);return um(pe,De,He+1,[Pe,0],Sg)})(T,P,V,W,Q);return{resizeTable:(T,P)=>T(P),clampTableDelta:of,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,P,V,W,Q,oe,pe)=>_(T,V,W,Q,oe,pe),calcRightEdgeDeltas:(T,P,V,W,Q,oe)=>{if(oe)return y(T,V,W,Q);{const pe=of(T,V,W,Q);return Sg(T.slice(0,V)).concat([pe])}},calcRedestributedWidths:(T,P,V,W)=>{if(W){const Q=(P+V)/P,oe=D(T,pe=>pe/Q);return{delta:100*Q-100,newSizes:oe}}return{delta:V,newSizes:T}}}},u1=()=>{const y=(_,T,P,V,W)=>{const Q=Zr(_,V>=0?P:T,V,W);return um(_,T,P+1,[Q,-Q],Sg)};return{resizeTable:(_,T,P)=>{P&&_(T)},clampTableDelta:(_,T,P,V,W)=>{if(W){if(P>=0)return P;{const Q=Qe(_,(oe,pe)=>oe+pe-V,0);return Math.max(-Q,P)}}return of(_,T,P,V)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,P,V,W,Q)=>y(_,P,V,W,Q),calcRightEdgeDeltas:(_,T,P,V,W,Q)=>{if(Q)return Sg(_);{const oe=V/_.length;return D(_,G(oe))}},calcRedestributedWidths:(_,T,P,V)=>({delta:0,newSizes:_})}},jc=y=>bo(y).grid,dm=Oo("th"),Fl=y=>Zt(y,_=>dm(_.element)),Ns=(y,_)=>y&&_?"sectionCells":y?"section":"cells",rb=y=>{const _=y.section==="thead",T=Lt(fa(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Ns(_,T)}:{type:"body"}},fa=y=>{const _=ln(y,T=>dm(T.element));return _.length===0?re.some("td"):_.length===y.length?re.some("th"):re.none()},d1=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),uc=(y,_)=>y.section!==_?Zs(y.element,y.cells,_,y.isNew):y,ma=()=>({transformRow:uc,transformCell:(y,_,T)=>{const P=T(y.element,_),V=zt(P)!=="td"?((W,Q)=>{const oe=Nc(W,"td");gu(W,oe);const pe=ca(W);return ml(oe,pe),Kr(W),oe})(P):P;return xs(V,y.isNew,y.isLocked)}}),Ft=()=>({transformRow:uc,transformCell:d1}),fm=()=>({transformRow:(y,_)=>uc(y,_==="thead"?"tbody":_),transformCell:d1}),ga=ma,Uw=Ft,Ww=fm,pk=()=>({transformRow:ee,transformCell:d1}),ld=(y,_,T,P)=>{T===P?io(y,_):ur(y,_,T)},kg=(y,_,T)=>{Rn(Bc(y,_)).fold(()=>Gf(y,T),P=>gu(P,T))},sb=(y,_)=>{const T=[],P=[],V=Ie=>D(Ie,Pe=>{Pe.isNew&&T.push(Pe.element);const Je=Pe.element;return Ji(Je),yt(Pe.cells,tt=>{tt.isNew&&P.push(tt.element),ld(tt.element,"colspan",tt.colspan,1),ld(tt.element,"rowspan",tt.rowspan,1),ts(Je,tt.element)}),Je}),W=Ie=>bt(Ie,Pe=>D(Pe.cells,Je=>(ld(Je.element,"span",Je.colspan,1),Je.element))),Q=(Ie,Pe)=>{const Je=((Et,Ot)=>{const kt=it(Et,Ot).getOrThunk(()=>{const Rt=Vt.fromTag(Ot,du(Et).dom);return Ot==="thead"?kg(Et,"caption,colgroup",Rt):Ot==="colgroup"?kg(Et,"caption",Rt):ts(Et,Rt),Rt});return Ji(kt),kt})(y,Pe),tt=(Pe==="colgroup"?W:V)(Ie);ml(Je,tt)},oe=(Ie,Pe)=>{Ie.length>0?Q(Ie,Pe):(Je=>{it(y,Je).each(Kr)})(Pe)},pe=[],De=[],He=[],Ee=[];return yt(_,Ie=>{switch(Ie.section){case"thead":pe.push(Ie);break;case"tbody":De.push(Ie);break;case"tfoot":He.push(Ie);break;case"colgroup":Ee.push(Ie)}}),oe(Ee,"colgroup"),oe(pe,"thead"),oe(De,"tbody"),oe(He,"tfoot"),{newRows:T,newCells:P}},f1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return nr(y,P=>!_(T.element,P.element)).getOr(y.length)},Ry=(y,_)=>{const T=D(y,P=>D(P.cells,te));return D(y,(P,V)=>{const W=bt(P.cells,(Q,oe)=>{if(T[V][oe]===!1){const Ie=((Pe,Je,tt,Et)=>{const Ot=((qt,nt)=>qt[nt])(Pe,Je),kt=Ot.section==="colgroup",Rt=f1(Ot.cells.slice(tt),Et),Ut=kt?1:f1(((qt,nt)=>D(qt,mn=>Ts(mn,nt)))(Pe.slice(Je),tt),Et);return{colspan:Rt,rowspan:Ut}})(y,V,oe,_);return((Pe,Je,tt,Et)=>{for(let Ot=Pe;Ot<Pe+tt;Ot++)for(let kt=Je;kt<Je+Et;kt++)T[Ot][kt]=!0})(V,oe,Ie.rowspan,Ie.colspan),[(pe=Q.element,De=Ie.rowspan,He=Ie.colspan,Ee=Q.isNew,{element:pe,rowspan:De,colspan:He,isNew:Ee})]}return[];var pe,De,He,Ee});return((Q,oe,pe,De)=>({element:Q,cells:oe,section:pe,isNew:De}))(P.element,W,P.section,P.isNew)})},us=(y,_,T)=>{const P=[];yt(y.colgroups,V=>{const W=[];for(let Q=0;Q<y.grid.columns;Q++){const oe=ir(y,Q).map(pe=>xs(pe.element,T,!1)).getOrThunk(()=>xs(_.colGap(),!0,!1));W.push(oe)}P.push(Zs(V.element,W,"colgroup",T))});for(let V=0;V<y.grid.rows;V++){const W=[];for(let pe=0;pe<y.grid.columns;pe++){const De=nl(y,V,pe).map(He=>xs(He.element,T,He.isLocked)).getOrThunk(()=>xs(_.gap(),!0,!1));W.push(De)}const Q=y.all[V],oe=Zs(Q.element,W,Q.section,T);P.push(oe)}return P},ab=y=>Ry(y,Tr),ps=(y,_)=>J(y.all,T=>On(T.cells,P=>Tr(_,P.element))),zi=(y,_,T)=>{const P=D(_.selection,W=>Ch(W).bind(Q=>ps(y,Q)).filter(T)),V=Yt(P);return nn(V.length>0,V)},Is=(y,_,T,P,V)=>(W,Q,oe,pe)=>{const De=bo(W),He=re.from(pe==null?void 0:pe.section).getOrThunk(pk);return _(De,Q).map(Ee=>{const Ie=((tt,Et)=>us(tt,Et,!1))(De,oe),Pe=y(Ie,Ee,Tr,V(oe),He),Je=yi(Pe.grid);return{info:Ee,grid:ab(Pe.grid),cursor:Pe.cursor,lockedColumns:Je}}).bind(Ee=>{const Ie=sb(W,Ee.grid),Pe=re.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Th(W)),Je=re.from(pe==null?void 0:pe.resize).getOrThunk(u1);return T(W,Ee.grid,Ee.info,{sizing:Pe,resize:Je,section:He}),P(W),io(W,tm),Ee.lockedColumns.length>0&&ur(W,tm,Ee.lockedColumns.join(",")),re.some({cursor:Ee.cursor,newRows:Ie.newRows,newCells:Ie.newCells})})},zl=(y,_)=>zi(y,_,Ae).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),cd=(y,_)=>zi(y,_,Ae),ka=(y,_)=>zi(y,_,T=>!T.isLocked),ib=(y,_)=>Zt(_,T=>((P,V)=>ps(P,V).exists(W=>!W.isLocked))(y,T)),Mh=(y,_,T,P)=>{const V=Lr(y).rows;let W=!0;for(let Q=0;Q<V.length;Q++)for(let oe=0;oe<wa(V[0]);oe++){const pe=V[Q],De=Ts(pe,oe),He=T(De.element,_);He&&!W?vg(pe,oe,xs(P(),!0,De.isLocked)):He&&(W=!1)}return y},rf=y=>{const _=W=>W(y),T=G(y),P=()=>V,V={tag:!0,inner:y,fold:(W,Q)=>Q(y),isValue:Ae,isError:te,map:W=>Ph.value(W(y)),mapError:P,bind:_,exists:_,forall:_,getOr:T,or:P,getOrThunk:T,orThunk:P,getOrDie:T,each:W=>{W(y)},toOptional:()=>re.some(y)};return V},Zw=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(V,W)=>V(y),isValue:te,isError:Ae,map:_,mapError:V=>Ph.error(V(y)),bind:_,exists:te,forall:Ae,getOr:ee,or:ee,getOrThunk:Te,orThunk:Te,getOrDie:(P=String(y),()=>{throw new Error(P)}),each:$,toOptional:re.none};var P;return T},Ph={value:rf,error:Zw,fromOption:(y,_)=>y.fold(()=>Zw(_),rf)},Ny=(y,_)=>({rowDelta:0,colDelta:wa(y[0])-wa(_[0])}),m1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),lb=(y,_,T,P)=>{const V=_.section==="colgroup"?T.col:T.cell;return Ne(y,W=>xs(V(),!0,P(W)))},g1=(y,_,T,P)=>{const V=y[y.length-1];return y.concat(Ne(_,()=>{const W=V.section==="colgroup"?T.colgroup:T.row,Q=jd(V,W,ee),oe=lb(Q.cells.length,Q,T,pe=>Me(P,pe.toString()));return vi(Q,oe)}))},Iy=(y,_,T,P)=>D(y,V=>{const W=lb(_,V,T,te);return ed(V,P,W)}),mm=(y,_,T)=>{const P=_.colDelta<0?Iy:ee,V=_.rowDelta<0?g1:ee,W=yi(y),Q=wa(y[0]),oe=Ce(W,He=>He===Q-1),pe=P(y,Math.abs(_.colDelta),T,oe?Q-1:Q),De=yi(pe);return V(pe,Math.abs(_.rowDelta),T,Ur(De,Ae))},bk=(y,_,T,P)=>{const V=me(P,Ts(y[_],T).element),W=y[_];return y.length>1&&wa(W)>1&&(T>0&&V(Gr(W,T-1))||T<W.cells.length-1&&V(Gr(W,T+1))||_>0&&V(Gr(y[_-1],T))||_<y.length-1&&V(Gr(y[_+1],T)))},h1=(y,_,T)=>ln(T,P=>P>=y.column&&P<=wa(_[0])+y.column),p1=(y,_,T,P,V)=>{((De,He,Ee,Ie)=>{He>0&&He<De[0].cells.length&&yt(De,Pe=>{const Je=Pe.cells[He-1];let tt=0;const Et=Ie();for(;Pe.cells.length>He+tt&&Ee(Je.element,Pe.cells[He+tt].element);)vg(Pe,He+tt,xs(Et,!0,Pe.cells[He+tt].isLocked)),tt++})})(_,y,V,P.cell);const W=m1(T,_),Q=mm(T,W,P),oe=m1(_,Q),pe=mm(_,oe,P);return D(pe,(De,He)=>ed(De,y,Q[He].cells))},By=(y,_,T,P,V)=>{((kt,Rt,Ut,qt)=>{const nt=Lr(kt).rows;if(Rt>0&&Rt<nt.length){const mn=((Vn,co)=>Qe(Vn,(jn,$n)=>Ce(jn,lo=>co(lo.element,$n.element))?jn:jn.concat([$n]),[]))(nt[Rt-1].cells,Ut);yt(mn,Vn=>{let co=re.none();for(let jn=Rt;jn<nt.length;jn++)for(let $n=0;$n<wa(nt[0]);$n++){const lo=nt[jn],Bo=Ts(lo,$n);Ut(Bo.element,Vn.element)&&(co.isNone()&&(co=re.some(qt())),co.each($s=>{vg(lo,$n,xs($s,!0,Bo.isLocked))}))}})}})(_,y,V,P.cell);const W=yi(_),Q=Ny(_,T),oe={...Q,colDelta:Q.colDelta-W.length},pe=mm(_,oe,P),{cols:De,rows:He}=Lr(pe),Ee=yi(pe),Ie=Ny(T,_),Pe={...Ie,colDelta:Ie.colDelta+Ee.length},Je=(Et=P,Ot=Ee,D(T,kt=>Qe(Ot,(Rt,Ut)=>{const qt=lb(1,kt,Et,Ae)[0];return bg(Rt,Ut,qt)},kt))),tt=mm(Je,Pe,P);var Et,Ot;return[...De,...He.slice(0,y),...tt,...He.slice(y,He.length)]},My=(y,_,T,P,V)=>{const{rows:W,cols:Q}=Lr(y),oe=W.slice(0,_),pe=W.slice(_);return[...Q,...oe,((De,He,Ee,Ie)=>jd(De,Pe=>Ie(Pe,Ee),He))(W[T],(De,He)=>_>0&&_<W.length&&P(Gr(W[_-1],He),Gr(W[_],He))?Ts(W[_],He):xs(V(De.element,P),!0,De.isLocked),P,V),...pe]},cb=(y,_,T,P,V)=>D(y,W=>{const Q=_>0&&_<wa(W)&&P(Gr(W,_-1),Gr(W,_)),oe=((pe,De,He,Ee,Ie,Pe,Je)=>{if(He!=="colgroup"&&Ee)return Ts(pe,De);{const tt=Ts(pe,Ie);return xs(Je(tt.element,Pe),!0,!1)}})(W,_,W.section,Q,T,P,V);return bg(W,_,oe)}),Py=(y,_,T,P)=>((V,W,Q,oe)=>Gr(V[W],Q)!==void 0&&W>0&&oe(Gr(V[W-1],Q),Gr(V[W],Q)))(y,_,T,P)||((V,W,Q)=>W>0&&Q(Gr(V,W-1),Gr(V,W)))(y[_],T,P),Ly=(y,_,T,P)=>{const V=W=>(Q=>Q==="row"?(oe=>Ju(oe,"rowspan")>1)(_):As(_))(W)?`${W}group`:W;return y?dm(_)?V(T):null:P&&dm(_)?V(T==="row"?"col":"row"):null},ub=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),Lh=(y,_,T,P,V,W,Q)=>D(y,(oe,pe)=>((De,He)=>{const Ee=De.cells,Ie=D(Ee,(Pe,Je)=>{if((tt=>Ce(_,Et=>T(tt.element,Et.element)))(Pe)){const tt=Q(Pe,pe,Je)?V(Pe,T,P):Pe;return W(tt,pe,Je).each(Et=>{var Ot,kt;Ot=tt.element,kt={scope:re.from(Et)},Ko(kt,(Rt,Ut)=>{Rt.fold(()=>{io(Ot,Ut)},qt=>{Es(Ot.dom,Ut,qt)})})}),tt}return Pe});return Zs(De.element,Ie,De.section,De.isNew)})(oe)),Fy=(y,_,T)=>bt(y,(P,V)=>Py(y,V,_,T)?[]:[Ts(P,_)]),db=(y,_,T,P,V)=>{const W=Lr(y).rows,Q=bt(_,He=>Fy(W,He,P)),oe=D(W,He=>Fl(He.cells)),pe=((He,Ee)=>Zt(Ee,ee)&&Fl(He)?Ae:(Ie,Pe,Je)=>!(zt(Ie.element)==="th"&&Ee[Pe]))(Q,oe);return Lh(y,Q,P,V,ub,((He,Ee)=>(Ie,Pe)=>re.some(Ly(He,Ie.element,"row",Ee[Pe])))(T,oe),pe)},fb=(y,_,T,P)=>{const V=Lr(y).rows,W=D(_,Q=>Ts(V[Q.row],Q.column));return Lh(y,W,T,P,ub,re.none,Ae)},gm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return yt(y,(P,V)=>{const W=sr(P);if(W.length!==1)throw new Error("one and only one name per case");const Q=W[0],oe=P[Q];if(T[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(oe))throw new Error("case arguments must be an array");_.push(Q),T[Q]=(...pe)=>{const De=pe.length;if(De!==oe.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+oe.length+" ("+oe+"), got "+De);return{fold:(...He)=>{if(He.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+He.length);return He[V].apply(null,pe)},match:He=>{const Ee=sr(He);if(_.length!==Ee.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Ee.join(","));if(!Zt(_,Ie=>rt(Ee,Ie)))throw new Error("Not all branches were specified when using match. Specified: "+Ee.join(", ")+`
Required: `+_.join(", "));return He[Q].apply(null,pe)},log:He=>{console.log(He,{constructors:_,constructor:Q,params:pe})}}}}),T},Fh={...gm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},zy=(y,_,T)=>{const P=((V,W)=>oc(V)?((Q,oe)=>{const pe=nc(Q);return D(pe,(De,He)=>({element:De.element,width:oe[He],colspan:De.colspan}))})(V,W):((Q,oe)=>{const pe=Dn(Q);return D(pe,De=>{const He=((Ee,Ie,Pe)=>{let Je=0;for(let tt=Ee;tt<Ie;tt++)Je+=Pe[tt]!==void 0?Pe[tt]:0;return Je})(De.column,De.column+De.colspan,oe);return{element:De.element,width:He,colspan:De.colspan}})})(V,W))(y,_);yt(P,V=>{T.setElementWidth(V.element,V.width)})},ud=(y,_,T,P,V)=>{const W=bo(y),Q=V.getCellDelta(_),oe=V.getWidths(W,V),pe=T===W.grid.columns-1,De=P.clampTableDelta(oe,T,Q,V.minCellWidth(),pe),He=((Ie,Pe,Je,tt,Et)=>{const Ot=Ie.slice(0),kt=((Ut,qt)=>Ut.length===0?Fh.none():Ut.length===1?Fh.only(0):qt===0?Fh.left(0,1):qt===Ut.length-1?Fh.right(qt-1,qt):qt>0&&qt<Ut.length-1?Fh.middle(qt-1,qt,qt+1):Fh.none())(Ie,Pe),Rt=G(D(Ot,G(0)));return kt.fold(Rt,Ut=>tt.singleColumnWidth(Ot[Ut],Je),(Ut,qt)=>Et.calcLeftEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt,nt)=>Et.calcMiddleDeltas(Ot,Ut,qt,nt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt)=>Et.calcRightEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative))})(oe,T,De,V,P),Ee=D(He,(Ie,Pe)=>Ie+oe[Pe]);zy(W,Ee,V),P.resizeTable(V.adjustTableWidth,De,pe)},Eg=(y,_,T)=>{const P=bo(y),V=((pe,De)=>_a(pe,De,a1,He=>He.getOrThunk(er)))(P,y),W=D(V,(pe,De)=>T===De?Math.max(_+pe,er()):pe),Q=((pe,De)=>D(pe.all,(He,Ee)=>({element:He.element,height:De[Ee]})))(P,W);yt(Q,pe=>{Cu(pe.element,pe.height)}),yt(Dn(P),pe=>{(De=>{Qi(De,"height")})(pe.element)});const oe=gn(W,(pe,De)=>pe+De,0);Cu(y,oe)},Ag=y=>Qe(y,(_,T)=>Ce(_,P=>P.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),dd=Oo("col"),sf=Oo("colgroup"),mb=y=>zt(y)==="tr"||sf(y),vk=y=>({element:y,colspan:as(y,"colspan",1),rowspan:as(y,"rowspan",1)}),gb=y=>po(y,"scope").map(_=>_.substr(0,3)),dc=(y,_=vk)=>{const T=V=>{if(mb(V))return sf((W={element:V}).element)?y.colgroup(W):y.row(W);{const Q=V,oe=(pe=>dd(pe.element)?y.col(pe):y.cell(pe))(_(Q));return P=re.some({item:Q,replacement:oe}),oe}var W};let P=re.none();return{getOrInit:(V,W)=>P.fold(()=>T(V),Q=>W(V,Q.item)?Q.replacement:T(V))}},jw=y=>_=>{const T=[],P=V=>{const W=y==="td"?{scope:null}:{},Q=_.replace(V,y,W);return T.push({item:V,sub:Q}),Q};return{replaceOrInit:(V,W)=>{if(mb(V)||dd(V))return V;{const Q=V;return((oe,pe)=>On(T,De=>pe(De.item,oe)))(Q,W).fold(()=>P(Q),oe=>W(V,oe.item)?oe.sub:P(Q))}}}},Hy=y=>({unmerge:_=>{const T=gb(_);return T.each(P=>ur(_,"scope",P)),()=>{const P=y.cell({element:_,colspan:1,rowspan:1});return Qi(P,"width"),Qi(_,"width"),T.each(V=>ur(P,"scope",V)),P}},merge:_=>(Qi(_[0],"width"),(()=>{const T=Yt(D(_,gb));if(T.length===0)return re.none();{const P=T[0],V=["row","col"];return Ce(T,W=>W!==P&&rt(V,W))?re.none():re.from(P)}})().fold(()=>io(_[0],"scope"),T=>ur(_[0],"scope",T+"group")),G(_[0]))}),Tg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=Xd(),Og=y=>((_,T)=>{const P=_.property().name(T);return rt(Tg,P)})(Ka,y),Dg=y=>((_,T)=>{const P=_.property().name(T);return rt(["ol","ul"],P)})(Ka,y),b1=y=>{const _=Oo("br"),T=V=>$c(V).bind(W=>{const Q=El(W).map(oe=>!!Og(oe)||!!((pe,De)=>rt(["br","img","hr","input"],pe.property().name(De)))(Ka,oe)&&zt(oe)!=="img").getOr(!1);return Xi(W).map(oe=>{return Q===!0||zt(pe=oe)==="li"||Se(pe,Dg).isSome()||_(W)||Og(oe)&&!Tr(V,oe)?[]:[Vt.fromTag("br")];var pe})}).getOr([]),P=(()=>{const V=bt(y,W=>{const Q=ca(W);return(oe=>Zt(oe,pe=>_(pe)||ao(pe)&&am(pe).trim().length===0))(Q)?[]:Q.concat(T(W))});return V.length===0?[Vt.fromTag("br")]:V})();Ji(y[0]),ml(y[0],P)},Fo=y=>Yn(y,!0),rl=y=>{ms(y).length===0&&Kr(y)},Tu=(y,_)=>({grid:y,cursor:_}),ci=(y,_,T)=>{const P=((V,W,Q)=>{var oe,pe;const De=Lr(V).rows;return re.from((pe=(oe=De[W])===null||oe===void 0?void 0:oe.cells[Q])===null||pe===void 0?void 0:pe.element).filter(Fo).orThunk(()=>(He=>J(He,Ee=>J(Ee.cells,Ie=>{const Pe=Ie.element;return nn(Fo(Pe),Pe)})))(De))})(y,_,T);return Tu(y,P)},Nr=y=>Qe(y,(_,T)=>Ce(_,P=>P.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),hb=(y,_)=>(T,P,V,W,Q)=>{const oe=Nr(P),pe=D(oe,He=>He.row),De=((He,Ee,Ie,Pe,Je,tt,Et)=>{const{cols:Ot,rows:kt}=Lr(He),Rt=kt[Ee[0]],Ut=bt(Ee,jn=>(($n,lo,Bo)=>{const $s=$n[lo];return bt($s.cells,(ui,Aa)=>Py($n,lo,Aa,Bo)?[]:[ui])})(kt,jn,Je)),qt=D(Rt.cells,(jn,$n)=>Fl(Fy(kt,$n,Je))),nt=[...kt];yt(Ee,jn=>{nt[jn]=Et.transformRow(kt[jn],Ie)});const mn=[...Ot,...nt],Vn=((jn,$n)=>Zt($n,ee)&&Fl(jn.cells)?Ae:(lo,Bo,$s)=>!(zt(lo.element)==="th"&&$n[$s]))(Rt,qt),co=((jn,$n)=>(lo,Bo,$s)=>re.some(Ly(jn,lo.element,"col",$n[$s])))(Pe,qt);return Lh(mn,Ut,Je,tt,Et.transformCell,co,Vn)})(T,pe,y,_,V,W.replaceOrInit,Q);return ci(De,P[0].row,P[0].column)},Kw=hb("thead",!0),yk=hb("tbody",!1),Yr=hb("tfoot",!1),v1=(y,_,T)=>{const P=((W,Q)=>bl(W,()=>Q))(y,T.section),V=js(P);return us(V,_,!0)},Vy=(y,_,T,P)=>((V,W,Q,oe)=>{const pe=js(W),De=oe.getWidths(pe,oe);zy(pe,De,oe)})(0,_,0,P.sizing),hm=(y,_,T,P)=>((V,W,Q,oe,pe)=>{const De=js(W),He=oe.getWidths(De,oe),Ee=oe.pixelWidth(),{newSizes:Ie,delta:Pe}=pe.calcRedestributedWidths(He,Ee,Q.pixelDelta,oe.isRelative);zy(De,Ie,oe),oe.adjustTableWidth(Pe)})(0,_,T,P.sizing,P.resize),fc=(y,_)=>Ce(_,T=>T.column===0&&T.isLocked),zh=(y,_)=>Ce(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),fn=(y,_)=>{const T=kh(y),P=Ag(_);return Qe(P,(V,W)=>V+T[W.column].map(pg).getOr(0),0)},Kc=y=>(_,T)=>cd(_,T).filter(P=>!(y?fc:zh)(_,P)).map(P=>({details:P,pixelDelta:fn(_,P)})),$y=y=>(_,T)=>zl(_,T).filter(P=>!(y?fc:zh)(_,P.cells)),y1=jw("th"),Hh=jw("td"),x1=Is((y,_,T,P)=>{const V=_[0].row,W=Nr(_),Q=gn(W,(oe,pe)=>({grid:My(oe.grid,V,pe.row+oe.delta,T,P.getOrInit),delta:oe.delta+1}),{grid:y,delta:0}).grid;return ci(Q,V,_[0].column)},cd,$,$,dc),Rg=Is((y,_,T,P)=>{const V=Nr(_),W=V[V.length-1],Q=W.row+W.rowspan,oe=gn(V,(pe,De)=>My(pe,Q,De.row,T,P.getOrInit),y);return ci(oe,Q,_[0].column)},cd,$,$,dc),mc=Is((y,_,T,P)=>{const V=_.details,W=Ag(V),Q=W[0].column,oe=gn(W,(pe,De)=>({grid:cb(pe.grid,Q,De.column+pe.delta,T,P.getOrInit),delta:pe.delta+1}),{grid:y,delta:0}).grid;return ci(oe,V[0].row,Q)},Kc(!0),hm,$,dc),xk=Is((y,_,T,P)=>{const V=_.details,W=V[V.length-1],Q=W.column+W.colspan,oe=Ag(V),pe=gn(oe,(De,He)=>cb(De,Q,He.column,T,P.getOrInit),y);return ci(pe,V[0].row,Q)},Kc(!1),hm,$,dc),w1=Is((y,_,T,P)=>{const V=Ag(_.details),W=((oe,pe)=>bt(oe,De=>{const He=De.cells,Ee=gn(pe,(Ie,Pe)=>Pe>=0&&Pe<Ie.length?Ie.slice(0,Pe).concat(Ie.slice(Pe+1)):Ie,He);return Ee.length>0?[Zs(De.element,Ee,De.section,De.isNew)]:[]}))(y,D(V,oe=>oe.column)),Q=W.length>0?W[0].cells.length-1:0;return ci(W,V[0].row,Math.min(V[0].column,Q))},(y,_)=>ka(y,_).map(T=>({details:T,pixelDelta:-fn(y,T)})),hm,rl,dc),Uy=Is((y,_,T,P)=>{const V=Nr(_),W=((oe,pe,De)=>{const{rows:He,cols:Ee}=Lr(oe);return[...Ee,...He.slice(0,pe),...He.slice(De+1)]})(y,V[0].row,V[V.length-1].row),Q=Math.max(Lr(W).rows.length-1,0);return ci(W,Math.min(_[0].row,Q),_[0].column)},cd,$,rl,dc),C1=Is((y,_,T,P)=>{const V=Ag(_),W=D(V,oe=>oe.column),Q=db(y,W,!0,T,P.replaceOrInit);return ci(Q,_[0].row,_[0].column)},ka,$,$,y1),Wy=Is((y,_,T,P)=>{const V=Ag(_),W=D(V,oe=>oe.column),Q=db(y,W,!1,T,P.replaceOrInit);return ci(Q,_[0].row,_[0].column)},ka,$,$,Hh),Zy=Is(Kw,ka,$,$,y1),_1=Is(yk,ka,$,$,Hh),jy=Is(Yr,ka,$,$,Hh),Ky=Is((y,_,T,P)=>{const V=fb(y,_,T,P.replaceOrInit);return ci(V,_[0].row,_[0].column)},ka,$,$,y1),qw=Is((y,_,T,P)=>{const V=fb(y,_,T,P.replaceOrInit);return ci(V,_[0].row,_[0].column)},ka,$,$,Hh),wk=Is((y,_,T,P)=>{const V=_.cells;b1(V);const W=((Q,oe,pe,De)=>{const He=Lr(Q).rows;if(He.length===0)return Q;for(let Ee=oe.startRow;Ee<=oe.finishRow;Ee++)for(let Ie=oe.startCol;Ie<=oe.finishCol;Ie++){const Pe=He[Ee],Je=Ts(Pe,Ie).isLocked;vg(Pe,Ie,xs(De(),!1,Je))}return Q})(y,_.bounds,0,P.merge(V));return Tu(W,re.from(V[0]))},(y,_)=>((T,P)=>P.mergable)(0,_).filter(T=>ib(y,T.cells)),Vy,$,Hy),pb=Is((y,_,T,P)=>{const V=gn(_,(W,Q)=>Mh(W,Q,T,P.unmerge(Q)),y);return Tu(V,re.from(_[0]))},(y,_)=>((T,P)=>P.unmergable)(0,_).filter(T=>ib(y,T)),Vy,$,Hy),qy=Is((y,_,T,P)=>{const V=((oe,pe)=>{const De=bo(oe);return us(De,pe,!0)})(_.clipboard,_.generators);var W,Q;return((oe,pe,De,He,Ee)=>{const Ie=yi(pe),Pe=((Ot,kt,Rt)=>{const Ut=wa(kt[0]),qt=Lr(kt).cols.length+Ot.row,nt=Ne(Ut-Ot.column,mn=>mn+Ot.column);return{row:qt,column:On(nt,mn=>Zt(Rt,Vn=>Vn!==mn)).getOr(Ut-1)}})(oe,pe,Ie),Je=Lr(De).rows,tt=h1(Pe,Je,Ie);return((Ot,kt,Rt)=>{if(Ot.row>=kt.length||Ot.column>wa(kt[0]))return Ph.error("invalid start address out of table bounds, row: "+Ot.row+", column: "+Ot.column);const Ut=kt.slice(Ot.row),qt=Ut[0].cells.slice(Ot.column),nt=wa(Rt[0]),mn=Rt.length;return Ph.value({rowDelta:Ut.length-mn,colDelta:qt.length-nt})})(Pe,pe,Je).map(Ot=>{const kt={...Ot,colDelta:Ot.colDelta-tt.length},Rt=mm(pe,kt,He),Ut=yi(Rt),qt=h1(Pe,Je,Ut);return((nt,mn,Vn,co,jn,$n)=>{const lo=nt.row,Bo=nt.column,$s=lo+Vn.length,ui=Bo+wa(Vn[0])+$n.length,Aa=Ur($n,Ae);for(let Vl=lo;Vl<$s;Vl++){let Tm=0;for(let di=Bo;di<ui;di++){if(Aa[di]){Tm++;continue}bk(mn,Vl,di,jn)&&Mh(mn,Gr(mn[Vl],di),jn,co.cell);const Ru=di-Bo-Tm,qh=Ts(Vn[Vl-lo],Ru),xf=qh.element,Gh=co.replace(xf);vg(mn[Vl],di,xs(Gh,!0,qh.isLocked))}}return mn})(Pe,Rt,Je,He,Ee,qt)})})((W=_.row,Q=_.column,{row:W,column:Q}),y,V,_.generators,T).fold(()=>Tu(y,re.some(_.element)),oe=>ci(oe,_.row,_.column))},(y,_)=>Ch(_.element).bind(T=>ps(y,T).map(P=>({...P,generators:_.generators,clipboard:_.clipboard}))),Vy,$,dc),Ng=Is((y,_,T,P)=>{const V=Lr(y).rows,W=_.cells[0].column,Q=V[_.cells[0].row],oe=v1(_.clipboard,_.generators,Q),pe=p1(W,y,oe,_.generators,T);return ci(pe,_.cells[0].row,_.cells[0].column)},$y(!0),$,$,dc),Ck=Is((y,_,T,P)=>{const V=Lr(y).rows,W=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,Q=V[_.cells[0].row],oe=v1(_.clipboard,_.generators,Q),pe=p1(W,y,oe,_.generators,T);return ci(pe,_.cells[0].row,W)},$y(!1),$,$,dc),_k=Is((y,_,T,P)=>{const V=Lr(y).rows,W=_.cells[0].row,Q=V[W],oe=v1(_.clipboard,_.generators,Q),pe=By(W,y,oe,_.generators,T);return ci(pe,_.cells[0].row,_.cells[0].column)},zl,$,$,dc),af=Is((y,_,T,P)=>{const V=Lr(y).rows,W=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,Q=V[_.cells[0].row],oe=v1(_.clipboard,_.generators,Q),pe=By(W,y,oe,_.generators,T);return ci(pe,W,_.cells[0].column)},zl,$,$,dc),pm=(y,_)=>{const T=bo(y);return cd(T,_).bind(P=>{const V=P[P.length-1],W=P[0].column,Q=V.column+V.colspan,oe=pt(D(T.all,pe=>ln(pe.cells,De=>De.column>=W&&De.column<Q)));return fa(oe)}).getOr("")},S1=(y,_)=>{const T=bo(y);return cd(T,_).bind(fa).getOr("")},Gw=(y,_)=>{const T=bo(y);return cd(T,_).bind(P=>{const V=P[P.length-1],W=P[0].row,Q=V.row+V.rowspan;return(oe=>{const pe=D(oe,Ee=>rb(Ee).type),De=rt(pe,"header"),He=rt(pe,"footer");if(De||He){const Ee=rt(pe,"body");return!De||Ee||He?De||Ee||!He?re.none():re.some("footer"):re.some("header")}return re.some("body")})(T.all.slice(W,Q))}).getOr("")},Gy=(y,_)=>y.dispatch("NewRow",{node:_}),bb=(y,_)=>y.dispatch("NewCell",{node:_}),fd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},k1={structure:!1,style:!0},Qs={structure:!0,style:!1},Cs={structure:!0,style:!0},lf=(y,_)=>ku(y)?Su(_):N(y)?ls(_):Th(_),Yy=(y,_,T)=>{const P=He=>zt(Jo(He))==="table",V=ad(y),W=Jp(y)?$:Bh,Q=He=>{switch(im(y)){case"section":return ga();case"sectionCells":return Uw();case"cells":return Ww();default:return((Ee,Ie)=>{var Pe;switch((Pe=bo(Ee),J(Pe.all,Je=>{const tt=rb(Je);return tt.type==="header"?re.from(tt.subType):re.none()})).getOr(Ie)){case"section":return ma();case"sectionCells":return Ft();case"cells":return fm()}})(He,"section")}},oe=(He,Ee,Ie,Pe)=>(Je,tt,Et=!1)=>{cs(Je);const Ot=Vt.fromDom(y.getDoc()),kt=Fr(Ie,Ot,V),Rt={sizing:lf(y,Je),resize:Jp(y)?Au():u1(),section:Q(Je)};return Ee(Je)?He(Je,tt,kt,Rt).bind(Ut=>{_.refresh(Je.dom),yt(Ut.newRows,nt=>{Gy(y,nt.dom)}),yt(Ut.newCells,nt=>{bb(y,nt.dom)});const qt=((nt,mn)=>mn.cursor.fold(()=>{const Vn=ms(nt);return xn(Vn).filter(Ii).map(co=>{T.clearSelectedCells(nt.dom);const jn=y.dom.createRng();return jn.selectNode(co.dom),y.selection.setRng(jn),ur(co,"data-mce-selected","1"),jn})},Vn=>{const co=Dy(Ih,Vn),jn=y.dom.createRng();return jn.setStart(co.element.dom,co.offset),jn.setEnd(co.element.dom,co.offset),y.selection.setRng(jn),T.clearSelectedCells(nt.dom),re.some(jn)}))(Je,Ut);return Ii(Je)&&(cs(Je),Et||fd(y,Je.dom,Pe)),qt.map(nt=>({rng:nt,effect:Pe}))}):re.none()},pe=oe(Uy,He=>!P(y)||jc(He).rows>1,$,Qs),De=oe(w1,He=>!P(y)||jc(He).columns>1,$,Qs);return{deleteRow:pe,deleteColumn:De,insertRowsBefore:oe(x1,Ae,$,Qs),insertRowsAfter:oe(Rg,Ae,$,Qs),insertColumnsBefore:oe(mc,Ae,W,Qs),insertColumnsAfter:oe(xk,Ae,W,Qs),mergeCells:oe(wk,Ae,$,Qs),unmergeCells:oe(pb,Ae,$,Qs),pasteColsBefore:oe(Ng,Ae,$,Qs),pasteColsAfter:oe(Ck,Ae,$,Qs),pasteRowsBefore:oe(_k,Ae,$,Qs),pasteRowsAfter:oe(af,Ae,$,Qs),pasteCells:oe(qy,Ae,$,Cs),makeCellsHeader:oe(Ky,Ae,$,Qs),unmakeCellsHeader:oe(qw,Ae,$,Qs),makeColumnsHeader:oe(C1,Ae,$,Qs),unmakeColumnsHeader:oe(Wy,Ae,$,Qs),makeRowsHeader:oe(Zy,Ae,$,Qs),makeRowsBody:oe(_1,Ae,$,Qs),makeRowsFooter:oe(jy,Ae,$,Qs),getTableRowType:Gw,getTableCellType:S1,getTableColType:pm}},E1=(y,_,T)=>{const P=as(y,_,1);T===1||P<=1?io(y,_):ur(y,_,Math.min(T,P))},Ea=(y,_)=>T=>{const P=T.column+T.colspan-1,V=T.column;return P>=y&&V<_},Hi=gm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ig=(y,_,T)=>{const P=T.substring(0,T.length-y.length),V=parseFloat(P);return P===V.toString()?_(V):Hi.invalid(T)},cf={...Hi,from:y=>Jt(y,"%")?Ig("%",Hi.percent,y):Jt(y,"px")?Ig("px",Hi.pixels,y):Hi.invalid(y)},bm=(y,_,T)=>{const P=cf.from(T),V=Zt(y,W=>W==="0px")?((W,Q)=>{const oe=W.fold(()=>G(""),pe=>G(pe/Q+"px"),()=>G(100/Q+"%"));return Ne(Q,oe)})(P,y.length):((W,Q,oe)=>W.fold(()=>Q,pe=>((De,He,Ee)=>{const Ie=Ee/He;return D(De,Pe=>cf.from(Pe).fold(()=>Pe,Je=>Je*Ie+"px",Je=>Je/100*Ee+"px"))})(Q,oe,pe),pe=>((De,He)=>D(De,Ee=>cf.from(Ee).fold(()=>Ee,Ie=>Ie/He*100+"%",Ie=>Ie+"%")))(Q,oe)))(P,y,_);return Xy(V)},A1=(y,_)=>y.length===0?_:gn(y,(T,P)=>cf.from(P).fold(G(0),ee,ee)+T,0),Yw=(y,_)=>cf.from(y).fold(G(y),T=>T+_+"px",T=>T+_+"%"),Xy=y=>{if(y.length===0)return y;const _=gn(y,(P,V)=>{const W=cf.from(V).fold(()=>({value:V,remainder:0}),Q=>((oe,pe)=>{const De=Math.floor(oe);return{value:De+"px",remainder:oe-De}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[W.value].concat(P.output),remainder:P.remainder+W.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([Yw(T[T.length-1],Math.round(_.remainder))])},vm=cf.from,Ir=(y,_,T)=>{const P=bo(y),V=P.all,W=Dn(P),Q=nc(P);_.each(oe=>{const pe=vm(oe).fold(G("px"),G("px"),G("%")),De=tl(y),He=((Ie,Pe)=>Xs(Ie,Pe,wi,Ah))(P,y),Ee=bm(He,De,oe);oc(P)?((Ie,Pe,Je)=>{yt(Pe,(tt,Et)=>{const Ot=A1([Ie[Et]],pl());fo(tt.element,"width",Ot+Je)})})(Ee,Q,pe):((Ie,Pe,Je)=>{yt(Pe,tt=>{const Et=Ie.slice(tt.column,tt.colspan+tt.column),Ot=A1(Et,pl());fo(tt.element,"width",Ot+Je)})})(Ee,W,pe),fo(y,"width",oe)}),T.each(oe=>{const pe=rd(y),De=((He,Ee)=>_a(He,Ee,li,Ah))(P,y);((He,Ee,Ie)=>{yt(Ie,Pe=>{Qi(Pe.element,"height")}),yt(Ee,(Pe,Je)=>{fo(Pe.element,"height",He[Je])})})(bm(De,pe,oe),V,W),fo(y,"height",oe)})},T1=y=>Pl(y).exists(_=>oa.test(_)),Xr=y=>Pl(y).exists(_=>Pn.test(_)),Ou=y=>Pl(y).isNone(),qc=y=>{io(y,"width"),io(y,"height")},Bg=y=>{const _=Gd(y);Ir(y,re.some(_),re.none()),qc(y)},sl=y=>{const _=(T=>tl(T)+"px")(y);Ir(y,re.some(_),re.none()),qc(y)},qa=y=>{Qi(y,"width");const _=tc(y),T=_.length>0?_:ms(y);yt(T,P=>{Qi(P,"width"),qc(P)}),qc(y)},ym={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},vb=(y,_,T,P)=>Ne(y,V=>((W,Q,oe,pe)=>{const De=Vt.fromTag("tr");for(let He=0;He<W;He++){const Ee=Vt.fromTag(pe<Q||He<oe?"th":"td");He<oe&&ur(Ee,"scope","row"),pe<Q&&ur(Ee,"scope","col"),ts(Ee,Vt.fromTag("br")),ts(De,Ee)}return De})(_,T,P,V)),Mg=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},yb=(y,_,T,P,V)=>{const W=(oe=>{const pe=oe.options,De=pe.get("table_default_styles");return pe.isSet("table_default_styles")?De:((He,Ee)=>Z(He)||!Oe(He)?Ee:N(He)?{...Ee,width:Uc(He)}:{...Ee,width:Tl})(oe,De)})(y),Q={styles:W,attributes:Tt(y),colGroups:Ln(y)};return y.undoManager.ignore(()=>{const oe=((De,He,Ee,Ie,Pe,Je=ym)=>{const tt=Vt.fromTag("table"),Et=Pe!=="cells";hl(tt,Je.styles),bi(tt,Je.attributes),Je.colGroups&&ts(tt,(Ut=>{const qt=Vt.fromTag("colgroup");return Ne(Ut,()=>ts(qt,Vt.fromTag("col"))),qt})(He));const Ot=Math.min(De,Ee);if(Et&&Ee>0){const Ut=Vt.fromTag("thead");ts(tt,Ut);const qt=vb(Ee,He,Pe==="sectionCells"?Ot:0,Ie);ml(Ut,qt)}const kt=Vt.fromTag("tbody");ts(tt,kt);const Rt=vb(Et?De-Ot:De,He,Et?0:Ee,Ie);return ml(kt,Rt),tt})(T,_,V,P,im(y),Q);ur(oe,"data-mce-id","__mce");const pe=(De=>{const He=Vt.fromTag("div"),Ee=Vt.fromDom(De.dom.cloneNode(!0));return ts(He,Ee),(Ie=>Ie.dom.innerHTML)(He)})(oe);y.insertContent(pe),y.addVisual()}),ot(Jo(y),'table[data-mce-id="__mce"]').map(oe=>(N(y)?sl(oe):Z(y)?qa(oe):(ku(y)||(pe=>b(pe)&&pe.indexOf("%")!==-1)(W.width))&&Bg(oe),cs(oe),io(oe,"data-mce-id"),((pe,De)=>{yt(vr(De,"tr"),He=>{Gy(pe,He.dom),yt(vr(He,"th,td"),Ee=>{bb(pe,Ee.dom)})})})(y,oe),((pe,De)=>{ot(De,"td,th").each(me(Mg,pe))})(y,oe),oe.dom)).getOrNull()};var Pg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xw="x-tinymce/dom-table-",Jy=Xw+"rows",Qy=Xw+"columns",Jw=y=>{const _=Pg.FakeClipboardItem(y);Pg.write([_])},Ga=y=>{var _;const T=(_=Pg.read())!==null&&_!==void 0?_:[];return J(T,P=>re.from(P.getType(y)))},xm=y=>{Ga(y).isSome()&&Pg.clear()},Qw=y=>{y.fold(Vi,_=>Jw({[Jy]:_}))},gc=()=>Ga(Jy),Vi=()=>xm(Jy),Lg=y=>{y.fold(eC,_=>Jw({[Qy]:_}))},Vh=()=>Ga(Qy),eC=()=>xm(Qy),bs=y=>nf(ac(y),Rs(y)).filter(l1),vs=(y,_)=>{const T=Rs(y),P=Ee=>el(Ee,T),V=Ee=>(Ie=>ns(ac(Ie),Rs(Ie)).filter(l1))(y).bind(Ie=>P(Ie).map(Pe=>Ee(Pe,Ie))),W=Ee=>{y.focus()},Q=(Ee,Ie=!1)=>V((Pe,Je)=>{const tt=go(lc(y),Pe,Je);Ee(Pe,tt,Ie).each(W)}),oe=()=>V((Ee,Ie)=>((Pe,Je,tt)=>{const Et=bo(Pe);return cd(Et,Je).bind(Ot=>{const kt=us(Et,tt,!1),Rt=Lr(kt).rows.slice(Ot[0].row,Ot[Ot.length-1].row+Ot[Ot.length-1].rowspan),Ut=bt(Rt,nt=>{const mn=ln(nt.cells,Vn=>!Vn.isLocked);return mn.length>0?[{...nt,cells:mn}]:[]}),qt=ab(Ut);return nn(qt.length>0,qt)}).map(Ot=>D(Ot,kt=>{const Rt=Xf(kt.element);return yt(kt.cells,Ut=>{const qt=Rc(Ut.element);ld(qt,"colspan",Ut.colspan,1),ld(qt,"rowspan",Ut.rowspan,1),ts(Rt,qt)}),Rt}))})(Ee,go(lc(y),Ee,Ie),Fr($,Vt.fromDom(y.getDoc()),re.none()))),pe=()=>V((Ee,Ie)=>((Pe,Je)=>{const tt=bo(Pe);return ka(tt,Je).map(Et=>{const Ot=Et[Et.length-1],kt=Et[0].column,Rt=Ot.column+Ot.colspan,Ut=((nt,mn,Vn)=>{if(oc(nt)){const co=ln(nc(nt),Ea(mn,Vn)),jn=D(co,lo=>{const Bo=Rc(lo.element);return E1(Bo,"span",Vn-mn),Bo}),$n=Vt.fromTag("colgroup");return ml($n,jn),[$n]}return[]})(tt,kt,Rt),qt=((nt,mn,Vn)=>D(nt.all,co=>{const jn=ln(co.cells,Ea(mn,Vn)),$n=D(jn,Bo=>{const $s=Rc(Bo.element);return E1($s,"colspan",Vn-mn),$s}),lo=Vt.fromTag("tr");return ml(lo,$n),lo}))(tt,kt,Rt);return[...Ut,...qt]})})(Ee,go(lc(y),Ee,Ie))),De=(Ee,Ie)=>Ie().each(Pe=>{const Je=D(Pe,tt=>Rc(tt));V((tt,Et)=>{const Ot=fr(Vt.fromDom(y.getDoc())),kt=((Rt,Ut,qt,nt)=>({selection:ef(Rt),clipboard:qt,generators:nt}))(lc(y),0,Je,Ot);Ee(tt,kt).each(W)})}),He=Ee=>(Ie,Pe)=>((Je,tt)=>Me(Je,tt)?re.from(Je[tt]):re.none())(Pe,"type").each(Je=>{Q(Ee(Je),Pe.no_events)});Ko({mceTableSplitCells:()=>Q(_.unmergeCells),mceTableMergeCells:()=>Q(_.mergeCells),mceTableInsertRowBefore:()=>Q(_.insertRowsBefore),mceTableInsertRowAfter:()=>Q(_.insertRowsAfter),mceTableInsertColBefore:()=>Q(_.insertColumnsBefore),mceTableInsertColAfter:()=>Q(_.insertColumnsAfter),mceTableDeleteCol:()=>Q(_.deleteColumn),mceTableDeleteRow:()=>Q(_.deleteRow),mceTableCutCol:()=>pe().each(Ee=>{Lg(Ee),Q(_.deleteColumn)}),mceTableCutRow:()=>oe().each(Ee=>{Qw(Ee),Q(_.deleteRow)}),mceTableCopyCol:()=>pe().each(Ee=>Lg(Ee)),mceTableCopyRow:()=>oe().each(Ee=>Qw(Ee)),mceTablePasteColBefore:()=>De(_.pasteColsBefore,Vh),mceTablePasteColAfter:()=>De(_.pasteColsAfter,Vh),mceTablePasteRowBefore:()=>De(_.pasteRowsBefore,gc),mceTablePasteRowAfter:()=>De(_.pasteRowsAfter,gc),mceTableDelete:()=>bs(y).each(Ee=>{el(Ee,T).filter($e(T)).each(Ie=>{const Pe=Vt.fromText("");if(gu(Ie,Pe),Kr(Ie),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const Je=y.dom.createRng();Je.setStart(Pe.dom,0),Je.setEnd(Pe.dom,0),y.selection.setRng(Je),y.nodeChanged()}})}),mceTableCellToggleClass:(Ee,Ie)=>{V(Pe=>{const Je=lc(y),tt=Zt(Je,Ot=>y.formatter.match("tablecellclass",{value:Ie},Ot.dom)),Et=tt?y.formatter.remove:y.formatter.apply;yt(Je,Ot=>Et("tablecellclass",{value:Ie},Ot.dom)),fd(y,Pe.dom,k1)})},mceTableToggleClass:(Ee,Ie)=>{V(Pe=>{y.formatter.toggle("tableclass",{value:Ie},Pe.dom),fd(y,Pe.dom,k1)})},mceTableToggleCaption:()=>{bs(y).each(Ee=>{el(Ee,T).each(Ie=>{it(Ie,"caption").fold(()=>{const Pe=Vt.fromTag("caption");ts(Pe,Vt.fromText("Caption")),((Je,tt,Et)=>{mu(Je,0).fold(()=>{ts(Je,tt)},Ot=>{Qt(Ot,tt)})})(Ie,Pe),y.selection.setCursorLocation(Pe.dom,0)},Pe=>{Oo("caption")(Ee)&&kl("td",Ie).each(Je=>y.selection.setCursorLocation(Je.dom,0)),Kr(Pe)}),fd(y,Ie.dom,Qs)})})},mceTableSizingMode:(Ee,Ie)=>(Pe=>bs(y).each(Je=>{Z(y)||N(y)||ku(y)||el(Je,T).each(tt=>{Pe!=="relative"||T1(tt)?Pe!=="fixed"||Xr(tt)?Pe!=="responsive"||Ou(tt)||qa(tt):sl(tt):Bg(tt),cs(tt),fd(y,tt.dom,Qs)})}))(Ie),mceTableCellType:He(Ee=>Ee==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:He(Ee=>Ee==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:He(Ee=>{switch(Ee){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Ee,Ie)=>y.addCommand(Ie,Ee)),y.addCommand("mceInsertTable",(Ee,Ie)=>{((Pe,Je,tt,Et={})=>{const Ot=kt=>U(kt)&&kt>0;if(Ot(Je)&&Ot(tt)){const kt=Et.headerRows||0,Rt=Et.headerColumns||0;return yb(Pe,tt,Je,Rt,kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ie.rows,Ie.columns,Ie.options)}),y.addCommand("mceTableApplyCellStyle",(Ee,Ie)=>{const Pe=Et=>"tablecell"+Et.toLowerCase().replace("-","");if(!p(Ie))return;const Je=ln(lc(y),l1);if(Je.length===0)return;const tt=((Et,Ot)=>{const kt={};return((Rt,Ut,qt,nt)=>{Ko(Rt,(mn,Vn)=>{(Ut(mn,Vn)?qt:nt)(mn,Vn)})})(Et,Ot,(Rt=>(Ut,qt)=>{Rt[qt]=Ut})(kt),$),kt})(Ie,(Et,Ot)=>y.formatter.has(Pe(Ot))&&b(Et));(Et=>{for(const Ot in Et)if(br.call(Et,Ot))return!1;return!0})(tt)||(Ko(tt,(Et,Ot)=>{const kt=Pe(Ot);yt(Je,Rt=>{Et===""?y.formatter.remove(kt,{value:null},Rt.dom,!0):y.formatter.apply(kt,{value:Et},Rt.dom)})}),P(Je[0]).each(Et=>fd(y,Et.dom,k1)))})},Vs=gm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xr={before:Vs.before,on:Vs.on,after:Vs.after,cata:(y,_,T,P)=>y.fold(_,T,P),getStart:y=>y.fold(ee,ee,ee)},ds=(y,_)=>({selection:y,kill:_}),Bs=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},O1=(y,_)=>{const T=y.document.createRange();return D1(T,_),T},D1=(y,_)=>y.selectNodeContents(_.dom),ex=(y,_,T)=>{const P=y.document.createRange();var V;return V=P,_.fold(W=>{V.setStartBefore(W.dom)},(W,Q)=>{V.setStart(W.dom,Q)},W=>{V.setStartAfter(W.dom)}),((W,Q)=>{Q.fold(oe=>{W.setEndBefore(oe.dom)},(oe,pe)=>{W.setEnd(oe.dom,pe)},oe=>{W.setEndAfter(oe.dom)})})(P,T),P},xb=(y,_,T,P,V)=>{const W=y.document.createRange();return W.setStart(_.dom,T),W.setEnd(P.dom,V),W},tx=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Fg=gm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),R1=(y,_,T)=>_(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset),N1=(y,_)=>{const T=((P,V)=>V.match({domRange:W=>({ltr:G(W),rtl:re.none}),relative:(W,Q)=>({ltr:ua(()=>ex(P,W,Q)),rtl:ua(()=>re.some(ex(P,Q,W)))}),exact:(W,Q,oe,pe)=>({ltr:ua(()=>xb(P,W,Q,oe,pe)),rtl:ua(()=>re.some(xb(P,oe,pe,W,Q)))})}))(y,_);return((P,V)=>{const W=V.ltr();return W.collapsed?V.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Fg.rtl(Vt.fromDom(Q.endContainer),Q.endOffset,Vt.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>R1(0,Fg.ltr,W)):R1(0,Fg.ltr,W)})(0,T)},nx=(y,_)=>N1(y,_).match({ltr:(T,P,V,W)=>{const Q=y.document.createRange();return Q.setStart(T.dom,P),Q.setEnd(V.dom,W),Q},rtl:(T,P,V,W)=>{const Q=y.document.createRange();return Q.setStart(V.dom,W),Q.setEnd(T.dom,P),Q}});Fg.ltr,Fg.rtl;const wb=(y,_,T,P)=>({start:y,soffset:_,finish:T,foffset:P}),al=(y,_,T,P)=>({start:xr.on(y,_),finish:xr.on(T,P)}),ox=(y,_)=>{const T=nx(y,_);return wb(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset)},ki=al,Cb=(y,_,T,P,V)=>Tr(T,P)?re.none():Wc(T,P,_).bind(W=>{const Q=W.boxes.getOr([]);return Q.length>1?(V(y,Q,W.start,W.finish),re.some(ds(re.some(ki(T,0,T,Os(T))),!0))):re.none()}),zg=(y,_)=>({item:y,mode:_}),Gc=(y,_,T,P=Ms)=>y.property().parent(_).map(V=>zg(V,P)),Ms=(y,_,T,P=wm)=>T.sibling(y,_).map(V=>zg(V,P)),wm=(y,_,T,P=wm)=>{const V=y.property().children(_);return T.first(V).map(W=>zg(W,P))},rx=[{current:Gc,next:Ms,fallback:re.none()},{current:Ms,next:wm,fallback:re.some(Gc)},{current:wm,next:wm,fallback:re.some(Ms)}],sx=(y,_,T,P,V=rx)=>On(V,W=>W.current===T).bind(W=>W.current(y,_,P,W.next).orThunk(()=>W.fallback.bind(Q=>sx(y,_,Q,P)))),_b=(y,_,T,P,V,W)=>sx(y,_,P,V).bind(Q=>W(Q.item)?re.none():T(Q.item)?re.some(Q.item):_b(y,Q.item,T,Q.mode,V,W)),md=y=>_=>y.property().children(_).length===0,Sk=(y,_,T,P)=>_b(y,_,T,Ms,{sibling:(V,W)=>V.query().prevSibling(W),first:V=>V.length>0?re.some(V[V.length-1]):re.none()},P),Sb=(y,_,T,P)=>_b(y,_,T,Ms,{sibling:(V,W)=>V.query().nextSibling(W),first:V=>V.length>0?re.some(V[0]):re.none()},P),Cm=Xd(),tC=(y,_)=>((T,P,V)=>Sk(T,P,md(T),V))(Cm,y,_),kb=(y,_)=>((T,P,V)=>Sb(T,P,md(T),V))(Cm,y,_),Eb=gm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),I1=y=>je(y,"tr"),$h={...Eb,verify:(y,_,T,P,V,W,Q)=>je(P,"td,th",Q).bind(oe=>je(_,"td,th",Q).map(pe=>Tr(oe,pe)?Tr(P,oe)&&Os(oe)===V?W(pe):Eb.none("in same cell"):Jd(I1,[oe,pe]).fold(()=>((De,He,Ee)=>{const Ie=De.getRect(He),Pe=De.getRect(Ee);return Pe.right>Ie.left&&Pe.left<Ie.right})(y,pe,oe)?Eb.success():W(pe),De=>W(pe)))).getOr(Eb.none("default")),cata:(y,_,T,P,V)=>y.fold(_,T,P,V)},B1=Oo("br"),Ei=(y,_,T)=>_(y,T).bind(P=>ao(P)&&am(P).trim().length===0?Ei(P,_,T):re.some(P)),ax=(y,_,T,P)=>((V,W)=>mu(V,W).filter(B1).orThunk(()=>mu(V,W-1).filter(B1)))(_,T).bind(V=>P.traverse(V).fold(()=>Ei(V,P.gather,y).map(P.relative),W=>(Q=>Xi(Q).bind(oe=>{const pe=ca(oe);return((De,He)=>nr(De,me(Tr,He)))(pe,Q).map(De=>((He,Ee,Ie,Pe)=>({parent:He,children:Ee,element:Ie,index:Pe}))(oe,pe,Q,De))}))(W).map(Q=>xr.on(Q.parent,Q.index)))),gd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),Ab=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Du=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),Tb=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Ob=(y,_)=>re.some(y.getRect(_)),_m=(y,_,T)=>En(_)?Ob(y,_).map(Tb):ao(_)?((P,V,W)=>W>=0&&W<Os(V)?P.getRangedRect(V,W,V,W+1):W>0?P.getRangedRect(V,W-1,V,W):re.none())(y,_,T).map(Tb):re.none(),Hg=(y,_)=>En(_)?Ob(y,_).map(Tb):ao(_)?y.getRangedRect(_,0,_,Os(_)).map(Tb):re.none(),hc=gm([{none:[]},{retry:["caret"]}]),Db=(y,_,T)=>Ye(_,Og).fold(te,P=>Hg(y,P).exists(V=>((W,Q)=>W.left<Q.left||Math.abs(Q.right-W.left)<1||W.left>Q.right)(T,V))),kk={point:y=>y.bottom,adjuster:(y,_,T,P,V)=>{const W=gd(V,5);return Math.abs(T.bottom-P.bottom)<1||T.top>V.bottom?hc.retry(W):T.top===V.bottom?hc.retry(gd(V,1)):Db(y,_,V)?hc.retry(Du(W,5,0)):hc.none()},move:gd,gather:kb},Hl=(y,_,T,P,V)=>V===0?re.some(P):((W,Q,oe)=>W.elementFromPoint(Q,oe).filter(pe=>zt(pe)==="table").isSome())(y,P.left,_.point(P))?((W,Q,oe,pe,De)=>Hl(W,Q,oe,Q.move(pe,5),De))(y,_,T,P,V-1):y.situsFromPoint(P.left,_.point(P)).bind(W=>W.start.fold(re.none,Q=>Hg(y,Q).bind(oe=>_.adjuster(y,Q,oe,T,P).fold(re.none,pe=>Hl(y,_,T,pe,V-1))).orThunk(()=>re.some(P)),re.none)),hd=(y,_,T)=>{const P=y.move(T,5),V=Hl(_,y,T,P,100).getOr(P);return((W,Q,oe)=>W.point(Q)>oe.getInnerHeight()?re.some(W.point(Q)-oe.getInnerHeight()):W.point(Q)<0?re.some(-W.point(Q)):re.none())(y,V,_).fold(()=>_.situsFromPoint(V.left,y.point(V)),W=>(_.scrollBy(0,W),_.situsFromPoint(V.left,y.point(V)-W)))},pc={tryUp:me(hd,{point:y=>y.top,adjuster:(y,_,T,P,V)=>{const W=Ab(V,5);return Math.abs(T.top-P.top)<1||T.bottom<V.top?hc.retry(W):T.bottom===V.top?hc.retry(Ab(V,1)):Db(y,_,V)?hc.retry(Du(W,5,0)):hc.none()},move:Ab,gather:tC}),tryDown:me(hd,kk),getJumpSize:G(5)},ix=(y,_,T)=>y.getSelection().bind(P=>((V,W,Q,oe)=>(B1(W)?((De,He,Ee)=>Ee.traverse(He).orThunk(()=>Ei(He,Ee.gather,De)).map(Ee.relative))(V,W,oe):ax(V,W,Q,oe)).map(De=>({start:De,finish:De})))(_,P.finish,P.foffset,T).fold(()=>re.some(to(P.finish,P.foffset)),V=>{const W=y.fromSitus(V);return Q=$h.verify(y,P.finish,P.foffset,W.finish,W.foffset,T.failure,_),$h.cata(Q,oe=>re.none(),()=>re.none(),oe=>re.some(to(oe,0)),oe=>re.some(to(oe,Os(oe))));var Q})),sa=(y,_,T,P,V,W)=>W===0?re.none():Ek(y,_,T,P,V).bind(Q=>{const oe=y.fromSitus(Q),pe=$h.verify(y,T,P,oe.finish,oe.foffset,V.failure,_);return $h.cata(pe,()=>re.none(),()=>re.some(Q),De=>Tr(T,De)&&P===0?bc(y,T,P,Ab,V):sa(y,_,De,0,V,W-1),De=>Tr(T,De)&&P===Os(De)?bc(y,T,P,gd,V):sa(y,_,De,Os(De),V,W-1))}),bc=(y,_,T,P,V)=>_m(y,_,T).bind(W=>il(y,V,P(W,pc.getJumpSize()))),il=(y,_,T)=>{const P=s1().browser;return P.isChromium()||P.isSafari()||P.isFirefox()?_.retry(y,T):re.none()},Ek=(y,_,T,P,V)=>_m(y,T,P).bind(W=>il(y,V,W)),uf=(y,_,T,P,V)=>je(P,"td,th",_).bind(W=>je(W,"table",_).bind(Q=>((oe,pe)=>Se(oe,De=>Xi(De).exists(He=>Tr(He,pe)),void 0).isSome())(V,Q)?((oe,pe,De)=>ix(oe,pe,De).bind(He=>sa(oe,pe,He.element,He.offset,De,20).map(oe.fromSitus)))(y,_,T).bind(oe=>je(oe.finish,"td,th",_).map(pe=>({start:W,finish:pe,range:oe}))):re.none())),pd=(y,_,T,P,V,W)=>W(P,_).orThunk(()=>uf(y,_,T,P,V).map(Q=>{const oe=Q.range;return ds(re.some(ki(oe.start,oe.soffset,oe.finish,oe.foffset)),!0)})),Uh=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=vr(P,"tr");return Tr(T,V[0])?((W,Q,oe)=>Sk(Cm,W,pe=>$c(pe).isSome(),oe))(P,0,_).map(W=>{const Q=Os(W);return ds(re.some(ki(W,Q,W,Q)),!0)}):re.none()})),Sm=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=vr(P,"tr");return Tr(T,V[V.length-1])?((W,Q,oe)=>Sb(Cm,W,pe=>xg(pe).isSome(),oe))(P,0,_).map(W=>ds(re.some(ki(W,0,W,0)),!0)):re.none()})),Ol=(y,_,T,P,V,W,Q)=>uf(y,T,P,V,W).bind(oe=>Cb(_,T,oe.start,oe.finish,Q)),M1=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},P1=()=>{const y=(_=>{const T=M1(re.none()),P=()=>T.get().each(_);return{clear:()=>{P(),T.set(re.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:V=>{P(),T.set(re.some(V))}}})($);return{...y,on:_=>y.get().each(_)}},Rb=(y,_)=>je(y,"td,th",_),L1=y=>fu(y).exists(Yn),nC={traverse:El,gather:kb,relative:xr.before,retry:pc.tryDown,failure:$h.failedDown},Nb={traverse:Gn,gather:tC,relative:xr.before,retry:pc.tryUp,failure:$h.failedUp},bd=y=>_=>_===y,Ib=bd(38),Vg=bd(40),$g=y=>y>=37&&y<=40,df={isBackward:bd(37),isForward:bd(39)},ff={isBackward:bd(39),isForward:bd(37)},Bb=gm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mf={domRange:Bb.domRange,relative:Bb.relative,exact:Bb.exact,exactFromRange:y=>Bb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:P=>Vt.fromDom(P.startContainer),relative:(P,V)=>xr.getStart(P),exact:(P,V,W,Q)=>P}))(y);return Vt.fromDom(ec(_).dom.defaultView)},range:wb},gf=(y,_)=>{const T=zt(y);return T==="input"?xr.after(y):rt(["br","img"],T)?_===0?xr.before(y):xr.after(y):xr.on(y,_)},hf=y=>re.from(y.getSelection()),Ug=(y,_)=>{hf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},F1=(y,_,T,P,V)=>{const W=xb(y,_,T,P,V);Ug(y,W)},Wh=(y,_)=>N1(y,_).match({ltr:(T,P,V,W)=>{F1(y,T,P,V,W)},rtl:(T,P,V,W)=>{hf(y).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(T.dom,P,V.dom,W);else if(Q.extend)try{((oe,pe,De,He,Ee,Ie)=>{pe.collapse(De.dom,He),pe.extend(Ee.dom,Ie)})(0,Q,T,P,V,W)}catch{F1(y,V,W,T,P)}else F1(y,V,W,T,P)})}}),z1=(y,_,T,P,V)=>{const W=((Q,oe,pe,De)=>{const He=gf(Q,oe),Ee=gf(pe,De);return mf.relative(He,Ee)})(_,T,P,V);Wh(y,W)},lx=(y,_,T)=>{const P=((V,W)=>{const Q=V.fold(xr.before,gf,xr.after),oe=W.fold(xr.before,gf,xr.after);return mf.relative(Q,oe)})(_,T);Wh(y,P)},Zh=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return re.some(wb(Vt.fromDom(_.startContainer),_.startOffset,Vt.fromDom(T.endContainer),T.endOffset))}return re.none()},aa=y=>{if(y.anchorNode===null||y.focusNode===null)return Zh(y);{const _=Vt.fromDom(y.anchorNode),T=Vt.fromDom(y.focusNode);return((P,V,W,Q)=>{const oe=((De,He,Ee,Ie)=>{const Pe=du(De).dom.createRange();return Pe.setStart(De.dom,He),Pe.setEnd(Ee.dom,Ie),Pe})(P,V,W,Q),pe=Tr(P,W)&&V===Q;return oe.collapsed&&!pe})(_,y.anchorOffset,T,y.focusOffset)?re.some(wb(_,y.anchorOffset,T,y.focusOffset)):Zh(y)}},cx=(y,_,T=!0)=>{const P=(T?O1:Bs)(y,_);Ug(y,P)},oC=y=>(_=>hf(_).filter(T=>T.rangeCount>0).bind(aa))(y).map(_=>mf.exact(_.start,_.soffset,_.finish,_.foffset)),ux=(y,_,T)=>((P,V,W)=>((Q,oe,pe)=>Q.caretPositionFromPoint?((De,He,Ee)=>{var Ie;return re.from((Ie=De.caretPositionFromPoint)===null||Ie===void 0?void 0:Ie.call(De,He,Ee)).bind(Pe=>{if(Pe.offsetNode===null)return re.none();const Je=De.createRange();return Je.setStart(Pe.offsetNode,Pe.offset),Je.collapse(),re.some(Je)})})(Q,oe,pe):Q.caretRangeFromPoint?((De,He,Ee)=>{var Ie;return re.from((Ie=De.caretRangeFromPoint)===null||Ie===void 0?void 0:Ie.call(De,He,Ee))})(Q,oe,pe):re.none())(P.document,V,W).map(Q=>wb(Vt.fromDom(Q.startContainer),Q.startOffset,Vt.fromDom(Q.endContainer),Q.endOffset)))(y,_,T),dx=y=>({elementFromPoint:(_,T)=>Vt.fromPoint(Vt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,P,V)=>{const W=mf.exact(_,T,P,V);return((Q,oe)=>(pe=>{const De=pe.getClientRects(),He=De.length>0?De[0]:pe.getBoundingClientRect();return He.width>0||He.height>0?re.some(He).map(tx):re.none()})(nx(Q,oe)))(y,W)},getSelection:()=>oC(y).map(_=>ox(y,_)),fromSitus:_=>{const T=mf.relative(_.start,_.finish);return ox(y,T)},situsFromPoint:(_,T)=>ux(y,_,T).map(P=>al(P.start,P.soffset,P.finish,P.foffset)),clearSelection:()=>{(_=>{hf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{oC(y).each(T=>T.fold(P=>P.collapse(_),(P,V)=>{const W=_?P:V;lx(y,W,W)},(P,V,W,Q)=>{const oe=_?P:W,pe=_?V:Q;z1(y,oe,pe,oe,pe)}))},setSelection:_=>{z1(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{lx(y,_,T)},selectNode:_=>{cx(y,_,!1)},selectContents:_=>{cx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,P=T.body.scrollLeft||T.documentElement.scrollLeft,V=T.body.scrollTop||T.documentElement.scrollTop;return Pi(P,V)})(Vt.fromDom(y.document)).top,scrollBy:(_,T)=>{((P,V,W)=>{const Q=(W!==void 0?W.dom:document).defaultView;Q&&Q.scrollBy(P,V)})(_,T,Vt.fromDom(y.document))}}),pf=(y,_)=>({rows:y,cols:_}),H1=y=>Ye(y,Cn).exists(Yn),Mb=(y,_)=>H1(y)||H1(_),fx=y=>y.dom.classList!==void 0,Ak=(y,_)=>((T,P,V)=>{const W=((Q,oe)=>{const pe=cn(Q,oe);return pe===void 0||pe===""?[]:pe.split(" ")})(T,P).concat([V]);return ur(T,P,W.join(" ")),!0})(y,"class",_),bf=(y,_)=>{fx(y)?y.dom.classList.add(_):Ak(y,_)},Pb=(y,_)=>fx(y)&&y.dom.classList.contains(_),rC=()=>({tag:"none"}),sC=y=>({tag:"multiple",elements:y}),Yc=y=>({tag:"single",element:y}),mx=y=>{const _=Vt.fromDom((oe=>{if(R(oe.target)){const pe=Vt.fromDom(oe.target);if(En(pe)&&R(pe.dom.shadowRoot)&&oe.composed&&oe.composedPath){const De=oe.composedPath();if(De)return xn(De)}}return re.from(oe.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),P=()=>y.preventDefault(),V=(W=P,Q=T,(...oe)=>W(Q.apply(null,oe)));var W,Q;return((oe,pe,De,He,Ee,Ie,Pe)=>({target:oe,x:pe,y:De,stop:He,prevent:Ee,kill:Ie,raw:Pe}))(_,y.clientX,y.clientY,T,P,V,y)},V1=(y,_,T,P)=>{y.dom.removeEventListener(_,T,P)},aC=Ae,Wg=(y,_,T)=>((P,V,W,Q)=>((oe,pe,De,He,Ee)=>{const Ie=((Pe,Je)=>tt=>{Pe(tt)&&Je(mx(tt))})(De,He);return oe.dom.addEventListener(pe,Ie,Ee),{unbind:me(V1,oe,pe,Ie,Ee)}})(P,V,W,Q,!1))(y,_,aC,T),jh=mx,Lb=y=>!Pb(Vt.fromDom(y.target),"ephox-snooker-resizer-bar"),iC=(y,_)=>{const T=(V=tf.selectedSelector,{get:()=>ic(Vt.fromDom(y.getBody()),V).fold(()=>ns(ac(y),Rs(y)).fold(rC,Yc),sC)}),P=((W,Q,oe)=>{const pe=Ie=>{io(Ie,W.selected),io(Ie,W.firstSelected),io(Ie,W.lastSelected)},De=Ie=>{ur(Ie,W.selected,"1")},He=Ie=>{Ee(Ie),oe()},Ee=Ie=>{const Pe=vr(Ie,`${W.selectedSelector},${W.firstSelectedSelector},${W.lastSelectedSelector}`);yt(Pe,pe)};return{clearBeforeUpdate:Ee,clear:He,selectRange:(Ie,Pe,Je,tt)=>{He(Ie),yt(Pe,De),ur(Je,W.firstSelected,"1"),ur(tt,W.lastSelected,"1"),Q(Pe,Je,tt)},selectedSelector:W.selectedSelector,firstSelectedSelector:W.firstSelectedSelector,lastSelectedSelector:W.lastSelectedSelector}})(tf,(W,Q,oe)=>{el(Q).each(pe=>{const De=D(W,Pe=>Pe.dom),He=ad(y),Ee=Fr($,Vt.fromDom(y.getDoc()),He),Ie=((Pe,Je,tt)=>{const Et=bo(Pe);return cd(Et,Je).map(Ot=>{const kt=us(Et,tt,!1),{rows:Rt}=Lr(kt),Ut=((nt,mn)=>{const Vn=nt.slice(0,mn[mn.length-1].row+1),co=ab(Vn);return bt(co,jn=>{const $n=jn.cells.slice(0,mn[mn.length-1].column+1);return D($n,lo=>lo.element)})})(Rt,Ot),qt=((nt,mn)=>{const Vn=nt.slice(mn[0].row+mn[0].rowspan-1,nt.length),co=ab(Vn);return bt(co,jn=>{const $n=jn.cells.slice(mn[0].column+mn[0].colspan-1,jn.cells.length);return D($n,lo=>lo.element)})})(Rt,Ot);return{upOrLeftCells:Ut,downOrRightCells:qt}})})(pe,{selection:lc(y)},Ee).map(Pe=>oi(Pe,Je=>D(Je,tt=>tt.dom))).getOrUndefined();((Pe,Je,tt,Et,Ot)=>{Pe.dispatch("TableSelectionChange",{cells:Je,start:tt,finish:Et,otherCells:Ot})})(y,De,Q.dom,oe.dom,Ie)})},()=>(W=>{W.dispatch("TableSelectionClear")})(y));var V;return y.on("init",W=>{const Q=y.getWin(),oe=Jo(y),pe=Rs(y),De=((tt,Et,Ot,kt)=>{const Rt=((Ut,qt,nt,mn)=>{const Vn=P1(),co=Vn.clear,jn=$n=>{Vn.on(lo=>{mn.clearBeforeUpdate(qt),Rb($n.target,nt).each(Bo=>{Wc(lo,Bo,nt).each($s=>{const ui=$s.boxes.getOr([]);if(ui.length===1){const Aa=ui[0],Vl=_n(Aa)==="false",Tm=Lt(so($n.target),Aa,Tr);Vl&&Tm&&mn.selectRange(qt,ui,Aa,Aa)}else ui.length>1&&(mn.selectRange(qt,ui,$s.start,$s.finish),Ut.selectContents(Bo))})})})};return{clearstate:co,mousedown:$n=>{mn.clear(qt),Rb($n.target,nt).filter(L1).each(Vn.set)},mouseover:$n=>{jn($n)},mouseup:$n=>{jn($n),co()}}})(dx(tt),Et,Ot,kt);return{clearstate:Rt.clearstate,mousedown:Rt.mousedown,mouseover:Rt.mouseover,mouseup:Rt.mouseup}})(Q,oe,pe,P),He=((tt,Et,Ot,kt)=>{const Rt=dx(tt),Ut=()=>(kt.clear(Et),re.none());return{keydown:(qt,nt,mn,Vn,co,jn)=>{const $n=qt.raw,lo=$n.which,Bo=$n.shiftKey===!0;return ob(Et,kt.selectedSelector).fold(()=>($g(lo)&&!Bo&&kt.clearBeforeUpdate(Et),$g(lo)&&Bo&&!Mb(nt,Vn)?re.none:Vg(lo)&&Bo?me(Ol,Rt,Et,Ot,nC,Vn,nt,kt.selectRange):Ib(lo)&&Bo?me(Ol,Rt,Et,Ot,Nb,Vn,nt,kt.selectRange):Vg(lo)?me(pd,Rt,Ot,nC,Vn,nt,Sm):Ib(lo)?me(pd,Rt,Ot,Nb,Vn,nt,Uh):re.none),ui=>{const Aa=Vl=>()=>J(Vl,di=>((Ru,qh,xf,Gh,q1)=>ja(Gh,Ru,qh,q1.firstSelectedSelector,q1.lastSelectedSelector).map(wf=>(q1.clearBeforeUpdate(xf),q1.selectRange(xf,wf.boxes,wf.start,wf.finish),wf.boxes)))(di.rows,di.cols,Et,ui,kt)).fold(()=>Qd(Et,kt.firstSelectedSelector,kt.lastSelectedSelector).map(di=>{const Ru=Vg(lo)||jn.isForward(lo)?xr.after:xr.before;return Rt.setRelativeSelection(xr.on(di.first,0),Ru(di.table)),kt.clear(Et),ds(re.none(),!0)}),di=>re.some(ds(re.none(),!0)));return $g(lo)&&Bo&&!Mb(nt,Vn)?re.none:Vg(lo)&&Bo?Aa([pf(1,0)]):Ib(lo)&&Bo?Aa([pf(-1,0)]):jn.isBackward(lo)&&Bo?Aa([pf(0,-1),pf(-1,0)]):jn.isForward(lo)&&Bo?Aa([pf(0,1),pf(1,0)]):$g(lo)&&!Bo?Ut:re.none})()},keyup:(qt,nt,mn,Vn,co)=>ob(Et,kt.selectedSelector).fold(()=>{const jn=qt.raw,$n=jn.which;return jn.shiftKey===!0&&$g($n)&&Mb(nt,Vn)?((lo,Bo,$s,ui,Aa,Vl,Tm)=>Tr($s,Aa)&&ui===Vl?re.none():je($s,"td,th",Bo).bind(di=>je(Aa,"td,th",Bo).bind(Ru=>Cb(lo,Bo,di,Ru,Tm))))(Et,Ot,nt,mn,Vn,co,kt.selectRange):re.none()},re.none)}})(Q,oe,pe,P),Ee=((tt,Et,Ot,kt)=>{const Rt=dx(tt);return(Ut,qt)=>{kt.clearBeforeUpdate(Et),Wc(Ut,qt,Ot).each(nt=>{const mn=nt.boxes.getOr([]);kt.selectRange(Et,mn,nt.start,nt.finish),Rt.selectContents(qt),Rt.collapseSelection()})}})(Q,oe,pe,P);y.on("TableSelectorChange",tt=>Ee(tt.start,tt.finish));const Ie=(tt,Et)=>{(Ot=>Ot.raw.shiftKey===!0)(tt)&&(Et.kill&&tt.kill(),Et.selection.each(Ot=>{const kt=mf.relative(Ot.start,Ot.finish),Rt=nx(Q,kt);y.selection.setRng(Rt)}))},Pe=tt=>tt.button===0,Je=(()=>{const tt=M1(Vt.fromDom(oe)),Et=M1(0);return{touchEnd:Ot=>{const kt=Vt.fromDom(Ot.target);if(Oo("td")(kt)||Oo("th")(kt)){const Rt=tt.get(),Ut=Et.get();Tr(Rt,kt)&&Ot.timeStamp-Ut<300&&(Ot.preventDefault(),Ee(kt,kt))}tt.set(kt),Et.set(Ot.timeStamp)}}})();y.on("dragstart",tt=>{De.clearstate()}),y.on("mousedown",tt=>{Pe(tt)&&Lb(tt)&&De.mousedown(jh(tt))}),y.on("mouseover",tt=>{var Et;(Et=tt).buttons!==void 0&&!(1&Et.buttons)||!Lb(tt)||De.mouseover(jh(tt))}),y.on("mouseup",tt=>{Pe(tt)&&Lb(tt)&&De.mouseup(jh(tt))}),y.on("touchend",Je.touchEnd),y.on("keyup",tt=>{const Et=jh(tt);if(Et.raw.shiftKey&&$g(Et.raw.which)){const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer);He.keyup(Et,kt,Ot.startOffset,Rt,Ot.endOffset).each(Ut=>{Ie(Et,Ut)})}}),y.on("keydown",tt=>{const Et=jh(tt);_.hide();const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer),Ut=_o(df,ff)(Vt.fromDom(y.selection.getStart()));He.keydown(Et,kt,Ot.startOffset,Rt,Ot.endOffset,Ut).each(qt=>{Ie(Et,qt)}),_.show()}),y.on("NodeChange",()=>{const tt=y.selection,Et=Vt.fromDom(tt.getStart()),Ot=Vt.fromDom(tt.getEnd());Jd(el,[Et,Ot]).fold(()=>P.clear(oe),$)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(tf.firstSelected),y.serializer.addTempAttr(tf.lastSelected)}),{getSelectedCells:()=>((W,Q,oe,pe)=>{switch(W.tag){case"none":return Q();case"single":return(De=>[De.dom])(W.element);case"multiple":return(De=>D(De,He=>He.dom))(W.elements)}})(T.get(),G([])),clearSelectedCells:W=>P.clear(Vt.fromDom(W))}},Xc=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=ln(_,P=>P!==T)},trigger:(...T)=>{const P={};yt(y,(V,W)=>{P[V]=T[W]}),yt(_,V=>{V(P)})}}},km=y=>({registry:oi(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:oi(y,_=>_.trigger)}),Fb=y=>y.slice(0).sort(),zb=(y,_)=>{const T=ln(_,P=>!rt(y,P));T.length>0&&(P=>{throw new Error("Unsupported keys for object: "+Fb(P).join(", "))})(T)},$1=y=>((_,T)=>((P,V,W)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((Q,oe)=>{if(!x(oe))throw new Error("The "+Q+" fields must be an array. Was: "+oe+".");yt(oe,pe=>{if(!b(pe))throw new Error("The value "+pe+" in the "+Q+" fields was not a string.")})})("required",V),(Q=>{const oe=Fb(Q);On(oe,(pe,De)=>De<oe.length-1&&pe===oe[De+1]).each(pe=>{throw new Error("The field: "+pe+" occurs more than once in the combined fields: ["+oe.join(", ")+"].")})})(V),Q=>{const oe=sr(Q);Zt(V,De=>rt(oe,De))||((De,He)=>{throw new Error("All required keys ("+Fb(De).join(", ")+") were not specified. Specified keys were: "+Fb(He).join(", ")+".")})(V,oe),P(V,oe);const pe=ln(V,De=>!W.validate(Q[De],De));return pe.length>0&&((De,He)=>{throw new Error("All values need to be of type: "+He+". Keys ("+Fb(De).join(", ")+") were not.")})(pe,W.label),Q}})(_,T,{validate:z,label:"function"}))(zb,y),Hb=$1(["compare","extract","mutate","sink"]),Ya=$1(["element","start","stop","destroy"]),U1=$1(["forceDrop","drop","move","delayDrop"]),Em=()=>{const y=(()=>{const P=km({move:Xc(["info"])});return{onEvent:$,reset:$,events:P.registry}})(),_=(()=>{let P=re.none();const V=km({move:Xc(["info"])});return{onEvent:(W,Q)=>{Q.extract(W).each(oe=>{((De,He)=>{const Ee=P.map(Ie=>De.compare(Ie,He));return P=re.some(He),Ee})(Q,oe).each(De=>{V.trigger.move(De)})})},reset:()=>{P=re.none()},events:V.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(P,V)=>{T.onEvent(P,V)},events:_.events}},Am=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},Vb=Am("ephox-dragster").resolve;var W1=Hb({compare:(y,_)=>Pi(_.left-y.left,_.top-y.top),extract:y=>re.some(Pi(y.x,y.y)),sink:(y,_)=>{const T=(oe=>{const pe={layerClass:Vb("blocker"),...oe},De=Vt.fromTag("div");return ur(De,"role","presentation"),hl(De,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),bf(De,Vb("blocker")),bf(De,pe.layerClass),{element:G(De),destroy:()=>{Kr(De)}}})(_),P=Wg(T.element(),"mousedown",y.forceDrop),V=Wg(T.element(),"mouseup",y.drop),W=Wg(T.element(),"mousemove",y.move),Q=Wg(T.element(),"mouseout",y.delayDrop);return Ya({element:T.element,start:oe=>{ts(oe,T.element())},stop:()=>{Kr(T.element())},destroy:()=>{T.destroy(),V.unbind(),W.unbind(),Q.unbind(),P.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const Zg=Am("ephox-snooker").resolve,vf=Zg("resizer-bar"),gx=Zg("resizer-rows"),Z1=Zg("resizer-cols"),$i=y=>{const _=vr(y.parent(),"."+vf);yt(_,Kr)},yf=(y,_,T)=>{const P=y.origin();yt(_,V=>{V.each(W=>{const Q=T(P,W);bf(Q,vf),ts(y.parent(),Q)})})},hx=(y,_,T,P,V)=>{const W=Kd(T),Q=_.isResizable,oe=P.length>0?yu.positions(P,T):[],pe=oe.length>0?((Ee,Ie)=>bt(Ee.all,(Pe,Je)=>Ie(Pe.element)?[Je]:[]))(y,Q):[];((Ee,Ie,Pe,Je)=>{yf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,nt)=>{const mn=Vt.fromTag("div");return hl(mn,{position:"absolute",left:Rt+"px",top:Ut-3.5+"px",height:"7px",width:qt+"px"}),bi(mn,{"data-row":kt,role:"presentation"}),mn})(Et.row,Pe.left-tt.left,Et.y-tt.top,Je);return bf(Ot,gx),Ot})})(_,ln(oe,(Ee,Ie)=>Ce(pe,Pe=>Ie===Pe)),W,pg(T));const De=V.length>0?qd.positions(V,T):[],He=De.length>0?((Ee,Ie)=>{const Pe=[];return Ne(Ee.grid.columns,Je=>{ir(Ee,Je).map(tt=>tt.element).forall(Ie)&&Pe.push(Je)}),ln(Pe,Je=>{const tt=Ca(Ee,Et=>Et.column===Je);return Zt(tt,Et=>Ie(Et.element))})})(y,Q):[];((Ee,Ie,Pe,Je)=>{yf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,nt)=>{const mn=Vt.fromTag("div");return hl(mn,{position:"absolute",left:Rt-3.5+"px",top:Ut+"px",height:nt+"px",width:"7px"}),bi(mn,{"data-column":kt,role:"presentation"}),mn})(Et.col,Et.x-tt.left,Pe.top-tt.top,0,Je);return bf(Ot,Z1),Ot})})(_,ln(De,(Ee,Ie)=>Ce(He,Pe=>Ie===Pe)),W,qp(T))},mt=(y,_)=>{if($i(y),y.isResizable(_)){const T=bo(_),P=od(T),V=kh(T);hx(T,y,_,P,V)}},Kh=(y,_)=>{const T=vr(y.parent(),"."+vf);yt(T,_)},Tk=y=>{Kh(y,_=>{fo(_,"display","none")})},lC=y=>{Kh(y,_=>{fo(_,"display","block")})},j1=Zg("resizer-bar-dragging"),Jc=y=>{const _=(()=>{const Ee=km({drag:Xc(["xDelta","yDelta","target"])});let Ie=re.none();const Pe=(()=>{const Je=km({drag:Xc(["xDelta","yDelta"])});return{mutate:(tt,Et)=>{Je.trigger.drag(tt,Et)},events:Je.registry}})();return Pe.events.drag.bind(Je=>{Ie.each(tt=>{Ee.trigger.drag(Je.xDelta,Je.yDelta,tt)})}),{assign:Je=>{Ie=re.some(Je)},get:()=>Ie,mutate:Pe.mutate,events:Ee.registry}})(),T=((Ee,Ie={})=>{var Pe;return((Je,tt,Et)=>{let Ot=!1;const kt=km({start:Xc([]),stop:Xc([])}),Rt=Em(),Ut=()=>{mn.stop(),Rt.isOn()&&(Rt.off(),kt.trigger.stop())},qt=((Vn,co)=>{let jn=null;const $n=()=>{S(jn)||(clearTimeout(jn),jn=null)};return{cancel:$n,throttle:(...lo)=>{$n(),jn=setTimeout(()=>{jn=null,Vn.apply(null,lo)},200)}}})(Ut);Rt.events.move.bind(Vn=>{tt.mutate(Je,Vn.info)});const nt=Vn=>(...co)=>{Ot&&Vn.apply(null,co)},mn=tt.sink(U1({forceDrop:Ut,drop:nt(Ut),move:nt(Vn=>{qt.cancel(),Rt.onEvent(Vn,tt)}),delayDrop:nt(qt.throttle)}),Et);return{element:mn.element,go:Vn=>{mn.start(Vn),Rt.on(),kt.trigger.start()},on:()=>{Ot=!0},off:()=>{Ot=!1},isActive:()=>Ot,destroy:()=>{mn.destroy()},events:kt.registry}})(Ee,(Pe=Ie.mode)!==null&&Pe!==void 0?Pe:W1,Ie)})(_,{});let P=re.none();const V=(Ee,Ie)=>re.from(cn(Ee,Ie));_.events.drag.bind(Ee=>{V(Ee.target,"data-row").each(Ie=>{const Pe=Hd(Ee.target,"top");fo(Ee.target,"top",Pe+Ee.yDelta+"px")}),V(Ee.target,"data-column").each(Ie=>{const Pe=Hd(Ee.target,"left");fo(Ee.target,"left",Pe+Ee.xDelta+"px")})});const W=(Ee,Ie)=>Hd(Ee,Ie)-as(Ee,"data-initial-"+Ie,0);T.events.stop.bind(()=>{_.get().each(Ee=>{P.each(Ie=>{V(Ee,"data-row").each(Pe=>{const Je=W(Ee,"top");io(Ee,"data-initial-top"),He.trigger.adjustHeight(Ie,Je,parseInt(Pe,10))}),V(Ee,"data-column").each(Pe=>{const Je=W(Ee,"left");io(Ee,"data-initial-left"),He.trigger.adjustWidth(Ie,Je,parseInt(Pe,10))}),mt(y,Ie)})})});const Q=(Ee,Ie)=>{He.trigger.startAdjust(),_.assign(Ee),ur(Ee,"data-initial-"+Ie,Hd(Ee,Ie)),bf(Ee,j1),fo(Ee,"opacity","0.2"),T.go(y.parent())},oe=Wg(y.parent(),"mousedown",Ee=>{var Ie;Ie=Ee.target,Pb(Ie,gx)&&Q(Ee.target,"top"),(Pe=>Pb(Pe,Z1))(Ee.target)&&Q(Ee.target,"left")}),pe=Ee=>Tr(Ee,y.view()),De=Wg(y.view(),"mouseover",Ee=>{var Ie;(Ie=Ee.target,je(Ie,"table",pe).filter(Yn)).fold(()=>{Ii(Ee.target)&&$i(y)},Pe=>{T.isActive()&&(P=re.some(Pe),mt(y,Pe))})}),He=km({adjustHeight:Xc(["table","delta","row"]),adjustWidth:Xc(["table","delta","column"]),startAdjust:Xc([])});return{destroy:()=>{oe.unbind(),De.unbind(),T.destroy(),$i(y)},refresh:Ee=>{mt(y,Ee)},on:T.on,off:T.off,hideBars:me(Tk,y),showBars:me(lC,y),events:He.registry}},K1=y=>R(y)&&y.nodeName==="TABLE",$b="bar-",px=y=>cn(y,"data-mce-resize")!=="false",bx=y=>{const _=P1(),T=P1(),P=P1();let V,W,Q,oe;const pe=Ee=>lf(y,Ee),De=()=>Cg(y)?u1():Au(),He=(Ee,Ie,Pe,Je)=>{const tt=(kt=>{return ro(Rt=kt,"corner-")?((Ut,qt)=>Ut.substring(7))(Rt):Rt;var Rt})(Ie),Et=Jt(tt,"e"),Ot=ro(tt,"n");if(W===""&&Bg(Ee),oe===""&&(kt=>{const Rt=(Ut=>rd(Ut)+"px")(kt);Ir(kt,re.none(),re.some(Rt)),qc(kt)})(Ee),Pe!==V&&W!==""){fo(Ee,"width",W);const kt=De(),Rt=pe(Ee),Ut=Cg(y)||Et?(qt=>jc(qt).columns)(Ee)-1:0;ud(Ee,Pe-V,Ut,kt,Rt)}else if((kt=>/^(\d+(\.\d+)?)%$/.test(kt))(W)){const kt=parseFloat(W.replace("%",""));fo(Ee,"width",Pe*kt/V+"%")}if((kt=>/^(\d+(\.\d+)?)px$/.test(kt))(W)&&(kt=>{const Rt=bo(kt);oc(Rt)||yt(ms(kt),Ut=>{const qt=La(Ut,"width");fo(Ut,"width",qt),io(Ut,"width")})})(Ee),Je!==Q&&oe!==""){fo(Ee,"height",oe);const kt=Ot?0:(Rt=>jc(Rt).rows)(Ee)-1;Eg(Ee,Je-Q,kt)}};return y.on("init",()=>{const Ee=((Ie,Pe)=>Ie.inline?((Je,tt,Et)=>({parent:G(tt),view:G(Je),origin:G(Pi(0,0)),isResizable:Et}))(Vt.fromDom(Ie.getBody()),(()=>{const Je=Vt.fromTag("div");return hl(Je,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ts(Ic(Vt.fromDom(document)),Je),Je})(),Pe):((Je,tt)=>{const Et=vo(Je)?(Ot=>Vt.fromDom(ec(Ot).dom.documentElement))(Je):Je;return{parent:G(Et),view:G(Je),origin:G(Pi(0,0)),isResizable:tt}})(Vt.fromDom(Ie.getDoc()),Pe))(y,px);if(P.set(Ee),(Ie=>{const Pe=Ie.options.get("object_resizing");return rt(Pe.split(","),"table")})(y)&&ne(y)){const Ie=((Pe,Je,tt)=>{const Et=yu,Ot=qd,kt=Jc(Pe),Rt=km({beforeResize:Xc(["table","type"]),afterResize:Xc(["table","type"]),startDrag:Xc([])});return kt.events.adjustHeight.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"row");const nt=Et.delta(Ut.delta,qt);Eg(qt,nt,Ut.row),Rt.trigger.afterResize(qt,"row")}),kt.events.startAdjust.bind(Ut=>{Rt.trigger.startDrag()}),kt.events.adjustWidth.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"col");const nt=Ot.delta(Ut.delta,qt),mn=tt(qt);ud(qt,nt,Ut.column,Je,mn),Rt.trigger.afterResize(qt,"col")}),{on:kt.on,off:kt.off,refreshBars:kt.refresh,hideBars:kt.hideBars,showBars:kt.showBars,destroy:kt.destroy,events:Rt.registry}})(Ee,De(),pe);Ie.on(),Ie.events.startDrag.bind(Pe=>{_.set(y.selection.getRng())}),Ie.events.beforeResize.bind(Pe=>{const Je=Pe.table.dom;((tt,Et,Ot,kt,Rt)=>{tt.dispatch("ObjectResizeStart",{target:Et,width:Ot,height:kt,origin:Rt})})(y,Je,lm(Je),cm(Je),$b+Pe.type)}),Ie.events.afterResize.bind(Pe=>{const Je=Pe.table,tt=Je.dom;cs(Je),_.on(Et=>{y.selection.setRng(Et),y.focus()}),((Et,Ot,kt,Rt,Ut)=>{Et.dispatch("ObjectResized",{target:Ot,width:kt,height:Rt,origin:Ut})})(y,tt,lm(tt),cm(tt),$b+Pe.type),y.undoManager.add()}),T.set(Ie)}}),y.on("ObjectResizeStart",Ee=>{const Ie=Ee.target;if(K1(Ie)){const Pe=Vt.fromDom(Ie);yt(y.dom.select(".mce-clonedresizable"),Je=>{y.dom.addClass(Je,"mce-"+wg(y)+"-columns")}),!Xr(Pe)&&N(y)?sl(Pe):!T1(Pe)&&ku(y)&&Bg(Pe),Ou(Pe)&&ro(Ee.origin,$b)&&Bg(Pe),V=Ee.width,W=Z(y)?"":Hw(y,Ie).getOr(""),Q=Ee.height,oe=eb(y,Ie).getOr("")}}),y.on("ObjectResized",Ee=>{const Ie=Ee.target;if(K1(Ie)){const Pe=Vt.fromDom(Ie),Je=Ee.origin;(tt=>ro(tt,"corner-"))(Je)&&He(Pe,Je,Ee.width,Ee.height),cs(Pe),fd(y,Pe.dom,k1)}}),y.on("SwitchMode",()=>{T.on(Ee=>{y.mode.isReadOnly()?Ee.hideBars():Ee.showBars()})}),y.on("dragstart dragend",Ee=>{T.on(Ie=>{Ee.type==="dragstart"?(Ie.hideBars(),Ie.off()):(Ie.on(),Ie.showBars())})}),y.on("remove",()=>{T.on(Ee=>{Ee.destroy()}),P.on(Ee=>{((Ie,Pe)=>{Ie.inline&&Kr(Pe.parent())})(y,Ee)})}),{refresh:Ee=>{T.on(Ie=>Ie.refreshBars(Vt.fromDom(Ee)))},hide:()=>{T.on(Ee=>Ee.hideBars())},show:()=>{T.on(Ee=>Ee.showBars())}}},Ok=y=>{(V=>{const W=V.options.register;W("table_clone_elements",{processor:"string[]"}),W("table_use_colgroups",{processor:"boolean",default:!0}),W("table_header_type",{processor:Q=>{const oe=rt(["section","cells","sectionCells","auto"],Q);return oe?{value:Q,valid:oe}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),W("table_sizing_mode",{processor:"string",default:"auto"}),W("table_default_attributes",{processor:"object",default:{border:"1"}}),W("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),W("table_column_resizing",{processor:Q=>{const oe=rt(["preservetable","resizetable"],Q);return oe?{value:Q,valid:oe}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),W("table_resize_bars",{processor:"boolean",default:!0}),W("table_style_by_css",{processor:"boolean",default:!0}),W("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=bx(y),T=iC(y,_),P=Yy(y,_,T);return vs(y,P),((V,W)=>{const Q=Rs(V),oe=pe=>ns(ac(V)).bind(De=>el(De,Q).map(He=>{const Ee=go(lc(V),He,De);return pe(He,Ee)})).getOr("");Ko({mceTableRowType:()=>oe(W.getTableRowType),mceTableCellType:()=>oe(W.getTableCellType),mceTableColType:()=>oe(W.getTableColType)},(pe,De)=>V.addQueryValueHandler(De,pe))})(y,P),cc(y,P),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};r.add("dom",y=>({table:Ok(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivität",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbündig ausrichten","Align right":"Rechtsbündig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blöcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzählung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schließen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhältnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Währung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrün","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltürkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte löschen","Delete row":"Zeile löschen","Delete table":"Tabelle löschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht unterstützt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbestätigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wörter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menüleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgrößen","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fußzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grün","Green component":"Grünanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"Überschrift 1","Heading 2":"Überschrift 2","Heading 3":"Überschrift 3","Heading 4":"Überschrift 4","Heading 5":"Überschrift 5","Heading 6":"Überschrift 6",Headings:"Überschriften",Height:"Höhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrößern",Inline:"Zeichenformate",Insert:"Einfügen","Insert Template":"Vorlage einfügen","Insert accordion":"","Insert column after":"Neue Spalte danach einfügen","Insert column before":"Neue Spalte davor einfügen","Insert date/time":"Datum/Uhrzeit einfügen","Insert image":"Bild einfügen","Insert link (if link plugin activated)":"Link einfügen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfügen","Insert row before":"Neue Zeile davor einfügen","Insert table":"Tabelle einfügen","Insert template...":"Vorlage einfügen...","Insert video":"Video einfügen","Insert/Edit code sample":"Codebeispiel einfügen/bearbeiten","Insert/edit image":"Bild einfügen/bearbeiten","Insert/edit link":"Link einfügen/bearbeiten","Insert/edit media":"Medien einfügen/bearbeiten","Insert/edit video":"Video einfügen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungültiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungültige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrün","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner römischer Buchstabe","Match case":"Groß-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nächste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschütztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog öffnen","Open link":"Link öffnen","Open link in...":"Link öffnen in...","Open popup menu for split buttons":"Öffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfügen","Paste as text":"Als Text einfügen","Paste column after":"Spalte danach einfügen","Paste column before":"Spalte davor einfügen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfügen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefügt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfügen oder eingeben","Paste row after":"Zeile danach einfügen","Paste row before":"Zeile davor einfügen","Paste your embed code below:":"Fügen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anführungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drücken Sie Alt+0 für Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drücken Sie Alt+F9 für das Menü. Drücken Sie Alt+F10 für die Symbolleiste. Drücken Sie Alt+0 für Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswählen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blöcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgröße",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Möchten Sie das dazu benötigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Möchten Sie das dazu benötigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergänzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drücken Sie Umschalt+Eingabe, um das Popup-Fenster zu öffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Türkis",Underline:"Unterstrichen",Undo:"Rückgängig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Großbuchstaben","Upper Roman":"Großer römischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gültig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Weiß",Width:"Breite","Word count":"Anzahl der Wörter",Words:"Wörter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die Änderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser unterstützt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Währungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrückungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Türkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0} Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wörter"});(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(N,Z,ne)=>{var Oe;return ne(N,Z.prototype)?!0:((Oe=N.constructor)===null||Oe===void 0?void 0:Oe.name)===Z.name},u=N=>{const Z=typeof N;return N===null?"null":Z==="object"&&Array.isArray(N)?"array":Z==="object"&&i(N,String,(ne,Oe)=>Oe.isPrototypeOf(ne))?"string":Z},m=N=>Z=>u(Z)===N,b=N=>Z=>typeof Z===N,p=m("string"),x=m("object"),S=m("array"),M=b("boolean"),I=N=>N==null,R=N=>!I(N),z=b("function"),U=b("number"),$=()=>{},G=(N,Z)=>ne=>N(Z(ne)),ee=N=>()=>N,he=(N,Z)=>N===Z;function me(N,...Z){return(...ne)=>{const Oe=Z.concat(ne);return N.apply(null,Oe)}}const $e=N=>Z=>!N(Z),Te=ee(!1);class te{constructor(Z,ne){this.tag=Z,this.value=ne}static some(Z){return new te(!0,Z)}static none(){return te.singletonNone}fold(Z,ne){return this.tag?ne(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?te.some(Z(this.value)):te.none()}bind(Z){return this.tag?Z(this.value):te.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:te.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return R(Z)?te.some(Z):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const Ae=Array.prototype.slice,re=Array.prototype.indexOf,Ge=Array.prototype.push,Ve=(N,Z)=>re.call(N,Z),Ze=(N,Z)=>Ve(N,Z)>-1,rt=(N,Z)=>{for(let ne=0,Oe=N.length;ne<Oe;ne++){const ze=N[ne];if(Z(ze,ne))return!0}return!1},Ce=(N,Z)=>{const ne=N.length,Oe=new Array(ne);for(let ze=0;ze<ne;ze++){const Tt=N[ze];Oe[ze]=Z(Tt,ze)}return Oe},Ne=(N,Z)=>{for(let ne=0,Oe=N.length;ne<Oe;ne++){const ze=N[ne];Z(ze,ne)}},D=(N,Z)=>{const ne=[];for(let Oe=0,ze=N.length;Oe<ze;Oe++){const Tt=N[Oe];Z(Tt,Oe)&&ne.push(Tt)}return ne},yt=(N,Z)=>{if(N.length===0)return[];{let ne=Z(N[0]);const Oe=[];let ze=[];for(let Tt=0,Ln=N.length;Tt<Ln;Tt++){const so=N[Tt],Yn=Z(so);Yn!==ne&&(Oe.push(ze),ze=[]),ne=Yn,ze.push(so)}return ze.length!==0&&Oe.push(ze),Oe}},Pt=(N,Z,ne)=>(Ne(N,(Oe,ze)=>{ne=Z(ne,Oe,ze)}),ne),ln=(N,Z,ne)=>{for(let Oe=0,ze=N.length;Oe<ze;Oe++){const Tt=N[Oe];if(Z(Tt,Oe))return te.some(Tt);if(ne(Tt,Oe))break}return te.none()},gn=(N,Z)=>ln(N,Z,Te),Qe=N=>{const Z=[];for(let ne=0,Oe=N.length;ne<Oe;++ne){if(!S(N[ne]))throw new Error("Arr.flatten item "+ne+" was not an array, input: "+N);Ge.apply(Z,N[ne])}return Z},On=(N,Z)=>Qe(Ce(N,Z)),nr=N=>{const Z=Ae.call(N,0);return Z.reverse(),Z},pt=(N,Z)=>Z>=0&&Z<N.length?te.some(N[Z]):te.none(),bt=N=>pt(N,0),Zt=N=>pt(N,N.length-1),Ur=(N,Z)=>{const ne=[],Oe=z(Z)?ze=>rt(ne,Tt=>Z(Tt,ze)):ze=>Ze(ne,ze);for(let ze=0,Tt=N.length;ze<Tt;ze++){const Ln=N[ze];Oe(Ln)||ne.push(Ln)}return ne},ho=(N,Z,ne=he)=>N.exists(Oe=>ne(Oe,Z)),xn=(N,Z,ne=he)=>Rn(N,Z,ne).getOr(N.isNone()&&Z.isNone()),Rn=(N,Z,ne)=>N.isSome()&&Z.isSome()?te.some(ne(N.getOrDie(),Z.getOrDie())):te.none(),J=8,sr=11,br=1,Ko=3,oi=(N,Z)=>{const Oe=(Z||document).createElement("div");if(Oe.innerHTML=N,!Oe.hasChildNodes()||Oe.childNodes.length>1){const ze="HTML does not have a single root node";throw console.error(ze,N),new Error(ze)}return xe(Oe.childNodes[0])},Ke=(N,Z)=>{const Oe=(Z||document).createElement(N);return xe(Oe)},le=(N,Z)=>{const Oe=(Z||document).createTextNode(N);return xe(Oe)},xe=N=>{if(N==null)throw new Error("Node cannot be null or undefined");return{dom:N}},ge={fromHtml:oi,fromTag:Ke,fromText:le,fromDom:xe,fromPoint:(N,Z,ne)=>te.from(N.dom.elementFromPoint(Z,ne)).map(xe)},St=(N,Z)=>{const ne=N.dom;if(ne.nodeType!==br)return!1;{const Oe=ne;if(Oe.matches!==void 0)return Oe.matches(Z);if(Oe.msMatchesSelector!==void 0)return Oe.msMatchesSelector(Z);if(Oe.webkitMatchesSelector!==void 0)return Oe.webkitMatchesSelector(Z);if(Oe.mozMatchesSelector!==void 0)return Oe.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},$t=(N,Z)=>N.dom===Z.dom,Ct=(N,Z)=>{const ne=N.dom,Oe=Z.dom;return ne===Oe?!1:ne.contains(Oe)},zt=St,It=typeof window<"u"?window:Function("return this;")(),on=(N,Z)=>{let ne=Z??It;for(let Oe=0;Oe<N.length&&ne!==void 0&&ne!==null;++Oe)ne=ne[N[Oe]];return ne},wn=(N,Z)=>{const ne=N.split(".");return on(ne,Z)},Cn=(N,Z)=>wn(N,Z),En=(N,Z)=>{const ne=Cn(N,Z);if(ne==null)throw new Error(N+" not available on this browser");return ne},ao=Object.getPrototypeOf,vo=N=>En("HTMLElement",N),Ao=N=>{const Z=wn("ownerDocument.defaultView",N);return x(N)&&(vo(Z).prototype.isPrototypeOf(N)||/^HTML\w*Element$/.test(ao(N).constructor.name))},Oo=N=>N.dom.nodeName.toLowerCase(),Es=N=>N.dom.nodeType,ur=N=>Z=>Es(Z)===N,bi=N=>Es(N)===J||Oo(N)==="#comment",cn=N=>po(N)&&Ao(N.dom),po=ur(br),io=ur(Ko),Wr=ur(sr),Pa=N=>Z=>po(Z)&&Oo(Z)===N,Vt=N=>te.from(N.dom.parentNode).map(ge.fromDom),Ys=N=>te.from(N.dom.parentElement).map(ge.fromDom),Uo=N=>te.from(N.dom.nextSibling).map(ge.fromDom),kl=N=>Ce(N.dom.childNodes,ge.fromDom),Tr=(N,Z)=>{const ne=N.dom.childNodes;return te.from(ne[Z]).map(ge.fromDom)},zs=N=>Tr(N,0),qf=N=>Tr(N,N.dom.childNodes.length-1),du=N=>Wr(N)&&R(N.dom.host),ec=N=>ge.fromDom(N.dom.getRootNode()),Xi=N=>{const Z=ec(N);return du(Z)?te.some(Z):te.none()},fu=N=>ge.fromDom(N.dom.host),dr=N=>{const Z=io(N)?N.dom.parentNode:N.dom;if(Z==null||Z.ownerDocument===null)return!1;const ne=Z.ownerDocument;return Xi(ge.fromDom(Z)).fold(()=>ne.body.contains(Z),G(dr,fu))};var Gn=(N,Z,ne,Oe,ze)=>N(ne,Oe)?te.some(ne):z(ze)&&ze(ne)?te.none():Z(ne,Oe,ze);const El=(N,Z,ne)=>{let Oe=N.dom;const ze=z(ne)?ne:Te;for(;Oe.parentNode;){Oe=Oe.parentNode;const Tt=ge.fromDom(Oe);if(Z(Tt))return te.some(Tt);if(ze(Tt))break}return te.none()},ca=(N,Z,ne)=>Gn((ze,Tt)=>Tt(ze),El,N,Z,ne),mu=(N,Z,ne)=>El(N,Oe=>St(Oe,Z),ne),Qt=(N,Z,ne)=>Gn((ze,Tt)=>St(ze,Tt),mu,N,Z,ne),gu=N=>Qt(N,"[contenteditable]"),Gf=(N,Z=!1)=>dr(N)?N.dom.isContentEditable:gu(N).fold(ee(Z),ne=>ts(ne)==="true"),ts=N=>N.dom.contentEditable,Yf=(N,Z)=>{Vt(N).each(Oe=>{Oe.dom.insertBefore(Z.dom,N.dom)})},Ni=(N,Z)=>{Uo(N).fold(()=>{Vt(N).each(ze=>{Ji(ze,Z)})},Oe=>{Yf(Oe,Z)})},ml=(N,Z)=>{zs(N).fold(()=>{Ji(N,Z)},Oe=>{N.dom.insertBefore(Z.dom,Oe.dom)})},Ji=(N,Z)=>{N.dom.appendChild(Z.dom)},Kr=(N,Z)=>{Ne(Z,ne=>{Yf(N,ne)})},ri=(N,Z)=>{Ne(Z,ne=>{Ji(N,ne)})},gl=N=>{N.dom.textContent="",Ne(kl(N),Z=>{Xf(Z)})},Xf=N=>{const Z=N.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Rc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Nc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zd=tinymce.util.Tools.resolve("tinymce.util.VK");const Xu=N=>Ce(N,ge.fromDom),Wo=Object.keys,xs=(N,Z)=>{const ne=Wo(N);for(let Oe=0,ze=ne.length;Oe<ze;Oe++){const Tt=ne[Oe],Ln=N[Tt];Z(Ln,Tt)}},Zs=N=>(Z,ne)=>{N[ne]=Z},Jf=(N,Z,ne,Oe)=>{xs(N,(ze,Tt)=>{(Z(ze,Tt)?ne:Oe)(ze,Tt)})},Ii=(N,Z)=>{const ne={};return Jf(N,Z,Zs(ne),$),ne},Ic=(N,Z,ne)=>{if(p(ne)||M(ne)||U(ne))N.setAttribute(Z,ne+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",ne,":: Element ",N),new Error("Attribute value was not simple")},si=(N,Z)=>{const ne=N.dom;xs(Z,(Oe,ze)=>{Ic(ne,ze,Oe)})},ai=N=>Pt(N.dom.attributes,(Z,ne)=>(Z[ne.name]=ne.value,Z),{}),Bc=(N,Z)=>ge.fromDom(N.dom.cloneNode(Z)),vr=N=>Bc(N,!0),qr=(N,Z)=>{const ne=ge.fromTag(Z),Oe=ai(N);return si(ne,Oe),ne},Se=(N,Z)=>{const ne=qr(N,Z);Ni(N,ne);const Oe=kl(N);return ri(ne,Oe),Xf(N),ne};var Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const it=N=>Z=>R(Z)&&Z.nodeName.toLowerCase()===N,ot=N=>Z=>R(Z)&&N.test(Z.nodeName),je=N=>R(N)&&N.nodeType===3,Lt=N=>R(N)&&N.nodeType===1,Yt=ot(/^(OL|UL|DL)$/),nn=ot(/^(OL|UL)$/),dn=it("ol"),en=ot(/^(LI|DT|DD)$/),ro=ot(/^(DT|DD)$/),Jt=ot(/^(TH|TD)$/),ar=it("br"),wo=N=>{var Z;return((Z=N.parentNode)===null||Z===void 0?void 0:Z.firstChild)===N},No=(N,Z)=>R(Z)&&Z.nodeName in N.schema.getTextBlockElements(),fs=(N,Z)=>R(N)&&N.nodeName in Z,fo=(N,Z)=>R(Z)&&Z.nodeName in N.schema.getVoidElements(),hl=(N,Z)=>ar(Z)?N.isBlock(Z.nextSibling)&&!ar(Z.previousSibling):!1,La=(N,Z,ne)=>{const Oe=N.isEmpty(Z);return ne&&N.select("span[data-mce-type=bookmark]",Z).length>0?!1:Oe},Jn=(N,Z)=>N.isChildOf(Z,N.getRoot()),Bi=N=>Z=>Z.options.get(N),Qi=N=>{const Z=N.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},as=Bi("lists_indent_on_tab"),Ju=Bi("forced_root_block"),As=Bi("forced_root_block_attrs"),Hd=(N,Z,ne={})=>{const Oe=N.dom,ze=N.schema.getBlockElements(),Tt=Oe.createFragment(),Ln=Ju(N),so=As(N);let Yn,_n,Jo=!1;for(_n=Oe.create(Ln,{...so,...ne.style?{style:ne.style}:{}}),fs(Z.firstChild,ze)||Tt.appendChild(_n);Yn=Z.firstChild;){const Rs=Yn.nodeName;!Jo&&(Rs!=="SPAN"||Yn.getAttribute("data-mce-type")!=="bookmark")&&(Jo=!0),fs(Yn,ze)?(Tt.appendChild(Yn),_n=null):(_n||(_n=Oe.create(Ln,so),Tt.appendChild(_n)),_n.appendChild(Yn))}return!Jo&&_n&&_n.appendChild(Oe.create("br",{"data-mce-bogus":"1"})),Tt},pl=Ye.DOM,er=(N,Z,ne)=>{const Oe=_n=>{const Jo=_n.parentNode;Jo&&Re.each(ze,Rs=>{Jo.insertBefore(Rs,ne.parentNode)}),pl.remove(_n)},ze=pl.select('span[data-mce-type="bookmark"]',Z),Tt=Hd(N,ne),Ln=pl.createRng();Ln.setStartAfter(ne),Ln.setEndAfter(Z);const so=Ln.extractContents();for(let _n=so.firstChild;_n;_n=_n.firstChild)if(_n.nodeName==="LI"&&N.dom.isEmpty(_n)){pl.remove(_n);break}N.dom.isEmpty(so)||pl.insertAfter(so,Z),pl.insertAfter(Tt,Z);const Yn=ne.parentElement;Yn&&La(N.dom,Yn)&&Oe(Yn),pl.remove(ne),La(N.dom,Z)&&pl.remove(Z)},hu=Pa("dd"),Qf=Pa("dt"),Ch=(N,Z)=>{hu(Z)?Se(Z,"dt"):Qf(Z)&&Ys(Z).each(ne=>er(N,ne.dom,Z.dom))},ms=N=>{Qf(N)&&Se(N,"dd")},tc=(N,Z,ne)=>{Z==="Indent"?Ne(ne,ms):Ne(ne,Oe=>Ch(N,Oe))},el=(N,Z)=>{if(je(N))return{container:N,offset:Z};const ne=Rc.getNode(N,Z);return je(ne)?{container:ne,offset:Z>=N.childNodes.length?ne.data.length:0}:ne.previousSibling&&je(ne.previousSibling)?{container:ne.previousSibling,offset:ne.previousSibling.data.length}:ne.nextSibling&&je(ne.nextSibling)?{container:ne.nextSibling,offset:0}:{container:N,offset:Z}},Pr=N=>{const Z=N.cloneRange(),ne=el(N.startContainer,N.startOffset);Z.setStart(ne.container,ne.offset);const Oe=el(N.endContainer,N.endOffset);return Z.setEnd(Oe.container,Oe.offset),Z},em=["OL","UL","DL"],bl=em.join(","),Fa=(N,Z)=>{const ne=Z||N.selection.getStart(!0);return N.dom.getParent(ne,bl,Qu(N,ne))},mg=(N,Z)=>R(N)&&Z.length===1&&Z[0]===N,ua=N=>D(N.querySelectorAll(bl),Yt),Mi=N=>{const Z=Fa(N),ne=N.selection.getSelectedBlocks();return mg(Z,ne)?ua(Z):D(ne,Oe=>Yt(Oe)&&Z!==Oe)},za=(N,Z)=>{const ne=Re.map(Z,Oe=>{const ze=N.dom.getParent(Oe,"li,dd,dt",Qu(N,Oe));return ze||Oe});return Ur(ne)},vl=N=>{const Z=N.selection.getSelectedBlocks();return D(za(N,Z),en)},_h=N=>D(vl(N),ro),Co=(N,Z)=>{const ne=N.dom.getParents(Z,"TD,TH");return ne.length>0?ne[0]:N.getBody()},Mc=(N,Z)=>!Yt(Z)&&!en(Z)&&rt(em,ne=>N.isValidChild(Z.nodeName,ne)),Qu=(N,Z)=>{const ne=N.dom.getParents(Z,N.dom.isBlock),Oe=Tt=>Tt.nodeName.toLowerCase()!==Ju(N);return gn(ne,Tt=>Oe(Tt)&&Mc(N.schema,Tt)).getOr(N.getBody())},pu=N=>Vt(N).exists(Z=>en(Z.dom)&&zs(Z).exists(ne=>!Yt(ne.dom))&&qf(Z).exists(ne=>!Yt(ne.dom))),Zp=(N,Z)=>{const ne=N.dom.getParents(Z,"ol,ul",Qu(N,Z));return Zt(ne)},_y=N=>{const Z=Zp(N,N.selection.getStart()),ne=D(N.selection.getSelectedBlocks(),nn);return Z.toArray().concat(ne)},e1=N=>{const Z=N.selection.getStart();return N.dom.getParents(Z,"ol,ul",Qu(N,Z))},t1=N=>{const Z=_y(N),ne=e1(N);return gn(ne,Oe=>pu(ge.fromDom(Oe))).fold(()=>zw(N,Z),Oe=>[Oe])},zw=(N,Z)=>{const ne=Ce(Z,Oe=>Zp(N,Oe).getOr(Oe));return Ur(ne)},Sh=N=>/\btox\-/.test(N.className),n1=(N,Z)=>ln(N,Yt,Jt).exists(ne=>ne.nodeName===Z&&!Sh(ne)),Kt=(N,Z)=>Z!==null&&!N.dom.isEditable(Z),Vd=N=>{const Z=Fa(N);return Kt(N,Z)},$d=(N,Z)=>{const ne=N.dom.getParent(Z,"ol,ul,dl");return Kt(N,ne)},o1=(N,Z)=>{const ne=N.selection.getNode();return Z({parents:N.dom.getParents(ne),element:ne}),N.on("NodeChange",Z),()=>N.off("NodeChange",Z)},Ha=(N,Z)=>{const Oe=document.createDocumentFragment();return Ne(N,ze=>{Oe.appendChild(ze.dom)}),ge.fromDom(Oe)},Ud=(N,Z,ne)=>N.dispatch("ListMutation",{action:Z,element:ne}),Sy=(N=>Z=>Z.replace(N,""))(/^\s+|\s+$/g),ky=N=>N.length>0,jp=N=>!ky(N),Ey=N=>N.style!==void 0&&z(N.style.getPropertyValue),r1=(N,Z,ne)=>{if(!p(ne))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",ne,":: Element ",N),new Error("CSS value must be a string: "+ne);Ey(N)&&N.style.setProperty(Z,ne)},Ay=(N,Z,ne)=>{const Oe=N.dom;r1(Oe,Z,ne)},hg=N=>zt(N,"OL,UL"),s1=N=>zt(N,"LI"),Wd=N=>zs(N).exists(hg),Zd=N=>qf(N).exists(hg),Va=N=>"listAttributes"in N,tl=N=>"isComment"in N,pg=N=>"isFragment"in N,Po=N=>N.depth>0,ed=N=>N.isSelected,bg=N=>{const Z=kl(N),ne=Zd(N)?Z.slice(0,-1):Z;return Ce(ne,vr)},vg=(N,Z,ne)=>Vt(N).filter(po).map(Oe=>({depth:Z,dirty:!1,isSelected:ne,content:bg(N),itemAttributes:ai(N),listAttributes:ai(Oe),listType:Oo(Oe),isInPreviousLi:!1})),vi=(N,Z)=>{Ji(N.item,Z.list)},Ts=N=>{for(let Z=1;Z<N.length;Z++)vi(N[Z-1],N[Z])},Gr=(N,Z)=>{Rn(Zt(N),bt(Z),vi)},wa=(N,Z)=>{const ne={list:ge.fromTag(Z,N),item:ge.fromTag("li",N)};return Ji(ne.list,ne.item),ne},Lr=(N,Z,ne)=>{const Oe=[];for(let ze=0;ze<ne;ze++)Oe.push(wa(N,Va(Z)?Z.listType:Z.parentListType));return Oe},jd=(N,Z)=>{for(let ne=0;ne<N.length-1;ne++)Ay(N[ne].item,"list-style-type","none");Zt(N).each(ne=>{Va(Z)&&(si(ne.list,Z.listAttributes),si(ne.item,Z.itemAttributes)),ri(ne.item,Z.content)})},tm=(N,Z)=>{Oo(N.list)!==Z.listType&&(N.list=Se(N.list,Z.listType)),si(N.list,Z.listAttributes)},na=(N,Z,ne)=>{const Oe=ge.fromTag("li",N);return si(Oe,Z),ri(Oe,ne),Oe},yi=(N,Z)=>{Ji(N.list,Z),N.item=Z},ii=(N,Z,ne)=>{const Oe=Z.slice(0,ne.depth);return Zt(Oe).each(ze=>{if(Va(ne)){const Tt=na(N,ne.itemAttributes,ne.content);yi(ze,Tt),tm(ze,ne)}else if(pg(ne))ri(ze.item,ne.content);else{const Tt=ge.fromHtml(`<!--${ne.content}-->`);Ji(ze.list,Tt)}}),Oe},Pc=(N,Z,ne)=>{const Oe=Lr(N,ne,ne.depth-Z.length);return Ts(Oe),jd(Oe,ne),Gr(Z,Oe),Z.concat(Oe)},td=(N,Z)=>{let ne=te.none();const Oe=Pt(Z,(ze,Tt,Ln)=>tl(Tt)?Ln===0?(ne=te.some(Tt),ze):ii(N,ze,Tt):Tt.depth>ze.length?Pc(N,ze,Tt):ii(N,ze,Tt),[]);return ne.each(ze=>{const Tt=ge.fromHtml(`<!--${ze.content}-->`);bt(Oe).each(Ln=>{ml(Ln.list,Tt)})}),bt(Oe).map(ze=>ze.list)},bo=(N,Z)=>{switch(N){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},js=(N,Z)=>{Va(N)&&Va(Z)&&(N.listType=Z.listType,N.listAttributes={...Z.listAttributes})},nl=N=>{N.listAttributes=Ii(N.listAttributes,(Z,ne)=>ne!=="start")},nd=(N,Z)=>{const ne=N[Z].depth,Oe=Tt=>Tt.depth===ne&&!Tt.dirty,ze=Tt=>Tt.depth<ne;return ln(nr(N.slice(0,Z)),Oe,ze).orThunk(()=>ln(N.slice(Z+1),Oe,ze))},Ca=N=>(Ne(N,(Z,ne)=>{nd(N,ne).fold(()=>{Z.dirty&&Va(Z)&&nl(Z)},Oe=>js(Z,Oe))}),N),Dn=N=>{let Z=N;return{get:()=>Z,set:ze=>{Z=ze}}},nc=(N,Z,ne,Oe)=>{var ze;if(bi(Oe))return[{depth:N+1,content:(ze=Oe.dom.nodeValue)!==null&&ze!==void 0?ze:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(so=>{$t(so.start,Oe)&&ne.set(!0)});const Tt=vg(Oe,N,ne.get());Z.each(so=>{$t(so.end,Oe)&&ne.set(!1)});const Ln=qf(Oe).filter(hg).map(so=>ir(N,Z,ne,so)).getOr([]);return Tt.toArray().concat(Ln)},oc=(N,Z,ne,Oe)=>zs(Oe).filter(hg).fold(()=>nc(N,Z,ne,Oe),ze=>{const Tt=Pt(kl(Oe),(Ln,so,Yn)=>{if(Yn===0)return Ln;if(s1(so))return Ln.concat(nc(N,Z,ne,so));{const _n={isFragment:!0,depth:N,content:[so],isSelected:!1,dirty:!1,parentListType:Oo(ze)};return Ln.concat(_n)}},[]);return ir(N,Z,ne,ze).concat(Tt)}),ir=(N,Z,ne,Oe)=>On(kl(Oe),ze=>{const Tt=hg(ze)?ir:oc,Ln=N+1;return Tt(Ln,Z,ne,ze)}),kh=(N,Z)=>{const ne=Dn(!1),Oe=0;return Ce(N,ze=>({sourceList:ze,entries:ir(Oe,Z,ne,ze)}))},Kp=(N,Z)=>{const ne=Ca(Z);return Ce(ne,Oe=>{const ze=tl(Oe)?Ha([ge.fromHtml(`<!--${Oe.content}-->`)]):Ha(Oe.content),Tt=Va(Oe)?Oe.itemAttributes:{};return ge.fromDom(Hd(N,ze.dom,Tt))})},od=(N,Z)=>{const ne=Ca(Z);return td(N.contentDocument,ne).toArray()},_o=(N,Z)=>On(yt(Z,Po),ne=>bt(ne).exists(Po)?od(N,ne):Kp(N,ne)),xi=(N,Z)=>{Ne(D(N,ed),ne=>bo(Z,ne))},Eh=N=>{const Z=Ce(vl(N),ge.fromDom);return Rn(gn(Z,$e(Wd)),gn(nr(Z),$e(Wd)),(ne,Oe)=>({start:ne,end:Oe}))},rd=(N,Z,ne)=>{const Oe=kh(Z,Eh(N));Ne(Oe,ze=>{xi(ze.entries,ne);const Tt=_o(N,ze.entries);Ne(Tt,Ln=>{Ud(N,ne==="Indent"?"IndentList":"OutdentList",Ln.dom)}),Kr(ze.sourceList,Tt),Xf(ze.sourceList)})},qp=(N,Z)=>{const ne=Xu(t1(N)),Oe=Xu(_h(N));let ze=!1;if(ne.length||Oe.length){const Tt=N.selection.getBookmark();rd(N,ne,Z),tc(N,Z,Oe),N.selection.moveToBookmark(Tt),N.selection.setRng(Pr(N.selection.getRng())),N.nodeChanged(),ze=!0}return ze},Lc=(N,Z)=>!Vd(N)&&qp(N,Z),Pi=N=>Lc(N,"Indent"),Fc=N=>Lc(N,"Outdent"),Kd=N=>Lc(N,"Flatten"),Be="\uFEFF",nm=N=>N===Be,yr=(N,Z,ne)=>El(N,Z,ne).isSome(),Gp=(N,Z)=>yr(N,me($t,Z));var yg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const zc=Ye.DOM,Lo=N=>{const Z={},ne=Oe=>{let ze=N[Oe?"startContainer":"endContainer"],Tt=N[Oe?"startOffset":"endOffset"];if(Lt(ze)){const Ln=zc.create("span",{"data-mce-type":"bookmark"});ze.hasChildNodes()?(Tt=Math.min(Tt,ze.childNodes.length-1),Oe?ze.insertBefore(Ln,ze.childNodes[Tt]):zc.insertAfter(Ln,ze.childNodes[Tt])):ze.appendChild(Ln),ze=Ln,Tt=0}Z[Oe?"startContainer":"endContainer"]=ze,Z[Oe?"startOffset":"endOffset"]=Tt};return ne(!0),N.collapsed||ne(),Z},$a=N=>{const Z=Oe=>{const ze=so=>{var Yn;let _n=(Yn=so.parentNode)===null||Yn===void 0?void 0:Yn.firstChild,Jo=0;for(;_n;){if(_n===so)return Jo;(!Lt(_n)||_n.getAttribute("data-mce-type")!=="bookmark")&&Jo++,_n=_n.nextSibling}return-1};let Tt=N[Oe?"startContainer":"endContainer"],Ln=N[Oe?"startOffset":"endOffset"];if(Tt){if(Lt(Tt)&&Tt.parentNode){const so=Tt;Ln=ze(Tt),Tt=Tt.parentNode,zc.remove(so),!Tt.hasChildNodes()&&zc.isBlock(Tt)&&Tt.appendChild(zc.create("br"))}N[Oe?"startContainer":"endContainer"]=Tt,N[Oe?"startOffset":"endOffset"]=Ln}};Z(!0),Z();const ne=zc.createRng();return ne.setStart(N.startContainer,N.startOffset),N.endContainer&&ne.setEnd(N.endContainer,N.endOffset),Pr(ne)},bu=N=>{switch(N){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ml=(N,Z,ne)=>{const Oe=ne["list-style-type"]?ne["list-style-type"]:null;N.setStyle(Z,"list-style-type",Oe)},vu=(N,Z)=>{Re.each(Z,(ne,Oe)=>{N.setAttribute(Oe,ne)})},yu=(N,Z,ne)=>{vu(Z,ne["list-attributes"]),Re.each(N.select("li",Z),Oe=>{vu(Oe,ne["list-item-attributes"])})},Ua=(N,Z,ne)=>{Ml(N,Z,ne),yu(N,Z,ne)},qd=(N,Z,ne)=>{Re.each(ne,Oe=>N.setStyle(Z,Oe,""))},om=(N,Z)=>R(Z)&&!fs(Z,N.schema.getBlockElements()),Yp=(N,Z,ne,Oe)=>{let ze=Z[ne?"startContainer":"endContainer"];const Tt=Z[ne?"startOffset":"endOffset"];Lt(ze)&&(ze=ze.childNodes[Math.min(Tt,ze.childNodes.length-1)]||ze),!ne&&ar(ze.nextSibling)&&(ze=ze.nextSibling);const Ln=Yn=>{for(;!N.dom.isBlock(Yn)&&Yn.parentNode&&Oe!==Yn;)Yn=Yn.parentNode;return Yn},so=(Yn,_n)=>{var Jo;const Rs=new Nc(Yn,Ln(Yn)),cs=_n?"next":"prev";let ac;for(;ac=Rs[cs]();)if(!(fo(N,ac)||nm(ac.textContent)||((Jo=ac.textContent)===null||Jo===void 0?void 0:Jo.length)===0))return te.some(ac);return te.none()};if(ne&&je(ze))if(nm(ze.textContent))ze=so(ze,!1).getOr(ze);else for(ze.parentNode!==null&&om(N,ze.parentNode)&&(ze=ze.parentNode);ze.previousSibling!==null&&(om(N,ze.previousSibling)||je(ze.previousSibling));)ze=ze.previousSibling;if(!ne&&je(ze))if(nm(ze.textContent))ze=so(ze,!0).getOr(ze);else for(ze.parentNode!==null&&om(N,ze.parentNode)&&(ze=ze.parentNode);ze.nextSibling!==null&&(om(N,ze.nextSibling)||je(ze.nextSibling));)ze=ze.nextSibling;for(;ze.parentNode!==Oe;){const Yn=ze.parentNode;if(No(N,ze)||/^(TD|TH)$/.test(Yn.nodeName))return ze;ze=Yn}return ze},oa=(N,Z,ne)=>{const Oe=[],ze=N.dom,Tt=Yp(N,Z,!0,ne),Ln=Yp(N,Z,!1,ne);let so;const Yn=[];for(let _n=Tt;_n&&(Yn.push(_n),_n!==Ln);_n=_n.nextSibling);return Re.each(Yn,_n=>{var Jo;if(No(N,_n)){Oe.push(_n),so=null;return}if(ze.isBlock(_n)||ar(_n)){ar(_n)&&ze.remove(_n),so=null;return}const Rs=_n.nextSibling;if(yg.isBookmarkNode(_n)&&(Yt(Rs)||No(N,Rs)||!Rs&&_n.parentNode===ne)){so=null;return}so||(so=ze.create("p"),(Jo=_n.parentNode)===null||Jo===void 0||Jo.insertBefore(so,_n),Oe.push(so)),so.appendChild(_n)}),Oe},Pn=(N,Z,ne)=>{const Oe=N.getStyle(Z,"list-style-type");let ze=ne?ne["list-style-type"]:"";return ze=ze===null?"":ze,Oe===ze},xu=(N,Z)=>{const ne=N.selection.getStart(!0),Oe=Yp(N,Z,!0,N.getBody());return Gp(ge.fromDom(Oe),ge.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:ne},rm=(N,Z,ne)=>{const Oe=N.selection.getRng();let ze="LI";const Tt=Qu(N,xu(N,Oe)),Ln=N.dom;if(Ln.getContentEditable(N.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(ze="DT");const so=Lo(Oe),Yn=D(oa(N,Oe,Tt),N.dom.isEditable);Re.each(Yn,_n=>{let Jo;const Rs=_n.previousSibling,cs=_n.parentNode;en(cs)||(Rs&&Yt(Rs)&&Rs.nodeName===Z&&Pn(Ln,Rs,ne)?(Jo=Rs,_n=Ln.rename(_n,ze),Rs.appendChild(_n)):(Jo=Ln.create(Z),cs.insertBefore(Jo,_n),Jo.appendChild(_n),_n=Ln.rename(_n,ze)),qd(Ln,_n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ua(Ln,Jo,ne),sd(N.dom,Jo))}),N.selection.setRng($a(so))},Wa=(N,Z)=>Yt(N)&&N.nodeName===(Z==null?void 0:Z.nodeName),wu=(N,Z,ne)=>{const Oe=N.getStyle(Z,"list-style-type",!0),ze=N.getStyle(ne,"list-style-type",!0);return Oe===ze},yl=(N,Z)=>N.className===Z.className,Cu=(N,Z,ne)=>Wa(Z,ne)&&wu(N,Z,ne)&&yl(Z,ne),sd=(N,Z)=>{let ne,Oe=Z.nextSibling;if(Cu(N,Z,Oe)){const ze=Oe;for(;ne=ze.firstChild;)Z.appendChild(ne);N.remove(ze)}if(Oe=Z.previousSibling,Cu(N,Z,Oe)){const ze=Oe;for(;ne=ze.lastChild;)Z.insertBefore(ne,Z.firstChild);N.remove(ze)}},ra=(N,Z,ne,Oe)=>{if(Z.nodeName!==ne){const ze=N.dom.rename(Z,ne);Ua(N.dom,ze,Oe),Ud(N,bu(ne),ze)}else Ua(N.dom,Z,Oe),Ud(N,bu(ne),Z)},Pl=(N,Z,ne,Oe)=>{if(Z.classList.forEach((ze,Tt,Ln)=>{ze.startsWith("tox-")&&(Ln.remove(ze),Ln.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==ne){const ze=N.dom.rename(Z,ne);Ua(N.dom,ze,Oe),Ud(N,bu(ne),ze)}else Ua(N.dom,Z,Oe),Ud(N,bu(ne),Z)},Hc=(N,Z,ne,Oe,ze)=>{const Tt=Yt(Z);if(Tt&&Z.nodeName===Oe&&!sm(ze)&&!Sh(Z))Kd(N);else{rm(N,Oe,ze);const Ln=Lo(N.selection.getRng()),so=Tt?[Z,...ne]:ne,Yn=Tt&&Sh(Z)?Pl:ra;Re.each(so,_n=>{Yn(N,_n,Oe,ze)}),N.selection.setRng($a(Ln))}},sm=N=>"list-style-type"in N,a1=(N,Z,ne,Oe)=>{if(Z!==N.getBody())if(Z)if(Z.nodeName===ne&&!sm(Oe)&&!Sh(Z))Kd(N);else{const ze=Lo(N.selection.getRng());Sh(Z)&&Z.classList.forEach((Ln,so,Yn)=>{Ln.startsWith("tox-")&&(Yn.remove(Ln),Yn.length===0&&Z.removeAttribute("class"))}),Ua(N.dom,Z,Oe);const Tt=N.dom.rename(Z,ne);sd(N.dom,Tt),N.selection.setRng($a(ze)),rm(N,ne,Oe),Ud(N,bu(ne),Tt)}else rm(N,ne,Oe),Ud(N,bu(ne),Z)},_u=(N,Z,ne)=>{const Oe=Fa(N);if($d(N,Oe))return;const ze=Mi(N),Tt=x(ne)?ne:{};ze.length>0?Hc(N,Oe,ze,Z,Tt):a1(N,Oe,Z,Tt)},Gd=Ye.DOM,Xp=(N,Z)=>{const ne=Z.parentElement;if(ne&&ne.nodeName==="LI"&&ne.firstChild===Z){const Oe=ne.previousSibling;Oe&&Oe.nodeName==="LI"?(Oe.appendChild(Z),La(N,ne)&&Gd.remove(ne)):Gd.setStyle(ne,"listStyleType","none")}if(Yt(ne)){const Oe=ne.previousSibling;Oe&&Oe.nodeName==="LI"&&Oe.appendChild(Z)}},is=(N,Z)=>{const ne=Re.grep(N.select("ol,ul",Z));Re.each(ne,Oe=>{Xp(N,Oe)})},wi=(N,Z,ne,Oe)=>{let ze=Z.startContainer;const Tt=Z.startOffset;if(je(ze)&&(ne?Tt<ze.data.length:Tt>0))return ze;const Ln=N.schema.getNonEmptyElements();Lt(ze)&&(ze=Rc.getNode(ze,Tt));const so=new Nc(ze,Oe);ne&&hl(N.dom,ze)&&so.next();const Yn=ne?so.next.bind(so):so.prev2.bind(so);for(;ze=Yn();)if(ze.nodeName==="LI"&&!ze.hasChildNodes()||Ln[ze.nodeName]||je(ze)&&ze.data.length>0)return ze;return null},li=(N,Z)=>{const ne=Z.childNodes;return ne.length===1&&!Yt(ne[0])&&N.isBlock(ne[0])},Li=N=>te.from(N).map(ge.fromDom).filter(cn).exists(Z=>Gf(Z)&&!Ze(["details"],Oo(Z))),Xs=(N,Z)=>{li(N,Z)&&Li(Z.firstChild)&&N.remove(Z.firstChild,!0)},Ah=(N,Z,ne)=>{let Oe;const ze=li(N,ne)?ne.firstChild:ne;if(Xs(N,Z),!La(N,Z,!0))for(;Oe=Z.firstChild;)ze.appendChild(Oe)},Ks=(N,Z,ne)=>{let Oe;const ze=Z.parentNode;if(!Jn(N,Z)||!Jn(N,ne))return;Yt(ne.lastChild)&&(Oe=ne.lastChild),ze===ne.lastChild&&ar(ze.previousSibling)&&N.remove(ze.previousSibling);const Tt=ne.lastChild;Tt&&ar(Tt)&&Z.hasChildNodes()&&N.remove(Tt),La(N,ne,!0)&&gl(ge.fromDom(ne)),Ah(N,Z,ne),Oe&&ne.appendChild(Oe);const so=Ct(ge.fromDom(ne),ge.fromDom(Z))?N.getParents(Z,Yt,ne):[];N.remove(Z),Ne(so,Yn=>{La(N,Yn)&&Yn!==N.getRoot()&&N.remove(Yn)})},_a=(N,Z,ne)=>{gl(ge.fromDom(ne)),Ks(N.dom,Z,ne),N.selection.setCursorLocation(ne,0)},Vc=(N,Z,ne,Oe)=>{const ze=N.dom;if(ze.isEmpty(Oe))_a(N,ne,Oe);else{const Tt=Lo(Z);Ks(ze,ne,Oe),N.selection.setRng($a(Tt))}},At=(N,Z,ne,Oe)=>{const ze=Lo(Z);Ks(N.dom,ne,Oe);const Tt=$a(ze);N.selection.setRng(Tt)},Sa=(N,Z)=>{const ne=N.dom,Oe=N.selection,ze=Oe.getStart(),Tt=Co(N,ze),Ln=ne.getParent(Oe.getStart(),"LI",Tt);if(Ln){const so=Ln.parentElement;if(so===N.getBody()&&La(ne,so))return!0;const Yn=Pr(Oe.getRng()),_n=ne.getParent(wi(N,Yn,Z,Tt),"LI",Tt),Jo=_n&&(Z?ne.isChildOf(Ln,_n):ne.isChildOf(_n,Ln));if(_n&&_n!==Ln&&!Jo)return N.undoManager.transact(()=>{Z?Vc(N,Yn,_n,Ln):wo(Ln)?Fc(N):At(N,Yn,Ln,_n)}),!0;if(Jo&&!Z&&_n!==Ln)return N.undoManager.transact(()=>{if(Yn.commonAncestorContainer.parentElement){const Rs=Lo(Yn),cs=Yn.commonAncestorContainer.parentElement;Ah(ne,Yn.commonAncestorContainer.parentElement,_n),cs.remove();const ac=$a(Rs);N.selection.setRng(ac)}}),!0;if(!_n&&!Z&&Yn.startOffset===0&&Yn.endOffset===0)return N.undoManager.transact(()=>{Kd(N)}),!0}return!1},Th=(N,Z,ne)=>{const Oe=N.getParent(Z.parentNode,N.isBlock,ne);N.remove(Z),Oe&&N.isEmpty(Oe)&&N.remove(Oe)},ls=(N,Z)=>{const ne=N.dom,Oe=N.selection.getStart(),ze=Co(N,Oe),Tt=ne.getParent(Oe,ne.isBlock,ze);if(Tt&&ne.isEmpty(Tt,void 0,{checkRootAsContent:!0})){const Ln=Pr(N.selection.getRng()),so=ne.getParent(wi(N,Ln,Z,ze),"LI",ze);if(so){const Yn=cs=>Ze(["td","th","caption"],Oo(cs)),_n=cs=>cs.dom===ze,Jo=ca(ge.fromDom(so),Yn,_n),Rs=ca(ge.fromDom(Ln.startContainer),Yn,_n);return xn(Jo,Rs,$t)?(N.undoManager.transact(()=>{const cs=so.parentNode;Th(ne,Tt,ze),sd(ne,cs),N.selection.select(so,!0),N.selection.collapse(Z)}),!0):!1}}return!1},Su=(N,Z)=>Sa(N,Z)||ls(N,Z),Ci=N=>{const Z=N.selection.getStart(),ne=Co(N,Z);return N.dom.getParent(Z,"LI,DT,DD",ne)||vl(N).length>0},rc=N=>Ci(N)?(N.undoManager.transact(()=>{N.execCommand("Delete"),is(N.dom,N.getBody())}),!0):!1,am=(N,Z)=>{const ne=N.selection;return!$d(N,ne.getNode())&&(ne.isCollapsed()?Su(N,Z):rc(N))},Fi=N=>{N.on("ExecCommand",Z=>{const ne=Z.command.toLowerCase();(ne==="delete"||ne==="forwarddelete")&&Ci(N)&&is(N.dom,N.getBody())}),N.on("keydown",Z=>{Z.keyCode===zd.BACKSPACE?am(N,!1)&&Z.preventDefault():Z.keyCode===zd.DELETE&&am(N,!0)&&Z.preventDefault()})},Io=N=>({backspaceDelete:Z=>{am(N,Z)}}),Os=(N,Z)=>{const ne=Fa(N);ne===null||$d(N,ne)||N.undoManager.transact(()=>{x(Z.styles)&&N.dom.setStyles(ne,Z.styles),x(Z.attrs)&&xs(Z.attrs,(Oe,ze)=>N.dom.setAttrib(ne,ze,Oe))})},Yd=N=>{const Z=nr(Sy(N).split("")),ne=Ce(Z,(Oe,ze)=>{const Tt=Oe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ze)*Tt});return Pt(ne,(Oe,ze)=>Oe+ze,0)},ws=N=>{if(N--,N<0)return"";{const Z=N%26,ne=Math.floor(N/26),Oe=ws(ne),ze=String.fromCharCode(65+Z);return Oe+ze}},xg=N=>/^[A-Z]+$/.test(N),$c=N=>/^[a-z]+$/.test(N),i1=N=>/^[0-9]+$/.test(N),gs=N=>i1(N)?2:xg(N)?0:$c(N)?1:jp(N)?3:4,et=N=>{switch(gs(N)){case 2:return te.some({listStyleType:te.none(),start:N});case 0:return te.some({listStyleType:te.some("upper-alpha"),start:Yd(N).toString()});case 1:return te.some({listStyleType:te.some("lower-alpha"),start:Yd(N).toString()});case 3:return te.some({listStyleType:te.none(),start:""});case 4:return te.none()}},_i=N=>{const Z=parseInt(N.start,10);return ho(N.listStyleType,"upper-alpha")?ws(Z):ho(N.listStyleType,"lower-alpha")?ws(Z).toLowerCase():N.start},Ds=N=>{const Z=Fa(N);!dn(Z)||$d(N,Z)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:_i({start:N.dom.getAttrib(Z,"start","1"),listStyleType:te.from(N.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ne=>{const Oe=ne.getData();et(Oe.start).each(ze=>{N.execCommand("mceListUpdate",!1,{attrs:{start:ze.start==="1"?"":ze.start},styles:{"list-style-type":ze.listStyleType.getOr("")}})}),ne.close()}})},Al=(N,Z)=>()=>{const ne=Fa(N);return R(ne)&&ne.nodeName===Z},sc=N=>{N.addCommand("mceListProps",()=>{Ds(N)})},Hs=N=>{N.on("BeforeExecCommand",Z=>{const ne=Z.command.toLowerCase();ne==="indent"?Pi(N):ne==="outdent"&&Fc(N)}),N.addCommand("InsertUnorderedList",(Z,ne)=>{_u(N,"UL",ne)}),N.addCommand("InsertOrderedList",(Z,ne)=>{_u(N,"OL",ne)}),N.addCommand("InsertDefinitionList",(Z,ne)=>{_u(N,"DL",ne)}),N.addCommand("RemoveList",()=>{Kd(N)}),sc(N),N.addCommand("mceListUpdate",(Z,ne)=>{x(ne)&&Os(N,ne)}),N.addQueryStateHandler("InsertUnorderedList",Al(N,"UL")),N.addQueryStateHandler("InsertOrderedList",Al(N,"OL")),N.addQueryStateHandler("InsertDefinitionList",Al(N,"DL"))};var Fr=tinymce.util.Tools.resolve("tinymce.html.Node");const fr=N=>N.type===3,Si=N=>N.length===0,Tl=N=>{const Z=(ze,Tt)=>{const Ln=Fr.create("li");Ne(ze,so=>Ln.append(so)),Tt?N.insert(Ln,Tt,!0):N.append(Ln)},ne=(ze,Tt)=>fr(Tt)?[...ze,Tt]:!Si(ze)&&!fr(Tt)?(Z(ze,Tt),[]):ze,Oe=Pt(N.children(),ne,[]);Si(Oe)||Z(Oe)},Uc=N=>{N.on("PreInit",()=>{const{parser:Z}=N;Z.addNodeFilter("ul,ol",ne=>Ne(ne,Tl))})},ad=N=>{N.on("keydown",Z=>{Z.keyCode!==zd.TAB||zd.metaKeyPressed(Z)||N.undoManager.transact(()=>{(Z.shiftKey?Fc(N):Pi(N))&&Z.preventDefault()})})},im=N=>{as(N)&&ad(N),Fi(N)},wg=(N,Z)=>ne=>{const Oe=ze=>{ne.setActive(n1(ze.parents,Z)),ne.setEnabled(!$d(N,ze.element)&&N.selection.isEditable())};return ne.setEnabled(N.selection.isEditable()),o1(N,Oe)},Cg=N=>{const Z=ne=>()=>N.execCommand(ne);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:wg(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:wg(N,"UL")}))},Jp=(N,Z)=>ne=>o1(N,ze=>ne.setEnabled(n1(ze.parents,Z)&&!$d(N,ze.element))),Qp=N=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:Jp(N,"OL")};N.ui.registry.addMenuItem("listprops",Z),N.ui.registry.addContextMenu("lists",{update:ne=>{const Oe=Fa(N,ne);return dn(Oe)?["listprops"]:[]}})};var ku=()=>{r.add("lists",N=>(Qi(N),Uc(N),N.hasPlugin("rtc",!0)?sc(N):(im(N),Hs(N)),Cg(N),Qp(N),Io(N)))};ku()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(le,xe)=>le.dispatch("insertCustomChar",{chr:xe}),u=(le,xe)=>{const Me=i(le,xe).chr;le.execCommand("mceInsertContent",!1,Me)},m=(le,xe,Me)=>{var ge;return Me(le,xe.prototype)?!0:((ge=le.constructor)===null||ge===void 0?void 0:ge.name)===xe.name},b=le=>{const xe=typeof le;return le===null?"null":xe==="object"&&Array.isArray(le)?"array":xe==="object"&&m(le,String,(Me,ge)=>ge.isPrototypeOf(Me))?"string":xe},p=le=>xe=>b(xe)===le,x=le=>xe=>typeof xe===le,S=le=>xe=>le===xe,M=p("array"),I=S(null),R=S(void 0),z=le=>le==null,U=le=>!z(le),$=x("function"),ee=(le=>()=>le)(!1);class he{constructor(xe,Me){this.tag=xe,this.value=Me}static some(xe){return new he(!0,xe)}static none(){return he.singletonNone}fold(xe,Me){return this.tag?Me(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?he.some(xe(this.value)):he.none()}bind(xe){return this.tag?xe(this.value):he.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:he.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return U(xe)?he.some(xe):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const me=Array.prototype.push,$e=(le,xe)=>{const Me=le.length,ge=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];ge[St]=xe($t,St)}return ge},Te=(le,xe)=>{for(let Me=0,ge=le.length;Me<ge;Me++){const St=le[Me];xe(St,Me)}},te=(le,xe,Me)=>{for(let ge=0,St=le.length;ge<St;ge++){const $t=le[ge];if(xe($t,ge))return he.some($t);if(Me($t,ge))break}return he.none()},Ae=(le,xe)=>te(le,xe,ee),re=le=>{const xe=[];for(let Me=0,ge=le.length;Me<ge;++Me){if(!M(le[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+le);me.apply(xe,le[Me])}return xe},Ge=(le,xe)=>re($e(le,xe));var Ve=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=le=>xe=>xe.options.get(le),rt=le=>{const xe=le.options.register,Me=ge=>$(ge)||M(ge);xe("charmap",{processor:Me}),xe("charmap_append",{processor:Me})},Ce=Ze("charmap"),Ne=Ze("charmap_append"),D=Ve.isArray,yt="User Defined",Pt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],ln=le=>Ve.grep(le,xe=>D(xe)&&xe.length===2),gn=le=>D(le)?ln(le):typeof le=="function"?le():[],Qe=(le,xe)=>{const Me=Ce(le);Me&&(xe=[{name:yt,characters:gn(Me)}]);const ge=Ne(le);if(ge){const St=Ve.grep(xe,$t=>$t.name===yt);return St.length?(St[0].characters=[...St[0].characters,...gn(ge)],xe):xe.concat({name:yt,characters:gn(ge)})}return xe},On=le=>{const xe=Qe(le,Pt());return xe.length>1?[{name:"All",characters:Ge(xe,Me=>Me.characters)}].concat(xe):xe},nr=le=>({getCharMap:()=>On(le),insertChar:ge=>{u(le,ge)}}),pt=le=>{let xe=le;return{get:()=>xe,set:St=>{xe=St}}},bt=(le,xe)=>{let Me=null;const ge=()=>{I(Me)||(clearTimeout(Me),Me=null)};return{cancel:ge,throttle:(...$t)=>{ge(),Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe)}}},Zt=(le,xe,Me=0,ge)=>{const St=le.indexOf(xe,Me);return St!==-1?R(ge)?!0:St+xe.length<=ge:!1},Ur=String.fromCodePoint,ho=(le,xe,Me)=>Zt(Ur(le).toLowerCase(),Me)?!0:Zt(xe.toLowerCase(),Me)||Zt(xe.toLowerCase().replace(/\s+/g,""),Me),xn=(le,xe)=>{const Me=[],ge=xe.toLowerCase();return Te(le.characters,St=>{ho(St[0],St[1],ge)&&Me.push(St)}),$e(Me,St=>({text:St[1],value:Ur(St[0]),icon:Ur(St[0])}))},Rn="pattern",J=(le,xe)=>{const Me=()=>[{label:"Search",type:"input",name:Rn},{type:"collection",name:"results"}],ge=()=>$e(xe,vo=>({title:vo.name,name:vo.name,items:Me()})),St=()=>({type:"panel",items:Me()}),$t=()=>({type:"tabpanel",tabs:ge()}),Ct=xe.length===1?pt(yt):pt("All"),zt=(vo,Ao)=>{Ae(xe,Oo=>Oo.name===Ct.get()).each(Oo=>{const Es=xn(Oo,Ao);vo.setData({results:Es})})},on=bt(vo=>{const Ao=vo.getData().pattern;zt(vo,Ao)},40),wn=xe.length===1?St():$t(),Cn={pattern:"",results:xn(xe[0],"")},En={title:"Special Character",size:"normal",body:wn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Cn,onAction:(vo,Ao)=>{Ao.name==="results"&&(u(le,Ao.value),vo.close())},onTabChange:(vo,Ao)=>{Ct.set(Ao.newTabName),on.throttle(vo)},onChange:(vo,Ao)=>{Ao.name===Rn&&on.throttle(vo)}};le.windowManager.open(En).focus(Rn)},sr=(le,xe)=>{le.addCommand("mceShowCharmap",()=>{J(le,xe)})},br=(le,xe)=>{le.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Me,ge)=>new Promise((St,$t)=>{St(xn(xe,Me))}),onAction:(Me,ge,St)=>{le.selection.setRng(ge),le.insertContent(St),Me.hide()}})},Ko=le=>xe=>{const Me=()=>{xe.setEnabled(le.selection.isEditable())};return le.on("NodeChange",Me),Me(),()=>{le.off("NodeChange",Me)}},oi=le=>{const xe=()=>le.execCommand("mceShowCharmap");le.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ko(le)}),le.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ko(le)})};var Ke=()=>{r.add("charmap",le=>{rt(le);const xe=On(le);return sr(le,xe),oi(le),br(le,xe[0]),nr(le)})};Ke()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le=>xe=>le===xe)(null),m=le=>le,b=(le,xe)=>{const Me=le.length,ge=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];ge[St]=xe($t,St)}return ge},x={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},M=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],I="",R=new RegExp("^"+x.punctuation+"$"),z=/^\s+$/,U=M,$=S.OTHER,G=le=>{let xe=$;const Me=U.length;for(let ge=0;ge<Me;++ge){const St=U[ge];if(St&&St.test(le)){xe=ge;break}}return xe},ee=le=>{const xe={};return Me=>{if(xe[Me])return xe[Me];{const ge=le(Me);return xe[Me]=ge,ge}}},he=le=>{const xe=ee(G);return b(le,xe)},me=(le,xe)=>{const Me=le[xe],ge=le[xe+1];if(xe<0||xe>le.length-1&&xe!==0||Me===S.ALETTER&&ge===S.ALETTER)return!1;const St=le[xe+2];if(Me===S.ALETTER&&(ge===S.MIDLETTER||ge===S.MIDNUMLET||ge===S.AT)&&St===S.ALETTER)return!1;const $t=le[xe-1];return(Me===S.MIDLETTER||Me===S.MIDNUMLET||ge===S.AT)&&ge===S.ALETTER&&$t===S.ALETTER||(Me===S.NUMERIC||Me===S.ALETTER)&&(ge===S.NUMERIC||ge===S.ALETTER)||(Me===S.MIDNUM||Me===S.MIDNUMLET)&&ge===S.NUMERIC&&$t===S.NUMERIC||Me===S.NUMERIC&&(ge===S.MIDNUM||ge===S.MIDNUMLET)&&St===S.NUMERIC||(Me===S.EXTEND||Me===S.FORMAT)&&(ge===S.ALETTER||ge===S.NUMERIC||ge===S.KATAKANA||ge===S.EXTEND||ge===S.FORMAT)||(ge===S.EXTEND||ge===S.FORMAT&&(St===S.ALETTER||St===S.NUMERIC||St===S.KATAKANA||St===S.EXTEND||St===S.FORMAT))&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTEND||Me===S.FORMAT)||Me===S.CR&&ge===S.LF?!1:Me===S.NEWLINE||Me===S.CR||Me===S.LF||ge===S.NEWLINE||ge===S.CR||ge===S.LF?!0:!(Me===S.KATAKANA&&ge===S.KATAKANA||ge===S.EXTENDNUMLET&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTENDNUMLET)||Me===S.EXTENDNUMLET&&(ge===S.ALETTER||ge===S.NUMERIC||ge===S.KATAKANA)||Me===S.AT)},$e=I,Te=z,te=R,Ae=le=>le==="http"||le==="https",re=(le,xe)=>{let Me;for(Me=xe;Me<le.length&&!Te.test(le[Me]);Me++);return Me},Ge=(le,xe)=>{const Me=re(le,xe+1);return le.slice(xe+1,Me).join($e).substr(0,3)==="://"?Me:xe},Ve=(le,xe,Me,ge)=>{const St=[],$t=[];let Ct=[];for(let zt=0;zt<Me.length;++zt)if(Ct.push(le[zt]),me(Me,zt)){const It=xe[zt];if((ge.includeWhitespace||!Te.test(It))&&(ge.includePunctuation||!te.test(It))){const on=zt-Ct.length+1,wn=zt+1,Cn=xe.slice(on,wn).join($e);if(Ae(Cn)){const En=Ge(xe,zt),ao=le.slice(wn,En);Array.prototype.push.apply(Ct,ao),zt=En}xe[zt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Cn+".")?(Ct.push(le[zt+1]),$t.push({start:on,end:wn+1})):$t.push({start:on,end:wn}),St.push(Ct)}Ct=[]}return{words:St,indices:$t}},Ze=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(le,xe,Me)=>{Me={...Ze(),...Me};const ge=b(le,xe),St=he(ge);return Ve(le,ge,St,Me)},Ne=(le,xe,Me)=>rt(le,xe,Me).words,D=le=>le.replace(/\uFEFF/g,"");var yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Pt=(le,xe)=>{const Me=xe.getBlockElements(),ge=xe.getVoidElements(),St=on=>Me[on.nodeName]||ge[on.nodeName],$t=[];let Ct="";const zt=new yt(le,le);let It;for(;It=zt.next();)It.nodeType===3?Ct+=D(It.data):St(It)&&Ct.length&&($t.push(Ct),Ct="");return Ct.length&&$t.push(Ct),$t},ln=le=>le.replace(/\u200B/g,""),gn=le=>le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Qe=(le,xe)=>{const Me=ln(Pt(le,xe).join(`
`));return Ne(Me.split(""),m).length},On=(le,xe)=>{const Me=Pt(le,xe).join("");return gn(Me)},nr=(le,xe)=>{const Me=Pt(le,xe).join("").replace(/\s/g,"");return gn(Me)},pt=(le,xe)=>()=>xe(le.getBody(),le.schema),bt=(le,xe)=>()=>xe(le.selection.getRng().cloneContents(),le.schema),Zt=le=>pt(le,Qe),Ur=le=>({body:{getWordCount:Zt(le),getCharacterCount:pt(le,On),getCharacterCountWithoutSpaces:pt(le,nr)},selection:{getWordCount:bt(le,Qe),getCharacterCount:bt(le,On),getCharacterCountWithoutSpaces:bt(le,nr)},getCount:Zt(le)}),ho=(le,xe)=>{le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},xn=(le,xe)=>{le.addCommand("mceWordCount",()=>ho(le,xe))},Rn=(le,xe)=>{let Me=null;return{cancel:()=>{u(Me)||(clearTimeout(Me),Me=null)},throttle:(...$t)=>{u(Me)&&(Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const sr=(le,xe)=>{le.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},br=(le,xe)=>{sr(le,xe)},Ko=(le,xe,Me)=>{const ge=Rn(()=>br(le,xe),Me);le.on("init",()=>{br(le,xe),J.setEditorTimeout(le,()=>{le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ge.throttle)},0),le.on("remove",ge.cancel)})},oi=le=>{const xe=()=>le.execCommand("mceWordCount");le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Ke=(le=300)=>{r.add("wordcount",xe=>{const Me=Ur(xe);return xn(xe,Me),oi(xe),Ko(xe,Me,le),Me})};Ke()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var zhe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Hhe=function(r){return zhe.map(function(i){return i.toLowerCase()}).indexOf(r.toLowerCase())!==-1},Vhe=function(r,i,u){Object.keys(i).filter(Hhe).forEach(function(m){var b=i[m];typeof b=="function"&&(m==="onInit"?b(r,u):u.on(m.substring(2),function(p){return b(p,u)}))})},$he=function(r,i,u,m){var b=r.modelEvents?r.modelEvents:null,p=Array.isArray(b)?b.join(" "):b;Xn(m,function(x,S){u&&typeof x=="string"&&x!==S&&x!==u.getContent({format:r.outputFormat})&&u.setContent(x)}),u.on(p||"change input undo redo",function(){i.emit("update:modelValue",u.getContent({format:r.outputFormat}))})},Uhe=function(r,i,u,m,b,p){m.setContent(p()),u.attrs["onUpdate:modelValue"]&&$he(i,u,m,b),Vhe(r,u.attrs,m)},bK=0,QY=function(r){var i=Date.now(),u=Math.floor(Math.random()*1e9);return bK++,r+"_"+u+bK+String(i)},Whe=function(r){return r!==null&&r.tagName.toLowerCase()==="textarea"},vK=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},Zhe=function(r,i){return vK(r).concat(vK(i))},jhe=function(r){return r==null},yK=function(){return{listeners:[],scriptId:QY("tiny-script"),scriptLoaded:!1}},Khe=function(){var r=yK(),i=function(b,p,x,S){var M=p.createElement("script");M.referrerPolicy="origin",M.type="application/javascript",M.id=b,M.src=x;var I=function(){M.removeEventListener("load",I),S()};M.addEventListener("load",I),p.head&&p.head.appendChild(M)},u=function(b,p,x){r.scriptLoaded?x():(r.listeners.push(x),b.getElementById(r.scriptId)||i(r.scriptId,b,p,function(){r.listeners.forEach(function(S){return S()}),r.scriptLoaded=!0}))},m=function(){r=yK()};return{load:u,reinitialize:m}},qhe=Khe(),Ghe=function(){return typeof window<"u"?window:global},ww=function(){var r=Ghe();return r&&r.tinymce?r.tinymce:null},Yhe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(r){return r==="html"||r==="text"}}},Mp=function(){return Mp=Object.assign||function(r){for(var i,u=1,m=arguments.length;u<m;u++){i=arguments[u];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(r[b]=i[b])}return r},Mp.apply(this,arguments)},Xhe=function(r,i,u,m){return r(m||"div",{id:i,ref:u})},Jhe=function(r,i,u){return r("textarea",{id:i,visibility:"hidden",ref:u})},SH={selector:void 0,target:void 0},eX=oq({props:Yhe,setup:function(r,i){var u=r.init?Mp(Mp({},r.init),SH):Mp({},SH),m=aO(r),b=m.disabled,p=m.modelValue,x=m.tagName,S=Mo(null),M=null,I=r.id||QY("tiny-vue"),R=r.init&&r.init.inline||r.inline,z=!!i.attrs["onUpdate:modelValue"],U=!0,$=r.initialValue?r.initialValue:"",G="",ee=function($e){return z?function(){return p!=null&&p.value?p.value:""}:function(){return $e?$:G}},he=function(){var $e=ee(U),Te=Mp(Mp({},u),{readonly:r.disabled,target:S.value,plugins:Zhe(u.plugins,r.plugins),toolbar:r.toolbar||u.toolbar,inline:R,setup:function(te){M=te,te.on("init",function(Ae){return Uhe(Ae,r,i,te,p,$e)}),typeof u.setup=="function"&&u.setup(te)}});Whe(S.value)&&(S.value.style.visibility=""),ww().init(Te),U=!1};Xn(b,function($e){var Te;M!==null&&(typeof((Te=M.mode)===null||Te===void 0?void 0:Te.set)=="function"?M.mode.set($e?"readonly":"design"):M.setMode($e?"readonly":"design"))}),Xn(x,function($e){var Te;z||(G=M.getContent()),(Te=ww())===null||Te===void 0||Te.remove(M),Ia(function(){return he()})}),Tc(function(){if(ww()!==null)he();else if(S.value&&S.value.ownerDocument){var $e=r.cloudChannel?r.cloudChannel:"7",Te=r.apiKey?r.apiKey:"no-api-key",te=jhe(r.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Te,"/tinymce/").concat($e,"/tinymce.min.js"):r.tinymceScriptSrc;qhe.load(S.value.ownerDocument,te,he)}}),Oc(function(){ww()!==null&&ww().remove(M)}),R||(kV(function(){U||he()}),EV(function(){var $e;z||(G=M.getContent()),($e=ww())===null||$e===void 0||$e.remove(M)}));var me=function($e){var Te;G=M.getContent(),(Te=ww())===null||Te===void 0||Te.remove(M),u=Mp(Mp(Mp({},u),$e),SH),Ia(function(){return he()})};return i.expose({rerender:me,getEditor:function(){return M}}),function(){return R?Xhe(Hp,I,S,r.tagName):Jhe(Hp,I,S)}}});let Bp,A8,Yv;class tX{constructor(i){_r(this,"editor_id",null);_r(this,"editor",null);_r(this,"wordCount",Mo(0));_r(this,"characterCount",Mo(0));this.editor_id=i,Bp=ph(),A8=c$(),Yv=Z0()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Bp.tinyToolbar,valid_elements:Bp.tinyValidElements,formats:Bp.tinyFormats,style_formats:Bp.tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Bp.tinyContentStyle,browser_spellcheck:Bp.allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor Abgabe-Text",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:this.handlePaste}}init(){this.editor=Fhe.get(this.editor_id),this.applyZoom(),this.applyFormat(),this.applyWordCount()}handleCopy(i){A8.setContent(i.clipboardData.getData("text/html"))}handlePaste(i,u){A8.getPasteAllowed(u.content)||(u.content="",A8.showWarning())}async applyFocus(){try{await Ia(),this.editor.focus()}catch{}}applyFormat(){for(const i of document.getElementsByClassName("tox-tinymce-aux"))i.classList.add(Bp.contentClass)}applyZoom(){try{this.editor.dom.setStyle(this.editor.dom.doc.body,"font-size",Yv.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h1"),"font-size",Yv.editor_zoom*Bp.tinyH1Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h2"),"font-size",Yv.editor_zoom*Bp.tinyH2Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h3"),"font-size",Yv.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h4"),"font-size",Yv.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h5"),"font-size",Yv.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h6"),"font-size",Yv.editor_zoom+"rem")}catch{}}applyScrolling(){try{this.editor.selection.getNode().scrollIntoView(!1)}catch{}}applyWordCount(){try{const i=this.editor.plugins.wordcount;this.wordCount.value=i.body.getWordCount(),this.characterCount.value=i.body.getCharacterCount()}catch{}}}const Qhe={id:"app-note-edit-wrapper"},epe=["for"],tpe={class:"tinyWrapper"},npe={class:"wordCountWrapper"},ope={__name:"EditNote",props:["noteKey","noteLabel"],setup(r){const i=oy(),u=ph(),m=Z0(),b=Ec(),p=r,x=new tX("app-note-"+p.noteKey);Xn(()=>u.contentClass,x.applyFormat.bind(x)),Xn(()=>m.editor_zoom,x.applyZoom.bind(x)),Xn(()=>b.focusChange,S);async function S(){b.focusTarget=="right"&&b.isNotesSelected&&i.activeKey==p.noteKey&&x.applyFocus()}function M(){x.init()}function I(){i.updateContent(!0),x.applyZoom(),x.applyWordCount(),x.applyScrolling()}function R(){i.updateContent(!0),x.applyWordCount(),x.applyScrolling()}return(z,U)=>(hr(),Cl("div",Qhe,[lt("label",{class:"hidden",for:"app-note-"+p.noteKey},Bd("Verborgenes Feld zur "+p.noteLabel),9,epe),lt("div",tpe,[be(Ue(eX),{id:"app-note-"+p.noteKey,modelValue:Ue(i).editNotes[p.noteKey].note_text,"onUpdate:modelValue":U[0]||(U[0]=$=>Ue(i).editNotes[p.noteKey].note_text=$),onInit:M,onChange:I,onKeyup:R,onKeydown:Ue(b).handleKeyDown,onCopy:Ue(x).handleCopy,onCut:Ue(x).handleCopy,"api-key":"no-api-key",init:Ue(x).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","init"])]),qo(lt("div",npe,[be($r,{variant:"text",size:"small",onClick:U[1]||(U[1]=$=>Ue(m).toggleWordCountCharacters()),text:Ue(m).word_count_characters?Ue(x).characterCount.value+" Zeichen":Ue(x).wordCount.value+" Wörter"},null,8,["text"])],512),[[gr,Ue(m).word_count_enabled]])]))}},rpe=fg(ope,[["__scopeId","data-v-9e2cf43c"]]),spe=r=>(by("data-v-ae54263f"),r=r(),vy(),r),ape={id:"app-essay-edit-wrapper"},ipe=spe(()=>lt("label",{for:"app-essay",class:"hidden"},"Verborgenes Feld zum Abgabe-Text",-1)),lpe={class:"tinyWrapper"},cpe={class:"wordCountWrapper"},upe={__name:"EditEssay",setup(r){const i=z0(),u=ph(),m=Z0(),b=Ec(),p=new tX("app-essay");Xn(()=>u.contentClass,p.applyFormat.bind(p)),Xn(()=>m.editor_zoom,p.applyZoom.bind(p)),Xn(()=>b.focusChange,x);async function x(){b.focusTarget=="right"&&b.isEssayVisible&&p.applyFocus()}function S(){p.init()}function M(){i.updateContent(!0),p.applyZoom(),p.applyWordCount(),p.applyScrolling()}function I(){i.updateContent(!0),p.applyWordCount(),p.applyScrolling()}return(R,z)=>(hr(),Cl("div",ape,[ipe,lt("div",lpe,[be(Ue(eX),{id:"app-essay",modelValue:Ue(i).currentContent,"onUpdate:modelValue":z[0]||(z[0]=U=>Ue(i).currentContent=U),onInit:S,onChange:M,onKeyup:I,onKeydown:Ue(b).handleKeyDown,onCopy:Ue(p).handleCopy,onCut:Ue(p).handleCopy,"api-key":"no-api-key",init:Ue(p).getInit()},null,8,["modelValue","onKeydown","onCopy","onCut","init"])]),qo(lt("div",cpe,[be($r,{variant:"text",size:"small",onClick:z[1]||(z[1]=U=>Ue(m).toggleWordCountCharacters()),text:Ue(m).word_count_characters?Ue(p).characterCount.value+" Zeichen":Ue(p).wordCount.value+" Wörter"},null,8,["text"])],512),[[gr,Ue(m).word_count_enabled]])]))}},dpe=fg(upe,[["__scopeId","data-v-ae54263f"]]),fpe=eo({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ss(),...DM({transition:{component:vY}})},"VCounter"),mpe=rr()({name:"VCounter",functional:!0,props:fpe(),setup(r,i){let{slots:u}=i;const m=ct(()=>r.max?`${r.value} / ${r.max}`:String(r.value));return jr(()=>be(ry,{transition:r.transition},{default:()=>[qo(be("div",{class:["v-counter",{"text-error":r.max&&!r.disabled&&parseFloat(r.value)>parseFloat(r.max)},r.class],style:r.style},[u.default?u.default({counter:m.value,max:r.max,value:r.value}):m.value]),[[gr,r.active]])]})),{}}}),gpe=eo({text:String,onClick:ug(),...ss(),...Ql()},"VLabel"),hpe=rr()({name:"VLabel",props:gpe(),setup(r,i){let{slots:u}=i;return jr(()=>{var m;return be("label",{class:["v-label",{"v-label--clickable":!!r.onClick},r.class],style:r.style,onClick:r.onClick},[r.text,(m=u.default)==null?void 0:m.call(u)])}),{}}}),ppe=eo({floating:Boolean,...ss()},"VFieldLabel"),T8=rr()({name:"VFieldLabel",props:ppe(),setup(r,i){let{slots:u}=i;return jr(()=>be(hpe,{class:["v-field-label",{"v-field-label--floating":r.floating},r.class],style:r.style,"aria-hidden":r.floating||void 0},u)),{}}});function nX(r){const{t:i}=kce();function u(m){let{name:b}=m;const p={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[b],x=r[`onClick:${b}`],S=x&&p?i(`$vuetify.input.${p}`,r.label??""):void 0;return be(Sr,{icon:r[`${b}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:u}}const oX=eo({focused:Boolean,"onUpdate:focused":ug()},"focus");function rX(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p();const u=$f(r,"focused"),m=ct(()=>({[`${i}--focused`]:u.value}));function b(){u.value=!0}function p(){u.value=!1}return{focusClasses:m,isFocused:u,focus:b,blur:p}}const bpe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],sX=eo({appendInnerIcon:_l,bgColor:String,clearable:Boolean,clearIcon:{type:_l,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:_l,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:r=>bpe.includes(r)},"onClick:clear":ug(),"onClick:appendInner":ug(),"onClick:prependInner":ug(),...ss(),...JV(),...xh(),...Ql()},"VField"),aX=rr()({name:"VField",inheritAttrs:!1,props:{id:String,...oX(),...sX()},emits:{"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const{themeClasses:p}=Dc(r),{loaderClasses:x}=QV(r),{focusClasses:S,isFocused:M,focus:I,blur:R}=rX(r),{InputIcon:z}=nX(r),{roundedClasses:U}=wh(r),{rtlClasses:$}=Y0(),G=ct(()=>r.dirty||r.active),ee=ct(()=>!r.singleLine&&!!(r.label||b.label)),he=yy(),me=ct(()=>r.id||`input-${he}`),$e=ct(()=>`${me.value}-messages`),Te=Mo(),te=Mo(),Ae=Mo(),re=ct(()=>["plain","underlined"].includes(r.variant)),{backgroundColorClasses:Ge,backgroundColorStyles:Ve}=zp(es(r,"bgColor")),{textColorClasses:Ze,textColorStyles:rt}=my(ct(()=>r.error||r.disabled?void 0:G.value&&M.value?r.color:r.baseColor));Xn(G,yt=>{if(ee.value){const Pt=Te.value.$el,ln=te.value.$el;requestAnimationFrame(()=>{const gn=zV(Pt),Qe=ln.getBoundingClientRect(),On=Qe.x-gn.x,nr=Qe.y-gn.y-(gn.height/2-Qe.height/2),pt=Qe.width/.75,bt=Math.abs(pt-gn.width)>1?{maxWidth:cr(pt)}:void 0,Zt=getComputedStyle(Pt),Ur=getComputedStyle(ln),ho=parseFloat(Zt.transitionDuration)*1e3||150,xn=parseFloat(Ur.getPropertyValue("--v-field-label-scale")),Rn=Ur.getPropertyValue("color");Pt.style.visibility="visible",ln.style.visibility="hidden",QS(Pt,{transform:`translate(${On}px, ${nr}px) scale(${xn})`,color:Rn,...bt},{duration:ho,easing:K8,direction:yt?"normal":"reverse"}).finished.then(()=>{Pt.style.removeProperty("visibility"),ln.style.removeProperty("visibility")})})}},{flush:"post"});const Ce=ct(()=>({isActive:G,isFocused:M,controlRef:Ae,blur:R,focus:I}));function Ne(yt){yt.target!==document.activeElement&&yt.preventDefault()}function D(yt){var Pt;yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),(Pt=r["onClick:clear"])==null||Pt.call(r,new MouseEvent("click")))}return jr(()=>{var On,nr,pt;const yt=r.variant==="outlined",Pt=!!(b["prepend-inner"]||r.prependInnerIcon),ln=!!(r.clearable||b.clear),gn=!!(b["append-inner"]||r.appendInnerIcon||ln),Qe=()=>b.label?b.label({...Ce.value,label:r.label,props:{for:me.value}}):r.label;return be("div",Na({class:["v-field",{"v-field--active":G.value,"v-field--appended":gn,"v-field--center-affix":r.centerAffix??!re.value,"v-field--disabled":r.disabled,"v-field--dirty":r.dirty,"v-field--error":r.error,"v-field--flat":r.flat,"v-field--has-background":!!r.bgColor,"v-field--persistent-clear":r.persistentClear,"v-field--prepended":Pt,"v-field--reverse":r.reverse,"v-field--single-line":r.singleLine,"v-field--no-label":!Qe(),[`v-field--variant-${r.variant}`]:!0},p.value,Ge.value,S.value,x.value,U.value,$.value,r.class],style:[Ve.value,r.style],onClick:Ne},u),[be("div",{class:"v-field__overlay"},null),be(tY,{name:"v-field",active:!!r.loading,color:r.error?"error":typeof r.loading=="string"?r.loading:r.color},{default:b.loader}),Pt&&be("div",{key:"prepend",class:"v-field__prepend-inner"},[r.prependInnerIcon&&be(z,{key:"prepend-icon",name:"prependInner"},null),(On=b["prepend-inner"])==null?void 0:On.call(b,Ce.value)]),be("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(r.variant)&&ee.value&&be(T8,{key:"floating-label",ref:te,class:[Ze.value],floating:!0,for:me.value,style:rt.value},{default:()=>[Qe()]}),be(T8,{ref:Te,for:me.value},{default:()=>[Qe()]}),(nr=b.default)==null?void 0:nr.call(b,{...Ce.value,props:{id:me.value,class:"v-field__input","aria-describedby":$e.value},focus:I,blur:R})]),ln&&be(Sme,{key:"clear"},{default:()=>[qo(be("div",{class:"v-field__clearable",onMousedown:bt=>{bt.preventDefault(),bt.stopPropagation()}},[be(uu,{defaults:{VIcon:{icon:r.clearIcon}}},{default:()=>[b.clear?b.clear({...Ce.value,props:{onKeydown:D,onFocus:I,onBlur:R,onClick:r["onClick:clear"]}}):be(z,{name:"clear",onKeydown:D,onFocus:I,onBlur:R},null)]})]),[[gr,r.dirty]])]}),gn&&be("div",{key:"append",class:"v-field__append-inner"},[(pt=b["append-inner"])==null?void 0:pt.call(b,Ce.value),r.appendInnerIcon&&be(z,{key:"append-icon",name:"appendInner"},null)]),be("div",{class:["v-field__outline",Ze.value],style:rt.value},[yt&&be(ks,null,[be("div",{class:"v-field__outline__start"},null),ee.value&&be("div",{class:"v-field__outline__notch"},[be(T8,{ref:te,floating:!0,for:me.value},{default:()=>[Qe()]})]),be("div",{class:"v-field__outline__end"},null)]),re.value&&ee.value&&be(T8,{ref:te,floating:!0,for:me.value},{default:()=>[Qe()]})])])}),{controlRef:Ae}}});function vpe(r){const i=Object.keys(aX.props).filter(u=>!LV(u)&&u!=="class"&&u!=="style");return Hq(r,i)}const ype=eo({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ss(),...DM({transition:{component:vY,leaveAbsolute:!0,group:!0}})},"VMessages"),xpe=rr()({name:"VMessages",props:ype(),setup(r,i){let{slots:u}=i;const m=ct(()=>Ow(r.messages)),{textColorClasses:b,textColorStyles:p}=my(ct(()=>r.color));return jr(()=>be(ry,{transition:r.transition,tag:"div",class:["v-messages",b.value,r.class],style:[p.value,r.style],role:"alert","aria-live":"polite"},{default:()=>[r.active&&m.value.map((x,S)=>be("div",{class:"v-messages__message",key:`${S}-${m.value}`},[u.message?u.message({message:x}):x]))]})),{}}}),wpe=Symbol.for("vuetify:form");function Cpe(){return qi(wpe,null)}const _pe=eo({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...oX()},"validation");function Spe(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$p(),u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yy();const m=$f(r,"modelValue"),b=ct(()=>r.validationValue===void 0?m.value:r.validationValue),p=Cpe(),x=Mo([]),S=Ar(!0),M=ct(()=>!!(Ow(m.value===""?null:m.value).length||Ow(b.value===""?null:b.value).length)),I=ct(()=>!!(r.disabled??(p==null?void 0:p.isDisabled.value))),R=ct(()=>!!(r.readonly??(p==null?void 0:p.isReadonly.value))),z=ct(()=>{var Ae;return(Ae=r.errorMessages)!=null&&Ae.length?Ow(r.errorMessages).concat(x.value).slice(0,Math.max(0,+r.maxErrors)):x.value}),U=ct(()=>{let Ae=(r.validateOn??(p==null?void 0:p.validateOn.value))||"input";Ae==="lazy"&&(Ae="input lazy"),Ae==="eager"&&(Ae="input eager");const re=new Set((Ae==null?void 0:Ae.split(" "))??[]);return{input:re.has("input"),blur:re.has("blur")||re.has("input")||re.has("invalid-input"),invalidInput:re.has("invalid-input"),lazy:re.has("lazy"),eager:re.has("eager")}}),$=ct(()=>{var Ae;return r.error||(Ae=r.errorMessages)!=null&&Ae.length?!1:r.rules.length?S.value?x.value.length||U.value.lazy?null:!0:!x.value.length:!0}),G=Ar(!1),ee=ct(()=>({[`${i}--error`]:$.value===!1,[`${i}--dirty`]:M.value,[`${i}--disabled`]:I.value,[`${i}--readonly`]:R.value})),he=Sl("validation"),me=ct(()=>r.name??Ue(u));AV(()=>{p==null||p.register({id:me.value,vm:he,validate:te,reset:$e,resetValidation:Te})}),Oc(()=>{p==null||p.unregister(me.value)}),Tc(async()=>{U.value.lazy||await te(!U.value.eager),p==null||p.update(me.value,$.value,z.value)}),bh(()=>U.value.input||U.value.invalidInput&&$.value===!1,()=>{Xn(b,()=>{if(b.value!=null)te();else if(r.focused){const Ae=Xn(()=>r.focused,re=>{re||te(),Ae()})}})}),bh(()=>U.value.blur,()=>{Xn(()=>r.focused,Ae=>{Ae||te()})}),Xn([$,z],()=>{p==null||p.update(me.value,$.value,z.value)});async function $e(){m.value=null,await Ia(),await Te()}async function Te(){S.value=!0,U.value.lazy?x.value=[]:await te(!U.value.eager)}async function te(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const re=[];G.value=!0;for(const Ge of r.rules){if(re.length>=+(r.maxErrors??1))break;const Ze=await(typeof Ge=="function"?Ge:()=>Ge)(b.value);if(Ze!==!0){if(Ze!==!1&&typeof Ze!="string"){console.warn(`${Ze} is not a valid value. Rule functions must return boolean true or a string.`);continue}re.push(Ze||"")}}return x.value=re,G.value=!1,S.value=Ae,x.value}return{errorMessages:z,isDirty:M,isDisabled:I,isReadonly:R,isPristine:S,isValid:$,isValidating:G,reset:$e,resetValidation:Te,validate:te,validationClasses:ee}}const iX=eo({id:String,appendIcon:_l,centerAffix:{type:Boolean,default:!0},prependIcon:_l,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:r=>["horizontal","vertical"].includes(r)},"onClick:prepend":ug(),"onClick:append":ug(),...ss(),...X0(),...Nle(J0(),["maxWidth","minWidth","width"]),...Ql(),..._pe()},"VInput"),xK=rr()({name:"VInput",props:{...iX()},emits:{"update:modelValue":r=>!0},setup(r,i){let{attrs:u,slots:m,emit:b}=i;const{densityClasses:p}=Cy(r),{dimensionStyles:x}=Q0(r),{themeClasses:S}=Dc(r),{rtlClasses:M}=Y0(),{InputIcon:I}=nX(r),R=yy(),z=ct(()=>r.id||`input-${R}`),U=ct(()=>`${z.value}-messages`),{errorMessages:$,isDirty:G,isDisabled:ee,isReadonly:he,isPristine:me,isValid:$e,isValidating:Te,reset:te,resetValidation:Ae,validate:re,validationClasses:Ge}=Spe(r,"v-input",z),Ve=ct(()=>({id:z,messagesId:U,isDirty:G,isDisabled:ee,isReadonly:he,isPristine:me,isValid:$e,isValidating:Te,reset:te,resetValidation:Ae,validate:re})),Ze=ct(()=>{var rt;return(rt=r.errorMessages)!=null&&rt.length||!me.value&&$.value.length?$.value:r.hint&&(r.persistentHint||r.focused)?r.hint:r.messages});return jr(()=>{var yt,Pt,ln,gn;const rt=!!(m.prepend||r.prependIcon),Ce=!!(m.append||r.appendIcon),Ne=Ze.value.length>0,D=!r.hideDetails||r.hideDetails==="auto"&&(Ne||!!m.details);return be("div",{class:["v-input",`v-input--${r.direction}`,{"v-input--center-affix":r.centerAffix,"v-input--hide-spin-buttons":r.hideSpinButtons},p.value,S.value,M.value,Ge.value,r.class],style:[x.value,r.style]},[rt&&be("div",{key:"prepend",class:"v-input__prepend"},[(yt=m.prepend)==null?void 0:yt.call(m,Ve.value),r.prependIcon&&be(I,{key:"prepend-icon",name:"prepend"},null)]),m.default&&be("div",{class:"v-input__control"},[(Pt=m.default)==null?void 0:Pt.call(m,Ve.value)]),Ce&&be("div",{key:"append",class:"v-input__append"},[r.appendIcon&&be(I,{key:"append-icon",name:"append"},null),(ln=m.append)==null?void 0:ln.call(m,Ve.value)]),D&&be("div",{class:"v-input__details"},[be(xpe,{id:U.value,active:Ne,messages:Ze.value},{message:m.message}),(gn=m.details)==null?void 0:gn.call(m,Ve.value)])])}),{reset:te,resetValidation:Ae,validate:re,isValid:$e,errorMessages:$}}}),kpe=eo({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:r=>!isNaN(parseFloat(r))},maxRows:{type:[Number,String],validator:r=>!isNaN(parseFloat(r))},suffix:String,modelModifiers:Object,...iX(),...sX()},"VTextarea"),Epe=rr()({name:"VTextarea",directives:{Intersect:hY},inheritAttrs:!1,props:kpe(),emits:{"click:control":r=>!0,"mousedown:control":r=>!0,"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const p=$f(r,"modelValue"),{isFocused:x,focus:S,blur:M}=rX(r),I=ct(()=>typeof r.counterValue=="function"?r.counterValue(p.value):(p.value||"").toString().length),R=ct(()=>{if(u.maxlength)return u.maxlength;if(!(!r.counter||typeof r.counter!="number"&&typeof r.counter!="string"))return r.counter});function z(Ce,Ne){var D,yt;!r.autofocus||!Ce||(yt=(D=Ne[0].target)==null?void 0:D.focus)==null||yt.call(D)}const U=Mo(),$=Mo(),G=Ar(""),ee=Mo(),he=ct(()=>r.persistentPlaceholder||x.value||r.active);function me(){var Ce;ee.value!==document.activeElement&&((Ce=ee.value)==null||Ce.focus()),x.value||S()}function $e(Ce){me(),m("click:control",Ce)}function Te(Ce){m("mousedown:control",Ce)}function te(Ce){Ce.stopPropagation(),me(),Ia(()=>{p.value="",Lle(r["onClick:clear"],Ce)})}function Ae(Ce){var D;const Ne=Ce.target;if(p.value=Ne.value,(D=r.modelModifiers)!=null&&D.trim){const yt=[Ne.selectionStart,Ne.selectionEnd];Ia(()=>{Ne.selectionStart=yt[0],Ne.selectionEnd=yt[1]})}}const re=Mo(),Ge=Mo(+r.rows),Ve=ct(()=>["plain","underlined"].includes(r.variant));vh(()=>{r.autoGrow||(Ge.value=+r.rows)});function Ze(){r.autoGrow&&Ia(()=>{if(!re.value||!$.value)return;const Ce=getComputedStyle(re.value),Ne=getComputedStyle($.value.$el),D=parseFloat(Ce.getPropertyValue("--v-field-padding-top"))+parseFloat(Ce.getPropertyValue("--v-input-padding-top"))+parseFloat(Ce.getPropertyValue("--v-field-padding-bottom")),yt=re.value.scrollHeight,Pt=parseFloat(Ce.lineHeight),ln=Math.max(parseFloat(r.rows)*Pt+D,parseFloat(Ne.getPropertyValue("--v-input-control-height"))),gn=parseFloat(r.maxRows)*Pt+D||1/0,Qe=Bw(yt??0,ln,gn);Ge.value=Math.floor((Qe-D)/Pt),G.value=cr(Qe)})}Tc(Ze),Xn(p,Ze),Xn(()=>r.rows,Ze),Xn(()=>r.maxRows,Ze),Xn(()=>r.density,Ze);let rt;return Xn(re,Ce=>{Ce?(rt=new ResizeObserver(Ze),rt.observe(re.value)):rt==null||rt.disconnect()}),Oc(()=>{rt==null||rt.disconnect()}),jr(()=>{const Ce=!!(b.counter||r.counter||r.counterValue),Ne=!!(Ce||b.details),[D,yt]=Ble(u),{modelValue:Pt,...ln}=xK.filterProps(r),gn=vpe(r);return be(xK,Na({ref:U,modelValue:p.value,"onUpdate:modelValue":Qe=>p.value=Qe,class:["v-textarea v-text-field",{"v-textarea--prefixed":r.prefix,"v-textarea--suffixed":r.suffix,"v-text-field--prefixed":r.prefix,"v-text-field--suffixed":r.suffix,"v-textarea--auto-grow":r.autoGrow,"v-textarea--no-resize":r.noResize||r.autoGrow,"v-input--plain-underlined":Ve.value},r.class],style:r.style},D,ln,{centerAffix:Ge.value===1&&!Ve.value,focused:x.value}),{...b,default:Qe=>{let{id:On,isDisabled:nr,isDirty:pt,isReadonly:bt,isValid:Zt}=Qe;return be(aX,Na({ref:$,style:{"--v-textarea-control-height":G.value},onClick:$e,onMousedown:Te,"onClick:clear":te,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:appendInner"]},gn,{id:On.value,active:he.value||pt.value,centerAffix:Ge.value===1&&!Ve.value,dirty:pt.value||r.dirty,disabled:nr.value,focused:x.value,error:Zt.value===!1}),{...b,default:Ur=>{let{props:{class:ho,...xn}}=Ur;return be(ks,null,[r.prefix&&be("span",{class:"v-text-field__prefix"},[r.prefix]),qo(be("textarea",Na({ref:ee,class:ho,value:p.value,onInput:Ae,autofocus:r.autofocus,readonly:bt.value,disabled:nr.value,placeholder:r.placeholder,rows:r.rows,name:r.name,onFocus:me,onBlur:M},xn,yt),null),[[iO("intersect"),{handler:z},null,{once:!0}]]),r.autoGrow&&qo(be("textarea",{class:[ho,"v-textarea__sizer"],id:`${xn.id}-sizer`,"onUpdate:modelValue":Rn=>p.value=Rn,ref:re,readonly:!0,"aria-hidden":"true"},null),[[wle,p.value]]),r.suffix&&be("span",{class:"v-text-field__suffix"},[r.suffix])])}})},details:Ne?Qe=>{var On;return be(ks,null,[(On=b.details)==null?void 0:On.call(b,Qe),Ce&&be(ks,null,[be("span",null,null),be(mpe,{active:r.persistentCounter||x.value,value:I.value,max:R.value,disabled:r.disabled},b.counter)])])}:void 0})}),TY({},U,$,ee)}}),Ape=r=>(by("data-v-d4f402e1"),r=r(),vy(),r),Tpe=Ape(()=>lt("span",{class:"sr-only"},"Anmerkung löschen",-1)),Ope={__name:"Annotation",props:["annotation"],setup(r){Ac();const i=iy(),u=Ec(),b=r.annotation;function p(M){return M.getKey()==i.selectedKey}Tc(()=>{const M=document.getElementById("appAnnotationContainer"+b.getKey());for(const I of M.getElementsByTagName("label"))I.getAttribute("for").includes("app-annotation-")&&(I.classList.add("sr-only"),I.getAttribute("aria-hidden")=="true"?I.getAttribute("for").includes("-sizer")||I.setAttribute("for",I.getAttribute("for")+"-sizer"):I.setAttribute("id","app-annotation-"+b.getKey()+"-messages"));for(const I of M.getElementsByTagName("textarea"))I.style.marginTop="-15px",I.style.fontSize="0.9rem";for(const I of M.getElementsByClassName("v-input__details"))I.style.display="none"});function x(M){return"#F5F7FB"}async function S(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),u.showForResourceKey(),await Ia(),i.setCaretRequest();break;case"Delete":event.preventDefault(),i.deleteAnnotation(i.selectedKey);break}}return(M,I)=>(hr(),ni(Wge,{id:"appAnnotationContainer"+Ue(b).getKey(),key:Ue(b).getKey(),class:"annotationContainer"},{default:bn(()=>[be(ehe,{dense:""},{default:bn(()=>[be(k8,{cols:"1"},{default:bn(()=>[lt("button",{tabindex:"0",class:dy("v-btn annotationLabel "+(p(Ue(b))?"selected":"")),onClick:I[0]||(I[0]=R=>Ue(i).selectAnnotation(Ue(b).getKey()))},Bd(Ue(b).label),3)]),_:1}),qo(be(k8,{cols:"10"},{default:bn(()=>[be(Epe,{class:"annotationInput","bg-color":x(Ue(b)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+Ue(b).getKey(),label:"Anmerkung zu Markierung "+Ue(b).label,rows:"1","auto-grow":"",onClick:I[1]||(I[1]=R=>Ue(i).selectAnnotation(Ue(b).getKey())),onChange:I[2]||(I[2]=R=>Ue(i).updateAnnotation(Ue(b))),onKeyup:I[3]||(I[3]=R=>Ue(i).updateAnnotation(Ue(b))),onKeydown:I[4]||(I[4]=R=>S()),modelValue:Ue(b).comment,"onUpdate:modelValue":I[5]||(I[5]=R=>Ue(b).comment=R)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[gr,p(Ue(b))]]),qo(be(k8,{cols:"10"},{default:bn(()=>[qo(lt("div",{class:"annotationDisplay",style:$0("background-color: "+x(Ue(b))+";"),onClick:I[6]||(I[6]=R=>Ue(i).selectAnnotation(Ue(b).getKey()))},Bd(Ue(b).comment),5),[[gr,Ue(b).comment]])]),_:1},512),[[gr,!p(Ue(b))]]),be(k8,{cols:"1",class:"trashColumn"},{default:bn(()=>[be($r,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:p(Ue(b))?0:-1,onClick:I[7]||(I[7]=R=>Ue(i).deleteAnnotation(Ue(b).getKey())),onKeydown:I[8]||(I[8]=R=>S())},{default:bn(()=>[Tpe]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},Dpe=fg(Ope,[["__scopeId","data-v-d4f402e1"]]),Rpe={id:"appAnnotations"},Npe={__name:"Annotations",setup(r){const i=iy();async function u(){await Ia();let b=document.getElementById("appAnnotationContainer"+i.selectedKey);if(b){let p=b.querySelector("textarea");p&&p.focus()}}Xn(()=>i.selectionChange,u);async function m(){await Ia();let b=document.getElementById("appAnnotationContainer"+i.firstVisibleKey);b&&b.scrollIntoView()}return Xn(()=>i.firstVisibleKey,m),(b,p)=>(hr(),Cl("div",Rpe,[(hr(!0),Cl(ks,null,ak(Ue(i).activeAnnotations,x=>(hr(),ni(Dpe,{key:x.getKey(),annotation:x},null,8,["annotation"]))),128))]))}},Ipe=fg(Npe,[["__scopeId","data-v-70b25f99"]]),IM=r=>(by("data-v-b79a7b0b"),r=r(),vy(),r),Bpe={id:"app-edit-select-wrapper"},Mpe={class:"appEditChoices"},Ppe=IM(()=>lt("span",{class:"sr-only",id:"app-edit-select-annotations"},"Anmerkungen",-1)),Lpe=IM(()=>lt("span",{"aria-hidden":"true"},"Anmerkungen",-1)),Fpe=IM(()=>lt("span",{class:"sr-only",id:"app-edit-select-text"},"Abgabe Text bearbeiten",-1)),zpe=IM(()=>lt("span",{"aria-hidden":"true"},"Text",-1)),Hpe=["id"],Vpe={"aria-hidden":"true"},$pe={key:1,"aria-hidden":"true"},Upe={__name:"EditSelect",setup(r){const i=Ec(),u=oy(),m=ph(),b=Z0(),p=iy(),x=Vf(),S=Mo("essay");M();function M(){switch(i.rightContent){case"annotations":S.value="annotations";break;case"essay":S.value="essay";break;case"notes":S.value=u.activeKey;break}}Xn(()=>i.rightContent,M),Xn(()=>u.activeKey,M);function I(){switch(S.value){case void 0:M();break;case"annotations":i.showAnnotations();break;case"essay":i.showEssay();break;default:i.showNotes(),u.activeKey=S.value;break}}function R(){S.value="annotations",I()}return Xn(()=>p.selectionChange,R),(z,U)=>(hr(),Cl("div",Bpe,[lt("div",Mpe,[Ue(m).hasNotes||Ue(x).hasInstructions?(hr(),ni(QG,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:S.value,"onUpdate:modelValue":U[0]||(U[0]=$=>S.value=$),onClick:U[1]||(U[1]=$=>I())},{default:bn(()=>[be($r,{"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:bn(()=>[be(Sr,{icon:"mdi-marker"}),Ppe,Lpe]),_:1}),be($r,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:bn(()=>[be(Sr,{icon:"mdi-file-edit-outline"}),Fpe,zpe]),_:1}),(hr(!0),Cl(ks,null,ak(Ue(u).keys,$=>(hr(),ni($r,{size:"small","aria-labelledby":"app-edit-select-note"+Ue(u).notes[$].note_no,key:$,value:$},{default:bn(()=>[be(Sr,{icon:"mdi-clipboard-outline"}),lt("span",{class:"sr-only",id:"app-edit-select-note"+Ue(u).notes[$].note_no},Bd(Ue(m).notice_boards==1?"Notizen bearbeiten":"Notiz "+(Ue(u).notes[$].note_no+1)+" bearbeiten"),9,Hpe),lt("span",Vpe,Bd(Ue(m).notice_boards==1?"Notizen":Ue(u).notes[$].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):Gu("",!0),Id("   "),Ue(m).hasNotes?(hr(),Cl("span",$pe," ")):Gu("",!0),be(ck,{density:"comfortable",variant:"outlined",divided:""},{default:bn(()=>[be($r,{title:"Editor Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:U[2]||(U[2]=$=>Ue(b).zoomEditorOut())}),be($r,{title:"Editor Text vergrößern",size:"small",icon:"mdi-magnify-plus-outline",onClick:U[3]||(U[3]=$=>Ue(b).zoomEditorIn())}),be($r,{title:Ue(b).word_count_enabled?"Zähler verbergen":"Zähler anzeigen",size:"small",icon:Ue(b).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:U[4]||(U[4]=$=>Ue(b).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),qo(be(Ipe,{class:"appEditors"},null,512),[[gr,Ue(i).isAnnotationsSelected]]),qo(be(dpe,{class:"appEditors"},null,512),[[gr,Ue(i).isEssaySelected]]),Ue(m).notice_boards>0?(hr(!0),Cl(ks,{key:0},ak(Ue(u).keys,$=>qo((hr(),ni(rpe,{class:"appEditors",key:$,noteKey:$,noteLabel:Ue(m).notice_boards==1?"Notizen":"Notiz "+(Ue(u).notes[$].note_no+1)},null,8,["noteKey","noteLabel"])),[[gr,Ue(i).isNotesSelected&&Ue(u).activeKey==$]])),128)):Gu("",!0)]))}},Wpe=fg(Upe,[["__scopeId","data-v-b79a7b0b"]]),Zpe=eo({scrollable:Boolean,...ss(),...J0(),...Yi({tag:"main"})},"VMain"),u$=rr()({name:"VMain",props:Zpe(),setup(r,i){let{slots:u}=i;const{dimensionStyles:m}=Q0(r),{mainStyles:b}=Oue(),{ssrBootStyles:p}=NM();return jr(()=>be(r.tag,{class:["v-main",{"v-main--scrollable":r.scrollable},r.class],style:[b.value,p.value,m.value,r.style]},{default:()=>{var x,S;return[r.scrollable?be("div",{class:"v-main__scroller"},[(x=u.default)==null?void 0:x.call(u)]):(S=u.default)==null?void 0:S.call(u)]}})),{}}}),fO=r=>(by("data-v-962ece8f"),r=r(),vy(),r),jpe={id:"app-main-container"},Kpe={class:"col-header"},qpe={class:"headline"},Gpe=fO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),Ype=fO(()=>lt("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),Xpe={class:"col-content"},Jpe={class:"col-header"},Qpe={class:"headline"},ebe=fO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),tbe=fO(()=>lt("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1)),nbe={class:"col-content"},obe=fO(()=>lt("p",null,"Sie können nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfügen.",-1)),rbe={__name:"MainContent",setup(r){const i=Ec(),u=lg(),m=c$();return document.addEventListener("keydown",i.handleKeyDown),Tc(async()=>{i.setFocusChange("header")}),(b,p)=>(hr(),ni(u$,{"fill-height":""},{default:bn(()=>[lt("div",jpe,[qo(lt("section",{"aria-label":"Linke Spalte",class:dy(["column",{colExpanded:Ue(i).isLeftExpanded,colNormal:!Ue(i).isLeftExpanded}])},[lt("div",Kpe,[lt("h1",qpe,Bd(Ue(i).isInstructionsSelected?"Aufgabenstellung":Ue(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ue(i).isResourcesSelected?Ue(u).activeTitle:"Linke Spalte"),1),be(ck,{density:"comfortable"},{default:bn(()=>[qo(be($r,{size:"small",onClick:p[0]||(p[0]=x=>Ue(i).setLeftExpanded(!1))},{default:bn(()=>[be(Sr,{icon:"mdi-chevron-left"}),lt("span",null,Bd(Ue(i).isAnnotationsSelected?"Anmerkungen":Ue(i).isEssaySelected?"Abgabe-Text":Ue(i).isNotesSelected?"Notizen":"Rechte Spalte erweitern"),1)]),_:1},512),[[gr,Ue(i).isLeftExpanded]]),qo(be($r,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:p[1]||(p[1]=x=>Ue(i).setLeftExpanded(!0))},{default:bn(()=>[Gpe,Ype,be(Sr,{icon:"mdi-chevron-right"})]),_:1},512),[[gr,!Ue(i).isLeftExpanded]])]),_:1})]),lt("div",Xpe,[qo(be(whe,null,null,512),[[gr,Ue(i).isInstructionsVisible]]),qo(be(Phe,null,null,512),[[gr,Ue(i).isInstructionsPdfVisible||Ue(i).isResourcesVisible]])])],2),[[gr,Ue(i).isLeftVisible]]),qo(lt("section",{"aria-label":"Rechte Spalte",class:dy(["column",{colExpanded:Ue(i).isRightExpanded,colNormal:!Ue(i).isRightExpanded}])},[lt("div",Jpe,[lt("h1",Qpe,Bd(Ue(i).isAnnotationsSelected?"Anmerkungen":Ue(i).isEssayVisible?"Abgabe-Text":Ue(i).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":"Rechte Spalte"),1),be(ck,{density:"comfortable"},{default:bn(()=>[qo(be($r,{size:"small",onClick:p[2]||(p[2]=x=>Ue(i).setRightExpanded(!1))},{default:bn(()=>[lt("span",null,Bd(Ue(i).isInstructionsSelected?"Aufgabenstellung":Ue(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ue(i).isResourcesSelected?Ue(u).activeTitle:"Linke Spalte erweitern"),1),be(Sr,{icon:"mdi-chevron-right"})]),_:1},512),[[gr,Ue(i).isRightExpanded]]),qo(be($r,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:p[3]||(p[3]=x=>Ue(i).setRightExpanded(!0))},{default:bn(()=>[be(Sr,{icon:"mdi-chevron-left"}),ebe,tbe]),_:1},512),[[gr,!Ue(i).isRightExpanded]])]),_:1})]),lt("div",nbe,[be(Wpe)])],2),[[gr,Ue(i).isRightVisible]])]),be(cy,{width:"500",persistent:"",modelValue:Ue(m).show_warning,"onUpdate:modelValue":p[5]||(p[5]=x=>Ue(m).show_warning=x)},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[obe]),_:1}),be(j0,null,{default:bn(()=>[be(l$),be($r,{onClick:p[4]||(p[4]=x=>Ue(m).hideWarning())},{default:bn(()=>[Id(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},sbe=fg(rbe,[["__scopeId","data-v-962ece8f"]]),abe=lt("p",null,"Lade Daten...",-1),ibe=lt("span",null,"Beenden ...",-1),lbe=lt("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),cbe=lt("span",null,"Beenden",-1),ube=lt("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht übertragen wurden. Durch das Laden werden diese Eingaben gelöscht.",-1),dbe=lt("p",null,"Möchten Sie die neue Aufgabe laden?",-1),fbe=lt("span",null,"Laden",-1),mbe=lt("span",null,"Abbrechen",-1),gbe=lt("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht übertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschließend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser überschrieben.",-1),hbe=lt("p",null,"Möchten Sie die Eingabe vom System laden?",-1),pbe=lt("span",null,"Laden",-1),bbe=lt("span",null,"Abbrechen",-1),vbe={__name:"StartupContent",setup(r){const i=Ac();return(u,m)=>(hr(),ni(u$,{"fill-height":""},{default:bn(()=>[be(VY,{elevation:"1",color:"white",density:"compact"},{default:bn(()=>[abe,be(l$),be($r,{href:Ue(i).returnUrl},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-logout-variant"}),ibe]),_:1},8,["href"])]),_:1}),be(cy,{persistent:"",modelValue:Ue(i).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=b=>Ue(i).showInitFailure=b)},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[lbe]),_:1}),be(j0,null,{default:bn(()=>[be($r,{href:Ue(i).returnUrl},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-logout-variant"}),cbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),be(cy,{persistent:"",modelValue:Ue(i).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=b=>Ue(i).showReplaceConfirmation=b)},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[ube,dbe]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:m[1]||(m[1]=b=>Ue(i).loadDataFromBackend())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-reload"}),fbe]),_:1}),be($r,{href:Ue(i).returnUrl},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-logout-variant"}),mbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),be(cy,{persistent:"",modelValue:Ue(i).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=b=>Ue(i).showReloadConfirmation=b)},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[gbe,hbe]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:m[3]||(m[3]=b=>Ue(i).loadDataFromBackend())},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-reload"}),pbe]),_:1}),be($r,{href:Ue(i).returnUrl},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-logout-variant"}),bbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Fd=r=>(by("data-v-83558a5a"),r=r(),vy(),r),ybe={class:"column"},xbe=Fd(()=>lt("div",{class:"col-header bg-grey-lighten-4"},[lt("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht übertragen, sind aber lokal gesichert!"),lt("p",null,"Bitte versuchen Sie die Übertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),wbe={class:"col-content"},Cbe=["innerHTML"],_be={class:"col-footer bg-grey-lighten-4"},Sbe=Fd(()=>lt("span",null,"Weiter bearbeiten",-1)),kbe={class:"column"},Ebe={class:"col-header bg-grey-lighten-4"},Abe=Fd(()=>lt("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),Tbe=Fd(()=>lt("p",null,"Es ist keine weitere Eingabe möglich.",-1)),Obe=[Abe,Tbe],Dbe={class:"col-header bg-grey-lighten-4"},Rbe=Fd(()=>lt("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),Nbe={key:0},Ibe={class:"col-header bg-grey-lighten-4"},Bbe=Fd(()=>lt("h2",{class:"text-h6"},"Abgabe-Text",-1)),Mbe={key:0},Pbe={class:"col-content"},Lbe=["innerHTML"],Fbe={class:"col-footer bg-grey-lighten-4"},zbe=Fd(()=>lt("span",null,"Meine Bearbeitung nicht bewerten",-1)),Hbe=Fd(()=>lt("span",null,"Weiter bearbeiten",-1)),Vbe=Fd(()=>lt("p",null,"Bei der Übertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),$be=Fd(()=>lt("p",null,[lt("br"),Id(" Sie können die Klausur auch ohne Übertragung verlassen und später wieder aufrufen, um die Übertragung nachzuholen. ")],-1)),Ube=Fd(()=>lt("br",null,null,-1)),Wbe=Fd(()=>lt("br",null,null,-1)),Zbe=Fd(()=>lt("span",null,"Meldung schließen",-1)),jbe=Fd(()=>lt("span",null,"Ohne Übertragung verlassen",-1)),Kbe={__name:"ReviewContent",setup(r){const i=Ac(),u=z0(),m=oy(),b=Vf(),p=ph(),x=Z0();return(S,M)=>(hr(),ni(u$,{"fill-height":""},{default:bn(()=>[qo(lt("div",ybe,[xbe,lt("div",wbe,[lt("div",{class:dy("long-essay-content "+Ue(p).contentClass),style:$0("font-size:"+Ue(x).editor_zoom+"rem;"),innerHTML:Ue(u).storedContent},null,14,Cbe)]),lt("div",_be,[be($r,{class:"ma-2",color:Ue(p).primaryColorCss,onClick:M[0]||(M[0]=I=>Ue(i).retry())},{default:bn(()=>[be(Sr,{color:Ue(p).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),lt("span",{style:$0(Ue(p).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),qo(be($r,{class:"ma-2",onClick:M[1]||(M[1]=I=>Ue(i).review=!1)},{default:bn(()=>[be(Sr,{icon:"mdi-file-edit-outline"}),Sbe]),_:1},512),[[gr,!Ue(b).writingEndReached&&!Ue(b).isExcluded]])])],512),[[gr,Ue(u).openSendings>0]]),qo(lt("div",kbe,[qo(lt("div",Ebe,Obe,512),[[gr,Ue(b).isExcluded]]),qo(lt("div",Dbe,[Rbe,lt("p",null,[Id("Es ist keine weitere Eingabe möglich. Bitte überprüfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben möchten. Eventuell müssen Sie scrollen um alle Teile ihres Textes sehen zu können! "),Ue(m).hasWrittenNotes?(hr(),Cl("span",Nbe,"Ihre Notizen werden verworfen.")):Gu("",!0)])],512),[[gr,Ue(b).writingEndReached&&!Ue(b).isExcluded]]),qo(lt("div",Ibe,[Bbe,lt("p",null,[Id("Bitte überprüfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben möchten. "),Ue(m).hasWrittenNotes?(hr(),Cl("span",Mbe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):Gu("",!0),Id(" Nach der Abgabe ist keine weitere Bearbeitung mehr möglich. Eventuell müssen Sie scrollen um alle Teile ihres Textes sehen zu können!")])],512),[[gr,!Ue(b).writingEndReached&&!Ue(b).isExcluded]]),lt("div",Pbe,[lt("div",{class:dy("long-essay-content "+Ue(p).contentClass),style:$0("font-size:"+Ue(x).editor_zoom*16+"px;"),innerHTML:Ue(u).storedContent},null,14,Lbe)]),lt("div",Fbe,[qo(be($r,{class:"ma-2 primary",onClick:M[2]||(M[2]=I=>Ue(i).finalize(!0)),color:Ue(p).primaryColorCss},{default:bn(()=>[be(Sr,{color:Ue(p).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),lt("span",{style:$0(Ue(p).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[gr,!Ue(b).isExcluded]]),qo(be($r,{class:"ma-2",onClick:M[3]||(M[3]=I=>Ue(i).finalize(!1))},{default:bn(()=>[be(Sr,{icon:"mdi-logout-variant"}),zbe]),_:1},512),[[gr,Ue(b).writingEndReached||Ue(b).isExcluded]]),qo(be($r,{class:"ma-2",onClick:M[4]||(M[4]=I=>Ue(i).review=!1)},{default:bn(()=>[be(Sr,{icon:"mdi-file-edit-outline"}),Hbe]),_:1},512),[[gr,!Ue(b).writingEndReached&&!Ue(b).isExcluded]])])],512),[[gr,Ue(u).openSendings<=0]]),be(cy,{persistent:"",modelValue:Ue(i).showFinalizeFailure,"onUpdate:modelValue":M[6]||(M[6]=I=>Ue(i).showFinalizeFailure=I)},{default:bn(()=>[be(ly,null,{default:bn(()=>[be(K0,null,{default:bn(()=>[Vbe,$be,qo(lt("p",null,[Ube,Id(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[gr,Ue(i).showAuthorizeFailure]]),qo(lt("p",null,[Wbe,Id(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[gr,!Ue(i).showAuthorizeFailure]])]),_:1}),be(j0,null,{default:bn(()=>[be($r,{onClick:M[5]||(M[5]=I=>Ue(i).showFinalizeFailure=!1)},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-close"}),Zbe]),_:1}),be($r,{href:Ue(i).returnUrl},{default:bn(()=>[be(Sr,{left:"",icon:"mdi-logout-variant"}),jbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},qbe=fg(Kbe,[["__scopeId","data-v-83558a5a"]]),Gbe=eo({...ss(),...Tue({fullHeight:!0}),...Ql()},"VApp"),Ybe=rr()({name:"VApp",props:Gbe(),setup(r,i){let{slots:u}=i;const m=Dc(r),{layoutClasses:b,getLayoutItem:p,items:x,layoutRef:S}=Rue(r),{rtlClasses:M}=Y0();return jr(()=>{var I;return be("div",{ref:S,class:["v-application",m.themeClasses.value,b.value,M.value,r.class],style:[r.style]},[be("div",{class:"v-application__wrap"},[(I=u.default)==null?void 0:I.call(u)])])}),{getLayoutItem:p,items:x,theme:m}}}),Xbe={__name:"App",setup(r){const i=Ac();return i.init(),(u,m)=>(hr(),ni(Ybe,{"fill-height":""},{default:bn(()=>[Ue(i).initialized?Gu("",!0):(hr(),ni(vbe,{key:0})),Ue(i).initialized?(hr(),ni(ohe,{key:1})):Gu("",!0),Ue(i).initialized&&!Ue(i).review?(hr(),ni(ghe,{key:2})):Gu("",!0),Ue(i).initialized&&!Ue(i).review?(hr(),ni(sbe,{key:3})):Gu("",!0),Ue(i).initialized&&Ue(i).review?(hr(),ni(qbe,{key:4})):Gu("",!0)]),_:1}))}},lX=Sle(Xbe);$ue(lX);lX.mount("#app");
