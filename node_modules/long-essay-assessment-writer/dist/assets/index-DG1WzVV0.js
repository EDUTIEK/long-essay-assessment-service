var dle=Object.defineProperty;var fle=(n,s,c)=>s in n?dle(n,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[s]=c;var Fo=(n,s,c)=>fle(n,typeof s!="symbol"?s+"":s,c);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))f(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&f(x)}).observe(document,{childList:!0,subtree:!0});function c(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerPolicy&&(h.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?h.credentials="include":g.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(g){if(g.ep)return;g.ep=!0;const h=c(g);fetch(g.href,h)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function TV(n){const s=Object.create(null);for(const c of n.split(","))s[c]=1;return c=>c in s}const Na={},Ak=[],ib=()=>{},mle=()=>!1,QB=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),OV=n=>n.startsWith("onUpdate:"),Kl=Object.assign,DV=(n,s)=>{const c=n.indexOf(s);c>-1&&n.splice(c,1)},gle=Object.prototype.hasOwnProperty,oa=(n,s)=>gle.call(n,s),sr=Array.isArray,Tk=n=>eM(n)==="[object Map]",vG=n=>eM(n)==="[object Set]",yr=n=>typeof n=="function",Vi=n=>typeof n=="string",Vy=n=>typeof n=="symbol",Ka=n=>n!==null&&typeof n=="object",yG=n=>(Ka(n)||yr(n))&&yr(n.then)&&yr(n.catch),xG=Object.prototype.toString,eM=n=>xG.call(n),hle=n=>eM(n).slice(8,-1),wG=n=>eM(n)==="[object Object]",RV=n=>Vi(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,vO=TV(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tM=n=>{const s=Object.create(null);return c=>s[c]||(s[c]=n(c))},ple=/-(\w)/g,sf=tM(n=>n.replace(ple,(s,c)=>c?c.toUpperCase():"")),ble=/\B([A-Z])/g,sC=tM(n=>n.replace(ble,"-$1").toLowerCase()),E0=tM(n=>n.charAt(0).toUpperCase()+n.slice(1)),U9=tM(n=>n?`on${E0(n)}`:""),Py=(n,s)=>!Object.is(n,s),mB=(n,...s)=>{for(let c=0;c<n.length;c++)n[c](...s)},CG=(n,s,c,f=!1)=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,writable:f,value:c})},Bz=n=>{const s=parseFloat(n);return isNaN(s)?n:s},vle=n=>{const s=Vi(n)?Number(n):NaN;return isNaN(s)?n:s};let Aj;const nM=()=>Aj||(Aj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kr(n){if(sr(n)){const s={};for(let c=0;c<n.length;c++){const f=n[c],g=Vi(f)?Cle(f):kr(f);if(g)for(const h in g)s[h]=g[h]}return s}else if(Vi(n)||Ka(n))return n}const yle=/;(?![^(]*\))/g,xle=/:([^]+)/,wle=/\/\*[^]*?\*\//g;function Cle(n){const s={};return n.replace(wle,"").split(yle).forEach(c=>{if(c){const f=c.split(xle);f.length>1&&(s[f[0].trim()]=f[1].trim())}}),s}function Go(n){let s="";if(Vi(n))s=n;else if(sr(n))for(let c=0;c<n.length;c++){const f=Go(n[c]);f&&(s+=f+" ")}else if(Ka(n))for(const c in n)n[c]&&(s+=c+" ");return s.trim()}const _le="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sle=TV(_le);function _G(n){return!!n||n===""}const SG=n=>!!(n&&n.__v_isRef===!0),Nt=n=>Vi(n)?n:n==null?"":sr(n)||Ka(n)&&(n.toString===xG||!yr(n.toString))?SG(n)?Nt(n.value):JSON.stringify(n,kG,2):String(n),kG=(n,s)=>SG(s)?kG(n,s.value):Tk(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((c,[f,g],h)=>(c[W9(f,h)+" =>"]=g,c),{})}:vG(s)?{[`Set(${s.size})`]:[...s.values()].map(c=>W9(c))}:Vy(s)?W9(s):Ka(s)&&!sr(s)&&!wG(s)?String(s):s,W9=(n,s="")=>{var c;return Vy(n)?`Symbol(${(c=n.description)!=null?c:s})`:n};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Su;class EG{constructor(s=!1){this.detached=s,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Su,!s&&Su&&(this.index=(Su.scopes||(Su.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,c;if(this.scopes)for(s=0,c=this.scopes.length;s<c;s++)this.scopes[s].pause();for(s=0,c=this.effects.length;s<c;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,c;if(this.scopes)for(s=0,c=this.scopes.length;s<c;s++)this.scopes[s].resume();for(s=0,c=this.effects.length;s<c;s++)this.effects[s].resume()}}run(s){if(this._active){const c=Su;try{return Su=this,s()}finally{Su=c}}}on(){++this._on===1&&(this.prevScope=Su,Su=this)}off(){this._on>0&&--this._on===0&&(Su=this.prevScope,this.prevScope=void 0)}stop(s){if(this._active){this._active=!1;let c,f;for(c=0,f=this.effects.length;c<f;c++)this.effects[c].stop();for(this.effects.length=0,c=0,f=this.cleanups.length;c<f;c++)this.cleanups[c]();if(this.cleanups.length=0,this.scopes){for(c=0,f=this.scopes.length;c<f;c++)this.scopes[c].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!s){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function Fy(n){return new EG(n)}function AG(){return Su}function af(n,s=!1){Su&&Su.cleanups.push(n)}let Za;const Z9=new WeakSet;class TG{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Su&&Su.active&&Su.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Z9.has(this)&&(Z9.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||DG(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tj(this),RG(this);const s=Za,c=Ph;Za=this,Ph=!0;try{return this.fn()}finally{NG(this),Za=s,Ph=c,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)PV(s);this.deps=this.depsTail=void 0,Tj(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Z9.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mz(this)&&this.run()}get dirty(){return Mz(this)}}let OG=0,yO,xO;function DG(n,s=!1){if(n.flags|=8,s){n.next=xO,xO=n;return}n.next=yO,yO=n}function NV(){OG++}function IV(){if(--OG>0)return;if(xO){let s=xO;for(xO=void 0;s;){const c=s.next;s.next=void 0,s.flags&=-9,s=c}}let n;for(;yO;){let s=yO;for(yO=void 0;s;){const c=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(f){n||(n=f)}s=c}}if(n)throw n}function RG(n){for(let s=n.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function NG(n){let s,c=n.depsTail,f=c;for(;f;){const g=f.prevDep;f.version===-1?(f===c&&(c=g),PV(f),kle(f)):s=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=g}n.deps=s,n.depsTail=c}function Mz(n){for(let s=n.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(IG(s.dep.computed)||s.dep.version!==s.version))return!0;return!!n._dirty}function IG(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===EO)||(n.globalVersion=EO,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Mz(n))))return;n.flags|=2;const s=n.dep,c=Za,f=Ph;Za=n,Ph=!0;try{RG(n);const g=n.fn(n._value);(s.version===0||Py(g,n._value))&&(n.flags|=128,n._value=g,s.version++)}catch(g){throw s.version++,g}finally{Za=c,Ph=f,NG(n),n.flags&=-3}}function PV(n,s=!1){const{dep:c,prevSub:f,nextSub:g}=n;if(f&&(f.nextSub=g,n.prevSub=void 0),g&&(g.prevSub=f,n.nextSub=void 0),c.subs===n&&(c.subs=f,!f&&c.computed)){c.computed.flags&=-5;for(let h=c.computed.deps;h;h=h.nextDep)PV(h,!0)}!s&&!--c.sc&&c.map&&c.map.delete(c.key)}function kle(n){const{prevDep:s,nextDep:c}=n;s&&(s.nextDep=c,n.prevDep=void 0),c&&(c.prevDep=s,n.nextDep=void 0)}let Ph=!0;const PG=[];function w0(){PG.push(Ph),Ph=!1}function C0(){const n=PG.pop();Ph=n===void 0?!0:n}function Tj(n){const{cleanup:s}=n;if(n.cleanup=void 0,s){const c=Za;Za=void 0;try{s()}finally{Za=c}}}let EO=0;class Ele{constructor(s,c){this.sub=s,this.dep=c,this.version=c.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class LV{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(s){if(!Za||!Ph||Za===this.computed)return;let c=this.activeLink;if(c===void 0||c.sub!==Za)c=this.activeLink=new Ele(Za,this),Za.deps?(c.prevDep=Za.depsTail,Za.depsTail.nextDep=c,Za.depsTail=c):Za.deps=Za.depsTail=c,LG(c);else if(c.version===-1&&(c.version=this.version,c.nextDep)){const f=c.nextDep;f.prevDep=c.prevDep,c.prevDep&&(c.prevDep.nextDep=f),c.prevDep=Za.depsTail,c.nextDep=void 0,Za.depsTail.nextDep=c,Za.depsTail=c,Za.deps===c&&(Za.deps=f)}return c}trigger(s){this.version++,EO++,this.notify(s)}notify(s){NV();try{for(let c=this.subs;c;c=c.prevSub)c.sub.notify()&&c.sub.dep.notify()}finally{IV()}}}function LG(n){if(n.dep.sc++,n.sub.flags&4){const s=n.dep.computed;if(s&&!n.dep.subs){s.flags|=20;for(let f=s.deps;f;f=f.nextDep)LG(f)}const c=n.dep.subs;c!==n&&(n.prevSub=c,c&&(c.nextSub=n)),n.dep.subs=n}}const EB=new WeakMap,Xw=Symbol(""),Fz=Symbol(""),AO=Symbol("");function ku(n,s,c){if(Ph&&Za){let f=EB.get(n);f||EB.set(n,f=new Map);let g=f.get(c);g||(f.set(c,g=new LV),g.map=f,g.key=c),g.track()}}function p0(n,s,c,f,g,h){const x=EB.get(n);if(!x){EO++;return}const C=O=>{O&&O.trigger()};if(NV(),s==="clear")x.forEach(C);else{const O=sr(n),R=O&&RV(c);if(O&&c==="length"){const D=Number(f);x.forEach((N,H)=>{(H==="length"||H===AO||!Vy(H)&&H>=D)&&C(N)})}else switch((c!==void 0||x.has(void 0))&&C(x.get(c)),R&&C(x.get(AO)),s){case"add":O?R&&C(x.get("length")):(C(x.get(Xw)),Tk(n)&&C(x.get(Fz)));break;case"delete":O||(C(x.get(Xw)),Tk(n)&&C(x.get(Fz)));break;case"set":Tk(n)&&C(x.get(Xw));break}}IV()}function Ale(n,s){const c=EB.get(n);return c&&c.get(s)}function fk(n){const s=jo(n);return s===n?s:(ku(s,"iterate",AO),wg(n)?s:s.map(Vc))}function oM(n){return ku(n=jo(n),"iterate",AO),n}const Tle={__proto__:null,[Symbol.iterator](){return j9(this,Symbol.iterator,Vc)},concat(...n){return fk(this).concat(...n.map(s=>sr(s)?fk(s):s))},entries(){return j9(this,"entries",n=>(n[1]=Vc(n[1]),n))},every(n,s){return u0(this,"every",n,s,void 0,arguments)},filter(n,s){return u0(this,"filter",n,s,c=>c.map(Vc),arguments)},find(n,s){return u0(this,"find",n,s,Vc,arguments)},findIndex(n,s){return u0(this,"findIndex",n,s,void 0,arguments)},findLast(n,s){return u0(this,"findLast",n,s,Vc,arguments)},findLastIndex(n,s){return u0(this,"findLastIndex",n,s,void 0,arguments)},forEach(n,s){return u0(this,"forEach",n,s,void 0,arguments)},includes(...n){return K9(this,"includes",n)},indexOf(...n){return K9(this,"indexOf",n)},join(n){return fk(this).join(n)},lastIndexOf(...n){return K9(this,"lastIndexOf",n)},map(n,s){return u0(this,"map",n,s,void 0,arguments)},pop(){return uO(this,"pop")},push(...n){return uO(this,"push",n)},reduce(n,...s){return Oj(this,"reduce",n,s)},reduceRight(n,...s){return Oj(this,"reduceRight",n,s)},shift(){return uO(this,"shift")},some(n,s){return u0(this,"some",n,s,void 0,arguments)},splice(...n){return uO(this,"splice",n)},toReversed(){return fk(this).toReversed()},toSorted(n){return fk(this).toSorted(n)},toSpliced(...n){return fk(this).toSpliced(...n)},unshift(...n){return uO(this,"unshift",n)},values(){return j9(this,"values",Vc)}};function j9(n,s,c){const f=oM(n),g=f[s]();return f!==n&&!wg(n)&&(g._next=g.next,g.next=()=>{const h=g._next();return h.value&&(h.value=c(h.value)),h}),g}const Ole=Array.prototype;function u0(n,s,c,f,g,h){const x=oM(n),C=x!==n&&!wg(n),O=x[s];if(O!==Ole[s]){const N=O.apply(n,h);return C?Vc(N):N}let R=c;x!==n&&(C?R=function(N,H){return c.call(this,Vc(N),H,n)}:c.length>2&&(R=function(N,H){return c.call(this,N,H,n)}));const D=O.call(x,R,f);return C&&g?g(D):D}function Oj(n,s,c,f){const g=oM(n);let h=c;return g!==n&&(wg(n)?c.length>3&&(h=function(x,C,O){return c.call(this,x,C,O,n)}):h=function(x,C,O){return c.call(this,x,Vc(C),O,n)}),g[s](h,...f)}function K9(n,s,c){const f=jo(n);ku(f,"iterate",AO);const g=f[s](...c);return(g===-1||g===!1)&&FV(c[0])?(c[0]=jo(c[0]),f[s](...c)):g}function uO(n,s,c=[]){w0(),NV();const f=jo(n)[s].apply(n,c);return IV(),C0(),f}const Dle=TV("__proto__,__v_isRef,__isVue"),BG=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Vy));function Rle(n){Vy(n)||(n=String(n));const s=jo(this);return ku(s,"has",n),s.hasOwnProperty(n)}class MG{constructor(s=!1,c=!1){this._isReadonly=s,this._isShallow=c}get(s,c,f){if(c==="__v_skip")return s.__v_skip;const g=this._isReadonly,h=this._isShallow;if(c==="__v_isReactive")return!g;if(c==="__v_isReadonly")return g;if(c==="__v_isShallow")return h;if(c==="__v_raw")return f===(g?h?zle:zG:h?HG:$G).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(f)?s:void 0;const x=sr(s);if(!g){let O;if(x&&(O=Tle[c]))return O;if(c==="hasOwnProperty")return Rle}const C=Reflect.get(s,c,ja(s)?s:f);return(Vy(c)?BG.has(c):Dle(c))||(g||ku(s,"get",c),h)?C:ja(C)?x&&RV(c)?C:C.value:Ka(C)?g?Lk(C):fc(C):C}}class FG extends MG{constructor(s=!1){super(!1,s)}set(s,c,f,g){let h=s[c];if(!this._isShallow){const O=$y(h);if(!wg(f)&&!$y(f)&&(h=jo(h),f=jo(f)),!sr(s)&&ja(h)&&!ja(f))return O?!1:(h.value=f,!0)}const x=sr(s)&&RV(c)?Number(c)<s.length:oa(s,c),C=Reflect.set(s,c,f,ja(s)?s:g);return s===jo(g)&&(x?Py(f,h)&&p0(s,"set",c,f):p0(s,"add",c,f)),C}deleteProperty(s,c){const f=oa(s,c);s[c];const g=Reflect.deleteProperty(s,c);return g&&f&&p0(s,"delete",c,void 0),g}has(s,c){const f=Reflect.has(s,c);return(!Vy(c)||!BG.has(c))&&ku(s,"has",c),f}ownKeys(s){return ku(s,"iterate",sr(s)?"length":Xw),Reflect.ownKeys(s)}}class Nle extends MG{constructor(s=!1){super(!0,s)}set(s,c){return!0}deleteProperty(s,c){return!0}}const Ile=new FG,Ple=new Nle,Lle=new FG(!0);const $z=n=>n,KL=n=>Reflect.getPrototypeOf(n);function Ble(n,s,c){return function(...f){const g=this.__v_raw,h=jo(g),x=Tk(h),C=n==="entries"||n===Symbol.iterator&&x,O=n==="keys"&&x,R=g[n](...f),D=c?$z:s?AB:Vc;return!s&&ku(h,"iterate",O?Fz:Xw),{next(){const{value:N,done:H}=R.next();return H?{value:N,done:H}:{value:C?[D(N[0]),D(N[1])]:D(N),done:H}},[Symbol.iterator](){return this}}}}function qL(n){return function(...s){return n==="delete"?!1:n==="clear"?void 0:this}}function Mle(n,s){const c={get(g){const h=this.__v_raw,x=jo(h),C=jo(g);n||(Py(g,C)&&ku(x,"get",g),ku(x,"get",C));const{has:O}=KL(x),R=s?$z:n?AB:Vc;if(O.call(x,g))return R(h.get(g));if(O.call(x,C))return R(h.get(C));h!==x&&h.get(g)},get size(){const g=this.__v_raw;return!n&&ku(jo(g),"iterate",Xw),Reflect.get(g,"size",g)},has(g){const h=this.__v_raw,x=jo(h),C=jo(g);return n||(Py(g,C)&&ku(x,"has",g),ku(x,"has",C)),g===C?h.has(g):h.has(g)||h.has(C)},forEach(g,h){const x=this,C=x.__v_raw,O=jo(C),R=s?$z:n?AB:Vc;return!n&&ku(O,"iterate",Xw),C.forEach((D,N)=>g.call(h,R(D),R(N),x))}};return Kl(c,n?{add:qL("add"),set:qL("set"),delete:qL("delete"),clear:qL("clear")}:{add(g){!s&&!wg(g)&&!$y(g)&&(g=jo(g));const h=jo(this);return KL(h).has.call(h,g)||(h.add(g),p0(h,"add",g,g)),this},set(g,h){!s&&!wg(h)&&!$y(h)&&(h=jo(h));const x=jo(this),{has:C,get:O}=KL(x);let R=C.call(x,g);R||(g=jo(g),R=C.call(x,g));const D=O.call(x,g);return x.set(g,h),R?Py(h,D)&&p0(x,"set",g,h):p0(x,"add",g,h),this},delete(g){const h=jo(this),{has:x,get:C}=KL(h);let O=x.call(h,g);O||(g=jo(g),O=x.call(h,g)),C&&C.call(h,g);const R=h.delete(g);return O&&p0(h,"delete",g,void 0),R},clear(){const g=jo(this),h=g.size!==0,x=g.clear();return h&&p0(g,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(g=>{c[g]=Ble(g,n,s)}),c}function BV(n,s){const c=Mle(n,s);return(f,g,h)=>g==="__v_isReactive"?!n:g==="__v_isReadonly"?n:g==="__v_raw"?f:Reflect.get(oa(c,g)&&g in f?c:f,g,h)}const Fle={get:BV(!1,!1)},$le={get:BV(!1,!0)},Hle={get:BV(!0,!1)};const $G=new WeakMap,HG=new WeakMap,zG=new WeakMap,zle=new WeakMap;function Vle(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ule(n){return n.__v_skip||!Object.isExtensible(n)?0:Vle(hle(n))}function fc(n){return $y(n)?n:MV(n,!1,Ile,Fle,$G)}function Wle(n){return MV(n,!1,Lle,$le,HG)}function Lk(n){return MV(n,!0,Ple,Hle,zG)}function MV(n,s,c,f,g){if(!Ka(n)||n.__v_raw&&!(s&&n.__v_isReactive))return n;const h=Ule(n);if(h===0)return n;const x=g.get(n);if(x)return x;const C=new Proxy(n,h===2?f:c);return g.set(n,C),C}function Ly(n){return $y(n)?Ly(n.__v_raw):!!(n&&n.__v_isReactive)}function $y(n){return!!(n&&n.__v_isReadonly)}function wg(n){return!!(n&&n.__v_isShallow)}function FV(n){return n?!!n.__v_raw:!1}function jo(n){const s=n&&n.__v_raw;return s?jo(s):n}function $V(n){return!oa(n,"__v_skip")&&Object.isExtensible(n)&&CG(n,"__v_skip",!0),n}const Vc=n=>Ka(n)?fc(n):n,AB=n=>Ka(n)?Lk(n):n;function ja(n){return n?n.__v_isRef===!0:!1}function Io(n){return VG(n,!1)}function xr(n){return VG(n,!0)}function VG(n,s){return ja(n)?n:new Zle(n,s)}class Zle{constructor(s,c){this.dep=new LV,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=c?s:jo(s),this._value=c?s:Vc(s),this.__v_isShallow=c}get value(){return this.dep.track(),this._value}set value(s){const c=this._rawValue,f=this.__v_isShallow||wg(s)||$y(s);s=f?s:jo(s),Py(s,c)&&(this._rawValue=s,this._value=f?s:Vc(s),this.dep.trigger())}}function qe(n){return ja(n)?n.value:n}function _0(n){return yr(n)?n():qe(n)}const jle={get:(n,s,c)=>s==="__v_raw"?n:qe(Reflect.get(n,s,c)),set:(n,s,c,f)=>{const g=n[s];return ja(g)&&!ja(c)?(g.value=c,!0):Reflect.set(n,s,c,f)}};function UG(n){return Ly(n)?n:new Proxy(n,jle)}function rM(n){const s=sr(n)?new Array(n.length):{};for(const c in n)s[c]=WG(n,c);return s}class Kle{constructor(s,c,f){this._object=s,this._key=c,this._defaultValue=f,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Ale(jo(this._object),this._key)}}class qle{constructor(s){this._getter=s,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Zn(n,s,c){return ja(n)?n:yr(n)?new qle(n):Ka(n)&&arguments.length>1?WG(n,s,c):Io(n)}function WG(n,s,c){const f=n[s];return ja(f)?f:new Kle(n,s,c)}class Gle{constructor(s,c,f){this.fn=s,this.setter=c,this._value=void 0,this.dep=new LV(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=EO-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!c,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&Za!==this)return DG(this,!0),!0}get value(){const s=this.dep.track();return IG(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function Yle(n,s,c=!1){let f,g;return yr(n)?f=n:(f=n.get,g=n.set),new Gle(f,g,c)}const GL={},TB=new WeakMap;let Kw;function Xle(n,s=!1,c=Kw){if(c){let f=TB.get(c);f||TB.set(c,f=[]),f.push(n)}}function Jle(n,s,c=Na){const{immediate:f,deep:g,once:h,scheduler:x,augmentJob:C,call:O}=c,R=j=>g?j:wg(j)||g===!1||g===0?b0(j,1):b0(j);let D,N,H,V,Z=!1,te=!1;if(ja(n)?(N=()=>n.value,Z=wg(n)):Ly(n)?(N=()=>R(n),Z=!0):sr(n)?(te=!0,Z=n.some(j=>Ly(j)||wg(j)),N=()=>n.map(j=>{if(ja(j))return j.value;if(Ly(j))return R(j);if(yr(j))return O?O(j,2):j()})):yr(n)?s?N=O?()=>O(n,2):n:N=()=>{if(H){w0();try{H()}finally{C0()}}const j=Kw;Kw=D;try{return O?O(n,3,[V]):n(V)}finally{Kw=j}}:N=ib,s&&g){const j=N,de=g===!0?1/0:g;N=()=>b0(j(),de)}const ce=AG(),X=()=>{D.stop(),ce&&ce.active&&DV(ce.effects,D)};if(h&&s){const j=s;s=(...de)=>{j(...de),X()}}let Se=te?new Array(n.length).fill(GL):GL;const fe=j=>{if(!(!(D.flags&1)||!D.dirty&&!j))if(s){const de=D.run();if(g||Z||(te?de.some((oe,Ue)=>Py(oe,Se[Ue])):Py(de,Se))){H&&H();const oe=Kw;Kw=D;try{const Ue=[de,Se===GL?void 0:te&&Se[0]===GL?[]:Se,V];Se=de,O?O(s,3,Ue):s(...Ue)}finally{Kw=oe}}}else D.run()};return C&&C(fe),D=new TG(N),D.scheduler=x?()=>x(fe,!1):fe,V=j=>Xle(j,!1,D),H=D.onStop=()=>{const j=TB.get(D);if(j){if(O)O(j,4);else for(const de of j)de();TB.delete(D)}},s?f?fe(!0):Se=D.run():x?x(fe.bind(null,!0),!0):D.run(),X.pause=D.pause.bind(D),X.resume=D.resume.bind(D),X.stop=X,X}function b0(n,s=1/0,c){if(s<=0||!Ka(n)||n.__v_skip||(c=c||new Set,c.has(n)))return n;if(c.add(n),s--,ja(n))b0(n.value,s,c);else if(sr(n))for(let f=0;f<n.length;f++)b0(n[f],s,c);else if(vG(n)||Tk(n))n.forEach(f=>{b0(f,s,c)});else if(wG(n)){for(const f in n)b0(n[f],s,c);for(const f of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,f)&&b0(n[f],s,c)}return n}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function VO(n,s,c,f){try{return f?n(...f):n()}catch(g){sM(g,s,c)}}function Bh(n,s,c,f){if(yr(n)){const g=VO(n,s,c,f);return g&&yG(g)&&g.catch(h=>{sM(h,s,c)}),g}if(sr(n)){const g=[];for(let h=0;h<n.length;h++)g.push(Bh(n[h],s,c,f));return g}}function sM(n,s,c,f=!0){const g=s?s.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=s&&s.appContext.config||Na;if(s){let C=s.parent;const O=s.proxy,R=`https://vuejs.org/error-reference/#runtime-${c}`;for(;C;){const D=C.ec;if(D){for(let N=0;N<D.length;N++)if(D[N](n,O,R)===!1)return}C=C.parent}if(h){w0(),VO(h,null,10,[n,O,R]),C0();return}}Qle(n,c,g,f,x)}function Qle(n,s,c,f=!0,g=!1){if(g)throw n;console.error(n)}const gd=[];let tb=-1;const Ok=[];let Oy=null,xk=0;const ZG=Promise.resolve();let OB=null;function ya(n){const s=OB||ZG;return n?s.then(this?n.bind(this):n):s}function ece(n){let s=tb+1,c=gd.length;for(;s<c;){const f=s+c>>>1,g=gd[f],h=TO(g);h<n||h===n&&g.flags&2?s=f+1:c=f}return s}function HV(n){if(!(n.flags&1)){const s=TO(n),c=gd[gd.length-1];!c||!(n.flags&2)&&s>=TO(c)?gd.push(n):gd.splice(ece(s),0,n),n.flags|=1,jG()}}function jG(){OB||(OB=ZG.then(qG))}function tce(n){sr(n)?Ok.push(...n):Oy&&n.id===-1?Oy.splice(xk+1,0,n):n.flags&1||(Ok.push(n),n.flags|=1),jG()}function Dj(n,s,c=tb+1){for(;c<gd.length;c++){const f=gd[c];if(f&&f.flags&2){if(n&&f.id!==n.uid)continue;gd.splice(c,1),c--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function KG(n){if(Ok.length){const s=[...new Set(Ok)].sort((c,f)=>TO(c)-TO(f));if(Ok.length=0,Oy){Oy.push(...s);return}for(Oy=s,xk=0;xk<Oy.length;xk++){const c=Oy[xk];c.flags&4&&(c.flags&=-2),c.flags&8||c(),c.flags&=-2}Oy=null,xk=0}}const TO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function qG(n){try{for(tb=0;tb<gd.length;tb++){const s=gd[tb];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),VO(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;tb<gd.length;tb++){const s=gd[tb];s&&(s.flags&=-2)}tb=-1,gd.length=0,KG(),OB=null,(gd.length||Ok.length)&&qG()}}let yd=null,GG=null;function DB(n){const s=yd;return yd=n,GG=n&&n.type.__scopeId||null,s}function Gt(n,s=yd,c){if(!s||n._n)return n;const f=(...g)=>{f._d&&Wj(-1);const h=DB(s);let x;try{x=n(...g)}finally{DB(h),f._d&&Wj(1)}return x};return f._n=!0,f._c=!0,f._d=!0,f}function tr(n,s){if(yd===null)return n;const c=cM(yd),f=n.dirs||(n.dirs=[]);for(let g=0;g<s.length;g++){let[h,x,C,O=Na]=s[g];h&&(yr(h)&&(h={mounted:h,updated:h}),h.deep&&b0(x),f.push({dir:h,instance:c,value:x,oldValue:void 0,arg:C,modifiers:O}))}return n}function Hw(n,s,c,f){const g=n.dirs,h=s&&s.dirs;for(let x=0;x<g.length;x++){const C=g[x];h&&(C.oldValue=h[x].value);let O=C.dir[f];O&&(w0(),Bh(O,c,8,[n.el,C,n,s]),C0())}}const YG=Symbol("_vte"),XG=n=>n.__isTeleport,wO=n=>n&&(n.disabled||n.disabled===""),Rj=n=>n&&(n.defer||n.defer===""),Nj=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Ij=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Hz=(n,s)=>{const c=n&&n.to;return Vi(c)?s?s(c):null:c},JG={name:"Teleport",__isTeleport:!0,process(n,s,c,f,g,h,x,C,O,R){const{mc:D,pc:N,pbc:H,o:{insert:V,querySelector:Z,createText:te,createComment:ce}}=R,X=wO(s.props);let{shapeFlag:Se,children:fe,dynamicChildren:j}=s;if(n==null){const de=s.el=te(""),oe=s.anchor=te("");V(de,c,f),V(oe,c,f);const Ue=(je,st)=>{Se&16&&(g&&g.isCE&&(g.ce._teleportTarget=je),D(fe,je,st,g,h,x,C,O))},He=()=>{const je=s.target=Hz(s.props,Z),st=QG(je,s,te,V);je&&(x!=="svg"&&Nj(je)?x="svg":x!=="mathml"&&Ij(je)&&(x="mathml"),X||(Ue(je,st),gB(s,!1)))};X&&(Ue(c,oe),gB(s,!0)),Rj(s.props)?(s.el.__isMounted=!1,md(()=>{He(),delete s.el.__isMounted},h)):He()}else{if(Rj(s.props)&&n.el.__isMounted===!1){md(()=>{JG.process(n,s,c,f,g,h,x,C,O,R)},h);return}s.el=n.el,s.targetStart=n.targetStart;const de=s.anchor=n.anchor,oe=s.target=n.target,Ue=s.targetAnchor=n.targetAnchor,He=wO(n.props),je=He?c:oe,st=He?de:Ue;if(x==="svg"||Nj(oe)?x="svg":(x==="mathml"||Ij(oe))&&(x="mathml"),j?(H(n.dynamicChildren,j,je,g,h,x,C),KV(n,s,!0)):O||N(n,s,je,st,g,h,x,C,!1),X)He?s.props&&n.props&&s.props.to!==n.props.to&&(s.props.to=n.props.to):YL(s,c,de,R,1);else if((s.props&&s.props.to)!==(n.props&&n.props.to)){const Oe=s.target=Hz(s.props,Z);Oe&&YL(s,Oe,null,R,0)}else He&&YL(s,oe,Ue,R,1);gB(s,X)}},remove(n,s,c,{um:f,o:{remove:g}},h){const{shapeFlag:x,children:C,anchor:O,targetStart:R,targetAnchor:D,target:N,props:H}=n;if(N&&(g(R),g(D)),h&&g(O),x&16){const V=h||!wO(H);for(let Z=0;Z<C.length;Z++){const te=C[Z];f(te,s,c,V,!!te.dynamicChildren)}}},move:YL,hydrate:nce};function YL(n,s,c,{o:{insert:f},m:g},h=2){h===0&&f(n.targetAnchor,s,c);const{el:x,anchor:C,shapeFlag:O,children:R,props:D}=n,N=h===2;if(N&&f(x,s,c),(!N||wO(D))&&O&16)for(let H=0;H<R.length;H++)g(R[H],s,c,2);N&&f(C,s,c)}function nce(n,s,c,f,g,h,{o:{nextSibling:x,parentNode:C,querySelector:O,insert:R,createText:D}},N){const H=s.target=Hz(s.props,O);if(H){const V=wO(s.props),Z=H._lpa||H.firstChild;if(s.shapeFlag&16)if(V)s.anchor=N(x(n),s,C(n),c,f,g,h),s.targetStart=Z,s.targetAnchor=Z&&x(Z);else{s.anchor=x(n);let te=Z;for(;te;){if(te&&te.nodeType===8){if(te.data==="teleport start anchor")s.targetStart=te;else if(te.data==="teleport anchor"){s.targetAnchor=te,H._lpa=s.targetAnchor&&x(s.targetAnchor);break}}te=x(te)}s.targetAnchor||QG(H,s,D,R),N(Z&&x(Z),s,H,c,f,g,h)}gB(s,V)}return s.anchor&&x(s.anchor)}const oce=JG;function gB(n,s){const c=n.ctx;if(c&&c.ut){let f,g;for(s?(f=n.el,g=n.anchor):(f=n.targetStart,g=n.targetAnchor);f&&f!==g;)f.nodeType===1&&f.setAttribute("data-v-owner",c.uid),f=f.nextSibling;c.ut()}}function QG(n,s,c,f){const g=s.targetStart=c(""),h=s.targetAnchor=c("");return g[YG]=h,n&&(f(g,n),f(h,n)),h}const Dy=Symbol("_leaveCb"),XL=Symbol("_enterCb");function eY(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Uc(()=>{n.isMounted=!0}),hc(()=>{n.isUnmounting=!0}),n}const yg=[Function,Array],tY={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yg,onEnter:yg,onAfterEnter:yg,onEnterCancelled:yg,onBeforeLeave:yg,onLeave:yg,onAfterLeave:yg,onLeaveCancelled:yg,onBeforeAppear:yg,onAppear:yg,onAfterAppear:yg,onAppearCancelled:yg},nY=n=>{const s=n.subTree;return s.component?nY(s.component):s},rce={name:"BaseTransition",props:tY,setup(n,{slots:s}){const c=Bk(),f=eY();return()=>{const g=s.default&&zV(s.default(),!0);if(!g||!g.length)return;const h=oY(g),x=jo(n),{mode:C}=x;if(f.isLeaving)return q9(h);const O=Pj(h);if(!O)return q9(h);let R=OO(O,x,f,c,N=>R=N);O.type!==pd&&oC(O,R);let D=c.subTree&&Pj(c.subTree);if(D&&D.type!==pd&&!Gw(O,D)&&nY(c).type!==pd){let N=OO(D,x,f,c);if(oC(D,N),C==="out-in"&&O.type!==pd)return f.isLeaving=!0,N.afterLeave=()=>{f.isLeaving=!1,c.job.flags&8||c.update(),delete N.afterLeave,D=void 0},q9(h);C==="in-out"&&O.type!==pd?N.delayLeave=(H,V,Z)=>{const te=rY(f,D);te[String(D.key)]=D,H[Dy]=()=>{V(),H[Dy]=void 0,delete R.delayedLeave,D=void 0},R.delayedLeave=()=>{Z(),delete R.delayedLeave,D=void 0}}:D=void 0}else D&&(D=void 0);return h}}};function oY(n){let s=n[0];if(n.length>1){for(const c of n)if(c.type!==pd){s=c;break}}return s}const sce=rce;function rY(n,s){const{leavingVNodes:c}=n;let f=c.get(s.type);return f||(f=Object.create(null),c.set(s.type,f)),f}function OO(n,s,c,f,g){const{appear:h,mode:x,persisted:C=!1,onBeforeEnter:O,onEnter:R,onAfterEnter:D,onEnterCancelled:N,onBeforeLeave:H,onLeave:V,onAfterLeave:Z,onLeaveCancelled:te,onBeforeAppear:ce,onAppear:X,onAfterAppear:Se,onAppearCancelled:fe}=s,j=String(n.key),de=rY(c,n),oe=(je,st)=>{je&&Bh(je,f,9,st)},Ue=(je,st)=>{const Oe=st[1];oe(je,st),sr(je)?je.every(Be=>Be.length<=1)&&Oe():je.length<=1&&Oe()},He={mode:x,persisted:C,beforeEnter(je){let st=O;if(!c.isMounted)if(h)st=ce||O;else return;je[Dy]&&je[Dy](!0);const Oe=de[j];Oe&&Gw(n,Oe)&&Oe.el[Dy]&&Oe.el[Dy](),oe(st,[je])},enter(je){let st=R,Oe=D,Be=N;if(!c.isMounted)if(h)st=X||R,Oe=Se||D,Be=fe||N;else return;let P=!1;const St=je[XL]=Mt=>{P||(P=!0,Mt?oe(Be,[je]):oe(Oe,[je]),He.delayedLeave&&He.delayedLeave(),je[XL]=void 0)};st?Ue(st,[je,St]):St()},leave(je,st){const Oe=String(n.key);if(je[XL]&&je[XL](!0),c.isUnmounting)return st();oe(H,[je]);let Be=!1;const P=je[Dy]=St=>{Be||(Be=!0,st(),St?oe(te,[je]):oe(Z,[je]),je[Dy]=void 0,de[Oe]===n&&delete de[Oe])};de[Oe]=n,V?Ue(V,[je,P]):P()},clone(je){const st=OO(je,s,c,f,g);return g&&g(st),st}};return He}function q9(n){if(aM(n))return n=Hy(n),n.children=null,n}function Pj(n){if(!aM(n))return XG(n.type)&&n.children?oY(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:s,children:c}=n;if(c){if(s&16)return c[0];if(s&32&&yr(c.default))return c.default()}}function oC(n,s){n.shapeFlag&6&&n.component?(n.transition=s,oC(n.component.subTree,s)):n.shapeFlag&128?(n.ssContent.transition=s.clone(n.ssContent),n.ssFallback.transition=s.clone(n.ssFallback)):n.transition=s}function zV(n,s=!1,c){let f=[],g=0;for(let h=0;h<n.length;h++){let x=n[h];const C=c==null?x.key:String(c)+String(x.key!=null?x.key:h);x.type===Os?(x.patchFlag&128&&g++,f=f.concat(zV(x.children,s,C))):(s||x.type!==pd)&&f.push(C!=null?Hy(x,{key:C}):x)}if(g>1)for(let h=0;h<f.length;h++)f[h].patchFlag=-2;return f}/*! #__NO_SIDE_EFFECTS__ */function sY(n,s){return yr(n)?Kl({name:n.name},s,{setup:n}):n}function UO(){const n=Bk();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function aY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function RB(n,s,c,f,g=!1){if(sr(n)){n.forEach((Z,te)=>RB(Z,s&&(sr(s)?s[te]:s),c,f,g));return}if(CO(f)&&!g){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&RB(n,s,c,f.component.subTree);return}const h=f.shapeFlag&4?cM(f.component):f.el,x=g?null:h,{i:C,r:O}=n,R=s&&s.r,D=C.refs===Na?C.refs={}:C.refs,N=C.setupState,H=jo(N),V=N===Na?()=>!1:Z=>oa(H,Z);if(R!=null&&R!==O&&(Vi(R)?(D[R]=null,V(R)&&(N[R]=null)):ja(R)&&(R.value=null)),yr(O))VO(O,C,12,[x,D]);else{const Z=Vi(O),te=ja(O);if(Z||te){const ce=()=>{if(n.f){const X=Z?V(O)?N[O]:D[O]:O.value;g?sr(X)&&DV(X,h):sr(X)?X.includes(h)||X.push(h):Z?(D[O]=[h],V(O)&&(N[O]=D[O])):(O.value=[h],n.k&&(D[n.k]=O.value))}else Z?(D[O]=x,V(O)&&(N[O]=x)):te&&(O.value=x,n.k&&(D[n.k]=x))};x?(ce.id=-1,md(ce,c)):ce()}}}nM().requestIdleCallback;nM().cancelIdleCallback;const CO=n=>!!n.type.__asyncLoader,aM=n=>n.type.__isKeepAlive;function VV(n,s){iY(n,"a",s)}function UV(n,s){iY(n,"da",s)}function iY(n,s,c=mc){const f=n.__wdc||(n.__wdc=()=>{let g=c;for(;g;){if(g.isDeactivated)return;g=g.parent}return n()});if(iM(s,f,c),c){let g=c.parent;for(;g&&g.parent;)aM(g.parent.vnode)&&ace(f,s,c,g),g=g.parent}}function ace(n,s,c,f){const g=iM(s,n,f,!0);lY(()=>{DV(f[s],g)},c)}function iM(n,s,c=mc,f=!1){if(c){const g=c[n]||(c[n]=[]),h=s.__weh||(s.__weh=(...x)=>{w0();const C=jO(c),O=Bh(s,c,n,x);return C(),C0(),O});return f?g.unshift(h):g.push(h),h}}const A0=n=>(s,c=mc)=>{(!RO||n==="sp")&&iM(n,(...f)=>s(...f),c)},WO=A0("bm"),Uc=A0("m"),ice=A0("bu"),WV=A0("u"),hc=A0("bum"),lY=A0("um"),lce=A0("sp"),cce=A0("rtg"),uce=A0("rtc");function dce(n,s=mc){iM("ec",n,s)}const fce="components",mce=Symbol.for("v-ndc");function gce(n){return Vi(n)&&hce(fce,n,!1)||n}function hce(n,s,c=!0,f=!1){const g=yd||mc;if(g){const h=g.type;{const C=tue(h,!1);if(C&&(C===s||C===sf(s)||C===E0(sf(s))))return h}const x=Lj(g[n]||h[n],s)||Lj(g.appContext[n],s);return!x&&f?h:x}}function Lj(n,s){return n&&(n[s]||n[sf(s)]||n[E0(sf(s))])}function Dk(n,s,c,f){let g;const h=c,x=sr(n);if(x||Vi(n)){const C=x&&Ly(n);let O=!1,R=!1;C&&(O=!wg(n),R=$y(n),n=oM(n)),g=new Array(n.length);for(let D=0,N=n.length;D<N;D++)g[D]=s(O?R?AB(Vc(n[D])):Vc(n[D]):n[D],D,void 0,h)}else if(typeof n=="number"){g=new Array(n);for(let C=0;C<n;C++)g[C]=s(C+1,C,void 0,h)}else if(Ka(n))if(n[Symbol.iterator])g=Array.from(n,(C,O)=>s(C,O,void 0,h));else{const C=Object.keys(n);g=new Array(C.length);for(let O=0,R=C.length;O<R;O++){const D=C[O];g[O]=s(n[D],D,O,h)}}else g=[];return g}const zz=n=>n?EY(n)?cM(n):zz(n.parent):null,_O=Kl(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>zz(n.parent),$root:n=>zz(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>uY(n),$forceUpdate:n=>n.f||(n.f=()=>{HV(n.update)}),$nextTick:n=>n.n||(n.n=ya.bind(n.proxy)),$watch:n=>Mce.bind(n)}),G9=(n,s)=>n!==Na&&!n.__isScriptSetup&&oa(n,s),pce={get({_:n},s){if(s==="__v_skip")return!0;const{ctx:c,setupState:f,data:g,props:h,accessCache:x,type:C,appContext:O}=n;let R;if(s[0]!=="$"){const V=x[s];if(V!==void 0)switch(V){case 1:return f[s];case 2:return g[s];case 4:return c[s];case 3:return h[s]}else{if(G9(f,s))return x[s]=1,f[s];if(g!==Na&&oa(g,s))return x[s]=2,g[s];if((R=n.propsOptions[0])&&oa(R,s))return x[s]=3,h[s];if(c!==Na&&oa(c,s))return x[s]=4,c[s];Vz&&(x[s]=0)}}const D=_O[s];let N,H;if(D)return s==="$attrs"&&ku(n.attrs,"get",""),D(n);if((N=C.__cssModules)&&(N=N[s]))return N;if(c!==Na&&oa(c,s))return x[s]=4,c[s];if(H=O.config.globalProperties,oa(H,s))return H[s]},set({_:n},s,c){const{data:f,setupState:g,ctx:h}=n;return G9(g,s)?(g[s]=c,!0):f!==Na&&oa(f,s)?(f[s]=c,!0):oa(n.props,s)||s[0]==="$"&&s.slice(1)in n?!1:(h[s]=c,!0)},has({_:{data:n,setupState:s,accessCache:c,ctx:f,appContext:g,propsOptions:h}},x){let C;return!!c[x]||n!==Na&&oa(n,x)||G9(s,x)||(C=h[0])&&oa(C,x)||oa(f,x)||oa(_O,x)||oa(g.config.globalProperties,x)},defineProperty(n,s,c){return c.get!=null?n._.accessCache[s]=0:oa(c,"value")&&this.set(n,s,c.value,null),Reflect.defineProperty(n,s,c)}};function Bj(n){return sr(n)?n.reduce((s,c)=>(s[c]=null,s),{}):n}let Vz=!0;function bce(n){const s=uY(n),c=n.proxy,f=n.ctx;Vz=!1,s.beforeCreate&&Mj(s.beforeCreate,n,"bc");const{data:g,computed:h,methods:x,watch:C,provide:O,inject:R,created:D,beforeMount:N,mounted:H,beforeUpdate:V,updated:Z,activated:te,deactivated:ce,beforeDestroy:X,beforeUnmount:Se,destroyed:fe,unmounted:j,render:de,renderTracked:oe,renderTriggered:Ue,errorCaptured:He,serverPrefetch:je,expose:st,inheritAttrs:Oe,components:Be,directives:P,filters:St}=s;if(R&&vce(R,f,null),x)for(const un in x){const ct=x[un];yr(ct)&&(f[un]=ct.bind(c))}if(g){const un=g.call(c,c);Ka(un)&&(n.data=fc(un))}if(Vz=!0,h)for(const un in h){const ct=h[un],_n=yr(ct)?ct.bind(c,c):yr(ct.get)?ct.get.bind(c,c):ib,Vn=!yr(ct)&&yr(ct.set)?ct.set.bind(c):ib,Lt=Wt({get:_n,set:Vn});Object.defineProperty(f,un,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:Je=>Lt.value=Je})}if(C)for(const un in C)cY(C[un],f,c,un);if(O){const un=yr(O)?O.call(c):O;Reflect.ownKeys(un).forEach(ct=>{im(ct,un[ct])})}D&&Mj(D,n,"c");function tn(un,ct){sr(ct)?ct.forEach(_n=>un(_n.bind(c))):ct&&un(ct.bind(c))}if(tn(WO,N),tn(Uc,H),tn(ice,V),tn(WV,Z),tn(VV,te),tn(UV,ce),tn(dce,He),tn(uce,oe),tn(cce,Ue),tn(hc,Se),tn(lY,j),tn(lce,je),sr(st))if(st.length){const un=n.exposed||(n.exposed={});st.forEach(ct=>{Object.defineProperty(un,ct,{get:()=>c[ct],set:_n=>c[ct]=_n})})}else n.exposed||(n.exposed={});de&&n.render===ib&&(n.render=de),Oe!=null&&(n.inheritAttrs=Oe),Be&&(n.components=Be),P&&(n.directives=P),je&&aY(n)}function vce(n,s,c=ib){sr(n)&&(n=Uz(n));for(const f in n){const g=n[f];let h;Ka(g)?"default"in g?h=Si(g.from||f,g.default,!0):h=Si(g.from||f):h=Si(g),ja(h)?Object.defineProperty(s,f,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):s[f]=h}}function Mj(n,s,c){Bh(sr(n)?n.map(f=>f.bind(s.proxy)):n.bind(s.proxy),s,c)}function cY(n,s,c,f){let g=f.includes(".")?wY(c,f):()=>c[f];if(Vi(n)){const h=s[n];yr(h)&&qn(g,h)}else if(yr(n))qn(g,n.bind(c));else if(Ka(n))if(sr(n))n.forEach(h=>cY(h,s,c,f));else{const h=yr(n.handler)?n.handler.bind(c):s[n.handler];yr(h)&&qn(g,h,n)}}function uY(n){const s=n.type,{mixins:c,extends:f}=s,{mixins:g,optionsCache:h,config:{optionMergeStrategies:x}}=n.appContext,C=h.get(s);let O;return C?O=C:!g.length&&!c&&!f?O=s:(O={},g.length&&g.forEach(R=>NB(O,R,x,!0)),NB(O,s,x)),Ka(s)&&h.set(s,O),O}function NB(n,s,c,f=!1){const{mixins:g,extends:h}=s;h&&NB(n,h,c,!0),g&&g.forEach(x=>NB(n,x,c,!0));for(const x in s)if(!(f&&x==="expose")){const C=yce[x]||c&&c[x];n[x]=C?C(n[x],s[x]):s[x]}return n}const yce={data:Fj,props:$j,emits:$j,methods:bO,computed:bO,beforeCreate:dd,created:dd,beforeMount:dd,mounted:dd,beforeUpdate:dd,updated:dd,beforeDestroy:dd,beforeUnmount:dd,destroyed:dd,unmounted:dd,activated:dd,deactivated:dd,errorCaptured:dd,serverPrefetch:dd,components:bO,directives:bO,watch:wce,provide:Fj,inject:xce};function Fj(n,s){return s?n?function(){return Kl(yr(n)?n.call(this,this):n,yr(s)?s.call(this,this):s)}:s:n}function xce(n,s){return bO(Uz(n),Uz(s))}function Uz(n){if(sr(n)){const s={};for(let c=0;c<n.length;c++)s[n[c]]=n[c];return s}return n}function dd(n,s){return n?[...new Set([].concat(n,s))]:s}function bO(n,s){return n?Kl(Object.create(null),n,s):s}function $j(n,s){return n?sr(n)&&sr(s)?[...new Set([...n,...s])]:Kl(Object.create(null),Bj(n),Bj(s??{})):s}function wce(n,s){if(!n)return s;if(!s)return n;const c=Kl(Object.create(null),n);for(const f in s)c[f]=dd(n[f],s[f]);return c}function dY(){return{app:null,config:{isNativeTag:mle,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cce=0;function _ce(n,s){return function(f,g=null){yr(f)||(f=Kl({},f)),g!=null&&!Ka(g)&&(g=null);const h=dY(),x=new WeakSet,C=[];let O=!1;const R=h.app={_uid:Cce++,_component:f,_props:g,_container:null,_context:h,_instance:null,version:oue,get config(){return h.config},set config(D){},use(D,...N){return x.has(D)||(D&&yr(D.install)?(x.add(D),D.install(R,...N)):yr(D)&&(x.add(D),D(R,...N))),R},mixin(D){return h.mixins.includes(D)||h.mixins.push(D),R},component(D,N){return N?(h.components[D]=N,R):h.components[D]},directive(D,N){return N?(h.directives[D]=N,R):h.directives[D]},mount(D,N,H){if(!O){const V=R._ceVNode||Ie(f,g);return V.appContext=h,H===!0?H="svg":H===!1&&(H=void 0),n(V,D,H),O=!0,R._container=D,D.__vue_app__=R,cM(V.component)}},onUnmount(D){C.push(D)},unmount(){O&&(Bh(C,R._instance,16),n(null,R._container),delete R._container.__vue_app__)},provide(D,N){return h.provides[D]=N,R},runWithContext(D){const N=Jw;Jw=R;try{return D()}finally{Jw=N}}};return R}}let Jw=null;function im(n,s){if(mc){let c=mc.provides;const f=mc.parent&&mc.parent.provides;f===c&&(c=mc.provides=Object.create(f)),c[n]=s}}function Si(n,s,c=!1){const f=mc||yd;if(f||Jw){let g=Jw?Jw._context.provides:f?f.parent==null||f.ce?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(g&&n in g)return g[n];if(arguments.length>1)return c&&yr(s)?s.call(f&&f.proxy):s}}function Sce(){return!!(mc||yd||Jw)}const fY={},mY=()=>Object.create(fY),gY=n=>Object.getPrototypeOf(n)===fY;function kce(n,s,c,f=!1){const g={},h=mY();n.propsDefaults=Object.create(null),hY(n,s,g,h);for(const x in n.propsOptions[0])x in g||(g[x]=void 0);c?n.props=f?g:Wle(g):n.type.props?n.props=g:n.props=h,n.attrs=h}function Ece(n,s,c,f){const{props:g,attrs:h,vnode:{patchFlag:x}}=n,C=jo(g),[O]=n.propsOptions;let R=!1;if((f||x>0)&&!(x&16)){if(x&8){const D=n.vnode.dynamicProps;for(let N=0;N<D.length;N++){let H=D[N];if(lM(n.emitsOptions,H))continue;const V=s[H];if(O)if(oa(h,H))V!==h[H]&&(h[H]=V,R=!0);else{const Z=sf(H);g[Z]=Wz(O,C,Z,V,n,!1)}else V!==h[H]&&(h[H]=V,R=!0)}}}else{hY(n,s,g,h)&&(R=!0);let D;for(const N in C)(!s||!oa(s,N)&&((D=sC(N))===N||!oa(s,D)))&&(O?c&&(c[N]!==void 0||c[D]!==void 0)&&(g[N]=Wz(O,C,N,void 0,n,!0)):delete g[N]);if(h!==C)for(const N in h)(!s||!oa(s,N))&&(delete h[N],R=!0)}R&&p0(n.attrs,"set","")}function hY(n,s,c,f){const[g,h]=n.propsOptions;let x=!1,C;if(s)for(let O in s){if(vO(O))continue;const R=s[O];let D;g&&oa(g,D=sf(O))?!h||!h.includes(D)?c[D]=R:(C||(C={}))[D]=R:lM(n.emitsOptions,O)||(!(O in f)||R!==f[O])&&(f[O]=R,x=!0)}if(h){const O=jo(c),R=C||Na;for(let D=0;D<h.length;D++){const N=h[D];c[N]=Wz(g,O,N,R[N],n,!oa(R,N))}}return x}function Wz(n,s,c,f,g,h){const x=n[c];if(x!=null){const C=oa(x,"default");if(C&&f===void 0){const O=x.default;if(x.type!==Function&&!x.skipFactory&&yr(O)){const{propsDefaults:R}=g;if(c in R)f=R[c];else{const D=jO(g);f=R[c]=O.call(null,s),D()}}else f=O;g.ce&&g.ce._setProp(c,f)}x[0]&&(h&&!C?f=!1:x[1]&&(f===""||f===sC(c))&&(f=!0))}return f}const Ace=new WeakMap;function pY(n,s,c=!1){const f=c?Ace:s.propsCache,g=f.get(n);if(g)return g;const h=n.props,x={},C=[];let O=!1;if(!yr(n)){const D=N=>{O=!0;const[H,V]=pY(N,s,!0);Kl(x,H),V&&C.push(...V)};!c&&s.mixins.length&&s.mixins.forEach(D),n.extends&&D(n.extends),n.mixins&&n.mixins.forEach(D)}if(!h&&!O)return Ka(n)&&f.set(n,Ak),Ak;if(sr(h))for(let D=0;D<h.length;D++){const N=sf(h[D]);Hj(N)&&(x[N]=Na)}else if(h)for(const D in h){const N=sf(D);if(Hj(N)){const H=h[D],V=x[N]=sr(H)||yr(H)?{type:H}:Kl({},H),Z=V.type;let te=!1,ce=!0;if(sr(Z))for(let X=0;X<Z.length;++X){const Se=Z[X],fe=yr(Se)&&Se.name;if(fe==="Boolean"){te=!0;break}else fe==="String"&&(ce=!1)}else te=yr(Z)&&Z.name==="Boolean";V[0]=te,V[1]=ce,(te||oa(V,"default"))&&C.push(N)}}const R=[x,C];return Ka(n)&&f.set(n,R),R}function Hj(n){return n[0]!=="$"&&!vO(n)}const ZV=n=>n[0]==="_"||n==="$stable",jV=n=>sr(n)?n.map(ob):[ob(n)],Tce=(n,s,c)=>{if(s._n)return s;const f=Gt((...g)=>jV(s(...g)),c);return f._c=!1,f},bY=(n,s,c)=>{const f=n._ctx;for(const g in n){if(ZV(g))continue;const h=n[g];if(yr(h))s[g]=Tce(g,h,f);else if(h!=null){const x=jV(h);s[g]=()=>x}}},vY=(n,s)=>{const c=jV(s);n.slots.default=()=>c},yY=(n,s,c)=>{for(const f in s)(c||!ZV(f))&&(n[f]=s[f])},Oce=(n,s,c)=>{const f=n.slots=mY();if(n.vnode.shapeFlag&32){const g=s._;g?(yY(f,s,c),c&&CG(f,"_",g,!0)):bY(s,f)}else s&&vY(n,s)},Dce=(n,s,c)=>{const{vnode:f,slots:g}=n;let h=!0,x=Na;if(f.shapeFlag&32){const C=s._;C?c&&C===1?h=!1:yY(g,s,c):(h=!s.$stable,bY(s,g)),x=s}else s&&(vY(n,s),x={default:1});if(h)for(const C in g)!ZV(C)&&x[C]==null&&delete g[C]},md=Wce;function Rce(n){return Nce(n)}function Nce(n,s){const c=nM();c.__VUE__=!0;const{insert:f,remove:g,patchProp:h,createElement:x,createText:C,createComment:O,setText:R,setElementText:D,parentNode:N,nextSibling:H,setScopeId:V=ib,insertStaticContent:Z}=n,te=(Ye,it,be,Ae=null,Fe=null,pe=null,Ce=void 0,De=null,We=!!it.dynamicChildren)=>{if(Ye===it)return;Ye&&!Gw(Ye,it)&&(Ae=gn(Ye),Je(Ye,Fe,pe,!0),Ye=null),it.patchFlag===-2&&(We=!1,it.dynamicChildren=null);const{type:dt,ref:on,shapeFlag:Ft}=it;switch(dt){case ZO:ce(Ye,it,be,Ae);break;case pd:X(Ye,it,be,Ae);break;case X9:Ye==null&&Se(it,be,Ae,Ce);break;case Os:Be(Ye,it,be,Ae,Fe,pe,Ce,De,We);break;default:Ft&1?de(Ye,it,be,Ae,Fe,pe,Ce,De,We):Ft&6?P(Ye,it,be,Ae,Fe,pe,Ce,De,We):(Ft&64||Ft&128)&&dt.process(Ye,it,be,Ae,Fe,pe,Ce,De,We,$o)}on!=null&&Fe&&RB(on,Ye&&Ye.ref,pe,it||Ye,!it)},ce=(Ye,it,be,Ae)=>{if(Ye==null)f(it.el=C(it.children),be,Ae);else{const Fe=it.el=Ye.el;it.children!==Ye.children&&R(Fe,it.children)}},X=(Ye,it,be,Ae)=>{Ye==null?f(it.el=O(it.children||""),be,Ae):it.el=Ye.el},Se=(Ye,it,be,Ae)=>{[Ye.el,Ye.anchor]=Z(Ye.children,it,be,Ae,Ye.el,Ye.anchor)},fe=({el:Ye,anchor:it},be,Ae)=>{let Fe;for(;Ye&&Ye!==it;)Fe=H(Ye),f(Ye,be,Ae),Ye=Fe;f(it,be,Ae)},j=({el:Ye,anchor:it})=>{let be;for(;Ye&&Ye!==it;)be=H(Ye),g(Ye),Ye=be;g(it)},de=(Ye,it,be,Ae,Fe,pe,Ce,De,We)=>{it.type==="svg"?Ce="svg":it.type==="math"&&(Ce="mathml"),Ye==null?oe(it,be,Ae,Fe,pe,Ce,De,We):je(Ye,it,Fe,pe,Ce,De,We)},oe=(Ye,it,be,Ae,Fe,pe,Ce,De)=>{let We,dt;const{props:on,shapeFlag:Ft,transition:vn,dirs:Mn}=Ye;if(We=Ye.el=x(Ye.type,pe,on&&on.is,on),Ft&8?D(We,Ye.children):Ft&16&&He(Ye.children,We,null,Ae,Fe,Y9(Ye,pe),Ce,De),Mn&&Hw(Ye,null,Ae,"created"),Ue(We,Ye,Ye.scopeId,Ce,Ae),on){for(const _o in on)_o!=="value"&&!vO(_o)&&h(We,_o,null,on[_o],pe,Ae);"value"in on&&h(We,"value",null,on.value,pe),(dt=on.onVnodeBeforeMount)&&Gp(dt,Ae,Ye)}Mn&&Hw(Ye,null,Ae,"beforeMount");const zn=Ice(Fe,vn);zn&&vn.beforeEnter(We),f(We,it,be),((dt=on&&on.onVnodeMounted)||zn||Mn)&&md(()=>{dt&&Gp(dt,Ae,Ye),zn&&vn.enter(We),Mn&&Hw(Ye,null,Ae,"mounted")},Fe)},Ue=(Ye,it,be,Ae,Fe)=>{if(be&&V(Ye,be),Ae)for(let pe=0;pe<Ae.length;pe++)V(Ye,Ae[pe]);if(Fe){let pe=Fe.subTree;if(it===pe||_Y(pe.type)&&(pe.ssContent===it||pe.ssFallback===it)){const Ce=Fe.vnode;Ue(Ye,Ce,Ce.scopeId,Ce.slotScopeIds,Fe.parent)}}},He=(Ye,it,be,Ae,Fe,pe,Ce,De,We=0)=>{for(let dt=We;dt<Ye.length;dt++){const on=Ye[dt]=De?Ry(Ye[dt]):ob(Ye[dt]);te(null,on,it,be,Ae,Fe,pe,Ce,De)}},je=(Ye,it,be,Ae,Fe,pe,Ce)=>{const De=it.el=Ye.el;let{patchFlag:We,dynamicChildren:dt,dirs:on}=it;We|=Ye.patchFlag&16;const Ft=Ye.props||Na,vn=it.props||Na;let Mn;if(be&&zw(be,!1),(Mn=vn.onVnodeBeforeUpdate)&&Gp(Mn,be,it,Ye),on&&Hw(it,Ye,be,"beforeUpdate"),be&&zw(be,!0),(Ft.innerHTML&&vn.innerHTML==null||Ft.textContent&&vn.textContent==null)&&D(De,""),dt?st(Ye.dynamicChildren,dt,De,be,Ae,Y9(it,Fe),pe):Ce||ct(Ye,it,De,null,be,Ae,Y9(it,Fe),pe,!1),We>0){if(We&16)Oe(De,Ft,vn,be,Fe);else if(We&2&&Ft.class!==vn.class&&h(De,"class",null,vn.class,Fe),We&4&&h(De,"style",Ft.style,vn.style,Fe),We&8){const zn=it.dynamicProps;for(let _o=0;_o<zn.length;_o++){const yo=zn[_o],Fr=Ft[yo],Yo=vn[yo];(Yo!==Fr||yo==="value")&&h(De,yo,Fr,Yo,Fe,be)}}We&1&&Ye.children!==it.children&&D(De,it.children)}else!Ce&&dt==null&&Oe(De,Ft,vn,be,Fe);((Mn=vn.onVnodeUpdated)||on)&&md(()=>{Mn&&Gp(Mn,be,it,Ye),on&&Hw(it,Ye,be,"updated")},Ae)},st=(Ye,it,be,Ae,Fe,pe,Ce)=>{for(let De=0;De<it.length;De++){const We=Ye[De],dt=it[De],on=We.el&&(We.type===Os||!Gw(We,dt)||We.shapeFlag&198)?N(We.el):be;te(We,dt,on,null,Ae,Fe,pe,Ce,!0)}},Oe=(Ye,it,be,Ae,Fe)=>{if(it!==be){if(it!==Na)for(const pe in it)!vO(pe)&&!(pe in be)&&h(Ye,pe,it[pe],null,Fe,Ae);for(const pe in be){if(vO(pe))continue;const Ce=be[pe],De=it[pe];Ce!==De&&pe!=="value"&&h(Ye,pe,De,Ce,Fe,Ae)}"value"in be&&h(Ye,"value",it.value,be.value,Fe)}},Be=(Ye,it,be,Ae,Fe,pe,Ce,De,We)=>{const dt=it.el=Ye?Ye.el:C(""),on=it.anchor=Ye?Ye.anchor:C("");let{patchFlag:Ft,dynamicChildren:vn,slotScopeIds:Mn}=it;Mn&&(De=De?De.concat(Mn):Mn),Ye==null?(f(dt,be,Ae),f(on,be,Ae),He(it.children||[],be,on,Fe,pe,Ce,De,We)):Ft>0&&Ft&64&&vn&&Ye.dynamicChildren?(st(Ye.dynamicChildren,vn,be,Fe,pe,Ce,De),(it.key!=null||Fe&&it===Fe.subTree)&&KV(Ye,it,!0)):ct(Ye,it,be,on,Fe,pe,Ce,De,We)},P=(Ye,it,be,Ae,Fe,pe,Ce,De,We)=>{it.slotScopeIds=De,Ye==null?it.shapeFlag&512?Fe.ctx.activate(it,be,Ae,Ce,We):St(it,be,Ae,Fe,pe,Ce,We):Mt(Ye,it,We)},St=(Ye,it,be,Ae,Fe,pe,Ce)=>{const De=Ye.component=Yce(Ye,Ae,Fe);if(aM(Ye)&&(De.ctx.renderer=$o),Xce(De,!1,Ce),De.asyncDep){if(Fe&&Fe.registerDep(De,tn,Ce),!Ye.el){const We=De.subTree=Ie(pd);X(null,We,it,be)}}else tn(De,Ye,it,be,Fe,pe,Ce)},Mt=(Ye,it,be)=>{const Ae=it.component=Ye.component;if(Vce(Ye,it,be))if(Ae.asyncDep&&!Ae.asyncResolved){un(Ae,it,be);return}else Ae.next=it,Ae.update();else it.el=Ye.el,Ae.vnode=it},tn=(Ye,it,be,Ae,Fe,pe,Ce)=>{const De=()=>{if(Ye.isMounted){let{next:Ft,bu:vn,u:Mn,parent:zn,vnode:_o}=Ye;{const ar=xY(Ye);if(ar){Ft&&(Ft.el=_o.el,un(Ye,Ft,Ce)),ar.asyncDep.then(()=>{Ye.isUnmounted||De()});return}}let yo=Ft,Fr;zw(Ye,!1),Ft?(Ft.el=_o.el,un(Ye,Ft,Ce)):Ft=_o,vn&&mB(vn),(Fr=Ft.props&&Ft.props.onVnodeBeforeUpdate)&&Gp(Fr,zn,Ft,_o),zw(Ye,!0);const Yo=Vj(Ye),Us=Ye.subTree;Ye.subTree=Yo,te(Us,Yo,N(Us.el),gn(Us),Ye,Fe,pe),Ft.el=Yo.el,yo===null&&Uce(Ye,Yo.el),Mn&&md(Mn,Fe),(Fr=Ft.props&&Ft.props.onVnodeUpdated)&&md(()=>Gp(Fr,zn,Ft,_o),Fe)}else{let Ft;const{el:vn,props:Mn}=it,{bm:zn,m:_o,parent:yo,root:Fr,type:Yo}=Ye,Us=CO(it);zw(Ye,!1),zn&&mB(zn),!Us&&(Ft=Mn&&Mn.onVnodeBeforeMount)&&Gp(Ft,yo,it),zw(Ye,!0);{Fr.ce&&Fr.ce._injectChildStyle(Yo);const ar=Ye.subTree=Vj(Ye);te(null,ar,be,Ae,Ye,Fe,pe),it.el=ar.el}if(_o&&md(_o,Fe),!Us&&(Ft=Mn&&Mn.onVnodeMounted)){const ar=it;md(()=>Gp(Ft,yo,ar),Fe)}(it.shapeFlag&256||yo&&CO(yo.vnode)&&yo.vnode.shapeFlag&256)&&Ye.a&&md(Ye.a,Fe),Ye.isMounted=!0,it=be=Ae=null}};Ye.scope.on();const We=Ye.effect=new TG(De);Ye.scope.off();const dt=Ye.update=We.run.bind(We),on=Ye.job=We.runIfDirty.bind(We);on.i=Ye,on.id=Ye.uid,We.scheduler=()=>HV(on),zw(Ye,!0),dt()},un=(Ye,it,be)=>{it.component=Ye;const Ae=Ye.vnode.props;Ye.vnode=it,Ye.next=null,Ece(Ye,it.props,Ae,be),Dce(Ye,it.children,be),w0(),Dj(Ye),C0()},ct=(Ye,it,be,Ae,Fe,pe,Ce,De,We=!1)=>{const dt=Ye&&Ye.children,on=Ye?Ye.shapeFlag:0,Ft=it.children,{patchFlag:vn,shapeFlag:Mn}=it;if(vn>0){if(vn&128){Vn(dt,Ft,be,Ae,Fe,pe,Ce,De,We);return}else if(vn&256){_n(dt,Ft,be,Ae,Fe,pe,Ce,De,We);return}}Mn&8?(on&16&&Xn(dt,Fe,pe),Ft!==dt&&D(be,Ft)):on&16?Mn&16?Vn(dt,Ft,be,Ae,Fe,pe,Ce,De,We):Xn(dt,Fe,pe,!0):(on&8&&D(be,""),Mn&16&&He(Ft,be,Ae,Fe,pe,Ce,De,We))},_n=(Ye,it,be,Ae,Fe,pe,Ce,De,We)=>{Ye=Ye||Ak,it=it||Ak;const dt=Ye.length,on=it.length,Ft=Math.min(dt,on);let vn;for(vn=0;vn<Ft;vn++){const Mn=it[vn]=We?Ry(it[vn]):ob(it[vn]);te(Ye[vn],Mn,be,null,Fe,pe,Ce,De,We)}dt>on?Xn(Ye,Fe,pe,!0,!1,Ft):He(it,be,Ae,Fe,pe,Ce,De,We,Ft)},Vn=(Ye,it,be,Ae,Fe,pe,Ce,De,We)=>{let dt=0;const on=it.length;let Ft=Ye.length-1,vn=on-1;for(;dt<=Ft&&dt<=vn;){const Mn=Ye[dt],zn=it[dt]=We?Ry(it[dt]):ob(it[dt]);if(Gw(Mn,zn))te(Mn,zn,be,null,Fe,pe,Ce,De,We);else break;dt++}for(;dt<=Ft&&dt<=vn;){const Mn=Ye[Ft],zn=it[vn]=We?Ry(it[vn]):ob(it[vn]);if(Gw(Mn,zn))te(Mn,zn,be,null,Fe,pe,Ce,De,We);else break;Ft--,vn--}if(dt>Ft){if(dt<=vn){const Mn=vn+1,zn=Mn<on?it[Mn].el:Ae;for(;dt<=vn;)te(null,it[dt]=We?Ry(it[dt]):ob(it[dt]),be,zn,Fe,pe,Ce,De,We),dt++}}else if(dt>vn)for(;dt<=Ft;)Je(Ye[dt],Fe,pe,!0),dt++;else{const Mn=dt,zn=dt,_o=new Map;for(dt=zn;dt<=vn;dt++){const no=it[dt]=We?Ry(it[dt]):ob(it[dt]);no.key!=null&&_o.set(no.key,dt)}let yo,Fr=0;const Yo=vn-zn+1;let Us=!1,ar=0;const Pa=new Array(Yo);for(dt=0;dt<Yo;dt++)Pa[dt]=0;for(dt=Mn;dt<=Ft;dt++){const no=Ye[dt];if(Fr>=Yo){Je(no,Fe,pe,!0);continue}let bo;if(no.key!=null)bo=_o.get(no.key);else for(yo=zn;yo<=vn;yo++)if(Pa[yo-zn]===0&&Gw(no,it[yo])){bo=yo;break}bo===void 0?Je(no,Fe,pe,!0):(Pa[bo-zn]=dt+1,bo>=ar?ar=bo:Us=!0,te(no,it[bo],be,null,Fe,pe,Ce,De,We),Fr++)}const yn=Us?Pce(Pa):Ak;for(yo=yn.length-1,dt=Yo-1;dt>=0;dt--){const no=zn+dt,bo=it[no],Xs=no+1<on?it[no+1].el:Ae;Pa[dt]===0?te(null,bo,be,Xs,Fe,pe,Ce,De,We):Us&&(yo<0||dt!==yn[yo]?Lt(bo,be,Xs,2):yo--)}}},Lt=(Ye,it,be,Ae,Fe=null)=>{const{el:pe,type:Ce,transition:De,children:We,shapeFlag:dt}=Ye;if(dt&6){Lt(Ye.component.subTree,it,be,Ae);return}if(dt&128){Ye.suspense.move(it,be,Ae);return}if(dt&64){Ce.move(Ye,it,be,$o);return}if(Ce===Os){f(pe,it,be);for(let Ft=0;Ft<We.length;Ft++)Lt(We[Ft],it,be,Ae);f(Ye.anchor,it,be);return}if(Ce===X9){fe(Ye,it,be);return}if(Ae!==2&&dt&1&&De)if(Ae===0)De.beforeEnter(pe),f(pe,it,be),md(()=>De.enter(pe),Fe);else{const{leave:Ft,delayLeave:vn,afterLeave:Mn}=De,zn=()=>{Ye.ctx.isUnmounted?g(pe):f(pe,it,be)},_o=()=>{Ft(pe,()=>{zn(),Mn&&Mn()})};vn?vn(pe,zn,_o):_o()}else f(pe,it,be)},Je=(Ye,it,be,Ae=!1,Fe=!1)=>{const{type:pe,props:Ce,ref:De,children:We,dynamicChildren:dt,shapeFlag:on,patchFlag:Ft,dirs:vn,cacheIndex:Mn}=Ye;if(Ft===-2&&(Fe=!1),De!=null&&(w0(),RB(De,null,be,Ye,!0),C0()),Mn!=null&&(it.renderCache[Mn]=void 0),on&256){it.ctx.deactivate(Ye);return}const zn=on&1&&vn,_o=!CO(Ye);let yo;if(_o&&(yo=Ce&&Ce.onVnodeBeforeUnmount)&&Gp(yo,it,Ye),on&6)jn(Ye.component,be,Ae);else{if(on&128){Ye.suspense.unmount(be,Ae);return}zn&&Hw(Ye,null,it,"beforeUnmount"),on&64?Ye.type.remove(Ye,it,be,$o,Ae):dt&&!dt.hasOnce&&(pe!==Os||Ft>0&&Ft&64)?Xn(dt,it,be,!1,!0):(pe===Os&&Ft&384||!Fe&&on&16)&&Xn(We,it,be),Ae&&Tt(Ye)}(_o&&(yo=Ce&&Ce.onVnodeUnmounted)||zn)&&md(()=>{yo&&Gp(yo,it,Ye),zn&&Hw(Ye,null,it,"unmounted")},be)},Tt=Ye=>{const{type:it,el:be,anchor:Ae,transition:Fe}=Ye;if(it===Os){Gn(be,Ae);return}if(it===X9){j(Ye);return}const pe=()=>{g(be),Fe&&!Fe.persisted&&Fe.afterLeave&&Fe.afterLeave()};if(Ye.shapeFlag&1&&Fe&&!Fe.persisted){const{leave:Ce,delayLeave:De}=Fe,We=()=>Ce(be,pe);De?De(Ye.el,pe,We):We()}else pe()},Gn=(Ye,it)=>{let be;for(;Ye!==it;)be=H(Ye),g(Ye),Ye=be;g(it)},jn=(Ye,it,be)=>{const{bum:Ae,scope:Fe,job:pe,subTree:Ce,um:De,m:We,a:dt,parent:on,slots:{__:Ft}}=Ye;zj(We),zj(dt),Ae&&mB(Ae),on&&sr(Ft)&&Ft.forEach(vn=>{on.renderCache[vn]=void 0}),Fe.stop(),pe&&(pe.flags|=8,Je(Ce,Ye,it,be)),De&&md(De,it),md(()=>{Ye.isUnmounted=!0},it),it&&it.pendingBranch&&!it.isUnmounted&&Ye.asyncDep&&!Ye.asyncResolved&&Ye.suspenseId===it.pendingId&&(it.deps--,it.deps===0&&it.resolve())},Xn=(Ye,it,be,Ae=!1,Fe=!1,pe=0)=>{for(let Ce=pe;Ce<Ye.length;Ce++)Je(Ye[Ce],it,be,Ae,Fe)},gn=Ye=>{if(Ye.shapeFlag&6)return gn(Ye.component.subTree);if(Ye.shapeFlag&128)return Ye.suspense.next();const it=H(Ye.anchor||Ye.el),be=it&&it[YG];return be?H(be):it};let Q=!1;const gr=(Ye,it,be)=>{Ye==null?it._vnode&&Je(it._vnode,null,null,!0):te(it._vnode||null,Ye,it,null,null,null,be),it._vnode=Ye,Q||(Q=!0,Dj(),KG(),Q=!1)},$o={p:te,um:Je,m:Lt,r:Tt,mt:St,mc:He,pc:ct,pbc:st,n:gn,o:n};return{render:gr,hydrate:void 0,createApp:_ce(gr)}}function Y9({type:n,props:s},c){return c==="svg"&&n==="foreignObject"||c==="mathml"&&n==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:c}function zw({effect:n,job:s},c){c?(n.flags|=32,s.flags|=4):(n.flags&=-33,s.flags&=-5)}function Ice(n,s){return(!n||n&&!n.pendingBranch)&&s&&!s.persisted}function KV(n,s,c=!1){const f=n.children,g=s.children;if(sr(f)&&sr(g))for(let h=0;h<f.length;h++){const x=f[h];let C=g[h];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=g[h]=Ry(g[h]),C.el=x.el),!c&&C.patchFlag!==-2&&KV(x,C)),C.type===ZO&&(C.el=x.el),C.type===pd&&!C.el&&(C.el=x.el)}}function Pce(n){const s=n.slice(),c=[0];let f,g,h,x,C;const O=n.length;for(f=0;f<O;f++){const R=n[f];if(R!==0){if(g=c[c.length-1],n[g]<R){s[f]=g,c.push(f);continue}for(h=0,x=c.length-1;h<x;)C=h+x>>1,n[c[C]]<R?h=C+1:x=C;R<n[c[h]]&&(h>0&&(s[f]=c[h-1]),c[h]=f)}}for(h=c.length,x=c[h-1];h-- >0;)c[h]=x,x=s[x];return c}function xY(n){const s=n.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:xY(s)}function zj(n){if(n)for(let s=0;s<n.length;s++)n[s].flags|=8}const Lce=Symbol.for("v-scx"),Bce=()=>Si(Lce);function Mh(n,s){return qV(n,null,s)}function qn(n,s,c){return qV(n,s,c)}function qV(n,s,c=Na){const{immediate:f,deep:g,flush:h,once:x}=c,C=Kl({},c),O=s&&f||!s&&h!=="post";let R;if(RO){if(h==="sync"){const V=Bce();R=V.__watcherHandles||(V.__watcherHandles=[])}else if(!O){const V=()=>{};return V.stop=ib,V.resume=ib,V.pause=ib,V}}const D=mc;C.call=(V,Z,te)=>Bh(V,D,Z,te);let N=!1;h==="post"?C.scheduler=V=>{md(V,D&&D.suspense)}:h!=="sync"&&(N=!0,C.scheduler=(V,Z)=>{Z?V():HV(V)}),C.augmentJob=V=>{s&&(V.flags|=4),N&&(V.flags|=2,D&&(V.id=D.uid,V.i=D))};const H=Jle(n,s,C);return RO&&(R?R.push(H):O&&H()),H}function Mce(n,s,c){const f=this.proxy,g=Vi(n)?n.includes(".")?wY(f,n):()=>f[n]:n.bind(f,f);let h;yr(s)?h=s:(h=s.handler,c=s);const x=jO(this),C=qV(g,h.bind(f),c);return x(),C}function wY(n,s){const c=s.split(".");return()=>{let f=n;for(let g=0;g<c.length&&f;g++)f=f[c[g]];return f}}const Fce=(n,s)=>s==="modelValue"||s==="model-value"?n.modelModifiers:n[`${s}Modifiers`]||n[`${sf(s)}Modifiers`]||n[`${sC(s)}Modifiers`];function $ce(n,s,...c){if(n.isUnmounted)return;const f=n.vnode.props||Na;let g=c;const h=s.startsWith("update:"),x=h&&Fce(f,s.slice(7));x&&(x.trim&&(g=c.map(D=>Vi(D)?D.trim():D)),x.number&&(g=c.map(Bz)));let C,O=f[C=U9(s)]||f[C=U9(sf(s))];!O&&h&&(O=f[C=U9(sC(s))]),O&&Bh(O,n,6,g);const R=f[C+"Once"];if(R){if(!n.emitted)n.emitted={};else if(n.emitted[C])return;n.emitted[C]=!0,Bh(R,n,6,g)}}function CY(n,s,c=!1){const f=s.emitsCache,g=f.get(n);if(g!==void 0)return g;const h=n.emits;let x={},C=!1;if(!yr(n)){const O=R=>{const D=CY(R,s,!0);D&&(C=!0,Kl(x,D))};!c&&s.mixins.length&&s.mixins.forEach(O),n.extends&&O(n.extends),n.mixins&&n.mixins.forEach(O)}return!h&&!C?(Ka(n)&&f.set(n,null),null):(sr(h)?h.forEach(O=>x[O]=null):Kl(x,h),Ka(n)&&f.set(n,x),x)}function lM(n,s){return!n||!QB(s)?!1:(s=s.slice(2).replace(/Once$/,""),oa(n,s[0].toLowerCase()+s.slice(1))||oa(n,sC(s))||oa(n,s))}function Vj(n){const{type:s,vnode:c,proxy:f,withProxy:g,propsOptions:[h],slots:x,attrs:C,emit:O,render:R,renderCache:D,props:N,data:H,setupState:V,ctx:Z,inheritAttrs:te}=n,ce=DB(n);let X,Se;try{if(c.shapeFlag&4){const j=g||f,de=j;X=ob(R.call(de,j,D,N,V,H,Z)),Se=C}else{const j=s;X=ob(j.length>1?j(N,{attrs:C,slots:x,emit:O}):j(N,null)),Se=s.props?C:Hce(C)}}catch(j){SO.length=0,sM(j,n,1),X=Ie(pd)}let fe=X;if(Se&&te!==!1){const j=Object.keys(Se),{shapeFlag:de}=fe;j.length&&de&7&&(h&&j.some(OV)&&(Se=zce(Se,h)),fe=Hy(fe,Se,!1,!0))}return c.dirs&&(fe=Hy(fe,null,!1,!0),fe.dirs=fe.dirs?fe.dirs.concat(c.dirs):c.dirs),c.transition&&oC(fe,c.transition),X=fe,DB(ce),X}const Hce=n=>{let s;for(const c in n)(c==="class"||c==="style"||QB(c))&&((s||(s={}))[c]=n[c]);return s},zce=(n,s)=>{const c={};for(const f in n)(!OV(f)||!(f.slice(9)in s))&&(c[f]=n[f]);return c};function Vce(n,s,c){const{props:f,children:g,component:h}=n,{props:x,children:C,patchFlag:O}=s,R=h.emitsOptions;if(s.dirs||s.transition)return!0;if(c&&O>=0){if(O&1024)return!0;if(O&16)return f?Uj(f,x,R):!!x;if(O&8){const D=s.dynamicProps;for(let N=0;N<D.length;N++){const H=D[N];if(x[H]!==f[H]&&!lM(R,H))return!0}}}else return(g||C)&&(!C||!C.$stable)?!0:f===x?!1:f?x?Uj(f,x,R):!0:!!x;return!1}function Uj(n,s,c){const f=Object.keys(s);if(f.length!==Object.keys(n).length)return!0;for(let g=0;g<f.length;g++){const h=f[g];if(s[h]!==n[h]&&!lM(c,h))return!0}return!1}function Uce({vnode:n,parent:s},c){for(;s;){const f=s.subTree;if(f.suspense&&f.suspense.activeBranch===n&&(f.el=n.el),f===n)(n=s.vnode).el=c,s=s.parent;else break}}const _Y=n=>n.__isSuspense;function Wce(n,s){s&&s.pendingBranch?sr(n)?s.effects.push(...n):s.effects.push(n):tce(n)}const Os=Symbol.for("v-fgt"),ZO=Symbol.for("v-txt"),pd=Symbol.for("v-cmt"),X9=Symbol.for("v-stc"),SO=[];let sm=null;function rr(n=!1){SO.push(sm=n?null:[])}function Zce(){SO.pop(),sm=SO[SO.length-1]||null}let DO=1;function Wj(n,s=!1){DO+=n,n<0&&sm&&s&&(sm.hasOnce=!0)}function SY(n){return n.dynamicChildren=DO>0?sm||Ak:null,Zce(),DO>0&&sm&&sm.push(n),n}function Rl(n,s,c,f,g,h){return SY(Pe(n,s,c,f,g,h,!0))}function ra(n,s,c,f,g){return SY(Ie(n,s,c,f,g,!0))}function IB(n){return n?n.__v_isVNode===!0:!1}function Gw(n,s){return n.type===s.type&&n.key===s.key}const kY=({key:n})=>n??null,hB=({ref:n,ref_key:s,ref_for:c})=>(typeof n=="number"&&(n=""+n),n!=null?Vi(n)||ja(n)||yr(n)?{i:yd,r:n,k:s,f:!!c}:n:null);function Pe(n,s=null,c=null,f=0,g=null,h=n===Os?0:1,x=!1,C=!1){const O={__v_isVNode:!0,__v_skip:!0,type:n,props:s,key:s&&kY(s),ref:s&&hB(s),scopeId:GG,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:f,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:yd};return C?(GV(O,c),h&128&&n.normalize(O)):c&&(O.shapeFlag|=Vi(c)?8:16),DO>0&&!x&&sm&&(O.patchFlag>0||h&6)&&O.patchFlag!==32&&sm.push(O),O}const Ie=jce;function jce(n,s=null,c=null,f=0,g=null,h=!1){if((!n||n===mce)&&(n=pd),IB(n)){const C=Hy(n,s,!0);return c&&GV(C,c),DO>0&&!h&&sm&&(C.shapeFlag&6?sm[sm.indexOf(n)]=C:sm.push(C)),C.patchFlag=-2,C}if(nue(n)&&(n=n.__vccOpts),s){s=Kce(s);let{class:C,style:O}=s;C&&!Vi(C)&&(s.class=Go(C)),Ka(O)&&(FV(O)&&!sr(O)&&(O=Kl({},O)),s.style=kr(O))}const x=Vi(n)?1:_Y(n)?128:XG(n)?64:Ka(n)?4:yr(n)?2:0;return Pe(n,s,c,f,g,x,h,!0)}function Kce(n){return n?FV(n)||gY(n)?Kl({},n):n:null}function Hy(n,s,c=!1,f=!1){const{props:g,ref:h,patchFlag:x,children:C,transition:O}=n,R=s?Vs(g||{},s):g,D={__v_isVNode:!0,__v_skip:!0,type:n.type,props:R,key:R&&kY(R),ref:s&&s.ref?c&&h?sr(h)?h.concat(hB(s)):[h,hB(s)]:hB(s):h,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:C,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:s&&n.type!==Os?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:O,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Hy(n.ssContent),ssFallback:n.ssFallback&&Hy(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return O&&f&&oC(D,O.clone(D)),D}function zs(n=" ",s=0){return Ie(ZO,null,n,s)}function Zl(n="",s=!1){return s?(rr(),ra(pd,null,n)):Ie(pd,null,n)}function ob(n){return n==null||typeof n=="boolean"?Ie(pd):sr(n)?Ie(Os,null,n.slice()):IB(n)?Ry(n):Ie(ZO,null,String(n))}function Ry(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Hy(n)}function GV(n,s){let c=0;const{shapeFlag:f}=n;if(s==null)s=null;else if(sr(s))c=16;else if(typeof s=="object")if(f&65){const g=s.default;g&&(g._c&&(g._d=!1),GV(n,g()),g._c&&(g._d=!0));return}else{c=32;const g=s._;!g&&!gY(s)?s._ctx=yd:g===3&&yd&&(yd.slots._===1?s._=1:(s._=2,n.patchFlag|=1024))}else yr(s)?(s={default:s,_ctx:yd},c=32):(s=String(s),f&64?(c=16,s=[zs(s)]):c=8);n.children=s,n.shapeFlag|=c}function Vs(...n){const s={};for(let c=0;c<n.length;c++){const f=n[c];for(const g in f)if(g==="class")s.class!==f.class&&(s.class=Go([s.class,f.class]));else if(g==="style")s.style=kr([s.style,f.style]);else if(QB(g)){const h=s[g],x=f[g];x&&h!==x&&!(sr(h)&&h.includes(x))&&(s[g]=h?[].concat(h,x):x)}else g!==""&&(s[g]=f[g])}return s}function Gp(n,s,c,f=null){Bh(n,s,7,[c,f])}const qce=dY();let Gce=0;function Yce(n,s,c){const f=n.type,g=(s?s.appContext:n.appContext)||qce,h={uid:Gce++,vnode:n,type:f,parent:s,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EG(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(g.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pY(f,g),emitsOptions:CY(f,g),emit:null,emitted:null,propsDefaults:Na,inheritAttrs:f.inheritAttrs,ctx:Na,data:Na,props:Na,attrs:Na,slots:Na,refs:Na,setupState:Na,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=s?s.root:h,h.emit=$ce.bind(null,h),n.ce&&n.ce(h),h}let mc=null;const Bk=()=>mc||yd;let PB,Zz;{const n=nM(),s=(c,f)=>{let g;return(g=n[c])||(g=n[c]=[]),g.push(f),h=>{g.length>1?g.forEach(x=>x(h)):g[0](h)}};PB=s("__VUE_INSTANCE_SETTERS__",c=>mc=c),Zz=s("__VUE_SSR_SETTERS__",c=>RO=c)}const jO=n=>{const s=mc;return PB(n),n.scope.on(),()=>{n.scope.off(),PB(s)}},Zj=()=>{mc&&mc.scope.off(),PB(null)};function EY(n){return n.vnode.shapeFlag&4}let RO=!1;function Xce(n,s=!1,c=!1){s&&Zz(s);const{props:f,children:g}=n.vnode,h=EY(n);kce(n,f,h,s),Oce(n,g,c||s);const x=h?Jce(n,s):void 0;return s&&Zz(!1),x}function Jce(n,s){const c=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,pce);const{setup:f}=c;if(f){w0();const g=n.setupContext=f.length>1?eue(n):null,h=jO(n),x=VO(f,n,0,[n.props,g]),C=yG(x);if(C0(),h(),(C||n.sp)&&!CO(n)&&aY(n),C){if(x.then(Zj,Zj),s)return x.then(O=>{jj(n,O)}).catch(O=>{sM(O,n,0)});n.asyncDep=x}else jj(n,x)}else AY(n)}function jj(n,s,c){yr(s)?n.type.__ssrInlineRender?n.ssrRender=s:n.render=s:Ka(s)&&(n.setupState=UG(s)),AY(n)}function AY(n,s,c){const f=n.type;n.render||(n.render=f.render||ib);{const g=jO(n);w0();try{bce(n)}finally{C0(),g()}}}const Qce={get(n,s){return ku(n,"get",""),n[s]}};function eue(n){const s=c=>{n.exposed=c||{}};return{attrs:new Proxy(n.attrs,Qce),slots:n.slots,emit:n.emit,expose:s}}function cM(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(UG($V(n.exposed)),{get(s,c){if(c in s)return s[c];if(c in _O)return _O[c](n)},has(s,c){return c in s||c in _O}})):n.proxy}function tue(n,s=!0){return yr(n)?n.displayName||n.name:n.name||s&&n.__name}function nue(n){return yr(n)&&"__vccOpts"in n}const Wt=(n,s)=>Yle(n,s,RO);function fb(n,s,c){const f=arguments.length;return f===2?Ka(s)&&!sr(s)?IB(s)?Ie(n,null,[s]):Ie(n,s):Ie(n,null,s):(f>3?c=Array.prototype.slice.call(arguments,2):f===3&&IB(c)&&(c=[c]),Ie(n,s,c))}const oue="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jz;const Kj=typeof window<"u"&&window.trustedTypes;if(Kj)try{jz=Kj.createPolicy("vue",{createHTML:n=>n})}catch{}const TY=jz?n=>jz.createHTML(n):n=>n,rue="http://www.w3.org/2000/svg",sue="http://www.w3.org/1998/Math/MathML",g0=typeof document<"u"?document:null,qj=g0&&g0.createElement("template"),aue={insert:(n,s,c)=>{s.insertBefore(n,c||null)},remove:n=>{const s=n.parentNode;s&&s.removeChild(n)},createElement:(n,s,c,f)=>{const g=s==="svg"?g0.createElementNS(rue,n):s==="mathml"?g0.createElementNS(sue,n):c?g0.createElement(n,{is:c}):g0.createElement(n);return n==="select"&&f&&f.multiple!=null&&g.setAttribute("multiple",f.multiple),g},createText:n=>g0.createTextNode(n),createComment:n=>g0.createComment(n),setText:(n,s)=>{n.nodeValue=s},setElementText:(n,s)=>{n.textContent=s},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>g0.querySelector(n),setScopeId(n,s){n.setAttribute(s,"")},insertStaticContent(n,s,c,f,g,h){const x=c?c.previousSibling:s.lastChild;if(g&&(g===h||g.nextSibling))for(;s.insertBefore(g.cloneNode(!0),c),!(g===h||!(g=g.nextSibling)););else{qj.innerHTML=TY(f==="svg"?`<svg>${n}</svg>`:f==="mathml"?`<math>${n}</math>`:n);const C=qj.content;if(f==="svg"||f==="mathml"){const O=C.firstChild;for(;O.firstChild;)C.appendChild(O.firstChild);C.removeChild(O)}s.insertBefore(C,c)}return[x?x.nextSibling:s.firstChild,c?c.previousSibling:s.lastChild]}},_y="transition",dO="animation",Rk=Symbol("_vtc"),OY={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},DY=Kl({},tY,OY),iue=n=>(n.displayName="Transition",n.props=DY,n),zy=iue((n,{slots:s})=>fb(sce,RY(n),s)),Vw=(n,s=[])=>{sr(n)?n.forEach(c=>c(...s)):n&&n(...s)},Gj=n=>n?sr(n)?n.some(s=>s.length>1):n.length>1:!1;function RY(n){const s={};for(const Be in n)Be in OY||(s[Be]=n[Be]);if(n.css===!1)return s;const{name:c="v",type:f,duration:g,enterFromClass:h=`${c}-enter-from`,enterActiveClass:x=`${c}-enter-active`,enterToClass:C=`${c}-enter-to`,appearFromClass:O=h,appearActiveClass:R=x,appearToClass:D=C,leaveFromClass:N=`${c}-leave-from`,leaveActiveClass:H=`${c}-leave-active`,leaveToClass:V=`${c}-leave-to`}=n,Z=lue(g),te=Z&&Z[0],ce=Z&&Z[1],{onBeforeEnter:X,onEnter:Se,onEnterCancelled:fe,onLeave:j,onLeaveCancelled:de,onBeforeAppear:oe=X,onAppear:Ue=Se,onAppearCancelled:He=fe}=s,je=(Be,P,St,Mt)=>{Be._enterCancelled=Mt,Ay(Be,P?D:C),Ay(Be,P?R:x),St&&St()},st=(Be,P)=>{Be._isLeaving=!1,Ay(Be,N),Ay(Be,V),Ay(Be,H),P&&P()},Oe=Be=>(P,St)=>{const Mt=Be?Ue:Se,tn=()=>je(P,Be,St);Vw(Mt,[P,tn]),Yj(()=>{Ay(P,Be?O:h),eb(P,Be?D:C),Gj(Mt)||Xj(P,f,te,tn)})};return Kl(s,{onBeforeEnter(Be){Vw(X,[Be]),eb(Be,h),eb(Be,x)},onBeforeAppear(Be){Vw(oe,[Be]),eb(Be,O),eb(Be,R)},onEnter:Oe(!1),onAppear:Oe(!0),onLeave(Be,P){Be._isLeaving=!0;const St=()=>st(Be,P);eb(Be,N),Be._enterCancelled?(eb(Be,H),Kz()):(Kz(),eb(Be,H)),Yj(()=>{Be._isLeaving&&(Ay(Be,N),eb(Be,V),Gj(j)||Xj(Be,f,ce,St))}),Vw(j,[Be,St])},onEnterCancelled(Be){je(Be,!1,void 0,!0),Vw(fe,[Be])},onAppearCancelled(Be){je(Be,!0,void 0,!0),Vw(He,[Be])},onLeaveCancelled(Be){st(Be),Vw(de,[Be])}})}function lue(n){if(n==null)return null;if(Ka(n))return[J9(n.enter),J9(n.leave)];{const s=J9(n);return[s,s]}}function J9(n){return vle(n)}function eb(n,s){s.split(/\s+/).forEach(c=>c&&n.classList.add(c)),(n[Rk]||(n[Rk]=new Set)).add(s)}function Ay(n,s){s.split(/\s+/).forEach(f=>f&&n.classList.remove(f));const c=n[Rk];c&&(c.delete(s),c.size||(n[Rk]=void 0))}function Yj(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let cue=0;function Xj(n,s,c,f){const g=n._endId=++cue,h=()=>{g===n._endId&&f()};if(c!=null)return setTimeout(h,c);const{type:x,timeout:C,propCount:O}=NY(n,s);if(!x)return f();const R=x+"end";let D=0;const N=()=>{n.removeEventListener(R,H),h()},H=V=>{V.target===n&&++D>=O&&N()};setTimeout(()=>{D<O&&N()},C+1),n.addEventListener(R,H)}function NY(n,s){const c=window.getComputedStyle(n),f=Z=>(c[Z]||"").split(", "),g=f(`${_y}Delay`),h=f(`${_y}Duration`),x=Jj(g,h),C=f(`${dO}Delay`),O=f(`${dO}Duration`),R=Jj(C,O);let D=null,N=0,H=0;s===_y?x>0&&(D=_y,N=x,H=h.length):s===dO?R>0&&(D=dO,N=R,H=O.length):(N=Math.max(x,R),D=N>0?x>R?_y:dO:null,H=D?D===_y?h.length:O.length:0);const V=D===_y&&/\b(transform|all)(,|$)/.test(f(`${_y}Property`).toString());return{type:D,timeout:N,propCount:H,hasTransform:V}}function Jj(n,s){for(;n.length<s.length;)n=n.concat(n);return Math.max(...s.map((c,f)=>Qj(c)+Qj(n[f])))}function Qj(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Kz(){return document.body.offsetHeight}function uue(n,s,c){const f=n[Rk];f&&(s=(s?[s,...f]:[...f]).join(" ")),s==null?n.removeAttribute("class"):c?n.setAttribute("class",s):n.className=s}const LB=Symbol("_vod"),IY=Symbol("_vsh"),Sr={beforeMount(n,{value:s},{transition:c}){n[LB]=n.style.display==="none"?"":n.style.display,c&&s?c.beforeEnter(n):fO(n,s)},mounted(n,{value:s},{transition:c}){c&&s&&c.enter(n)},updated(n,{value:s,oldValue:c},{transition:f}){!s!=!c&&(f?s?(f.beforeEnter(n),fO(n,!0),f.enter(n)):f.leave(n,()=>{fO(n,!1)}):fO(n,s))},beforeUnmount(n,{value:s}){fO(n,s)}};function fO(n,s){n.style.display=s?n[LB]:"none",n[IY]=!s}const due=Symbol(""),fue=/(^|;)\s*display\s*:/;function mue(n,s,c){const f=n.style,g=Vi(c);let h=!1;if(c&&!g){if(s)if(Vi(s))for(const x of s.split(";")){const C=x.slice(0,x.indexOf(":")).trim();c[C]==null&&pB(f,C,"")}else for(const x in s)c[x]==null&&pB(f,x,"");for(const x in c)x==="display"&&(h=!0),pB(f,x,c[x])}else if(g){if(s!==c){const x=f[due];x&&(c+=";"+x),f.cssText=c,h=fue.test(c)}}else s&&n.removeAttribute("style");LB in n&&(n[LB]=h?f.display:"",n[IY]&&(f.display="none"))}const eK=/\s*!important$/;function pB(n,s,c){if(sr(c))c.forEach(f=>pB(n,s,f));else if(c==null&&(c=""),s.startsWith("--"))n.setProperty(s,c);else{const f=gue(n,s);eK.test(c)?n.setProperty(sC(f),c.replace(eK,""),"important"):n[f]=c}}const tK=["Webkit","Moz","ms"],Q9={};function gue(n,s){const c=Q9[s];if(c)return c;let f=sf(s);if(f!=="filter"&&f in n)return Q9[s]=f;f=E0(f);for(let g=0;g<tK.length;g++){const h=tK[g]+f;if(h in n)return Q9[s]=h}return s}const nK="http://www.w3.org/1999/xlink";function oK(n,s,c,f,g,h=Sle(s)){f&&s.startsWith("xlink:")?c==null?n.removeAttributeNS(nK,s.slice(6,s.length)):n.setAttributeNS(nK,s,c):c==null||h&&!_G(c)?n.removeAttribute(s):n.setAttribute(s,h?"":Vy(c)?String(c):c)}function rK(n,s,c,f,g){if(s==="innerHTML"||s==="textContent"){c!=null&&(n[s]=s==="innerHTML"?TY(c):c);return}const h=n.tagName;if(s==="value"&&h!=="PROGRESS"&&!h.includes("-")){const C=h==="OPTION"?n.getAttribute("value")||"":n.value,O=c==null?n.type==="checkbox"?"on":"":String(c);(C!==O||!("_value"in n))&&(n.value=O),c==null&&n.removeAttribute(s),n._value=c;return}let x=!1;if(c===""||c==null){const C=typeof n[s];C==="boolean"?c=_G(c):c==null&&C==="string"?(c="",x=!0):C==="number"&&(c=0,x=!0)}try{n[s]=c}catch{}x&&n.removeAttribute(g||s)}function wk(n,s,c,f){n.addEventListener(s,c,f)}function hue(n,s,c,f){n.removeEventListener(s,c,f)}const sK=Symbol("_vei");function pue(n,s,c,f,g=null){const h=n[sK]||(n[sK]={}),x=h[s];if(f&&x)x.value=f;else{const[C,O]=bue(s);if(f){const R=h[s]=xue(f,g);wk(n,C,R,O)}else x&&(hue(n,C,x,O),h[s]=void 0)}}const aK=/(?:Once|Passive|Capture)$/;function bue(n){let s;if(aK.test(n)){s={};let f;for(;f=n.match(aK);)n=n.slice(0,n.length-f[0].length),s[f[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):sC(n.slice(2)),s]}let ez=0;const vue=Promise.resolve(),yue=()=>ez||(vue.then(()=>ez=0),ez=Date.now());function xue(n,s){const c=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=c.attached)return;Bh(wue(f,c.value),s,5,[f])};return c.value=n,c.attached=yue(),c}function wue(n,s){if(sr(s)){const c=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{c.call(n),n._stopped=!0},s.map(f=>g=>!g._stopped&&f&&f(g))}else return s}const iK=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Cue=(n,s,c,f,g,h)=>{const x=g==="svg";s==="class"?uue(n,f,x):s==="style"?mue(n,c,f):QB(s)?OV(s)||pue(n,s,c,f,h):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):_ue(n,s,f,x))?(rK(n,s,f),!n.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&oK(n,s,f,x,h,s!=="value")):n._isVueCE&&(/[A-Z]/.test(s)||!Vi(f))?rK(n,sf(s),f,h,s):(s==="true-value"?n._trueValue=f:s==="false-value"&&(n._falseValue=f),oK(n,s,f,x))};function _ue(n,s,c,f){if(f)return!!(s==="innerHTML"||s==="textContent"||s in n&&iK(s)&&yr(c));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="autocorrect"||s==="form"||s==="list"&&n.tagName==="INPUT"||s==="type"&&n.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const g=n.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return iK(s)&&Vi(c)?!1:s in n}const PY=new WeakMap,LY=new WeakMap,BB=Symbol("_moveCb"),lK=Symbol("_enterCb"),Sue=n=>(delete n.props.mode,n),kue=Sue({name:"TransitionGroup",props:Kl({},DY,{tag:String,moveClass:String}),setup(n,{slots:s}){const c=Bk(),f=eY();let g,h;return WV(()=>{if(!g.length)return;const x=n.moveClass||`${n.name||"v"}-move`;if(!Oue(g[0].el,c.vnode.el,x)){g=[];return}g.forEach(Eue),g.forEach(Aue);const C=g.filter(Tue);Kz(),C.forEach(O=>{const R=O.el,D=R.style;eb(R,x),D.transform=D.webkitTransform=D.transitionDuration="";const N=R[BB]=H=>{H&&H.target!==R||(!H||/transform$/.test(H.propertyName))&&(R.removeEventListener("transitionend",N),R[BB]=null,Ay(R,x))};R.addEventListener("transitionend",N)}),g=[]}),()=>{const x=jo(n),C=RY(x);let O=x.tag||Os;if(g=[],h)for(let R=0;R<h.length;R++){const D=h[R];D.el&&D.el instanceof Element&&(g.push(D),oC(D,OO(D,C,f,c)),PY.set(D,D.el.getBoundingClientRect()))}h=s.default?zV(s.default()):[];for(let R=0;R<h.length;R++){const D=h[R];D.key!=null&&oC(D,OO(D,C,f,c))}return Ie(O,null,h)}}}),YV=kue;function Eue(n){const s=n.el;s[BB]&&s[BB](),s[lK]&&s[lK]()}function Aue(n){LY.set(n,n.el.getBoundingClientRect())}function Tue(n){const s=PY.get(n),c=LY.get(n),f=s.left-c.left,g=s.top-c.top;if(f||g){const h=n.el.style;return h.transform=h.webkitTransform=`translate(${f}px,${g}px)`,h.transitionDuration="0s",n}}function Oue(n,s,c){const f=n.cloneNode(),g=n[Rk];g&&g.forEach(C=>{C.split(/\s+/).forEach(O=>O&&f.classList.remove(O))}),c.split(/\s+/).forEach(C=>C&&f.classList.add(C)),f.style.display="none";const h=s.nodeType===1?s:s.parentNode;h.appendChild(f);const{hasTransform:x}=NY(f);return h.removeChild(f),x}const cK=n=>{const s=n.props["onUpdate:modelValue"]||!1;return sr(s)?c=>mB(s,c):s};function Due(n){n.target.composing=!0}function uK(n){const s=n.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const tz=Symbol("_assign"),Rue={created(n,{modifiers:{lazy:s,trim:c,number:f}},g){n[tz]=cK(g);const h=f||g.props&&g.props.type==="number";wk(n,s?"change":"input",x=>{if(x.target.composing)return;let C=n.value;c&&(C=C.trim()),h&&(C=Bz(C)),n[tz](C)}),c&&wk(n,"change",()=>{n.value=n.value.trim()}),s||(wk(n,"compositionstart",Due),wk(n,"compositionend",uK),wk(n,"change",uK))},mounted(n,{value:s}){n.value=s??""},beforeUpdate(n,{value:s,oldValue:c,modifiers:{lazy:f,trim:g,number:h}},x){if(n[tz]=cK(x),n.composing)return;const C=(h||n.type==="number")&&!/^0\d/.test(n.value)?Bz(n.value):n.value,O=s??"";C!==O&&(document.activeElement===n&&n.type!=="range"&&(f&&s===c||g&&n.value.trim()===O)||(n.value=O))}},Nue=Kl({patchProp:Cue},aue);let dK;function Iue(){return dK||(dK=Rce(Nue))}const Pue=(...n)=>{const s=Iue().createApp(...n),{mount:c}=s;return s.mount=f=>{const g=Bue(f);if(!g)return;const h=s._component;!yr(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=c(g,!1,Lue(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},s};function Lue(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Bue(n){return Vi(n)?document.querySelector(n):n}function Lh(n,s){let c;function f(){c=Fy(),c.run(()=>s.length?s(()=>{c==null||c.stop(),f()}):s())}qn(n,g=>{g&&!c?f():g||(c==null||c.stop(),c=void 0)},{immediate:!0}),af(()=>{c==null||c.stop()})}const ki=typeof window<"u",XV=ki&&"IntersectionObserver"in window,Mue=ki&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function fK(n,s,c){Fue(n,s),s.set(n,c)}function Fue(n,s){if(s.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mK(n,s,c){return n.set(BY(n,s),c),c}function d0(n,s){return n.get(BY(n,s))}function BY(n,s,c){if(typeof n=="function"?n===s:n.has(s))return arguments.length<3?s:c;throw new TypeError("Private element is not present on this object")}function MY(n,s,c){const f=s.length-1;if(f<0)return n===void 0?c:n;for(let g=0;g<f;g++){if(n==null)return c;n=n[s[g]]}return n==null||n[s[f]]===void 0?c:n[s[f]]}function uM(n,s){if(n===s)return!0;if(n instanceof Date&&s instanceof Date&&n.getTime()!==s.getTime()||n!==Object(n)||s!==Object(s))return!1;const c=Object.keys(n);return c.length!==Object.keys(s).length?!1:c.every(f=>uM(n[f],s[f]))}function qz(n,s,c){return n==null||!s||typeof s!="string"?c:n[s]!==void 0?n[s]:(s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,""),MY(n,s.split("."),c))}function mO(n,s,c){if(s===!0)return n===void 0?c:n;if(s==null||typeof s=="boolean")return c;if(n!==Object(n)){if(typeof s!="function")return c;const g=s(n,c);return typeof g>"u"?c:g}if(typeof s=="string")return qz(n,s,c);if(Array.isArray(s))return MY(n,s,c);if(typeof s!="function")return c;const f=s(n,c);return typeof f>"u"?c:f}function FY(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(c,f)=>s+f)}function vr(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(n==null||n==="")return;const c=Number(n);return isNaN(c)?String(n):isFinite(c)?`${c}${s}`:void 0}function Gz(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function gK(n){let s;return n!==null&&typeof n=="object"&&((s=Object.getPrototypeOf(n))===Object.prototype||s===null)}function $ue(n){if(n&&"$el"in n){const s=n.$el;return(s==null?void 0:s.nodeType)===Node.TEXT_NODE?s.nextElementSibling:s}return n}const hK=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function nz(n,s){return s.every(c=>n.hasOwnProperty(c))}function $Y(n,s){const c={};for(const f of s)Object.prototype.hasOwnProperty.call(n,f)&&(c[f]=n[f]);return c}function pK(n,s,c){const f=Object.create(null),g=Object.create(null);for(const h in n)s.some(x=>x instanceof RegExp?x.test(h):x===h)?f[h]=n[h]:g[h]=n[h];return[f,g]}function HY(n,s){const c={...n};return s.forEach(f=>delete c[f]),c}const zY=/^on[^a-z]/,VY=n=>zY.test(n),Hue=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function zue(n){const[s,c]=pK(n,[zY]),f=HY(s,Hue),[g,h]=pK(c,["class","style","id",/^data-/]);return Object.assign(g,s),Object.assign(h,f),[g,h]}function Qw(n){return n==null?[]:Array.isArray(n)?n:[n]}function S0(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(s,Math.min(c,n))}function bK(n,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+c.repeat(Math.max(0,s-n.length))}function vK(n,s){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,s-n.length))+n}function Vue(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const c=[];let f=0;for(;f<n.length;)c.push(n.substr(f,s)),f+=s;return c}function am(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;const f={};for(const g in n)f[g]=n[g];for(const g in s){const h=n[g],x=s[g];if(gK(h)&&gK(x)){f[g]=am(h,x,c);continue}if(c&&Array.isArray(h)&&Array.isArray(x)){f[g]=c(h,x);continue}f[g]=x}return f}function UY(n){return n.map(s=>s.type===Os?UY(s.children):s).flat()}function eC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(eC.cache.has(n))return eC.cache.get(n);const s=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return eC.cache.set(n,s),s}eC.cache=new Map;function _k(n,s){if(!s||typeof s!="object")return[];if(Array.isArray(s))return s.map(c=>_k(n,c)).flat(1);if(s.suspense)return _k(n,s.ssContent);if(Array.isArray(s.children))return s.children.map(c=>_k(n,c)).flat(1);if(s.component){if(Object.getOwnPropertySymbols(s.component.provides).includes(n))return[s.component];if(s.component.subTree)return _k(n,s.component.subTree).flat(1)}return[]}var mk=new WeakMap,Uw=new WeakMap;class WY{constructor(s){fK(this,mk,[]),fK(this,Uw,0),this.size=s}get isFull(){return d0(mk,this).length===this.size}push(s){d0(mk,this)[d0(Uw,this)]=s,mK(Uw,this,(d0(Uw,this)+1)%this.size)}values(){return d0(mk,this).slice(d0(Uw,this)).concat(d0(mk,this).slice(0,d0(Uw,this)))}clear(){d0(mk,this).length=0,mK(Uw,this,0)}}function JV(n){const s=fc({});Mh(()=>{const f=n();for(const g in f)s[g]=f[g]},{flush:"sync"});const c={};for(const f in s)c[f]=Zn(()=>s[f]);return c}function MB(n,s){return n.includes(s)}function ZY(n){return n[2].toLowerCase()+n.slice(3)}const Cg=()=>[Function,Array];function yK(n,s){return s="on"+E0(s),!!(n[s]||n[`${s}Once`]||n[`${s}Capture`]||n[`${s}OnceCapture`]||n[`${s}CaptureOnce`])}function jY(n){for(var s=arguments.length,c=new Array(s>1?s-1:0),f=1;f<s;f++)c[f-1]=arguments[f];if(Array.isArray(n))for(const g of n)g(...c);else typeof n=="function"&&n(...c)}function KY(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const c=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(f=>`${f}${s?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(c)]}function Uue(n,s,c){let f,g=n.indexOf(document.activeElement);const h=s==="next"?1:-1;do g+=h,f=n[g];while((!f||f.offsetParent==null)&&g<n.length&&g>=0);return f}function qY(n,s){var f,g,h,x;const c=KY(n);if(s==null)(n===document.activeElement||!n.contains(document.activeElement))&&((f=c[0])==null||f.focus());else if(s==="first")(g=c[0])==null||g.focus();else if(s==="last")(h=c.at(-1))==null||h.focus();else if(typeof s=="number")(x=c[s])==null||x.focus();else{const C=Uue(c,s);C?C.focus():qY(n,s==="next"?"first":"last")}}function Wue(n,s){if(!(ki&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${s})`)))return null;try{return!!n&&n.matches(s)}catch{return null}}function Zue(n,s){if(!ki||n===0)return s(),()=>{};const c=window.setTimeout(s,n);return()=>window.clearTimeout(c)}function Yz(){const n=xr(),s=c=>{n.value=c};return Object.defineProperty(s,"value",{enumerable:!0,get:()=>n.value,set:c=>n.value=c}),Object.defineProperty(s,"el",{enumerable:!0,get:()=>$ue(n.value)}),s}function jue(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="bigint"}const GY=["top","bottom"],Kue=["start","end","left","right"];function Xz(n,s){let[c,f]=n.split(" ");return f||(f=MB(GY,c)?"start":MB(Kue,c)?"top":"center"),{side:Jz(c,s),align:Jz(f,s)}}function Jz(n,s){return n==="start"?s?"right":"left":n==="end"?s?"left":"right":n}function oz(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function rz(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function xK(n){return{side:n.align,align:n.side}}function wK(n){return MB(GY,n.side)?"y":"x"}class lb{constructor(s){let{x:c,y:f,width:g,height:h}=s;this.x=c,this.y=f,this.width=g,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function CK(n,s){return{x:{before:Math.max(0,s.left-n.left),after:Math.max(0,n.right-s.right)},y:{before:Math.max(0,s.top-n.top),after:Math.max(0,n.bottom-s.bottom)}}}function YY(n){return Array.isArray(n)?new lb({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function que(n){if(n===document.documentElement)return visualViewport?new lb({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new lb({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const s=n.getBoundingClientRect();return new lb({x:s.x,y:s.y,width:n.clientWidth,height:n.clientHeight})}}function QV(n){const s=n.getBoundingClientRect(),c=getComputedStyle(n),f=c.transform;if(f){let g,h,x,C,O;if(f.startsWith("matrix3d("))g=f.slice(9,-1).split(/, /),h=Number(g[0]),x=Number(g[5]),C=Number(g[12]),O=Number(g[13]);else if(f.startsWith("matrix("))g=f.slice(7,-1).split(/, /),h=Number(g[0]),x=Number(g[3]),C=Number(g[4]),O=Number(g[5]);else return new lb(s);const R=c.transformOrigin,D=s.x-C-(1-h)*parseFloat(R),N=s.y-O-(1-x)*parseFloat(R.slice(R.indexOf(" ")+1)),H=h?s.width/h:n.offsetWidth+1,V=x?s.height/x:n.offsetHeight+1;return new lb({x:D,y:N,width:H,height:V})}else return new lb(s)}function Sk(n,s,c){if(typeof n.animate>"u")return{finished:Promise.resolve()};let f;try{f=n.animate(s,c)}catch{return{finished:Promise.resolve()}}return typeof f.finished>"u"&&(f.finished=new Promise(g=>{f.onfinish=()=>{g(f)}})),f}const bB=new WeakMap;function Gue(n,s){Object.keys(s).forEach(c=>{if(VY(c)){const f=ZY(c),g=bB.get(n);if(s[c]==null)g==null||g.forEach(h=>{const[x,C]=h;x===f&&(n.removeEventListener(f,C),g.delete(h))});else if(!g||![...g].some(h=>h[0]===f&&h[1]===s[c])){n.addEventListener(f,s[c]);const h=g||new Set;h.add([f,s[c]]),bB.has(n)||bB.set(n,h)}}else s[c]==null?n.removeAttribute(c):n.setAttribute(c,s[c])})}function Yue(n,s){Object.keys(s).forEach(c=>{if(VY(c)){const f=ZY(c),g=bB.get(n);g==null||g.forEach(h=>{const[x,C]=h;x===f&&(n.removeEventListener(f,C),g.delete(h))})}else n.removeAttribute(c)})}const gk=2.4,_K=.2126729,SK=.7151522,kK=.072175,Xue=.55,Jue=.58,Que=.57,ede=.62,JL=.03,EK=1.45,tde=5e-4,nde=1.25,ode=1.25,AK=.078,TK=12.82051282051282,QL=.06,OK=.001;function DK(n,s){const c=(n.r/255)**gk,f=(n.g/255)**gk,g=(n.b/255)**gk,h=(s.r/255)**gk,x=(s.g/255)**gk,C=(s.b/255)**gk;let O=c*_K+f*SK+g*kK,R=h*_K+x*SK+C*kK;if(O<=JL&&(O+=(JL-O)**EK),R<=JL&&(R+=(JL-R)**EK),Math.abs(R-O)<tde)return 0;let D;if(R>O){const N=(R**Xue-O**Jue)*nde;D=N<OK?0:N<AK?N-N*TK*QL:N-QL}else{const N=(R**ede-O**Que)*ode;D=N>-OK?0:N>-AK?N-N*TK*QL:N+QL}return D*100}function rde(n,s){s=Array.isArray(s)?s.slice(0,-1).map(c=>`'${c}'`).join(", ")+` or '${s.at(-1)}'`:`'${s}'`}const FB=.20689655172413793,sde=n=>n>FB**3?Math.cbrt(n):n/(3*FB**2)+4/29,ade=n=>n>FB?n**3:3*FB**2*(n-4/29);function XY(n){const s=sde,c=s(n[1]);return[116*c-16,500*(s(n[0]/.95047)-c),200*(c-s(n[2]/1.08883))]}function JY(n){const s=ade,c=(n[0]+16)/116;return[s(c+n[1]/500)*.95047,s(c),s(c-n[2]/200)*1.08883]}const ide=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],lde=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,cde=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ude=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function QY(n){const s=Array(3),c=lde,f=ide;for(let g=0;g<3;++g)s[g]=Math.round(S0(c(f[g][0]*n[0]+f[g][1]*n[1]+f[g][2]*n[2]))*255);return{r:s[0],g:s[1],b:s[2]}}function eU(n){let{r:s,g:c,b:f}=n;const g=[0,0,0],h=ude,x=cde;s=h(s/255),c=h(c/255),f=h(f/255);for(let C=0;C<3;++C)g[C]=x[C][0]*s+x[C][1]*c+x[C][2]*f;return g}function Qz(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function dde(n){return Qz(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const RK=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,fde={rgb:(n,s,c,f)=>({r:n,g:s,b:c,a:f}),rgba:(n,s,c,f)=>({r:n,g:s,b:c,a:f}),hsl:(n,s,c,f)=>NK({h:n,s,l:c,a:f}),hsla:(n,s,c,f)=>NK({h:n,s,l:c,a:f}),hsv:(n,s,c,f)=>NO({h:n,s,v:c,a:f}),hsva:(n,s,c,f)=>NO({h:n,s,v:c,a:f})};function ab(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&RK.test(n)){const{groups:s}=n.match(RK),{fn:c,values:f}=s,g=f.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(c)?parseFloat(h)/100:parseFloat(h));return fde[c](...g)}else if(typeof n=="string"){let s=n.startsWith("#")?n.slice(1):n;return[3,4].includes(s.length)?s=s.split("").map(c=>c+c).join(""):[6,8].includes(s.length),gde(s)}else if(typeof n=="object"){if(nz(n,["r","g","b"]))return n;if(nz(n,["h","s","l"]))return NO(eX(n));if(nz(n,["h","s","v"]))return NO(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function NO(n){const{h:s,s:c,v:f,a:g}=n,h=C=>{const O=(C+s/60)%6;return f-f*c*Math.max(Math.min(O,4-O,1),0)},x=[h(5),h(3),h(1)].map(C=>Math.round(C*255));return{r:x[0],g:x[1],b:x[2],a:g}}function NK(n){return NO(eX(n))}function eX(n){const{h:s,s:c,l:f,a:g}=n,h=f+c*Math.min(f,1-f),x=h===0?0:2-2*f/h;return{h:s,s:x,v:h,a:g}}function eB(n){const s=Math.round(n).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()}function mde(n){let{r:s,g:c,b:f,a:g}=n;return`#${[eB(s),eB(c),eB(f),g!==void 0?eB(Math.round(g*255)):""].join("")}`}function gde(n){n=hde(n);let[s,c,f,g]=Vue(n,2).map(h=>parseInt(h,16));return g=g===void 0?g:g/255,{r:s,g:c,b:f,a:g}}function hde(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(s=>s+s).join("")),n.length!==6&&(n=bK(bK(n,6),8,"F")),n}function pde(n,s){const c=XY(eU(n));return c[0]=c[0]+s*10,QY(JY(c))}function bde(n,s){const c=XY(eU(n));return c[0]=c[0]-s*10,QY(JY(c))}function vde(n){const s=ab(n);return eU(s)[1]}function tX(n){const s=Math.abs(DK(ab(0),ab(n)));return Math.abs(DK(ab(16777215),ab(n)))>Math.min(s,50)?"#fff":"#000"}function so(n,s){return c=>Object.keys(n).reduce((f,g)=>{const x=typeof n[g]=="object"&&n[g]!=null&&!Array.isArray(n[g])?n[g]:{type:n[g]};return c&&g in c?f[g]={...x,default:c[g]}:f[g]=x,s&&!f[g].source&&(f[g].source=s),f},{})}const rs=so({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Nl(n,s){const c=Bk();if(!c)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return c}function gb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const s=Nl(n).type;return eC((s==null?void 0:s.aliasName)||(s==null?void 0:s.name))}function yde(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nl("injectSelf");const{provides:c}=s;if(c&&n in c)return c[n]}const Nk=Symbol.for("vuetify:defaults");function xde(n){return Io(n)}function tU(){const n=Si(Nk);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function Mk(n,s){const c=tU(),f=Io(n),g=Wt(()=>{if(qe(s==null?void 0:s.disabled))return c.value;const x=qe(s==null?void 0:s.scoped),C=qe(s==null?void 0:s.reset),O=qe(s==null?void 0:s.root);if(f.value==null&&!(x||C||O))return c.value;let R=am(f.value,{prev:c.value});if(x)return R;if(C||O){const D=Number(C||1/0);for(let N=0;N<=D&&!(!R||!("prev"in R));N++)R=R.prev;return R&&typeof O=="string"&&O in R&&(R=am(am(R,{prev:R}),R[O])),R}return R.prev?am(R.prev,R):R});return im(Nk,g),g}function wde(n,s){return n.props&&(typeof n.props[s]<"u"||typeof n.props[eC(s)]<"u")}function Cde(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tU();const f=Nl("useDefaults");if(s=s??f.type.name??f.type.__name,!s)throw new Error("[Vuetify] Could not determine component name");const g=Wt(()=>{var O;return(O=c.value)==null?void 0:O[n._as??s]}),h=new Proxy(n,{get(O,R){var V,Z,te,ce;const D=Reflect.get(O,R);if(R==="class"||R==="style")return[(V=g.value)==null?void 0:V[R],D].filter(X=>X!=null);if(wde(f.vnode,R))return D;const N=(Z=g.value)==null?void 0:Z[R];if(N!==void 0)return N;const H=(ce=(te=c.value)==null?void 0:te.global)==null?void 0:ce[R];return H!==void 0?H:D}}),x=xr();Mh(()=>{if(g.value){const O=Object.entries(g.value).filter(R=>{let[D]=R;return D.startsWith(D[0].toUpperCase())});x.value=O.length?Object.fromEntries(O):void 0}else x.value=void 0});function C(){const O=yde(Nk,f);im(Nk,Wt(()=>x.value?am((O==null?void 0:O.value)??{},x.value):O==null?void 0:O.value))}return{props:h,provideSubDefaults:C}}function Fk(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=so(n.props??{},n.name)();const s=Object.keys(n.props).filter(c=>c!=="class"&&c!=="style");n.filterProps=function(f){return $Y(f,s)},n.props._as=String,n.setup=function(f,g){const h=tU();if(!h.value)return n._setup(f,g);const{props:x,provideSubDefaults:C}=Cde(f,f._as??n.name,h),O=n._setup(x,g);return C(),O}}return n}function dr(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return s=>(n?Fk:sY)(s)}function dM(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",c=arguments.length>2?arguments[2]:void 0;return dr()({name:c??E0(sf(n.replace(/__/g,"-"))),props:{tag:{type:String,default:s},...rs()},setup(f,g){let{slots:h}=g;return()=>{var x;return fb(f.tag,{class:[n,f.class],style:f.style},(x=h.default)==null?void 0:x.call(h))}}})}function nX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const s=n.getRootNode();return s!==document&&s.getRootNode({composed:!0})!==document?null:s}const $B="cubic-bezier(0.4, 0, 0.2, 1)",_de="cubic-bezier(0.0, 0, 0.2, 1)",Sde="cubic-bezier(0.4, 0, 1, 1)";function kde(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(s?Ede(n):nU(n))return n;n=n.parentElement}return document.scrollingElement}function HB(n,s){const c=[];if(s&&n&&!s.contains(n))return c;for(;n&&(nU(n)&&c.push(n),n!==s);)n=n.parentElement;return c}function nU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(n);return s.overflowY==="scroll"||s.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Ede(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(n);return["scroll","auto"].includes(s.overflowY)}function Ade(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function Yr(n){const s=Nl("useRender");s.render=n}function nf(n,s,c){let f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N=>N,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:N=>N;const h=Nl("useProxiedModel"),x=Io(n[s]!==void 0?n[s]:c),C=eC(s),R=Wt(C!==s?()=>{var N,H,V,Z;return n[s],!!(((N=h.vnode.props)!=null&&N.hasOwnProperty(s)||(H=h.vnode.props)!=null&&H.hasOwnProperty(C))&&((V=h.vnode.props)!=null&&V.hasOwnProperty(`onUpdate:${s}`)||(Z=h.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${C}`)))}:()=>{var N,H;return n[s],!!((N=h.vnode.props)!=null&&N.hasOwnProperty(s)&&((H=h.vnode.props)!=null&&H.hasOwnProperty(`onUpdate:${s}`)))});Lh(()=>!R.value,()=>{qn(()=>n[s],N=>{x.value=N})});const D=Wt({get(){const N=n[s];return f(R.value?N:x.value)},set(N){const H=g(N),V=jo(R.value?n[s]:x.value);V===H||f(V)===N||(x.value=H,h==null||h.emit(`update:${s}`,H))}});return Object.defineProperty(D,"externalValue",{get:()=>R.value?n[s]:x.value}),D}const Tde={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},IK="$vuetify.",PK=(n,s)=>n.replace(/\{(\d+)\}/g,(c,f)=>String(s[Number(f)])),oX=(n,s,c)=>function(f){for(var g=arguments.length,h=new Array(g>1?g-1:0),x=1;x<g;x++)h[x-1]=arguments[x];if(!f.startsWith(IK))return PK(f,h);const C=f.replace(IK,""),O=n.value&&c.value[n.value],R=s.value&&c.value[s.value];let D=qz(O,C,null);return D||(`${f}${n.value}`,D=qz(R,C,null)),D||(D=f),typeof D!="string"&&(D=f),PK(D,h)};function rX(n,s){return(c,f)=>new Intl.NumberFormat([n.value,s.value],f).format(c)}function sz(n,s,c){const f=nf(n,s,n[s]??c.value);return f.value=n[s]??c.value,qn(c,g=>{n[s]==null&&(f.value=c.value)}),f}function sX(n){return s=>{const c=sz(s,"locale",n.current),f=sz(s,"fallback",n.fallback),g=sz(s,"messages",n.messages);return{name:"vuetify",current:c,fallback:f,messages:g,t:oX(c,f,g),n:rX(c,f),provide:sX({current:c,fallback:f,messages:g})}}}function Ode(n){const s=xr((n==null?void 0:n.locale)??"en"),c=xr((n==null?void 0:n.fallback)??"en"),f=Io({en:Tde,...n==null?void 0:n.messages});return{name:"vuetify",current:s,fallback:c,messages:f,t:oX(s,c,f),n:rX(s,c),provide:sX({current:s,fallback:c,messages:f})}}const zB=Symbol.for("vuetify:locale");function Dde(n){return n.name!=null}function Rde(n){const s=n!=null&&n.adapter&&Dde(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Ode(n),c=Ide(s,n);return{...s,...c}}function aX(){const n=Si(zB);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Nde(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Ide(n,s){const c=Io((s==null?void 0:s.rtl)??Nde()),f=Wt(()=>c.value[n.current.value]??!1);return{isRtl:f,rtl:c,rtlClasses:Zn(()=>`v-locale--is-${f.value?"rtl":"ltr"}`)}}function T0(){const n=Si(zB);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}function KO(n){const s=n.slice(-2).toUpperCase();switch(!0){case n==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case n==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(s):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(s):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(s):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(s):return{firstDay:6,firstWeekSize:1};case s==="MV":return{firstDay:5,firstWeekSize:1};case s==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Pde(n,s,c){var D;const f=[];let g=[];const h=iX(n),x=lX(n),C=c??((D=KO(s))==null?void 0:D.firstDay)??0,O=(h.getDay()-C+7)%7,R=(x.getDay()-C+7)%7;for(let N=0;N<O;N++){const H=new Date(h);H.setDate(H.getDate()-(O-N)),g.push(H)}for(let N=1;N<=x.getDate();N++){const H=new Date(n.getFullYear(),n.getMonth(),N);g.push(H),g.length===7&&(f.push(g),g=[])}for(let N=1;N<7-R;N++){const H=new Date(x);H.setDate(H.getDate()+N),g.push(H)}return g.length>0&&f.push(g),f}function eV(n,s,c){var h;const f=c??((h=KO(s))==null?void 0:h.firstDay)??0,g=new Date(n);for(;g.getDay()!==f;)g.setDate(g.getDate()-1);return g}function Lde(n,s){var g;const c=new Date(n),f=((((g=KO(s))==null?void 0:g.firstDay)??0)+6)%7;for(;c.getDay()!==f;)c.setDate(c.getDate()+1);return c}function iX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function lX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function Bde(n){const s=n.split("-").map(Number);return new Date(s[0],s[1]-1,s[2])}const Mde=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function cX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let s;if(Mde.test(n))return Bde(n);if(s=Date.parse(n),!isNaN(s))return new Date(s)}return null}const LK=new Date(2e3,0,2);function Fde(n,s){var f;const c=s??((f=KO(n))==null?void 0:f.firstDay)??0;return FY(7).map(g=>{const h=new Date(LK);return h.setDate(LK.getDate()+c+g),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(h)})}function $de(n,s,c,f){const g=cX(n)??new Date,h=f==null?void 0:f[s];if(typeof h=="function")return h(g,s,c);let x={};switch(s){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const C=g.getDate(),O=new Intl.DateTimeFormat(c,{month:"long"}).format(g);return`${C} ${O}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(c).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(c,x).format(g).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(c,x).format(g).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(c,x).format(g).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(c,x).format(g)}function Hde(n,s){const c=n.toJsDate(s),f=c.getFullYear(),g=vK(String(c.getMonth()+1),2,"0"),h=vK(String(c.getDate()),2,"0");return`${f}-${g}-${h}`}function zde(n){const[s,c,f]=n.split("-").map(Number);return new Date(s,c-1,f)}function Vde(n,s){const c=new Date(n);return c.setMinutes(c.getMinutes()+s),c}function Ude(n,s){const c=new Date(n);return c.setHours(c.getHours()+s),c}function vB(n,s){const c=new Date(n);return c.setDate(c.getDate()+s),c}function Wde(n,s){const c=new Date(n);return c.setDate(c.getDate()+s*7),c}function Zde(n,s){const c=new Date(n);return c.setDate(1),c.setMonth(c.getMonth()+s),c}function tV(n){return n.getFullYear()}function jde(n){return n.getMonth()}function Kde(n,s,c,f){const g=KO(s),h=c??(g==null?void 0:g.firstDay)??0,x=f??(g==null?void 0:g.firstWeekSize)??1;function C(V){const Z=new Date(V,0,1);return 7-nV(Z,eV(Z,s,h),"days")}let O=tV(n);const R=vB(eV(n,s,h),6);O<tV(R)&&C(O+1)>=x&&O++;const D=new Date(O,0,1),N=C(O),H=N>=x?vB(D,N-7):vB(D,N);return 1+nV(n,H,"weeks")}function qde(n){return n.getDate()}function Gde(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function Yde(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function Xde(n){return n.getHours()}function Jde(n){return n.getMinutes()}function Qde(n){return new Date(n.getFullYear(),0,1)}function efe(n){return new Date(n.getFullYear(),11,31)}function tfe(n,s){return VB(n,s[0])&&rfe(n,s[1])}function nfe(n){const s=new Date(n);return s instanceof Date&&!isNaN(s.getTime())}function VB(n,s){return n.getTime()>s.getTime()}function ofe(n,s){return VB(oV(n),oV(s))}function rfe(n,s){return n.getTime()<s.getTime()}function BK(n,s){return n.getTime()===s.getTime()}function sfe(n,s){return n.getDate()===s.getDate()&&n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear()}function afe(n,s){return n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear()}function ife(n,s){return n.getFullYear()===s.getFullYear()}function nV(n,s,c){const f=new Date(n),g=new Date(s);switch(c){case"years":return f.getFullYear()-g.getFullYear();case"quarters":return Math.floor((f.getMonth()-g.getMonth()+(f.getFullYear()-g.getFullYear())*12)/4);case"months":return f.getMonth()-g.getMonth()+(f.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((f.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((f.getTime()-g.getTime())/1e3);default:return f.getTime()-g.getTime()}}function lfe(n,s){const c=new Date(n);return c.setHours(s),c}function cfe(n,s){const c=new Date(n);return c.setMinutes(s),c}function ufe(n,s){const c=new Date(n);return c.setMonth(s),c}function dfe(n,s){const c=new Date(n);return c.setDate(s),c}function ffe(n,s){const c=new Date(n);return c.setFullYear(s),c}function oV(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function mfe(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class gfe{constructor(s){this.locale=s.locale,this.formats=s.formats}date(s){return cX(s)}toJsDate(s){return s}toISO(s){return Hde(this,s)}parseISO(s){return zde(s)}addMinutes(s,c){return Vde(s,c)}addHours(s,c){return Ude(s,c)}addDays(s,c){return vB(s,c)}addWeeks(s,c){return Wde(s,c)}addMonths(s,c){return Zde(s,c)}getWeekArray(s,c){const f=c!==void 0?Number(c):void 0;return Pde(s,this.locale,f)}startOfWeek(s,c){const f=c!==void 0?Number(c):void 0;return eV(s,this.locale,f)}endOfWeek(s){return Lde(s,this.locale)}startOfMonth(s){return iX(s)}endOfMonth(s){return lX(s)}format(s,c){return $de(s,c,this.locale,this.formats)}isEqual(s,c){return BK(s,c)}isValid(s){return nfe(s)}isWithinRange(s,c){return tfe(s,c)}isAfter(s,c){return VB(s,c)}isAfterDay(s,c){return ofe(s,c)}isBefore(s,c){return!VB(s,c)&&!BK(s,c)}isSameDay(s,c){return sfe(s,c)}isSameMonth(s,c){return afe(s,c)}isSameYear(s,c){return ife(s,c)}setMinutes(s,c){return cfe(s,c)}setHours(s,c){return lfe(s,c)}setMonth(s,c){return ufe(s,c)}setDate(s,c){return dfe(s,c)}setYear(s,c){return ffe(s,c)}getDiff(s,c,f){return nV(s,c,f)}getWeekdays(s){const c=s!==void 0?Number(s):void 0;return Fde(this.locale,c)}getYear(s){return tV(s)}getMonth(s){return jde(s)}getWeek(s,c,f){const g=c!==void 0?Number(c):void 0;return Kde(s,this.locale,g,f)}getDate(s){return qde(s)}getNextMonth(s){return Gde(s)}getPreviousMonth(s){return Yde(s)}getHours(s){return Xde(s)}getMinutes(s){return Jde(s)}startOfDay(s){return oV(s)}endOfDay(s){return mfe(s)}startOfYear(s){return Qde(s)}endOfYear(s){return efe(s)}}const hfe=Symbol.for("vuetify:date-options"),MK=Symbol.for("vuetify:date-adapter");function pfe(n,s){const c=am({adapter:gfe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:c,instance:bfe(c,s)}}function bfe(n,s){const c=fc(typeof n.adapter=="function"?new n.adapter({locale:n.locale[s.current.value]??s.current.value,formats:n.formats}):n.adapter);return qn(s.current,f=>{c.locale=n.locale[f]??f??c.locale}),Object.assign(c,{createDateRange(f,g){const h=c.getDiff(g??f,f,"days"),x=[f];for(let C=1;C<h;C++){const O=c.addDays(f,C);x.push(O)}return g&&x.push(c.endOfDay(g)),x}})}const fM=["sm","md","lg","xl","xxl"],rV=Symbol.for("vuetify:display"),FK={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},vfe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FK;return am(FK,n)};function $K(n){return ki&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function HK(n){return ki&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function zK(n){const s=ki&&!n?window.navigator.userAgent:"ssr";function c(Z){return!!s.match(Z)}const f=c(/android/i),g=c(/iphone|ipad|ipod/i),h=c(/cordova/i),x=c(/electron/i),C=c(/chrome/i),O=c(/edge/i),R=c(/firefox/i),D=c(/opera/i),N=c(/win/i),H=c(/mac/i),V=c(/linux/i);return{android:f,ios:g,cordova:h,electron:x,chrome:C,edge:O,firefox:R,opera:D,win:N,mac:H,linux:V,touch:Mue,ssr:s==="ssr"}}function yfe(n,s){const{thresholds:c,mobileBreakpoint:f}=vfe(n),g=xr(HK(s)),h=xr(zK(s)),x=fc({}),C=xr($K(s));function O(){g.value=HK(),C.value=$K()}function R(){O(),h.value=zK()}return Mh(()=>{const D=C.value<c.sm,N=C.value<c.md&&!D,H=C.value<c.lg&&!(N||D),V=C.value<c.xl&&!(H||N||D),Z=C.value<c.xxl&&!(V||H||N||D),te=C.value>=c.xxl,ce=D?"xs":N?"sm":H?"md":V?"lg":Z?"xl":"xxl",X=typeof f=="number"?f:c[f],Se=C.value<X;x.xs=D,x.sm=N,x.md=H,x.lg=V,x.xl=Z,x.xxl=te,x.smAndUp=!D,x.mdAndUp=!(D||N),x.lgAndUp=!(D||N||H),x.xlAndUp=!(D||N||H||V),x.smAndDown=!(H||V||Z||te),x.mdAndDown=!(V||Z||te),x.lgAndDown=!(Z||te),x.xlAndDown=!te,x.name=ce,x.height=g.value,x.width=C.value,x.mobile=Se,x.mobileBreakpoint=f,x.platform=h.value,x.thresholds=c}),ki&&(window.addEventListener("resize",O,{passive:!0}),af(()=>{window.removeEventListener("resize",O)},!0)),{...rM(x),update:R,ssr:!!s}}const xfe=so({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function uX(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();const c=Si(rV);if(!c)throw new Error("Could not find Vuetify display injection");const f=Wt(()=>n.mobile?!0:typeof n.mobileBreakpoint=="number"?c.width.value<n.mobileBreakpoint:n.mobileBreakpoint?c.width.value<c.thresholds.value[n.mobileBreakpoint]:n.mobile===null?c.mobile.value:!1),g=Zn(()=>s?{[`${s}--mobile`]:f.value}:{});return{...c,displayClasses:g,mobile:f}}const wfe=Symbol.for("vuetify:goto");function Cfe(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function _fe(n,s){return{rtl:s.isRtl,options:am(Cfe(),n)}}const Sfe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},kfe={component:n=>fb(fX,{...n,class:"mdi"})},Hi=[String,Function,Object,Array],sV=Symbol.for("vuetify:icons"),mM=so({icon:{type:Hi},tag:{type:[String,Object,Function],required:!0}},"icon"),VK=dr()({name:"VComponentIcon",props:mM(),setup(n,s){let{slots:c}=s;return()=>{const f=n.icon;return Ie(n.tag,null,{default:()=>{var g;return[n.icon?Ie(f,null,null):(g=c.default)==null?void 0:g.call(c)]}})}}}),dX=Fk({name:"VSvgIcon",inheritAttrs:!1,props:mM(),setup(n,s){let{attrs:c}=s;return()=>Ie(n.tag,Vs(c,{style:null}),{default:()=>[Pe("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(f=>Array.isArray(f)?Pe("path",{d:f[0],"fill-opacity":f[1]},null):Pe("path",{d:f},null)):Pe("path",{d:n.icon},null)])]})}});Fk({name:"VLigatureIcon",props:mM(),setup(n){return()=>Ie(n.tag,null,{default:()=>[n.icon]})}});const fX=Fk({name:"VClassIcon",props:mM(),setup(n){return()=>Ie(n.tag,{class:Go(n.icon)},null)}});function Efe(){return{svg:{component:dX},class:{component:fX}}}function Afe(n){const s=Efe(),c=(n==null?void 0:n.defaultSet)??"mdi";return c==="mdi"&&!s.mdi&&(s.mdi=kfe),am({defaultSet:c,sets:s,aliases:{...Sfe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Tfe=n=>{const s=Si(sV);if(!s)throw new Error("Missing Vuetify Icons provide!");return{iconData:Wt(()=>{var O;const f=_0(n);if(!f)return{component:VK};let g=f;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(O=s.aliases)==null?void 0:O[g.slice(1)])),Array.isArray(g))return{component:dX,icon:g};if(typeof g!="string")return{component:VK,icon:g};const h=Object.keys(s.sets).find(R=>typeof g=="string"&&g.startsWith(`${R}:`)),x=h?g.slice(h.length+1):g;return{component:s.sets[h??s.defaultSet].component,icon:x}})}},IO=Symbol.for("vuetify:theme"),ql=so({theme:String},"theme");function UK(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function Ofe(){var f,g;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UK();const s=UK();if(!n)return{...s,isDisabled:!0};const c={};for(const[h,x]of Object.entries(n.themes??{})){const C=x.dark||h==="dark"?(f=s.themes)==null?void 0:f.dark:(g=s.themes)==null?void 0:g.light;c[h]=am(C,x)}return am(s,{...n,themes:c})}function Ww(n,s,c,f){n.push(`${Ife(s,f)} {
`,...c.map(g=>`  ${g};
`),`}
`)}function WK(n){const s=n.dark?2:1,c=n.dark?1:2,f=[];for(const[g,h]of Object.entries(n.colors)){const x=ab(h);f.push(`--v-theme-${g}: ${x.r},${x.g},${x.b}`),g.startsWith("on-")||f.push(`--v-theme-${g}-overlay-multiplier: ${vde(h)>.18?s:c}`)}for(const[g,h]of Object.entries(n.variables)){const x=typeof h=="string"&&h.startsWith("#")?ab(h):void 0,C=x?`${x.r}, ${x.g}, ${x.b}`:void 0;f.push(`--v-${g}: ${C??h}`)}return f}function Dfe(n,s,c){const f={};if(c)for(const g of["lighten","darken"]){const h=g==="lighten"?pde:bde;for(const x of FY(c[g],1))f[`${n}-${g}-${x}`]=mde(h(ab(s),x))}return f}function Rfe(n,s){if(!s)return{};let c={};for(const f of s.colors){const g=n[f];g&&(c={...c,...Dfe(f,g,s)})}return c}function Nfe(n){const s={};for(const c of Object.keys(n)){if(c.startsWith("on-")||n[`on-${c}`])continue;const f=`on-${c}`,g=ab(n[c]);s[f]=tX(g)}return s}function Ife(n,s){if(!s)return n;const c=`:where(${s})`;return n===":root"?c:`${c} ${n}`}function Pfe(n,s){n&&(n.innerHTML=s)}function Lfe(n,s){if(!ki)return null;let c=document.getElementById(n);return c||(c=document.createElement("style"),c.id=n,c.type="text/css",s&&c.setAttribute("nonce",s),document.head.appendChild(c)),c}function Bfe(n){const s=Ofe(n),c=xr(s.defaultTheme),f=Io(s.themes),g=Wt(()=>{const R={};for(const[D,N]of Object.entries(f.value)){const H={...N.colors,...Rfe(N.colors,s.variations)};R[D]={...N,colors:{...H,...Nfe(H)}}}return R}),h=Zn(()=>g.value[c.value]),x=Wt(()=>{var V;const R=[];(V=h.value)!=null&&V.dark&&Ww(R,":root",["color-scheme: dark"],s.scope),Ww(R,":root",WK(h.value),s.scope);for(const[Z,te]of Object.entries(g.value))Ww(R,`.v-theme--${Z}`,[`color-scheme: ${te.dark?"dark":"normal"}`,...WK(te)],s.scope);const D=[],N=[],H=new Set(Object.values(g.value).flatMap(Z=>Object.keys(Z.colors)));for(const Z of H)Z.startsWith("on-")?Ww(N,`.${Z}`,[`color: rgb(var(--v-theme-${Z})) !important`],s.scope):(Ww(D,`.bg-${Z}`,[`--v-theme-overlay-multiplier: var(--v-theme-${Z}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${Z})) !important`,`color: rgb(var(--v-theme-on-${Z})) !important`],s.scope),Ww(N,`.text-${Z}`,[`color: rgb(var(--v-theme-${Z})) !important`],s.scope),Ww(N,`.border-${Z}`,[`--v-border-color: var(--v-theme-${Z})`],s.scope));return R.push(...D,...N),R.map((Z,te)=>te===0?Z:`    ${Z}`).join("")});function C(R){if(s.isDisabled)return;const D=R._context.provides.usehead;if(D){let V=function(){return{style:[{textContent:x.value,id:s.stylesheetId,nonce:s.cspNonce||!1}]}};var N=V;if(D.push){const Z=D.push(V);ki&&qn(x,()=>{Z.patch(V)})}else ki?(D.addHeadObjs(Zn(V)),Mh(()=>D.updateDOM())):D.addHeadObjs(V())}else{let V=function(){Pfe(Lfe(s.stylesheetId,s.cspNonce),x.value)};var H=V;ki?qn(x,V,{immediate:!0}):V()}}const O=Zn(()=>s.isDisabled?void 0:`v-theme--${c.value}`);return{install:C,isDisabled:s.isDisabled,name:c,themes:f,current:h,computedThemes:g,themeClasses:O,styles:x,global:{name:c,current:h}}}function Wc(n){Nl("provideTheme");const s=Si(IO,null);if(!s)throw new Error("Could not find Vuetify theme injection");const c=Zn(()=>n.theme??s.name.value),f=Zn(()=>s.themes.value[c.value]),g=Zn(()=>s.isDisabled?void 0:`v-theme--${c.value}`),h={...s,name:c,current:f,themeClasses:g};return im(IO,h),h}function Mfe(){Nl("useTheme");const n=Si(IO,null);if(!n)throw new Error("Could not find Vuetify theme injection");return n}function mX(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const c=Yz(),f=Io();if(ki){const g=new ResizeObserver(h=>{h.length&&(s==="content"?f.value=h[0].contentRect:f.value=h[0].target.getBoundingClientRect())});hc(()=>{g.disconnect()}),qn(()=>c.el,(h,x)=>{x&&(g.unobserve(x),f.value=void 0),h&&g.observe(h)},{flush:"post"})}return{resizeRef:c,contentRect:Lk(f)}}const UB=Symbol.for("vuetify:layout"),gX=Symbol.for("vuetify:layout-item"),ZK=1e3,Ffe=so({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),hX=so({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function $fe(){const n=Si(UB);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function pX(n){const s=Si(UB);if(!s)throw new Error("[Vuetify] Could not find injected layout");const c=n.id??`layout-item-${UO()}`,f=Nl("useLayoutItem");im(gX,{id:c});const g=xr(!1);UV(()=>g.value=!0),VV(()=>g.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=s.register(f,{...n,active:Wt(()=>g.value?!1:n.active.value),id:c});return hc(()=>s.unregister(c)),{layoutItemStyles:h,layoutRect:s.layoutRect,layoutItemScrimStyles:x}}const Hfe=(n,s,c,f)=>{let g={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...g}}];for(const x of n){const C=s.get(x),O=c.get(x),R=f.get(x);if(!C||!O||!R)continue;const D={...g,[C.value]:parseInt(g[C.value],10)+(R.value?parseInt(O.value,10):0)};h.push({id:x,layer:D}),g=D}return h};function zfe(n){const s=Si(UB,null),c=Wt(()=>s?s.rootZIndex.value-100:ZK),f=Io([]),g=fc(new Map),h=fc(new Map),x=fc(new Map),C=fc(new Map),O=fc(new Map),{resizeRef:R,contentRect:D}=mX(),N=Wt(()=>{const oe=new Map,Ue=n.overlaps??[];for(const He of Ue.filter(je=>je.includes(":"))){const[je,st]=He.split(":");if(!f.value.includes(je)||!f.value.includes(st))continue;const Oe=g.get(je),Be=g.get(st),P=h.get(je),St=h.get(st);!Oe||!Be||!P||!St||(oe.set(st,{position:Oe.value,amount:parseInt(P.value,10)}),oe.set(je,{position:Be.value,amount:-parseInt(St.value,10)}))}return oe}),H=Wt(()=>{const oe=[...new Set([...x.values()].map(He=>He.value))].sort((He,je)=>He-je),Ue=[];for(const He of oe){const je=f.value.filter(st=>{var Oe;return((Oe=x.get(st))==null?void 0:Oe.value)===He});Ue.push(...je)}return Hfe(Ue,g,h,C)}),V=Wt(()=>!Array.from(O.values()).some(oe=>oe.value)),Z=Wt(()=>H.value[H.value.length-1].layer),te=Zn(()=>({"--v-layout-left":vr(Z.value.left),"--v-layout-right":vr(Z.value.right),"--v-layout-top":vr(Z.value.top),"--v-layout-bottom":vr(Z.value.bottom),...V.value?void 0:{transition:"none"}})),ce=Wt(()=>H.value.slice(1).map((oe,Ue)=>{let{id:He}=oe;const{layer:je}=H.value[Ue],st=h.get(He),Oe=g.get(He);return{id:He,...je,size:Number(st.value),position:Oe.value}})),X=oe=>ce.value.find(Ue=>Ue.id===oe),Se=Nl("createLayout"),fe=xr(!1);Uc(()=>{fe.value=!0}),im(UB,{register:(oe,Ue)=>{let{id:He,order:je,position:st,layoutSize:Oe,elementSize:Be,active:P,disableTransitions:St,absolute:Mt}=Ue;x.set(He,je),g.set(He,st),h.set(He,Oe),C.set(He,P),St&&O.set(He,St);const un=_k(gX,Se==null?void 0:Se.vnode).indexOf(oe);un>-1?f.value.splice(un,0,He):f.value.push(He);const ct=Wt(()=>ce.value.findIndex(Je=>Je.id===He)),_n=Wt(()=>c.value+H.value.length*2-ct.value*2),Vn=Wt(()=>{const Je=st.value==="left"||st.value==="right",Tt=st.value==="right",Gn=st.value==="bottom",jn=Be.value??Oe.value,Xn=jn===0?"%":"px",gn={[st.value]:0,zIndex:_n.value,transform:`translate${Je?"X":"Y"}(${(P.value?0:-(jn===0?100:jn))*(Tt||Gn?-1:1)}${Xn})`,position:Mt.value||c.value!==ZK?"absolute":"fixed",...V.value?void 0:{transition:"none"}};if(!fe.value)return gn;const Q=ce.value[ct.value];if(!Q)throw new Error(`[Vuetify] Could not find layout item "${He}"`);const gr=N.value.get(He);return gr&&(Q[gr.position]+=gr.amount),{...gn,height:Je?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:Be.value?`${Be.value}px`:void 0,left:Tt?void 0:`${Q.left}px`,right:Tt?`${Q.right}px`:void 0,top:st.value!=="bottom"?`${Q.top}px`:void 0,bottom:st.value!=="top"?`${Q.bottom}px`:void 0,width:Je?Be.value?`${Be.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),Lt=Wt(()=>({zIndex:_n.value-1}));return{layoutItemStyles:Vn,layoutItemScrimStyles:Lt,zIndex:_n}},unregister:oe=>{x.delete(oe),g.delete(oe),h.delete(oe),C.delete(oe),O.delete(oe),f.value=f.value.filter(Ue=>Ue!==oe)},mainRect:Z,mainStyles:te,getLayoutItem:X,items:ce,layoutRect:D,rootZIndex:c});const j=Zn(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),de=Zn(()=>({zIndex:s?c.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:j,layoutStyles:de,getLayoutItem:X,items:ce,layoutRect:D,layoutRef:R}}function bX(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:s,...c}=n,f=am(s,c),{aliases:g={},components:h={},directives:x={}}=f,C=Fy();return C.run(()=>{const O=xde(f.defaults),R=yfe(f.display,f.ssr),D=Bfe(f.theme),N=Afe(f.icons),H=Rde(f.locale),V=pfe(f.date,H),Z=_fe(f.goTo,H);function te(X){for(const fe in x)X.directive(fe,x[fe]);for(const fe in h)X.component(fe,h[fe]);for(const fe in g)X.component(fe,Fk({...g[fe],name:fe,aliasName:g[fe].name}));const Se=Fy();if(Se.run(()=>{D.install(X)}),X.onUnmount(()=>Se.stop()),X.provide(Nk,O),X.provide(rV,R),X.provide(IO,D),X.provide(sV,N),X.provide(zB,H),X.provide(hfe,V.options),X.provide(MK,V.instance),X.provide(wfe,Z),ki&&f.ssr)if(X.$nuxt)X.$nuxt.hook("app:suspense:resolve",()=>{R.update()});else{const{mount:fe}=X;X.mount=function(){const j=fe(...arguments);return ya(()=>R.update()),X.mount=fe,j}}X.mixin({computed:{$vuetify(){return fc({defaults:hk.call(this,Nk),display:hk.call(this,rV),theme:hk.call(this,IO),icons:hk.call(this,sV),locale:hk.call(this,zB),date:hk.call(this,MK)})}}})}function ce(){C.stop()}return{install:te,unmount:ce,defaults:O,display:R,theme:D,icons:N,locale:H,date:V,goTo:Z}})}const Vfe="3.8.8";bX.version=Vfe;function hk(n){var f,g;const s=this.$,c=((f=s.parent)==null?void 0:f.provides)??((g=s.vnode.appContext)==null?void 0:g.provides);if(c&&n in c)return c[n]}const Ufe=bX({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let vX;const gM=n=>vX=n,yX=Symbol();function aV(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var kO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(kO||(kO={}));function Wfe(){const n=Fy(!0),s=n.run(()=>Io({}));let c=[],f=[];const g=$V({install(h){gM(g),g._a=h,h.provide(yX,g),h.config.globalProperties.$pinia=g,f.forEach(x=>c.push(x)),f=[]},use(h){return this._a?c.push(h):f.push(h),this},_p:c,_a:null,_e:n,_s:new Map,state:s});return g}const xX=()=>{};function jK(n,s,c,f=xX){n.push(s);const g=()=>{const h=n.indexOf(s);h>-1&&(n.splice(h,1),f())};return!c&&AG()&&af(g),g}function pk(n,...s){n.slice().forEach(c=>{c(...s)})}const Zfe=n=>n(),KK=Symbol(),az=Symbol();function iV(n,s){n instanceof Map&&s instanceof Map?s.forEach((c,f)=>n.set(f,c)):n instanceof Set&&s instanceof Set&&s.forEach(n.add,n);for(const c in s){if(!s.hasOwnProperty(c))continue;const f=s[c],g=n[c];aV(g)&&aV(f)&&n.hasOwnProperty(c)&&!ja(f)&&!Ly(f)?n[c]=iV(g,f):n[c]=f}return n}const jfe=Symbol();function Kfe(n){return!aV(n)||!n.hasOwnProperty(jfe)}const{assign:Ty}=Object;function qfe(n){return!!(ja(n)&&n.effect)}function Gfe(n,s,c,f){const{state:g,actions:h,getters:x}=s,C=c.state.value[n];let O;function R(){C||(c.state.value[n]=g?g():{});const D=rM(c.state.value[n]);return Ty(D,h,Object.keys(x||{}).reduce((N,H)=>(N[H]=$V(Wt(()=>{gM(c);const V=c._s.get(n);return x[H].call(V,V)})),N),{}))}return O=wX(n,R,s,c,f,!0),O}function wX(n,s,c={},f,g,h){let x;const C=Ty({actions:{}},c),O={deep:!0};let R,D,N=[],H=[],V;const Z=f.state.value[n];!h&&!Z&&(f.state.value[n]={}),Io({});let te;function ce(He){let je;R=D=!1,typeof He=="function"?(He(f.state.value[n]),je={type:kO.patchFunction,storeId:n,events:V}):(iV(f.state.value[n],He),je={type:kO.patchObject,payload:He,storeId:n,events:V});const st=te=Symbol();ya().then(()=>{te===st&&(R=!0)}),D=!0,pk(N,je,f.state.value[n])}const X=h?function(){const{state:je}=c,st=je?je():{};this.$patch(Oe=>{Ty(Oe,st)})}:xX;function Se(){x.stop(),N=[],H=[],f._s.delete(n)}const fe=(He,je="")=>{if(KK in He)return He[az]=je,He;const st=function(){gM(f);const Oe=Array.from(arguments),Be=[],P=[];function St(un){Be.push(un)}function Mt(un){P.push(un)}pk(H,{args:Oe,name:st[az],store:de,after:St,onError:Mt});let tn;try{tn=He.apply(this&&this.$id===n?this:de,Oe)}catch(un){throw pk(P,un),un}return tn instanceof Promise?tn.then(un=>(pk(Be,un),un)).catch(un=>(pk(P,un),Promise.reject(un))):(pk(Be,tn),tn)};return st[KK]=!0,st[az]=je,st},j={_p:f,$id:n,$onAction:jK.bind(null,H),$patch:ce,$reset:X,$subscribe(He,je={}){const st=jK(N,He,je.detached,()=>Oe()),Oe=x.run(()=>qn(()=>f.state.value[n],Be=>{(je.flush==="sync"?D:R)&&He({storeId:n,type:kO.direct,events:V},Be)},Ty({},O,je)));return st},$dispose:Se},de=fc(j);f._s.set(n,de);const Ue=(f._a&&f._a.runWithContext||Zfe)(()=>f._e.run(()=>(x=Fy()).run(()=>s({action:fe}))));for(const He in Ue){const je=Ue[He];if(ja(je)&&!qfe(je)||Ly(je))h||(Z&&Kfe(je)&&(ja(je)?je.value=Z[He]:iV(je,Z[He])),f.state.value[n][He]=je);else if(typeof je=="function"){const st=fe(je,He);Ue[He]=st,C.actions[He]=je}}return Ty(de,Ue),Ty(jo(de),Ue),Object.defineProperty(de,"$state",{get:()=>f.state.value[n],set:He=>{ce(je=>{Ty(je,He)})}}),f._p.forEach(He=>{Ty(de,x.run(()=>He({store:de,app:f._a,pinia:f,options:C})))}),Z&&h&&c.hydrate&&c.hydrate(de.$state,Z),R=!0,D=!0,de}/*! #__NO_SIDE_EFFECTS__ */function _g(n,s,c){let f,g;const h=typeof s=="function";typeof n=="string"?(f=n,g=h?c:s):(g=n,f=n.id);function x(C,O){const R=Sce();return C=C||(R?Si(yX,null):null),C&&gM(C),C=vX,C._s.has(f)||(h?wX(f,s,g,C):Gfe(f,g,C)),C._s.get(f)}return x.$id=f,x}const Yfe=Wfe();/*!
  * shared v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const qK=typeof window<"u",CX=(n,s=!1)=>s?Symbol.for(n):Symbol(n),Xfe=(n,s,c)=>Jfe({l:n,k:s,s:c}),Jfe=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Qd=n=>typeof n=="number"&&isFinite(n),WB=n=>SX(n)==="[object RegExp]",Qfe=n=>Eu(n)&&Object.keys(n).length===0,$k=Object.assign,eme=Object.create,Tu=(n=null)=>eme(n);let GK;const oU=()=>GK||(GK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Tu());function YK(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const tme=Object.prototype.hasOwnProperty;function Nh(n,s){return tme.call(n,s)}const mb=Array.isArray,il=n=>typeof n=="function",cs=n=>typeof n=="string",bd=n=>typeof n=="boolean",zi=n=>n!==null&&typeof n=="object",nme=n=>zi(n)&&il(n.then)&&il(n.catch),_X=Object.prototype.toString,SX=n=>_X.call(n),Eu=n=>SX(n)==="[object Object]",ome=n=>n==null?"":mb(n)||Eu(n)&&n.toString===_X?JSON.stringify(n,null,2):String(n);function rU(n,s=""){return n.reduce((c,f,g)=>g===0?c+f:c+s+f,"")}function rme(n,s){typeof console<"u"&&(console.warn("[intlify] "+n),s&&console.warn(s.stack))}const tB=n=>!zi(n)||mb(n);function yB(n,s){if(tB(n)||tB(s))throw new Error("Invalid value");const c=[{src:n,des:s}];for(;c.length;){const{src:f,des:g}=c.pop();Object.keys(f).forEach(h=>{h!=="__proto__"&&(zi(f[h])&&!zi(g[h])&&(g[h]=Array.isArray(f[h])?[]:Tu()),tB(g[h])||tB(f[h])?g[h]=f[h]:c.push({src:f[h],des:g[h]}))})}}/*!
  * message-compiler v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sme(n,s,c){return{line:n,column:s,offset:c}}function lV(n,s,c){return{start:n,end:s}}const da={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},ame=17;function hM(n,s,c={}){const{domain:f,messages:g,args:h}=c,x=n,C=new SyntaxError(String(x));return C.code=n,s&&(C.location=s),C.domain=f,C}function ime(n){throw n}const f0=" ",lme="\r",fd=`
`,cme="\u2028",ume="\u2029";function dme(n){const s=n;let c=0,f=1,g=1,h=0;const x=Ue=>s[Ue]===lme&&s[Ue+1]===fd,C=Ue=>s[Ue]===fd,O=Ue=>s[Ue]===ume,R=Ue=>s[Ue]===cme,D=Ue=>x(Ue)||C(Ue)||O(Ue)||R(Ue),N=()=>c,H=()=>f,V=()=>g,Z=()=>h,te=Ue=>x(Ue)||O(Ue)||R(Ue)?fd:s[Ue],ce=()=>te(c),X=()=>te(c+h);function Se(){return h=0,D(c)&&(f++,g=0),x(c)&&c++,c++,g++,s[c]}function fe(){return x(c+h)&&h++,h++,s[c+h]}function j(){c=0,f=1,g=1,h=0}function de(Ue=0){h=Ue}function oe(){const Ue=c+h;for(;Ue!==c;)Se();h=0}return{index:N,line:H,column:V,peekOffset:Z,charAt:te,currentChar:ce,currentPeek:X,next:Se,peek:fe,reset:j,resetPeek:de,skipToPeek:oe}}const Sy=void 0,fme=".",XK="'",mme="tokenizer";function gme(n,s={}){const c=s.location!==!1,f=dme(n),g=()=>f.index(),h=()=>sme(f.line(),f.column(),f.index()),x=h(),C=g(),O={currentType:13,offset:C,startLoc:x,endLoc:x,lastType:13,lastOffset:C,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},R=()=>O,{onError:D}=s;function N(Ce,De,We,...dt){const on=R();if(De.column+=We,De.offset+=We,D){const Ft=c?lV(on.startLoc,De):null,vn=hM(Ce,Ft,{domain:mme,args:dt});D(vn)}}function H(Ce,De,We){Ce.endLoc=h(),Ce.currentType=De;const dt={type:De};return c&&(dt.loc=lV(Ce.startLoc,Ce.endLoc)),We!=null&&(dt.value=We),dt}const V=Ce=>H(Ce,13);function Z(Ce,De){return Ce.currentChar()===De?(Ce.next(),De):(N(da.EXPECTED_TOKEN,h(),0,De),"")}function te(Ce){let De="";for(;Ce.currentPeek()===f0||Ce.currentPeek()===fd;)De+=Ce.currentPeek(),Ce.peek();return De}function ce(Ce){const De=te(Ce);return Ce.skipToPeek(),De}function X(Ce){if(Ce===Sy)return!1;const De=Ce.charCodeAt(0);return De>=97&&De<=122||De>=65&&De<=90||De===95}function Se(Ce){if(Ce===Sy)return!1;const De=Ce.charCodeAt(0);return De>=48&&De<=57}function fe(Ce,De){const{currentType:We}=De;if(We!==2)return!1;te(Ce);const dt=X(Ce.currentPeek());return Ce.resetPeek(),dt}function j(Ce,De){const{currentType:We}=De;if(We!==2)return!1;te(Ce);const dt=Ce.currentPeek()==="-"?Ce.peek():Ce.currentPeek(),on=Se(dt);return Ce.resetPeek(),on}function de(Ce,De){const{currentType:We}=De;if(We!==2)return!1;te(Ce);const dt=Ce.currentPeek()===XK;return Ce.resetPeek(),dt}function oe(Ce,De){const{currentType:We}=De;if(We!==7)return!1;te(Ce);const dt=Ce.currentPeek()===".";return Ce.resetPeek(),dt}function Ue(Ce,De){const{currentType:We}=De;if(We!==8)return!1;te(Ce);const dt=X(Ce.currentPeek());return Ce.resetPeek(),dt}function He(Ce,De){const{currentType:We}=De;if(!(We===7||We===11))return!1;te(Ce);const dt=Ce.currentPeek()===":";return Ce.resetPeek(),dt}function je(Ce,De){const{currentType:We}=De;if(We!==9)return!1;const dt=()=>{const Ft=Ce.currentPeek();return Ft==="{"?X(Ce.peek()):Ft==="@"||Ft==="|"||Ft===":"||Ft==="."||Ft===f0||!Ft?!1:Ft===fd?(Ce.peek(),dt()):Oe(Ce,!1)},on=dt();return Ce.resetPeek(),on}function st(Ce){te(Ce);const De=Ce.currentPeek()==="|";return Ce.resetPeek(),De}function Oe(Ce,De=!0){const We=(on=!1,Ft="")=>{const vn=Ce.currentPeek();return vn==="{"||vn==="@"||!vn?on:vn==="|"?!(Ft===f0||Ft===fd):vn===f0?(Ce.peek(),We(!0,f0)):vn===fd?(Ce.peek(),We(!0,fd)):!0},dt=We();return De&&Ce.resetPeek(),dt}function Be(Ce,De){const We=Ce.currentChar();return We===Sy?Sy:De(We)?(Ce.next(),We):null}function P(Ce){const De=Ce.charCodeAt(0);return De>=97&&De<=122||De>=65&&De<=90||De>=48&&De<=57||De===95||De===36}function St(Ce){return Be(Ce,P)}function Mt(Ce){const De=Ce.charCodeAt(0);return De>=97&&De<=122||De>=65&&De<=90||De>=48&&De<=57||De===95||De===36||De===45}function tn(Ce){return Be(Ce,Mt)}function un(Ce){const De=Ce.charCodeAt(0);return De>=48&&De<=57}function ct(Ce){return Be(Ce,un)}function _n(Ce){const De=Ce.charCodeAt(0);return De>=48&&De<=57||De>=65&&De<=70||De>=97&&De<=102}function Vn(Ce){return Be(Ce,_n)}function Lt(Ce){let De="",We="";for(;De=ct(Ce);)We+=De;return We}function Je(Ce){let De="";for(;;){const We=Ce.currentChar();if(We==="{"||We==="}"||We==="@"||We==="|"||!We)break;if(We===f0||We===fd)if(Oe(Ce))De+=We,Ce.next();else{if(st(Ce))break;De+=We,Ce.next()}else De+=We,Ce.next()}return De}function Tt(Ce){ce(Ce);let De="",We="";for(;De=tn(Ce);)We+=De;return Ce.currentChar()===Sy&&N(da.UNTERMINATED_CLOSING_BRACE,h(),0),We}function Gn(Ce){ce(Ce);let De="";return Ce.currentChar()==="-"?(Ce.next(),De+=`-${Lt(Ce)}`):De+=Lt(Ce),Ce.currentChar()===Sy&&N(da.UNTERMINATED_CLOSING_BRACE,h(),0),De}function jn(Ce){return Ce!==XK&&Ce!==fd}function Xn(Ce){ce(Ce),Z(Ce,"'");let De="",We="";for(;De=Be(Ce,jn);)De==="\\"?We+=gn(Ce):We+=De;const dt=Ce.currentChar();return dt===fd||dt===Sy?(N(da.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),dt===fd&&(Ce.next(),Z(Ce,"'")),We):(Z(Ce,"'"),We)}function gn(Ce){const De=Ce.currentChar();switch(De){case"\\":case"'":return Ce.next(),`\\${De}`;case"u":return Q(Ce,De,4);case"U":return Q(Ce,De,6);default:return N(da.UNKNOWN_ESCAPE_SEQUENCE,h(),0,De),""}}function Q(Ce,De,We){Z(Ce,De);let dt="";for(let on=0;on<We;on++){const Ft=Vn(Ce);if(!Ft){N(da.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${De}${dt}${Ce.currentChar()}`);break}dt+=Ft}return`\\${De}${dt}`}function gr(Ce){return Ce!=="{"&&Ce!=="}"&&Ce!==f0&&Ce!==fd}function $o(Ce){ce(Ce);let De="",We="";for(;De=Be(Ce,gr);)We+=De;return We}function Do(Ce){let De="",We="";for(;De=St(Ce);)We+=De;return We}function Ye(Ce){const De=We=>{const dt=Ce.currentChar();return dt==="{"||dt==="@"||dt==="|"||dt==="("||dt===")"||!dt||dt===f0?We:(We+=dt,Ce.next(),De(We))};return De("")}function it(Ce){ce(Ce);const De=Z(Ce,"|");return ce(Ce),De}function be(Ce,De){let We=null;switch(Ce.currentChar()){case"{":return De.braceNest>=1&&N(da.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Ce.next(),We=H(De,2,"{"),ce(Ce),De.braceNest++,We;case"}":return De.braceNest>0&&De.currentType===2&&N(da.EMPTY_PLACEHOLDER,h(),0),Ce.next(),We=H(De,3,"}"),De.braceNest--,De.braceNest>0&&ce(Ce),De.inLinked&&De.braceNest===0&&(De.inLinked=!1),We;case"@":return De.braceNest>0&&N(da.UNTERMINATED_CLOSING_BRACE,h(),0),We=Ae(Ce,De)||V(De),De.braceNest=0,We;default:{let on=!0,Ft=!0,vn=!0;if(st(Ce))return De.braceNest>0&&N(da.UNTERMINATED_CLOSING_BRACE,h(),0),We=H(De,1,it(Ce)),De.braceNest=0,De.inLinked=!1,We;if(De.braceNest>0&&(De.currentType===4||De.currentType===5||De.currentType===6))return N(da.UNTERMINATED_CLOSING_BRACE,h(),0),De.braceNest=0,Fe(Ce,De);if(on=fe(Ce,De))return We=H(De,4,Tt(Ce)),ce(Ce),We;if(Ft=j(Ce,De))return We=H(De,5,Gn(Ce)),ce(Ce),We;if(vn=de(Ce,De))return We=H(De,6,Xn(Ce)),ce(Ce),We;if(!on&&!Ft&&!vn)return We=H(De,12,$o(Ce)),N(da.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,We.value),ce(Ce),We;break}}return We}function Ae(Ce,De){const{currentType:We}=De;let dt=null;const on=Ce.currentChar();switch((We===7||We===8||We===11||We===9)&&(on===fd||on===f0)&&N(da.INVALID_LINKED_FORMAT,h(),0),on){case"@":return Ce.next(),dt=H(De,7,"@"),De.inLinked=!0,dt;case".":return ce(Ce),Ce.next(),H(De,8,".");case":":return ce(Ce),Ce.next(),H(De,9,":");default:return st(Ce)?(dt=H(De,1,it(Ce)),De.braceNest=0,De.inLinked=!1,dt):oe(Ce,De)||He(Ce,De)?(ce(Ce),Ae(Ce,De)):Ue(Ce,De)?(ce(Ce),H(De,11,Do(Ce))):je(Ce,De)?(ce(Ce),on==="{"?be(Ce,De)||dt:H(De,10,Ye(Ce))):(We===7&&N(da.INVALID_LINKED_FORMAT,h(),0),De.braceNest=0,De.inLinked=!1,Fe(Ce,De))}}function Fe(Ce,De){let We={type:13};if(De.braceNest>0)return be(Ce,De)||V(De);if(De.inLinked)return Ae(Ce,De)||V(De);switch(Ce.currentChar()){case"{":return be(Ce,De)||V(De);case"}":return N(da.UNBALANCED_CLOSING_BRACE,h(),0),Ce.next(),H(De,3,"}");case"@":return Ae(Ce,De)||V(De);default:{if(st(Ce))return We=H(De,1,it(Ce)),De.braceNest=0,De.inLinked=!1,We;if(Oe(Ce))return H(De,0,Je(Ce));break}}return We}function pe(){const{currentType:Ce,offset:De,startLoc:We,endLoc:dt}=O;return O.lastType=Ce,O.lastOffset=De,O.lastStartLoc=We,O.lastEndLoc=dt,O.offset=g(),O.startLoc=h(),f.currentChar()===Sy?H(O,13):Fe(f,O)}return{nextToken:pe,currentOffset:g,currentPosition:h,context:R}}const hme="parser",pme=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function bme(n,s,c){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const f=parseInt(s||c,16);return f<=55295||f>=57344?String.fromCodePoint(f):"�"}}}function vme(n={}){const s=n.location!==!1,{onError:c}=n;function f(X,Se,fe,j,...de){const oe=X.currentPosition();if(oe.offset+=j,oe.column+=j,c){const Ue=s?lV(fe,oe):null,He=hM(Se,Ue,{domain:hme,args:de});c(He)}}function g(X,Se,fe){const j={type:X};return s&&(j.start=Se,j.end=Se,j.loc={start:fe,end:fe}),j}function h(X,Se,fe,j){s&&(X.end=Se,X.loc&&(X.loc.end=fe))}function x(X,Se){const fe=X.context(),j=g(3,fe.offset,fe.startLoc);return j.value=Se,h(j,X.currentOffset(),X.currentPosition()),j}function C(X,Se){const fe=X.context(),{lastOffset:j,lastStartLoc:de}=fe,oe=g(5,j,de);return oe.index=parseInt(Se,10),X.nextToken(),h(oe,X.currentOffset(),X.currentPosition()),oe}function O(X,Se){const fe=X.context(),{lastOffset:j,lastStartLoc:de}=fe,oe=g(4,j,de);return oe.key=Se,X.nextToken(),h(oe,X.currentOffset(),X.currentPosition()),oe}function R(X,Se){const fe=X.context(),{lastOffset:j,lastStartLoc:de}=fe,oe=g(9,j,de);return oe.value=Se.replace(pme,bme),X.nextToken(),h(oe,X.currentOffset(),X.currentPosition()),oe}function D(X){const Se=X.nextToken(),fe=X.context(),{lastOffset:j,lastStartLoc:de}=fe,oe=g(8,j,de);return Se.type!==11?(f(X,da.UNEXPECTED_EMPTY_LINKED_MODIFIER,fe.lastStartLoc,0),oe.value="",h(oe,j,de),{nextConsumeToken:Se,node:oe}):(Se.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,Yp(Se)),oe.value=Se.value||"",h(oe,X.currentOffset(),X.currentPosition()),{node:oe})}function N(X,Se){const fe=X.context(),j=g(7,fe.offset,fe.startLoc);return j.value=Se,h(j,X.currentOffset(),X.currentPosition()),j}function H(X){const Se=X.context(),fe=g(6,Se.offset,Se.startLoc);let j=X.nextToken();if(j.type===8){const de=D(X);fe.modifier=de.node,j=de.nextConsumeToken||X.nextToken()}switch(j.type!==9&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(j)),j=X.nextToken(),j.type===2&&(j=X.nextToken()),j.type){case 10:j.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(j)),fe.key=N(X,j.value||"");break;case 4:j.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(j)),fe.key=O(X,j.value||"");break;case 5:j.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(j)),fe.key=C(X,j.value||"");break;case 6:j.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(j)),fe.key=R(X,j.value||"");break;default:{f(X,da.UNEXPECTED_EMPTY_LINKED_KEY,Se.lastStartLoc,0);const de=X.context(),oe=g(7,de.offset,de.startLoc);return oe.value="",h(oe,de.offset,de.startLoc),fe.key=oe,h(fe,de.offset,de.startLoc),{nextConsumeToken:j,node:fe}}}return h(fe,X.currentOffset(),X.currentPosition()),{node:fe}}function V(X){const Se=X.context(),fe=Se.currentType===1?X.currentOffset():Se.offset,j=Se.currentType===1?Se.endLoc:Se.startLoc,de=g(2,fe,j);de.items=[];let oe=null;do{const je=oe||X.nextToken();switch(oe=null,je.type){case 0:je.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(je)),de.items.push(x(X,je.value||""));break;case 5:je.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(je)),de.items.push(C(X,je.value||""));break;case 4:je.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(je)),de.items.push(O(X,je.value||""));break;case 6:je.value==null&&f(X,da.UNEXPECTED_LEXICAL_ANALYSIS,Se.lastStartLoc,0,Yp(je)),de.items.push(R(X,je.value||""));break;case 7:{const st=H(X);de.items.push(st.node),oe=st.nextConsumeToken||null;break}}}while(Se.currentType!==13&&Se.currentType!==1);const Ue=Se.currentType===1?Se.lastOffset:X.currentOffset(),He=Se.currentType===1?Se.lastEndLoc:X.currentPosition();return h(de,Ue,He),de}function Z(X,Se,fe,j){const de=X.context();let oe=j.items.length===0;const Ue=g(1,Se,fe);Ue.cases=[],Ue.cases.push(j);do{const He=V(X);oe||(oe=He.items.length===0),Ue.cases.push(He)}while(de.currentType!==13);return oe&&f(X,da.MUST_HAVE_MESSAGES_IN_PLURAL,fe,0),h(Ue,X.currentOffset(),X.currentPosition()),Ue}function te(X){const Se=X.context(),{offset:fe,startLoc:j}=Se,de=V(X);return Se.currentType===13?de:Z(X,fe,j,de)}function ce(X){const Se=gme(X,$k({},n)),fe=Se.context(),j=g(0,fe.offset,fe.startLoc);return s&&j.loc&&(j.loc.source=X),j.body=te(Se),n.onCacheKey&&(j.cacheKey=n.onCacheKey(X)),fe.currentType!==13&&f(Se,da.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,X[fe.offset]||""),h(j,Se.currentOffset(),Se.currentPosition()),j}return{parse:ce}}function Yp(n){if(n.type===13)return"EOF";const s=(n.value||"").replace(/\r?\n/gu,"\\n");return s.length>10?s.slice(0,9)+"…":s}function yme(n,s={}){const c={ast:n,helpers:new Set};return{context:()=>c,helper:h=>(c.helpers.add(h),h)}}function JK(n,s){for(let c=0;c<n.length;c++)sU(n[c],s)}function sU(n,s){switch(n.type){case 1:JK(n.cases,s),s.helper("plural");break;case 2:JK(n.items,s);break;case 6:{sU(n.key,s),s.helper("linked"),s.helper("type");break}case 5:s.helper("interpolate"),s.helper("list");break;case 4:s.helper("interpolate"),s.helper("named");break}}function xme(n,s={}){const c=yme(n);c.helper("normalize"),n.body&&sU(n.body,c);const f=c.context();n.helpers=Array.from(f.helpers)}function wme(n){const s=n.body;return s.type===2?QK(s):s.cases.forEach(c=>QK(c)),n}function QK(n){if(n.items.length===1){const s=n.items[0];(s.type===3||s.type===9)&&(n.static=s.value,delete s.value)}else{const s=[];for(let c=0;c<n.items.length;c++){const f=n.items[c];if(!(f.type===3||f.type===9)||f.value==null)break;s.push(f.value)}if(s.length===n.items.length){n.static=rU(s);for(let c=0;c<n.items.length;c++){const f=n.items[c];(f.type===3||f.type===9)&&delete f.value}}}}function Ck(n){switch(n.t=n.type,n.type){case 0:{const s=n;Ck(s.body),s.b=s.body,delete s.body;break}case 1:{const s=n,c=s.cases;for(let f=0;f<c.length;f++)Ck(c[f]);s.c=c,delete s.cases;break}case 2:{const s=n,c=s.items;for(let f=0;f<c.length;f++)Ck(c[f]);s.i=c,delete s.items,s.static&&(s.s=s.static,delete s.static);break}case 3:case 9:case 8:case 7:{const s=n;s.value&&(s.v=s.value,delete s.value);break}case 6:{const s=n;Ck(s.key),s.k=s.key,delete s.key,s.modifier&&(Ck(s.modifier),s.m=s.modifier,delete s.modifier);break}case 5:{const s=n;s.i=s.index,delete s.index;break}case 4:{const s=n;s.k=s.key,delete s.key;break}}delete n.type}function Cme(n,s){const{filename:c,breakLineCode:f,needIndent:g}=s,h=s.location!==!1,x={filename:c,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:f,needIndent:g,indentLevel:0};h&&n.loc&&(x.source=n.loc.source);const C=()=>x;function O(te,ce){x.code+=te}function R(te,ce=!0){const X=ce?f:"";O(g?X+"  ".repeat(te):X)}function D(te=!0){const ce=++x.indentLevel;te&&R(ce)}function N(te=!0){const ce=--x.indentLevel;te&&R(ce)}function H(){R(x.indentLevel)}return{context:C,push:O,indent:D,deindent:N,newline:H,helper:te=>`_${te}`,needIndent:()=>x.needIndent}}function _me(n,s){const{helper:c}=n;n.push(`${c("linked")}(`),Ik(n,s.key),s.modifier?(n.push(", "),Ik(n,s.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function Sme(n,s){const{helper:c,needIndent:f}=n;n.push(`${c("normalize")}([`),n.indent(f());const g=s.items.length;for(let h=0;h<g&&(Ik(n,s.items[h]),h!==g-1);h++)n.push(", ");n.deindent(f()),n.push("])")}function kme(n,s){const{helper:c,needIndent:f}=n;if(s.cases.length>1){n.push(`${c("plural")}([`),n.indent(f());const g=s.cases.length;for(let h=0;h<g&&(Ik(n,s.cases[h]),h!==g-1);h++)n.push(", ");n.deindent(f()),n.push("])")}}function Eme(n,s){s.body?Ik(n,s.body):n.push("null")}function Ik(n,s){const{helper:c}=n;switch(s.type){case 0:Eme(n,s);break;case 1:kme(n,s);break;case 2:Sme(n,s);break;case 6:_me(n,s);break;case 8:n.push(JSON.stringify(s.value),s);break;case 7:n.push(JSON.stringify(s.value),s);break;case 5:n.push(`${c("interpolate")}(${c("list")}(${s.index}))`,s);break;case 4:n.push(`${c("interpolate")}(${c("named")}(${JSON.stringify(s.key)}))`,s);break;case 9:n.push(JSON.stringify(s.value),s);break;case 3:n.push(JSON.stringify(s.value),s);break}}const Ame=(n,s={})=>{const c=cs(s.mode)?s.mode:"normal",f=cs(s.filename)?s.filename:"message.intl";s.sourceMap;const g=s.breakLineCode!=null?s.breakLineCode:c==="arrow"?";":`
`,h=s.needIndent?s.needIndent:c!=="arrow",x=n.helpers||[],C=Cme(n,{filename:f,breakLineCode:g,needIndent:h});C.push(c==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),C.indent(h),x.length>0&&(C.push(`const { ${rU(x.map(D=>`${D}: _${D}`),", ")} } = ctx`),C.newline()),C.push("return "),Ik(C,n),C.deindent(h),C.push("}"),delete n.helpers;const{code:O,map:R}=C.context();return{ast:n,code:O,map:R?R.toJSON():void 0}};function Tme(n,s={}){const c=$k({},s),f=!!c.jit,g=!!c.minify,h=c.optimize==null?!0:c.optimize,C=vme(c).parse(n);return f?(h&&wme(C),g&&Ck(C),{ast:C,code:""}):(xme(C,c),Ame(C,c))}/*!
  * core-base v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Ome(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(oU().__INTLIFY_PROD_DEVTOOLS__=!1)}function By(n){return zi(n)&&aU(n)===0&&(Nh(n,"b")||Nh(n,"body"))}const kX=["b","body"];function Dme(n){return Uy(n,kX)}const EX=["c","cases"];function Rme(n){return Uy(n,EX,[])}const AX=["s","static"];function Nme(n){return Uy(n,AX)}const TX=["i","items"];function Ime(n){return Uy(n,TX,[])}const OX=["t","type"];function aU(n){return Uy(n,OX)}const DX=["v","value"];function nB(n,s){const c=Uy(n,DX);if(c!=null)return c;throw PO(s)}const RX=["m","modifier"];function Pme(n){return Uy(n,RX)}const NX=["k","key"];function Lme(n){const s=Uy(n,NX);if(s)return s;throw PO(6)}function Uy(n,s,c){for(let f=0;f<s.length;f++){const g=s[f];if(Nh(n,g)&&n[g]!=null)return n[g]}return c}const Bme=[...kX,...EX,...AX,...TX,...NX,...RX,...DX,...OX];function PO(n){return new Error(`unhandled node type: ${n}`)}function iz(n){return c=>Mme(c,n)}function Mme(n,s){const c=Dme(s);if(c==null)throw PO(0);if(aU(c)===1){const h=Rme(c);return n.plural(h.reduce((x,C)=>[...x,eq(n,C)],[]))}else return eq(n,c)}function eq(n,s){const c=Nme(s);if(c!=null)return n.type==="text"?c:n.normalize([c]);{const f=Ime(s).reduce((g,h)=>[...g,cV(n,h)],[]);return n.normalize(f)}}function cV(n,s){const c=aU(s);switch(c){case 3:return nB(s,c);case 9:return nB(s,c);case 4:{const f=s;if(Nh(f,"k")&&f.k)return n.interpolate(n.named(f.k));if(Nh(f,"key")&&f.key)return n.interpolate(n.named(f.key));throw PO(c)}case 5:{const f=s;if(Nh(f,"i")&&Qd(f.i))return n.interpolate(n.list(f.i));if(Nh(f,"index")&&Qd(f.index))return n.interpolate(n.list(f.index));throw PO(c)}case 6:{const f=s,g=Pme(f),h=Lme(f);return n.linked(cV(n,h),g?cV(n,g):void 0,n.type)}case 7:return nB(s,c);case 8:return nB(s,c);default:throw new Error(`unhandled node on format message part: ${c}`)}}const Fme=n=>n;let oB=Tu();function $me(n,s={}){let c=!1;const f=s.onError||ime;return s.onError=g=>{c=!0,f(g)},{...Tme(n,s),detectError:c}}function Hme(n,s){if(cs(n)){bd(s.warnHtmlMessage)&&s.warnHtmlMessage;const f=(s.onCacheKey||Fme)(n),g=oB[f];if(g)return g;const{ast:h,detectError:x}=$me(n,{...s,location:!1,jit:!0}),C=iz(h);return x?C:oB[f]=C}else{const c=n.cacheKey;if(c){const f=oB[c];return f||(oB[c]=iz(n))}else return iz(n)}}let LO=null;function zme(n){LO=n}function Vme(n,s,c){LO&&LO.emit("i18n:init",{timestamp:Date.now(),i18n:n,version:s,meta:c})}const Ume=Wme("function:translate");function Wme(n){return s=>LO&&LO.emit(n,s)}const xB={INVALID_ARGUMENT:ame,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Zme=24;function wB(n){return hM(n,null,void 0)}function jme(n,s){return s.locale!=null?tq(s.locale):tq(n.locale)}let lz;function tq(n){if(cs(n))return n;if(il(n)){if(n.resolvedOnce&&lz!=null)return lz;if(n.constructor.name==="Function"){const s=n();if(nme(s))throw wB(xB.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return lz=s}else throw wB(xB.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw wB(xB.NOT_SUPPORT_LOCALE_TYPE)}function Kme(n,s,c){return[...new Set([c,...mb(s)?s:zi(s)?Object.keys(s):cs(s)?[s]:[c]])]}function qme(n,s){return zi(n)?n[s]:null}const Gme="11.1.5",IX=-1,uV="en-US",nq=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function Yme(){return{upper:(n,s)=>s==="text"&&cs(n)?n.toUpperCase():s==="vnode"&&zi(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,s)=>s==="text"&&cs(n)?n.toLowerCase():s==="vnode"&&zi(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,s)=>s==="text"&&cs(n)?nq(n):s==="vnode"&&zi(n)&&"__v_isVNode"in n?nq(n.children):n}}let PX;function Xme(n){PX=n}let LX=null;const Jme=n=>{LX=n},Qme=()=>LX;let BX=null;const oq=n=>{BX=n},ege=()=>BX;let rq=0;function tge(n={}){const s=il(n.onWarn)?n.onWarn:rme,c=cs(n.version)?n.version:Gme,f=cs(n.locale)||il(n.locale)?n.locale:uV,g=il(f)?uV:f,h=mb(n.fallbackLocale)||Eu(n.fallbackLocale)||cs(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:g,x=Eu(n.messages)?n.messages:cz(g),C=Eu(n.datetimeFormats)?n.datetimeFormats:cz(g),O=Eu(n.numberFormats)?n.numberFormats:cz(g),R=$k(Tu(),n.modifiers,Yme()),D=n.pluralRules||Tu(),N=il(n.missing)?n.missing:null,H=bd(n.missingWarn)||WB(n.missingWarn)?n.missingWarn:!0,V=bd(n.fallbackWarn)||WB(n.fallbackWarn)?n.fallbackWarn:!0,Z=!!n.fallbackFormat,te=!!n.unresolving,ce=il(n.postTranslation)?n.postTranslation:null,X=Eu(n.processor)?n.processor:null,Se=bd(n.warnHtmlMessage)?n.warnHtmlMessage:!0,fe=!!n.escapeParameter,j=il(n.messageCompiler)?n.messageCompiler:PX,de=il(n.messageResolver)?n.messageResolver:qme,oe=il(n.localeFallbacker)?n.localeFallbacker:Kme,Ue=zi(n.fallbackContext)?n.fallbackContext:void 0,He=n,je=zi(He.__datetimeFormatters)?He.__datetimeFormatters:new Map,st=zi(He.__numberFormatters)?He.__numberFormatters:new Map,Oe=zi(He.__meta)?He.__meta:{};rq++;const Be={version:c,cid:rq,locale:f,fallbackLocale:h,messages:x,modifiers:R,pluralRules:D,missing:N,missingWarn:H,fallbackWarn:V,fallbackFormat:Z,unresolving:te,postTranslation:ce,processor:X,warnHtmlMessage:Se,escapeParameter:fe,messageCompiler:j,messageResolver:de,localeFallbacker:oe,fallbackContext:Ue,onWarn:s,__meta:Oe};return Be.datetimeFormats=C,Be.numberFormats=O,Be.__datetimeFormatters=je,Be.__numberFormatters=st,__INTLIFY_PROD_DEVTOOLS__&&Vme(Be,c,Oe),Be}const cz=n=>({[n]:Tu()});function nge(n,s,c,f,g){const{missing:h,onWarn:x}=n;if(h!==null){const C=h(n,c,s,g);return cs(C)?C:s}else return s}function gO(n,s,c){const f=n;f.__localeChainCache=new Map,n.localeFallbacker(n,c,s)}function oge(n,s){return n===s?!1:n.split("-")[0]===s.split("-")[0]}function rge(n,s){const c=s.indexOf(n);if(c===-1)return!1;for(let f=c+1;f<s.length;f++)if(oge(n,s[f]))return!0;return!1}const sge=n=>n,age=n=>"",ige="text",lge=n=>n.length===0?"":rU(n),cge=ome;function sq(n,s){return n=Math.abs(n),s===2?n?n>1?1:0:1:n?Math.min(n,2):0}function uge(n){const s=Qd(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(Qd(n.named.count)||Qd(n.named.n))?Qd(n.named.count)?n.named.count:Qd(n.named.n)?n.named.n:s:s}function dge(n,s){s.count||(s.count=n),s.n||(s.n=n)}function fge(n={}){const s=n.locale,c=uge(n),f=zi(n.pluralRules)&&cs(s)&&il(n.pluralRules[s])?n.pluralRules[s]:sq,g=zi(n.pluralRules)&&cs(s)&&il(n.pluralRules[s])?sq:void 0,h=X=>X[f(c,X.length,g)],x=n.list||[],C=X=>x[X],O=n.named||Tu();Qd(n.pluralIndex)&&dge(c,O);const R=X=>O[X];function D(X,Se){const fe=il(n.messages)?n.messages(X,!!Se):zi(n.messages)?n.messages[X]:!1;return fe||(n.parent?n.parent.message(X):age)}const N=X=>n.modifiers?n.modifiers[X]:sge,H=Eu(n.processor)&&il(n.processor.normalize)?n.processor.normalize:lge,V=Eu(n.processor)&&il(n.processor.interpolate)?n.processor.interpolate:cge,Z=Eu(n.processor)&&cs(n.processor.type)?n.processor.type:ige,ce={list:C,named:R,plural:h,linked:(X,...Se)=>{const[fe,j]=Se;let de="text",oe="";Se.length===1?zi(fe)?(oe=fe.modifier||oe,de=fe.type||de):cs(fe)&&(oe=fe||oe):Se.length===2&&(cs(fe)&&(oe=fe||oe),cs(j)&&(de=j||de));const Ue=D(X,!0)(ce),He=de==="vnode"&&mb(Ue)&&oe?Ue[0]:Ue;return oe?N(oe)(He,de):He},message:D,type:Z,interpolate:V,normalize:H,values:$k(Tu(),x,O)};return ce}const aq=()=>"",Rh=n=>il(n);function mge(n,...s){const{fallbackFormat:c,postTranslation:f,unresolving:g,messageCompiler:h,fallbackLocale:x,messages:C}=n,[O,R]=$X(...s),D=bd(R.missingWarn)?R.missingWarn:n.missingWarn,N=bd(R.fallbackWarn)?R.fallbackWarn:n.fallbackWarn,H=bd(R.escapeParameter)?R.escapeParameter:n.escapeParameter,V=!!R.resolvedMessage,Z=cs(R.default)||bd(R.default)?bd(R.default)?h?O:()=>O:R.default:c?h?O:()=>O:null,te=c||Z!=null&&(cs(Z)||il(Z)),ce=jme(n,R);H&&gge(R);let[X,Se,fe]=V?[O,ce,C[ce]||Tu()]:MX(n,O,ce,x,N,D),j=X,de=O;if(!V&&!(cs(j)||By(j)||Rh(j))&&te&&(j=Z,de=j),!V&&(!(cs(j)||By(j)||Rh(j))||!cs(Se)))return g?IX:O;let oe=!1;const Ue=()=>{oe=!0},He=Rh(j)?j:FX(n,O,Se,j,de,Ue);if(oe)return j;const je=bge(n,Se,fe,R),st=fge(je),Oe=hge(n,He,st),Be=f?f(Oe,O):Oe;if(__INTLIFY_PROD_DEVTOOLS__){const P={timestamp:Date.now(),key:cs(O)?O:Rh(j)?j.key:"",locale:Se||(Rh(j)?j.locale:""),format:cs(j)?j:Rh(j)?j.source:"",message:Be};P.meta=$k({},n.__meta,Qme()||{}),Ume(P)}return Be}function gge(n){mb(n.list)?n.list=n.list.map(s=>cs(s)?YK(s):s):zi(n.named)&&Object.keys(n.named).forEach(s=>{cs(n.named[s])&&(n.named[s]=YK(n.named[s]))})}function MX(n,s,c,f,g,h){const{messages:x,onWarn:C,messageResolver:O,localeFallbacker:R}=n,D=R(n,f,c);let N=Tu(),H,V=null;const Z="translate";for(let te=0;te<D.length&&(H=D[te],N=x[H]||Tu(),(V=O(N,s))===null&&(V=N[s]),!(cs(V)||By(V)||Rh(V)));te++)if(!rge(H,D)){const ce=nge(n,s,H,h,Z);ce!==s&&(V=ce)}return[V,H,N]}function FX(n,s,c,f,g,h){const{messageCompiler:x,warnHtmlMessage:C}=n;if(Rh(f)){const R=f;return R.locale=R.locale||c,R.key=R.key||s,R}if(x==null){const R=()=>f;return R.locale=c,R.key=s,R}const O=x(f,pge(n,c,g,f,C,h));return O.locale=c,O.key=s,O.source=f,O}function hge(n,s,c){return s(c)}function $X(...n){const[s,c,f]=n,g=Tu();if(!cs(s)&&!Qd(s)&&!Rh(s)&&!By(s))throw wB(xB.INVALID_ARGUMENT);const h=Qd(s)?String(s):(Rh(s),s);return Qd(c)?g.plural=c:cs(c)?g.default=c:Eu(c)&&!Qfe(c)?g.named=c:mb(c)&&(g.list=c),Qd(f)?g.plural=f:cs(f)?g.default=f:Eu(f)&&$k(g,f),[h,g]}function pge(n,s,c,f,g,h){return{locale:s,key:c,warnHtmlMessage:g,onError:x=>{throw h&&h(x),x},onCacheKey:x=>Xfe(s,c,x)}}function bge(n,s,c,f){const{modifiers:g,pluralRules:h,messageResolver:x,fallbackLocale:C,fallbackWarn:O,missingWarn:R,fallbackContext:D}=n,H={locale:s,modifiers:g,pluralRules:h,messages:(V,Z)=>{let te=x(c,V);if(te==null&&(D||Z)){const[,,ce]=MX(D||n,V,s,C,O,R);te=x(ce,V)}if(cs(te)||By(te)){let ce=!1;const Se=FX(n,V,s,te,V,()=>{ce=!0});return ce?aq:Se}else return Rh(te)?te:aq}};return n.processor&&(H.processor=n.processor),f.list&&(H.list=f.list),f.named&&(H.named=f.named),Qd(f.plural)&&(H.pluralIndex=f.plural),H}Ome();/*!
  * petite-vue-i18n v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const vge="11.1.5";function yge(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(oU().__INTLIFY_PROD_DEVTOOLS__=!1)}const ZB={UNEXPECTED_RETURN_TYPE:Zme,UNEXPECTED_ERROR:32};function jB(n,...s){return hM(n,null,void 0)}const xge=CX("__setPluralRules");function BO(n){if(!zi(n)||By(n))return n;for(const s in n)if(Nh(n,s))if(!s.includes("."))zi(n[s])&&BO(n[s]);else{const c=s.split("."),f=c.length-1;let g=n,h=!1;for(let x=0;x<f;x++){if(c[x]==="__proto__")throw new Error(`unsafe key: ${c[x]}`);if(c[x]in g||(g[c[x]]=Tu()),!zi(g[c[x]])){h=!0;break}g=g[c[x]]}if(h||(By(g)?Bme.includes(c[f])||delete n[s]:(g[c[f]]=n[s],delete n[s])),!By(g)){const x=g[c[f]];zi(x)&&BO(x)}}return n}function wge(n,s){const{messages:c,__i18n:f,messageResolver:g,flatJson:h}=s,x=Eu(c)?c:mb(f)?Tu():{[n]:Tu()};if(mb(f)&&f.forEach(C=>{if("locale"in C&&"resource"in C){const{locale:O,resource:R}=C;O?(x[O]=x[O]||Tu(),yB(R,x[O])):yB(R,x)}else cs(C)&&yB(JSON.parse(C),x)}),g==null&&h)for(const C in x)Nh(x,C)&&BO(x[C]);return x}function Cge(n){return n.type}const iq="__INTLIFY_META__";let lq=0;function cq(n){return(s,c,f,g)=>n(c,f,Bk()||void 0,g)}const _ge=()=>{const n=Bk();let s=null;return n&&(s=Cge(n)[iq])?{[iq]:s}:null};function Sge(n={}){const{__root:s,__injectWithOption:c}=n,f=s===void 0,g=n.flatJson,h=qK?Io:xr;let x=bd(n.inheritLocale)?n.inheritLocale:!0;const C=h(s&&x?s.locale.value:cs(n.locale)?n.locale:uV),O=h(s&&x?s.fallbackLocale.value:cs(n.fallbackLocale)||mb(n.fallbackLocale)||Eu(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:C.value),R=h(wge(C.value,n));let D=s?s.missingWarn:bd(n.missingWarn)||WB(n.missingWarn)?n.missingWarn:!0,N=s?s.fallbackWarn:bd(n.fallbackWarn)||WB(n.fallbackWarn)?n.fallbackWarn:!0,H=s?s.fallbackRoot:bd(n.fallbackRoot)?n.fallbackRoot:!0,V=!!n.fallbackFormat,Z=il(n.missing)?n.missing:null,te=il(n.missing)?cq(n.missing):null,ce=il(n.postTranslation)?n.postTranslation:null,X=s?s.warnHtmlMessage:bd(n.warnHtmlMessage)?n.warnHtmlMessage:!0,Se=!!n.escapeParameter;const fe=s?s.modifiers:Eu(n.modifiers)?n.modifiers:{};let j=n.pluralRules||s&&s.pluralRules,de;de=(()=>{f&&oq(null);const Je={version:vge,locale:C.value,fallbackLocale:O.value,messages:R.value,modifiers:fe,pluralRules:j,missing:te===null?void 0:te,missingWarn:D,fallbackWarn:N,fallbackFormat:V,unresolving:!0,postTranslation:ce===null?void 0:ce,warnHtmlMessage:X,escapeParameter:Se,messageResolver:n.messageResolver,messageCompiler:n.messageCompiler,__meta:{framework:"vue"}},Tt=tge(Je);return f&&oq(Tt),Tt})(),gO(de,C.value,O.value);function Ue(){return[C.value,O.value,R.value]}const He=Wt({get:()=>C.value,set:Je=>{de.locale=Je,C.value=Je}}),je=Wt({get:()=>O.value,set:Je=>{de.fallbackLocale=Je,O.value=Je,gO(de,C.value,Je)}}),st=Wt(()=>R.value);function Oe(){return il(ce)?ce:null}function Be(Je){ce=Je,de.postTranslation=Je}function P(){return Z}function St(Je){Je!==null&&(te=cq(Je)),Z=Je,de.missing=te}const Mt=(Je,Tt,Gn,jn,Xn,gn)=>{Ue();let Q;try{__INTLIFY_PROD_DEVTOOLS__,f||(de.fallbackContext=s?ege():void 0),Q=Je(de)}finally{__INTLIFY_PROD_DEVTOOLS__,f||(de.fallbackContext=void 0)}if(Qd(Q)&&Q===IX||Gn==="translate exists"){const[gr,$o]=Tt();return s&&H?jn(s):Xn(gr)}else{if(gn(Q))return Q;throw jB(ZB.UNEXPECTED_RETURN_TYPE)}};function tn(...Je){return Mt(Tt=>Reflect.apply(mge,null,[Tt,...Je]),()=>$X(...Je),"translate",Tt=>Reflect.apply(Tt.t,Tt,[...Je]),Tt=>Tt,Tt=>cs(Tt))}function un(Je){j=Je,de.pluralRules=j}function ct(Je){return R.value[Je]||{}}function _n(Je,Tt){if(g){const Gn={[Je]:Tt};for(const jn in Gn)Nh(Gn,jn)&&BO(Gn[jn]);Tt=Gn[Je]}R.value[Je]=Tt,de.messages=R.value}function Vn(Je,Tt){R.value[Je]=R.value[Je]||{};const Gn={[Je]:Tt};if(g)for(const jn in Gn)Nh(Gn,jn)&&BO(Gn[jn]);Tt=Gn[Je],yB(Tt,R.value[Je]),de.messages=R.value}return lq++,s&&qK&&(qn(s.locale,Je=>{x&&(C.value=Je,de.locale=Je,gO(de,C.value,O.value))}),qn(s.fallbackLocale,Je=>{x&&(O.value=Je,de.fallbackLocale=Je,gO(de,C.value,O.value))})),{id:lq,locale:He,fallbackLocale:je,get inheritLocale(){return x},set inheritLocale(Je){x=Je,Je&&s&&(C.value=s.locale.value,O.value=s.fallbackLocale.value,gO(de,C.value,O.value))},get availableLocales(){return Object.keys(R.value).sort()},messages:st,get modifiers(){return fe},get pluralRules(){return j||{}},get isGlobal(){return f},get missingWarn(){return D},set missingWarn(Je){D=Je,de.missingWarn=D},get fallbackWarn(){return N},set fallbackWarn(Je){N=Je,de.fallbackWarn=N},get fallbackRoot(){return H},set fallbackRoot(Je){H=Je},get fallbackFormat(){return V},set fallbackFormat(Je){V=Je,de.fallbackFormat=V},get warnHtmlMessage(){return X},set warnHtmlMessage(Je){X=Je,de.warnHtmlMessage=Je},get escapeParameter(){return Se},set escapeParameter(Je){Se=Je,de.escapeParameter=Je},t:tn,getLocaleMessage:ct,setLocaleMessage:_n,mergeLocaleMessage:Vn,getPostTranslationHandler:Oe,setPostTranslationHandler:Be,getMissingHandler:P,setMissingHandler:St,[xge]:un}}function kge(n={}){const s=bd(n.globalInjection)?n.globalInjection:!0,c=new Map,[f,g]=Ege(n),h=CX("");function x(D){return c.get(D)||null}function C(D,N){c.set(D,N)}function O(D){c.delete(D)}const R={get mode(){return"composition"},async install(D,...N){if(D.__VUE_I18N_SYMBOL__=h,D.provide(D.__VUE_I18N_SYMBOL__,R),Eu(N[0])){const Z=N[0];R.__composerExtend=Z.__composerExtend,R.__vueI18nExtend=Z.__vueI18nExtend}let H=null;s&&(H=Tge(D,R.global));const V=D.unmount;D.unmount=()=>{H&&H(),R.dispose(),V()}},get global(){return g},dispose(){f.stop()},__instances:c,__getInstance:x,__setInstance:C,__deleteInstance:O};return R}function Ege(n,s){const c=Fy(),f=c.run(()=>Sge(n));if(f==null)throw jB(ZB.UNEXPECTED_ERROR);return[c,f]}const Age=["locale","fallbackLocale","availableLocales"],uq=["t"];function Tge(n,s){const c=Object.create(null);return Age.forEach(g=>{const h=Object.getOwnPropertyDescriptor(s,g);if(!h)throw jB(ZB.UNEXPECTED_ERROR);const x=ja(h.value)?{get(){return h.value.value},set(C){h.value.value=C}}:{get(){return h.get&&h.get()}};Object.defineProperty(c,g,x)}),n.config.globalProperties.$i18n=c,uq.forEach(g=>{const h=Object.getOwnPropertyDescriptor(s,g);if(!h||!h.value)throw jB(ZB.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${g}`,h)}),()=>{delete n.config.globalProperties.$i18n,uq.forEach(g=>{delete n.config.globalProperties[`$${g}`]})}}yge();Xme(Hme);if(__INTLIFY_PROD_DEVTOOLS__){const n=oU();n.__INTLIFY__=!0,zme(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const uz=n=>n&&typeof n=="object"&&!Array.isArray(n),dV=(n,...s)=>{if(!s.length)return n;const c=s.shift();if(uz(n)&&uz(c))for(const f in c)uz(c[f])?(n[f]||Object.assign(n,{[f]:{}}),dV(n[f],c[f])):Object.assign(n,{[f]:c[f]});return dV(n,...s)},Oge=dV({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schließen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schließen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung (PDF)"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wörter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswählen"}},alertsMessage:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Nachricht"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Nachrichten"}]}]}},alertsSupervisionMessage:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Nachricht der Aufsicht"},{t:2,i:[{t:3}],s:"Nachrichten der Aufsicht"}]}},annotationDelete:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung "},{t:5,i:0},{t:3,v:" löschen"}]}},annotationForMark:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},annotationsNoContentSelected:{t:0,b:{t:2,i:[{t:3}],s:"Das angezeigte Material kann nicht mit Anmerkungen versehen werden."}},appBarInterrupt:{t:0,b:{t:2,i:[{t:3}],s:"Unterbrechen"}},appBarReview:{t:0,b:{t:2,i:[{t:3}],s:"Vorschau zur Abgabe"}},editEssayHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Abgabe-Text"}},editNoteHiddenField:{t:0,b:{t:2,i:[{t:3,v:"Verborgenes Feld zu "},{t:5,i:0}]}},editSelectCounterHide:{t:0,b:{t:2,i:[{t:3}],s:"Zähler verbergen"}},editSelectCounterShow:{t:0,b:{t:2,i:[{t:3}],s:"Zähler anzeigen"}},editSelectEditNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen bearbeiten"}},editSelectEditNote:{t:0,b:{t:2,i:[{t:3,v:"Notiz "},{t:5,i:0},{t:3,v:" bearbeiten"}]}},editSelectEditText:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text bearbeiten"}},editSelectNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},editSelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text"}},editSelectZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Editor Text verkleinern"}},editSelectZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Editor Text vergrößern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schließen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswählen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rückgängig machen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Editor"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Editor"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Header Schaltflächen"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Navigationsleiste Schaltflächen"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwärts und aufwärts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nächstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schließen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat wählen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenkombination"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflächen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrößern"}},mainContentCopyPrevented:{t:0,b:{t:2,i:[{t:3}],s:"Sie können nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfügen."}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewählt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewählt"}},reviewContentAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Zur Bewertung abgeben"}},reviewContentCallSupervisionForHelp:{t:0,b:{t:2,i:[{t:3}],s:"Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten."}},reviewContentCallSupervisionToAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben."}},reviewContentContinueEditing:{t:0,b:{t:2,i:[{t:3}],s:"Weiter bearbeiten"}},reviewContentDontAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Meine Bearbeitung nicht bewerten"}},reviewContentAuthorizationFinishes:{t:0,b:{t:2,i:[{t:3}],s:"Nach der Abgabe ist keine weitere Bearbeitung mehr möglich."}},reviewContentEditingPrevented:{t:0,b:{t:2,i:[{t:3}],s:"Es ist keine weitere Eingabe möglich."}},reviewContentExcluded:{t:0,b:{t:2,i:[{t:3}],s:"Sie wurden von der Bearbeitung ausgeschlossen."}},reviewContentLeaveAndTryLater:{t:0,b:{t:2,i:[{t:3}],s:"Sie können die Klausur auch ohne Übertragung verlassen und später wieder aufrufen, um die Übertragung nachzuholen."}},reviewContentLeaveWithoutSending:{t:0,b:{t:2,i:[{t:3}],s:"Ohne Übertragung verlassen"}},reviewContentNetworkProblem:{t:0,b:{t:2,i:[{t:3}],s:"Bei der Übertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert."}},reviewContentNotesWillBePurged:{t:0,b:{t:2,i:[{t:3}],s:"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext."}},reviewContentNotYetSent:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten Eingaben wurden noch nicht übertragen, sind aber lokal gesichert!"}},reviewContentPleaseCheckText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte überprüfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben möchten."}},reviewContentYouMayScroll:{t:0,b:{t:2,i:[{t:3}],s:"Eventuell müssen Sie scrollen um alle Teile ihres Textes sehen zu können!"}},reviewContentTimeOver:{t:0,b:{t:2,i:[{t:3}],s:"Ihre Bearbeitungszeit ist beendet"}},reviewContentTryAgain:{t:0,b:{t:2,i:[{t:3}],s:"Erneut versuchen"}},reviewContentTryAgainLater:{t:0,b:{t:2,i:[{t:3}],s:"Bitte versuchen Sie die Übertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht."}},sendingStatusError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Übertragen ist ein Fehler aufgetreten!"}},sendingStatusExport:{t:0,b:{t:2,i:[{t:3}],s:"Exportieren"}},sendingStatusLastBrowserSave:{t:0,b:{t:2,i:[{t:3}],s:"Letzte Speicherung im Browser:"}},sendingStatusLastSending:{t:0,b:{t:2,i:[{t:3}],s:"Letzte Übertragung ins System:"}},sendingStatusNone:{t:0,b:{t:2,i:[{t:3}],s:"keine"}},sendingStatusNumNotSent:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" noch nicht übertragen"}]}},sendingStatusOpenSendings:{t:0,b:{t:2,i:[{t:3}],s:"Noch Änderungen zu senden"}},sendingStatusOtherChanges:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen, Notizen, Einstellungen"}},sendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Übertragen"}},sendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"Übertrage..."}},sendingStatusAllSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},sendingStatusStatus:{t:0,b:{t:2,i:[{t:3}],s:"Status:"}},sendingStatusWritingSteps:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitungsschritte im Abgabetext"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"Überschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden."}},startupContentOverwriteInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht übertragen wurden. Durch das Laden werden diese Eingaben gelöscht."}},startupContentOverwriteQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Möchten Sie die neue Aufgabe laden?"}},startupContentReloadInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben vorhanden, die noch nicht übertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschließend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser überschrieben."}},startupContentReloadQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Möchten Sie die Eingabe vom System laden?"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Editor"}}}}),iU=kge({locale:"de",messages:Oge});function Dge(n){n.use(Ufe).use(Yfe).use(iU)}var rB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function sB(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dz={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var dq;function Rge(){return dq||(dq=1,function(n,s){(function(c){n.exports=c()})(function(){return function c(f,g,h){function x(R,D){if(!g[R]){if(!f[R]){var N=typeof sB=="function"&&sB;if(!D&&N)return N(R,!0);if(C)return C(R,!0);var H=new Error("Cannot find module '"+R+"'");throw H.code="MODULE_NOT_FOUND",H}var V=g[R]={exports:{}};f[R][0].call(V.exports,function(Z){var te=f[R][1][Z];return x(te||Z)},V,V.exports,c,f,g,h)}return g[R].exports}for(var C=typeof sB=="function"&&sB,O=0;O<h.length;O++)x(h[O]);return x}({1:[function(c,f,g){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,C;if(x){var O=0,R=new x(Z),D=h.document.createTextNode("");R.observe(D,{characterData:!0}),C=function(){D.data=O=++O%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var N=new h.MessageChannel;N.port1.onmessage=Z,C=function(){N.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?C=function(){var ce=h.document.createElement("script");ce.onreadystatechange=function(){Z(),ce.onreadystatechange=null,ce.parentNode.removeChild(ce),ce=null},h.document.documentElement.appendChild(ce)}:C=function(){setTimeout(Z,0)};var H,V=[];function Z(){H=!0;for(var ce,X,Se=V.length;Se;){for(X=V,V=[],ce=-1;++ce<Se;)X[ce]();Se=V.length}H=!1}f.exports=te;function te(ce){V.push(ce)===1&&!H&&C()}}).call(this,typeof rB<"u"?rB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,f,g){var h=c(1);function x(){}var C={},O=["REJECTED"],R=["FULFILLED"],D=["PENDING"];f.exports=N;function N(de){if(typeof de!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,de!==x&&te(this,de)}N.prototype.catch=function(de){return this.then(null,de)},N.prototype.then=function(de,oe){if(typeof de!="function"&&this.state===R||typeof oe!="function"&&this.state===O)return this;var Ue=new this.constructor(x);if(this.state!==D){var He=this.state===R?de:oe;V(Ue,He,this.outcome)}else this.queue.push(new H(Ue,de,oe));return Ue};function H(de,oe,Ue){this.promise=de,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Ue=="function"&&(this.onRejected=Ue,this.callRejected=this.otherCallRejected)}H.prototype.callFulfilled=function(de){C.resolve(this.promise,de)},H.prototype.otherCallFulfilled=function(de){V(this.promise,this.onFulfilled,de)},H.prototype.callRejected=function(de){C.reject(this.promise,de)},H.prototype.otherCallRejected=function(de){V(this.promise,this.onRejected,de)};function V(de,oe,Ue){h(function(){var He;try{He=oe(Ue)}catch(je){return C.reject(de,je)}He===de?C.reject(de,new TypeError("Cannot resolve promise with itself")):C.resolve(de,He)})}C.resolve=function(de,oe){var Ue=ce(Z,oe);if(Ue.status==="error")return C.reject(de,Ue.value);var He=Ue.value;if(He)te(de,He);else{de.state=R,de.outcome=oe;for(var je=-1,st=de.queue.length;++je<st;)de.queue[je].callFulfilled(oe)}return de},C.reject=function(de,oe){de.state=O,de.outcome=oe;for(var Ue=-1,He=de.queue.length;++Ue<He;)de.queue[Ue].callRejected(oe);return de};function Z(de){var oe=de&&de.then;if(de&&(typeof de=="object"||typeof de=="function")&&typeof oe=="function")return function(){oe.apply(de,arguments)}}function te(de,oe){var Ue=!1;function He(Be){Ue||(Ue=!0,C.reject(de,Be))}function je(Be){Ue||(Ue=!0,C.resolve(de,Be))}function st(){oe(je,He)}var Oe=ce(st);Oe.status==="error"&&He(Oe.value)}function ce(de,oe){var Ue={};try{Ue.value=de(oe),Ue.status="success"}catch(He){Ue.status="error",Ue.value=He}return Ue}N.resolve=X;function X(de){return de instanceof this?de:C.resolve(new this(x),de)}N.reject=Se;function Se(de){var oe=new this(x);return C.reject(oe,de)}N.all=fe;function fe(de){var oe=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=de.length,He=!1;if(!Ue)return this.resolve([]);for(var je=new Array(Ue),st=0,Oe=-1,Be=new this(x);++Oe<Ue;)P(de[Oe],Oe);return Be;function P(St,Mt){oe.resolve(St).then(tn,function(un){He||(He=!0,C.reject(Be,un))});function tn(un){je[Mt]=un,++st===Ue&&!He&&(He=!0,C.resolve(Be,je))}}}N.race=j;function j(de){var oe=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=de.length,He=!1;if(!Ue)return this.resolve([]);for(var je=-1,st=new this(x);++je<Ue;)Oe(de[je]);return st;function Oe(Be){oe.resolve(Be).then(function(P){He||(He=!0,C.resolve(st,P))},function(P){He||(He=!0,C.reject(st,P))})}}},{1:1}],3:[function(c,f,g){(function(h){typeof h.Promise!="function"&&(h.Promise=c(2))}).call(this,typeof rB<"u"?rB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,f,g){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke};function x(ke,tt){if(!(ke instanceof tt))throw new TypeError("Cannot call a class as a function")}function C(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var O=C();function R(){try{if(!O||!O.open)return!1;var ke=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),tt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ke||tt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(ke,tt){ke=ke||[],tt=tt||{};try{return new Blob(ke,tt)}catch(Qe){if(Qe.name!=="TypeError")throw Qe;for(var Le=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,gt=new Le,ut=0;ut<ke.length;ut+=1)gt.append(ke[ut]);return gt.getBlob(tt.type)}}typeof Promise>"u"&&c(3);var N=Promise;function H(ke,tt){tt&&ke.then(function(Le){tt(null,Le)},function(Le){tt(Le)})}function V(ke,tt,Le){typeof tt=="function"&&ke.then(tt),typeof Le=="function"&&ke.catch(Le)}function Z(ke){return typeof ke!="string"&&(console.warn(ke+" used as a key, but it is not a string."),ke=String(ke)),ke}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ce="local-forage-detect-blob-support",X=void 0,Se={},fe=Object.prototype.toString,j="readonly",de="readwrite";function oe(ke){for(var tt=ke.length,Le=new ArrayBuffer(tt),gt=new Uint8Array(Le),ut=0;ut<tt;ut++)gt[ut]=ke.charCodeAt(ut);return Le}function Ue(ke){return new N(function(tt){var Le=ke.transaction(ce,de),gt=D([""]);Le.objectStore(ce).put(gt,"key"),Le.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),tt(!1)},Le.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Qe=navigator.userAgent.match(/Edge\//);tt(Qe||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function He(ke){return typeof X=="boolean"?N.resolve(X):Ue(ke).then(function(tt){return X=tt,X})}function je(ke){var tt=Se[ke.name],Le={};Le.promise=new N(function(gt,ut){Le.resolve=gt,Le.reject=ut}),tt.deferredOperations.push(Le),tt.dbReady?tt.dbReady=tt.dbReady.then(function(){return Le.promise}):tt.dbReady=Le.promise}function st(ke){var tt=Se[ke.name],Le=tt.deferredOperations.pop();if(Le)return Le.resolve(),Le.promise}function Oe(ke,tt){var Le=Se[ke.name],gt=Le.deferredOperations.pop();if(gt)return gt.reject(tt),gt.promise}function Be(ke,tt){return new N(function(Le,gt){if(Se[ke.name]=Se[ke.name]||Je(),ke.db)if(tt)je(ke),ke.db.close();else return Le(ke.db);var ut=[ke.name];tt&&ut.push(ke.version);var Qe=O.open.apply(O,ut);tt&&(Qe.onupgradeneeded=function(zt){var Qt=Qe.result;try{Qt.createObjectStore(ke.storeName),zt.oldVersion<=1&&Qt.createObjectStore(ce)}catch(ln){if(ln.name==="ConstraintError")console.warn('The database "'+ke.name+'" has been upgraded from version '+zt.oldVersion+" to version "+zt.newVersion+', but the storage "'+ke.storeName+'" already exists.');else throw ln}}),Qe.onerror=function(zt){zt.preventDefault(),gt(Qe.error)},Qe.onsuccess=function(){var zt=Qe.result;zt.onversionchange=function(Qt){Qt.target.close()},Le(zt),st(ke)}})}function P(ke){return Be(ke,!1)}function St(ke){return Be(ke,!0)}function Mt(ke,tt){if(!ke.db)return!0;var Le=!ke.db.objectStoreNames.contains(ke.storeName),gt=ke.version<ke.db.version,ut=ke.version>ke.db.version;if(gt&&(ke.version!==tt&&console.warn('The database "'+ke.name+`" can't be downgraded from version `+ke.db.version+" to version "+ke.version+"."),ke.version=ke.db.version),ut||Le){if(Le){var Qe=ke.db.version+1;Qe>ke.version&&(ke.version=Qe)}return!0}return!1}function tn(ke){return new N(function(tt,Le){var gt=new FileReader;gt.onerror=Le,gt.onloadend=function(ut){var Qe=btoa(ut.target.result||"");tt({__local_forage_encoded_blob:!0,data:Qe,type:ke.type})},gt.readAsBinaryString(ke)})}function un(ke){var tt=oe(atob(ke.data));return D([tt],{type:ke.type})}function ct(ke){return ke&&ke.__local_forage_encoded_blob}function _n(ke){var tt=this,Le=tt._initReady().then(function(){var gt=Se[tt._dbInfo.name];if(gt&&gt.dbReady)return gt.dbReady});return V(Le,ke,ke),Le}function Vn(ke){je(ke);for(var tt=Se[ke.name],Le=tt.forages,gt=0;gt<Le.length;gt++){var ut=Le[gt];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return ke.db=null,P(ke).then(function(Qe){return ke.db=Qe,Mt(ke)?St(ke):Qe}).then(function(Qe){ke.db=tt.db=Qe;for(var zt=0;zt<Le.length;zt++)Le[zt]._dbInfo.db=Qe}).catch(function(Qe){throw Oe(ke,Qe),Qe})}function Lt(ke,tt,Le,gt){gt===void 0&&(gt=1);try{var ut=ke.db.transaction(ke.storeName,tt);Le(null,ut)}catch(Qe){if(gt>0&&(!ke.db||Qe.name==="InvalidStateError"||Qe.name==="NotFoundError"))return N.resolve().then(function(){if(!ke.db||Qe.name==="NotFoundError"&&!ke.db.objectStoreNames.contains(ke.storeName)&&ke.version<=ke.db.version)return ke.db&&(ke.version=ke.db.version+1),St(ke)}).then(function(){return Vn(ke).then(function(){Lt(ke,tt,Le,gt-1)})}).catch(Le);Le(Qe)}}function Je(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Tt(ke){var tt=this,Le={db:null};if(ke)for(var gt in ke)Le[gt]=ke[gt];var ut=Se[Le.name];ut||(ut=Je(),Se[Le.name]=ut),ut.forages.push(tt),tt._initReady||(tt._initReady=tt.ready,tt.ready=_n);var Qe=[];function zt(){return N.resolve()}for(var Qt=0;Qt<ut.forages.length;Qt++){var ln=ut.forages[Qt];ln!==tt&&Qe.push(ln._initReady().catch(zt))}var hn=ut.forages.slice(0);return N.all(Qe).then(function(){return Le.db=ut.db,P(Le)}).then(function(sn){return Le.db=sn,Mt(Le,tt._defaultConfig.version)?St(Le):sn}).then(function(sn){Le.db=ut.db=sn,tt._dbInfo=Le;for(var fo=0;fo<hn.length;fo++){var nn=hn[fo];nn!==tt&&(nn._dbInfo.db=Le.db,nn._dbInfo.version=Le.version)}})}function Gn(ke,tt){var Le=this;ke=Z(ke);var gt=new N(function(ut,Qe){Le.ready().then(function(){Lt(Le._dbInfo,j,function(zt,Qt){if(zt)return Qe(zt);try{var ln=Qt.objectStore(Le._dbInfo.storeName),hn=ln.get(ke);hn.onsuccess=function(){var sn=hn.result;sn===void 0&&(sn=null),ct(sn)&&(sn=un(sn)),ut(sn)},hn.onerror=function(){Qe(hn.error)}}catch(sn){Qe(sn)}})}).catch(Qe)});return H(gt,tt),gt}function jn(ke,tt){var Le=this,gt=new N(function(ut,Qe){Le.ready().then(function(){Lt(Le._dbInfo,j,function(zt,Qt){if(zt)return Qe(zt);try{var ln=Qt.objectStore(Le._dbInfo.storeName),hn=ln.openCursor(),sn=1;hn.onsuccess=function(){var fo=hn.result;if(fo){var nn=fo.value;ct(nn)&&(nn=un(nn));var hr=ke(nn,fo.key,sn++);hr!==void 0?ut(hr):fo.continue()}else ut()},hn.onerror=function(){Qe(hn.error)}}catch(fo){Qe(fo)}})}).catch(Qe)});return H(gt,tt),gt}function Xn(ke,tt,Le){var gt=this;ke=Z(ke);var ut=new N(function(Qe,zt){var Qt;gt.ready().then(function(){return Qt=gt._dbInfo,fe.call(tt)==="[object Blob]"?He(Qt.db).then(function(ln){return ln?tt:tn(tt)}):tt}).then(function(ln){Lt(gt._dbInfo,de,function(hn,sn){if(hn)return zt(hn);try{var fo=sn.objectStore(gt._dbInfo.storeName);ln===null&&(ln=void 0);var nn=fo.put(ln,ke);sn.oncomplete=function(){ln===void 0&&(ln=null),Qe(ln)},sn.onabort=sn.onerror=function(){var hr=nn.error?nn.error:nn.transaction.error;zt(hr)}}catch(hr){zt(hr)}})}).catch(zt)});return H(ut,Le),ut}function gn(ke,tt){var Le=this;ke=Z(ke);var gt=new N(function(ut,Qe){Le.ready().then(function(){Lt(Le._dbInfo,de,function(zt,Qt){if(zt)return Qe(zt);try{var ln=Qt.objectStore(Le._dbInfo.storeName),hn=ln.delete(ke);Qt.oncomplete=function(){ut()},Qt.onerror=function(){Qe(hn.error)},Qt.onabort=function(){var sn=hn.error?hn.error:hn.transaction.error;Qe(sn)}}catch(sn){Qe(sn)}})}).catch(Qe)});return H(gt,tt),gt}function Q(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){Lt(tt._dbInfo,de,function(Qe,zt){if(Qe)return ut(Qe);try{var Qt=zt.objectStore(tt._dbInfo.storeName),ln=Qt.clear();zt.oncomplete=function(){gt()},zt.onabort=zt.onerror=function(){var hn=ln.error?ln.error:ln.transaction.error;ut(hn)}}catch(hn){ut(hn)}})}).catch(ut)});return H(Le,ke),Le}function gr(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){Lt(tt._dbInfo,j,function(Qe,zt){if(Qe)return ut(Qe);try{var Qt=zt.objectStore(tt._dbInfo.storeName),ln=Qt.count();ln.onsuccess=function(){gt(ln.result)},ln.onerror=function(){ut(ln.error)}}catch(hn){ut(hn)}})}).catch(ut)});return H(Le,ke),Le}function $o(ke,tt){var Le=this,gt=new N(function(ut,Qe){if(ke<0){ut(null);return}Le.ready().then(function(){Lt(Le._dbInfo,j,function(zt,Qt){if(zt)return Qe(zt);try{var ln=Qt.objectStore(Le._dbInfo.storeName),hn=!1,sn=ln.openKeyCursor();sn.onsuccess=function(){var fo=sn.result;if(!fo){ut(null);return}ke===0||hn?ut(fo.key):(hn=!0,fo.advance(ke))},sn.onerror=function(){Qe(sn.error)}}catch(fo){Qe(fo)}})}).catch(Qe)});return H(gt,tt),gt}function Do(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){Lt(tt._dbInfo,j,function(Qe,zt){if(Qe)return ut(Qe);try{var Qt=zt.objectStore(tt._dbInfo.storeName),ln=Qt.openKeyCursor(),hn=[];ln.onsuccess=function(){var sn=ln.result;if(!sn){gt(hn);return}hn.push(sn.key),sn.continue()},ln.onerror=function(){ut(ln.error)}}catch(sn){ut(sn)}})}).catch(ut)});return H(Le,ke),Le}function Ye(ke,tt){tt=te.apply(this,arguments);var Le=this.config();ke=typeof ke!="function"&&ke||{},ke.name||(ke.name=ke.name||Le.name,ke.storeName=ke.storeName||Le.storeName);var gt=this,ut;if(!ke.name)ut=N.reject("Invalid arguments");else{var Qe=ke.name===Le.name&&gt._dbInfo.db,zt=Qe?N.resolve(gt._dbInfo.db):P(ke).then(function(Qt){var ln=Se[ke.name],hn=ln.forages;ln.db=Qt;for(var sn=0;sn<hn.length;sn++)hn[sn]._dbInfo.db=Qt;return Qt});ke.storeName?ut=zt.then(function(Qt){if(Qt.objectStoreNames.contains(ke.storeName)){var ln=Qt.version+1;je(ke);var hn=Se[ke.name],sn=hn.forages;Qt.close();for(var fo=0;fo<sn.length;fo++){var nn=sn[fo];nn._dbInfo.db=null,nn._dbInfo.version=ln}var hr=new N(function(Ro,Ho){var ks=O.open(ke.name,ln);ks.onerror=function(xo){var Ll=ks.result;Ll.close(),Ho(xo)},ks.onupgradeneeded=function(){var xo=ks.result;xo.deleteObjectStore(ke.storeName)},ks.onsuccess=function(){var xo=ks.result;xo.close(),Ro(xo)}});return hr.then(function(Ro){hn.db=Ro;for(var Ho=0;Ho<sn.length;Ho++){var ks=sn[Ho];ks._dbInfo.db=Ro,st(ks._dbInfo)}}).catch(function(Ro){throw(Oe(ke,Ro)||N.resolve()).catch(function(){}),Ro})}}):ut=zt.then(function(Qt){je(ke);var ln=Se[ke.name],hn=ln.forages;Qt.close();for(var sn=0;sn<hn.length;sn++){var fo=hn[sn];fo._dbInfo.db=null}var nn=new N(function(hr,Ro){var Ho=O.deleteDatabase(ke.name);Ho.onerror=function(){var ks=Ho.result;ks&&ks.close(),Ro(Ho.error)},Ho.onblocked=function(){console.warn('dropInstance blocked for database "'+ke.name+'" until all open connections are closed')},Ho.onsuccess=function(){var ks=Ho.result;ks&&ks.close(),hr(ks)}});return nn.then(function(hr){ln.db=hr;for(var Ro=0;Ro<hn.length;Ro++){var Ho=hn[Ro];st(Ho._dbInfo)}}).catch(function(hr){throw(Oe(ke,hr)||N.resolve()).catch(function(){}),hr})})}return H(ut,tt),ut}var it={_driver:"asyncStorage",_initStorage:Tt,_support:R(),iterate:jn,getItem:Gn,setItem:Xn,removeItem:gn,clear:Q,length:gr,key:$o,keys:Do,dropInstance:Ye};function be(){return typeof openDatabase=="function"}var Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,Ce="__lfsc__:",De=Ce.length,We="arbf",dt="blob",on="si08",Ft="ui08",vn="uic8",Mn="si16",zn="si32",_o="ur16",yo="ui32",Fr="fl32",Yo="fl64",Us=De+We.length,ar=Object.prototype.toString;function Pa(ke){var tt=ke.length*.75,Le=ke.length,gt,ut=0,Qe,zt,Qt,ln;ke[ke.length-1]==="="&&(tt--,ke[ke.length-2]==="="&&tt--);var hn=new ArrayBuffer(tt),sn=new Uint8Array(hn);for(gt=0;gt<Le;gt+=4)Qe=Ae.indexOf(ke[gt]),zt=Ae.indexOf(ke[gt+1]),Qt=Ae.indexOf(ke[gt+2]),ln=Ae.indexOf(ke[gt+3]),sn[ut++]=Qe<<2|zt>>4,sn[ut++]=(zt&15)<<4|Qt>>2,sn[ut++]=(Qt&3)<<6|ln&63;return hn}function yn(ke){var tt=new Uint8Array(ke),Le="",gt;for(gt=0;gt<tt.length;gt+=3)Le+=Ae[tt[gt]>>2],Le+=Ae[(tt[gt]&3)<<4|tt[gt+1]>>4],Le+=Ae[(tt[gt+1]&15)<<2|tt[gt+2]>>6],Le+=Ae[tt[gt+2]&63];return tt.length%3===2?Le=Le.substring(0,Le.length-1)+"=":tt.length%3===1&&(Le=Le.substring(0,Le.length-2)+"=="),Le}function no(ke,tt){var Le="";if(ke&&(Le=ar.call(ke)),ke&&(Le==="[object ArrayBuffer]"||ke.buffer&&ar.call(ke.buffer)==="[object ArrayBuffer]")){var gt,ut=Ce;ke instanceof ArrayBuffer?(gt=ke,ut+=We):(gt=ke.buffer,Le==="[object Int8Array]"?ut+=on:Le==="[object Uint8Array]"?ut+=Ft:Le==="[object Uint8ClampedArray]"?ut+=vn:Le==="[object Int16Array]"?ut+=Mn:Le==="[object Uint16Array]"?ut+=_o:Le==="[object Int32Array]"?ut+=zn:Le==="[object Uint32Array]"?ut+=yo:Le==="[object Float32Array]"?ut+=Fr:Le==="[object Float64Array]"?ut+=Yo:tt(new Error("Failed to get type for BinaryArray"))),tt(ut+yn(gt))}else if(Le==="[object Blob]"){var Qe=new FileReader;Qe.onload=function(){var zt=Fe+ke.type+"~"+yn(this.result);tt(Ce+dt+zt)},Qe.readAsArrayBuffer(ke)}else try{tt(JSON.stringify(ke))}catch(zt){console.error("Couldn't convert value into a JSON string: ",ke),tt(null,zt)}}function bo(ke){if(ke.substring(0,De)!==Ce)return JSON.parse(ke);var tt=ke.substring(Us),Le=ke.substring(De,Us),gt;if(Le===dt&&pe.test(tt)){var ut=tt.match(pe);gt=ut[1],tt=tt.substring(ut[0].length)}var Qe=Pa(tt);switch(Le){case We:return Qe;case dt:return D([Qe],{type:gt});case on:return new Int8Array(Qe);case Ft:return new Uint8Array(Qe);case vn:return new Uint8ClampedArray(Qe);case Mn:return new Int16Array(Qe);case _o:return new Uint16Array(Qe);case zn:return new Int32Array(Qe);case yo:return new Uint32Array(Qe);case Fr:return new Float32Array(Qe);case Yo:return new Float64Array(Qe);default:throw new Error("Unkown type: "+Le)}}var Xs={serialize:no,deserialize:bo,stringToBuffer:Pa,bufferToString:yn};function Wi(ke,tt,Le,gt){ke.executeSql("CREATE TABLE IF NOT EXISTS "+tt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Le,gt)}function Zt(ke){var tt=this,Le={db:null};if(ke)for(var gt in ke)Le[gt]=typeof ke[gt]!="string"?ke[gt].toString():ke[gt];var ut=new N(function(Qe,zt){try{Le.db=openDatabase(Le.name,String(Le.version),Le.description,Le.size)}catch(Qt){return zt(Qt)}Le.db.transaction(function(Qt){Wi(Qt,Le,function(){tt._dbInfo=Le,Qe()},function(ln,hn){zt(hn)})},zt)});return Le.serializer=Xs,ut}function sa(ke,tt,Le,gt,ut,Qe){ke.executeSql(Le,gt,ut,function(zt,Qt){Qt.code===Qt.SYNTAX_ERR?zt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[tt.storeName],function(ln,hn){hn.rows.length?Qe(ln,Qt):Wi(ln,tt,function(){ln.executeSql(Le,gt,ut,Qe)},Qe)},Qe):Qe(zt,Qt)},Qe)}function Xo(ke,tt){var Le=this;ke=Z(ke);var gt=new N(function(ut,Qe){Le.ready().then(function(){var zt=Le._dbInfo;zt.db.transaction(function(Qt){sa(Qt,zt,"SELECT * FROM "+zt.storeName+" WHERE key = ? LIMIT 1",[ke],function(ln,hn){var sn=hn.rows.length?hn.rows.item(0).value:null;sn&&(sn=zt.serializer.deserialize(sn)),ut(sn)},function(ln,hn){Qe(hn)})})}).catch(Qe)});return H(gt,tt),gt}function Il(ke,tt){var Le=this,gt=new N(function(ut,Qe){Le.ready().then(function(){var zt=Le._dbInfo;zt.db.transaction(function(Qt){sa(Qt,zt,"SELECT * FROM "+zt.storeName,[],function(ln,hn){for(var sn=hn.rows,fo=sn.length,nn=0;nn<fo;nn++){var hr=sn.item(nn),Ro=hr.value;if(Ro&&(Ro=zt.serializer.deserialize(Ro)),Ro=ke(Ro,hr.key,nn+1),Ro!==void 0){ut(Ro);return}}ut()},function(ln,hn){Qe(hn)})})}).catch(Qe)});return H(gt,tt),gt}function Pr(ke,tt,Le,gt){var ut=this;ke=Z(ke);var Qe=new N(function(zt,Qt){ut.ready().then(function(){tt===void 0&&(tt=null);var ln=tt,hn=ut._dbInfo;hn.serializer.serialize(tt,function(sn,fo){fo?Qt(fo):hn.db.transaction(function(nn){sa(nn,hn,"INSERT OR REPLACE INTO "+hn.storeName+" (key, value) VALUES (?, ?)",[ke,sn],function(){zt(ln)},function(hr,Ro){Qt(Ro)})},function(nn){if(nn.code===nn.QUOTA_ERR){if(gt>0){zt(Pr.apply(ut,[ke,ln,Le,gt-1]));return}Qt(nn)}})})}).catch(Qt)});return H(Qe,Le),Qe}function Ws(ke,tt,Le){return Pr.apply(this,[ke,tt,Le,1])}function cm(ke,tt){var Le=this;ke=Z(ke);var gt=new N(function(ut,Qe){Le.ready().then(function(){var zt=Le._dbInfo;zt.db.transaction(function(Qt){sa(Qt,zt,"DELETE FROM "+zt.storeName+" WHERE key = ?",[ke],function(){ut()},function(ln,hn){Qe(hn)})})}).catch(Qe)});return H(gt,tt),gt}function Ou(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){var Qe=tt._dbInfo;Qe.db.transaction(function(zt){sa(zt,Qe,"DELETE FROM "+Qe.storeName,[],function(){gt()},function(Qt,ln){ut(ln)})})}).catch(ut)});return H(Le,ke),Le}function pc(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){var Qe=tt._dbInfo;Qe.db.transaction(function(zt){sa(zt,Qe,"SELECT COUNT(key) as c FROM "+Qe.storeName,[],function(Qt,ln){var hn=ln.rows.item(0).c;gt(hn)},function(Qt,ln){ut(ln)})})}).catch(ut)});return H(Le,ke),Le}function ll(ke,tt){var Le=this,gt=new N(function(ut,Qe){Le.ready().then(function(){var zt=Le._dbInfo;zt.db.transaction(function(Qt){sa(Qt,zt,"SELECT key FROM "+zt.storeName+" WHERE id = ? LIMIT 1",[ke+1],function(ln,hn){var sn=hn.rows.length?hn.rows.item(0).key:null;ut(sn)},function(ln,hn){Qe(hn)})})}).catch(Qe)});return H(gt,tt),gt}function Du(ke){var tt=this,Le=new N(function(gt,ut){tt.ready().then(function(){var Qe=tt._dbInfo;Qe.db.transaction(function(zt){sa(zt,Qe,"SELECT key FROM "+Qe.storeName,[],function(Qt,ln){for(var hn=[],sn=0;sn<ln.rows.length;sn++)hn.push(ln.rows.item(sn).key);gt(hn)},function(Qt,ln){ut(ln)})})}).catch(ut)});return H(Le,ke),Le}function wr(ke){return new N(function(tt,Le){ke.transaction(function(gt){gt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Qe){for(var zt=[],Qt=0;Qt<Qe.rows.length;Qt++)zt.push(Qe.rows.item(Qt).name);tt({db:ke,storeNames:zt})},function(ut,Qe){Le(Qe)})},function(gt){Le(gt)})})}function oo(ke,tt){tt=te.apply(this,arguments);var Le=this.config();ke=typeof ke!="function"&&ke||{},ke.name||(ke.name=ke.name||Le.name,ke.storeName=ke.storeName||Le.storeName);var gt=this,ut;return ke.name?ut=new N(function(Qe){var zt;ke.name===Le.name?zt=gt._dbInfo.db:zt=openDatabase(ke.name,"","",0),ke.storeName?Qe({db:zt,storeNames:[ke.storeName]}):Qe(wr(zt))}).then(function(Qe){return new N(function(zt,Qt){Qe.db.transaction(function(ln){function hn(hr){return new N(function(Ro,Ho){ln.executeSql("DROP TABLE IF EXISTS "+hr,[],function(){Ro()},function(ks,xo){Ho(xo)})})}for(var sn=[],fo=0,nn=Qe.storeNames.length;fo<nn;fo++)sn.push(hn(Qe.storeNames[fo]));N.all(sn).then(function(){zt()}).catch(function(hr){Qt(hr)})},function(ln){Qt(ln)})})}):ut=N.reject("Invalid arguments"),H(ut,tt),ut}var Pl={_driver:"webSQLStorage",_initStorage:Zt,_support:be(),iterate:Il,getItem:Xo,setItem:Ws,removeItem:cm,clear:Ou,length:pc,key:ll,keys:Du,dropInstance:oo};function xa(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ru(ke,tt){var Le=ke.name+"/";return ke.storeName!==tt.storeName&&(Le+=ke.storeName+"/"),Le}function rn(){var ke="_localforage_support_test";try{return localStorage.setItem(ke,!0),localStorage.removeItem(ke),!1}catch{return!0}}function Nu(){return!rn()||localStorage.length>0}function um(ke){var tt=this,Le={};if(ke)for(var gt in ke)Le[gt]=ke[gt];return Le.keyPrefix=Ru(ke,tt._defaultConfig),Nu()?(tt._dbInfo=Le,Le.serializer=Xs,N.resolve()):N.reject()}function ss(ke){var tt=this,Le=tt.ready().then(function(){for(var gt=tt._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Qe=localStorage.key(ut);Qe.indexOf(gt)===0&&localStorage.removeItem(Qe)}});return H(Le,ke),Le}function dm(ke,tt){var Le=this;ke=Z(ke);var gt=Le.ready().then(function(){var ut=Le._dbInfo,Qe=localStorage.getItem(ut.keyPrefix+ke);return Qe&&(Qe=ut.serializer.deserialize(Qe)),Qe});return H(gt,tt),gt}function Zi(ke,tt){var Le=this,gt=Le.ready().then(function(){for(var ut=Le._dbInfo,Qe=ut.keyPrefix,zt=Qe.length,Qt=localStorage.length,ln=1,hn=0;hn<Qt;hn++){var sn=localStorage.key(hn);if(sn.indexOf(Qe)===0){var fo=localStorage.getItem(sn);if(fo&&(fo=ut.serializer.deserialize(fo)),fo=ke(fo,sn.substring(zt),ln++),fo!==void 0)return fo}}});return H(gt,tt),gt}function Sl(ke,tt){var Le=this,gt=Le.ready().then(function(){var ut=Le._dbInfo,Qe;try{Qe=localStorage.key(ke)}catch{Qe=null}return Qe&&(Qe=Qe.substring(ut.keyPrefix.length)),Qe});return H(gt,tt),gt}function cl(ke){var tt=this,Le=tt.ready().then(function(){for(var gt=tt._dbInfo,ut=localStorage.length,Qe=[],zt=0;zt<ut;zt++){var Qt=localStorage.key(zt);Qt.indexOf(gt.keyPrefix)===0&&Qe.push(Qt.substring(gt.keyPrefix.length))}return Qe});return H(Le,ke),Le}function Xr(ke){var tt=this,Le=tt.keys().then(function(gt){return gt.length});return H(Le,ke),Le}function fi(ke,tt){var Le=this;ke=Z(ke);var gt=Le.ready().then(function(){var ut=Le._dbInfo;localStorage.removeItem(ut.keyPrefix+ke)});return H(gt,tt),gt}function kl(ke,tt,Le){var gt=this;ke=Z(ke);var ut=gt.ready().then(function(){tt===void 0&&(tt=null);var Qe=tt;return new N(function(zt,Qt){var ln=gt._dbInfo;ln.serializer.serialize(tt,function(hn,sn){if(sn)Qt(sn);else try{localStorage.setItem(ln.keyPrefix+ke,hn),zt(Qe)}catch(fo){(fo.name==="QuotaExceededError"||fo.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Qt(fo),Qt(fo)}})})});return H(ut,Le),ut}function fm(ke,tt){if(tt=te.apply(this,arguments),ke=typeof ke!="function"&&ke||{},!ke.name){var Le=this.config();ke.name=ke.name||Le.name,ke.storeName=ke.storeName||Le.storeName}var gt=this,ut;return ke.name?ut=new N(function(Qe){ke.storeName?Qe(Ru(ke,gt._defaultConfig)):Qe(ke.name+"/")}).then(function(Qe){for(var zt=localStorage.length-1;zt>=0;zt--){var Qt=localStorage.key(zt);Qt.indexOf(Qe)===0&&localStorage.removeItem(Qt)}}):ut=N.reject("Invalid arguments"),H(ut,tt),ut}var Zc={_driver:"localStorageWrapper",_initStorage:um,_support:xa(),iterate:Zi,getItem:dm,setItem:kl,removeItem:fi,clear:ss,length:Xr,key:Sl,keys:cl,dropInstance:fm},jc=function(tt,Le){return tt===Le||typeof tt=="number"&&typeof Le=="number"&&isNaN(tt)&&isNaN(Le)},lf=function(tt,Le){for(var gt=tt.length,ut=0;ut<gt;){if(jc(tt[ut],Le))return!0;ut++}return!1},xd=Array.isArray||function(ke){return Object.prototype.toString.call(ke)==="[object Array]"},Jo={},Ss={},Js={INDEXEDDB:it,WEBSQL:Pl,LOCALSTORAGE:Zc},mm=[Js.INDEXEDDB._driver,Js.WEBSQL._driver,Js.LOCALSTORAGE._driver],ji=["dropInstance"],Kc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ji),mi={description:"",driver:mm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function gi(ke,tt){ke[tt]=function(){var Le=arguments;return ke.ready().then(function(){return ke[tt].apply(ke,Le)})}}function qc(){for(var ke=1;ke<arguments.length;ke++){var tt=arguments[ke];if(tt)for(var Le in tt)tt.hasOwnProperty(Le)&&(xd(tt[Le])?arguments[0][Le]=tt[Le].slice():arguments[0][Le]=tt[Le])}return arguments[0]}var Er=function(){function ke(tt){x(this,ke);for(var Le in Js)if(Js.hasOwnProperty(Le)){var gt=Js[Le],ut=gt._driver;this[Le]=ut,Jo[ut]||this.defineDriver(gt)}this._defaultConfig=qc({},mi),this._config=qc({},this._defaultConfig,tt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ke.prototype.config=function(Le){if((typeof Le>"u"?"undefined":h(Le))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var gt in Le){if(gt==="storeName"&&(Le[gt]=Le[gt].replace(/\W/g,"_")),gt==="version"&&typeof Le[gt]!="number")return new Error("Database version must be a number.");this._config[gt]=Le[gt]}return"driver"in Le&&Le.driver?this.setDriver(this._config.driver):!0}else return typeof Le=="string"?this._config[Le]:this._config},ke.prototype.defineDriver=function(Le,gt,ut){var Qe=new N(function(zt,Qt){try{var ln=Le._driver,hn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Le._driver){Qt(hn);return}for(var sn=Kc.concat("_initStorage"),fo=0,nn=sn.length;fo<nn;fo++){var hr=sn[fo],Ro=!lf(ji,hr);if((Ro||Le[hr])&&typeof Le[hr]!="function"){Qt(hn);return}}var Ho=function(){for(var Ll=function(ps){return function(){var cf=new Error("Method "+ps+" is not implemented by the current driver"),Zs=N.reject(cf);return H(Zs,arguments[arguments.length-1]),Zs}},hi=0,ao=ji.length;hi<ao;hi++){var Ki=ji[hi];Le[Ki]||(Le[Ki]=Ll(Ki))}};Ho();var ks=function(Ll){Jo[ln]&&console.info("Redefining LocalForage driver: "+ln),Jo[ln]=Le,Ss[ln]=Ll,zt()};"_support"in Le?Le._support&&typeof Le._support=="function"?Le._support().then(ks,Qt):ks(!!Le._support):ks(!0)}catch(xo){Qt(xo)}});return V(Qe,gt,ut),Qe},ke.prototype.driver=function(){return this._driver||null},ke.prototype.getDriver=function(Le,gt,ut){var Qe=Jo[Le]?N.resolve(Jo[Le]):N.reject(new Error("Driver not found."));return V(Qe,gt,ut),Qe},ke.prototype.getSerializer=function(Le){var gt=N.resolve(Xs);return V(gt,Le),gt},ke.prototype.ready=function(Le){var gt=this,ut=gt._driverSet.then(function(){return gt._ready===null&&(gt._ready=gt._initDriver()),gt._ready});return V(ut,Le,Le),ut},ke.prototype.setDriver=function(Le,gt,ut){var Qe=this;xd(Le)||(Le=[Le]);var zt=this._getSupportedDrivers(Le);function Qt(){Qe._config.driver=Qe.driver()}function ln(fo){return Qe._extend(fo),Qt(),Qe._ready=Qe._initStorage(Qe._config),Qe._ready}function hn(fo){return function(){var nn=0;function hr(){for(;nn<fo.length;){var Ro=fo[nn];return nn++,Qe._dbInfo=null,Qe._ready=null,Qe.getDriver(Ro).then(ln).catch(hr)}Qt();var Ho=new Error("No available storage method found.");return Qe._driverSet=N.reject(Ho),Qe._driverSet}return hr()}}var sn=this._driverSet!==null?this._driverSet.catch(function(){return N.resolve()}):N.resolve();return this._driverSet=sn.then(function(){var fo=zt[0];return Qe._dbInfo=null,Qe._ready=null,Qe.getDriver(fo).then(function(nn){Qe._driver=nn._driver,Qt(),Qe._wrapLibraryMethodsWithReady(),Qe._initDriver=hn(zt)})}).catch(function(){Qt();var fo=new Error("No available storage method found.");return Qe._driverSet=N.reject(fo),Qe._driverSet}),V(this._driverSet,gt,ut),this._driverSet},ke.prototype.supports=function(Le){return!!Ss[Le]},ke.prototype._extend=function(Le){qc(this,Le)},ke.prototype._getSupportedDrivers=function(Le){for(var gt=[],ut=0,Qe=Le.length;ut<Qe;ut++){var zt=Le[ut];this.supports(zt)&&gt.push(zt)}return gt},ke.prototype._wrapLibraryMethodsWithReady=function(){for(var Le=0,gt=Kc.length;Le<gt;Le++)gi(this,Kc[Le])},ke.prototype.createInstance=function(Le){return new ke(Le)},ke}(),Jr=new Er;f.exports=Jr},{3:3}]},{},[4])(4)})}(dz)),dz.exports}var Nge=Rge();const hb=pM(Nge);function HX(n,s){return function(){return n.apply(s,arguments)}}const{toString:Ige}=Object.prototype,{getPrototypeOf:lU}=Object,{iterator:bM,toStringTag:zX}=Symbol,vM=(n=>s=>{const c=Ige.call(s);return n[c]||(n[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Fh=n=>(n=n.toLowerCase(),s=>vM(s)===n),yM=n=>s=>typeof s===n,{isArray:Hk}=Array,MO=yM("undefined");function Pge(n){return n!==null&&!MO(n)&&n.constructor!==null&&!MO(n.constructor)&&of(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const VX=Fh("ArrayBuffer");function Lge(n){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(n):s=n&&n.buffer&&VX(n.buffer),s}const Bge=yM("string"),of=yM("function"),UX=yM("number"),xM=n=>n!==null&&typeof n=="object",Mge=n=>n===!0||n===!1,CB=n=>{if(vM(n)!=="object")return!1;const s=lU(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(zX in n)&&!(bM in n)},Fge=Fh("Date"),$ge=Fh("File"),Hge=Fh("Blob"),zge=Fh("FileList"),Vge=n=>xM(n)&&of(n.pipe),Uge=n=>{let s;return n&&(typeof FormData=="function"&&n instanceof FormData||of(n.append)&&((s=vM(n))==="formdata"||s==="object"&&of(n.toString)&&n.toString()==="[object FormData]"))},Wge=Fh("URLSearchParams"),[Zge,jge,Kge,qge]=["ReadableStream","Request","Response","Headers"].map(Fh),Gge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qO(n,s,{allOwnKeys:c=!1}={}){if(n===null||typeof n>"u")return;let f,g;if(typeof n!="object"&&(n=[n]),Hk(n))for(f=0,g=n.length;f<g;f++)s.call(null,n[f],f,n);else{const h=c?Object.getOwnPropertyNames(n):Object.keys(n),x=h.length;let C;for(f=0;f<x;f++)C=h[f],s.call(null,n[C],C,n)}}function WX(n,s){s=s.toLowerCase();const c=Object.keys(n);let f=c.length,g;for(;f-- >0;)if(g=c[f],s===g.toLowerCase())return g;return null}const Yw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZX=n=>!MO(n)&&n!==Yw;function fV(){const{caseless:n}=ZX(this)&&this||{},s={},c=(f,g)=>{const h=n&&WX(s,g)||g;CB(s[h])&&CB(f)?s[h]=fV(s[h],f):CB(f)?s[h]=fV({},f):Hk(f)?s[h]=f.slice():s[h]=f};for(let f=0,g=arguments.length;f<g;f++)arguments[f]&&qO(arguments[f],c);return s}const Yge=(n,s,c,{allOwnKeys:f}={})=>(qO(s,(g,h)=>{c&&of(g)?n[h]=HX(g,c):n[h]=g},{allOwnKeys:f}),n),Xge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Jge=(n,s,c,f)=>{n.prototype=Object.create(s.prototype,f),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:s.prototype}),c&&Object.assign(n.prototype,c)},Qge=(n,s,c,f)=>{let g,h,x;const C={};if(s=s||{},n==null)return s;do{for(g=Object.getOwnPropertyNames(n),h=g.length;h-- >0;)x=g[h],(!f||f(x,n,s))&&!C[x]&&(s[x]=n[x],C[x]=!0);n=c!==!1&&lU(n)}while(n&&(!c||c(n,s))&&n!==Object.prototype);return s},ehe=(n,s,c)=>{n=String(n),(c===void 0||c>n.length)&&(c=n.length),c-=s.length;const f=n.indexOf(s,c);return f!==-1&&f===c},the=n=>{if(!n)return null;if(Hk(n))return n;let s=n.length;if(!UX(s))return null;const c=new Array(s);for(;s-- >0;)c[s]=n[s];return c},nhe=(n=>s=>n&&s instanceof n)(typeof Uint8Array<"u"&&lU(Uint8Array)),ohe=(n,s)=>{const f=(n&&n[bM]).call(n);let g;for(;(g=f.next())&&!g.done;){const h=g.value;s.call(n,h[0],h[1])}},rhe=(n,s)=>{let c;const f=[];for(;(c=n.exec(s))!==null;)f.push(c);return f},she=Fh("HTMLFormElement"),ahe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,f,g){return f.toUpperCase()+g}),fq=(({hasOwnProperty:n})=>(s,c)=>n.call(s,c))(Object.prototype),ihe=Fh("RegExp"),jX=(n,s)=>{const c=Object.getOwnPropertyDescriptors(n),f={};qO(c,(g,h)=>{let x;(x=s(g,h,n))!==!1&&(f[h]=x||g)}),Object.defineProperties(n,f)},lhe=n=>{jX(n,(s,c)=>{if(of(n)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const f=n[c];if(of(f)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},che=(n,s)=>{const c={},f=g=>{g.forEach(h=>{c[h]=!0})};return Hk(n)?f(n):f(String(n).split(s)),c},uhe=()=>{},dhe=(n,s)=>n!=null&&Number.isFinite(n=+n)?n:s;function fhe(n){return!!(n&&of(n.append)&&n[zX]==="FormData"&&n[bM])}const mhe=n=>{const s=new Array(10),c=(f,g)=>{if(xM(f)){if(s.indexOf(f)>=0)return;if(!("toJSON"in f)){s[g]=f;const h=Hk(f)?[]:{};return qO(f,(x,C)=>{const O=c(x,g+1);!MO(O)&&(h[C]=O)}),s[g]=void 0,h}}return f};return c(n,0)},ghe=Fh("AsyncFunction"),hhe=n=>n&&(xM(n)||of(n))&&of(n.then)&&of(n.catch),KX=((n,s)=>n?setImmediate:s?((c,f)=>(Yw.addEventListener("message",({source:g,data:h})=>{g===Yw&&h===c&&f.length&&f.shift()()},!1),g=>{f.push(g),Yw.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",of(Yw.postMessage)),phe=typeof queueMicrotask<"u"?queueMicrotask.bind(Yw):typeof process<"u"&&process.nextTick||KX,bhe=n=>n!=null&&of(n[bM]),Ut={isArray:Hk,isArrayBuffer:VX,isBuffer:Pge,isFormData:Uge,isArrayBufferView:Lge,isString:Bge,isNumber:UX,isBoolean:Mge,isObject:xM,isPlainObject:CB,isReadableStream:Zge,isRequest:jge,isResponse:Kge,isHeaders:qge,isUndefined:MO,isDate:Fge,isFile:$ge,isBlob:Hge,isRegExp:ihe,isFunction:of,isStream:Vge,isURLSearchParams:Wge,isTypedArray:nhe,isFileList:zge,forEach:qO,merge:fV,extend:Yge,trim:Gge,stripBOM:Xge,inherits:Jge,toFlatObject:Qge,kindOf:vM,kindOfTest:Fh,endsWith:ehe,toArray:the,forEachEntry:ohe,matchAll:rhe,isHTMLForm:she,hasOwnProperty:fq,hasOwnProp:fq,reduceDescriptors:jX,freezeMethods:lhe,toObjectSet:che,toCamelCase:ahe,noop:uhe,toFiniteNumber:dhe,findKey:WX,global:Yw,isContextDefined:ZX,isSpecCompliantForm:fhe,toJSONObject:mhe,isAsyncFn:ghe,isThenable:hhe,setImmediate:KX,asap:phe,isIterable:bhe};function Br(n,s,c,f,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",s&&(this.code=s),c&&(this.config=c),f&&(this.request=f),g&&(this.response=g,this.status=g.status?g.status:null)}Ut.inherits(Br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ut.toJSONObject(this.config),code:this.code,status:this.status}}});const qX=Br.prototype,GX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{GX[n]={value:n}});Object.defineProperties(Br,GX);Object.defineProperty(qX,"isAxiosError",{value:!0});Br.from=(n,s,c,f,g,h)=>{const x=Object.create(qX);return Ut.toFlatObject(n,x,function(O){return O!==Error.prototype},C=>C!=="isAxiosError"),Br.call(x,n.message,s,c,f,g),x.cause=n,x.name=n.name,h&&Object.assign(x,h),x};const vhe=null;function mV(n){return Ut.isPlainObject(n)||Ut.isArray(n)}function YX(n){return Ut.endsWith(n,"[]")?n.slice(0,-2):n}function mq(n,s,c){return n?n.concat(s).map(function(g,h){return g=YX(g),!c&&h?"["+g+"]":g}).join(c?".":""):s}function yhe(n){return Ut.isArray(n)&&!n.some(mV)}const xhe=Ut.toFlatObject(Ut,{},null,function(s){return/^is[A-Z]/.test(s)});function wM(n,s,c){if(!Ut.isObject(n))throw new TypeError("target must be an object");s=s||new FormData,c=Ut.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(te,ce){return!Ut.isUndefined(ce[te])});const f=c.metaTokens,g=c.visitor||D,h=c.dots,x=c.indexes,O=(c.Blob||typeof Blob<"u"&&Blob)&&Ut.isSpecCompliantForm(s);if(!Ut.isFunction(g))throw new TypeError("visitor must be a function");function R(Z){if(Z===null)return"";if(Ut.isDate(Z))return Z.toISOString();if(!O&&Ut.isBlob(Z))throw new Br("Blob is not supported. Use a Buffer instead.");return Ut.isArrayBuffer(Z)||Ut.isTypedArray(Z)?O&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function D(Z,te,ce){let X=Z;if(Z&&!ce&&typeof Z=="object"){if(Ut.endsWith(te,"{}"))te=f?te:te.slice(0,-2),Z=JSON.stringify(Z);else if(Ut.isArray(Z)&&yhe(Z)||(Ut.isFileList(Z)||Ut.endsWith(te,"[]"))&&(X=Ut.toArray(Z)))return te=YX(te),X.forEach(function(fe,j){!(Ut.isUndefined(fe)||fe===null)&&s.append(x===!0?mq([te],j,h):x===null?te:te+"[]",R(fe))}),!1}return mV(Z)?!0:(s.append(mq(ce,te,h),R(Z)),!1)}const N=[],H=Object.assign(xhe,{defaultVisitor:D,convertValue:R,isVisitable:mV});function V(Z,te){if(!Ut.isUndefined(Z)){if(N.indexOf(Z)!==-1)throw Error("Circular reference detected in "+te.join("."));N.push(Z),Ut.forEach(Z,function(X,Se){(!(Ut.isUndefined(X)||X===null)&&g.call(s,X,Ut.isString(Se)?Se.trim():Se,te,H))===!0&&V(X,te?te.concat(Se):[Se])}),N.pop()}}if(!Ut.isObject(n))throw new TypeError("data must be an object");return V(n),s}function gq(n){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(f){return s[f]})}function cU(n,s){this._pairs=[],n&&wM(n,this,s)}const XX=cU.prototype;XX.append=function(s,c){this._pairs.push([s,c])};XX.toString=function(s){const c=s?function(f){return s.call(this,f,gq)}:gq;return this._pairs.map(function(g){return c(g[0])+"="+c(g[1])},"").join("&")};function whe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JX(n,s,c){if(!s)return n;const f=c&&c.encode||whe;Ut.isFunction(c)&&(c={serialize:c});const g=c&&c.serialize;let h;if(g?h=g(s,c):h=Ut.isURLSearchParams(s)?s.toString():new cU(s,c).toString(f),h){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class hq{constructor(){this.handlers=[]}use(s,c,f){return this.handlers.push({fulfilled:s,rejected:c,synchronous:f?f.synchronous:!1,runWhen:f?f.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Ut.forEach(this.handlers,function(f){f!==null&&s(f)})}}const QX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Che=typeof URLSearchParams<"u"?URLSearchParams:cU,_he=typeof FormData<"u"?FormData:null,She=typeof Blob<"u"?Blob:null,khe={isBrowser:!0,classes:{URLSearchParams:Che,FormData:_he,Blob:She},protocols:["http","https","file","blob","url","data"]},uU=typeof window<"u"&&typeof document<"u",gV=typeof navigator=="object"&&navigator||void 0,Ehe=uU&&(!gV||["ReactNative","NativeScript","NS"].indexOf(gV.product)<0),Ahe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",The=uU&&window.location.href||"http://localhost",Ohe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uU,hasStandardBrowserEnv:Ehe,hasStandardBrowserWebWorkerEnv:Ahe,navigator:gV,origin:The},Symbol.toStringTag,{value:"Module"})),Au={...Ohe,...khe};function Dhe(n,s){return wM(n,new Au.classes.URLSearchParams,Object.assign({visitor:function(c,f,g,h){return Au.isNode&&Ut.isBuffer(c)?(this.append(f,c.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}function Rhe(n){return Ut.matchAll(/\w+|\[(\w*)]/g,n).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Nhe(n){const s={},c=Object.keys(n);let f;const g=c.length;let h;for(f=0;f<g;f++)h=c[f],s[h]=n[h];return s}function eJ(n){function s(c,f,g,h){let x=c[h++];if(x==="__proto__")return!0;const C=Number.isFinite(+x),O=h>=c.length;return x=!x&&Ut.isArray(g)?g.length:x,O?(Ut.hasOwnProp(g,x)?g[x]=[g[x],f]:g[x]=f,!C):((!g[x]||!Ut.isObject(g[x]))&&(g[x]=[]),s(c,f,g[x],h)&&Ut.isArray(g[x])&&(g[x]=Nhe(g[x])),!C)}if(Ut.isFormData(n)&&Ut.isFunction(n.entries)){const c={};return Ut.forEachEntry(n,(f,g)=>{s(Rhe(f),g,c,0)}),c}return null}function Ihe(n,s,c){if(Ut.isString(n))try{return(s||JSON.parse)(n),Ut.trim(n)}catch(f){if(f.name!=="SyntaxError")throw f}return(c||JSON.stringify)(n)}const GO={transitional:QX,adapter:["xhr","http","fetch"],transformRequest:[function(s,c){const f=c.getContentType()||"",g=f.indexOf("application/json")>-1,h=Ut.isObject(s);if(h&&Ut.isHTMLForm(s)&&(s=new FormData(s)),Ut.isFormData(s))return g?JSON.stringify(eJ(s)):s;if(Ut.isArrayBuffer(s)||Ut.isBuffer(s)||Ut.isStream(s)||Ut.isFile(s)||Ut.isBlob(s)||Ut.isReadableStream(s))return s;if(Ut.isArrayBufferView(s))return s.buffer;if(Ut.isURLSearchParams(s))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let C;if(h){if(f.indexOf("application/x-www-form-urlencoded")>-1)return Dhe(s,this.formSerializer).toString();if((C=Ut.isFileList(s))||f.indexOf("multipart/form-data")>-1){const O=this.env&&this.env.FormData;return wM(C?{"files[]":s}:s,O&&new O,this.formSerializer)}}return h||g?(c.setContentType("application/json",!1),Ihe(s)):s}],transformResponse:[function(s){const c=this.transitional||GO.transitional,f=c&&c.forcedJSONParsing,g=this.responseType==="json";if(Ut.isResponse(s)||Ut.isReadableStream(s))return s;if(s&&Ut.isString(s)&&(f&&!this.responseType||g)){const x=!(c&&c.silentJSONParsing)&&g;try{return JSON.parse(s)}catch(C){if(x)throw C.name==="SyntaxError"?Br.from(C,Br.ERR_BAD_RESPONSE,this,null,this.response):C}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Au.classes.FormData,Blob:Au.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ut.forEach(["delete","get","head","post","put","patch"],n=>{GO.headers[n]={}});const Phe=Ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lhe=n=>{const s={};let c,f,g;return n&&n.split(`
`).forEach(function(x){g=x.indexOf(":"),c=x.substring(0,g).trim().toLowerCase(),f=x.substring(g+1).trim(),!(!c||s[c]&&Phe[c])&&(c==="set-cookie"?s[c]?s[c].push(f):s[c]=[f]:s[c]=s[c]?s[c]+", "+f:f)}),s},pq=Symbol("internals");function hO(n){return n&&String(n).trim().toLowerCase()}function _B(n){return n===!1||n==null?n:Ut.isArray(n)?n.map(_B):String(n)}function Bhe(n){const s=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let f;for(;f=c.exec(n);)s[f[1]]=f[2];return s}const Mhe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fz(n,s,c,f,g){if(Ut.isFunction(f))return f.call(this,s,c);if(g&&(s=c),!!Ut.isString(s)){if(Ut.isString(f))return s.indexOf(f)!==-1;if(Ut.isRegExp(f))return f.test(s)}}function Fhe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,c,f)=>c.toUpperCase()+f)}function $he(n,s){const c=Ut.toCamelCase(" "+s);["get","set","has"].forEach(f=>{Object.defineProperty(n,f+c,{value:function(g,h,x){return this[f].call(this,s,g,h,x)},configurable:!0})})}let rf=class{constructor(s){s&&this.set(s)}set(s,c,f){const g=this;function h(C,O,R){const D=hO(O);if(!D)throw new Error("header name must be a non-empty string");const N=Ut.findKey(g,D);(!N||g[N]===void 0||R===!0||R===void 0&&g[N]!==!1)&&(g[N||O]=_B(C))}const x=(C,O)=>Ut.forEach(C,(R,D)=>h(R,D,O));if(Ut.isPlainObject(s)||s instanceof this.constructor)x(s,c);else if(Ut.isString(s)&&(s=s.trim())&&!Mhe(s))x(Lhe(s),c);else if(Ut.isObject(s)&&Ut.isIterable(s)){let C={},O,R;for(const D of s){if(!Ut.isArray(D))throw TypeError("Object iterator must return a key-value pair");C[R=D[0]]=(O=C[R])?Ut.isArray(O)?[...O,D[1]]:[O,D[1]]:D[1]}x(C,c)}else s!=null&&h(c,s,f);return this}get(s,c){if(s=hO(s),s){const f=Ut.findKey(this,s);if(f){const g=this[f];if(!c)return g;if(c===!0)return Bhe(g);if(Ut.isFunction(c))return c.call(this,g,f);if(Ut.isRegExp(c))return c.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,c){if(s=hO(s),s){const f=Ut.findKey(this,s);return!!(f&&this[f]!==void 0&&(!c||fz(this,this[f],f,c)))}return!1}delete(s,c){const f=this;let g=!1;function h(x){if(x=hO(x),x){const C=Ut.findKey(f,x);C&&(!c||fz(f,f[C],C,c))&&(delete f[C],g=!0)}}return Ut.isArray(s)?s.forEach(h):h(s),g}clear(s){const c=Object.keys(this);let f=c.length,g=!1;for(;f--;){const h=c[f];(!s||fz(this,this[h],h,s,!0))&&(delete this[h],g=!0)}return g}normalize(s){const c=this,f={};return Ut.forEach(this,(g,h)=>{const x=Ut.findKey(f,h);if(x){c[x]=_B(g),delete c[h];return}const C=s?Fhe(h):String(h).trim();C!==h&&delete c[h],c[C]=_B(g),f[C]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const c=Object.create(null);return Ut.forEach(this,(f,g)=>{f!=null&&f!==!1&&(c[g]=s&&Ut.isArray(f)?f.join(", "):f)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,c])=>s+": "+c).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...c){const f=new this(s);return c.forEach(g=>f.set(g)),f}static accessor(s){const f=(this[pq]=this[pq]={accessors:{}}).accessors,g=this.prototype;function h(x){const C=hO(x);f[C]||($he(g,x),f[C]=!0)}return Ut.isArray(s)?s.forEach(h):h(s),this}};rf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ut.reduceDescriptors(rf.prototype,({value:n},s)=>{let c=s[0].toUpperCase()+s.slice(1);return{get:()=>n,set(f){this[c]=f}}});Ut.freezeMethods(rf);function mz(n,s){const c=this||GO,f=s||c,g=rf.from(f.headers);let h=f.data;return Ut.forEach(n,function(C){h=C.call(c,h,g.normalize(),s?s.status:void 0)}),g.normalize(),h}function tJ(n){return!!(n&&n.__CANCEL__)}function zk(n,s,c){Br.call(this,n??"canceled",Br.ERR_CANCELED,s,c),this.name="CanceledError"}Ut.inherits(zk,Br,{__CANCEL__:!0});function nJ(n,s,c){const f=c.config.validateStatus;!c.status||!f||f(c.status)?n(c):s(new Br("Request failed with status code "+c.status,[Br.ERR_BAD_REQUEST,Br.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Hhe(n){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return s&&s[1]||""}function zhe(n,s){n=n||10;const c=new Array(n),f=new Array(n);let g=0,h=0,x;return s=s!==void 0?s:1e3,function(O){const R=Date.now(),D=f[h];x||(x=R),c[g]=O,f[g]=R;let N=h,H=0;for(;N!==g;)H+=c[N++],N=N%n;if(g=(g+1)%n,g===h&&(h=(h+1)%n),R-x<s)return;const V=D&&R-D;return V?Math.round(H*1e3/V):void 0}}function Vhe(n,s){let c=0,f=1e3/s,g,h;const x=(R,D=Date.now())=>{c=D,g=null,h&&(clearTimeout(h),h=null),n.apply(null,R)};return[(...R)=>{const D=Date.now(),N=D-c;N>=f?x(R,D):(g=R,h||(h=setTimeout(()=>{h=null,x(g)},f-N)))},()=>g&&x(g)]}const KB=(n,s,c=3)=>{let f=0;const g=zhe(50,250);return Vhe(h=>{const x=h.loaded,C=h.lengthComputable?h.total:void 0,O=x-f,R=g(O),D=x<=C;f=x;const N={loaded:x,total:C,progress:C?x/C:void 0,bytes:O,rate:R||void 0,estimated:R&&C&&D?(C-x)/R:void 0,event:h,lengthComputable:C!=null,[s?"download":"upload"]:!0};n(N)},c)},bq=(n,s)=>{const c=n!=null;return[f=>s[0]({lengthComputable:c,total:n,loaded:f}),s[1]]},vq=n=>(...s)=>Ut.asap(()=>n(...s)),Uhe=Au.hasStandardBrowserEnv?((n,s)=>c=>(c=new URL(c,Au.origin),n.protocol===c.protocol&&n.host===c.host&&(s||n.port===c.port)))(new URL(Au.origin),Au.navigator&&/(msie|trident)/i.test(Au.navigator.userAgent)):()=>!0,Whe=Au.hasStandardBrowserEnv?{write(n,s,c,f,g,h){const x=[n+"="+encodeURIComponent(s)];Ut.isNumber(c)&&x.push("expires="+new Date(c).toGMTString()),Ut.isString(f)&&x.push("path="+f),Ut.isString(g)&&x.push("domain="+g),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zhe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jhe(n,s){return s?n.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):n}function oJ(n,s,c){let f=!Zhe(s);return n&&(f||c==!1)?jhe(n,s):s}const yq=n=>n instanceof rf?{...n}:n;function rC(n,s){s=s||{};const c={};function f(R,D,N,H){return Ut.isPlainObject(R)&&Ut.isPlainObject(D)?Ut.merge.call({caseless:H},R,D):Ut.isPlainObject(D)?Ut.merge({},D):Ut.isArray(D)?D.slice():D}function g(R,D,N,H){if(Ut.isUndefined(D)){if(!Ut.isUndefined(R))return f(void 0,R,N,H)}else return f(R,D,N,H)}function h(R,D){if(!Ut.isUndefined(D))return f(void 0,D)}function x(R,D){if(Ut.isUndefined(D)){if(!Ut.isUndefined(R))return f(void 0,R)}else return f(void 0,D)}function C(R,D,N){if(N in s)return f(R,D);if(N in n)return f(void 0,R)}const O={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:C,headers:(R,D,N)=>g(yq(R),yq(D),N,!0)};return Ut.forEach(Object.keys(Object.assign({},n,s)),function(D){const N=O[D]||g,H=N(n[D],s[D],D);Ut.isUndefined(H)&&N!==C||(c[D]=H)}),c}const rJ=n=>{const s=rC({},n);let{data:c,withXSRFToken:f,xsrfHeaderName:g,xsrfCookieName:h,headers:x,auth:C}=s;s.headers=x=rf.from(x),s.url=JX(oJ(s.baseURL,s.url,s.allowAbsoluteUrls),n.params,n.paramsSerializer),C&&x.set("Authorization","Basic "+btoa((C.username||"")+":"+(C.password?unescape(encodeURIComponent(C.password)):"")));let O;if(Ut.isFormData(c)){if(Au.hasStandardBrowserEnv||Au.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((O=x.getContentType())!==!1){const[R,...D]=O?O.split(";").map(N=>N.trim()).filter(Boolean):[];x.setContentType([R||"multipart/form-data",...D].join("; "))}}if(Au.hasStandardBrowserEnv&&(f&&Ut.isFunction(f)&&(f=f(s)),f||f!==!1&&Uhe(s.url))){const R=g&&h&&Whe.read(h);R&&x.set(g,R)}return s},Khe=typeof XMLHttpRequest<"u",qhe=Khe&&function(n){return new Promise(function(c,f){const g=rJ(n);let h=g.data;const x=rf.from(g.headers).normalize();let{responseType:C,onUploadProgress:O,onDownloadProgress:R}=g,D,N,H,V,Z;function te(){V&&V(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(D),g.signal&&g.signal.removeEventListener("abort",D)}let ce=new XMLHttpRequest;ce.open(g.method.toUpperCase(),g.url,!0),ce.timeout=g.timeout;function X(){if(!ce)return;const fe=rf.from("getAllResponseHeaders"in ce&&ce.getAllResponseHeaders()),de={data:!C||C==="text"||C==="json"?ce.responseText:ce.response,status:ce.status,statusText:ce.statusText,headers:fe,config:n,request:ce};nJ(function(Ue){c(Ue),te()},function(Ue){f(Ue),te()},de),ce=null}"onloadend"in ce?ce.onloadend=X:ce.onreadystatechange=function(){!ce||ce.readyState!==4||ce.status===0&&!(ce.responseURL&&ce.responseURL.indexOf("file:")===0)||setTimeout(X)},ce.onabort=function(){ce&&(f(new Br("Request aborted",Br.ECONNABORTED,n,ce)),ce=null)},ce.onerror=function(){f(new Br("Network Error",Br.ERR_NETWORK,n,ce)),ce=null},ce.ontimeout=function(){let j=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const de=g.transitional||QX;g.timeoutErrorMessage&&(j=g.timeoutErrorMessage),f(new Br(j,de.clarifyTimeoutError?Br.ETIMEDOUT:Br.ECONNABORTED,n,ce)),ce=null},h===void 0&&x.setContentType(null),"setRequestHeader"in ce&&Ut.forEach(x.toJSON(),function(j,de){ce.setRequestHeader(de,j)}),Ut.isUndefined(g.withCredentials)||(ce.withCredentials=!!g.withCredentials),C&&C!=="json"&&(ce.responseType=g.responseType),R&&([H,Z]=KB(R,!0),ce.addEventListener("progress",H)),O&&ce.upload&&([N,V]=KB(O),ce.upload.addEventListener("progress",N),ce.upload.addEventListener("loadend",V)),(g.cancelToken||g.signal)&&(D=fe=>{ce&&(f(!fe||fe.type?new zk(null,n,ce):fe),ce.abort(),ce=null)},g.cancelToken&&g.cancelToken.subscribe(D),g.signal&&(g.signal.aborted?D():g.signal.addEventListener("abort",D)));const Se=Hhe(g.url);if(Se&&Au.protocols.indexOf(Se)===-1){f(new Br("Unsupported protocol "+Se+":",Br.ERR_BAD_REQUEST,n));return}ce.send(h||null)})},Ghe=(n,s)=>{const{length:c}=n=n?n.filter(Boolean):[];if(s||c){let f=new AbortController,g;const h=function(R){if(!g){g=!0,C();const D=R instanceof Error?R:this.reason;f.abort(D instanceof Br?D:new zk(D instanceof Error?D.message:D))}};let x=s&&setTimeout(()=>{x=null,h(new Br(`timeout ${s} of ms exceeded`,Br.ETIMEDOUT))},s);const C=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(R=>{R.unsubscribe?R.unsubscribe(h):R.removeEventListener("abort",h)}),n=null)};n.forEach(R=>R.addEventListener("abort",h));const{signal:O}=f;return O.unsubscribe=()=>Ut.asap(C),O}},Yhe=function*(n,s){let c=n.byteLength;if(c<s){yield n;return}let f=0,g;for(;f<c;)g=f+s,yield n.slice(f,g),f=g},Xhe=async function*(n,s){for await(const c of Jhe(n))yield*Yhe(c,s)},Jhe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const s=n.getReader();try{for(;;){const{done:c,value:f}=await s.read();if(c)break;yield f}}finally{await s.cancel()}},xq=(n,s,c,f)=>{const g=Xhe(n,s);let h=0,x,C=O=>{x||(x=!0,f&&f(O))};return new ReadableStream({async pull(O){try{const{done:R,value:D}=await g.next();if(R){C(),O.close();return}let N=D.byteLength;if(c){let H=h+=N;c(H)}O.enqueue(new Uint8Array(D))}catch(R){throw C(R),R}},cancel(O){return C(O),g.return()}},{highWaterMark:2})},CM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sJ=CM&&typeof ReadableStream=="function",Qhe=CM&&(typeof TextEncoder=="function"?(n=>s=>n.encode(s))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),aJ=(n,...s)=>{try{return!!n(...s)}catch{return!1}},epe=sJ&&aJ(()=>{let n=!1;const s=new Request(Au.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!s}),wq=64*1024,hV=sJ&&aJ(()=>Ut.isReadableStream(new Response("").body)),qB={stream:hV&&(n=>n.body)};CM&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!qB[s]&&(qB[s]=Ut.isFunction(n[s])?c=>c[s]():(c,f)=>{throw new Br(`Response type '${s}' is not supported`,Br.ERR_NOT_SUPPORT,f)})})})(new Response);const tpe=async n=>{if(n==null)return 0;if(Ut.isBlob(n))return n.size;if(Ut.isSpecCompliantForm(n))return(await new Request(Au.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ut.isArrayBufferView(n)||Ut.isArrayBuffer(n))return n.byteLength;if(Ut.isURLSearchParams(n)&&(n=n+""),Ut.isString(n))return(await Qhe(n)).byteLength},npe=async(n,s)=>{const c=Ut.toFiniteNumber(n.getContentLength());return c??tpe(s)},ope=CM&&(async n=>{let{url:s,method:c,data:f,signal:g,cancelToken:h,timeout:x,onDownloadProgress:C,onUploadProgress:O,responseType:R,headers:D,withCredentials:N="same-origin",fetchOptions:H}=rJ(n);R=R?(R+"").toLowerCase():"text";let V=Ghe([g,h&&h.toAbortSignal()],x),Z;const te=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let ce;try{if(O&&epe&&c!=="get"&&c!=="head"&&(ce=await npe(D,f))!==0){let de=new Request(s,{method:"POST",body:f,duplex:"half"}),oe;if(Ut.isFormData(f)&&(oe=de.headers.get("content-type"))&&D.setContentType(oe),de.body){const[Ue,He]=bq(ce,KB(vq(O)));f=xq(de.body,wq,Ue,He)}}Ut.isString(N)||(N=N?"include":"omit");const X="credentials"in Request.prototype;Z=new Request(s,{...H,signal:V,method:c.toUpperCase(),headers:D.normalize().toJSON(),body:f,duplex:"half",credentials:X?N:void 0});let Se=await fetch(Z);const fe=hV&&(R==="stream"||R==="response");if(hV&&(C||fe&&te)){const de={};["status","statusText","headers"].forEach(je=>{de[je]=Se[je]});const oe=Ut.toFiniteNumber(Se.headers.get("content-length")),[Ue,He]=C&&bq(oe,KB(vq(C),!0))||[];Se=new Response(xq(Se.body,wq,Ue,()=>{He&&He(),te&&te()}),de)}R=R||"text";let j=await qB[Ut.findKey(qB,R)||"text"](Se,n);return!fe&&te&&te(),await new Promise((de,oe)=>{nJ(de,oe,{data:j,headers:rf.from(Se.headers),status:Se.status,statusText:Se.statusText,config:n,request:Z})})}catch(X){throw te&&te(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Br("Network Error",Br.ERR_NETWORK,n,Z),{cause:X.cause||X}):Br.from(X,X&&X.code,n,Z)}}),pV={http:vhe,xhr:qhe,fetch:ope};Ut.forEach(pV,(n,s)=>{if(n){try{Object.defineProperty(n,"name",{value:s})}catch{}Object.defineProperty(n,"adapterName",{value:s})}});const Cq=n=>`- ${n}`,rpe=n=>Ut.isFunction(n)||n===null||n===!1,iJ={getAdapter:n=>{n=Ut.isArray(n)?n:[n];const{length:s}=n;let c,f;const g={};for(let h=0;h<s;h++){c=n[h];let x;if(f=c,!rpe(c)&&(f=pV[(x=String(c)).toLowerCase()],f===void 0))throw new Br(`Unknown adapter '${x}'`);if(f)break;g[x||"#"+h]=f}if(!f){const h=Object.entries(g).map(([C,O])=>`adapter ${C} `+(O===!1?"is not supported by the environment":"is not available in the build"));let x=s?h.length>1?`since :
`+h.map(Cq).join(`
`):" "+Cq(h[0]):"as no adapter specified";throw new Br("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return f},adapters:pV};function gz(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new zk(null,n)}function _q(n){return gz(n),n.headers=rf.from(n.headers),n.data=mz.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),iJ.getAdapter(n.adapter||GO.adapter)(n).then(function(f){return gz(n),f.data=mz.call(n,n.transformResponse,f),f.headers=rf.from(f.headers),f},function(f){return tJ(f)||(gz(n),f&&f.response&&(f.response.data=mz.call(n,n.transformResponse,f.response),f.response.headers=rf.from(f.response.headers))),Promise.reject(f)})}const lJ="1.9.0",_M={};["object","boolean","number","function","string","symbol"].forEach((n,s)=>{_M[n]=function(f){return typeof f===n||"a"+(s<1?"n ":" ")+n}});const Sq={};_M.transitional=function(s,c,f){function g(h,x){return"[Axios v"+lJ+"] Transitional option '"+h+"'"+x+(f?". "+f:"")}return(h,x,C)=>{if(s===!1)throw new Br(g(x," has been removed"+(c?" in "+c:"")),Br.ERR_DEPRECATED);return c&&!Sq[x]&&(Sq[x]=!0,console.warn(g(x," has been deprecated since v"+c+" and will be removed in the near future"))),s?s(h,x,C):!0}};_M.spelling=function(s){return(c,f)=>(console.warn(`${f} is likely a misspelling of ${s}`),!0)};function spe(n,s,c){if(typeof n!="object")throw new Br("options must be an object",Br.ERR_BAD_OPTION_VALUE);const f=Object.keys(n);let g=f.length;for(;g-- >0;){const h=f[g],x=s[h];if(x){const C=n[h],O=C===void 0||x(C,h,n);if(O!==!0)throw new Br("option "+h+" must be "+O,Br.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Br("Unknown option "+h,Br.ERR_BAD_OPTION)}}const SB={assertOptions:spe,validators:_M},Xp=SB.validators;let tC=class{constructor(s){this.defaults=s||{},this.interceptors={request:new hq,response:new hq}}async request(s,c){try{return await this._request(s,c)}catch(f){if(f instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const h=g.stack?g.stack.replace(/^.+\n/,""):"";try{f.stack?h&&!String(f.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(f.stack+=`
`+h):f.stack=h}catch{}}throw f}}_request(s,c){typeof s=="string"?(c=c||{},c.url=s):c=s||{},c=rC(this.defaults,c);const{transitional:f,paramsSerializer:g,headers:h}=c;f!==void 0&&SB.assertOptions(f,{silentJSONParsing:Xp.transitional(Xp.boolean),forcedJSONParsing:Xp.transitional(Xp.boolean),clarifyTimeoutError:Xp.transitional(Xp.boolean)},!1),g!=null&&(Ut.isFunction(g)?c.paramsSerializer={serialize:g}:SB.assertOptions(g,{encode:Xp.function,serialize:Xp.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),SB.assertOptions(c,{baseUrl:Xp.spelling("baseURL"),withXsrfToken:Xp.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let x=h&&Ut.merge(h.common,h[c.method]);h&&Ut.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete h[Z]}),c.headers=rf.concat(x,h);const C=[];let O=!0;this.interceptors.request.forEach(function(te){typeof te.runWhen=="function"&&te.runWhen(c)===!1||(O=O&&te.synchronous,C.unshift(te.fulfilled,te.rejected))});const R=[];this.interceptors.response.forEach(function(te){R.push(te.fulfilled,te.rejected)});let D,N=0,H;if(!O){const Z=[_q.bind(this),void 0];for(Z.unshift.apply(Z,C),Z.push.apply(Z,R),H=Z.length,D=Promise.resolve(c);N<H;)D=D.then(Z[N++],Z[N++]);return D}H=C.length;let V=c;for(N=0;N<H;){const Z=C[N++],te=C[N++];try{V=Z(V)}catch(ce){te.call(this,ce);break}}try{D=_q.call(this,V)}catch(Z){return Promise.reject(Z)}for(N=0,H=R.length;N<H;)D=D.then(R[N++],R[N++]);return D}getUri(s){s=rC(this.defaults,s);const c=oJ(s.baseURL,s.url,s.allowAbsoluteUrls);return JX(c,s.params,s.paramsSerializer)}};Ut.forEach(["delete","get","head","options"],function(s){tC.prototype[s]=function(c,f){return this.request(rC(f||{},{method:s,url:c,data:(f||{}).data}))}});Ut.forEach(["post","put","patch"],function(s){function c(f){return function(h,x,C){return this.request(rC(C||{},{method:s,headers:f?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}tC.prototype[s]=c(),tC.prototype[s+"Form"]=c(!0)});let ape=class cJ{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(h){c=h});const f=this;this.promise.then(g=>{if(!f._listeners)return;let h=f._listeners.length;for(;h-- >0;)f._listeners[h](g);f._listeners=null}),this.promise.then=g=>{let h;const x=new Promise(C=>{f.subscribe(C),h=C}).then(g);return x.cancel=function(){f.unsubscribe(h)},x},s(function(h,x,C){f.reason||(f.reason=new zk(h,x,C),c(f.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const c=this._listeners.indexOf(s);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const s=new AbortController,c=f=>{s.abort(f)};return this.subscribe(c),s.signal.unsubscribe=()=>this.unsubscribe(c),s.signal}static source(){let s;return{token:new cJ(function(g){s=g}),cancel:s}}};function ipe(n){return function(c){return n.apply(null,c)}}function lpe(n){return Ut.isObject(n)&&n.isAxiosError===!0}const bV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bV).forEach(([n,s])=>{bV[s]=n});function uJ(n){const s=new tC(n),c=HX(tC.prototype.request,s);return Ut.extend(c,tC.prototype,s,{allOwnKeys:!0}),Ut.extend(c,s,null,{allOwnKeys:!0}),c.create=function(g){return uJ(rC(n,g))},c}const Ia=uJ(GO);Ia.Axios=tC;Ia.CanceledError=zk;Ia.CancelToken=ape;Ia.isCancel=tJ;Ia.VERSION=lJ;Ia.toFormData=wM;Ia.AxiosError=Br;Ia.Cancel=Ia.CanceledError;Ia.all=function(s){return Promise.all(s)};Ia.spread=ipe;Ia.isAxiosError=lpe;Ia.mergeConfig=rC;Ia.AxiosHeaders=rf;Ia.formToJSON=n=>eJ(Ut.isHTMLForm(n)?new FormData(n):n);Ia.getAdapter=iJ.getAdapter;Ia.HttpStatusCode=bV;Ia.default=Ia;const{Axios:Bye,AxiosError:Mye,CanceledError:Fye,isCancel:$ye,CancelToken:Hye,VERSION:zye,all:Vye,Cancel:Uye,isAxiosError:Wye,spread:Zye,toFormData:jye,AxiosHeaders:Kye,HttpStatusCode:qye,formToJSON:Gye,getAdapter:Yye,mergeConfig:Xye}=Ia;/*! js-cookie v3.0.5 | MIT */function aB(n){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var f in c)n[f]=c[f]}return n}var cpe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function vV(n,s){function c(g,h,x){if(!(typeof document>"u")){x=aB({},s,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var C="";for(var O in x)x[O]&&(C+="; "+O,x[O]!==!0&&(C+="="+x[O].split(";")[0]));return document.cookie=g+"="+n.write(h,g)+C}}function f(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var h=document.cookie?document.cookie.split("; "):[],x={},C=0;C<h.length;C++){var O=h[C].split("="),R=O.slice(1).join("=");try{var D=decodeURIComponent(O[0]);if(x[D]=n.read(R,D),g===D)break}catch{}}return g?x[g]:x}}return Object.create({set:c,get:f,remove:function(g,h){c(g,"",aB({},h,{expires:-1}))},withAttributes:function(g){return vV(this.converter,aB({},this.attributes,g))},withConverter:function(g){return vV(aB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(n)}})}var al=vV(cpe,{path:"/"});const upe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",dpe="",fpe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",mpe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',gpe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',hz=hb.createInstance({storeName:"writer-settings",description:"Settings data"}),{t:Wl}=iU.global,Ih=_g("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:n=>n.notice_boards>0,primaryColorCss:n=>n.primary_color?"#"+n.primary_color:"",primaryTextColorCss:n=>n.primary_text_color?"#"+n.primary_text_color:"",primaryTextColorFullCss:n=>n.primary_text_color?"color: #"+n.primary_text_color+";":"",tinyToolbar:n=>{switch(n.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:n=>{switch(n.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:n=>n.headline_scheme=="three"?1.3:1,tinyH2Size:n=>n.headline_scheme=="three"?1.15:1,tinyStyles:n=>{switch(n.headline_scheme){case"single":return[{title:Wl("settingsParagraph"),format:"p"},{title:Wl("settingsHeading"),format:"h1"},{title:Wl("settingsTypewriter"),format:"pre"},{title:Wl("settingsListElement"),block:"li"}];case"three":return[{title:Wl("settingsParagraph"),format:"p"},{title:Wl("settingsHeading1"),format:"h1"},{title:Wl("settingsHeading2"),format:"h2"},{title:Wl("settingsHeading3"),format:"h3"},{title:Wl("settingsTypewriter"),format:"pre"},{title:Wl("settingsListElement"),block:"li"}];default:return[{title:Wl("settingsParagraph"),format:"p"},{title:Wl("settingsHeading1"),format:"h1"},{title:Wl("settingsHeading2"),format:"h2"},{title:Wl("settingsHeading3"),format:"h3"},{title:Wl("settingsHeading4"),format:"h4"},{title:Wl("settingsHeading5"),format:"h5"},{title:Wl("settingsHeading6"),format:"h6"},{title:Wl("settingsTypewriter"),format:"pre"},{title:Wl("settingsListElement"),block:"li"}]}},tinyFormats:n=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:n=>{const s=upe.toString();switch(n.headline_scheme){case"single":return s+`
`+dpe.toString();case"three":return s+`
`+fpe.toString();case"numeric":return s+`
`+mpe.toString();case"edutiek":return s+`
`+gpe.toString();default:return s}},contentClass:n=>{switch(n.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(n){this.headline_scheme=n.headline_scheme,this.formatting_options=n.formatting_options,this.notice_boards=n.notice_boards,this.copy_allowed=n.copy_allowed,this.primary_color=n.primary_color,this.primary_text_color=n.primary_text_color,this.allow_spellcheck=n.allow_spellcheck},async clearStorage(){try{await hz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const n=await hz.getItem("settings");this.setData(n)}catch(n){console.log(n)}},async loadFromData(n){try{await hz.setItem("settings",n),this.setData(n)}catch(s){console.log(s)}}}}),dc=class dc{constructor(s={}){Fo(this,"action",null);Fo(this,"type",null);Fo(this,"key","");Fo(this,"last_change",0);Fo(this,"payload",null);this.setData(s),this.last_change==0&&(this.last_change=Date.now())}setData(s){s.action!==void 0&&dc.ALLOWED_ACTIONS.includes(s.action)&&(this.action=s.action.toString()),s.type!==void 0&&dc.ALLOWED_TYPES.includes(s.type)&&(this.type=s.type.toString()),s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change)),s.payload!==void 0&&s.payload!==null&&(this.payload=s.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return dc.ALLOWED_TYPES.includes(this.type)&&dc.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Fo(dc,"ACTION_SAVE","save"),Fo(dc,"ACTION_DELETE","delete"),Fo(dc,"ALLOWED_ACTIONS",[dc.ACTION_SAVE,dc.ACTION_DELETE]),Fo(dc,"TYPE_ANNOTATIONS","annotations"),Fo(dc,"TYPE_NOTES","notes"),Fo(dc,"TYPE_PREFERENCES","preferences"),Fo(dc,"ALLOWED_TYPES",[dc.TYPE_ANNOTATIONS,dc.TYPE_NOTES,dc.TYPE_PREFERENCES]);let Ra=dc;const ky=hb.createInstance({storeName:"writer-changes",description:"Writer changes data"});function kq(){const n={changes:{},lastSave:0,lastSendingSuccess:0};for(const s of Ra.ALLOWED_TYPES)n.changes[s]={};return n}const hd=_g("changes",{state:()=>kq(),getters:{countChanges:n=>{let s=0;for(const c in n.changes)s+=Object.keys(n.changes[c]).length;return s},getCountOfChangesFor:n=>function(c){return Ra.ALLOWED_TYPES.includes(c)?Object.keys(n.changes[c]).length:(console.log("wrong type"+c),0)},getChangesFor:n=>function(c,f=0){if(!Ra.ALLOWED_TYPES.includes(c))return[];const g=[];for(const h in n.changes[c]){const x=n.changes[c][h];(f==0||x.last_change<=f)&&g.push(x)}return g}},actions:{async clearStorage(){try{await ky.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=kq();try{for(const s in n.changes){const c=await ky.getItem(s);if(c){const f=JSON.parse(c);if(typeof f=="object"&&f!==null)for(const g in f)n.changes[s][g]=new Ra(f[g])}}this.lastSave=parseInt(await ky.getItem("lastSave")),this.lastSendingSuccess=parseInt(await ky.getItem("lastSendingSuccess"))}catch(s){console.log(s)}this.$patch(n)},async saveChangesOfTypeToStorage(n){const s={};for(const c in this.changes[n]){const f=this.changes[n][c];s[c]=f.getData()}await ky.setItem(n,JSON.stringify(s)),this.lastSave=Date.now(),await ky.setItem("lastSave",this.lastSave)},async hasChangesInStorage(){for(const n in this.changes){const s=await ky.getItem(n);if(s){const c=JSON.parse(s);if(Object.keys(c).length>0)return!0}}return!1},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await this.saveChangesOfTypeToStorage(n.type))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await this.saveChangesOfTypeToStorage(n.type))},async setChangesSent(n,s,c){const f=this.changes[n];let g=!1;for(const h in s){const x=s[h],C=f[h];C&&(C.last_change<=c?(delete f[h],g=!0):(x==null||x!=h)&&(C.key=x,f[x]=C,delete f[h],g=!0))}g&&await this.saveChangesOfTypeToStorage(n),this.lastSendingSuccess=Date.now(),await ky.setItem("lastSendingSuccess",this.lastSendingSuccess)}}}),pz=hb.createInstance({storeName:"writer-preferences",description:"Preferences data"}),v0=_g("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:n=>({instructions_zoom:n.instructions_zoom,editor_zoom:n.editor_zoom,word_count_enabled:n.word_count_enabled,word_count_characters:n.word_count_characters})},actions:{async clearStorage(){try{await pz.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await pz.getItem("preferences");n&&this.$patch(n)}catch(n){console.log(n)}},async saveToStorage(){try{await pz.setItem("preferences",this.allData)}catch(n){console.log(n)}},loadFromData(n){try{this.$patch(n),this.sent=!0,this.saveToStorage()}catch(s){console.log(s)}},async update(){const n=hd();_i(),await this.saveToStorage(),await n.setChange(new Ra({type:Ra.TYPE_PREFERENCES,action:Ra.ACTION_SAVE,key:"preferences"}))},async getChangedData(n=0){const s=_i(),c=hd(),f=[];for(const g of c.getChangesFor(Ra.TYPE_PREFERENCES,n))f.push(s.getChangeDataToSend(g,this.allData));return f},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),di=class di{constructor(s={}){Fo(this,"key","");Fo(this,"title","");Fo(this,"type",null);Fo(this,"embedded",!0);Fo(this,"source","");Fo(this,"url","");Fo(this,"mimetype","");Fo(this,"size",null);this.setData(s)}setData(s){s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.type!==void 0&&di.ALLOWED_TYPES.includes(s.type)&&(this.type=s.type.toString()),s.embedded!==void 0&&s.embedded!==null&&(this.embedded=!!s.embedded),s.source!==void 0&&s.source!==null&&(this.source=s.source.toString(),this.type==di.TYPE_URL&&(this.url=this.source)),s.url!==void 0&&s.url!==null&&(this.url=s.url.toString()),s.mimetype!==void 0&&s.mimetype!==null&&(this.mimetype=s.mimetype),s.size!==void 0&&s.size!==null&&(this.size=parseInt(s.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[di.TYPE_FILE,di.TYPE_SOLUTION,di.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==di.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==di.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==di.TYPE_FILE||this.type==di.TYPE_URL&&this.embedded}canBeAnnoteted(){return this.type==di.TYPE_FILE}hasFileToLoad(){return[di.TYPE_FILE,di.TYPE_SOLUTION,di.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new di(this.getData())}};Fo(di,"TYPE_FILE","file"),Fo(di,"TYPE_URL","url"),Fo(di,"TYPE_INSTRUCTION","instruct"),Fo(di,"TYPE_SOLUTION","solution"),Fo(di,"ALLOWED_TYPES",[di.TYPE_FILE,di.TYPE_URL,di.TYPE_INSTRUCTION,di.TYPE_SOLUTION]);let _u=di;const m0=hb.createInstance({storeName:"writer-resources",description:"Resource data"}),ef=_g("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:n=>n.resources.length>0,hasInstruction(n){return!!n.resources.find(c=>c.type==_u.TYPE_INSTRUCTION)},getInstruction(n){return n.resources.find(s=>s.type==_u.TYPE_INSTRUCTION)},hasAnnotatableResource(n){return!!n.resources.find(c=>c.type==_u.TYPE_INSTRUCTION||c.type==_u.TYPE_FILE)},hasEmbeddedFileOrUrlResources(n){return!!n.resources.find(c=>(c.type==_u.TYPE_FILE||c.type==_u.TYPE_URL)&&c.embedded==!0)},getFileOrUrlResources(n){return n.resources.filter(s=>s.type==_u.TYPE_FILE||s.type==_u.TYPE_URL)},activeTitle(n){const s=n.resources.find(c=>c.key==n.activeKey);return s?s.title:""},getResource(n){return s=>n.resources.find(c=>c.key==s)},isActive(n){return s=>n.activeKey==s.key}},actions:{async clearStorage(){try{await m0.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const n=await m0.getItem("keys");n&&(this.keys=JSON.parse(n)),this.activeKey=await m0.getItem("activeKey")??[],this.resources=[];for(const s of this.keys){const c=await m0.getItem(s);if(c){const f=JSON.parse(c);if(typeof f=="object"&&f!==null){const g=new _u(f);this.resources.push(g)}}}await this.loadFiles()}catch(n){console.log(n)}},async loadFromData(n){const s=_i();try{await m0.clear(),this.$reset();for(const c of n){const f=new _u(c);f.type!=_u.TYPE_URL&&(f.url=s.getResourceUrl(f.key)),this.resources.push(f),this.activeKey==""&&f.isEmbeddedSelectable()&&(this.activeKey=f.key),this.keys.push(f.getKey()),await m0.setItem(f.getKey(),JSON.stringify(f.getData()))}await m0.setItem("keys",JSON.stringify(this.keys)),await m0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(c){console.log(c)}},async selectResource(n){this.activeKey=n.key,await m0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const n of this.keys){let s=this.getResource(n),c=null;if(s.hasFileToLoad())try{console.log("preload "+s.title+"..."),c=await Ia(s.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(f){console.error(f)}}}}}),Ek=class Ek{constructor(s={}){Fo(this,"resource_key","");Fo(this,"mark_key","");Fo(this,"mark_value",null);Fo(this,"parent_number",0);Fo(this,"start_position",0);Fo(this,"end_position",0);Fo(this,"comment",null);Fo(this,"label","");this.setData(s)}static buildKey(s,c){return"ANNO_"+s+"_"+c}static getFromKey(s){const c=s.split("_");return new Ek({resource_key:c[1],mark_key:c[2]})}static compare(s,c){return s.resource_key<c.resource_key?-1:s.resource_key>c.resource_key?1:s.parent_number<c.parent_number?-1:s.parent_number>c.parent_number?1:s.start_position<c.start_position?-1:s.start_position>c.start_position?1:0}setData(s){s.resource_key!==void 0&&s.resource_key!==null&&(this.resource_key=s.resource_key.toString()),s.mark_key!==void 0&&s.mark_key!==null?this.mark_key=s.mark_key:this.mark_key=Math.random().toString(),s.mark_value!==void 0&&s.mark_value!==null&&(this.mark_value=s.mark_value),s.parent_number!==void 0&&s.parent_number!==null&&(this.parent_number=s.parent_number),s.start_position!==void 0&&s.start_position!==null&&(this.start_position=s.start_position),s.end_position!==void 0&&s.end_position!==null&&(this.end_position=s.end_position),s.comment!==void 0&&s.comment!==null&&(this.comment=s.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return Ek.buildKey(this.resource_key,this.mark_key)}getSignature(){return JSON.stringify(this.getData())}getClone(){return new Ek(this.getData())}};Fo(Ek,"KEY_INSTRUCTIONS","0");let vd=Ek;const bz=hb.createInstance({storeName:"writer-layout",description:"Layout data"}),jl=_g("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,showSendingStatus:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isLeftVisible:n=>n.expandedColumn!="right",isRightVisible:n=>n.expandedColumn!="left",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isResourcesSelected:n=>n.leftContent=="resources",isAnnotationsSelected:n=>n.rightContent=="annotations",isEssaySelected:n=>n.rightContent=="essay",isNotesSelected:n=>n.rightContent=="notes",isInstructionsVisible:n=>n.expandedColumn!="right"&&n.leftContent=="instructions",isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.expandedColumn!="right"&&n.leftContent=="resources",isAnnotationsVisible:n=>n.expandedColumn!="left"&&n.rightContent=="annotations",isEssayVisible:n=>n.expandedColumn!="left"&&n.rightContent=="essay",isNotesVisible:n=>n.expandedColumn!="left"&&n.rightContent=="notes",isResourceShown:n=>{const s=ef();return function(f){return n.isInstructionsPdfVisible&&f.type==_u.TYPE_INSTRUCTION||n.isResourcesVisible&&s.isActive(f)}},selectedResourceKey:n=>{const s=ef();if(n.isInstructionsSelected)return vd.KEY_INSTRUCTIONS;if(n.isInstructionsPdfSelected){const c=s.getInstruction;if(c)return c.key}else if(n.isResourcesSelected)return s.activeKey;return null}},actions:{async initialize(){await this.clearStorage();const n=ef(),s=tf();this.leftContent=s.hasInstructions?"instructions":n.hasInstruction?"instructionsPdf":n.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await bz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const n=await bz.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.showTimer=n.showTimer)}catch(n){console.log(n)}},async saveToStorage(){try{await bz.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(n){console.log(n)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showForResourceKey(n){const s=ef(),c=s.getResource(n);c&&(c.type==_u.TYPE_INSTRUCTION?this.showInstructionsPdf():(s.selectResource(c),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.setFocusChange("left"),this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.setFocusChange("right"),this.saveToStorage()},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var vz={exports:{}},Eq;function hpe(){return Eq||(Eq=1,function(n){var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},c=-1,f=1,g=0;s.Diff=function(h,x){return[h,x]},s.prototype.diff_main=function(h,x,C,O){typeof O>"u"&&(this.Diff_Timeout<=0?O=Number.MAX_VALUE:O=new Date().getTime()+this.Diff_Timeout*1e3);var R=O;if(h==null||x==null)throw new Error("Null input. (diff_main)");if(h==x)return h?[new s.Diff(g,h)]:[];typeof C>"u"&&(C=!0);var D=C,N=this.diff_commonPrefix(h,x),H=h.substring(0,N);h=h.substring(N),x=x.substring(N),N=this.diff_commonSuffix(h,x);var V=h.substring(h.length-N);h=h.substring(0,h.length-N),x=x.substring(0,x.length-N);var Z=this.diff_compute_(h,x,D,R);return H&&Z.unshift(new s.Diff(g,H)),V&&Z.push(new s.Diff(g,V)),this.diff_cleanupMerge(Z),Z},s.prototype.diff_compute_=function(h,x,C,O){var R;if(!h)return[new s.Diff(f,x)];if(!x)return[new s.Diff(c,h)];var D=h.length>x.length?h:x,N=h.length>x.length?x:h,H=D.indexOf(N);if(H!=-1)return R=[new s.Diff(f,D.substring(0,H)),new s.Diff(g,N),new s.Diff(f,D.substring(H+N.length))],h.length>x.length&&(R[0][0]=R[2][0]=c),R;if(N.length==1)return[new s.Diff(c,h),new s.Diff(f,x)];var V=this.diff_halfMatch_(h,x);if(V){var Z=V[0],te=V[1],ce=V[2],X=V[3],Se=V[4],fe=this.diff_main(Z,ce,C,O),j=this.diff_main(te,X,C,O);return fe.concat([new s.Diff(g,Se)],j)}return C&&h.length>100&&x.length>100?this.diff_lineMode_(h,x,O):this.diff_bisect_(h,x,O)},s.prototype.diff_lineMode_=function(h,x,C){var O=this.diff_linesToChars_(h,x);h=O.chars1,x=O.chars2;var R=O.lineArray,D=this.diff_main(h,x,!1,C);this.diff_charsToLines_(D,R),this.diff_cleanupSemantic(D),D.push(new s.Diff(g,""));for(var N=0,H=0,V=0,Z="",te="";N<D.length;){switch(D[N][0]){case f:V++,te+=D[N][1];break;case c:H++,Z+=D[N][1];break;case g:if(H>=1&&V>=1){D.splice(N-H-V,H+V),N=N-H-V;for(var ce=this.diff_main(Z,te,!1,C),X=ce.length-1;X>=0;X--)D.splice(N,0,ce[X]);N=N+ce.length}V=0,H=0,Z="",te="";break}N++}return D.pop(),D},s.prototype.diff_bisect_=function(h,x,C){for(var O=h.length,R=x.length,D=Math.ceil((O+R)/2),N=D,H=2*D,V=new Array(H),Z=new Array(H),te=0;te<H;te++)V[te]=-1,Z[te]=-1;V[N+1]=0,Z[N+1]=0;for(var ce=O-R,X=ce%2!=0,Se=0,fe=0,j=0,de=0,oe=0;oe<D&&!(new Date().getTime()>C);oe++){for(var Ue=-oe+Se;Ue<=oe-fe;Ue+=2){var He=N+Ue,je;Ue==-oe||Ue!=oe&&V[He-1]<V[He+1]?je=V[He+1]:je=V[He-1]+1;for(var st=je-Ue;je<O&&st<R&&h.charAt(je)==x.charAt(st);)je++,st++;if(V[He]=je,je>O)fe+=2;else if(st>R)Se+=2;else if(X){var Oe=N+ce-Ue;if(Oe>=0&&Oe<H&&Z[Oe]!=-1){var Be=O-Z[Oe];if(je>=Be)return this.diff_bisectSplit_(h,x,je,st,C)}}}for(var P=-oe+j;P<=oe-de;P+=2){var Oe=N+P,Be;P==-oe||P!=oe&&Z[Oe-1]<Z[Oe+1]?Be=Z[Oe+1]:Be=Z[Oe-1]+1;for(var St=Be-P;Be<O&&St<R&&h.charAt(O-Be-1)==x.charAt(R-St-1);)Be++,St++;if(Z[Oe]=Be,Be>O)de+=2;else if(St>R)j+=2;else if(!X){var He=N+ce-P;if(He>=0&&He<H&&V[He]!=-1){var je=V[He],st=N+je-He;if(Be=O-Be,je>=Be)return this.diff_bisectSplit_(h,x,je,st,C)}}}}return[new s.Diff(c,h),new s.Diff(f,x)]},s.prototype.diff_bisectSplit_=function(h,x,C,O,R){var D=h.substring(0,C),N=x.substring(0,O),H=h.substring(C),V=x.substring(O),Z=this.diff_main(D,N,!1,R),te=this.diff_main(H,V,!1,R);return Z.concat(te)},s.prototype.diff_linesToChars_=function(h,x){var C=[],O={};C[0]="";function R(V){for(var Z="",te=0,ce=-1,X=C.length;ce<V.length-1;){ce=V.indexOf(`
`,te),ce==-1&&(ce=V.length-1);var Se=V.substring(te,ce+1);(O.hasOwnProperty?O.hasOwnProperty(Se):O[Se]!==void 0)?Z+=String.fromCharCode(O[Se]):(X==D&&(Se=V.substring(te),ce=V.length),Z+=String.fromCharCode(X),O[Se]=X,C[X++]=Se),te=ce+1}return Z}var D=4e4,N=R(h);D=65535;var H=R(x);return{chars1:N,chars2:H,lineArray:C}},s.prototype.diff_charsToLines_=function(h,x){for(var C=0;C<h.length;C++){for(var O=h[C][1],R=[],D=0;D<O.length;D++)R[D]=x[O.charCodeAt(D)];h[C][1]=R.join("")}},s.prototype.diff_commonPrefix=function(h,x){if(!h||!x||h.charAt(0)!=x.charAt(0))return 0;for(var C=0,O=Math.min(h.length,x.length),R=O,D=0;C<R;)h.substring(D,R)==x.substring(D,R)?(C=R,D=C):O=R,R=Math.floor((O-C)/2+C);return R},s.prototype.diff_commonSuffix=function(h,x){if(!h||!x||h.charAt(h.length-1)!=x.charAt(x.length-1))return 0;for(var C=0,O=Math.min(h.length,x.length),R=O,D=0;C<R;)h.substring(h.length-R,h.length-D)==x.substring(x.length-R,x.length-D)?(C=R,D=C):O=R,R=Math.floor((O-C)/2+C);return R},s.prototype.diff_commonOverlap_=function(h,x){var C=h.length,O=x.length;if(C==0||O==0)return 0;C>O?h=h.substring(C-O):C<O&&(x=x.substring(0,C));var R=Math.min(C,O);if(h==x)return R;for(var D=0,N=1;;){var H=h.substring(R-N),V=x.indexOf(H);if(V==-1)return D;N+=V,(V==0||h.substring(R-N)==x.substring(0,N))&&(D=N,N++)}},s.prototype.diff_halfMatch_=function(h,x){if(this.Diff_Timeout<=0)return null;var C=h.length>x.length?h:x,O=h.length>x.length?x:h;if(C.length<4||O.length*2<C.length)return null;var R=this;function D(fe,j,de){for(var oe=fe.substring(de,de+Math.floor(fe.length/4)),Ue=-1,He="",je,st,Oe,Be;(Ue=j.indexOf(oe,Ue+1))!=-1;){var P=R.diff_commonPrefix(fe.substring(de),j.substring(Ue)),St=R.diff_commonSuffix(fe.substring(0,de),j.substring(0,Ue));He.length<St+P&&(He=j.substring(Ue-St,Ue)+j.substring(Ue,Ue+P),je=fe.substring(0,de-St),st=fe.substring(de+P),Oe=j.substring(0,Ue-St),Be=j.substring(Ue+P))}return He.length*2>=fe.length?[je,st,Oe,Be,He]:null}var N=D(C,O,Math.ceil(C.length/4)),H=D(C,O,Math.ceil(C.length/2)),V;if(!N&&!H)return null;H?N?V=N[4].length>H[4].length?N:H:V=H:V=N;var Z,te,ce,X;h.length>x.length?(Z=V[0],te=V[1],ce=V[2],X=V[3]):(ce=V[0],X=V[1],Z=V[2],te=V[3]);var Se=V[4];return[Z,te,ce,X,Se]},s.prototype.diff_cleanupSemantic=function(h){for(var x=!1,C=[],O=0,R=null,D=0,N=0,H=0,V=0,Z=0;D<h.length;)h[D][0]==g?(C[O++]=D,N=V,H=Z,V=0,Z=0,R=h[D][1]):(h[D][0]==f?V+=h[D][1].length:Z+=h[D][1].length,R&&R.length<=Math.max(N,H)&&R.length<=Math.max(V,Z)&&(h.splice(C[O-1],0,new s.Diff(c,R)),h[C[O-1]+1][0]=f,O--,O--,D=O>0?C[O-1]:-1,N=0,H=0,V=0,Z=0,R=null,x=!0)),D++;for(x&&this.diff_cleanupMerge(h),this.diff_cleanupSemanticLossless(h),D=1;D<h.length;){if(h[D-1][0]==c&&h[D][0]==f){var te=h[D-1][1],ce=h[D][1],X=this.diff_commonOverlap_(te,ce),Se=this.diff_commonOverlap_(ce,te);X>=Se?(X>=te.length/2||X>=ce.length/2)&&(h.splice(D,0,new s.Diff(g,ce.substring(0,X))),h[D-1][1]=te.substring(0,te.length-X),h[D+1][1]=ce.substring(X),D++):(Se>=te.length/2||Se>=ce.length/2)&&(h.splice(D,0,new s.Diff(g,te.substring(0,Se))),h[D-1][0]=f,h[D-1][1]=ce.substring(0,ce.length-Se),h[D+1][0]=c,h[D+1][1]=te.substring(Se),D++),D++}D++}},s.prototype.diff_cleanupSemanticLossless=function(h){function x(Se,fe){if(!Se||!fe)return 6;var j=Se.charAt(Se.length-1),de=fe.charAt(0),oe=j.match(s.nonAlphaNumericRegex_),Ue=de.match(s.nonAlphaNumericRegex_),He=oe&&j.match(s.whitespaceRegex_),je=Ue&&de.match(s.whitespaceRegex_),st=He&&j.match(s.linebreakRegex_),Oe=je&&de.match(s.linebreakRegex_),Be=st&&Se.match(s.blanklineEndRegex_),P=Oe&&fe.match(s.blanklineStartRegex_);return Be||P?5:st||Oe?4:oe&&!He&&je?3:He||je?2:oe||Ue?1:0}for(var C=1;C<h.length-1;){if(h[C-1][0]==g&&h[C+1][0]==g){var O=h[C-1][1],R=h[C][1],D=h[C+1][1],N=this.diff_commonSuffix(O,R);if(N){var H=R.substring(R.length-N);O=O.substring(0,O.length-N),R=H+R.substring(0,R.length-N),D=H+D}for(var V=O,Z=R,te=D,ce=x(O,R)+x(R,D);R.charAt(0)===D.charAt(0);){O+=R.charAt(0),R=R.substring(1)+D.charAt(0),D=D.substring(1);var X=x(O,R)+x(R,D);X>=ce&&(ce=X,V=O,Z=R,te=D)}h[C-1][1]!=V&&(V?h[C-1][1]=V:(h.splice(C-1,1),C--),h[C][1]=Z,te?h[C+1][1]=te:(h.splice(C+1,1),C--))}C++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(h){for(var x=!1,C=[],O=0,R=null,D=0,N=!1,H=!1,V=!1,Z=!1;D<h.length;)h[D][0]==g?(h[D][1].length<this.Diff_EditCost&&(V||Z)?(C[O++]=D,N=V,H=Z,R=h[D][1]):(O=0,R=null),V=Z=!1):(h[D][0]==c?Z=!0:V=!0,R&&(N&&H&&V&&Z||R.length<this.Diff_EditCost/2&&N+H+V+Z==3)&&(h.splice(C[O-1],0,new s.Diff(c,R)),h[C[O-1]+1][0]=f,O--,R=null,N&&H?(V=Z=!0,O=0):(O--,D=O>0?C[O-1]:-1,V=Z=!1),x=!0)),D++;x&&this.diff_cleanupMerge(h)},s.prototype.diff_cleanupMerge=function(h){h.push(new s.Diff(g,""));for(var x=0,C=0,O=0,R="",D="",N;x<h.length;)switch(h[x][0]){case f:O++,D+=h[x][1],x++;break;case c:C++,R+=h[x][1],x++;break;case g:C+O>1?(C!==0&&O!==0&&(N=this.diff_commonPrefix(D,R),N!==0&&(x-C-O>0&&h[x-C-O-1][0]==g?h[x-C-O-1][1]+=D.substring(0,N):(h.splice(0,0,new s.Diff(g,D.substring(0,N))),x++),D=D.substring(N),R=R.substring(N)),N=this.diff_commonSuffix(D,R),N!==0&&(h[x][1]=D.substring(D.length-N)+h[x][1],D=D.substring(0,D.length-N),R=R.substring(0,R.length-N))),x-=C+O,h.splice(x,C+O),R.length&&(h.splice(x,0,new s.Diff(c,R)),x++),D.length&&(h.splice(x,0,new s.Diff(f,D)),x++),x++):x!==0&&h[x-1][0]==g?(h[x-1][1]+=h[x][1],h.splice(x,1)):x++,O=0,C=0,R="",D="";break}h[h.length-1][1]===""&&h.pop();var H=!1;for(x=1;x<h.length-1;)h[x-1][0]==g&&h[x+1][0]==g&&(h[x][1].substring(h[x][1].length-h[x-1][1].length)==h[x-1][1]?(h[x][1]=h[x-1][1]+h[x][1].substring(0,h[x][1].length-h[x-1][1].length),h[x+1][1]=h[x-1][1]+h[x+1][1],h.splice(x-1,1),H=!0):h[x][1].substring(0,h[x+1][1].length)==h[x+1][1]&&(h[x-1][1]+=h[x+1][1],h[x][1]=h[x][1].substring(h[x+1][1].length)+h[x+1][1],h.splice(x+1,1),H=!0)),x++;H&&this.diff_cleanupMerge(h)},s.prototype.diff_xIndex=function(h,x){var C=0,O=0,R=0,D=0,N;for(N=0;N<h.length&&(h[N][0]!==f&&(C+=h[N][1].length),h[N][0]!==c&&(O+=h[N][1].length),!(C>x));N++)R=C,D=O;return h.length!=N&&h[N][0]===c?D:D+(x-R)},s.prototype.diff_prettyHtml=function(h){for(var x=[],C=/&/g,O=/</g,R=/>/g,D=/\n/g,N=0;N<h.length;N++){var H=h[N][0],V=h[N][1],Z=V.replace(C,"&amp;").replace(O,"&lt;").replace(R,"&gt;").replace(D,"&para;<br>");switch(H){case f:x[N]='<ins style="background:#e6ffe6;">'+Z+"</ins>";break;case c:x[N]='<del style="background:#ffe6e6;">'+Z+"</del>";break;case g:x[N]="<span>"+Z+"</span>";break}}return x.join("")},s.prototype.diff_text1=function(h){for(var x=[],C=0;C<h.length;C++)h[C][0]!==f&&(x[C]=h[C][1]);return x.join("")},s.prototype.diff_text2=function(h){for(var x=[],C=0;C<h.length;C++)h[C][0]!==c&&(x[C]=h[C][1]);return x.join("")},s.prototype.diff_levenshtein=function(h){for(var x=0,C=0,O=0,R=0;R<h.length;R++){var D=h[R][0],N=h[R][1];switch(D){case f:C+=N.length;break;case c:O+=N.length;break;case g:x+=Math.max(C,O),C=0,O=0;break}}return x+=Math.max(C,O),x},s.prototype.diff_toDelta=function(h){for(var x=[],C=0;C<h.length;C++)switch(h[C][0]){case f:x[C]="+"+encodeURI(h[C][1]);break;case c:x[C]="-"+h[C][1].length;break;case g:x[C]="="+h[C][1].length;break}return x.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(h,x){for(var C=[],O=0,R=0,D=x.split(/\t/g),N=0;N<D.length;N++){var H=D[N].substring(1);switch(D[N].charAt(0)){case"+":try{C[O++]=new s.Diff(f,decodeURI(H))}catch{throw new Error("Illegal escape in diff_fromDelta: "+H)}break;case"-":case"=":var V=parseInt(H,10);if(isNaN(V)||V<0)throw new Error("Invalid number in diff_fromDelta: "+H);var Z=h.substring(R,R+=V);D[N].charAt(0)=="="?C[O++]=new s.Diff(g,Z):C[O++]=new s.Diff(c,Z);break;default:if(D[N])throw new Error("Invalid diff operation in diff_fromDelta: "+D[N])}}if(R!=h.length)throw new Error("Delta length ("+R+") does not equal source text length ("+h.length+").");return C},s.prototype.match_main=function(h,x,C){if(h==null||x==null||C==null)throw new Error("Null input. (match_main)");return C=Math.max(0,Math.min(C,h.length)),h==x?0:h.length?h.substring(C,C+x.length)==x?C:this.match_bitap_(h,x,C):-1},s.prototype.match_bitap_=function(h,x,C){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var O=this.match_alphabet_(x),R=this;function D(je,st){var Oe=je/x.length,Be=Math.abs(C-st);return R.Match_Distance?Oe+Be/R.Match_Distance:Be?1:Oe}var N=this.Match_Threshold,H=h.indexOf(x,C);H!=-1&&(N=Math.min(D(0,H),N),H=h.lastIndexOf(x,C+x.length),H!=-1&&(N=Math.min(D(0,H),N)));var V=1<<x.length-1;H=-1;for(var Z,te,ce=x.length+h.length,X,Se=0;Se<x.length;Se++){for(Z=0,te=ce;Z<te;)D(Se,C+te)<=N?Z=te:ce=te,te=Math.floor((ce-Z)/2+Z);ce=te;var fe=Math.max(1,C-te+1),j=Math.min(C+te,h.length)+x.length,de=Array(j+2);de[j+1]=(1<<Se)-1;for(var oe=j;oe>=fe;oe--){var Ue=O[h.charAt(oe-1)];if(Se===0?de[oe]=(de[oe+1]<<1|1)&Ue:de[oe]=(de[oe+1]<<1|1)&Ue|((X[oe+1]|X[oe])<<1|1)|X[oe+1],de[oe]&V){var He=D(Se,oe-1);if(He<=N)if(N=He,H=oe-1,H>C)fe=Math.max(1,2*C-H);else break}}if(D(Se+1,C)>N)break;X=de}return H},s.prototype.match_alphabet_=function(h){for(var x={},C=0;C<h.length;C++)x[h.charAt(C)]=0;for(var C=0;C<h.length;C++)x[h.charAt(C)]|=1<<h.length-C-1;return x},s.prototype.patch_addContext_=function(h,x){if(x.length!=0){if(h.start2===null)throw Error("patch not initialized");for(var C=x.substring(h.start2,h.start2+h.length1),O=0;x.indexOf(C)!=x.lastIndexOf(C)&&C.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)O+=this.Patch_Margin,C=x.substring(h.start2-O,h.start2+h.length1+O);O+=this.Patch_Margin;var R=x.substring(h.start2-O,h.start2);R&&h.diffs.unshift(new s.Diff(g,R));var D=x.substring(h.start2+h.length1,h.start2+h.length1+O);D&&h.diffs.push(new s.Diff(g,D)),h.start1-=R.length,h.start2-=R.length,h.length1+=R.length+D.length,h.length2+=R.length+D.length}},s.prototype.patch_make=function(h,x,C){var O,R;if(typeof h=="string"&&typeof x=="string"&&typeof C>"u")O=h,R=this.diff_main(O,x,!0),R.length>2&&(this.diff_cleanupSemantic(R),this.diff_cleanupEfficiency(R));else if(h&&typeof h=="object"&&typeof x>"u"&&typeof C>"u")R=h,O=this.diff_text1(R);else if(typeof h=="string"&&x&&typeof x=="object"&&typeof C>"u")O=h,R=x;else if(typeof h=="string"&&typeof x=="string"&&C&&typeof C=="object")O=h,R=C;else throw new Error("Unknown call format to patch_make.");if(R.length===0)return[];for(var D=[],N=new s.patch_obj,H=0,V=0,Z=0,te=O,ce=O,X=0;X<R.length;X++){var Se=R[X][0],fe=R[X][1];switch(!H&&Se!==g&&(N.start1=V,N.start2=Z),Se){case f:N.diffs[H++]=R[X],N.length2+=fe.length,ce=ce.substring(0,Z)+fe+ce.substring(Z);break;case c:N.length1+=fe.length,N.diffs[H++]=R[X],ce=ce.substring(0,Z)+ce.substring(Z+fe.length);break;case g:fe.length<=2*this.Patch_Margin&&H&&R.length!=X+1?(N.diffs[H++]=R[X],N.length1+=fe.length,N.length2+=fe.length):fe.length>=2*this.Patch_Margin&&H&&(this.patch_addContext_(N,te),D.push(N),N=new s.patch_obj,H=0,te=ce,V=Z);break}Se!==f&&(V+=fe.length),Se!==c&&(Z+=fe.length)}return H&&(this.patch_addContext_(N,te),D.push(N)),D},s.prototype.patch_deepCopy=function(h){for(var x=[],C=0;C<h.length;C++){var O=h[C],R=new s.patch_obj;R.diffs=[];for(var D=0;D<O.diffs.length;D++)R.diffs[D]=new s.Diff(O.diffs[D][0],O.diffs[D][1]);R.start1=O.start1,R.start2=O.start2,R.length1=O.length1,R.length2=O.length2,x[C]=R}return x},s.prototype.patch_apply=function(h,x){if(h.length==0)return[x,[]];h=this.patch_deepCopy(h);var C=this.patch_addPadding(h);x=C+x+C,this.patch_splitMax(h);for(var O=0,R=[],D=0;D<h.length;D++){var N=h[D].start2+O,H=this.diff_text1(h[D].diffs),V,Z=-1;if(H.length>this.Match_MaxBits?(V=this.match_main(x,H.substring(0,this.Match_MaxBits),N),V!=-1&&(Z=this.match_main(x,H.substring(H.length-this.Match_MaxBits),N+H.length-this.Match_MaxBits),(Z==-1||V>=Z)&&(V=-1))):V=this.match_main(x,H,N),V==-1)R[D]=!1,O-=h[D].length2-h[D].length1;else{R[D]=!0,O=V-N;var te;if(Z==-1?te=x.substring(V,V+H.length):te=x.substring(V,Z+this.Match_MaxBits),H==te)x=x.substring(0,V)+this.diff_text2(h[D].diffs)+x.substring(V+H.length);else{var ce=this.diff_main(H,te,!1);if(H.length>this.Match_MaxBits&&this.diff_levenshtein(ce)/H.length>this.Patch_DeleteThreshold)R[D]=!1;else{this.diff_cleanupSemanticLossless(ce);for(var X=0,Se,fe=0;fe<h[D].diffs.length;fe++){var j=h[D].diffs[fe];j[0]!==g&&(Se=this.diff_xIndex(ce,X)),j[0]===f?x=x.substring(0,V+Se)+j[1]+x.substring(V+Se):j[0]===c&&(x=x.substring(0,V+Se)+x.substring(V+this.diff_xIndex(ce,X+j[1].length))),j[0]!==c&&(X+=j[1].length)}}}}}return x=x.substring(C.length,x.length-C.length),[x,R]},s.prototype.patch_addPadding=function(h){for(var x=this.Patch_Margin,C="",O=1;O<=x;O++)C+=String.fromCharCode(O);for(var O=0;O<h.length;O++)h[O].start1+=x,h[O].start2+=x;var R=h[0],D=R.diffs;if(D.length==0||D[0][0]!=g)D.unshift(new s.Diff(g,C)),R.start1-=x,R.start2-=x,R.length1+=x,R.length2+=x;else if(x>D[0][1].length){var N=x-D[0][1].length;D[0][1]=C.substring(D[0][1].length)+D[0][1],R.start1-=N,R.start2-=N,R.length1+=N,R.length2+=N}if(R=h[h.length-1],D=R.diffs,D.length==0||D[D.length-1][0]!=g)D.push(new s.Diff(g,C)),R.length1+=x,R.length2+=x;else if(x>D[D.length-1][1].length){var N=x-D[D.length-1][1].length;D[D.length-1][1]+=C.substring(0,N),R.length1+=N,R.length2+=N}return C},s.prototype.patch_splitMax=function(h){for(var x=this.Match_MaxBits,C=0;C<h.length;C++)if(!(h[C].length1<=x)){var O=h[C];h.splice(C--,1);for(var R=O.start1,D=O.start2,N="";O.diffs.length!==0;){var H=new s.patch_obj,V=!0;for(H.start1=R-N.length,H.start2=D-N.length,N!==""&&(H.length1=H.length2=N.length,H.diffs.push(new s.Diff(g,N)));O.diffs.length!==0&&H.length1<x-this.Patch_Margin;){var Z=O.diffs[0][0],te=O.diffs[0][1];Z===f?(H.length2+=te.length,D+=te.length,H.diffs.push(O.diffs.shift()),V=!1):Z===c&&H.diffs.length==1&&H.diffs[0][0]==g&&te.length>2*x?(H.length1+=te.length,R+=te.length,V=!1,H.diffs.push(new s.Diff(Z,te)),O.diffs.shift()):(te=te.substring(0,x-H.length1-this.Patch_Margin),H.length1+=te.length,R+=te.length,Z===g?(H.length2+=te.length,D+=te.length):V=!1,H.diffs.push(new s.Diff(Z,te)),te==O.diffs[0][1]?O.diffs.shift():O.diffs[0][1]=O.diffs[0][1].substring(te.length))}N=this.diff_text2(H.diffs),N=N.substring(N.length-this.Patch_Margin);var ce=this.diff_text1(O.diffs).substring(0,this.Patch_Margin);ce!==""&&(H.length1+=ce.length,H.length2+=ce.length,H.diffs.length!==0&&H.diffs[H.diffs.length-1][0]===g?H.diffs[H.diffs.length-1][1]+=ce:H.diffs.push(new s.Diff(g,ce))),V||h.splice(++C,0,H)}}},s.prototype.patch_toText=function(h){for(var x=[],C=0;C<h.length;C++)x[C]=h[C];return x.join("")},s.prototype.patch_fromText=function(h){var x=[];if(!h)return x;for(var C=h.split(`
`),O=0,R=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;O<C.length;){var D=C[O].match(R);if(!D)throw new Error("Invalid patch string: "+C[O]);var N=new s.patch_obj;for(x.push(N),N.start1=parseInt(D[1],10),D[2]===""?(N.start1--,N.length1=1):D[2]=="0"?N.length1=0:(N.start1--,N.length1=parseInt(D[2],10)),N.start2=parseInt(D[3],10),D[4]===""?(N.start2--,N.length2=1):D[4]=="0"?N.length2=0:(N.start2--,N.length2=parseInt(D[4],10)),O++;O<C.length;){var H=C[O].charAt(0);try{var V=decodeURI(C[O].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+V)}if(H=="-")N.diffs.push(new s.Diff(c,V));else if(H=="+")N.diffs.push(new s.Diff(f,V));else if(H==" ")N.diffs.push(new s.Diff(g,V));else{if(H=="@")break;if(H!=="")throw new Error('Invalid patch mode "'+H+'" in: '+V)}O++}}return x},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var h,x;this.length1===0?h=this.start1+",0":this.length1==1?h=this.start1+1:h=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var C=["@@ -"+h+" +"+x+` @@
`],O,R=0;R<this.diffs.length;R++){switch(this.diffs[R][0]){case f:O="+";break;case c:O="-";break;case g:O=" ";break}C[R+1]=O+encodeURI(this.diffs[R][1])+`
`}return C.join("").replace(/%20/g," ")},n.exports=s,n.exports.diff_match_patch=s,n.exports.DIFF_DELETE=c,n.exports.DIFF_INSERT=f,n.exports.DIFF_EQUAL=g}(vz)),vz.exports}var ppe=hpe();const bpe=pM(ppe);var yz={exports:{}},xz={exports:{}},Aq;function vpe(){return Aq||(Aq=1,function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(c,f){return c<<f|c>>>32-f},rotr:function(c,f){return c<<32-f|c>>>f},endian:function(c){if(c.constructor==Number)return s.rotl(c,8)&16711935|s.rotl(c,24)&4278255360;for(var f=0;f<c.length;f++)c[f]=s.endian(c[f]);return c},randomBytes:function(c){for(var f=[];c>0;c--)f.push(Math.floor(Math.random()*256));return f},bytesToWords:function(c){for(var f=[],g=0,h=0;g<c.length;g++,h+=8)f[h>>>5]|=c[g]<<24-h%32;return f},wordsToBytes:function(c){for(var f=[],g=0;g<c.length*32;g+=8)f.push(c[g>>>5]>>>24-g%32&255);return f},bytesToHex:function(c){for(var f=[],g=0;g<c.length;g++)f.push((c[g]>>>4).toString(16)),f.push((c[g]&15).toString(16));return f.join("")},hexToBytes:function(c){for(var f=[],g=0;g<c.length;g+=2)f.push(parseInt(c.substr(g,2),16));return f},bytesToBase64:function(c){for(var f=[],g=0;g<c.length;g+=3)for(var h=c[g]<<16|c[g+1]<<8|c[g+2],x=0;x<4;x++)g*8+x*6<=c.length*8?f.push(n.charAt(h>>>6*(3-x)&63)):f.push("=");return f.join("")},base64ToBytes:function(c){c=c.replace(/[^A-Z0-9+\/]/ig,"");for(var f=[],g=0,h=0;g<c.length;h=++g%4)h!=0&&f.push((n.indexOf(c.charAt(g-1))&Math.pow(2,-2*h+8)-1)<<h*2|n.indexOf(c.charAt(g))>>>6-h*2);return f}};xz.exports=s}()),xz.exports}var wz,Tq;function Oq(){if(Tq)return wz;Tq=1;var n={utf8:{stringToBytes:function(s){return n.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(n.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var c=[],f=0;f<s.length;f++)c.push(s.charCodeAt(f)&255);return c},bytesToString:function(s){for(var c=[],f=0;f<s.length;f++)c.push(String.fromCharCode(s[f]));return c.join("")}}};return wz=n,wz}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Cz,Dq;function ype(){if(Dq)return Cz;Dq=1,Cz=function(c){return c!=null&&(n(c)||s(c)||!!c._isBuffer)};function n(c){return!!c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)}function s(c){return typeof c.readFloatLE=="function"&&typeof c.slice=="function"&&n(c.slice(0,0))}return Cz}var Rq;function xpe(){return Rq||(Rq=1,function(){var n=vpe(),s=Oq().utf8,c=ype(),f=Oq().bin,g=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=f.stringToBytes(h):h=s.stringToBytes(h):c(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var C=n.bytesToWords(h),O=h.length*8,R=1732584193,D=-271733879,N=-1732584194,H=271733878,V=0;V<C.length;V++)C[V]=(C[V]<<8|C[V]>>>24)&16711935|(C[V]<<24|C[V]>>>8)&4278255360;C[O>>>5]|=128<<O%32,C[(O+64>>>9<<4)+14]=O;for(var Z=g._ff,te=g._gg,ce=g._hh,X=g._ii,V=0;V<C.length;V+=16){var Se=R,fe=D,j=N,de=H;R=Z(R,D,N,H,C[V+0],7,-680876936),H=Z(H,R,D,N,C[V+1],12,-389564586),N=Z(N,H,R,D,C[V+2],17,606105819),D=Z(D,N,H,R,C[V+3],22,-1044525330),R=Z(R,D,N,H,C[V+4],7,-176418897),H=Z(H,R,D,N,C[V+5],12,1200080426),N=Z(N,H,R,D,C[V+6],17,-1473231341),D=Z(D,N,H,R,C[V+7],22,-45705983),R=Z(R,D,N,H,C[V+8],7,1770035416),H=Z(H,R,D,N,C[V+9],12,-1958414417),N=Z(N,H,R,D,C[V+10],17,-42063),D=Z(D,N,H,R,C[V+11],22,-1990404162),R=Z(R,D,N,H,C[V+12],7,1804603682),H=Z(H,R,D,N,C[V+13],12,-40341101),N=Z(N,H,R,D,C[V+14],17,-1502002290),D=Z(D,N,H,R,C[V+15],22,1236535329),R=te(R,D,N,H,C[V+1],5,-165796510),H=te(H,R,D,N,C[V+6],9,-1069501632),N=te(N,H,R,D,C[V+11],14,643717713),D=te(D,N,H,R,C[V+0],20,-373897302),R=te(R,D,N,H,C[V+5],5,-701558691),H=te(H,R,D,N,C[V+10],9,38016083),N=te(N,H,R,D,C[V+15],14,-660478335),D=te(D,N,H,R,C[V+4],20,-405537848),R=te(R,D,N,H,C[V+9],5,568446438),H=te(H,R,D,N,C[V+14],9,-1019803690),N=te(N,H,R,D,C[V+3],14,-187363961),D=te(D,N,H,R,C[V+8],20,1163531501),R=te(R,D,N,H,C[V+13],5,-1444681467),H=te(H,R,D,N,C[V+2],9,-51403784),N=te(N,H,R,D,C[V+7],14,1735328473),D=te(D,N,H,R,C[V+12],20,-1926607734),R=ce(R,D,N,H,C[V+5],4,-378558),H=ce(H,R,D,N,C[V+8],11,-2022574463),N=ce(N,H,R,D,C[V+11],16,1839030562),D=ce(D,N,H,R,C[V+14],23,-35309556),R=ce(R,D,N,H,C[V+1],4,-1530992060),H=ce(H,R,D,N,C[V+4],11,1272893353),N=ce(N,H,R,D,C[V+7],16,-155497632),D=ce(D,N,H,R,C[V+10],23,-1094730640),R=ce(R,D,N,H,C[V+13],4,681279174),H=ce(H,R,D,N,C[V+0],11,-358537222),N=ce(N,H,R,D,C[V+3],16,-722521979),D=ce(D,N,H,R,C[V+6],23,76029189),R=ce(R,D,N,H,C[V+9],4,-640364487),H=ce(H,R,D,N,C[V+12],11,-421815835),N=ce(N,H,R,D,C[V+15],16,530742520),D=ce(D,N,H,R,C[V+2],23,-995338651),R=X(R,D,N,H,C[V+0],6,-198630844),H=X(H,R,D,N,C[V+7],10,1126891415),N=X(N,H,R,D,C[V+14],15,-1416354905),D=X(D,N,H,R,C[V+5],21,-57434055),R=X(R,D,N,H,C[V+12],6,1700485571),H=X(H,R,D,N,C[V+3],10,-1894986606),N=X(N,H,R,D,C[V+10],15,-1051523),D=X(D,N,H,R,C[V+1],21,-2054922799),R=X(R,D,N,H,C[V+8],6,1873313359),H=X(H,R,D,N,C[V+15],10,-30611744),N=X(N,H,R,D,C[V+6],15,-1560198380),D=X(D,N,H,R,C[V+13],21,1309151649),R=X(R,D,N,H,C[V+4],6,-145523070),H=X(H,R,D,N,C[V+11],10,-1120210379),N=X(N,H,R,D,C[V+2],15,718787259),D=X(D,N,H,R,C[V+9],21,-343485551),R=R+Se>>>0,D=D+fe>>>0,N=N+j>>>0,H=H+de>>>0}return n.endian([R,D,N,H])};g._ff=function(h,x,C,O,R,D,N){var H=h+(x&C|~x&O)+(R>>>0)+N;return(H<<D|H>>>32-D)+x},g._gg=function(h,x,C,O,R,D,N){var H=h+(x&O|C&~O)+(R>>>0)+N;return(H<<D|H>>>32-D)+x},g._hh=function(h,x,C,O,R,D,N){var H=h+(x^C^O)+(R>>>0)+N;return(H<<D|H>>>32-D)+x},g._ii=function(h,x,C,O,R,D,N){var H=h+(C^(x|~O))+(R>>>0)+N;return(H<<D|H>>>32-D)+x},g._blocksize=16,g._digestsize=16,yz.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var C=n.wordsToBytes(g(h,x));return x&&x.asBytes?C:x&&x.asString?f.bytesToString(C):n.bytesToHex(C)}}()),yz.exports}var wpe=xpe();const dJ=pM(wpe);class iB{constructor(s={}){Fo(this,"is_delta",!0);Fo(this,"timestamp",0);Fo(this,"content","");Fo(this,"hash_before","");Fo(this,"hash_after","");Fo(this,"distance",0);this.setData(s)}setData(s){s.is_delta!==void 0&&s.is_delta!==null&&(this.is_delta=!!s.is_delta),s.timestamp!==void 0&&s.timestamp!==null&&(this.timestamp=parseInt(s.timestamp)),s.content!==void 0&&s.content!==null&&(this.content=s.content.toString()),s.hash_before!==void 0&&s.hash_before!==null&&(this.hash_before=s.hash_before.toString()),s.hash_after!==void 0&&s.hash_after!==null&&(this.hash_after=s.hash_after.toString()),s.distance!==void 0&&s.distance!==null&&(this.distance=parseInt(s.distance))}getData(){return{is_delta:this.is_delta,timestamp:this.timestamp,content:this.content,hash_before:this.hash_before,hash_after:this.hash_after,distance:this.distance}}}const hs=hb.createInstance({storeName:"writer-essay",description:"Essay data"}),Zw=new bpe,lB=1e3,Cpe=5e3,_pe=5e3,Spe=10,kpe=1e3,_z={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",lastSave:0,lastSendingTry:0,lastSendingSuccess:0,currentContent:"",sumOfDistances:0,lastCheck:0};let bk=0,Sz=0;const rb=_g("essay",{state:()=>_z,getters:{hasHistory:n=>n.history.length>0,historyLength:n=>n.history.length,openSendings:n=>n.lastStoredIndex-n.lastSentIndex,unsentHistory(n){let s=[],c=n.lastSentIndex+1;for(;c<n.history.length;)s.push(n.history[c]),c++;return s},formatTimestamp(){return n=>new Date(n).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return n=>n.toString().padStart(9,"0")},makeHash(){return(n,s)=>dJ(n+s)}},actions:{async clearStorage(){try{await hs.clear()}catch(n){console.log(n)}},addToHistory(n,s=null){let c;return s!==null?(this.history[s]=n,c=s):c=this.history.push(n)-1,n.is_delta?this.sumOfDistances+=n.distance:this.sumOfDistances=0,c},async loadFromData(n){bk=1;try{this.$state=_z,this.currentContent=n.content??"",this.storedContent=n.content??"",this.storedHash=n.hash??"",await hs.clear(),await hs.setItem("storedContent",this.storedContent),await hs.setItem("storedHash",this.storedHash);let c=0;for(;c<n.steps.length;){let f=new iB(n.steps[c]);this.addToHistory(f,c),await hs.setItem(this.formatIndex(c),f.getData()),c++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await hs.setItem("lastStoredIndex",this.lastStoredIndex),await hs.setItem("lastSentIndex",this.lastSentIndex),await hs.setItem("lastSentHash",this.lastSentHash),await hs.setItem("lastSave",this.lastSave),await hs.setItem("lastSendingTry",this.lastSendingTry),await hs.setItem("lastSendingSuccess",this.lastSendingSuccess)}catch(c){console.log(c)}bk=0,_i().setInterval("essayStore.updateContent",this.updateContent,lB)},async loadFromStorage(){bk=1;try{this.$state=_z,this.lastStoredIndex=await hs.getItem("lastStoredIndex")??-1,this.lastSentIndex=await hs.getItem("lastSentIndex")??-1,this.lastSentHash=await hs.getItem("lastSentHash")??"",this.lastSave=await hs.getItem("lastSave")??0,this.lastSendingTry=await hs.getItem("lastSendingTry")??0,this.lastSendingSuccess=await hs.getItem("lastSendingSuccess")??0,this.storedContent=await hs.getItem("storedContent")??"",this.storedHash=await hs.getItem("storedHash")??"",this.currentContent=this.storedContent;let s=0;for(;s<=this.lastStoredIndex;){let c=new iB(await hs.getItem(this.formatIndex(s))??{});this.addToHistory(c,s),s++}}catch(s){console.log(s)}bk=0,_i().setInterval("essayStore.updateContent",this.updateContent,lB)},async updateContent(n=!1,s=!1){const c=_i(),f=Date.now();if(!s&&f-this.lastCheck<lB||bk++||tf().writingEndReached)return!1;try{const h=this.currentContent+"";let x=null;if(h!=this.storedContent){const C=this.makeHash(h,c.getServerTime(f));let O=Zw.diff_main(this.storedContent,h);Zw.diff_cleanupEfficiency(O);const R=Zw.diff_levenshtein(O),D=Zw.patch_toText(Zw.patch_make(this.storedContent,O)),N=Zw.patch_apply(Zw.patch_fromText(D),this.storedContent);this.history.length==0||s||D.length>h.length||this.sumOfDistances+R>kpe||N[0]!=h?x=new iB({is_delta:0,timestamp:c.getServerTime(f),content:h,hash_before:this.storedHash,hash_after:C,distance:R}):(R>=Spe||f-this.lastSave>Cpe)&&(x=new iB({is_delta:1,timestamp:c.getServerTime(f),content:D,hash_before:this.storedHash,hash_after:C,distance:R})),x!==null&&(this.lastStoredIndex=this.addToHistory(x),this.lastSave=f,this.storedContent=h,this.storedHash=C,await hs.setItem("storedContent",this.storedContent),await hs.setItem("storedHash",this.storedHash),await hs.setItem(this.formatIndex(this.lastStoredIndex),x.getData()),await hs.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",x.is_delta,"| Distance (sum): ",R,"(",this.sumOfDistances,")","| Editor: ",n,"| Duration:",Date.now()-f,"ms")),c.setInterval("essayStore.updateContent",this.updateContent,lB)}this.lastCheck=f,this.sendUpdate(s)}catch(h){console.error(h)}bk=0},async sendUpdate(n=!1){if(!n&&Date.now()-this.lastSendingTry<_pe||(n&&(Sz=0),Sz++))return null;let s=[],c=this.lastSentIndex,f=this.lastSentHash,g=this.lastSentIndex+1;for(;g<this.history.length;)s.push(this.history[g]),f=this.history[g].hash_after,c=g++;let h=null;return s.length>0&&(h=await _i().saveWritingStepsToBackend(s),h.success&&(this.lastSentIndex=c,this.lastSentHash=f,this.lastSendingSuccess=Date.now(),await hs.setItem("lastSentIndex",c),await hs.setItem("lastSentHash",f),await hs.setItem("lastSendingSuccess",this.lastSendingSuccess))),this.lastSendingTry=Date.now(),await hs.setItem("lastSendingTry",this.lastSendingTry),Sz=!1,h},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,this.lastSendingTry=Date.now(),this.lastSendingSuccess=Date.now(),await hs.setItem("lastSentIndex",this.lastSentIndex),await hs.setItem("lastSentHash",this.lastSentHash),await hs.setItem("lastSendingTry",this.lastSendingTry),await hs.setItem("lastSendingSuccess",this.lastSendingSuccess)},async hasUnsentSavingsInStorage(){const n=await hs.getItem("lastStoredIndex")??-1,s=await hs.getItem("lastSentIndex")??-1;return n>s},async hasHashInStorage(n){const s=await hs.getItem("lastSentHash")??"";return n==s}}});class h0{constructor(s={}){Fo(this,"note_no",0);Fo(this,"note_text","");Fo(this,"last_change",null);this.setData(s)}static getKeyForNo(s){return"NOTE_"+s}setData(s){s.note_no!==void 0&&s.note_no!==null&&(this.note_no=parseInt(s.note_no)),s.note_text!==void 0&&s.note_text!==null&&(this.note_text=s.note_text.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return h0.getKeyForNo(this.note_no)}getClone(){return new h0(this.getData())}isEqual(s){for(const c in this)if(this[c]!==s[c])return!1;return!0}}const Jp=hb.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Nq=200;function Epe(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let kz=0;const Ny=_g("notes",{state:()=>Epe(),getters:{hasWrittenNotes:n=>{for(const s in n.notes)if(n.notes[s].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Jp.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Jp.getItem("keys");n&&(this.keys=JSON.parse(n));for(const s of this.keys){const c=await Jp.getItem(s);if(c){const f=JSON.parse(c);if(typeof f=="object"&&f!==null){const g=new h0(f);this.notes[s]=g,this.editNotes[s]=g.getClone()}}}}catch(n){console.log(n)}},async loadFromData(n){try{await Jp.clear(),this.$reset();for(const c of n){const f=new h0(c);this.notes[f.getKey()]=f,this.editNotes[f.getKey()]=f.getClone(),this.keys.push(f.getKey()),await Jp.setItem(f.getKey(),JSON.stringify(f.getData()))}await Jp.setItem("keys",JSON.stringify(this.keys))}catch(c){console.log(c)}kz=0,_i().setInterval("notesStore.updateContent",this.updateContent,Nq)},async prepareNotes(n){const s=[];let c=!1;for(let f=0;f<n;f++){const g=h0.getKeyForNo(f);if(s.push(g),this.activeKey==g&&(c=!0),!(g in this.notes)){const h=new h0({note_no:f});this.notes[g]=h,this.editNotes[g]=h.getClone(),await Jp.setItem(g,JSON.stringify(h.getData()))}}this.keys=s,await Jp.setItem("keys",JSON.stringify(this.keys)),n>0&&!c&&(this.activeKey=h0.getKeyForNo(0))},async updateContent(n=!1,s=!1){const c=Date.now();if(!(c-this.lastCheck<Nq&&!s||kz++&&!s||tf().writingEndReached)){for(const g in this.editNotes)try{const h=this.editNotes[g].getClone(),x=this.notes[g]??new h0;if(!h.isEqual(x)){const C=_i(),O=hd();h.last_change=C.getServerTime(Date.now()),this.editNotes[g].setData(h.getData()),this.notes[g]=h,await Jp.setItem(g,JSON.stringify(h.getData())),await O.setChange(new Ra({type:Ra.TYPE_NOTES,action:Ra.ACTION_SAVE,key:g})),console.log("Save Change ","| Editor: ",n,"| Duration:",Date.now()-c,"ms")}this.lastCheck=c}catch(h){console.error(h)}kz=0}},async getChangedData(n=0){const s=_i(),c=hd(),f=[];for(const g of c.getChangesFor(Ra.TYPE_NOTES,n)){const h=await Jp.getItem(g.key);h?f.push(s.getChangeDataToSend(g,JSON.parse(h))):f.push(s.getChangeDataToSend(g))}return f}}}),vk=hb.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),kk=_g("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:n=>n.alerts.length,hasAlerts:n=>n.alerts.length>0,hasActiveAlert:n=>n.activeKey!="",activeMessage(n){const s=n.alerts.find(c=>c.key==n.activeKey);return s?s.message:""},getAlert(n){return s=>n.alerts.find(c=>c.key==s)},formatTimestamp(){return n=>new Date(n*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await vk.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const n=await vk.getItem("alertKeys");n&&(this.keys=JSON.parse(n)),this.alerts=[];for(const s of this.keys){let c=await vk.getItem(s);this.alerts.unshift(c)}}catch(n){console.log(n)}},async loadFromData(n,s=!1){try{await vk.clear();let c=[],f=[];for(const g of n)s&&!this.keys.includes(g.key)&&(this.activeKey=g.key),f.unshift(g),c.push(g.key),await vk.setItem(g.key,g);this.keys=c,this.alerts=f,await vk.setItem("alertKeys",JSON.stringify(this.keys))}catch(c){console.log(c)}}}}),xg=hb.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function Ape(){return{keys:[],annotations:[],markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""}}const My=_g("annotations",{state:()=>Ape(),getters:{activeAnnotations:n=>{const c=jl().selectedResourceKey;return c!==null?n.annotations.filter(f=>f.resource_key===c):[]},getAnnotation:n=>function(c){return n.annotations.find(f=>f.getKey()===c)},getAnnotationsForResource:n=>function(c){return n.annotations.filter(f=>f.resource_key===c)},getActiveAnotationsInRange:n=>function(c,f){return n.activeAnnotations.filter(g=>g.start_position<=f&&g.end_position>=c)},getActiveAnnotationsByStartPosition:n=>function(c){return n.activeAnnotations.filter(f=>f.start_position==c)},getActiveAnnotationsByParentNumber:n=>function(c){return n.activeAnnotations.filter(f=>f.parent_number==c)}},actions:{setFirstVisibleAnnotation(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(n){this.selectedKey=n,this.selectionChange=Date.now()},async createAnnotation(n){_i();const s=hd();this.keys.push(n.getKey()),this.annotations.push(n),await this.sortAndLabelAnnotations(),this.setMarkerChange(),this.selectAnnotation(n),await xg.setItem(n.getKey(),JSON.stringify(n.getData())),await xg.setItem("keys",JSON.stringify(this.keys)),await s.setChange(new Ra({type:Ra.TYPE_ANNOTATIONS,action:Ra.ACTION_SAVE,key:n.getKey()}))},async updateAnnotation(n,s=!1){_i();const c=hd();this.keys.includes(n.getKey())&&(await xg.setItem(n.getKey(),JSON.stringify(n.getData())),await c.setChange(new Ra({type:Ra.TYPE_ANNOTATIONS,action:Ra.ACTION_SAVE,key:n.getKey()})),s&&(await this.sortAndLabelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(n){this.selectedKey==n&&this.selectAnnotation("");const s=this.annotations.find(g=>g.getKey()==n);this.annotations=this.annotations.filter(g=>g.getKey()!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(g=>g!=n),await xg.setItem("keys",JSON.stringify(this.keys)),await xg.removeItem(n)),this.deletedKey=n;const c=hd(),f=new Ra({type:Ra.TYPE_ANNOTATIONS,action:Ra.ACTION_DELETE,key:s.getKey()});await c.setChange(f),await this.sortAndLabelAnnotations(),this.setMarkerChange()},async sortAndLabelAnnotations(){this.annotations=this.annotations.sort(vd.compare);let n="",s=0,c=0;for(const f of this.annotations)f.resource_key!==n?(n=f.resource_key,s=0,c=1):f.parent_number>s?(s=f.parent_number,c=1):c++,f.label=(s+1).toString()+"."+c.toString()},async clearStorage(){try{await xg.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await xg.getItem("keys");n&&(this.keys=JSON.parse(n));for(const s of this.keys){const c=await xg.getItem(s);if(c){const f=JSON.parse(c);if(typeof f=="object"&&f!==null){const g=new vd(f);this.annotations.push(g)}}}await this.sortAndLabelAnnotations()}catch(n){console.log(n)}},async loadFromData(n){try{await xg.clear(),this.$reset();for(const s of n){const c=new vd(s);this.annotations.push(c),this.keys.push(c.getKey()),await xg.setItem(c.getKey(),JSON.stringify(c.getData()))}await xg.setItem("keys",JSON.stringify(this.keys)),await this.sortAndLabelAnnotations()}catch(s){console.log(s)}},async getChangedData(n=0){const s=_i(),c=hd(),f=[];for(const g of c.getChangesFor(Ra.TYPE_ANNOTATIONS,n)){const h=await xg.getItem(g.key);h?f.push(s.getChangeDataToSend(g,JSON.parse(h))):f.push(s.getChangeDataToSend(g,vd.getFromKey(g.key)))}return f}}});class nC{constructor(s={}){Fo(this,"success",!0);Fo(this,"message","");Fo(this,"details","");this.setData(s)}setData(s){s.success!==void 0&&s.success!==null&&(this.success=!!s.success),s.message!==void 0&&s.message!==null&&(this.message=s.message.toString()),s.details!==void 0&&s.details!==null&&(this.details=s.details.toString())}getData(){return{success:this.success,message:this.message,details:this.details}}}const Tpe=5e3;function Iq(n){return n.response?new nC({success:!1,message:n.response.statusText,details:n.response.data}):n.message?new nC({success:!1,message:n.message,details:""}):new nC({success:!1,message:"Unknown error",details:""})}const _i=_g("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastChangesTry:0}),getters:{isAllSent:n=>{const s=rb(),c=hd();return!n.isSending&&s.openSendings+c.countChanges==0},isSending:n=>{n.lastChangesTry>0||n.lastStepsTry>0},getRequestConfig:n=>function(c){let f=n.backendUrl,g=new URLSearchParams,h=f.search(/\?+/);return h!=-1&&(g=new URLSearchParams(f.substr(h)),f=f.substr(0,h)),g.append("LongEssayUser",n.userKey),g.append("LongEssayEnvironment",n.environmentKey),g.append("LongEssaySignature",dJ(n.userKey+n.environmentKey+c)),{baseURL:f,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:n=>function(c){const f=this.getRequestConfig(this.fileToken);return f.baseURL+"/file/"+c+"?"+f.params.toString()},getServerTime:n=>function(c){return c==0?0:Math.floor((c-n.timeOffset)/1e3)},getChangeDataToSend:n=>function(c,f=null){const g=c.getData();return f&&(g.payload=f),g.server_time=n.getServerTime(c.last_change),g}},actions:{async init(){let n=!1,s=al.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),al.get("LongEssayUser")&&al.get("LongEssayUser")!==this.userKey&&(this.userKey=al.get("LongEssayUser"),n=!0),al.get("LongEssayEnvironment")&&al.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=al.get("LongEssayEnvironment"),n=!0),al.get("LongEssayBackend")&&al.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=al.get("LongEssayBackend")),al.get("LongEssayReturn")&&al.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=al.get("LongEssayReturn")),al.get("LongEssayToken")&&al.get("LongEssayToken")!==this.dataToken&&(this.dataToken=al.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const c=rb(),f=hd();n?await c.hasUnsentSavingsInStorage()||f.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):s?await c.hasHashInStorage(s)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await c.hasUnsentSavingsInStorage()||f.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await c.hasUnsentSavingsInStorage()||f.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),this.setInterval("apiStore.timedSync",this.timedSync,Tpe)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const n=Ih(),s=v0(),c=tf(),f=kk(),g=ef(),h=rb(),x=Ny(),C=jl(),O=hd(),R=My();await n.loadFromStorage(),await s.loadFromStorage(),await c.loadFromStorage(),await f.loadFromStorage(),await g.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await x.prepareNotes(n.notice_boards),await C.loadFromStorage(),await O.loadFromStorage(),await R.loadFromStorage(),await this.loadUpdateFromBackend(),await C.initialize(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let n={};try{n=await Ia.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(N){console.error(N),this.showInitFailure=!0;return}const s=Ih(),c=v0(),f=tf(),g=kk(),h=ef(),x=rb(),C=Ny(),O=hd(),R=jl(),D=My();await s.loadFromData(n.data.settings),await c.loadFromData(n.data.preferences),await f.loadFromData(n.data.task),await g.loadFromData(n.data.alerts,!1),await h.loadFromData(n.data.resources),await x.loadFromData(n.data.essay),await C.loadFromData(n.data.notes),await C.prepareNotes(s.notice_boards),await D.loadFromData(n.data.annotations),await O.clearStorage(),await R.initialize(),n.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastChangesTry>0)return!1;this.lastChangesTry=Date.now();try{const n=await Ia.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(n),this.refreshToken(n);const s=tf(),c=kk(),f=Ih(),g=Ny();return await s.loadFromUpdate(n.data.task),await c.loadFromData(n.data.alerts,!0),await f.loadFromData(n.data.settings),await g.prepareNotes(f.notice_boards),this.lastChangesTry=0,!0}catch(n){return console.error(n),this.lastChangesTry=0,!1}},async sendStart(){let n={},s={started:this.getServerTime(Date.now())};try{return n=await Ia.put("/start",s,this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n),!0}catch(c){return console.error(c),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(n){let s={},c={steps:n.map(f=>f.getData())};this.lastStepsTry=Date.now();try{return s=await Ia.put("/steps",c,this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s),this.lastStepsTry=0,new nC({success:!0,message:s.statusText,details:s.data})}catch(f){return this.lastStepsTry=0,Iq(f)}},async saveChangesToBackend(n=!1){const s=My(),c=hd(),f=Ny(),g=v0();if(n){let h=0;for(;h<5&&this.lastChangesTry>0;)h++,await new Promise(x=>setTimeout(x,1e3))}if(this.lastChangesTry>0)return null;if(c.countChanges>0){this.lastChangesTry=Date.now();try{const h={annotations:await s.getChangedData(this.lastChangesTry),notes:await f.getChangedData(this.lastChangesTry),preferences:await g.getChangedData(this.lastChangesTry)},x=await Ia.put("/changes",h,this.getRequestConfig(this.dataToken));return this.setTimeOffset(x),this.refreshToken(x),await c.setChangesSent(Ra.TYPE_ANNOTATIONS,x.data.annotations,this.lastChangesTry),await c.setChangesSent(Ra.TYPE_NOTES,x.data.notes,this.lastChangesTry),await c.setChangesSent(Ra.TYPE_PREFERENCES,x.data.preferences,this.lastChangesTry),this.lastChangesTry=0,new nC({success:!0,message:x.statusText,details:x.data})}catch(h){return this.lastChangesTry=0,Iq(h)}}return null},async saveFinalContentToBackend(n,s,c,f){let g={},h={steps:n.map(x=>x.getData()),content:s,hash:c,authorized:f};try{return g=await Ia.put("/final",h,this.getRequestConfig(this.dataToken)),this.refreshToken(g),!0}catch(x){return console.error(x),!1}},updateConfig(){al.remove("LongEssayBackend"),al.remove("LongEssayReturn"),al.remove("LongEssayUser"),al.remove("LongEssayEnvironment"),al.remove("LongEssayToken"),al.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(n){if(n.headers.longessaytime){const s=n.headers.longessaytime*1e3,c=Date.now();this.timeOffset=c-s,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.longessaydatatoken&&(this.dataToken=n.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),n.headers.longessayfiletoken&&(this.fileToken=n.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(n){const s=Ih(),c=tf(),f=ef(),g=rb(),h=Ny(),x=jl(),C=kk(),O=hd();if((n||g.openSendings>0)&&!await this.saveFinalContentToBackend(g.unsentHistory,g.storedContent,g.storedHash,n)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=n;return}await s.clearStorage(),await c.clearStorage(),await f.clearStorage(),await g.clearStorage(),await h.clearStorage(),await x.clearStorage(),await C.clearStorage(),await O.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const n=rb();await this.saveFinalContentToBackend(n.unsentHistory,n.storedContent,n.storedHash,!1)?await n.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0},setInterval(n,s,c){n in this.intervals&&clearInterval(this.intervals[n]),this.intervals[n]=setInterval(s,c)},clearAllIntervals(){for(const n in this.intervals)clearInterval(this.intervals[n]),delete this.intervals[n]}}}),cB=hb.createInstance({storeName:"writer-task",description:"Task data"}),tf=_g("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:n=>!!n.instructions,hasWritingEnd:n=>!!n.writing_end,writingEndReached:n=>n.remaining_time===0,isExcluded:n=>n.writing_excluded>0},actions:{setData(n){this.title=n.title,this.instructions=n.instructions,this.writer_name=n.writer_name,this.writing_end=n.writing_end,this.writing_excluded=n.writing_excluded},async clearStorage(){try{await cB.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const s=await cB.getItem("task");this.setData(s)}catch(s){console.log(s)}this.updateRemainingTime(),_i().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(n){try{await cB.setItem("task",n),this.setData(n)}catch(c){console.log(c)}this.updateRemainingTime(),_i().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromUpdate(n){try{this.writing_end=n.writing_end,this.writing_excluded=n.writing_excluded,await cB.setItem("task",{title:this.title,instructions:this.instructions,writer_name:this.writer_name,writing_end:this.writing_end,writing_excluded:this.writing_excluded})}catch(c){console.log(c)}this.updateRemainingTime(),_i().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const n=_i();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-n.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(n.review=!0)}}}),Wy=so({border:[Boolean,Number,String]},"border");function Zy(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return{borderClasses:Wt(()=>{const f=n.border;return f===!0||f===""?`${s}--border`:typeof f=="string"||f===0?String(f).split(" ").map(g=>`border-${g}`):[]})}}const Ope=[null,"default","comfortable","compact"],pb=so({density:{type:String,default:"default",validator:n=>Ope.includes(n)}},"density");function O0(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return{densityClasses:Zn(()=>`${s}--density-${n.density}`)}}const jy=so({elevation:{type:[Number,String],validator(n){const s=parseInt(n);return!isNaN(s)&&s>=0&&s<=24}}},"elevation");function Ky(n){return{elevationClasses:Zn(()=>{const c=ja(n)?n.value:n.elevation;return c==null?[]:[`elevation-${c}`]})}}const Sg=so({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function kg(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return{roundedClasses:Wt(()=>{const f=ja(n)?n.value:n.rounded,g=ja(n)?n.value:n.tile,h=[];if(f===!0||f==="")h.push(`${s}--rounded`);else if(typeof f=="string"||f===0)for(const x of String(f).split(" "))h.push(`rounded-${x}`);else(g||f===!1)&&h.push("rounded-0");return h})}}const Ui=so({tag:{type:[String,Object,Function],default:"div"}},"tag");function dU(n){return JV(()=>{const s=_0(n),c=[],f={};if(s.background)if(Qz(s.background)){if(f.backgroundColor=s.background,!s.text&&dde(s.background)){const g=ab(s.background);if(g.a==null||g.a===1){const h=tX(g);f.color=h,f.caretColor=h}}}else c.push(`bg-${s.background}`);return s.text&&(Qz(s.text)?(f.color=s.text,f.caretColor=s.text):c.push(`text-${s.text}`)),{colorClasses:c,colorStyles:f}})}function k0(n){const{colorClasses:s,colorStyles:c}=dU(()=>({text:_0(n)}));return{textColorClasses:s,textColorStyles:c}}function cb(n){const{colorClasses:s,colorStyles:c}=dU(()=>({background:_0(n)}));return{backgroundColorClasses:s,backgroundColorStyles:c}}const Dpe=["elevated","flat","tonal","outlined","text","plain"];function YO(n,s){return Pe(Os,null,[n&&Pe("span",{key:"overlay",class:Go(`${s}__overlay`)},null),Pe("span",{key:"underlay",class:Go(`${s}__underlay`)},null)])}const aC=so({color:String,variant:{type:String,default:"elevated",validator:n=>Dpe.includes(n)}},"variant");function XO(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();const c=Zn(()=>{const{variant:h}=_0(n);return`${s}--variant-${h}`}),{colorClasses:f,colorStyles:g}=dU(()=>{const{variant:h,color:x}=_0(n);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:f,colorStyles:g,variantClasses:c}}const fJ=so({baseColor:String,divided:Boolean,...Wy(),...rs(),...pb(),...jy(),...Sg(),...Ui(),...ql(),...aC()},"VBtnGroup"),Pk=dr()({name:"VBtnGroup",props:fJ(),setup(n,s){let{slots:c}=s;const{themeClasses:f}=Wc(n),{densityClasses:g}=O0(n),{borderClasses:h}=Zy(n),{elevationClasses:x}=Ky(n),{roundedClasses:C}=kg(n);Mk({VBtn:{height:"auto",baseColor:Zn(()=>n.baseColor),color:Zn(()=>n.color),density:Zn(()=>n.density),flat:!0,variant:Zn(()=>n.variant)}}),Yr(()=>Ie(n.tag,{class:Go(["v-btn-group",{"v-btn-group--divided":n.divided},f.value,h.value,g.value,x.value,C.value,n.class]),style:kr(n.style)},c))}}),Rpe=so({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Npe=so({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ipe(n,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const f=Nl("useGroupItem");if(!f)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=UO();im(Symbol.for(`${s.description}:id`),g);const h=Si(s,null);if(!h){if(!c)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${s.description}`)}const x=Zn(()=>n.value),C=Wt(()=>!!(h.disabled.value||n.disabled));h.register({id:g,value:x,disabled:C},f),hc(()=>{h.unregister(g)});const O=Wt(()=>h.isSelected(g)),R=Wt(()=>h.items.value[0].id===g),D=Wt(()=>h.items.value[h.items.value.length-1].id===g),N=Wt(()=>O.value&&[h.selectedClass.value,n.selectedClass]);return qn(O,H=>{f.emit("group:selected",{value:H})},{flush:"sync"}),{id:g,isSelected:O,isFirst:R,isLast:D,toggle:()=>h.select(g,!O.value),select:H=>h.select(g,H),selectedClass:N,value:x,disabled:C,group:h}}function Ppe(n,s){let c=!1;const f=fc([]),g=nf(n,"modelValue",[],H=>H==null?[]:mJ(f,Qw(H)),H=>{const V=Bpe(f,H);return n.multiple?V:V[0]}),h=Nl("useGroup");function x(H,V){const Z=H,te=Symbol.for(`${s.description}:id`),X=_k(te,h==null?void 0:h.vnode).indexOf(V);qe(Z.value)==null&&(Z.value=X,Z.useIndexAsValue=!0),X>-1?f.splice(X,0,Z):f.push(Z)}function C(H){if(c)return;O();const V=f.findIndex(Z=>Z.id===H);f.splice(V,1)}function O(){const H=f.find(V=>!V.disabled);H&&n.mandatory==="force"&&!g.value.length&&(g.value=[H.id])}Uc(()=>{O()}),hc(()=>{c=!0}),WV(()=>{for(let H=0;H<f.length;H++)f[H].useIndexAsValue&&(f[H].value=H)});function R(H,V){const Z=f.find(te=>te.id===H);if(!(V&&(Z!=null&&Z.disabled)))if(n.multiple){const te=g.value.slice(),ce=te.findIndex(Se=>Se===H),X=~ce;if(V=V??!X,X&&n.mandatory&&te.length<=1||!X&&n.max!=null&&te.length+1>n.max)return;ce<0&&V?te.push(H):ce>=0&&!V&&te.splice(ce,1),g.value=te}else{const te=g.value.includes(H);if(n.mandatory&&te)return;g.value=V??!te?[H]:[]}}function D(H){if(n.multiple,g.value.length){const V=g.value[0],Z=f.findIndex(X=>X.id===V);let te=(Z+H)%f.length,ce=f[te];for(;ce.disabled&&te!==Z;)te=(te+H)%f.length,ce=f[te];if(ce.disabled)return;g.value=[f[te].id]}else{const V=f.find(Z=>!Z.disabled);V&&(g.value=[V.id])}}const N={register:x,unregister:C,selected:g,select:R,disabled:Zn(()=>n.disabled),prev:()=>D(f.length-1),next:()=>D(1),isSelected:H=>g.value.includes(H),selectedClass:Zn(()=>n.selectedClass),items:Zn(()=>f),getItemIndex:H=>Lpe(f,H)};return im(s,N),N}function Lpe(n,s){const c=mJ(n,[s]);return c.length?n.findIndex(f=>f.id===c[0]):-1}function mJ(n,s){const c=[];return s.forEach(f=>{const g=n.find(x=>uM(f,x.value)),h=n[f];(g==null?void 0:g.value)!=null?c.push(g.id):h!=null&&c.push(h.id)}),c}function Bpe(n,s){const c=[];return s.forEach(f=>{const g=n.findIndex(h=>h.id===f);if(~g){const h=n[g];c.push(h.value!=null?h.value:g)}}),c}const gJ=Symbol.for("vuetify:v-btn-toggle"),Mpe=so({...fJ(),...Rpe()},"VBtnToggle"),hJ=dr()({name:"VBtnToggle",props:Mpe(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:c}=s;const{isSelected:f,next:g,prev:h,select:x,selected:C}=Ppe(n,gJ);return Yr(()=>{const O=Pk.filterProps(n);return Ie(Pk,Vs({class:["v-btn-toggle",n.class]},O,{style:n.style}),{default:()=>{var R;return[(R=c.default)==null?void 0:R.call(c,{isSelected:f,next:g,prev:h,select:x,selected:C})]}})}),{next:g,prev:h,select:x}}}),Fpe=so({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),gc=dr(!1)({name:"VDefaultsProvider",props:Fpe(),setup(n,s){let{slots:c}=s;const{defaults:f,disabled:g,reset:h,root:x,scoped:C}=rM(n);return Mk(f,{reset:h,root:x,scoped:C,disabled:g}),()=>{var O;return(O=c.default)==null?void 0:O.call(c)}}}),$pe=["x-small","small","default","large","x-large"],SM=so({size:{type:[String,Number],default:"default"}},"size");function kM(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return JV(()=>{const c=n.size;let f,g;return MB($pe,c)?f=`${s}--size-${c}`:c&&(g={width:vr(c),height:vr(c)}),{sizeClasses:f,sizeStyles:g}})}const Hpe=so({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Hi,opacity:[String,Number],...rs(),...SM(),...Ui({tag:"i"}),...ql()},"VIcon"),cr=dr()({name:"VIcon",props:Hpe(),setup(n,s){let{attrs:c,slots:f}=s;const g=xr(),{themeClasses:h}=Mfe(),{iconData:x}=Tfe(()=>g.value||n.icon),{sizeClasses:C}=kM(n),{textColorClasses:O,textColorStyles:R}=k0(()=>n.color);return Yr(()=>{var H,V;const D=(H=f.default)==null?void 0:H.call(f);D&&(g.value=(V=UY(D).filter(Z=>Z.type===ZO&&Z.children&&typeof Z.children=="string")[0])==null?void 0:V.children);const N=!!(c.onClick||c.onClickOnce);return Ie(x.value.component,{tag:n.tag,icon:x.value.icon,class:Go(["v-icon","notranslate",h.value,C.value,O.value,{"v-icon--clickable":N,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class]),style:kr([{"--v-icon-opacity":n.opacity},C.value?void 0:{fontSize:vr(n.size),height:vr(n.size),width:vr(n.size)},R.value,n.style]),role:N?"button":void 0,"aria-hidden":!N,tabindex:N?n.disabled?-1:0:void 0},{default:()=>[D]})}),{}}});function pJ(n,s){const c=Io(),f=xr(!1);if(XV){const g=new IntersectionObserver(h=>{f.value=!!h.find(x=>x.isIntersecting)},s);hc(()=>{g.disconnect()}),qn(c,(h,x)=>{x&&(g.unobserve(x),f.value=!1),h&&g.observe(h)},{flush:"post"})}return{intersectionRef:c,isIntersecting:f}}const zpe=so({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...rs(),...SM(),...Ui({tag:"div"}),...ql()},"VProgressCircular"),Vpe=dr()({name:"VProgressCircular",props:zpe(),setup(n,s){let{slots:c}=s;const f=20,g=2*Math.PI*f,h=Io(),{themeClasses:x}=Wc(n),{sizeClasses:C,sizeStyles:O}=kM(n),{textColorClasses:R,textColorStyles:D}=k0(()=>n.color),{textColorClasses:N,textColorStyles:H}=k0(()=>n.bgColor),{intersectionRef:V,isIntersecting:Z}=pJ(),{resizeRef:te,contentRect:ce}=mX(),X=Zn(()=>S0(parseFloat(n.modelValue),0,100)),Se=Zn(()=>Number(n.width)),fe=Zn(()=>O.value?Number(n.size):ce.value?ce.value.width:Math.max(Se.value,32)),j=Zn(()=>f/(1-Se.value/fe.value)*2),de=Zn(()=>Se.value/fe.value*j.value),oe=Zn(()=>vr((100-X.value)/100*g));return Mh(()=>{V.value=h.value,te.value=h.value}),Yr(()=>Ie(n.tag,{ref:h,class:Go(["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":Z.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},x.value,C.value,R.value,n.class]),style:kr([O.value,D.value,n.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:X.value},{default:()=>[Pe("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${j.value} ${j.value}`},[Pe("circle",{class:Go(["v-progress-circular__underlay",N.value]),style:kr(H.value),fill:"transparent",cx:"50%",cy:"50%",r:f,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),Pe("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:f,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":oe.value},null)]),c.default&&Pe("div",{class:"v-progress-circular__content"},[c.default({value:X.value})])]})),{}}}),bb=so({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vb(n){return{dimensionStyles:Wt(()=>{const c={},f=vr(n.height),g=vr(n.maxHeight),h=vr(n.maxWidth),x=vr(n.minHeight),C=vr(n.minWidth),O=vr(n.width);return f!=null&&(c.height=f),g!=null&&(c.maxHeight=g),h!=null&&(c.maxWidth=h),x!=null&&(c.minHeight=x),C!=null&&(c.minWidth=C),O!=null&&(c.width=O),c})}}const Pq={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},EM=so({location:String},"location");function AM(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2?arguments[2]:void 0;const{isRtl:f}=T0();return{locationStyles:Wt(()=>{if(!n.location)return{};const{side:h,align:x}=Xz(n.location.split(" ").length>1?n.location:`${n.location} center`,f.value);function C(R){return c?c(R):0}const O={};return h!=="center"&&(s?O[Pq[h]]=`calc(100% - ${C(h)}px)`:O[h]=0),x!=="center"?s?O[Pq[x]]=`calc(100% - ${C(x)}px)`:O[x]=0:(h==="center"?O.top=O.left="50%":O[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",O.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),O})}}const Upe=so({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...rs(),...EM({location:"top"}),...Sg(),...Ui(),...ql()},"VProgressLinear"),Wpe=dr()({name:"VProgressLinear",props:Upe(),emits:{"update:modelValue":n=>!0},setup(n,s){var Oe;let{slots:c}=s;const f=nf(n,"modelValue"),{isRtl:g,rtlClasses:h}=T0(),{themeClasses:x}=Wc(n),{locationStyles:C}=AM(n),{textColorClasses:O,textColorStyles:R}=k0(()=>n.color),{backgroundColorClasses:D,backgroundColorStyles:N}=cb(()=>n.bgColor||n.color),{backgroundColorClasses:H,backgroundColorStyles:V}=cb(()=>n.bufferColor||n.bgColor||n.color),{backgroundColorClasses:Z,backgroundColorStyles:te}=cb(()=>n.color),{roundedClasses:ce}=kg(n),{intersectionRef:X,isIntersecting:Se}=pJ(),fe=Wt(()=>parseFloat(n.max)),j=Wt(()=>parseFloat(n.height)),de=Wt(()=>S0(parseFloat(n.bufferValue)/fe.value*100,0,100)),oe=Wt(()=>S0(parseFloat(f.value)/fe.value*100,0,100)),Ue=Wt(()=>g.value!==n.reverse),He=Wt(()=>n.indeterminate?"fade-transition":"slide-x-transition"),je=ki&&((Oe=window.matchMedia)==null?void 0:Oe.call(window,"(forced-colors: active)").matches);function st(Be){if(!X.value)return;const{left:P,right:St,width:Mt}=X.value.getBoundingClientRect(),tn=Ue.value?Mt-Be.clientX+(St-Mt):Be.clientX-P;f.value=Math.round(tn/Mt*fe.value)}return Yr(()=>Ie(n.tag,{ref:X,class:Go(["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&Se.value,"v-progress-linear--reverse":Ue.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},ce.value,x.value,h.value,n.class]),style:kr([{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?vr(j.value):0,"--v-progress-linear-height":vr(j.value),...n.absolute?C.value:{}},n.style]),role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:Math.min(parseFloat(f.value),fe.value),onClick:n.clickable&&st},{default:()=>[n.stream&&Pe("div",{key:"stream",class:Go(["v-progress-linear__stream",O.value]),style:{...R.value,[Ue.value?"left":"right"]:vr(-j.value),borderTop:`${vr(j.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${vr(j.value/4)})`,width:vr(100-de.value,"%"),"--v-progress-linear-stream-to":vr(j.value*(Ue.value?1:-1))}},null),Pe("div",{class:Go(["v-progress-linear__background",je?void 0:D.value]),style:kr([N.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}])},null),Pe("div",{class:Go(["v-progress-linear__buffer",je?void 0:H.value]),style:kr([V.value,{opacity:parseFloat(n.bufferOpacity),width:vr(de.value,"%")}])},null),Ie(zy,{name:He.value},{default:()=>[n.indeterminate?Pe("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Be=>Pe("div",{key:Be,class:Go(["v-progress-linear__indeterminate",Be,je?void 0:Z.value]),style:kr(te.value)},null))]):Pe("div",{class:Go(["v-progress-linear__determinate",je?void 0:Z.value]),style:kr([te.value,{width:vr(oe.value,"%")}])},null)]}),c.default&&Pe("div",{class:"v-progress-linear__content"},[c.default({value:oe.value,buffer:de.value})])]})),{}}}),fU=so({loading:[Boolean,String]},"loader");function mU(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return{loaderClasses:Zn(()=>({[`${s}--loading`]:n.loading}))}}function bJ(n,s){var f;let{slots:c}=s;return Pe("div",{class:Go(`${n.name}__loader`)},[((f=c.default)==null?void 0:f.call(c,{color:n.color,isActive:n.active}))||Ie(Wpe,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const Zpe=["static","relative","fixed","absolute","sticky"],gU=so({position:{type:String,validator:n=>Zpe.includes(n)}},"position");function hU(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();return{positionClasses:Zn(()=>n.position?`${s}--${n.position}`:void 0)}}function jpe(){const n=Nl("useRoute");return Wt(()=>{var s;return(s=n==null?void 0:n.proxy)==null?void 0:s.$route})}function vJ(){var n,s;return(s=(n=Nl("useRouter"))==null?void 0:n.proxy)==null?void 0:s.$router}function pU(n,s){var D,N;const c=gce("RouterLink"),f=Zn(()=>!!(n.href||n.to)),g=Wt(()=>(f==null?void 0:f.value)||yK(s,"click")||yK(n,"click"));if(typeof c=="string"||!("useLink"in c)){const H=Zn(()=>n.href);return{isLink:f,isClickable:g,href:H,linkProps:fc({href:H})}}const h=c.useLink({to:Zn(()=>n.to||""),replace:Zn(()=>n.replace)}),x=Wt(()=>n.to?h:void 0),C=jpe(),O=Wt(()=>{var H,V,Z;return x.value?n.exact?C.value?((Z=x.value.isExactActive)==null?void 0:Z.value)&&uM(x.value.route.value.query,C.value.query):((V=x.value.isExactActive)==null?void 0:V.value)??!1:((H=x.value.isActive)==null?void 0:H.value)??!1:!1}),R=Wt(()=>{var H;return n.to?(H=x.value)==null?void 0:H.route.value.href:n.href});return{isLink:f,isClickable:g,isActive:O,route:(D=x.value)==null?void 0:D.route,navigate:(N=x.value)==null?void 0:N.navigate,href:R,linkProps:fc({href:R,"aria-current":Zn(()=>O.value?"page":void 0)})}}const bU=so({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Ez=!1;function Kpe(n,s){let c=!1,f,g;ki&&(n!=null&&n.beforeEach)&&(ya(()=>{window.addEventListener("popstate",h),f=n.beforeEach((x,C,O)=>{Ez?c?s(O):O():setTimeout(()=>c?s(O):O()),Ez=!0}),g=n==null?void 0:n.afterEach(()=>{Ez=!1})}),af(()=>{window.removeEventListener("popstate",h),f==null||f(),g==null||g()}));function h(x){var C;(C=x.state)!=null&&C.replaced||(c=!0,setTimeout(()=>c=!1))}}function qpe(n,s){qn(()=>{var c;return(c=n.isActive)==null?void 0:c.value},c=>{n.isLink.value&&c&&s&&ya(()=>{s(!0)})},{immediate:!0})}const yV=Symbol("rippleStop"),Gpe=80;function Lq(n,s){n.style.transform=s,n.style.webkitTransform=s}function xV(n){return n.constructor.name==="TouchEvent"}function yJ(n){return n.constructor.name==="KeyboardEvent"}const Ype=function(n,s){var N;let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=0,g=0;if(!yJ(n)){const H=s.getBoundingClientRect(),V=xV(n)?n.touches[n.touches.length-1]:n;f=V.clientX-H.left,g=V.clientY-H.top}let h=0,x=.3;(N=s._ripple)!=null&&N.circle?(x=.15,h=s.clientWidth/2,h=c.center?h:h+Math.sqrt((f-h)**2+(g-h)**2)/4):h=Math.sqrt(s.clientWidth**2+s.clientHeight**2)/2;const C=`${(s.clientWidth-h*2)/2}px`,O=`${(s.clientHeight-h*2)/2}px`,R=c.center?C:`${f-h}px`,D=c.center?O:`${g-h}px`;return{radius:h,scale:x,x:R,y:D,centerX:C,centerY:O}},GB={show(n,s){var V;let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((V=s==null?void 0:s._ripple)!=null&&V.enabled))return;const f=document.createElement("span"),g=document.createElement("span");f.appendChild(g),f.className="v-ripple__container",c.class&&(f.className+=` ${c.class}`);const{radius:h,scale:x,x:C,y:O,centerX:R,centerY:D}=Ype(n,s,c),N=`${h*2}px`;g.className="v-ripple__animation",g.style.width=N,g.style.height=N,s.appendChild(f);const H=window.getComputedStyle(s);H&&H.position==="static"&&(s.style.position="relative",s.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),Lq(g,`translate(${C}, ${O}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),Lq(g,`translate(${R}, ${D}) scale3d(1,1,1)`)})})},hide(n){var h;if(!((h=n==null?void 0:n._ripple)!=null&&h.enabled))return;const s=n.getElementsByClassName("v-ripple__animation");if(s.length===0)return;const c=s[s.length-1];if(c.dataset.isHiding)return;c.dataset.isHiding="true";const f=performance.now()-Number(c.dataset.activated),g=Math.max(250-f,0);setTimeout(()=>{c.classList.remove("v-ripple__animation--in"),c.classList.add("v-ripple__animation--out"),setTimeout(()=>{var C;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((C=c.parentNode)==null?void 0:C.parentNode)===n&&n.removeChild(c.parentNode)},300)},g)}};function xJ(n){return typeof n>"u"||!!n}function FO(n){const s={},c=n.currentTarget;if(!(!(c!=null&&c._ripple)||c._ripple.touched||n[yV])){if(n[yV]=!0,xV(n))c._ripple.touched=!0,c._ripple.isTouch=!0;else if(c._ripple.isTouch)return;if(s.center=c._ripple.centered||yJ(n),c._ripple.class&&(s.class=c._ripple.class),xV(n)){if(c._ripple.showTimerCommit)return;c._ripple.showTimerCommit=()=>{GB.show(n,c,s)},c._ripple.showTimer=window.setTimeout(()=>{var f;(f=c==null?void 0:c._ripple)!=null&&f.showTimerCommit&&(c._ripple.showTimerCommit(),c._ripple.showTimerCommit=null)},Gpe)}else GB.show(n,c,s)}}function Bq(n){n[yV]=!0}function rm(n){const s=n.currentTarget;if(s!=null&&s._ripple){if(window.clearTimeout(s._ripple.showTimer),n.type==="touchend"&&s._ripple.showTimerCommit){s._ripple.showTimerCommit(),s._ripple.showTimerCommit=null,s._ripple.showTimer=window.setTimeout(()=>{rm(n)});return}window.setTimeout(()=>{s._ripple&&(s._ripple.touched=!1)}),GB.hide(s)}}function wJ(n){const s=n.currentTarget;s!=null&&s._ripple&&(s._ripple.showTimerCommit&&(s._ripple.showTimerCommit=null),window.clearTimeout(s._ripple.showTimer))}let $O=!1;function CJ(n){!$O&&(n.keyCode===hK.enter||n.keyCode===hK.space)&&($O=!0,FO(n))}function _J(n){$O=!1,rm(n)}function SJ(n){$O&&($O=!1,rm(n))}function kJ(n,s,c){const{value:f,modifiers:g}=s,h=xJ(f);if(h||GB.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=h,n._ripple.centered=g.center,n._ripple.circle=g.circle,Gz(f)&&f.class&&(n._ripple.class=f.class),h&&!c){if(g.stop){n.addEventListener("touchstart",Bq,{passive:!0}),n.addEventListener("mousedown",Bq);return}n.addEventListener("touchstart",FO,{passive:!0}),n.addEventListener("touchend",rm,{passive:!0}),n.addEventListener("touchmove",wJ,{passive:!0}),n.addEventListener("touchcancel",rm),n.addEventListener("mousedown",FO),n.addEventListener("mouseup",rm),n.addEventListener("mouseleave",rm),n.addEventListener("keydown",CJ),n.addEventListener("keyup",_J),n.addEventListener("blur",SJ),n.addEventListener("dragstart",rm,{passive:!0})}else!h&&c&&EJ(n)}function EJ(n){n.removeEventListener("mousedown",FO),n.removeEventListener("touchstart",FO),n.removeEventListener("touchend",rm),n.removeEventListener("touchmove",wJ),n.removeEventListener("touchcancel",rm),n.removeEventListener("mouseup",rm),n.removeEventListener("mouseleave",rm),n.removeEventListener("keydown",CJ),n.removeEventListener("keyup",_J),n.removeEventListener("dragstart",rm),n.removeEventListener("blur",SJ)}function Xpe(n,s){kJ(n,s,!1)}function Jpe(n){delete n._ripple,EJ(n)}function Qpe(n,s){if(s.value===s.oldValue)return;const c=xJ(s.oldValue);kJ(n,s,c)}const HO={mounted:Xpe,unmounted:Jpe,updated:Qpe},ebe=so({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:gJ},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Hi,appendIcon:Hi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Wy(),...rs(),...pb(),...bb(),...jy(),...Npe(),...fU(),...EM(),...gU(),...Sg(),...bU(),...SM(),...Ui({tag:"button"}),...ql(),...aC({variant:"elevated"})},"VBtn"),Ir=dr()({name:"VBtn",props:ebe(),emits:{"group:selected":n=>!0},setup(n,s){let{attrs:c,slots:f}=s;const{themeClasses:g}=Wc(n),{borderClasses:h}=Zy(n),{densityClasses:x}=O0(n),{dimensionStyles:C}=vb(n),{elevationClasses:O}=Ky(n),{loaderClasses:R}=mU(n),{locationStyles:D}=AM(n),{positionClasses:N}=hU(n),{roundedClasses:H}=kg(n),{sizeClasses:V,sizeStyles:Z}=kM(n),te=Ipe(n,n.symbol,!1),ce=pU(n,c),X=Wt(()=>{var Oe;return n.active!==void 0?n.active:ce.isLink.value?(Oe=ce.isActive)==null?void 0:Oe.value:te==null?void 0:te.isSelected.value}),Se=Zn(()=>X.value?n.activeColor??n.color:n.color),fe=Wt(()=>{var Be,P;return{color:(te==null?void 0:te.isSelected.value)&&(!ce.isLink.value||((Be=ce.isActive)==null?void 0:Be.value))||!te||((P=ce.isActive)==null?void 0:P.value)?Se.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:j,colorStyles:de,variantClasses:oe}=XO(fe),Ue=Wt(()=>(te==null?void 0:te.disabled.value)||n.disabled),He=Zn(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),je=Wt(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function st(Oe){var Be;Ue.value||ce.isLink.value&&(Oe.metaKey||Oe.ctrlKey||Oe.shiftKey||Oe.button!==0||c.target==="_blank")||((Be=ce.navigate)==null||Be.call(ce,Oe),te==null||te.toggle())}return qpe(ce,te==null?void 0:te.select),Yr(()=>{const Oe=ce.isLink.value?"a":n.tag,Be=!!(n.prependIcon||f.prepend),P=!!(n.appendIcon||f.append),St=!!(n.icon&&n.icon!==!0);return tr(Ie(Oe,Vs({type:Oe==="a"?void 0:"button",class:["v-btn",te==null?void 0:te.selectedClass.value,{"v-btn--active":X.value,"v-btn--block":n.block,"v-btn--disabled":Ue.value,"v-btn--elevated":He.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},g.value,h.value,j.value,x.value,O.value,R.value,N.value,H.value,V.value,oe.value,n.class],style:[de.value,C.value,D.value,Z.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:Ue.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:st,value:je.value},ce.linkProps),{default:()=>{var Mt;return[YO(!0,"v-btn"),!n.icon&&Be&&Pe("span",{key:"prepend",class:"v-btn__prepend"},[f.prepend?Ie(gc,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},f.prepend):Ie(cr,{key:"prepend-icon",icon:n.prependIcon},null)]),Pe("span",{class:"v-btn__content","data-no-activator":""},[!f.default&&St?Ie(cr,{key:"content-icon",icon:n.icon},null):Ie(gc,{key:"content-defaults",disabled:!St,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var tn;return[((tn=f.default)==null?void 0:tn.call(f))??Nt(n.text)]}})]),!n.icon&&P&&Pe("span",{key:"append",class:"v-btn__append"},[f.append?Ie(gc,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},f.append):Ie(cr,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&Pe("span",{key:"loader",class:"v-btn__loader"},[((Mt=f.loader)==null?void 0:Mt.call(f))??Ie(Vpe,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[HO,!Ue.value&&n.ripple,"",{center:!!n.icon}]])}),{group:te}}}),tbe={__name:"Timer",setup(n){const s=tf(),c=jl();function f(g){const h=("00"+Math.floor(g)%60).slice(-2),x=("00"+Math.floor(g/60)%60).slice(-2),C=("00"+Math.floor(g/3600)%24).slice(-2),O=Math.floor(g/86400);return O>1?O+" Tage "+C+" Stunden":O>0?O+" Tag "+C+" Stunden":C!="00"?C+":"+x+":"+h+" Stunden":x!="00"?x+":"+h+" Minuten":h+" Sekunden"}return(g,h)=>tr((rr(),ra(Ir,{class:"app-header-item",onClick:h[0]||(h[0]=x=>qe(c).toggleTimer())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-clock-outline"}),tr(Pe("span",null,Nt(f(qe(s).remaining_time)),513),[[Sr,qe(c).showTimer]]),tr(Pe("span",null,"Restzeit",512),[[Sr,!qe(c).showTimer]])]),_:1},512)),[[Sr,!qe(s).writingEndReached]])}},ub=dr()({name:"VCardActions",props:rs(),setup(n,s){let{slots:c}=s;return Mk({VBtn:{slim:!0,variant:"text"}}),Yr(()=>{var f;return Pe("div",{class:Go(["v-card-actions",n.class]),style:kr(n.style)},[(f=c.default)==null?void 0:f.call(c)])}),{}}}),nbe=so({opacity:[Number,String],...rs(),...Ui()},"VCardSubtitle"),obe=dr()({name:"VCardSubtitle",props:nbe(),setup(n,s){let{slots:c}=s;return Yr(()=>Ie(n.tag,{class:Go(["v-card-subtitle",n.class]),style:kr([{"--v-card-subtitle-opacity":n.opacity},n.style])},c)),{}}}),wV=dM("v-card-title");function rbe(n){return{aspectStyles:Wt(()=>{const s=Number(n.aspectRatio);return s?{paddingBottom:String(1/s*100)+"%"}:void 0})}}const AJ=so({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...rs(),...bb()},"VResponsive"),Mq=dr()({name:"VResponsive",props:AJ(),setup(n,s){let{slots:c}=s;const{aspectStyles:f}=rbe(n),{dimensionStyles:g}=vb(n);return Yr(()=>{var h;return Pe("div",{class:Go(["v-responsive",{"v-responsive--inline":n.inline},n.class]),style:kr([g.value,n.style])},[Pe("div",{class:"v-responsive__sizer",style:kr(f.value)},null),(h=c.additional)==null?void 0:h.call(c),c.default&&Pe("div",{class:Go(["v-responsive__content",n.contentClass])},[c.default()])])}),{}}}),TM=so({transition:{type:null,default:"fade-transition",validator:n=>n!==!0}},"transition"),Iy=(n,s)=>{let{slots:c}=s;const{transition:f,disabled:g,group:h,...x}=n,{component:C=h?YV:zy,...O}=Gz(f)?f:{};let R;return Gz(f)?R=Vs(O,JSON.parse(JSON.stringify({disabled:g,group:h})),x):R=Vs({name:g||!f?"":f},x),fb(C,R,c)};function sbe(n,s){if(!XV)return;const c=s.modifiers||{},f=s.value,{handler:g,options:h}=typeof f=="object"?f:{handler:f,options:{}},x=new IntersectionObserver(function(){var N;let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1?arguments[1]:void 0;const R=(N=n._observe)==null?void 0:N[s.instance.$.uid];if(!R)return;const D=C.some(H=>H.isIntersecting);g&&(!c.quiet||R.init)&&(!c.once||D||R.init)&&g(D,C,O),D&&c.once?TJ(n,s):R.init=!0},h);n._observe=Object(n._observe),n._observe[s.instance.$.uid]={init:!1,observer:x},x.observe(n)}function TJ(n,s){var f;const c=(f=n._observe)==null?void 0:f[s.instance.$.uid];c&&(c.observer.unobserve(n),delete n._observe[s.instance.$.uid])}const YB={mounted:sbe,unmounted:TJ},abe=so({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...AJ(),...rs(),...Sg(),...TM()},"VImg"),OM=dr()({name:"VImg",directives:{vIntersect:YB},props:abe(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,s){let{emit:c,slots:f}=s;const{backgroundColorClasses:g,backgroundColorStyles:h}=cb(()=>n.color),{roundedClasses:x}=kg(n),C=Nl("VImg"),O=xr(""),R=Io(),D=xr(n.eager?"loading":"idle"),N=xr(),H=xr(),V=Wt(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),Z=Wt(()=>V.value.aspect||N.value/H.value||0);qn(()=>n.src,()=>{te(D.value!=="idle")}),qn(Z,(Be,P)=>{!Be&&P&&R.value&&j(R.value)}),WO(()=>te());function te(Be){if(!(n.eager&&Be)&&!(XV&&!Be&&!n.eager)){if(D.value="loading",V.value.lazySrc){const P=new Image;P.src=V.value.lazySrc,j(P,null)}V.value.src&&ya(()=>{var P;c("loadstart",((P=R.value)==null?void 0:P.currentSrc)||V.value.src),setTimeout(()=>{var St;if(!C.isUnmounted)if((St=R.value)!=null&&St.complete){if(R.value.naturalWidth||X(),D.value==="error")return;Z.value||j(R.value,null),D.value==="loading"&&ce()}else Z.value||j(R.value),Se()})})}}function ce(){var Be;C.isUnmounted||(Se(),j(R.value),D.value="loaded",c("load",((Be=R.value)==null?void 0:Be.currentSrc)||V.value.src))}function X(){var Be;C.isUnmounted||(D.value="error",c("error",((Be=R.value)==null?void 0:Be.currentSrc)||V.value.src))}function Se(){const Be=R.value;Be&&(O.value=Be.currentSrc||Be.src)}let fe=-1;hc(()=>{clearTimeout(fe)});function j(Be){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const St=()=>{if(clearTimeout(fe),C.isUnmounted)return;const{naturalHeight:Mt,naturalWidth:tn}=Be;Mt||tn?(N.value=tn,H.value=Mt):!Be.complete&&D.value==="loading"&&P!=null?fe=window.setTimeout(St,P):(Be.currentSrc.endsWith(".svg")||Be.currentSrc.startsWith("data:image/svg+xml"))&&(N.value=1,H.value=1)};St()}const de=Zn(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),oe=()=>{var St;if(!V.value.src||D.value==="idle")return null;const Be=Pe("img",{class:Go(["v-img__img",de.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:V.value.src,srcset:V.value.srcset,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:R,onLoad:ce,onError:X},null),P=(St=f.sources)==null?void 0:St.call(f);return Ie(Iy,{transition:n.transition,appear:!0},{default:()=>[tr(P?Pe("picture",{class:"v-img__picture"},[P,Be]):Be,[[Sr,D.value==="loaded"]])]})},Ue=()=>Ie(Iy,{transition:n.transition},{default:()=>[V.value.lazySrc&&D.value!=="loaded"&&Pe("img",{class:Go(["v-img__img","v-img__img--preload",de.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:V.value.lazySrc,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),He=()=>f.placeholder?Ie(Iy,{transition:n.transition,appear:!0},{default:()=>[(D.value==="loading"||D.value==="error"&&!f.error)&&Pe("div",{class:"v-img__placeholder"},[f.placeholder()])]}):null,je=()=>f.error?Ie(Iy,{transition:n.transition,appear:!0},{default:()=>[D.value==="error"&&Pe("div",{class:"v-img__error"},[f.error()])]}):null,st=()=>n.gradient?Pe("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,Oe=xr(!1);{const Be=qn(Z,P=>{P&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Oe.value=!0})}),Be())})}return Yr(()=>{const Be=Mq.filterProps(n);return tr(Ie(Mq,Vs({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!Oe.value},g.value,x.value,n.class],style:[{width:vr(n.width==="auto"?N.value:n.width)},h.value,n.style]},Be,{aspectRatio:Z.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>Pe(Os,null,[Ie(oe,null,null),Ie(Ue,null,null),Ie(st,null,null),Ie(He,null,null),Ie(je,null,null)]),default:f.default}),[[YB,{handler:te,options:n.options},null,{once:!0}]])}),{currentSrc:O,image:R,state:D,naturalWidth:N,naturalHeight:H}}}),ibe=so({start:Boolean,end:Boolean,icon:Hi,image:String,text:String,...Wy(),...rs(),...pb(),...Sg(),...SM(),...Ui(),...ql(),...aC({variant:"flat"})},"VAvatar"),XB=dr()({name:"VAvatar",props:ibe(),setup(n,s){let{slots:c}=s;const{themeClasses:f}=Wc(n),{borderClasses:g}=Zy(n),{colorClasses:h,colorStyles:x,variantClasses:C}=XO(n),{densityClasses:O}=O0(n),{roundedClasses:R}=kg(n),{sizeClasses:D,sizeStyles:N}=kM(n);return Yr(()=>Ie(n.tag,{class:Go(["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},f.value,g.value,h.value,O.value,R.value,D.value,C.value,n.class]),style:kr([x.value,N.value,n.style])},{default:()=>[c.default?Ie(gc,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[c.default()]}):n.image?Ie(OM,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?Ie(cr,{key:"icon",icon:n.icon},null):n.text,YO(!1,"v-avatar")]})),{}}}),lbe=so({appendAvatar:String,appendIcon:Hi,prependAvatar:String,prependIcon:Hi,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...rs(),...pb()},"VCardItem"),cbe=dr()({name:"VCardItem",props:lbe(),setup(n,s){let{slots:c}=s;return Yr(()=>{var R;const f=!!(n.prependAvatar||n.prependIcon),g=!!(f||c.prepend),h=!!(n.appendAvatar||n.appendIcon),x=!!(h||c.append),C=!!(n.title!=null||c.title),O=!!(n.subtitle!=null||c.subtitle);return Pe("div",{class:Go(["v-card-item",n.class]),style:kr(n.style)},[g&&Pe("div",{key:"prepend",class:"v-card-item__prepend"},[c.prepend?Ie(gc,{key:"prepend-defaults",disabled:!f,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},c.prepend):Pe(Os,null,[n.prependAvatar&&Ie(XB,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&Ie(cr,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),Pe("div",{class:"v-card-item__content"},[C&&Ie(wV,{key:"title"},{default:()=>{var D;return[((D=c.title)==null?void 0:D.call(c))??Nt(n.title)]}}),O&&Ie(obe,{key:"subtitle"},{default:()=>{var D;return[((D=c.subtitle)==null?void 0:D.call(c))??Nt(n.subtitle)]}}),(R=c.default)==null?void 0:R.call(c)]),x&&Pe("div",{key:"append",class:"v-card-item__append"},[c.append?Ie(gc,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},c.append):Pe(Os,null,[n.appendIcon&&Ie(cr,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&Ie(XB,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),ube=so({opacity:[Number,String],...rs(),...Ui()},"VCardText"),db=dr()({name:"VCardText",props:ube(),setup(n,s){let{slots:c}=s;return Yr(()=>Ie(n.tag,{class:Go(["v-card-text",n.class]),style:kr([{"--v-card-text-opacity":n.opacity},n.style])},c)),{}}}),dbe=so({appendAvatar:String,appendIcon:Hi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Hi,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Wy(),...rs(),...pb(),...bb(),...jy(),...fU(),...EM(),...gU(),...Sg(),...bU(),...Ui(),...ql(),...aC({variant:"elevated"})},"VCard"),y0=dr()({name:"VCard",directives:{vRipple:HO},props:dbe(),setup(n,s){let{attrs:c,slots:f}=s;const{themeClasses:g}=Wc(n),{borderClasses:h}=Zy(n),{colorClasses:x,colorStyles:C,variantClasses:O}=XO(n),{densityClasses:R}=O0(n),{dimensionStyles:D}=vb(n),{elevationClasses:N}=Ky(n),{loaderClasses:H}=mU(n),{locationStyles:V}=AM(n),{positionClasses:Z}=hU(n),{roundedClasses:te}=kg(n),ce=pU(n,c);return Yr(()=>{const X=n.link!==!1&&ce.isLink.value,Se=!n.disabled&&n.link!==!1&&(n.link||ce.isClickable.value),fe=X?"a":n.tag,j=!!(f.title||n.title!=null),de=!!(f.subtitle||n.subtitle!=null),oe=j||de,Ue=!!(f.append||n.appendAvatar||n.appendIcon),He=!!(f.prepend||n.prependAvatar||n.prependIcon),je=!!(f.image||n.image),st=oe||He||Ue,Oe=!!(f.text||n.text!=null);return tr(Ie(fe,Vs({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":Se},g.value,h.value,x.value,R.value,N.value,H.value,Z.value,te.value,O.value,n.class],style:[C.value,D.value,V.value,n.style],onClick:Se&&ce.navigate,tabindex:n.disabled?-1:void 0},ce.linkProps),{default:()=>{var Be;return[je&&Pe("div",{key:"image",class:"v-card__image"},[f.image?Ie(gc,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},f.image):Ie(OM,{key:"image-img",cover:!0,src:n.image},null)]),Ie(bJ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:f.loader}),st&&Ie(cbe,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:f.item,prepend:f.prepend,title:f.title,subtitle:f.subtitle,append:f.append}),Oe&&Ie(db,{key:"text"},{default:()=>{var P;return[((P=f.text)==null?void 0:P.call(f))??n.text]}}),(Be=f.default)==null?void 0:Be.call(f),f.actions&&Ie(ub,null,{default:f.actions}),YO(Se,"v-card")]}}),[[HO,Se&&n.ripple]])}),{}}}),fbe=so({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function lm(n,s,c){return dr()({name:n,props:fbe({mode:c,origin:s}),setup(f,g){let{slots:h}=g;const x={onBeforeEnter(C){f.origin&&(C.style.transformOrigin=f.origin)},onLeave(C){if(f.leaveAbsolute){const{offsetTop:O,offsetLeft:R,offsetWidth:D,offsetHeight:N}=C;C._transitionInitialStyles={position:C.style.position,top:C.style.top,left:C.style.left,width:C.style.width,height:C.style.height},C.style.position="absolute",C.style.top=`${O}px`,C.style.left=`${R}px`,C.style.width=`${D}px`,C.style.height=`${N}px`}f.hideOnLeave&&C.style.setProperty("display","none","important")},onAfterLeave(C){if(f.leaveAbsolute&&(C!=null&&C._transitionInitialStyles)){const{position:O,top:R,left:D,width:N,height:H}=C._transitionInitialStyles;delete C._transitionInitialStyles,C.style.position=O||"",C.style.top=R||"",C.style.left=D||"",C.style.width=N||"",C.style.height=H||""}}};return()=>{const C=f.group?YV:zy;return fb(C,{name:f.disabled?"":n,css:!f.disabled,...f.group?void 0:{mode:f.mode},...f.disabled?{}:x},h.default)}}})}function OJ(n,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return dr()({name:n,props:{mode:{type:String,default:c},disabled:Boolean,group:Boolean},setup(f,g){let{slots:h}=g;const x=f.group?YV:zy;return()=>fb(x,{name:f.disabled?"":n,css:!f.disabled,...f.disabled?{}:s},h.default)}})}function DJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const c=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",f=sf(`offset-${c}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[c]:x.style[c]}},onEnter(x){const C=x._initialStyle;if(!C)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const O=`${x[f]}px`;x.style[c]="0",x.offsetHeight,x.style.transition=C.transition,n&&x._parent&&x._parent.classList.add(n),requestAnimationFrame(()=>{x.style[c]=O})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[c]:x.style[c]},x.style.overflow="hidden",x.style[c]=`${x[f]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[c]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){n&&x._parent&&x._parent.classList.remove(n),h(x)}function h(x){if(!x._initialStyle)return;const C=x._initialStyle[c];x.style.overflow=x._initialStyle.overflow,C!=null&&(x.style[c]=C),delete x._initialStyle}}const mbe=so({target:[Object,Array]},"v-dialog-transition"),Az=new WeakMap,gbe=dr()({name:"VDialogTransition",props:mbe(),setup(n,s){let{slots:c}=s;const f={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,h){var V;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const x=$q(n.target,g),{x:C,y:O,sx:R,sy:D,speed:N}=x;Az.set(g,x);const H=Sk(g,[{transform:`translate(${C}px, ${O}px) scale(${R}, ${D})`,opacity:0},{}],{duration:225*N,easing:_de});(V=Fq(g))==null||V.forEach(Z=>{Sk(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*N,easing:$B})}),H.finished.then(()=>h())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,h){var V;await new Promise(Z=>requestAnimationFrame(Z));let x;!Az.has(g)||Array.isArray(n.target)||n.target.offsetParent||n.target.getClientRects().length?x=$q(n.target,g):x=Az.get(g);const{x:C,y:O,sx:R,sy:D,speed:N}=x;Sk(g,[{},{transform:`translate(${C}px, ${O}px) scale(${R}, ${D})`,opacity:0}],{duration:125*N,easing:Sde}).finished.then(()=>h()),(V=Fq(g))==null||V.forEach(Z=>{Sk(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*N,easing:$B})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>n.target?Ie(zy,Vs({name:"dialog-transition"},f,{css:!1}),c):Ie(zy,{name:"dialog-transition"},c)}});function Fq(n){var c;const s=(c=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:c.children;return s&&[...s]}function $q(n,s){const c=YY(n),f=QV(s),[g,h]=getComputedStyle(s).transformOrigin.split(" ").map(X=>parseFloat(X)),[x,C]=getComputedStyle(s).getPropertyValue("--v-overlay-anchor-origin").split(" ");let O=c.left+c.width/2;x==="left"||C==="left"?O-=c.width/2:(x==="right"||C==="right")&&(O+=c.width/2);let R=c.top+c.height/2;x==="top"||C==="top"?R-=c.height/2:(x==="bottom"||C==="bottom")&&(R+=c.height/2);const D=c.width/f.width,N=c.height/f.height,H=Math.max(1,D,N),V=D/H||0,Z=N/H||0,te=f.width*f.height/(window.innerWidth*window.innerHeight),ce=te>.12?Math.min(1.5,(te-.12)*10+1):1;return{x:O-(g+f.left),y:R-(h+f.top),sx:V,sy:Z,speed:ce}}lm("fab-transition","center center","out-in");lm("dialog-bottom-transition");lm("dialog-top-transition");lm("fade-transition");lm("scale-transition");lm("scroll-x-transition");lm("scroll-x-reverse-transition");lm("scroll-y-transition");lm("scroll-y-reverse-transition");lm("slide-x-transition");lm("slide-x-reverse-transition");const RJ=lm("slide-y-transition");lm("slide-y-reverse-transition");const NJ=OJ("expand-transition",DJ()),hbe=OJ("expand-x-transition",DJ("",!0));function Tz(n,s){return{x:n.x+s.x,y:n.y+s.y}}function pbe(n,s){return{x:n.x-s.x,y:n.y-s.y}}function Hq(n,s){if(n.side==="top"||n.side==="bottom"){const{side:c,align:f}=n,g=f==="left"?0:f==="center"?s.width/2:f==="right"?s.width:f,h=c==="top"?0:c==="bottom"?s.height:c;return Tz({x:g,y:h},s)}else if(n.side==="left"||n.side==="right"){const{side:c,align:f}=n,g=c==="left"?0:c==="right"?s.width:c,h=f==="top"?0:f==="center"?s.height/2:f==="bottom"?s.height:f;return Tz({x:g,y:h},s)}return Tz({x:s.width/2,y:s.height/2},s)}const IJ={static:ybe,connected:wbe},bbe=so({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in IJ},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function vbe(n,s){const c=Io({}),f=Io();ki&&Lh(()=>!!(s.isActive.value&&n.locationStrategy),C=>{var O,R;qn(()=>n.locationStrategy,C),af(()=>{window.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),f.value=void 0}),window.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof n.locationStrategy=="function"?f.value=(O=n.locationStrategy(s,n,c))==null?void 0:O.updateLocation:f.value=(R=IJ[n.locationStrategy](s,n,c))==null?void 0:R.updateLocation});function g(C){var O;(O=f.value)==null||O.call(f,C)}function h(C){var O;(O=f.value)==null||O.call(f,C)}function x(C){var O;(O=f.value)==null||O.call(f,C)}return{contentStyles:c,updateLocation:f}}function ybe(){}function xbe(n,s){const c=QV(n);return s?c.x+=parseFloat(n.style.right||0):c.x-=parseFloat(n.style.left||0),c.y-=parseFloat(n.style.top||0),c}function wbe(n,s,c){(Array.isArray(n.target.value)||Ade(n.target.value))&&Object.assign(c.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:h}=JV(()=>{const X=Xz(s.location,n.isRtl.value),Se=s.origin==="overlap"?X:s.origin==="auto"?oz(X):Xz(s.origin,n.isRtl.value);return X.side===Se.side&&X.align===rz(Se).align?{preferredAnchor:xK(X),preferredOrigin:xK(Se)}:{preferredAnchor:X,preferredOrigin:Se}}),[x,C,O,R]=["minWidth","minHeight","maxWidth","maxHeight"].map(X=>Wt(()=>{const Se=parseFloat(s[X]);return isNaN(Se)?1/0:Se})),D=Wt(()=>{if(Array.isArray(s.offset))return s.offset;if(typeof s.offset=="string"){const X=s.offset.split(" ").map(parseFloat);return X.length<2&&X.push(0),X}return typeof s.offset=="number"?[s.offset,0]:[0,0]});let N=!1,H=-1;const V=new WY(4),Z=new ResizeObserver(()=>{if(!N)return;if(requestAnimationFrame(Se=>{Se!==H&&V.clear(),requestAnimationFrame(fe=>{H=fe})}),V.isFull){const Se=V.values();if(uM(Se.at(-1),Se.at(-3)))return}const X=ce();X&&V.push(X.flipped)});qn([n.target,n.contentEl],(X,Se)=>{let[fe,j]=X,[de,oe]=Se;de&&!Array.isArray(de)&&Z.unobserve(de),fe&&!Array.isArray(fe)&&Z.observe(fe),oe&&Z.unobserve(oe),j&&Z.observe(j)},{immediate:!0}),af(()=>{Z.disconnect()});let te=new lb({x:0,y:0,width:0,height:0});function ce(){if(N=!1,requestAnimationFrame(()=>N=!0),!n.target.value||!n.contentEl.value)return;(Array.isArray(n.target.value)||n.target.value.offsetParent||n.target.value.getClientRects().length)&&(te=YY(n.target.value));const X=xbe(n.contentEl.value,n.isRtl.value),Se=HB(n.contentEl.value),fe=12;Se.length||(Se.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(X.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),X.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=Se.reduce((P,St)=>{const Mt=que(St);return P?new lb({x:Math.max(P.left,Mt.left),y:Math.max(P.top,Mt.top),width:Math.min(P.right,Mt.right)-Math.max(P.left,Mt.left),height:Math.min(P.bottom,Mt.bottom)-Math.max(P.top,Mt.top)}):Mt},void 0);j.x+=fe,j.y+=fe,j.width-=fe*2,j.height-=fe*2;let de={anchor:g.value,origin:h.value};function oe(P){const St=new lb(X),Mt=Hq(P.anchor,te),tn=Hq(P.origin,St);let{x:un,y:ct}=pbe(Mt,tn);switch(P.anchor.side){case"top":ct-=D.value[0];break;case"bottom":ct+=D.value[0];break;case"left":un-=D.value[0];break;case"right":un+=D.value[0];break}switch(P.anchor.align){case"top":ct-=D.value[1];break;case"bottom":ct+=D.value[1];break;case"left":un-=D.value[1];break;case"right":un+=D.value[1];break}return St.x+=un,St.y+=ct,St.width=Math.min(St.width,O.value),St.height=Math.min(St.height,R.value),{overflows:CK(St,j),x:un,y:ct}}let Ue=0,He=0;const je={x:0,y:0},st={x:!1,y:!1};let Oe=-1;for(;!(Oe++>10);){const{x:P,y:St,overflows:Mt}=oe(de);Ue+=P,He+=St,X.x+=P,X.y+=St;{const tn=wK(de.anchor),un=Mt.x.before||Mt.x.after,ct=Mt.y.before||Mt.y.after;let _n=!1;if(["x","y"].forEach(Vn=>{if(Vn==="x"&&un&&!st.x||Vn==="y"&&ct&&!st.y){const Lt={anchor:{...de.anchor},origin:{...de.origin}},Je=Vn==="x"?tn==="y"?rz:oz:tn==="y"?oz:rz;Lt.anchor=Je(Lt.anchor),Lt.origin=Je(Lt.origin);const{overflows:Tt}=oe(Lt);(Tt[Vn].before<=Mt[Vn].before&&Tt[Vn].after<=Mt[Vn].after||Tt[Vn].before+Tt[Vn].after<(Mt[Vn].before+Mt[Vn].after)/2)&&(de=Lt,_n=st[Vn]=!0)}}),_n)continue}Mt.x.before&&(Ue+=Mt.x.before,X.x+=Mt.x.before),Mt.x.after&&(Ue-=Mt.x.after,X.x-=Mt.x.after),Mt.y.before&&(He+=Mt.y.before,X.y+=Mt.y.before),Mt.y.after&&(He-=Mt.y.after,X.y-=Mt.y.after);{const tn=CK(X,j);je.x=j.width-tn.x.before-tn.x.after,je.y=j.height-tn.y.before-tn.y.after,Ue+=tn.x.before,X.x+=tn.x.before,He+=tn.y.before,X.y+=tn.y.before}break}const Be=wK(de.anchor);return Object.assign(c.value,{"--v-overlay-anchor-origin":`${de.anchor.side} ${de.anchor.align}`,transformOrigin:`${de.origin.side} ${de.origin.align}`,top:vr(Oz(He)),left:n.isRtl.value?void 0:vr(Oz(Ue)),right:n.isRtl.value?vr(Oz(-Ue)):void 0,minWidth:vr(Be==="y"?Math.min(x.value,te.width):x.value),maxWidth:vr(zq(S0(je.x,x.value===1/0?0:x.value,O.value))),maxHeight:vr(zq(S0(je.y,C.value===1/0?0:C.value,R.value)))}),{available:je,contentBox:X,flipped:st}}return qn(()=>[g.value,h.value,s.offset,s.minWidth,s.minHeight,s.maxWidth,s.maxHeight],()=>ce()),ya(()=>{const X=ce();if(!X)return;const{available:Se,contentBox:fe}=X;fe.height>Se.y&&requestAnimationFrame(()=>{ce(),requestAnimationFrame(()=>{ce()})})}),{updateLocation:ce}}function Oz(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function zq(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let CV=!0;const JB=[];function Cbe(n){!CV||JB.length?(JB.push(n),_V()):(CV=!1,n(),_V())}let Vq=-1;function _V(){cancelAnimationFrame(Vq),Vq=requestAnimationFrame(()=>{const n=JB.shift();n&&n(),JB.length?_V():CV=!0})}const kB={none:null,close:kbe,block:Ebe,reposition:Abe},_be=so({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in kB}},"VOverlay-scroll-strategies");function Sbe(n,s){if(!ki)return;let c;Mh(async()=>{c==null||c.stop(),s.isActive.value&&n.scrollStrategy&&(c=Fy(),await new Promise(f=>setTimeout(f)),c.active&&c.run(()=>{var f;typeof n.scrollStrategy=="function"?n.scrollStrategy(s,n,c):(f=kB[n.scrollStrategy])==null||f.call(kB,s,n,c)}))}),af(()=>{c==null||c.stop()})}function kbe(n){function s(c){n.isActive.value=!1}PJ(n.targetEl.value??n.contentEl.value,s)}function Ebe(n,s){var x;const c=(x=n.root.value)==null?void 0:x.offsetParent,f=[...new Set([...HB(n.targetEl.value,s.contained?c:void 0),...HB(n.contentEl.value,s.contained?c:void 0)])].filter(C=>!C.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,h=(C=>nU(C)&&C)(c||document.documentElement);h&&n.root.value.classList.add("v-overlay--scroll-blocked"),f.forEach((C,O)=>{C.style.setProperty("--v-body-scroll-x",vr(-C.scrollLeft)),C.style.setProperty("--v-body-scroll-y",vr(-C.scrollTop)),C!==document.documentElement&&C.style.setProperty("--v-scrollbar-offset",vr(g)),C.classList.add("v-overlay-scroll-blocked")}),af(()=>{f.forEach((C,O)=>{const R=parseFloat(C.style.getPropertyValue("--v-body-scroll-x")),D=parseFloat(C.style.getPropertyValue("--v-body-scroll-y")),N=C.style.scrollBehavior;C.style.scrollBehavior="auto",C.style.removeProperty("--v-body-scroll-x"),C.style.removeProperty("--v-body-scroll-y"),C.style.removeProperty("--v-scrollbar-offset"),C.classList.remove("v-overlay-scroll-blocked"),C.scrollLeft=-R,C.scrollTop=-D,C.style.scrollBehavior=N}),h&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Abe(n,s,c){let f=!1,g=-1,h=-1;function x(C){Cbe(()=>{var D,N;const O=performance.now();(N=(D=n.updateLocation).value)==null||N.call(D,C),f=(performance.now()-O)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?C=>C():requestIdleCallback)(()=>{c.run(()=>{PJ(n.targetEl.value??n.contentEl.value,C=>{f?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(C)})})):x(C)})})}),af(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(g)})}function PJ(n,s){const c=[document,...HB(n)];c.forEach(f=>{f.addEventListener("scroll",s,{passive:!0})}),af(()=>{c.forEach(f=>{f.removeEventListener("scroll",s)})})}const Tbe=Symbol.for("vuetify:v-menu"),LJ=so({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function BJ(n,s){let c=()=>{};function f(x){c==null||c();const C=Number(x?n.openDelay:n.closeDelay);return new Promise(O=>{c=Zue(C,()=>{s==null||s(x),O(x)})})}function g(){return f(!0)}function h(){return f(!1)}return{clearDelay:c,runOpenDelay:g,runCloseDelay:h}}const Obe=so({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...LJ()},"VOverlay-activator");function Dbe(n,s){let{isActive:c,isTop:f,contentEl:g}=s;const h=Nl("useActivator"),x=Io();let C=!1,O=!1,R=!0;const D=Wt(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),N=Wt(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!D.value),{runOpenDelay:H,runCloseDelay:V}=BJ(n,He=>{He===(n.openOnHover&&C||D.value&&O)&&!(n.openOnHover&&c.value&&!f.value)&&(c.value!==He&&(R=!0),c.value=He)}),Z=Io(),te={onClick:He=>{He.stopPropagation(),x.value=He.currentTarget||He.target,c.value||(Z.value=[He.clientX,He.clientY]),c.value=!c.value},onMouseenter:He=>{var je;(je=He.sourceCapabilities)!=null&&je.firesTouchEvents||(C=!0,x.value=He.currentTarget||He.target,H())},onMouseleave:He=>{C=!1,V()},onFocus:He=>{Wue(He.target,":focus-visible")!==!1&&(O=!0,He.stopPropagation(),x.value=He.currentTarget||He.target,H())},onBlur:He=>{O=!1,He.stopPropagation(),V()}},ce=Wt(()=>{const He={};return N.value&&(He.onClick=te.onClick),n.openOnHover&&(He.onMouseenter=te.onMouseenter,He.onMouseleave=te.onMouseleave),D.value&&(He.onFocus=te.onFocus,He.onBlur=te.onBlur),He}),X=Wt(()=>{const He={};if(n.openOnHover&&(He.onMouseenter=()=>{C=!0,H()},He.onMouseleave=()=>{C=!1,V()}),D.value&&(He.onFocusin=()=>{O=!0,H()},He.onFocusout=()=>{O=!1,V()}),n.closeOnContentClick){const je=Si(Tbe,null);He.onClick=()=>{c.value=!1,je==null||je.closeParents()}}return He}),Se=Wt(()=>{const He={};return n.openOnHover&&(He.onMouseenter=()=>{R&&(C=!0,R=!1,H())},He.onMouseleave=()=>{C=!1,V()}),He});qn(f,He=>{var je;He&&(n.openOnHover&&!C&&(!D.value||!O)||D.value&&!O&&(!n.openOnHover||!C))&&!((je=g.value)!=null&&je.contains(document.activeElement))&&(c.value=!1)}),qn(c,He=>{He||setTimeout(()=>{Z.value=void 0})},{flush:"post"});const fe=Yz();Mh(()=>{fe.value&&ya(()=>{x.value=fe.el})});const j=Yz(),de=Wt(()=>n.target==="cursor"&&Z.value?Z.value:j.value?j.el:MJ(n.target,h)||x.value),oe=Wt(()=>Array.isArray(de.value)?void 0:de.value);let Ue;return qn(()=>!!n.activator,He=>{He&&ki?(Ue=Fy(),Ue.run(()=>{Rbe(n,h,{activatorEl:x,activatorEvents:ce})})):Ue&&Ue.stop()},{flush:"post",immediate:!0}),af(()=>{Ue==null||Ue.stop()}),{activatorEl:x,activatorRef:fe,target:de,targetEl:oe,targetRef:j,activatorEvents:ce,contentEvents:X,scrimEvents:Se}}function Rbe(n,s,c){let{activatorEl:f,activatorEvents:g}=c;qn(()=>n.activator,(O,R)=>{if(R&&O!==R){const D=C(R);D&&x(D)}O&&ya(()=>h())},{immediate:!0}),qn(()=>n.activatorProps,()=>{h()}),af(()=>{x()});function h(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;O&&Gue(O,Vs(g.value,R))}function x(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;O&&Yue(O,Vs(g.value,R))}function C(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const R=MJ(O,s);return f.value=(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE?R:void 0,f.value}}function MJ(n,s){var f,g;if(!n)return;let c;if(n==="parent"){let h=(g=(f=s==null?void 0:s.proxy)==null?void 0:f.$el)==null?void 0:g.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;c=h}else typeof n=="string"?c=document.querySelector(n):"$el"in n?c=n.$el:c=n;return c}function Nbe(){if(!ki)return xr(!1);const{ssr:n}=uX();if(n){const s=xr(!1);return Uc(()=>{s.value=!0}),s}else return xr(!0)}const Ibe=so({eager:Boolean},"lazy");function Pbe(n,s){const c=xr(!1),f=Zn(()=>c.value||n.eager||s.value);qn(s,()=>c.value=!0);function g(){n.eager||(c.value=!1)}return{isBooted:c,hasContent:f,onAfterLeave:g}}function vU(){const s=Nl("useScopeId").vnode.scopeId;return{scopeId:s?{[s]:""}:void 0}}const Uq=Symbol.for("vuetify:stack"),pO=fc([]);function Lbe(n,s,c){const f=Nl("useStack"),g=!c,h=Si(Uq,void 0),x=fc({activeChildren:new Set});im(Uq,x);const C=xr(Number(_0(s)));Lh(n,()=>{var N;const D=(N=pO.at(-1))==null?void 0:N[1];C.value=D?D+10:Number(_0(s)),g&&pO.push([f.uid,C.value]),h==null||h.activeChildren.add(f.uid),af(()=>{if(g){const H=jo(pO).findIndex(V=>V[0]===f.uid);pO.splice(H,1)}h==null||h.activeChildren.delete(f.uid)})});const O=xr(!0);g&&Mh(()=>{var N;const D=((N=pO.at(-1))==null?void 0:N[0])===f.uid;setTimeout(()=>O.value=D)});const R=Zn(()=>!x.activeChildren.size);return{globalTop:Lk(O),localTop:R,stackStyles:Zn(()=>({zIndex:C.value}))}}function Bbe(n){return{teleportTarget:Wt(()=>{const c=n();if(c===!0||!ki)return;const f=c===!1?document.body:typeof c=="string"?document.querySelector(c):c;if(f==null)return;let g=[...f.children].find(h=>h.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",f.appendChild(g)),g})}}function Mbe(){return!0}function FJ(n,s,c){if(!n||$J(n,c)===!1)return!1;const f=nX(s);if(typeof ShadowRoot<"u"&&f instanceof ShadowRoot&&f.host===n.target)return!1;const g=(typeof c.value=="object"&&c.value.include||(()=>[]))();return g.push(s),!g.some(h=>h==null?void 0:h.contains(n.target))}function $J(n,s){return(typeof s.value=="object"&&s.value.closeConditional||Mbe)(n)}function Fbe(n,s,c){const f=typeof c.value=="function"?c.value:c.value.handler;n.shadowTarget=n.target,s._clickOutside.lastMousedownWasOutside&&FJ(n,s,c)&&setTimeout(()=>{$J(n,c)&&f&&f(n)},0)}function Wq(n,s){const c=nX(n);s(document),typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&s(c)}const Zq={mounted(n,s){const c=g=>Fbe(g,n,s),f=g=>{n._clickOutside.lastMousedownWasOutside=FJ(g,n,s)};Wq(n,g=>{g.addEventListener("click",c,!0),g.addEventListener("mousedown",f,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[s.instance.$.uid]={onClick:c,onMousedown:f}},beforeUnmount(n,s){n._clickOutside&&(Wq(n,c=>{var h;if(!c||!((h=n._clickOutside)!=null&&h[s.instance.$.uid]))return;const{onClick:f,onMousedown:g}=n._clickOutside[s.instance.$.uid];c.removeEventListener("click",f,!0),c.removeEventListener("mousedown",g,!0)}),delete n._clickOutside[s.instance.$.uid])}};function $be(n){const{modelValue:s,color:c,...f}=n;return Ie(zy,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&Pe("div",Vs({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},f),null)]})}const HJ=so({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Obe(),...rs(),...bb(),...Ibe(),...bbe(),..._be(),...ql(),...TM()},"VOverlay"),jq=dr()({name:"VOverlay",directives:{vClickOutside:Zq},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...HJ()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,keydown:n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,s){let{slots:c,attrs:f,emit:g}=s;const h=Nl("VOverlay"),x=Io(),C=Io(),O=Io(),R=nf(n,"modelValue"),D=Wt({get:()=>R.value,set:gn=>{gn&&n.disabled||(R.value=gn)}}),{themeClasses:N}=Wc(n),{rtlClasses:H,isRtl:V}=T0(),{hasContent:Z,onAfterLeave:te}=Pbe(n,D),ce=cb(()=>typeof n.scrim=="string"?n.scrim:null),{globalTop:X,localTop:Se,stackStyles:fe}=Lbe(D,()=>n.zIndex,n._disableGlobalStack),{activatorEl:j,activatorRef:de,target:oe,targetEl:Ue,targetRef:He,activatorEvents:je,contentEvents:st,scrimEvents:Oe}=Dbe(n,{isActive:D,isTop:Se,contentEl:O}),{teleportTarget:Be}=Bbe(()=>{var gr,$o,Do;const gn=n.attach||n.contained;if(gn)return gn;const Q=((gr=j==null?void 0:j.value)==null?void 0:gr.getRootNode())||((Do=($o=h.proxy)==null?void 0:$o.$el)==null?void 0:Do.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:P}=vb(n),St=Nbe(),{scopeId:Mt}=vU();qn(()=>n.disabled,gn=>{gn&&(D.value=!1)});const{contentStyles:tn,updateLocation:un}=vbe(n,{isRtl:V,contentEl:O,target:oe,isActive:D});Sbe(n,{root:x,contentEl:O,targetEl:Ue,isActive:D,updateLocation:un});function ct(gn){g("click:outside",gn),n.persistent?Gn():D.value=!1}function _n(gn){return D.value&&X.value&&(!n.scrim||gn.target===C.value||gn instanceof MouseEvent&&gn.shadowTarget===C.value)}ki&&qn(D,gn=>{gn?window.addEventListener("keydown",Vn):window.removeEventListener("keydown",Vn)},{immediate:!0}),hc(()=>{ki&&window.removeEventListener("keydown",Vn)});function Vn(gn){var Q,gr,$o;gn.key==="Escape"&&X.value&&((Q=O.value)!=null&&Q.contains(document.activeElement)||g("keydown",gn),n.persistent?Gn():(D.value=!1,(gr=O.value)!=null&&gr.contains(document.activeElement)&&(($o=j.value)==null||$o.focus())))}function Lt(gn){gn.key==="Escape"&&!X.value||g("keydown",gn)}const Je=vJ();Lh(()=>n.closeOnBack,()=>{Kpe(Je,gn=>{X.value&&D.value?(gn(!1),n.persistent?Gn():D.value=!1):gn()})});const Tt=Io();qn(()=>D.value&&(n.absolute||n.contained)&&Be.value==null,gn=>{if(gn){const Q=kde(x.value);Q&&Q!==document.scrollingElement&&(Tt.value=Q.scrollTop)}});function Gn(){n.noClickAnimation||O.value&&Sk(O.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:$B})}function jn(){g("afterEnter")}function Xn(){te(),g("afterLeave")}return Yr(()=>{var gn;return Pe(Os,null,[(gn=c.activator)==null?void 0:gn.call(c,{isActive:D.value,targetRef:He,props:Vs({ref:de},je.value,n.activatorProps)}),St.value&&Z.value&&Ie(oce,{disabled:!Be.value,to:Be.value},{default:()=>[Pe("div",Vs({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":D.value,"v-overlay--contained":n.contained},N.value,H.value,n.class],style:[fe.value,{"--v-overlay-opacity":n.opacity,top:vr(Tt.value)},n.style],ref:x,onKeydown:Lt},Mt,f),[Ie($be,Vs({color:ce,modelValue:D.value&&!!n.scrim,ref:C},Oe.value),null),Ie(Iy,{appear:!0,persisted:!0,transition:n.transition,target:oe.value,onAfterEnter:jn,onAfterLeave:Xn},{default:()=>{var Q;return[tr(Pe("div",Vs({ref:O,class:["v-overlay__content",n.contentClass],style:[P.value,tn.value]},st.value,n.contentProps),[(Q=c.default)==null?void 0:Q.call(c,{isActive:D})]),[[Sr,D.value],[Zq,{handler:ct,closeConditional:_n,include:()=>[j.value]}]])]}})])]})])}),{activatorEl:j,scrimEl:C,target:oe,animateClick:Gn,contentEl:O,globalTop:X,localTop:Se,updateLocation:un}}}),Dz=Symbol("Forwarded refs");function Rz(n,s){let c=n;for(;c;){const f=Reflect.getOwnPropertyDescriptor(c,s);if(f)return f;c=Object.getPrototypeOf(c)}}function zJ(n){for(var s=arguments.length,c=new Array(s>1?s-1:0),f=1;f<s;f++)c[f-1]=arguments[f];return n[Dz]=c,new Proxy(n,{get(g,h){if(Reflect.has(g,h))return Reflect.get(g,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of c)if(x.value&&Reflect.has(x.value,h)){const C=Reflect.get(x.value,h);return typeof C=="function"?C.bind(x.value):C}}},has(g,h){if(Reflect.has(g,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of c)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(g,h,x){if(Reflect.has(g,h))return Reflect.set(g,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const C of c)if(C.value&&Reflect.has(C.value,h))return Reflect.set(C.value,h,x);return!1},getOwnPropertyDescriptor(g,h){var C;const x=Reflect.getOwnPropertyDescriptor(g,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const O of c){if(!O.value)continue;const R=Rz(O.value,h)??("_"in O.value?Rz((C=O.value._)==null?void 0:C.setupState,h):void 0);if(R)return R}for(const O of c){const R=O.value&&O.value[Dz];if(!R)continue;const D=R.slice();for(;D.length;){const N=D.shift(),H=Rz(N.value,h);if(H)return H;const V=N.value&&N.value[Dz];V&&D.push(...V)}}}}})}const Hbe=so({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...HJ({origin:"center center",scrollStrategy:"block",transition:{component:gbe},zIndex:2400})},"VDialog"),x0=dr()({name:"VDialog",props:Hbe(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,s){let{emit:c,slots:f}=s;const g=nf(n,"modelValue"),{scopeId:h}=vU(),x=Io();function C(D){var V,Z;const N=D.relatedTarget,H=D.target;if(N!==H&&((V=x.value)!=null&&V.contentEl)&&((Z=x.value)!=null&&Z.globalTop)&&![document,x.value.contentEl].includes(H)&&!x.value.contentEl.contains(H)){const te=KY(x.value.contentEl);if(!te.length)return;const ce=te[0],X=te[te.length-1];N===ce?X.focus():ce.focus()}}hc(()=>{document.removeEventListener("focusin",C)}),ki&&qn(()=>g.value&&n.retainFocus,D=>{D?document.addEventListener("focusin",C):document.removeEventListener("focusin",C)},{immediate:!0});function O(){var D;c("afterEnter"),(n.scrim||n.retainFocus)&&((D=x.value)!=null&&D.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function R(){c("afterLeave")}return qn(g,async D=>{var N;D||(await ya(),(N=x.value.activatorEl)==null||N.focus({preventScroll:!0}))}),Yr(()=>{const D=jq.filterProps(n),N=Vs({"aria-haspopup":"dialog"},n.activatorProps),H=Vs({tabindex:-1},n.contentProps);return Ie(jq,Vs({ref:x,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},D,{modelValue:g.value,"onUpdate:modelValue":V=>g.value=V,"aria-modal":"true",activatorProps:N,contentProps:H,height:n.fullscreen?void 0:n.height,width:n.fullscreen?void 0:n.width,maxHeight:n.fullscreen?void 0:n.maxHeight,maxWidth:n.fullscreen?void 0:n.maxWidth,role:"dialog",onAfterEnter:O,onAfterLeave:R},h),{activator:f.activator,default:function(){for(var V=arguments.length,Z=new Array(V),te=0;te<V;te++)Z[te]=arguments[te];return Ie(gc,{root:"VDialog"},{default:()=>{var ce;return[(ce=f.default)==null?void 0:ce.call(f,...Z)]}})}})}),zJ({},x)}}),SV=Symbol.for("vuetify:list");function VJ(){const n=Si(SV,{hasPrepend:xr(!1),updateHasPrepend:()=>null}),s={hasPrepend:xr(!1),updateHasPrepend:c=>{c&&(s.hasPrepend.value=c)}};return im(SV,s),n}function UJ(){return Si(SV,null)}const yU=n=>{const s={activate:c=>{let{id:f,value:g,activated:h}=c;return f=jo(f),n&&!g&&h.size===1&&h.has(f)||(g?h.add(f):h.delete(f)),h},in:(c,f,g)=>{let h=new Set;if(c!=null)for(const x of Qw(c))h=s.activate({id:x,value:!0,activated:new Set(h),children:f,parents:g});return h},out:c=>Array.from(c)};return s},WJ=n=>{const s=yU(n);return{activate:f=>{let{activated:g,id:h,...x}=f;h=jo(h);const C=g.has(h)?new Set([h]):new Set;return s.activate({...x,id:h,activated:C})},in:(f,g,h)=>{let x=new Set;if(f!=null){const C=Qw(f);C.length&&(x=s.in(C.slice(0,1),g,h))}return x},out:(f,g,h)=>s.out(f,g,h)}},zbe=n=>{const s=yU(n);return{activate:f=>{let{id:g,activated:h,children:x,...C}=f;return g=jo(g),x.has(g)?h:s.activate({id:g,activated:h,children:x,...C})},in:s.in,out:s.out}},Vbe=n=>{const s=WJ(n);return{activate:f=>{let{id:g,activated:h,children:x,...C}=f;return g=jo(g),x.has(g)?h:s.activate({id:g,activated:h,children:x,...C})},in:s.in,out:s.out}},Ube={open:n=>{let{id:s,value:c,opened:f,parents:g}=n;if(c){const h=new Set;h.add(s);let x=g.get(s);for(;x!=null;)h.add(x),x=g.get(x);return h}else return f.delete(s),f},select:()=>null},ZJ={open:n=>{let{id:s,value:c,opened:f,parents:g}=n;if(c){let h=g.get(s);for(f.add(s);h!=null&&h!==s;)f.add(h),h=g.get(h);return f}else f.delete(s);return f},select:()=>null},Wbe={open:ZJ.open,select:n=>{let{id:s,value:c,opened:f,parents:g}=n;if(!c)return f;const h=[];let x=g.get(s);for(;x!=null;)h.push(x),x=g.get(x);return new Set(h)}},xU=n=>{const s={select:c=>{let{id:f,value:g,selected:h}=c;if(f=jo(f),n&&!g){const x=Array.from(h.entries()).reduce((C,O)=>{let[R,D]=O;return D==="on"&&C.push(R),C},[]);if(x.length===1&&x[0]===f)return h}return h.set(f,g?"on":"off"),h},in:(c,f,g)=>{const h=new Map;for(const x of c||[])s.select({id:x,value:!0,selected:h,children:f,parents:g});return h},out:c=>{const f=[];for(const[g,h]of c.entries())h==="on"&&f.push(g);return f}};return s},jJ=n=>{const s=xU(n);return{select:f=>{let{selected:g,id:h,...x}=f;h=jo(h);const C=g.has(h)?new Map([[h,g.get(h)]]):new Map;return s.select({...x,id:h,selected:C})},in:(f,g,h)=>f!=null&&f.length?s.in(f.slice(0,1),g,h):new Map,out:(f,g,h)=>s.out(f,g,h)}},Zbe=n=>{const s=xU(n);return{select:f=>{let{id:g,selected:h,children:x,...C}=f;return g=jo(g),x.has(g)?h:s.select({id:g,selected:h,children:x,...C})},in:s.in,out:s.out}},jbe=n=>{const s=jJ(n);return{select:f=>{let{id:g,selected:h,children:x,...C}=f;return g=jo(g),x.has(g)?h:s.select({id:g,selected:h,children:x,...C})},in:s.in,out:s.out}},KJ=n=>{const s={select:c=>{let{id:f,value:g,selected:h,children:x,parents:C}=c;f=jo(f);const O=new Map(h),R=[f];for(;R.length;){const N=R.shift();h.set(jo(N),g?"on":"off"),x.has(N)&&R.push(...x.get(N))}let D=jo(C.get(f));for(;D;){const N=x.get(D),H=N.every(Z=>h.get(jo(Z))==="on"),V=N.every(Z=>!h.has(jo(Z))||h.get(jo(Z))==="off");h.set(D,H?"on":V?"off":"indeterminate"),D=jo(C.get(D))}return n&&!g&&Array.from(h.entries()).reduce((H,V)=>{let[Z,te]=V;return te==="on"&&H.push(Z),H},[]).length===0?O:h},in:(c,f,g)=>{let h=new Map;for(const x of c||[])h=s.select({id:x,value:!0,selected:h,children:f,parents:g});return h},out:(c,f)=>{const g=[];for(const[h,x]of c.entries())x==="on"&&!f.has(h)&&g.push(h);return g}};return s},Kbe=n=>{const s=KJ(n);return{select:s.select,in:s.in,out:(f,g,h)=>{const x=[];for(const[C,O]of f.entries())if(O==="on"){if(h.has(C)){const R=h.get(C);if(f.get(R)==="on")continue}x.push(C)}return x}}},zO=Symbol.for("vuetify:nested"),qJ={id:xr(),root:{register:()=>null,unregister:()=>null,parents:Io(new Map),children:Io(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Io(!1),selectable:Io(!1),opened:Io(new Set),activated:Io(new Set),selected:Io(new Map),selectedValues:Io([]),getPath:()=>[]}},qbe=so({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Gbe=n=>{let s=!1;const c=Io(new Map),f=Io(new Map),g=nf(n,"opened",n.opened,Z=>new Set(Z),Z=>[...Z.values()]),h=Wt(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return zbe(n.mandatory);case"single-leaf":return Vbe(n.mandatory);case"independent":return yU(n.mandatory);case"single-independent":default:return WJ(n.mandatory)}}),x=Wt(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return jbe(n.mandatory);case"leaf":return Zbe(n.mandatory);case"independent":return xU(n.mandatory);case"single-independent":return jJ(n.mandatory);case"trunk":return Kbe(n.mandatory);case"classic":default:return KJ(n.mandatory)}}),C=Wt(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return Wbe;case"single":return Ube;case"multiple":default:return ZJ}}),O=nf(n,"activated",n.activated,Z=>h.value.in(Z,c.value,f.value),Z=>h.value.out(Z,c.value,f.value)),R=nf(n,"selected",n.selected,Z=>x.value.in(Z,c.value,f.value),Z=>x.value.out(Z,c.value,f.value));hc(()=>{s=!0});function D(Z){const te=[];let ce=Z;for(;ce!=null;)te.unshift(ce),ce=f.value.get(ce);return te}const N=Nl("nested"),H=new Set,V={id:xr(),root:{opened:g,activatable:Zn(()=>n.activatable),selectable:Zn(()=>n.selectable),activated:O,selected:R,selectedValues:Wt(()=>{const Z=[];for(const[te,ce]of R.value.entries())ce==="on"&&Z.push(te);return Z}),register:(Z,te,ce)=>{if(H.has(Z)){D(Z).map(String).join(" -> "),D(te).concat(Z).map(String).join(" -> ");return}else H.add(Z);te&&Z!==te&&f.value.set(Z,te),ce&&c.value.set(Z,[]),te!=null&&c.value.set(te,[...c.value.get(te)||[],Z])},unregister:Z=>{if(s)return;H.delete(Z),c.value.delete(Z);const te=f.value.get(Z);if(te){const ce=c.value.get(te)??[];c.value.set(te,ce.filter(X=>X!==Z))}f.value.delete(Z)},open:(Z,te,ce)=>{N.emit("click:open",{id:Z,value:te,path:D(Z),event:ce});const X=C.value.open({id:Z,value:te,opened:new Set(g.value),children:c.value,parents:f.value,event:ce});X&&(g.value=X)},openOnSelect:(Z,te,ce)=>{const X=C.value.select({id:Z,value:te,selected:new Map(R.value),opened:new Set(g.value),children:c.value,parents:f.value,event:ce});X&&(g.value=X)},select:(Z,te,ce)=>{N.emit("click:select",{id:Z,value:te,path:D(Z),event:ce});const X=x.value.select({id:Z,value:te,selected:new Map(R.value),children:c.value,parents:f.value,event:ce});X&&(R.value=X),V.root.openOnSelect(Z,te,ce)},activate:(Z,te,ce)=>{if(!n.activatable)return V.root.select(Z,!0,ce);N.emit("click:activate",{id:Z,value:te,path:D(Z),event:ce});const X=h.value.activate({id:Z,value:te,activated:new Set(O.value),children:c.value,parents:f.value,event:ce});if(X.size!==O.value.size)O.value=X;else{for(const Se of X)if(!O.value.has(Se)){O.value=X;return}for(const Se of O.value)if(!X.has(Se)){O.value=X;return}}},children:c,parents:f,getPath:D}};return im(zO,V),V.root},GJ=(n,s)=>{const c=Si(zO,qJ),f=Symbol("nested item"),g=Wt(()=>_0(n)??f),h={...c,id:g,open:(x,C)=>c.root.open(g.value,x,C),openOnSelect:(x,C)=>c.root.openOnSelect(g.value,x,C),isOpen:Wt(()=>c.root.opened.value.has(g.value)),parent:Wt(()=>c.root.parents.value.get(g.value)),activate:(x,C)=>c.root.activate(g.value,x,C),isActivated:Wt(()=>c.root.activated.value.has(jo(g.value))),select:(x,C)=>c.root.select(g.value,x,C),isSelected:Wt(()=>c.root.selected.value.get(jo(g.value))==="on"),isIndeterminate:Wt(()=>c.root.selected.value.get(jo(g.value))==="indeterminate"),isLeaf:Wt(()=>!c.root.children.value.get(g.value)),isGroupActivator:c.isGroupActivator};return WO(()=>{!c.isGroupActivator&&c.root.register(g.value,c.id.value,s)}),hc(()=>{!c.isGroupActivator&&c.root.unregister(g.value)}),s&&im(zO,h),h},Ybe=()=>{const n=Si(zO,qJ);im(zO,{...n,isGroupActivator:!0})};function DM(){const n=xr(!1);return Uc(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:Zn(()=>n.value?void 0:{transition:"none !important"}),isBooted:Lk(n)}}const Xbe=Fk({name:"VListGroupActivator",setup(n,s){let{slots:c}=s;return Ybe(),()=>{var f;return(f=c.default)==null?void 0:f.call(c)}}}),Jbe=so({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Hi,default:"$collapse"},expandIcon:{type:Hi,default:"$expand"},prependIcon:Hi,appendIcon:Hi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...rs(),...Ui()},"VListGroup"),Kq=dr()({name:"VListGroup",props:Jbe(),setup(n,s){let{slots:c}=s;const{isOpen:f,open:g,id:h}=GJ(()=>n.value,!0),x=Wt(()=>`v-list-group--id-${String(h.value)}`),C=UJ(),{isBooted:O}=DM();function R(V){var Z;V.stopPropagation(),!["INPUT","TEXTAREA"].includes((Z=V.target)==null?void 0:Z.tagName)&&g(!f.value,V)}const D=Wt(()=>({onClick:R,class:"v-list-group__header",id:x.value})),N=Wt(()=>f.value?n.collapseIcon:n.expandIcon),H=Wt(()=>({VListItem:{active:f.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&N.value,appendIcon:n.appendIcon||!n.subgroup&&N.value,title:n.title,value:n.value}}));return Yr(()=>Ie(n.tag,{class:Go(["v-list-group",{"v-list-group--prepend":C==null?void 0:C.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":f.value},n.class]),style:kr(n.style)},{default:()=>[c.activator&&Ie(gc,{defaults:H.value},{default:()=>[Ie(Xbe,null,{default:()=>[c.activator({props:D.value,isOpen:f.value})]})]}),Ie(Iy,{transition:{component:NJ},disabled:!O.value},{default:()=>{var V;return[tr(Pe("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(V=c.default)==null?void 0:V.call(c)]),[[Sr,f.value]])]}})]})),{isOpen:f}}}),Qbe=so({opacity:[Number,String],...rs(),...Ui()},"VListItemSubtitle"),eve=dr()({name:"VListItemSubtitle",props:Qbe(),setup(n,s){let{slots:c}=s;return Yr(()=>Ie(n.tag,{class:Go(["v-list-item-subtitle",n.class]),style:kr([{"--v-list-item-subtitle-opacity":n.opacity},n.style])},c)),{}}}),tve=dM("v-list-item-title"),nve=so({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Hi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Hi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Cg(),onClickOnce:Cg(),...Wy(),...rs(),...pb(),...bb(),...jy(),...Sg(),...bU(),...Ui(),...ql(),...aC({variant:"text"})},"VListItem"),sb=dr()({name:"VListItem",directives:{vRipple:HO},props:nve(),emits:{click:n=>!0},setup(n,s){let{attrs:c,slots:f,emit:g}=s;const h=pU(n,c),x=Wt(()=>n.value===void 0?h.href.value:n.value),{activate:C,isActivated:O,select:R,isOpen:D,isSelected:N,isIndeterminate:H,isGroupActivator:V,root:Z,parent:te,openOnSelect:ce,id:X}=GJ(x,!1),Se=UJ(),fe=Wt(()=>{var Gn;return n.active!==!1&&(n.active||((Gn=h.isActive)==null?void 0:Gn.value)||(Z.activatable.value?O.value:N.value))}),j=Zn(()=>n.link!==!1&&h.isLink.value),de=Wt(()=>!!Se&&(Z.selectable.value||Z.activatable.value||n.value!=null)),oe=Wt(()=>!n.disabled&&n.link!==!1&&(n.link||h.isClickable.value||de.value)),Ue=Zn(()=>n.rounded||n.nav),He=Zn(()=>n.color??n.activeColor),je=Zn(()=>({color:fe.value?He.value??n.baseColor:n.baseColor,variant:n.variant}));qn(()=>{var Gn;return(Gn=h.isActive)==null?void 0:Gn.value},Gn=>{Gn&&st()}),WO(()=>{var Gn;(Gn=h.isActive)!=null&&Gn.value&&st()});function st(){te.value!=null&&Z.open(te.value,!0),ce(!0)}const{themeClasses:Oe}=Wc(n),{borderClasses:Be}=Zy(n),{colorClasses:P,colorStyles:St,variantClasses:Mt}=XO(je),{densityClasses:tn}=O0(n),{dimensionStyles:un}=vb(n),{elevationClasses:ct}=Ky(n),{roundedClasses:_n}=kg(Ue),Vn=Zn(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),Lt=Wt(()=>({isActive:fe.value,select:R,isOpen:D.value,isSelected:N.value,isIndeterminate:H.value}));function Je(Gn){var jn,Xn;g("click",Gn),!["INPUT","TEXTAREA"].includes((jn=Gn.target)==null?void 0:jn.tagName)&&oe.value&&((Xn=h.navigate)==null||Xn.call(h,Gn),!V&&(Z.activatable.value?C(!O.value,Gn):(Z.selectable.value||n.value!=null)&&R(!N.value,Gn)))}function Tt(Gn){const jn=Gn.target;["INPUT","TEXTAREA"].includes(jn.tagName)||(Gn.key==="Enter"||Gn.key===" ")&&(Gn.preventDefault(),Gn.target.dispatchEvent(new MouseEvent("click",Gn)))}return Yr(()=>{const Gn=j.value?"a":n.tag,jn=f.title||n.title!=null,Xn=f.subtitle||n.subtitle!=null,gn=!!(n.appendAvatar||n.appendIcon),Q=!!(gn||f.append),gr=!!(n.prependAvatar||n.prependIcon),$o=!!(gr||f.prepend);return Se==null||Se.updateHasPrepend($o),n.activeColor&&rde("active-color",["color","base-color"]),tr(Ie(Gn,Vs({class:["v-list-item",{"v-list-item--active":fe.value,"v-list-item--disabled":n.disabled,"v-list-item--link":oe.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!$o&&(Se==null?void 0:Se.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&fe.value},Oe.value,Be.value,P.value,tn.value,ct.value,Vn.value,_n.value,Mt.value,n.class],style:[St.value,un.value,n.style],tabindex:oe.value?Se?-2:0:void 0,"aria-selected":de.value?Z.activatable.value?O.value:Z.selectable.value?N.value:fe.value:void 0,onClick:Je,onKeydown:oe.value&&!j.value&&Tt},h.linkProps),{default:()=>{var Do;return[YO(oe.value||fe.value,"v-list-item"),$o&&Pe("div",{key:"prepend",class:"v-list-item__prepend"},[f.prepend?Ie(gc,{key:"prepend-defaults",disabled:!gr,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Ye;return[(Ye=f.prepend)==null?void 0:Ye.call(f,Lt.value)]}}):Pe(Os,null,[n.prependAvatar&&Ie(XB,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&Ie(cr,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),Pe("div",{class:"v-list-item__spacer"},null)]),Pe("div",{class:"v-list-item__content","data-no-activator":""},[jn&&Ie(tve,{key:"title"},{default:()=>{var Ye;return[((Ye=f.title)==null?void 0:Ye.call(f,{title:n.title}))??Nt(n.title)]}}),Xn&&Ie(eve,{key:"subtitle"},{default:()=>{var Ye;return[((Ye=f.subtitle)==null?void 0:Ye.call(f,{subtitle:n.subtitle}))??Nt(n.subtitle)]}}),(Do=f.default)==null?void 0:Do.call(f,Lt.value)]),Q&&Pe("div",{key:"append",class:"v-list-item__append"},[f.append?Ie(gc,{key:"append-defaults",disabled:!gn,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Ye;return[(Ye=f.append)==null?void 0:Ye.call(f,Lt.value)]}}):Pe(Os,null,[n.appendIcon&&Ie(cr,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&Ie(XB,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),Pe("div",{class:"v-list-item__spacer"},null)])]}}),[[HO,oe.value&&n.ripple]])}),{activate:C,isActivated:O,isGroupActivator:V,isSelected:N,list:Se,select:R,root:Z,id:X,link:h}}}),ove=so({color:String,inset:Boolean,sticky:Boolean,title:String,...rs(),...Ui()},"VListSubheader"),rve=dr()({name:"VListSubheader",props:ove(),setup(n,s){let{slots:c}=s;const{textColorClasses:f,textColorStyles:g}=k0(()=>n.color);return Yr(()=>{const h=!!(c.default||n.title);return Ie(n.tag,{class:Go(["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},f.value,n.class]),style:kr([{textColorStyles:g},n.style])},{default:()=>{var x;return[h&&Pe("div",{class:"v-list-subheader__text"},[((x=c.default)==null?void 0:x.call(c))??n.title])]}})}),{}}}),sve=so({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...rs(),...ql()},"VDivider"),kV=dr()({name:"VDivider",props:sve(),setup(n,s){let{attrs:c,slots:f}=s;const{themeClasses:g}=Wc(n),{textColorClasses:h,textColorStyles:x}=k0(()=>n.color),C=Wt(()=>{const O={};return n.length&&(O[n.vertical?"height":"width"]=vr(n.length)),n.thickness&&(O[n.vertical?"borderRightWidth":"borderTopWidth"]=vr(n.thickness)),O});return Yr(()=>{const O=Pe("hr",{class:Go([{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},g.value,h.value,n.class]),style:kr([C.value,x.value,{"--v-border-opacity":n.opacity},n.style]),"aria-orientation":!c.role||c.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${c.role||"separator"}`},null);return f.default?Pe("div",{class:Go(["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}])},[O,Pe("div",{class:"v-divider__content"},[f.default()]),O]):O}),{}}}),ave=so({items:Array,returnObject:Boolean},"VListChildren"),YJ=dr()({name:"VListChildren",props:ave(),setup(n,s){let{slots:c}=s;return VJ(),()=>{var f,g;return((f=c.default)==null?void 0:f.call(c))??((g=n.items)==null?void 0:g.map(h=>{var H,V;let{children:x,props:C,type:O,raw:R}=h;if(O==="divider")return((H=c.divider)==null?void 0:H.call(c,{props:C}))??Ie(kV,C,null);if(O==="subheader")return((V=c.subheader)==null?void 0:V.call(c,{props:C}))??Ie(rve,C,null);const D={subtitle:c.subtitle?Z=>{var te;return(te=c.subtitle)==null?void 0:te.call(c,{...Z,item:R})}:void 0,prepend:c.prepend?Z=>{var te;return(te=c.prepend)==null?void 0:te.call(c,{...Z,item:R})}:void 0,append:c.append?Z=>{var te;return(te=c.append)==null?void 0:te.call(c,{...Z,item:R})}:void 0,title:c.title?Z=>{var te;return(te=c.title)==null?void 0:te.call(c,{...Z,item:R})}:void 0},N=Kq.filterProps(C);return x?Ie(Kq,Vs({value:C==null?void 0:C.value},N),{activator:Z=>{let{props:te}=Z;const ce={...C,...te,value:n.returnObject?R:C.value};return c.header?c.header({props:ce}):Ie(sb,ce,D)},default:()=>Ie(YJ,{items:x,returnObject:n.returnObject},c)}):c.item?c.item({props:C}):Ie(sb,Vs(C,{value:n.returnObject?R:C.value}),D)}))}}}),ive=so({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function lve(n,s){const c=mO(s,n.itemType,"item"),f=jue(s)?s:mO(s,n.itemTitle),g=mO(s,n.itemValue,void 0),h=mO(s,n.itemChildren),x=n.itemProps===!0?HY(s,["children"]):mO(s,n.itemProps),C={title:f,value:g,...x};return{type:c,title:C.title,value:C.value,props:C,children:c==="item"&&h?XJ(n,h):void 0,raw:s}}function XJ(n,s){const c=[];for(const f of s)c.push(lve(n,f));return c}function cve(n){return{items:Wt(()=>XJ(n,n.items))}}const uve=so({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Hi,collapseIcon:Hi,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Cg(),"onClick:select":Cg(),"onUpdate:opened":Cg(),...qbe({selectStrategy:"single-leaf",openStrategy:"list"}),...Wy(),...rs(),...pb(),...bb(),...jy(),itemType:{type:String,default:"type"},...ive(),...Sg(),...Ui(),...ql(),...aC({variant:"text"})},"VList"),JJ=dr()({name:"VList",props:uve(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,s){let{slots:c}=s;const{items:f}=cve(n),{themeClasses:g}=Wc(n),{backgroundColorClasses:h,backgroundColorStyles:x}=cb(()=>n.bgColor),{borderClasses:C}=Zy(n),{densityClasses:O}=O0(n),{dimensionStyles:R}=vb(n),{elevationClasses:D}=Ky(n),{roundedClasses:N}=kg(n),{children:H,open:V,parents:Z,select:te,getPath:ce}=Gbe(n),X=Zn(()=>n.lines?`v-list--${n.lines}-line`:void 0),Se=Zn(()=>n.activeColor),fe=Zn(()=>n.baseColor),j=Zn(()=>n.color);VJ(),Mk({VListGroup:{activeColor:Se,baseColor:fe,color:j,expandIcon:Zn(()=>n.expandIcon),collapseIcon:Zn(()=>n.collapseIcon)},VListItem:{activeClass:Zn(()=>n.activeClass),activeColor:Se,baseColor:fe,color:j,density:Zn(()=>n.density),disabled:Zn(()=>n.disabled),lines:Zn(()=>n.lines),nav:Zn(()=>n.nav),slim:Zn(()=>n.slim),variant:Zn(()=>n.variant)}});const de=xr(!1),oe=Io();function Ue(P){de.value=!0}function He(P){de.value=!1}function je(P){var St;!de.value&&!(P.relatedTarget&&((St=oe.value)!=null&&St.contains(P.relatedTarget)))&&Be()}function st(P){const St=P.target;if(!(!oe.value||["INPUT","TEXTAREA"].includes(St.tagName))){if(P.key==="ArrowDown")Be("next");else if(P.key==="ArrowUp")Be("prev");else if(P.key==="Home")Be("first");else if(P.key==="End")Be("last");else return;P.preventDefault()}}function Oe(P){de.value=!0}function Be(P){if(oe.value)return qY(oe.value,P)}return Yr(()=>Ie(n.tag,{ref:oe,class:Go(["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},g.value,h.value,C.value,O.value,D.value,X.value,N.value,n.class]),style:kr([x.value,R.value,n.style]),tabindex:n.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ue,onFocusout:He,onFocus:je,onKeydown:st,onMousedown:Oe},{default:()=>[Ie(YJ,{items:f.value,returnObject:n.returnObject},c)]})),{open:V,select:te,focus:Be,children:H,parents:Z,getPath:ce}}}),dve={__name:"Alerts",setup(n){const s=kk();return(c,f)=>(rr(),Rl(Os,null,[tr(Ie(Ir,{onClick:f[0]||(f[0]=g=>qe(s).showAlerts())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-bell-outline"}),zs(" "+Nt(c.$t("alertsMessage",qe(s).countAlerts)),1)]),_:1},512),[[Sr,qe(s).hasAlerts]]),Ie(x0,{persistent:"",modelValue:qe(s).hasActiveAlert,"onUpdate:modelValue":f[2]||(f[2]=g=>qe(s).hasActiveAlert=g),"max-width":"1000"},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(wV,null,{default:Gt(()=>[zs(Nt(c.$t("alertsSupervisionMessage",1)),1)]),_:1}),Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(qe(s).activeMessage),1)]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:f[1]||(f[1]=g=>qe(s).hideAlert())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-check"}),Pe("span",null,Nt(c.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ie(x0,{modelValue:qe(s).showAllAlerts,"onUpdate:modelValue":f[4]||(f[4]=g=>qe(s).showAllAlerts=g),"max-width":"1000"},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(wV,null,{default:Gt(()=>[zs(Nt(c.$t("alertsSupervisionMessage",qe(s).countAlerts)),1)]),_:1}),Ie(db,null,{default:Gt(()=>[(rr(!0),Rl(Os,null,Dk(qe(s).alerts,g=>(rr(),ra(sb,{key:g.key,title:qe(s).formatTimestamp(g.time),subtitle:g.message},null,8,["title","subtitle"]))),128))]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:f[3]||(f[3]=g=>qe(s).hideAlert())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-check"}),Pe("span",null,Nt(c.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Eg=(n,s)=>{const c=n.__vccOpts||n;for(const[f,g]of s)c[f]=g;return c},fve=so({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...rs(),...pb(),...Ui(),...ql()},"VTable"),Nz=dr()({name:"VTable",props:fve(),setup(n,s){let{slots:c,emit:f}=s;const{themeClasses:g}=Wc(n),{densityClasses:h}=O0(n);return Yr(()=>Ie(n.tag,{class:Go(["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!c.top,"v-table--has-bottom":!!c.bottom,"v-table--hover":n.hover},g.value,h.value,n.class]),style:kr(n.style)},{default:()=>{var x,C,O;return[(x=c.top)==null?void 0:x.call(c),c.default?Pe("div",{class:"v-table__wrapper",style:{height:vr(n.height)}},[Pe("table",null,[c.default()])]):(C=c.wrapper)==null?void 0:C.call(c),(O=c.bottom)==null?void 0:O.call(c)]}})),{}}}),mve={width:"50%"},gve={width:"50%"},hve={width:"50%"},pve={width:"50%"},bve={width:"50%"},vve={width:"50%"},yve={__name:"Help",setup(n){const s=jl();return(c,f)=>(rr(),Rl(Os,null,[Ie(Ir,{class:"app-header-item",onClick:f[0]||(f[0]=g=>qe(s).showHelp=!0)},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-help"}),f[3]||(f[3]=zs(" Hilfe "))]),_:1,__:[3]}),Ie(x0,{modelValue:qe(s).showHelp,"onUpdate:modelValue":f[2]||(f[2]=g=>qe(s).showHelp=g),"max-width":"1000"},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("h1",null,Nt(c.$t("helpGeneralNavigation")),1),Ie(Nz,null,{default:Gt(()=>[Pe("thead",null,[Pe("tr",null,[Pe("th",mve,Nt(c.$t("helpAction")),1),Pe("th",gve,Nt(c.$t("helpShortcut")),1)])]),Pe("tbody",null,[Pe("tr",null,[Pe("td",null,Nt(c.$t("helpNextElement")),1),Pe("td",null,Nt(c.$t("helpKeyTab")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpPreviousElement")),1),Pe("td",null,Nt(c.$t("helpKeyShiftTab")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpHeaderButtons")),1),Pe("td",null,Nt(c.$t("helpKeyAlt0")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpNavigationButtons")),1),Pe("td",null,Nt(c.$t("helpKeyAltNum")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpContentLeftColumn")),1),Pe("td",null,Nt(c.$t("helpKeyAlt1")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpContentRightColumn")),1),Pe("td",null,Nt(c.$t("helpKeyAlt2")),1)])])]),_:1}),Pe("h1",null,Nt(c.$t("helpEditorNavigation")),1),Ie(Nz,null,{default:Gt(()=>[Pe("thead",null,[Pe("tr",null,[Pe("th",hve,Nt(c.$t("helpAction")),1),Pe("th",pve,Nt(c.$t("helpShortcut")),1)])]),Pe("tbody",null,[Pe("tr",null,[Pe("td",null,Nt(c.$t("helpToolbarFocusIn")),1),Pe("td",null,Nt(c.$t("helpKeyAltF10")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpToolbarFocusOut")),1),Pe("td",null,Nt(c.$t("helpKeyEsc")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpToolbarNavigate")),1),Pe("td",null,Nt(c.$t("helpKeysLeftRight")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpPopupBlockFormatsShow")),1),Pe("td",null,Nt(c.$t("helpKeyReturn")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpPopupBlockFormatsNavigate")),1),Pe("td",null,Nt(c.$t("helpKeysUpDown")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpPopupBlockFormatsSelect")),1),Pe("td",null,Nt(c.$t("helpKeyReturn")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpPopupBlockFormatsClose")),1),Pe("td",null,Nt(c.$t("helpKeyEsc")),1)])])]),_:1}),Pe("h1",null,Nt(c.$t("helpEditorCommands")),1),Ie(Nz,null,{default:Gt(()=>[Pe("thead",null,[Pe("tr",null,[Pe("th",bve,Nt(c.$t("helpAction")),1),Pe("th",vve,Nt(c.$t("helpShortcut")),1)])]),Pe("tbody",null,[Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandBold")),1),Pe("td",null,Nt(c.$t("Ctrl + B")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandItalic")),1),Pe("td",null,Nt(c.$t("helpKeyCtrlI")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommundUnderline")),1),Pe("td",null,Nt(c.$t("Ctrl + U")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandSelectAll")),1),Pe("td",null,Nt(c.$t("Ctrl + A")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandRedo")),1),Pe("td",null,Nt(c.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("Rückgängig machen")),1),Pe("td",null,Nt(c.$t("Ctrl + Z")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH1")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt1")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH2")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt2")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH3")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt3")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH4")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt4")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH5")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt5")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandH6")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt6")),1)]),Pe("tr",null,[Pe("td",null,Nt(c.$t("helpCommandParagraph")),1),Pe("td",null,Nt(c.$t("helpKeyShiftAlt7")),1)])])]),_:1})]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:f[1]||(f[1]=g=>qe(s).showHelp=!1)},{default:Gt(()=>[Pe("span",null,Nt(c.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},xve=Eg(yve,[["__scopeId","data-v-35f16370"]]),QJ=so({text:String,...rs(),...Ui()},"VToolbarTitle"),eQ=dr()({name:"VToolbarTitle",props:QJ(),setup(n,s){let{slots:c}=s;return Yr(()=>{const f=!!(c.default||c.text||n.text);return Ie(n.tag,{class:Go(["v-toolbar-title",n.class]),style:kr(n.style)},{default:()=>{var g;return[f&&Pe("div",{class:"v-toolbar-title__placeholder"},[c.text?c.text():n.text,(g=c.default)==null?void 0:g.call(c)])]}})}),{}}}),wve=[null,"prominent","default","comfortable","compact"],tQ=so({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>wve.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Wy(),...rs(),...jy(),...Sg(),...Ui({tag:"header"}),...ql()},"VToolbar"),qq=dr()({name:"VToolbar",props:tQ(),setup(n,s){var V;let{slots:c}=s;const{backgroundColorClasses:f,backgroundColorStyles:g}=cb(()=>n.color),{borderClasses:h}=Zy(n),{elevationClasses:x}=Ky(n),{roundedClasses:C}=kg(n),{themeClasses:O}=Wc(n),{rtlClasses:R}=T0(),D=xr(!!(n.extended||(V=c.extension)!=null&&V.call(c))),N=Wt(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),H=Wt(()=>D.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return Mk({VBtn:{variant:"text"}}),Yr(()=>{var X;const Z=!!(n.title||c.title),te=!!(c.image||n.image),ce=(X=c.extension)==null?void 0:X.call(c);return D.value=!!(n.extended||ce),Ie(n.tag,{class:Go(["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},f.value,h.value,x.value,C.value,O.value,R.value,n.class]),style:kr([g.value,n.style])},{default:()=>[te&&Pe("div",{key:"image",class:"v-toolbar__image"},[c.image?Ie(gc,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},c.image):Ie(OM,{key:"image-img",cover:!0,src:n.image},null)]),Ie(gc,{defaults:{VTabs:{height:vr(N.value)}}},{default:()=>{var Se,fe,j;return[Pe("div",{class:"v-toolbar__content",style:{height:vr(N.value)}},[c.prepend&&Pe("div",{class:"v-toolbar__prepend"},[(Se=c.prepend)==null?void 0:Se.call(c)]),Z&&Ie(eQ,{key:"title",text:n.title},{text:c.title}),(fe=c.default)==null?void 0:fe.call(c),c.append&&Pe("div",{class:"v-toolbar__append"},[(j=c.append)==null?void 0:j.call(c)])])]}}),Ie(gc,{defaults:{VTabs:{height:vr(H.value)}}},{default:()=>[Ie(NJ,null,{default:()=>[D.value&&Pe("div",{class:"v-toolbar__extension",style:{height:vr(H.value)}},[ce])]})]})]})}),{contentHeight:N,extensionHeight:H}}}),Cve=so({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function _ve(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:c}=s;let f=0,g=0;const h=Io(null),x=xr(0),C=xr(0),O=xr(0),R=xr(!1),D=xr(!1),N=Wt(()=>Number(n.scrollThreshold)),H=Wt(()=>S0((N.value-x.value)/N.value||0)),V=()=>{const Z=h.value;if(!Z||c&&!c.value)return;f=x.value,x.value="window"in Z?Z.pageYOffset:Z.scrollTop;const te=Z instanceof Window?document.documentElement.scrollHeight:Z.scrollHeight;if(g!==te){g=te;return}D.value=x.value<f,O.value=Math.abs(x.value-N.value)};return qn(D,()=>{C.value=C.value||x.value}),qn(R,()=>{C.value=0}),Uc(()=>{qn(()=>n.scrollTarget,Z=>{var ce;const te=Z?document.querySelector(Z):window;te&&te!==h.value&&((ce=h.value)==null||ce.removeEventListener("scroll",V),h.value=te,h.value.addEventListener("scroll",V,{passive:!0}))},{immediate:!0})}),hc(()=>{var Z;(Z=h.value)==null||Z.removeEventListener("scroll",V)}),c&&qn(c,V,{immediate:!0}),{scrollThreshold:N,currentScroll:x,currentThreshold:O,isScrollActive:R,scrollRatio:H,isScrollingUp:D,savedScroll:C}}const Sve=so({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...tQ(),...hX(),...Cve(),height:{type:[Number,String],default:64}},"VAppBar"),nQ=dr()({name:"VAppBar",props:Sve(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:c}=s;const f=Io(),g=nf(n,"modelValue"),h=Wt(()=>{var fe;const Se=new Set(((fe=n.scrollBehavior)==null?void 0:fe.split(" "))??[]);return{hide:Se.has("hide"),fullyHide:Se.has("fully-hide"),inverted:Se.has("inverted"),collapse:Se.has("collapse"),elevate:Se.has("elevate"),fadeImage:Se.has("fade-image")}}),x=Wt(()=>{const Se=h.value;return Se.hide||Se.fullyHide||Se.inverted||Se.collapse||Se.elevate||Se.fadeImage||!g.value}),{currentScroll:C,scrollThreshold:O,isScrollingUp:R,scrollRatio:D}=_ve(n,{canScroll:x}),N=Zn(()=>h.value.hide||h.value.fullyHide),H=Wt(()=>n.collapse||h.value.collapse&&(h.value.inverted?D.value>0:D.value===0)),V=Wt(()=>n.flat||h.value.fullyHide&&!g.value||h.value.elevate&&(h.value.inverted?C.value>0:C.value===0)),Z=Wt(()=>h.value.fadeImage?h.value.inverted?1-D.value:D.value:void 0),te=Wt(()=>{var j,de;if(h.value.hide&&h.value.inverted)return 0;const Se=((j=f.value)==null?void 0:j.contentHeight)??0,fe=((de=f.value)==null?void 0:de.extensionHeight)??0;return N.value?C.value<O.value||h.value.fullyHide?Se+fe:Se:Se+fe});Lh(()=>!!n.scrollBehavior,()=>{Mh(()=>{N.value?h.value.inverted?g.value=C.value>O.value:g.value=R.value||C.value<O.value:g.value=!0})});const{ssrBootStyles:ce}=DM(),{layoutItemStyles:X}=pX({id:n.name,order:Wt(()=>parseInt(n.order,10)),position:Zn(()=>n.location),layoutSize:te,elementSize:xr(void 0),active:g,absolute:Zn(()=>n.absolute)});return Yr(()=>{const Se=qq.filterProps(n);return Ie(qq,Vs({ref:f,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...X.value,"--v-toolbar-image-opacity":Z.value,height:void 0,...ce.value},n.style]},Se,{collapse:H.value,flat:V.value}),c)}),{}}}),kve=dr()({name:"VAppBarTitle",props:QJ(),setup(n,s){let{slots:c}=s;return Yr(()=>Ie(eQ,Vs(n,{class:"v-app-bar-title"}),c)),{}}}),Eve=so({fluid:{type:Boolean,default:!1},...rs(),...bb(),...Ui()},"VContainer"),EV=dr()({name:"VContainer",props:Eve(),setup(n,s){let{slots:c}=s;const{rtlClasses:f}=T0(),{dimensionStyles:g}=vb(n);return Yr(()=>Ie(n.tag,{class:Go(["v-container",{"v-container--fluid":n.fluid},f.value,n.class]),style:kr([g.value,n.style])},c)),{}}}),oQ=fM.reduce((n,s)=>(n[s]={type:[Boolean,String,Number],default:!1},n),{}),rQ=fM.reduce((n,s)=>{const c="offset"+E0(s);return n[c]={type:[String,Number],default:null},n},{}),sQ=fM.reduce((n,s)=>{const c="order"+E0(s);return n[c]={type:[String,Number],default:null},n},{}),Gq={col:Object.keys(oQ),offset:Object.keys(rQ),order:Object.keys(sQ)};function Ave(n,s,c){let f=n;if(!(c==null||c===!1)){if(s){const g=s.replace(n,"");f+=`-${g}`}return n==="col"&&(f="v-"+f),n==="col"&&(c===""||c===!0)||(f+=`-${c}`),f.toLowerCase()}}const Tve=["auto","start","end","center","baseline","stretch"],Ove=so({cols:{type:[Boolean,String,Number],default:!1},...oQ,offset:{type:[String,Number],default:null},...rQ,order:{type:[String,Number],default:null},...sQ,alignSelf:{type:String,default:null,validator:n=>Tve.includes(n)},...rs(),...Ui()},"VCol"),Cu=dr()({name:"VCol",props:Ove(),setup(n,s){let{slots:c}=s;const f=Wt(()=>{const g=[];let h;for(h in Gq)Gq[h].forEach(C=>{const O=n[C],R=Ave(h,C,O);R&&g.push(R)});const x=g.some(C=>C.startsWith("v-col-"));return g.push({"v-col":!x||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),g});return()=>{var g;return fb(n.tag,{class:[f.value,n.class],style:n.style},(g=c.default)==null?void 0:g.call(c))}}}),wU=["start","end","center"],aQ=["space-between","space-around","space-evenly"];function CU(n,s){return fM.reduce((c,f)=>{const g=n+E0(f);return c[g]=s(),c},{})}const Dve=[...wU,"baseline","stretch"],iQ=n=>Dve.includes(n),lQ=CU("align",()=>({type:String,default:null,validator:iQ})),Rve=[...wU,...aQ],cQ=n=>Rve.includes(n),uQ=CU("justify",()=>({type:String,default:null,validator:cQ})),Nve=[...wU,...aQ,"stretch"],dQ=n=>Nve.includes(n),fQ=CU("alignContent",()=>({type:String,default:null,validator:dQ})),Yq={align:Object.keys(lQ),justify:Object.keys(uQ),alignContent:Object.keys(fQ)},Ive={align:"align",justify:"justify",alignContent:"align-content"};function Pve(n,s,c){let f=Ive[n];if(c!=null){if(s){const g=s.replace(n,"");f+=`-${g}`}return f+=`-${c}`,f.toLowerCase()}}const Lve=so({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:iQ},...lQ,justify:{type:String,default:null,validator:cQ},...uQ,alignContent:{type:String,default:null,validator:dQ},...fQ,...rs(),...Ui()},"VRow"),qw=dr()({name:"VRow",props:Lve(),setup(n,s){let{slots:c}=s;const f=Wt(()=>{const g=[];let h;for(h in Yq)Yq[h].forEach(x=>{const C=n[x],O=Pve(h,x,C);O&&g.push(O)});return g.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),g});return()=>{var g;return fb(n.tag,{class:["v-row",f.value,n.class],style:n.style},(g=c.default)==null?void 0:g.call(c))}}}),_U=dM("v-spacer","div","VSpacer"),Bve={__name:"AppBar",setup(n){const s=_i(),c=tf(),f=kk(),g=rb(),h=jl();async function x(){if(h.focusTarget=="header"){await ya();for(const N of document.getElementsByClassName("app-header-item")){N.focus();break}}}qn(()=>h.focusChange,x);function C(){return(c.writer_name==null?"":c.writer_name+", ")+(c.title??"")}function O(N){return new Promise(H=>setTimeout(H,N))}async function R(){await g.updateContent(!1,!0),await O(500),g.openSendings>0?s.review=!0:window.location=s.returnUrl}async function D(){await g.updateContent(!1,!0),await O(500),s.review=!0}return(N,H)=>(rr(),ra(nQ,{elevation:"1",color:"white",density:"compact"},{default:Gt(()=>[Ie(kve,null,{default:Gt(()=>[zs(Nt(C()),1)]),_:1}),Ie(_U),Ie(xve),qe(f).hasAlerts?(rr(),ra(dve,{key:0})):Zl("",!0),qe(c).hasWritingEnd?(rr(),ra(tbe,{key:1})):Zl("",!0),tr(Ie(Ir,{class:"app-header-item",onClick:H[0]||(H[0]=V=>R())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-pause"}),Pe("span",null,Nt(N.$t("appBarInterrupt")),1)]),_:1},512),[[Sr,!qe(s).review]]),tr(Ie(Ir,{class:"app-header-item",onClick:D},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-eye"}),Pe("span",null,Nt(N.$t("appBarReview")),1)]),_:1},512),[[Sr,!qe(s).review]])]),_:1}))}};class Mve{async saveFile(s,c){if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const C=await(await showSaveFilePicker({suggestedName:c})).createWritable();await C.write(s),await C.close();return}catch(x){if(x.name!=="AbortError"){console.error(x.name,x.message);return}}const g=URL.createObjectURL(s),h=document.createElement("a");h.href=g,h.download=c,h.style.display="none",document.body.append(h),h.click(),setTimeout(()=>{URL.revokeObjectURL(g),h.remove()},1e3)}}const Fve=dM("v-alert-title"),$ve=["success","info","warning","error"],Hve=so({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:Hi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>$ve.includes(n)},...rs(),...pb(),...bb(),...jy(),...EM(),...gU(),...Sg(),...Ui(),...ql(),...aC({variant:"flat"})},"VAlert"),AV=dr()({name:"VAlert",props:Hve(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{emit:c,slots:f}=s;const g=nf(n,"modelValue"),h=Zn(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),{themeClasses:x}=Wc(n),{colorClasses:C,colorStyles:O,variantClasses:R}=XO(()=>({color:n.color??n.type,variant:n.variant})),{densityClasses:D}=O0(n),{dimensionStyles:N}=vb(n),{elevationClasses:H}=Ky(n),{locationStyles:V}=AM(n),{positionClasses:Z}=hU(n),{roundedClasses:te}=kg(n),{textColorClasses:ce,textColorStyles:X}=k0(()=>n.borderColor),{t:Se}=aX(),fe=Zn(()=>({"aria-label":Se(n.closeLabel),onClick(j){g.value=!1,c("click:close",j)}}));return()=>{const j=!!(f.prepend||h.value),de=!!(f.title||n.title),oe=!!(f.close||n.closable);return g.value&&Ie(n.tag,{class:Go(["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},x.value,C.value,D.value,H.value,Z.value,te.value,R.value,n.class]),style:kr([O.value,N.value,V.value,n.style]),role:"alert"},{default:()=>{var Ue,He;return[YO(!1,"v-alert"),n.border&&Pe("div",{key:"border",class:Go(["v-alert__border",ce.value]),style:kr(X.value)},null),j&&Pe("div",{key:"prepend",class:"v-alert__prepend"},[f.prepend?Ie(gc,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{density:n.density,icon:h.value,size:n.prominent?44:28}}},f.prepend):Ie(cr,{key:"prepend-icon",density:n.density,icon:h.value,size:n.prominent?44:28},null)]),Pe("div",{class:"v-alert__content"},[de&&Ie(Fve,{key:"title"},{default:()=>{var je;return[((je=f.title)==null?void 0:je.call(f))??n.title]}}),((Ue=f.text)==null?void 0:Ue.call(f))??n.text,(He=f.default)==null?void 0:He.call(f)]),f.append&&Pe("div",{key:"append",class:"v-alert__append"},[f.append()]),oe&&Pe("div",{key:"close",class:"v-alert__close"},[f.close?Ie(gc,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var je;return[(je=f.close)==null?void 0:je.call(f,{props:fe.value})]}}):Ie(Ir,Vs({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},fe.value),null)])]}})}}}),zve={__name:"SendingStatus",setup(n){const s=_i(),c=jl(),f=rb(),g=tf(),h=hd(),x=new Mve,C=Io(!1),O=Io(!1),R=Io(new nC);function D(te){return new Date(te).toLocaleString()}function N(){C.value=!1,O.value=!1,R.value=new nC,c.showSendingStatus=!0}function H(){c.showSendingStatus=!1}async function V(){O.value=!1,C.value=!0;const te=await f.sendUpdate(!0);if(te&&!te.success){R.value=te,C.value=!1,O.value=!0;return}const ce=await s.saveChangesToBackend(!0);if(ce&&!ce.success){R.value=ce,C.value=!1,O.value=!0;return}C.value=!1}async function Z(){const te=new Blob([f.currentContent],{type:"text/html"});await x.saveFile(te,g.writer_name+".html")}return(te,ce)=>(rr(),ra(JJ,{tabindex:"-1"},{default:Gt(()=>[Ie(sb,{tabindex:"-1",onClick:ce[0]||(ce[0]=X=>N()),"aria-label":qe(s).isSending?te.$t("sendingStatusSending"):qe(s).isAllSent?te.$t("sendingStatusAllSent"):te.$t("sendingStatusOpenSendings"),title:qe(s).isSending?te.$t("sendingStatusSending"):qe(s).isAllSent?te.$t("sendingStatusAllSent"):te.$t("sendingStatusOpenSendings")},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isSending?"mdi-cloud-upload":qe(s).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),Ie(x0,{modelValue:qe(c).showSendingStatus,"onUpdate:modelValue":ce[4]||(ce[4]=X=>qe(c).showSendingStatus=X),"max-width":"1000"},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[tr(Ie(AV,null,{default:Gt(()=>[zs(Nt(te.$t("sendingStatusSending")),1)]),_:1},512),[[Sr,C.value]]),tr(Ie(AV,null,{default:Gt(()=>[zs(Nt(te.$t("sendingStatusError"))+" ",1),ce[5]||(ce[5]=Pe("br",null,null,-1)),zs(Nt(R.value.message)+" ",1),ce[6]||(ce[6]=Pe("br",null,null,-1)),zs(Nt(R.value.details),1)]),_:1,__:[5,6]},512),[[Sr,O.value]]),Pe("h3",null,Nt(te.$t("sendingStatusWritingSteps")),1),Ie(EV,null,{default:Gt(()=>[Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusLastBrowserSave")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(f).lastSave>0?D(qe(f).lastSave):"keine"),1)]),_:1})]),_:1}),Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusLastSending")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(f).lastSendingSuccess>0?D(qe(f).lastSendingSuccess):"keine"),1)]),_:1})]),_:1}),Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusStatus")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(f).openSendings>0?qe(f).openSendings+" noch nicht übertragen":"alle sind übertragen"),1)]),_:1})]),_:1})]),_:1}),Pe("h3",null,Nt(te.$t("sendingStatusOtherChanges")),1),Ie(EV,null,{default:Gt(()=>[Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusLastBrowserSave")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(h).lastSave>0?D(qe(h).lastSave):te.$t("sendingStatusNone")),1)]),_:1})]),_:1}),Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusLastSending")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(h).lastSendingSuccess>0?D(qe(h).lastSendingSuccess):te.$t("sendingStatusNone")),1)]),_:1})]),_:1}),Ie(qw,null,{default:Gt(()=>[Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(te.$t("sendingStatusStatus")),1)]),_:1}),Ie(Cu,{cols:"6"},{default:Gt(()=>[zs(Nt(qe(h).countChanges>0?te.$t("sendingStatusNumNotSent",qe(h).countChanges):"alle sind übertragen"),1)]),_:1})]),_:1})]),_:1})]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:ce[1]||(ce[1]=X=>V())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-file-send-outline"}),Pe("span",null,Nt(te.$t("sendingStatusSend")),1)]),_:1}),Ie(Ir,{onClick:ce[2]||(ce[2]=X=>Z())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-file-download-outline"}),Pe("span",null,Nt(te.$t("sendingStatusExport")),1)]),_:1}),Ie(Ir,{onClick:ce[3]||(ce[3]=X=>H())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-close"}),Pe("span",null,Nt(te.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};function Vve(n){let{rootEl:s,isSticky:c,layoutItemStyles:f}=n;const g=xr(!1),h=xr(0),x=Wt(()=>{const R=typeof g.value=="boolean"?"top":g.value;return[c.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[R]:vr(h.value)}:{top:f.value.top}]});Uc(()=>{qn(c,R=>{R?window.addEventListener("scroll",O,{passive:!0}):window.removeEventListener("scroll",O)},{immediate:!0})}),hc(()=>{window.removeEventListener("scroll",O)});let C=0;function O(){const R=C>window.scrollY?"up":"down",D=s.value.getBoundingClientRect(),N=parseFloat(f.value.top??0),H=window.scrollY-Math.max(0,h.value-N),V=D.height+Math.max(h.value,N)-window.scrollY-window.innerHeight,Z=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;D.height<window.innerHeight-N?(g.value="top",h.value=N):R==="up"&&g.value==="bottom"||R==="down"&&g.value==="top"?(h.value=window.scrollY+D.top-Z,g.value=!0):R==="down"&&V<=0?(h.value=0,g.value="bottom"):R==="up"&&H<=0&&(Z?g.value!=="top"&&(h.value=-H+Z+N,g.value="top"):(h.value=D.top+H,g.value="top")),C=window.scrollY}return{isStuck:g,stickyStyles:x}}const Uve=100,Wve=20;function Xq(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function Jq(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let s=0;for(let c=n.length-1;c>0;c--){if(n[c].t===n[c-1].t)continue;const f=Xq(s),g=(n[c].d-n[c-1].d)/(n[c].t-n[c-1].t);s+=(g-f)*Math.abs(g),c===n.length-1&&(s*=.5)}return Xq(s)*1e3}function Zve(){const n={};function s(g){Array.from(g.changedTouches).forEach(h=>{(n[h.identifier]??(n[h.identifier]=new WY(Wve))).push([g.timeStamp,h])})}function c(g){Array.from(g.changedTouches).forEach(h=>{delete n[h.identifier]})}function f(g){var R;const h=(R=n[g])==null?void 0:R.values().reverse();if(!h)throw new Error(`No samples for touch id ${g}`);const x=h[0],C=[],O=[];for(const D of h){if(x[0]-D[0]>Uve)break;C.push({t:D[0],d:D[1].clientX}),O.push({t:D[0],d:D[1].clientY})}return{x:Jq(C),y:Jq(O),get direction(){const{x:D,y:N}=this,[H,V]=[Math.abs(D),Math.abs(N)];return H>V&&D>=0?"right":H>V&&D<=0?"left":V>H&&N>=0?"down":V>H&&N<=0?"up":jve()}}}return{addMovement:s,endTouch:c,getVelocity:f}}function jve(){throw new Error}function Kve(n){let{el:s,isActive:c,isTemporary:f,width:g,touchless:h,position:x}=n;Uc(()=>{window.addEventListener("touchstart",Se,{passive:!0}),window.addEventListener("touchmove",fe,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),hc(()=>{window.removeEventListener("touchstart",Se),window.removeEventListener("touchmove",fe),window.removeEventListener("touchend",j)});const C=Wt(()=>["left","right"].includes(x.value)),{addMovement:O,endTouch:R,getVelocity:D}=Zve();let N=!1;const H=xr(!1),V=xr(0),Z=xr(0);let te;function ce(oe,Ue){return(x.value==="left"?oe:x.value==="right"?document.documentElement.clientWidth-oe:x.value==="top"?oe:x.value==="bottom"?document.documentElement.clientHeight-oe:yk())-(Ue?g.value:0)}function X(oe){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const He=x.value==="left"?(oe-Z.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-oe-Z.value)/g.value:x.value==="top"?(oe-Z.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-oe-Z.value)/g.value:yk();return Ue?S0(He):He}function Se(oe){if(h.value)return;const Ue=oe.changedTouches[0].clientX,He=oe.changedTouches[0].clientY,je=25,st=x.value==="left"?Ue<je:x.value==="right"?Ue>document.documentElement.clientWidth-je:x.value==="top"?He<je:x.value==="bottom"?He>document.documentElement.clientHeight-je:yk(),Oe=c.value&&(x.value==="left"?Ue<g.value:x.value==="right"?Ue>document.documentElement.clientWidth-g.value:x.value==="top"?He<g.value:x.value==="bottom"?He>document.documentElement.clientHeight-g.value:yk());(st||Oe||c.value&&f.value)&&(te=[Ue,He],Z.value=ce(C.value?Ue:He,c.value),V.value=X(C.value?Ue:He),N=Z.value>-20&&Z.value<80,R(oe),O(oe))}function fe(oe){const Ue=oe.changedTouches[0].clientX,He=oe.changedTouches[0].clientY;if(N){if(!oe.cancelable){N=!1;return}const st=Math.abs(Ue-te[0]),Oe=Math.abs(He-te[1]);(C.value?st>Oe&&st>3:Oe>st&&Oe>3)?(H.value=!0,N=!1):(C.value?Oe:st)>3&&(N=!1)}if(!H.value)return;oe.preventDefault(),O(oe);const je=X(C.value?Ue:He,!1);V.value=Math.max(0,Math.min(1,je)),je>1?Z.value=ce(C.value?Ue:He,!0):je<0&&(Z.value=ce(C.value?Ue:He,!1))}function j(oe){if(N=!1,!H.value)return;O(oe),H.value=!1;const Ue=D(oe.changedTouches[0].identifier),He=Math.abs(Ue.x),je=Math.abs(Ue.y);(C.value?He>je&&He>400:je>He&&je>3)?c.value=Ue.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||yk()):c.value=V.value>.5}const de=Wt(()=>H.value?{transform:x.value==="left"?`translateX(calc(-100% + ${V.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${V.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${V.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${V.value*g.value}px))`:yk(),transition:"none"}:void 0);return Lh(H,()=>{var He,je;const oe=((He=s.value)==null?void 0:He.style.transform)??null,Ue=((je=s.value)==null?void 0:je.style.transition)??null;Mh(()=>{var st,Oe,Be,P;(Oe=s.value)==null||Oe.style.setProperty("transform",((st=de.value)==null?void 0:st.transform)||"none"),(P=s.value)==null||P.style.setProperty("transition",((Be=de.value)==null?void 0:Be.transition)||null)}),af(()=>{var st,Oe;(st=s.value)==null||st.style.setProperty("transform",oe),(Oe=s.value)==null||Oe.style.setProperty("transition",Ue)})}),{isDragging:H,dragProgress:V,dragStyles:de}}function yk(){throw new Error}const qve=["start","end","left","right","top","bottom"],Gve=so({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>qve.includes(n)},sticky:Boolean,...Wy(),...rs(),...LJ(),...xfe({mobile:null}),...jy(),...hX(),...Sg(),...Ui({tag:"nav"}),...ql()},"VNavigationDrawer"),Yve=dr()({name:"VNavigationDrawer",props:Gve(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,s){let{attrs:c,emit:f,slots:g}=s;const{isRtl:h}=T0(),{themeClasses:x}=Wc(n),{borderClasses:C}=Zy(n),{backgroundColorClasses:O,backgroundColorStyles:R}=cb(()=>n.color),{elevationClasses:D}=Ky(n),{displayClasses:N,mobile:H}=uX(n),{roundedClasses:V}=kg(n),Z=vJ(),te=nf(n,"modelValue",null,Vn=>!!Vn),{ssrBootStyles:ce}=DM(),{scopeId:X}=vU(),Se=Io(),fe=xr(!1),{runOpenDelay:j,runCloseDelay:de}=BJ(n,Vn=>{fe.value=Vn}),oe=Wt(()=>n.rail&&n.expandOnHover&&fe.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),Ue=Wt(()=>Jz(n.location,h.value)),He=Zn(()=>n.persistent),je=Wt(()=>!n.permanent&&(H.value||n.temporary)),st=Wt(()=>n.sticky&&!je.value&&Ue.value!=="bottom");Lh(()=>n.expandOnHover&&n.rail!=null,()=>{qn(fe,Vn=>f("update:rail",!Vn))}),Lh(()=>!n.disableResizeWatcher,()=>{qn(je,Vn=>!n.permanent&&ya(()=>te.value=!Vn))}),Lh(()=>!n.disableRouteWatcher&&!!Z,()=>{qn(Z.currentRoute,()=>je.value&&(te.value=!1))}),qn(()=>n.permanent,Vn=>{Vn&&(te.value=!0)}),n.modelValue==null&&!je.value&&(te.value=n.permanent||!H.value);const{isDragging:Oe,dragProgress:Be}=Kve({el:Se,isActive:te,isTemporary:je,width:oe,touchless:Zn(()=>n.touchless),position:Ue}),P=Wt(()=>{const Vn=je.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):oe.value;return Oe.value?Vn*Be.value:Vn}),{layoutItemStyles:St,layoutItemScrimStyles:Mt}=pX({id:n.name,order:Wt(()=>parseInt(n.order,10)),position:Ue,layoutSize:P,elementSize:oe,active:Lk(te),disableTransitions:Zn(()=>Oe.value),absolute:Wt(()=>n.absolute||st.value&&typeof tn.value!="string")}),{isStuck:tn,stickyStyles:un}=Vve({rootEl:Se,isSticky:st,layoutItemStyles:St}),ct=cb(()=>typeof n.scrim=="string"?n.scrim:null),_n=Wt(()=>({...Oe.value?{opacity:Be.value*.2,transition:"none"}:void 0,...Mt.value}));return Mk({VList:{bgColor:"transparent"}}),Yr(()=>{const Vn=g.image||n.image;return Pe(Os,null,[Ie(n.tag,Vs({ref:Se,onMouseenter:j,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${Ue.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":fe.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":je.value,"v-navigation-drawer--persistent":He.value,"v-navigation-drawer--active":te.value,"v-navigation-drawer--sticky":st.value},x.value,O.value,C.value,N.value,D.value,V.value,n.class],style:[R.value,St.value,ce.value,un.value,n.style]},X,c),{default:()=>{var Lt,Je,Tt;return[Vn&&Pe("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?Ie(gc,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},g.image):Ie(OM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),g.prepend&&Pe("div",{class:"v-navigation-drawer__prepend"},[(Lt=g.prepend)==null?void 0:Lt.call(g)]),Pe("div",{class:"v-navigation-drawer__content"},[(Je=g.default)==null?void 0:Je.call(g)]),g.append&&Pe("div",{class:"v-navigation-drawer__append"},[(Tt=g.append)==null?void 0:Tt.call(g)])]}}),Ie(zy,{name:"fade-transition"},{default:()=>[je.value&&(Oe.value||te.value)&&!!n.scrim&&Pe("div",Vs({class:["v-navigation-drawer__scrim",ct.backgroundColorClasses.value],style:[_n.value,ct.backgroundColorStyles.value],onClick:()=>{He.value||(te.value=!1)}},X),null)]})])}),{isStuck:tn}}}),Xve={__name:"NavBar",setup(n){const s=jl(),c=ef(),f=tf(),g=Ih();_i();async function h(){if(s.focusTarget=="navigation"){await ya();for(const N of document.getElementsByClassName("app-navigation-item")){N.focus();break}}}qn(()=>s.focusChange,h);function x(N){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function C(N){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function O(N){N.type==_u.TYPE_URL&&!N.embedded?window.open(N.source,"long-essay-writer-resource-"+N.key):(c.selectResource(N),s.showResources())}function R(N){N.keyCode==27?C():s.handleKeyDown(N)}function D(N){return N.isExternalUrl()?"mdi-link":N.isEmbeddedUrl()?c.isActive(N)&&s.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":c.isActive(N)&&s.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(N,H)=>(rr(),ra(Yve,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:C,onKeydown:R},{append:Gt(()=>[Ie(zve)]),default:Gt(()=>[Ie(JJ,{tabindex:"-1"},{default:Gt(()=>[qe(f).hasInstructions?(rr(),ra(sb,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:H[0]||(H[0]=V=>{qe(s).showInstructions()}),"aria-label":N.$t("allInstructions")+(qe(s).isInstructionsVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allInstructions")+(qe(s).isInstructionsVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Zl("",!0),qe(c).hasInstruction?(rr(),ra(sb,{key:1,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:H[1]||(H[1]=V=>{qe(s).showInstructionsPdf()}),"aria-label":N.$t("allInstructionsPdf")+(qe(s).isInstructionsPdfVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allInstructionsPdf")+(qe(s).isInstructionsPdfVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isInstructionsPdfVisible?"mdi-file-document":"mdi-file-document-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Zl("",!0),(rr(!0),Rl(Os,null,Dk(qe(c).getFileOrUrlResources,V=>(rr(),ra(sb,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Z=>{O(V)},"aria-label":V.title+(qe(c).isActive(V)&&qe(s).isResourcesVisible?N.$t("navBarSelectedAria"):""),title:V.title+(qe(c).isActive(V)&&qe(s).isResourcesVisible?N.$t("navBarSelected"):""),key:V.key,ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:D(V)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),tr(Ie(kV,{class:"border-opacity-75"},null,512),[[Sr,qe(f).hasInstructions||qe(c).hasResources]]),qe(f).hasInstructions||qe(c).hasAnnotatableResource?(rr(),ra(sb,{key:2,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:H[2]||(H[2]=V=>{qe(s).showAnnotations()}),"aria-label":N.$t("allAnnotations")+(qe(s).isAnnotationsVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allAnnotations")+(qe(s).isAnnotationsVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isAnnotationsVisible?"mdi-pencil-box":"mdi-pencil-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Zl("",!0),Ie(sb,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:H[3]||(H[3]=V=>{qe(s).showEssay()}),"aria-label":N.$t("allEssay")+(qe(s).isEssayVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allEssay")+(qe(s).isEssayVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),qe(g).hasNotes?(rr(),ra(sb,{key:3,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:H[4]||(H[4]=V=>{qe(s).showNotes()}),"aria-label":N.$t("allNotesWillPurged")+(qe(s).isNotesVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allNotesWillPurged")+(qe(s).isNotesVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:Gt(()=>[Ie(cr,{"aria-role":"hidden",icon:qe(s).isNotesVisible?"mdi-clipboard":"mdi-clipboard-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Zl("",!0),Ie(kV,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Jve=Eg(Xve,[["__scopeId","data-v-94d6160e"]]);function uB(n){const s=document.createElement("div");return s.innerHTML=n,(s.innerText||s.textContent).replace(/[\s\n\r]+/g,"")}const SU=_g("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:n=>function(c){return!!(Ih().copy_allowed||(console.log("content:",c),console.log("normalized content:",uB(c)),console.log("state.content:",n.content),console.log("normalized state.content:",uB(n.content)),uB(c)==uB(n.content)))}},actions:{setContent(n){this.content=n},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}});class Qve{constructor(s,c,f){Fo(this,"observer",null);Fo(this,"marks",[]);if(!s)throw new Error("Missing anchor element");this.el=s,c instanceof Function&&(this.onSelection=c,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),f instanceof Function&&(this.onIntersection=f,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(s){}onIntersection(s){}keydownHandler(s){switch(s.key){case"Enter":s.preventDefault(),this.selectionHandler(s);break;case"Escape":s.preventDefault(),this.removeSelection();break}}selectionHandler(s){let c=this.getSelectionData();c.mouseX=s.clientX,c.mouseY=s.clientY,c.firstWord>0&&c.lastWord>0&&this.onSelection(c)}intersectionHandler(s){let c=0;this.marks.forEach(f=>{(c==0||f.firstWord<c)&&this.isMarkVisible(f.firstWord,f.lastWord)&&(c=f.firstWord)}),this.onIntersection(c)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const s=window.getSelection(),c=s.getRangeAt(0);if(!s||!c)return{};let f=c.commonAncestorContainer;f.nodeType==3&&(f=f.parentNode.parentNode);let g=0,h=0,x=0;return f.querySelectorAll("w-p").forEach(C=>{if(s.containsNode(C,!0)){let O=parseInt(C.getAttribute("w")),R=parseInt(C.getAttribute("p"));(g==0||O<g)&&(g=O,x=R),O>h&&(h=O)}}),{firstWord:g,lastWord:h,parentNumber:x,isCollapsed:s.isCollapsed}}addLabel(s,c,f){let g=this.el.querySelector('w-p[w="'+f+'"]');g&&(g.setAttribute("label",c),g.classList.add(s))}showMark(s,c,f){this.marks.push({cssClass:s,firstWord:c,lastWord:f}),this.el.querySelectorAll("w-p").forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=c&&h<=f&&g.classList.add(s),this.observer&&(h==c||h==f)&&this.observer.observe(g)})}hideMark(s,c,f){this.marks=this.marks.filter(g=>g.cssClass!=s||g.firstWord!=c||g.lastWord!=f),this.el.querySelectorAll("w-p."+s).forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=c&&h<=f&&g.classList.remove(s),this.observer&&(h==c||h==f)&&this.observer.unobserve(g)})}hideAllMarksOfClass(s){this.marks=this.marks.filter(c=>c.cssClass!=s),this.el.querySelectorAll("w-p."+s).forEach(c=>{c.classList.remove(s)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(s=>{s.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(s,c){if(!this.isMarkVisible(s,c,!0)){const f=this.el.querySelector('w-p[w="'+s+'"]');f&&f.scrollIntoView()}}setCaretToMark(s){const c=this.el.querySelector('w-p[w="'+s+'"]').childNodes[0];if(c){let f=document.createRange(),g=window.getSelection();f.setStart(c,0),f.collapse(!0),g.removeAllRanges(),g.addRange(f)}}isMarkVisible(s,c,f){const g=this.el.querySelector('w-p[w="'+s+'"]'),h=this.el.querySelector('w-p[w="'+c+'"]');if(!g||!h)return!1;const x=this.el.getBoundingClientRect(),C=g.getBoundingClientRect(),O=h.getBoundingClientRect(),R=C.top>=x.top&&C.bottom<=x.bottom,D=O.top>=x.top&&O.bottom<=x.bottom;return f?R&&D:R||D}}const e0e={id:"app-instructions-wrapper"},t0e={class:"appTextButtons"},n0e={id:"app-instructions-mode-select"},o0e={id:"app-instructions-mode-mark"},r0e=["innerHTML"],s0e={__name:"Instructions",setup(n){const s=tf(),c=jl(),f=v0(),g=SU(),h=My(),x=Io(0);let C;Uc(()=>{C=new Qve(document.getElementById("app-instructions"),H,V),O()});function O(){C.hideAllMarksAndLabels(),h.activeAnnotations.forEach(fe=>N(fe))}qn(()=>h.markerChange,O);function R(){C.hideAllMarksOfClass("selected");let fe=h.getAnnotation(h.selectedKey);fe&&(C.showMark("selected",fe.start_position,fe.end_position),C.addLabel("labelled",fe.label,fe.start_position),C.scrollToMark(fe.start_position,fe.end_position))}qn(()=>h.selectionChange,R);function D(){let fe=h.getAnnotation(h.selectedKey);C.setCaretToMark(fe.start_position)}qn(()=>h.caretRequest,D);function N(fe){C.showMark("marked",fe.start_position,fe.end_position),C.addLabel("labelled",fe.label,fe.start_position)}async function H(fe){if(fe.isCollapsed){const j=h.getActiveAnotationsInRange(fe.firstWord,fe.lastWord);if(j.length){const de=j.shift();h.selectAnnotation(de.getKey())}}else if(x.value===1){C.removeSelection();const j=new vd({resource_key:vd.KEY_INSTRUCTIONS,parent_number:fe.parentNumber,start_position:fe.firstWord,end_position:fe.lastWord});await h.createAnnotation(j),h.selectAnnotation(j.getKey())}}function V(fe){const j=h.getActiveAnnotationsByStartPosition(fe);if(j.length){const de=j.shift();h.setFirstVisibleAnnotation(de.getKey())}}function Z(fe){x.value=fe}async function te(){c.focusTarget=="left"&&c.isInstructionsVisible&&(await ya(),document.getElementById("app-instructions").focus())}qn(()=>c.focusChange,te);function ce(fe){const j=Se();console.log(j),g.setContent(j),fe.clipboardData.setData("text/html",j),fe.preventDefault()}function X(fe){return fe.preventDefault(),!1}function Se(){var fe;if(document.selection&&document.selection.createRange)return fe=document.selection.createRange(),fe.htmlText;if(window.getSelection){var j=window.getSelection();if(j.rangeCount>0){fe=j.getRangeAt(0);var de=fe.cloneContents(),oe=document.createElement("div");return oe.appendChild(de),oe.innerHTML}else return""}else return""}return(fe,j)=>(rr(),Rl("div",e0e,[Pe("div",t0e,[Ie(hJ,{modelValue:x.value,"onUpdate:modelValue":j[2]||(j[2]=de=>x.value=de),density:"comfortable",variant:"outlined",divided:""},{default:Gt(()=>[Ie(Ir,{"aria-labelledby":"app-instructions-mode-select",size:"small",value:"0",onClick:j[0]||(j[0]=de=>Z(0))},{default:Gt(()=>[Ie(cr,{icon:"mdi-cursor-default-outline"}),Pe("span",n0e,Nt(fe.$t("allSelect")),1)]),_:1}),Ie(Ir,{"aria-labelledby":"app-instructions-mode-mark",size:"small",value:"1",onClick:j[1]||(j[1]=de=>Z(1))},{default:Gt(()=>[Ie(cr,{icon:"mdi-marker"}),Pe("span",o0e,Nt(fe.$t("allMark")),1)]),_:1})]),_:1},8,["modelValue"]),j[5]||(j[5]=zs("   ")),Ie(Pk,{density:"comfortable",variant:"outlined",divided:""},{default:Gt(()=>[Ie(Ir,{title:fe.$t("instructionsZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:j[3]||(j[3]=de=>qe(f).zoomInstructionsOut())},null,8,["title"]),Ie(Ir,{title:fe.$t("instructionsZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:j[4]||(j[4]=de=>qe(f).zoomInstructionsIn())},null,8,["title"])]),_:1})]),Pe("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:kr("font-size:"+qe(f).instructions_zoom+"rem;"),innerHTML:qe(s).instructions,onBeforeinput:X,onCopy:ce,onCut:ce},null,44,r0e)]))}},a0e=(n,s,c)=>{let f=Promise.resolve();const g=new EventTarget,h=(Z,te=null)=>g.dispatchEvent(new CustomEvent(Z,{detail:te})),x=((Z=0)=>()=>++Z)(),C={},O=document.createElement("iframe"),R=Promise.withResolvers();return O.src=s+"?file="+encodeURIComponent(c),O.style.width="100%",O.style.height="100%",n.appendChild(O),window.addEventListener("message",V),{on:g.addEventListener.bind(g),off:g.removeEventListener.bind(g),getAll:()=>N("getAll"),get:Z=>N("get",Z),update:Z=>D("update",Z),setAll:Z=>D("setAll",Z),add:Z=>D("add",Z),delete:Z=>D("delete",Z),selected:()=>N("selected"),select:Z=>N("select",Z),currentPage:()=>N("currentPage"),destroy:()=>{window.removeEventListener("message",V),iframe.remove()},rebuild:()=>{window.addEventListener("message",V),n.appendChild(O)}};function D(Z,...te){return f=f.then(()=>N(Z,...te))}function N(Z,...te){return new Promise(ce=>{const X=x();return C[X]=ce,R.promise.then(()=>O.contentWindow.postMessage({id:X,name:Z,args:te}))})}function H(Z){if(!C[Z.id])return;const te=C[Z.id];delete C[Z.id],te(Z.value)}function V(Z){if(Z.source===O.contentWindow){if(Z.data.emit){Z.data.emit.name==="ready"&&R.resolve(),h(Z.data.emit.name,Z.data.emit.detail);return}if(Z.data.response){H(Z.data.response);return}}}},i0e={class:"appResourceWrapper"},l0e={__name:"ResourcePdf",props:["resource"],setup(n){const s=jl();ef();const c=My(),g=n.resource,h=Io();let x;Uc(()=>{x=a0e(h.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",g.url),O(),x.on("create",R),x.on("update",D),x.on("delete",N),x.on("select",H),x.on("pageChanged",V),C()});async function C(){s.isResourceShown(g)&&(await ya(),h.value.focus())}qn(()=>s.focusChange,C);function O(){const ce=[];for(const X of c.getAnnotationsForResource(g.key))ce.push({id:X.mark_key,page:X.parent_number,intern:JSON.parse(X.mark_value)});x.setAll(ce)}async function R(ce){const X=new vd({resource_key:g.key,mark_key:ce.detail.id,mark_value:JSON.stringify(ce.detail.intern),parent_number:ce.detail.page,start_position:Math.round(-ce.detail.intern.rect[1])});await c.createAnnotation(X),c.selectAnnotation(X.getKey())}function D(ce){const X=c.getAnnotation(vd.buildKey(g.key,ce.detail.id));X&&(X.mark_value=JSON.stringify(ce.detail.intern),c.updateAnnotation(X))}function N(ce){ce.detail&&c.deleteAnnotation(vd.buildKey(g.key,ce.detail.id))}function H(ce){ce.detail&&c.selectAnnotation(vd.buildKey(g.key,ce.detail.id))}function V(ce){let X=c.getActiveAnnotationsByParentNumber(ce.detail);if(X.length){let Se=X.shift();c.setFirstVisibleAnnotation(Se.getKey())}}function Z(){const ce=c.getAnnotation(c.selectedKey);ce&&ce.resource_key==g.key&&x.select(ce.mark_key)}qn(()=>c.selectionChange,Z);function te(){const ce=vd.getFromKey(c.deletedKey);ce.resource_key==g.key&&x.delete(ce.mark_key)}return qn(()=>c.deletedKey,te),(ce,X)=>(rr(),Rl("div",i0e,[X[0]||(X[0]=Pe("div",{class:"appTextButtons"},null,-1)),Pe("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:h},null,512)]))}},c0e=Eg(l0e,[["__scopeId","data-v-55f64618"]]),u0e={id:"app-resource-url-wrapper"},d0e=["src"],f0e={__name:"ResourceUrl",props:["resource"],setup(n){const s=jl();ef();const f=n.resource,g=Io();async function h(){s.isResourceShown(f)&&(await ya(),g.value.focus())}return Uc(()=>h),qn(()=>s.focusChange,h),(x,C)=>(rr(),Rl("div",u0e,[C[0]||(C[0]=Pe("div",{class:"appTextButtons"},null,-1)),Pe("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:g},[Pe("iframe",{src:qe(f).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,d0e)],512)]))}},m0e=Eg(f0e,[["__scopeId","data-v-4491b7ee"]]),g0e={id:"app-resources",tabindex:"0",class:"resources"},h0e={__name:"Resources",setup(n){const s=jl(),c=ef();return(f,g)=>(rr(),Rl("div",g0e,[(rr(!0),Rl(Os,null,Dk(qe(c).resources,h=>(rr(),Rl(Os,{key:h.key},[h.isPdf()?tr((rr(),ra(c0e,{key:h.key,resource:h},null,8,["resource"])),[[Sr,qe(s).isResourceShown(h)]]):Zl("",!0),h.isEmbeddedUrl()?tr((rr(),ra(m0e,{key:h.key,resource:h},null,8,["resource"])),[[Sr,qe(s).isResourceShown(h)]]):Zl("",!0)],64))),128))]))}},p0e=Eg(h0e,[["__scopeId","data-v-1c7878fa"]]);var Iz={exports:{}},Qq;function b0e(){return Qq||(Qq=1,function(n){(function(){var s=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},c=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},f=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},g=function(e,t){return h(function(o,a){return e.eq(t(o),t(a))})},h=function(e){return{eq:e}},x=h(function(e,t){return e===t}),C=x,O=function(e){return h(function(t,o){if(t.length!==o.length)return!1;for(var a=t.length,l=0;l<a;l++)if(!e.eq(t[l],o[l]))return!1;return!0})},R=function(e,t){return g(O(e),function(o){return f(o,t)})},D=function(e){return h(function(t,o){var a=Object.keys(t),l=Object.keys(o);if(!R(C).eq(a,l))return!1;for(var m=a.length,p=0;p<m;p++){var _=a[p];if(!e.eq(t[_],o[_]))return!1}return!0})},N=h(function(e,t){if(e===t)return!0;var o=s(e),a=s(t);return o!==a?!1:c(o)?e===t:o==="array"?O(N).eq(e,t):o==="object"?D(N).eq(e,t):!1});const H=Object.getPrototypeOf,V=(e,t,o)=>{var a;return o(e,t.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===t.name},Z=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&V(e,String,(o,a)=>a.isPrototypeOf(o))?"string":t},te=e=>t=>Z(t)===e,ce=e=>t=>typeof t===e,X=e=>t=>e===t,Se=(e,t)=>j(e)&&V(e,t,(o,a)=>H(o)===a),fe=te("string"),j=te("object"),de=e=>Se(e,Object),oe=te("array"),Ue=X(null),He=ce("boolean"),je=X(void 0),st=e=>e==null,Oe=e=>!st(e),Be=ce("function"),P=ce("number"),St=(e,t)=>{if(oe(e)){for(let o=0,a=e.length;o<a;++o)if(!t(e[o]))return!1;return!0}return!1},Mt=()=>{},tn=(e,t)=>(...o)=>e(t.apply(null,o)),un=(e,t)=>o=>e(t(o)),ct=e=>()=>e,_n=e=>e,Vn=(e,t)=>e===t;function Lt(e,...t){return(...o)=>{const a=t.concat(o);return e.apply(null,a)}}const Je=e=>t=>!e(t),Tt=e=>()=>{throw new Error(e)},Gn=e=>e(),jn=e=>{e()},Xn=ct(!1),gn=ct(!0);class Q{constructor(t,o){this.tag=t,this.value=o}static some(t){return new Q(!0,t)}static none(){return Q.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?Q.some(t(this.value)):Q.none()}bind(t){return this.tag?t(this.value):Q.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:Q.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Oe(t)?Q.some(t):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const gr=Array.prototype.slice,$o=Array.prototype.indexOf,Do=Array.prototype.push,Ye=(e,t)=>$o.call(e,t),it=(e,t)=>{const o=Ye(e,t);return o===-1?Q.none():Q.some(o)},be=(e,t)=>Ye(e,t)>-1,Ae=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const l=e[o];if(t(l,o))return!0}return!1},Fe=(e,t)=>{const o=e.length,a=new Array(o);for(let l=0;l<o;l++){const m=e[l];a[l]=t(m,l)}return a},pe=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const l=e[o];t(l,o)}},Ce=(e,t)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];t(a,o)}},De=(e,t)=>{const o=[],a=[];for(let l=0,m=e.length;l<m;l++){const p=e[l];(t(p,l)?o:a).push(p)}return{pass:o,fail:a}},We=(e,t)=>{const o=[];for(let a=0,l=e.length;a<l;a++){const m=e[a];t(m,a)&&o.push(m)}return o},dt=(e,t,o)=>(Ce(e,(a,l)=>{o=t(o,a,l)}),o),on=(e,t,o)=>(pe(e,(a,l)=>{o=t(o,a,l)}),o),Ft=(e,t,o)=>{for(let a=0,l=e.length;a<l;a++){const m=e[a];if(t(m,a))return Q.some(m);if(o(m,a))break}return Q.none()},vn=(e,t)=>Ft(e,t,Xn),Mn=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const l=e[o];if(t(l,o))return Q.some(o)}return Q.none()},zn=e=>{const t=[];for(let o=0,a=e.length;o<a;++o){if(!oe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Do.apply(t,e[o])}return t},_o=(e,t)=>zn(Fe(e,t)),yo=(e,t)=>{for(let o=0,a=e.length;o<a;++o){const l=e[o];if(t(l,o)!==!0)return!1}return!0},Fr=e=>{const t=gr.call(e,0);return t.reverse(),t},Yo=(e,t)=>We(e,o=>!be(t,o)),Us=(e,t)=>{const o={};for(let a=0,l=e.length;a<l;a++){const m=e[a];o[String(m)]=t(m,a)}return o},ar=(e,t)=>{const o=gr.call(e,0);return o.sort(t),o},Pa=(e,t)=>t>=0&&t<e.length?Q.some(e[t]):Q.none(),yn=e=>Pa(e,0),no=e=>Pa(e,e.length-1),bo=Be(Array.from)?Array.from:e=>gr.call(e),Xs=(e,t)=>{for(let o=0;o<e.length;o++){const a=t(e[o],o);if(a.isSome())return a}return Q.none()},Wi=(e,t)=>{const o=[],a=Be(t)?l=>Ae(o,m=>t(m,l)):l=>be(o,l);for(let l=0,m=e.length;l<m;l++){const p=e[l];a(p)||o.push(p)}return o},Zt=Object.keys,sa=Object.hasOwnProperty,Xo=(e,t)=>{const o=Zt(e);for(let a=0,l=o.length;a<l;a++){const m=o[a],p=e[m];t(p,m)}},Il=(e,t)=>Pr(e,(o,a)=>({k:a,v:t(o,a)})),Pr=(e,t)=>{const o={};return Xo(e,(a,l)=>{const m=t(a,l);o[m.k]=m.v}),o},Ws=e=>(t,o)=>{e[o]=t},cm=(e,t,o,a)=>{Xo(e,(l,m)=>{(t(l,m)?o:a)(l,m)})},Ou=(e,t)=>{const o={},a={};return cm(e,t,Ws(o),Ws(a)),{t:o,f:a}},pc=(e,t)=>{const o={};return cm(e,t,Ws(o),Mt),o},ll=(e,t)=>{const o=[];return Xo(e,(a,l)=>{o.push(t(a,l))}),o},Du=e=>ll(e,_n),wr=(e,t)=>oo(e,t)?Q.from(e[t]):Q.none(),oo=(e,t)=>sa.call(e,t),Pl=(e,t)=>oo(e,t)&&e[t]!==void 0&&e[t]!==null,xa=(e,t,o=N)=>D(o).eq(e,t),Ru=e=>{const t={};return pe(e,o=>{t[o]={}}),Zt(t)},rn=e=>e.length!==void 0,Nu=Array.isArray,um=e=>{if(Nu(e))return e;{const t=[];for(let o=0,a=e.length;o<a;o++)t[o]=e[o];return t}},ss=(e,t,o)=>{if(!e)return!1;if(o=o||e,rn(e)){for(let a=0,l=e.length;a<l;a++)if(t.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(oo(e,a)&&t.call(o,e[a],a,e)===!1)return!1;return!0},dm=(e,t)=>{const o=[];return ss(e,(a,l)=>{o.push(t(a,l,e))}),o},Zi=(e,t)=>{const o=[];return ss(e,(a,l)=>{(!t||t(a,l,e))&&o.push(a)}),o},Sl=(e,t)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===t)return o}return-1},cl=(e,t,o,a)=>{let l=je(o)?e[0]:o;for(let m=0;m<e.length;m++)l=t.call(a,l,e[m],m);return l},Xr=(e,t,o)=>{for(let a=0,l=e.length;a<l;a++)if(t.call(o,e[a],a,e))return a;return-1},fi=e=>e[e.length-1],kl=e=>{let t=!1,o;return(...a)=>(t||(t=!0,o=e.apply(null,a)),o)},fm=(e,t,o,a)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),_=p||a("(pointer:coarse)"),A=l||!m&&p&&a("(min-device-width:768px)"),$=m||p&&!A,q=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Y=!$&&!A&&!q;return{isiPad:ct(l),isiPhone:ct(m),isTablet:ct(A),isPhone:ct($),isTouch:ct(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ct(q),isDesktop:ct(Y)}},Zc=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(t))return a}},jc=(e,t)=>{const o=Zc(e,t);if(!o)return{major:0,minor:0};const a=l=>Number(t.replace(o,"$"+l));return Jo(a(1),a(2))},lf=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?xd():jc(e,o)},xd=()=>Jo(0,0),Jo=(e,t)=>({major:e,minor:t}),Ss={nu:Jo,detect:lf,unknown:xd},Js=(e,t)=>Xs(t.brands,o=>{const a=o.brand.toLowerCase();return vn(e,l=>{var m;return a===((m=l.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(l=>({current:l.name,version:Ss.nu(parseInt(o.version,10),0)}))}),mm=(e,t)=>{const o=String(t).toLowerCase();return vn(e,a=>a.search(o))},ji=(e,t)=>mm(e,t).map(o=>{const a=Ss.detect(o.versionRegexes,t);return{current:o.name,version:a}}),Kc=(e,t)=>mm(e,t).map(o=>{const a=Ss.detect(o.versionRegexes,t);return{current:o.name,version:a}}),mi=(e,t)=>e.substring(t),gi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,qc=(e,t)=>Jr(e,t)?mi(e,t.length):e,Er=(e,t,o=0,a)=>{const l=e.indexOf(t,o);return l!==-1?je(a)?!0:l+t.length<=a:!1},Jr=(e,t)=>gi(e,t,0),ke=(e,t)=>gi(e,t,e.length-t.length),tt=e=>t=>t.replace(e,""),Le=tt(/^\s+|\s+$/g),gt=tt(/^\s+/g),ut=tt(/\s+$/g),Qe=e=>e.length>0,zt=e=>!Qe(e),Qt=(e,t)=>t<=0?"":new Array(t+1).join(e),ln=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?Q.none():Q.some(o)},hn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=e=>t=>Er(t,e),fo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Er(e,"edge/")&&Er(e,"chrome")&&Er(e,"safari")&&Er(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hn],search:e=>Er(e,"chrome")&&!Er(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Er(e,"msie")||Er(e,"trident")},{name:"Opera",versionRegexes:[hn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[hn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Er(e,"safari")||Er(e,"mobile/"))&&Er(e,"applewebkit")}],nn=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Er(e,"iphone")||Er(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hr={browsers:ct(fo),oses:ct(nn)},Ro="Edge",Ho="Chromium",ks="IE",xo="Opera",Ll="Firefox",hi="Safari",ao=()=>Ki({current:void 0,version:Ss.unknown()}),Ki=e=>{const t=e.current,o=e.version,a=l=>()=>t===l;return{current:t,version:o,isEdge:a(Ro),isChromium:a(Ho),isIE:a(ks),isOpera:a(xo),isFirefox:a(Ll),isSafari:a(hi)}},ul={unknown:ao,nu:Ki},ps="Windows",cf="iOS",Zs="Android",gm="Linux",Bl="macOS",fr="Solaris",wd="FreeBSD",Ag="ChromeOS",$h=()=>bs({current:void 0,version:Ss.unknown()}),bs=e=>{const t=e.current,o=e.version,a=l=>()=>t===l;return{current:t,version:o,isWindows:a(ps),isiOS:a(cf),isAndroid:a(Zs),isMacOS:a(Bl),isLinux:a(gm),isSolaris:a(fr),isFreeBSD:a(wd),isChromeOS:a(Ag)}},bc={unknown:$h,nu:bs},Ur={detect:(e,t,o)=>{const a=hr.browsers(),l=hr.oses(),m=t.bind(A=>Js(a,A)).orThunk(()=>ji(a,e)).fold(ul.unknown,ul.nu),p=Kc(l,e).fold(bc.unknown,bc.nu),_=fm(p,m,e,o);return{browser:m,os:p,deviceType:_}}},hm=e=>window.matchMedia(e).matches;let El=kl(()=>Ur.detect(window.navigator.userAgent,Q.from(window.navigator.userAgentData),hm));const qa=()=>El(),Tg=window.navigator.userAgent,wa=qa(),qi=wa.browser,Ga=wa.os,Al=wa.deviceType,Hh=Tg.indexOf("Windows Phone")!==-1,Eo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:qi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!qi.isIE(),windowsPhone:Hh,browser:{current:qi.current,version:qi.version,isChromium:qi.isChromium,isEdge:qi.isEdge,isFirefox:qi.isFirefox,isIE:qi.isIE,isOpera:qi.isOpera,isSafari:qi.isSafari},os:{current:Ga.current,version:Ga.version,isAndroid:Ga.isAndroid,isChromeOS:Ga.isChromeOS,isFreeBSD:Ga.isFreeBSD,isiOS:Ga.isiOS,isLinux:Ga.isLinux,isMacOS:Ga.isMacOS,isSolaris:Ga.isSolaris,isWindows:Ga.isWindows},deviceType:{isDesktop:Al.isDesktop,isiPad:Al.isiPad,isiPhone:Al.isiPhone,isPhone:Al.isPhone,isTablet:Al.isTablet,isTouch:Al.isTouch,isWebView:Al.isWebView}},Gc=/^\s*|\s*$/g,Cd=e=>st(e)?"":(""+e).replace(Gc,""),Iu=(e,t)=>t?t==="array"&&Nu(e)?!0:typeof e===t:e!==void 0,yb=(e,t,o={})=>{const a=fe(e)?e.split(t||","):e||[];let l=a.length;for(;l--;)o[a[l]]={};return o},qy=oo,D0=(e,...t)=>{for(let o=0;o<t.length;o++){const a=t[o];for(const l in a)if(oo(a,l)){const m=a[l];m!==void 0&&(e[l]=m)}}return e},R0=function(e,t,o,a){a=a||this,e&&(o&&(e=e[o]),ss(e,(l,m)=>t.call(a,l,m,o)===!1?!1:(R0(l,t,o,a),!0)))},Yt={trim:Cd,isArray:Nu,is:Iu,toArray:um,makeMap:yb,each:ss,map:dm,grep:Zi,inArray:Sl,hasOwn:qy,extend:D0,walk:R0,resolve:(e,t=window)=>{const o=e.split(".");for(let a=0,l=o.length;a<l&&(t=t[o[a]],!!t);a++);return t},explode:(e,t)=>oe(e)?e:e===""?[]:dm(e.split(t||","),Cd),_addCacheSuffix:e=>{const t=Eo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},uf=(e,t,o=Vn)=>e.exists(a=>o(a,t)),df=(e,t,o=Vn)=>Ya(e,t,o).getOr(e.isNone()&&t.isNone()),I0=e=>{const t=[],o=a=>{t.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return t},Ya=(e,t,o)=>e.isSome()&&t.isSome()?Q.some(o(e.getOrDie(),t.getOrDie())):Q.none(),ff=(e,t,o,a)=>e.isSome()&&t.isSome()&&o.isSome()?Q.some(a(e.getOrDie(),t.getOrDie(),o.getOrDie())):Q.none(),Og=(e,t)=>e?Q.some(t):Q.none(),Gy=typeof window<"u"?window:Function("return this;")(),Yy=(e,t)=>{let o=t??Gy;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},xb=(e,t)=>{const o=e.split(".");return Yy(o,t)},Xy=(e,t)=>xb(e,t),P0=(e,t)=>{const o=Xy(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Jy=Object.getPrototypeOf,Dg=e=>P0("HTMLElement",e),L0=e=>{const t=xb("ownerDocument.defaultView",e);return j(e)&&(Dg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Jy(e).constructor.name))},mf=8,gf=9,Xa=11,fl=1,Rg=3,zo=e=>e.dom.nodeName.toLowerCase(),_d=e=>e.dom.nodeType,Ng=e=>t=>_d(t)===e,Ig=e=>_d(e)===mf||zo(e)==="#comment",Ei=e=>Ds(e)&&L0(e.dom),Ds=Ng(fl),Qr=Ng(Rg),La=Ng(gf),Wr=Ng(Xa),hf=e=>t=>Ds(t)&&zo(t)===e,pm=(e,t,o)=>{if(fe(o)||He(o)||P(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},fa=(e,t,o)=>{pm(e.dom,t,o)},Ai=(e,t)=>{const o=e.dom;Xo(t,(a,l)=>{pm(o,l,a)})},pi=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Yc=(e,t)=>Q.from(pi(e,t)),Sd=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Co=(e,t)=>{e.dom.removeAttribute(t)},Qs=e=>{const t=e.dom.attributes;return t==null||t.length===0},ml=e=>on(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),kd=(e,t)=>{const o=pi(e,t);return o===void 0||o===""?[]:o.split(" ")},Ba=(e,t,o)=>{const l=kd(e,t).concat([o]);return fa(e,t,l.join(" ")),!0},Dn=(e,t,o)=>{const a=We(kd(e,t),l=>l!==o);return a.length>0?fa(e,t,a.join(" ")):Co(e,t),!1},vc=e=>e.dom.classList!==void 0,yc=e=>kd(e,"class"),pr=(e,t)=>Ba(e,"class",t),Vh=(e,t)=>Dn(e,"class",t),wb=(e,t)=>be(yc(e),t)?Vh(e,t):pr(e,t),Ed=(e,t)=>{vc(e)?e.dom.classList.add(t):pr(e,t)},Ao=e=>{(vc(e)?e.dom.classList:yc(e)).length===0&&Co(e,"class")},Ti=(e,t)=>{vc(e)?e.dom.classList.remove(t):Vh(e,t),Ao(e)},Uh=(e,t)=>{const o=vc(e)?e.dom.classList.toggle(t):wb(e,t);return Ao(e),o},Ad=(e,t)=>vc(e)&&e.dom.classList.contains(t),Cb=(e,t)=>{const a=(t||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Jc(a.childNodes[0])},Xc=(e,t)=>{const a=(t||document).createElement(e);return Jc(a)},Gi=(e,t)=>{const a=(t||document).createTextNode(e);return Jc(a)},Jc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},$e={fromHtml:Cb,fromTag:Xc,fromText:Gi,fromDom:Jc,fromPoint:(e,t,o)=>Q.from(e.dom.elementFromPoint(t,o)).map(Jc)},bm=(e,t)=>{const o=[],a=m=>(o.push(m),t(m));let l=t(e);do l=l.bind(a);while(l.isSome());return o},Ar=(e,t)=>{const o=e.dom;if(o.nodeType!==fl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(t);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(t);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(t);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},_b=e=>e.nodeType!==fl&&e.nodeType!==gf&&e.nodeType!==Xa||e.childElementCount===0,Pg=(e,t)=>{const o=t===void 0?document:t.dom;return _b(o)?[]:Fe(o.querySelectorAll(e),$e.fromDom)},Qc=(e,t)=>{const o=t===void 0?document:t.dom;return _b(o)?Q.none():Q.from(o.querySelector(e)).map($e.fromDom)},Vo=(e,t)=>e.dom===t.dom,Ja=(e,t)=>{const o=e.dom,a=t.dom;return o===a?!1:o.contains(a)},Pu=e=>$e.fromDom(e.dom.ownerDocument),Gl=e=>La(e)?e:Pu(e),Lu=e=>$e.fromDom(Gl(e).dom.documentElement),Bu=e=>$e.fromDom(Gl(e).dom.defaultView),Qa=e=>Q.from(e.dom.parentNode).map($e.fromDom),bf=e=>Q.from(e.dom.parentElement).map($e.fromDom),vm=(e,t)=>{const o=Be(t)?t:Xn;let a=e.dom;const l=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,p=$e.fromDom(m);if(l.push(p),o(p)===!0)break;a=m}return l},Sb=e=>{const t=o=>We(o,a=>!Vo(e,a));return Qa(e).map(ei).map(t).getOr([])},ma=e=>Q.from(e.dom.previousSibling).map($e.fromDom),Ln=e=>Q.from(e.dom.nextSibling).map($e.fromDom),Mu=e=>Fr(bm(e,ma)),ym=e=>bm(e,Ln),ei=e=>Fe(e.dom.childNodes,$e.fromDom),Fu=(e,t)=>{const o=e.dom.childNodes;return Q.from(o[t]).map($e.fromDom)},Tl=e=>Fu(e,0),$u=e=>Fu(e,e.dom.childNodes.length-1),Td=e=>e.dom.childNodes.length,ga=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return $e.fromDom(t)},Yl=e=>Wr(e)&&Oe(e.dom.host),eu=e=>$e.fromDom(e.dom.getRootNode()),xm=e=>Yl(e)?e:ga(Gl(e)),B0=e=>Yl(e)?e:$e.fromDom(Gl(e).dom.body),Hu=e=>{const t=eu(e);return Yl(t)?Q.some(t):Q.none()},vf=e=>$e.fromDom(e.dom.host),kb=e=>{if(Oe(e.target)){const t=$e.fromDom(e.target);if(Ds(t)&&us(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return yn(o)}}return Q.from(e.target)},us=e=>Oe(e.dom.shadowRoot),Oi=e=>{const t=Qr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Hu($e.fromDom(t)).fold(()=>o.body.contains(t),un(Oi,vf))};var bi=(e,t,o,a,l)=>e(o,a)?Q.some(o):Be(l)&&l(o)?Q.none():t(o,a,l);const Yi=(e,t,o)=>{let a=e.dom;const l=Be(o)?o:Xn;for(;a.parentNode;){a=a.parentNode;const m=$e.fromDom(a);if(t(m))return Q.some(m);if(l(m))break}return Q.none()},aa=(e,t,o)=>bi((l,m)=>m(l),Yi,e,t,o),Wh=(e,t)=>{const o=e.dom;return o.parentNode?ea($e.fromDom(o.parentNode),a=>!Vo(e,a)&&t(a)):Q.none()},ea=(e,t)=>{const o=l=>t($e.fromDom(l));return vn(e.dom.childNodes,o).map($e.fromDom)},Ma=(e,t)=>{const o=a=>{for(let l=0;l<a.childNodes.length;l++){const m=$e.fromDom(a.childNodes[l]);if(t(m))return Q.some(m);const p=o(a.childNodes[l]);if(p.isSome())return p}return Q.none()};return o(e.dom)},tu=(e,t,o)=>Yi(e,a=>Ar(a,t),o),Ot=(e,t)=>Qc(t,e),Fa=(e,t,o)=>bi((l,m)=>Ar(l,m),tu,e,t,o),Zh=e=>Fa(e,"[contenteditable]"),ds=(e,t=!1)=>Oi(e)?e.dom.isContentEditable:Zh(e).fold(ct(t),o=>zu(o)==="true"),zu=e=>e.dom.contentEditable,Di=e=>e.style!==void 0&&Be(e.style.getPropertyValue),xc=(e,t,o)=>{if(!fe(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Di(e)&&e.style.setProperty(t,o)},wm=(e,t)=>{Di(e)&&e.style.removeProperty(t)},Xi=(e,t,o)=>{const a=e.dom;xc(a,t,o)},Bo=(e,t)=>{const o=e.dom;Xo(t,(a,l)=>{xc(o,l,a)})},Rs=(e,t)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(t);return l===""&&!Oi(e)?yf(o,t):l},yf=(e,t)=>Di(e)?e.style.getPropertyValue(t):"",Es=(e,t)=>{const o=e.dom,a=yf(o,t);return Q.from(a).filter(l=>l.length>0)},Lg=e=>{const t={},o=e.dom;if(Di(o))for(let a=0;a<o.style.length;a++){const l=o.style.item(a);t[l]=o.style[l]}return t},nu=(e,t)=>{const o=e.dom;wm(o,t),uf(Yc(e,"style").map(Le),"")&&Co(e,"style")},M0=e=>e.dom.offsetWidth,vs=(e,t)=>{Qa(e).each(a=>{a.dom.insertBefore(t.dom,e.dom)})},rt=(e,t)=>{Ln(e).fold(()=>{Qa(e).each(l=>{Ns(l,t)})},a=>{vs(a,t)})},Ri=(e,t)=>{Tl(e).fold(()=>{Ns(e,t)},a=>{e.dom.insertBefore(t.dom,a.dom)})},Ns=(e,t)=>{e.dom.appendChild(t.dom)},Ml=(e,t)=>{vs(e,t),Ns(t,e)},wc=(e,t)=>{pe(t,(o,a)=>{const l=a===0?e:t[a-1];rt(l,o)})},js=(e,t)=>{pe(t,o=>{Ns(e,o)})},Zr=e=>{e.dom.textContent="",pe(ei(e),t=>{Cr(t)})},Cr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ni=e=>{const t=ei(e);t.length>0&&wc(e,t),Cr(e)},Fl=(e,t)=>{const a=(t||document).createElement("div");return a.innerHTML=e,ei($e.fromDom(a))},ou=e=>Fe(e,$e.fromDom),Od=e=>e.dom.innerHTML,Cm=(e,t)=>{const a=Pu(e).dom,l=$e.fromDom(a.createDocumentFragment()),m=Fl(t,a);js(l,m),Zr(e),Ns(e,l)},Bg=e=>{const t=$e.fromTag("div"),o=$e.fromDom(e.dom.cloneNode(!0));return Ns(t,o),Od(t)},Mg=(e,t,o,a,l,m,p)=>({target:e,x:t,y:o,stop:a,prevent:l,kill:m,raw:p}),Eb=e=>{const t=$e.fromDom(kb(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),l=tn(a,o);return Mg(t,e.clientX,e.clientY,o,a,l,e)},Ab=(e,t)=>o=>{e(o)&&t(Eb(o))},Vu=(e,t,o,a,l)=>{const m=Ab(o,a);return e.dom.addEventListener(t,m,l),{unbind:Lt(K,e,t,m,l)}},L=(e,t,o,a)=>Vu(e,t,o,a,!1),K=(e,t,o,a)=>{e.dom.removeEventListener(t,o,a)},re=(e,t)=>({left:e,top:t,translate:(a,l)=>re(e+a,t+l)}),Re=re,Ke=e=>{const t=e.getBoundingClientRect();return Re(t.left,t.top)},Dt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Bn=e=>{const t=e.dom.ownerDocument,o=t.body,a=t.defaultView,l=t.documentElement;if(o===e.dom)return Re(o.offsetLeft,o.offsetTop);const m=Dt(a==null?void 0:a.pageYOffset,l.scrollTop),p=Dt(a==null?void 0:a.pageXOffset,l.scrollLeft),_=Dt(l.clientTop,o.clientTop),A=Dt(l.clientLeft,o.clientLeft);return mo(e).translate(p-A,m-_)},mo=e=>{const t=e.dom,a=t.ownerDocument.body;return a===t?Re(a.offsetLeft,a.offsetTop):Oi(e)?Ke(t):Re(0,0)},ro=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return Re(o,a)},kn=(e,t,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,t)},ir=(e,t)=>{qa().browser.isSafari()&&Be(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Is=e=>{const t=e===void 0?window:e;return qa().browser.isFirefox()?Q.none():Q.from(t.visualViewport)},fs=(e,t,o,a)=>({x:e,y:t,width:o,height:a,right:e+o,bottom:t+a}),Cc=e=>{const t=e===void 0?window:e,o=t.document,a=ro($e.fromDom(o));return Is(t).fold(()=>{const l=t.document.documentElement,m=l.clientWidth,p=l.clientHeight;return fs(a.left,a.top,m,p)},l=>fs(Math.max(l.pageLeft,a.left),Math.max(l.pageTop,a.top),l.width,l.height))},_m=(e,t)=>We(ei(e),t),Sm=(e,t)=>{let o=[];return pe(ei(e),a=>{t(a)&&(o=o.concat([a])),o=o.concat(Sm(a,t))}),o},ia=(e,t)=>Pg(t,e),lC=(e,t,o)=>Yi(e,t,o).isSome(),Tb=(e,t)=>Wh(e,t).isSome(),F0=(e,t)=>Ma(e,t).isSome();class ti{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,a,l){if(t){if(!l&&t[o])return t[o];if(t!==this.rootNode){let m=t[a];if(m)return m;for(let p=t.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[a],m)return m}}}findPreviousNode(t,o){if(t){const a=t.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const ys="\uFEFF",Ca=" ",Uu=e=>e===ys,jh=e=>e.replace(/\uFEFF/g,""),Qy=/^[ \t\r\n]*$/,Xl=e=>Qy.test(e),gl=e=>{for(const t of e)if(!Uu(t))return!1;return!0},Ob=e=>" \f	\v".indexOf(e)!==-1,xf=e=>e===`
`||e==="\r",Vk=(e,t)=>t<e.length&&t>=0?xf(e[t]):!1,Db=(e,t=4,o=!0,a=!0)=>{const l=Qt(" ",t),m=e.replace(/\t/g,l);return on(m,(_,A)=>Ob(A)||A===Ca?_.pcIsSpace||_.str===""&&o||_.str.length===m.length-1&&a||Vk(m,_.str.length+1)?{pcIsSpace:!1,str:_.str+Ca}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:xf(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},Dd=e=>t=>!!t&&t.nodeType===e,wf=e=>!!e&&!Object.getPrototypeOf(e),Sn=Dd(1),ru=e=>Sn(e)&&Ei($e.fromDom(e)),Rb=e=>Sn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Cf=e=>{const t=e.toLowerCase();return o=>Oe(o)&&o.nodeName.toLowerCase()===t},ni=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return be(t,a)}return!1}},_c=(e,t)=>{const o=t.toLowerCase().split(" ");return a=>{if(Sn(a)){const l=a.ownerDocument.defaultView;if(l)for(let m=0;m<o.length;m++){const p=l.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},Fg=e=>t=>Sn(t)&&t.hasAttribute(e),_f=e=>Sn(e)&&e.hasAttribute("data-mce-bogus"),$0=e=>Sn(e)&&e.getAttribute("data-mce-bogus")==="all",su=e=>Sn(e)&&e.tagName==="TABLE",Kh=e=>t=>!!(ru(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),qh=ni(["textarea","input"]),Ht=Dd(3),ex=Dd(4),Sf=Dd(7),wo=Dd(8),En=Dd(9),kf=Dd(11),as=Cf("br"),Sc=Cf("img"),kc=Kh("true"),lo=Kh("false"),Gh=ni(["td","th"]),cC=ni(["td","th","caption"]),Ct=ni(["video","audio","object","embed"]),tx=Cf("li"),Yh=Cf("details"),Xh=Cf("summary"),$g={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},km=(e,t,o)=>{const a=$e.fromDom(t),l=$e.fromDom(e),m=o.getWhitespaceElements();return lC(l,_=>oo(m,zo(_)),Lt(Vo,a))},uC=e=>Sn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Ef=(e,t)=>Sn(e)&&oo(t.getNonEmptyElements(),e.nodeName),Gr=Fg("data-mce-bookmark"),Wu=e=>bf($e.fromDom(e)).exists(t=>!ds(t)),H0=(e,t,o)=>Xl(e.data)&&!km(e,t,o),au=(e,t,o,a)=>Ht(e)&&!H0(e,t,o)&&(!a.includeZwsp||!gl(e.data)),Em=(e,t,o,a)=>Be(a.isContent)&&a.isContent(t)||Ef(t,e)||Gr(t)||uC(t)||au(t,o,e,a)||lo(t)||kc(t)&&Wu(t),Jl=(e,t,o)=>{const a={...$g,...o};if(a.checkRootAsContent&&Em(e,t,t,a))return!1;let l=t.firstChild,m=0;if(!l)return!0;const p=new ti(l,t);do{if(a.skipBogus&&Sn(l)){const _=l.getAttribute("data-mce-bogus");if(_){l=p.next(_==="all");continue}}if(wo(l)){l=p.next(!0);continue}if(as(l)){m++,l=p.next();continue}if(Em(e,l,t,a))return!1;l=p.next()}while(l);return m<=1},Ps=(e,t,o)=>Jl(e,t.dom,{checkRootAsContent:!0,...o}),Nb=(e,t,o)=>Em(e,t,t,{includeZwsp:$g.includeZwsp,...o}),_a=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},z0=e=>{const t=_a(Q.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{o(),t.set(Q.some(_))}}},Ec=e=>{const t=_a(Q.none()),o=()=>t.get().each(_=>clearInterval(_));return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{o(),t.set(Q.some(setInterval(_,e)))}}},Sa=()=>{const e=z0(Mt);return{...e,on:o=>e.get().each(o)}},Vt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Am=e=>Vt(e)!=="html",ka=e=>Am(e.nodeName),dC=e=>Vt(e.nodeName),fC=["svg","math"],Uk=()=>{const e=Sa(),t=()=>e.get().map(dC).getOr("html");return{track:l=>(ka(l)?e.set(l):e.get().exists(m=>!m.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Rd="data-mce-block",Hg=e=>We(Zt(e),t=>!/[A-Z]/.test(t)),Ib=e=>Fe(Hg(e),t=>{const o=CSS.escape(t);return`${o}:`+Fe(fC,a=>`not(${a} ${o})`).join(":")}).join(","),V0=(e,t)=>Oe(t.querySelector(e))?(t.setAttribute(Rd,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Rd),!1),nx=(e,t)=>{const o=Ib(e.getTransparentElements()),a=Ib(e.getBlockElements());return We(t.querySelectorAll(o),l=>V0(a,l))},ms=(e,t,o)=>{var a;const l=o?"lastChild":"firstChild";for(let m=t[l];m;m=m[l])if(Jl(e,m,{checkRootAsContent:!0})){(a=m.parentNode)===null||a===void 0||a.removeChild(m);return}},Pb=(e,t,o)=>{const a=document.createRange(),l=t.parentNode;if(l){a.setStartBefore(t),a.setEndBefore(o);const m=a.extractContents();ms(e,m,!0),a.setStartAfter(o),a.setEndAfter(t);const p=a.extractContents();ms(e,p,!1),Jl(e,m,{checkRootAsContent:!0})||l.insertBefore(m,t),Jl(e,o,{checkRootAsContent:!0})||l.insertBefore(o,t),Jl(e,p,{checkRootAsContent:!0})||l.insertBefore(p,t),l.removeChild(t)}},xs=(e,t,o)=>{const a=e.getBlockElements(),l=$e.fromDom(t),m=_=>zo(_)in a,p=_=>Vo(_,l);pe(ou(o),_=>{Yi(_,m,p).each(A=>{const $=_m(_,q=>m(q)&&!e.isValidChild(zo(A),zo(q)));if($.length>0){const q=bf(A);pe($,Y=>{Yi(Y,m,p).each(ee=>{Pb(e,ee.dom,Y.dom)})}),q.each(Y=>nx(e,Y.dom))}})})},Ji=(e,t,o)=>{pe([...o,...Af(e,t)?[t]:[]],a=>pe(ia($e.fromDom(a),a.nodeName.toLowerCase()),l=>{mC(e,l.dom)&&Ni(l)}))},Ls=(e,t)=>{const o=nx(e,t);xs(e,t,o),Ji(e,t,o)},Ql=(e,t)=>{if(Jh(e,t)){const o=Ib(e.getBlockElements());V0(o,t)}},Nd=(e,t,o)=>{const a=m=>Vo(m,$e.fromDom(t)),l=vm($e.fromDom(o),a);Pa(l,l.length-2).filter(Ds).fold(()=>Ls(e,t),m=>Ls(e,m.dom))},$a=e=>e.hasAttribute(Rd),Lb=(e,t)=>oo(e.getTransparentElements(),t),Jh=(e,t)=>Sn(t)&&Lb(e,t.nodeName),Af=(e,t)=>Jh(e,t)&&$a(t),mC=(e,t)=>Jh(e,t)&&!$a(t),Qh=(e,t)=>t.type===1&&Lb(e,t.name)&&fe(t.attr(Rd)),ox=qa().browser,U0=e=>vn(e,Ds),Bb=e=>ox.isFirefox()&&zo(e)==="table"?U0(ei(e)).filter(t=>zo(t)==="caption").bind(t=>U0(ym(t)).map(o=>{const a=o.dom.offsetTop,l=t.dom.offsetTop,m=t.dom.offsetHeight;return a<=l?-m:0})).getOr(0):0,W0=(e,t)=>e.children&&be(e.children,t),rx=(e,t,o)=>{let a=0,l=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Rs($e.fromDom(e),"position")==="static"){const _=t.getBoundingClientRect();return a=_.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,l=_.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:l}}let p=t;for(;p&&p!==o&&p.nodeType&&!W0(p,o);){const _=p;a+=_.offsetLeft||0,l+=_.offsetTop||0,p=_.offsetParent}for(p=t.parentNode;p&&p!==o&&p.nodeType&&!W0(p,o);)a-=p.scrollLeft||0,l-=p.scrollTop||0,p=p.parentNode;l+=Bb($e.fromDom(t))}return{x:a,y:l}},Tm=(e,t={})=>{let o=0;const a={},l=$e.fromDom(e),m=Gl(l),p=Ze=>{t.referrerPolicy=Ze},_=Ze=>{t.contentCssCors=Ze},A=Ze=>{Ns(xm(l),Ze)},$=Ze=>{const et=xm(l);Ot(et,"#"+Ze).each(Cr)},q=Ze=>wr(a,Ze).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Y=Ze=>new Promise((et,Xe)=>{let ft;const Bt=Yt._addCacheSuffix(Ze),qt=q(Bt);a[Bt]=qt,qt.count++;const mn=(wn,Rn)=>{pe(wn,jn),qt.status=Rn,qt.passed=[],qt.failed=[],ft&&(ft.onload=null,ft.onerror=null,ft=null)},_t=()=>mn(qt.passed,2),pt=()=>mn(qt.failed,3);if(et&&qt.passed.push(et),Xe&&qt.failed.push(Xe),qt.status===1)return;if(qt.status===2){_t();return}if(qt.status===3){pt();return}qt.status=1;const It=$e.fromTag("link",m.dom);Ai(It,{rel:"stylesheet",type:"text/css",id:qt.id}),t.contentCssCors&&fa(It,"crossOrigin","anonymous"),t.referrerPolicy&&fa(It,"referrerpolicy",t.referrerPolicy),ft=It.dom,ft.onload=_t,ft.onerror=pt,A(It),fa(It,"href",Bt)}),ee=(Ze,et)=>{const Xe=q(Ze);a[Ze]=Xe,Xe.count++;const ft=$e.fromTag("style",m.dom);Ai(ft,{rel:"stylesheet",type:"text/css",id:Xe.id}),ft.dom.innerHTML=et,A(ft)},me=Ze=>Promise.allSettled(Fe(Ze,Xe=>Y(Xe).then(ct(Xe)))).then(Xe=>{const ft=De(Xe,Bt=>Bt.status==="fulfilled");return ft.fail.length>0?Promise.reject(Fe(ft.fail,Bt=>Bt.reason)):Fe(ft.pass,Bt=>Bt.value)}),we=Ze=>{const et=Yt._addCacheSuffix(Ze);wr(a,et).each(Xe=>{--Xe.count===0&&(delete a[et],$(Xe.id))})};return{load:Y,loadRawCss:ee,loadAll:me,unload:we,unloadRawCss:Ze=>{wr(a,Ze).each(et=>{--et.count===0&&(delete a[Ze],$(et.id))})},unloadAll:Ze=>{pe(Ze,et=>{we(et)})},_setReferrerPolicy:p,_setContentCssCors:_}},Z0=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=eu(o).dom;return Q.from(e.get(m)).getOrThunk(()=>{const p=Tm(m,a);return e.set(m,p),p})}}})(),j0=e=>e.nodeName.toLowerCase()==="span",sx=(e,t)=>Oe(e)&&(Nb(t,e)||t.isInline(e.nodeName.toLowerCase())),ax=(e,t,o)=>{const a=new ti(e,t).prev(!1),l=new ti(e,t).next(!1),m=je(a)||sx(a,o),p=je(l)||sx(l,o);return m&&p},Mb=e=>j0(e)&&e.getAttribute("data-mce-type")==="bookmark",ix=(e,t,o)=>Ht(e)&&e.data.length>0&&ax(e,t,o),lx=e=>Sn(e)?e.childNodes.length>0:!1,Fb=e=>kf(e)||En(e),ep=(e,t,o,a)=>{var l;const m=a||t;if(Sn(t)&&Mb(t))return t;const p=t.childNodes;for(let _=p.length-1;_>=0;_--)ep(e,p[_],o,m);if(Sn(t)){const _=t.childNodes;_.length===1&&Mb(_[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(_[0],t))}return!Fb(t)&&!Nb(o,t)&&!lx(t)&&!ix(t,m,o)&&e.remove(t),t},cx=Yt.makeMap,$b=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Om=/[<>&\"\']/g,tp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ux={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Id={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vg=e=>{const t=$e.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Pd=(e,t)=>{const o={};if(e){const a=e.split(",");t=t||10;for(let l=0;l<a.length;l+=2){const m=String.fromCharCode(parseInt(a[l],t));if(!Id[m]){const p="&"+a[l+1]+";";o[m]=p,o[p]=m}}return o}else return},Tf=Pd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),zb=(e,t)=>e.replace(t?$b:Hb,o=>Id[o]||o),Zk=e=>(""+e).replace(Om,t=>Id[t]||t),Vb=(e,t)=>e.replace(t?$b:Hb,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Id[o]||"&#"+o.charCodeAt(0)+";"),Ac=(e,t,o)=>{const a=o||Tf;return e.replace(t?$b:Hb,l=>Id[l]||a[l]||l)},Ug={encodeRaw:zb,encodeAllRaw:Zk,encodeNumeric:Vb,encodeNamed:Ac,getEncodeFunc:(e,t)=>{const o=Pd(t)||Tf,a=(p,_)=>p.replace(_?$b:Hb,A=>Id[A]!==void 0?Id[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(p,_)=>Ac(p,_,o),m=cx(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?t?l:Ac:m.numeric?Vb:zb},decode:e=>e.replace(tp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):ux[o]||String.fromCharCode(o)):zg[t]||Tf[t]||Vg(t))},oi=(e,t)=>(e=Yt.trim(e),e?e.split(t||" "):[]),Wg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Zg=e=>j(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",K0=e=>{const t=o=>oe(o)?Fe(o,t):Zg(o)?new RegExp(o.source,o.flags):j(o)?Il(o,t):o;return t(e)},Uo=e=>{const t=/^(~)?(.+)$/;return _o(oi(e,","),o=>{const a=t.exec(o);if(a){const m=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:m,name:p}]}else return[]})},hl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Zu=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const a=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:a}},vi=e=>{const{blockContent:t,phrasingContent:o,flowContent:a}=Zu(e),l=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(o),flowContent:l(a)})},$r={html4:kl(()=>vi("html4")),html5:kl(()=>vi("html5")),"html5-strict":kl(()=>vi("html5-strict"))},Ub=(e,t)=>{const{blockContent:o,phrasingContent:a,flowContent:l}=$r[e]();return t==="blocks"?Q.some(o):t==="phrasing"?Q.some(a):t==="flow"?Q.some(l):Q.none()},hC=e=>{const t=hl(e),{phrasingContent:o,flowContent:a}=Zu(e),l={},m=(A,$,q)=>{l[A]={attributes:Us($,ct({})),attributesOrder:$,children:Us(q,ct({}))}},p=(A,$="",q="")=>{const Y=oi(q),ee=oi(A);let me=ee.length;const we=[...t,...oi($)];for(;me--;)m(ee[me],we.slice(),Y)},_=(A,$)=>{const q=oi(A),Y=oi($);let ee=q.length;for(;ee--;){const me=l[q[ee]];for(let we=0,ge=Y.length;we<ge;we++)me.attributes[Y[we]]={},me.attributesOrder.push(Y[we])}};return e!=="html5-strict"&&(pe(oi("acronym applet basefont big font strike tt"),q=>{p(q,"",o)}),pe(oi("center dir isindex noframes"),q=>{p(q,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&pe([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),pe(oi("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},jk=e=>e==="-"?"remove":"add",es=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Q.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},q0=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return _o(oi(e,","),o=>{const a=t.exec(o);if(a){const l=a[1],m=l?jk(l):"replace",p=a[2],_=_o(oi(a[3],"|"),A=>es(A).toArray());return[{operation:m,name:p,validChildren:_}]}else return[]})},fx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:l,attributesOrder:m}=t;return pe(oi(e,"|"),p=>{const _=o.exec(p);if(_){const A={},$=_[1],q=_[2].replace(/[\\:]:/g,":"),Y=_[3],ee=_[4];if($==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(q),A.required=!0),$==="-"){delete l[q],m.splice(Yt.inArray(m,q),1);return}if(Y&&(Y==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:q,value:ee}),A.defaultValue=ee):Y==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:q,value:ee}),A.forcedValue=ee):Y==="<"&&(A.validValues=Yt.makeMap(ee,"?"))),a.test(q)){const me=A;t.attributePatterns=t.attributePatterns||[],me.pattern=Wg(q),t.attributePatterns.push(me)}else l[q]||m.push(q),l[q]=A}})},Dm=(e,t)=>{Xo(e.attributes,(o,a)=>{t.attributes[a]=o}),t.attributesOrder.push(...e.attributesOrder)},Tc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return _o(oi(t,","),a=>{const l=o.exec(a);if(l){const m=l[1],p=l[2],_=l[3],A=l[4],$=l[5],q={attributes:{},attributesOrder:[]};if(e.each(Y=>Dm(Y,q)),m==="#"?q.paddEmpty=!0:m==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),$&&fx($,q),_&&(q.outputName=p),p==="@")if(e.isNone())e=Q.some(q);else return[];return[_?{name:p,element:q,aliasName:_}:{name:p,element:q}]}else return[]})},np={},pn=Yt.makeMap,iu=Yt.each,mx=Yt.extend,G0=Yt.explode,op=(e,t={})=>{const o=pn(e," ",pn(e.toUpperCase()," "));return mx(o,t)},Y0=e=>op("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),jg=(e,t)=>{if(e){const o={};return fe(e)&&(e={"*":e}),iu(e,(a,l)=>{o[l]=o[l.toUpperCase()]=t==="map"?pn(a,/[, ]/):G0(a,/[, ]/)}),o}else return},Oc=(e={})=>{var t;const o={},a={};let l=[];const m={},p={},_=(Pn,er,$s)=>{const ua=e[Pn];if(ua)return pn(ua,/[, ]/,pn(ua.toUpperCase(),/[, ]/));{let Wa=np[Pn];return Wa||(Wa=op(er,$s),np[Pn]=Wa),Wa}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",$=hC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=jg(e.valid_styles),Y=jg(e.invalid_styles,"map"),ee=jg(e.valid_classes,"map"),me=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ee=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ze="td th iframe video audio object script code",et=_("non_empty_elements",Ze+" pre svg textarea summary",ge),Xe=_("move_caret_before_on_enter_elements",Ze+" table",ge),ft="h1 h2 h3 h4 h5 h6",Bt=_("text_block_elements",ft+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),qt=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Bt),mn=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),_t=_("transparent_elements","a ins del canvas map"),pt=_("wrap_block_elements","pre "+ft);iu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Pn=>{p[Pn]=new RegExp("</"+Pn+"[^>]*>","gi")});const It=Pn=>{const er=Q.from(o["@"]),$s=/[*?+]/;pe(Tc(er,Pn??""),({name:ua,element:Wa,aliasName:sl})=>{if(sl&&(o[sl]=Wa),$s.test(ua)){const Oa=Wa;Oa.pattern=Wg(ua),l.push(Oa)}else o[ua]=Wa})},wn=Pn=>{l=[],pe(Zt(o),er=>{delete o[er]}),It(Pn)},Rn=(Pn,er)=>{var $s,ua;delete np.text_block_elements,delete np.block_elements;const Wa=er.extends?!cd(er.extends):!1,sl=er.extends;if(a[Pn]=sl?a[sl]:{},m[Pn]=sl??Pn,et[Pn.toUpperCase()]={},et[Pn]={},Wa||(qt[Pn.toUpperCase()]={},qt[Pn]={}),sl&&!o[Pn]&&o[sl]){const Oa=K0(o[sl]);delete Oa.removeEmptyAttrs,delete Oa.removeEmpty,o[Pn]=Oa}else o[Pn]={attributesOrder:[],attributes:{}};if(oe(er.attributes)){const Oa=cc=>{Da.attributesOrder.push(cc),Da.attributes[cc]={}},Da=($s=o[Pn])!==null&&$s!==void 0?$s:{};delete Da.attributesDefault,delete Da.attributesForced,delete Da.attributePatterns,delete Da.attributesRequired,Da.attributesOrder=[],Da.attributes={},pe(er.attributes,cc=>{const mg=hl(A);es(cc).each(({preset:gg,name:hg})=>{gg?hg==="global"&&pe(mg,Oa):Oa(hg)})}),o[Pn]=Da}if(He(er.padEmpty)){const Oa=(ua=o[Pn])!==null&&ua!==void 0?ua:{};Oa.paddEmpty=er.padEmpty,o[Pn]=Oa}if(oe(er.children)){const Oa={},Da=mg=>{Oa[mg]={}},cc=mg=>{Ub(A,mg).each(gg=>{pe(gg,Da)})};pe(er.children,mg=>{es(mg).each(({preset:gg,name:hg})=>{gg?cc(hg):Da(hg)})}),a[Pn]=Oa}sl&&Xo(a,(Oa,Da)=>{Oa[sl]&&(a[Da]=Oa=mx({},a[Da]),Oa[Pn]=Oa[sl])})},So=Pn=>{pe(Uo(Pn??""),({name:er,cloneName:$s})=>{Rn(er,{extends:$s})})},No=Pn=>{j(Pn)?Xo(Pn,(er,$s)=>Rn($s,er)):fe(Pn)&&So(Pn)},_r=Pn=>{pe(q0(Pn??""),({operation:er,name:$s,validChildren:ua})=>{const Wa=er==="replace"?{"#comment":{}}:a[$s],sl=Da=>{er==="remove"?delete Wa[Da]:Wa[Da]={}},Oa=Da=>{Ub(A,Da).each(cc=>{pe(cc,sl)})};pe(ua,({preset:Da,name:cc})=>{Da?Oa(cc):sl(cc)}),a[$s]=Wa})},Lr=Pn=>{const er=o[Pn];if(er)return er;let $s=l.length;for(;$s--;){const ua=l[$s];if(ua.pattern.test(Pn))return ua}},na=()=>{e.valid_elements?(wn(e.valid_elements),iu($,(Pn,er)=>{a[er]=Pn.children})):(iu($,(Pn,er)=>{o[er]={attributes:Pn.attributes,attributesOrder:Pn.attributesOrder},a[er]=Pn.children}),iu(oi("strong/b em/i"),Pn=>{const er=oi(Pn,"/");o[er[1]].outputName=er[0]}),iu(mn,(Pn,er)=>{o[er]&&(e.padd_empty_block_inline_children&&(o[er].paddInEmptyBlock=!0),o[er].removeEmpty=!0)}),iu(oi("ol ul blockquote a table tbody"),Pn=>{o[Pn]&&(o[Pn].removeEmpty=!0)}),iu(oi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Pn=>{o[Pn]&&(o[Pn].paddEmpty=!0)}),iu(oi("span"),Pn=>{o[Pn].removeEmptyAttrs=!0})),delete o.svg,No(e.custom_elements),_r(e.valid_children),It(e.extended_valid_elements),_r("+ol[ul|ol],+ul[ul|ol]"),iu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Pn,er)=>{o[er]&&(o[er].parentsRequired=oi(Pn))}),e.invalid_elements&&iu(G0(e.invalid_elements),Pn=>{o[Pn]&&delete o[Pn]}),Lr("span")||It("span[!data-mce-type|*]")},_l=ct(q),Vr=ct(Y),en=ct(ee),On=ct(Ee),lr=ct(qt),an=ct(Bt),Hn=ct(mn),Oo=ct(Object.seal(ge)),fn=ct(we),ko=ct(et),Po=ct(Xe),Ci=ct(me),Nr=ct(_t),ui=ct(pt),em=ct(Object.seal(p)),Dh=(Pn,er)=>{const $s=a[Pn.toLowerCase()];return!!($s&&$s[er.toLowerCase()])},lc=(Pn,er)=>{const $s=Lr(Pn);if($s)if(er){if($s.attributes[er])return!0;const ua=$s.attributePatterns;if(ua){let Wa=ua.length;for(;Wa--;)if(ua[Wa].pattern.test(er))return!0}}else return!0;return!1},cd=Pn=>oo(lr(),Pn),tm=Pn=>!Jr(Pn,"#")&&lc(Pn)&&!cd(Pn),ud=Pn=>oo(ui(),Pn)||tm(Pn),nm=ct(m);return na(),{type:A,children:a,elements:o,getValidStyles:_l,getValidClasses:en,getBlockElements:lr,getInvalidStyles:Vr,getVoidElements:Oo,getTextBlockElements:an,getTextInlineElements:Hn,getBoolAttrs:On,getElementRule:Lr,getSelfClosingElements:fn,getNonEmptyElements:ko,getMoveCaretBeforeOnEnterElements:Po,getWhitespaceElements:Ci,getTransparentElements:Nr,getSpecialElements:em,isValidChild:Dh,isValid:lc,isBlock:cd,isInline:tm,isWrapper:ud,getCustomElements:nm,addValidElements:It,setValidElements:wn,addCustomElements:No,addValidChildren:_r}},Kk=e=>({value:X0(e)}),X0=e=>qc(e,"#").toUpperCase(),gx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},J0=e=>{const t=gx(e.red)+gx(e.green)+gx(e.blue);return Kk(t)},hx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,px=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Q0=(e,t,o,a)=>({red:e,green:t,blue:o,alpha:a}),bx=(e,t,o,a)=>{const l=parseInt(e,10),m=parseInt(t,10),p=parseInt(o,10),_=parseFloat(a);return Q0(l,m,p,_)},vx=e=>hx.test(e)?"rgb":px.test(e)?"rgba":"other",pC=e=>{const t=hx.exec(e);if(t!==null)return Q.some(bx(t[1],t[2],t[3],"1"));const o=px.exec(e);return o!==null?Q.some(bx(o[1],o[2],o[3],o[4])):Q.none()},qk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Wb=e=>pC(e).map(J0).map(t=>"#"+t.value).getOr(e),yx=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,m={};let p,_;const A=ys;t&&(p=t.getValidStyles(),_=t.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Y=0;Y<$.length;Y++)m[$[Y]]=A+Y,m[A+Y]=$[Y];const q={parse:Y=>{const ee={};let me=!1;const we=e.url_converter,ge=e.url_converter_scope||q,Ee=(_t,pt,It)=>{const wn=ee[_t+"-top"+pt];if(!wn)return;const Rn=ee[_t+"-right"+pt];if(!Rn)return;const So=ee[_t+"-bottom"+pt];if(!So)return;const No=ee[_t+"-left"+pt];if(!No)return;const _r=[wn,Rn,So,No];let Lr=_r.length-1;for(;Lr--&&_r[Lr]===_r[Lr+1];);Lr>-1&&It||(ee[_t+pt]=Lr===-1?_r[0]:_r.join(" "),delete ee[_t+"-top"+pt],delete ee[_t+"-right"+pt],delete ee[_t+"-bottom"+pt],delete ee[_t+"-left"+pt])},Ze=_t=>{const pt=ee[_t];if(!pt)return;const It=pt.indexOf(",")>-1?[pt]:pt.split(" ");let wn=It.length;for(;wn--;)if(It[wn]!==It[0])return!1;return ee[_t]=It[0],!0},et=(_t,pt,It,wn)=>{Ze(pt)&&Ze(It)&&Ze(wn)&&(ee[_t]=ee[pt]+" "+ee[It]+" "+ee[wn],delete ee[pt],delete ee[It],delete ee[wn])},Xe=_t=>(me=!0,m[_t]),ft=(_t,pt)=>(me&&(_t=_t.replace(/\uFEFF[0-9]/g,It=>m[It])),pt||(_t=_t.replace(/\\([\'\";:])/g,"$1")),_t),Bt=_t=>String.fromCharCode(parseInt(_t.slice(1),16)),qt=_t=>_t.replace(/\\[0-9a-f]+/gi,Bt),mn=(_t,pt,It,wn,Rn,So)=>{if(Rn=Rn||So,Rn)return Rn=ft(Rn),"'"+Rn.replace(/\'/g,"\\'")+"'";if(pt=ft(pt||It||wn||""),!e.allow_script_urls){const No=pt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(No)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(No))return""}return we&&(pt=we.call(ge,pt,"style")),"url('"+pt.replace(/\'/g,"\\'")+"')"};if(Y){Y=Y.replace(/[\u0000-\u001F]/g,""),Y=Y.replace(/\\[\"\';:\uFEFF]/g,Xe).replace(/\"[^\"]+\"|\'[^\']+\'/g,pt=>pt.replace(/[;:]/g,Xe));let _t;for(;_t=a.exec(Y);){a.lastIndex=_t.index+_t[0].length;let pt=_t[1].replace(l,"").toLowerCase(),It=_t[2].replace(l,"");if(pt&&It){if(pt=qt(pt),It=qt(It),pt.indexOf(A)!==-1||pt.indexOf('"')!==-1||!e.allow_script_urls&&(pt==="behavior"||/expression\s*\(|\/\*|\*\//.test(It)))continue;pt==="font-weight"&&It==="700"?It="bold":(pt==="color"||pt==="background-color")&&(It=It.toLowerCase()),vx(It)==="rgb"&&pC(It).each(wn=>{It=Wb(qk(wn)).toLowerCase()}),It=It.replace(o,mn),ee[pt]=me?ft(It,!0):It}}Ee("border","",!0),Ee("border","-width"),Ee("border","-color"),Ee("border","-style"),Ee("padding",""),Ee("margin",""),et("border","border-width","border-style","border-color"),ee.border==="medium none"&&delete ee.border,ee["border-image"]==="none"&&delete ee["border-image"]}return ee},serialize:(Y,ee)=>{let me="";const we=(Ee,Ze)=>{const et=Ze[Ee];if(et)for(let Xe=0,ft=et.length;Xe<ft;Xe++){const Bt=et[Xe],qt=Y[Bt];qt&&(me+=(me.length>0?" ":"")+Bt+": "+qt+";")}},ge=(Ee,Ze)=>{if(!_||!Ze)return!0;let et=_["*"];return et&&et[Ee]?!1:(et=_[Ze],!(et&&et[Ee]))};return ee&&p?(we("*",p),we(ee,p)):Xo(Y,(Ee,Ze)=>{Ee&&ge(Ze,ee)&&(me+=(me.length>0?" ":"")+Ze+": "+Ee+";")}),me}};return q},Kg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Gk=e=>e instanceof Event||Be(e.initEvent),Yk=e=>e.isDefaultPrevented===gn||e.isDefaultPrevented===Xn,Of=e=>st(e.preventDefault)||Gk(e),Rm=(e,t)=>{const o=t??{};for(const a in e)oo(Kg,a)||(o[a]=e[a]);return Oe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Oe(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),Oe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},e1=(e,t,o,a)=>{var l;const m=Rm(t,a);return m.type=e,st(m.target)&&(m.target=(l=m.srcElement)!==null&&l!==void 0?l:o),Of(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=gn,Be(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=gn,Be(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=gn,m.stopPropagation()},Yk(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?gn:Xn,m.isPropagationStopped=m.cancelBubble===!0?gn:Xn,m.isImmediatePropagationStopped=Xn)),m},bC="mce-data-",xx=/^(?:mouse|contextmenu)|click/,Zb=(e,t,o,a)=>{e.addEventListener(t,o,a||!1)},Ld=(e,t,o,a)=>{e.removeEventListener(t,o,a||!1)},t1=e=>Oe(e)&&xx.test(e.type),la=(e,t)=>{const o=e1(e.type,e,document,t);if(t1(e)&&je(e.pageX)&&!je(e.clientX)){const a=o.target.ownerDocument||document,l=a.documentElement,m=a.body,p=o;p.pageX=e.clientX+(l&&l.scrollLeft||m&&m.scrollLeft||0)-(l&&l.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||m&&m.scrollTop||0)-(l&&l.clientTop||m&&m.clientTop||0)}return o},As=(e,t,o)=>{const a=e.document,l={type:"ready"};if(o.domLoaded){t(l);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{Ld(e,"DOMContentLoaded",p),Ld(e,"load",p),o.domLoaded||(o.domLoaded=!0,t(l)),e=null};m()?p():Zb(e,"DOMContentLoaded",p),o.domLoaded||Zb(e,"load",p)};class Df{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=bC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,a,l){const m=this;let p;const _=window,A=ee=>{m.executeHandlers(la(ee||_.event),$)};if(!t||Ht(t)||wo(t))return a;let $;t[m.expando]?$=t[m.expando]:($=m.count++,t[m.expando]=$,m.events[$]={}),l=l||t;const q=o.split(" ");let Y=q.length;for(;Y--;){let ee=q[Y],me=A,we=!1,ge=!1;if(ee==="DOMContentLoaded"&&(ee="ready"),m.domLoaded&&ee==="ready"&&t.readyState==="complete"){a.call(l,la({type:ee}));continue}!m.hasFocusIn&&(ee==="focusin"||ee==="focusout")&&(we=!0,ge=ee==="focusin"?"focus":"blur",me=Ee=>{const Ze=la(Ee||_.event);Ze.type=Ze.type==="focus"?"focusin":"focusout",m.executeHandlers(Ze,$)}),p=m.events[$][ee],p?ee==="ready"&&m.domLoaded?a(la({type:ee})):p.push({func:a,scope:l}):(m.events[$][ee]=p=[{func:a,scope:l}],p.fakeName=ge,p.capture=we,p.nativeHandler=me,ee==="ready"?As(t,me,m):Zb(t,ge||ee,me,we))}return t=p=null,a}unbind(t,o,a){if(!t||Ht(t)||wo(t))return this;const l=t[this.expando];if(l){let m=this.events[l];if(o){const p=o.split(" ");let _=p.length;for(;_--;){const A=p[_],$=m[A];if($){if(a){let q=$.length;for(;q--;)if($[q].func===a){const Y=$.nativeHandler,ee=$.fakeName,me=$.capture,we=$.slice(0,q).concat($.slice(q+1));we.nativeHandler=Y,we.fakeName=ee,we.capture=me,m[A]=we}}(!a||$.length===0)&&(delete m[A],Ld(t,$.fakeName||A,$.nativeHandler,$.capture))}}}else Xo(m,(p,_)=>{Ld(t,p.fakeName||_,p.nativeHandler,p.capture)}),m={};for(const p in m)if(oo(m,p))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,a){return this.dispatch(t,o,a)}dispatch(t,o,a){if(!t||Ht(t)||wo(t))return this;const l=la({type:o,target:t},a);do{const m=t[this.expando];m&&this.executeHandlers(l,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Ht(t)||wo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let a=o.length;for(;a--;)t=o[a],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const a=this.events[o],l=a&&a[t.type];if(l)for(let m=0,p=l.length;m<p;m++){const _=l[m];if(_&&_.func.call(_.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Df.Event=new Df;const wx=Yt.each,n1=Yt.grep,Ha="data-mce-style",Qi=Yt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qg=(e,t,o)=>{st(o)||o===""?Co(e,t):fa(e,t,o)},Rf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Nm=(e,t)=>{let o=0;if(e)for(let a=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const m=l.nodeType;t&&Ht(l)&&(m===a||!l.data.length)||(o++,a=m)}return o},o1=(e,t)=>{const o=pi(t,"style"),a=e.serialize(e.parse(o),zo(t));qg(t,Ha,a)},vC=(e,t)=>P(e)?oo(Qi,t)?e+"":e+"px":e,Cx=(e,t,o)=>{const a=Rf(t);st(o)||o===""?nu(e,a):Xi(e,a,vC(o,a))},Im=(e,t,o)=>{const a=t.keep_values,l={set:(p,_,A)=>{const $=$e.fromDom(p);Be(t.url_converter)&&Oe(_)&&(_=t.url_converter.call(t.url_converter_scope||o(),String(_),A,p));const q="data-mce-"+A;qg($,q,_),qg($,A,_)},get:(p,_)=>{const A=$e.fromDom(p);return pi(A,"data-mce-"+_)||pi(A,_)}},m={style:{set:(p,_)=>{const A=$e.fromDom(p);a&&qg(A,Ha,_),Co(A,"style"),fe(_)&&Bo(A,e.parse(_))},get:p=>{const _=$e.fromDom(p),A=pi(_,Ha)||pi(_,"style");return e.serialize(e.parse(A),zo(_))}}};return a&&(m.href=m.src=l),m},Hr=(e,t={})=>{const o={},a=window,l={};let m=0;const p=!0,_=!0,A=Z0.forElement($e.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),$=[],q=t.schema?t.schema:Oc({}),Y=yx({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),ee=t.ownEvents?new Df:Df.Event,me=q.getBlockElements(),we=ht=>fe(ht)?oo(me,ht):Sn(ht)&&(oo(me,ht.nodeName)||Af(q,ht)),ge=ht=>ht&&e&&fe(ht)?e.getElementById(ht):ht,Ee=ht=>{const bt=ge(ht);return Oe(bt)?$e.fromDom(bt):null},Ze=(ht,bt,Jt="")=>{let Kt;const Yn=Ee(ht);if(Oe(Yn)&&Ds(Yn)){const Zo=cO[bt];Zo&&Zo.get?Kt=Zo.get(Yn.dom,bt):Kt=pi(Yn,bt)}return Oe(Kt)?Kt:Jt},et=ht=>{const bt=ge(ht);return st(bt)?[]:bt.attributes},Xe=(ht,bt,Jt)=>{On(ht,Kt=>{if(Sn(Kt)){const Yn=$e.fromDom(Kt),Zo=Jt===""?null:Jt,Hs=pi(Yn,bt),pg=cO[bt];pg&&pg.set?pg.set(Yn.dom,Zo,bt):qg(Yn,bt,Zo),Hs!==Zo&&t.onSetAttrib&&t.onSetAttrib({attrElm:Yn.dom,attrName:bt,attrValue:Zo})}})},ft=(ht,bt)=>ht.cloneNode(bt),Bt=()=>t.root_element||e.body,qt=ht=>{const bt=Cc(ht);return{x:bt.x,y:bt.y,w:bt.width,h:bt.height}},mn=(ht,bt)=>rx(e.body,ge(ht),bt),_t=(ht,bt,Jt)=>{On(ht,Kt=>{const Yn=$e.fromDom(Kt);Cx(Yn,bt,Jt),t.update_styles&&o1(Y,Yn)})},pt=(ht,bt)=>{On(ht,Jt=>{const Kt=$e.fromDom(Jt);Xo(bt,(Yn,Zo)=>{Cx(Kt,Zo,Yn)}),t.update_styles&&o1(Y,Kt)})},It=(ht,bt,Jt)=>{const Kt=ge(ht);if(!(st(Kt)||!ru(Kt)&&!Rb(Kt)))return Jt?Rs($e.fromDom(Kt),Rf(bt)):(bt=bt.replace(/-(\D)/g,(Yn,Zo)=>Zo.toUpperCase()),bt==="float"&&(bt="cssFloat"),Kt.style?Kt.style[bt]:void 0)},wn=ht=>{const bt=ge(ht);if(!bt)return{w:0,h:0};let Jt=It(bt,"width"),Kt=It(bt,"height");return(!Jt||Jt.indexOf("px")===-1)&&(Jt="0"),(!Kt||Kt.indexOf("px")===-1)&&(Kt="0"),{w:parseInt(Jt,10)||bt.offsetWidth||bt.clientWidth,h:parseInt(Kt,10)||bt.offsetHeight||bt.clientHeight}},Rn=ht=>{const bt=ge(ht),Jt=mn(bt),Kt=wn(bt);return{x:Jt.x,y:Jt.y,w:Kt.w,h:Kt.h}},So=(ht,bt)=>{if(!ht)return!1;const Jt=oe(ht)?ht:[ht];return Ae(Jt,Kt=>Ar($e.fromDom(Kt),bt))},No=(ht,bt,Jt,Kt)=>{const Yn=[];let Zo=ge(ht);Kt=Kt===void 0;const Hs=Jt||(Bt().nodeName!=="BODY"?Bt().parentNode:null);if(fe(bt))if(bt==="*")bt=Sn;else{const pg=bt;bt=ZL=>So(ZL,pg)}for(;Zo&&!(Zo===Hs||st(Zo.nodeType)||En(Zo)||kf(Zo));){if(!bt||bt(Zo))if(Kt)Yn.push(Zo);else return[Zo];Zo=Zo.parentNode}return Kt?Yn:null},_r=(ht,bt,Jt)=>{const Kt=No(ht,bt,Jt,!1);return Kt&&Kt.length>0?Kt[0]:null},Lr=(ht,bt,Jt)=>{let Kt=bt;if(ht){fe(bt)&&(Kt=Yn=>So(Yn,bt));for(let Yn=ht[Jt];Yn;Yn=Yn[Jt])if(Be(Kt)&&Kt(Yn))return Yn}return null},na=(ht,bt)=>Lr(ht,bt,"nextSibling"),_l=(ht,bt)=>Lr(ht,bt,"previousSibling"),Vr=ht=>Be(ht.querySelectorAll),en=(ht,bt)=>{var Jt,Kt;const Yn=(Kt=(Jt=ge(bt))!==null&&Jt!==void 0?Jt:t.root_element)!==null&&Kt!==void 0?Kt:e;return Vr(Yn)?bo(Yn.querySelectorAll(ht)):[]},On=function(ht,bt,Jt){const Kt=Jt??this;if(oe(ht)){const Yn=[];return wx(ht,(Zo,Hs)=>{const pg=ge(Zo);pg&&Yn.push(bt.call(Kt,pg,Hs))}),Yn}else{const Yn=ge(ht);return Yn?bt.call(Kt,Yn):!1}},lr=(ht,bt)=>{On(ht,Jt=>{Xo(bt,(Kt,Yn)=>{Xe(Jt,Yn,Kt)})})},an=(ht,bt)=>{On(ht,Jt=>{const Kt=$e.fromDom(Jt);Cm(Kt,bt)})},Hn=(ht,bt,Jt,Kt,Yn)=>On(ht,Zo=>{const Hs=fe(bt)?e.createElement(bt):bt;return Oe(Jt)&&lr(Hs,Jt),Kt&&(!fe(Kt)&&Kt.nodeType?Hs.appendChild(Kt):fe(Kt)&&an(Hs,Kt)),Yn?Hs:Zo.appendChild(Hs)}),Oo=(ht,bt,Jt)=>Hn(e.createElement(ht),ht,bt,Jt,!0),fn=Ug.decode,ko=Ug.encodeAllRaw,Po=(ht,bt,Jt="")=>{let Kt="<"+ht;for(const Yn in bt)Pl(bt,Yn)&&(Kt+=" "+Yn+'="'+ko(bt[Yn])+'"');return zt(Jt)&&oo(q.getVoidElements(),ht)?Kt+" />":Kt+">"+Jt+"</"+ht+">"},Ci=ht=>{const bt=e.createElement("div"),Jt=e.createDocumentFragment();Jt.appendChild(bt),ht&&(bt.innerHTML=ht);let Kt;for(;Kt=bt.firstChild;)Jt.appendChild(Kt);return Jt.removeChild(bt),Jt},Nr=(ht,bt)=>On(ht,Jt=>{const Kt=$e.fromDom(Jt);return bt&&pe(ei(Kt),Yn=>{Qr(Yn)&&Yn.dom.length===0?Cr(Yn):vs(Kt,Yn)}),Cr(Kt),Kt.dom}),ui=ht=>On(ht,bt=>{const Jt=bt.attributes;for(let Kt=Jt.length-1;Kt>=0;Kt--)bt.removeAttributeNode(Jt.item(Kt))}),em=ht=>Y.parse(ht),Dh=(ht,bt)=>Y.serialize(ht,bt),lc=ht=>{if(qp!==Hr.DOM&&e===document){if(o[ht])return;o[ht]=!0}let bt=e.getElementById("mceDefaultStyles");if(!bt){bt=e.createElement("style"),bt.id="mceDefaultStyles",bt.type="text/css";const Jt=e.head;Jt.firstChild?Jt.insertBefore(bt,Jt.firstChild):Jt.appendChild(bt)}bt.styleSheet?bt.styleSheet.cssText+=ht:bt.appendChild(e.createTextNode(ht))},cd=ht=>{ht||(ht=""),pe(ht.split(","),bt=>{l[bt]=!0,A.load(bt).catch(Mt)})},tm=(ht,bt,Jt)=>{On(ht,Kt=>{if(Sn(Kt)){const Yn=$e.fromDom(Kt),Zo=bt.split(" ");pe(Zo,Hs=>{Oe(Jt)?(Jt?Ed:Ti)(Yn,Hs):Uh(Yn,Hs)})}})},ud=(ht,bt)=>{tm(ht,bt,!0)},nm=(ht,bt)=>{tm(ht,bt,!1)},Pn=(ht,bt)=>{const Jt=Ee(ht),Kt=bt.split(" ");return Oe(Jt)&&yo(Kt,Yn=>Ad(Jt,Yn))},er=ht=>{On(ht,bt=>nu($e.fromDom(bt),"display"))},$s=ht=>{On(ht,bt=>Xi($e.fromDom(bt),"display","none"))},ua=ht=>{const bt=Ee(ht);return Oe(bt)&&uf(Es(bt,"display"),"none")},Wa=ht=>(ht||"mce_")+m++,sl=ht=>{const bt=Ee(ht);return Oe(bt)?Sn(bt.dom)?bt.dom.outerHTML:Bg(bt):""},Oa=(ht,bt)=>{On(ht,Jt=>{Sn(Jt)&&(Jt.outerHTML=bt)})},Da=(ht,bt)=>{const Jt=ge(bt);return On(ht,Kt=>{const Yn=Jt==null?void 0:Jt.parentNode,Zo=Jt==null?void 0:Jt.nextSibling;return Yn&&(Zo?Yn.insertBefore(Kt,Zo):Yn.appendChild(Kt)),Kt})},cc=(ht,bt,Jt)=>On(bt,Kt=>{var Yn;const Zo=oe(bt)?ht.cloneNode(!0):ht;return Jt&&wx(n1(Kt.childNodes),Hs=>{Zo.appendChild(Hs)}),(Yn=Kt.parentNode)===null||Yn===void 0||Yn.replaceChild(Zo,Kt),Kt}),mg=(ht,bt)=>{if(ht.nodeName!==bt.toUpperCase()){const Jt=Oo(bt);return wx(et(ht),Kt=>{Xe(Jt,Kt.nodeName,Ze(ht,Kt.nodeName))}),cc(Jt,ht,!0),Jt}else return ht},gg=(ht,bt)=>{let Jt=ht;for(;Jt;){let Kt=bt;for(;Kt&&Jt!==Kt;)Kt=Kt.parentNode;if(Jt===Kt)break;Jt=Jt.parentNode}return!Jt&&ht.ownerDocument?ht.ownerDocument.documentElement:Jt},hg=(ht,bt,Jt)=>de(bt)?Jl(q,ht,{...Jt,isContent:Yn=>{const Zo=Yn.nodeName.toLowerCase();return!!bt[Zo]}}):Jl(q,ht,Jt),om=()=>e.createRange(),Cy=(ht,bt,Jt)=>{let Kt=om(),Yn,Zo;if(ht&&bt&&ht.parentNode&&bt.parentNode){const Hs=ht.parentNode;return Kt.setStart(Hs,Nm(ht)),Kt.setEnd(bt.parentNode,Nm(bt)),Yn=Kt.extractContents(),Kt=om(),Kt.setStart(bt.parentNode,Nm(bt)+1),Kt.setEnd(Hs,Nm(ht)+1),Zo=Kt.extractContents(),Hs.insertBefore(ep(qp,Yn,q),ht),Jt?Hs.insertBefore(Jt,ht):Hs.insertBefore(bt,ht),Hs.insertBefore(ep(qp,Zo,q),ht),Nr(ht),Jt||bt}else return},uk=(ht,bt,Jt,Kt)=>{if(oe(ht)){let Yn=ht.length;const Zo=[];for(;Yn--;)Zo[Yn]=uk(ht[Yn],bt,Jt,Kt);return Zo}else return t.collect&&(ht===e||ht===a)&&$.push([ht,bt,Jt,Kt]),ee.bind(ht,bt,Jt,Kt||qp)},dk=(ht,bt,Jt)=>{if(oe(ht)){let Kt=ht.length;const Yn=[];for(;Kt--;)Yn[Kt]=dk(ht[Kt],bt,Jt);return Yn}else{if($.length>0&&(ht===e||ht===a)){let Kt=$.length;for(;Kt--;){const[Yn,Zo,Hs]=$[Kt];ht===Yn&&(!bt||bt===Zo)&&(!Jt||Jt===Hs)&&ee.unbind(Yn,Zo,Hs)}}return ee.unbind(ht,bt,Jt)}},H9=(ht,bt,Jt)=>ee.dispatch(ht,bt,Jt),l0=(ht,bt,Jt)=>ee.dispatch(ht,bt,Jt),WL=ht=>{if(ht&&ru(ht)){const bt=ht.getAttribute("data-mce-contenteditable");return bt&&bt!=="inherit"?bt:ht.contentEditable!=="inherit"?ht.contentEditable:null}else return null},qp={doc:e,settings:t,win:a,files:l,stdMode:p,boxModel:_,styleSheetLoader:A,boundEvents:$,styles:Y,schema:q,events:ee,isBlock:we,root:null,clone:ft,getRoot:Bt,getViewPort:qt,getRect:Rn,getSize:wn,getParent:_r,getParents:No,get:ge,getNext:na,getPrev:_l,select:en,is:So,add:Hn,create:Oo,createHTML:Po,createFragment:Ci,remove:Nr,setStyle:_t,getStyle:It,setStyles:pt,removeAllAttribs:ui,setAttrib:Xe,setAttribs:lr,getAttrib:Ze,getPos:mn,parseStyle:em,serializeStyle:Dh,addStyle:lc,loadCSS:cd,addClass:ud,removeClass:nm,hasClass:Pn,toggleClass:tm,show:er,hide:$s,isHidden:ua,uniqueId:Wa,setHTML:an,getOuterHTML:sl,setOuterHTML:Oa,decode:fn,encode:ko,insertAfter:Da,replace:cc,rename:mg,findCommonAncestor:gg,run:On,getAttribs:et,isEmpty:hg,createRng:om,nodeIndex:Nm,split:Cy,bind:uk,unbind:dk,fire:l0,dispatch:H9,getContentEditable:WL,getContentEditableParent:ht=>{const bt=Bt();let Jt=null;for(let Kt=ht;Kt&&Kt!==bt&&(Jt=WL(Kt),Jt===null);Kt=Kt.parentNode);return Jt},isEditable:ht=>{if(Oe(ht)){const bt=Sn(ht)?ht:ht.parentElement;return Oe(bt)&&ru(bt)&&ds($e.fromDom(bt))}else return!1},destroy:()=>{if($.length>0){let ht=$.length;for(;ht--;){const[bt,Jt,Kt]=$[ht];ee.unbind(bt,Jt,Kt)}}Xo(l,(ht,bt)=>{A.unload(bt),delete l[bt]})},isChildOf:(ht,bt)=>ht===bt||bt.contains(ht),dumpRng:ht=>"startContainer: "+ht.startContainer.nodeName+", startOffset: "+ht.startOffset+", endContainer: "+ht.endContainer.nodeName+", endOffset: "+ht.endOffset},cO=Im(Y,t,ct(qp));return qp};Hr.DOM=Hr(document),Hr.nodeIndex=Nm;const r1=Hr.DOM,ts=0,ju=1,lu=2,Gg=3;class pl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,a)=>{const l=r1;let m;const p=()=>{l.remove($),m&&(m.onerror=m.onload=m=null)},_=()=>{p(),o()},A=()=>{p(),a("Failed to load script: "+t)},$=l.uniqueId();m=document.createElement("script"),m.id=$,m.type="text/javascript",m.src=Yt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=_,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===lu}markDone(t){this.states[t]=lu}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=ts),new Promise((l,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:l,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,a=(A,$)=>{wr(o.scriptLoadedCallbacks,$).each(q=>{pe(q,Y=>Y[A]($))}),delete o.scriptLoadedCallbacks[$]},l=A=>{const $=We(A,q=>q.status==="rejected");return $.length>0?Promise.reject(_o($,({reason:q})=>oe(q)?q:[q])):Promise.resolve()},m=A=>Promise.allSettled(Fe(A,$=>o.states[$]===lu?(a("resolve",$),Promise.resolve()):o.states[$]===Gg?(a("reject",$),Promise.reject($)):(o.states[$]=ju,o.loadScript($).then(()=>{o.states[$]=lu,a("resolve",$);const q=o.queue;return q.length>0?(o.queue=[],m(q).then(l)):Promise.resolve()},()=>(o.states[$]=Gg,a("reject",$),Promise.reject($)))))),p=A=>(o.loading=!0,m(A).then($=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return Q.from(q).each(jn),l($)})),_=Ru(t);return o.loading?new Promise((A,$)=>{o.queueLoadedCallbacks.push(()=>{p(_).then(A,$)})}):p(_)}}pl.ScriptLoader=new pl;const ri=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Pm=e=>j(e)&&oo(e,"raw"),jb=e=>oe(e)&&e.length>1,Yg={},Kb=_a("en"),Xg=()=>wr(Yg,Kb.get()),Dc={getData:()=>Il(Yg,e=>({...e})),setCode:e=>{e&&Kb.set(e)},getCode:()=>Kb.get(),add:(e,t)=>{let o=Yg[e];o||(Yg[e]=o={});const a=Fe(Zt(t),l=>l.toLowerCase());Xo(t,(l,m)=>{const p=m.toLowerCase();p!==m&&ri(a,p)?(oo(t,p)||(o[p]=l),o[m]=l):o[p]=l})},translate:e=>{const t=Xg().getOr({}),o=p=>Be(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,l=p=>{const _=o(p);return oo(t,_)?o(t[_]):wr(t,_.toLowerCase()).map(o).getOr(_)},m=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(Pm(e))return o(e.raw);if(jb(e)){const p=e.slice(1),_=l(e[0]).replace(/\{([0-9]+)\}/g,(A,$)=>oo(p,$)?o(p[$]):A);return m(_)}return m(l(e))},isRtl:()=>Xg().bind(e=>wr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>oo(Yg,e)},el=()=>{const e=[],t={},o={},a=[],l=(ge,Ee)=>{const Ze=We(a,et=>et.name===ge&&et.state===Ee);pe(Ze,et=>et.resolve())},m=ge=>oo(t,ge),p=ge=>oo(o,ge),_=ge=>{if(o[ge])return o[ge].instance},A=(ge,Ee)=>{const Ze=Dc.getCode(),et=","+(Ee||"")+",";!Ze||Ee&&et.indexOf(","+Ze+",")===-1||pl.ScriptLoader.add(t[ge]+"/langs/"+Ze+".js")},$=(ge,Ee)=>{el.languageLoad!==!1&&(m(ge)?A(ge,Ee):we(ge,"loaded").then(()=>A(ge,Ee)))},q=(ge,Ee)=>(e.push(Ee),o[ge]={instance:Ee},l(ge,"added"),Ee),Y=ge=>{delete t[ge],delete o[ge]},ee=(ge,Ee)=>fe(Ee)?fe(ge)?{prefix:"",resource:Ee,suffix:""}:{prefix:ge.prefix,resource:Ee,suffix:ge.suffix}:Ee,me=(ge,Ee)=>{if(t[ge])return Promise.resolve();let Ze=fe(Ee)?Ee:Ee.prefix+Ee.resource+Ee.suffix;Ze.indexOf("/")!==0&&Ze.indexOf("://")===-1&&(Ze=el.baseURL+"/"+Ze),t[ge]=Ze.substring(0,Ze.lastIndexOf("/"));const et=()=>(l(ge,"loaded"),Promise.resolve());return o[ge]?et():pl.ScriptLoader.add(Ze).then(et)},we=(ge,Ee="added")=>Ee==="added"&&p(ge)||Ee==="loaded"&&m(ge)?Promise.resolve():new Promise(Ze=>{a.push({name:ge,state:Ee,resolve:Ze})});return{items:e,urls:t,lookup:o,get:_,requireLangPack:$,add:q,remove:Y,createUrl:ee,load:me,waitFor:we}};el.languageLoad=!0,el.baseURL="",el.PluginManager=el(),el.ThemeManager=el(),el.ModelManager=el();const Jg=(e,t)=>{let o=null;return{cancel:()=>{Ue(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ue(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},rp=(e,t)=>{let o=null;const a=()=>{Ue(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},CC=(e,t,o)=>tu(e,t,o).isSome(),ws=ct("mce-annotation"),Cs=ct("data-mce-annotation"),Ks=ct("data-mce-annotation-uid"),Tr=ct("data-mce-annotation-active"),gs=ct("data-mce-annotation-classes"),Bs=ct("data-mce-annotation-attrs"),s1=e=>t=>Vo(t,e),a1=(e,t)=>{const o=e.selection.getRng(),a=$e.fromDom(o.startContainer),l=$e.fromDom(e.getBody()),m=t.fold(()=>"."+ws(),A=>`[${Cs()}="${A}"]`),p=Fu(a,o.startOffset).getOr(a);return Fa(p,m,s1(l)).bind(A=>Yc(A,`${Ks()}`).bind($=>Yc(A,`${Cs()}`).map(q=>{const Y=Ex(e,$);return{uid:$,name:q,elements:Y}})))},kx=e=>Ds(e)&&Ad(e,ws()),qb=(e,t)=>Sd(e,"data-mce-bogus")||CC(e,'[data-mce-bogus="all"]',s1(t)),Ex=(e,t)=>{const o=$e.fromDom(e.getBody()),a=ia(o,`[${Ks()}="${t}"]`);return We(a,l=>!qb(l,o))},Qg=(e,t)=>{const o=$e.fromDom(e.getBody()),a=ia(o,`[${Cs()}="${t}"]`),l={};return pe(a,m=>{if(!qb(m,o)){const p=pi(m,Ks()),_=wr(l,p).getOr([]);l[p]=_.concat([m])}}),l},i1=(e,t)=>{const o=_a({}),a=()=>({listeners:[],previous:Sa()}),l=(Y,ee)=>{m(Y,me=>(ee(me),me))},m=(Y,ee)=>{const me=o.get(),we=wr(me,Y).getOrThunk(a),ge=ee(we);me[Y]=ge,o.set(me)},p=(Y,ee,me)=>{l(Y,we=>{pe(we.listeners,ge=>ge(!0,Y,{uid:ee,nodes:Fe(me,Ee=>Ee.dom)}))})},_=Y=>{l(Y,ee=>{pe(ee.listeners,me=>me(!1,Y))})},A=(Y,ee)=>{pe(Ex(e,Y),me=>{ee?fa(me,Tr(),"true"):Co(me,Tr())})},$=rp(()=>{const Y=ar(t.getNames());pe(Y,ee=>{m(ee,me=>{const we=me.previous.get();return a1(e,Q.some(ee)).fold(()=>{we.each(ge=>{_(ee),me.previous.clear(),A(ge,!1)})},({uid:ge,name:Ee,elements:Ze})=>{uf(we,ge)||(we.each(et=>A(et,!1)),p(Ee,ge,Ze),me.previous.set(ge),A(ge,!0))}),{previous:me.previous,listeners:me.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(Y,ee)=>{m(Y,me=>({previous:me.previous,listeners:me.listeners.concat([ee])}))}}},l1=(e,t)=>{const o=Cs(),a=m=>Q.from(m.attr(o)).bind(t.lookup),l=m=>{var p,_;m.attr(Ks(),null),m.attr(Cs(),null),m.attr(Tr(),null);const A=Q.from(m.attr(Bs())).map(ee=>ee.split(",")).getOr([]),$=Q.from(m.attr(gs())).map(ee=>ee.split(",")).getOr([]);pe(A,ee=>m.attr(ee,null));const q=(_=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&_!==void 0?_:[],Y=Yo(q,[ws()].concat($));m.attr("class",Y.length>0?Y.join(" "):null),m.attr(gs(),null),m.attr(Bs(),null)};e.serializer.addTempAttr(Tr()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)a(p).each(_=>{_.persistent===!1&&(p.name==="span"?p.unwrap():l(p))})})},Ax=()=>{const e={};return{register:(l,m)=>{e[l]={name:l,settings:m}},lookup:l=>wr(e,l).map(m=>m.settings),getNames:()=>Zt(e)}},Gb=(e,t,o)=>Math.min(Math.max(e,t),o),bl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Tx=0;const Ii=e=>{const o=new Date().getTime(),a=Math.floor(bl()*1e9);return Tx++,e+"_"+a+Tx+String(o)},Yb=(e,t)=>{pe(t,o=>{Ed(e,o)})},eh=(e,t)=>{pe(t,o=>{Ti(e,o)})},cu=(e,t)=>$e.fromDom(e.dom.cloneNode(t)),Ms=e=>cu(e,!1),Bm=e=>cu(e,!0),Ox=(e,t)=>{const o=$e.fromTag(t),a=ml(e);return Ai(o,a),o},Dx=(e,t)=>{const o=Ox(e,t);rt(e,o);const a=ei(e);return js(o,a),Cr(e),o},Xb=(e,t,o=Xn)=>{const a=new ti(e,t),l=m=>{let p;do p=a[m]();while(p&&!Ht(p)&&!o(p));return Q.from(p).filter(Ht)};return{current:()=>Q.from(a.current()).filter(Ht),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},Bd=(e,t)=>{const o=t||(p=>e.isBlock(p)||as(p)||lo(p)),a=(p,_,A,$)=>{if(Ht(p)){const q=$(p,_,p.data);if(q!==-1)return Q.some({container:p,offset:q})}return A().bind(q=>a(q.container,q.offset,A,$))};return{backwards:(p,_,A,$)=>{const q=Xb(p,$??e.getRoot(),o);return a(p,_,()=>q.prev().map(Y=>({container:Y,offset:Y.length})),A).getOrNull()},forwards:(p,_,A,$)=>{const q=Xb(p,$??e.getRoot(),o);return a(p,_,()=>q.next().map(Y=>({container:Y,offset:0})),A).getOrNull()}}},Jb=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return a(m).getOr("")},a=m=>e(m)?Q.from(m.dom.nodeValue):Q.none();return{get:o,getOption:a,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=p}}})(Qr,"text"),Mm=e=>Jb.get(e),_C=e=>Jb.getOption(e),Qb=(e,t)=>Jb.set(e,t),ev=["td","th"],c1=["thead","tbody","tfoot"],sp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],u1=["li","dd","dt"],Pi=["ul","ol","dl"],Rx=["pre","script","textarea","style"],Md=e=>{let t;return o=>(t=t||Us(e,gn),oo(t,zo(o)))},tv=e=>zo(e)==="table",Ku=e=>Ds(e)&&zo(e)==="br",nv=Md(sp),ov=Md(Pi),Fm=Md(u1),th=Md(c1),Rc=Md(ev),rv=Md(Rx),Jk=e=>{const t=[];let o=e.dom;for(;o;)t.push($e.fromDom(o)),o=o.lastChild;return t},ec=e=>{const t=ia(e,"br"),o=We(Jk(e).slice(-1),Ku);t.length===o.length&&pe(o,Cr)},Fd=()=>{const e=$e.fromTag("br");return fa(e,"data-mce-bogus","1"),e},Nc=e=>{Zr(e),Ns(e,Fd())},Nx=(e,t)=>{$u(e).each(o=>{ma(o).each(a=>{t.isBlock(zo(e))&&Ku(o)&&t.isBlock(zo(a))&&Cr(o)})})},ha=ys,Ic=Uu,vl=jh,Qk=e=>e.insertContent(ha,{preserve_zwsp:!0}),Nf=Sn,$d=Ht,ap=e=>($d(e)&&(e=e.parentNode),Nf(e)&&e.hasAttribute("data-mce-caret")),$m=e=>$d(e)&&Ic(e.data),$l=e=>ap(e)||$m(e),d1=e=>e.firstChild!==e.lastChild||!as(e.firstChild),f1=(e,t)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ha),m=e.parentNode;if(t){const p=e.previousSibling;if($d(p)){if($l(p))return p;if(Hd(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(l,e)}else{const p=e.nextSibling;if($d(p)){if($l(p))return p;if(av(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(l,e.nextSibling):m==null||m.appendChild(l)}return l},sv=e=>{const t=e.container();return Ht(t)?t.data.charAt(e.offset())===ha||e.isAtStart()&&$m(t.previousSibling):!1},m1=e=>{const t=e.container();return Ht(t)?t.data.charAt(e.offset()-1)===ha||e.isAtEnd()&&$m(t.nextSibling):!1},SC=(e,t,o)=>{var a;const m=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(Fd().dom);const p=t.parentNode;return o?p==null||p.insertBefore(m,t):t.nextSibling?p==null||p.insertBefore(m,t.nextSibling):p==null||p.appendChild(m),m},av=e=>$d(e)&&e.data[0]===ha,Hd=e=>$d(e)&&e.data[e.data.length-1]===ha,iv=e=>{var t;const o=e.getElementsByTagName("br"),a=o[o.length-1];_f(a)&&((t=a.parentNode)===null||t===void 0||t.removeChild(a))},nh=e=>e&&e.hasAttribute("data-mce-caret")?(iv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,oh=e=>ap(e.startContainer),If=Math.round,Pf=e=>e?{left:If(e.left),top:If(e.top),bottom:If(e.bottom),right:If(e.right),width:If(e.width),height:If(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},lv=(e,t)=>(e=Pf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Lf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Bf=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Mf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Bf(t.top-e.bottom,e,t)},rh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Bf(t.bottom-e.top,e,t),g1=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,ip=e=>on(e,(t,o)=>t.fold(()=>Q.some(o),a=>{const l=Math.min(o.left,a.left),m=Math.min(o.top,a.top),p=Math.max(o.right,a.right),_=Math.max(o.bottom,a.bottom);return Q.some({top:m,right:p,bottom:_,left:l,width:p-l,height:_-m})}),Q.none()),h1=(e,t,o)=>{const a=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-a)*(t-a)+(o-l)*(o-l))},Ix=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),lp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},pa=(e,t)=>{if(Sn(e)&&e.hasChildNodes()){const o=e.childNodes,a=Gb(t,0,o.length-1);return o[a]}else return e},Px=(e,t)=>{if(!(t<0&&Sn(e)&&e.hasChildNodes()))return pa(e,t)},kC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Lx=e=>fe(e)&&e.charCodeAt(0)>=768&&kC.test(e),Bx=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Ff=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},p1=kc,cv=lo,Mx=as,eE=Ht,$f=ni(["script","style","textarea"]),uv=ni(["img","input","textarea","hr","iframe","video","audio","object","embed"]),EC=ni(["table"]),AC=$l,uu=e=>AC(e)?!1:eE(e)?!$f(e.parentNode):uv(e)||Mx(e)||EC(e)||b1(e),Fx=e=>Sn(e)&&e.getAttribute("unselectable")==="true",b1=e=>!Fx(e)&&cv(e),TC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(b1(o))return!1;if(p1(o))return!0}return!0},sh=e=>b1(e)?!on(bo(e.getElementsByTagName("*")),(t,o)=>t||p1(o),!1):!1,cp=e=>uv(e)||sh(e),dv=(e,t)=>uu(e)&&TC(e,t),OC=Sn,du=uu,Hm=_c("display","block table"),fv=_c("float","left right"),mv=Ff(OC,du,Je(fv)),v1=Je(_c("white-space","pre pre-line pre-wrap")),gv=Ht,ai=as,y1=Hr.nodeIndex,zm=Px,Vm=e=>e?e.createRange():Hr.DOM.createRng(),hv=e=>fe(e)&&/[\r\n\t ]/.test(e),x1=e=>!!e.setStart&&!!e.setEnd,ah=e=>{const t=e.startContainer,o=e.startOffset;if(hv(e.toString())&&v1(t.parentNode)&&Ht(t)){const a=t.data;if(hv(a[o-1])||hv(a[o+1]))return!0}return!1},Hf=e=>{const t=e.ownerDocument,o=Vm(t),a=t.createTextNode(Ca),l=e.parentNode;l.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=Pf(o.getBoundingClientRect());return l.removeChild(a),m},$x=e=>{const t=e.startContainer,o=e.endContainer,a=e.startOffset,l=e.endOffset;if(t===o&&Ht(o)&&a===0&&l===1){const m=e.cloneRange();return m.setEndAfter(o),tl(m)}else return null},w1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,tl=e=>{var t;let o;const a=e.getClientRects();return a.length>0?o=Pf(a[0]):o=Pf(e.getBoundingClientRect()),!x1(e)&&ai(e)&&w1(o)?Hf(e):w1(o)&&x1(e)&&(t=$x(e))!==null&&t!==void 0?t:o},zf=(e,t)=>{const o=lv(e,t);return o.width=1,o.right=o.left+1,o},Hx=e=>{const t=[],o=p=>{p.height!==0&&(t.length>0&&Lf(p,t[t.length-1])||t.push(p))},a=(p,_)=>{const A=Vm(p.ownerDocument);if(_<p.data.length){if(Lx(p.data[_]))return;if(Lx(p.data[_-1])&&(A.setStart(p,_),A.setEnd(p,_+1),!ah(A))){o(zf(tl(A),!1));return}}_>0&&(A.setStart(p,_-1),A.setEnd(p,_),ah(A)||o(zf(tl(A),!1))),_<p.data.length&&(A.setStart(p,_),A.setEnd(p,_+1),ah(A)||o(zf(tl(A),!0)))},l=e.container(),m=e.offset();if(gv(l))return a(l,m),t;if(OC(l))if(e.isAtEnd()){const p=zm(l,m);gv(p)&&a(p,p.data.length),mv(p)&&!ai(p)&&o(zf(tl(p),!1))}else{const p=zm(l,m);if(gv(p)&&a(p,0),mv(p)&&e.isAtEnd())return o(zf(tl(p),!1)),t;const _=zm(e.container(),e.offset()-1);mv(_)&&!ai(_)&&(Hm(_)||Hm(p)||!mv(p))&&o(zf(tl(_),!1)),mv(p)&&o(zf(tl(p),!0))}return t},vt=(e,t,o)=>{const a=()=>(gv(e),t===0),l=()=>gv(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const q=Vm(e.ownerDocument);return q.setStart(e,t),q.setEnd(e,t),q},p=()=>(o||(o=Hx(vt(e,t))),o),_=()=>p().length>0,A=q=>q&&e===q.container()&&t===q.offset(),$=q=>zm(e,q?t-1:t);return{container:ct(e),offset:ct(t),toRange:m,getClientRects:p,isVisible:_,isAtStart:a,isAtEnd:l,isEqual:A,getNode:$}};vt.fromRangeStart=e=>vt(e.startContainer,e.startOffset),vt.fromRangeEnd=e=>vt(e.endContainer,e.endOffset),vt.after=e=>vt(e.parentNode,y1(e)+1),vt.before=e=>vt(e.parentNode,y1(e)),vt.isAbove=(e,t)=>Ya(yn(t.getClientRects()),no(e.getClientRects()),Mf).getOr(!1),vt.isBelow=(e,t)=>Ya(no(t.getClientRects()),yn(e.getClientRects()),rh).getOr(!1),vt.isAtStart=e=>e?e.isAtStart():!1,vt.isAtEnd=e=>e?e.isAtEnd():!1,vt.isTextPosition=e=>e?Ht(e.container()):!1,vt.isElementPosition=e=>!vt.isTextPosition(e);const up=(e,t)=>{Ht(t)&&t.data.length===0&&e.remove(t)},tE=(e,t,o)=>{t.insertNode(o),up(e,o.previousSibling),up(e,o.nextSibling)},DC=(e,t,o)=>{const a=Q.from(o.firstChild),l=Q.from(o.lastChild);t.insertNode(o),a.each(m=>up(e,m.previousSibling)),l.each(m=>up(e,m.nextSibling))},C1=(e,t,o)=>{kf(o)?DC(e,t,o):tE(e,t,o)},fu=Ht,_1=_f,pv=Hr.nodeIndex,zx=e=>{const t=e.parentNode;return _1(t)?zx(t):t},Vx=e=>e?cl(e.childNodes,(t,o)=>(_1(o)&&o.nodeName!=="BR"?t=t.concat(Vx(o)):t.push(o),t),[]):[],nE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&fu(o);)t+=o.data.length;return t},y=e=>t=>e===t,S=e=>{let t,o;t=Vx(zx(e)),o=Xr(t,y(e),e),t=t.slice(0,o+1);const a=cl(t,(l,m,p)=>(fu(m)&&fu(t[p-1])&&l++,l),0);return t=Zi(t,ni([e.nodeName])),o=Xr(t,y(e),e),o-a},T=e=>(fu(e)?"text()":e.nodeName.toLowerCase())+"["+S(e)+"]",M=(e,t,o)=>{const a=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)a.push(l);return a},U=(e,t)=>{let o=[],a=t.container(),l=t.offset(),m;if(fu(a))m=nE(a,l);else{const _=a.childNodes;l>=_.length?(m="after",l=_.length-1):m="before",a=_[l]}o.push(T(a));let p=M(e,a);return p=Zi(p,Je(_f)),o=o.concat(dm(p,_=>T(_))),o.reverse().join("/")+","+m},W=(e,t,o)=>{let a=Vx(e);return a=Zi(a,(l,m)=>!fu(l)||!fu(a[m-1])),a=Zi(a,ni([t])),a[o]},ne=(e,t)=>{let o=e,a=0;for(;fu(o);){const l=o.data.length;if(t>=a&&t<=a+l){e=o,t=t-a;break}if(!fu(o.nextSibling)){e=o,t=l;break}a+=l,o=o.nextSibling}return fu(e)&&t>e.data.length&&(t=e.data.length),vt(e,t)},se=(e,t)=>{if(!t)return null;const o=t.split(","),a=o[0].split("/"),l=o.length>1?o[1]:"before",m=cl(a,(p,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),W(p,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!fu(m)&&m.parentNode){let p;return l==="after"?p=pv(m)+1:p=pv(m),vt(m.parentNode,p)}return ne(m,parseInt(l,10))},ve=lo,Ne=(e,t,o)=>{let a=e(t.data.slice(0,o)).length;for(let l=t.previousSibling;l&&Ht(l);l=l.previousSibling)a+=e(l.data).length;return a},Ge=(e,t,o,a,l)=>{const m=l?a.startContainer:a.endContainer;let p=l?a.startOffset:a.endOffset;const _=[],A=e.getRoot();if(Ht(m))_.push(o?Ne(t,m,p):p);else{let $=0;const q=m.childNodes;p>=q.length&&q.length&&($=1,p=Math.max(0,q.length-1)),_.push(e.nodeIndex(q[p],o)+$)}for(let $=m;$&&$!==A;$=$.parentNode)_.push(e.nodeIndex($,o));return _},Te=(e,t,o,a)=>{const l=t.dom,m=Ge(l,e,o,a,!0),p=t.isForward(),_=oh(a)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:p,..._};{const A=Ge(l,e,o,a,!1);return{start:m,end:A,forward:p,..._}}},Me=(e,t,o)=>{let a=0;return Yt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;a++;return}}),a},ze=(e,t)=>{let o=t?e.startContainer:e.endContainer,a=t?e.startOffset:e.endOffset;if(Sn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(t?a:a-1,l.length-1)],o&&(a=t?0:o.childNodes.length,t?e.setStart(o,a):e.setEnd(o,a))}},ot=e=>(ze(e,!0),ze(e,!1),e),at=(e,t)=>{if(Sn(e)&&(e=pa(e,t),ve(e)))return e;if($l(e)){Ht(e)&&ap(e)&&(e=e.parentNode);let o=e.previousSibling;if(ve(o)||(o=e.nextSibling,ve(o)))return o}},At=e=>at(e.startContainer,e.startOffset)||at(e.endContainer,e.endOffset),Rt=(e,t,o)=>{const a=o.getNode(),l=o.getRng();if(a.nodeName==="IMG"||ve(a)){const p=a.nodeName;return{name:p,index:Me(o.dom,p,a)}}const m=At(l);if(m){const p=m.tagName;return{name:p,index:Me(o.dom,p,m)}}return Te(e,o,t,l)},Et=e=>{const t=e.getRng();return{start:U(e.dom.getRoot(),vt.fromRangeStart(t)),end:U(e.dom.getRoot(),vt.fromRangeEnd(t)),forward:e.isForward()}},Pt=e=>({rng:e.getRng(),forward:e.isForward()}),jt=(e,t,o)=>{const a={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},Xt=(e,t)=>{const o=e.dom;let a=e.getRng();const l=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),_=p.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:Me(o,_,p)};const $=ot(a.cloneRange());if(!m){$.collapse(!1);const Y=jt(o,l+"_end",t);C1(o,$,Y)}a=ot(a),a.collapse(!0);const q=jt(o,l+"_start",t);return C1(o,a,q),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},lt=(e,t,o=!1)=>t===2?Rt(vl,o,e):t===3?Et(e):t?Pt(e):Xt(e,!1),bn=Lt(Rt,_n,!0),Un=e=>{const t=m=>m(e),o=ct(e),a=()=>l,l={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:gn,isError:Xn,map:m=>Wn.value(m(e)),mapError:a,bind:t,exists:t,forall:t,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>Q.some(e)};return l},ho=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(a,l)=>a(e),isValue:Xn,isError:gn,map:t,mapError:a=>Wn.error(a(e)),bind:t,exists:Xn,forall:gn,getOr:_n,or:_n,getOrThunk:Gn,orThunk:Gn,getOrDie:Tt(String(e)),each:Mt,toOptional:Q.none};return o},Wn={value:Un,error:ho,fromOption:(e,t)=>e.fold(()=>ho(t),Un)},Mo={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return pe(e,(a,l)=>{const m=Zt(a);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],_=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(_))throw new Error("case arguments must be an array");t.push(p),o[p]=(...A)=>{const $=A.length;if($!==_.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+_.length+" ("+_+"), got "+$);return{fold:(...Y)=>{if(Y.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Y.length);return Y[l].apply(null,A)},match:Y=>{const ee=Zt(Y);if(t.length!==ee.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+ee.join(","));if(!yo(t,we=>be(ee,we)))throw new Error("Not all branches were specified when using match. Specified: "+ee.join(", ")+`
Required: `+t.join(", "));return Y[p].apply(null,A)},log:Y=>{console.log(Y,{constructors:t,constructor:p,params:A})}}}}),o}};Mo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const qs=e=>{const t=[],o=[];return pe(e,a=>{a.fold(l=>{t.push(l)},l=>{o.push(l)})}),{errors:t,values:o}},yi=e=>e.type==="inline-command"||e.type==="inline-format",za=e=>e.type==="block-command"||e.type==="block-format",tc=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Um=e=>{var t;const o=l=>Wn.error({message:l,pattern:e}),a=(l,m,p)=>{if(e.format!==void 0){let _;if(oe(e.format)){if(!yo(e.format,fe))return o(l+" pattern has non-string items in the `format` array");_=e.format}else if(fe(e.format))_=[e.format];else return o(l+" pattern has non-string `format` parameter");return Wn.value(m(_))}else return e.cmd!==void 0?fe(e.cmd)?Wn.value(p(e.cmd,e.value)):o(l+" pattern has non-string `cmd` parameter"):o(l+" pattern is missing both `format` and `cmd` parameters")};if(!j(e))return o("Raw pattern is not an object");if(!fe(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!fe(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let l=e.start,m=e.end;return m.length===0&&(m=l,l=""),a("Inline",p=>({type:"inline-format",start:l,end:m,format:p}),(p,_)=>({type:"inline-command",start:l,end:m,cmd:p,value:_}))}else{if(e.replacement!==void 0)return fe(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Wn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:l}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:l}))}}},xi=e=>We(e,za),qu=e=>We(e,yi),dp=(e,t)=>({inlinePatterns:qu(e),blockPatterns:xi(e),dynamicPatternsLookup:t}),Vf=(e,t)=>({...e,blockPatterns:We(e.blockPatterns,o=>tc(o,t))}),fp=e=>{const t=qs(Fe(e,Um));return pe(t.errors,o=>console.error(o.message,o.pattern)),t.values},S1=e=>t=>{const o=e(t);return fp(o)},Uf=qa().deviceType,RC=Uf.isTouch(),RM=Hr.DOM,NM=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return on(t,(o,a)=>{const l=a.split("="),m=l[0],p=l.length>1?l[1]:m;return o[Le(m)]=Le(p),o},{})},JO=e=>Se(e,RegExp),xn=e=>t=>t.options.get(e),Ux=e=>fe(e)||j(e),oE=(e,t="")=>o=>{const a=fe(o);if(a)if(o.indexOf("=")!==-1){const l=NM(o);return{value:wr(l,e.id).getOr(t),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},NC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:oE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:oE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const a=fe(o)&&Qe(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const a=be(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>He(o)?{valid:!0,value:o}:fe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const a=o===!1||fe(o)||St(o,fe);return a?fe(o)?{value:Fe(o.split(","),Le),valid:a}:oe(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:bv(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const a=fe(o)||St(o,fe);return a?{value:oe(o)?o:Fe(o.split(","),Le),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const a=He(o)||fe(o);return a?o===!1||Uf.isiPhone()||Uf.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!RC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||fe(o)||Be(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const a=o===!1||fe(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Ux}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Ux}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Ux}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Ux}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>fe(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>St(o,j)||o===!1?{value:fp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Be(o)?{value:S1(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>St(o,JO)?{value:o,valid:!0}:JO(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const a=be(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const a=be(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Dc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:RM.getAttrib(e.getElement(),"placeholder")})})},yl=xn("iframe_attrs"),zd=xn("doctype"),mu=xn("document_base_url"),IC=xn("body_id"),rE=xn("body_class"),QO=xn("content_security_policy"),sE=xn("br_in_pre"),nl=xn("forced_root_block"),Wx=xn("forced_root_block_attrs"),aE=xn("newline_behavior"),eD=xn("br_newline_selector"),tD=xn("no_newline_selector"),iE=xn("keep_styles"),lE=xn("end_container_on_empty_block"),zr=xn("automatic_uploads"),ih=xn("images_reuse_filename"),nD=xn("images_replace_blob_uris"),cE=xn("icons"),oD=xn("icons_url"),uE=xn("images_upload_url"),rD=xn("images_upload_base_path"),dE=xn("images_upload_credentials"),IM=xn("images_upload_handler"),sD=xn("content_css_cors"),Zx=xn("referrer_policy"),fE=xn("language"),PM=xn("language_url"),aD=xn("indent_use_margin"),gu=xn("indentation"),Ol=xn("content_css"),k1=xn("content_style"),iD=xn("font_css"),LM=xn("directionality"),Ko=xn("inline_boundaries_selector"),lD=xn("object_resizing"),cD=xn("resize_img_proportional"),mE=xn("placeholder"),uD=xn("event_root"),BM=xn("service_message"),E1=xn("theme"),MM=xn("theme_url"),jx=xn("model"),gE=xn("model_url"),A1=xn("inline_boundaries"),FM=xn("formats"),$M=xn("preview_styles"),HM=xn("format_empty_lines"),eo=xn("format_noneditable_selector"),dD=xn("custom_ui_selector"),bv=xn("inline"),hE=xn("hidden_input"),fD=xn("submit_patch"),mD=xn("add_form_submit_trigger"),gD=xn("add_unload_trigger"),hD=xn("custom_undo_redo_levels"),zM=xn("disable_nodechange"),pD=xn("readonly"),mr=xn("editable_root"),bD=xn("content_css_cors"),Vd=xn("plugins"),Wm=xn("external_plugins"),PC=xn("block_unsupported_drop"),Pc=xn("visual"),LC=xn("visual_table_class"),T1=xn("visual_anchor_class"),Kx=xn("iframe_aria_text"),O1=xn("setup"),VM=xn("init_instance_callback"),UM=xn("urlconverter_callback"),WM=xn("auto_focus"),ZM=xn("browser_spellcheck"),Qo=xn("protect"),Wf=xn("paste_block_drop"),Zm=xn("paste_data_images"),jM=xn("paste_preprocess"),qx=xn("paste_postprocess"),nr=xn("newdocument_content"),vD=xn("paste_webkit_styles"),pE=xn("paste_remove_styles_if_webkit"),KM=xn("paste_merge_formats"),vv=xn("smart_paste"),yv=xn("paste_as_text"),yD=xn("paste_tab_spaces"),qM=xn("allow_html_data_urls"),GM=xn("text_patterns"),Gx=xn("text_patterns_lookup"),xv=xn("noneditable_class"),YM=xn("editable_class"),xD=xn("noneditable_regexp"),XM=xn("preserve_cdata"),wD=xn("highlight_on_focus"),CD=xn("xss_sanitization"),_D=xn("init_content_sync"),bE=e=>e.options.isSet("text_patterns_lookup"),vE=e=>Yt.explode(e.options.get("font_size_style_values")),yE=e=>Yt.explode(e.options.get("font_size_classes")),SD=e=>e.options.get("encoding")==="xml",xE=e=>Yt.explode(e.options.get("images_file_types")),kD=xn("table_tab_navigation"),BC=xn("details_initial_state"),ED=xn("details_serialized_state"),wE=xn("sandbox_iframes"),MC=e=>e.options.get("sandbox_iframes_exclusions"),AD=xn("convert_unsafe_embeds"),TD=xn("license_key"),OD=xn("api_key"),JM=Sn,DD=Ht,Yx=e=>{const t=e.parentNode;t&&t.removeChild(e)},CE=e=>{const t=vl(e);return{count:e.length-t.length,text:t}},_E=e=>{let t;for(;(t=e.data.lastIndexOf(ha))!==-1;)e.deleteData(t,1)},SE=(e,t)=>(mp(e),t),QM=(e,t)=>{const o=CE(e.data.substr(0,t.offset())),a=CE(e.data.substr(t.offset()));return(o.text+a.text).length>0?(_E(e),vt(e,t.offset()-o.count)):t},e8=(e,t)=>{const o=t.container(),a=it(bo(o.childNodes),e).map(l=>l<t.offset()?vt(o,t.offset()-1):t).getOr(t);return mp(e),a},t8=(e,t)=>DD(e)&&t.container()===e?QM(e,t):SE(e,t),n8=(e,t)=>t.container()===e.parentNode?e8(e,t):SE(e,t),o8=(e,t)=>vt.isTextPosition(t)?t8(e,t):n8(e,t),mp=e=>{JM(e)&&$l(e)&&(d1(e)?e.removeAttribute("data-mce-caret"):Yx(e)),DD(e)&&(_E(e),e.data.length===0&&Yx(e))},RD=lo,FC=Ct,r8=Gh,kE="*[contentEditable=false],video,audio,embed,object",ND=(e,t,o)=>{const a=lv(t.getBoundingClientRect(),o);let l,m;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;l=e.scrollLeft||_.scrollLeft,m=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();l=e.scrollLeft-_.left,m=e.scrollTop-_.top}a.left+=l,a.right+=l,a.top+=m,a.bottom+=m,a.width=1;let p=t.offsetWidth-t.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},ID=e=>{var t,o;const a=ia($e.fromDom(e),kE);for(let l=0;l<a.length;l++){const m=a[l].dom;let p=m.previousSibling;if(Hd(p)){const _=p.data;_.length===1?(t=p.parentNode)===null||t===void 0||t.removeChild(p):p.deleteData(_.length-1,1)}p=m.nextSibling,av(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},PD=(e,t,o,a)=>{const l=Sa();let m,p;const _=nl(e),A=e.dom,$=(ge,Ee)=>{let Ze;if(q(),r8(Ee))return null;if(o(Ee)){const et=SC(_,Ee,ge),Xe=ND(t,Ee,ge);A.setStyle(et,"top",Xe.top),A.setStyle(et,"caret-color","transparent"),p=et;const ft=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(ft,{...Xe}),A.add(t,ft),l.set({caret:ft,element:Ee,before:ge}),ge&&A.addClass(ft,"mce-visual-caret-before"),Y(),Ze=Ee.ownerDocument.createRange(),Ze.setStart(et,0),Ze.setEnd(et,0)}else return p=f1(Ee,ge),Ze=Ee.ownerDocument.createRange(),Xx(p.nextSibling)?(Ze.setStart(p,0),Ze.setEnd(p,0)):(Ze.setStart(p,1),Ze.setEnd(p,1)),Ze;return Ze},q=()=>{ID(t),p&&(mp(p),p=null),l.on(ge=>{A.remove(ge.caret),l.clear()}),m&&(clearInterval(m),m=void 0)},Y=()=>{m=setInterval(()=>{l.on(ge=>{a()?A.toggleClass(ge.caret,"mce-visual-caret-hidden"):A.addClass(ge.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(ge=>{const Ee=ND(t,ge.element,ge.before);A.setStyles(ge.caret,{...Ee})})},destroy:()=>clearInterval(m)}},EE=()=>Eo.browser.isFirefox(),Xx=e=>RD(e)||FC(e),Jx=e=>(Xx(e)||su(e)&&EE())&&bf($e.fromDom(e)).exists(ds),$C=kc,HC=lo,LD=Ct,AE=_c("display","block table table-cell table-caption list-item"),TE=$l,BD=ap,s8=Sn,zC=Ht,MD=uu,wv=e=>e>0,Cv=e=>e<0,VC=(e,t)=>{let o;for(;o=e(t);)if(!BD(o))return o;return null},Qx=(e,t,o,a,l)=>{const m=new ti(e,a),p=HC(e)||BD(e);let _;if(Cv(t)){if(p&&(_=VC(m.prev.bind(m),!0),o(_)))return _;for(;_=VC(m.prev.bind(m),l);)if(o(_))return _}if(wv(t)){if(p&&(_=VC(m.next.bind(m),!0),o(_)))return _;for(;_=VC(m.next.bind(m),l);)if(o(_))return _}return null},a8=(e,t)=>{const o=l=>$C(l.dom),a=l=>l.dom===t;return Yi($e.fromDom(e),o,a).map(l=>l.dom).getOr(t)},gp=(e,t)=>{for(;e&&e!==t;){if(AE(e))return e;e=e.parentNode}return null},jm=(e,t,o)=>gp(e.container(),o)===gp(t.container(),o),UC=(e,t)=>{if(!t)return Q.none();const o=t.container(),a=t.offset();return s8(o)?Q.from(o.childNodes[a+e]):Q.none()},FD=(e,t)=>{var o;const l=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},$D=(e,t,o)=>gp(t,e)===gp(o,e),OE=(e,t,o)=>{const a=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==t;){let m=l[a];if(m&&TE(m)&&(m=m[a]),HC(m)||LD(m)){if($D(t,m,l))return m;break}if(MD(m))break;l=l.parentNode}return null},e2=Lt(FD,!0),t2=Lt(FD,!1),DE=(e,t,o)=>{let a;const l=Lt(OE,!0,t),m=Lt(OE,!1,t),p=o.startContainer,_=o.startOffset;if(ap(p)){const A=zC(p)?p.parentNode:p,$=A.getAttribute("data-mce-caret");if($==="before"&&(a=A.nextSibling,Jx(a)))return e2(a);if($==="after"&&(a=A.previousSibling,Jx(a)))return t2(a)}if(!o.collapsed)return o;if(Ht(p)){if(TE(p)){if(e===1){if(a=m(p),a)return e2(a);if(a=l(p),a)return t2(a)}if(e===-1){if(a=l(p),a)return t2(a);if(a=m(p),a)return e2(a)}return o}if(Hd(p)&&_>=p.data.length-1)return e===1&&(a=m(p),a)?e2(a):o;if(av(p)&&_<=1)return e===-1&&(a=l(p),a)?t2(a):o;if(_===p.data.length)return a=m(p),a?e2(a):o;if(_===0)return a=l(p),a?t2(a):o}return o},HD=(e,t)=>UC(e?0:-1,t).filter(HC),n2=(e,t,o)=>{const a=DE(e,t,o);return e===-1?vt.fromRangeStart(a):vt.fromRangeEnd(a)},WC=e=>Q.from(e.getNode()).map($e.fromDom),i8=e=>Q.from(e.getNode(!0)).map($e.fromDom),RE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ZC=(e,t)=>{const o=jm(e,t);return!o&&as(e.getNode())?!0:o};var Li;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Li||(Li={}));const l8=lo,Km=Ht,zD=Sn,Tn=as,_v=uu,NE=cp,jC=dv,IE=(e,t)=>{const o=[];let a=e;for(;a&&a!==t;)o.push(a),a=a.parentNode;return o},VD=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,o2=(e,t)=>{if(wv(e)){if(_v(t.previousSibling)&&!Km(t.previousSibling))return vt.before(t);if(Km(t))return vt(t,0)}if(Cv(e)){if(_v(t.nextSibling)&&!Km(t.nextSibling))return vt.after(t);if(Km(t))return vt(t,t.data.length)}return Cv(e)?Tn(t)?vt.before(t):vt.after(t):vt.before(t)},UD=(e,t)=>{const o=t.nextSibling;return o&&_v(o)?Km(o)?vt(o,0):vt.before(o):PE(Li.Forwards,vt.after(t),e)},PE=(e,t,o)=>{let a,l,m,p;if(!zD(o)||!t)return null;if(t.isEqual(vt.after(o))&&o.lastChild){if(p=vt.after(o.lastChild),Cv(e)&&_v(o.lastChild)&&zD(o.lastChild))return Tn(o.lastChild)?vt.before(o.lastChild):p}else p=t;const _=p.container();let A=p.offset();if(Km(_)){if(Cv(e)&&A>0)return vt(_,--A);if(wv(e)&&A<_.length)return vt(_,++A);a=_}else{if(Cv(e)&&A>0&&(l=VD(_,A-1),_v(l)))return!NE(l)&&(m=Qx(l,e,jC,l),m)?Km(m)?vt(m,m.data.length):vt.after(m):Km(l)?vt(l,l.data.length):vt.before(l);if(wv(e)&&A<_.childNodes.length&&(l=VD(_,A),_v(l)))return Tn(l)?UD(o,l):!NE(l)&&(m=Qx(l,e,jC,l),m)?Km(m)?vt(m,0):vt.before(m):Km(l)?vt(l,0):vt.after(l);a=l||p.getNode()}if(a&&(wv(e)&&p.isAtEnd()||Cv(e)&&p.isAtStart())&&(a=Qx(a,e,gn,o,!0),jC(a,o)))return o2(e,a);l=a&&Qx(a,e,jC,o);const $=fi(We(IE(_,o),l8));return $&&(!l||!$.contains(l))?(wv(e)?p=vt.after($):p=vt.before($),p):l?o2(e,l):null},$n=e=>({next:t=>PE(Li.Forwards,t,e),prev:t=>PE(Li.Backwards,t,e)}),po=(e,t,o)=>{const a=e?vt.before(o):vt.after(o);return hu(e,t,a)},WD=e=>as(e)?vt.before(e):vt.after(e),ZD=e=>vt.isTextPosition(e)?e.offset()===0:uu(e.getNode()),jD=e=>{if(vt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return uu(e.getNode(!0))},KD=(e,t)=>!vt.isTextPosition(e)&&!vt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Jn=e=>!vt.isTextPosition(e)&&as(e.getNode()),r2=(e,t,o)=>e?!KD(t,o)&&!Jn(t)&&jD(t)&&ZD(o):!KD(o,t)&&ZD(t)&&jD(o),hu=(e,t,o)=>{const a=$n(t);return Q.from(e?a.next(o):a.prev(o))},Sv=(e,t,o)=>hu(e,t,o).bind(a=>jm(o,a,t)&&r2(e,o,a)?hu(e,t,a):Q.some(a)),qD=(e,t,o,a)=>Sv(e,t,o).bind(l=>a(l)?qD(e,t,l,a):Q.some(l)),D1=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Ht(o)?Q.some(vt(o,e?0:o.data.length)):o?uu(o)?Q.some(e?vt.before(o):WD(o)):po(e,t,o):Q.none()},Hl=Lt(hu,!0),Lc=Lt(hu,!1),Kn=Lt(D1,!0),Gu=Lt(D1,!1),R1="_mce_caret",pu=e=>Sn(e)&&e.id===R1,hp=(e,t)=>{let o=t;for(;o&&o!==e;){if(pu(o))return o;o=o.parentNode}return null},GD=e=>fe(e.start),YD=e=>oo(e,"rng"),XD=e=>oo(e,"id"),LE=e=>oo(e,"name"),JD=e=>Yt.isArray(e.start),KC=e=>!LE(e)&&He(e.forward)?e.forward:!0,QD=(e,t)=>(Sn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),c8=(e,t)=>{const o=Q.from(se(e.getRoot(),t.start)),a=Q.from(se(e.getRoot(),t.end));return Ya(o,a,(l,m)=>{const p=e.createRng();return p.setStart(l.container(),l.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:KC(t)}})},u8=(e,t)=>{var o;const l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ha);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},BE=e=>!e.hasChildNodes(),ME=(e,t)=>Gu(e).fold(Xn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),eR=(e,t,o)=>BE(t)&&hp(e,t)?(u8(t,o),!0):!1,tR=(e,t,o,a)=>{const l=o[t?"start":"end"],m=e.getRoot();if(l){let p=m,_=l[0];for(let A=l.length-1;p&&A>=1;A--){const $=p.childNodes;if(eR(m,p,a))return!0;if(l[A]>$.length-1)return eR(m,p,a)?!0:ME(p,a);p=$[l[A]]}Ht(p)&&(_=Math.min(l[0],p.data.length)),Sn(p)&&(_=Math.min(l[0],p.childNodes.length)),t?a.setStart(p,_):a.setEnd(p,_)}return!0},FE=e=>Ht(e)&&e.data.length>0,nR=(e,t,o)=>{const a=e.get(o.id+"_"+t),l=a==null?void 0:a.parentNode,m=o.keep;if(a&&l){let p,_;if(t==="start"?m?a.hasChildNodes()?(p=a.firstChild,_=1):FE(a.nextSibling)?(p=a.nextSibling,_=0):FE(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=l,_=e.nodeIndex(a)+1):(p=l,_=e.nodeIndex(a)):m?a.hasChildNodes()?(p=a.firstChild,_=1):FE(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=l,_=e.nodeIndex(a)):(p=l,_=e.nodeIndex(a)),!m){const A=a.previousSibling,$=a.nextSibling;Yt.each(Yt.grep(a.childNodes),Y=>{Ht(Y)&&(Y.data=Y.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+t);)e.remove(q,!0);if(Ht($)&&Ht(A)&&!Eo.browser.isOpera()){const Y=A.data.length;A.appendData($.data),e.remove($),p=A,_=Y}}return Q.some(vt(p,_))}else return Q.none()},oR=(e,t)=>{const o=e.createRng();return tR(e,!0,t,o)&&tR(e,!1,t,o)?Q.some({range:o,forward:KC(t)}):Q.none()},kv=(e,t)=>{const o=nR(e,"start",t),a=nR(e,"end",t);return Ya(o,a.or(o),(l,m)=>{const p=e.createRng();return p.setStart(QD(e,l.container()),l.offset()),p.setEnd(QD(e,m.container()),m.offset()),{range:p,forward:KC(t)}})},rR=(e,t)=>Q.from(e.select(t.name)[t.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),sR=(e,t)=>{const o=e.dom;if(t){if(JD(t))return oR(o,t);if(GD(t))return c8(o,t);if(XD(t))return kv(o,t);if(LE(t))return rR(o,t);if(YD(t))return Q.some({range:t.rng,forward:KC(t)})}return Q.none()},d8=(e,t,o)=>lt(e,t,o),f8=(e,t)=>{sR(e,t).each(({range:o,forward:a})=>{e.setRng(o,a)})},bu=e=>Sn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ol=(e=>t=>e===t)(Ca),Ev=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,lh=e=>!Ev(e)&&!ol(e)&&!Uu(e),is=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Yu=e=>_o(e,t=>{const o=lp(t);return o?[$e.fromDom(o)]:[]}),s2=e=>is(e).length>1,qC=e=>We(Yu(e),Rc),N1=e=>ia(e,"td[data-mce-selected],th[data-mce-selected]"),aR=(e,t)=>{const o=N1(t);return o.length>0?o:qC(e)},Zf=e=>aR(is(e.selection.getSel()),$e.fromDom(e.getBody())),Or=(e,t)=>tu(e,"table",t),a2=e=>{const t=e.startContainer,o=e.startOffset;return Ht(t)?o===0?Q.some($e.fromDom(t)):Q.none():Q.from(t.childNodes[o]).map($e.fromDom)},iR=e=>{const t=e.endContainer,o=e.endOffset;return Ht(t)?o===t.data.length?Q.some($e.fromDom(t)):Q.none():Q.from(t.childNodes[o-1]).map($e.fromDom)},$E=e=>Tl(e).fold(ct([e]),t=>[e].concat($E(t))),i2=e=>$u(e).fold(ct([e]),t=>zo(t)==="br"?ma(t).map(o=>[e].concat(i2(o))).getOr([]):[e].concat(i2(t))),l2=(e,t)=>Ya(a2(t),iR(t),(o,a)=>{const l=vn($E(e),Lt(Vo,o)),m=vn(i2(e),Lt(Vo,a));return l.isSome()&&m.isSome()}).getOr(!1),c2=(e,t,o,a)=>{const l=o,m=new ti(o,l),p=pc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,$)=>!be(["td","th","table"],$.toLowerCase()));let _=o;do{if(Ht(_)&&Yt.trim(_.data).length!==0){a?t.setStart(_,0):t.setEnd(_,_.data.length);return}if(p[_.nodeName]){a?t.setStartBefore(_):_.nodeName==="BR"?t.setEndBefore(_):t.setEndAfter(_);return}}while(_=a?m.next():m.prev());l.nodeName==="BODY"&&(a?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},I1=e=>{const t=e.selection.getSel();return Oe(t)&&t.rangeCount>0},P1=(e,t)=>{const o=Zf(e);o.length>0?pe(o,a=>{const l=a.dom,m=e.dom.createRng();m.setStartBefore(l),m.setEndAfter(l),t(m,!0)}):t(e.selection.getRng(),!1)},GC=(e,t,o)=>{const a=Xt(e,t);o(a),e.moveToBookmark(a)},L1=e=>P(e==null?void 0:e.nodeType),YC=e=>Sn(e)&&!bu(e)&&!pu(e)&&!_f(e),lR=(e,t)=>{if(YC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},HE=(e,t,o)=>{const{selection:a,dom:l}=e,m=a.getNode(),p=lo(m);GC(a,!0,()=>{t()}),p&&lo(m)&&l.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&cR(l,a)},cR=(e,t)=>{var o,a;const l=t.getRng(),{startContainer:m,startOffset:p}=l,_=t.getNode();if(!lR(e,_)&&Sn(m)){const A=m.childNodes,$=e.getRoot();let q;if(p<A.length){const Y=A[p];q=new ti(Y,(o=e.getParent(Y,e.isBlock))!==null&&o!==void 0?o:$)}else{const Y=A[A.length-1];q=new ti(Y,(a=e.getParent(Y,e.isBlock))!==null&&a!==void 0?a:$),q.next(!0)}for(let Y=q.current();Y;Y=q.next()){if(e.getContentEditable(Y)==="false")return;if(Ht(Y)&&!zE(Y)){l.setStart(Y,0),t.setRng(l);return}}}},Av=(e,t,o)=>{if(e){const a=t?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Sn(e)||!zE(e))return e}},XC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Af(e,t),pp=(e,t,o)=>e.schema.isValidChild(t,o),zE=(e,t=!1)=>{if(Oe(e)&&Ht(e)){const o=t?e.data.replace(/ /g," "):e.data;return Xl(o)}else return!1},g8=e=>Oe(e)&&Ht(e)&&e.length===0,uR=(e,t)=>{const o="[data-mce-cef-wrappable]",a=eo(e),l=zt(a)?o:`${o},${a}`;return Ar($e.fromDom(t),l)},VE=(e,t)=>{const o=e.dom;return YC(t)&&o.getContentEditable(t)==="false"&&uR(e,t)&&o.select('[contenteditable="true"]',t).length===0},ch=(e,t)=>Be(e)?e(t):(Oe(t)&&(e=e.replace(/%(\w+)/g,(o,a)=>t[a]||o)),e),B1=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),JC=(e,t)=>{if(st(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Wb(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},u2=(e,t,o)=>{const a=e.getStyle(t,o);return JC(a,o)},UE=(e,t)=>{let o;return e.getParent(t,a=>Sn(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},d2=(e,t,o)=>e.getParents(t,o,e.getRoot()),QC=(e,t,o)=>{const a=e.formatter.get(t);return Oe(a)&&Ae(a,o)},dR=(e,t)=>QC(e,t,a=>{const l=m=>Be(m)||m.length>1&&m.charAt(0)==="%";return Ae(["styles","attributes"],m=>wr(a,m).exists(p=>{const _=oe(p)?p:Du(p);return Ae(_,l)}))}),fR=(e,t,o)=>{const a=["inline","block","selector","attributes","styles","classes"],l=m=>pc(m,(p,_)=>Ae(a,A=>A===_));return QC(e,t,m=>{const p=l(m);return QC(e,o,_=>{const A=l(_);return xa(p,A)})})},jf=e=>Pl(e,"block"),mR=e=>jf(e)&&e.wrapper===!0,gR=e=>jf(e)&&e.wrapper!==!0,Bc=e=>Pl(e,"selector"),ii=e=>Pl(e,"inline"),hR=e=>Bc(e)&&ii(e)&&uf(wr(e,"mixed"),!0),e_=e=>Bc(e)&&e.expand!==!1&&!ii(e),pR=e=>{const t=[];let o=e;for(;o;){if(Ht(o)&&o.data!==ha||o.childNodes.length>1)return[];Sn(o)&&t.push(o),o=o.firstChild}return t},WE=e=>pR(e).length>0,t_=e=>pu(e.dom)&&WE(e.dom),bp=bu,f2=d2,n_=zE,o_=XC,bR=e=>as(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,m2=(e,t)=>{let o=t;for(;o;){if(Sn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},r_=(e,t,o,a)=>{const l=t.data;if(e){for(let m=o;m>0;m--)if(a(l.charAt(m-1)))return m}else for(let m=o;m<l.length;m++)if(a(l.charAt(m)))return m;return-1},g2=(e,t,o)=>r_(e,t,o,a=>ol(a)||Ev(a)),ZE=(e,t,o)=>r_(e,t,o,lh),jE=(e,t,o,a,l,m)=>{let p;const _=e.getParent(o,e.isBlock)||t,A=(q,Y,ee)=>{const me=Bd(e),we=l?me.backwards:me.forwards;return Q.from(we(q,Y,(ge,Ee)=>bp(ge.parentNode)?-1:(p=ge,ee(l,ge,Ee)),_))};return A(o,a,g2).bind(q=>m?A(q.container,q.offset+(l?-1:0),ZE):Q.some(q)).orThunk(()=>p?Q.some({container:p,offset:l?0:p.length}):Q.none())},Tv=(e,t,o,a,l)=>{const m=a[l];Ht(a)&&zt(a.data)&&m&&(a=m);const p=f2(e,a);for(let _=0;_<p.length;_++)for(let A=0;A<t.length;A++){const $=t[A];if(!(Oe($.collapsed)&&$.collapsed!==o.collapsed)&&Bc($)&&e.is(p[_],$.selector))return p[_]}return a},s_=(e,t,o,a)=>{var l;let m=o;const p=e.getRoot(),_=t[0];if(jf(_)&&(m=_.wrapper?null:e.getParent(o,_.block,p)),!m){const A=(l=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:p;m=e.getParent(Ht(o)?o.parentNode:o,$=>$!==p&&o_(e.schema,$),A)}if(m&&jf(_)&&_.wrapper&&(m=f2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!B1(m,"br")););return m||o},a_=(e,t,o,a)=>{const l=o.parentNode;return Oe(o[a])?!1:l===t||st(l)||e.isBlock(l)?!0:a_(e,t,l,a)},uh=(e,t,o,a,l)=>{let m=o;const p=l?"previousSibling":"nextSibling",_=e.getRoot();if(Ht(o)&&!n_(o)&&(l?a>0:a<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let A=m[p];A;A=A[p]){const $=Ht(A)&&!a_(e,_,A,p);if(!bp(A)&&!bR(A)&&!n_(A,$))return m}if(m===_||m.parentNode===_){o=m;break}m=m.parentNode}return o},dh=e=>bp(e.parentNode)||bp(e),vp=(e,t,o,a=!1)=>{let{startContainer:l,startOffset:m,endContainer:p,endOffset:_}=t;const A=o[0];return Sn(l)&&l.hasChildNodes()&&(l=pa(l,m),Ht(l)&&(m=0)),Sn(p)&&p.hasChildNodes()&&(p=pa(p,t.collapsed?_:_-1),Ht(p)&&(_=p.data.length)),l=m2(e,l),p=m2(e,p),dh(l)&&(l=bp(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Ht(l)&&(m=t.collapsed?l.length:0)),dh(p)&&(p=bp(p)?p:p.parentNode,t.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,Ht(p)&&(_=t.collapsed?0:p.length)),t.collapsed&&(jE(e,e.getRoot(),l,m,!0,a).each(({container:Y,offset:ee})=>{l=Y,m=ee}),jE(e,e.getRoot(),p,_,!1,a).each(({container:Y,offset:ee})=>{p=Y,_=ee})),(ii(A)||A.block_expand)&&((!ii(A)||!Ht(l)||m===0)&&(l=uh(e,o,l,m,!0)),(!ii(A)||!Ht(p)||_===p.data.length)&&(p=uh(e,o,p,_,!1))),e_(A)&&(l=Tv(e,o,t,l,"previousSibling"),p=Tv(e,o,t,p,"nextSibling")),(jf(A)||Bc(A))&&(l=s_(e,o,l,"previousSibling"),p=s_(e,o,p,"nextSibling"),jf(A)&&(e.isBlock(l)||(l=uh(e,o,l,m,!0),Ht(l)&&(m=0)),e.isBlock(p)||(p=uh(e,o,p,_,!1),Ht(p)&&(_=p.data.length)))),Sn(l)&&l.parentNode&&(m=e.nodeIndex(l),l=l.parentNode),Sn(p)&&p.parentNode&&(_=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:m,endContainer:p,endOffset:_}},h2=(e,t,o)=>{var a;const l=t.startOffset,m=pa(t.startContainer,l),p=t.endOffset,_=pa(t.endContainer,p-1),A=Ee=>{const Ze=Ee[0];Ht(Ze)&&Ze===m&&l>=Ze.data.length&&Ee.splice(0,1);const et=Ee[Ee.length-1];return p===0&&Ee.length>0&&et===_&&Ht(et)&&Ee.splice(Ee.length-1,1),Ee},$=(Ee,Ze,et)=>{const Xe=[];for(;Ee&&Ee!==et;Ee=Ee[Ze])Xe.push(Ee);return Xe},q=(Ee,Ze)=>e.getParent(Ee,et=>et.parentNode===Ze,Ze),Y=(Ee,Ze,et)=>{const Xe=et?"nextSibling":"previousSibling";for(let ft=Ee,Bt=ft.parentNode;ft&&ft!==Ze;ft=Bt){Bt=ft.parentNode;const qt=$(ft===Ee?ft:ft[Xe],Xe);qt.length&&(et||qt.reverse(),o(A(qt)))}};if(m===_)return o(A([m]));const ee=(a=e.findCommonAncestor(m,_))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,_))return Y(m,ee,!0);if(e.isChildOf(_,m))return Y(_,ee);const me=q(m,ee)||m,we=q(_,ee)||_;Y(m,me,!0);const ge=$(me===m?me:me.nextSibling,"nextSibling",we===_?we.nextSibling:we);ge.length&&o(A(ge)),Y(_,we)},h8=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vR=e=>Qr(e)&&Mm(e)===ha,yR=(e,t,o,a)=>Qa(t).fold(()=>"skipping",l=>a==="br"||vR(t)?"valid":kx(t)?"existing":pu(t.dom)?"caret":Ae(h8,m=>Ar(t,m))?"valid-block":!pp(e,o,a)||!pp(e,zo(l),o)?"invalid-child":"valid"),yp=(e,t)=>{const o=vp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},xp=(e,t,o,a,l,m)=>{const{uid:p=t,..._}=o;Ed(e,ws()),fa(e,`${Ks()}`,p),fa(e,`${Cs()}`,a);const{attributes:A={},classes:$=[]}=l(p,_);if(Ai(e,A),Yb(e,$),m){$.length>0&&fa(e,`${gs()}`,$.join(","));const q=Zt(A);q.length>0&&fa(e,`${Bs()}`,q.join(","))}},Bi=e=>{Ti(e,ws()),Co(e,`${Ks()}`),Co(e,`${Cs()}`),Co(e,`${Tr()}`);const t=Yc(e,`${Bs()}`).map(a=>a.split(",")).getOr([]),o=Yc(e,`${gs()}`).map(a=>a.split(",")).getOr([]);pe(t,a=>Co(e,a)),eh(e,o),Co(e,`${gs()}`),Co(e,`${Bs()}`)},qm=(e,t,o,a,l)=>{const m=$e.fromTag("span",e);return xp(m,t,o,a,l,!1),m},ur=(e,t,o,a,l,m)=>{const p=[],_=qm(e.getDoc(),o,m,a,l),A=Sa(),$=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const we=Ms(_);return p.push(we),A.set(we),we}),Y=we=>{pe(we,ee)},ee=we=>{switch(yR(e,we,"span",zo(we))){case"invalid-child":{$();const Ee=ei(we);Y(Ee),$();break}case"valid-block":{$(),xp(we,o,m,a,l,!0);break}case"valid":{const Ee=q();Ml(we,Ee);break}}},me=we=>{const ge=Fe(we,$e.fromDom);Y(ge)};return h2(e.dom,t,we=>{$(),me(we)}),p},p8=(e,t,o,a)=>{e.undoManager.transact(()=>{const l=e.selection,m=l.getRng(),p=Zf(e).length>0,_=Ii("mce-annotation");if(m.collapsed&&!p&&yp(e,m),l.getRng().collapsed&&!p){const A=qm(e.getDoc(),_,a,t,o.decorate);Cm(A,Ca),l.getRng().insertNode(A.dom),l.select(A.dom)}else GC(l,!1,()=>{P1(e,A=>{ur(e,A,_,t,o.decorate,a)})})})},xR=e=>{const t=Ax();l1(e,t);const o=i1(e,t),a=hf("span"),l=m=>{pe(m,p=>{a(p)?Ni(p):Bi(p)})};return{register:(m,p)=>{t.register(m,p)},annotate:(m,p)=>{t.lookup(m).each(_=>{p8(e,m,_,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{a1(e,Q.some(m)).each(({elements:p})=>{const _=e.selection.getBookmark();l(p),e.selection.moveToBookmark(_)})},removeAll:m=>{const p=e.selection.getBookmark();Xo(Qg(e,m),(_,A)=>{l(_)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=Qg(e,m);return Il(p,_=>Fe(_,A=>A.dom))}}},Mr=e=>({getBookmark:Lt(d8,e),moveToBookmark:Lt(f8,e)});Mr.isBookmarkNode=bu;const KE=(e,t,o)=>o.collapsed?!1:Ae(o.getClientRects(),a=>g1(a,e,t)),p2=(e,t)=>e.dispatch("PreProcess",t),b2=(e,t)=>e.dispatch("PostProcess",t),v2=e=>{e.dispatch("remove")},y2=e=>{e.dispatch("detach")},wR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},b8=(e,t,o,a,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:a,origin:l})},v8=(e,t,o,a,l)=>{e.dispatch("ObjectResized",{target:t,width:o,height:a,origin:l})},y8=e=>{e.dispatch("PreInit")},x8=e=>{e.dispatch("PostRender")},Gs=e=>{e.dispatch("Init")},CR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},qE=(e,t,o)=>{e.dispatch(t,o)},_R=(e,t,o,a)=>{e.dispatch("FormatApply",{format:t,node:o,vars:a})},SR=(e,t,o,a)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:a})},w8=(e,t)=>e.dispatch("BeforeSetContent",t),nc=(e,t)=>e.dispatch("SetContent",t),Kf=(e,t)=>e.dispatch("BeforeGetContent",t),kR=(e,t)=>e.dispatch("GetContent",t),GE=(e,t)=>{e.dispatch("AutocompleterStart",t)},YE=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},XE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},C8=e=>{e.dispatch("AutocompleterEnd")},x2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),i_=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),l_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),_8=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),cn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||cn.metaKeyPressed(e),metaKeyPressed:e=>Eo.os.isMacOS()||Eo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ov="data-mce-selected",S8="table,img,figure.image,hr,video,span.mce-preview-object,details",vu=Math.abs,wp=Math.round,c_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ud=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Rr=(e,t)=>{const o=t.dom,a=t.getDoc(),l=document,m=t.getBody();let p,_,A,$,q,Y,ee,me,we,ge,Ee,Ze,et,Xe,ft,Bt,qt;const mn=fn=>Oe(fn)&&(Sc(fn)||o.is(fn,"figure.image")),_t=fn=>Ct(fn)||o.hasClass(fn,"mce-preview-object"),pt=(fn,ko)=>{if(Ud(fn)){const Po=fn.touches[0];return mn(fn.target)&&!KE(Po.clientX,Po.clientY,ko)}else return mn(fn.target)&&!KE(fn.clientX,fn.clientY,ko)},It=fn=>{const ko=fn.target;pt(fn,t.selection.getRng())&&!fn.isDefaultPrevented()&&t.selection.select(ko)},wn=fn=>o.hasClass(fn,"mce-preview-object")&&Oe(fn.firstElementChild)?[fn,fn.firstElementChild]:o.is(fn,"figure.image")?[fn.querySelector("img")]:[fn],Rn=fn=>{const ko=lD(t);return!ko||fn.getAttribute("data-mce-resize")==="false"||fn===t.getBody()?!1:o.hasClass(fn,"mce-preview-object")&&Oe(fn.firstElementChild)?Ar($e.fromDom(fn.firstElementChild),ko):Ar($e.fromDom(fn),ko)},So=(fn,ko)=>{if(_t(ko))return fn.create("img",{src:Eo.transparentSrc});if(su(ko)){const Ci=Jr($.name,"n")?yn:no,Nr=ko.cloneNode(!0);return Ci(fn.select("tr",Nr)).each(ui=>{const em=fn.select("td,th",ui);fn.setStyle(ui,"height",null),pe(em,Dh=>fn.setStyle(Dh,"height",null))}),Nr}else return ko.cloneNode(!0)},No=(fn,ko,Po)=>{if(Oe(Po)){const Ci=wn(fn);pe(Ci,Nr=>{Nr.style[ko]||!t.schema.isValid(Nr.nodeName.toLowerCase(),ko)?o.setStyle(Nr,ko,Po):o.setAttrib(Nr,ko,""+Po)})}},_r=(fn,ko,Po)=>{No(fn,"width",ko),No(fn,"height",Po)},Lr=fn=>{let ko,Po,Ci,Nr,ui;ko=fn.screenX-Y,Po=fn.screenY-ee,Xe=ko*$[2]+ge,ft=Po*$[3]+Ee,Xe=Xe<5?5:Xe,ft=ft<5?5:ft,(mn(p)||_t(p))&&cD(t)!==!1?Ci=!cn.modifierPressed(fn):Ci=cn.modifierPressed(fn),Ci&&(vu(ko)>vu(Po)?(ft=wp(Xe*Ze),Xe=wp(ft/Ze)):(Xe=wp(ft/Ze),ft=wp(Xe*Ze))),_r(_,Xe,ft),Nr=$.startPos.x+ko,ui=$.startPos.y+Po,Nr=Nr>0?Nr:0,ui=ui>0?ui:0,o.setStyles(A,{left:Nr,top:ui,display:"block"}),A.innerHTML=Xe+" &times; "+ft,$[2]<0&&_.clientWidth<=Xe&&o.setStyle(_,"left",me+(ge-Xe)),$[3]<0&&_.clientHeight<=ft&&o.setStyle(_,"top",we+(Ee-ft)),ko=m.scrollWidth-Bt,Po=m.scrollHeight-qt,ko+Po!==0&&o.setStyles(A,{left:Nr-ko,top:ui-Po}),et||(b8(t,p,ge,Ee,"corner-"+$.name),et=!0)},na=()=>{const fn=et;et=!1,fn&&(No(p,"width",Xe),No(p,"height",ft)),o.unbind(a,"mousemove",Lr),o.unbind(a,"mouseup",na),l!==a&&(o.unbind(l,"mousemove",Lr),o.unbind(l,"mouseup",na)),o.remove(_),o.remove(A),o.remove(q),_l(p),fn&&(v8(t,p,Xe,ft,"corner-"+$.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),t.nodeChanged()},_l=fn=>{an();const ko=o.getPos(fn,m),Po=ko.x,Ci=ko.y,Nr=fn.getBoundingClientRect(),ui=Nr.width||Nr.right-Nr.left,em=Nr.height||Nr.bottom-Nr.top;p!==fn&&(en(),p=fn,Xe=ft=0);const Dh=t.dispatch("ObjectSelected",{target:fn});Rn(fn)&&!Dh.isDefaultPrevented()?Xo(c_,(lc,cd)=>{const tm=nm=>{const Pn=wn(p)[0];Y=nm.screenX,ee=nm.screenY,ge=Pn.clientWidth,Ee=Pn.clientHeight,Ze=Ee/ge,$=lc,$.name=cd,$.startPos={x:ui*lc[0]+Po,y:em*lc[1]+Ci},Bt=m.scrollWidth,qt=m.scrollHeight,q=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=So(o,p),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:Po,top:Ci,margin:0}),_r(_,ui,em),_.removeAttribute(Ov),m.appendChild(_),o.bind(a,"mousemove",Lr),o.bind(a,"mouseup",na),l!==a&&(o.bind(l,"mousemove",Lr),o.bind(l,"mouseup",na)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ge+" &times; "+Ee)};let ud=o.get("mceResizeHandle"+cd);ud&&o.remove(ud),ud=o.add(m,"div",{id:"mceResizeHandle"+cd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+cd+"-resize; margin:0; padding:0"}),o.bind(ud,"mousedown",nm=>{nm.stopImmediatePropagation(),nm.preventDefault(),tm(nm)}),lc.elm=ud,o.setStyles(ud,{left:ui*lc[0]+Po-ud.offsetWidth/2,top:em*lc[1]+Ci-ud.offsetHeight/2})}):en(!1)},Vr=Jg(_l,0),en=(fn=!0)=>{Vr.cancel(),an(),p&&fn&&p.removeAttribute(Ov),Xo(c_,(ko,Po)=>{const Ci=o.get("mceResizeHandle"+Po);Ci&&(o.unbind(Ci),o.remove(Ci))})},On=(fn,ko)=>o.isChildOf(fn,ko),lr=fn=>{if(et||t.removed||t.composing)return;const ko=fn.type==="mousedown"?fn.target:e.getNode(),Po=Fa($e.fromDom(ko),S8).map(Nr=>Nr.dom).filter(Nr=>o.isEditable(Nr.parentElement)||Nr.nodeName==="IMG"&&o.isEditable(Nr)).getOrUndefined(),Ci=Oe(Po)?o.getAttrib(Po,Ov,"1"):"1";if(pe(o.select(`img[${Ov}],hr[${Ov}]`),Nr=>{Nr.removeAttribute(Ov)}),Oe(Po)&&On(Po,m)&&t.hasFocus()){Hn();const Nr=e.getStart(!0);if(On(Nr,Po)&&On(e.getEnd(!0),Po)){o.setAttrib(Po,Ov,Ci),Vr.throttle(Po);return}}en()},an=()=>{Xo(c_,fn=>{fn.elm&&(o.unbind(fn.elm),delete fn.elm)})},Hn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Hn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",lr),t.on("keyup compositionend",fn=>{p&&p.nodeName==="TABLE"&&lr(fn)}),t.on("hide blur",en),t.on("contextmenu longpress",It,!0)}),t.on("remove",an),{isResizable:Rn,showResizeRect:_l,hideResizeRect:en,updateResizeRect:lr,destroy:()=>{Vr.cancel(),p=_=q=null}}},M1=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},u_=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},JE=(e,t,o)=>{const a=e.document.createRange();return M1(a,t),u_(a,o),a},w2=(e,t,o,a,l)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(a.dom,l),m},Dv=Mo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ER=(e,t,o)=>t($e.fromDom(o.startContainer),o.startOffset,$e.fromDom(o.endContainer),o.endOffset),QE=(e,t)=>t.match({domRange:o=>({ltr:ct(o),rtl:Q.none}),relative:(o,a)=>({ltr:kl(()=>JE(e,o,a)),rtl:kl(()=>Q.some(JE(e,a,o)))}),exact:(o,a,l,m)=>({ltr:kl(()=>w2(e,o,a,l,m)),rtl:kl(()=>Q.some(w2(e,l,m,o,a)))})}),k8=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>Dv.rtl($e.fromDom(l.endContainer),l.endOffset,$e.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>ER(e,Dv.ltr,o)):ER(e,Dv.ltr,o)},AR=(e,t)=>{const o=QE(e,t);return k8(e,o)};Dv.ltr,Dv.rtl;const d_={create:(e,t,o,a)=>({start:e,soffset:t,finish:o,foffset:a})},TR=(e,t,o)=>{var a;return Q.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,t,o)).bind(l=>{if(l.offsetNode===null)return Q.none();const m=e.createRange();return m.setStart(l.offsetNode,l.offset),m.collapse(),Q.some(m)})},f_=(e,t,o)=>{var a;return Q.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,t,o))},A8=(e,t,o)=>e.caretPositionFromPoint?TR(e,t,o):e.caretRangeFromPoint?f_(e,t,o):Q.none(),T8=(e,t,o)=>{const a=e.document;return A8(a,t,o).map(l=>d_.create($e.fromDom(l.startContainer),l.startOffset,$e.fromDom(l.endContainer),l.endOffset))},eA=Mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),O8=(e,t,o,a)=>e.fold(t,o,a),D8=e=>e.fold(_n,_n,_n),OR=eA.before,R8=eA.on,N8=eA.after,Gm={before:OR,on:R8,after:N8,cata:O8,getStart:D8},C2=Mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),I8=e=>C2.exact(e.start,e.soffset,e.finish,e.foffset),P8=e=>e.match({domRange:t=>$e.fromDom(t.startContainer),relative:(t,o)=>Gm.getStart(t),exact:(t,o,a,l)=>t}),DR=C2.domRange,Xu=C2.relative,L8=C2.exact,RR=e=>{const t=P8(e);return Bu(t)},tA=d_.create,Cp={domRange:DR,relative:Xu,exact:L8,exactFromRange:I8,getWin:RR,range:tA},_2=(e,t)=>{const o=zo(e);return o==="input"?Gm.after(e):be(["br","img"],o)?t===0?Gm.before(e):Gm.after(e):Gm.on(e,t)},NR=(e,t)=>{const o=e.fold(Gm.before,_2,Gm.after),a=t.fold(Gm.before,_2,Gm.after);return Cp.relative(o,a)},m_=(e,t,o,a)=>{const l=_2(e,t),m=_2(o,a);return Cp.relative(l,m)},IR=e=>e.match({domRange:t=>{const o=$e.fromDom(t.startContainer),a=$e.fromDom(t.endContainer);return m_(o,t.startOffset,a,t.endOffset)},relative:NR,exact:m_}),Mc=(e,t)=>{const a=document.createDocumentFragment();return pe(e,l=>{a.appendChild(l.dom)}),$e.fromDom(a)},B8=e=>{const t=Cp.getWin(e).dom,o=(l,m,p,_)=>w2(t,l,m,p,_),a=IR(e);return AR(t,a).match({ltr:o,rtl:o})},nA=(e,t,o)=>T8(e,t,o),PR=(e,t,o)=>{const a=Bu($e.fromDom(o));return nA(a.dom,e,t).map(l=>{const m=o.createRange();return m.setStart(l.start.dom,l.soffset),m.setEnd(l.finish.dom,l.foffset),m}).getOrUndefined()},S2=(e,t)=>Oe(e)&&Oe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,qf=(e,t,o)=>{let a=e;for(;a&&a!==t;){if(o(a))return a;a=a.parentNode}return null},g_=(e,t,o)=>qf(e,t,o)!==null,h_=(e,t,o)=>g_(e,t,a=>a.nodeName===o),LR=(e,t)=>$l(e)&&!g_(e,t,pu),BR=(e,t,o)=>{const a=t.parentNode;if(a){const l=new ti(t,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=l[o?"prev":"next"]();)if(as(m))return!0}return!1},MR=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},FR=(e,t)=>{let o=t;for(;o&&o!==e;){if(lo(o))return!0;o=o.parentNode}return!1},k2=(e,t,o,a,l)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),_=l.parentNode;let A,$;if(!_)return Q.none();const q=e.getParent(_,e.isBlock)||m;if(a&&as(l)&&t&&e.isEmpty(q))return Q.some(vt(_,e.nodeIndex(l)));const Y=new ti(l,q);for(;$=Y[a?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||LR($,m))return Q.none();if(Ht($)&&$.data.length>0)return h_($,m,"A")?Q.none():Q.some(vt($,a?$.data.length:0));if(e.isBlock($)||p[$.nodeName.toLowerCase()])return Q.none();A=$}return wo(A)?Q.none():o&&A?Q.some(vt(A,0)):Q.none()},oA=(e,t,o,a)=>{const l=e.getRoot();let m,p=!1,_=o?a.startContainer:a.endContainer,A=o?a.startOffset:a.endOffset;const $=Sn(_)&&A===_.childNodes.length,q=e.schema.getNonEmptyElements();let Y=o;if($l(_))return Q.none();if(Sn(_)&&A>_.childNodes.length-1&&(Y=!1),En(_)&&(_=l,A=0),_===l){if(Y&&(m=_.childNodes[A>0?A-1:0],m&&($l(m)||q[m.nodeName]||su(m))))return Q.none();if(_.hasChildNodes()){if(A=Math.min(!Y&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=Ht(_)&&$?_.data.length:0,!t&&_===l.lastChild&&su(_)||FR(l,_)||$l(_)||Yh(_))return Q.none();if(_.hasChildNodes()&&!su(_)){m=_;const ee=new ti(_,l);do{if(lo(m)||$l(m)){p=!1;break}if(Ht(m)&&m.data.length>0){A=Y?0:m.data.length,_=m,p=!0;break}if(q[m.nodeName.toLowerCase()]&&!cC(m)){A=e.nodeIndex(m),_=m.parentNode,Y||A++,p=!0;break}}while(m=Y?ee.next():ee.prev())}}}return t&&(Ht(_)&&A===0&&k2(e,$,t,!0,_).each(ee=>{_=ee.container(),A=ee.offset(),p=!0}),Sn(_)&&(m=_.childNodes[A],m||(m=_.childNodes[A-1]),m&&as(m)&&!MR(m,"A")&&!BR(e,m,!1)&&!BR(e,m,!0)&&k2(e,$,t,!0,m).each(ee=>{_=ee.container(),A=ee.offset(),p=!0}))),Y&&!t&&Ht(_)&&A===_.data.length&&k2(e,$,t,!1,_).each(ee=>{_=ee.container(),A=ee.offset(),p=!0}),p&&_?Q.some(vt(_,A)):Q.none()},Ym=(e,t)=>{const o=t.collapsed,a=t.cloneRange(),l=vt.fromRangeStart(t);return oA(e,o,!0,a).each(m=>{(!o||!vt.isAbove(l,m))&&a.setStart(m.container(),m.offset())}),o||oA(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),S2(t,a)?Q.none():Q.some(a)},E2=(e,t)=>e.splitText(t),A2=e=>{let t=e.startContainer,o=e.startOffset,a=e.endContainer,l=e.endOffset;if(t===a&&Ht(t)){if(o>0&&o<t.data.length)if(a=E2(t,o),t=a.previousSibling,l>o){l=l-o;const m=E2(a,l).previousSibling;t=a=m,l=m.data.length,o=0}else l=0}else if(Ht(t)&&o>0&&o<t.data.length&&(t=E2(t,o),o=0),Ht(a)&&l>0&&l<a.data.length){const m=E2(a,l).previousSibling;a=m,l=m.data.length}return{startContainer:t,startOffset:o,endContainer:a,endOffset:l}},_p=e=>({walk:(m,p)=>h2(e,m,p),split:A2,expand:(m,p={type:"word"})=>{if(p.type==="word"){const _=vp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return m},normalize:m=>Ym(e,m).fold(Xn,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});_p.compareRanges=S2,_p.getCaretRangeFromPoint=PR,_p.getSelectedNode=lp,_p.getNode=pa;const rA=((e,t)=>{const o=(_,A)=>{if(!P(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const $=_.dom;Di($)&&($.style[e]=A+"px")},a=_=>{const A=t(_);if(A<=0||A===null){const $=Rs(_,e);return parseFloat($)||0}return A},l=a,m=(_,A)=>on(A,($,q)=>{const Y=Rs(_,q),ee=Y===void 0?0:parseInt(Y,10);return isNaN(ee)?$:$+ee},0);return{set:o,get:a,getOuter:l,aggregate:m,max:(_,A,$)=>{const q=m(_,$);return A>q?A-q:0}}})("height",e=>{const t=e.dom;return Oi(e)?t.getBoundingClientRect().height:t.offsetHeight}),Rv=e=>rA.get(e),$R=()=>$e.fromDom(document),HR=(e,t)=>e.view(t).fold(ct([]),a=>{const l=e.owner(a),m=HR(e,l);return[a].concat(m)}),p_=(e,t)=>{const o=t.owner(e);return HR(t,o)};var $8=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?Q.none():Q.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map($e.fromDom)},owner:e=>Gl(e)});const zR=e=>{const t=$R(),o=ro(t),a=p_(e,$8),l=mo(e),m=dt(a,(p,_)=>{const A=mo(_);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return Re(m.left+l.left+o.left,m.top+l.top+o.top)},fh=e=>zo(e)==="textarea",VR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),UR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},WR=(e,t)=>{const o=ei(e);if(o.length===0||fh(e))return{element:e,offset:t};if(t<o.length&&!fh(o[t]))return{element:o[t],offset:0};{const a=o[o.length-1];return fh(a)?{element:e,offset:t}:zo(a)==="img"?{element:a,offset:1}:Qr(a)?{element:a,offset:Mm(a).length}:{element:a,offset:ei(a).length}}},T2=(e,t)=>{const o=Bn(e),a=Rv(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:t}},ZR=(e,t)=>{const o=WR(e,t),a=$e.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ha+"</span>");return vs(o.element,a),T2(a,()=>Cr(a))},jR=e=>T2($e.fromDom(e),Mt),KR=(e,t,o,a)=>{GR(e,(l,m)=>qR(e,t,o,a),o)},O2=(e,t,o,a,l)=>{const m={elm:a.element.dom,alignToTop:l};if(VR(e,m))return;const p=ro(t).top;o(e,t,p,a,l),UR(e,m)},qR=(e,t,o,a)=>{const l=$e.fromDom(e.getBody()),m=$e.fromDom(e.getDoc());M0(l);const p=ZR($e.fromDom(o.startContainer),o.startOffset);O2(e,m,t,p,a),p.cleanup()},b_=(e,t,o,a)=>{const l=$e.fromDom(e.getDoc());O2(e,l,o,jR(t),a)},GR=(e,t,o)=>{const a=o.startContainer,l=o.startOffset,m=o.endContainer,p=o.endOffset;t($e.fromDom(a),$e.fromDom(m));const _=e.dom.createRng();_.setStart(a,l),_.setEnd(m,p),e.selection.setRng(o)},D2=(e,t,o,a,l)=>{const m=t.pos;if(a)kn(m.left,m.top,l);else{const p=m.top-o+t.height;kn(-e.getBody().getBoundingClientRect().left,p,l)}},sA=(e,t,o,a,l,m)=>{const p=a+o,_=l.pos.top,A=l.bottom,$=A-_>=a;_<o?D2(e,l,a,m!==!1,t):_>p?D2(e,l,a,$?m!==!1:m===!0,t):A>p&&!$&&D2(e,l,a,m===!0,t)},R2=(e,t,o,a,l)=>{const m=Bu(t).dom.innerHeight;sA(e,t,o,m,a,l)},Xm=(e,t,o,a,l)=>{const m=Bu(t).dom.innerHeight;sA(e,t,o,m,a,l);const p=zR(a.element),_=Cc(window);p.top<_.y?ir(a.element,l!==!1):p.top>_.bottom&&ir(a.element,l===!0)},H8=(e,t,o)=>KR(e,R2,t,o),aA=(e,t,o)=>b_(e,t,R2,o),ca=(e,t,o)=>KR(e,Xm,t,o),iA=(e,t,o)=>b_(e,t,Xm,o),lA=(e,t,o)=>{(e.inline?aA:iA)(e,t,o)},Ju=(e,t,o)=>{(e.inline?H8:ca)(e,t,o)},cA=(e,t=!1)=>e.dom.focus({preventScroll:t}),uA=e=>{const t=eu(e).dom;return e.dom===t.activeElement},Nv=(e=$R())=>Q.from(e.dom.activeElement).map($e.fromDom),z8=e=>Nv(eu(e)).filter(t=>e.dom.contains(t.dom)),YR=(e,t)=>{const o=Qr(t)?Mm(t).length:ei(t).length+1;return e>o?o:e<0?0:e},F1=e=>Cp.range(e.start,YR(e.soffset,e.start),e.finish,YR(e.foffset,e.finish)),XR=(e,t)=>!wf(t.dom)&&(Ja(e,t)||Vo(e,t)),Sp=e=>t=>XR(e,t.start)&&XR(e,t.finish),V8=e=>e.inline||Eo.browser.isFirefox(),kp=e=>Cp.range($e.fromDom(e.startContainer),e.startOffset,$e.fromDom(e.endContainer),e.endOffset),U8=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?Q.none():Q.from(t.getRangeAt(0))).map(kp)},Qu=e=>{const t=Bu(e);return U8(t.dom).filter(Sp(e))},N2=(e,t)=>Q.from(t).filter(Sp(e)).map(F1),dA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),Q.some(t)}catch{return Q.none()}},$1=e=>{const t=V8(e)?Qu($e.fromDom(e.getBody())):Q.none();e.bookmark=t.isSome()?t:e.bookmark},fA=e=>(e.bookmark?e.bookmark:Q.none()).bind(o=>N2($e.fromDom(e.getBody()),o)).bind(dA),v_=e=>{fA(e).each(t=>e.selection.setRng(t))},ed={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},y_=(e,t)=>(P(t)||(t=0),setTimeout(e,t)),JR=(e,t)=>(P(t)||(t=0),setInterval(e,t)),Fc={setEditorTimeout:(e,t,o)=>y_(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const a=JR(()=>{e.removed?clearInterval(a):t()},o);return a}},mA=e=>e.type==="nodechange"&&e.selectionChange,Iv=(e,t)=>{const o=()=>{t.throttle()};Hr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Hr.DOM.unbind(document,"mouseup",o)})},gA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},QR=(e,t)=>{gA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{mA(o)||$1(e)})},W8=e=>{const t=Jg(()=>{$1(e)},0);e.on("init",()=>{e.inline&&Iv(e,t),QR(e,t)}),e.on("remove",()=>{t.cancel()})};let Jm;const hA=Hr.DOM,eN=e=>Sn(e)&&ed.isEditorUIElement(e),I2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},x_=(e,t)=>{const o=dD(e);return hA.getParent(t,l=>eN(l)||(o?e.dom.is(l,o):!1))!==null},w_=e=>{try{const t=eu($e.fromDom(e.getElement()));return Nv(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},tN=(e,t)=>{const o=t.editor;W8(o);const a=(l,m)=>{if(wD(l)&&l.inline!==!0){const p=$e.fromDom(l.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;I2(w_(o))&&a(o,Ed),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Fc.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!I2(w_(o))||l!==o)&&a(o,Ti),!x_(o,w_(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Jm||(Jm=l=>{const m=e.activeEditor;m&&kb(l).each(p=>{const _=p;_.ownerDocument===document&&_!==document.body&&!x_(m,_)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},hA.bind(document,"focusin",Jm))},Z8=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Jm&&(hA.unbind(document,"focusin",Jm),Jm=null)},j8=e=>{e.on("AddEditor",Lt(tN,e)),e.on("RemoveEditor",Lt(Z8,e))},K8=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),q8=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,G8=e=>e.collapsed?Q.from(pa(e.startContainer,e.startOffset)).map($e.fromDom):Q.none(),Y8=(e,t)=>G8(t).bind(o=>th(o)?Q.some(o):Ja(e,o)?Q.none():Q.some(e)),nN=(e,t)=>{Y8($e.fromDom(e.getBody()),t).bind(o=>Kn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},C_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},X8=e=>uA(e)||z8(e).isSome(),J8=e=>Oe(e.iframeElement)&&uA($e.fromDom(e.iframeElement)),Q8=e=>{const t=e.getBody();return t&&X8($e.fromDom(t))},oN=e=>{const t=eu($e.fromDom(e.getElement()));return Nv(t).filter(o=>!I2(o.dom)&&x_(e,o.dom)).isSome()},H1=e=>e.inline?Q8(e):J8(e),Pv=e=>H1(e)||oN(e),eF=e=>{const t=e.selection,o=e.getBody();let a=t.getRng();e.quirks.refreshContentEditable();const l=p=>{fA(p).each(_=>{p.selection.setRng(_),a=_})};!H1(e)&&e.hasEditableRoot()&&l(e);const m=K8(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){q8(e,m)||C_(o),C_(m),e.hasEditableRoot()||l(e),nN(e,a),pA(e);return}e.inline||(Eo.browser.isOpera()||C_(o),e.getWin().focus()),(Eo.browser.isFirefox()||e.inline)&&(C_(o),nN(e,a)),pA(e)},pA=e=>e.editorManager.setActive(e),rN=(e,t)=>{e.removed||(t?pA(e):eF(e))},sN=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),aN=(e,t,o,a,l)=>{const m=o?t.startContainer:t.endContainer,p=o?t.startOffset:t.endOffset;return Q.from(m).map($e.fromDom).map(_=>!a||!t.collapsed?Fu(_,l(_,p)).getOr(_):_).bind(_=>Ds(_)?Q.some(_):Qa(_).filter(Ds)).map(_=>_.dom).getOr(e)},iN=(e,t,o=!1)=>aN(e,t,!0,o,(a,l)=>Math.min(Td(a),l)),lN=(e,t,o=!1)=>aN(e,t,!1,o,(a,l)=>l>0?l-1:l),cN=(e,t)=>{const o=e;for(;e&&Ht(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},tF=(e,t)=>{if(!t)return e;let o=t.startContainer,a=t.endContainer;const l=t.startOffset,m=t.endOffset;let p=t.commonAncestorContainer;t.collapsed||(o===a&&m-l<2&&o.hasChildNodes()&&(p=o.childNodes[l]),Ht(o)&&Ht(a)&&(o.length===l?o=cN(o.nextSibling,!0):o=o.parentNode,m===0?a=cN(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const _=Ht(p)?p.parentNode:p;return ru(_)?_:e},bA=(e,t,o,a)=>{const l=[],m=e.getRoot(),p=e.getParent(o||iN(m,t,t.collapsed),e.isBlock),_=e.getParent(a||lN(m,t,t.collapsed),e.isBlock);if(p&&p!==m&&l.push(p),p&&_&&p!==_){let A;const $=new ti(p,m);for(;(A=$.next())&&A!==_;)e.isBlock(A)&&l.push(A)}return _&&p!==_&&_!==m&&l.push(_),l},P2=(e,t,o)=>Q.from(t).bind(a=>Q.from(a.parentNode).map(l=>{const m=e.nodeIndex(a),p=e.createRng();return p.setStart(l,m),p.setEnd(l,m+1),o&&(c2(e,p,a,!0),c2(e,p,a,!1)),p})),__=(e,t)=>Fe(t,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),nF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Lv=(e,t,o)=>{const a=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[a])return e[a];if(e!==t){let m=e[l];if(m)return m;for(let p=e.parent;p&&p!==t;p=p.parent)if(m=p[l],m)return m}},uN=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Xl(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},Ea=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class wi{static create(t,o){const a=new wi(t,nF[t]||1);return o&&Xo(o,(l,m)=>{a.attr(m,l)}),a}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const a=this;if(!fe(t))return Oe(t)&&Xo(t,(m,p)=>{a.attr(p,m)}),a;const l=a.attributes;if(l){if(o!==void 0){if(o===null){if(t in l.map){delete l.map[t];let m=l.length;for(;m--;)if(l[m].name===t)return l.splice(m,1),a}return a}if(t in l.map){let m=l.length;for(;m--;)if(l[m].name===t){l[m].value=o;break}}else l.push({name:t,value:o});return l.map[t]=o,a}return l.map[t]}}clone(){const t=this,o=new wi(t.name,t.type),a=t.attributes;if(a){const l=[];l.map={};for(let m=0,p=a.length;m<p;m++){const _=a[m];_.name!=="id"&&(l[l.length]={name:_.name,value:_.value},l.map[_.name]=_.value)}o.attributes=l}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const a=o.next;t.insert(o,t,!0),o=a}t.remove()}remove(){const t=this,o=t.parent,a=t.next,l=t.prev;return o&&(o.firstChild===t?(o.firstChild=a,a&&(a.prev=null)):l&&(l.next=a),o.lastChild===t?(o.lastChild=l,l&&(l.next=null)):a&&(a.prev=l),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const a=o.lastChild;return a?(a.next=t,t.prev=a,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,a){t.parent&&t.remove();const l=o.parent||this;return a?(o===l.firstChild?l.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===l.lastChild?l.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=l,t}getAll(t){const o=this,a=[];for(let l=o.firstChild;l;l=Lv(l,o))l.name===t&&a.push(l);return a}children(){const t=this,o=[];for(let a=t.firstChild;a;a=a.next)o.push(a);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let l=t.firstChild;l;l=Lv(l,t))o.push(l);let a=o.length;for(;a--;){const l=o[a];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},a){var l;const m=this;let p=m.firstChild;if(Ea(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(t[p.name]||Ea(p))return!1}if(p.type===8||p.type===3&&!uN(p)||p.type===3&&p.parent&&o[p.parent.name]&&Xl((l=p.value)!==null&&l!==void 0?l:"")||a&&a(p))return!1}while(p=Lv(p,m));return!0}walk(t){return Lv(this,null,t)}}const dN=Yt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),S_=e=>fe(e.nodeValue)&&e.nodeValue.includes(ha),L2=e=>`${e.length===0?"":`${Fe(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Ep=(e,t)=>t.querySelectorAll(L2(e)),mh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>S_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),fN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(S_(t)){const o=t.parentNode;return o&&oo(dN,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),oF=e=>mh(e).nextNode()!==null,z1=e=>fN(e).nextNode()!==null,V1=(e,t)=>t.querySelector(L2(e))!==null,U1=(e,t)=>{pe(Ep(e,t),o=>{const a=$e.fromDom(o);pi(a,"data-mce-bogus")==="all"?Cr(a):pe(e,l=>{Sd(a,l)&&Co(a,l)})})},k_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},vA=tn(k_,mh),mN=tn(k_,fN),yA=(e,t)=>{const o=[{condition:Lt(V1,t),action:Lt(U1,t)},{condition:oF,action:vA},{condition:z1,action:mN}];let a=e,l=!1;return pe(o,({condition:m,action:p})=>{m(a)&&(l||(a=e.cloneNode(!0),l=!0),p(a))}),a},gN=e=>{const t=ia(e,"[data-mce-bogus]");pe(t,o=>{pi(o,"data-mce-bogus")==="all"?Cr(o):Ku(o)?(vs(o,$e.fromText(ys)),Cr(o)):Ni(o)})},hN=e=>{const t=ia(e,"input");pe(t,o=>{Co(o,"name")})},pN=(e,t)=>{const o=nl(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(a,"")},bN=(e,t)=>{const o=e.getDoc(),a=eu($e.fromDom(e.getBody())),l=$e.fromTag("div",o);fa(l,"data-mce-bogus","all"),Bo(l,{position:"fixed",left:"-9999999px",top:"0"}),Cm(l,t.innerHTML),gN(l),hN(l);const m=B0(a);Ns(m,l);const p=vl(l.dom.innerText);return Cr(l),p},B2=(e,t,o)=>{let a;return t.format==="raw"?a=Yt.trim(vl(yA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?a=bN(e,o):t.format==="tree"?a=e.serializer.serialize(o,t):a=pN(e,e.serializer.serialize(o,t)),t.format!=="text"&&!rv($e.fromDom(o))&&fe(a)?Yt.trim(a):a},vN=(e,t)=>Q.from(e.getBody()).fold(ct(t.format==="tree"?new wi("body",11):""),o=>B2(e,t,o)),xA=Yt.makeMap,wA=e=>{const t=[];e=e||{};const o=e.indent,a=xA(e.indent_before||""),l=xA(e.indent_after||""),m=Ug.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(_,A,$)=>{if(o&&a[_]&&t.length>0){const q=t[t.length-1];q.length>0&&q!==`
`&&t.push(`
`)}if(t.push("<",_),A)for(let q=0,Y=A.length;q<Y;q++){const ee=A[q];t.push(" ",ee.name,'="',m(ee.value,!0),'"')}if(!$||p?t[t.length]=">":t[t.length]=" />",$&&o&&l[_]&&t.length>0){const q=t[t.length-1];q.length>0&&q!==`
`&&t.push(`
`)}},end:_=>{let A;t.push("</",_,">"),o&&l[_]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(_,A)=>{_.length>0&&(t[t.length]=A?_:m(_))},cdata:_=>{t.push("<![CDATA[",_,"]]>")},comment:_=>{t.push("<!--",_,"-->")},pi:(_,A)=>{A?t.push("<?",_," ",m(A),"?>"):t.push("<?",_,"?>"),o&&t.push(`
`)},doctype:_=>{t.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},gh=(e={},t=Oc())=>{const o=wA(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const m=e.validate,p={3:A=>{var $;o.text(($=A.value)!==null&&$!==void 0?$:"",A.raw)},8:A=>{var $;o.comment(($=A.value)!==null&&$!==void 0?$:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var $;o.doctype(($=A.value)!==null&&$!==void 0?$:"")},4:A=>{var $;o.cdata(($=A.value)!==null&&$!==void 0?$:"")},11:A=>{let $=A;if($=$.firstChild)do _($);while($=$.next)}};o.reset();const _=A=>{var $;const q=p[A.type];if(q)q(A);else{const Y=A.name,ee=Y in t.getVoidElements();let me=A.attributes;if(m&&me&&me.length>1){const we=[];we.map={};const ge=t.getElementRule(A.name);if(ge){for(let Ee=0,Ze=ge.attributesOrder.length;Ee<Ze;Ee++){const et=ge.attributesOrder[Ee];if(et in me.map){const Xe=me.map[et];we.map[et]=Xe,we.push({name:et,value:Xe})}}for(let Ee=0,Ze=me.length;Ee<Ze;Ee++){const et=me[Ee].name;if(!(et in we.map)){const Xe=me.map[et];we.map[et]=Xe,we.push({name:et,value:Xe})}}me=we}}if(o.start(Y,me,ee),Am(Y))fe(A.value)&&o.text(A.value,!0),o.end(Y);else if(!ee){let we=A.firstChild;if(we){(Y==="pre"||Y==="textarea")&&we.type===3&&(($=we.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do _(we);while(we=we.next)}o.end(Y)}}};return l.type===1&&!e.inner?_(l):l.type===3?p[3](l):p[11](l),o.getContent()}}},CA=new Set;pe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{CA.add(t)});const _A=new Set;pe(["background-color"],t=>{_A.add(t)});const SA=["font","text-decoration","text-emphasis"],yN=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Bv=(e,t)=>Zt(yN(e,t)),kA=e=>CA.has(e),M2=e=>_A.has(e),EA=(e,t)=>Ae(Bv(e,t),o=>kA(o)),xN=(e,t)=>EA(e,t)&&Ae(Bv(e,t),o=>M2(o)),E_=e=>We(e,t=>Ae(SA,o=>Jr(t,o))),rF=(e,t,o)=>{const a=Bv(e,t),l=Bv(e,o),m=p=>{var _,A;const $=(_=e.getStyle(t,p))!==null&&_!==void 0?_:"",q=(A=e.getStyle(o,p))!==null&&A!==void 0?A:"";return Qe($)&&Qe(q)&&$!==q};return Ae(a,p=>{const _=A=>Ae(A,$=>$===p);if(!_(l)&&_(SA)){const A=E_(l);return Ae(A,m)}else return m(p)})},wN=(e,t,o)=>Q.from(o.container()).filter(Ht).exists(a=>{const l=e?0:-1;return t(a.data.charAt(o.offset()+l))}),hh=Lt(wN,!0,Ev),F2=Lt(wN,!1,Ev),CN=e=>{const t=e.container();return Ht(t)&&(t.data.length===0||Ic(t.data)&&Mr.isBookmarkNode(t.parentNode))},Wd=(e,t)=>o=>UC(e?0:-1,o).filter(t).isSome(),AA=e=>Sc(e)&&Rs($e.fromDom(e),"display")==="block",A_=e=>lo(e)&&!$0(e),_N=Wd(!0,AA),SN=Wd(!1,AA),Mv=Wd(!0,Ct),W1=Wd(!1,Ct),kN=Wd(!0,su),Z1=Wd(!1,su),Aa=Wd(!0,A_),Gf=Wd(!1,A_),Fv=e=>e.slice(0,-1),EN=(e,t,o)=>Ja(t,e)?Fv(vm(e,a=>o(a)||Vo(a,t))):[],oc=(e,t)=>EN(e,t,Xn),$c=(e,t)=>[e].concat(oc(e,t)),T_=(e,t,o)=>qD(e,t,o,CN),AN=e=>t=>e.isBlock(zo(t)),TA=(e,t,o)=>vn($c($e.fromDom(t.container()),e),AN(o)),j1=(e,t,o,a)=>T_(e,t.dom,o).forall(l=>TA(t,o,a).fold(()=>!jm(l,o,t.dom),m=>!jm(l,o,t.dom)&&Ja(m,$e.fromDom(l.container())))),O_=(e,t,o,a)=>TA(t,o,a).fold(()=>T_(e,t.dom,o).forall(l=>!jm(l,o,t.dom)),l=>T_(e,l.dom,o).isNone()),D_=Lt(O_,!1),TN=Lt(O_,!0),OA=Lt(j1,!1),DA=Lt(j1,!0),sF=e=>WC(e).exists(Ku),td=(e,t,o,a)=>{const l=We($c($e.fromDom(o.container()),t),p=>a.isBlock(zo(p))),m=yn(l).getOr(t);return hu(e,m.dom,o).filter(sF)},$2=(e,t,o)=>WC(t).exists(Ku)||td(!0,e,t,o).isSome(),$v=(e,t,o)=>i8(t).exists(Ku)||td(!1,e,t,o).isSome(),R_=Lt(td,!1),ON=Lt(td,!0),RA=e=>vt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),NA=(e,t,o)=>{const a=We($c($e.fromDom(t.container()),e),l=>o.isBlock(zo(l)));return yn(a).getOr(e)},DN=(e,t,o)=>RA(t)?F2(t):F2(t)||Lc(NA(e,t,o).dom,t).exists(F2),RN=(e,t,o)=>RA(t)?hh(t):hh(t)||Hl(NA(e,t,o).dom,t).exists(hh),NN=e=>be(["pre","pre-wrap"],e),N_=e=>WC(e).bind(t=>aa(t,Ds)).exists(t=>NN(Rs(t,"white-space"))),IA=(e,t)=>Lc(e.dom,t).isNone(),PA=(e,t)=>Hl(e.dom,t).isNone(),IN=(e,t,o)=>IA(e,t)||PA(e,t)||D_(e,t,o)||TN(e,t,o)||$v(e,t,o)||$2(e,t,o),LA=e=>Oe(e)&&lo(e)&&AE(e),BA=(e,t)=>o=>LA(new ti(o,e)[t]()),PN=(e,t)=>{const o=Hl(e.dom,t).getOr(t),a=BA(e.dom,"next");return t.isAtEnd()&&(a(t.container())||a(o.container()))},MA=(e,t)=>{const o=Lc(e.dom,t).getOr(t),a=BA(e.dom,"prev");return t.isAtStart()&&(a(t.container())||a(o.container()))},FA=(e,t,o)=>N_(t)?!1:IN(e,t,o)||DN(e,t,o)||RN(e,t,o),K1=(e,t,o)=>N_(t)?!1:D_(e,t,o)||OA(e,t,o)||$v(e,t,o)||DN(e,t,o)||MA(e,t),LN=e=>{const t=e.container(),o=e.offset();return Ht(t)&&o<t.data.length?vt(t,o+1):e},Hv=(e,t,o)=>N_(t)?!1:TN(e,t,o)||DA(e,t,o)||$2(e,t,o)||RN(e,t,o)||PN(e,t),$A=(e,t,o)=>K1(e,t,o)||Hv(e,LN(t),o),H2=(e,t)=>ol(e.charAt(t)),HA=(e,t)=>Ev(e.charAt(t)),BN=e=>{const t=e.container();return Ht(t)&&Er(t.data,Ca)},aF=e=>{const t=e.split("");return Fe(t,(o,a)=>ol(o)&&a>0&&a<t.length-1&&lh(t[a-1])&&lh(t[a+1])?" ":o).join("")},MN=(e,t,o,a)=>{const l=t.data,m=vt(t,0);return!o&&H2(l,0)&&!$A(e,m,a)?(t.data=" "+l.slice(1),!0):o&&HA(l,0)&&K1(e,m,a)?(t.data=Ca+l.slice(1),!0):!1},FN=e=>{const t=e.data,o=aF(t);return o!==t?(e.data=o,!0):!1},$N=(e,t,o,a)=>{const l=t.data,m=vt(t,l.length-1);return!o&&H2(l,l.length-1)&&!$A(e,m,a)?(t.data=l.slice(0,-1)+" ",!0):o&&HA(l,l.length-1)&&Hv(e,m,a)?(t.data=l.slice(0,-1)+Ca,!0):!1},HN=(e,t,o)=>{const a=t.container();if(!Ht(a))return Q.none();if(BN(t)){const l=MN(e,a,!1,o)||FN(a)||$N(e,a,!1,o);return Og(l,t)}else if($A(e,t,o)){const l=MN(e,a,!0,o)||$N(e,a,!0,o);return Og(l,t)}else return Q.none()},iF=e=>{const t=$e.fromDom(e.getBody());e.selection.isCollapsed()&&HN(t,vt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},zN=(e,t,o,a)=>{if(o===0)return;const l=$e.fromDom(e),m=Yi(l,$=>a.isBlock(zo($))).getOr(l),p=e.data.slice(t,t+o),_=t+o>=e.data.length&&Hv(m,vt(e,e.data.length),a),A=t===0&&K1(m,vt(e,0),a);e.replaceData(t,o,Db(p,4,A,_))},I_=(e,t,o)=>{const a=e.data.slice(t),l=a.length-gt(a).length;zN(e,t,l,o)},Ts=(e,t,o)=>{const a=e.data.slice(0,t),l=a.length-ut(a).length;zN(e,t-l,l,o)},z2=(e,t,o,a,l=!0)=>{const m=ut(e.data).length,p=l?e:t,_=l?t:e;return l?p.appendData(_.data):p.insertData(0,_.data),Cr($e.fromDom(_)),a&&I_(p,m,o),p},lF=(e,t)=>{const o=e.container(),a=e.offset();return!vt.isTextPosition(e)&&o===t.parentNode&&a>vt.before(t).offset()},cF=(e,t)=>lF(t,e)?vt(t.container(),t.offset()-1):t,q1=e=>Ht(e)?vt(e,0):vt.before(e),Ap=e=>Ht(e)?vt(e,e.data.length):vt.after(e),Qm=e=>uu(e.previousSibling)?Q.some(Ap(e.previousSibling)):e.previousSibling?Gu(e.previousSibling):Q.none(),zA=e=>uu(e.nextSibling)?Q.some(q1(e.nextSibling)):e.nextSibling?Kn(e.nextSibling):Q.none(),VN=(e,t)=>Q.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Lc(e,vt.before(o))).orThunk(()=>Hl(e,vt.after(t))),UN=(e,t)=>Hl(e,vt.after(t)).orThunk(()=>Lc(e,vt.before(t))),P_=(e,t)=>Qm(t).orThunk(()=>zA(t)).orThunk(()=>VN(e,t)),uF=(e,t)=>zA(t).orThunk(()=>Qm(t)).orThunk(()=>UN(e,t)),VA=(e,t,o)=>e?uF(t,o):P_(t,o),WN=(e,t,o)=>VA(e,t,o).map(Lt(cF,o)),UA=(e,t,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),t)})},WA=e=>t=>t.dom===e,ZN=(e,t)=>t&&oo(e.schema.getBlockElements(),zo(t)),ZA=(e,t,o)=>{if(Ps(e,t)){const a=$e.fromHtml('<br data-mce-bogus="1">');return o?pe(ei(t),l=>{t_(l)||Cr(l)}):Zr(t),Ns(t,a),Q.some(vt.before(a.dom))}else return Q.none()},dF=(e,t,o,a)=>{const l=ma(e).filter(Qr),m=Ln(e).filter(Qr);return Cr(e),ff(l,m,t,(p,_,A)=>{const $=p.dom,q=_.dom,Y=$.data.length;return z2($,q,o,a),A.container()===q?vt($,Y):A}).orThunk(()=>(a&&(l.each(p=>Ts(p.dom,p.dom.length,o)),m.each(p=>I_(p.dom,0,o))),t))},fF=(e,t)=>oo(e.schema.getTextInlineElements(),zo(t)),xl=(e,t,o,a=!0,l=!1)=>{const m=WN(t,e.getBody(),o.dom),p=Yi(o,Lt(ZN,e),WA(e.getBody())),_=dF(o,m,e.schema,fF(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(A=>ZA(e.schema,A,l)).fold(()=>{a&&UA(e,t,_)},A=>{a&&UA(e,t,Q.some(A))})},jN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,mF=e=>jN.test(e),zv=(e,t)=>Ar($e.fromDom(t),Ko(e))&&!Af(e.schema,t)&&e.dom.isEditable(t),V2=e=>{var t;return Hr.DOM.getStyle(e,"direction",!0)==="rtl"||mF((t=e.textContent)!==null&&t!==void 0?t:"")},gF=(e,t,o)=>We(Hr.DOM.getParents(o.container(),"*",t),e),Tp=(e,t,o)=>{const a=gF(e,t,o);return Q.from(a[a.length-1])},KN=(e,t,o)=>{const a=gp(t,e),l=gp(o,e);return Oe(a)&&a===l},jA=e=>sv(e)||m1(e),nd=(e,t)=>{const o=t.container(),a=t.offset();return e?$m(o)?Ht(o.nextSibling)?vt(o.nextSibling,0):vt.after(o):sv(t)?vt(o,a+1):t:$m(o)?Ht(o.previousSibling)?vt(o.previousSibling,o.previousSibling.data.length):vt.before(o):m1(t)?vt(o,a-1):t},qN=Lt(nd,!0),G1=Lt(nd,!1),KA=(e,t)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},GN=e=>{e.execCommand("delete")},L_=e=>KA(e,"Delete"),qA=e=>KA(e,"ForwardDelete"),U2=e=>t=>uf(Qa(t),e,Vo),YN=e=>nv(e)||Fm(e),W2=(e,t)=>Ja(e,t)?aa(t,YN,U2(e)):Q.none(),B_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},XN=(e,t,o)=>Ya(Kn(o),Gu(o),(a,l)=>{const m=nd(!0,a),p=nd(!1,l),_=nd(!1,t);return e?Hl(o,_).exists(A=>A.isEqual(p)&&t.isEqual(m)):Lc(o,_).exists(A=>A.isEqual(m)&&t.isEqual(p))}).getOr(!0),Zd=e=>(Ig(e)?ma(e):$u(e)).bind(Zd).orThunk(()=>Q.some(e)),M_=(e,t,o,a=!0)=>{var l;t.deleteContents();const m=Zd(o).getOr(o),p=$e.fromDom((l=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(p.dom===e.getBody()?B_(e,a):Ps(e.schema,p,{checkRootAsContent:!1})&&(Nc(p),a&&e.selection.setCursorLocation(p.dom,0)),!Vo(o,p)){const _=uf(Qa(p),o)?[]:Sb(p);pe(_.concat(ei(o)),A=>{!Vo(A,p)&&!Ja(A,p)&&Ps(e.schema,A)&&Cr(A)})}},hF=e=>t=>Vo(e,t),GA=e=>ia(e,"td,th"),br=(e,t)=>Or($e.fromDom(e),t),pF=e=>Ya(e.startTable,e.endTable,(t,o)=>{const a=F0(t,m=>Vo(m,o)),l=F0(o,m=>Vo(m,t));return!a&&!l?e:{...e,startTable:a?Q.none():e.startTable,endTable:l?Q.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Z2=e=>pF(e),bF=(e,t)=>{const o=br(e.startContainer,t),a=br(e.endContainer,t),l=o.isSome(),m=a.isSome(),p=Ya(o,a,Vo).getOr(!1);return Z2({startTable:o,endTable:a,isStartInTable:l,isEndInTable:m,isSameTable:p,isMultiTable:!p&&l&&m})},F_=(e,t)=>({start:e,end:t}),Op=(e,t,o)=>({rng:e,table:t,cells:o}),rl=Mo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Dp=(e,t)=>Fa($e.fromDom(e),"td,th",t),ph=e=>!Vo(e.start,e.end),Yf=(e,t)=>Or(e.start,t).bind(o=>Or(e.end,t).bind(a=>Og(Vo(o,a),o))),j2=(e,t)=>!ph(e)&&Yf(e,t).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),YA=(e,t)=>{const o=Dp(e.startContainer,t),a=Dp(e.endContainer,t);return Ya(o,a,F_)},XA=e=>t=>Or(t,e).bind(o=>no(GA(o)).map(a=>F_(t,a))),JN=e=>t=>Or(t,e).bind(o=>yn(GA(o)).map(a=>F_(a,t))),$_=e=>t=>Yf(t,e).map(o=>Op(t,o,GA(o))),QN=(e,t,o,a)=>{if(o.collapsed||!e.forall(ph))return Q.none();if(t.isSameTable){const l=e.bind($_(a));return Q.some({start:l,end:l})}else{const l=Dp(o.startContainer,a),m=Dp(o.endContainer,a),p=l.bind(XA(a)).bind($_(a)),_=m.bind(JN(a)).bind($_(a));return Q.some({start:p,end:_})}},e5=(e,t)=>Mn(e,o=>Vo(o,t)),H_=e=>Ya(e5(e.cells,e.rng.start),e5(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),t5=(e,t,o)=>e.exists(a=>j2(a,o)&&l2(a.start,t)),JA=(e,t)=>{const{startTable:o,endTable:a}=t,l=e.cloneRange();return o.each(m=>l.setStartAfter(m.dom)),a.each(m=>l.setEndBefore(m.dom)),l},n5=(e,t,o,a)=>QN(e,t,o,a).bind(({start:l,end:m})=>l.or(m)).bind(l=>{const{isSameTable:m}=t,p=H_(l).getOr([]);if(m&&l.cells.length===p.length)return Q.some(rl.fullTable(l.table));if(p.length>0){if(m)return Q.some(rl.partialTable(p,Q.none()));{const _=JA(o,t);return Q.some(rl.partialTable(p,Q.some({...t,rng:_})))}}else return Q.none()}),QA=(e,t,o,a)=>QN(e,t,o,a).bind(({start:l,end:m})=>{const p=l.bind(H_).getOr([]),_=m.bind(H_).getOr([]);if(p.length>0&&_.length>0){const A=JA(o,t);return Q.some(rl.multiTable(p,_,A))}else return Q.none()}),vF=(e,t)=>{const o=hF(e),a=YA(t,o),l=bF(t,o);return t5(a,t,o)?a.map(m=>rl.singleCellTable(t,m.start)):l.isMultiTable?QA(a,l,t,o):n5(a,l,t,o)},o5=e=>pe(e,t=>{Co(t,"contenteditable"),Nc(t)}),yF=(e,t)=>Q.from(e.dom.getParent(t,e.dom.isBlock)).map($e.fromDom),eg=(e,t,o)=>{o.each(a=>{t?Cr(a):(Nc(a),e.selection.setCursorLocation(a.dom,0))})},Vv=(e,t,o,a)=>{const l=o.cloneRange();a?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),n3(e,l,t,!1).each(m=>m())},e3=e=>{const t=Zf(e),o=$e.fromDom(e.selection.getNode());Gh(o.dom)&&Ps(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ae(t,a=>Vo(a,o))&&fa(o,"data-mce-selected","1")},t3=(e,t,o)=>Q.some(()=>{const a=e.selection.getRng(),l=o.bind(({rng:m,isStartInTable:p})=>{const _=yF(e,p?m.endContainer:m.startContainer);m.deleteContents(),eg(e,p,_.filter(Lt(Ps,e.schema)));const A=p?t[0]:t[t.length-1];return Vv(e,A,a,p),Ps(e.schema,A)?Q.none():Q.some(p?t.slice(1):t.slice(0,-1))}).getOr(t);o5(l),e3(e)}),r5=(e,t,o,a)=>Q.some(()=>{const l=e.selection.getRng(),m=t[0],p=o[o.length-1];Vv(e,m,l,!0),Vv(e,p,l,!1);const _=Ps(e.schema,m)?t:t.slice(1),A=Ps(e.schema,p)?o:o.slice(0,-1);o5(_.concat(A)),a.deleteContents(),e3(e)}),n3=(e,t,o,a=!0)=>Q.some(()=>{M_(e,t,o,a)}),Rp=(e,t)=>Q.some(()=>xl(e,!1,t)),xF=(e,t,o)=>vF(t,o).bind(a=>a.fold(Lt(n3,e),Lt(Rp,e),Lt(t3,e),Lt(r5,e))),wF=(e,t)=>z_(e,t),CF=(e,t,o,a)=>o3(t,a).fold(()=>xF(e,t,o),l=>wF(e,l)),_F=(e,t,o)=>{const a=$e.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?t3(e,o,Q.none()):CF(e,a,l,t)},s5=(e,t)=>vn($c(t,e),Rc),o3=(e,t)=>vn($c(t,e),hf("caption")),SF=(e,t,o,a,l)=>Sv(o,e.getBody(),l).bind(m=>s5(t,$e.fromDom(m.getNode())).bind(p=>Vo(p,a)?Q.none():Q.some(Mt))),z_=(e,t)=>Q.some(()=>{Nc(t),e.selection.setCursorLocation(t.dom,0)}),kF=(e,t,o,a)=>Kn(e.dom).bind(l=>Gu(e.dom).map(m=>t?o.isEqual(l)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(l))).getOr(!0),V_=(e,t)=>z_(e,t),EF=(e,t,o)=>o3(e,$e.fromDom(o.getNode())).fold(()=>Q.some(Mt),a=>Og(!Vo(a,t),Mt)),K2=(e,t,o,a,l)=>Sv(o,e.getBody(),l).fold(()=>Q.some(Mt),m=>kF(a,o,l,m)?V_(e,a):EF(t,a,m)),r3=(e,t,o,a)=>{const l=vt.fromRangeStart(e.selection.getRng());return s5(o,a).bind(m=>Ps(e.schema,m,{checkRootAsContent:!1})?z_(e,m):SF(e,o,t,m,l))},Uv=(e,t,o,a)=>{const l=vt.fromRangeStart(e.selection.getRng());return Ps(e.schema,a)?z_(e,a):K2(e,o,t,a,l)},Np=(e,t)=>e?kN(t):Z1(t),U_=(e,t)=>{const o=vt.fromRangeStart(e.selection.getRng());return Np(t,o)||hu(t,e.getBody(),o).exists(a=>Np(t,a))},W_=(e,t,o)=>{const a=$e.fromDom(e.getBody());return o3(a,o).fold(()=>r3(e,t,a,o).orThunk(()=>Og(U_(e,t),Mt)),l=>Uv(e,t,a,l))},bh=(e,t)=>{const o=$e.fromDom(e.selection.getStart(!0)),a=Zf(e);return e.selection.isCollapsed()&&a.length===0?W_(e,t,o):_F(e,o,a)},od=(e,t)=>{let o=t;for(;o&&o!==e;){if(kc(o)||lo(o))return o;o=o.parentNode}return null},Z_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],j_=Yt.each,K_=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const _=$=>{const q={};return j_(t.getAttribs($),Y=>{const ee=Y.nodeName.toLowerCase();ee!=="style"&&!l(ee)&&(q[ee]=t.getAttrib($,ee))}),q},A=($,q)=>{for(const Y in $)if(oo($,Y)){const ee=q[Y];if(je(ee)||$[Y]!==ee)return!1;delete q[Y]}for(const Y in q)if(oo(q,Y))return!1;return!0};return Sn(m)&&Sn(p)&&(!A(_(m),_(p))||!A(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(p,"style"))))?!1:!bu(m)&&!bu(p)},l=m=>Ae(Z_,p=>Jr(m,p))||o.has(m);return{compare:a,isAttributeInternal:l}},q_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),s3=e=>e.name==="summary",a5=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},a3=(e,t,o,a)=>{const l=o.name;for(let m=0,p=e.length;m<p;m++){const _=e[m];if(_.name===l){const A=a.nodes[l];A?A.nodes.push(o):a.nodes[l]={filter:_,nodes:[o]}}}if(o.attributes)for(let m=0,p=t.length;m<p;m++){const _=t[m],A=_.name;if(A in o.attributes.map){const $=a.attributes[A];$?$.nodes.push(o):a.attributes[A]={filter:_,nodes:[o]}}}},Y1=(e,t,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&a5(o,l=>{a3(e,t,l,a)}),a},i3=(e,t)=>{const o=(a,l)=>{Xo(a,m=>{const p=bo(m.nodes);pe(m.filter.callbacks,_=>{for(let A=p.length-1;A>=0;A--){const $=p[A];(!(l?$.attr(m.filter.name)!==void 0:$.name===m.filter.name)||st($.parent))&&p.splice(A,1)}p.length>0&&_(p,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},l3=(e,t,o,a={})=>{const l=Y1(e,t,o);i3(l,a)},G_=(e,t,o,a)=>{if((e.pad_empty_with_br||t.insert)&&o(a)){const m=new wi("br",1);t.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new wi("#text",3)).value=Ca},Y_=e=>{var t;return c3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ca},c3=(e,t)=>{const o=e==null?void 0:e.firstChild;return Oe(o)&&o===e.lastChild&&o.name===t},i5=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},X1=(e,t,o,a)=>a.isEmpty(t,o,l=>i5(e,l)),l5=(e,t)=>Oe(e)&&(t(e)||e.name==="br"),vh=e=>{let t;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(t=o)}return Q.from(t)},tg=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const l of a)o&&!t.isValidChild(o.name,l.name)&&tg(l,t,o);e.unwrap()}},yu=(e,t,o,a=Mt)=>{const l=t.getTextBlockElements(),m=t.getNonEmptyElements(),p=t.getWhitespaceElements(),_=Yt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,$=q=>q!==o&&!_[q.name];for(let q=0;q<e.length;q++){const Y=e[q];let ee,me,we;if(!Y.parent||A.has(Y))continue;if(l[Y.name]&&Y.parent.name==="li"){let Ee=Y.next;for(;Ee&&l[Ee.name];){Ee.name="li",A.add(Ee),Y.parent.insert(Ee,Y.parent);Ee=Ee.next}Y.unwrap();continue}const ge=[Y];for(ee=Y.parent;ee&&!t.isValidChild(ee.name,Y.name)&&$(ee);ee=ee.parent)ge.push(ee);if(ee&&ge.length>1)if(q2(t,Y,ee))tg(Y,t);else{ge.reverse(),me=ge[0].clone(),a(me);let Ee=me;for(let Ze=0;Ze<ge.length-1;Ze++){t.isValidChild(Ee.name,ge[Ze].name)&&Ze>0?(we=ge[Ze].clone(),a(we),Ee.append(we)):we=Ee;for(let et=ge[Ze].firstChild;et&&et!==ge[Ze+1];){const Xe=et.next;we.append(et),et=Xe}Ee=we}X1(t,m,p,me)?ee.insert(Y,ge[0],!0):(ee.insert(me,ge[0],!0),ee.insert(Y,me)),ee=ge[0],(X1(t,m,p,ee)||c3(ee,"br"))&&ee.empty().remove()}else if(Y.parent){if(Y.name==="li"){let Ee=Y.prev;if(Ee&&(Ee.name==="ul"||Ee.name==="ol")){Ee.append(Y);continue}if(Ee=Y.next,Ee&&(Ee.name==="ul"||Ee.name==="ol")&&Ee.firstChild){Ee.insert(Y,Ee.firstChild,!0);continue}const Ze=new wi("ul",1);a(Ze),Y.wrap(Ze);continue}if(t.isValidChild(Y.parent.name,"div")&&t.isValidChild("div",Y.name)){const Ee=new wi("div",1);a(Ee),Y.wrap(Ee)}else tg(Y,t)}}},u3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},q2=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&u3(o,"a")?!0:s3(o)&&q_(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,c5=(e,t,o,a)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(o,a),l},u5=e=>{const t=vt.fromRangeStart(e),o=vt.fromRangeEnd(e),a=e.commonAncestorContainer;return hu(!1,a,o).map(l=>!jm(t,o,a)&&jm(t,l,a)?c5(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},X_=e=>e.collapsed?e:u5(e),d3=e=>Oe(e.firstChild)&&e.firstChild===e.lastChild,d5=e=>e.name==="br"||e.value===Ca,f5=(e,t)=>e.getBlockElements()[t.name]&&d3(t)&&d5(t.firstChild),f3=(e,t)=>{const o=e.getNonEmptyElements();return Oe(t)&&(t.isEmpty(o)||f5(e,t))},ng=(e,t)=>{let o=t.firstChild,a=t.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),f3(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},jd=e=>{var t,o;const a=e.firstChild,l=e.lastChild;return a&&a.nodeName==="META"&&((t=a.parentNode)===null||t===void 0||t.removeChild(a)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},J_=(e,t,o)=>{const a=t.serialize(o),l=e.createFragment(a);return jd(l)},m5=e=>{var t;return We((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},Q_=e=>e.data===Ca||as(e),g5=e=>Oe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&Q_(e.firstChild),h5=e=>!e.firstChild||g5(e),p5=e=>e.length>0&&h5(e[e.length-1])?e.slice(0,-1):e,eS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},b5=(e,t)=>!!eS(e,t),v5=(e,t)=>{const o=t.cloneRange(),a=t.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},tS=(e,t)=>{const o=vt.before(e),l=$n(t).next(o);return l?l.toRange():null},nS=(e,t)=>{const o=vt.after(e),l=$n(t).prev(o);return l?l.toRange():null},y5=(e,t,o,a)=>{const l=v5(e,a),m=e.parentNode;return m&&(m.insertBefore(l[0],e),Yt.each(t,p=>{m.insertBefore(p,e)}),m.insertBefore(l[1],e),m.removeChild(e)),nS(t[t.length-1],o)},m3=(e,t,o)=>{const a=e.parentNode;return a&&Yt.each(t,l=>{a.insertBefore(l,e)}),tS(e,o)},AF=(e,t,o,a)=>(a.insertAfter(t.reverse(),e),nS(t[0],o)),TF=(e,t,o,a)=>{const l=J_(t,e,a),m=eS(t,o.startContainer),p=p5(m5(l.firstChild)),_=1,A=2,$=t.getRoot(),q=Y=>{const ee=vt.fromRangeStart(o),me=$n(t.getRoot()),we=Y===_?me.prev(ee):me.next(ee),ge=we==null?void 0:we.getNode();return ge?eS(t,ge)!==m:!0};return m?q(_)?m3(m,p,$):q(A)?AF(m,p,$,t):y5(m,p,$,o):null},OF=["pre"],DF=(e,t,o,a)=>{var l;const m=t.firstChild,p=t.lastChild,_=p.attr("data-mce-type")==="bookmark"?p.prev:p,A=m===_,$=be(OF,m.name);if(A&&$){const q=m.attr("contenteditable")!=="false",Y=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===m.name,ee=Q.from(od(a,o)).forall(kc);return q&&Y&&ee}else return!1},g3=Gh,RF=(e,t,o)=>{if(Oe(o)){const a=e.getParent(t.endContainer,g3);return o===a&&l2($e.fromDom(o),t)}else return!1},oS=(e,t,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(t),o);else{const l=o.firstChild,m=o.lastChild;!l||l===m&&l.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},h3=(e,t,o)=>{Q.from(e.getParent(t,"td,th")).map($e.fromDom).each(a=>Nx(a,o))},x5=(e,t)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(t){const l=e.getBody(),m=K_(e),p="*[data-mce-fragment]",_=a.select(p);Yt.each(_,A=>{const $=ee=>Oe(o[ee.nodeName.toLowerCase()]),q=ee=>ee.childNodes.length===1;if((ee=>!(EA(a,ee)||xN(a,ee)))(A)&&$(A)&&q(A)){const ee=Bv(a,A),me=(Ze,et)=>yo(Ze,Xe=>be(et,Xe)),we=Ze=>q(A)&&a.is(Ze,p)&&$(Ze)&&(Ze.nodeName===A.nodeName&&me(ee,Bv(a,Ze))||we(Ze.children[0])),ge=Ze=>Oe(Ze)&&Ze!==l&&(m.compare(A,Ze)||ge(Ze.parentElement)),Ee=Ze=>Oe(Ze)&&Ze!==l&&a.is(Ze,p)&&(rF(a,A,Ze)||Ee(Ze.parentElement));(we(A.children[0])||ge(A.parentElement)&&!Ee(A.parentElement))&&a.remove(A,!0)}})}},p3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},NF=e=>{Yt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},IF=e=>!!e.getAttribute("data-mce-fragment"),PF=(e,t)=>Oe(t)&&!e.schema.getVoidElements()[t.nodeName],LF=(e,t)=>{var o,a,l;let m;const p=e.dom,_=e.selection;if(!t)return;_.scrollIntoView(t);const A=od(e.getBody(),t);if(A&&p.getContentEditable(A)==="false"){p.remove(t),_.select(A);return}let $=p.createRng();const q=t.previousSibling;if(Ht(q)){$.setStart(q,(a=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const me=t.nextSibling;Ht(me)&&(q.appendData(me.data),(l=me.parentNode)===null||l===void 0||l.removeChild(me))}else $.setStartBefore(t),$.setEndBefore(t);const Y=me=>{let we=vt.fromRangeStart(me);return we=$n(e.getBody()).next(we),we==null?void 0:we.toRange()},ee=p.getParent(t,p.isBlock);if(p.remove(t),ee&&p.isEmpty(ee)){const me=g3(ee);Zr($e.fromDom(ee)),$.setStart(ee,0),$.setEnd(ee,0),!me&&!IF(ee)&&(m=Y($))?($=m,p.remove(ee)):p.add(ee,p.create("br",me?{}:{"data-mce-bogus":"1"}))}_.setRng($)},BF=e=>{const t=e.dom,o=X_(e.selection.getRng());e.selection.setRng(o);const a=t.getParent(o.startContainer,g3);RF(t,o,a)?n3(e,o,$e.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ht(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},MF=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return Q.some(t);return Q.none()},rS=(e,t,o)=>{var a;return Ae(o.children(),q_)&&((a=e.getParent(t,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},sS=(e,t,o)=>{var a,l;const m=e.selection,p=e.dom,_=e.parser,A=o.merge,$=gh({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=vl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,q);let Y=m.getRng();const ee=Y.startContainer,me=e.getBody();ee===me&&m.isCollapsed()&&p.isBlock(me.firstChild)&&PF(e,me.firstChild)&&p.isEmpty(me.firstChild)&&(Y=p.createRng(),Y.setStart(me.firstChild,0),Y.setEnd(me.firstChild,0),m.setRng(Y)),m.isCollapsed()||BF(e);const we=m.getNode(),ge={context:we.nodeName.toLowerCase(),data:o.data,insert:!0},Ee=_.parse(t,ge);if(o.paste===!0&&ng(e.schema,Ee)&&b5(p,we))return Y=TF($,p,m.getRng(),Ee),Y&&m.setRng(Y),t;o.paste===!0&&DF(p,Ee,we,e.getBody())&&((a=Ee.firstChild)===null||a===void 0||a.unwrap()),p3(Ee);let Ze=Ee.lastChild;if(Ze&&Ze.attr("id")==="mce_marker"){const et=Ze;for(Ze=Ze.prev;Ze;Ze=Ze.walk(!0))if(Ze.type===3||!p.isBlock(Ze.name)){Ze.parent&&e.schema.isValidChild(Ze.parent.name,"span")&&Ze.parent.insert(et,Ze,Ze.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!ge.invalid&&!rS(p,we,Ee))t=$.serialize(Ee),oS(e,t,we);else{e.selection.setContent(q);let et=m.getNode(),Xe;const ft=e.getBody();for(En(et)?et=Xe=ft:Xe=et;Xe&&Xe!==ft;)et=Xe,Xe=Xe.parentNode;t=et===ft?ft.innerHTML:p.getOuterHTML(et);const Bt=_.parse(t),qt=MF(Bt),mn=qt.bind(vh).getOr(Bt);qt.each(wn=>wn.replace(Ee));const _t=Ee.children(),pt=(l=Ee.parent)!==null&&l!==void 0?l:Bt;Ee.unwrap();const It=We(_t,wn=>q2(e.schema,wn,pt));yu(It,e.schema,mn),l3(_.getNodeFilters(),_.getAttributeFilters(),Bt),t=$.serialize(Bt),et===ft?p.setHTML(ft,t):p.setOuterHTML(et,t)}return x5(e,A),LF(e,p.get("mce_marker")),NF(e.getBody()),h3(p,m.getStart(),e.schema),Nd(e.schema,e.getBody(),m.getStart()),t},Wv=e=>e instanceof wi,FF=e=>{H1(e)&&Kn(e.getBody()).each(t=>{const o=t.getNode(),a=su(o)?Kn(o).getOr(t):t;e.selection.setRng(a.toRange())})},b3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&FF(e)},$F=(e,t,o,a)=>{if(o=vl(o),o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+l+"</li>");const m=nl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=l,o=e.dom.createHTML(m,Wx(e),o)):o||(o=l),b3(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=gh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=rv($e.fromDom(t))?o:Yt.trim(o);return b3(e,l,a.no_selection),{content:l,html:l}}},HF=(e,t,o,a)=>{l3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=gh({validate:!1},e.schema).serialize(o),m=vl(rv($e.fromDom(t))?l:Yt.trim(l));return b3(e,m,a.no_selection),{content:o,html:m}},zF=(e,t,o)=>Q.from(e.getBody()).map(a=>Wv(t)?HF(e,a,t,o):$F(e,a,t,o)).getOr({content:t,html:Wv(o.content)?"":o.content}),w5=e=>Be(e)?e:Xn,Kd=(e,t,o)=>{let a=e.dom;const l=w5(o);for(;a.parentNode;){a=a.parentNode;const m=$e.fromDom(a),p=t(m);if(p.isSome())return p;if(l(m))break}return Q.none()},G2=(e,t,o)=>{const a=t(e),l=w5(o);return a.orThunk(()=>l(e)?Q.none():Kd(e,t,l))},aS=B1,v3=(e,t,o)=>{const a=e.formatter.get(o);if(a)for(let l=0;l<a.length;l++){const m=a[l];if(Bc(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},iS=(e,t,o,a,l)=>{const m=e.dom.getRoot();if(t===m)return!1;const p=e.dom.getParent(t,_=>v3(e,_,o)?!0:_.parentNode===m||!!og(e,_,o,a,!0));return!!og(e,p,o,a,l)},lS=(e,t,o)=>ii(o)&&aS(t,o.inline)||jf(o)&&aS(t,o.block)?!0:Bc(o)?Sn(t)&&e.is(t,o.selector):!1,y3=(e,t,o,a,l,m)=>{const p=o[a],_=a==="attributes";if(Be(o.onmatch))return o.onmatch(t,o,a);if(p){if(rn(p)){for(let A=0;A<p.length;A++)if(_?e.getAttrib(t,p[A]):u2(e,t,p[A]))return!0}else for(const A in p)if(oo(p,A)){const $=_?e.getAttrib(t,A):u2(e,t,A),q=ch(p[A],m),Y=st($)||zt($);if(Y&&st(q))continue;if(l&&Y&&!o.exact||(!l||o.exact)&&!aS($,JC(q,A)))return!1}}return!0},og=(e,t,o,a,l)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Sn(t))for(let _=0;_<m.length;_++){const A=m[_];if(lS(e.dom,t,A)&&y3(p,t,A,"attributes",l,a)&&y3(p,t,A,"styles",l,a)){const $=A.classes;if($){for(let q=0;q<$.length;q++)if(!e.dom.hasClass(t,ch($[q],a)))return}return A}}},Ip=(e,t,o,a,l)=>{if(a)return iS(e,a,t,o,l);if(a=e.selection.getNode(),iS(e,a,t,o,l))return!0;const m=e.selection.getStart();return!!(m!==a&&iS(e,m,t,o,l))},C5=(e,t,o)=>{const a=[],l={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let _=0;_<t.length;_++){const A=t[_];!l[A]&&og(e,p,A,o)&&(l[A]=!0,a.push(A))}},e.dom.getRoot()),a},_5=(e,t)=>{const o=l=>Vo(l,$e.fromDom(e.getBody())),a=(l,m)=>og(e,l.dom,m)?Q.some(m):Q.none();return Q.from(e.selection.getStart(!0)).bind(l=>G2($e.fromDom(l),m=>Xs(t,p=>a(m,p)),o)).getOrNull()},S5=(e,t)=>{const o=e.formatter.get(t),a=e.dom;if(o&&e.selection.isEditable()){const l=e.selection.getStart(),m=d2(a,l);for(let p=o.length-1;p>=0;p--){const _=o[p];if(!Bc(_))return!0;for(let A=m.length-1;A>=0;A--)if(a.is(m[A],_.selector))return!0}}return!1},x3=(e,t,o)=>on(o,(a,l)=>{const m=dR(e,l);return e.formatter.matchNode(t,l,{},m)?a.concat([l]):a},[]),Y2=ha,VF=(e,t)=>e.importNode(t,!0),k5=e=>{if(e){const t=new ti(e,e);for(let o=t.current();o;o=t.next())if(Ht(o))return o}return null},rg=e=>{const t=$e.fromTag("span");return Ai(t,{id:R1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ns(t,$e.fromText(Y2)),t},w3=e=>{const t=k5(e);return t&&t.data.charAt(0)===Y2&&t.deleteData(0,1),t},C3=(e,t,o)=>{const a=e.dom,l=e.selection;if(WE(t))xl(e,!1,$e.fromDom(t),o,!0);else{const m=l.getRng(),p=a.getParent(t,a.isBlock),_=m.startContainer,A=m.startOffset,$=m.endContainer,q=m.endOffset,Y=w3(t);a.remove(t,!0),_===Y&&A>0&&m.setStart(Y,A-1),$===Y&&q>0&&m.setEnd(Y,q-1),p&&a.isEmpty(p)&&Nc($e.fromDom(p)),l.setRng(m)}},_3=(e,t,o)=>{const a=e.dom,l=e.selection;if(t)C3(e,t,o);else if(t=hp(e.getBody(),l.getStart()),!t)for(;t=a.get(R1);)C3(e,t,o)},Zv=(e,t,o)=>{var a,l;const m=e.dom,p=m.getParent(o,Lt(XC,e.schema));p&&m.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):(ec($e.fromDom(o)),m.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(t,o):m.insertAfter(t,o))},S3=(e,t)=>(e.appendChild(t),t),X2=(e,t)=>{var o;const a=dt(e,(m,p)=>S3(m,p.cloneNode(!1)),t),l=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return S3(a,l.createTextNode(Y2))},UF=(e,t,o,a,l,m)=>{const p=e.formatter,_=e.dom,A=We(Zt(p.get()),Y=>Y!==a&&!Er(Y,"removeformat")),$=x3(e,o,A);if(We($,Y=>!fR(e,Y,a)).length>0){const Y=o.cloneNode(!1);return _.add(t,Y),p.remove(a,l,Y,m),_.remove(Y),Q.some(Y)}else return Q.none()},E5=e=>Qb(e,Mm(e).replace(new RegExp(`${Ca}$`)," ")),k3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&ma($e.fromDom(t)).each(a=>{Qr(a)?E5(a):Ma(a,l=>Qr(l)).each(l=>{Qr(l)&&E5(l)})})};e.once("input",a=>{a.data&&!Ev(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},yh=(e,t,o)=>{let a;const l=e.selection,m=e.formatter.get(t);if(!m)return;const p=l.getRng();let _=p.startOffset;const $=p.startContainer.nodeValue;a=hp(e.getBody(),l.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&_>0&&_<$.length&&q.test($.charAt(_))&&q.test($.charAt(_-1))){const Y=l.getBookmark();p.collapse(!0);let ee=vp(e.dom,p,m);ee=A2(ee),e.formatter.apply(t,o,ee),l.moveToBookmark(Y)}else{let Y=a?k5(a):null;(!a||(Y==null?void 0:Y.data)!==Y2)&&(a=VF(e.getDoc(),rg(!0).dom),Y=a.firstChild,p.insertNode(a),_=1,k3(e,a)),e.formatter.apply(t,o,a),l.setCursorLocation(Y,_)}},E3=(e,t,o,a)=>{const l=e.dom,m=e.selection;let p=!1;const _=e.formatter.get(t);if(!_)return;const A=m.getRng(),$=A.startContainer,q=A.startOffset;let Y=$;Ht($)&&(q!==$.data.length&&(p=!0),Y=Y.parentNode);const ee=[];let me;for(;Y;){if(og(e,Y,t,o,a)){me=Y;break}Y.nextSibling&&(p=!0),ee.push(Y),Y=Y.parentNode}if(me)if(p){const we=m.getBookmark();A.collapse(!0);let ge=vp(l,A,_,!0);ge=A2(ge),e.formatter.remove(t,o,ge,a),m.moveToBookmark(we)}else{const we=hp(e.getBody(),me),ge=Oe(we)?l.getParents(me.parentNode,gn,we):[],Ee=rg(!1).dom;Zv(e,Ee,we??me);const Ze=UF(e,Ee,me,t,o,a),et=X2([...ee,...Ze.toArray(),...ge],Ee);we&&C3(e,we,Oe(we)),m.setCursorLocation(et,1),k3(e,Ee),l.isEmpty(me)&&l.remove(me)}},A3=(e,t,o)=>{const a=e.selection,l=e.getBody();_3(e,null,o),(t===8||t===46)&&a.isCollapsed()&&a.getStart().innerHTML===Y2&&_3(e,hp(l,a.getStart()),!0),(t===37||t===39)&&_3(e,hp(l,a.getStart()),!0)},T3=e=>Ht(e)&&ke(e.data,Ca),A5=e=>{e.on("mouseup keydown",t=>{A3(e,t.keyCode,T3(e.selection.getRng().endContainer))})},O3=e=>{const t=rg(!1),o=X2(e,t.dom);return{caretContainer:t,caretPosition:vt(o,0)}},D3=(e,t)=>{const{caretContainer:o,caretPosition:a}=O3(t);return vs($e.fromDom(e),o),Cr($e.fromDom(e)),a},WF=(e,t)=>{const{caretContainer:o,caretPosition:a}=O3(t);return e.insertNode(o.dom),a},J1=(e,t)=>{if(pu(t.dom))return!1;const o=e.schema.getTextInlineElements();return oo(o,zo(t))&&!pu(t.dom)&&!_f(t.dom)},Pp={},R3=ni(["pre"]),T5=(e,t)=>{Pp[e]||(Pp[e]=[]),Pp[e].push(t)},O5=(e,t)=>{oo(Pp,e)&&pe(Pp[e],o=>{o(t)})};T5("pre",e=>{const t=e.selection.getRng(),o=l=>m=>{const p=m.previousSibling;return R3(p)&&be(l,p)},a=(l,m)=>{const p=$e.fromDom(m),_=Gl(p).dom;Cr(p),js($e.fromDom(l),[$e.fromTag("br",_),$e.fromTag("br",_),...ei(p)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),m=We(We(l,R3),o(l));pe(m,p=>{a(p.previousSibling,p)})}});const N3=["fontWeight","fontStyle","color","fontSize","fontFamily"],cS=e=>j(e.styles)&&Ae(Zt(e.styles),t=>be(N3,t)),I3=e=>vn(e,t=>ii(t)&&t.inline==="span"&&cS(t)),Q1=(e,t)=>{const o=e.get(t);return oe(o)?I3(o):Q.none()},D5=(e,t)=>Lc(t,vt.fromRangeStart(e)).isNone(),P3=(e,t)=>Hl(t,vt.fromRangeEnd(e)).exists(o=>!as(o.getNode())||Hl(t,o).isSome())===!1,R5=e=>t=>tx(t)&&e.isEditable(t),ZF=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return D5(o,t[0])&&P3(o,t[0])?t:[];{const a=yn(t).filter(p=>D5(o,p)).toArray(),l=no(t).filter(p=>P3(o,p)).toArray(),m=t.slice(1,-1);return a.concat(m).concat(l)}},N5=e=>We(ZF(e),R5(e.dom)),L3=e=>We(e.getSelectedBlocks(),R5(e.dom)),B3=Yt.each,uS=e=>Sn(e)&&!bu(e)&&!pu(e)&&!_f(e),Lp=(e,t)=>{for(let o=e;o;o=o[t]){if(Ht(o)&&Qe(o.data))return e;if(Sn(o)&&!bu(o))return o}return e},M3=(e,t,o)=>{const a=K_(e),l=ru(t)&&e.dom.isEditable(t),m=ru(o)&&e.dom.isEditable(o);if(l&&m){const p=Lp(t,"previousSibling"),_=Lp(o,"nextSibling");if(a.compare(p,_)){for(let A=p.nextSibling;A&&A!==_;){const $=A;A=A.nextSibling,p.appendChild($)}return e.dom.remove(_),Yt.each(Yt.grep(_.childNodes),A=>{p.appendChild(A)}),p}}return o},dS=(e,t,o,a)=>{var l;if(a&&t.merge_siblings!==!1){const m=(l=M3(e,Av(a),a))!==null&&l!==void 0?l:a;M3(e,m,Av(m,!0))}},I5=(e,t,o)=>{if(t.clear_child_styles){const a=t.links?"*:not(a)":"*";B3(e.select(a,o),l=>{uS(l)&&e.isEditable(l)&&B3(t.styles,(m,p)=>{e.setStyle(l,p,"")})})}},J2=(e,t,o)=>{B3(e.childNodes,a=>{uS(a)&&(t(a)&&o(a),a.hasChildNodes()&&J2(a,t,o))})},Bp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},F3=(e,t)=>o=>!!(o&&u2(e,o,t)),xu=(e,t,o)=>a=>{e.setStyle(a,t,o),a.getAttribute("style")===""&&a.removeAttribute("style"),Bp(e,a)},rd=Mo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),$3=/^(src|href|style)$/,fS=Yt.each,mS=B1,P5=e=>/^(TR|TH|TD)$/.test(e.nodeName),jv=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),Q2=(e,t,o)=>{let a=t[o?"startContainer":"endContainer"],l=t[o?"startOffset":"endOffset"];if(Sn(a)){const m=a.childNodes.length-1;!o&&l&&l--,a=a.childNodes[l>m?m:l]}return Ht(a)&&o&&l>=a.data.length&&(a=new ti(a,e.getBody()).next()||a),Ht(a)&&!o&&l===0&&(a=new ti(a,e.getBody()).prev()||a),a},H3=(e,t)=>{const o=t?"firstChild":"lastChild",a=e[o];return P5(e)&&a?e.nodeName==="TR"&&a[o]||a:e},gS=(e,t,o,a)=>{var l;const m=e.create(o,a);return(l=t.parentNode)===null||l===void 0||l.insertBefore(m,t),m.appendChild(t),m},hS=(e,t,o,a,l)=>{const m=$e.fromDom(t),p=$e.fromDom(e.create(a,l)),_=o?ym(m):Mu(m);return js(p,_),o?(vs(m,p),Ri(p,m)):(rt(m,p),Ns(p,m)),p.dom},jF=(e,t)=>t.links&&e.nodeName==="A",L5=(e,t,o)=>{const a=t.parentNode;let l;const m=e.dom,p=nl(e);jf(o)&&a===m.getRoot()&&(!o.list_block||!mS(t,o.list_block))&&pe(bo(t.childNodes),_=>{pp(e,p,_.nodeName.toLowerCase())?l?l.appendChild(_):(l=gS(m,_,p),m.setAttribs(l,Wx(e))):l=null}),!(hR(o)&&!mS(o.inline,t))&&m.remove(t,!0)},z3=(e,t,o)=>P(e)?{name:t,value:null}:{name:e,value:ch(t,o)},B5=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Hc=(e,t,o,a,l)=>{let m=!1;fS(o.styles,(p,_)=>{const{name:A,value:$}=z3(_,p,a),q=JC($,A);(o.remove_similar||Ue($)||!Sn(l)||mS(u2(e,l,A),q))&&e.setStyle(t,A,""),m=!0}),m&&B5(e,t)},V3=(e,t,o)=>{t==="removeformat"?pe(L3(e.selection),a=>{pe(N3,l=>e.dom.setStyle(a,l,"")),B5(e.dom,a)}):Q1(e.formatter,t).each(a=>{pe(L3(e.selection),l=>Hc(e.dom,l,a,o,null))})},U3=(e,t,o,a,l)=>{const m=e.dom,p=K_(e),_=e.schema;if(ii(t)&&Lb(_,t.inline)&&Af(_,a)&&a.parentElement===e.getBody())return L5(e,a,t),rd.removed();if(!t.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!lS(m,a,t)&&!jF(a,t))return rd.keep();const A=a,$=t.preserve_attributes;if(ii(t)&&t.remove==="all"&&oe($)){const q=We(m.getAttribs(A),Y=>be($,Y.name.toLowerCase()));if(m.removeAllAttribs(A),pe(q,Y=>m.setAttrib(A,Y.name,Y.value)),q.length>0)return rd.rename("span")}if(t.remove!=="all"){Hc(m,A,t,o,l),fS(t.attributes,(Y,ee)=>{const{name:me,value:we}=z3(ee,Y,o);if(t.remove_similar||Ue(we)||!Sn(l)||mS(m.getAttrib(l,me),we)){if(me==="class"){const ge=m.getAttrib(A,me);if(ge){let Ee="";if(pe(ge.split(/\s+/),Ze=>{/mce\-\w+/.test(Ze)&&(Ee+=(Ee?" ":"")+Ze)}),Ee){m.setAttrib(A,me,Ee);return}}}if($3.test(me)&&A.removeAttribute("data-mce-"+me),me==="style"&&ni(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(me),m.setStyle(A,"list-style-type","none");return}me==="class"&&A.removeAttribute("className"),A.removeAttribute(me)}}),fS(t.classes,Y=>{Y=ch(Y,o),(!Sn(l)||m.hasClass(l,Y))&&m.removeClass(A,Y)});const q=m.getAttribs(A);for(let Y=0;Y<q.length;Y++){const ee=q[Y].nodeName;if(!p.isAttributeInternal(ee))return rd.keep()}}return t.remove!=="none"?(L5(e,A,t),rd.removed()):rd.keep()},W3=(e,t,o,a,l)=>{let m;return t.parentNode&&pe(d2(e.dom,t.parentNode).reverse(),p=>{if(!m&&Sn(p)&&p.id!=="_start"&&p.id!=="_end"){const _=og(e,p,o,a,l);_&&_.split!==!1&&(m=p)}}),m},M5=(e,t,o,a)=>U3(e,t,o,a,a).fold(ct(a),l=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,l)),ct(null)),ew=(e,t,o,a,l,m,p,_)=>{var A,$;let q,Y;const ee=e.dom;if(o){const me=o.parentNode;for(let we=a.parentNode;we&&we!==me;we=we.parentNode){let ge=ee.clone(we,!1);for(let Ee=0;Ee<t.length&&(ge=M5(e,t[Ee],_,ge),ge!==null);Ee++);ge&&(q&&ge.appendChild(q),Y||(Y=ge),q=ge)}(!p.mixed||!ee.isBlock(o))&&(a=(A=ee.split(o,a))!==null&&A!==void 0?A:a),q&&Y&&(($=l.parentNode)===null||$===void 0||$.insertBefore(q,l),Y.appendChild(l),ii(p)&&dS(e,p,_,q))}return a},xh=(e,t,o,a,l)=>{const m=e.formatter.get(t),p=m[0],_=e.dom,A=e.selection,$=ge=>{const Ee=W3(e,ge,t,o,l);return ew(e,m,Ee,ge,ge,!0,p,o)},q=ge=>bu(ge)&&Sn(ge)&&(ge.id==="_start"||ge.id==="_end"),Y=ge=>Ae(m,Ee=>Fp(e,Ee,o,ge,ge)),ee=ge=>{const Ee=bo(ge.childNodes),et=Y(ge)||Ae(m,Bt=>lS(_,ge,Bt)),Xe=ge.parentNode;if(!et&&Oe(Xe)&&e_(p)&&Y(Xe),p.deep&&Ee.length)for(let Bt=0;Bt<Ee.length;Bt++)ee(Ee[Bt]);pe(["underline","line-through","overline"],Bt=>{Sn(ge)&&e.dom.getStyle(ge,"text-decoration")===Bt&&ge.parentNode&&UE(_,ge.parentNode)===Bt&&Fp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},void 0,ge)})},me=ge=>{const Ee=_.get(ge?"_start":"_end");if(Ee){let Ze=Ee[ge?"firstChild":"lastChild"];return q(Ze)&&(Ze=Ze[ge?"firstChild":"lastChild"]),Ht(Ze)&&Ze.data.length===0&&(Ze=ge?Ee.previousSibling||Ee.nextSibling:Ee.nextSibling||Ee.previousSibling),_.remove(Ee,!0),Ze}else return null},we=ge=>{let Ee,Ze,et=vp(_,ge,m,ge.collapsed);if(p.split){if(et=A2(et),Ee=Q2(e,et,!0),Ze=Q2(e,et),Ee!==Ze){if(Ee=H3(Ee,!0),Ze=H3(Ze,!1),jv(_,Ee,Ze)){const ft=Q.from(Ee.firstChild).getOr(Ee);$(hS(_,ft,!0,"span",{id:"_start","data-mce-type":"bookmark"})),me(!0);return}if(jv(_,Ze,Ee)){const ft=Q.from(Ze.lastChild).getOr(Ze);$(hS(_,ft,!1,"span",{id:"_end","data-mce-type":"bookmark"})),me(!1);return}Ee=gS(_,Ee,"span",{id:"_start","data-mce-type":"bookmark"}),Ze=gS(_,Ze,"span",{id:"_end","data-mce-type":"bookmark"});const Xe=_.createRng();Xe.setStartAfter(Ee),Xe.setEndBefore(Ze),h2(_,Xe,ft=>{pe(ft,Bt=>{!bu(Bt)&&!bu(Bt.parentNode)&&$(Bt)})}),$(Ee),$(Ze),Ee=me(!0),Ze=me()}else Ee=Ze=$(Ee);et.startContainer=Ee.parentNode?Ee.parentNode:Ee,et.startOffset=_.nodeIndex(Ee),et.endContainer=Ze.parentNode?Ze.parentNode:Ze,et.endOffset=_.nodeIndex(Ze)+1}h2(_,et,Xe=>{pe(Xe,ee)})};if(a){if(L1(a)){const ge=_.createRng();ge.setStartBefore(a),ge.setEndAfter(a),we(ge)}else we(a);SR(e,t,a,o);return}!A.isCollapsed()||!ii(p)||Zf(e).length?(HE(e,()=>P1(e,we),ge=>ii(p)&&Ip(e,t,o,ge)),e.nodeChanged()):E3(e,t,o,l),V3(e,t,o),SR(e,t,a,o)},Mp=(e,t,o,a,l)=>{(a||e.selection.isEditable())&&xh(e,t,o,a,l)},Fp=(e,t,o,a,l)=>U3(e,t,o,a,l).fold(Xn,m=>(e.dom.rename(a,m),!0),gn),pS=Yt.each,Z3=(e,t,o,a)=>{const l=m=>{if(ru(m)&&Sn(m.parentNode)&&e.isEditable(m)){const p=UE(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Yt.walk(a,l,"childNodes"),l(a))},F5=(e,t,o,a)=>{if(t.styles&&t.styles.backgroundColor){const l=F3(e,"fontSize");J2(a,m=>l(m)&&e.isEditable(m),xu(e,"backgroundColor",ch(t.styles.backgroundColor,o)))}},KF=(e,t,o,a)=>{if(ii(t)&&(t.inline==="sub"||t.inline==="sup")){const l=F3(e,"fontSize");J2(a,p=>l(p)&&e.isEditable(p),xu(e,"fontSize",""));const m=We(e.select(t.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(m,!0)}},$5=(e,t,o,a)=>{pS(t,l=>{ii(l)&&pS(e.dom.select(l.inline,a),m=>{uS(m)&&Fp(e,l,o,m,l.exact?m:null)}),I5(e.dom,l,a)})},H5=(e,t,o,a,l)=>{const m=l.parentNode;og(e,m,o,a)&&Fp(e,t,a,l)||t.merge_with_parents&&m&&e.dom.getParent(m,p=>og(e,p,o,a)?(Fp(e,t,a,l),!0):!1)},tw=Yt.each,z5=(e,t,o,a)=>{if(HM(e)&&ii(t)&&o.parentNode){const l=Y0(e.schema),m=Tb($e.fromDom(o),p=>pu(p.dom));return Pl(l,a)&&Jl(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},V5=(e,t,o,a)=>{if(tw(o.styles,(l,m)=>{e.setStyle(t,m,ch(l,a))}),o.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},qF=(e,t,o,a)=>{const l=e.formatter.get(t),m=l[0],p=!a&&e.selection.isCollapsed(),_=e.dom,A=e.selection,$=(we,ge=m)=>{Be(ge.onformat)&&ge.onformat(we,ge,o,a),V5(_,we,ge,o),tw(ge.attributes,(Ee,Ze)=>{_.setAttrib(we,Ze,ch(Ee,o))}),tw(ge.classes,Ee=>{const Ze=ch(Ee,o);_.hasClass(we,Ze)||_.addClass(we,Ze)})},q=(we,ge)=>{let Ee=!1;return tw(we,Ze=>Bc(Ze)?_.getContentEditable(ge)==="false"&&!Ze.ceFalseOverride||Oe(Ze.collapsed)&&Ze.collapsed!==p?!0:_.is(ge,Ze.selector)&&!pu(ge)?($(ge,Ze),Ee=!0,!1):!0:!1),Ee},Y=we=>{if(fe(we)){const ge=_.create(we);return $(ge),ge}else return null},ee=(we,ge,Ee)=>{const Ze=[];let et=!0;const Xe=m.inline||m.block,ft=Y(Xe),Bt=_t=>mR(m)&&og(e,_t,t,o),qt=(_t,pt,It)=>{const wn=gR(m)&&XC(e.schema,_t)&&pp(e,pt,Xe);return It&&wn},mn=(_t,pt,It,wn)=>{const Rn=_t.nodeName.toLowerCase(),So=pp(e,Xe,Rn)&&pp(e,pt,Xe),No=!Ee&&Ht(_t)&&Ic(_t.data),_r=pu(_t),Lr=!ii(m)||!we.isBlock(_t);return(It||wn)&&So&&!No&&!_r&&Lr};h2(we,ge,_t=>{let pt;const It=wn=>{let Rn=!1,So=et,No=!1;const _r=wn.parentNode,Lr=_r.nodeName.toLowerCase(),na=we.getContentEditable(wn);Oe(na)&&(So=et,et=na==="true",Rn=!0,No=VE(e,wn));const _l=et&&!Rn;if(as(wn)&&!z5(e,m,wn,Lr)){pt=null,jf(m)&&we.remove(wn);return}if(Bt(wn)){pt=null;return}if(qt(wn,Lr,_l)){const Vr=we.rename(wn,Xe);$(Vr),Ze.push(Vr),pt=null;return}if(Bc(m)){let Vr=q(l,wn);if(!Vr&&Oe(_r)&&e_(m)&&(Vr=q(l,_r)),!ii(m)||Vr){pt=null;return}}Oe(ft)&&mn(wn,Lr,_l,No)?(pt||(pt=we.clone(ft,!1),_r.insertBefore(pt,wn),Ze.push(pt)),No&&Rn&&(et=So),pt.appendChild(wn)):(pt=null,pe(bo(wn.childNodes),It),Rn&&(et=So),pt=null)};pe(_t,It)}),m.links===!0&&pe(Ze,_t=>{const pt=It=>{It.nodeName==="A"&&$(It,m),pe(bo(It.childNodes),pt)};pt(_t)}),pe(Ze,_t=>{const pt=Rn=>{let So=0;return pe(Rn.childNodes,No=>{!g8(No)&&!bu(No)&&So++}),So},It=Rn=>vn(Rn.childNodes,YC).filter(No=>we.getContentEditable(No)!=="false"&&lS(we,No,m)).map(No=>{const _r=we.clone(No,!1);return $(_r),we.replace(_r,Rn,!0),we.remove(No,!0),_r}).getOr(Rn),wn=pt(_t);if((Ze.length>1||!we.isBlock(_t))&&wn===0){we.remove(_t,!0);return}(ii(m)||jf(m)&&m.wrapper)&&(!m.exact&&wn===1&&(_t=It(_t)),$5(e,l,o,_t),H5(e,m,t,o,_t),F5(we,m,o,_t),Z3(we,m,o,_t),KF(we,m,o,_t),dS(e,m,o,_t))})},me=L1(a)?a:A.getNode();if(_.getContentEditable(me)==="false"&&!VE(e,me)){a=me,q(l,a),_R(e,t,a,o);return}if(m){if(a)if(L1(a)){if(!q(l,a)){const we=_.createRng();we.setStartBefore(a),we.setEndAfter(a),ee(_,vp(_,we,l),!0)}}else ee(_,a,!0);else!p||!ii(m)||Zf(e).length?(A.setRng(X_(A.getRng())),HE(e,()=>{P1(e,(we,ge)=>{const Ee=ge?we:vp(_,we,l);ee(_,Ee,!1)})},gn),e.nodeChanged()):yh(e,t,o),Q1(e.formatter,t).each(we=>{pe(N5(e.selection),ge=>V5(_,ge,we,o))});O5(t,e)}_R(e,t,a,o)},U5=(e,t,o,a)=>{(a||e.selection.isEditable())&&qF(e,t,o,a)},zl=e=>oo(e,"vars"),W5=(e,t)=>{e.set({}),t.on("NodeChange",o=>{K3(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const a=Q.from(o.node).map(l=>L1(l)?l:l.startContainer).bind(l=>Sn(l)?Q.some(l):Q.from(l.parentElement)).getOrThunk(()=>ey(t));K3(t,a,e.get())})},ey=e=>e.selection.getStart(),Z5=(e,t,o,a,l)=>Ft(t,_=>{const A=e.formatter.matchNode(_,o,l??{},a);return!je(A)},_=>v3(e,_,o)?!0:a?!1:Oe(e.formatter.matchNode(_,o,l,!0))),j3=(e,t)=>{const o=t??ey(e);return We(d2(e.dom,o),a=>Sn(a)&&!_f(a))},K3=(e,t,o)=>{const a=j3(e,t);Xo(o,(l,m)=>{const p=_=>{const A=Z5(e,a,m,_.similar,zl(_)?_.vars:void 0),$=A.isSome();if(_.state.get()!==$){_.state.set($);const q=A.getOr(t);zl(_)?_.callback($,{node:q,format:m,parents:a}):pe(_.callbacks,Y=>Y($,{node:q,format:m,parents:a}))}};pe([l.withSimilar,l.withoutSimilar],p),pe(l.withVars,p)})},q3=(e,t,o,a,l,m)=>{const p=t.get();pe(o.split(","),_=>{const A=wr(p,_).getOrThunk(()=>{const q={withSimilar:{state:_a(!1),similar:!0,callbacks:[]},withoutSimilar:{state:_a(!1),similar:!1,callbacks:[]},withVars:[]};return p[_]=q,q}),$=()=>{const q=j3(e);return Z5(e,q,_,l,m).isSome()};if(je(m)){const q=l?A.withSimilar:A.withoutSimilar;q.callbacks.push(a),q.callbacks.length===1&&q.state.set($())}else A.withVars.push({state:_a($()),similar:l,vars:m,callback:a})}),t.set(p)},j5=(e,t,o)=>{const a=e.get();pe(t.split(","),l=>wr(a,l).each(m=>{a[l]={withSimilar:{...m.withSimilar,callbacks:We(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:We(m.withoutSimilar.callbacks,p=>p!==o)},withVars:We(m.withVars,p=>p.callback!==o)}})),e.set(a)},GF=(e,t,o,a,l,m)=>(q3(e,t,o,a,l,m),{unbind:()=>j5(t,o,a)}),YF=(e,t,o,a)=>{const l=e.formatter.get(t);l&&(Ip(e,t,o,a)&&(!("toggle"in l[0])||l[0].toggle)?Mp(e,t,o,a):U5(e,t,o,a))},K5=Yt.explode,bS=()=>{const e={};return{addFilter:(l,m)=>{pe(K5(l),p=>{oo(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>Du(e),removeFilter:(l,m)=>{pe(K5(l),p=>{if(oo(e,p))if(Oe(m)){const _=e[p],A=We(_.callbacks,$=>$!==m);A.length>0?_.callbacks=A:delete e[p]}else delete e[p]})}}},XF=(e,t)=>{pe(t,o=>{e.attr(o,null)})},JF=(e,t,o)=>{e.addNodeFilter("font",a=>{pe(a,l=>{const m=t.parse(l.attr("style")),p=l.attr("color"),_=l.attr("face"),A=l.attr("size");p&&(m.color=p),_&&(m["font-family"]=_),A&&ln(A).each($=>{m["font-size"]=o[$-1]}),l.name="span",l.attr("style",t.serialize(m)),XF(l,["color","face","size"])})})},q5=(e,t,o)=>{e.addNodeFilter("strike",a=>{const l=t.type!=="html4";pe(a,m=>{if(l)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},QF=(e,t,o)=>{var a;const l=yx();t.convert_fonts_to_spans&&JF(e,l,Yt.explode((a=t.font_size_legacy_values)!==null&&a!==void 0?a:"")),q5(e,o,l)},e7=(e,t,o)=>{t.inline_styles&&QF(e,t,o)},G3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),vS=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},yS=e=>{const[t,...o]=e.split(","),a=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const m=l[2]===";base64",p=m?vS(a):decodeURIComponent(a);return Q.some({type:l[1],data:p,base64Encoded:m})}else return Q.none()},Y3=(e,t,o=!0)=>{let a=t;if(o)try{a=atob(t)}catch{return Q.none()}const l=new Uint8Array(a.length);for(let m=0;m<l.length;m++)l[m]=a.charCodeAt(m);return Q.some(new Blob([l],{type:e}))},X3=e=>new Promise((t,o)=>{yS(e).bind(({type:a,data:l,base64Encoded:m})=>Y3(a,l,m)).fold(()=>o("Invalid data URI"),t)}),t7=e=>Jr(e,"blob:")?G3(e):Jr(e,"data:")?X3(e):Promise.reject("Unknown URI format"),G5=e=>new Promise((t,o)=>{const a=new FileReader;a.onloadend=()=>{t(a.result)},a.onerror=()=>{var l;o((l=a.error)===null||l===void 0?void 0:l.message)},a.readAsDataURL(e)});let n7=0;const Kv=e=>"blobid"+n7++,Y5=(e,t,o)=>yS(e).bind(({data:a,type:l,base64Encoded:m})=>{if(t&&!m)return Q.none();{const p=m?a:btoa(a);return o(p,l)}}),nw=(e,t,o)=>{const a=e.create(Kv(),t,o);return e.add(a),a},X5=(e,t,o=!1)=>Y5(t,o,(a,l)=>Q.from(e.getByData(a,l)).orThunk(()=>Y3(l,a).map(m=>nw(e,m,a)))),J3=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Jr(t,"blob:")){const a=e.getByUri(t);return Oe(a)?Promise.resolve(a):t7(t).then(l=>G5(l).then(m=>Y5(m,!1,p=>Q.some(nw(e,l,p))).getOrThunk(o)))}else return Jr(t,"data:")?X5(e,t).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},J5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,Q5=e=>Q.from(e.match(J5)).bind(t=>Pa(t,1)).map(t=>Jr(t,"www.")?t.substring(4):t),Q3=(e,t)=>{Q.from(e.attr("src")).bind(Q5).forall(o=>!be(t,o))&&e.attr("sandbox","")},ty=(e,t)=>Jr(e,`${t}/`),o7=e=>je(e)?"iframe":ty(e,"image")?"img":ty(e,"video")?"video":ty(e,"audio")?"audio":"iframe",r7=({type:e,src:t,width:o,height:a}={},l,m)=>{const p=o7(e),_=new wi(p,1);return _.attr(p==="audio"?{src:t}:{src:t,width:o,height:a}),(p==="audio"||p==="video")&&_.attr("controls",""),p==="iframe"&&l&&Q3(_,m),_},eT=e=>Oe(e.attr("data-mce-bogus")),eI=e=>e.attr("src")===Eo.transparentSrc||Oe(e.attr("data-mce-placeholder")),s7=(e,t)=>{const{blob_cache:o}=t;if(o){const a=l=>{const m=l.attr("src");eI(l)||eT(l)||st(m)||X5(o,m,!0).each(p=>{l.attr("src",p.blobUri())})};e.addAttributeFilter("src",l=>pe(l,a))}},a7=(e,t)=>{var o,a;const l=e.schema;e.addAttributeFilter("href",A=>{let $=A.length;const q=ee=>ee.split(" ").filter(we=>we.length>0).concat(["noopener"]).sort().join(" "),Y=ee=>{const me=ee?Yt.trim(ee):"";return/\b(noopener)\b/g.test(me)?me:q(me)};if(!t.allow_unsafe_link_target)for(;$--;){const ee=A[$];ee.name==="a"&&ee.attr("target")==="_blank"&&ee.attr("rel",Y(ee.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let $=A.length,q,Y,ee,me;for(;$--;)if(me=A[$],me.name==="a"&&me.firstChild&&!me.attr("href"))for(ee=me.parent,q=me.lastChild;q&&ee;)Y=q.prev,ee.insert(q,me),q=Y}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let $=A.length,q,Y;for(;$--;)if(q=A[$],Y=q.parent,Y&&(Y.name==="ul"||Y.name==="ol"))if(q.prev&&q.prev.name==="li")q.prev.append(q);else{const ee=new wi("li",1);ee.attr("style","list-style-type: none"),q.wrap(ee)}});const m=l.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",A=>{var $;let q=A.length;for(;q--;){const Y=A[q],ee=($=Y.attr("class"))!==null&&$!==void 0?$:"",me=Yt.explode(ee," ");let we="";for(let ge=0;ge<me.length;ge++){const Ee=me[ge];let Ze=!1,et=m["*"];et&&et[Ee]&&(Ze=!0),et=m[Y.name],!Ze&&et&&et[Ee]&&(Ze=!0),Ze&&(we&&(we+=" "),we+=Ee)}we.length||(we=null),Y.attr("class",we)}}),s7(e,t);const p=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,_=Wi((a=t.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>pe(A,$=>{$.replace(r7({type:$.attr("type"),src:$.name==="object"?$.attr("data"):$.attr("src"),width:$.attr("width"),height:$.attr("height")},p,_))})),p&&e.addNodeFilter("iframe",A=>pe(A,$=>Q3($,_)))},{entries:tI,setPrototypeOf:nI,isFrozen:tT,getPrototypeOf:oI,getOwnPropertyDescriptor:i7}=Object;let{freeze:zc,seal:ls,create:l7}=Object,{apply:nT,construct:xS}=typeof Reflect<"u"&&Reflect;nT||(nT=function(t,o,a){return t.apply(o,a)}),zc||(zc=function(t){return t}),ls||(ls=function(t){return t}),xS||(xS=function(t,o){return new t(...o)});const oT=sc(Array.prototype.forEach),rI=sc(Array.prototype.pop),qd=sc(Array.prototype.push),ny=sc(String.prototype.toLowerCase),wS=sc(String.prototype.toString),rT=sc(String.prototype.match),sd=sc(String.prototype.replace),sT=sc(String.prototype.indexOf),sI=sc(String.prototype.trim),rc=sc(RegExp.prototype.test),$p=ow(TypeError);function sc(e){return function(t){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return nT(e,t,a)}}function ow(e){return function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return xS(e,o)}}function qo(e,t,o){var a;o=(a=o)!==null&&a!==void 0?a:ny,nI&&nI(e,null);let l=t.length;for(;l--;){let m=t[l];if(typeof m=="string"){const p=o(m);p!==m&&(tT(t)||(t[l]=p),m=p)}e[m]=!0}return e}function sg(e){const t=l7(null);for(const[o,a]of tI(e))t[o]=a;return t}function rw(e,t){for(;e!==null;){const a=i7(e,t);if(a){if(a.get)return sc(a.get);if(typeof a.value=="function")return sc(a.value)}e=oI(e)}function o(a){return console.warn("fallback value for",a),null}return o}const aT=zc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),iT=zc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CS=zc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),c7=zc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lT=zc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sw=zc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aI=zc(["#text"]),iI=zc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),cT=zc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lI=zc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_S=zc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),u7=ls(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d7=ls(/<%[\w\W]*|[\w\W]*%>/gm),f7=ls(/\${[\w\W]*}/gm),m7=ls(/^data-[\-\w.\u00B7-\uFFFF]/),g7=ls(/^aria-[\-\w]+$/),cI=ls(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uI=ls(/^(?:\w+script|data):/i),dI=ls(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uT=ls(/^html$/i);var dT=Object.freeze({__proto__:null,MUSTACHE_EXPR:u7,ERB_EXPR:d7,TMPLIT_EXPR:f7,DATA_ATTR:m7,ARIA_ATTR:g7,IS_ALLOWED_URI:cI,IS_SCRIPT_OR_DATA:uI,ATTR_WHITESPACE:dI,DOCTYPE_NAME:uT});const fI=()=>typeof window>"u"?null:window,mI=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const l="data-tt-policy-suffix";o&&o.hasAttribute(l)&&(a=o.getAttribute(l));const m="dompurify"+(a?"#"+a:"");try{return t.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function fT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fI();const t=Lo=>fT(Lo);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,a=o.currentScript;let{document:l}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:_,Element:A,NodeFilter:$,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Y,DOMParser:ee,trustedTypes:me}=e,we=A.prototype,ge=rw(we,"cloneNode"),Ee=rw(we,"nextSibling"),Ze=rw(we,"childNodes"),et=rw(we,"parentNode");if(typeof p=="function"){const Lo=l.createElement("template");Lo.content&&Lo.content.ownerDocument&&(l=Lo.content.ownerDocument)}let Xe,ft="";const{implementation:Bt,createNodeIterator:qt,createDocumentFragment:mn,getElementsByTagName:_t}=l,{importNode:pt}=o;let It={};t.isSupported=typeof tI=="function"&&typeof et=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:wn,ERB_EXPR:Rn,TMPLIT_EXPR:So,DATA_ATTR:No,ARIA_ATTR:_r,IS_SCRIPT_OR_DATA:Lr,ATTR_WHITESPACE:na}=dT;let{IS_ALLOWED_URI:_l}=dT,Vr=null;const en=qo({},[...aT,...iT,...CS,...lT,...aI]);let On=null;const lr=qo({},[...iI,...cT,...lI,..._S]);let an=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hn=null,Oo=null,fn=!0,ko=!0,Po=!1,Ci=!0,Nr=!1,ui=!1,em=!1,Dh=!1,lc=!1,cd=!1,tm=!1,ud=!0,nm=!1;const Pn="user-content-";let er=!0,$s=!1,ua={},Wa=null;const sl=qo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Oa=null;const Da=qo({},["audio","video","img","source","image","track"]);let cc=null;const mg=qo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gg="http://www.w3.org/1998/Math/MathML",hg="http://www.w3.org/2000/svg",om="http://www.w3.org/1999/xhtml";let Cy=om,uk=!1,dk=null;const H9=qo({},[gg,hg,om],wS);let l0;const WL=["application/xhtml+xml","text/html"],xj="text/html";let Ul,$w=null;const wj=l.createElement("form"),z9=function(xt){return xt instanceof RegExp||xt instanceof Function},qp=function(xt){if(!($w&&$w===xt)){if((!xt||typeof xt!="object")&&(xt={}),xt=sg(xt),l0=WL.indexOf(xt.PARSER_MEDIA_TYPE)===-1?l0=xj:l0=xt.PARSER_MEDIA_TYPE,Ul=l0==="application/xhtml+xml"?wS:ny,Vr="ALLOWED_TAGS"in xt?qo({},xt.ALLOWED_TAGS,Ul):en,On="ALLOWED_ATTR"in xt?qo({},xt.ALLOWED_ATTR,Ul):lr,dk="ALLOWED_NAMESPACES"in xt?qo({},xt.ALLOWED_NAMESPACES,wS):H9,cc="ADD_URI_SAFE_ATTR"in xt?qo(sg(mg),xt.ADD_URI_SAFE_ATTR,Ul):mg,Oa="ADD_DATA_URI_TAGS"in xt?qo(sg(Da),xt.ADD_DATA_URI_TAGS,Ul):Da,Wa="FORBID_CONTENTS"in xt?qo({},xt.FORBID_CONTENTS,Ul):sl,Hn="FORBID_TAGS"in xt?qo({},xt.FORBID_TAGS,Ul):{},Oo="FORBID_ATTR"in xt?qo({},xt.FORBID_ATTR,Ul):{},ua="USE_PROFILES"in xt?xt.USE_PROFILES:!1,fn=xt.ALLOW_ARIA_ATTR!==!1,ko=xt.ALLOW_DATA_ATTR!==!1,Po=xt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ci=xt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Nr=xt.SAFE_FOR_TEMPLATES||!1,ui=xt.WHOLE_DOCUMENT||!1,lc=xt.RETURN_DOM||!1,cd=xt.RETURN_DOM_FRAGMENT||!1,tm=xt.RETURN_TRUSTED_TYPE||!1,Dh=xt.FORCE_BODY||!1,ud=xt.SANITIZE_DOM!==!1,nm=xt.SANITIZE_NAMED_PROPS||!1,er=xt.KEEP_CONTENT!==!1,$s=xt.IN_PLACE||!1,_l=xt.ALLOWED_URI_REGEXP||cI,Cy=xt.NAMESPACE||om,an=xt.CUSTOM_ELEMENT_HANDLING||{},xt.CUSTOM_ELEMENT_HANDLING&&z9(xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(an.tagNameCheck=xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&z9(xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(an.attributeNameCheck=xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&typeof xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(an.allowCustomizedBuiltInElements=xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nr&&(ko=!1),cd&&(lc=!0),ua&&(Vr=qo({},[...aI]),On=[],ua.html===!0&&(qo(Vr,aT),qo(On,iI)),ua.svg===!0&&(qo(Vr,iT),qo(On,cT),qo(On,_S)),ua.svgFilters===!0&&(qo(Vr,CS),qo(On,cT),qo(On,_S)),ua.mathMl===!0&&(qo(Vr,lT),qo(On,lI),qo(On,_S))),xt.ADD_TAGS&&(Vr===en&&(Vr=sg(Vr)),qo(Vr,xt.ADD_TAGS,Ul)),xt.ADD_ATTR&&(On===lr&&(On=sg(On)),qo(On,xt.ADD_ATTR,Ul)),xt.ADD_URI_SAFE_ATTR&&qo(cc,xt.ADD_URI_SAFE_ATTR,Ul),xt.FORBID_CONTENTS&&(Wa===sl&&(Wa=sg(Wa)),qo(Wa,xt.FORBID_CONTENTS,Ul)),er&&(Vr["#text"]=!0),ui&&qo(Vr,["html","head","body"]),Vr.table&&(qo(Vr,["tbody"]),delete Hn.tbody),xt.TRUSTED_TYPES_POLICY){if(typeof xt.TRUSTED_TYPES_POLICY.createHTML!="function")throw $p('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $p('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xe=xt.TRUSTED_TYPES_POLICY,ft=Xe.createHTML("")}else Xe===void 0&&(Xe=mI(me,a)),Xe!==null&&typeof ft=="string"&&(ft=Xe.createHTML(""));zc&&zc(xt),$w=xt}},cO=qo({},["mi","mo","mn","ms","mtext"]),ht=qo({},["foreignobject","desc","title","annotation-xml"]),bt=qo({},["title","style","font","a","script"]),Jt=qo({},iT);qo(Jt,CS),qo(Jt,c7);const Kt=qo({},lT);qo(Kt,sw);const Yn=function(xt){let An=et(xt);(!An||!An.tagName)&&(An={namespaceURI:Cy,tagName:"template"});const uo=ny(xt.tagName),va=ny(An.tagName);return dk[xt.namespaceURI]?xt.namespaceURI===hg?An.namespaceURI===om?uo==="svg":An.namespaceURI===gg?uo==="svg"&&(va==="annotation-xml"||cO[va]):!!Jt[uo]:xt.namespaceURI===gg?An.namespaceURI===om?uo==="math":An.namespaceURI===hg?uo==="math"&&ht[va]:!!Kt[uo]:xt.namespaceURI===om?An.namespaceURI===hg&&!ht[va]||An.namespaceURI===gg&&!cO[va]?!1:!Kt[uo]&&(bt[uo]||!Jt[uo]):!!(l0==="application/xhtml+xml"&&dk[xt.namespaceURI]):!1},Zo=function(xt){qd(t.removed,{element:xt});try{xt.parentNode.removeChild(xt)}catch{xt.remove()}},Hs=function(xt,An){try{qd(t.removed,{attribute:An.getAttributeNode(xt),from:An})}catch{qd(t.removed,{attribute:null,from:An})}if(An.removeAttribute(xt),xt==="is"&&!On[xt])if(lc||cd)try{Zo(An)}catch{}else try{An.setAttribute(xt,"")}catch{}},pg=function(xt){let An,uo;if(Dh)xt="<remove></remove>"+xt;else{const bg=rT(xt,/^[\r\n\t ]+/);uo=bg&&bg[0]}l0==="application/xhtml+xml"&&Cy===om&&(xt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xt+"</body></html>");const va=Xe?Xe.createHTML(xt):xt;if(Cy===om)try{An=new ee().parseFromString(va,l0)}catch{}if(!An||!An.documentElement){An=Bt.createDocument(Cy,"template",null);try{An.documentElement.innerHTML=uk?ft:va}catch{}}const uc=An.body||An.documentElement;return xt&&uo&&uc.insertBefore(l.createTextNode(uo),uc.childNodes[0]||null),Cy===om?_t.call(An,ui?"html":"body")[0]:ui?An.documentElement:uc},ZL=function(xt){return qt.call(xt.ownerDocument||xt,xt,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},lle=function(xt){return xt instanceof Y&&(typeof xt.nodeName!="string"||typeof xt.textContent!="string"||typeof xt.removeChild!="function"||!(xt.attributes instanceof q)||typeof xt.removeAttribute!="function"||typeof xt.setAttribute!="function"||typeof xt.namespaceURI!="string"||typeof xt.insertBefore!="function"||typeof xt.hasChildNodes!="function")},jL=function(xt){return typeof _=="object"?xt instanceof _:xt&&typeof xt=="object"&&typeof xt.nodeType=="number"&&typeof xt.nodeName=="string"},c0=function(xt,An,uo){It[xt]&&oT(It[xt],va=>{va.call(t,An,uo,$w)})},Cj=function(xt){let An;if(c0("beforeSanitizeElements",xt,null),lle(xt))return Zo(xt),!0;const uo=Ul(xt.nodeName);if(c0("uponSanitizeElement",xt,{tagName:uo,allowedTags:Vr}),xt.hasChildNodes()&&!jL(xt.firstElementChild)&&(!jL(xt.content)||!jL(xt.content.firstElementChild))&&rc(/<[/\w]/g,xt.innerHTML)&&rc(/<[/\w]/g,xt.textContent))return Zo(xt),!0;if(!Vr[uo]||Hn[uo]){if(!Hn[uo]&&Sj(uo)&&(an.tagNameCheck instanceof RegExp&&rc(an.tagNameCheck,uo)||an.tagNameCheck instanceof Function&&an.tagNameCheck(uo)))return!1;if(er&&!Wa[uo]){const va=et(xt)||xt.parentNode,uc=Ze(xt)||xt.childNodes;if(uc&&va){const bg=uc.length;for(let $i=bg-1;$i>=0;--$i)va.insertBefore(ge(uc[$i],!0),Ee(xt))}}return Zo(xt),!0}return xt instanceof A&&!Yn(xt)||(uo==="noscript"||uo==="noembed"||uo==="noframes")&&rc(/<\/no(script|embed|frames)/i,xt.innerHTML)?(Zo(xt),!0):(Nr&&xt.nodeType===3&&(An=xt.textContent,An=sd(An,wn," "),An=sd(An,Rn," "),An=sd(An,So," "),xt.textContent!==An&&(qd(t.removed,{element:xt.cloneNode()}),xt.textContent=An)),c0("afterSanitizeElements",xt,null),!1)},_j=function(xt,An,uo){if(ud&&(An==="id"||An==="name")&&(uo in l||uo in wj))return!1;if(!(ko&&!Oo[An]&&rc(No,An))){if(!(fn&&rc(_r,An))){if(!On[An]||Oo[An]){if(!(Sj(xt)&&(an.tagNameCheck instanceof RegExp&&rc(an.tagNameCheck,xt)||an.tagNameCheck instanceof Function&&an.tagNameCheck(xt))&&(an.attributeNameCheck instanceof RegExp&&rc(an.attributeNameCheck,An)||an.attributeNameCheck instanceof Function&&an.attributeNameCheck(An))||An==="is"&&an.allowCustomizedBuiltInElements&&(an.tagNameCheck instanceof RegExp&&rc(an.tagNameCheck,uo)||an.tagNameCheck instanceof Function&&an.tagNameCheck(uo))))return!1}else if(!cc[An]){if(!rc(_l,sd(uo,na,""))){if(!((An==="src"||An==="xlink:href"||An==="href")&&xt!=="script"&&sT(uo,"data:")===0&&Oa[xt])){if(!(Po&&!rc(Lr,sd(uo,na,"")))){if(uo)return!1}}}}}}return!0},Sj=function(xt){return xt.indexOf("-")>0},kj=function(xt){let An,uo,va,uc;c0("beforeSanitizeAttributes",xt,null);const{attributes:bg}=xt;if(!bg)return;const $i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:On};for(uc=bg.length;uc--;){An=bg[uc];const{name:vg,namespaceURI:V9}=An;uo=vg==="value"?An.value:sI(An.value);const ule=uo;if(va=Ul(vg),$i.attrName=va,$i.attrValue=uo,$i.keepAttr=!0,$i.forceKeepAttr=void 0,c0("uponSanitizeAttribute",xt,$i),uo=$i.attrValue,$i.forceKeepAttr)continue;if(!$i.keepAttr){Hs(vg,xt);continue}if(!Ci&&rc(/\/>/i,uo)){Hs(vg,xt);continue}Nr&&(uo=sd(uo,wn," "),uo=sd(uo,Rn," "),uo=sd(uo,So," "));const Ej=Ul(xt.nodeName);if(!_j(Ej,va,uo)){Hs(vg,xt);continue}if(nm&&(va==="id"||va==="name")&&(Hs(vg,xt),uo=Pn+uo),Xe&&typeof me=="object"&&typeof me.getAttributeType=="function"&&!V9)switch(me.getAttributeType(Ej,va)){case"TrustedHTML":{uo=Xe.createHTML(uo);break}case"TrustedScriptURL":{uo=Xe.createScriptURL(uo);break}}if(uo!==ule)try{V9?xt.setAttributeNS(V9,vg,uo):xt.setAttribute(vg,uo)}catch{Hs(vg,xt)}}c0("afterSanitizeAttributes",xt,null)},cle=function Lo(xt){let An;const uo=ZL(xt);for(c0("beforeSanitizeShadowDOM",xt,null);An=uo.nextNode();)c0("uponSanitizeShadowNode",An,null),!Cj(An)&&(An.content instanceof m&&Lo(An.content),kj(An));c0("afterSanitizeShadowDOM",xt,null)};return t.sanitize=function(Lo){let xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},An,uo,va,uc;if(uk=!Lo,uk&&(Lo="<!-->"),typeof Lo!="string"&&!jL(Lo))if(typeof Lo.toString=="function"){if(Lo=Lo.toString(),typeof Lo!="string")throw $p("dirty is not a string, aborting")}else throw $p("toString is not a function");if(!t.isSupported)return Lo;if(em||qp(xt),t.removed=[],typeof Lo=="string"&&($s=!1),$s){if(Lo.nodeName){const vg=Ul(Lo.nodeName);if(!Vr[vg]||Hn[vg])throw $p("root node is forbidden and cannot be sanitized in-place")}}else if(Lo instanceof _)An=pg("<!---->"),uo=An.ownerDocument.importNode(Lo,!0),uo.nodeType===1&&uo.nodeName==="BODY"||uo.nodeName==="HTML"?An=uo:An.appendChild(uo);else{if(!lc&&!Nr&&!ui&&Lo.indexOf("<")===-1)return Xe&&tm?Xe.createHTML(Lo):Lo;if(An=pg(Lo),!An)return lc?null:tm?ft:""}An&&Dh&&Zo(An.firstChild);const bg=ZL($s?Lo:An);for(;va=bg.nextNode();)Cj(va)||(va.content instanceof m&&cle(va.content),kj(va));if($s)return Lo;if(lc){if(cd)for(uc=mn.call(An.ownerDocument);An.firstChild;)uc.appendChild(An.firstChild);else uc=An;return(On.shadowroot||On.shadowrootmode)&&(uc=pt.call(o,uc,!0)),uc}let $i=ui?An.outerHTML:An.innerHTML;return ui&&Vr["!doctype"]&&An.ownerDocument&&An.ownerDocument.doctype&&An.ownerDocument.doctype.name&&rc(uT,An.ownerDocument.doctype.name)&&($i="<!DOCTYPE "+An.ownerDocument.doctype.name+`>
`+$i),Nr&&($i=sd($i,wn," "),$i=sd($i,Rn," "),$i=sd($i,So," ")),Xe&&tm?Xe.createHTML($i):$i},t.setConfig=function(Lo){qp(Lo),em=!0},t.clearConfig=function(){$w=null,em=!1},t.isValidAttribute=function(Lo,xt,An){$w||qp({});const uo=Ul(Lo),va=Ul(xt);return _j(uo,va,An)},t.addHook=function(Lo,xt){typeof xt=="function"&&(It[Lo]=It[Lo]||[],qd(It[Lo],xt))},t.removeHook=function(Lo){if(It[Lo])return rI(It[Lo])},t.removeHooks=function(Lo){It[Lo]&&(It[Lo]=[])},t.removeAllHooks=function(){It={}},t}var mT=fT();const gI=Yt.each,hI=Yt.trim,h7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],p7={ftp:21,http:80,https:443,mailto:25},pI=["img","video"],bI=(e,t)=>Oe(e)?!e:Oe(t)?!be(pI,t):!0,b7=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},gT=(e,t,o)=>{const a=b7(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?bI(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class ad{static parseDataUri(t){let o;const a=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(a[0]);return l&&(o=l[1]),{type:o,data:a[1]}}static isDomSafe(t,o,a={}){if(a.allow_script_urls)return!0;{const l=Ug.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!gT(a,l,o)}}static getDocumentBaseUrl(t){var o;let a;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?a=(o=t.href)!==null&&o!==void 0?o:"":a=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(t,o={}){this.path="",this.directory="",t=hI(t),this.settings=o;const a=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(a&&a.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const _=a?a.path:new ad(document.location.href).directory;if((a==null?void 0:a.protocol)==="")t="//mce_host"+l.toAbsPath(_,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(_,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);p&&gI(h7,(_,A)=>{let $=p[A];$&&($=$.replace(/\(mce_at\)/g,"@@")),l[_]=$}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),!l.port&&l.host==="mce_host"&&(l.port=a.port),(!l.host||l.host==="mce_host")&&(l.host=a.host),l.source=""),m&&(l.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new ad(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),l=o.getURI();if(a===l||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===l)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const a=new ad(t,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?p7[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let a=0,l="",m,p;const _=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(_.length>=A.length){for(m=0,p=_.length;m<p;m++)if(m>=A.length||_[m]!==A[m]){a=m+1;break}}if(_.length<A.length){for(m=0,p=A.length;m<p;m++)if(m>=_.length||_[m]!==A[m]){a=m+1;break}}if(a===1)return o;for(m=0,p=_.length-(a-1);m<p;m++)l+="../";for(m=a-1,p=A.length;m<p;m++)m!==a-1?l+="/"+A[m]:l+=A[m];return l}toAbsPath(t,o){let a=0;const l=/\/$/.test(o)?"/":"",m=t.split("/"),p=o.split("/"),_=[];gI(m,Y=>{Y&&_.push(Y)});const A=[];for(let Y=p.length-1;Y>=0;Y--)if(!(p[Y].length===0||p[Y]===".")){if(p[Y]===".."){a++;continue}if(a>0){a--;continue}A.push(p[Y])}const $=_.length-a;let q;return $<=0?q=Fr(A).join("/"):q=_.slice(0,$).join("/")+"/"+Fr(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),l&&q.lastIndexOf("/")!==q.length-1&&(q+=l),q}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const v7=Yt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),hT="data-mce-type";let vI=0;const yI=(e,t,o,a,l)=>{var m,p,_,A;const $=t.validate,q=o.getSpecialElements();e.nodeType===mf&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const Y=(p=l==null?void 0:l.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){Oe(l)&&(l.allowedTags[Y]=!0);return}if(e.nodeType!==fl||Y==="body")return;const ee=$e.fromDom(e),me=Sd(ee,hT),we=pi(ee,"data-mce-bogus");if(!me&&fe(we)){we==="all"?Cr(ee):Ni(ee);return}const ge=o.getElementRule(Y);if($&&!ge){oo(q,Y)?Cr(ee):Ni(ee);return}else Oe(l)&&(l.allowedTags[Y]=!0);if($&&ge&&!me){if(pe((_=ge.attributesForced)!==null&&_!==void 0?_:[],Ee=>{fa(ee,Ee.name,Ee.value==="{$uid}"?`mce_${vI++}`:Ee.value)}),pe((A=ge.attributesDefault)!==null&&A!==void 0?A:[],Ee=>{Sd(ee,Ee.name)||fa(ee,Ee.name,Ee.value==="{$uid}"?`mce_${vI++}`:Ee.value)}),ge.attributesRequired&&!Ae(ge.attributesRequired,Ee=>Sd(ee,Ee))){Ni(ee);return}if(ge.removeEmptyAttrs&&Qs(ee)){Ni(ee);return}ge.outputName&&ge.outputName!==Y&&Dx(ee,ge.outputName)}},y7=(e,t,o,a,l)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:_}=l;l.keepAttr=aw(t,o,a,m,p,_),l.keepAttr?(l.allowedAttributes[p]=!0,bT(p,o)&&(l.attrValue=p),t.allow_svg_data_urls&&Jr(_,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):pT(e,p)&&(l.forceKeepAttr=!0)},aw=(e,t,o,a,l,m)=>o!=="html"&&!Am(a)?!0:!(l in v7&&gT(e,m,a))&&(!e.validate||t.isValid(a,l)||Jr(l,"data-")||Jr(l,"aria-")),pT=(e,t)=>e.hasAttribute(hT)&&(t==="id"||t==="class"||t==="style"),bT=(e,t)=>e in t.getBoolAttrs(),xI=(e,t,o,a)=>{const{attributes:l}=e;for(let m=l.length-1;m>=0;m--){const p=l[m],_=p.name,A=p.value;!aw(t,o,a,e.tagName.toLowerCase(),_,A)&&!pT(e,_)?e.removeAttribute(_):bT(_,o)&&e.setAttribute(_,_)}},x7=(e,t,o)=>{const a=mT();return a.addHook("uponSanitizeElement",(l,m)=>{yI(l,e,t,o.track(l),m)}),a.addHook("uponSanitizeAttribute",(l,m)=>{y7(l,e,t,o.current(),m)}),a},w7=(e,t)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=t,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},wI=e=>{const t=dC(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};mT().sanitize(e,a)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};mT().sanitize(e,o)}else throw new Error("Not a namespace element")},C7=(e,t)=>{const o=Uk();if(e.sanitize){const a=x7(e,t,o);return{sanitizeHtmlElement:(m,p)=>{a.sanitize(m,w7(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:wI}}else return{sanitizeHtmlElement:(m,p)=>{const _=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const $=o.track(A);yI(A,e,t,$),Sn(A)&&xI(A,e,t,$)}o.reset()},sanitizeNamespaceElement:Mt}},SS=Yt.makeMap,vT=Yt.extend,CI=(e,t,o,a)=>{const l=e.name,m=l in o&&l!=="title"&&l!=="textarea"&&l!=="noscript",p=t.childNodes;for(let _=0,A=p.length;_<A;_++){const $=p[_],q=new wi($.nodeName.toLowerCase(),$.nodeType);if(Sn($)){const Y=$.attributes;for(let ee=0,me=Y.length;ee<me;ee++){const we=Y[ee];q.attr(we.name,we.value)}Am(q.name)&&(a($),q.value=$.innerHTML)}else Ht($)?(q.value=$.data,m&&(q.raw=!0)):(wo($)||ex($)||Sf($))&&(q.value=$.data);Am(q.name)||CI(q,$,o,a),e.append(q)}},li=(e,t,o)=>{const a=[];for(let l=e,m=l;l;m=l,l=l.walk()){const p=l;pe(t,_=>_(p)),st(p.parent)&&p!==e?l=m:a.push(p)}for(let l=a.length-1;l>=0;l--){const m=a[l];pe(o,p=>p(m))}},ag=(e,t,o,a)=>{const l=o.validate,m=t.getNonEmptyElements(),p=t.getWhitespaceElements(),_=vT(SS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=Y0(t),$=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/,ee=et=>{let Xe=et.parent;for(;Oe(Xe);){if(Xe.name in p)return!0;Xe=Xe.parent}return!1},me=et=>{let Xe=et;for(;Oe(Xe);){if(Xe.name in A)return X1(t,m,p,Xe);Xe=Xe.parent}return!1},we=et=>et.name in _||Qh(t,et)||Am(et.name)&&et.parent===e,ge=(et,Xe)=>{const ft=Xe?et.prev:et.next;return Oe(ft)||st(et.parent)?!1:we(et.parent)&&(et.parent!==e||a.isRootContent===!0)};return[et=>{var Xe;if(et.type===3&&!ee(et)){let ft=(Xe=et.value)!==null&&Xe!==void 0?Xe:"";ft=ft.replace($," "),(l5(et.prev,we)||ge(et,!0))&&(ft=ft.replace(q,"")),ft.length===0||ft===" "&&et.prev&&et.prev.type===mf&&et.next&&et.next.type===mf?et.remove():et.value=ft}},et=>{var Xe;if(et.type===1){const ft=t.getElementRule(et.name);if(l&&ft){const Bt=X1(t,m,p,et);ft.paddInEmptyBlock&&Bt&&me(et)?G_(o,a,we,et):ft.removeEmpty&&Bt?we(et)?et.remove():et.unwrap():ft.paddEmpty&&(Bt||Y_(et))&&G_(o,a,we,et)}}else if(et.type===3&&!ee(et)){let ft=(Xe=et.value)!==null&&Xe!==void 0?Xe:"";(et.next&&we(et.next)||ge(et,!1))&&(ft=ft.replace(Y,"")),ft.length===0?et.remove():et.value=ft}}]},_7=(e,t)=>{var o;const a=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},oy=(e={},t=Oc())=>{const o=bS(),a=bS(),l={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=C7(l,t),_=(Xe,ft,Bt="html")=>{const qt=Bt==="xhtml"?"application/xhtml+xml":"text/html",mn=oo(t.getSpecialElements(),ft.toLowerCase()),_t=mn?`<${ft}>${Xe}</${ft}>`:Xe,pt=()=>Bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${_t}</body></html>`:/^[\s]*<head/i.test(Xe)||/^[\s]*<html/i.test(Xe)||/^[\s]*<!DOCTYPE/i.test(Xe)?`<html>${_t}</html>`:`<body>${_t}</body>`,It=m.parseFromString(pt(),qt).body;return p.sanitizeHtmlElement(It,qt),mn?It.firstChild:It},A=o.addFilter,$=o.getFilters,q=o.removeFilter,Y=a.addFilter,ee=a.getFilters,me=a.removeFilter,we=(Xe,ft)=>{q2(t,Xe)&&ft.push(Xe)},ge=(Xe,ft)=>{const Bt=fe(ft.attr(hT)),qt=ft.type===1&&!oo(Xe,ft.name)&&!Qh(t,ft)&&!Am(ft.name);return ft.type===3||qt&&!Bt},Ee=(Xe,ft)=>{const Bt=vT(SS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),qt=/^[ \t\r\n]+/,mn=/[ \t\r\n]+$/;let _t=Xe.firstChild,pt=null;const It=wn=>{var Rn,So;wn&&(_t=wn.firstChild,_t&&_t.type===3&&(_t.value=(Rn=_t.value)===null||Rn===void 0?void 0:Rn.replace(qt,"")),_t=wn.lastChild,_t&&_t.type===3&&(_t.value=(So=_t.value)===null||So===void 0?void 0:So.replace(mn,"")))};if(t.isValidChild(Xe.name,ft.toLowerCase())){for(;_t;){const wn=_t.next;ge(Bt,_t)?(pt||(pt=new wi(ft,1),pt.attr(l.forced_root_block_attrs),Xe.insert(pt,_t)),pt.append(_t)):(It(pt),pt=null),_t=wn}It(pt)}},et={schema:t,addAttributeFilter:Y,getAttributeFilters:ee,removeAttributeFilter:me,addNodeFilter:A,getNodeFilters:$,removeNodeFilter:q,parse:(Xe,ft={})=>{var Bt;const qt=l.validate,mn=(Bt=ft.context)!==null&&Bt!==void 0?Bt:l.root_name,_t=_(Xe,mn,ft.format);Ls(t,_t);const pt=new wi(mn,11);CI(pt,_t,t.getSpecialElements(),p.sanitizeNamespaceElement),_t.innerHTML="";const[It,wn]=ag(pt,t,l,ft),Rn=[],So=qt?na=>we(na,Rn):Mt,No={nodes:{},attributes:{}},_r=na=>a3($(),ee(),na,No);if(li(pt,[It,_r],[wn,So]),Rn.reverse(),qt&&Rn.length>0)if(ft.context){const{pass:na,fail:_l}=De(Rn,Vr=>Vr.parent===pt);yu(_l,t,pt,_r),ft.invalid=na.length>0}else yu(Rn,t,pt,_r);const Lr=_7(l,ft);return Lr&&(pt.name==="body"||ft.isRootContent)&&Ee(pt,Lr),ft.invalid||i3(No,ft),pt}};return a7(et,l),e7(et,l,t),et},S7=e=>Wv(e)?gh({validate:!1}).serialize(e):e,yT=(e,t,o)=>{const a=S7(e),l=t(a);if(l.isDefaultPrevented())return l;if(Wv(e))if(l.content!==a){const m=oy({validate:!1,forced_root_block:!1,...o}).parse(l.content,{context:e.name});return{...l,content:m}}else return{...l,content:e};else return l},qv=e=>({sanitize:CD(e),sandbox_iframes:wE(e),sandbox_iframes_exclusions:MC(e)}),_I=(e,t)=>{if(t.no_events)return Wn.value(t);{const o=Kf(e,t);return o.isDefaultPrevented()?Wn.error(kR(e,{content:"",...o}).content):Wn.value(o)}},Gd=(e,t,o)=>o.no_events?t:yT(t,l=>kR(e,{...o,content:l}),qv(e)).content,xT=(e,t)=>{if(t.no_events)return Wn.value(t);{const o=yT(t.content,a=>w8(e,{...t,content:a}),qv(e));return o.isDefaultPrevented()?(nc(e,o),Wn.error(void 0)):Wn.value(o)}},wT=(e,t,o)=>{o.no_events||nc(e,{...o,content:t})},kS=(e,t,o)=>({element:e,width:t,rows:o}),CT=(e,t)=>({element:e,cells:t}),k7=(e,t)=>({x:e,y:t}),ES=(e,t)=>Yc(e,t).bind(ln).getOr(1),ig=(e,t,o,a,l)=>{const m=ES(l,"rowspan"),p=ES(l,"colspan"),_=e.rows;for(let A=o;A<o+m;A++){_[A]||(_[A]=CT(Bm(a),[]));for(let $=t;$<t+p;$++){const q=_[A].cells;q[$]=A===o&&$===t?l:Ms(l)}}},SI=(e,t,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[t]},kI=(e,t,o)=>{for(;SI(e,t,o);)t++;return t},iw=e=>on(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),AS=(e,t)=>{const o=e.rows;for(let a=0;a<o.length;a++){const l=o[a].cells;for(let m=0;m<l.length;m++)if(Vo(l[m],t))return Q.some(k7(m,a))}return Q.none()},_T=(e,t,o,a,l)=>{const m=[],p=e.rows;for(let _=o;_<=l;_++){const A=p[_].cells,$=t<a?A.slice(t,a+1):A.slice(a,t+1);m.push(CT(p[_].element,$))}return m},EI=(e,t,o)=>{const a=t.x,l=t.y,m=o.x,p=o.y,_=l<p?_T(e,a,l,m,p):_T(e,a,p,m,l);return kS(e.element,iw(_),_)},AI=(e,t)=>{const o=Ms(e.element),a=$e.fromTag("tbody");return js(a,t),Ns(o,a),o},E7=e=>Fe(e.rows,t=>{const o=Fe(t.cells,l=>{const m=Bm(l);return Co(m,"colspan"),Co(m,"rowspan"),m}),a=Ms(t.element);return js(a,o),a}),A7=e=>{const t=kS(Ms(e),0,[]);return pe(ia(e,"tr"),(o,a)=>{pe(ia(o,"td,th"),(l,m)=>{ig(t,kI(t,m,a),a,o,l)})}),kS(t.element,iw(t.rows),t.rows)},T7=e=>AI(e,E7(e)),TI=(e,t,o)=>AS(e,t).bind(a=>AS(e,o).map(l=>EI(e,a,l))),OI=e=>vn(e,t=>zo(t)==="ul"||zo(t)==="ol"),O7=(e,t)=>vn(e,o=>zo(o)==="li"&&l2(o,t)).fold(ct([]),o=>OI(e).map(a=>{const l=$e.fromTag(zo(a)),m=pc(Lg(a),(p,_)=>Jr(_,"list-style"));return Bo(l,m),[$e.fromTag("li"),l]}).getOr([])),ST=(e,t)=>{const o=on(t,(a,l)=>(Ns(l,a),l),e);return t.length>0?Mc([o]):o},DI=e=>Fm(e)?Qa(e).filter(ov).fold(ct([]),t=>[e,t]):ov(e)?[e]:[],D7=(e,t,o)=>{const a=$e.fromDom(t.commonAncestorContainer),l=$c(a,e),m=We(l,A=>o.isWrapper(zo(A))),p=O7(l,t),_=m.concat(p.length?p:DI(a));return Fe(_,Ms)},kT=()=>Mc([]),R7=(e,t,o)=>ST($e.fromDom(t.cloneContents()),D7(e,t,o)),N7=(e,t)=>tu(t,"table",Lt(Vo,e)),wl=(e,t)=>N7(e,t[0]).bind(o=>{const a=t[0],l=t[t.length-1],m=A7(o);return TI(m,a,l).map(p=>Mc([T7(p)]))}).getOrThunk(kT),I7=(e,t,o)=>t.length>0&&t[0].collapsed?kT():R7(e,t[0],o),P7=(e,t,o)=>{const a=aR(t,e);return a.length>0?wl(e,a):I7(e,t,o)},TS=(e,t)=>t>=0&&t<e.length&&Ev(e.charAt(t)),RI=e=>vl(e.innerText),OS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),L7=e=>Q.from(e.selection.getRng()).map(t=>{var o;const a=Q.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),m=OS(a),p=$e.fromDom(t.cloneContents());gN(p),hN(p);const _=e.dom.add(l,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),A=RI(_),$=vl((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),TS($,0)||TS($,$.length-1)){const q=a.getOr(l),Y=RI(q),ee=Y.indexOf(A);if(ee===-1)return A;{const me=TS(Y,ee-1),we=TS(Y,ee+A.length);return(me?" ":"")+A+(we?" ":"")}}else return A}).getOr(""),ET=(e,t)=>{const o=e.selection.getRng(),a=e.dom.create("body"),l=e.selection.getSel(),m=__(e,is(l)),p=t.contextual?P7($e.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,t)},AT=(e,t)=>{if(t.format==="text")return L7(e);{const o=ET(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},B7=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),M7=(e,t,o={})=>{const a=B7(o,t);return _I(e,a).fold(_n,l=>{const m=AT(e,l);return Gd(e,m,l)})},id=0,TT=1,NI=2,OT=(e,t)=>{const o=e.length+t.length+2,a=new Array(o),l=new Array(o),m=(q,Y,ee)=>({start:q,end:Y,diag:ee}),p=(q,Y,ee,me,we)=>{const ge=A(q,Y,ee,me);if(ge===null||ge.start===Y&&ge.diag===Y-me||ge.end===q&&ge.diag===q-ee){let Ee=q,Ze=ee;for(;Ee<Y||Ze<me;)Ee<Y&&Ze<me&&e[Ee]===t[Ze]?(we.push([id,e[Ee]]),++Ee,++Ze):Y-q>me-ee?(we.push([NI,e[Ee]]),++Ee):(we.push([TT,t[Ze]]),++Ze)}else{p(q,ge.start,ee,ge.start-ge.diag,we);for(let Ee=ge.start;Ee<ge.end;++Ee)we.push([id,e[Ee]]);p(ge.end,Y,ge.end-ge.diag,me,we)}},_=(q,Y,ee,me)=>{let we=q;for(;we-Y<me&&we<ee&&e[we]===t[we-Y];)++we;return m(q,we,Y)},A=(q,Y,ee,me)=>{const we=Y-q,ge=me-ee;if(we===0||ge===0)return null;const Ee=we-ge,Ze=ge+we,et=(Ze%2===0?Ze:Ze+1)/2;a[1+et]=q,l[1+et]=Y+1;let Xe,ft,Bt,qt,mn;for(Xe=0;Xe<=et;++Xe){for(ft=-Xe;ft<=Xe;ft+=2){for(Bt=ft+et,ft===-Xe||ft!==Xe&&a[Bt-1]<a[Bt+1]?a[Bt]=a[Bt+1]:a[Bt]=a[Bt-1]+1,qt=a[Bt],mn=qt-q+ee-ft;qt<Y&&mn<me&&e[qt]===t[mn];)a[Bt]=++qt,++mn;if(Ee%2!==0&&Ee-Xe<=ft&&ft<=Ee+Xe&&l[Bt-Ee]<=a[Bt])return _(l[Bt-Ee],ft+q-ee,Y,me)}for(ft=Ee-Xe;ft<=Ee+Xe;ft+=2){for(Bt=ft+et-Ee,ft===Ee-Xe||ft!==Ee+Xe&&l[Bt+1]<=l[Bt-1]?l[Bt]=l[Bt+1]-1:l[Bt]=l[Bt-1],qt=l[Bt]-1,mn=qt-q+ee-ft;qt>=q&&mn>=ee&&e[qt]===t[mn];)l[Bt]=qt--,mn--;if(Ee%2===0&&-Xe<=ft&&ft<=Xe&&l[Bt]<=a[Bt+Ee])return _(l[Bt],ft+q-ee,Y,me)}}return null},$=[];return p(0,e.length,0,t.length,$),$},DT=e=>Sn(e)?e.outerHTML:Ht(e)?Ug.encodeRaw(e.data,!1):wo(e)?"<!--"+e.data+"-->":"",DS=e=>{let t;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)a.appendChild(t);return a},II=(e,t,o)=>{const a=DS(t);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(a,l)}else e.appendChild(a)},PI=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},LI=(e,t)=>{let o=0;pe(e,a=>{a[0]===id?o++:a[0]===TT?(II(t,a[1],o),o++):a[0]===NI&&PI(t,o)})},F7=(e,t)=>We(Fe(bo(e.childNodes),tn(vl,DT)),o=>o.length>0),$7=(e,t)=>{const o=Fe(bo(t.childNodes),DT);return LI(OT(o,e),t),t},RT=kl(()=>document.implementation.createHTMLDocument("undo")),H7=e=>e.querySelector("iframe")!==null,z7=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),RS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),ry=e=>{const t=e.serializer.getTempAttrs(),o=yA(e.getBody(),t);return H7(o)?z7(F7(o)):RS(vl(o.innerHTML))},lw=(e,t,o)=>{const a=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?$7(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Oe(a)&&JD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},NS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,wh=e=>{const t=$e.fromTag("body",RT());return Cm(t,NS(e)),pe(ia(t,"*[data-mce-bogus]"),Ni),Od(t)},V7=(e,t)=>NS(e)===NS(t),U7=(e,t)=>wh(e)===wh(t),sy=(e,t)=>!e||!t?!1:V7(e,t)?!0:U7(e,t),IS=e=>e.get()===0,cw=(e,t,o)=>{IS(o)&&(e.typing=t)},NT=(e,t)=>{e.typing&&(cw(e,!1,t),e.add())},W7=e=>{e.typing&&(e.typing=!1,e.add())},Z7=(e,t,o)=>{IS(t)&&o.set(bn(e.selection))},IT=(e,t,o,a,l,m,p)=>{const _=ry(e),A=Yt.extend(m||{},_);if(!IS(a)||e.removed)return null;const $=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:$,originalEvent:p}).isDefaultPrevented()||$&&sy($,A))return null;t.data[o.get()]&&l.get().each(ee=>{t.data[o.get()].beforeBookmark=ee});const q=hD(e);if(q&&t.data.length>q){for(let ee=0;ee<t.data.length-1;ee++)t.data[ee]=t.data[ee+1];t.data.length--,o.set(t.data.length)}A.bookmark=bn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const Y={level:A,lastLevel:$,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Y),e.dispatch("change",Y)):e.dispatch("AddUndo",Y),A},PT=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},LT=(e,t,o,a,l)=>{if(t.transact(a)){const m=t.data[o.get()].bookmark,p=t.data[o.get()-1];lw(e,p,!0),t.transact(l)&&(t.data[o.get()-1].beforeBookmark=m)}},BI=(e,t,o)=>{let a;return t.get()<o.length-1&&(t.set(t.get()+1),a=o[t.get()],lw(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},PS=(e,t,o,a)=>{let l;return t.typing&&(t.add(),t.typing=!1,cw(t,!1,o)),a.get()>0&&(a.set(a.get()-1),l=t.data[a.get()],lw(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},MI=e=>{e.clear(),e.add()},FI=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!sy(ry(e),t.data[0]),j7=(e,t)=>t.get()<e.data.length-1&&!e.typing,K7=(e,t,o)=>(NT(e,t),e.beforeChange(),e.ignore(o),e.add()),BT=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},$I=(e,t)=>{const o=e.dom,a=Oe(t)?t:e.getBody();pe(o.select("table,a",a),l=>{switch(l.nodeName){case"TABLE":const m=LC(e),p=o.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?o.addClass(l,m):o.removeClass(l,m);break;case"A":if(!o.getAttrib(l,"href")){const _=o.getAttrib(l,"name")||l.id,A=T1(e);_&&e.hasVisual?o.addClass(l,A):o.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},MT=e=>({init:{bindEvents:Mt},undoManager:{beforeChange:(t,o)=>Z7(e,t,o),add:(t,o,a,l,m,p)=>IT(e,t,o,a,l,m,p),undo:(t,o,a)=>PS(e,t,o,a),redo:(t,o)=>BI(e,t,o),clear:(t,o)=>PT(e,t,o),reset:t=>MI(t),hasUndo:(t,o)=>FI(e,t,o),hasRedo:(t,o)=>j7(t,o),transact:(t,o,a)=>K7(t,o,a),ignore:(t,o)=>BT(t,o),extra:(t,o,a,l)=>LT(e,t,o,a,l)},formatter:{match:(t,o,a,l)=>Ip(e,t,o,a,l),matchAll:(t,o)=>C5(e,t,o),matchNode:(t,o,a,l)=>og(e,t,o,a,l),canApply:t=>S5(e,t),closest:t=>_5(e,t),apply:(t,o,a)=>U5(e,t,o,a),remove:(t,o,a,l)=>Mp(e,t,o,a,l),toggle:(t,o,a)=>YF(e,t,o,a),formatChanged:(t,o,a,l,m)=>GF(e,t,o,a,l,m)},editor:{getContent:t=>vN(e,t),setContent:(t,o)=>zF(e,t,o),insertContent:(t,o)=>sS(e,t,o),addVisual:t=>$I(e,t)},selection:{getContent:(t,o)=>M7(e,t,o)},autocompleter:{addDecoration:Mt,removeDecoration:Mt},raw:{getModel:()=>Q.none()}}),q7=e=>{const t=$=>j($)?$:{},{init:o,undoManager:a,formatter:l,editor:m,selection:p,autocompleter:_,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:($,q,Y)=>a.transact(Y),ignore:($,q)=>a.ignore(q),extra:($,q,Y,ee)=>a.extra(Y,ee)},formatter:{match:($,q,Y,ee)=>l.match($,t(q),ee),matchAll:l.matchAll,matchNode:l.matchNode,canApply:$=>l.canApply($),closest:$=>l.closest($),apply:($,q,Y)=>l.apply($,t(q)),remove:($,q,Y,ee)=>l.remove($,t(q)),toggle:($,q,Y)=>l.toggle($,t(q)),formatChanged:($,q,Y,ee,me)=>l.formatChanged(q,Y,ee,me)},editor:{getContent:$=>m.getContent($),setContent:($,q)=>({content:m.setContent($,q),html:""}),insertContent:($,q)=>(m.insertContent($),""),addVisual:m.addVisual},selection:{getContent:($,q)=>p.getContent(q)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>Q.some(A.getRawModel())}}},G7=()=>{const e=ct(null),t=ct("");return{init:{bindEvents:Mt},undoManager:{beforeChange:Mt,add:e,undo:e,redo:e,clear:Mt,reset:Mt,hasUndo:Xn,hasRedo:Xn,transact:e,ignore:Mt,extra:Mt},formatter:{match:Xn,matchAll:ct([]),matchNode:ct(void 0),canApply:Xn,closest:t,apply:Mt,remove:Mt,toggle:Mt,formatChanged:ct({unbind:Mt})},editor:{getContent:t,setContent:ct({content:"",html:""}),insertContent:ct(""),addVisual:Mt},selection:{getContent:t},autocompleter:{addDecoration:Mt,removeDecoration:Mt},raw:{getModel:ct(Q.none())}}},lg=e=>oo(e.plugins,"rtc"),HI=e=>wr(e.plugins,"rtc").bind(t=>Q.from(t.setup)),zI=e=>{const t=e;return HI(e).fold(()=>(t.rtcInstance=MT(e),Q.none()),o=>(t.rtcInstance=G7(),Q.some(()=>o().then(a=>(t.rtcInstance=q7(a),a.rtc.isRemote)))))},FT=e=>e.rtcInstance?e.rtcInstance:MT(e),ci=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ay=(e,t,o)=>{ci(e).undoManager.beforeChange(t,o)},Y7=(e,t,o,a,l,m,p)=>ci(e).undoManager.add(t,o,a,l,m,p),X7=(e,t,o,a)=>ci(e).undoManager.undo(t,o,a),VI=(e,t,o)=>ci(e).undoManager.redo(t,o),UI=(e,t,o)=>{ci(e).undoManager.clear(t,o)},LS=(e,t)=>{ci(e).undoManager.reset(t)},J7=(e,t,o)=>ci(e).undoManager.hasUndo(t,o),Q7=(e,t,o)=>ci(e).undoManager.hasRedo(t,o),e$=(e,t,o,a)=>ci(e).undoManager.transact(t,o,a),t$=(e,t,o)=>{ci(e).undoManager.ignore(t,o)},n$=(e,t,o,a,l)=>{ci(e).undoManager.extra(t,o,a,l)},o$=(e,t,o,a,l)=>ci(e).formatter.match(t,o,a,l),r$=(e,t,o)=>ci(e).formatter.matchAll(t,o),s$=(e,t,o,a,l)=>ci(e).formatter.matchNode(t,o,a,l),a$=(e,t)=>ci(e).formatter.canApply(t),i$=(e,t)=>ci(e).formatter.closest(t),jr=(e,t,o,a)=>{ci(e).formatter.apply(t,o,a)},WI=(e,t,o,a,l)=>{ci(e).formatter.remove(t,o,a,l)},$T=(e,t,o,a)=>{ci(e).formatter.toggle(t,o,a)},ZI=(e,t,o,a,l,m)=>ci(e).formatter.formatChanged(t,o,a,l,m),jI=(e,t)=>FT(e).editor.getContent(t),HT=(e,t,o)=>FT(e).editor.setContent(t,o),l$=(e,t,o)=>FT(e).editor.insertContent(t,o),c$=(e,t,o)=>ci(e).selection.getContent(t,o),KI=(e,t)=>ci(e).editor.addVisual(t),qI=e=>ci(e).init.bindEvents(),u$=(e,t={})=>{const o=t.format?t.format:"html";return c$(e,o,t)},Gv=e=>e.dom.length===0?(Cr(e),Q.none()):Q.some(e),d$=(e,t)=>e.filter(o=>Mr.isBookmarkNode(o.dom)).bind(t?Ln:ma),iy=(e,t,o,a,l)=>{const m=e.dom,p=t.dom,_=a?m.length:p.length;a?(z2(m,p,l,!1,!a),o.setStart(p,_)):(z2(p,m,l,!1,!a),o.setEnd(p,_))},uw=(e,t,o)=>{Qa(e).each(a=>{const l=e.dom;t&&K1(a,vt(l,0),o)?I_(l,0,o):!t&&Hv(a,vt(l,l.length),o)&&Ts(l,l.length,o)})},Yv=(e,t,o,a,l)=>{e.bind(m=>((a?Ts:I_)(m.dom,a?m.dom.length:0,l),t.filter(Qr).map(_=>iy(m,_,o,a,l)))).orThunk(()=>d$(t,a).or(t).filter(Qr).map(p=>uw(p,a,l)))},zT=(e,t,o)=>{const a=Q.from(t.firstChild).map($e.fromDom),l=Q.from(t.lastChild).map($e.fromDom);e.deleteContents(),e.insertNode(t);const m=a.bind(ma).filter(Qr).bind(Gv),p=l.bind(Ln).filter(Qr).bind(Gv);Yv(m,a,e,!0,o),Yv(p,l,e,!1,o),e.collapse(!1)},GI=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),YI=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return gh({validate:!1},e.schema).serialize(m)}else return t.content},VT=(e,t,o={})=>{const a=GI(o,t);xT(e,a).each(l=>{const m=YI(e,l),p=e.selection.getRng();zT(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),Ju(e,p),wT(e,m,l)})},UT=(e,t,o)=>{if(oo(e,t)){const a=We(e[t],l=>l!==o);a.length===0?delete e[t]:e[t]=a}};var XI=(e,t)=>{let o,a;const l=(_,A)=>vn(A,$=>e.is($,_)),m=_=>e.getParents(_,void 0,e.getRoot()),p=()=>{o={},a={},t.on("NodeChange",_=>{const A=_.element,$=m(A),q={};Xo(o,(Y,ee)=>{l(ee,$).each(me=>{a[ee]||(pe(Y,we=>{we(!0,{node:me,selector:ee,parents:$})}),a[ee]=Y),q[ee]=Y})}),Xo(a,(Y,ee)=>{q[ee]||(delete a[ee],pe(Y,me=>{me(!1,{node:A,selector:ee,parents:$})}))})})};return{selectorChangedWithUnbind:(_,A)=>(o||p(),o[_]||(o[_]=[]),o[_].push(A),l(_,m(t.selection.getStart())).each(()=>{a[_]=o[_]}),{unbind:()=>{UT(o,_,A),UT(a,_,A)}})}};const WT=e=>!!(e&&e.ownerDocument)&&Ja($e.fromDom(e.ownerDocument),$e.fromDom(e)),ZT=e=>e?WT(e.startContainer)&&WT(e.endContainer):!1,jT=(e,t,o,a)=>{let l,m;const{selectorChangedWithUnbind:p}=XI(e,a),_=(en,On)=>{const lr=e.createRng();Oe(en)&&Oe(On)?(lr.setStart(en,On),lr.setEnd(en,On),ft(lr),Ze(!1)):(c2(e,lr,a.getBody(),!0),ft(lr))},A=en=>u$(a,en),$=(en,On)=>VT(a,en,On),q=en=>iN(a.getBody(),Xe(),en),Y=en=>lN(a.getBody(),Xe(),en),ee=(en,On)=>_l.getBookmark(en,On),me=en=>_l.moveToBookmark(en),we=(en,On)=>(P2(e,en,On).each(ft),en),ge=()=>{const en=Xe(),On=et();return!en||en.item?!1:en.compareEndPoints?en.compareEndPoints("StartToEnd",en)===0:!On||en.collapsed},Ee=()=>{const en=Xe(),On=a.getBody().querySelectorAll('[data-mce-selected="1"]');return On.length>0?yo(On,lr=>e.isEditable(lr.parentElement)):sN(e,en)},Ze=en=>{const On=Xe();On.collapse(!!en),ft(On)},et=()=>t.getSelection?t.getSelection():t.document.selection,Xe=()=>{let en;const On=(an,Hn,Oo)=>{try{return Hn.compareBoundaryPoints(an,Oo)}catch{return-1}},lr=t.document;if(Oe(a.bookmark)&&!H1(a)){const an=fA(a);if(an.isSome())return an.map(Hn=>__(a,[Hn])[0]).getOr(lr.createRange())}try{const an=et();an&&!wf(an.anchorNode)&&(an.rangeCount>0?en=an.getRangeAt(0):en=lr.createRange(),en=__(a,[en])[0])}catch{}if(en||(en=lr.createRange()),En(en.startContainer)&&en.collapsed){const an=e.getRoot();en.setStart(an,0),en.setEnd(an,0)}return l&&m&&(On(en.START_TO_START,en,l)===0&&On(en.END_TO_END,en,l)===0?en=m:(l=null,m=null)),en},ft=(en,On)=>{if(!ZT(en))return;const lr=et();if(en=a.dispatch("SetSelectionRange",{range:en,forward:On}).range,lr){m=en;try{lr.removeAllRanges(),lr.addRange(en)}catch{}On===!1&&lr.extend&&(lr.collapse(en.endContainer,en.endOffset),lr.extend(en.startContainer,en.startOffset)),l=lr.rangeCount>0?lr.getRangeAt(0):null}if(!en.collapsed&&en.startContainer===en.endContainer&&(lr!=null&&lr.setBaseAndExtent)&&en.endOffset-en.startOffset<2&&en.startContainer.hasChildNodes()){const Hn=en.startContainer.childNodes[en.startOffset];Hn&&Hn.nodeName==="IMG"&&(lr.setBaseAndExtent(en.startContainer,en.startOffset,en.endContainer,en.endOffset),(lr.anchorNode!==en.startContainer||lr.focusNode!==en.endContainer)&&lr.setBaseAndExtent(Hn,0,Hn,1))}a.dispatch("AfterSetSelectionRange",{range:en,forward:On})},Bt=en=>($(e.getOuterHTML(en)),en),qt=()=>tF(a.getBody(),Xe()),mn=(en,On)=>bA(e,Xe(),en,On),_t=()=>{const en=et(),On=en==null?void 0:en.anchorNode,lr=en==null?void 0:en.focusNode;if(!en||!On||!lr||wf(On)||wf(lr))return!0;const an=e.createRng(),Hn=e.createRng();try{an.setStart(On,en.anchorOffset),an.collapse(!0),Hn.setStart(lr,en.focusOffset),Hn.collapse(!0)}catch{return!0}return an.compareBoundaryPoints(an.START_TO_START,Hn)<=0},na={dom:e,win:t,serializer:o,editor:a,expand:(en={type:"word"})=>ft(_p(e).expand(Xe(),en)),collapse:Ze,setCursorLocation:_,getContent:A,setContent:$,getBookmark:ee,moveToBookmark:me,select:we,isCollapsed:ge,isEditable:Ee,isForward:_t,setNode:Bt,getNode:qt,getSel:et,setRng:ft,getRng:Xe,getStart:q,getEnd:Y,getSelectedBlocks:mn,normalize:()=>{const en=Xe(),On=et();if(!s2(On)&&I1(a)){const lr=Ym(e,en);return lr.each(an=>{ft(an,_t())}),lr.getOr(en)}return en},selectorChanged:(en,On)=>(p(en,On),na),selectorChangedWithUnbind:p,getScrollContainer:()=>{let en,On=e.getRoot();for(;On&&On.nodeName!=="BODY";){if(On.scrollHeight>On.clientHeight){en=On;break}On=On.parentNode}return en},scrollIntoView:(en,On)=>{Oe(en)?lA(a,en,On):Ju(a,Xe(),On)},placeCaretAt:(en,On)=>ft(PR(en,On,a.getDoc())),getBoundingClientRect:()=>{const en=Xe();return en.collapsed?vt.fromRangeStart(en).getClientRects()[0]:en.getBoundingClientRect()},destroy:()=>{t=l=m=null,Vr.destroy()}},_l=Mr(na),Vr=Rr(na,a);return na.bookmarkManager=_l,na.controlSelection=Vr,na},JI=(e,t,o)=>{t.addNodeFilter("br",(a,l,m)=>{const p=Yt.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),A=o.getWhitespaceElements();p.body=1;const $=q=>q.name in p||Qh(o,q);for(let q=0,Y=a.length;q<Y;q++){let ee=a[q],me=ee.parent;if(me&&$(me)&&ee===me.lastChild){let we=ee.prev;for(;we;){const ge=we.name;if(ge!=="span"||we.attr("data-mce-type")!=="bookmark"){ge==="br"&&(ee=null);break}we=we.prev}if(ee&&(ee.remove(),X1(o,_,A,me))){const ge=o.getElementRule(me.name);ge&&(ge.removeEmpty?me.remove():ge.paddEmpty&&G_(e,m,$,me))}}else{let we=ee;for(;me&&me.firstChild===we&&me.lastChild===we&&(we=me,!p[me.name]);)me=me.parent;if(we===me){const ge=new wi("#text",3);ge.value=Ca,ee.replace(ge)}}}})},KT=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,l)=>{let m=a.length;for(;m--;){const p=a[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",(a,l)=>{const m="data-mce-"+l,p=t.url_converter,_=t.url_converter_scope;let A=a.length;for(;A--;){const $=a[A];let q=$.attr(m);q!==void 0?($.attr(l,q.length>0?q:null),$.attr(m,null)):(q=$.attr(l),l==="style"?q=o.serializeStyle(o.parseStyle(q),$.name):p&&(q=p.call(_,q,l,$.name)),$.attr(l,q.length>0?q:null))}}),e.addAttributeFilter("class",a=>{let l=a.length;for(;l--;){const m=a[l];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,l,m)=>{let p=a.length;for(;p--;){const _=a[p];_.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(Q.from(_.firstChild).exists($=>{var q;return!Ic((q=$.value)!==null&&q!==void 0?q:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(a,l)=>{var m;const p=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=a.length;for(;_--;){const A=a[_],$=A.firstChild,q=(m=$==null?void 0:$.value)!==null&&m!==void 0?m:"";if(l==="script"){const Y=A.attr("type");Y&&A.attr("type",Y==="mce-no/type"?null:Y.replace(/^mce\-/,"")),t.element_format==="xhtml"&&$&&q.length>0&&($.value=`// <![CDATA[
`+p(q)+`
// ]]>`)}else t.element_format==="xhtml"&&$&&q.length>0&&($.value=`<!--
`+p(q)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let l=a.length;for(;l--;){const m=a[l],p=m.value;t.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,l)=>{let m=a.length;for(;m--;){const p=a[m];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{pe(a,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,l)=>{let m=a.length;for(;m--;)a[m].attr(l,null)}),t.remove_trailing_brs&&JI(t,e,e.schema)},f$=e=>{const t=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(t(o)){const a=o.prev;t(a)&&(o.remove(),a.remove())}},QI=(e,t,o)=>{let a;const l=e.dom;let m=t.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const _=p.createHTMLDocument("");Yt.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{_.body.appendChild(_.importNode(A,!0))}),m.nodeName!=="BODY"?m=_.body.firstChild:m=_.body,a=l.doc,l.doc=_}return p2(e,{...o,node:m}),a&&(l.doc=a),m},e6=(e,t)=>Oe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,t6=(e,t,o)=>e6(e,o)?QI(e,t,o):t,m$=(e,t,o)=>{Yt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(a,l)=>{let m=a.length;for(;m--;)a[m].attr(l,null)}),t.push(o))},g$=(e,t,o)=>!t.no_events&&e?b2(e,{...t,content:o}).content:o,BS=(e,t,o)=>{const a=vl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||rv($e.fromDom(t))?a:Yt.trim(a)},n6=(e,t,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(t,a);return f$(l),l},o6=(e,t,o)=>gh(e,t).serialize(o),r6=(e,t,o,a,l)=>{const m=o6(t,o,a);return g$(e,l,m)},h$=(e,t)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Hr.DOM,m=t&&t.schema?t.schema:Oc(a),p=oy(a,m);KT(p,a,l);const _=(A,$={})=>{const q={format:"html",...$},Y=t6(t,A,q),ee=BS(l,Y,q),me=n6(p,ee,q);return q.format==="tree"?me:r6(t,a,m,me,q)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:_,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:Lt(m$,p,o),getTempAttrs:ct(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},s6=(e,t)=>{const o=h$(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},p$="html",b$=(e,t)=>({...e,format:t,get:!0,getInner:!0}),a6=(e,t={})=>{const o=t.format?t.format:p$,a=b$(t,o);return _I(e,a).fold(_n,l=>{const m=jI(e,l);return Gd(e,m,l)})},i6="html",l6=(e,t)=>({format:i6,...e,set:!0,content:t}),qT=(e,t,o={})=>{const a=l6(o,t);return xT(e,a).map(l=>{const m=HT(e,l.content,l);return wT(e,m.html,l),m.content}).getOr(t)},v$="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),y$=[],x$="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),dw=[],GT=(e,t)=>{const o=We(t,a=>oo(e,a));return ar(o)},w$=e=>{const t=GT(e,v$),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),ar(t)},c6=e=>GT(e,y$),YT=(e,t)=>{const o=Yt.makeMap(e.plugins," "),l=We(t,m=>oo(o,m));return ar(l)},XT=e=>YT(e,x$),u6=e=>YT(e,dw.map(t=>t.name)),d6=(e,t)=>{const o=w$(e),a=XT(t),l=a.length>0,m=o.length>0,p=t.theme==="mobile";if(l||m||p){const _=`
- `,A=p?`

Themes:${_}mobile`:"",$=l?`

Plugins:${_}${a.join(_)}`:"",q=m?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+$+q)}},f6=e=>vn(dw,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),C$=(e,t)=>{const o=c6(e),a=u6(t),l=a.length>0,m=o.length>0;if(l||m){const p=`
- `,_=l?`

Plugins:${p}${a.map(f6).join(p)}`:"",A=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},_$=(e,t)=>{d6(e,t),C$(e,t)},Hp=Hr.DOM,S$=e=>{Hp.setStyle(e.id,"display",e.orgDisplay)},fw=e=>Q.from(e).each(t=>t.destroy()),MS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const a=o.dom;t.selection=o.win=o.dom=a.doc=null}},m6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Hp.unbind(t,"submit reset",e.formEventDelegate))},g6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,a=e.getBody(),l=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Oe(l==null?void 0:l.nextSibling)&&Hp.remove(l.nextSibling),v2(e),e.editorManager.remove(e),!e.inline&&a&&S$(e),y2(e),Hp.remove(e.getContainer()),fw(t),fw(o),e.destroy()}},k$=(e,t)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),fw(o),fw(a)),m6(e),MS(e),e.destroyed=!0}},mw=(()=>{const e={};return{add:(l,m)=>{e[l]=m},get:l=>e[l]?e[l]:{icons:{}},has:l=>oo(e,l)}})(),zp=el.ModelManager,gw=(e,t)=>t.dom[e],JT=(e,t)=>parseInt(Rs(t,e),10),QT=Lt(gw,"clientWidth"),h6=Lt(gw,"clientHeight"),E$=Lt(JT,"margin-top"),p6=Lt(JT,"margin-left"),A$=e=>e.dom.getBoundingClientRect(),b6=(e,t,o)=>{const a=QT(e),l=h6(e);return t>=0&&o>=0&&t<=a&&o<=l},v6=(e,t,o,a)=>{const l=A$(t),m=e?l.left+t.dom.clientLeft+p6(t):0,p=e?l.top+t.dom.clientTop+E$(t):0,_=o-m,A=a-p;return{x:_,y:A}},T$=(e,t,o)=>{const a=$e.fromDom(e.getBody()),l=e.inline?a:Lu(a),m=v6(e.inline,l,t,o);return b6(l,m.x,m.y)},y6=e=>Q.from(e).map($e.fromDom),e4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return y6(t).map(Oi).getOr(!1)};var x6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const t4=e=>{const t=[],o=()=>{const ee=e.theme;return ee&&ee.getNotificationManagerImpl?ee.getNotificationManagerImpl():x6()},a=()=>Q.from(t[0]),l=(ee,me)=>ee.type===me.type&&ee.text===me.text&&!ee.progressBar&&!ee.timeout&&!me.progressBar&&!me.timeout,m=()=>{a().each(ee=>{ee.reposition()})},p=ee=>{t.push(ee)},_=ee=>{Mn(t,me=>me===ee).each(me=>{t.splice(me,1)})},A=(ee,me=!0)=>e.removed||!e4(e)?{}:(me&&e.dispatch("BeforeOpenNotification",{notification:ee}),vn(t,we=>l(o().getArgs(we),ee)).getOrThunk(()=>{e.editorManager.setActive(e);const we=o().open(ee,()=>{_(we)},()=>Pv(e));return p(we),m(),e.dispatch("OpenNotification",{notification:{...we}}),we})),$=()=>{a().each(ee=>{o().close(ee),_(ee),m()})},q=ct(t);return(ee=>{ee.on("SkinLoaded",()=>{const me=BM(ee);me&&A({text:me,type:"warning",timeout:0},!1),m()}),ee.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ee.on("remove",()=>{pe(t.slice(),me=>{o().close(me)})}),ee.addShortcut("alt+F12","Focus to notification",()=>a().map(me=>$e.fromDom(me.getEl())).each(me=>cA(me)))})(e),{open:A,close:$,getNotifications:q}},Xv=el.PluginManager,Vp=el.ThemeManager;var O$=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const w6=e=>{let t=[];const o=()=>{const ge=e.theme;return ge&&ge.getWindowManagerImpl?ge.getWindowManagerImpl():O$()},a=(ge,Ee)=>(...Ze)=>Ee?Ee.apply(ge,Ze):void 0,l=ge=>{e.dispatch("OpenWindow",{dialog:ge})},m=ge=>{e.dispatch("CloseWindow",{dialog:ge})},p=ge=>{t.push(ge),l(ge)},_=ge=>{m(ge),t=We(t,Ee=>Ee!==ge),t.length===0&&e.focus()},A=()=>Q.from(t[t.length-1]),$=ge=>{e.editorManager.setActive(e),$1(e),e.ui.show();const Ee=ge();return p(Ee),Ee},q=(ge,Ee)=>$(()=>o().open(ge,Ee,_)),Y=ge=>$(()=>o().openUrl(ge,_)),ee=(ge,Ee,Ze)=>{const et=o();et.alert(ge,a(Ze||et,Ee))},me=(ge,Ee,Ze)=>{const et=o();et.confirm(ge,a(Ze||et,Ee))},we=()=>{A().each(ge=>{o().close(ge),_(ge)})};return e.on("remove",()=>{pe(t,ge=>{o().close(ge)})}),{open:q,openUrl:Y,alert:ee,confirm:me,close:we}},FS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},$S=(e,t)=>{e._skinLoaded?FS(e,t):e.on("SkinLoaded",()=>{FS(e,t)})},C6=(e,t)=>{$S(e,Dc.translate(["Failed to upload image: {0}",t]))},ly=(e,t,o)=>{qE(e,t,{message:o}),console.error(o)},Jv=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,n4=(e,t,o)=>{ly(e,"PluginLoadError",Jv("plugin",t,o))},o4=(e,t,o)=>{ly(e,"IconsLoadError",Jv("icons",t,o))},D$=(e,t,o)=>{ly(e,"LanguageLoadError",Jv("language",t,o))},_6=(e,t,o)=>{ly(e,"ThemeLoadError",Jv("theme",t,o))},R$=(e,t,o)=>{ly(e,"ModelLoadError",Jv("model",t,o))},N$=(e,t,o)=>{const a=Dc.translate(["Failed to initialize plugin: {0}",t]);qE(e,"PluginLoadError",{message:a}),hw(a,o),$S(e,a)},hw=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},r4=e=>/^[a-z0-9\-]+$/i.test(e),s4=e=>"content/"+e+"/content.css",HS=e=>tinymce.Resource.has(s4(e)),I$=e=>S6(e,Ol(e)),P$=e=>S6(e,iD(e)),S6=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Fe(t,m=>HS(m)?m:r4(m)&&!e.inline?`${o}/${m}/${l}`:e.documentBaseURI.toAbsolute(m))},k6=e=>{e.contentCSS=e.contentCSS.concat(I$(e),P$(e))},E6=e=>e?bo(e.getElementsByTagName("img")):[],L$=(e,t)=>{const o={};return{findAll:(l,m=gn)=>{const p=We(E6(l),A=>{const $=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!$||$===Eo.transparentSrc?!1:Jr($,"blob:")?!e.isUploaded($)&&m(A):Jr($,"data:")?m(A):!1}),_=Fe(p,A=>{const $=A.src;if(oo(o,$))return o[$].then(q=>fe(q)?q:{image:A,blobInfo:q.blobInfo});{const q=J3(t,$).then(Y=>(delete o[$],{image:A,blobInfo:Y})).catch(Y=>(delete o[$],Y));return o[$]=q,q}});return Promise.all(_)}}},a4=()=>{let o={};const a=(ee,me)=>({status:ee,resultUri:me}),l=ee=>ee in o;return{hasBlobUri:l,getResultUri:ee=>{const me=o[ee];return me?me.resultUri:null},isPending:ee=>l(ee)?o[ee].status===1:!1,isUploaded:ee=>l(ee)?o[ee].status===2:!1,markPending:ee=>{o[ee]=a(1,null)},markUploaded:(ee,me)=>{o[ee]=a(2,me)},removeFailed:ee=>{delete o[ee]},destroy:()=>{o={}}}};let pw=0;const A6=()=>{const e=()=>Math.round(bl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},B$=e=>e+pw+++A6(),T6=()=>{let e=[];const t=Y=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Y.toLowerCase()]||"dat",o=(Y,ee,me,we,ge)=>{if(fe(Y))return a({id:Y,name:we,filename:ge,blob:ee,base64:me});if(j(Y))return a(Y);throw new Error("Unknown input type")},a=Y=>{if(!Y.blob||!Y.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ee=Y.id||B$("blobid"),me=Y.name||ee,we=Y.blob;return{id:ct(ee),name:ct(me),filename:ct(Y.filename||me+"."+t(we.type)),blob:ct(we),base64:ct(Y.base64),blobUri:ct(Y.blobUri||URL.createObjectURL(we)),uri:ct(Y.uri)}},l=Y=>{p(Y.id())||e.push(Y)},m=Y=>vn(e,Y).getOrUndefined(),p=Y=>m(ee=>ee.id()===Y);return{create:o,add:l,get:p,getByUri:Y=>m(ee=>ee.blobUri()===Y),getByData:(Y,ee)=>m(me=>me.base64()===Y&&me.blob().type===ee),findFirst:m,removeByUri:Y=>{e=We(e,ee=>ee.blobUri()===Y?(URL.revokeObjectURL(ee.blobUri()),!1):!0)},destroy:()=>{pe(e,Y=>{URL.revokeObjectURL(Y.blobUri())}),e=[]}}},O6=(e,t)=>{const o={},a=(ge,Ee)=>ge?ge.replace(/\/$/,"")+"/"+Ee.replace(/^\//,""):Ee,l=(ge,Ee)=>new Promise((Ze,et)=>{const Xe=new XMLHttpRequest;Xe.open("POST",t.url),Xe.withCredentials=t.credentials,Xe.upload.onprogress=Bt=>{Ee(Bt.loaded/Bt.total*100)},Xe.onerror=()=>{et("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=()=>{if(Xe.status<200||Xe.status>=300){et("HTTP Error: "+Xe.status);return}const Bt=JSON.parse(Xe.responseText);if(!Bt||!fe(Bt.location)){et("Invalid JSON: "+Xe.responseText);return}Ze(a(t.basePath,Bt.location))};const ft=new FormData;ft.append("file",ge.blob(),ge.filename()),Xe.send(ft)}),m=Be(t.handler)?t.handler:l,p=()=>new Promise(ge=>{ge([])}),_=(ge,Ee)=>({url:Ee,blobInfo:ge,status:!0}),A=(ge,Ee)=>({url:"",blobInfo:ge,status:!1,error:Ee}),$=(ge,Ee)=>{Yt.each(o[ge],Ze=>{Ze(Ee)}),delete o[ge]},q=(ge,Ee,Ze)=>(e.markPending(ge.blobUri()),new Promise(et=>{let Xe,ft;try{const Bt=()=>{Xe&&(Xe.close(),ft=Mt)},qt=_t=>{Bt(),e.markUploaded(ge.blobUri(),_t),$(ge.blobUri(),_(ge,_t)),et(_(ge,_t))},mn=_t=>{Bt(),e.removeFailed(ge.blobUri()),$(ge.blobUri(),A(ge,_t)),et(A(ge,_t))};ft=_t=>{_t<0||_t>100||Q.from(Xe).orThunk(()=>Q.from(Ze).map(Gn)).each(pt=>{Xe=pt,pt.progressBar.value(_t)})},Ee(ge,ft).then(qt,_t=>{mn(fe(_t)?{message:_t}:_t)})}catch(Bt){et(A(ge,Bt))}})),Y=ge=>ge===l,ee=ge=>{const Ee=ge.blobUri();return new Promise(Ze=>{o[Ee]=o[Ee]||[],o[Ee].push(Ze)})},me=(ge,Ee)=>(ge=Yt.grep(ge,Ze=>!e.isUploaded(Ze.blobUri())),Promise.all(Yt.map(ge,Ze=>e.isPending(Ze.blobUri())?ee(Ze):q(Ze,m,Ee))));return{upload:(ge,Ee)=>!t.url&&Y(m)?p():me(ge,Ee)}},D6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),R6=(e,t)=>O6(t,{url:uE(e),basePath:rD(e),credentials:dE(e),handler:IM(e)}),M$=e=>{const t=a4(),o=R6(e,t);return{upload:(a,l=!0)=>o.upload(a,l?D6(e):void 0)}},F$=(e,t)=>e.dom.isEmpty(t.dom)&&Oe(e.schema.getTextBlockElements()[zo(t)]),N6=e=>t=>{F$(e,t)&&Ns(t,$e.fromHtml('<br data-mce-bogus="1" />'))},i4=e=>{const t=T6();let o,a;const l=a4(),m=[],p=Xe=>ft=>e.selection?Xe(ft):[],_=Xe=>Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Xe,ft,Bt)=>{let qt=0;do qt=Xe.indexOf(ft,qt),qt!==-1&&(Xe=Xe.substring(0,qt)+Bt+Xe.substr(qt+ft.length),qt+=Bt.length-ft.length+1);while(qt!==-1);return Xe},$=(Xe,ft,Bt)=>{const qt=`src="${Bt}"${Bt===Eo.transparentSrc?' data-mce-placeholder="1"':""}`;return Xe=A(Xe,`src="${ft}"`,qt),Xe=A(Xe,'data-mce-src="'+ft+'"','data-mce-src="'+Bt+'"'),Xe},q=(Xe,ft)=>{pe(e.undoManager.data,Bt=>{Bt.type==="fragmented"?Bt.fragments=Fe(Bt.fragments,qt=>$(qt,Xe,ft)):Bt.content=$(Bt.content,Xe,ft)})},Y=(Xe,ft)=>{const Bt=e.convertURL(ft,"src");q(Xe.src,ft),Ai($e.fromDom(Xe),{src:ih(e)?_(ft):ft,"data-mce-src":Bt})},ee=()=>(o||(o=R6(e,l)),Ee().then(p(Xe=>{const ft=Fe(Xe,Bt=>Bt.blobInfo);return o.upload(ft,D6(e)).then(p(Bt=>{const qt=[];let mn=!1;const _t=Fe(Bt,(pt,It)=>{const{blobInfo:wn,image:Rn}=Xe[It];let So=!1;return pt.status&&nD(e)?(pt.url&&!Er(Rn.src,pt.url)&&(mn=!0),t.removeByUri(Rn.src),lg(e)||Y(Rn,pt.url)):pt.error&&(pt.error.remove&&(q(Rn.src,Eo.transparentSrc),qt.push(Rn),So=!0),C6(e,pt.error.message)),{element:Rn,status:pt.status,uploadUri:pt.url,blobInfo:wn,removed:So}});return qt.length>0&&!lg(e)?e.undoManager.transact(()=>{pe(ou(qt),pt=>{const It=Qa(pt);Cr(pt),It.each(N6(e)),t.removeByUri(pt.dom.src)})}):mn&&e.undoManager.dispatchChange(),_t}))}))),me=()=>zr(e)?ee():Promise.resolve([]),we=Xe=>yo(m,ft=>ft(Xe)),ge=Xe=>{m.push(Xe)},Ee=()=>(a||(a=L$(l,t)),a.findAll(e.getBody(),we).then(p(Xe=>{const ft=We(Xe,Bt=>fe(Bt)?($S(e,Bt),!1):Bt.uriType!=="blob");return lg(e)||pe(ft,Bt=>{q(Bt.image.src,Bt.blobInfo.blobUri()),Bt.image.src=Bt.blobInfo.blobUri(),Bt.image.removeAttribute("data-mce-src")}),ft}))),Ze=()=>{t.destroy(),l.destroy(),a=o=null},et=Xe=>Xe.replace(/src="(blob:[^"]+)"/g,(ft,Bt)=>{const qt=l.getResultUri(Bt);if(qt)return'src="'+qt+'"';let mn=t.getByUri(Bt);return mn||(mn=on(e.editorManager.get(),(_t,pt)=>_t||pt.editorUpload&&pt.editorUpload.blobCache.getByUri(Bt),void 0)),mn?'src="data:'+mn.blob().type+";base64,"+mn.base64()+'"':ft});return e.on("SetContent",()=>{zr(e)?me():Ee()}),e.on("RawSaveContent",Xe=>{Xe.content=et(Xe.content)}),e.on("GetContent",Xe=>{Xe.source_view||Xe.format==="raw"||Xe.format==="tree"||(Xe.content=et(Xe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Xe=>{pe(Xe,ft=>{const Bt=ft.attr("src");if(!Bt||t.getByUri(Bt))return;const qt=l.getResultUri(Bt);qt&&ft.attr("src",qt)})})}),{blobCache:t,addFilter:ge,uploadImages:ee,uploadImagesAuto:me,scanForImages:Ee,destroy:Ze}},I6=e=>{const t=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,l,m]:[l,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,m,p)=>Sn(l)&&l.hasAttribute("href"),onformat:(l,m,p)=>{Yt.each(p,(_,A)=>{t.setAttrib(l,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var m;return(m=l==null?void 0:l.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Yt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{a[l]={block:l,remove:"all"}}),a},l4={remove_similar:!0,inherit:!1},Qv={selector:"td,th",...l4},P6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Qv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Qv},tablecellbordercolor:{styles:{borderColor:"%value"},...Qv},tablecellclass:{classes:["%value"],...Qv},tableclass:{selector:"table",classes:["%value"],...l4},tablecellborderstyle:{styles:{borderStyle:"%value"},...Qv},tablecellborderwidth:{styles:{borderWidth:"%value"},...Qv}},$$=ct(P6),c4=e=>{const t={},o=p=>Oe(p)?t[p]:t,a=p=>oo(t,p),l=(p,_)=>{p&&(fe(p)?(oe(_)||(_=[_]),pe(_,A=>{je(A.deep)&&(A.deep=!Bc(A)),je(A.split)&&(A.split=!Bc(A)||ii(A)),je(A.remove)&&Bc(A)&&!ii(A)&&(A.remove="none"),Bc(A)&&ii(A)&&(A.mixed=!0,A.block_expand=!0),fe(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[p]=_):Xo(p,(A,$)=>{l($,A)}))},m=p=>(p&&t[p]&&delete t[p],t);return l(I6(e)),l($$()),l(FM(e)),{get:o,has:a,register:l,unregister:m}},e0=Yt.each,ac=Hr.DOM,Xf=e=>Oe(e)&&j(e),bw=(e,t)=>{const o=t&&t.schema||Oc({}),a=(A,$)=>{$.classes.length>0&&ac.addClass(A,$.classes.join(" ")),ac.setAttribs(A,$.attrs)},l=A=>{const $=fe(A)?{name:A,classes:[],attrs:{}}:A,q=ac.create($.name);return a(q,$),q},m=(A,$)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),Y=q==null?void 0:q.parentsRequired;return Y&&Y.length?$&&be(Y,$)?$:Y[0]:!1},p=(A,$,q)=>{let Y;const ee=$[0],me=Xf(ee)?ee.name:void 0,we=m(A,me);if(we)me===we?(Y=ee,$=$.slice(1)):Y=we;else if(ee)Y=ee,$=$.slice(1);else if(!q)return A;const ge=Y?l(Y):ac.create("div");ge.appendChild(A),q&&Yt.each(q,Ze=>{const et=l(Ze);ge.insertBefore(et,A)});const Ee=Xf(Y)?Y.siblings:void 0;return p(ge,$,Ee)},_=ac.create("div");if(e.length>0){const A=e[0],$=l(A),q=Xf(A)?A.siblings:void 0;_.appendChild(p($,e.slice(1),q))}return _},cy=e=>{e=Yt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,l,m,p,_)=>{switch(l){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":Yt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},L6=e=>fe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Yt.map(t.split(/(?:~\+|~|\+)/),cy),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],B6=(e,t)=>{let o="",a=$M(e);if(a==="")return"";const l=ee=>fe(ee)?ee.replace(/%(\w+)/g,""):"",m=(ee,me)=>ac.getStyle(me??e.getBody(),ee,!0);if(fe(t)){const ee=e.formatter.get(t);if(!ee)return"";t=ee[0]}if("preview"in t){const ee=t.preview;if(ee===!1)return"";a=ee||a}let p=t.block||t.inline||"span",_;const A=L6(t.selector);A.length>0?(A[0].name||(A[0].name=p),p=t.selector,_=bw(A,e)):_=bw([p],e);const $=ac.select(p,_)[0]||_.firstChild;e0(t.styles,(ee,me)=>{const we=l(ee);we&&ac.setStyle($,me,we)}),e0(t.attributes,(ee,me)=>{const we=l(ee);we&&ac.setAttrib($,me,we)}),e0(t.classes,ee=>{const me=l(ee);ac.hasClass($,me)||ac.addClass($,me)}),e.dispatch("PreviewFormats"),ac.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const q=m("fontSize"),Y=/px$/.test(q)?parseInt(q,10):0;return e0(a.split(" "),ee=>{let me=m(ee,$);if(!(ee==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(me)&&(me=m(ee),Wb(me).toLowerCase()==="#ffffff"))&&!(ee==="color"&&Wb(me).toLowerCase()==="#000000")){if(ee==="font-size"&&/em|%$/.test(me)){if(Y===0)return;me=parseFloat(me)/(/%$/.test(me)?100:1)*Y+"px"}ee==="border"&&me&&(o+="padding:0 2px;"),o+=ee+":"+me+";"}}),e.dispatch("AfterPreviewFormats"),ac.remove(_),o},u4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},vw=e=>{const t=c4(e),o=_a({});return u4(e),A5(e),lg(e)||W5(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(a,l,m)=>{jr(e,a,l,m)},remove:(a,l,m,p)=>{WI(e,a,l,m,p)},toggle:(a,l,m)=>{$T(e,a,l,m)},match:(a,l,m,p)=>o$(e,a,l,m,p),closest:a=>i$(e,a),matchAll:(a,l)=>r$(e,a,l),matchNode:(a,l,m,p)=>s$(e,a,l,m,p),canApply:a=>a$(e,a),formatChanged:(a,l,m,p)=>ZI(e,o,a,l,m,p),getCssText:Lt(B6,e)}},Ch=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},t0=(e,t,o)=>{const a=_a(!1),l=A=>{cw(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const $=A.command;Ch($)||(NT(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const $=A.command;Ch($)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;const q=Eo.os.isMacOS()&&A.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||A.ctrlKey||q)&&(l(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),a.get()&&t.typing&&!sy(ry(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){t.typing&&l(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!t.typing&&!q){t.beforeChange(),cw(t,!0,o),t.add({},A),a.set(!0);return}(Eo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const m=A=>A.inputType==="insertReplacementText",p=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||p(A)||_(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},M6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},F6=e=>{const t=Sa(),o=_a(0),a=_a(0),l={data:[],typing:!1,beforeChange:()=>{ay(e,o,t)},add:(m,p)=>Y7(e,l,a,o,t,m,p),dispatchChange:()=>{e.setDirty(!0);const m=ry(e);m.bookmark=bn(e.selection),e.dispatch("change",{level:m,lastLevel:Pa(l.data,a.get()).getOrUndefined()})},undo:()=>X7(e,l,o,a),redo:()=>VI(e,a,l.data),clear:()=>{UI(e,l,a)},reset:()=>{LS(e,l)},hasUndo:()=>J7(e,l,a),hasRedo:()=>Q7(e,l,a),transact:m=>e$(e,l,o,m),ignore:m=>{t$(e,o,m)},extra:(m,p)=>{n$(e,l,a,m,p)}};return lg(e)||t0(e,l,o),M6(e),l},$6=[9,27,cn.HOME,cn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,cn.DOWN,cn.UP,cn.LEFT,cn.RIGHT].concat(Eo.browser.isFirefox()?[224]:[]),H6="data-mce-placeholder",z6=e=>e.type==="keydown"||e.type==="keyup",V6=e=>{const t=e.keyCode;return t===cn.BACKSPACE||t===cn.DELETE},d4=e=>{if(z6(e)){const t=e.keyCode;return!V6(e)&&(cn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||be($6,t))}else return!1},U6=e=>z6(e)&&!(V6(e)||e.type==="keyup"&&e.keyCode===229),H$=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},W6=e=>{var t;const o=e.dom,a=nl(e),l=(t=mE(e))!==null&&t!==void 0?t:"",m=(p,_)=>{if(d4(p))return;const A=e.getBody(),$=U6(p)?!1:H$(o,A,a);(o.getAttrib(A,H6)!==""!==$||_)&&(o.setAttrib(A,H6,$?l:null),CR(e,$),e.on($?"keydown":"keyup",m),e.off($?"keyup":"keydown",m))};Qe(l)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",_=>Fc.setEditorTimeout(e,()=>m(_)))})},z$=(e,t)=>({block:e,position:t}),f4=(e,t)=>({from:e,to:t}),m4=(e,t)=>{const o=$e.fromDom(e),a=$e.fromDom(t.container());return W2(o,a).map(l=>z$(l,t))},Z6=e=>!(Ja(e.to.block,e.from.block)||Ja(e.from.block,e.to.block)),g4=e=>!Vo(e.from.block,e.to.block),h4=(e,t)=>aa(t,l=>Rc(l)||kc(l.dom),l=>Vo(l,e)).filter(Ds).getOr(e),p4=(e,t)=>{const o=$e.fromDom(e);return Vo(h4(o,t.from.block),h4(o,t.to.block))},V$=e=>lo(e.from.block.dom)===!1&&lo(e.to.block.dom)===!1,j6=e=>{const t=o=>nv(o)||$a(o.dom)||Fm(o);return t(e.from.block)&&t(e.to.block)},U$=(e,t,o,a)=>as(a.position.getNode())&&!Ps(e,a.block)?D1(!1,a.block.dom).bind(l=>l.isEqual(a.position)?hu(o,t,l).bind(m=>m4(t,m)):Q.some(a)).getOr(a):a,K6=(e,t,o,a)=>{const l=m4(t,vt.fromRangeStart(a)),m=l.bind(p=>hu(o,t,p.position).bind(_=>m4(t,_).map(A=>U$(e,t,o,A))));return Ya(l,m,f4).filter(p=>g4(p)&&p4(t,p)&&V$(p)&&j6(p)&&Z6(p))},q6=(e,t,o,a)=>a.collapsed?K6(e,t,o,a):Q.none(),W$=(e,t)=>{const o=ei(e);return Mn(o,a=>t.isBlock(zo(a))).fold(ct(o),a=>o.slice(0,a))},G6=(e,t)=>{const o=W$(e,t);return pe(o,Cr),o},Y6=(e,t,o)=>{const a=$c(o,t);return vn(a.reverse(),l=>Ps(e,l)).each(Cr)},Z$=(e,t)=>We(Mu(t),o=>!Ps(e,o)).length===0,j$=(e,t,o,a,l)=>{if(Ps(a,o))return Nc(o),Kn(o.dom);Z$(a,l)&&Ps(a,t)&&vs(l,$e.fromTag("br"));const m=Lc(o.dom,vt.before(l.dom));return pe(G6(t,a),p=>{vs(l,p)}),Y6(a,e,t),m},n0=(e,t)=>e.isInline(zo(t)),X6=(e,t,o,a)=>{if(Ps(a,o)){if(Ps(a,t)){const p=dt((_=>{const A=($,q)=>Tl($).fold(()=>q,Y=>n0(a,Y)?A(Y,q.concat(Ms(Y))):q);return A(_,[])})(o),(_,A)=>(Ml(_,A),A),Fd());Zr(t),Ns(t,p)}return Cr(o),Kn(t.dom)}const l=Gu(o.dom);return pe(G6(t,a),m=>{Ns(o,m)}),Y6(a,e,t),l},J6=(e,t)=>{const o=$c(t,e);return Q.from(o[o.length-1])},Q6=(e,t)=>Ja(t,e)?J6(t,e):Q.none(),eP=(e,t)=>{D1(e,t.dom).bind(o=>Q.from(o.getNode())).map($e.fromDom).filter(Ku).each(Cr)},tP=(e,t,o,a)=>(eP(!0,t),eP(!1,o),Q6(t,o).fold(Lt(X6,e,t,o,a),Lt(j$,e,t,o,a))),_h=(e,t,o,a,l)=>t?tP(e,a,o,l):tP(e,o,a,l),zS=(e,t)=>{const o=$e.fromDom(e.getBody());return q6(e.schema,o.dom,t,e.selection.getRng()).map(l=>()=>{_h(o,t,l.from.block,l.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},VS=(e,t,o)=>{const a=t.getRng();return Ya(W2(e,$e.fromDom(a.startContainer)),W2(e,$e.fromDom(a.endContainer)),(l,m)=>Vo(l,m)?Q.none():Q.some(()=>{a.deleteContents(),_h(e,!0,l,m,o).each(p=>{t.setRng(p.toRange())})})).getOr(Q.none())},nP=(e,t)=>{const o=$e.fromDom(t),a=Lt(Vo,e);return Yi(o,Rc,a).isSome()},oP=(e,t)=>nP(e,t.startContainer)||nP(e,t.endContainer),K$=(e,t)=>{const o=Lc(e.dom,vt.fromRangeStart(t)).isNone(),a=Hl(e.dom,vt.fromRangeEnd(t)).isNone();return!oP(e,t)&&o&&a},q$=e=>Q.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),b4=e=>{const t=$e.fromDom(e.getBody()),o=e.selection.getRng();return K$(t,o)?q$(e):VS(t,e.selection,e.schema)},v4=(e,t)=>e.selection.isCollapsed()?Q.none():b4(e),_s=(e,t,o,a,l)=>Q.from(t._selectionOverrides.showCaret(e,o,a,l)),G$=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},yw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?Q.none():Q.some(G$(t)),y4=(e,t,o)=>{const a=DE(1,e.getBody(),t),l=vt.fromRangeStart(a),m=l.getNode();if(Xx(m))return _s(1,e,m,!l.isAtEnd(),!1);const p=l.getNode(!0);if(Xx(p))return _s(1,e,p,!1,!1);const _=od(e.dom.getRoot(),l.getNode());return Xx(_)?_s(1,e,_,!1,o):Q.none()},US=(e,t,o)=>t.collapsed?y4(e,t,o).getOr(t):t,x4=e=>Aa(e)||Mv(e),Y$=e=>Gf(e)||W1(e),X$=(e,t)=>{Ht(t)&&t.data.length===0&&e.remove(t)},rP=(e,t,o,a,l,m)=>{_s(a,e,m.getNode(!l),l,!0).each(p=>{if(t.collapsed){const _=t.cloneRange();l?_.setEnd(p.startContainer,p.startOffset):_.setStart(p.endContainer,p.endOffset),_.deleteContents()}else t.deleteContents();e.selection.setRng(p)}),X$(e.dom,o)},J$=(e,t)=>{const o=e.selection.getRng();if(!Ht(o.commonAncestorContainer))return Q.none();const a=t?Li.Forwards:Li.Backwards,l=$n(e.getBody()),m=Lt(RE,t?l.next:l.prev),p=t?x4:Y$,_=n2(a,e.getBody(),o),A=m(_),$=A&&nd(t,A);if(!$||!ZC(_,$))return Q.none();if(p($))return Q.some(()=>rP(e,o,_.getNode(),a,t,$));const q=m($);return q&&p(q)&&ZC($,q)?Q.some(()=>rP(e,o,_.getNode(),a,t,q)):Q.none()},w4=(e,t)=>J$(e,t),C4=(e,t)=>{const o=e.getBody();return t?Kn(o).filter(Aa):Gu(o).filter(Gf)},_4=e=>{const t=e.selection.getRng();return!t.collapsed&&(C4(e,!0).exists(o=>o.isEqual(vt.fromRangeStart(t)))||C4(e,!1).exists(o=>o.isEqual(vt.fromRangeEnd(t))))},uy=e=>Oe(e)&&(Rc($e.fromDom(e))||Fm($e.fromDom(e))),Va=Mo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Q$=(e,t)=>{const o=t.getNode(!e),a=e?"after":"before";return Sn(o)&&o.getAttribute("data-mce-caret")===a},eH=(e,t,o,a,l)=>{const m=p=>l.isInline(p.nodeName.toLowerCase())&&!jm(o,a,e);return HD(!t,o).fold(()=>HD(t,a).fold(Xn,m),m)},sP=(e,t,o,a,l)=>{const m=l.getNode(!o);return W2($e.fromDom(t),$e.fromDom(a.getNode())).map(p=>Ps(e,p)?Va.remove(p.dom):Va.moveToElement(m)).orThunk(()=>Q.some(Va.moveToElement(m)))},aP=(e,t,o,a)=>hu(t,e,o).bind(l=>uy(l.getNode())||eH(e,t,o,l,a)?Q.none():t&&lo(l.getNode())||!t&&lo(l.getNode(!0))?sP(a,e,t,o,l):t&&Gf(o)||!t&&Aa(o)?Q.some(Va.moveToPosition(l)):Q.none()),tH=(e,t)=>st(t)?Q.none():e&&lo(t.nextSibling)?Q.some(Va.moveToElement(t.nextSibling)):!e&&lo(t.previousSibling)?Q.some(Va.moveToElement(t.previousSibling)):Q.none(),nH=(e,t,o)=>o.fold(a=>Q.some(Va.remove(a)),a=>Q.some(Va.moveToElement(a)),a=>jm(t,a,e)?Q.none():Q.some(Va.moveToPosition(a))),oH=(e,t,o,a)=>Q$(t,o)?tH(t,o.getNode(!t)).orThunk(()=>aP(e,t,o,a)):aP(e,t,o,a).bind(l=>nH(e,o,l)),rH=(e,t,o,a)=>{const l=DE(t?1:-1,e,o),m=vt.fromRangeStart(l),p=$e.fromDom(e);return!t&&Gf(m)?Q.some(Va.remove(m.getNode(!0))):t&&Aa(m)?Q.some(Va.remove(m.getNode())):!t&&Aa(m)&&$v(p,m,a)?R_(p,m,a).map(_=>Va.remove(_.getNode())):t&&Gf(m)&&$2(p,m,a)?ON(p,m,a).map(_=>Va.remove(_.getNode())):oH(e,t,m,a)},sH=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),xl(e,t,$e.fromDom(o)),!0),aH=(e,t)=>o=>{const a=t?vt.before(o):vt.after(o);return e.selection.setRng(a.toRange()),!0},iH=e=>t=>(e.selection.setRng(t.toRange()),!0),iP=(e,t)=>Q.from(od(e.getBody(),t)),lH=(e,t)=>{const o=e.selection.getNode();return iP(e,o).filter(lo).fold(()=>rH(e.getBody(),t,e.selection.getRng(),e.schema).map(a=>()=>a.fold(sH(e,t),aH(e,t),iH(e))),()=>Q.some(Mt))},cH=e=>{pe(ia(e,".mce-offscreen-selection"),Cr)},uH=(e,t)=>{const o=e.selection.getNode();return lo(o)&&!Gh(o)?iP(e,o.parentNode).filter(lo).fold(()=>Q.some(()=>{cH($e.fromDom(e.getBody())),xl(e,t,$e.fromDom(e.selection.getNode())),B_(e)}),()=>Q.some(Mt)):_4(e)?Q.some(()=>{M_(e,e.selection.getRng(),$e.fromDom(e.getBody()))}):Q.none()},lP=e=>{const t=e.dom,o=e.selection,a=od(e.getBody(),o.getNode());if(kc(a)&&t.isBlock(a)&&t.isEmpty(a)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(a,""),a.appendChild(l),o.setRng(vt.before(l).toRange())}return!0},S4=(e,t)=>e.selection.isCollapsed()?lH(e,t):uH(e,t),cP=e=>e.hasOwnProperty("text"),uP=e=>e.hasOwnProperty("marker"),dP=(e,t)=>{const o=(m,p)=>{if(Ht(m))return{text:m,offset:p};{const _=t(),A=m.childNodes;return p<A.length?(m.insertBefore(_,A[p]),{marker:_,before:!0}):(m.appendChild(_),{marker:_,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},fP=e=>{var t,o;const{start:a,end:l}=e,m=new window.Range;return cP(a)?m.setStart(a.text,a.offset):uP(a)&&(a.before?m.setStartBefore(a.marker):m.setStartAfter(a.marker),(t=a.marker.parentNode)===null||t===void 0||t.removeChild(a.marker)),cP(l)?m.setEnd(l.text,l.offset):uP(l)&&(l.before?m.setEndBefore(l.marker):m.setEndAfter(l.marker),(o=l.marker.parentNode)===null||o===void 0||o.removeChild(l.marker)),m},k4=(e,t)=>{var o;const a=e.dom,l=a.getParent(e.selection.getStart(),a.isBlock),m=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=l==null?void 0:l.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&l&&m&&l===p.firstChild&&m===p.lastChild&&!a.isEmpty(p)){const A=l.cloneNode(!1),$=()=>{if(t?qA(e):L_(e),p.firstChild!==l){const q=dP(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(Y=>A.appendChild(Y)),p.appendChild(A),e.selection.setRng(fP(q))}};return Q.some($)}return Q.none()},dH=(e,t)=>{const o=vt.fromRangeStart(e.selection.getRng());return hu(t,e.getBody(),o).filter(a=>t?_N(a):SN(a)).bind(a=>UC(t?0:-1,a)).map(a=>()=>e.selection.select(a))},E4=(e,t)=>e.selection.isCollapsed()?dH(e,t):Q.none(),dy=Ht,mP=e=>dy(e)&&e.data[0]===ha,gP=e=>dy(e)&&e.data[e.data.length-1]===ha,hP=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(ha)},fH=e=>{var t;if(dy(e.previousSibling))return gP(e.previousSibling)||e.previousSibling.appendData(ha),e.previousSibling;if(dy(e))return mP(e)||e.insertData(0,ha),e;{const o=hP(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},mH=e=>{var t,o;if(dy(e.nextSibling))return mP(e.nextSibling)||e.nextSibling.insertData(0,ha),e.nextSibling;if(dy(e))return gP(e)||e.appendData(ha),e;{const a=hP(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},WS=(e,t)=>e?fH(t):mH(t),pP=Lt(WS,!0),gH=Lt(WS,!1),bP=(e,t)=>Ht(e.container())?WS(t,e.container()):WS(t,e.getNode()),vP=(e,t)=>{const o=t.get();return o&&e.container()===o&&$m(o)},A4=(e,t)=>t.fold(o=>{mp(e.get());const a=pP(o);return e.set(a),Q.some(vt(a,a.length-1))},o=>Kn(o).map(a=>{if(vP(a,e)){const l=e.get();return vt(l,1)}else{mp(e.get());const l=bP(a,!0);return e.set(l),vt(l,1)}}),o=>Gu(o).map(a=>{if(vP(a,e)){const l=e.get();return vt(l,l.length-1)}else{mp(e.get());const l=bP(a,!1);return e.set(l),vt(l,l.length-1)}}),o=>{mp(e.get());const a=gH(o);return e.set(a),Q.some(vt(a,1))}),yP=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,t);if(a.isSome())return a}return Q.none()},Vl=Mo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),xP=(e,t)=>{const o=gp(t,e);return o||e},hH=(e,t,o)=>{const a=qN(o),l=xP(t,a.container());return Tp(e,l,a).fold(()=>Hl(l,a).bind(Lt(Tp,e,l)).map(m=>Vl.before(m)),Q.none)},wP=(e,t)=>hp(e,t)===null,CP=(e,t,o)=>Tp(e,t,o).filter(Lt(wP,t)),pH=(e,t,o)=>{const a=G1(o);return CP(e,t,a).bind(l=>Lc(l,a).isNone()?Q.some(Vl.start(l)):Q.none())},bH=(e,t,o)=>{const a=qN(o);return CP(e,t,a).bind(l=>Hl(l,a).isNone()?Q.some(Vl.end(l)):Q.none())},vH=(e,t,o)=>{const a=G1(o),l=xP(t,a.container());return Tp(e,l,a).fold(()=>Lc(l,a).bind(Lt(Tp,e,l)).map(m=>Vl.after(m)),Q.none)},_P=e=>!V2(T4(e)),cg=(e,t,o)=>yP([hH,pH,bH,vH],[e,t,o]).filter(_P),T4=e=>e.fold(_n,_n,_n,_n),SP=e=>e.fold(ct("before"),ct("start"),ct("end"),ct("after")),xw=e=>e.fold(Vl.before,Vl.before,Vl.after,Vl.after),ZS=e=>e.fold(Vl.start,Vl.start,Vl.end,Vl.end),yH=(e,t)=>SP(e)===SP(t)&&T4(e)===T4(t),kP=(e,t,o,a,l,m)=>Ya(Tp(t,o,a),Tp(t,o,l),(p,_)=>p!==_&&KN(o,p,_)?Vl.after(e?p:_):m).getOr(m),xH=(e,t)=>e.fold(gn,o=>!yH(o,t)),wH=(e,t,o,a,l)=>{const m=nd(e,l);return hu(e,o,m).map(Lt(nd,e)).fold(()=>a.map(xw),A=>cg(t,o,A).map(Lt(kP,e,t,o,m,A)).filter(Lt(xH,a))).filter(_P)},CH=(e,t)=>e?t.fold(tn(Q.some,Vl.start),Q.none,tn(Q.some,Vl.after),Q.none):t.fold(Q.none,tn(Q.some,Vl.before),Q.none,tn(Q.some,Vl.end)),_H=(e,t,o,a)=>{const l=nd(e,a),m=cg(t,o,l);return cg(t,o,l).bind(Lt(CH,e)).orThunk(()=>wH(e,t,o,m,a))},SH=e=>Be(e.selection.getSel().modify),EP=(e,t,o)=>{const a=e?1:-1;return t.setRng(vt(o.container(),o.offset()+a).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},O4=(e,t)=>{const o=t.selection.getRng(),a=e?vt.fromRangeEnd(o):vt.fromRangeStart(o);return SH(t)?e&&sv(a)?EP(!0,t.selection,a):!e&&m1(a)?EP(!1,t.selection,a):!1:!1};var Yd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Yd||(Yd={}));const jS=(e,t)=>e===Li.Backwards?Fr(t):t,AP=(e,t,o)=>e===Li.Forwards?t.next(o):t.prev(o),kH=(e,t,o,a)=>as(a.getNode(t===Li.Forwards))?Yd.Br:jm(o,a)===!1?Yd.Block:Yd.Wrap,TP=(e,t,o,a)=>{const l=$n(o);let m=a;const p=[];for(;m;){const _=AP(t,l,m);if(!_)break;if(as(_.getNode(!1)))return t===Li.Forwards?{positions:jS(t,p).concat([_]),breakType:Yd.Br,breakAt:Q.some(_)}:{positions:jS(t,p),breakType:Yd.Br,breakAt:Q.some(_)};if(!_.isVisible()){m=_;continue}if(e(m,_)){const A=kH(o,t,m,_);return{positions:jS(t,p),breakType:A,breakAt:Q.some(_)}}p.push(_),m=_}return{positions:jS(t,p),breakType:Yd.Eol,breakAt:Q.none()}},OP=(e,t,o,a)=>t(o,a).breakAt.map(l=>{const m=t(o,l).positions;return e===Li.Backwards?m.concat(l):[l].concat(m)}).getOr([]),D4=(e,t)=>on(e,(o,a)=>o.fold(()=>Q.some(a),l=>Ya(yn(l.getClientRects()),yn(a.getClientRects()),(m,p)=>{const _=Math.abs(t-m.left);return Math.abs(t-p.left)<=_?a:l}).or(o)),Q.none()),KS=(e,t)=>yn(t.getClientRects()).bind(o=>D4(e,o.left)),ww=Lt(TP,vt.isAbove,-1),Cw=Lt(TP,vt.isBelow,1),DP=Lt(OP,-1,ww),qS=Lt(OP,1,Cw),RP=(e,t)=>ww(e,t).breakAt.isNone(),NP=(e,t)=>Cw(e,t).breakAt.isNone(),EH=e=>Kn(e).map(t=>[t].concat(Cw(e,t).positions)).getOr([]),IP=e=>Gu(e).map(t=>ww(e,t).positions.concat(t)).getOr([]),o0=(e,t)=>KS(DP(e,t),t),AH=(e,t)=>KS(qS(e,t),t),TH=lo,PP=(e,t)=>Math.abs(e.left-t),ic=(e,t)=>Math.abs(e.right-t),LP=e=>Pl(e,"node"),BP=(e,t)=>cl(e,(o,a)=>{const l=Math.min(PP(o,t),ic(o,t)),m=Math.min(PP(a,t),ic(a,t));return m===l&&LP(a)&&TH(a.node)||m<l?a:o}),OH=e=>{const t=o=>Fe(o,a=>{const l=Pf(a);return l.node=e,l});if(Sn(e))return t(e.getClientRects());if(Ht(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},MP=e=>_o(e,OH);var _w;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(_w||(_w={}));const DH=(e,t,o,a)=>{let l=a;for(;l=Qx(l,e,dv,t);)if(o(l))return},R4=(e,t,o,a,l,m)=>{let p=0;const _=[],A=Y=>{let ee=MP([Y]);e===-1&&(ee=ee.reverse());for(let me=0;me<ee.length;me++){const we=ee[me];if(!o(we,$)){if(_.length>0&&t(we,fi(_))&&p++,we.line=p,l(we))return!0;_.push(we)}}return!1},$=fi(m.getClientRects());if(!$)return _;const q=m.getNode();return q&&(A(q),DH(e,a,A,q)),_},RH=(e,t)=>t.line>e,NH=(e,t)=>t.line===e,IH=Lt(R4,_w.Up,Mf,rh),PH=Lt(R4,_w.Down,rh,Mf),FP=e=>fi(e.getClientRects()),fy=(e,t,o,a)=>{const l=$n(t);let m,p,_,A;const $=[];let q=0;e===1?(m=l.next,p=rh,_=Mf,A=vt.after(a)):(m=l.prev,p=Mf,_=rh,A=vt.before(a));const Y=FP(A);do{if(!A.isVisible())continue;const ee=FP(A);if(_(ee,Y))continue;$.length>0&&p(ee,fi($))&&q++;const me=Pf(ee);if(me.position=A,me.line=q,o(me))return $;$.push(me)}while(A=m(A));return $},N4=e=>t=>RH(e,t),my=e=>t=>NH(e,t),Jf=(e,t)=>{e.selection.setRng(t),Ju(e,e.selection.getRng())},GS=(e,t,o)=>Q.some(US(e,t,o)),I4=(e,t,o,a,l,m)=>{const p=t===Li.Forwards,_=$n(e.getBody()),A=Lt(RE,p?_.next:_.prev),$=p?a:l;if(!o.collapsed){const we=lp(o);if(m(we))return _s(t,e,we,t===Li.Backwards,!1);if(_4(e)){const ge=o.cloneRange();return ge.collapse(t===Li.Backwards),Q.from(ge)}}const q=n2(t,e.getBody(),o);if($(q))return yw(e,q.getNode(!p));let Y=A(q);const ee=oh(o);if(Y)Y=nd(p,Y);else return ee?Q.some(o):Q.none();if($(Y))return _s(t,e,Y.getNode(!p),p,!1);const me=A(Y);return me&&$(me)&&ZC(Y,me)?_s(t,e,me.getNode(!p),p,!1):ee?GS(e,Y.toRange(),!1):Q.none()},$P=(e,t,o,a,l,m)=>{const p=n2(t,e.getBody(),o),_=fi(p.getClientRects()),A=t===_w.Down,$=e.getBody();if(!_)return Q.none();if(_4(e)){const Ee=A?vt.fromRangeEnd(o):vt.fromRangeStart(o);return(A?AH:o0)($,Ee).orThunk(()=>Q.from(Ee)).map(et=>et.toRange())}const Y=(A?PH:IH)($,N4(1),p),ee=We(Y,my(1)),me=_.left,we=BP(ee,me);if(we&&m(we.node)){const Ee=Math.abs(me-we.left),Ze=Math.abs(me-we.right);return _s(t,e,we.node,Ee<Ze,!1)}let ge;if(a(p)?ge=p.getNode():l(p)?ge=p.getNode(!0):ge=lp(o),ge){const Ee=fy(t,$,N4(1),ge);let Ze=BP(We(Ee,my(1)),me);if(Ze||(Ze=fi(We(Ee,my(0))),Ze))return GS(e,Ze.position.toRange(),!1)}return ee.length===0?YS(e,A).filter(A?l:a).map(Ee=>US(e,Ee.toRange(),!1)):Q.none()},YS=(e,t)=>{const o=e.selection.getRng(),a=t?vt.fromRangeEnd(o):vt.fromRangeStart(o),l=a8(a.container(),e.getBody());if(t){const m=Cw(l,a);return no(m.positions)}else{const m=ww(l,a);return yn(m.positions)}},HP=(e,t,o)=>YS(e,t).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),Sw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},P4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},L4=(e,t,o)=>A4(t,o).map(a=>(Sw(e,a),o)),zP=(e,t,o)=>{const a=vt.fromRangeStart(e);if(e.collapsed)return a;{const l=vt.fromRangeEnd(e);return o?Lc(t,l).getOr(l):Hl(t,a).getOr(a)}},VP=(e,t,o)=>{const a=e.getBody(),l=zP(e.selection.getRng(),a,o),m=Lt(zv,e);return _H(o,m,a,l).bind(_=>L4(e,t,_))},UP=(e,t,o)=>{const a=Fe(ia($e.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),l=We(a,e),m=We(o,e);pe(Yo(l,m),Lt(P4,!1)),pe(Yo(m,l),Lt(P4,!0))},B4=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=vt.fromRangeStart(e.selection.getRng());vt.isTextPosition(a)&&!jA(a)&&(Sw(e,o8(o,a)),t.set(null))}},WP=(e,t,o,a)=>{if(t.selection.isCollapsed()){const l=We(a,e);pe(l,m=>{const p=vt.fromRangeStart(t.selection.getRng());cg(e,t.getBody(),p).bind(_=>L4(t,o,_))})}},M4=(e,t,o)=>A1(e)?VP(e,t,o).isSome():!1,F4=(e,t,o)=>A1(t)?O4(e,t):!1,ZP=e=>{const t=_a(null),o=Lt(zv,e);return e.on("NodeChange",a=>{A1(e)&&(UP(o,e.dom,a.parents),B4(e,t),WP(o,e,t,a.parents))}),t},jP=Lt(F4,!0),KP=Lt(F4,!1),kw=(e,t,o)=>{if(A1(e)){const a=YS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?vt.fromRangeEnd(l):vt.fromRangeStart(l)});return cg(Lt(zv,e),e.getBody(),a).exists(l=>{const m=xw(l);return A4(o,m).exists(p=>(Sw(e,p),!0))})}else return!1},$4=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},H4=e=>Ya(Kn(e),Gu(e),(t,o)=>{const a=nd(!0,t),l=nd(!1,o);return Hl(e,a).forall(m=>m.isEqual(l))}).getOr(!0),Ew=(e,t)=>o=>A4(t,o).map(a=>()=>Sw(e,a)),z4=(e,t,o,a)=>{const l=e.getBody(),m=Lt(zv,e);e.undoManager.ignore(()=>{e.selection.setRng($4(o,a)),L_(e),cg(m,l,vt.fromRangeStart(e.selection.getRng())).map(ZS).bind(Ew(e,t)).each(jn)}),e.nodeChanged()},qP=(e,t)=>{const o=gp(t,e);return o||e},GP=(e,t,o,a)=>{const l=qP(e.getBody(),a.container()),m=Lt(zv,e),p=cg(m,l,a);return p.bind(A=>o?A.fold(ct(Q.some(ZS(A))),Q.none,ct(Q.some(xw(A))),Q.none):A.fold(Q.none,ct(Q.some(xw(A))),Q.none,ct(Q.some(ZS(A))))).map(Ew(e,t)).getOrThunk(()=>{const A=Sv(o,l,a),$=A.bind(q=>cg(m,l,q));return Ya(p,$,()=>Tp(m,l,a).bind(q=>H4(q)?Q.some(()=>{xl(e,o,$e.fromDom(q))}):Q.none())).getOrThunk(()=>$.bind(()=>A.map(q=>()=>{o?z4(e,t,a,q):z4(e,t,q,a)})))})},Aw=(e,t,o)=>{if(e.selection.isCollapsed()&&A1(e)){const a=vt.fromRangeStart(e.selection.getRng());return GP(e,t,o,a)}return Q.none()},YP=e=>Td(e)>1,V4=(e,t)=>{const o=$e.fromDom(e.getBody()),a=$e.fromDom(e.selection.getStart()),l=$c(a,o);return Mn(l,t).fold(ct(l),m=>l.slice(0,m))},XP=e=>Td(e)===1,LH=e=>V4(e,t=>e.schema.isBlock(zo(t))||YP(t)),JP=e=>V4(e,t=>e.schema.isBlock(zo(t))),U4=(e,t)=>{const o=Lt(J1,e);return _o(t,a=>o(a)?[a.dom]:[])},Tw=e=>{const t=JP(e);return U4(e,t)},QP=(e,t,o,a)=>{const l=U4(t,a);if(l.length===0)xl(t,e,o);else{const m=D3(o.dom,l);t.selection.setRng(m.toRange())}},eL=(e,t)=>{const o=We(LH(e),XP);return no(o).bind(a=>{const l=vt.fromRangeStart(e.selection.getRng());return XN(t,l,a.dom)&&!t_(a)?Q.some(()=>QP(t,e,a,o)):Q.none()})},W4=(e,t)=>{const o=t.parentElement;return as(t)&&!Ue(o)&&e.dom.isEmpty(o)},BH=e=>t_($e.fromDom(e)),Z4=(e,t)=>{const o=e.selection.getStart(),a=W4(e,o)||BH(o)?D3(o,t):WF(e.selection.getRng(),t);e.selection.setRng(a.toRange())},MH=(e,t)=>{const o=Yo(t,Tw(e));o.length>0&&Z4(e,o)},j4=e=>Ht(e.startContainer),tL=e=>e.startOffset===0&&j4(e),FH=(e,t)=>{const o=t.startContainer.parentElement;return!Ue(o)&&J1(e,$e.fromDom(o))},$H=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ue(t)&&!Ue(o)&&t.isEqualNode(o)},r=e=>{const t=e.endContainer;return e.endOffset===(Ht(t)?t.length:t.childNodes.length)},i=e=>$H(e)&&r(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),d=e=>i(e)||u(e),b=e=>{const t=e.selection.getRng();return tL(t)&&FH(e,t)&&d(t)},v=e=>{if(b(e)){const t=Tw(e);return Q.some(()=>{L_(e),MH(e,t)})}else return Q.none()},w=(e,t)=>e.selection.isCollapsed()?eL(e,t):v(e),k=(e,t)=>lC(e,o=>pu(o.dom),o=>t.isBlock(zo(o))),E=e=>k($e.fromDom(e.selection.getStart()),e.schema),I=e=>{const t=e.selection.getRng();return t.collapsed&&(j4(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},F=e=>(I(e)&&Z4(e,[]),!0),B=(e,t,o)=>Oe(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),xl(e,t,$e.fromDom(o))}):Q.none(),z=(e,t)=>{const o=t?Mv:W1,a=t?Li.Forwards:Li.Backwards,l=n2(a,e.getBody(),e.selection.getRng());return o(l)?B(e,t,l.getNode(!t)):Q.from(nd(t,l)).filter(m=>o(m)&&ZC(l,m)).bind(m=>B(e,t,m.getNode(!t)))},G=(e,t)=>{const o=e.selection.getNode();return Ct(o)?B(e,t,o):Q.none()},J=(e,t)=>e.selection.isCollapsed()?z(e,t):G(e,t),ae=e=>aa(e,t=>kc(t.dom)||lo(t.dom)).exists(t=>kc(t.dom)),ue=e=>ln(e??"").getOr(0),ye=(e,t)=>{const o=e||tv(t)?"margin":"padding",a=Rs(t,"direction")==="rtl"?"-right":"-left";return o+a},le=(e,t,o,a,l,m)=>{const p=ye(o,$e.fromDom(m)),_=ue(e.getStyle(m,p));if(t==="outdent"){const A=Math.max(0,_-a);e.setStyle(m,p,A?A+l:"")}else{const A=_+a+l;e.setStyle(m,p,A)}},ie=(e,t)=>yo(t,o=>{const a=ye(aD(e),o),l=Es(o,a).map(ue).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),he=e=>{const t=Ve(e);return!e.mode.isReadOnly()&&(t.length>1||ie(e,t))},xe=e=>ov(e)||Fm(e),_e=e=>Qa(e).exists(xe),Ve=e=>We(ou(e.selection.getSelectedBlocks()),t=>!xe(t)&&!_e(t)&&ae(t)),nt=(e,t)=>{var o,a;const{dom:l}=e,m=gu(e),p=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",_=ue(m),A=aD(e);pe(Ve(e),$=>{le(l,t,A,_,p,$.dom)})},kt=e=>nt(e,"indent"),wt=e=>nt(e,"outdent"),yt=e=>{if(e.selection.isCollapsed()&&he(e)){const t=e.dom,o=e.selection.getRng(),a=vt.fromRangeStart(o),l=t.getParent(o.startContainer,t.isBlock);if(l!==null&&D_($e.fromDom(l),a,e.schema))return Q.some(()=>wt(e))}return Q.none()},$t=(e,t,o)=>Xs([yt,S4,w4,(a,l)=>Aw(a,t,l),zS,bh,E4,J,v4,w,k4],a=>a(e,o)).filter(a=>e.selection.isEditable()),dn=(e,t)=>{$t(e,t,!1).fold(()=>{e.selection.isEditable()&&(L_(e),B_(e))},jn)},Cn=(e,t)=>{$t(e,t,!0).fold(()=>{e.selection.isEditable()&&qA(e)},jn)},Nn=(e,t)=>{e.addCommand("delete",()=>{dn(e,t)}),e.addCommand("forwardDelete",()=>{Cn(e,t)})},to=5,To=400,Kr=e=>e.touches===void 0||e.touches.length!==1?Q.none():Q.some(e.touches[0]),ns=(e,t)=>{const o=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return o>to||a>to},vo=e=>{const t=Sa(),o=_a(!1),a=rp(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},To);e.on("touchstart",l=>{Kr(l).each(m=>{a.cancel();const p={x:m.clientX,y:m.clientY,target:l.target};a.throttle(l),o.set(!1),t.set(p)})},!0),e.on("touchmove",l=>{a.cancel(),Kr(l).each(m=>{t.on(p=>{ns(m,p)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{a.cancel(),l.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},Wo=(e,t)=>oo(e,t.nodeName),Fn=(e,t)=>Ht(t)?!0:Sn(t)?!Wo(e.getBlockElements(),t)&&!bu(t)&&!Af(e,t)&&!ka(t):!1,os=(e,t,o)=>Ae(oc($e.fromDom(o),$e.fromDom(t)),a=>Wo(e,a.dom)),Dr=(e,t)=>{if(Ht(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Wo(e,t.nextSibling)||ka(t.nextSibling)}return!1},Mi=e=>e.dom.create(nl(e),Wx(e)),Fi=e=>{const t=e.dom,o=e.selection,a=e.schema,l=a.getBlockElements(),m=o.getStart(),p=e.getBody();let _,A,$=null;const q=nl(e);if(!m||!Sn(m))return;const Y=p.nodeName.toLowerCase();if(!a.isValidChild(Y,q.toLowerCase())||os(l,p,m))return;if(p.firstChild===p.lastChild&&as(p.firstChild)){_=Mi(e),_.appendChild(Fd().dom),p.replaceChild(_,p.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let ee=p.firstChild;for(;ee;)if(Sn(ee)&&Ql(a,ee),Fn(a,ee)){if(Dr(l,ee)){A=ee,ee=ee.nextSibling,t.remove(A);continue}if(!_){if(!$&&e.hasFocus()&&($=dP(e.selection.getRng(),()=>document.createElement("span"))),!ee.parentNode){ee=null;break}_=Mi(e),p.insertBefore(_,ee)}A=ee,ee=ee.nextSibling,_.appendChild(A)}else _=null,ee=ee.nextSibling;$&&(e.selection.setRng(fP($)),e.nodeChanged())},Ua=(e,t,o)=>{const a=$e.fromDom(Mi(e)),l=Fd();Ns(a,l),o(t,a);const m=document.createRange();return m.setStartBefore(l.dom),m.setEndBefore(l.dom),m},Ta=e=>{e.on("NodeChange",()=>Fi(e))},Sh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,gy=(e,t,o)=>function(a){const l=arguments,m=l[l.length-2],p=m>0?t.charAt(m-1):"";if(p==='"')return a;if(p===">"){const _=t.lastIndexOf("<",m);if(_!==-1&&t.substring(_,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Up=(e,t,o)=>{let a=t.length,l=o.content;if(o.format!=="raw"){for(;a--;)l=l.replace(t[a],gy(e,l,xv(e)));o.content=l}},kh=(e,t)=>yo(e,o=>{const a=t.match(o);return a!==null&&a[0].length===t.length}),Ow=e=>{const t="contenteditable",o=" "+Yt.trim(YM(e))+" ",a=" "+Yt.trim(xv(e))+" ",l=Sh(o),m=Sh(a),p=xD(e);p.length>0&&e.on("BeforeSetContent",_=>{Up(e,p,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const $=_[A];l($)?$.attr(t,"true"):m($)&&$.attr(t,"false")}}),e.serializer.addAttributeFilter(t,_=>{let A=_.length;for(;A--;){const $=_[A];if(!l($)&&!m($))continue;const q=$.attr("data-mce-content");p.length>0&&q?kh(p,q)?($.name="#text",$.type=3,$.raw=!0,$.value=q):$.remove():$.attr(t,null)}})},Wp=e=>Ot($e.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),ug=(e,t)=>{t.hasAttribute("data-mce-caret")&&(nh(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},r0=(e,t)=>{const o=Wp(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),ug(e,o);return}d1(o)&&(ug(e,o),e.undoManager.add())}},s0=e=>{e.on("keyup compositionstart",Lt(r0,e))},hy=lo,XS=(e,t,o)=>I4(t,e,o,Aa,Gf,hy),Dw=(e,t,o)=>$P(t,e,o,m=>Aa(m)||kN(m),m=>Gf(m)||Z1(m),hy),Zp=e=>{const t=e.dom.create(nl(e));return t.innerHTML='<br data-mce-bogus="1">',t},dg=(e,t,o)=>{const a=$n(e.getBody()),l=Lt(RE,t===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!l(vt.fromRangeStart(o))){const _=$e.fromDom(Zp(e));t===1?rt($e.fromDom(m),_):vs($e.fromDom(m),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},Eh=(e,t)=>{const o=t?Li.Forwards:Li.Backwards,a=e.selection.getRng();return XS(o,e,a).orThunk(()=>(dg(e,o,a),Q.none()))},Rw=(e,t)=>{const o=t?1:-1,a=e.selection.getRng();return Dw(o,e,a).orThunk(()=>(dg(e,o,a),Q.none()))},Nw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return V2(o)?!t:t},or=(e,t)=>Eh(e,Nw(e.selection,t)).exists(o=>(Jf(e,o),!0)),fg=(e,t)=>Rw(e,t).exists(o=>(Jf(e,o),!0)),Xd=(e,t)=>HP(e,t,t?Gf:Aa),a0=(e,t)=>C4(e,!t).map(o=>{const a=o.toRange(),l=e.selection.getRng();return t?a.setStart(l.startContainer,l.startOffset):a.setEnd(l.endContainer,l.endOffset),a}).exists(o=>(Jf(e,o),!0)),JS=e=>be(["figcaption"],zo(e)),Ah=(e,t,o)=>{const a=Lt(Vo,t);return aa($e.fromDom(e.container()),l=>o.isBlock(zo(l)),a).filter(JS)},py=(e,t,o)=>t?NP(e.dom,o):RP(e.dom,o),K4=(e,t)=>{const o=$e.fromDom(e.getBody()),a=vt.fromRangeStart(e.selection.getRng());return Ah(a,o,e.schema).exists(()=>{if(py(o,t,a)){const m=Ua(e,o,t?Ns:Ri);return e.selection.setRng(m),!0}else return!1})},QS=(e,t)=>e.selection.isCollapsed()?K4(e,t):!1,HH=(e,t,o)=>{const a=e.selection.getRng(),l=vt.fromRangeStart(a);return e.getBody().firstChild===t&&RP(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},by=(e,t)=>{const o=e.selection.getRng(),a=vt.fromRangeStart(o);return e.getBody().lastChild===t&&NP(t,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},zH=(e,t)=>t?Q.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>by(e,o)).getOr(!1):Q.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Q.from(e.dom.getParent(o,"details")).map(a=>HH(e,a,o))).getOr(!1),Cl=(e,t)=>zH(e,t),i0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},VH=e=>Fe(e,t=>({...i0,...t})),nL=e=>Fe(e,t=>({...i0,...t})),ek=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,oL=(e,t)=>_o(VH(e),o=>ek(o,t)?[o]:[]),rL=(e,t)=>_o(nL(e),o=>ek(o,t)?[o]:[]),io=(e,...t)=>()=>e.apply(null,t),jp=(e,t)=>vn(oL(e,t),o=>o.action()),tk=(e,t)=>Xs(rL(e,t),o=>o.action()),Kp=(e,t)=>{const o=t?Li.Forwards:Li.Backwards,a=e.selection.getRng();return I4(e,o,a,Mv,W1,Ct).exists(l=>(Jf(e,l),!0))},vy=(e,t)=>{const o=t?1:-1,a=e.selection.getRng();return $P(e,o,a,Mv,W1,Ct).exists(l=>(Jf(e,l),!0))},q4=(e,t)=>HP(e,t,t?W1:Mv),G4=Mo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ld={...G4,none:e=>G4.none(e)},sL=(e,t)=>X4(e,t,gn),X4=(e,t,o)=>_o(ei(e),a=>Ar(a,t)?o(a)?[a]:[]:X4(a,t,o)),aL=(e,t,o=Xn)=>{if(o(t))return Q.none();if(be(e,zo(t)))return Q.some(t);const a=l=>Ar(l,"table")||o(l);return tu(t,e.join(","),a)},iL=(e,t)=>aL(["td","th"],e,t),UH=e=>sL(e,"th,td"),mt=(e,t)=>Fa(e,"table",t),In=(e,t,o,a,l=gn)=>{const m=a===1;if(!m&&o<=0)return ld.first(e[0]);if(m&&o>=e.length-1)return ld.last(e[e.length-1]);{const p=o+a,_=e[p];return l(_)?ld.middle(t,_):In(e,t,p,a,l)}},co=(e,t)=>mt(e,t).bind(o=>{const a=UH(o);return Mn(a,m=>Vo(e,m)).map(m=>({index:m,all:a}))}),qr=(e,t,o)=>co(e,o).fold(()=>ld.none(e),l=>In(l.all,e,l.index,1,t)),Fs=(e,t,o)=>co(e,o).fold(()=>ld.none(),l=>In(l.all,e,l.index,-1,t)),ta=e=>_C(e).filter(t=>t.trim().length!==0||t.indexOf(Ca)>-1).isSome(),Ys=e=>Ei(e)&&pi(e,"contenteditable")==="false",ba=["img","br"],yy=e=>ta(e)||be(ba,zo(e))||Ys(e),WH=e=>Ma(e,yy),lL=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),OU=(e,t)=>_o(t,o=>{const a=lL(Pf(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),CQ=(e,t,o)=>on(e,(a,l)=>a.fold(()=>Q.some(l),m=>{const p=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),_=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-o));return Q.some(_<p?l:m)}),Q.none()),DU=(e,t,o,a,l)=>{const m=ia($e.fromDom(o),"td,th,caption").map(_=>_.dom),p=We(OU(e,m),_=>t(_,l));return CQ(p,a,l).map(_=>_.cell)},_Q=e=>e.bottom,SQ=e=>e.top,kQ=(e,t)=>e.y<t,EQ=(e,t)=>e.y>t,AQ=Lt(DU,_Q,kQ),TQ=Lt(DU,SQ,EQ),OQ=(e,t)=>yn(t.getClientRects()).bind(o=>AQ(e,o.left,o.top)).bind(o=>KS(IP(o),t)),DQ=(e,t)=>no(t.getClientRects()).bind(o=>TQ(e,o.left,o.top)).bind(o=>KS(EH(o),t)),RQ=(e,t,o)=>o.breakAt.exists(a=>e(t,a).breakAt.isSome()),NQ=e=>e.breakType===Yd.Wrap&&e.positions.length===0,IQ=e=>e.breakType===Yd.Br&&e.positions.length===1,RU=(e,t,o)=>{const a=e(t,o);return NQ(a)||!as(o.getNode())&&IQ(a)?!RQ(e,t,a):a.breakAt.isNone()},PQ=Lt(RU,ww),LQ=Lt(RU,Cw),BQ=(e,t,o)=>{const a=vt.fromRangeStart(t);return D1(!e,o).exists(l=>l.isEqual(a))},MQ=(e,t,o,a)=>{const l=e.selection.getRng(),m=t?1:-1;return EE()&&BQ(t,l,o)?(_s(m,e,o,!t,!1).each(p=>{Jf(e,p)}),!0):!1},FQ=(e,t,o)=>OQ(t,o).orThunk(()=>yn(o.getClientRects()).bind(a=>D4(DP(e,vt.before(t)),a.left))).getOr(vt.before(t)),$Q=(e,t,o)=>DQ(t,o).orThunk(()=>yn(o.getClientRects()).bind(a=>D4(qS(e,vt.after(t)),a.left))).getOr(vt.after(t)),NU=(e,t)=>{const o=t.getNode(e);return su(o)?Q.some(o):Q.none()},HQ=(e,t,o)=>{t.undoManager.transact(()=>{const a=e?rt:vs,l=Ua(t,$e.fromDom(o),a);Jf(t,l)})},IU=(e,t,o)=>{const a=NU(!!t,o),l=t===!1;a.fold(()=>Jf(e,o.toRange()),m=>D1(l,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>Jf(e,o.toRange()),p=>HQ(t,e,m)))},zQ=(e,t,o,a)=>{const l=e.selection.getRng(),m=vt.fromRangeStart(l),p=e.getBody();if(!t&&PQ(a,m)){const _=FQ(p,o,m);return IU(e,t,_),!0}else if(t&&LQ(a,m)){const _=$Q(p,o,m);return IU(e,t,_),!0}else return!1},PU=(e,t,o)=>Q.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>Q.from(e.dom.getParent(a,"table")).map(l=>o(e,t,l,a))).getOr(!1),LU=(e,t)=>PU(e,t,MQ),ZH=(e,t)=>PU(e,t,zQ),VQ=e=>{const t=Cp.exact(e,0,e,0);return B8(t)},BU=(e,t,o)=>o.fold(Q.none,Q.none,(a,l)=>WH(l).map(m=>VQ(m)),a=>(e.execCommand("mceTableInsertRowAfter"),MU(e,t,a))),MU=(e,t,o)=>BU(e,t,qr(o,ds)),UQ=(e,t,o)=>BU(e,t,Fs(o,ds)),FU=(e,t)=>{const o=["table","li","dl"],a=$e.fromDom(e.getBody()),l=_=>{const A=zo(_);return Vo(_,a)||be(o,A)},m=e.selection.getRng(),p=$e.fromDom(t?m.endContainer:m.startContainer);return iL(p,l).map(_=>(mt(_,l).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!t),(t?MU:UQ)(e,l,_).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},WQ=(e,t,o)=>{const a=Eo.os.isMacOS()||Eo.os.isiOS();jp([{keyCode:cn.RIGHT,action:io(or,e,!0)},{keyCode:cn.LEFT,action:io(or,e,!1)},{keyCode:cn.UP,action:io(fg,e,!1)},{keyCode:cn.DOWN,action:io(fg,e,!0)},...a?[{keyCode:cn.UP,action:io(a0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:cn.DOWN,action:io(a0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:cn.RIGHT,action:io(LU,e,!0)},{keyCode:cn.LEFT,action:io(LU,e,!1)},{keyCode:cn.UP,action:io(ZH,e,!1)},{keyCode:cn.DOWN,action:io(ZH,e,!0)},{keyCode:cn.UP,action:io(ZH,e,!1)},{keyCode:cn.UP,action:io(Cl,e,!1)},{keyCode:cn.DOWN,action:io(Cl,e,!0)},{keyCode:cn.RIGHT,action:io(Kp,e,!0)},{keyCode:cn.LEFT,action:io(Kp,e,!1)},{keyCode:cn.UP,action:io(vy,e,!1)},{keyCode:cn.DOWN,action:io(vy,e,!0)},{keyCode:cn.RIGHT,action:io(M4,e,t,!0)},{keyCode:cn.LEFT,action:io(M4,e,t,!1)},{keyCode:cn.RIGHT,ctrlKey:!a,altKey:a,action:io(jP,e,t)},{keyCode:cn.LEFT,ctrlKey:!a,altKey:a,action:io(KP,e,t)},{keyCode:cn.UP,action:io(QS,e,!1)},{keyCode:cn.DOWN,action:io(QS,e,!0)}],o).each(l=>{o.preventDefault()})},ZQ=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||WQ(e,t,o)})},Th=(e,t)=>({container:e,offset:t}),cL=Hr.DOM,uL=e=>t=>e===t?-1:0,jQ=e=>t=>e.isBlock(t)||be(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",jH=(e,t,o)=>{if(Ht(e)&&t>=0)return Q.some(Th(e,t));{const a=Bd(cL);return Q.from(a.backwards(e,t,uL(e),o)).map(l=>Th(l.container,l.container.data.length))}},KQ=(e,t,o)=>{if(Ht(e)&&t>=e.length)return Q.some(Th(e,t));{const a=Bd(cL);return Q.from(a.forwards(e,t,uL(e),o)).map(l=>Th(l.container,0))}},KH=(e,t,o)=>{if(!Ht(e))return Q.none();const a=e.data;if(t>=0&&t<=a.length)return Q.some(Th(e,t));{const l=Bd(cL);return Q.from(l.backwards(e,t,uL(e),o)).bind(m=>{const p=m.container.data;return KH(m.container,t+p.length,o)})}},$U=(e,t,o)=>{if(!Ht(e))return Q.none();const a=e.data;if(t<=a.length)return Q.some(Th(e,t));{const l=Bd(cL);return Q.from(l.forwards(e,t,uL(e),o)).bind(m=>$U(m.container,t-a.length,o))}},qH=(e,t,o,a,l)=>{const m=Bd(e,jQ(e));return Q.from(m.backwards(t,o,a,l))},qQ=e=>e.collapsed&&Ht(e.startContainer),GQ=e=>vl(e.toString().replace(/\u00A0/g," ")),HU=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,YQ=(e,t)=>e.substring(t.length),XQ=(e,t,o,a=!1)=>{let l;const m=o.charAt(0);for(l=t-1;l>=0;l--){const p=e.charAt(l);if(!a&&HU(p))return Q.none();if(m===p&&Er(e,o,l,t))break}return Q.some(l)},GH=(e,t,o,a=!1)=>{if(!qQ(t))return Q.none();const l={text:"",offset:0},m=(_,A,$)=>(l.text=$+l.text,l.offset+=A,XQ(l.text,l.offset,o,a).getOr(A)),p=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return qH(e,t.startContainer,t.startOffset,m,p).bind(_=>{const A=t.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return Q.none();const $=GQ(A);return $.lastIndexOf(o)!==0?Q.none():Q.some({text:YQ($,o),range:A,trigger:o})})},JQ=e=>e.nodeType===Rg,QQ=e=>e.nodeType===fl,zU=e=>{if(JQ(e))return Th(e,e.data.length);{const t=e.childNodes;return t.length>0?zU(t[t.length-1]):Th(e,t.length)}},VU=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?VU(o[t],0):o.length>0&&QQ(e)&&o.length===t?zU(o[o.length-1]):Th(e,t)},eee=(e,t)=>{var o;const a=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return qH(e,t.container,t.offset,(l,m)=>m===0?-1:m,a).filter(l=>{const m=l.container.data.charAt(l.offset-1);return!HU(m)}).isSome()},tee=e=>t=>{const o=VU(t.startContainer,t.startOffset);return!eee(e,o)},nee=(e,t,o)=>Xs(o.triggers,a=>GH(e,t,a)),oee=(e,t)=>{const o=t(),a=e.selection.getRng();return nee(e.dom,a,o).bind(l=>UU(e,t,l))},UU=(e,t,o,a={})=>{var l;const m=t(),_=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=We(m.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>tee(e.dom))(o.range,_,o.text));if(A.length===0)return Q.none();const $=Promise.all(Fe(A,q=>q.fetch(o.text,q.maxResults,a).then(ee=>({matchText:o.text,items:ee,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return Q.some({lookupData:$,context:o})};var Oh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Oh||(Oh={}));const YH=(e,t,o)=>e.stype===Oh.Error?t(e.serror):o(e.svalue),ree=e=>{const t=[],o=[];return pe(e,a=>{YH(a,l=>o.push(l),l=>t.push(l))}),{values:t,errors:o}},see=(e,t)=>e.stype===Oh.Error?{stype:Oh.Error,serror:t(e.serror)}:e,aee=(e,t)=>e.stype===Oh.Value?{stype:Oh.Value,svalue:t(e.svalue)}:e,iee=(e,t)=>e.stype===Oh.Value?t(e.svalue):e,lee=(e,t)=>e.stype===Oh.Error?t(e.serror):e,WU=e=>({stype:Oh.Value,svalue:e}),ZU=e=>({stype:Oh.Error,serror:e}),Dl={fromResult:e=>e.fold(ZU,WU),toResult:e=>YH(e,Wn.error,Wn.value),svalue:WU,partition:ree,serror:ZU,bind:iee,bindError:lee,map:aee,mapError:see,fold:YH},XH=e=>j(e)&&Zt(e).length>100?" removed due to size":JSON.stringify(e,null,2),cee=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ct("... (only showing first ten failures)")}]):e;return Fe(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},dL=(e,t)=>Dl.serror([{path:e,getErrorInfo:t}]),uee=(e,t,o)=>dL(e,()=>'Could not find valid *required* value for "'+t+'" in '+XH(o)),dee=(e,t)=>dL(e,()=>'Choice schema did not contain choice key: "'+t+'"'),fee=(e,t,o)=>dL(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+XH(t)),mee=(e,t)=>dL(e,ct(t)),gee=(e,t,o,a)=>wr(o,a).fold(()=>fee(e,o,a),m=>m.extract(e.concat(["branch: "+a]),t)),hee=(e,t)=>({extract:(l,m)=>wr(m,e).fold(()=>dee(l,e),_=>gee(l,m,t,_)),toString:()=>"chooseOn("+e+"). Possible values: "+Zt(t)}),pee=(e,t)=>t,bee=(e,t)=>de(e)&&de(t)?fL(e,t):t,jU=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<t.length;a++){const l=t[a];for(const m in l)oo(l,m)&&(o[m]=e(o[m],l[m]))}return o},fL=jU(bee),KU=jU(pee),qU=()=>({tag:"required",process:{}}),vee=e=>({tag:"defaultedThunk",process:e}),GU=e=>vee(ct(e)),yee=()=>({tag:"option",process:{}}),xee=(e,t)=>e.length>0?Dl.svalue(fL(t,KU.apply(void 0,e))):Dl.svalue(t),YU=e=>tn(Dl.serror,zn)(e),wee={consolidateObj:(e,t)=>{const o=Dl.partition(e);return o.errors.length>0?YU(o.errors):xee(o.values,t)},consolidateArr:e=>{const t=Dl.partition(e);return t.errors.length>0?YU(t.errors):Dl.svalue(t.values)}},Cee=(e,t,o,a)=>({tag:"field",key:e,newKey:t,presence:o,prop:a}),_ee=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),XU=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},JH=e=>{const t=(a,l)=>Dl.bindError(e(l),m=>mee(a,m)),o=ct("val");return{extract:t,toString:o}},See=JH(Dl.svalue),kee=(e,t,o,a)=>wr(t,o).fold(()=>uee(e,o,t),a),JU=(e,t,o,a)=>{const l=wr(e,t).getOrThunk(()=>o(e));return a(l)},Eee=(e,t,o)=>o(wr(e,t)),Aee=(e,t,o,a)=>{const l=wr(e,t).map(m=>m===!0?o(e):m);return a(l)},Tee=(e,t,o,a,l)=>{const m=_=>l.extract(t.concat([a]),_),p=_=>_.fold(()=>Dl.svalue(Q.none()),A=>{const $=l.extract(t.concat([a]),A);return Dl.map($,Q.some)});switch(e.tag){case"required":return kee(t,o,a,m);case"defaultedThunk":return JU(o,a,e.process,m);case"option":return Eee(o,a,p);case"defaultedOptionThunk":return Aee(o,a,e.process,p);case"mergeWithThunk":return JU(o,a,ct({}),_=>{const A=fL(e.process(o),_);return m(A)})}},Oee=(e,t,o)=>{const a={},l=[];for(const m of o)XU(m,(p,_,A,$)=>{const q=Tee(A,e,t,p,$);Dl.fold(q,Y=>{l.push(...Y)},Y=>{a[_]=Y})},(p,_)=>{a[p]=_(t)});return l.length>0?Dl.serror(l):Dl.svalue(a)},QH=e=>({extract:(a,l)=>Oee(a,l,e),toString:()=>`obj{
`+Fe(e,l=>XU(l,(m,p,_,A)=>m+" -> "+A.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),QU=e=>({extract:(a,l)=>{const m=Fe(l,(p,_)=>e.extract(a.concat(["["+_+"]"]),p));return wee.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Dee=e=>JH(t=>e(t).fold(Dl.serror,Dl.svalue)),Ree=(e,t,o)=>{const a=t.extract([e],o);return Dl.mapError(a,l=>({input:o,errors:l}))},Nee=(e,t,o)=>Dl.toResult(Ree(e,t,o)),Iee=e=>`Errors: 
`+cee(e.errors).join(`
`)+`

Input object: `+XH(e.input),eW=(e,t)=>hee(e,Il(t,QH)),Pee=ct(See),mL=(e,t)=>JH(o=>{const a=typeof o;return e(o)?Dl.svalue(o):Dl.serror(`Expected type: ${t} but got: ${a}`)}),Lee=mL(P,"number"),gL=mL(fe,"string"),Bee=mL(He,"boolean"),e9=mL(Be,"function"),J4=Cee,tW=_ee,Mee=e=>Dee(t=>be(e,t)?Wn.value(t):Wn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),nW=(e,t)=>J4(e,e,qU(),t),oW=e=>nW(e,gL),rW=e=>nW(e,e9),Fee=(e,t)=>J4(e,e,qU(),QU(t)),t9=(e,t)=>J4(e,e,yee(),t),hL=e=>t9(e,gL),$ee=e=>t9(e,e9),Hee=(e,t)=>J4(e,e,GU(t),Pee()),nk=(e,t,o)=>J4(e,e,GU(t),o),sW=(e,t)=>nk(e,t,Lee),zee=(e,t)=>nk(e,t,gL),aW=(e,t,o)=>nk(e,t,Mee(o)),n9=(e,t)=>nk(e,t,Bee),o9=(e,t)=>nk(e,t,e9),Vee=(e,t,o)=>nk(e,t,QU(o)),Uee=oW("type"),Wee=rW("fetch"),r9=rW("onAction"),Zee=o9("onSetup",()=>Mt),jee=hL("text"),Kee=hL("icon"),qee=hL("tooltip"),Gee=hL("label"),Yee=n9("active",!1),Xee=n9("enabled",!0),iW=n9("primary",!1),Jee=e=>Hee("columns",e),Q4=e=>zee("type",e),Qee=QH([Uee,oW("trigger"),sW("minChars",1),Jee(1),sW("maxResults",10),$ee("matches"),Wee,r9,Vee("highlightOn",[],gL)]),ete=e=>Nee("Autocompleter",Qee,e),s9=[Xee,qee,Kee,jee,Zee],lW=[Yee].concat(s9),tte=[o9("predicate",Xn),aW("scope","node",["node","editor"]),aW("position","selection",["node","selection","line"])],nte=s9.concat([Q4("contextformbutton"),iW,r9,tW("original",_n)]),ote=lW.concat([Q4("contextformbutton"),iW,r9,tW("original",_n)]),rte=s9.concat([Q4("contextformbutton")]),ste=lW.concat([Q4("contextformtogglebutton")]),ate=eW("type",{contextformbutton:nte,contextformtogglebutton:ote});QH([Q4("contextform"),o9("initValue",ct("")),Gee,Fee("commands",ate),t9("launch",eW("type",{contextformbutton:rte,contextformtogglebutton:ste}))].concat(tte));const ite=e=>{const t=e.ui.registry.getAll().popups,o=Il(t,p=>ete(p).fold(_=>{throw new Error(Iee(_))},_n)),a=Ru(ll(o,p=>p.trigger)),l=Du(o);return{dataset:o,triggers:a,lookupByTrigger:p=>We(l,_=>_.trigger===p)}},lte=(e,t)=>{const o=rp(t.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const l=a.which;l===8?o.throttle():l===27?(o.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&o.cancel()},!0),e.on("remove",o.cancel)},cte=e=>{const t=Sa(),o=_a(!1),a=t.isSet,l=()=>{a()&&(C8(e),o.set(!1),t.clear())},m=Y=>{a()||t.set({trigger:Y.trigger,matchLength:Y.text.length})},p=kl(()=>ite(e)),_=Y=>t.get().map(ee=>GH(e.dom,e.selection.getRng(),ee.trigger,!0).bind(me=>UU(e,p,me,Y))).getOrThunk(()=>oee(e,p)),A=Y=>{_(Y).fold(l,ee=>{m(ee.context),ee.lookupData.then(me=>{t.get().map(we=>{const ge=ee.context;we.trigger===ge.trigger&&(t.set({...we,matchLength:ge.text.length}),o.get()?(XE(e,{range:ge.range}),YE(e,{lookupData:me})):(o.set(!0),XE(e,{range:ge.range}),GE(e,{lookupData:me})))})})})},$=(Y,ee)=>{const me=Y.compareBoundaryPoints(window.Range.START_TO_START,ee),we=Y.compareBoundaryPoints(window.Range.END_TO_END,ee);return me>=0&&we<=0},q=()=>t.get().bind(({trigger:Y})=>{const ee=e.selection.getRng();return GH(e.dom,ee,Y,o.get()).filter(({range:me})=>$(ee,me)).map(({range:me})=>me)});e.addCommand("mceAutocompleterReload",(Y,ee)=>{const me=j(ee)?ee.fetchOptions:{};A(me)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(Y=>{XE(e,{range:Y})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),lte(e,{cancelIfNecessary:l,load:A})},ute=qa().browser.isSafari(),cW=e=>Nc($e.fromDom(e)),uW=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},pL=(e,t)=>Q.from(e.getParent(t.container(),"details")),dW=(e,t)=>pL(e,t).isSome(),dte=(e,t)=>{const o=Q.from(e.getParent(t.startContainer,"details")),a=Q.from(e.getParent(t.endContainer,"details"));if(o.isSome()||a.isSome()){const l=o.bind(m=>Q.from(e.select("summary",m)[0]));return Q.some({startSummary:l,startDetails:o,endDetails:a})}else return Q.none()},fte=(e,t)=>Kn(t).exists(o=>o.isEqual(e)),mte=(e,t)=>Gu(t).exists(o=>as(o.getNode())&&Lc(t,o).exists(a=>a.isEqual(e))||o.isEqual(e)),gte=(e,t)=>t.startSummary.exists(o=>fte(e,o)),hte=(e,t)=>t.startSummary.exists(o=>mte(e,o)),pte=(e,t)=>t.startDetails.exists(o=>Lc(o,e).forall(a=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(a.container())))),bte=(e,t,o)=>o.startDetails.exists(a=>Hl(e,t).forall(l=>!a.contains(l.container()))),fW=(e,t)=>{const o=t.getNode();je(o)||e.selection.setCursorLocation(o,t.offset())},mW=(e,t,o)=>{const a=e.dom.getParent(t.container(),"details");if(a&&!a.open){const l=e.dom.select("summary",a)[0];l&&(o?Kn(l):Gu(l)).each(p=>fW(e,p))}else fW(e,t)},vte=(e,t)=>{const o=A=>A.contains(e.startContainer),a=A=>A.contains(e.endContainer),l=t.startSummary.exists(o),m=t.startSummary.exists(a),p=t.startDetails.forall(A=>t.endDetails.forall($=>A!==$));return(l||m)&&!(l&&m)||p},gW=(e,t,o)=>{const{dom:a,selection:l}=e,m=e.getBody();if(o==="character"){const p=vt.fromRangeStart(l.getRng()),_=a.getParent(p.container(),a.isBlock),A=pL(a,p),$=_&&a.isEmpty(_),q=Ue(_==null?void 0:_.previousSibling),Y=Ue(_==null?void 0:_.nextSibling);return $&&(t?Y:q)&&Sv(!t,m,p).exists(we=>dW(a,we)&&!df(A,pL(a,we)))?!0:Sv(t,m,p).fold(Xn,ee=>{const me=pL(a,ee);if(dW(a,ee)&&!df(A,me)){if(t||mW(e,ee,!1),_&&$){if(t&&q)return!0;if(!t&&Y)return!0;mW(e,ee,t),e.dom.remove(_)}return!0}else return!1})}else return!1},yte=(e,t,o,a)=>{const m=e.selection.getRng(),p=vt.fromRangeStart(m),_=e.getBody();return a==="selection"?vte(m,t):o?hte(p,t)||bte(_,p,t):gte(p,t)||pte(p,t)},xte=(e,t,o)=>dte(e.dom,e.selection.getRng()).fold(()=>gW(e,t,o),a=>yte(e,a,t,o)||gW(e,t,o)),wte=(e,t,o)=>{const a=e.selection,l=a.getNode(),m=a.getRng(),p=vt.fromRangeStart(m);return Xh(l)?(o==="selection"&&uW(m,l)||XN(t,p,l)?cW(l):e.undoManager.transact(()=>{const _=a.getSel();let{anchorNode:A,anchorOffset:$,focusNode:q,focusOffset:Y}=_??{};const ee=()=>{Oe(A)&&Oe($)&&Oe(q)&&Oe(Y)&&(_==null||_.setBaseAndExtent(A,$,q,Y))},me=()=>{A=_==null?void 0:_.anchorNode,$=_==null?void 0:_.anchorOffset,q=_==null?void 0:_.focusNode,Y=_==null?void 0:_.focusOffset},we=(Ee,Ze)=>{pe(Ee.childNodes,et=>{L1(et)&&Ze.appendChild(et)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});we(l,ge),l.appendChild(ge),ee(),(o==="word"||o==="line")&&(_==null||_.modify("extend",t?"right":"left",o)),!a.isCollapsed()&&uW(a.getRng(),ge)?cW(l):(e.execCommand(t?"ForwardDelete":"Delete"),me(),we(ge,l),ee()),e.dom.remove(ge)}),!0):!1},Iw=(e,t,o)=>xte(e,t,o)||ute&&wte(e,t,o)?Q.some(Mt):Q.none(),hW=e=>(t,o,a={})=>{const l=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Mt,inputType:o},p=Rm(new InputEvent(e));return t.dispatch(e,{...p,...m,...a})},eO=hW("input"),bL=hW("beforeinput"),pW=qa(),bW=pW.os,vW=bW.isMacOS()||bW.isiOS(),Cte=pW.browser.isFirefox(),_te=(e,t,o)=>{const a=o.keyCode===cn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),m=l?"character":"selection",p=_=>l?_?"word":"line":"selection";tk([{keyCode:cn.BACKSPACE,action:io(yt,e)},{keyCode:cn.BACKSPACE,action:io(S4,e,!1)},{keyCode:cn.DELETE,action:io(S4,e,!0)},{keyCode:cn.BACKSPACE,action:io(w4,e,!1)},{keyCode:cn.DELETE,action:io(w4,e,!0)},{keyCode:cn.BACKSPACE,action:io(Aw,e,t,!1)},{keyCode:cn.DELETE,action:io(Aw,e,t,!0)},{keyCode:cn.BACKSPACE,action:io(bh,e,!1)},{keyCode:cn.DELETE,action:io(bh,e,!0)},{keyCode:cn.BACKSPACE,action:io(Iw,e,!1,m)},{keyCode:cn.DELETE,action:io(Iw,e,!0,m)},...vW?[{keyCode:cn.BACKSPACE,altKey:!0,action:io(Iw,e,!1,p(!0))},{keyCode:cn.DELETE,altKey:!0,action:io(Iw,e,!0,p(!0))},{keyCode:cn.BACKSPACE,metaKey:!0,action:io(Iw,e,!1,p(!1))}]:[{keyCode:cn.BACKSPACE,ctrlKey:!0,action:io(Iw,e,!1,p(!0))},{keyCode:cn.DELETE,ctrlKey:!0,action:io(Iw,e,!0,p(!0))}],{keyCode:cn.BACKSPACE,action:io(E4,e,!1)},{keyCode:cn.DELETE,action:io(E4,e,!0)},{keyCode:cn.BACKSPACE,action:io(J,e,!1)},{keyCode:cn.DELETE,action:io(J,e,!0)},{keyCode:cn.BACKSPACE,action:io(v4,e,!1)},{keyCode:cn.DELETE,action:io(v4,e,!0)},{keyCode:cn.BACKSPACE,action:io(zS,e,!1)},{keyCode:cn.DELETE,action:io(zS,e,!0)},{keyCode:cn.BACKSPACE,action:io(w,e,!1)},{keyCode:cn.DELETE,action:io(w,e,!0)},{keyCode:cn.BACKSPACE,action:io(k4,e,!1)},{keyCode:cn.DELETE,action:io(k4,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),bL(e,a).isDefaultPrevented()||(_(),eO(e,a))})},Ste=(e,t,o)=>jp([{keyCode:cn.BACKSPACE,action:io(lP,e)},{keyCode:cn.DELETE,action:io(lP,e)},...vW?[{keyCode:cn.BACKSPACE,altKey:!0,action:io(F,e)},{keyCode:cn.DELETE,altKey:!0,action:io(F,e)},...o?[{keyCode:Cte?224:91,action:io(F,e)}]:[]]:[{keyCode:cn.BACKSPACE,ctrlKey:!0,action:io(F,e)},{keyCode:cn.DELETE,ctrlKey:!0,action:io(F,e)}]],t),kte=(e,t)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===cn.BACKSPACE,a.isDefaultPrevented()||_te(e,t,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||Ste(e,a,o),o=!1})},Ete=e=>{for(;e;){if(Sn(e)||Ht(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},ok=(e,t)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=Ete(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(Ca),t.firstChild)}const l=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new ti(t,t);let p=t,_;for(;_=m.current();){if(Ht(_)){l.setStart(_,0),l.setEnd(_,0);break}if(a[_.nodeName.toLowerCase()]){l.setStartBefore(_),l.setEndBefore(_);break}p=_,_=m.next()}_||(l.setStart(p,0),l.setEnd(p,0))}else as(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Ju(e,l)},tO=(e,t)=>{const o=e.getRoot();let a,l=t;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){a=l;break}l=l.parentNode}return l!==o?a:o},a9=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Ate=e=>a9(e).fold(ct(""),t=>t.nodeName.toUpperCase()),Tte=e=>a9(e).filter(t=>Fm($e.fromDom(t))).isSome(),i9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Ote=(e,t,o)=>{const a=e.dom;Q.from(o.style).map(a.parseStyle).each(A=>{const q={...Lg($e.fromDom(t)),...A};a.setStyles(t,q)});const l=Q.from(o.class).map(A=>A.split(/\s+/)),m=Q.from(t.className).map(A=>We(A.split(/\s+/),$=>$!==""));Ya(l,m,(A,$)=>{const q=We($,ee=>!be(A,ee)),Y=[...A,...q];a.setAttrib(t,"class",Y.join(" "))});const p=["style","class"],_=pc(o,(A,$)=>!be(p,$));a.setAttribs(t,_)},nO=(e,t)=>{if(nl(e).toLowerCase()===t.tagName.toLowerCase()){const a=Wx(e);Ote(e,t,a)}},yW=(e,t,o,a,l=!0,m,p)=>{const _=e.dom,A=e.schema,$=nl(e),q=o?o.nodeName.toUpperCase():"";let Y=t;const ee=A.getTextInlineElements();let me;m||q==="TABLE"||q==="HR"?me=_.create(m||$,p||{}):me=o.cloneNode(!1);let we=me;if(!l)_.setAttrib(me,"style",null),_.setAttrib(me,"class",null);else do if(ee[Y.nodeName]){if(pu(Y)||bu(Y))continue;const ge=Y.cloneNode(!1);_.setAttrib(ge,"id",""),me.hasChildNodes()?(ge.appendChild(me.firstChild),me.appendChild(ge)):(we=ge,me.appendChild(ge))}while((Y=Y.parentNode)&&Y!==a);return nO(e,me),i9(we),me},Dte=(e,t)=>e.dom.getParent(t,Yh),Rte=(e,t,o)=>{let a=t;for(;a&&a!==e&&Ue(a.nextSibling);){const l=a.parentElement;if(!l||!o(l))return Yh(l);a=l}return!1},Nte=(e,t,o)=>!t&&o.nodeName.toLowerCase()===nl(e)&&e.dom.isEmpty(o)&&Rte(e.getBody(),o,a=>oo(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Ite=(e,t,o)=>{var a,l,m;const p=t(nl(e)),_=Dte(e,o);_&&(e.dom.insertAfter(p,_),ok(e,p),((m=(l=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||l===void 0?void 0:l.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Pte=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Lte=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},xW=(e,t)=>{const o=e==null?void 0:e.parentNode;return Oe(o)&&o.nodeName===t},wW=e=>Oe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),l9=e=>Oe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Bte=e=>wW(e)&&wW(e.parentNode),vL=e=>{const t=e.parentNode;return l9(t)?t:e},yL=(e,t,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Sn(a);)a=a[o?"nextSibling":"previousSibling"];return a===t},CW=e=>on(ll(Lg($e.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Mte=(e,t,o,a,l)=>{const m=e.dom,p=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;Bte(o)&&(l="LI");const A=l9(a)?CW(a):void 0;let $=l9(a)&&A?t(l,{style:CW(a)}):t(l);if(yL(o,a,!0)&&yL(o,a,!1))if(xW(o,"LI")){const q=vL(o);m.insertAfter($,q),Lte(o)?m.remove(q):m.remove(o)}else m.replace($,o);else if(yL(o,a,!0))xW(o,"LI")?(m.insertAfter($,vL(o)),$.appendChild(m.doc.createTextNode(" ")),$.appendChild(o)):_.insertBefore($,o),m.remove(a);else if(yL(o,a,!1))m.insertAfter($,vL(o)),m.remove(a);else{o=vL(o);const q=p.cloneRange();q.setStartAfter(a),q.setEndAfter(o);const Y=q.extractContents();if(l==="LI"&&Pte(Y,"LI")){const ee=We(Fe($.children,$e.fromDom),Je(hf("br")));$=Y.firstChild,m.insertAfter(Y,o),pe(ee,me=>Ri($e.fromDom($),me)),A&&$.setAttribute("style",A)}else m.insertAfter(Y,o),m.insertAfter($,o);m.remove(a)}ok(e,$)},Fte=e=>{pe(Sm($e.fromDom(e),Qr),t=>{const o=t.dom;o.nodeValue=vl(o.data)})},$te=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Hte=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),c9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,u9=(e,t)=>Oe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",zte=(e,t,o)=>{var a;const l=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Sn(m)&&!t[m.nodeName.toLowerCase()]&&l.push(m)}let p=l.length;for(;p--;)m=l[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||Hte(e,m))&&e.remove(m)},d9=(e,t,o)=>Ht(t)?e?o===1&&t.data.charAt(o-1)===ha?0:o:o===t.data.length-1&&t.data.charAt(o)===ha?t.data.length:o:o,Vte=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,d9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,d9(!1,e.endContainer,e.endOffset)),t},Ute=e=>{let t=e;do Ht(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Wte=(e,t,o,a,l)=>{var m,p;const _=e.dom,A=(m=tO(_,a))!==null&&m!==void 0?m:_.getRoot();let $=_.getParent(a,_.isBlock);if(!$||!u9(_,$)){if($=$||A,!$.hasChildNodes()){const me=_.create(t);return nO(e,me),$.appendChild(me),o.setStart(me,0),o.setEnd(me,0),me}let q=a;for(;q&&q.parentNode!==$;)q=q.parentNode;let Y;for(;q&&!_.isBlock(q);)Y=q,q=q.previousSibling;const ee=(p=Y==null?void 0:Y.parentElement)===null||p===void 0?void 0:p.nodeName;if(Y&&ee&&e.schema.isValidChild(ee,t.toLowerCase())){const me=Y.parentNode,we=_.create(t);for(nO(e,we),me.insertBefore(we,Y),q=Y;q&&!_.isBlock(q);){const ge=q.nextSibling;we.appendChild(q),q=ge}o.setStart(a,l),o.setEnd(a,l)}}return a},Zte=(e,t)=>{t.normalize();const o=t.lastChild;(!o||Sn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},jte=(e,t)=>{const o=lE(e);return st(t)?!1:fe(o)?be(Yt.explode(o),t.nodeName.toLowerCase()):o},_W={insert:(e,t)=>{let o,a,l,m,p=!1;const _=e.dom,A=e.schema,$=A.getNonEmptyElements(),q=e.selection.getRng(),Y=nl(e),ee=$e.fromDom(q.startContainer),me=Fu(ee,q.startOffset),we=me.exists(It=>Ei(It)&&!ds(It)),ge=q.collapsed&&we,Ee=(It,wn)=>yW(e,o,qt,Bt,iE(e),It,wn),Ze=It=>{const wn=d9(It,o,a);if(Ht(o)&&(It?wn>0:wn<o.data.length))return!1;if((o.parentNode===qt||o===qt)&&p&&!It||It&&Sn(o)&&o===qt.firstChild)return!0;if(c9(o,"TABLE")||c9(o,"HR"))return p&&!It||!p&&It;const Rn=new ti(o,qt);Ht(o)&&(It&&wn===0?Rn.prev():!It&&wn===o.data.length&&Rn.next());let So;for(;So=Rn.current();){if(Sn(So)){if(!So.getAttribute("data-mce-bogus")){const No=So.nodeName.toLowerCase();if($[No]&&No!=="br")return!1}}else if(Ht(So)&&!Xl(So.data))return!1;It?Rn.prev():Rn.next()}return!0},et=()=>{let It;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&mn!=="HGROUP"?It=Ee(Y):It=Ee(),jte(e,m)&&u9(_,m)&&_.isEmpty(qt,void 0,{includeZwsp:!0})?It=_.split(m,qt):_.insertAfter(It,qt),ok(e,It),It};Ym(_,q).each(It=>{q.setStart(It.startContainer,It.startOffset),q.setEnd(It.endContainer,It.endOffset)}),o=q.startContainer,a=q.startOffset;const Xe=!!(t&&t.shiftKey),ft=!!(t&&t.ctrlKey);Sn(o)&&o.hasChildNodes()&&!ge&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&Ht(o)?a=o.data.length:a=0);const Bt=tO(_,o);if(!Bt||$te(e,o))return;Xe||(o=Wte(e,Y,q,o,a));let qt=_.getParent(o,_.isBlock)||_.getRoot();m=Oe(qt==null?void 0:qt.parentNode)?_.getParent(qt.parentNode,_.isBlock):null,l=qt?qt.nodeName.toUpperCase():"";const mn=m?m.nodeName.toUpperCase():"";if(mn==="LI"&&!ft){const It=m;qt=It,m=It.parentNode,l=mn}if(Sn(m)&&Nte(e,Xe,qt))return Ite(e,Ee,qt);if(/^(LI|DT|DD)$/.test(l)&&Sn(m)&&_.isEmpty(qt)){Mte(e,Ee,m,qt,Y);return}if(!ge&&(qt===e.getBody()||!u9(_,qt)))return;const _t=qt.parentNode;let pt;if(ge)pt=Ee(Y),me.fold(()=>{Ns(ee,$e.fromDom(pt))},It=>{vs(It,$e.fromDom(pt))}),e.selection.setCursorLocation(pt,0);else if(ap(qt))pt=nh(qt),_.isEmpty(qt)&&i9(qt),nO(e,pt),ok(e,pt);else if(Ze(!1))pt=et();else if(Ze(!0)&&_t){const It=vt.fromRangeStart(q),wn=Z1(It),Rn=$e.fromDom(qt),No=$v(Rn,It,e.schema)?R_(Rn,It,e.schema).bind(Lr=>Q.from(Lr.getNode())):Q.none();pt=_t.insertBefore(Ee(),qt);const _r=c9(qt,"HR")||wn?pt:No.getOr(qt);ok(e,_r)}else{const It=Vte(q).cloneRange();It.setEndAfter(qt);const wn=It.extractContents();Fte(wn),Ute(wn),pt=wn.firstChild,_.insertAfter(wn,qt),zte(_,$,pt),Zte(_,qt),_.isEmpty(qt)&&i9(qt),pt.normalize(),_.isEmpty(pt)?(_.remove(pt),et()):(nO(e,pt),ok(e,pt))}_.setAttrib(pt,"id",""),e.dispatch("NewBlock",{newBlock:pt})},fakeEventName:"insertParagraph"},Kte=(e,t,o)=>{const a=new ti(t,o);let l;const m=e.getNonEmptyElements();for(;l=a.next();)if(m[l.nodeName.toLowerCase()]||Ht(l)&&l.length>0)return!0;return!1},SW=(e,t,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),e.selection.setRng(a),Ju(e,a)},qte=(e,t)=>{const o=e.selection,a=e.dom,l=o.getRng();let m,p=!1;Ym(a,l).each(me=>{l.setStart(me.startContainer,me.startOffset),l.setEnd(me.endContainer,me.endOffset)});let _=l.startOffset,A=l.startContainer;if(Sn(A)&&A.hasChildNodes()){const me=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,me&&Ht(A)?_=A.data.length:_=0}let $=a.getParent(A,a.isBlock);const q=$&&$.parentNode?a.getParent($.parentNode,a.isBlock):null,Y=q?q.nodeName.toUpperCase():"",ee=!!(t&&t.ctrlKey);Y==="LI"&&!ee&&($=q),Ht(A)&&_>=A.data.length&&(Kte(e.schema,A,$||a.getRoot())||(m=a.create("br"),l.insertNode(m),l.setStartAfter(m),l.setEndAfter(m),p=!0)),m=a.create("br"),C1(a,l,m),SW(e,m,p),e.undoManager.add()},Gte=(e,t)=>{const o=$e.fromTag("br");vs($e.fromDom(t),o),e.undoManager.add()},Yte=(e,t)=>{Jte(e.getBody(),t)||rt($e.fromDom(t),$e.fromTag("br"));const o=$e.fromTag("br");rt($e.fromDom(t),o),SW(e,o.dom,!1),e.undoManager.add()},Xte=e=>as(e.getNode()),Jte=(e,t)=>Xte(vt.after(t))?!0:Hl(e,vt.after(t)).map(o=>as(o.getNode())).getOr(!1),kW=e=>e&&e.nodeName==="A"&&"href"in e,Qte=e=>e.fold(Xn,kW,kW,Xn),ene=e=>{const t=Lt(zv,e),o=vt.fromRangeStart(e.selection.getRng());return cg(t,e.getBody(),o).filter(Qte)},tne=(e,t)=>{t.fold(Mt,Lt(Gte,e),Lt(Yte,e),Mt)},EW={insert:(e,t)=>{const o=ene(e);o.isSome()?o.each(Lt(tne,e)):qte(e,t)},fakeEventName:"insertLineBreak"},AW=(e,t)=>a9(e).filter(o=>t.length>0&&Ar($e.fromDom(o),t)).isSome(),nne=e=>AW(e,eD(e)),one=e=>AW(e,tD(e)),Jd=Mo.generate([{br:[]},{block:[]},{none:[]}]),rne=(e,t)=>one(e),TW=e=>(t,o)=>Tte(t)===e,OW=(e,t)=>(o,a)=>Ate(o)===e.toUpperCase()===t,sne=e=>{const t=tO(e.dom,e.selection.getStart());return st(t)},oO=e=>OW("pre",e),ane=()=>OW("summary",!0),xL=e=>(t,o)=>sE(t)===e,ine=(e,t)=>nne(e),wL=(e,t)=>t,lne=e=>{const t=nl(e),o=tO(e.dom,e.selection.getStart());return Oe(o)&&e.schema.isValidChild(o.nodeName,t)},cne=e=>{const t=e.selection.getRng(),o=$e.fromDom(t.startContainer),l=Fu(o,t.startOffset).map(m=>Ei(m)&&!ds(m));return t.collapsed&&l.getOr(!0)},Qf=(e,t)=>(o,a)=>on(e,(m,p)=>m&&p(o,a),!0)?Q.some(t):Q.none(),une=(e,t)=>yP([Qf([rne],Jd.none()),Qf([oO(!0),sne],Jd.none()),Qf([ane()],Jd.br()),Qf([oO(!0),xL(!1),wL],Jd.br()),Qf([oO(!0),xL(!1)],Jd.block()),Qf([oO(!0),xL(!0),wL],Jd.block()),Qf([oO(!0),xL(!0)],Jd.br()),Qf([TW(!0),wL],Jd.br()),Qf([TW(!0)],Jd.block()),Qf([ine],Jd.br()),Qf([wL],Jd.br()),Qf([lne],Jd.block()),Qf([cne],Jd.block())],[e,!!(t&&t.shiftKey)]).getOr(Jd.none()),CL=(e,t,o)=>{t.selection.isCollapsed()||GN(t),!(Oe(o)&&bL(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Oe(o)&&eO(t,e.fakeEventName))},DW=(e,t)=>{const o=()=>CL(EW,e,t),a=()=>CL(_W,e,t),l=une(e,t);switch(aE(e)){case"linebreak":l.fold(o,o,Mt);break;case"block":l.fold(a,a,Mt);break;case"invert":l.fold(a,o,Mt);break;default:l.fold(o,a,Mt);break}},RW=qa(),dne=RW.os.isiOS()&&RW.browser.isSafari(),NW=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),W7(e.undoManager),e.undoManager.transact(()=>{DW(e,t)}))},fne=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Ht(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=t.data.charAt(e.startOffset-1);return o.test(a)}else return!1},mne=e=>{let t=Q.none();const o=l=>{t=Q.some(l.selection.getBookmark()),l.undoManager.add()},a=(l,m)=>{l.undoManager.undo(),t.fold(Mt,p=>l.selection.moveToBookmark(p)),NW(l,m),t=Q.none()};e.on("keydown",l=>{l.keyCode===cn.ENTER&&(dne&&fne(e.selection.getRng())?o(e):NW(e,l))}),e.on("keyup",l=>{l.keyCode===cn.ENTER&&t.each(()=>a(e,l))})},gne=(e,t,o)=>{const a=Eo.os.isMacOS()||Eo.os.isiOS();jp([{keyCode:cn.END,action:io(Xd,e,!0)},{keyCode:cn.HOME,action:io(Xd,e,!1)},...a?[]:[{keyCode:cn.HOME,action:io(a0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:cn.END,action:io(a0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:cn.END,action:io(q4,e,!0)},{keyCode:cn.HOME,action:io(q4,e,!1)},{keyCode:cn.END,action:io(kw,e,!0,t)},{keyCode:cn.HOME,action:io(kw,e,!1,t)}],o).each(l=>{o.preventDefault()})},hne=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||gne(e,t,o)})},pne=e=>{e.on("input",t=>{t.isComposing||iF(e)})},bne=qa(),vne=(e,t,o)=>{jp([{keyCode:cn.PAGE_UP,action:io(kw,e,!1,t)},{keyCode:cn.PAGE_DOWN,action:io(kw,e,!0,t)}],o)},IW=e=>e.stopImmediatePropagation(),PW=e=>e.keyCode===cn.PAGE_UP||e.keyCode===cn.PAGE_DOWN,LW=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",IW,!0):!o&&e.get()&&t.off("NodeChange",IW),e.set(o)},yne=(e,t)=>{if(bne.os.isMacOS())return;const o=_a(!1);e.on("keydown",a=>{PW(a)&&LW(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||vne(e,t,a),PW(a)&&o.get()&&(LW(o,e,!1),e.nodeChanged())})},xne=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ae(t.getTargetRanges(),o=>!sN(e.dom,o)))&&t.preventDefault()})},BW=(e,t)=>{const o=t.container(),a=t.offset();return Ht(o)?(o.insertData(a,e),Q.some(vt(o,a+e.length))):WC(t).map(l=>{const m=$e.fromText(e);return t.isAtEnd()?rt(l,m):vs(l,m),vt(m.dom,e.length)})},MW=Lt(BW,Ca),FW=Lt(BW," "),wne=(e,t,o)=>FA(e,t,o)?MW(t):FW(t),Cne=e=>t=>t.fold(o=>Lc(e.dom,vt.before(o)),o=>Kn(o),o=>Gu(o),o=>Hl(e.dom,vt.after(o))),_ne=(e,t,o)=>a=>FA(e,a,o)?MW(t):FW(t),$W=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},Sne=(e,t)=>e.isEditable(e.getParent(t,"summary")),kne=e=>{const t=vt.fromRangeStart(e.selection.getRng()),o=$e.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=Lt(zv,e),l=vt.fromRangeStart(e.selection.getRng());return cg(a,e.getBody(),l).bind(Cne(o)).map(m=>()=>_ne(o,t,e.schema)(m).each($W(e)))}else return Q.none()},Ene=e=>{const t=()=>{const o=$e.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=vt.fromRangeStart(e.selection.getRng());wne(o,a,e.schema).each($W(e))};return Og(Eo.browser.isFirefox()&&e.selection.isEditable()&&Sne(e.dom,e.selection.getRng().startContainer),t)},Ane=(e,t)=>{tk([{keyCode:cn.SPACEBAR,action:io(kne,e)},{keyCode:cn.SPACEBAR,action:io(Ene,e)}],t).each(o=>{t.preventDefault(),bL(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),eO(e,"insertText",{data:" "}))})},Tne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Ane(e,t)})},One=e=>kD(e)?[{keyCode:cn.TAB,action:io(FU,e,!0)},{keyCode:cn.TAB,shiftKey:!0,action:io(FU,e,!1)}]:[],Dne=(e,t)=>{jp([...One(e)],t).each(o=>{t.preventDefault()})},Rne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Dne(e,t)})},Nne=e=>{if(e.addShortcut("Meta+P","","mcePrint"),cte(e),lg(e))return _a(null);{const t=ZP(e);return xne(e),s0(e),ZQ(e,t),kte(e,t),mne(e),Tne(e),pne(e),Rne(e),hne(e,t),yne(e,t),t}};class Ine{constructor(t){this.lastPath=[],this.editor=t;let o;const a=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const m=t.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(l.type==="nodechange"||!S2(p,o))&&t.dispatch("SelectionChange"),o=p}),t.on("contextmenu",()=>{$1(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&I1(t)&&!a.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&I1(t)&&(t.selection.getNode().nodeName==="IMG"?Fc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!zM(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();a=o.getStart(!0)||l,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,l))&&(a=l);const m=[];this.editor.dom.getParent(a,p=>p===l?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...t,element:a,parents:m})}}isSameElementPath(t){let o;const a=this.editor,l=Fr(a.dom.getParents(t,gn,a.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const HW=Ii("image"),Pne=e=>{const t=e;return Q.from(t[HW])},Lne=(e,t)=>{const o=e;o[HW]=t},f9=Ii("event"),Bne=e=>{const t=e;return Q.from(t[f9])},_L=e=>t=>{const o=t;o[f9]=e},Mne=(e,t)=>_L(t)(e),zW=_L(0),Fne=_L(2),$ne=_L(1),Hne=(e=>t=>{const o=t;return Q.from(o[f9]).exists(a=>a===e)})(0),zne=()=>Object.freeze({length:0,item:e=>null}),m9=Ii("mode"),Vne=e=>{const t=e;return Q.from(t[m9])},SL=e=>t=>{const o=t;o[m9]=e},VW=(e,t)=>SL(t)(e),UW=SL(0),g9=SL(2),Une=SL(1),WW=e=>t=>{const o=t;return Q.from(o[m9]).exists(a=>a===e)},rk=WW(0),ZW=WW(1),Wne=(e,t)=>({...t,get length(){return t.length},add:(o,a)=>{if(rk(e))if(fe(o)){if(!je(a))return t.add(o,a)}else return t.add(o);return null},remove:o=>{rk(e)&&t.remove(o)},clear:()=>{rk(e)&&t.clear()}}),Zne=["none","copy","link","move"],jne=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],h9=()=>{const e=new window.DataTransfer;let t="move",o="all";const a={get dropEffect(){return t},set dropEffect(l){be(Zne,l)&&(t=l)},get effectAllowed(){return o},set effectAllowed(l){Hne(a)&&be(jne,l)&&(o=l)},get items(){return Wne(a,e.items)},get files(){return ZW(a)?zne():e.files},get types(){return e.types},setDragImage:(l,m,p)=>{rk(a)&&(Lne(a,{image:l,x:m,y:p}),e.setDragImage(l,m,p))},getData:l=>ZW(a)?"":e.getData(l),setData:(l,m)=>{rk(a)&&e.setData(l,m)},clearData:l=>{rk(a)&&e.clearData(l)}};return UW(a),a},Kne=e=>{const t=h9(),o=Vne(e);return g9(e),zW(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Pne(e).each(a=>t.setDragImage(a.image,a.x,a.y)),pe(e.types,a=>{a!=="Files"&&t.setData(a,e.getData(a))}),pe(e.files,a=>t.items.add(a)),Bne(e).each(a=>{Mne(t,a)}),o.each(a=>{VW(e,a),VW(t,a)}),t},qne=e=>{const t=e.getData("text/html");return t===""?Q.none():Q.some(t)},jW=(e,t)=>e.setData("text/html",t),KW="x-tinymce/html",kL=ct(KW),p9="<!-- "+KW+" -->",Gne=e=>p9+e,Yne=e=>e.replace(p9,""),qW=e=>e.indexOf(p9)!==-1,Xne=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Jne=(e,t)=>{let o="<"+e;const a=ll(t,(l,m)=>m+'="'+Ug.encodeAllRaw(l)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},Qne=(e,t,o)=>{const a=e.split(/\n\n/),l=Jne(t,o),m="</"+t+">",p=Fe(a,A=>A.split(/\n/).join("<br />")),_=A=>l+A+m;return p.length===1?p[0]:Fe(p,_).join("")},GW="%MCEPASTEBIN%",eoe=(e,t)=>{const{dom:o,selection:a}=e,l=e.getBody();t.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},GW);Eo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),a.select(m,!0)},toe=(e,t)=>{const o=e.dom;if(b9(e)){let a;const l=t.get();for(;a=b9(e);)o.remove(a),o.unbind(a);l&&e.selection.setRng(l)}t.set(null)},b9=e=>e.dom.get("mcepastebin"),noe=e=>Oe(e)&&e.id==="mcepastebin",ooe=e=>{const t=e.dom,o=(p,_)=>{p.appendChild(_),t.remove(_,!0)},[a,...l]=We(e.getBody().childNodes,noe);pe(l,p=>{o(a,p)});const m=t.select("div[id=mcepastebin]",a);for(let p=m.length-1;p>=0;p--){const _=t.create("div");a.insertBefore(_,m[p]),o(_,m[p])}return a?a.innerHTML:""},YW=e=>e===GW,roe=e=>{const t=_a(null);return{create:()=>eoe(e,t),remove:()=>toe(e,t),getEl:()=>b9(e),getHtml:()=>ooe(e),getLastRng:t.get}},XW=(e,t)=>(Yt.each(t,o=>{Se(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),soe=e=>{const t=Oc(),o=oy({},t);let a="";const l=t.getVoidElements(),m=Yt.makeMap("script noscript style textarea video audio iframe object"," "),p=t.getBlockElements(),_=A=>{const $=A.name,q=A;if($==="br"){a+=`
`;return}if($!=="wbr"){if(l[$]&&(a+=" "),m[$]){a+=" ";return}if(A.type===3&&(a+=A.value),!(A.name in t.getVoidElements())){let Y=A.firstChild;if(Y)do _(Y);while(Y=Y.next)}p[$]&&q.next&&(a+=`
`,$==="p"&&(a+=`
`))}};return e=XW(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),a},JW=e=>(e=XW(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,l)=>!a&&!l?" ":Ca],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),aoe=e=>{let t=0;return()=>e+t++},ioe=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Yt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},loe=(e,t)=>{const o=oy({sanitize:CD(e),sandbox_iframes:wE(e),sandbox_iframes_exclusions:MC(e),convert_unsafe_embeds:AD(e)},e.schema);o.addNodeFilter("meta",l=>{Yt.each(l,m=>{m.remove()})});const a=o.parse(t,{forced_root_block:!1,isRootContent:!0});return gh({validate:!0},e.schema).serialize(a)},QW=(e,t)=>({content:e,cancelled:t}),coe=(e,t,o)=>{const a=e.dom.create("div",{style:"display:none"},t),l=i_(e,a,o);return QW(l.node.innerHTML,l.isDefaultPrevented())},uoe=(e,t,o)=>{const a=x2(e,t,o),l=loe(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?coe(e,l,o):QW(l,a.isDefaultPrevented())},doe=(e,t,o)=>uoe(e,t,o),v9=(e,t)=>(e.insertContent(t,{merge:KM(e),paste:!0}),!0),y9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),foe=(e,t)=>y9(t)&&Ae(xE(e),o=>ke(t.toLowerCase(),`.${o.toLowerCase()}`)),moe=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),goe=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),hoe=(e,t,o)=>!e.selection.isCollapsed()&&y9(t)?goe(e,t,o):!1,poe=(e,t,o)=>foe(e,t)?moe(e,t,o):!1,boe=(e,t)=>{Yt.each([hoe,poe,v9],o=>!o(e,t,v9))},voe=(e,t,o)=>{o||!vv(e)?v9(e,t):boe(e,t)},yoe=aoe("mceclip"),xoe=e=>{const t=h9();return jW(t,e),g9(t),t},eZ=(e,t,o,a,l)=>{const m=doe(e,t,o);if(!m.cancelled){const p=m.content,_=()=>voe(e,p,a);l?bL(e,"insertFromPaste",{dataTransfer:xoe(p)}).isDefaultPrevented()||(_(),eO(e,"insertFromPaste")):_()}},EL=(e,t,o,a)=>{const l=o||qW(t);eZ(e,Yne(t),l,!1,a)},x9=(e,t,o)=>{const a=e.dom.encode(t).replace(/\r\n/g,`
`),l=Db(a,yD(e)),m=Qne(l,nl(e),Wx(e));eZ(e,m,!1,!0,o)},tZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{t[a]=e.getData(a)}catch{t[a]=""}}return t},xy=(e,t)=>t in e&&e[t].length>0,nZ=e=>xy(e,"text/html")||xy(e,"text/plain"),woe=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Oe(o)?e.dom.encode(o[1]):void 0},Coe=(e,t,o,a)=>{const l=yoe(),m=ih(e)&&Oe(o.name),p=m?woe(e,o.name):l,_=m?o.name:void 0,A=t.create(l,o,a,p,_);return t.add(A),A},_oe=(e,t)=>{yS(t.uri).each(({data:o,type:a,base64Encoded:l})=>{const m=l?o:btoa(o),p=t.file,_=e.editorUpload.blobCache,A=_.getByData(m,a),$=A??Coe(e,_,p,m);EL(e,`<img src="${$.blobUri()}">`,!1,!0)})},Soe=e=>e.type==="paste",koe=e=>Promise.all(Fe(e,t=>G5(t).then(o=>({file:t,uri:o})))),Eoe=e=>{const t=xE(e);return o=>Jr(o.type,"image/")&&Ae(t,a=>ioe(a)===o.type)},Aoe=(e,t)=>{const o=t.items?_o(bo(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],a=t.files?bo(t.files):[];return We(o.length>0?o:a,Eoe(e))},oZ=(e,t,o)=>{const a=Soe(t)?t.clipboardData:t.dataTransfer;if(Zm(e)&&a){const l=Aoe(e,a);if(l.length>0)return t.preventDefault(),koe(l).then(m=>{o&&e.selection.setRng(o),pe(m,p=>{_oe(e,p)})}),!0}return!1},Toe=e=>{var t,o;return Eo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Ooe=e=>cn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,w9=(e,t,o,a,l)=>{let m=JW(o);const p=xy(t,kL())||qW(o),_=!p&&Xne(m),A=y9(m);(YW(m)||!m.length||_&&!A)&&(a=!0),(a||A)&&(xy(t,"text/plain")&&_?m=t["text/plain"]:m=soe(m)),!YW(m)&&(a?x9(e,m,l):EL(e,m,p,l))},Doe=(e,t,o)=>{let a;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Ooe(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Toe(m))return;const p=o.get()==="text"||a;a=!1;const _=tZ(m.clipboardData);!nZ(_)&&oZ(e,m,l())||(xy(_,"text/html")?(m.preventDefault(),w9(e,_,_["text/html"],p,!0)):xy(_,"text/plain")&&xy(_,"text/uri-list")?(m.preventDefault(),w9(e,_,_["text/plain"],p,!0)):(t.create(),Fc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),w9(e,_,A,p,!1)},0)))})},Roe=e=>{const t=l=>Jr(l,"webkit-fake-url"),o=l=>Jr(l,"data:"),a=l=>{var m;return((m=l.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(l,m,p)=>{if(!Zm(e)&&a(p))for(const _ of l){const A=_.attr("src");fe(A)&&!_.attr("data-mce-object")&&A!==Eo.transparentSrc&&(t(A)||!qM(e)&&o(A))&&_.remove()}})},Noe=(e,t,o)=>{Doe(e,t,o),Roe(e)},Ioe=(e,t)=>{t.get()==="text"?(t.set("html"),l_(e,!1)):(t.set("text"),l_(e,!0)),e.focus()},Poe=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Ioe(e,t)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&EL(e,a.html,a.internal,!1),a.text&&x9(e,a.text,!1)})},Loe=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(kL(),t),!0}catch{return!1}else return!1},rZ=(e,t,o,a)=>{Loe(e.clipboardData,t.html,t.text)?(e.preventDefault(),a()):o(t.html,a)},sZ=e=>(t,o)=>{const{dom:a,selection:l}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},t);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),a.add(e.getBody(),m);const _=l.getRng();p.focus();const A=a.createRng();A.selectNodeContents(p),l.setRng(A),Fc.setEditorTimeout(e,()=>{l.setRng(_),a.remove(m),o()},0)},aZ=e=>({html:Gne(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Boe=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),iZ=e=>!e.selection.isCollapsed()||Boe(e),Moe=e=>t=>{!t.isDefaultPrevented()&&iZ(e)&&e.selection.isEditable()&&rZ(t,aZ(e),sZ(e),()=>{if(Eo.browser.isChromium()||Eo.browser.isFirefox()){const o=e.selection.getRng();Fc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Foe=e=>t=>{!t.isDefaultPrevented()&&iZ(e)&&rZ(t,aZ(e),sZ(e),Mt)},$oe=e=>{e.on("cut",Moe(e)),e.on("copy",Foe(e))},lZ=(e,t)=>{var o,a;return _p.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(a=t.clientY)!==null&&a!==void 0?a:0,e.getDoc())},Hoe=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},cZ=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},zoe=e=>Ae(e.files,t=>/^image\//.test(t.type)),Voe=(e,t,o,a)=>{const l=e.getParent(o,p=>Af(t,p));if(!Ue(e.getParent(o,"summary")))return!0;if(l&&oo(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!Ue(p.querySelector(l.nodeName.toLowerCase()))}else return!1},Uoe=e=>{e.on("input",t=>{const o=a=>Ue(a.querySelector("summary"));if(t.inputType==="deleteByDrag"){const a=We(e.dom.select("details"),o);pe(a,l=>{as(l.firstChild)&&l.firstChild.remove();const m=e.dom.create("summary");m.appendChild(Fd().dom),l.prepend(m)})}})},Woe=(e,t)=>{Wf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Zm(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&zoe(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=lZ(e,o);if(st(a))return;const l=tZ(o.dataTransfer),m=xy(l,kL());if((!nZ(l)||Hoe(l))&&oZ(e,o,a))return;const p=l[kL()],_=p||l["text/html"]||l["text/plain"],A=Voe(e.dom,e.schema,a.startContainer,l),$=t.get();$&&!A||_&&(o.preventDefault(),Fc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||$&&A)&&e.execCommand("Delete"),cZ(e,a);const q=JW(_);l["text/html"]?EL(e,q,m,!0):x9(e,q,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{Zm(e)&&!t.get()&&(o.preventDefault(),cZ(e,lZ(e,o))),o.type==="dragend"&&t.set(!1)}),Uoe(e)},Zoe=e=>{const t=l=>m=>{l(e,m)},o=jM(e);Be(o)&&e.on("PastePreProcess",t(o));const a=qx(e);Be(a)&&e.on("PastePostProcess",t(a))},joe=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},Koe=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,uZ=e=>Yt.trim(e).replace(Koe,Wb).toLowerCase(),qoe=(e,t,o)=>{const a=vD(e);if(o||a==="all"||!pE(e))return t;const l=a?a.split(/[, ]/):[];if(l&&a!=="none"){const m=e.dom,p=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,$,q)=>{const Y=m.parseStyle(m.decode($)),ee={};for(let we=0;we<l.length;we++){const ge=Y[l[we]];let Ee=ge,Ze=m.getStyle(p,l[we],!0);/color/.test(l[we])&&(Ee=uZ(Ee),Ze=uZ(Ze)),Ze!==Ee&&(ee[l[we]]=ge)}const me=m.serializeStyle(ee,"span");return me?A+' style="'+me+'"'+q:A+q})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,_,A)=>p+' style="'+_+'"'+A),t},Goe=e=>{(Eo.browser.isChromium()||Eo.browser.isSafari())&&joe(e,qoe)},Yoe=e=>{const t=_a(!1),o=_a(yv(e)?"text":"html"),a=roe(e);Goe(e),Poe(e,o),Zoe(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{$oe(e),Woe(e,t),Noe(e,a,o)})},Xoe=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Joe=e=>{e.parser.addNodeFilter("details",t=>{const o=BC(e);pe(t,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=ED(e);pe(t,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},Qoe=e=>{Xoe(e),Joe(e)},ere=as,dZ=Ht,tre=e=>lo(e.dom),nre=e=>kc(e.dom),fZ=e=>t=>Vo($e.fromDom(e),t),ore=(e,t,o)=>aa($e.fromDom(e),a=>nre(a)||o.isBlock(zo(a)),fZ(t)).getOr($e.fromDom(t)).dom,mZ=(e,t)=>aa($e.fromDom(e),tre,fZ(t)),gZ=(e,t,o)=>{const a=new ti(e,t),l=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let p=o?e:l();p&&!ere(p);p=l())uu(p)&&(m=p);return m},rre=(e,t,o)=>{const l=vt.fromRangeStart(e).getNode(),m=ore(l,t,o),p=gZ(l,m,!1),_=gZ(l,m,!0),A=document.createRange();return mZ(p,m).fold(()=>{dZ(p)?A.setStart(p,0):A.setStartBefore(p)},$=>A.setStartBefore($.dom)),mZ(_,m).fold(()=>{dZ(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},$=>A.setEndAfter($.dom)),A},sre=e=>{const t=rre(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(X_(t))},are=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),sre(e))})};var sk;(function(e){e.Before="before",e.After="after"})(sk||(sk={}));const ire=(e,t)=>Math.abs(e.left-t),lre=(e,t)=>Math.abs(e.right-t),cre=(e,t)=>e>=t.top&&e<=t.bottom,ure=(e,t)=>e.top<t.bottom&&e.bottom>t.top,dre=(e,t)=>{const o=Ix(e,t)/Math.min(e.height,t.height);return ure(e,t)&&o>.5},fre=(e,t)=>{const o=We(e,a=>cre(t,a));return ip(o).fold(()=>[[],e],a=>{const{pass:l,fail:m}=De(e,p=>dre(p,a));return[l,m]})},mre=(e,t)=>({node:e.node,position:ire(e,t)<lre(e,t)?sk.Before:sk.After}),gre=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),C9=(e,t,o,a)=>{const l=Y=>uu(Y.node)?Q.some(Y):Sn(Y.node)?C9(bo(Y.node.childNodes),t,o,!1):Q.none(),m=(Y,ee,me)=>l(ee).filter(we=>Math.abs(me(Y,t,o)-me(we,t,o))<2&&Ht(we.node)),p=(Y,ee)=>{const me=ar(Y,(we,ge)=>ee(we,t,o)-ee(ge,t,o));return Xs(me,l).map(we=>a&&!Ht(we.node)&&me.length>1?m(we,me[1],ee).getOr(we):we)},[_,A]=fre(MP(e),o),{pass:$,fail:q}=De(A,Y=>Y.top<o);return p(_,gre).orThunk(()=>p(q,h1)).orThunk(()=>p($,h1))},hre=(e,t,o,a)=>{const l=(m,p)=>{const _=$=>Sn($)&&$.classList.contains("mce-drag-container"),A=We(m.dom.childNodes,Je(_));return p.fold(()=>C9(A,o,a,!0),$=>{const q=We(A,Y=>Y!==$.dom);return C9(q,o,a,!0)}).orThunk(()=>(Vo(m,e)?Q.none():bf(m)).bind(q=>l(q,Q.some(m))))};return l(t,Q.none())},pre=(e,t,o)=>{const a=$e.fromDom(e),l=Gl(a),p=$e.fromPoint(l,t,o).filter(_=>Ja(a,_)).getOr(a);return hre(a,p,t,o)},hZ=(e,t,o)=>pre(e,t,o).filter(a=>Jx(a.node)).map(a=>mre(a,t)),pZ=e=>{var t,o;const a=e.getBoundingClientRect(),l=e.ownerDocument,m=l.documentElement,p=l.defaultView;return{top:a.top+((t=p==null?void 0:p.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},bre=e=>e.inline?pZ(e.getBody()):{left:0,top:0},vre=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},yre=e=>{const t=e.getBody(),o=e.getDoc().documentElement,a={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?a:l},xre=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=pZ(e.getContentAreaContainer()),a=yre(e);return{left:t.pageX-o.left+a.left,top:t.pageY-o.top+a.top}}return{left:t.pageX,top:t.pageY}},wre=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),Cre=(e,t)=>wre(bre(e),vre(e),xre(e,t)),bZ=e=>({target:e,srcElement:e}),_re=(e,t,o,a)=>({...t,dataTransfer:a,type:e,...bZ(o)}),Sre=(e,t,o)=>{const a=Tt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:Mt,stopImmediatePropagation:Mt,stopPropagation:Mt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...bZ(t)}},kre=(e,t)=>{const o=Kne(e);return t==="dragstart"?(zW(o),UW(o)):t==="drop"?(Fne(o),g9(o)):($ne(o),Une(o)),o},Ere=(e,t,o,a)=>{const l=kre(o,e);return je(a)?Sre(e,t,l):_re(e,a,t,l)},AL=32,Are=100,TL=8,OL=16,vZ=lo,Tre=Bx(vZ,kc),Ore=(e,t,o)=>vZ(o)&&o!==t&&e.isEditable(o.parentElement),Dre=(e,t,o)=>st(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Rre=(e,t,o,a)=>{const l=e.dom,m=t.cloneNode(!0);l.setStyles(m,{width:o,height:a}),l.setAttrib(m,"data-mce-selected",null);const p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),l.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Nre=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},DL=(e,t)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+t,behavior:"smooth"})},yZ=DL("left",-AL),xZ=DL("left",AL),wZ=DL("top",-AL),CZ=DL("top",AL),Ire=(e,t,o,a,l,m,p,_,A,$,q,Y)=>{let ee=0,me=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>l&&(ee=t.pageX+o-l),t.pageY+a>m&&(me=t.pageY+a-m),e.style.width=o-ee+"px",e.style.height=a-me+"px";const we=A.clientHeight,ge=A.clientWidth,Ee=p+A.getBoundingClientRect().top,Ze=_+A.getBoundingClientRect().left;q.on(et=>{et.intervalId.clear(),et.dragging&&Y&&(p+TL>=we?et.intervalId.set(CZ($)):p-TL<=0?et.intervalId.set(wZ($)):_+TL>=ge?et.intervalId.set(xZ($)):_-TL<=0?et.intervalId.set(yZ($)):Ee+OL>=window.innerHeight?et.intervalId.set(CZ(window)):Ee-OL<=0?et.intervalId.set(wZ(window)):Ze+OL>=window.innerWidth?et.intervalId.set(xZ(window)):Ze-OL<=0&&et.intervalId.set(yZ(window)))})},_Z=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Pre=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);_Z(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Nc($e.fromDom(o))},Lre=e=>e.button===0,Bre=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Mre=(e,t)=>o=>{if(Lre(o)){const a=vn(t.dom.getParents(o.target),Tre).getOr(null);if(Oe(a)&&Ore(t.dom,t.getBody(),a)){const l=t.dom.getPos(a),m=t.getBody(),p=t.getDoc().documentElement;e.set({element:a,dataTransfer:h9(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:a.offsetWidth,height:a.offsetHeight,ghost:Rre(t,a,a.offsetWidth,a.offsetHeight),intervalId:Ec(Are)})}}},Fre=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),hZ(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),a=>{const l=e._selectionOverrides.showCaret(1,a.node,a.position===sk.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,o)})},rO=(e,t,o,a,l)=>{t==="dragstart"&&jW(a,e.dom.getOuterHTML(o));const m=Ere(t,o,a,l);return e.dispatch(t,m)},$re=(e,t)=>{const o=Jg((l,m)=>Fre(t,l,m),0);t.on("remove",o.cancel);const a=e;return l=>e.on(m=>{const p=Math.max(Math.abs(l.screenX-m.screenX),Math.abs(l.screenY-m.screenY));if(!m.dragging&&p>10){const _=rO(t,"dragstart",m.element,m.dataTransfer,l);if(Oe(_.dataTransfer)&&(m.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const _=l.currentTarget===t.getDoc().documentElement,A=Bre(m,Cre(t,l));Nre(m.ghost,t.getBody()),Ire(m.ghost,A,m.width,m.height,m.maxX,m.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),a,_),o.throttle(l.clientX,l.clientY)}})},Hre=e=>{const t=e.getSel();if(Oe(t)){const a=t.getRangeAt(0).startContainer;return Ht(a)?a.parentNode:a}else return null},zre=(e,t)=>o=>{e.on(a=>{var l;if(a.intervalId.clear(),a.dragging){if(Dre(t,Hre(t.selection),a.element)){const m=(l=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:t.getBody();rO(t,"drop",m,a.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Pre(t.dom,a.element),qne(a.dataTransfer).each(_=>t.insertContent(_)),t._selectionOverrides.hideFakeCaret()})}rO(t,"dragend",t.getBody(),a.dataTransfer,o)}}),kZ(e)},SZ=(e,t,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>rO(t,"dragend",a.element,a.dataTransfer),l=>rO(t,"dragend",a.element,a.dataTransfer,l))}),kZ(e)},Vre=(e,t)=>o=>SZ(e,t,Q.some(o)),kZ=e=>{e.on(t=>{t.intervalId.clear(),_Z(t.ghost)}),e.clear()},Ure=e=>{const t=Sa(),o=Hr.DOM,a=document,l=Mre(t,e),m=$re(t,e),p=zre(t,e),_=Vre(t,e);e.on("mousedown",l),e.on("mousemove",m),e.on("mouseup",p),o.bind(a,"mousemove",m),o.bind(a,"mouseup",_),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===cn.ESC&&SZ(t,e,Q.none())})},Wre=e=>{const t=l=>{if(!l.isDefaultPrevented()){const m=l.dataTransfer;m&&(be(m.types,"Files")||m.files.length>0)&&(l.preventDefault(),l.type==="drop"&&$S(e,"Dropped file type is not supported"))}},o=l=>{x_(e,l.target)&&t(l)},a=()=>{const l=Hr.DOM,m=e.dom,p=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];pe(A,$=>{l.bind(p,$,o),m.bind(_,$,t)}),e.on("remove",()=>{pe(A,$=>{l.unbind(p,$,o),m.unbind(_,$,t)})})};e.on("init",()=>{Fc.setEditorTimeout(e,a,0)})},Zre=e=>{Ure(e),PC(e)&&Wre(e)},jre=e=>{const t=Jg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=US(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Kre=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Ct(o)){const a=od(e.getBody(),o),l=lo(a)?a:o;e.selection.getNode()!==l&&yw(e,l).each(m=>e.selection.setRng(m))}})})},sO=lo,EZ=(e,t)=>od(e.getBody(),t),qre=e=>{const t=e.selection,o=e.dom,a=e.getBody(),l=PD(e,a,o.isBlock,()=>H1(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let _;const A=mn=>Oe(mn)&&o.hasClass(mn,"mce-offscreen-selection"),$=mn=>mn!==a&&(sO(mn)||Ct(mn))&&o.isChildOf(mn,a)&&o.isEditable(mn.parentNode),q=mn=>{mn&&t.setRng(mn)},Y=(mn,_t,pt,It=!0)=>e.dispatch("ShowCaret",{target:_t,direction:mn,before:pt}).isDefaultPrevented()?null:(It&&t.scrollIntoView(_t,mn===-1),l.show(pt,_t)),ee=mn=>{mn.hasAttribute("data-mce-caret")&&(nh(mn),t.scrollIntoView(mn))},me=()=>{e.on("click",_t=>{o.isEditable(_t.target)||(_t.preventDefault(),e.focus())}),e.on("blur NewBlock",ft),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",_t=>{const pt=_t.target,It=EZ(e,pt);sO(It)?(_t.preventDefault(),yw(e,It).each(Xe)):$(pt)&&yw(e,pt).each(Xe)},!0),e.on("mousedown",_t=>{const pt=_t.target;if(pt!==a&&pt.nodeName!=="HTML"&&!o.isChildOf(pt,a)||!T$(e,_t.clientX,_t.clientY))return;ft(),qt();const It=EZ(e,pt);sO(It)?(_t.preventDefault(),yw(e,It).each(Xe)):hZ(a,_t.clientX,_t.clientY).each(wn=>{_t.preventDefault();const Rn=Y(1,wn.node,wn.position===sk.Before,!1);q(Rn),ru(It)?It.focus():e.getBody().focus()})}),e.on("keypress",_t=>{cn.modifierPressed(_t)||sO(t.getNode())&&_t.preventDefault()}),e.on("GetSelectionRange",_t=>{let pt=_t.range;if(_){if(!_.parentNode){_=null;return}pt=pt.cloneRange(),pt.selectNode(_),_t.range=pt}}),e.on("SetSelectionRange",_t=>{_t.range=Ee(_t.range);const pt=Xe(_t.range,_t.forward);pt&&(_t.range=pt)});const mn=_t=>Sn(_t)&&_t.id==="mcepastebin";e.on("AfterSetSelectionRange",_t=>{const pt=_t.range,It=pt.startContainer.parentElement;!ge(pt)&&!mn(It)&&qt(),A(It)||ft()}),Zre(e),jre(e),Kre(e)},we=mn=>$l(mn)||av(mn)||Hd(mn),ge=mn=>we(mn.startContainer)||we(mn.endContainer),Ee=mn=>{const _t=e.schema.getVoidElements(),pt=o.createRng(),It=mn.startContainer,wn=mn.startOffset,Rn=mn.endContainer,So=mn.endOffset;return oo(_t,It.nodeName.toLowerCase())?wn===0?pt.setStartBefore(It):pt.setStartAfter(It):pt.setStart(It,wn),oo(_t,Rn.nodeName.toLowerCase())?So===0?pt.setEndBefore(Rn):pt.setEndAfter(Rn):pt.setEnd(Rn,So),pt},Ze=(mn,_t)=>{const pt=$e.fromDom(e.getBody()),It=e.getDoc(),wn=Ot(pt,"#"+m).getOrThunk(()=>{const No=$e.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',It);return fa(No,"id",m),Ns(pt,No),No}),Rn=o.createRng();Zr(wn),js(wn,[$e.fromText(Ca,It),$e.fromDom(_t),$e.fromText(Ca,It)]),Rn.setStart(wn.dom.firstChild,1),Rn.setEnd(wn.dom.lastChild,0),Bo(wn,{top:o.getPos(mn,e.getBody()).y+"px"}),cA(wn);const So=t.getSel();return So&&(So.removeAllRanges(),So.addRange(Rn)),Rn},et=mn=>{const _t=mn.cloneNode(!0),pt=e.dispatch("ObjectSelected",{target:mn,targetClone:_t});if(pt.isDefaultPrevented())return null;const It=Ze(mn,pt.targetClone),wn=$e.fromDom(mn);return pe(ia($e.fromDom(e.getBody()),`*[${p}]`),Rn=>{Vo(wn,Rn)||Co(Rn,p)}),o.getAttrib(mn,p)||mn.setAttribute(p,"1"),_=mn,qt(),It},Xe=(mn,_t)=>{if(!mn)return null;if(mn.collapsed){if(!ge(mn)){const Rn=_t?1:-1,So=n2(Rn,a,mn),No=So.getNode(!_t);if(Oe(No)){if(Jx(No))return Y(Rn,No,_t?!So.isAtEnd():!1,!1);if($m(No)&&lo(No.nextSibling)){const Lr=o.createRng();return Lr.setStart(No,0),Lr.setEnd(No,0),Lr}}const _r=So.getNode(_t);if(Oe(_r)){if(Jx(_r))return Y(Rn,_r,_t?!1:!So.isAtEnd(),!1);if($m(_r)&&lo(_r.previousSibling)){const Lr=o.createRng();return Lr.setStart(_r,1),Lr.setEnd(_r,1),Lr}}}return null}let pt=mn.startContainer,It=mn.startOffset;const wn=mn.endOffset;if(Ht(pt)&&It===0&&sO(pt.parentNode)&&(pt=pt.parentNode,It=o.nodeIndex(pt),pt=pt.parentNode),!Sn(pt))return null;if(wn===It+1&&pt===mn.endContainer){const Rn=pt.childNodes[It];if($(Rn))return et(Rn)}return null},ft=()=>{_&&_.removeAttribute(p),Ot($e.fromDom(e.getBody()),"#"+m).each(Cr),_=null},Bt=()=>{l.destroy(),_=null},qt=()=>{l.hide()};return lg(e)||me(),{showCaret:Y,showBlockCaretContainer:ee,hideFakeCaret:qt,destroy:Bt}},Gre=(e,t)=>{let o=t;for(let a=e.previousSibling;Ht(a);a=a.previousSibling)o+=a.data.length;return o},AZ=(e,t,o,a,l)=>{if(Ht(o)&&(a<0||a>o.data.length))return[];const m=l&&Ht(o)?[Gre(o,a)]:[a];let p=o;for(;p!==t&&p.parentNode;)m.push(e.nodeIndex(p,l)),p=p.parentNode;return p===t?m.reverse():[]},_9=(e,t,o,a,l,m,p=!1)=>{const _=AZ(e,t,o,a,p),A=AZ(e,t,l,m,p);return{start:_,end:A}},TZ=(e,t)=>{const o=t.slice(),a=o.pop();return P(a)?on(o,(m,p)=>m.bind(_=>Q.from(_.childNodes[p])),Q.some(e)).bind(m=>Ht(m)&&(a<0||a>m.data.length)?Q.none():Q.some({node:m,offset:a})):Q.none()},OZ=(e,t)=>TZ(e,t.start).bind(({node:o,offset:a})=>TZ(e,t.end).map(({node:l,offset:m})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(l,m),p})),Yre=(e,t,o,a=!1)=>_9(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),ak=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const a=t.parentNode;e.remove(t,Ht(t.firstChild)&&Xl(t.firstChild.data)),ak(e,a,o)}},RL=(e,t,o,a=!0)=>{const l=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),a&&!o(t.startContainer)&&(Ht(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ht(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),ak(e,l,o),l!==m&&ak(e,m,o))},NL=(e,t)=>Q.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),S9=(e,t,o)=>{const a=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:xi(a).concat(e.blockPatterns),inlinePatterns:qu(a).concat(e.inlinePatterns)}},k9=(e,t,o,a)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(o,a),l.toString()},DZ=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),IL=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},RZ=(e,t,o)=>{const a=OZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=a.startContainer,m=a.endContainer,p=a.endOffset===0?m:m.splitText(a.endOffset),_=a.startOffset===0?l:l.splitText(a.startOffset),A=_.parentNode,$=p.parentNode;return{prefix:t,end:$.insertBefore(DZ(e,t+"-end"),p),start:A.insertBefore(DZ(e,t+"-start"),_)}},NZ=(e,t,o)=>{ak(e,e.get(t.prefix+"-end"),o),ak(e,e.get(t.prefix+"-start"),o)},E9=e=>e.start.length===0,Xre=e=>(t,o)=>{const l=t.data.substring(0,o),m=l.lastIndexOf(e.charAt(e.length-1)),p=l.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},IZ=(e,t,o,a)=>{const l=t.start;return qH(e,a.container,a.offset,Xre(l),o).bind(p=>{var _,A;const $=(A=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(l))!==null&&A!==void 0?A:-1;if($!==-1&&p.offset>=$+l.length){const Y=e.createRng();return Y.setStart(p.container,p.offset-l.length),Y.setEnd(p.container,p.offset),Q.some(Y)}else{const Y=p.offset-l.length;return KH(p.container,Y,o).map(ee=>{const me=e.createRng();return me.setStart(ee.container,ee.offset),me.setEnd(p.container,p.offset),me}).filter(ee=>ee.toString()===l).orThunk(()=>IZ(e,t,o,Th(p.container,0)))}})},Jre=(e,t,o,a,l,m=!1)=>{if(t.start.length===0&&!m){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),Q.some(p)}return jH(o,a,l).bind(p=>IZ(e,t,l,p).bind(A=>{var $;if(m){if(A.endContainer===p.container&&A.endOffset===p.offset)return Q.none();if(p.offset===0&&(($=A.endContainer.textContent)===null||$===void 0?void 0:$.length)===A.endOffset)return Q.none()}return Q.some(A)}))},Qre=(e,t,o,a)=>{const l=e.dom,m=l.getRoot(),p=o.pattern,_=o.position.container,A=o.position.offset;return KH(_,A-o.pattern.end.length,t).bind($=>{const q=_9(l,m,$.container,$.offset,_,A,a);if(E9(p))return Q.some({matches:[{pattern:p,startRng:q,endRng:q}],position:$});{const Y=PL(e,o.remainingPatterns,$.container,$.offset,t,a),ee=Y.getOr({matches:[],position:$}),me=ee.position;return Jre(l,p,me.container,me.offset,t,Y.isNone()).map(ge=>{const Ee=Yre(l,m,ge,a);return{matches:ee.matches.concat([{pattern:p,startRng:Ee,endRng:q}]),position:Th(ge.startContainer,ge.startOffset)}})}})},PL=(e,t,o,a,l,m)=>{const p=e.dom;return jH(o,a,p.getRoot()).bind(_=>{const A=k9(p,l,o,a);for(let $=0;$<t.length;$++){const q=t[$];if(!ke(A,q.end))continue;const Y=t.slice();Y.splice($,1);const ee=Qre(e,l,{pattern:q,remainingPatterns:Y,position:_},m);if(ee.isNone()&&a>0)return PL(e,t,o,a-1,l,m);if(ee.isSome())return ee}return Q.none()})},PZ=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?pe(t.format,a=>{e.formatter.apply(a)}):e.execCommand(t.cmd,!1,t.value)},ese=(e,t,o,a)=>{const l=IL(e.dom,o);RL(e.dom,l,a),PZ(e,t,l)},tse=(e,t,o,a,l)=>{const m=e.dom,p=IL(m,a),_=IL(m,o);RL(m,_,l),RL(m,p,l);const A={prefix:o.prefix,start:o.end,end:a.start},$=IL(m,A);PZ(e,t,$)},nse=(e,t)=>{const o=Ii("mce_textpattern"),a=dt(t,(l,m)=>{const p=RZ(e,o+`_end${l.length}`,m.endRng);return l.concat([{...m,endMarker:p}])},[]);return dt(a,(l,m)=>{const p=a.length-l.length-1,_=E9(m.pattern)?m.endMarker:RZ(e,o+`_start${p}`,m.startRng);return l.concat([{...m,startMarker:_}])},[])},ose=e=>ar(e,(t,o)=>o.end.length-t.end.length),rse=(e,t)=>{const o=yo(e,a=>Ae(t,l=>a.pattern.start===l.pattern.start&&a.pattern.end===l.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},LZ=(e,t,o,a,l,m)=>{const p=PL(e,l.inlinePatterns,o,a,t,m).fold(()=>[],A=>A.matches),_=PL(e,ose(l.inlinePatterns),o,a,t,m).fold(()=>[],A=>A.matches);return rse(p,_)},BZ=(e,t)=>{if(t.length===0)return;const o=e.dom,a=e.selection.getBookmark(),l=nse(o,t);pe(l,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),_=A=>A===p;E9(m.pattern)?ese(e,m.pattern,m.endMarker,_):tse(e,m.pattern,m.startMarker,m.endMarker,_),NZ(o,m.endMarker,_),NZ(o,m.startMarker,_)}),e.selection.moveToBookmark(a)},MZ=(e,t,o)=>KQ(t,0,t).map(a=>{const l=a.container;return $U(l,o.start.length,t).each(m=>{const p=e.createRng();p.setStart(l,0),p.setEnd(m.container,m.offset),RL(e,p,_=>_===t)}),l}),FZ=e=>(t,o)=>{const a=t.dom,l=o.pattern,m=OZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(_,A)=>{const $=A.get(_);return oe($)&&yn($).exists(q=>oo(q,"block"))};return NL(t,m).each(_=>{l.type==="block-format"?p(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,_,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,_,l),t.execCommand(l.cmd,!1,l.value)})}),!0},sse=e=>ar(e,(t,o)=>o.start.length-t.start.length),$Z=e=>(t,o)=>{const a=sse(t),l=o.replace(Ca," ");return vn(a,m=>e(m,o,l))},HZ=(e,t)=>(o,a,l,m,p)=>{var _;p===void 0&&(p=(_=a.textContent)!==null&&_!==void 0?_:"");const A=o.dom,$=nl(o);return A.is(a,$)?e(l.blockPatterns,p).map(q=>t&&Yt.trim(p).length===q.start.length?[]:[{pattern:q,range:_9(A,A.getRoot(),a,0,a,0,m)}]).getOr([]):[]},ase=e=>/^\s[^\s]/.test(e),ise=FZ((e,t,o)=>{MZ(e,t,o).each(a=>{const l=$e.fromDom(a),m=Mm(l);ase(m)&&Qb(l,m.slice(1))})}),lse=$Z((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),cse=HZ(lse,!0),use=(e,t)=>{const o=e.selection.getRng();return NL(e,o).map(a=>{var l;const m=Math.max(0,o.startOffset),p=S9(t,a,(l=a.textContent)!==null&&l!==void 0?l:""),_=LZ(e,a,o.startContainer,m,p,!0),A=cse(e,a,p,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:a,blockMatches:l})=>l.length>0||a.length>0)},dse=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();pe(t,a=>ise(e,a)),e.selection.moveToBookmark(o)},fse=FZ(MZ),mse=$Z((e,t,o)=>t===e.start||o===e.start),gse=HZ(mse,!1),hse=(e,t)=>{const o=e.selection.getRng();return NL(e,o).map(a=>{const l=Math.max(0,o.startOffset),m=k9(e.dom,a,o.startContainer,l),p=S9(t,a,m);return gse(e,a,p,!1,m)}).filter(a=>a.length>0)},pse=(e,t)=>{pe(t,o=>fse(e,o))},bse=(e,t)=>use(e,t).fold(Xn,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Qk(e),BZ(e,o),dse(e,a);const l=e.selection.getRng(),m=jH(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const _=p.container;_.data.charAt(p.offset-1)===ys&&(_.deleteData(p.offset-1,1),ak(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),vse=(e,t)=>{const o=e.selection.getRng();NL(e,o).map(a=>{const l=Math.max(0,o.startOffset-1),m=k9(e.dom,a,o.startContainer,l),p=S9(t,a,m),_=LZ(e,a,o.startContainer,l,p,!1);_.length>0&&e.undoManager.transact(()=>{BZ(e,_)})})},yse=(e,t)=>hse(e,t).fold(Xn,o=>(e.undoManager.transact(()=>{pse(e,o)}),!0)),zZ=(e,t,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],t))return!0;return!1},xse=(e,t)=>zZ(e,t,(o,a)=>o===a.keyCode&&!cn.modifierPressed(a)),wse=(e,t)=>zZ(e,t,(o,a)=>o.charCodeAt(0)===a.charCode),Cse=e=>{const t=[",",".",";",":","!","?"],o=[32],a=()=>dp(GM(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),Gx(e)),l=()=>bE(e);e.on("keydown",p=>{if(p.keyCode===13&&!cn.modifierPressed(p)&&e.selection.isCollapsed()){const _=Vf(a(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||l())&&bse(e,_)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const _=Vf(a(),"space");(_.blockPatterns.length>0||l())&&yse(e,_)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=Vf(a(),"space");(p.inlinePatterns.length>0||l())&&vse(e,p)}};e.on("keyup",p=>{xse(o,p)&&m()}),e.on("keypress",p=>{wse(t,p)&&Fc.setEditorTimeout(e,m)})},_se=e=>{Cse(e)},Sse=e=>{const t=Yt.each,o=cn.BACKSPACE,a=cn.DELETE,l=e.dom,m=e.selection,p=e.parser,_=Eo.browser,A=_.isFirefox(),$=_.isChromium()||_.isSafari(),q=Eo.deviceType.isiPhone()||Eo.deviceType.isiPad(),Y=Eo.os.isMacOS()||Eo.os.isiOS(),ee=(an,Hn)=>{try{e.getDoc().execCommand(an,!1,String(Hn))}catch{}},me=an=>an.isDefaultPrevented(),we=()=>{const an=Oo=>{const fn=l.create("body"),ko=Oo.cloneContents();return fn.appendChild(ko),m.serializer.serialize(fn,{format:"html"})},Hn=Oo=>{const fn=an(Oo),ko=l.createRng();ko.selectNode(e.getBody());const Po=an(ko);return fn===Po};e.on("keydown",Oo=>{const fn=Oo.keyCode;if(!me(Oo)&&(fn===a||fn===o)&&e.selection.isEditable()){const ko=e.selection.isCollapsed(),Po=e.getBody();if(ko&&!Jl(e.schema,Po)||!ko&&!Hn(e.selection.getRng()))return;Oo.preventDefault(),e.setContent(""),Po.firstChild&&l.isBlock(Po.firstChild)?e.selection.setCursorLocation(Po.firstChild,0):e.selection.setCursorLocation(Po,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ee=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",an=>{let Hn;if(an.target===e.getDoc().documentElement)if(Hn=m.getRng(),e.getBody().focus(),an.type==="mousedown"){if($l(Hn.startContainer))return;m.placeCaretAt(an.clientX,an.clientY)}else m.setRng(Hn)})},Ze=()=>{e.on("keydown",an=>{if(!me(an)&&an.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Hn=m.getNode(),Oo=Hn.previousSibling;if(Hn.nodeName==="HR"){l.remove(Hn),an.preventDefault();return}Oo&&Oo.nodeName&&Oo.nodeName.toLowerCase()==="hr"&&(l.remove(Oo),an.preventDefault())}}})},et=()=>{Range.prototype.getClientRects||e.on("mousedown",an=>{if(!me(an)&&an.target.nodeName==="HTML"){const Hn=e.getBody();Hn.blur(),Fc.setEditorTimeout(e,()=>{Hn.focus()})}})},Xe=()=>{const an=T1(e);e.on("click",Hn=>{const Oo=Hn.target;/^(IMG|HR)$/.test(Oo.nodeName)&&l.isEditable(Oo)&&(Hn.preventDefault(),e.selection.select(Oo),e.nodeChanged()),Oo.nodeName==="A"&&l.hasClass(Oo,an)&&Oo.childNodes.length===0&&l.isEditable(Oo.parentNode)&&(Hn.preventDefault(),m.select(Oo))})},ft=()=>{const an=()=>{const Oo=l.getAttribs(m.getStart().cloneNode(!1));return()=>{const fn=m.getStart();fn!==e.getBody()&&(l.setAttrib(fn,"style",null),t(Oo,ko=>{fn.setAttributeNode(ko.cloneNode(!0))}))}},Hn=()=>!m.isCollapsed()&&l.getParent(m.getStart(),l.isBlock)!==l.getParent(m.getEnd(),l.isBlock);e.on("keypress",Oo=>{let fn;return!me(Oo)&&(Oo.keyCode===8||Oo.keyCode===46)&&Hn()?(fn=an(),e.getDoc().execCommand("delete",!1),fn(),Oo.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Oo=>{if(!me(Oo)&&Hn()){const fn=an();Fc.setEditorTimeout(e,()=>{fn()})}})},Bt=()=>{e.on("keydown",an=>{if(!me(an)&&an.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Hn=m.getNode().previousSibling;if(Hn&&Hn.nodeName&&Hn.nodeName.toLowerCase()==="table")return an.preventDefault(),!1}return!0})},qt=()=>{e.on("keydown",an=>{if(me(an)||an.keyCode!==cn.BACKSPACE)return;let Hn=m.getRng();const Oo=Hn.startContainer,fn=Hn.startOffset,ko=l.getRoot();let Po=Oo;if(!(!Hn.collapsed||fn!==0)){for(;Po.parentNode&&Po.parentNode.firstChild===Po&&Po.parentNode!==ko;)Po=Po.parentNode;Po.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Po),Hn=l.createRng(),Hn.setStart(Oo,0),Hn.setEnd(Oo,0),m.setRng(Hn))}})},mn=()=>{const an=()=>{ee("StyleWithCSS",!1),ee("enableInlineTableEditing",!1),lD(e)||ee("enableObjectResizing",!1)};pD(e)||e.on("BeforeExecCommand mousedown",an)},_t=()=>{const an=()=>{t(l.select("a:not([data-mce-block])"),Hn=>{var Oo;let fn=Hn.parentNode;const ko=l.getRoot();if((fn==null?void 0:fn.lastChild)===Hn){for(;fn&&!l.isBlock(fn);){if(((Oo=fn.parentNode)===null||Oo===void 0?void 0:Oo.lastChild)!==fn||fn===ko)return;fn=fn.parentNode}l.add(fn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Hn=>{(Hn.type==="setcontent"||Hn.command==="mceInsertLink")&&an()})},pt=()=>{e.on("init",()=>{ee("DefaultParagraphSeparator",nl(e))})},It=an=>{const Hn=an.getBody(),Oo=an.selection.getRng();return Oo.startContainer===Oo.endContainer&&Oo.startContainer===Hn&&Oo.startOffset===0&&Oo.endOffset===Hn.childNodes.length},wn=()=>{e.on("keyup focusin mouseup",an=>{!cn.modifierPressed(an)&&!It(e)&&m.normalize()},!0)},Rn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},So=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},No=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",an=>{let Hn;an.target.nodeName==="HTML"&&(Hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Hn),e.selection.normalize(),e.nodeChanged())}))},_r=()=>{Y&&e.on("keydown",an=>{cn.metaKeyPressed(an)&&!an.shiftKey&&(an.keyCode===37||an.keyCode===39)&&(an.preventDefault(),e.selection.getSel().modify("move",an.keyCode===37?"backward":"forward","lineboundary"))})},Lr=()=>{e.on("click",an=>{let Hn=an.target;do if(Hn.tagName==="A"){an.preventDefault();return}while(Hn=Hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},na=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",an=>{an.preventDefault()})})},_l=()=>{p.addNodeFilter("br",an=>{let Hn=an.length;for(;Hn--;)an[Hn].attr("class")==="Apple-interchange-newline"&&an[Hn].remove()})},Vr=Mt,en=()=>{if(!A||e.removed)return!1;const an=e.selection.getSel();return!an||!an.rangeCount||an.rangeCount===0},On=()=>{$&&(Ee(),Xe(),na(),ge(),q&&(So(),No(),Lr())),A&&(et(),mn(),Rn(),_r())},lr=()=>{qt(),we(),Eo.windowsPhone||wn(),$&&(Ee(),Xe(),pt(),na(),Bt(),_l(),q?(So(),No(),Lr()):ge()),A&&(Ze(),et(),ft(),mn(),_t(),Rn(),_r(),Bt())};return lg(e)?On():lr(),{refreshContentEditable:Vr,isHidden:en}},kse=e=>e.toLowerCase()==="gpl",Ese=e=>e.length>=64&&e.length<=255,Ase=e=>kse(e)||Ese(e)?"VALID":"INVALID",Tse=e=>{const t=TD(e);!fe(OD(e))&&(je(t)||Ase(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},A9=Hr.DOM,Ose=(e,t)=>{const o=$e.fromDom(e.getBody()),a=xm(eu(o)),l=$e.fromTag("style");fa(l,"type","text/css"),Ns(l,$e.fromText(t)),Ns(a,l),e.on("remove",()=>{Cr(l)})},Dse=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,T9=e=>pc(e,t=>je(t)===!1),VZ=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return T9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Dse(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:MC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},UZ=e=>{const t=e.options.get;return T9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Rse=e=>{const t=e.options.get;return{...VZ(e),...UZ(e),...T9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Nse=e=>{const t=oy(VZ(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const l=e.dom,m="data-mce-"+a;let p=o.length;for(;p--;){const _=o[p];let A=_.attr(a);if(A&&!_.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;a==="style"?(A=l.serializeStyle(l.parseStyle(A),_.name),A.length||(A=null),_.attr(m,A),_.attr(a,A)):a==="tabindex"?(_.attr(m,A),_.attr(a,null)):_.attr(m,e.convertURL(A,a,_.name))}}}),t.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const l=o[a],m=l.attr("type")||"no/type";m.indexOf("mce-")!==0&&l.attr("type","mce-"+m)}}),XM(e)&&t.addNodeFilter("#cdata",o=>{var a;let l=o.length;for(;l--;){const m=o[l];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const l=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(l)&&m.getAll("br").length===0&&m.append(new wi("br",1))}}),t},Ise=e=>{const t=WM(e);t&&Fc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Pse=e=>{const t=e.dom.getRoot();!e.inline&&(!I1(e)||e.selection.getStart(!0)===t)&&Kn(t).each(o=>{const a=o.getNode(),l=su(a)?Kn(a).getOr(o):o;e.selection.setRng(l.toRange())})},Lse=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Gs(e),e.focus(!0),Pse(e),e.nodeChanged({initial:!0});const t=VM(e);Be(t)&&t.call(e,e),Ise(e)},O9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Bse=(e,t,o)=>{const{pass:a,fail:l}=De(t,_=>tinymce.Resource.has(s4(_))),p=[...a.map(_=>{const A=tinymce.Resource.get(s4(_));return fe(A)?Promise.resolve(O9(e).loadRawCss(_,A)):Promise.resolve()}),O9(e).loadAll(l)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},WZ=e=>{const t=O9(e),o=iD(e),a=e.contentCSS,l=()=>{t.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Yt.each(e.contentStyles,$=>{A+=$+`\r
`}),e.dom.addStyle(A)}const p=Promise.all(Bse(e,a,o)).then(m).catch(m),_=k1(e);return _&&Ose(e,_),p},Mse=e=>{const t=e.getDoc(),o=e.getBody();y8(e),ZM(e)||(t.body.spellcheck=!1,A9.setAttrib(o,"spellcheck","false")),e.quirks=Sse(e),x8(e);const a=LM(e);a!==void 0&&(o.dir=a);const l=Qo(e);l&&e.on("BeforeSetContent",m=>{Yt.each(l,p=>{m.content=m.content.replace(p,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Fse=e=>{lg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},D9=e=>{e.removed!==!0&&(Fse(e),Lse(e))},$se=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},ZZ=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(A9.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const a=e.getBody();a.disabled=!0,e.readonly=pD(e),e._editableRoot=mr(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&A9.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=i4(e),e.schema=Oc(UZ(e)),e.dom=Hr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:sD(e),referrerPolicy:Zx(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Nse(e),e.serializer=s6(Rse(e),e),e.selection=jT(e.dom,e.getWin(),e.serializer,e),e.annotator=xR(e),e.formatter=vw(e),e.undoManager=F6(e),e._nodeChangeDispatcher=new Ine(e),e._selectionOverrides=qre(e),vo(e),Qoe(e),Ow(e),lg(e)||(are(e),_se(e));const l=Nne(e);Nn(e,l),Ta(e),W6(e),Yoe(e);const m=zI(e);Mse(e),Tse(e),m.fold(()=>{const p=$se(e);WZ(e).then(()=>{D9(e),p()})},p=>{e.setProgressState(!0),WZ(e).then(()=>{p().then(_=>{e.setProgressState(!1),D9(e),qI(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),D9(e),qI(e)})})})},Hse=gn,zse=(e,t,o)=>L(e,t,Hse,o),R9=Hr.DOM,Vse=(e,t,o,a)=>{const l=$e.fromTag("iframe");return a.each(m=>fa(l,"tabindex",m)),Ai(l,o),Ai(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ed(l,"tox-edit-area__iframe"),l},Use=e=>{let t=zd(e)+"<html><head>";mu(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=IC(e),a=rE(e),l=e.translate(Kx(e));return QO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+QO(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Wse=(e,t)=>{const o=Eo.browser.isFirefox()?Kx(e):"Rich Text Area",a=e.translate(o),l=Yc($e.fromDom(e.getElement()),"tabindex").bind(ln),m=Vse(e.id,a,yl(e),l).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=Use(e),R9.add(t.iframeContainer,m)},Zse=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,ZZ(e)};if(_D(e)||Eo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=zse($e.fromDom(t),"load",()=>{a.unbind(),o()});t.srcdoc=e.iframeHTML}},jse=(e,t)=>{Wse(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=R9.isHidden(t.editorContainer)),e.getElement().style.display="none",R9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Zse(e)},jZ=Hr.DOM,Kse=(e,t,o)=>{const a=Xv.get(o),l=Xv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Yt.trim(o),a&&Yt.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=a(e,l)||{};e.plugins[o]=m,Be(m.init)&&(m.init(e,l),t.push(o))}catch(m){N$(e,o,m)}}},qse=e=>e.replace(/^\-/,""),Gse=e=>{const t=[];pe(Vd(e),o=>{Kse(e,t,qse(o))})},Yse=e=>{const t=Yt.trim(cE(e)),o=e.ui.registry.getAll().icons,a={...mw.get("default").icons,...mw.get(t).icons};Xo(a,(l,m)=>{oo(o,m)||e.ui.registry.addIcon(m,l)})},Xse=e=>{const t=E1(e);if(fe(t)){const o=Vp.get(t);e.theme=o(e,Vp.urls[t])||{},Be(e.theme.init)&&e.theme.init(e,Vp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Jse=e=>{const t=jx(e),o=zp.get(t);e.model=o(e,zp.urls[t])},Qse=e=>{const t=e.theme.renderUI;return t?t():qZ(e)},eae=e=>{const t=e.getElement(),a=E1(e)(e,t);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:t.offsetHeight,a},KZ=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),tae=e=>{const t=jZ.create("div");return jZ.insertAfter(t,e),KZ(t,t)},qZ=e=>{const t=e.getElement();return e.inline?KZ(null):tae(t)},nae=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,fe(E1(e))?Qse(e):Be(E1(e))?eae(e):qZ(e)},oae=(e,t)=>{const o={show:Q.from(t.show).getOr(Mt),hide:Q.from(t.hide).getOr(Mt),isEnabled:Q.from(t.isEnabled).getOr(gn),setEnabled:a=>{e.mode.isReadOnly()||Q.from(t.setEnabled).each(l=>l(a))}};e.ui={...e.ui,...o}},rae=async e=>{e.dispatch("ScriptsLoaded"),Yse(e),Xse(e),Jse(e),Gse(e);const t=await nae(e);oae(e,Q.from(t.api).getOr({})),e.editorContainer=t.editorContainer,k6(e),e.inline?ZZ(e):jse(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Pw=Hr.DOM,GZ=e=>e.charAt(0)==="-",sae=(e,t)=>{const o=fE(t),a=PM(t);if(!Dc.hasCode(o)&&o!=="en"){const l=Qe(a)?a:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{D$(t,l,o)})}},aae=(e,t)=>{const o=E1(e);if(fe(o)&&!GZ(o)&&!oo(Vp.urls,o)){const a=MM(e),l=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${t}.js`;Vp.load(o,l).catch(()=>{_6(e,l,o)})}},iae=(e,t)=>{const o=jx(e);if(o!=="plugin"&&!oo(zp.urls,o)){const a=gE(e),l=fe(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${t}.js`;zp.load(o,l).catch(()=>{R$(e,l,o)})}},lae=e=>Q.from(oD(e)).filter(Qe).map(t=>({url:t,name:Q.none()})),YZ=(e,t,o)=>Q.from(t).filter(a=>Qe(a)&&!mw.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:Q.some(a)})),cae=(e,t,o)=>{const a=YZ(t,"default",o),l=lae(t).orThunk(()=>YZ(t,cE(t),""));pe(I0([a,l]),m=>{e.add(m.url).catch(()=>{o4(t,m.url,m.name.getOrUndefined())})})},uae=(e,t)=>{const o=(a,l)=>{Xv.load(a,l).catch(()=>{n4(e,l,a)})};Xo(Wm(e),(a,l)=>{o(l,a),e.options.set("plugins",Vd(e).concat(l))}),pe(Vd(e),a=>{a=Yt.trim(a),a&&!Xv.urls[a]&&!GZ(a)&&o(a,`plugins/${a}/plugin${t}.js`)})},dae=e=>{const t=E1(e);return!fe(t)||Oe(Vp.get(t))},fae=e=>{const t=jx(e);return Oe(zp.get(t))},mae=(e,t)=>{const o=pl.ScriptLoader,a=()=>{!e.removed&&dae(e)&&fae(e)&&rae(e)};aae(e,t),iae(e,t),sae(o,e),cae(o,e,t),uae(e,t),o.loadQueue().then(a,a)},gae=(e,t)=>Z0.forElement(e,{contentCssCors:bD(t),referrerPolicy:Zx(t)}),hae=e=>{const t=e.id;Dc.setCode(fE(e));const o=()=>{Pw.unbind(window,"ready",o),e.render()};if(!Df.Event.domLoaded){Pw.bind(window,"ready",o);return}if(!e.getElement())return;const a=$e.fromDom(e.getElement()),l=ml(a);e.on("remove",()=>{Ce(a.dom.attributes,p=>Co(a,p.name)),Ai(a,l)}),e.ui.styleSheetLoader=gae(a,e),bv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||Pw.getParent(t,"form");m&&(e.formElement=m,hE(e)&&!qh(e.getElement())&&(Pw.insertAfter(Pw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},Pw.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),fD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=w6(e),e.notificationManager=t4(e),SD(e)&&e.on("GetContent",p=>{p.save&&(p.content=Pw.encode(p.content))}),mD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),gD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),mae(e,e.suffix)},pae=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),_8(e,t))},bae=e=>e._editableRoot,vae=(e,t)=>({sections:ct(e),options:ct(t)}),XZ=qa().deviceType,JZ=XZ.isPhone(),yae=XZ.isTablet(),aO=e=>{if(st(e))return[];{const t=oe(e)?e:e.split(/[ ,]/),o=Fe(t,Le);return We(o,Qe)}},xae=(e,t)=>{const o=Ou(t,(a,l)=>be(e,l));return vae(o.t,o.f)},wae=(e,t,o={})=>{const a=e.sections(),l=wr(a,t).getOr({});return Yt.extend({},o,l)},N9=(e,t)=>oo(e.sections(),t),Cae=(e,t)=>N9(e,t)?e.sections()[t]:{},_ae=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:wr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),Sae=(e,t)=>{var o;const a=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Yt.extend({},e.external_plugins,a):a},kae=(e,t)=>[...aO(e),...aO(t)],Eae=(e,t,o,a)=>e&&N9(t,"mobile")?a:o,Aae=(e,t,o,a)=>{const l=aO(o.forced_plugins),m=aO(a.plugins),p=Cae(t,"mobile"),_=p.plugins?aO(p.plugins):m,A=Eae(e,t,m,_),$=kae(l,A);return Yt.extend(a,{forced_plugins:l,plugins:$})},Tae=(e,t)=>e&&N9(t,"mobile"),Oae=(e,t,o,a,l)=>{var m;const p=e?{mobile:_ae((m=l.mobile)!==null&&m!==void 0?m:{},t)}:{},_=xae(["mobile"],fL(p,l)),A=Yt.extend(o,a,_.options(),Tae(e,_)?wae(_,"mobile"):{},{external_plugins:Sae(a,_.options())});return Aae(e,_,a,A)},Dae=(e,t)=>{const o=KU(t);return Oae(JZ||yae,JZ,o,e,o)},Rae=(e,t)=>KI(e,t),Nae=e=>{const t=(a,l)=>{e.formatter.toggle(a,l),e.nodeChanged()},o=a=>()=>{pe("left,center,right,justify".split(","),l=>{a!==l&&e.formatter.remove("align"+l)}),a!=="none"&&t("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Iae=e=>{const t=o=>()=>{const a=e.selection,l=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Ae(l,m=>Oe(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Pae=e=>{Nae(e),Iae(e)},Lae=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let a;try{o.execCommand(t)}catch{a=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(a=!0),a||!o.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Eo.os.isMacOS()||Eo.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:l,type:"error"})}}})},Bae=(e,t,o,a)=>{const l=$e.fromDom(e.getRoot());return K1(l,vt.fromRangeStart(t),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Hv(l,vt.fromRangeEnd(t),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Mae=e=>{if(typeof e!="string"){const t=Yt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Fae=(e,t)=>{const o=e.selection,a=e.dom;return/^ | $/.test(t)?Bae(a,o.getRng(),t,e.schema):t},LL=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:a}=Mae(t);xT(e,{...a,content:Fae(e,o),format:"html",set:!1,selection:!0}).each(l=>{const m=l$(e,l.content,a);wT(e,m,l),e.addVisual()})}},$ae=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,a)=>{LL(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,a)=>{LL(e,e.dom.encode(a))},insertHTML:(t,o,a)=>{LL(e,a)},mceInsertContent:(t,o,a)=>{LL(e,a)},mceSetContent:(t,o,a)=>{e.setContent(a)},mceReplaceContent:(t,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(nr(e))}})},Hae={"font-size":"size","font-family":"face"},zae=hf("font"),Vae=(e,t,o)=>{const a=m=>Es(m,e).orThunk(()=>zae(m)?wr(Hae,e).bind(p=>Yc(m,p)):Q.none()),l=m=>Vo($e.fromDom(t),m);return G2($e.fromDom(o),m=>a(m),l)},Uae=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Wae=(e,t)=>Q.from(Hr.DOM.getStyle(t,e,!0)),QZ=e=>(t,o)=>Q.from(o).map($e.fromDom).filter(Ds).bind(a=>Vae(e,t,a.dom).or(Wae(e,a.dom))).getOr(""),Zae=QZ("font-size"),jae=tn(Uae,QZ("font-family")),Kae=e=>Kn(e.getBody()).bind(t=>{const o=t.container();return Q.from(Ht(o)?o.parentNode:o)}),qae=e=>Q.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?Q.none():Q.from(e.selection.getStart(!0))}),Gae=(e,t)=>qae(e).orThunk(Lt(Kae,e)).map($e.fromDom).filter(Ds).bind(t),I9=(e,t)=>Gae(e,un(Q.some,t)),ej=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const a=vE(e),l=yE(e);return l.length>0?l[o-1]||t:a[o-1]||t}else return t}else return t},Yae=e=>{const t=e.split(/\s*,\s*/);return Fe(t,o=>o.indexOf(" ")!==-1&&!(Jr(o,'"')||Jr(o,"'"))?`'${o}'`:o).join(",")},Xae=(e,t)=>{const o=ej(e,t);e.formatter.toggle("fontname",{value:Yae(o)}),e.nodeChanged()},Jae=e=>I9(e,t=>jae(e.getBody(),t.dom)).getOr(""),Qae=(e,t)=>{e.formatter.toggle("fontsize",{value:ej(e,t)}),e.nodeChanged()},eie=e=>I9(e,t=>Zae(e.getBody(),t.dom)).getOr(""),tie=e=>I9(e,t=>{const o=$e.fromDom(e.getBody()),a=G2(t,m=>Es(m,"line-height"),Lt(Vo,o)),l=()=>{const m=parseFloat(Rs(t,"line-height")),p=parseFloat(Rs(t,"font-size"));return String(m/p)};return a.getOrThunk(l)}).getOr(""),nie=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},oie=e=>{const t=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,a,l)=>{t(o,{value:l})},BackColor:(o,a,l)=>{t("hilitecolor",{value:l})},FontName:(o,a,l)=>{Xae(e,l)},FontSize:(o,a,l)=>{Qae(e,l)},LineHeight:(o,a,l)=>{nie(e,l)},Lang:(o,a,l)=>{var m;t(o,{value:l.code,customValue:(m=l.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,a,l)=>{t(fe(l)?l:"p")},mceToggleFormat:(o,a,l)=>{t(l)}})},rie=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Jae(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>eie(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>tie(e))},sie=e=>{oie(e),rie(e)},aie=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},iie=e=>{e.editorCommands.addCommands({Indent:()=>{kt(e)},Outdent:()=>{wt(e)}}),e.editorCommands.addCommands({Outdent:()=>he(e)},"state")},lie=e=>{const t=(o,a,l)=>{const m=fe(l)?{href:l}:l,p=e.dom.getParent(e.selection.getNode(),"a");j(m)&&fe(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},cie=(e,t,o,a)=>{const l=e.dom,m=_=>l.isBlock(_)&&_.parentElement===o,p=m(t)?t:l.getParent(a,m,o);return Q.from(p).map($e.fromDom)},tj=(e,t)=>{const o=e.dom,a=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),m=t?a.startContainer:a.endContainer,p=tO(o,m);if(!p||!p.isContentEditable)return;const _=t?vs:rt,A=nl(e);cie(e,l,p,m).each($=>{const q=yW(e,m,$.dom,p,!1,A);_($,$e.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),eO(e,"insertParagraph")})},uie=e=>tj(e,!0),die=e=>tj(e,!1),fie=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{uie(e)},InsertNewBlockAfter:()=>{die(e)}})},mie=e=>{e.editorCommands.addCommands({insertParagraph:()=>{CL(_W,e)},mceInsertNewLine:(t,o,a)=>{DW(e,a)},InsertLineBreak:(t,o,a)=>{CL(EW,e)}})},gie=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,a)=>{let l=0;e.dom.getParent(e.selection.getNode(),m=>Sn(m)&&l++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,a)=>{e.selection.select(a)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),kc);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},hie=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,a)=>{const l=a??e.selection.getNode();if(l!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,a)=>{rN(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},pie=e=>{Pae(e),Lae(e),aie(e),gie(e),$ae(e),lie(e),iie(e),fie(e),mie(e),sie(e),hie(e)},bie=["toggleview"],nj=e=>be(bie,e.toLowerCase());class oj{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,a,l){const m=this.editor,p=t.toLowerCase(),_=l==null?void 0:l.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!_?m.focus():v_(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:a}).isDefaultPrevented()))return!1;const $=this.commands.exec[p];return Be($)?($(p,o,a),m.dispatch("ExecCommand",{command:t,ui:o,value:a}),!0):!1}queryCommandState(t){if(!nj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),a=this.commands.state[o];return Be(a)?a(o):!1}queryCommandValue(t){if(!nj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),a=this.commands.value[o];return Be(a)?a(o):""}addCommands(t,o="exec"){const a=this.commands;Xo(t,(l,m)=>{pe(m.toLowerCase().split(","),p=>{a[o][p]=l})})}addCommand(t,o,a){const l=t.toLowerCase();this.commands.exec[l]=(m,p,_)=>o.call(a??this.editor,p,_)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,a){this.commands.state[t.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(t,o,a){this.commands.value[t.toLowerCase()]=()=>o.call(a??this.editor)}}const Lw="data-mce-contenteditable",vie=(e,t,o)=>{Ad(e,t)&&!o?Ti(e,t):o&&Ed(e,t)},P9=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},BL=(e,t)=>{e.dom.contentEditable=t?"true":"false"},yie=e=>{pe(ia(e,'*[contenteditable="true"]'),t=>{fa(t,Lw,"true"),BL(t,!1)})},xie=e=>{pe(ia(e,`*[${Lw}="true"]`),t=>{Co(t,Lw),BL(t,!0)})},wie=e=>{Q.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Cie=e=>{e.selection.setRng(e.selection.getRng())},_ie=(e,t)=>{const o=$e.fromDom(e.getBody());vie(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),wie(e),e.readonly=!0,BL(o,!1),yie(o)):(e.readonly=!1,e.hasEditableRoot()&&BL(o,!0),xie(o),P9(e,"StyleWithCSS",!1),P9(e,"enableInlineTableEditing",!1),P9(e,"enableObjectResizing",!1),Pv(e)&&e.focus(),Cie(e),e.nodeChanged())},Bw=e=>e.readonly,rj=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Bw(e)&&pe(t,o=>{o.attr(Lw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Lw,t=>{Bw(e)&&pe(t,o=>{o.attr("contenteditable",o.attr(Lw))})}),e.serializer.addTempAttr(Lw)},Sie=e=>{e.serializer?rj(e):e.on("PreInit",()=>{rj(e)})},kie=e=>e.type==="click",Eie=["copy"],Aie=e=>be(Eie,e.type),Tie=(e,t)=>Fa(t,"a",a=>Vo(a,$e.fromDom(e.getBody()))).bind(a=>Yc(a,"href")),Oie=(e,t)=>{if(kie(t)&&!cn.metaKeyPressed(t)){const o=$e.fromDom(t.target);Tie(e,o).each(a=>{if(t.preventDefault(),/^#/.test(a)){const l=e.dom.select(`${a},[name="${qc(a,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Aie(t)&&e.dispatch(t.type,t)},Die=e=>{e.on("ShowCaret",t=>{Bw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Bw(e)&&t.preventDefault()})},Rie=Yt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class L9{static isNative(t){return!!Rie[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Xn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const a=t.toLowerCase(),l=e1(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const m=this.bindings[a];if(m)for(let p=0,_=m.length;p<_;p++){const A=m[p];if(!A.removed){if(A.once&&this.off(a,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,o,a,l){if(o===!1&&(o=Xn),o){const m={func:o,removed:!1};l&&Yt.extend(m,l);const p=t.toLowerCase().split(" ");let _=p.length;for(;_--;){const A=p[_];let $=this.bindings[A];$||($=[],this.toggleEvent(A,!0)),a?$=[m,...$]:$=[...$,m],this.bindings[A]=$}}return this}off(t,o){if(t){const a=t.toLowerCase().split(" ");let l=a.length;for(;l--;){const m=a[l];let p=this.bindings[m];if(!m)return Xo(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(p){if(!o)p.length=0;else{const _=De(p,A=>A.func===o);p=_.fail,this.bindings[m]=p,pe(_.pass,A=>{A.removed=!0})}p.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else Xo(this.bindings,(a,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,o,a){return this.on(t,o,a,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const iO=e=>(e._eventDispatcher||(e._eventDispatcher=new L9({scope:e,toggleEvent:(t,o)=>{L9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),B9={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return e1(e.toLowerCase(),t??{},a);const l=iO(a).dispatch(e,t);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!l.isPropagationStopped();)m.dispatch(e,l,!1),m=m.parent?m.parent():void 0}return l},on(e,t,o){return iO(this).on(e,t,o)},off(e,t){return iO(this).off(e,t)},once(e,t){return iO(this).once(e,t)},hasEventListeners(e){return iO(this).has(e)}},ML=Hr.DOM;let Mw;const FL=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=uD(e);return o?(e.eventRoot||(e.eventRoot=ML.select(o)[0]),e.eventRoot):e.getBody()},Nie=e=>!e.hidden&&!Bw(e),sj=(e,t,o)=>{Nie(e)?e.dispatch(t,o):Bw(e)&&Oie(e,o)},aj=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=FL(e,t);if(uD(e)){if(Mw||(Mw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Mw&&(Xo(Mw,(l,m)=>{e.dom.unbind(FL(e,m))}),Mw=null)})),Mw[t])return;const a=l=>{const m=l.target,p=e.editorManager.get();let _=p.length;for(;_--;){const A=p[_].getBody();(A===m||ML.isChildOf(m,A))&&sj(p[_],t,l)}};Mw[t]=a,ML.bind(o,t,a)}else{const a=l=>{sj(e,t,l)};ML.bind(o,t,a),e.delegates[t]=a}},ij={...B9,bindPendingEventDelegates(){const e=this;Yt.each(e._pendingNativeEvents,t=>{aj(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?aj(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(FL(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Xo(e.delegates,(a,l)=>{e.dom.unbind(FL(e,l),l,a)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Iie=e=>fe(e)?{value:e.split(/[ ,]/),valid:!0}:St(e,fe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Pie=e=>{const t=(()=>{switch(e){case"array":return oe;case"boolean":return He;case"function":return Be;case"number":return P;case"object":return j;case"string":return fe;case"string[]":return Iie;case"object[]":return o=>St(o,j);case"regexp":return o=>Se(o,RegExp);default:return gn}})();return o=>M9(o,t,`The value must be a ${e}.`)},Lie=e=>fe(e.processor),lj=(e,t)=>{const o=zt(t.message)?"":`. ${t.message}`;return e+o},cj=e=>e.valid,M9=(e,t,o="")=>{const a=t(e);return He(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},Bie=(e,t,o)=>{if(!je(t)){const a=M9(t,o);if(cj(a))return a.value;console.error(lj(`Invalid default value passed for the "${e}" option`,a))}},Mie=(e,t,o=t)=>{const a={},l={},m=(me,we,ge)=>{const Ee=M9(we,ge);return cj(Ee)?(l[me]=Ee.value,!0):(console.warn(lj(`Invalid value passed for the ${me} option`,Ee)),!1)},p=(me,we)=>{const ge=Lie(we)?Pie(we.processor):we.processor,Ee=Bie(me,we.default,ge);a[me]={...we,default:Ee,processor:ge},wr(l,me).orThunk(()=>wr(t,me)).each(et=>m(me,et,ge))},_=me=>oo(a,me);return{register:p,isRegistered:_,get:me=>wr(l,me).orThunk(()=>wr(a,me).map(we=>we.default)).getOrUndefined(),set:(me,we)=>{if(_(me)){const ge=a[me];return ge.immutable?(console.error(`"${me}" is an immutable option and cannot be updated`),!1):m(me,we,ge.processor)}else return console.warn(`"${me}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:me=>{const we=_(me);return we&&delete l[me],we},isSet:me=>oo(l,me),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(me,we)=>He(we)||P(we)||fe(we)||Ue(we)||oe(we)||de(we)?we:Object.prototype.toString.call(we))))}catch(me){console.error(me)}}}},Fie=["design","readonly"],uj=(e,t,o,a)=>{const l=o[t.get()],m=o[a];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}l.deactivate(),l.editorReadOnly!==m.editorReadOnly&&_ie(e,m.editorReadOnly),t.set(a),wR(e,a)},$ie=(e,t,o,a)=>{if(a!==o.get()){if(!oo(t,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?uj(e,o,t,a):e.on("init",()=>uj(e,o,t,a))}},Hie=(e,t,o)=>{if(be(Fie,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${t}:`,a)}}}}},zie=e=>{const t=_a("design"),o=_a({design:{activate:Mt,deactivate:Mt,editorReadOnly:!1},readonly:{activate:Mt,deactivate:Mt,editorReadOnly:!0}});return Sie(e),Die(e),{isReadOnly:()=>Bw(e),set:a=>$ie(e,o.get(),t,a),get:()=>t.get(),register:(a,l)=>{o.set(Hie(o.get(),a,l))}}},F9=Yt.each,$9=Yt.explode,Vie={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},dj=Yt.makeMap("alt,ctrl,shift,meta,access"),Uie=e=>e in dj,Wie=e=>{const t={},o=Eo.os.isMacOS()||Eo.os.isiOS();F9($9(e.toLowerCase(),"+"),m=>{Uie(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Vie[m]||m.toUpperCase().charCodeAt(0))});const a=[t.keyCode];let l;for(l in dj)t[l]?a.push(l):t[l]=!1;return t.id=a.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class fj{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(F9(o.shortcuts,l=>{o.matchShortcut(a,l)&&(o.pendingPatterns=l.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,a,l){const m=this,p=m.normalizeCommandFunc(a);return F9($9(Yt.trim(t)),_=>{const A=m.createShortcut(_,o,p,l);m.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,a=t;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:Yt.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(t,o,a,l){const m=Yt.map($9(t,">"),Wie);return m[m.length-1]=Yt.extend(m[m.length-1],{func:a,scope:l||this.editor}),Yt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Zie=()=>{const e={},t={},o={},a={},l={},m={},p={},_={},A=(q,Y)=>(ee,me)=>{q[ee.toLowerCase()]={...me,type:Y}},$=(q,Y)=>a[q.toLowerCase()]=Y;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(p,"sidebar"),addView:A(_,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:t,icons:a,popups:o,contextMenus:l,contextToolbars:m,sidebars:p,views:_})}},jie=()=>{const e=Zie();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Fw=Hr.DOM,mj=Yt.extend,Kie=Yt.each;class $L{constructor(t,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,mj(this,ij);const l=this;this.id=t,this.hidden=!1;const m=Dae(a.defaultOptions,o);this.options=Mie(l,m,o),NC(l);const p=this.options.get;p("deprecation_warnings")&&_$(o,m);const _=p("suffix");_&&(a.suffix=_),this.suffix=a.suffix;const A=p("base_url");A&&a._setBaseUrl(A),this.baseUri=a.baseURI;const $=Zx(l);$&&(pl.ScriptLoader._setReferrerPolicy($),Hr.DOM.styleSheetLoader._setReferrerPolicy($));const q=bD(l);Oe(q)&&Hr.DOM.styleSheetLoader._setContentCssCors(q),el.languageLoad=p("language_load"),el.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new ad(mu(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=bv(l),this.hasVisual=Pc(l),this.shortcuts=new fj(this),this.editorCommands=new oj(this),pie(this);const Y=p("cache_suffix");Y&&(Eo.cacheSuffix=Y.replace(/^[\?\&]+/,"")),this.ui={registry:jie(),styleSheetLoader:void 0,show:Mt,hide:Mt,setEnabled:Mt,isEnabled:gn},this.mode=zie(l),a.dispatch("SetupEditor",{editor:this});const ee=O1(l);Be(ee)&&ee.call(l,l)}render(){hae(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return H1(this)}translate(t){return Dc.translate(t)}getParam(t,o,a){const l=this.options;return l.isRegistered(t)||(Oe(a)?l.register(t,{processor:a,default:o}):l.register(t,{processor:gn,default:o})),!l.isSet(t)&&!je(o)?o:l.get(t)}hasPlugin(t,o){return be(Vd(this),t)?o?Xv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,a){this.editorCommands.addCommand(t,o,a)}addQueryStateHandler(t,o,a){this.editorCommands.addQueryStateHandler(t,o,a)}addQueryValueHandler(t,o,a){this.editorCommands.addQueryValueHandler(t,o,a)}addShortcut(t,o,a,l){this.shortcuts.add(t,o,a,l)}execCommand(t,o,a,l){return this.editorCommands.execCommand(t,o,a,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Fw.show(t.getContainer()),Fw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Fw.hide(t.getContainer()),Fw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const l={...t,load:!0},m=qh(a)?a.value:a.innerHTML,p=o.setContent(m,l);return l.no_events||o.dispatch("LoadContent",{...l,element:a}),p}else return""}save(t={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const l={...t,save:!0,element:a};let m=o.getContent(l);const p={...l,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,qh(a))a.value=m;else{(t.is_removing||!o.inline)&&(a.innerHTML=m);const _=Fw.getParent(o.id,"form");_&&Kie(_.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return p.element=l.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return qT(this,t,o)}getContent(t){return a6(this,t)}insertContent(t,o){o&&(t=mj({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?qT(this,this.startContent,{format:"raw"}):qT(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Fw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Fw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const a=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(t,o,a){const l=this,m=l.options.get,p=UM(l);if(Be(p))return p.call(l,t,a,!0,o);if(!m("convert_urls")||a==="link"||j(a)&&a.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const _=new ad(t);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?t:m("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Rae(this,t)}setEditableRoot(t){pae(this,t)}hasEditableRoot(){return bae(this)}remove(){g6(this)}destroy(t){k$(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ik=Hr.DOM,HL=Yt.each;let gj=!1,zL,wu=[];const VL=e=>{const t=e.type;HL(wy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},hj=e=>{if(e!==gj){const t=Hr.DOM;e?(t.bind(window,"resize",VL),t.bind(window,"scroll",VL)):(t.unbind(window,"resize",VL),t.unbind(window,"scroll",VL)),gj=e}},pj=e=>{const t=wu;return wu=We(wu,o=>e!==o),wy.activeEditor===e&&(wy.activeEditor=wu.length>0?wu[0]:null),wy.focusedEditor===e&&(wy.focusedEditor=null),t.length!==wu.length},qie=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(pj(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Gie=document.compatMode!=="CSS1Compat",wy={...B9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Dc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",a=ad.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,o=l.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const _=m[p].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(o=".min"),t=_.substring(0,_.lastIndexOf("/"));break}}if(!t&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),t=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new ad(a).toAbsolute(t),e.documentBaseURL=a,e.baseURI=new ad(e.baseURL),e.suffix=o,j8(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&Xo(a,(l,m)=>{el.PluginManager.urls[m]=l})},init(e){const t=this;let o;const a=Yt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(q,Y)=>q.inline&&Y.tagName.toLowerCase()in a,m=q=>{let Y=q.id;return Y||(Y=wr(q,"name").filter(ee=>!ik.get(ee)).getOrThunk(ik.uniqueId),q.setAttribute("id",Y)),Y},p=q=>{const Y=e[q];if(Y)return Y.apply(t,[])},_=q=>Eo.browser.isIE()||Eo.browser.isEdge()?(hw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Gie?(hw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):fe(q.selector)?ik.select(q.selector):Oe(q.target)?[q.target]:[];let A=q=>{o=q};const $=()=>{let q=0;const Y=[];let ee;const me=(we,ge,Ee)=>{const Ze=new $L(we,ge,t);Y.push(Ze),Ze.on("init",()=>{++q===ee.length&&A(Y)}),Ze.targetElm=Ze.targetElm||Ee,Ze.render()};ik.unbind(window,"ready",$),p("onpageload"),ee=Wi(_(e)),Yt.each(ee,we=>{qie(t.get(we.id))}),ee=Yt.grep(ee,we=>!t.get(we.id)),ee.length===0?A([]):HL(ee,we=>{l(e,we)?hw("Could not initialize inline editor on invalid inline target element",we):me(m(we),e,we)})};return ik.bind(window,"ready",$),new Promise(q=>{o?q(o):A=Y=>{q(Y)}})},get(e){return arguments.length===0?wu.slice(0):fe(e)?vn(wu,t=>t.id===e).getOr(null):P(e)&&wu[e]?wu[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&wu.push(e),hj(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),zL||(zL=a=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return a.preventDefault(),a.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",zL))),e},createEditor(e,t){return this.add(new $L(e,t,this))},remove(e){const t=this;let o;if(!e){for(let a=wu.length-1;a>=0;a--)t.remove(wu[a]);return}if(fe(e)){HL(ik.select(e),a=>{o=t.get(a.id),o&&t.remove(o)});return}return o=e,Ue(t.get(o.id))?null:(pj(o)&&t.dispatch("RemoveEditor",{editor:o}),wu.length===0&&window.removeEventListener("beforeunload",zL),o.remove(),hj(wu.length>0),o)},execCommand(e,t,o){var a;const l=this,m=j(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(m)){const p=o.options;new $L(m,p,l).render()}return!0}case"mceRemoveEditor":{const p=l.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=l.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{HL(wu,e=>{e.save()})},addI18n:(e,t)=>{Dc.add(e,t)},translate:e=>Dc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ad(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ad(this.baseURL)}};wy.setup();const Yie=(()=>{const e=Sa(),t=m=>({items:m,types:Zt(m),getType:p=>wr(m,p).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:o,read:a,clear:l}})(),bj=Math.min,lk=Math.max,UL=Math.round,vj=(e,t,o)=>{let a=t.x,l=t.y;const m=e.w,p=e.h,_=t.w,A=t.h,$=(o||"").split("");return $[0]==="b"&&(l+=A),$[1]==="r"&&(a+=_),$[0]==="c"&&(l+=UL(A/2)),$[1]==="c"&&(a+=UL(_/2)),$[3]==="b"&&(l-=p),$[4]==="r"&&(a-=m),$[3]==="c"&&(l-=UL(p/2)),$[4]==="c"&&(a-=UL(m/2)),ck(a,l,m,p)},Xie=(e,t,o,a)=>{for(let l=0;l<a.length;l++){const m=vj(e,t,a[l]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[l]}return null},Jie=(e,t,o)=>ck(e.x-t,e.y-o,e.w+t*2,e.h+o*2),Qie=(e,t)=>{const o=lk(e.x,t.x),a=lk(e.y,t.y),l=bj(e.x+e.w,t.x+t.w),m=bj(e.y+e.h,t.y+t.h);return l-o<0||m-a<0?null:ck(o,a,l-o,m-a)},ele=(e,t,o)=>{let a=e.x,l=e.y,m=e.x+e.w,p=e.y+e.h;const _=t.x+t.w,A=t.y+t.h,$=lk(0,t.x-a),q=lk(0,t.y-l),Y=lk(0,m-_),ee=lk(0,p-A);return a+=$,l+=q,o&&(m+=$,p+=q,a-=Y,l-=ee),m-=Y,p-=ee,ck(a,l,m-a,p-l)},ck=(e,t,o,a)=>({x:e,y:t,w:o,h:a}),tle={inflate:Jie,relativePosition:vj,findBestRelativePosition:Xie,intersect:Qie,clamp:ele,create:ck,fromClientRect:e=>ck(e.left,e.top,e.width,e.height)},nle=(e,t,o=1e3)=>{let a=!1,l=null;const m=$=>(...q)=>{a||(a=!0,l!==null&&(clearTimeout(l),l=null),$.apply(null,q))},p=m(e),_=m(t);return{start:(...$)=>{!a&&l===null&&(l=setTimeout(()=>_.apply(null,$),o))},resolve:p,reject:_}},ole=(()=>{const e={},t={},o={};return{load:(A,$)=>{const q=`Script at URL "${$}" failed to load`,Y=`Script at URL "${$}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ee=new Promise((me,we)=>{const ge=nle(me,we);t[A]=ge.resolve,pl.ScriptLoader.loadScript($).then(()=>ge.start(Y),()=>ge.reject(q))});return e[A]=ee,ee}},add:(A,$)=>{t[A]!==void 0&&(t[A]($),delete t[A]),e[A]=Promise.resolve($),o[A]=$},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),rle=()=>(()=>{let e={},t=[];const o={getItem:a=>{const l=e[a];return l||null},setItem:(a,l)=>{t.push(a),e[a]=String(l)},key:a=>t[a],removeItem:a=>{t=t.filter(l=>l===a),delete e[a]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let lO;try{const e="__storage_test__";lO=window.localStorage,lO.setItem(e,e),lO.removeItem(e)}catch{lO=rle()}var sle=lO;const ale={geom:{Rect:tle},util:{Delay:Fc,Tools:Yt,VK:cn,URI:ad,EventDispatcher:L9,Observable:B9,I18n:Dc,LocalStorage:sle,ImageUploader:M$},dom:{EventUtils:Df,TreeWalker:ti,TextSeeker:Bd,DOMUtils:Hr,ScriptLoader:pl,RangeUtils:_p,Serializer:s6,StyleSheetLoader:Tm,ControlSelection:Rr,BookmarkManager:Mr,Selection:jT,Event:Df.Event},html:{Styles:yx,Entities:Ug,Node:wi,Schema:Oc,DomParser:oy,Writer:wA,Serializer:gh},Env:Eo,AddOnManager:el,Annotator:xR,Formatter:vw,UndoManager:F6,EditorCommands:oj,WindowManager:w6,NotificationManager:t4,EditorObservable:ij,Shortcuts:fj,Editor:$L,FocusManager:ed,EditorManager:wy,DOM:Hr.DOM,ScriptLoader:pl.ScriptLoader,PluginManager:Xv,ThemeManager:Vp,ModelManager:zp,IconManager:mw,Resource:ole,FakeClipboard:Yie,trim:Yt.trim,isArray:Yt.isArray,is:Yt.is,toArray:Yt.toArray,makeMap:Yt.makeMap,each:Yt.each,map:Yt.map,grep:Yt.grep,inArray:Yt.inArray,extend:Yt.extend,walk:Yt.walk,resolve:Yt.resolve,explode:Yt.explode,_addCacheSuffix:Yt._addCacheSuffix},yj=Yt.extend(wy,ale),ile=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(yj),ile(yj)})()}(Iz)),Iz.exports}var v0e=b0e();const y0e=pM(v0e);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,s=(r,i,u)=>{var d;return!!u(r,i.prototype)||((d=r.constructor)===null||d===void 0?void 0:d.name)===i.name},c=r=>i=>(u=>{const d=typeof u;return u===null?"null":d==="object"&&Array.isArray(u)?"array":d==="object"&&s(u,String,(b,v)=>v.isPrototypeOf(b))?"string":d})(i)===r,f=r=>i=>typeof i===r,g=r=>i=>r===i,h=c("string"),x=c("object"),C=r=>((i,u)=>x(i)&&s(i,u,(d,b)=>n(d)===b))(r,Object),O=c("array"),R=g(null),D=f("boolean"),N=g(void 0),H=r=>r==null,V=r=>!H(r),Z=f("function"),te=f("number"),ce=(r,i)=>{if(O(r)){for(let u=0,d=r.length;u<d;++u)if(!i(r[u]))return!1;return!0}return!1},X=()=>{},Se=r=>()=>r(),fe=(r,i)=>(...u)=>r(i.apply(null,u)),j=r=>()=>r,de=r=>r,oe=(r,i)=>r===i;function Ue(r,...i){return(...u)=>{const d=i.concat(u);return r.apply(null,d)}}const He=r=>i=>!r(i),je=r=>()=>{throw new Error(r)},st=r=>r(),Oe=j(!1),Be=j(!0);class P{constructor(i,u){this.tag=i,this.value=u}static some(i){return new P(!0,i)}static none(){return P.singletonNone}fold(i,u){return this.tag?u(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?P.some(i(this.value)):P.none()}bind(i){return this.tag?i(this.value):P.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:P.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i??"Called getOrDie on None")}static from(i){return V(i)?P.some(i):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const St=Array.prototype.slice,Mt=Array.prototype.indexOf,tn=Array.prototype.push,un=(r,i)=>Mt.call(r,i),ct=(r,i)=>un(r,i)>-1,_n=(r,i)=>{for(let u=0,d=r.length;u<d;u++)if(i(r[u],u))return!0;return!1},Vn=(r,i)=>{const u=[];for(let d=0;d<r;d++)u.push(i(d));return u},Lt=(r,i)=>{const u=[];for(let d=0;d<r.length;d+=i){const b=St.call(r,d,d+i);u.push(b)}return u},Je=(r,i)=>{const u=r.length,d=new Array(u);for(let b=0;b<u;b++){const v=r[b];d[b]=i(v,b)}return d},Tt=(r,i)=>{for(let u=0,d=r.length;u<d;u++)i(r[u],u)},Gn=(r,i)=>{const u=[],d=[];for(let b=0,v=r.length;b<v;b++){const w=r[b];(i(w,b)?u:d).push(w)}return{pass:u,fail:d}},jn=(r,i)=>{const u=[];for(let d=0,b=r.length;d<b;d++){const v=r[d];i(v,d)&&u.push(v)}return u},Xn=(r,i,u)=>(((d,b)=>{for(let v=d.length-1;v>=0;v--)b(d[v],v)})(r,(d,b)=>{u=i(u,d,b)}),u),gn=(r,i,u)=>(Tt(r,(d,b)=>{u=i(u,d,b)}),u),Q=(r,i)=>((u,d,b)=>{for(let v=0,w=u.length;v<w;v++){const k=u[v];if(d(k,v))return P.some(k);if(b(k,v))break}return P.none()})(r,i,Oe),gr=(r,i)=>{for(let u=0,d=r.length;u<d;u++)if(i(r[u],u))return P.some(u);return P.none()},$o=r=>{const i=[];for(let u=0,d=r.length;u<d;++u){if(!O(r[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+r);tn.apply(i,r[u])}return i},Do=(r,i)=>$o(Je(r,i)),Ye=(r,i)=>{for(let u=0,d=r.length;u<d;++u)if(i(r[u],u)!==!0)return!1;return!0},it=r=>{const i=St.call(r,0);return i.reverse(),i},be=(r,i)=>jn(r,u=>!ct(i,u)),Ae=(r,i)=>{const u={};for(let d=0,b=r.length;d<b;d++){const v=r[d];u[String(v)]=i(v,d)}return u},Fe=r=>[r],pe=(r,i)=>{const u=St.call(r,0);return u.sort(i),u},Ce=(r,i)=>i>=0&&i<r.length?P.some(r[i]):P.none(),De=r=>Ce(r,0),We=r=>Ce(r,r.length-1),dt=Z(Array.from)?Array.from:r=>St.call(r),on=(r,i)=>{for(let u=0;u<r.length;u++){const d=i(r[u],u);if(d.isSome())return d}return P.none()},Ft=Object.keys,vn=Object.hasOwnProperty,Mn=(r,i)=>{const u=Ft(r);for(let d=0,b=u.length;d<b;d++){const v=u[d];i(r[v],v)}},zn=(r,i)=>_o(r,(u,d)=>({k:d,v:i(u,d)})),_o=(r,i)=>{const u={};return Mn(r,(d,b)=>{const v=i(d,b);u[v.k]=v.v}),u},yo=r=>(i,u)=>{r[u]=i},Fr=(r,i,u,d)=>{Mn(r,(b,v)=>{(i(b,v)?u:d)(b,v)})},Yo=(r,i)=>{const u={};return Fr(r,i,yo(u),X),u},Us=(r,i)=>{const u=[];return Mn(r,(d,b)=>{u.push(i(d,b))}),u},ar=(r,i)=>{const u=Ft(r);for(let d=0,b=u.length;d<b;d++){const v=u[d],w=r[v];if(i(w,v,r))return P.some(w)}return P.none()},Pa=r=>Us(r,de),yn=(r,i)=>no(r,i)?P.from(r[i]):P.none(),no=(r,i)=>vn.call(r,i),bo=(r,i)=>no(r,i)&&r[i]!==void 0&&r[i]!==null,Xs=(r,i,u=oe)=>r.exists(d=>u(d,i)),Wi=r=>{const i=[],u=d=>{i.push(d)};for(let d=0;d<r.length;d++)r[d].each(u);return i},Zt=(r,i,u)=>r.isSome()&&i.isSome()?P.some(u(r.getOrDie(),i.getOrDie())):P.none(),sa=(r,i)=>r!=null?P.some(i(r)):P.none(),Xo=(r,i)=>r?P.some(i):P.none(),Il=(r,i,u)=>i===""||r.length>=i.length&&r.substr(u,u+i.length)===i,Pr=(r,i)=>cm(r,i)?((u,d)=>u.substring(d))(r,i.length):r,Ws=(r,i,u=0,d)=>{const b=r.indexOf(i,u);return b!==-1&&(!!N(d)||b+i.length<=d)},cm=(r,i)=>Il(r,i,0),Ou=(r,i)=>Il(r,i,r.length-i.length),pc=(mf=/^\s+|\s+$/g,r=>r.replace(mf,"")),ll=r=>r.length>0,Du=r=>!ll(r),wr=r=>r.style!==void 0&&Z(r.style.getPropertyValue),oo=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},Pl=(r,i)=>{const u=document.createElement("div");if(u.innerHTML=r,!u.hasChildNodes()||u.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,r),new Error(d)}return oo(u.childNodes[0])},xa=(r,i)=>{const u=document.createElement(r);return oo(u)},Ru=(r,i)=>{const u=document.createTextNode(r);return oo(u)},rn=oo,Nu=typeof window<"u"?window:Function("return this;")(),um=(r,i)=>((u,d)=>{let b=d??Nu;for(let v=0;v<u.length&&b!=null;++v)b=b[u[v]];return b})(r.split("."),i),ss=Object.getPrototypeOf,dm=r=>{const i=um("ownerDocument.defaultView",r);return x(r)&&((u=>((d,b)=>{const v=((w,k)=>um(w,k))(d,b);if(v==null)throw new Error(d+" not available on this browser");return v})("HTMLElement",u))(i).prototype.isPrototypeOf(r)||/^HTML\w*Element$/.test(ss(r).constructor.name))},Zi=r=>r.dom.nodeName.toLowerCase(),Sl=r=>i=>(u=>u.dom.nodeType)(i)===r,cl=r=>Xr(r)&&dm(r.dom),Xr=Sl(1),fi=Sl(3),kl=Sl(9),fm=Sl(11),Zc=r=>i=>Xr(i)&&Zi(i)===r,jc=(r,i)=>{const u=r.dom;if(u.nodeType!==1)return!1;{const d=u;if(d.matches!==void 0)return d.matches(i);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(i);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(i);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},lf=r=>r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11||r.childElementCount===0,xd=(r,i)=>{const u=i===void 0?document:i.dom;return lf(u)?P.none():P.from(u.querySelector(r)).map(rn)},Jo=(r,i)=>r.dom===i.dom,Ss=(r,i)=>{const u=r.dom,d=i.dom;return u!==d&&u.contains(d)},Js=r=>rn(r.dom.ownerDocument),mm=r=>kl(r)?r:Js(r),ji=r=>rn(mm(r).dom.documentElement),Kc=r=>rn(mm(r).dom.defaultView),mi=r=>P.from(r.dom.parentNode).map(rn),gi=r=>P.from(r.dom.parentElement).map(rn),qc=r=>P.from(r.dom.offsetParent).map(rn),Er=r=>Je(r.dom.childNodes,rn),Jr=(r,i)=>{const u=r.dom.childNodes;return P.from(u[i]).map(rn)},ke=r=>Jr(r,0),tt=(r,i)=>({element:r,offset:i}),Le=(r,i)=>{const u=Er(r);return u.length>0&&i<u.length?tt(u[i],0):tt(r,i)},gt=r=>fm(r)&&V(r.dom.host),ut=r=>rn(r.dom.getRootNode()),Qe=r=>gt(r)?r:rn(mm(r).dom.body),zt=r=>{const i=ut(r);return gt(i)?P.some(i):P.none()},Qt=r=>rn(r.dom.host),ln=r=>{const i=fi(r)?r.dom.parentNode:r.dom;if(i==null||i.ownerDocument===null)return!1;const u=i.ownerDocument;return zt(rn(i)).fold(()=>u.body.contains(i),(d=ln,b=Qt,v=>d(b(v))));var d,b},hn=()=>sn(rn(document)),sn=r=>{const i=r.dom.body;if(i==null)throw new Error("Body is not available yet");return rn(i)},fo=(r,i,u)=>{if(!(h(u)||D(u)||te(u)))throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",u,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(i,u+"")},nn=(r,i,u)=>{fo(r.dom,i,u)},hr=(r,i)=>{const u=r.dom;Mn(i,(d,b)=>{fo(u,b,d)})},Ro=(r,i)=>{const u=r.dom.getAttribute(i);return u===null?void 0:u},Ho=(r,i)=>P.from(Ro(r,i)),ks=(r,i)=>{const u=r.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(i)},xo=(r,i)=>{r.dom.removeAttribute(i)},Ll=(r,i,u)=>{if(!h(u))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",u,":: Element ",r),new Error("CSS value must be a string: "+u);wr(r)&&r.style.setProperty(i,u)},hi=(r,i)=>{wr(r)&&r.style.removeProperty(i)},ao=(r,i,u)=>{const d=r.dom;Ll(d,i,u)},Ki=(r,i)=>{const u=r.dom;Mn(i,(d,b)=>{Ll(u,b,d)})},ul=(r,i)=>{const u=r.dom;Mn(i,(d,b)=>{d.fold(()=>{hi(u,b)},v=>{Ll(u,b,v)})})},ps=(r,i)=>{const u=r.dom,d=window.getComputedStyle(u).getPropertyValue(i);return d!==""||ln(r)?d:cf(u,i)},cf=(r,i)=>wr(r)?r.style.getPropertyValue(i):"",Zs=(r,i)=>{const u=r.dom,d=cf(u,i);return P.from(d).filter(b=>b.length>0)},gm=r=>{const i={},u=r.dom;if(wr(u))for(let d=0;d<u.style.length;d++){const b=u.style.item(d);i[b]=u.style[b]}return i},Bl=(r,i,u)=>{const d=xa(r);return ao(d,i,u),Zs(d,i).isSome()},fr=(r,i)=>{const u=r.dom;hi(u,i),Xs(Ho(r,"style").map(pc),"")&&xo(r,"style")},wd=r=>r.dom.offsetWidth,Ag=(r,i)=>{const u=b=>{const v=i(b);if(v<=0||v===null){const w=ps(b,r);return parseFloat(w)||0}return v},d=(b,v)=>gn(v,(w,k)=>{const E=ps(b,k),I=E===void 0?0:parseInt(E,10);return isNaN(I)?w:w+I},0);return{set:(b,v)=>{if(!te(v)&&!v.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+v);const w=b.dom;wr(w)&&(w.style[r]=v+"px")},get:u,getOuter:u,aggregate:d,max:(b,v,w)=>{const k=d(b,w);return v>k?v-k:0}}},$h=Ag("height",r=>{const i=r.dom;return ln(r)?i.getBoundingClientRect().height:i.offsetHeight}),bs=r=>$h.get(r),bc=r=>$h.getOuter(r),dl=(r,i)=>({left:r,top:i,translate:(u,d)=>dl(r+u,i+d)}),Ur=dl,hm=(r,i)=>r!==void 0?r:i!==void 0?i:0,El=r=>{const i=r.dom.ownerDocument,u=i.body,d=i.defaultView,b=i.documentElement;if(u===r.dom)return Ur(u.offsetLeft,u.offsetTop);const v=hm(d==null?void 0:d.pageYOffset,b.scrollTop),w=hm(d==null?void 0:d.pageXOffset,b.scrollLeft),k=hm(b.clientTop,u.clientTop),E=hm(b.clientLeft,u.clientLeft);return qa(r).translate(w-E,v-k)},qa=r=>{const i=r.dom,u=i.ownerDocument.body;return u===i?Ur(u.offsetLeft,u.offsetTop):ln(r)?(d=>{const b=d.getBoundingClientRect();return Ur(b.left,b.top)})(i):Ur(0,0)},Tg=Ag("width",r=>r.dom.offsetWidth),wa=r=>Tg.get(r),qi=r=>Tg.getOuter(r),Ga=r=>{let i,u=!1;return(...d)=>(u||(u=!0,i=r.apply(null,d)),i)},Al=()=>Hh(0,0),Hh=(r,i)=>({major:r,minor:i}),Eo={nu:Hh,detect:(r,i)=>{const u=String(i).toLowerCase();return r.length===0?Al():((d,b)=>{const v=((k,E)=>{for(let I=0;I<k.length;I++){const F=k[I];if(F.test(E))return F}})(d,b);if(!v)return{major:0,minor:0};const w=k=>Number(b.replace(v,"$"+k));return Hh(w(1),w(2))})(r,u)},unknown:Al},Gc=(r,i)=>{const u=String(i).toLowerCase();return Q(r,d=>d.search(u))},Cd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Iu=r=>i=>Ws(i,r),yb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>Ws(r,"edge/")&&Ws(r,"chrome")&&Ws(r,"safari")&&Ws(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cd],search:r=>Ws(r,"chrome")&&!Ws(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>Ws(r,"msie")||Ws(r,"trident")},{name:"Opera",versionRegexes:[Cd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Iu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Iu("firefox")},{name:"Safari",versionRegexes:[Cd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(Ws(r,"safari")||Ws(r,"mobile/"))&&Ws(r,"applewebkit")}],qy=[{name:"Windows",search:Iu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>Ws(r,"iphone")||Ws(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Iu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Iu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Iu("linux"),versionRegexes:[]},{name:"Solaris",search:Iu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Iu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Iu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],D0={browsers:j(yb),oses:j(qy)},R0="Edge",iC="Chromium",zh="Opera",N0="Firefox",Yt="Safari",uf=r=>{const i=r.current,u=r.version,d=b=>()=>i===b;return{current:i,version:u,isEdge:d(R0),isChromium:d(iC),isIE:d("IE"),isOpera:d(zh),isFirefox:d(N0),isSafari:d(Yt)}},df=()=>uf({current:void 0,version:Eo.unknown()}),I0=uf,Ya="Windows",ff="Android",Og="Linux",Gy="macOS",Yy="Solaris",xb="FreeBSD",Xy="ChromeOS",P0=r=>{const i=r.current,u=r.version,d=b=>()=>i===b;return{current:i,version:u,isWindows:d(Ya),isiOS:d("iOS"),isAndroid:d(ff),isMacOS:d(Gy),isLinux:d(Og),isSolaris:d(Yy),isFreeBSD:d(xb),isChromeOS:d(Xy)}},Jy=()=>P0({current:void 0,version:Eo.unknown()}),Dg=P0,L0=r=>window.matchMedia(r).matches;var mf;let gf=Ga(()=>((r,i,u)=>{const d=D0.browsers(),b=D0.oses(),v=i.bind(E=>((I,F)=>on(F.brands,B=>{const z=B.brand.toLowerCase();return Q(I,G=>{var J;return z===((J=G.brand)===null||J===void 0?void 0:J.toLowerCase())}).map(G=>({current:G.name,version:Eo.nu(parseInt(B.version,10),0)}))}))(d,E)).orThunk(()=>((E,I)=>Gc(E,I).map(F=>{const B=Eo.detect(F.versionRegexes,I);return{current:F.name,version:B}}))(d,r)).fold(df,I0),w=((E,I)=>Gc(E,I).map(F=>{const B=Eo.detect(F.versionRegexes,I);return{current:F.name,version:B}}))(b,r).fold(Jy,Dg),k=((E,I,F,B)=>{const z=E.isiOS()&&/ipad/i.test(F)===!0,G=E.isiOS()&&!z,J=E.isiOS()||E.isAndroid(),ae=J||B("(pointer:coarse)"),ue=z||!G&&J&&B("(min-device-width:768px)"),ye=G||J&&!ue,le=I.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,ie=!ye&&!ue&&!le;return{isiPad:j(z),isiPhone:j(G),isTablet:j(ue),isPhone:j(ye),isTouch:j(ae),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:j(le),isDesktop:j(ie)}})(w,v,r,u);return{browser:v,os:w,deviceType:k}})(window.navigator.userAgent,P.from(window.navigator.userAgentData),L0));const Xa=()=>gf(),fl=r=>{const i=rn((v=>{if(V(v.target)){const w=rn(v.target);if(Xr(w)&&(k=>V(k.dom.shadowRoot))(w)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return De(k)}}return P.from(v.target)})(r).getOr(r.target)),u=()=>r.stopPropagation(),d=()=>r.preventDefault(),b=fe(d,u);return((v,w,k,E,I,F,B)=>({target:v,x:w,y:k,stop:E,prevent:I,kill:F,raw:B}))(i,r.clientX,r.clientY,u,d,b,r)},Rg=(r,i,u,d,b)=>{const v=((w,k)=>E=>{w(E)&&k(fl(E))})(u,d);return r.dom.addEventListener(i,v,b),{unbind:Ue(zo,r,i,v,b)}},zo=(r,i,u,d)=>{r.dom.removeEventListener(i,u,d)},_d=(r,i)=>{mi(r).each(u=>{u.dom.insertBefore(i.dom,r.dom)})},Ng=(r,i)=>{(d=>P.from(d.dom.nextSibling).map(rn))(r).fold(()=>{mi(r).each(d=>{Ei(d,i)})},d=>{_d(d,i)})},Ig=(r,i)=>{ke(r).fold(()=>{Ei(r,i)},u=>{r.dom.insertBefore(i.dom,u.dom)})},Ei=(r,i)=>{r.dom.appendChild(i.dom)},Ds=(r,i)=>{Tt(i,u=>{Ei(r,u)})},Qr=r=>{r.dom.textContent="",Tt(Er(r),i=>{La(i)})},La=r=>{const i=r.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},Wr=r=>{const i=r!==void 0?r.dom:document,u=i.body.scrollLeft||i.documentElement.scrollLeft,d=i.body.scrollTop||i.documentElement.scrollTop;return Ur(u,d)},hf=(r,i,u)=>{const d=(u!==void 0?u.dom:document).defaultView;d&&d.scrollTo(r,i)},pm=(r,i,u,d)=>({x:r,y:i,width:u,height:d,right:r+u,bottom:i+d}),fa=r=>{const i=r===void 0?window:r,u=i.document,d=Wr(rn(u));return(b=>{const v=b===void 0?window:b;return Xa().browser.isFirefox()?P.none():P.from(v.visualViewport)})(i).fold(()=>{const b=i.document.documentElement,v=b.clientWidth,w=b.clientHeight;return pm(d.left,d.top,v,w)},b=>pm(Math.max(b.pageLeft,d.left),Math.max(b.pageTop,d.top),b.width,b.height))},Ai=()=>rn(document),pi=(r,i)=>r.view(i).fold(j([]),u=>{const d=r.owner(u),b=pi(r,d);return[u].concat(b)});var Yc=Object.freeze({__proto__:null,view:r=>{var i;return(r.dom===document?P.none():P.from((i=r.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(rn)},owner:r=>Js(r)});const Sd=r=>{const i=Ai(),u=Wr(i);return((b,v)=>{const w=v.owner(b),k=pi(v,w);return P.some(k)})(r,Yc).fold(Ue(El,r),b=>{const v=qa(r),w=Xn(b,(k,E)=>{const I=qa(E);return{left:k.left+I.left,top:k.top+I.top}},{left:0,top:0});return Ur(w.left+v.left+u.left,w.top+v.top+u.top)})},Co=(r,i,u,d)=>({x:r,y:i,width:u,height:d,right:r+u,bottom:i+d}),Qs=r=>{const i=El(r),u=qi(r),d=bc(r);return Co(i.left,i.top,u,d)},ml=r=>{const i=Sd(r),u=qi(r),d=bc(r);return Co(i.left,i.top,u,d)},kd=(r,i)=>{const u=Math.max(r.x,i.x),d=Math.max(r.y,i.y),b=Math.min(r.right,i.right),v=Math.min(r.bottom,i.bottom);return Co(u,d,b-u,v-d)},Ba=()=>fa(window),Dn=r=>{let i=r;return{get:()=>i,set:u=>{i=u}}},vc=r=>{const i=Dn(P.none()),u=()=>i.get().each(r);return{clear:()=>{u(),i.set(P.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:d=>{u(),i.set(P.some(d))}}},yc=()=>vc(r=>r.unbind()),pr=()=>{const r=vc(X);return{...r,on:i=>r.get().each(i)}};var Vh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const wb=r=>{const i=v=>v(r),u=j(r),d=()=>b,b={tag:!0,inner:r,fold:(v,w)=>w(r),isValue:Be,isError:Oe,map:v=>Ao.value(v(r)),mapError:d,bind:i,exists:i,forall:i,getOr:u,or:d,getOrThunk:u,orThunk:d,getOrDie:u,each:v=>{v(r)},toOptional:()=>P.some(r)};return b},Ed=r=>{const i=()=>u,u={tag:!1,inner:r,fold:(d,b)=>d(r),isValue:Oe,isError:Be,map:i,mapError:d=>Ao.error(d(r)),bind:i,exists:Oe,forall:Be,getOr:de,or:de,getOrThunk:st,orThunk:st,getOrDie:je(String(r)),each:X,toOptional:P.none};return u},Ao={value:wb,error:Ed,fromOption:(r,i)=>r.fold(()=>Ed(i),wb)};var Ti;(function(r){r[r.Error=0]="Error",r[r.Value=1]="Value"})(Ti||(Ti={}));const Uh=(r,i,u)=>r.stype===Ti.Error?i(r.serror):u(r.svalue),Ad=r=>({stype:Ti.Value,svalue:r}),Cb=r=>({stype:Ti.Error,serror:r}),Xc=Ad,Gi=Cb,Jc=Uh,pf=(r,i,u,d)=>({tag:"field",key:r,newKey:i,presence:u,prop:d}),$e=(r,i,u)=>{switch(r.tag){case"field":return i(r.key,r.newKey,r.presence,r.prop);case"custom":return u(r.newKey,r.instantiator)}},bm=r=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const u={};for(let d=0;d<i.length;d++){const b=i[d];for(const v in b)no(b,v)&&(u[v]=r(u[v],b[v]))}return u},Ar=bm((r,i)=>C(r)&&C(i)?Ar(r,i):i),_b=bm((r,i)=>i),Pg=r=>({tag:"defaultedThunk",process:r}),Qc=r=>Pg(j(r)),Vo=r=>({tag:"mergeWithThunk",process:r}),Ja=r=>{const i=(d=>{const b=[],v=[];return Tt(d,w=>{Uh(w,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(r);return i.errors.length>0?(u=i.errors,fe(Gi,$o)(u)):Xc(i.values);var u},Pu=r=>x(r)&&Ft(r).length>100?" removed due to size":JSON.stringify(r,null,2),Gl=(r,i)=>Gi([{path:r,getErrorInfo:i}]),Lu=r=>({extract:(i,u)=>((d,b)=>d.stype===Ti.Error?b(d.serror):d)(r(u),d=>((b,v)=>Gl(b,j(v)))(i,d)),toString:j("val")}),Bu=Lu(Xc),Qa=(r,i,u,d)=>d(yn(r,i).getOrThunk(()=>u(r))),bf=(r,i,u,d,b)=>{const v=k=>b.extract(i.concat([d]),k),w=k=>k.fold(()=>Xc(P.none()),E=>((I,F)=>I.stype===Ti.Value?{stype:Ti.Value,svalue:F(I.svalue)}:I)(b.extract(i.concat([d]),E),P.some));switch(r.tag){case"required":return((k,E,I,F)=>yn(E,I).fold(()=>((B,z,G)=>Gl(B,()=>'Could not find valid *required* value for "'+z+'" in '+Pu(G)))(k,I,E),F))(i,u,d,v);case"defaultedThunk":return Qa(u,d,r.process,v);case"option":return((k,E,I)=>I(yn(k,E)))(u,d,w);case"defaultedOptionThunk":return((k,E,I,F)=>F(yn(k,E).map(B=>B===!0?I(k):B)))(u,d,r.process,w);case"mergeWithThunk":return Qa(u,d,j({}),k=>{const E=Ar(r.process(u),k);return v(E)})}},vm=r=>({extract:(i,u)=>r().extract(i,u),toString:()=>r().toString()}),Sb=r=>Ft(Yo(r,V)),ma=r=>{const i=Ln(r),u=Xn(r,(d,b)=>$e(b,v=>Ar(d,{[v]:!0}),j(d)),{});return{extract:(d,b)=>{const v=D(b)?[]:Sb(b),w=jn(v,k=>!bo(u,k));return w.length===0?i.extract(d,b):((k,E)=>Gl(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(d,w)},toString:i.toString}},Ln=r=>({extract:(i,u)=>((d,b,v)=>{const w={},k=[];for(const E of v)$e(E,(I,F,B,z)=>{const G=bf(B,d,b,I,z);Jc(G,J=>{k.push(...J)},J=>{w[F]=J})},(I,F)=>{w[I]=F(b)});return k.length>0?Gi(k):Xc(w)})(i,u,r),toString:()=>`obj{
`+Je(r,u=>$e(u,(d,b,v,w)=>d+" -> "+w.toString(),(d,b)=>"state("+d+")")).join(`
`)+"}"}),Mu=r=>({extract:(i,u)=>{const d=Je(u,(b,v)=>r.extract(i.concat(["["+v+"]"]),b));return Ja(d)},toString:()=>"array("+r.toString()+")"}),ym=(r,i)=>{const u=i!==void 0?i:de;return{extract:(d,b)=>{const v=[];for(const w of r){const k=w.extract(d,b);if(k.stype===Ti.Value)return{stype:Ti.Value,svalue:u(k.svalue)};v.push(k)}return Ja(v)},toString:()=>"oneOf("+Je(r,d=>d.toString()).join(", ")+")"}},ei=(r,i)=>({extract:(u,d)=>{const b=Ft(d),v=((w,k)=>Mu(Lu(r)).extract(w,k))(u,b);return((w,k)=>w.stype===Ti.Value?k(w.svalue):w)(v,w=>{const k=Je(w,E=>pf(E,E,{tag:"required",process:{}},i));return Ln(k).extract(u,d)})},toString:()=>"setOf("+i.toString()+")"}),Fu=fe(Mu,Ln),Tl=j(Bu),$u=(r,i)=>Lu(u=>{const d=typeof u;return r(u)?Xc(u):Gi(`Expected type: ${i} but got: ${d}`)}),Td=$u(te,"number"),ga=$u(h,"string"),Yl=$u(D,"boolean"),eu=$u(Z,"function"),xm=r=>{if(Object(r)!==r)return!0;switch({}.toString.call(r).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(r).every(i=>xm(r[i]));default:return!1}},B0=Lu(r=>xm(r)?Xc(r):Gi("Expected value to be acceptable for sending via postMessage")),Hu=(r,i)=>({extract:(u,d)=>yn(d,r).fold(()=>((b,v)=>Gl(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(u,r),b=>((v,w,k,E)=>yn(k,E).fold(()=>((I,F,B)=>Gl(I,()=>'The chosen schema: "'+B+'" did not exist in branches: '+Pu(F)))(v,k,E),I=>I.extract(v.concat(["branch: "+E]),w)))(u,d,i,b)),toString:()=>"chooseOn("+r+"). Possible values: "+Ft(i)}),vf=r=>Lu(i=>r(i).fold(Gi,Xc)),kb=(r,i)=>ei(u=>r(u).fold(Cb,Ad),i),us=(r,i,u)=>{return d=((b,v,w)=>((k,E)=>k.stype===Ti.Error?{stype:Ti.Error,serror:E(k.serror)}:k)(v.extract([b],w),k=>({input:w,errors:k})))(r,i,u),Uh(d,Ao.error,Ao.value);var d},Oi=r=>r.fold(i=>{throw new Error(Yi(i))},de),bi=(r,i,u)=>Oi(us(r,i,u)),Yi=r=>`Errors: 
`+(i=>{const u=i.length>10?i.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):i;return Je(u,d=>"Failed path: ("+d.path.join(" > ")+`)
`+d.getErrorInfo())})(r.errors).join(`
`)+`

Input object: `+Pu(r.input),aa=(r,i)=>Hu(r,zn(i,Ln)),Wh=(r,i)=>((u,d)=>{const b=Ga(d);return{extract:(v,w)=>b().extract(v,w),toString:()=>b().toString()}})(0,i),ea=pf,Ma=(r,i)=>({tag:"custom",newKey:r,instantiator:i}),tu=r=>vf(i=>ct(r,i)?Ao.value(i):Ao.error(`Unsupported value: "${i}", choose one of "${r.join(", ")}".`)),Ot=r=>ea(r,r,{tag:"required",process:{}},Tl()),Fa=(r,i)=>ea(r,r,{tag:"required",process:{}},i),Zh=r=>Fa(r,Td),ds=r=>Fa(r,ga),zu=(r,i)=>ea(r,r,{tag:"required",process:{}},tu(i)),Di=r=>Fa(r,eu),xc=(r,i)=>ea(r,r,{tag:"required",process:{}},Ln(i)),wm=(r,i)=>ea(r,r,{tag:"required",process:{}},Fu(i)),Xi=(r,i)=>ea(r,r,{tag:"required",process:{}},Mu(i)),Bo=r=>ea(r,r,{tag:"option",process:{}},Tl()),Rs=(r,i)=>ea(r,r,{tag:"option",process:{}},i),yf=r=>Rs(r,Td),Es=r=>Rs(r,ga),Lg=(r,i)=>Rs(r,tu(i)),nu=r=>Rs(r,eu),M0=(r,i)=>Rs(r,Mu(i)),vs=(r,i)=>Rs(r,Ln(i)),rt=(r,i)=>ea(r,r,Qc(i),Tl()),Ri=(r,i,u)=>ea(r,r,Qc(i),u),Ns=(r,i)=>Ri(r,i,Td),Ml=(r,i)=>Ri(r,i,ga),wc=(r,i,u)=>Ri(r,i,tu(u)),js=(r,i)=>Ri(r,i,Yl),Zr=(r,i)=>Ri(r,i,eu),Cr=(r,i,u)=>Ri(r,i,Mu(u)),Ni=(r,i,u)=>Ri(r,i,Ln(u)),Fl=r=>{if(!O(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const i=[],u={};return Tt(r,(d,b)=>{const v=Ft(d);if(v.length!==1)throw new Error("one and only one name per case");const w=v[0],k=d[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!O(k))throw new Error("case arguments must be an array");i.push(w),u[w]=(...E)=>{const I=E.length;if(I!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+I);return{fold:(...F)=>{if(F.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+F.length);return F[b].apply(null,E)},match:F=>{const B=Ft(F);if(i.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+B.join(","));if(!Ye(i,z=>ct(B,z)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+i.join(", "));return F[w].apply(null,E)},log:F=>{console.log(F,{constructors:i,constructor:w,params:E})}}}}),u};Fl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ou=(r,i)=>((u,d)=>({[u]:d}))(r,i),Od=r=>(i=>{const u={};return Tt(i,d=>{u[d.key]=d.value}),u})(r),Cm=r=>Z(r)?r:Oe,Bg=(r,i,u)=>{let d=r.dom;const b=Cm(u);for(;d.parentNode;){d=d.parentNode;const v=rn(d),w=i(v);if(w.isSome())return w;if(b(v))break}return P.none()},Mg=(r,i,u)=>{const d=i(r),b=Cm(u);return d.orThunk(()=>b(r)?P.none():Bg(r,i,b))},Eb=(r,i)=>Jo(r.element,i.event.target),Ab={can:Be,abort:Oe,run:X},Vu=r=>{if(!bo(r,"can")&&!bo(r,"abort")&&!bo(r,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(r,null,2)+" does not have can, abort, or run!");return{...Ab,...r}},L=j,K=L("touchstart"),re=L("touchmove"),Re=L("touchend"),Ke=L("touchcancel"),Dt=L("mousedown"),Bn=L("mousemove"),mo=L("mouseout"),ro=L("mouseup"),kn=L("mouseover"),ir=L("focusin"),Is=L("focusout"),fs=L("keydown"),Cc=L("keyup"),_m=L("input"),Sm=L("change"),ia=L("click"),lC=L("transitioncancel"),Tb=L("transitionend"),F0=L("transitionstart"),ti=L("selectstart"),ys=r=>j("alloy."+r),Ca={tap:ys("tap")},Uu=ys("focus"),jh=ys("blur.post"),Qy=ys("paste.post"),Xl=ys("receive"),gl=ys("execute"),Ob=ys("focus.item"),xf=Ca.tap,Vk=ys("longpress"),Db=ys("sandbox.close"),Dd=ys("typeahead.cancel"),wf=ys("system.init"),Sn=ys("system.touchmove"),ru=ys("system.touchend"),Rb=ys("system.scroll"),Cf=ys("system.resize"),ni=ys("system.attached"),_c=ys("system.detached"),Fg=ys("system.dismissRequested"),_f=ys("system.repositionRequested"),$0=ys("focusmanager.shifted"),su=ys("slotcontainer.visibility"),Kh=ys("system.external.element.scroll"),qh=ys("change.tab"),Ht=ys("dismiss.tab"),ex=ys("highlight"),Sf=ys("dehighlight"),wo=(r,i)=>{Sc(r,r.element,i,{})},En=(r,i,u)=>{Sc(r,r.element,i,u)},kf=r=>{wo(r,gl())},as=(r,i,u)=>{Sc(r,i,u,{})},Sc=(r,i,u,d)=>{const b={target:i,...d};r.getSystem().triggerEvent(u,i,b)},kc=(r,i,u,d)=>{r.getSystem().triggerEvent(u,i,d.event)},lo=r=>Od(r),Gh=(r,i)=>({key:r,value:Vu({abort:i})}),cC=r=>({key:r,value:Vu({run:(i,u)=>{u.event.prevent()}})}),Ct=(r,i)=>({key:r,value:Vu({run:i})}),tx=(r,i,u)=>({key:r,value:Vu({run:(d,b)=>{i.apply(void 0,[d,b].concat(u))}})}),Yh=r=>i=>({key:r,value:Vu({run:(u,d)=>{Eb(u,d)&&i(u,d)}})}),Xh=(r,i,u)=>((d,b)=>Ct(d,(v,w)=>{v.getSystem().getByUid(b).each(k=>{kc(k,k.element,d,w)})}))(r,i.partUids[u]),$g=(r,i)=>Ct(r,(u,d)=>{const b=d.event,v=u.getSystem().getByDom(b.target).getOrThunk(()=>Mg(b.target,w=>u.getSystem().getByDom(w).toOptional(),Oe).getOr(u));i(u,v,d)}),km=r=>Ct(r,(i,u)=>{u.cut()}),uC=r=>Ct(r,(i,u)=>{u.stop()}),Ef=(r,i)=>Yh(r)(i),Gr=Yh(ni()),Wu=Yh(_c()),H0=Yh(wf()),au=(Om=gl(),r=>Ct(Om,r)),Em=r=>Je(r,i=>Ou(i,"/*")?i.substring(0,i.length-2):i),Jl=(r,i)=>{const u=r.toString(),d=u.indexOf(")")+1,b=u.indexOf("("),v=u.substring(b+1,d-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:i,parameters:Em(v)}),r},Ps=r=>({classes:N(r.classes)?[]:r.classes,attributes:N(r.attributes)?{}:r.attributes,styles:N(r.styles)?{}:r.styles}),Nb=(r,i,u)=>H0((d,b)=>{u(d,r,i)}),_a=r=>({key:r,value:void 0}),z0=(r,i,u,d,b,v,w)=>{const k=F=>bo(F,u)?F[u]():P.none(),E=zn(b,(F,B)=>((z,G,J)=>((ae,ue,ye)=>{const le=ye.toString(),ie=le.indexOf(")")+1,he=le.indexOf("("),xe=le.substring(he+1,ie-1).split(/,\s*/);return ae.toFunctionAnnotation=()=>({name:ue,parameters:Em(xe.slice(0,1).concat(xe.slice(3)))}),ae})((ae,...ue)=>{const ye=[ae].concat(ue);return ae.config({name:j(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+J)},le=>{const ie=Array.prototype.slice.call(ye,1);return G.apply(void 0,[ae,le.config,le.state].concat(ie))})},J,G))(u,F,B)),I={...zn(v,(F,B)=>Jl(F,B)),...E,revoke:Ue(_a,u),config:F=>{const B=bi(u+"-config",r,F);return{key:u,value:{config:B,me:I,configAsRaw:Ga(()=>bi(u+"-config",r,F)),initialConfig:F,state:w}}},schema:j(i),exhibit:(F,B)=>Zt(k(F),yn(d,"exhibit"),(z,G)=>G(B,z.config,z.state)).getOrThunk(()=>Ps({})),name:j(u),handlers:F=>k(F).map(B=>yn(d,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return I},Ec={init:()=>Sa({readState:j("No State required")})},Sa=r=>r,Vt=r=>Od(r),Am=ma([Ot("fields"),Ot("name"),rt("active",{}),rt("apis",{}),rt("state",Ec),rt("extra",{})]),ka=r=>{const i=bi("Creating behaviour: "+r.name,Am,r);return((u,d,b,v,w,k)=>{const E=ma(u),I=vs(d,[(F=u,Rs("config",ma(F)))]);var F;return z0(E,I,d,b,v,w,k)})(i.fields,i.name,i.active,i.apis,i.extra,i.state)},dC=ma([Ot("branchKey"),Ot("branches"),Ot("name"),rt("active",{}),rt("apis",{}),rt("state",Ec),rt("extra",{})]),fC=r=>{const i=bi("Creating behaviour: "+r.name,dC,r);return((u,d,b,v,w,k)=>{const E=u,I=vs(d,[Rs("config",u)]);return z0(E,I,d,b,v,w,k)})(aa(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},Uk=j(void 0),Rd=(r,i)=>{const u=Ro(r,i);return u===void 0||u===""?[]:u.split(" ")},Hg=r=>r.dom.classList!==void 0,Ib=r=>Rd(r,"class"),V0=(r,i)=>((u,d,b)=>{const v=Rd(u,d).concat([b]);return nn(u,d,v.join(" ")),!0})(r,"class",i),nx=(r,i)=>((u,d,b)=>{const v=jn(Rd(u,d),w=>w!==b);return v.length>0?nn(u,d,v.join(" ")):xo(u,d),!1})(r,"class",i),ms=(r,i)=>{Hg(r)?r.dom.classList.add(i):V0(r,i)},Pb=r=>{(Hg(r)?r.dom.classList:Ib(r)).length===0&&xo(r,"class")},xs=(r,i)=>{Hg(r)?r.dom.classList.remove(i):nx(r,i),Pb(r)},Ji=(r,i)=>Hg(r)&&r.dom.classList.contains(i),Ls=(r,i)=>{Tt(i,u=>{ms(r,u)})},Ql=(r,i)=>{Tt(i,u=>{xs(r,u)})},Nd=r=>Hg(r)?(i=>{const u=i.dom.classList,d=new Array(u.length);for(let b=0;b<u.length;b++){const v=u.item(b);v!==null&&(d[b]=v)}return d})(r):Ib(r),$a=(r,i,u,d,b)=>{const v=w=>w+"px";return{position:r,left:i.map(v),top:u.map(v),right:d.map(v),bottom:b.map(v)}},Lb=(r,i)=>{ul(r,(u=>({...u,position:P.some(u.position)}))(i))},Jh=r=>(Xs(Zs(r,"position"),"fixed")?P.none():qc(r)).orThunk(()=>{const i=xa("span");return mi(r).bind(u=>{Ei(u,i);const d=qc(i);return La(i),d})}),Af=r=>Jh(r).map(El).getOrThunk(()=>Ur(0,0)),mC=(r,i)=>{const u=r.element;ms(u,i.transitionClass),xs(u,i.fadeOutClass),ms(u,i.fadeInClass),i.onShow(r)},Qh=(r,i)=>{const u=r.element;ms(u,i.transitionClass),xs(u,i.fadeInClass),ms(u,i.fadeOutClass),i.onHide(r)},ox=(r,i)=>r.y>=i.y,U0=(r,i)=>r.bottom<=i.bottom,Bb=(r,i,u)=>({location:"top",leftX:i,topY:u.bounds.y-r.y}),W0=(r,i,u)=>({location:"bottom",leftX:i,bottomY:r.bottom-u.bounds.bottom}),rx=r=>r.box.x-r.win.x,Tm=(r,i,u)=>u.getInitialPos().map(d=>{const b=((v,w)=>{const k=w.optScrollEnv.fold(j(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return Ur(v.bounds.x,k)})(d,i);return{box:Co(b.left,b.top,wa(r),bs(r)),location:d.location}}),Wk=(r,i,u,d,b)=>{const v=((k,E)=>{const I=E.optScrollEnv.fold(j(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return Ur(k.x,I)})(i,u),w=Co(v.left,v.top,i.width,i.height);d.setInitialPos({style:gm(r),position:ps(r,"position")||"static",bounds:w,location:b.location})},Z0=(r,i,u)=>u.getInitialPos().bind(d=>{var b;switch(u.clearInitialPos(),d.position){case"static":return P.some({morph:"static"});case"absolute":const v=Jh(r).getOr(hn()),w=Qs(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return P.some({morph:"absolute",positionCss:$a("absolute",yn(d.style,"left").map(E=>i.x-w.x),yn(d.style,"top").map(E=>i.y-w.y+k),yn(d.style,"right").map(E=>w.right-i.right),yn(d.style,"bottom").map(E=>w.bottom-i.bottom))});default:return P.none()}}),j0=r=>{switch(r.location){case"top":return P.some({morph:"fixed",positionCss:$a("fixed",P.some(r.leftX),P.some(r.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:$a("fixed",P.some(r.leftX),P.none(),P.none(),P.some(r.bottomY))});default:return P.none()}},sx=(r,i,u)=>{const d=r.element;return Xs(Zs(d,"position"),"fixed")?((b,v,w)=>((k,E,I)=>Tm(k,E,I).filter(({box:F})=>((B,z,G)=>Ye(B,J=>{switch(J){case"bottom":return U0(z,G.bounds);case"top":return ox(z,G.bounds)}}))(I.getModes(),F,E)).bind(({box:F})=>Z0(k,F,I)))(b,v,w).orThunk(()=>v.optScrollEnv.bind(k=>Tm(b,v,w)).bind(({box:k,location:E})=>{const I=Ba(),F=rx({win:I,box:k}),B=E==="top"?Bb(I,F,v):W0(I,F,v);return j0(B)})))(d,i,u):((b,v,w)=>{const k=Qs(b),E=Ba(),I=((F,B,z)=>{const G=B.win,J=B.box,ae=rx(B);return on(F,ue=>{switch(ue){case"bottom":return U0(J,z.bounds)?P.none():P.some(W0(G,ae,z));case"top":return ox(J,z.bounds)?P.none():P.some(Bb(G,ae,z));default:return P.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},v);return I.location==="top"||I.location==="bottom"?(Wk(b,k,v,w,I),j0(I)):P.none()})(d,i,u)},ax=(r,i,u)=>{u.setDocked(!1),Tt(["left","right","top","bottom","position"],d=>fr(r.element,d)),i.onUndocked(r)},Mb=(r,i,u,d)=>{const b=d.position==="fixed";u.setDocked(b),Lb(r.element,d),(b?i.onDocked:i.onUndocked)(r)},ix=(r,i,u,d,b=!1)=>{i.contextual.each(v=>{v.lazyContext(r).each(w=>{const k=((E,I)=>E.y<I.bottom&&E.bottom>I.y)(w,d.bounds);k!==u.isVisible()&&(u.setVisible(k),b&&!k?(Ls(r.element,[v.fadeOutClass]),v.onHide(r)):(k?mC:Qh)(r,v))})})},lx=(r,i,u,d,b)=>{ix(r,i,u,d,!0),Mb(r,i,u,b.positionCss)},Fb=(r,i,u)=>{r.getSystem().isConnected()&&((d,b,v)=>{const w=b.lazyViewport(d);ix(d,b,v,w),sx(d,w,v).each(k=>{((E,I,F,B,z)=>{switch(z.morph){case"static":return ax(E,I,F);case"absolute":return Mb(E,I,F,z.positionCss);case"fixed":lx(E,I,F,B,z)}})(d,b,v,w,k)})})(r,i,u)},ep=(r,i,u)=>{u.isDocked()&&((d,b,v)=>{const w=d.element;v.setDocked(!1);const k=b.lazyViewport(d);((E,I,F)=>{const B=E.element;return Tm(B,I,F).bind(({box:z})=>Z0(B,z,F))})(d,k,v).each(E=>{switch(E.morph){case"static":ax(d,b,v);break;case"absolute":Mb(d,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{Ql(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(d)}),Fb(d,b,v)})(r,i,u)},cx=r=>(i,u,d)=>{const b=u.lazyViewport(i);((v,w,k,E)=>{const I=Qs(v),F=Ba(),B=E(F,rx({win:F,box:I}),w);return B.location==="bottom"||B.location==="top"?(((z,G,J,ae,ue)=>{ae.getInitialPos().fold(()=>Wk(z,G,J,ae,ue),()=>X)})(v,I,w,k,B),j0(B)):P.none()})(i.element,b,d,r).each(v=>{lx(i,u,d,b,v)})},$b=cx(Bb),Hb=cx(W0);var Om,tp=Object.freeze({__proto__:null,refresh:Fb,reset:ep,isDocked:(r,i,u)=>u.isDocked(),getModes:(r,i,u)=>u.getModes(),setModes:(r,i,u,d)=>u.setModes(d),forceDockToTop:$b,forceDockToBottom:Hb}),ux=Object.freeze({__proto__:null,events:(r,i)=>lo([Ef(Tb(),(u,d)=>{r.contextual.each(b=>{Ji(u.element,b.transitionClass)&&(Ql(u.element,[b.transitionClass,b.fadeInClass]),(i.isVisible()?b.onShown:b.onHidden)(u)),d.stop()})}),Ct(Rb(),(u,d)=>{Fb(u,r,i)}),Ct(Kh(),(u,d)=>{Fb(u,r,i)}),Ct(Cf(),(u,d)=>{ep(u,r,i)})])});const Id=r=>r.dom.innerHTML,zg=(r,i)=>{const u=Js(r).dom,d=rn(u.createDocumentFragment()),b=((v,w)=>{const k=(w||document).createElement("div");return k.innerHTML=v,Er(rn(k))})(i,u);Ds(d,b),Qr(r),Ei(r,d)},Vg=(r,i)=>rn(r.dom.cloneNode(i)),Pd=r=>(i=>{if(gt(i))return"#shadow-root";{const u=(d=>Vg(d,!1))(i);return(d=>{const b=xa("div"),v=rn(d.dom.cloneNode(!0));return Ei(b,v),Id(b)})(u)}})(r);var Tf;(function(r){r[r.STOP=0]="STOP",r[r.NORMAL=1]="NORMAL",r[r.LOGGING=2]="LOGGING"})(Tf||(Tf={}));const zb=Dn({}),Zk=["alloy/data/Fields","alloy/debugging/Debugging"],Vb=(r,i,u)=>((d,b,v)=>{switch(yn(zb.get(),d).orThunk(()=>{const w=Ft(zb.get());return on(w,k=>d.indexOf(k)>-1?P.some(zb.get()[k]):P.none())}).getOr(Tf.NORMAL)){case Tf.NORMAL:return v(Ac());case Tf.LOGGING:{const w=((E,I)=>{const F=[],B=new Date().getTime();return{logEventCut:(z,G,J)=>{F.push({outcome:"cut",target:G,purpose:J})},logEventStopped:(z,G,J)=>{F.push({outcome:"stopped",target:G,purpose:J})},logNoParent:(z,G,J)=>{F.push({outcome:"no-parent",target:G,purpose:J})},logEventNoHandlers:(z,G)=>{F.push({outcome:"no-handlers-left",target:G})},logEventResponse:(z,G,J)=>{F.push({outcome:"response",purpose:J,target:G})},write:()=>{const z=new Date().getTime();ct(["mousemove","mouseover","mouseout",wf()],E)||console.log(E,{event:E,time:z-B,target:I.dom,sequence:Je(F,G=>ct(["cut","stopped","response"],G.outcome)?"{"+G.purpose+"} "+G.outcome+" at ("+Pd(G.target)+")":G.outcome)})}}})(d,b),k=v(w);return w.write(),k}case Tf.STOP:return!0}})(r,i,u),Ac=j({logEventCut:X,logEventStopped:X,logNoParent:X,logEventNoHandlers:X,logEventResponse:X,write:X}),gC=j([Ot("menu"),Ot("selectedMenu")]),dx=j([Ot("item"),Ot("selectedItem")]);j(Ln(dx().concat(gC())));const Ug=j(Ln(dx())),oi=xc("initSize",[Ot("numColumns"),Ot("numRows")]),Wg=()=>xc("markers",[Ot("backgroundMenu")].concat(gC()).concat(dx())),Zg=r=>xc("markers",Je(r,Ot)),K0=(r,i,u)=>((()=>{const d=new Error;if(d.stack!==void 0){const b=d.stack.split(`
`);Q(b,v=>v.indexOf("alloy")>0&&!_n(Zk,w=>v.indexOf(w)>-1)).getOr("unknown")}})(),ea(i,i,u,vf(d=>Ao.value((...b)=>d.apply(void 0,b))))),Uo=r=>K0(0,r,Qc(X)),hl=r=>K0(0,r,Qc(P.none)),Zu=r=>K0(0,r,{tag:"required",process:{}}),vi=r=>K0(0,r,{tag:"required",process:{}}),$r=(r,i)=>Ma(r,j(i)),Ub=r=>Ma(r,de),hC=j(oi);var jk=[vs("contextual",[ds("fadeInClass"),ds("fadeOutClass"),ds("transitionClass"),Di("lazyContext"),Uo("onShow"),Uo("onShown"),Uo("onHide"),Uo("onHidden")]),Zr("lazyViewport",()=>({bounds:Ba(),optScrollEnv:P.none()})),Cr("modes",["top","bottom"],ga),Uo("onDocked"),Uo("onUndocked")];const es=ka({fields:jk,name:"docking",active:ux,apis:tp,state:Object.freeze({__proto__:null,init:r=>{const i=Dn(!1),u=Dn(!0),d=pr(),b=Dn(r.modes);return Sa({isDocked:i.get,setDocked:i.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:u.get,setVisible:u.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${i.get()}, visible: ${u.get()}, modes: ${b.get().join(",")}`})}})}),q0=lo([((r,i)=>({key:r,value:Vu({can:(u,d)=>{const b=d.event,v=b.originator,w=b.target;return!((k,E,I)=>Jo(E,k.element)&&!Jo(E,I))(u,v,w)||(console.warn(Uu()+` did not get interpreted by the desired target. 
Originator: `+Pd(v)+`
Target: `+Pd(w)+`
Check the `+Uu()+" event handlers"),!1)}})}))(Uu())]);var fx=Object.freeze({__proto__:null,events:q0});const Dm=(r,i,u,d)=>{const b=r+i;return b>d?u:b<u?d:b},Tc=(r,i,u)=>Math.min(Math.max(r,i),u);let np=0;const pn=r=>{const i=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return np++,r+"_"+u+np+String(i)},iu=j("alloy-id-"),mx=j("data-alloy-id"),G0=iu(),op=mx(),Y0=(r,i)=>{Object.defineProperty(r.dom,op,{value:i,writable:!0})},jg=r=>{const i=Xr(r)?r.dom[op]:null;return P.from(i)},Oc=r=>pn(r),Kk=de,X0=r=>{const i=b=>`The component must be in a context to execute: ${b}`+(r?`
`+Pd(r().element)+" is not in context.":""),u=b=>()=>{throw new Error(i(b))},d=b=>()=>{console.warn(i(b))};return{debugInfo:j("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Oe}},gx=X0(),J0=pn("alloy-premade"),hx=r=>(Object.defineProperty(r.element.dom,J0,{value:r.uid,writable:!0}),ou(J0,r)),px=r=>yn(r,J0),Q0=r=>((i,u)=>{const d=u.toString(),b=d.indexOf(")")+1,v=d.indexOf("("),w=d.substring(v+1,b-1).split(/,\s*/);return i.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Em(w.slice(1))}),i})((i,...u)=>r(i.getApis(),i,...u),r),bx=(r,i)=>{const u={};return Mn(r,(d,b)=>{Mn(d,(v,w)=>{const k=yn(u,w).getOr([]);u[w]=k.concat([i(b,v)])})}),u},vx=r=>r.cHandler,pC=(r,i)=>({name:r,handler:i}),qk=(r,i)=>{const u={};return Tt(r,d=>{u[d.name()]=d.handlers(i)}),u},Wb=(r,i,u)=>{const d=i[u];return d?((b,v,w,k)=>{try{const E=pe(w,(I,F)=>{const B=I[v],z=F[v],G=k.indexOf(B),J=k.indexOf(z);if(G===-1)throw new Error("The ordering for "+b+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(k,null,2));if(J===-1)throw new Error("The ordering for "+b+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(k,null,2));return G<J?-1:J<G?1:0});return Ao.value(E)}catch(E){return Ao.error([E])}})("Event: "+u,"name",r,d).map(b=>(v=>({can:((E,I)=>(...F)=>gn(E,(B,z)=>B&&(G=>G.can)(z).apply(void 0,F),!0))(v),abort:((E,I)=>(...F)=>gn(E,(B,z)=>B||(G=>G.abort)(z).apply(void 0,F),!1))(v),run:(...E)=>{Tt(v,I=>{I.run.apply(void 0,E)})}}))(Je(b,v=>v.handler))):((b,v)=>Ao.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Je(v,w=>w.name),null,2)]))(u,r)},yx=(r,i)=>((u,d)=>{const b=(w=>{const k=[],E=[];return Tt(w,I=>{I.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(u);return b.errors.length>0?(v=b.errors,Ao.error($o(v))):((w,k)=>w.length===0?Ao.value(k):Ao.value(Ar(k,_b.apply(void 0,w))))(b.values,d);var v})(Us(r,(u,d)=>(u.length===1?Ao.value(u[0].handler):Wb(u,i,d)).map(b=>{const v=(k=>{const E=(I=>Z(I)?{can:Be,abort:Oe,run:I}:I)(k);return(I,F,...B)=>{const z=[I,F].concat(B);E.abort.apply(void 0,z)?F.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(b),w=u.length>1?jn(i[d],k=>_n(u,E=>E.name===k)).join(" > "):u[0].name;return ou(d,((k,E)=>({handler:k,purpose:E}))(v,w))})),{}),Kg="alloy.base.behaviour",Gk=Ln([ea("dom","dom",{tag:"required",process:{}},Ln([Ot("tag"),rt("styles",{}),rt("classes",[]),rt("attributes",{}),Bo("value"),Bo("innerHtml")])),Ot("components"),Ot("uid"),rt("events",{}),rt("apis",{}),ea("eventOrder","eventOrder",(qg={[gl()]:["disabling",Kg,"toggling","typeaheadevents"],[Uu()]:[Kg,"focusing","keying"],[wf()]:[Kg,"disabling","toggling","representing","tooltipping"],[_m()]:[Kg,"representing","streaming","invalidating"],[_c()]:[Kg,"representing","item-events","toolbar-button-events","tooltipping"],[Dt()]:["focusing",Kg,"item-type-events"],[K()]:["focusing",Kg,"item-type-events"],[kn()]:["item-type-events","tooltipping"],[Xl()]:["receiving","reflecting","tooltipping"]},Vo(j(qg))),Tl()),Bo("domModification")]),Yk=r=>r.events,Of=r=>r.dom.value,Rm=(r,i)=>{if(i===void 0)throw new Error("Value.set was undefined");r.dom.value=i},e1=(r,i,u)=>{u.fold(()=>Ei(r,i),d=>{Jo(d,i)||(_d(d,i),La(d))})},bC=(r,i,u)=>{const d=Je(i,u),b=Er(r);return Tt(b.slice(d.length),La),d},xx=(r,i,u,d)=>{const b=Jr(r,i),v=d(u,b),w=((k,E,I)=>Jr(k,E).map(F=>{if(I.exists(B=>!Jo(B,F))){const B=I.map(Zi).getOr("span"),z=xa(B);return _d(F,z),z}return F}))(r,i,b);return e1(r,v.element,w),v},Zb=(r,i)=>{const u=Ft(r),d=Ft(i),b=be(d,u),v=((w,k)=>{const E={},I={};return Fr(w,(F,B)=>!no(i,B)||F!==i[B],yo(E),yo(I)),{t:E,f:I}})(r).t;return{toRemove:b,toSet:v}},Ld=(r,i)=>{const u=i.filter(d=>Zi(d)===r.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(r)&&!(b=>no(b.dom,J0))(d)).bind(d=>((b,v)=>{try{const w=((k,E)=>{const{class:I,style:F,...B}=(he=>gn(he.dom.attributes,(xe,_e)=>(xe[_e.name]=_e.value,xe),{}))(E),{toSet:z,toRemove:G}=Zb(k.attributes,B),J=gm(E),{toSet:ae,toRemove:ue}=Zb(k.styles,J),ye=Nd(E),le=be(ye,k.classes),ie=be(k.classes,ye);return Tt(G,he=>xo(E,he)),hr(E,z),Ls(E,ie),Ql(E,le),Tt(ue,he=>fr(E,he)),Ki(E,ae),k.innerHtml.fold(()=>{const he=k.domChildren;((xe,_e)=>{bC(xe,_e,(Ve,nt)=>{const kt=Jr(xe,nt);return e1(xe,Ve,kt),Ve})})(E,he)},he=>{zg(E,he)}),(()=>{const he=E,xe=k.value.getOrUndefined();xe!==Of(he)&&Rm(he,xe??"")})(),E})(b,v);return P.some(w)}catch{return P.none()}})(r,d)).getOrThunk(()=>(d=>{const b=xa(d.tag);hr(b,d.attributes),Ls(b,d.classes),Ki(b,d.styles),d.innerHtml.each(w=>zg(b,w));const v=d.domChildren;return Ds(b,v),d.value.each(w=>{Rm(b,w)}),b})(r));return Y0(u,r.uid),u},t1=r=>{const i=(u=>{const d=yn(u,"behaviours").getOr({});return Do(Ft(d),b=>{const v=d[b];return V(v)?[v.me]:[]})})(r);return((u,d)=>((b,v)=>{const w=Je(v,E=>vs(E.name(),[Ot("config"),rt("state",Ec)])),k=us("component.behaviours",Ln(w),b.behaviours).fold(E=>{throw new Error(Yi(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},de);return{list:v,data:zn(k,E=>{const I=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return j(I)})}})(u,d))(r,i)},la=(r,i)=>{const u=()=>z,d=Dn(gx),b=Oi((G=>us("custom.definition",Gk,G))(r)),v=t1(r),w=(G=>G.list)(v),k=(G=>G.data)(v),E=((G,J,ae)=>{const ue={...(ye=G).dom,uid:ye.uid,domChildren:Je(ye.components,Ve=>Ve.element)};var ye;const le=(Ve=>Ve.domModification.fold(()=>Ps({}),Ps))(G),ie={"alloy.base.modification":le},he=J.length>0?((Ve,nt,kt,wt)=>{const yt={...nt};Tt(kt,To=>{yt[To.name()]=To.exhibit(Ve,wt)});const $t=bx(yt,(To,Kr)=>({name:To,modification:Kr})),dn=To=>Xn(To,(Kr,ns)=>({...ns.modification,...Kr}),{}),Cn=Xn($t.classes,(To,Kr)=>Kr.modification.concat(To),[]),Nn=dn($t.attributes),to=dn($t.styles);return Ps({classes:Cn,attributes:Nn,styles:to})})(ae,ie,J,ue):le;return xe=ue,_e=he,{...xe,attributes:{...xe.attributes,..._e.attributes},styles:{...xe.styles,..._e.styles},classes:xe.classes.concat(_e.classes)};var xe,_e})(b,w,k),I=Ld(E,i),F=((G,J,ae)=>{const ue={"alloy.base.behaviour":Yk(G)};return((ye,le,ie,he)=>{const xe=((_e,Ve,nt)=>{const kt={...nt,...qk(Ve,_e)};return bx(kt,pC)})(ye,ie,he);return yx(xe,le)})(ae,G.eventOrder,J,ue).getOrDie()})(b,w,k),B=Dn(b.components),z={uid:r.uid,getSystem:d.get,config:G=>{const J=k;return(Z(J[G.name()])?J[G.name()]:()=>{throw new Error("Could not find "+G.name()+" in "+JSON.stringify(r,null,2))})()},hasConfigured:G=>Z(k[G.name()]),spec:r,readState:G=>k[G]().map(J=>J.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:G=>{d.set(G)},disconnect:()=>{d.set(X0(u))},element:I,syncComponents:()=>{const G=Er(I),J=Do(G,ae=>d.get().getByDom(ae).fold(()=>[],Fe));B.set(J)},components:B.get,events:F};return z},As=r=>{const i=Ru(r);return Df({element:i})},Df=r=>{const i=bi("external.component",ma([Ot("element"),Bo("uid")]),r),u=Dn(X0()),d=i.uid.getOrThunk(()=>Oc("external"));Y0(i.element,d);const b={uid:d,getSystem:u.get,config:P.none,hasConfigured:Oe,connect:v=>{u.set(v)},disconnect:()=>{u.set(X0(()=>b))},getApis:()=>({}),element:i.element,spec:r,readState:j("No state"),syncComponents:X,components:j([]),events:{}};return hx(b)},wx=Oc,n1=(r,i)=>px(r).getOrThunk(()=>((u,d)=>{const{events:b,...v}=Kk(u),w=((E,I)=>{const F=yn(E,"components").getOr([]);return I.fold(()=>Je(F,Ha),B=>Je(F,(z,G)=>n1(z,Jr(B,G))))})(v,d),k={...v,events:{...fx,...b},components:w};return Ao.value(la(k,d))})((u=>no(u,"uid"))(r)?r:{uid:wx(""),...r},i).getOrDie()),Ha=r=>n1(r,P.none()),Qi=hx;var qg,Rf=(r,i,u,d,b)=>r(u,d)?P.some(u):Z(b)&&b(u)?P.none():i(u,d,b);const Nm=(r,i,u)=>{let d=r.dom;const b=Z(u)?u:Oe;for(;d.parentNode;){d=d.parentNode;const v=rn(d);if(i(v))return P.some(v);if(b(v))break}return P.none()},o1=(r,i,u)=>Rf((d,b)=>b(d),Nm,r,i,u),vC=(r,i)=>Q(r.dom.childNodes,u=>i(rn(u))).map(rn),Cx=(r,i,u)=>o1(r,i,u).isSome(),Im=(r,i,u)=>Nm(r,d=>jc(d,i),u),Hr=(r,i)=>((u,d)=>{const b=u.dom;return b.parentNode?vC(rn(b.parentNode),v=>!Jo(u,v)&&jc(v,i)):P.none()})(r),r1=(r,i)=>vC(r,u=>jc(u,i)),ts=(r,i)=>xd(i,r),ju=(r,i,u)=>Rf((d,b)=>jc(d,b),Im,r,i,u),lu="aria-controls",Gg=()=>{const r=pn(lu);return{id:r,link:i=>{nn(i,lu,r)},unlink:i=>{xo(i,lu)}}},pl=(r,i)=>Cx(i,u=>Jo(u,r.element),Oe)||((u,d)=>(b=>o1(b,v=>{if(!Xr(v))return!1;const w=Ro(v,"id");return w!==void 0&&w.indexOf(lu)>-1}).bind(v=>{const w=Ro(v,"id"),k=ut(v);return ts(k,`[${lu}="${w}"]`)}))(d).exists(b=>pl(u,b)))(r,i),ri=(r,i,u,d,b,v,w,k=!1)=>({x:r,y:i,bubble:u,direction:d,placement:b,restriction:v,label:`${w}-${b}`,alwaysFit:k}),Pm=Fl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),jb=Pm.southeast,Yg=Pm.southwest,Kb=Pm.northeast,Xg=Pm.northwest,yC=Pm.south,_x=Pm.north,Sx=Pm.east,xC=Pm.west,si=(r,i)=>Ae(["left","right","top","bottom"],u=>yn(i,u).map(d=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(r,d))),Lm="layout",wC=r=>r.x,Dc=(r,i)=>r.x+r.width/2-i.width/2,el=(r,i)=>r.x+r.width-i.width,Jg=(r,i)=>r.y-i.height,rp=r=>r.y+r.height,CC=(r,i)=>r.y+r.height/2-i.height/2,ws=(r,i,u)=>ri(wC(r),rp(r),u.southeast(),jb(),"southeast",si(r,{left:1,top:3}),Lm),Cs=(r,i,u)=>ri(el(r,i),rp(r),u.southwest(),Yg(),"southwest",si(r,{right:0,top:3}),Lm),Ks=(r,i,u)=>ri(wC(r),Jg(r,i),u.northeast(),Kb(),"northeast",si(r,{left:1,bottom:2}),Lm),Tr=(r,i,u)=>ri(el(r,i),Jg(r,i),u.northwest(),Xg(),"northwest",si(r,{right:0,bottom:2}),Lm),gs=(r,i,u)=>ri(Dc(r,i),Jg(r,i),u.north(),_x(),"north",si(r,{bottom:2}),Lm),Bs=(r,i,u)=>ri(Dc(r,i),rp(r),u.south(),yC(),"south",si(r,{top:3}),Lm),s1=(r,i,u)=>ri((d=>d.x+d.width)(r),CC(r,i),u.east(),Sx(),"east",si(r,{left:0}),Lm),a1=(r,i,u)=>ri(((d,b)=>d.x-b.width)(r,i),CC(r,i),u.west(),xC(),"west",si(r,{right:1}),Lm),kx=()=>[ws,Cs,Ks,Tr,Bs,gs,s1,a1],qb=()=>[Cs,ws,Tr,Ks,Bs,gs,s1,a1],Ex=()=>[Ks,Tr,ws,Cs,gs,Bs],Qg=()=>[Tr,Ks,Cs,ws,gs,Bs],i1=()=>[ws,Cs,Ks,Tr,Bs,gs],l1=()=>[Cs,ws,Tr,Ks,Bs,gs];var Ax=Object.freeze({__proto__:null,events:r=>lo([Ct(Xl(),(i,u)=>{const d=r.channels,b=Ft(d),v=u,w=((k,E)=>E.universal?k:jn(k,I=>ct(E.channels,I)))(b,v);Tt(w,k=>{const E=d[k],I=E.schema,F=bi("channel["+k+`] data
Receiver: `+Pd(i.element),I,v.data);E.onReceive(i,F)})})])}),Gb=[Fa("channels",kb(Ao.value,ma([Zu("onReceive"),rt("schema",Tl())])))];const bl=ka({fields:Gb,name:"receiving",active:Ax});var Tx=Object.freeze({__proto__:null,exhibit:(r,i)=>Ps({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const Ii=(r,i=!1)=>r.dom.focus({preventScroll:i}),Yb=r=>r.dom.blur(),eh=r=>{const i=ut(r).dom;return r.dom===i.activeElement},cu=(r=Ai())=>P.from(r.dom.activeElement).map(rn),Ms=r=>cu(ut(r)).filter(i=>r.dom.contains(i.dom)),Bm=(r,i)=>{const u=ut(i),d=cu(u).bind(v=>{const w=k=>Jo(v,k);return w(i)?P.some(i):((k,E)=>{const I=F=>{for(let B=0;B<F.childNodes.length;B++){const z=rn(F.childNodes[B]);if(E(z))return P.some(z);const G=I(F.childNodes[B]);if(G.isSome())return G}return P.none()};return I(k.dom)})(i,w)}),b=r(i);return d.each(v=>{cu(u).filter(w=>Jo(w,v)).fold(()=>{Ii(v)},X)}),b},Ox=Fl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Dx=(r,i,u,d,b,v)=>{const w=i.rect,k=w.x-u,E=w.y-d,I=b-(k+w.width),F=v-(E+w.height),B=P.some(k),z=P.some(E),G=P.some(I),J=P.some(F),ae=P.none();return i.direction.fold(()=>$a(r,B,z,ae,ae),()=>$a(r,ae,z,G,ae),()=>$a(r,B,ae,ae,J),()=>$a(r,ae,ae,G,J),()=>$a(r,B,z,ae,ae),()=>$a(r,B,ae,ae,J),()=>$a(r,B,z,ae,ae),()=>$a(r,ae,z,G,ae))},Xb=(r,i)=>r.fold(()=>{const u=i.rect;return $a("absolute",P.some(u.x),P.some(u.y),P.none(),P.none())},(u,d,b,v)=>Dx("absolute",i,u,d,b,v),(u,d,b,v)=>Dx("fixed",i,u,d,b,v)),Bd=(r,i)=>{const u=Ue(Sd,i),d=r.fold(u,u,()=>{const w=Wr();return Sd(i).translate(-w.left,-w.top)}),b=qi(i),v=bc(i);return Co(d.left,d.top,b,v)},Xk=(r,i)=>i.fold(()=>r.fold(Ba,Ba,Co),u=>r.fold(j(u),j(u),()=>{const d=Jb(r,u.x,u.y);return Co(d.left,d.top,u.width,u.height)})),Jb=(r,i,u)=>{const d=Ur(i,u);return r.fold(j(d),j(d),()=>{const b=Wr();return d.translate(-b.left,-b.top)})};Ox.none;const Mm=Ox.relative,_C=Ox.fixed,Qb="data-alloy-placement",ev=r=>Ho(r,Qb),c1=Fl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),sp=(r,i,u,d)=>{const b=r.bubble,v=b.offset,w=((he,xe,_e)=>{const Ve=($t,dn)=>xe[$t].map(Cn=>{const Nn=$t==="top"||$t==="bottom",to=Nn?_e.top:_e.left,To=($t==="left"||$t==="top"?Math.max:Math.min)(Cn,dn)+to;return Nn?Tc(To,he.y,he.bottom):Tc(To,he.x,he.right)}).getOr(dn),nt=Ve("left",he.x),kt=Ve("top",he.y),wt=Ve("right",he.right),yt=Ve("bottom",he.bottom);return Co(nt,kt,wt-nt,yt-kt)})(d,r.restriction,v),k=r.x+v.left,E=r.y+v.top,I=Co(k,E,i,u),{originInBounds:F,sizeInBounds:B,visibleW:z,visibleH:G}=((he,xe)=>{const{x:_e,y:Ve,right:nt,bottom:kt}=xe,{x:wt,y:yt,right:$t,bottom:dn,width:Cn,height:Nn}=he;return{originInBounds:wt>=_e&&wt<=nt&&yt>=Ve&&yt<=kt,sizeInBounds:$t<=nt&&$t>=_e&&dn<=kt&&dn>=Ve,visibleW:Math.min(Cn,wt>=_e?nt-wt:$t-_e),visibleH:Math.min(Nn,yt>=Ve?kt-yt:dn-Ve)}})(I,w),J=F&&B,ae=J?I:((he,xe)=>{const{x:_e,y:Ve,right:nt,bottom:kt}=xe,{x:wt,y:yt,width:$t,height:dn}=he,Cn=Math.max(_e,nt-$t),Nn=Math.max(Ve,kt-dn),to=Tc(wt,_e,Cn),To=Tc(yt,Ve,Nn),Kr=Math.min(to+$t,nt)-to,ns=Math.min(To+dn,kt)-To;return Co(to,To,Kr,ns)})(I,w),ue=ae.width>0&&ae.height>0,{maxWidth:ye,maxHeight:le}=((he,xe,_e)=>{const Ve=j(xe.bottom-_e.y),nt=j(_e.bottom-xe.y),kt=((dn,Cn,Nn,to)=>dn.fold(Cn,Cn,to,to,Cn,to,Nn,Nn))(he,nt,nt,Ve),wt=j(xe.right-_e.x),yt=j(_e.right-xe.x);return{maxWidth:((dn,Cn,Nn,to)=>dn.fold(Cn,to,Cn,to,Nn,Nn,Cn,to))(he,yt,yt,wt),maxHeight:kt}})(r.direction,ae,d),ie={rect:ae,maxHeight:le,maxWidth:ye,direction:r.direction,placement:r.placement,classes:{on:b.classesOn,off:b.classesOff},layout:r.label,testY:E};return J||r.alwaysFit?c1.fit(ie):c1.nofit(ie,z,G,ue)},u1=Be,Pi=(r,i,u)=>((d,b,v,w)=>Rg(d,b,v,w,!1))(r,i,u1,u),Rx=(r,i,u)=>((d,b,v,w)=>Rg(d,b,v,w,!0))(r,i,u1,u),Md=fl,tv=["top","bottom","right","left"],Ku="data-alloy-transition-timer",nv=(r,i,u,d,b,v)=>{const w=((k,E,I)=>I.exists(F=>{const B=k.mode;return B==="all"||F[B]!==E[B]}))(d,b,v);if(w||((k,E)=>((I,F)=>Ye(F,B=>Ji(I,B)))(k,E.classes))(r,d)){ao(r,"position",u.position);const k=Bd(i,r),E=Xb(i,{...b,rect:k}),I=Ae(tv,F=>E[F]);((F,B)=>{const z=G=>parseFloat(G).toFixed(3);return ar(B,(G,J)=>!((ae,ue,ye=oe)=>Zt(ae,ue,ye).getOr(ae.isNone()&&ue.isNone()))(F[J].map(z),G.map(z))).isSome()})(u,I)&&(ul(r,I),w&&((F,B)=>{Ls(F,B.classes),Ho(F,Ku).each(z=>{clearTimeout(parseInt(z,10)),xo(F,Ku)}),((z,G)=>{const J=yc(),ae=yc();let ue;const ye=xe=>{var _e;const Ve=(_e=xe.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Jo(xe.target,z)&&Du(Ve)&&ct(tv,xe.raw.propertyName)},le=xe=>{if(H(xe)||ye(xe)){J.clear(),ae.clear();const _e=xe==null?void 0:xe.raw.type;(H(_e)||_e===Tb())&&(clearTimeout(ue),xo(z,Ku),Ql(z,G.classes))}},ie=Pi(z,F0(),xe=>{ye(xe)&&(ie.unbind(),J.set(Pi(z,Tb(),le)),ae.set(Pi(z,lC(),le)))}),he=(xe=>{const _e=wt=>{const yt=ps(xe,wt).split(/\s*,\s*/);return jn(yt,ll)},Ve=wt=>{if(h(wt)&&/^[\d.]+/.test(wt)){const yt=parseFloat(wt);return Ou(wt,"ms")?yt:1e3*yt}return 0},nt=_e("transition-delay"),kt=_e("transition-duration");return gn(kt,(wt,yt,$t)=>{const dn=Ve(nt[$t])+Ve(yt);return Math.max(wt,dn)},0)})(z);requestAnimationFrame(()=>{ue=setTimeout(le,he+17),nn(z,Ku,ue)})})(F,B)})(r,d),wd(r))}else Ql(r,d.classes)},ov=(r,i)=>{((u,d)=>{const b=$h.max(u,d,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);ao(u,"max-height",b+"px")})(r,Math.floor(i))},Fm=j((r,i)=>{ov(r,i),Ki(r,{"overflow-x":"hidden","overflow-y":"auto"})}),th=j((r,i)=>{ov(r,i)}),Rc=(r,i,u)=>r[i]===void 0?u:r[i],rv=(r,i,u,d)=>{const b=((v,w,k,E)=>{fr(w,"max-height"),fr(w,"max-width");const I={width:qi(F=w),height:bc(F)};var F;return((B,z,G,J,ae,ue)=>{const ye=J.width,le=J.height,ie=(he,xe,_e,Ve,nt)=>{const kt=he(G,J,ae,B,ue),wt=sp(kt,ye,le,ue);return wt.fold(j(wt),(yt,$t,dn,Cn)=>(nt===Cn?dn>Ve||$t>_e:!nt&&Cn)?wt:c1.nofit(xe,_e,Ve,nt))};return gn(z,(he,xe)=>{const _e=Ue(ie,xe);return he.fold(j(he),_e)},c1.nofit({rect:G,maxHeight:J.height,maxWidth:J.width,direction:jb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:G.y},-1,-1,!1)).fold(de,de)})(w,E.preference,v,I,k,E.bounds)})(r,i,u,d);return((v,w,k)=>{const E=Xb(k.origin,w);k.transition.each(I=>{nv(v,k.origin,E,I,w,k.lastPlacement)}),Lb(v,E)})(i,b,d),((v,w)=>{((k,E)=>{nn(k,Qb,E)})(v,w.placement)})(i,b),((v,w)=>{const k=w.classes;Ql(v,k.off),Ls(v,k.on)})(i,b),((v,w,k)=>{(0,k.maxHeightFunction)(v,w.maxHeight)})(i,b,d),((v,w,k)=>{(0,k.maxWidthFunction)(v,w.maxWidth)})(i,b,d),{layout:b.layout,placement:b.placement}},Jk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ec=(r,i,u,d=1)=>{const b=r*d,v=i*d,w=E=>yn(u,E).getOr([]),k=(E,I,F)=>{const B=be(Jk,F);return{offset:Ur(E,I),classesOn:Do(F,w),classesOff:Do(B,w)}};return{southeast:()=>k(-r,i,["top","alignLeft"]),southwest:()=>k(r,i,["top","alignRight"]),south:()=>k(-r/2,i,["top","alignCentre"]),northeast:()=>k(-r,-i,["bottom","alignLeft"]),northwest:()=>k(r,-i,["bottom","alignRight"]),north:()=>k(-r/2,-i,["bottom","alignCentre"]),east:()=>k(r,-i/2,["valignCentre","left"]),west:()=>k(-r,-i/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},Fd=()=>ec(0,0,{}),Nc=de,Nx=(r,i)=>u=>ha(u)==="rtl"?i:r,ha=r=>ps(r,"direction")==="rtl"?"rtl":"ltr";var Ic;(function(r){r.TopToBottom="toptobottom",r.BottomToTop="bottomtotop"})(Ic||(Ic={}));const vl="data-alloy-vertical-dir",Qk=r=>Cx(r,i=>Xr(i)&&Ro(i,"data-alloy-vertical-dir")===Ic.BottomToTop),Nf=()=>vs("layouts",[Ot("onLtr"),Ot("onRtl"),Bo("onBottomLtr"),Bo("onBottomRtl")]),$d=(r,i,u,d,b,v,w)=>{const k=w.map(Qk).getOr(!1),E=i.layouts.map(z=>z.onLtr(r)),I=i.layouts.map(z=>z.onRtl(r)),F=k?i.layouts.bind(z=>z.onBottomLtr.map(G=>G(r))).or(E).getOr(b):E.getOr(u),B=k?i.layouts.bind(z=>z.onBottomRtl.map(G=>G(r))).or(I).getOr(v):I.getOr(d);return Nx(F,B)(r)};var ap=[Ot("hotspot"),Bo("bubble"),rt("overrides",{}),Nf(),$r("placement",(r,i,u)=>{const d=i.hotspot,b=Bd(u,d.element),v=$d(r.element,i,i1(),l1(),Ex(),Qg(),P.some(i.hotspot.element));return P.some(Nc({anchorBox:b,bubble:i.bubble.getOr(Fd()),overrides:i.overrides,layouts:v}))})],$m=[Ot("x"),Ot("y"),rt("height",0),rt("width",0),rt("bubble",Fd()),rt("overrides",{}),Nf(),$r("placement",(r,i,u)=>{const d=Jb(u,i.x,i.y),b=Co(d.left,d.top,i.width,i.height),v=$d(r.element,i,kx(),qb(),kx(),qb(),P.none());return P.some(Nc({anchorBox:b,bubble:i.bubble,overrides:i.overrides,layouts:v}))})];const $l=Fl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),d1=r=>r.fold(de,(i,u,d)=>i.translate(-u,-d)),f1=r=>r.fold(de,de),sv=r=>gn(r,(i,u)=>i.translate(u.left,u.top),Ur(0,0)),m1=r=>{const i=Je(r,f1);return sv(i)},SC=$l.screen,av=$l.absolute,Hd=(r,i,u)=>{const d=Js(r.element),b=Wr(d),v=((w,k,E)=>{const I=Kc(E.root).dom;return P.from(I.frameElement).map(rn).filter(F=>{const B=Js(F),z=Js(w.element);return Jo(B,z)}).map(El)})(r,0,u).getOr(b);return av(v,b.left,b.top)},iv=(r,i,u,d)=>{const b=SC(Ur(r,i));return P.some(((v,w,k)=>({point:v,width:w,height:k}))(b,u,d))},nh=(r,i,u,d,b)=>r.map(v=>{const w=[i,v.point],k=(E=()=>m1(w),I=()=>m1(w),F=()=>(ie=>{const he=Je(ie,d1);return sv(he)})(w),d.fold(E,I,F));var E,I,F;const B=(ae=k.left,ue=k.top,ye=v.width,le=v.height,{x:ae,y:ue,width:ye,height:le}),z=u.showAbove?Ex():i1(),G=u.showAbove?Qg():l1(),J=$d(b,u,z,G,z,G,P.none());var ae,ue,ye,le;return Nc({anchorBox:B,bubble:u.bubble.getOr(Fd()),overrides:u.overrides,layouts:J})});var oh=[Ot("node"),Ot("root"),Bo("bubble"),Nf(),rt("overrides",{}),rt("showAbove",!1),$r("placement",(r,i,u)=>{const d=Hd(r,0,i);return i.node.filter(ln).bind(b=>{const v=b.dom.getBoundingClientRect(),w=iv(v.left,v.top,v.width,v.height),k=i.node.getOr(r.element);return nh(w,d,i,u,k)})})];const If=(r,i,u,d)=>({start:r,soffset:i,finish:u,foffset:d}),Pf=Fl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lv=(Pf.before,Pf.on,Pf.after,r=>r.fold(de,de,de)),Lf=Fl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Bf={domRange:Lf.domRange,relative:Lf.relative,exact:Lf.exact,exactFromRange:r=>Lf.exact(r.start,r.soffset,r.finish,r.foffset),getWin:r=>{const i=(u=>u.match({domRange:d=>rn(d.startContainer),relative:(d,b)=>lv(d),exact:(d,b,v,w)=>d}))(r);return Kc(i)},range:If},Mf=(r,i,u)=>{const d=r.document.createRange();var b;return b=d,i.fold(v=>{b.setStartBefore(v.dom)},(v,w)=>{b.setStart(v.dom,w)},v=>{b.setStartAfter(v.dom)}),((v,w)=>{w.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(d,u),d},rh=(r,i,u,d,b)=>{const v=r.document.createRange();return v.setStart(i.dom,u),v.setEnd(d.dom,b),v},g1=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),ip=Fl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),h1=(r,i,u)=>i(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset),Ix=(r,i)=>((u,d)=>{const b=((v,w)=>w.match({domRange:k=>({ltr:j(k),rtl:P.none}),relative:(k,E)=>({ltr:Ga(()=>Mf(v,k,E)),rtl:Ga(()=>P.some(Mf(v,E,k)))}),exact:(k,E,I,F)=>({ltr:Ga(()=>rh(v,k,E,I,F)),rtl:Ga(()=>P.some(rh(v,I,F,k,E)))})}))(u,d);return((v,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>ip.rtl(rn(E.endContainer),E.endOffset,rn(E.startContainer),E.startOffset)).getOrThunk(()=>h1(0,ip.ltr,k)):h1(0,ip.ltr,k)})(0,b)})(r,i).match({ltr:(u,d,b,v)=>{const w=r.document.createRange();return w.setStart(u.dom,d),w.setEnd(b.dom,v),w},rtl:(u,d,b,v)=>{const w=r.document.createRange();return w.setStart(b.dom,v),w.setEnd(u.dom,d),w}});ip.ltr,ip.rtl;const lp=(r,i,u)=>jn(((d,b)=>{const v=Z(b)?b:Oe;let w=d.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,I=rn(E);if(k.push(I),v(I)===!0)break;w=E}return k})(r,u),i),pa=(r,i)=>((u,d)=>{const b=d===void 0?document:d.dom;return lf(b)?[]:Je(b.querySelectorAll(u),rn)})(i,r),Px=r=>{if(r.rangeCount>0){const i=r.getRangeAt(0),u=r.getRangeAt(r.rangeCount-1);return P.some(If(rn(i.startContainer),i.startOffset,rn(u.endContainer),u.endOffset))}return P.none()},kC=r=>{if(r.anchorNode===null||r.focusNode===null)return Px(r);{const i=rn(r.anchorNode),u=rn(r.focusNode);return((d,b,v,w)=>{const k=((I,F,B,z)=>{const G=Js(I).dom.createRange();return G.setStart(I.dom,F),G.setEnd(B.dom,z),G})(d,b,v,w),E=Jo(d,v)&&b===w;return k.collapsed&&!E})(i,r.anchorOffset,u,r.focusOffset)?P.some(If(i,r.anchorOffset,u,r.focusOffset)):Px(r)}},Lx=(r,i)=>(u=>{const d=u.getClientRects(),b=d.length>0?d[0]:u.getBoundingClientRect();return b.width>0||b.height>0?P.some(b).map(g1):P.none()})(Ix(r,i)),Bx=((r,i)=>{const u=d=>r(d)?P.from(d.dom.nodeValue):P.none();return{get:d=>{if(!r(d))throw new Error("Can only get text value of a text node");return u(d).getOr("")},getOption:u,set:(d,b)=>{if(!r(d))throw new Error("Can only set raw text value of a text node");d.dom.nodeValue=b}}})(fi),Ff=(r,i)=>({element:r,offset:i}),p1=(r,i)=>fi(r)?Ff(r,i):((u,d)=>{const b=Er(u);if(b.length===0)return Ff(u,d);if(d<b.length)return Ff(b[d],0);{const v=b[b.length-1],w=fi(v)?(k=>Bx.get(k))(v).length:Er(v).length;return Ff(v,w)}})(r,i),cv=r=>r.foffset!==void 0,Mx=(r,i)=>i.getSelection.getOrThunk(()=>()=>(u=>(d=>P.from(d.getSelection()))(u).filter(d=>d.rangeCount>0).bind(kC))(r))().map(u=>{if(cv(u)){const d=p1(u.start,u.soffset),b=p1(u.finish,u.foffset);return Bf.range(d.element,d.offset,b.element,b.offset)}return u});var eE=[Bo("getSelection"),Ot("root"),Bo("bubble"),Nf(),rt("overrides",{}),rt("showAbove",!1),$r("placement",(r,i,u)=>{const d=Kc(i.root).dom,b=Hd(r,0,i),v=Mx(d,i).bind(k=>{if(cv(k))return((I,F)=>(B=>{const z=B.getBoundingClientRect();return z.width>0||z.height>0?P.some(z).map(g1):P.none()})(Ix(I,F)))(d,Bf.exactFromRange(k)).orThunk(()=>{const I=Ru("\uFEFF");_d(k.start,I);const F=Lx(d,Bf.exact(I,0,I,1));return La(I),F}).bind(I=>iv(I.left,I.top,I.width,I.height));{const E=zn(k,F=>F.dom.getBoundingClientRect()),I={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return iv(I.left,I.top,I.right-I.left,I.bottom-I.top)}}),w=Mx(d,i).bind(k=>cv(k)?Xr(k.start)?P.some(k.start):gi(k.start):P.some(k.firstCell)).getOr(r.element);return nh(v,b,i,u,w)})];const $f="link-layout",uv=r=>r.x+r.width,EC=(r,i)=>r.x-i.width,AC=(r,i)=>r.y-i.height+r.height,uu=r=>r.y,Fx=(r,i,u)=>ri(uv(r),uu(r),u.southeast(),jb(),"southeast",si(r,{left:0,top:2}),$f),b1=(r,i,u)=>ri(EC(r,i),uu(r),u.southwest(),Yg(),"southwest",si(r,{right:1,top:2}),$f),TC=(r,i,u)=>ri(uv(r),AC(r,i),u.northeast(),Kb(),"northeast",si(r,{left:0,bottom:3}),$f),sh=(r,i,u)=>ri(EC(r,i),AC(r,i),u.northwest(),Xg(),"northwest",si(r,{right:1,bottom:3}),$f),cp=()=>[Fx,b1,TC,sh],dv=()=>[b1,Fx,sh,TC];var OC=[Ot("item"),Nf(),rt("overrides",{}),$r("placement",(r,i,u)=>{const d=Bd(u,i.item.element),b=$d(r.element,i,cp(),dv(),cp(),dv(),P.none());return P.some(Nc({anchorBox:d,bubble:Fd(),overrides:i.overrides,layouts:b}))})],du=aa("type",{selection:eE,node:oh,hotspot:ap,submenu:OC,makeshift:$m});const Hm=[Xi("classes",ga),wc("mode","all",["all","layout","placement"])],fv=[rt("useFixed",Oe),Bo("getBounds")],mv=[Fa("anchor",du),vs("transition",Hm)],v1=(r,i,u,d,b,v)=>{const w=bi("placement.info",Ln(mv),b),k=w.anchor,E=d.element,I=u.get(d.uid);Bm(()=>{ao(E,"position","fixed");const F=Zs(E,"visibility");ao(E,"visibility","hidden");const B=i.useFixed()?(()=>{const z=document.documentElement;return _C(0,0,z.clientWidth,z.clientHeight)})():(z=>{const G=El(z.element),J=z.element.dom.getBoundingClientRect();return Mm(G.left,G.top,J.width,J.height)})(r);k.placement(r,k,B).each(z=>{const G=v.orThunk(()=>i.getBounds.map(st)),J=((ae,ue,ye,le,ie,he)=>((xe,_e,Ve,nt,kt,wt,yt,$t)=>{const dn=Rc(yt,"maxHeightFunction",Fm()),Cn=Rc(yt,"maxWidthFunction",X),Nn=xe.anchorBox,to=xe.origin,To={bounds:Xk(to,wt),origin:to,preference:nt,maxHeightFunction:dn,maxWidthFunction:Cn,lastPlacement:kt,transition:$t};return rv(Nn,_e,Ve,To)})(((xe,_e)=>((Ve,nt)=>({anchorBox:Ve,origin:nt}))(xe,_e))(ue.anchorBox,ae),le.element,ue.bubble,ue.layouts,ie,ye,ue.overrides,he))(B,z,G,d,I,w.transition);u.set(d.uid,J)}),F.fold(()=>{fr(E,"visibility")},z=>{ao(E,"visibility",z)}),Zs(E,"left").isNone()&&Zs(E,"top").isNone()&&Zs(E,"right").isNone()&&Zs(E,"bottom").isNone()&&Xs(Zs(E,"position"),"fixed")&&fr(E,"position")},E)};var gv=Object.freeze({__proto__:null,position:(r,i,u,d,b)=>{const v=P.none();v1(r,i,u,d,b,v)},positionWithinBounds:v1,getMode:(r,i,u)=>i.useFixed()?"fixed":"absolute",reset:(r,i,u,d)=>{const b=d.element;Tt(["position","left","right","top","bottom"],v=>fr(b,v)),(v=>{xo(v,Qb)})(b),u.clear(d.uid)}});const ai=ka({fields:fv,name:"positioning",active:Tx,apis:gv,state:Object.freeze({__proto__:null,init:()=>{let r={};return Sa({readState:()=>r,clear:i=>{V(i)?delete r[i]:r={}},set:(i,u)=>{r[i]=u},get:i=>yn(r,i)})}})}),y1=r=>r.getSystem().isConnected(),zm=r=>{wo(r,_c());const i=r.components();Tt(i,zm)},Vm=r=>{const i=r.components();Tt(i,Vm),wo(r,ni())},hv=(r,i)=>{r.getSystem().addToWorld(i),ln(r.element)&&Vm(i)},x1=r=>{zm(r),r.getSystem().removeFromWorld(r)},ah=(r,i)=>{Ei(r.element,i.element)},Hf=(r,i)=>{$x(r,i,Ei)},$x=(r,i,u)=>{r.getSystem().addToWorld(i),u(r.element,i.element),ln(r.element)&&Vm(i),r.syncComponents()},w1=r=>{zm(r),La(r.element),r.getSystem().removeFromWorld(r)},tl=r=>{const i=mi(r.element).bind(u=>r.getSystem().getByDom(u).toOptional());w1(r),i.each(u=>{u.syncComponents()})},zf=r=>{const i=r.components();Tt(i,w1),Qr(r.element),r.syncComponents()},Hx=(r,i)=>{up(r,i,Ei)},vt=(r,i)=>{up(r,i,Ng)},up=(r,i,u)=>{u(r,i.element);const d=Er(i.element);Tt(d,b=>{i.getByDom(b).each(Vm)})},tE=r=>{const i=Er(r.element);Tt(i,u=>{r.getByDom(u).each(zm)}),La(r.element)},DC=(r,i,u,d)=>{u.get().each(w=>{zf(r)});const b=i.getAttachPoint(r);Hf(b,r);const v=r.getSystem().build(d);return Hf(r,v),u.set(v),v},C1=(r,i,u,d)=>{const b=DC(r,i,u,d);return i.onOpen(r,b),b},fu=(r,i,u)=>{u.get().each(d=>{zf(r),tl(r),i.onClose(r,d),u.clear()})},_1=(r,i,u)=>u.isOpen(),pv=(r,i,u)=>{const d=i.getAttachPoint(r);ao(r.element,"position",ai.getMode(d)),((b,v,w,k)=>{Zs(b.element,v).fold(()=>{xo(b.element,w)},E=>{nn(b.element,w,E)}),ao(b.element,v,"hidden")})(r,"visibility",i.cloakVisibilityAttr)},zx=(r,i,u)=>{(d=>_n(["top","left","right","bottom"],b=>Zs(d,b).isSome()))(r.element)||fr(r.element,"position"),((d,b,v)=>{Ho(d.element,v).fold(()=>fr(d.element,b),w=>ao(d.element,b,w))})(r,"visibility",i.cloakVisibilityAttr)};var Vx=Object.freeze({__proto__:null,cloak:pv,decloak:zx,open:C1,openWhileCloaked:(r,i,u,d,b)=>{pv(r,i),C1(r,i,u,d),b(),zx(r,i)},close:fu,isOpen:_1,isPartOf:(r,i,u,d)=>_1(0,0,u)&&u.get().exists(b=>i.isPartOf(r,b,d)),getState:(r,i,u)=>u.get(),setContent:(r,i,u,d)=>u.get().map(()=>DC(r,i,u,d))}),nE=Object.freeze({__proto__:null,events:(r,i)=>lo([Ct(Db(),(u,d)=>{fu(u,r,i)})])}),y=[Uo("onOpen"),Uo("onClose"),Ot("isPartOf"),Ot("getAttachPoint"),rt("cloakVisibilityAttr","data-precloak-visibility")],S=Object.freeze({__proto__:null,init:()=>{const r=pr(),i=j("not-implemented");return Sa({readState:i,isOpen:r.isSet,clear:r.clear,set:r.set,get:r.get})}});const T=ka({fields:y,name:"sandboxing",active:nE,apis:Vx,state:S}),M=j("dismiss.popups"),U=j("reposition.popups"),W=j("mouse.released"),ne=ma([rt("isExtraPart",Oe),vs("fireEventInstead",[rt("event",Fg())])]),se=r=>{const i=bi("Dismissal",ne,r);return{[M()]:{schema:ma([Ot("target")]),onReceive:(u,d)=>{T.isOpen(u)&&(T.isPartOf(u,d.target)||i.isExtraPart(u,d.target)||i.fireEventInstead.fold(()=>T.close(u),b=>wo(u,b.event)))}}}},ve=ma([vs("fireEventInstead",[rt("event",_f())]),Di("doReposition")]),Ne=r=>{const i=bi("Reposition",ve,r);return{[U()]:{onReceive:u=>{T.isOpen(u)&&i.fireEventInstead.fold(()=>i.doReposition(u),d=>wo(u,d.event))}}}},Ge=(r,i,u)=>{i.store.manager.onLoad(r,i,u)},Te=(r,i,u)=>{i.store.manager.onUnload(r,i,u)};var Me=Object.freeze({__proto__:null,onLoad:Ge,onUnload:Te,setValue:(r,i,u,d)=>{i.store.manager.setValue(r,i,u,d)},getValue:(r,i,u)=>i.store.manager.getValue(r,i,u),getState:(r,i,u)=>u}),ze=Object.freeze({__proto__:null,events:(r,i)=>{const u=r.resetOnDom?[Gr((d,b)=>{Ge(d,r,i)}),Wu((d,b)=>{Te(d,r,i)})]:[Nb(r,i,Ge)];return lo(u)}});const ot=()=>{const r=Dn(null);return Sa({set:r.set,get:r.get,isNotSet:()=>r.get()===null,clear:()=>{r.set(null)},readState:()=>({mode:"memory",value:r.get()})})},at=()=>{const r=Dn({}),i=Dn({});return Sa({readState:()=>({mode:"dataset",dataByValue:r.get(),dataByText:i.get()}),lookup:u=>yn(r.get(),u).orThunk(()=>yn(i.get(),u)),update:u=>{const d=r.get(),b=i.get(),v={},w={};Tt(u,k=>{v[k.value]=k,yn(k,"meta").each(E=>{yn(E,"text").each(I=>{w[I]=k})})}),r.set({...d,...v}),i.set({...b,...w})},clear:()=>{r.set({}),i.set({})}})};var At=Object.freeze({__proto__:null,memory:ot,dataset:at,manual:()=>Sa({readState:X}),init:r=>r.store.manager.state(r)});const Rt=(r,i,u,d)=>{const b=i.store;u.update([d]),b.setValue(r,d),i.onSetValue(r,d)};var Et=[Bo("initialValue"),Ot("getFallbackEntry"),Ot("getDataKey"),Ot("setValue"),$r("manager",{setValue:Rt,getValue:(r,i,u)=>{const d=i.store,b=d.getDataKey(r);return u.lookup(b).getOrThunk(()=>d.getFallbackEntry(b))},onLoad:(r,i,u)=>{i.store.initialValue.each(d=>{Rt(r,i,u,d)})},onUnload:(r,i,u)=>{u.clear()},state:at})],Pt=[Ot("getValue"),rt("setValue",X),Bo("initialValue"),$r("manager",{setValue:(r,i,u,d)=>{i.store.setValue(r,d),i.onSetValue(r,d)},getValue:(r,i,u)=>i.store.getValue(r),onLoad:(r,i,u)=>{i.store.initialValue.each(d=>{i.store.setValue(r,d)})},onUnload:X,state:Ec.init})],jt=[Bo("initialValue"),$r("manager",{setValue:(r,i,u,d)=>{u.set(d),i.onSetValue(r,d)},getValue:(r,i,u)=>u.get(),onLoad:(r,i,u)=>{i.store.initialValue.each(d=>{u.isNotSet()&&u.set(d)})},onUnload:(r,i,u)=>{u.clear()},state:ot})],Xt=[Ri("store",{mode:"memory"},aa("mode",{memory:jt,manual:Pt,dataset:Et})),Uo("onSetValue"),rt("resetOnDom",!1)];const lt=ka({fields:Xt,name:"representing",active:ze,apis:Me,extra:{setValueFrom:(r,i)=>{const u=lt.getValue(i);lt.setValue(r,u)}},state:At}),bn=(r,i)=>Ni(r,{},Je(i,u=>{return d=u.name(),b="Cannot configure "+u.name()+" for "+r,ea(d,d,{tag:"option",process:{}},Lu(v=>Gi("The field: "+d+" is forbidden. "+b)));var d,b}).concat([Ma("dump",de)])),Un=r=>r.dump,ho=(r,i)=>({...Vt(i),...r.dump}),Qn=bn,Wn=ho,go="placeholder",Mo=Fl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),qs=r=>no(r,"uiType"),yi=(r,i,u,d)=>((b,v,w,k)=>qs(w)&&w.uiType===go?((E,I,F,B)=>E.exists(z=>z!==F.owner)?Mo.single(!0,j(F)):yn(B,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+Ft(B)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},z=>z.replace()))(b,0,w,k):Mo.single(!1,j(w)))(r,0,u,d).fold((b,v)=>{const w=qs(u)?v(i,u.config,u.validated):v(i),k=yn(w,"components").getOr([]),E=Do(k,I=>yi(r,i,I,d));return[{...w,components:E}]},(b,v)=>{if(qs(u)){const w=v(i,u.config,u.validated);return u.validated.preprocess.getOr(de)(w)}return v(i)}),za=Mo.single,tc=Mo.multiple,Um=j(go),xi=Fl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),qu=rt("factory",{sketch:de}),dp=rt("schema",[]),Vf=Ot("name"),fp=ea("pname","pname",Pg(r=>"<alloy."+pn(r.name)+">"),Tl()),S1=Ma("schema",()=>[Bo("preprocess")]),Uf=rt("defaults",j({})),RC=rt("overrides",j({})),RM=Ln([qu,dp,Vf,fp,Uf,RC]),NM=Ln([qu,dp,Vf,Uf,RC]),JO=Ln([qu,dp,Vf,fp,Uf,RC]),xn=Ln([qu,S1,Vf,Ot("unit"),fp,Uf,RC]),Ux=r=>r.fold(P.some,P.none,P.some,P.some),oE=r=>{const i=u=>u.name;return r.fold(i,i,i,i)},NC=(r,i)=>u=>{const d=bi("Converting part type",i,u);return r(d)},yl=NC(xi.required,RM),zd=NC(xi.external,NM),mu=NC(xi.optional,JO),IC=NC(xi.group,xn),rE=j("entirety");var QO=Object.freeze({__proto__:null,required:yl,external:zd,optional:mu,group:IC,asNamedPart:Ux,name:oE,asCommon:r=>r.fold(de,de,de,de),original:rE});const sE=(r,i,u,d)=>Ar(i.defaults(r,u,d),u,{uid:r.partUids[i.name]},i.overrides(r,u,d)),nl=(r,i)=>{const u={};return Tt(i,d=>{Ux(d).each(b=>{const v=Wx(r,b.pname);u[b.name]=w=>{const k=bi("Part: "+b.name+" in "+r,Ln(b.schema),w);return{...v,config:w,validated:k}}})}),u},Wx=(r,i)=>({uiType:Um(),owner:r,name:i}),aE=(r,i,u)=>({uiType:Um(),owner:r,name:i,config:u,validated:{}}),eD=r=>Do(r,i=>i.fold(P.none,P.some,P.none,P.none).map(u=>xc(u.name,u.schema.concat([Ub(rE())]))).toArray()),tD=r=>Je(r,oE),iE=(r,i,u)=>((d,b,v)=>{const w={},k={};return Tt(v,E=>{E.fold(I=>{w[I.pname]=za(!0,(F,B,z)=>I.factory.sketch(sE(F,I,B,z)))},I=>{const F=b.parts[I.name];k[I.name]=j(I.factory.sketch(sE(b,I,F[rE()]),F))},I=>{w[I.pname]=za(!1,(F,B,z)=>I.factory.sketch(sE(F,I,B,z)))},I=>{w[I.pname]=tc(!0,(F,B,z)=>{const G=F[I.name];return Je(G,J=>I.factory.sketch(Ar(I.defaults(F,J,z),J,I.overrides(F,J))))})})}),{internals:j(w),externals:j(k)}})(0,i,u),lE=(r,i,u)=>((d,b,v,w)=>{const k=zn(w,(I,F)=>((B,z)=>{let G=!1;return{name:j(B),required:()=>z.fold((J,ae)=>J,(J,ae)=>J),used:()=>G,replace:()=>{if(G)throw new Error("Trying to use the same placeholder more than once: "+B);return G=!0,z}}})(F,I)),E=((I,F,B,z)=>Do(B,G=>yi(I,F,G,z)))(d,b,v,k);return Mn(k,I=>{if(I.used()===!1&&I.required())throw new Error("Placeholder: "+I.name()+` was not found in components list
Namespace: `+d.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(P.some(r),i,i.components,u),zr=(r,i,u)=>{const d=i.partUids[u];return r.getSystem().getByUid(d).toOptional()},ih=(r,i,u)=>zr(r,i,u).getOrDie("Could not find part: "+u),nD=(r,i,u)=>{const d={},b=i.partUids,v=r.getSystem();return Tt(u,w=>{d[w]=j(v.getByUid(b[w]))}),d},cE=(r,i)=>{const u=r.getSystem();return zn(i.partUids,(d,b)=>j(u.getByUid(d)))},oD=r=>Ft(r.partUids),uE=(r,i,u)=>{const d={},b=i.partUids,v=r.getSystem();return Tt(u,w=>{d[w]=j(v.getByUid(b[w]).getOrDie())}),d},rD=(r,i)=>{const u=tD(i);return Od(Je(u,d=>({key:d,value:r+"-"+d})))},dE=r=>ea("partUids","partUids",Vo(i=>rD(i.uid,r)),Tl());var IM=Object.freeze({__proto__:null,generate:nl,generateOne:aE,schemas:eD,names:tD,substitutes:iE,components:lE,defaultUids:rD,defaultUidsSchema:dE,getAllParts:cE,getAllPartNames:oD,getPart:zr,getPartOrDie:ih,getParts:nD,getPartsOrDie:uE});const sD=(r,i,u,d,b)=>{const v=((w,k)=>(w.length>0?[xc("parts",w)]:[]).concat([Ot("uid"),rt("dom",{}),rt("components",[]),Ub("originalSpec"),rt("debug.sketcher",{})]).concat(k))(d,b);return bi(r+" [SpecSchema]",ma(v.concat(i)),u)},Zx=(r,i,u,d,b)=>{const v=fE(b),w=eD(u),k=dE(u),E=sD(r,i,v,w,[k]),I=iE(0,E,u);return d(E,lE(r,E,I.internals()),v,I.externals())},fE=r=>(i=>no(i,"uid"))(r)?r:{...r,uid:Oc("uid")},PM=ma([Ot("name"),Ot("factory"),Ot("configFields"),rt("apis",{}),rt("extraApis",{})]),aD=ma([Ot("name"),Ot("factory"),Ot("configFields"),Ot("partFields"),rt("apis",{}),rt("extraApis",{})]),gu=r=>{const i=bi("Sketcher for "+r.name,PM,r),u=zn(i.apis,Q0),d=zn(i.extraApis,(b,v)=>Jl(b,v));return{name:i.name,configFields:i.configFields,sketch:b=>((v,w,k,E)=>{const I=fE(E);return k(sD(v,w,I,[],[]),I)})(i.name,i.configFields,i.factory,b),...u,...d}},Ol=r=>{const i=bi("Sketcher for "+r.name,aD,r),u=nl(i.name,i.partFields),d=zn(i.apis,Q0),b=zn(i.extraApis,(v,w)=>Jl(v,w));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:v=>Zx(i.name,i.configFields,i.partFields,i.factory,v),parts:u,...d,...b}},k1=r=>Zc("input")(r)&&Ro(r,"type")!=="radio"||Zc("textarea")(r);var iD=Object.freeze({__proto__:null,getCurrent:(r,i,u)=>i.find(r)});const LM=[Ot("find")],Ko=ka({fields:LM,name:"composing",apis:iD}),lD=["input","button","textarea","select"],cD=(r,i,u)=>{(i.disabled()?jx:gE)(r,i)},mE=(r,i)=>i.useNative===!0&&ct(lD,Zi(r.element)),uD=r=>{nn(r.element,"disabled","disabled")},BM=r=>{xo(r.element,"disabled")},E1=r=>{nn(r.element,"aria-disabled","true")},MM=r=>{nn(r.element,"aria-disabled","false")},jx=(r,i,u)=>{i.disableClass.each(d=>{ms(r.element,d)}),(mE(r,i)?uD:E1)(r),i.onDisabled(r)},gE=(r,i,u)=>{i.disableClass.each(d=>{xs(r.element,d)}),(mE(r,i)?BM:MM)(r),i.onEnabled(r)},A1=(r,i)=>mE(r,i)?(u=>ks(u.element,"disabled"))(r):(u=>Ro(u.element,"aria-disabled")==="true")(r);var FM=Object.freeze({__proto__:null,enable:gE,disable:jx,isDisabled:A1,onLoad:cD,set:(r,i,u,d)=>{(d?jx:gE)(r,i)}}),$M=Object.freeze({__proto__:null,exhibit:(r,i)=>Ps({classes:i.disabled()?i.disableClass.toArray():[]}),events:(r,i)=>lo([Gh(gl(),(u,d)=>A1(u,r)),Nb(r,i,cD)])}),HM=[Zr("disabled",Oe),rt("useNative",!0),Bo("disableClass"),Uo("onDisabled"),Uo("onEnabled")];const eo=ka({fields:HM,name:"disabling",active:$M,apis:FM}),dD=(r,i,u,d)=>{const b=pa(r.element,"."+i.highlightClass);Tt(b,v=>{_n(d,w=>Jo(w.element,v))||(xs(v,i.highlightClass),r.getSystem().getByDom(v).each(w=>{i.onDehighlight(r,w),wo(w,Sf())}))})},bv=(r,i,u,d)=>{dD(r,i,0,[d]),hE(r,i,u,d)||(ms(d.element,i.highlightClass),i.onHighlight(r,d),wo(d,ex()))},hE=(r,i,u,d)=>Ji(d.element,i.highlightClass),fD=(r,i,u)=>ts(r.element,"."+i.itemClass).bind(d=>r.getSystem().getByDom(d).toOptional()),mD=(r,i,u)=>{const d=pa(r.element,"."+i.itemClass);return(d.length>0?P.some(d[d.length-1]):P.none()).bind(b=>r.getSystem().getByDom(b).toOptional())},gD=(r,i,u,d)=>{const b=pa(r.element,"."+i.itemClass);return gr(b,v=>Ji(v,i.highlightClass)).bind(v=>{const w=Dm(v,d,0,b.length-1);return r.getSystem().getByDom(b[w]).toOptional()})},hD=(r,i,u)=>{const d=pa(r.element,"."+i.itemClass);return Wi(Je(d,b=>r.getSystem().getByDom(b).toOptional()))};var zM=Object.freeze({__proto__:null,dehighlightAll:(r,i,u)=>dD(r,i,0,[]),dehighlight:(r,i,u,d)=>{hE(r,i,u,d)&&(xs(d.element,i.highlightClass),i.onDehighlight(r,d),wo(d,Sf()))},highlight:bv,highlightFirst:(r,i,u)=>{fD(r,i).each(d=>{bv(r,i,u,d)})},highlightLast:(r,i,u)=>{mD(r,i).each(d=>{bv(r,i,u,d)})},highlightAt:(r,i,u,d)=>{((b,v,w,k)=>{const E=pa(b.element,"."+v.itemClass);return P.from(E[k]).fold(()=>Ao.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(r,i,0,d).fold(b=>{throw b},b=>{bv(r,i,u,b)})},highlightBy:(r,i,u,d)=>{const b=hD(r,i);Q(b,d).each(v=>{bv(r,i,u,v)})},isHighlighted:hE,getHighlighted:(r,i,u)=>ts(r.element,"."+i.highlightClass).bind(d=>r.getSystem().getByDom(d).toOptional()),getFirst:fD,getLast:mD,getPrevious:(r,i,u)=>gD(r,i,0,-1),getNext:(r,i,u)=>gD(r,i,0,1),getCandidates:hD}),pD=[Ot("highlightClass"),Ot("itemClass"),Uo("onHighlight"),Uo("onDehighlight")];const mr=ka({fields:pD,name:"highlighting",apis:zM}),bD=[8],Vd=[9],Wm=[13],PC=[27],Pc=[32],LC=[37],T1=[38],Kx=[39],O1=[40],VM=(r,i,u)=>{const d=it(r.slice(0,i)),b=it(r.slice(i+1));return Q(d.concat(b),u)},UM=(r,i,u)=>{const d=it(r.slice(0,i));return Q(d,u)},WM=(r,i,u)=>{const d=r.slice(0,i),b=r.slice(i+1);return Q(b.concat(d),u)},ZM=(r,i,u)=>{const d=r.slice(i+1);return Q(d,u)},Qo=r=>i=>{const u=i.raw;return ct(r,u.which)},Wf=r=>i=>Ye(r,u=>u(i)),Zm=r=>r.raw.shiftKey===!0,jM=r=>r.raw.ctrlKey===!0,qx=He(Zm),nr=(r,i)=>({matches:r,classification:i}),vD=(r,i,u)=>{i.exists(d=>u.exists(b=>Jo(b,d)))||En(r,$0(),{prevFocus:i,newFocus:u})},pE=()=>{const r=i=>Ms(i.element);return{get:r,set:(i,u)=>{const d=r(i);i.getSystem().triggerFocus(u,i.element);const b=r(i);vD(i,d,b)}}},KM=()=>{const r=i=>mr.getHighlighted(i).map(u=>u.element);return{get:r,set:(i,u)=>{const d=r(i);i.getSystem().getByDom(u).fold(X,v=>{mr.highlight(i,v)});const b=r(i);vD(i,d,b)}}};var vv;(function(r){r.OnFocusMode="onFocus",r.OnEnterOrSpaceMode="onEnterOrSpace",r.OnApiMode="onApi"})(vv||(vv={}));const yv=(r,i,u,d,b)=>{const v=(k,E,I,F,B)=>{return(z=I(k,E,F,B),G=E.event,Q(z,J=>J.matches(G)).map(J=>J.classification)).bind(J=>J(k,E,F,B));var z,G},w={schema:()=>r.concat([rt("focusManager",pE()),Ri("focusInside","onFocus",vf(k=>ct(["onFocus","onEnterOrSpace","onApi"],k)?Ao.value(k):Ao.error("Invalid value for focusInside"))),$r("handler",w),$r("state",i),$r("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const I=k.focusInside!==vv.OnFocusMode?P.none():b(k).map(B=>Ct(Uu(),(z,G)=>{B(z,k,E),G.stop()})),F=[Ct(fs(),(B,z)=>{v(B,z,u,k,E).fold(()=>{((G,J)=>{const ae=Qo(Pc.concat(Wm))(J.event);k.focusInside===vv.OnEnterOrSpaceMode&&ae&&Eb(G,J)&&b(k).each(ue=>{ue(G,k,E),J.stop()})})(B,z)},G=>{z.stop()})}),Ct(Cc(),(B,z)=>{v(B,z,d,k,E).each(G=>{z.stop()})})];return lo(I.toArray().concat(F))}};return w},yD=r=>{const i=[Bo("onEscape"),Bo("onEnter"),rt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),rt("firstTabstop",0),rt("useTabstopAt",Be),Bo("visibilitySelector")].concat([r]),u=(F,B)=>{const z=F.visibilitySelector.bind(G=>ju(B,G)).getOr(B);return bs(z)>0},d=(F,B)=>B.focusManager.get(F).bind(z=>ju(z,B.selector)),b=(F,B,z)=>{((G,J)=>{const ae=pa(G.element,J.selector),ue=jn(ae,ye=>u(J,ye));return P.from(ue[J.firstTabstop])})(F,B).each(G=>{B.focusManager.set(F,G)})},v=(F,B,z,G)=>{const J=pa(F.element,z.selector);return d(F,z).bind(ae=>gr(J,Ue(Jo,ae)).bind(ue=>((ye,le,ie,he,xe)=>xe(le,ie,_e=>((Ve,nt)=>u(Ve,nt)&&Ve.useTabstopAt(nt))(he,_e)).fold(()=>he.cyclic?P.some(!0):P.none(),_e=>(he.focusManager.set(ye,_e),P.some(!0))))(F,J,ue,z,G)))},w=(F,B,z)=>{const G=z.cyclic?VM:UM;return v(F,0,z,G)},k=(F,B,z)=>{const G=z.cyclic?WM:ZM;return v(F,0,z,G)},E=j([nr(Wf([Zm,Qo(Vd)]),w),nr(Qo(Vd),k),nr(Wf([qx,Qo(Wm)]),(F,B,z)=>z.onEnter.bind(G=>G(F,B)))]),I=j([nr(Qo(PC),(F,B,z)=>z.onEscape.bind(G=>G(F,B))),nr(Qo(Vd),(F,B,z)=>d(F,z).filter(G=>!z.useTabstopAt(G)).bind(G=>((J=>(ae=>mi(ae))(J).bind(ke).exists(ae=>Jo(ae,J)))(G)?w:k)(F,B,z)))]);return yv(i,Ec.init,E,I,()=>P.some(b))};var qM=yD(Ma("cyclic",Oe)),GM=yD(Ma("cyclic",Be));const Gx=(r,i,u)=>k1(u)&&Qo(Pc)(i.event)?P.none():((d,b,v)=>(as(d,v,gl()),P.some(!0)))(r,0,u),xv=(r,i)=>P.some(!0),YM=[rt("execute",Gx),rt("useSpace",!1),rt("useEnter",!0),rt("useControlEnter",!1),rt("useDown",!1)],xD=(r,i,u)=>u.execute(r,i,r.element);var XM=yv(YM,Ec.init,(r,i,u,d)=>{const b=u.useSpace&&!k1(r.element)?Pc:[],v=u.useEnter?Wm:[],w=u.useDown?O1:[],k=b.concat(v).concat(w);return[nr(Qo(k),xD)].concat(u.useControlEnter?[nr(Wf([jM,Qo(Wm)]),xD)]:[])},(r,i,u,d)=>u.useSpace&&!k1(r.element)?[nr(Qo(Pc),xv)]:[],()=>P.none());const wD=()=>{const r=pr();return Sa({readState:()=>r.get().map(i=>({numRows:String(i.numRows),numColumns:String(i.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(i,u)=>{r.set({numRows:i,numColumns:u})},getNumRows:()=>r.get().map(i=>i.numRows),getNumColumns:()=>r.get().map(i=>i.numColumns)})};var CD=Object.freeze({__proto__:null,flatgrid:wD,init:r=>r.state(r)});const _D=r=>(i,u,d,b)=>{const v=r(i.element);return SD(v,i,u,d,b)},bE=(r,i)=>{const u=Nx(r,i);return _D(u)},vE=(r,i)=>{const u=Nx(i,r);return _D(u)},yE=r=>(i,u,d,b)=>SD(r,i,u,d,b),SD=(r,i,u,d,b)=>d.focusManager.get(i).bind(v=>r(i.element,v,d,b)).map(v=>(d.focusManager.set(i,v),!0)),xE=yE,kD=yE,BC=yE,ED=r=>!(i=>i.offsetWidth<=0&&i.offsetHeight<=0)(r.dom),wE=(r,i,u)=>{const d=pa(r,u);return((b,v)=>gr(b,w=>Jo(w,i)).map(w=>({index:w,candidates:b})))(jn(d,ED))},MC=(r,i)=>gr(r,u=>Jo(i,u)),AD=(r,i,u,d)=>d(Math.floor(i/u),i%u).bind(b=>{const v=b.row*u+b.column;return v>=0&&v<r.length?P.some(r[v]):P.none()}),TD=(r,i,u,d,b)=>AD(r,i,d,(v,w)=>{const k=v===u-1?r.length-v*d:d,E=Dm(w,b,0,k-1);return P.some({row:v,column:E})}),OD=(r,i,u,d,b)=>AD(r,i,d,(v,w)=>{const k=Dm(v,b,0,u-1),E=k===u-1?r.length-k*d:d,I=Tc(w,0,E-1);return P.some({row:k,column:I})}),JM=[Ot("selector"),rt("execute",Gx),hl("onEscape"),rt("captureTab",!1),hC()],DD=(r,i,u)=>{ts(r.element,i.selector).each(d=>{i.focusManager.set(r,d)})},Yx=r=>(i,u,d,b)=>wE(i,u,d.selector).bind(v=>r(v.candidates,v.index,b.getNumRows().getOr(d.initSize.numRows),b.getNumColumns().getOr(d.initSize.numColumns))),CE=(r,i,u)=>u.captureTab?P.some(!0):P.none(),_E=Yx((r,i,u,d)=>TD(r,i,u,d,-1)),SE=Yx((r,i,u,d)=>TD(r,i,u,d,1)),QM=Yx((r,i,u,d)=>OD(r,i,u,d,-1)),e8=Yx((r,i,u,d)=>OD(r,i,u,d,1)),t8=j([nr(Qo(LC),bE(_E,SE)),nr(Qo(Kx),vE(_E,SE)),nr(Qo(T1),xE(QM)),nr(Qo(O1),kD(e8)),nr(Wf([Zm,Qo(Vd)]),CE),nr(Wf([qx,Qo(Vd)]),CE),nr(Qo(Pc.concat(Wm)),(r,i,u,d)=>((b,v)=>v.focusManager.get(b).bind(w=>ju(w,v.selector)))(r,u).bind(b=>u.execute(r,i,b)))]),n8=j([nr(Qo(PC),(r,i,u)=>u.onEscape(r,i)),nr(Qo(Pc),xv)]);var o8=yv(JM,wD,t8,n8,()=>P.some(DD));const mp=(r,i,u,d,b)=>{const v=(w,k,E)=>b(w,k,d,0,E.length-1,E[k],I=>{return F=E[I],Zi(F)==="button"&&Ro(F,"disabled")==="disabled"?v(w,I,E):P.from(E[I]);var F});return wE(r,u,i).bind(w=>{const k=w.index,E=w.candidates;return v(k,k,E)})},RD=(r,i,u,d)=>mp(r,i,u,d,(b,v,w,k,E,I,F)=>{const B=Tc(v+w,k,E);return B===b?P.from(I):F(B)}),FC=(r,i,u,d)=>mp(r,i,u,d,(b,v,w,k,E,I,F)=>{const B=Dm(v,w,k,E);return B===b?P.none():F(B)}),r8=[Ot("selector"),rt("getInitial",P.none),rt("execute",Gx),hl("onEscape"),rt("executeOnMove",!1),rt("allowVertical",!0),rt("allowHorizontal",!0),rt("cycles",!0)],kE=(r,i,u)=>((d,b)=>b.focusManager.get(d).bind(v=>ju(v,b.selector)))(r,u).bind(d=>u.execute(r,i,d)),ND=(r,i,u)=>{i.getInitial(r).orThunk(()=>ts(r.element,i.selector)).each(d=>{i.focusManager.set(r,d)})},ID=(r,i,u)=>(u.cycles?FC:RD)(r,u.selector,i,-1),PD=(r,i,u)=>(u.cycles?FC:RD)(r,u.selector,i,1),EE=r=>(i,u,d,b)=>r(i,u,d,b).bind(()=>d.executeOnMove?kE(i,u,d):P.some(!0)),Xx=j([nr(Qo(Pc),xv),nr(Qo(PC),(r,i,u)=>u.onEscape(r,i))]);var Jx=yv(r8,Ec.init,(r,i,u,d)=>{const b=[...u.allowHorizontal?LC:[]].concat(u.allowVertical?T1:[]),v=[...u.allowHorizontal?Kx:[]].concat(u.allowVertical?O1:[]);return[nr(Qo(b),EE(bE(ID,PD))),nr(Qo(v),EE(vE(ID,PD))),nr(Qo(Wm),kE),nr(Qo(Pc),kE)]},Xx,()=>P.some(ND));const $C=(r,i,u)=>P.from(r[i]).bind(d=>P.from(d[u]).map(b=>({rowIndex:i,columnIndex:u,cell:b}))),HC=(r,i,u,d)=>{const b=r[i].length,v=Dm(u,d,0,b-1);return $C(r,i,v)},LD=(r,i,u,d)=>{const b=Dm(u,d,0,r.length-1),v=r[b].length,w=Tc(i,0,v-1);return $C(r,b,w)},AE=(r,i,u,d)=>{const b=r[i].length,v=Tc(u+d,0,b-1);return $C(r,i,v)},TE=(r,i,u,d)=>{const b=Tc(u+d,0,r.length-1),v=r[b].length,w=Tc(i,0,v-1);return $C(r,b,w)},BD=[xc("selectors",[Ot("row"),Ot("cell")]),rt("cycles",!0),rt("previousSelector",P.none),rt("execute",Gx)],s8=(r,i,u)=>{i.previousSelector(r).orThunk(()=>{const d=i.selectors;return ts(r.element,d.cell)}).each(d=>{i.focusManager.set(r,d)})},zC=(r,i)=>(u,d,b)=>{const v=b.cycles?r:i;return ju(d,b.selectors.row).bind(w=>{const k=pa(w,b.selectors.cell);return MC(k,d).bind(E=>{const I=pa(u,b.selectors.row);return MC(I,w).bind(F=>{const B=((z,G)=>Je(z,J=>pa(J,G.selectors.cell)))(I,b);return v(B,F,E).map(z=>z.cell)})})})},MD=zC((r,i,u)=>HC(r,i,u,-1),(r,i,u)=>AE(r,i,u,-1)),wv=zC((r,i,u)=>HC(r,i,u,1),(r,i,u)=>AE(r,i,u,1)),Cv=zC((r,i,u)=>LD(r,u,i,-1),(r,i,u)=>TE(r,u,i,-1)),VC=zC((r,i,u)=>LD(r,u,i,1),(r,i,u)=>TE(r,u,i,1)),Qx=j([nr(Qo(LC),bE(MD,wv)),nr(Qo(Kx),vE(MD,wv)),nr(Qo(T1),xE(Cv)),nr(Qo(O1),kD(VC)),nr(Qo(Pc.concat(Wm)),(r,i,u)=>Ms(r.element).bind(d=>u.execute(r,i,d)))]),a8=j([nr(Qo(Pc),xv)]);var gp=yv(BD,Ec.init,Qx,a8,()=>P.some(s8));const jm=[Ot("selector"),rt("execute",Gx),rt("moveOnTab",!1)],UC=(r,i,u)=>u.focusManager.get(r).bind(d=>u.execute(r,i,d)),FD=(r,i,u)=>{ts(r.element,i.selector).each(d=>{i.focusManager.set(r,d)})},$D=(r,i,u)=>FC(r,u.selector,i,-1),OE=(r,i,u)=>FC(r,u.selector,i,1),e2=j([nr(Qo(T1),BC($D)),nr(Qo(O1),BC(OE)),nr(Wf([Zm,Qo(Vd)]),(r,i,u,d)=>u.moveOnTab?BC($D)(r,i,u,d):P.none()),nr(Wf([qx,Qo(Vd)]),(r,i,u,d)=>u.moveOnTab?BC(OE)(r,i,u,d):P.none()),nr(Qo(Wm),UC),nr(Qo(Pc),UC)]),t2=j([nr(Qo(Pc),xv)]);var DE=yv(jm,Ec.init,e2,t2,()=>P.some(FD));const HD=[hl("onSpace"),hl("onEnter"),hl("onShiftEnter"),hl("onLeft"),hl("onRight"),hl("onTab"),hl("onShiftTab"),hl("onUp"),hl("onDown"),hl("onEscape"),rt("stopSpaceKeyup",!1),Bo("focusIn")];var n2=yv(HD,Ec.init,(r,i,u)=>[nr(Qo(Pc),u.onSpace),nr(Wf([qx,Qo(Wm)]),u.onEnter),nr(Wf([Zm,Qo(Wm)]),u.onShiftEnter),nr(Wf([Zm,Qo(Vd)]),u.onShiftTab),nr(Wf([qx,Qo(Vd)]),u.onTab),nr(Qo(T1),u.onUp),nr(Qo(O1),u.onDown),nr(Qo(LC),u.onLeft),nr(Qo(Kx),u.onRight),nr(Qo(Pc),u.onSpace)],(r,i,u)=>[...u.stopSpaceKeyup?[nr(Qo(Pc),xv)]:[],nr(Qo(PC),u.onEscape)],r=>r.focusIn);const WC=qM.schema(),i8=GM.schema(),RE=Jx.schema(),ZC=o8.schema(),Li=gp.schema(),l8=XM.schema(),Km=DE.schema(),zD=n2.schema(),Tn=fC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:WC,cyclic:i8,flow:RE,flatgrid:ZC,matrix:Li,execution:l8,menu:Km,special:zD}),name:"keying",active:{events:(r,i)=>r.handler.toEvents(r,i)},apis:{focusIn:(r,i,u)=>{i.sendFocusIn(i).fold(()=>{r.getSystem().triggerFocus(r.element,r.element)},d=>{d(r,i,u)})},setGridSize:(r,i,u,d,b)=>{(v=>bo(v,"setGridSize"))(u)?u.setGridSize(d,b):console.error("Layout does not support setGridSize")}},state:CD}),_v=(r,i)=>{Bm(()=>{((u,d,b)=>{const v=u.components();(E=>{Tt(E.components(),I=>La(I.element)),Qr(E.element),E.syncComponents()})(u);const w=b(d),k=be(v,w);Tt(k,E=>{zm(E),u.getSystem().removeFromWorld(E)}),Tt(w,E=>{y1(E)?ah(u,E):(u.getSystem().addToWorld(E),ah(u,E),ln(u.element)&&Vm(E))}),u.syncComponents()})(r,i,()=>Je(i,r.getSystem().build))},r.element)},NE=(r,i)=>{Bm(()=>{((u,d,b)=>{const v=u.components(),w=Do(d,I=>px(I).toArray());Tt(v,I=>{ct(w,I)||x1(I)});const k=((I,F,B)=>bC(I,F,(z,G)=>xx(I,G,z,B)))(r.element,i,r.getSystem().buildOrPatch),E=be(v,k);Tt(E,I=>{y1(I)&&x1(I)}),Tt(k,I=>{y1(I)||hv(u,I)}),u.syncComponents()})(r,i)},r.element)},jC=(r,i,u,d)=>{x1(i);const b=xx(r.element,u,d,r.getSystem().buildOrPatch);hv(r,b),r.syncComponents()},IE=(r,i,u)=>{const d=r.getSystem().build(u);$x(r,d,i)},VD=(r,i,u,d)=>{tl(i),IE(r,(b,v)=>((w,k,E)=>{Jr(w,E).fold(()=>{Ei(w,k)},I=>{_d(I,k)})})(b,v,u),d)},o2=(r,i)=>r.components(),UD=(r,i,u,d,b)=>{const v=o2(r);return P.from(v[d]).map(w=>(b.fold(()=>tl(w),k=>{(i.reuseDom?jC:VD)(r,w,d,k)}),w))};var PE=Object.freeze({__proto__:null,append:(r,i,u,d)=>{IE(r,Ei,d)},prepend:(r,i,u,d)=>{IE(r,Ig,d)},remove:(r,i,u,d)=>{const b=o2(r);Q(b,w=>Jo(d.element,w.element)).each(tl)},replaceAt:UD,replaceBy:(r,i,u,d,b)=>{const v=o2(r);return gr(v,d).bind(w=>UD(r,i,0,w,b))},set:(r,i,u,d)=>(i.reuseDom?NE:_v)(r,d),contents:o2});const $n=ka({fields:[js("reuseDom",!0)],name:"replacing",apis:PE}),po=(r,i)=>{const u=((d,b)=>{const v=lo(b);return ka({fields:[Ot("enabled")],name:d,active:{events:j(v)}})})(r,i);return{key:r,value:{config:{},me:u,configAsRaw:j({}),initialConfig:{},state:Ec}}},WD=(r,i)=>{i.ignore||(Ii(r.element),i.onFocus(r))};var ZD=Object.freeze({__proto__:null,focus:WD,blur:(r,i)=>{i.ignore||Yb(r.element)},isFocused:r=>eh(r.element)}),jD=Object.freeze({__proto__:null,exhibit:(r,i)=>{const u=i.ignore?{}:{attributes:{tabindex:"-1"}};return Ps(u)},events:r=>lo([Ct(Uu(),(i,u)=>{WD(i,r),u.stop()})].concat(r.stopMousedown?[Ct(Dt(),(i,u)=>{u.event.prevent()})]:[]))}),KD=[Uo("onFocus"),rt("stopMousedown",!1),rt("ignore",!1)];const Jn=ka({fields:KD,name:"focusing",active:jD,apis:ZD}),r2=(r,i,u,d)=>{const b=u.get();u.set(d),((v,w,k)=>{w.toggleClass.each(E=>{k.get()?ms(v.element,E):xs(v.element,E)})})(r,i,u),((v,w,k)=>{const E=w.aria;E.update(v,E,k.get())})(r,i,u),b!==d&&i.onToggled(r,d)},hu=(r,i,u)=>{r2(r,i,u,!u.get())},Sv=(r,i,u)=>{r2(r,i,u,i.selected)};var qD=Object.freeze({__proto__:null,onLoad:Sv,toggle:hu,isOn:(r,i,u)=>u.get(),on:(r,i,u)=>{r2(r,i,u,!0)},off:(r,i,u)=>{r2(r,i,u,!1)},set:r2}),D1=Object.freeze({__proto__:null,exhibit:()=>Ps({}),events:(r,i)=>{const u=(d=r,b=i,v=hu,au(k=>{v(k,d,b)}));var d,b,v;const w=Nb(r,i,Sv);return lo($o([r.toggleOnExecute?[u]:[],[w]]))}});const Hl=(r,i,u)=>{nn(r.element,"aria-expanded",u)};var Lc=[rt("selected",!1),Bo("toggleClass"),rt("toggleOnExecute",!0),Uo("onToggled"),Ri("aria",{mode:"none"},aa("mode",{pressed:[rt("syncWithExpanded",!1),$r("update",(r,i,u)=>{nn(r.element,"aria-pressed",u),i.syncWithExpanded&&Hl(r,0,u)})],checked:[$r("update",(r,i,u)=>{nn(r.element,"aria-checked",u)})],expanded:[$r("update",Hl)],selected:[$r("update",(r,i,u)=>{nn(r.element,"aria-selected",u)})],none:[$r("update",X)]}))];const Kn=ka({fields:Lc,name:"toggling",active:D1,apis:qD,state:{init:()=>{const r=Dn(!1);return{get:()=>r.get(),set:i=>r.set(i),clear:()=>r.set(!1),readState:()=>r.get()}}}}),Gu=()=>{const r=(i,u)=>{u.stop(),kf(i)};return[Ct(ia(),r),Ct(xf(),r),km(K()),km(Dt())]},R1=r=>lo($o([r.map(i=>au((u,d)=>{i(u),d.stop()})).toArray(),Gu()])),pu="alloy.item-hover",hp="alloy.item-focus",GD="alloy.item-toggled",YD=r=>{(Ms(r.element).isNone()||Jn.isFocused(r))&&(Jn.isFocused(r)||Jn.focus(r),En(r,pu,{item:r}))},XD=r=>{En(r,hp,{item:r})},LE=j(pu),JD=j(hp),KC=j(GD),QD=r=>r.role.fold(()=>r.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),de),c8=[Ot("data"),Ot("components"),Ot("dom"),rt("hasSubmenu",!1),Bo("toggling"),Bo("role"),Qn("itemBehaviours",[Kn,Jn,Tn,lt]),rt("ignoreFocus",!1),rt("domModification",{}),$r("builder",r=>({dom:r.dom,domModification:{...r.domModification,attributes:{role:QD(r),...r.domModification.attributes,"aria-haspopup":r.hasSubmenu,...r.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Wn(r.itemBehaviours,[r.toggling.fold(Kn.revoke,i=>Kn.config(((u,d)=>({aria:{mode:d?"selected":"checked"},...Yo(u,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{Z(u.onToggled)&&u.onToggled(b,v),((w,k)=>{En(w,GD,{item:w,state:k})})(b,v)}}))(i,r.role.exists(u=>u==="option")))),Jn.config({ignore:r.ignoreFocus,stopMousedown:r.ignoreFocus,onFocus:i=>{XD(i)}}),Tn.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:r.data}}),po("item-type-events",[...Gu(),Ct(kn(),YD),Ct(Ob(),Jn.focus)])]),components:r.components,eventOrder:r.eventOrder})),rt("eventOrder",{})],u8=[Ot("dom"),Ot("components"),$r("builder",r=>({dom:r.dom,components:r.components,events:lo([uC(Ob())])}))],BE=j("item-widget"),ME=j([yl({name:"widget",overrides:r=>({behaviours:Vt([lt.config({store:{mode:"manual",getValue:i=>r.data,setValue:X}})])})})]),eR=[Ot("uid"),Ot("data"),Ot("components"),Ot("dom"),rt("autofocus",!1),rt("ignoreFocus",!1),Qn("widgetBehaviours",[lt,Jn,Tn]),rt("domModification",{}),dE(ME()),$r("builder",r=>{const i=iE(BE(),r,ME()),u=lE(BE(),r,i.internals()),d=v=>zr(v,r,"widget").map(w=>(Tn.focusIn(w),w)),b=(v,w)=>(k1(w.event.target)||r.autofocus&&w.setSource(v.element),P.none());return{dom:r.dom,components:u,domModification:r.domModification,events:lo([au((v,w)=>{d(v).each(k=>{w.stop()})}),Ct(kn(),YD),Ct(Ob(),(v,w)=>{r.autofocus?d(v):Jn.focus(v)})]),behaviours:Wn(r.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:r.data}}),Jn.config({ignore:r.ignoreFocus,onFocus:v=>{XD(v)}}),Tn.config({mode:"special",focusIn:r.autofocus?v=>{d(v)}:Uk(),onLeft:b,onRight:b,onEscape:(v,w)=>Jn.isFocused(v)||r.autofocus?(r.autofocus&&w.setSource(v.element),P.none()):(Jn.focus(v),P.some(!0))})])}})],tR=aa("type",{widget:eR,item:c8,separator:u8}),FE=j([IC({factory:{sketch:r=>{const i=bi("menu.spec item",tR,r);return i.builder(i)}},name:"items",unit:"item",defaults:(r,i)=>no(i,"uid")?i:{...i,uid:Oc("item")},overrides:(r,i)=>({type:i.type,ignoreFocus:r.fakeFocus,domModification:{classes:[r.markers.item]}})})]),nR=j([Es("role"),Ot("value"),Ot("items"),Ot("dom"),Ot("components"),rt("eventOrder",{}),bn("menuBehaviours",[mr,lt,Ko,Tn]),Ri("movement",{mode:"menu",moveOnTab:!0},aa("mode",{grid:[hC(),$r("config",(r,i)=>({mode:"flatgrid",selector:"."+r.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:r.focusManager}))],matrix:[$r("config",(r,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+r.markers.item},previousSelector:i.previousSelector,focusManager:r.focusManager})),Ot("rowSelector"),rt("previousSelector",P.none)],menu:[rt("moveOnTab",!0),$r("config",(r,i)=>({mode:"menu",selector:"."+r.markers.item,moveOnTab:i.moveOnTab,focusManager:r.focusManager}))]})),Fa("markers",Ug()),rt("fakeFocus",!1),rt("focusManager",pE()),Uo("onHighlight"),Uo("onDehighlight"),rt("showMenuRole",!0)]),oR=j("alloy.menu-focus"),kv=Ol({name:"Menu",configFields:nR(),partFields:FE(),factory:(r,i,u,d)=>({uid:r.uid,dom:r.dom,markers:r.markers,behaviours:ho(r.menuBehaviours,[mr.config({highlightClass:r.markers.selectedItem,itemClass:r.markers.item,onHighlight:r.onHighlight,onDehighlight:r.onDehighlight}),lt.config({store:{mode:"memory",initialValue:r.value}}),Ko.config({find:P.some}),Tn.config(r.movement.config(r,r.movement))]),events:lo([Ct(JD(),(b,v)=>{const w=v.event;b.getSystem().getByDom(w.target).each(k=>{mr.highlight(b,k),v.stop(),En(b,oR(),{menu:b,item:k})})}),Ct(LE(),(b,v)=>{const w=v.event.item;mr.highlight(b,w)}),Ct(KC(),(b,v)=>{const{item:w,state:k}=v.event;k&&Ro(w.element,"role")==="menuitemradio"&&((E,I)=>{const F=pa(E.element,'[role="menuitemradio"][aria-checked="true"]');Tt(F,B=>{Jo(B,I.element)||E.getSystem().getByDom(B).each(z=>{Kn.off(z)})})})(b,w)})]),components:i,eventOrder:r.eventOrder,...r.showMenuRole?{domModification:{attributes:{role:r.role.getOr("menu")}}}:{}})}),rR=(r,i,u,d)=>yn(u,d).bind(b=>yn(r,b).bind(v=>{const w=rR(r,i,u,v);return P.some([v].concat(w))})).getOr([]),sR=r=>r.type==="prepared"?P.some(r.menu):P.none(),d8=()=>{const r=Dn({}),i=Dn({}),u=Dn({}),d=pr(),b=Dn({}),v=E=>w(E).bind(sR),w=E=>yn(i.get(),E),k=E=>yn(r.get(),E);return{setMenuBuilt:(E,I)=>{i.set({...i.get(),[E]:{type:"prepared",menu:I}})},setContents:(E,I,F,B)=>{d.set(E),r.set(F),i.set(I),b.set(B);const z=((G,J)=>{const ae={};Mn(G,(ie,he)=>{Tt(ie,xe=>{ae[xe]=he})});const ue=J,ye=_o(J,(ie,he)=>({k:ie,v:he})),le=zn(ye,(ie,he)=>[he].concat(rR(ae,ue,ye,he)));return zn(ae,ie=>yn(le,ie).getOr([ie]))})(B,F);u.set(z)},expand:E=>yn(r.get(),E).map(I=>{const F=yn(u.get(),E).getOr([]);return[I].concat(F)}),refresh:E=>yn(u.get(),E),collapse:E=>yn(u.get(),E).bind(I=>I.length>1?P.some(I.slice(1)):P.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const I=b.get();return be(Ft(I),E)},getPrimary:()=>d.get().bind(v),getMenus:()=>i.get(),clear:()=>{r.set({}),i.set({}),u.set({}),d.clear()},isClear:()=>d.get().isNone(),getTriggeringPath:(E,I)=>{const F=jn(k(E).toArray(),B=>v(B).isSome());return yn(u.get(),E).bind(B=>{const z=it(F.concat(B));return(G=>{const J=[];for(let ae=0;ae<G.length;ae++){const ue=G[ae];if(!ue.isSome())return P.none();J.push(ue.getOrDie())}return P.some(J)})(Do(z,(G,J)=>((ae,ue,ye)=>v(ae).bind(le=>(ie=>ar(r.get(),(he,xe)=>he===ie))(ae).bind(ie=>ue(ie).map(he=>({triggeredMenu:le,triggeringItem:he,triggeringPath:ye})))))(G,I,z.slice(0,J+1)).fold(()=>Xs(d.get(),G)?[]:[P.none()],ae=>[P.some(ae)])))})}}},f8=sR,bu=pn("tiered-menu-item-highlight"),m8=pn("tiered-menu-item-dehighlight");var ol;(function(r){r[r.HighlightMenuAndItem=0]="HighlightMenuAndItem",r[r.HighlightJustMenu=1]="HighlightJustMenu",r[r.HighlightNone=2]="HighlightNone"})(ol||(ol={}));const Ev=j("collapse-item"),lh=gu({name:"TieredMenu",configFields:[vi("onExecute"),vi("onEscape"),Zu("onOpenMenu"),Zu("onOpenSubmenu"),Uo("onRepositionMenu"),Uo("onCollapseMenu"),rt("highlightOnOpen",ol.HighlightMenuAndItem),xc("data",[Ot("primary"),Ot("menus"),Ot("expansions")]),rt("fakeFocus",!1),Uo("onHighlightItem"),Uo("onDehighlightItem"),Uo("onHover"),Wg(),Ot("dom"),rt("navigateOnHover",!0),rt("stayInDom",!1),bn("tmenuBehaviours",[Tn,mr,Ko,$n]),rt("eventOrder",{})],apis:{collapseMenu:(r,i)=>{r.collapseMenu(i)},highlightPrimary:(r,i)=>{r.highlightPrimary(i)},repositionMenus:(r,i)=>{r.repositionMenus(i)}},factory:(r,i)=>{const u=pr(),d=d8(),b=ie=>lt.getValue(ie).value,v=ie=>zn(r.data.menus,(he,xe)=>Do(he.items,_e=>_e.type==="separator"?[]:[_e.data.value])),w=mr.highlight,k=(ie,he)=>{w(ie,he),mr.getHighlighted(he).orThunk(()=>mr.getFirst(he)).each(xe=>{r.fakeFocus?mr.highlight(he,xe):as(ie,xe.element,Ob())})},E=(ie,he)=>Wi(Je(he,xe=>ie.lookupMenu(xe).bind(_e=>_e.type==="prepared"?P.some(_e.menu):P.none()))),I=(ie,he,xe)=>{const _e=E(he,he.otherMenus(xe));Tt(_e,Ve=>{Ql(Ve.element,[r.markers.backgroundMenu]),r.stayInDom||$n.remove(ie,Ve)})},F=(ie,he)=>{const xe=(_e=>u.get().getOrThunk(()=>{const Ve={},nt=pa(_e.element,`.${r.markers.item}`),kt=jn(nt,wt=>Ro(wt,"aria-haspopup")==="true");return Tt(kt,wt=>{_e.getSystem().getByDom(wt).each(yt=>{const $t=b(yt);Ve[$t]=yt})}),u.set(Ve),Ve}))(ie);Mn(xe,(_e,Ve)=>{const nt=ct(he,Ve);nn(_e.element,"aria-expanded",nt)})},B=(ie,he,xe)=>P.from(xe[0]).bind(_e=>he.lookupMenu(_e).bind(Ve=>{if(Ve.type==="notbuilt")return P.none();{const nt=Ve.menu,kt=E(he,xe.slice(1));return Tt(kt,wt=>{ms(wt.element,r.markers.backgroundMenu)}),ln(nt.element)||$n.append(ie,Qi(nt)),Ql(nt.element,[r.markers.backgroundMenu]),k(ie,nt),I(ie,he,xe),P.some(nt)}}));let z;(function(ie){ie[ie.HighlightSubmenu=0]="HighlightSubmenu",ie[ie.HighlightParent=1]="HighlightParent"})(z||(z={}));const G=(ie,he,xe=z.HighlightSubmenu)=>{if(he.hasConfigured(eo)&&eo.isDisabled(he))return P.some(he);{const _e=b(he);return d.expand(_e).bind(Ve=>(F(ie,Ve),P.from(Ve[0]).bind(nt=>d.lookupMenu(nt).bind(kt=>{const wt=((yt,$t,dn)=>{if(dn.type==="notbuilt"){const Cn=yt.getSystem().build(dn.nbMenu());return d.setMenuBuilt($t,Cn),Cn}return dn.menu})(ie,nt,kt);return ln(wt.element)||$n.append(ie,Qi(wt)),r.onOpenSubmenu(ie,he,wt,it(Ve)),xe===z.HighlightSubmenu?(mr.highlightFirst(wt),B(ie,d,Ve)):(mr.dehighlightAll(wt),P.some(he))}))))}},J=(ie,he)=>{const xe=b(he);return d.collapse(xe).bind(_e=>(F(ie,_e),B(ie,d,_e).map(Ve=>(r.onCollapseMenu(ie,he,Ve),Ve))))},ae=ie=>(he,xe)=>ju(xe.getSource(),`.${r.markers.item}`).bind(_e=>he.getSystem().getByDom(_e).toOptional().bind(Ve=>ie(he,Ve).map(Be))),ue=lo([Ct(oR(),(ie,he)=>{const xe=he.event.item;d.lookupItem(b(xe)).each(()=>{const _e=he.event.menu;mr.highlight(ie,_e);const Ve=b(he.event.item);d.refresh(Ve).each(nt=>I(ie,d,nt))})}),au((ie,he)=>{const xe=he.event.target;ie.getSystem().getByDom(xe).each(_e=>{b(_e).indexOf("collapse-item")===0&&J(ie,_e),G(ie,_e,z.HighlightSubmenu).fold(()=>{r.onExecute(ie,_e)},X)})}),Gr((ie,he)=>{(xe=>{const _e=((nt,kt,wt)=>zn(wt,(yt,$t)=>{const dn=()=>kv.sketch({...yt,value:$t,markers:r.markers,fakeFocus:r.fakeFocus,onHighlight:(Cn,Nn)=>{En(Cn,bu,{menuComp:Cn,itemComp:Nn})},onDehighlight:(Cn,Nn)=>{En(Cn,m8,{menuComp:Cn,itemComp:Nn})},focusManager:r.fakeFocus?KM():pE()});return $t===kt?{type:"prepared",menu:nt.getSystem().build(dn())}:{type:"notbuilt",nbMenu:dn}}))(xe,r.data.primary,r.data.menus),Ve=v();return d.setContents(r.data.primary,_e,r.data.expansions,Ve),d.getPrimary()})(ie).each(xe=>{$n.append(ie,Qi(xe)),r.onOpenMenu(ie,xe),r.highlightOnOpen===ol.HighlightMenuAndItem?k(ie,xe):r.highlightOnOpen===ol.HighlightJustMenu&&w(ie,xe)})}),Ct(bu,(ie,he)=>{r.onHighlightItem(ie,he.event.menuComp,he.event.itemComp)}),Ct(m8,(ie,he)=>{r.onDehighlightItem(ie,he.event.menuComp,he.event.itemComp)}),...r.navigateOnHover?[Ct(LE(),(ie,he)=>{const xe=he.event.item;((_e,Ve)=>{const nt=b(Ve);d.refresh(nt).bind(kt=>(F(_e,kt),B(_e,d,kt)))})(ie,xe),G(ie,xe,z.HighlightParent),r.onHover(ie,xe)})]:[]]),ye=ie=>mr.getHighlighted(ie).bind(mr.getHighlighted),le={collapseMenu:ie=>{ye(ie).each(he=>{J(ie,he)})},highlightPrimary:ie=>{d.getPrimary().each(he=>{k(ie,he)})},repositionMenus:ie=>{d.getPrimary().bind(xe=>ye(ie).bind(_e=>{const Ve=b(_e),nt=Pa(d.getMenus()),kt=Wi(Je(nt,f8));return d.getTriggeringPath(Ve,wt=>((yt,$t,dn)=>on($t,Cn=>{if(!Cn.getSystem().isConnected())return P.none();const Nn=mr.getCandidates(Cn);return Q(Nn,to=>b(to)===dn)}))(0,kt,wt))}).map(_e=>({primary:xe,triggeringPath:_e}))).fold(()=>{(xe=>P.from(xe.components()[0]).filter(_e=>Ro(_e.element,"role")==="menu"))(ie).each(xe=>{r.onRepositionMenu(ie,xe,[])})},({primary:xe,triggeringPath:_e})=>{r.onRepositionMenu(ie,xe,_e)})}};return{uid:r.uid,dom:r.dom,markers:r.markers,behaviours:ho(r.tmenuBehaviours,[Tn.config({mode:"special",onRight:ae((ie,he)=>k1(he.element)?P.none():G(ie,he,z.HighlightSubmenu)),onLeft:ae((ie,he)=>k1(he.element)?P.none():J(ie,he)),onEscape:ae((ie,he)=>J(ie,he).orThunk(()=>r.onEscape(ie,he).map(()=>ie))),focusIn:(ie,he)=>{d.getPrimary().each(xe=>{as(ie,xe.element,Ob())})}}),mr.config({highlightClass:r.markers.selectedMenu,itemClass:r.markers.menu}),Ko.config({find:ie=>mr.getHighlighted(ie)}),$n.config({})]),eventOrder:r.eventOrder,apis:le,events:ue}},extraApis:{tieredData:(r,i,u)=>({primary:r,menus:i,expansions:u}),singleData:(r,i)=>({primary:r,menus:ou(r,i),expansions:{}}),collapseItem:r=>({value:pn(Ev()),meta:{text:r}})}}),is=gu({name:"InlineView",configFields:[Ot("lazySink"),Uo("onShow"),Uo("onHide"),nu("onEscape"),bn("inlineBehaviours",[T,lt,bl]),vs("fireDismissalEventInstead",[rt("event",Fg())]),vs("fireRepositionEventInstead",[rt("event",_f())]),rt("getRelated",P.none),rt("isExtraPart",Oe),rt("eventOrder",P.none)],factory:(r,i)=>{const u=(w,k,E,I)=>{const F=r.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>ai.positionWithinBounds(F,w,E,I())),lt.setValue(w,P.some({mode:"position",config:E,getBounds:I}))},d=(w,k,E,I)=>{const F=((B,z,G,J,ae)=>{const ue=()=>B.lazySink(z),ye=J.type==="horizontal"?{layouts:{onLtr:()=>i1(),onRtl:()=>l1()}}:{},le=ie=>(he=>he.length===2)(ie)?ye:{};return lh.sketch({dom:{tag:"div"},data:J.data,markers:J.menu.markers,highlightOnOpen:J.menu.highlightOnOpen,fakeFocus:J.menu.fakeFocus,onEscape:()=>(T.close(z),B.onEscape.map(ie=>ie(z)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(ie,he)=>{ai.positionWithinBounds(ue().getOrDie(),he,G,ae())},onOpenSubmenu:(ie,he,xe,_e)=>{const Ve=ue().getOrDie();ai.position(Ve,xe,{anchor:{type:"submenu",item:he,...le(_e)}})},onRepositionMenu:(ie,he,xe)=>{const _e=ue().getOrDie();ai.positionWithinBounds(_e,he,G,ae()),Tt(xe,Ve=>{const nt=le(Ve.triggeringPath);ai.position(_e,Ve.triggeredMenu,{anchor:{type:"submenu",item:Ve.triggeringItem,...nt}})})}})})(r,w,k,E,I);T.open(w,F),lt.setValue(w,P.some({mode:"menu",menu:F}))},b=w=>{T.isOpen(w)&&lt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(lh.repositionMenus);break;case"position":const E=r.lazySink(w).getOrDie();ai.positionWithinBounds(E,w,k.config,k.getBounds())}})},v={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const I=P.none;u(w,k,E,I)},showWithinBounds:u,showMenuAt:(w,k,E)=>{d(w,k,E,P.none)},showMenuWithinBounds:d,hide:w=>{T.isOpen(w)&&(lt.setValue(w,P.none()),T.close(w))},getContent:w=>T.getState(w),reposition:b,isOpen:T.isOpen};return{uid:r.uid,dom:r.dom,behaviours:ho(r.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>pl(k,E)||((I,F)=>r.getRelated(I).exists(B=>pl(B,F)))(w,E),getAttachPoint:w=>r.lazySink(w).getOrDie(),onOpen:w=>{r.onShow(w)},onClose:w=>{r.onHide(w)}}),lt.config({store:{mode:"memory",initialValue:P.none()}}),bl.config({channels:{...se({isExtraPart:i.isExtraPart,...r.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Ne({...r.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:b})}})]),eventOrder:r.eventOrder,apis:v}},apis:{showAt:(r,i,u,d)=>{r.showAt(i,u,d)},showWithinBounds:(r,i,u,d,b)=>{r.showWithinBounds(i,u,d,b)},showMenuAt:(r,i,u,d)=>{r.showMenuAt(i,u,d)},showMenuWithinBounds:(r,i,u,d,b)=>{r.showMenuWithinBounds(i,u,d,b)},hide:(r,i)=>{r.hide(i)},isOpen:(r,i)=>r.isOpen(i),getContent:(r,i)=>r.getContent(i),setContent:(r,i,u)=>{r.setContent(i,u)},reposition:(r,i)=>{r.reposition(i)}}});var Yu,s2,qC=tinymce.util.Tools.resolve("tinymce.util.Delay"),N1=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),aR=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zf=tinymce.util.Tools.resolve("tinymce.Env");(function(r){r.default="wrap",r.floating="floating",r.sliding="sliding",r.scrolling="scrolling"})(Yu||(Yu={})),function(r){r.auto="auto",r.top="top",r.bottom="bottom"}(s2||(s2={}));const Or=r=>i=>i.options.get(r),a2=r=>i=>P.from(r(i)),iR=r=>{const i=Zf.deviceType.isPhone(),u=Zf.deviceType.isTablet()||i,d=r.options.register,b=w=>h(w)||w===!1,v=w=>h(w)||te(w);d("skin",{processor:w=>h(w)||w===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(r.getElement().offsetHeight,400)}),d("width",{processor:v,default:N1.DOM.getStyle(r.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:w=>h(w)||D(w),default:!i}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:w=>D(w)||h(w)||O(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Vn(9,w=>{d("toolbar"+(w+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:s2.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:r.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:b,default:"#top"}),d("anchor_bottom",{processor:b,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:w=>w==="both"||D(w),default:!Zf.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:r.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},$E=Or("readonly"),i2=Or("height"),l2=Or("width"),c2=a2(Or("min_width")),I1=a2(Or("min_height")),P1=a2(Or("max_width")),GC=a2(Or("max_height")),L1=a2(Or("style_formats")),YC=Or("style_formats_merge"),lR=Or("style_formats_autohide"),HE=Or("content_langs"),cR=Or("removed_menuitems"),Av=Or("toolbar_mode"),XC=Or("toolbar_groups"),pp=Or("toolbar_location"),zE=Or("fixed_toolbar_container"),g8=Or("fixed_toolbar_container_target"),uR=Or("toolbar_persist"),VE=Or("toolbar_sticky_offset"),ch=Or("menubar"),B1=Or("toolbar"),JC=Or("file_picker_callback"),u2=Or("file_picker_validator_handler"),UE=Or("font_size_input_default_unit"),d2=Or("file_picker_types"),QC=Or("typeahead_urls"),dR=Or("anchor_top"),fR=Or("anchor_bottom"),jf=Or("draggable_modal"),mR=Or("statusbar"),gR=Or("elementpath"),Bc=Or("branding"),ii=Or("resize"),hR=Or("paste_as_text"),e_=Or("sidebar_show"),pR=Or("promotion"),WE=Or("help_accessibility"),t_=Or("default_font_stack"),bp=r=>r.options.get("skin")===!1,f2=r=>r.options.get("menubar")!==!1,n_=r=>{const i=r.options.get("skin_url");if(bp(r))return i;if(i)return r.documentBaseURI.toAbsolute(i);{const u=r.options.get("skin");return aR.baseURL+"/skins/ui/"+u}},o_=r=>P.from(r.options.get("skin_url")),bR=r=>r.options.get("line_height_formats").split(" "),m2=r=>{const i=B1(r),u=h(i),d=O(i)&&i.length>0;return!g2(r)&&(d||u||i===!0)},r_=r=>{const i=Vn(9,d=>r.options.get("toolbar"+(d+1))),u=jn(i,h);return Xo(u.length>0,u)},g2=r=>r_(r).fold(()=>{const i=B1(r);return ce(i,h)&&i.length>0},Be),ZE=r=>pp(r)===s2.bottom,jE=r=>{var i;if(!r.inline)return P.none();const u=(i=zE(r))!==null&&i!==void 0?i:"";if(u.length>0)return ts(hn(),u);const d=g8(r);return V(d)?P.some(rn(d)):P.none()},Tv=r=>r.inline&&jE(r).isSome(),s_=r=>jE(r).getOrThunk(()=>Qe(ut(rn(r.getElement())))),a_=r=>r.inline&&!f2(r)&&!m2(r)&&!g2(r),uh=r=>(r.options.get("toolbar_sticky")||r.inline)&&!Tv(r)&&!a_(r),dh=r=>!Tv(r)&&r.options.get("ui_mode")==="split",vp=r=>{const i=r.options.get("menu");return zn(i,u=>({...u,items:u.items}))};var h2=Object.freeze({__proto__:null,get ToolbarMode(){return Yu},get ToolbarLocation(){return s2},register:iR,getSkinUrl:n_,getSkinUrlOption:o_,isReadOnly:$E,isSkinDisabled:bp,getHeightOption:i2,getWidthOption:l2,getMinWidthOption:c2,getMinHeightOption:I1,getMaxWidthOption:P1,getMaxHeightOption:GC,getUserStyleFormats:L1,shouldMergeStyleFormats:YC,shouldAutoHideStyleFormats:lR,getLineHeightFormats:bR,getContentLanguages:HE,getRemovedMenuItems:cR,isMenubarEnabled:f2,isMultipleToolbars:g2,isToolbarEnabled:m2,isToolbarPersist:uR,getMultipleToolbarsOption:r_,getUiContainer:s_,useFixedContainer:Tv,isSplitUiMode:dh,getToolbarMode:Av,isDraggableModal:jf,isDistractionFree:a_,isStickyToolbar:uh,getStickyToolbarOffset:VE,getToolbarLocation:pp,isToolbarLocationBottom:ZE,getToolbarGroups:XC,getMenus:vp,getMenubar:ch,getToolbar:B1,getFilePickerCallback:JC,getFilePickerTypes:d2,useTypeaheadUrls:QC,getAnchorTop:dR,getAnchorBottom:fR,getFilePickerValidatorHandler:u2,getFontSizeInputDefaultUnit:UE,useStatusBar:mR,useElementPath:gR,promotionEnabled:pR,useBranding:Bc,getResize:ii,getPasteAsText:hR,getSidebarShow:e_,useHelpAccessibility:WE,getDefaultFontStack:t_});const h8=["visible","hidden","clip"],vR=r=>pc(r).length>0&&!ct(h8,r),yR=r=>{if(cl(r)){const i=ps(r,"overflow-x"),u=ps(r,"overflow-y");return vR(i)||vR(u)}return!1},yp=(r,i)=>dh(r)?((u,d)=>{const b=lp(d,yR),v=b.length===0?zt(d).map(Qt).map(w=>lp(w,yR)).getOr([]):b;return De(v).map(w=>({element:w,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(u)}))})(r,i):P.none(),xp=r=>{const i=[...Je(r.others,Qs),Ba()];return r.isFullscreen()?Ba():((u,d)=>gn(d,(b,v)=>kd(b,v),u))(Qs(r.element),i)},Bi=gu({name:"Button",factory:r=>{const i=R1(r.action),u=r.dom.tag,d=b=>yn(r.dom,"attributes").bind(v=>yn(v,b));return{uid:r.uid,dom:r.dom,components:r.components,events:i,behaviours:Wn(r.buttonBehaviours,[Jn.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:d("type").getOr("button"),...d("role").map(b=>({role:b})).getOr({})}:{role:r.role.getOr(d("role").getOr("button"))}},eventOrder:r.eventOrder}},configFields:[rt("uid",void 0),Ot("dom"),rt("components",[]),Qn("buttonBehaviours",[Jn,Tn]),Bo("action"),Bo("role"),rt("eventOrder",{})]}),qm=r=>{const i=Pl(r),u=Er(i),d=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return gn(k,(E,I)=>I.name==="class"?E:{...E,[I.name]:I.value},{})})(i),b=(w=>Array.prototype.slice.call(w.dom.classList,0))(i),v=u.length===0?{}:{innerHtml:Id(i)};return{tag:Zi(i),classes:b,attributes:d,...v}},ur=r=>{const i=(u=>u.uid!==void 0)(r)&&bo(r,"uid")?r.uid:Oc("memento");return{get:u=>u.getSystem().getByUid(i).getOrDie(),getOpt:u=>u.getSystem().getByUid(i).toOptional(),asSpec:()=>({...r,uid:i})}};var p8=Object.freeze({__proto__:null,exhibit:(r,i)=>Ps({attributes:Od([{key:i.tabAttr,value:"true"}])})}),xR=[rt("tabAttr","data-alloy-tabstop")];const Mr=ka({fields:xR,name:"tabstopping",active:p8}),KE=pn("tooltip.exclusive"),p2=pn("tooltip.show"),b2=pn("tooltip.hide"),v2=pn("tooltip.immediateHide"),y2=pn("tooltip.immediateShow"),wR=(r,i,u)=>{r.getSystem().broadcastOn([KE],{})};var b8=Object.freeze({__proto__:null,hideAllExclusive:wR,immediateOpenClose:(r,i,u,d)=>wo(r,d?y2:v2),isEnabled:(r,i,u)=>u.isEnabled(),setComponents:(r,i,u,d)=>{u.getTooltip().each(b=>{b.getSystem().isConnected()&&$n.set(b,d)})},setEnabled:(r,i,u,d)=>u.setEnabled(d)}),v8=Object.freeze({__proto__:null,events:(r,i)=>{const u=v=>{i.getTooltip().each(w=>{w.getSystem().isConnected()&&(tl(w),r.onHide(v,w),i.clearTooltip())}),i.clearTimer()},d=v=>{if(!i.isShowing()&&i.isEnabled()){wR(v);const w=r.lazySink(v).getOrDie(),k=v.getSystem().build({dom:r.tooltipDom,components:r.tooltipComponents,events:lo(r.mode==="normal"?[Ct(kn(),E=>{wo(v,p2)}),Ct(mo(),E=>{wo(v,b2)})]:[]),behaviours:Vt([$n.config({})])});i.setTooltip(k),Hf(w,k),r.onShow(v,k),ai.position(w,k,{anchor:r.anchor(v)})}},b=v=>{i.getTooltip().each(w=>{const k=r.lazySink(v).getOrDie();ai.position(k,w,{anchor:r.anchor(v)})})};return lo($o([[H0(v=>{r.onSetup(v)}),Ct(p2,v=>{i.resetTimer(()=>{d(v)},r.delayForShow())}),Ct(b2,v=>{i.resetTimer(()=>{u(v)},r.delayForHide())}),Ct(y2,v=>{i.resetTimer(()=>{d(v)},0)}),Ct(v2,v=>{i.resetTimer(()=>{u(v)},0)}),Ct(Xl(),(v,w)=>{const k=w;k.universal||ct(k.channels,KE)&&u(v)}),Wu(v=>{u(v)})],(()=>{switch(r.mode){case"normal":return[Ct(ir(),v=>{wo(v,y2)}),Ct(jh(),v=>{wo(v,v2)}),Ct(kn(),v=>{wo(v,p2)}),Ct(mo(),v=>{wo(v,b2)})];case"follow-highlight":return[Ct(ex(),(v,w)=>{wo(v,p2)}),Ct(Sf(),v=>{wo(v,b2)})];case"children-normal":return[Ct(ir(),(v,w)=>{Ms(v.element).each(k=>{jc(w.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{wo(v,y2)},E=>{i.isShowing()&&(r.onShow(v,E),b(v))})})}),Ct(jh(),v=>{Ms(v.element).fold(()=>{wo(v,v2)},X)}),Ct(kn(),v=>{ts(v.element,"[data-mce-tooltip]:hover").each(w=>{i.getTooltip().fold(()=>{wo(v,p2)},k=>{i.isShowing()&&(r.onShow(v,k),b(v))})})}),Ct(mo(),v=>{ts(v.element,"[data-mce-tooltip]:hover").fold(()=>{wo(v,b2)},X)})];default:return[Ct(ir(),(v,w)=>{Ms(v.element).each(k=>{jc(w.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{wo(v,y2)},E=>{i.isShowing()&&(r.onShow(v,E),b(v))})})}),Ct(jh(),v=>{Ms(v.element).fold(()=>{wo(v,v2)},X)})]}})()]))}}),y8=[Ot("lazySink"),Ot("tooltipDom"),rt("exclusive",!0),rt("tooltipComponents",[]),Zr("delayForShow",j(300)),Zr("delayForHide",j(300)),Zr("onSetup",X),wc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),rt("anchor",r=>({type:"hotspot",hotspot:r,layouts:{onLtr:j([Bs,gs,ws,Ks,Cs,Tr]),onRtl:j([Bs,gs,ws,Ks,Cs,Tr])},bubble:ec(0,-2,{})})),Uo("onHide"),Uo("onShow")],x8=Object.freeze({__proto__:null,init:()=>{const r=Dn(!0),i=pr(),u=pr(),d=()=>{i.on(clearTimeout)},b=j("not-implemented");return Sa({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:d,resetTimer:(v,w)=>{d(),i.set(setTimeout(v,w))},readState:b,isEnabled:()=>r.get(),setEnabled:v=>r.set(v)})}});const Gs=ka({fields:y8,name:"tooltipping",active:v8,state:x8,apis:b8}),{entries:CR,setPrototypeOf:qE,isFrozen:_R,getPrototypeOf:SR,getOwnPropertyDescriptor:w8}=Object;let{freeze:nc,seal:Kf,create:kR}=Object,{apply:GE,construct:YE}=typeof Reflect<"u"&&Reflect;GE||(GE=function(r,i,u){return r.apply(i,u)}),nc||(nc=function(r){return r}),Kf||(Kf=function(r){return r}),YE||(YE=function(r,i){return new r(...i)});const XE=Ud(Array.prototype.forEach),C8=Ud(Array.prototype.pop),x2=Ud(Array.prototype.push),i_=Ud(String.prototype.toLowerCase),l_=Ud(String.prototype.toString),_8=Ud(String.prototype.match),cn=Ud(String.prototype.replace),Ov=Ud(String.prototype.indexOf),S8=Ud(String.prototype.trim),vu=Ud(RegExp.prototype.test),wp=(c_=TypeError,function(){for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return YE(c_,i)});var c_;function Ud(r){return function(i){for(var u=arguments.length,d=new Array(u>1?u-1:0),b=1;b<u;b++)d[b-1]=arguments[b];return GE(r,i,d)}}function Rr(r,i,u){var d;u=(d=u)!==null&&d!==void 0?d:i_,qE&&qE(r,null);let b=i.length;for(;b--;){let v=i[b];if(typeof v=="string"){const w=u(v);w!==v&&(_R(i)||(i[b]=w),v=w)}r[v]=!0}return r}function M1(r){const i=kR(null);for(const[u,d]of CR(r))i[u]=d;return i}function u_(r,i){for(;r!==null;){const u=w8(r,i);if(u){if(u.get)return Ud(u.get);if(typeof u.value=="function")return Ud(u.value)}r=SR(r)}return function(u){return console.warn("fallback value for",u),null}}const JE=nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),w2=nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dv=nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ER=nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),QE=nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k8=nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AR=nc(["#text"]),E8=nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),d_=nc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TR=nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),f_=nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),A8=Kf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),T8=Kf(/<%[\w\W]*|[\w\W]*%>/gm),eA=Kf(/\${[\w\W]*}/gm),O8=Kf(/^data-[\-\w.\u00B7-\uFFFF]/),D8=Kf(/^aria-[\-\w]+$/),OR=Kf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R8=Kf(/^(?:\w+script|data):/i),N8=Kf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gm=Kf(/^html$/i);var C2=Object.freeze({__proto__:null,MUSTACHE_EXPR:A8,ERB_EXPR:T8,TMPLIT_EXPR:eA,DATA_ATTR:O8,ARIA_ATTR:D8,IS_ALLOWED_URI:OR,IS_SCRIPT_OR_DATA:R8,ATTR_WHITESPACE:N8,DOCTYPE_NAME:Gm});const I8=()=>typeof window>"u"?null:window;var P8=function r(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I8();const u=mt=>r(mt);if(u.version="3.0.5",u.removed=[],!i||!i.document||i.document.nodeType!==9)return u.isSupported=!1,u;const d=i.document,b=d.currentScript;let{document:v}=i;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:I,NodeFilter:F,NamedNodeMap:B=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:z,DOMParser:G,trustedTypes:J}=i,ae=I.prototype,ue=u_(ae,"cloneNode"),ye=u_(ae,"nextSibling"),le=u_(ae,"childNodes"),ie=u_(ae,"parentNode");if(typeof k=="function"){const mt=v.createElement("template");mt.content&&mt.content.ownerDocument&&(v=mt.content.ownerDocument)}let he,xe="";const{implementation:_e,createNodeIterator:Ve,createDocumentFragment:nt,getElementsByTagName:kt}=v,{importNode:wt}=d;let yt={};u.isSupported=typeof CR=="function"&&typeof ie=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$t,ERB_EXPR:dn,TMPLIT_EXPR:Cn,DATA_ATTR:Nn,ARIA_ATTR:to,IS_SCRIPT_OR_DATA:To,ATTR_WHITESPACE:Kr}=C2;let{IS_ALLOWED_URI:ns}=C2,vo=null;const Wo=Rr({},[...JE,...w2,...Dv,...QE,...AR]);let Fn=null;const os=Rr({},[...E8,...d_,...TR,...f_]);let Dr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mi=null,Fi=null,Ua=!0,Ta=!0,Sh=!1,gy=!0,Up=!1,kh=!1,Ow=!1,Wp=!1,ug=!1,r0=!1,s0=!1,hy=!0,XS=!1,Dw=!0,Zp=!1,dg={},Eh=null;const Rw=Rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Nw=null;const or=Rr({},["audio","video","img","source","image","track"]);let fg=null;const Xd=Rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),a0="http://www.w3.org/1998/Math/MathML",JS="http://www.w3.org/2000/svg",Ah="http://www.w3.org/1999/xhtml";let py=Ah,K4=!1,QS=null;const HH=Rr({},[a0,JS,Ah],l_);let by;const zH=["application/xhtml+xml","text/html"];let Cl,i0=null;const VH=v.createElement("form"),nL=function(mt){return mt instanceof RegExp||mt instanceof Function},ek=function(mt){if(!i0||i0!==mt){if(mt&&typeof mt=="object"||(mt={}),mt=M1(mt),by=by=zH.indexOf(mt.PARSER_MEDIA_TYPE)===-1?"text/html":mt.PARSER_MEDIA_TYPE,Cl=by==="application/xhtml+xml"?l_:i_,vo="ALLOWED_TAGS"in mt?Rr({},mt.ALLOWED_TAGS,Cl):Wo,Fn="ALLOWED_ATTR"in mt?Rr({},mt.ALLOWED_ATTR,Cl):os,QS="ALLOWED_NAMESPACES"in mt?Rr({},mt.ALLOWED_NAMESPACES,l_):HH,fg="ADD_URI_SAFE_ATTR"in mt?Rr(M1(Xd),mt.ADD_URI_SAFE_ATTR,Cl):Xd,Nw="ADD_DATA_URI_TAGS"in mt?Rr(M1(or),mt.ADD_DATA_URI_TAGS,Cl):or,Eh="FORBID_CONTENTS"in mt?Rr({},mt.FORBID_CONTENTS,Cl):Rw,Mi="FORBID_TAGS"in mt?Rr({},mt.FORBID_TAGS,Cl):{},Fi="FORBID_ATTR"in mt?Rr({},mt.FORBID_ATTR,Cl):{},dg="USE_PROFILES"in mt&&mt.USE_PROFILES,Ua=mt.ALLOW_ARIA_ATTR!==!1,Ta=mt.ALLOW_DATA_ATTR!==!1,Sh=mt.ALLOW_UNKNOWN_PROTOCOLS||!1,gy=mt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Up=mt.SAFE_FOR_TEMPLATES||!1,kh=mt.WHOLE_DOCUMENT||!1,ug=mt.RETURN_DOM||!1,r0=mt.RETURN_DOM_FRAGMENT||!1,s0=mt.RETURN_TRUSTED_TYPE||!1,Wp=mt.FORCE_BODY||!1,hy=mt.SANITIZE_DOM!==!1,XS=mt.SANITIZE_NAMED_PROPS||!1,Dw=mt.KEEP_CONTENT!==!1,Zp=mt.IN_PLACE||!1,ns=mt.ALLOWED_URI_REGEXP||OR,py=mt.NAMESPACE||Ah,Dr=mt.CUSTOM_ELEMENT_HANDLING||{},mt.CUSTOM_ELEMENT_HANDLING&&nL(mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dr.tagNameCheck=mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&nL(mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dr.attributeNameCheck=mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&typeof mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dr.allowCustomizedBuiltInElements=mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Up&&(Ta=!1),r0&&(ug=!0),dg&&(vo=Rr({},[...AR]),Fn=[],dg.html===!0&&(Rr(vo,JE),Rr(Fn,E8)),dg.svg===!0&&(Rr(vo,w2),Rr(Fn,d_),Rr(Fn,f_)),dg.svgFilters===!0&&(Rr(vo,Dv),Rr(Fn,d_),Rr(Fn,f_)),dg.mathMl===!0&&(Rr(vo,QE),Rr(Fn,TR),Rr(Fn,f_))),mt.ADD_TAGS&&(vo===Wo&&(vo=M1(vo)),Rr(vo,mt.ADD_TAGS,Cl)),mt.ADD_ATTR&&(Fn===os&&(Fn=M1(Fn)),Rr(Fn,mt.ADD_ATTR,Cl)),mt.ADD_URI_SAFE_ATTR&&Rr(fg,mt.ADD_URI_SAFE_ATTR,Cl),mt.FORBID_CONTENTS&&(Eh===Rw&&(Eh=M1(Eh)),Rr(Eh,mt.FORBID_CONTENTS,Cl)),Dw&&(vo["#text"]=!0),kh&&Rr(vo,["html","head","body"]),vo.table&&(Rr(vo,["tbody"]),delete Mi.tbody),mt.TRUSTED_TYPES_POLICY){if(typeof mt.TRUSTED_TYPES_POLICY.createHTML!="function")throw wp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof mt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');he=mt.TRUSTED_TYPES_POLICY,xe=he.createHTML("")}else he===void 0&&(he=function(In,co){if(typeof In!="object"||typeof In.createPolicy!="function")return null;let qr=null;const Fs="data-tt-policy-suffix";co&&co.hasAttribute(Fs)&&(qr=co.getAttribute(Fs));const ta="dompurify"+(qr?"#"+qr:"");try{return In.createPolicy(ta,{createHTML:Ys=>Ys,createScriptURL:Ys=>Ys})}catch{return console.warn("TrustedTypes policy "+ta+" could not be created."),null}}(J,b)),he!==null&&typeof xe=="string"&&(xe=he.createHTML(""));nc&&nc(mt),i0=mt}},oL=Rr({},["mi","mo","mn","ms","mtext"]),rL=Rr({},["foreignobject","desc","title","annotation-xml"]),io=Rr({},["title","style","font","a","script"]),jp=Rr({},w2);Rr(jp,Dv),Rr(jp,ER);const tk=Rr({},QE);Rr(tk,k8);const Kp=function(mt){x2(u.removed,{element:mt});try{mt.parentNode.removeChild(mt)}catch{mt.remove()}},vy=function(mt,In){try{x2(u.removed,{attribute:In.getAttributeNode(mt),from:In})}catch{x2(u.removed,{attribute:null,from:In})}if(In.removeAttribute(mt),mt==="is"&&!Fn[mt])if(ug||r0)try{Kp(In)}catch{}else try{In.setAttribute(mt,"")}catch{}},q4=function(mt){let In,co;if(Wp)mt="<remove></remove>"+mt;else{const ta=_8(mt,/^[\r\n\t ]+/);co=ta&&ta[0]}by==="application/xhtml+xml"&&py===Ah&&(mt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+mt+"</body></html>");const qr=he?he.createHTML(mt):mt;if(py===Ah)try{In=new G().parseFromString(qr,by)}catch{}if(!In||!In.documentElement){In=_e.createDocument(py,"template",null);try{In.documentElement.innerHTML=K4?xe:qr}catch{}}const Fs=In.body||In.documentElement;return mt&&co&&Fs.insertBefore(v.createTextNode(co),Fs.childNodes[0]||null),py===Ah?kt.call(In,kh?"html":"body")[0]:kh?In.documentElement:Fs},G4=function(mt){return Ve.call(mt.ownerDocument||mt,mt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},Y4=function(mt){return typeof E=="object"?mt instanceof E:mt&&typeof mt=="object"&&typeof mt.nodeType=="number"&&typeof mt.nodeName=="string"},ld=function(mt,In,co){yt[mt]&&XE(yt[mt],qr=>{qr.call(u,In,co,i0)})},sL=function(mt){let In;if(ld("beforeSanitizeElements",mt,null),(co=mt)instanceof z&&(typeof co.nodeName!="string"||typeof co.textContent!="string"||typeof co.removeChild!="function"||!(co.attributes instanceof B)||typeof co.removeAttribute!="function"||typeof co.setAttribute!="function"||typeof co.namespaceURI!="string"||typeof co.insertBefore!="function"||typeof co.hasChildNodes!="function"))return Kp(mt),!0;var co;const qr=Cl(mt.nodeName);if(ld("uponSanitizeElement",mt,{tagName:qr,allowedTags:vo}),mt.hasChildNodes()&&!Y4(mt.firstElementChild)&&(!Y4(mt.content)||!Y4(mt.content.firstElementChild))&&vu(/<[/\w]/g,mt.innerHTML)&&vu(/<[/\w]/g,mt.textContent))return Kp(mt),!0;if(!vo[qr]||Mi[qr]){if(!Mi[qr]&&aL(qr)&&(Dr.tagNameCheck instanceof RegExp&&vu(Dr.tagNameCheck,qr)||Dr.tagNameCheck instanceof Function&&Dr.tagNameCheck(qr)))return!1;if(Dw&&!Eh[qr]){const Fs=ie(mt)||mt.parentNode,ta=le(mt)||mt.childNodes;if(ta&&Fs)for(let Ys=ta.length-1;Ys>=0;--Ys)Fs.insertBefore(ue(ta[Ys],!0),ye(mt))}return Kp(mt),!0}return mt instanceof I&&!function(Fs){let ta=ie(Fs);ta&&ta.tagName||(ta={namespaceURI:py,tagName:"template"});const Ys=i_(Fs.tagName),ba=i_(ta.tagName);return!!QS[Fs.namespaceURI]&&(Fs.namespaceURI===JS?ta.namespaceURI===Ah?Ys==="svg":ta.namespaceURI===a0?Ys==="svg"&&(ba==="annotation-xml"||oL[ba]):!!jp[Ys]:Fs.namespaceURI===a0?ta.namespaceURI===Ah?Ys==="math":ta.namespaceURI===JS?Ys==="math"&&rL[ba]:!!tk[Ys]:Fs.namespaceURI===Ah?!(ta.namespaceURI===JS&&!rL[ba])&&!(ta.namespaceURI===a0&&!oL[ba])&&!tk[Ys]&&(io[Ys]||!jp[Ys]):!(by!=="application/xhtml+xml"||!QS[Fs.namespaceURI]))}(mt)?(Kp(mt),!0):qr!=="noscript"&&qr!=="noembed"&&qr!=="noframes"||!vu(/<\/no(script|embed|frames)/i,mt.innerHTML)?(Up&&mt.nodeType===3&&(In=mt.textContent,In=cn(In,$t," "),In=cn(In,dn," "),In=cn(In,Cn," "),mt.textContent!==In&&(x2(u.removed,{element:mt.cloneNode()}),mt.textContent=In)),ld("afterSanitizeElements",mt,null),!1):(Kp(mt),!0)},X4=function(mt,In,co){if(hy&&(In==="id"||In==="name")&&(co in v||co in VH))return!1;if(!(Ta&&!Fi[In]&&vu(Nn,In))){if(!(Ua&&vu(to,In))){if(!Fn[In]||Fi[In]){if(!(aL(mt)&&(Dr.tagNameCheck instanceof RegExp&&vu(Dr.tagNameCheck,mt)||Dr.tagNameCheck instanceof Function&&Dr.tagNameCheck(mt))&&(Dr.attributeNameCheck instanceof RegExp&&vu(Dr.attributeNameCheck,In)||Dr.attributeNameCheck instanceof Function&&Dr.attributeNameCheck(In))||In==="is"&&Dr.allowCustomizedBuiltInElements&&(Dr.tagNameCheck instanceof RegExp&&vu(Dr.tagNameCheck,co)||Dr.tagNameCheck instanceof Function&&Dr.tagNameCheck(co))))return!1}else if(!fg[In]){if(!vu(ns,cn(co,Kr,""))){if((In!=="src"&&In!=="xlink:href"&&In!=="href"||mt==="script"||Ov(co,"data:")!==0||!Nw[mt])&&!(Sh&&!vu(To,cn(co,Kr,"")))){if(co)return!1}}}}}return!0},aL=function(mt){return mt.indexOf("-")>0},iL=function(mt){let In,co,qr,Fs;ld("beforeSanitizeAttributes",mt,null);const{attributes:ta}=mt;if(!ta)return;const Ys={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(Fs=ta.length;Fs--;){In=ta[Fs];const{name:ba,namespaceURI:yy}=In;co=ba==="value"?In.value:S8(In.value);const WH=co;if(qr=Cl(ba),Ys.attrName=qr,Ys.attrValue=co,Ys.keepAttr=!0,Ys.forceKeepAttr=void 0,ld("uponSanitizeAttribute",mt,Ys),co=Ys.attrValue,Ys.forceKeepAttr)continue;if(!Ys.keepAttr){vy(ba,mt);continue}if(!gy&&vu(/\/>/i,co)){vy(ba,mt);continue}Up&&(co=cn(co,$t," "),co=cn(co,dn," "),co=cn(co,Cn," "));const lL=Cl(mt.nodeName);if(X4(lL,qr,co)){if(!XS||qr!=="id"&&qr!=="name"||(vy(ba,mt),co="user-content-"+co),he&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!yy)switch(J.getAttributeType(lL,qr)){case"TrustedHTML":co=he.createHTML(co);break;case"TrustedScriptURL":co=he.createScriptURL(co)}if(co!==WH)try{yy?mt.setAttributeNS(yy,ba,co):mt.setAttribute(ba,co)}catch{vy(ba,mt)}}else vy(ba,mt)}ld("afterSanitizeAttributes",mt,null)},UH=function mt(In){let co;const qr=G4(In);for(ld("beforeSanitizeShadowDOM",In,null);co=qr.nextNode();)ld("uponSanitizeShadowNode",co,null),sL(co)||(co.content instanceof w&&mt(co.content),iL(co));ld("afterSanitizeShadowDOM",In,null)};return u.sanitize=function(mt){let In,co,qr,Fs,ta=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K4=!mt,K4&&(mt="<!-->"),typeof mt!="string"&&!Y4(mt)){if(typeof mt.toString!="function")throw wp("toString is not a function");if(typeof(mt=mt.toString())!="string")throw wp("dirty is not a string, aborting")}if(!u.isSupported)return mt;if(Ow||ek(ta),u.removed=[],typeof mt=="string"&&(Zp=!1),Zp){if(mt.nodeName){const yy=Cl(mt.nodeName);if(!vo[yy]||Mi[yy])throw wp("root node is forbidden and cannot be sanitized in-place")}}else if(mt instanceof E)In=q4("<!---->"),co=In.ownerDocument.importNode(mt,!0),co.nodeType===1&&co.nodeName==="BODY"||co.nodeName==="HTML"?In=co:In.appendChild(co);else{if(!ug&&!Up&&!kh&&mt.indexOf("<")===-1)return he&&s0?he.createHTML(mt):mt;if(In=q4(mt),!In)return ug?null:s0?xe:""}In&&Wp&&Kp(In.firstChild);const Ys=G4(Zp?mt:In);for(;qr=Ys.nextNode();)sL(qr)||(qr.content instanceof w&&UH(qr.content),iL(qr));if(Zp)return mt;if(ug){if(r0)for(Fs=nt.call(In.ownerDocument);In.firstChild;)Fs.appendChild(In.firstChild);else Fs=In;return(Fn.shadowroot||Fn.shadowrootmode)&&(Fs=wt.call(d,Fs,!0)),Fs}let ba=kh?In.outerHTML:In.innerHTML;return kh&&vo["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&vu(Gm,In.ownerDocument.doctype.name)&&(ba="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+ba),Up&&(ba=cn(ba,$t," "),ba=cn(ba,dn," "),ba=cn(ba,Cn," ")),he&&s0?he.createHTML(ba):ba},u.setConfig=function(mt){ek(mt),Ow=!0},u.clearConfig=function(){i0=null,Ow=!1},u.isValidAttribute=function(mt,In,co){i0||ek({});const qr=Cl(mt),Fs=Cl(In);return X4(qr,Fs,co)},u.addHook=function(mt,In){typeof In=="function"&&(yt[mt]=yt[mt]||[],x2(yt[mt],In))},u.removeHook=function(mt){if(yt[mt])return C8(yt[mt])},u.removeHooks=function(mt){yt[mt]&&(yt[mt]=[])},u.removeAllHooks=function(){yt={}},u}();const DR=r=>P8().sanitize(r);var Xu=tinymce.util.Tools.resolve("tinymce.util.I18n");const L8={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},RR="temporary-placeholder",tA=r=>()=>yn(r,RR).getOr("!not found!"),Cp=(r,i)=>{const u=r.toLowerCase();if(Xu.isRtl()){const d=((b,v)=>Ou(b,v)?b:((w,k)=>w+k)(b,v))(u,"-rtl");return no(i,d)?d:u}return u},_2=(r,i)=>yn(i,Cp(r,i)),NR=(r,i)=>{const u=i();return _2(r,u).getOrThunk(tA(u))},m_=()=>po("add-focusable",[Gr(r=>{r1(r.element,"svg").each(i=>nn(i,"focusable","false"))})]),IR=(r,i,u,d)=>{var b,v;const w=(E=>!!Xu.isRtl()&&no(L8,E))(i)?["tox-icon--flip"]:[],k=yn(u,Cp(i,u)).or(d).getOrThunk(tA(u));return{dom:{tag:r.tag,attributes:(b=r.attributes)!==null&&b!==void 0?b:{},classes:r.classes.concat(w),innerHtml:k},behaviours:Vt([...(v=r.behaviours)!==null&&v!==void 0?v:[],m_()])}},Mc=(r,i,u,d=P.none())=>IR(i,r,u(),d),B8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},nA=gu({name:"Notification",factory:r=>{const i=pn("notification-text"),u=ur({dom:qm(`<p id=${i}>${DR(r.backstageProvider.translate(r.text))}</p>`),behaviours:Vt([$n.config({})])}),d=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),b=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),v=ur({dom:{tag:"div",classes:r.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},b(0)],behaviours:Vt([$n.config({})])}),w={updateProgress:(B,z)=>{B.getSystem().isConnected()&&v.getOpt(B).each(G=>{$n.set(G,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(z)]},b(z)])})},updateText:(B,z)=>{if(B.getSystem().isConnected()){const G=u.get(B);$n.set(G,[As(z)])}}},k=$o([r.icon.toArray(),r.level.toArray(),r.level.bind(B=>P.from(B8[B])).toArray()]),E=ur(Bi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":r.backstageProvider.translate("Close")}},components:[Mc("close",{tag:"span",classes:["tox-icon"]},r.iconProvider)],buttonBehaviours:Vt([Mr.config({}),Gs.config({...r.backstageProvider.tooltips.getConfig({tooltipText:r.backstageProvider.translate("Close")})})]),action:B=>{r.onAction(B)}})),I=((B,z,G)=>{const J=G(),ae=Q(B,ue=>no(J,Cp(ue,J)));return IR({tag:"div",classes:["tox-notification__icon"]},ae.getOr(RR),J,P.none())})(k,0,r.iconProvider),F=[I,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:Vt([$n.config({})])}];return{uid:r.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":i},classes:r.level.map(B=>["tox-notification","tox-notification--in",`tox-notification--${B}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Vt([Mr.config({}),Jn.config({}),Tn.config({mode:"special",onEscape:B=>(r.onAction(B),P.some(!0))})]),components:F.concat(r.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Bo("level"),Ot("progress"),Bo("icon"),Ot("onAction"),Ot("text"),Ot("iconProvider"),Ot("backstageProvider")],apis:{updateProgress:(r,i,u)=>{r.updateProgress(i,u)},updateText:(r,i,u)=>{r.updateText(i,u)}}});var PR=(r,i,u,d)=>{const b=i.backstage.shared,v=()=>rn(r.queryCommandValue("ToggleView")===""?r.getContentAreaContainer():r.getContainer()),w=()=>{const E=Qs(v());return P.some(E)},k=E=>{w().each(I=>{Tt(E,F=>{fr(F.element,"width"),wa(F.element)>I.width&&ao(F.element,"width",I.width+"px")})})};return{open:(E,I,F)=>{const B=()=>{d.on(J=>{I();const ae=F();(ue=>{$n.remove(ue,z),G()})(J),((ue,ye)=>{Er(ue.element).length===0?((le,ie)=>{is.hide(le),d.clear(),ie&&r.focus()})(ue,ye):((le,ie)=>{ie&&Tn.focusIn(le)})(ue,ye)})(J,ae)})},z=Ha(nA.sketch({text:E.text,level:ct(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(d.isSet()){const J=Qi(z);d.on(ae=>{$n.append(ae,J),is.reposition(ae),es.refresh(ae),k(ae.components())})}else{const J=Ha(is.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Vt([Tn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),$n.config({}),...uh(r)&&!b.header.isPositionedAtTop()?[]:[es.config({contextual:{lazyContext:()=>P.some(Qs(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:le=>yp(r,le.element).map(ie=>({bounds:xp(ie),optScrollEnv:P.some({currentScrollTop:ie.element.dom.scrollTop,scrollElmTop:El(ie.element).top})})).getOrThunk(()=>({bounds:Ba(),optScrollEnv:P.none()}))})]])})),ae=Qi(z),ue={maxHeightFunction:th()},ye={...b.anchors.banner(),overrides:ue};d.set(J),u.add(J),is.showWithinBounds(J,ae,{anchor:ye},w)}te(E.timeout)&&E.timeout>0&&qC.setEditorTimeout(r,()=>{B()},E.timeout);const G=()=>{d.on(J=>{is.reposition(J),es.refresh(J),k(J.components())})};return{close:B,reposition:G,text:J=>{nA.updateText(z,J)},settings:E,getEl:()=>z.element.dom,progressBar:{value:J=>{nA.updateProgress(z,J)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},S2;(function(r){r[r.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",r[r.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(S2||(S2={}));var qf=S2;const g_="tox-menu-nav__js",h_="tox-collection__item",LR="tox-swatch",BR={normal:g_,color:LR},MR="tox-collection__item--enabled",FR="tox-collection__item-icon",k2="tox-collection__item-label",oA="tox-collection__item-caret",Ym="tox-collection__item--active",E2="tox-collection__item-container",A2="tox-collection__item-container--row",_p=r=>yn(BR,r).getOr(g_),EU=r=>r==="color"?"tox-swatches":"tox-menu",rA=r=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:EU(r),tieredMenu:"tox-tiered-menu"}),Rv=r=>{const i=rA(r);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:_p(r)}},$R=(r,i,u)=>{const d=rA(u);return{tag:"div",classes:$o([[d.menu,`tox-menu-${i}-column`],r?[d.hasIcons]:[]])}},HR=[kv.parts.items({})],p_=(r,i,u)=>{const d=rA(u);return{dom:{tag:"div",classes:$o([[d.tieredMenu]])},markers:Rv(u)}},M8=j([Bo("data"),rt("inputAttributes",{}),rt("inputStyles",{}),rt("tag","input"),rt("inputClasses",[]),Uo("onSetValue"),rt("styles",{}),rt("eventOrder",{}),bn("inputBehaviours",[lt,Jn]),rt("selectOnFocus",!0)]),F8=r=>Vt([Jn.config({onFocus:r.selectOnFocus?i=>{const u=i.element,d=Of(u);u.dom.setSelectionRange(0,d.length)}:X})]),$8=r=>({...F8(r),...ho(r.inputBehaviours,[lt.config({store:{mode:"manual",...r.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>Of(i.element),setValue:(i,u)=>{Of(i.element)!==u&&Rm(i.element,u)}},onSetValue:r.onSetValue})])}),zR=r=>({tag:r.tag,attributes:{type:"text",...r.inputAttributes},styles:r.inputStyles,classes:r.inputClasses}),fh=gu({name:"Input",configFields:M8(),factory:(r,i)=>({uid:r.uid,dom:zR(r),components:[],behaviours:$8(r),eventOrder:r.eventOrder})}),VR=pn("refetch-trigger-event"),UR=pn("redirect-menu-item-interaction"),WR="tox-menu__searcher",T2=r=>ts(r.element,`.${WR}`).bind(i=>r.getSystem().getByDom(i).toOptional()),ZR=T2,jR=r=>({fetchPattern:lt.getValue(r),selectionStart:r.element.dom.selectionStart,selectionEnd:r.element.dom.selectionEnd}),KR=r=>{const i=(b,v)=>(v.cut(),P.none()),u=(b,v)=>{const w={interactionEvent:v.event,eventType:v.event.raw.type};return En(b,UR,w),P.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[h_]},components:[fh.sketch({inputClasses:[WR,"tox-textfield"],inputAttributes:{...r.placeholder.map(b=>({placeholder:r.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Vt([po(d,[Ct(_m(),b=>{wo(b,VR)}),Ct(fs(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Tn.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[d,Tn.name()]}})]}},O2="tox-collection--results__js",qR=r=>{var i;return r.dom?{...r,dom:{...r.dom,attributes:{...(i=r.dom.attributes)!==null&&i!==void 0?i:{},id:pn("aria-item-search-result-id"),"aria-selected":"false"}}}:r},b_=(r,i)=>u=>{const d=Lt(u,i);return Je(d,b=>({dom:r,components:b}))},GR=(r,i)=>{const u=[];let d=[];return Tt(r,(b,v)=>{i(b,v)?(d.length>0&&u.push(d),d=[],(no(b.dom,"innerHtml")||b.components&&b.components.length>0)&&d.push(b)):d.push(b)}),d.length>0&&u.push(d),Je(u,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},D2=(r,i,u)=>kv.parts.items({preprocess:d=>{const b=Je(d,u);return r!=="auto"&&r>1?b_({tag:"div",classes:["tox-collection__group"]},r)(b):GR(b,(v,w)=>i[w].type==="separator")}}),sA=(r,i,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(r===1?["tox-collection--list"]:["tox-collection--grid"])},components:[D2(r,i,de)]}),R2=r=>_n(r,i=>"icon"in i&&i.icon!==void 0),Xm=r=>(console.error(Yi(r)),console.log(r),P.none()),H8=(r,i,u,d,b)=>{const v=(w=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[kv.parts.items({preprocess:k=>GR(k,(E,I)=>w[I].type==="separator")})]});var w;return{value:r,dom:v.dom,components:v.components,items:u}},aA=(r,i,u,d,b)=>{if(b.menuType==="color"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[kv.parts.items({preprocess:w!=="auto"?b_({tag:"div",classes:["tox-swatches__row"]},w):de})]}]}))(d);return{value:r,dom:v.dom,components:v.components,items:u}}if(b.menuType==="normal"&&d==="auto"){const v=sA(d,u);return{value:r,dom:v.dom,components:v.components,items:u}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?sA(d,u):b.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const I=pn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[KR({i18n:Xu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],O2],attributes:{id:I}},components:[D2(w,k,qR)]}]}})(d,u,b.searchMode):((w,k,E=!0)=>{const I=pn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",O2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:I}},components:[D2(w,k,qR)]}})(d,u);return{value:r,dom:v.dom,components:v.components,items:u}}if(b.menuType==="listpreview"&&d!=="auto"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[kv.parts.items({preprocess:b_({tag:"div",classes:["tox-collection__group"]},w)})]}))(d);return{value:r,dom:v.dom,components:v.components,items:u}}return{value:r,dom:$R(i,d,b.menuType),components:HR,items:u}},ca=ds("type"),iA=ds("name"),lA=ds("label"),Ju=ds("text"),cA=ds("title"),uA=ds("icon"),Nv=ds("value"),z8=Di("fetch"),YR=Di("getSubmenuItems"),F1=Di("onAction"),XR=Di("onItemAction"),Sp=Zr("onSetup",()=>X),V8=Es("name"),kp=Es("text"),U8=Es("role"),Qu=Es("icon"),N2=Es("tooltip"),dA=Es("label"),$1=Es("shortcut"),fA=nu("select"),v_=js("active",!1),AU=js("borderless",!1),ed=js("enabled",!0),y_=js("primary",!1),JR=r=>rt("columns",r),Fc=rt("meta",{}),mA=Zr("onAction",X),Iv=r=>Ml("type",r),gA=r=>ea("name","name",Pg(()=>pn(`${r}-name`)),ga),QR=Ln([ca,kp]),W8=Ln([Iv("autocompleteitem"),v_,ed,Fc,Nv,kp,Qu]),Jm=[ed,N2,Qu,kp,Sp],hA=Ln([ca,F1,$1].concat(Jm)),eN=r=>us("toolbarbutton",hA,r),I2=[v_].concat(Jm),x_=Ln(I2.concat([ca,F1,$1])),w_=r=>us("ToggleButton",x_,r),tN=[Zr("predicate",Oe),wc("scope","node",["node","editor"]),wc("position","selection",["node","selection","line"])],Z8=Jm.concat([Iv("contextformbutton"),y_,F1,Ma("original",de)]),j8=I2.concat([Iv("contextformbutton"),y_,F1,Ma("original",de)]),K8=Jm.concat([Iv("contextformbutton")]),q8=I2.concat([Iv("contextformtogglebutton")]),G8=aa("type",{contextformbutton:Z8,contextformtogglebutton:j8}),Y8=Ln([Iv("contextform"),Zr("initValue",j("")),dA,Xi("commands",G8),Rs("launch",aa("type",{contextformbutton:K8,contextformtogglebutton:q8}))].concat(tN)),nN=Ln([Iv("contexttoolbar"),ds("items")].concat(tN)),C_=[ca,ds("src"),Es("alt"),Cr("classes",[],ga)],X8=Ln(C_),J8=[ca,Ju,V8,Cr("classes",["tox-collection__item-label"],ga)],Q8=Ln(J8),oN=vm(()=>Hu("type",{cardimage:X8,cardtext:Q8,cardcontainer:H1})),H1=Ln([ca,Ml("direction","horizontal"),Ml("align","left"),Ml("valign","middle"),Xi("items",oN)]),Pv=[ed,kp,U8,$1,ea("value","value",Pg(()=>pn("menuitem-value")),Tl()),Fc],eF=Ln([ca,dA,Xi("items",oN),Sp,mA].concat(Pv)),pA=Ln([ca,v_,Qu].concat(Pv)),rN=[ca,ds("fancytype"),mA],sN=[rt("initData",{})].concat(rN),aN=[nu("select"),Ni("initData",{},[js("allowCustomColors",!0),Ml("storageKey","default"),M0("colors",Tl())])].concat(rN),iN=aa("fancytype",{inserttable:sN,colorswatch:aN}),lN=Ln([ca,Sp,mA,Qu].concat(Pv)),cN=Ln([ca,YR,Sp,Qu].concat(Pv)),tF=Ln([ca,Qu,v_,Sp,F1].concat(Pv)),bA=(r,i,u)=>{const d=pa(r.element,"."+u);if(d.length>0){const b=gr(d,v=>{const w=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>i}).getOr(d.length);return P.some({numColumns:b,numRows:Math.ceil(d.length/b)})}return P.none()},P2=r=>((i,u)=>Vt([po(i,u)]))(pn("unnamed-events"),r),__="silver.readonly",nF=Ln([Fa("readonly",Yl)]),Lv=(r,i)=>{const u=r.mainUi.outerContainer.element,d=[r.mainUi.mothership,...r.uiMotherships];i&&Tt(d,b=>{b.broadcastOn([M()],{target:u})}),Tt(d,b=>{b.broadcastOn([__],{readonly:i})})},uN=(r,i)=>{r.on("init",()=>{r.mode.isReadOnly()&&Lv(i,!0)}),r.on("SwitchMode",()=>Lv(i,r.mode.isReadOnly())),$E(r)&&r.mode.set("readonly")},Ea=()=>bl.config({channels:{[__]:{schema:nF,onReceive:(r,i)=>{eo.set(r,i.readonly)}}}}),wi=r=>eo.config({disabled:r}),dN=r=>eo.config({disabled:r,disableClass:"tox-tbtn--disabled"}),S_=r=>eo.config({disabled:r,disableClass:"tox-tbtn--disabled",useNative:!1}),L2=(r,i)=>{const u=r.getApi(i);return d=>{d(u)}},Ep=(r,i)=>Gr(u=>{L2(r,u)(d=>{const b=r.onSetup(d);Z(b)&&i.set(b)})}),mh=(r,i)=>Wu(u=>L2(r,u)(i.get())),fN=(r,i)=>au((u,d)=>{L2(r,u)(r.onAction),r.triggersSubmenu||i!==qf.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&wo(u,Db()),d.stop())}),oF={[gl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},z1=Wi,V1=(r,i,u,d)=>{const b=Dn(X);return{type:"item",dom:i.dom,components:z1(i.optComponents),data:r.data,eventOrder:oF,hasSubmenu:r.triggersSubmenu,itemBehaviours:Vt([po("item-events",[fN(r,u),Ep(r,b),mh(r,b)]),(v=()=>!r.enabled||d.isDisabled(),eo.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Ea(),$n.config({})].concat(r.itemBehaviours))};var v},U1=r=>({value:r.value,meta:{text:r.text.getOr(""),...r.meta}}),k_=r=>{const i=Zf.os.isMacOS()||Zf.os.isiOS(),u=i?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},d=r.split("+"),b=Je(d,v=>{const w=v.toLowerCase().trim();return no(u,w)?u[w]:v});return i?b.join(""):b.join("+")},vA=(r,i,u=[FR])=>Mc(r,{tag:"div",classes:u},i),mN=r=>({dom:{tag:"div",classes:[k2]},components:[As(Xu.translate(r))]}),yA=(r,i)=>({dom:{tag:"div",classes:i,innerHtml:r}}),gN=(r,i)=>({dom:{tag:"div",classes:[k2]},components:[{dom:{tag:r.tag,styles:r.styles},components:[As(Xu.translate(i))]}]}),hN=r=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[As(k_(r))]}),pN=r=>vA("checkmark",r,["tox-collection__item-checkmark"]),bN=r=>{const i=r.map(u=>({attributes:{id:pn("menu-item"),"aria-label":Xu.translate(u)}})).getOr({});return{tag:"div",classes:[g_,h_],...i}},B2=(r,i,u,d=P.none())=>r.presets==="color"?((b,v,w)=>{const k=b.value,E=b.iconContent.map(F=>((B,z,G)=>{const J=z();return _2(B,J).or(G).getOrThunk(tA(J))})(F,v.icons,w)),I=b.ariaLabel.map(F=>({"aria-label":v.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=LR,B=E.getOr(""),z={tag:"div",attributes:I,classes:[F]};return k==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:B}:k==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:B}:V(k)?{...z,attributes:{...z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:B}:z})(),optComponents:[]}})(r,i,d):((b,v,w,k)=>{const E={tag:"div",classes:[FR]},I=w?b.iconContent.map(G=>Mc(G,E,v.icons,k)).orThunk(()=>P.some({dom:E})):P.none(),F=b.checkMark,B=P.from(b.meta).fold(()=>mN,G=>no(G,"style")?Ue(gN,G.style):mN),z=b.htmlContent.fold(()=>b.textContent.map(B),G=>P.some(yA(G,[k2])));return{dom:bN(b.ariaLabel),optComponents:[I,z,b.shortcutContent.map(hN),F,b.caret]}})(r,i,u,d),vN=(r,i,u)=>yn(r,"tooltipWorker").map(d=>[Gs.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:th}}),mode:"follow-highlight",onShow:(b,v)=>{d(w=>{Gs.setComponents(b,[Df({element:rn(w)})])})}})]).getOrThunk(()=>u.map(d=>[Gs.config({...i.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),xA=(r,i)=>{const u=(d=>N1.DOM.encode(d))(Xu.translate(r));if(i.length>0){const d=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(i),"gi");return u.replace(d,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return u},wA=(r,i)=>Je(r,u=>{switch(u.type){case"cardcontainer":return((v,w)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":A2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[E2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(u,wA(u.items,i));case"cardimage":return((v,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:v,alt:k.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const d=u.name.exists(v=>ct(i.cardText.highlightOn,v)),b=d?P.from(i.cardText.matchText).getOr(""):"";return yA(xA(u.text,b),u.classes)}}),gh=nl(BE(),ME()),CA=r=>({value:Bv(r)}),_A=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,SA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,yN=r=>_A.test(r)||SA.test(r),Bv=r=>Pr(r,"#").toUpperCase(),kA=r=>{const i=r.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},M2=r=>{const i=kA(r.red)+kA(r.green)+kA(r.blue);return CA(i)},EA=Math.min,xN=Math.max,E_=Math.round,rF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,wN=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,hh=(r,i,u,d)=>({red:r,green:i,blue:u,alpha:d}),F2=r=>{const i=parseInt(r,10);return i.toString()===r&&i>=0&&i<=255},CN=r=>{let i,u,d;const b=(r.hue||0)%360;let v=r.saturation/100,w=r.value/100;if(v=xN(0,EA(v,1)),w=xN(0,EA(w,1)),v===0)return i=u=d=E_(255*w),hh(i,u,d,1);const k=b/60,E=w*v,I=E*(1-Math.abs(k%2-1)),F=w-E;switch(Math.floor(k)){case 0:i=E,u=I,d=0;break;case 1:i=I,u=E,d=0;break;case 2:i=0,u=E,d=I;break;case 3:i=0,u=I,d=E;break;case 4:i=I,u=0,d=E;break;case 5:i=E,u=0,d=I;break;default:i=u=d=0}return i=E_(255*(i+F)),u=E_(255*(u+F)),d=E_(255*(d+F)),hh(i,u,d,1)},Wd=r=>{const i=(v=>{const w=(E=>({value:E.value.replace(_A,(F,B,z,G)=>B+B+z+z+G+G)}))(v),k=SA.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(r),u=parseInt(i[1],16),d=parseInt(i[2],16),b=parseInt(i[3],16);return hh(u,d,b,1)},AA=(r,i,u,d)=>{const b=parseInt(r,10),v=parseInt(i,10),w=parseInt(u,10),k=parseFloat(d);return hh(b,v,w,k)},A_=r=>{const i=rF.exec(r);if(i!==null)return P.some(AA(i[1],i[2],i[3],"1"));const u=wN.exec(r);return u!==null?P.some(AA(u[1],u[2],u[3],u[4])):P.none()},_N=r=>`rgba(${r.red},${r.green},${r.blue},${r.alpha})`,SN=hh(255,0,0,1),Mv=(r,i)=>{r.dispatch("ResizeContent",i)},W1=(r,i)=>{r.dispatch("TextColorChange",i)},kN=(r,i)=>r.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),Z1=(r,i)=>()=>{r(),i()},Aa=r=>Fv(r,"NodeChange",i=>{i.setEnabled(r.selection.isEditable())}),Gf=(r,i)=>u=>{const d=Aa(r)(u),b=((v,w)=>k=>{const E=yc(),I=()=>{k.setActive(v.formatter.match(w));const F=v.formatter.formatChanged(w,k.setActive);E.set(F)};return v.initialized?I():v.once("init",I),()=>{v.off("init",I),E.clear()}})(r,i)(u);return()=>{d(),b()}},Fv=(r,i,u)=>d=>{const b=()=>u(d),v=()=>{u(d),r.on(i,b)};return r.initialized?v():r.once("init",v),()=>{r.off("init",v),r.off(i,b)}},EN=r=>i=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("mceToggleFormat",!1,i.format)})},oc=(r,i)=>()=>r.execCommand(i);var $c=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const T_={},AN=r=>yn(T_,r).getOrThunk(()=>{const i=`tinymce-custom-colors-${r}`,u=$c.getItem(i);if(H(u)){const b=$c.getItem("tinymce-custom-colors");$c.setItem(i,V(b)?b:"[]")}const d=((b,v=10)=>{const w=$c.getItem(b),k=h(w)?JSON.parse(w):[],E=v-(I=k).length<0?I.slice(0,v):I;var I;const F=B=>{E.splice(B,1)};return{add:B=>{((z,G)=>{const J=un(z,G);return J===-1?P.none():P.some(J)})(E,B).each(F),E.unshift(B),E.length>v&&E.pop(),$c.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(i,10);return T_[r]=d,d}),TA=(r,i)=>{AN(r).add(i)},j1=(r,i,u)=>({hue:r,saturation:i,value:u}),O_=r=>{let i=0,u=0,d=0;const b=r.red/255,v=r.green/255,w=r.blue/255,k=Math.min(b,Math.min(v,w)),E=Math.max(b,Math.max(v,w));return k===E?(d=k,j1(0,0,100*d)):(i=b===k?3:w===k?1:5,i=60*(i-(b===k?v-w:w===k?b-v:w-b)/(E-k)),u=(E-k)/E,d=E,j1(Math.round(i),Math.round(100*u),Math.round(100*d)))},D_=r=>M2(CN(r)),TN=r=>{return(i=r,yN(i)?P.some({value:Bv(i)}):P.none()).orThunk(()=>A_(r).map(M2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const d=u.getContext("2d");d.clearRect(0,0,u.width,u.height),d.fillStyle="#FFFFFF",d.fillStyle=r,d.fillRect(0,0,1,1);const b=d.getImageData(0,0,1,1).data,v=b[0],w=b[1],k=b[2],E=b[3];return M2(hh(v,w,k,E))});var i},OA="forecolor",DA="hilitecolor",sF=r=>{const i=[];for(let u=0;u<r.length;u+=2)i.push({text:r[u+1],value:"#"+TN(r[u]).value,icon:"checkmark",type:"choiceitem"});return i},td=r=>i=>i.options.get(r),$2="#000000",$v=(r,i)=>i===OA&&r.options.isSet("color_map_foreground")?td("color_map_foreground")(r):i===DA&&r.options.isSet("color_map_background")?td("color_map_background")(r):td("color_map")(r),R_=(r,i="default")=>Math.max(5,Math.ceil(Math.sqrt($v(r,i).length))),ON=(r,i)=>{const u=td("color_cols")(r),d=R_(r,i);return u===R_(r)?d:u},RA=(r,i="default")=>Math.round(i===OA?td("color_cols_foreground")(r):i===DA?td("color_cols_background")(r):td("color_cols")(r)),NA=td("custom_colors"),DN=td("color_default_foreground"),RN=td("color_default_background"),NN=(r,i)=>{const u=rn(r.selection.getStart()),d=i==="hilitecolor"?Mg(u,b=>{if(Xr(b)){const v=ps(b,"background-color");return Xo(A_(v).exists(w=>w.alpha!==0),v)}return P.none()}).getOr("rgba(0, 0, 0, 0)"):ps(u,"color");return A_(d).map(b=>"#"+M2(b).value)},N_=r=>{const i="choiceitem",u={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return r?[u,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},IA=(r,i,u,d)=>{u==="custom"?LN(r)(b=>{b.each(v=>{TA(i,v),r.execCommand("mceApplyTextcolor",i,v),d(v)})},NN(r,i).getOr($2)):u==="remove"?(d(""),r.execCommand("mceRemoveTextcolor",i)):(d(u),r.execCommand("mceApplyTextcolor",i,u))},PA=(r,i,u)=>r.concat((d=>Je(AN(d).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(i).concat(N_(u))),IN=(r,i,u)=>d=>{d(PA(r,i,u))},LA=(r,i,u)=>{const d=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r.setIconFill(d,u)},BA=(r,i)=>{r.setTooltip(i)},PN=(r,i)=>u=>{const d=NN(r,i);return Xs(d,u.toUpperCase())},MA=(r,i,u)=>{if(Du(u))return i==="forecolor"?"Text color":"Background color";const d=i==="forecolor"?"Text color {0}":"Background color {0}",b=PA($v(r,i),i,!1),v=Q(b,w=>w.value===u).getOr({text:""}).text;return r.translate([d,r.translate(v)])},FA=(r,i,u,d)=>{r.ui.registry.addSplitButton(i,{tooltip:MA(r,u,d.get()),presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:PN(r,u),columns:RA(r,u),fetch:IN($v(r,u),u,NA(r)),onAction:b=>{IA(r,u,d.get(),X)},onItemAction:(b,v)=>{IA(r,u,v,w=>{d.set(w),W1(r,{name:i,color:w})})},onSetup:b=>{LA(b,i,d.get());const v=w=>{w.name===i&&(LA(b,w.name,w.color),BA(b,MA(r,u,w.color)))};return r.on("TextColorChange",v),Z1(Aa(r)(b),()=>{r.off("TextColorChange",v)})}})},K1=(r,i,u,d,b)=>{r.ui.registry.addNestedMenuItem(i,{text:d,icon:i==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(BA(v,MA(r,u,b.get())),LA(v,i,b.get()),Aa(r)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:PN(r,u),initData:{storageKey:u},onAction:v=>{IA(r,u,v.value,w=>{b.set(w),W1(r,{name:i,color:w})})}}]})},LN=r=>(i,u)=>{let d=!1;const b={colorpicker:u};r.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,w)=>{w.name==="hex-valid"&&(d=w.value)},onSubmit:v=>{const w=v.getData().colorpicker;d?(i(P.from(w)),v.close()):r.windowManager.alert(r.translate(["Invalid hex color code: {0}",w]))},onClose:X,onCancel:()=>{i(P.none())}})},Hv=(r,i,u,d,b,v,w,k)=>{const E=R2(i),I=$A(i,u,d,b!=="color"?"normal":"color",v,w,k);return aA(r,E,I,d,{menuType:b})},$A=(r,i,u,d,b,v,w)=>Wi(Je(r,k=>{return k.type==="choiceitem"?(E=k,us("choicemenuitem",pA,E)).fold(Xm,I=>P.some(((F,B,z,G,J,ae,ue,ye=!0)=>{const le=B2({presets:z,textContent:B?F.text:P.none(),htmlContent:P.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:B?F.shortcut:P.none(),checkMark:B?P.some(pN(ue.icons)):P.none(),caret:P.none(),value:F.value},ue,ye),ie=F.text.filter(j(!B)).map(he=>Gs.config(ue.tooltips.getConfig({tooltipText:ue.translate(he)})));return Ar(V1({data:U1(F),enabled:F.enabled,getApi:he=>({setActive:xe=>{Kn.set(he,xe)},isActive:()=>Kn.isOn(he),isEnabled:()=>!eo.isDisabled(he),setEnabled:xe=>eo.set(he,!xe)}),onAction:he=>G(F.value),onSetup:he=>(he.setActive(J),X),triggersSubmenu:!1,itemBehaviours:[...ie.toArray()]},le,ae,ue),{toggling:{toggleClass:MR,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(I,u===1,d,i,v(I.value),b,w,R2(r)))):P.none();var E})),H2=(r,i)=>{const u=Rv(i);return r===1?{mode:"menu",moveOnTab:!0}:r==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>i==="color"?ts(d.element,"[aria-checked=true]"):P.none()}},HA=pn("cell-over"),BN=pn("cell-execute"),aF=(r,i,u)=>{const d=v=>En(v,BN,{row:r,col:i}),b=(v,w)=>{w.stop(),d(v)};return Ha({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:Vt([po("insert-table-picker-cell",[Ct(kn(),Jn.focus),Ct(gl(),d),Ct(ia(),b),Ct(xf(),b)]),Kn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Jn.config({onFocus:v=>En(v,HA,{row:r,col:i})})])})},MN=r=>Do(r,i=>Je(i,Qi)),FN=(r,i)=>As(`${i}x${r}`),$N={inserttable:(r,i)=>{const u=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(i),d=((w,k,E)=>{const I=[];for(let F=0;F<10;F++){const B=[];for(let z=0;z<10;z++){const G=w(F+1,z+1);B.push(aF(F,z,G))}I.push(B)}return I})(u),b=FN(0,0),v=ur({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:Vt([$n.config({})])});return{type:"widget",data:{value:pn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:MN(d).concat(v.asSpec()),behaviours:Vt([po("insert-table-picker",[Gr(w=>{$n.set(v.get(w),[b])}),$g(HA,(w,k,E)=>{const{row:I,col:F}=E.event;((B,z,G,J,ae)=>{for(let ue=0;ue<10;ue++)for(let ye=0;ye<10;ye++)Kn.set(B[ue][ye],ue<=z&&ye<=G)})(d,I,F),$n.set(v.get(w),[FN(I+1,F+1)])}),$g(BN,(w,k,E)=>{const{row:I,col:F}=E.event;wo(w,Db()),r.onAction({numRows:I+1,numColumns:F+1})})]),Tn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(r,i)=>{const u=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>PA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),I=>I.concat(N_(E)))})(r,i),d=i.colorinput.getColorCols(r.initData.storageKey),b="color",v={...Hv(pn("menu-value"),u,w=>{r.onAction({value:w})},d,b,qf.CLOSE_ON_EXECUTE,r.select.getOr(Oe),i.shared.providers),markers:Rv(b),movement:H2(d,b),showMenuRole:!1};return{type:"widget",data:{value:pn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gh.widget(kv.sketch(v))]}}},HN=r=>({type:"separator",dom:{tag:"div",classes:[h_,"tox-collection__group-heading"]},components:r.text.map(As).toArray()});var iF=Object.freeze({__proto__:null,getCoupled:(r,i,u,d)=>u.getOrCreate(r,i,d),getExistingCoupled:(r,i,u,d)=>u.getExisting(r,i,d)}),zN=[Fa("others",kb(Ao.value,Tl()))],I_=Object.freeze({__proto__:null,init:()=>{const r={},i=(d,b)=>{if(Ft(d.others).length===0)throw new Error("Cannot find any known coupled components");return yn(r,b)},u=j({});return Sa({readState:u,getExisting:(d,b,v)=>i(b,v).orThunk(()=>(yn(b.others,v).getOrDie("No information found for coupled component: "+v),P.none())),getOrCreate:(d,b,v)=>i(b,v).getOrThunk(()=>{const w=yn(b.others,v).getOrDie("No information found for coupled component: "+v)(d),k=d.getSystem().build(w);return r[v]=k,k})})}});const Ts=ka({fields:zN,name:"coupling",apis:iF,state:I_}),z2=r=>{let i=P.none(),u=[];const d=w=>{b()?v(w):u.push(w)},b=()=>i.isSome(),v=w=>{i.each(k=>{setTimeout(()=>{w(k)},0)})};return r(w=>{b()||(i=P.some(w),Tt(u,v),u=[])}),{get:d,map:w=>z2(k=>{d(E=>{k(w(E))})}),isReady:b}},lF={nu:z2,pure:r=>z2(i=>{i(r)})},cF=r=>{setTimeout(()=>{throw r},0)},q1=r=>{const i=u=>{r().then(u,cF)};return{map:u=>q1(()=>r().then(u)),bind:u=>q1(()=>r().then(d=>u(d).toPromise())),anonBind:u=>q1(()=>r().then(()=>u.toPromise())),toLazy:()=>lF.nu(i),toCached:()=>{let u=null;return q1(()=>(u===null&&(u=r()),u))},toPromise:r,get:i}},Ap=r=>q1(()=>new Promise(r)),Qm=r=>q1(()=>Promise.resolve(r)),zA=j("sink"),VN=j(mu({name:zA(),overrides:j({dom:{tag:"div"},behaviours:Vt([ai.config({useFixed:Be})]),events:lo([km(fs()),km(Dt()),km(ia())])})})),UN=(r,i)=>{const u=r.getHotspot(i).getOr(i),d="hotspot",b=r.getAnchorOverrides();return r.layouts.fold(()=>({type:d,hotspot:u,overrides:b}),v=>({type:d,hotspot:u,overrides:b,layouts:v}))},P_=(r,i,u,d,b,v,w)=>((E,I,F,B,z,G,J)=>{const ae=((ye,le,ie)=>(0,ye.fetch)(ie).map(le))(E,I,B),ue=WN(B,E);return ae.map(ye=>ye.bind(le=>{const ie=le.menus[le.primary];return P.from(ie).each(he=>{E.listRole.each(xe=>{he.role=xe})}),P.from(lh.sketch({...G.menu(),uid:Oc(""),data:le,highlightOnOpen:J,onOpenMenu:(he,xe)=>{const _e=ue().getOrDie();ai.position(_e,xe,{anchor:F}),T.decloak(z)},onOpenSubmenu:(he,xe,_e)=>{const Ve=ue().getOrDie();ai.position(Ve,_e,{anchor:{type:"submenu",item:xe}}),T.decloak(z)},onRepositionMenu:(he,xe,_e)=>{const Ve=ue().getOrDie();ai.position(Ve,xe,{anchor:F}),Tt(_e,nt=>{ai.position(Ve,nt.triggeredMenu,{anchor:{type:"submenu",item:nt.triggeringItem}})})},onEscape:()=>(Jn.focus(B),T.close(z),P.some(!0))}))}))})(r,i,UN(r,u),u,d,b,w).map(E=>(E.fold(()=>{T.isOpen(d)&&T.close(d)},I=>{T.cloak(d),T.open(d,I),v(d)}),d)),uF=(r,i,u,d,b,v,w)=>(T.close(d),Qm(d)),VA=(r,i,u,d,b,v)=>{const w=Ts.getCoupled(u,"sandbox");return(T.isOpen(w)?uF:P_)(r,i,u,w,d,b,v)},WN=(r,i)=>r.getSystem().getByUid(i.uid+"-"+zA()).map(u=>()=>Ao.value(u)).getOrThunk(()=>i.lazySink.fold(()=>()=>Ao.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(r))),UA=r=>{T.getState(r).each(i=>{lh.repositionMenus(i)})},WA=(r,i,u)=>{const d=Gg(),b=WN(i,r);return{dom:{tag:"div",classes:r.sandboxClasses,attributes:{id:d.id}},behaviours:Wn(r.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:i}}),T.config({onOpen:(v,w)=>{const k=UN(r,i);d.link(i.element),r.matchWidth&&((E,I,F)=>{const B=Ko.getCurrent(I).getOr(I),z=wa(E.element);F?ao(B.element,"min-width",z+"px"):((G,J)=>{Tg.set(G,J)})(B.element,z)})(k.hotspot,w,r.useMinWidth),r.onOpen(k,v,w),u!==void 0&&u.onOpen!==void 0&&u.onOpen(v,w)},onClose:(v,w)=>{d.unlink(i.element),b().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(v,w)},isPartOf:(v,w,k)=>pl(w,k)||pl(i,k),getAttachPoint:()=>b().getOrDie()}),Ko.config({find:v=>T.getState(v).bind(w=>Ko.getCurrent(w))}),bl.config({channels:{...se({isExtraPart:Oe}),...Ne({doReposition:UA})}})])}},ZN=r=>{const i=Ts.getCoupled(r,"sandbox");UA(i)},ZA=()=>[rt("sandboxClasses",[]),Qn("sandboxBehaviours",[Ko,bl,T,lt])],dF=j([Ot("dom"),Ot("fetch"),Uo("onOpen"),hl("onExecute"),rt("getHotspot",P.some),rt("getAnchorOverrides",j({})),Nf(),bn("dropdownBehaviours",[Kn,Ts,Tn,Jn]),Ot("toggleClass"),rt("eventOrder",{}),Bo("lazySink"),rt("matchWidth",!1),rt("useMinWidth",!1),Bo("role"),Bo("listRole")].concat(ZA())),fF=j([zd({schema:[Wg(),rt("fakeFocus",!1)],name:"menu",defaults:r=>({onExecute:r.onExecute})}),VN()]),xl=Ol({name:"Dropdown",configFields:dF(),partFields:fF(),factory:(r,i,u,d)=>{const b=E=>{T.getState(E).each(I=>{lh.highlightPrimary(I)})},v=(E,I,F)=>VA(r,de,E,d,I,F),w={expand:E=>{Kn.isOn(E)||v(E,X,ol.HighlightNone).get(X)},open:E=>{Kn.isOn(E)||v(E,X,ol.HighlightMenuAndItem).get(X)},refetch:E=>Ts.getExistingCoupled(E,"sandbox").fold(()=>v(E,X,ol.HighlightMenuAndItem).map(X),I=>P_(r,de,E,I,d,X,ol.HighlightMenuAndItem).map(X)),isOpen:Kn.isOn,close:E=>{Kn.isOn(E)&&v(E,X,ol.HighlightMenuAndItem).get(X)},repositionMenus:E=>{Kn.isOn(E)&&ZN(E)}},k=(E,I)=>(kf(E),P.some(!0));return{uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.dropdownBehaviours,[Kn.config({toggleClass:r.toggleClass,aria:{mode:"expanded"}}),Ts.config({others:{sandbox:E=>WA(r,E,{onOpen:()=>Kn.on(E),onClose:()=>Kn.off(E)})}}),Tn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,I)=>{if(xl.isOpen(E)){const F=Ts.getCoupled(E,"sandbox");b(F)}else xl.open(E);return P.some(!0)},onEscape:(E,I)=>xl.isOpen(E)?(xl.close(E),P.some(!0)):P.none()}),Jn.config({})]),events:R1(P.some(E=>{v(E,b,ol.HighlightMenuAndItem).get(X)})),eventOrder:{...r.eventOrder,[gl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":r.listRole.getOr("true"),...r.role.fold(()=>({}),E=>({role:E})),...r.dom.tag==="button"?{type:yn(r.dom,"attributes").bind(E=>yn(E,"type")).getOr("button")}:{}}}}},apis:{open:(r,i)=>r.open(i),refetch:(r,i)=>r.refetch(i),expand:(r,i)=>r.expand(i),close:(r,i)=>r.close(i),isOpen:(r,i)=>r.isOpen(i),repositionMenus:(r,i)=>r.repositionMenus(i)}}),jN=(r,i,u)=>{ZR(r).each(d=>{var b;((v,w)=>{Ho(w.element,"id").each(k=>nn(v.element,"aria-activedescendant",k))})(d,u),(Ji((b=i).element,O2)?P.some(b.element):ts(b.element,"."+O2)).each(v=>{Ho(v,"id").each(w=>nn(d.element,"aria-controls",w))})}),nn(u.element,"aria-selected","true")},mF=(r,i,u)=>{nn(u.element,"aria-selected","false")},zv=r=>Ts.getExistingCoupled(r,"sandbox").bind(T2).map(jR).map(i=>i.fetchPattern).getOr("");var V2;(function(r){r[r.ContentFocus=0]="ContentFocus",r[r.UiFocus=1]="UiFocus"})(V2||(V2={}));const gF=(r,i,u,d,b)=>{const v=u.shared.providers,w=E=>b?{...E,shortcut:P.none(),icon:E.text.isSome()?P.none():E.icon}:E;switch(r.type){case"menuitem":return(k=r,us("menuitem",lN,k)).fold(Xm,E=>P.some(((I,F,B,z=!0)=>{const G=B2({presets:"normal",iconContent:I.icon,textContent:I.text,htmlContent:P.none(),ariaLabel:I.text,caret:P.none(),checkMark:P.none(),shortcutContent:I.shortcut},B,z);return V1({data:U1(I),getApi:J=>({isEnabled:()=>!eo.isDisabled(J),setEnabled:ae=>eo.set(J,!ae)}),enabled:I.enabled,onAction:I.onAction,onSetup:I.onSetup,triggersSubmenu:!1,itemBehaviours:[]},G,F,B)})(w(E),i,v,d)));case"nestedmenuitem":return(E=>us("nestedmenuitem",cN,E))(r).fold(Xm,E=>P.some(((I,F,B,z=!0,G=!1)=>{const J=G?(ae=B.icons,vA("chevron-down",ae,[oA])):(ye=>vA("chevron-right",ye,[oA]))(B.icons);var ae;const ue=B2({presets:"normal",iconContent:I.icon,textContent:I.text,htmlContent:P.none(),ariaLabel:I.text,caret:P.some(J),checkMark:P.none(),shortcutContent:I.shortcut},B,z);return V1({data:U1(I),getApi:ye=>({isEnabled:()=>!eo.isDisabled(ye),setEnabled:le=>eo.set(ye,!le),setIconFill:(le,ie)=>{ts(ye.element,`svg path[class="${le}"], rect[class="${le}"]`).each(he=>{nn(he,"fill",ie)})},setTooltip:le=>{const ie=B.translate(le);nn(ye.element,"aria-label",ie)}}),enabled:I.enabled,onAction:X,onSetup:I.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ue,F,B)})(w(E),i,v,d,b)));case"togglemenuitem":return(E=>us("togglemenuitem",tF,E))(r).fold(Xm,E=>P.some(((I,F,B,z=!0)=>{const G=B2({iconContent:I.icon,textContent:I.text,htmlContent:P.none(),ariaLabel:I.text,checkMark:P.some(pN(B.icons)),caret:P.none(),shortcutContent:I.shortcut,presets:"normal",meta:I.meta},B,z);return Ar(V1({data:U1(I),enabled:I.enabled,getApi:J=>({setActive:ae=>{Kn.set(J,ae)},isActive:()=>Kn.isOn(J),isEnabled:()=>!eo.isDisabled(J),setEnabled:ae=>eo.set(J,!ae)}),onAction:I.onAction,onSetup:I.onSetup,triggersSubmenu:!1,itemBehaviours:[]},G,F,B),{toggling:{toggleClass:MR,toggleOnExecute:!1,selected:I.active},role:I.role.getOrUndefined()})})(w(E),i,v,d)));case"separator":return(E=>us("separatormenuitem",QR,E))(r).fold(Xm,E=>P.some(HN(E)));case"fancymenuitem":return(E=>us("fancymenuitem",iN,E))(r).fold(Xm,E=>((I,F)=>yn($N,I.fancytype).map(B=>B(I,F)))(E,u));default:return console.error("Unknown item in general menu",r),P.none()}var k},Tp=(r,i,u,d,b,v,w)=>{const k=d===1,E=!k||R2(r);return Wi(Je(r,I=>{switch(I.type){case"separator":return(F=I,us("Autocompleter.Separator",QR,F)).fold(Xm,B=>P.some(HN(B)));case"cardmenuitem":return(B=>us("cardmenuitem",eF,B))(I).fold(Xm,B=>P.some(((z,G,J,ae)=>{const ue={dom:bN(z.label),optComponents:[P.some({dom:{tag:"div",classes:[E2,A2]},components:wA(z.items,ae)})]};return V1({data:U1({text:P.none(),...z}),enabled:z.enabled,getApi:ye=>({isEnabled:()=>!eo.isDisabled(ye),setEnabled:le=>{eo.set(ye,!le),Tt(pa(ye.element,"*"),ie=>{ye.getSystem().getByDom(ie).each(he=>{he.hasConfigured(eo)&&eo.set(he,!le)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(ae.itemBehaviours).getOr([])},ue,G,J.providers)})({...B,onAction:z=>{B.onAction(z),u(B.value,B.meta)}},b,v,{itemBehaviours:vN(B.meta,v,P.none()),cardText:{matchText:i,highlightOn:w}})));default:return(B=>us("Autocompleter.Item",W8,B))(I).fold(Xm,B=>P.some(((z,G,J,ae,ue,ye,le,ie=!0)=>{const he=B2({presets:ae,textContent:P.none(),htmlContent:J?z.text.map(_e=>xA(_e,G)):P.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:z.value},le.providers,ie,z.icon),xe=z.text.filter(_e=>!J&&_e!=="");return V1({data:U1(z),enabled:z.enabled,getApi:j({}),onAction:_e=>ue(z.value,z.meta),onSetup:j(X),triggersSubmenu:!1,itemBehaviours:vN(z,le,xe)},he,ye,le.providers)})(B,i,k,"normal",u,b,v,E)))}var F}))},KN=(r,i,u,d,b,v)=>{const w=R2(i),k=Wi(Je(i,I=>{const F=B=>gF(B,u,d,(z=>b?!no(z,"text"):w)(B),b);return I.type==="nestedmenuitem"&&I.getSubmenuItems().length<=0?F({...I,enabled:!1}):F(I)})),E=(I=>I.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:I})(v);return(b?H8:aA)(r,w,k,1,E)},jA=r=>lh.singleData(r.value,r),nd=r=>If(rn(r.startContainer),r.startOffset,rn(r.endContainer),r.endOffset),qN=(r,i)=>{const u=pn("autocompleter"),d=Dn(!1),b=Dn(!1),v=pr(),w=Ha(is.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Vt([po("dismissAutocompleter",[Ct(Fg(),()=>B()),Ct(ex(),(J,ae)=>{Ho(ae.event.target,"id").each(ue=>nn(rn(r.getBody()),"aria-activedescendant",ue))})])]),lazySink:i.getSink})),k=()=>is.isOpen(w),E=b.get,I=()=>{if(k()){is.hide(w),r.dom.remove(u,!1);const J=rn(r.getBody());Ho(J,"aria-owns").filter(ae=>ae===u).each(()=>{xo(J,"aria-owns"),xo(J,"aria-activedescendant")})}},F=()=>is.getContent(w).bind(J=>Ce(J.components(),0)),B=()=>r.execCommand("mceAutocompleterClose"),z=J=>{const ae=(ue=>{const ye=on(ue,le=>P.from(le.columns)).getOr(1);return Do(ue,le=>{const ie=le.items;return Tp(ie,le.matchText,(he,xe)=>{const _e={hide:()=>B(),reload:Ve=>{I(),r.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ve})}};r.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Ve=>{d.set(!0),le.onAction(_e,Ve,he,xe),d.set(!1)})},ye,qf.BUBBLE_TO_SANDBOX,i,le.highlightOn)})})(J);ae.length>0?(((ue,ye)=>{const le=on(ue,ie=>P.from(ie.columns)).getOr(1);is.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>v.get().map(nd),root:rn(r.getBody())}},((ie,he,xe,_e)=>{const Ve=H2(he,_e),nt=Rv(_e);return{data:jA({...ie,movement:Ve,menuBehaviours:P2(he!=="auto"?[]:[Gr((kt,wt)=>{bA(kt,4,nt.item).each(({numColumns:yt,numRows:$t})=>{Tn.setGridSize(kt,$t,yt)})})])}),menu:{markers:Rv(_e),fakeFocus:xe===V2.ContentFocus}}})(aA("autocompleter-value",!0,ye,le,{menuType:"normal"}),le,V2.ContentFocus,"normal")),F().each(mr.highlightFirst)})(J,ae),nn(rn(r.getBody()),"aria-owns",u),r.inline||G()):I()},G=()=>{r.dom.get(u)&&r.dom.remove(u,!1);const J=r.getDoc().documentElement,ae=r.selection.getNode(),ue=(ye=>Vg(ye,!0))(w.element);Ki(ue,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ae.offsetTop}px`,left:`${ae.offsetLeft}px`}),r.dom.add(J,ue.dom),ts(ue,'[role="menu"]').each(ye=>{fr(ye,"position"),fr(ye,"max-height")})};r.on("AutocompleterStart",({lookupData:J})=>{b.set(!0),d.set(!1),z(J)}),r.on("AutocompleterUpdate",({lookupData:J})=>z(J)),r.on("AutocompleterUpdateActiveRange",({range:J})=>v.set(J)),r.on("AutocompleterEnd",()=>{I(),b.set(!1),d.set(!1),v.clear()}),((J,ae)=>{const ue=(le,ie)=>{En(le,fs(),{raw:ie})},ye=()=>J.getMenu().bind(mr.getHighlighted);ae.on("keydown",le=>{const ie=le.which;J.isActive()&&(J.isMenuOpen()?ie===13?(ye().each(kf),le.preventDefault()):ie===40?(ye().fold(()=>{J.getMenu().each(mr.highlightFirst)},he=>{ue(he,le)}),le.preventDefault(),le.stopImmediatePropagation()):ie!==37&&ie!==38&&ie!==39||ye().each(he=>{ue(he,le),le.preventDefault(),le.stopImmediatePropagation()}):ie!==13&&ie!==38&&ie!==40||J.cancelIfNecessary())}),ae.on("NodeChange",()=>{!J.isActive()||J.isProcessingAction()||ae.queryCommandState("mceAutoCompleterInRange")||J.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:k,isActive:E,isProcessingAction:d.get,getMenu:F},r)},G1=(r,i,u)=>ju(r,i,u).isSome(),KA=(r,i)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...d)=>{u=setTimeout(()=>{r.apply(null,d),u=null},i)}}},GN=r=>{const i=r.raw;return i.touches===void 0||i.touches.length!==1?P.none():P.some(i.touches[0])},L_=(r,i)=>{const u={stopBackspace:!0,...i},d=(B=>{const z=pr(),G=Dn(!1),J=KA(ue=>{B.triggerEvent(Vk(),ue),G.set(!0)},400),ae=Od([{key:K(),value:ue=>(GN(ue).each(ye=>{J.cancel();const le={x:ye.clientX,y:ye.clientY,target:ue.target};J.schedule(ue),G.set(!1),z.set(le)}),P.none())},{key:re(),value:ue=>(J.cancel(),GN(ue).each(ye=>{z.on(le=>{((ie,he)=>{const xe=Math.abs(ie.clientX-he.x),_e=Math.abs(ie.clientY-he.y);return xe>5||_e>5})(ye,le)&&z.clear()})}),P.none())},{key:Re(),value:ue=>(J.cancel(),z.get().filter(ye=>Jo(ye.target,ue.target)).map(ye=>G.get()?(ue.prevent(),!1):B.triggerEvent(xf(),ue)))}]);return{fireIfReady:(ue,ye)=>yn(ae,ye).bind(le=>le(ue))}})(u),b=Je(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Pi(r,B,z=>{d.fireIfReady(z,B).each(G=>{G&&z.kill()}),u.triggerEvent(B,z)&&z.kill()})),v=pr(),w=Pi(r,"paste",B=>{d.fireIfReady(B,"paste").each(z=>{z&&B.kill()}),u.triggerEvent("paste",B)&&B.kill(),v.set(setTimeout(()=>{u.triggerEvent(Qy(),B)},0))}),k=Pi(r,"keydown",B=>{u.triggerEvent("keydown",B)?B.kill():u.stopBackspace&&(z=>z.raw.which===bD[0]&&!ct(["input","textarea"],Zi(z.target))&&!G1(z.target,'[contenteditable="true"]'))(B)&&B.prevent()}),E=Pi(r,"focusin",B=>{u.triggerEvent("focusin",B)&&B.kill()}),I=pr(),F=Pi(r,"focusout",B=>{u.triggerEvent("focusout",B)&&B.kill(),I.set(setTimeout(()=>{u.triggerEvent(jh(),B)},0))});return{unbind:()=>{Tt(b,B=>{B.unbind()}),k.unbind(),E.unbind(),F.unbind(),w.unbind(),v.on(clearTimeout),I.on(clearTimeout)}}},qA=(r,i)=>{const u=yn(r,"target").getOr(i);return Dn(u)},U2=Fl([{stopped:[]},{resume:["element"]},{complete:[]}]),YN=(r,i,u,d,b,v)=>{const w=r(i,d),k=((E,I)=>{const F=Dn(!1),B=Dn(!1);return{stop:()=>{F.set(!0)},cut:()=>{B.set(!0)},isStopped:F.get,isCut:B.get,event:E,setSource:I.set,getSource:I.get}})(u,b);return w.fold(()=>(v.logEventNoHandlers(i,d),U2.complete()),E=>{const I=E.descHandler;return vx(I)(k),k.isStopped()?(v.logEventStopped(i,E.element,I.purpose),U2.stopped()):k.isCut()?(v.logEventCut(i,E.element,I.purpose),U2.complete()):mi(E.element).fold(()=>(v.logNoParent(i,E.element,I.purpose),U2.complete()),F=>(v.logEventResponse(i,E.element,I.purpose),U2.resume(F)))})},W2=(r,i,u,d,b,v)=>YN(r,i,u,d,b,v).fold(Be,w=>W2(r,i,u,w,b,v),Oe),B_=(r,i,u,d,b)=>{const v=qA(u,d);return W2(r,i,u,d,v,b)},XN=()=>{const r=(()=>{const d={};return{registerId:(b,v,w)=>{Mn(w,(k,E)=>{const I=d[E]!==void 0?d[E]:{};I[v]=((F,B)=>({cHandler:Ue.apply(void 0,[F.handler].concat(B)),purpose:F.purpose}))(k,b),d[E]=I})},unregisterId:b=>{Mn(d,(v,w)=>{no(v,b)&&delete v[b]})},filterByType:b=>yn(d,b).map(v=>Us(v,(w,k)=>((E,I)=>({id:E,descHandler:I}))(k,w))).getOr([]),find:(b,v,w)=>yn(d,v).bind(k=>Mg(w,E=>((I,F)=>jg(F).bind(B=>yn(I,B)).map(B=>((z,G)=>({element:z,descHandler:G}))(F,B)))(k,E),b))}})(),i={},u=d=>{jg(d.element).each(b=>{delete i[b],r.unregisterId(b)})};return{find:(d,b,v)=>r.find(d,b,v),filter:d=>r.filterByType(d),register:d=>{const b=(w=>{const k=w.element;return jg(k).getOrThunk(()=>((E,I)=>{const F=pn(G0+"uid-");return Y0(I,F),F})(0,w.element))})(d);bo(i,b)&&((w,k)=>{const E=i[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+Pd(E.element)+`
Cannot use it for: `+Pd(w.element)+`
The conflicting element is`+(ln(E.element)?" ":" not ")+"already in the DOM");u(w)})(d,b);const v=[d];r.registerId(v,b,d.events),i[b]=d},unregister:u,getById:d=>yn(i,d)}},Zd=gu({name:"Container",factory:r=>{const{attributes:i,...u}=r.dom;return{uid:r.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...u},components:r.components,behaviours:Un(r.containerBehaviours),events:r.events,domModification:r.domModification,eventOrder:r.eventOrder}},configFields:[rt("components",[]),bn("containerBehaviours",[]),rt("events",{}),rt("domModification",{}),rt("eventOrder",{})]}),M_=r=>{const i=ue=>mi(r.element).fold(Be,ye=>Jo(ue,ye)),u=XN(),d=(ue,ye)=>u.find(i,ue,ye),b=L_(r.element,{triggerEvent:(ue,ye)=>Vb(ue,ye.target,le=>((ie,he,xe,_e)=>B_(ie,he,xe,xe.target,_e))(d,ue,ye,le))}),v={debugInfo:j("real"),triggerEvent:(ue,ye,le)=>{Vb(ue,ye,ie=>B_(d,ue,le,ye,ie))},triggerFocus:(ue,ye)=>{jg(ue).fold(()=>{Ii(ue)},le=>{Vb(Uu(),ue,ie=>(((he,xe,_e,Ve,nt)=>{const kt=qA(_e,Ve);YN(he,xe,_e,Ve,kt,nt)})(d,Uu(),{originator:ye,kill:X,prevent:X,target:ue},ue,ie),!1))})},triggerEscape:(ue,ye)=>{v.triggerEvent("keydown",ue.element,ye.event)},getByUid:ue=>J(ue),getByDom:ue=>ae(ue),build:Ha,buildOrPatch:n1,addToGui:ue=>{E(ue)},removeFromGui:ue=>{I(ue)},addToWorld:ue=>{w(ue)},removeFromWorld:ue=>{k(ue)},broadcast:ue=>{B(ue)},broadcastOn:(ue,ye)=>{z(ue,ye)},broadcastEvent:(ue,ye)=>{G(ue,ye)},isConnected:Be},w=ue=>{ue.connect(v),fi(ue.element)||(u.register(ue),Tt(ue.components(),w),v.triggerEvent(wf(),ue.element,{target:ue.element}))},k=ue=>{fi(ue.element)||(Tt(ue.components(),k),u.unregister(ue)),ue.disconnect()},E=ue=>{Hf(r,ue)},I=ue=>{tl(ue)},F=ue=>{const ye=u.filter(Xl());Tt(ye,le=>{const ie=le.descHandler;vx(ie)(ue)})},B=ue=>{F({universal:!0,data:ue})},z=(ue,ye)=>{F({universal:!1,channels:ue,data:ye})},G=(ue,ye)=>((le,ie,he)=>{const xe=(_e=>{const Ve=Dn(!1);return{stop:()=>{Ve.set(!0)},cut:X,isStopped:Ve.get,isCut:Oe,event:_e,setSource:je("Cannot set source of a broadcasted event"),getSource:je("Cannot get source of a broadcasted event")}})(ie);return Tt(le,_e=>{const Ve=_e.descHandler;vx(Ve)(xe)}),xe.isStopped()})(u.filter(ue),ye),J=ue=>u.getById(ue).fold(()=>Ao.error(new Error('Could not find component with uid: "'+ue+'" in system.')),Ao.value),ae=ue=>{const ye=jg(ue).getOr("not found");return J(ye)};return w(r),{root:r,element:r.element,destroy:()=>{b.unbind(),La(r.element)},add:E,remove:I,getByUid:J,getByDom:ae,addToWorld:w,removeFromWorld:k,broadcast:B,broadcastOn:z,broadcastEvent:G}},hF=j([rt("prefix","form-field"),bn("fieldBehaviours",[Ko,lt])]),GA=j([mu({schema:[Ot("dom")],name:"label"}),mu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Ot("text")],name:"aria-descriptor"}),yl({factory:{sketch:r=>{const i=((u,d)=>{const b={};return Mn(u,(v,w)=>{ct(d,w)||(b[w]=v)}),b})(r,["factory"]);return r.factory.sketch(i)}},schema:[Ot("factory")],name:"field"})]),br=Ol({name:"FormField",configFields:hF(),partFields:GA(),factory:(r,i,u,d)=>{const b=ho(r.fieldBehaviours,[Ko.config({find:k=>zr(k,r,"field")}),lt.config({store:{mode:"manual",getValue:k=>Ko.getCurrent(k).bind(lt.getValue),setValue:(k,E)=>{Ko.getCurrent(k).each(I=>{lt.setValue(I,E)})}}})]),v=lo([Gr((k,E)=>{const I=nD(k,r,["label","field","aria-descriptor"]);I.field().each(F=>{const B=pn(r.prefix);I.label().each(z=>{nn(z.element,"for",B),nn(F.element,"id",B)}),I["aria-descriptor"]().each(z=>{const G=pn(r.prefix);nn(z.element,"id",G),nn(F.element,"aria-describedby",G)})})})]),w={getField:k=>zr(k,r,"field"),getLabel:k=>zr(k,r,"label")};return{uid:r.uid,dom:r.dom,components:i,behaviours:b,events:v,apis:w}},apis:{getField:(r,i)=>r.getField(i),getLabel:(r,i)=>r.getLabel(i)}});var pF=tinymce.util.Tools.resolve("tinymce.html.Entities");const Z2=(r,i,u,d)=>{const b=bF(r,i,u,d);return br.sketch(b)},bF=(r,i,u,d)=>({dom:F_(u),components:r.toArray().concat([i]),fieldBehaviours:Vt(d)}),F_=r=>({tag:"div",classes:["tox-form__group"].concat(r)}),Op=(r,i)=>br.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(i.translate(r))]}),rl=pn("form-component-change"),Dp=pn("form-close"),ph=pn("form-cancel"),Yf=pn("form-action"),j2=pn("form-submit"),YA=pn("form-block"),XA=pn("form-unblock"),JN=pn("form-tabchange"),$_=pn("form-resize"),QN=(r,i,u)=>{const d=r.label.map(B=>Op(B,i)),b=i.icons(),v=B=>(z,G)=>{ju(G.event.target,"[data-collection-item-value]").each(J=>{B(z,G,J,Ro(J,"data-collection-item-value"))})},w=v((B,z,G,J)=>{z.stop(),i.isDisabled()||En(B,Yf,{name:r.name,value:J})}),k=[Ct(kn(),v((B,z,G)=>{Ii(G)})),Ct(ia(),w),Ct(xf(),w),Ct(ir(),v((B,z,G)=>{ts(B.element,"."+Ym).each(J=>{xs(J,Ym)}),ms(G,Ym)})),Ct(Is(),v(B=>{ts(B.element,"."+Ym).each(z=>{xs(z,Ym),Yb(z)})})),au(v((B,z,G,J)=>{En(B,Yf,{name:r.name,value:J})}))],E=(B,z)=>Je(pa(B.element,".tox-collection__item"),z),I=br.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(r.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:de},behaviours:Vt([eo.config({disabled:i.isDisabled,onDisabled:B=>{E(B,z=>{ms(z,"tox-collection__item--state-disabled"),nn(z,"aria-disabled",!0)})},onEnabled:B=>{E(B,z=>{xs(z,"tox-collection__item--state-disabled"),xo(z,"aria-disabled")})}}),Ea(),$n.config({}),Gs.config({...i.tooltips.getConfig({tooltipText:"",onShow:B=>{ts(B.element,"."+Ym+"[data-mce-tooltip]").each(z=>{Ho(z,"data-mce-tooltip").each(G=>{Gs.setComponents(B,i.tooltips.getComponents({tooltipText:G}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:ts(B.element,"."+Ym).orThunk(()=>xd(".tox-collection__item")),root:B.element,layouts:{onLtr:j([Bs,gs,ws,Ks,Cs,Tr]),onRtl:j([Bs,gs,ws,Ks,Cs,Tr])},bubble:ec(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(B,z)=>{((G,J)=>{const ae=Je(J,le=>{const ie=Xu.translate(le.text),he=r.columns===1?`<div class="tox-collection__item-label">${ie}</div>`:"",xe=`<div class="tox-collection__item-icon">${(nt=>{var kt;return(kt=b[nt])!==null&&kt!==void 0?kt:nt})(le.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Ve=ie.replace(/\_| \- |\-/g,nt=>_e[nt]);return`<div data-mce-tooltip="${Ve}" class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${pF.encodeAllRaw(le.value)}" aria-label="${Ve}">${xe}${he}</div>`}),ue=r.columns!=="auto"&&r.columns>1?Lt(ae,r.columns):[ae],ye=Je(ue,le=>`<div class="tox-collection__group">${le.join("")}</div>`);zg(G.element,ye.join(""))})(B,z),r.columns==="auto"&&bA(B,5,"tox-collection__item").each(({numRows:G,numColumns:J})=>{Tn.setGridSize(B,G,J)}),wo(B,$_)}}),Mr.config({}),Tn.config((F=r.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${h_}`}})),po("collection-events",k)]),eventOrder:{[gl()]:["disabling","alloy.base.behaviour","collection-events"],[ir()]:["collection-events","tooltipping"]}});var F;return Z2(d,I,["tox-form__group--collection"],[])},e5=["input","textarea"],H_=r=>{const i=Zi(r);return ct(e5,i)},t5=(r,i)=>{const u=i.getRoot(r).getOr(r.element);xs(u,i.invalidClass),i.notify.each(d=>{H_(r.element)&&nn(r.element,"aria-invalid",!1),d.getContainer(r).each(b=>{zg(b,d.validHtml)}),d.onValid(r)})},JA=(r,i,u,d)=>{const b=i.getRoot(r).getOr(r.element);ms(b,i.invalidClass),i.notify.each(v=>{H_(r.element)&&nn(r.element,"aria-invalid",!0),v.getContainer(r).each(w=>{zg(w,d)}),v.onInvalid(r,d)})},n5=(r,i,u)=>i.validator.fold(()=>Qm(Ao.value(!0)),d=>d.validate(r)),QA=(r,i,u)=>(i.notify.each(d=>{d.onValidate(r)}),n5(r,i).map(d=>r.getSystem().isConnected()?d.fold(b=>(JA(r,i,0,b),Ao.error(b)),b=>(t5(r,i),Ao.value(b))):Ao.error("No longer in system")));var vF=Object.freeze({__proto__:null,markValid:t5,markInvalid:JA,query:n5,run:QA,isInvalid:(r,i)=>{const u=i.getRoot(r).getOr(r.element);return Ji(u,i.invalidClass)}}),o5=Object.freeze({__proto__:null,events:(r,i)=>r.validator.map(u=>lo([Ct(u.onEvent,d=>{QA(d,r).get(de)})].concat(u.validateOnLoad?[Gr(d=>{QA(d,r).get(X)})]:[]))).getOr({})}),yF=[Ot("invalidClass"),rt("getRoot",P.none),vs("notify",[rt("aria","alert"),rt("getContainer",P.none),rt("validHtml",""),Uo("onValid"),Uo("onInvalid"),Uo("onValidate")]),vs("validator",[Ot("validate"),rt("onEvent","input"),rt("validateOnLoad",!0)])];const eg=ka({fields:yF,name:"invalidating",active:o5,apis:vF,extra:{validation:r=>i=>{const u=lt.getValue(i);return Qm(r(u))}}}),Vv=ka({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>lo([Gh(ti(),Be)]),exhibit:()=>Ps({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),e3=pn("color-input-change"),t3=pn("color-swatch-change"),r5=pn("color-picker-cancel"),n3=mu({schema:[Ot("dom")],name:"label"}),Rp=r=>mu({name:r+"-edge",overrides:i=>i.model.manager.edgeActions[r].fold(()=>({}),u=>({events:lo([tx(K(),(d,b,v)=>u(d,v),[i]),tx(Dt(),(d,b,v)=>u(d,v),[i]),tx(Bn(),(d,b,v)=>{v.mouseIsDown.get()&&u(d,v)},[i])])}))}),xF=Rp("top-left"),wF=Rp("top"),CF=Rp("top-right"),_F=Rp("right"),s5=Rp("bottom-right"),o3=Rp("bottom"),SF=Rp("bottom-left"),z_=Rp("left"),kF=yl({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:r=>({events:lo([Xh(K(),r,"spectrum"),Xh(re(),r,"spectrum"),Xh(Re(),r,"spectrum"),Xh(Dt(),r,"spectrum"),Xh(Bn(),r,"spectrum"),Xh(ro(),r,"spectrum")])})}),V_=r=>Zm(r.event);var EF=[n3,z_,_F,wF,o3,xF,CF,SF,s5,kF,yl({schema:[Ma("mouseIsDown",()=>Dn(!1))],name:"spectrum",overrides:r=>{const i=r.model.manager,u=(d,b)=>i.getValueFromEvent(b).map(v=>i.setValueFrom(d,r,v));return{behaviours:Vt([Tn.config({mode:"special",onLeft:(d,b)=>i.onLeft(d,r,V_(b)),onRight:(d,b)=>i.onRight(d,r,V_(b)),onUp:(d,b)=>i.onUp(d,r,V_(b)),onDown:(d,b)=>i.onDown(d,r,V_(b))}),Mr.config({}),Jn.config({})]),events:lo([Ct(K(),u),Ct(re(),u),Ct(Dt(),u),Ct(Bn(),(d,b)=>{r.mouseIsDown.get()&&u(d,b)})])}}})];const K2=j("slider.change.value"),r3=r=>{const i=r.event.raw;if((u=>u.type.indexOf("touch")!==-1)(i)){const u=i;return u.touches!==void 0&&u.touches.length===1?P.some(u.touches[0]).map(d=>Ur(d.clientX,d.clientY)):P.none()}{const u=i;return u.clientX!==void 0?P.some(u).map(d=>Ur(d.clientX,d.clientY)):P.none()}},Uv=r=>r.model.minX,Np=r=>r.model.minY,U_=r=>r.model.minX-1,W_=r=>r.model.minY-1,bh=r=>r.model.maxX,od=r=>r.model.maxY,Z_=r=>r.model.maxX+1,j_=r=>r.model.maxY+1,K_=(r,i,u)=>i(r)-u(r),q_=r=>K_(r,bh,Uv),s3=r=>K_(r,od,Np),a5=r=>q_(r)/2,a3=r=>s3(r)/2,Y1=(r,i)=>i?r.stepSize*r.speedMultiplier:r.stepSize,i3=r=>r.snapToGrid,l3=r=>r.snapStart,G_=r=>r.rounded,Y_=(r,i)=>r[i+"-edge"]!==void 0,c3=r=>Y_(r,"left"),i5=r=>Y_(r,"right"),X1=r=>Y_(r,"top"),l5=r=>Y_(r,"bottom"),vh=r=>r.model.value.get(),tg=(r,i)=>({x:r,y:i}),yu=(r,i)=>{En(r,K2(),{value:i})},u3=(r,i,u,d)=>r<i?r:r>u?u:r===i?i-1:Math.max(i,r-d),q2=(r,i,u,d)=>r>u?r:r<i?i:r===u?u+1:Math.min(u,r+d),c5=(r,i,u)=>Math.max(i,Math.min(u,r)),u5=r=>{const{min:i,max:u,range:d,value:b,step:v,snap:w,snapStart:k,rounded:E,hasMinEdge:I,hasMaxEdge:F,minBound:B,maxBound:z,screenRange:G}=r,J=I?i-1:i,ae=F?u+1:u;if(b<B)return J;if(b>z)return ae;{const ue=((le,ie,he)=>Math.min(he,Math.max(le,ie))-ie)(b,B,z),ye=c5(ue/G*d+i,J,ae);return w&&ye>=i&&ye<=u?((le,ie,he,xe,_e)=>_e.fold(()=>{const Ve=le-ie,nt=Math.round(Ve/xe)*xe;return c5(ie+nt,ie-1,he+1)},Ve=>{const nt=(le-Ve)%xe,kt=Math.round(nt/xe),wt=Math.floor((le-Ve)/xe),yt=Math.floor((he-Ve)/xe),$t=Ve+Math.min(yt,wt+kt)*xe;return Math.max(Ve,$t)}))(ye,i,u,v,k):E?Math.round(ye):ye}},X_=r=>{const{min:i,max:u,range:d,value:b,hasMinEdge:v,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:I,centerMaxEdge:F}=r;return b<i?v?0:I:b>u?w?k:F:(b-i)/d*E},d3="top",d5="right",f5="bottom",f3="left",ng=r=>r.element.dom.getBoundingClientRect(),jd=(r,i)=>r[i],J_=r=>{const i=ng(r);return jd(i,f3)},m5=r=>{const i=ng(r);return jd(i,d5)},Q_=r=>{const i=ng(r);return jd(i,d3)},g5=r=>{const i=ng(r);return jd(i,f5)},h5=r=>{const i=ng(r);return jd(i,"width")},p5=r=>{const i=ng(r);return jd(i,"height")},eS=(r,i,u)=>(r+i)/2-u,b5=(r,i)=>{const u=ng(r),d=ng(i),b=jd(u,f3),v=jd(u,d5),w=jd(d,f3);return eS(b,v,w)},v5=(r,i)=>{const u=ng(r),d=ng(i),b=jd(u,d3),v=jd(u,f5),w=jd(d,d3);return eS(b,v,w)},tS=(r,i)=>{En(r,K2(),{value:i})},nS=(r,i,u)=>{const d={min:Uv(i),max:bh(i),range:q_(i),value:u,step:Y1(i),snap:i3(i),snapStart:l3(i),rounded:G_(i),hasMinEdge:c3(i),hasMaxEdge:i5(i),minBound:J_(r),maxBound:m5(r),screenRange:h5(r)};return u5(d)},y5=r=>(i,u,d)=>((b,v,w,k)=>{const E=(b>0?q2:u3)(vh(w),Uv(w),bh(w),Y1(w,k));return tS(v,E),P.some(E)})(r,i,u,d).map(Be),m3=(r,i,u,d,b,v)=>{const w=((k,E,I,F,B)=>{const z=h5(k),G=F.bind(ue=>P.some(b5(ue,k))).getOr(0),J=B.bind(ue=>P.some(b5(ue,k))).getOr(z),ae={min:Uv(E),max:bh(E),range:q_(E),value:I,hasMinEdge:c3(E),hasMaxEdge:i5(E),minBound:J_(k),maxBound:m5(k),maxOffset:z,centerMinEdge:G,centerMaxEdge:J};return X_(ae)})(i,v,u,d,b);return J_(i)-J_(r)+w},AF=y5(-1),TF=y5(1),OF=P.none,DF=P.none,g3={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some((r,i)=>{yu(r,Z_(i))}),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some((r,i)=>{yu(r,U_(i))})};var RF=Object.freeze({__proto__:null,setValueFrom:(r,i,u)=>{const d=nS(r,i,u);return tS(r,d),d},setToMin:(r,i)=>{const u=Uv(i);tS(r,u)},setToMax:(r,i)=>{const u=bh(i);tS(r,u)},findValueOfOffset:nS,getValueFromEvent:r=>r3(r).map(i=>i.left),findPositionOfValue:m3,setPositionFromValue:(r,i,u,d)=>{const b=vh(u),v=m3(r,d.getSpectrum(r),b,d.getLeftEdge(r),d.getRightEdge(r),u),w=wa(i.element)/2;ao(i.element,"left",v-w+"px")},onLeft:AF,onRight:TF,onUp:OF,onDown:DF,edgeActions:g3});const oS=(r,i)=>{En(r,K2(),{value:i})},h3=(r,i,u)=>{const d={min:Np(i),max:od(i),range:s3(i),value:u,step:Y1(i),snap:i3(i),snapStart:l3(i),rounded:G_(i),hasMinEdge:X1(i),hasMaxEdge:l5(i),minBound:Q_(r),maxBound:g5(r),screenRange:p5(r)};return u5(d)},x5=r=>(i,u,d)=>((b,v,w,k)=>{const E=(b>0?q2:u3)(vh(w),Np(w),od(w),Y1(w,k));return oS(v,E),P.some(E)})(r,i,u,d).map(Be),p3=(r,i,u,d,b,v)=>{const w=((k,E,I,F,B)=>{const z=p5(k),G=F.bind(ue=>P.some(v5(ue,k))).getOr(0),J=B.bind(ue=>P.some(v5(ue,k))).getOr(z),ae={min:Np(E),max:od(E),range:s3(E),value:I,hasMinEdge:X1(E),hasMaxEdge:l5(E),minBound:Q_(k),maxBound:g5(k),maxOffset:z,centerMinEdge:G,centerMaxEdge:J};return X_(ae)})(i,v,u,d,b);return Q_(i)-Q_(r)+w},NF=P.none,IF=P.none,PF=x5(-1),LF=x5(1),BF={"top-left":P.none(),top:P.some((r,i)=>{yu(r,W_(i))}),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some((r,i)=>{yu(r,j_(i))}),"bottom-left":P.none(),left:P.none()};var MF=Object.freeze({__proto__:null,setValueFrom:(r,i,u)=>{const d=h3(r,i,u);return oS(r,d),d},setToMin:(r,i)=>{const u=Np(i);oS(r,u)},setToMax:(r,i)=>{const u=od(i);oS(r,u)},findValueOfOffset:h3,getValueFromEvent:r=>r3(r).map(i=>i.top),findPositionOfValue:p3,setPositionFromValue:(r,i,u,d)=>{const b=vh(u),v=p3(r,d.getSpectrum(r),b,d.getTopEdge(r),d.getBottomEdge(r),u),w=bs(i.element)/2;ao(i.element,"top",v-w+"px")},onLeft:NF,onRight:IF,onUp:PF,onDown:LF,edgeActions:BF});const rS=(r,i)=>{En(r,K2(),{value:i})},sS=(r,i)=>({x:r,y:i}),Wv=(r,i)=>(u,d,b)=>((v,w,k,E,I)=>{const F=v>0?q2:u3,B=w?vh(E).x:F(vh(E).x,Uv(E),bh(E),Y1(E,I)),z=w?F(vh(E).y,Np(E),od(E),Y1(E,I)):vh(E).y;return rS(k,sS(B,z)),P.some(B)})(r,i,u,d,b).map(Be),FF=Wv(-1,!1),b3=Wv(1,!1),$F=Wv(-1,!0),HF=Wv(1,!0),zF={"top-left":P.some((r,i)=>{yu(r,tg(U_(i),W_(i)))}),top:P.some((r,i)=>{yu(r,tg(a5(i),W_(i)))}),"top-right":P.some((r,i)=>{yu(r,tg(Z_(i),W_(i)))}),right:P.some((r,i)=>{yu(r,tg(Z_(i),a3(i)))}),"bottom-right":P.some((r,i)=>{yu(r,tg(Z_(i),j_(i)))}),bottom:P.some((r,i)=>{yu(r,tg(a5(i),j_(i)))}),"bottom-left":P.some((r,i)=>{yu(r,tg(U_(i),j_(i)))}),left:P.some((r,i)=>{yu(r,tg(U_(i),a3(i)))})};var w5=Object.freeze({__proto__:null,setValueFrom:(r,i,u)=>{const d=nS(r,i,u.left),b=h3(r,i,u.top),v=sS(d,b);return rS(r,v),v},setToMin:(r,i)=>{const u=Uv(i),d=Np(i);rS(r,sS(u,d))},setToMax:(r,i)=>{const u=bh(i),d=od(i);rS(r,sS(u,d))},getValueFromEvent:r=>r3(r),setPositionFromValue:(r,i,u,d)=>{const b=vh(u),v=m3(r,d.getSpectrum(r),b.x,d.getLeftEdge(r),d.getRightEdge(r),u),w=p3(r,d.getSpectrum(r),b.y,d.getTopEdge(r),d.getBottomEdge(r),u),k=wa(i.element)/2,E=bs(i.element)/2;ao(i.element,"left",v-k+"px"),ao(i.element,"top",w-E+"px")},onLeft:FF,onRight:b3,onUp:$F,onDown:HF,edgeActions:zF});const Kd=Ol({name:"Slider",configFields:[rt("stepSize",1),rt("speedMultiplier",10),rt("onChange",X),rt("onChoose",X),rt("onInit",X),rt("onDragStart",X),rt("onDragEnd",X),rt("snapToGrid",!1),rt("rounded",!0),Bo("snapStart"),Fa("model",aa("mode",{x:[rt("minX",0),rt("maxX",100),Ma("value",r=>Dn(r.mode.minX)),Ot("getInitialValue"),$r("manager",RF)],y:[rt("minY",0),rt("maxY",100),Ma("value",r=>Dn(r.mode.minY)),Ot("getInitialValue"),$r("manager",MF)],xy:[rt("minX",0),rt("maxX",100),rt("minY",0),rt("maxY",100),Ma("value",r=>Dn({x:r.mode.minX,y:r.mode.minY})),Ot("getInitialValue"),$r("manager",w5)]})),bn("sliderBehaviours",[Tn,lt]),Ma("mouseIsDown",()=>Dn(!1))],partFields:EF,factory:(r,i,u,d)=>{const b=le=>ih(le,r,"thumb"),v=le=>ih(le,r,"spectrum"),w=le=>zr(le,r,"left-edge"),k=le=>zr(le,r,"right-edge"),E=le=>zr(le,r,"top-edge"),I=le=>zr(le,r,"bottom-edge"),F=r.model,B=F.manager,z=(le,ie)=>{B.setPositionFromValue(le,ie,r,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:I,getSpectrum:v})},G=(le,ie)=>{F.value.set(ie);const he=b(le);z(le,he)},J=le=>{const ie=r.mouseIsDown.get();r.mouseIsDown.set(!1),ie&&zr(le,r,"thumb").each(he=>{const xe=F.value.get();r.onChoose(le,he,xe)})},ae=(le,ie)=>{ie.stop(),r.mouseIsDown.set(!0),r.onDragStart(le,b(le))},ue=(le,ie)=>{ie.stop(),r.onDragEnd(le,b(le)),J(le)},ye=le=>{zr(le,r,"spectrum").map(Tn.focusIn)};return{uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.sliderBehaviours,[Tn.config({mode:"special",focusIn:ye}),lt.config({store:{mode:"manual",getValue:le=>F.value.get(),setValue:G}}),bl.config({channels:{[W()]:{onReceive:J}}})]),events:lo([Ct(K2(),(le,ie)=>{((he,xe)=>{G(he,xe);const _e=b(he);r.onChange(he,_e,xe)})(le,ie.event.value)}),Gr((le,ie)=>{const he=F.getInitialValue();F.value.set(he);const xe=b(le);z(le,xe);const _e=v(le);r.onInit(le,xe,_e,F.value.get())}),Ct(K(),ae),Ct(Re(),ue),Ct(Dt(),(le,ie)=>{ye(le),ae(le,ie)}),Ct(ro(),ue)]),apis:{resetToMin:le=>{B.setToMin(le,r)},resetToMax:le=>{B.setToMax(le,r)},setValue:G,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(r,i,u)=>{r.setValue(i,u)},resetToMin:(r,i)=>{r.resetToMin(i)},resetToMax:(r,i)=>{r.resetToMax(i)},refresh:(r,i)=>{r.refresh(i)}}}),G2=pn("rgb-hex-update"),aS=pn("slider-update"),v3=pn("palette-update"),iS="form",lS=[bn("formBehaviours",[lt])],y3=r=>"<alloy.field."+r+">",og=(r,i)=>({uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.formBehaviours,[lt.config({store:{mode:"manual",getValue:u=>{const d=cE(u,r);return zn(d,(b,v)=>b().bind(w=>{return k=Ko.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Pd(w.element)),k.fold(()=>Ao.error(E),Ao.value);var k,E}).map(lt.getValue))},setValue:(u,d)=>{Mn(d,(b,v)=>{zr(u,r,v).each(w=>{Ko.getCurrent(w).each(k=>{lt.setValue(k,b)})})})}}})]),apis:{getField:(u,d)=>zr(u,r,d).bind(Ko.getCurrent)}}),Ip={getField:Q0((r,i,u)=>r.getField(i,u)),sketch:r=>{const i=(()=>{const v=[];return{field:(w,k)=>(v.push(w),aE(iS,y3(w),k)),record:j(v)}})(),u=r(i),d=i.record(),b=Je(d,v=>yl({name:v,pname:y3(v)}));return Zx(iS,lS,b,og,u)}},C5=pn("valid-input"),_5=pn("invalid-input"),S5=pn("validating-input"),x3="colorcustom.rgb.",Y2={isEnabled:Be,setEnabled:X,immediatelyShow:X,immediatelyHide:X},VF=(r,i,u,d,b,v)=>{const w=(G,J)=>{const ae=J.get();G!==ae.isEnabled()&&(ae.setEnabled(G),G?ae.immediatelyShow():ae.immediatelyHide())},k=(G,J,ae)=>eg.config({invalidClass:i("invalid"),notify:{onValidate:ue=>{En(ue,S5,{type:G})},onValid:ue=>{w(!1,ae),En(ue,C5,{type:G,value:lt.getValue(ue)})},onInvalid:ue=>{w(!0,ae),En(ue,_5,{type:G,value:lt.getValue(ue)})}},validator:{validate:ue=>{const ye=lt.getValue(ue),le=J(ye)?Ao.value(!0):Ao.error(r("aria.input.invalid"));return Qm(le)},validateOnLoad:!1}}),E=(G,J,ae,ue,ye)=>{const le=Dn(Y2),ie=r(x3+"range"),he=br.parts.label({dom:{tag:"label",attributes:{"aria-label":ue}},components:[As(ae)]}),xe=br.parts.field({data:ye,factory:fh,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:Vt([k(J,G,le),Mr.config({}),Gs.config({...b({tooltipText:"",onSetup:yt=>{le.set({isEnabled:()=>Gs.isEnabled(yt),setEnabled:$t=>Gs.setEnabled(yt,$t),immediatelyShow:()=>Gs.immediateOpenClose(yt,!0),immediatelyHide:()=>Gs.immediateOpenClose(yt,!1)}),Gs.setEnabled(yt,!1)},onShow:(yt,$t)=>{Gs.setComponents(yt,[{dom:{tag:"p",classes:[i("rgb-warning-note")]},components:[As(r(J==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:yt=>{eg.isInvalid(yt)&&eg.run(yt).get(X)}}),_e=pn("aria-invalid"),Ve=ur(v("invalid",P.some(_e),"warning")),nt=[he,xe,ur({dom:{tag:"div",classes:[i("invalid-icon")]},components:[Ve.asSpec()]}).asSpec()],kt=J!=="hex"?[br.parts["aria-descriptor"]({text:ie})]:[],wt=nt.concat(kt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[i("rgb-container")]},components:wt}},I=(G,J)=>{const ae=J.red,ue=J.green,ye=J.blue;lt.setValue(G,{red:ae,green:ue,blue:ye})},F=ur({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(G,J)=>{F.getOpt(G).each(ae=>{ao(ae.element,"background-color","#"+J.value)})};return gu({factory:()=>{const G={red:Dn(P.some(255)),green:Dn(P.some(255)),blue:Dn(P.some(255)),hex:Dn(P.some("ffffff"))},J=nt=>G[nt].get(),ae=(nt,kt)=>{G[nt].set(kt)},ue=nt=>{const kt=nt.red,wt=nt.green,yt=nt.blue;ae("red",P.some(kt)),ae("green",P.some(wt)),ae("blue",P.some(yt))},ye=(nt,kt)=>{const wt=kt.event;wt.type!=="hex"?ae(wt.type,P.none()):d(nt)},le=(nt,kt)=>{const wt=kt.event;(yt=>yt.type==="hex")(wt)?((yt,$t)=>{u(yt);const dn=CA($t);ae("hex",P.some(dn.value));const Cn=Wd(dn);I(yt,Cn),ue(Cn),En(yt,G2,{hex:dn}),B(yt,dn)})(nt,wt.value):((yt,$t,dn)=>{const Cn=parseInt(dn,10);ae($t,P.some(Cn)),J("red").bind(Nn=>J("green").bind(to=>J("blue").map(To=>hh(Nn,to,To,1)))).each(Nn=>{const to=((To,Kr)=>{const ns=M2(Kr);return Ip.getField(To,"hex").each(vo=>{Jn.isFocused(vo)||lt.setValue(To,{hex:ns.value})}),ns})(yt,Nn);En(yt,G2,{hex:to}),B(yt,to)})})(nt,wt.type,wt.value)},ie=nt=>({label:r(x3+nt+".label"),description:r(x3+nt+".description")}),he=ie("red"),xe=ie("green"),_e=ie("blue"),Ve=ie("hex");return Ar(Ip.sketch(nt=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":r("aria.color.picker")}},components:[nt.field("red",br.sketch(E(F2,"red",he.label,he.description,255))),nt.field("green",br.sketch(E(F2,"green",xe.label,xe.description,255))),nt.field("blue",br.sketch(E(F2,"blue",_e.label,_e.description,255))),nt.field("hex",br.sketch(E(yN,"hex",Ve.label,Ve.description,"ffffff"))),F.asSpec()],formBehaviours:Vt([eg.config({invalidClass:i("form-invalid")}),po("rgb-form-events",[Ct(C5,le),Ct(_5,ye),Ct(S5,ye)])])})),{apis:{updateHex:(nt,kt)=>{lt.setValue(nt,{hex:kt.value}),((wt,yt)=>{const $t=Wd(yt);I(wt,$t),ue($t)})(nt,kt),B(nt,kt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(G,J,ae)=>{G.updateHex(J,ae)}},extraApis:{}})},k5=(r,i,u,d)=>gu({name:"ColourPicker",configFields:[Ot("dom"),rt("onValidHex",X),rt("onInvalidHex",X)],factory:v=>{const w=VF(r,i,v.onValidHex,v.onInvalidHex,u,d),k=((ye,le)=>{const ie=Kd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[le("sv-palette-spectrum")]}}),he=Kd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[le("sv-palette-thumb")],innerHtml:`<div class=${le("sv-palette-inner-thumb")} role="presentation"></div>`}}),xe=(_e,Ve)=>{const{width:nt,height:kt}=_e,wt=_e.getContext("2d");if(wt===null)return;wt.fillStyle=Ve,wt.fillRect(0,0,nt,kt);const yt=wt.createLinearGradient(0,0,nt,0);yt.addColorStop(0,"rgba(255,255,255,1)"),yt.addColorStop(1,"rgba(255,255,255,0)"),wt.fillStyle=yt,wt.fillRect(0,0,nt,kt);const $t=wt.createLinearGradient(0,0,0,kt);$t.addColorStop(0,"rgba(0,0,0,0)"),$t.addColorStop(1,"rgba(0,0,0,1)"),wt.fillStyle=$t,wt.fillRect(0,0,nt,kt)};return gu({factory:_e=>{const Ve=j({x:0,y:0}),nt=Vt([Ko.config({find:P.some}),Jn.config({})]);return Kd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ye(["Saturation {0}%, Brightness {1}%",0,0])},classes:[le("sv-palette")]},model:{mode:"xy",getInitialValue:Ve},rounded:!1,components:[ie,he],onChange:(kt,wt,yt)=>{te(yt)||nn(kt.element,"aria-valuetext",ye(["Saturation {0}%, Brightness {1}%",Math.floor(yt.x),Math.floor(100-yt.y)])),En(kt,v3,{value:yt})},onInit:(kt,wt,yt,$t)=>{xe(yt.element.dom,_N(SN))},sliderBehaviours:nt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(_e,Ve,nt)=>{((kt,wt)=>{const yt=kt.components()[0].element.dom,$t=j1(wt,100,100),dn=CN($t);xe(yt,_N(dn))})(Ve,nt)},setThumb:(_e,Ve,nt)=>{((kt,wt)=>{const yt=O_(Wd(wt));Kd.setValue(kt,{x:yt.saturation,y:100-yt.value}),nn(kt.element,"aria-valuetext",ye(["Saturation {0}%, Brightness {1}%",yt.saturation,yt.value]))})(Ve,nt)}},extraApis:{}})})(r,i),E={paletteRgba:Dn(SN),paletteHue:Dn(0)},I=ur(((ye,le)=>{const ie=Kd.parts.spectrum({dom:{tag:"div",classes:[le("hue-slider-spectrum")],attributes:{role:"presentation"}}}),he=Kd.parts.thumb({dom:{tag:"div",classes:[le("hue-slider-thumb")],attributes:{role:"presentation"}}});return Kd.sketch({dom:{tag:"div",classes:[le("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[ie,he],sliderBehaviours:Vt([Jn.config({})]),onChange:(xe,_e,Ve)=>{nn(xe.element,"aria-valuenow",Math.floor(360-3.6*Ve)),En(xe,aS,{value:Ve})}})})(0,i)),F=ur(k.sketch({})),B=ur(w.sketch({})),z=(ye,le,ie)=>{F.getOpt(ye).each(he=>{k.setHue(he,ie)})},G=(ye,le)=>{B.getOpt(ye).each(ie=>{w.updateHex(ie,le)})},J=(ye,le,ie)=>{I.getOpt(ye).each(he=>{Kd.setValue(he,(xe=>100-xe/360*100)(ie))})},ae=(ye,le)=>{F.getOpt(ye).each(ie=>{k.setThumb(ie,le)})},ue=(ye,le,ie,he)=>{((xe,_e)=>{const Ve=Wd(xe);E.paletteRgba.set(Ve),E.paletteHue.set(_e)})(le,ie),Tt(he,xe=>{xe(ye,le,ie)})};return{uid:v.uid,dom:v.dom,components:[F.asSpec(),I.asSpec(),B.asSpec()],behaviours:Vt([po("colour-picker-events",[Ct(G2,(()=>{const ye=[z,J,ae];return(le,ie)=>{const he=ie.event.hex,xe=(_e=>O_(Wd(_e)))(he);ue(le,he,xe.hue,ye)}})()),Ct(v3,(()=>{const ye=[G];return(le,ie)=>{const he=ie.event.value,xe=E.paletteHue.get(),_e=j1(xe,he.x,100-he.y),Ve=D_(_e);ue(le,Ve,xe,ye)}})()),Ct(aS,(()=>{const ye=[z,G];return(le,ie)=>{const he=(kt=>(100-kt)/100*360)(ie.event.value),xe=E.paletteRgba.get(),_e=O_(xe),Ve=j1(he,_e.saturation,_e.value),nt=D_(Ve);ue(le,nt,he,ye)}})())]),Ko.config({find:ye=>B.getOpt(ye)}),Tn.config({mode:"acyclic"})])}}}),rg=()=>Ko.config({find:P.some}),w3=r=>Ko.config({find:i=>Jr(i.element,r).bind(u=>i.getSystem().getByDom(u).toOptional())}),C3=Ln([rt("preprocess",de),rt("postprocess",de)]),_3=(r,i)=>{const u=bi("RepresentingConfigs.memento processors",C3,i);return lt.config({store:{mode:"manual",getValue:d=>{const b=r.get(d),v=lt.getValue(b);return u.postprocess(v)},setValue:(d,b)=>{const v=u.preprocess(b),w=r.get(d);lt.setValue(w,v)}}})},Zv=(r,i,u)=>lt.config({store:{mode:"manual",...r.map(d=>({initialValue:d})).getOr({}),getValue:i,setValue:u}}),S3=(r,i,u)=>Zv(r,d=>i(d.element),(d,b)=>u(d.element,b)),X2=r=>lt.config({store:{mode:"memory",initialValue:r}}),UF={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var E5=tinymce.util.Tools.resolve("tinymce.Resource");const k3=r=>no(r,"init");var yh=tinymce.util.Tools.resolve("tinymce.util.Tools");const E3=(r,i)=>{let u=null;const d=()=>{R(u)||(clearTimeout(u),u=null)};return{cancel:d,throttle:(...b)=>{d(),u=setTimeout(()=>{u=null,r.apply(null,b)},i)}}},A3=pn("alloy-fake-before-tabstop"),T3=pn("alloy-fake-after-tabstop"),A5=r=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:r},behaviours:Vt([Jn.config({ignore:!0}),Mr.config({})])}),O3=(r,i)=>({dom:{tag:"div",classes:["tox-navobj",...r.getOr([])]},components:[A5([A3]),i,A5([T3])],behaviours:Vt([w3(1)])}),D3=(r,i)=>{En(r,fs(),{raw:{which:9,shiftKey:i}})},WF=(r,i)=>{const u=i.element;Ji(u,A3)?D3(r,!0):Ji(u,T3)&&D3(r,!1)},J1=r=>G1(r,["."+A3,"."+T3].join(","),Oe),Pp=pn("update-dialog"),R3=pn("update-title"),T5=pn("update-body"),O5=pn("update-footer"),N3=pn("body-send-message"),cS=pn("dialog-focus-shifted"),I3=Xa().browser,Q1=I3.isSafari(),D5=I3.isFirefox(),P3=Q1||D5,R5=I3.isChromium(),ZF=({scrollTop:r,scrollHeight:i,clientHeight:u})=>Math.ceil(r)+u>=i,N5=(r,i)=>r.scrollTo(0,i==="bottom"?99999999:i),L3=(r,i,u)=>{const d=r.dom;P.from(d.contentDocument).fold(u,b=>{let v=0;const w=((E,I)=>{const F=E.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(I)&&(!R5&&!Q1||V(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(b,i).map(E=>(v=E.scrollTop,E)).forall(ZF),k=()=>{const E=d.contentWindow;V(E)&&(w?N5(E,"bottom"):!w&&P3&&v!==0&&N5(E,v))};Q1&&d.addEventListener("load",k,{once:!0}),b.open(),b.write(i),b.close(),Q1||k()})},B3=Xo(P3,Q1?500:200).map(r=>((i,u)=>{let d=null,b=null;return{cancel:()=>{R(d)||(clearTimeout(d),d=null,b=null)},throttle:(...v)=>{b=v,R(d)&&(d=setTimeout(()=>{const w=b;d=null,b=null,i.apply(null,w)},u))}}})(L3,r)),uS=pn("toolbar.button.execute"),Lp=pn("common-button-display-events"),M3={[gl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ni()]:["toolbar-button-events",Lp],[_c()]:["toolbar-button-events","dropdown-events","tooltipping"],[Dt()]:["focusing","alloy.base.behaviour",Lp]},dS=r=>ao(r.element,"width",ps(r.element,"width")),I5=(r,i,u)=>Mc(r,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},i),J2=(r,i)=>I5(r,i,[]),Bp=(r,i)=>I5(r,i,[$n.config({})]),F3=(r,i,u)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[As(u.translate(r))],behaviours:Vt([$n.config({})])}),xu=pn("update-menu-text"),rd=pn("update-menu-icon"),$3=(r,i,u,d)=>{const b=Dn(X),v=r.text.map(ae=>ur(F3(ae,i,u.providers))),w=r.icon.map(ae=>ur(Bp(ae,u.providers.icons))),k=(ae,ue)=>{const ye=lt.getValue(ae);return Jn.focus(ye),En(ye,"keydown",{raw:ue.event.raw}),xl.close(ye),P.some(!0)},E=r.role.fold(()=>({}),ae=>({role:ae})),I=P.from(r.listRole).map(ae=>({listRole:ae})).getOr({}),F=r.ariaLabel.fold(()=>({}),ae=>({"aria-label":u.providers.translate(ae)})),B=Mc("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},u.providers.icons),z=pn("common-button-display-events"),G="dropdown-events";return ur(xl.sketch({...r.uid?{uid:r.uid}:{},...E,...I,dom:{tag:"button",classes:[i,`${i}--select`].concat(Je(r.classes,ae=>`${i}--${ae}`)),attributes:{...F,...V(d)?{"data-mce-name":d}:{}}},components:z1([w.map(ae=>ae.asSpec()),v.map(ae=>ae.asSpec()),P.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(ae,ue,ye)=>{r.searchable&&(le=>{ZR(le).each(ie=>Jn.focus(ie))})(ye)},dropdownBehaviours:Vt([...r.dropdownBehaviours,wi(()=>r.disabled||u.providers.isDisabled()),Ea(),Vv.config({}),$n.config({}),...r.tooltip.map(ae=>Gs.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(ae)}))).toArray(),po(G,[Ep(r,b),mh(r,b)]),po(z,[Gr((ae,ue)=>r.listRole==="listbox"?X:dS(ae))]),po("menubutton-update-display-text",[Ct(xu,(ae,ue)=>{v.bind(ye=>ye.getOpt(ae)).each(ye=>{$n.set(ye,[As(u.providers.translate(ue.event.text))])})}),Ct(rd,(ae,ue)=>{w.bind(ye=>ye.getOpt(ae)).each(ye=>{$n.set(ye,[Bp(ue.event.icon,u.providers.icons)])})})])]),eventOrder:Ar(M3,{[Dt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ni()]:["toolbar-button-events",Gs.name(),G,z]}),sandboxBehaviours:Vt([Tn.config({mode:"special",onLeft:k,onRight:k}),po("dropdown-sandbox-events",[Ct(VR,(ae,ue)=>{(ye=>{const le=lt.getValue(ye),ie=T2(ye).map(jR);xl.refetch(le).get(()=>{const he=Ts.getCoupled(le,"sandbox");ie.each(xe=>T2(he).each(_e=>((Ve,nt)=>{lt.setValue(Ve,nt.fetchPattern),Ve.element.dom.selectionStart=nt.selectionStart,Ve.element.dom.selectionEnd=nt.selectionEnd})(_e,xe)))})})(ae),ue.stop()}),Ct(UR,(ae,ue)=>{((ye,le)=>{(ie=>T.getState(ie).bind(mr.getHighlighted).bind(mr.getHighlighted))(ye).each(ie=>{((he,xe,_e,Ve)=>{const nt={...Ve,target:xe};he.getSystem().triggerEvent(_e,xe,nt)})(ye,ie.element,le.event.eventType,le.event.interactionEvent)})})(ae,ue),ue.stop()})])]),lazySink:u.getSink,toggleClass:`${i}--active`,parts:{menu:{...p_(0,r.columns,r.presets),fakeFocus:r.searchable,...r.listRole==="listbox"?{}:{onHighlightItem:jN,onCollapseMenu:(ae,ue,ye)=>{mr.getHighlighted(ye).each(le=>{jN(ae,ye,le)})},onDehighlightItem:mF}}},getAnchorOverrides:()=>({maxHeightFunction:(ae,ue)=>{Fm()(ae,ue-10)}}),fetch:ae=>Ap(Ue(r.fetch,ae))})).asSpec()},fS=r=>r.type==="separator",mS={type:"separator"},P5=(r,i)=>{const u=((d,b)=>{const v=gn(d,(w,k)=>(E=>h(E))(k)?k===""?w:k==="|"?w.length>0&&!fS(w[w.length-1])?w.concat([mS]):w:no(b,k.toLowerCase())?w.concat([b[k.toLowerCase()]]):w:w.concat([k]),[]);return v.length>0&&fS(v[v.length-1])&&v.pop(),v})(h(r)?r.split(" "):r,i);return Xn(u,(d,b)=>{if((v=>no(v,"getSubmenuItems"))(b)){const v=(k=>{const E=yn(k,"value").getOrThunk(()=>pn("generated-menu-item"));return Ar({value:E},k)})(b),w=((k,E)=>{const I=k.getSubmenuItems(),F=P5(I,E);return{item:k,menus:Ar(F.menus,{[k.value]:F.items}),expansions:Ar(F.expansions,{[k.value]:k.value})}})(v,i);return{menus:Ar(d.menus,w.menus),items:[w.item,...d.items],expansions:Ar(d.expansions,w.expansions)}}return{...d,items:[b,...d.items]}},{menus:{},expansions:{},items:[]})},jv=(r,i,u,d)=>{const b=pn("primary-menu"),v=P5(r,u.shared.providers.menuItems());if(v.items.length===0)return P.none();const w=(B=>B.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(d),k=KN(b,v.items,i,u,d.isHorizontalMenu,w),E=(B=>B.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(d),I=zn(v.menus,(B,z)=>KN(z,B,i,u,!1,E)),F=Ar(I,ou(b,k));return P.from(lh.tieredData(b,F,v.expansions))},Q2=r=>!no(r,"items"),H3="data-value",gS=(r,i,u,d,b)=>Je(u,v=>Q2(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{lt.setValue(r,v.value),En(r,rl,{name:i}),Jn.focus(r)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>gS(r,i,v.items,d,b)}),hS=(r,i)=>on(r,u=>Q2(u)?Xo(u.value===i,u):hS(u.items,i)),jF=gu({name:"HtmlSelect",configFields:[Ot("options"),bn("selectBehaviours",[Jn,lt]),rt("selectClasses",[]),rt("selectAttributes",{}),Bo("data")],factory:(r,i)=>{const u=Je(r.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),d=r.data.map(b=>ou("initialValue",b)).getOr({});return{uid:r.uid,dom:{tag:"select",classes:r.selectClasses,attributes:r.selectAttributes},components:u,behaviours:ho(r.selectBehaviours,[Jn.config({}),lt.config({store:{mode:"manual",getValue:b=>Of(b.element),setValue:(b,v)=>{const w=De(r.options);Q(r.options,k=>k.value===v).isSome()?Rm(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&w.each(k=>Rm(b.element,k.value))},...d}})])}}}),L5=j([rt("field1Name","field1"),rt("field2Name","field2"),Zu("onLockedChange"),Zg(["lockClass"]),rt("locked",!1),Qn("coupledFieldBehaviours",[Ko,lt])]),z3=(r,i)=>yl({factory:br,name:r,overrides:u=>({fieldBehaviours:Vt([po("coupled-input-behaviour",[Ct(_m(),d=>{((b,v,w)=>zr(b,v,w).bind(Ko.getCurrent))(d,u,i).each(b=>{zr(d,u,"lock").each(v=>{Kn.isOn(v)&&u.onLockedChange(d,b,v)})})})])])})}),B5=j([z3("field1","field2"),z3("field2","field1"),yl({factory:Bi,schema:[Ot("dom")],name:"lock",overrides:r=>({buttonBehaviours:Vt([Kn.config({selected:r.locked,toggleClass:r.markers.lockClass,aria:{mode:"pressed"}})])})})]),Hc=Ol({name:"FormCoupledInputs",configFields:L5(),partFields:B5(),factory:(r,i,u,d)=>({uid:r.uid,dom:r.dom,components:i,behaviours:Wn(r.coupledFieldBehaviours,[Ko.config({find:P.some}),lt.config({store:{mode:"manual",getValue:b=>{const v=uE(b,r,["field1","field2"]);return{[r.field1Name]:lt.getValue(v.field1()),[r.field2Name]:lt.getValue(v.field2())}},setValue:(b,v)=>{const w=uE(b,r,["field1","field2"]);bo(v,r.field1Name)&&lt.setValue(w.field1(),v[r.field1Name]),bo(v,r.field2Name)&&lt.setValue(w.field2(),v[r.field2Name])}}})]),apis:{getField1:b=>zr(b,r,"field1"),getField2:b=>zr(b,r,"field2"),getLock:b=>zr(b,r,"lock")}}),apis:{getField1:(r,i)=>r.getField1(i),getField2:(r,i)=>r.getField2(i),getLock:(r,i)=>r.getLock(i)}}),V3=r=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(r);if(i!==null){const u=parseFloat(i[1]),d=i[2];return Ao.value({value:u,unit:d})}return Ao.error(r)},U3=(r,i)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=b=>no(u,b);return r.unit===i?P.some(r.value):d(r.unit)&&d(i)?u[r.unit]===u[i]?P.some(r.value):P.some(r.value/u[r.unit]*u[i]):P.none()},W3=r=>P.none(),M5=(r,i)=>{const u=r.label.map(F=>Op(F,i)),d=[eo.config({disabled:()=>r.disabled||i.isDisabled()}),Ea(),Tn.config({mode:"execution",useEnter:r.multiline!==!0,useControlEnter:r.multiline===!0,execute:F=>(wo(F,j2),P.some(!0))}),po("textfield-change",[Ct(_m(),(F,B)=>{En(F,rl,{name:r.name})}),Ct(Qy(),(F,B)=>{En(F,rl,{name:r.name})})]),Mr.config({})],b=r.validation.map(F=>eg.config({getRoot:B=>gi(B.element),invalidClass:"tox-invalid",validator:{validate:B=>{const z=lt.getValue(B),G=F.validator(z);return Qm(G===!0?Ao.value(z):Ao.error(G))},validateOnLoad:F.validateOnLoad}})).toArray(),v={...r.placeholder.fold(j({}),F=>({placeholder:i.translate(F)})),...r.inputMode.fold(j({}),F=>({inputmode:F})),"data-mce-name":r.name},w=br.parts.field({tag:r.multiline===!0?"textarea":"input",...r.data.map(F=>({data:F})).getOr({}),inputAttributes:v,inputClasses:[r.classname],inputBehaviours:Vt($o([d,b])),selectOnFocus:!1,factory:fh}),k=r.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(r.flex?["tox-form__group--stretched"]:[]).concat(r.maximized?["tox-form-group--maximize"]:[]),I=[eo.config({disabled:()=>r.disabled||i.isDisabled(),onDisabled:F=>{br.getField(F).each(eo.disable)},onEnabled:F=>{br.getField(F).each(eo.enable)}}),Ea()];return Z2(u,k,E,I)},ew=(r,i)=>i.getAnimationRoot.fold(()=>r.element,u=>u(r)),xh=r=>r.dimension.property,Mp=(r,i)=>r.dimension.getDimension(i),Fp=(r,i)=>{const u=ew(r,i);Ql(u,[i.shrinkingClass,i.growingClass])},pS=(r,i)=>{xs(r.element,i.openClass),ms(r.element,i.closedClass),ao(r.element,xh(i),"0px"),wd(r.element)},Z3=(r,i)=>{xs(r.element,i.closedClass),ms(r.element,i.openClass),fr(r.element,xh(i))},F5=(r,i,u,d)=>{u.setCollapsed(),ao(r.element,xh(i),Mp(i,r.element)),Fp(r,i),pS(r,i),i.onStartShrink(r),i.onShrunk(r)},KF=(r,i,u,d)=>{const b=d.getOrThunk(()=>Mp(i,r.element));u.setCollapsed(),ao(r.element,xh(i),b),wd(r.element);const v=ew(r,i);xs(v,i.growingClass),ms(v,i.shrinkingClass),pS(r,i),i.onStartShrink(r)},$5=(r,i,u)=>{const d=Mp(i,r.element);(d==="0px"?F5:KF)(r,i,u,P.some(d))},H5=(r,i,u)=>{const d=ew(r,i),b=Ji(d,i.shrinkingClass),v=Mp(i,r.element);Z3(r,i);const w=Mp(i,r.element);(b?()=>{ao(r.element,xh(i),v),wd(r.element)}:()=>{pS(r,i)})(),xs(d,i.shrinkingClass),ms(d,i.growingClass),Z3(r,i),ao(r.element,xh(i),w),u.setExpanded(),i.onStartGrow(r)},tw=(r,i,u)=>{const d=ew(r,i);return Ji(d,i.growingClass)===!0},z5=(r,i,u)=>{const d=ew(r,i);return Ji(d,i.shrinkingClass)===!0};var V5=Object.freeze({__proto__:null,refresh:(r,i,u)=>{if(u.isExpanded()){fr(r.element,xh(i));const d=Mp(i,r.element);ao(r.element,xh(i),d)}},grow:(r,i,u)=>{u.isExpanded()||H5(r,i,u)},shrink:(r,i,u)=>{u.isExpanded()&&$5(r,i,u)},immediateShrink:(r,i,u)=>{u.isExpanded()&&F5(r,i,u)},hasGrown:(r,i,u)=>u.isExpanded(),hasShrunk:(r,i,u)=>u.isCollapsed(),isGrowing:tw,isShrinking:z5,isTransitioning:(r,i,u)=>tw(r,i)||z5(r,i),toggleGrow:(r,i,u)=>{(u.isExpanded()?$5:H5)(r,i,u)},disableTransitions:Fp,immediateGrow:(r,i,u)=>{u.isExpanded()||(Z3(r,i),ao(r.element,xh(i),Mp(i,r.element)),Fp(r,i),u.setExpanded(),i.onStartGrow(r),i.onGrown(r))}}),qF=Object.freeze({__proto__:null,exhibit:(r,i,u)=>{const d=i.expanded;return Ps(d?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:ou(i.dimension.property,"0px")})},events:(r,i)=>lo([Ef(Tb(),(u,d)=>{d.event.raw.propertyName===r.dimension.property&&(Fp(u,r),i.isExpanded()&&fr(u.element,r.dimension.property),(i.isExpanded()?r.onGrown:r.onShrunk)(u))})])}),U5=[Ot("closedClass"),Ot("openClass"),Ot("shrinkingClass"),Ot("growingClass"),Bo("getAnimationRoot"),Uo("onShrunk"),Uo("onStartShrink"),Uo("onGrown"),Uo("onStartGrow"),rt("expanded",!1),Fa("dimension",aa("property",{width:[$r("property","width"),$r("getDimension",r=>wa(r)+"px")],height:[$r("property","height"),$r("getDimension",r=>bs(r)+"px")]}))];const zl=ka({fields:U5,name:"sliding",active:qF,apis:V5,state:Object.freeze({__proto__:null,init:r=>{const i=Dn(r.expanded);return Sa({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:Ue(i.set,!1),setExpanded:Ue(i.set,!0),readState:()=>"expanded: "+i.get()})}})}),W5=r=>({isEnabled:()=>!eo.isDisabled(r),setEnabled:i=>eo.set(r,!i),setActive:i=>{const u=r.element;i?(ms(u,"tox-tbtn--enabled"),nn(u,"aria-pressed",!0)):(xs(u,"tox-tbtn--enabled"),xo(u,"aria-pressed"))},isActive:()=>Ji(r.element,"tox-tbtn--enabled"),setText:i=>{En(r,xu,{text:i})},setIcon:i=>En(r,rd,{icon:i})}),ey=(r,i,u,d,b=!0,v)=>$3({text:r.text,icon:r.icon,tooltip:r.tooltip,ariaLabel:r.tooltip,searchable:r.search.isSome(),role:d,fetch:(w,k)=>{const E={pattern:r.search.isSome()?zv(w):""};r.fetch(I=>{k(jv(I,qf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:r.search}))},E,W5(w))},onSetup:r.onSetup,getApi:W5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[Mr.config({})]:[]]},i,u.shared,v),Z5=(r,i,u)=>{const d=v=>w=>{const k=!w.isActive();w.setActive(k),v.storage.set(k),u.shared.getSink().each(E=>{i().getOpt(E).each(I=>{Ii(I.element),En(I,Yf,{name:v.name,value:v.storage.get()})})})},b=v=>w=>{w.setActive(v.storage.get())};return v=>{v(Je(r,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:d(w),onSetup:b(w)}}))}},j3=r=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":r}},components:[As(r)]}),K3=pn("leaf-label-event-id"),q3=({leaf:r,onLeafAction:i,visible:u,treeId:d,selectedId:b,backstage:v})=>{const w=r.menu.map(E=>ey(E,"tox-mbtn",v,P.none(),u)),k=[j3(r.title)];return w.each(E=>k.push(E)),Bi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{i(r.id),E.getSystem().broadcastOn([`update-active-item-${d}`],{value:r.id})},eventOrder:{[fs()]:[K3,"keying"]},buttonBehaviours:Vt([...u?[Mr.config({})]:[],Kn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),bl.config({channels:{[`update-active-item-${d}`]:{onReceive:(E,I)=>{(I.value===r.id?Kn.on:Kn.off)(E)}}}}),po(K3,[Gr((E,I)=>{b.each(F=>{(F===r.id?Kn.on:Kn.off)(E)})}),Ct(fs(),(E,I)=>{const F=I.event.raw.code==="ArrowLeft",B=I.event.raw.code==="ArrowRight";F?(Im(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(G=>{r1(z,".tox-tree--directory__label").each(J=>{G.getSystem().getByDom(J).each(Jn.focus)})})}),I.stop()):B&&I.stop()})])])})},j5=pn("directory-label-event-id"),GF=({directory:r,visible:i,noChildren:u,backstage:d})=>{const b=r.menu.map(I=>ey(I,"tox-mbtn",d,P.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=d.shared.providers.icons,((I,F,B)=>Mc(I,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(w,k))]},j3(r.title)];var w,k;b.each(I=>{v.push(I)});const E=I=>{Im(I.element,".tox-tree--directory").each(F=>{I.getSystem().getByDom(F).each(B=>{const z=!Kn.isOn(B);Kn.toggle(B),En(I,"expand-tree-node",{expanded:z,node:r.id})})})};return Bi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(i?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[fs()]:[j5,"keying"]},buttonBehaviours:Vt([...i?[Mr.config({})]:[],po(j5,[Ct(fs(),(I,F)=>{const B=F.event.raw.code==="ArrowRight",z=F.event.raw.code==="ArrowLeft";B&&u&&F.stop(),(B||z)&&Im(I.element,".tox-tree--directory").each(G=>{I.getSystem().getByDom(G).each(J=>{!Kn.isOn(J)&&B||Kn.isOn(J)&&z?(E(I),F.stop()):z&&!Kn.isOn(J)&&(Im(J.element,".tox-tree--directory").each(ae=>{r1(ae,".tox-tree--directory__label").each(ue=>{J.getSystem().getByDom(ue).each(Jn.focus)})}),F.stop())})})})])])})},YF=({children:r,onLeafAction:i,visible:u,treeId:d,expandedIds:b,selectedId:v,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:r.map(k=>k.type==="leaf"?q3({leaf:k,selectedId:v,onLeafAction:i,visible:u,treeId:d,backstage:w}):bS({directory:k,expandedIds:b,selectedId:v,onLeafAction:i,labelTabstopping:u,treeId:d,backstage:w})),behaviours:Vt([zl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),$n.config({})])}),K5=pn("directory-event-id"),bS=({directory:r,onLeafAction:i,labelTabstopping:u,treeId:d,backstage:b,expandedIds:v,selectedId:w})=>{const{children:k}=r,E=Dn(v),I=v.includes(r.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[GF({directory:r,visible:u,noChildren:r.children.length===0,backstage:b}),YF({children:k,expandedIds:v,selectedId:w,onLeafAction:i,visible:I,treeId:d,backstage:b})],behaviours:Vt([po(K5,[Gr((F,B)=>{Kn.set(F,I)}),Ct("expand-tree-node",(F,B)=>{const{expanded:z,node:G}=B.event;E.set(z?[...E.get(),G]:E.get().filter(J=>J!==G))})]),Kn.config({...r.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,B)=>{const z=F.components()[1],G=(J=B,k.map(ae=>ae.type==="leaf"?q3({leaf:ae,selectedId:w,onLeafAction:i,visible:J,treeId:d,backstage:b}):bS({directory:ae,expandedIds:E.get(),selectedId:w,onLeafAction:i,labelTabstopping:J,treeId:d,backstage:b})));var J;B?zl.grow(z):zl.shrink(z),$n.set(z,G)}})])}},XF=pn("tree-event-id");var JF=Object.freeze({__proto__:null,events:(r,i)=>{const u=r.stream.streams.setup(r,i);return lo([Ct(r.event,u),Wu(()=>i.cancel())].concat(r.cancelEvent.map(d=>[Ct(d,()=>i.cancel())]).getOr([])))}});const q5=r=>{const i=Dn(null);return Sa({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:u=>{i.set(u)},cancel:()=>{const u=i.get();u!==null&&u.cancel()}})};var QF=Object.freeze({__proto__:null,throttle:q5,init:r=>r.stream.streams.state(r)}),e7=[Fa("stream",aa("mode",{throttle:[Ot("delay"),rt("stopEvent",!0),$r("streams",{setup:(r,i)=>{const u=r.stream,d=E3(r.onStream,u.delay);return i.setTimer(d),(b,v)=>{d.throttle(b,v),u.stopEvent&&v.stop()}},state:q5})]})),rt("event","input"),Bo("cancelEvent"),Zu("onStream")];const G3=ka({fields:e7,name:"streaming",active:JF,state:QF}),vS=(r,i,u)=>{const d=lt.getValue(u);lt.setValue(i,d),Y3(i)},yS=(r,i)=>{const u=r.element,d=Of(u),b=u.dom;Ro(u,"type")!=="number"&&i(b,d)},Y3=r=>{yS(r,(i,u)=>i.setSelectionRange(u.length,u.length))},X3=j("alloy.typeahead.itemexecute"),t7=j([Bo("lazySink"),Ot("fetch"),rt("minChars",5),rt("responseTime",1e3),Uo("onOpen"),rt("getHotspot",P.some),rt("getAnchorOverrides",j({})),rt("layouts",P.none()),rt("eventOrder",{}),Ni("model",{},[rt("getDisplayText",r=>r.meta!==void 0&&r.meta.text!==void 0?r.meta.text:r.value),rt("selectsOver",!0),rt("populateFromBrowse",!0)]),Uo("onSetValue"),hl("onExecute"),Uo("onItemExecute"),rt("inputClasses",[]),rt("inputAttributes",{}),rt("inputStyles",{}),rt("matchWidth",!0),rt("useMinWidth",!1),rt("dismissOnBlur",!0),Zg(["openClass"]),Bo("initialData"),Bo("listRole"),bn("typeaheadBehaviours",[Jn,lt,G3,Tn,Kn,Ts]),Ma("lazyTypeaheadComp",()=>Dn(P.none)),Ma("previewing",()=>Dn(!0))].concat(M8()).concat(ZA())),G5=j([zd({schema:[Wg()],name:"menu",overrides:r=>({fakeFocus:!0,onHighlightItem:(i,u,d)=>{r.previewing.get()?r.lazyTypeaheadComp.get().each(b=>{((v,w,k)=>{if(v.selectsOver){const E=lt.getValue(w),I=v.getDisplayText(E),F=lt.getValue(k);return v.getDisplayText(F).indexOf(I)===0?P.some(()=>{vS(0,w,k),((B,z)=>{yS(B,(G,J)=>G.setSelectionRange(z,J.length))})(w,I.length)}):P.none()}return P.none()})(r.model,b,d).fold(()=>{r.model.selectsOver?(mr.dehighlight(u,d),r.previewing.set(!0)):r.previewing.set(!1)},v=>{v(),r.previewing.set(!1)})}):r.lazyTypeaheadComp.get().each(b=>{r.model.populateFromBrowse&&vS(r.model,b,d),Ho(d.element,"id").each(v=>nn(b.element,"aria-activedescendant",v))})},onExecute:(i,u)=>r.lazyTypeaheadComp.get().map(d=>(En(d,X3(),{item:u}),!0)),onHover:(i,u)=>{r.previewing.set(!1),r.lazyTypeaheadComp.get().each(d=>{r.model.populateFromBrowse&&vS(r.model,d,u)})}})})]),n7=Ol({name:"Typeahead",configFields:t7(),partFields:G5(),factory:(r,i,u,d)=>{const b=(B,z,G)=>{r.previewing.set(!1);const J=Ts.getCoupled(B,"sandbox");if(T.isOpen(J))Ko.getCurrent(J).each(ae=>{mr.getHighlighted(ae).fold(()=>{G(ae)},()=>{kc(J,ae.element,"keydown",z)})});else{const ae=ue=>{Ko.getCurrent(ue).each(G)};P_(r,w(B),B,J,d,ae,ol.HighlightMenuAndItem).get(X)}},v=F8(r),w=B=>z=>z.map(G=>{const J=Pa(G.menus),ae=Do(J,ue=>jn(ue.items,ye=>ye.type==="item"));return lt.getState(B).update(Je(ae,ue=>ue.data)),G}),k=B=>Ko.getCurrent(B),E="typeaheadevents",I=[Jn.config({}),lt.config({onSetValue:r.onSetValue,store:{mode:"dataset",getDataKey:B=>Of(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,z)=>{Rm(B.element,r.model.getDisplayText(z))},...r.initialData.map(B=>ou("initialValue",B)).getOr({})}}),G3.config({stream:{mode:"throttle",delay:r.responseTime,stopEvent:!1},onStream:(B,z)=>{const G=Ts.getCoupled(B,"sandbox");if(Jn.isFocused(B)&&Of(B.element).length>=r.minChars){const J=k(G).bind(ue=>mr.getHighlighted(ue).map(lt.getValue));r.previewing.set(!0);const ae=ue=>{k(G).each(ye=>{J.fold(()=>{r.model.selectsOver&&mr.highlightFirst(ye)},le=>{mr.highlightBy(ye,ie=>lt.getValue(ie).value===le.value),mr.getHighlighted(ye).orThunk(()=>(mr.highlightFirst(ye),P.none()))})})};P_(r,w(B),B,G,d,ae,ol.HighlightJustMenu).get(X)}},cancelEvent:Dd()}),Tn.config({mode:"special",onDown:(B,z)=>(b(B,z,mr.highlightFirst),P.some(!0)),onEscape:B=>{const z=Ts.getCoupled(B,"sandbox");return T.isOpen(z)?(T.close(z),P.some(!0)):P.none()},onUp:(B,z)=>(b(B,z,mr.highlightLast),P.some(!0)),onEnter:B=>{const z=Ts.getCoupled(B,"sandbox"),G=T.isOpen(z);if(G&&!r.previewing.get())return k(z).bind(J=>mr.getHighlighted(J)).map(J=>(En(B,X3(),{item:J}),!0));{const J=lt.getValue(B);return wo(B,Dd()),r.onExecute(z,B,J),G&&T.close(z),P.some(!0)}}}),Kn.config({toggleClass:r.markers.openClass,aria:{mode:"expanded"}}),Ts.config({others:{sandbox:B=>WA(r,B,{onOpen:()=>Kn.on(B),onClose:()=>{r.lazyTypeaheadComp.get().each(z=>xo(z.element,"aria-activedescendant")),Kn.off(B)}})}}),po(E,[Gr(B=>{r.lazyTypeaheadComp.set(P.some(B))}),Wu(B=>{r.lazyTypeaheadComp.set(P.none())}),au(B=>{const z=X;VA(r,w(B),B,d,z,ol.HighlightMenuAndItem).get(X)}),Ct(X3(),(B,z)=>{const G=Ts.getCoupled(B,"sandbox");vS(r.model,B,z.event.item),wo(B,Dd()),r.onItemExecute(B,G,z.event.item,lt.getValue(B)),T.close(G),Y3(B)})].concat(r.dismissOnBlur?[Ct(jh(),B=>{const z=Ts.getCoupled(B,"sandbox");Ms(z.element).isNone()&&T.close(z)})]:[]))],F={[_c()]:[lt.name(),G3.name(),E],...r.eventOrder};return{uid:r.uid,dom:zR(Ar(r,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...ho(r.typeaheadBehaviours,I)},eventOrder:F}}}),Kv=r=>({...r,toCached:()=>Kv(r.toCached()),bindFuture:i=>Kv(r.bind(u=>u.fold(d=>Qm(Ao.error(d)),d=>i(d)))),bindResult:i=>Kv(r.map(u=>u.bind(i))),mapResult:i=>Kv(r.map(u=>u.map(i))),mapError:i=>Kv(r.map(u=>u.mapError(i))),foldResult:(i,u)=>r.map(d=>d.fold(i,u)),withTimeout:(i,u)=>Kv(Ap(d=>{let b=!1;const v=setTimeout(()=>{b=!0,d(Ao.error(u()))},i);r.get(w=>{b||(clearTimeout(v),d(w))})}))}),Y5=r=>Kv(Ap(r)),nw=(r,i,u=[],d,b,v,w)=>{const k=i.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Vt([wi(()=>!r.enabled||w.isDisabled()),Ea(),Mr.config({}),...v.map(F=>Gs.config(w.tooltips.getConfig({tooltipText:w.translate(F)}))).toArray(),po("button press",[cC("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},I=Ar(E,{dom:d});return Ar(I,{components:b})},X5=(r,i,u,d=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...r.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":b}},w=r.icon.map(E=>J2(E,u.icons)),k=z1([w]);return nw(r,i,d,v,k,r.tooltip,u)},J3=r=>{switch(r){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},J5=(r,i,u,d=[],b=[])=>{const v=u.translate(r.text),w=r.icon.map(B=>J2(B,u.icons)),k=[w.getOrThunk(()=>As(v))],E=r.buttonType.getOr(r.primary||r.borderless?"primary":"secondary"),I={tag:"button",classes:[...J3(E),...w.isSome()?["tox-button--icon"]:[],...r.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":r.text}},F=r.icon.map(j(v));return nw(r,i,d,I,k,F,u)},Q5=(r,i,u,d=[],b=[])=>{const v=J5(r,P.some(i),u,d,b);return Bi.sketch(v)},Q3=(r,i)=>u=>{i==="custom"?En(u,Yf,{name:r,value:{}}):i==="submit"?wo(u,j2):i==="cancel"?wo(u,ph):console.error("Unknown button type: ",i)},ty=(r,i,u)=>{if(((d,b)=>b==="menu")(0,i)){const d=()=>w,b=r,v={...r,type:"menubutton",search:P.none(),onSetup:k=>(k.setEnabled(r.enabled),X),fetch:Z5(b.items,d,u)},w=ur(ey(v,"tox-tbtn",u,P.none(),!0,r.text.or(r.tooltip).getOrUndefined()));return w.asSpec()}if(((d,b)=>b==="custom"||b==="cancel"||b==="submit")(0,i)){const d=Q3(r.name,i),b={...r,borderless:!1};return Q5(b,d,u.shared.providers,[])}if(((d,b)=>b==="togglebutton")(0,i))return((d,b,v)=>{var w,k;const E=d.icon.map(ie=>Bp(ie,b.icons)).map(ur),I=d.buttonType.getOr(d.primary?"primary":"secondary"),F={...d,name:(w=d.name)!==null&&w!==void 0?w:"",tooltip:d.tooltip,enabled:(k=d.enabled)!==null&&k!==void 0&&k},B=F.tooltip.or(d.text).map(ie=>({"aria-label":b.translate(ie)})).getOr({}),z=J3(I??"secondary"),G=d.icon.isSome()&&d.text.isSome(),J={tag:"button",classes:[...z.concat(d.icon.isSome()?["tox-button--icon"]:[]),...d.active?["tox-button--enabled"]:[],...G?["tox-button--icon-and-text"]:[]],attributes:{...B,...V(v)?{"data-mce-name":v}:{}}},ae=b.translate(d.text.getOr("")),ue=As(ae),ye=[...z1([E.map(ie=>ie.asSpec())]),...d.text.isSome()?[ue]:[]],le=nw(F,P.some(ie=>{En(ie,Yf,{name:d.name,value:{setIcon:he=>{E.map(xe=>xe.getOpt(ie).each(_e=>{$n.set(_e,[Bp(he,b.icons)])}))}}})}),[],J,ye,d.tooltip,b);return Bi.sketch(le)})(r,u.shared.providers,r.text.or(r.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},o7={type:"separator"},r7=r=>({type:"menuitem",value:r.url,text:r.title,meta:{attach:r.attach},onAction:X}),eT=(r,i)=>({type:"menuitem",value:i,text:r,meta:{attach:void 0},onAction:X}),eI=(r,i)=>(u=>Je(u,r7))(((u,d)=>jn(d,b=>b.type===u))(r,i)),s7=r=>eI("header",r.targets),a7=r=>eI("anchor",r.targets),tI=r=>P.from(r.anchorTop).map(i=>eT("<top>",i)).toArray(),nI=r=>P.from(r.anchorBottom).map(i=>eT("<bottom>",i)).toArray(),tT=(r,i)=>{const u=r.toLowerCase();return jn(i,d=>{var b;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,w=(b=d.value)!==null&&b!==void 0?b:"";return Ws(v.toLowerCase(),u)||Ws(w.toLowerCase(),u)})},oI=pn("aria-invalid"),i7=(r,i)=>{r.dom.checked=i},zc=r=>r.dom.checked,ls=r=>(i,u,d,b,v)=>yn(u,"name").fold(()=>r(u,b,P.none(),v),w=>i.field(w,r(u,b,yn(d,w),v))),l7={bar:ls((r,i)=>((u,d)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Je(u.items,d.interpreter)}))(r,i.shared)),collection:ls((r,i,u)=>QN(r,i.shared.providers,u)),alertbanner:ls((r,i)=>((u,d)=>{const b=NR(u.icon,d.icons);return Zd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:b},components:u.url?[Bi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:d.translate(u.iconTooltip)}},action:v=>En(v,Yf,{name:"alert-banner",value:u.url}),buttonBehaviours:Vt([m_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:d.translate(u.text)}}]})})(r,i.shared.providers)),input:ls((r,i,u)=>((d,b,v)=>M5({name:d.name,multiline:!1,label:d.label,inputMode:d.inputMode,placeholder:d.placeholder,flex:!1,disabled:!d.enabled,classname:"tox-textfield",validation:P.none(),maximized:d.maximized,data:v},b))(r,i.shared.providers,u)),textarea:ls((r,i,u)=>((d,b,v)=>M5({name:d.name,multiline:!0,label:d.label,inputMode:P.none(),placeholder:d.placeholder,flex:!0,disabled:!d.enabled,classname:"tox-textarea",validation:P.none(),maximized:d.maximized,data:v},b))(r,i.shared.providers,u)),label:ls((r,i,u,d)=>((b,v,w)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],I=b.align==="end"?[`${k}--end`]:[],F=ur({dom:{tag:"label",classes:[k,...E,...I]},components:[As(v.providers.translate(b.label))]}),B=Je(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...B],behaviours:Vt([rg(),$n.config({}),(z=P.none(),S3(z,Id,zg)),Tn.config({mode:"acyclic"}),po("label",[Gr(G=>{b.for.each(J=>{w(J).each(ae=>{F.getOpt(G).each(ue=>{var ye;const le=(ye=Ro(ae.element,"id"))!==null&&ye!==void 0?ye:pn("form-field");nn(ae.element,"id",le),nn(ue.element,"for",le)})})})})])])};var z})(r,i.shared,d)),iframe:(CT=(r,i,u)=>((d,b,v)=>{const w="tox-dialog__iframe",k=d.transparent?[]:[`${w}--opaque`],E=d.border?["tox-navobj-bordered"]:[],I={...d.label.map(G=>({title:G})).getOr({}),...v.map(G=>({srcdoc:G})).getOr({}),...d.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((G,J)=>{const ae=Dn(G.getOr(""));return{getValue:ue=>ae.get(),setValue:(ue,ye)=>{if(ae.get()!==ye){const le=ue.element,ie=()=>nn(le,"srcdoc",ye);J?B3.fold(j(L3),he=>he.throttle)(le,ye,ie):ie()}ae.set(ye)}}})(v,d.streamContent),B=d.label.map(G=>Op(G,b)),z=br.parts.field({factory:{sketch:G=>O3(P.from(E),{uid:G.uid,dom:{tag:"iframe",attributes:I,classes:[w,...k]},behaviours:Vt([Mr.config({}),Jn.config({}),Zv(v,F.getValue,F.setValue),bl.config({channels:{[cS]:{onReceive:(J,ae)=>{ae.newFocus.each(ue=>{gi(J.element).each(ye=>{(Jo(J.element,ue)?ms:xs)(ye,"tox-navobj-bordered-focus")})})}}}})])})}});return Z2(B,z,["tox-form__group--stretched"],[])})(r,i.shared.providers,u),(r,i,u,d,b)=>{const v=Ar(i,{source:"dynamic"});return ls(CT)(r,v,u,d,b)}),button:ls((r,i)=>((u,d)=>{const b=Q3(u.name,"custom");return v=P.none(),w=br.parts.field({factory:Bi,...J5(u,P.some(b),d,[X2(""),rg()])}),Z2(v,w,[],[]);var v,w})(r,i.shared.providers)),checkbox:ls((r,i,u)=>((d,b,v)=>{const w=B=>(B.element.dom.click(),P.some(!0)),k=br.parts.field({factory:{sketch:de},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Vt([rg(),eo.config({disabled:()=>!d.enabled||b.isDisabled(),onDisabled:B=>{gi(B.element).each(z=>ms(z,"tox-checkbox--disabled"))},onEnabled:B=>{gi(B.element).each(z=>xs(z,"tox-checkbox--disabled"))}}),Mr.config({}),Jn.config({}),S3(v,zc,i7),Tn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),po("checkbox-events",[Ct(Sm(),(B,z)=>{En(B,rl,{name:d.name})})])])}),E=br.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[As(b.translate(d.label))],behaviours:Vt([Vv.config({})])}),I=B=>Mc(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},b.icons),F=ur({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[I("checked"),I("unchecked")]});return br.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Vt([eo.config({disabled:()=>!d.enabled||b.isDisabled()}),Ea()])})})(r,i.shared.providers,u)),colorinput:ls((r,i,u)=>((d,b,v,w)=>{const k=br.parts.field({factory:fh,inputClasses:["tox-textfield"],data:w,onSetValue:B=>eg.run(B).get(X),inputBehaviours:Vt([eo.config({disabled:b.providers.isDisabled}),Ea(),Mr.config({}),eg.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>gi(B.element),notify:{onValid:B=>{const z=lt.getValue(B);En(B,e3,{color:z})}},validator:{validateOnLoad:!1,validate:B=>{const z=lt.getValue(B);if(z.length===0)return Qm(Ao.value(!0));{const G=xa("span");ao(G,"background-color",z);const J=Zs(G,"background-color").fold(()=>Ao.error("blah"),ae=>Ao.value(z));return Qm(J)}}}})]),selectOnFocus:!1}),E=d.label.map(B=>Op(B,b.providers)),I=(B,z)=>{En(B,t3,{value:z})},F=ur(((B,z)=>xl.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:Vt([wi(z.providers.isDisabled),Ea(),Vv.config({}),Mr.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:G=>Ap(J=>B.fetch(J)).map(J=>P.from(jA(Ar(Hv(pn("menu-value"),J,ae=>{B.onItemAction(G,ae)},B.columns,B.presets,qf.CLOSE_ON_EXECUTE,Oe,z.providers),{movement:H2(B.columns,B.presets)})))),parts:{menu:p_(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Cs,ws,Bs],onLtr:()=>[ws,Cs,Bs]},components:[],fetch:IN(v.getColors(d.storageKey),d.storageKey,v.hasCustomColors()),columns:v.getColorCols(d.storageKey),presets:"color",onItemAction:(B,z)=>{F.getOpt(B).each(G=>{z==="custom"?v.colorPicker(J=>{J.fold(()=>wo(G,r5),ae=>{I(G,ae),TA(d.storageKey,ae)})},"#ffffff"):I(G,z==="remove"?"":z)})}},b));return br.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Vt([po("form-field-events",[Ct(e3,(B,z)=>{F.getOpt(B).each(G=>{ao(G.element,"background-color",z.event.color)}),En(B,rl,{name:d.name})}),Ct(t3,(B,z)=>{br.getField(B).each(G=>{lt.setValue(G,z.event.value),Ko.getCurrent(B).each(Jn.focus)})}),Ct(r5,(B,z)=>{br.getField(B).each(G=>{Ko.getCurrent(B).each(Jn.focus)})})])])})})(r,i.shared,i.colorinput,u)),colorpicker:ls((r,i,u)=>((d,b,v)=>{const w=I=>"tox-"+I,k=k5((I=>F=>h(F)?I.translate(UF[F]):I.translate(F))(b),w,b.tooltips.getConfig,(I,F,B=I,z=I)=>Mc(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+I],attributes:{title:b.translate(z),"aria-live":"polite",...F.fold(()=>({}),G=>({id:G}))}},b.icons)),E=ur(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:I=>{En(I,Yf,{name:"hex-valid",value:!0})},onInvalidHex:I=>{En(I,Yf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Vt([Zv(v,I=>{const F=E.get(I);return Ko.getCurrent(F).bind(B=>lt.getValue(B).hex).map(B=>"#"+Pr(B,"#")).getOr("")},(I,F)=>{const B=P.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(G=>Ce(G,1)),z=E.get(I);Ko.getCurrent(z).fold(()=>{console.log("Can not find form")},G=>{lt.setValue(G,{hex:B.getOr("")}),Ip.getField(G,"hex").each(J=>{wo(J,_m())})})}),rg()])}})(0,i.shared.providers,u)),dropzone:ls((r,i,u)=>((d,b,v)=>{const w=(J,ae)=>{ae.stop()},k=J=>(ae,ue)=>{Tt(J,ye=>{ye(ae,ue)})},E=(J,ae)=>{var ue;if(!eo.isDisabled(J)){const ye=ae.event.raw;F(J,(ue=ye.dataTransfer)===null||ue===void 0?void 0:ue.files)}},I=(J,ae)=>{const ue=ae.event.raw.target;F(J,ue.files)},F=(J,ae)=>{ae&&(lt.setValue(J,((ue,ye)=>{const le=yh.explode(ye.getOption("images_file_types"));return jn(dt(ue),ie=>_n(le,he=>Ou(ie.name.toLowerCase(),`.${he.toLowerCase()}`)))})(ae,b)),En(J,rl,{name:d.name}))},B=ur({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Vt([po("input-file-events",[km(ia()),km(xf())])])}),z=d.label.map(J=>Op(J,b)),G=br.parts.field({factory:{sketch:J=>({uid:J.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Vt([X2(v.getOr([])),rg(),eo.config({}),Kn.config({toggleClass:"dragenter",toggleOnExecute:!1}),po("dropzone-events",[Ct("dragenter",k([w,Kn.toggle])),Ct("dragleave",k([w,Kn.toggle])),Ct("dragover",w),Ct("drop",k([w,E])),Ct(Sm(),I)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[As(b.translate("Drop an image here"))]},Bi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[As(b.translate("Browse for an image")),B.asSpec()],action:ae=>{B.get(ae).element.dom.click()},buttonBehaviours:Vt([Mr.config({}),wi(b.isDisabled),Ea()])})]}]})}});return Z2(z,G,["tox-form__group--stretched"],[])})(r,i.shared.providers,u)),grid:ls((r,i)=>((u,d)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:Je(u.items,d.interpreter)}))(r,i.shared)),listbox:ls((r,i,u)=>((d,b,v)=>{const w=_n(d.items,z=>!Q2(z)),k=b.shared.providers,E=v.bind(z=>hS(d.items,z)).orThunk(()=>De(d.items).filter(Q2)),I=d.label.map(z=>Op(z,k)),F=br.parts.field({dom:{},factory:{sketch:z=>$3({uid:z.uid,text:E.map(G=>G.text),icon:P.none(),tooltip:P.none(),role:Xo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:d.label,fetch:(G,J)=>{const ae=gS(G,d.name,d.items,lt.getValue(G),w);J(jv(ae,qf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:P.none()}))},onSetup:j(X),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Mr.config({}),Zv(E.map(G=>G.value),G=>Ro(G.element,H3),(G,J)=>{hS(d.items,J).each(ae=>{nn(G.element,H3,ae.value),En(G,xu,{text:ae.text})})})]},"tox-listbox",b.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return br.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$o([I.toArray(),[B]]),fieldBehaviours:Vt([eo.config({disabled:j(!d.enabled),onDisabled:z=>{br.getField(z).each(eo.disable)},onEnabled:z=>{br.getField(z).each(eo.enable)}})])})})(r,i,u)),selectbox:ls((r,i,u)=>((d,b,v)=>{const w=Je(d.items,B=>({text:b.translate(B.text),value:B.value})),k=d.label.map(B=>Op(B,b)),E=br.parts.field({dom:{},...v.map(B=>({data:B})).getOr({}),selectAttributes:{size:d.size},options:w,factory:jF,selectBehaviours:Vt([eo.config({disabled:()=>!d.enabled||b.isDisabled()}),Mr.config({}),po("selectbox-change",[Ct(Sm(),(B,z)=>{En(B,rl,{name:d.name})})])])}),I=d.size>1?P.none():P.some(Mc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:$o([[E],I.toArray()])};return br.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$o([k.toArray(),[F]]),fieldBehaviours:Vt([eo.config({disabled:()=>!d.enabled||b.isDisabled(),onDisabled:B=>{br.getField(B).each(eo.disable)},onEnabled:B=>{br.getField(B).each(eo.enable)}}),Ea()])})})(r,i.shared.providers,u)),sizeinput:ls((r,i)=>((u,d)=>{let b=W3;const v=pn("ratio-event"),w=ae=>Mc(ae,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ae]},d.icons),k=u.label.getOr("Constrain proportions"),E=d.translate(k),I=Hc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Vt([eo.config({disabled:()=>!u.enabled||d.isDisabled()}),Ea(),Mr.config({}),Gs.config(d.tooltips.getConfig({tooltipText:E}))])}),F=ae=>({dom:{tag:"div",classes:["tox-form__group"]},components:ae}),B=ae=>br.parts.field({factory:fh,inputClasses:["tox-textfield"],inputBehaviours:Vt([eo.config({disabled:()=>!u.enabled||d.isDisabled()}),Ea(),Mr.config({}),po("size-input-events",[Ct(ir(),(ue,ye)=>{En(ue,v,{isField1:ae})}),Ct(Sm(),(ue,ye)=>{En(ue,rl,{name:u.name})})])]),selectOnFocus:!1}),z=ae=>({dom:{tag:"label",classes:["tox-label"]},components:[As(d.translate(ae))]}),G=Hc.parts.field1(F([br.parts.label(z("Width")),B(!0)])),J=Hc.parts.field2(F([br.parts.label(z("Height")),B(!1)]));return Hc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[G,J,F([z(" "),I])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ae,ue,ye)=>{V3(lt.getValue(ae)).each(le=>{b(le).each(ie=>{lt.setValue(ue,(he=>{const xe={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let _e=he.value.toFixed((Ve=he.unit)in xe?xe[Ve]:1);var Ve;return _e.indexOf(".")!==-1&&(_e=_e.replace(/\.?0*$/,"")),_e+he.unit})(ie))})})},coupledFieldBehaviours:Vt([eo.config({disabled:()=>!u.enabled||d.isDisabled(),onDisabled:ae=>{Hc.getField1(ae).bind(br.getField).each(eo.disable),Hc.getField2(ae).bind(br.getField).each(eo.disable),Hc.getLock(ae).each(eo.disable)},onEnabled:ae=>{Hc.getField1(ae).bind(br.getField).each(eo.enable),Hc.getField2(ae).bind(br.getField).each(eo.enable),Hc.getLock(ae).each(eo.enable)}}),Ea(),po("size-input-events2",[Ct(v,(ae,ue)=>{const ye=ue.event.isField1,le=ye?Hc.getField1(ae):Hc.getField2(ae),ie=ye?Hc.getField2(ae):Hc.getField1(ae),he=le.map(lt.getValue).getOr(""),xe=ie.map(lt.getValue).getOr("");b=((_e,Ve)=>{const nt=V3(_e).toOptional(),kt=V3(Ve).toOptional();return Zt(nt,kt,(wt,yt)=>U3(wt,yt.unit).map($t=>yt.value/$t).map($t=>{return dn=$t,Cn=yt.unit,Nn=>U3(Nn,Cn).map(to=>({value:to*dn,unit:Cn}));var dn,Cn}).getOr(W3)).getOr(W3)})(he,xe)})])])})})(r,i.shared.providers)),slider:ls((r,i,u)=>((d,b,v)=>{const w=Kd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(b.translate(d.label))]}),k=Kd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Kd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Kd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:d.min,maxX:d.max,getInitialValue:j(v.getOrThunk(()=>(Math.abs(d.max)-Math.abs(d.min))/2))},components:[w,k,E],sliderBehaviours:Vt([rg(),Jn.config({})]),onChoose:(I,F,B)=>{En(I,rl,{name:d.name,value:B})},onChange:(I,F,B)=>{En(I,rl,{name:d.name,value:B})}})})(r,i.shared.providers,u)),urlinput:ls((r,i,u)=>((d,b,v,w)=>{const k=b.shared.providers,E=le=>{const ie=lt.getValue(le);v.addToHistory(ie.value,d.filetype)},I={...w.map(le=>({initialData:le})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":oI,type:"url"},minChars:0,responseTime:0,fetch:le=>{const ie=((xe,_e,Ve)=>{var nt,kt;const wt=lt.getValue(_e),yt=(kt=(nt=wt==null?void 0:wt.meta)===null||nt===void 0?void 0:nt.text)!==null&&kt!==void 0?kt:wt.value;return Ve.getLinkInformation().fold(()=>[],$t=>{const dn=tT(yt,(Nn=>Je(Nn,to=>eT(to,to)))(Ve.getHistory(xe)));return xe==="file"?(Cn=[dn,tT(yt,s7($t)),tT(yt,$o([tI($t),a7($t),nI($t)]))],gn(Cn,(Nn,to)=>Nn.length===0||to.length===0?Nn.concat(to):Nn.concat(o7,to),[])):dn;var Cn})})(d.filetype,le,v),he=jv(ie,qf.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:P.none()});return Qm(he)},getHotspot:le=>ue.getOpt(le),onSetValue:(le,ie)=>{le.hasConfigured(eg)&&eg.run(le).get(X)},typeaheadBehaviours:Vt([...v.getValidationHandler().map(le=>eg.config({getRoot:ie=>gi(ie.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ie,he)=>{z.getOpt(ie).each(xe=>{nn(xe.element,"title",k.translate(he))})}},validator:{validate:ie=>{const he=lt.getValue(ie);return Y5(xe=>{le({type:d.filetype,url:he.value},_e=>{if(_e.status==="invalid"){const Ve=Ao.error(_e.message);xe(Ve)}else{const Ve=Ao.value(_e.message);xe(Ve)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!d.enabled||k.isDisabled()}),Mr.config({}),po("urlinput-events",[Ct(_m(),le=>{const ie=Of(le.element),he=ie.trim();he!==ie&&Rm(le.element,he),d.filetype==="file"&&En(le,rl,{name:d.name})}),Ct(Sm(),le=>{En(le,rl,{name:d.name}),E(le)}),Ct(Qy(),le=>{En(le,rl,{name:d.name}),E(le)})])]),eventOrder:{[_m()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:le=>le.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:p_(0,0,"normal")},onExecute:(le,ie,he)=>{En(ie,j2,{})},onItemExecute:(le,ie,he,xe)=>{E(le),En(le,rl,{name:d.name})}},F=br.parts.field({...I,factory:n7}),B=d.label.map(le=>Op(le,k)),z=ur(((le,ie,he=le,xe=le)=>Mc(he,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+le],attributes:{title:k.translate(xe),"aria-live":"polite",...ie.fold(()=>({}),_e=>({id:_e}))}},k.icons))("invalid",P.some(oI),"warning")),G=ur({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),J=v.getUrlPicker(d.filetype),ae=pn("browser.url.event"),ue=ur({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,G.asSpec()],behaviours:Vt([eo.config({disabled:()=>!d.enabled||k.isDisabled()})])}),ye=ur(Q5({name:d.name,icon:P.some("browse"),text:d.picker_text.or(d.label).getOr(""),enabled:d.enabled,primary:!1,buttonType:P.none(),borderless:!0},le=>wo(le,ae),k,[],["tox-browse-url"]));return br.sketch({dom:F_([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$o([[ue.asSpec()],J.map(()=>ye.asSpec()).toArray()])}]),fieldBehaviours:Vt([eo.config({disabled:()=>!d.enabled||k.isDisabled(),onDisabled:le=>{br.getField(le).each(eo.disable),ye.getOpt(le).each(eo.disable)},onEnabled:le=>{br.getField(le).each(eo.enable),ye.getOpt(le).each(eo.enable)}}),Ea(),po("url-input-events",[Ct(ae,le=>{Ko.getCurrent(le).each(ie=>{const he=lt.getValue(ie),xe={fieldname:d.name,...he};J.each(_e=>{_e(xe).get(Ve=>{lt.setValue(ie,Ve),En(le,rl,{name:d.name})})})})})])])})})(r,i,i.urlinput,u)),customeditor:ls(r=>{const i=pr(),u=ur({dom:{tag:r.tag}}),d=pr(),b=!k3(r)&&r.onFocus.isSome()?[Jn.config({onFocus:v=>{r.onFocus.each(w=>{w(v.element.dom)})}}),Mr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Vt([po("custom-editor-events",[Gr(v=>{u.getOpt(v).each(w=>{(k3(r)?r.init(w.element.dom):E5.load(r.scriptId,r.scriptUrl).then(k=>k(w.element.dom,r.settings))).then(k=>{d.on(E=>{k.setValue(E)}),d.clear(),i.set(k)})})})]),Zv(P.none(),()=>i.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,w)=>{i.get().fold(()=>d.set(w),k=>k.setValue(w))}),rg()].concat(b)),components:[u.asSpec()]}}),htmlpanel:ls((r,i)=>((u,d)=>{const b=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],v=po("htmlpanel",[Gr(w=>{u.onInit(w.element.dom)})]);return u.presets==="presentation"?Zd.sketch({dom:{tag:"div",classes:b,innerHtml:u.html},containerBehaviours:Vt([Gs.config({...d.tooltips.getConfig({tooltipText:"",onShow:w=>{ts(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element)).each(k=>{Ho(k,"data-mce-tooltip").each(E=>{Gs.setComponents(w,d.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:ts(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element).filter(k=>Ho(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:j([Bs,gs,ws,Ks,Cs,Tr]),onRtl:j([Bs,gs,ws,Ks,Cs,Tr])},bubble:ec(0,-2,{})})}),v])}):Zd.sketch({dom:{tag:"div",classes:b,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:Vt([Mr.config({}),Jn.config({}),v])})})(r,i.shared.providers)),imagepreview:ls((r,i,u)=>((d,b)=>{const v=Dn(b.getOr({url:""})),w=ur({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(F=>({src:F.url})).getOr({})}}),k=ur({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};d.height.each(F=>E.height=F);const I=b.map(F=>({url:F.url,zoom:P.from(F.zoom),cachedWidth:P.from(F.cachedWidth),cachedHeight:P.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Vt([rg(),Zv(I,()=>v.get(),(F,B)=>{const z={url:B.url};B.zoom.each(J=>z.zoom=J),B.cachedWidth.each(J=>z.cachedWidth=J),B.cachedHeight.each(J=>z.cachedHeight=J),v.set(z);const G=()=>{const{cachedWidth:J,cachedHeight:ae,zoom:ue}=z;if(!N(J)&&!N(ae)){if(N(ue)){const le=((ie,he,xe)=>{const _e=wa(ie),Ve=bs(ie);return Math.min(_e/he,Ve/xe,1)})(F.element,J,ae);z.zoom=le}const ye=((le,ie,he,xe,_e)=>{const Ve=he*_e,nt=xe*_e,kt=Math.max(0,le/2-Ve/2),wt=Math.max(0,ie/2-nt/2);return{left:kt.toString()+"px",top:wt.toString()+"px",width:Ve.toString()+"px",height:nt.toString()+"px"}})(wa(F.element),bs(F.element),J,ae,z.zoom);k.getOpt(F).each(le=>{Ki(le.element,ye)})}};w.getOpt(F).each(J=>{const ae=J.element;var ue;B.url!==Ro(ae,"src")&&(nn(ae,"src",B.url),xs(F.element,"tox-imagepreview__loaded")),G(),(ue=ae,new Promise((ye,le)=>{const ie=()=>{xe(),ye(ue)},he=[Pi(ue,"load",ie),Pi(ue,"error",()=>{xe(),le("Unable to load data from image: "+ue.dom.src)})],xe=()=>Tt(he,_e=>_e.unbind());ue.dom.complete&&ie()})).then(ye=>{F.getSystem().isConnected()&&(ms(F.element,"tox-imagepreview__loaded"),z.cachedWidth=ye.dom.naturalWidth,z.cachedHeight=ye.dom.naturalHeight,G())})})})])}})(r,u)),table:ls((r,i)=>((u,d)=>{const b=k=>({dom:{tag:"td",innerHtml:d.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Je(w,k=>({dom:{tag:"th",innerHtml:d.translate(k)}}))}]}),(v=u.cells,{dom:{tag:"tbody"},components:Je(v,k=>({dom:{tag:"tr"},components:Je(k,b)}))})],behaviours:Vt([Mr.config({}),Jn.config({})])};var v,w})(r,i.shared.providers)),tree:ls((r,i)=>((u,d)=>{const b=u.onLeafAction.getOr(X),v=u.onToggleExpand.getOr(X),w=u.defaultExpandedIds,k=Dn(w),E=Dn(u.defaultSelectedId),I=pn("tree-id"),F=(B,z)=>u.items.map(G=>G.type==="leaf"?q3({leaf:G,selectedId:B,onLeafAction:b,visible:!0,treeId:I,backstage:d}):bS({directory:G,selectedId:B,onLeafAction:b,expandedIds:z,labelTabstopping:!0,treeId:I,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Vt([Tn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),po(XF,[Ct("expand-tree-node",(B,z)=>{const{expanded:G,node:J}=z.event;k.set(G?[...k.get(),J]:k.get().filter(ae=>ae!==J)),v(k.get(),{expanded:G,node:J})})]),bl.config({channels:{[`update-active-item-${I}`]:{onReceive:(B,z)=>{E.set(P.some(z.value)),$n.set(B,F(P.some(z.value),k.get()))}}}}),$n.config({})])}})(r,i)),panel:ls((r,i)=>((u,d)=>({dom:{tag:"div",classes:u.classes},components:Je(u.items,d.shared.interpreter)}))(r,i))},nT={field:(r,i)=>i,record:j([])},xS=(r,i,u,d,b)=>{const v=Ar(d,{shared:{interpreter:w=>oT(r,w,u,v,b)}});return oT(r,i,u,v,b)},oT=(r,i,u,d,b)=>yn(l7,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),v=>v(r,i,u,d,b)),rI=(r,i,u,d)=>oT(nT,r,i,u,d),qd="layout-inset",ny=r=>r.x,wS=(r,i)=>r.x+r.width/2-i.width/2,rT=(r,i)=>r.x+r.width-i.width,sd=r=>r.y,sT=(r,i)=>r.y+r.height-i.height,sI=(r,i)=>r.y+r.height/2-i.height/2,rc=(r,i,u)=>ri(rT(r,i),sT(r,i),u.insetSouthwest(),Xg(),"southwest",si(r,{right:0,bottom:3}),qd),$p=(r,i,u)=>ri(ny(r),sT(r,i),u.insetSoutheast(),Kb(),"southeast",si(r,{left:1,bottom:3}),qd),sc=(r,i,u)=>ri(rT(r,i),sd(r),u.insetNorthwest(),Yg(),"northwest",si(r,{right:0,top:2}),qd),ow=(r,i,u)=>ri(ny(r),sd(r),u.insetNortheast(),jb(),"northeast",si(r,{left:1,top:2}),qd),qo=(r,i,u)=>ri(wS(r,i),sd(r),u.insetNorth(),yC(),"north",si(r,{top:2}),qd),sg=(r,i,u)=>ri(wS(r,i),sT(r,i),u.insetSouth(),_x(),"south",si(r,{bottom:3}),qd),rw=(r,i,u)=>ri(rT(r,i),sI(r,i),u.insetEast(),xC(),"east",si(r,{right:0}),qd),aT=(r,i,u)=>ri(ny(r),sI(r,i),u.insetWest(),Sx(),"west",si(r,{left:1}),qd),iT=r=>{switch(r){case"north":return qo;case"northeast":return ow;case"northwest":return sc;case"south":return sg;case"southeast":return $p;case"southwest":return rc;case"east":return rw;case"west":return aT}},CS=(r,i,u,d,b)=>ev(d).map(iT).getOr(qo)(r,i,u,d,b),c7=r=>{switch(r){case"north":return sg;case"northeast":return $p;case"northwest":return rc;case"south":return qo;case"southeast":return ow;case"southwest":return sc;case"east":return aT;case"west":return rw}},lT=(r,i,u,d,b)=>ev(d).map(c7).getOr(qo)(r,i,u,d,b),sw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},aI=(r,i,u)=>{const d={maxHeightFunction:th()};return()=>u()?{type:"node",root:Qe(ut(r())),node:P.from(r()),bubble:ec(12,12,sw),layouts:{onRtl:()=>[ow],onLtr:()=>[sc]},overrides:d}:{type:"hotspot",hotspot:i(),bubble:ec(-12,12,sw),layouts:{onRtl:()=>[ws,Cs,Bs],onLtr:()=>[Cs,ws,Bs]},overrides:d}},iI=(r,i,u,d)=>{const b={maxHeightFunction:th()};return()=>d()?{type:"node",root:Qe(ut(i())),node:P.from(i()),bubble:ec(12,12,sw),layouts:{onRtl:()=>[qo],onLtr:()=>[qo]},overrides:b}:r?{type:"node",root:Qe(ut(i())),node:P.from(i()),bubble:ec(0,-bc(i()),sw),layouts:{onRtl:()=>[gs],onLtr:()=>[gs]},overrides:b}:{type:"hotspot",hotspot:u(),bubble:ec(0,0,sw),layouts:{onRtl:()=>[gs],onLtr:()=>[gs]},overrides:b}},cT=(r,i,u)=>()=>u()?{type:"node",root:Qe(ut(r())),node:P.from(r()),layouts:{onRtl:()=>[qo],onLtr:()=>[qo]}}:{type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]}},lI=(r,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const u=r.selection.getRng(),d=r.model.table.getSelectedCells();if(d.length>1){const b=d[0],v=d[d.length-1],w={firstCell:rn(b),lastCell:rn(v)};return P.some(w)}return P.some(Bf.range(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset))}}),_S=r=>i=>({type:"node",root:r(),node:i}),u7=(r,i,u,d)=>{const b=Tv(r),v=()=>rn(r.getBody()),w=()=>rn(r.getContentAreaContainer()),k=()=>b||!d();return{inlineDialog:aI(w,i,k),inlineBottomDialog:iI(r.inline,w,u,k),banner:cT(w,i,k),cursor:lI(r,v),node:_S(v)}},d7=r=>(i,u)=>{LN(r)(i,u)},f7=r=>()=>NA(r),m7=r=>i=>$v(r,i),g7=r=>i=>RA(r,i),cI=r=>()=>jf(r),uI=r=>bo(r,"items"),dI=r=>bo(r,"format"),uT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],dT=r=>gn(r,(i,u)=>{if(no(u,"items")){const d=dT(u.items);return{customFormats:i.customFormats.concat(d.customFormats),formats:i.formats.concat([{title:u.title,items:d.formats}])}}if(no(u,"inline")||(d=>no(d,"block"))(u)||(d=>no(d,"selector"))(u)){const d=`custom-${h(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:d,format:u}]),formats:i.formats.concat([{title:u.title,format:d,icon:u.icon}])}}return{...i,formats:i.formats.concat(u)}},{customFormats:[],formats:[]}),fI=r=>L1(r).map(i=>{const u=((d,b)=>{const v=dT(b),w=k=>{Tt(k,E=>{d.formatter.has(E.name)||d.formatter.register(E.name,E.format)})};return d.formatter?w(v.customFormats):d.on("init",()=>{w(v.customFormats)}),v.formats})(r,i);return YC(r)?uT.concat(u):u}).getOr(uT),mI=(r,i,u)=>({...r,type:"formatter",isSelected:i(r.format),getStylePreview:u(r.format)}),fT=(r,i,u,d)=>{const b=v=>Je(v,w=>uI(w)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:j(E)}})(w):dI(w)?(k=>mI(k,u,d))(w):(k=>{const E=Ft(k);return E.length===1&&ct(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=h(k.name)?k.name:pn(k.title),I=`custom-${E}`,F={...k,type:"formatter",format:I,isSelected:u(I),getStylePreview:d(I)};return r.formatter.register(E,F),F})(w));return b(i)},mT=r=>{let i=0;const u=d=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[As(d.tooltipText)]}];return{getConfig:d=>({delayForShow:()=>i>0?60:300,delayForHide:j(300),exclusive:!0,lazySink:r,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(d),onShow:(b,v)=>{i++,d.onShow&&d.onShow(b,v)},onHide:(b,v)=>{i--,d.onHide&&d.onHide(b,v)},onSetup:d.onSetup}),getComponents:u}},gI=yh.trim,hI=r=>i=>!!((u=>V(u)&&u.nodeType===1)(i)&&(i.contentEditable===r||i.getAttribute("data-mce-contenteditable")===r)),h7=hI("true"),p7=hI("false"),pI=(r,i,u,d,b)=>({type:r,title:i,url:u,level:d,attach:b}),bI=r=>r.innerText||r.textContent,b7=r=>(i=>i&&i.nodeName==="A"&&(i.id||i.name)!==void 0)(r)&&ad(r),gT=r=>r&&/^(H[1-6])$/.test(r.nodeName),ad=r=>(i=>{let u=i;for(;u=u.parentNode;){const d=u.contentEditable;if(d&&d!=="inherit")return h7(u)}return!1})(r)&&!p7(r),v7=r=>gT(r)&&ad(r),hT=r=>{var i;const u=(d=>d.id?d.id:pn("h"))(r);return pI("header",(i=bI(r))!==null&&i!==void 0?i:"","#"+u,(d=>gT(d)?parseInt(d.nodeName.substr(1),10):0)(r),()=>{r.id=u})},vI=r=>{const i=r.id||r.name,u=bI(r);return pI("anchor",u||"#"+i,"#"+i,0,X)},yI=r=>gI(r.title).length>0,y7=r=>{const i=(u=>Je(pa(rn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(r);return jn((u=>Je(jn(u,v7),hT))(i).concat((u=>Je(jn(u,b7),vI))(i)),yI)},aw="tinymce-url-history",pT=r=>h(r)&&/^https?/.test(r),bT=r=>x(r)&&ar(r,i=>{return!(O(u=i)&&u.length<=5&&Ye(u,pT));var u}).isNone(),xI=()=>{const r=$c.getItem(aw);if(r===null)return{};let i;try{i=JSON.parse(r)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+aw+" was not valid JSON",u),{};throw u}return bT(i)?i:(console.log("Local storage "+aw+" was not valid format",i),{})},x7=r=>{const i=xI();return yn(i,r).getOr([])},w7=(r,i)=>{if(!pT(r))return;const u=xI(),d=yn(u,i).getOr([]),b=jn(d,v=>v!==r);u[i]=[r].concat(b).slice(0,5),(v=>{if(!bT(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));$c.setItem(aw,JSON.stringify(v))})(u)},wI=r=>!!r,C7=r=>zn(yh.makeMap(r,/[, ]/),wI),SS=r=>P.from(JC(r)),vT=r=>P.from(r).filter(h).getOrUndefined(),CI=r=>({getHistory:x7,addToHistory:w7,getLinkInformation:()=>(i=>QC(i)?P.some({targets:y7(i.getBody()),anchorTop:vT(dR(i)),anchorBottom:vT(fR(i))}):P.none())(r),getValidationHandler:()=>(i=>P.from(u2(i)))(r),getUrlPicker:i=>((u,d)=>((b,v)=>{const w=(k=>{const E=P.from(d2(k)).filter(wI).map(C7);return SS(k).fold(Oe,I=>E.fold(Be,F=>Ft(F).length>0&&F))})(b);return D(w)?w?SS(b):P.none():w[v]?SS(b):P.none()})(u,d).map(b=>v=>Ap(w=>{const k={filetype:d,fieldname:v.fieldname,...P.from(v.meta).getOr({})};b.call(u,(E,I)=>{if(!h(E))throw new Error("Expected value to be string");if(I!==void 0&&!x(I))throw new Error("Expected meta to be a object");w({value:E,meta:I})},v.value,k)})))(r,i)}),li=IM,ag=QO,_7=j([rt("shell",!1),Ot("makeItem"),rt("setupItem",X),Qn("listBehaviours",[$n])]),oy=mu({name:"items",overrides:()=>({behaviours:Vt([$n.config({})])})}),S7=j([oy]),yT=Ol({name:j("CustomList")(),configFields:_7(),partFields:S7(),factory:(r,i,u,d)=>{const b=r.shell?{behaviours:[$n.config({})],components:[]}:{behaviours:[],components:i};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:ho(r.listBehaviours,b.behaviours),apis:{setItems:(v,w)=>{var k;(k=v,r.shell?P.some(k):zr(k,r,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const I=$n.contents(E),F=w.length,B=F-I.length,z=B>0?Vn(B,()=>r.makeItem()):[],G=I.slice(F);Tt(G,ae=>$n.remove(E,ae)),Tt(z,ae=>$n.append(E,ae));const J=$n.contents(E);Tt(J,(ae,ue)=>{r.setupItem(v,ae,w[ue],ue)})})}}}},apis:{setItems:(r,i,u)=>{r.setItems(i,u)}}}),qv=j([Ot("dom"),rt("shell",!0),bn("toolbarBehaviours",[$n])]),_I=j([mu({name:"groups",overrides:()=>({behaviours:Vt([$n.config({})])})})]),Gd=Ol({name:"Toolbar",configFields:qv(),partFields:_I(),factory:(r,i,u,d)=>{const b=r.shell?{behaviours:[$n.config({})],components:[]}:{behaviours:[],components:i};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:ho(r.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,w)=>{var k;(k=v,r.shell?P.some(k):zr(k,r,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{$n.set(E,w)})},refresh:X},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,i,u)=>{r.setGroups(i,u)}}}),xT=X,wT=Oe,kS=j([]);var CT,k7=Object.freeze({__proto__:null,setup:xT,isDocked:wT,getBehaviours:kS});const ES=j(pn("toolbar-height-change")),ig={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},SI="tox-tinymce--toolbar-sticky-on",kI="tox-tinymce--toolbar-sticky-off",iw=(r,i)=>ct(es.getModes(r),i),AS=r=>{const i=r.element;gi(i).each(u=>{const d="padding-"+es.getModes(r)[0];if(es.isDocked(r)){const b=wa(u);ao(i,"width",b+"px"),ao(u,d,(v=>bc(v)+(parseInt(ps(v,"margin-top"),10)||0)+(parseInt(ps(v,"margin-bottom"),10)||0))(i)+"px")}else fr(i,"width"),fr(u,d)})},_T=(r,i)=>{i?(xs(r,ig.fadeOutClass),Ls(r,[ig.transitionClass,ig.fadeInClass])):(xs(r,ig.fadeInClass),Ls(r,[ig.fadeOutClass,ig.transitionClass]))},EI=(r,i)=>{const u=rn(r.getContainer());i?(ms(u,SI),xs(u,kI)):(ms(u,kI),xs(u,SI))},AI=(r,i)=>{const u=pr(),d=i.getSink,b=k=>{d().each(E=>k(E.element))},v=k=>{r.inline||AS(k),EI(r,es.isDocked(k)),k.getSystem().broadcastOn([U()],{}),d().each(E=>E.getSystem().broadcastOn([U()],{}))},w=r.inline?[]:[bl.config({channels:{[ES()]:{onReceive:AS}}})];return[Jn.config({}),es.config({contextual:{lazyContext:k=>{const E=bc(k.element),I=r.inline?r.getContentAreaContainer():r.getContainer();return P.from(I).map(F=>{const B=Qs(rn(F));return yp(r,k.element).fold(()=>{const z=B.height-E,G=B.y+(iw(k,"top")?0:E);return Co(B.x,G,B.width,z)},z=>{const G=kd(B,xp(z)),J=iw(k,"top")?G.y:G.y+E;return Co(G.x,J,G.width,G.height-E)})})},onShow:()=>{b(k=>_T(k,!0))},onShown:k=>{b(E=>Ql(E,[ig.transitionClass,ig.fadeInClass])),u.get().each(E=>{((I,F)=>{const B=Js(F);cu(B).filter(z=>!Jo(F,z)).filter(z=>Jo(z,rn(B.dom.body))||Ss(I,z)).each(()=>Ii(F))})(k.element,E),u.clear()})},onHide:k=>{((E,I)=>Ms(E).orThunk(()=>I().toOptional().bind(F=>Ms(F.element))))(k.element,d).fold(u.clear,u.set),b(E=>_T(E,!1))},onHidden:()=>{b(k=>Ql(k,[ig.transitionClass]))},...ig},lazyViewport:k=>yp(r,k.element).fold(()=>{const E=Ba(),I=VE(r),F=E.y+(iw(k,"top")?I:0),B=E.height-(iw(k,"bottom")?I:0);return{bounds:Co(E.x,F,E.width,B),optScrollEnv:P.none()}},E=>({bounds:xp(E),optScrollEnv:P.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:El(E.element).top})})),modes:[i.header.getDockingMode()],onDocked:v,onUndocked:v}),...w]};var E7=Object.freeze({__proto__:null,setup:(r,i,u)=>{r.inline||(i.header.isPositionedAtTop()||r.on("ResizeEditor",()=>{u().each(es.reset)}),r.on("ResizeWindow ResizeEditor",()=>{u().each(AS)}),r.on("SkinLoaded",()=>{u().each(d=>{es.isDocked(d)?es.reset(d):es.refresh(d)})}),r.on("FullscreenStateChanged",()=>{u().each(es.reset)})),r.on("AfterScrollIntoView",d=>{u().each(b=>{es.refresh(b);const v=b.element;ED(v)&&((w,k)=>{const E=Js(k),I=Kc(k).dom.innerHeight,F=Wr(E),B=rn(w.elm),z=ml(B),G=bs(B),J=z.y,ae=J+G,ue=El(k),ye=bs(k),le=ue.top,ie=le+ye,he=Math.abs(le-F.top)<2,xe=Math.abs(ie-(F.top+I))<2;if(he&&J<ie)hf(F.left,J-ye,E);else if(xe&&ae>le){const _e=J-I+G+ye;hf(F.left,_e,E)}})(d,v)})}),r.on("PostRender",()=>{EI(r,!1)})},isDocked:r=>r().map(es.isDocked).getOr(!1),getBehaviours:AI});const A7=Ln([ca,Fa("items",ym([Fu([iA,Xi("items",ga)]),ga]))].concat(Jm)),T7=[Es("text"),Es("tooltip"),Es("icon"),Ri("search",!1,ym([Yl,Ln([Es("placeholder")])],r=>D(r)?r?P.some({placeholder:P.none()}):P.none():P.some(r))),Di("fetch"),Zr("onSetup",()=>X)],TI=Ln([ca,...T7]),OI=r=>us("menubutton",TI,r),O7=Ln([ca,N2,Qu,kp,fA,z8,Sp,wc("presets","normal",["normal","color","listpreview"]),JR(1),F1,XR]);var ST=gu({factory:(r,i)=>{const u={focus:Tn.focusIn,setMenus:(d,b)=>{const v=Je(b,w=>{const k={type:"menubutton",text:w.text,fetch:I=>{I(w.getItems())}},E=OI(k).mapError(I=>Yi(I)).getOrDie();return ey(E,"tox-mbtn",i.backstage,P.some("menuitem"))});$n.set(d,v)}};return{uid:r.uid,dom:r.dom,components:[],behaviours:Vt([$n.config({}),po("menubar-events",[Gr(d=>{r.onSetup(d)}),Ct(kn(),(d,b)=>{ts(d.element,".tox-mbtn--active").each(v=>{ju(b.event.target,".tox-mbtn").each(w=>{Jo(v,w)||d.getSystem().getByDom(v).each(k=>{d.getSystem().getByDom(w).each(E=>{xl.expand(E),xl.close(k),Jn.focus(E)})})})})}),Ct($0(),(d,b)=>{b.event.prevFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{xl.isOpen(v)&&(xl.expand(w),xl.close(v))})})})]),Tn.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(r.onEscape(d),P.some(!0))}),Mr.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ot("dom"),Ot("uid"),Ot("onEscape"),Ot("backstage"),rt("onSetup",X)],apis:{focus:(r,i)=>{r.focus(i)},setMenus:(r,i,u)=>{r.setMenus(i,u)}}});const DI="container",D7=[bn("slotBehaviours",[])],kT=r=>"<alloy.field."+r+">",R7=(r,i)=>{const u=F=>oD(r),d=(F,B)=>(z,G)=>zr(z,r,G).map(J=>F(J,G)).getOr(B),b=(F,B)=>Ro(F.element,"aria-hidden")!=="true",v=d(b,!1),w=d((F,B)=>{if(b(F)){const z=F.element;ao(z,"display","none"),nn(z,"aria-hidden","true"),En(F,su(),{name:B,visible:!1})}}),k=(F=>(B,z)=>{Tt(z,G=>F(B,G))})(w),E=d((F,B)=>{if(!b(F)){const z=F.element;fr(z,"display"),xo(z,"aria-hidden"),En(F,su(),{name:B,visible:!0})}}),I={getSlotNames:u,getSlot:(F,B)=>zr(F,r,B),isShowing:v,hideSlot:w,hideAllSlots:F=>k(F,u()),showSlot:E};return{uid:r.uid,dom:r.dom,components:i,behaviours:Un(r.slotBehaviours),apis:I}},N7=zn({getSlotNames:(r,i)=>r.getSlotNames(i),getSlot:(r,i,u)=>r.getSlot(i,u),isShowing:(r,i,u)=>r.isShowing(i,u),hideSlot:(r,i,u)=>r.hideSlot(i,u),hideAllSlots:(r,i)=>r.hideAllSlots(i),showSlot:(r,i,u)=>r.showSlot(i,u)},r=>Q0(r)),wl={...N7,sketch:r=>{const i=(()=>{const v=[];return{slot:(w,k)=>(v.push(w),aE(DI,kT(w),k)),record:j(v)}})(),u=r(i),d=i.record(),b=Je(d,v=>yl({name:v,pname:kT(v)}));return Zx(DI,D7,b,R7,u)}},I7=Ln([Qu,N2,Zr("onShow",X),Zr("onHide",X),Sp]),P7=r=>({element:()=>r.element.dom}),TS=(r,i)=>{const u=Je(Ft(i),d=>{const b=i[d],v=Oi((w=>us("sidebar",I7,w))(b));return{name:d,getApi:P7,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Je(u,d=>{const b=Dn(X);return r.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:P2([Ep(d,b),mh(d,b),Ct(su(),(v,w)=>{const k=w.event;Q(u,I=>I.name===k.name).each(I=>{(k.visible?I.onShow:I.onHide)(I.getApi(v))})})])})})},RI=r=>wl.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:TS(i,r),slotBehaviours:P2([Gr(u=>wl.hideAllSlots(u))])})),OS=(r,i)=>{nn(r,"role",i)},L7=r=>Ko.getCurrent(r).bind(i=>zl.isGrowing(i)||zl.hasGrown(i)?Ko.getCurrent(i).bind(u=>Q(wl.getSlotNames(u),d=>wl.isShowing(u,d))):P.none()),ET=pn("FixSizeEvent"),AT=pn("AutoSizeEvent");var B7=Object.freeze({__proto__:null,block:(r,i,u,d)=>{nn(r.element,"aria-busy",!0);const b=i.getRoot(r).getOr(r),v=Vt([Tn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),Jn.config({})]),w=d(b,v),k=b.getSystem().build(w);$n.append(b,Qi(k)),k.hasConfigured(Tn)&&i.focus&&Tn.focusIn(k),u.isBlocked()||i.onBlock(r),u.blockWith(()=>$n.remove(b,k))},unblock:(r,i,u)=>{xo(r.element,"aria-busy"),u.isBlocked()&&i.onUnblock(r),u.clear()},isBlocked:(r,i,u)=>u.isBlocked()}),M7=[Zr("getRoot",P.none),js("focus",!0),Uo("onBlock"),Uo("onUnblock")];const id=ka({fields:M7,name:"blocking",apis:B7,state:Object.freeze({__proto__:null,init:()=>{const r=vc(i=>i.destroy());return Sa({readState:r.isSet,blockWith:i=>{r.set({destroy:i})},clear:r.clear,isBlocked:r.isSet})}})}),TT=r=>Ko.getCurrent(r).each(i=>Ii(i.element,!0)),NI=(r,i,u)=>{const d=Dn(!1),b=pr(),v=k=>{var E;d.get()&&(!(I=>I.type==="focusin")(E=k)||!(E.composed?De(E.composedPath()):P.from(E.target)).map(rn).filter(Xr).exists(I=>Ji(I,"mce-pastebin")))&&(k.preventDefault(),TT(i()),r.editorManager.setActive(r))};r.inline||r.on("PreInit",()=>{r.dom.bind(r.getWin(),"focusin",v),r.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const w=k=>{k!==d.get()&&(d.set(k),((E,I,F,B)=>{const z=I.element;if(((G,J)=>{const ae="tabindex",ue=`data-mce-${ae}`;P.from(G.iframeElement).map(rn).each(ye=>{J?(Ho(ye,ae).each(le=>nn(ye,ue,le)),nn(ye,ae,-1)):(xo(ye,ae),Ho(ye,ue).each(le=>{nn(ye,ae,le),xo(ye,ue)}))})})(E,F),F)id.block(I,(G=>(J,ae)=>({dom:{tag:"div",attributes:{"aria-label":G.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:qm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),fr(z,"display"),xo(z,"aria-hidden"),E.hasFocus()&&TT(I);else{const G=Ko.getCurrent(I).exists(J=>eh(J.element));id.unblock(I),ao(z,"display","none"),nn(z,"aria-hidden","true"),G&&E.focus()}})(r,i(),k,u.providers),((E,I)=>{E.dispatch("AfterProgressState",{state:I})})(r,k))};r.on("ProgressState",k=>{if(b.on(clearTimeout),te(k.time)){const E=qC.setEditorTimeout(r,()=>w(k.state),k.time);b.set(E)}else w(k.state),b.clear()})},OT=(r,i,u)=>({within:r,extra:i,withinWidth:u}),DT=(r,i,u)=>{const d=gn(r,(w,k)=>((E,I)=>{const F=u(E);return P.some({element:E,start:I,finish:I+F,width:F})})(k,w.len).fold(j(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,b=jn(d,w=>w.finish<=i),v=Xn(b,(w,k)=>w+k.width,0);return{within:b,extra:d.slice(b.length),withinWidth:v}},DS=r=>Je(r,i=>i.element),II=(r,i)=>{const u=Je(i,d=>Qi(d));Gd.setGroups(r,u)},PI=(r,i,u)=>{const d=i.builtGroups.get();if(d.length===0)return;const b=ih(r,i,"primary"),v=Ts.getCoupled(r,"overflowGroup");ao(b.element,"visibility","hidden");const w=d.concat([v]),k=on(w,I=>Ms(I.element).bind(F=>I.getSystem().getByDom(F).toOptional()));u([]),II(b,w);const E=((I,F,B,z)=>{const G=((ye,le,ie)=>{const he=DT(le,ye,ie);return he.extra.length===0?P.some(he):P.none()})(I,F,B).getOrThunk(()=>DT(F,I-B(z),B)),J=G.within,ae=G.extra,ue=G.withinWidth;return ae.length===1&&ae[0].width<=B(z)?((ye,le,ie)=>{const he=DS(ye.concat(le));return OT(he,[],ie)})(J,ae,ue):ae.length>=1?((ye,le,ie,he)=>{const xe=DS(ye).concat([ie]);return OT(xe,DS(le),he)})(J,ae,z,ue):((ye,le,ie)=>OT(DS(ye),[],ie))(J,0,ue)})(wa(b.element),i.builtGroups.get(),I=>Math.ceil(I.element.dom.getBoundingClientRect().width),v);E.extra.length===0?($n.remove(b,v),u([])):(II(b,E.within),u(E.extra)),fr(b.element,"visibility"),wd(b.element),k.each(Jn.focus)},LI=j([bn("splitToolbarBehaviours",[Ts]),Ma("builtGroups",()=>Dn([]))]),F7=j([Zg(["overflowToggledClass"]),nu("getOverflowBounds"),Ot("lazySink"),Ma("overflowGroups",()=>Dn([])),Uo("onOpened"),Uo("onClosed")].concat(LI())),$7=j([yl({factory:Gd,schema:qv(),name:"primary"}),zd({schema:qv(),name:"overflow"}),zd({name:"overflow-button"}),zd({name:"overflow-group"})]),RT=j((r,i)=>{((u,d)=>{const b=Tg.max(u,d,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);ao(u,"max-width",b+"px")})(r,Math.floor(i))}),H7=j([Zg(["toggledClass"]),Ot("lazySink"),Di("fetch"),nu("getBounds"),vs("fireDismissalEventInstead",[rt("event",Fg())]),Nf(),Uo("onToggled")]),z7=j([zd({name:"button",overrides:r=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Vt([Kn.config({toggleClass:r.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:r.onToggled})])})}),zd({factory:Gd,schema:qv(),name:"toolbar",overrides:r=>({toolbarBehaviours:Vt([Tn.config({mode:"cyclic",onEscape:i=>(zr(i,r,"button").each(Jn.focus),P.none())})])})})]),RS=pr(),ry=(r,i)=>{const u=Ts.getCoupled(r,"toolbarSandbox");T.isOpen(u)?T.close(u):T.open(u,i.toolbar())},lw=(r,i,u,d)=>{const b=u.getBounds.map(w=>w()),v=u.lazySink(r).getOrDie();ai.positionWithinBounds(v,i,{anchor:{type:"hotspot",hotspot:r,layouts:d,overrides:{maxWidthFunction:RT()}}},b)},NS=(r,i,u,d,b)=>{Gd.setGroups(i,b),lw(r,i,u,d),Kn.on(r)},wh=Ol({name:"FloatingToolbarButton",factory:(r,i,u,d)=>({...Bi.sketch({...d.button(),action:b=>{ry(b,d)},buttonBehaviours:Wn({dump:d.button().buttonBehaviours},[Ts.config({others:{toolbarSandbox:b=>((v,w,k)=>{const E=Gg();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Vt([Tn.config({mode:"special",onEscape:I=>(T.close(I),P.some(!0))}),T.config({onOpen:(I,F)=>{const B=RS.get().getOr(!1);k.fetch().get(z=>{NS(v,F,k,w.layouts,z),E.link(v.element),B||Tn.focusIn(F)})},onClose:()=>{Kn.off(v),RS.get().getOr(!1)||Jn.focus(v),E.unlink(v.element)},isPartOf:(I,F,B)=>pl(F,B)||pl(v,B),getAttachPoint:()=>k.lazySink(v).getOrDie()}),bl.config({channels:{...se({isExtraPart:Oe,...k.fireDismissalEventInstead.map(I=>({fireEventInstead:{event:I.event}})).getOr({})}),...Ne({doReposition:()=>{T.getState(Ts.getCoupled(v,"toolbarSandbox")).each(I=>{lw(v,I,k,w.layouts)})}})}})])}})(b,u,r)}})])}),apis:{setGroups:(b,v)=>{T.getState(Ts.getCoupled(b,"toolbarSandbox")).each(w=>{NS(b,w,r,u.layouts,v)})},reposition:b=>{T.getState(Ts.getCoupled(b,"toolbarSandbox")).each(v=>{lw(b,v,r,u.layouts)})},toggle:b=>{ry(b,d)},toggleWithoutFocusing:b=>{((v,w)=>{RS.set(!0),ry(v,w),RS.clear()})(b,d)},getToolbar:b=>T.getState(Ts.getCoupled(b,"toolbarSandbox")),isOpen:b=>T.isOpen(Ts.getCoupled(b,"toolbarSandbox"))}}),configFields:H7(),partFields:z7(),apis:{setGroups:(r,i,u)=>{r.setGroups(i,u)},reposition:(r,i)=>{r.reposition(i)},toggle:(r,i)=>{r.toggle(i)},toggleWithoutFocusing:(r,i)=>{r.toggleWithoutFocusing(i)},getToolbar:(r,i)=>r.getToolbar(i),isOpen:(r,i)=>r.isOpen(i)}}),V7=j([Ot("items"),Zg(["itemSelector"]),bn("tgroupBehaviours",[Tn])]),U7=j([IC({name:"items",unit:"item"})]),sy=Ol({name:"ToolbarGroup",configFields:V7(),partFields:U7(),factory:(r,i,u,d)=>({uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.tgroupBehaviours,[Tn.config({mode:"flow",selector:r.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),IS=r=>Je(r,i=>Qi(i)),cw=(r,i,u)=>{PI(r,u,d=>{u.overflowGroups.set(d),i.getOpt(r).each(b=>{wh.setGroups(b,IS(d))})})},NT=Ol({name:"SplitFloatingToolbar",configFields:F7(),partFields:$7(),factory:(r,i,u,d)=>{const b=ur(wh.sketch({fetch:()=>Ap(v=>{v(IS(r.overflowGroups.get()))}),layouts:{onLtr:()=>[Cs,ws],onRtl:()=>[ws,Cs],onBottomLtr:()=>[Tr,Ks],onBottomRtl:()=>[Ks,Tr]},getBounds:u.getOverflowBounds,lazySink:r.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:r.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,w)=>r[w?"onOpened":"onClosed"](v)}));return{uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.splitToolbarBehaviours,[Ts.config({others:{overflowGroup:()=>sy.sketch({...d["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,w)=>{r.builtGroups.set(Je(w,v.getSystem().build)),cw(v,b,r)},refresh:v=>cw(v,b,r),toggle:v=>{b.getOpt(v).each(w=>{wh.toggle(w)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(wh.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(wh.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(w=>{wh.reposition(w)})},getOverflow:v=>b.getOpt(v).bind(wh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,i,u)=>{r.setGroups(i,u)},refresh:(r,i)=>{r.refresh(i)},reposition:(r,i)=>{r.reposition(i)},toggle:(r,i)=>{r.toggle(i)},toggleWithoutFocusing:(r,i)=>{r.toggle(i)},isOpen:(r,i)=>r.isOpen(i),getOverflow:(r,i)=>r.getOverflow(i)}}),W7=j([Zg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Uo("onOpened"),Uo("onClosed")].concat(LI())),Z7=j([yl({factory:Gd,schema:qv(),name:"primary"}),yl({factory:Gd,schema:qv(),name:"overflow",overrides:r=>({toolbarBehaviours:Vt([zl.config({dimension:{property:"height"},closedClass:r.markers.closedClass,openClass:r.markers.openClass,shrinkingClass:r.markers.shrinkingClass,growingClass:r.markers.growingClass,onShrunk:i=>{zr(i,r,"overflow-button").each(u=>{Kn.off(u)}),r.onClosed(i)},onGrown:i=>{r.onOpened(i)},onStartGrow:i=>{zr(i,r,"overflow-button").each(Kn.on)}}),Tn.config({mode:"acyclic",onEscape:i=>(zr(i,r,"overflow-button").each(Jn.focus),P.some(!0))})])})}),zd({name:"overflow-button",overrides:r=>({buttonBehaviours:Vt([Kn.config({toggleClass:r.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),zd({name:"overflow-group"})]),IT=(r,i,u)=>{zr(r,i,"overflow-button").each(d=>{zr(r,i,"overflow").each(b=>{if(PT(r,i),zl.hasShrunk(b)){const v=i.onOpened;i.onOpened=w=>{u||Tn.focusIn(b),v(w),i.onOpened=v}}else{const v=i.onClosed;i.onClosed=w=>{u||Jn.focus(d),v(w),i.onClosed=v}}zl.toggleGrow(b)})})},PT=(r,i)=>{zr(r,i,"overflow").each(u=>{PI(r,i,d=>{const b=Je(d,v=>Qi(v));Gd.setGroups(u,b)}),zr(r,i,"overflow-button").each(d=>{zl.hasGrown(u)&&Kn.on(d)}),zl.refresh(u)})},LT=Ol({name:"SplitSlidingToolbar",configFields:W7(),partFields:Z7(),factory:(r,i,u,d)=>{const b="alloy.toolbar.toggle";return{uid:r.uid,dom:r.dom,components:i,behaviours:ho(r.splitToolbarBehaviours,[Ts.config({others:{overflowGroup:v=>sy.sketch({...d["overflow-group"](),items:[Bi.sketch({...d["overflow-button"](),action:w=>{wo(v,b)}})]})}}),po("toolbar-toggle-events",[Ct(b,v=>{IT(v,r,!1)})])]),apis:{setGroups:(v,w)=>{((k,E)=>{const I=Je(E,k.getSystem().build);r.builtGroups.set(I)})(v,w),PT(v,r)},refresh:v=>PT(v,r),toggle:v=>{IT(v,r,!1)},toggleWithoutFocusing:v=>{IT(v,r,!0)},isOpen:v=>((w,k)=>zr(w,k,"overflow").map(zl.hasGrown).getOr(!1))(v,r)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,i,u)=>{r.setGroups(i,u)},refresh:(r,i)=>{r.refresh(i)},toggle:(r,i)=>{r.toggle(i)},isOpen:(r,i)=>r.isOpen(i)}}),BI=r=>{const i=r.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[sy.parts.items({})],items:r.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Vt([Mr.config({}),Jn.config({})])}},PS=r=>sy.sketch(BI(r)),MI=(r,i)=>{const u=Gr(d=>{const b=Je(r.initGroups,PS);Gd.setGroups(d,b)});return Vt([S_(r.providers.isDisabled),Ea(),Tn.config({mode:i,onEscape:r.onEscape,selector:".tox-toolbar__group"}),po("toolbar-events",[u])])},FI=r=>{const i=r.cyclicKeying?"cyclic":"acyclic";return{uid:r.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":BI({title:P.none(),items:[]}),"overflow-button":X5({icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items")},P.none(),r.providers,[],"overflow-button")},splitToolbarBehaviours:MI(r,i)}},j7=r=>{const i=FI(r),u=NT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return NT.sketch({...i,lazySink:r.getSink,getOverflowBounds:()=>{const d=r.moreDrawerData.lazyHeader().element,b=ml(d),v=ji(d),w=ml(v),k=Math.max(v.dom.scrollHeight,w.height);return Co(b.x+4,w.y,b.width-8,k)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>r.onToggled(d,!0),onClosed:d=>r.onToggled(d,!1)})},K7=r=>{const i=LT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=LT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=FI(r);return LT.sketch({...d,components:[i,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([ES()],{type:"opened"}),r.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([ES()],{type:"closed"}),r.onToggled(b,!1)}})},BT=r=>{const i=r.cyclicKeying?"cyclic":"acyclic";return Gd.sketch({uid:r.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(r.type===Yu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Gd.parts.groups({})],toolbarBehaviours:MI(r,i)})},$I=[kp,Qu,Es("tooltip"),wc("buttonType","secondary",["primary","secondary"]),js("borderless",!1),Di("onAction")],MT={button:[...$I,Ju,zu("type",["button"])],togglebutton:[...$I,js("active",!1),zu("type",["togglebutton"])]},q7=[zu("type",["group"]),Cr("buttons",[],aa("type",MT))],G7=aa("type",{...MT,group:q7}),lg=Ln([Cr("buttons",[],G7),Di("onShow"),Di("onHide")]),HI=(r,i)=>((u,d)=>{var b,v;const w=u.type==="togglebutton",k=u.icon.map(le=>Bp(le,d.icons)).map(ur),E={...u,name:w?u.text.getOr(u.icon.getOr("")):(b=u.text)!==null&&b!==void 0?b:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:P.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},I=J3((v=u.buttonType)!==null&&v!==void 0?v:"secondary"),F=w?u.text.map(d.translate):P.some(d.translate(u.text)),B=F.map(As),z=E.tooltip.or(F).map(le=>({"aria-label":d.translate(le)})).getOr({}),G=k.map(le=>le.asSpec()),J=z1([G,B]),ae=u.icon.isSome()&&B.isSome(),ue={tag:"button",classes:I.concat(...u.icon.isSome()&&!ae?["tox-button--icon"]:[]).concat(...ae?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:z},ye=nw(E,P.some(le=>{const ie=he=>{k.map(xe=>xe.getOpt(le).each(_e=>{$n.set(_e,[Bp(he,d.icons)])}))};return w?u.onAction({setIcon:ie,setActive:he=>{const xe=le.element;he?(ms(xe,"tox-button--enabled"),nn(xe,"aria-pressed",!0)):(xs(xe,"tox-button--enabled"),xo(xe,"aria-pressed"))},isActive:()=>Ji(le.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:ie}):void 0}),[],ue,J,u.tooltip,d);return Bi.sketch(ye)})(r,i),zI=Xa().deviceType,FT=zI.isPhone(),ci=zI.isTablet();var ay=Ol({name:"silver.View",configFields:[Ot("viewConfig")],partFields:[mu({factory:{sketch:r=>{let i=!1;const u=Je(r.buttons,d=>d.type==="group"?(i=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Je(b.buttons,w=>HI(w,v))}))(d,r.providers)):HI(d,r.providers));return{uid:r.uid,dom:{tag:"div",classes:[i?"tox-view__toolbar":"tox-view__header",...FT||ci?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Vt([Jn.config({}),Tn.config({mode:"flow",selector:"button, .tox-button",focusInside:vv.OnEnterOrSpaceMode})]),components:i?u:[Zd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Zd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Ot("buttons"),Ot("providers")],name:"header"}),mu({factory:{sketch:r=>({uid:r.uid,behaviours:Vt([Jn.config({}),Mr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(r,i,u,d)=>{const b={getPane:v=>li.getPart(v,r,"pane"),getOnShow:v=>r.viewConfig.onShow,getOnHide:v=>r.viewConfig.onHide};return{uid:r.uid,dom:r.dom,components:i,behaviours:Vt([Jn.config({}),Tn.config({mode:"cyclic",focusInside:vv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(r,i)=>r.getPane(i),getOnShow:(r,i)=>r.getOnShow(i),getOnHide:(r,i)=>r.getOnHide(i)}});const Y7=(r,i,u)=>Us(i,(d,b)=>{const v=Oi(us("view",lg,d));return r.slot(b,ay.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[ay.parts.header({buttons:v.buttons,providers:u})]:[],ay.parts.pane({})]}))}),X7=(r,i)=>wl.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Y7(u,r,i),slotBehaviours:P2([Gr(d=>wl.hideAllSlots(d))])})),VI=r=>Q(wl.getSlotNames(r),i=>wl.isShowing(r,i)),UI=(r,i,u)=>{wl.getSlot(r,i).each(d=>{ay.getPane(d).each(b=>{var v;u(d)((v=b.element.dom,{getContainer:j(v)}))})})};var LS=gu({factory:(r,i)=>{const u={setViews:(d,b)=>{$n.set(d,[X7(b,i.backstage.shared.providers)])},whichView:d=>Ko.getCurrent(d).bind(VI),toggleView:(d,b,v,w)=>Ko.getCurrent(d).exists(k=>{const E=VI(k),I=E.exists(B=>w===B),F=wl.getSlot(k,w).isSome();return F&&(wl.hideAllSlots(k),I?((B=>{const z=B.element;ao(z,"display","none"),nn(z,"aria-hidden","true")})(d),b()):(v(),(B=>{const z=B.element;fr(z,"display"),xo(z,"aria-hidden")})(d),wl.showSlot(k,w),((B,z)=>{UI(B,z,ay.getOnShow)})(k,w)),E.each(B=>((z,G)=>UI(z,G,ay.getOnHide))(k,B))),F})};return{uid:r.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Vt([$n.config({}),Ko.config({find:d=>{const b=$n.contents(d);return De(b)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Ot("backstage")],apis:{setViews:(r,i,u)=>r.setViews(i,u),toggleView:(r,i,u,d,b)=>r.toggleView(i,u,d,b),whichView:(r,i)=>r.whichView(i)}});const J7=ag.optional({factory:ST,name:"menubar",schema:[Ot("backstage")]}),Q7=ag.optional({factory:{sketch:r=>yT.sketch({uid:r.uid,dom:r.dom,listBehaviours:Vt([Tn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>BT({type:r.type,uid:pn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:r.providers,onEscape:()=>(r.onEscape(),P.some(!0))}),setupItem:(i,u,d,b)=>{Gd.setGroups(u,d)},shell:!0})},name:"multiple-toolbar",schema:[Ot("dom"),Ot("onEscape")]}),e$=ag.optional({factory:{sketch:r=>(u=>u.type===Yu.sliding?K7:u.type===Yu.floating?j7:BT)(r)({type:r.type,uid:r.uid,onEscape:()=>(r.onEscape(),P.some(!0)),onToggled:(u,d)=>r.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:r.getSink,providers:r.providers,moreDrawerData:{lazyToolbar:r.lazyToolbar,lazyMoreButton:r.lazyMoreButton,lazyHeader:r.lazyHeader},attributes:r.attributes})},name:"toolbar",schema:[Ot("dom"),Ot("onEscape"),Ot("getSink")]}),t$=ag.optional({factory:{sketch:r=>{const i=r.editor,u=r.sticky?AI:kS;return{uid:r.uid,dom:r.dom,components:r.components,behaviours:Vt(u(i,r.sharedBackstage))}}},name:"header",schema:[Ot("dom")]}),n$=ag.optional({factory:{sketch:r=>({uid:r.uid,dom:r.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ot("dom")]}),o$=ag.optional({name:"socket",schema:[Ot("dom")]}),r$=ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Vt([Mr.config({}),Jn.config({}),zl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{Ko.getCurrent(i).each(wl.hideAllSlots),wo(i,AT)},onGrown:i=>{wo(i,AT)},onStartGrow:i=>{En(i,ET,{width:Zs(i.element,"width").getOr("")})},onStartShrink:i=>{En(i,ET,{width:wa(i.element)+"px"})}}),$n.config({}),Ko.config({find:i=>{const u=$n.contents(i);return De(u)}})])}],behaviours:Vt([w3(0),po("sidebar-sliding-events",[Ct(ET,(i,u)=>{ao(i.element,"width",u.event.width)}),Ct(AT,(i,u)=>{fr(i.element,"width")})])])})},name:"sidebar",schema:[Ot("dom")]}),s$=ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Vt([$n.config({}),id.config({focus:!1}),Ko.config({find:i=>De(i.components())})]),components:[]})},name:"throbber",schema:[Ot("dom")]}),a$=ag.optional({factory:LS,name:"viewWrapper",schema:[Ot("backstage")]}),i$=ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:r.components})},name:"editorContainer",schema:[]});var jr=Ol({name:"OuterContainer",factory:(r,i,u)=>{let d=!1;const b=w=>{Hr(w,".tox-statusbar").each(k=>{ps(k,"display")==="none"&&Ro(k,"aria-hidden")==="true"?(fr(k,"display"),xo(k,"aria-hidden")):(ao(k,"display","none"),nn(k,"aria-hidden","true"))})},v={getSocket:w=>li.getPart(w,r,"socket"),setSidebar:(w,k,E)=>{li.getPart(w,r,"sidebar").each(I=>((F,B,z)=>{Ko.getCurrent(F).each(G=>{$n.set(G,[RI(B)]);const J=z==null?void 0:z.toLowerCase();h(J)&&no(B,J)&&Ko.getCurrent(G).each(ae=>{wl.showSlot(ae,J),zl.immediateGrow(G),fr(G.element,"width"),OS(F.element,"region")})})})(I,k,E))},toggleSidebar:(w,k)=>{li.getPart(w,r,"sidebar").each(E=>((I,F)=>{Ko.getCurrent(I).each(B=>{Ko.getCurrent(B).each(z=>{zl.hasGrown(B)?wl.isShowing(z,F)?(zl.shrink(B),OS(I.element,"presentation")):(wl.hideAllSlots(z),wl.showSlot(z,F),OS(I.element,"region")):(wl.hideAllSlots(z),wl.showSlot(z,F),zl.grow(B),OS(I.element,"region"))})})})(E,k))},whichSidebar:w=>li.getPart(w,r,"sidebar").bind(L7).getOrNull(),getHeader:w=>li.getPart(w,r,"header"),getToolbar:w=>li.getPart(w,r,"toolbar"),setToolbar:(w,k)=>{li.getPart(w,r,"toolbar").each(E=>{const I=Je(k,PS);E.getApis().setGroups(E,I)})},setToolbars:(w,k)=>{li.getPart(w,r,"multiple-toolbar").each(E=>{const I=Je(k,F=>Je(F,PS));yT.setItems(E,I)})},refreshToolbar:w=>{li.getPart(w,r,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{li.getPart(w,r,"toolbar").each(k=>{sa(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{li.getPart(w,r,"toolbar").each(k=>{sa(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>li.getPart(w,r,"toolbar").bind(k=>P.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>li.getPart(w,r,"throbber"),focusToolbar:w=>{li.getPart(w,r,"toolbar").orThunk(()=>li.getPart(w,r,"multiple-toolbar")).each(k=>{Tn.focusIn(k)})},setMenubar:(w,k)=>{li.getPart(w,r,"menubar").each(E=>{ST.setMenus(E,k)})},focusMenubar:w=>{li.getPart(w,r,"menubar").each(k=>{ST.focus(k)})},setViews:(w,k)=>{li.getPart(w,r,"viewWrapper").each(E=>{LS.setViews(E,k)})},toggleView:(w,k)=>li.getPart(w,r,"viewWrapper").exists(E=>LS.toggleView(E,()=>v.showMainView(w),()=>v.hideMainView(w),k)),whichView:w=>li.getPart(w,r,"viewWrapper").bind(LS.whichView).getOrNull(),hideMainView:w=>{d=v.isToolbarDrawerToggled(w),d&&v.toggleToolbarDrawer(w),li.getPart(w,r,"editorContainer").each(k=>{const E=k.element;b(E),ao(E,"display","none"),nn(E,"aria-hidden","true")})},showMainView:w=>{d&&v.toggleToolbarDrawer(w),li.getPart(w,r,"editorContainer").each(k=>{const E=k.element;b(E),fr(E,"display"),xo(E,"aria-hidden")})}};return{uid:r.uid,dom:r.dom,components:i,apis:v,behaviours:r.behaviours}},configFields:[Ot("dom"),Ot("behaviours")],partFields:[t$,J7,e$,Q7,o$,r$,n$,s$,a$,i$],apis:{getSocket:(r,i)=>r.getSocket(i),setSidebar:(r,i,u,d)=>{r.setSidebar(i,u,d)},toggleSidebar:(r,i,u)=>{r.toggleSidebar(i,u)},whichSidebar:(r,i)=>r.whichSidebar(i),getHeader:(r,i)=>r.getHeader(i),getToolbar:(r,i)=>r.getToolbar(i),setToolbar:(r,i,u)=>{r.setToolbar(i,u)},setToolbars:(r,i,u)=>{r.setToolbars(i,u)},refreshToolbar:(r,i)=>r.refreshToolbar(i),toggleToolbarDrawer:(r,i)=>{r.toggleToolbarDrawer(i)},toggleToolbarDrawerWithoutFocusing:(r,i)=>{r.toggleToolbarDrawerWithoutFocusing(i)},isToolbarDrawerToggled:(r,i)=>r.isToolbarDrawerToggled(i),getThrobber:(r,i)=>r.getThrobber(i),setMenubar:(r,i,u)=>{r.setMenubar(i,u)},focusMenubar:(r,i)=>{r.focusMenubar(i)},focusToolbar:(r,i)=>{r.focusToolbar(i)},setViews:(r,i,u)=>{r.setViews(i,u)},toggleView:(r,i,u)=>r.toggleView(i,u),whichView:(r,i)=>r.whichView(i)}});const WI={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},$T=r=>r.split(" "),ZI=(r,i)=>{const u={...WI,...i.menus},d=Ft(i.menus).length>0,b=i.menubar===void 0||i.menubar===!0?$T("file edit view insert format tools table help"):$T(i.menubar===!1?"":i.menubar),v=jn(b,k=>{const E=no(WI,k);return d?E||yn(i.menus,k).exists(I=>no(I,"items")):E}),w=Je(v,k=>{const E=u[k];return((I,F,B)=>{const z=cR(B).split(/[ ,]/);return{text:I.title,getItems:()=>Do(I.items,G=>{const J=G.toLowerCase();return J.trim().length===0||_n(z,ae=>ae===J)?[]:J==="separator"||J==="|"?[{type:"separator"}]:F.menuItems[J]?[F.menuItems[J]]:[]})}})({title:E.title,items:$T(E.items)},i,r)});return jn(w,k=>k.getItems().length>0&&_n(k.getItems(),E=>h(E)||E.type!=="separator"))},jI=(r,i,u)=>(r.on("remove",()=>u.unload(i)),u.load(i)),HT=(r,i,u,d)=>(r.on("remove",()=>d.unloadRawCss(i)),d.loadRawCss(i,u)),l$=async(r,i)=>{const u="ui/"+o_(r).getOr("default")+"/skin.css",d=tinymce.Resource.get(u);if(!h(d)){const b=r.editorManager.suffix;return jI(r,i+`/skin${b}.css`,r.ui.styleSheetLoader)}HT(r,u,d,r.ui.styleSheetLoader)},c$=async(r,i)=>{var u;if(u=rn(r.getElement()),zt(u).isSome()){const d="ui/"+o_(r).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(d);if(!h(b)){const v=r.editorManager.suffix;return jI(r,i+`/skin.shadowdom${v}.css`,N1.DOM.styleSheetLoader)}HT(r,d,b,N1.DOM.styleSheetLoader)}},KI=(r,i)=>(async(u,d)=>{const b=()=>{const w=n_(d),k=d.editorManager.suffix;w&&d.contentCSS.push(w+(u?"/content.inline":"/content")+`${k}.css`)};o_(d).fold(b,w=>{const k="ui/"+w+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?HT(d,k,E,d.ui.styleSheetLoader):b()});const v=n_(d);if(!bp(d)&&h(v))return Promise.all([l$(d,v),c$(d,v)]).then()})(r,i).then((u=>{const d=()=>{u._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?d():u.on("init",d)}})(i),((u,d)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(u,{message:"Skin could not be loaded"}))(i)),qI=Ue(KI,!1),u$=Ue(KI,!0),Gv=(r,i,u)=>Du(u)?r.translate(i):r.translate([i,r.translate(u)]),d$=(r,i)=>{const u=(v,w,k,E)=>{const I=r.shared.providers.translate(v.title);if(v.type==="separator")return P.some({type:"separator",text:I});if(v.type==="submenu"){const F=Do(v.getStyleItems(),B=>d(B,w,E));return w===0&&F.length<=0?P.none():P.some({type:"nestedmenuitem",text:I,enabled:F.length>0,getSubmenuItems:()=>Do(v.getStyleItems(),B=>d(B,w,E))})}return P.some({type:"togglemenuitem",text:I,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:i.onAction(v),...v.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},d=(v,w,k)=>{const E=v.type==="formatter"&&i.isInvalid(v);return w===0?E?[]:u(v,w,!1,k).toArray():u(v,w,E,k).toArray()},b=v=>{const w=i.getCurrentValue(),k=i.shouldHide?0:1;return Do(v,E=>d(E,k,w))};return{validateItems:b,getFetch:(v,w)=>(k,E)=>{const I=w(),F=b(I);E(jv(F,qf.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:P.none()}))}}},iy=(r,i)=>{const u=i.dataset,d=u.type==="basic"?()=>Je(u.data,b=>mI(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:d$(r,i),getStyleItems:d}},uw=(r,i,u,d,b,v)=>{const{items:w,getStyleItems:k}=iy(i,u),E=Dn(u.tooltip);return $3({text:u.icon.isSome()?P.none():u.text,icon:u.icon,ariaLabel:P.some(u.tooltip),tooltip:P.none(),role:P.none(),fetch:w.getFetch(i,k),onSetup:I=>{const F=B=>I.setTooltip(Gv(r,d(B.value),B.value));return r.on(b,F),Z1(Fv(r,"NodeChange",B=>{const z=B.getComponent();u.updateText(z),eo.set(B.getComponent(),!r.selection.isEditable())})(I),()=>r.off(b,F))},getApi:I=>({getComponent:j(I),setTooltip:F=>{const B=i.shared.providers.translate(F);nn(I.element,"aria-label",B),E.set(F)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Gs.config({...i.shared.providers.tooltips.getConfig({tooltipText:i.shared.providers.translate(u.tooltip),onShow:I=>{if(u.tooltip!==E.get()){const F=i.shared.providers.translate(E.get());Gs.setComponents(I,i.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",i.shared,v)};var Yv;(function(r){r[r.SemiColon=0]="SemiColon",r[r.Space=1]="Space"})(Yv||(Yv={}));const zT=(r,i,u)=>{const d=(b=((v,w)=>w===Yv.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(r.options.get(i),u),Je(b,v=>{let w=v,k=v;const E=v.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var b;return{type:"basic",data:d}},GI=j("Alignment {0}"),YI="left",VT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],UT=r=>{const i={type:"basic",data:VT};return{tooltip:Gv(r,GI(),YI),text:P.none(),icon:P.some("align-left"),isSelectedFor:u=>()=>r.formatter.match(u),getCurrentValue:P.none,getPreviewFor:u=>P.none,onAction:u=>()=>Q(VT,d=>d.format===u.format).each(d=>r.execCommand(d.command)),updateText:u=>{const d=Q(VT,b=>r.formatter.match(b.format)).fold(j(YI),b=>b.title.toLowerCase());En(u,rd,{icon:`align-${d}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(r,{value:d})},dataset:i,shouldHide:!1,isInvalid:u=>!r.formatter.canApply(u.format)}},XI=(r,i)=>{const u=i(),d=Je(u,b=>b.format);return P.from(r.formatter.closest(d)).bind(b=>Q(u,v=>v.format===b))},WT=j("Block {0}"),ZT="Paragraph",jT=r=>{const i=zT(r,"block_formats",Yv.SemiColon);return{tooltip:Gv(r,WT(),ZT),text:P.some(ZT),icon:P.none(),isSelectedFor:u=>()=>r.formatter.match(u),getCurrentValue:P.none,getPreviewFor:u=>()=>{const d=r.formatter.get(u);return d?P.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(u))}):P.none()},onAction:EN(r),updateText:u=>{const d=XI(r,()=>i.data).fold(j(ZT),b=>b.title);En(u,xu,{text:d}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(r,{value:d})},dataset:i,shouldHide:!1,isInvalid:u=>!r.formatter.canApply(u.format)}},JI=j("Font {0}"),KT="System Font",f$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],QI=r=>{const i=r.split(/\s*,\s*/);return Je(i,u=>u.replace(/^['"]+|['"]+$/g,""))},e6=(r,i)=>i.length>0&&Ye(i,u=>r.indexOf(u.toLowerCase())>-1),t6=r=>{const i=()=>{const d=I=>I?QI(I)[0]:"",b=r.queryCommandValue("FontName"),v=u.data,w=b?b.toLowerCase():"",k=t_(r);return{matchOpt:Q(v,I=>{const F=I.format;return F.toLowerCase()===w||d(F).toLowerCase()===d(w).toLowerCase()}).orThunk(()=>Xo(((I,F)=>{if(I.indexOf("-apple-system")===0||F.length>0){const B=QI(I.toLowerCase());return e6(B,f$)||e6(B,F)}return!1})(w,k),{title:KT,format:w})),font:b}},u=zT(r,"font_family_formats",Yv.SemiColon);return{tooltip:Gv(r,JI(),KT),text:P.some(KT),icon:P.none(),isSelectedFor:d=>b=>b.exists(v=>v.format===d),getCurrentValue:()=>{const{matchOpt:d}=i();return d},getPreviewFor:d=>()=>P.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}}),onAction:d=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontName",!1,d.format)})},updateText:d=>{const{matchOpt:b,font:v}=i(),w=b.fold(j(v),k=>k.title);En(d,xu,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(r,{value:w})},dataset:u,shouldHide:!1,isInvalid:Oe}},m$={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},g$=(()=>{const r="[0-9]+",i="[eE][+-]?"+r,u=b=>`(?:${b})?`,d=["Infinity",r+"\\."+u(r)+u(i),"\\."+r+u(i),r+u(i)].join("|");return new RegExp(`^([+-]?(?:${d}))(.*)$`)})(),BS=(r,i)=>P.from(g$.exec(r)).bind(u=>{const d=Number(u[1]),b=u[2];return((v,w)=>_n(w,k=>_n(m$[k],E=>v===E)))(b,i)?P.some({value:d,unit:b}):P.none()}),n6={tab:j(9),escape:j(27),enter:j(13),backspace:j(8),delete:j(46),left:j(37),up:j(38),right:j(39),down:j(40),space:j(32),home:j(36),end:j(35),pageUp:j(33),pageDown:j(34)},o6=j("Font size {0}"),r6="12pt",h$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},s6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},p$=(r,i)=>/[0-9.]+px$/.test(r)?((u,d)=>{const b=Math.pow(10,d);return Math.round(u*b)/b})(72*parseInt(r,10)/96,i||0)+"pt":yn(s6,r).getOr(r),b$=r=>yn(h$,r).getOr(""),a6=r=>{const i=()=>{let b=P.none();const v=d.data,w=r.queryCommandValue("FontSize");if(w)for(let k=3;b.isNone()&&k>=0;k--){const E=p$(w,k),I=b$(E);b=Q(v,F=>F.format===w||F.format===E||F.format===I)}return{matchOpt:b,size:w}},u=j(P.none),d=zT(r,"font_size_formats",Yv.Space);return{tooltip:Gv(r,o6(),r6),text:P.some(r6),icon:P.none(),isSelectedFor:b=>v=>v.exists(w=>w.format===b),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:b}=i();return b},onAction:b=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:w}=i(),k=v.fold(j(w),E=>E.title);En(b,xu,{text:k}),((E,I)=>{E.dispatch("FontSizeTextUpdate",I)})(r,{value:k})},dataset:d,shouldHide:!1,isInvalid:Oe}},i6=r=>Du(r)?"Formats":"Format {0}",l6=(r,i)=>{const u="Formats";return{tooltip:Gv(r,i6(""),""),text:P.some(u),icon:P.none(),isSelectedFor:d=>()=>r.formatter.match(d),getCurrentValue:P.none,getPreviewFor:d=>()=>{const b=r.formatter.get(d);return b!==void 0?P.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(d))}):P.none()},onAction:EN(r),updateText:d=>{const b=k=>uI(k)?Do(k.items,b):dI(k)?[{title:k.title,format:k.format}]:[],v=Do(fI(r),b),w=XI(r,j(v)).fold(j({title:u,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));En(d,xu,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(r,{value:w.tooltipLabel})},shouldHide:lR(r),isInvalid:d=>!r.formatter.canApply(d.format),dataset:i}},qT=j([Ot("toggleClass"),Ot("fetch"),Zu("onExecute"),rt("getHotspot",P.some),rt("getAnchorOverrides",j({})),Nf(),Zu("onItemExecute"),Bo("lazySink"),Ot("dom"),Uo("onOpen"),bn("splitDropdownBehaviours",[Ts,Tn,Jn]),rt("matchWidth",!1),rt("useMinWidth",!1),rt("eventOrder",{}),Bo("role"),Bo("listRole")].concat(ZA())),v$=yl({factory:Bi,schema:[Ot("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Vt([Jn.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(r.uid).each(kf)},buttonBehaviours:Vt([Kn.config({toggleOnExecute:!1,toggleClass:r.toggleClass})])})}),y$=yl({factory:Bi,schema:[Ot("dom")],name:"button",defaults:()=>({buttonBehaviours:Vt([Jn.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(r.uid).each(u=>{r.onExecute(u,i)})}})}),x$=j([v$,y$,mu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Ot("text")],name:"aria-descriptor"}),zd({schema:[Wg()],name:"menu",defaults:r=>({onExecute:(i,u)=>{i.getSystem().getByUid(r.uid).each(d=>{r.onItemExecute(d,i,u)})}})}),VN()]),dw=Ol({name:"SplitDropdown",configFields:qT(),partFields:x$(),factory:(r,i,u,d)=>{const b=I=>{Ko.getCurrent(I).each(F=>{mr.highlightFirst(F),Tn.focusIn(F)})},v=I=>{VA(r,de,I,d,b,ol.HighlightMenuAndItem).get(X)},w=I=>{const F=ih(I,r,"button");return kf(F),P.some(!0)},k={...lo([Gr((I,F)=>{zr(I,r,"aria-descriptor").each(B=>{const z=pn("aria");nn(B.element,"id",z),nn(I.element,"aria-describedby",z)})})]),...R1(P.some(v))},E={repositionMenus:I=>{Kn.isOn(I)&&ZN(I)}};return{uid:r.uid,dom:r.dom,components:i,apis:E,eventOrder:{...r.eventOrder,[gl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:ho(r.splitDropdownBehaviours,[Ts.config({others:{sandbox:I=>{const F=ih(I,r,"arrow");return WA(r,I,{onOpen:()=>{Kn.on(F),Kn.on(I)},onClose:()=>{Kn.off(F),Kn.off(I)}})}}}),Tn.config({mode:"special",onSpace:w,onEnter:w,onDown:I=>(v(I),P.some(!0))}),Jn.config({}),Kn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:r.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(r,i)=>r.repositionMenus(i)}}),GT=r=>({isEnabled:()=>!eo.isDisabled(r),setEnabled:i=>eo.set(r,!i),setText:i=>En(r,xu,{text:i}),setIcon:i=>En(r,rd,{icon:i})}),w$=r=>({setActive:i=>{Kn.set(r,i)},isActive:()=>Kn.isOn(r),isEnabled:()=>!eo.isDisabled(r),setEnabled:i=>eo.set(r,!i),setText:i=>En(r,xu,{text:i}),setIcon:i=>En(r,rd,{icon:i})}),c6=(r,i)=>r.map(u=>({"aria-label":i.translate(u)})).getOr({}),YT=pn("focus-button"),XT=(r,i,u,d,b,v)=>{const w=i.map(E=>ur(F3(E,"tox-tbtn",b))),k=r.map(E=>ur(Bp(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:{...c6(u,b),...V(v)?{"data-mce-name":v}:{}}},components:z1([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Dt()]:["focusing","alloy.base.behaviour",Lp],[ni()]:[Lp,"toolbar-group-button-events"]},buttonBehaviours:Vt([S_(b.isDisabled),Ea(),po(Lp,[Gr((E,I)=>dS(E)),Ct(xu,(E,I)=>{w.bind(F=>F.getOpt(E)).each(F=>{$n.set(F,[As(b.translate(I.event.text))])})}),Ct(rd,(E,I)=>{k.bind(F=>F.getOpt(E)).each(F=>{$n.set(F,[Bp(I.event.icon,b.icons)])})}),Ct(Dt(),(E,I)=>{I.event.prevent(),wo(E,YT)})])].concat(d.getOr([])))}},u6=(r,i,u,d)=>{var b;const v=Dn(X),w=XT(r.icon,r.text,r.tooltip,P.none(),u,d);return Bi.sketch({dom:w.dom,components:w.components,eventOrder:M3,buttonBehaviours:{...Vt([po("toolbar-button-events",[(k={onAction:r.onAction,getApi:i.getApi},au((E,I)=>{L2(k,E)(F=>{En(E,uS,{buttonApi:F}),k.onAction(F)})})),Ep(i,v),mh(i,v)]),...r.tooltip.map(E=>Gs.config(u.tooltips.getConfig({tooltipText:u.translate(E)+r.shortcut.map(I=>` (${k_(I)})`).getOr("")}))).toArray(),S_(()=>!r.enabled||u.isDisabled()),Ea()].concat(i.toolbarButtonBehaviours)),[Lp]:(b=w.buttonBehaviours)===null||b===void 0?void 0:b[Lp]}});var k},d6=(r,i,u,d)=>u6(r,{toolbarButtonBehaviours:u.length>0?[po("toolbarButtonWith",u)]:[],getApi:GT,onSetup:r.onSetup},i,d),f6=(r,i,u,d)=>u6(r,{toolbarButtonBehaviours:[$n.config({}),Kn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[po("toolbarToggleButtonWith",u)]:[]),getApi:w$,onSetup:r.onSetup},i,d),C$=(r,i,u)=>d=>Ap(b=>i.fetch(b)).map(b=>P.from(jA(Ar(Hv(pn("menu-value"),b,v=>{i.onItemAction(r(d),v)},i.columns,i.presets,qf.CLOSE_ON_EXECUTE,i.select.getOr(Oe),u),{movement:H2(i.columns,i.presets),menuBehaviours:P2(i.columns!=="auto"?[]:[Gr((v,w)=>{bA(v,4,_p(i.presets)).each(({numRows:k,numColumns:E})=>{Tn.setGridSize(v,k,E)})})])})))),_$=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Hp=(r,i)=>(u,d,b,v)=>{const w=r(u).mapError(k=>Yi(k)).getOrDie();return i(w,d,b,v)},S$={button:Hp(eN,(r,i,u,d)=>((b,v,w)=>d6(b,v,[],w))(r,i.shared.providers,d)),togglebutton:Hp(w_,(r,i,u,d)=>((b,v,w)=>f6(b,v,[],w))(r,i.shared.providers,d)),menubutton:Hp(OI,(r,i,u,d)=>ey(r,"tox-tbtn",i,P.none(),!1,d)),splitbutton:Hp(r=>us("SplitButton",O7,r),(r,i,u,d)=>((b,v,w)=>{const k=Dn(b.tooltip.getOr("")),E=B=>({isEnabled:()=>!eo.isDisabled(B),setEnabled:z=>eo.set(B,!z),setIconFill:(z,G)=>{ts(B.element,`svg path[class="${z}"], rect[class="${z}"]`).each(J=>{nn(J,"fill",G)})},setActive:z=>{nn(B.element,"aria-pressed",z),ts(B.element,"span").each(G=>{B.getSystem().getByDom(G).each(J=>Kn.set(J,z))})},isActive:()=>ts(B.element,"span").exists(z=>B.getSystem().getByDom(z).exists(Kn.isOn)),setText:z=>ts(B.element,"span").each(G=>B.getSystem().getByDom(G).each(J=>En(J,xu,{text:z}))),setIcon:z=>ts(B.element,"span").each(G=>B.getSystem().getByDom(G).each(J=>En(J,rd,{icon:z}))),setTooltip:z=>{const G=v.providers.translate(z);nn(B.element,"aria-label",G),k.set(z)}}),I=Dn(X),F={getApi:E,onSetup:b.onSetup};return dw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...c6(b.tooltip,v.providers),...V(w)?{"data-mce-name":w}:{}}},onExecute:B=>{const z=E(B);z.isEnabled()&&b.onAction(z)},onItemExecute:(B,z,G)=>{},splitDropdownBehaviours:Vt([dN(v.providers.isDisabled),Ea(),po("split-dropdown-events",[Gr((B,z)=>dS(B)),Ct(YT,Jn.focus),Ep(F,I),mh(F,I)]),Vv.config({}),...b.tooltip.map(B=>Gs.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(B),onShow:z=>{if(k.get()!==B){const G=v.providers.translate(k.get());Gs.setComponents(z,v.providers.tooltips.getComponents({tooltipText:G}))}}})})).toArray()]),eventOrder:{[ni()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[_c()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:C$(E,b,v.providers),parts:{menu:p_(0,b.columns,b.presets)},components:[dw.parts.button(XT(b.icon,b.text,P.none(),P.some([Kn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),dw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:NR("chevron-down",v.providers.icons)},buttonBehaviours:Vt([dN(v.providers.isDisabled),Ea(),m_()])}),dw.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(r,i.shared,d)),grouptoolbarbutton:Hp(r=>us("GroupToolbarButton",A7,r),(r,i,u,d)=>{const b=u.ui.registry.getAll().buttons,v={[vl]:i.shared.header.isPositionedAtTop()?Ic.TopToBottom:Ic.BottomToTop};if(Av(u)===Yu.floating)return((w,k,E,I,F)=>{const B=k.shared,z=Dn(X),G={toolbarButtonBehaviours:[],getApi:GT,onSetup:w.onSetup},J=[po("toolbar-group-button-events",[Ep(G,z),mh(G,z)])];return wh.sketch({lazySink:B.getSink,fetch:()=>Ap(ae=>{ae(Je(E(w.items),PS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:XT(w.icon,w.text,w.tooltip,P.some(J),B.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:I}}}})})(r,i,w=>MS(u,{buttons:b,toolbar:w,allowToolbarGroups:!1},i,P.none()),v,d);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},fw={styles:(r,i)=>{const u={type:"advanced",...i.styles};return uw(r,i,l6(r,u),i6,"StylesTextUpdate","styles")},fontsize:(r,i)=>uw(r,i,a6(r),o6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(r,i)=>((u,d,b,v)=>{let w=P.none();const k=Fv(u,"NodeChange SwitchMode",he=>{const xe=he.getComponent();w=P.some(xe),b.updateInputValue(xe),eo.set(xe,!u.selection.isEditable())}),E=he=>({getComponent:j(he)}),I=Dn(X),F=pn("custom-number-input-events"),B=(he,xe,_e)=>{const Ve=w.map($t=>lt.getValue($t)).getOr(""),nt=b.getNewValue(Ve,he),kt=Ve.length-`${nt}`.length,wt=w.map($t=>$t.element.dom.selectionStart-kt),yt=w.map($t=>$t.element.dom.selectionEnd-kt);b.onAction(nt,_e),w.each($t=>{lt.setValue($t,nt),xe&&(wt.each(dn=>$t.element.dom.selectionStart=dn),yt.each(dn=>$t.element.dom.selectionEnd=dn))})},z=(he,xe)=>B((_e,Ve)=>_e-Ve,he,xe),G=(he,xe)=>B((_e,Ve)=>_e+Ve,he,xe),J=he=>gi(he.element).fold(P.none,xe=>(Ii(xe),P.some(!0))),ae=he=>eh(he.element)?(ke(he.element).each(xe=>Ii(xe)),P.some(!0)):P.none(),ue=(he,xe,_e,Ve)=>{const nt=Dn(X),kt=d.shared.providers.translate(_e),wt=pn("altExecuting"),yt=Fv(u,"NodeChange SwitchMode",dn=>{eo.set(dn.getComponent(),!u.selection.isEditable())}),$t=dn=>{eo.isDisabled(dn)||he(!0)};return Bi.sketch({dom:{tag:"button",attributes:{"aria-label":kt,"data-mce-name":xe},classes:Ve.concat(xe)},components:[J2(xe,d.shared.providers.icons)],buttonBehaviours:Vt([eo.config({}),Gs.config(d.shared.providers.tooltips.getConfig({tooltipText:kt})),po(wt,[Ep({onSetup:yt,getApi:E},nt),mh({getApi:E},nt),Ct(fs(),(dn,Cn)=>{Cn.event.raw.keyCode!==n6.space()&&Cn.event.raw.keyCode!==n6.enter()||eo.isDisabled(dn)||he(!1)}),Ct(ia(),$t),Ct(Re(),$t)])]),eventOrder:{[fs()]:[wt,"keying"],[ia()]:[wt,"alloy.base.behaviour"],[Re()]:[wt,"alloy.base.behaviour"],[ni()]:["alloy.base.behaviour",wt,"tooltipping"],[_c()]:[wt,"tooltipping"]}})},ye=ur(ue(he=>z(!1,he),"minus","Decrease font size",[])),le=ur(ue(he=>G(!1,he),"plus","Increase font size",[])),ie=ur({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[fh.sketch({inputBehaviours:Vt([eo.config({}),po(F,[Ep({onSetup:k,getApi:E},I),mh({getApi:E},I)]),po("input-update-display-text",[Ct(xu,(he,xe)=>{lt.setValue(he,xe.event.text)}),Ct(Is(),he=>{b.onAction(lt.getValue(he))}),Ct(Sm(),he=>{b.onAction(lt.getValue(he))})]),Tn.config({mode:"special",onEnter:he=>(B(de,!0,!0),P.some(!0)),onEscape:J,onUp:he=>(G(!0,!1),P.some(!0)),onDown:he=>(z(!0,!1),P.some(!0)),onLeft:(he,xe)=>(xe.cut(),P.none()),onRight:(he,xe)=>(xe.cut(),P.none())})])})],behaviours:Vt([Jn.config({}),Tn.config({mode:"special",onEnter:ae,onSpace:ae,onEscape:J}),po("input-wrapper-events",[Ct(kn(),he=>{Tt([ye,le],xe=>{const _e=rn(xe.get(he).element.dom);eh(_e)&&Yb(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...V(v)?{"data-mce-name":v}:{}}},components:[ye.asSpec(),ie.asSpec(),le.asSpec()],behaviours:Vt([Jn.config({}),Tn.config({mode:"flow",focusInside:vv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:he=>eh(he.element)?P.none():(Ii(he.element),P.some(!0))})])}})(r,i,(u=>{const d=()=>u.queryCommandValue("FontSize");return{updateInputValue:b=>En(b,xu,{text:d()}),onAction:(b,v)=>u.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{BS(b,["unsupportedLength","empty"]);const w=d(),k=BS(b,["unsupportedLength","empty"]).or(BS(w,["unsupportedLength","empty"])),E=k.map(G=>G.value).getOr(16),I=UE(u),F=k.map(G=>G.unit).filter(G=>G!=="").getOr(I),B=v(E,(G=>{var J;return(J={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[G])!==null&&J!==void 0?J:{step:1}})(F).step),z=`${(G=>G>=0)(B)?B:E}${F}`;return z!==w&&((G,J)=>{G.dispatch("FontSizeInputTextUpdate",J)})(u,{value:z}),z}}})(r),"fontsizeinput"),fontfamily:(r,i)=>uw(r,i,t6(r),JI,"FontFamilyTextUpdate","fontfamily"),blocks:(r,i)=>uw(r,i,jT(r),WT,"BlocksTextUpdate","blocks"),align:(r,i)=>uw(r,i,UT(r),GI,"AlignTextUpdate","align")},MS=(r,i,u,d)=>{const b=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(I=>{const F=Je(_$,B=>{const z=jn(B.items,G=>no(I,G)||no(fw,G));return{name:B.name,items:z}});return jn(F,B=>B.items.length>0)})(E):h(k)?(I=>{const F=I.split("|");return Je(F,B=>({items:B.trim().split(" ")}))})(k):(I=>ce(I,F=>no(F,"name")&&no(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(i),v=Je(b,w=>{const k=Do(w.items,E=>E.trim().length===0?[]:((I,F,B,z,G,J)=>yn(F,B.toLowerCase()).orThunk(()=>J.bind(ae=>on(ae,ue=>yn(F,ue+B.toLowerCase())))).fold(()=>yn(fw,B.toLowerCase()).map(ae=>ae(I,G)),ae=>ae.type!=="grouptoolbarbutton"||z?((ue,ye,le,ie)=>yn(S$,ue.type).fold(()=>(console.error("skipping button defined by",ue),P.none()),he=>P.some(he(ue,ye,le,ie))))(ae,G,I,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none())))(r,i.buttons,E,i.allowToolbarGroups,u,d).toArray());return{title:P.from(r.translate(w.name)),items:k}});return jn(v,w=>w.items.length>0)},m6=(r,i,u,d)=>{const b=i.mainUi.outerContainer,v=u.toolbar,w=u.buttons;if(ce(v,h)){const k=v.map(E=>{const I={toolbar:E,buttons:w,allowToolbarGroups:u.allowToolbarGroups};return MS(r,I,d,P.none())});jr.setToolbars(b,k)}else jr.setToolbar(b,MS(r,u,d,P.none()))},g6=Xa(),k$=g6.os.isiOS()&&g6.os.version.major<=12;var TU=Object.freeze({__proto__:null,render:(r,i,u,d,b)=>{const{mainUi:v,uiMotherships:w}=i,k=Dn(0),E=v.outerContainer;qI(r);const I=rn(b.targetNode),F=Qe(ut(I));vt(I,v.mothership),((J,ae,ue)=>{dh(J)&&vt(ue.mainUi.mothership.element,ue.popupUi.mothership),Hx(ae,ue.dialogUi.mothership)})(r,F,i),r.on("SkinLoaded",()=>{jr.setSidebar(E,u.sidebar,e_(r)),m6(r,i,u,d),k.set(r.getWin().innerWidth),jr.setMenubar(E,ZI(r,u)),jr.setViews(E,u.views),((J,ae)=>{const{uiMotherships:ue}=ae,ye=J.dom;let le=J.getWin();const ie=J.getDoc().documentElement,he=Dn(Ur(le.innerWidth,le.innerHeight)),xe=Dn(Ur(ie.offsetWidth,ie.offsetHeight)),_e=()=>{const wt=he.get();wt.left===le.innerWidth&&wt.top===le.innerHeight||(he.set(Ur(le.innerWidth,le.innerHeight)),Mv(J))},Ve=()=>{const wt=J.getDoc().documentElement,yt=xe.get();yt.left===wt.offsetWidth&&yt.top===wt.offsetHeight||(xe.set(Ur(wt.offsetWidth,wt.offsetHeight)),Mv(J))},nt=wt=>{((yt,$t)=>{yt.dispatch("ScrollContent",$t)})(J,wt)};ye.bind(le,"resize",_e),ye.bind(le,"scroll",nt);const kt=Rx(rn(J.getBody()),"load",Ve);J.on("hide",()=>{Tt(ue,wt=>{ao(wt.element,"display","none")})}),J.on("show",()=>{Tt(ue,wt=>{fr(wt.element,"display")})}),J.on("NodeChange",Ve),J.on("remove",()=>{kt.unbind(),ye.unbind(le,"resize",_e),ye.unbind(le,"scroll",nt),le=null})})(r,i)});const B=jr.getSocket(E).getOrDie("Could not find expected socket element");if(k$){Ki(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const J=((ue,ye)=>{let le=null;return{cancel:()=>{R(le)||(clearTimeout(le),le=null)},throttle:(...ie)=>{R(le)&&(le=setTimeout(()=>{le=null,ue.apply(null,ie)},20))}}})(()=>{r.dispatch("ScrollContent")}),ae=Pi(B.element,"scroll",J.throttle);r.on("remove",ae.unbind)}uN(r,i),r.addCommand("ToggleSidebar",(J,ae)=>{jr.toggleSidebar(E,ae),(ue=>{ue.dispatch("ToggleSidebar")})(r)}),r.addQueryValueHandler("ToggleSidebar",()=>{var J;return(J=jr.whichSidebar(E))!==null&&J!==void 0?J:""}),r.addCommand("ToggleView",(J,ae)=>{if(jr.toggleView(E,ae)){const ue=E.element;v.mothership.broadcastOn([M()],{target:ue}),Tt(w,ye=>{ye.broadcastOn([M()],{target:ue})}),R(jr.whichView(E))&&(r.focus(),r.nodeChanged(),jr.refreshToolbar(E)),(ye=>{ye.dispatch("ToggleView")})(r)}}),r.addQueryValueHandler("ToggleView",()=>{var J;return(J=jr.whichView(E))!==null&&J!==void 0?J:""});const z=Av(r);z!==Yu.sliding&&z!==Yu.floating||r.on("ResizeWindow ResizeEditor ResizeContent",()=>{const J=r.getWin().innerWidth;J!==k.get()&&(jr.refreshToolbar(i.mainUi.outerContainer),k.set(J))});const G={setEnabled:J=>{Lv(i,!J)},isEnabled:()=>!eo.isDisabled(E)};return{iframeContainer:B.element.dom,editorContainer:E.element.dom,api:G}}});const mw=r=>/^[0-9\.]+(|px)$/i.test(""+r)?P.some(parseInt(""+r,10)):P.none(),zp=r=>te(r)?r+"px":r,gw=(r,i,u)=>{const d=i.filter(v=>r<v),b=u.filter(v=>r>v);return d.or(b).getOr(r)},JT=r=>{const i=l2(r),u=c2(r),d=P1(r);return mw(i).map(b=>gw(b,u,d))},{ToolbarLocation:QT,ToolbarMode:h6}=h2,E$=(r,i,u,d,b)=>{const{mainUi:v,uiMotherships:w}=u,k=N1.DOM,E=Tv(r),I=uh(r),F=P1(r).or(JT(r)),B=d.shared.header,z=B.isPositionedAtTop,G=Av(r),J=G===h6.sliding||G===h6.floating,ae=Dn(!1),ue=()=>ae.get()&&!r.removed,ye=xe=>J?xe.fold(j(0),_e=>_e.components().length>1?bs(_e.components()[1].element):0):0,le=()=>{Tt(w,xe=>{xe.broadcastOn([U()],{})})},ie=xe=>{if(!ue())return;E||b.on(nt=>{const kt=F.getOrThunk(()=>fa().width-qa(i).left-10);ao(nt.element,"max-width",kt+"px")});const _e=Wr(),Ve=!(E||E||!(El(v.outerContainer.element).left+qi(v.outerContainer.element)>=window.innerWidth-40||Zs(v.outerContainer.element,"width").isSome())||(ao(v.outerContainer.element,"position","absolute"),ao(v.outerContainer.element,"left","0px"),fr(v.outerContainer.element,"width"),0));if(J&&jr.refreshToolbar(v.outerContainer),!E){const nt=Wr(),kt=Xo(_e.left!==nt.left,_e);((wt,yt)=>{b.on($t=>{const dn=jr.getToolbar(v.outerContainer),Cn=ye(dn),Nn=Qs(i),to=((vo,Wo)=>dh(vo)?Jh(Wo):P.none())(r,v.outerContainer.element),To=to.fold(()=>Nn.x,vo=>{const Wo=Qs(vo);return Jo(vo,hn())?Nn.x:Nn.x-Wo.x}),Kr=Xo(wt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(vo=>vo>150).map(vo=>{const Wo=yt.getOr(Wr()),Fn=window.innerWidth-(To-Wo.left),os=Math.max(Math.min(vo,Fn),150);return Fn<vo&&ao(v.outerContainer.element,"width",os+"px"),{width:os+"px"}}).getOr({width:"max-content"}),ns={position:"absolute",left:Math.round(To)+"px",top:to.fold(()=>z()?Math.max(Nn.y-bs($t.element)+Cn,0):Nn.bottom,vo=>{var Wo;const Fn=Qs(vo),os=(Wo=vo.dom.scrollTop)!==null&&Wo!==void 0?Wo:0,Dr=Jo(vo,hn())?Math.max(Nn.y-bs($t.element)+Cn,0):Nn.y-Fn.y+os-bs($t.element)+Cn;return z()?Dr:Nn.bottom})+"px"};Ki(v.outerContainer.element,{...ns,...Kr})})})(Ve,kt),kt.each(wt=>{hf(wt.left,nt.top)})}I&&b.on(xe),le()},he=()=>!(E||!I||!ue())&&b.get().exists(xe=>{const _e=B.getDockingMode(),Ve=(kt=>{switch(pp(r)){case QT.auto:const wt=jr.getToolbar(v.outerContainer),yt=ye(wt),$t=bs(kt.element)-yt,dn=Qs(i);if(dn.y>$t)return"top";{const Cn=ji(i),Nn=Math.max(Cn.dom.scrollHeight,bs(Cn));return dn.bottom<Nn-$t||Ba().bottom<dn.bottom-$t?"bottom":"top"}case QT.bottom:return"bottom";case QT.top:default:return"top"}})(xe);return Ve!==_e&&(nt=Ve,b.on(kt=>{es.setModes(kt,[nt]),B.setDockingMode(nt);const wt=z()?Ic.TopToBottom:Ic.BottomToTop;nn(kt.element,vl,wt)}),!0);var nt});return{isVisible:ue,isPositionedAtTop:z,show:()=>{ae.set(!0),ao(v.outerContainer.element,"display","flex"),k.addClass(r.getBody(),"mce-edit-focus"),Tt(w,xe=>{fr(xe.element,"display")}),he(),dh(r)?ie(xe=>es.isDocked(xe)?es.reset(xe):es.refresh(xe)):ie(es.refresh)},hide:()=>{ae.set(!1),ao(v.outerContainer.element,"display","none"),k.removeClass(r.getBody(),"mce-edit-focus"),Tt(w,xe=>{ao(xe.element,"display","none")})},update:ie,updateMode:()=>{he()&&ie(es.reset)},repositionPopups:le}},p6=(r,i)=>{const u=Qs(r);return{pos:i?u.y:u.bottom,bounds:u}};var A$=Object.freeze({__proto__:null,render:(r,i,u,d,b)=>{const{mainUi:v}=i,w=pr(),k=rn(b.targetNode),E=E$(r,k,i,d,w),I=uR(r);u$(r);const F=()=>{if(w.isSet())return void E.show();w.set(jr.getHeader(v.outerContainer).getOrDie());const z=s_(r);dh(r)?(vt(k,v.mothership),vt(k,i.popupUi.mothership)):Hx(z,v.mothership),Hx(z,i.dialogUi.mothership);const G=()=>{m6(r,i,u,d),jr.setMenubar(v.outerContainer,ZI(r,u)),E.show(),((J,ae,ue,ye)=>{const le=Dn(p6(ae,ue.isPositionedAtTop())),ie=Ve=>{const{pos:nt,bounds:kt}=p6(ae,ue.isPositionedAtTop()),{pos:wt,bounds:yt}=le.get(),$t=kt.height!==yt.height||kt.width!==yt.width;le.set({pos:nt,bounds:kt}),$t&&Mv(J,Ve),ue.isVisible()&&(wt!==nt?ue.update(es.reset):$t&&(ue.updateMode(),ue.repositionPopups()))};ye||(J.on("activate",ue.show),J.on("deactivate",ue.hide)),J.on("SkinLoaded ResizeWindow",()=>ue.update(es.reset)),J.on("NodeChange keydown",Ve=>{requestAnimationFrame(()=>ie(Ve))});let he=0;const xe=E3(()=>ue.update(es.refresh),33);J.on("ScrollWindow",()=>{const Ve=Wr().left;Ve!==he&&(he=Ve,xe.throttle()),ue.updateMode()}),dh(J)&&J.on("ElementScroll",Ve=>{ue.update(es.refresh)});const _e=yc();_e.set(Rx(rn(J.getBody()),"load",Ve=>ie(Ve.raw))),J.on("remove",()=>{_e.clear()})})(r,k,E,I),r.nodeChanged()};I?r.once("SkinLoaded",G):G()};r.on("show",F),r.on("hide",E.hide),I||(r.on("focus",F),r.on("blur",E.hide)),r.on("init",()=>{(r.hasFocus()||I)&&F()}),uN(r,i);const B={show:F,hide:E.hide,setEnabled:z=>{Lv(i,!z)},isEnabled:()=>!eo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:B}}});const b6="contexttoolbar-hide",v6=(r,i)=>Ct(uS,(u,d)=>{const b=(v=>({hide:()=>wo(v,Db()),getValue:()=>lt.getValue(v)}))(r.get(u));i.onAction(b,d.event.buttonApi)}),T$=(r,i)=>{const u=r.label.fold(()=>({}),v=>({"aria-label":v})),d=ur(fh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:r.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:Vt([Tn.config({mode:"special",onEnter:v=>b.findPrimary(v).map(w=>(kf(w),!0)),onLeft:(v,w)=>(w.cut(),P.none()),onRight:(v,w)=>(w.cut(),P.none())})])})),b=((v,w,k)=>{const E=Je(w,I=>ur(((F,B,z)=>(G=>G.type==="contextformtogglebutton")(B)?((G,J,ae)=>{const{primary:ue,...ye}=J.original,le=Oi(w_({...ye,type:"togglebutton",onAction:X}));return f6(le,ae,[v6(G,J)])})(F,B,z):((G,J,ae)=>{const{primary:ue,...ye}=J.original,le=Oi(eN({...ye,type:"button",onAction:X}));return d6(le,ae,[v6(G,J)])})(F,B,z))(v,I,k)));return{asSpecs:()=>Je(E,I=>I.asSpec()),findPrimary:I=>on(w,(F,B)=>F.primary?P.from(E[B]).bind(z=>z.getOpt(I)).filter(He(eo.isDisabled)):P.none())}})(d,r.commands,i);return[{title:P.none(),items:[d.asSpec()]},{title:P.none(),items:b.asSpecs()}]},y6=(r,i,u)=>i.bottom-r.y>=u&&r.bottom-i.y>=u,e4=r=>{const i=(u=>{const d=u.getBoundingClientRect();if(d.height<=0&&d.width<=0){const b=Le(rn(u.startContainer),u.startOffset).element;return(fi(b)?mi(b):P.some(b)).filter(Xr).map(v=>v.dom.getBoundingClientRect()).getOr(d)}return d})(r.selection.getRng());if(r.inline){const u=Wr();return Co(u.left+i.left,u.top+i.top,i.width,i.height)}{const u=ml(rn(r.getBody()));return Co(u.x+i.left,u.y+i.top,i.width,i.height)}},x6=(r,i,u,d=0)=>{const b=fa(window),v=Qs(rn(r.getContentAreaContainer())),w=f2(r)||m2(r)||g2(r),{x:k,width:E}=((I,F,B)=>{const z=Math.max(I.x+B,F.x);return{x:z,width:Math.min(I.right-B,F.right)-z}})(v,b,d);if(r.inline&&!w)return Co(k,b.y,E,b.height);{const I=i.header.isPositionedAtTop(),{y:F,bottom:B}=((z,G,J,ae,ue,ye)=>{const le=rn(z.getContainer()),ie=ts(le,".tox-editor-header").getOr(le),he=Qs(ie),xe=he.y>=G.bottom,_e=ae&&!xe;if(z.inline&&_e)return{y:Math.max(he.bottom+ye,J.y),bottom:J.bottom};if(z.inline&&!_e)return{y:J.y,bottom:Math.min(he.y-ye,J.bottom)};const Ve=ue==="line"?Qs(le):G;return _e?{y:Math.max(he.bottom+ye,J.y),bottom:Math.min(Ve.bottom-ye,J.bottom)}:{y:Math.max(Ve.y+ye,J.y),bottom:Math.min(he.y-ye,J.bottom)}})(r,v,b,I,u,d);return Co(k,F,E,B-F)}},t4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Xv={maxHeightFunction:th(),maxWidthFunction:RT()},Vp=r=>r==="node",O$=(r,i,u,d,b)=>{const v=e4(r),w=d.lastElement().exists(k=>Jo(u,k));return((k,E)=>{const I=k.selection.getRng(),F=Le(rn(I.startContainer),I.startOffset);return I.startContainer===I.endContainer&&I.startOffset===I.endOffset-1&&Jo(F.element,E)})(r,u)?w?CS:qo:w?((k,E,I)=>{const F=Zs(k,"position");ao(k,"position",E);const B=y6(v,Qs(i),-20)&&!d.isReposition()?lT:CS;return F.each(z=>ao(k,"position",z)),B})(i,d.getMode()):(d.getMode()==="fixed"?b.y+Wr().top:b.y)+(bs(i)+12)<=v.y?qo:sg},w6=(r,i,u,d)=>{const b=w=>(k,E,I,F,B)=>({...O$(r,F,w,u,B)({...k,y:B.y,height:B.height},E,I,F,B),alwaysFit:!0}),v=w=>Vp(d)?[b(w)]:[];return i?{onLtr:w=>[Bs,ws,Cs,Ks,Tr,gs].concat(v(w)),onRtl:w=>[Bs,Cs,ws,Tr,Ks,gs].concat(v(w))}:{onLtr:w=>[gs,Bs,Ks,ws,Tr,Cs].concat(v(w)),onRtl:w=>[gs,Bs,Tr,Cs,Ks,ws].concat(v(w))}},FS=(r,i)=>{const u=jn(i,v=>v.predicate(r.dom)),{pass:d,fail:b}=Gn(u,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:b}},$S=(r,i)=>{const u={},d=[],b=[],v={},w={},k=Ft(r);return Tt(k,E=>{const I=r[E];I.type==="contextform"?((F,B)=>{const z=Oi(us("ContextForm",Y8,B));u[F]=z,z.launch.map(G=>{v["form:"+F]={...B.launch,type:G.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(z)}}}),z.scope==="editor"?b.push(z):d.push(z),w[F]=z})(E,I):I.type==="contexttoolbar"&&((F,B)=>{var z;(z=B,us("ContextToolbar",nN,z)).each(G=>{B.scope==="editor"?b.push(G):d.push(G),w[F]=G})})(E,I)}),{forms:u,inNodeScope:d,inEditorScope:b,lookupTable:w,formNavigators:v}},C6=pn("forward-slide"),ly=pn("backward-slide"),Jv=pn("change-slide-event"),n4="tox-pop--resizing",o4="tox-pop--transition",D$=(r,i,u,d)=>{const b=d.backstage,v=b.shared,w=Xa().deviceType.isTouch,k=pr(),E=pr(),I=pr(),F=Ha((_e=>{const Ve=Dn([]);return is.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:nt=>{Ve.set([]),is.getContent(nt).each(kt=>{fr(kt.element,"visibility")}),xs(nt.element,n4),fr(nt.element,"width")},inlineBehaviours:Vt([po("context-toolbar-events",[Ef(Tb(),(nt,kt)=>{kt.event.raw.propertyName==="width"&&(xs(nt.element,n4),fr(nt.element,"width"))}),Ct(Jv,(nt,kt)=>{const wt=nt.element;fr(wt,"width");const yt=wa(wt);is.setContent(nt,kt.event.contents),ms(wt,n4);const $t=wa(wt);ao(wt,"width",yt+"px"),is.getContent(nt).each(dn=>{kt.event.focus.bind(Cn=>(Ii(Cn),Ms(wt))).orThunk(()=>(Tn.focusIn(dn),cu(ut(wt))))}),setTimeout(()=>{ao(nt.element,"width",$t+"px")},0)}),Ct(C6,(nt,kt)=>{is.getContent(nt).each(wt=>{Ve.set(Ve.get().concat([{bar:wt,focus:cu(ut(nt.element))}]))}),En(nt,Jv,{contents:kt.event.forwardContents,focus:P.none()})}),Ct(ly,(nt,kt)=>{We(Ve.get()).each(wt=>{Ve.set(Ve.get().slice(0,Ve.get().length-1)),En(nt,Jv,{contents:Qi(wt.bar),focus:wt.focus})})})]),Tn.config({mode:"special",onEscape:nt=>We(Ve.get()).fold(()=>_e.onEscape(),kt=>(wo(nt,ly),P.some(!0)))})]),lazySink:()=>Ao.value(_e.sink)})})({sink:u,onEscape:()=>(r.focus(),P.some(!0))})),B=()=>{const _e=I.get().getOr("node"),Ve=Vp(_e)?1:0;return x6(r,v,_e,Ve)},z=()=>!(r.removed||w()&&b.isContextMenuOpen()),G=()=>{if(z()){const _e=B(),Ve=Xs(I.get(),"node")?((nt,kt)=>kt.filter(wt=>ln(wt)&&cl(wt)).map(ml).getOrThunk(()=>e4(nt)))(r,k.get()):e4(r);return _e.height<=0||!y6(Ve,_e,.01)}return!0},J=()=>{k.clear(),E.clear(),I.clear(),is.hide(F)},ae=()=>{if(is.isOpen(F)){const _e=F.element;fr(_e,"display"),G()?ao(_e,"display","none"):(E.set(0),is.reposition(F))}},ue=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Vt([Tn.config({mode:"acyclic"}),po("pop-dialog-wrap-events",[Gr(Ve=>{r.shortcuts.add("ctrl+F9","focus statusbar",()=>Tn.focusIn(Ve))}),Wu(Ve=>{r.shortcuts.remove("ctrl+F9")})])])}),ye=Ga(()=>$S(i,_e=>{const Ve=le([_e]);En(F,C6,{forwardContents:ue(Ve)})})),le=_e=>{const{buttons:Ve}=r.ui.registry.getAll(),nt={...Ve,...ye().formNavigators},kt=Av(r)===Yu.scrolling?Yu.scrolling:Yu.default,wt=$o(Je(_e,yt=>yt.type==="contexttoolbar"?(($t,dn)=>MS(r,{buttons:$t,toolbar:dn.items,allowToolbarGroups:!1},d.backstage,P.some(["form:"])))(nt,yt):(($t,dn)=>T$($t,dn))(yt,v.providers)));return BT({type:kt,uid:pn("context-toolbar"),initGroups:wt,onEscape:P.none,cyclicKeying:!0,providers:v.providers})},ie=(_e,Ve)=>{if(xe.cancel(),!z())return;const nt=le(_e),kt=_e[0].position,wt=(($t,dn)=>{const Cn=$t==="node"?v.anchors.node(dn):v.anchors.cursor(),Nn=((to,To,Kr,ns)=>To==="line"?{bubble:ec(12,0,t4),layouts:{onLtr:()=>[s1],onRtl:()=>[a1]},overrides:Xv}:{bubble:ec(0,12,t4,1/12),layouts:w6(to,Kr,ns,To),overrides:Xv})(r,$t,w(),{lastElement:k.get,isReposition:()=>Xs(E.get(),0),getMode:()=>ai.getMode(u)});return Ar(Cn,Nn)})(kt,Ve);I.set(kt),E.set(1);const yt=F.element;fr(yt,"display"),($t=>Xs(Zt($t,k.get(),Jo),!0))(Ve)||(xs(yt,o4),ai.reset(u,F)),is.showWithinBounds(F,ue(nt),{anchor:wt,transition:{classes:[o4],mode:"placement"}},()=>P.some(B())),Ve.fold(k.clear,k.set),G()&&ao(yt,"display","none")};let he=!1;const xe=E3(()=>{!r.hasFocus()||r.removed||he||(Ji(F.element,o4)?xe.throttle():((_e,Ve)=>{const nt=rn(Ve.getBody()),kt=yt=>Jo(yt,nt),wt=rn(Ve.selection.getNode());return(yt=>!kt(yt)&&!Ss(nt,yt))(wt)?P.none():((yt,$t,dn)=>{const Cn=FS(yt,$t);if(Cn.contextForms.length>0)return P.some({elem:yt,toolbars:[Cn.contextForms[0]]});{const Nn=FS(yt,dn);if(Nn.contextForms.length>0)return P.some({elem:yt,toolbars:[Nn.contextForms[0]]});if(Cn.contextToolbars.length>0||Nn.contextToolbars.length>0){const to=(To=>{if(To.length<=1)return To;{const Kr=Fn=>_n(To,os=>os.position===Fn),ns=Fn=>jn(To,os=>os.position===Fn),vo=Kr("selection"),Wo=Kr("node");if(vo||Wo){if(Wo&&vo){const Fn=ns("node"),os=Je(ns("selection"),Dr=>({...Dr,position:"node"}));return Fn.concat(os)}return ns(vo?"selection":"node")}return ns("line")}})(Cn.contextToolbars.concat(Nn.contextToolbars));return P.some({elem:yt,toolbars:to})}return P.none()}})(wt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((yt,$t,dn)=>yt($t)?P.none():Bg($t,Cn=>{if(Xr(Cn)){const{contextToolbars:Nn,contextForms:to}=FS(Cn,dn.inNodeScope),To=to.length>0?to:(Kr=>{if(Kr.length<=1)return Kr;{const ns=vo=>Q(Kr,Wo=>Wo.position===vo);return ns("selection").orThunk(()=>ns("node")).orThunk(()=>ns("line")).map(vo=>vo.position).fold(()=>[],vo=>jn(Kr,Wo=>Wo.position===vo))}})(Nn);return To.length>0?P.some({elem:Cn,toolbars:To}):P.none()}return P.none()},yt))(kt,wt,_e))})(ye(),r).fold(J,_e=>{ie(_e.toolbars,P.some(_e.elem))}))},17);r.on("init",()=>{r.on("remove",J),r.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ae),r.on("click keyup focus SetContent",xe.throttle),r.on(b6,J),r.on("contexttoolbar-show",_e=>{const Ve=ye();yn(Ve.lookupTable,_e.toolbarKey).each(nt=>{ie([nt],Xo(_e.target!==r,_e.target)),is.getContent(F).each(Tn.focusIn)})}),r.on("focusout",_e=>{qC.setEditorTimeout(r,()=>{Ms(u.element).isNone()&&Ms(F.element).isNone()&&J()},0)}),r.on("SwitchMode",()=>{r.mode.isReadOnly()&&J()}),r.on("ExecCommand",({command:_e})=>{_e.toLowerCase()==="toggleview"&&J()}),r.on("AfterProgressState",_e=>{_e.state?J():r.hasFocus()&&xe.throttle()}),r.on("dragstart",()=>{he=!0}),r.on("dragend drop",()=>{he=!1}),r.on("NodeChange",_e=>{Ms(F.element).fold(xe.throttle,X)})})},_6=(r,i)=>{const u=()=>{const d=i.getOptions(r),b=i.getCurrent(r).map(i.hash),v=pr();return Je(d,w=>({type:"togglemenuitem",text:i.display(w),onSetup:k=>{const E=F=>{F&&(v.on(B=>B.setActive(!1)),v.set(k)),k.setActive(F)};E(Xs(b,i.hash(w)));const I=i.watcher(r,w,E);return()=>{v.clear(),I()}},onAction:()=>i.setCurrent(r,w)}))};r.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:d=>d(u()),onSetup:i.onToolbarSetup}),r.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:u,onSetup:i.onMenuSetup})},R$=r=>{_6(r,(i=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:bR,hash:u=>((d,b)=>BS(d,["fixed","relative","empty"]).map(({value:v,unit:w})=>v+w))(u).getOr(u),display:de,watcher:(u,d,b)=>u.formatter.formatChanged("lineheight",b,!1,{value:d}).unbind,getCurrent:u=>P.from(u.queryCommandValue("LineHeight")),setCurrent:(u,d)=>u.execCommand("LineHeight",!1,d),onToolbarSetup:Aa(i),onMenuSetup:Aa(i)}))(r)),(i=>P.from(HE(i)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:j(u),hash:d=>N(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,b,v)=>{var w;return d.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(w=b.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:d=>{const b=rn(d.selection.getNode());return Mg(b,v=>P.some(v).filter(Xr).bind(w=>Ho(w,"lang").map(k=>({code:k,customCode:Ho(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(d,b)=>d.execCommand("Lang",!1,b),onToolbarSetup:d=>{const b=yc();return d.setActive(i.formatter.match("lang",{},void 0,!0)),b.set(i.formatter.formatChanged("lang",d.setActive,!0)),Z1(b.clear,Aa(i)(d))},onMenuSetup:Aa(i)})))(r).each(i=>_6(r,i))},N$=r=>Fv(r,"NodeChange",i=>{i.setEnabled(r.queryCommandState("outdent")&&r.selection.isEditable())}),hw=(r,i)=>u=>{u.setActive(i.get());const d=b=>{i.set(b.state),u.setActive(b.state)};return r.on("PastePlainTextToggle",d),Z1(()=>r.off("PastePlainTextToggle",d),Aa(r)(u))},r4=(r,i)=>()=>{r.execCommand("mceToggleFormat",!1,i)},s4=r=>{(i=>{(u=>{yh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(d,b)=>{u.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Gf(u,d.name),onAction:r4(u,d.name),shortcut:d.shortcut})});for(let d=1;d<=6;d++){const b="h"+d,v=`Access+${d}`;u.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+d,onSetup:Gf(u,b),onAction:r4(u,b),shortcut:v})}})(i),(u=>{yh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{u.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onAction:oc(u,d.action),shortcut:d.shortcut})}),yh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{u.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Aa(u),onAction:oc(u,d.action)})})})(i),(u=>{yh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],d=>{u.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:oc(u,d.action),onSetup:Gf(u,d.name)})})})(i)})(r),(i=>{yh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{i.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:oc(i,u.action)})}),yh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{i.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Aa(i),onAction:oc(i,u.action)})}),i.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Aa(i),onAction:r4(i,"code")})})(r)},HS=(r,i)=>Fv(r,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!r.mode.isReadOnly()&&r.undoManager[i]())}),I$=r=>Fv(r,"VisualAid",i=>{i.setActive(r.hasVisual)}),P$=(r,i)=>{(u=>{Tt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],d=>{u.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:oc(u,d.cmd),onSetup:Gf(u,d.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Aa(u),onAction:oc(u,"JustifyNone")})})(r),s4(r),((u,d)=>{((b,v)=>{const w=iy(v,UT(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Aa(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,d),((b,v)=>{const w=iy(v,t6(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Aa(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,d),((b,v)=>{const w={type:"advanced",...v.styles},k=iy(v,l6(b,w));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Aa(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(u,d),((b,v)=>{const w=iy(v,jT(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Aa(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,d),((b,v)=>{const w=iy(v,a6(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Aa(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,d)})(r,i),(u=>{(d=>{d.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:HS(d,"hasUndo"),onAction:oc(d,"undo")}),d.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:HS(d,"hasRedo"),onAction:oc(d,"redo")})})(u),(d=>{d.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:HS(d,"hasUndo"),onAction:oc(d,"undo"),shortcut:"Meta+Z"}),d.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:HS(d,"hasRedo"),onAction:oc(d,"redo"),shortcut:"Meta+Y"})})(u)})(r),(u=>{(k=>{k.addCommand("mceApplyTextcolor",(E,I)=>{((F,B,z)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(B,{value:z}),F.nodeChanged()})})(k,E,I)}),k.addCommand("mceRemoveTextcolor",E=>{((I,F)=>{I.undoManager.transact(()=>{I.focus(),I.formatter.remove(F,{value:null},void 0,!0),I.nodeChanged()})})(k,E)})})(u);const d=DN(u),b=RN(u),v=Dn(d),w=Dn(b);FA(u,"forecolor","forecolor",v),FA(u,"backcolor","hilitecolor",w),K1(u,"forecolor","forecolor","Text color",v),K1(u,"backcolor","hilitecolor","Background color",w)})(r),(u=>{(d=>{d.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:oc(d,"mceToggleVisualAid")})})(u),(d=>{d.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:I$(d),onAction:oc(d,"mceToggleVisualAid")})})(u)})(r),(u=>{(d=>{d.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:N$(d),onAction:oc(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Aa(d),onAction:oc(d,"indent")})})(u)})(r),R$(r),(u=>{const d=Dn(hR(u)),b=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:hw(u,d)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:hw(u,d)})})(r)},S6=r=>h(r)?r.split(/[ ,]/):r,k6=r=>i=>i.options.get(r),E6=k6("contextmenu_never_use_native"),L$=k6("contextmenu_avoid_overlap"),a4=r=>{const i=r.ui.registry.getAll().contextMenus,u=r.options.get("contextmenu");return r.options.isSet("contextmenu")?u:jn(u,d=>no(i,d))},pw=(r,i)=>({type:"makeshift",x:r,y:i}),A6=r=>r.type==="longpress"||r.type.indexOf("touch")===0,B$=(r,i)=>i.type==="contextmenu"||i.type==="longpress"?r.inline?(u=>{if(A6(u)){const d=u.touches[0];return pw(d.pageX,d.pageY)}return pw(u.pageX,u.pageY)})(i):((u,d)=>{const b=N1.DOM.getPos(u);return((v,w,k)=>pw(v.x+w,v.y+k))(d,b.x,b.y)})(r.getContentAreaContainer(),(u=>{if(A6(u)){const d=u.touches[0];return pw(d.clientX,d.clientY)}return pw(u.clientX,u.clientY)})(i)):T6(r),T6=r=>({type:"selection",root:rn(r.selection.getNode())}),O6=(r,i,u)=>{switch(u){case"node":return(d=>({type:"node",node:P.some(rn(d.selection.getNode())),root:rn(d.getBody())}))(r);case"point":return B$(r,i);case"selection":return T6(r)}},D6=(r,i,u,d,b,v)=>{const w=u(),k=O6(r,i,v);jv(w,qf.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:P.none()}).map(E=>{i.preventDefault(),is.showMenuAt(b,{anchor:k},{menu:{markers:Rv("normal")},data:E})})},R6={onLtr:()=>[Bs,ws,Cs,Ks,Tr,gs,qo,sg,ow,$p,sc,rc],onRtl:()=>[Bs,Cs,ws,Tr,Ks,gs,qo,sg,sc,rc,ow,$p]},M$={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},F$=(r,i,u,d,b,v)=>{const w=Xa(),k=w.os.isiOS(),E=w.os.isMacOS(),I=w.os.isAndroid(),F=w.deviceType.isTouch(),B=()=>{const z=u();((G,J,ae,ue,ye,le,ie)=>{const he=((xe,_e,Ve)=>{const nt=O6(xe,_e,Ve);return{bubble:ec(0,Ve==="point"?12:0,M$),layouts:R6,overrides:{maxWidthFunction:RT(),maxHeightFunction:th()},...nt}})(G,J,le);jv(ae,qf.CLOSE_ON_EXECUTE,ue,{isHorizontalMenu:!0,search:P.none()}).map(xe=>{J.preventDefault();const _e=ie?ol.HighlightMenuAndItem:ol.HighlightNone;is.showMenuWithinBounds(ye,{anchor:he},{menu:{markers:Rv("normal"),highlightOnOpen:_e},data:xe,type:"horizontal"},()=>P.some(x6(G,ue.shared,le==="node"?"node":"selection"))),G.dispatch(b6)})})(r,i,z,d,b,v,!(I||k||E&&F))};if((E||k)&&v!=="node"){const z=()=>{(G=>{const J=G.selection.getRng(),ae=()=>{qC.setEditorTimeout(G,()=>{G.selection.setRng(J)},10),le()};G.once("touchend",ae);const ue=ie=>{ie.preventDefault(),ie.stopImmediatePropagation()};G.on("mousedown",ue,!0);const ye=()=>le();G.once("longpresscancel",ye);const le=()=>{G.off("touchend",ae),G.off("longpresscancel",ye),G.off("mousedown",ue)}})(r),B()};((G,J)=>{const ae=G.selection;if(ae.isCollapsed()||J.touches.length<1)return!1;{const ue=J.touches[0],ye=ae.getRng();return Lx(G.getWin(),Bf.domRange(ye)).exists(le=>le.left<=ue.clientX&&le.right>=ue.clientX&&le.top<=ue.clientY&&le.bottom>=ue.clientY)}})(r,i)?z():(r.once("selectionchange",z),r.once("touchend",()=>r.off("selectionchange",z)))}else B()},N6=r=>h(r)?r==="|":r.type==="separator",i4={type:"separator"},I6=r=>{const i=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(h(r))return r;switch(r.type){case"separator":return i4;case"submenu":return{type:"nestedmenuitem",...i(r),getSubmenuItems:()=>{const d=r.getSubmenuItems();return h(d)?d:Je(d,I6)}};default:const u=r;return{type:"menuitem",...i(u),onAction:Se(u.onAction)}}},l4=(r,i)=>{if(i.length===0)return r;const u=We(r).filter(d=>!N6(d)).fold(()=>[],d=>[i4]);return r.concat(u).concat(i).concat([i4])},Qv=(r,i)=>!(u=>u.type==="longpress"||no(u,"touches"))(i)&&(i.button!==2||i.target===r.getBody()&&i.pointerType===""),P6=(r,i)=>Qv(r,i)?r.selection.getStart(!0):i.target,$$=(r,i,u)=>{const d=Xa().deviceType.isTouch,b=Ha(is.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>r.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Vt([po("dismissContextMenu",[Ct(Fg(),(k,E)=>{T.close(k),r.focus()})])])})),v=()=>is.hide(b),w=k=>{if(E6(r)&&k.preventDefault(),((I,F)=>F.ctrlKey&&!E6(I))(r,k)||(I=>a4(I).length===0)(r))return;const E=((I,F)=>{const B=L$(I),z=Qv(I,F)?"selection":"point";if(ll(B)){const G=P6(I,F);return G1(rn(G),B)?"node":z}return z})(r,k);(d()?F$:D6)(r,k,()=>{const I=P6(r,k),F=r.ui.registry.getAll(),B=a4(r);return((z,G,J)=>{const ae=gn(G,(ue,ye)=>yn(z,ye.toLowerCase()).map(le=>{const ie=le.update(J);if(h(ie)&&ll(pc(ie)))return l4(ue,ie.split(" "));if(O(ie)&&ie.length>0){const he=Je(ie,I6);return l4(ue,he)}return ue}).getOrThunk(()=>ue.concat([ye])),[]);return ae.length>0&&N6(ae[ae.length-1])&&ae.pop(),ae})(F.contextMenus,B,I)},u,b,E)};r.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");r.on(k,v),r.on("longpress contextmenu",w)})},c4=Fl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),e0=r=>i=>i.translate(-r.left,-r.top),ac=r=>i=>i.translate(r.left,r.top),Xf=r=>(i,u)=>gn(r,(d,b)=>b(d),Ur(i,u)),bw=(r,i,u)=>r.fold(Xf([ac(u),e0(i)]),Xf([e0(i)]),Xf([])),cy=(r,i,u)=>r.fold(Xf([ac(u)]),Xf([]),Xf([ac(i)])),L6=(r,i,u)=>r.fold(Xf([]),Xf([e0(u)]),Xf([ac(i),e0(u)])),B6=(r,i,u)=>{const d=r.fold((b,v)=>({position:P.some("absolute"),left:P.some(b+"px"),top:P.some(v+"px")}),(b,v)=>({position:P.some("absolute"),left:P.some(b-u.left+"px"),top:P.some(v-u.top+"px")}),(b,v)=>({position:P.some("fixed"),left:P.some(b+"px"),top:P.some(v+"px")}));return{right:P.none(),bottom:P.none(),...d}},u4=(r,i,u,d)=>{const b=(v,w)=>(k,E)=>{const I=v(i,u,d);return w(k.getOr(I.left),E.getOr(I.top))};return r.fold(b(L6,vw),b(cy,Ch),b(bw,t0))},vw=c4.offset,Ch=c4.absolute,t0=c4.fixed,M6=(r,i)=>{const u=Ro(r,i);return N(u)?NaN:parseInt(u,10)},F6=(r,i,u,d,b,v)=>{const w=((I,F,B,z)=>((G,J)=>{const ae=G.element,ue=M6(ae,J.leftAttr),ye=M6(ae,J.topAttr);return isNaN(ue)||isNaN(ye)?P.none():P.some(Ur(ue,ye))})(I,F).fold(()=>B,G=>t0(G.left+z.left,G.top+z.top)))(r,i,u,d),k=i.mustSnap?H6(r,i,w,b,v):z6(r,i,w,b,v),E=bw(w,b,v);return((I,F,B)=>{const z=I.element;nn(z,F.leftAttr,B.left+"px"),nn(z,F.topAttr,B.top+"px")})(r,i,E),k.fold(()=>({coord:t0(E.left,E.top),extra:P.none()}),I=>({coord:I.output,extra:I.extra}))},$6=(r,i,u,d)=>on(r,b=>{const v=b.sensor;return((k,E,I,F,B,z)=>{const G=cy(k,B,z),J=cy(E,B,z);return Math.abs(G.left-J.left)<=I&&Math.abs(G.top-J.top)<=F})(i,v,b.range.left,b.range.top,u,d)?P.some({output:u4(b.output,i,u,d),extra:b.extra}):P.none()}),H6=(r,i,u,d,b)=>{const v=i.getSnapPoints(r);return $6(v,u,d,b).orThunk(()=>gn(v,(k,E)=>{const I=E.sensor,F=((B,z,G,J,ae,ue)=>{const ye=cy(B,ae,ue),le=cy(z,ae,ue),ie=Math.abs(ye.left-le.left),he=Math.abs(ye.top-le.top);return Ur(ie,he)})(u,I,E.range.left,E.range.top,d,b);return k.deltas.fold(()=>({deltas:P.some(F),snap:P.some(E)}),B=>(F.left+F.top)/2<=(B.left+B.top)/2?{deltas:P.some(F),snap:P.some(E)}:k)},{deltas:P.none(),snap:P.none()}).snap.map(k=>({output:u4(k.output,u,d,b),extra:k.extra})))},z6=(r,i,u,d,b)=>{const v=i.getSnapPoints(r);return $6(v,u,d,b)};var V6=Object.freeze({__proto__:null,snapTo:(r,i,u,d)=>{const b=i.getTarget(r.element);if(i.repositionTarget){const v=Js(r.element),w=Wr(v),k=Af(b),E=((F,B,z)=>({coord:u4(F.output,F.output,B,z),extra:F.extra}))(d,w,k),I=B6(E.coord,0,k);ul(b,I)}}});const d4="data-initial-z-index",U6=(r,i)=>{r.getSystem().addToGui(i),(u=>{mi(u.element).filter(Xr).each(d=>{Zs(d,"z-index").each(b=>{nn(d,d4,b)}),ao(d,"z-index",ps(u.element,"z-index"))})})(i)},H$=r=>{(i=>{mi(i.element).filter(Xr).each(u=>{Ho(u,d4).fold(()=>fr(u,"z-index"),d=>ao(u,"z-index",d)),xo(u,d4)})})(r),r.getSystem().removeFromGui(r)},W6=(r,i,u)=>r.getSystem().build(Zd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:u}));var z$=vs("snaps",[Ot("getSnapPoints"),Uo("onSensor"),Ot("leftAttr"),Ot("topAttr"),rt("lazyViewport",Ba),rt("mustSnap",!1)]);const f4=[rt("useFixed",Oe),Ot("blockerClass"),rt("getTarget",de),rt("onDrag",X),rt("repositionTarget",!0),rt("onDrop",X),Zr("getBounds",Ba),z$],m4=r=>{return(i=Zs(r,"left"),u=Zs(r,"top"),d=Zs(r,"position"),i.isSome()&&u.isSome()&&d.isSome()?P.some(((b,v,w)=>(w==="fixed"?t0:vw)(parseInt(b,10),parseInt(v,10)))(i.getOrDie(),u.getOrDie(),d.getOrDie())):P.none()).getOrThunk(()=>{const b=El(r);return Ch(b.left,b.top)});var i,u,d},Z6=(r,i)=>({bounds:r.getBounds(),height:bc(i.element),width:qi(i.element)}),g4=(r,i,u,d,b)=>{const v=u.update(d,b),w=u.getStartData().getOrThunk(()=>Z6(i,r));v.each(k=>{((E,I,F,B)=>{const z=I.getTarget(E.element);if(I.repositionTarget){const G=Js(E.element),J=Wr(G),ae=Af(z),ue=m4(z),ye=((ie,he,xe,_e,Ve,nt,kt)=>((wt,yt,$t,dn,Cn)=>{const Nn=Cn.bounds,to=cy(yt,$t,dn),To=Tc(to.left,Nn.x,Nn.x+Nn.width-Cn.width),Kr=Tc(to.top,Nn.y,Nn.y+Nn.height-Cn.height),ns=Ch(To,Kr);return yt.fold(()=>{const vo=L6(ns,$t,dn);return vw(vo.left,vo.top)},j(ns),()=>{const vo=bw(ns,$t,dn);return t0(vo.left,vo.top)})})(0,he.fold(()=>{const wt=(yt=xe,$t=nt.left,dn=nt.top,yt.fold((Nn,to)=>vw(Nn+$t,to+dn),(Nn,to)=>Ch(Nn+$t,to+dn),(Nn,to)=>t0(Nn+$t,to+dn)));var yt,$t,dn;const Cn=bw(wt,_e,Ve);return t0(Cn.left,Cn.top)},wt=>{const yt=F6(ie,wt,xe,nt,_e,Ve);return yt.extra.each($t=>{wt.onSensor(ie,$t)}),yt.coord}),_e,Ve,kt))(E,I.snaps,ue,J,ae,B,F),le=B6(ye,0,ae);ul(z,le)}I.onDrag(E,z,B)})(r,i,w,k)})},h4=(r,i,u,d)=>{i.each(H$),u.snaps.each(v=>{((w,k)=>{((E,I)=>{const F=E.element;xo(F,I.leftAttr),xo(F,I.topAttr)})(w,k)})(r,v)});const b=u.getTarget(r.element);d.reset(),u.onDrop(r,b)},p4=r=>(i,u)=>{const d=b=>{u.setStartData(Z6(i,b))};return lo([Ct(Rb(),b=>{u.getStartData().each(()=>d(b))}),...r(i,u,d)])};var V$=Object.freeze({__proto__:null,getData:r=>P.from(Ur(r.x,r.y)),getDelta:(r,i)=>Ur(i.left-r.left,i.top-r.top)});const j6=(r,i,u)=>[Ct(Dt(),(d,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>h4(d,P.some(E),r,i),w=KA(v,200),k={drop:v,delayDrop:w.schedule,forceDrop:v,move:I=>{w.cancel(),g4(d,r,i,V$,I)}},E=W6(d,r.blockerClass,(I=>lo([Ct(Dt(),I.forceDrop),Ct(ro(),I.drop),Ct(Bn(),(F,B)=>{I.move(B.event)}),Ct(mo(),I.delayDrop)]))(k));u(d),U6(d,E)})],U$=[...f4,$r("dragger",{handlers:p4(j6)})];var K6=Object.freeze({__proto__:null,getData:r=>{const i=r.raw.touches;return i.length===1?(u=>{const d=u[0];return P.some(Ur(d.clientX,d.clientY))})(i):P.none()},getDelta:(r,i)=>Ur(i.left-r.left,i.top-r.top)});const q6=(r,i,u)=>{const d=pr(),b=v=>{h4(v,d.get(),r,i),d.clear()};return[Ct(K(),(v,w)=>{w.stop();const k=()=>b(v),E={drop:k,delayDrop:X,forceDrop:k,move:F=>{g4(v,r,i,K6,F)}},I=W6(v,r.blockerClass,(F=>lo([Ct(K(),F.forceDrop),Ct(Re(),F.drop),Ct(Ke(),F.drop),Ct(re(),(B,z)=>{F.move(z.event)})]))(E));d.set(I),u(v),U6(v,I)}),Ct(re(),(v,w)=>{w.stop(),g4(v,r,i,K6,w.event)}),Ct(Re(),(v,w)=>{w.stop(),b(v)}),Ct(Ke(),b)]},W$=U$,G6=[...f4,$r("dragger",{handlers:p4(q6)})],Y6=[...f4,$r("dragger",{handlers:p4((r,i,u)=>[...j6(r,i,u),...q6(r,i,u)])})];var Z$=Object.freeze({__proto__:null,mouse:W$,touch:G6,mouseOrTouch:Y6}),j$=Object.freeze({__proto__:null,init:()=>{let r=P.none(),i=P.none();const u=j({});return Sa({readState:u,reset:()=>{r=P.none(),i=P.none()},update:(d,b)=>d.getData(b).bind(v=>((w,k)=>{const E=r.map(I=>w.getDelta(I,k));return r=P.some(k),E})(d,v)),getStartData:()=>i,setStartData:d=>{i=P.some(d)}})}});const n0=fC({branchKey:"mode",branches:Z$,name:"dragging",active:{events:(r,i)=>r.dragger.handlers(r,i)},extra:{snap:r=>({sensor:r.sensor,range:r.range,output:r.output,extra:P.from(r.extra)})},state:j$,apis:V6}),X6=(r,i,u,d,b,v)=>r.fold(()=>n0.snap({sensor:Ch(u-20,d-20),range:Ur(b,v),output:Ch(P.some(u),P.some(d)),extra:{td:i}}),w=>{const k=u-20,E=d-20,I=w.element.dom.getBoundingClientRect();return n0.snap({sensor:Ch(k,E),range:Ur(40,40),output:Ch(P.some(u-I.width/2),P.some(d-I.height/2)),extra:{td:i}})}),J6=(r,i,u)=>({getSnapPoints:r,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,b)=>{const v=b.td;((w,k)=>w.exists(E=>Jo(E,k)))(i.get(),v)||(i.set(v),u(v))},mustSnap:!0}),Q6=r=>ur(Bi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Vt([n0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:r}),Vv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),eP=(r,i)=>{const u=Dn([]),d=Dn([]),b=Dn(!1),v=pr(),w=pr(),k=le=>{const ie=ml(le);return X6(B.getOpt(i),le,ie.x,ie.y,ie.width,ie.height)},E=le=>{const ie=ml(le);return X6(z.getOpt(i),le,ie.right,ie.bottom,ie.width,ie.height)},I=J6(()=>Je(u.get(),le=>k(le)),v,le=>{w.get().each(ie=>{r.dispatch("TableSelectorChange",{start:le,finish:ie})})}),F=J6(()=>Je(d.get(),le=>E(le)),w,le=>{v.get().each(ie=>{r.dispatch("TableSelectorChange",{start:ie,finish:le})})}),B=Q6(I),z=Q6(F),G=Ha(B.asSpec()),J=Ha(z.asSpec()),ae=(le,ie,he,xe)=>{const _e=he(ie);n0.snapTo(le,_e),((Ve,nt,kt,wt)=>{const yt=nt.dom.getBoundingClientRect();fr(Ve.element,"display");const $t=Kc(rn(r.getBody())).dom.innerHeight,dn=yt[xe]<0,Cn=((Nn,to)=>Nn[xe]>to)(yt,$t);(dn||Cn)&&ao(Ve.element,"display","none")})(le,ie)},ue=le=>ae(G,le,k,"top"),ye=le=>ae(J,le,E,"bottom");if(Xa().deviceType.isTouch()){const le=ie=>Je(ie,rn);r.on("TableSelectionChange",ie=>{b.get()||(Hf(i,G),Hf(i,J),b.set(!0));const he=rn(ie.start),xe=rn(ie.finish);v.set(he),w.set(xe),P.from(ie.otherCells).each(_e=>{u.set(le(_e.upOrLeftCells)),d.set(le(_e.downOrRightCells)),ue(he),ye(xe)})}),r.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ue),w.get().each(ye)}),r.on("TableSelectionClear",()=>{b.get()&&(tl(G),tl(J),b.set(!1)),v.clear(),w.clear()})}},tP=(r,i,u)=>{var d;const b=(d=i.delimiter)!==null&&d!==void 0?d:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Vt([Tn.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:u.isDisabled}),Ea(),Mr.config({}),$n.config({}),po("elementPathEvents",[Gr((v,w)=>{r.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Tn.focusIn(v)),r.on("NodeChange",k=>{const E=(F=>{const B=[];let z=F.length;for(;z-- >0;){const J=F[z];if(J.nodeType===1&&(G=J).nodeName!=="BR"&&!G.getAttribute("data-mce-bogus")&&G.getAttribute("data-mce-type")!=="bookmark"){const ae=kN(r,J);if(ae.isDefaultPrevented()||B.push({name:ae.name,element:J}),ae.isPropagationStopped())break}}var G;return B})(k.parents),I=E.length>0?gn(E,(F,B,z)=>{const G=((J,ae,ue)=>Bi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ue}},components:[As(J)],action:ye=>{r.focus(),r.selection.select(ae),r.nodeChanged()},buttonBehaviours:Vt([Gs.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",ae.nodeName.toLowerCase()]),onShow:(ye,le)=>{((ie,he)=>{const xe=P.from(Ro(ie,"id")).getOrThunk(()=>{const _e=pn("aria");return nn(he,"id",_e),_e});nn(ie,"aria-describedby",xe)})(ye.element,le.element)},onHide:ye=>{var le;le=ye.element,xo(le,"aria-describedby")}})}),wi(u.isDisabled),Ea()])}))(B.name,B.element,z);return z===0?F.concat([G]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[As(` ${b} `)]},G])},[]):[];$n.set(v,I)})})])]),components:[]}};var _h;(function(r){r[r.None=0]="None",r[r.Both=1]="Both",r[r.Vertical=2]="Vertical"})(_h||(_h={}));const zS=(r,i,u)=>{const d=rn(r.getContainer()),b=((v,w,k,E,I)=>{const F={height:gw(E+w.top,I1(v),GC(v))};return k===_h.Both&&(F.width=gw(I+w.left,c2(v),P1(v))),F})(r,i,u,bs(d),wa(d));Mn(b,(v,w)=>{te(v)&&ao(d,w,zp(v))}),(v=>{v.dispatch("ResizeEditor")})(r)},VS=(r,i,u,d)=>{const b=Ur(20*u,20*d);return zS(r,b,i),P.some(!0)},nP=(r,i)=>{const u=()=>{const d=[],b=WE(r),v=gR(r),w=Bc(r)||r.hasPlugin("wordcount");return v&&d.push(tP(r,{},i)),b&&d.push((()=>{const k=k_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[As(Xu.translate(["Press {0} for help",k]))]}})()),w&&d.push((()=>{const k=[];return r.hasPlugin("wordcount")&&k.push(((E,I)=>{const F=(B,z,G)=>$n.set(B,[As(I.translate(["{0} "+G,z[G]]))]);return Bi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Vt([wi(I.isDisabled),Ea(),Mr.config({}),$n.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),po("wordcount-events",[au(B=>{const z=lt.getValue(B),G=z.mode==="words"?"characters":"words";lt.setValue(B,{mode:G,count:z.count}),F(B,z.count,G)}),Gr(B=>{E.on("wordCountUpdate",z=>{const{mode:G}=lt.getValue(B);lt.setValue(B,{mode:G,count:z.wordCount}),F(B,z.wordCount,G)})})])]),eventOrder:{[gl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(r,i)),Bc(r)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":r.translate(["Build with {0}","TinyMCE"])},innerHtml:r.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Vt([Jn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),d.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const I="tox-statusbar__text-container-3-cols";return w||v?w&&!v?[I,E]:[I,k]:[I,"tox-statusbar__text-container--space-around"]}return[w&&!v?E:k]})()]},components:d}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const d=u(),b=((v,w)=>{const k=(I=>{const F=ii(I);return F===!1?_h.None:F==="both"?_h.Both:_h.Vertical})(v);if(k===_h.None)return P.none();const E=k===_h.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(Mc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[n0.config({mode:"mouse",repositionTarget:!1,onDrag:(I,F,B)=>zS(v,B,k),blockerClass:"tox-blocker"}),Tn.config({mode:"special",onLeft:()=>VS(v,k,-1,0),onRight:()=>VS(v,k,1,0),onUp:()=>VS(v,k,0,-1),onDown:()=>VS(v,k,0,1)}),Mr.config({}),Jn.config({}),Gs.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(r,i);return d.concat(b.toArray())})()}},oP=(r,i)=>i.get().getOrDie(`UI for ${r} has not been rendered`),K$=(r,i)=>{const u=r.inline,d=u?A$:TU,b=uh(r)?E7:k7,v=(()=>{const _e=pr(),Ve=pr(),nt=pr();return{dialogUi:_e,popupUi:Ve,mainUi:nt,getUiMotherships:()=>{const kt=_e.get().map(yt=>yt.mothership),wt=Ve.get().map(yt=>yt.mothership);return kt.fold(()=>wt.toArray(),yt=>wt.fold(()=>[yt],$t=>Jo(yt.element,$t.element)?[yt]:[yt,$t]))},lazyGetInOuterOrDie:(kt,wt)=>()=>nt.get().bind(yt=>wt(yt.outerContainer)).getOrDie(`Could not find ${kt} element in OuterContainer`)}})(),w=pr(),k=pr(),E=pr(),I=Xa().deviceType.isTouch()?["tox-platform-touch"]:[],F=ZE(r),B=Av(r),z=ur({dom:{tag:"div",classes:["tox-anchorbar"]}}),G=ur({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),J=()=>v.mainUi.get().map(_e=>_e.outerContainer).bind(jr.getHeader),ae=v.lazyGetInOuterOrDie("anchor bar",z.getOpt),ue=v.lazyGetInOuterOrDie("bottom anchor bar",G.getOpt),ye=v.lazyGetInOuterOrDie("toolbar",jr.getToolbar),le=v.lazyGetInOuterOrDie("throbber",jr.getThrobber),ie=((_e,Ve,nt,kt)=>{const wt=Dn(!1),yt=(Wo=>{const Fn=Dn(ZE(Wo)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Ve),$t={icons:()=>Ve.ui.registry.getAll().icons,menuItems:()=>Ve.ui.registry.getAll().menuItems,translate:Xu.translate,isDisabled:()=>Ve.mode.isReadOnly()||!Ve.ui.isEnabled(),getOption:Ve.options.get,tooltips:mT(_e.dialog)},dn=CI(Ve),Cn=(Wo=>{const Fn=Ua=>()=>Wo.formatter.match(Ua),os=Ua=>()=>{const Ta=Wo.formatter.get(Ua);return Ta!==void 0?P.some({tag:Ta.length>0&&(Ta[0].inline||Ta[0].block)||"div",styles:Wo.dom.parseStyle(Wo.formatter.getCssText(Ua))}):P.none()},Dr=Dn([]),Mi=Dn([]),Fi=Dn(!1);return Wo.on("PreInit",Ua=>{const Ta=fI(Wo),Sh=fT(Wo,Ta,Fn,os);Dr.set(Sh)}),Wo.on("addStyleModifications",Ua=>{const Ta=fT(Wo,Ua.items,Fn,os);Mi.set(Ta),Fi.set(Ua.replace)}),{getData:()=>{const Ua=Fi.get()?[]:Dr.get(),Ta=Mi.get();return Ua.concat(Ta)}}})(Ve),Nn=(Wo=>({colorPicker:d7(Wo),hasCustomColors:f7(Wo),getColors:m7(Wo),getColorCols:g7(Wo)}))(Ve),to=(Wo=>({isDraggableModal:cI(Wo)}))(Ve),To={shared:{providers:$t,anchors:u7(Ve,nt,kt,yt.isPositionedAtTop),header:yt},urlinput:dn,styles:Cn,colorinput:Nn,dialog:to,isContextMenuOpen:()=>wt.get(),setContextMenuState:Wo=>wt.set(Wo)},Kr=Wo=>P.none(),ns={...To,shared:{...To.shared,interpreter:Wo=>rI(Wo,{},ns,Kr),getSink:_e.popup}},vo={...To,shared:{...To.shared,interpreter:Wo=>rI(Wo,{},vo,Kr),getSink:_e.dialog}};return{popup:ns,dialog:vo}})({popup:()=>Ao.fromOption(v.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>Ao.fromOption(v.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},r,ae,ue),he=()=>{const _e=(()=>{const To={attributes:{[vl]:F?Ic.BottomToTop:Ic.TopToBottom}},Kr=jr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ie.popup,onEscape:()=>{r.focus()}}),ns=jr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ie.popup.shared.getSink,providers:ie.popup.shared.providers,onEscape:()=>{r.focus()},onToolbarToggled:Ta=>{((Sh,gy)=>{Sh.dispatch("ToggleToolbarDrawer",{state:gy})})(r,Ta)},type:B,lazyToolbar:ye,lazyHeader:()=>J().getOrDie("Could not find header element"),...To}),vo=jr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ie.popup.shared.providers,onEscape:()=>{r.focus()},type:B}),Wo=g2(r),Fn=m2(r),os=f2(r),Dr=pR(r),Mi=jr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Fi=Wo||Fn||os,Ua=Dr?[Mi,Kr]:[Kr];return jr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Fi?[]:["tox-editor-header--empty"]),...To},components:$o([os?Ua:[],Wo?[vo]:Fn?[ns]:[],Tv(r)?[]:[z.asSpec()]]),sticky:uh(r),editor:r,sharedBackstage:ie.popup.shared})})(),Ve={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[jr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),jr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},nt=jr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ie.popup}),kt=jr.parts.viewWrapper({backstage:ie.popup}),wt=mR(r)&&!u?P.some(nP(r,ie.popup.shared.providers)):P.none(),yt=$o([F?[]:[_e],u?[]:[Ve],F?[_e]:[]]),$t=jr.parts.editorContainer({components:$o([yt,u?[]:[G.asSpec()]])}),dn=a_(r),Cn={role:"application",...Xu.isRtl()?{dir:"rtl"}:{},...dn?{"aria-hidden":"true"}:{}},Nn=Ha(jr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(I),styles:{visibility:"hidden",...dn?{opacity:"0",border:"0"}:{}},attributes:Cn},components:[$t,...u?[]:[kt,...wt.toArray()],nt],behaviours:Vt([Ea(),eo.config({disableClass:"tox-tinymce--disabled"}),Tn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),to=M_(Nn);return w.set(to),{mothership:to,outerContainer:Nn}},xe=_e=>{const Ve=zp((kt=>(yt=>{const $t=i2(yt),dn=I1(yt),Cn=GC(yt);return mw($t).map(Nn=>gw(Nn,dn,Cn))})(kt).getOr(i2(kt)))(r)),nt=zp((kt=>JT(kt).getOr(l2(kt)))(r));return r.inline||(Bl("div","width",nt)&&ao(_e.element,"width",nt),Bl("div","height",Ve)?ao(_e.element,"height",Ve):ao(_e.element,"height","400px")),Ve};return{popups:{backstage:ie.popup,getMothership:()=>oP("popups",E)},dialogs:{backstage:ie.dialog,getMothership:()=>oP("dialogs",k)},renderUI:()=>{const _e=he(),Ve=(()=>{const kt=s_(r),wt=Jo(hn(),kt)&&ps(kt,"display")==="grid",yt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(I),attributes:{...Xu.isRtl()?{dir:"rtl"}:{}}},behaviours:Vt([ai.config({useFixed:()=>b.isDocked(J)})])},$t={dom:{styles:{width:document.body.clientWidth+"px"}},events:lo([Ct(Cf(),Nn=>{ao(Nn.element,"width",document.body.clientWidth+"px")})])},dn=Ha(Ar(yt,wt?$t:{})),Cn=M_(dn);return k.set(Cn),{sink:dn,mothership:Cn}})(),nt=dh(r)?(()=>{const kt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(I),attributes:{...Xu.isRtl()?{dir:"rtl"}:{}}},behaviours:Vt([ai.config({useFixed:()=>b.isDocked(J),getBounds:()=>i.getPopupSinkBounds()})])},wt=Ha(kt),yt=M_(wt);return E.set(yt),{sink:wt,mothership:yt}})():(kt=>(E.set(kt.mothership),kt))(Ve);return v.dialogUi.set(Ve),v.popupUi.set(nt),v.mainUi.set(_e),(kt=>{const{mainUi:wt,popupUi:yt,uiMotherships:$t}=kt;zn(XC(r),(Fn,os)=>{r.ui.registry.addGroupToolbarButton(os,Fn)});const{buttons:dn,menuItems:Cn,contextToolbars:Nn,sidebars:to,views:To}=r.ui.registry.getAll(),Kr=r_(r),ns={menuItems:Cn,menus:vp(r),menubar:ch(r),toolbar:Kr.getOrThunk(()=>B1(r)),allowToolbarGroups:B===Yu.floating,buttons:dn,sidebar:to,views:To};var vo;vo=wt.outerContainer,r.addShortcut("alt+F9","focus menubar",()=>{jr.focusMenubar(vo)}),r.addShortcut("alt+F10","focus toolbar",()=>{jr.focusToolbar(vo)}),r.addCommand("ToggleToolbarDrawer",(Fn,os)=>{os!=null&&os.skipFocus?jr.toggleToolbarDrawerWithoutFocusing(vo):jr.toggleToolbarDrawer(vo)}),r.addQueryStateHandler("ToggleToolbarDrawer",()=>jr.isToolbarDrawerToggled(vo)),((Fn,os,Dr)=>{const Mi=(or,fg)=>{Tt([os,...Dr],Xd=>{Xd.broadcastEvent(or,fg)})},Fi=(or,fg)=>{Tt([os,...Dr],Xd=>{Xd.broadcastOn([or],fg)})},Ua=or=>Fi(M(),{target:or.target}),Ta=Ai(),Sh=Pi(Ta,"touchstart",Ua),gy=Pi(Ta,"touchmove",or=>Mi(Sn(),or)),Up=Pi(Ta,"touchend",or=>Mi(ru(),or)),kh=Pi(Ta,"mousedown",Ua),Ow=Pi(Ta,"mouseup",or=>{or.raw.button===0&&Fi(W(),{target:or.target})}),Wp=or=>Fi(M(),{target:rn(or.target)}),ug=or=>{or.button===0&&Fi(W(),{target:rn(or.target)})},r0=()=>{Tt(Fn.editorManager.get(),or=>{Fn!==or&&or.dispatch("DismissPopups",{relatedTarget:Fn})})},s0=or=>Mi(Rb(),Md(or)),hy=or=>{Fi(U(),{}),Mi(Cf(),Md(or))},XS=ut(rn(Fn.getElement())),Dw=Rx(XS,"scroll",or=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const fg=yp(Fn,os.element).map(Xd=>[Xd.element,...Xd.others]).getOr([]);_n(fg,Xd=>Jo(Xd,or.target))&&(Fn.dispatch("ElementScroll",{target:or.target.dom}),Mi(Kh(),or))}})}),Zp=()=>Fi(U(),{}),dg=or=>{or.state&&Fi(M(),{target:rn(Fn.getContainer())})},Eh=or=>{Fi(M(),{target:rn(or.relatedTarget.getContainer())})},Rw=or=>Fn.dispatch("focusin",or),Nw=or=>Fn.dispatch("focusout",or);Fn.on("PostRender",()=>{Fn.on("click",Wp),Fn.on("tap",Wp),Fn.on("mouseup",ug),Fn.on("mousedown",r0),Fn.on("ScrollWindow",s0),Fn.on("ResizeWindow",hy),Fn.on("ResizeEditor",Zp),Fn.on("AfterProgressState",dg),Fn.on("DismissPopups",Eh),Tt([os,...Dr],or=>{or.element.dom.addEventListener("focusin",Rw),or.element.dom.addEventListener("focusout",Nw)})}),Fn.on("remove",()=>{Fn.off("click",Wp),Fn.off("tap",Wp),Fn.off("mouseup",ug),Fn.off("mousedown",r0),Fn.off("ScrollWindow",s0),Fn.off("ResizeWindow",hy),Fn.off("ResizeEditor",Zp),Fn.off("AfterProgressState",dg),Fn.off("DismissPopups",Eh),Tt([os,...Dr],or=>{or.element.dom.removeEventListener("focusin",Rw),or.element.dom.removeEventListener("focusout",Nw)}),kh.unbind(),Sh.unbind(),gy.unbind(),Up.unbind(),Ow.unbind(),Dw.unbind()}),Fn.on("detach",()=>{Tt([os,...Dr],tE),Tt([os,...Dr],or=>or.destroy())})})(r,wt.mothership,$t),b.setup(r,ie.popup.shared,J),P$(r,ie.popup),$$(r,ie.popup.shared.getSink,ie.popup),(Fn=>{const{sidebars:os}=Fn.ui.registry.getAll();Tt(Ft(os),Dr=>{const Mi=os[Dr],Fi=()=>Xs(P.from(Fn.queryCommandValue("ToggleSidebar")),Dr);Fn.ui.registry.addToggleButton(Dr,{icon:Mi.icon,tooltip:Mi.tooltip,onAction:Ua=>{Fn.execCommand("ToggleSidebar",!1,Dr),Ua.setActive(Fi())},onSetup:Ua=>{Ua.setActive(Fi());const Ta=()=>Ua.setActive(Fi());return Fn.on("ToggleSidebar",Ta),()=>{Fn.off("ToggleSidebar",Ta)}}})})})(r),NI(r,le,ie.popup.shared),D$(r,Nn,yt.sink,{backstage:ie.popup}),eP(r,yt.sink);const Wo={targetNode:r.getElement(),height:xe(wt.outerContainer)};return d.render(r,kt,ns,ie.popup,Wo)})({popupUi:nt,dialogUi:Ve,mainUi:_e,uiMotherships:v.getUiMotherships()})}}},q$=j([Ot("lazySink"),Bo("dragBlockClass"),Zr("getBounds",Ba),rt("useTabstopAt",Be),rt("firstTabstop",0),rt("eventOrder",{}),bn("modalBehaviours",[Tn]),hl("onExecute"),vi("onEscape")]),b4={sketch:de},v4=j([mu({name:"draghandle",overrides:(r,i)=>({behaviours:Vt([n0.config({mode:"mouse",getTarget:u=>Im(u,'[role="dialog"]').getOr(u),blockerClass:r.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:r.getDragBounds})])})}),yl({schema:[Ot("dom")],name:"title"}),yl({factory:b4,schema:[Ot("dom")],name:"close"}),yl({factory:b4,schema:[Ot("dom")],name:"body"}),mu({factory:b4,schema:[Ot("dom")],name:"footer"}),zd({factory:{sketch:(r,i)=>({...r,dom:i.dom,components:i.components})},schema:[rt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),rt("components",[])],name:"blocker"})]),_s=Ol({name:"ModalDialog",configFields:q$(),partFields:v4(),factory:(r,i,u,d)=>{const b=pr(),v=pn("modal-events"),w={...r.eventOrder,[ni()]:[v].concat(r.eventOrder["alloy.system.attached"]||[])},k=Xa();return{uid:r.uid,dom:r.dom,components:i,apis:{show:E=>{b.set(E);const I=r.lazySink(E).getOrDie(),F=d.blocker(),B=I.getSystem().build({...F,components:F.components.concat([Qi(E)]),behaviours:Vt([Jn.config({}),po("dialog-blocker-events",[Ef(ir(),()=>{id.isBlocked(E)||Tn.focusIn(E)})])])});Hf(I,B),Tn.focusIn(E)},hide:E=>{b.clear(),mi(E.element).each(I=>{E.getSystem().getByDom(I).each(F=>{tl(F)})})},getBody:E=>ih(E,r,"body"),getFooter:E=>zr(E,r,"footer"),setIdle:E=>{id.unblock(E)},setBusy:(E,I)=>{id.block(E,I)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ho(r.modalBehaviours,[$n.config({}),Tn.config({mode:"cyclic",onEnter:r.onExecute,onEscape:r.onEscape,useTabstopAt:r.useTabstopAt,firstTabstop:r.firstTabstop}),id.config({getRoot:b.get}),po(v,[Gr(E=>{const I=ih(E,r,"title").element,F=(B=>B.dom.textContent)(I);k.os.isMacOS()&&V(F)?nn(E.element,"aria-label",F):((B,z)=>{const G=Ho(B,"id").fold(()=>{const J=pn("dialog-label");return nn(z,"id",J),J},de);nn(B,"aria-labelledby",G)})(E.element,I)})])])}},apis:{show:(r,i)=>{r.show(i)},hide:(r,i)=>{r.hide(i)},getBody:(r,i)=>r.getBody(i),getFooter:(r,i)=>r.getFooter(i),setBusy:(r,i,u)=>{r.setBusy(i,u)},setIdle:(r,i)=>{r.setIdle(i)}}}),G$=Ln([ca,iA].concat(Pv)),yw=Yl,y4=[gA("button"),Qu,wc("align","end",["start","end"]),y_,ed,Lg("buttonType",["primary","secondary"])],US=[...y4,Ju],x4=[zu("type",["submit","cancel","custom"]),...US],Y$=[zu("type",["menu"]),kp,N2,Qu,Xi("items",G$),...y4],X$=[...y4,zu("type",["togglebutton"]),N2,Qu,kp,js("active",!1)],rP=aa("type",{submit:x4,cancel:x4,custom:x4,menu:Y$,togglebutton:X$}),J$=[ca,Ju,zu("level",["info","warn","error","success"]),uA,rt("url","")],w4=Ln(J$),C4=[ca,Ju,ed,gA("button"),Qu,AU,Lg("buttonType",["primary","secondary","toolbar"]),y_],_4=Ln(C4),uy=[ca,iA],Va=uy.concat([dA]),Q$=uy.concat([lA,ed]),eH=Ln(Q$),sP=Yl,aP=Va.concat([JR("auto")]),tH=Ln(aP),nH=Fu([Nv,Ju,uA]),oH=Va.concat([Ml("storageKey","default")]),rH=Ln(oH),sH=ga,aH=Ln(Va),iH=ga,iP=uy.concat([Ml("tag","textarea"),ds("scriptId"),ds("scriptUrl"),nu("onFocus"),Ri("settings",void 0,B0)]),lH=uy.concat([Ml("tag","textarea"),Di("init")]),cH=vf(r=>us("customeditor.old",ma(lH),r).orThunk(()=>us("customeditor.new",ma(iP),r))),uH=ga,lP=Ln(Va),S4=Mu(Bu),cP=r=>[ca,Zh("columns"),r],uP=[ca,ds("html"),wc("presets","presentation",["presentation","document"]),Zr("onInit",X),js("stretched",!1)],dP=Ln(uP),fP=Va.concat([js("border",!1),js("sandboxed",!0),js("streamContent",!1),js("transparent",!0)]),k4=Ln(fP),dH=ga,E4=Ln(uy.concat([Es("height")])),dy=Ln([ds("url"),yf("zoom"),yf("cachedWidth"),yf("cachedHeight")]),mP=Va.concat([Es("inputMode"),Es("placeholder"),js("maximized",!1),ed]),gP=Ln(mP),hP=ga,fH=r=>[ca,lA,r,wc("align","start",["start","center","end"]),Es("for")],mH=[Ju,Nv],WS=[Ju,Xi("items",Wh(0,()=>pP))],pP=ym([Ln(mH),Ln(WS)]),gH=Va.concat([Xi("items",pP),ed]),bP=Ln(gH),vP=ga,A4=Va.concat([wm("items",[Ju,Nv]),Ns("size",1),ed]),yP=Ln(A4),Vl=ga,xP=Va.concat([js("constrain",!0),ed]),hH=Ln(xP),wP=Ln([ds("width"),ds("height")]),CP=uy.concat([lA,Ns("min",0),Ns("max",0)]),pH=Ln(CP),bH=Td,vH=[ca,Xi("header",ga),Xi("cells",Mu(ga))],_P=Ln(vH),cg=Va.concat([Es("placeholder"),js("maximized",!1),ed]),T4=Ln(cg),SP=ga,xw=[zu("type",["directory","leaf"]),cA,ds("id"),Rs("menu",TI)],ZS=Ln(xw),yH=xw.concat([Xi("children",Wh(0,()=>Hu("type",{directory:kP,leaf:ZS})))]),kP=Ln(yH),xH=Hu("type",{directory:kP,leaf:ZS}),wH=[ca,Xi("items",xH),nu("onLeafAction"),nu("onToggleExpand"),Cr("defaultExpandedIds",[],ga),Es("defaultSelectedId")],CH=Ln(wH),_H=Va.concat([wc("filetype","file",["image","media","file"]),ed,Es("picker_text")]),SH=Ln(_H),EP=Ln([Nv,Fc]),O4=r=>ea("items","items",{tag:"required",process:{}},Mu(vf(i=>us(`Checking item of ${r}`,Yd,i).fold(u=>Ao.error(Yi(u)),u=>Ao.value(u))))),Yd=vm(()=>{return Hu("type",{alertbanner:w4,bar:Ln((r=O4("bar"),[ca,r])),button:_4,checkbox:eH,colorinput:rH,colorpicker:aH,dropzone:lP,grid:Ln(cP(O4("grid"))),iframe:k4,input:gP,listbox:bP,selectbox:yP,sizeinput:hH,slider:pH,textarea:T4,urlinput:SH,customeditor:cH,htmlpanel:dP,imagepreview:E4,collection:tH,label:Ln(fH(O4("label"))),table:_P,tree:CH,panel:AP});var r}),jS=[ca,rt("classes",[]),Xi("items",Yd)],AP=Ln(jS),kH=[gA("tab"),cA,Xi("items",Yd)],TP=[ca,wm("tabs",kH)],OP=Ln(TP),D4=US,KS=rP,ww=Ln([ds("title"),Fa("body",Hu("type",{panel:AP,tabpanel:OP})),Ml("size","normal"),Cr("buttons",[],KS),rt("initialData",{}),Zr("onAction",X),Zr("onChange",X),Zr("onSubmit",X),Zr("onClose",X),Zr("onCancel",X),Zr("onTabChange",X)]),Cw=Ln([zu("type",["cancel","custom"]),...D4]),DP=Ln([ds("title"),ds("url"),yf("height"),yf("width"),M0("buttons",Cw),Zr("onAction",X),Zr("onCancel",X),Zr("onClose",X),Zr("onMessage",X)]),qS=r=>x(r)?[r].concat(Do(Pa(r),qS)):O(r)?Do(r,qS):[],RP=r=>h(r.type)&&h(r.name),NP={checkbox:sP,colorinput:sH,colorpicker:iH,dropzone:S4,input:hP,iframe:dH,imagepreview:dy,selectbox:Vl,sizeinput:wP,slider:bH,listbox:vP,size:wP,textarea:SP,urlinput:EP,customeditor:uH,collection:nH,togglemenuitem:yw},EH=r=>{const i=(d=>jn(qS(d),RP))(r),u=Do(i,d=>(b=>P.from(NP[b.type]))(d).fold(()=>[],b=>[Fa(d.name,b)]));return Ln(u)},IP=r=>{var i;return{internalDialog:Oi(us("dialog",ww,r)),dataValidator:EH(r),initialData:(i=r.initialData)!==null&&i!==void 0?i:{}}},o0={open:(r,i)=>{const u=IP(i);return r(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(r,i)=>r(Oi(us("dialog",DP,i))),redial:r=>IP(r)};var AH=Object.freeze({__proto__:null,events:(r,i)=>{const u=(d,b)=>{r.updateState.each(v=>{const w=v(d,b);i.set(w)}),r.renderComponents.each(v=>{const w=v(b,i.get());(r.reuseDom?NE:_v)(d,w)})};return lo([Ct(Xl(),(d,b)=>{const v=b;if(!v.universal){const w=r.channel;ct(v.channels,w)&&u(d,v.data)}}),Gr((d,b)=>{r.initialData.each(v=>{u(d,v)})})])}}),TH=Object.freeze({__proto__:null,getState:(r,i,u)=>u}),PP=[Ot("channel"),Bo("renderComponents"),Bo("updateState"),Bo("initialData"),js("reuseDom",!0)];const ic=ka({fields:PP,name:"reflecting",active:AH,apis:TH,state:Object.freeze({__proto__:null,init:()=>{const r=Dn(P.none());return{readState:()=>r.get().getOr("none"),get:r.get,set:r.set,clear:()=>r.set(P.none())}}})}),LP=r=>{const i=[],u={};return Mn(r,(d,b)=>{d.fold(()=>{i.push(b)},v=>{u[b]=v})}),i.length>0?Ao.error(i):Ao.value(u)},BP=(r,i,u,d)=>{const b=ur(Ip.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(r.classes)},components:Je(r.items,k=>xS(w,k,i,u,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:Vt([Tn.config({mode:"acyclic",useTabstopAt:He(J1)}),(v=b,Ko.config({find:v.getOpt})),_3(b,{postprocess:w=>LP(w).fold(k=>(console.error(k),{}),de)}),po("dialog-body-panel",[Ct(ir(),(w,k)=>{w.getSystem().broadcastOn([cS],{newFocus:P.some(k.event.target)})})])])};var v},OH=gu({name:"TabButton",configFields:[rt("uid",void 0),Ot("value"),ea("dom","dom",Vo(()=>({attributes:{role:"tab",id:pn("aria"),"aria-selected":"false"}})),Tl()),Bo("action"),rt("domModification",{}),bn("tabButtonBehaviours",[Jn,Tn,lt]),Ot("view")],factory:(r,i)=>({uid:r.uid,dom:r.dom,components:r.components,events:R1(r.action),behaviours:ho(r.tabButtonBehaviours,[Jn.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:r.value}})]),domModification:r.domModification})}),MP=j([Ot("tabs"),Ot("dom"),rt("clickToDismiss",!1),bn("tabbarBehaviours",[mr,Tn]),Zg(["tabClass","selectedClass"])]),_w=IC({factory:OH,name:"tabs",unit:"tab",overrides:r=>{const i=(d,b)=>{mr.dehighlight(d,b),En(d,Ht(),{tabbar:d,button:b})},u=(d,b)=>{mr.highlight(d,b),En(d,qh(),{tabbar:d,button:b})};return{action:d=>{const b=d.getSystem().getByUid(r.uid).getOrDie(),v=mr.isHighlighted(b,d);(v&&r.clickToDismiss?i:v?X:u)(b,d)},domModification:{classes:[r.markers.tabClass]}}}}),DH=j([_w]),R4=Ol({name:"Tabbar",configFields:MP(),partFields:DH(),factory:(r,i,u,d)=>({uid:r.uid,dom:r.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ho(r.tabbarBehaviours,[mr.config({highlightClass:r.markers.selectedClass,itemClass:r.markers.tabClass,onHighlight:(b,v)=>{nn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{nn(v.element,"aria-selected","false")}}),Tn.config({mode:"flow",getInitial:b=>mr.getHighlighted(b).map(v=>v.element),selector:"."+r.markers.tabClass,executeOnMove:!0})])})}),RH=gu({name:"Tabview",configFields:[bn("tabviewBehaviours",[$n])],factory:(r,i)=>({uid:r.uid,dom:r.dom,behaviours:ho(r.tabviewBehaviours,[$n.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),NH=j([rt("selectFirst",!0),Uo("onChangeTab"),Uo("onDismissTab"),rt("tabs",[]),bn("tabSectionBehaviours",[])]),IH=yl({factory:R4,schema:[Ot("dom"),xc("markers",[Ot("tabClass"),Ot("selectedClass")])],name:"tabbar",defaults:r=>({tabs:r.tabs})}),PH=yl({factory:RH,name:"tabview"}),FP=j([IH,PH]),fy=Ol({name:"TabSection",configFields:NH(),partFields:FP(),factory:(r,i,u,d)=>{const b=(v,w)=>{zr(v,r,"tabbar").each(k=>{w(k).each(kf)})};return{uid:r.uid,dom:r.dom,components:i,behaviours:Un(r.tabSectionBehaviours),events:lo($o([r.selectFirst?[Gr((v,w)=>{b(v,mr.getFirst)})]:[],[Ct(qh(),(v,w)=>{(k=>{const E=lt.getValue(k);zr(k,r,"tabview").each(I=>{Q(r.tabs,F=>F.value===E).each(F=>{const B=F.view();Ho(k.element,"id").each(z=>{nn(I.element,"aria-labelledby",z)}),$n.set(I,B),r.onChangeTab(I,k,B)})})})(w.event.button)}),Ct(Ht(),(v,w)=>{const k=w.event.button;r.onDismissTab(v,k)})]])),apis:{getViewItems:v=>zr(v,r,"tabview").map(w=>$n.contents(w)).getOr([]),showTab:(v,w)=>{b(v,k=>{const E=mr.getCandidates(k);return Q(E,I=>lt.getValue(I)===w).filter(I=>!mr.isHighlighted(k,I))})}}}},apis:{getViewItems:(r,i)=>r.getViewItems(i),showTab:(r,i,u)=>{r.showTab(i,u)}}}),N4=(r,i)=>{ao(r,"height",i+"px"),ao(r,"flex-basis",i+"px")},my=(r,i,u)=>{Im(r,'[role="dialog"]').each(d=>{ts(d,'[role="tablist"]').each(b=>{u.get().map(v=>(ao(i,"height","0"),ao(i,"flex-basis","0"),Math.min(v,((w,k,E)=>{const I=ji(w).dom,F=Im(w,".tox-dialog-wrap").getOr(w);let B;B=ps(F,"position")==="fixed"?Math.max(I.clientHeight,window.innerHeight):Math.max(I.offsetHeight,I.scrollHeight);const z=bs(k),G=k.dom.offsetLeft>=E.dom.offsetLeft+wa(E)?Math.max(bs(E),z):z,J=parseInt(ps(w,"margin-top"),10)||0,ae=parseInt(ps(w,"margin-bottom"),10)||0;return B-(bs(w)+J+ae-G)})(d,i,b)))).each(v=>{N4(i,v)})})})},Jf=r=>ts(r,'[role="tabpanel"]'),GS="send-data-to-section",I4="send-data-to-view",$P=(r,i,u,d)=>{const b=Dn({}),v=F=>{const B=lt.getValue(F),z=LP(B).getOr({}),G=b.get(),J=Ar(G,z);b.set(J)},w=F=>{const B=b.get();lt.setValue(F,B)},k=Dn(null),E=Je(r.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[As(u.shared.providers.translate(F.title))],view:()=>[Ip.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:Je(F.items,z=>xS(B,z,i,u,d)),formBehaviours:Vt([Tn.config({mode:"acyclic",useTabstopAt:He(J1)}),po("TabView.form.events",[Gr(w),Wu(v)]),bl.config({channels:Od([{key:GS,value:{onReceive:v}},{key:I4,value:{onReceive:w}}])})])}))]})),I=(F=>{const B=pr();return{extraEvents:[Gr(G=>{const J=G.element;Jf(J).each(ae=>{ao(ae,"visibility","hidden"),G.getSystem().getByDom(ae).toOptional().each(ue=>{const ye=((ie,he,xe)=>Je(ie,(_e,Ve)=>{$n.set(xe,ie[Ve].view());const nt=he.dom.getBoundingClientRect();return $n.set(xe,[]),nt.height}))(F,ae,ue);(ie=>De(pe(ie,(he,xe)=>he>xe?-1:he<xe?1:0)))(ye).fold(B.clear,B.set)}),my(J,ae,B),fr(ae,"visibility"),((ue,ye)=>{De(ue).each(le=>fy.showTab(ye,le.value))})(F,G),requestAnimationFrame(()=>{my(J,ae,B)})})}),Ct(Cf(),G=>{const J=G.element;Jf(J).each(ae=>{my(J,ae,B)})}),Ct($_,(G,J)=>{const ae=G.element;Jf(ae).each(ue=>{const ye=cu(ut(ue));ao(ue,"visibility","hidden");const le=Zs(ue,"height").map(he=>parseInt(he,10));fr(ue,"height"),fr(ue,"flex-basis");const ie=ue.dom.getBoundingClientRect().height;le.forall(he=>ie>he)?(B.set(ie),my(ae,ue,B)):le.each(he=>{N4(ue,he)}),fr(ue,"visibility"),ye.each(Ii)})})],selectFirst:!1}})(E);return fy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,B,z)=>{const G=lt.getValue(B);En(F,JN,{name:G,oldName:k.get()}),k.set(G)},tabs:E,components:[fy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[R4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Vt([Mr.config({})])}),fy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:I.selectFirst,tabSectionBehaviours:Vt([po("tabpanel",I.extraEvents),Tn.config({mode:"acyclic"}),Ko.config({find:F=>De(fy.getViewItems(F))}),Zv(P.none(),F=>(F.getSystem().broadcastOn([GS],{}),b.get()),(F,B)=>{b.set(B),F.getSystem().broadcastOn([I4],{})})])})},YS=(r,i,u,d,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(w=>({id:w})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:Vt([w3(0),ic.config({channel:`${T5}-${i}`,updateState:(w,k)=>P.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[$P(k,w.initialData,d,v)]:[BP(k,w.initialData,d,v)]},initialData:r})])}),HP=Zf.deviceType.isTouch(),Sw=(r,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[r,i]}),P4=(r,i)=>_s.parts.close(Bi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:r,buttonBehaviours:Vt([Mr.config({})])})),L4=()=>_s.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),zP=(r,i)=>_s.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:qm(`<p>${DR(i.translate(r))}</p>`)}]}]}),VP=r=>_s.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:r}),UP=(r,i)=>[Zd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:r}),Zd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],B4=r=>{const i="tox-dialog",u=i+"-wrap",d=u+"__backdrop",b=i+"__disable-scroll";return _s.sketch({lazySink:r.lazySink,onEscape:v=>(r.onEscape(v),P.some(!0)),useTabstopAt:v=>!J1(v),firstTabstop:r.firstTabstop,dom:{tag:"div",classes:[i].concat(r.extraClasses),styles:{position:"relative",...r.extraStyles}},components:[r.header,r.body,...r.footer.toArray()],parts:{blocker:{dom:qm(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:HP?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:u,modalBehaviours:Vt([Jn.config({}),po("dialog-events",r.dialogEvents.concat([Ef(ir(),(v,w)=>{id.isBlocked(v)||Tn.focusIn(v)}),Ct($0(),(v,w)=>{v.getSystem().broadcastOn([cS],{newFocus:w.event.newFocus})})])),po("scroll-lock",[Gr(()=>{ms(hn(),b)}),Wu(()=>{xs(hn(),b)})]),...r.extraBehaviours]),eventOrder:{[gl()]:["dialog-events"],[ni()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[_c()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...r.eventOrder}})},WP=r=>Bi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Vt([Mr.config({}),Gs.config(r.tooltips.getConfig({tooltipText:r.translate("Close")}))]),components:[Mc("close",{tag:"span",classes:["tox-icon"]},r.icons)],action:i=>{wo(i,ph)}}),M4=(r,i,u,d)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(b=>({id:b})).getOr({})}},components:[],behaviours:Vt([ic.config({channel:`${R3}-${i}`,initialData:r,renderComponents:b=>[As(d.translate(b.title))]})])}),F4=()=>({dom:qm('<div class="tox-dialog__draghandle"></div>')}),ZP=(r,i,u)=>((d,b,v)=>{const w=_s.parts.title(M4(d,b,P.none(),v)),k=_s.parts.draghandle(F4()),E=_s.parts.close(WP(v)),I=[w].concat(d.draggable?[k]:[]).concat([E]);return Zd.sketch({dom:qm('<div class="tox-dialog__header"></div>'),components:I})})({title:u.shared.providers.translate(r),draggable:u.dialog.isDraggableModal()},i,u.shared.providers),jP=(r,i,u,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(r)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:i,components:[{dom:qm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),KP=(r,i,u)=>({onClose:()=>u.closeWindow(),onBlock:d=>{const b=ts(r().element,".tox-dialog__header").map(v=>bs(v));_s.setBusy(r(),(v,w)=>jP(d.message,w,i,b))},onUnblock:()=>{_s.setIdle(r())}}),kw="tox-dialog--fullscreen",$4="tox-dialog--width-lg",H4="tox-dialog--width-md",Ew=r=>{switch(r){case"large":return P.some($4);case"medium":return P.some(H4);default:return P.none()}},z4=(r,i)=>{const u=rn(i.element.dom);Ji(u,kw)||(Ql(u,[$4,H4]),Ew(r).each(d=>ms(u,d)))},qP=(r,i)=>{const u=rn(r.element.dom),d=Nd(u),b=Q(d,v=>v===$4||v===H4).or(Ew(i));((v,w)=>{Tt(w,k=>{((E,I)=>{Hg(E)?E.dom.classList.toggle(I):((F,B)=>ct(Ib(F),B)?nx(F,B):V0(F,B))(E,I),Pb(E)})(v,k)})})(u,[kw,...b.toArray()])},GP=(r,i,u)=>Ha(B4({...r,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[X2({}),...r.extraBehaviours],onEscape:d=>{wo(d,ph)},dialogEvents:i,eventOrder:{[Xl()]:[ic.name(),bl.name()],[ni()]:["scroll-lock",ic.name(),"messages","dialog-events","alloy.base.behaviour"],[_c()]:["alloy.base.behaviour","dialog-events","messages",ic.name(),"scroll-lock"]}})),Aw=(r,i={})=>Je(r,u=>u.type==="menu"?(d=>{const b=Je(d.items,v=>{const w=yn(i,v.name).getOr(Dn(!1));return{...v,storage:w}});return{...d,items:b}})(u):u),YP=r=>gn(r,(i,u)=>u.type==="menu"?gn(u.items,(d,b)=>(d[b.name]=b.storage,d),i):i,{}),V4=(r,i)=>[$g(ir(),WF),r(Dp,(u,d,b,v)=>{cu(ut(v.element)).fold(X,Yb),i.onClose(),d.onClose()}),r(ph,(u,d,b,v)=>{d.onCancel(u),wo(v,Dp)}),Ct(XA,(u,d)=>i.onUnblock()),Ct(YA,(u,d)=>i.onBlock(d.event))],XP=(r,i,u)=>{const d=(v,w)=>Ct(v,(k,E)=>{b(k,(I,F)=>{w(r(),I,E.event,k)})}),b=(v,w)=>{ic.getState(v).get().each(k=>{w(k.internalDialog,v)})};return[...V4(d,i),d(j2,(v,w)=>w.onSubmit(v)),d(rl,(v,w,k)=>{w.onChange(v,{name:k.name})}),d(Yf,(v,w,k,E)=>{const I=()=>E.getSystem().isConnected()?Tn.focusIn(E):void 0,F=G=>ks(G,"disabled")||Ho(G,"aria-disabled").exists(J=>J==="true"),B=ut(E.element),z=cu(B);w.onAction(v,{name:k.name,value:k.value}),cu(B).fold(I,G=>{F(G)||z.exists(J=>Ss(G,J)&&F(J))?I():u().toOptional().filter(J=>!Ss(J.element,G)).each(I)})}),d(JN,(v,w,k)=>{w.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Wu(v=>{const w=r();lt.setValue(v,w.getData())})]},LH=(r,i)=>{const u=i.map(v=>v.footerButtons).getOr([]),d=Gn(u,v=>v.align==="start"),b=(v,w)=>Zd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Je(w,k=>k.memento.asSpec())});return[b("start",d.pass),b("end",d.fail)]},JP=(r,i,u)=>({dom:qm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Vt([ic.config({channel:`${O5}-${i}`,initialData:r,updateState:(d,b)=>{const v=Je(b.buttons,w=>{const k=ur(((E,I)=>ty(E,E.type,I))(w,u));return{name:w.name,align:w.align,memento:k}});return P.some({lookupByName:w=>((k,E,I)=>Q(E,F=>F.name===I).bind(F=>F.memento.getOpt(k)))(d,v,w),footerButtons:v})},renderComponents:LH})])}),U4=(r,i,u)=>_s.parts.footer(JP(r,i,u)),Tw=(r,i)=>{if(r.getRoot().getSystem().isConnected()){const u=Ko.getCurrent(r.getFormWrapper()).getOr(r.getFormWrapper());return Ip.getField(u,i).orThunk(()=>r.getFooter().bind(b=>ic.getState(b).get()).bind(b=>b.lookupByName(i)))}return P.none()},QP=(r,i,u)=>{const d=v=>{const w=r.getRoot();w.getSystem().isConnected()&&v(w)},b={getData:()=>{const v=r.getRoot(),w=v.getSystem().isConnected()?r.getFormWrapper():v;return{...lt.getValue(w),...zn(u,k=>k.get())}},setData:v=>{d(w=>{const k=b.getData(),E=Ar(k,v),I=((B,z)=>{const G=B.getRoot();return ic.getState(G).get().map(J=>Oi(us("data",J.dataValidator,z))).getOr(z)})(r,E),F=r.getFormWrapper();lt.setValue(F,I),Mn(u,(B,z)=>{no(E,z)&&B.set(E[z])})})},setEnabled:(v,w)=>{Tw(r,v).each(w?eo.enable:eo.disable)},focus:v=>{Tw(r,v).each(Jn.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(w=>{En(w,YA,{message:v})})},unblock:()=>{d(v=>{wo(v,XA)})},showTab:v=>{d(w=>{const k=r.getBody();ic.getState(k).get().exists(E=>E.isTabPanel())&&Ko.getCurrent(k).each(E=>{fy.showTab(E,v)})})},redial:v=>{d(w=>{const k=r.getId(),E=i(v),I=Aw(E.internalDialog.buttons,u);w.getSystem().broadcastOn([`${Pp}-${k}`],E),w.getSystem().broadcastOn([`${R3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${T5}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${O5}-${k}`],{...E.internalDialog,buttons:I}),b.setData(E.initialData)})},close:()=>{d(v=>{wo(v,Dp)})},toggleFullscreen:r.toggleFullscreen};return b},eL=(r,i,u,d=!1,b)=>{const v=pn("dialog"),w=pn("dialog-label"),k=pn("dialog-content"),E=r.internalDialog,I=Dn(E.size),F=Ew(I.get()).toArray(),B=ur(((xe,_e,Ve,nt)=>Zd.sketch({dom:qm('<div class="tox-dialog__header"></div>'),components:[M4(xe,_e,P.some(Ve),nt),F4(),WP(nt)],containerBehaviours:Vt([n0.config({mode:"mouse",blockerClass:"blocker",getTarget:kt=>ju(kt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,w,u.shared.providers)),z=ur(((xe,_e,Ve,nt,kt,wt)=>YS(xe,_e,P.some(Ve),nt,kt,wt))({body:E.body,initialData:E.initialData},v,k,u,d,xe=>Tw(ie,xe))),G=Aw(E.buttons),J=YP(G),ae=Xo(G.length!==0,ur(((xe,_e,Ve)=>JP(xe,_e,Ve))({buttons:G},v,u))),ue=XP(()=>he,{onBlock:xe=>{id.block(le,(_e,Ve)=>{const nt=B.getOpt(le).map(kt=>bs(kt.element));return jP(xe.message,Ve,u.shared.providers,nt)})},onUnblock:()=>{id.unblock(le)},onClose:()=>i.closeWindow()},u.shared.getSink),ye=Xa().os,le=Ha({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...ye.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[Xl()]:[ic.name(),bl.name()],[gl()]:["execute-on-form"],[ni()]:["reflecting","execute-on-form"]},behaviours:Vt([Tn.config({mode:"cyclic",onEscape:xe=>(wo(xe,Dp),P.some(!0)),useTabstopAt:xe=>!J1(xe)&&(Zi(xe)!=="button"||Ro(xe,"disabled")!=="disabled"),firstTabstop:1}),ic.config({channel:`${Pp}-${v}`,updateState:(xe,_e)=>(I.set(_e.internalDialog.size),z4(_e.internalDialog.size,xe),b(),P.some(_e)),initialData:r}),Jn.config({}),po("execute-on-form",ue.concat([Ef(ir(),(xe,_e)=>{Tn.focusIn(xe)}),Ct($0(),(xe,_e)=>{xe.getSystem().broadcastOn([cS],{newFocus:_e.event.newFocus})})])),id.config({getRoot:()=>P.some(le)}),$n.config({}),X2({})]),components:[B.asSpec(),z.asSpec(),...ae.map(xe=>xe.asSpec()).toArray()]}),ie={getId:j(v),getRoot:j(le),getFooter:()=>ae.map(xe=>xe.get(le)),getBody:()=>z.get(le),getFormWrapper:()=>{const xe=z.get(le);return Ko.getCurrent(xe).getOr(xe)},toggleFullscreen:()=>{qP(le,I.get())}},he=QP(ie,i.redial,J);return{dialog:le,instanceApi:he}};var W4=tinymce.util.Tools.resolve("tinymce.util.URI");const BH=["insertContent","setContent","execCommand","close","block","unblock"],Z4=r=>x(r)&&BH.indexOf(r.mceAction)!==-1,MH=(r,i,u,d)=>{const b=pn("dialog"),v=ZP(r.title,b,d),w=(ye=>{const le={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[O3(P.none(),{dom:{tag:"iframe",attributes:{src:ye.url}},behaviours:Vt([Mr.config({}),Jn.config({})])})]}],behaviours:Vt([Tn.config({mode:"acyclic",useTabstopAt:He(J1)})])};return _s.parts.body(le)})(r),k=r.buttons.bind(ye=>ye.length===0?P.none():P.some(U4({buttons:ye},b,d))),E=((ye,le)=>{const ie=(xe,_e)=>Ct(xe,(Ve,nt)=>{he(Ve,(kt,wt)=>{_e(ue,kt,nt.event,Ve)})}),he=(xe,_e)=>{ic.getState(xe).get().each(Ve=>{_e(Ve,xe)})};return[...V4(ie,le),ie(Yf,(xe,_e,Ve)=>{_e.onAction(xe,{name:Ve.name})})]})(0,KP(()=>ae,d.shared.providers,i)),I={...r.height.fold(()=>({}),ye=>({height:ye+"px","max-height":ye+"px"})),...r.width.fold(()=>({}),ye=>({width:ye+"px","max-width":ye+"px"}))},F=r.width.isNone()&&r.height.isNone()?["tox-dialog--width-lg"]:[],B=new W4(r.url,{base_uri:new W4(window.location.href)}),z=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,G=yc(),J=[ic.config({channel:`${Pp}-${b}`,updateState:(ye,le)=>P.some(le),initialData:r}),po("messages",[Gr(()=>{const ye=Pi(rn(window),"message",le=>{if(B.isSameOrigin(new W4(le.raw.origin))){const ie=le.raw.data;Z4(ie)?((he,xe,_e)=>{switch(_e.mceAction){case"insertContent":he.insertContent(_e.content);break;case"setContent":he.setContent(_e.content);break;case"execCommand":const Ve=!!D(_e.ui)&&_e.ui;he.execCommand(_e.cmd,Ve,_e.value);break;case"close":xe.close();break;case"block":xe.block(_e.message);break;case"unblock":xe.unblock()}})(u,ue,ie):(he=>!Z4(he)&&x(he)&&no(he,"mceAction"))(ie)&&r.onMessage(ue,ie)}});G.set(ye)}),Wu(G.clear)]),bl.config({channels:{[N3]:{onReceive:(ye,le)=>{ts(ye.element,"iframe").each(ie=>{const he=ie.dom.contentWindow;V(he)&&he.postMessage(le,z)})}}}})],ae=GP({id:b,header:v,body:w,footer:k,extraClasses:F,extraBehaviours:J,extraStyles:I},E,d),ue=(ye=>{const le=ie=>{ye.getSystem().isConnected()&&ie(ye)};return{block:ie=>{if(!h(ie))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");le(he=>{En(he,YA,{message:ie})})},unblock:()=>{le(ie=>{wo(ie,XA)})},close:()=>{le(ie=>{wo(ie,Dp)})},sendMessage:ie=>{le(he=>{he.getSystem().broadcastOn([N3],ie)})}}})(ae);return{dialog:ae,instanceApi:ue}},j4=(r,i)=>Oi(us("data",i,r)),tL=r=>G1(r,".tox-alert-dialog")||G1(r,".tox-confirm-dialog"),FH=(r,i,u)=>i&&u?[]:[es.config({contextual:{lazyContext:()=>P.some(Qs(rn(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>yp(r,d.element).map(b=>({bounds:xp(b),optScrollEnv:P.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:El(b.element).top})})).getOrThunk(()=>({bounds:Ba(),optScrollEnv:P.none()}))})],$H=r=>{const i=r.editor,u=uh(i),d=(E=>{const I=E.shared;return{open:(F,B)=>{const z=()=>{_s.hide(ue),B()},G=ur(ty({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",E)),J=L4(),ae=P4(z,I.providers),ue=Ha(B4({lazySink:()=>I.getSink(),header:Sw(J,ae),body:zP(F,I.providers),footer:P.some(VP(UP([],[G.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ct(ph,z)],eventOrder:{}}));_s.show(ue);const ye=G.get(ue);Jn.focus(ye)}}})(r.backstages.dialog),b=(E=>{const I=E.shared;return{open:(F,B)=>{const z=ie=>{_s.hide(ye),B(ie)},G=ur(ty({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",E)),J=ty({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",E),ae=L4(),ue=P4(()=>z(!1),I.providers),ye=Ha(B4({lazySink:()=>I.getSink(),header:Sw(ae,ue),body:zP(F,I.providers),footer:P.some(VP(UP([],[J,G.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ct(ph,()=>z(!1)),Ct(j2,()=>z(!0))],eventOrder:{}}));_s.show(ye);const le=G.get(ye);Jn.focus(le)}}})(r.backstages.dialog),v=(E,I)=>o0.open((F,B,z)=>{const G=B,J=((ae,ue,ye)=>{const le=pn("dialog"),ie=ae.internalDialog,he=ZP(ie.title,le,ye),xe=Dn(ie.size),_e=Ew(xe.get()).toArray(),Ve=((to,To,Kr,ns)=>{const vo=YS(to,To,P.none(),Kr,!1,ns);return _s.parts.body(vo)})({body:ie.body,initialData:ie.initialData},le,ye,to=>Tw(Cn,to)),nt=Aw(ie.buttons),kt=YP(nt),wt=Xo(nt.length!==0,U4({buttons:nt},le,ye)),yt=XP(()=>Nn,KP(()=>dn,ye.shared.providers,ue),ye.shared.getSink),$t={id:le,header:he,body:Ve,footer:wt,extraClasses:_e,extraBehaviours:[ic.config({channel:`${Pp}-${le}`,updateState:(to,To)=>(xe.set(To.internalDialog.size),z4(To.internalDialog.size,to),P.some(To)),initialData:ae})],extraStyles:{}},dn=GP($t,yt,ye),Cn={getId:j(le),getRoot:j(dn),getBody:()=>_s.getBody(dn),getFooter:()=>_s.getFooter(dn),getFormWrapper:()=>{const to=_s.getBody(dn);return Ko.getCurrent(to).getOr(to)},toggleFullscreen:()=>{qP(dn,xe.get())}},Nn=QP(Cn,ue.redial,kt);return{dialog:dn,instanceApi:Nn}})({dataValidator:z,initialData:G,internalDialog:F},{redial:o0.redial,closeWindow:()=>{_s.hide(J.dialog),I(J.instanceApi)}},r.backstages.dialog);return _s.show(J.dialog),J.instanceApi.setData(G),J.instanceApi},E),w=(E,I,F,B)=>o0.open((z,G,J)=>{const ae=j4(G,J),ue=pr(),ye=r.backstages.popup.shared.header.isPositionedAtTop(),le=()=>ue.on(xe=>{is.reposition(xe),u&&ye||es.refresh(xe)}),ie=eL({dataValidator:J,initialData:ae,internalDialog:z},{redial:o0.redial,closeWindow:()=>{ue.on(is.hide),i.off("ResizeEditor",le),ue.clear(),F(ie.instanceApi)}},r.backstages.popup,B.ariaAttrs,le),he=Ha(is.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ye?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Vt([po("window-manager-inline-events",[Ct(Fg(),(xe,_e)=>{wo(ie.dialog,ph)})]),...FH(i,u,ye)]),isExtraPart:(xe,_e)=>tL(_e)}));return ue.set(he),is.showWithinBounds(he,Qi(ie.dialog),{anchor:I},()=>{const xe=i.inline?hn():rn(i.getContainer()),_e=Qs(xe);return P.some(_e)}),u&&ye||(es.refresh(he),i.on("ResizeEditor",le)),ie.instanceApi.setData(ae),Tn.focusIn(ie.dialog),ie.instanceApi},E),k=(E,I,F,B)=>o0.open((z,G,J)=>{const ae=j4(G,J),ue=pr(),ye=r.backstages.popup.shared.header.isPositionedAtTop(),le=()=>ue.on(xe=>{is.reposition(xe),es.refresh(xe)}),ie=eL({dataValidator:J,initialData:ae,internalDialog:z},{redial:o0.redial,closeWindow:()=>{ue.on(is.hide),i.off("ResizeEditor ScrollWindow ElementScroll",le),ue.clear(),F(ie.instanceApi)}},r.backstages.popup,B.ariaAttrs,le),he=Ha(is.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ye?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Vt([po("window-manager-inline-events",[Ct(Fg(),(xe,_e)=>{wo(ie.dialog,ph)})]),es.config({contextual:{lazyContext:()=>P.some(Qs(rn(i.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xe=>yp(i,xe.element).map(_e=>({bounds:xp(_e),optScrollEnv:P.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:El(_e.element).top})})).getOrThunk(()=>({bounds:Ba(),optScrollEnv:P.none()}))})]),isExtraPart:(xe,_e)=>tL(_e)}));return ue.set(he),is.showWithinBounds(he,Qi(ie.dialog),{anchor:I},()=>r.backstages.popup.shared.getSink().toOptional().bind(xe=>{const _e=yp(i,xe.element).map(kt=>xp(kt)).getOr(Ba()),Ve=Qs(rn(i.getContentAreaContainer())),nt=kd(Ve,_e);return P.some(Co(nt.x,nt.y,nt.width,nt.height-15))})),es.refresh(he),i.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",le),ie.instanceApi.setData(ae),Tn.focusIn(ie.dialog),ie.instanceApi},E);return{open:(E,I,F)=>{if(!N(I)){if(I.inline==="toolbar")return w(E,r.backstages.popup.shared.anchors.inlineDialog(),F,I);if(I.inline==="bottom")return k(E,r.backstages.popup.shared.anchors.inlineBottomDialog(),F,I);if(I.inline==="cursor")return w(E,r.backstages.popup.shared.anchors.cursor(),F,I)}return v(E,F)},openUrl:(E,I)=>((F,B)=>o0.openUrl(z=>{const G=MH(z,{closeWindow:()=>{_s.hide(G.dialog),B(G.instanceApi)}},i,r.backstages.dialog);return _s.show(G.dialog),G.instanceApi},F))(E,I),alert:(E,I)=>{d.open(E,I)},close:E=>{E.close()},confirm:(E,I)=>{b.open(E,I)}}};Vh.add("silver",r=>{(k=>{iR(k),(E=>{const I=E.options.register,F=z=>ce(z,h)?{value:sF(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},B=z=>te(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};I("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),I("color_map_background",{processor:F}),I("color_map_foreground",{processor:F}),I("color_cols",{processor:B,default:R_(E)}),I("color_cols_foreground",{processor:B,default:ON(E,OA)}),I("color_cols_background",{processor:B,default:ON(E,DA)}),I("custom_colors",{processor:"boolean",default:!0}),I("color_default_foreground",{processor:"string",default:$2}),I("color_default_background",{processor:"string",default:$2})})(k),(E=>{const I=E.options.register;I("contextmenu_avoid_overlap",{processor:"string",default:""}),I("contextmenu_never_use_native",{processor:"boolean",default:!1}),I("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:h(F)||ce(F,h)?{value:S6(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(r);let i=()=>Ba();const{dialogs:u,popups:d,renderUI:b}=K$(r,{getPopupSinkBounds:()=>i()});qN(r,d.backstage.shared);const v=$H({editor:r,backstages:{popup:d.backstage,dialog:u.backstage}}),w=pr();return{renderUI:()=>{const k=b();return yp(r,d.getMothership().element).each(E=>{i=()=>xp(E)}),k},getWindowManagerImpl:j(v),getNotificationManagerImpl:()=>PR(r,{backstage:d.backstage},d.getMothership(),w)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const s=y=>S=>(T=>{const M=typeof T;return T===null?"null":M==="object"&&Array.isArray(T)?"array":M==="object"&&(U=W=T,(ne=String).prototype.isPrototypeOf(U)||((se=W.constructor)===null||se===void 0?void 0:se.name)===ne.name)?"string":M;var U,W,ne,se})(S)===y,c=y=>S=>typeof S===y,f=y=>S=>y===S,g=s("string"),h=s("object"),x=s("array"),C=f(null),O=c("boolean"),R=f(void 0),D=y=>!(S=>S==null)(y),N=c("function"),H=c("number"),V=()=>{},Z=y=>()=>y,te=y=>y,ce=(y,S)=>y===S;function X(y,...S){return(...T)=>{const M=S.concat(T);return y.apply(null,M)}}const Se=y=>S=>!y(S),fe=y=>y(),j=Z(!1),de=Z(!0);class oe{constructor(S,T){this.tag=S,this.value=T}static some(S){return new oe(!0,S)}static none(){return oe.singletonNone}fold(S,T){return this.tag?T(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?oe.some(S(this.value)):oe.none()}bind(S){return this.tag?S(this.value):oe.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:oe.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return D(S)?oe.some(S):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Ue=Array.prototype.slice,He=Array.prototype.indexOf,je=Array.prototype.push,st=(y,S)=>{return T=y,M=S,He.call(T,M)>-1;var T,M},Oe=(y,S)=>{for(let T=0,M=y.length;T<M;T++)if(S(y[T],T))return!0;return!1},Be=(y,S)=>{const T=[];for(let M=0;M<y;M++)T.push(S(M));return T},P=(y,S)=>{const T=y.length,M=new Array(T);for(let U=0;U<T;U++){const W=y[U];M[U]=S(W,U)}return M},St=(y,S)=>{for(let T=0,M=y.length;T<M;T++)S(y[T],T)},Mt=(y,S)=>{const T=[],M=[];for(let U=0,W=y.length;U<W;U++){const ne=y[U];(S(ne,U)?T:M).push(ne)}return{pass:T,fail:M}},tn=(y,S)=>{const T=[];for(let M=0,U=y.length;M<U;M++){const W=y[M];S(W,M)&&T.push(W)}return T},un=(y,S,T)=>(((M,U)=>{for(let W=M.length-1;W>=0;W--)U(M[W],W)})(y,(M,U)=>{T=S(T,M,U)}),T),ct=(y,S,T)=>(St(y,(M,U)=>{T=S(T,M,U)}),T),_n=(y,S)=>((T,M,U)=>{for(let W=0,ne=T.length;W<ne;W++){const se=T[W];if(M(se,W))return oe.some(se);if(U(se,W))break}return oe.none()})(y,S,j),Vn=(y,S)=>{for(let T=0,M=y.length;T<M;T++)if(S(y[T],T))return oe.some(T);return oe.none()},Lt=y=>{const S=[];for(let T=0,M=y.length;T<M;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);je.apply(S,y[T])}return S},Je=(y,S)=>Lt(P(y,S)),Tt=(y,S)=>{for(let T=0,M=y.length;T<M;++T)if(S(y[T],T)!==!0)return!1;return!0},Gn=(y,S)=>{const T={};for(let M=0,U=y.length;M<U;M++){const W=y[M];T[String(W)]=S(W,M)}return T},jn=(y,S)=>S>=0&&S<y.length?oe.some(y[S]):oe.none(),Xn=y=>jn(y,0),gn=y=>jn(y,y.length-1),Q=(y,S)=>{for(let T=0;T<y.length;T++){const M=S(y[T],T);if(M.isSome())return M}return oe.none()},gr=Object.keys,$o=Object.hasOwnProperty,Do=(y,S)=>{const T=gr(y);for(let M=0,U=T.length;M<U;M++){const W=T[M];S(y[W],W)}},Ye=(y,S)=>it(y,(T,M)=>({k:M,v:S(T,M)})),it=(y,S)=>{const T={};return Do(y,(M,U)=>{const W=S(M,U);T[W.k]=W.v}),T},be=(y,S)=>{const T=[];return Do(y,(M,U)=>{T.push(S(M,U))}),T},Ae=y=>be(y,te),Fe=(y,S)=>$o.call(y,S),pe=typeof window<"u"?window:Function("return this;")(),Ce=(y,S)=>((T,M)=>{let U=M??pe;for(let W=0;W<T.length&&U!=null;++W)U=U[T[W]];return U})(y.split("."),S),De=Object.getPrototypeOf,We=y=>{const S=Ce("ownerDocument.defaultView",y);return h(y)&&((T=>((M,U)=>{const W=((ne,se)=>Ce(ne,se))(M,U);if(W==null)throw new Error(M+" not available on this browser");return W})("HTMLElement",T))(S).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(De(y).constructor.name))},dt=y=>y.dom.nodeName.toLowerCase(),on=y=>y.dom.nodeType,Ft=y=>S=>on(S)===y,vn=y=>on(y)===8||dt(y)==="#comment",Mn=y=>zn(y)&&We(y.dom),zn=Ft(1),_o=Ft(3),yo=Ft(9),Fr=Ft(11),Yo=y=>S=>zn(S)&&dt(S)===y,Us=(y,S,T)=>{if(!(g(T)||O(T)||H(T)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(S,T+"")},ar=(y,S,T)=>{Us(y.dom,S,T)},Pa=(y,S)=>{const T=y.dom;Do(S,(M,U)=>{Us(T,U,M)})},yn=(y,S)=>{const T=y.dom.getAttribute(S);return T===null?void 0:T},no=(y,S)=>oe.from(yn(y,S)),bo=(y,S)=>{y.dom.removeAttribute(S)},Xs=y=>ct(y.dom.attributes,(S,T)=>(S[T.name]=T.value,S),{}),Wi=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Zt={fromHtml:(y,S)=>{const T=(S||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,y),new Error(M)}return Wi(T.childNodes[0])},fromTag:(y,S)=>{const T=(S||document).createElement(y);return Wi(T)},fromText:(y,S)=>{const T=(S||document).createTextNode(y);return Wi(T)},fromDom:Wi,fromPoint:(y,S,T)=>oe.from(y.dom.elementFromPoint(S,T)).map(Wi)},sa=(y,S)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const M=T;if(M.matches!==void 0)return M.matches(S);if(M.msMatchesSelector!==void 0)return M.msMatchesSelector(S);if(M.webkitMatchesSelector!==void 0)return M.webkitMatchesSelector(S);if(M.mozMatchesSelector!==void 0)return M.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},Xo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Il=(y,S)=>{const T=S===void 0?document:S.dom;return Xo(T)?oe.none():oe.from(T.querySelector(y)).map(Zt.fromDom)},Pr=(y,S)=>y.dom===S.dom,Ws=(y,S)=>{const T=y.dom,M=S.dom;return T!==M&&T.contains(M)},cm=sa,Ou=y=>Zt.fromDom(y.dom.ownerDocument),pc=y=>yo(y)?y:Ou(y),ll=y=>oe.from(y.dom.parentNode).map(Zt.fromDom),Du=y=>oe.from(y.dom.parentElement).map(Zt.fromDom),wr=(y,S)=>{const T=N(S)?S:j;let M=y.dom;const U=[];for(;M.parentNode!==null&&M.parentNode!==void 0;){const W=M.parentNode,ne=Zt.fromDom(W);if(U.push(ne),T(ne)===!0)break;M=W}return U},oo=y=>oe.from(y.dom.previousSibling).map(Zt.fromDom),Pl=y=>oe.from(y.dom.nextSibling).map(Zt.fromDom),xa=y=>P(y.dom.childNodes,Zt.fromDom),Ru=(y,S)=>{const T=y.dom.childNodes;return oe.from(T[S]).map(Zt.fromDom)},rn=(y,S)=>{ll(y).each(T=>{T.dom.insertBefore(S.dom,y.dom)})},Nu=(y,S)=>{Pl(y).fold(()=>{ll(y).each(T=>{ss(T,S)})},T=>{rn(T,S)})},um=(y,S)=>{(M=>Ru(M,0))(y).fold(()=>{ss(y,S)},M=>{y.dom.insertBefore(S.dom,M.dom)})},ss=(y,S)=>{y.dom.appendChild(S.dom)},dm=(y,S)=>{rn(y,S),ss(S,y)},Zi=(y,S)=>{St(S,(T,M)=>{const U=M===0?y:S[M-1];Nu(U,T)})},Sl=(y,S)=>{St(S,T=>{ss(y,T)})},cl=y=>{y.dom.textContent="",St(xa(y),S=>{Xr(S)})},Xr=y=>{const S=y.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},fi=y=>{const S=xa(y);S.length>0&&Zi(y,S),Xr(y)},kl=(y,S)=>Zt.fromDom(y.dom.cloneNode(S)),fm=y=>kl(y,!1),Zc=y=>kl(y,!0),jc=(y,S)=>{const T=Zt.fromTag(S),M=Xs(y);return Pa(T,M),T},lf=["tfoot","thead","tbody","colgroup"],xd=(y,S,T)=>({element:y,rowspan:S,colspan:T}),Jo=(y,S,T)=>({element:y,cells:S,section:T}),Ss=(y,S,T)=>({element:y,isNew:S,isLocked:T}),Js=(y,S,T,M)=>({element:y,cells:S,section:T,isNew:M}),mm=y=>Zt.fromDom(y.dom.host),ji=y=>{const S=_o(y)?y.dom.parentNode:y.dom;if(S==null||S.ownerDocument===null)return!1;const T=S.ownerDocument;return(W=>{const ne=(ve=>Zt.fromDom(ve.dom.getRootNode()))(W);return Fr(se=ne)&&D(se.dom.host)?oe.some(ne):oe.none();var se})(Zt.fromDom(S)).fold(()=>T.body.contains(S),(M=ji,U=mm,W=>M(U(W))));var M,U},Kc=y=>{const S=y.dom.body;if(S==null)throw new Error("Body is not available yet");return Zt.fromDom(S)},mi=(y,S)=>{let T=[];return St(xa(y),M=>{S(M)&&(T=T.concat([M])),T=T.concat(mi(M,S))}),T},gi=(y,S,T)=>((M,U,W)=>tn(wr(M,W),ne=>sa(ne,S)))(y,0,T),qc=(y,S)=>((T,M)=>tn(xa(T),U=>sa(U,S)))(y),Er=(y,S)=>((T,M)=>{const U=M===void 0?document:M.dom;return Xo(U)?[]:P(U.querySelectorAll(T),Zt.fromDom)})(S,y);var Jr=(y,S,T,M,U)=>y(T,M)?oe.some(T):N(U)&&U(T)?oe.none():S(T,M,U);const ke=(y,S,T)=>{let M=y.dom;const U=N(T)?T:j;for(;M.parentNode;){M=M.parentNode;const W=Zt.fromDom(M);if(S(W))return oe.some(W);if(U(W))break}return oe.none()},tt=(y,S,T)=>Jr((M,U)=>U(M),ke,y,S,T),Le=(y,S,T)=>ke(y,M=>sa(M,S),T),gt=(y,S)=>((T,M)=>_n(T.dom.childNodes,U=>{return W=Zt.fromDom(U),sa(W,S);var W}).map(Zt.fromDom))(y),ut=(y,S)=>Il(S,y),Qe=(y,S,T)=>Jr((M,U)=>sa(M,U),Le,y,S,T),zt=(y,S,T=ce)=>y.exists(M=>T(M,S)),Qt=y=>{const S=[],T=M=>{S.push(M)};for(let M=0;M<y.length;M++)y[M].each(T);return S},ln=(y,S)=>y?oe.some(S):oe.none(),hn=(y,S,T)=>S===""||y.length>=S.length&&y.substr(T,T+S.length)===S,sn=(y,S,T=0,M)=>{const U=y.indexOf(S,T);return U!==-1&&(!!R(M)||U+S.length<=M)},fo=(y,S)=>hn(y,S,0),nn=(y,S)=>hn(y,S,y.length-S.length),hr=(y=>S=>S.replace(y,""))(/^\s+|\s+$/g),Ro=y=>y.length>0,Ho=y=>y.style!==void 0&&N(y.style.getPropertyValue),ks=(y,S,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Ho(y)&&y.style.setProperty(S,T)},xo=(y,S,T)=>{const M=y.dom;ks(M,S,T)},Ll=(y,S)=>{const T=y.dom;Do(S,(M,U)=>{ks(T,U,M)})},hi=(y,S)=>{const T=y.dom,M=window.getComputedStyle(T).getPropertyValue(S);return M!==""||ji(y)?M:ao(T,S)},ao=(y,S)=>Ho(y)?y.style.getPropertyValue(S):"",Ki=(y,S)=>{const T=y.dom,M=ao(T,S);return oe.from(M).filter(U=>U.length>0)},ul=(y,S)=>{((T,M)=>{Ho(T)&&T.style.removeProperty(M)})(y.dom,S),zt(no(y,"style").map(hr),"")&&bo(y,"style")},ps=(y,S,T=0)=>no(y,S).map(M=>parseInt(M,10)).getOr(T),cf=(y,S)=>ps(y,S,1),Zs=y=>Yo("col")(y)?ps(y,"span",1)>1:cf(y,"colspan")>1,gm=(y,S)=>parseInt(hi(y,S),10),Bl=Z(10),fr=Z(10),wd=(y,S)=>Ag(y,S,de),Ag=(y,S,T)=>Je(xa(y),M=>sa(M,S)?T(M)?[M]:[]:Ag(M,S,T)),$h=(y,S)=>((T,M,U=j)=>U(M)?oe.none():st(T,dt(M))?oe.some(M):Le(M,T.join(","),W=>sa(W,"table")||U(W)))(["td","th"],y,S),bs=y=>wd(y,"th,td"),bc=y=>sa(y,"colgroup")?qc(y,"col"):Je(hm(y),S=>qc(S,"col")),dl=(y,S)=>Qe(y,"table",S),Ur=y=>wd(y,"tr"),hm=y=>dl(y).fold(Z([]),S=>qc(S,"colgroup")),El=(y,S)=>P(y,T=>{if(dt(T)==="colgroup"){const M=P(bc(T),U=>{const W=ps(U,"span",1);return xd(U,1,W)});return Jo(T,M,"colgroup")}{const M=P(bs(T),U=>{const W=ps(U,"rowspan",1),ne=ps(U,"colspan",1);return xd(U,W,ne)});return Jo(T,M,S(T))}}),qa=y=>ll(y).map(S=>{const T=dt(S);return(M=>st(lf,M))(T)?T:"tbody"}).getOr("tbody"),Tg=y=>{const S=Ur(y),T=[...hm(y),...S];return El(T,qa)},wa=y=>{let S,T=!1;return(...M)=>(T||(T=!0,S=y.apply(null,M)),S)},qi=()=>Ga(0,0),Ga=(y,S)=>({major:y,minor:S}),Al={nu:Ga,detect:(y,S)=>{const T=String(S).toLowerCase();return y.length===0?qi():((M,U)=>{const W=((se,ve)=>{for(let Ne=0;Ne<se.length;Ne++){const Ge=se[Ne];if(Ge.test(ve))return Ge}})(M,U);if(!W)return{major:0,minor:0};const ne=se=>Number(U.replace(W,"$"+se));return Ga(ne(1),ne(2))})(y,T)},unknown:qi},Hh=(y,S)=>{const T=String(S).toLowerCase();return _n(y,M=>M.search(T))},Eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gc=y=>S=>sn(S,y),Cd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>sn(y,"edge/")&&sn(y,"chrome")&&sn(y,"safari")&&sn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Eo],search:y=>sn(y,"chrome")&&!sn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>sn(y,"msie")||sn(y,"trident")},{name:"Opera",versionRegexes:[Eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gc("firefox")},{name:"Safari",versionRegexes:[Eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(sn(y,"safari")||sn(y,"mobile/"))&&sn(y,"applewebkit")}],Iu=[{name:"Windows",search:Gc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>sn(y,"iphone")||sn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Gc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gc("linux"),versionRegexes:[]},{name:"Solaris",search:Gc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Gc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yb={browsers:Z(Cd),oses:Z(Iu)},qy="Edge",D0="Chromium",R0="Opera",iC="Firefox",zh="Safari",N0=y=>{const S=y.current,T=y.version,M=U=>()=>S===U;return{current:S,version:T,isEdge:M(qy),isChromium:M(D0),isIE:M("IE"),isOpera:M(R0),isFirefox:M(iC),isSafari:M(zh)}},Yt=()=>N0({current:void 0,version:Al.unknown()}),uf=N0,df="Windows",I0="Android",Ya="Linux",ff="macOS",Og="Solaris",Gy="FreeBSD",Yy="ChromeOS",xb=y=>{const S=y.current,T=y.version,M=U=>()=>S===U;return{current:S,version:T,isWindows:M(df),isiOS:M("iOS"),isAndroid:M(I0),isMacOS:M(ff),isLinux:M(Ya),isSolaris:M(Og),isFreeBSD:M(Gy),isChromeOS:M(Yy)}},Xy=()=>xb({current:void 0,version:Al.unknown()}),P0=xb,Jy=y=>window.matchMedia(y).matches;let Dg=wa(()=>((y,S,T)=>{const M=yb.browsers(),U=yb.oses(),W=S.bind(ve=>((Ne,Ge)=>Q(Ge.brands,Te=>{const Me=Te.brand.toLowerCase();return _n(Ne,ze=>{var ot;return Me===((ot=ze.brand)===null||ot===void 0?void 0:ot.toLowerCase())}).map(ze=>({current:ze.name,version:Al.nu(parseInt(Te.version,10),0)}))}))(M,ve)).orThunk(()=>((ve,Ne)=>Hh(ve,Ne).map(Ge=>{const Te=Al.detect(Ge.versionRegexes,Ne);return{current:Ge.name,version:Te}}))(M,y)).fold(Yt,uf),ne=((ve,Ne)=>Hh(ve,Ne).map(Ge=>{const Te=Al.detect(Ge.versionRegexes,Ne);return{current:Ge.name,version:Te}}))(U,y).fold(Xy,P0),se=((ve,Ne,Ge,Te)=>{const Me=ve.isiOS()&&/ipad/i.test(Ge)===!0,ze=ve.isiOS()&&!Me,ot=ve.isiOS()||ve.isAndroid(),at=ot||Te("(pointer:coarse)"),At=Me||!ze&&ot&&Te("(min-device-width:768px)"),Rt=ze||ot&&!At,Et=Ne.isSafari()&&ve.isiOS()&&/safari/i.test(Ge)===!1,Pt=!Rt&&!At&&!Et;return{isiPad:Z(Me),isiPhone:Z(ze),isTablet:Z(At),isPhone:Z(Rt),isTouch:Z(at),isAndroid:ve.isAndroid,isiOS:ve.isiOS,isWebView:Z(Et),isDesktop:Z(Pt)}})(ne,W,y,T);return{browser:W,os:ne,deviceType:se}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),Jy));const L0=()=>Dg(),mf=(y,S)=>{const T=U=>{const W=S(U);if(W<=0||W===null){const ne=hi(U,y);return parseFloat(ne)||0}return W},M=(U,W)=>ct(W,(ne,se)=>{const ve=hi(U,se),Ne=ve===void 0?0:parseInt(ve,10);return isNaN(Ne)?ne:ne+Ne},0);return{set:(U,W)=>{if(!H(W)&&!W.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+W);const ne=U.dom;Ho(ne)&&(ne.style[y]=W+"px")},get:T,getOuter:T,aggregate:M,max:(U,W,ne)=>{const se=M(U,ne);return W>se?W-se:0}}},gf=(y,S,T)=>((M,U)=>(W=>{const ne=parseFloat(W);return isNaN(ne)?oe.none():oe.some(ne)})(M).getOr(U))(hi(y,S),T),Xa=mf("width",y=>y.dom.offsetWidth),fl=y=>Xa.get(y),Rg=y=>Xa.getOuter(y),zo=y=>((S,T)=>{const M=S.dom,U=M.getBoundingClientRect().width||M.offsetWidth;return((W,ne,se,ve)=>ne-gf(W,`padding-${se}`,0)-gf(W,`padding-${ve}`,0)-gf(W,`border-${se}-width`,0)-gf(W,`border-${ve}-width`,0))(S,U,"left","right")})(y),_d=(y,S,T)=>{const M=y.cells,U=M.slice(0,S),W=M.slice(S),ne=U.concat(T).concat(W);return Ei(y,ne)},Ng=(y,S,T)=>_d(y,S,[T]),Ig=(y,S,T)=>{y.cells[S]=T},Ei=(y,S)=>Js(y.element,S,y.section,y.isNew),Ds=(y,S)=>y.cells[S],Qr=(y,S)=>Ds(y,S).element,La=y=>y.cells.length,Wr=y=>{const S=Mt(y,T=>T.section==="colgroup");return{rows:S.fail,cols:S.pass}},hf=(y,S,T)=>{const M=P(y.cells,T);return Js(S(y.element),M,y.section,!0)},pm="data-snooker-locked-cols",fa=y=>no(y,pm).bind(S=>oe.from(S.match(/\d+/g))).map(S=>Gn(S,de)),Ai=y=>{const S=ct(Wr(y).rows,(M,U)=>(St(U.cells,(W,ne)=>{W.isLocked&&(M[ne]=!0)}),M),{}),T=be(S,(M,U)=>parseInt(U,10));return((M,U)=>{const W=Ue.call(M,0);return W.sort(void 0),W})(T)},pi=(y,S)=>y+","+S,Yc=(y,S)=>{const T=Je(y.all,M=>M.cells);return tn(T,S)},Sd=y=>{const S={},T=[],M=Xn(y).map(Me=>Me.element).bind(dl).bind(fa).getOr({});let U=0,W=0,ne=0;const{pass:se,fail:ve}=Mt(y,Me=>Me.section==="colgroup");St(ve,Me=>{const ze=[];St(Me.cells,ot=>{let at=0;for(;S[pi(ne,at)]!==void 0;)at++;const At=((Et,Pt)=>Fe(Et,Pt)&&Et[Pt]!==void 0&&Et[Pt]!==null)(M,at.toString()),Rt=((Et,Pt,jt,Xt,lt,bn)=>({element:Et,rowspan:Pt,colspan:jt,row:Xt,column:lt,isLocked:bn}))(ot.element,ot.rowspan,ot.colspan,ne,at,At);for(let Et=0;Et<ot.colspan;Et++)for(let Pt=0;Pt<ot.rowspan;Pt++){const jt=at+Et,Xt=pi(ne+Pt,jt);S[Xt]=Rt,W=Math.max(W,jt+1)}ze.push(Rt)}),U++,T.push(Jo(Me.element,ze,Me.section)),ne++});const{columns:Ne,colgroups:Ge}=gn(se).map(Me=>{const ze=(at=>{const At={};let Rt=0;return St(at.cells,Et=>{const Pt=Et.colspan;Be(Pt,jt=>{const Xt=Rt+jt;At[Xt]=((lt,bn,Un)=>({element:lt,colspan:bn,column:Un}))(Et.element,Pt,Xt)}),Rt+=Pt}),At})(Me);return{colgroups:[((at,At)=>({element:at,columns:At}))(Me.element,Ae(ze))],columns:ze}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Me,ze)=>({rows:Me,columns:ze}))(U,W),access:S,all:T,columns:Ne,colgroups:Ge}},Co=y=>{const S=Tg(y);return Sd(S)},Qs=Sd,ml=(y,S,T)=>oe.from(y.access[pi(S,T)]),kd=(y,S,T)=>{const M=Yc(y,U=>T(S,U.element));return M.length>0?oe.some(M[0]):oe.none()},Ba=Yc,Dn=y=>Je(y.all,S=>S.cells),vc=y=>Ae(y.columns),yc=y=>gr(y.columns).length>0,pr=(y,S)=>oe.from(y.columns[S]),Vh=(y,S=de)=>{const T=y.grid,M=Be(T.columns,te),U=Be(T.rows,te);return P(M,W=>wb(()=>Je(U,ne=>ml(y,ne,W).filter(se=>se.column===W).toArray()),ne=>ne.colspan===1&&S(ne.element),()=>ml(y,0,W)))},wb=(y,S,T)=>{const M=y();return _n(M,S).orThunk(()=>oe.from(M[0]).orThunk(T)).map(U=>U.element)},Ed=y=>{const S=y.grid,T=Be(S.rows,te),M=Be(S.columns,te);return P(T,U=>wb(()=>Je(M,W=>ml(y,U,W).filter(ne=>ne.row===U).fold(Z([]),ne=>[ne])),W=>W.rowspan===1,()=>ml(y,U,0)))},Ao=(y,S)=>T=>Ti(T)==="rtl"?S:y,Ti=y=>hi(y,"direction")==="rtl"?"rtl":"ltr",Uh=mf("height",y=>{const S=y.dom;return ji(y)?S.getBoundingClientRect().height:S.offsetHeight}),Ad=y=>Uh.get(y),Cb=y=>Uh.getOuter(y),Xc=(y,S)=>({left:y,top:S,translate:(T,M)=>Xc(y+T,S+M)}),Gi=Xc,Jc=(y,S)=>y!==void 0?y:S!==void 0?S:0,pf=y=>{const S=y.dom.ownerDocument,T=S.body,M=S.defaultView,U=S.documentElement;if(T===y.dom)return Gi(T.offsetLeft,T.offsetTop);const W=Jc(M==null?void 0:M.pageYOffset,U.scrollTop),ne=Jc(M==null?void 0:M.pageXOffset,U.scrollLeft),se=Jc(U.clientTop,T.clientTop),ve=Jc(U.clientLeft,T.clientLeft);return $e(y).translate(ne-ve,W-se)},$e=y=>{const S=y.dom,T=S.ownerDocument.body;return T===S?Gi(T.offsetLeft,T.offsetTop):ji(y)?(M=>{const U=M.getBoundingClientRect();return Gi(U.left,U.top)})(S):Gi(0,0)},bm=(y,S)=>({row:y,y:S}),Ar=(y,S)=>({col:y,x:S}),_b=y=>pf(y).left+Rg(y),Pg=y=>pf(y).left,Qc=(y,S)=>Ar(y,Pg(S)),Vo=(y,S)=>Ar(y,_b(S)),Ja=y=>pf(y).top,Pu=(y,S)=>bm(y,Ja(S)),Gl=(y,S)=>bm(y,Ja(S)+Cb(S)),Lu=(y,S,T)=>{if(T.length===0)return[];const M=P(T.slice(1),(W,ne)=>W.map(se=>y(ne,se))),U=T[T.length-1].map(W=>S(T.length-1,W));return M.concat([U])},Bu={delta:te,positions:y=>Lu(Pu,Gl,y),edge:Ja},Qa=Ao({delta:te,edge:Pg,positions:y=>Lu(Qc,Vo,y)},{delta:y=>-y,edge:_b,positions:y=>Lu(Vo,Qc,y)}),bf={delta:(y,S)=>Qa(S).delta(y,S),positions:(y,S)=>Qa(S).positions(y,S),edge:y=>Qa(y).edge(y)},vm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Sb=(()=>{const y="[0-9]+",S="[eE][+-]?"+y,T=U=>`(?:${U})?`,M=["Infinity",y+"\\."+T(y)+T(S),"\\."+y+T(S),y+T(S)].join("|");return new RegExp(`^([+-]?(?:${M}))(.*)$`)})(),ma=/(\d+(\.\d+)?)%/,Ln=/(\d+(\.\d+)?)px|em/,Mu=Yo("col"),ym=Yo("tr"),ei=(y,S,T)=>{const M=Du(y).getOrThunk(()=>Kc(Ou(y)));return S(y)/T(M)*100},Fu=(y,S)=>{xo(y,"width",S+"px")},Tl=(y,S)=>{xo(y,"width",S+"%")},$u=(y,S)=>{xo(y,"height",S+"px")},Td=y=>{const S=(T=>{return gf(M=T,"height",M.dom.offsetHeight)+"px";var M})(y);return S?((T,M,U,W)=>{const ne=parseFloat(T);return nn(T,"%")&&dt(M)!=="table"?((se,ve,Ne,Ge)=>{const Te=dl(se).map(Me=>{const ze=Ne(Me);return Math.floor(ve/100*ze)}).getOr(ve);return Ge(se,Te),Te})(M,ne,U,W):ne})(S,y,Ad,$u):Ad(y)},ga=(y,S)=>Ki(y,S).orThunk(()=>no(y,S).map(T=>T+"px")),Yl=y=>ga(y,"width"),eu=y=>ei(y,fl,zo),xm=y=>{return Mu(y)?fl(y):gf(S=y,"width",S.dom.offsetWidth);var S},B0=y=>ym(y)?Ad(y):((S,T,M)=>M(S)/cf(S,"rowspan"))(y,0,Td),Hu=(y,S,T)=>{xo(y,"width",S+T)},vf=y=>ei(y,fl,zo)+"%",kb=Z(ma),us=Yo("col"),Oi=y=>Yl(y).getOrThunk(()=>xm(y)+"px"),bi=y=>{return(S=y,ga(S,"height")).getOrThunk(()=>B0(y)+"px");var S},Yi=(y,S,T,M,U,W)=>y.filter(M).fold(()=>W(((ne,se)=>{if(se<0||se>=ne.length-1)return oe.none();const ve=ne[se].fold(()=>{const Ge=(Te=>{const Me=Ue.call(Te,0);return Me.reverse(),Me})(ne.slice(0,se));return Q(Ge,(Te,Me)=>Te.map(ze=>({value:ze,delta:Me+1})))},Ge=>oe.some({value:Ge,delta:0})),Ne=ne[se+1].fold(()=>{const Ge=ne.slice(se+1);return Q(Ge,(Te,Me)=>Te.map(ze=>({value:ze,delta:Me+1})))},Ge=>oe.some({value:Ge,delta:1}));return ve.bind(Ge=>Ne.map(Te=>{const Me=Te.delta+Ge.delta;return Math.abs(Te.value-Ge.value)/Me}))})(T,S)),ne=>U(ne)),aa=(y,S,T,M)=>{const U=Vh(y),W=yc(y)?(ve=>P(vc(ve),Ne=>oe.from(Ne.element)))(y):U,ne=[oe.some(bf.edge(S))].concat(P(bf.positions(U,S),ve=>ve.map(Ne=>Ne.x))),se=Se(Zs);return P(W,(ve,Ne)=>Yi(ve,Ne,ne,se,Ge=>{if((Me=>{const ze=L0().browser,ot=ze.isChromium()||ze.isFirefox();return!us(Me)||ot})(Ge))return T(Ge);{const Me=(Te=U[Ne])!=null?te(Te):oe.none();return Yi(Me,Ne,ne,se,ze=>M(oe.some(fl(ze))),M)}var Te},M))},Wh=y=>y.map(S=>S+"px").getOr(""),ea=(y,S,T)=>aa(y,S,xm,M=>M.getOrThunk(T.minCellWidth)),Ma=(y,S,T,M)=>{const U=Ed(y),W=P(y.all,se=>oe.some(se.element)),ne=[oe.some(Bu.edge(S))].concat(P(Bu.positions(U,S),se=>se.map(ve=>ve.y)));return P(W,(se,ve)=>Yi(se,ve,ne,de,T,M))},tu=(y,S)=>()=>ji(y)?S(y):parseFloat(Ki(y,"width").getOr("0")),Ot=y=>{const S=tu(y,M=>parseFloat(vf(M))),T=tu(y,fl);return{width:S,pixelWidth:T,getWidths:(M,U)=>((W,ne,se)=>aa(W,ne,eu,ve=>ve.fold(()=>se.minCellWidth(),Ne=>Ne/se.pixelWidth()*100)))(M,y,U),getCellDelta:M=>M/T()*100,singleColumnWidth:(M,U)=>[100-M],minCellWidth:()=>Bl()/T()*100,setElementWidth:Tl,adjustTableWidth:M=>{const U=S();Tl(y,U+M/100*U)},isRelative:!0,label:"percent"}},Fa=y=>{const S=tu(y,fl);return{width:S,pixelWidth:S,getWidths:(T,M)=>ea(T,y,M),getCellDelta:te,singleColumnWidth:(T,M)=>[Math.max(Bl(),T+M)-T],minCellWidth:Bl,setElementWidth:Fu,adjustTableWidth:T=>{const M=S()+T;Fu(y,M)},isRelative:!1,label:"pixel"}},Zh=y=>Yl(y).fold(()=>(S=>{const T=tu(S,fl),M=Z(0);return{width:T,pixelWidth:T,getWidths:(U,W)=>ea(U,S,W),getCellDelta:M,singleColumnWidth:Z([0]),minCellWidth:M,setElementWidth:V,adjustTableWidth:V,isRelative:!0,label:"none"}})(y),S=>((T,M)=>kb().exec(M)!==null?Ot(T):Fa(T))(y,S)),ds=Fa,zu=Ot,Di=(y,S,T)=>{const M=y[T].element,U=Zt.fromTag("td");ss(U,Zt.fromTag("br")),(S?ss:um)(M,U)},xc=((y,S)=>{const T=M=>y(M)?oe.from(M.dom.nodeValue):oe.none();return{get:M=>{if(!y(M))throw new Error("Can only get text value of a text node");return T(M).getOr("")},getOption:T,set:(M,U)=>{if(!y(M))throw new Error("Can only set raw text value of a text node");M.dom.nodeValue=U}}})(_o),wm=y=>xc.get(y),Xi=y=>xc.getOption(y),Bo=(y,S)=>xc.set(y,S),Rs=y=>dt(y)==="img"?1:Xi(y).fold(()=>xa(y).length,S=>S.length),yf=["img","br"],Es=y=>Xi(y).filter(S=>S.trim().length!==0||S.indexOf(" ")>-1).isSome()||st(yf,dt(y))||(S=>Mn(S)&&yn(S,"contenteditable")==="false")(y),Lg=y=>((S,T)=>{const M=U=>{for(let W=0;W<U.childNodes.length;W++){const ne=Zt.fromDom(U.childNodes[W]);if(T(ne))return oe.some(ne);const se=M(U.childNodes[W]);if(se.isSome())return se}return oe.none()};return M(S.dom)})(y,Es),nu=y=>M0(y,Es),M0=(y,S)=>{const T=M=>{const U=xa(M);for(let W=U.length-1;W>=0;W--){const ne=U[W];if(S(ne))return oe.some(ne);const se=T(ne);if(se.isSome())return se}return oe.none()};return T(y)},vs={scope:["row","col"]},rt=y=>()=>{const S=Zt.fromTag("td",y.dom);return ss(S,Zt.fromTag("br",y.dom)),S},Ri=y=>()=>Zt.fromTag("col",y.dom),Ns=y=>()=>Zt.fromTag("colgroup",y.dom),Ml=y=>()=>Zt.fromTag("tr",y.dom),wc=(y,S,T)=>{const M=((U,W)=>{const ne=jc(U,W),se=xa(Zc(U));return Sl(ne,se),ne})(y,S);return Do(T,(U,W)=>{U===null?bo(M,W):ar(M,W,U)}),M},js=y=>y,Zr=(y,S,T)=>{const M=(U,W)=>{((ne,se)=>{const ve=ne.dom,Ne=se.dom;Ho(ve)&&Ho(Ne)&&(Ne.style.cssText=ve.style.cssText)})(U.element,W),ul(W,"height"),U.colspan!==1&&ul(W,"width")};return{col:U=>{const W=Zt.fromTag(dt(U.element),S.dom);return M(U,W),y(U.element,W),W},colgroup:Ns(S),row:Ml(S),cell:U=>{const W=Zt.fromTag(dt(U.element),S.dom),ne=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),se=ne.length>0?((ve,Ne,Ge)=>Lg(ve).map(Te=>{const Me=Ge.join(","),ze=gi(Te,Me,ot=>Pr(ot,ve));return un(ze,(ot,at)=>{const At=fm(at);return ss(ot,At),At},Ne)}).getOr(Ne))(U.element,W,ne):W;return ss(se,Zt.fromTag("br")),M(U,W),((ve,Ne)=>{Do(vs,(Ge,Te)=>no(ve,Te).filter(Me=>st(Ge,Me)).each(Me=>ar(Ne,Te,Me)))})(U.element,W),y(U.element,W),W},replace:wc,colGap:Ri(S),gap:rt(S)}},Cr=y=>({col:Ri(y),colgroup:Ns(y),row:Ml(y),cell:rt(y),replace:js,colGap:Ri(y),gap:rt(y)}),Ni=y=>S=>S.options.get(y),Fl="100%",ou=y=>{var S;const T=y.dom,M=(S=T.getParent(y.selection.getStart(),T.isBlock))!==null&&S!==void 0?S:y.getBody();return zo(Zt.fromDom(M))+"px"},Od=y=>oe.from(y.options.get("table_clone_elements")),Cm=Ni("table_header_type"),Bg=Ni("table_column_resizing"),Mg=y=>Bg(y)==="preservetable",Eb=y=>Bg(y)==="resizetable",Ab=Ni("table_sizing_mode"),Vu=y=>Ab(y)==="relative",L=y=>Ab(y)==="fixed",K=y=>Ab(y)==="responsive",re=Ni("table_resize_bars"),Re=Ni("table_style_by_css"),Ke=Ni("table_merge_content_on_paste"),Dt=y=>{const S=y.options,T=S.get("table_default_attributes");return S.isSet("table_default_attributes")?T:((M,U)=>K(M)||Re(M)?U:L(M)?{...U,width:ou(M)}:{...U,width:Fl})(y,T)},Bn=Ni("table_use_colgroups"),mo=y=>Qe(y,"[contenteditable]"),ro=(y,S=!1)=>ji(y)?y.dom.isContentEditable:mo(y).fold(Z(S),T=>kn(T)==="true"),kn=y=>y.dom.contentEditable,ir=y=>Zt.fromDom(y.getBody()),Is=y=>S=>Pr(S,ir(y)),fs=y=>{bo(y,"data-mce-style");const S=T=>bo(T,"data-mce-style");St(bs(y),S),St(bc(y),S),St(Ur(y),S)},Cc=y=>Zt.fromDom(y.selection.getStart()),_m=y=>y.getBoundingClientRect().width,Sm=y=>y.getBoundingClientRect().height,ia=y=>(S,T)=>{const M=S.dom.getStyle(T,y)||S.dom.getAttrib(T,y);return oe.from(M).filter(Ro)},lC=ia("width"),Tb=ia("height"),F0=y=>tt(y,Yo("table")).exists(ro),ti=(y,S)=>{const T=S.column,M=S.column+S.colspan-1,U=S.row,W=S.row+S.rowspan-1;return T<=y.finishCol&&M>=y.startCol&&U<=y.finishRow&&W>=y.startRow},ys=(y,S)=>S.column>=y.startCol&&S.column+S.colspan-1<=y.finishCol&&S.row>=y.startRow&&S.row+S.rowspan-1<=y.finishRow,Ca=(y,S,T)=>{const M=kd(y,S,Pr),U=kd(y,T,Pr);return M.bind(W=>U.map(ne=>{return se=W,ve=ne,{startRow:Math.min(se.row,ve.row),startCol:Math.min(se.column,ve.column),finishRow:Math.max(se.row+se.rowspan-1,ve.row+ve.rowspan-1),finishCol:Math.max(se.column+se.colspan-1,ve.column+ve.colspan-1)};var se,ve}))},Uu=(y,S,T)=>Ca(y,S,T).map(M=>{const U=Ba(y,X(ti,M));return P(U,W=>W.element)}),jh=(y,S)=>kd(y,S,(T,M)=>Ws(M,T)).map(T=>T.element),Qy=(y,S,T)=>{const M=gl(y);return Uu(M,S,T)},Xl=(y,S,T,M,U)=>{const W=gl(y),ne=Pr(y,T)?oe.some(S):jh(W,S),se=Pr(y,U)?oe.some(M):jh(W,M);return ne.bind(ve=>se.bind(Ne=>Uu(W,ve,Ne)))},gl=Co;var Ob=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xf=()=>({up:Z({selector:Le,closest:Qe,predicate:ke,all:wr}),down:Z({selector:Er,predicate:mi}),styles:Z({get:hi,getRaw:Ki,set:xo,remove:ul}),attrs:Z({get:yn,set:ar,remove:bo,copyTo:(y,S)=>{const T=Xs(y);Pa(S,T)}}),insert:Z({before:rn,after:Nu,afterAll:Zi,append:ss,appendAll:Sl,prepend:um,wrap:dm}),remove:Z({unwrap:fi,remove:Xr}),create:Z({nu:Zt.fromTag,clone:y=>Zt.fromDom(y.dom.cloneNode(!1)),text:Zt.fromText}),query:Z({comparePosition:(y,S)=>y.dom.compareDocumentPosition(S.dom),prevSibling:oo,nextSibling:Pl}),property:Z({children:xa,name:dt,parent:ll,document:y=>pc(y).dom,isText:_o,isComment:vn,isElement:zn,isSpecial:y=>{const S=dt(y);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:y=>zn(y)?no(y,"lang"):oe.none(),getText:wm,setText:Bo,isBoundary:y=>!!zn(y)&&(dt(y)==="body"||st(Ob,dt(y))),isEmptyTag:y=>!!zn(y)&&st(["br","img","hr","input"],dt(y)),isNonEditable:y=>zn(y)&&yn(y,"contenteditable")==="false"}),eq:Pr,is:cm});const Vk=(y,S,T,M)=>{const U=S(y,T);return un(M,(W,ne)=>{const se=S(y,ne);return Db(y,W,se)},U)},Db=(y,S,T)=>S.bind(M=>T.filter(X(y.eq,M))),Dd=xf(),wf=(y,S)=>((T,M,U)=>U.length>0?((W,ne,se,ve)=>ve(W,ne,se[0],se.slice(1)))(T,M,U,Vk):oe.none())(Dd,(T,M)=>y(M),S),Sn=y=>Le(y,"table"),ru=(y,S,T)=>{const M=U=>W=>T!==void 0&&T(W)||Pr(W,U);return Pr(y,S)?oe.some({boxes:oe.some([y]),start:y,finish:S}):Sn(y).bind(U=>Sn(S).bind(W=>{if(Pr(U,W))return oe.some({boxes:Qy(U,y,S),start:y,finish:S});if(Ws(U,W)){const ne=gi(S,"td,th",M(U)),se=ne.length>0?ne[ne.length-1]:S;return oe.some({boxes:Xl(U,y,U,S,W),start:y,finish:se})}if(Ws(W,U)){const ne=gi(y,"td,th",M(W)),se=ne.length>0?ne[ne.length-1]:y;return oe.some({boxes:Xl(W,y,U,S,W),start:y,finish:se})}return((ne,se,ve)=>((Ne,Ge,Te,Me=j)=>{const ze=[Ge].concat(Ne.up().all(Ge)),ot=[Te].concat(Ne.up().all(Te)),at=Pt=>Vn(Pt,Me).fold(()=>Pt,jt=>Pt.slice(0,jt+1)),At=at(ze),Rt=at(ot),Et=_n(At,Pt=>Oe(Rt,((jt,Xt)=>X(jt.eq,Xt))(Ne,Pt)));return{firstpath:At,secondpath:Rt,shared:Et}})(Dd,ne,se,void 0))(y,S).shared.bind(ne=>Qe(ne,"table",T).bind(se=>{const ve=gi(S,"td,th",M(se)),Ne=ve.length>0?ve[ve.length-1]:S,Ge=gi(y,"td,th",M(se)),Te=Ge.length>0?Ge[Ge.length-1]:y;return oe.some({boxes:Xl(se,y,U,S,W),start:Te,finish:Ne})}))}))},Rb=(y,S)=>{const T=Er(y,S);return T.length>0?oe.some(T):oe.none()},Cf=(y,S,T)=>ut(y,S).bind(M=>ut(y,T).bind(U=>wf(Sn,[M,U]).map(W=>({first:M,last:U,table:W})))),ni=(y,S,T,M,U)=>((W,ne)=>_n(W,se=>sa(se,ne)))(y,U).bind(W=>((ne,se,ve)=>dl(ne).bind(Ne=>((Ge,Te,Me,ze)=>kd(Ge,Te,Pr).bind(ot=>{const at=Me>0?ot.row+ot.rowspan-1:ot.row,At=ze>0?ot.column+ot.colspan-1:ot.column;return ml(Ge,at+Me,At+ze).map(Rt=>Rt.element)}))(gl(Ne),ne,se,ve)))(W,S,T).bind(ne=>((se,ve)=>Le(se,"table").bind(Ne=>ut(Ne,ve).bind(Ge=>ru(Ge,se).bind(Te=>Te.boxes.map(Me=>({boxes:Me,start:Te.start,finish:Te.finish}))))))(ne,M))),_c=(y,S)=>Rb(y,S),Fg=(y,S,T)=>Cf(y,S,T).bind(M=>{const U=ve=>Pr(y,ve),W="thead,tfoot,tbody,table",ne=Le(M.first,W,U),se=Le(M.last,W,U);return ne.bind(ve=>se.bind(Ne=>Pr(ve,Ne)?((Ge,Te,Me)=>((ze,ot,at)=>Ca(ze,ot,at).bind(At=>((Rt,Et)=>{let Pt=!0;const jt=X(ys,Et);for(let Xt=Et.startRow;Xt<=Et.finishRow;Xt++)for(let lt=Et.startCol;lt<=Et.finishCol;lt++)Pt=Pt&&ml(Rt,Xt,lt).exists(jt);return Pt?oe.some(Et):oe.none()})(ze,At)))(gl(Ge),Te,Me))(M.table,M.first,M.last):oe.none()))}),_f=te,$0=y=>{const S=(T,M)=>no(T,M).exists(U=>parseInt(U,10)>1);return y.length>0&&Tt(y,T=>S(T,"rowspan")||S(T,"colspan"))?oe.some(y):oe.none()},su=(y,S,T)=>S.length<=1?oe.none():Fg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(M=>({bounds:M,cells:S})),Kh="data-mce-selected",qh="data-mce-first-selected",Ht="data-mce-last-selected",ex="["+Kh+"]",Sf={selected:Kh,selectedSelector:"td["+Kh+"],th["+Kh+"]",firstSelected:qh,firstSelectedSelector:"td["+qh+"],th["+qh+"]",lastSelected:Ht,lastSelectedSelector:"td["+Ht+"],th["+Ht+"]"},wo=(y,S,T)=>({element:T,mergable:su(S,y,Sf),unmergable:$0(y),selection:_f(y)}),En=y=>(S,T)=>{const M=dt(S),U=M==="col"||M==="colgroup"?dl(W=S).bind(ne=>_c(ne,Sf.firstSelectedSelector)).fold(Z(W),ne=>ne[0]):S;var W;return Qe(U,y,T)},kf=En("th,td,caption"),as=En("th,td"),Sc=y=>{return S=y.model.table.getSelectedCells(),P(S,Zt.fromDom);var S},kc=(y,S)=>{y.on("BeforeGetContent",T=>{const M=U=>{T.preventDefault(),(W=>dl(W[0]).map(ne=>{const se=((ve,Ne)=>{const Ge=Pt=>sa(Pt.element,Ne),Te=Zc(ve),Me=Tg(Te),ze=Zh(ve),ot=Qs(Me),at=((Pt,jt)=>{const Xt=Pt.grid.columns;let lt=Pt.grid.rows,bn=Xt,Un=0,ho=0;const Qn=[],Wn=[];return Do(Pt.access,go=>{if(Qn.push(go),jt(go)){Wn.push(go);const Mo=go.row,qs=Mo+go.rowspan-1,yi=go.column,za=yi+go.colspan-1;Mo<lt?lt=Mo:qs>Un&&(Un=qs),yi<bn?bn=yi:za>ho&&(ho=za)}}),((go,Mo,qs,yi,za,tc)=>({minRow:go,minCol:Mo,maxRow:qs,maxCol:yi,allCells:za,selectedCells:tc}))(lt,bn,Un,ho,Qn,Wn)})(ot,Ge),At="th:not("+Ne+"),td:not("+Ne+")",Rt=Ag(Te,"th,td",Pt=>sa(Pt,At));St(Rt,Xr),((Pt,jt,Xt,lt)=>{const bn=tn(Pt,Qn=>Qn.section!=="colgroup"),Un=jt.grid.columns,ho=jt.grid.rows;for(let Qn=0;Qn<ho;Qn++){let Wn=!1;for(let go=0;go<Un;go++)Qn<Xt.minRow||Qn>Xt.maxRow||go<Xt.minCol||go>Xt.maxCol||(ml(jt,Qn,go).filter(lt).isNone()?Di(bn,Wn,Qn):Wn=!0)}})(Me,ot,at,Ge);const Et=((Pt,jt,Xt,lt)=>{if(lt.minCol===0&&jt.grid.columns===lt.maxCol+1)return 0;const bn=ea(jt,Pt,Xt),Un=ct(bn,(Wn,go)=>Wn+go,0),ho=ct(bn.slice(lt.minCol,lt.maxCol+1),(Wn,go)=>Wn+go,0),Qn=ho/Un*Xt.pixelWidth()-Xt.pixelWidth();return Xt.getCellDelta(Qn)})(ve,Co(ve),ze,at);return((Pt,jt,Xt,lt)=>{Do(Xt.columns,Un=>{(Un.column<jt.minCol||Un.column>jt.maxCol)&&Xr(Un.element)});const bn=tn(wd(Pt,"tr"),Un=>Un.dom.childElementCount===0);St(bn,Xr),jt.minCol!==jt.maxCol&&jt.minRow!==jt.maxRow||St(wd(Pt,"th,td"),Un=>{bo(Un,"rowspan"),bo(Un,"colspan")}),bo(Pt,pm),bo(Pt,"data-snooker-col-series"),Zh(Pt).adjustTableWidth(lt)})(Te,at,ot,Et),Te})(ne,ex);return fs(se),[se]}))(U).each(W=>{T.content=T.format==="text"?(ne=>P(ne,se=>se.dom.innerText).join(""))(W):((ne,se)=>P(se,ve=>ne.selection.serializer.serialize(ve.dom,{})).join(""))(y,W)})};if(T.selection===!0){const U=(W=>tn(Sc(W),ne=>sa(ne,Sf.selectedSelector)))(y);U.length>=1&&M(U)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const M=Sc(y);Xn(M).each(U=>{dl(U).each(W=>{const ne=tn(((ve,Ne)=>{const Ge=document.createElement("div");return Ge.innerHTML=ve,xa(Zt.fromDom(Ge))})(T.content),ve=>dt(ve)!=="meta"),se=Yo("table");if(Ke(y)&&ne.length===1&&se(ne[0])){T.preventDefault();const ve=Zt.fromDom(y.getDoc()),Ne=Cr(ve),Ge=((Te,Me,ze)=>({element:Te,clipboard:Me,generators:ze}))(U,ne[0],Ne);S.pasteCells(W,Ge).each(()=>{y.focus()})}})})}})},lo=(y,S)=>({element:y,offset:S}),Gh=(y,S,T)=>y.property().isText(S)&&y.property().getText(S).trim().length===0||y.property().isComment(S)?T(S).bind(M=>Gh(y,M,T).orThunk(()=>oe.some(M))):oe.none(),cC=(y,S)=>y.property().isText(S)?y.property().getText(S).length:y.property().children(S).length,Ct=(y,S)=>{const T=Gh(y,S,y.query().prevSibling).getOr(S);if(y.property().isText(T))return lo(T,cC(y,T));const M=y.property().children(T);return M.length>0?Ct(y,M[M.length-1]):lo(T,cC(y,T))},tx=Ct,Yh=xf(),Xh=(y,S)=>{Zs(y)||(M=>Yl(M).bind(U=>{return W=U,ne=["fixed","relative","empty"],oe.from(Sb.exec(W)).bind(se=>{const ve=Number(se[1]),Ne=se[2];return((Ge,Te)=>Oe(Te,Me=>Oe(vm[Me],ze=>Ge===ze)))(Ne,ne)?oe.some({value:ve,unit:Ne}):oe.none()});var W,ne}))(y).each(M=>{const U=M.value/2;Hu(y,U,M.unit),Hu(S,U,M.unit)})},$g=y=>P(y,Z(0)),km=(y,S,T,M,U)=>U(y.slice(0,S)).concat(M).concat(U(y.slice(T))),uC=y=>(S,T,M,U)=>{if(y(M)){const W=Math.max(U,S[T]-Math.abs(M)),ne=Math.abs(W-S[T]);return M>=0?ne:-ne}return M},Ef=uC(y=>y<0),Gr=uC(de),Wu=()=>{const y=(T,M,U,W)=>{const ne=(100+U)/100,se=Math.max(W,(T[M]+U)/ne);return P(T,(ve,Ne)=>(Ne===M?se:ve/ne)-ve)},S=(T,M,U,W,ne,se)=>se?y(T,M,W,ne):((ve,Ne,Ge,Te,Me)=>{const ze=Ef(ve,Ne,Te,Me);return km(ve,Ne,Ge+1,[ze,0],$g)})(T,M,U,W,ne);return{resizeTable:(T,M)=>T(M),clampTableDelta:Ef,calcLeftEdgeDeltas:S,calcMiddleDeltas:(T,M,U,W,ne,se,ve)=>S(T,U,W,ne,se,ve),calcRightEdgeDeltas:(T,M,U,W,ne,se)=>{if(se)return y(T,U,W,ne);{const ve=Ef(T,U,W,ne);return $g(T.slice(0,U)).concat([ve])}},calcRedestributedWidths:(T,M,U,W)=>{if(W){const ne=(M+U)/M,se=P(T,ve=>ve/ne);return{delta:100*ne-100,newSizes:se}}return{delta:U,newSizes:T}}}},H0=()=>{const y=(S,T,M,U,W)=>{const ne=Gr(S,U>=0?M:T,U,W);return km(S,T,M+1,[ne,-ne],$g)};return{resizeTable:(S,T,M)=>{M&&S(T)},clampTableDelta:(S,T,M,U,W)=>{if(W){if(M>=0)return M;{const ne=ct(S,(se,ve)=>se+ve-U,0);return Math.max(-ne,M)}}return Ef(S,T,M,U)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(S,T,M,U,W,ne)=>y(S,M,U,W,ne),calcRightEdgeDeltas:(S,T,M,U,W,ne)=>{if(ne)return $g(S);{const se=U/S.length;return P(S,Z(se))}},calcRedestributedWidths:(S,T,M,U)=>({delta:0,newSizes:S})}},au=y=>Co(y).grid,Em=Yo("th"),Jl=y=>Tt(y,S=>Em(S.element)),Ps=(y,S)=>y&&S?"sectionCells":y?"section":"cells",Nb=y=>{const S=y.section==="thead",T=zt(_a(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:S||T?{type:"header",subType:Ps(S,T)}:{type:"body"}},_a=y=>{const S=tn(y,T=>Em(T.element));return S.length===0?oe.some("td"):S.length===y.length?oe.some("th"):oe.none()},z0=(y,S,T)=>Ss(T(y.element,S),!0,y.isLocked),Ec=(y,S)=>y.section!==S?Js(y.element,y.cells,S,y.isNew):y,Sa=()=>({transformRow:Ec,transformCell:(y,S,T)=>{const M=T(y.element,S),U=dt(M)!=="td"?((W,ne)=>{const se=jc(W,"td");Nu(W,se);const ve=xa(W);return Sl(se,ve),Xr(W),se})(M):M;return Ss(U,y.isNew,y.isLocked)}}),Vt=()=>({transformRow:Ec,transformCell:z0}),Am=()=>({transformRow:(y,S)=>Ec(y,S==="thead"?"tbody":S),transformCell:z0}),ka=Sa,dC=Vt,fC=Am,Uk=()=>({transformRow:te,transformCell:z0}),Rd=(y,S,T,M)=>{T===M?bo(y,S):ar(y,S,T)},Hg=(y,S,T)=>{gn(qc(y,S)).fold(()=>um(y,T),M=>Nu(M,T))},Ib=(y,S)=>{const T=[],M=[],U=Me=>P(Me,ze=>{ze.isNew&&T.push(ze.element);const ot=ze.element;return cl(ot),St(ze.cells,at=>{at.isNew&&M.push(at.element),Rd(at.element,"colspan",at.colspan,1),Rd(at.element,"rowspan",at.rowspan,1),ss(ot,at.element)}),ot}),W=Me=>Je(Me,ze=>P(ze.cells,ot=>(Rd(ot.element,"span",ot.colspan,1),ot.element))),ne=(Me,ze)=>{const ot=((At,Rt)=>{const Et=gt(At,Rt).getOrThunk(()=>{const Pt=Zt.fromTag(Rt,Ou(At).dom);return Rt==="thead"?Hg(At,"caption,colgroup",Pt):Rt==="colgroup"?Hg(At,"caption",Pt):ss(At,Pt),Pt});return cl(Et),Et})(y,ze),at=(ze==="colgroup"?W:U)(Me);Sl(ot,at)},se=(Me,ze)=>{Me.length>0?ne(Me,ze):(ot=>{gt(y,ot).each(Xr)})(ze)},ve=[],Ne=[],Ge=[],Te=[];return St(S,Me=>{switch(Me.section){case"thead":ve.push(Me);break;case"tbody":Ne.push(Me);break;case"tfoot":Ge.push(Me);break;case"colgroup":Te.push(Me)}}),se(Te,"colgroup"),se(ve,"thead"),se(Ne,"tbody"),se(Ge,"tfoot"),{newRows:T,newCells:M}},V0=(y,S)=>{if(y.length===0)return 0;const T=y[0];return Vn(y,M=>!S(T.element,M.element)).getOr(y.length)},nx=(y,S)=>{const T=P(y,M=>P(M.cells,j));return P(y,(M,U)=>{const W=Je(M.cells,(ne,se)=>{if(T[U][se]===!1){const Me=((ze,ot,at,At)=>{const Rt=((Xt,lt)=>Xt[lt])(ze,ot),Et=Rt.section==="colgroup",Pt=V0(Rt.cells.slice(at),At),jt=Et?1:V0(((Xt,lt)=>P(Xt,bn=>Ds(bn,lt)))(ze.slice(ot),at),At);return{colspan:Pt,rowspan:jt}})(y,U,se,S);return((ze,ot,at,At)=>{for(let Rt=ze;Rt<ze+at;Rt++)for(let Et=ot;Et<ot+At;Et++)T[Rt][Et]=!0})(U,se,Me.rowspan,Me.colspan),[(ve=ne.element,Ne=Me.rowspan,Ge=Me.colspan,Te=ne.isNew,{element:ve,rowspan:Ne,colspan:Ge,isNew:Te})]}return[];var ve,Ne,Ge,Te});return((ne,se,ve,Ne)=>({element:ne,cells:se,section:ve,isNew:Ne}))(M.element,W,M.section,M.isNew)})},ms=(y,S,T)=>{const M=[];St(y.colgroups,U=>{const W=[];for(let ne=0;ne<y.grid.columns;ne++){const se=pr(y,ne).map(ve=>Ss(ve.element,T,!1)).getOrThunk(()=>Ss(S.colGap(),!0,!1));W.push(se)}M.push(Js(U.element,W,"colgroup",T))});for(let U=0;U<y.grid.rows;U++){const W=[];for(let ve=0;ve<y.grid.columns;ve++){const Ne=ml(y,U,ve).map(Ge=>Ss(Ge.element,T,Ge.isLocked)).getOrThunk(()=>Ss(S.gap(),!0,!1));W.push(Ne)}const ne=y.all[U],se=Js(ne.element,W,ne.section,T);M.push(se)}return M},Pb=y=>nx(y,Pr),xs=(y,S)=>Q(y.all,T=>_n(T.cells,M=>Pr(S,M.element))),Ji=(y,S,T)=>{const M=P(S.selection,W=>$h(W).bind(ne=>xs(y,ne)).filter(T)),U=Qt(M);return ln(U.length>0,U)},Ls=(y,S,T,M,U)=>(W,ne,se,ve)=>{const Ne=Co(W),Ge=oe.from(ve==null?void 0:ve.section).getOrThunk(Uk);return S(Ne,ne).map(Te=>{const Me=((at,At)=>ms(at,At,!1))(Ne,se),ze=y(Me,Te,Pr,U(se),Ge),ot=Ai(ze.grid);return{info:Te,grid:Pb(ze.grid),cursor:ze.cursor,lockedColumns:ot}}).bind(Te=>{const Me=Ib(W,Te.grid),ze=oe.from(ve==null?void 0:ve.sizing).getOrThunk(()=>Zh(W)),ot=oe.from(ve==null?void 0:ve.resize).getOrThunk(H0);return T(W,Te.grid,Te.info,{sizing:ze,resize:ot,section:Ge}),M(W),bo(W,pm),Te.lockedColumns.length>0&&ar(W,pm,Te.lockedColumns.join(",")),oe.some({cursor:Te.cursor,newRows:Me.newRows,newCells:Me.newCells})})},Ql=(y,S)=>Ji(y,S,de).map(T=>({cells:T,generators:S.generators,clipboard:S.clipboard})),Nd=(y,S)=>Ji(y,S,de),$a=(y,S)=>Ji(y,S,T=>!T.isLocked),Lb=(y,S)=>Tt(S,T=>((M,U)=>xs(M,U).exists(W=>!W.isLocked))(y,T)),Jh=(y,S,T,M)=>{const U=Wr(y).rows;let W=!0;for(let ne=0;ne<U.length;ne++)for(let se=0;se<La(U[0]);se++){const ve=U[ne],Ne=Ds(ve,se),Ge=T(Ne.element,S);Ge&&!W?Ig(ve,se,Ss(M(),!0,Ne.isLocked)):Ge&&(W=!1)}return y},Af=y=>{const S=W=>W(y),T=Z(y),M=()=>U,U={tag:!0,inner:y,fold:(W,ne)=>ne(y),isValue:de,isError:j,map:W=>Qh.value(W(y)),mapError:M,bind:S,exists:S,forall:S,getOr:T,or:M,getOrThunk:T,orThunk:M,getOrDie:T,each:W=>{W(y)},toOptional:()=>oe.some(y)};return U},mC=y=>{const S=()=>T,T={tag:!1,inner:y,fold:(U,W)=>U(y),isValue:j,isError:de,map:S,mapError:U=>Qh.error(U(y)),bind:S,exists:j,forall:de,getOr:te,or:te,getOrThunk:fe,orThunk:fe,getOrDie:(M=String(y),()=>{throw new Error(M)}),each:V,toOptional:oe.none};var M;return T},Qh={value:Af,error:mC,fromOption:(y,S)=>y.fold(()=>mC(S),Af)},ox=(y,S)=>({rowDelta:0,colDelta:La(y[0])-La(S[0])}),U0=(y,S)=>({rowDelta:y.length-S.length,colDelta:0}),Bb=(y,S,T,M)=>{const U=S.section==="colgroup"?T.col:T.cell;return Be(y,W=>Ss(U(),!0,M(W)))},W0=(y,S,T,M)=>{const U=y[y.length-1];return y.concat(Be(S,()=>{const W=U.section==="colgroup"?T.colgroup:T.row,ne=hf(U,W,te),se=Bb(ne.cells.length,ne,T,ve=>Fe(M,ve.toString()));return Ei(ne,se)}))},rx=(y,S,T,M)=>P(y,U=>{const W=Bb(S,U,T,j);return _d(U,M,W)}),Tm=(y,S,T)=>{const M=S.colDelta<0?rx:te,U=S.rowDelta<0?W0:te,W=Ai(y),ne=La(y[0]),se=Oe(W,Ge=>Ge===ne-1),ve=M(y,Math.abs(S.colDelta),T,se?ne-1:ne),Ne=Ai(ve);return U(ve,Math.abs(S.rowDelta),T,Gn(Ne,de))},Wk=(y,S,T,M)=>{const U=X(M,Ds(y[S],T).element),W=y[S];return y.length>1&&La(W)>1&&(T>0&&U(Qr(W,T-1))||T<W.cells.length-1&&U(Qr(W,T+1))||S>0&&U(Qr(y[S-1],T))||S<y.length-1&&U(Qr(y[S+1],T)))},Z0=(y,S,T)=>tn(T,M=>M>=y.column&&M<=La(S[0])+y.column),j0=(y,S,T,M,U)=>{((Ne,Ge,Te,Me)=>{Ge>0&&Ge<Ne[0].cells.length&&St(Ne,ze=>{const ot=ze.cells[Ge-1];let at=0;const At=Me();for(;ze.cells.length>Ge+at&&Te(ot.element,ze.cells[Ge+at].element);)Ig(ze,Ge+at,Ss(At,!0,ze.cells[Ge+at].isLocked)),at++})})(S,y,U,M.cell);const W=U0(T,S),ne=Tm(T,W,M),se=U0(S,ne),ve=Tm(S,se,M);return P(ve,(Ne,Ge)=>_d(Ne,y,ne[Ge].cells))},sx=(y,S,T,M,U)=>{((Et,Pt,jt,Xt)=>{const lt=Wr(Et).rows;if(Pt>0&&Pt<lt.length){const bn=((Un,ho)=>ct(Un,(Qn,Wn)=>Oe(Qn,go=>ho(go.element,Wn.element))?Qn:Qn.concat([Wn]),[]))(lt[Pt-1].cells,jt);St(bn,Un=>{let ho=oe.none();for(let Qn=Pt;Qn<lt.length;Qn++)for(let Wn=0;Wn<La(lt[0]);Wn++){const go=lt[Qn],Mo=Ds(go,Wn);jt(Mo.element,Un.element)&&(ho.isNone()&&(ho=oe.some(Xt())),ho.each(qs=>{Ig(go,Wn,Ss(qs,!0,Mo.isLocked))}))}})}})(S,y,U,M.cell);const W=Ai(S),ne=ox(S,T),se={...ne,colDelta:ne.colDelta-W.length},ve=Tm(S,se,M),{cols:Ne,rows:Ge}=Wr(ve),Te=Ai(ve),Me=ox(T,S),ze={...Me,colDelta:Me.colDelta+Te.length},ot=(At=M,Rt=Te,P(T,Et=>ct(Rt,(Pt,jt)=>{const Xt=Bb(1,Et,At,de)[0];return Ng(Pt,jt,Xt)},Et))),at=Tm(ot,ze,M);var At,Rt;return[...Ne,...Ge.slice(0,y),...at,...Ge.slice(y,Ge.length)]},ax=(y,S,T,M,U)=>{const{rows:W,cols:ne}=Wr(y),se=W.slice(0,S),ve=W.slice(S);return[...ne,...se,((Ne,Ge,Te,Me)=>hf(Ne,ze=>Me(ze,Te),Ge))(W[T],(Ne,Ge)=>S>0&&S<W.length&&M(Qr(W[S-1],Ge),Qr(W[S],Ge))?Ds(W[S],Ge):Ss(U(Ne.element,M),!0,Ne.isLocked),M,U),...ve]},Mb=(y,S,T,M,U)=>P(y,W=>{const ne=S>0&&S<La(W)&&M(Qr(W,S-1),Qr(W,S)),se=((ve,Ne,Ge,Te,Me,ze,ot)=>{if(Ge!=="colgroup"&&Te)return Ds(ve,Ne);{const at=Ds(ve,Me);return Ss(ot(at.element,ze),!0,!1)}})(W,S,W.section,ne,T,M,U);return Ng(W,S,se)}),ix=(y,S,T,M)=>((U,W,ne,se)=>Qr(U[W],ne)!==void 0&&W>0&&se(Qr(U[W-1],ne),Qr(U[W],ne)))(y,S,T,M)||((U,W,ne)=>W>0&&ne(Qr(U,W-1),Qr(U,W)))(y[S],T,M),lx=(y,S,T,M)=>{const U=W=>(ne=>ne==="row"?(se=>cf(se,"rowspan")>1)(S):Zs(S))(W)?`${W}group`:W;return y?Em(S)?U(T):null:M&&Em(S)?U(T==="row"?"col":"row"):null},Fb=(y,S,T)=>Ss(T(y.element,S),!0,y.isLocked),ep=(y,S,T,M,U,W,ne)=>P(y,(se,ve)=>((Ne,Ge)=>{const Te=Ne.cells,Me=P(Te,(ze,ot)=>{if((at=>Oe(S,At=>T(at.element,At.element)))(ze)){const at=ne(ze,ve,ot)?U(ze,T,M):ze;return W(at,ve,ot).each(At=>{var Rt,Et;Rt=at.element,Et={scope:oe.from(At)},Do(Et,(Pt,jt)=>{Pt.fold(()=>{bo(Rt,jt)},Xt=>{Us(Rt.dom,jt,Xt)})})}),at}return ze});return Js(Ne.element,Me,Ne.section,Ne.isNew)})(se)),cx=(y,S,T)=>Je(y,(M,U)=>ix(y,U,S,T)?[]:[Ds(M,S)]),$b=(y,S,T,M,U)=>{const W=Wr(y).rows,ne=Je(S,Ge=>cx(W,Ge,M)),se=P(W,Ge=>Jl(Ge.cells)),ve=((Ge,Te)=>Tt(Te,te)&&Jl(Ge)?de:(Me,ze,ot)=>!(dt(Me.element)==="th"&&Te[ze]))(ne,se);return ep(y,ne,M,U,Fb,((Ge,Te)=>(Me,ze)=>oe.some(lx(Ge,Me.element,"row",Te[ze])))(T,se),ve)},Hb=(y,S,T,M)=>{const U=Wr(y).rows,W=P(S,ne=>Ds(U[ne.row],ne.column));return ep(y,W,T,M,Fb,oe.none,de)},Om=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const S=[],T={};return St(y,(M,U)=>{const W=gr(M);if(W.length!==1)throw new Error("one and only one name per case");const ne=W[0],se=M[ne];if(T[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(se))throw new Error("case arguments must be an array");S.push(ne),T[ne]=(...ve)=>{const Ne=ve.length;if(Ne!==se.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+se.length+" ("+se+"), got "+Ne);return{fold:(...Ge)=>{if(Ge.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ge.length);return Ge[U].apply(null,ve)},match:Ge=>{const Te=gr(Ge);if(S.length!==Te.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Te.join(","));if(!Tt(S,Me=>st(Te,Me)))throw new Error("Not all branches were specified when using match. Specified: "+Te.join(", ")+`
Required: `+S.join(", "));return Ge[ne].apply(null,ve)},log:Ge=>{console.log(Ge,{constructors:S,constructor:ne,params:ve})}}}}),T},tp={...Om([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ux=(y,S,T)=>{const M=((U,W)=>yc(U)?((ne,se)=>{const ve=vc(ne);return P(ve,(Ne,Ge)=>({element:Ne.element,width:se[Ge],colspan:Ne.colspan}))})(U,W):((ne,se)=>{const ve=Dn(ne);return P(ve,Ne=>{const Ge=((Te,Me,ze)=>{let ot=0;for(let at=Te;at<Me;at++)ot+=ze[at]!==void 0?ze[at]:0;return ot})(Ne.column,Ne.column+Ne.colspan,se);return{element:Ne.element,width:Ge,colspan:Ne.colspan}})})(U,W))(y,S);St(M,U=>{T.setElementWidth(U.element,U.width)})},Id=(y,S,T,M,U)=>{const W=Co(y),ne=U.getCellDelta(S),se=U.getWidths(W,U),ve=T===W.grid.columns-1,Ne=M.clampTableDelta(se,T,ne,U.minCellWidth(),ve),Ge=((Me,ze,ot,at,At)=>{const Rt=Me.slice(0),Et=((jt,Xt)=>jt.length===0?tp.none():jt.length===1?tp.only(0):Xt===0?tp.left(0,1):Xt===jt.length-1?tp.right(Xt-1,Xt):Xt>0&&Xt<jt.length-1?tp.middle(Xt-1,Xt,Xt+1):tp.none())(Me,ze),Pt=Z(P(Rt,Z(0)));return Et.fold(Pt,jt=>at.singleColumnWidth(Rt[jt],ot),(jt,Xt)=>At.calcLeftEdgeDeltas(Rt,jt,Xt,ot,at.minCellWidth(),at.isRelative),(jt,Xt,lt)=>At.calcMiddleDeltas(Rt,jt,Xt,lt,ot,at.minCellWidth(),at.isRelative),(jt,Xt)=>At.calcRightEdgeDeltas(Rt,jt,Xt,ot,at.minCellWidth(),at.isRelative))})(se,T,Ne,U,M),Te=P(Ge,(Me,ze)=>Me+se[ze]);ux(W,Te,U),M.resizeTable(U.adjustTableWidth,Ne,ve)},zg=(y,S,T)=>{const M=Co(y),U=((ve,Ne)=>Ma(ve,Ne,B0,Ge=>Ge.getOrThunk(fr)))(M,y),W=P(U,(ve,Ne)=>T===Ne?Math.max(S+ve,fr()):ve),ne=((ve,Ne)=>P(ve.all,(Ge,Te)=>({element:Ge.element,height:Ne[Te]})))(M,W);St(ne,ve=>{$u(ve.element,ve.height)}),St(Dn(M),ve=>{(Ne=>{ul(Ne,"height")})(ve.element)});const se=un(W,(ve,Ne)=>ve+Ne,0);$u(y,se)},Vg=y=>ct(y,(S,T)=>Oe(S,M=>M.column===T.column)?S:S.concat([T]),[]).sort((S,T)=>S.column-T.column),Pd=Yo("col"),Tf=Yo("colgroup"),zb=y=>dt(y)==="tr"||Tf(y),Zk=y=>({element:y,colspan:ps(y,"colspan",1),rowspan:ps(y,"rowspan",1)}),Vb=y=>no(y,"scope").map(S=>S.substr(0,3)),Ac=(y,S=Zk)=>{const T=U=>{if(zb(U))return Tf((W={element:U}).element)?y.colgroup(W):y.row(W);{const ne=U,se=(ve=>Pd(ve.element)?y.col(ve):y.cell(ve))(S(ne));return M=oe.some({item:ne,replacement:se}),se}var W};let M=oe.none();return{getOrInit:(U,W)=>M.fold(()=>T(U),ne=>W(U,ne.item)?ne.replacement:T(U))}},gC=y=>S=>{const T=[],M=U=>{const W=y==="td"?{scope:null}:{},ne=S.replace(U,y,W);return T.push({item:U,sub:ne}),ne};return{replaceOrInit:(U,W)=>{if(zb(U)||Pd(U))return U;{const ne=U;return((se,ve)=>_n(T,Ne=>ve(Ne.item,se)))(ne,W).fold(()=>M(ne),se=>W(U,se.item)?se.sub:M(ne))}}}},dx=y=>({unmerge:S=>{const T=Vb(S);return T.each(M=>ar(S,"scope",M)),()=>{const M=y.cell({element:S,colspan:1,rowspan:1});return ul(M,"width"),ul(S,"width"),T.each(U=>ar(M,"scope",U)),M}},merge:S=>(ul(S[0],"width"),(()=>{const T=Qt(P(S,Vb));if(T.length===0)return oe.none();{const M=T[0],U=["row","col"];return Oe(T,W=>W!==M&&st(U,W))?oe.none():oe.from(M)}})().fold(()=>bo(S[0],"scope"),T=>ar(S[0],"scope",T+"group")),Z(S[0]))}),Ug=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],oi=xf(),Wg=y=>((S,T)=>{const M=S.property().name(T);return st(Ug,M)})(oi,y),Zg=y=>((S,T)=>{const M=S.property().name(T);return st(["ol","ul"],M)})(oi,y),K0=y=>{const S=Yo("br"),T=U=>nu(U).bind(W=>{const ne=Pl(W).map(se=>!!Wg(se)||!!((ve,Ne)=>st(["br","img","hr","input"],ve.property().name(Ne)))(oi,se)&&dt(se)!=="img").getOr(!1);return ll(W).map(se=>{return ne===!0||dt(ve=se)==="li"||ke(ve,Zg).isSome()||S(W)||Wg(se)&&!Pr(U,se)?[]:[Zt.fromTag("br")];var ve})}).getOr([]),M=(()=>{const U=Je(y,W=>{const ne=xa(W);return(se=>Tt(se,ve=>S(ve)||_o(ve)&&wm(ve).trim().length===0))(ne)?[]:ne.concat(T(W))});return U.length===0?[Zt.fromTag("br")]:U})();cl(y[0]),Sl(y[0],M)},Uo=y=>ro(y,!0),hl=y=>{bs(y).length===0&&Xr(y)},Zu=(y,S)=>({grid:y,cursor:S}),vi=(y,S,T)=>{const M=((U,W,ne)=>{var se,ve;const Ne=Wr(U).rows;return oe.from((ve=(se=Ne[W])===null||se===void 0?void 0:se.cells[ne])===null||ve===void 0?void 0:ve.element).filter(Uo).orThunk(()=>(Ge=>Q(Ge,Te=>Q(Te.cells,Me=>{const ze=Me.element;return ln(Uo(ze),ze)})))(Ne))})(y,S,T);return Zu(y,M)},$r=y=>ct(y,(S,T)=>Oe(S,M=>M.row===T.row)?S:S.concat([T]),[]).sort((S,T)=>S.row-T.row),Ub=(y,S)=>(T,M,U,W,ne)=>{const se=$r(M),ve=P(se,Ge=>Ge.row),Ne=((Ge,Te,Me,ze,ot,at,At)=>{const{cols:Rt,rows:Et}=Wr(Ge),Pt=Et[Te[0]],jt=Je(Te,Qn=>((Wn,go,Mo)=>{const qs=Wn[go];return Je(qs.cells,(yi,za)=>ix(Wn,go,za,Mo)?[]:[yi])})(Et,Qn,ot)),Xt=P(Pt.cells,(Qn,Wn)=>Jl(cx(Et,Wn,ot))),lt=[...Et];St(Te,Qn=>{lt[Qn]=At.transformRow(Et[Qn],Me)});const bn=[...Rt,...lt],Un=((Qn,Wn)=>Tt(Wn,te)&&Jl(Qn.cells)?de:(go,Mo,qs)=>!(dt(go.element)==="th"&&Wn[qs]))(Pt,Xt),ho=((Qn,Wn)=>(go,Mo,qs)=>oe.some(lx(Qn,go.element,"col",Wn[qs])))(ze,Xt);return ep(bn,jt,ot,at,At.transformCell,ho,Un)})(T,ve,y,S,U,W.replaceOrInit,ne);return vi(Ne,M[0].row,M[0].column)},hC=Ub("thead",!0),jk=Ub("tbody",!1),es=Ub("tfoot",!1),q0=(y,S,T)=>{const M=((W,ne)=>El(W,()=>ne))(y,T.section),U=Qs(M);return ms(U,S,!0)},fx=(y,S,T,M)=>((U,W,ne,se)=>{const ve=Qs(W),Ne=se.getWidths(ve,se);ux(ve,Ne,se)})(0,S,0,M.sizing),Dm=(y,S,T,M)=>((U,W,ne,se,ve)=>{const Ne=Qs(W),Ge=se.getWidths(Ne,se),Te=se.pixelWidth(),{newSizes:Me,delta:ze}=ve.calcRedestributedWidths(Ge,Te,ne.pixelDelta,se.isRelative);ux(Ne,Me,se),se.adjustTableWidth(ze)})(0,S,T,M.sizing,M.resize),Tc=(y,S)=>Oe(S,T=>T.column===0&&T.isLocked),np=(y,S)=>Oe(S,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),pn=(y,S)=>{const T=Vh(y),M=Vg(S);return ct(M,(U,W)=>U+T[W.column].map(Rg).getOr(0),0)},iu=y=>(S,T)=>Nd(S,T).filter(M=>!(y?Tc:np)(S,M)).map(M=>({details:M,pixelDelta:pn(S,M)})),mx=y=>(S,T)=>Ql(S,T).filter(M=>!(y?Tc:np)(S,M.cells)),G0=gC("th"),op=gC("td"),Y0=Ls((y,S,T,M)=>{const U=S[0].row,W=$r(S),ne=un(W,(se,ve)=>({grid:ax(se.grid,U,ve.row+se.delta,T,M.getOrInit),delta:se.delta+1}),{grid:y,delta:0}).grid;return vi(ne,U,S[0].column)},Nd,V,V,Ac),jg=Ls((y,S,T,M)=>{const U=$r(S),W=U[U.length-1],ne=W.row+W.rowspan,se=un(U,(ve,Ne)=>ax(ve,ne,Ne.row,T,M.getOrInit),y);return vi(se,ne,S[0].column)},Nd,V,V,Ac),Oc=Ls((y,S,T,M)=>{const U=S.details,W=Vg(U),ne=W[0].column,se=un(W,(ve,Ne)=>({grid:Mb(ve.grid,ne,Ne.column+ve.delta,T,M.getOrInit),delta:ve.delta+1}),{grid:y,delta:0}).grid;return vi(se,U[0].row,ne)},iu(!0),Dm,V,Ac),Kk=Ls((y,S,T,M)=>{const U=S.details,W=U[U.length-1],ne=W.column+W.colspan,se=Vg(U),ve=un(se,(Ne,Ge)=>Mb(Ne,ne,Ge.column,T,M.getOrInit),y);return vi(ve,U[0].row,ne)},iu(!1),Dm,V,Ac),X0=Ls((y,S,T,M)=>{const U=Vg(S.details),W=((se,ve)=>Je(se,Ne=>{const Ge=Ne.cells,Te=un(ve,(Me,ze)=>ze>=0&&ze<Me.length?Me.slice(0,ze).concat(Me.slice(ze+1)):Me,Ge);return Te.length>0?[Js(Ne.element,Te,Ne.section,Ne.isNew)]:[]}))(y,P(U,se=>se.column)),ne=W.length>0?W[0].cells.length-1:0;return vi(W,U[0].row,Math.min(U[0].column,ne))},(y,S)=>$a(y,S).map(T=>({details:T,pixelDelta:-pn(y,T)})),Dm,hl,Ac),gx=Ls((y,S,T,M)=>{const U=$r(S),W=((se,ve,Ne)=>{const{rows:Ge,cols:Te}=Wr(se);return[...Te,...Ge.slice(0,ve),...Ge.slice(Ne+1)]})(y,U[0].row,U[U.length-1].row),ne=Math.max(Wr(W).rows.length-1,0);return vi(W,Math.min(S[0].row,ne),S[0].column)},Nd,V,hl,Ac),J0=Ls((y,S,T,M)=>{const U=Vg(S),W=P(U,se=>se.column),ne=$b(y,W,!0,T,M.replaceOrInit);return vi(ne,S[0].row,S[0].column)},$a,V,V,G0),hx=Ls((y,S,T,M)=>{const U=Vg(S),W=P(U,se=>se.column),ne=$b(y,W,!1,T,M.replaceOrInit);return vi(ne,S[0].row,S[0].column)},$a,V,V,op),px=Ls(hC,$a,V,V,G0),Q0=Ls(jk,$a,V,V,op),bx=Ls(es,$a,V,V,op),vx=Ls((y,S,T,M)=>{const U=Hb(y,S,T,M.replaceOrInit);return vi(U,S[0].row,S[0].column)},$a,V,V,G0),pC=Ls((y,S,T,M)=>{const U=Hb(y,S,T,M.replaceOrInit);return vi(U,S[0].row,S[0].column)},$a,V,V,op),qk=Ls((y,S,T,M)=>{const U=S.cells;K0(U);const W=((ne,se,ve,Ne)=>{const Ge=Wr(ne).rows;if(Ge.length===0)return ne;for(let Te=se.startRow;Te<=se.finishRow;Te++)for(let Me=se.startCol;Me<=se.finishCol;Me++){const ze=Ge[Te],ot=Ds(ze,Me).isLocked;Ig(ze,Me,Ss(Ne(),!1,ot))}return ne})(y,S.bounds,0,M.merge(U));return Zu(W,oe.from(U[0]))},(y,S)=>((T,M)=>M.mergable)(0,S).filter(T=>Lb(y,T.cells)),fx,V,dx),Wb=Ls((y,S,T,M)=>{const U=un(S,(W,ne)=>Jh(W,ne,T,M.unmerge(ne)),y);return Zu(U,oe.from(S[0]))},(y,S)=>((T,M)=>M.unmergable)(0,S).filter(T=>Lb(y,T)),fx,V,dx),yx=Ls((y,S,T,M)=>{const U=((se,ve)=>{const Ne=Co(se);return ms(Ne,ve,!0)})(S.clipboard,S.generators);var W,ne;return((se,ve,Ne,Ge,Te)=>{const Me=Ai(ve),ze=((Rt,Et,Pt)=>{const jt=La(Et[0]),Xt=Wr(Et).cols.length+Rt.row,lt=Be(jt-Rt.column,bn=>bn+Rt.column);return{row:Xt,column:_n(lt,bn=>Tt(Pt,Un=>Un!==bn)).getOr(jt-1)}})(se,ve,Me),ot=Wr(Ne).rows,at=Z0(ze,ot,Me);return((Rt,Et,Pt)=>{if(Rt.row>=Et.length||Rt.column>La(Et[0]))return Qh.error("invalid start address out of table bounds, row: "+Rt.row+", column: "+Rt.column);const jt=Et.slice(Rt.row),Xt=jt[0].cells.slice(Rt.column),lt=La(Pt[0]),bn=Pt.length;return Qh.value({rowDelta:jt.length-bn,colDelta:Xt.length-lt})})(ze,ve,ot).map(Rt=>{const Et={...Rt,colDelta:Rt.colDelta-at.length},Pt=Tm(ve,Et,Ge),jt=Ai(Pt),Xt=Z0(ze,ot,jt);return((lt,bn,Un,ho,Qn,Wn)=>{const go=lt.row,Mo=lt.column,qs=go+Un.length,yi=Mo+La(Un[0])+Wn.length,za=Gn(Wn,de);for(let tc=go;tc<qs;tc++){let Um=0;for(let xi=Mo;xi<yi;xi++){if(za[xi]){Um++;continue}Wk(bn,tc,xi,Qn)&&Jh(bn,Qr(bn[tc],xi),Qn,ho.cell);const qu=xi-Mo-Um,dp=Ds(Un[tc-go],qu),Vf=dp.element,fp=ho.replace(Vf);Ig(bn[tc],xi,Ss(fp,!0,dp.isLocked))}}return bn})(ze,Pt,ot,Ge,Te,Xt)})})((W=S.row,ne=S.column,{row:W,column:ne}),y,U,S.generators,T).fold(()=>Zu(y,oe.some(S.element)),se=>vi(se,S.row,S.column))},(y,S)=>$h(S.element).bind(T=>xs(y,T).map(M=>({...M,generators:S.generators,clipboard:S.clipboard}))),fx,V,Ac),Kg=Ls((y,S,T,M)=>{const U=Wr(y).rows,W=S.cells[0].column,ne=U[S.cells[0].row],se=q0(S.clipboard,S.generators,ne),ve=j0(W,y,se,S.generators,T);return vi(ve,S.cells[0].row,S.cells[0].column)},mx(!0),V,V,Ac),Gk=Ls((y,S,T,M)=>{const U=Wr(y).rows,W=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,ne=U[S.cells[0].row],se=q0(S.clipboard,S.generators,ne),ve=j0(W,y,se,S.generators,T);return vi(ve,S.cells[0].row,W)},mx(!1),V,V,Ac),Yk=Ls((y,S,T,M)=>{const U=Wr(y).rows,W=S.cells[0].row,ne=U[W],se=q0(S.clipboard,S.generators,ne),ve=sx(W,y,se,S.generators,T);return vi(ve,S.cells[0].row,S.cells[0].column)},Ql,V,V,Ac),Of=Ls((y,S,T,M)=>{const U=Wr(y).rows,W=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,ne=U[S.cells[0].row],se=q0(S.clipboard,S.generators,ne),ve=sx(W,y,se,S.generators,T);return vi(ve,W,S.cells[0].column)},Ql,V,V,Ac),Rm=(y,S)=>{const T=Co(y);return Nd(T,S).bind(M=>{const U=M[M.length-1],W=M[0].column,ne=U.column+U.colspan,se=Lt(P(T.all,ve=>tn(ve.cells,Ne=>Ne.column>=W&&Ne.column<ne)));return _a(se)}).getOr("")},e1=(y,S)=>{const T=Co(y);return Nd(T,S).bind(_a).getOr("")},bC=(y,S)=>{const T=Co(y);return Nd(T,S).bind(M=>{const U=M[M.length-1],W=M[0].row,ne=U.row+U.rowspan;return(se=>{const ve=P(se,Te=>Nb(Te).type),Ne=st(ve,"header"),Ge=st(ve,"footer");if(Ne||Ge){const Te=st(ve,"body");return!Ne||Te||Ge?Ne||Te||!Ge?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(T.all.slice(W,ne))}).getOr("")},xx=(y,S)=>y.dispatch("NewRow",{node:S}),Zb=(y,S)=>y.dispatch("NewCell",{node:S}),Ld=(y,S,T)=>{y.dispatch("TableModified",{...T,table:S})},t1={structure:!1,style:!0},la={structure:!0,style:!1},As={structure:!0,style:!0},Df=(y,S)=>Vu(y)?zu(S):L(y)?ds(S):Zh(S),wx=(y,S,T)=>{const M=Ge=>dt(ir(Ge))==="table",U=Od(y),W=Eb(y)?V:Xh,ne=Ge=>{switch(Cm(y)){case"section":return ka();case"sectionCells":return dC();case"cells":return fC();default:return((Te,Me)=>{var ze;switch((ze=Co(Te),Q(ze.all,ot=>{const at=Nb(ot);return at.type==="header"?oe.from(at.subType):oe.none()})).getOr(Me)){case"section":return Sa();case"sectionCells":return Vt();case"cells":return Am()}})(Ge,"section")}},se=(Ge,Te,Me,ze)=>(ot,at,At=!1)=>{fs(ot);const Rt=Zt.fromDom(y.getDoc()),Et=Zr(Me,Rt,U),Pt={sizing:Df(y,ot),resize:Eb(y)?Wu():H0(),section:ne(ot)};return Te(ot)?Ge(ot,at,Et,Pt).bind(jt=>{S.refresh(ot.dom),St(jt.newRows,lt=>{xx(y,lt.dom)}),St(jt.newCells,lt=>{Zb(y,lt.dom)});const Xt=((lt,bn)=>bn.cursor.fold(()=>{const Un=bs(lt);return Xn(Un).filter(ji).map(ho=>{T.clearSelectedCells(lt.dom);const Qn=y.dom.createRng();return Qn.selectNode(ho.dom),y.selection.setRng(Qn),ar(ho,"data-mce-selected","1"),Qn})},Un=>{const ho=tx(Yh,Un),Qn=y.dom.createRng();return Qn.setStart(ho.element.dom,ho.offset),Qn.setEnd(ho.element.dom,ho.offset),y.selection.setRng(Qn),T.clearSelectedCells(lt.dom),oe.some(Qn)}))(ot,jt);return ji(ot)&&(fs(ot),At||Ld(y,ot.dom,ze)),Xt.map(lt=>({rng:lt,effect:ze}))}):oe.none()},ve=se(gx,Ge=>!M(y)||au(Ge).rows>1,V,la),Ne=se(X0,Ge=>!M(y)||au(Ge).columns>1,V,la);return{deleteRow:ve,deleteColumn:Ne,insertRowsBefore:se(Y0,de,V,la),insertRowsAfter:se(jg,de,V,la),insertColumnsBefore:se(Oc,de,W,la),insertColumnsAfter:se(Kk,de,W,la),mergeCells:se(qk,de,V,la),unmergeCells:se(Wb,de,V,la),pasteColsBefore:se(Kg,de,V,la),pasteColsAfter:se(Gk,de,V,la),pasteRowsBefore:se(Yk,de,V,la),pasteRowsAfter:se(Of,de,V,la),pasteCells:se(yx,de,V,As),makeCellsHeader:se(vx,de,V,la),unmakeCellsHeader:se(pC,de,V,la),makeColumnsHeader:se(J0,de,V,la),unmakeColumnsHeader:se(hx,de,V,la),makeRowsHeader:se(px,de,V,la),makeRowsBody:se(Q0,de,V,la),makeRowsFooter:se(bx,de,V,la),getTableRowType:bC,getTableCellType:e1,getTableColType:Rm}},n1=(y,S,T)=>{const M=ps(y,S,1);T===1||M<=1?bo(y,S):ar(y,S,Math.min(T,M))},Ha=(y,S)=>T=>{const M=T.column+T.colspan-1,U=T.column;return M>=y&&U<S},Qi=Om([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),qg=(y,S,T)=>{const M=T.substring(0,T.length-y.length),U=parseFloat(M);return M===U.toString()?S(U):Qi.invalid(T)},Rf={...Qi,from:y=>nn(y,"%")?qg("%",Qi.percent,y):nn(y,"px")?qg("px",Qi.pixels,y):Qi.invalid(y)},Nm=(y,S,T)=>{const M=Rf.from(T),U=Tt(y,W=>W==="0px")?((W,ne)=>{const se=W.fold(()=>Z(""),ve=>Z(ve/ne+"px"),()=>Z(100/ne+"%"));return Be(ne,se)})(M,y.length):((W,ne,se)=>W.fold(()=>ne,ve=>((Ne,Ge,Te)=>{const Me=Te/Ge;return P(Ne,ze=>Rf.from(ze).fold(()=>ze,ot=>ot*Me+"px",ot=>ot/100*Te+"px"))})(ne,se,ve),ve=>((Ne,Ge)=>P(Ne,Te=>Rf.from(Te).fold(()=>Te,Me=>Me/Ge*100+"%",Me=>Me+"%")))(ne,se)))(M,y,S);return Cx(U)},o1=(y,S)=>y.length===0?S:un(y,(T,M)=>Rf.from(M).fold(Z(0),te,te)+T,0),vC=(y,S)=>Rf.from(y).fold(Z(y),T=>T+S+"px",T=>T+S+"%"),Cx=y=>{if(y.length===0)return y;const S=un(y,(M,U)=>{const W=Rf.from(U).fold(()=>({value:U,remainder:0}),ne=>((se,ve)=>{const Ne=Math.floor(se);return{value:Ne+"px",remainder:se-Ne}})(ne),ne=>({value:ne+"%",remainder:0}));return{output:[W.value].concat(M.output),remainder:M.remainder+W.remainder}},{output:[],remainder:0}),T=S.output;return T.slice(0,T.length-1).concat([vC(T[T.length-1],Math.round(S.remainder))])},Im=Rf.from,Hr=(y,S,T)=>{const M=Co(y),U=M.all,W=Dn(M),ne=vc(M);S.each(se=>{const ve=Im(se).fold(Z("px"),Z("px"),Z("%")),Ne=fl(y),Ge=((Me,ze)=>aa(Me,ze,Oi,Wh))(M,y),Te=Nm(Ge,Ne,se);yc(M)?((Me,ze,ot)=>{St(ze,(at,At)=>{const Rt=o1([Me[At]],Bl());xo(at.element,"width",Rt+ot)})})(Te,ne,ve):((Me,ze,ot)=>{St(ze,at=>{const At=Me.slice(at.column,at.colspan+at.column),Rt=o1(At,Bl());xo(at.element,"width",Rt+ot)})})(Te,W,ve),xo(y,"width",se)}),T.each(se=>{const ve=Ad(y),Ne=((Ge,Te)=>Ma(Ge,Te,bi,Wh))(M,y);((Ge,Te,Me)=>{St(Me,ze=>{ul(ze.element,"height")}),St(Te,(ze,ot)=>{xo(ze.element,"height",Ge[ot])})})(Nm(Ne,ve,se),U,W),xo(y,"height",se)})},r1=y=>Yl(y).exists(S=>ma.test(S)),ts=y=>Yl(y).exists(S=>Ln.test(S)),ju=y=>Yl(y).isNone(),lu=y=>{bo(y,"width"),bo(y,"height")},Gg=y=>{const S=vf(y);Hr(y,oe.some(S),oe.none()),lu(y)},pl=y=>{const S=(T=>fl(T)+"px")(y);Hr(y,oe.some(S),oe.none()),lu(y)},ri=y=>{ul(y,"width");const S=bc(y),T=S.length>0?S:bs(y);St(T,M=>{ul(M,"width"),lu(M)}),lu(y)},Pm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},jb=(y,S,T,M)=>Be(y,U=>((W,ne,se,ve)=>{const Ne=Zt.fromTag("tr");for(let Ge=0;Ge<W;Ge++){const Te=Zt.fromTag(ve<ne||Ge<se?"th":"td");Ge<se&&ar(Te,"scope","row"),ve<ne&&ar(Te,"scope","col"),ss(Te,Zt.fromTag("br")),ss(Ne,Te)}return Ne})(S,T,M,U)),Yg=(y,S)=>{y.selection.select(S.dom,!0),y.selection.collapse(!0)},Kb=(y,S,T,M,U)=>{const W=(se=>{const ve=se.options,Ne=ve.get("table_default_styles");return ve.isSet("table_default_styles")?Ne:((Ge,Te)=>K(Ge)||!Re(Ge)?Te:L(Ge)?{...Te,width:ou(Ge)}:{...Te,width:Fl})(se,Ne)})(y),ne={styles:W,attributes:Dt(y),colGroups:Bn(y)};return y.undoManager.ignore(()=>{const se=((Ne,Ge,Te,Me,ze,ot=Pm)=>{const at=Zt.fromTag("table"),At=ze!=="cells";Ll(at,ot.styles),Pa(at,ot.attributes),ot.colGroups&&ss(at,(jt=>{const Xt=Zt.fromTag("colgroup");return Be(jt,()=>ss(Xt,Zt.fromTag("col"))),Xt})(Ge));const Rt=Math.min(Ne,Te);if(At&&Te>0){const jt=Zt.fromTag("thead");ss(at,jt);const Xt=jb(Te,Ge,ze==="sectionCells"?Rt:0,Me);Sl(jt,Xt)}const Et=Zt.fromTag("tbody");ss(at,Et);const Pt=jb(At?Ne-Rt:Ne,Ge,At?0:Te,Me);return Sl(Et,Pt),at})(T,S,U,M,Cm(y),ne);ar(se,"data-mce-id","__mce");const ve=(Ne=>{const Ge=Zt.fromTag("div"),Te=Zt.fromDom(Ne.dom.cloneNode(!0));return ss(Ge,Te),(Me=>Me.dom.innerHTML)(Ge)})(se);y.insertContent(ve),y.addVisual()}),ut(ir(y),'table[data-mce-id="__mce"]').map(se=>(L(y)?pl(se):K(y)?ri(se):(Vu(y)||(ve=>g(ve)&&ve.indexOf("%")!==-1)(W.width))&&Gg(se),fs(se),bo(se,"data-mce-id"),((ve,Ne)=>{St(Er(Ne,"tr"),Ge=>{xx(ve,Ge.dom),St(Er(Ge,"th,td"),Te=>{Zb(ve,Te.dom)})})})(y,se),((ve,Ne)=>{ut(Ne,"td,th").each(X(Yg,ve))})(y,se),se.dom)).getOrNull()};var Xg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const yC="x-tinymce/dom-table-",_x=yC+"rows",Sx=yC+"columns",xC=y=>{const S=Xg.FakeClipboardItem(y);Xg.write([S])},si=y=>{var S;const T=(S=Xg.read())!==null&&S!==void 0?S:[];return Q(T,M=>oe.from(M.getType(y)))},Lm=y=>{si(y).isSome()&&Xg.clear()},wC=y=>{y.fold(el,S=>xC({[_x]:S}))},Dc=()=>si(_x),el=()=>Lm(_x),Jg=y=>{y.fold(CC,S=>xC({[Sx]:S}))},rp=()=>si(Sx),CC=()=>Lm(Sx),ws=y=>kf(Cc(y),Is(y)).filter(F0),Cs=(y,S)=>{const T=Is(y),M=Te=>dl(Te,T),U=Te=>(Me=>as(Cc(Me),Is(Me)).filter(F0))(y).bind(Me=>M(Me).map(ze=>Te(ze,Me))),W=Te=>{y.focus()},ne=(Te,Me=!1)=>U((ze,ot)=>{const at=wo(Sc(y),ze,ot);Te(ze,at,Me).each(W)}),se=()=>U((Te,Me)=>((ze,ot,at)=>{const At=Co(ze);return Nd(At,ot).bind(Rt=>{const Et=ms(At,at,!1),Pt=Wr(Et).rows.slice(Rt[0].row,Rt[Rt.length-1].row+Rt[Rt.length-1].rowspan),jt=Je(Pt,lt=>{const bn=tn(lt.cells,Un=>!Un.isLocked);return bn.length>0?[{...lt,cells:bn}]:[]}),Xt=Pb(jt);return ln(Xt.length>0,Xt)}).map(Rt=>P(Rt,Et=>{const Pt=fm(Et.element);return St(Et.cells,jt=>{const Xt=Zc(jt.element);Rd(Xt,"colspan",jt.colspan,1),Rd(Xt,"rowspan",jt.rowspan,1),ss(Pt,Xt)}),Pt}))})(Te,wo(Sc(y),Te,Me),Zr(V,Zt.fromDom(y.getDoc()),oe.none()))),ve=()=>U((Te,Me)=>((ze,ot)=>{const at=Co(ze);return $a(at,ot).map(At=>{const Rt=At[At.length-1],Et=At[0].column,Pt=Rt.column+Rt.colspan,jt=((lt,bn,Un)=>{if(yc(lt)){const ho=tn(vc(lt),Ha(bn,Un)),Qn=P(ho,go=>{const Mo=Zc(go.element);return n1(Mo,"span",Un-bn),Mo}),Wn=Zt.fromTag("colgroup");return Sl(Wn,Qn),[Wn]}return[]})(at,Et,Pt),Xt=((lt,bn,Un)=>P(lt.all,ho=>{const Qn=tn(ho.cells,Ha(bn,Un)),Wn=P(Qn,Mo=>{const qs=Zc(Mo.element);return n1(qs,"colspan",Un-bn),qs}),go=Zt.fromTag("tr");return Sl(go,Wn),go}))(at,Et,Pt);return[...jt,...Xt]})})(Te,wo(Sc(y),Te,Me))),Ne=(Te,Me)=>Me().each(ze=>{const ot=P(ze,at=>Zc(at));U((at,At)=>{const Rt=Cr(Zt.fromDom(y.getDoc())),Et=((Pt,jt,Xt,lt)=>({selection:_f(Pt),clipboard:Xt,generators:lt}))(Sc(y),0,ot,Rt);Te(at,Et).each(W)})}),Ge=Te=>(Me,ze)=>((ot,at)=>Fe(ot,at)?oe.from(ot[at]):oe.none())(ze,"type").each(ot=>{ne(Te(ot),ze.no_events)});Do({mceTableSplitCells:()=>ne(S.unmergeCells),mceTableMergeCells:()=>ne(S.mergeCells),mceTableInsertRowBefore:()=>ne(S.insertRowsBefore),mceTableInsertRowAfter:()=>ne(S.insertRowsAfter),mceTableInsertColBefore:()=>ne(S.insertColumnsBefore),mceTableInsertColAfter:()=>ne(S.insertColumnsAfter),mceTableDeleteCol:()=>ne(S.deleteColumn),mceTableDeleteRow:()=>ne(S.deleteRow),mceTableCutCol:()=>ve().each(Te=>{Jg(Te),ne(S.deleteColumn)}),mceTableCutRow:()=>se().each(Te=>{wC(Te),ne(S.deleteRow)}),mceTableCopyCol:()=>ve().each(Te=>Jg(Te)),mceTableCopyRow:()=>se().each(Te=>wC(Te)),mceTablePasteColBefore:()=>Ne(S.pasteColsBefore,rp),mceTablePasteColAfter:()=>Ne(S.pasteColsAfter,rp),mceTablePasteRowBefore:()=>Ne(S.pasteRowsBefore,Dc),mceTablePasteRowAfter:()=>Ne(S.pasteRowsAfter,Dc),mceTableDelete:()=>ws(y).each(Te=>{dl(Te,T).filter(Se(T)).each(Me=>{const ze=Zt.fromText("");if(Nu(Me,ze),Xr(Me),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const ot=y.dom.createRng();ot.setStart(ze.dom,0),ot.setEnd(ze.dom,0),y.selection.setRng(ot),y.nodeChanged()}})}),mceTableCellToggleClass:(Te,Me)=>{U(ze=>{const ot=Sc(y),at=Tt(ot,Rt=>y.formatter.match("tablecellclass",{value:Me},Rt.dom)),At=at?y.formatter.remove:y.formatter.apply;St(ot,Rt=>At("tablecellclass",{value:Me},Rt.dom)),Ld(y,ze.dom,t1)})},mceTableToggleClass:(Te,Me)=>{U(ze=>{y.formatter.toggle("tableclass",{value:Me},ze.dom),Ld(y,ze.dom,t1)})},mceTableToggleCaption:()=>{ws(y).each(Te=>{dl(Te,T).each(Me=>{gt(Me,"caption").fold(()=>{const ze=Zt.fromTag("caption");ss(ze,Zt.fromText("Caption")),((ot,at,At)=>{Ru(ot,0).fold(()=>{ss(ot,at)},Rt=>{rn(Rt,at)})})(Me,ze),y.selection.setCursorLocation(ze.dom,0)},ze=>{Yo("caption")(Te)&&Il("td",Me).each(ot=>y.selection.setCursorLocation(ot.dom,0)),Xr(ze)}),Ld(y,Me.dom,la)})})},mceTableSizingMode:(Te,Me)=>(ze=>ws(y).each(ot=>{K(y)||L(y)||Vu(y)||dl(ot,T).each(at=>{ze!=="relative"||r1(at)?ze!=="fixed"||ts(at)?ze!=="responsive"||ju(at)||ri(at):pl(at):Gg(at),fs(at),Ld(y,at.dom,la)})}))(Me),mceTableCellType:Ge(Te=>Te==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:Ge(Te=>Te==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:Ge(Te=>{switch(Te){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Te,Me)=>y.addCommand(Me,Te)),y.addCommand("mceInsertTable",(Te,Me)=>{((ze,ot,at,At={})=>{const Rt=Et=>H(Et)&&Et>0;if(Rt(ot)&&Rt(at)){const Et=At.headerRows||0,Pt=At.headerColumns||0;return Kb(ze,at,ot,Pt,Et)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Me.rows,Me.columns,Me.options)}),y.addCommand("mceTableApplyCellStyle",(Te,Me)=>{const ze=At=>"tablecell"+At.toLowerCase().replace("-","");if(!h(Me))return;const ot=tn(Sc(y),F0);if(ot.length===0)return;const at=((At,Rt)=>{const Et={};return((Pt,jt,Xt,lt)=>{Do(Pt,(bn,Un)=>{(jt(bn,Un)?Xt:lt)(bn,Un)})})(At,Rt,(Pt=>(jt,Xt)=>{Pt[Xt]=jt})(Et),V),Et})(Me,(At,Rt)=>y.formatter.has(ze(Rt))&&g(At));(At=>{for(const Rt in At)if($o.call(At,Rt))return!1;return!0})(at)||(Do(at,(At,Rt)=>{const Et=ze(Rt);St(ot,Pt=>{At===""?y.formatter.remove(Et,{value:null},Pt.dom,!0):y.formatter.apply(Et,{value:At},Pt.dom)})}),M(ot[0]).each(At=>Ld(y,At.dom,t1)))})},Ks=Om([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Tr={before:Ks.before,on:Ks.on,after:Ks.after,cata:(y,S,T,M)=>y.fold(S,T,M),getStart:y=>y.fold(te,te,te)},gs=(y,S)=>({selection:y,kill:S}),Bs=(y,S)=>{const T=y.document.createRange();return T.selectNode(S.dom),T},s1=(y,S)=>{const T=y.document.createRange();return a1(T,S),T},a1=(y,S)=>y.selectNodeContents(S.dom),kx=(y,S,T)=>{const M=y.document.createRange();var U;return U=M,S.fold(W=>{U.setStartBefore(W.dom)},(W,ne)=>{U.setStart(W.dom,ne)},W=>{U.setStartAfter(W.dom)}),((W,ne)=>{ne.fold(se=>{W.setEndBefore(se.dom)},(se,ve)=>{W.setEnd(se.dom,ve)},se=>{W.setEndAfter(se.dom)})})(M,T),M},qb=(y,S,T,M,U)=>{const W=y.document.createRange();return W.setStart(S.dom,T),W.setEnd(M.dom,U),W},Ex=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Qg=Om([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),i1=(y,S,T)=>S(Zt.fromDom(T.startContainer),T.startOffset,Zt.fromDom(T.endContainer),T.endOffset),l1=(y,S)=>{const T=((M,U)=>U.match({domRange:W=>({ltr:Z(W),rtl:oe.none}),relative:(W,ne)=>({ltr:wa(()=>kx(M,W,ne)),rtl:wa(()=>oe.some(kx(M,ne,W)))}),exact:(W,ne,se,ve)=>({ltr:wa(()=>qb(M,W,ne,se,ve)),rtl:wa(()=>oe.some(qb(M,se,ve,W,ne)))})}))(y,S);return((M,U)=>{const W=U.ltr();return W.collapsed?U.rtl().filter(ne=>ne.collapsed===!1).map(ne=>Qg.rtl(Zt.fromDom(ne.endContainer),ne.endOffset,Zt.fromDom(ne.startContainer),ne.startOffset)).getOrThunk(()=>i1(0,Qg.ltr,W)):i1(0,Qg.ltr,W)})(0,T)},Ax=(y,S)=>l1(y,S).match({ltr:(T,M,U,W)=>{const ne=y.document.createRange();return ne.setStart(T.dom,M),ne.setEnd(U.dom,W),ne},rtl:(T,M,U,W)=>{const ne=y.document.createRange();return ne.setStart(U.dom,W),ne.setEnd(T.dom,M),ne}});Qg.ltr,Qg.rtl;const Gb=(y,S,T,M)=>({start:y,soffset:S,finish:T,foffset:M}),bl=(y,S,T,M)=>({start:Tr.on(y,S),finish:Tr.on(T,M)}),Tx=(y,S)=>{const T=Ax(y,S);return Gb(Zt.fromDom(T.startContainer),T.startOffset,Zt.fromDom(T.endContainer),T.endOffset)},Ii=bl,Yb=(y,S,T,M,U)=>Pr(T,M)?oe.none():ru(T,M,S).bind(W=>{const ne=W.boxes.getOr([]);return ne.length>1?(U(y,ne,W.start,W.finish),oe.some(gs(oe.some(Ii(T,0,T,Rs(T))),!0))):oe.none()}),eh=(y,S)=>({item:y,mode:S}),cu=(y,S,T,M=Ms)=>y.property().parent(S).map(U=>eh(U,M)),Ms=(y,S,T,M=Bm)=>T.sibling(y,S).map(U=>eh(U,M)),Bm=(y,S,T,M=Bm)=>{const U=y.property().children(S);return T.first(U).map(W=>eh(W,M))},Ox=[{current:cu,next:Ms,fallback:oe.none()},{current:Ms,next:Bm,fallback:oe.some(cu)},{current:Bm,next:Bm,fallback:oe.some(Ms)}],Dx=(y,S,T,M,U=Ox)=>_n(U,W=>W.current===T).bind(W=>W.current(y,S,M,W.next).orThunk(()=>W.fallback.bind(ne=>Dx(y,S,ne,M)))),Xb=(y,S,T,M,U,W)=>Dx(y,S,M,U).bind(ne=>W(ne.item)?oe.none():T(ne.item)?oe.some(ne.item):Xb(y,ne.item,T,ne.mode,U,W)),Bd=y=>S=>y.property().children(S).length===0,Xk=(y,S,T,M)=>Xb(y,S,T,Ms,{sibling:(U,W)=>U.query().prevSibling(W),first:U=>U.length>0?oe.some(U[U.length-1]):oe.none()},M),Jb=(y,S,T,M)=>Xb(y,S,T,Ms,{sibling:(U,W)=>U.query().nextSibling(W),first:U=>U.length>0?oe.some(U[0]):oe.none()},M),Mm=xf(),_C=(y,S)=>((T,M,U)=>Xk(T,M,Bd(T),U))(Mm,y,S),Qb=(y,S)=>((T,M,U)=>Jb(T,M,Bd(T),U))(Mm,y,S),ev=Om([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),c1=y=>Qe(y,"tr"),sp={...ev,verify:(y,S,T,M,U,W,ne)=>Qe(M,"td,th",ne).bind(se=>Qe(S,"td,th",ne).map(ve=>Pr(se,ve)?Pr(M,se)&&Rs(se)===U?W(ve):ev.none("in same cell"):wf(c1,[se,ve]).fold(()=>((Ne,Ge,Te)=>{const Me=Ne.getRect(Ge),ze=Ne.getRect(Te);return ze.right>Me.left&&ze.left<Me.right})(y,ve,se)?ev.success():W(ve),Ne=>W(ve)))).getOr(ev.none("default")),cata:(y,S,T,M,U)=>y.fold(S,T,M,U)},u1=Yo("br"),Pi=(y,S,T)=>S(y,T).bind(M=>_o(M)&&wm(M).trim().length===0?Pi(M,S,T):oe.some(M)),Rx=(y,S,T,M)=>((U,W)=>Ru(U,W).filter(u1).orThunk(()=>Ru(U,W-1).filter(u1)))(S,T).bind(U=>M.traverse(U).fold(()=>Pi(U,M.gather,y).map(M.relative),W=>(ne=>ll(ne).bind(se=>{const ve=xa(se);return((Ne,Ge)=>Vn(Ne,X(Pr,Ge)))(ve,ne).map(Ne=>((Ge,Te,Me,ze)=>({parent:Ge,children:Te,element:Me,index:ze}))(se,ve,ne,Ne))}))(W).map(ne=>Tr.on(ne.parent,ne.index)))),Md=(y,S)=>({left:y.left,top:y.top+S,right:y.right,bottom:y.bottom+S}),tv=(y,S)=>({left:y.left,top:y.top-S,right:y.right,bottom:y.bottom-S}),Ku=(y,S,T)=>({left:y.left+S,top:y.top+T,right:y.right+S,bottom:y.bottom+T}),nv=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),ov=(y,S)=>oe.some(y.getRect(S)),Fm=(y,S,T)=>zn(S)?ov(y,S).map(nv):_o(S)?((M,U,W)=>W>=0&&W<Rs(U)?M.getRangedRect(U,W,U,W+1):W>0?M.getRangedRect(U,W-1,U,W):oe.none())(y,S,T).map(nv):oe.none(),th=(y,S)=>zn(S)?ov(y,S).map(nv):_o(S)?y.getRangedRect(S,0,S,Rs(S)).map(nv):oe.none(),Rc=Om([{none:[]},{retry:["caret"]}]),rv=(y,S,T)=>tt(S,Wg).fold(j,M=>th(y,M).exists(U=>((W,ne)=>W.left<ne.left||Math.abs(ne.right-W.left)<1||W.left>ne.right)(T,U))),Jk={point:y=>y.bottom,adjuster:(y,S,T,M,U)=>{const W=Md(U,5);return Math.abs(T.bottom-M.bottom)<1||T.top>U.bottom?Rc.retry(W):T.top===U.bottom?Rc.retry(Md(U,1)):rv(y,S,U)?Rc.retry(Ku(W,5,0)):Rc.none()},move:Md,gather:Qb},ec=(y,S,T,M,U)=>U===0?oe.some(M):((W,ne,se)=>W.elementFromPoint(ne,se).filter(ve=>dt(ve)==="table").isSome())(y,M.left,S.point(M))?((W,ne,se,ve,Ne)=>ec(W,ne,se,ne.move(ve,5),Ne))(y,S,T,M,U-1):y.situsFromPoint(M.left,S.point(M)).bind(W=>W.start.fold(oe.none,ne=>th(y,ne).bind(se=>S.adjuster(y,ne,se,T,M).fold(oe.none,ve=>ec(y,S,T,ve,U-1))).orThunk(()=>oe.some(M)),oe.none)),Fd=(y,S,T)=>{const M=y.move(T,5),U=ec(S,y,T,M,100).getOr(M);return((W,ne,se)=>W.point(ne)>se.getInnerHeight()?oe.some(W.point(ne)-se.getInnerHeight()):W.point(ne)<0?oe.some(-W.point(ne)):oe.none())(y,U,S).fold(()=>S.situsFromPoint(U.left,y.point(U)),W=>(S.scrollBy(0,W),S.situsFromPoint(U.left,y.point(U)-W)))},Nc={tryUp:X(Fd,{point:y=>y.top,adjuster:(y,S,T,M,U)=>{const W=tv(U,5);return Math.abs(T.top-M.top)<1||T.bottom<U.top?Rc.retry(W):T.bottom===U.top?Rc.retry(tv(U,1)):rv(y,S,U)?Rc.retry(Ku(W,5,0)):Rc.none()},move:tv,gather:_C}),tryDown:X(Fd,Jk),getJumpSize:Z(5)},Nx=(y,S,T)=>y.getSelection().bind(M=>((U,W,ne,se)=>(u1(W)?((Ne,Ge,Te)=>Te.traverse(Ge).orThunk(()=>Pi(Ge,Te.gather,Ne)).map(Te.relative))(U,W,se):Rx(U,W,ne,se)).map(Ne=>({start:Ne,finish:Ne})))(S,M.finish,M.foffset,T).fold(()=>oe.some(lo(M.finish,M.foffset)),U=>{const W=y.fromSitus(U);return ne=sp.verify(y,M.finish,M.foffset,W.finish,W.foffset,T.failure,S),sp.cata(ne,se=>oe.none(),()=>oe.none(),se=>oe.some(lo(se,0)),se=>oe.some(lo(se,Rs(se))));var ne})),ha=(y,S,T,M,U,W)=>W===0?oe.none():Qk(y,S,T,M,U).bind(ne=>{const se=y.fromSitus(ne),ve=sp.verify(y,T,M,se.finish,se.foffset,U.failure,S);return sp.cata(ve,()=>oe.none(),()=>oe.some(ne),Ne=>Pr(T,Ne)&&M===0?Ic(y,T,M,tv,U):ha(y,S,Ne,0,U,W-1),Ne=>Pr(T,Ne)&&M===Rs(Ne)?Ic(y,T,M,Md,U):ha(y,S,Ne,Rs(Ne),U,W-1))}),Ic=(y,S,T,M,U)=>Fm(y,S,T).bind(W=>vl(y,U,M(W,Nc.getJumpSize()))),vl=(y,S,T)=>{const M=L0().browser;return M.isChromium()||M.isSafari()||M.isFirefox()?S.retry(y,T):oe.none()},Qk=(y,S,T,M,U)=>Fm(y,T,M).bind(W=>vl(y,U,W)),Nf=(y,S,T,M,U)=>Qe(M,"td,th",S).bind(W=>Qe(W,"table",S).bind(ne=>((se,ve)=>ke(se,Ne=>ll(Ne).exists(Ge=>Pr(Ge,ve)),void 0).isSome())(U,ne)?((se,ve,Ne)=>Nx(se,ve,Ne).bind(Ge=>ha(se,ve,Ge.element,Ge.offset,Ne,20).map(se.fromSitus)))(y,S,T).bind(se=>Qe(se.finish,"td,th",S).map(ve=>({start:W,finish:ve,range:se}))):oe.none())),$d=(y,S,T,M,U,W)=>W(M,S).orThunk(()=>Nf(y,S,T,M,U).map(ne=>{const se=ne.range;return gs(oe.some(Ii(se.start,se.soffset,se.finish,se.foffset)),!0)})),ap=(y,S)=>Qe(y,"tr",S).bind(T=>Qe(T,"table",S).bind(M=>{const U=Er(M,"tr");return Pr(T,U[0])?((W,ne,se)=>Xk(Mm,W,ve=>nu(ve).isSome(),se))(M,0,S).map(W=>{const ne=Rs(W);return gs(oe.some(Ii(W,ne,W,ne)),!0)}):oe.none()})),$m=(y,S)=>Qe(y,"tr",S).bind(T=>Qe(T,"table",S).bind(M=>{const U=Er(M,"tr");return Pr(T,U[U.length-1])?((W,ne,se)=>Jb(Mm,W,ve=>Lg(ve).isSome(),se))(M,0,S).map(W=>gs(oe.some(Ii(W,0,W,0)),!0)):oe.none()})),$l=(y,S,T,M,U,W,ne)=>Nf(y,T,M,U,W).bind(se=>Yb(S,T,se.start,se.finish,ne)),d1=y=>{let S=y;return{get:()=>S,set:T=>{S=T}}},f1=()=>{const y=(S=>{const T=d1(oe.none()),M=()=>T.get().each(S);return{clear:()=>{M(),T.set(oe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:U=>{M(),T.set(oe.some(U))}}})(V);return{...y,on:S=>y.get().each(S)}},sv=(y,S)=>Qe(y,"td,th",S),m1=y=>Du(y).exists(ro),SC={traverse:Pl,gather:Qb,relative:Tr.before,retry:Nc.tryDown,failure:sp.failedDown},av={traverse:oo,gather:_C,relative:Tr.before,retry:Nc.tryUp,failure:sp.failedUp},Hd=y=>S=>S===y,iv=Hd(38),nh=Hd(40),oh=y=>y>=37&&y<=40,If={isBackward:Hd(37),isForward:Hd(39)},Pf={isBackward:Hd(39),isForward:Hd(37)},lv=Om([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lf={domRange:lv.domRange,relative:lv.relative,exact:lv.exact,exactFromRange:y=>lv.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const S=(T=>T.match({domRange:M=>Zt.fromDom(M.startContainer),relative:(M,U)=>Tr.getStart(M),exact:(M,U,W,ne)=>M}))(y);return Zt.fromDom(pc(S).dom.defaultView)},range:Gb},Bf=(y,S)=>{const T=dt(y);return T==="input"?Tr.after(y):st(["br","img"],T)?S===0?Tr.before(y):Tr.after(y):Tr.on(y,S)},Mf=y=>oe.from(y.getSelection()),rh=(y,S)=>{Mf(y).each(T=>{T.removeAllRanges(),T.addRange(S)})},g1=(y,S,T,M,U)=>{const W=qb(y,S,T,M,U);rh(y,W)},ip=(y,S)=>l1(y,S).match({ltr:(T,M,U,W)=>{g1(y,T,M,U,W)},rtl:(T,M,U,W)=>{Mf(y).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(T.dom,M,U.dom,W);else if(ne.extend)try{((se,ve,Ne,Ge,Te,Me)=>{ve.collapse(Ne.dom,Ge),ve.extend(Te.dom,Me)})(0,ne,T,M,U,W)}catch{g1(y,U,W,T,M)}else g1(y,U,W,T,M)})}}),h1=(y,S,T,M,U)=>{const W=((ne,se,ve,Ne)=>{const Ge=Bf(ne,se),Te=Bf(ve,Ne);return Lf.relative(Ge,Te)})(S,T,M,U);ip(y,W)},Ix=(y,S,T)=>{const M=((U,W)=>{const ne=U.fold(Tr.before,Bf,Tr.after),se=W.fold(Tr.before,Bf,Tr.after);return Lf.relative(ne,se)})(S,T);ip(y,M)},lp=y=>{if(y.rangeCount>0){const S=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return oe.some(Gb(Zt.fromDom(S.startContainer),S.startOffset,Zt.fromDom(T.endContainer),T.endOffset))}return oe.none()},pa=y=>{if(y.anchorNode===null||y.focusNode===null)return lp(y);{const S=Zt.fromDom(y.anchorNode),T=Zt.fromDom(y.focusNode);return((M,U,W,ne)=>{const se=((Ne,Ge,Te,Me)=>{const ze=Ou(Ne).dom.createRange();return ze.setStart(Ne.dom,Ge),ze.setEnd(Te.dom,Me),ze})(M,U,W,ne),ve=Pr(M,W)&&U===ne;return se.collapsed&&!ve})(S,y.anchorOffset,T,y.focusOffset)?oe.some(Gb(S,y.anchorOffset,T,y.focusOffset)):lp(y)}},Px=(y,S,T=!0)=>{const M=(T?s1:Bs)(y,S);rh(y,M)},kC=y=>(S=>Mf(S).filter(T=>T.rangeCount>0).bind(pa))(y).map(S=>Lf.exact(S.start,S.soffset,S.finish,S.foffset)),Lx=(y,S,T)=>((M,U,W)=>((ne,se,ve)=>ne.caretPositionFromPoint?((Ne,Ge,Te)=>{var Me;return oe.from((Me=Ne.caretPositionFromPoint)===null||Me===void 0?void 0:Me.call(Ne,Ge,Te)).bind(ze=>{if(ze.offsetNode===null)return oe.none();const ot=Ne.createRange();return ot.setStart(ze.offsetNode,ze.offset),ot.collapse(),oe.some(ot)})})(ne,se,ve):ne.caretRangeFromPoint?((Ne,Ge,Te)=>{var Me;return oe.from((Me=Ne.caretRangeFromPoint)===null||Me===void 0?void 0:Me.call(Ne,Ge,Te))})(ne,se,ve):oe.none())(M.document,U,W).map(ne=>Gb(Zt.fromDom(ne.startContainer),ne.startOffset,Zt.fromDom(ne.endContainer),ne.endOffset)))(y,S,T),Bx=y=>({elementFromPoint:(S,T)=>Zt.fromPoint(Zt.fromDom(y.document),S,T),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,T,M,U)=>{const W=Lf.exact(S,T,M,U);return((ne,se)=>(ve=>{const Ne=ve.getClientRects(),Ge=Ne.length>0?Ne[0]:ve.getBoundingClientRect();return Ge.width>0||Ge.height>0?oe.some(Ge).map(Ex):oe.none()})(Ax(ne,se)))(y,W)},getSelection:()=>kC(y).map(S=>Tx(y,S)),fromSitus:S=>{const T=Lf.relative(S.start,S.finish);return Tx(y,T)},situsFromPoint:(S,T)=>Lx(y,S,T).map(M=>bl(M.start,M.soffset,M.finish,M.foffset)),clearSelection:()=>{(S=>{Mf(S).each(T=>T.removeAllRanges())})(y)},collapseSelection:(S=!1)=>{kC(y).each(T=>T.fold(M=>M.collapse(S),(M,U)=>{const W=S?M:U;Ix(y,W,W)},(M,U,W,ne)=>{const se=S?M:W,ve=S?U:ne;h1(y,se,ve,se,ve)}))},setSelection:S=>{h1(y,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,T)=>{Ix(y,S,T)},selectNode:S=>{Px(y,S,!1)},selectContents:S=>{Px(y,S)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(S=>{const T=S!==void 0?S.dom:document,M=T.body.scrollLeft||T.documentElement.scrollLeft,U=T.body.scrollTop||T.documentElement.scrollTop;return Gi(M,U)})(Zt.fromDom(y.document)).top,scrollBy:(S,T)=>{((M,U,W)=>{const ne=(W!==void 0?W.dom:document).defaultView;ne&&ne.scrollBy(M,U)})(S,T,Zt.fromDom(y.document))}}),Ff=(y,S)=>({rows:y,cols:S}),p1=y=>tt(y,Mn).exists(ro),cv=(y,S)=>p1(y)||p1(S),Mx=y=>y.dom.classList!==void 0,eE=(y,S)=>((T,M,U)=>{const W=((ne,se)=>{const ve=yn(ne,se);return ve===void 0||ve===""?[]:ve.split(" ")})(T,M).concat([U]);return ar(T,M,W.join(" ")),!0})(y,"class",S),$f=(y,S)=>{Mx(y)?y.dom.classList.add(S):eE(y,S)},uv=(y,S)=>Mx(y)&&y.dom.classList.contains(S),EC=()=>({tag:"none"}),AC=y=>({tag:"multiple",elements:y}),uu=y=>({tag:"single",element:y}),Fx=y=>{const S=Zt.fromDom((se=>{if(D(se.target)){const ve=Zt.fromDom(se.target);if(zn(ve)&&D(ve.dom.shadowRoot)&&se.composed&&se.composedPath){const Ne=se.composedPath();if(Ne)return Xn(Ne)}}return oe.from(se.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),M=()=>y.preventDefault(),U=(W=M,ne=T,(...se)=>W(ne.apply(null,se)));var W,ne;return((se,ve,Ne,Ge,Te,Me,ze)=>({target:se,x:ve,y:Ne,stop:Ge,prevent:Te,kill:Me,raw:ze}))(S,y.clientX,y.clientY,T,M,U,y)},b1=(y,S,T,M)=>{y.dom.removeEventListener(S,T,M)},TC=de,sh=(y,S,T)=>((M,U,W,ne)=>((se,ve,Ne,Ge,Te)=>{const Me=((ze,ot)=>at=>{ze(at)&&ot(Fx(at))})(Ne,Ge);return se.dom.addEventListener(ve,Me,Te),{unbind:X(b1,se,ve,Me,Te)}})(M,U,W,ne,!1))(y,S,TC,T),cp=Fx,dv=y=>!uv(Zt.fromDom(y.target),"ephox-snooker-resizer-bar"),OC=(y,S)=>{const T=(U=Sf.selectedSelector,{get:()=>_c(Zt.fromDom(y.getBody()),U).fold(()=>as(Cc(y),Is(y)).fold(EC,uu),AC)}),M=((W,ne,se)=>{const ve=Me=>{bo(Me,W.selected),bo(Me,W.firstSelected),bo(Me,W.lastSelected)},Ne=Me=>{ar(Me,W.selected,"1")},Ge=Me=>{Te(Me),se()},Te=Me=>{const ze=Er(Me,`${W.selectedSelector},${W.firstSelectedSelector},${W.lastSelectedSelector}`);St(ze,ve)};return{clearBeforeUpdate:Te,clear:Ge,selectRange:(Me,ze,ot,at)=>{Ge(Me),St(ze,Ne),ar(ot,W.firstSelected,"1"),ar(at,W.lastSelected,"1"),ne(ze,ot,at)},selectedSelector:W.selectedSelector,firstSelectedSelector:W.firstSelectedSelector,lastSelectedSelector:W.lastSelectedSelector}})(Sf,(W,ne,se)=>{dl(ne).each(ve=>{const Ne=P(W,ze=>ze.dom),Ge=Od(y),Te=Zr(V,Zt.fromDom(y.getDoc()),Ge),Me=((ze,ot,at)=>{const At=Co(ze);return Nd(At,ot).map(Rt=>{const Et=ms(At,at,!1),{rows:Pt}=Wr(Et),jt=((lt,bn)=>{const Un=lt.slice(0,bn[bn.length-1].row+1),ho=Pb(Un);return Je(ho,Qn=>{const Wn=Qn.cells.slice(0,bn[bn.length-1].column+1);return P(Wn,go=>go.element)})})(Pt,Rt),Xt=((lt,bn)=>{const Un=lt.slice(bn[0].row+bn[0].rowspan-1,lt.length),ho=Pb(Un);return Je(ho,Qn=>{const Wn=Qn.cells.slice(bn[0].column+bn[0].colspan-1,Qn.cells.length);return P(Wn,go=>go.element)})})(Pt,Rt);return{upOrLeftCells:jt,downOrRightCells:Xt}})})(ve,{selection:Sc(y)},Te).map(ze=>Ye(ze,ot=>P(ot,at=>at.dom))).getOrUndefined();((ze,ot,at,At,Rt)=>{ze.dispatch("TableSelectionChange",{cells:ot,start:at,finish:At,otherCells:Rt})})(y,Ne,ne.dom,se.dom,Me)})},()=>(W=>{W.dispatch("TableSelectionClear")})(y));var U;return y.on("init",W=>{const ne=y.getWin(),se=ir(y),ve=Is(y),Ne=((at,At,Rt,Et)=>{const Pt=((jt,Xt,lt,bn)=>{const Un=f1(),ho=Un.clear,Qn=Wn=>{Un.on(go=>{bn.clearBeforeUpdate(Xt),sv(Wn.target,lt).each(Mo=>{ru(go,Mo,lt).each(qs=>{const yi=qs.boxes.getOr([]);if(yi.length===1){const za=yi[0],tc=kn(za)==="false",Um=zt(mo(Wn.target),za,Pr);tc&&Um&&bn.selectRange(Xt,yi,za,za)}else yi.length>1&&(bn.selectRange(Xt,yi,qs.start,qs.finish),jt.selectContents(Mo))})})})};return{clearstate:ho,mousedown:Wn=>{bn.clear(Xt),sv(Wn.target,lt).filter(m1).each(Un.set)},mouseover:Wn=>{Qn(Wn)},mouseup:Wn=>{Qn(Wn),ho()}}})(Bx(at),At,Rt,Et);return{clearstate:Pt.clearstate,mousedown:Pt.mousedown,mouseover:Pt.mouseover,mouseup:Pt.mouseup}})(ne,se,ve,M),Ge=((at,At,Rt,Et)=>{const Pt=Bx(at),jt=()=>(Et.clear(At),oe.none());return{keydown:(Xt,lt,bn,Un,ho,Qn)=>{const Wn=Xt.raw,go=Wn.which,Mo=Wn.shiftKey===!0;return Rb(At,Et.selectedSelector).fold(()=>(oh(go)&&!Mo&&Et.clearBeforeUpdate(At),oh(go)&&Mo&&!cv(lt,Un)?oe.none:nh(go)&&Mo?X($l,Pt,At,Rt,SC,Un,lt,Et.selectRange):iv(go)&&Mo?X($l,Pt,At,Rt,av,Un,lt,Et.selectRange):nh(go)?X($d,Pt,Rt,SC,Un,lt,$m):iv(go)?X($d,Pt,Rt,av,Un,lt,ap):oe.none),yi=>{const za=tc=>()=>Q(tc,xi=>((qu,dp,Vf,fp,S1)=>ni(fp,qu,dp,S1.firstSelectedSelector,S1.lastSelectedSelector).map(Uf=>(S1.clearBeforeUpdate(Vf),S1.selectRange(Vf,Uf.boxes,Uf.start,Uf.finish),Uf.boxes)))(xi.rows,xi.cols,At,yi,Et)).fold(()=>Cf(At,Et.firstSelectedSelector,Et.lastSelectedSelector).map(xi=>{const qu=nh(go)||Qn.isForward(go)?Tr.after:Tr.before;return Pt.setRelativeSelection(Tr.on(xi.first,0),qu(xi.table)),Et.clear(At),gs(oe.none(),!0)}),xi=>oe.some(gs(oe.none(),!0)));return oh(go)&&Mo&&!cv(lt,Un)?oe.none:nh(go)&&Mo?za([Ff(1,0)]):iv(go)&&Mo?za([Ff(-1,0)]):Qn.isBackward(go)&&Mo?za([Ff(0,-1),Ff(-1,0)]):Qn.isForward(go)&&Mo?za([Ff(0,1),Ff(1,0)]):oh(go)&&!Mo?jt:oe.none})()},keyup:(Xt,lt,bn,Un,ho)=>Rb(At,Et.selectedSelector).fold(()=>{const Qn=Xt.raw,Wn=Qn.which;return Qn.shiftKey===!0&&oh(Wn)&&cv(lt,Un)?((go,Mo,qs,yi,za,tc,Um)=>Pr(qs,za)&&yi===tc?oe.none():Qe(qs,"td,th",Mo).bind(xi=>Qe(za,"td,th",Mo).bind(qu=>Yb(go,Mo,xi,qu,Um))))(At,Rt,lt,bn,Un,ho,Et.selectRange):oe.none()},oe.none)}})(ne,se,ve,M),Te=((at,At,Rt,Et)=>{const Pt=Bx(at);return(jt,Xt)=>{Et.clearBeforeUpdate(At),ru(jt,Xt,Rt).each(lt=>{const bn=lt.boxes.getOr([]);Et.selectRange(At,bn,lt.start,lt.finish),Pt.selectContents(Xt),Pt.collapseSelection()})}})(ne,se,ve,M);y.on("TableSelectorChange",at=>Te(at.start,at.finish));const Me=(at,At)=>{(Rt=>Rt.raw.shiftKey===!0)(at)&&(At.kill&&at.kill(),At.selection.each(Rt=>{const Et=Lf.relative(Rt.start,Rt.finish),Pt=Ax(ne,Et);y.selection.setRng(Pt)}))},ze=at=>at.button===0,ot=(()=>{const at=d1(Zt.fromDom(se)),At=d1(0);return{touchEnd:Rt=>{const Et=Zt.fromDom(Rt.target);if(Yo("td")(Et)||Yo("th")(Et)){const Pt=at.get(),jt=At.get();Pr(Pt,Et)&&Rt.timeStamp-jt<300&&(Rt.preventDefault(),Te(Et,Et))}at.set(Et),At.set(Rt.timeStamp)}}})();y.on("dragstart",at=>{Ne.clearstate()}),y.on("mousedown",at=>{ze(at)&&dv(at)&&Ne.mousedown(cp(at))}),y.on("mouseover",at=>{var At;(At=at).buttons!==void 0&&(1&At.buttons)==0||!dv(at)||Ne.mouseover(cp(at))}),y.on("mouseup",at=>{ze(at)&&dv(at)&&Ne.mouseup(cp(at))}),y.on("touchend",ot.touchEnd),y.on("keyup",at=>{const At=cp(at);if(At.raw.shiftKey&&oh(At.raw.which)){const Rt=y.selection.getRng(),Et=Zt.fromDom(Rt.startContainer),Pt=Zt.fromDom(Rt.endContainer);Ge.keyup(At,Et,Rt.startOffset,Pt,Rt.endOffset).each(jt=>{Me(At,jt)})}}),y.on("keydown",at=>{const At=cp(at);S.hide();const Rt=y.selection.getRng(),Et=Zt.fromDom(Rt.startContainer),Pt=Zt.fromDom(Rt.endContainer),jt=Ao(If,Pf)(Zt.fromDom(y.selection.getStart()));Ge.keydown(At,Et,Rt.startOffset,Pt,Rt.endOffset,jt).each(Xt=>{Me(At,Xt)}),S.show()}),y.on("NodeChange",()=>{const at=y.selection,At=Zt.fromDom(at.getStart()),Rt=Zt.fromDom(at.getEnd());wf(dl,[At,Rt]).fold(()=>M.clear(se),V)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Sf.firstSelected),y.serializer.addTempAttr(Sf.lastSelected)}),{getSelectedCells:()=>((W,ne,se,ve)=>{switch(W.tag){case"none":return ne();case"single":return(Ne=>[Ne.dom])(W.element);case"multiple":return(Ne=>P(Ne,Ge=>Ge.dom))(W.elements)}})(T.get(),Z([])),clearSelectedCells:W=>M.clear(Zt.fromDom(W))}},du=y=>{let S=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");S.push(T)},unbind:T=>{S=tn(S,M=>M!==T)},trigger:(...T)=>{const M={};St(y,(U,W)=>{M[U]=T[W]}),St(S,U=>{U(M)})}}},Hm=y=>({registry:Ye(y,S=>({bind:S.bind,unbind:S.unbind})),trigger:Ye(y,S=>S.trigger)}),fv=y=>y.slice(0).sort(),mv=(y,S)=>{const T=tn(S,M=>!st(y,M));T.length>0&&(M=>{throw new Error("Unsupported keys for object: "+fv(M).join(", "))})(T)},v1=y=>((S,T)=>((M,U,W)=>{if(U.length===0)throw new Error("You must specify at least one required field.");return((ne,se)=>{if(!x(se))throw new Error("The "+ne+" fields must be an array. Was: "+se+".");St(se,ve=>{if(!g(ve))throw new Error("The value "+ve+" in the "+ne+" fields was not a string.")})})("required",U),(ne=>{const se=fv(ne);_n(se,(ve,Ne)=>Ne<se.length-1&&ve===se[Ne+1]).each(ve=>{throw new Error("The field: "+ve+" occurs more than once in the combined fields: ["+se.join(", ")+"].")})})(U),ne=>{const se=gr(ne);Tt(U,Ne=>st(se,Ne))||((Ne,Ge)=>{throw new Error("All required keys ("+fv(Ne).join(", ")+") were not specified. Specified keys were: "+fv(Ge).join(", ")+".")})(U,se),M(U,se);const ve=tn(U,Ne=>!W.validate(ne[Ne],Ne));return ve.length>0&&((Ne,Ge)=>{throw new Error("All values need to be of type: "+Ge+". Keys ("+fv(Ne).join(", ")+") were not.")})(ve,W.label),ne}})(S,T,{validate:N,label:"function"}))(mv,y),gv=v1(["compare","extract","mutate","sink"]),ai=v1(["element","start","stop","destroy"]),y1=v1(["forceDrop","drop","move","delayDrop"]),zm=()=>{const y=(()=>{const M=Hm({move:du(["info"])});return{onEvent:V,reset:V,events:M.registry}})(),S=(()=>{let M=oe.none();const U=Hm({move:du(["info"])});return{onEvent:(W,ne)=>{ne.extract(W).each(se=>{((Ne,Ge)=>{const Te=M.map(Me=>Ne.compare(Me,Ge));return M=oe.some(Ge),Te})(ne,se).each(Ne=>{U.trigger.move(Ne)})})},reset:()=>{M=oe.none()},events:U.registry}})();let T=y;return{on:()=>{T.reset(),T=S},off:()=>{T.reset(),T=y},isOn:()=>T===S,onEvent:(M,U)=>{T.onEvent(M,U)},events:S.events}},Vm=y=>{const S=y.replace(/\./g,"-");return{resolve:T=>S+"-"+T}},hv=Vm("ephox-dragster").resolve;var x1=gv({compare:(y,S)=>Gi(S.left-y.left,S.top-y.top),extract:y=>oe.some(Gi(y.x,y.y)),sink:(y,S)=>{const T=(se=>{const ve={layerClass:hv("blocker"),...se},Ne=Zt.fromTag("div");return ar(Ne,"role","presentation"),Ll(Ne,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),$f(Ne,hv("blocker")),$f(Ne,ve.layerClass),{element:Z(Ne),destroy:()=>{Xr(Ne)}}})(S),M=sh(T.element(),"mousedown",y.forceDrop),U=sh(T.element(),"mouseup",y.drop),W=sh(T.element(),"mousemove",y.move),ne=sh(T.element(),"mouseout",y.delayDrop);return ai({element:T.element,start:se=>{ss(se,T.element())},stop:()=>{Xr(T.element())},destroy:()=>{T.destroy(),U.unbind(),W.unbind(),ne.unbind(),M.unbind()}})},mutate:(y,S)=>{y.mutate(S.left,S.top)}});const ah=Vm("ephox-snooker").resolve,Hf=ah("resizer-bar"),$x=ah("resizer-rows"),w1=ah("resizer-cols"),tl=y=>{const S=Er(y.parent(),"."+Hf);St(S,Xr)},zf=(y,S,T)=>{const M=y.origin();St(S,U=>{U.each(W=>{const ne=T(M,W);$f(ne,Hf),ss(y.parent(),ne)})})},Hx=(y,S,T,M,U)=>{const W=pf(T),ne=S.isResizable,se=M.length>0?Bu.positions(M,T):[],ve=se.length>0?((Te,Me)=>Je(Te.all,(ze,ot)=>Me(ze.element)?[ot]:[]))(y,ne):[];((Te,Me,ze,ot)=>{zf(Te,Me,(at,At)=>{const Rt=((Et,Pt,jt,Xt,lt)=>{const bn=Zt.fromTag("div");return Ll(bn,{position:"absolute",left:Pt+"px",top:jt-3.5+"px",height:"7px",width:Xt+"px"}),Pa(bn,{"data-row":Et,role:"presentation"}),bn})(At.row,ze.left-at.left,At.y-at.top,ot);return $f(Rt,$x),Rt})})(S,tn(se,(Te,Me)=>Oe(ve,ze=>Me===ze)),W,Rg(T));const Ne=U.length>0?bf.positions(U,T):[],Ge=Ne.length>0?((Te,Me)=>{const ze=[];return Be(Te.grid.columns,ot=>{pr(Te,ot).map(at=>at.element).forall(Me)&&ze.push(ot)}),tn(ze,ot=>{const at=Ba(Te,At=>At.column===ot);return Tt(at,At=>Me(At.element))})})(y,ne):[];((Te,Me,ze,ot)=>{zf(Te,Me,(at,At)=>{const Rt=((Et,Pt,jt,Xt,lt)=>{const bn=Zt.fromTag("div");return Ll(bn,{position:"absolute",left:Pt-3.5+"px",top:jt+"px",height:lt+"px",width:"7px"}),Pa(bn,{"data-column":Et,role:"presentation"}),bn})(At.col,At.x-at.left,ze.top-at.top,0,ot);return $f(Rt,w1),Rt})})(S,tn(Ne,(Te,Me)=>Oe(Ge,ze=>Me===ze)),W,Cb(T))},vt=(y,S)=>{if(tl(y),y.isResizable(S)){const T=Co(S),M=Ed(T),U=Vh(T);Hx(T,y,S,M,U)}},up=(y,S)=>{const T=Er(y.parent(),"."+Hf);St(T,S)},tE=y=>{up(y,S=>{xo(S,"display","none")})},DC=y=>{up(y,S=>{xo(S,"display","block")})},C1=ah("resizer-bar-dragging"),fu=y=>{const S=(()=>{const Te=Hm({drag:du(["xDelta","yDelta","target"])});let Me=oe.none();const ze=(()=>{const ot=Hm({drag:du(["xDelta","yDelta"])});return{mutate:(at,At)=>{ot.trigger.drag(at,At)},events:ot.registry}})();return ze.events.drag.bind(ot=>{Me.each(at=>{Te.trigger.drag(ot.xDelta,ot.yDelta,at)})}),{assign:ot=>{Me=oe.some(ot)},get:()=>Me,mutate:ze.mutate,events:Te.registry}})(),T=((Te,Me={})=>{var ze;return((ot,at,At)=>{let Rt=!1;const Et=Hm({start:du([]),stop:du([])}),Pt=zm(),jt=()=>{bn.stop(),Pt.isOn()&&(Pt.off(),Et.trigger.stop())},Xt=((Un,ho)=>{let Qn=null;const Wn=()=>{C(Qn)||(clearTimeout(Qn),Qn=null)};return{cancel:Wn,throttle:(...go)=>{Wn(),Qn=setTimeout(()=>{Qn=null,Un.apply(null,go)},200)}}})(jt);Pt.events.move.bind(Un=>{at.mutate(ot,Un.info)});const lt=Un=>(...ho)=>{Rt&&Un.apply(null,ho)},bn=at.sink(y1({forceDrop:jt,drop:lt(jt),move:lt(Un=>{Xt.cancel(),Pt.onEvent(Un,at)}),delayDrop:lt(Xt.throttle)}),At);return{element:bn.element,go:Un=>{bn.start(Un),Pt.on(),Et.trigger.start()},on:()=>{Rt=!0},off:()=>{Rt=!1},isActive:()=>Rt,destroy:()=>{bn.destroy()},events:Et.registry}})(Te,(ze=Me.mode)!==null&&ze!==void 0?ze:x1,Me)})(S,{});let M=oe.none();const U=(Te,Me)=>oe.from(yn(Te,Me));S.events.drag.bind(Te=>{U(Te.target,"data-row").each(Me=>{const ze=gm(Te.target,"top");xo(Te.target,"top",ze+Te.yDelta+"px")}),U(Te.target,"data-column").each(Me=>{const ze=gm(Te.target,"left");xo(Te.target,"left",ze+Te.xDelta+"px")})});const W=(Te,Me)=>gm(Te,Me)-ps(Te,"data-initial-"+Me,0);T.events.stop.bind(()=>{S.get().each(Te=>{M.each(Me=>{U(Te,"data-row").each(ze=>{const ot=W(Te,"top");bo(Te,"data-initial-top"),Ge.trigger.adjustHeight(Me,ot,parseInt(ze,10))}),U(Te,"data-column").each(ze=>{const ot=W(Te,"left");bo(Te,"data-initial-left"),Ge.trigger.adjustWidth(Me,ot,parseInt(ze,10))}),vt(y,Me)})})});const ne=(Te,Me)=>{Ge.trigger.startAdjust(),S.assign(Te),ar(Te,"data-initial-"+Me,gm(Te,Me)),$f(Te,C1),xo(Te,"opacity","0.2"),T.go(y.parent())},se=sh(y.parent(),"mousedown",Te=>{var Me;Me=Te.target,uv(Me,$x)&&ne(Te.target,"top"),(ze=>uv(ze,w1))(Te.target)&&ne(Te.target,"left")}),ve=Te=>Pr(Te,y.view()),Ne=sh(y.view(),"mouseover",Te=>{var Me;(Me=Te.target,Qe(Me,"table",ve).filter(ro)).fold(()=>{ji(Te.target)&&tl(y)},ze=>{T.isActive()&&(M=oe.some(ze),vt(y,ze))})}),Ge=Hm({adjustHeight:du(["table","delta","row"]),adjustWidth:du(["table","delta","column"]),startAdjust:du([])});return{destroy:()=>{se.unbind(),Ne.unbind(),T.destroy(),tl(y)},refresh:Te=>{vt(y,Te)},on:T.on,off:T.off,hideBars:X(tE,y),showBars:X(DC,y),events:Ge.registry}},_1=y=>D(y)&&y.nodeName==="TABLE",pv="bar-",zx=y=>yn(y,"data-mce-resize")!=="false",Vx=y=>{const S=f1(),T=f1(),M=f1();let U,W,ne,se;const ve=Te=>Df(y,Te),Ne=()=>Mg(y)?H0():Wu(),Ge=(Te,Me,ze,ot)=>{const at=(Et=>{return fo(Pt=Et,"corner-")?((jt,Xt)=>jt.substring(7))(Pt):Pt;var Pt})(Me),At=nn(at,"e"),Rt=fo(at,"n");if(W===""&&Gg(Te),se===""&&(Et=>{const Pt=(jt=>Ad(jt)+"px")(Et);Hr(Et,oe.none(),oe.some(Pt)),lu(Et)})(Te),ze!==U&&W!==""){xo(Te,"width",W);const Et=Ne(),Pt=ve(Te),jt=Mg(y)||At?(Xt=>au(Xt).columns)(Te)-1:0;Id(Te,ze-U,jt,Et,Pt)}else if((Et=>/^(\d+(\.\d+)?)%$/.test(Et))(W)){const Et=parseFloat(W.replace("%",""));xo(Te,"width",ze*Et/U+"%")}if((Et=>/^(\d+(\.\d+)?)px$/.test(Et))(W)&&(Et=>{const Pt=Co(Et);yc(Pt)||St(bs(Et),jt=>{const Xt=hi(jt,"width");xo(jt,"width",Xt),bo(jt,"width")})})(Te),ot!==ne&&se!==""){xo(Te,"height",se);const Et=Rt?0:(Pt=>au(Pt).rows)(Te)-1;zg(Te,ot-ne,Et)}};return y.on("init",()=>{const Te=((Me,ze)=>Me.inline?((ot,at,At)=>({parent:Z(at),view:Z(ot),origin:Z(Gi(0,0)),isResizable:At}))(Zt.fromDom(Me.getBody()),(()=>{const ot=Zt.fromTag("div");return Ll(ot,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ss(Kc(Zt.fromDom(document)),ot),ot})(),ze):((ot,at)=>{const At=yo(ot)?(Rt=>Zt.fromDom(pc(Rt).dom.documentElement))(ot):ot;return{parent:Z(At),view:Z(ot),origin:Z(Gi(0,0)),isResizable:at}})(Zt.fromDom(Me.getDoc()),ze))(y,zx);if(M.set(Te),(Me=>{const ze=Me.options.get("object_resizing");return st(ze.split(","),"table")})(y)&&re(y)){const Me=((ze,ot,at)=>{const At=Bu,Rt=bf,Et=fu(ze),Pt=Hm({beforeResize:du(["table","type"]),afterResize:du(["table","type"]),startDrag:du([])});return Et.events.adjustHeight.bind(jt=>{const Xt=jt.table;Pt.trigger.beforeResize(Xt,"row");const lt=At.delta(jt.delta,Xt);zg(Xt,lt,jt.row),Pt.trigger.afterResize(Xt,"row")}),Et.events.startAdjust.bind(jt=>{Pt.trigger.startDrag()}),Et.events.adjustWidth.bind(jt=>{const Xt=jt.table;Pt.trigger.beforeResize(Xt,"col");const lt=Rt.delta(jt.delta,Xt),bn=at(Xt);Id(Xt,lt,jt.column,ot,bn),Pt.trigger.afterResize(Xt,"col")}),{on:Et.on,off:Et.off,refreshBars:Et.refresh,hideBars:Et.hideBars,showBars:Et.showBars,destroy:Et.destroy,events:Pt.registry}})(Te,Ne(),ve);Me.on(),Me.events.startDrag.bind(ze=>{S.set(y.selection.getRng())}),Me.events.beforeResize.bind(ze=>{const ot=ze.table.dom;((at,At,Rt,Et,Pt)=>{at.dispatch("ObjectResizeStart",{target:At,width:Rt,height:Et,origin:Pt})})(y,ot,_m(ot),Sm(ot),pv+ze.type)}),Me.events.afterResize.bind(ze=>{const ot=ze.table,at=ot.dom;fs(ot),S.on(At=>{y.selection.setRng(At),y.focus()}),((At,Rt,Et,Pt,jt)=>{At.dispatch("ObjectResized",{target:Rt,width:Et,height:Pt,origin:jt})})(y,at,_m(at),Sm(at),pv+ze.type),y.undoManager.add()}),T.set(Me)}}),y.on("ObjectResizeStart",Te=>{const Me=Te.target;if(_1(Me)){const ze=Zt.fromDom(Me);St(y.dom.select(".mce-clonedresizable"),ot=>{y.dom.addClass(ot,"mce-"+Bg(y)+"-columns")}),!ts(ze)&&L(y)?pl(ze):!r1(ze)&&Vu(y)&&Gg(ze),ju(ze)&&fo(Te.origin,pv)&&Gg(ze),U=Te.width,W=K(y)?"":lC(y,Me).getOr(""),ne=Te.height,se=Tb(y,Me).getOr("")}}),y.on("ObjectResized",Te=>{const Me=Te.target;if(_1(Me)){const ze=Zt.fromDom(Me),ot=Te.origin;(at=>fo(at,"corner-"))(ot)&&Ge(ze,ot,Te.width,Te.height),fs(ze),Ld(y,ze.dom,t1)}}),y.on("SwitchMode",()=>{T.on(Te=>{y.mode.isReadOnly()?Te.hideBars():Te.showBars()})}),y.on("dragstart dragend",Te=>{T.on(Me=>{Te.type==="dragstart"?(Me.hideBars(),Me.off()):(Me.on(),Me.showBars())})}),y.on("remove",()=>{T.on(Te=>{Te.destroy()}),M.on(Te=>{((Me,ze)=>{Me.inline&&Xr(ze.parent())})(y,Te)})}),{refresh:Te=>{T.on(Me=>Me.refreshBars(Zt.fromDom(Te)))},hide:()=>{T.on(Te=>Te.hideBars())},show:()=>{T.on(Te=>Te.showBars())}}},nE=y=>{(U=>{const W=U.options.register;W("table_clone_elements",{processor:"string[]"}),W("table_use_colgroups",{processor:"boolean",default:!0}),W("table_header_type",{processor:ne=>{const se=st(["section","cells","sectionCells","auto"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),W("table_sizing_mode",{processor:"string",default:"auto"}),W("table_default_attributes",{processor:"object",default:{border:"1"}}),W("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),W("table_column_resizing",{processor:ne=>{const se=st(["preservetable","resizetable"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),W("table_resize_bars",{processor:"boolean",default:!0}),W("table_style_by_css",{processor:"boolean",default:!0}),W("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const S=Vx(y),T=OC(y,S),M=wx(y,S,T);return Cs(y,M),((U,W)=>{const ne=Is(U),se=ve=>as(Cc(U)).bind(Ne=>dl(Ne,ne).map(Ge=>{const Te=wo(Sc(U),Ge,Ne);return ve(Ge,Te)})).getOr("");Do({mceTableRowType:()=>se(W.getTableRowType),mceTableCellType:()=>se(W.getTableCellType),mceTableColType:()=>se(W.getTableColType)},(ve,Ne)=>U.addQueryValueHandler(Ne,ve))})(y,M),kc(y,M),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};n.add("dom",y=>({table:nE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivität",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbündig ausrichten","Align right":"Rechtsbündig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blöcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzählung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schließen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhältnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Währung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrün","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltürkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte löschen","Delete row":"Zeile löschen","Delete table":"Tabelle löschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht unterstützt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbestätigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wörter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menüleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgrößen","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fußzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grün","Green component":"Grünanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"Überschrift 1","Heading 2":"Überschrift 2","Heading 3":"Überschrift 3","Heading 4":"Überschrift 4","Heading 5":"Überschrift 5","Heading 6":"Überschrift 6",Headings:"Überschriften",Height:"Höhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrößern",Inline:"Zeichenformate",Insert:"Einfügen","Insert Template":"Vorlage einfügen","Insert accordion":"","Insert column after":"Neue Spalte danach einfügen","Insert column before":"Neue Spalte davor einfügen","Insert date/time":"Datum/Uhrzeit einfügen","Insert image":"Bild einfügen","Insert link (if link plugin activated)":"Link einfügen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfügen","Insert row before":"Neue Zeile davor einfügen","Insert table":"Tabelle einfügen","Insert template...":"Vorlage einfügen...","Insert video":"Video einfügen","Insert/Edit code sample":"Codebeispiel einfügen/bearbeiten","Insert/edit image":"Bild einfügen/bearbeiten","Insert/edit link":"Link einfügen/bearbeiten","Insert/edit media":"Medien einfügen/bearbeiten","Insert/edit video":"Video einfügen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungültiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungültige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrün","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner römischer Buchstabe","Match case":"Groß-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nächste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschütztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog öffnen","Open link":"Link öffnen","Open link in...":"Link öffnen in...","Open popup menu for split buttons":"Öffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfügen","Paste as text":"Als Text einfügen","Paste column after":"Spalte danach einfügen","Paste column before":"Spalte davor einfügen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfügen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefügt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfügen oder eingeben","Paste row after":"Zeile danach einfügen","Paste row before":"Zeile davor einfügen","Paste your embed code below:":"Fügen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anführungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drücken Sie Alt+0 für Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drücken Sie Alt+F9 für das Menü. Drücken Sie Alt+F10 für die Symbolleiste. Drücken Sie Alt+0 für Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswählen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blöcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgröße",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Möchten Sie das dazu benötigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Möchten Sie das dazu benötigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergänzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drücken Sie Umschalt+Eingabe, um das Popup-Fenster zu öffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Türkis",Underline:"Unterstrichen",Undo:"Rückgängig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Großbuchstaben","Upper Roman":"Großer römischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gültig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Weiß",Width:"Breite","Word count":"Anzahl der Wörter",Words:"Wörter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die Änderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser unterstützt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Währungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrückungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Türkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0} Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wörter"});var eG={},tG={},nG;function x0e(){return nG||(nG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(L,K,re)=>{var Re;return re(L,K.prototype)?!0:((Re=L.constructor)===null||Re===void 0?void 0:Re.name)===K.name},c=L=>{const K=typeof L;return L===null?"null":K==="object"&&Array.isArray(L)?"array":K==="object"&&s(L,String,(re,Re)=>Re.isPrototypeOf(re))?"string":K},f=L=>K=>c(K)===L,g=L=>K=>typeof K===L,h=f("string"),x=f("object"),C=f("array"),O=g("boolean"),R=L=>L==null,D=L=>!R(L),N=g("function"),H=g("number"),V=()=>{},Z=(L,K)=>re=>L(K(re)),te=L=>()=>L,ce=(L,K)=>L===K;function X(L,...K){return(...re)=>{const Re=K.concat(re);return L.apply(null,Re)}}const Se=L=>K=>!L(K),fe=te(!1);class j{constructor(K,re){this.tag=K,this.value=re}static some(K){return new j(!0,K)}static none(){return j.singletonNone}fold(K,re){return this.tag?re(this.value):K()}isSome(){return this.tag}isNone(){return!this.tag}map(K){return this.tag?j.some(K(this.value)):j.none()}bind(K){return this.tag?K(this.value):j.none()}exists(K){return this.tag&&K(this.value)}forall(K){return!this.tag||K(this.value)}filter(K){return!this.tag||K(this.value)?this:j.none()}getOr(K){return this.tag?this.value:K}or(K){return this.tag?this:K}getOrThunk(K){return this.tag?this.value:K()}orThunk(K){return this.tag?this:K()}getOrDie(K){if(this.tag)return this.value;throw new Error(K??"Called getOrDie on None")}static from(K){return D(K)?j.some(K):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(K){this.tag&&K(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const de=Array.prototype.slice,oe=Array.prototype.indexOf,Ue=Array.prototype.push,He=(L,K)=>oe.call(L,K),je=(L,K)=>He(L,K)>-1,st=(L,K)=>{for(let re=0,Re=L.length;re<Re;re++){const Ke=L[re];if(K(Ke,re))return!0}return!1},Oe=(L,K)=>{const re=L.length,Re=new Array(re);for(let Ke=0;Ke<re;Ke++){const Dt=L[Ke];Re[Ke]=K(Dt,Ke)}return Re},Be=(L,K)=>{for(let re=0,Re=L.length;re<Re;re++){const Ke=L[re];K(Ke,re)}},P=(L,K)=>{const re=[];for(let Re=0,Ke=L.length;Re<Ke;Re++){const Dt=L[Re];K(Dt,Re)&&re.push(Dt)}return re},St=(L,K)=>{if(L.length===0)return[];{let re=K(L[0]);const Re=[];let Ke=[];for(let Dt=0,Bn=L.length;Dt<Bn;Dt++){const mo=L[Dt],ro=K(mo);ro!==re&&(Re.push(Ke),Ke=[]),re=ro,Ke.push(mo)}return Ke.length!==0&&Re.push(Ke),Re}},Mt=(L,K,re)=>(Be(L,(Re,Ke)=>{re=K(re,Re,Ke)}),re),tn=(L,K,re)=>{for(let Re=0,Ke=L.length;Re<Ke;Re++){const Dt=L[Re];if(K(Dt,Re))return j.some(Dt);if(re(Dt,Re))break}return j.none()},un=(L,K)=>tn(L,K,fe),ct=L=>{const K=[];for(let re=0,Re=L.length;re<Re;++re){if(!C(L[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+L);Ue.apply(K,L[re])}return K},_n=(L,K)=>ct(Oe(L,K)),Vn=L=>{const K=de.call(L,0);return K.reverse(),K},Lt=(L,K)=>K>=0&&K<L.length?j.some(L[K]):j.none(),Je=L=>Lt(L,0),Tt=L=>Lt(L,L.length-1),Gn=(L,K)=>{const re=[],Re=N(K)?Ke=>st(re,Dt=>K(Dt,Ke)):Ke=>je(re,Ke);for(let Ke=0,Dt=L.length;Ke<Dt;Ke++){const Bn=L[Ke];Re(Bn)||re.push(Bn)}return re},jn=(L,K,re=ce)=>L.exists(Re=>re(Re,K)),Xn=(L,K,re=ce)=>gn(L,K,re).getOr(L.isNone()&&K.isNone()),gn=(L,K,re)=>L.isSome()&&K.isSome()?j.some(re(L.getOrDie(),K.getOrDie())):j.none(),Q=8,gr=11,$o=1,Do=3,Ye=(L,K)=>{const Re=(K||document).createElement("div");if(Re.innerHTML=L,!Re.hasChildNodes()||Re.childNodes.length>1){const Ke="HTML does not have a single root node";throw console.error(Ke,L),new Error(Ke)}return Ae(Re.childNodes[0])},it=(L,K)=>{const Re=(K||document).createElement(L);return Ae(Re)},be=(L,K)=>{const Re=(K||document).createTextNode(L);return Ae(Re)},Ae=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},pe={fromHtml:Ye,fromTag:it,fromText:be,fromDom:Ae,fromPoint:(L,K,re)=>j.from(L.dom.elementFromPoint(K,re)).map(Ae)},Ce=(L,K)=>{const re=L.dom;if(re.nodeType!==$o)return!1;{const Re=re;if(Re.matches!==void 0)return Re.matches(K);if(Re.msMatchesSelector!==void 0)return Re.msMatchesSelector(K);if(Re.webkitMatchesSelector!==void 0)return Re.webkitMatchesSelector(K);if(Re.mozMatchesSelector!==void 0)return Re.mozMatchesSelector(K);throw new Error("Browser lacks native selectors")}},De=(L,K)=>L.dom===K.dom,We=(L,K)=>{const re=L.dom,Re=K.dom;return re===Re?!1:re.contains(Re)},dt=Ce,on=typeof window<"u"?window:Function("return this;")(),Ft=(L,K)=>{let re=K??on;for(let Re=0;Re<L.length&&re!==void 0&&re!==null;++Re)re=re[L[Re]];return re},vn=(L,K)=>{const re=L.split(".");return Ft(re,K)},Mn=(L,K)=>vn(L,K),zn=(L,K)=>{const re=Mn(L,K);if(re==null)throw new Error(L+" not available on this browser");return re},_o=Object.getPrototypeOf,yo=L=>zn("HTMLElement",L),Fr=L=>{const K=vn("ownerDocument.defaultView",L);return x(L)&&(yo(K).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(_o(L).constructor.name))},Yo=L=>L.dom.nodeName.toLowerCase(),Us=L=>L.dom.nodeType,ar=L=>K=>Us(K)===L,Pa=L=>Us(L)===Q||Yo(L)==="#comment",yn=L=>no(L)&&Fr(L.dom),no=ar($o),bo=ar(Do),Xs=ar(gr),Wi=L=>K=>no(K)&&Yo(K)===L,Zt=L=>j.from(L.dom.parentNode).map(pe.fromDom),sa=L=>j.from(L.dom.parentElement).map(pe.fromDom),Xo=L=>j.from(L.dom.nextSibling).map(pe.fromDom),Il=L=>Oe(L.dom.childNodes,pe.fromDom),Pr=(L,K)=>{const re=L.dom.childNodes;return j.from(re[K]).map(pe.fromDom)},Ws=L=>Pr(L,0),cm=L=>Pr(L,L.dom.childNodes.length-1),Ou=L=>Xs(L)&&D(L.dom.host),pc=L=>pe.fromDom(L.dom.getRootNode()),ll=L=>{const K=pc(L);return Ou(K)?j.some(K):j.none()},Du=L=>pe.fromDom(L.dom.host),wr=L=>{const K=bo(L)?L.dom.parentNode:L.dom;if(K==null||K.ownerDocument===null)return!1;const re=K.ownerDocument;return ll(pe.fromDom(K)).fold(()=>re.body.contains(K),Z(wr,Du))};var oo=(L,K,re,Re,Ke)=>L(re,Re)?j.some(re):N(Ke)&&Ke(re)?j.none():K(re,Re,Ke);const Pl=(L,K,re)=>{let Re=L.dom;const Ke=N(re)?re:fe;for(;Re.parentNode;){Re=Re.parentNode;const Dt=pe.fromDom(Re);if(K(Dt))return j.some(Dt);if(Ke(Dt))break}return j.none()},xa=(L,K,re)=>oo((Ke,Dt)=>Dt(Ke),Pl,L,K,re),Ru=(L,K,re)=>Pl(L,Re=>Ce(Re,K),re),rn=(L,K,re)=>oo((Ke,Dt)=>Ce(Ke,Dt),Ru,L,K,re),Nu=L=>rn(L,"[contenteditable]"),um=(L,K=!1)=>wr(L)?L.dom.isContentEditable:Nu(L).fold(te(K),re=>ss(re)==="true"),ss=L=>L.dom.contentEditable,dm=(L,K)=>{Zt(L).each(Re=>{Re.dom.insertBefore(K.dom,L.dom)})},Zi=(L,K)=>{Xo(L).fold(()=>{Zt(L).each(Ke=>{cl(Ke,K)})},Re=>{dm(Re,K)})},Sl=(L,K)=>{Ws(L).fold(()=>{cl(L,K)},Re=>{L.dom.insertBefore(K.dom,Re.dom)})},cl=(L,K)=>{L.dom.appendChild(K.dom)},Xr=(L,K)=>{Be(K,re=>{dm(L,re)})},fi=(L,K)=>{Be(K,re=>{cl(L,re)})},kl=L=>{L.dom.textContent="",Be(Il(L),K=>{fm(K)})},fm=L=>{const K=L.dom;K.parentNode!==null&&K.parentNode.removeChild(K)};var Zc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),jc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),lf=tinymce.util.Tools.resolve("tinymce.util.VK");const xd=L=>Oe(L,pe.fromDom),Jo=Object.keys,Ss=(L,K)=>{const re=Jo(L);for(let Re=0,Ke=re.length;Re<Ke;Re++){const Dt=re[Re],Bn=L[Dt];K(Bn,Dt)}},Js=L=>(K,re)=>{L[re]=K},mm=(L,K,re,Re)=>{Ss(L,(Ke,Dt)=>{(K(Ke,Dt)?re:Re)(Ke,Dt)})},ji=(L,K)=>{const re={};return mm(L,K,Js(re),V),re},Kc=(L,K,re)=>{if(h(re)||O(re)||H(re))L.setAttribute(K,re+"");else throw console.error("Invalid call to Attribute.set. Key ",K,":: Value ",re,":: Element ",L),new Error("Attribute value was not simple")},mi=(L,K)=>{const re=L.dom;Ss(K,(Re,Ke)=>{Kc(re,Ke,Re)})},gi=L=>Mt(L.dom.attributes,(K,re)=>(K[re.name]=re.value,K),{}),qc=(L,K)=>pe.fromDom(L.dom.cloneNode(K)),Er=L=>qc(L,!0),Jr=(L,K)=>{const re=pe.fromTag(K),Re=gi(L);return mi(re,Re),re},ke=(L,K)=>{const re=Jr(L,K);Zi(L,re);const Re=Il(L);return fi(re,Re),fm(L),re};var tt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Le=tinymce.util.Tools.resolve("tinymce.util.Tools");const gt=L=>K=>D(K)&&K.nodeName.toLowerCase()===L,ut=L=>K=>D(K)&&L.test(K.nodeName),Qe=L=>D(L)&&L.nodeType===3,zt=L=>D(L)&&L.nodeType===1,Qt=ut(/^(OL|UL|DL)$/),ln=ut(/^(OL|UL)$/),hn=gt("ol"),sn=ut(/^(LI|DT|DD)$/),fo=ut(/^(DT|DD)$/),nn=ut(/^(TH|TD)$/),hr=gt("br"),Ro=L=>{var K;return((K=L.parentNode)===null||K===void 0?void 0:K.firstChild)===L},Ho=(L,K)=>D(K)&&K.nodeName in L.schema.getTextBlockElements(),ks=(L,K)=>D(L)&&L.nodeName in K,xo=(L,K)=>D(K)&&K.nodeName in L.schema.getVoidElements(),Ll=(L,K)=>hr(K)?L.isBlock(K.nextSibling)&&!hr(K.previousSibling):!1,hi=(L,K,re)=>{const Re=L.isEmpty(K);return re&&L.select("span[data-mce-type=bookmark]",K).length>0?!1:Re},ao=(L,K)=>L.isChildOf(K,L.getRoot()),Ki=L=>K=>K.options.get(L),ul=L=>{const K=L.options.register;K("lists_indent_on_tab",{processor:"boolean",default:!0})},ps=Ki("lists_indent_on_tab"),cf=Ki("forced_root_block"),Zs=Ki("forced_root_block_attrs"),gm=(L,K,re={})=>{const Re=L.dom,Ke=L.schema.getBlockElements(),Dt=Re.createFragment(),Bn=cf(L),mo=Zs(L);let ro,kn,ir=!1;for(kn=Re.create(Bn,{...mo,...re.style?{style:re.style}:{}}),ks(K.firstChild,Ke)||Dt.appendChild(kn);ro=K.firstChild;){const Is=ro.nodeName;!ir&&(Is!=="SPAN"||ro.getAttribute("data-mce-type")!=="bookmark")&&(ir=!0),ks(ro,Ke)?(Dt.appendChild(ro),kn=null):(kn||(kn=Re.create(Bn,mo),Dt.appendChild(kn)),kn.appendChild(ro))}return!ir&&kn&&kn.appendChild(Re.create("br",{"data-mce-bogus":"1"})),Dt},Bl=tt.DOM,fr=(L,K,re)=>{const Re=kn=>{const ir=kn.parentNode;ir&&Le.each(Ke,Is=>{ir.insertBefore(Is,re.parentNode)}),Bl.remove(kn)},Ke=Bl.select('span[data-mce-type="bookmark"]',K),Dt=gm(L,re),Bn=Bl.createRng();Bn.setStartAfter(re),Bn.setEndAfter(K);const mo=Bn.extractContents();for(let kn=mo.firstChild;kn;kn=kn.firstChild)if(kn.nodeName==="LI"&&L.dom.isEmpty(kn)){Bl.remove(kn);break}L.dom.isEmpty(mo)||Bl.insertAfter(mo,K),Bl.insertAfter(Dt,K);const ro=re.parentElement;ro&&hi(L.dom,ro)&&Re(ro),Bl.remove(re),hi(L.dom,K)&&Bl.remove(K)},wd=Wi("dd"),Ag=Wi("dt"),$h=(L,K)=>{wd(K)?ke(K,"dt"):Ag(K)&&sa(K).each(re=>fr(L,re.dom,K.dom))},bs=L=>{Ag(L)&&ke(L,"dd")},bc=(L,K,re)=>{K==="Indent"?Be(re,bs):Be(re,Re=>$h(L,Re))},dl=(L,K)=>{if(Qe(L))return{container:L,offset:K};const re=Zc.getNode(L,K);return Qe(re)?{container:re,offset:K>=L.childNodes.length?re.data.length:0}:re.previousSibling&&Qe(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&Qe(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:L,offset:K}},Ur=L=>{const K=L.cloneRange(),re=dl(L.startContainer,L.startOffset);K.setStart(re.container,re.offset);const Re=dl(L.endContainer,L.endOffset);return K.setEnd(Re.container,Re.offset),K},hm=["OL","UL","DL"],El=hm.join(","),qa=(L,K)=>{const re=K||L.selection.getStart(!0);return L.dom.getParent(re,El,Cd(L,re))},Tg=(L,K)=>D(L)&&K.length===1&&K[0]===L,wa=L=>P(L.querySelectorAll(El),Qt),qi=L=>{const K=qa(L),re=L.selection.getSelectedBlocks();return Tg(K,re)?wa(K):P(re,Re=>Qt(Re)&&K!==Re)},Ga=(L,K)=>{const re=Le.map(K,Re=>{const Ke=L.dom.getParent(Re,"li,dd,dt",Cd(L,Re));return Ke||Re});return Gn(re)},Al=L=>{const K=L.selection.getSelectedBlocks();return P(Ga(L,K),sn)},Hh=L=>P(Al(L),fo),Eo=(L,K)=>{const re=L.dom.getParents(K,"TD,TH");return re.length>0?re[0]:L.getBody()},Gc=(L,K)=>!Qt(K)&&!sn(K)&&st(hm,re=>L.isValidChild(K.nodeName,re)),Cd=(L,K)=>{const re=L.dom.getParents(K,L.dom.isBlock),Re=Dt=>Dt.nodeName.toLowerCase()!==cf(L);return un(re,Dt=>Re(Dt)&&Gc(L.schema,Dt)).getOr(L.getBody())},Iu=L=>Zt(L).exists(K=>sn(K.dom)&&Ws(K).exists(re=>!Qt(re.dom))&&cm(K).exists(re=>!Qt(re.dom))),yb=(L,K)=>{const re=L.dom.getParents(K,"ol,ul",Cd(L,K));return Tt(re)},qy=L=>{const K=yb(L,L.selection.getStart()),re=P(L.selection.getSelectedBlocks(),ln);return K.toArray().concat(re)},D0=L=>{const K=L.selection.getStart();return L.dom.getParents(K,"ol,ul",Cd(L,K))},R0=L=>{const K=qy(L),re=D0(L);return un(re,Re=>Iu(pe.fromDom(Re))).fold(()=>iC(L,K),Re=>[Re])},iC=(L,K)=>{const re=Oe(K,Re=>yb(L,Re).getOr(Re));return Gn(re)},zh=L=>/\btox\-/.test(L.className),N0=(L,K)=>tn(L,Qt,nn).exists(re=>re.nodeName===K&&!zh(re)),Yt=(L,K)=>K!==null&&!L.dom.isEditable(K),uf=L=>{const K=qa(L);return Yt(L,K)},df=(L,K)=>{const re=L.dom.getParent(K,"ol,ul,dl");return Yt(L,re)},I0=(L,K)=>{const re=L.selection.getNode();return K({parents:L.dom.getParents(re),element:re}),L.on("NodeChange",K),()=>L.off("NodeChange",K)},Ya=(L,K)=>{const Re=document.createDocumentFragment();return Be(L,Ke=>{Re.appendChild(Ke.dom)}),pe.fromDom(Re)},ff=(L,K,re)=>L.dispatch("ListMutation",{action:K,element:re}),Gy=(L=>K=>K.replace(L,""))(/^\s+|\s+$/g),Yy=L=>L.length>0,xb=L=>!Yy(L),Xy=L=>L.style!==void 0&&N(L.style.getPropertyValue),P0=(L,K,re)=>{if(!h(re))throw console.error("Invalid call to CSS.set. Property ",K,":: Value ",re,":: Element ",L),new Error("CSS value must be a string: "+re);Xy(L)&&L.style.setProperty(K,re)},Jy=(L,K,re)=>{const Re=L.dom;P0(Re,K,re)},Dg=L=>dt(L,"OL,UL"),L0=L=>dt(L,"LI"),mf=L=>Ws(L).exists(Dg),gf=L=>cm(L).exists(Dg),Xa=L=>"listAttributes"in L,fl=L=>"isComment"in L,Rg=L=>"isFragment"in L,zo=L=>L.depth>0,_d=L=>L.isSelected,Ng=L=>{const K=Il(L),re=gf(L)?K.slice(0,-1):K;return Oe(re,Er)},Ig=(L,K,re)=>Zt(L).filter(no).map(Re=>({depth:K,dirty:!1,isSelected:re,content:Ng(L),itemAttributes:gi(L),listAttributes:gi(Re),listType:Yo(Re),isInPreviousLi:!1})),Ei=(L,K)=>{cl(L.item,K.list)},Ds=L=>{for(let K=1;K<L.length;K++)Ei(L[K-1],L[K])},Qr=(L,K)=>{gn(Tt(L),Je(K),Ei)},La=(L,K)=>{const re={list:pe.fromTag(K,L),item:pe.fromTag("li",L)};return cl(re.list,re.item),re},Wr=(L,K,re)=>{const Re=[];for(let Ke=0;Ke<re;Ke++)Re.push(La(L,Xa(K)?K.listType:K.parentListType));return Re},hf=(L,K)=>{for(let re=0;re<L.length-1;re++)Jy(L[re].item,"list-style-type","none");Tt(L).each(re=>{Xa(K)&&(mi(re.list,K.listAttributes),mi(re.item,K.itemAttributes)),fi(re.item,K.content)})},pm=(L,K)=>{Yo(L.list)!==K.listType&&(L.list=ke(L.list,K.listType)),mi(L.list,K.listAttributes)},fa=(L,K,re)=>{const Re=pe.fromTag("li",L);return mi(Re,K),fi(Re,re),Re},Ai=(L,K)=>{cl(L.list,K),L.item=K},pi=(L,K,re)=>{const Re=K.slice(0,re.depth);return Tt(Re).each(Ke=>{if(Xa(re)){const Dt=fa(L,re.itemAttributes,re.content);Ai(Ke,Dt),pm(Ke,re)}else if(Rg(re))fi(Ke.item,re.content);else{const Dt=pe.fromHtml(`<!--${re.content}-->`);cl(Ke.list,Dt)}}),Re},Yc=(L,K,re)=>{const Re=Wr(L,re,re.depth-K.length);return Ds(Re),hf(Re,re),Qr(K,Re),K.concat(Re)},Sd=(L,K)=>{let re=j.none();const Re=Mt(K,(Ke,Dt,Bn)=>fl(Dt)?Bn===0?(re=j.some(Dt),Ke):pi(L,Ke,Dt):Dt.depth>Ke.length?Yc(L,Ke,Dt):pi(L,Ke,Dt),[]);return re.each(Ke=>{const Dt=pe.fromHtml(`<!--${Ke.content}-->`);Je(Re).each(Bn=>{Sl(Bn.list,Dt)})}),Je(Re).map(Ke=>Ke.list)},Co=(L,K)=>{switch(L){case"Indent":K.depth++;break;case"Outdent":K.depth--;break;case"Flatten":K.depth=0}K.dirty=!0},Qs=(L,K)=>{Xa(L)&&Xa(K)&&(L.listType=K.listType,L.listAttributes={...K.listAttributes})},ml=L=>{L.listAttributes=ji(L.listAttributes,(K,re)=>re!=="start")},kd=(L,K)=>{const re=L[K].depth,Re=Dt=>Dt.depth===re&&!Dt.dirty,Ke=Dt=>Dt.depth<re;return tn(Vn(L.slice(0,K)),Re,Ke).orThunk(()=>tn(L.slice(K+1),Re,Ke))},Ba=L=>(Be(L,(K,re)=>{kd(L,re).fold(()=>{K.dirty&&Xa(K)&&ml(K)},Re=>Qs(K,Re))}),L),Dn=L=>{let K=L;return{get:()=>K,set:Ke=>{K=Ke}}},vc=(L,K,re,Re)=>{var Ke;if(Pa(Re))return[{depth:L+1,content:(Ke=Re.dom.nodeValue)!==null&&Ke!==void 0?Ke:"",dirty:!1,isSelected:!1,isComment:!0}];K.each(mo=>{De(mo.start,Re)&&re.set(!0)});const Dt=Ig(Re,L,re.get());K.each(mo=>{De(mo.end,Re)&&re.set(!1)});const Bn=cm(Re).filter(Dg).map(mo=>pr(L,K,re,mo)).getOr([]);return Dt.toArray().concat(Bn)},yc=(L,K,re,Re)=>Ws(Re).filter(Dg).fold(()=>vc(L,K,re,Re),Ke=>{const Dt=Mt(Il(Re),(Bn,mo,ro)=>{if(ro===0)return Bn;if(L0(mo))return Bn.concat(vc(L,K,re,mo));{const kn={isFragment:!0,depth:L,content:[mo],isSelected:!1,dirty:!1,parentListType:Yo(Ke)};return Bn.concat(kn)}},[]);return pr(L,K,re,Ke).concat(Dt)}),pr=(L,K,re,Re)=>_n(Il(Re),Ke=>{const Dt=Dg(Ke)?pr:yc,Bn=L+1;return Dt(Bn,K,re,Ke)}),Vh=(L,K)=>{const re=Dn(!1),Re=0;return Oe(L,Ke=>({sourceList:Ke,entries:pr(Re,K,re,Ke)}))},wb=(L,K)=>{const re=Ba(K);return Oe(re,Re=>{const Ke=fl(Re)?Ya([pe.fromHtml(`<!--${Re.content}-->`)]):Ya(Re.content),Dt=Xa(Re)?Re.itemAttributes:{};return pe.fromDom(gm(L,Ke.dom,Dt))})},Ed=(L,K)=>{const re=Ba(K);return Sd(L.contentDocument,re).toArray()},Ao=(L,K)=>_n(St(K,zo),re=>Je(re).exists(zo)?Ed(L,re):wb(L,re)),Ti=(L,K)=>{Be(P(L,_d),re=>Co(K,re))},Uh=L=>{const K=Oe(Al(L),pe.fromDom);return gn(un(K,Se(mf)),un(Vn(K),Se(mf)),(re,Re)=>({start:re,end:Re}))},Ad=(L,K,re)=>{const Re=Vh(K,Uh(L));Be(Re,Ke=>{Ti(Ke.entries,re);const Dt=Ao(L,Ke.entries);Be(Dt,Bn=>{ff(L,re==="Indent"?"IndentList":"OutdentList",Bn.dom)}),Xr(Ke.sourceList,Dt),fm(Ke.sourceList)})},Cb=(L,K)=>{const re=xd(R0(L)),Re=xd(Hh(L));let Ke=!1;if(re.length||Re.length){const Dt=L.selection.getBookmark();Ad(L,re,K),bc(L,K,Re),L.selection.moveToBookmark(Dt),L.selection.setRng(Ur(L.selection.getRng())),L.nodeChanged(),Ke=!0}return Ke},Xc=(L,K)=>!uf(L)&&Cb(L,K),Gi=L=>Xc(L,"Indent"),Jc=L=>Xc(L,"Outdent"),pf=L=>Xc(L,"Flatten"),$e="\uFEFF",bm=L=>L===$e,Ar=(L,K,re)=>Pl(L,K,re).isSome(),_b=(L,K)=>Ar(L,X(De,K));var Pg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Qc=tt.DOM,Vo=L=>{const K={},re=Re=>{let Ke=L[Re?"startContainer":"endContainer"],Dt=L[Re?"startOffset":"endOffset"];if(zt(Ke)){const Bn=Qc.create("span",{"data-mce-type":"bookmark"});Ke.hasChildNodes()?(Dt=Math.min(Dt,Ke.childNodes.length-1),Re?Ke.insertBefore(Bn,Ke.childNodes[Dt]):Qc.insertAfter(Bn,Ke.childNodes[Dt])):Ke.appendChild(Bn),Ke=Bn,Dt=0}K[Re?"startContainer":"endContainer"]=Ke,K[Re?"startOffset":"endOffset"]=Dt};return re(!0),L.collapsed||re(),K},Ja=L=>{const K=Re=>{const Ke=mo=>{var ro;let kn=(ro=mo.parentNode)===null||ro===void 0?void 0:ro.firstChild,ir=0;for(;kn;){if(kn===mo)return ir;(!zt(kn)||kn.getAttribute("data-mce-type")!=="bookmark")&&ir++,kn=kn.nextSibling}return-1};let Dt=L[Re?"startContainer":"endContainer"],Bn=L[Re?"startOffset":"endOffset"];if(Dt){if(zt(Dt)&&Dt.parentNode){const mo=Dt;Bn=Ke(Dt),Dt=Dt.parentNode,Qc.remove(mo),!Dt.hasChildNodes()&&Qc.isBlock(Dt)&&Dt.appendChild(Qc.create("br"))}L[Re?"startContainer":"endContainer"]=Dt,L[Re?"startOffset":"endOffset"]=Bn}};K(!0),K();const re=Qc.createRng();return re.setStart(L.startContainer,L.startOffset),L.endContainer&&re.setEnd(L.endContainer,L.endOffset),Ur(re)},Pu=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Gl=(L,K,re)=>{const Re=re["list-style-type"]?re["list-style-type"]:null;L.setStyle(K,"list-style-type",Re)},Lu=(L,K)=>{Le.each(K,(re,Re)=>{L.setAttribute(Re,re)})},Bu=(L,K,re)=>{Lu(K,re["list-attributes"]),Le.each(L.select("li",K),Re=>{Lu(Re,re["list-item-attributes"])})},Qa=(L,K,re)=>{Gl(L,K,re),Bu(L,K,re)},bf=(L,K,re)=>{Le.each(re,Re=>L.setStyle(K,Re,""))},vm=(L,K)=>D(K)&&!ks(K,L.schema.getBlockElements()),Sb=(L,K,re,Re)=>{let Ke=K[re?"startContainer":"endContainer"];const Dt=K[re?"startOffset":"endOffset"];zt(Ke)&&(Ke=Ke.childNodes[Math.min(Dt,Ke.childNodes.length-1)]||Ke),!re&&hr(Ke.nextSibling)&&(Ke=Ke.nextSibling);const Bn=ro=>{for(;!L.dom.isBlock(ro)&&ro.parentNode&&Re!==ro;)ro=ro.parentNode;return ro},mo=(ro,kn)=>{var ir;const Is=new jc(ro,Bn(ro)),fs=kn?"next":"prev";let Cc;for(;Cc=Is[fs]();)if(!(xo(L,Cc)||bm(Cc.textContent)||((ir=Cc.textContent)===null||ir===void 0?void 0:ir.length)===0))return j.some(Cc);return j.none()};if(re&&Qe(Ke))if(bm(Ke.textContent))Ke=mo(Ke,!1).getOr(Ke);else for(Ke.parentNode!==null&&vm(L,Ke.parentNode)&&(Ke=Ke.parentNode);Ke.previousSibling!==null&&(vm(L,Ke.previousSibling)||Qe(Ke.previousSibling));)Ke=Ke.previousSibling;if(!re&&Qe(Ke))if(bm(Ke.textContent))Ke=mo(Ke,!0).getOr(Ke);else for(Ke.parentNode!==null&&vm(L,Ke.parentNode)&&(Ke=Ke.parentNode);Ke.nextSibling!==null&&(vm(L,Ke.nextSibling)||Qe(Ke.nextSibling));)Ke=Ke.nextSibling;for(;Ke.parentNode!==Re;){const ro=Ke.parentNode;if(Ho(L,Ke)||/^(TD|TH)$/.test(ro.nodeName))return Ke;Ke=ro}return Ke},ma=(L,K,re)=>{const Re=[],Ke=L.dom,Dt=Sb(L,K,!0,re),Bn=Sb(L,K,!1,re);let mo;const ro=[];for(let kn=Dt;kn&&(ro.push(kn),kn!==Bn);kn=kn.nextSibling);return Le.each(ro,kn=>{var ir;if(Ho(L,kn)){Re.push(kn),mo=null;return}if(Ke.isBlock(kn)||hr(kn)){hr(kn)&&Ke.remove(kn),mo=null;return}const Is=kn.nextSibling;if(Pg.isBookmarkNode(kn)&&(Qt(Is)||Ho(L,Is)||!Is&&kn.parentNode===re)){mo=null;return}mo||(mo=Ke.create("p"),(ir=kn.parentNode)===null||ir===void 0||ir.insertBefore(mo,kn),Re.push(mo)),mo.appendChild(kn)}),Re},Ln=(L,K,re)=>{const Re=L.getStyle(K,"list-style-type");let Ke=re?re["list-style-type"]:"";return Ke=Ke===null?"":Ke,Re===Ke},Mu=(L,K)=>{const re=L.selection.getStart(!0),Re=Sb(L,K,!0,L.getBody());return _b(pe.fromDom(Re),pe.fromDom(K.commonAncestorContainer))?K.commonAncestorContainer:re},ym=(L,K,re)=>{const Re=L.selection.getRng();let Ke="LI";const Dt=Cd(L,Mu(L,Re)),Bn=L.dom;if(Bn.getContentEditable(L.selection.getNode())==="false")return;K=K.toUpperCase(),K==="DL"&&(Ke="DT");const mo=Vo(Re),ro=P(ma(L,Re,Dt),L.dom.isEditable);Le.each(ro,kn=>{let ir;const Is=kn.previousSibling,fs=kn.parentNode;sn(fs)||(Is&&Qt(Is)&&Is.nodeName===K&&Ln(Bn,Is,re)?(ir=Is,kn=Bn.rename(kn,Ke),Is.appendChild(kn)):(ir=Bn.create(K),fs.insertBefore(ir,kn),ir.appendChild(kn),kn=Bn.rename(kn,Ke)),bf(Bn,kn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qa(Bn,ir,re),Td(L.dom,ir))}),L.selection.setRng(Ja(mo))},ei=(L,K)=>Qt(L)&&L.nodeName===(K==null?void 0:K.nodeName),Fu=(L,K,re)=>{const Re=L.getStyle(K,"list-style-type",!0),Ke=L.getStyle(re,"list-style-type",!0);return Re===Ke},Tl=(L,K)=>L.className===K.className,$u=(L,K,re)=>ei(K,re)&&Fu(L,K,re)&&Tl(K,re),Td=(L,K)=>{let re,Re=K.nextSibling;if($u(L,K,Re)){const Ke=Re;for(;re=Ke.firstChild;)K.appendChild(re);L.remove(Ke)}if(Re=K.previousSibling,$u(L,K,Re)){const Ke=Re;for(;re=Ke.lastChild;)K.insertBefore(re,K.firstChild);L.remove(Ke)}},ga=(L,K,re,Re)=>{if(K.nodeName!==re){const Ke=L.dom.rename(K,re);Qa(L.dom,Ke,Re),ff(L,Pu(re),Ke)}else Qa(L.dom,K,Re),ff(L,Pu(re),K)},Yl=(L,K,re,Re)=>{if(K.classList.forEach((Ke,Dt,Bn)=>{Ke.startsWith("tox-")&&(Bn.remove(Ke),Bn.length===0&&K.removeAttribute("class"))}),K.nodeName!==re){const Ke=L.dom.rename(K,re);Qa(L.dom,Ke,Re),ff(L,Pu(re),Ke)}else Qa(L.dom,K,Re),ff(L,Pu(re),K)},eu=(L,K,re,Re,Ke)=>{const Dt=Qt(K);if(Dt&&K.nodeName===Re&&!xm(Ke)&&!zh(K))pf(L);else{ym(L,Re,Ke);const Bn=Vo(L.selection.getRng()),mo=Dt?[K,...re]:re,ro=Dt&&zh(K)?Yl:ga;Le.each(mo,kn=>{ro(L,kn,Re,Ke)}),L.selection.setRng(Ja(Bn))}},xm=L=>"list-style-type"in L,B0=(L,K,re,Re)=>{if(K!==L.getBody())if(K)if(K.nodeName===re&&!xm(Re)&&!zh(K))pf(L);else{const Ke=Vo(L.selection.getRng());zh(K)&&K.classList.forEach((Bn,mo,ro)=>{Bn.startsWith("tox-")&&(ro.remove(Bn),ro.length===0&&K.removeAttribute("class"))}),Qa(L.dom,K,Re);const Dt=L.dom.rename(K,re);Td(L.dom,Dt),L.selection.setRng(Ja(Ke)),ym(L,re,Re),ff(L,Pu(re),Dt)}else ym(L,re,Re),ff(L,Pu(re),K)},Hu=(L,K,re)=>{const Re=qa(L);if(df(L,Re))return;const Ke=qi(L),Dt=x(re)?re:{};Ke.length>0?eu(L,Re,Ke,K,Dt):B0(L,Re,K,Dt)},vf=tt.DOM,kb=(L,K)=>{const re=K.parentElement;if(re&&re.nodeName==="LI"&&re.firstChild===K){const Re=re.previousSibling;Re&&Re.nodeName==="LI"?(Re.appendChild(K),hi(L,re)&&vf.remove(re)):vf.setStyle(re,"listStyleType","none")}if(Qt(re)){const Re=re.previousSibling;Re&&Re.nodeName==="LI"&&Re.appendChild(K)}},us=(L,K)=>{const re=Le.grep(L.select("ol,ul",K));Le.each(re,Re=>{kb(L,Re)})},Oi=(L,K,re,Re)=>{let Ke=K.startContainer;const Dt=K.startOffset;if(Qe(Ke)&&(re?Dt<Ke.data.length:Dt>0))return Ke;const Bn=L.schema.getNonEmptyElements();zt(Ke)&&(Ke=Zc.getNode(Ke,Dt));const mo=new jc(Ke,Re);re&&Ll(L.dom,Ke)&&mo.next();const ro=re?mo.next.bind(mo):mo.prev2.bind(mo);for(;Ke=ro();)if(Ke.nodeName==="LI"&&!Ke.hasChildNodes()||Bn[Ke.nodeName]||Qe(Ke)&&Ke.data.length>0)return Ke;return null},bi=(L,K)=>{const re=K.childNodes;return re.length===1&&!Qt(re[0])&&L.isBlock(re[0])},Yi=L=>j.from(L).map(pe.fromDom).filter(yn).exists(K=>um(K)&&!je(["details"],Yo(K))),aa=(L,K)=>{bi(L,K)&&Yi(K.firstChild)&&L.remove(K.firstChild,!0)},Wh=(L,K,re)=>{let Re;const Ke=bi(L,re)?re.firstChild:re;if(aa(L,K),!hi(L,K,!0))for(;Re=K.firstChild;)Ke.appendChild(Re)},ea=(L,K,re)=>{let Re;const Ke=K.parentNode;if(!ao(L,K)||!ao(L,re))return;Qt(re.lastChild)&&(Re=re.lastChild),Ke===re.lastChild&&hr(Ke.previousSibling)&&L.remove(Ke.previousSibling);const Dt=re.lastChild;Dt&&hr(Dt)&&K.hasChildNodes()&&L.remove(Dt),hi(L,re,!0)&&kl(pe.fromDom(re)),Wh(L,K,re),Re&&re.appendChild(Re);const mo=We(pe.fromDom(re),pe.fromDom(K))?L.getParents(K,Qt,re):[];L.remove(K),Be(mo,ro=>{hi(L,ro)&&ro!==L.getRoot()&&L.remove(ro)})},Ma=(L,K,re)=>{kl(pe.fromDom(re)),ea(L.dom,K,re),L.selection.setCursorLocation(re,0)},tu=(L,K,re,Re)=>{const Ke=L.dom;if(Ke.isEmpty(Re))Ma(L,re,Re);else{const Dt=Vo(K);ea(Ke,re,Re),L.selection.setRng(Ja(Dt))}},Ot=(L,K,re,Re)=>{const Ke=Vo(K);ea(L.dom,re,Re);const Dt=Ja(Ke);L.selection.setRng(Dt)},Fa=(L,K)=>{const re=L.dom,Re=L.selection,Ke=Re.getStart(),Dt=Eo(L,Ke),Bn=re.getParent(Re.getStart(),"LI",Dt);if(Bn){const mo=Bn.parentElement;if(mo===L.getBody()&&hi(re,mo))return!0;const ro=Ur(Re.getRng()),kn=re.getParent(Oi(L,ro,K,Dt),"LI",Dt),ir=kn&&(K?re.isChildOf(Bn,kn):re.isChildOf(kn,Bn));if(kn&&kn!==Bn&&!ir)return L.undoManager.transact(()=>{K?tu(L,ro,kn,Bn):Ro(Bn)?Jc(L):Ot(L,ro,Bn,kn)}),!0;if(ir&&!K&&kn!==Bn)return L.undoManager.transact(()=>{if(ro.commonAncestorContainer.parentElement){const Is=Vo(ro),fs=ro.commonAncestorContainer.parentElement;Wh(re,ro.commonAncestorContainer.parentElement,kn),fs.remove();const Cc=Ja(Is);L.selection.setRng(Cc)}}),!0;if(!kn&&!K&&ro.startOffset===0&&ro.endOffset===0)return L.undoManager.transact(()=>{pf(L)}),!0}return!1},Zh=(L,K,re)=>{const Re=L.getParent(K.parentNode,L.isBlock,re);L.remove(K),Re&&L.isEmpty(Re)&&L.remove(Re)},ds=(L,K)=>{const re=L.dom,Re=L.selection.getStart(),Ke=Eo(L,Re),Dt=re.getParent(Re,re.isBlock,Ke);if(Dt&&re.isEmpty(Dt,void 0,{checkRootAsContent:!0})){const Bn=Ur(L.selection.getRng()),mo=re.getParent(Oi(L,Bn,K,Ke),"LI",Ke);if(mo){const ro=fs=>je(["td","th","caption"],Yo(fs)),kn=fs=>fs.dom===Ke,ir=xa(pe.fromDom(mo),ro,kn),Is=xa(pe.fromDom(Bn.startContainer),ro,kn);return Xn(ir,Is,De)?(L.undoManager.transact(()=>{const fs=mo.parentNode;Zh(re,Dt,Ke),Td(re,fs),L.selection.select(mo,!0),L.selection.collapse(K)}),!0):!1}}return!1},zu=(L,K)=>Fa(L,K)||ds(L,K),Di=L=>{const K=L.selection.getStart(),re=Eo(L,K);return L.dom.getParent(K,"LI,DT,DD",re)||Al(L).length>0},xc=L=>Di(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),us(L.dom,L.getBody())}),!0):!1,wm=(L,K)=>{const re=L.selection;return!df(L,re.getNode())&&(re.isCollapsed()?zu(L,K):xc(L))},Xi=L=>{L.on("ExecCommand",K=>{const re=K.command.toLowerCase();(re==="delete"||re==="forwarddelete")&&Di(L)&&us(L.dom,L.getBody())}),L.on("keydown",K=>{K.keyCode===lf.BACKSPACE?wm(L,!1)&&K.preventDefault():K.keyCode===lf.DELETE&&wm(L,!0)&&K.preventDefault()})},Bo=L=>({backspaceDelete:K=>{wm(L,K)}}),Rs=(L,K)=>{const re=qa(L);re===null||df(L,re)||L.undoManager.transact(()=>{x(K.styles)&&L.dom.setStyles(re,K.styles),x(K.attrs)&&Ss(K.attrs,(Re,Ke)=>L.dom.setAttrib(re,Ke,Re))})},yf=L=>{const K=Vn(Gy(L).split("")),re=Oe(K,(Re,Ke)=>{const Dt=Re.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ke)*Dt});return Mt(re,(Re,Ke)=>Re+Ke,0)},Es=L=>{if(L--,L<0)return"";{const K=L%26,re=Math.floor(L/26),Re=Es(re),Ke=String.fromCharCode(65+K);return Re+Ke}},Lg=L=>/^[A-Z]+$/.test(L),nu=L=>/^[a-z]+$/.test(L),M0=L=>/^[0-9]+$/.test(L),vs=L=>M0(L)?2:Lg(L)?0:nu(L)?1:xb(L)?3:4,rt=L=>{switch(vs(L)){case 2:return j.some({listStyleType:j.none(),start:L});case 0:return j.some({listStyleType:j.some("upper-alpha"),start:yf(L).toString()});case 1:return j.some({listStyleType:j.some("lower-alpha"),start:yf(L).toString()});case 3:return j.some({listStyleType:j.none(),start:""});case 4:return j.none()}},Ri=L=>{const K=parseInt(L.start,10);return jn(L.listStyleType,"upper-alpha")?Es(K):jn(L.listStyleType,"lower-alpha")?Es(K).toLowerCase():L.start},Ns=L=>{const K=qa(L);!hn(K)||df(L,K)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ri({start:L.dom.getAttrib(K,"start","1"),listStyleType:j.from(L.dom.getStyle(K,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:re=>{const Re=re.getData();rt(Re.start).each(Ke=>{L.execCommand("mceListUpdate",!1,{attrs:{start:Ke.start==="1"?"":Ke.start},styles:{"list-style-type":Ke.listStyleType.getOr("")}})}),re.close()}})},Ml=(L,K)=>()=>{const re=qa(L);return D(re)&&re.nodeName===K},wc=L=>{L.addCommand("mceListProps",()=>{Ns(L)})},js=L=>{L.on("BeforeExecCommand",K=>{const re=K.command.toLowerCase();re==="indent"?Gi(L):re==="outdent"&&Jc(L)}),L.addCommand("InsertUnorderedList",(K,re)=>{Hu(L,"UL",re)}),L.addCommand("InsertOrderedList",(K,re)=>{Hu(L,"OL",re)}),L.addCommand("InsertDefinitionList",(K,re)=>{Hu(L,"DL",re)}),L.addCommand("RemoveList",()=>{pf(L)}),wc(L),L.addCommand("mceListUpdate",(K,re)=>{x(re)&&Rs(L,re)}),L.addQueryStateHandler("InsertUnorderedList",Ml(L,"UL")),L.addQueryStateHandler("InsertOrderedList",Ml(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",Ml(L,"DL"))};var Zr=tinymce.util.Tools.resolve("tinymce.html.Node");const Cr=L=>L.type===3,Ni=L=>L.length===0,Fl=L=>{const K=(Ke,Dt)=>{const Bn=Zr.create("li");Be(Ke,mo=>Bn.append(mo)),Dt?L.insert(Bn,Dt,!0):L.append(Bn)},re=(Ke,Dt)=>Cr(Dt)?[...Ke,Dt]:!Ni(Ke)&&!Cr(Dt)?(K(Ke,Dt),[]):Ke,Re=Mt(L.children(),re,[]);Ni(Re)||K(Re)},ou=L=>{L.on("PreInit",()=>{const{parser:K}=L;K.addNodeFilter("ul,ol",re=>Be(re,Fl))})},Od=L=>{L.on("keydown",K=>{K.keyCode!==lf.TAB||lf.metaKeyPressed(K)||L.undoManager.transact(()=>{(K.shiftKey?Jc(L):Gi(L))&&K.preventDefault()})})},Cm=L=>{ps(L)&&Od(L),Xi(L)},Bg=(L,K)=>re=>{const Re=Ke=>{re.setActive(N0(Ke.parents,K)),re.setEnabled(!df(L,Ke.element)&&L.selection.isEditable())};return re.setEnabled(L.selection.isEditable()),I0(L,Re)},Mg=L=>{const K=re=>()=>L.execCommand(re);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:K("InsertOrderedList"),onSetup:Bg(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:K("InsertUnorderedList"),onSetup:Bg(L,"UL")}))},Eb=(L,K)=>re=>I0(L,Ke=>re.setEnabled(N0(Ke.parents,K)&&!df(L,Ke.element))),Ab=L=>{const K={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:Eb(L,"OL")};L.ui.registry.addMenuItem("listprops",K),L.ui.registry.addContextMenu("lists",{update:re=>{const Re=qa(L,re);return hn(Re)?["listprops"]:[]}})};var Vu=()=>{n.add("lists",L=>(ul(L),ou(L),L.hasPlugin("rtc",!0)?wc(L):(Cm(L),js(L)),Mg(L),Ab(L),Bo(L)))};Vu()}()),tG}var oG;function w0e(){return oG||(oG=1,x0e()),eG}w0e();var rG={},sG={},aG;function C0e(){return aG||(aG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(be,Ae)=>be.dispatch("insertCustomChar",{chr:Ae}),c=(be,Ae)=>{const Fe=s(be,Ae).chr;be.execCommand("mceInsertContent",!1,Fe)},f=(be,Ae,Fe)=>{var pe;return Fe(be,Ae.prototype)?!0:((pe=be.constructor)===null||pe===void 0?void 0:pe.name)===Ae.name},g=be=>{const Ae=typeof be;return be===null?"null":Ae==="object"&&Array.isArray(be)?"array":Ae==="object"&&f(be,String,(Fe,pe)=>pe.isPrototypeOf(Fe))?"string":Ae},h=be=>Ae=>g(Ae)===be,x=be=>Ae=>typeof Ae===be,C=be=>Ae=>be===Ae,O=h("array"),R=C(null),D=C(void 0),N=be=>be==null,H=be=>!N(be),V=x("function"),te=(be=>()=>be)(!1);class ce{constructor(Ae,Fe){this.tag=Ae,this.value=Fe}static some(Ae){return new ce(!0,Ae)}static none(){return ce.singletonNone}fold(Ae,Fe){return this.tag?Fe(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?ce.some(Ae(this.value)):ce.none()}bind(Ae){return this.tag?Ae(this.value):ce.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:ce.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return H(Ae)?ce.some(Ae):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const X=Array.prototype.push,Se=(be,Ae)=>{const Fe=be.length,pe=new Array(Fe);for(let Ce=0;Ce<Fe;Ce++){const De=be[Ce];pe[Ce]=Ae(De,Ce)}return pe},fe=(be,Ae)=>{for(let Fe=0,pe=be.length;Fe<pe;Fe++){const Ce=be[Fe];Ae(Ce,Fe)}},j=(be,Ae,Fe)=>{for(let pe=0,Ce=be.length;pe<Ce;pe++){const De=be[pe];if(Ae(De,pe))return ce.some(De);if(Fe(De,pe))break}return ce.none()},de=(be,Ae)=>j(be,Ae,te),oe=be=>{const Ae=[];for(let Fe=0,pe=be.length;Fe<pe;++Fe){if(!O(be[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+be);X.apply(Ae,be[Fe])}return Ae},Ue=(be,Ae)=>oe(Se(be,Ae));var He=tinymce.util.Tools.resolve("tinymce.util.Tools");const je=be=>Ae=>Ae.options.get(be),st=be=>{const Ae=be.options.register,Fe=pe=>V(pe)||O(pe);Ae("charmap",{processor:Fe}),Ae("charmap_append",{processor:Fe})},Oe=je("charmap"),Be=je("charmap_append"),P=He.isArray,St="User Defined",Mt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],tn=be=>He.grep(be,Ae=>P(Ae)&&Ae.length===2),un=be=>P(be)?tn(be):typeof be=="function"?be():[],ct=(be,Ae)=>{const Fe=Oe(be);Fe&&(Ae=[{name:St,characters:un(Fe)}]);const pe=Be(be);if(pe){const Ce=He.grep(Ae,De=>De.name===St);return Ce.length?(Ce[0].characters=[...Ce[0].characters,...un(pe)],Ae):Ae.concat({name:St,characters:un(pe)})}return Ae},_n=be=>{const Ae=ct(be,Mt());return Ae.length>1?[{name:"All",characters:Ue(Ae,Fe=>Fe.characters)}].concat(Ae):Ae},Vn=be=>({getCharMap:()=>_n(be),insertChar:pe=>{c(be,pe)}}),Lt=be=>{let Ae=be;return{get:()=>Ae,set:Ce=>{Ae=Ce}}},Je=(be,Ae)=>{let Fe=null;const pe=()=>{R(Fe)||(clearTimeout(Fe),Fe=null)};return{cancel:pe,throttle:(...De)=>{pe(),Fe=setTimeout(()=>{Fe=null,be.apply(null,De)},Ae)}}},Tt=(be,Ae,Fe=0,pe)=>{const Ce=be.indexOf(Ae,Fe);return Ce!==-1?D(pe)?!0:Ce+Ae.length<=pe:!1},Gn=String.fromCodePoint,jn=(be,Ae,Fe)=>Tt(Gn(be).toLowerCase(),Fe)?!0:Tt(Ae.toLowerCase(),Fe)||Tt(Ae.toLowerCase().replace(/\s+/g,""),Fe),Xn=(be,Ae)=>{const Fe=[],pe=Ae.toLowerCase();return fe(be.characters,Ce=>{jn(Ce[0],Ce[1],pe)&&Fe.push(Ce)}),Se(Fe,Ce=>({text:Ce[1],value:Gn(Ce[0]),icon:Gn(Ce[0])}))},gn="pattern",Q=(be,Ae)=>{const Fe=()=>[{label:"Search",type:"input",name:gn},{type:"collection",name:"results"}],pe=()=>Se(Ae,yo=>({title:yo.name,name:yo.name,items:Fe()})),Ce=()=>({type:"panel",items:Fe()}),De=()=>({type:"tabpanel",tabs:pe()}),We=Ae.length===1?Lt(St):Lt("All"),dt=(yo,Fr)=>{de(Ae,Yo=>Yo.name===We.get()).each(Yo=>{const Us=Xn(Yo,Fr);yo.setData({results:Us})})},Ft=Je(yo=>{const Fr=yo.getData().pattern;dt(yo,Fr)},40),vn=Ae.length===1?Ce():De(),Mn={pattern:"",results:Xn(Ae[0],"")},zn={title:"Special Character",size:"normal",body:vn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Mn,onAction:(yo,Fr)=>{Fr.name==="results"&&(c(be,Fr.value),yo.close())},onTabChange:(yo,Fr)=>{We.set(Fr.newTabName),Ft.throttle(yo)},onChange:(yo,Fr)=>{Fr.name===gn&&Ft.throttle(yo)}};be.windowManager.open(zn).focus(gn)},gr=(be,Ae)=>{be.addCommand("mceShowCharmap",()=>{Q(be,Ae)})},$o=(be,Ae)=>{be.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Fe,pe)=>new Promise((Ce,De)=>{Ce(Xn(Ae,Fe))}),onAction:(Fe,pe,Ce)=>{be.selection.setRng(pe),be.insertContent(Ce),Fe.hide()}})},Do=be=>Ae=>{const Fe=()=>{Ae.setEnabled(be.selection.isEditable())};return be.on("NodeChange",Fe),Fe(),()=>{be.off("NodeChange",Fe)}},Ye=be=>{const Ae=()=>be.execCommand("mceShowCharmap");be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ae,onSetup:Do(be)}),be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ae,onSetup:Do(be)})};var it=()=>{n.add("charmap",be=>{st(be);const Ae=_n(be);return gr(be,Ae),Ye(be),$o(be,Ae[0]),Vn(be)})};it()}()),sG}var iG;function _0e(){return iG||(iG=1,C0e()),rG}_0e();var lG={},cG={},uG;function S0e(){return uG||(uG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const c=(be=>Ae=>be===Ae)(null),f=be=>be,g=(be,Ae)=>{const Fe=be.length,pe=new Array(Fe);for(let Ce=0;Ce<Fe;Ce++){const De=be[Ce];pe[Ce]=Ae(De,Ce)}return pe},x={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},C={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},O=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],R="",D=new RegExp("^"+x.punctuation+"$"),N=/^\s+$/,H=O,V=C.OTHER,Z=be=>{let Ae=V;const Fe=H.length;for(let pe=0;pe<Fe;++pe){const Ce=H[pe];if(Ce&&Ce.test(be)){Ae=pe;break}}return Ae},te=be=>{const Ae={};return Fe=>{if(Ae[Fe])return Ae[Fe];{const pe=be(Fe);return Ae[Fe]=pe,pe}}},ce=be=>{const Ae=te(Z);return g(be,Ae)},X=(be,Ae)=>{const Fe=be[Ae],pe=be[Ae+1];if(Ae<0||Ae>be.length-1&&Ae!==0||Fe===C.ALETTER&&pe===C.ALETTER)return!1;const Ce=be[Ae+2];if(Fe===C.ALETTER&&(pe===C.MIDLETTER||pe===C.MIDNUMLET||pe===C.AT)&&Ce===C.ALETTER)return!1;const De=be[Ae-1];return(Fe===C.MIDLETTER||Fe===C.MIDNUMLET||pe===C.AT)&&pe===C.ALETTER&&De===C.ALETTER||(Fe===C.NUMERIC||Fe===C.ALETTER)&&(pe===C.NUMERIC||pe===C.ALETTER)||(Fe===C.MIDNUM||Fe===C.MIDNUMLET)&&pe===C.NUMERIC&&De===C.NUMERIC||Fe===C.NUMERIC&&(pe===C.MIDNUM||pe===C.MIDNUMLET)&&Ce===C.NUMERIC||(Fe===C.EXTEND||Fe===C.FORMAT)&&(pe===C.ALETTER||pe===C.NUMERIC||pe===C.KATAKANA||pe===C.EXTEND||pe===C.FORMAT)||(pe===C.EXTEND||pe===C.FORMAT&&(Ce===C.ALETTER||Ce===C.NUMERIC||Ce===C.KATAKANA||Ce===C.EXTEND||Ce===C.FORMAT))&&(Fe===C.ALETTER||Fe===C.NUMERIC||Fe===C.KATAKANA||Fe===C.EXTEND||Fe===C.FORMAT)||Fe===C.CR&&pe===C.LF?!1:Fe===C.NEWLINE||Fe===C.CR||Fe===C.LF||pe===C.NEWLINE||pe===C.CR||pe===C.LF?!0:!(Fe===C.KATAKANA&&pe===C.KATAKANA||pe===C.EXTENDNUMLET&&(Fe===C.ALETTER||Fe===C.NUMERIC||Fe===C.KATAKANA||Fe===C.EXTENDNUMLET)||Fe===C.EXTENDNUMLET&&(pe===C.ALETTER||pe===C.NUMERIC||pe===C.KATAKANA)||Fe===C.AT)},Se=R,fe=N,j=D,de=be=>be==="http"||be==="https",oe=(be,Ae)=>{let Fe;for(Fe=Ae;Fe<be.length&&!fe.test(be[Fe]);Fe++);return Fe},Ue=(be,Ae)=>{const Fe=oe(be,Ae+1);return be.slice(Ae+1,Fe).join(Se).substr(0,3)==="://"?Fe:Ae},He=(be,Ae,Fe,pe)=>{const Ce=[],De=[];let We=[];for(let dt=0;dt<Fe.length;++dt)if(We.push(be[dt]),X(Fe,dt)){const on=Ae[dt];if((pe.includeWhitespace||!fe.test(on))&&(pe.includePunctuation||!j.test(on))){const Ft=dt-We.length+1,vn=dt+1,Mn=Ae.slice(Ft,vn).join(Se);if(de(Mn)){const zn=Ue(Ae,dt),_o=be.slice(vn,zn);Array.prototype.push.apply(We,_o),dt=zn}Ae[dt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Mn+".")?(We.push(be[dt+1]),De.push({start:Ft,end:vn+1})):De.push({start:Ft,end:vn}),Ce.push(We)}We=[]}return{words:Ce,indices:De}},je=()=>({includeWhitespace:!1,includePunctuation:!1}),st=(be,Ae,Fe)=>{Fe={...je(),...Fe};const pe=g(be,Ae),Ce=ce(pe);return He(be,pe,Ce,Fe)},Be=(be,Ae,Fe)=>st(be,Ae,Fe).words,P=be=>be.replace(/\uFEFF/g,"");var St=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Mt=(be,Ae)=>{const Fe=Ae.getBlockElements(),pe=Ae.getVoidElements(),Ce=Ft=>Fe[Ft.nodeName]||pe[Ft.nodeName],De=[];let We="";const dt=new St(be,be);let on;for(;on=dt.next();)on.nodeType===3?We+=P(on.data):Ce(on)&&We.length&&(De.push(We),We="");return We.length&&De.push(We),De},tn=be=>be.replace(/\u200B/g,""),un=be=>be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ct=(be,Ae)=>{const Fe=tn(Mt(be,Ae).join(`
`));return Be(Fe.split(""),f).length},_n=(be,Ae)=>{const Fe=Mt(be,Ae).join("");return un(Fe)},Vn=(be,Ae)=>{const Fe=Mt(be,Ae).join("").replace(/\s/g,"");return un(Fe)},Lt=(be,Ae)=>()=>Ae(be.getBody(),be.schema),Je=(be,Ae)=>()=>Ae(be.selection.getRng().cloneContents(),be.schema),Tt=be=>Lt(be,ct),Gn=be=>({body:{getWordCount:Tt(be),getCharacterCount:Lt(be,_n),getCharacterCountWithoutSpaces:Lt(be,Vn)},selection:{getWordCount:Je(be,ct),getCharacterCount:Je(be,_n),getCharacterCountWithoutSpaces:Je(be,Vn)},getCount:Tt(be)}),jn=(be,Ae)=>{be.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ae.body.getWordCount()),String(Ae.selection.getWordCount())],["Characters (no spaces)",String(Ae.body.getCharacterCountWithoutSpaces()),String(Ae.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ae.body.getCharacterCount()),String(Ae.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Xn=(be,Ae)=>{be.addCommand("mceWordCount",()=>jn(be,Ae))},gn=(be,Ae)=>{let Fe=null;return{cancel:()=>{c(Fe)||(clearTimeout(Fe),Fe=null)},throttle:(...De)=>{c(Fe)&&(Fe=setTimeout(()=>{Fe=null,be.apply(null,De)},Ae))}}};var Q=tinymce.util.Tools.resolve("tinymce.util.Delay");const gr=(be,Ae)=>{be.dispatch("wordCountUpdate",{wordCount:{words:Ae.body.getWordCount(),characters:Ae.body.getCharacterCount(),charactersWithoutSpaces:Ae.body.getCharacterCountWithoutSpaces()}})},$o=(be,Ae)=>{gr(be,Ae)},Do=(be,Ae,Fe)=>{const pe=gn(()=>$o(be,Ae),Fe);be.on("init",()=>{$o(be,Ae),Q.setEditorTimeout(be,()=>{be.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",pe.throttle)},0),be.on("remove",pe.cancel)})},Ye=be=>{const Ae=()=>be.execCommand("mceWordCount");be.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ae}),be.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ae})};var it=(be=300)=>{n.add("wordcount",Ae=>{const Fe=Gn(Ae);return Xn(Ae,Fe),Ye(Ae),Do(Ae,Fe,be),Fe})};it()}()),cG}var dG;function k0e(){return dG||(dG=1,S0e()),lG}k0e();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var E0e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],A0e=function(n){return E0e.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())!==-1},T0e=function(n,s,c){Object.keys(s).filter(A0e).forEach(function(f){var g=s[f];typeof g=="function"&&(f==="onInit"?g(n,c):c.on(f.substring(2),function(h){return g(h,c)}))})},O0e=function(n,s,c,f){var g=n.modelEvents?n.modelEvents:null,h=Array.isArray(g)?g.join(" "):g;qn(f,function(x,C){c&&typeof x=="string"&&x!==C&&x!==c.getContent({format:n.outputFormat})&&c.setContent(x)}),c.on(h||"change input undo redo",function(){s.emit("update:modelValue",c.getContent({format:n.outputFormat}))})},D0e=function(n,s,c,f,g,h){f.setContent(h()),c.attrs["onUpdate:modelValue"]&&O0e(s,c,f,g),T0e(n,c.attrs,f)},fG=0,mQ=function(n){var s=Date.now(),c=Math.floor(Math.random()*1e9);return fG++,n+"_"+c+fG+String(s)},R0e=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},mG=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},N0e=function(n,s){return mG(n).concat(mG(s))},I0e=function(n){return n==null},gG=function(n){var s;return typeof((s=n.options)===null||s===void 0?void 0:s.set)=="function"&&n.options.isRegistered("disabled")},hG=function(){return{listeners:[],scriptId:mQ("tiny-script"),scriptLoaded:!1}},P0e=function(){var n=hG(),s=function(g,h,x,C){var O=h.createElement("script");O.referrerPolicy="origin",O.type="application/javascript",O.id=g,O.src=x;var R=function(){O.removeEventListener("load",R),C()};O.addEventListener("load",R),h.head&&h.head.appendChild(O)},c=function(g,h,x){n.scriptLoaded?x():(n.listeners.push(x),g.getElementById(n.scriptId)||s(n.scriptId,g,h,function(){n.listeners.forEach(function(C){return C()}),n.scriptLoaded=!0}))},f=function(){n=hG()};return{load:c,reinitialize:f}},L0e=P0e(),B0e=function(){return typeof window<"u"?window:global},jw=function(){var n=B0e();return n&&n.tinymce?n.tinymce:null},M0e={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},nb=function(){return nb=Object.assign||function(n){for(var s,c=1,f=arguments.length;c<f;c++){s=arguments[c];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(n[g]=s[g])}return n},nb.apply(this,arguments)},F0e=function(n,s,c,f){return n(f||"div",{id:s,ref:c})},$0e=function(n,s,c){return n("textarea",{id:s,visibility:"hidden",ref:c})},Pz={selector:void 0,target:void 0},Lz=function(n,s){var c;typeof((c=n.mode)===null||c===void 0?void 0:c.set)=="function"?n.mode.set(s):n.setMode(s)},gQ=sY({props:M0e,setup:function(n,s){var c=n.init?nb(nb({},n.init),Pz):nb({},Pz),f=rM(n),g=f.disabled,h=f.readonly,x=f.modelValue,C=f.tagName,O=Io(null),R=null,D=n.id||mQ("tiny-vue"),N=n.init&&n.init.inline||n.inline,H=!!s.attrs["onUpdate:modelValue"],V=!0,Z=n.initialValue?n.initialValue:"",te="",ce=function(fe){return H?function(){return x!=null&&x.value?x.value:""}:function(){return fe?Z:te}},X=function(){var fe=ce(V),j=nb(nb({},c),{disabled:n.disabled,readonly:n.readonly,target:O.value,plugins:N0e(c.plugins,n.plugins),toolbar:n.toolbar||c.toolbar,inline:N,license_key:n.licenseKey,setup:function(de){R=de,!gG(R)&&n.disabled===!0&&Lz(R,"readonly"),de.on("init",function(oe){return D0e(oe,n,s,de,x,fe)}),typeof c.setup=="function"&&c.setup(de)}});R0e(O.value)&&(O.value.style.visibility=""),jw().init(j),V=!1};qn(h,function(fe){R!==null&&Lz(R,fe?"readonly":"design")}),qn(g,function(fe){R!==null&&(gG(R)?R.options.set("disabled",fe):Lz(R,fe?"readonly":"design"))}),qn(C,function(fe){var j;R&&(H||(te=R.getContent()),(j=jw())===null||j===void 0||j.remove(R),ya(function(){return X()}))}),Uc(function(){if(jw()!==null)X();else if(O.value&&O.value.ownerDocument){var fe=n.cloudChannel?n.cloudChannel:"7",j=n.apiKey?n.apiKey:"no-api-key",de=I0e(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(j,"/tinymce/").concat(fe,"/tinymce.min.js"):n.tinymceScriptSrc;L0e.load(O.value.ownerDocument,de,X)}}),hc(function(){jw()!==null&&jw().remove(R)}),N||(VV(function(){V||X()}),UV(function(){var fe;R&&(H||(te=R.getContent()),(fe=jw())===null||fe===void 0||fe.remove(R))}));var Se=function(fe){var j;R&&(te=R.getContent(),(j=jw())===null||j===void 0||j.remove(R),c=nb(nb(nb({},c),fe),Pz),ya(function(){return X()}))};return s.expose({rerender:Se,getEditor:function(){return R}}),function(){return N?F0e(fb,D,O,n.tagName):$0e(fb,D,O)}}});let Qp,dB,Ey;const{t:H0e}=iU.global;class hQ{constructor(s){Fo(this,"editor_id",null);Fo(this,"editor",null);Fo(this,"scroll_top",0);Fo(this,"scroll_left",0);Fo(this,"wordCount",Io(0));Fo(this,"characterCount",Io(0));this.editor_id=s,Qp=Ih(),dB=SU(),Ey=v0()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Qp.tinyToolbar,valid_elements:Qp.tinyValidElements,formats:Qp.tinyFormats,style_formats:Qp.tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Qp.tinyContentStyle,browser_spellcheck:Qp.allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:H0e("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:this.handlePaste}}init(){this.editor=y0e.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat(),this.applyWordCount()}handleCopy(s){dB.setContent(s.clipboardData.getData("text/html"))}handlePaste(s,c){dB.getPasteAllowed(c.content)||(c.content="",dB.showWarning())}async applyFocus(){try{await ya(),this.editor.focus()}catch{}}applyFormat(){for(const s of document.getElementsByClassName("tox-tinymce-aux"))s.classList.add(Qp.contentClass)}applyZoom(){try{this.editor.dom.setStyle(this.editor.dom.doc.body,"font-size",Ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h1"),"font-size",Ey.editor_zoom*Qp.tinyH1Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h2"),"font-size",Ey.editor_zoom*Qp.tinyH2Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h3"),"font-size",Ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h4"),"font-size",Ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h5"),"font-size",Ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h6"),"font-size",Ey.editor_zoom+"rem")}catch{}}saveScrolling(){const s=this.editor.getWin();(s.scrollX>0||s.scrollY>0)&&(this.scroll_left=s.scrollX,this.scroll_top=s.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(s){console.log(s)}}applyScrolling(){try{const s=this.editor.selection.getNode(),c=s.getBoundingClientRect(),f=this.editor.getContentAreaContainer().getBoundingClientRect();(c.top<f.top||c.bottom>f.bottom||c.right>f.right||c.left<f.left)&&s.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(s){console.log(s)}}applyWordCount(){try{const s=this.editor.plugins.wordcount;this.wordCount.value=s.body.getWordCount(),this.characterCount.value=s.body.getCharacterCount()}catch{}}}const z0e={id:"app-note-edit-wrapper"},V0e=["for"],U0e={class:"tinyWrapper"},W0e={class:"wordCountWrapper"},Z0e={__name:"EditNote",props:["noteKey","noteLabel"],setup(n){const s=Ny(),c=Ih(),f=v0(),g=jl(),h=n,x=new hQ("app-note-"+h.noteKey);qn(()=>c.contentClass,x.applyFormat.bind(x)),qn(()=>f.editor_zoom,x.applyZoom.bind(x)),qn(()=>g.focusChange,C);async function C(){g.focusTarget=="right"&&g.isNotesSelected&&s.activeKey==h.noteKey&&(x.applyFocus(),await ya(),x.restoreScrolling())}function O(){x.init()}function R(){s.updateContent(!0),x.applyZoom(),x.applyWordCount()}function D(){s.updateContent(!0),x.applyWordCount()}return(N,H)=>(rr(),Rl("div",z0e,[Pe("label",{class:"hidden",for:"app-note-"+h.noteKey},Nt(N.$t("editNoteHiddenField",[h.noteLabel])),9,V0e),Pe("div",U0e,[Ie(qe(gQ),{id:"app-note-"+h.noteKey,modelValue:qe(s).editNotes[h.noteKey].note_text,"onUpdate:modelValue":H[0]||(H[0]=V=>qe(s).editNotes[h.noteKey].note_text=V),onInit:O,onChange:R,onKeyup:D,onKeydown:qe(g).handleKeyDown,onCopy:qe(x).handleCopy,onCut:qe(x).handleCopy,licenseKey:"gpl",init:qe(x).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","init"])]),tr(Pe("div",W0e,[Ie(Ir,{variant:"text",size:"small",onClick:H[1]||(H[1]=V=>qe(f).toggleWordCountCharacters()),text:qe(f).word_count_characters?N.$t("allNumCharacters",qe(x).characterCount.value):N.$t("allNumWords",qe(x).wordCount.value)},null,8,["text"])],512),[[Sr,qe(f).word_count_enabled]])]))}},j0e=Eg(Z0e,[["__scopeId","data-v-871eaa8d"]]),K0e={id:"app-essay-edit-wrapper"},q0e={for:"app-essay",class:"hidden"},G0e={class:"tinyWrapper"},Y0e={class:"wordCountWrapper"},X0e={__name:"EditEssay",setup(n){const s=rb(),c=Ih(),f=v0(),g=jl(),h=new hQ("app-essay");qn(()=>c.contentClass,h.applyFormat.bind(h)),qn(()=>f.editor_zoom,h.applyZoom.bind(h)),qn(()=>g.focusChange,x);async function x(){g.focusTarget=="right"&&g.isEssayVisible&&(h.applyFocus(),await ya(),h.restoreScrolling())}function C(){h.init()}function O(){s.updateContent(!0),h.applyZoom(),h.applyWordCount()}function R(){s.updateContent(!0),h.applyWordCount()}return(D,N)=>(rr(),Rl("div",K0e,[Pe("label",q0e,Nt(D.$t("editEssayHiddenField")),1),Pe("div",G0e,[Ie(qe(gQ),{id:"app-essay",modelValue:qe(s).currentContent,"onUpdate:modelValue":N[0]||(N[0]=H=>qe(s).currentContent=H),onInit:C,onChange:O,onKeyup:R,onKeydown:qe(g).handleKeyDown,onCopy:qe(h).handleCopy,onCut:qe(h).handleCopy,onScroll:qe(h).saveScrolling,licenseKey:"gpl",init:qe(h).getInit()},null,8,["modelValue","onKeydown","onCopy","onCut","onScroll","init"])]),tr(Pe("div",Y0e,[Ie(Ir,{variant:"text",size:"small",onClick:N[1]||(N[1]=H=>qe(f).toggleWordCountCharacters()),text:qe(f).word_count_characters?D.$t("allNumCharacters",qe(h).characterCount.value):D.$t("allNumWords",qe(h).wordCount.value)},null,8,["text"])],512),[[Sr,qe(f).word_count_enabled]])]))}},J0e=Eg(X0e,[["__scopeId","data-v-a6ce7f54"]]),Q0e=so({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...rs(),...TM({transition:{component:RJ}})},"VCounter"),e1e=dr()({name:"VCounter",functional:!0,props:Q0e(),setup(n,s){let{slots:c}=s;const f=Zn(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return Yr(()=>Ie(Iy,{transition:n.transition},{default:()=>[tr(Pe("div",{class:Go(["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class]),style:kr(n.style)},[c.default?c.default({counter:f.value,max:n.max,value:n.value}):f.value]),[[Sr,n.active]])]})),{}}}),t1e=so({text:String,onClick:Cg(),...rs(),...ql()},"VLabel"),n1e=dr()({name:"VLabel",props:t1e(),setup(n,s){let{slots:c}=s;return Yr(()=>{var f;return Pe("label",{class:Go(["v-label",{"v-label--clickable":!!n.onClick},n.class]),style:kr(n.style),onClick:n.onClick},[n.text,(f=c.default)==null?void 0:f.call(c)])}),{}}}),o1e=so({floating:Boolean,...rs()},"VFieldLabel"),fB=dr()({name:"VFieldLabel",props:o1e(),setup(n,s){let{slots:c}=s;return Yr(()=>Ie(n1e,{class:Go(["v-field-label",{"v-field-label--floating":n.floating},n.class]),style:kr(n.style),"aria-hidden":n.floating||void 0},c)),{}}});function pQ(n){const{t:s}=aX();function c(f){let{name:g,color:h,...x}=f;const C={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],O=n[`onClick:${g}`];function R(N){N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),jY(O,new PointerEvent("click",N)))}const D=O&&C?s(`$vuetify.input.${C}`,n.label??""):void 0;return Ie(cr,Vs({icon:n[`${g}Icon`],"aria-label":D,onClick:O,onKeydown:R,color:h},x),null)}return{InputIcon:c}}const bQ=so({focused:Boolean,"onUpdate:focused":Cg()},"focus");function vQ(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb();const c=nf(n,"focused"),f=Zn(()=>({[`${s}--focused`]:c.value}));function g(){c.value=!0}function h(){c.value=!1}return{focusClasses:f,isFocused:c,focus:g,blur:h}}const r1e=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],yQ=so({appendInnerIcon:Hi,bgColor:String,clearable:Boolean,clearIcon:{type:Hi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Hi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>r1e.includes(n)},"onClick:clear":Cg(),"onClick:appendInner":Cg(),"onClick:prependInner":Cg(),...rs(),...fU(),...Sg(),...ql()},"VField"),pG=dr()({name:"VField",inheritAttrs:!1,props:{id:String,...bQ(),...yQ()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{attrs:c,emit:f,slots:g}=s;const{themeClasses:h}=Wc(n),{loaderClasses:x}=mU(n),{focusClasses:C,isFocused:O,focus:R,blur:D}=vQ(n),{InputIcon:N}=pQ(n),{roundedClasses:H}=kg(n),{rtlClasses:V}=T0(),Z=Zn(()=>n.dirty||n.active),te=Zn(()=>!!(n.label||g.label)),ce=Zn(()=>!n.singleLine&&te.value),X=UO(),Se=Wt(()=>n.id||`input-${X}`),fe=Zn(()=>`${Se.value}-messages`),j=Io(),de=Io(),oe=Io(),Ue=Wt(()=>["plain","underlined"].includes(n.variant)),He=Wt(()=>n.error||n.disabled?void 0:Z.value&&O.value?n.color:n.baseColor),je=Wt(()=>{if(!(!n.iconColor||n.glow&&!O.value))return n.iconColor===!0?He.value:n.iconColor}),{backgroundColorClasses:st,backgroundColorStyles:Oe}=cb(()=>n.bgColor),{textColorClasses:Be,textColorStyles:P}=k0(He);qn(Z,tn=>{if(ce.value){const un=j.value.$el,ct=de.value.$el;requestAnimationFrame(()=>{const _n=QV(un),Vn=ct.getBoundingClientRect(),Lt=Vn.x-_n.x,Je=Vn.y-_n.y-(_n.height/2-Vn.height/2),Tt=Vn.width/.75,Gn=Math.abs(Tt-_n.width)>1?{maxWidth:vr(Tt)}:void 0,jn=getComputedStyle(un),Xn=getComputedStyle(ct),gn=parseFloat(jn.transitionDuration)*1e3||150,Q=parseFloat(Xn.getPropertyValue("--v-field-label-scale")),gr=Xn.getPropertyValue("color");un.style.visibility="visible",ct.style.visibility="hidden",Sk(un,{transform:`translate(${Lt}px, ${Je}px) scale(${Q})`,color:gr,...Gn},{duration:gn,easing:$B,direction:tn?"normal":"reverse"}).finished.then(()=>{un.style.removeProperty("visibility"),ct.style.removeProperty("visibility")})})}},{flush:"post"});const St=Wt(()=>({isActive:Z,isFocused:O,controlRef:oe,blur:D,focus:R}));function Mt(tn){tn.target!==document.activeElement&&tn.preventDefault()}return Yr(()=>{var Lt,Je,Tt;const tn=n.variant==="outlined",un=!!(g["prepend-inner"]||n.prependInnerIcon),ct=!!(n.clearable||g.clear)&&!n.disabled,_n=!!(g["append-inner"]||n.appendInnerIcon||ct),Vn=()=>g.label?g.label({...St.value,label:n.label,props:{for:Se.value}}):n.label;return Pe("div",Vs({class:["v-field",{"v-field--active":Z.value,"v-field--appended":_n,"v-field--center-affix":n.centerAffix??!Ue.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--glow":n.glow,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":un,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!Vn(),[`v-field--variant-${n.variant}`]:!0},h.value,st.value,C.value,x.value,H.value,V.value,n.class],style:[Oe.value,n.style],onClick:Mt},c),[Pe("div",{class:"v-field__overlay"},null),Ie(bJ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:g.loader}),un&&Pe("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&Ie(N,{key:"prepend-icon",name:"prependInner",color:je.value},null),(Lt=g["prepend-inner"])==null?void 0:Lt.call(g,St.value)]),Pe("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&ce.value&&Ie(fB,{key:"floating-label",ref:de,class:Go([Be.value]),floating:!0,for:Se.value,style:kr(P.value)},{default:()=>[Vn()]}),te.value&&Ie(fB,{key:"label",ref:j,for:Se.value},{default:()=>[Vn()]}),((Je=g.default)==null?void 0:Je.call(g,{...St.value,props:{id:Se.value,class:"v-field__input","aria-describedby":fe.value},focus:R,blur:D}))??Pe("div",{id:Se.value,class:"v-field__input","aria-describedby":fe.value},null)]),ct&&Ie(hbe,{key:"clear"},{default:()=>[tr(Pe("div",{class:"v-field__clearable",onMousedown:Gn=>{Gn.preventDefault(),Gn.stopPropagation()}},[Ie(gc,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[g.clear?g.clear({...St.value,props:{onFocus:R,onBlur:D,onClick:n["onClick:clear"],tabindex:-1}}):Ie(N,{name:"clear",onFocus:R,onBlur:D,tabindex:-1},null)]})]),[[Sr,n.dirty]])]}),_n&&Pe("div",{key:"append",class:"v-field__append-inner"},[(Tt=g["append-inner"])==null?void 0:Tt.call(g,St.value),n.appendInnerIcon&&Ie(N,{key:"append-icon",name:"appendInner",color:je.value},null)]),Pe("div",{class:Go(["v-field__outline",Be.value]),style:kr(P.value)},[tn&&Pe(Os,null,[Pe("div",{class:"v-field__outline__start"},null),ce.value&&Pe("div",{class:"v-field__outline__notch"},[Ie(fB,{ref:de,floating:!0,for:Se.value},{default:()=>[Vn()]})]),Pe("div",{class:"v-field__outline__end"},null)]),Ue.value&&ce.value&&Ie(fB,{ref:de,floating:!0,for:Se.value},{default:()=>[Vn()]})])])}),{controlRef:oe,fieldIconColor:je}}}),s1e=so({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...rs(),...TM({transition:{component:RJ,leaveAbsolute:!0,group:!0}})},"VMessages"),a1e=dr()({name:"VMessages",props:s1e(),setup(n,s){let{slots:c}=s;const f=Wt(()=>Qw(n.messages)),{textColorClasses:g,textColorStyles:h}=k0(()=>n.color);return Yr(()=>Ie(Iy,{transition:n.transition,tag:"div",class:Go(["v-messages",g.value,n.class]),style:kr([h.value,n.style])},{default:()=>[n.active&&f.value.map((x,C)=>Pe("div",{class:"v-messages__message",key:`${C}-${f.value}`},[c.message?c.message({message:x}):x]))]})),{}}}),i1e=Symbol.for("vuetify:form");function l1e(n){const s=Si(i1e,null);return{...s,isReadonly:Wt(()=>!!((n==null?void 0:n.readonly)??(s==null?void 0:s.isReadonly.value))),isDisabled:Wt(()=>!!((n==null?void 0:n.disabled)??(s==null?void 0:s.isDisabled.value)))}}const c1e=Symbol.for("vuetify:rules");function u1e(n){const s=Si(c1e,null);return s?s(n):Zn(n)}const d1e=so({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...bQ()},"validation");function f1e(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gb(),c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:UO();const f=nf(n,"modelValue"),g=Wt(()=>n.validationValue===void 0?f.value:n.validationValue),h=l1e(n),x=u1e(()=>n.rules),C=Io([]),O=xr(!0),R=Wt(()=>!!(Qw(f.value===""?null:f.value).length||Qw(g.value===""?null:g.value).length)),D=Wt(()=>{var j;return(j=n.errorMessages)!=null&&j.length?Qw(n.errorMessages).concat(C.value).slice(0,Math.max(0,Number(n.maxErrors))):C.value}),N=Wt(()=>{var oe;let j=(n.validateOn??((oe=h.validateOn)==null?void 0:oe.value))||"input";j==="lazy"&&(j="input lazy"),j==="eager"&&(j="input eager");const de=new Set((j==null?void 0:j.split(" "))??[]);return{input:de.has("input"),blur:de.has("blur")||de.has("input")||de.has("invalid-input"),invalidInput:de.has("invalid-input"),lazy:de.has("lazy"),eager:de.has("eager")}}),H=Wt(()=>{var j;return n.error||(j=n.errorMessages)!=null&&j.length?!1:n.rules.length?O.value?C.value.length||N.value.lazy?null:!0:!C.value.length:!0}),V=xr(!1),Z=Wt(()=>({[`${s}--error`]:H.value===!1,[`${s}--dirty`]:R.value,[`${s}--disabled`]:h.isDisabled.value,[`${s}--readonly`]:h.isReadonly.value})),te=Nl("validation"),ce=Wt(()=>n.name??qe(c));WO(()=>{var j;(j=h.register)==null||j.call(h,{id:ce.value,vm:te,validate:fe,reset:X,resetValidation:Se})}),hc(()=>{var j;(j=h.unregister)==null||j.call(h,ce.value)}),Uc(async()=>{var j;N.value.lazy||await fe(!N.value.eager),(j=h.update)==null||j.call(h,ce.value,H.value,D.value)}),Lh(()=>N.value.input||N.value.invalidInput&&H.value===!1,()=>{qn(g,()=>{if(g.value!=null)fe();else if(n.focused){const j=qn(()=>n.focused,de=>{de||fe(),j()})}})}),Lh(()=>N.value.blur,()=>{qn(()=>n.focused,j=>{j||fe()})}),qn([H,D],()=>{var j;(j=h.update)==null||j.call(h,ce.value,H.value,D.value)});async function X(){f.value=null,await ya(),await Se()}async function Se(){O.value=!0,N.value.lazy?C.value=[]:await fe(!N.value.eager)}async function fe(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const de=[];V.value=!0;for(const oe of x.value){if(de.length>=Number(n.maxErrors??1))break;const He=await(typeof oe=="function"?oe:()=>oe)(g.value);if(He!==!0){if(He!==!1&&typeof He!="string"){console.warn(`${He} is not a valid value. Rule functions must return boolean true or a string.`);continue}de.push(He||"")}}return C.value=de,V.value=!1,O.value=j,C.value}return{errorMessages:D,isDirty:R,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:O,isValid:H,isValidating:V,reset:X,resetValidation:Se,validate:fe,validationClasses:Z}}const xQ=so({id:String,appendIcon:Hi,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Hi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":Cg(),"onClick:append":Cg(),...rs(),...pb(),...$Y(bb(),["maxWidth","minWidth","width"]),...ql(),...d1e()},"VInput"),bG=dr()({name:"VInput",props:{...xQ()},emits:{"update:modelValue":n=>!0},setup(n,s){let{attrs:c,slots:f,emit:g}=s;const{densityClasses:h}=O0(n),{dimensionStyles:x}=vb(n),{themeClasses:C}=Wc(n),{rtlClasses:O}=T0(),{InputIcon:R}=pQ(n),D=UO(),N=Wt(()=>n.id||`input-${D}`),H=Wt(()=>`${N.value}-messages`),{errorMessages:V,isDirty:Z,isDisabled:te,isReadonly:ce,isPristine:X,isValid:Se,isValidating:fe,reset:j,resetValidation:de,validate:oe,validationClasses:Ue}=f1e(n,"v-input",N),He=Wt(()=>({id:N,messagesId:H,isDirty:Z,isDisabled:te,isReadonly:ce,isPristine:X,isValid:Se,isValidating:fe,reset:j,resetValidation:de,validate:oe})),je=Zn(()=>n.error||n.disabled?void 0:n.focused?n.color:n.baseColor),st=Zn(()=>{if(n.iconColor)return n.iconColor===!0?je.value:n.iconColor}),Oe=Wt(()=>{var Be;return(Be=n.errorMessages)!=null&&Be.length||!X.value&&V.value.length?V.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return Yr(()=>{var tn,un,ct,_n;const Be=!!(f.prepend||n.prependIcon),P=!!(f.append||n.appendIcon),St=Oe.value.length>0,Mt=!n.hideDetails||n.hideDetails==="auto"&&(St||!!f.details);return Pe("div",{class:Go(["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--focused":n.focused,"v-input--glow":n.glow,"v-input--hide-spin-buttons":n.hideSpinButtons},h.value,C.value,O.value,Ue.value,n.class]),style:kr([x.value,n.style])},[Be&&Pe("div",{key:"prepend",class:"v-input__prepend"},[(tn=f.prepend)==null?void 0:tn.call(f,He.value),n.prependIcon&&Ie(R,{key:"prepend-icon",name:"prepend",color:st.value},null)]),f.default&&Pe("div",{class:"v-input__control"},[(un=f.default)==null?void 0:un.call(f,He.value)]),P&&Pe("div",{key:"append",class:"v-input__append"},[n.appendIcon&&Ie(R,{key:"append-icon",name:"append",color:st.value},null),(ct=f.append)==null?void 0:ct.call(f,He.value)]),Mt&&Pe("div",{id:H.value,class:"v-input__details",role:"alert","aria-live":"polite"},[Ie(a1e,{active:St,messages:Oe.value},{message:f.message}),(_n=f.details)==null?void 0:_n.call(f,He.value)])])}),{reset:j,resetValidation:de,validate:oe,isValid:Se,errorMessages:V}}}),m1e=so({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...xQ(),...yQ()},"VTextarea"),g1e=dr()({name:"VTextarea",directives:{vIntersect:YB},inheritAttrs:!1,props:m1e(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{attrs:c,emit:f,slots:g}=s;const h=nf(n,"modelValue"),{isFocused:x,focus:C,blur:O}=vQ(n),R=Wt(()=>typeof n.counterValue=="function"?n.counterValue(h.value):(h.value||"").toString().length),D=Wt(()=>{if(c.maxlength)return c.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function N(Oe,Be){var P,St;!n.autofocus||!Oe||(St=(P=Be[0].target)==null?void 0:P.focus)==null||St.call(P)}const H=Io(),V=Io(),Z=xr(""),te=Io(),ce=Wt(()=>n.persistentPlaceholder||x.value||n.active);function X(){var Oe;te.value!==document.activeElement&&((Oe=te.value)==null||Oe.focus()),x.value||C()}function Se(Oe){X(),f("click:control",Oe)}function fe(Oe){f("mousedown:control",Oe)}function j(Oe){Oe.stopPropagation(),X(),ya(()=>{h.value="",jY(n["onClick:clear"],Oe)})}function de(Oe){var P;const Be=Oe.target;if(h.value=Be.value,(P=n.modelModifiers)!=null&&P.trim){const St=[Be.selectionStart,Be.selectionEnd];ya(()=>{Be.selectionStart=St[0],Be.selectionEnd=St[1]})}}const oe=Io(),Ue=Io(Number(n.rows)),He=Wt(()=>["plain","underlined"].includes(n.variant));Mh(()=>{n.autoGrow||(Ue.value=Number(n.rows))});function je(){n.autoGrow&&ya(()=>{if(!oe.value||!V.value)return;const Oe=getComputedStyle(oe.value),Be=getComputedStyle(V.value.$el),P=parseFloat(Oe.getPropertyValue("--v-field-padding-top"))+parseFloat(Oe.getPropertyValue("--v-input-padding-top"))+parseFloat(Oe.getPropertyValue("--v-field-padding-bottom")),St=oe.value.scrollHeight,Mt=parseFloat(Oe.lineHeight),tn=Math.max(parseFloat(n.rows)*Mt+P,parseFloat(Be.getPropertyValue("--v-input-control-height"))),un=parseFloat(n.maxRows)*Mt+P||1/0,ct=S0(St??0,tn,un);Ue.value=Math.floor((ct-P)/Mt),Z.value=vr(ct)})}Uc(je),qn(h,je),qn(()=>n.rows,je),qn(()=>n.maxRows,je),qn(()=>n.density,je);let st;return qn(oe,Oe=>{Oe?(st=new ResizeObserver(je),st.observe(oe.value)):st==null||st.disconnect()}),hc(()=>{st==null||st.disconnect()}),Yr(()=>{const Oe=!!(g.counter||n.counter||n.counterValue),Be=!!(Oe||g.details),[P,St]=zue(c),{modelValue:Mt,...tn}=bG.filterProps(n),un=pG.filterProps(n);return Ie(bG,Vs({ref:H,modelValue:h.value,"onUpdate:modelValue":ct=>h.value=ct,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":He.value},n.class],style:n.style},P,tn,{centerAffix:Ue.value===1&&!He.value,focused:x.value}),{...g,default:ct=>{let{id:_n,isDisabled:Vn,isDirty:Lt,isReadonly:Je,isValid:Tt}=ct;return Ie(pG,Vs({ref:V,style:{"--v-textarea-control-height":Z.value},onClick:Se,onMousedown:fe,"onClick:clear":j,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},un,{id:_n.value,active:ce.value||Lt.value,centerAffix:Ue.value===1&&!He.value,dirty:Lt.value||n.dirty,disabled:Vn.value,focused:x.value,error:Tt.value===!1}),{...g,default:Gn=>{let{props:{class:jn,...Xn}}=Gn;return Pe(Os,null,[n.prefix&&Pe("span",{class:"v-text-field__prefix"},[n.prefix]),tr(Pe("textarea",Vs({ref:te,class:jn,value:h.value,onInput:de,autofocus:n.autofocus,readonly:Je.value,disabled:Vn.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:X,onBlur:O},Xn,St),null),[[YB,{handler:N},null,{once:!0}]]),n.autoGrow&&tr(Pe("textarea",{class:Go([jn,"v-textarea__sizer"]),id:`${Xn.id}-sizer`,"onUpdate:modelValue":gn=>h.value=gn,ref:oe,readonly:!0,"aria-hidden":"true"},null),[[Rue,h.value]]),n.suffix&&Pe("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Be?ct=>{var _n;return Pe(Os,null,[(_n=g.details)==null?void 0:_n.call(g,ct),Oe&&Pe(Os,null,[Pe("span",null,null),Ie(e1e,{active:n.persistentCounter||x.value,value:R.value,max:D.value,disabled:n.disabled},g.counter)])])}:void 0})}),zJ({},H,V,te)}}),h1e={class:"sr-only"},p1e={__name:"AnnotationInput",props:["annotation"],setup(n){_i();const s=My(),c=jl(),g=n.annotation;function h(O){return O.getKey()==s.selectedKey}Uc(()=>{const O=document.getElementById("appAnnotationContainer"+g.getKey());for(const R of O.getElementsByTagName("label"))R.getAttribute("for").includes("app-annotation-")&&(R.classList.add("sr-only"),R.getAttribute("aria-hidden")=="true"?R.getAttribute("for").includes("-sizer")||R.setAttribute("for",R.getAttribute("for")+"-sizer"):R.setAttribute("id","app-annotation-"+g.getKey()+"-messages"));for(const R of O.getElementsByTagName("textarea"))R.style.marginTop="-15px",R.style.fontSize="0.9rem";for(const R of O.getElementsByClassName("v-input__details"))R.style.display="none"});function x(O){return"#F5F7FB"}async function C(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),c.showForResourceKey(),await ya(),s.setCaretRequest();break;case"Delete":event.preventDefault(),s.deleteAnnotation(s.selectedKey);break}}return(O,R)=>(rr(),ra(EV,{id:"appAnnotationContainer"+qe(g).getKey(),key:qe(g).getKey(),class:"annotationContainer"},{default:Gt(()=>[Ie(qw,{dense:""},{default:Gt(()=>[Ie(Cu,{cols:"1"},{default:Gt(()=>[Pe("button",{tabindex:"0",class:Go("v-btn annotationLabel "+(h(qe(g))?"selected":"")),onClick:R[0]||(R[0]=D=>qe(s).selectAnnotation(qe(g).getKey()))},Nt(qe(g).label),3)]),_:1}),tr(Ie(Cu,{cols:"10"},{default:Gt(()=>[Ie(g1e,{class:"annotationInput","bg-color":x(qe(g)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+qe(g).getKey(),label:O.$t("annotationForMark",[qe(g).label]),rows:"1","auto-grow":"",onClick:R[1]||(R[1]=D=>qe(s).selectAnnotation(qe(g).getKey())),onChange:R[2]||(R[2]=D=>qe(s).updateAnnotation(qe(g))),onKeyup:R[3]||(R[3]=D=>qe(s).updateAnnotation(qe(g))),onKeydown:R[4]||(R[4]=D=>C()),modelValue:qe(g).comment,"onUpdate:modelValue":R[5]||(R[5]=D=>qe(g).comment=D)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[Sr,h(qe(g))]]),tr(Ie(Cu,{cols:"10"},{default:Gt(()=>[tr(Pe("div",{class:"annotationDisplay",style:kr("background-color: "+x(qe(g))+";"),onClick:R[6]||(R[6]=D=>qe(s).selectAnnotation(qe(g).getKey()))},Nt(qe(g).comment),5),[[Sr,qe(g).comment]])]),_:1},512),[[Sr,!h(qe(g))]]),Ie(Cu,{cols:"1",class:"trashColumn"},{default:Gt(()=>[Ie(Ir,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:h(qe(g))?0:-1,onClick:R[7]||(R[7]=D=>qe(s).deleteAnnotation(qe(g).getKey())),onKeydown:R[8]||(R[8]=D=>C())},{default:Gt(()=>[Pe("span",h1e,Nt(O.$t("annotationDelete",[qe(g).label])),1)]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},b1e=Eg(p1e,[["__scopeId","data-v-75b68117"]]),v1e={id:"appAnnotations"},y1e={__name:"Annotations",setup(n){const s=My(),c=jl(),f=ef();function g(){const C=c.selectedResourceKey;if(C===vd.KEY_INSTRUCTIONS)return!0;const O=f.getResource(C);return!!(O!==null&&O.canBeAnnoteted())}async function h(){await ya();let C=document.getElementById("appAnnotationContainer"+s.selectedKey);if(C){let O=C.querySelector("textarea");O&&O.focus()}}qn(()=>s.selectionChange,h),qn(()=>c.focusChange,h);async function x(){await ya();let C=document.getElementById("appAnnotationContainer"+s.firstVisibleKey);C&&C.scrollIntoView()}return qn(()=>s.firstVisibleKey,x),(C,O)=>(rr(),Rl("div",v1e,[tr(Pe("div",null,[O[0]||(O[0]=Pe("br",null,null,-1)),Ie(AV,null,{default:Gt(()=>[zs(Nt(C.$t("annotationsNoContentSelected")),1)]),_:1})],512),[[Sr,qe(c).isAnnotationsSelected&&!g()]]),(rr(!0),Rl(Os,null,Dk(qe(s).activeAnnotations,R=>tr((rr(),ra(b1e,{key:R.getKey(),annotation:R},null,8,["annotation"])),[[Sr,qe(c).isAnnotationsSelected&&g()]])),128))]))}},x1e=Eg(y1e,[["__scopeId","data-v-ef0ceba2"]]),w1e={id:"app-edit-select-wrapper"},C1e={class:"appEditChoices"},_1e={class:"sr-only",id:"app-edit-select-annotations"},S1e={"aria-hidden":"true"},k1e={class:"sr-only",id:"app-edit-select-text"},E1e={"aria-hidden":"true"},A1e=["id"],T1e={"aria-hidden":"true"},O1e={key:1,"aria-hidden":"true"},D1e={__name:"EditSelect",setup(n){const s=jl(),c=Ny(),f=Ih(),g=v0(),h=My(),x=ef(),C=tf(),O=Io("essay");R();function R(){switch(s.rightContent){case"annotations":O.value="annotations";break;case"essay":O.value="essay";break;case"notes":O.value=c.activeKey;break}}qn(()=>s.rightContent,R),qn(()=>c.activeKey,R);function D(){switch(O.value){case void 0:R();break;case"annotations":s.showAnnotations();break;case"essay":s.showEssay();break;default:s.showNotes(),c.activeKey=O.value;break}}function N(){O.value="annotations",D()}return qn(()=>h.selectionChange,N),(H,V)=>(rr(),Rl("div",w1e,[Pe("div",C1e,[qe(f).hasNotes||qe(C).hasInstructions||qe(x).hasAnnotatableResource?(rr(),ra(hJ,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:O.value,"onUpdate:modelValue":V[0]||(V[0]=Z=>O.value=Z),onClick:V[1]||(V[1]=Z=>D())},{default:Gt(()=>[qe(C).hasInstructions||qe(x).hasAnnotatableResource?(rr(),ra(Ir,{key:0,"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:Gt(()=>[Ie(cr,{icon:"mdi-marker"}),Pe("span",_1e,Nt(H.$t("allAnnotations")),1),Pe("span",S1e,Nt(H.$t("allAnnotations")),1)]),_:1})):Zl("",!0),Ie(Ir,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:Gt(()=>[Ie(cr,{icon:"mdi-file-edit-outline"}),Pe("span",k1e,Nt(H.$t("editSelectEditText")),1),Pe("span",E1e,Nt(H.$t("editSelectText")),1)]),_:1}),(rr(!0),Rl(Os,null,Dk(qe(c).keys,Z=>(rr(),ra(Ir,{size:"small","aria-labelledby":"app-edit-select-note"+qe(c).notes[Z].note_no,key:Z,value:Z},{default:Gt(()=>[Ie(cr,{icon:"mdi-clipboard-outline"}),Pe("span",{class:"sr-only",id:"app-edit-select-note"+qe(c).notes[Z].note_no},Nt(qe(f).notice_boards==1?H.$t("editSelectEditNotes"):H.$t("editSelectEditNote",[qe(c).notes[Z].note_no+1])),9,A1e),Pe("span",T1e,Nt(qe(f).notice_boards==1?H.$t("editSelectNotes"):qe(c).notes[Z].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):Zl("",!0),V[5]||(V[5]=zs("   ")),qe(f).hasNotes?(rr(),Rl("span",O1e," ")):Zl("",!0),Ie(Pk,{density:"comfortable",variant:"outlined",divided:""},{default:Gt(()=>[Ie(Ir,{title:H.$t("editSelectZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:V[2]||(V[2]=Z=>qe(g).zoomEditorOut())},null,8,["title"]),Ie(Ir,{title:H.$t("editSelectZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:V[3]||(V[3]=Z=>qe(g).zoomEditorIn())},null,8,["title"]),Ie(Ir,{title:qe(g).word_count_enabled?H.$t("editSelectCounterHide"):H.$t("editSelectCounterShow"),size:"small",icon:qe(g).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:V[4]||(V[4]=Z=>qe(g).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),tr(Ie(x1e,{class:"appEditors"},null,512),[[Sr,qe(s).isAnnotationsSelected]]),tr(Ie(J0e,{class:"appEditors"},null,512),[[Sr,qe(s).isEssaySelected]]),qe(f).notice_boards>0?(rr(!0),Rl(Os,{key:0},Dk(qe(c).keys,Z=>tr((rr(),ra(j0e,{class:"appEditors",key:Z,noteKey:Z,noteLabel:qe(f).notice_boards==1?H.$t("editSelectEditNotes"):H.$t("editSelectEditNote",[qe(c).notes[Z].note_no+1])},null,8,["noteKey","noteLabel"])),[[Sr,qe(s).isNotesSelected&&qe(c).activeKey==Z]])),128)):Zl("",!0)]))}},R1e=Eg(D1e,[["__scopeId","data-v-74e0228f"]]),N1e=so({scrollable:Boolean,...rs(),...bb(),...Ui({tag:"main"})},"VMain"),kU=dr()({name:"VMain",props:N1e(),setup(n,s){let{slots:c}=s;const{dimensionStyles:f}=vb(n),{mainStyles:g}=$fe(),{ssrBootStyles:h}=DM();return Yr(()=>Ie(n.tag,{class:Go(["v-main",{"v-main--scrollable":n.scrollable},n.class]),style:kr([g.value,h.value,f.value,n.style])},{default:()=>{var x,C;return[n.scrollable?Pe("div",{class:"v-main__scroller"},[(x=c.default)==null?void 0:x.call(c)]):(C=c.default)==null?void 0:C.call(c)]}})),{}}}),I1e={id:"app-main-container"},P1e={class:"col-header"},L1e={class:"headline"},B1e={"aria-hidden":"true"},M1e={id:"app-expand-left-column",class:"sr-only"},F1e={class:"col-content"},$1e={class:"col-header"},H1e={class:"headline"},z1e={"aria-hidden":"true"},V1e={id:"app-expand-right-column",class:"sr-only"},U1e={class:"col-content"},W1e={__name:"MainContent",setup(n){const s=jl(),c=ef(),f=SU();return document.addEventListener("keydown",s.handleKeyDown),Uc(async()=>{s.setFocusChange("header")}),(g,h)=>(rr(),ra(kU,{"fill-height":""},{default:Gt(()=>[Pe("div",I1e,[tr(Pe("section",{"aria-label":"Linke Spalte",class:Go(["column",{colExpanded:qe(s).isLeftExpanded,colNormal:!qe(s).isLeftExpanded}])},[Pe("div",P1e,[Pe("h1",L1e,Nt(qe(s).isInstructionsSelected?g.$t("allInstructions"):qe(s).isInstructionsPdfSelected?g.$t("allInstructionsPdf"):qe(s).isResourcesSelected?qe(c).activeTitle:g.$t("mainContentLeftColumn")),1),Ie(Pk,{density:"comfortable"},{default:Gt(()=>[tr(Ie(Ir,{size:"small",onClick:h[0]||(h[0]=x=>qe(s).setLeftExpanded(!1))},{default:Gt(()=>[Ie(cr,{icon:"mdi-chevron-left"}),Pe("span",null,Nt(qe(s).isAnnotationsSelected?g.$t("allAnnotations"):qe(s).isEssaySelected?g.$t("allEssay"):qe(s).isNotesSelected?g.$t("allNotes"):g.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Sr,qe(s).isLeftExpanded]]),tr(Ie(Ir,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:h[1]||(h[1]=x=>qe(s).setLeftExpanded(!0))},{default:Gt(()=>[Pe("span",B1e,Nt(g.$t("mainContentExpand")),1),Pe("span",M1e,Nt(g.$t("mainContentExpandLeftColumn")),1),Ie(cr,{icon:"mdi-chevron-right"})]),_:1},512),[[Sr,!qe(s).isLeftExpanded]])]),_:1})]),Pe("div",F1e,[tr(Ie(s0e,null,null,512),[[Sr,qe(s).isInstructionsVisible]]),tr(Ie(p0e,null,null,512),[[Sr,qe(s).isInstructionsPdfVisible||qe(s).isResourcesVisible]])])],2),[[Sr,qe(s).isLeftVisible]]),tr(Pe("section",{"aria-label":"Rechte Spalte",class:Go(["column",{colExpanded:qe(s).isRightExpanded,colNormal:!qe(s).isRightExpanded}])},[Pe("div",$1e,[Pe("h1",H1e,Nt(qe(s).isAnnotationsSelected?g.$t("allAnnotations"):qe(s).isEssayVisible?g.$t("allEssay"):qe(s).isNotesVisible?g.$t("allNotesWillPurged"):g.$t("mainContentRightColumn")),1),Ie(Pk,{density:"comfortable"},{default:Gt(()=>[tr(Ie(Ir,{size:"small",onClick:h[2]||(h[2]=x=>qe(s).setRightExpanded(!1))},{default:Gt(()=>[Pe("span",null,Nt(qe(s).isInstructionsSelected?g.$t("allInstructions"):qe(s).isInstructionsPdfSelected?g.$t("allInstructionsPdf"):qe(s).isResourcesSelected?qe(c).activeTitle:g.$t("mainContentExpandLeftColumn")),1),Ie(cr,{icon:"mdi-chevron-right"})]),_:1},512),[[Sr,qe(s).isRightExpanded]]),tr(Ie(Ir,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:h[3]||(h[3]=x=>qe(s).setRightExpanded(!0))},{default:Gt(()=>[Ie(cr,{icon:"mdi-chevron-left"}),Pe("span",z1e,Nt(g.$t("mainContentExpand")),1),Pe("span",V1e,Nt(g.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Sr,!qe(s).isRightExpanded]])]),_:1})]),Pe("div",U1e,[Ie(R1e)])],2),[[Sr,qe(s).isRightVisible]])]),Ie(x0,{width:"500",persistent:"",modelValue:qe(f).show_warning,"onUpdate:modelValue":h[5]||(h[5]=x=>qe(f).show_warning=x)},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(g.$t("mainContentCopyPrevented")),1)]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(_U),Ie(Ir,{onClick:h[4]||(h[4]=x=>qe(f).hideWarning())},{default:Gt(()=>[zs(Nt(g.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Z1e=Eg(W1e,[["__scopeId","data-v-59518671"]]),j1e={__name:"StartupContent",setup(n){const s=_i();return(c,f)=>(rr(),ra(kU,{"fill-height":""},{default:Gt(()=>[Ie(nQ,{elevation:"1",color:"white",density:"compact"},{default:Gt(()=>[Pe("p",null,Nt(c.$t("startupContentLoadData")),1),Ie(_U),Ie(Ir,{href:qe(s).returnUrl},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-logout-variant"}),Pe("span",null,Nt(c.$t("allEnd")),1)]),_:1},8,["href"])]),_:1}),Ie(x0,{persistent:"",modelValue:qe(s).showInitFailure,"onUpdate:modelValue":f[0]||(f[0]=g=>qe(s).showInitFailure=g)},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(c.$t("startupContentLoadError")),1)]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{href:qe(s).returnUrl},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-logout-variant"}),Pe("span",null,Nt(c.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ie(x0,{persistent:"",modelValue:qe(s).showReplaceConfirmation,"onUpdate:modelValue":f[2]||(f[2]=g=>qe(s).showReplaceConfirmation=g)},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(c.$t("startupContentOverwriteInfo")),1),Pe("p",null,Nt(c.$t("startupContentOverwriteQuestion")),1)]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:f[1]||(f[1]=g=>qe(s).loadDataFromBackend())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-reload"}),Pe("span",null,Nt(c.$t("allLoad")),1)]),_:1}),Ie(Ir,{href:qe(s).returnUrl},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-logout-variant"}),Pe("span",null,Nt(c.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ie(x0,{persistent:"",modelValue:qe(s).showReloadConfirmation,"onUpdate:modelValue":f[4]||(f[4]=g=>qe(s).showReloadConfirmation=g)},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(c.$t("startupContentReloadInfo")),1),Pe("p",null,Nt(c.$t("startupContentReloadQuestion")),1)]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:f[3]||(f[3]=g=>qe(s).loadDataFromBackend())},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-reload"}),Pe("span",null,Nt(c.$t("allLoad")),1)]),_:1}),Ie(Ir,{href:qe(s).returnUrl},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-logout-variant"}),Pe("span",null,Nt(c.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},K1e={class:"column"},q1e={class:"col-header bg-grey-lighten-4"},G1e={class:"text-h6",style:{color:"#f00000"}},Y1e={class:"col-content"},X1e=["innerHTML"],J1e={class:"col-footer bg-grey-lighten-4"},Q1e={class:"column"},eye={class:"col-header bg-grey-lighten-4"},tye={class:"text-h6"},nye={class:"col-header bg-grey-lighten-4"},oye={class:"text-h6"},rye={key:0},sye={class:"col-header bg-grey-lighten-4"},aye={class:"text-h6"},iye={key:0},lye={class:"col-content"},cye=["innerHTML"],uye={class:"col-footer bg-grey-lighten-4"},dye={__name:"ReviewContent",setup(n){const s=_i(),c=rb(),f=Ny(),g=tf(),h=Ih(),x=v0();return(C,O)=>(rr(),ra(kU,{"fill-height":""},{default:Gt(()=>[tr(Pe("div",K1e,[Pe("div",q1e,[Pe("h2",G1e,Nt(C.$t("reviewContentNotYetSent")),1),Pe("p",null,Nt(C.$t("reviewContentTryAgainLater")),1)]),Pe("div",Y1e,[Pe("div",{class:Go("long-essay-content "+qe(h).contentClass),style:kr("font-size:"+qe(x).editor_zoom+"rem;"),innerHTML:qe(c).storedContent},null,14,X1e)]),Pe("div",J1e,[Ie(Ir,{class:"ma-2",color:qe(h).primaryColorCss,onClick:O[0]||(O[0]=R=>qe(s).retry())},{default:Gt(()=>[Ie(cr,{color:qe(h).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),Pe("span",{style:kr(qe(h).primaryTextColorFullCss)},Nt(C.$t("reviewContentTryAgain")),5)]),_:1},8,["color"]),tr(Ie(Ir,{class:"ma-2",onClick:O[1]||(O[1]=R=>qe(s).review=!1)},{default:Gt(()=>[Ie(cr,{icon:"mdi-file-edit-outline"}),Pe("span",null,Nt(C.$t("reviewContentContinueEditing")),1)]),_:1},512),[[Sr,!qe(g).writingEndReached&&!qe(g).isExcluded]])])],512),[[Sr,qe(c).openSendings>0]]),tr(Pe("div",Q1e,[tr(Pe("div",eye,[Pe("h2",tye,Nt(C.$t("reviewContentExcluded")),1),Pe("p",null,Nt(C.$t("reviewContentEditingPrevented")),1)],512),[[Sr,qe(g).isExcluded]]),tr(Pe("div",nye,[Pe("h2",oye,Nt(C.$t("reviewContentTimeOver")),1),Pe("p",null,[zs(Nt(C.$t("reviewContentEditingPrevented"))+" "+Nt(C.$t("reviewContentPleaseCheckText"))+" "+Nt(C.$t("reviewContentYouMayScroll"))+" ",1),qe(f).hasWrittenNotes?(rr(),Rl("span",rye,Nt(C.$t("reviewContentNotesWillBePurged")),1)):Zl("",!0)])],512),[[Sr,qe(g).writingEndReached&&!qe(g).isExcluded]]),tr(Pe("div",sye,[Pe("h2",aye,Nt(C.$t("allEssay")),1),Pe("p",null,[zs(Nt(C.$t("reviewContentPleaseCheckText"))+" "+Nt(C.$t("reviewContentYouMayScroll"))+" ",1),qe(f).hasWrittenNotes?(rr(),Rl("span",iye,Nt(C.$t("reviewContentNotesWillBePurged")),1)):Zl("",!0),zs(" "+Nt(C.$t("reviewContentAuthorizationFinishes")),1)])],512),[[Sr,!qe(g).writingEndReached&&!qe(g).isExcluded]]),Pe("div",lye,[Pe("div",{class:Go("long-essay-content "+qe(h).contentClass),style:kr("font-size:"+qe(x).editor_zoom*16+"px;"),innerHTML:qe(c).storedContent},null,14,cye)]),Pe("div",uye,[tr(Ie(Ir,{class:"ma-2 primary",onClick:O[2]||(O[2]=R=>qe(s).finalize(!0)),color:qe(h).primaryColorCss},{default:Gt(()=>[Ie(cr,{color:qe(h).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),Pe("span",{style:kr(qe(h).primaryTextColorFullCss)},Nt(C.$t("reviewContentAuthorize")),5)]),_:1},8,["color"]),[[Sr,!qe(g).isExcluded]]),tr(Ie(Ir,{class:"ma-2",onClick:O[3]||(O[3]=R=>qe(s).finalize(!1))},{default:Gt(()=>[Ie(cr,{icon:"mdi-logout-variant"}),Pe("span",null,Nt(C.$t("reviewContentDontAuthorize")),1)]),_:1},512),[[Sr,qe(g).writingEndReached||qe(g).isExcluded]]),tr(Ie(Ir,{class:"ma-2",onClick:O[4]||(O[4]=R=>qe(s).review=!1)},{default:Gt(()=>[Ie(cr,{icon:"mdi-file-edit-outline"}),Pe("span",null,Nt(C.$t("reviewContentContinueEditing")),1)]),_:1},512),[[Sr,!qe(g).writingEndReached&&!qe(g).isExcluded]])])],512),[[Sr,qe(c).openSendings<=0]]),Ie(x0,{persistent:"",modelValue:qe(s).showFinalizeFailure,"onUpdate:modelValue":O[6]||(O[6]=R=>qe(s).showFinalizeFailure=R)},{default:Gt(()=>[Ie(y0,null,{default:Gt(()=>[Ie(db,null,{default:Gt(()=>[Pe("p",null,Nt(C.$t("reviewContentNetworkProblem")),1),Pe("p",null,[O[7]||(O[7]=Pe("br",null,null,-1)),zs(Nt(C.$t("reviewContentLeaveAndTryLater")),1)]),tr(Pe("p",null,[O[8]||(O[8]=Pe("br",null,null,-1)),zs(" "+Nt(C.$t("reviewContentCallSupervisionToAuthorize")),1)],512),[[Sr,qe(s).showAuthorizeFailure]]),tr(Pe("p",null,[O[9]||(O[9]=Pe("br",null,null,-1)),zs(" "+Nt(C.$t("reviewContentCallSupervisionForHelp")),1)],512),[[Sr,!qe(s).showAuthorizeFailure]])]),_:1}),Ie(ub,null,{default:Gt(()=>[Ie(Ir,{onClick:O[5]||(O[5]=R=>qe(s).showFinalizeFailure=!1)},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-close"}),Pe("span",null,Nt(C.$t("allCloseMessage")),1)]),_:1}),Ie(Ir,{href:qe(s).returnUrl},{default:Gt(()=>[Ie(cr,{left:"",icon:"mdi-logout-variant"}),Pe("span",null,Nt(C.$t("reviewContentLeaveWithoutSending")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},fye=Eg(dye,[["__scopeId","data-v-4c534d46"]]),mye=so({...rs(),...Ffe({fullHeight:!0}),...ql()},"VApp"),gye=dr()({name:"VApp",props:mye(),setup(n,s){let{slots:c}=s;const f=Wc(n),{layoutClasses:g,getLayoutItem:h,items:x,layoutRef:C}=zfe(n),{rtlClasses:O}=T0();return Yr(()=>{var R;return Pe("div",{ref:C,class:Go(["v-application",f.themeClasses.value,g.value,O.value,n.class]),style:kr([n.style])},[Pe("div",{class:"v-application__wrap"},[(R=c.default)==null?void 0:R.call(c)])])}),{getLayoutItem:h,items:x,theme:f}}}),hye={__name:"App",setup(n){const s=_i();return s.init(),(c,f)=>(rr(),ra(gye,{"fill-height":""},{default:Gt(()=>[qe(s).initialized?Zl("",!0):(rr(),ra(j1e,{key:0})),qe(s).initialized?(rr(),ra(Bve,{key:1})):Zl("",!0),qe(s).initialized&&!qe(s).review?(rr(),ra(Jve,{key:2})):Zl("",!0),qe(s).initialized&&!qe(s).review?(rr(),ra(Z1e,{key:3})):Zl("",!0),qe(s).initialized&&qe(s).review?(rr(),ra(fye,{key:4})):Zl("",!0)]),_:1}))}},wQ=Pue(hye);Dge(wQ);wQ.mount("#app");
