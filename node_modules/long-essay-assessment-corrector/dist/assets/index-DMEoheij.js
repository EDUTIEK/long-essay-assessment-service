var yde=Object.defineProperty;var xde=(t,s,i)=>s in t?yde(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;var xn=(t,s,i)=>xde(t,typeof s!="symbol"?s+"":s,i);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function i(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(m){if(m.ep)return;m.ep=!0;const h=i(m);fetch(m.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yW(t){const s=Object.create(null);for(const i of t.split(","))s[i]=1;return i=>i in s}const Hi={},bE=[],zb=()=>{},wde=()=>!1,NF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xW=t=>t.startsWith("onUpdate:"),cc=Object.assign,wW=(t,s)=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)},Cde=Object.prototype.hasOwnProperty,hi=(t,s)=>Cde.call(t,s),Jo=Array.isArray,vE=t=>iD(t)==="[object Map]",IE=t=>iD(t)==="[object Set]",MG=t=>iD(t)==="[object Date]",Dr=t=>typeof t=="function",el=t=>typeof t=="string",Ub=t=>typeof t=="symbol",Ii=t=>t!==null&&typeof t=="object",$X=t=>(Ii(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),VX=Object.prototype.toString,iD=t=>VX.call(t),_de=t=>iD(t).slice(8,-1),zX=t=>iD(t)==="[object Object]",CW=t=>el(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vI=yW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),PF=t=>{const s=Object.create(null);return i=>s[i]||(s[i]=t(i))},Sde=/-(\w)/g,Md=PF(t=>t.replace(Sde,(s,i)=>i?i.toUpperCase():"")),kde=/\B([A-Z])/g,UC=PF(t=>t.replace(kde,"-$1").toLowerCase()),i1=PF(t=>t.charAt(0).toUpperCase()+t.slice(1)),NH=PF(t=>t?`on${i1(t)}`:""),yx=(t,s)=>!Object.is(t,s),$B=(t,...s)=>{for(let i=0;i<t.length;i++)t[i](...s)},AU=(t,s,i,u=!1)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,writable:u,value:i})},eF=t=>{const s=parseFloat(t);return isNaN(s)?t:s},Ede=t=>{const s=el(t)?Number(t):NaN;return isNaN(s)?t:s};let BG;const LF=()=>BG||(BG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rr(t){if(Jo(t)){const s={};for(let i=0;i<t.length;i++){const u=t[i],m=el(u)?Ide(u):Rr(u);if(m)for(const h in m)s[h]=m[h]}return s}else if(el(t)||Ii(t))return t}const Ade=/;(?![^(]*\))/g,Tde=/:([^]+)/,Ode=/\/\*[^]*?\*\//g;function Ide(t){const s={};return t.replace(Ode,"").split(Ade).forEach(i=>{if(i){const u=i.split(Tde);u.length>1&&(s[u[0].trim()]=u[1].trim())}}),s}function go(t){let s="";if(el(t))s=t;else if(Jo(t))for(let i=0;i<t.length;i++){const u=go(t[i]);u&&(s+=u+" ")}else if(Ii(t))for(const i in t)t[i]&&(s+=i+" ");return s.trim()}const Dde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rde=yW(Dde);function HX(t){return!!t||t===""}function Nde(t,s){if(t.length!==s.length)return!1;let i=!0;for(let u=0;i&&u<t.length;u++)i=aD(t[u],s[u]);return i}function aD(t,s){if(t===s)return!0;let i=MG(t),u=MG(s);if(i||u)return i&&u?t.getTime()===s.getTime():!1;if(i=Ub(t),u=Ub(s),i||u)return t===s;if(i=Jo(t),u=Jo(s),i||u)return i&&u?Nde(t,s):!1;if(i=Ii(t),u=Ii(s),i||u){if(!i||!u)return!1;const m=Object.keys(t).length,h=Object.keys(s).length;if(m!==h)return!1;for(const x in t){const w=t.hasOwnProperty(x),T=s.hasOwnProperty(x);if(w&&!T||!w&&T||!aD(t[x],s[x]))return!1}}return String(t)===String(s)}function _W(t,s){return t.findIndex(i=>aD(i,s))}const UX=t=>!!(t&&t.__v_isRef===!0),We=t=>el(t)?t:t==null?"":Jo(t)||Ii(t)&&(t.toString===VX||!Dr(t.toString))?UX(t)?We(t.value):JSON.stringify(t,WX,2):String(t),WX=(t,s)=>UX(s)?WX(t,s.value):vE(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((i,[u,m],h)=>(i[PH(u,h)+" =>"]=m,i),{})}:IE(s)?{[`Set(${s.size})`]:[...s.values()].map(i=>PH(i))}:Ub(s)?PH(s):Ii(s)&&!Jo(s)&&!zX(s)?String(s):s,PH=(t,s="")=>{var i;return Ub(t)?`Symbol(${(i=t.description)!=null?i:s})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fu;class KX{constructor(s=!1){this.detached=s,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fu,!s&&Fu&&(this.index=(Fu.scopes||(Fu.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,i;if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].pause();for(s=0,i=this.effects.length;s<i;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,i;if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].resume();for(s=0,i=this.effects.length;s<i;s++)this.effects[s].resume()}}run(s){if(this._active){const i=Fu;try{return Fu=this,s()}finally{Fu=i}}}on(){++this._on===1&&(this.prevScope=Fu,Fu=this)}off(){this._on>0&&--this._on===0&&(Fu=this.prevScope,this.prevScope=void 0)}stop(s){if(this._active){this._active=!1;let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(this.effects.length=0,i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!s){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0}}}function Cx(t){return new KX(t)}function SW(){return Fu}function uc(t,s=!1){Fu&&Fu.cleanups.push(t)}let oa;const LH=new WeakSet;class jX{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fu&&Fu.active&&Fu.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,LH.has(this)&&(LH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||GX(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,FG(this),qX(this);const s=oa,i=fp;oa=this,fp=!0;try{return this.fn()}finally{YX(this),oa=s,fp=i,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)AW(s);this.deps=this.depsTail=void 0,FG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?LH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){TU(this)&&this.run()}get dirty(){return TU(this)}}let ZX=0,yI,xI;function GX(t,s=!1){if(t.flags|=8,s){t.next=xI,xI=t;return}t.next=yI,yI=t}function kW(){ZX++}function EW(){if(--ZX>0)return;if(xI){let s=xI;for(xI=void 0;s;){const i=s.next;s.next=void 0,s.flags&=-9,s=i}}let t;for(;yI;){let s=yI;for(yI=void 0;s;){const i=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(u){t||(t=u)}s=i}}if(t)throw t}function qX(t){for(let s=t.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function YX(t){let s,i=t.depsTail,u=i;for(;u;){const m=u.prevDep;u.version===-1?(u===i&&(i=m),AW(u),Pde(u)):s=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=m}t.deps=s,t.depsTail=i}function TU(t){for(let s=t.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(XX(s.dep.computed)||s.dep.version!==s.version))return!0;return!!t._dirty}function XX(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===II)||(t.globalVersion=II,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!TU(t))))return;t.flags|=2;const s=t.dep,i=oa,u=fp;oa=t,fp=!0;try{qX(t);const m=t.fn(t._value);(s.version===0||yx(m,t._value))&&(t.flags|=128,t._value=m,s.version++)}catch(m){throw s.version++,m}finally{oa=i,fp=u,YX(t),t.flags&=-3}}function AW(t,s=!1){const{dep:i,prevSub:u,nextSub:m}=t;if(u&&(u.nextSub=m,t.prevSub=void 0),m&&(m.prevSub=u,t.nextSub=void 0),i.subs===t&&(i.subs=u,!u&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)AW(h,!0)}!s&&!--i.sc&&i.map&&i.map.delete(i.key)}function Pde(t){const{prevDep:s,nextDep:i}=t;s&&(s.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=s,t.nextDep=void 0)}let fp=!0;const JX=[];function Q0(){JX.push(fp),fp=!1}function e1(){const t=JX.pop();fp=t===void 0?!0:t}function FG(t){const{cleanup:s}=t;if(t.cleanup=void 0,s){const i=oa;oa=void 0;try{s()}finally{oa=i}}}let II=0;class Lde{constructor(s,i){this.sub=s,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class TW{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(s){if(!oa||!fp||oa===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==oa)i=this.activeLink=new Lde(oa,this),oa.deps?(i.prevDep=oa.depsTail,oa.depsTail.nextDep=i,oa.depsTail=i):oa.deps=oa.depsTail=i,QX(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const u=i.nextDep;u.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=u),i.prevDep=oa.depsTail,i.nextDep=void 0,oa.depsTail.nextDep=i,oa.depsTail=i,oa.deps===i&&(oa.deps=u)}return i}trigger(s){this.version++,II++,this.notify(s)}notify(s){kW();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{EW()}}}function QX(t){if(t.dep.sc++,t.sub.flags&4){const s=t.dep.computed;if(s&&!t.dep.subs){s.flags|=20;for(let u=s.deps;u;u=u.nextDep)QX(u)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const tF=new WeakMap,PC=Symbol(""),OU=Symbol(""),DI=Symbol("");function $u(t,s,i){if(fp&&oa){let u=tF.get(t);u||tF.set(t,u=new Map);let m=u.get(i);m||(u.set(i,m=new TW),m.map=u,m.key=i),m.track()}}function Z0(t,s,i,u,m,h){const x=tF.get(t);if(!x){II++;return}const w=T=>{T&&T.trigger()};if(kW(),s==="clear")x.forEach(w);else{const T=Jo(t),D=T&&CW(i);if(T&&i==="length"){const I=Number(u);x.forEach((P,z)=>{(z==="length"||z===DI||!Ub(z)&&z>=I)&&w(P)})}else switch((i!==void 0||x.has(void 0))&&w(x.get(i)),D&&w(x.get(DI)),s){case"add":T?D&&w(x.get("length")):(w(x.get(PC)),vE(t)&&w(x.get(OU)));break;case"delete":T||(w(x.get(PC)),vE(t)&&w(x.get(OU)));break;case"set":vE(t)&&w(x.get(PC));break}}EW()}function Mde(t,s){const i=tF.get(t);return i&&i.get(s)}function Qk(t){const s=gr(t);return s===t?s:($u(s,"iterate",DI),qg(t)?s:s.map(ru))}function MF(t){return $u(t=gr(t),"iterate",DI),t}const Bde={__proto__:null,[Symbol.iterator](){return MH(this,Symbol.iterator,ru)},concat(...t){return Qk(this).concat(...t.map(s=>Jo(s)?Qk(s):s))},entries(){return MH(this,"entries",t=>(t[1]=ru(t[1]),t))},every(t,s){return z0(this,"every",t,s,void 0,arguments)},filter(t,s){return z0(this,"filter",t,s,i=>i.map(ru),arguments)},find(t,s){return z0(this,"find",t,s,ru,arguments)},findIndex(t,s){return z0(this,"findIndex",t,s,void 0,arguments)},findLast(t,s){return z0(this,"findLast",t,s,ru,arguments)},findLastIndex(t,s){return z0(this,"findLastIndex",t,s,void 0,arguments)},forEach(t,s){return z0(this,"forEach",t,s,void 0,arguments)},includes(...t){return BH(this,"includes",t)},indexOf(...t){return BH(this,"indexOf",t)},join(t){return Qk(this).join(t)},lastIndexOf(...t){return BH(this,"lastIndexOf",t)},map(t,s){return z0(this,"map",t,s,void 0,arguments)},pop(){return cI(this,"pop")},push(...t){return cI(this,"push",t)},reduce(t,...s){return $G(this,"reduce",t,s)},reduceRight(t,...s){return $G(this,"reduceRight",t,s)},shift(){return cI(this,"shift")},some(t,s){return z0(this,"some",t,s,void 0,arguments)},splice(...t){return cI(this,"splice",t)},toReversed(){return Qk(this).toReversed()},toSorted(t){return Qk(this).toSorted(t)},toSpliced(...t){return Qk(this).toSpliced(...t)},unshift(...t){return cI(this,"unshift",t)},values(){return MH(this,"values",ru)}};function MH(t,s,i){const u=MF(t),m=u[s]();return u!==t&&!qg(t)&&(m._next=m.next,m.next=()=>{const h=m._next();return h.value&&(h.value=i(h.value)),h}),m}const Fde=Array.prototype;function z0(t,s,i,u,m,h){const x=MF(t),w=x!==t&&!qg(t),T=x[s];if(T!==Fde[s]){const P=T.apply(t,h);return w?ru(P):P}let D=i;x!==t&&(w?D=function(P,z){return i.call(this,ru(P),z,t)}:i.length>2&&(D=function(P,z){return i.call(this,P,z,t)}));const I=T.call(x,D,u);return w&&m?m(I):I}function $G(t,s,i,u){const m=MF(t);let h=i;return m!==t&&(qg(t)?i.length>3&&(h=function(x,w,T){return i.call(this,x,w,T,t)}):h=function(x,w,T){return i.call(this,x,ru(w),T,t)}),m[s](h,...u)}function BH(t,s,i){const u=gr(t);$u(u,"iterate",DI);const m=u[s](...i);return(m===-1||m===!1)&&DW(i[0])?(i[0]=gr(i[0]),u[s](...i)):m}function cI(t,s,i=[]){Q0(),kW();const u=gr(t)[s].apply(t,i);return EW(),e1(),u}const $de=yW("__proto__,__v_isRef,__isVue"),eJ=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ub));function Vde(t){Ub(t)||(t=String(t));const s=gr(this);return $u(s,"has",t),s.hasOwnProperty(t)}class tJ{constructor(s=!1,i=!1){this._isReadonly=s,this._isShallow=i}get(s,i,u){if(i==="__v_skip")return s.__v_skip;const m=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!m;if(i==="__v_isReadonly")return m;if(i==="__v_isShallow")return h;if(i==="__v_raw")return u===(m?h?Yde:sJ:h?rJ:oJ).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(u)?s:void 0;const x=Jo(s);if(!m){let T;if(x&&(T=Bde[i]))return T;if(i==="hasOwnProperty")return Vde}const w=Reflect.get(s,i,Qs(s)?s:u);return(Ub(i)?eJ.has(i):$de(i))||(m||$u(s,"get",i),h)?w:Qs(w)?x&&CW(i)?w:w.value:Ii(w)?m?DE(w):ql(w):w}}class nJ extends tJ{constructor(s=!1){super(!1,s)}set(s,i,u,m){let h=s[i];if(!this._isShallow){const T=_x(h);if(!qg(u)&&!_x(u)&&(h=gr(h),u=gr(u)),!Jo(s)&&Qs(h)&&!Qs(u))return T?!1:(h.value=u,!0)}const x=Jo(s)&&CW(i)?Number(i)<s.length:hi(s,i),w=Reflect.set(s,i,u,Qs(s)?s:m);return s===gr(m)&&(x?yx(u,h)&&Z0(s,"set",i,u):Z0(s,"add",i,u)),w}deleteProperty(s,i){const u=hi(s,i);s[i];const m=Reflect.deleteProperty(s,i);return m&&u&&Z0(s,"delete",i,void 0),m}has(s,i){const u=Reflect.has(s,i);return(!Ub(i)||!eJ.has(i))&&$u(s,"has",i),u}ownKeys(s){return $u(s,"iterate",Jo(s)?"length":PC),Reflect.ownKeys(s)}}class zde extends tJ{constructor(s=!1){super(!0,s)}set(s,i){return!0}deleteProperty(s,i){return!0}}const Hde=new nJ,Ude=new zde,Wde=new nJ(!0);const IU=t=>t,vB=t=>Reflect.getPrototypeOf(t);function Kde(t,s,i){return function(...u){const m=this.__v_raw,h=gr(m),x=vE(h),w=t==="entries"||t===Symbol.iterator&&x,T=t==="keys"&&x,D=m[t](...u),I=i?IU:s?nF:ru;return!s&&$u(h,"iterate",T?OU:PC),{next(){const{value:P,done:z}=D.next();return z?{value:P,done:z}:{value:w?[I(P[0]),I(P[1])]:I(P),done:z}},[Symbol.iterator](){return this}}}}function yB(t){return function(...s){return t==="delete"?!1:t==="clear"?void 0:this}}function jde(t,s){const i={get(m){const h=this.__v_raw,x=gr(h),w=gr(m);t||(yx(m,w)&&$u(x,"get",m),$u(x,"get",w));const{has:T}=vB(x),D=s?IU:t?nF:ru;if(T.call(x,m))return D(h.get(m));if(T.call(x,w))return D(h.get(w));h!==x&&h.get(m)},get size(){const m=this.__v_raw;return!t&&$u(gr(m),"iterate",PC),Reflect.get(m,"size",m)},has(m){const h=this.__v_raw,x=gr(h),w=gr(m);return t||(yx(m,w)&&$u(x,"has",m),$u(x,"has",w)),m===w?h.has(m):h.has(m)||h.has(w)},forEach(m,h){const x=this,w=x.__v_raw,T=gr(w),D=s?IU:t?nF:ru;return!t&&$u(T,"iterate",PC),w.forEach((I,P)=>m.call(h,D(I),D(P),x))}};return cc(i,t?{add:yB("add"),set:yB("set"),delete:yB("delete"),clear:yB("clear")}:{add(m){!s&&!qg(m)&&!_x(m)&&(m=gr(m));const h=gr(this);return vB(h).has.call(h,m)||(h.add(m),Z0(h,"add",m,m)),this},set(m,h){!s&&!qg(h)&&!_x(h)&&(h=gr(h));const x=gr(this),{has:w,get:T}=vB(x);let D=w.call(x,m);D||(m=gr(m),D=w.call(x,m));const I=T.call(x,m);return x.set(m,h),D?yx(h,I)&&Z0(x,"set",m,h):Z0(x,"add",m,h),this},delete(m){const h=gr(this),{has:x,get:w}=vB(h);let T=x.call(h,m);T||(m=gr(m),T=x.call(h,m)),w&&w.call(h,m);const D=h.delete(m);return T&&Z0(h,"delete",m,void 0),D},clear(){const m=gr(this),h=m.size!==0,x=m.clear();return h&&Z0(m,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(m=>{i[m]=Kde(m,t,s)}),i}function OW(t,s){const i=jde(t,s);return(u,m,h)=>m==="__v_isReactive"?!t:m==="__v_isReadonly"?t:m==="__v_raw"?u:Reflect.get(hi(i,m)&&m in u?i:u,m,h)}const Zde={get:OW(!1,!1)},Gde={get:OW(!1,!0)},qde={get:OW(!0,!1)};const oJ=new WeakMap,rJ=new WeakMap,sJ=new WeakMap,Yde=new WeakMap;function Xde(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jde(t){return t.__v_skip||!Object.isExtensible(t)?0:Xde(_de(t))}function ql(t){return _x(t)?t:IW(t,!1,Hde,Zde,oJ)}function Qde(t){return IW(t,!1,Wde,Gde,rJ)}function DE(t){return IW(t,!0,Ude,qde,sJ)}function IW(t,s,i,u,m){if(!Ii(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const h=Jde(t);if(h===0)return t;const x=m.get(t);if(x)return x;const w=new Proxy(t,h===2?u:i);return m.set(t,w),w}function xx(t){return _x(t)?xx(t.__v_raw):!!(t&&t.__v_isReactive)}function _x(t){return!!(t&&t.__v_isReadonly)}function qg(t){return!!(t&&t.__v_isShallow)}function DW(t){return t?!!t.__v_raw:!1}function gr(t){const s=t&&t.__v_raw;return s?gr(s):t}function RW(t){return!hi(t,"__v_skip")&&Object.isExtensible(t)&&AU(t,"__v_skip",!0),t}const ru=t=>Ii(t)?ql(t):t,nF=t=>Ii(t)?DE(t):t;function Qs(t){return t?t.__v_isRef===!0:!1}function Mn(t){return iJ(t,!1)}function ho(t){return iJ(t,!0)}function iJ(t,s){return Qs(t)?t:new efe(t,s)}class efe{constructor(s,i){this.dep=new TW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?s:gr(s),this._value=i?s:ru(s),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(s){const i=this._rawValue,u=this.__v_isShallow||qg(s)||_x(s);s=u?s:gr(s),yx(s,i)&&(this._rawValue=s,this._value=u?s:ru(s),this.dep.trigger())}}function ie(t){return Qs(t)?t.value:t}function Wb(t){return Dr(t)?t():ie(t)}const tfe={get:(t,s,i)=>s==="__v_raw"?t:ie(Reflect.get(t,s,i)),set:(t,s,i,u)=>{const m=t[s];return Qs(m)&&!Qs(i)?(m.value=i,!0):Reflect.set(t,s,i,u)}};function aJ(t){return xx(t)?t:new Proxy(t,tfe)}function BF(t){const s=Jo(t)?new Array(t.length):{};for(const i in t)s[i]=lJ(t,i);return s}class nfe{constructor(s,i,u){this._object=s,this._key=i,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Mde(gr(this._object),this._key)}}class ofe{constructor(s){this._getter=s,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gn(t,s,i){return Qs(t)?t:Dr(t)?new ofe(t):Ii(t)&&arguments.length>1?lJ(t,s,i):Mn(t)}function lJ(t,s,i){const u=t[s];return Qs(u)?u:new nfe(t,s,i)}class rfe{constructor(s,i,u){this.fn=s,this.setter=i,this._value=void 0,this.dep=new TW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=II-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&oa!==this)return GX(this,!0),!0}get value(){const s=this.dep.track();return XX(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function sfe(t,s,i=!1){let u,m;return Dr(t)?u=t:(u=t.get,m=t.set),new rfe(u,m,i)}const xB={},oF=new WeakMap;let OC;function ife(t,s=!1,i=OC){if(i){let u=oF.get(i);u||oF.set(i,u=[]),u.push(t)}}function afe(t,s,i=Hi){const{immediate:u,deep:m,once:h,scheduler:x,augmentJob:w,call:T}=i,D=Z=>m?Z:qg(Z)||m===!1||m===0?G0(Z,1):G0(Z);let I,P,z,K,W=!1,J=!1;if(Qs(t)?(P=()=>t.value,W=qg(t)):xx(t)?(P=()=>D(t),W=!0):Jo(t)?(J=!0,W=t.some(Z=>xx(Z)||qg(Z)),P=()=>t.map(Z=>{if(Qs(Z))return Z.value;if(xx(Z))return D(Z);if(Dr(Z))return T?T(Z,2):Z()})):Dr(t)?s?P=T?()=>T(t,2):t:P=()=>{if(z){Q0();try{z()}finally{e1()}}const Z=OC;OC=I;try{return T?T(t,3,[K]):t(K)}finally{OC=Z}}:P=zb,s&&m){const Z=P,de=m===!0?1/0:m;P=()=>G0(Z(),de)}const oe=SW(),U=()=>{I.stop(),oe&&oe.active&&wW(oe.effects,I)};if(h&&s){const Z=s;s=(...de)=>{Z(...de),U()}}let he=J?new Array(t.length).fill(xB):xB;const ue=Z=>{if(!(!(I.flags&1)||!I.dirty&&!Z))if(s){const de=I.run();if(m||W||(J?de.some((re,Ve)=>yx(re,he[Ve])):yx(de,he))){z&&z();const re=OC;OC=I;try{const Ve=[de,he===xB?void 0:J&&he[0]===xB?[]:he,K];he=de,T?T(s,3,Ve):s(...Ve)}finally{OC=re}}}else I.run()};return w&&w(ue),I=new jX(P),I.scheduler=x?()=>x(ue,!1):ue,K=Z=>ife(Z,!1,I),z=I.onStop=()=>{const Z=oF.get(I);if(Z){if(T)T(Z,4);else for(const de of Z)de();oF.delete(I)}},s?u?ue(!0):he=I.run():x?x(ue.bind(null,!0),!0):I.run(),U.pause=I.pause.bind(I),U.resume=I.resume.bind(I),U.stop=U,U}function G0(t,s=1/0,i){if(s<=0||!Ii(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),s--,Qs(t))G0(t.value,s,i);else if(Jo(t))for(let u=0;u<t.length;u++)G0(t[u],s,i);else if(IE(t)||vE(t))t.forEach(u=>{G0(u,s,i)});else if(zX(t)){for(const u in t)G0(t[u],s,i);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&G0(t[u],s,i)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lD(t,s,i,u){try{return u?t(...u):t()}catch(m){FF(m,s,i)}}function hp(t,s,i,u){if(Dr(t)){const m=lD(t,s,i,u);return m&&$X(m)&&m.catch(h=>{FF(h,s,i)}),m}if(Jo(t)){const m=[];for(let h=0;h<t.length;h++)m.push(hp(t[h],s,i,u));return m}}function FF(t,s,i,u=!0){const m=s?s.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=s&&s.appContext.config||Hi;if(s){let w=s.parent;const T=s.proxy,D=`https://vuejs.org/error-reference/#runtime-${i}`;for(;w;){const I=w.ec;if(I){for(let P=0;P<I.length;P++)if(I[P](t,T,D)===!1)return}w=w.parent}if(h){Q0(),lD(h,null,10,[t,T,D]),e1();return}}lfe(t,i,m,u,x)}function lfe(t,s,i,u=!0,m=!1){if(m)throw t;console.error(t)}const Nd=[];let Mb=-1;const yE=[];let mx=null,dE=0;const cJ=Promise.resolve();let rF=null;function qo(t){const s=rF||cJ;return t?s.then(this?t.bind(this):t):s}function cfe(t){let s=Mb+1,i=Nd.length;for(;s<i;){const u=s+i>>>1,m=Nd[u],h=RI(m);h<t||h===t&&m.flags&2?s=u+1:i=u}return s}function NW(t){if(!(t.flags&1)){const s=RI(t),i=Nd[Nd.length-1];!i||!(t.flags&2)&&s>=RI(i)?Nd.push(t):Nd.splice(cfe(s),0,t),t.flags|=1,uJ()}}function uJ(){rF||(rF=cJ.then(fJ))}function ufe(t){Jo(t)?yE.push(...t):mx&&t.id===-1?mx.splice(dE+1,0,t):t.flags&1||(yE.push(t),t.flags|=1),uJ()}function VG(t,s,i=Mb+1){for(;i<Nd.length;i++){const u=Nd[i];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;Nd.splice(i,1),i--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function dJ(t){if(yE.length){const s=[...new Set(yE)].sort((i,u)=>RI(i)-RI(u));if(yE.length=0,mx){mx.push(...s);return}for(mx=s,dE=0;dE<mx.length;dE++){const i=mx[dE];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}mx=null,dE=0}}const RI=t=>t.id==null?t.flags&2?-1:1/0:t.id;function fJ(t){try{for(Mb=0;Mb<Nd.length;Mb++){const s=Nd[Mb];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),lD(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Mb<Nd.length;Mb++){const s=Nd[Mb];s&&(s.flags&=-2)}Mb=-1,Nd.length=0,dJ(),rF=null,(Nd.length||yE.length)&&fJ()}}let Ld=null,mJ=null;function sF(t){const s=Ld;return Ld=t,mJ=t&&t.type.__scopeId||null,s}function xt(t,s=Ld,i){if(!s||t._n)return t;const u=(...m)=>{u._d&&eq(-1);const h=sF(s);let x;try{x=t(...m)}finally{sF(h),u._d&&eq(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function zn(t,s){if(Ld===null)return t;const i=UF(Ld),u=t.dirs||(t.dirs=[]);for(let m=0;m<s.length;m++){let[h,x,w,T=Hi]=s[m];h&&(Dr(h)&&(h={mounted:h,updated:h}),h.deep&&G0(x),u.push({dir:h,instance:i,value:x,oldValue:void 0,arg:w,modifiers:T}))}return t}function _C(t,s,i,u){const m=t.dirs,h=s&&s.dirs;for(let x=0;x<m.length;x++){const w=m[x];h&&(w.oldValue=h[x].value);let T=w.dir[u];T&&(Q0(),hp(T,i,8,[t.el,w,t,s]),e1())}}const gJ=Symbol("_vte"),hJ=t=>t.__isTeleport,wI=t=>t&&(t.disabled||t.disabled===""),zG=t=>t&&(t.defer||t.defer===""),HG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,UG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,DU=(t,s)=>{const i=t&&t.to;return el(i)?s?s(i):null:i},pJ={name:"Teleport",__isTeleport:!0,process(t,s,i,u,m,h,x,w,T,D){const{mc:I,pc:P,pbc:z,o:{insert:K,querySelector:W,createText:J,createComment:oe}}=D,U=wI(s.props);let{shapeFlag:he,children:ue,dynamicChildren:Z}=s;if(t==null){const de=s.el=J(""),re=s.anchor=J("");K(de,i,u),K(re,i,u);const Ve=(Ye,it)=>{he&16&&(m&&m.isCE&&(m.ce._teleportTarget=Ye),I(ue,Ye,it,m,h,x,w,T))},Me=()=>{const Ye=s.target=DU(s.props,W),it=bJ(Ye,s,J,K);Ye&&(x!=="svg"&&HG(Ye)?x="svg":x!=="mathml"&&UG(Ye)&&(x="mathml"),U||(Ve(Ye,it),VB(s,!1)))};U&&(Ve(i,re),VB(s,!0)),zG(s.props)?(s.el.__isMounted=!1,Rd(()=>{Me(),delete s.el.__isMounted},h)):Me()}else{if(zG(s.props)&&t.el.__isMounted===!1){Rd(()=>{pJ.process(t,s,i,u,m,h,x,w,T,D)},h);return}s.el=t.el,s.targetStart=t.targetStart;const de=s.anchor=t.anchor,re=s.target=t.target,Ve=s.targetAnchor=t.targetAnchor,Me=wI(t.props),Ye=Me?i:re,it=Me?de:Ve;if(x==="svg"||HG(re)?x="svg":(x==="mathml"||UG(re))&&(x="mathml"),Z?(z(t.dynamicChildren,Z,Ye,m,h,x,w),$W(t,s,!0)):T||P(t,s,Ye,it,m,h,x,w,!1),U)Me?s.props&&t.props&&s.props.to!==t.props.to&&(s.props.to=t.props.to):wB(s,i,de,D,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const Ae=s.target=DU(s.props,W);Ae&&wB(s,Ae,null,D,0)}else Me&&wB(s,re,Ve,D,1);VB(s,U)}},remove(t,s,i,{um:u,o:{remove:m}},h){const{shapeFlag:x,children:w,anchor:T,targetStart:D,targetAnchor:I,target:P,props:z}=t;if(P&&(m(D),m(I)),h&&m(T),x&16){const K=h||!wI(z);for(let W=0;W<w.length;W++){const J=w[W];u(J,s,i,K,!!J.dynamicChildren)}}},move:wB,hydrate:dfe};function wB(t,s,i,{o:{insert:u},m},h=2){h===0&&u(t.targetAnchor,s,i);const{el:x,anchor:w,shapeFlag:T,children:D,props:I}=t,P=h===2;if(P&&u(x,s,i),(!P||wI(I))&&T&16)for(let z=0;z<D.length;z++)m(D[z],s,i,2);P&&u(w,s,i)}function dfe(t,s,i,u,m,h,{o:{nextSibling:x,parentNode:w,querySelector:T,insert:D,createText:I}},P){const z=s.target=DU(s.props,T);if(z){const K=wI(s.props),W=z._lpa||z.firstChild;if(s.shapeFlag&16)if(K)s.anchor=P(x(t),s,w(t),i,u,m,h),s.targetStart=W,s.targetAnchor=W&&x(W);else{s.anchor=x(t);let J=W;for(;J;){if(J&&J.nodeType===8){if(J.data==="teleport start anchor")s.targetStart=J;else if(J.data==="teleport anchor"){s.targetAnchor=J,z._lpa=s.targetAnchor&&x(s.targetAnchor);break}}J=x(J)}s.targetAnchor||bJ(z,s,I,D),P(W&&x(W),s,z,i,u,m,h)}VB(s,K)}return s.anchor&&x(s.anchor)}const ffe=pJ;function VB(t,s){const i=t.ctx;if(i&&i.ut){let u,m;for(s?(u=t.el,m=t.anchor):(u=t.targetStart,m=t.targetAnchor);u&&u!==m;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function bJ(t,s,i,u){const m=s.targetStart=i(""),h=s.targetAnchor=i("");return m[gJ]=h,t&&(u(m,t),u(h,t)),h}const gx=Symbol("_leaveCb"),CB=Symbol("_enterCb");function vJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ju(()=>{t.isMounted=!0}),Dc(()=>{t.isUnmounting=!0}),t}const zg=[Function,Array],yJ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zg,onEnter:zg,onAfterEnter:zg,onEnterCancelled:zg,onBeforeLeave:zg,onLeave:zg,onAfterLeave:zg,onLeaveCancelled:zg,onBeforeAppear:zg,onAppear:zg,onAfterAppear:zg,onAppearCancelled:zg},xJ=t=>{const s=t.subTree;return s.component?xJ(s.component):s},mfe={name:"BaseTransition",props:yJ,setup(t,{slots:s}){const i=RE(),u=vJ();return()=>{const m=s.default&&PW(s.default(),!0);if(!m||!m.length)return;const h=wJ(m),x=gr(t),{mode:w}=x;if(u.isLeaving)return FH(h);const T=WG(h);if(!T)return FH(h);let D=NI(T,x,u,i,P=>D=P);T.type!==zu&&$C(T,D);let I=i.subTree&&WG(i.subTree);if(I&&I.type!==zu&&!IC(T,I)&&xJ(i).type!==zu){let P=NI(I,x,u,i);if($C(I,P),w==="out-in"&&T.type!==zu)return u.isLeaving=!0,P.afterLeave=()=>{u.isLeaving=!1,i.job.flags&8||i.update(),delete P.afterLeave,I=void 0},FH(h);w==="in-out"&&T.type!==zu?P.delayLeave=(z,K,W)=>{const J=CJ(u,I);J[String(I.key)]=I,z[gx]=()=>{K(),z[gx]=void 0,delete D.delayedLeave,I=void 0},D.delayedLeave=()=>{W(),delete D.delayedLeave,I=void 0}}:I=void 0}else I&&(I=void 0);return h}}};function wJ(t){let s=t[0];if(t.length>1){for(const i of t)if(i.type!==zu){s=i;break}}return s}const gfe=mfe;function CJ(t,s){const{leavingVNodes:i}=t;let u=i.get(s.type);return u||(u=Object.create(null),i.set(s.type,u)),u}function NI(t,s,i,u,m){const{appear:h,mode:x,persisted:w=!1,onBeforeEnter:T,onEnter:D,onAfterEnter:I,onEnterCancelled:P,onBeforeLeave:z,onLeave:K,onAfterLeave:W,onLeaveCancelled:J,onBeforeAppear:oe,onAppear:U,onAfterAppear:he,onAppearCancelled:ue}=s,Z=String(t.key),de=CJ(i,t),re=(Ye,it)=>{Ye&&hp(Ye,u,9,it)},Ve=(Ye,it)=>{const Ae=it[1];re(Ye,it),Jo(Ye)?Ye.every(ze=>ze.length<=1)&&Ae():Ye.length<=1&&Ae()},Me={mode:x,persisted:w,beforeEnter(Ye){let it=T;if(!i.isMounted)if(h)it=oe||T;else return;Ye[gx]&&Ye[gx](!0);const Ae=de[Z];Ae&&IC(t,Ae)&&Ae.el[gx]&&Ae.el[gx](),re(it,[Ye])},enter(Ye){let it=D,Ae=I,ze=P;if(!i.isMounted)if(h)it=U||D,Ae=he||I,ze=ue||P;else return;let R=!1;const Fe=Ye[CB]=Ze=>{R||(R=!0,Ze?re(ze,[Ye]):re(Ae,[Ye]),Me.delayedLeave&&Me.delayedLeave(),Ye[CB]=void 0)};it?Ve(it,[Ye,Fe]):Fe()},leave(Ye,it){const Ae=String(t.key);if(Ye[CB]&&Ye[CB](!0),i.isUnmounting)return it();re(z,[Ye]);let ze=!1;const R=Ye[gx]=Fe=>{ze||(ze=!0,it(),Fe?re(J,[Ye]):re(W,[Ye]),Ye[gx]=void 0,de[Ae]===t&&delete de[Ae])};de[Ae]=t,K?Ve(K,[Ye,R]):R()},clone(Ye){const it=NI(Ye,s,i,u,m);return m&&m(it),it}};return Me}function FH(t){if($F(t))return t=n1(t),t.children=null,t}function WG(t){if(!$F(t))return hJ(t.type)&&t.children?wJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:s,children:i}=t;if(i){if(s&16)return i[0];if(s&32&&Dr(i.default))return i.default()}}function $C(t,s){t.shapeFlag&6&&t.component?(t.transition=s,$C(t.component.subTree,s)):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function PW(t,s=!1,i){let u=[],m=0;for(let h=0;h<t.length;h++){let x=t[h];const w=i==null?x.key:String(i)+String(x.key!=null?x.key:h);x.type===lr?(x.patchFlag&128&&m++,u=u.concat(PW(x.children,s,w))):(s||x.type!==zu)&&u.push(w!=null?n1(x,{key:w}):x)}if(m>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function _J(t,s){return Dr(t)?cc({name:t.name},s,{setup:t}):t}function a1(){const t=RE();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function SJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function CI(t,s,i,u,m=!1){if(Jo(t)){t.forEach((W,J)=>CI(W,s&&(Jo(s)?s[J]:s),i,u,m));return}if(_I(u)&&!m){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&CI(t,s,i,u.component.subTree);return}const h=u.shapeFlag&4?UF(u.component):u.el,x=m?null:h,{i:w,r:T}=t,D=s&&s.r,I=w.refs===Hi?w.refs={}:w.refs,P=w.setupState,z=gr(P),K=P===Hi?()=>!1:W=>hi(z,W);if(D!=null&&D!==T&&(el(D)?(I[D]=null,K(D)&&(P[D]=null)):Qs(D)&&(D.value=null)),Dr(T))lD(T,w,12,[x,I]);else{const W=el(T),J=Qs(T);if(W||J){const oe=()=>{if(t.f){const U=W?K(T)?P[T]:I[T]:T.value;m?Jo(U)&&wW(U,h):Jo(U)?U.includes(h)||U.push(h):W?(I[T]=[h],K(T)&&(P[T]=I[T])):(T.value=[h],t.k&&(I[t.k]=T.value))}else W?(I[T]=x,K(T)&&(P[T]=x)):J&&(T.value=x,t.k&&(I[t.k]=x))};x?(oe.id=-1,Rd(oe,i)):oe()}}}LF().requestIdleCallback;LF().cancelIdleCallback;const _I=t=>!!t.type.__asyncLoader,$F=t=>t.type.__isKeepAlive;function LW(t,s){kJ(t,"a",s)}function VF(t,s){kJ(t,"da",s)}function kJ(t,s,i=Ic){const u=t.__wdc||(t.__wdc=()=>{let m=i;for(;m;){if(m.isDeactivated)return;m=m.parent}return t()});if(zF(s,u,i),i){let m=i.parent;for(;m&&m.parent;)$F(m.parent.vnode)&&hfe(u,s,i,m),m=m.parent}}function hfe(t,s,i,u){const m=zF(s,t,u,!0);EJ(()=>{wW(u[s],m)},i)}function zF(t,s,i=Ic,u=!1){if(i){const m=i[t]||(i[t]=[]),h=s.__weh||(s.__weh=(...x)=>{Q0();const w=dD(i),T=hp(s,i,t,x);return w(),e1(),T});return u?m.unshift(h):m.push(h),h}}const l1=t=>(s,i=Ic)=>{(!MI||t==="sp")&&zF(t,(...u)=>s(...u),i)},cD=l1("bm"),ju=l1("m"),pfe=l1("bu"),MW=l1("u"),Dc=l1("bum"),EJ=l1("um"),bfe=l1("sp"),vfe=l1("rtg"),yfe=l1("rtc");function xfe(t,s=Ic){zF("ec",t,s)}const wfe="components",Cfe=Symbol.for("v-ndc");function _fe(t){return el(t)&&Sfe(wfe,t,!1)||t}function Sfe(t,s,i=!0,u=!1){const m=Ld||Ic;if(m){const h=m.type;{const w=ume(h,!1);if(w&&(w===s||w===Md(s)||w===i1(Md(s))))return h}const x=KG(m[t]||h[t],s)||KG(m.appContext[t],s);return!x&&u?h:x}}function KG(t,s){return t&&(t[s]||t[Md(s)]||t[i1(Md(s))])}function t1(t,s,i,u){let m;const h=i,x=Jo(t);if(x||el(t)){const w=x&&xx(t);let T=!1,D=!1;w&&(T=!qg(t),D=_x(t),t=MF(t)),m=new Array(t.length);for(let I=0,P=t.length;I<P;I++)m[I]=s(T?D?nF(ru(t[I])):ru(t[I]):t[I],I,void 0,h)}else if(typeof t=="number"){m=new Array(t);for(let w=0;w<t;w++)m[w]=s(w+1,w,void 0,h)}else if(Ii(t))if(t[Symbol.iterator])m=Array.from(t,(w,T)=>s(w,T,void 0,h));else{const w=Object.keys(t);m=new Array(w.length);for(let T=0,D=w.length;T<D;T++){const I=w[T];m[T]=s(t[I],I,T,h)}}else m=[];return m}const RU=t=>t?WJ(t)?UF(t):RU(t.parent):null,SI=cc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>RU(t.parent),$root:t=>RU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>TJ(t),$forceUpdate:t=>t.f||(t.f=()=>{NW(t.update)}),$nextTick:t=>t.n||(t.n=qo.bind(t.proxy)),$watch:t=>jfe.bind(t)}),$H=(t,s)=>t!==Hi&&!t.__isScriptSetup&&hi(t,s),kfe={get({_:t},s){if(s==="__v_skip")return!0;const{ctx:i,setupState:u,data:m,props:h,accessCache:x,type:w,appContext:T}=t;let D;if(s[0]!=="$"){const K=x[s];if(K!==void 0)switch(K){case 1:return u[s];case 2:return m[s];case 4:return i[s];case 3:return h[s]}else{if($H(u,s))return x[s]=1,u[s];if(m!==Hi&&hi(m,s))return x[s]=2,m[s];if((D=t.propsOptions[0])&&hi(D,s))return x[s]=3,h[s];if(i!==Hi&&hi(i,s))return x[s]=4,i[s];NU&&(x[s]=0)}}const I=SI[s];let P,z;if(I)return s==="$attrs"&&$u(t.attrs,"get",""),I(t);if((P=w.__cssModules)&&(P=P[s]))return P;if(i!==Hi&&hi(i,s))return x[s]=4,i[s];if(z=T.config.globalProperties,hi(z,s))return z[s]},set({_:t},s,i){const{data:u,setupState:m,ctx:h}=t;return $H(m,s)?(m[s]=i,!0):u!==Hi&&hi(u,s)?(u[s]=i,!0):hi(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(h[s]=i,!0)},has({_:{data:t,setupState:s,accessCache:i,ctx:u,appContext:m,propsOptions:h}},x){let w;return!!i[x]||t!==Hi&&hi(t,x)||$H(s,x)||(w=h[0])&&hi(w,x)||hi(u,x)||hi(SI,x)||hi(m.config.globalProperties,x)},defineProperty(t,s,i){return i.get!=null?t._.accessCache[s]=0:hi(i,"value")&&this.set(t,s,i.value,null),Reflect.defineProperty(t,s,i)}};function jG(t){return Jo(t)?t.reduce((s,i)=>(s[i]=null,s),{}):t}let NU=!0;function Efe(t){const s=TJ(t),i=t.proxy,u=t.ctx;NU=!1,s.beforeCreate&&ZG(s.beforeCreate,t,"bc");const{data:m,computed:h,methods:x,watch:w,provide:T,inject:D,created:I,beforeMount:P,mounted:z,beforeUpdate:K,updated:W,activated:J,deactivated:oe,beforeDestroy:U,beforeUnmount:he,destroyed:ue,unmounted:Z,render:de,renderTracked:re,renderTriggered:Ve,errorCaptured:Me,serverPrefetch:Ye,expose:it,inheritAttrs:Ae,components:ze,directives:R,filters:Fe}=s;if(D&&Afe(D,u,null),x)for(const Gt in x){const ut=x[Gt];Dr(ut)&&(u[Gt]=ut.bind(i))}if(m){const Gt=m.call(i,i);Ii(Gt)&&(t.data=ql(Gt))}if(NU=!0,h)for(const Gt in h){const ut=h[Gt],kn=Dr(ut)?ut.bind(i,i):Dr(ut.get)?ut.get.bind(i,i):zb,Et=!Dr(ut)&&Dr(ut.set)?ut.set.bind(i):zb,tt=Dt({get:kn,set:Et});Object.defineProperty(u,Gt,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Pe=>tt.value=Pe})}if(w)for(const Gt in w)AJ(w[Gt],u,i,Gt);if(T){const Gt=Dr(T)?T.call(i):T;Reflect.ownKeys(Gt).forEach(ut=>{Fd(ut,Gt[ut])})}I&&ZG(I,t,"c");function Ot(Gt,ut){Jo(ut)?ut.forEach(kn=>Gt(kn.bind(i))):ut&&Gt(ut.bind(i))}if(Ot(cD,P),Ot(ju,z),Ot(pfe,K),Ot(MW,W),Ot(LW,J),Ot(VF,oe),Ot(xfe,Me),Ot(yfe,re),Ot(vfe,Ve),Ot(Dc,he),Ot(EJ,Z),Ot(bfe,Ye),Jo(it))if(it.length){const Gt=t.exposed||(t.exposed={});it.forEach(ut=>{Object.defineProperty(Gt,ut,{get:()=>i[ut],set:kn=>i[ut]=kn})})}else t.exposed||(t.exposed={});de&&t.render===zb&&(t.render=de),Ae!=null&&(t.inheritAttrs=Ae),ze&&(t.components=ze),R&&(t.directives=R),Ye&&SJ(t)}function Afe(t,s,i=zb){Jo(t)&&(t=PU(t));for(const u in t){const m=t[u];let h;Ii(m)?"default"in m?h=Wi(m.from||u,m.default,!0):h=Wi(m.from||u):h=Wi(m),Qs(h)?Object.defineProperty(s,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):s[u]=h}}function ZG(t,s,i){hp(Jo(t)?t.map(u=>u.bind(s.proxy)):t.bind(s.proxy),s,i)}function AJ(t,s,i,u){let m=u.includes(".")?$J(i,u):()=>i[u];if(el(t)){const h=s[t];Dr(h)&&Dn(m,h)}else if(Dr(t))Dn(m,t.bind(i));else if(Ii(t))if(Jo(t))t.forEach(h=>AJ(h,s,i,u));else{const h=Dr(t.handler)?t.handler.bind(i):s[t.handler];Dr(h)&&Dn(m,h,t)}}function TJ(t){const s=t.type,{mixins:i,extends:u}=s,{mixins:m,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,w=h.get(s);let T;return w?T=w:!m.length&&!i&&!u?T=s:(T={},m.length&&m.forEach(D=>iF(T,D,x,!0)),iF(T,s,x)),Ii(s)&&h.set(s,T),T}function iF(t,s,i,u=!1){const{mixins:m,extends:h}=s;h&&iF(t,h,i,!0),m&&m.forEach(x=>iF(t,x,i,!0));for(const x in s)if(!(u&&x==="expose")){const w=Tfe[x]||i&&i[x];t[x]=w?w(t[x],s[x]):s[x]}return t}const Tfe={data:GG,props:qG,emits:qG,methods:bI,computed:bI,beforeCreate:Id,created:Id,beforeMount:Id,mounted:Id,beforeUpdate:Id,updated:Id,beforeDestroy:Id,beforeUnmount:Id,destroyed:Id,unmounted:Id,activated:Id,deactivated:Id,errorCaptured:Id,serverPrefetch:Id,components:bI,directives:bI,watch:Ife,provide:GG,inject:Ofe};function GG(t,s){return s?t?function(){return cc(Dr(t)?t.call(this,this):t,Dr(s)?s.call(this,this):s)}:s:t}function Ofe(t,s){return bI(PU(t),PU(s))}function PU(t){if(Jo(t)){const s={};for(let i=0;i<t.length;i++)s[t[i]]=t[i];return s}return t}function Id(t,s){return t?[...new Set([].concat(t,s))]:s}function bI(t,s){return t?cc(Object.create(null),t,s):s}function qG(t,s){return t?Jo(t)&&Jo(s)?[...new Set([...t,...s])]:cc(Object.create(null),jG(t),jG(s??{})):s}function Ife(t,s){if(!t)return s;if(!s)return t;const i=cc(Object.create(null),t);for(const u in s)i[u]=Id(t[u],s[u]);return i}function OJ(){return{app:null,config:{isNativeTag:wde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dfe=0;function Rfe(t,s){return function(u,m=null){Dr(u)||(u=cc({},u)),m!=null&&!Ii(m)&&(m=null);const h=OJ(),x=new WeakSet,w=[];let T=!1;const D=h.app={_uid:Dfe++,_component:u,_props:m,_container:null,_context:h,_instance:null,version:fme,get config(){return h.config},set config(I){},use(I,...P){return x.has(I)||(I&&Dr(I.install)?(x.add(I),I.install(D,...P)):Dr(I)&&(x.add(I),I(D,...P))),D},mixin(I){return h.mixins.includes(I)||h.mixins.push(I),D},component(I,P){return P?(h.components[I]=P,D):h.components[I]},directive(I,P){return P?(h.directives[I]=P,D):h.directives[I]},mount(I,P,z){if(!T){const K=D._ceVNode||ae(u,m);return K.appContext=h,z===!0?z="svg":z===!1&&(z=void 0),t(K,I,z),T=!0,D._container=I,I.__vue_app__=D,UF(K.component)}},onUnmount(I){w.push(I)},unmount(){T&&(hp(w,D._instance,16),t(null,D._container),delete D._container.__vue_app__)},provide(I,P){return h.provides[I]=P,D},runWithContext(I){const P=LC;LC=D;try{return I()}finally{LC=P}}};return D}}let LC=null;function Fd(t,s){if(Ic){let i=Ic.provides;const u=Ic.parent&&Ic.parent.provides;u===i&&(i=Ic.provides=Object.create(u)),i[t]=s}}function Wi(t,s,i=!1){const u=Ic||Ld;if(u||LC){let m=LC?LC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(m&&t in m)return m[t];if(arguments.length>1)return i&&Dr(s)?s.call(u&&u.proxy):s}}function Nfe(){return!!(Ic||Ld||LC)}const IJ={},DJ=()=>Object.create(IJ),RJ=t=>Object.getPrototypeOf(t)===IJ;function Pfe(t,s,i,u=!1){const m={},h=DJ();t.propsDefaults=Object.create(null),NJ(t,s,m,h);for(const x in t.propsOptions[0])x in m||(m[x]=void 0);i?t.props=u?m:Qde(m):t.type.props?t.props=m:t.props=h,t.attrs=h}function Lfe(t,s,i,u){const{props:m,attrs:h,vnode:{patchFlag:x}}=t,w=gr(m),[T]=t.propsOptions;let D=!1;if((u||x>0)&&!(x&16)){if(x&8){const I=t.vnode.dynamicProps;for(let P=0;P<I.length;P++){let z=I[P];if(HF(t.emitsOptions,z))continue;const K=s[z];if(T)if(hi(h,z))K!==h[z]&&(h[z]=K,D=!0);else{const W=Md(z);m[W]=LU(T,w,W,K,t,!1)}else K!==h[z]&&(h[z]=K,D=!0)}}}else{NJ(t,s,m,h)&&(D=!0);let I;for(const P in w)(!s||!hi(s,P)&&((I=UC(P))===P||!hi(s,I)))&&(T?i&&(i[P]!==void 0||i[I]!==void 0)&&(m[P]=LU(T,w,P,void 0,t,!0)):delete m[P]);if(h!==w)for(const P in h)(!s||!hi(s,P))&&(delete h[P],D=!0)}D&&Z0(t.attrs,"set","")}function NJ(t,s,i,u){const[m,h]=t.propsOptions;let x=!1,w;if(s)for(let T in s){if(vI(T))continue;const D=s[T];let I;m&&hi(m,I=Md(T))?!h||!h.includes(I)?i[I]=D:(w||(w={}))[I]=D:HF(t.emitsOptions,T)||(!(T in u)||D!==u[T])&&(u[T]=D,x=!0)}if(h){const T=gr(i),D=w||Hi;for(let I=0;I<h.length;I++){const P=h[I];i[P]=LU(m,T,P,D[P],t,!hi(D,P))}}return x}function LU(t,s,i,u,m,h){const x=t[i];if(x!=null){const w=hi(x,"default");if(w&&u===void 0){const T=x.default;if(x.type!==Function&&!x.skipFactory&&Dr(T)){const{propsDefaults:D}=m;if(i in D)u=D[i];else{const I=dD(m);u=D[i]=T.call(null,s),I()}}else u=T;m.ce&&m.ce._setProp(i,u)}x[0]&&(h&&!w?u=!1:x[1]&&(u===""||u===UC(i))&&(u=!0))}return u}const Mfe=new WeakMap;function PJ(t,s,i=!1){const u=i?Mfe:s.propsCache,m=u.get(t);if(m)return m;const h=t.props,x={},w=[];let T=!1;if(!Dr(t)){const I=P=>{T=!0;const[z,K]=PJ(P,s,!0);cc(x,z),K&&w.push(...K)};!i&&s.mixins.length&&s.mixins.forEach(I),t.extends&&I(t.extends),t.mixins&&t.mixins.forEach(I)}if(!h&&!T)return Ii(t)&&u.set(t,bE),bE;if(Jo(h))for(let I=0;I<h.length;I++){const P=Md(h[I]);YG(P)&&(x[P]=Hi)}else if(h)for(const I in h){const P=Md(I);if(YG(P)){const z=h[I],K=x[P]=Jo(z)||Dr(z)?{type:z}:cc({},z),W=K.type;let J=!1,oe=!0;if(Jo(W))for(let U=0;U<W.length;++U){const he=W[U],ue=Dr(he)&&he.name;if(ue==="Boolean"){J=!0;break}else ue==="String"&&(oe=!1)}else J=Dr(W)&&W.name==="Boolean";K[0]=J,K[1]=oe,(J||hi(K,"default"))&&w.push(P)}}const D=[x,w];return Ii(t)&&u.set(t,D),D}function YG(t){return t[0]!=="$"&&!vI(t)}const BW=t=>t[0]==="_"||t==="$stable",FW=t=>Jo(t)?t.map(Fb):[Fb(t)],Bfe=(t,s,i)=>{if(s._n)return s;const u=xt((...m)=>FW(s(...m)),i);return u._c=!1,u},LJ=(t,s,i)=>{const u=t._ctx;for(const m in t){if(BW(m))continue;const h=t[m];if(Dr(h))s[m]=Bfe(m,h,u);else if(h!=null){const x=FW(h);s[m]=()=>x}}},MJ=(t,s)=>{const i=FW(s);t.slots.default=()=>i},BJ=(t,s,i)=>{for(const u in s)(i||!BW(u))&&(t[u]=s[u])},Ffe=(t,s,i)=>{const u=t.slots=DJ();if(t.vnode.shapeFlag&32){const m=s.__;m&&AU(u,"__",m,!0);const h=s._;h?(BJ(u,s,i),i&&AU(u,"_",h,!0)):LJ(s,u)}else s&&MJ(t,s)},$fe=(t,s,i)=>{const{vnode:u,slots:m}=t;let h=!0,x=Hi;if(u.shapeFlag&32){const w=s._;w?i&&w===1?h=!1:BJ(m,s,i):(h=!s.$stable,LJ(s,m)),x=s}else s&&(MJ(t,s),x={default:1});if(h)for(const w in m)!BW(w)&&x[w]==null&&delete m[w]},Rd=Qfe;function Vfe(t){return zfe(t)}function zfe(t,s){const i=LF();i.__VUE__=!0;const{insert:u,remove:m,patchProp:h,createElement:x,createText:w,createComment:T,setText:D,setElementText:I,parentNode:P,nextSibling:z,setScopeId:K=zb,insertStaticContent:W}=t,J=(je,nt,xe,Te=null,$e=null,be=null,Ce=void 0,Re=null,qe=!!nt.dynamicChildren)=>{if(je===nt)return;je&&!IC(je,nt)&&(Te=nn(je),Pe(je,$e,be,!0),je=null),nt.patchFlag===-2&&(qe=!1,nt.dynamicChildren=null);const{type:ht,ref:sn,shapeFlag:Ut}=nt;switch(ht){case uD:oe(je,nt,xe,Te);break;case zu:U(je,nt,xe,Te);break;case zH:je==null&&he(nt,xe,Te,Ce);break;case lr:ze(je,nt,xe,Te,$e,be,Ce,Re,qe);break;default:Ut&1?de(je,nt,xe,Te,$e,be,Ce,Re,qe):Ut&6?R(je,nt,xe,Te,$e,be,Ce,Re,qe):(Ut&64||Ut&128)&&ht.process(je,nt,xe,Te,$e,be,Ce,Re,qe,Kt)}sn!=null&&$e?CI(sn,je&&je.ref,be,nt||je,!nt):sn==null&&je&&je.ref!=null&&CI(je.ref,null,be,je,!0)},oe=(je,nt,xe,Te)=>{if(je==null)u(nt.el=w(nt.children),xe,Te);else{const $e=nt.el=je.el;nt.children!==je.children&&D($e,nt.children)}},U=(je,nt,xe,Te)=>{je==null?u(nt.el=T(nt.children||""),xe,Te):nt.el=je.el},he=(je,nt,xe,Te)=>{[je.el,je.anchor]=W(je.children,nt,xe,Te,je.el,je.anchor)},ue=({el:je,anchor:nt},xe,Te)=>{let $e;for(;je&&je!==nt;)$e=z(je),u(je,xe,Te),je=$e;u(nt,xe,Te)},Z=({el:je,anchor:nt})=>{let xe;for(;je&&je!==nt;)xe=z(je),m(je),je=xe;m(nt)},de=(je,nt,xe,Te,$e,be,Ce,Re,qe)=>{nt.type==="svg"?Ce="svg":nt.type==="math"&&(Ce="mathml"),je==null?re(nt,xe,Te,$e,be,Ce,Re,qe):Ye(je,nt,$e,be,Ce,Re,qe)},re=(je,nt,xe,Te,$e,be,Ce,Re)=>{let qe,ht;const{props:sn,shapeFlag:Ut,transition:bn,dirs:qn}=je;if(qe=je.el=x(je.type,be,sn&&sn.is,sn),Ut&8?I(qe,je.children):Ut&16&&Me(je.children,qe,null,Te,$e,VH(je,be),Ce,Re),qn&&_C(je,null,Te,"created"),Ve(qe,je,je.scopeId,Ce,Te),sn){for(const Fo in sn)Fo!=="value"&&!vI(Fo)&&h(qe,Fo,null,sn[Fo],be,Te);"value"in sn&&h(qe,"value",null,sn.value,be),(ht=sn.onVnodeBeforeMount)&&Db(ht,Te,je)}qn&&_C(je,null,Te,"beforeMount");const eo=Hfe($e,bn);eo&&bn.beforeEnter(qe),u(qe,nt,xe),((ht=sn&&sn.onVnodeMounted)||eo||qn)&&Rd(()=>{ht&&Db(ht,Te,je),eo&&bn.enter(qe),qn&&_C(je,null,Te,"mounted")},$e)},Ve=(je,nt,xe,Te,$e)=>{if(xe&&K(je,xe),Te)for(let be=0;be<Te.length;be++)K(je,Te[be]);if($e){let be=$e.subTree;if(nt===be||zJ(be.type)&&(be.ssContent===nt||be.ssFallback===nt)){const Ce=$e.vnode;Ve(je,Ce,Ce.scopeId,Ce.slotScopeIds,$e.parent)}}},Me=(je,nt,xe,Te,$e,be,Ce,Re,qe=0)=>{for(let ht=qe;ht<je.length;ht++){const sn=je[ht]=Re?hx(je[ht]):Fb(je[ht]);J(null,sn,nt,xe,Te,$e,be,Ce,Re)}},Ye=(je,nt,xe,Te,$e,be,Ce)=>{const Re=nt.el=je.el;let{patchFlag:qe,dynamicChildren:ht,dirs:sn}=nt;qe|=je.patchFlag&16;const Ut=je.props||Hi,bn=nt.props||Hi;let qn;if(xe&&SC(xe,!1),(qn=bn.onVnodeBeforeUpdate)&&Db(qn,xe,nt,je),sn&&_C(nt,je,xe,"beforeUpdate"),xe&&SC(xe,!0),(Ut.innerHTML&&bn.innerHTML==null||Ut.textContent&&bn.textContent==null)&&I(Re,""),ht?it(je.dynamicChildren,ht,Re,xe,Te,VH(nt,$e),be):Ce||ut(je,nt,Re,null,xe,Te,VH(nt,$e),be,!1),qe>0){if(qe&16)Ae(Re,Ut,bn,xe,$e);else if(qe&2&&Ut.class!==bn.class&&h(Re,"class",null,bn.class,$e),qe&4&&h(Re,"style",Ut.style,bn.style,$e),qe&8){const eo=nt.dynamicProps;for(let Fo=0;Fo<eo.length;Fo++){const Do=eo[Fo],Zr=Ut[Do],cr=bn[Do];(cr!==Zr||Do==="value")&&h(Re,Do,Zr,cr,$e,xe)}}qe&1&&je.children!==nt.children&&I(Re,nt.children)}else!Ce&&ht==null&&Ae(Re,Ut,bn,xe,$e);((qn=bn.onVnodeUpdated)||sn)&&Rd(()=>{qn&&Db(qn,xe,nt,je),sn&&_C(nt,je,xe,"updated")},Te)},it=(je,nt,xe,Te,$e,be,Ce)=>{for(let Re=0;Re<nt.length;Re++){const qe=je[Re],ht=nt[Re],sn=qe.el&&(qe.type===lr||!IC(qe,ht)||qe.shapeFlag&198)?P(qe.el):xe;J(qe,ht,sn,null,Te,$e,be,Ce,!0)}},Ae=(je,nt,xe,Te,$e)=>{if(nt!==xe){if(nt!==Hi)for(const be in nt)!vI(be)&&!(be in xe)&&h(je,be,nt[be],null,$e,Te);for(const be in xe){if(vI(be))continue;const Ce=xe[be],Re=nt[be];Ce!==Re&&be!=="value"&&h(je,be,Re,Ce,$e,Te)}"value"in xe&&h(je,"value",nt.value,xe.value,$e)}},ze=(je,nt,xe,Te,$e,be,Ce,Re,qe)=>{const ht=nt.el=je?je.el:w(""),sn=nt.anchor=je?je.anchor:w("");let{patchFlag:Ut,dynamicChildren:bn,slotScopeIds:qn}=nt;qn&&(Re=Re?Re.concat(qn):qn),je==null?(u(ht,xe,Te),u(sn,xe,Te),Me(nt.children||[],xe,sn,$e,be,Ce,Re,qe)):Ut>0&&Ut&64&&bn&&je.dynamicChildren?(it(je.dynamicChildren,bn,xe,$e,be,Ce,Re),(nt.key!=null||$e&&nt===$e.subTree)&&$W(je,nt,!0)):ut(je,nt,xe,sn,$e,be,Ce,Re,qe)},R=(je,nt,xe,Te,$e,be,Ce,Re,qe)=>{nt.slotScopeIds=Re,je==null?nt.shapeFlag&512?$e.ctx.activate(nt,xe,Te,Ce,qe):Fe(nt,xe,Te,$e,be,Ce,qe):Ze(je,nt,qe)},Fe=(je,nt,xe,Te,$e,be,Ce)=>{const Re=je.component=sme(je,Te,$e);if($F(je)&&(Re.ctx.renderer=Kt),ime(Re,!1,Ce),Re.asyncDep){if($e&&$e.registerDep(Re,Ot,Ce),!je.el){const qe=Re.subTree=ae(zu);U(null,qe,nt,xe)}}else Ot(Re,je,nt,xe,$e,be,Ce)},Ze=(je,nt,xe)=>{const Te=nt.component=je.component;if(Xfe(je,nt,xe))if(Te.asyncDep&&!Te.asyncResolved){Gt(Te,nt,xe);return}else Te.next=nt,Te.update();else nt.el=je.el,Te.vnode=nt},Ot=(je,nt,xe,Te,$e,be,Ce)=>{const Re=()=>{if(je.isMounted){let{next:Ut,bu:bn,u:qn,parent:eo,vnode:Fo}=je;{const xr=FJ(je);if(xr){Ut&&(Ut.el=Fo.el,Gt(je,Ut,Ce)),xr.asyncDep.then(()=>{je.isUnmounted||Re()});return}}let Do=Ut,Zr;SC(je,!1),Ut?(Ut.el=Fo.el,Gt(je,Ut,Ce)):Ut=Fo,bn&&$B(bn),(Zr=Ut.props&&Ut.props.onVnodeBeforeUpdate)&&Db(Zr,eo,Ut,Fo),SC(je,!0);const cr=JG(je),ti=je.subTree;je.subTree=cr,J(ti,cr,P(ti.el),nn(ti),je,$e,be),Ut.el=cr.el,Do===null&&Jfe(je,cr.el),qn&&Rd(qn,$e),(Zr=Ut.props&&Ut.props.onVnodeUpdated)&&Rd(()=>Db(Zr,eo,Ut,Fo),$e)}else{let Ut;const{el:bn,props:qn}=nt,{bm:eo,m:Fo,parent:Do,root:Zr,type:cr}=je,ti=_I(nt);SC(je,!1),eo&&$B(eo),!ti&&(Ut=qn&&qn.onVnodeBeforeMount)&&Db(Ut,Do,nt),SC(je,!0);{Zr.ce&&Zr.ce._def.shadowRoot!==!1&&Zr.ce._injectChildStyle(cr);const xr=je.subTree=JG(je);J(null,xr,xe,Te,je,$e,be),nt.el=xr.el}if(Fo&&Rd(Fo,$e),!ti&&(Ut=qn&&qn.onVnodeMounted)){const xr=nt;Rd(()=>Db(Ut,Do,xr),$e)}(nt.shapeFlag&256||Do&&_I(Do.vnode)&&Do.vnode.shapeFlag&256)&&je.a&&Rd(je.a,$e),je.isMounted=!0,nt=xe=Te=null}};je.scope.on();const qe=je.effect=new jX(Re);je.scope.off();const ht=je.update=qe.run.bind(qe),sn=je.job=qe.runIfDirty.bind(qe);sn.i=je,sn.id=je.uid,qe.scheduler=()=>NW(sn),SC(je,!0),ht()},Gt=(je,nt,xe)=>{nt.component=je;const Te=je.vnode.props;je.vnode=nt,je.next=null,Lfe(je,nt.props,Te,xe),$fe(je,nt.children,xe),Q0(),VG(je),e1()},ut=(je,nt,xe,Te,$e,be,Ce,Re,qe=!1)=>{const ht=je&&je.children,sn=je?je.shapeFlag:0,Ut=nt.children,{patchFlag:bn,shapeFlag:qn}=nt;if(bn>0){if(bn&128){Et(ht,Ut,xe,Te,$e,be,Ce,Re,qe);return}else if(bn&256){kn(ht,Ut,xe,Te,$e,be,Ce,Re,qe);return}}qn&8?(sn&16&&On(ht,$e,be),Ut!==ht&&I(xe,Ut)):sn&16?qn&16?Et(ht,Ut,xe,Te,$e,be,Ce,Re,qe):On(ht,$e,be,!0):(sn&8&&I(xe,""),qn&16&&Me(Ut,xe,Te,$e,be,Ce,Re,qe))},kn=(je,nt,xe,Te,$e,be,Ce,Re,qe)=>{je=je||bE,nt=nt||bE;const ht=je.length,sn=nt.length,Ut=Math.min(ht,sn);let bn;for(bn=0;bn<Ut;bn++){const qn=nt[bn]=qe?hx(nt[bn]):Fb(nt[bn]);J(je[bn],qn,xe,null,$e,be,Ce,Re,qe)}ht>sn?On(je,$e,be,!0,!1,Ut):Me(nt,xe,Te,$e,be,Ce,Re,qe,Ut)},Et=(je,nt,xe,Te,$e,be,Ce,Re,qe)=>{let ht=0;const sn=nt.length;let Ut=je.length-1,bn=sn-1;for(;ht<=Ut&&ht<=bn;){const qn=je[ht],eo=nt[ht]=qe?hx(nt[ht]):Fb(nt[ht]);if(IC(qn,eo))J(qn,eo,xe,null,$e,be,Ce,Re,qe);else break;ht++}for(;ht<=Ut&&ht<=bn;){const qn=je[Ut],eo=nt[bn]=qe?hx(nt[bn]):Fb(nt[bn]);if(IC(qn,eo))J(qn,eo,xe,null,$e,be,Ce,Re,qe);else break;Ut--,bn--}if(ht>Ut){if(ht<=bn){const qn=bn+1,eo=qn<sn?nt[qn].el:Te;for(;ht<=bn;)J(null,nt[ht]=qe?hx(nt[ht]):Fb(nt[ht]),xe,eo,$e,be,Ce,Re,qe),ht++}}else if(ht>bn)for(;ht<=Ut;)Pe(je[ht],$e,be,!0),ht++;else{const qn=ht,eo=ht,Fo=new Map;for(ht=eo;ht<=bn;ht++){const uo=nt[ht]=qe?hx(nt[ht]):Fb(nt[ht]);uo.key!=null&&Fo.set(uo.key,ht)}let Do,Zr=0;const cr=bn-eo+1;let ti=!1,xr=0;const ji=new Array(cr);for(ht=0;ht<cr;ht++)ji[ht]=0;for(ht=qn;ht<=Ut;ht++){const uo=je[ht];if(Zr>=cr){Pe(uo,$e,be,!0);continue}let Oo;if(uo.key!=null)Oo=Fo.get(uo.key);else for(Do=eo;Do<=bn;Do++)if(ji[Do-eo]===0&&IC(uo,nt[Do])){Oo=Do;break}Oo===void 0?Pe(uo,$e,be,!0):(ji[Oo-eo]=ht+1,Oo>=xr?xr=Oo:ti=!0,J(uo,nt[Oo],xe,null,$e,be,Ce,Re,qe),Zr++)}const En=ti?Ufe(ji):bE;for(Do=En.length-1,ht=cr-1;ht>=0;ht--){const uo=eo+ht,Oo=nt[uo],ci=uo+1<sn?nt[uo+1].el:Te;ji[ht]===0?J(null,Oo,xe,ci,$e,be,Ce,Re,qe):ti&&(Do<0||ht!==En[Do]?tt(Oo,xe,ci,2):Do--)}}},tt=(je,nt,xe,Te,$e=null)=>{const{el:be,type:Ce,transition:Re,children:qe,shapeFlag:ht}=je;if(ht&6){tt(je.component.subTree,nt,xe,Te);return}if(ht&128){je.suspense.move(nt,xe,Te);return}if(ht&64){Ce.move(je,nt,xe,Kt);return}if(Ce===lr){u(be,nt,xe);for(let Ut=0;Ut<qe.length;Ut++)tt(qe[Ut],nt,xe,Te);u(je.anchor,nt,xe);return}if(Ce===zH){ue(je,nt,xe);return}if(Te!==2&&ht&1&&Re)if(Te===0)Re.beforeEnter(be),u(be,nt,xe),Rd(()=>Re.enter(be),$e);else{const{leave:Ut,delayLeave:bn,afterLeave:qn}=Re,eo=()=>{je.ctx.isUnmounted?m(be):u(be,nt,xe)},Fo=()=>{Ut(be,()=>{eo(),qn&&qn()})};bn?bn(be,eo,Fo):Fo()}else u(be,nt,xe)},Pe=(je,nt,xe,Te=!1,$e=!1)=>{const{type:be,props:Ce,ref:Re,children:qe,dynamicChildren:ht,shapeFlag:sn,patchFlag:Ut,dirs:bn,cacheIndex:qn}=je;if(Ut===-2&&($e=!1),Re!=null&&(Q0(),CI(Re,null,xe,je,!0),e1()),qn!=null&&(nt.renderCache[qn]=void 0),sn&256){nt.ctx.deactivate(je);return}const eo=sn&1&&bn,Fo=!_I(je);let Do;if(Fo&&(Do=Ce&&Ce.onVnodeBeforeUnmount)&&Db(Do,nt,je),sn&6)Ht(je.component,xe,Te);else{if(sn&128){je.suspense.unmount(xe,Te);return}eo&&_C(je,null,nt,"beforeUnmount"),sn&64?je.type.remove(je,nt,xe,Kt,Te):ht&&!ht.hasOnce&&(be!==lr||Ut>0&&Ut&64)?On(ht,nt,xe,!1,!0):(be===lr&&Ut&384||!$e&&sn&16)&&On(qe,nt,xe),Te&&mt(je)}(Fo&&(Do=Ce&&Ce.onVnodeUnmounted)||eo)&&Rd(()=>{Do&&Db(Do,nt,je),eo&&_C(je,null,nt,"unmounted")},xe)},mt=je=>{const{type:nt,el:xe,anchor:Te,transition:$e}=je;if(nt===lr){po(xe,Te);return}if(nt===zH){Z(je);return}const be=()=>{m(xe),$e&&!$e.persisted&&$e.afterLeave&&$e.afterLeave()};if(je.shapeFlag&1&&$e&&!$e.persisted){const{leave:Ce,delayLeave:Re}=$e,qe=()=>Ce(xe,be);Re?Re(je.el,be,qe):qe()}else be()},po=(je,nt)=>{let xe;for(;je!==nt;)xe=z(je),m(je),je=xe;m(nt)},Ht=(je,nt,xe)=>{const{bum:Te,scope:$e,job:be,subTree:Ce,um:Re,m:qe,a:ht,parent:sn,slots:{__:Ut}}=je;XG(qe),XG(ht),Te&&$B(Te),sn&&Jo(Ut)&&Ut.forEach(bn=>{sn.renderCache[bn]=void 0}),$e.stop(),be&&(be.flags|=8,Pe(Ce,je,nt,xe)),Re&&Rd(Re,nt),Rd(()=>{je.isUnmounted=!0},nt),nt&&nt.pendingBranch&&!nt.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===nt.pendingId&&(nt.deps--,nt.deps===0&&nt.resolve())},On=(je,nt,xe,Te=!1,$e=!1,be=0)=>{for(let Ce=be;Ce<je.length;Ce++)Pe(je[Ce],nt,xe,Te,$e)},nn=je=>{if(je.shapeFlag&6)return nn(je.component.subTree);if(je.shapeFlag&128)return je.suspense.next();const nt=z(je.anchor||je.el),xe=nt&&nt[gJ];return xe?z(xe):nt};let Q=!1;const co=(je,nt,xe)=>{je==null?nt._vnode&&Pe(nt._vnode,null,null,!0):J(nt._vnode||null,je,nt,null,null,null,xe),nt._vnode=je,Q||(Q=!0,VG(),dJ(),Q=!1)},Kt={p:J,um:Pe,m:tt,r:mt,mt:Fe,mc:Me,pc:ut,pbc:it,n:nn,o:t};return{render:co,hydrate:void 0,createApp:Rfe(co)}}function VH({type:t,props:s},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:i}function SC({effect:t,job:s},i){i?(t.flags|=32,s.flags|=4):(t.flags&=-33,s.flags&=-5)}function Hfe(t,s){return(!t||t&&!t.pendingBranch)&&s&&!s.persisted}function $W(t,s,i=!1){const u=t.children,m=s.children;if(Jo(u)&&Jo(m))for(let h=0;h<u.length;h++){const x=u[h];let w=m[h];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=m[h]=hx(m[h]),w.el=x.el),!i&&w.patchFlag!==-2&&$W(x,w)),w.type===uD&&(w.el=x.el),w.type===zu&&!w.el&&(w.el=x.el)}}function Ufe(t){const s=t.slice(),i=[0];let u,m,h,x,w;const T=t.length;for(u=0;u<T;u++){const D=t[u];if(D!==0){if(m=i[i.length-1],t[m]<D){s[u]=m,i.push(u);continue}for(h=0,x=i.length-1;h<x;)w=h+x>>1,t[i[w]]<D?h=w+1:x=w;D<t[i[h]]&&(h>0&&(s[u]=i[h-1]),i[h]=u)}}for(h=i.length,x=i[h-1];h-- >0;)i[h]=x,x=s[x];return i}function FJ(t){const s=t.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:FJ(s)}function XG(t){if(t)for(let s=0;s<t.length;s++)t[s].flags|=8}const Wfe=Symbol.for("v-scx"),Kfe=()=>Wi(Wfe);function Bd(t,s){return VW(t,null,s)}function Dn(t,s,i){return VW(t,s,i)}function VW(t,s,i=Hi){const{immediate:u,deep:m,flush:h,once:x}=i,w=cc({},i),T=s&&u||!s&&h!=="post";let D;if(MI){if(h==="sync"){const K=Kfe();D=K.__watcherHandles||(K.__watcherHandles=[])}else if(!T){const K=()=>{};return K.stop=zb,K.resume=zb,K.pause=zb,K}}const I=Ic;w.call=(K,W,J)=>hp(K,I,W,J);let P=!1;h==="post"?w.scheduler=K=>{Rd(K,I&&I.suspense)}:h!=="sync"&&(P=!0,w.scheduler=(K,W)=>{W?K():NW(K)}),w.augmentJob=K=>{s&&(K.flags|=4),P&&(K.flags|=2,I&&(K.id=I.uid,K.i=I))};const z=afe(t,s,w);return MI&&(D?D.push(z):T&&z()),z}function jfe(t,s,i){const u=this.proxy,m=el(t)?t.includes(".")?$J(u,t):()=>u[t]:t.bind(u,u);let h;Dr(s)?h=s:(h=s.handler,i=s);const x=dD(this),w=VW(m,h.bind(u),i);return x(),w}function $J(t,s){const i=s.split(".");return()=>{let u=t;for(let m=0;m<i.length&&u;m++)u=u[i[m]];return u}}const Zfe=(t,s)=>s==="modelValue"||s==="model-value"?t.modelModifiers:t[`${s}Modifiers`]||t[`${Md(s)}Modifiers`]||t[`${UC(s)}Modifiers`];function Gfe(t,s,...i){if(t.isUnmounted)return;const u=t.vnode.props||Hi;let m=i;const h=s.startsWith("update:"),x=h&&Zfe(u,s.slice(7));x&&(x.trim&&(m=i.map(I=>el(I)?I.trim():I)),x.number&&(m=i.map(eF)));let w,T=u[w=NH(s)]||u[w=NH(Md(s))];!T&&h&&(T=u[w=NH(UC(s))]),T&&hp(T,t,6,m);const D=u[w+"Once"];if(D){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,hp(D,t,6,m)}}function VJ(t,s,i=!1){const u=s.emitsCache,m=u.get(t);if(m!==void 0)return m;const h=t.emits;let x={},w=!1;if(!Dr(t)){const T=D=>{const I=VJ(D,s,!0);I&&(w=!0,cc(x,I))};!i&&s.mixins.length&&s.mixins.forEach(T),t.extends&&T(t.extends),t.mixins&&t.mixins.forEach(T)}return!h&&!w?(Ii(t)&&u.set(t,null),null):(Jo(h)?h.forEach(T=>x[T]=null):cc(x,h),Ii(t)&&u.set(t,x),x)}function HF(t,s){return!t||!NF(s)?!1:(s=s.slice(2).replace(/Once$/,""),hi(t,s[0].toLowerCase()+s.slice(1))||hi(t,UC(s))||hi(t,s))}function JG(t){const{type:s,vnode:i,proxy:u,withProxy:m,propsOptions:[h],slots:x,attrs:w,emit:T,render:D,renderCache:I,props:P,data:z,setupState:K,ctx:W,inheritAttrs:J}=t,oe=sF(t);let U,he;try{if(i.shapeFlag&4){const Z=m||u,de=Z;U=Fb(D.call(de,Z,I,P,K,z,W)),he=w}else{const Z=s;U=Fb(Z.length>1?Z(P,{attrs:w,slots:x,emit:T}):Z(P,null)),he=s.props?w:qfe(w)}}catch(Z){kI.length=0,FF(Z,t,1),U=ae(zu)}let ue=U;if(he&&J!==!1){const Z=Object.keys(he),{shapeFlag:de}=ue;Z.length&&de&7&&(h&&Z.some(xW)&&(he=Yfe(he,h)),ue=n1(ue,he,!1,!0))}return i.dirs&&(ue=n1(ue,null,!1,!0),ue.dirs=ue.dirs?ue.dirs.concat(i.dirs):i.dirs),i.transition&&$C(ue,i.transition),U=ue,sF(oe),U}const qfe=t=>{let s;for(const i in t)(i==="class"||i==="style"||NF(i))&&((s||(s={}))[i]=t[i]);return s},Yfe=(t,s)=>{const i={};for(const u in t)(!xW(u)||!(u.slice(9)in s))&&(i[u]=t[u]);return i};function Xfe(t,s,i){const{props:u,children:m,component:h}=t,{props:x,children:w,patchFlag:T}=s,D=h.emitsOptions;if(s.dirs||s.transition)return!0;if(i&&T>=0){if(T&1024)return!0;if(T&16)return u?QG(u,x,D):!!x;if(T&8){const I=s.dynamicProps;for(let P=0;P<I.length;P++){const z=I[P];if(x[z]!==u[z]&&!HF(D,z))return!0}}}else return(m||w)&&(!w||!w.$stable)?!0:u===x?!1:u?x?QG(u,x,D):!0:!!x;return!1}function QG(t,s,i){const u=Object.keys(s);if(u.length!==Object.keys(t).length)return!0;for(let m=0;m<u.length;m++){const h=u[m];if(s[h]!==t[h]&&!HF(i,h))return!0}return!1}function Jfe({vnode:t,parent:s},i){for(;s;){const u=s.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=s.vnode).el=i,s=s.parent;else break}}const zJ=t=>t.__isSuspense;function Qfe(t,s){s&&s.pendingBranch?Jo(t)?s.effects.push(...t):s.effects.push(t):ufe(t)}const lr=Symbol.for("v-fgt"),uD=Symbol.for("v-txt"),zu=Symbol.for("v-cmt"),zH=Symbol.for("v-stc"),kI=[];let Sm=null;function An(t=!1){kI.push(Sm=t?null:[])}function eme(){kI.pop(),Sm=kI[kI.length-1]||null}let PI=1;function eq(t,s=!1){PI+=t,t<0&&Sm&&s&&(Sm.hasOnce=!0)}function HJ(t){return t.dynamicChildren=PI>0?Sm||bE:null,eme(),PI>0&&Sm&&Sm.push(t),t}function Mo(t,s,i,u,m,h){return HJ(ee(t,s,i,u,m,h,!0))}function qr(t,s,i,u,m){return HJ(ae(t,s,i,u,m,!0))}function LI(t){return t?t.__v_isVNode===!0:!1}function IC(t,s){return t.type===s.type&&t.key===s.key}const UJ=({key:t})=>t??null,zB=({ref:t,ref_key:s,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?el(t)||Qs(t)||Dr(t)?{i:Ld,r:t,k:s,f:!!i}:t:null);function ee(t,s=null,i=null,u=0,m=null,h=t===lr?0:1,x=!1,w=!1){const T={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&UJ(s),ref:s&&zB(s),scopeId:mJ,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:Ld};return w?(zW(T,i),h&128&&t.normalize(T)):i&&(T.shapeFlag|=el(i)?8:16),PI>0&&!x&&Sm&&(T.patchFlag>0||h&6)&&T.patchFlag!==32&&Sm.push(T),T}const ae=tme;function tme(t,s=null,i=null,u=0,m=null,h=!1){if((!t||t===Cfe)&&(t=zu),LI(t)){const w=n1(t,s,!0);return i&&zW(w,i),PI>0&&!h&&Sm&&(w.shapeFlag&6?Sm[Sm.indexOf(t)]=w:Sm.push(w)),w.patchFlag=-2,w}if(dme(t)&&(t=t.__vccOpts),s){s=nme(s);let{class:w,style:T}=s;w&&!el(w)&&(s.class=go(w)),Ii(T)&&(DW(T)&&!Jo(T)&&(T=cc({},T)),s.style=Rr(T))}const x=el(t)?1:zJ(t)?128:hJ(t)?64:Ii(t)?4:Dr(t)?2:0;return ee(t,s,i,u,m,x,h,!0)}function nme(t){return t?DW(t)||RJ(t)?cc({},t):t:null}function n1(t,s,i=!1,u=!1){const{props:m,ref:h,patchFlag:x,children:w,transition:T}=t,D=s?Po(m||{},s):m,I={__v_isVNode:!0,__v_skip:!0,type:t.type,props:D,key:D&&UJ(D),ref:s&&s.ref?i&&h?Jo(h)?h.concat(zB(s)):[h,zB(s)]:zB(s):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==lr?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:T,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&n1(t.ssContent),ssFallback:t.ssFallback&&n1(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return T&&u&&$C(I,T.clone(I)),I}function hs(t=" ",s=0){return ae(uD,null,t,s)}function hr(t="",s=!1){return s?(An(),qr(zu,null,t)):ae(zu,null,t)}function Fb(t){return t==null||typeof t=="boolean"?ae(zu):Jo(t)?ae(lr,null,t.slice()):LI(t)?hx(t):ae(uD,null,String(t))}function hx(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:n1(t)}function zW(t,s){let i=0;const{shapeFlag:u}=t;if(s==null)s=null;else if(Jo(s))i=16;else if(typeof s=="object")if(u&65){const m=s.default;m&&(m._c&&(m._d=!1),zW(t,m()),m._c&&(m._d=!0));return}else{i=32;const m=s._;!m&&!RJ(s)?s._ctx=Ld:m===3&&Ld&&(Ld.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else Dr(s)?(s={default:s,_ctx:Ld},i=32):(s=String(s),u&64?(i=16,s=[hs(s)]):i=8);t.children=s,t.shapeFlag|=i}function Po(...t){const s={};for(let i=0;i<t.length;i++){const u=t[i];for(const m in u)if(m==="class")s.class!==u.class&&(s.class=go([s.class,u.class]));else if(m==="style")s.style=Rr([s.style,u.style]);else if(NF(m)){const h=s[m],x=u[m];x&&h!==x&&!(Jo(h)&&h.includes(x))&&(s[m]=h?[].concat(h,x):x)}else m!==""&&(s[m]=u[m])}return s}function Db(t,s,i,u=null){hp(t,s,7,[i,u])}const ome=OJ();let rme=0;function sme(t,s,i){const u=t.type,m=(s?s.appContext:t.appContext)||ome,h={uid:rme++,vnode:t,type:u,parent:s,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new KX(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(m.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PJ(u,m),emitsOptions:VJ(u,m),emit:null,emitted:null,propsDefaults:Hi,inheritAttrs:u.inheritAttrs,ctx:Hi,data:Hi,props:Hi,attrs:Hi,slots:Hi,refs:Hi,setupState:Hi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=s?s.root:h,h.emit=Gfe.bind(null,h),t.ce&&t.ce(h),h}let Ic=null;const RE=()=>Ic||Ld;let aF,MU;{const t=LF(),s=(i,u)=>{let m;return(m=t[i])||(m=t[i]=[]),m.push(u),h=>{m.length>1?m.forEach(x=>x(h)):m[0](h)}};aF=s("__VUE_INSTANCE_SETTERS__",i=>Ic=i),MU=s("__VUE_SSR_SETTERS__",i=>MI=i)}const dD=t=>{const s=Ic;return aF(t),t.scope.on(),()=>{t.scope.off(),aF(s)}},tq=()=>{Ic&&Ic.scope.off(),aF(null)};function WJ(t){return t.vnode.shapeFlag&4}let MI=!1;function ime(t,s=!1,i=!1){s&&MU(s);const{props:u,children:m}=t.vnode,h=WJ(t);Pfe(t,u,h,s),Ffe(t,m,i||s);const x=h?ame(t,s):void 0;return s&&MU(!1),x}function ame(t,s){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kfe);const{setup:u}=i;if(u){Q0();const m=t.setupContext=u.length>1?cme(t):null,h=dD(t),x=lD(u,t,0,[t.props,m]),w=$X(x);if(e1(),h(),(w||t.sp)&&!_I(t)&&SJ(t),w){if(x.then(tq,tq),s)return x.then(T=>{nq(t,T)}).catch(T=>{FF(T,t,0)});t.asyncDep=x}else nq(t,x)}else KJ(t)}function nq(t,s,i){Dr(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:Ii(s)&&(t.setupState=aJ(s)),KJ(t)}function KJ(t,s,i){const u=t.type;t.render||(t.render=u.render||zb);{const m=dD(t);Q0();try{Efe(t)}finally{e1(),m()}}}const lme={get(t,s){return $u(t,"get",""),t[s]}};function cme(t){const s=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,lme),slots:t.slots,emit:t.emit,expose:s}}function UF(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aJ(RW(t.exposed)),{get(s,i){if(i in s)return s[i];if(i in SI)return SI[i](t)},has(s,i){return i in s||i in SI}})):t.proxy}function ume(t,s=!0){return Dr(t)?t.displayName||t.name:t.name||s&&t.__name}function dme(t){return Dr(t)&&"__vccOpts"in t}const Dt=(t,s)=>sfe(t,s,MI);function Kb(t,s,i){const u=arguments.length;return u===2?Ii(s)&&!Jo(s)?LI(s)?ae(t,null,[s]):ae(t,s):ae(t,null,s):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&LI(i)&&(i=[i]),ae(t,s,i))}const fme="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let BU;const oq=typeof window<"u"&&window.trustedTypes;if(oq)try{BU=oq.createPolicy("vue",{createHTML:t=>t})}catch{}const jJ=BU?t=>BU.createHTML(t):t=>t,mme="http://www.w3.org/2000/svg",gme="http://www.w3.org/1998/Math/MathML",j0=typeof document<"u"?document:null,rq=j0&&j0.createElement("template"),hme={insert:(t,s,i)=>{s.insertBefore(t,i||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,i,u)=>{const m=s==="svg"?j0.createElementNS(mme,t):s==="mathml"?j0.createElementNS(gme,t):i?j0.createElement(t,{is:i}):j0.createElement(t);return t==="select"&&u&&u.multiple!=null&&m.setAttribute("multiple",u.multiple),m},createText:t=>j0.createTextNode(t),createComment:t=>j0.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>j0.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},insertStaticContent(t,s,i,u,m,h){const x=i?i.previousSibling:s.lastChild;if(m&&(m===h||m.nextSibling))for(;s.insertBefore(m.cloneNode(!0),i),!(m===h||!(m=m.nextSibling)););else{rq.innerHTML=jJ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const w=rq.content;if(u==="svg"||u==="mathml"){const T=w.firstChild;for(;T.firstChild;)w.appendChild(T.firstChild);w.removeChild(T)}s.insertBefore(w,i)}return[x?x.nextSibling:s.firstChild,i?i.previousSibling:s.lastChild]}},lx="transition",uI="animation",wE=Symbol("_vtc"),ZJ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},GJ=cc({},yJ,ZJ),pme=t=>(t.displayName="Transition",t.props=GJ,t),Sx=pme((t,{slots:s})=>Kb(gfe,qJ(t),s)),kC=(t,s=[])=>{Jo(t)?t.forEach(i=>i(...s)):t&&t(...s)},sq=t=>t?Jo(t)?t.some(s=>s.length>1):t.length>1:!1;function qJ(t){const s={};for(const ze in t)ze in ZJ||(s[ze]=t[ze]);if(t.css===!1)return s;const{name:i="v",type:u,duration:m,enterFromClass:h=`${i}-enter-from`,enterActiveClass:x=`${i}-enter-active`,enterToClass:w=`${i}-enter-to`,appearFromClass:T=h,appearActiveClass:D=x,appearToClass:I=w,leaveFromClass:P=`${i}-leave-from`,leaveActiveClass:z=`${i}-leave-active`,leaveToClass:K=`${i}-leave-to`}=t,W=bme(m),J=W&&W[0],oe=W&&W[1],{onBeforeEnter:U,onEnter:he,onEnterCancelled:ue,onLeave:Z,onLeaveCancelled:de,onBeforeAppear:re=U,onAppear:Ve=he,onAppearCancelled:Me=ue}=s,Ye=(ze,R,Fe,Ze)=>{ze._enterCancelled=Ze,dx(ze,R?I:w),dx(ze,R?D:x),Fe&&Fe()},it=(ze,R)=>{ze._isLeaving=!1,dx(ze,P),dx(ze,K),dx(ze,z),R&&R()},Ae=ze=>(R,Fe)=>{const Ze=ze?Ve:he,Ot=()=>Ye(R,ze,Fe);kC(Ze,[R,Ot]),iq(()=>{dx(R,ze?T:h),Lb(R,ze?I:w),sq(Ze)||aq(R,u,J,Ot)})};return cc(s,{onBeforeEnter(ze){kC(U,[ze]),Lb(ze,h),Lb(ze,x)},onBeforeAppear(ze){kC(re,[ze]),Lb(ze,T),Lb(ze,D)},onEnter:Ae(!1),onAppear:Ae(!0),onLeave(ze,R){ze._isLeaving=!0;const Fe=()=>it(ze,R);Lb(ze,P),ze._enterCancelled?(Lb(ze,z),FU()):(FU(),Lb(ze,z)),iq(()=>{ze._isLeaving&&(dx(ze,P),Lb(ze,K),sq(Z)||aq(ze,u,oe,Fe))}),kC(Z,[ze,Fe])},onEnterCancelled(ze){Ye(ze,!1,void 0,!0),kC(ue,[ze])},onAppearCancelled(ze){Ye(ze,!0,void 0,!0),kC(Me,[ze])},onLeaveCancelled(ze){it(ze),kC(de,[ze])}})}function bme(t){if(t==null)return null;if(Ii(t))return[HH(t.enter),HH(t.leave)];{const s=HH(t);return[s,s]}}function HH(t){return Ede(t)}function Lb(t,s){s.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[wE]||(t[wE]=new Set)).add(s)}function dx(t,s){s.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const i=t[wE];i&&(i.delete(s),i.size||(t[wE]=void 0))}function iq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let vme=0;function aq(t,s,i,u){const m=t._endId=++vme,h=()=>{m===t._endId&&u()};if(i!=null)return setTimeout(h,i);const{type:x,timeout:w,propCount:T}=YJ(t,s);if(!x)return u();const D=x+"end";let I=0;const P=()=>{t.removeEventListener(D,z),h()},z=K=>{K.target===t&&++I>=T&&P()};setTimeout(()=>{I<T&&P()},w+1),t.addEventListener(D,z)}function YJ(t,s){const i=window.getComputedStyle(t),u=W=>(i[W]||"").split(", "),m=u(`${lx}Delay`),h=u(`${lx}Duration`),x=lq(m,h),w=u(`${uI}Delay`),T=u(`${uI}Duration`),D=lq(w,T);let I=null,P=0,z=0;s===lx?x>0&&(I=lx,P=x,z=h.length):s===uI?D>0&&(I=uI,P=D,z=T.length):(P=Math.max(x,D),I=P>0?x>D?lx:uI:null,z=I?I===lx?h.length:T.length:0);const K=I===lx&&/\b(transform|all)(,|$)/.test(u(`${lx}Property`).toString());return{type:I,timeout:P,propCount:z,hasTransform:K}}function lq(t,s){for(;t.length<s.length;)t=t.concat(t);return Math.max(...s.map((i,u)=>cq(i)+cq(t[u])))}function cq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function FU(){return document.body.offsetHeight}function yme(t,s,i){const u=t[wE];u&&(s=(s?[s,...u]:[...u]).join(" ")),s==null?t.removeAttribute("class"):i?t.setAttribute("class",s):t.className=s}const lF=Symbol("_vod"),XJ=Symbol("_vsh"),To={beforeMount(t,{value:s},{transition:i}){t[lF]=t.style.display==="none"?"":t.style.display,i&&s?i.beforeEnter(t):dI(t,s)},mounted(t,{value:s},{transition:i}){i&&s&&i.enter(t)},updated(t,{value:s,oldValue:i},{transition:u}){!s!=!i&&(u?s?(u.beforeEnter(t),dI(t,!0),u.enter(t)):u.leave(t,()=>{dI(t,!1)}):dI(t,s))},beforeUnmount(t,{value:s}){dI(t,s)}};function dI(t,s){t.style.display=s?t[lF]:"none",t[XJ]=!s}const xme=Symbol(""),wme=/(^|;)\s*display\s*:/;function Cme(t,s,i){const u=t.style,m=el(i);let h=!1;if(i&&!m){if(s)if(el(s))for(const x of s.split(";")){const w=x.slice(0,x.indexOf(":")).trim();i[w]==null&&HB(u,w,"")}else for(const x in s)i[x]==null&&HB(u,x,"");for(const x in i)x==="display"&&(h=!0),HB(u,x,i[x])}else if(m){if(s!==i){const x=u[xme];x&&(i+=";"+x),u.cssText=i,h=wme.test(i)}}else s&&t.removeAttribute("style");lF in t&&(t[lF]=h?u.display:"",t[XJ]&&(u.display="none"))}const uq=/\s*!important$/;function HB(t,s,i){if(Jo(i))i.forEach(u=>HB(t,s,u));else if(i==null&&(i=""),s.startsWith("--"))t.setProperty(s,i);else{const u=_me(t,s);uq.test(i)?t.setProperty(UC(u),i.replace(uq,""),"important"):t[u]=i}}const dq=["Webkit","Moz","ms"],UH={};function _me(t,s){const i=UH[s];if(i)return i;let u=Md(s);if(u!=="filter"&&u in t)return UH[s]=u;u=i1(u);for(let m=0;m<dq.length;m++){const h=dq[m]+u;if(h in t)return UH[s]=h}return s}const fq="http://www.w3.org/1999/xlink";function mq(t,s,i,u,m,h=Rde(s)){u&&s.startsWith("xlink:")?i==null?t.removeAttributeNS(fq,s.slice(6,s.length)):t.setAttributeNS(fq,s,i):i==null||h&&!HX(i)?t.removeAttribute(s):t.setAttribute(s,h?"":Ub(i)?String(i):i)}function gq(t,s,i,u,m){if(s==="innerHTML"||s==="textContent"){i!=null&&(t[s]=s==="innerHTML"?jJ(i):i);return}const h=t.tagName;if(s==="value"&&h!=="PROGRESS"&&!h.includes("-")){const w=h==="OPTION"?t.getAttribute("value")||"":t.value,T=i==null?t.type==="checkbox"?"on":"":String(i);(w!==T||!("_value"in t))&&(t.value=T),i==null&&t.removeAttribute(s),t._value=i;return}let x=!1;if(i===""||i==null){const w=typeof t[s];w==="boolean"?i=HX(i):i==null&&w==="string"?(i="",x=!0):w==="number"&&(i=0,x=!0)}try{t[s]=i}catch{}x&&t.removeAttribute(m||s)}function px(t,s,i,u){t.addEventListener(s,i,u)}function Sme(t,s,i,u){t.removeEventListener(s,i,u)}const hq=Symbol("_vei");function kme(t,s,i,u,m=null){const h=t[hq]||(t[hq]={}),x=h[s];if(u&&x)x.value=u;else{const[w,T]=Eme(s);if(u){const D=h[s]=Ome(u,m);px(t,w,D,T)}else x&&(Sme(t,w,x,T),h[s]=void 0)}}const pq=/(?:Once|Passive|Capture)$/;function Eme(t){let s;if(pq.test(t)){s={};let u;for(;u=t.match(pq);)t=t.slice(0,t.length-u[0].length),s[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):UC(t.slice(2)),s]}let WH=0;const Ame=Promise.resolve(),Tme=()=>WH||(Ame.then(()=>WH=0),WH=Date.now());function Ome(t,s){const i=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=i.attached)return;hp(Ime(u,i.value),s,5,[u])};return i.value=t,i.attached=Tme(),i}function Ime(t,s){if(Jo(s)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},s.map(u=>m=>!m._stopped&&u&&u(m))}else return s}const bq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Dme=(t,s,i,u,m,h)=>{const x=m==="svg";s==="class"?yme(t,u,x):s==="style"?Cme(t,i,u):NF(s)?xW(s)||kme(t,s,i,u,h):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Rme(t,s,u,x))?(gq(t,s,u),!t.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&mq(t,s,u,x,h,s!=="value")):t._isVueCE&&(/[A-Z]/.test(s)||!el(u))?gq(t,Md(s),u,h,s):(s==="true-value"?t._trueValue=u:s==="false-value"&&(t._falseValue=u),mq(t,s,u,x))};function Rme(t,s,i,u){if(u)return!!(s==="innerHTML"||s==="textContent"||s in t&&bq(s)&&Dr(i));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="autocorrect"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const m=t.tagName;if(m==="IMG"||m==="VIDEO"||m==="CANVAS"||m==="SOURCE")return!1}return bq(s)&&el(i)?!1:s in t}const JJ=new WeakMap,QJ=new WeakMap,cF=Symbol("_moveCb"),vq=Symbol("_enterCb"),Nme=t=>(delete t.props.mode,t),Pme=Nme({name:"TransitionGroup",props:cc({},GJ,{tag:String,moveClass:String}),setup(t,{slots:s}){const i=RE(),u=vJ();let m,h;return MW(()=>{if(!m.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!Fme(m[0].el,i.vnode.el,x)){m=[];return}m.forEach(Lme),m.forEach(Mme);const w=m.filter(Bme);FU(),w.forEach(T=>{const D=T.el,I=D.style;Lb(D,x),I.transform=I.webkitTransform=I.transitionDuration="";const P=D[cF]=z=>{z&&z.target!==D||(!z||/transform$/.test(z.propertyName))&&(D.removeEventListener("transitionend",P),D[cF]=null,dx(D,x))};D.addEventListener("transitionend",P)}),m=[]}),()=>{const x=gr(t),w=qJ(x);let T=x.tag||lr;if(m=[],h)for(let D=0;D<h.length;D++){const I=h[D];I.el&&I.el instanceof Element&&(m.push(I),$C(I,NI(I,w,u,i)),JJ.set(I,I.el.getBoundingClientRect()))}h=s.default?PW(s.default()):[];for(let D=0;D<h.length;D++){const I=h[D];I.key!=null&&$C(I,NI(I,w,u,i))}return ae(T,null,h)}}}),HW=Pme;function Lme(t){const s=t.el;s[cF]&&s[cF](),s[vq]&&s[vq]()}function Mme(t){QJ.set(t,t.el.getBoundingClientRect())}function Bme(t){const s=JJ.get(t),i=QJ.get(t),u=s.left-i.left,m=s.top-i.top;if(u||m){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${m}px)`,h.transitionDuration="0s",t}}function Fme(t,s,i){const u=t.cloneNode(),m=t[wE];m&&m.forEach(w=>{w.split(/\s+/).forEach(T=>T&&u.classList.remove(T))}),i.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const h=s.nodeType===1?s:s.parentNode;h.appendChild(u);const{hasTransform:x}=YJ(u);return h.removeChild(u),x}const CE=t=>{const s=t.props["onUpdate:modelValue"]||!1;return Jo(s)?i=>$B(s,i):s};function $me(t){t.target.composing=!0}function yq(t){const s=t.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const Y0=Symbol("_assign"),o1={created(t,{modifiers:{lazy:s,trim:i,number:u}},m){t[Y0]=CE(m);const h=u||m.props&&m.props.type==="number";px(t,s?"change":"input",x=>{if(x.target.composing)return;let w=t.value;i&&(w=w.trim()),h&&(w=eF(w)),t[Y0](w)}),i&&px(t,"change",()=>{t.value=t.value.trim()}),s||(px(t,"compositionstart",$me),px(t,"compositionend",yq),px(t,"change",yq))},mounted(t,{value:s}){t.value=s??""},beforeUpdate(t,{value:s,oldValue:i,modifiers:{lazy:u,trim:m,number:h}},x){if(t[Y0]=CE(x),t.composing)return;const w=(h||t.type==="number")&&!/^0\d/.test(t.value)?eF(t.value):t.value,T=s??"";w!==T&&(document.activeElement===t&&t.type!=="range"&&(u&&s===i||m&&t.value.trim()===T)||(t.value=T))}},xq={deep:!0,created(t,s,i){t[Y0]=CE(i),px(t,"change",()=>{const u=t._modelValue,m=BI(t),h=t.checked,x=t[Y0];if(Jo(u)){const w=_W(u,m),T=w!==-1;if(h&&!T)x(u.concat(m));else if(!h&&T){const D=[...u];D.splice(w,1),x(D)}}else if(IE(u)){const w=new Set(u);h?w.add(m):w.delete(m),x(w)}else x(eQ(t,h))})},mounted:wq,beforeUpdate(t,s,i){t[Y0]=CE(i),wq(t,s,i)}};function wq(t,{value:s,oldValue:i},u){t._modelValue=s;let m;if(Jo(s))m=_W(s,u.props.value)>-1;else if(IE(s))m=s.has(u.props.value);else{if(s===i)return;m=aD(s,eQ(t,!0))}t.checked!==m&&(t.checked=m)}const _B={deep:!0,created(t,{value:s,modifiers:{number:i}},u){const m=IE(s);px(t,"change",()=>{const h=Array.prototype.filter.call(t.options,x=>x.selected).map(x=>i?eF(BI(x)):BI(x));t[Y0](t.multiple?m?new Set(h):h:h[0]),t._assigning=!0,qo(()=>{t._assigning=!1})}),t[Y0]=CE(u)},mounted(t,{value:s}){Cq(t,s)},beforeUpdate(t,s,i){t[Y0]=CE(i)},updated(t,{value:s}){t._assigning||Cq(t,s)}};function Cq(t,s){const i=t.multiple,u=Jo(s);if(!(i&&!u&&!IE(s))){for(let m=0,h=t.options.length;m<h;m++){const x=t.options[m],w=BI(x);if(i)if(u){const T=typeof w;T==="string"||T==="number"?x.selected=s.some(D=>String(D)===String(w)):x.selected=_W(s,w)>-1}else x.selected=s.has(w);else if(aD(BI(x),s)){t.selectedIndex!==m&&(t.selectedIndex=m);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function BI(t){return"_value"in t?t._value:t.value}function eQ(t,s){const i=s?"_trueValue":"_falseValue";return i in t?t[i]:s}const Vme=cc({patchProp:Dme},hme);let _q;function zme(){return _q||(_q=Vfe(Vme))}const Hme=(...t)=>{const s=zme().createApp(...t),{mount:i}=s;return s.mount=u=>{const m=Wme(u);if(!m)return;const h=s._component;!Dr(h)&&!h.render&&!h.template&&(h.template=m.innerHTML),m.nodeType===1&&(m.textContent="");const x=i(m,!1,Ume(m));return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),x},s};function Ume(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Wme(t){return el(t)?document.querySelector(t):t}function Yg(t,s){let i;function u(){i=Cx(),i.run(()=>s.length?s(()=>{i==null||i.stop(),u()}):s())}Dn(t,m=>{m&&!i?u():m||(i==null||i.stop(),i=void 0)},{immediate:!0}),uc(()=>{i==null||i.stop()})}const ei=typeof window<"u",UW=ei&&"IntersectionObserver"in window,Kme=ei&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),jme=ei&&"matchMedia"in window&&typeof window.matchMedia=="function";function Sq(t,s,i){Zme(t,s),s.set(t,i)}function Zme(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kq(t,s,i){return t.set(tQ(t,s),i),i}function H0(t,s){return t.get(tQ(t,s))}function tQ(t,s,i){if(typeof t=="function"?t===s:t.has(s))return arguments.length<3?s:i;throw new TypeError("Private element is not present on this object")}function nQ(t,s,i){const u=s.length-1;if(u<0)return t===void 0?i:t;for(let m=0;m<u;m++){if(t==null)return i;t=t[s[m]]}return t==null||t[s[u]]===void 0?i:t[s[u]]}function Xg(t,s){if(t===s)return!0;if(t instanceof Date&&s instanceof Date&&t.getTime()!==s.getTime()||t!==Object(t)||s!==Object(s))return!1;const i=Object.keys(t);return i.length!==Object.keys(s).length?!1:i.every(u=>Xg(t[u],s[u]))}function $U(t,s,i){return t==null||!s||typeof s!="string"?i:t[s]!==void 0?t[s]:(s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,""),nQ(t,s.split("."),i))}function Kg(t,s,i){if(s===!0)return t===void 0?i:t;if(s==null||typeof s=="boolean")return i;if(t!==Object(t)){if(typeof s!="function")return i;const m=s(t,i);return typeof m>"u"?i:m}if(typeof s=="string")return $U(t,s,i);if(Array.isArray(s))return nQ(t,s,i);if(typeof s!="function")return i;const u=s(t,i);return typeof u>"u"?i:u}function oQ(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(i,u)=>s+u)}function vr(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const i=Number(t);return isNaN(i)?String(t):isFinite(i)?`${i}${s}`:void 0}function VU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Eq(t){let s;return t!==null&&typeof t=="object"&&((s=Object.getPrototypeOf(t))===Object.prototype||s===null)}function rQ(t){if(t&&"$el"in t){const s=t.$el;return(s==null?void 0:s.nodeType)===Node.TEXT_NODE?s.nextElementSibling:s}return t}const zU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function KH(t,s){return s.every(i=>t.hasOwnProperty(i))}function WF(t,s){const i={};for(const u of s)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i}function Aq(t,s,i){const u=Object.create(null),m=Object.create(null);for(const h in t)s.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:m[h]=t[h];return[u,m]}function Tx(t,s){const i={...t};return s.forEach(u=>delete i[u]),i}const sQ=/^on[^a-z]/,iQ=t=>sQ.test(t),Gme=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function KF(t){const[s,i]=Aq(t,[sQ]),u=Tx(s,Gme),[m,h]=Aq(i,["class","style","id",/^data-/]);return Object.assign(m,s),Object.assign(h,u),[m,h]}function wf(t){return t==null?[]:Array.isArray(t)?t:[t]}function qme(t,s){let i=0;const u=function(){for(var m=arguments.length,h=new Array(m),x=0;x<m;x++)h[x]=arguments[x];clearTimeout(i),i=setTimeout(()=>t(...h),ie(s))};return u.clear=()=>{clearTimeout(i)},u.immediate=t,u}function Cf(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(s,Math.min(i,t))}function Tq(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+i.repeat(Math.max(0,s-t.length))}function Oq(t,s){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,s-t.length))+t}function Yme(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let u=0;for(;u<t.length;)i.push(t.substr(u,s)),u+=s;return i}function Wu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const u={};for(const m in t)u[m]=t[m];for(const m in s){const h=t[m],x=s[m];if(Eq(h)&&Eq(x)){u[m]=Wu(h,x,i);continue}if(i&&Array.isArray(h)&&Array.isArray(x)){u[m]=i(h,x);continue}u[m]=x}return u}function aQ(t){return t.map(s=>s.type===lr?aQ(s.children):s).flat()}function MC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(MC.cache.has(t))return MC.cache.get(t);const s=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return MC.cache.set(t,s),s}MC.cache=new Map;function mE(t,s){if(!s||typeof s!="object")return[];if(Array.isArray(s))return s.map(i=>mE(t,i)).flat(1);if(s.suspense)return mE(t,s.ssContent);if(Array.isArray(s.children))return s.children.map(i=>mE(t,i)).flat(1);if(s.component){if(Object.getOwnPropertySymbols(s.component.provides).includes(t))return[s.component];if(s.component.subTree)return mE(t,s.component.subTree).flat(1)}return[]}var eE=new WeakMap,EC=new WeakMap;class lQ{constructor(s){Sq(this,eE,[]),Sq(this,EC,0),this.size=s}get isFull(){return H0(eE,this).length===this.size}push(s){H0(eE,this)[H0(EC,this)]=s,kq(EC,this,(H0(EC,this)+1)%this.size)}values(){return H0(eE,this).slice(H0(EC,this)).concat(H0(eE,this).slice(0,H0(EC,this)))}clear(){H0(eE,this).length=0,kq(EC,this,0)}}function WW(t){const s=ql({});Bd(()=>{const u=t();for(const m in u)s[m]=u[m]},{flush:"sync"});const i={};for(const u in s)i[u]=gn(()=>s[u]);return i}function uF(t,s){return t.includes(s)}function cQ(t){return t[2].toLowerCase()+t.slice(3)}const _f=()=>[Function,Array];function Iq(t,s){return s="on"+i1(s),!!(t[s]||t[`${s}Once`]||t[`${s}Capture`]||t[`${s}OnceCapture`]||t[`${s}CaptureOnce`])}function KW(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];if(Array.isArray(t))for(const m of t)m(...i);else typeof t=="function"&&t(...i)}function FI(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${s?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(i)]}function uQ(t,s,i){let u,m=t.indexOf(document.activeElement);const h=s==="next"?1:-1;do m+=h,u=t[m];while((!u||u.offsetParent==null||!((i==null?void 0:i(u))??!0))&&m<t.length&&m>=0);return u}function EI(t,s){var u,m,h,x;const i=FI(t);if(s==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=i[0])==null||u.focus());else if(s==="first")(m=i[0])==null||m.focus();else if(s==="last")(h=i.at(-1))==null||h.focus();else if(typeof s=="number")(x=i[s])==null||x.focus();else{const w=uQ(i,s);w?w.focus():EI(t,s==="next"?"first":"last")}}function Xme(){}function _E(t,s){if(!(ei&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${s})`)))return null;try{return!!t&&t.matches(s)}catch{return null}}function jW(t){return t.some(s=>LI(s)?s.type===zu?!1:s.type!==lr||jW(s.children):!0)?t:null}function Jme(t,s){if(!ei||t===0)return s(),()=>{};const i=window.setTimeout(s,t);return()=>window.clearTimeout(i)}function Qme(t,s){const i=t.clientX,u=t.clientY,m=s.getBoundingClientRect(),h=m.left,x=m.top,w=m.right,T=m.bottom;return i>=h&&i<=w&&u>=x&&u<=T}function HU(){const t=ho(),s=i=>{t.value=i};return Object.defineProperty(s,"value",{enumerable:!0,get:()=>t.value,set:i=>t.value=i}),Object.defineProperty(s,"el",{enumerable:!0,get:()=>rQ(t.value)}),s}function dF(t){const s=t.key.length===1,i=!t.ctrlKey&&!t.metaKey&&!t.altKey;return s&&i}function UU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function ege(t){const s={};for(const i in t)s[Md(i)]=t[i];return s}function tge(t){const s=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(i=>{let[u,m]=i;return s.includes(u)?!!m:m!==void 0}))}const dQ=["top","bottom"],nge=["start","end","left","right"];function WU(t,s){let[i,u]=t.split(" ");return u||(u=uF(dQ,i)?"start":uF(nge,i)?"top":"center"),{side:KU(i,s),align:KU(u,s)}}function KU(t,s){return t==="start"?s?"right":"left":t==="end"?s?"left":"right":t}function jH(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function ZH(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Dq(t){return{side:t.align,align:t.side}}function Rq(t){return uF(dQ,t.side)?"y":"x"}class Hb{constructor(s){let{x:i,y:u,width:m,height:h}=s;this.x=i,this.y=u,this.width=m,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Nq(t,s){return{x:{before:Math.max(0,s.left-t.left),after:Math.max(0,t.right-s.right)},y:{before:Math.max(0,s.top-t.top),after:Math.max(0,t.bottom-s.bottom)}}}function fQ(t){return Array.isArray(t)?new Hb({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function oge(t){if(t===document.documentElement)return visualViewport?new Hb({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Hb({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const s=t.getBoundingClientRect();return new Hb({x:s.x,y:s.y,width:t.clientWidth,height:t.clientHeight})}}function ZW(t){const s=t.getBoundingClientRect(),i=getComputedStyle(t),u=i.transform;if(u){let m,h,x,w,T;if(u.startsWith("matrix3d("))m=u.slice(9,-1).split(/, /),h=Number(m[0]),x=Number(m[5]),w=Number(m[12]),T=Number(m[13]);else if(u.startsWith("matrix("))m=u.slice(7,-1).split(/, /),h=Number(m[0]),x=Number(m[3]),w=Number(m[4]),T=Number(m[5]);else return new Hb(s);const D=i.transformOrigin,I=s.x-w-(1-h)*parseFloat(D),P=s.y-T-(1-x)*parseFloat(D.slice(D.indexOf(" ")+1)),z=h?s.width/h:t.offsetWidth+1,K=x?s.height/x:t.offsetHeight+1;return new Hb({x:I,y:P,width:z,height:K})}else return new Hb(s)}function gE(t,s,i){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(s,i)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(m=>{u.onfinish=()=>{m(u)}})),u}const UB=new WeakMap;function rge(t,s){Object.keys(s).forEach(i=>{if(iQ(i)){const u=cQ(i),m=UB.get(t);if(s[i]==null)m==null||m.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),m.delete(h))});else if(!m||![...m].some(h=>h[0]===u&&h[1]===s[i])){t.addEventListener(u,s[i]);const h=m||new Set;h.add([u,s[i]]),UB.has(t)||UB.set(t,h)}}else s[i]==null?t.removeAttribute(i):t.setAttribute(i,s[i])})}function sge(t,s){Object.keys(s).forEach(i=>{if(iQ(i)){const u=cQ(i),m=UB.get(t);m==null||m.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),m.delete(h))})}else t.removeAttribute(i)})}const tE=2.4,Pq=.2126729,Lq=.7151522,Mq=.072175,ige=.55,age=.58,lge=.57,cge=.62,SB=.03,Bq=1.45,uge=5e-4,dge=1.25,fge=1.25,Fq=.078,$q=12.82051282051282,kB=.06,Vq=.001;function zq(t,s){const i=(t.r/255)**tE,u=(t.g/255)**tE,m=(t.b/255)**tE,h=(s.r/255)**tE,x=(s.g/255)**tE,w=(s.b/255)**tE;let T=i*Pq+u*Lq+m*Mq,D=h*Pq+x*Lq+w*Mq;if(T<=SB&&(T+=(SB-T)**Bq),D<=SB&&(D+=(SB-D)**Bq),Math.abs(D-T)<uge)return 0;let I;if(D>T){const P=(D**ige-T**age)*dge;I=P<Vq?0:P<Fq?P-P*$q*kB:P-kB}else{const P=(D**cge-T**lge)*fge;I=P>-Vq?0:P>-Fq?P-P*$q*kB:P+kB}return I*100}function mQ(t,s){s=Array.isArray(s)?s.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${s.at(-1)}'`:`'${s}'`}const fF=.20689655172413793,mge=t=>t>fF**3?Math.cbrt(t):t/(3*fF**2)+4/29,gge=t=>t>fF?t**3:3*fF**2*(t-4/29);function gQ(t){const s=mge,i=s(t[1]);return[116*i-16,500*(s(t[0]/.95047)-i),200*(i-s(t[2]/1.08883))]}function hQ(t){const s=gge,i=(t[0]+16)/116;return[s(i+t[1]/500)*.95047,s(i),s(i-t[2]/200)*1.08883]}const hge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],pge=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,bge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],vge=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function pQ(t){const s=Array(3),i=pge,u=hge;for(let m=0;m<3;++m)s[m]=Math.round(Cf(i(u[m][0]*t[0]+u[m][1]*t[1]+u[m][2]*t[2]))*255);return{r:s[0],g:s[1],b:s[2]}}function GW(t){let{r:s,g:i,b:u}=t;const m=[0,0,0],h=vge,x=bge;s=h(s/255),i=h(i/255),u=h(u/255);for(let w=0;w<3;++w)m[w]=x[w][0]*s+x[w][1]*i+x[w][2]*u;return m}function jU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function yge(t){return jU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Hq=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,xge={rgb:(t,s,i,u)=>({r:t,g:s,b:i,a:u}),rgba:(t,s,i,u)=>({r:t,g:s,b:i,a:u}),hsl:(t,s,i,u)=>Uq({h:t,s,l:i,a:u}),hsla:(t,s,i,u)=>Uq({h:t,s,l:i,a:u}),hsv:(t,s,i,u)=>$I({h:t,s,v:i,a:u}),hsva:(t,s,i,u)=>$I({h:t,s,v:i,a:u})};function Vb(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Hq.test(t)){const{groups:s}=t.match(Hq),{fn:i,values:u}=s,m=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(h)/100:parseFloat(h));return xge[i](...m)}else if(typeof t=="string"){let s=t.startsWith("#")?t.slice(1):t;return[3,4].includes(s.length)?s=s.split("").map(i=>i+i).join(""):[6,8].includes(s.length),Cge(s)}else if(typeof t=="object"){if(KH(t,["r","g","b"]))return t;if(KH(t,["h","s","l"]))return $I(bQ(t));if(KH(t,["h","s","v"]))return $I(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function $I(t){const{h:s,s:i,v:u,a:m}=t,h=w=>{const T=(w+s/60)%6;return u-u*i*Math.max(Math.min(T,4-T,1),0)},x=[h(5),h(3),h(1)].map(w=>Math.round(w*255));return{r:x[0],g:x[1],b:x[2],a:m}}function Uq(t){return $I(bQ(t))}function bQ(t){const{h:s,s:i,l:u,a:m}=t,h=u+i*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:s,s:x,v:h,a:m}}function EB(t){const s=Math.round(t).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()}function wge(t){let{r:s,g:i,b:u,a:m}=t;return`#${[EB(s),EB(i),EB(u),m!==void 0?EB(Math.round(m*255)):""].join("")}`}function Cge(t){t=_ge(t);let[s,i,u,m]=Yme(t,2).map(h=>parseInt(h,16));return m=m===void 0?m:m/255,{r:s,g:i,b:u,a:m}}function _ge(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(s=>s+s).join("")),t.length!==6&&(t=Tq(Tq(t,6),8,"F")),t}function Sge(t,s){const i=gQ(GW(t));return i[0]=i[0]+s*10,pQ(hQ(i))}function kge(t,s){const i=gQ(GW(t));return i[0]=i[0]-s*10,pQ(hQ(i))}function Ege(t){const s=Vb(t);return GW(s)[1]}function vQ(t){const s=Math.abs(zq(Vb(0),Vb(t)));return Math.abs(zq(Vb(16777215),Vb(t)))>Math.min(s,50)?"#fff":"#000"}function Ln(t,s){return i=>Object.keys(t).reduce((u,m)=>{const x=typeof t[m]=="object"&&t[m]!=null&&!Array.isArray(t[m])?t[m]:{type:t[m]};return i&&m in i?u[m]={...x,default:i[m]}:u[m]=x,s&&!u[m].source&&(u[m].source=s),u},{})}const zr=Ln({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Vl(t,s){const i=RE();if(!i)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return i}function Gb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const s=Vl(t).type;return MC((s==null?void 0:s.aliasName)||(s==null?void 0:s.name))}function Age(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vl("injectSelf");const{provides:i}=s;if(i&&t in i)return i[t]}const SE=Symbol.for("vuetify:defaults");function Tge(t){return Mn(t)}function qW(){const t=Wi(SE);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Ox(t,s){const i=qW(),u=Mn(t),m=Dt(()=>{if(ie(s==null?void 0:s.disabled))return i.value;const x=ie(s==null?void 0:s.scoped),w=ie(s==null?void 0:s.reset),T=ie(s==null?void 0:s.root);if(u.value==null&&!(x||w||T))return i.value;let D=Wu(u.value,{prev:i.value});if(x)return D;if(w||T){const I=Number(w||1/0);for(let P=0;P<=I&&!(!D||!("prev"in D));P++)D=D.prev;return D&&typeof T=="string"&&T in D&&(D=Wu(Wu(D,{prev:D}),D[T])),D}return D.prev?Wu(D.prev,D):D});return Fd(SE,m),m}function Oge(t,s){return t.props&&(typeof t.props[s]<"u"||typeof t.props[MC(s)]<"u")}function Ige(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qW();const u=Vl("useDefaults");if(s=s??u.type.name??u.type.__name,!s)throw new Error("[Vuetify] Could not determine component name");const m=Dt(()=>{var T;return(T=i.value)==null?void 0:T[t._as??s]}),h=new Proxy(t,{get(T,D){var K,W,J,oe;const I=Reflect.get(T,D);if(D==="class"||D==="style")return[(K=m.value)==null?void 0:K[D],I].filter(U=>U!=null);if(Oge(u.vnode,D))return I;const P=(W=m.value)==null?void 0:W[D];if(P!==void 0)return P;const z=(oe=(J=i.value)==null?void 0:J.global)==null?void 0:oe[D];return z!==void 0?z:I}}),x=ho();Bd(()=>{if(m.value){const T=Object.entries(m.value).filter(D=>{let[I]=D;return I.startsWith(I[0].toUpperCase())});x.value=T.length?Object.fromEntries(T):void 0}else x.value=void 0});function w(){const T=Age(SE,u);Fd(SE,Dt(()=>x.value?Wu((T==null?void 0:T.value)??{},x.value):T==null?void 0:T.value))}return{props:h,provideSubDefaults:w}}function NE(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Ln(t.props??{},t.name)();const s=Object.keys(t.props).filter(i=>i!=="class"&&i!=="style");t.filterProps=function(u){return WF(u,s)},t.props._as=String,t.setup=function(u,m){const h=qW();if(!h.value)return t._setup(u,m);const{props:x,provideSubDefaults:w}=Ige(u,u._as??t.name,h),T=t._setup(x,m);return w(),T}}return t}function Bo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return s=>(t?NE:_J)(s)}function jF(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return Bo()({name:i??i1(Md(t.replace(/__/g,"-"))),props:{tag:{type:String,default:s},...zr()},setup(u,m){let{slots:h}=m;return()=>{var x;return Kb(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function yQ(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const s=t.getRootNode();return s!==document&&s.getRootNode({composed:!0})!==document?null:s}const mF="cubic-bezier(0.4, 0, 0.2, 1)",Dge="cubic-bezier(0.0, 0, 0.2, 1)",Rge="cubic-bezier(0.4, 0, 1, 1)";function xQ(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(s?Nge(t):YW(t))return t;t=t.parentElement}return document.scrollingElement}function gF(t,s){const i=[];if(s&&t&&!s.contains(t))return i;for(;t&&(YW(t)&&i.push(t),t!==s);)t=t.parentElement;return i}function YW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(t);return s.overflowY==="scroll"||s.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Nge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(t);return["scroll","auto"].includes(s.overflowY)}function Pge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function yr(t){const s=Vl("useRender");s.render=t}function Ki(t,s,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P=>P,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:P=>P;const h=Vl("useProxiedModel"),x=Mn(t[s]!==void 0?t[s]:i),w=MC(s),D=Dt(w!==s?()=>{var P,z,K,W;return t[s],!!(((P=h.vnode.props)!=null&&P.hasOwnProperty(s)||(z=h.vnode.props)!=null&&z.hasOwnProperty(w))&&((K=h.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${s}`)||(W=h.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var P,z;return t[s],!!((P=h.vnode.props)!=null&&P.hasOwnProperty(s)&&((z=h.vnode.props)!=null&&z.hasOwnProperty(`onUpdate:${s}`)))});Yg(()=>!D.value,()=>{Dn(()=>t[s],P=>{x.value=P})});const I=Dt({get(){const P=t[s];return u(D.value?P:x.value)},set(P){const z=m(P),K=gr(D.value?t[s]:x.value);K===z||u(K)===P||(x.value=z,h==null||h.emit(`update:${s}`,z))}});return Object.defineProperty(I,"externalValue",{get:()=>D.value?t[s]:x.value}),I}const Lge={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},Wq="$vuetify.",Kq=(t,s)=>t.replace(/\{(\d+)\}/g,(i,u)=>String(s[Number(u)])),wQ=(t,s,i)=>function(u){for(var m=arguments.length,h=new Array(m>1?m-1:0),x=1;x<m;x++)h[x-1]=arguments[x];if(!u.startsWith(Wq))return Kq(u,h);const w=u.replace(Wq,""),T=t.value&&i.value[t.value],D=s.value&&i.value[s.value];let I=$U(T,w,null);return I||(`${u}${t.value}`,I=$U(D,w,null)),I||(I=u),typeof I!="string"&&(I=u),Kq(I,h)};function XW(t,s){return(i,u)=>new Intl.NumberFormat([t.value,s.value],u).format(i)}function CQ(t,s){return XW(t,s)(.1).includes(",")?",":"."}function GH(t,s,i){const u=Ki(t,s,t[s]??i.value);return u.value=t[s]??i.value,Dn(i,m=>{t[s]==null&&(u.value=i.value)}),u}function _Q(t){return s=>{const i=GH(s,"locale",t.current),u=GH(s,"fallback",t.fallback),m=GH(s,"messages",t.messages);return{name:"vuetify",current:i,fallback:u,messages:m,decimalSeparator:gn(()=>CQ(i,u)),t:wQ(i,u,m),n:XW(i,u),provide:_Q({current:i,fallback:u,messages:m})}}}function Mge(t){const s=ho((t==null?void 0:t.locale)??"en"),i=ho((t==null?void 0:t.fallback)??"en"),u=Mn({en:Lge,...t==null?void 0:t.messages});return{name:"vuetify",current:s,fallback:i,messages:u,decimalSeparator:gn(()=>(t==null?void 0:t.decimalSeparator)??CQ(s,i)),t:wQ(s,i,u),n:XW(s,i),provide:_Q({current:s,fallback:i,messages:u})}}const hF=Symbol.for("vuetify:locale");function Bge(t){return t.name!=null}function Fge(t){const s=t!=null&&t.adapter&&Bge(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Mge(t),i=Vge(s,t);return{...s,...i}}function fD(){const t=Wi(hF);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function $ge(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Vge(t,s){const i=Mn((s==null?void 0:s.rtl)??$ge()),u=Dt(()=>i.value[t.current.value]??!1);return{isRtl:u,rtl:i,rtlClasses:gn(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function eh(){const t=Wi(hF);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function mD(t){const s=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(s):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(s):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(s):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(s):return{firstDay:6,firstWeekSize:1};case s==="MV":return{firstDay:5,firstWeekSize:1};case s==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function zge(t,s,i){var I;const u=[];let m=[];const h=SQ(t),x=kQ(t),w=i??((I=mD(s))==null?void 0:I.firstDay)??0,T=(h.getDay()-w+7)%7,D=(x.getDay()-w+7)%7;for(let P=0;P<T;P++){const z=new Date(h);z.setDate(z.getDate()-(T-P)),m.push(z)}for(let P=1;P<=x.getDate();P++){const z=new Date(t.getFullYear(),t.getMonth(),P);m.push(z),m.length===7&&(u.push(m),m=[])}for(let P=1;P<7-D;P++){const z=new Date(x);z.setDate(z.getDate()+P),m.push(z)}return m.length>0&&u.push(m),u}function ZU(t,s,i){var h;const u=i??((h=mD(s))==null?void 0:h.firstDay)??0,m=new Date(t);for(;m.getDay()!==u;)m.setDate(m.getDate()-1);return m}function Hge(t,s){var m;const i=new Date(t),u=((((m=mD(s))==null?void 0:m.firstDay)??0)+6)%7;for(;i.getDay()!==u;)i.setDate(i.getDate()+1);return i}function SQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function kQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Uge(t){const s=t.split("-").map(Number);return new Date(s[0],s[1]-1,s[2])}const Wge=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function EQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let s;if(Wge.test(t))return Uge(t);if(s=Date.parse(t),!isNaN(s))return new Date(s)}return null}const jq=new Date(2e3,0,2);function Kge(t,s,i){var m;const u=s??((m=mD(t))==null?void 0:m.firstDay)??0;return oQ(7).map(h=>{const x=new Date(jq);return x.setDate(jq.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:i??"narrow"}).format(x)})}function jge(t,s,i,u){const m=EQ(t)??new Date,h=u==null?void 0:u[s];if(typeof h=="function")return h(m,s,i);let x={};switch(s){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=m.getDate(),T=new Intl.DateTimeFormat(i,{month:"long"}).format(m);return`${w} ${T}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(m.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,x).format(m)}function Zge(t,s){const i=t.toJsDate(s),u=i.getFullYear(),m=Oq(String(i.getMonth()+1),2,"0"),h=Oq(String(i.getDate()),2,"0");return`${u}-${m}-${h}`}function Gge(t){const[s,i,u]=t.split("-").map(Number);return new Date(s,i-1,u)}function qge(t,s){const i=new Date(t);return i.setMinutes(i.getMinutes()+s),i}function Yge(t,s){const i=new Date(t);return i.setHours(i.getHours()+s),i}function WB(t,s){const i=new Date(t);return i.setDate(i.getDate()+s),i}function Xge(t,s){const i=new Date(t);return i.setDate(i.getDate()+s*7),i}function Jge(t,s){const i=new Date(t);return i.setDate(1),i.setMonth(i.getMonth()+s),i}function GU(t){return t.getFullYear()}function Qge(t){return t.getMonth()}function ehe(t,s,i,u){const m=mD(s),h=i??(m==null?void 0:m.firstDay)??0,x=u??(m==null?void 0:m.firstWeekSize)??1;function w(K){const W=new Date(K,0,1);return 7-qU(W,ZU(W,s,h),"days")}let T=GU(t);const D=WB(ZU(t,s,h),6);T<GU(D)&&w(T+1)>=x&&T++;const I=new Date(T,0,1),P=w(T),z=P>=x?WB(I,P-7):WB(I,P);return 1+qU(AQ(t),bF(z),"weeks")}function the(t){return t.getDate()}function nhe(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function ohe(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function rhe(t){return t.getHours()}function she(t){return t.getMinutes()}function ihe(t){return new Date(t.getFullYear(),0,1)}function ahe(t){return new Date(t.getFullYear(),11,31)}function lhe(t,s){return pF(t,s[0])&&dhe(t,s[1])}function che(t){const s=new Date(t);return s instanceof Date&&!isNaN(s.getTime())}function pF(t,s){return t.getTime()>s.getTime()}function uhe(t,s){return pF(bF(t),bF(s))}function dhe(t,s){return t.getTime()<s.getTime()}function Zq(t,s){return t.getTime()===s.getTime()}function fhe(t,s){return t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}function mhe(t,s){return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}function ghe(t,s){return t.getFullYear()===s.getFullYear()}function qU(t,s,i){const u=new Date(t),m=new Date(s);switch(i){case"years":return u.getFullYear()-m.getFullYear();case"quarters":return Math.floor((u.getMonth()-m.getMonth()+(u.getFullYear()-m.getFullYear())*12)/4);case"months":return u.getMonth()-m.getMonth()+(u.getFullYear()-m.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-m.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-m.getTime())/1e3);default:return u.getTime()-m.getTime()}}function hhe(t,s){const i=new Date(t);return i.setHours(s),i}function phe(t,s){const i=new Date(t);return i.setMinutes(s),i}function bhe(t,s){const i=new Date(t);return i.setMonth(s),i}function vhe(t,s){const i=new Date(t);return i.setDate(s),i}function yhe(t,s){const i=new Date(t);return i.setFullYear(s),i}function bF(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function AQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class xhe{constructor(s){this.locale=s.locale,this.formats=s.formats}date(s){return EQ(s)}toJsDate(s){return s}toISO(s){return Zge(this,s)}parseISO(s){return Gge(s)}addMinutes(s,i){return qge(s,i)}addHours(s,i){return Yge(s,i)}addDays(s,i){return WB(s,i)}addWeeks(s,i){return Xge(s,i)}addMonths(s,i){return Jge(s,i)}getWeekArray(s,i){const u=i!==void 0?Number(i):void 0;return zge(s,this.locale,u)}startOfWeek(s,i){const u=i!==void 0?Number(i):void 0;return ZU(s,this.locale,u)}endOfWeek(s){return Hge(s,this.locale)}startOfMonth(s){return SQ(s)}endOfMonth(s){return kQ(s)}format(s,i){return jge(s,i,this.locale,this.formats)}isEqual(s,i){return Zq(s,i)}isValid(s){return che(s)}isWithinRange(s,i){return lhe(s,i)}isAfter(s,i){return pF(s,i)}isAfterDay(s,i){return uhe(s,i)}isBefore(s,i){return!pF(s,i)&&!Zq(s,i)}isSameDay(s,i){return fhe(s,i)}isSameMonth(s,i){return mhe(s,i)}isSameYear(s,i){return ghe(s,i)}setMinutes(s,i){return phe(s,i)}setHours(s,i){return hhe(s,i)}setMonth(s,i){return bhe(s,i)}setDate(s,i){return vhe(s,i)}setYear(s,i){return yhe(s,i)}getDiff(s,i,u){return qU(s,i,u)}getWeekdays(s,i){const u=s!==void 0?Number(s):void 0;return Kge(this.locale,u,i)}getYear(s){return GU(s)}getMonth(s){return Qge(s)}getWeek(s,i,u){const m=i!==void 0?Number(i):void 0;return ehe(s,this.locale,m,u)}getDate(s){return the(s)}getNextMonth(s){return nhe(s)}getPreviousMonth(s){return ohe(s)}getHours(s){return rhe(s)}getMinutes(s){return she(s)}startOfDay(s){return bF(s)}endOfDay(s){return AQ(s)}startOfYear(s){return ihe(s)}endOfYear(s){return ahe(s)}}const whe=Symbol.for("vuetify:date-options"),Gq=Symbol.for("vuetify:date-adapter");function Che(t,s){const i=Wu({adapter:xhe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:i,instance:_he(i,s)}}function _he(t,s){const i=ql(typeof t.adapter=="function"?new t.adapter({locale:t.locale[s.current.value]??s.current.value,formats:t.formats}):t.adapter);return Dn(s.current,u=>{i.locale=t.locale[u]??u??i.locale}),i}const ZF=["sm","md","lg","xl","xxl"],YU=Symbol.for("vuetify:display"),qq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},She=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qq;return Wu(qq,t)};function Yq(t){return ei&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Xq(t){return ei&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Jq(t){const s=ei&&!t?window.navigator.userAgent:"ssr";function i(W){return!!s.match(W)}const u=i(/android/i),m=i(/iphone|ipad|ipod/i),h=i(/cordova/i),x=i(/electron/i),w=i(/chrome/i),T=i(/edge/i),D=i(/firefox/i),I=i(/opera/i),P=i(/win/i),z=i(/mac/i),K=i(/linux/i);return{android:u,ios:m,cordova:h,electron:x,chrome:w,edge:T,firefox:D,opera:I,win:P,mac:z,linux:K,touch:Kme,ssr:s==="ssr"}}function khe(t,s){const{thresholds:i,mobileBreakpoint:u}=She(t),m=ho(Xq(s)),h=ho(Jq(s)),x=ql({}),w=ho(Yq(s));function T(){m.value=Xq(),w.value=Yq()}function D(){T(),h.value=Jq()}return Bd(()=>{const I=w.value<i.sm,P=w.value<i.md&&!I,z=w.value<i.lg&&!(P||I),K=w.value<i.xl&&!(z||P||I),W=w.value<i.xxl&&!(K||z||P||I),J=w.value>=i.xxl,oe=I?"xs":P?"sm":z?"md":K?"lg":W?"xl":"xxl",U=typeof u=="number"?u:i[u],he=w.value<U;x.xs=I,x.sm=P,x.md=z,x.lg=K,x.xl=W,x.xxl=J,x.smAndUp=!I,x.mdAndUp=!(I||P),x.lgAndUp=!(I||P||z),x.xlAndUp=!(I||P||z||K),x.smAndDown=!(z||K||W||J),x.mdAndDown=!(K||W||J),x.lgAndDown=!(W||J),x.xlAndDown=!J,x.name=oe,x.height=m.value,x.width=w.value,x.mobile=he,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=i}),ei&&(window.addEventListener("resize",T,{passive:!0}),uc(()=>{window.removeEventListener("resize",T)},!0)),{...BF(x),update:D,ssr:!!s}}const TQ=Ln({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function GF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();const i=Wi(YU);if(!i)throw new Error("Could not find Vuetify display injection");const u=Dt(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?i.width.value<t.mobileBreakpoint:t.mobileBreakpoint?i.width.value<i.thresholds.value[t.mobileBreakpoint]:t.mobile===null?i.mobile.value:!1),m=gn(()=>s?{[`${s}--mobile`]:u.value}:{});return{...i,displayClasses:m,mobile:u}}const OQ=Symbol.for("vuetify:goto");function IQ(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Ehe(t){return JW(t)??(document.scrollingElement||document.body)}function JW(t){return typeof t=="string"?document.querySelector(t):rQ(t)}function qH(t,s,i){if(typeof t=="number")return s&&i?-t:t;let u=JW(t),m=0;for(;u;)m+=s?u.offsetLeft:u.offsetTop,u=u.offsetParent;return m}function Ahe(t,s){return{rtl:s.isRtl,options:Wu(IQ(),t)}}async function Qq(t,s,i,u){const m=i?"scrollLeft":"scrollTop",h=Wu((u==null?void 0:u.options)??IQ(),s),x=u==null?void 0:u.rtl.value,w=(typeof t=="number"?t:JW(t))??0,T=h.container==="parent"&&w instanceof HTMLElement?w.parentElement:Ehe(h.container),D=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!D)throw new TypeError(`Easing function "${h.easing}" not found.`);let I;if(typeof w=="number")I=qH(w,i,x);else if(I=qH(w,i,x)-qH(T,i,x),h.layout){const W=window.getComputedStyle(w).getPropertyValue("--v-layout-top");W&&(I-=parseInt(W,10))}I+=h.offset,I=Ohe(T,I,!!x,!!i);const P=T[m]??0;if(I===P)return Promise.resolve(I);const z=performance.now();return new Promise(K=>requestAnimationFrame(function W(J){const U=(J-z)/h.duration,he=Math.floor(P+(I-P)*D(Cf(U,0,1)));if(T[m]=he,U>=1&&Math.abs(he-T[m])<10)return K(I);if(U>2)return K(T[m]);requestAnimationFrame(W)}))}function The(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=Wi(OQ),{isRtl:i}=eh();if(!s)throw new Error("[Vuetify] Could not find injected goto instance");const u={...s,rtl:gn(()=>s.rtl.value||i.value)};async function m(h,x){return Qq(h,Wu(t,x),!1,u)}return m.horizontal=async(h,x)=>Qq(h,Wu(t,x),!0,u),m}function Ohe(t,s,i,u){const{scrollWidth:m,scrollHeight:h}=t,[x,w]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let T,D;return u?i?(T=-(m-x),D=0):(T=0,D=m-x):(T=0,D=h+-w),Cf(s,T,D)}const Ihe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},Dhe={component:t=>Kb(RQ,{...t,class:"mdi"})},zs=[String,Function,Object,Array],XU=Symbol.for("vuetify:icons"),qF=Ln({icon:{type:zs},tag:{type:[String,Object,Function],required:!0}},"icon"),eY=Bo()({name:"VComponentIcon",props:qF(),setup(t,s){let{slots:i}=s;return()=>{const u=t.icon;return ae(t.tag,null,{default:()=>{var m;return[t.icon?ae(u,null,null):(m=i.default)==null?void 0:m.call(i)]}})}}}),DQ=NE({name:"VSvgIcon",inheritAttrs:!1,props:qF(),setup(t,s){let{attrs:i}=s;return()=>ae(t.tag,Po(i,{style:null}),{default:()=>[ee("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?ee("path",{d:u[0],"fill-opacity":u[1]},null):ee("path",{d:u},null)):ee("path",{d:t.icon},null)])]})}});NE({name:"VLigatureIcon",props:qF(),setup(t){return()=>ae(t.tag,null,{default:()=>[t.icon]})}});const RQ=NE({name:"VClassIcon",props:qF(),setup(t){return()=>ae(t.tag,{class:go(t.icon)},null)}});function Rhe(){return{svg:{component:DQ},class:{component:RQ}}}function Nhe(t){const s=Rhe(),i=(t==null?void 0:t.defaultSet)??"mdi";return i==="mdi"&&!s.mdi&&(s.mdi=Dhe),Wu({defaultSet:i,sets:s,aliases:{...Ihe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Phe=t=>{const s=Wi(XU);if(!s)throw new Error("Missing Vuetify Icons provide!");return{iconData:Dt(()=>{var T;const u=Wb(t);if(!u)return{component:eY};let m=u;if(typeof m=="string"&&(m=m.trim(),m.startsWith("$")&&(m=(T=s.aliases)==null?void 0:T[m.slice(1)])),Array.isArray(m))return{component:DQ,icon:m};if(typeof m!="string")return{component:eY,icon:m};const h=Object.keys(s.sets).find(D=>typeof m=="string"&&m.startsWith(`${D}:`)),x=h?m.slice(h.length+1):m;return{component:s.sets[h??s.defaultSet].component,icon:x}})}},VI=Symbol.for("vuetify:theme"),vl=Ln({theme:String},"theme");function tY(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Lhe(){var u,m;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tY();const s=tY();if(!t)return{...s,isDisabled:!0};const i={};for(const[h,x]of Object.entries(t.themes??{})){const w=x.dark||h==="dark"?(u=s.themes)==null?void 0:u.dark:(m=s.themes)==null?void 0:m.light;i[h]=Wu(w,x)}return Wu(s,{...t,themes:i})}function AC(t,s,i,u){t.push(`${$he(s,u)} {
`,...i.map(m=>`  ${m};
`),`}
`)}function nY(t,s){const i=t.dark?2:1,u=t.dark?1:2,m=[];for(const[h,x]of Object.entries(t.colors)){const w=Vb(x);m.push(`--${s}theme-${h}: ${w.r},${w.g},${w.b}`),h.startsWith("on-")||m.push(`--${s}theme-${h}-overlay-multiplier: ${Ege(x)>.18?i:u}`)}for(const[h,x]of Object.entries(t.variables)){const w=typeof x=="string"&&x.startsWith("#")?Vb(x):void 0,T=w?`${w.r}, ${w.g}, ${w.b}`:void 0;m.push(`--${s}${h}: ${T??x}`)}return m}function Mhe(t,s,i){const u={};if(i)for(const m of["lighten","darken"]){const h=m==="lighten"?Sge:kge;for(const x of oQ(i[m],1))u[`${t}-${m}-${x}`]=wge(h(Vb(s),x))}return u}function Bhe(t,s){if(!s)return{};let i={};for(const u of s.colors){const m=t[u];m&&(i={...i,...Mhe(u,m,s)})}return i}function Fhe(t){const s={};for(const i of Object.keys(t)){if(i.startsWith("on-")||t[`on-${i}`])continue;const u=`on-${i}`,m=Vb(t[i]);s[u]=vQ(m)}return s}function $he(t,s){if(!s)return t;const i=`:where(${s})`;return t===":root"?i:`${i} ${t}`}function Vhe(t,s,i){const u=zhe(t,s);u&&(u.innerHTML=i)}function zhe(t,s){if(!ei)return null;let i=document.getElementById(t);return i||(i=document.createElement("style"),i.id=t,i.type="text/css",s&&i.setAttribute("nonce",s),document.head.appendChild(i)),i}function Hhe(t){const s=Lhe(t),i=ho(s.defaultTheme),u=Mn(s.themes),m=ho("light"),h=Dt({get(){return i.value==="system"?m.value:i.value},set(U){i.value=U}}),x=Dt(()=>{const U={};for(const[he,ue]of Object.entries(u.value)){const Z={...ue.colors,...Bhe(ue.colors,s.variations)};U[he]={...ue,colors:{...Z,...Fhe(Z)}}}return U}),w=gn(()=>x.value[h.value]),T=Dt(()=>{var Z;const U=[],he=s.unimportant?"":" !important",ue=s.scoped?s.prefix:"";(Z=w.value)!=null&&Z.dark&&AC(U,":root",["color-scheme: dark"],s.scope),AC(U,":root",nY(w.value,s.prefix),s.scope);for(const[de,re]of Object.entries(x.value))AC(U,`.${s.prefix}theme--${de}`,[`color-scheme: ${re.dark?"dark":"normal"}`,...nY(re,s.prefix)],s.scope);if(s.utilities){const de=[],re=[],Ve=new Set(Object.values(x.value).flatMap(Me=>Object.keys(Me.colors)));for(const Me of Ve)Me.startsWith("on-")?AC(re,`.${Me}`,[`color: rgb(var(--${s.prefix}theme-${Me}))${he}`],s.scope):(AC(de,`.${ue}bg-${Me}`,[`--${s.prefix}theme-overlay-multiplier: var(--${s.prefix}theme-${Me}-overlay-multiplier)`,`background-color: rgb(var(--${s.prefix}theme-${Me}))${he}`,`color: rgb(var(--${s.prefix}theme-on-${Me}))${he}`],s.scope),AC(re,`.${ue}text-${Me}`,[`color: rgb(var(--${s.prefix}theme-${Me}))${he}`],s.scope),AC(re,`.${ue}border-${Me}`,[`--${s.prefix}border-color: var(--${s.prefix}theme-${Me})`],s.scope));U.push(...de,...re)}return U.map((de,re)=>re===0?de:`    ${de}`).join("")}),D=gn(()=>s.isDisabled?void 0:`${s.prefix}theme--${h.value}`),I=gn(()=>Object.keys(x.value));if(jme){let he=function(){m.value=U.matches?"dark":"light"};var oe=he;const U=window.matchMedia("(prefers-color-scheme: dark)");he(),U.addEventListener("change",he,{passive:!0}),SW()&&uc(()=>{U.removeEventListener("change",he)})}function P(U){if(s.isDisabled)return;const he=U._context.provides.usehead;if(he){let de=function(){return{style:[{textContent:T.value,id:s.stylesheetId,nonce:s.cspNonce||!1}]}};var ue=de;if(he.push){const re=he.push(de);ei&&Dn(T,()=>{re.patch(de)})}else ei?(he.addHeadObjs(gn(de)),Bd(()=>he.updateDOM())):he.addHeadObjs(de())}else{let de=function(){Vhe(s.stylesheetId,s.cspNonce,T.value)};var Z=de;ei?Dn(T,de,{immediate:!0}):de()}}function z(U){I.value.includes(U)&&(h.value=U)}function K(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.value;const he=U.indexOf(h.value),ue=he===-1?0:(he+1)%U.length;z(U[ue])}function W(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];K(U)}const J=new Proxy(h,{get(U,he){return Reflect.get(U,he)},set(U,he,ue){return he==="value"&&mQ(`theme.global.name.value = ${ue}`,`theme.change('${ue}')`),Reflect.set(U,he,ue)}});return{install:P,change:z,cycle:K,toggle:W,isDisabled:s.isDisabled,name:h,themes:u,current:w,computedThemes:x,prefix:s.prefix,themeClasses:D,styles:T,global:{name:J,current:w}}}function dc(t){Vl("provideTheme");const s=Wi(VI,null);if(!s)throw new Error("Could not find Vuetify theme injection");const i=gn(()=>t.theme??s.name.value),u=gn(()=>s.themes.value[i.value]),m=gn(()=>s.isDisabled?void 0:`${s.prefix}theme--${i.value}`),h={...s,name:i,current:u,themeClasses:m};return Fd(VI,h),h}function Uhe(){Vl("useTheme");const t=Wi(VI,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function kE(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=HU(),u=Mn();if(ei){const m=new ResizeObserver(h=>{h.length&&(s==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Dc(()=>{m.disconnect()}),Dn(()=>i.el,(h,x)=>{x&&(m.unobserve(x),u.value=void 0),h&&m.observe(h)},{flush:"post"})}return{resizeRef:i,contentRect:DE(u)}}const vF=Symbol.for("vuetify:layout"),NQ=Symbol.for("vuetify:layout-item"),oY=1e3,Whe=Ln({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),PQ=Ln({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Khe(){const t=Wi(vF);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function LQ(t){const s=Wi(vF);if(!s)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${a1()}`,u=Vl("useLayoutItem");Fd(NQ,{id:i});const m=ho(!1);VF(()=>m.value=!0),LW(()=>m.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=s.register(u,{...t,active:Dt(()=>m.value?!1:t.active.value),id:i});return Dc(()=>s.unregister(i)),{layoutItemStyles:h,layoutRect:s.layoutRect,layoutItemScrimStyles:x}}const jhe=(t,s,i,u)=>{let m={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...m}}];for(const x of t){const w=s.get(x),T=i.get(x),D=u.get(x);if(!w||!T||!D)continue;const I={...m,[w.value]:parseInt(m[w.value],10)+(D.value?parseInt(T.value,10):0)};h.push({id:x,layer:I}),m=I}return h};function Zhe(t){const s=Wi(vF,null),i=Dt(()=>s?s.rootZIndex.value-100:oY),u=Mn([]),m=ql(new Map),h=ql(new Map),x=ql(new Map),w=ql(new Map),T=ql(new Map),{resizeRef:D,contentRect:I}=kE(),P=Dt(()=>{const re=new Map,Ve=t.overlaps??[];for(const Me of Ve.filter(Ye=>Ye.includes(":"))){const[Ye,it]=Me.split(":");if(!u.value.includes(Ye)||!u.value.includes(it))continue;const Ae=m.get(Ye),ze=m.get(it),R=h.get(Ye),Fe=h.get(it);!Ae||!ze||!R||!Fe||(re.set(it,{position:Ae.value,amount:parseInt(R.value,10)}),re.set(Ye,{position:ze.value,amount:-parseInt(Fe.value,10)}))}return re}),z=Dt(()=>{const re=[...new Set([...x.values()].map(Me=>Me.value))].sort((Me,Ye)=>Me-Ye),Ve=[];for(const Me of re){const Ye=u.value.filter(it=>{var Ae;return((Ae=x.get(it))==null?void 0:Ae.value)===Me});Ve.push(...Ye)}return jhe(Ve,m,h,w)}),K=Dt(()=>!Array.from(T.values()).some(re=>re.value)),W=Dt(()=>z.value[z.value.length-1].layer),J=gn(()=>({"--v-layout-left":vr(W.value.left),"--v-layout-right":vr(W.value.right),"--v-layout-top":vr(W.value.top),"--v-layout-bottom":vr(W.value.bottom),...K.value?void 0:{transition:"none"}})),oe=Dt(()=>z.value.slice(1).map((re,Ve)=>{let{id:Me}=re;const{layer:Ye}=z.value[Ve],it=h.get(Me),Ae=m.get(Me);return{id:Me,...Ye,size:Number(it.value),position:Ae.value}})),U=re=>oe.value.find(Ve=>Ve.id===re),he=Vl("createLayout"),ue=ho(!1);ju(()=>{ue.value=!0}),Fd(vF,{register:(re,Ve)=>{let{id:Me,order:Ye,position:it,layoutSize:Ae,elementSize:ze,active:R,disableTransitions:Fe,absolute:Ze}=Ve;x.set(Me,Ye),m.set(Me,it),h.set(Me,Ae),w.set(Me,R),Fe&&T.set(Me,Fe);const Gt=mE(NQ,he==null?void 0:he.vnode).indexOf(re);Gt>-1?u.value.splice(Gt,0,Me):u.value.push(Me);const ut=Dt(()=>oe.value.findIndex(Pe=>Pe.id===Me)),kn=Dt(()=>i.value+z.value.length*2-ut.value*2),Et=Dt(()=>{const Pe=it.value==="left"||it.value==="right",mt=it.value==="right",po=it.value==="bottom",Ht=ze.value??Ae.value,On=Ht===0?"%":"px",nn={[it.value]:0,zIndex:kn.value,transform:`translate${Pe?"X":"Y"}(${(R.value?0:-(Ht===0?100:Ht))*(mt||po?-1:1)}${On})`,position:Ze.value||i.value!==oY?"absolute":"fixed",...K.value?void 0:{transition:"none"}};if(!ue.value)return nn;const Q=oe.value[ut.value];if(!Q)throw new Error(`[Vuetify] Could not find layout item "${Me}"`);const co=P.value.get(Me);return co&&(Q[co.position]+=co.amount),{...nn,height:Pe?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:ze.value?`${ze.value}px`:void 0,left:mt?void 0:`${Q.left}px`,right:mt?`${Q.right}px`:void 0,top:it.value!=="bottom"?`${Q.top}px`:void 0,bottom:it.value!=="top"?`${Q.bottom}px`:void 0,width:Pe?ze.value?`${ze.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),tt=Dt(()=>({zIndex:kn.value-1}));return{layoutItemStyles:Et,layoutItemScrimStyles:tt,zIndex:kn}},unregister:re=>{x.delete(re),m.delete(re),h.delete(re),w.delete(re),T.delete(re),u.value=u.value.filter(Ve=>Ve!==re)},mainRect:W,mainStyles:J,getLayoutItem:U,items:oe,layoutRect:I,rootZIndex:i});const Z=gn(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),de=gn(()=>({zIndex:s?i.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:Z,layoutStyles:de,getLayoutItem:U,items:oe,layoutRect:I,layoutRef:D}}function MQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:s,...i}=t,u=Wu(s,i),{aliases:m={},components:h={},directives:x={}}=u,w=Cx();return w.run(()=>{const T=Tge(u.defaults),D=khe(u.display,u.ssr),I=Hhe(u.theme),P=Nhe(u.icons),z=Fge(u.locale),K=Che(u.date,z),W=Ahe(u.goTo,z);function J(U){for(const ue in x)U.directive(ue,x[ue]);for(const ue in h)U.component(ue,h[ue]);for(const ue in m)U.component(ue,NE({...m[ue],name:ue,aliasName:m[ue].name}));const he=Cx();if(he.run(()=>{I.install(U)}),U.onUnmount(()=>he.stop()),U.provide(SE,T),U.provide(YU,D),U.provide(VI,I),U.provide(XU,P),U.provide(hF,z),U.provide(whe,K.options),U.provide(Gq,K.instance),U.provide(OQ,W),ei&&u.ssr)if(U.$nuxt)U.$nuxt.hook("app:suspense:resolve",()=>{D.update()});else{const{mount:ue}=U;U.mount=function(){const Z=ue(...arguments);return qo(()=>D.update()),U.mount=ue,Z}}U.mixin({computed:{$vuetify(){return ql({defaults:nE.call(this,SE),display:nE.call(this,YU),theme:nE.call(this,VI),icons:nE.call(this,XU),locale:nE.call(this,hF),date:nE.call(this,Gq)})}}})}function oe(){w.stop()}return{install:J,unmount:oe,defaults:T,display:D,theme:I,icons:P,locale:z,date:K,goTo:W}})}const Ghe="3.9.0";MQ.version=Ghe;function nE(t){var u,m;const s=this.$,i=((u=s.parent)==null?void 0:u.provides)??((m=s.vnode.appContext)==null?void 0:m.provides);if(i&&t in i)return i[t]}const qhe=MQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let BQ;const YF=t=>BQ=t,FQ=Symbol();function JU(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var AI;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(AI||(AI={}));function Yhe(){const t=Cx(!0),s=t.run(()=>Mn({}));let i=[],u=[];const m=RW({install(h){YF(m),m._a=h,h.provide(FQ,m),h.config.globalProperties.$pinia=m,u.forEach(x=>i.push(x)),u=[]},use(h){return this._a?i.push(h):u.push(h),this},_p:i,_a:null,_e:t,_s:new Map,state:s});return m}const $Q=()=>{};function rY(t,s,i,u=$Q){t.push(s);const m=()=>{const h=t.indexOf(s);h>-1&&(t.splice(h,1),u())};return!i&&SW()&&uc(m),m}function oE(t,...s){t.slice().forEach(i=>{i(...s)})}const Xhe=t=>t(),sY=Symbol(),YH=Symbol();function QU(t,s){t instanceof Map&&s instanceof Map?s.forEach((i,u)=>t.set(u,i)):t instanceof Set&&s instanceof Set&&s.forEach(t.add,t);for(const i in s){if(!s.hasOwnProperty(i))continue;const u=s[i],m=t[i];JU(m)&&JU(u)&&t.hasOwnProperty(i)&&!Qs(u)&&!xx(u)?t[i]=QU(m,u):t[i]=u}return t}const Jhe=Symbol();function Qhe(t){return!JU(t)||!t.hasOwnProperty(Jhe)}const{assign:fx}=Object;function epe(t){return!!(Qs(t)&&t.effect)}function tpe(t,s,i,u){const{state:m,actions:h,getters:x}=s,w=i.state.value[t];let T;function D(){w||(i.state.value[t]=m?m():{});const I=BF(i.state.value[t]);return fx(I,h,Object.keys(x||{}).reduce((P,z)=>(P[z]=RW(Dt(()=>{YF(i);const K=i._s.get(t);return x[z].call(K,K)})),P),{}))}return T=VQ(t,D,s,i,u,!0),T}function VQ(t,s,i={},u,m,h){let x;const w=fx({actions:{}},i),T={deep:!0};let D,I,P=[],z=[],K;const W=u.state.value[t];!h&&!W&&(u.state.value[t]={}),Mn({});let J;function oe(Me){let Ye;D=I=!1,typeof Me=="function"?(Me(u.state.value[t]),Ye={type:AI.patchFunction,storeId:t,events:K}):(QU(u.state.value[t],Me),Ye={type:AI.patchObject,payload:Me,storeId:t,events:K});const it=J=Symbol();qo().then(()=>{J===it&&(D=!0)}),I=!0,oE(P,Ye,u.state.value[t])}const U=h?function(){const{state:Ye}=i,it=Ye?Ye():{};this.$patch(Ae=>{fx(Ae,it)})}:$Q;function he(){x.stop(),P=[],z=[],u._s.delete(t)}const ue=(Me,Ye="")=>{if(sY in Me)return Me[YH]=Ye,Me;const it=function(){YF(u);const Ae=Array.from(arguments),ze=[],R=[];function Fe(Gt){ze.push(Gt)}function Ze(Gt){R.push(Gt)}oE(z,{args:Ae,name:it[YH],store:de,after:Fe,onError:Ze});let Ot;try{Ot=Me.apply(this&&this.$id===t?this:de,Ae)}catch(Gt){throw oE(R,Gt),Gt}return Ot instanceof Promise?Ot.then(Gt=>(oE(ze,Gt),Gt)).catch(Gt=>(oE(R,Gt),Promise.reject(Gt))):(oE(ze,Ot),Ot)};return it[sY]=!0,it[YH]=Ye,it},Z={_p:u,$id:t,$onAction:rY.bind(null,z),$patch:oe,$reset:U,$subscribe(Me,Ye={}){const it=rY(P,Me,Ye.detached,()=>Ae()),Ae=x.run(()=>Dn(()=>u.state.value[t],ze=>{(Ye.flush==="sync"?I:D)&&Me({storeId:t,type:AI.direct,events:K},ze)},fx({},T,Ye)));return it},$dispose:he},de=ql(Z);u._s.set(t,de);const Ve=(u._a&&u._a.runWithContext||Xhe)(()=>u._e.run(()=>(x=Cx()).run(()=>s({action:ue}))));for(const Me in Ve){const Ye=Ve[Me];if(Qs(Ye)&&!epe(Ye)||xx(Ye))h||(W&&Qhe(Ye)&&(Qs(Ye)?Ye.value=W[Me]:QU(Ye,W[Me])),u.state.value[t][Me]=Ye);else if(typeof Ye=="function"){const it=ue(Ye,Me);Ve[Me]=it,w.actions[Me]=Ye}}return fx(de,Ve),fx(gr(de),Ve),Object.defineProperty(de,"$state",{get:()=>u.state.value[t],set:Me=>{oe(Ye=>{fx(Ye,Me)})}}),u._p.forEach(Me=>{fx(de,x.run(()=>Me({store:de,app:u._a,pinia:u,options:w})))}),W&&h&&i.hydrate&&i.hydrate(de.$state,W),D=!0,I=!0,de}/*! #__NO_SIDE_EFFECTS__ */function iu(t,s,i){let u,m;const h=typeof s=="function";typeof t=="string"?(u=t,m=h?i:s):(m=t,u=t.id);function x(w,T){const D=Nfe();return w=w||(D?Wi(FQ,null):null),w&&YF(w),w=BQ,w._s.has(u)||(h?VQ(u,s,m,w):tpe(u,m,w)),w._s.get(u)}return x.$id=u,x}const npe=Yhe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const iY=typeof window<"u",zQ=(t,s=!1)=>s?Symbol.for(t):Symbol(t),ope=(t,s,i)=>rpe({l:t,k:s,s:i}),rpe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),yf=t=>typeof t=="number"&&isFinite(t),yF=t=>UQ(t)==="[object RegExp]",spe=t=>Hu(t)&&Object.keys(t).length===0,PE=Object.assign,ipe=Object.create,Ku=(t=null)=>ipe(t);let aY;const QW=()=>aY||(aY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ku());function lY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ape=Object.prototype.hasOwnProperty;function cp(t,s){return ape.call(t,s)}const jb=Array.isArray,bl=t=>typeof t=="function",ws=t=>typeof t=="string",Pd=t=>typeof t=="boolean",Ja=t=>t!==null&&typeof t=="object",lpe=t=>Ja(t)&&bl(t.then)&&bl(t.catch),HQ=Object.prototype.toString,UQ=t=>HQ.call(t),Hu=t=>UQ(t)==="[object Object]",cpe=t=>t==null?"":jb(t)||Hu(t)&&t.toString===HQ?JSON.stringify(t,null,2):String(t);function eK(t,s=""){return t.reduce((i,u,m)=>m===0?i+u:i+s+u,"")}function upe(t,s){typeof console<"u"&&(console.warn("[intlify] "+t),s&&console.warn(s.stack))}const AB=t=>!Ja(t)||jb(t);function KB(t,s){if(AB(t)||AB(s))throw new Error("Invalid value");const i=[{src:t,des:s}];for(;i.length;){const{src:u,des:m}=i.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(Ja(u[h])&&!Ja(m[h])&&(m[h]=Array.isArray(u[h])?[]:Ku()),AB(m[h])||AB(u[h])?m[h]=u[h]:i.push({src:u[h],des:m[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function dpe(t,s,i){return{line:t,column:s,offset:i}}function eW(t,s,i){return{start:t,end:s}}const Ci={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},fpe=17;function XF(t,s,i={}){const{domain:u,messages:m,args:h}=i,x=t,w=new SyntaxError(String(x));return w.code=t,s&&(w.location=s),w.domain=u,w}function mpe(t){throw t}const U0=" ",gpe="\r",Dd=`
`,hpe="\u2028",ppe="\u2029";function bpe(t){const s=t;let i=0,u=1,m=1,h=0;const x=Ve=>s[Ve]===gpe&&s[Ve+1]===Dd,w=Ve=>s[Ve]===Dd,T=Ve=>s[Ve]===ppe,D=Ve=>s[Ve]===hpe,I=Ve=>x(Ve)||w(Ve)||T(Ve)||D(Ve),P=()=>i,z=()=>u,K=()=>m,W=()=>h,J=Ve=>x(Ve)||T(Ve)||D(Ve)?Dd:s[Ve],oe=()=>J(i),U=()=>J(i+h);function he(){return h=0,I(i)&&(u++,m=0),x(i)&&i++,i++,m++,s[i]}function ue(){return x(i+h)&&h++,h++,s[i+h]}function Z(){i=0,u=1,m=1,h=0}function de(Ve=0){h=Ve}function re(){const Ve=i+h;for(;Ve!==i;)he();h=0}return{index:P,line:z,column:K,peekOffset:W,charAt:J,currentChar:oe,currentPeek:U,next:he,peek:ue,reset:Z,resetPeek:de,skipToPeek:re}}const cx=void 0,vpe=".",cY="'",ype="tokenizer";function xpe(t,s={}){const i=s.location!==!1,u=bpe(t),m=()=>u.index(),h=()=>dpe(u.line(),u.column(),u.index()),x=h(),w=m(),T={currentType:13,offset:w,startLoc:x,endLoc:x,lastType:13,lastOffset:w,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},D=()=>T,{onError:I}=s;function P(Ce,Re,qe,...ht){const sn=D();if(Re.column+=qe,Re.offset+=qe,I){const Ut=i?eW(sn.startLoc,Re):null,bn=XF(Ce,Ut,{domain:ype,args:ht});I(bn)}}function z(Ce,Re,qe){Ce.endLoc=h(),Ce.currentType=Re;const ht={type:Re};return i&&(ht.loc=eW(Ce.startLoc,Ce.endLoc)),qe!=null&&(ht.value=qe),ht}const K=Ce=>z(Ce,13);function W(Ce,Re){return Ce.currentChar()===Re?(Ce.next(),Re):(P(Ci.EXPECTED_TOKEN,h(),0,Re),"")}function J(Ce){let Re="";for(;Ce.currentPeek()===U0||Ce.currentPeek()===Dd;)Re+=Ce.currentPeek(),Ce.peek();return Re}function oe(Ce){const Re=J(Ce);return Ce.skipToPeek(),Re}function U(Ce){if(Ce===cx)return!1;const Re=Ce.charCodeAt(0);return Re>=97&&Re<=122||Re>=65&&Re<=90||Re===95}function he(Ce){if(Ce===cx)return!1;const Re=Ce.charCodeAt(0);return Re>=48&&Re<=57}function ue(Ce,Re){const{currentType:qe}=Re;if(qe!==2)return!1;J(Ce);const ht=U(Ce.currentPeek());return Ce.resetPeek(),ht}function Z(Ce,Re){const{currentType:qe}=Re;if(qe!==2)return!1;J(Ce);const ht=Ce.currentPeek()==="-"?Ce.peek():Ce.currentPeek(),sn=he(ht);return Ce.resetPeek(),sn}function de(Ce,Re){const{currentType:qe}=Re;if(qe!==2)return!1;J(Ce);const ht=Ce.currentPeek()===cY;return Ce.resetPeek(),ht}function re(Ce,Re){const{currentType:qe}=Re;if(qe!==7)return!1;J(Ce);const ht=Ce.currentPeek()===".";return Ce.resetPeek(),ht}function Ve(Ce,Re){const{currentType:qe}=Re;if(qe!==8)return!1;J(Ce);const ht=U(Ce.currentPeek());return Ce.resetPeek(),ht}function Me(Ce,Re){const{currentType:qe}=Re;if(!(qe===7||qe===11))return!1;J(Ce);const ht=Ce.currentPeek()===":";return Ce.resetPeek(),ht}function Ye(Ce,Re){const{currentType:qe}=Re;if(qe!==9)return!1;const ht=()=>{const Ut=Ce.currentPeek();return Ut==="{"?U(Ce.peek()):Ut==="@"||Ut==="|"||Ut===":"||Ut==="."||Ut===U0||!Ut?!1:Ut===Dd?(Ce.peek(),ht()):Ae(Ce,!1)},sn=ht();return Ce.resetPeek(),sn}function it(Ce){J(Ce);const Re=Ce.currentPeek()==="|";return Ce.resetPeek(),Re}function Ae(Ce,Re=!0){const qe=(sn=!1,Ut="")=>{const bn=Ce.currentPeek();return bn==="{"||bn==="@"||!bn?sn:bn==="|"?!(Ut===U0||Ut===Dd):bn===U0?(Ce.peek(),qe(!0,U0)):bn===Dd?(Ce.peek(),qe(!0,Dd)):!0},ht=qe();return Re&&Ce.resetPeek(),ht}function ze(Ce,Re){const qe=Ce.currentChar();return qe===cx?cx:Re(qe)?(Ce.next(),qe):null}function R(Ce){const Re=Ce.charCodeAt(0);return Re>=97&&Re<=122||Re>=65&&Re<=90||Re>=48&&Re<=57||Re===95||Re===36}function Fe(Ce){return ze(Ce,R)}function Ze(Ce){const Re=Ce.charCodeAt(0);return Re>=97&&Re<=122||Re>=65&&Re<=90||Re>=48&&Re<=57||Re===95||Re===36||Re===45}function Ot(Ce){return ze(Ce,Ze)}function Gt(Ce){const Re=Ce.charCodeAt(0);return Re>=48&&Re<=57}function ut(Ce){return ze(Ce,Gt)}function kn(Ce){const Re=Ce.charCodeAt(0);return Re>=48&&Re<=57||Re>=65&&Re<=70||Re>=97&&Re<=102}function Et(Ce){return ze(Ce,kn)}function tt(Ce){let Re="",qe="";for(;Re=ut(Ce);)qe+=Re;return qe}function Pe(Ce){let Re="";for(;;){const qe=Ce.currentChar();if(qe==="{"||qe==="}"||qe==="@"||qe==="|"||!qe)break;if(qe===U0||qe===Dd)if(Ae(Ce))Re+=qe,Ce.next();else{if(it(Ce))break;Re+=qe,Ce.next()}else Re+=qe,Ce.next()}return Re}function mt(Ce){oe(Ce);let Re="",qe="";for(;Re=Ot(Ce);)qe+=Re;return Ce.currentChar()===cx&&P(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),qe}function po(Ce){oe(Ce);let Re="";return Ce.currentChar()==="-"?(Ce.next(),Re+=`-${tt(Ce)}`):Re+=tt(Ce),Ce.currentChar()===cx&&P(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Re}function Ht(Ce){return Ce!==cY&&Ce!==Dd}function On(Ce){oe(Ce),W(Ce,"'");let Re="",qe="";for(;Re=ze(Ce,Ht);)Re==="\\"?qe+=nn(Ce):qe+=Re;const ht=Ce.currentChar();return ht===Dd||ht===cx?(P(Ci.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),ht===Dd&&(Ce.next(),W(Ce,"'")),qe):(W(Ce,"'"),qe)}function nn(Ce){const Re=Ce.currentChar();switch(Re){case"\\":case"'":return Ce.next(),`\\${Re}`;case"u":return Q(Ce,Re,4);case"U":return Q(Ce,Re,6);default:return P(Ci.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Re),""}}function Q(Ce,Re,qe){W(Ce,Re);let ht="";for(let sn=0;sn<qe;sn++){const Ut=Et(Ce);if(!Ut){P(Ci.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Re}${ht}${Ce.currentChar()}`);break}ht+=Ut}return`\\${Re}${ht}`}function co(Ce){return Ce!=="{"&&Ce!=="}"&&Ce!==U0&&Ce!==Dd}function Kt(Ce){oe(Ce);let Re="",qe="";for(;Re=ze(Ce,co);)qe+=Re;return qe}function pn(Ce){let Re="",qe="";for(;Re=Fe(Ce);)qe+=Re;return qe}function je(Ce){const Re=qe=>{const ht=Ce.currentChar();return ht==="{"||ht==="@"||ht==="|"||ht==="("||ht===")"||!ht||ht===U0?qe:(qe+=ht,Ce.next(),Re(qe))};return Re("")}function nt(Ce){oe(Ce);const Re=W(Ce,"|");return oe(Ce),Re}function xe(Ce,Re){let qe=null;switch(Ce.currentChar()){case"{":return Re.braceNest>=1&&P(Ci.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Ce.next(),qe=z(Re,2,"{"),oe(Ce),Re.braceNest++,qe;case"}":return Re.braceNest>0&&Re.currentType===2&&P(Ci.EMPTY_PLACEHOLDER,h(),0),Ce.next(),qe=z(Re,3,"}"),Re.braceNest--,Re.braceNest>0&&oe(Ce),Re.inLinked&&Re.braceNest===0&&(Re.inLinked=!1),qe;case"@":return Re.braceNest>0&&P(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),qe=Te(Ce,Re)||K(Re),Re.braceNest=0,qe;default:{let sn=!0,Ut=!0,bn=!0;if(it(Ce))return Re.braceNest>0&&P(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),qe=z(Re,1,nt(Ce)),Re.braceNest=0,Re.inLinked=!1,qe;if(Re.braceNest>0&&(Re.currentType===4||Re.currentType===5||Re.currentType===6))return P(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Re.braceNest=0,$e(Ce,Re);if(sn=ue(Ce,Re))return qe=z(Re,4,mt(Ce)),oe(Ce),qe;if(Ut=Z(Ce,Re))return qe=z(Re,5,po(Ce)),oe(Ce),qe;if(bn=de(Ce,Re))return qe=z(Re,6,On(Ce)),oe(Ce),qe;if(!sn&&!Ut&&!bn)return qe=z(Re,12,Kt(Ce)),P(Ci.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,qe.value),oe(Ce),qe;break}}return qe}function Te(Ce,Re){const{currentType:qe}=Re;let ht=null;const sn=Ce.currentChar();switch((qe===7||qe===8||qe===11||qe===9)&&(sn===Dd||sn===U0)&&P(Ci.INVALID_LINKED_FORMAT,h(),0),sn){case"@":return Ce.next(),ht=z(Re,7,"@"),Re.inLinked=!0,ht;case".":return oe(Ce),Ce.next(),z(Re,8,".");case":":return oe(Ce),Ce.next(),z(Re,9,":");default:return it(Ce)?(ht=z(Re,1,nt(Ce)),Re.braceNest=0,Re.inLinked=!1,ht):re(Ce,Re)||Me(Ce,Re)?(oe(Ce),Te(Ce,Re)):Ve(Ce,Re)?(oe(Ce),z(Re,11,pn(Ce))):Ye(Ce,Re)?(oe(Ce),sn==="{"?xe(Ce,Re)||ht:z(Re,10,je(Ce))):(qe===7&&P(Ci.INVALID_LINKED_FORMAT,h(),0),Re.braceNest=0,Re.inLinked=!1,$e(Ce,Re))}}function $e(Ce,Re){let qe={type:13};if(Re.braceNest>0)return xe(Ce,Re)||K(Re);if(Re.inLinked)return Te(Ce,Re)||K(Re);switch(Ce.currentChar()){case"{":return xe(Ce,Re)||K(Re);case"}":return P(Ci.UNBALANCED_CLOSING_BRACE,h(),0),Ce.next(),z(Re,3,"}");case"@":return Te(Ce,Re)||K(Re);default:{if(it(Ce))return qe=z(Re,1,nt(Ce)),Re.braceNest=0,Re.inLinked=!1,qe;if(Ae(Ce))return z(Re,0,Pe(Ce));break}}return qe}function be(){const{currentType:Ce,offset:Re,startLoc:qe,endLoc:ht}=T;return T.lastType=Ce,T.lastOffset=Re,T.lastStartLoc=qe,T.lastEndLoc=ht,T.offset=m(),T.startLoc=h(),u.currentChar()===cx?z(T,13):$e(u,T)}return{nextToken:be,currentOffset:m,currentPosition:h,context:D}}const wpe="parser",Cpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _pe(t,s,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(s||i,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function Spe(t={}){const s=t.location!==!1,{onError:i}=t;function u(U,he,ue,Z,...de){const re=U.currentPosition();if(re.offset+=Z,re.column+=Z,i){const Ve=s?eW(ue,re):null,Me=XF(he,Ve,{domain:wpe,args:de});i(Me)}}function m(U,he,ue){const Z={type:U};return s&&(Z.start=he,Z.end=he,Z.loc={start:ue,end:ue}),Z}function h(U,he,ue,Z){s&&(U.end=he,U.loc&&(U.loc.end=ue))}function x(U,he){const ue=U.context(),Z=m(3,ue.offset,ue.startLoc);return Z.value=he,h(Z,U.currentOffset(),U.currentPosition()),Z}function w(U,he){const ue=U.context(),{lastOffset:Z,lastStartLoc:de}=ue,re=m(5,Z,de);return re.index=parseInt(he,10),U.nextToken(),h(re,U.currentOffset(),U.currentPosition()),re}function T(U,he){const ue=U.context(),{lastOffset:Z,lastStartLoc:de}=ue,re=m(4,Z,de);return re.key=he,U.nextToken(),h(re,U.currentOffset(),U.currentPosition()),re}function D(U,he){const ue=U.context(),{lastOffset:Z,lastStartLoc:de}=ue,re=m(9,Z,de);return re.value=he.replace(Cpe,_pe),U.nextToken(),h(re,U.currentOffset(),U.currentPosition()),re}function I(U){const he=U.nextToken(),ue=U.context(),{lastOffset:Z,lastStartLoc:de}=ue,re=m(8,Z,de);return he.type!==11?(u(U,Ci.UNEXPECTED_EMPTY_LINKED_MODIFIER,ue.lastStartLoc,0),re.value="",h(re,Z,de),{nextConsumeToken:he,node:re}):(he.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ue.lastStartLoc,0,Rb(he)),re.value=he.value||"",h(re,U.currentOffset(),U.currentPosition()),{node:re})}function P(U,he){const ue=U.context(),Z=m(7,ue.offset,ue.startLoc);return Z.value=he,h(Z,U.currentOffset(),U.currentPosition()),Z}function z(U){const he=U.context(),ue=m(6,he.offset,he.startLoc);let Z=U.nextToken();if(Z.type===8){const de=I(U);ue.modifier=de.node,Z=de.nextConsumeToken||U.nextToken()}switch(Z.type!==9&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Z)),Z=U.nextToken(),Z.type===2&&(Z=U.nextToken()),Z.type){case 10:Z.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Z)),ue.key=P(U,Z.value||"");break;case 4:Z.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Z)),ue.key=T(U,Z.value||"");break;case 5:Z.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Z)),ue.key=w(U,Z.value||"");break;case 6:Z.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Z)),ue.key=D(U,Z.value||"");break;default:{u(U,Ci.UNEXPECTED_EMPTY_LINKED_KEY,he.lastStartLoc,0);const de=U.context(),re=m(7,de.offset,de.startLoc);return re.value="",h(re,de.offset,de.startLoc),ue.key=re,h(ue,de.offset,de.startLoc),{nextConsumeToken:Z,node:ue}}}return h(ue,U.currentOffset(),U.currentPosition()),{node:ue}}function K(U){const he=U.context(),ue=he.currentType===1?U.currentOffset():he.offset,Z=he.currentType===1?he.endLoc:he.startLoc,de=m(2,ue,Z);de.items=[];let re=null;do{const Ye=re||U.nextToken();switch(re=null,Ye.type){case 0:Ye.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Ye)),de.items.push(x(U,Ye.value||""));break;case 5:Ye.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Ye)),de.items.push(w(U,Ye.value||""));break;case 4:Ye.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Ye)),de.items.push(T(U,Ye.value||""));break;case 6:Ye.value==null&&u(U,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Rb(Ye)),de.items.push(D(U,Ye.value||""));break;case 7:{const it=z(U);de.items.push(it.node),re=it.nextConsumeToken||null;break}}}while(he.currentType!==13&&he.currentType!==1);const Ve=he.currentType===1?he.lastOffset:U.currentOffset(),Me=he.currentType===1?he.lastEndLoc:U.currentPosition();return h(de,Ve,Me),de}function W(U,he,ue,Z){const de=U.context();let re=Z.items.length===0;const Ve=m(1,he,ue);Ve.cases=[],Ve.cases.push(Z);do{const Me=K(U);re||(re=Me.items.length===0),Ve.cases.push(Me)}while(de.currentType!==13);return re&&u(U,Ci.MUST_HAVE_MESSAGES_IN_PLURAL,ue,0),h(Ve,U.currentOffset(),U.currentPosition()),Ve}function J(U){const he=U.context(),{offset:ue,startLoc:Z}=he,de=K(U);return he.currentType===13?de:W(U,ue,Z,de)}function oe(U){const he=xpe(U,PE({},t)),ue=he.context(),Z=m(0,ue.offset,ue.startLoc);return s&&Z.loc&&(Z.loc.source=U),Z.body=J(he),t.onCacheKey&&(Z.cacheKey=t.onCacheKey(U)),ue.currentType!==13&&u(he,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ue.lastStartLoc,0,U[ue.offset]||""),h(Z,he.currentOffset(),he.currentPosition()),Z}return{parse:oe}}function Rb(t){if(t.type===13)return"EOF";const s=(t.value||"").replace(/\r?\n/gu,"\\n");return s.length>10?s.slice(0,9)+"":s}function kpe(t,s={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:h=>(i.helpers.add(h),h)}}function uY(t,s){for(let i=0;i<t.length;i++)tK(t[i],s)}function tK(t,s){switch(t.type){case 1:uY(t.cases,s),s.helper("plural");break;case 2:uY(t.items,s);break;case 6:{tK(t.key,s),s.helper("linked"),s.helper("type");break}case 5:s.helper("interpolate"),s.helper("list");break;case 4:s.helper("interpolate"),s.helper("named");break}}function Epe(t,s={}){const i=kpe(t);i.helper("normalize"),t.body&&tK(t.body,i);const u=i.context();t.helpers=Array.from(u.helpers)}function Ape(t){const s=t.body;return s.type===2?dY(s):s.cases.forEach(i=>dY(i)),t}function dY(t){if(t.items.length===1){const s=t.items[0];(s.type===3||s.type===9)&&(t.static=s.value,delete s.value)}else{const s=[];for(let i=0;i<t.items.length;i++){const u=t.items[i];if(!(u.type===3||u.type===9)||u.value==null)break;s.push(u.value)}if(s.length===t.items.length){t.static=eK(s);for(let i=0;i<t.items.length;i++){const u=t.items[i];(u.type===3||u.type===9)&&delete u.value}}}}function fE(t){switch(t.t=t.type,t.type){case 0:{const s=t;fE(s.body),s.b=s.body,delete s.body;break}case 1:{const s=t,i=s.cases;for(let u=0;u<i.length;u++)fE(i[u]);s.c=i,delete s.cases;break}case 2:{const s=t,i=s.items;for(let u=0;u<i.length;u++)fE(i[u]);s.i=i,delete s.items,s.static&&(s.s=s.static,delete s.static);break}case 3:case 9:case 8:case 7:{const s=t;s.value&&(s.v=s.value,delete s.value);break}case 6:{const s=t;fE(s.key),s.k=s.key,delete s.key,s.modifier&&(fE(s.modifier),s.m=s.modifier,delete s.modifier);break}case 5:{const s=t;s.i=s.index,delete s.index;break}case 4:{const s=t;s.k=s.key,delete s.key;break}}delete t.type}function Tpe(t,s){const{filename:i,breakLineCode:u,needIndent:m}=s,h=s.location!==!1,x={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:m,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const w=()=>x;function T(J,oe){x.code+=J}function D(J,oe=!0){const U=oe?u:"";T(m?U+"  ".repeat(J):U)}function I(J=!0){const oe=++x.indentLevel;J&&D(oe)}function P(J=!0){const oe=--x.indentLevel;J&&D(oe)}function z(){D(x.indentLevel)}return{context:w,push:T,indent:I,deindent:P,newline:z,helper:J=>`_${J}`,needIndent:()=>x.needIndent}}function Ope(t,s){const{helper:i}=t;t.push(`${i("linked")}(`),EE(t,s.key),s.modifier?(t.push(", "),EE(t,s.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Ipe(t,s){const{helper:i,needIndent:u}=t;t.push(`${i("normalize")}([`),t.indent(u());const m=s.items.length;for(let h=0;h<m&&(EE(t,s.items[h]),h!==m-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function Dpe(t,s){const{helper:i,needIndent:u}=t;if(s.cases.length>1){t.push(`${i("plural")}([`),t.indent(u());const m=s.cases.length;for(let h=0;h<m&&(EE(t,s.cases[h]),h!==m-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function Rpe(t,s){s.body?EE(t,s.body):t.push("null")}function EE(t,s){const{helper:i}=t;switch(s.type){case 0:Rpe(t,s);break;case 1:Dpe(t,s);break;case 2:Ipe(t,s);break;case 6:Ope(t,s);break;case 8:t.push(JSON.stringify(s.value),s);break;case 7:t.push(JSON.stringify(s.value),s);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${s.index}))`,s);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(s.key)}))`,s);break;case 9:t.push(JSON.stringify(s.value),s);break;case 3:t.push(JSON.stringify(s.value),s);break}}const Npe=(t,s={})=>{const i=ws(s.mode)?s.mode:"normal",u=ws(s.filename)?s.filename:"message.intl";s.sourceMap;const m=s.breakLineCode!=null?s.breakLineCode:i==="arrow"?";":`
`,h=s.needIndent?s.needIndent:i!=="arrow",x=t.helpers||[],w=Tpe(t,{filename:u,breakLineCode:m,needIndent:h});w.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(h),x.length>0&&(w.push(`const { ${eK(x.map(I=>`${I}: _${I}`),", ")} } = ctx`),w.newline()),w.push("return "),EE(w,t),w.deindent(h),w.push("}"),delete t.helpers;const{code:T,map:D}=w.context();return{ast:t,code:T,map:D?D.toJSON():void 0}};function Ppe(t,s={}){const i=PE({},s),u=!!i.jit,m=!!i.minify,h=i.optimize==null?!0:i.optimize,w=Spe(i).parse(t);return u?(h&&Ape(w),m&&fE(w),{ast:w,code:""}):(Epe(w,i),Npe(w,i))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Lpe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(QW().__INTLIFY_PROD_DEVTOOLS__=!1)}function wx(t){return Ja(t)&&nK(t)===0&&(cp(t,"b")||cp(t,"body"))}const WQ=["b","body"];function Mpe(t){return Ix(t,WQ)}const KQ=["c","cases"];function Bpe(t){return Ix(t,KQ,[])}const jQ=["s","static"];function Fpe(t){return Ix(t,jQ)}const ZQ=["i","items"];function $pe(t){return Ix(t,ZQ,[])}const GQ=["t","type"];function nK(t){return Ix(t,GQ)}const qQ=["v","value"];function TB(t,s){const i=Ix(t,qQ);if(i!=null)return i;throw zI(s)}const YQ=["m","modifier"];function Vpe(t){return Ix(t,YQ)}const XQ=["k","key"];function zpe(t){const s=Ix(t,XQ);if(s)return s;throw zI(6)}function Ix(t,s,i){for(let u=0;u<s.length;u++){const m=s[u];if(cp(t,m)&&t[m]!=null)return t[m]}return i}const Hpe=[...WQ,...KQ,...jQ,...ZQ,...XQ,...YQ,...qQ,...GQ];function zI(t){return new Error(`unhandled node type: ${t}`)}function XH(t){return i=>Upe(i,t)}function Upe(t,s){const i=Mpe(s);if(i==null)throw zI(0);if(nK(i)===1){const h=Bpe(i);return t.plural(h.reduce((x,w)=>[...x,fY(t,w)],[]))}else return fY(t,i)}function fY(t,s){const i=Fpe(s);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const u=$pe(s).reduce((m,h)=>[...m,tW(t,h)],[]);return t.normalize(u)}}function tW(t,s){const i=nK(s);switch(i){case 3:return TB(s,i);case 9:return TB(s,i);case 4:{const u=s;if(cp(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(cp(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw zI(i)}case 5:{const u=s;if(cp(u,"i")&&yf(u.i))return t.interpolate(t.list(u.i));if(cp(u,"index")&&yf(u.index))return t.interpolate(t.list(u.index));throw zI(i)}case 6:{const u=s,m=Vpe(u),h=zpe(u);return t.linked(tW(t,h),m?tW(t,m):void 0,t.type)}case 7:return TB(s,i);case 8:return TB(s,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Wpe=t=>t;let OB=Ku();function Kpe(t,s={}){let i=!1;const u=s.onError||mpe;return s.onError=m=>{i=!0,u(m)},{...Ppe(t,s),detectError:i}}function jpe(t,s){if(ws(t)){Pd(s.warnHtmlMessage)&&s.warnHtmlMessage;const u=(s.onCacheKey||Wpe)(t),m=OB[u];if(m)return m;const{ast:h,detectError:x}=Kpe(t,{...s,location:!1,jit:!0}),w=XH(h);return x?w:OB[u]=w}else{const i=t.cacheKey;if(i){const u=OB[i];return u||(OB[i]=XH(t))}else return XH(t)}}let HI=null;function Zpe(t){HI=t}function Gpe(t,s,i){HI&&HI.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:s,meta:i})}const qpe=Ype("function:translate");function Ype(t){return s=>HI&&HI.emit(t,s)}const jB={INVALID_ARGUMENT:fpe,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Xpe=24;function ZB(t){return XF(t,null,void 0)}function Jpe(t,s){return s.locale!=null?mY(s.locale):mY(t.locale)}let JH;function mY(t){if(ws(t))return t;if(bl(t)){if(t.resolvedOnce&&JH!=null)return JH;if(t.constructor.name==="Function"){const s=t();if(lpe(s))throw ZB(jB.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return JH=s}else throw ZB(jB.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ZB(jB.NOT_SUPPORT_LOCALE_TYPE)}function Qpe(t,s,i){return[...new Set([i,...jb(s)?s:Ja(s)?Object.keys(s):ws(s)?[s]:[i]])]}function ebe(t,s){return Ja(t)?t[s]:null}const tbe="11.1.9",JQ=-1,nW="en-US",gY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function nbe(){return{upper:(t,s)=>s==="text"&&ws(t)?t.toUpperCase():s==="vnode"&&Ja(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,s)=>s==="text"&&ws(t)?t.toLowerCase():s==="vnode"&&Ja(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,s)=>s==="text"&&ws(t)?gY(t):s==="vnode"&&Ja(t)&&"__v_isVNode"in t?gY(t.children):t}}let QQ;function obe(t){QQ=t}let eee=null;const rbe=t=>{eee=t},sbe=()=>eee;let tee=null;const hY=t=>{tee=t},ibe=()=>tee;let pY=0;function abe(t={}){const s=bl(t.onWarn)?t.onWarn:upe,i=ws(t.version)?t.version:tbe,u=ws(t.locale)||bl(t.locale)?t.locale:nW,m=bl(u)?nW:u,h=jb(t.fallbackLocale)||Hu(t.fallbackLocale)||ws(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:m,x=Hu(t.messages)?t.messages:QH(m),w=Hu(t.datetimeFormats)?t.datetimeFormats:QH(m),T=Hu(t.numberFormats)?t.numberFormats:QH(m),D=PE(Ku(),t.modifiers,nbe()),I=t.pluralRules||Ku(),P=bl(t.missing)?t.missing:null,z=Pd(t.missingWarn)||yF(t.missingWarn)?t.missingWarn:!0,K=Pd(t.fallbackWarn)||yF(t.fallbackWarn)?t.fallbackWarn:!0,W=!!t.fallbackFormat,J=!!t.unresolving,oe=bl(t.postTranslation)?t.postTranslation:null,U=Hu(t.processor)?t.processor:null,he=Pd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,ue=!!t.escapeParameter,Z=bl(t.messageCompiler)?t.messageCompiler:QQ,de=bl(t.messageResolver)?t.messageResolver:ebe,re=bl(t.localeFallbacker)?t.localeFallbacker:Qpe,Ve=Ja(t.fallbackContext)?t.fallbackContext:void 0,Me=t,Ye=Ja(Me.__datetimeFormatters)?Me.__datetimeFormatters:new Map,it=Ja(Me.__numberFormatters)?Me.__numberFormatters:new Map,Ae=Ja(Me.__meta)?Me.__meta:{};pY++;const ze={version:i,cid:pY,locale:u,fallbackLocale:h,messages:x,modifiers:D,pluralRules:I,missing:P,missingWarn:z,fallbackWarn:K,fallbackFormat:W,unresolving:J,postTranslation:oe,processor:U,warnHtmlMessage:he,escapeParameter:ue,messageCompiler:Z,messageResolver:de,localeFallbacker:re,fallbackContext:Ve,onWarn:s,__meta:Ae};return ze.datetimeFormats=w,ze.numberFormats=T,ze.__datetimeFormatters=Ye,ze.__numberFormatters=it,__INTLIFY_PROD_DEVTOOLS__&&Gpe(ze,i,Ae),ze}const QH=t=>({[t]:Ku()});function lbe(t,s,i,u,m){const{missing:h,onWarn:x}=t;if(h!==null){const w=h(t,i,s,m);return ws(w)?w:s}else return s}function fI(t,s,i){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,i,s)}function cbe(t,s){return t===s?!1:t.split("-")[0]===s.split("-")[0]}function ube(t,s){const i=s.indexOf(t);if(i===-1)return!1;for(let u=i+1;u<s.length;u++)if(cbe(t,s[u]))return!0;return!1}const dbe=t=>t,fbe=t=>"",mbe="text",gbe=t=>t.length===0?"":eK(t),hbe=cpe;function bY(t,s){return t=Math.abs(t),s===2?t?t>1?1:0:1:t?Math.min(t,2):0}function pbe(t){const s=yf(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(yf(t.named.count)||yf(t.named.n))?yf(t.named.count)?t.named.count:yf(t.named.n)?t.named.n:s:s}function bbe(t,s){s.count||(s.count=t),s.n||(s.n=t)}function vbe(t={}){const s=t.locale,i=pbe(t),u=Ja(t.pluralRules)&&ws(s)&&bl(t.pluralRules[s])?t.pluralRules[s]:bY,m=Ja(t.pluralRules)&&ws(s)&&bl(t.pluralRules[s])?bY:void 0,h=U=>U[u(i,U.length,m)],x=t.list||[],w=U=>x[U],T=t.named||Ku();yf(t.pluralIndex)&&bbe(i,T);const D=U=>T[U];function I(U,he){const ue=bl(t.messages)?t.messages(U,!!he):Ja(t.messages)?t.messages[U]:!1;return ue||(t.parent?t.parent.message(U):fbe)}const P=U=>t.modifiers?t.modifiers[U]:dbe,z=Hu(t.processor)&&bl(t.processor.normalize)?t.processor.normalize:gbe,K=Hu(t.processor)&&bl(t.processor.interpolate)?t.processor.interpolate:hbe,W=Hu(t.processor)&&ws(t.processor.type)?t.processor.type:mbe,oe={list:w,named:D,plural:h,linked:(U,...he)=>{const[ue,Z]=he;let de="text",re="";he.length===1?Ja(ue)?(re=ue.modifier||re,de=ue.type||de):ws(ue)&&(re=ue||re):he.length===2&&(ws(ue)&&(re=ue||re),ws(Z)&&(de=Z||de));const Ve=I(U,!0)(oe),Me=de==="vnode"&&jb(Ve)&&re?Ve[0]:Ve;return re?P(re)(Me,de):Me},message:I,type:W,interpolate:K,normalize:z,values:PE(Ku(),x,T)};return oe}const vY=()=>"",ap=t=>bl(t);function ybe(t,...s){const{fallbackFormat:i,postTranslation:u,unresolving:m,messageCompiler:h,fallbackLocale:x,messages:w}=t,[T,D]=ree(...s),I=Pd(D.missingWarn)?D.missingWarn:t.missingWarn,P=Pd(D.fallbackWarn)?D.fallbackWarn:t.fallbackWarn,z=Pd(D.escapeParameter)?D.escapeParameter:t.escapeParameter,K=!!D.resolvedMessage,W=ws(D.default)||Pd(D.default)?Pd(D.default)?h?T:()=>T:D.default:i?h?T:()=>T:null,J=i||W!=null&&(ws(W)||bl(W)),oe=Jpe(t,D);z&&xbe(D);let[U,he,ue]=K?[T,oe,w[oe]||Ku()]:nee(t,T,oe,x,P,I),Z=U,de=T;if(!K&&!(ws(Z)||wx(Z)||ap(Z))&&J&&(Z=W,de=Z),!K&&(!(ws(Z)||wx(Z)||ap(Z))||!ws(he)))return m?JQ:T;let re=!1;const Ve=()=>{re=!0},Me=ap(Z)?Z:oee(t,T,he,Z,de,Ve);if(re)return Z;const Ye=_be(t,he,ue,D),it=vbe(Ye),Ae=wbe(t,Me,it),ze=u?u(Ae,T):Ae;if(__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:ws(T)?T:ap(Z)?Z.key:"",locale:he||(ap(Z)?Z.locale:""),format:ws(Z)?Z:ap(Z)?Z.source:"",message:ze};R.meta=PE({},t.__meta,sbe()||{}),qpe(R)}return ze}function xbe(t){jb(t.list)?t.list=t.list.map(s=>ws(s)?lY(s):s):Ja(t.named)&&Object.keys(t.named).forEach(s=>{ws(t.named[s])&&(t.named[s]=lY(t.named[s]))})}function nee(t,s,i,u,m,h){const{messages:x,onWarn:w,messageResolver:T,localeFallbacker:D}=t,I=D(t,u,i);let P=Ku(),z,K=null;const W="translate";for(let J=0;J<I.length&&(z=I[J],P=x[z]||Ku(),(K=T(P,s))===null&&(K=P[s]),!(ws(K)||wx(K)||ap(K)));J++)if(!ube(z,I)){const oe=lbe(t,s,z,h,W);oe!==s&&(K=oe)}return[K,z,P]}function oee(t,s,i,u,m,h){const{messageCompiler:x,warnHtmlMessage:w}=t;if(ap(u)){const D=u;return D.locale=D.locale||i,D.key=D.key||s,D}if(x==null){const D=()=>u;return D.locale=i,D.key=s,D}const T=x(u,Cbe(t,i,m,u,w,h));return T.locale=i,T.key=s,T.source=u,T}function wbe(t,s,i){return s(i)}function ree(...t){const[s,i,u]=t,m=Ku();if(!ws(s)&&!yf(s)&&!ap(s)&&!wx(s))throw ZB(jB.INVALID_ARGUMENT);const h=yf(s)?String(s):(ap(s),s);return yf(i)?m.plural=i:ws(i)?m.default=i:Hu(i)&&!spe(i)?m.named=i:jb(i)&&(m.list=i),yf(u)?m.plural=u:ws(u)?m.default=u:Hu(u)&&PE(m,u),[h,m]}function Cbe(t,s,i,u,m,h){return{locale:s,key:i,warnHtmlMessage:m,onError:x=>{throw h&&h(x),x},onCacheKey:x=>ope(s,i,x)}}function _be(t,s,i,u){const{modifiers:m,pluralRules:h,messageResolver:x,fallbackLocale:w,fallbackWarn:T,missingWarn:D,fallbackContext:I}=t,z={locale:s,modifiers:m,pluralRules:h,messages:(K,W)=>{let J=x(i,K);if(J==null&&(I||W)){const[,,oe]=nee(I||t,K,s,w,T,D);J=x(oe,K)}if(ws(J)||wx(J)){let oe=!1;const he=oee(t,K,s,J,K,()=>{oe=!0});return oe?vY:he}else return ap(J)?J:vY}};return t.processor&&(z.processor=t.processor),u.list&&(z.list=u.list),u.named&&(z.named=u.named),yf(u.plural)&&(z.pluralIndex=u.plural),z}Lpe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Sbe="11.1.9";function kbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(QW().__INTLIFY_PROD_DEVTOOLS__=!1)}const xF={UNEXPECTED_RETURN_TYPE:Xpe,UNEXPECTED_ERROR:32};function wF(t,...s){return XF(t,null,void 0)}const Ebe=zQ("__setPluralRules");function UI(t){if(!Ja(t)||wx(t))return t;for(const s in t)if(cp(t,s))if(!s.includes("."))Ja(t[s])&&UI(t[s]);else{const i=s.split("."),u=i.length-1;let m=t,h=!1;for(let x=0;x<u;x++){if(i[x]==="__proto__")throw new Error(`unsafe key: ${i[x]}`);if(i[x]in m||(m[i[x]]=Ku()),!Ja(m[i[x]])){h=!0;break}m=m[i[x]]}if(h||(wx(m)?Hpe.includes(i[u])||delete t[s]:(m[i[u]]=t[s],delete t[s])),!wx(m)){const x=m[i[u]];Ja(x)&&UI(x)}}return t}function Abe(t,s){const{messages:i,__i18n:u,messageResolver:m,flatJson:h}=s,x=Hu(i)?i:jb(u)?Ku():{[t]:Ku()};if(jb(u)&&u.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:T,resource:D}=w;T?(x[T]=x[T]||Ku(),KB(D,x[T])):KB(D,x)}else ws(w)&&KB(JSON.parse(w),x)}),m==null&&h)for(const w in x)cp(x,w)&&UI(x[w]);return x}function Tbe(t){return t.type}const yY="__INTLIFY_META__";let xY=0;function wY(t){return(s,i,u,m)=>t(i,u,RE()||void 0,m)}const Obe=()=>{const t=RE();let s=null;return t&&(s=Tbe(t)[yY])?{[yY]:s}:null};function Ibe(t={}){const{__root:s,__injectWithOption:i}=t,u=s===void 0,m=t.flatJson,h=iY?Mn:ho;let x=Pd(t.inheritLocale)?t.inheritLocale:!0;const w=h(s&&x?s.locale.value:ws(t.locale)?t.locale:nW),T=h(s&&x?s.fallbackLocale.value:ws(t.fallbackLocale)||jb(t.fallbackLocale)||Hu(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:w.value),D=h(Abe(w.value,t));let I=s?s.missingWarn:Pd(t.missingWarn)||yF(t.missingWarn)?t.missingWarn:!0,P=s?s.fallbackWarn:Pd(t.fallbackWarn)||yF(t.fallbackWarn)?t.fallbackWarn:!0,z=s?s.fallbackRoot:Pd(t.fallbackRoot)?t.fallbackRoot:!0,K=!!t.fallbackFormat,W=bl(t.missing)?t.missing:null,J=bl(t.missing)?wY(t.missing):null,oe=bl(t.postTranslation)?t.postTranslation:null,U=s?s.warnHtmlMessage:Pd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,he=!!t.escapeParameter;const ue=s?s.modifiers:Hu(t.modifiers)?t.modifiers:{};let Z=t.pluralRules||s&&s.pluralRules,de;de=(()=>{u&&hY(null);const Pe={version:Sbe,locale:w.value,fallbackLocale:T.value,messages:D.value,modifiers:ue,pluralRules:Z,missing:J===null?void 0:J,missingWarn:I,fallbackWarn:P,fallbackFormat:K,unresolving:!0,postTranslation:oe===null?void 0:oe,warnHtmlMessage:U,escapeParameter:he,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},mt=abe(Pe);return u&&hY(mt),mt})(),fI(de,w.value,T.value);function Ve(){return[w.value,T.value,D.value]}const Me=Dt({get:()=>w.value,set:Pe=>{de.locale=Pe,w.value=Pe}}),Ye=Dt({get:()=>T.value,set:Pe=>{de.fallbackLocale=Pe,T.value=Pe,fI(de,w.value,Pe)}}),it=Dt(()=>D.value);function Ae(){return bl(oe)?oe:null}function ze(Pe){oe=Pe,de.postTranslation=Pe}function R(){return W}function Fe(Pe){Pe!==null&&(J=wY(Pe)),W=Pe,de.missing=J}const Ze=(Pe,mt,po,Ht,On,nn)=>{Ve();let Q;try{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=s?ibe():void 0),Q=Pe(de)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=void 0)}if(yf(Q)&&Q===JQ||po==="translate exists"){const[co,Kt]=mt();return s&&z?Ht(s):On(co)}else{if(nn(Q))return Q;throw wF(xF.UNEXPECTED_RETURN_TYPE)}};function Ot(...Pe){return Ze(mt=>Reflect.apply(ybe,null,[mt,...Pe]),()=>ree(...Pe),"translate",mt=>Reflect.apply(mt.t,mt,[...Pe]),mt=>mt,mt=>ws(mt))}function Gt(Pe){Z=Pe,de.pluralRules=Z}function ut(Pe){return D.value[Pe]||{}}function kn(Pe,mt){if(m){const po={[Pe]:mt};for(const Ht in po)cp(po,Ht)&&UI(po[Ht]);mt=po[Pe]}D.value[Pe]=mt,de.messages=D.value}function Et(Pe,mt){D.value[Pe]=D.value[Pe]||{};const po={[Pe]:mt};if(m)for(const Ht in po)cp(po,Ht)&&UI(po[Ht]);mt=po[Pe],KB(mt,D.value[Pe]),de.messages=D.value}return xY++,s&&iY&&(Dn(s.locale,Pe=>{x&&(w.value=Pe,de.locale=Pe,fI(de,w.value,T.value))}),Dn(s.fallbackLocale,Pe=>{x&&(T.value=Pe,de.fallbackLocale=Pe,fI(de,w.value,T.value))})),{id:xY,locale:Me,fallbackLocale:Ye,get inheritLocale(){return x},set inheritLocale(Pe){x=Pe,Pe&&s&&(w.value=s.locale.value,T.value=s.fallbackLocale.value,fI(de,w.value,T.value))},get availableLocales(){return Object.keys(D.value).sort()},messages:it,get modifiers(){return ue},get pluralRules(){return Z||{}},get isGlobal(){return u},get missingWarn(){return I},set missingWarn(Pe){I=Pe,de.missingWarn=I},get fallbackWarn(){return P},set fallbackWarn(Pe){P=Pe,de.fallbackWarn=P},get fallbackRoot(){return z},set fallbackRoot(Pe){z=Pe},get fallbackFormat(){return K},set fallbackFormat(Pe){K=Pe,de.fallbackFormat=K},get warnHtmlMessage(){return U},set warnHtmlMessage(Pe){U=Pe,de.warnHtmlMessage=Pe},get escapeParameter(){return he},set escapeParameter(Pe){he=Pe,de.escapeParameter=Pe},t:Ot,getLocaleMessage:ut,setLocaleMessage:kn,mergeLocaleMessage:Et,getPostTranslationHandler:Ae,setPostTranslationHandler:ze,getMissingHandler:R,setMissingHandler:Fe,[Ebe]:Gt}}function Dbe(t={}){const s=Pd(t.globalInjection)?t.globalInjection:!0,i=new Map,[u,m]=Rbe(t),h=zQ("");function x(I){return i.get(I)||null}function w(I,P){i.set(I,P)}function T(I){i.delete(I)}const D={get mode(){return"composition"},async install(I,...P){if(I.__VUE_I18N_SYMBOL__=h,I.provide(I.__VUE_I18N_SYMBOL__,D),Hu(P[0])){const W=P[0];D.__composerExtend=W.__composerExtend,D.__vueI18nExtend=W.__vueI18nExtend}let z=null;s&&(z=Pbe(I,D.global));const K=I.unmount;I.unmount=()=>{z&&z(),D.dispose(),K()}},get global(){return m},dispose(){u.stop()},__instances:i,__getInstance:x,__setInstance:w,__deleteInstance:T};return D}function Rbe(t,s){const i=Cx(),u=i.run(()=>Ibe(t));if(u==null)throw wF(xF.UNEXPECTED_ERROR);return[i,u]}const Nbe=["locale","fallbackLocale","availableLocales"],CY=["t"];function Pbe(t,s){const i=Object.create(null);return Nbe.forEach(m=>{const h=Object.getOwnPropertyDescriptor(s,m);if(!h)throw wF(xF.UNEXPECTED_ERROR);const x=Qs(h.value)?{get(){return h.value.value},set(w){h.value.value=w}}:{get(){return h.get&&h.get()}};Object.defineProperty(i,m,x)}),t.config.globalProperties.$i18n=i,CY.forEach(m=>{const h=Object.getOwnPropertyDescriptor(s,m);if(!h||!h.value)throw wF(xF.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${m}`,h)}),()=>{delete t.config.globalProperties.$i18n,CY.forEach(m=>{delete t.config.globalProperties[`$${m}`]})}}kbe();obe(jpe);if(__INTLIFY_PROD_DEVTOOLS__){const t=QW();t.__INTLIFY__=!0,Zpe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const eU=t=>t&&typeof t=="object"&&!Array.isArray(t),oW=(t,...s)=>{if(!s.length)return t;const i=s.shift();if(eU(t)&&eU(i))for(const u in i)eU(i[u])?(t[u]||Object.assign(t,{[u]:{}}),oW(t[u],i[u])):Object.assign(t,{[u]:i[u]});return oW(t,...s)},Lbe=oW({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allApply:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},allAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allCancelCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},allChange:{t:0,b:{t:2,i:[{t:3}],s:"ndern..."}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allDelete:{t:0,b:{t:2,i:[{t:3}],s:"Lschen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diesen Abgabe-Text ist noch keine Korrektur freigegeben."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"Teilbewertungen"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allOwnSummaryAndRating:{t:0,b:{t:2,i:[{t:3}],s:"Gesamtbewertung"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allTotalRating:{t:0,b:{t:2,i:[{t:3}],s:"Note"}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise als PDF"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Korrekturen"}},authorizationAuthorizeAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},authorizationAuthorizeAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},authorizationButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Note vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie einen Gutachten-Text ein."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Vergebene Punktzahl:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsToCommentsAndCriteria:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Anmerkungen und Bewertungskriterien"}]}},authorizationPointsToComments:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Anmerkungen"}]}},authorizationPointsToCriteria:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Bewertungskriterien"}]}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("},{t:5,i:0},{t:3,v:") ab!"}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Freigabe wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur freigeben?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" freigeben"}]}},correctorsFirstCorrector:{t:0,b:{t:2,i:[{t:3}],s:"(Erstkorrektur)"}},correctorsLastCorrector:{t:0,b:{t:2,i:[{t:3}],s:"(Endkorrektur)"}},correctorsSecondCorrector:{t:0,b:{t:2,i:[{t:3}],s:"(Zweitkorrektur)"}},correctorsNthCorrector:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:". Korrektur"}]}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigazionsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyF1:{t:0,b:{t:2,i:[{t:3}],s:"F1"}},helpKeyF1InSnippets:{t:0,b:{t:2,i:[{t:3}],s:"F1 in Textbaustein-Auswahl"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpSnippetsApply:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein bernehmen"}},helpSnippetsOpen:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein auswhlen"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- freigegeben"}},itemsSuffixFinalised:{t:0,b:{t:2,i:[{t:3}],s:"- abgeschlossen"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten nderungen zu diesem Teilnehmer konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrectors:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentSum:{t:0,b:{t:2,i:[{t:3}],s:"Summe:"}},markingCommentsCriteriaCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingCommentCriteriaPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentCriteriaSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralCriteriaMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},markingGeneralCriteriaCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingOpenSnippets:{t:0,b:{t:2,i:[{t:3}],s:"Textbausteine (F1)"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},otherSummaryNotAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Diese Korrektur ist noch nicht freigegeben."}},ownSummaryIncludesCommentPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Anmerkungen"}},ownSummaryIncludesCommentPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt."}},ownSummaryIncludesCriteriaPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kriterienpunkte"}},ownSummaryIncludesCriteriaPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird eine Tabelle mit den Bewertungskriterien und den dafr erreichten Punkten angezeigt."}},ownSummaryIncludesIncludeInfo:{t:0,b:{t:2,i:[{t:3}],s:"informativ"}},ownSummaryIncludesIncludeNot:{t:0,b:{t:2,i:[{t:3}],s:"nicht einbeziehen"}},ownSummaryIncludesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:"bewertungsrelevant"}},ownSummaryIncludesLabelInclude:{t:0,b:{t:2,i:[{t:3}],s:"Dokumentation:"}},ownSummaryIncludesMarksAndComments:{t:0,b:{t:2,i:[{t:3}],s:"Markierungen und Anmerkungstexte"}},ownSummaryIncludesMarksAndCommentsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt."}},ownSummaryIncludesRatings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},ownSummaryIncludesRatingsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt."}},ownSummaryIncludesTitle:{t:0,b:{t:2,i:[{t:3}],s:"In die PDF-Dokumentation der Korrektur einbeziehen"}},ownSummaryIncludesUpdatePreferences:{t:0,b:{t:2,i:[{t:3}],s:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."}},OwnSummaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Vergebene Punktzahl:"}},OwnSummaryPointsGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},OwnSummaryTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Gutachten"}},SendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"nderungen werden gesendet"}},SendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Letzte nderung senden"}},SendingStatusSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsRatings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},settingsRatingPositive:{t:0,b:{t:2,i:[{t:3}],s:"Exzellent"}},settingsRatingNegative:{t:0,b:{t:2,i:[{t:3}],s:"Kardinal"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},snippetsNewSnippet:{t:0,b:{t:2,i:[{t:3}],s:"--- neuer Baustein ---"}},snippetsEdit:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeiten:"}},snippetsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen:"}},snippetsSnippet:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der Daten ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentLoadItemError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentMyCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Meine Korrekturen"}},startupContentDataReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:"}},startupContentDataReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?"}},startupContentDeleteAndLoad:{t:0,b:{t:2,i:[{t:3}],s:"Verwerfen und Laden"}},startupContentItemReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:"}},startupContentItemReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen."}},startupContentDeleteLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Lokale Daten verwerfen"}},startupContentKeepLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Mit lokalen Daten weiter arbeiten"}},stichDecision:{t:0,b:{t:2,i:[{t:3}],s:"Stichentscheid"}},stitchDecisionInfo:{t:0,b:{t:2,i:[{t:3}],s:"Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen."}},stitchDecisionComment:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung:"}},stitchDecisionFinalPoints:{t:0,b:{t:2,i:[{t:3}],s:"Finale Punkte:"}},stitchDecisionMaxPoints:{t:0,b:{t:2,i:[{t:3}],s:"Maximale Punkte:"}},stitchDecisionMinPoints:{t:0,b:{t:2,i:[{t:3}],s:"Minimale Punkte:"}},stitchDecisionSaveAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Festlegen und Schlieen"}},stitchDecisionSaveAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Festlegen und Weiter"}},stitchDecisionSendFailure:{t:0,b:{t:2,i:[{t:3}],s:"Ihr Stichentscheid konnte nicht bertragen werden. Bitte versuchen Sie es spter noch einmal."}},sumOfPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Summe der vergebenen Teilpunkte: "}},sumOfPointsToCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Kriterien bei Anmerkungen)"}},sumOfPointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Anmerkungen)"}},sumOfPointsNCommentCriteriaMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Kriterien bei Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},sumOfPointsNCommentsMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},summariesIncludeComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungstexte"}},summariesIncludeInformative:{t:0,b:{t:2,i:[{t:3}],s:" (i)"}},summariesIncludeNoDetails:{t:0,b:{t:2,i:[{t:3}],s:"keine Detail-Informationen"}},summariesIncludePointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungspunkte"}},summariesIncludePointsToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Kriterienpunkte"}},summariesIncludeRatings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summariesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:" (r)"}},summariesNoGrade:{t:0,b:{t:2,i:[{t:3}],s:"ohne Note"}},summariesPointsDifferenceExceedsN:{t:0,b:{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:5,i:0},{t:3,v:" Punkte"}]}},summariesPointsAverageIsNotInteger:{t:0,b:{t:2,i:[{t:3,v:"Der Punktedurchschnitt "},{t:5,i:0},{t:3,v:" ist keine ganze Zahl!"}]}},summaryCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte bei Anmerkungen"}},summaryCriteriaGeneralCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Teilpunkte (Kopfnoten)"}},summaryCriteriaMarkings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summaryCriteriaNumber:{t:0,b:{t:2,i:[{t:3}],s:"Anzahl"}},summaryCriteriaPointsInComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungspunkte"}},summaryCriteriaPointsOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Punkte /max"}},summaryCriteriaRating:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},summaryOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht Teilbewertungen"}},summaryPointsGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},summaryPointsInclude:{t:0,b:{t:2,i:[{t:3}],s:"Dokumentation:"}},summaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Vergebene Punktzahl:"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Editor"}}}}),c1=Dbe({locale:"de",messages:Lbe});function Mbe(t){t.use(qhe).use(npe).use(c1)}var IB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DB(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var _Y;function Bbe(){return _Y||(_Y=1,function(t,s){(function(i){t.exports=i()})(function(){return function i(u,m,h){function x(D,I){if(!m[D]){if(!u[D]){var P=typeof DB=="function"&&DB;if(!I&&P)return P(D,!0);if(w)return w(D,!0);var z=new Error("Cannot find module '"+D+"'");throw z.code="MODULE_NOT_FOUND",z}var K=m[D]={exports:{}};u[D][0].call(K.exports,function(W){var J=u[D][1][W];return x(J||W)},K,K.exports,i,u,m,h)}return m[D].exports}for(var w=typeof DB=="function"&&DB,T=0;T<h.length;T++)x(h[T]);return x}({1:[function(i,u,m){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,w;if(x){var T=0,D=new x(W),I=h.document.createTextNode("");D.observe(I,{characterData:!0}),w=function(){I.data=T=++T%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var P=new h.MessageChannel;P.port1.onmessage=W,w=function(){P.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?w=function(){var oe=h.document.createElement("script");oe.onreadystatechange=function(){W(),oe.onreadystatechange=null,oe.parentNode.removeChild(oe),oe=null},h.document.documentElement.appendChild(oe)}:w=function(){setTimeout(W,0)};var z,K=[];function W(){z=!0;for(var oe,U,he=K.length;he;){for(U=K,K=[],oe=-1;++oe<he;)U[oe]();he=K.length}z=!1}u.exports=J;function J(oe){K.push(oe)===1&&!z&&w()}}).call(this,typeof IB<"u"?IB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,m){var h=i(1);function x(){}var w={},T=["REJECTED"],D=["FULFILLED"],I=["PENDING"];u.exports=P;function P(de){if(typeof de!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,de!==x&&J(this,de)}P.prototype.catch=function(de){return this.then(null,de)},P.prototype.then=function(de,re){if(typeof de!="function"&&this.state===D||typeof re!="function"&&this.state===T)return this;var Ve=new this.constructor(x);if(this.state!==I){var Me=this.state===D?de:re;K(Ve,Me,this.outcome)}else this.queue.push(new z(Ve,de,re));return Ve};function z(de,re,Ve){this.promise=de,typeof re=="function"&&(this.onFulfilled=re,this.callFulfilled=this.otherCallFulfilled),typeof Ve=="function"&&(this.onRejected=Ve,this.callRejected=this.otherCallRejected)}z.prototype.callFulfilled=function(de){w.resolve(this.promise,de)},z.prototype.otherCallFulfilled=function(de){K(this.promise,this.onFulfilled,de)},z.prototype.callRejected=function(de){w.reject(this.promise,de)},z.prototype.otherCallRejected=function(de){K(this.promise,this.onRejected,de)};function K(de,re,Ve){h(function(){var Me;try{Me=re(Ve)}catch(Ye){return w.reject(de,Ye)}Me===de?w.reject(de,new TypeError("Cannot resolve promise with itself")):w.resolve(de,Me)})}w.resolve=function(de,re){var Ve=oe(W,re);if(Ve.status==="error")return w.reject(de,Ve.value);var Me=Ve.value;if(Me)J(de,Me);else{de.state=D,de.outcome=re;for(var Ye=-1,it=de.queue.length;++Ye<it;)de.queue[Ye].callFulfilled(re)}return de},w.reject=function(de,re){de.state=T,de.outcome=re;for(var Ve=-1,Me=de.queue.length;++Ve<Me;)de.queue[Ve].callRejected(re);return de};function W(de){var re=de&&de.then;if(de&&(typeof de=="object"||typeof de=="function")&&typeof re=="function")return function(){re.apply(de,arguments)}}function J(de,re){var Ve=!1;function Me(ze){Ve||(Ve=!0,w.reject(de,ze))}function Ye(ze){Ve||(Ve=!0,w.resolve(de,ze))}function it(){re(Ye,Me)}var Ae=oe(it);Ae.status==="error"&&Me(Ae.value)}function oe(de,re){var Ve={};try{Ve.value=de(re),Ve.status="success"}catch(Me){Ve.status="error",Ve.value=Me}return Ve}P.resolve=U;function U(de){return de instanceof this?de:w.resolve(new this(x),de)}P.reject=he;function he(de){var re=new this(x);return w.reject(re,de)}P.all=ue;function ue(de){var re=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=de.length,Me=!1;if(!Ve)return this.resolve([]);for(var Ye=new Array(Ve),it=0,Ae=-1,ze=new this(x);++Ae<Ve;)R(de[Ae],Ae);return ze;function R(Fe,Ze){re.resolve(Fe).then(Ot,function(Gt){Me||(Me=!0,w.reject(ze,Gt))});function Ot(Gt){Ye[Ze]=Gt,++it===Ve&&!Me&&(Me=!0,w.resolve(ze,Ye))}}}P.race=Z;function Z(de){var re=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=de.length,Me=!1;if(!Ve)return this.resolve([]);for(var Ye=-1,it=new this(x);++Ye<Ve;)Ae(de[Ye]);return it;function Ae(ze){re.resolve(ze).then(function(R){Me||(Me=!0,w.resolve(it,R))},function(R){Me||(Me=!0,w.reject(it,R))})}}},{1:1}],3:[function(i,u,m){(function(h){typeof h.Promise!="function"&&(h.Promise=i(2))}).call(this,typeof IB<"u"?IB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,m){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie};function x(Ie,at){if(!(Ie instanceof at))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var T=w();function D(){try{if(!T||!T.open)return!1;var Ie=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),at=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Ie||at)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(Ie,at){Ie=Ie||[],at=at||{};try{return new Blob(Ie,at)}catch(rt){if(rt.name!=="TypeError")throw rt;for(var He=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,yt=new He,pt=0;pt<Ie.length;pt+=1)yt.append(Ie[pt]);return yt.getBlob(at.type)}}typeof Promise>"u"&&i(3);var P=Promise;function z(Ie,at){at&&Ie.then(function(He){at(null,He)},function(He){at(He)})}function K(Ie,at,He){typeof at=="function"&&Ie.then(at),typeof He=="function"&&Ie.catch(He)}function W(Ie){return typeof Ie!="string"&&(console.warn(Ie+" used as a key, but it is not a string."),Ie=String(Ie)),Ie}function J(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var oe="local-forage-detect-blob-support",U=void 0,he={},ue=Object.prototype.toString,Z="readonly",de="readwrite";function re(Ie){for(var at=Ie.length,He=new ArrayBuffer(at),yt=new Uint8Array(He),pt=0;pt<at;pt++)yt[pt]=Ie.charCodeAt(pt);return He}function Ve(Ie){return new P(function(at){var He=Ie.transaction(oe,de),yt=I([""]);He.objectStore(oe).put(yt,"key"),He.onabort=function(pt){pt.preventDefault(),pt.stopPropagation(),at(!1)},He.oncomplete=function(){var pt=navigator.userAgent.match(/Chrome\/(\d+)/),rt=navigator.userAgent.match(/Edge\//);at(rt||!pt||parseInt(pt[1],10)>=43)}}).catch(function(){return!1})}function Me(Ie){return typeof U=="boolean"?P.resolve(U):Ve(Ie).then(function(at){return U=at,U})}function Ye(Ie){var at=he[Ie.name],He={};He.promise=new P(function(yt,pt){He.resolve=yt,He.reject=pt}),at.deferredOperations.push(He),at.dbReady?at.dbReady=at.dbReady.then(function(){return He.promise}):at.dbReady=He.promise}function it(Ie){var at=he[Ie.name],He=at.deferredOperations.pop();if(He)return He.resolve(),He.promise}function Ae(Ie,at){var He=he[Ie.name],yt=He.deferredOperations.pop();if(yt)return yt.reject(at),yt.promise}function ze(Ie,at){return new P(function(He,yt){if(he[Ie.name]=he[Ie.name]||Pe(),Ie.db)if(at)Ye(Ie),Ie.db.close();else return He(Ie.db);var pt=[Ie.name];at&&pt.push(Ie.version);var rt=T.open.apply(T,pt);at&&(rt.onupgradeneeded=function(qt){var an=rt.result;try{an.createObjectStore(Ie.storeName),qt.oldVersion<=1&&an.createObjectStore(oe)}catch(mn){if(mn.name==="ConstraintError")console.warn('The database "'+Ie.name+'" has been upgraded from version '+qt.oldVersion+" to version "+qt.newVersion+', but the storage "'+Ie.storeName+'" already exists.');else throw mn}}),rt.onerror=function(qt){qt.preventDefault(),yt(rt.error)},rt.onsuccess=function(){var qt=rt.result;qt.onversionchange=function(an){an.target.close()},He(qt),it(Ie)}})}function R(Ie){return ze(Ie,!1)}function Fe(Ie){return ze(Ie,!0)}function Ze(Ie,at){if(!Ie.db)return!0;var He=!Ie.db.objectStoreNames.contains(Ie.storeName),yt=Ie.version<Ie.db.version,pt=Ie.version>Ie.db.version;if(yt&&(Ie.version!==at&&console.warn('The database "'+Ie.name+`" can't be downgraded from version `+Ie.db.version+" to version "+Ie.version+"."),Ie.version=Ie.db.version),pt||He){if(He){var rt=Ie.db.version+1;rt>Ie.version&&(Ie.version=rt)}return!0}return!1}function Ot(Ie){return new P(function(at,He){var yt=new FileReader;yt.onerror=He,yt.onloadend=function(pt){var rt=btoa(pt.target.result||"");at({__local_forage_encoded_blob:!0,data:rt,type:Ie.type})},yt.readAsBinaryString(Ie)})}function Gt(Ie){var at=re(atob(Ie.data));return I([at],{type:Ie.type})}function ut(Ie){return Ie&&Ie.__local_forage_encoded_blob}function kn(Ie){var at=this,He=at._initReady().then(function(){var yt=he[at._dbInfo.name];if(yt&&yt.dbReady)return yt.dbReady});return K(He,Ie,Ie),He}function Et(Ie){Ye(Ie);for(var at=he[Ie.name],He=at.forages,yt=0;yt<He.length;yt++){var pt=He[yt];pt._dbInfo.db&&(pt._dbInfo.db.close(),pt._dbInfo.db=null)}return Ie.db=null,R(Ie).then(function(rt){return Ie.db=rt,Ze(Ie)?Fe(Ie):rt}).then(function(rt){Ie.db=at.db=rt;for(var qt=0;qt<He.length;qt++)He[qt]._dbInfo.db=rt}).catch(function(rt){throw Ae(Ie,rt),rt})}function tt(Ie,at,He,yt){yt===void 0&&(yt=1);try{var pt=Ie.db.transaction(Ie.storeName,at);He(null,pt)}catch(rt){if(yt>0&&(!Ie.db||rt.name==="InvalidStateError"||rt.name==="NotFoundError"))return P.resolve().then(function(){if(!Ie.db||rt.name==="NotFoundError"&&!Ie.db.objectStoreNames.contains(Ie.storeName)&&Ie.version<=Ie.db.version)return Ie.db&&(Ie.version=Ie.db.version+1),Fe(Ie)}).then(function(){return Et(Ie).then(function(){tt(Ie,at,He,yt-1)})}).catch(He);He(rt)}}function Pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function mt(Ie){var at=this,He={db:null};if(Ie)for(var yt in Ie)He[yt]=Ie[yt];var pt=he[He.name];pt||(pt=Pe(),he[He.name]=pt),pt.forages.push(at),at._initReady||(at._initReady=at.ready,at.ready=kn);var rt=[];function qt(){return P.resolve()}for(var an=0;an<pt.forages.length;an++){var mn=pt.forages[an];mn!==at&&rt.push(mn._initReady().catch(qt))}var Cn=pt.forages.slice(0);return P.all(rt).then(function(){return He.db=pt.db,R(He)}).then(function(dn){return He.db=dn,Ze(He,at._defaultConfig.version)?Fe(He):dn}).then(function(dn){He.db=pt.db=dn,at._dbInfo=He;for(var _o=0;_o<Cn.length;_o++){var cn=Cn[_o];cn!==at&&(cn._dbInfo.db=He.db,cn._dbInfo.version=He.version)}})}function po(Ie,at){var He=this;Ie=W(Ie);var yt=new P(function(pt,rt){He.ready().then(function(){tt(He._dbInfo,Z,function(qt,an){if(qt)return rt(qt);try{var mn=an.objectStore(He._dbInfo.storeName),Cn=mn.get(Ie);Cn.onsuccess=function(){var dn=Cn.result;dn===void 0&&(dn=null),ut(dn)&&(dn=Gt(dn)),pt(dn)},Cn.onerror=function(){rt(Cn.error)}}catch(dn){rt(dn)}})}).catch(rt)});return z(yt,at),yt}function Ht(Ie,at){var He=this,yt=new P(function(pt,rt){He.ready().then(function(){tt(He._dbInfo,Z,function(qt,an){if(qt)return rt(qt);try{var mn=an.objectStore(He._dbInfo.storeName),Cn=mn.openCursor(),dn=1;Cn.onsuccess=function(){var _o=Cn.result;if(_o){var cn=_o.value;ut(cn)&&(cn=Gt(cn));var Tr=Ie(cn,_o.key,dn++);Tr!==void 0?pt(Tr):_o.continue()}else pt()},Cn.onerror=function(){rt(Cn.error)}}catch(_o){rt(_o)}})}).catch(rt)});return z(yt,at),yt}function On(Ie,at,He){var yt=this;Ie=W(Ie);var pt=new P(function(rt,qt){var an;yt.ready().then(function(){return an=yt._dbInfo,ue.call(at)==="[object Blob]"?Me(an.db).then(function(mn){return mn?at:Ot(at)}):at}).then(function(mn){tt(yt._dbInfo,de,function(Cn,dn){if(Cn)return qt(Cn);try{var _o=dn.objectStore(yt._dbInfo.storeName);mn===null&&(mn=void 0);var cn=_o.put(mn,Ie);dn.oncomplete=function(){mn===void 0&&(mn=null),rt(mn)},dn.onabort=dn.onerror=function(){var Tr=cn.error?cn.error:cn.transaction.error;qt(Tr)}}catch(Tr){qt(Tr)}})}).catch(qt)});return z(pt,He),pt}function nn(Ie,at){var He=this;Ie=W(Ie);var yt=new P(function(pt,rt){He.ready().then(function(){tt(He._dbInfo,de,function(qt,an){if(qt)return rt(qt);try{var mn=an.objectStore(He._dbInfo.storeName),Cn=mn.delete(Ie);an.oncomplete=function(){pt()},an.onerror=function(){rt(Cn.error)},an.onabort=function(){var dn=Cn.error?Cn.error:Cn.transaction.error;rt(dn)}}catch(dn){rt(dn)}})}).catch(rt)});return z(yt,at),yt}function Q(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){tt(at._dbInfo,de,function(rt,qt){if(rt)return pt(rt);try{var an=qt.objectStore(at._dbInfo.storeName),mn=an.clear();qt.oncomplete=function(){yt()},qt.onabort=qt.onerror=function(){var Cn=mn.error?mn.error:mn.transaction.error;pt(Cn)}}catch(Cn){pt(Cn)}})}).catch(pt)});return z(He,Ie),He}function co(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){tt(at._dbInfo,Z,function(rt,qt){if(rt)return pt(rt);try{var an=qt.objectStore(at._dbInfo.storeName),mn=an.count();mn.onsuccess=function(){yt(mn.result)},mn.onerror=function(){pt(mn.error)}}catch(Cn){pt(Cn)}})}).catch(pt)});return z(He,Ie),He}function Kt(Ie,at){var He=this,yt=new P(function(pt,rt){if(Ie<0){pt(null);return}He.ready().then(function(){tt(He._dbInfo,Z,function(qt,an){if(qt)return rt(qt);try{var mn=an.objectStore(He._dbInfo.storeName),Cn=!1,dn=mn.openKeyCursor();dn.onsuccess=function(){var _o=dn.result;if(!_o){pt(null);return}Ie===0||Cn?pt(_o.key):(Cn=!0,_o.advance(Ie))},dn.onerror=function(){rt(dn.error)}}catch(_o){rt(_o)}})}).catch(rt)});return z(yt,at),yt}function pn(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){tt(at._dbInfo,Z,function(rt,qt){if(rt)return pt(rt);try{var an=qt.objectStore(at._dbInfo.storeName),mn=an.openKeyCursor(),Cn=[];mn.onsuccess=function(){var dn=mn.result;if(!dn){yt(Cn);return}Cn.push(dn.key),dn.continue()},mn.onerror=function(){pt(mn.error)}}catch(dn){pt(dn)}})}).catch(pt)});return z(He,Ie),He}function je(Ie,at){at=J.apply(this,arguments);var He=this.config();Ie=typeof Ie!="function"&&Ie||{},Ie.name||(Ie.name=Ie.name||He.name,Ie.storeName=Ie.storeName||He.storeName);var yt=this,pt;if(!Ie.name)pt=P.reject("Invalid arguments");else{var rt=Ie.name===He.name&&yt._dbInfo.db,qt=rt?P.resolve(yt._dbInfo.db):R(Ie).then(function(an){var mn=he[Ie.name],Cn=mn.forages;mn.db=an;for(var dn=0;dn<Cn.length;dn++)Cn[dn]._dbInfo.db=an;return an});Ie.storeName?pt=qt.then(function(an){if(an.objectStoreNames.contains(Ie.storeName)){var mn=an.version+1;Ye(Ie);var Cn=he[Ie.name],dn=Cn.forages;an.close();for(var _o=0;_o<dn.length;_o++){var cn=dn[_o];cn._dbInfo.db=null,cn._dbInfo.version=mn}var Tr=new P(function(Ko,Qo){var Bs=T.open(Ie.name,mn);Bs.onerror=function(Ro){var Jl=Bs.result;Jl.close(),Qo(Ro)},Bs.onupgradeneeded=function(){var Ro=Bs.result;Ro.deleteObjectStore(Ie.storeName)},Bs.onsuccess=function(){var Ro=Bs.result;Ro.close(),Ko(Ro)}});return Tr.then(function(Ko){Cn.db=Ko;for(var Qo=0;Qo<dn.length;Qo++){var Bs=dn[Qo];Bs._dbInfo.db=Ko,it(Bs._dbInfo)}}).catch(function(Ko){throw(Ae(Ie,Ko)||P.resolve()).catch(function(){}),Ko})}}):pt=qt.then(function(an){Ye(Ie);var mn=he[Ie.name],Cn=mn.forages;an.close();for(var dn=0;dn<Cn.length;dn++){var _o=Cn[dn];_o._dbInfo.db=null}var cn=new P(function(Tr,Ko){var Qo=T.deleteDatabase(Ie.name);Qo.onerror=function(){var Bs=Qo.result;Bs&&Bs.close(),Ko(Qo.error)},Qo.onblocked=function(){console.warn('dropInstance blocked for database "'+Ie.name+'" until all open connections are closed')},Qo.onsuccess=function(){var Bs=Qo.result;Bs&&Bs.close(),Tr(Bs)}});return cn.then(function(Tr){mn.db=Tr;for(var Ko=0;Ko<Cn.length;Ko++){var Qo=Cn[Ko];it(Qo._dbInfo)}}).catch(function(Tr){throw(Ae(Ie,Tr)||P.resolve()).catch(function(){}),Tr})})}return z(pt,at),pt}var nt={_driver:"asyncStorage",_initStorage:mt,_support:D(),iterate:Ht,getItem:po,setItem:On,removeItem:nn,clear:Q,length:co,key:Kt,keys:pn,dropInstance:je};function xe(){return typeof openDatabase=="function"}var Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",be=/^~~local_forage_type~([^~]+)~/,Ce="__lfsc__:",Re=Ce.length,qe="arbf",ht="blob",sn="si08",Ut="ui08",bn="uic8",qn="si16",eo="si32",Fo="ur16",Do="ui32",Zr="fl32",cr="fl64",ti=Re+qe.length,xr=Object.prototype.toString;function ji(Ie){var at=Ie.length*.75,He=Ie.length,yt,pt=0,rt,qt,an,mn;Ie[Ie.length-1]==="="&&(at--,Ie[Ie.length-2]==="="&&at--);var Cn=new ArrayBuffer(at),dn=new Uint8Array(Cn);for(yt=0;yt<He;yt+=4)rt=Te.indexOf(Ie[yt]),qt=Te.indexOf(Ie[yt+1]),an=Te.indexOf(Ie[yt+2]),mn=Te.indexOf(Ie[yt+3]),dn[pt++]=rt<<2|qt>>4,dn[pt++]=(qt&15)<<4|an>>2,dn[pt++]=(an&3)<<6|mn&63;return Cn}function En(Ie){var at=new Uint8Array(Ie),He="",yt;for(yt=0;yt<at.length;yt+=3)He+=Te[at[yt]>>2],He+=Te[(at[yt]&3)<<4|at[yt+1]>>4],He+=Te[(at[yt+1]&15)<<2|at[yt+2]>>6],He+=Te[at[yt+2]&63];return at.length%3===2?He=He.substring(0,He.length-1)+"=":at.length%3===1&&(He=He.substring(0,He.length-2)+"=="),He}function uo(Ie,at){var He="";if(Ie&&(He=xr.call(Ie)),Ie&&(He==="[object ArrayBuffer]"||Ie.buffer&&xr.call(Ie.buffer)==="[object ArrayBuffer]")){var yt,pt=Ce;Ie instanceof ArrayBuffer?(yt=Ie,pt+=qe):(yt=Ie.buffer,He==="[object Int8Array]"?pt+=sn:He==="[object Uint8Array]"?pt+=Ut:He==="[object Uint8ClampedArray]"?pt+=bn:He==="[object Int16Array]"?pt+=qn:He==="[object Uint16Array]"?pt+=Fo:He==="[object Int32Array]"?pt+=eo:He==="[object Uint32Array]"?pt+=Do:He==="[object Float32Array]"?pt+=Zr:He==="[object Float64Array]"?pt+=cr:at(new Error("Failed to get type for BinaryArray"))),at(pt+En(yt))}else if(He==="[object Blob]"){var rt=new FileReader;rt.onload=function(){var qt=$e+Ie.type+"~"+En(this.result);at(Ce+ht+qt)},rt.readAsArrayBuffer(Ie)}else try{at(JSON.stringify(Ie))}catch(qt){console.error("Couldn't convert value into a JSON string: ",Ie),at(null,qt)}}function Oo(Ie){if(Ie.substring(0,Re)!==Ce)return JSON.parse(Ie);var at=Ie.substring(ti),He=Ie.substring(Re,ti),yt;if(He===ht&&be.test(at)){var pt=at.match(be);yt=pt[1],at=at.substring(pt[0].length)}var rt=ji(at);switch(He){case qe:return rt;case ht:return I([rt],{type:yt});case sn:return new Int8Array(rt);case Ut:return new Uint8Array(rt);case bn:return new Uint8ClampedArray(rt);case qn:return new Int16Array(rt);case Fo:return new Uint16Array(rt);case eo:return new Int32Array(rt);case Do:return new Uint32Array(rt);case Zr:return new Float32Array(rt);case cr:return new Float64Array(rt);default:throw new Error("Unkown type: "+He)}}var ci={serialize:uo,deserialize:Oo,stringToBuffer:ji,bufferToString:En};function tl(Ie,at,He,yt){Ie.executeSql("CREATE TABLE IF NOT EXISTS "+at.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],He,yt)}function Xt(Ie){var at=this,He={db:null};if(Ie)for(var yt in Ie)He[yt]=typeof Ie[yt]!="string"?Ie[yt].toString():Ie[yt];var pt=new P(function(rt,qt){try{He.db=openDatabase(He.name,String(He.version),He.description,He.size)}catch(an){return qt(an)}He.db.transaction(function(an){tl(an,He,function(){at._dbInfo=He,rt()},function(mn,Cn){qt(Cn)})},qt)});return He.serializer=ci,pt}function pi(Ie,at,He,yt,pt,rt){Ie.executeSql(He,yt,pt,function(qt,an){an.code===an.SYNTAX_ERR?qt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[at.storeName],function(mn,Cn){Cn.rows.length?rt(mn,an):tl(mn,at,function(){mn.executeSql(He,yt,pt,rt)},rt)},rt):rt(qt,an)},rt)}function ur(Ie,at){var He=this;Ie=W(Ie);var yt=new P(function(pt,rt){He.ready().then(function(){var qt=He._dbInfo;qt.db.transaction(function(an){pi(an,qt,"SELECT * FROM "+qt.storeName+" WHERE key = ? LIMIT 1",[Ie],function(mn,Cn){var dn=Cn.rows.length?Cn.rows.item(0).value:null;dn&&(dn=qt.serializer.deserialize(dn)),pt(dn)},function(mn,Cn){rt(Cn)})})}).catch(rt)});return z(yt,at),yt}function Yl(Ie,at){var He=this,yt=new P(function(pt,rt){He.ready().then(function(){var qt=He._dbInfo;qt.db.transaction(function(an){pi(an,qt,"SELECT * FROM "+qt.storeName,[],function(mn,Cn){for(var dn=Cn.rows,_o=dn.length,cn=0;cn<_o;cn++){var Tr=dn.item(cn),Ko=Tr.value;if(Ko&&(Ko=qt.serializer.deserialize(Ko)),Ko=Ie(Ko,Tr.key,cn+1),Ko!==void 0){pt(Ko);return}}pt()},function(mn,Cn){rt(Cn)})})}).catch(rt)});return z(yt,at),yt}function Wr(Ie,at,He,yt){var pt=this;Ie=W(Ie);var rt=new P(function(qt,an){pt.ready().then(function(){at===void 0&&(at=null);var mn=at,Cn=pt._dbInfo;Cn.serializer.serialize(at,function(dn,_o){_o?an(_o):Cn.db.transaction(function(cn){pi(cn,Cn,"INSERT OR REPLACE INTO "+Cn.storeName+" (key, value) VALUES (?, ?)",[Ie,dn],function(){qt(mn)},function(Tr,Ko){an(Ko)})},function(cn){if(cn.code===cn.QUOTA_ERR){if(yt>0){qt(Wr.apply(pt,[Ie,mn,He,yt-1]));return}an(cn)}})})}).catch(an)});return z(rt,He),rt}function ni(Ie,at,He){return Wr.apply(this,[Ie,at,He,1])}function Dm(Ie,at){var He=this;Ie=W(Ie);var yt=new P(function(pt,rt){He.ready().then(function(){var qt=He._dbInfo;qt.db.transaction(function(an){pi(an,qt,"DELETE FROM "+qt.storeName+" WHERE key = ?",[Ie],function(){pt()},function(mn,Cn){rt(Cn)})})}).catch(rt)});return z(yt,at),yt}function Gu(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){var rt=at._dbInfo;rt.db.transaction(function(qt){pi(qt,rt,"DELETE FROM "+rt.storeName,[],function(){yt()},function(an,mn){pt(mn)})})}).catch(pt)});return z(He,Ie),He}function Rc(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){var rt=at._dbInfo;rt.db.transaction(function(qt){pi(qt,rt,"SELECT COUNT(key) as c FROM "+rt.storeName,[],function(an,mn){var Cn=mn.rows.item(0).c;yt(Cn)},function(an,mn){pt(mn)})})}).catch(pt)});return z(He,Ie),He}function xl(Ie,at){var He=this,yt=new P(function(pt,rt){He.ready().then(function(){var qt=He._dbInfo;qt.db.transaction(function(an){pi(an,qt,"SELECT key FROM "+qt.storeName+" WHERE id = ? LIMIT 1",[Ie+1],function(mn,Cn){var dn=Cn.rows.length?Cn.rows.item(0).key:null;pt(dn)},function(mn,Cn){rt(Cn)})})}).catch(rt)});return z(yt,at),yt}function qu(Ie){var at=this,He=new P(function(yt,pt){at.ready().then(function(){var rt=at._dbInfo;rt.db.transaction(function(qt){pi(qt,rt,"SELECT key FROM "+rt.storeName,[],function(an,mn){for(var Cn=[],dn=0;dn<mn.rows.length;dn++)Cn.push(mn.rows.item(dn).key);yt(Cn)},function(an,mn){pt(mn)})})}).catch(pt)});return z(He,Ie),He}function Nr(Ie){return new P(function(at,He){Ie.transaction(function(yt){yt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(pt,rt){for(var qt=[],an=0;an<rt.rows.length;an++)qt.push(rt.rows.item(an).name);at({db:Ie,storeNames:qt})},function(pt,rt){He(rt)})},function(yt){He(yt)})})}function fo(Ie,at){at=J.apply(this,arguments);var He=this.config();Ie=typeof Ie!="function"&&Ie||{},Ie.name||(Ie.name=Ie.name||He.name,Ie.storeName=Ie.storeName||He.storeName);var yt=this,pt;return Ie.name?pt=new P(function(rt){var qt;Ie.name===He.name?qt=yt._dbInfo.db:qt=openDatabase(Ie.name,"","",0),Ie.storeName?rt({db:qt,storeNames:[Ie.storeName]}):rt(Nr(qt))}).then(function(rt){return new P(function(qt,an){rt.db.transaction(function(mn){function Cn(Tr){return new P(function(Ko,Qo){mn.executeSql("DROP TABLE IF EXISTS "+Tr,[],function(){Ko()},function(Bs,Ro){Qo(Ro)})})}for(var dn=[],_o=0,cn=rt.storeNames.length;_o<cn;_o++)dn.push(Cn(rt.storeNames[_o]));P.all(dn).then(function(){qt()}).catch(function(Tr){an(Tr)})},function(mn){an(mn)})})}):pt=P.reject("Invalid arguments"),z(pt,at),pt}var Xl={_driver:"webSQLStorage",_initStorage:Xt,_support:xe(),iterate:Yl,getItem:ur,setItem:ni,removeItem:Dm,clear:Gu,length:Rc,key:xl,keys:qu,dropInstance:fo};function Di(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Yu(Ie,at){var He=Ie.name+"/";return Ie.storeName!==at.storeName&&(He+=Ie.storeName+"/"),He}function un(){var Ie="_localforage_support_test";try{return localStorage.setItem(Ie,!0),localStorage.removeItem(Ie),!1}catch{return!0}}function Xu(){return!un()||localStorage.length>0}function Rm(Ie){var at=this,He={};if(Ie)for(var yt in Ie)He[yt]=Ie[yt];return He.keyPrefix=Yu(Ie,at._defaultConfig),Xu()?(at._dbInfo=He,He.serializer=ci,P.resolve()):P.reject()}function ps(Ie){var at=this,He=at.ready().then(function(){for(var yt=at._dbInfo.keyPrefix,pt=localStorage.length-1;pt>=0;pt--){var rt=localStorage.key(pt);rt.indexOf(yt)===0&&localStorage.removeItem(rt)}});return z(He,Ie),He}function Nm(Ie,at){var He=this;Ie=W(Ie);var yt=He.ready().then(function(){var pt=He._dbInfo,rt=localStorage.getItem(pt.keyPrefix+Ie);return rt&&(rt=pt.serializer.deserialize(rt)),rt});return z(yt,at),yt}function nl(Ie,at){var He=this,yt=He.ready().then(function(){for(var pt=He._dbInfo,rt=pt.keyPrefix,qt=rt.length,an=localStorage.length,mn=1,Cn=0;Cn<an;Cn++){var dn=localStorage.key(Cn);if(dn.indexOf(rt)===0){var _o=localStorage.getItem(dn);if(_o&&(_o=pt.serializer.deserialize(_o)),_o=Ie(_o,dn.substring(qt),mn++),_o!==void 0)return _o}}});return z(yt,at),yt}function zl(Ie,at){var He=this,yt=He.ready().then(function(){var pt=He._dbInfo,rt;try{rt=localStorage.key(Ie)}catch{rt=null}return rt&&(rt=rt.substring(pt.keyPrefix.length)),rt});return z(yt,at),yt}function wl(Ie){var at=this,He=at.ready().then(function(){for(var yt=at._dbInfo,pt=localStorage.length,rt=[],qt=0;qt<pt;qt++){var an=localStorage.key(qt);an.indexOf(yt.keyPrefix)===0&&rt.push(an.substring(yt.keyPrefix.length))}return rt});return z(He,Ie),He}function ls(Ie){var at=this,He=at.keys().then(function(yt){return yt.length});return z(He,Ie),He}function ka(Ie,at){var He=this;Ie=W(Ie);var yt=He.ready().then(function(){var pt=He._dbInfo;localStorage.removeItem(pt.keyPrefix+Ie)});return z(yt,at),yt}function Hl(Ie,at,He){var yt=this;Ie=W(Ie);var pt=yt.ready().then(function(){at===void 0&&(at=null);var rt=at;return new P(function(qt,an){var mn=yt._dbInfo;mn.serializer.serialize(at,function(Cn,dn){if(dn)an(dn);else try{localStorage.setItem(mn.keyPrefix+Ie,Cn),qt(rt)}catch(_o){(_o.name==="QuotaExceededError"||_o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&an(_o),an(_o)}})})});return z(pt,He),pt}function Pm(Ie,at){if(at=J.apply(this,arguments),Ie=typeof Ie!="function"&&Ie||{},!Ie.name){var He=this.config();Ie.name=Ie.name||He.name,Ie.storeName=Ie.storeName||He.storeName}var yt=this,pt;return Ie.name?pt=new P(function(rt){Ie.storeName?rt(Yu(Ie,yt._defaultConfig)):rt(Ie.name+"/")}).then(function(rt){for(var qt=localStorage.length-1;qt>=0;qt--){var an=localStorage.key(qt);an.indexOf(rt)===0&&localStorage.removeItem(an)}}):pt=P.reject("Invalid arguments"),z(pt,at),pt}var au={_driver:"localStorageWrapper",_initStorage:Rm,_support:Di(),iterate:nl,getItem:Nm,setItem:Hl,removeItem:ka,clear:ps,length:ls,key:zl,keys:wl,dropInstance:Pm},lu=function(at,He){return at===He||typeof at=="number"&&typeof He=="number"&&isNaN(at)&&isNaN(He)},Ef=function(at,He){for(var yt=at.length,pt=0;pt<yt;){if(lu(at[pt],He))return!0;pt++}return!1},$d=Array.isArray||function(Ie){return Object.prototype.toString.call(Ie)==="[object Array]"},dr={},Ms={},ui={INDEXEDDB:nt,WEBSQL:Xl,LOCALSTORAGE:au},Lm=[ui.INDEXEDDB._driver,ui.WEBSQL._driver,ui.LOCALSTORAGE._driver],ol=["dropInstance"],cu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ol),Ea={description:"",driver:Lm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Aa(Ie,at){Ie[at]=function(){var He=arguments;return Ie.ready().then(function(){return Ie[at].apply(Ie,He)})}}function uu(){for(var Ie=1;Ie<arguments.length;Ie++){var at=arguments[Ie];if(at)for(var He in at)at.hasOwnProperty(He)&&($d(at[He])?arguments[0][He]=at[He].slice():arguments[0][He]=at[He])}return arguments[0]}var Mr=function(){function Ie(at){x(this,Ie);for(var He in ui)if(ui.hasOwnProperty(He)){var yt=ui[He],pt=yt._driver;this[He]=pt,dr[pt]||this.defineDriver(yt)}this._defaultConfig=uu({},Ea),this._config=uu({},this._defaultConfig,at),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ie.prototype.config=function(He){if((typeof He>"u"?"undefined":h(He))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var yt in He){if(yt==="storeName"&&(He[yt]=He[yt].replace(/\W/g,"_")),yt==="version"&&typeof He[yt]!="number")return new Error("Database version must be a number.");this._config[yt]=He[yt]}return"driver"in He&&He.driver?this.setDriver(this._config.driver):!0}else return typeof He=="string"?this._config[He]:this._config},Ie.prototype.defineDriver=function(He,yt,pt){var rt=new P(function(qt,an){try{var mn=He._driver,Cn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!He._driver){an(Cn);return}for(var dn=cu.concat("_initStorage"),_o=0,cn=dn.length;_o<cn;_o++){var Tr=dn[_o],Ko=!Ef(ol,Tr);if((Ko||He[Tr])&&typeof He[Tr]!="function"){an(Cn);return}}var Qo=function(){for(var Jl=function(Ts){return function(){var Af=new Error("Method "+Ts+" is not implemented by the current driver"),oi=P.reject(Af);return z(oi,arguments[arguments.length-1]),oi}},Ta=0,bo=ol.length;Ta<bo;Ta++){var rl=ol[Ta];He[rl]||(He[rl]=Jl(rl))}};Qo();var Bs=function(Jl){dr[mn]&&console.info("Redefining LocalForage driver: "+mn),dr[mn]=He,Ms[mn]=Jl,qt()};"_support"in He?He._support&&typeof He._support=="function"?He._support().then(Bs,an):Bs(!!He._support):Bs(!0)}catch(Ro){an(Ro)}});return K(rt,yt,pt),rt},Ie.prototype.driver=function(){return this._driver||null},Ie.prototype.getDriver=function(He,yt,pt){var rt=dr[He]?P.resolve(dr[He]):P.reject(new Error("Driver not found."));return K(rt,yt,pt),rt},Ie.prototype.getSerializer=function(He){var yt=P.resolve(ci);return K(yt,He),yt},Ie.prototype.ready=function(He){var yt=this,pt=yt._driverSet.then(function(){return yt._ready===null&&(yt._ready=yt._initDriver()),yt._ready});return K(pt,He,He),pt},Ie.prototype.setDriver=function(He,yt,pt){var rt=this;$d(He)||(He=[He]);var qt=this._getSupportedDrivers(He);function an(){rt._config.driver=rt.driver()}function mn(_o){return rt._extend(_o),an(),rt._ready=rt._initStorage(rt._config),rt._ready}function Cn(_o){return function(){var cn=0;function Tr(){for(;cn<_o.length;){var Ko=_o[cn];return cn++,rt._dbInfo=null,rt._ready=null,rt.getDriver(Ko).then(mn).catch(Tr)}an();var Qo=new Error("No available storage method found.");return rt._driverSet=P.reject(Qo),rt._driverSet}return Tr()}}var dn=this._driverSet!==null?this._driverSet.catch(function(){return P.resolve()}):P.resolve();return this._driverSet=dn.then(function(){var _o=qt[0];return rt._dbInfo=null,rt._ready=null,rt.getDriver(_o).then(function(cn){rt._driver=cn._driver,an(),rt._wrapLibraryMethodsWithReady(),rt._initDriver=Cn(qt)})}).catch(function(){an();var _o=new Error("No available storage method found.");return rt._driverSet=P.reject(_o),rt._driverSet}),K(this._driverSet,yt,pt),this._driverSet},Ie.prototype.supports=function(He){return!!Ms[He]},Ie.prototype._extend=function(He){uu(this,He)},Ie.prototype._getSupportedDrivers=function(He){for(var yt=[],pt=0,rt=He.length;pt<rt;pt++){var qt=He[pt];this.supports(qt)&&yt.push(qt)}return yt},Ie.prototype._wrapLibraryMethodsWithReady=function(){for(var He=0,yt=cu.length;He<yt;He++)Aa(this,cu[He])},Ie.prototype.createInstance=function(He){return new Ie(He)},Ie}(),cs=new Mr;u.exports=cs},{3:3}]},{},[4])(4)})}(tU)),tU.exports}var Fbe=Bbe();const Zu=oK(Fbe);function see(t,s){return function(){return t.apply(s,arguments)}}const{toString:$be}=Object.prototype,{getPrototypeOf:rK}=Object,{iterator:JF,toStringTag:iee}=Symbol,QF=(t=>s=>{const i=$be.call(s);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),bp=t=>(t=t.toLowerCase(),s=>QF(s)===t),e8=t=>s=>typeof s===t,{isArray:LE}=Array,WI=e8("undefined");function Vbe(t){return t!==null&&!WI(t)&&t.constructor!==null&&!WI(t.constructor)&&Sf(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aee=bp("ArrayBuffer");function zbe(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&aee(t.buffer),s}const Hbe=e8("string"),Sf=e8("function"),lee=e8("number"),t8=t=>t!==null&&typeof t=="object",Ube=t=>t===!0||t===!1,GB=t=>{if(QF(t)!=="object")return!1;const s=rK(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(iee in t)&&!(JF in t)},Wbe=bp("Date"),Kbe=bp("File"),jbe=bp("Blob"),Zbe=bp("FileList"),Gbe=t=>t8(t)&&Sf(t.pipe),qbe=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Sf(t.append)&&((s=QF(t))==="formdata"||s==="object"&&Sf(t.toString)&&t.toString()==="[object FormData]"))},Ybe=bp("URLSearchParams"),[Xbe,Jbe,Qbe,eve]=["ReadableStream","Request","Response","Headers"].map(bp),tve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gD(t,s,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let u,m;if(typeof t!="object"&&(t=[t]),LE(t))for(u=0,m=t.length;u<m;u++)s.call(null,t[u],u,t);else{const h=i?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let w;for(u=0;u<x;u++)w=h[u],s.call(null,t[w],w,t)}}function cee(t,s){s=s.toLowerCase();const i=Object.keys(t);let u=i.length,m;for(;u-- >0;)if(m=i[u],s===m.toLowerCase())return m;return null}const DC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uee=t=>!WI(t)&&t!==DC;function rW(){const{caseless:t}=uee(this)&&this||{},s={},i=(u,m)=>{const h=t&&cee(s,m)||m;GB(s[h])&&GB(u)?s[h]=rW(s[h],u):GB(u)?s[h]=rW({},u):LE(u)?s[h]=u.slice():s[h]=u};for(let u=0,m=arguments.length;u<m;u++)arguments[u]&&gD(arguments[u],i);return s}const nve=(t,s,i,{allOwnKeys:u}={})=>(gD(s,(m,h)=>{i&&Sf(m)?t[h]=see(m,i):t[h]=m},{allOwnKeys:u}),t),ove=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rve=(t,s,i,u)=>{t.prototype=Object.create(s.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),i&&Object.assign(t.prototype,i)},sve=(t,s,i,u)=>{let m,h,x;const w={};if(s=s||{},t==null)return s;do{for(m=Object.getOwnPropertyNames(t),h=m.length;h-- >0;)x=m[h],(!u||u(x,t,s))&&!w[x]&&(s[x]=t[x],w[x]=!0);t=i!==!1&&rK(t)}while(t&&(!i||i(t,s))&&t!==Object.prototype);return s},ive=(t,s,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=s.length;const u=t.indexOf(s,i);return u!==-1&&u===i},ave=t=>{if(!t)return null;if(LE(t))return t;let s=t.length;if(!lee(s))return null;const i=new Array(s);for(;s-- >0;)i[s]=t[s];return i},lve=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&rK(Uint8Array)),cve=(t,s)=>{const u=(t&&t[JF]).call(t);let m;for(;(m=u.next())&&!m.done;){const h=m.value;s.call(t,h[0],h[1])}},uve=(t,s)=>{let i;const u=[];for(;(i=t.exec(s))!==null;)u.push(i);return u},dve=bp("HTMLFormElement"),fve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,u,m){return u.toUpperCase()+m}),SY=(({hasOwnProperty:t})=>(s,i)=>t.call(s,i))(Object.prototype),mve=bp("RegExp"),dee=(t,s)=>{const i=Object.getOwnPropertyDescriptors(t),u={};gD(i,(m,h)=>{let x;(x=s(m,h,t))!==!1&&(u[h]=x||m)}),Object.defineProperties(t,u)},gve=t=>{dee(t,(s,i)=>{if(Sf(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const u=t[i];if(Sf(u)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},hve=(t,s)=>{const i={},u=m=>{m.forEach(h=>{i[h]=!0})};return LE(t)?u(t):u(String(t).split(s)),i},pve=()=>{},bve=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function vve(t){return!!(t&&Sf(t.append)&&t[iee]==="FormData"&&t[JF])}const yve=t=>{const s=new Array(10),i=(u,m)=>{if(t8(u)){if(s.indexOf(u)>=0)return;if(!("toJSON"in u)){s[m]=u;const h=LE(u)?[]:{};return gD(u,(x,w)=>{const T=i(x,m+1);!WI(T)&&(h[w]=T)}),s[m]=void 0,h}}return u};return i(t,0)},xve=bp("AsyncFunction"),wve=t=>t&&(t8(t)||Sf(t))&&Sf(t.then)&&Sf(t.catch),fee=((t,s)=>t?setImmediate:s?((i,u)=>(DC.addEventListener("message",({source:m,data:h})=>{m===DC&&h===i&&u.length&&u.shift()()},!1),m=>{u.push(m),DC.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Sf(DC.postMessage)),Cve=typeof queueMicrotask<"u"?queueMicrotask.bind(DC):typeof process<"u"&&process.nextTick||fee,_ve=t=>t!=null&&Sf(t[JF]),Zt={isArray:LE,isArrayBuffer:aee,isBuffer:Vbe,isFormData:qbe,isArrayBufferView:zbe,isString:Hbe,isNumber:lee,isBoolean:Ube,isObject:t8,isPlainObject:GB,isReadableStream:Xbe,isRequest:Jbe,isResponse:Qbe,isHeaders:eve,isUndefined:WI,isDate:Wbe,isFile:Kbe,isBlob:jbe,isRegExp:mve,isFunction:Sf,isStream:Gbe,isURLSearchParams:Ybe,isTypedArray:lve,isFileList:Zbe,forEach:gD,merge:rW,extend:nve,trim:tve,stripBOM:ove,inherits:rve,toFlatObject:sve,kindOf:QF,kindOfTest:bp,endsWith:ive,toArray:ave,forEachEntry:cve,matchAll:uve,isHTMLForm:dve,hasOwnProperty:SY,hasOwnProp:SY,reduceDescriptors:dee,freezeMethods:gve,toObjectSet:hve,toCamelCase:fve,noop:pve,toFiniteNumber:bve,findKey:cee,global:DC,isContextDefined:uee,isSpecCompliantForm:vve,toJSONObject:yve,isAsyncFn:xve,isThenable:wve,setImmediate:fee,asap:Cve,isIterable:_ve};function jr(t,s,i,u,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),i&&(this.config=i),u&&(this.request=u),m&&(this.response=m,this.status=m.status?m.status:null)}Zt.inherits(jr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Zt.toJSONObject(this.config),code:this.code,status:this.status}}});const mee=jr.prototype,gee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gee[t]={value:t}});Object.defineProperties(jr,gee);Object.defineProperty(mee,"isAxiosError",{value:!0});jr.from=(t,s,i,u,m,h)=>{const x=Object.create(mee);return Zt.toFlatObject(t,x,function(T){return T!==Error.prototype},w=>w!=="isAxiosError"),jr.call(x,t.message,s,i,u,m),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const Sve=null;function sW(t){return Zt.isPlainObject(t)||Zt.isArray(t)}function hee(t){return Zt.endsWith(t,"[]")?t.slice(0,-2):t}function kY(t,s,i){return t?t.concat(s).map(function(m,h){return m=hee(m),!i&&h?"["+m+"]":m}).join(i?".":""):s}function kve(t){return Zt.isArray(t)&&!t.some(sW)}const Eve=Zt.toFlatObject(Zt,{},null,function(s){return/^is[A-Z]/.test(s)});function n8(t,s,i){if(!Zt.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,i=Zt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(J,oe){return!Zt.isUndefined(oe[J])});const u=i.metaTokens,m=i.visitor||I,h=i.dots,x=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&Zt.isSpecCompliantForm(s);if(!Zt.isFunction(m))throw new TypeError("visitor must be a function");function D(W){if(W===null)return"";if(Zt.isDate(W))return W.toISOString();if(Zt.isBoolean(W))return W.toString();if(!T&&Zt.isBlob(W))throw new jr("Blob is not supported. Use a Buffer instead.");return Zt.isArrayBuffer(W)||Zt.isTypedArray(W)?T&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function I(W,J,oe){let U=W;if(W&&!oe&&typeof W=="object"){if(Zt.endsWith(J,"{}"))J=u?J:J.slice(0,-2),W=JSON.stringify(W);else if(Zt.isArray(W)&&kve(W)||(Zt.isFileList(W)||Zt.endsWith(J,"[]"))&&(U=Zt.toArray(W)))return J=hee(J),U.forEach(function(ue,Z){!(Zt.isUndefined(ue)||ue===null)&&s.append(x===!0?kY([J],Z,h):x===null?J:J+"[]",D(ue))}),!1}return sW(W)?!0:(s.append(kY(oe,J,h),D(W)),!1)}const P=[],z=Object.assign(Eve,{defaultVisitor:I,convertValue:D,isVisitable:sW});function K(W,J){if(!Zt.isUndefined(W)){if(P.indexOf(W)!==-1)throw Error("Circular reference detected in "+J.join("."));P.push(W),Zt.forEach(W,function(U,he){(!(Zt.isUndefined(U)||U===null)&&m.call(s,U,Zt.isString(he)?he.trim():he,J,z))===!0&&K(U,J?J.concat(he):[he])}),P.pop()}}if(!Zt.isObject(t))throw new TypeError("data must be an object");return K(t),s}function EY(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return s[u]})}function sK(t,s){this._pairs=[],t&&n8(t,this,s)}const pee=sK.prototype;pee.append=function(s,i){this._pairs.push([s,i])};pee.toString=function(s){const i=s?function(u){return s.call(this,u,EY)}:EY;return this._pairs.map(function(m){return i(m[0])+"="+i(m[1])},"").join("&")};function Ave(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bee(t,s,i){if(!s)return t;const u=i&&i.encode||Ave;Zt.isFunction(i)&&(i={serialize:i});const m=i&&i.serialize;let h;if(m?h=m(s,i):h=Zt.isURLSearchParams(s)?s.toString():new sK(s,i).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class AY{constructor(){this.handlers=[]}use(s,i,u){return this.handlers.push({fulfilled:s,rejected:i,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Zt.forEach(this.handlers,function(u){u!==null&&s(u)})}}const vee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tve=typeof URLSearchParams<"u"?URLSearchParams:sK,Ove=typeof FormData<"u"?FormData:null,Ive=typeof Blob<"u"?Blob:null,Dve={isBrowser:!0,classes:{URLSearchParams:Tve,FormData:Ove,Blob:Ive},protocols:["http","https","file","blob","url","data"]},iK=typeof window<"u"&&typeof document<"u",iW=typeof navigator=="object"&&navigator||void 0,Rve=iK&&(!iW||["ReactNative","NativeScript","NS"].indexOf(iW.product)<0),Nve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pve=iK&&window.location.href||"http://localhost",Lve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iK,hasStandardBrowserEnv:Rve,hasStandardBrowserWebWorkerEnv:Nve,navigator:iW,origin:Pve},Symbol.toStringTag,{value:"Module"})),Uu={...Lve,...Dve};function Mve(t,s){return n8(t,new Uu.classes.URLSearchParams,Object.assign({visitor:function(i,u,m,h){return Uu.isNode&&Zt.isBuffer(i)?(this.append(u,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}function Bve(t){return Zt.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Fve(t){const s={},i=Object.keys(t);let u;const m=i.length;let h;for(u=0;u<m;u++)h=i[u],s[h]=t[h];return s}function yee(t){function s(i,u,m,h){let x=i[h++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),T=h>=i.length;return x=!x&&Zt.isArray(m)?m.length:x,T?(Zt.hasOwnProp(m,x)?m[x]=[m[x],u]:m[x]=u,!w):((!m[x]||!Zt.isObject(m[x]))&&(m[x]=[]),s(i,u,m[x],h)&&Zt.isArray(m[x])&&(m[x]=Fve(m[x])),!w)}if(Zt.isFormData(t)&&Zt.isFunction(t.entries)){const i={};return Zt.forEachEntry(t,(u,m)=>{s(Bve(u),m,i,0)}),i}return null}function $ve(t,s,i){if(Zt.isString(t))try{return(s||JSON.parse)(t),Zt.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(i||JSON.stringify)(t)}const hD={transitional:vee,adapter:["xhr","http","fetch"],transformRequest:[function(s,i){const u=i.getContentType()||"",m=u.indexOf("application/json")>-1,h=Zt.isObject(s);if(h&&Zt.isHTMLForm(s)&&(s=new FormData(s)),Zt.isFormData(s))return m?JSON.stringify(yee(s)):s;if(Zt.isArrayBuffer(s)||Zt.isBuffer(s)||Zt.isStream(s)||Zt.isFile(s)||Zt.isBlob(s)||Zt.isReadableStream(s))return s;if(Zt.isArrayBufferView(s))return s.buffer;if(Zt.isURLSearchParams(s))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let w;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Mve(s,this.formSerializer).toString();if((w=Zt.isFileList(s))||u.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return n8(w?{"files[]":s}:s,T&&new T,this.formSerializer)}}return h||m?(i.setContentType("application/json",!1),$ve(s)):s}],transformResponse:[function(s){const i=this.transitional||hD.transitional,u=i&&i.forcedJSONParsing,m=this.responseType==="json";if(Zt.isResponse(s)||Zt.isReadableStream(s))return s;if(s&&Zt.isString(s)&&(u&&!this.responseType||m)){const x=!(i&&i.silentJSONParsing)&&m;try{return JSON.parse(s)}catch(w){if(x)throw w.name==="SyntaxError"?jr.from(w,jr.ERR_BAD_RESPONSE,this,null,this.response):w}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Uu.classes.FormData,Blob:Uu.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Zt.forEach(["delete","get","head","post","put","patch"],t=>{hD.headers[t]={}});const Vve=Zt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zve=t=>{const s={};let i,u,m;return t&&t.split(`
`).forEach(function(x){m=x.indexOf(":"),i=x.substring(0,m).trim().toLowerCase(),u=x.substring(m+1).trim(),!(!i||s[i]&&Vve[i])&&(i==="set-cookie"?s[i]?s[i].push(u):s[i]=[u]:s[i]=s[i]?s[i]+", "+u:u)}),s},TY=Symbol("internals");function mI(t){return t&&String(t).trim().toLowerCase()}function qB(t){return t===!1||t==null?t:Zt.isArray(t)?t.map(qB):String(t)}function Hve(t){const s=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=i.exec(t);)s[u[1]]=u[2];return s}const Uve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nU(t,s,i,u,m){if(Zt.isFunction(u))return u.call(this,s,i);if(m&&(s=i),!!Zt.isString(s)){if(Zt.isString(u))return s.indexOf(u)!==-1;if(Zt.isRegExp(u))return u.test(s)}}function Wve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,i,u)=>i.toUpperCase()+u)}function Kve(t,s){const i=Zt.toCamelCase(" "+s);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+i,{value:function(m,h,x){return this[u].call(this,s,m,h,x)},configurable:!0})})}let kf=class{constructor(s){s&&this.set(s)}set(s,i,u){const m=this;function h(w,T,D){const I=mI(T);if(!I)throw new Error("header name must be a non-empty string");const P=Zt.findKey(m,I);(!P||m[P]===void 0||D===!0||D===void 0&&m[P]!==!1)&&(m[P||T]=qB(w))}const x=(w,T)=>Zt.forEach(w,(D,I)=>h(D,I,T));if(Zt.isPlainObject(s)||s instanceof this.constructor)x(s,i);else if(Zt.isString(s)&&(s=s.trim())&&!Uve(s))x(zve(s),i);else if(Zt.isObject(s)&&Zt.isIterable(s)){let w={},T,D;for(const I of s){if(!Zt.isArray(I))throw TypeError("Object iterator must return a key-value pair");w[D=I[0]]=(T=w[D])?Zt.isArray(T)?[...T,I[1]]:[T,I[1]]:I[1]}x(w,i)}else s!=null&&h(i,s,u);return this}get(s,i){if(s=mI(s),s){const u=Zt.findKey(this,s);if(u){const m=this[u];if(!i)return m;if(i===!0)return Hve(m);if(Zt.isFunction(i))return i.call(this,m,u);if(Zt.isRegExp(i))return i.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,i){if(s=mI(s),s){const u=Zt.findKey(this,s);return!!(u&&this[u]!==void 0&&(!i||nU(this,this[u],u,i)))}return!1}delete(s,i){const u=this;let m=!1;function h(x){if(x=mI(x),x){const w=Zt.findKey(u,x);w&&(!i||nU(u,u[w],w,i))&&(delete u[w],m=!0)}}return Zt.isArray(s)?s.forEach(h):h(s),m}clear(s){const i=Object.keys(this);let u=i.length,m=!1;for(;u--;){const h=i[u];(!s||nU(this,this[h],h,s,!0))&&(delete this[h],m=!0)}return m}normalize(s){const i=this,u={};return Zt.forEach(this,(m,h)=>{const x=Zt.findKey(u,h);if(x){i[x]=qB(m),delete i[h];return}const w=s?Wve(h):String(h).trim();w!==h&&delete i[h],i[w]=qB(m),u[w]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const i=Object.create(null);return Zt.forEach(this,(u,m)=>{u!=null&&u!==!1&&(i[m]=s&&Zt.isArray(u)?u.join(", "):u)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,i])=>s+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...i){const u=new this(s);return i.forEach(m=>u.set(m)),u}static accessor(s){const u=(this[TY]=this[TY]={accessors:{}}).accessors,m=this.prototype;function h(x){const w=mI(x);u[w]||(Kve(m,x),u[w]=!0)}return Zt.isArray(s)?s.forEach(h):h(s),this}};kf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Zt.reduceDescriptors(kf.prototype,({value:t},s)=>{let i=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(u){this[i]=u}}});Zt.freezeMethods(kf);function oU(t,s){const i=this||hD,u=s||i,m=kf.from(u.headers);let h=u.data;return Zt.forEach(t,function(w){h=w.call(i,h,m.normalize(),s?s.status:void 0)}),m.normalize(),h}function xee(t){return!!(t&&t.__CANCEL__)}function ME(t,s,i){jr.call(this,t??"canceled",jr.ERR_CANCELED,s,i),this.name="CanceledError"}Zt.inherits(ME,jr,{__CANCEL__:!0});function wee(t,s,i){const u=i.config.validateStatus;!i.status||!u||u(i.status)?t(i):s(new jr("Request failed with status code "+i.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function jve(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Zve(t,s){t=t||10;const i=new Array(t),u=new Array(t);let m=0,h=0,x;return s=s!==void 0?s:1e3,function(T){const D=Date.now(),I=u[h];x||(x=D),i[m]=T,u[m]=D;let P=h,z=0;for(;P!==m;)z+=i[P++],P=P%t;if(m=(m+1)%t,m===h&&(h=(h+1)%t),D-x<s)return;const K=I&&D-I;return K?Math.round(z*1e3/K):void 0}}function Gve(t,s){let i=0,u=1e3/s,m,h;const x=(D,I=Date.now())=>{i=I,m=null,h&&(clearTimeout(h),h=null),t.apply(null,D)};return[(...D)=>{const I=Date.now(),P=I-i;P>=u?x(D,I):(m=D,h||(h=setTimeout(()=>{h=null,x(m)},u-P)))},()=>m&&x(m)]}const CF=(t,s,i=3)=>{let u=0;const m=Zve(50,250);return Gve(h=>{const x=h.loaded,w=h.lengthComputable?h.total:void 0,T=x-u,D=m(T),I=x<=w;u=x;const P={loaded:x,total:w,progress:w?x/w:void 0,bytes:T,rate:D||void 0,estimated:D&&w&&I?(w-x)/D:void 0,event:h,lengthComputable:w!=null,[s?"download":"upload"]:!0};t(P)},i)},OY=(t,s)=>{const i=t!=null;return[u=>s[0]({lengthComputable:i,total:t,loaded:u}),s[1]]},IY=t=>(...s)=>Zt.asap(()=>t(...s)),qve=Uu.hasStandardBrowserEnv?((t,s)=>i=>(i=new URL(i,Uu.origin),t.protocol===i.protocol&&t.host===i.host&&(s||t.port===i.port)))(new URL(Uu.origin),Uu.navigator&&/(msie|trident)/i.test(Uu.navigator.userAgent)):()=>!0,Yve=Uu.hasStandardBrowserEnv?{write(t,s,i,u,m,h){const x=[t+"="+encodeURIComponent(s)];Zt.isNumber(i)&&x.push("expires="+new Date(i).toGMTString()),Zt.isString(u)&&x.push("path="+u),Zt.isString(m)&&x.push("domain="+m),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jve(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Cee(t,s,i){let u=!Xve(s);return t&&(u||i==!1)?Jve(t,s):s}const DY=t=>t instanceof kf?{...t}:t;function VC(t,s){s=s||{};const i={};function u(D,I,P,z){return Zt.isPlainObject(D)&&Zt.isPlainObject(I)?Zt.merge.call({caseless:z},D,I):Zt.isPlainObject(I)?Zt.merge({},I):Zt.isArray(I)?I.slice():I}function m(D,I,P,z){if(Zt.isUndefined(I)){if(!Zt.isUndefined(D))return u(void 0,D,P,z)}else return u(D,I,P,z)}function h(D,I){if(!Zt.isUndefined(I))return u(void 0,I)}function x(D,I){if(Zt.isUndefined(I)){if(!Zt.isUndefined(D))return u(void 0,D)}else return u(void 0,I)}function w(D,I,P){if(P in s)return u(D,I);if(P in t)return u(void 0,D)}const T={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(D,I,P)=>m(DY(D),DY(I),P,!0)};return Zt.forEach(Object.keys(Object.assign({},t,s)),function(I){const P=T[I]||m,z=P(t[I],s[I],I);Zt.isUndefined(z)&&P!==w||(i[I]=z)}),i}const _ee=t=>{const s=VC({},t);let{data:i,withXSRFToken:u,xsrfHeaderName:m,xsrfCookieName:h,headers:x,auth:w}=s;s.headers=x=kf.from(x),s.url=bee(Cee(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let T;if(Zt.isFormData(i)){if(Uu.hasStandardBrowserEnv||Uu.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((T=x.getContentType())!==!1){const[D,...I]=T?T.split(";").map(P=>P.trim()).filter(Boolean):[];x.setContentType([D||"multipart/form-data",...I].join("; "))}}if(Uu.hasStandardBrowserEnv&&(u&&Zt.isFunction(u)&&(u=u(s)),u||u!==!1&&qve(s.url))){const D=m&&h&&Yve.read(h);D&&x.set(m,D)}return s},Qve=typeof XMLHttpRequest<"u",e0e=Qve&&function(t){return new Promise(function(i,u){const m=_ee(t);let h=m.data;const x=kf.from(m.headers).normalize();let{responseType:w,onUploadProgress:T,onDownloadProgress:D}=m,I,P,z,K,W;function J(){K&&K(),W&&W(),m.cancelToken&&m.cancelToken.unsubscribe(I),m.signal&&m.signal.removeEventListener("abort",I)}let oe=new XMLHttpRequest;oe.open(m.method.toUpperCase(),m.url,!0),oe.timeout=m.timeout;function U(){if(!oe)return;const ue=kf.from("getAllResponseHeaders"in oe&&oe.getAllResponseHeaders()),de={data:!w||w==="text"||w==="json"?oe.responseText:oe.response,status:oe.status,statusText:oe.statusText,headers:ue,config:t,request:oe};wee(function(Ve){i(Ve),J()},function(Ve){u(Ve),J()},de),oe=null}"onloadend"in oe?oe.onloadend=U:oe.onreadystatechange=function(){!oe||oe.readyState!==4||oe.status===0&&!(oe.responseURL&&oe.responseURL.indexOf("file:")===0)||setTimeout(U)},oe.onabort=function(){oe&&(u(new jr("Request aborted",jr.ECONNABORTED,t,oe)),oe=null)},oe.onerror=function(){u(new jr("Network Error",jr.ERR_NETWORK,t,oe)),oe=null},oe.ontimeout=function(){let Z=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const de=m.transitional||vee;m.timeoutErrorMessage&&(Z=m.timeoutErrorMessage),u(new jr(Z,de.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,t,oe)),oe=null},h===void 0&&x.setContentType(null),"setRequestHeader"in oe&&Zt.forEach(x.toJSON(),function(Z,de){oe.setRequestHeader(de,Z)}),Zt.isUndefined(m.withCredentials)||(oe.withCredentials=!!m.withCredentials),w&&w!=="json"&&(oe.responseType=m.responseType),D&&([z,W]=CF(D,!0),oe.addEventListener("progress",z)),T&&oe.upload&&([P,K]=CF(T),oe.upload.addEventListener("progress",P),oe.upload.addEventListener("loadend",K)),(m.cancelToken||m.signal)&&(I=ue=>{oe&&(u(!ue||ue.type?new ME(null,t,oe):ue),oe.abort(),oe=null)},m.cancelToken&&m.cancelToken.subscribe(I),m.signal&&(m.signal.aborted?I():m.signal.addEventListener("abort",I)));const he=jve(m.url);if(he&&Uu.protocols.indexOf(he)===-1){u(new jr("Unsupported protocol "+he+":",jr.ERR_BAD_REQUEST,t));return}oe.send(h||null)})},t0e=(t,s)=>{const{length:i}=t=t?t.filter(Boolean):[];if(s||i){let u=new AbortController,m;const h=function(D){if(!m){m=!0,w();const I=D instanceof Error?D:this.reason;u.abort(I instanceof jr?I:new ME(I instanceof Error?I.message:I))}};let x=s&&setTimeout(()=>{x=null,h(new jr(`timeout ${s} of ms exceeded`,jr.ETIMEDOUT))},s);const w=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(D=>{D.unsubscribe?D.unsubscribe(h):D.removeEventListener("abort",h)}),t=null)};t.forEach(D=>D.addEventListener("abort",h));const{signal:T}=u;return T.unsubscribe=()=>Zt.asap(w),T}},n0e=function*(t,s){let i=t.byteLength;if(i<s){yield t;return}let u=0,m;for(;u<i;)m=u+s,yield t.slice(u,m),u=m},o0e=async function*(t,s){for await(const i of r0e(t))yield*n0e(i,s)},r0e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:i,value:u}=await s.read();if(i)break;yield u}}finally{await s.cancel()}},RY=(t,s,i,u)=>{const m=o0e(t,s);let h=0,x,w=T=>{x||(x=!0,u&&u(T))};return new ReadableStream({async pull(T){try{const{done:D,value:I}=await m.next();if(D){w(),T.close();return}let P=I.byteLength;if(i){let z=h+=P;i(z)}T.enqueue(new Uint8Array(I))}catch(D){throw w(D),D}},cancel(T){return w(T),m.return()}},{highWaterMark:2})},o8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",See=o8&&typeof ReadableStream=="function",s0e=o8&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),kee=(t,...s)=>{try{return!!t(...s)}catch{return!1}},i0e=See&&kee(()=>{let t=!1;const s=new Request(Uu.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),NY=64*1024,aW=See&&kee(()=>Zt.isReadableStream(new Response("").body)),_F={stream:aW&&(t=>t.body)};o8&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!_F[s]&&(_F[s]=Zt.isFunction(t[s])?i=>i[s]():(i,u)=>{throw new jr(`Response type '${s}' is not supported`,jr.ERR_NOT_SUPPORT,u)})})})(new Response);const a0e=async t=>{if(t==null)return 0;if(Zt.isBlob(t))return t.size;if(Zt.isSpecCompliantForm(t))return(await new Request(Uu.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Zt.isArrayBufferView(t)||Zt.isArrayBuffer(t))return t.byteLength;if(Zt.isURLSearchParams(t)&&(t=t+""),Zt.isString(t))return(await s0e(t)).byteLength},l0e=async(t,s)=>{const i=Zt.toFiniteNumber(t.getContentLength());return i??a0e(s)},c0e=o8&&(async t=>{let{url:s,method:i,data:u,signal:m,cancelToken:h,timeout:x,onDownloadProgress:w,onUploadProgress:T,responseType:D,headers:I,withCredentials:P="same-origin",fetchOptions:z}=_ee(t);D=D?(D+"").toLowerCase():"text";let K=t0e([m,h&&h.toAbortSignal()],x),W;const J=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let oe;try{if(T&&i0e&&i!=="get"&&i!=="head"&&(oe=await l0e(I,u))!==0){let de=new Request(s,{method:"POST",body:u,duplex:"half"}),re;if(Zt.isFormData(u)&&(re=de.headers.get("content-type"))&&I.setContentType(re),de.body){const[Ve,Me]=OY(oe,CF(IY(T)));u=RY(de.body,NY,Ve,Me)}}Zt.isString(P)||(P=P?"include":"omit");const U="credentials"in Request.prototype;W=new Request(s,{...z,signal:K,method:i.toUpperCase(),headers:I.normalize().toJSON(),body:u,duplex:"half",credentials:U?P:void 0});let he=await fetch(W,z);const ue=aW&&(D==="stream"||D==="response");if(aW&&(w||ue&&J)){const de={};["status","statusText","headers"].forEach(Ye=>{de[Ye]=he[Ye]});const re=Zt.toFiniteNumber(he.headers.get("content-length")),[Ve,Me]=w&&OY(re,CF(IY(w),!0))||[];he=new Response(RY(he.body,NY,Ve,()=>{Me&&Me(),J&&J()}),de)}D=D||"text";let Z=await _F[Zt.findKey(_F,D)||"text"](he,t);return!ue&&J&&J(),await new Promise((de,re)=>{wee(de,re,{data:Z,headers:kf.from(he.headers),status:he.status,statusText:he.statusText,config:t,request:W})})}catch(U){throw J&&J(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new jr("Network Error",jr.ERR_NETWORK,t,W),{cause:U.cause||U}):jr.from(U,U&&U.code,t,W)}}),lW={http:Sve,xhr:e0e,fetch:c0e};Zt.forEach(lW,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const PY=t=>`- ${t}`,u0e=t=>Zt.isFunction(t)||t===null||t===!1,Eee={getAdapter:t=>{t=Zt.isArray(t)?t:[t];const{length:s}=t;let i,u;const m={};for(let h=0;h<s;h++){i=t[h];let x;if(u=i,!u0e(i)&&(u=lW[(x=String(i)).toLowerCase()],u===void 0))throw new jr(`Unknown adapter '${x}'`);if(u)break;m[x||"#"+h]=u}if(!u){const h=Object.entries(m).map(([w,T])=>`adapter ${w} `+(T===!1?"is not supported by the environment":"is not available in the build"));let x=s?h.length>1?`since :
`+h.map(PY).join(`
`):" "+PY(h[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:lW};function rU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ME(null,t)}function LY(t){return rU(t),t.headers=kf.from(t.headers),t.data=oU.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Eee.getAdapter(t.adapter||hD.adapter)(t).then(function(u){return rU(t),u.data=oU.call(t,t.transformResponse,u),u.headers=kf.from(u.headers),u},function(u){return xee(u)||(rU(t),u&&u.response&&(u.response.data=oU.call(t,t.transformResponse,u.response),u.response.headers=kf.from(u.response.headers))),Promise.reject(u)})}const Aee="1.10.0",r8={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{r8[t]=function(u){return typeof u===t||"a"+(s<1?"n ":" ")+t}});const MY={};r8.transitional=function(s,i,u){function m(h,x){return"[Axios v"+Aee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,w)=>{if(s===!1)throw new jr(m(x," has been removed"+(i?" in "+i:"")),jr.ERR_DEPRECATED);return i&&!MY[x]&&(MY[x]=!0,console.warn(m(x," has been deprecated since v"+i+" and will be removed in the near future"))),s?s(h,x,w):!0}};r8.spelling=function(s){return(i,u)=>(console.warn(`${u} is likely a misspelling of ${s}`),!0)};function d0e(t,s,i){if(typeof t!="object")throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let m=u.length;for(;m-- >0;){const h=u[m],x=s[h];if(x){const w=t[h],T=w===void 0||x(w,h,t);if(T!==!0)throw new jr("option "+h+" must be "+T,jr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new jr("Unknown option "+h,jr.ERR_BAD_OPTION)}}const YB={assertOptions:d0e,validators:r8},Nb=YB.validators;let BC=class{constructor(s){this.defaults=s||{},this.interceptors={request:new AY,response:new AY}}async request(s,i){try{return await this._request(s,i)}catch(u){if(u instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const h=m.stack?m.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(s,i){typeof s=="string"?(i=i||{},i.url=s):i=s||{},i=VC(this.defaults,i);const{transitional:u,paramsSerializer:m,headers:h}=i;u!==void 0&&YB.assertOptions(u,{silentJSONParsing:Nb.transitional(Nb.boolean),forcedJSONParsing:Nb.transitional(Nb.boolean),clarifyTimeoutError:Nb.transitional(Nb.boolean)},!1),m!=null&&(Zt.isFunction(m)?i.paramsSerializer={serialize:m}:YB.assertOptions(m,{encode:Nb.function,serialize:Nb.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),YB.assertOptions(i,{baseUrl:Nb.spelling("baseURL"),withXsrfToken:Nb.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&Zt.merge(h.common,h[i.method]);h&&Zt.forEach(["delete","get","head","post","put","patch","common"],W=>{delete h[W]}),i.headers=kf.concat(x,h);const w=[];let T=!0;this.interceptors.request.forEach(function(J){typeof J.runWhen=="function"&&J.runWhen(i)===!1||(T=T&&J.synchronous,w.unshift(J.fulfilled,J.rejected))});const D=[];this.interceptors.response.forEach(function(J){D.push(J.fulfilled,J.rejected)});let I,P=0,z;if(!T){const W=[LY.bind(this),void 0];for(W.unshift.apply(W,w),W.push.apply(W,D),z=W.length,I=Promise.resolve(i);P<z;)I=I.then(W[P++],W[P++]);return I}z=w.length;let K=i;for(P=0;P<z;){const W=w[P++],J=w[P++];try{K=W(K)}catch(oe){J.call(this,oe);break}}try{I=LY.call(this,K)}catch(W){return Promise.reject(W)}for(P=0,z=D.length;P<z;)I=I.then(D[P++],D[P++]);return I}getUri(s){s=VC(this.defaults,s);const i=Cee(s.baseURL,s.url,s.allowAbsoluteUrls);return bee(i,s.params,s.paramsSerializer)}};Zt.forEach(["delete","get","head","options"],function(s){BC.prototype[s]=function(i,u){return this.request(VC(u||{},{method:s,url:i,data:(u||{}).data}))}});Zt.forEach(["post","put","patch"],function(s){function i(u){return function(h,x,w){return this.request(VC(w||{},{method:s,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}BC.prototype[s]=i(),BC.prototype[s+"Form"]=i(!0)});let f0e=class Tee{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const u=this;this.promise.then(m=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](m);u._listeners=null}),this.promise.then=m=>{let h;const x=new Promise(w=>{u.subscribe(w),h=w}).then(m);return x.cancel=function(){u.unsubscribe(h)},x},s(function(h,x,w){u.reason||(u.reason=new ME(h,x,w),i(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const i=this._listeners.indexOf(s);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const s=new AbortController,i=u=>{s.abort(u)};return this.subscribe(i),s.signal.unsubscribe=()=>this.unsubscribe(i),s.signal}static source(){let s;return{token:new Tee(function(m){s=m}),cancel:s}}};function m0e(t){return function(i){return t.apply(null,i)}}function g0e(t){return Zt.isObject(t)&&t.isAxiosError===!0}const cW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cW).forEach(([t,s])=>{cW[s]=t});function Oee(t){const s=new BC(t),i=see(BC.prototype.request,s);return Zt.extend(i,BC.prototype,s,{allOwnKeys:!0}),Zt.extend(i,s,null,{allOwnKeys:!0}),i.create=function(m){return Oee(VC(t,m))},i}const Ui=Oee(hD);Ui.Axios=BC;Ui.CanceledError=ME;Ui.CancelToken=f0e;Ui.isCancel=xee;Ui.VERSION=Aee;Ui.toFormData=n8;Ui.AxiosError=jr;Ui.Cancel=Ui.CanceledError;Ui.all=function(s){return Promise.all(s)};Ui.spread=m0e;Ui.isAxiosError=g0e;Ui.mergeConfig=VC;Ui.AxiosHeaders=kf;Ui.formToJSON=t=>yee(Zt.isHTMLForm(t)?new FormData(t):t);Ui.getAdapter=Eee.getAdapter;Ui.HttpStatusCode=cW;Ui.default=Ui;const{Axios:ake,AxiosError:lke,CanceledError:cke,isCancel:uke,CancelToken:dke,VERSION:fke,all:mke,Cancel:gke,isAxiosError:hke,spread:pke,toFormData:bke,AxiosHeaders:vke,HttpStatusCode:yke,formToJSON:xke,getAdapter:wke,mergeConfig:Cke}=Ui;/*! js-cookie v3.0.5 | MIT */function RB(t){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var u in i)t[u]=i[u]}return t}var h0e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function uW(t,s){function i(m,h,x){if(!(typeof document>"u")){x=RB({},s,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),m=encodeURIComponent(m).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var T in x)x[T]&&(w+="; "+T,x[T]!==!0&&(w+="="+x[T].split(";")[0]));return document.cookie=m+"="+t.write(h,m)+w}}function u(m){if(!(typeof document>"u"||arguments.length&&!m)){for(var h=document.cookie?document.cookie.split("; "):[],x={},w=0;w<h.length;w++){var T=h[w].split("="),D=T.slice(1).join("=");try{var I=decodeURIComponent(T[0]);if(x[I]=t.read(D,I),m===I)break}catch{}}return m?x[m]:x}}return Object.create({set:i,get:u,remove:function(m,h){i(m,"",RB({},h,{expires:-1}))},withAttributes:function(m){return uW(this.converter,RB({},this.attributes,m))},withConverter:function(m){return uW(RB({},this.converter,m),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}var xs=uW(h0e,{path:"/"});const Gl=class Gl{constructor(s={}){xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"text","");xn(this,"points",null);xn(this,"grade_key","");xn(this,"last_change",null);xn(this,"is_authorized",!1);xn(this,"include_comments",null);xn(this,"include_comment_ratings",null);xn(this,"include_comment_points",null);xn(this,"include_criteria_points",null);this.setData(s)}setData(s){s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.text!==void 0&&s.text!==null&&(this.text=s.text.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseFloat(s.points)),s.grade_key!==void 0&&s.grade_key!==null&&(this.grade_key=s.grade_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change)),s.is_authorized!==void 0&&s.is_authorized!==null&&(this.is_authorized=!!s.is_authorized),s.include_comments!==void 0&&s.include_comments!==null&&(this.include_comments=this.transformInclusion(s.include_comments)),s.include_comment_ratings!==void 0&&s.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(s.include_comment_ratings)),s.include_comment_points!==void 0&&s.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(s.include_comment_points)),s.include_criteria_points!==void 0&&s.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(s.include_criteria_points))}transformInclusion(s){if(s===null)return null;if(s=parseInt(s),s<=Gl.INCLUDE_NOT)return Gl.INCLUDE_NOT;if(s==Gl.INCLUDE_INFO)return Gl.INCLUDE_INFO;if(s>=Gl.INCLUDE_RELEVANT)return Gl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(s={}){return{include_comments:this.include_comments??s.include_comments??Gl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??s.include_comment_ratings??Gl.INCLUDE_INFO,include_comment_points:this.include_comment_points??s.include_comment_points??Gl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??s.include_criteria_points??Gl.INCLUDE_INFO}}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Gl(this.getData())}isEqual(s){for(const i in this)if(this[i]!==s[i])return!1;return!0}};xn(Gl,"INCLUDE_NOT",0),xn(Gl,"INCLUDE_INFO",1),xn(Gl,"INCLUDE_RELEVANT",2),xn(Gl,"ALLOWED_INCLUSIONS",[Gl.INCLUDE_NOT,Gl.INCLUDE_INFO,Gl.INCLUDE_RELEVANT]);let Ar=Gl;const sU=Zu.createInstance({storeName:"corrector-settings",description:"Settings data"}),{t:BY}=c1.global,su=iu("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:BY("settingsRatingPositive"),negative_rating:BY("settingsRatingNegative"),headline_scheme:null,fixed_inclusions:!1,include_comments:Ar.INCLUDE_INFO,include_comment_ratings:Ar.INCLUDE_INFO,include_comment_points:Ar.INCLUDE_INFO,include_criteria_points:Ar.INCLUDE_INFO}),getters:{ratingLabels:t=>'"'+t.positive_rating+'" und "'+t.negative_rating+'"',headlineClass:t=>t.headline_scheme==="three"?"headlines-three":"",summaryInclusions:t=>({include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points}),inclusionsChangeable:t=>t.fixed_inclusions==!1,inclusionsPossible:t=>t.fixed_inclusions==!1||t.include_comments!=Ar.INCLUDE_NOT||t.include_comment_ratings!=Ar.INCLUDE_NOT||t.include_comment_points!=Ar.INCLUDE_NOT||t.include_criteria_points!=Ar.INCLUDE_NOT},actions:{async clearStorage(){try{await sU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await sU.getItem("settings");this.$patch(t)}catch(t){console.log(t)}},async loadFromData(t){try{await sU.setItem("settings",t),this.$patch(t)}catch(s){console.log(s)}}}}),iU=Zu.createInstance({storeName:"corrector-task",description:"Task data"}),kx=iu("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:t=>!!t.instructions,hasSolution:t=>!!t.solution,hasCorrectionEnd:t=>!!t.correction_end,correctionEndReached:t=>t.remaining_time===0},actions:{async clearStorage(){try{await iU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){sr();try{const t=await iU.getItem("task");this.$patch(t)}catch(t){console.log(t)}this.updateRemainingTime()},async loadFromData(t){sr();try{await iU.setItem("task",t),this.$patch(t)}catch(s){console.log(s)}this.updateRemainingTime()},updateRemainingTime(){const t=sr();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-t.getServerTime(Date.now())):this.remaining_time=null}}}),W0=Zu.createInstance({storeName:"corrector-resources",description:"Resource data"}),zC=iu("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:t=>t.resources.length>0,hasInstruction:t=>!!t.resources.find(i=>i.type=="instruct"),hasSolution:t=>!!t.resources.find(i=>i.type=="solution"),instruction:t=>t.resources.find(s=>s.type=="instruct"),solution:t=>t.resources.find(s=>s.type=="solution"),hasFileOrUrlResources:t=>!!t.resources.find(i=>i.type=="file"||i.type=="url"),fileOrUrlResources:t=>t.resources.filter(s=>s.type=="file"||s.type=="url"),activeTitle:t=>{const s=t.resources.find(i=>i.key==t.activeKey);return s?s.title:""},getResource:t=>function(i){return t.resources.find(u=>u.key==i)},getResourceIsActive:t=>function(i){return t.activeKey==i.key}},actions:{async clearStorage(){try{await W0.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await W0.getItem("resourceKeys");t&&(this.keys=JSON.parse(t)),this.activeKey=await W0.getItem("activeKey")??"";for(const s of this.keys){const i=await W0.getItem(s);this.resources.push(i)}this.loadFiles()}catch(t){console.log(t)}},async loadFromData(t){const s=sr();try{await W0.clear(),this.$reset();for(const i of t)i.type!="url"&&(i.url=s.getResourceUrl(i.key)),this.resources.push(i),this.keys.push(i.key),await W0.setItem(i.key,i);await W0.setItem("resourceKeys",JSON.stringify(this.keys)),await W0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(i){console.log(i)}},async selectResource(t){this.activeKey=t.key,await W0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const t of this.keys){let s=this.getResource(t),i=null;if(s.type!="url")try{i=await Ui(s.url,{responseType:"blob",timeout:6e4})}catch(u){console.error(u)}}}}});class dW{constructor(s={}){xn(this,"key","");xn(this,"title","");xn(this,"correction_allowed",!1);xn(this,"authorization_allowed",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.correction_allowed!==void 0&&s.correction_allowed!==null&&(this.correction_allowed=!!s.correction_allowed),s.authorization_allowed!==void 0&&s.authorization_allowed!==null&&(this.authorization_allowed=!!s.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const K0=Zu.createInstance({storeName:"corrector-items",description:"Items data"}),$b=iu("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:t=>t.keys.length>0,firstKey:t=>t.keys.length>0?t.keys[0]:"",lastKey:t=>t.keys.length>0?t.keys[t.keys.length-1]:"",correctionAllowed:t=>t.currentItem.correction_allowed,authorizationAllowed:t=>t.currentItem.authorization_allowed,currentItem:t=>{const s=sr();return t.items.find(i=>i.key==s.itemKey)},getPreviousKey:t=>function(i){for(let u=1;u<t.keys.length;u++)if(t.keys[u]==i)return t.keys[u-1];return""},getNextKey:t=>function(i){for(let u=0;u<t.keys.length-1;u++)if(t.keys[u]==i)return t.keys[u+1];return""},getItem:t=>function(i,u=null){for(const m of t.items)if(m.key==i)return m;return u}},actions:{async clearStorage(){try{await K0.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await K0.getItem("itemKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const i=new dW(JSON.parse(await K0.getItem(s)));this.items.push(i)}}catch(t){console.log(t)}},async loadFromData(t){try{await K0.clear(),this.$reset();for(const s of t){const i=new dW(s);this.items.push(i),this.keys.push(i.key),await K0.setItem(i.key,JSON.stringify(i.getData()))}await K0.setItem("itemKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}},async addItem(t){try{this.keys.includes(t.key)||(this.items.unshift(t),this.keys.unshift(t.key),await K0.setItem(t.key,JSON.stringify(t.getData())),await K0.setItem("itemKeys",JSON.stringify(this.keys)))}catch(s){console.log(s)}},async updateItem(t){const s=this.items.findIndex(i=>i.key===t.key);if(s!==-1){this.items[s]=t,await K0.setItem(t.key,JSON.stringify(t.getData()));return}}}}),rE=Zu.createInstance({storeName:"corrector-levels",description:"Grade level data"}),Ex=iu("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:t=>t.levels.length>0,getLevel:t=>function(i){return t.levels.find(u=>u.key==i)},getLevelForPoints:t=>function(i){if(i===null)return null;let u=null,m=0;for(let h=0;h<t.levels.length;h++)t.levels[h].min_points<=i&&t.levels[h].min_points>=m&&(u=t.levels[h],m=u.points);return u}},actions:{async clearStorage(){try{await rE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await rE.getItem("levelKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const i=await rE.getItem(s);this.levels.push(i)}}catch(t){console.log(t)}},async loadFromData(t){try{await rE.clear(),this.$reset();for(const s of t)this.levels.push(s),this.keys.push(s.key),await rE.setItem(s.key,s);await rE.setItem("levelKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),NB=Zu.createInstance({storeName:"corrector-essay",description:"Essay data"}),KI=iu("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:t=>t.correction_finalized,grade:t=>{let i=Ex().getLevelForPoints(t.final_points);return i!==null?i.title:""},gradeKey:t=>{let i=Ex().getLevelForPoints(t.final_points);return i!==null?i.key:""}},actions:{async clearStorage(){try{await NB.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await NB.getItem("settings");this.$patch(t)}catch(t){console.log(t)}},async loadFromData(t){try{await NB.setItem("settings",t),this.$patch(t)}catch(s){console.log(s)}},async saveStitchDecision(){const t=sr(),s=t.getServerTime(Date.now()),i={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:s};await t.saveStitchDecisionToBackend(i)&&(this.correction_finalized=s,await NB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class FY{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"page_no",0);xn(this,"width",0);xn(this,"height",0);xn(this,"url",null);xn(this,"thumb_width",null);xn(this,"thumb_height",null);xn(this,"thumb_url",null);xn(this,"objectUrl",null);xn(this,"thumbObjectUrl",null);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.page_no!==void 0&&s.page_no!==null&&(this.page_no=parseInt(s.page_no)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.url!==void 0&&s.url!==null&&(this.url=s.url.toString()),s.thumb_width!==void 0&&s.thumb_width!==null&&(this.thumb_width=parseInt(s.thumb_width)),s.thumb_height!==void 0&&s.thumb_height!==null&&(this.thumb_height=parseInt(s.thumb_height)),s.thumb_url!==void 0&&s.thumb_url!==null&&(this.thumb_url=s.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const sE=Zu.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),SF=iu("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:t=>Object.keys(t.pages).length>0,selectedPage:t=>t.pages[t.selectedKey]??null,selectedPageNo:t=>t.selectedPage?t.selectedPage.page_no:null,currentPages:t=>{let s=[];for(const i in t.pages)s.push(t.pages[i]);return s},getPage:t=>function(i){return t.pages[i]??null},getPageByPageNo:t=>function(i){for(const u in t.pages)if(t.pages[u].page_no==i)return t.pages[u];return null}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const s in this.pages)if(this.pages[s].page_no==t)return this.selectedKey=s,!0;return!1},calculateMinMaxPage(){let t=null,s=null;for(const i in this.pages)(t===null||this.pages[i].page_no<t)&&(t=this.pages[i].page_no),(s===null||this.pages[i].page_no>s)&&(s=this.pages[i].page_no);t!==null&&(this.minPage=t),s!==null&&(this.maxPage=s)},async clearStorage(){try{await sE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=sr();try{this.purgeFiles(),this.$reset();const s=await sE.getItem("keys");s&&(this.keys=JSON.parse(s));for(const i of this.keys){const u=new FY(JSON.parse(await sE.getItem(i)));u.item_key==t.itemKey&&(this.pages[i]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(s){console.log(s)}},async loadFromData(t){const s=sr();try{await sE.clear(),this.purgeFiles(),this.$reset();for(const i of t){const u=new FY(i);u.url=s.getImageUrl(u.key,u.item_key),u.thumb_url=s.getThumbUrl(u.key,u.item_key),this.keys.push(u.key),await sE.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&(this.pages[u.key]=u)}await sE.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(i){console.log(i)}},async loadFiles(){try{for(const t in this.pages){const s=this.pages[t];let i;s&&(i=await Ui(s.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,i=await Ui(s.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const s=this.pages[t];s&&(s.thumbObjectUrl!==null&&(s.thumbObjectUrl=null),s.objectUrl!==null&&(s.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class p0e{constructor(s={}){xn(this,"key","");xn(this,"corrector_key","");xn(this,"title","");xn(this,"description","");xn(this,"points",0);xn(this,"is_general",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.description!==void 0&&s.description!==null&&(this.description=s.description.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseInt(s.points)),s.is_general!==void 0&&s.is_general!==null&&(this.is_general=!!s.is_general)}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points,is_general:this.is_general}}}const iE=Zu.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),Am=iu("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasCommentCriteria:t=>{const i=Qg().correctorKeys;return!!t.criteria.find(u=>!u.is_general&&(u.corrector_key==""||i.includes(u.corrector_key)))},hasOwnCriteria:t=>{const s=sr();return!!t.criteria.find(i=>i.corrector_key==""||i.corrector_key==s.correctorKey)},hasOwnGeneralCriteria:t=>{const s=sr();return!!t.criteria.find(i=>i.is_general&&(i.corrector_key==""||i.corrector_key==s.correctorKey))},hasOwnCommentCriteria:t=>{const s=sr();return!!t.criteria.find(i=>!i.is_general&&(i.corrector_key==""||i.corrector_key==s.correctorKey))},ownCriteria:t=>{const s=sr();return t.criteria.filter(i=>i.corrector_key==""||i.corrector_key==s.correctorKey)},getCriterion:t=>function(i){return t.criteria.find(u=>u.key==i)},getCorrectorHasCriteria:t=>function(i){return!!t.criteria.find(u=>u.corrector_key==""||u.corrector_key==i)},getCorrectorHasGeneralCriteria:t=>function(i){return!!t.criteria.find(u=>u.is_general&&(u.corrector_key==""||u.corrector_key==i))},getCorrectorHasCommentCriteria:t=>function(i){return!!t.criteria.find(u=>!u.is_general&&(u.corrector_key==""||u.corrector_key==i))},getCorrectorGeneralCriteria:t=>function(i){return t.criteria.filter(u=>u.is_general&&(u.corrector_key==""||u.corrector_key==i))},getCorrectorCommentCriteria:t=>function(i){return t.criteria.filter(u=>!u.is_general&&(u.corrector_key==""||u.corrector_key==i))}},actions:{async clearStorage(){try{await iE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await iE.getItem("criterionKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const i=await iE.getItem(s);this.criteria.push(i)}}catch(t){console.log(t)}},async loadFromData(t){try{await iE.clear(),this.$reset();for(const s of t){const i=new p0e(s);this.criteria.push(i),this.keys.push(i.key),await iE.setItem(i.key,i.getData())}await iE.setItem("criterionKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),Xa=class Xa{constructor(s={}){xn(this,"action",null);xn(this,"type",null);xn(this,"key","");xn(this,"item_key","");xn(this,"last_change",0);this.setData(s),this.last_change==0&&(this.last_change=Date.now())}setData(s){s.action!==void 0&&Xa.ALLOWED_ACTIONS.includes(s.action)&&(this.action=s.action.toString()),s.type!==void 0&&Xa.ALLOWED_TYPES.includes(s.type)&&(this.type=s.type.toString()),s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return Xa.ALLOWED_TYPES.includes(this.type)&&Xa.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==Xa.TYPE_SNIPPETS)}};xn(Xa,"ACTION_SAVE","save"),xn(Xa,"ACTION_DELETE","delete"),xn(Xa,"ALLOWED_ACTIONS",[Xa.ACTION_SAVE,Xa.ACTION_DELETE]),xn(Xa,"TYPE_COMMENT","comment"),xn(Xa,"TYPE_POINTS","points"),xn(Xa,"TYPE_SUMMARY","summary"),xn(Xa,"TYPE_PREFERENCES","preferences"),xn(Xa,"TYPE_SNIPPETS","snippets"),xn(Xa,"ALLOWED_TYPES",[Xa.TYPE_COMMENT,Xa.TYPE_POINTS,Xa.TYPE_SUMMARY,Xa.TYPE_PREFERENCES,Xa.TYPE_SNIPPETS]);let _r=Xa;const PB=Zu.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function $Y(){const t={changes:{}};for(const s of _r.ALLOWED_TYPES)t.changes[s]={};return t}const Qa=iu("changes",{state:()=>$Y(),getters:{countChanges:t=>{let s=0;for(const i in t.changes)s+=Object.keys(t.changes[i]).length;return s},getCountOfChangesFor:t=>function(i){return _r.ALLOWED_TYPES.includes(i)?Object.keys(t.changes[i]).length:0},getChangesFor:t=>function(i,u=0){if(!_r.ALLOWED_TYPES.includes(i))return[];const m=[];for(const h in t.changes[i]){const x=t.changes[i][h];(u==0||x.last_change<=u)&&m.push(x)}return m}},actions:{async clearStorage(){try{await PB.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=$Y();try{for(const s in t.changes){const i=await PB.getItem(s);if(i){const u=JSON.parse(i);if(typeof u=="object"&&u!==null)for(const m in u)t.changes[s][m]=new _r(u[m])}}}catch(s){console.log(s)}this.$patch(t)},async saveChangesOfTypeToStorage(t){const s={};for(const i in this.changes[t]){const u=this.changes[t][i];s[i]=u.getData()}await PB.setItem(t,JSON.stringify(s))},async hasChangesInStorage(){for(const t in this.changes){const s=await PB.getItem(t);if(s){const i=JSON.parse(s);if(Object.keys(i).length>0)return!0}}return!1},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await this.saveChangesOfTypeToStorage(t.type))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await this.saveChangesOfTypeToStorage(t.type))},async setChangesSent(t,s,i){const u=this.changes[t];let m=!1;for(const h in s){const x=s[h],w=u[h];w&&(w.last_change<=i?(delete u[h],m=!0):(x==null||x!=h)&&(w.key=x,u[x]=w,delete u[h],m=!0))}m&&await this.saveChangesOfTypeToStorage(t)}}});class gI{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"comment_key","");xn(this,"criterion_key","");xn(this,"points",0);s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.comment_key!==void 0&&s.comment_key!==null&&(this.comment_key=s.comment_key.toString()),s.criterion_key!==void 0&&s.criterion_key!==null&&(this.criterion_key=s.criterion_key.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseFloat(s.points))}setPoints(s){this.points=parseFloat(s)}getData(){return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const Ml=Zu.createInstance({storeName:"corrector-points",description:"Corrector points data"}),Jg=iu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints:t=>function(i){return t.points.find(u=>u.comment_key==i&&u.points!=0)!==void 0},getCommentHasPointsForCriterion:t=>function(i,u){return t.points.find(m=>m.comment_key==i&&m.criterion_key==u&&m.points!=0)!==void 0},getSumOfPointsForCorrector:t=>function(i,u=null,m=null){let h=0;return t.points.filter(x=>x.corrector_key==i&&(u===null||u==(x.comment_key!=""))&&(m===null||m==(x.criterion_key!=""))).forEach(x=>h+=x.points),h},getSumOfPointsForComment:t=>function(i){let u=0;return t.points.filter(m=>m.comment_key==i).forEach(m=>u+=m.points),u},getSumOfPointsForCriterion:t=>function(i,u){let m=0;return t.points.filter(h=>h.criterion_key==i.key&&h.corrector_key==u).forEach(h=>m+=h.points),m},getPointsOfCriterionExceeded:t=>function(i,u){let m=0;return t.points.filter(h=>h.criterion_key==i.key&&h.corrector_key==u).forEach(h=>m+=h.points),m>i.points},getObjectsForCorrector:t=>function(i){return t.points.filter(u=>u.corrector_key==i)},getObjectByData:t=>function(i,u,m){return t.points.find(h=>h.corrector_key==i&&h.comment_key==u&&h.criterion_key==m)}},actions:{async setValueByCommentOrCriterion(t,s,i){const u=sr();let m=this.getObjectByData(u.correctorKey,t,s);m?i?(m.setPoints(i),this.updatePoints(m)):this.deletePoints(m.key):(t||s)&&i&&this.createPoints(t,s,i)},async createPoints(t,s,i){const u=sr(),m=new gI({item_key:u.itemKey,corrector_key:u.correctorKey,comment_key:t,criterion_key:s,points:i});this.keys.push(m.key),this.points.push(m),await Ml.setItem(m.key,JSON.stringify(m.getData())),await Ml.setItem("keys",JSON.stringify(this.keys)),await Qa().setChange(new _r({type:_r.TYPE_POINTS,action:_r.ACTION_SAVE,key:m.key,item_key:m.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await Ml.setItem(t.key,JSON.stringify(t.getData())),await Qa().setChange(new _r({type:_r.TYPE_POINTS,action:_r.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const s=this.points.find(m=>m.key==t);this.points=this.points.filter(m=>m.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(m=>m!=t),await Ml.setItem("keys",JSON.stringify(this.keys)),await Ml.removeItem(t));const i=Qa(),u=new _r({type:_r.TYPE_POINTS,action:_r.ACTION_DELETE,key:s.key,item_key:s.item_key});t.substr(0,4)=="temp"?await i.unsetChange(u):await i.setChange(u)},async deletePointsOfComment(t){this.points.filter(s=>s.comment_key==t).forEach(s=>this.deletePoints(s.key))},async clearStorage(){try{await Ml.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=sr();try{this.$reset();const s=await Ml.getItem("keys");s&&(this.keys=JSON.parse(s)),this.points=[];for(const i of this.keys){let u=JSON.parse(await Ml.getItem(i)),m=new gI(u);m.item_key==t.itemKey&&this.points.push(m)}}catch(s){console.log(s)}},async loadFromData(t){const s=sr();try{await Ml.clear(),this.$reset();for(const i of t){const u=new gI(i);this.keys.push(u.key),await Ml.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.points.push(u)}await Ml.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async getChangedData(t=0){const s=sr(),i=Qa(),u=[];for(const m of i.getChangesFor(_r.TYPE_POINTS,t)){const h=await Ml.getItem(m.key);h?u.push(s.getChangeDataToSend(m,JSON.parse(h))):u.push(s.getChangeDataToSend(m))}return u},async updateKeys(t={}){let s=[],i=[],u=[];for(const m of this.keys)if(m in t){if(t[m]==null)s.push(m);else if(m!=t[m]){let h=new gI(await Ml.getItem(m));h.key=t[m],i.push(m),u.push(h)}}this.selectedKey="",this.points=this.points.filter(m=>!s.includes(m.key));for(const m of this.points)i.includes(m.key)&&(m.key=t[m.key]);this.keys=this.keys.filter(m=>!s.includes(m)&&!i.includes(m));for(const m of s)await Ml.removeItem(m);for(const m of i)this.keys.push(t[m]),await Ml.removeItem(m);for(const m of u)await Ml.setItem(m.key,JSON.stringify(m.getData()));await Ml.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(t){let s=[],i=[];for(const u of this.keys){let m=new gI(await Ml.getItem(u));m.comment_key in t&&(t[m.comment_key]==null?s.push(u):m.comment_key!=t[m.comment_key]&&(m.comment_key=t[m.comment_key],i.push(m)))}this.points=this.points.filter(u=>!s.includes(u.key));for(const u of this.points)u.comment_key in t&&(u.comment_key=t[u.comment_key]);for(const u of s)await Ml.removeItem(u);for(const u of i)await Ml.setItem(u.key,JSON.stringify(u.getData()));this.keys=this.keys.filter(u=>!s.includes(u)),await Ml.setItem("keys",JSON.stringify(this.keys))}}});class hI{constructor(s={}){xn(this,"x",0);xn(this,"y",0);s.x!==void 0&&s.x!==null&&(this.x=parseInt(s.x)),s.y!==void 0&&s.y!==null&&(this.y=parseInt(s.y))}getData(){return{x:this.x,y:this.y}}}const _a=class _a{constructor(s={}){xn(this,"key","");xn(this,"shape","");xn(this,"pos",new hI(0,0));xn(this,"end",new hI(0,0));xn(this,"width",0);xn(this,"height",0);xn(this,"polygon",[]);xn(this,"symbol","");this.setData(s)}setData(s){if(s.key!==void 0&&s.key!==null&&(this.key=s.key),s.shape!==void 0&&_a.ALLOWED_SHAPES.includes(s.shape)&&(this.shape=s.shape.toString()),s.pos!==void 0&&s.pos!==null&&(this.pos=new hI(s.pos)),s.end!==void 0&&s.end!==null&&(this.end=new hI(s.end)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.polygon!==void 0&&Array.isArray(s.polygon))for(const i of s.polygon)this.polygon.push(new hI(i));s.symbol!==void 0&&s.symbol!==null&&(this.symbol=s.symbol.toString())}getData(){let s=[];for(const i of this.polygon)s.push(i.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:s,symbol:this.symbol}}getIcon(){switch(this.shape){case _a.SHAPE_LINE:return"mdi-minus";case _a.SHAPE_WAVE:return"mdi-wave";case _a.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case _a.SHAPE_POLYGON:return"mdi-vector-triangle";case _a.SHAPE_CIRCLE:switch(this.symbol){case _a.SYMBOL_CHECK:return"mdi-check";case _a.SYMBOL_CROSS:return"mdi-close";case _a.SYMBOL_QUESTION:return"mdi-help"}}return""}};xn(_a,"SHAPE_CIRCLE","circle"),xn(_a,"SHAPE_RECTANGLE","rectangle"),xn(_a,"SHAPE_POLYGON","polygon"),xn(_a,"SHAPE_LINE","line"),xn(_a,"SHAPE_WAVE","wave"),xn(_a,"ALLOWED_SHAPES",[_a.SHAPE_CIRCLE,_a.SHAPE_RECTANGLE,_a.SHAPE_POLYGON,_a.SHAPE_LINE,_a.SHAPE_WAVE]),xn(_a,"SYMBOL_CHECK",""),xn(_a,"SYMBOL_CROSS",""),xn(_a,"SYMBOL_QUESTION","?");let Cm=_a;const ip=class ip{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"start_position",0);xn(this,"end_position",0);xn(this,"parent_number",0);xn(this,"comment","");xn(this,"rating_excellent",!1);xn(this,"rating_cardinal",!1);xn(this,"label","");xn(this,"prefix","");xn(this,"marks",[]);xn(this,"deleted",!1);if(s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.start_position!==void 0&&s.start_position!==null&&(this.start_position=parseInt(s.start_position)),s.end_position!==void 0&&s.end_position!==null&&(this.end_position=parseInt(s.end_position)),s.parent_number!==void 0&&s.parent_number!==null&&(this.parent_number=parseInt(s.parent_number)),s.comment!==void 0&&s.comment!==null&&(this.comment=s.comment.toString()),s.rating==ip.RAITNG_EXCELLENT?this.rating_excellent=!0:s.rating==ip.RATING_CARDINAL&&(this.rating_cardinal=!0),s.marks!==void 0&&Array.isArray(s.marks))for(const i of s.marks)this.addMarkData(i)}addMarkData(s){this.marks.push(new Cm(s)),this.calculateStartPositon()}updateMarkData(s){for(const i of this.marks)i.key==s.key&&i.setData(s);this.calculateStartPositon()}getMarkIcon(){for(const s of this.marks)return s.getIcon();return null}getMarkByKey(s){for(const i of this.marks)if(i.key==s)return i;return null}getMarkColor(s){const i=s.shape==Cm.SHAPE_CIRCLE||s.shape==Cm.SHAPE_POLYGON||s.shape==Cm.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?i?"#E3EFDD80":"#19e62e":this.rating_cardinal?i?"#FBDED180":"#bc4710":i?"#D8E5F480":"#3365ff":this.rating_excellent?i?"#F7F9F780":"#19e62e":this.rating_cardinal?i?"#FCF6F480":"#bc4710":i?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(s){const i=s.shape==Cm.SHAPE_CIRCLE||s.shape==Cm.SHAPE_POLYGON||s.shape==Cm.SHAPE_RECTANGLE;return this.rating_excellent?i?"#BBEBA5A0":"#19e62e":this.rating_cardinal?i?"#FCB494A0":"#bc4710":i?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let s=null;for(const i of this.marks)(s===null||i.pos.y>s)&&(s=i.pos.y);s!==null&&(this.start_position=s)}hasMarkKey(s){for(const i of this.marks)if(i.key==s)return!0;return!1}getData(){let s=[];for(const i of this.marks)s.push(i.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?ip.RAITNG_EXCELLENT:this.rating_cardinal?ip.RATING_CARDINAL:"",marks:s}}};xn(ip,"RATING_CARDINAL","cardinal"),xn(ip,"RAITNG_EXCELLENT","excellent"),xn(ip,"ALLOWED_RATING",[ip.RATING_CARDINAL,ip.RAITNG_EXCELLENT]);let RC=ip;const Bl=Zu.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),xf=iu("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let s=t.getComment(t.selectedKey);return s?s.label:""},activeComments:t=>{const s=sr();return t.comments.filter(i=>(t.showOtherCorrectors||i.corrector_key==s.correctorKey)&&(t.filterKeys.length==0||t.filterKeys.includes(i.key)))},isOtherCorrectorsShown:t=>t.showOtherCorrectors,isFilterActive:t=>t.filterKeys.length>0,getComment:t=>function(i){return t.comments.find(u=>u.key==i)},getCommentByMarkKey:t=>function(i){return t.comments.find(u=>u.hasMarkKey(i))},getActiveCommentsInRange:t=>function(i,u){return t.activeComments.filter(m=>m.start_position<=u&&m.end_position>=i)},getActiveCommentsByStartPosition:t=>function(i){return t.activeComments.filter(u=>u.start_position==i)},getActiveCommentsByParentNumber:t=>function(i){return t.activeComments.filter(u=>u.parent_number==i)},getCountOfExcellent:t=>function(i){return t.comments.filter(u=>u.corrector_key==i&&u.rating_excellent).length},getCountOfCardinal:t=>function(i){return t.comments.filter(u=>u.corrector_key==i&&u.rating_cardinal).length}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,s=!0){this.selectedKey=t,s&&(this.selectionChange=Date.now())},async createComment(t,s,i){let u=new RC({start_position:t,end_position:s,parent_number:i});return await this.addComment(u),u.key},async addComment(t){const s=sr(),i=Qa();return t.item_key=s.itemKey,t.corrector_key=s.correctorKey,this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Bl.setItem(t.key,JSON.stringify(t.getData())),await Bl.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new _r({type:_r.TYPE_COMMENT,action:_r.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,s=!1){const i=sr(),u=lc(),m=Qa();this.keys.includes(t.key)&&t.corrector_key==i.correctorKey&&!u.isOwnDisabled&&(await Bl.setItem(t.key,JSON.stringify(t.getData())),await m.setChange(new _r({type:_r.TYPE_COMMENT,action:_r.ACTION_SAVE,key:t.key,item_key:t.item_key})),s&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const s=Qa();await Jg().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Bl.setItem("keys",JSON.stringify(this.keys)),await Bl.removeItem(t));const m=new _r({type:_r.TYPE_COMMENT,action:_r.ACTION_DELETE,key:u.key,item_key:u.item_key});t.substr(0,4)=="temp"?await s.unsetChange(m):await s.setChange(m)},async sortAndLabelComments(){const t=sr(),s=Qg();this.comments=this.comments.sort(b0e);let i=0,u={};for(const m of this.comments){const h=s.getCorrector(m.corrector_key),x=h?h.initials:"??";if(m.parent_number>i){i=m.parent_number;for(const w of s.correctorKeys)u[w]=0;u[m.corrector_key]=1}else u[m.corrector_key]++;m.label=x+" "+i.toString()+"."+u[m.corrector_key].toString(),m.prefix=m.corrector_key==t.correctorKey?"own":"other"}},setFilterByRating(t,s,i){this.filterKeys=[];for(const u of this.comments)u.corrector_key==t&&u.rating_excellent==s&&u.rating_cardinal==i&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const s=Jg();this.filterKeys=[];for(const i of this.comments)i.corrector_key==t&&s.getCommentHasPoints(i.key)&&this.filterKeys.push(i.key);this.setFilterChange()},setFilterByCriterion(t,s){const i=Jg();this.filterKeys=[];for(const u of this.comments)u.corrector_key==t&&i.getCommentHasPointsForCriterion(u.key,s)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(t){this.showOtherCorrectors=!!t,this.markerChange=Date.now(),await Bl.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Bl.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=sr();try{this.$reset();const s=await Bl.getItem("keys");s&&(this.keys=JSON.parse(s)),this.showOtherCorrectors=!!JSON.parse(await Bl.getItem("showOtherCorrectors"));for(const i of this.keys){const u=new RC(JSON.parse(await Bl.getItem(i)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(s){console.log(s)}},async loadFromData(t){const s=sr();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Bl.getItem("showOtherCorrectors")),await Bl.clear();for(const i of t){const u=new RC(i);this.keys.push(u.key),await Bl.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Bl.setItem("keys",JSON.stringify(this.keys)),await Bl.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(i){console.log(i)}},async getChangedData(t=0){const s=sr(),i=Qa(),u=[];for(const m of i.getChangesFor(_r.TYPE_COMMENT,t)){const h=await Bl.getItem(m.key);h?u.push(s.getChangeDataToSend(m,JSON.parse(h))):u.push(s.getChangeDataToSend(m))}return u},async updateKeys(t={}){let s=[],i=[],u=[];for(const x of this.keys)if(x in t){if(t[x]==null)s.push(x);else if(x!=t[x]){let w=new RC(JSON.parse(await Bl.getItem(x)));w.key=t[x],i.push(x),u.push(w)}}let m=null;i.includes(this.selectedKey)&&(m=t[this.selectedKey],this.selectComment(m,!1)),this.comments=this.comments.filter(x=>!s.includes(x.key));for(const x of this.comments)i.includes(x.key)&&(x.key=t[x.key]);let h=[];for(const x of this.filterKeys)i.includes(x)?h.push(t[x]):h.push(x);this.filterKeys=h,this.keys=this.keys.filter(x=>!s.includes(x)&&!i.includes(x));for(const x of s)await Bl.removeItem(x);for(const x of i)this.keys.push(t[x]),await Bl.removeItem(x);for(const x of u)await Bl.setItem(x.key,JSON.stringify(x.getData()));return await Bl.setItem("keys",JSON.stringify(this.keys)),m}}}),b0e=function(t,s){return t.parent_number<s.parent_number?-1:t.parent_number>s.parent_number?1:t.start_position<s.start_position?-1:t.start_position>s.start_position?1:0},aU=Zu.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),X0=iu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:Ar.INCLUDE_INFO,include_comment_ratings:Ar.INCLUDE_INFO,include_comment_points:Ar.INCLUDE_INFO,include_criteria_points:Ar.INCLUDE_INFO}),getters:{allData:t=>({essay_page_zoom:t.essay_page_zoom,essay_text_zoom:t.essay_text_zoom,summary_text_zoom:t.summary_text_zoom,include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points}),summaryInclusions:t=>({include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points})},actions:{async clearStorage(){try{await aU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await aU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await aU.setItem("preferences",this.allData)}catch(t){console.log(t)}},async loadFromData(t){try{this.$patch(t),this.sent=!0,await this.saveToStorage()}catch(s){console.log(s)}},async update(){const t=Qa(),s=sr();await this.saveToStorage(),s.correctorKey&&await t.setChange(new _r({type:_r.TYPE_PREFERENCES,action:_r.ACTION_SAVE,key:"preferences",item_key:s.itemKey}))},async getChangedData(t=0){const s=sr(),i=Qa(),u=[];for(const m of i.getChangesFor(_r.TYPE_PREFERENCES,t))u.push(s.getChangeDataToSend(m,this.allData));return u},setSummaryInclusions(t){this.include_comments=t.include_comments,this.include_comment_ratings=t.include_comment_ratings,this.include_comment_points=t.include_comment_points,this.include_criteria_points=t.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),{t:Tc}=c1.global,ux=Zu.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),lU=200;function v0e(){return{keys:[],summaries:{},editSummary:new Ar,lastCheck:0}}let LB=0;const lc=iu("summaries",{state:()=>v0e(),getters:{isOwnDisabled:t=>t.editSummary.corrector_key==""||t.editSummary.is_authorized,isOwnAuthorized:t=>t.editSummary.is_authorized,isOneAuthorized:t=>{for(const s in t.summaries)if(t.summaries[s].is_authorized)return!0;return!1},areOthersAuthorized:t=>{for(const s in t.summaries){const i=t.summaries[s];if(i.getKey()!=t.editSummary.getKey()&&!i.is_authorized)return!1}return!0},currentPartialPointsAreIncluded:t=>Am().hasOwnCriteria?t.currentInclusionSettings.include_criteria_points>Ar.INCLUDE_NOT:t.currentInclusionSettings.include_comment_points>Ar.INCLUDE_NOT,currentGradeTitle(t){if(t.editSummary.grade_key){let i=Ex().getLevel(t.editSummary.grade_key);if(i)return i.title}return Tc("summariesNoGrade")},currentInclusionSettings:t=>{const s=su(),i=X0();return s.fixed_inclusions?s.summaryInclusions:t.editSummary.getInclusionSettings(i.summaryInclusions)},getAuthorizationForCorrector:t=>function(i){for(const u in t.summaries){const m=t.summaries[u];if(m.corrector_key==i)return m.is_authorized}return!1},getForCorrector:t=>function(i){for(const u in t.summaries){const m=t.summaries[u];if(m.corrector_key==i)return m}return null},getInclusionText:t=>{su();const s=Am();return function(u){let m="",h={};return u.corrector_key==t.editSummary.corrector_key?h=t.currentInclusionSettings:h=u.getInclusionSettings(),h.include_comments==Ar.INCLUDE_INFO?m=(m?m+", ":"")+Tc("summariesIncludeComments")+Tc("summariesIncludeInformative"):h.include_comments==Ar.INCLUDE_RELEVANT&&(m=(m?m+", ":"")+Tc("summariesIncludeComments")+Tc("summariesIncludeRelevant")),h.include_comment_ratings==Ar.INCLUDE_INFO?m=(m?m+", ":"")+Tc("summariesIncludeRatings")+" (i)":h.include_comment_ratings==Ar.INCLUDE_RELEVANT&&(m=(m?m+", ":"")+Tc("summariesIncludeRatings")+" (r)"),h.include_comment_points==Ar.INCLUDE_INFO?m=(m?m+", ":"")+Tc("summariesIncludePointsToComments")+Tc("summariesIncludeInformative"):h.include_comment_points==Ar.INCLUDE_RELEVANT&&(m=(m?m+", ":"")+Tc("summariesIncludePointsToComments")+Tc("summariesIncludeRelevant")),s.hasOwnCriteria&&(h.include_criteria_points==Ar.INCLUDE_INFO?m=(m?m+", ":"")+Tc("summariesIncludePointsToCriteria")+Tc("summariesIncludeInformative"):h.include_criteria_points==Ar.INCLUDE_RELEVANT&&(m=(m?m+", ":"")+Tc("summariesIncludePointsToCriteria")+Tc("summariesIncludeRelevant"))),m==""&&(m=Tc("summariesIncludeNoDetails")),m}},stitchReasonText:t=>{let s=null,i=null,u=0,m=0;for(const x in t.summaries){const w=t.summaries[x].points;w!==null&&(u+=w,m++,(s===null||w<s)&&(s=w),(i===null||w>i)&&(i=w))}if(m==0)return"";const h=su();if(h.stitch_when_distance&&i-s>h.max_auto_distance)return Tc("summariesPointsDifferenceExceedsN",[h.max_auto_distance]);if(h.stitch_when_decimals){let x=u/m;if(Math.floor(x)<x)return Tc("summariesPointsAverageIsNotInteger",[x])}return""},minPoints:t=>{let s=null;for(const i in t.summaries){const u=t.summaries[i].points;(s===null||u<s)&&(s=u)}return s},maxPoints:t=>{let s=null;for(const i in t.summaries){const u=t.summaries[i].points;(s===null||u>s)&&(s=u)}return s}},actions:{async clearStorage(){try{await ux.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=sr();try{this.$reset();const s=await ux.getItem("keys");s&&(this.keys=JSON.parse(s));for(const i of this.keys){const u=new Ar(JSON.parse(await ux.getItem(i)));u.item_key==t.itemKey&&(this.summaries[i]=u),u.corrector_key==t.correctorKey&&(this.editSummary=u.getClone())}}catch(s){console.log(s)}LB=0,t.setInterval("summariesStore.updateContent",this.updateContent,lU)},async loadFromData(t){const s=sr();try{await ux.clear(),this.$reset();for(const i of t){const u=new Ar(i);this.keys.push(u.getKey()),await ux.setItem(u.getKey(),JSON.stringify(u.getData())),u.item_key==s.itemKey&&(this.summaries[u.getKey()]=u),u.corrector_key==s.correctorKey&&(this.editSummary=u.getClone())}await ux.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}LB=0,s.setInterval("summariesStore.updateContent",this.updateContent,lU)},async updateContent(t=!1,s=!1){const i=this.summaries[this.editSummary.getKey()]??new Ar;if(i.is_authorized)return;const u=Date.now();if(u-this.lastCheck<lU&&!s||LB++&&!s||kx().correctionEndReached)return;const h=su();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>h.max_points&&(this.editSummary.points=h.max_points);let w=Ex().getLevelForPoints(this.editSummary.points);w?this.editSummary.grade_key=w.key:this.editSummary.grade_key="";try{const T=this.editSummary.getClone();if(!T.isEqual(i)&&this.keys.includes(T.getKey())){const D=sr(),I=Qa();T.last_change=D.getServerTime(Date.now()),this.editSummary.setData(T.getData()),this.summaries[T.getKey()]=T,await ux.setItem(i.getKey(),JSON.stringify(T.getData())),await I.setChange(new _r({type:_r.TYPE_SUMMARY,action:_r.ACTION_SAVE,key:T.getKey(),item_key:T.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(T){console.error(T)}LB=0},async getChangedData(t=0){const s=sr(),i=Qa(),u=[];for(const m of i.getChangesFor(_r.TYPE_SUMMARY,t)){const h=await ux.getItem(m.key);h?u.push(s.getChangeDataToSend(m,JSON.parse(h))):u.push(s.getChangeDataToSend(m))}return u},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}}),OI=class OI{constructor(s={}){xn(this,"key","");xn(this,"purpose","");xn(this,"text","");xn(this,"deleted",!1);s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key=OI.newKey(),s.purpose!==void 0&&s.purpose!==null&&(this.purpose=s.purpose.toString()),s.text!==void 0&&s.text!==null&&(this.text=s.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static compare(s,i){return s.text<i.text?-1:s.text>i.text?1:0}getData(){return{key:this.key,purpose:this.purpose,text:this.text}}};xn(OI,"FOR_COMMENT","for_comment"),xn(OI,"FOR_SUMMARY","for_summary");let Fl=OI;const Hg=Zu.createInstance({storeName:"corrector-snippets",description:"Text Snippets"}),FC=iu("snippets",{state:()=>({keys:[],snippets:[],selection_open:!1,open_for_purpose:null,open_for_key:null,open_text:"",insert_text:"",select:null,edit:new Fl}),getters:{forComment:t=>t.snippets.filter(s=>s.purpose==Fl.FOR_COMMENT),forSummary:t=>t.snippets.filter(s=>s.purpose==Fl.FOR_SUMMARY),has:t=>function(i){return t.keys.includes(i)},get:t=>function(i){return t.snippets.find(u=>u.key==i)}},actions:{openSelection(t,s,i=""){this.open_for_purpose=t,this.open_for_key=s,this.open_text=i,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await Hg.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await Hg.getItem("keys");t&&(this.keys=JSON.parse(t));for(const s of this.keys)this.snippets.push(new Fl(JSON.parse(await Hg.getItem(s)))),this.snippets=this.snippets.sort(Fl.compare)}catch(t){console.log(t)}},async loadFromData(t){try{await Hg.clear(),this.$reset();for(const s of t){const i=new Fl(s);this.keys.push(i.key),await Hg.setItem(i.key,JSON.stringify(i.getData())),this.snippets.push(i),this.snippets=this.snippets.sort(Fl.compare)}await Hg.setItem("keys",JSON.stringify(this.keys))}catch(s){console.log(s)}},async createSnippet(t){this.keys.push(t.key),this.snippets.push(t),this.snippets=this.snippets.sort(Fl.compare),await Hg.setItem(t.key,JSON.stringify(t.getData())),await Hg.setItem("keys",JSON.stringify(this.keys)),await Qa().setChange(new _r({type:_r.TYPE_SNIPPETS,action:_r.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(this.snippets=this.snippets.sort(Fl.compare),await Hg.setItem(t.key,JSON.stringify(t.getData())),await Qa().setChange(new _r({type:_r.TYPE_SNIPPETS,action:_r.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(this.snippets=this.snippets.filter(i=>i.key!=t).sort(Fl.compare),this.keys=this.keys.filter(i=>i!=t),await Hg.setItem("keys",JSON.stringify(this.keys)),await Hg.removeItem(t),await Qa().setChange(new _r({type:_r.TYPE_SNIPPETS,action:_r.ACTION_DELETE,key:t})))},async getChangedData(t=0){const s=sr(),i=Qa(),u=[];for(const m of i.getChangesFor(_r.TYPE_SNIPPETS,t)){const h=await Hg.getItem(m.key);h?u.push(s.getChangeDataToSend(m,JSON.parse(h))):u.push(s.getChangeDataToSend(m))}return u}}});var cU={exports:{}},uU={exports:{}},VY;function y0e(){return VY||(VY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return s.rotl(i,8)&16711935|s.rotl(i,24)&4278255360;for(var u=0;u<i.length;u++)i[u]=s.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(i){for(var u=[],m=0,h=0;m<i.length;m++,h+=8)u[h>>>5]|=i[m]<<24-h%32;return u},wordsToBytes:function(i){for(var u=[],m=0;m<i.length*32;m+=8)u.push(i[m>>>5]>>>24-m%32&255);return u},bytesToHex:function(i){for(var u=[],m=0;m<i.length;m++)u.push((i[m]>>>4).toString(16)),u.push((i[m]&15).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],m=0;m<i.length;m+=2)u.push(parseInt(i.substr(m,2),16));return u},bytesToBase64:function(i){for(var u=[],m=0;m<i.length;m+=3)for(var h=i[m]<<16|i[m+1]<<8|i[m+2],x=0;x<4;x++)m*8+x*6<=i.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],m=0,h=0;m<i.length;h=++m%4)h!=0&&u.push((t.indexOf(i.charAt(m-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(i.charAt(m))>>>6-h*2);return u}};uU.exports=s}()),uU.exports}var dU,zY;function HY(){if(zY)return dU;zY=1;var t={utf8:{stringToBytes:function(s){return t.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(t.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var i=[],u=0;u<s.length;u++)i.push(s.charCodeAt(u)&255);return i},bytesToString:function(s){for(var i=[],u=0;u<s.length;u++)i.push(String.fromCharCode(s[u]));return i.join("")}}};return dU=t,dU}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var fU,UY;function x0e(){if(UY)return fU;UY=1,fU=function(i){return i!=null&&(t(i)||s(i)||!!i._isBuffer)};function t(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function s(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&t(i.slice(0,0))}return fU}var WY;function w0e(){return WY||(WY=1,function(){var t=y0e(),s=HY().utf8,i=x0e(),u=HY().bin,m=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=s.stringToBytes(h):i(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var w=t.bytesToWords(h),T=h.length*8,D=1732584193,I=-271733879,P=-1732584194,z=271733878,K=0;K<w.length;K++)w[K]=(w[K]<<8|w[K]>>>24)&16711935|(w[K]<<24|w[K]>>>8)&4278255360;w[T>>>5]|=128<<T%32,w[(T+64>>>9<<4)+14]=T;for(var W=m._ff,J=m._gg,oe=m._hh,U=m._ii,K=0;K<w.length;K+=16){var he=D,ue=I,Z=P,de=z;D=W(D,I,P,z,w[K+0],7,-680876936),z=W(z,D,I,P,w[K+1],12,-389564586),P=W(P,z,D,I,w[K+2],17,606105819),I=W(I,P,z,D,w[K+3],22,-1044525330),D=W(D,I,P,z,w[K+4],7,-176418897),z=W(z,D,I,P,w[K+5],12,1200080426),P=W(P,z,D,I,w[K+6],17,-1473231341),I=W(I,P,z,D,w[K+7],22,-45705983),D=W(D,I,P,z,w[K+8],7,1770035416),z=W(z,D,I,P,w[K+9],12,-1958414417),P=W(P,z,D,I,w[K+10],17,-42063),I=W(I,P,z,D,w[K+11],22,-1990404162),D=W(D,I,P,z,w[K+12],7,1804603682),z=W(z,D,I,P,w[K+13],12,-40341101),P=W(P,z,D,I,w[K+14],17,-1502002290),I=W(I,P,z,D,w[K+15],22,1236535329),D=J(D,I,P,z,w[K+1],5,-165796510),z=J(z,D,I,P,w[K+6],9,-1069501632),P=J(P,z,D,I,w[K+11],14,643717713),I=J(I,P,z,D,w[K+0],20,-373897302),D=J(D,I,P,z,w[K+5],5,-701558691),z=J(z,D,I,P,w[K+10],9,38016083),P=J(P,z,D,I,w[K+15],14,-660478335),I=J(I,P,z,D,w[K+4],20,-405537848),D=J(D,I,P,z,w[K+9],5,568446438),z=J(z,D,I,P,w[K+14],9,-1019803690),P=J(P,z,D,I,w[K+3],14,-187363961),I=J(I,P,z,D,w[K+8],20,1163531501),D=J(D,I,P,z,w[K+13],5,-1444681467),z=J(z,D,I,P,w[K+2],9,-51403784),P=J(P,z,D,I,w[K+7],14,1735328473),I=J(I,P,z,D,w[K+12],20,-1926607734),D=oe(D,I,P,z,w[K+5],4,-378558),z=oe(z,D,I,P,w[K+8],11,-2022574463),P=oe(P,z,D,I,w[K+11],16,1839030562),I=oe(I,P,z,D,w[K+14],23,-35309556),D=oe(D,I,P,z,w[K+1],4,-1530992060),z=oe(z,D,I,P,w[K+4],11,1272893353),P=oe(P,z,D,I,w[K+7],16,-155497632),I=oe(I,P,z,D,w[K+10],23,-1094730640),D=oe(D,I,P,z,w[K+13],4,681279174),z=oe(z,D,I,P,w[K+0],11,-358537222),P=oe(P,z,D,I,w[K+3],16,-722521979),I=oe(I,P,z,D,w[K+6],23,76029189),D=oe(D,I,P,z,w[K+9],4,-640364487),z=oe(z,D,I,P,w[K+12],11,-421815835),P=oe(P,z,D,I,w[K+15],16,530742520),I=oe(I,P,z,D,w[K+2],23,-995338651),D=U(D,I,P,z,w[K+0],6,-198630844),z=U(z,D,I,P,w[K+7],10,1126891415),P=U(P,z,D,I,w[K+14],15,-1416354905),I=U(I,P,z,D,w[K+5],21,-57434055),D=U(D,I,P,z,w[K+12],6,1700485571),z=U(z,D,I,P,w[K+3],10,-1894986606),P=U(P,z,D,I,w[K+10],15,-1051523),I=U(I,P,z,D,w[K+1],21,-2054922799),D=U(D,I,P,z,w[K+8],6,1873313359),z=U(z,D,I,P,w[K+15],10,-30611744),P=U(P,z,D,I,w[K+6],15,-1560198380),I=U(I,P,z,D,w[K+13],21,1309151649),D=U(D,I,P,z,w[K+4],6,-145523070),z=U(z,D,I,P,w[K+11],10,-1120210379),P=U(P,z,D,I,w[K+2],15,718787259),I=U(I,P,z,D,w[K+9],21,-343485551),D=D+he>>>0,I=I+ue>>>0,P=P+Z>>>0,z=z+de>>>0}return t.endian([D,I,P,z])};m._ff=function(h,x,w,T,D,I,P){var z=h+(x&w|~x&T)+(D>>>0)+P;return(z<<I|z>>>32-I)+x},m._gg=function(h,x,w,T,D,I,P){var z=h+(x&T|w&~T)+(D>>>0)+P;return(z<<I|z>>>32-I)+x},m._hh=function(h,x,w,T,D,I,P){var z=h+(x^w^T)+(D>>>0)+P;return(z<<I|z>>>32-I)+x},m._ii=function(h,x,w,T,D,I,P){var z=h+(w^(x|~T))+(D>>>0)+P;return(z<<I|z>>>32-I)+x},m._blocksize=16,m._digestsize=16,cU.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var w=t.wordsToBytes(m(h,x));return x&&x.asBytes?w:x&&x.asString?u.bytesToString(w):t.bytesToHex(w)}}()),cU.exports}var C0e=w0e();const _0e=oK(C0e),KY=5e3,sr=iu("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:t=>t.lastLoadingTry>0,isForReviewOrStitch:t=>t.isReview||t.isStitchDecision,storedItemKey:t=>localStorage.getItem("correctorItemKey"),getRequestConfig:t=>function(i){let u=t.backendUrl,m=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(m=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),m.append("LongEssayUser",t.userKey),m.append("LongEssayEnvironment",t.environmentKey),m.append("LongEssayIsReview",t.isReview?"1":"0"),m.append("LongEssayIsStitchDecision",t.isStitchDecision?"1":"0"),m.append("LongEssaySignature",_0e(t.userKey+t.environmentKey+i)),{baseURL:u,params:m,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:t=>function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/file/"+i+"?"+u.params.toString()},getImageUrl:t=>function(i,u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/image/"+u+"/"+i+"?"+m.params.toString()},getThumbUrl:t=>function(i,u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/thumb/"+u+"/"+i+"?"+m.params.toString()},getServerTime:t=>function(i){return Math.floor((i-t.timeOffset)/1e3)},getChangeDataToSend:t=>function(i,u=null){const m=i.getData();return u&&(m.payload=u),m.server_time=t.getServerTime(i.last_change),m}},actions:{async init(){let t=!1,s=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),xs.get("LongEssayUser")!=null&&xs.get("LongEssayUser")!==this.userKey&&(this.userKey=xs.get("LongEssayUser"),t=!0),xs.get("LongEssayEnvironment")!=null&&xs.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=xs.get("LongEssayEnvironment"),t=!0),xs.get("LongEssayCorrector")!=null&&xs.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=xs.get("LongEssayCorrector"),t=!0),xs.get("LongEssayIsReview")!=null&&xs.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=xs.get("LongEssayIsReview")=="1",t=!0),xs.get("LongEssayIsReview")!=null&&xs.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=xs.get("LongEssayIsStitchDecision")=="1",t=!0),this.isForReviewOrStitch&&(this.correctorKey=""),xs.get("LongEssayItem")!=null&&xs.get("LongEssayItem")!==this.itemKey&&(this.itemKey=xs.get("LongEssayItem"),s=!0),xs.get("LongEssayBackend")!=null&&xs.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=xs.get("LongEssayBackend")),xs.get("LongEssayReturn")!=null&&xs.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=xs.get("LongEssayReturn")),xs.get("LongEssayToken")!=null&&xs.get("LongEssayToken")!==this.dataToken&&(this.dataToken=xs.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await Qa().hasChangesInStorage()?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):s?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const t=$b();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey"),await await this.loadItemFromStorage(this.itemKey);const s=t.getItem(this.itemKey);await this.loadDataFromBackend()&&(await t.addItem(s),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const t=xf(),s=$l(),i=Qg();if(this.isForReviewOrStitch&&t.setShowOtherCorrectors(!0),this.isStitchDecision){let u=0;for(const m of i.correctors)if(s.selectCorrector(m.corrector_key),u++,u==2)break}this.initialized=!0},updateConfig(){xs.remove("LongEssayBackend"),xs.remove("LongEssayReturn"),xs.remove("LongEssayUser"),xs.remove("LongEssayEnvironment"),xs.remove("LongEssayCorrector"),xs.remove("LongEssayItem"),xs.remove("LongEssayToken"),xs.remove("LongEssayIsReview"),xs.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const t=Am(),s=$b(),i=$l(),u=Ex(),m=X0(),h=zC(),x=su(),w=kx(),T=FC();return await t.loadFromStorage(),await s.loadFromStorage(),await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await w.loadFromStorage(),await T.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const s=$b();(t==""||s.getItem(t)==null)&&(t=s.firstKey),this.itemKey=t,localStorage.setItem("itemKey",this.itemKey);const i=Qa(),u=xf(),m=Qg(),h=KI(),x=SF(),w=Jg(),T=lc();return await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await w.loadFromStorage(),await T.loadFromStorage(),u.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,KY),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await Ui.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(I){return console.error(I),this.showInitFailure=!0,this.setLoading(!1),!1}const s=Am(),i=$b(),u=$l(),m=Ex(),h=X0(),x=zC(),w=su(),T=kx(),D=FC();return await s.loadFromData(t.data.criteria),await i.loadFromData(t.data.items),await u.clearStorage(),await m.loadFromData(t.data.levels),await h.loadFromData(t.data.preferences),await x.loadFromData(t.data.resources),await w.loadFromData(t.data.settings),await T.loadFromData(t.data.task),await D.loadFromData(t.data.snippets),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const s=$b();(t==""||s.getItem(t)==null)&&(t=s.firstKey);let i={};try{i=await Ui.get("/item/"+t,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i)}catch(I){return console.error(I),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=t,localStorage.setItem("itemKey",this.itemKey),s.updateItem(new dW(i.data.item));const u=Qa(),m=Qg(),h=xf(),x=KI(),w=SF(),T=Jg(),D=lc();return await u.clearStorage(),await m.loadFromData(i.data.correctors),await h.loadFromData(i.data.comments),await x.loadFromData(i.data.essay),await w.loadFromData(i.data.pages),await T.loadFromData(i.data.points),await D.loadFromData(i.data.summaries),h.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,KY),!0},async saveChangesToBackend(t=!1){const s=Qa(),i=xf(),u=Jg(),m=lc(),h=FC(),x=X0();if(!await this.isSending(!0)){this.setSending(!0);try{const w={comments:await i.getChangedData(this.lastSendingTry),points:await u.getChangedData(this.lastSendingTry),summaries:await m.getChangedData(this.lastSendingTry),snippets:await h.getChangedData(this.lastSendingTry),preferences:await x.getChangedData(this.lastSendingTry)},T=await Ui.put("/changes/"+this.itemKey,w,this.getRequestConfig(this.dataToken));this.setTimeOffset(T),this.refreshToken(T);const D=await i.updateKeys(T.data.comments);await u.changeCommentKeys(T.data.comments),await u.updateKeys(T.data.points),D!==null&&await i.selectComment(D,!0),await s.setChangesSent(_r.TYPE_COMMENT,T.data.comments,this.lastSendingTry),await s.setChangesSent(_r.TYPE_POINTS,T.data.points,this.lastSendingTry),await s.setChangesSent(_r.TYPE_SUMMARY,T.data.summaries,this.lastSendingTry),await s.setChangesSent(_r.TYPE_SNIPPETS,T.data.snippets,this.lastSendingTry),await s.setChangesSent(_r.TYPE_PREFERENCES,T.data.preferences,this.lastSendingTry)}catch(w){return console.error(w),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(t){let s={};try{return s=await Ui.put("/stitch/"+this.itemKey,t,this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s),!0}catch(i){return console.error(i),!1}},setTimeOffset(t){if(t.headers.longessaytime){const s=t.headers.longessaytime*1e3,i=Date.now();this.timeOffset=i-s,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.longessaydatatoken&&(this.dataToken=t.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),t.headers.longessayfiletoken&&(this.fileToken=t.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(t=!1){if(t){let s=0;for(;s<5&&this.lastSendingTry>0;)s++,await new Promise(i=>setTimeout(i,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(t){this.showAuthorization=t},setShowSendFailure(t){this.showSendFailure=t},setInterval(t,s,i){t in this.intervals&&clearInterval(this.intervals[t]),this.intervals[t]=setInterval(s,i)},clearAllIntervals(){for(const t in this.intervals)clearInterval(this.intervals[t]),delete this.intervals[t]}}});class jY{constructor(s={}){xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"title","");xn(this,"initials","");xn(this,"position",0);s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.initials!==void 0&&s.initials!==null&&(this.initials=s.initials.toString().toUpperCase()),s.position!==void 0&&s.position!==null&&(this.position=parseInt(s.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const aE=Zu.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),{t:MB}=c1.global,Qg=iu("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:t=>t.correctors.length,correctorKeys:t=>{let s=[];for(const i of t.correctors)s.push(i.corrector_key);return s},otherCorrectors:t=>{const s=sr();return t.correctors.filter(i=>i.corrector_key!=s.correctorKey).sort((i,u)=>i.position-u.position)},getPositionText:t=>function(i){if(t.correctors.length<=1)return"";const u=t.correctors.find(m=>m.corrector_key==i);return u?u.position==0?MB("correctorsFirstCorrector"):u.position==1?MB("correctorsSecondCorrector"):u.position==t.correctors.length-1?MB("correctorsLastCorrector"):MB("correctorsNthCorrector"[u.position+1]):""},getCorrector:t=>function(i){return t.correctors.find(u=>u.corrector_key==i)}},actions:{async clearStorage(){try{await aE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=sr();try{this.$reset();const s=await aE.getItem("correctorKeys");s&&(this.keys=JSON.parse(s));for(const i of this.keys){const u=new jY(JSON.parse(await aE.getItem(i)));u.item_key==t.itemKey&&this.correctors.push(u)}}catch(s){console.log(s)}},async loadFromData(t){const s=sr();try{await aE.clear(),this.$reset();for(const i of t){const u=new jY(i);this.keys.push(u.getKey()),await aE.setItem(u.getKey(),JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.correctors.push(u)}await aE.setItem("correctorKeys",JSON.stringify(this.keys))}catch(i){console.log(i)}}}}),mU=Zu.createInstance({storeName:"corrector-layout",description:"Layout data"}),$l=iu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralCriteria:!0,showMarkingCommentCriteria:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",showIncludesPopup:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectorSelected:t=>t.leftContent=="corrector",isRightCorrectorSelected:t=>t.rightContent=="corrector",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectorVisible:t=>t.isLeftCorrectorSelected&&t.isLeftVisible,isRightCorrectorVisible:t=>t.isRightCorrectorSelected&&t.isRightVisible,isLeftVisible:t=>!sr().isLoading&&t.expandedColumn!="right",isRightVisible:t=>!sr().isLoading&&t.expandedColumn!="left",leftCorrectorTitle:t=>{const s=Qg(),i=s.getCorrector(t.leftCorrectorKey);return i?"Korrektur von "+i.title+" "+s.getPositionText(i.corrector_key):""},rightCorrectorTitle:t=>{const s=Qg(),i=s.getCorrector(t.rightCorrectorKey);return i?"Korrektur von "+i.title+" "+s.getPositionText(i.corrector_key):""},getCorrectorIsVisible:t=>function(i){return t.leftCorrectorKey==i&&t.isLeftCorrectorVisible||t.rightCorrectorKey==i&&t.isRightCorrectorVisible}},actions:{async clearStorage(){try{await mU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await mU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralCriteria=!!t.showMarkingGeneralCriteria,this.showMarkingCommentCriteria=!!t.showMarkingCommentCriteria,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralCriteria&&!this.showMarkingCommentCriteria&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await mU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralCriteria:this.showMarkingGeneralCriteria,showMarkingCommentCriteria:this.showMarkingCommentCriteria,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrector(){this.leftContent="corrector",this.setLeftVisible(),this.saveToStorage()},showRightCorrector(){this.rightContent="corrector",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentCriteriaSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteriaSum")},focusMarkingGeneralCriteria(){this.showMarkingGeneralCriteria||(this.showMarkingGeneralCriteria=!0,this.saveToStorage()),this.setFocusChange("markingGeneralCriteria")},focusMarkingCommentCriteria(){this.showMarkingCommentCriteria||(this.showMarkingCommentCriteria=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteria")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralCriteria(){this.showMarkingGeneralCriteria=!this.showMarkingGeneralCriteria,this.saveToStorage()},toggleMarkingCommentCriteria(){this.showMarkingCommentCriteria=!this.showMarkingCommentCriteria,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(t){const s=sr(),i=Qg();this.leftCorrectorKey==t?this.showLeftCorrector():this.rightCorrectorKey==t?this.showRightCorrector():s.isForReviewOrStitch?i.countCorrectors==1?(this.rightCorrectorKey=t,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=t,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=t,this.showRightCorrector()):(this.leftCorrectorKey=t,this.showLeftCorrector()):(this.leftCorrectorKey=t,this.showLeftCorrector())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),yl=(t,s)=>{const i=t.__vccOpts||t;for(const[u,m]of s)i[u]=m;return i},u1=Ln({border:[Boolean,Number,String]},"border");function d1(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return{borderClasses:Dt(()=>{const u=t.border;return u===!0||u===""?`${s}--border`:typeof u=="string"||u===0?String(u).split(" ").map(m=>`border-${m}`):[]})}}const S0e=[null,"default","comfortable","compact"],th=Ln({density:{type:String,default:"default",validator:t=>S0e.includes(t)}},"density");function vp(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return{densityClasses:gn(()=>`${s}--density-${t.density}`)}}const f1=Ln({elevation:{type:[Number,String],validator(t){const s=parseInt(t);return!isNaN(s)&&s>=0&&s<=24}}},"elevation");function m1(t){return{elevationClasses:gn(()=>{const i=Qs(t)?t.value:t.elevation;return i==null?[]:[`elevation-${i}`]})}}const Tm=Ln({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Om(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return{roundedClasses:Dt(()=>{const u=Qs(t)?t.value:t.rounded,m=Qs(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${s}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(m||u===!1)&&h.push("rounded-0");return h})}}const sa=Ln({tag:{type:[String,Object,Function],default:"div"}},"tag");function aK(t){return WW(()=>{const s=Wb(t),i=[],u={};if(s.background)if(jU(s.background)){if(u.backgroundColor=s.background,!s.text&&yge(s.background)){const m=Vb(s.background);if(m.a==null||m.a===1){const h=vQ(m);u.color=h,u.caretColor=h}}}else i.push(`bg-${s.background}`);return s.text&&(jU(s.text)?(u.color=s.text,u.caretColor=s.text):i.push(`text-${s.text}`)),{colorClasses:i,colorStyles:u}})}function pp(t){const{colorClasses:s,colorStyles:i}=aK(()=>({text:Wb(t)}));return{textColorClasses:s,textColorStyles:i}}function mp(t){const{colorClasses:s,colorStyles:i}=aK(()=>({background:Wb(t)}));return{backgroundColorClasses:s,backgroundColorStyles:i}}const k0e=["elevated","flat","tonal","outlined","text","plain"];function BE(t,s){return ee(lr,null,[t&&ee("span",{key:"overlay",class:go(`${s}__overlay`)},null),ee("span",{key:"underlay",class:go(`${s}__underlay`)},null)])}const g1=Ln({color:String,variant:{type:String,default:"elevated",validator:t=>k0e.includes(t)}},"variant");function FE(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();const i=gn(()=>{const{variant:h}=Wb(t);return`${s}--variant-${h}`}),{colorClasses:u,colorStyles:m}=aK(()=>{const{variant:h,color:x}=Wb(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:m,variantClasses:i}}const Iee=Ln({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...u1(),...zr(),...th(),...f1(),...Tm(),...sa(),...vl(),...g1()},"VBtnGroup"),q0=Bo()({name:"VBtnGroup",props:Iee(),setup(t,s){let{slots:i}=s;const{themeClasses:u}=dc(t),{densityClasses:m}=vp(t),{borderClasses:h}=d1(t),{elevationClasses:x}=m1(t),{roundedClasses:w}=Om(t);Ox({VBtn:{height:gn(()=>t.direction==="horizontal"?"auto":null),baseColor:gn(()=>t.baseColor),color:gn(()=>t.color),density:gn(()=>t.density),flat:!0,variant:gn(()=>t.variant)}}),yr(()=>ae(t.tag,{class:go(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,m.value,x.value,w.value,t.class]),style:Rr(t.style)},i))}}),lK=Ln({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Dee=Ln({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ree(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=Vl("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const m=a1();Fd(Symbol.for(`${s.description}:id`),m);const h=Wi(s,null);if(!h){if(!i)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${s.description}`)}const x=gn(()=>t.value),w=Dt(()=>!!(h.disabled.value||t.disabled));h.register({id:m,value:x,disabled:w},u),Dc(()=>{h.unregister(m)});const T=Dt(()=>h.isSelected(m)),D=Dt(()=>h.items.value[0].id===m),I=Dt(()=>h.items.value[h.items.value.length-1].id===m),P=Dt(()=>T.value&&[h.selectedClass.value,t.selectedClass]);return Dn(T,z=>{u.emit("group:selected",{value:z})},{flush:"sync"}),{id:m,isSelected:T,isFirst:D,isLast:I,toggle:()=>h.select(m,!T.value),select:z=>h.select(m,z),selectedClass:P,value:x,disabled:w,group:h}}function cK(t,s){let i=!1;const u=ql([]),m=Ki(t,"modelValue",[],z=>z==null?[]:Nee(u,wf(z)),z=>{const K=A0e(u,z);return t.multiple?K:K[0]}),h=Vl("useGroup");function x(z,K){const W=z,J=Symbol.for(`${s.description}:id`),U=mE(J,h==null?void 0:h.vnode).indexOf(K);ie(W.value)==null&&(W.value=U,W.useIndexAsValue=!0),U>-1?u.splice(U,0,W):u.push(W)}function w(z){if(i)return;T();const K=u.findIndex(W=>W.id===z);u.splice(K,1)}function T(){const z=u.find(K=>!K.disabled);z&&t.mandatory==="force"&&!m.value.length&&(m.value=[z.id])}ju(()=>{T()}),Dc(()=>{i=!0}),MW(()=>{for(let z=0;z<u.length;z++)u[z].useIndexAsValue&&(u[z].value=z)});function D(z,K){const W=u.find(J=>J.id===z);if(!(K&&(W!=null&&W.disabled)))if(t.multiple){const J=m.value.slice(),oe=J.findIndex(he=>he===z),U=~oe;if(K=K??!U,U&&t.mandatory&&J.length<=1||!U&&t.max!=null&&J.length+1>t.max)return;oe<0&&K?J.push(z):oe>=0&&!K&&J.splice(oe,1),m.value=J}else{const J=m.value.includes(z);if(t.mandatory&&J||!J&&!K)return;m.value=K??!J?[z]:[]}}function I(z){if(t.multiple,m.value.length){const K=m.value[0],W=u.findIndex(U=>U.id===K);let J=(W+z)%u.length,oe=u[J];for(;oe.disabled&&J!==W;)J=(J+z)%u.length,oe=u[J];if(oe.disabled)return;m.value=[u[J].id]}else{const K=u.find(W=>!W.disabled);K&&(m.value=[K.id])}}const P={register:x,unregister:w,selected:m,select:D,disabled:gn(()=>t.disabled),prev:()=>I(u.length-1),next:()=>I(1),isSelected:z=>m.value.includes(z),selectedClass:gn(()=>t.selectedClass),items:gn(()=>u),getItemIndex:z=>E0e(u,z)};return Fd(s,P),P}function E0e(t,s){const i=Nee(t,[s]);return i.length?t.findIndex(u=>u.id===i[0]):-1}function Nee(t,s){const i=[];return s.forEach(u=>{const m=t.find(x=>Xg(u,x.value)),h=t[u];(m==null?void 0:m.value)!=null?i.push(m.id):h!=null&&i.push(h.id)}),i}function A0e(t,s){const i=[];return s.forEach(u=>{const m=t.findIndex(h=>h.id===u);if(~m){const h=t[m];i.push(h.value!=null?h.value:m)}}),i}const Pee=Symbol.for("vuetify:v-btn-toggle"),T0e=Ln({...Iee(),...lK()},"VBtnToggle"),O0e=Bo()({name:"VBtnToggle",props:T0e(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const{isSelected:u,next:m,prev:h,select:x,selected:w}=cK(t,Pee);return yr(()=>{const T=q0.filterProps(t);return ae(q0,Po({class:["v-btn-toggle",t.class]},T,{style:t.style}),{default:()=>{var D;return[(D=i.default)==null?void 0:D.call(i,{isSelected:u,next:m,prev:h,select:x,selected:w})]}})}),{next:m,prev:h,select:x}}}),I0e=Ln({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Sa=Bo(!1)({name:"VDefaultsProvider",props:I0e(),setup(t,s){let{slots:i}=s;const{defaults:u,disabled:m,reset:h,root:x,scoped:w}=BF(t);return Ox(u,{reset:h,root:x,scoped:w,disabled:m}),()=>{var T;return(T=i.default)==null?void 0:T.call(i)}}}),D0e=["x-small","small","default","large","x-large"],pD=Ln({size:{type:[String,Number],default:"default"}},"size");function bD(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return WW(()=>{const i=t.size;let u,m;return uF(D0e,i)?u=`${s}--size-${i}`:i&&(m={width:vr(i),height:vr(i)}),{sizeClasses:u,sizeStyles:m}})}const R0e=Ln({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:zs,opacity:[String,Number],...zr(),...pD(),...sa({tag:"i"}),...vl()},"VIcon"),Un=Bo()({name:"VIcon",props:R0e(),setup(t,s){let{attrs:i,slots:u}=s;const m=ho(),{themeClasses:h}=Uhe(),{iconData:x}=Phe(()=>m.value||t.icon),{sizeClasses:w}=bD(t),{textColorClasses:T,textColorStyles:D}=pp(()=>t.color);return yr(()=>{var z,K;const I=(z=u.default)==null?void 0:z.call(u);I&&(m.value=(K=aQ(I).filter(W=>W.type===uD&&W.children&&typeof W.children=="string")[0])==null?void 0:K.children);const P=!!(i.onClick||i.onClickOnce);return ae(x.value.component,{tag:t.tag,icon:x.value.icon,class:go(["v-icon","notranslate",h.value,w.value,T.value,{"v-icon--clickable":P,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Rr([{"--v-icon-opacity":t.opacity},w.value?void 0:{fontSize:vr(t.size),height:vr(t.size),width:vr(t.size)},D.value,t.style]),role:P?"button":void 0,"aria-hidden":!P,tabindex:P?t.disabled?-1:0:void 0},{default:()=>[I]})}),{}}});function Lee(t,s){const i=Mn(),u=ho(!1);if(UW){const m=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},s);uc(()=>{m.disconnect()}),Dn(i,(h,x)=>{x&&(m.unobserve(x),u.value=!1),h&&m.observe(h)},{flush:"post"})}return{intersectionRef:i,isIntersecting:u}}const N0e=Ln({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...zr(),...pD(),...sa({tag:"div"}),...vl()},"VProgressCircular"),P0e=Bo()({name:"VProgressCircular",props:N0e(),setup(t,s){let{slots:i}=s;const u=20,m=2*Math.PI*u,h=Mn(),{themeClasses:x}=dc(t),{sizeClasses:w,sizeStyles:T}=bD(t),{textColorClasses:D,textColorStyles:I}=pp(()=>t.color),{textColorClasses:P,textColorStyles:z}=pp(()=>t.bgColor),{intersectionRef:K,isIntersecting:W}=Lee(),{resizeRef:J,contentRect:oe}=kE(),U=gn(()=>Cf(parseFloat(t.modelValue),0,100)),he=gn(()=>Number(t.width)),ue=gn(()=>T.value?Number(t.size):oe.value?oe.value.width:Math.max(he.value,32)),Z=gn(()=>u/(1-he.value/ue.value)*2),de=gn(()=>he.value/ue.value*Z.value),re=gn(()=>vr((100-U.value)/100*m));return Bd(()=>{K.value=h.value,J.value=h.value}),yr(()=>ae(t.tag,{ref:h,class:go(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":W.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,w.value,D.value,t.class]),style:Rr([T.value,I.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:U.value},{default:()=>[ee("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${Z.value} ${Z.value}`},[ee("circle",{class:go(["v-progress-circular__underlay",P.value]),style:Rr(z.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":m,"stroke-dashoffset":0},null),ee("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":m,"stroke-dashoffset":re.value},null)]),i.default&&ee("div",{class:"v-progress-circular__content"},[i.default({value:U.value})])]})),{}}}),yp=Ln({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function xp(t){return{dimensionStyles:Dt(()=>{const i={},u=vr(t.height),m=vr(t.maxHeight),h=vr(t.maxWidth),x=vr(t.minHeight),w=vr(t.minWidth),T=vr(t.width);return u!=null&&(i.height=u),m!=null&&(i.maxHeight=m),h!=null&&(i.maxWidth=h),x!=null&&(i.minHeight=x),w!=null&&(i.minWidth=w),T!=null&&(i.width=T),i})}}const ZY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},s8=Ln({location:String},"location");function i8(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=eh();return{locationStyles:Dt(()=>{if(!t.location)return{};const{side:h,align:x}=WU(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function w(D){return i?i(D):0}const T={};return h!=="center"&&(s?T[ZY[h]]=`calc(100% - ${w(h)}px)`:T[h]=0),x!=="center"?s?T[ZY[x]]=`calc(100% - ${w(x)}px)`:T[x]=0:(h==="center"?T.top=T.left="50%":T[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",T.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),T})}}const L0e=Ln({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...zr(),...s8({location:"top"}),...Tm(),...sa(),...vl()},"VProgressLinear"),M0e=Bo()({name:"VProgressLinear",props:L0e(),emits:{"update:modelValue":t=>!0},setup(t,s){var Ae;let{slots:i}=s;const u=Ki(t,"modelValue"),{isRtl:m,rtlClasses:h}=eh(),{themeClasses:x}=dc(t),{locationStyles:w}=i8(t),{textColorClasses:T,textColorStyles:D}=pp(()=>t.color),{backgroundColorClasses:I,backgroundColorStyles:P}=mp(()=>t.bgColor||t.color),{backgroundColorClasses:z,backgroundColorStyles:K}=mp(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:W,backgroundColorStyles:J}=mp(()=>t.color),{roundedClasses:oe}=Om(t),{intersectionRef:U,isIntersecting:he}=Lee(),ue=Dt(()=>parseFloat(t.max)),Z=Dt(()=>parseFloat(t.height)),de=Dt(()=>Cf(parseFloat(t.bufferValue)/ue.value*100,0,100)),re=Dt(()=>Cf(parseFloat(u.value)/ue.value*100,0,100)),Ve=Dt(()=>m.value!==t.reverse),Me=Dt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Ye=ei&&((Ae=window.matchMedia)==null?void 0:Ae.call(window,"(forced-colors: active)").matches);function it(ze){if(!U.value)return;const{left:R,right:Fe,width:Ze}=U.value.getBoundingClientRect(),Ot=Ve.value?Ze-ze.clientX+(Fe-Ze):ze.clientX-R;u.value=Math.round(Ot/Ze*ue.value)}return yr(()=>ae(t.tag,{ref:U,class:go(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&he.value,"v-progress-linear--reverse":Ve.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},oe.value,x.value,h.value,t.class]),style:Rr([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?vr(Z.value):0,"--v-progress-linear-height":vr(Z.value),...t.absolute?w.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),ue.value),onClick:t.clickable&&it},{default:()=>[t.stream&&ee("div",{key:"stream",class:go(["v-progress-linear__stream",T.value]),style:{...D.value,[Ve.value?"left":"right"]:vr(-Z.value),borderTop:`${vr(Z.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${vr(Z.value/4)})`,width:vr(100-de.value,"%"),"--v-progress-linear-stream-to":vr(Z.value*(Ve.value?1:-1))}},null),ee("div",{class:go(["v-progress-linear__background",Ye?void 0:I.value]),style:Rr([P.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),ee("div",{class:go(["v-progress-linear__buffer",Ye?void 0:z.value]),style:Rr([K.value,{opacity:parseFloat(t.bufferOpacity),width:vr(de.value,"%")}])},null),ae(Sx,{name:Me.value},{default:()=>[t.indeterminate?ee("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(ze=>ee("div",{key:ze,class:go(["v-progress-linear__indeterminate",ze,Ye?void 0:W.value]),style:Rr(J.value)},null))]):ee("div",{class:go(["v-progress-linear__determinate",Ye?void 0:W.value]),style:Rr([J.value,{width:vr(re.value,"%")}])},null)]}),i.default&&ee("div",{class:"v-progress-linear__content"},[i.default({value:re.value,buffer:de.value})])]})),{}}}),uK=Ln({loading:[Boolean,String]},"loader");function dK(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return{loaderClasses:gn(()=>({[`${s}--loading`]:t.loading}))}}function Mee(t,s){var u;let{slots:i}=s;return ee("div",{class:go(`${t.name}__loader`)},[((u=i.default)==null?void 0:u.call(i,{color:t.color,isActive:t.active}))||ae(M0e,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const B0e=["static","relative","fixed","absolute","sticky"],fK=Ln({position:{type:String,validator:t=>B0e.includes(t)}},"position");function mK(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();return{positionClasses:gn(()=>t.position?`${s}--${t.position}`:void 0)}}function F0e(){const t=Vl("useRoute");return Dt(()=>{var s;return(s=t==null?void 0:t.proxy)==null?void 0:s.$route})}function Bee(){var t,s;return(s=(t=Vl("useRouter"))==null?void 0:t.proxy)==null?void 0:s.$router}function a8(t,s){var I,P;const i=_fe("RouterLink"),u=gn(()=>!!(t.href||t.to)),m=Dt(()=>(u==null?void 0:u.value)||Iq(s,"click")||Iq(t,"click"));if(typeof i=="string"||!("useLink"in i)){const z=gn(()=>t.href);return{isLink:u,isClickable:m,href:z,linkProps:ql({href:z})}}const h=i.useLink({to:gn(()=>t.to||""),replace:gn(()=>t.replace)}),x=Dt(()=>t.to?h:void 0),w=F0e(),T=Dt(()=>{var z,K,W;return x.value?t.exact?w.value?((W=x.value.isExactActive)==null?void 0:W.value)&&Xg(x.value.route.value.query,w.value.query):((K=x.value.isExactActive)==null?void 0:K.value)??!1:((z=x.value.isActive)==null?void 0:z.value)??!1:!1}),D=Dt(()=>{var z;return t.to?(z=x.value)==null?void 0:z.route.value.href:t.href});return{isLink:u,isClickable:m,isActive:T,route:(I=x.value)==null?void 0:I.route,navigate:(P=x.value)==null?void 0:P.navigate,href:D,linkProps:ql({href:D,"aria-current":gn(()=>T.value?"page":void 0)})}}const l8=Ln({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let gU=!1;function $0e(t,s){let i=!1,u,m;ei&&(t!=null&&t.beforeEach)&&(qo(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,w,T)=>{gU?i?s(T):T():setTimeout(()=>i?s(T):T()),gU=!0}),m=t==null?void 0:t.afterEach(()=>{gU=!1})}),uc(()=>{window.removeEventListener("popstate",h),u==null||u(),m==null||m()}));function h(x){var w;(w=x.state)!=null&&w.replaced||(i=!0,setTimeout(()=>i=!1))}}function V0e(t,s){Dn(()=>{var i;return(i=t.isActive)==null?void 0:i.value},i=>{t.isLink.value&&i!=null&&s&&qo(()=>{s(i)})},{immediate:!0})}const fW=Symbol("rippleStop"),z0e=80;function GY(t,s){t.style.transform=s,t.style.webkitTransform=s}function mW(t){return t.constructor.name==="TouchEvent"}function Fee(t){return t.constructor.name==="KeyboardEvent"}const H0e=function(t,s){var P;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,m=0;if(!Fee(t)){const z=s.getBoundingClientRect(),K=mW(t)?t.touches[t.touches.length-1]:t;u=K.clientX-z.left,m=K.clientY-z.top}let h=0,x=.3;(P=s._ripple)!=null&&P.circle?(x=.15,h=s.clientWidth/2,h=i.center?h:h+Math.sqrt((u-h)**2+(m-h)**2)/4):h=Math.sqrt(s.clientWidth**2+s.clientHeight**2)/2;const w=`${(s.clientWidth-h*2)/2}px`,T=`${(s.clientHeight-h*2)/2}px`,D=i.center?w:`${u-h}px`,I=i.center?T:`${m-h}px`;return{radius:h,scale:x,x:D,y:I,centerX:w,centerY:T}},kF={show(t,s){var K;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((K=s==null?void 0:s._ripple)!=null&&K.enabled))return;const u=document.createElement("span"),m=document.createElement("span");u.appendChild(m),u.className="v-ripple__container",i.class&&(u.className+=` ${i.class}`);const{radius:h,scale:x,x:w,y:T,centerX:D,centerY:I}=H0e(t,s,i),P=`${h*2}px`;m.className="v-ripple__animation",m.style.width=P,m.style.height=P,s.appendChild(u);const z=window.getComputedStyle(s);z&&z.position==="static"&&(s.style.position="relative",s.dataset.previousPosition="static"),m.classList.add("v-ripple__animation--enter"),m.classList.add("v-ripple__animation--visible"),GY(m,`translate(${w}, ${T}) scale3d(${x},${x},${x})`),m.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{m.classList.remove("v-ripple__animation--enter"),m.classList.add("v-ripple__animation--in"),GY(m,`translate(${D}, ${I}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const s=t.getElementsByClassName("v-ripple__animation");if(s.length===0)return;const i=s[s.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const u=performance.now()-Number(i.dataset.activated),m=Math.max(250-u,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((w=i.parentNode)==null?void 0:w.parentNode)===t&&t.removeChild(i.parentNode)},300)},m)}};function $ee(t){return typeof t>"u"||!!t}function jI(t){const s={},i=t.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||t[fW])){if(t[fW]=!0,mW(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(s.center=i._ripple.centered||Fee(t),i._ripple.class&&(s.class=i._ripple.class),mW(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{kF.show(t,i,s)},i._ripple.showTimer=window.setTimeout(()=>{var u;(u=i==null?void 0:i._ripple)!=null&&u.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},z0e)}else kF.show(t,i,s)}}function qY(t){t[fW]=!0}function _m(t){const s=t.currentTarget;if(s!=null&&s._ripple){if(window.clearTimeout(s._ripple.showTimer),t.type==="touchend"&&s._ripple.showTimerCommit){s._ripple.showTimerCommit(),s._ripple.showTimerCommit=null,s._ripple.showTimer=window.setTimeout(()=>{_m(t)});return}window.setTimeout(()=>{s._ripple&&(s._ripple.touched=!1)}),kF.hide(s)}}function Vee(t){const s=t.currentTarget;s!=null&&s._ripple&&(s._ripple.showTimerCommit&&(s._ripple.showTimerCommit=null),window.clearTimeout(s._ripple.showTimer))}let ZI=!1;function YY(t,s){!ZI&&s.includes(t.keyCode)&&(ZI=!0,jI(t))}function zee(t){ZI=!1,_m(t)}function Hee(t){ZI&&(ZI=!1,_m(t))}function Uee(t,s,i){const{value:u,modifiers:m}=s,h=$ee(u);h||kF.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=m.center,t._ripple.circle=m.circle;const x=VU(u)?u:{};x.class&&(t._ripple.class=x.class);const w=x.keys??[zU.enter,zU.space];if(t._ripple.keyDownHandler=T=>YY(T,w),h&&!i){if(m.stop){t.addEventListener("touchstart",qY,{passive:!0}),t.addEventListener("mousedown",qY);return}t.addEventListener("touchstart",jI,{passive:!0}),t.addEventListener("touchend",_m,{passive:!0}),t.addEventListener("touchmove",Vee,{passive:!0}),t.addEventListener("touchcancel",_m),t.addEventListener("mousedown",jI),t.addEventListener("mouseup",_m),t.addEventListener("mouseleave",_m),t.addEventListener("keydown",T=>YY(T,w)),t.addEventListener("keyup",zee),t.addEventListener("blur",Hee),t.addEventListener("dragstart",_m,{passive:!0})}else!h&&i&&Wee(t)}function Wee(t){var s;t.removeEventListener("mousedown",jI),t.removeEventListener("touchstart",jI),t.removeEventListener("touchend",_m),t.removeEventListener("touchmove",Vee),t.removeEventListener("touchcancel",_m),t.removeEventListener("mouseup",_m),t.removeEventListener("mouseleave",_m),(s=t._ripple)!=null&&s.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",zee),t.removeEventListener("dragstart",_m),t.removeEventListener("blur",Hee)}function U0e(t,s){Uee(t,s,!1)}function W0e(t){Wee(t),delete t._ripple}function K0e(t,s){if(s.value===s.oldValue)return;const i=$ee(s.oldValue);Uee(t,s,i)}const r1={mounted:U0e,unmounted:W0e,updated:K0e},j0e=Ln({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Pee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:zs,appendIcon:zs,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...u1(),...zr(),...th(),...yp(),...f1(),...Dee(),...uK(),...s8(),...fK(),...Tm(),...l8(),...pD(),...sa({tag:"button"}),...vl(),...g1({variant:"elevated"})},"VBtn"),yo=Bo()({name:"VBtn",props:j0e(),emits:{"group:selected":t=>!0},setup(t,s){let{attrs:i,slots:u}=s;const{themeClasses:m}=dc(t),{borderClasses:h}=d1(t),{densityClasses:x}=vp(t),{dimensionStyles:w}=xp(t),{elevationClasses:T}=m1(t),{loaderClasses:D}=dK(t),{locationStyles:I}=i8(t),{positionClasses:P}=mK(t),{roundedClasses:z}=Om(t),{sizeClasses:K,sizeStyles:W}=bD(t),J=Ree(t,t.symbol,!1),oe=a8(t,i),U=Dt(()=>{var Ae;return t.active!==void 0?t.active:oe.isLink.value?(Ae=oe.isActive)==null?void 0:Ae.value:J==null?void 0:J.isSelected.value}),he=gn(()=>U.value?t.activeColor??t.color:t.color),ue=Dt(()=>{var ze,R;return{color:(J==null?void 0:J.isSelected.value)&&(!oe.isLink.value||((ze=oe.isActive)==null?void 0:ze.value))||!J||((R=oe.isActive)==null?void 0:R.value)?he.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:Z,colorStyles:de,variantClasses:re}=FE(ue),Ve=Dt(()=>(J==null?void 0:J.disabled.value)||t.disabled),Me=gn(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Ye=Dt(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function it(Ae){var ze;Ve.value||oe.isLink.value&&(Ae.metaKey||Ae.ctrlKey||Ae.shiftKey||Ae.button!==0||i.target==="_blank")||((ze=oe.navigate)==null||ze.call(oe,Ae),J==null||J.toggle())}return V0e(oe,J==null?void 0:J.select),yr(()=>{const Ae=oe.isLink.value?"a":t.tag,ze=!!(t.prependIcon||u.prepend),R=!!(t.appendIcon||u.append),Fe=!!(t.icon&&t.icon!==!0);return zn(ae(Ae,Po({type:Ae==="a"?void 0:"button",class:["v-btn",J==null?void 0:J.selectedClass.value,{"v-btn--active":U.value,"v-btn--block":t.block,"v-btn--disabled":Ve.value,"v-btn--elevated":Me.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},m.value,h.value,Z.value,x.value,T.value,D.value,P.value,z.value,K.value,re.value,t.class],style:[de.value,w.value,I.value,W.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:Ve.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:it,value:Ye.value},oe.linkProps),{default:()=>{var Ze;return[BE(!0,"v-btn"),!t.icon&&ze&&ee("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ae(Sa,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ae(Un,{key:"prepend-icon",icon:t.prependIcon},null)]),ee("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&Fe?ae(Un,{key:"content-icon",icon:t.icon},null):ae(Sa,{key:"content-defaults",disabled:!Fe,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var Ot;return[((Ot=u.default)==null?void 0:Ot.call(u))??We(t.text)]}})]),!t.icon&&R&&ee("span",{key:"append",class:"v-btn__append"},[u.append?ae(Sa,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ae(Un,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&ee("span",{key:"loader",class:"v-btn__loader"},[((Ze=u.loader)==null?void 0:Ze.call(u))??ae(P0e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[r1,!Ve.value&&t.ripple,"",{center:!!t.icon}]])}),{group:J}}}),Zg=Bo()({name:"VCardActions",props:zr(),setup(t,s){let{slots:i}=s;return Ox({VBtn:{slim:!0,variant:"text"}}),yr(()=>{var u;return ee("div",{class:go(["v-card-actions",t.class]),style:Rr(t.style)},[(u=i.default)==null?void 0:u.call(i)])}),{}}}),Z0e=Ln({opacity:[Number,String],...zr(),...sa()},"VCardSubtitle"),G0e=Bo()({name:"VCardSubtitle",props:Z0e(),setup(t,s){let{slots:i}=s;return yr(()=>ae(t.tag,{class:go(["v-card-subtitle",t.class]),style:Rr([{"--v-card-subtitle-opacity":t.opacity},t.style])},i)),{}}}),vD=jF("v-card-title");function q0e(t){return{aspectStyles:Dt(()=>{const s=Number(t.aspectRatio);return s?{paddingBottom:String(1/s*100)+"%"}:void 0})}}const Kee=Ln({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...zr(),...yp()},"VResponsive"),XY=Bo()({name:"VResponsive",props:Kee(),setup(t,s){let{slots:i}=s;const{aspectStyles:u}=q0e(t),{dimensionStyles:m}=xp(t);return yr(()=>{var h;return ee("div",{class:go(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Rr([m.value,t.style])},[ee("div",{class:"v-responsive__sizer",style:Rr(u.value)},null),(h=i.additional)==null?void 0:h.call(i),i.default&&ee("div",{class:go(["v-responsive__content",t.contentClass])},[i.default()])])}),{}}}),$E=Ln({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),bx=(t,s)=>{let{slots:i}=s;const{transition:u,disabled:m,group:h,...x}=t,{component:w=h?HW:Sx,...T}=VU(u)?u:{};let D;return VU(u)?D=Po(T,tge({disabled:m,group:h}),x):D=Po({name:m||!u?"":u},x),Kb(w,D,i)};function Y0e(t,s){if(!UW)return;const i=s.modifiers||{},u=s.value,{handler:m,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var P;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1?arguments[1]:void 0;const D=(P=t._observe)==null?void 0:P[s.instance.$.uid];if(!D)return;const I=w.some(z=>z.isIntersecting);m&&(!i.quiet||D.init)&&(!i.once||I||D.init)&&m(I,w,T),I&&i.once?jee(t,s):D.init=!0},h);t._observe=Object(t._observe),t._observe[s.instance.$.uid]={init:!1,observer:x},x.observe(t)}function jee(t,s){var u;const i=(u=t._observe)==null?void 0:u[s.instance.$.uid];i&&(i.observer.unobserve(t),delete t._observe[s.instance.$.uid])}const AE={mounted:Y0e,unmounted:jee},X0e=Ln({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Kee(),...zr(),...Tm(),...$E()},"VImg"),yD=Bo()({name:"VImg",directives:{vIntersect:AE},props:X0e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,s){let{emit:i,slots:u}=s;const{backgroundColorClasses:m,backgroundColorStyles:h}=mp(()=>t.color),{roundedClasses:x}=Om(t),w=Vl("VImg"),T=ho(""),D=Mn(),I=ho(t.eager?"loading":"idle"),P=ho(),z=ho(),K=Dt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),W=Dt(()=>K.value.aspect||P.value/z.value||0);Dn(()=>t.src,()=>{J(I.value!=="idle")}),Dn(W,(ze,R)=>{!ze&&R&&D.value&&Z(D.value)}),cD(()=>J());function J(ze){if(!(t.eager&&ze)&&!(UW&&!ze&&!t.eager)){if(I.value="loading",K.value.lazySrc){const R=new Image;R.src=K.value.lazySrc,Z(R,null)}K.value.src&&qo(()=>{var R;i("loadstart",((R=D.value)==null?void 0:R.currentSrc)||K.value.src),setTimeout(()=>{var Fe;if(!w.isUnmounted)if((Fe=D.value)!=null&&Fe.complete){if(D.value.naturalWidth||U(),I.value==="error")return;W.value||Z(D.value,null),I.value==="loading"&&oe()}else W.value||Z(D.value),he()})})}}function oe(){var ze;w.isUnmounted||(he(),Z(D.value),I.value="loaded",i("load",((ze=D.value)==null?void 0:ze.currentSrc)||K.value.src))}function U(){var ze;w.isUnmounted||(I.value="error",i("error",((ze=D.value)==null?void 0:ze.currentSrc)||K.value.src))}function he(){const ze=D.value;ze&&(T.value=ze.currentSrc||ze.src)}let ue=-1;Dc(()=>{clearTimeout(ue)});function Z(ze){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Fe=()=>{if(clearTimeout(ue),w.isUnmounted)return;const{naturalHeight:Ze,naturalWidth:Ot}=ze;Ze||Ot?(P.value=Ot,z.value=Ze):!ze.complete&&I.value==="loading"&&R!=null?ue=window.setTimeout(Fe,R):(ze.currentSrc.endsWith(".svg")||ze.currentSrc.startsWith("data:image/svg+xml"))&&(P.value=1,z.value=1)};Fe()}const de=gn(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),re=()=>{var Fe;if(!K.value.src||I.value==="idle")return null;const ze=ee("img",{class:go(["v-img__img",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.src,srcset:K.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:D,onLoad:oe,onError:U},null),R=(Fe=u.sources)==null?void 0:Fe.call(u);return ae(bx,{transition:t.transition,appear:!0},{default:()=>[zn(R?ee("picture",{class:"v-img__picture"},[R,ze]):ze,[[To,I.value==="loaded"]])]})},Ve=()=>ae(bx,{transition:t.transition},{default:()=>[K.value.lazySrc&&I.value!=="loaded"&&ee("img",{class:go(["v-img__img","v-img__img--preload",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Me=()=>u.placeholder?ae(bx,{transition:t.transition,appear:!0},{default:()=>[(I.value==="loading"||I.value==="error"&&!u.error)&&ee("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,Ye=()=>u.error?ae(bx,{transition:t.transition,appear:!0},{default:()=>[I.value==="error"&&ee("div",{class:"v-img__error"},[u.error()])]}):null,it=()=>t.gradient?ee("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Ae=ho(!1);{const ze=Dn(W,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ae.value=!0})}),ze())})}return yr(()=>{const ze=XY.filterProps(t);return zn(ae(XY,Po({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!Ae.value},m.value,x.value,t.class],style:[{width:vr(t.width==="auto"?P.value:t.width)},h.value,t.style]},ze,{aspectRatio:W.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>ee(lr,null,[ae(re,null,null),ae(Ve,null,null),ae(it,null,null),ae(Me,null,null),ae(Ye,null,null)]),default:u.default}),[[AE,{handler:J,options:t.options},null,{once:!0}]])}),{currentSrc:T,image:D,state:I,naturalWidth:P,naturalHeight:z}}}),J0e=Ln({start:Boolean,end:Boolean,icon:zs,image:String,text:String,...u1(),...zr(),...th(),...Tm(),...pD(),...sa(),...vl(),...g1({variant:"flat"})},"VAvatar"),Ax=Bo()({name:"VAvatar",props:J0e(),setup(t,s){let{slots:i}=s;const{themeClasses:u}=dc(t),{borderClasses:m}=d1(t),{colorClasses:h,colorStyles:x,variantClasses:w}=FE(t),{densityClasses:T}=vp(t),{roundedClasses:D}=Om(t),{sizeClasses:I,sizeStyles:P}=bD(t);return yr(()=>ae(t.tag,{class:go(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,m.value,h.value,T.value,D.value,I.value,w.value,t.class]),style:Rr([x.value,P.value,t.style])},{default:()=>[i.default?ae(Sa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[i.default()]}):t.image?ae(yD,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ae(Un,{key:"icon",icon:t.icon},null):t.text,BE(!1,"v-avatar")]})),{}}}),Q0e=Ln({appendAvatar:String,appendIcon:zs,prependAvatar:String,prependIcon:zs,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...zr(),...th()},"VCardItem"),e1e=Bo()({name:"VCardItem",props:Q0e(),setup(t,s){let{slots:i}=s;return yr(()=>{var D;const u=!!(t.prependAvatar||t.prependIcon),m=!!(u||i.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||i.append),w=!!(t.title!=null||i.title),T=!!(t.subtitle!=null||i.subtitle);return ee("div",{class:go(["v-card-item",t.class]),style:Rr(t.style)},[m&&ee("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?ae(Sa,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},i.prepend):ee(lr,null,[t.prependAvatar&&ae(Ax,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ae(Un,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),ee("div",{class:"v-card-item__content"},[w&&ae(vD,{key:"title"},{default:()=>{var I;return[((I=i.title)==null?void 0:I.call(i))??We(t.title)]}}),T&&ae(G0e,{key:"subtitle"},{default:()=>{var I;return[((I=i.subtitle)==null?void 0:I.call(i))??We(t.subtitle)]}}),(D=i.default)==null?void 0:D.call(i)]),x&&ee("div",{key:"append",class:"v-card-item__append"},[i.append?ae(Sa,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},i.append):ee(lr,null,[t.appendIcon&&ae(Un,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ae(Ax,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),t1e=Ln({opacity:[Number,String],...zr(),...sa()},"VCardText"),Gg=Bo()({name:"VCardText",props:t1e(),setup(t,s){let{slots:i}=s;return yr(()=>ae(t.tag,{class:go(["v-card-text",t.class]),style:Rr([{"--v-card-text-opacity":t.opacity},t.style])},i)),{}}}),n1e=Ln({appendAvatar:String,appendIcon:zs,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...u1(),...zr(),...th(),...yp(),...f1(),...uK(),...s8(),...fK(),...Tm(),...l8(),...sa(),...vl(),...g1({variant:"elevated"})},"VCard"),up=Bo()({name:"VCard",directives:{vRipple:r1},props:n1e(),setup(t,s){let{attrs:i,slots:u}=s;const{themeClasses:m}=dc(t),{borderClasses:h}=d1(t),{colorClasses:x,colorStyles:w,variantClasses:T}=FE(t),{densityClasses:D}=vp(t),{dimensionStyles:I}=xp(t),{elevationClasses:P}=m1(t),{loaderClasses:z}=dK(t),{locationStyles:K}=i8(t),{positionClasses:W}=mK(t),{roundedClasses:J}=Om(t),oe=a8(t,i);return yr(()=>{const U=t.link!==!1&&oe.isLink.value,he=!t.disabled&&t.link!==!1&&(t.link||oe.isClickable.value),ue=U?"a":t.tag,Z=!!(u.title||t.title!=null),de=!!(u.subtitle||t.subtitle!=null),re=Z||de,Ve=!!(u.append||t.appendAvatar||t.appendIcon),Me=!!(u.prepend||t.prependAvatar||t.prependIcon),Ye=!!(u.image||t.image),it=re||Me||Ve,Ae=!!(u.text||t.text!=null);return zn(ae(ue,Po({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":he},m.value,h.value,x.value,D.value,P.value,z.value,W.value,J.value,T.value,t.class],style:[w.value,I.value,K.value,t.style],onClick:he&&oe.navigate,tabindex:t.disabled?-1:void 0},oe.linkProps),{default:()=>{var ze;return[Ye&&ee("div",{key:"image",class:"v-card__image"},[u.image?ae(Sa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ae(yD,{key:"image-img",cover:!0,src:t.image},null)]),ae(Mee,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),it&&ae(e1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),Ae&&ae(Gg,{key:"text"},{default:()=>{var R;return[((R=u.text)==null?void 0:R.call(u))??t.text]}}),(ze=u.default)==null?void 0:ze.call(u),u.actions&&ae(Zg,null,{default:u.actions}),BE(he,"v-card")]}}),[[r1,he&&t.ripple]])}),{}}}),o1e=Ln({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Im(t,s,i){return Bo()({name:t,props:o1e({mode:i,origin:s}),setup(u,m){let{slots:h}=m;const x={onBeforeEnter(w){u.origin&&(w.style.transformOrigin=u.origin)},onLeave(w){if(u.leaveAbsolute){const{offsetTop:T,offsetLeft:D,offsetWidth:I,offsetHeight:P}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${T}px`,w.style.left=`${D}px`,w.style.width=`${I}px`,w.style.height=`${P}px`}u.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(u.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:T,top:D,left:I,width:P,height:z}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=T||"",w.style.top=D||"",w.style.left=I||"",w.style.width=P||"",w.style.height=z||""}}};return()=>{const w=u.group?HW:Sx;return Kb(w,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function Zee(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Bo()({name:t,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(u,m){let{slots:h}=m;const x=u.group?HW:Sx;return()=>Kb(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:s},h.default)}})}function Gee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Md(`offset-${i}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[i]:x.style[i]}},onEnter(x){const w=x._initialStyle;if(!w)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const T=`${x[u]}px`;x.style[i]="0",x.offsetHeight,x.style.transition=w.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[i]=T})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[i]:x.style[i]},x.style.overflow="hidden",x.style[i]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[i]="0")},onAfterLeave:m,onLeaveCancelled:m};function m(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const w=x._initialStyle[i];x.style.overflow=x._initialStyle.overflow,w!=null&&(x.style[i]=w),delete x._initialStyle}}const r1e=Ln({target:[Object,Array]},"v-dialog-transition"),hU=new WeakMap,gK=Bo()({name:"VDialogTransition",props:r1e(),setup(t,s){let{slots:i}=s;const u={onBeforeEnter(m){m.style.pointerEvents="none",m.style.visibility="hidden"},async onEnter(m,h){var K;await new Promise(W=>requestAnimationFrame(W)),await new Promise(W=>requestAnimationFrame(W)),m.style.visibility="";const x=QY(t.target,m),{x:w,y:T,sx:D,sy:I,speed:P}=x;hU.set(m,x);const z=gE(m,[{transform:`translate(${w}px, ${T}px) scale(${D}, ${I})`,opacity:0},{}],{duration:225*P,easing:Dge});(K=JY(m))==null||K.forEach(W=>{gE(W,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*P,easing:mF})}),z.finished.then(()=>h())},onAfterEnter(m){m.style.removeProperty("pointer-events")},onBeforeLeave(m){m.style.pointerEvents="none"},async onLeave(m,h){var K;await new Promise(W=>requestAnimationFrame(W));let x;!hU.has(m)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=QY(t.target,m):x=hU.get(m);const{x:w,y:T,sx:D,sy:I,speed:P}=x;gE(m,[{},{transform:`translate(${w}px, ${T}px) scale(${D}, ${I})`,opacity:0}],{duration:125*P,easing:Rge}).finished.then(()=>h()),(K=JY(m))==null||K.forEach(W=>{gE(W,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*P,easing:mF})})},onAfterLeave(m){m.style.removeProperty("pointer-events")}};return()=>t.target?ae(Sx,Po({name:"dialog-transition"},u,{css:!1}),i):ae(Sx,{name:"dialog-transition"},i)}});function JY(t){var i;const s=(i=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return s&&[...s]}function QY(t,s){const i=fQ(t),u=ZW(s),[m,h]=getComputedStyle(s).transformOrigin.split(" ").map(U=>parseFloat(U)),[x,w]=getComputedStyle(s).getPropertyValue("--v-overlay-anchor-origin").split(" ");let T=i.left+i.width/2;x==="left"||w==="left"?T-=i.width/2:(x==="right"||w==="right")&&(T+=i.width/2);let D=i.top+i.height/2;x==="top"||w==="top"?D-=i.height/2:(x==="bottom"||w==="bottom")&&(D+=i.height/2);const I=i.width/u.width,P=i.height/u.height,z=Math.max(1,I,P),K=I/z||0,W=P/z||0,J=u.width*u.height/(window.innerWidth*window.innerHeight),oe=J>.12?Math.min(1.5,(J-.12)*10+1):1;return{x:T-(m+u.left),y:D-(h+u.top),sx:K,sy:W,speed:oe}}Im("fab-transition","center center","out-in");Im("dialog-bottom-transition");Im("dialog-top-transition");const eX=Im("fade-transition");Im("scale-transition");Im("scroll-x-transition");Im("scroll-x-reverse-transition");Im("scroll-y-transition");Im("scroll-y-reverse-transition");Im("slide-x-transition");Im("slide-x-reverse-transition");const qee=Im("slide-y-transition");Im("slide-y-reverse-transition");const Yee=Zee("expand-transition",Gee()),Xee=Zee("expand-x-transition",Gee("",!0));function pU(t,s){return{x:t.x+s.x,y:t.y+s.y}}function s1e(t,s){return{x:t.x-s.x,y:t.y-s.y}}function tX(t,s){if(t.side==="top"||t.side==="bottom"){const{side:i,align:u}=t,m=u==="left"?0:u==="center"?s.width/2:u==="right"?s.width:u,h=i==="top"?0:i==="bottom"?s.height:i;return pU({x:m,y:h},s)}else if(t.side==="left"||t.side==="right"){const{side:i,align:u}=t,m=i==="left"?0:i==="right"?s.width:i,h=u==="top"?0:u==="center"?s.height/2:u==="bottom"?s.height:u;return pU({x:m,y:h},s)}return pU({x:s.width/2,y:s.height/2},s)}const Jee={static:l1e,connected:u1e},i1e=Ln({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Jee},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function a1e(t,s){const i=Mn({}),u=Mn();ei&&Yg(()=>!!(s.isActive.value&&t.locationStrategy),w=>{var T,D;Dn(()=>t.locationStrategy,w),uc(()=>{window.removeEventListener("resize",m),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",m,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(T=t.locationStrategy(s,t,i))==null?void 0:T.updateLocation:u.value=(D=Jee[t.locationStrategy](s,t,i))==null?void 0:D.updateLocation});function m(w){var T;(T=u.value)==null||T.call(u,w)}function h(w){var T;(T=u.value)==null||T.call(u,w)}function x(w){var T;(T=u.value)==null||T.call(u,w)}return{contentStyles:i,updateLocation:u}}function l1e(){}function c1e(t,s){const i=ZW(t);return s?i.x+=parseFloat(t.style.right||0):i.x-=parseFloat(t.style.left||0),i.y-=parseFloat(t.style.top||0),i}function u1e(t,s,i){(Array.isArray(t.target.value)||Pge(t.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:m,preferredOrigin:h}=WW(()=>{const U=WU(s.location,t.isRtl.value),he=s.origin==="overlap"?U:s.origin==="auto"?jH(U):WU(s.origin,t.isRtl.value);return U.side===he.side&&U.align===ZH(he).align?{preferredAnchor:Dq(U),preferredOrigin:Dq(he)}:{preferredAnchor:U,preferredOrigin:he}}),[x,w,T,D]=["minWidth","minHeight","maxWidth","maxHeight"].map(U=>Dt(()=>{const he=parseFloat(s[U]);return isNaN(he)?1/0:he})),I=Dt(()=>{if(Array.isArray(s.offset))return s.offset;if(typeof s.offset=="string"){const U=s.offset.split(" ").map(parseFloat);return U.length<2&&U.push(0),U}return typeof s.offset=="number"?[s.offset,0]:[0,0]});let P=!1,z=-1;const K=new lQ(4),W=new ResizeObserver(()=>{if(!P)return;if(requestAnimationFrame(he=>{he!==z&&K.clear(),requestAnimationFrame(ue=>{z=ue})}),K.isFull){const he=K.values();if(Xg(he.at(-1),he.at(-3))&&!Xg(he.at(-1),he.at(-2)))return}const U=oe();U&&K.push(U.flipped)});Dn([t.target,t.contentEl],(U,he)=>{let[ue,Z]=U,[de,re]=he;de&&!Array.isArray(de)&&W.unobserve(de),ue&&!Array.isArray(ue)&&W.observe(ue),re&&W.unobserve(re),Z&&W.observe(Z)},{immediate:!0}),uc(()=>{W.disconnect()});let J=new Hb({x:0,y:0,width:0,height:0});function oe(){if(P=!1,requestAnimationFrame(()=>P=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(J=fQ(t.target.value));const U=c1e(t.contentEl.value,t.isRtl.value),he=gF(t.contentEl.value),ue=12;he.length||(he.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(U.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),U.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Z=he.reduce((R,Fe)=>{const Ze=oge(Fe);return R?new Hb({x:Math.max(R.left,Ze.left),y:Math.max(R.top,Ze.top),width:Math.min(R.right,Ze.right)-Math.max(R.left,Ze.left),height:Math.min(R.bottom,Ze.bottom)-Math.max(R.top,Ze.top)}):Ze},void 0);Z.x+=ue,Z.y+=ue,Z.width-=ue*2,Z.height-=ue*2;let de={anchor:m.value,origin:h.value};function re(R){const Fe=new Hb(U),Ze=tX(R.anchor,J),Ot=tX(R.origin,Fe);let{x:Gt,y:ut}=s1e(Ze,Ot);switch(R.anchor.side){case"top":ut-=I.value[0];break;case"bottom":ut+=I.value[0];break;case"left":Gt-=I.value[0];break;case"right":Gt+=I.value[0];break}switch(R.anchor.align){case"top":ut-=I.value[1];break;case"bottom":ut+=I.value[1];break;case"left":Gt-=I.value[1];break;case"right":Gt+=I.value[1];break}return Fe.x+=Gt,Fe.y+=ut,Fe.width=Math.min(Fe.width,T.value),Fe.height=Math.min(Fe.height,D.value),{overflows:Nq(Fe,Z),x:Gt,y:ut}}let Ve=0,Me=0;const Ye={x:0,y:0},it={x:!1,y:!1};let Ae=-1;for(;!(Ae++>10);){const{x:R,y:Fe,overflows:Ze}=re(de);Ve+=R,Me+=Fe,U.x+=R,U.y+=Fe;{const Ot=Rq(de.anchor),Gt=Ze.x.before||Ze.x.after,ut=Ze.y.before||Ze.y.after;let kn=!1;if(["x","y"].forEach(Et=>{if(Et==="x"&&Gt&&!it.x||Et==="y"&&ut&&!it.y){const tt={anchor:{...de.anchor},origin:{...de.origin}},Pe=Et==="x"?Ot==="y"?ZH:jH:Ot==="y"?jH:ZH;tt.anchor=Pe(tt.anchor),tt.origin=Pe(tt.origin);const{overflows:mt}=re(tt);(mt[Et].before<=Ze[Et].before&&mt[Et].after<=Ze[Et].after||mt[Et].before+mt[Et].after<(Ze[Et].before+Ze[Et].after)/2)&&(de=tt,kn=it[Et]=!0)}}),kn)continue}Ze.x.before&&(Ve+=Ze.x.before,U.x+=Ze.x.before),Ze.x.after&&(Ve-=Ze.x.after,U.x-=Ze.x.after),Ze.y.before&&(Me+=Ze.y.before,U.y+=Ze.y.before),Ze.y.after&&(Me-=Ze.y.after,U.y-=Ze.y.after);{const Ot=Nq(U,Z);Ye.x=Z.width-Ot.x.before-Ot.x.after,Ye.y=Z.height-Ot.y.before-Ot.y.after,Ve+=Ot.x.before,U.x+=Ot.x.before,Me+=Ot.y.before,U.y+=Ot.y.before}break}const ze=Rq(de.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${de.anchor.side} ${de.anchor.align}`,transformOrigin:`${de.origin.side} ${de.origin.align}`,top:vr(bU(Me)),left:t.isRtl.value?void 0:vr(bU(Ve)),right:t.isRtl.value?vr(bU(-Ve)):void 0,minWidth:vr(ze==="y"?Math.min(x.value,J.width):x.value),maxWidth:vr(nX(Cf(Ye.x,x.value===1/0?0:x.value,T.value))),maxHeight:vr(nX(Cf(Ye.y,w.value===1/0?0:w.value,D.value)))}),{available:Ye,contentBox:U,flipped:it}}return Dn(()=>[m.value,h.value,s.offset,s.minWidth,s.minHeight,s.maxWidth,s.maxHeight],()=>oe()),qo(()=>{const U=oe();if(!U)return;const{available:he,contentBox:ue}=U;ue.height>he.y&&requestAnimationFrame(()=>{oe(),requestAnimationFrame(()=>{oe()})})}),{updateLocation:oe}}function bU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function nX(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let gW=!0;const EF=[];function d1e(t){!gW||EF.length?(EF.push(t),hW()):(gW=!1,t(),hW())}let oX=-1;function hW(){cancelAnimationFrame(oX),oX=requestAnimationFrame(()=>{const t=EF.shift();t&&t(),EF.length?hW():gW=!0})}const XB={none:null,close:g1e,block:h1e,reposition:p1e},f1e=Ln({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in XB}},"VOverlay-scroll-strategies");function m1e(t,s){if(!ei)return;let i;Bd(async()=>{i==null||i.stop(),s.isActive.value&&t.scrollStrategy&&(i=Cx(),await new Promise(u=>setTimeout(u)),i.active&&i.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(s,t,i):(u=XB[t.scrollStrategy])==null||u.call(XB,s,t,i)}))}),uc(()=>{i==null||i.stop()})}function g1e(t){function s(i){t.isActive.value=!1}Qee(t.targetEl.value??t.contentEl.value,s)}function h1e(t,s){var x;const i=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...gF(t.targetEl.value,s.contained?i:void 0),...gF(t.contentEl.value,s.contained?i:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),m=window.innerWidth-document.documentElement.offsetWidth,h=(w=>YW(w)&&w)(i||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((w,T)=>{w.style.setProperty("--v-body-scroll-x",vr(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",vr(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",vr(m)),w.classList.add("v-overlay-scroll-blocked")}),uc(()=>{u.forEach((w,T)=>{const D=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),I=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),P=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-D,w.scrollTop=-I,w.style.scrollBehavior=P}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function p1e(t,s,i){let u=!1,m=-1,h=-1;function x(w){d1e(()=>{var I,P;const T=performance.now();(P=(I=t.updateLocation).value)==null||P.call(I,w),u=(performance.now()-T)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{i.run(()=>{Qee(t.targetEl.value??t.contentEl.value,w=>{u?(cancelAnimationFrame(m),m=requestAnimationFrame(()=>{m=requestAnimationFrame(()=>{x(w)})})):x(w)})})}),uc(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(m)})}function Qee(t,s){const i=[document,...gF(t)];i.forEach(u=>{u.addEventListener("scroll",s,{passive:!0})}),uc(()=>{i.forEach(u=>{u.removeEventListener("scroll",s)})})}const pW=Symbol.for("vuetify:v-menu"),ete=Ln({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function tte(t,s){let i=()=>{};function u(x){i==null||i();const w=Number(x?t.openDelay:t.closeDelay);return new Promise(T=>{i=Jme(w,()=>{s==null||s(x),T(x)})})}function m(){return u(!0)}function h(){return u(!1)}return{clearDelay:i,runOpenDelay:m,runCloseDelay:h}}const b1e=Ln({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ete()},"VOverlay-activator");function v1e(t,s){let{isActive:i,isTop:u,contentEl:m}=s;const h=Vl("useActivator"),x=Mn();let w=!1,T=!1,D=!0;const I=Dt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),P=Dt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!I.value),{runOpenDelay:z,runCloseDelay:K}=tte(t,Me=>{Me===(t.openOnHover&&w||I.value&&T)&&!(t.openOnHover&&i.value&&!u.value)&&(i.value!==Me&&(D=!0),i.value=Me)}),W=Mn(),J={onClick:Me=>{Me.stopPropagation(),x.value=Me.currentTarget||Me.target,i.value||(W.value=[Me.clientX,Me.clientY]),i.value=!i.value},onMouseenter:Me=>{var Ye;(Ye=Me.sourceCapabilities)!=null&&Ye.firesTouchEvents||(w=!0,x.value=Me.currentTarget||Me.target,z())},onMouseleave:Me=>{w=!1,K()},onFocus:Me=>{_E(Me.target,":focus-visible")!==!1&&(T=!0,Me.stopPropagation(),x.value=Me.currentTarget||Me.target,z())},onBlur:Me=>{T=!1,Me.stopPropagation(),K()}},oe=Dt(()=>{const Me={};return P.value&&(Me.onClick=J.onClick),t.openOnHover&&(Me.onMouseenter=J.onMouseenter,Me.onMouseleave=J.onMouseleave),I.value&&(Me.onFocus=J.onFocus,Me.onBlur=J.onBlur),Me}),U=Dt(()=>{const Me={};if(t.openOnHover&&(Me.onMouseenter=()=>{w=!0,z()},Me.onMouseleave=()=>{w=!1,K()}),I.value&&(Me.onFocusin=()=>{T=!0,z()},Me.onFocusout=()=>{T=!1,K()}),t.closeOnContentClick){const Ye=Wi(pW,null);Me.onClick=()=>{i.value=!1,Ye==null||Ye.closeParents()}}return Me}),he=Dt(()=>{const Me={};return t.openOnHover&&(Me.onMouseenter=()=>{D&&(w=!0,D=!1,z())},Me.onMouseleave=()=>{w=!1,K()}),Me});Dn(u,Me=>{var Ye;Me&&(t.openOnHover&&!w&&(!I.value||!T)||I.value&&!T&&(!t.openOnHover||!w))&&!((Ye=m.value)!=null&&Ye.contains(document.activeElement))&&(i.value=!1)}),Dn(i,Me=>{Me||setTimeout(()=>{W.value=void 0})},{flush:"post"});const ue=HU();Bd(()=>{ue.value&&qo(()=>{x.value=ue.el})});const Z=HU(),de=Dt(()=>t.target==="cursor"&&W.value?W.value:Z.value?Z.el:nte(t.target,h)||x.value),re=Dt(()=>Array.isArray(de.value)?void 0:de.value);let Ve;return Dn(()=>!!t.activator,Me=>{Me&&ei?(Ve=Cx(),Ve.run(()=>{y1e(t,h,{activatorEl:x,activatorEvents:oe})})):Ve&&Ve.stop()},{flush:"post",immediate:!0}),uc(()=>{Ve==null||Ve.stop()}),{activatorEl:x,activatorRef:ue,target:de,targetEl:re,targetRef:Z,activatorEvents:oe,contentEvents:U,scrimEvents:he}}function y1e(t,s,i){let{activatorEl:u,activatorEvents:m}=i;Dn(()=>t.activator,(T,D)=>{if(D&&T!==D){const I=w(D);I&&x(I)}T&&qo(()=>h())},{immediate:!0}),Dn(()=>t.activatorProps,()=>{h()}),uc(()=>{x()});function h(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;T&&rge(T,Po(m.value,D))}function x(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;T&&sge(T,Po(m.value,D))}function w(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const D=nte(T,s);return u.value=(D==null?void 0:D.nodeType)===Node.ELEMENT_NODE?D:void 0,u.value}}function nte(t,s){var u,m;if(!t)return;let i;if(t==="parent"){let h=(m=(u=s==null?void 0:s.proxy)==null?void 0:u.$el)==null?void 0:m.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;i=h}else typeof t=="string"?i=document.querySelector(t):"$el"in t?i=t.$el:i=t;return i}function x1e(){if(!ei)return ho(!1);const{ssr:t}=GF();if(t){const s=ho(!1);return ju(()=>{s.value=!0}),s}else return ho(!0)}const w1e=Ln({eager:Boolean},"lazy");function C1e(t,s){const i=ho(!1),u=gn(()=>i.value||t.eager||s.value);Dn(s,()=>i.value=!0);function m(){t.eager||(i.value=!1)}return{isBooted:i,hasContent:u,onAfterLeave:m}}function c8(){const s=Vl("useScopeId").vnode.scopeId;return{scopeId:s?{[s]:""}:void 0}}const rX=Symbol.for("vuetify:stack"),pI=ql([]);function _1e(t,s,i){const u=Vl("useStack"),m=!i,h=Wi(rX,void 0),x=ql({activeChildren:new Set});Fd(rX,x);const w=ho(Number(Wb(s)));Yg(t,()=>{var P;const I=(P=pI.at(-1))==null?void 0:P[1];w.value=I?I+10:Number(Wb(s)),m&&pI.push([u.uid,w.value]),h==null||h.activeChildren.add(u.uid),uc(()=>{if(m){const z=gr(pI).findIndex(K=>K[0]===u.uid);pI.splice(z,1)}h==null||h.activeChildren.delete(u.uid)})});const T=ho(!0);m&&Bd(()=>{var P;const I=((P=pI.at(-1))==null?void 0:P[0])===u.uid;setTimeout(()=>T.value=I)});const D=gn(()=>!x.activeChildren.size);return{globalTop:DE(T),localTop:D,stackStyles:gn(()=>({zIndex:w.value}))}}function S1e(t){return{teleportTarget:Dt(()=>{const i=t();if(i===!0||!ei)return;const u=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(u==null)return;let m=[...u.children].find(h=>h.matches(".v-overlay-container"));return m||(m=document.createElement("div"),m.className="v-overlay-container",u.appendChild(m)),m})}}function k1e(){return!0}function ote(t,s,i){if(!t||rte(t,i)===!1)return!1;const u=yQ(s);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const m=(typeof i.value=="object"&&i.value.include||(()=>[]))();return m.push(s),!m.some(h=>h==null?void 0:h.contains(t.target))}function rte(t,s){return(typeof s.value=="object"&&s.value.closeConditional||k1e)(t)}function E1e(t,s,i){const u=typeof i.value=="function"?i.value:i.value.handler;t.shadowTarget=t.target,s._clickOutside.lastMousedownWasOutside&&ote(t,s,i)&&setTimeout(()=>{rte(t,i)&&u&&u(t)},0)}function sX(t,s){const i=yQ(t);s(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&s(i)}const iX={mounted(t,s){const i=m=>E1e(m,t,s),u=m=>{t._clickOutside.lastMousedownWasOutside=ote(m,t,s)};sX(t,m=>{m.addEventListener("click",i,!0),m.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[s.instance.$.uid]={onClick:i,onMousedown:u}},beforeUnmount(t,s){t._clickOutside&&(sX(t,i=>{var h;if(!i||!((h=t._clickOutside)!=null&&h[s.instance.$.uid]))return;const{onClick:u,onMousedown:m}=t._clickOutside[s.instance.$.uid];i.removeEventListener("click",u,!0),i.removeEventListener("mousedown",m,!0)}),delete t._clickOutside[s.instance.$.uid])}};function A1e(t){const{modelValue:s,color:i,...u}=t;return ae(Sx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&ee("div",Po({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const hK=Ln({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...b1e(),...zr(),...yp(),...w1e(),...i1e(),...f1e(),...vl(),...$E()},"VOverlay"),AF=Bo()({name:"VOverlay",directives:{vClickOutside:iX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...hK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,s){let{slots:i,attrs:u,emit:m}=s;const h=Vl("VOverlay"),x=Mn(),w=Mn(),T=Mn(),D=Ki(t,"modelValue"),I=Dt({get:()=>D.value,set:nn=>{nn&&t.disabled||(D.value=nn)}}),{themeClasses:P}=dc(t),{rtlClasses:z,isRtl:K}=eh(),{hasContent:W,onAfterLeave:J}=C1e(t,I),oe=mp(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:U,localTop:he,stackStyles:ue}=_1e(I,()=>t.zIndex,t._disableGlobalStack),{activatorEl:Z,activatorRef:de,target:re,targetEl:Ve,targetRef:Me,activatorEvents:Ye,contentEvents:it,scrimEvents:Ae}=v1e(t,{isActive:I,isTop:he,contentEl:T}),{teleportTarget:ze}=S1e(()=>{var co,Kt,pn;const nn=t.attach||t.contained;if(nn)return nn;const Q=((co=Z==null?void 0:Z.value)==null?void 0:co.getRootNode())||((pn=(Kt=h.proxy)==null?void 0:Kt.$el)==null?void 0:pn.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:R}=xp(t),Fe=x1e(),{scopeId:Ze}=c8();Dn(()=>t.disabled,nn=>{nn&&(I.value=!1)});const{contentStyles:Ot,updateLocation:Gt}=a1e(t,{isRtl:K,contentEl:T,target:re,isActive:I});m1e(t,{root:x,contentEl:T,targetEl:Ve,isActive:I,updateLocation:Gt});function ut(nn){m("click:outside",nn),t.persistent?po():I.value=!1}function kn(nn){return I.value&&U.value&&(!t.scrim||nn.target===w.value||nn instanceof MouseEvent&&nn.shadowTarget===w.value)}ei&&Dn(I,nn=>{nn?window.addEventListener("keydown",Et):window.removeEventListener("keydown",Et)},{immediate:!0}),Dc(()=>{ei&&window.removeEventListener("keydown",Et)});function Et(nn){var Q,co,Kt;nn.key==="Escape"&&U.value&&((Q=T.value)!=null&&Q.contains(document.activeElement)||m("keydown",nn),t.persistent?po():(I.value=!1,(co=T.value)!=null&&co.contains(document.activeElement)&&((Kt=Z.value)==null||Kt.focus())))}function tt(nn){nn.key==="Escape"&&!U.value||m("keydown",nn)}const Pe=Bee();Yg(()=>t.closeOnBack,()=>{$0e(Pe,nn=>{U.value&&I.value?(nn(!1),t.persistent?po():I.value=!1):nn()})});const mt=Mn();Dn(()=>I.value&&(t.absolute||t.contained)&&ze.value==null,nn=>{if(nn){const Q=xQ(x.value);Q&&Q!==document.scrollingElement&&(mt.value=Q.scrollTop)}});function po(){t.noClickAnimation||T.value&&gE(T.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:mF})}function Ht(){m("afterEnter")}function On(){J(),m("afterLeave")}return yr(()=>{var nn;return ee(lr,null,[(nn=i.activator)==null?void 0:nn.call(i,{isActive:I.value,targetRef:Me,props:Po({ref:de},Ye.value,t.activatorProps)}),Fe.value&&W.value&&ae(ffe,{disabled:!ze.value,to:ze.value},{default:()=>[ee("div",Po({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":I.value,"v-overlay--contained":t.contained},P.value,z.value,t.class],style:[ue.value,{"--v-overlay-opacity":t.opacity,top:vr(mt.value)},t.style],ref:x,onKeydown:tt},Ze,u),[ae(A1e,Po({color:oe,modelValue:I.value&&!!t.scrim,ref:w},Ae.value),null),ae(bx,{appear:!0,persisted:!0,transition:t.transition,target:re.value,onAfterEnter:Ht,onAfterLeave:On},{default:()=>{var Q;return[zn(ee("div",Po({ref:T,class:["v-overlay__content",t.contentClass],style:[R.value,Ot.value]},it.value,t.contentProps),[(Q=i.default)==null?void 0:Q.call(i,{isActive:I})]),[[To,I.value],[iX,{handler:ut,closeConditional:kn,include:()=>[Z.value]}]])]}})])]})])}),{activatorEl:Z,scrimEl:w,target:re,animateClick:po,contentEl:T,globalTop:U,localTop:he,updateLocation:Gt}}}),vU=Symbol("Forwarded refs");function yU(t,s){let i=t;for(;i;){const u=Reflect.getOwnPropertyDescriptor(i,s);if(u)return u;i=Object.getPrototypeOf(i)}}function WC(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];return t[vU]=i,new Proxy(t,{get(m,h){if(Reflect.has(m,h))return Reflect.get(m,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of i)if(x.value&&Reflect.has(x.value,h)){const w=Reflect.get(x.value,h);return typeof w=="function"?w.bind(x.value):w}}},has(m,h){if(Reflect.has(m,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of i)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(m,h,x){if(Reflect.has(m,h))return Reflect.set(m,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const w of i)if(w.value&&Reflect.has(w.value,h))return Reflect.set(w.value,h,x);return!1},getOwnPropertyDescriptor(m,h){var w;const x=Reflect.getOwnPropertyDescriptor(m,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const T of i){if(!T.value)continue;const D=yU(T.value,h)??("_"in T.value?yU((w=T.value._)==null?void 0:w.setupState,h):void 0);if(D)return D}for(const T of i){const D=T.value&&T.value[vU];if(!D)continue;const I=D.slice();for(;I.length;){const P=I.shift(),z=yU(P.value,h);if(z)return z;const K=P.value&&P.value[vU];K&&I.push(...K)}}}}})}const T1e=Ln({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...hK({origin:"center center",scrollStrategy:"block",transition:{component:gK},zIndex:2400})},"VDialog"),dp=Bo()({name:"VDialog",props:T1e(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,s){let{emit:i,slots:u}=s;const m=Ki(t,"modelValue"),{scopeId:h}=c8(),x=Mn();function w(I){var K,W;const P=I.relatedTarget,z=I.target;if(P!==z&&((K=x.value)!=null&&K.contentEl)&&((W=x.value)!=null&&W.globalTop)&&![document,x.value.contentEl].includes(z)&&!x.value.contentEl.contains(z)){const J=FI(x.value.contentEl);if(!J.length)return;const oe=J[0],U=J[J.length-1];P===oe?U.focus():oe.focus()}}Dc(()=>{document.removeEventListener("focusin",w)}),ei&&Dn(()=>m.value&&t.retainFocus,I=>{I?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function T(){var I;i("afterEnter"),(t.scrim||t.retainFocus)&&((I=x.value)!=null&&I.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function D(){i("afterLeave")}return Dn(m,async I=>{var P;I||(await qo(),(P=x.value.activatorEl)==null||P.focus({preventScroll:!0}))}),yr(()=>{const I=AF.filterProps(t),P=Po({"aria-haspopup":"dialog"},t.activatorProps),z=Po({tabindex:-1},t.contentProps);return ae(AF,Po({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},I,{modelValue:m.value,"onUpdate:modelValue":K=>m.value=K,"aria-modal":"true",activatorProps:P,contentProps:z,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:T,onAfterLeave:D},h),{activator:u.activator,default:function(){for(var K=arguments.length,W=new Array(K),J=0;J<K;J++)W[J]=arguments[J];return ae(Sa,{root:"VDialog"},{default:()=>{var oe;return[(oe=u.default)==null?void 0:oe.call(u,...W)]}})}})}),WC({},x)}}),O1e=Ln({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...zr(),...th(),...sa(),...vl()},"VTable"),lp=Bo()({name:"VTable",props:O1e(),setup(t,s){let{slots:i,emit:u}=s;const{themeClasses:m}=dc(t),{densityClasses:h}=vp(t);return yr(()=>ae(t.tag,{class:go(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},m.value,h.value,t.class]),style:Rr(t.style)},{default:()=>{var x,w,T;return[(x=i.top)==null?void 0:x.call(i),i.default?ee("div",{class:"v-table__wrapper",style:{height:vr(t.height)}},[ee("table",null,[i.default()])]):(w=i.wrapper)==null?void 0:w.call(i),(T=i.bottom)==null?void 0:T.call(i)]}})),{}}}),I1e={width:"50%"},D1e={width:"50%"},R1e={width:"50%"},N1e={width:"50%"},P1e={width:"50%"},L1e={width:"50%"},M1e={width:"50%"},B1e={width:"50%"},F1e={__name:"Help",setup(t){const s=$l();return(i,u)=>(An(),Mo(lr,null,[ae(yo,{class:"app-header-item",onClick:u[0]||(u[0]=m=>ie(s).showHelp=!0)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-keyboard-outline"}),hs(" "+We(i.$t("helpButton")),1)]),_:1}),ae(dp,{modelValue:ie(s).showHelp,"onUpdate:modelValue":u[2]||(u[2]=m=>ie(s).showHelp=m),"max-width":"1000"},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("h1",null,We(i.$t("helpGeneralNavigation")),1),ae(lp,null,{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",I1e,We(i.$t("helpAction")),1),ee("th",D1e,We(i.$t("helpShortcut")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,We(i.$t("helpNextElement")),1),ee("td",null,We(i.$t("helpKeyTab")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpPreviousElement")),1),ee("td",null,We(i.$t("helpKeyShiftTab")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpHeaderButtons")),1),ee("td",null,We(i.$t("helpKeyAlt0")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpNavigationButtons")),1),ee("td",null,We(i.$t("helpKeyAltNum")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpContentLeftColumn")),1),ee("td",null,We(i.$t("helpKeyAlt1")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpContentRightColumn")),1),ee("td",null,We(i.$t("helpKeyAlt2")),1)])])]),_:1}),ee("h1",null,We(i.$t("helpEssay")),1),ae(lp,null,{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",R1e,We(i.$t("helpAction")),1),ee("th",N1e,We(i.$t("helpShortcut")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,We(i.$t("helpEssayMoveCursor")),1),ee("td",null,We(i.$t("helpKeysArrows")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpEssaySelectText")),1),ee("td",null,We(i.$t("helpKeysShiftArrows")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpEssayUnselectText")),1),ee("td",null,We(i.$t("helpKeyEsc")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpEssayCreateComment")),1),ee("td",null,We(i.$t("helpKeyReturnWhenSelected")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpEssayJumpToComment")),1),ee("td",null,We(i.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),ee("h1",null,We(i.$t("helpComments")),1),ae(lp,null,{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",P1e,We(i.$t("helpAction")),1),ee("th",L1e,We(i.$t("helpShortcut")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,We(i.$t("helpCommentsSelect")),1),ee("td",null,We(i.$t("helpKeyReturnOnFocusedLabel")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommentsJumpToMark")),1),ee("td",null,We(i.$t("helpKeyAltReturn")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommentsJumpToCriteria")),1),ee("td",null,We(i.$t("helpKeyReturnOnFocusedPoints")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommentsReturnFromCriteria")),1),ee("td",null,We(i.$t("helpKeyEsc")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommentsDelete")),1),ee("td",null,We(i.$t("helpKeyAltDel")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpSnippetsOpen")),1),ee("td",null,We(i.$t("helpKeyF1")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpSnippetsApply")),1),ee("td",null,We(i.$t("helpKeyF1InSnippets")),1)])])]),_:1}),ee("h1",null,We(i.$t("helpEditorNavigation")),1),ae(lp,null,{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",M1e,We(i.$t("helpAction")),1),ee("th",B1e,We(i.$t("helpShortcut")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,We(i.$t("helpToolbarFocusIn")),1),ee("td",null,We(i.$t("helpKeyAltF10")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpToolbarFocusOut")),1),ee("td",null,We(i.$t("helpKeyEsc")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpToolbarNavigate")),1),ee("td",null,We(i.$t("helpKeysLeftRight")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpPopupBlockFormatsShow")),1),ee("td",null,We(i.$t("helpKeyReturn")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpPopupBlockFormatsNavigate")),1),ee("td",null,We(i.$t("helpKeysUpDown")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpPopupBlockFormatsSelect")),1),ee("td",null,We(i.$t("helpKeyReturn")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpPopupBlockFormatsClose")),1),ee("td",null,We(i.$t("helpKeyEsc")),1)])])]),_:1}),u[4]||(u[4]=ee("h1",null,"Tastenbefehle im Gutachten",-1)),ae(lp,null,{default:xt(()=>[u[3]||(u[3]=ee("thead",null,[ee("tr",null,[ee("th",{width:"50%"},"Aktion"),ee("th",{width:"50%"},"Tastenkombination")])],-1)),ee("tbody",null,[ee("tr",null,[ee("td",null,We(i.$t("helpCommandBold")),1),ee("td",null,We(i.$t("Ctrl + B")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandItalic")),1),ee("td",null,We(i.$t("helpKeyCtrlI")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommundUnderline")),1),ee("td",null,We(i.$t("Ctrl + U")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandSelectAll")),1),ee("td",null,We(i.$t("Ctrl + A")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandRedo")),1),ee("td",null,We(i.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),ee("tr",null,[ee("td",null,We(i.$t("Rckgngig machen")),1),ee("td",null,We(i.$t("Ctrl + Z")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH1")),1),ee("td",null,We(i.$t("helpKeyShiftAlt1")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH2")),1),ee("td",null,We(i.$t("helpKeyShiftAlt2")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH3")),1),ee("td",null,We(i.$t("helpKeyShiftAlt3")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH4")),1),ee("td",null,We(i.$t("helpKeyShiftAlt4")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH5")),1),ee("td",null,We(i.$t("helpKeyShiftAlt5")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandH6")),1),ee("td",null,We(i.$t("helpKeyShiftAlt6")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpCommandParagraph")),1),ee("td",null,We(i.$t("helpKeyShiftAlt7")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpSnippetsOpen")),1),ee("td",null,We(i.$t("helpKeyF1")),1)]),ee("tr",null,[ee("td",null,We(i.$t("helpSnippetsApply")),1),ee("td",null,We(i.$t("helpKeyF1InSnippets")),1)])])]),_:1,__:[3]})]),_:1,__:[4]}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:u[1]||(u[1]=m=>ie(s).showHelp=!1)},{default:xt(()=>[ee("span",null,We(i.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},$1e=yl(F1e,[["__scopeId","data-v-0d7fa137"]]),V1e=Ln({text:String,onClick:_f(),...zr(),...vl()},"VLabel"),ste=Bo()({name:"VLabel",props:V1e(),setup(t,s){let{slots:i}=s;return yr(()=>{var u;return ee("label",{class:go(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Rr(t.style),onClick:t.onClick},[t.text,(u=i.default)==null?void 0:u.call(i)])}),{}}}),ite=Symbol.for("vuetify:selection-control-group"),ate=Ln({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:zs,trueIcon:zs,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Xg},...zr(),...th(),...vl()},"SelectionControlGroup"),z1e=Ln({...ate({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Bo()({name:"VSelectionControlGroup",props:z1e(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const u=Ki(t,"modelValue"),m=a1(),h=gn(()=>t.id||`v-selection-control-group-${m}`),x=gn(()=>t.name||h.value),w=new Set;return Fd(ite,{modelValue:u,forceUpdate:()=>{w.forEach(T=>T())},onForceUpdate:T=>{w.add(T),uc(()=>{w.delete(T)})}}),Ox({[t.defaultsTarget]:{color:gn(()=>t.color),disabled:gn(()=>t.disabled),density:gn(()=>t.density),error:gn(()=>t.error),inline:gn(()=>t.inline),modelValue:u,multiple:gn(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:gn(()=>t.falseIcon),trueIcon:gn(()=>t.trueIcon),readonly:gn(()=>t.readonly),ripple:gn(()=>t.ripple),type:gn(()=>t.type),valueComparator:gn(()=>t.valueComparator)}}),yr(()=>{var T;return ee("div",{class:go(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Rr(t.style),role:t.type==="radio"?"radiogroup":void 0},[(T=i.default)==null?void 0:T.call(i)])}),{}}});const lte=Ln({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...zr(),...ate()},"VSelectionControl");function H1e(t){const s=Wi(ite,void 0),{densityClasses:i}=vp(t),u=Ki(t,"modelValue"),m=Dt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=Dt(()=>t.falseValue!==void 0?t.falseValue:!1),x=Dt(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),w=Dt({get(){const K=s?s.modelValue.value:u.value;return x.value?wf(K).some(W=>t.valueComparator(W,m.value)):t.valueComparator(K,m.value)},set(K){if(t.readonly)return;const W=K?m.value:h.value;let J=W;x.value&&(J=K?[...wf(u.value),W]:wf(u.value).filter(oe=>!t.valueComparator(oe,m.value))),s?s.modelValue.value=J:u.value=J}}),{textColorClasses:T,textColorStyles:D}=pp(()=>{if(!(t.error||t.disabled))return w.value?t.color:t.baseColor}),{backgroundColorClasses:I,backgroundColorStyles:P}=mp(()=>w.value&&!t.error&&!t.disabled?t.color:t.baseColor),z=Dt(()=>w.value?t.trueIcon:t.falseIcon);return{group:s,densityClasses:i,trueValue:m,falseValue:h,model:w,textColorClasses:T,textColorStyles:D,backgroundColorClasses:I,backgroundColorStyles:P,icon:z}}const aX=Bo()({name:"VSelectionControl",directives:{vRipple:r1},inheritAttrs:!1,props:lte(),emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:i,slots:u}=s;const{group:m,densityClasses:h,icon:x,model:w,textColorClasses:T,textColorStyles:D,backgroundColorClasses:I,backgroundColorStyles:P,trueValue:z}=H1e(t),K=a1(),W=ho(!1),J=ho(!1),oe=Mn(),U=gn(()=>t.id||`input-${K}`),he=gn(()=>!t.disabled&&!t.readonly);m==null||m.onForceUpdate(()=>{oe.value&&(oe.value.checked=w.value)});function ue(Ve){he.value&&(W.value=!0,_E(Ve.target,":focus-visible")!==!1&&(J.value=!0))}function Z(){W.value=!1,J.value=!1}function de(Ve){Ve.stopPropagation()}function re(Ve){if(!he.value){oe.value&&(oe.value.checked=w.value);return}t.readonly&&m&&qo(()=>m.forceUpdate()),w.value=Ve.target.checked}return yr(()=>{var Ae,ze;const Ve=u.label?u.label({label:t.label,props:{for:U.value}}):t.label,[Me,Ye]=KF(i),it=ee("input",Po({ref:oe,checked:w.value,disabled:!!t.disabled,id:U.value,onBlur:Z,onFocus:ue,onInput:re,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:z.value,name:t.name,"aria-checked":t.type==="checkbox"?w.value:void 0},Ye),null);return ee("div",Po({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":W.value,"v-selection-control--focus-visible":J.value,"v-selection-control--inline":t.inline},h.value,t.class]},Me,{style:t.style}),[ee("div",{class:go(["v-selection-control__wrapper",T.value]),style:Rr(D.value)},[(Ae=u.default)==null?void 0:Ae.call(u,{backgroundColorClasses:I,backgroundColorStyles:P}),zn(ee("div",{class:go(["v-selection-control__input"])},[((ze=u.input)==null?void 0:ze.call(u,{model:w,textColorClasses:T,textColorStyles:D,backgroundColorClasses:I,backgroundColorStyles:P,inputNode:it,icon:x.value,props:{onFocus:ue,onBlur:Z,id:U.value}}))??ee(lr,null,[x.value&&ae(Un,{key:"icon",icon:x.value},null),it])]),[[r1,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),Ve&&ae(ste,{for:U.value,onClick:de},{default:()=>[Ve]})])}),{isFocused:W,input:oe}}}),cte=Ln({indeterminate:Boolean,indeterminateIcon:{type:zs,default:"$checkboxIndeterminate"},...lte({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),TF=Bo()({name:"VCheckboxBtn",props:cte(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,s){let{slots:i}=s;const u=Ki(t,"indeterminate"),m=Ki(t,"modelValue");function h(T){u.value&&(u.value=!1)}const x=gn(()=>u.value?t.indeterminateIcon:t.falseIcon),w=gn(()=>u.value?t.indeterminateIcon:t.trueIcon);return yr(()=>{const T=Tx(aX.filterProps(t),["modelValue"]);return ae(aX,Po(T,{modelValue:m.value,"onUpdate:modelValue":[D=>m.value=D,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:w.value,"aria-checked":u.value?"mixed":void 0}),i)}),{}}});function ute(t){const{t:s}=fD();function i(u){let{name:m,color:h,...x}=u;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[m],T=t[`onClick:${m}`];function D(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),KW(T,new PointerEvent("click",P)))}const I=T&&w?s(`$vuetify.input.${w}`,t.label??""):void 0;return ae(Un,Po({icon:t[`${m}Icon`],"aria-label":I,onClick:T,onKeydown:D,color:h},x),null)}return{InputIcon:i}}const U1e=Ln({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...zr(),...$E({transition:{component:qee,leaveAbsolute:!0,group:!0}})},"VMessages"),W1e=Bo()({name:"VMessages",props:U1e(),setup(t,s){let{slots:i}=s;const u=Dt(()=>wf(t.messages)),{textColorClasses:m,textColorStyles:h}=pp(()=>t.color);return yr(()=>ae(bx,{transition:t.transition,tag:"div",class:go(["v-messages",m.value,t.class]),style:Rr([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,w)=>ee("div",{class:"v-messages__message",key:`${w}-${u.value}`},[i.message?i.message({message:x}):x]))]})),{}}}),dte=Ln({focused:Boolean,"onUpdate:focused":_f()},"focus");function u8(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb();const i=Ki(t,"focused"),u=gn(()=>({[`${s}--focused`]:i.value}));function m(){i.value=!0}function h(){i.value=!1}return{focusClasses:u,isFocused:i,focus:m,blur:h}}const K1e=Symbol.for("vuetify:form");function pK(t){const s=Wi(K1e,null);return{...s,isReadonly:Dt(()=>!!((t==null?void 0:t.readonly)??(s==null?void 0:s.isReadonly.value))),isDisabled:Dt(()=>!!((t==null?void 0:t.disabled)??(s==null?void 0:s.isDisabled.value)))}}const j1e=Symbol.for("vuetify:rules");function Z1e(t){const s=Wi(j1e,null);return s?s(t):gn(t)}const G1e=Ln({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...dte()},"validation");function q1e(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gb(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a1();const u=Ki(t,"modelValue"),m=Dt(()=>t.validationValue===void 0?u.value:t.validationValue),h=pK(t),x=Z1e(()=>t.rules),w=Mn([]),T=ho(!0),D=Dt(()=>!!(wf(u.value===""?null:u.value).length||wf(m.value===""?null:m.value).length)),I=Dt(()=>{var Z;return(Z=t.errorMessages)!=null&&Z.length?wf(t.errorMessages).concat(w.value).slice(0,Math.max(0,Number(t.maxErrors))):w.value}),P=Dt(()=>{var re;let Z=(t.validateOn??((re=h.validateOn)==null?void 0:re.value))||"input";Z==="lazy"&&(Z="input lazy"),Z==="eager"&&(Z="input eager");const de=new Set((Z==null?void 0:Z.split(" "))??[]);return{input:de.has("input"),blur:de.has("blur")||de.has("input")||de.has("invalid-input"),invalidInput:de.has("invalid-input"),lazy:de.has("lazy"),eager:de.has("eager")}}),z=Dt(()=>{var Z;return t.error||(Z=t.errorMessages)!=null&&Z.length?!1:t.rules.length?T.value?w.value.length||P.value.lazy?null:!0:!w.value.length:!0}),K=ho(!1),W=Dt(()=>({[`${s}--error`]:z.value===!1,[`${s}--dirty`]:D.value,[`${s}--disabled`]:h.isDisabled.value,[`${s}--readonly`]:h.isReadonly.value})),J=Vl("validation"),oe=Dt(()=>t.name??ie(i));cD(()=>{var Z;(Z=h.register)==null||Z.call(h,{id:oe.value,vm:J,validate:ue,reset:U,resetValidation:he})}),Dc(()=>{var Z;(Z=h.unregister)==null||Z.call(h,oe.value)}),ju(async()=>{var Z;P.value.lazy||await ue(!P.value.eager),(Z=h.update)==null||Z.call(h,oe.value,z.value,I.value)}),Yg(()=>P.value.input||P.value.invalidInput&&z.value===!1,()=>{Dn(m,()=>{if(m.value!=null)ue();else if(t.focused){const Z=Dn(()=>t.focused,de=>{de||ue(),Z()})}})}),Yg(()=>P.value.blur,()=>{Dn(()=>t.focused,Z=>{Z||ue()})}),Dn([z,I],()=>{var Z;(Z=h.update)==null||Z.call(h,oe.value,z.value,I.value)});async function U(){u.value=null,await qo(),await he()}async function he(){T.value=!0,P.value.lazy?w.value=[]:await ue(!P.value.eager)}async function ue(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const de=[];K.value=!0;for(const re of x.value){if(de.length>=Number(t.maxErrors??1))break;const Me=await(typeof re=="function"?re:()=>re)(m.value);if(Me!==!0){if(Me!==!1&&typeof Me!="string"){console.warn(`${Me} is not a valid value. Rule functions must return boolean true or a string.`);continue}de.push(Me||"")}}return w.value=de,K.value=!1,T.value=Z,w.value}return{errorMessages:I,isDirty:D,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:T,isValid:z,isValidating:K,reset:U,resetValidation:he,validate:ue,validationClasses:W}}const d8=Ln({id:String,appendIcon:zs,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:zs,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":_f(),"onClick:append":_f(),...zr(),...th(),...WF(yp(),["maxWidth","minWidth","width"]),...vl(),...G1e()},"VInput"),TE=Bo()({name:"VInput",props:{...d8()},emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:i,slots:u,emit:m}=s;const{densityClasses:h}=vp(t),{dimensionStyles:x}=xp(t),{themeClasses:w}=dc(t),{rtlClasses:T}=eh(),{InputIcon:D}=ute(t),I=a1(),P=Dt(()=>t.id||`input-${I}`),z=Dt(()=>`${P.value}-messages`),{errorMessages:K,isDirty:W,isDisabled:J,isReadonly:oe,isPristine:U,isValid:he,isValidating:ue,reset:Z,resetValidation:de,validate:re,validationClasses:Ve}=q1e(t,"v-input",P),Me=Dt(()=>({id:P,messagesId:z,isDirty:W,isDisabled:J,isReadonly:oe,isPristine:U,isValid:he,isValidating:ue,reset:Z,resetValidation:de,validate:re})),Ye=gn(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),it=gn(()=>{if(t.iconColor)return t.iconColor===!0?Ye.value:t.iconColor}),Ae=Dt(()=>{var ze;return(ze=t.errorMessages)!=null&&ze.length||!U.value&&K.value.length?K.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return yr(()=>{var Ot,Gt,ut,kn;const ze=!!(u.prepend||t.prependIcon),R=!!(u.append||t.appendIcon),Fe=Ae.value.length>0,Ze=!t.hideDetails||t.hideDetails==="auto"&&(Fe||!!u.details);return ee("div",{class:go(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,w.value,T.value,Ve.value,t.class]),style:Rr([x.value,t.style])},[ze&&ee("div",{key:"prepend",class:"v-input__prepend"},[(Ot=u.prepend)==null?void 0:Ot.call(u,Me.value),t.prependIcon&&ae(D,{key:"prepend-icon",name:"prepend",color:it.value},null)]),u.default&&ee("div",{class:"v-input__control"},[(Gt=u.default)==null?void 0:Gt.call(u,Me.value)]),R&&ee("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ae(D,{key:"append-icon",name:"append",color:it.value},null),(ut=u.append)==null?void 0:ut.call(u,Me.value)]),Ze&&ee("div",{id:z.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ae(W1e,{active:Fe,messages:Ae.value},{message:u.message}),(kn=u.details)==null?void 0:kn.call(u,Me.value)])])}),{reset:Z,resetValidation:de,validate:re,isValid:he,errorMessages:K}}}),Y1e=Ln({...d8(),...Tx(cte(),["inline"])},"VCheckbox"),X1e=Bo()({name:"VCheckbox",inheritAttrs:!1,props:Y1e(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,s){let{attrs:i,slots:u}=s;const m=Ki(t,"modelValue"),{isFocused:h,focus:x,blur:w}=u8(t),T=Mn(),D=a1();return yr(()=>{const[I,P]=KF(i),z=TE.filterProps(t),K=TF.filterProps(t);return ae(TE,Po({ref:T,class:["v-checkbox",t.class]},I,z,{modelValue:m.value,"onUpdate:modelValue":W=>m.value=W,id:t.id||`checkbox-${D}`,focused:h.value,style:t.style}),{...u,default:W=>{let{id:J,messagesId:oe,isDisabled:U,isReadonly:he,isValid:ue}=W;return ae(TF,Po(K,{id:J.value,"aria-describedby":oe.value,disabled:U.value,readonly:he.value},P,{error:ue.value===!1,modelValue:m.value,"onUpdate:modelValue":Z=>m.value=Z,onFocus:x,onBlur:w}),u)}})}),WC({},T)}});function J1e(t){let{selectedElement:s,containerElement:i,isRtl:u,isHorizontal:m}=t;const h=GI(m,i),x=fte(m,u,i),w=GI(m,s),T=mte(m,s),D=w*.4;return x>T?T-D:x+h<T+w?T-h+w+D:x}function Q1e(t){let{selectedElement:s,containerElement:i,isHorizontal:u}=t;const m=GI(u,i),h=mte(u,s),x=GI(u,s);return h-m/2+x/2}function lX(t,s){const i=t?"scrollWidth":"scrollHeight";return(s==null?void 0:s[i])||0}function eye(t,s){const i=t?"clientWidth":"clientHeight";return(s==null?void 0:s[i])||0}function fte(t,s,i){if(!i)return 0;const{scrollLeft:u,offsetWidth:m,scrollWidth:h}=i;return t?s?h-m+u:u:i.scrollTop}function GI(t,s){const i=t?"offsetWidth":"offsetHeight";return(s==null?void 0:s[i])||0}function mte(t,s){const i=t?"offsetLeft":"offsetTop";return(s==null?void 0:s[i])||0}const tye=Symbol.for("vuetify:v-slide-group"),gte=Ln({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:tye},nextIcon:{type:zs,default:"$next"},prevIcon:{type:zs,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...zr(),...TQ({mobile:null}),...sa(),...lK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),cX=Bo()({name:"VSlideGroup",props:gte(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const{isRtl:u}=eh(),{displayClasses:m,mobile:h}=GF(t),x=cK(t,t.symbol),w=ho(!1),T=ho(0),D=ho(0),I=ho(0),P=Dt(()=>t.direction==="horizontal"),{resizeRef:z,contentRect:K}=kE(),{resizeRef:W,contentRect:J}=kE(),oe=The(),U=Dt(()=>({container:z.el,duration:200,easing:"easeOutQuart"})),he=Dt(()=>x.selected.value.length?x.items.value.findIndex(tt=>tt.id===x.selected.value[0]):-1),ue=Dt(()=>x.selected.value.length?x.items.value.findIndex(tt=>tt.id===x.selected.value[x.selected.value.length-1]):-1);if(ei){let tt=-1;Dn(()=>[x.selected.value,K.value,J.value,P.value],()=>{cancelAnimationFrame(tt),tt=requestAnimationFrame(()=>{if(K.value&&J.value){const Pe=P.value?"width":"height";D.value=K.value[Pe],I.value=J.value[Pe],w.value=D.value+1<I.value}if(he.value>=0&&W.el){const Pe=W.el.children[ue.value];de(Pe,t.centerActive)}})})}const Z=ho(!1);function de(tt,Pe){let mt=0;Pe?mt=Q1e({containerElement:z.el,isHorizontal:P.value,selectedElement:tt}):mt=J1e({containerElement:z.el,isHorizontal:P.value,isRtl:u.value,selectedElement:tt}),re(mt)}function re(tt){if(!ei||!z.el)return;const Pe=GI(P.value,z.el),mt=fte(P.value,u.value,z.el);if(!(lX(P.value,z.el)<=Pe||Math.abs(tt-mt)<16)){if(P.value&&u.value&&z.el){const{scrollWidth:Ht,offsetWidth:On}=z.el;tt=Ht-On-tt}P.value?oe.horizontal(tt,U.value):oe(tt,U.value)}}function Ve(tt){const{scrollTop:Pe,scrollLeft:mt}=tt.target;T.value=P.value?mt:Pe}function Me(tt){if(Z.value=!0,!(!w.value||!W.el)){for(const Pe of tt.composedPath())for(const mt of W.el.children)if(mt===Pe){de(mt);return}}}function Ye(tt){Z.value=!1}let it=!1;function Ae(tt){var Pe;!it&&!Z.value&&!(tt.relatedTarget&&((Pe=W.el)!=null&&Pe.contains(tt.relatedTarget)))&&Ze(),it=!1}function ze(){it=!0}function R(tt){if(!W.el)return;function Pe(mt){tt.preventDefault(),Ze(mt)}P.value?tt.key==="ArrowRight"?Pe(u.value?"prev":"next"):tt.key==="ArrowLeft"&&Pe(u.value?"next":"prev"):tt.key==="ArrowDown"?Pe("next"):tt.key==="ArrowUp"&&Pe("prev"),tt.key==="Home"?Pe("first"):tt.key==="End"&&Pe("last")}function Fe(tt,Pe){if(!tt)return;let mt=tt;do mt=mt==null?void 0:mt[Pe==="next"?"nextElementSibling":"previousElementSibling"];while(mt!=null&&mt.hasAttribute("disabled"));return mt}function Ze(tt){if(!W.el)return;let Pe;if(!tt)Pe=FI(W.el)[0];else if(tt==="next"){if(Pe=Fe(W.el.querySelector(":focus"),tt),!Pe)return Ze("first")}else if(tt==="prev"){if(Pe=Fe(W.el.querySelector(":focus"),tt),!Pe)return Ze("last")}else tt==="first"?(Pe=W.el.firstElementChild,Pe!=null&&Pe.hasAttribute("disabled")&&(Pe=Fe(Pe,"next"))):tt==="last"&&(Pe=W.el.lastElementChild,Pe!=null&&Pe.hasAttribute("disabled")&&(Pe=Fe(Pe,"prev")));Pe&&Pe.focus({preventScroll:!0})}function Ot(tt){const Pe=P.value&&u.value?-1:1,mt=(tt==="prev"?-Pe:Pe)*D.value;let po=T.value+mt;if(P.value&&u.value&&z.el){const{scrollWidth:Ht,offsetWidth:On}=z.el;po+=Ht-On}re(po)}const Gt=Dt(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),ut=Dt(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return w.value||Math.abs(T.value)>0;case"mobile":return h.value||w.value||Math.abs(T.value)>0;default:return!h.value&&(w.value||Math.abs(T.value)>0)}}),kn=Dt(()=>Math.abs(T.value)>1),Et=Dt(()=>{if(!z.value)return!1;const tt=lX(P.value,z.el),Pe=eye(P.value,z.el);return tt-Pe-Math.abs(T.value)>1});return yr(()=>ae(t.tag,{class:go(["v-slide-group",{"v-slide-group--vertical":!P.value,"v-slide-group--has-affixes":ut.value,"v-slide-group--is-overflowing":w.value},m.value,t.class]),style:Rr(t.style),tabindex:Z.value||x.selected.value.length?-1:0,onFocus:Ae},{default:()=>{var tt,Pe,mt;return[ut.value&&ee("div",{key:"prev",class:go(["v-slide-group__prev",{"v-slide-group__prev--disabled":!kn.value}]),onMousedown:ze,onClick:()=>kn.value&&Ot("prev")},[((tt=i.prev)==null?void 0:tt.call(i,Gt.value))??ae(eX,null,{default:()=>[ae(Un,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),ee("div",{key:"container",ref:z,class:go(["v-slide-group__container",t.contentClass]),onScroll:Ve},[ee("div",{ref:W,class:"v-slide-group__content",onFocusin:Me,onFocusout:Ye,onKeydown:R},[(Pe=i.default)==null?void 0:Pe.call(i,Gt.value)])]),ut.value&&ee("div",{key:"next",class:go(["v-slide-group__next",{"v-slide-group__next--disabled":!Et.value}]),onMousedown:ze,onClick:()=>Et.value&&Ot("next")},[((mt=i.next)==null?void 0:mt.call(i,Gt.value))??ae(eX,null,{default:()=>[ae(Un,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:Ot,scrollOffset:T,focus:Ze,hasPrev:kn,hasNext:Et}}}),hte=Symbol.for("vuetify:v-chip-group"),nye=Ln({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Xg},...gte(),...zr(),...lK({selectedClass:"v-chip--selected"}),...sa(),...vl(),...g1({variant:"tonal"})},"VChipGroup");Bo()({name:"VChipGroup",props:nye(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const{themeClasses:u}=dc(t),{isSelected:m,select:h,next:x,prev:w,selected:T}=cK(t,hte);return Ox({VChip:{baseColor:gn(()=>t.baseColor),color:gn(()=>t.color),disabled:gn(()=>t.disabled),filter:gn(()=>t.filter),variant:gn(()=>t.variant)}}),yr(()=>{const D=cX.filterProps(t);return ae(cX,Po(D,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var I;return[(I=i.default)==null?void 0:I.call(i,{isSelected:m,select:h,next:x,prev:w,selected:T.value})]}})}),{}}});const oye=Ln({activeClass:String,appendAvatar:String,appendIcon:zs,baseColor:String,closable:Boolean,closeIcon:{type:zs,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:zs,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:_f(),onClickOnce:_f(),...u1(),...zr(),...th(),...f1(),...Dee(),...Tm(),...l8(),...pD(),...sa({tag:"span"}),...vl(),...g1({variant:"tonal"})},"VChip"),pte=Bo()({name:"VChip",directives:{vRipple:r1},props:oye(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const{t:h}=fD(),{borderClasses:x}=d1(t),{densityClasses:w}=vp(t),{elevationClasses:T}=m1(t),{roundedClasses:D}=Om(t),{sizeClasses:I}=bD(t),{themeClasses:P}=dc(t),z=Ki(t,"modelValue"),K=Ree(t,hte,!1),W=a8(t,i),J=gn(()=>t.link!==!1&&W.isLink.value),oe=Dt(()=>!t.disabled&&t.link!==!1&&(!!K||t.link||W.isClickable.value)),U=gn(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(Ve){Ve.preventDefault(),Ve.stopPropagation(),z.value=!1,u("click:close",Ve)}})),{colorClasses:he,colorStyles:ue,variantClasses:Z}=FE(()=>({color:!K||K.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function de(Ve){var Me;u("click",Ve),oe.value&&((Me=W.navigate)==null||Me.call(W,Ve),K==null||K.toggle())}function re(Ve){(Ve.key==="Enter"||Ve.key===" ")&&(Ve.preventDefault(),de(Ve))}return()=>{var Fe;const Ve=W.isLink.value?"a":t.tag,Me=!!(t.appendIcon||t.appendAvatar),Ye=!!(Me||m.append),it=!!(m.close||t.closable),Ae=!!(m.filter||t.filter)&&K,ze=!!(t.prependIcon||t.prependAvatar),R=!!(ze||m.prepend);return z.value&&zn(ae(Ve,Po({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":oe.value,"v-chip--filter":Ae,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((Fe=W.isActive)==null?void 0:Fe.value)},P.value,x.value,he.value,w.value,T.value,D.value,I.value,Z.value,K==null?void 0:K.selectedClass.value,t.class],style:[ue.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:oe.value?0:void 0,onClick:de,onKeydown:oe.value&&!J.value&&re},W.linkProps),{default:()=>{var Ze;return[BE(oe.value,"v-chip"),Ae&&ae(Xee,{key:"filter"},{default:()=>[zn(ee("div",{class:"v-chip__filter"},[m.filter?ae(Sa,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},m.filter):ae(Un,{key:"filter-icon",icon:t.filterIcon},null)]),[[To,K.isSelected.value]])]}),R&&ee("div",{key:"prepend",class:"v-chip__prepend"},[m.prepend?ae(Sa,{key:"prepend-defaults",disabled:!ze,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},m.prepend):ee(lr,null,[t.prependIcon&&ae(Un,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ae(Ax,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),ee("div",{class:"v-chip__content","data-no-activator":""},[((Ze=m.default)==null?void 0:Ze.call(m,{isSelected:K==null?void 0:K.isSelected.value,selectedClass:K==null?void 0:K.selectedClass.value,select:K==null?void 0:K.select,toggle:K==null?void 0:K.toggle,value:K==null?void 0:K.value.value,disabled:t.disabled}))??We(t.text)]),Ye&&ee("div",{key:"append",class:"v-chip__append"},[m.append?ae(Sa,{key:"append-defaults",disabled:!Me,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},m.append):ee(lr,null,[t.appendIcon&&ae(Un,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ae(Ax,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),it&&ee("button",Po({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},U.value),[m.close?ae(Sa,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},m.close):ae(Un,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[r1,oe.value&&t.ripple,null]])}}}),rye=Ln({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...zr(),...vl()},"VDivider"),NC=Bo()({name:"VDivider",props:rye(),setup(t,s){let{attrs:i,slots:u}=s;const{themeClasses:m}=dc(t),{textColorClasses:h,textColorStyles:x}=pp(()=>t.color),w=Dt(()=>{const T={};return t.length&&(T[t.vertical?"height":"width"]=vr(t.length)),t.thickness&&(T[t.vertical?"borderRightWidth":"borderTopWidth"]=vr(t.thickness)),T});return yr(()=>{const T=ee("hr",{class:go([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},m.value,h.value,t.class]),style:Rr([w.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!i.role||i.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return u.default?ee("div",{class:go(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[T,ee("div",{class:"v-divider__content"},[u.default()]),T]):T}),{}}}),bW=Symbol.for("vuetify:list");function bte(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const s=Wi(bW,{filterable:!1,hasPrepend:ho(!1),updateHasPrepend:()=>null}),i={filterable:s.filterable||t,hasPrepend:ho(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Fd(bW,i),s}function vte(){return Wi(bW,null)}const bK=t=>{const s={activate:i=>{let{id:u,value:m,activated:h}=i;return u=gr(u),t&&!m&&h.size===1&&h.has(u)||(m?h.add(u):h.delete(u)),h},in:(i,u,m)=>{let h=new Set;if(i!=null)for(const x of wf(i))h=s.activate({id:x,value:!0,activated:new Set(h),children:u,parents:m});return h},out:i=>Array.from(i)};return s},yte=t=>{const s=bK(t);return{activate:u=>{let{activated:m,id:h,...x}=u;h=gr(h);const w=m.has(h)?new Set([h]):new Set;return s.activate({...x,id:h,activated:w})},in:(u,m,h)=>{let x=new Set;if(u!=null){const w=wf(u);w.length&&(x=s.in(w.slice(0,1),m,h))}return x},out:(u,m,h)=>s.out(u,m,h)}},sye=t=>{const s=bK(t);return{activate:u=>{let{id:m,activated:h,children:x,...w}=u;return m=gr(m),x.has(m)?h:s.activate({id:m,activated:h,children:x,...w})},in:s.in,out:s.out}},iye=t=>{const s=yte(t);return{activate:u=>{let{id:m,activated:h,children:x,...w}=u;return m=gr(m),x.has(m)?h:s.activate({id:m,activated:h,children:x,...w})},in:s.in,out:s.out}},aye={open:t=>{let{id:s,value:i,opened:u,parents:m}=t;if(i){const h=new Set;h.add(s);let x=m.get(s);for(;x!=null;)h.add(x),x=m.get(x);return h}else return u.delete(s),u},select:()=>null},xte={open:t=>{let{id:s,value:i,opened:u,parents:m}=t;if(i){let h=m.get(s);for(u.add(s);h!=null&&h!==s;)u.add(h),h=m.get(h);return u}else u.delete(s);return u},select:()=>null},lye={open:xte.open,select:t=>{let{id:s,value:i,opened:u,parents:m}=t;if(!i)return u;const h=[];let x=m.get(s);for(;x!=null;)h.push(x),x=m.get(x);return new Set(h)}},vK=t=>{const s={select:i=>{let{id:u,value:m,selected:h}=i;if(u=gr(u),t&&!m){const x=Array.from(h.entries()).reduce((w,T)=>{let[D,I]=T;return I==="on"&&w.push(D),w},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,m?"on":"off"),h},in:(i,u,m,h)=>{const x=new Map;for(const w of i||[])s.select({id:w,value:!0,selected:x,children:u,parents:m,disabled:h});return x},out:i=>{const u=[];for(const[m,h]of i.entries())h==="on"&&u.push(m);return u}};return s},wte=t=>{const s=vK(t);return{select:u=>{let{selected:m,id:h,...x}=u;h=gr(h);const w=m.has(h)?new Map([[h,m.get(h)]]):new Map;return s.select({...x,id:h,selected:w})},in:(u,m,h,x)=>u!=null&&u.length?s.in(u.slice(0,1),m,h,x):new Map,out:(u,m,h)=>s.out(u,m,h)}},cye=t=>{const s=vK(t);return{select:u=>{let{id:m,selected:h,children:x,...w}=u;return m=gr(m),x.has(m)?h:s.select({id:m,selected:h,children:x,...w})},in:s.in,out:s.out}},uye=t=>{const s=wte(t);return{select:u=>{let{id:m,selected:h,children:x,...w}=u;return m=gr(m),x.has(m)?h:s.select({id:m,selected:h,children:x,...w})},in:s.in,out:s.out}},Cte=t=>{const s={select:i=>{let{id:u,value:m,selected:h,children:x,parents:w,disabled:T}=i;u=gr(u);const D=new Map(h),I=[u];for(;I.length;){const z=I.shift();T.has(z)||h.set(gr(z),m?"on":"off"),x.has(z)&&I.push(...x.get(z))}let P=gr(w.get(u));for(;P;){let z=!0,K=!0;for(const W of x.get(P)){const J=gr(W);if(!T.has(J)&&(h.get(J)!=="on"&&(z=!1),h.has(J)&&h.get(J)!=="off"&&(K=!1),!z&&!K))break}h.set(P,z?"on":K?"off":"indeterminate"),P=gr(w.get(P))}return t&&!m&&Array.from(h.entries()).reduce((K,W)=>{let[J,oe]=W;return oe==="on"&&K.push(J),K},[]).length===0?D:h},in:(i,u,m,h)=>{let x=new Map;for(const w of i||[])x=s.select({id:w,value:!0,selected:x,children:u,parents:m,disabled:h});return x},out:(i,u)=>{const m=[];for(const[h,x]of i.entries())x==="on"&&!u.has(h)&&m.push(h);return m}};return s},dye=t=>{const s=Cte(t);return{select:s.select,in:s.in,out:(u,m,h)=>{const x=[];for(const[w,T]of u.entries())if(T==="on"){if(h.has(w)){const D=h.get(w);if(u.get(D)==="on")continue}x.push(w)}return x}}},qI=Symbol.for("vuetify:nested"),_te={id:ho(),root:{register:()=>null,unregister:()=>null,children:Mn(new Map),parents:Mn(new Map),disabled:Mn(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Mn(!1),selectable:Mn(!1),opened:Mn(new Set),activated:Mn(new Set),selected:Mn(new Map),selectedValues:Mn([]),getPath:()=>[]}},fye=Ln({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),mye=t=>{let s=!1;const i=ho(new Map),u=ho(new Map),m=ho(new Set),h=Ki(t,"opened",t.opened,J=>new Set(Array.isArray(J)?J.map(oe=>gr(oe)):J),J=>[...J.values()]),x=Dt(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return sye(t.mandatory);case"single-leaf":return iye(t.mandatory);case"independent":return bK(t.mandatory);case"single-independent":default:return yte(t.mandatory)}}),w=Dt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return uye(t.mandatory);case"leaf":return cye(t.mandatory);case"independent":return vK(t.mandatory);case"single-independent":return wte(t.mandatory);case"trunk":return dye(t.mandatory);case"classic":default:return Cte(t.mandatory)}}),T=Dt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return lye;case"single":return aye;case"multiple":default:return xte}}),D=Ki(t,"activated",t.activated,J=>x.value.in(J,i.value,u.value),J=>x.value.out(J,i.value,u.value)),I=Ki(t,"selected",t.selected,J=>w.value.in(J,i.value,u.value,m.value),J=>w.value.out(J,i.value,u.value));Dc(()=>{s=!0});function P(J){const oe=[];let U=gr(J);for(;U!=null;)oe.unshift(U),U=u.value.get(U);return oe}const z=Vl("nested"),K=new Set,W={id:ho(),root:{opened:h,activatable:gn(()=>t.activatable),selectable:gn(()=>t.selectable),activated:D,selected:I,selectedValues:Dt(()=>{const J=[];for(const[oe,U]of I.value.entries())U==="on"&&J.push(oe);return J}),register:(J,oe,U,he)=>{if(K.has(J)){P(J).map(String).join(" -> "),P(oe).concat(J).map(String).join(" -> ");return}else K.add(J);oe&&J!==oe&&u.value.set(J,oe),U&&m.value.add(J),he&&i.value.set(J,[]),oe!=null&&i.value.set(oe,[...i.value.get(oe)||[],J])},unregister:J=>{if(s)return;K.delete(J),i.value.delete(J),m.value.delete(J);const oe=u.value.get(J);if(oe){const U=i.value.get(oe)??[];i.value.set(oe,U.filter(he=>he!==J))}u.value.delete(J)},open:(J,oe,U)=>{z.emit("click:open",{id:J,value:oe,path:P(J),event:U});const he=T.value.open({id:J,value:oe,opened:new Set(h.value),children:i.value,parents:u.value,event:U});he&&(h.value=he)},openOnSelect:(J,oe,U)=>{const he=T.value.select({id:J,value:oe,selected:new Map(I.value),opened:new Set(h.value),children:i.value,parents:u.value,event:U});he&&(h.value=he)},select:(J,oe,U)=>{z.emit("click:select",{id:J,value:oe,path:P(J),event:U});const he=w.value.select({id:J,value:oe,selected:new Map(I.value),children:i.value,parents:u.value,disabled:m.value,event:U});he&&(I.value=he),W.root.openOnSelect(J,oe,U)},activate:(J,oe,U)=>{if(!t.activatable)return W.root.select(J,!0,U);z.emit("click:activate",{id:J,value:oe,path:P(J),event:U});const he=x.value.activate({id:J,value:oe,activated:new Set(D.value),children:i.value,parents:u.value,event:U});if(he.size!==D.value.size)D.value=he;else{for(const ue of he)if(!D.value.has(ue)){D.value=he;return}for(const ue of D.value)if(!he.has(ue)){D.value=he;return}}},children:i,parents:u,disabled:m,getPath:P}};return Fd(qI,W),W.root},Ste=(t,s,i)=>{const u=Wi(qI,_te),m=Symbol("nested item"),h=Dt(()=>gr(Wb(t))??m),x={...u,id:h,open:(w,T)=>u.root.open(h.value,w,T),openOnSelect:(w,T)=>u.root.openOnSelect(h.value,w,T),isOpen:Dt(()=>u.root.opened.value.has(h.value)),parent:Dt(()=>u.root.parents.value.get(h.value)),activate:(w,T)=>u.root.activate(h.value,w,T),isActivated:Dt(()=>u.root.activated.value.has(h.value)),select:(w,T)=>u.root.select(h.value,w,T),isSelected:Dt(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:Dt(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:Dt(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return cD(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,Wb(s),i)}),Dc(()=>{u.isGroupActivator||u.root.unregister(h.value)}),i&&Fd(qI,x),x},gye=()=>{const t=Wi(qI,_te);Fd(qI,{...t,isGroupActivator:!0})};function f8(){const t=ho(!1);return ju(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:gn(()=>t.value?void 0:{transition:"none !important"}),isBooted:DE(t)}}const hye=NE({name:"VListGroupActivator",setup(t,s){let{slots:i}=s;return gye(),()=>{var u;return(u=i.default)==null?void 0:u.call(i)}}}),pye=Ln({activeColor:String,baseColor:String,color:String,collapseIcon:{type:zs,default:"$collapse"},disabled:Boolean,expandIcon:{type:zs,default:"$expand"},rawId:[String,Number],prependIcon:zs,appendIcon:zs,fluid:Boolean,subgroup:Boolean,title:String,value:null,...zr(),...sa()},"VListGroup"),uX=Bo()({name:"VListGroup",props:pye(),setup(t,s){let{slots:i}=s;const{isOpen:u,open:m,id:h}=Ste(()=>t.value,()=>t.disabled,!0),x=Dt(()=>`v-list-group--id-${String(t.rawId??h.value)}`),w=vte(),{isBooted:T}=f8();function D(K){var W;["INPUT","TEXTAREA"].includes((W=K.target)==null?void 0:W.tagName)||m(!u.value,K)}const I=Dt(()=>({onClick:D,class:"v-list-group__header",id:x.value})),P=Dt(()=>u.value?t.collapseIcon:t.expandIcon),z=Dt(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&P.value,appendIcon:t.appendIcon||!t.subgroup&&P.value,title:t.title,value:t.value}}));return yr(()=>ae(t.tag,{class:go(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Rr(t.style)},{default:()=>[i.activator&&ae(Sa,{defaults:z.value},{default:()=>[ae(hye,null,{default:()=>[i.activator({props:I.value,isOpen:u.value})]})]}),ae(bx,{transition:{component:Yee},disabled:!T.value},{default:()=>{var K;return[zn(ee("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(K=i.default)==null?void 0:K.call(i)]),[[To,u.value]])]}})]})),{isOpen:u}}}),bye=Ln({opacity:[Number,String],...zr(),...sa()},"VListItemSubtitle"),vye=Bo()({name:"VListItemSubtitle",props:bye(),setup(t,s){let{slots:i}=s;return yr(()=>ae(t.tag,{class:go(["v-list-item-subtitle",t.class]),style:Rr([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},i)),{}}}),yye=jF("v-list-item-title"),xye=Ln({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:zs,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:_f(),onClickOnce:_f(),...u1(),...zr(),...th(),...yp(),...f1(),...Tm(),...l8(),...sa(),...vl(),...g1({variant:"text"})},"VListItem"),Oc=Bo()({name:"VListItem",directives:{vRipple:r1},props:xye(),emits:{click:t=>!0},setup(t,s){let{attrs:i,slots:u,emit:m}=s;const h=a8(t,i),x=Dt(()=>t.value===void 0?h.href.value:t.value),{activate:w,isActivated:T,select:D,isOpen:I,isSelected:P,isIndeterminate:z,isGroupActivator:K,root:W,parent:J,openOnSelect:oe,id:U}=Ste(x,()=>t.disabled,!1),he=vte(),ue=Dt(()=>{var Ht;return t.active!==!1&&(t.active||((Ht=h.isActive)==null?void 0:Ht.value)||(W.activatable.value?T.value:P.value))}),Z=gn(()=>t.link!==!1&&h.isLink.value),de=Dt(()=>!!he&&(W.selectable.value||W.activatable.value||t.value!=null)),re=Dt(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||de.value)),Ve=gn(()=>t.rounded||t.nav),Me=gn(()=>t.color??t.activeColor),Ye=gn(()=>({color:ue.value?Me.value??t.baseColor:t.baseColor,variant:t.variant}));Dn(()=>{var Ht;return(Ht=h.isActive)==null?void 0:Ht.value},Ht=>{Ht&&it()}),cD(()=>{var Ht;(Ht=h.isActive)!=null&&Ht.value&&it()});function it(){J.value!=null&&W.open(J.value,!0),oe(!0)}const{themeClasses:Ae}=dc(t),{borderClasses:ze}=d1(t),{colorClasses:R,colorStyles:Fe,variantClasses:Ze}=FE(Ye),{densityClasses:Ot}=vp(t),{dimensionStyles:Gt}=xp(t),{elevationClasses:ut}=m1(t),{roundedClasses:kn}=Om(Ve),Et=gn(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),tt=gn(()=>t.ripple!==void 0&&t.ripple&&(he!=null&&he.filterable)?{keys:[zU.enter]}:t.ripple),Pe=Dt(()=>({isActive:ue.value,select:D,isOpen:I.value,isSelected:P.value,isIndeterminate:z.value}));function mt(Ht){var On,nn;m("click",Ht),!["INPUT","TEXTAREA"].includes((On=Ht.target)==null?void 0:On.tagName)&&re.value&&((nn=h.navigate)==null||nn.call(h,Ht),!K&&(W.activatable.value?w(!T.value,Ht):(W.selectable.value||t.value!=null)&&D(!P.value,Ht)))}function po(Ht){const On=Ht.target;["INPUT","TEXTAREA"].includes(On.tagName)||(Ht.key==="Enter"||Ht.key===" "&&!(he!=null&&he.filterable))&&(Ht.preventDefault(),Ht.stopPropagation(),Ht.target.dispatchEvent(new MouseEvent("click",Ht)))}return yr(()=>{const Ht=Z.value?"a":t.tag,On=u.title||t.title!=null,nn=u.subtitle||t.subtitle!=null,Q=!!(t.appendAvatar||t.appendIcon),co=!!(Q||u.append),Kt=!!(t.prependAvatar||t.prependIcon),pn=!!(Kt||u.prepend);return he==null||he.updateHasPrepend(pn),t.activeColor&&mQ("active-color",["color","base-color"]),zn(ae(Ht,Po({class:["v-list-item",{"v-list-item--active":ue.value,"v-list-item--disabled":t.disabled,"v-list-item--link":re.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!pn&&(he==null?void 0:he.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&ue.value},Ae.value,ze.value,R.value,Ot.value,ut.value,Et.value,kn.value,Ze.value,t.class],style:[Fe.value,Gt.value,t.style],tabindex:re.value?he?-2:0:void 0,"aria-selected":de.value?W.activatable.value?T.value:W.selectable.value?P.value:ue.value:void 0,onClick:mt,onKeydown:re.value&&!Z.value&&po},h.linkProps),{default:()=>{var je;return[BE(re.value||ue.value,"v-list-item"),pn&&ee("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ae(Sa,{key:"prepend-defaults",disabled:!Kt,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var nt;return[(nt=u.prepend)==null?void 0:nt.call(u,Pe.value)]}}):ee(lr,null,[t.prependAvatar&&ae(Ax,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ae(Un,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),ee("div",{class:"v-list-item__spacer"},null)]),ee("div",{class:"v-list-item__content","data-no-activator":""},[On&&ae(yye,{key:"title"},{default:()=>{var nt;return[((nt=u.title)==null?void 0:nt.call(u,{title:t.title}))??We(t.title)]}}),nn&&ae(vye,{key:"subtitle"},{default:()=>{var nt;return[((nt=u.subtitle)==null?void 0:nt.call(u,{subtitle:t.subtitle}))??We(t.subtitle)]}}),(je=u.default)==null?void 0:je.call(u,Pe.value)]),co&&ee("div",{key:"append",class:"v-list-item__append"},[u.append?ae(Sa,{key:"append-defaults",disabled:!Q,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var nt;return[(nt=u.append)==null?void 0:nt.call(u,Pe.value)]}}):ee(lr,null,[t.appendIcon&&ae(Un,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ae(Ax,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),ee("div",{class:"v-list-item__spacer"},null)])]}}),[[r1,re.value&&tt.value]])}),{activate:w,isActivated:T,isGroupActivator:K,isSelected:P,list:he,select:D,root:W,id:U,link:h}}}),wye=Ln({color:String,inset:Boolean,sticky:Boolean,title:String,...zr(),...sa()},"VListSubheader"),yK=Bo()({name:"VListSubheader",props:wye(),setup(t,s){let{slots:i}=s;const{textColorClasses:u,textColorStyles:m}=pp(()=>t.color);return yr(()=>{const h=!!(i.default||t.title);return ae(t.tag,{class:go(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Rr([{textColorStyles:m},t.style])},{default:()=>{var x;return[h&&ee("div",{class:"v-list-subheader__text"},[((x=i.default)==null?void 0:x.call(i))??t.title])]}})}),{}}}),Cye=Ln({items:Array,returnObject:Boolean},"VListChildren"),kte=Bo()({name:"VListChildren",props:Cye(),setup(t,s){let{slots:i}=s;return bte(),()=>{var u,m;return((u=i.default)==null?void 0:u.call(i))??((m=t.items)==null?void 0:m.map(h=>{var z,K;let{children:x,props:w,type:T,raw:D}=h;if(T==="divider")return((z=i.divider)==null?void 0:z.call(i,{props:w}))??ae(NC,w,null);if(T==="subheader")return((K=i.subheader)==null?void 0:K.call(i,{props:w}))??ae(yK,w,null);const I={subtitle:i.subtitle?W=>{var J;return(J=i.subtitle)==null?void 0:J.call(i,{...W,item:D})}:void 0,prepend:i.prepend?W=>{var J;return(J=i.prepend)==null?void 0:J.call(i,{...W,item:D})}:void 0,append:i.append?W=>{var J;return(J=i.append)==null?void 0:J.call(i,{...W,item:D})}:void 0,title:i.title?W=>{var J;return(J=i.title)==null?void 0:J.call(i,{...W,item:D})}:void 0},P=uX.filterProps(w);return x?ae(uX,Po(P,{value:t.returnObject?D:w==null?void 0:w.value,rawId:w==null?void 0:w.value}),{activator:W=>{let{props:J}=W;const oe={...w,...J,value:t.returnObject?D:w.value};return i.header?i.header({props:oe}):ae(Oc,oe,I)},default:()=>ae(kte,{items:x,returnObject:t.returnObject},i)}):i.item?i.item({props:w}):ae(Oc,Po(w,{value:t.returnObject?D:w.value}),I)}))}}}),Ete=Ln({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function vW(t,s){const i=Kg(s,t.itemTitle,s),u=Kg(s,t.itemValue,i),m=Kg(s,t.itemChildren),h=Kg(s,t.itemType,"item"),x=t.itemProps===!0?typeof s=="object"&&s!=null&&!Array.isArray(s)?"children"in s?Tx(s,["children"]):s:void 0:Kg(s,t.itemProps),w={title:i,value:u,...x};return{type:h,title:String(w.title??""),value:w.value,props:w,children:h==="item"&&Array.isArray(m)?Ate(t,m):void 0,raw:s}}function Ate(t,s){const i=WF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const m of s)u.push(vW(i,m));return u}function Tte(t){const s=Dt(()=>Ate(t,t.items)),i=Dt(()=>s.value.some(w=>w.value===null)),u=ho(new Map),m=ho([]);Bd(()=>{const w=s.value,T=new Map,D=[];for(let I=0;I<w.length;I++){const P=w[I];if(UU(P.value)||P.value===null){let z=T.get(P.value);z||(z=[],T.set(P.value,z)),z.push(P)}else D.push(P)}u.value=T,m.value=D});function h(w){const T=u.value,D=s.value,I=m.value,P=i.value,z=t.returnObject,K=!!t.valueComparator,W=t.valueComparator||Xg,J=WF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),oe=[];e:for(const U of w){if(!P&&U===null)continue;if(z&&typeof U=="string"){oe.push(vW(J,U));continue}const he=T.get(U);if(K||!he){for(const ue of K?D:I)if(W(U,ue.value)){oe.push(ue);continue e}oe.push(vW(J,U));continue}oe.push(...he)}return oe}function x(w){return t.returnObject?w.map(T=>{let{raw:D}=T;return D}):w.map(T=>{let{value:D}=T;return D})}return{items:s,transformIn:h,transformOut:x}}function _ye(t,s){const i=Kg(s,t.itemType,"item"),u=UU(s)?s:Kg(s,t.itemTitle),m=UU(s)?s:Kg(s,t.itemValue,void 0),h=Kg(s,t.itemChildren),x=t.itemProps===!0?Tx(s,["children"]):Kg(s,t.itemProps),w={title:u,value:m,...x};return{type:i,title:w.title,value:w.value,props:w,children:i==="item"&&h?Ote(t,h):void 0,raw:s}}function Ote(t,s){const i=[];for(const u of s)i.push(_ye(t,u));return i}function Sye(t){return{items:Dt(()=>Ote(t,t.items))}}const kye=Ln({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:zs,collapseIcon:zs,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":_f(),"onClick:select":_f(),"onUpdate:opened":_f(),...fye({selectStrategy:"single-leaf",openStrategy:"list"}),...u1(),...zr(),...th(),...yp(),...f1(),...Ete(),...Tm(),...sa(),...vl(),...g1({variant:"text"})},"VList"),xD=Bo()({name:"VList",props:kye(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,s){let{slots:i}=s;const{items:u}=Sye(t),{themeClasses:m}=dc(t),{backgroundColorClasses:h,backgroundColorStyles:x}=mp(()=>t.bgColor),{borderClasses:w}=d1(t),{densityClasses:T}=vp(t),{dimensionStyles:D}=xp(t),{elevationClasses:I}=m1(t),{roundedClasses:P}=Om(t),{children:z,open:K,parents:W,select:J,getPath:oe}=mye(t),U=gn(()=>t.lines?`v-list--${t.lines}-line`:void 0),he=gn(()=>t.activeColor),ue=gn(()=>t.baseColor),Z=gn(()=>t.color);bte({filterable:t.filterable}),Ox({VListGroup:{activeColor:he,baseColor:ue,color:Z,expandIcon:gn(()=>t.expandIcon),collapseIcon:gn(()=>t.collapseIcon)},VListItem:{activeClass:gn(()=>t.activeClass),activeColor:he,baseColor:ue,color:Z,density:gn(()=>t.density),disabled:gn(()=>t.disabled),lines:gn(()=>t.lines),nav:gn(()=>t.nav),slim:gn(()=>t.slim),variant:gn(()=>t.variant)}});const de=ho(!1),re=Mn();function Ve(R){de.value=!0}function Me(R){de.value=!1}function Ye(R){var Fe;!de.value&&!(R.relatedTarget&&((Fe=re.value)!=null&&Fe.contains(R.relatedTarget)))&&ze()}function it(R){const Fe=R.target;if(!(!re.value||["INPUT","TEXTAREA"].includes(Fe.tagName))){if(R.key==="ArrowDown")ze("next");else if(R.key==="ArrowUp")ze("prev");else if(R.key==="Home")ze("first");else if(R.key==="End")ze("last");else return;R.preventDefault()}}function Ae(R){de.value=!0}function ze(R){if(re.value)return EI(re.value,R)}return yr(()=>ae(t.tag,{ref:re,class:go(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},m.value,h.value,w.value,T.value,I.value,U.value,P.value,t.class]),style:Rr([x.value,D.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ve,onFocusout:Me,onFocus:Ye,onKeydown:it,onMousedown:Ae},{default:()=>[ae(kte,{items:u.value,returnObject:t.returnObject},i)]})),{open:K,select:J,focus:ze,children:z,parents:W,getPath:oe}}}),Eye=Ln({id:String,submenu:Boolean,disableInitialFocus:Boolean,...Tx(hK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:gK}}),["absolute"])},"VMenu"),m8=Bo()({name:"VMenu",props:Eye(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const u=Ki(t,"modelValue"),{scopeId:m}=c8(),{isRtl:h}=eh(),x=a1(),w=gn(()=>t.id||`v-menu-${x}`),T=Mn(),D=Wi(pW,null),I=ho(new Set);Fd(pW,{register(){I.value.add(x)},unregister(){I.value.delete(x)},closeParents(oe){setTimeout(()=>{var U;!I.value.size&&!t.persistent&&(oe==null||(U=T.value)!=null&&U.contentEl&&!Qme(oe,T.value.contentEl))&&(u.value=!1,D==null||D.closeParents())},40)}}),Dc(()=>{D==null||D.unregister(),document.removeEventListener("focusin",P)}),VF(()=>u.value=!1);async function P(oe){var ue,Z,de;const U=oe.relatedTarget,he=oe.target;await qo(),u.value&&U!==he&&((ue=T.value)!=null&&ue.contentEl)&&((Z=T.value)!=null&&Z.globalTop)&&![document,T.value.contentEl].includes(he)&&!T.value.contentEl.contains(he)&&((de=FI(T.value.contentEl)[0])==null||de.focus())}Dn(u,oe=>{oe?(D==null||D.register(),ei&&!t.disableInitialFocus&&document.addEventListener("focusin",P,{once:!0})):(D==null||D.unregister(),ei&&document.removeEventListener("focusin",P))},{immediate:!0});function z(oe){D==null||D.closeParents(oe)}function K(oe){var U,he,ue,Z,de;if(!t.disabled)if(oe.key==="Tab"||oe.key==="Enter"&&!t.closeOnContentClick){if(oe.key==="Enter"&&(oe.target instanceof HTMLTextAreaElement||oe.target instanceof HTMLInputElement&&oe.target.closest("form")))return;oe.key==="Enter"&&oe.preventDefault(),uQ(FI((U=T.value)==null?void 0:U.contentEl,!1),oe.shiftKey?"prev":"next",Ve=>Ve.tabIndex>=0)||(u.value=!1,(ue=(he=T.value)==null?void 0:he.activatorEl)==null||ue.focus())}else t.submenu&&oe.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(de=(Z=T.value)==null?void 0:Z.activatorEl)==null||de.focus())}function W(oe){var he;if(t.disabled)return;const U=(he=T.value)==null?void 0:he.contentEl;U&&u.value?oe.key==="ArrowDown"?(oe.preventDefault(),oe.stopImmediatePropagation(),EI(U,"next")):oe.key==="ArrowUp"?(oe.preventDefault(),oe.stopImmediatePropagation(),EI(U,"prev")):t.submenu&&(oe.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:oe.key===(h.value?"ArrowLeft":"ArrowRight")&&(oe.preventDefault(),EI(U,"first"))):(t.submenu?oe.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(oe.key))&&(u.value=!0,oe.preventDefault(),setTimeout(()=>setTimeout(()=>W(oe))))}const J=Dt(()=>Po({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":w.value,onKeydown:W},t.activatorProps));return yr(()=>{const oe=AF.filterProps(t);return ae(AF,Po({ref:T,id:w.value,class:["v-menu",t.class],style:t.style},oe,{modelValue:u.value,"onUpdate:modelValue":U=>u.value=U,absolute:!0,activatorProps:J.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":z,onKeydown:K},m),{activator:i.activator,default:function(){for(var U=arguments.length,he=new Array(U),ue=0;ue<U;ue++)he[ue]=arguments[ue];return ae(Sa,{root:"VMenu"},{default:()=>{var Z;return[(Z=i.default)==null?void 0:Z.call(i,...he)]}})}})}),WC({id:w,openChildren:I},T)}}),Aye=Ln({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...zr(),...$E({transition:{component:qee}})},"VCounter"),Ite=Bo()({name:"VCounter",functional:!0,props:Aye(),setup(t,s){let{slots:i}=s;const u=gn(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return yr(()=>ae(bx,{transition:t.transition},{default:()=>[zn(ee("div",{class:go(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Rr(t.style)},[i.default?i.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[To,t.active]])]})),{}}}),Tye=Ln({floating:Boolean,...zr()},"VFieldLabel"),BB=Bo()({name:"VFieldLabel",props:Tye(),setup(t,s){let{slots:i}=s;return yr(()=>ae(ste,{class:go(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Rr(t.style),"aria-hidden":t.floating||void 0},i)),{}}}),Oye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],xK=Ln({appendInnerIcon:zs,bgColor:String,clearable:Boolean,clearIcon:{type:zs,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:zs,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Oye.includes(t)},"onClick:clear":_f(),"onClick:appendInner":_f(),"onClick:prependInner":_f(),...zr(),...uK(),...Tm(),...vl()},"VField"),OF=Bo()({name:"VField",inheritAttrs:!1,props:{id:String,...dte(),...xK()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const{themeClasses:h}=dc(t),{loaderClasses:x}=dK(t),{focusClasses:w,isFocused:T,focus:D,blur:I}=u8(t),{InputIcon:P}=ute(t),{roundedClasses:z}=Om(t),{rtlClasses:K}=eh(),W=gn(()=>t.dirty||t.active),J=gn(()=>!!(t.label||m.label)),oe=gn(()=>!t.singleLine&&J.value),U=a1(),he=Dt(()=>t.id||`input-${U}`),ue=gn(()=>`${he.value}-messages`),Z=Mn(),de=Mn(),re=Mn(),Ve=Dt(()=>["plain","underlined"].includes(t.variant)),Me=Dt(()=>t.error||t.disabled?void 0:W.value&&T.value?t.color:t.baseColor),Ye=Dt(()=>{if(!(!t.iconColor||t.glow&&!T.value))return t.iconColor===!0?Me.value:t.iconColor}),{backgroundColorClasses:it,backgroundColorStyles:Ae}=mp(()=>t.bgColor),{textColorClasses:ze,textColorStyles:R}=pp(Me);Dn(W,Ot=>{if(oe.value){const Gt=Z.value.$el,ut=de.value.$el;requestAnimationFrame(()=>{const kn=ZW(Gt),Et=ut.getBoundingClientRect(),tt=Et.x-kn.x,Pe=Et.y-kn.y-(kn.height/2-Et.height/2),mt=Et.width/.75,po=Math.abs(mt-kn.width)>1?{maxWidth:vr(mt)}:void 0,Ht=getComputedStyle(Gt),On=getComputedStyle(ut),nn=parseFloat(Ht.transitionDuration)*1e3||150,Q=parseFloat(On.getPropertyValue("--v-field-label-scale")),co=On.getPropertyValue("color");Gt.style.visibility="visible",ut.style.visibility="hidden",gE(Gt,{transform:`translate(${tt}px, ${Pe}px) scale(${Q})`,color:co,...po},{duration:nn,easing:mF,direction:Ot?"normal":"reverse"}).finished.then(()=>{Gt.style.removeProperty("visibility"),ut.style.removeProperty("visibility")})})}},{flush:"post"});const Fe=Dt(()=>({isActive:W,isFocused:T,controlRef:re,blur:I,focus:D}));function Ze(Ot){Ot.target!==document.activeElement&&Ot.preventDefault()}return yr(()=>{var tt,Pe,mt;const Ot=t.variant==="outlined",Gt=!!(m["prepend-inner"]||t.prependInnerIcon),ut=!!(t.clearable||m.clear)&&!t.disabled,kn=!!(m["append-inner"]||t.appendInnerIcon||ut),Et=()=>m.label?m.label({...Fe.value,label:t.label,props:{for:he.value}}):t.label;return ee("div",Po({class:["v-field",{"v-field--active":W.value,"v-field--appended":kn,"v-field--center-affix":t.centerAffix??!Ve.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Gt,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Et(),[`v-field--variant-${t.variant}`]:!0},h.value,it.value,w.value,x.value,z.value,K.value,t.class],style:[Ae.value,t.style],onClick:Ze},i),[ee("div",{class:"v-field__overlay"},null),ae(Mee,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:m.loader}),Gt&&ee("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ae(P,{key:"prepend-icon",name:"prependInner",color:Ye.value},null),(tt=m["prepend-inner"])==null?void 0:tt.call(m,Fe.value)]),ee("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&oe.value&&ae(BB,{key:"floating-label",ref:de,class:go([ze.value]),floating:!0,for:he.value,style:Rr(R.value)},{default:()=>[Et()]}),J.value&&ae(BB,{key:"label",ref:Z,for:he.value},{default:()=>[Et()]}),((Pe=m.default)==null?void 0:Pe.call(m,{...Fe.value,props:{id:he.value,class:"v-field__input","aria-describedby":ue.value},focus:D,blur:I}))??ee("div",{id:he.value,class:"v-field__input","aria-describedby":ue.value},null)]),ut&&ae(Xee,{key:"clear"},{default:()=>[zn(ee("div",{class:"v-field__clearable",onMousedown:po=>{po.preventDefault(),po.stopPropagation()}},[ae(Sa,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[m.clear?m.clear({...Fe.value,props:{onFocus:D,onBlur:I,onClick:t["onClick:clear"],tabindex:-1}}):ae(P,{name:"clear",onFocus:D,onBlur:I,tabindex:-1},null)]})]),[[To,t.dirty]])]}),kn&&ee("div",{key:"append",class:"v-field__append-inner"},[(mt=m["append-inner"])==null?void 0:mt.call(m,Fe.value),t.appendInnerIcon&&ae(P,{key:"append-icon",name:"appendInner",color:Ye.value},null)]),ee("div",{class:go(["v-field__outline",ze.value]),style:Rr(R.value)},[Ot&&ee(lr,null,[ee("div",{class:"v-field__outline__start"},null),oe.value&&ee("div",{class:"v-field__outline__notch"},[ae(BB,{ref:de,floating:!0,for:he.value},{default:()=>[Et()]})]),ee("div",{class:"v-field__outline__end"},null)]),Ve.value&&oe.value&&ae(BB,{ref:de,floating:!0,for:he.value},{default:()=>[Et()]})])])}),{controlRef:re,fieldIconColor:Ye}}});function Dte(t){function s(i,u){var m,h;!t.autofocus||!i||(h=(m=u[0].target)==null?void 0:m.focus)==null||h.call(m)}return{onIntersect:s}}const Iye=["color","file","time","date","datetime-local","week","month"],wK=Ln({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...d8(),...xK()},"VTextField"),YI=Bo()({name:"VTextField",directives:{vIntersect:AE},inheritAttrs:!1,props:wK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const h=Ki(t,"modelValue"),{isFocused:x,focus:w,blur:T}=u8(t),{onIntersect:D}=Dte(t),I=Dt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),P=Dt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),z=Dt(()=>["plain","underlined"].includes(t.variant)),K=Mn(),W=Mn(),J=Mn(),oe=Dt(()=>Iye.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function U(){x.value||w(),qo(()=>{J.value!==document.activeElement&&qo(()=>{var re;return(re=J.value)==null?void 0:re.focus()})})}function he(re){u("mousedown:control",re),re.target!==J.value&&(U(),re.preventDefault())}function ue(re){u("click:control",re)}function Z(re,Ve){re.stopPropagation(),U(),qo(()=>{h.value=null,Ve(),KW(t["onClick:clear"],re)})}function de(re){var Me;const Ve=re.target;if(h.value=Ve.value,(Me=t.modelModifiers)!=null&&Me.trim&&["text","search","password","tel","url"].includes(t.type)){const Ye=[Ve.selectionStart,Ve.selectionEnd];qo(()=>{Ve.selectionStart=Ye[0],Ve.selectionEnd=Ye[1]})}}return yr(()=>{const re=!!(m.counter||t.counter!==!1&&t.counter!=null),Ve=!!(re||m.details),[Me,Ye]=KF(i),{modelValue:it,...Ae}=TE.filterProps(t),ze=OF.filterProps(t);return ae(TE,Po({ref:K,modelValue:h.value,"onUpdate:modelValue":R=>h.value=R,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":z.value},t.class],style:t.style},Me,Ae,{centerAffix:!z.value,focused:x.value}),{...m,default:R=>{let{id:Fe,isDisabled:Ze,isDirty:Ot,isReadonly:Gt,isValid:ut,reset:kn}=R;return ae(OF,Po({ref:W,onMousedown:he,onClick:ue,"onClick:clear":Et=>Z(Et,kn),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},ze,{id:Fe.value,active:oe.value||Ot.value,dirty:Ot.value||t.dirty,disabled:Ze.value,focused:x.value,error:ut.value===!1}),{...m,default:Et=>{let{props:{class:tt,...Pe}}=Et;const mt=zn(ee("input",Po({ref:J,value:h.value,onInput:de,autofocus:t.autofocus,readonly:Gt.value,disabled:Ze.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:U,onBlur:T},Pe,Ye),null),[[AE,{handler:D},null,{once:!0}]]);return ee(lr,null,[t.prefix&&ee("span",{class:"v-text-field__prefix"},[ee("span",{class:"v-text-field__prefix__text"},[t.prefix])]),m.default?ee("div",{class:go(tt),"data-no-activator":""},[m.default(),mt]):n1(mt,{class:tt}),t.suffix&&ee("span",{class:"v-text-field__suffix"},[ee("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Ve?R=>{var Fe;return ee(lr,null,[(Fe=m.details)==null?void 0:Fe.call(m,R),re&&ee(lr,null,[ee("span",null,null),ae(Ite,{active:t.persistentCounter||x.value,value:I.value,max:P.value,disabled:t.disabled},m.counter)])])}:void 0})}),WC({},K,W,J)}}),Dye=Ln({renderless:Boolean,...zr()},"VVirtualScrollItem"),Rye=Bo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Dye(),emits:{"update:height":t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const{resizeRef:h,contentRect:x}=kE(void 0,"border");Dn(()=>{var w;return(w=x.value)==null?void 0:w.height},w=>{w!=null&&u("update:height",w)}),yr(()=>{var w,T;return t.renderless?ee(lr,null,[(w=m.default)==null?void 0:w.call(m,{itemRef:h})]):ee("div",Po({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},i),[(T=m.default)==null?void 0:T.call(m)])})}}),Nye=-1,Pye=1,xU=100,Lye=Ln({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Mye(t,s){const i=GF(),u=ho(0);Bd(()=>{u.value=parseFloat(t.itemHeight||0)});const m=ho(0),h=ho(Math.ceil((parseInt(t.height)||i.height.value)/(u.value||16))||1),x=ho(0),w=ho(0),T=Mn(),D=Mn();let I=0;const{resizeRef:P,contentRect:z}=kE();Bd(()=>{P.value=T.value});const K=Dt(()=>{var Et;return T.value===document.documentElement?i.height.value:((Et=z.value)==null?void 0:Et.height)||parseInt(t.height)||0}),W=Dt(()=>!!(T.value&&D.value&&K.value&&u.value));let J=Array.from({length:s.value.length}),oe=Array.from({length:s.value.length});const U=ho(0);let he=-1;function ue(Et){return J[Et]||u.value}const Z=qme(()=>{const Et=performance.now();oe[0]=0;const tt=s.value.length;for(let Pe=1;Pe<=tt-1;Pe++)oe[Pe]=(oe[Pe-1]||0)+ue(Pe-1);U.value=Math.max(U.value,performance.now()-Et)},U),de=Dn(W,Et=>{Et&&(de(),I=D.value.offsetTop,Z.immediate(),Ot(),~he&&qo(()=>{ei&&window.requestAnimationFrame(()=>{ut(he),he=-1})}))});uc(()=>{Z.clear()});function re(Et,tt){const Pe=J[Et],mt=u.value;u.value=mt?Math.min(u.value,tt):tt,(Pe!==tt||mt!==u.value)&&(J[Et]=tt,Z())}function Ve(Et){Et=Cf(Et,0,s.value.length-1);const tt=Math.floor(Et),Pe=Et%1,mt=tt+1,po=oe[tt]||0,Ht=oe[mt]||po;return po+(Ht-po)*Pe}function Me(Et){return Bye(oe,Et)}let Ye=0,it=0,Ae=0;Dn(K,(Et,tt)=>{tt&&(Ot(),Et<tt&&requestAnimationFrame(()=>{it=0,Ot()}))});let ze=-1;function R(){if(!T.value||!D.value)return;const Et=T.value.scrollTop,tt=performance.now();tt-Ae>500?(it=Math.sign(Et-Ye),I=D.value.offsetTop):it=Et-Ye,Ye=Et,Ae=tt,window.clearTimeout(ze),ze=window.setTimeout(Fe,500),Ot()}function Fe(){!T.value||!D.value||(it=0,Ae=0,window.clearTimeout(ze),Ot())}let Ze=-1;function Ot(){cancelAnimationFrame(Ze),Ze=requestAnimationFrame(Gt)}function Gt(){if(!T.value||!K.value||!u.value)return;const Et=Ye-I,tt=Math.sign(it),Pe=Math.max(0,Et-xU),mt=Cf(Me(Pe),0,s.value.length),po=Et+K.value+xU,Ht=Cf(Me(po)+1,mt+1,s.value.length);if((tt!==Nye||mt<m.value)&&(tt!==Pye||Ht>h.value)){const On=Ve(m.value)-Ve(mt),nn=Ve(Ht)-Ve(h.value);Math.max(On,nn)>xU?(m.value=mt,h.value=Ht):(mt<=0&&(m.value=mt),Ht>=s.value.length&&(h.value=Ht))}x.value=Ve(m.value),w.value=Ve(s.value.length)-Ve(h.value)}function ut(Et){const tt=Ve(Et);!T.value||Et&&!tt?he=Et:T.value.scrollTop=tt}const kn=Dt(()=>s.value.slice(m.value,h.value).map((Et,tt)=>{const Pe=tt+m.value;return{raw:Et,index:Pe,key:Kg(Et,t.itemKey,Pe)}}));return Dn(s,()=>{J=Array.from({length:s.value.length}),oe=Array.from({length:s.value.length}),Z.immediate(),Ot()},{deep:1}),{calculateVisibleItems:Ot,containerRef:T,markerRef:D,computedItems:kn,paddingTop:x,paddingBottom:w,scrollToIndex:ut,handleScroll:R,handleScrollend:Fe,handleItemResize:re}}function Bye(t,s){let i=t.length-1,u=0,m=0,h=null,x=-1;if(t[i]<s)return i;for(;u<=i;)if(m=u+i>>1,h=t[m],h>s)i=m-1;else if(h<s)x=m,u=m+1;else return h===s?m:u;return x}const Fye=Ln({items:{type:Array,default:()=>[]},renderless:Boolean,...Lye(),...zr(),...yp()},"VVirtualScroll"),Rte=Bo()({name:"VVirtualScroll",props:Fye(),setup(t,s){let{slots:i}=s;const u=Vl("VVirtualScroll"),{dimensionStyles:m}=xp(t),{calculateVisibleItems:h,containerRef:x,markerRef:w,handleScroll:T,handleScrollend:D,handleItemResize:I,scrollToIndex:P,paddingTop:z,paddingBottom:K,computedItems:W}=Mye(t,gn(()=>t.items));return Yg(()=>t.renderless,()=>{function J(){var he,ue;const U=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[U]("scroll",T,{passive:!0}),document[U]("scrollend",D)):((he=x.value)==null||he[U]("scroll",T,{passive:!0}),(ue=x.value)==null||ue[U]("scrollend",D))}ju(()=>{x.value=xQ(u.vnode.el,!0),J(!0)}),uc(J)}),yr(()=>{const J=W.value.map(oe=>ae(Rye,{key:oe.key,renderless:t.renderless,"onUpdate:height":U=>I(oe.index,U)},{default:U=>{var he;return(he=i.default)==null?void 0:he.call(i,{item:oe.raw,index:oe.index,...U})}}));return t.renderless?ee(lr,null,[ee("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:vr(z.value)}},null),J,ee("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:vr(K.value)}},null)]):ee("div",{ref:x,class:go(["v-virtual-scroll",t.class]),onScrollPassive:T,onScrollend:D,style:Rr([m.value,t.style])},[ee("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:vr(z.value),paddingBottom:vr(K.value)}},[J])])}),{calculateVisibleItems:h,scrollToIndex:P}}});function Nte(t,s){const i=ho(!1);let u;function m(w){cancelAnimationFrame(u),i.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{i.value=!1})})}async function h(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(i.value){const T=Dn(i,()=>{T(),w()})}else w()})}async function x(w){var I,P;if(w.key==="Tab"&&((I=s.value)==null||I.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const T=(P=t.value)==null?void 0:P.$el;if(!T)return;(w.key==="Home"||w.key==="End")&&T.scrollTo({top:w.key==="Home"?0:T.scrollHeight,behavior:"smooth"}),await h();const D=T.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const z=T.getBoundingClientRect().top;for(const K of D)if(K.getBoundingClientRect().top>=z){K.focus();break}}else{const z=T.getBoundingClientRect().bottom;for(const K of[...D].reverse())if(K.getBoundingClientRect().bottom<=z){K.focus();break}}}return{onScrollPassive:m,onKeydown:x}}const Pte=Ln({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:zs,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Ete({itemChildren:!1})},"Select"),$ye=Ln({...Pte(),...Tx(wK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$E({transition:{component:gK}})},"VSelect");Bo()({name:"VSelect",props:$ye(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:i}=s;const{t:u}=fD(),m=Mn(),h=Mn(),x=Mn(),{items:w,transformIn:T,transformOut:D}=Tte(t),I=Ki(t,"modelValue",[],Et=>T(Et===null?[null]:wf(Et)),Et=>{const tt=D(Et);return t.multiple?tt:tt[0]??null}),P=Dt(()=>typeof t.counterValue=="function"?t.counterValue(I.value):typeof t.counterValue=="number"?t.counterValue:I.value.length),z=pK(t),K=Dt(()=>I.value.map(Et=>Et.value)),W=ho(!1);let J="",oe=-1,U;const he=Dt(()=>t.hideSelected?w.value.filter(Et=>!I.value.some(tt=>(t.valueComparator||Xg)(tt,Et))):w.value),ue=Dt(()=>t.hideNoData&&!he.value.length||z.isReadonly.value||z.isDisabled.value),Z=Ki(t,"menu"),de=Dt({get:()=>Z.value,set:Et=>{var tt;Z.value&&!Et&&((tt=h.value)!=null&&tt.openChildren.size)||Et&&ue.value||(Z.value=Et)}}),re=gn(()=>de.value?t.closeText:t.openText),Ve=Dt(()=>{var Et;return{...t.menuProps,activatorProps:{...((Et=t.menuProps)==null?void 0:Et.activatorProps)||{},"aria-haspopup":"listbox"}}}),Me=Mn(),Ye=Nte(Me,m);function it(Et){t.openOnClear&&(de.value=!0)}function Ae(){ue.value||(de.value=!de.value)}function ze(Et){dF(Et)&&R(Et)}function R(Et){var co,Kt,pn;if(!Et.key||z.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Et.key)&&Et.preventDefault(),["Enter","ArrowDown"," "].includes(Et.key)&&(de.value=!0),["Escape","Tab"].includes(Et.key)&&(de.value=!1),Et.key==="Home"?(co=Me.value)==null||co.focus("first"):Et.key==="End"&&((Kt=Me.value)==null||Kt.focus("last"));const tt=1e3;if(!dF(Et))return;const Pe=performance.now();Pe-U>tt&&(J="",oe=-1),J+=Et.key.toLowerCase(),U=Pe;const mt=he.value;function po(){let je=Ht();return je||J.at(-1)===J.at(-2)&&(J=J.slice(0,-1),je=Ht(),je)||(oe=-1,je=Ht(),je)?je:(J=Et.key.toLowerCase(),Ht())}function Ht(){for(let je=oe+1;je<mt.length;je++){const nt=mt[je];if(nt.title.toLowerCase().startsWith(J))return[nt,je]}}const On=po();if(!On)return;const[nn,Q]=On;oe=Q,(pn=Me.value)==null||pn.focus(Q),t.multiple||(I.value=[nn])}function Fe(Et){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Et.props.disabled)if(t.multiple){const Pe=I.value.findIndex(po=>(t.valueComparator||Xg)(po.value,Et.value)),mt=tt??!~Pe;if(~Pe){const po=mt?[...I.value,Et]:[...I.value];po.splice(Pe,1),I.value=po}else mt&&(I.value=[...I.value,Et])}else{const Pe=tt!==!1;I.value=Pe?[Et]:[],qo(()=>{de.value=!1})}}function Ze(Et){var tt;(tt=Me.value)!=null&&tt.$el.contains(Et.relatedTarget)||(de.value=!1)}function Ot(){var Et;t.eager&&((Et=x.value)==null||Et.calculateVisibleItems())}function Gt(){var Et;W.value&&((Et=m.value)==null||Et.focus())}function ut(Et){W.value=!0}function kn(Et){if(Et==null)I.value=[];else if(_E(m.value,":autofill")||_E(m.value,":-webkit-autofill")){const tt=w.value.find(Pe=>Pe.title===Et);tt&&Fe(tt)}else m.value&&(m.value.value="")}return Dn(de,()=>{if(!t.hideSelected&&de.value&&I.value.length){const Et=he.value.findIndex(tt=>I.value.some(Pe=>(t.valueComparator||Xg)(Pe.value,tt.value)));ei&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var tt;Et>=0&&((tt=x.value)==null||tt.scrollToIndex(Et))})}}),Dn(()=>t.items,(Et,tt)=>{de.value||W.value&&!tt.length&&Et.length&&(de.value=!0)}),yr(()=>{const Et=!!(t.chips||i.chip),tt=!!(!t.hideNoData||he.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Pe=I.value.length>0,mt=YI.filterProps(t),po=Pe||!W.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ae(YI,Po({ref:m},mt,{modelValue:I.value.map(Ht=>Ht.props.value).join(", "),"onUpdate:modelValue":kn,focused:W.value,"onUpdate:focused":Ht=>W.value=Ht,validationValue:I.externalValue,counterValue:P.value,dirty:Pe,class:["v-select",{"v-select--active-menu":de.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":I.value.length,"v-select--selection-slot":!!i.selection},t.class],style:t.style,inputmode:"none",placeholder:po,"onClick:clear":it,"onMousedown:control":Ae,onBlur:Ze,onKeydown:R,"aria-label":u(re.value),title:u(re.value)}),{...i,default:()=>ee(lr,null,[ae(m8,Po({ref:h,modelValue:de.value,"onUpdate:modelValue":Ht=>de.value=Ht,activator:"parent",contentClass:"v-select__content",disabled:ue.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Ot,onAfterLeave:Gt},Ve.value),{default:()=>[tt&&ae(xD,Po({ref:Me,selected:K.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Ht=>Ht.preventDefault(),onKeydown:ze,onFocusin:ut,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},Ye,t.listProps),{default:()=>{var Ht,On,nn;return[(Ht=i["prepend-item"])==null?void 0:Ht.call(i),!he.value.length&&!t.hideNoData&&(((On=i["no-data"])==null?void 0:On.call(i))??ae(Oc,{key:"no-data",title:u(t.noDataText)},null)),ae(Rte,{ref:x,renderless:!0,items:he.value,itemKey:"value"},{default:Q=>{var xe,Te,$e;let{item:co,index:Kt,itemRef:pn}=Q;const je=ege(co.props),nt=Po(co.props,{ref:pn,key:co.value,onClick:()=>Fe(co,null)});return co.type==="divider"?((xe=i.divider)==null?void 0:xe.call(i,{props:co.raw,index:Kt}))??ae(NC,Po(co.props,{key:`divider-${Kt}`}),null):co.type==="subheader"?((Te=i.subheader)==null?void 0:Te.call(i,{props:co.raw,index:Kt}))??ae(yK,Po(co.props,{key:`subheader-${Kt}`}),null):(($e=i.item)==null?void 0:$e.call(i,{item:co,index:Kt,props:nt}))??ae(Oc,Po(nt,{role:"option"}),{prepend:be=>{let{isSelected:Ce}=be;return ee(lr,null,[t.multiple&&!t.hideSelected?ae(TF,{key:co.value,modelValue:Ce,ripple:!1,tabindex:"-1"},null):void 0,je.prependAvatar&&ae(Ax,{image:je.prependAvatar},null),je.prependIcon&&ae(Un,{icon:je.prependIcon},null)])}})}}),(nn=i["append-item"])==null?void 0:nn.call(i)]}})]}),I.value.map((Ht,On)=>{function nn(pn){pn.stopPropagation(),pn.preventDefault(),Fe(Ht,!1)}const Q={"onClick:close":nn,onKeydown(pn){pn.key!=="Enter"&&pn.key!==" "||(pn.preventDefault(),pn.stopPropagation(),nn(pn))},onMousedown(pn){pn.preventDefault(),pn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},co=Et?!!i.chip:!!i.selection,Kt=co?jW(Et?i.chip({item:Ht,index:On,props:Q}):i.selection({item:Ht,index:On})):void 0;if(!(co&&!Kt))return ee("div",{key:Ht.value,class:"v-select__selection"},[Et?i.chip?ae(Sa,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Ht.title}}},{default:()=>[Kt]}):ae(pte,Po({key:"chip",closable:t.closableChips,size:"small",text:Ht.title,disabled:Ht.props.disabled},Q),null):Kt??ee("span",{class:"v-select__selection-text"},[Ht.title,t.multiple&&On<I.value.length-1&&ee("span",{class:"v-select__selection-comma"},[hs(",")])])])})]),"append-inner":function(){var Q,co;for(var Ht=arguments.length,On=new Array(Ht),nn=0;nn<Ht;nn++)On[nn]=arguments[nn];return ee(lr,null,[(Q=i["append-inner"])==null?void 0:Q.call(i,...On),t.menuIcon?ae(Un,{class:"v-select__menu-icon",color:(co=m.value)==null?void 0:co.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),WC({isFocused:W,menu:de,select:Fe},m)}});const Vye=(t,s,i)=>{if(t==null||s==null)return-1;if(!s.length)return 0;t=t.toString().toLocaleLowerCase(),s=s.toString().toLocaleLowerCase();const u=[];let m=t.indexOf(s);for(;~m;)u.push([m,m+s.length]),m=t.indexOf(s,m+s.length);return u.length?u:-1};function wU(t,s){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+s.length]]:Array.isArray(t[0])?t:[t]}const zye=Ln({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Hye(t,s,i){var w;const u=[],m=(i==null?void 0:i.default)??Vye,h=i!=null&&i.filterKeys?wf(i.filterKeys):!1,x=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let T=0;T<t.length;T++){const[D,I=D]=wf(t[T]),P={},z={};let K=-1;if((s||x>0)&&!(i!=null&&i.noFilter)){if(typeof D=="object"){if(D.type==="divider"||D.type==="subheader")continue;const oe=h||Object.keys(I);for(const U of oe){const he=Kg(I,U),ue=(w=i==null?void 0:i.customKeyFilter)==null?void 0:w[U];if(K=ue?ue(he,s,D):m(he,s,D),K!==-1&&K!==!1)ue?P[U]=wU(K,s):z[U]=wU(K,s);else if((i==null?void 0:i.filterMode)==="every")continue e}}else K=m(D,s,D),K!==-1&&K!==!1&&(z.title=wU(K,s));const W=Object.keys(z).length,J=Object.keys(P).length;if(!W&&!J||(i==null?void 0:i.filterMode)==="union"&&J!==x&&!W||(i==null?void 0:i.filterMode)==="intersection"&&(J!==x||!W))continue}u.push({index:T,matches:{...z,...P}})}return u}function Uye(t,s,i,u){const m=ho([]),h=ho(new Map),x=Dt(()=>ie(s));Bd(()=>{const T=typeof i=="function"?i():ie(i),D=typeof T!="string"&&typeof T!="number"?"":String(T),I=Hye(x.value,D,{customKeyFilter:{...t.customKeyFilter,...ie(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),P=ie(s),z=[],K=new Map;I.forEach(W=>{let{index:J,matches:oe}=W;const U=P[J];z.push(U),K.set(U.value,oe)}),m.value=z,h.value=K});function w(T){return h.value.get(T.value)}return{filteredItems:m,filteredMatches:h,getMatches:w}}function Wye(t,s,i){return i==null||!i.length?s:i.map((u,m)=>{const h=m===0?0:i[m-1][1],x=[ee("span",{class:go(`${t}__unmask`)},[s.slice(h,u[0])]),ee("span",{class:go(`${t}__mask`)},[s.slice(u[0],u[1])])];return m===i.length-1&&x.push(ee("span",{class:go(`${t}__unmask`)},[s.slice(u[1])])),ee(lr,null,[x])})}const Kye=Ln({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...zye({filterKeys:["title"]}),...Pte(),...Tx(wK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$E({transition:!1})},"VAutocomplete"),Lte=Bo()({name:"VAutocomplete",props:Kye(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:i}=s;const{t:u}=fD(),m=Mn(),h=ho(!1),x=ho(!0),w=ho(!1),T=Mn(),D=Mn(),I=ho(-1),{items:P,transformIn:z,transformOut:K}=Tte(t),{textColorClasses:W,textColorStyles:J}=pp(()=>{var Kt;return(Kt=m.value)==null?void 0:Kt.color}),oe=Ki(t,"search",""),U=Ki(t,"modelValue",[],Kt=>z(Kt===null?[null]:wf(Kt)),Kt=>{const pn=K(Kt);return t.multiple?pn:pn[0]??null}),he=Dt(()=>typeof t.counterValue=="function"?t.counterValue(U.value):typeof t.counterValue=="number"?t.counterValue:U.value.length),ue=pK(t),{filteredItems:Z,getMatches:de}=Uye(t,P,()=>x.value?"":oe.value),re=Dt(()=>t.hideSelected?Z.value.filter(Kt=>!U.value.some(pn=>pn.value===Kt.value)):Z.value),Ve=Dt(()=>!!(t.chips||i.chip)),Me=Dt(()=>Ve.value||!!i.selection),Ye=Dt(()=>U.value.map(Kt=>Kt.props.value)),it=Dt(()=>{var pn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&oe.value===((pn=re.value[0])==null?void 0:pn.title))&&re.value.length>0&&!x.value&&!w.value}),Ae=Dt(()=>t.hideNoData&&!re.value.length||ue.isReadonly.value||ue.isDisabled.value),ze=Ki(t,"menu"),R=Dt({get:()=>ze.value,set:Kt=>{var pn;ze.value&&!Kt&&((pn=T.value)!=null&&pn.openChildren.size)||Kt&&Ae.value||(ze.value=Kt)}}),Fe=Dt(()=>R.value?t.closeText:t.openText),Ze=Mn(),Ot=Nte(Ze,m);function Gt(Kt){t.openOnClear&&(R.value=!0),oe.value=""}function ut(){Ae.value||(R.value=!0)}function kn(Kt){Ae.value||(h.value&&(Kt.preventDefault(),Kt.stopPropagation()),R.value=!R.value)}function Et(Kt){var pn;(dF(Kt)||Kt.key==="Backspace")&&((pn=m.value)==null||pn.focus())}function tt(Kt){var nt,xe,Te,$e,be;if(ue.isReadonly.value)return;const pn=(nt=m.value)==null?void 0:nt.selectionStart,je=U.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Kt.key)&&Kt.preventDefault(),["Enter","ArrowDown"].includes(Kt.key)&&(R.value=!0),["Escape"].includes(Kt.key)&&(R.value=!1),it.value&&["Enter","Tab"].includes(Kt.key)&&!U.value.some(Ce=>{let{value:Re}=Ce;return Re===re.value[0].value})&&co(re.value[0]),Kt.key==="ArrowDown"&&it.value&&((xe=Ze.value)==null||xe.focus("next")),["Backspace","Delete"].includes(Kt.key)){if(!t.multiple&&Me.value&&U.value.length>0&&!oe.value)return co(U.value[0],!1);if(~I.value){Kt.preventDefault();const Ce=I.value;co(U.value[I.value],!1),I.value=Ce>=je-1?je-2:Ce}else Kt.key==="Backspace"&&!oe.value&&(I.value=je-1);return}if(t.multiple)if(Kt.key==="ArrowLeft"){if(I.value<0&&pn&&pn>0)return;const Ce=I.value>-1?I.value-1:je-1;if(U.value[Ce])I.value=Ce;else{const Re=((Te=oe.value)==null?void 0:Te.length)??null;I.value=-1,($e=m.value)==null||$e.setSelectionRange(Re,Re)}}else if(Kt.key==="ArrowRight"){if(I.value<0)return;const Ce=I.value+1;U.value[Ce]?I.value=Ce:(I.value=-1,(be=m.value)==null||be.setSelectionRange(0,0))}else~I.value&&dF(Kt)&&(I.value=-1)}function Pe(Kt){if(_E(m.value,":autofill")||_E(m.value,":-webkit-autofill")){const pn=P.value.find(je=>je.title===Kt.target.value);pn&&co(pn)}}function mt(){var Kt;t.eager&&((Kt=D.value)==null||Kt.calculateVisibleItems())}function po(){var Kt;h.value&&(x.value=!0,(Kt=m.value)==null||Kt.focus())}function Ht(Kt){h.value=!0,setTimeout(()=>{w.value=!0})}function On(Kt){w.value=!1}function nn(Kt){(Kt==null||Kt===""&&!t.multiple&&!Me.value)&&(U.value=[])}const Q=ho(!1);function co(Kt){let pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Kt||Kt.props.disabled))if(t.multiple){const je=U.value.findIndex(xe=>(t.valueComparator||Xg)(xe.value,Kt.value)),nt=pn??!~je;if(~je){const xe=nt?[...U.value,Kt]:[...U.value];xe.splice(je,1),U.value=xe}else nt&&(U.value=[...U.value,Kt]);t.clearOnSelect&&(oe.value="")}else{const je=pn!==!1;U.value=je?[Kt]:[],oe.value=je&&!Me.value?Kt.title:"",qo(()=>{R.value=!1,x.value=!0})}}return Dn(h,(Kt,pn)=>{var je;Kt!==pn&&(Kt?(Q.value=!0,oe.value=t.multiple||Me.value?"":String(((je=U.value.at(-1))==null?void 0:je.props.title)??""),x.value=!0,qo(()=>Q.value=!1)):(!t.multiple&&oe.value==null&&(U.value=[]),R.value=!1,(t.multiple||Me.value)&&(oe.value=""),I.value=-1))}),Dn(oe,Kt=>{!h.value||Q.value||(Kt&&(R.value=!0),x.value=!Kt)}),Dn(R,()=>{if(!t.hideSelected&&R.value&&U.value.length){const Kt=re.value.findIndex(pn=>U.value.some(je=>pn.value===je.value));ei&&window.requestAnimationFrame(()=>{var pn;Kt>=0&&((pn=D.value)==null||pn.scrollToIndex(Kt))})}}),Dn(()=>t.items,(Kt,pn)=>{R.value||h.value&&!pn.length&&Kt.length&&(R.value=!0)}),yr(()=>{const Kt=!!(!t.hideNoData||re.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),pn=U.value.length>0,je=YI.filterProps(t);return ae(YI,Po({ref:m},je,{modelValue:oe.value,"onUpdate:modelValue":[nt=>oe.value=nt,nn],focused:h.value,"onUpdate:focused":nt=>h.value=nt,validationValue:U.externalValue,counterValue:he.value,dirty:pn,onChange:Pe,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":R.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Me.value,"v-autocomplete--selecting-index":I.value>-1},t.class],style:t.style,readonly:ue.isReadonly.value,placeholder:pn?void 0:t.placeholder,"onClick:clear":Gt,"onMousedown:control":ut,onKeydown:tt}),{...i,default:()=>ee(lr,null,[ae(m8,Po({ref:T,modelValue:R.value,"onUpdate:modelValue":nt=>R.value=nt,activator:"parent",contentClass:"v-autocomplete__content",disabled:Ae.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:mt,onAfterLeave:po},t.menuProps),{default:()=>[Kt&&ae(xD,Po({ref:Ze,filterable:!0,selected:Ye.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:nt=>nt.preventDefault(),onKeydown:Et,onFocusin:Ht,onFocusout:On,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Ot,t.listProps),{default:()=>{var nt,xe,Te;return[(nt=i["prepend-item"])==null?void 0:nt.call(i),!re.value.length&&!t.hideNoData&&(((xe=i["no-data"])==null?void 0:xe.call(i))??ae(Oc,{key:"no-data",title:u(t.noDataText)},null)),ae(Rte,{ref:D,renderless:!0,items:re.value,itemKey:"value"},{default:$e=>{var ht,sn,Ut;let{item:be,index:Ce,itemRef:Re}=$e;const qe=Po(be.props,{ref:Re,key:be.value,active:it.value&&Ce===0?!0:void 0,onClick:()=>co(be,null)});return be.type==="divider"?((ht=i.divider)==null?void 0:ht.call(i,{props:be.raw,index:Ce}))??ae(NC,Po(be.props,{key:`divider-${Ce}`}),null):be.type==="subheader"?((sn=i.subheader)==null?void 0:sn.call(i,{props:be.raw,index:Ce}))??ae(yK,Po(be.props,{key:`subheader-${Ce}`}),null):((Ut=i.item)==null?void 0:Ut.call(i,{item:be,index:Ce,props:qe}))??ae(Oc,Po(qe,{role:"option"}),{prepend:bn=>{let{isSelected:qn}=bn;return ee(lr,null,[t.multiple&&!t.hideSelected?ae(TF,{key:be.value,modelValue:qn,ripple:!1,tabindex:"-1"},null):void 0,be.props.prependAvatar&&ae(Ax,{image:be.props.prependAvatar},null),be.props.prependIcon&&ae(Un,{icon:be.props.prependIcon},null)])},title:()=>{var bn;return x.value?be.title:Wye("v-autocomplete",be.title,(bn=de(be))==null?void 0:bn.title)}})}}),(Te=i["append-item"])==null?void 0:Te.call(i)]}})]}),U.value.map((nt,xe)=>{function Te(Re){Re.stopPropagation(),Re.preventDefault(),co(nt,!1)}const $e={"onClick:close":Te,onKeydown(Re){Re.key!=="Enter"&&Re.key!==" "||(Re.preventDefault(),Re.stopPropagation(),Te(Re))},onMousedown(Re){Re.preventDefault(),Re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},be=Ve.value?!!i.chip:!!i.selection,Ce=be?jW(Ve.value?i.chip({item:nt,index:xe,props:$e}):i.selection({item:nt,index:xe})):void 0;if(!(be&&!Ce))return ee("div",{key:nt.value,class:go(["v-autocomplete__selection",xe===I.value&&["v-autocomplete__selection--selected",W.value]]),style:Rr(xe===I.value?J.value:{})},[Ve.value?i.chip?ae(Sa,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:nt.title}}},{default:()=>[Ce]}):ae(pte,Po({key:"chip",closable:t.closableChips,size:"small",text:nt.title,disabled:nt.props.disabled},$e),null):Ce??ee("span",{class:"v-autocomplete__selection-text"},[nt.title,t.multiple&&xe<U.value.length-1&&ee("span",{class:"v-autocomplete__selection-comma"},[hs(",")])])])})]),"append-inner":function(){var $e,be;for(var nt=arguments.length,xe=new Array(nt),Te=0;Te<nt;Te++)xe[Te]=arguments[Te];return ee(lr,null,[($e=i["append-inner"])==null?void 0:$e.call(i,...xe),t.menuIcon?ae(Un,{class:"v-autocomplete__menu-icon",color:(be=m.value)==null?void 0:be.fieldIconColor,icon:t.menuIcon,onMousedown:kn,onClick:Xme,"aria-label":u(Fe.value),title:u(Fe.value),tabindex:"-1"},null):void 0])}})}),WC({isFocused:h,isPristine:x,menu:R,search:oe,filteredItems:Z,select:co},m)}}),jye={class:"sr-only"},Zye={class:"sr-only"},Gye={__name:"Items",setup(t){const s=sr(),i=$b(),u=lc(),m=KI(),h=Qg(),x=Qa();$l();const w=Mn(!1),T=Mn(!1),D=Mn("");Mn(!1);async function I(){await qo(),w.value&&(T.value=!0,D.value="")}async function P(){w.value=!1,!s.isLoading&&D.value!=""&&z(D.value)}async function z(K){s.isLoading||(!await x.hasChangesInStorage()||await s.saveChangesToBackend(!0)?await s.loadItemFromBackend(K):s.setShowSendFailure(!0))}return(K,W)=>(An(),Mo(lr,null,[ae(yo,{class:"app-header-item",disabled:ie(s).isLoading||ie(s).itemKey==ie(i).firstKey,onClick:W[0]||(W[0]=J=>z(ie(i).getPreviousKey(ie(s).itemKey)))},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-arrow-left-bold"}),ee("span",jye,We(K.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ae(yo,{class:"app-header-item",disabled:ie(s).isLoading,id:"app-items-menu-activator"},{default:xt(()=>[zn(ee("span",null,We(K.$t("itemsLoadData")),513),[[To,ie(s).isLoading]]),zn(ee("span",null,We(ie(i).currentItem.title)+" "+We(ie(h).getPositionText(ie(s).correctorKey))+" "+We(ie(s).isForReviewOrStitch?ie(m).isFinalized?K.$t("itemsSuffixFinalised"):K.$t("itemsSuffixOpen"):ie(u).isOwnAuthorized?K.$t("itemsSuffixAuthorized"):K.$t("itemsSuffixOpen")),513),[[To,!ie(s).isLoading&&ie(i).currentItem!==void 0]])]),_:1},8,["disabled"]),ae(m8,{disabled:ie(s).isLoading,modelValue:w.value,"onUpdate:modelValue":[W[3]||(W[3]=J=>w.value=J),W[4]||(W[4]=J=>I())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:xt(()=>[T.value?(An(),qr(Lte,{key:0,id:"app-items-autocomplete",modelValue:D.value,"onUpdate:modelValue":[W[1]||(W[1]=J=>D.value=J),W[2]||(W[2]=J=>P())],items:ie(i).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:K.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):hr("",!0)]),_:1},8,["disabled","modelValue"]),ae(yo,{class:"app-header-item",disabled:ie(s).isLoading||ie(s).itemKey==ie(i).lastKey,onClick:W[5]||(W[5]=J=>z(ie(i).getNextKey(ie(s).itemKey)))},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-arrow-right-bold"}),ee("span",Zye,We(K.$t("itemsNextWriter")),1)]),_:1},8,["disabled"])],64))}},qye={id:"app-stitch-decision-wrapper"},Yye={for:"appFinalPoints"},Xye=["min","max"],Jye=["innerHTML"],Qye={for:"appStitchComment"},exe={__name:"StitchDecision",setup(t){const s=sr(),i=KI(),u=$b(),m=lc();let h=Mn(!1),x=Mn(!1);async function w(){if(h.value=!1,await i.saveStitchDecision(),!i.correction_finalized)x.value=!0;else{let D=u.getNextKey(s.itemKey);D!=""&&s.loadItemFromBackend(D)}}async function T(){h.value=!1,await i.saveStitchDecision(),i.correction_finalized?window.location=s.returnUrl:x.value=!0}return(D,I)=>(An(),Mo("div",qye,[ae(yo,{class:"app-header-item",disabled:ie(i).correction_finalized,onClick:I[0]||(I[0]=P=>Qs(h)?h.value=!0:h=!0)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-checkbox-marked-outline"}),hs(" "+We(D.$t("stichDecision")),1)]),_:1},8,["disabled"]),ae(dp,{persistent:"",modelValue:ie(h),"onUpdate:modelValue":I[6]||(I[6]=P=>Qs(h)?h.value=P:h=P)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(vD,null,{default:xt(()=>[hs(We(D.$t("stichDecision")),1)]),_:1}),ae(Gg,null,{default:xt(()=>[ee("p",null,We(D.$t("stitchDecisionInfo")),1),I[10]||(I[10]=ee("br",null,null,-1)),ee("p",null,We(D.$t("stitchDecisionMinPoints"))+" "+We(ie(m).minPoints),1),ee("p",null,We(D.$t("stitchDecisionMaxPoints"))+" "+We(ie(m).maxPoints),1),I[11]||(I[11]=ee("br",null,null,-1)),ee("p",null,[ee("label",Yye,We(D.$t("stitchDecisionFinalPoints")),1),zn(ee("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:ie(m).minPoints,max:ie(m).maxPoints,"onUpdate:modelValue":I[1]||(I[1]=P=>ie(i).final_points=P)},null,8,Xye),[[o1,ie(i).final_points]]),ee("span",{innerHTML:ie(i).grade},null,8,Jye),I[9]||(I[9]=ee("br",null,null,-1)),ee("label",Qye,We(D.$t("stitchDecisionComment")),1),zn(ee("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":I[2]||(I[2]=P=>ie(i).stitch_comment=P)},null,512),[[o1,ie(i).stitch_comment]])])]),_:1,__:[10,11]}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:I[3]||(I[3]=P=>w()),disabled:ie(i).final_points===null||ie(i).final_points===""||!ie(i).stitch_comment},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-check"}),ee("span",null,We(D.$t("stitchDecisionSaveAndContinue")),1)]),_:1},8,["disabled"]),ae(yo,{onClick:I[4]||(I[4]=P=>T()),disabled:ie(i).final_points===null||ie(i).final_points===""||!ie(i).stitch_comment},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-check"}),ee("span",null,We(D.$t("stitchDecisionSaveAndClose")),1)]),_:1},8,["disabled"]),ae(yo,{onClick:I[5]||(I[5]=P=>Qs(h)?h.value=!1:h=!1)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(D.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(dp,{persistent:"",modelValue:ie(x),"onUpdate:modelValue":I[8]||(I[8]=P=>Qs(x)?x.value=P:x=P)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(D.$t("stitchDecisionSendFailure")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:I[7]||(I[7]=P=>Qs(x)?x.value=!1:x=!1)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(D.$t("allCloseMessage")),1)]),_:1}),ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(D.$t("allCancelCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},txe=yl(exe,[["__scopeId","data-v-9b1f4e72"]]),nxe=Ln({fluid:{type:Boolean,default:!1},...zr(),...yp(),...sa()},"VContainer"),IF=Bo()({name:"VContainer",props:nxe(),setup(t,s){let{slots:i}=s;const{rtlClasses:u}=eh(),{dimensionStyles:m}=xp(t);return yr(()=>ae(t.tag,{class:go(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Rr([m.value,t.style])},i)),{}}}),Mte=ZF.reduce((t,s)=>(t[s]={type:[Boolean,String,Number],default:!1},t),{}),Bte=ZF.reduce((t,s)=>{const i="offset"+i1(s);return t[i]={type:[String,Number],default:null},t},{}),Fte=ZF.reduce((t,s)=>{const i="order"+i1(s);return t[i]={type:[String,Number],default:null},t},{}),dX={col:Object.keys(Mte),offset:Object.keys(Bte),order:Object.keys(Fte)};function oxe(t,s,i){let u=t;if(!(i==null||i===!1)){if(s){const m=s.replace(t,"");u+=`-${m}`}return t==="col"&&(u="v-"+u),t==="col"&&(i===""||i===!0)||(u+=`-${i}`),u.toLowerCase()}}const rxe=["auto","start","end","center","baseline","stretch"],sxe=Ln({cols:{type:[Boolean,String,Number],default:!1},...Mte,offset:{type:[String,Number],default:null},...Bte,order:{type:[String,Number],default:null},...Fte,alignSelf:{type:String,default:null,validator:t=>rxe.includes(t)},...zr(),...sa()},"VCol"),ra=Bo()({name:"VCol",props:sxe(),setup(t,s){let{slots:i}=s;const u=Dt(()=>{const m=[];let h;for(h in dX)dX[h].forEach(w=>{const T=t[w],D=oxe(h,w,T);D&&m.push(D)});const x=m.some(w=>w.startsWith("v-col-"));return m.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),m});return()=>{var m;return Kb(t.tag,{class:[u.value,t.class],style:t.style},(m=i.default)==null?void 0:m.call(i))}}}),CK=["start","end","center"],$te=["space-between","space-around","space-evenly"];function _K(t,s){return ZF.reduce((i,u)=>{const m=t+i1(u);return i[m]=s(),i},{})}const ixe=[...CK,"baseline","stretch"],Vte=t=>ixe.includes(t),zte=_K("align",()=>({type:String,default:null,validator:Vte})),axe=[...CK,...$te],Hte=t=>axe.includes(t),Ute=_K("justify",()=>({type:String,default:null,validator:Hte})),lxe=[...CK,...$te,"stretch"],Wte=t=>lxe.includes(t),Kte=_K("alignContent",()=>({type:String,default:null,validator:Wte})),fX={align:Object.keys(zte),justify:Object.keys(Ute),alignContent:Object.keys(Kte)},cxe={align:"align",justify:"justify",alignContent:"align-content"};function uxe(t,s,i){let u=cxe[t];if(i!=null){if(s){const m=s.replace(t,"");u+=`-${m}`}return u+=`-${i}`,u.toLowerCase()}}const dxe=Ln({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Vte},...zte,justify:{type:String,default:null,validator:Hte},...Ute,alignContent:{type:String,default:null,validator:Wte},...Kte,...zr(),...sa()},"VRow"),jg=Bo()({name:"VRow",props:dxe(),setup(t,s){let{slots:i}=s;const u=Dt(()=>{const m=[];let h;for(h in fX)fX[h].forEach(x=>{const w=t[x],T=uxe(h,x,w);T&&m.push(T)});return m.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),m});return()=>{var m;return Kb(t.tag,{class:["v-row",u.value,t.class],style:t.style},(m=i.default)==null?void 0:m.call(i))}}}),g8=jF("v-spacer","div","VSpacer"),fxe={for:"appIncludeComments"},mxe=["value"],gxe=["value"],hxe=["value"],pxe={for:"appIncludeRatings"},bxe=["value"],vxe=["value"],yxe=["value"],xxe={for:"appIncludeCommentPoints"},wxe=["value"],Cxe=["value"],_xe=["value"],Sxe={for:"appIncludeCriteriaPoints"},kxe=["value"],Exe=["value"],Axe=["value"],jte={__name:"OwnSummaryIncludes",setup(t){const s=$l(),i=lc(),u=Am(),m=X0(),h=su();Mn(!1);const x=Mn({}),w=Mn(!1);x.value=i.currentInclusionSettings;async function T(){if(s.showIncludesPopup){await qo();const I=document.getElementById("app-own-summary-includes-container");for(const P of I.getElementsByTagName("label"))P.classList.contains("v-label")&&P.remove()}}Dn(()=>s.showIncludesPopup,T);function D(){x.value.include_comments==Ar.INCLUDE_NOT&&(x.value.include_comment_ratings=Ar.INCLUDE_NOT,x.value.include_comment_points=Ar.INCLUDE_NOT),i.editSummary.setData(x.value),w.value&&(m.setSummaryInclusions(x.value),w.value=!1),s.showIncludesPopup=!1}return(I,P)=>(An(),Mo("span",null,[ee("strong",null,We(I.$t("ownSummaryIncludesLabelInclude")),1),hs(" "+We(ie(i).getInclusionText(ie(i).editSummary))+" ",1),ae(dp,{"max-width":"50em",persistent:"",modelValue:ie(s).showIncludesPopup,"onUpdate:modelValue":P[7]||(P[7]=z=>ie(s).showIncludesPopup=z)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(vD,null,{default:xt(()=>[hs(We(I.$t("ownSummaryIncludesTitle")),1)]),_:1}),ae(Gg,null,{default:xt(()=>[ae(IF,{id:"app-own-summary-includes-container"},{default:xt(()=>[ae(jg,null,{default:xt(()=>[ae(ra,null,{default:xt(()=>[ee("label",fxe,We(I.$t("ownSummaryIncludesMarksAndComments")),1)]),_:1}),ae(ra,null,{default:xt(()=>[zn(ee("select",{id:"appIncludeComments",class:"appIncludesSelect","onUpdate:modelValue":P[0]||(P[0]=z=>x.value.include_comments=z)},[ee("option",{value:ie(Ar).INCLUDE_NOT},We(I.$t("ownSummaryIncludesIncludeNot")),9,mxe),ee("option",{value:ie(Ar).INCLUDE_INFO},We(I.$t("ownSummaryIncludesIncludeInfo")),9,gxe),ee("option",{value:ie(Ar).INCLUDE_RELEVANT},We(I.$t("ownSummaryIncludesIncludeRelevant")),9,hxe)],512),[[_B,x.value.include_comments]]),ee("small",null,We(I.$t("ownSummaryIncludesMarksAndCommentsInfo")),1)]),_:1})]),_:1}),zn(ae(jg,null,{default:xt(()=>[ae(ra,null,{default:xt(()=>[ee("label",pxe,[hs(We(I.$t("ownSummaryIncludesRatings"))+" ",1),P[8]||(P[8]=ee("br",null,null,-1)),hs(" "+We("("+ie(h).ratingLabels+")"),1)])]),_:1}),ae(ra,null,{default:xt(()=>[zn(ee("select",{id:"appIncludeRatings",class:"appIncludesSelect","onUpdate:modelValue":P[1]||(P[1]=z=>x.value.include_comment_ratings=z)},[ee("option",{value:ie(Ar).INCLUDE_NOT},We(I.$t("ownSummaryIncludesIncludeNot")),9,bxe),ee("option",{value:ie(Ar).INCLUDE_INFO},We(I.$t("ownSummaryIncludesIncludeInfo")),9,vxe),ee("option",{value:ie(Ar).INCLUDE_RELEVANT},We(I.$t("ownSummaryIncludesIncludeRelevant")),9,yxe)],512),[[_B,x.value.include_comment_ratings]]),ee("small",null,We(I.$t("ownSummaryIncludesRatingsInfo")),1)]),_:1})]),_:1},512),[[To,x.value.include_comments>ie(Ar).INCLUDE_NOT]]),zn(ae(jg,null,{default:xt(()=>[ae(ra,null,{default:xt(()=>[ee("label",xxe,We(I.$t("ownSummaryIncludesCommentPoints")),1)]),_:1}),ae(ra,null,{default:xt(()=>[zn(ee("select",{id:"appIncludeCommentPoints",class:"appIncludesSelect","onUpdate:modelValue":P[2]||(P[2]=z=>x.value.include_comment_points=z)},[ee("option",{value:ie(Ar).INCLUDE_NOT},We(I.$t("ownSummaryIncludesIncludeNot")),9,wxe),ee("option",{value:ie(Ar).INCLUDE_INFO},We(I.$t("ownSummaryIncludesIncludeInfo")),9,Cxe),ee("option",{value:ie(Ar).INCLUDE_RELEVANT},We(I.$t("ownSummaryIncludesIncludeRelevant")),9,_xe)],512),[[_B,x.value.include_comment_points]]),ee("small",null,We(I.$t("ownSummaryIncludesCommentPointsInfo")),1)]),_:1})]),_:1},512),[[To,x.value.include_comments>ie(Ar).INCLUDE_NOT]]),zn(ae(jg,null,{default:xt(()=>[ae(ra,null,{default:xt(()=>[ee("label",Sxe,We(I.$t("ownSummaryIncludesCriteriaPoints")),1)]),_:1}),ae(ra,null,{default:xt(()=>[zn(ee("select",{id:"appIncludeCriteriaPoints",class:"appIncludesSelect","onUpdate:modelValue":P[3]||(P[3]=z=>x.value.include_criteria_points=z)},[ee("option",{value:ie(Ar).INCLUDE_NOT},We(I.$t("ownSummaryIncludesIncludeNot")),9,kxe),ee("option",{value:ie(Ar).INCLUDE_INFO},We(I.$t("ownSummaryIncludesIncludeInfo")),9,Exe),ee("option",{value:ie(Ar).INCLUDE_RELEVANT},We(I.$t("ownSummaryIncludesIncludeRelevant")),9,Axe)],512),[[_B,x.value.include_criteria_points]]),ee("small",null,We(I.$t("ownSummaryIncludesCriteriaPointsInfo")),1)]),_:1})]),_:1},512),[[To,ie(u).hasOwnCriteria]])]),_:1}),ae(X1e,{modelValue:w.value,"onUpdate:modelValue":P[4]||(P[4]=z=>w.value=z),label:I.$t("ownSummaryIncludesUpdatePreferences")},null,8,["modelValue","label"])]),_:1}),ae(Zg,null,{default:xt(()=>[ae(g8),ae(yo,{onClick:P[5]||(P[5]=z=>D())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-check"}),ee("span",null,We(I.$t("allApply")),1)]),_:1}),ae(yo,{onClick:P[6]||(P[6]=z=>ie(s).showIncludesPopup=!1)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(I.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Txe={__name:"SumOfPoints",props:["corrector_key"],setup(t){const s=su(),i=Jg(),u=Am(),m=t,{t:h}=c1.global,x=u.getCorrectorHasGeneralCriteria(m.corrector_key),w=u.getCorrectorHasCommentCriteria(m.corrector_key);function T(){const D=i.getSumOfPointsForCorrector(m.corrector_key,!0),I=i.getSumOfPointsForCorrector(m.corrector_key,!1);return I+D==0?"":x?w?h("sumOfPointsNCommentCriteriaMGeneralCriteria",[D,I]):h("sumOfPointsNCommentsMGeneralCriteria",[D,I]):h(w?"sumOfPointsToCriteriaInComments":"sumOfPointsToComments")}return(D,I)=>(An(),Mo("span",null,[ee("strong",null,We(D.$t("sumOfPointsLabel")),1),ee("span",{class:go(ie(i).getSumOfPointsForCorrector(m.corrector_key)>ie(s).max_points?"red":"")},We(ie(i).getSumOfPointsForCorrector(m.corrector_key))+" von max. "+We(ie(s).max_points),3),hs(" "+We(T()),1)]))}},SK=yl(Txe,[["__scopeId","data-v-d32d64f9"]]),Oxe=jF("v-alert-title"),Ixe=Ln({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function Dxe(t,s){return{iconSize:Dt(()=>{const u=new Map(t.iconSizes),m=t.iconSize??s()??"default";return u.has(m)?u.get(m):m})}}const Rxe=["success","info","warning","error"],Nxe=Ln({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:zs,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>Rxe.includes(t)},...zr(),...th(),...yp(),...f1(),...Ixe(),...s8(),...fK(),...Tm(),...sa(),...vl(),...g1({variant:"flat"})},"VAlert"),FB=Bo()({name:"VAlert",props:Nxe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{emit:i,slots:u}=s;const m=Ki(t,"modelValue"),h=gn(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=Dxe(t,()=>t.prominent?44:28),{themeClasses:w}=dc(t),{colorClasses:T,colorStyles:D,variantClasses:I}=FE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:P}=vp(t),{dimensionStyles:z}=xp(t),{elevationClasses:K}=m1(t),{locationStyles:W}=i8(t),{positionClasses:J}=mK(t),{roundedClasses:oe}=Om(t),{textColorClasses:U,textColorStyles:he}=pp(()=>t.borderColor),{t:ue}=fD(),Z=gn(()=>({"aria-label":ue(t.closeLabel),onClick(de){m.value=!1,i("click:close",de)}}));return()=>{const de=!!(u.prepend||h.value),re=!!(u.title||t.title),Ve=!!(u.close||t.closable),Me={density:t.density,icon:h.value,size:x.value};return m.value&&ae(t.tag,{class:go(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},w.value,T.value,P.value,K.value,J.value,oe.value,I.value,t.class]),style:Rr([D.value,z.value,W.value,t.style]),role:"alert"},{default:()=>{var Ye,it;return[BE(!1,"v-alert"),t.border&&ee("div",{key:"border",class:go(["v-alert__border",U.value]),style:Rr(he.value)},null),de&&ee("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ae(Sa,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Me}}},u.prepend):ae(Un,Po({key:"prepend-icon"},Me),null)]),ee("div",{class:"v-alert__content"},[re&&ae(Oxe,{key:"title"},{default:()=>{var Ae;return[((Ae=u.title)==null?void 0:Ae.call(u))??t.title]}}),((Ye=u.text)==null?void 0:Ye.call(u))??t.text,(it=u.default)==null?void 0:it.call(u)]),u.append&&ee("div",{key:"append",class:"v-alert__append"},[u.append()]),Ve&&ee("div",{key:"close",class:"v-alert__close"},[u.close?ae(Sa,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Ae;return[(Ae=u.close)==null?void 0:Ae.call(u,{props:Z.value})]}}):ae(yo,Po({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},Z.value),null)])]}})}}}),Pxe={id:"app-authorization-wrapper"},Lxe={class:"appRow"},Mxe={class:"sr-only"},Bxe=["innerHTML"],Fxe={class:"appRow"},$xe={class:"appRow"},Vxe={for:"appAuthorizationPoints"},zxe=["max"],Hxe={class:"appRow"},Uxe={class:"sr-only"},Wxe={class:"appRow"},Kxe={class:"appRow"},jxe={__name:"Authorization",setup(t){const s=sr(),i=$b(),u=su(),m=lc(),h=Ex(),x=$l(),w=Jg();xf();const T=Am(),{t:D}=c1.global;Mn(!1);function I(){const W=m.currentInclusionSettings,J=W.include_comment_points>Ar.INCLUDE_NOT,oe=T.hasOwnCriteria&&W.include_criteria_points>Ar.INCLUDE_NOT;let U=0,he="";if(J&&oe)U=w.getSumOfPointsForCorrector(s.correctorKey),he=D("authorizationPointsToCommentsAndCriteria",U);else if(J)U=w.getSumOfPointsForCorrector(s.correctorKey,!0),he=D("authorizationPointsToComments",U);else if(oe)U=w.getSumOfPointsForCorrector(s.correctorKey,null,!0),he=D("authorizationPointsToCriteria",U);else return"";return U!=m.editSummary.points?D("authorizationPointsMismatch",[he]):""}async function P(){if(await m.setOwnAuthorized(),await s.saveChangesToBackend(!0)){s.setShowAuthorization(!1);let W=i.getNextKey(s.itemKey);W!=""&&s.loadItemFromBackend(W)}else s.setShowAuthorization(!1),s.setShowSendFailure(!0)}async function z(){if(await m.setOwnAuthorized(),await s.saveChangesToBackend(!0))s.setShowAuthorization(!1),window.location=s.returnUrl;else{s.setShowAuthorization(!1),s.setShowSendFailure(!0);return}}function K(){s.showAuthorization=!1,x.showOwnSummaryText()}return(W,J)=>(An(),Mo("div",Pxe,[zn(ae(yo,{class:"app-header-item",disabled:ie(s).isLoading||!ie(i).authorizationAllowed,onClick:J[0]||(J[0]=oe=>ie(s).setShowAuthorization(!0))},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-file-certificate-outline"}),ee("span",null,We(W.$t("authorizationButton")),1)]),_:1},8,["disabled"]),[[To,!ie(m).isOwnDisabled]]),ae(dp,{"max-width":"60em",persistent:"",modelValue:ie(s).showAuthorization,"onUpdate:modelValue":J[7]||(J[7]=oe=>ie(s).showAuthorization=oe)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(vD,null,{default:xt(()=>[hs(We(W.$t("authorizationTitle",[ie(i).currentItem.title])),1)]),_:1}),ae(Gg,null,{default:xt(()=>[ee("div",Lxe,[ee("strong",null,We(W.$t("authorizationSummaryLabel")),1),ae(yo,{density:"compact",variant:"text",onClick:J[1]||(J[1]=oe=>K())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-pencil"}),ee("span",Mxe,We(W.$t("authorizationSummaryEdit")),1)]),_:1}),ee("div",{class:"appText long-essay-content headlines-three",innerHTML:ie(m).editSummary.text},null,8,Bxe)]),ee("div",Fxe,[ae(SK,{class:"sumOfPoints",corrector_key:ie(s).correctorKey},null,8,["corrector_key"])]),ee("div",$xe,[ee("label",Vxe,[ee("strong",null,We(W.$t("authorizationPointsLabel")),1)]),zn(ee("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:ie(u).max_points,"onUpdate:modelValue":J[2]||(J[2]=oe=>ie(m).editSummary.points=oe)},null,8,zxe),[[o1,ie(m).editSummary.points]]),hs(We(W.$t("authorizationPointsSuffix"))+"  ",1),ee("strong",null,We(W.$t("authorizationGradeTitle")),1),hs(" "+We(ie(m).currentGradeTitle),1)]),ee("div",Hxe,[ie(u).inclusionsPossible?(An(),qr(jte,{key:0})):hr("",!0),ie(u).inclusionsChangeable?(An(),qr(yo,{key:1,density:"compact",variant:"text",disabled:ie(m).isOwnDisabled,onClick:J[3]||(J[3]=oe=>ie(x).showIncludesPopup=!0)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-pencil"}),ee("span",Uxe,We(W.$t("authorizationEditIncludes")),1)]),_:1},8,["disabled"])):hr("",!0)]),ee("div",Wxe,[zn(ae(FB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[hs(We(W.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[To,ie(m).editSummary.text==""]]),zn(ae(FB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[hs(We(W.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[To,ie(h).hasLevels&&ie(m).editSummary.points===null]]),zn(ae(FB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[hs(We(I()),1)]),_:1},512),[[To,I()!=""]]),zn(ae(FB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[hs(We(W.$t("authorizationWarnStitchDecision",[ie(m).stitchReasonText])),1)]),_:1},512),[[To,ie(m).areOthersAuthorized&&ie(m).stitchReasonText!=""]])]),ee("div",Kxe,We(W.$t("authorizationWarnFinalize")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:J[4]||(J[4]=oe=>P())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-check"}),ee("span",null,We(W.$t("authorizationAuthorizeAndContinue")),1)]),_:1}),ae(yo,{onClick:J[5]||(J[5]=oe=>z())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-check"}),ee("span",null,We(W.$t("authorizationAuthorizeAndClose")),1)]),_:1}),ae(yo,{onClick:J[6]||(J[6]=oe=>{ie(s).setShowAuthorization(!1)})},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(W.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Zxe=yl(jxe,[["__scopeId","data-v-34e938e5"]]),Zte=Ln({text:String,...zr(),...sa()},"VToolbarTitle"),Gte=Bo()({name:"VToolbarTitle",props:Zte(),setup(t,s){let{slots:i}=s;return yr(()=>{const u=!!(i.default||i.text||t.text);return ae(t.tag,{class:go(["v-toolbar-title",t.class]),style:Rr(t.style)},{default:()=>{var m;return[u&&ee("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():t.text,(m=i.default)==null?void 0:m.call(i)])]}})}),{}}}),Gxe=[null,"prominent","default","comfortable","compact"],qte=Ln({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Gxe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...u1(),...zr(),...f1(),...Tm(),...sa({tag:"header"}),...vl()},"VToolbar"),mX=Bo()({name:"VToolbar",props:qte(),setup(t,s){var K;let{slots:i}=s;const{backgroundColorClasses:u,backgroundColorStyles:m}=mp(()=>t.color),{borderClasses:h}=d1(t),{elevationClasses:x}=m1(t),{roundedClasses:w}=Om(t),{themeClasses:T}=dc(t),{rtlClasses:D}=eh(),I=ho(t.extended===null?!!((K=i.extension)!=null&&K.call(i)):t.extended),P=Dt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),z=Dt(()=>I.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Ox({VBtn:{variant:"text"}}),yr(()=>{var U;const W=!!(t.title||i.title),J=!!(i.image||t.image),oe=(U=i.extension)==null?void 0:U.call(i);return I.value=t.extended===null?!!oe:t.extended,ae(t.tag,{class:go(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,w.value,T.value,D.value,t.class]),style:Rr([m.value,t.style])},{default:()=>[J&&ee("div",{key:"image",class:"v-toolbar__image"},[i.image?ae(Sa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):ae(yD,{key:"image-img",cover:!0,src:t.image},null)]),ae(Sa,{defaults:{VTabs:{height:vr(P.value)}}},{default:()=>{var he,ue,Z;return[ee("div",{class:"v-toolbar__content",style:{height:vr(P.value)}},[i.prepend&&ee("div",{class:"v-toolbar__prepend"},[(he=i.prepend)==null?void 0:he.call(i)]),W&&ae(Gte,{key:"title",text:t.title},{text:i.title}),(ue=i.default)==null?void 0:ue.call(i),i.append&&ee("div",{class:"v-toolbar__append"},[(Z=i.append)==null?void 0:Z.call(i)])])]}}),ae(Sa,{defaults:{VTabs:{height:vr(z.value)}}},{default:()=>[ae(Yee,null,{default:()=>[I.value&&ee("div",{class:"v-toolbar__extension",style:{height:vr(z.value)}},[oe])]})]})]})}),{contentHeight:P,extensionHeight:z}}}),qxe=Ln({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Yxe(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=s;let u=0,m=0;const h=Mn(null),x=ho(0),w=ho(0),T=ho(0),D=ho(!1),I=ho(!1),P=Dt(()=>Number(t.scrollThreshold)),z=Dt(()=>Cf((P.value-x.value)/P.value||0)),K=()=>{const W=h.value;if(!W||i&&!i.value)return;u=x.value,x.value="window"in W?W.pageYOffset:W.scrollTop;const J=W instanceof Window?document.documentElement.scrollHeight:W.scrollHeight;if(m!==J){m=J;return}I.value=x.value<u,T.value=Math.abs(x.value-P.value)};return Dn(I,()=>{w.value=w.value||x.value}),Dn(D,()=>{w.value=0}),ju(()=>{Dn(()=>t.scrollTarget,W=>{var oe;const J=W?document.querySelector(W):window;J&&J!==h.value&&((oe=h.value)==null||oe.removeEventListener("scroll",K),h.value=J,h.value.addEventListener("scroll",K,{passive:!0}))},{immediate:!0})}),Dc(()=>{var W;(W=h.value)==null||W.removeEventListener("scroll",K)}),i&&Dn(i,K,{immediate:!0}),{scrollThreshold:P,currentScroll:x,currentThreshold:T,isScrollActive:D,scrollRatio:z,isScrollingUp:I,savedScroll:w}}const Xxe=Ln({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...qte(),...PQ(),...qxe(),height:{type:[Number,String],default:64}},"VAppBar"),Yte=Bo()({name:"VAppBar",props:Xxe(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:i}=s;const u=Mn(),m=Ki(t,"modelValue"),h=Dt(()=>{var ue;const he=new Set(((ue=t.scrollBehavior)==null?void 0:ue.split(" "))??[]);return{hide:he.has("hide"),fullyHide:he.has("fully-hide"),inverted:he.has("inverted"),collapse:he.has("collapse"),elevate:he.has("elevate"),fadeImage:he.has("fade-image")}}),x=Dt(()=>{const he=h.value;return he.hide||he.fullyHide||he.inverted||he.collapse||he.elevate||he.fadeImage||!m.value}),{currentScroll:w,scrollThreshold:T,isScrollingUp:D,scrollRatio:I}=Yxe(t,{canScroll:x}),P=gn(()=>h.value.hide||h.value.fullyHide),z=Dt(()=>t.collapse||h.value.collapse&&(h.value.inverted?I.value>0:I.value===0)),K=Dt(()=>t.flat||h.value.fullyHide&&!m.value||h.value.elevate&&(h.value.inverted?w.value>0:w.value===0)),W=Dt(()=>h.value.fadeImage?h.value.inverted?1-I.value:I.value:void 0),J=Dt(()=>{var Z,de;if(h.value.hide&&h.value.inverted)return 0;const he=((Z=u.value)==null?void 0:Z.contentHeight)??0,ue=((de=u.value)==null?void 0:de.extensionHeight)??0;return P.value?w.value<T.value||h.value.fullyHide?he+ue:he:he+ue});Yg(()=>!!t.scrollBehavior,()=>{Bd(()=>{P.value?h.value.inverted?m.value=w.value>T.value:m.value=D.value||w.value<T.value:m.value=!0})});const{ssrBootStyles:oe}=f8(),{layoutItemStyles:U}=LQ({id:t.name,order:Dt(()=>parseInt(t.order,10)),position:gn(()=>t.location),layoutSize:J,elementSize:ho(void 0),active:m,absolute:gn(()=>t.absolute)});return yr(()=>{const he=mX.filterProps(t);return ae(mX,Po({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...U.value,"--v-toolbar-image-opacity":W.value,height:void 0,...oe.value},t.style]},he,{collapse:z.value,flat:K.value}),i)}),{}}}),Jxe=Bo()({name:"VAppBarTitle",props:Zte(),setup(t,s){let{slots:i}=s;return yr(()=>ae(Gte,Po(t,{class:"v-app-bar-title"}),i)),{}}}),Qxe={__name:"AppBar",setup(t){const s=sr(),i=kx(),u=Qa(),m=$l();async function h(){if(m.focusTarget=="header"){await qo();for(const w of document.getElementsByClassName("app-header-item"))if(!w.disabled){w.focus();break}}}Dn(()=>m.focusChange,h);async function x(){!await u.hasChangesInStorage()||await s.saveChangesToBackend(!0)?window.location=s.returnUrl:s.setShowSendFailure(!0)}return(w,T)=>(An(),qr(Yte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ae(Jxe,null,{default:xt(()=>[hs(We(ie(i).title),1)]),_:1}),ae(g8),ae(Gye),ae($1e),!ie(s).isReview&&!ie(s).isStitchDecision?(An(),qr(Zxe,{key:0})):hr("",!0),ie(s).isStitchDecision?(An(),qr(txe,{key:1})):hr("",!0),ae(yo,{class:"app-header-item",onClick:T[0]||(T[0]=D=>x())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(w.$t("appBarReturn")),1)]),_:1})]),_:1}))}},e2e={__name:"SendingStatus",setup(t){const s=sr(),i=Qa();function u(){return i.countChanges==0}function m(){return s.lastSendingTry>0}return(h,x)=>(An(),qr(xD,{tabindex:"-1"},{default:xt(()=>[ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:x[0]||(x[0]=w=>ie(s).saveChangesToBackend()),disabled:u(),"aria-label":m()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),title:m()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:m()?"mdi-cloud-upload":u()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1}))}};function t2e(t){let{rootEl:s,isSticky:i,layoutItemStyles:u}=t;const m=ho(!1),h=ho(0),x=Dt(()=>{const D=typeof m.value=="boolean"?"top":m.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,m.value?{[D]:vr(h.value)}:{top:u.value.top}]});ju(()=>{Dn(i,D=>{D?window.addEventListener("scroll",T,{passive:!0}):window.removeEventListener("scroll",T)},{immediate:!0})}),Dc(()=>{window.removeEventListener("scroll",T)});let w=0;function T(){const D=w>window.scrollY?"up":"down",I=s.value.getBoundingClientRect(),P=parseFloat(u.value.top??0),z=window.scrollY-Math.max(0,h.value-P),K=I.height+Math.max(h.value,P)-window.scrollY-window.innerHeight,W=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-P?(m.value="top",h.value=P):D==="up"&&m.value==="bottom"||D==="down"&&m.value==="top"?(h.value=window.scrollY+I.top-W,m.value=!0):D==="down"&&K<=0?(h.value=0,m.value="bottom"):D==="up"&&z<=0&&(W?m.value!=="top"&&(h.value=-z+W+P,m.value="top"):(h.value=I.top+z,m.value="top")),w=window.scrollY}return{isStuck:m,stickyStyles:x}}const n2e=100,o2e=20;function gX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function hX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let s=0;for(let i=t.length-1;i>0;i--){if(t[i].t===t[i-1].t)continue;const u=gX(s),m=(t[i].d-t[i-1].d)/(t[i].t-t[i-1].t);s+=(m-u)*Math.abs(m),i===t.length-1&&(s*=.5)}return gX(s)*1e3}function r2e(){const t={};function s(m){Array.from(m.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new lQ(o2e))).push([m.timeStamp,h])})}function i(m){Array.from(m.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(m){var D;const h=(D=t[m])==null?void 0:D.values().reverse();if(!h)throw new Error(`No samples for touch id ${m}`);const x=h[0],w=[],T=[];for(const I of h){if(x[0]-I[0]>n2e)break;w.push({t:I[0],d:I[1].clientX}),T.push({t:I[0],d:I[1].clientY})}return{x:hX(w),y:hX(T),get direction(){const{x:I,y:P}=this,[z,K]=[Math.abs(I),Math.abs(P)];return z>K&&I>=0?"right":z>K&&I<=0?"left":K>z&&P>=0?"down":K>z&&P<=0?"up":s2e()}}}return{addMovement:s,endTouch:i,getVelocity:u}}function s2e(){throw new Error}function i2e(t){let{el:s,isActive:i,isTemporary:u,width:m,touchless:h,position:x}=t;ju(()=>{window.addEventListener("touchstart",he,{passive:!0}),window.addEventListener("touchmove",ue,{passive:!1}),window.addEventListener("touchend",Z,{passive:!0})}),Dc(()=>{window.removeEventListener("touchstart",he),window.removeEventListener("touchmove",ue),window.removeEventListener("touchend",Z)});const w=Dt(()=>["left","right"].includes(x.value)),{addMovement:T,endTouch:D,getVelocity:I}=r2e();let P=!1;const z=ho(!1),K=ho(0),W=ho(0);let J;function oe(re,Ve){return(x.value==="left"?re:x.value==="right"?document.documentElement.clientWidth-re:x.value==="top"?re:x.value==="bottom"?document.documentElement.clientHeight-re:lE())-(Ve?m.value:0)}function U(re){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Me=x.value==="left"?(re-W.value)/m.value:x.value==="right"?(document.documentElement.clientWidth-re-W.value)/m.value:x.value==="top"?(re-W.value)/m.value:x.value==="bottom"?(document.documentElement.clientHeight-re-W.value)/m.value:lE();return Ve?Cf(Me):Me}function he(re){if(h.value)return;const Ve=re.changedTouches[0].clientX,Me=re.changedTouches[0].clientY,Ye=25,it=x.value==="left"?Ve<Ye:x.value==="right"?Ve>document.documentElement.clientWidth-Ye:x.value==="top"?Me<Ye:x.value==="bottom"?Me>document.documentElement.clientHeight-Ye:lE(),Ae=i.value&&(x.value==="left"?Ve<m.value:x.value==="right"?Ve>document.documentElement.clientWidth-m.value:x.value==="top"?Me<m.value:x.value==="bottom"?Me>document.documentElement.clientHeight-m.value:lE());(it||Ae||i.value&&u.value)&&(J=[Ve,Me],W.value=oe(w.value?Ve:Me,i.value),K.value=U(w.value?Ve:Me),P=W.value>-20&&W.value<80,D(re),T(re))}function ue(re){const Ve=re.changedTouches[0].clientX,Me=re.changedTouches[0].clientY;if(P){if(!re.cancelable){P=!1;return}const it=Math.abs(Ve-J[0]),Ae=Math.abs(Me-J[1]);(w.value?it>Ae&&it>3:Ae>it&&Ae>3)?(z.value=!0,P=!1):(w.value?Ae:it)>3&&(P=!1)}if(!z.value)return;re.preventDefault(),T(re);const Ye=U(w.value?Ve:Me,!1);K.value=Math.max(0,Math.min(1,Ye)),Ye>1?W.value=oe(w.value?Ve:Me,!0):Ye<0&&(W.value=oe(w.value?Ve:Me,!1))}function Z(re){if(P=!1,!z.value)return;T(re),z.value=!1;const Ve=I(re.changedTouches[0].identifier),Me=Math.abs(Ve.x),Ye=Math.abs(Ve.y);(w.value?Me>Ye&&Me>400:Ye>Me&&Ye>3)?i.value=Ve.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||lE()):i.value=K.value>.5}const de=Dt(()=>z.value?{transform:x.value==="left"?`translateX(calc(-100% + ${K.value*m.value}px))`:x.value==="right"?`translateX(calc(100% - ${K.value*m.value}px))`:x.value==="top"?`translateY(calc(-100% + ${K.value*m.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${K.value*m.value}px))`:lE(),transition:"none"}:void 0);return Yg(z,()=>{var Me,Ye;const re=((Me=s.value)==null?void 0:Me.style.transform)??null,Ve=((Ye=s.value)==null?void 0:Ye.style.transition)??null;Bd(()=>{var it,Ae,ze,R;(Ae=s.value)==null||Ae.style.setProperty("transform",((it=de.value)==null?void 0:it.transform)||"none"),(R=s.value)==null||R.style.setProperty("transition",((ze=de.value)==null?void 0:ze.transition)||null)}),uc(()=>{var it,Ae;(it=s.value)==null||it.style.setProperty("transform",re),(Ae=s.value)==null||Ae.style.setProperty("transition",Ve)})}),{isDragging:z,dragProgress:K,dragStyles:de}}function lE(){throw new Error}const a2e=["start","end","left","right","top","bottom"],l2e=Ln({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>a2e.includes(t)},sticky:Boolean,...u1(),...zr(),...ete(),...TQ({mobile:null}),...f1(),...PQ(),...Tm(),...sa({tag:"nav"}),...vl()},"VNavigationDrawer"),c2e=Bo()({name:"VNavigationDrawer",props:l2e(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const{isRtl:h}=eh(),{themeClasses:x}=dc(t),{borderClasses:w}=d1(t),{backgroundColorClasses:T,backgroundColorStyles:D}=mp(()=>t.color),{elevationClasses:I}=m1(t),{displayClasses:P,mobile:z}=GF(t),{roundedClasses:K}=Om(t),W=Bee(),J=Ki(t,"modelValue",null,Et=>!!Et),{ssrBootStyles:oe}=f8(),{scopeId:U}=c8(),he=Mn(),ue=ho(!1),{runOpenDelay:Z,runCloseDelay:de}=tte(t,Et=>{ue.value=Et}),re=Dt(()=>t.rail&&t.expandOnHover&&ue.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),Ve=Dt(()=>KU(t.location,h.value)),Me=gn(()=>t.persistent),Ye=Dt(()=>!t.permanent&&(z.value||t.temporary)),it=Dt(()=>t.sticky&&!Ye.value&&Ve.value!=="bottom");Yg(()=>t.expandOnHover&&t.rail!=null,()=>{Dn(ue,Et=>u("update:rail",!Et))}),Yg(()=>!t.disableResizeWatcher,()=>{Dn(Ye,Et=>!t.permanent&&qo(()=>J.value=!Et))}),Yg(()=>!t.disableRouteWatcher&&!!W,()=>{Dn(W.currentRoute,()=>Ye.value&&(J.value=!1))}),Dn(()=>t.permanent,Et=>{Et&&(J.value=!0)}),t.modelValue==null&&!Ye.value&&(J.value=t.permanent||!z.value);const{isDragging:Ae,dragProgress:ze}=i2e({el:he,isActive:J,isTemporary:Ye,width:re,touchless:gn(()=>t.touchless),position:Ve}),R=Dt(()=>{const Et=Ye.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):re.value;return Ae.value?Et*ze.value:Et}),{layoutItemStyles:Fe,layoutItemScrimStyles:Ze}=LQ({id:t.name,order:Dt(()=>parseInt(t.order,10)),position:Ve,layoutSize:R,elementSize:re,active:DE(J),disableTransitions:gn(()=>Ae.value),absolute:Dt(()=>t.absolute||it.value&&typeof Ot.value!="string")}),{isStuck:Ot,stickyStyles:Gt}=t2e({rootEl:he,isSticky:it,layoutItemStyles:Fe}),ut=mp(()=>typeof t.scrim=="string"?t.scrim:null),kn=Dt(()=>({...Ae.value?{opacity:ze.value*.2,transition:"none"}:void 0,...Ze.value}));return Ox({VList:{bgColor:"transparent"}}),yr(()=>{const Et=m.image||t.image;return ee(lr,null,[ae(t.tag,Po({ref:he,onMouseenter:Z,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${Ve.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":ue.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":Ye.value,"v-navigation-drawer--persistent":Me.value,"v-navigation-drawer--active":J.value,"v-navigation-drawer--sticky":it.value},x.value,T.value,w.value,P.value,I.value,K.value,t.class],style:[D.value,Fe.value,oe.value,Gt.value,t.style]},U,i),{default:()=>{var tt,Pe,mt;return[Et&&ee("div",{key:"image",class:"v-navigation-drawer__img"},[m.image?ae(Sa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},m.image):ae(yD,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),m.prepend&&ee("div",{class:"v-navigation-drawer__prepend"},[(tt=m.prepend)==null?void 0:tt.call(m)]),ee("div",{class:"v-navigation-drawer__content"},[(Pe=m.default)==null?void 0:Pe.call(m)]),m.append&&ee("div",{class:"v-navigation-drawer__append"},[(mt=m.append)==null?void 0:mt.call(m)])]}}),ae(Sx,{name:"fade-transition"},{default:()=>[Ye.value&&(Ae.value||J.value)&&!!t.scrim&&ee("div",Po({class:["v-navigation-drawer__scrim",ut.backgroundColorClasses.value],style:[kn.value,ut.backgroundColorStyles.value],onClick:()=>{Me.value||(J.value=!1)}},U),null)]})])}),{isStuck:Ot}}}),u2e={__name:"NavBar",setup(t){const s=sr(),i=$l(),u=zC(),m=Qg(),h=kx();async function x(){if(i.focusTarget=="navigation"){await qo();for(const W of document.getElementsByClassName("app-navigation-item")){W.focus();break}}}Dn(()=>i.focusChange,x);function w(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function T(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function D(W){W.keyCode==27?T():i.handleKeyDown(W)}function I(W){W.type=="url"&&!W.embedded?window.open(W.source,"long-essay-writer-resource-"+W.key):(u.selectResource(W),i.showResources())}function P(W){i.selectCorrector(W.corrector_key)}function z(W){switch(W.type){case"url":return u.getResourceIsActive(W)&&i.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return u.getResourceIsActive(W)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function K(W){return W.title+" - "+W.initials+" "+m.getPositionText(W.corrector_key)}return(W,J)=>(An(),qr(c2e,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:w,onFocusout:T,onKeydown:D},{append:xt(()=>[ae(e2e)]),default:xt(()=>[ae(xD,{tabindex:"-1"},{default:xt(()=>[zn(ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[0]||(J[0]=oe=>{ie(i).showInstructions()}),"aria-label":W.$t("allInstructions")+ie(i).isInstructionsVisible?W.$t("navBarSelectedAria"):"",title:W.$t("allInstructions")+(ie(i).isInstructionsVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[To,ie(h).hasInstructions]]),zn(ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[1]||(J[1]=oe=>{ie(i).showInstructionsPdf()}),"aria-label":W.$t("allInstructionsPdf")+(ie(i).isInstructionsPdfVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allInstructionsPdf")+(ie(i).isInstructionsPdfVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[To,ie(u).hasInstruction]]),zn(ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[2]||(J[2]=oe=>{ie(i).showSolution()}),"aria-label":W.$t("allSolution")+(ie(i).isSolutionVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allSolution")+(ie(i).isSolutionVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[To,ie(h).hasSolution]]),zn(ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[3]||(J[3]=oe=>{ie(i).showSolutionPdf()}),"aria-label":W.$t("allSolutionPdf")+(ie(i).isSolutionPdfVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allSolutionPdf")+(ie(i).isSolutionPdfVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[To,ie(u).hasSolution]]),ae(NC,{class:"border-opacity-75"}),(An(!0),Mo(lr,null,t1(ie(u).fileOrUrlResources,oe=>(An(),qr(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U=>{I(oe)},"aria-label":oe.title+(ie(u).getResourceIsActive(oe)&&ie(i).isResourcesVisible?", ist ausgewhlt":""),title:oe.title+(ie(u).getResourceIsActive(oe)&&ie(i).isResourcesVisible?W.$t("navBarSelected"):""),key:oe.key,ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:z(oe)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ae(NC,{class:"border-opacity-75"}),ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[4]||(J[4]=oe=>{ie(i).showEssay()}),"aria-label":W.$t("allEssay")+(ie(i).isEssayVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allEssay")+(ie(i).isEssayVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ae(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[5]||(J[5]=oe=>{ie(i).showMarking()}),"aria-label":W.$t("allCorrection")+(ie(i).isMarkingVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allCorrection")+(ie(i).isMarkingVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ae(NC,{class:"border-opacity-75"}),(An(!0),Mo(lr,null,t1(ie(m).otherCorrectors,oe=>(An(),qr(Oc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U=>{P(oe)},"aria-label":K(oe)+(ie(i).getCorrectorIsVisible(oe.corrector_key)?W.$t("navBarSelectedAria"):""),title:K(oe)+(ie(i).getCorrectorIsVisible(oe.corrector_key)?W.$t("navBarSelected"):""),key:oe.corrector_key,ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).getCorrectorIsVisible(oe.corrector_key)?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ie(s).isForReviewOrStitch?hr("",!0):(An(),qr(Oc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:J[6]||(J[6]=oe=>{ie(i).showSummary()}),"aria-label":W.$t("allOwnSummaryAndRating")+(ie(i).isSummaryVisible?W.$t("navBarSelectedAria"):""),title:W.$t("allOwnSummaryAndRating")+(ie(i).isSummaryVisible?W.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ae(Un,{"aria-role":"hidden",icon:ie(i).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),ae(NC,{class:"border-opacity-75"})]),_:1})]),_:1}))}},d2e=yl(u2e,[["__scopeId","data-v-31dc1f57"]]),f2e=["innerHTML"],m2e={__name:"Instructions",setup(t){const s=kx(),i=$l();function u(h){return h.preventDefault(),!1}async function m(){i.focusTarget=="instructions"&&(await qo(),document.getElementById("app-instructions").focus())}return m(),Dn(()=>i.focusChange,m),(h,x)=>(An(),Mo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:ie(s).instructions},null,40,f2e))}},g2e=yl(m2e,[["__scopeId","data-v-f51945de"]]),h2e=["data"],p2e={__name:"InstructionsPdf",setup(t){const i=zC().instruction;return(u,m)=>(An(),Mo("div",null,[ie(i).mimetype=="application/pdf"?(An(),Mo("object",{key:0,type:"application/pdf",data:ie(i).url,width:"100%",height:"100%"},null,8,h2e)):hr("",!0)]))}},b2e=yl(p2e,[["__scopeId","data-v-21afefc7"]]),v2e=["innerHTML"],y2e={__name:"Solution",setup(t){const s=kx(),i=$l();function u(h){return h.preventDefault(),!1}async function m(){i.focusTarget=="solution"&&(await qo(),document.getElementById("app-solution").focus())}return m(),Dn(()=>i.focusChange,m),(h,x)=>(An(),Mo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:ie(s).solution},null,40,v2e))}},x2e=yl(y2e,[["__scopeId","data-v-39abf810"]]),w2e=["data"],C2e={__name:"SolutionPdf",setup(t){const i=zC().solution;return(u,m)=>(An(),Mo("div",null,[ie(i).mimetype=="application/pdf"?(An(),Mo("object",{key:0,type:"application/pdf",data:ie(i).url,width:"100%",height:"100%"},null,8,w2e)):hr("",!0)]))}},_2e=yl(C2e,[["__scopeId","data-v-d1f5bdf9"]]),S2e={class:"resources"},k2e={key:0},E2e=["data"],A2e={key:1},T2e=["src"],O2e={__name:"Resources",setup(t){const s=zC();return(i,u)=>(An(),Mo("div",S2e,[(An(!0),Mo(lr,null,t1(ie(s).fileOrUrlResources,m=>(An(),Mo(lr,{key:m.key},[m.type=="file"?zn((An(),Mo("div",k2e,[m.mimetype=="application/pdf"?(An(),Mo("object",{key:0,type:"application/pdf",data:m.url,width:"100%",height:"100%"},null,8,E2e)):hr("",!0)],512)),[[To,ie(s).getResourceIsActive(m)]]):hr("",!0),m.type=="url"&&m.embedded==!0?zn((An(),Mo("div",A2e,[ee("iframe",{src:m.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,T2e)],512)),[[To,ie(s).getResourceIsActive(m)]]):hr("",!0)],64))),128))]))}},I2e=yl(O2e,[["__scopeId","data-v-5254b7f8"]]);class D2e{constructor(s,i,u){xn(this,"observer",null);xn(this,"marks",[]);if(!s)throw new Error("Missing anchor element");this.el=s,i instanceof Function&&(this.onSelection=i,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(s){}onIntersection(s){}keydownHandler(s){switch(s.key){case"Enter":s.preventDefault(),this.selectionHandler(s);break;case"Escape":s.preventDefault(),this.removeSelection();break}}selectionHandler(s){let i=this.getSelectionData();i.mouseX=s.clientX,i.mouseY=s.clientY,i.firstWord>0&&i.lastWord>0&&this.onSelection(i)}intersectionHandler(s){let i=0;this.marks.forEach(u=>{(i==0||u.firstWord<i)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(i=u.firstWord)}),this.onIntersection(i)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const s=window.getSelection(),i=s.getRangeAt(0);if(!s||!i)return{};let u=i.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let m=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(w=>{if(s.containsNode(w,!0)){let T=parseInt(w.getAttribute("w")),D=parseInt(w.getAttribute("p"));(m==0||T<m)&&(m=T,x=D),T>h&&(h=T)}}),{firstWord:m,lastWord:h,parentNumber:x,isCollapsed:s.isCollapsed}}addLabel(s,i,u){let m=this.el.querySelector('w-p[w="'+u+'"]');m&&(m.setAttribute("label",i),m.classList.add(s))}showMark(s,i,u){this.marks.push({cssClass:s,firstWord:i,lastWord:u}),this.el.querySelectorAll("w-p").forEach(m=>{let h=parseInt(m.getAttribute("w"));h>=i&&h<=u&&m.classList.add(s),this.observer&&(h==i||h==u)&&this.observer.observe(m)})}hideMark(s,i,u){this.marks=this.marks.filter(m=>m.cssClass!=s||m.firstWord!=i||m.lastWord!=u),this.el.querySelectorAll("w-p."+s).forEach(m=>{let h=parseInt(m.getAttribute("w"));h>=i&&h<=u&&m.classList.remove(s),this.observer&&(h==i||h==u)&&this.observer.unobserve(m)})}hideAllMarksOfClass(s){this.marks=this.marks.filter(i=>i.cssClass!=s),this.el.querySelectorAll("w-p."+s).forEach(i=>{i.classList.remove(s)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(s=>{s.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(s,i){if(!this.isMarkVisible(s,i,!0)){const u=this.el.querySelector('w-p[w="'+s+'"]');u&&u.scrollIntoView()}}setCaretToMark(s){const i=this.el.querySelector('w-p[w="'+s+'"]').childNodes[0];if(i){let u=document.createRange(),m=window.getSelection();u.setStart(i,0),u.collapse(!0),m.removeAllRanges(),m.addRange(u)}}isMarkVisible(s,i,u){const m=this.el.querySelector('w-p[w="'+s+'"]'),h=this.el.querySelector('w-p[w="'+i+'"]');if(!m||!h)return!1;const x=this.el.getBoundingClientRect(),w=m.getBoundingClientRect(),T=h.getBoundingClientRect(),D=w.top>=x.top&&w.bottom<=x.bottom,I=T.top>=x.top&&T.bottom<=x.bottom;return u?D&&I:D||I}}const R2e={id:"app-essay-wrapper"},N2e={class:"appTextButtons"},P2e=["innerHTML"],L2e={__name:"Essay",setup(t){const s=KI(),i=xf(),u=lc(),m=X0(),h=su(),x=$l();let w;ju(()=>{he(),w=new D2e(document.getElementById("app-essay"),W,J),i.activeComments.forEach(ue=>K(ue))});function T(ue){return ue.preventDefault(),!1}async function D(){x.focusTarget=="essay"&&(await qo(),document.getElementById("app-essay").focus())}D(),Dn(()=>x.focusChange,D);function I(){w.hideAllMarksAndLabels(),i.activeComments.forEach(ue=>K(ue))}Dn(()=>i.markerChange,I),Dn(()=>i.filterChange,I);function P(){w.hideAllMarksOfClass("selected");let ue=i.getComment(i.selectedKey);ue&&(w.showMark("selected",ue.start_position,ue.end_position),w.addLabel("labelled",ue.label,ue.start_position),w.scrollToMark(ue.start_position,ue.end_position))}Dn(()=>i.selectionChange,P);function z(){let ue=i.getComment(i.selectedKey);w.setCaretToMark(ue.start_position)}Dn(()=>i.caretRequest,z);function K(ue){ue.prefix&&(w.hideMark(ue.prefix+"-excellent",ue.start_position,ue.end_position),w.hideMark(ue.prefix+"-cardinal",ue.start_position,ue.end_position),w.hideMark(ue.prefix,ue.start_position,ue.end_position),ue.rating_excellent?w.showMark(ue.prefix+"-excellent",ue.start_position,ue.end_position):ue.rating_cardinal?w.showMark(ue.prefix+"-cardinal",ue.start_position,ue.end_position):w.showMark(ue.prefix,ue.start_position,ue.end_position)),w.addLabel("labelled",ue.label,ue.start_position)}async function W(ue){let Z=i.getActiveCommentsInRange(ue.firstWord,ue.lastWord);if(Z.length){let de=Z.shift();ue.isCollapsed?(w.removeSelection(),i.selectComment(de.key)):(w.removeSelection(),u.isOwnDisabled||i.createComment(ue.firstWord,ue.lastWord,ue.parentNumber))}else ue.isCollapsed||(w.removeSelection(),u.isOwnDisabled||i.createComment(ue.firstWord,ue.lastWord,ue.parentNumber))}function J(ue){let Z=i.getActiveCommentsByStartPosition(ue);if(Z.length){let de=Z.shift();i.setFirstVisibleComment(de.key)}}function oe(){m.zoomEssayTextIn(),he()}function U(){m.zoomEssayTextOut(),he()}function he(){document.getElementById("app-essay").style.fontSize=m.essay_text_zoom+"rem"}return(ue,Z)=>(An(),Mo("div",R2e,[ee("div",N2e,[ae(q0,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ae(yo,{title:ue.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:Z[0]||(Z[0]=de=>U())},null,8,["title"]),ae(yo,{title:ue.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:Z[1]||(Z[1]=de=>oe())},null,8,["title"])]),_:1})]),ee("div",{contenteditable:"true",id:"app-essay",onBeforeinput:T,class:go("long-essay-content "+ie(h).headlineClass),innerHTML:ie(s).text},null,42,P2e)]))}},xE=()=>{},pX=(t,s)=>Math.abs(t-s),M2e=(t,s)=>({x:Math.min(t.x,s.x),y:Math.min(t.y,s.y),width:pX(t.x,s.x),height:pX(t.y,s.y)}),Xte=t=>t,XI=t=>typeof t=="object",hE=t=>typeof t=="string",OE=t=>typeof t=="number",wD=t=>typeof t>"u",B2e=t=>[!0,!1].includes(t),Jte=(t,s)=>Object.fromEntries(Object.entries(s).map(([i,u])=>[i,t(u,i)])),F2e=(t,s)=>Object.fromEntries(Object.entries(s).filter(([i,u])=>t(u,i))),TI=(t,s)=>F2e((i,u)=>t.includes(u),s),$2e=(t,s)=>XI(s)&&Object.values(Jte((i,u)=>i(s[u]),t)).filter(i=>!i).length===0,V2e=(...t)=>s=>t.reduce((i,u)=>u(i),s),JI=(...t)=>V2e(...t.reverse()),QI=Symbol("none"),z2e=t=>s=>s===QI?QI:t(s),H2e=t=>s=>s===QI?t():s,U2e=(t,s)=>JI(...Object.entries(t).map(([i,u])=>H2e(()=>u(s[i])?QI:{key:i,type:u.name,offendingValue:s[i]})))(XI(s)?QI:{type:XI.name,offendingValue:s}),bX=(t,s)=>{const i=u=>u?`Key "${u}" of `:"";z2e(({type:u,key:m=!1})=>VE(`Value does not match required form: ${i(m)}${JSON.stringify(s)} does not satisfy ${u}.`))(U2e(t,s))},DF=(t,s)=>(...i)=>{if(t(...i))return s(...i)},gp=(t,s)=>({x:t,y:s}),JB=t=>$2e({x:OE,y:OE},t),h8=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),eD=(t,s)=>({x:s.x*t,y:s.y*t}),KC=(t,s)=>h8(t,eD(-1,s)),W2e=t=>({width:t.x,height:t.y}),K2e=t=>gp(t.width,t.height),j2e=(t,s)=>({width:t,height:s}),Z2e=(t,s)=>gp(t.x*Math.cos(s)-t.y*Math.sin(s),t.x*Math.sin(s)+t.y*Math.cos(s)),G2e=({x:t,y:s})=>`${t},${s}`,q2e=(t,s)=>t.map(i=>h8(i,s)),Y2e=t=>t.map(G2e).join(" "),Qte=(t,s)=>Y2e(q2e(t,s)),X2e=(t,s)=>{const[i,u]=t.width/t.height<s.width/s.height?["height","width"]:["width","height"];return{[i]:s[i],[u]:s[i]*(t[u]/t[i])}},VE=t=>{throw new Error(t)},tD=(t,s)=>t||VE(s),vX=t=>()=>t,ene=(t,s)=>!wD(s.find(t)),J2e=(t,s)=>!ene(i=>!t(i),s),tne=t=>t instanceof Array,nne=t=>{const s=nne.name+"("+t.name+")";return{[s]:u=>tne(u)&&J2e(t,u)}[s]},Q2e=(t,s)=>Object.entries(t).reduce((i,[u,m])=>m===s[u]?i:[...i,{left:m,right:s[u],name:u}],[]),one=Reflect.set,ewe=Reflect.deleteProperty,kK=(t,...s)=>t.bind(null,...s),twe=t=>t.apply.bind(t,null),EK=t=>t.map(s=>s()),nwe=(t,s)=>Object.entries(s).forEach(twe(t)),owe=(t,s,i)=>nwe(t[s].bind(t),i),rwe=t=>s=>(t(s),s),cE=(t,s=xE)=>(i=void 0)=>{if(wD(i))return t;s(i),t=i},CU=JSON.stringify,qb=t=>{let s=(...m)=>VE(`No matching function found for arguments: ${CU(m)}.`);const i={},u=(...m)=>(i[CU(t(...m))]||s)(...m);return u.define=(m,h=void 0)=>{wD(h)?s=m:i[CU(m)]=h},u},Cs=(t,...s)=>t.define(...s),rne=(t,s,i)=>(t.addEventListener(s,i),()=>t.removeEventListener(s,i)),nD=qb((t,s)=>s);Cs(nD,rne);const AK=(t,s)=>Cs(nD,t,(i,u,m)=>{const h=[t,s].map(x=>rne(i,x,m));return()=>{EK(h)}});AK("mousedown","touchstart");AK("mousemove","touchmove");AK("mouseup","touchend");const HC=qb(t=>t.constructor.name);Cs(HC,"MouseEvent",t=>gp(t.clientX,t.clientY));Cs(HC,"TouchEvent",t=>gp(t.touches[0].clientX,t.touches[0].clientY));const swe=t=>t.reduce((s,i)=>XI(i.right)&&!tne(i.right)?[...s,...sne(i.left,i.right).map(({path:u,...m})=>({path:[i.name,...u],...m}))]:[...s,{path:[i.name],value:i.right}],[]),sne=(t,s)=>swe(Q2e(t,s)),iwe=(t,s)=>!wD(s.find(i=>ine(i.path,t))),ine=(t,s)=>JSON.stringify(t)===JSON.stringify(s),ane=(t,s)=>t.length>=s.length&&ine(t.slice(0,s.length),s),TK=(t,s)=>t.length===0?s:XI(s)?TK(t.slice(1),s[t[0]]):VE("Path not found."),Vu=(t,s)=>({requires:i=>ane(i,t),then:JI(s,kK(TK,t))}),vx=(t,s)=>({requires:vX(!1),then:JI(s,vX(t))}),OK=(t,s)=>({requires:i=>ene(kK(ane,i),Object.values(t)),then:i=>s(Jte(u=>TK(u,i),t))}),ac=t=>s=>i=>i.setAttribute(t,(OE(s),s)),lne=()=>t=>s=>one(s,"textContent",t),oD=t=>s=>i=>i.style.setProperty(t,s),awe=t=>t.reduce((s,i)=>s.includes(i)?s:[...s,i],[]),IK=(t,s,i)=>s.forEach(({then:u})=>u(t)(i)),yX=(t,s,i,u)=>{const m=({path:x})=>s.filter(w=>w.requires(x)),h=awe(i.reduce((x,w)=>x.concat(m(w)),[]));IK(t,h,u)},Em=(t,s)=>t.append(s),Ug=(t,s)=>owe(t,"setAttribute",s),lwe=({start:t,move:s,stop:i=xE})=>{let u=null;return{start:m=>{m.preventDefault(),u=t(HC(m))},move:m=>{m.preventDefault(),u=s(HC(m),u)},stop:m=>{i(u)}}},cwe=(t,s)=>Array.from(t.children).forEach(kK(Em,s)),cne=t=>(s,i={},...u)=>{const m=t(s);return u.forEach(h=>Em(m,h)),Ug(m,i),m},uwe=t=>document.createElementNS("http://www.w3.org/2000/svg",t),Ma=cne(uwe),dwe=cne(t=>document.createElement(t)),fwe=()=>{let t=null;return s=>{if(t!==null)return new Promise(xE);const i=()=>t===i?(t=null,!0):!1;return t=i,new Promise(u=>s(()=>{i(),u()}))}},mwe=t=>{const s=fwe();return{current:()=>t,acquire:(i,u)=>s(m=>{const h=t;t=i,u(()=>{m()&&(t=h)})})}},gwe=t=>new Promise((s,i)=>{const u=document.createElement("img");u.onload=()=>s(j2e(u.width,u.height)),u.onerror=i,u.src=t}),une=t=>t.type==="touchend"&&t.touches.length===0,rD=qb((t,s=void 0)=>wD(s)?t.constructor.name:s);Cs(rD,"TouchEvent",t=>t.touches.length===1||une(t));Cs(rD,"MouseEvent",t=>t.button===0);Cs(rD,"PointerEvent",t=>rD(t,"MouseEvent"));const sD=qb(t=>t.constructor.name);Cs(sD,"TouchEvent",t=>t.touches.length===2||une(t));Cs(sD,"MouseEvent",t=>t.button===1);Cs(sD,"PointerEvent",t=>sD(t,"MouseEvent"));const km=qb((t,s)=>s);Cs(km,nD);["click","mousedown","mouseup"].forEach(t=>{Cs(km,t,(s,i,u)=>nD(s,i,DF(rD,u))),Cs(km,[t,"primary"],(s,[i,u],m)=>km(s,i,m)),Cs(km,[t,"secondary"],(s,[i,u],m)=>nD(s,i,DF(sD,m)))});const hwe=(t,{start:s=xE,move:i=xE,stop:u=xE},m,h)=>{const x=D=>i(D),T=[km(window,["mouseup",m],D=>{EK(T),u(D)}),km(t,"mousemove",x)];s(h)},Yr={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},pwe=t=>Object.values(Yr).includes(t),bwe={[Yr.CIRCLE]:{symbol:hE,symbolColor:hE},[Yr.RECTANGLE]:{width:OE,height:OE},[Yr.POLYGON]:{polygon:nne(JB)},[Yr.LINE]:{end:JB},[Yr.WAVE]:{end:JB}},dne={key:hE,label:hE,color:hE,selectedColor:hE,shape:pwe,pos:JB,locked:B2e},vwe=t=>({...TI(Object.keys(dne),t),pos:TI(["x","y"],t.pos)}),ywe={[Yr.CIRCLE]:t=>TI(["symbol","symbolColor"],t),[Yr.RECTANGLE]:t=>TI(["width","height"],t),[Yr.POLYGON]:({polygon:t})=>({polygon:t.map(s=>TI(["x","y"],s))}),[Yr.LINE]:({end:{x:t,y:s}})=>({end:{x:t,y:s}}),[Yr.WAVE]:({end:{x:t,y:s}})=>({end:{x:t,y:s}})},DK=qb(t=>t.shape);Cs(DK,Xte);Cs(DK,Yr.CIRCLE,({symbol:t="",symbolColor:s="black",...i})=>({...i,symbol:t,symbolColor:s}));const pE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},bX(dne,t),t=DK(t),bX(bwe[t.shape],t),{...vwe(t),...ywe[t.shape](t)}),QB={lambda:30,amplitude:6,lineWidth:6},_U={startDot:{radius:20,borderWidth:6},lineWidth:6},xwe={width:6},J0=Symbol("silent"),wwe=({polygon:t,pos:s})=>Qte(t,s),Cwe=t=>s=>s.setAttribute("points",wwe(t)),p8=t=>[Vu(["color"],oD("--default-color")),Vu(["selectedColor"],oD("--selected-color")),Vu(["locked"],s=>ac("class")(["shape"].concat(s?["locked"]:[],t).join(" ")))],fne=(t,s)=>{const i=m=>Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2)),u=({start:m,end:h})=>{const x=Math.atan(h.y/h.x),w=h.x<0?x-Math.PI:x,T=Z2e(KC(m,gp(0,t/2)),-w),D=`rotateZ(${w}rad)`,I=`translate(${T.x}px, ${T.y}px)`;return`${D} ${I}`};return[...p8(s),OK({start:["pos"],end:["end"]},JI(oD("transform"),u)),Vu(["end"],JI(ac("width"),i)),vx(`0 ${t/2}px`,oD("transform-origin")),vx(t,ac("height")),vx(0,ac("x")),vx(0,ac("y"))]},Zb=qb(t=>t.shape||t);Cs(Zb,Yr.RECTANGLE,()=>[...p8([]),Vu(["pos","x"],ac("x")),Vu(["pos","y"],ac("y")),Vu(["width"],ac("width")),Vu(["height"],ac("height"))]);Cs(Zb,Yr.CIRCLE,()=>[...p8([]),Vu(["pos","x"],Wg(0,ac("cx"))),Vu(["pos","y"],Wg(0,ac("cy"))),Vu(["pos","x"],Wg(1,ac("x"))),Vu(["pos","y"],Wg(1,ac("y"))),Vu(["symbol"],Wg(1,lne())),Vu(["symbolColor"],Wg(1,oD("fill"))),vx("symbol",Wg(1,ac("class"))),vx(40,Wg(0,ac("r")))]);Cs(Zb,Yr.POLYGON,()=>[...p8([]),OK({pos:["pos"],polygon:["polygon"]},Cwe)]);Cs(Zb,Yr.LINE,()=>fne(xwe.width,[]));Cs(Zb,Yr.WAVE,()=>fne(QB.amplitude*2,["wave"]));const Wg=(t,s)=>i=>u=>s(i)(u.children[t]);Cs(Zb,"label",()=>[Vu(["pos","x"],Wg(0,ac("x"))),Vu(["pos","x"],Wg(1,ac("x"))),vx("label",Wg(0,ac("class"))),vx("label",Wg(1,ac("class"))),OK({shape:["shape"],label:["label"],y:["pos","y"],x:["pos","x"]},({shape:t,label:s,y:i,x:u})=>m=>{t==Yr.CIRCLE?(i=i-50,u=u+20):(i=i-15,u=u+15),Ug(m.children[1],{x:u,y:i}),lne()(s)(m.children[1]),requestAnimationFrame(()=>{const{width:h,height:x}=m.children[1].getBBox();s?(Ug(m.children[0],{width:h+30}),Ug(m.children[0],{height:x+10})):(Ug(m.children[0],{width:0}),Ug(m.children[0],{height:0})),Ug(m.children[0],{y:i-x}),Ug(m.children[0],{rx:10}),Ug(m.children[0],{ry:10})})})]);const jC=qb(Xte);Cs(jC,Yr.RECTANGLE,()=>Ma("rect"));Cs(jC,Yr.CIRCLE,()=>Ma("g",{},Ma("circle"),Ma("text")));Cs(jC,Yr.POLYGON,()=>Ma("polygon"));Cs(jC,Yr.LINE,()=>Ma("rect"));Cs(jC,Yr.WAVE,()=>Ma("rect"));Cs(jC,t=>VE(`Invalid shape name: ${t}.`));const mne=t=>{const s=jC(t.shape);return IK(t,Zb(t),s),s},_we=t=>{const s=Ma("g",{},Ma("rect"),Ma("text"));return IK(t,Zb("label"),s),s},Swe=(t,s,i)=>{yX(t,Zb(t),s,i.nodes.shape),yX(t,Zb("label"),s,i.nodes.label)},kwe=t=>({mark:t,nodes:{root:Ma("g"),label:_we(t),shape:mne(t)}}),Ewe={[Yr.RECTANGLE]:{width:10,height:20},[Yr.CIRCLE]:{},[Yr.POLYGON]:{polygon:[gp(0,0)]},[Yr.LINE]:{end:gp(0,0)},[Yr.WAVE]:{end:gp(0,0)}},Awe=(t,s,i,u)=>pE({...Ewe[s],shape:s,pos:t,color:i,selectedColor:u,label:""}),b8=(t,s,i,u="primary")=>hwe(t.nodes.svg,lwe(i),u,s),Twe=(t,s)=>gwe(s).then(i=>{Ug(t.nodes.backgroundImage,{href:s,x:0,y:0,...i}),t.canvas.size(i),_ne(t)}),Owe=()=>rwe(t=>one(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(s=>".long-essay-image-marker"+s).join(" ")))(document.createElement("style")),Iwe=()=>({background:Ma("g",{class:"background"}),normal:Ma("g"),foreground:Ma("g",{class:"foreground"})}),Dwe=t=>tD(Object.values(Yr).includes(t),`Invalid shape name: ${t}.`),Rwe=t=>{tD(OE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),tD(t>0,`Scale must be > 0 given: ${t}.`)},Nwe=(t,s,i)=>{const u=Iwe(),m=Ma("svg",{width:"100%",height:"100%"},...Object.values(u)),h=dwe("div",{class:"long-essay-image-marker"},m),x=Ma("image");return Em(t,h),Em(t,Owe()),Em(m,Ma("defs",{},Fwe(),$we())),{nodes:{app:h,svg:m,layers:u,backgroundImage:x},creation:{color:cE("#0000AAAA"),selectedColor:cE("#FF0000AA"),shape:cE(Yr.CIRCLE,Dwe)},status:mwe({name:"idle"}),canvas:{scale:cE(1,Rwe),size:cE(null)},mode:cE("draw-shape",w=>tD(["draw-shape","scroll"].includes(w),`Invalid marker mode: ${w}`)),groups:{},emit:{createMark:s,selectMark:i}}},CD=(t,s,i)=>t.status.acquire(s,i),RK=(t,s,i,u)=>CD(t,{name:s,group:i},u),gne=(t,s,i)=>{km(i,"mousedown",u=>(s.mark.locked?Promise.resolve():bne(t,s,u)).then(()=>wne(t,[s])))},Pwe=(t,s)=>{hne(t,s),Lwe(t,s),Em(t.nodes.layers.normal,s.nodes.root)},Lwe=(t,s)=>{Em(s.nodes.root,s.nodes.label),gne(t,s,s.nodes.label)},hne=(t,s)=>{Em(s.nodes.root,s.nodes.shape),gne(t,s,s.nodes.shape)},v8=t=>(s,i)=>CD(s,{name:"drawNew"},u=>{const m=Awe(s1(s,HC(i)),Uwe(s),vne(s),yne(s));s.emit.selectMark(null,i),u(),PK(s,m,J0),t(s,s.groups[m.key],i).then(()=>{s.emit.createMark(s.groups[m.key].mark,i),RF(s,[m.key],i)})}),NK=qb(t=>t.mode()),ZC=qb(NK),pne=(t,s,i)=>RK(t,"editGroup",s,u=>b8(t,i,{start:m=>(y8(t,[s],J0),m=s1(t,m),{mark:s.mark,start:{mouse:m,pos:s.mark.pos}}),move:(m,{mark:h,start:x})=>{const w=KC(s1(t,m),x.mouse),T={...h,end:w};return x8(t,T),{start:x,mark:T}},stop:u}));Cs(ZC,["draw-shape",Yr.LINE],v8(pne));Cs(ZC,["draw-shape",Yr.WAVE],v8(pne));const Mwe=(t,s,i)=>RK(t,"editGroup",s,u=>b8(t,i,{start:m=>(y8(t,[s],J0),m=s1(t,m),{mark:s.mark,start:{mouse:m,pos:s.mark.pos}}),move:(m,{mark:h,start:x})=>{const w=KC(s1(t,m),x.mouse),{width:T,height:D,...I}=M2e(x.pos,h8(x.pos,w)),P={...h,pos:I,width:T,height:D};return x8(t,P),{start:x,mark:P}},stop:u}));Cs(ZC,["draw-shape",Yr.RECTANGLE],v8(Mwe));const bne=(t,s,i)=>RK(t,"moveGroup",s,u=>b8(t,i,{start:m=>(m=s1(t,m),y8(t,[s],J0),{mark:s.mark,start:{pos:s.mark.pos,mouse:m}}),move:(m,{mark:h,start:x})=>{const w=KC(s1(t,m),x.mouse),T={...h,pos:h8(x.pos,w)};return x8(t,T),{start:x,mark:T}},stop:u}));Cs(ZC,["draw-shape",Yr.CIRCLE],v8(bne));const Bwe=(t,s,i)=>{const u=Ma("circle",{cx:s.x,cy:s.y,r:_U.startDot.radius+"px","stroke-width":_U.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),m=Ma("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":_U.lineWidth+"px",fill:"none"}),h=Ma("g",{class:"new-polygon"});return Em(h,m),Em(h,u),Em(t,h),km(u,"click",x=>{x.stopPropagation(),h.remove(),i()}),x=>Ug(m,{points:Qte(x,s)})},Fwe=()=>{const t=gp(QB.lambda,QB.amplitude*2),s=eD(.5,t),i=eD(.5,s);return Ma("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},Ma("path",{d:`M -${s.x} ${s.y} Q -${i.x} -${i.y}, 0 ${s.y} t ${s.x} 0 t ${s.x} 0`,fill:"none",stroke:"white","stroke-width":QB.lineWidth+"px"}))},$we=()=>Ma("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Ma("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),Vwe=(t,s,i)=>pE({label:"",polygon:s,pos:i,color:vne(t),selectedColor:yne(t),shape:Yr.POLYGON}),zwe=(t,s,i)=>u=>{u.preventDefault(),i(KC(s1(t,HC(u)),s))};Cs(ZC,["draw-shape",Yr.POLYGON],(t,s)=>CD(t,{name:"newPolygon"},i=>{s.preventDefault(),t.emit.selectMark(null,s);const u=s1(t,HC(s)),m=Bwe(t.nodes.layers.foreground,u,()=>D()),h=[gp(0,0)],x=I=>zwe(t,u,I);let w=gp(0,0);const T=[i,km(t.nodes.svg,"mousemove",x(I=>{m([...h,I]),w=I})),km(window,"mouseup",I=>h.push(w))],D=()=>{EK(T);const I=Vwe(t,h,u);PK(t,I,s),RF(t,[I.key],s)}}));const Hwe=t=>{const s=i=>[t.nodes.svg,t.nodes.backgroundImage].includes(i.target);km(t.nodes.svg,"mousedown",DF(s,i=>ZC(t,i))),km(t.nodes.svg,["mousedown","secondary"],DF(s,i=>xne(t,i,"secondary")))},vne=t=>t.creation.color(),yne=t=>t.creation.selectedColor(),Uwe=t=>t.creation.shape();Cs(NK,"draw-shape",t=>[t.mode(),t.creation.shape()]);Cs(NK,t=>t.mode());const xne=(t,s,i="primary")=>CD(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),b8(t,s,{start:m=>m,move:(m,h)=>{const x=KC(h,m);return t.nodes.app.scrollBy(x.x,x.y),m},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},i)});Cs(ZC,"scroll",xne);const y8=(t,s,i)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),cwe(t.nodes.layers.foreground,t.nodes.layers.normal),s.forEach(u=>{const m=u.nodes.root;m.classList.add("active"),Em(t.nodes.layers.foreground,m)}),i!==J0&&s.forEach(u=>t.emit.selectMark(u.mark,i))},wne=(t,s,i)=>CD(t,{name:"selecting-multiple"},u=>{y8(t,s,i),u()}),Cne=(t,s)=>t.groups[s]||VE(`Mark with key ${s} does not exist.`),RF=(t,s,i)=>wne(t,s.map(u=>Cne(t,u)),i),PK=(t,s,i)=>{tD(!t.groups[s.key],`Duplicated key: ${s.key}`);const u=kwe(s);Pwe(t,u),t.groups[s.key]=u,i!==J0&&t.emit.createMark(s,i)},x8=(t,s)=>{const i=Cne(t,s.key),u=sne(i.mark,s);i.mark=s,iwe(["shape"],u)?(i.nodes.shape.remove(),i.nodes.shape=mne(i.mark),hne(t,i)):Swe(i.mark,u,i)},_ne=t=>Ug(t.nodes.svg,{...W2e(eD(t.canvas.scale(),K2e(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),s1=(t,s)=>eD(1/t.canvas.scale(),KC(s,t.nodes.svg.getBoundingClientRect())),Wwe=(t,s,i)=>{const u=Nwe(t,(w,T)=>s(pE(w),T),(w,T)=>i(w?pE(w):null,T));Hwe(u);const m=w=>PK(u,pE(w),J0),h=w=>{u.groups[w].nodes.root.remove(),ewe(u.groups,w)},x=w=>{u.canvas.scale(w),_ne(u)};return{showPage:(w,T)=>{Twe(u,w),Em(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(D=>h(D.mark.key)),T.forEach(m)},addMark:m,removeMark:h,selectMark:w=>RF(u,[w],J0),selectMarks:w=>RF(u,w,J0),updateMark:w=>x8(u,pE(w)),setDefaultColor:w=>u.creation.color(w),setDefaultSelectedColor:w=>u.creation.selectedColor(w),setDefaultShape:w=>u.creation.shape(w),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const w=X2e(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(w.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},Kwe={id:"app-essay-image-wrapper"},jwe={class:"appImageButtons"},Zwe={class:"appImageBottomNav"},Gwe={__name:"EssayImage",setup(t){const s=sr(),i=xf(),u=lc(),m=SF();$l();const h=X0(),x=Mn(),w=Mn("scroll"),T=Mn(!1),D=Mn(0),I=Mn(!0);let P,z="",K=[];ju(()=>{P=Wwe(x.value,W,J),P.setDefaultColor("#3365ffaa"),P.setDefaultSelectedColor("#3365ffaa"),Ae(),oe(m.minPage)});async function W(R){if(R&&!u.isOwnDisabled){const Fe=new Cm(R);switch(w.value){case"check":Fe.symbol=Cm.SYMBOL_CHECK;break;case"cross":Fe.symbol=Cm.SYMBOL_CROSS;break;case"question":Fe.symbol=Cm.SYMBOL_QUESTION;break}if(K.push(R.key),!i.getCommentByMarkKey(R.key)){const Ze=i.selectedComment;if(Ze&&Ze.parent_number==m.selectedPageNo)Ze.addMarkData(Fe),await i.updateComment(Ze,!0);else{const Ot=new RC({parent_number:m.selectedPageNo,marks:[Fe]});await i.addComment(Ot)}}}}function J(R,Fe){if(R){let Ze=i.getCommentByMarkKey(R.key);if(Ze){i.selectComment(Ze.key);const Ot=Ze.getData();if(Ze.corrector_key==s.correctorKey&&!u.isOwnDisabled){R.symbol=R.symbol==""?null:R.symbol,Ze.updateMarkData(R);const Gt=Ze.getData();JSON.stringify(Ot)!=JSON.stringify(Gt)&&i.updateComment(Ze,!0)}else{const Gt=Ze.getMarkByKey(R.key);if(Gt){const ut={...Gt.getData(),label:I.value?Ze.label:"",color:Ze.getMarkColor(Gt),selectedColor:Ze.getMarkSelectedColor(Gt),locked:Ze.corrector_key!=s.correctorKey||u.isOwnDisabled};P.updateMark(ut)}}}}else{const Ze=i.selectedComment;Fe&&Fe.shiftKey&&Ze&&Ze.parent_number==m.selectedPageNo||i.selectComment("")}}function oe(R){if(m.selectByPageNo(R)){const Fe=m.getPageByPageNo(R);if(Fe){Fe.url?(P.showPage(Fe.url,[]),z=Fe.url):(P.showPage("",[]),z="");try{P.setZoomLevel(h.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,K=[],ue(),D.value=R}}}function U(){const R=m.selectedPage;R&&R.url!=z&&oe(R.page_no)}Dn(()=>m.loadedImages,U);function he(){const R=i.getComment(i.selectedKey);R&&R.parent_number!=m.selectedPageNo&&oe(R.parent_number),ue()}Dn(()=>i.selectionChange,he);function ue(){let R=[];for(const Fe of i.activeComments)if(Fe.parent_number==m.selectedPageNo){let Ze=[];for(const Ot of Fe.marks){const Gt={...Ot.getData(),label:I.value?Fe.label:"",color:Fe.getMarkColor(Ot),selectedColor:Fe.getMarkSelectedColor(Ot),locked:Fe.corrector_key!=s.correctorKey||u.isOwnDisabled};K.includes(Ot.key)?P.updateMark(Gt):P.addMark(Gt),R.push(Ot.key),Ze.push(Ot.key)}Fe.key==i.selectedKey&&P.selectMarks(Ze)}for(const Fe of K)R.includes(Fe)||P.removeMark(Fe);K=R}Dn(()=>i.markerChange,ue),Dn(()=>i.filterChange,ue);function Z(){let R=i.getActiveCommentsByParentNumber(m.selectedPageNo);if(R.length){let Fe=R.shift();i.setFirstVisibleComment(Fe.key)}}Dn(()=>m.selectedKey,Z);function de(){m.selectedPageNo>m.minPage&&oe(m.selectedPageNo-1)}function re(){m.selectedPageNo<m.maxPage&&oe(m.selectedPageNo+1)}function Ve(R){T.value=!1,oe(R)}async function Me(){T.value&&(await qo(),await new Promise(Fe=>setTimeout(Fe,250)),document.getElementById("app-pages-menu-input").select())}function Ye(){h.zoomEssayPageIn(),P.setZoomLevel(h.essay_page_zoom)}function it(){h.zoomEssayPageOut(),P.setZoomLevel(h.essay_page_zoom)}function Ae(R=null){if(R&&(w.value=R),u.isOwnDisabled||!w.value){w.value="scroll",P.scrollMode();return}switch(w.value){case"scroll":P.scrollMode();break;case"rectangle":P.drawMode(),P.setDefaultShape(Yr.RECTANGLE);break;case"line":P.drawMode(),P.setDefaultShape(Yr.LINE);break;case"wave":P.drawMode(),P.setDefaultShape(Yr.WAVE);break;case"polygon":P.drawMode(),P.setDefaultShape(Yr.POLYGON);break;case"circle":case"check":case"cross":case"question":P.drawMode(),P.setDefaultShape(Yr.CIRCLE);break}}function ze(){I.value==1?I.value=0:I.value=1,ue()}return(R,Fe)=>(An(),Mo("div",Kwe,[ee("div",jwe,[ae(q0,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ae(yo,{size:"small",title:R.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:Fe[0]||(Fe[0]=Ze=>it())},null,8,["title"]),ae(yo,{size:"small",title:R.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:Fe[1]||(Fe[1]=Ze=>Ye())},null,8,["title"])]),_:1}),Fe[20]||(Fe[20]=hs("  ")),ae(O0e,{density:"comfortable",variant:"outlined",divided:"",modelValue:w.value,"onUpdate:modelValue":Fe[10]||(Fe[10]=Ze=>w.value=Ze)},{default:xt(()=>[ae(yo,{size:"small",icon:"mdi-cursor-move",value:"scroll",onClick:Fe[2]||(Fe[2]=Ze=>Ae("scroll"))}),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line",onClick:Fe[3]||(Fe[3]=Ze=>Ae("line"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave",onClick:Fe[4]||(Fe[4]=Ze=>Ae("wave"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-check",value:"check",onClick:Fe[5]||(Fe[5]=Ze=>Ae("check"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross",onClick:Fe[6]||(Fe[6]=Ze=>Ae("cross"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-help",value:"question",onClick:Fe[7]||(Fe[7]=Ze=>Ae("question"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle",onClick:Fe[8]||(Fe[8]=Ze=>Ae("rectangle"))},null,8,["disabled"]),ae(yo,{disabled:ie(u).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon",onClick:Fe[9]||(Fe[9]=Ze=>Ae("polygon"))},null,8,["disabled"])]),_:1},8,["modelValue"]),Fe[21]||(Fe[21]=hs("  ")),ae(q0,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ae(yo,{size:"small",active:I.value,icon:"mdi-label-outline",onClick:Fe[11]||(Fe[11]=Ze=>ze())},null,8,["active"])]),_:1}),Fe[22]||(Fe[22]=hs("  ")),ae(q0,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ae(yo,{size:"small",icon:"mdi-menu-left",onClick:Fe[12]||(Fe[12]=Ze=>de())}),ae(yo,{size:"small",id:"app-pages-menu-activator"},{default:xt(()=>[hs(We(ie(m).selectedPageNo),1)]),_:1}),ae(yo,{size:"small",icon:"mdi-menu-right",onClick:Fe[13]||(Fe[13]=Ze=>re())})]),_:1}),ae(m8,{activator:"#app-pages-menu-activator",modelValue:T.value,"onUpdate:modelValue":[Fe[16]||(Fe[16]=Ze=>T.value=Ze),Fe[17]||(Fe[17]=Ze=>Me())],"close-on-content-click":!1},{default:xt(()=>[ae(xD,null,{default:xt(()=>[ae(Oc,null,{default:xt(()=>[ae(YI,{id:"app-pages-menu-input",modelValue:D.value,"onUpdate:modelValue":Fe[14]||(Fe[14]=Ze=>D.value=Ze),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:Fe[15]||(Fe[15]=Ze=>Ve(D.value))},null,8,["modelValue"])]),_:1}),(An(!0),Mo(lr,null,t1(ie(m).currentPages,Ze=>(An(),qr(Oc,{onClick:Ot=>Ve(Ze.page_no),title:Ze.page_no,key:Ze.key},{default:xt(()=>[zn(ae(yD,{src:Ze.thumb_url,width:"100"},null,8,["src"]),[[To,Ze.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),ee("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),ee("div",Zwe,[ae(q0,{variant:"outlined",divided:""},{default:xt(()=>[ae(yo,{disabled:ie(m).selectedPageNo<=ie(m).minPage,size:"small",icon:"mdi-menu-left",onClick:Fe[18]||(Fe[18]=Ze=>de())},null,8,["disabled"]),ae(yo,{disabled:ie(m).selectedPageNo>=ie(m).maxPage,size:"small",icon:"mdi-menu-right",onClick:Fe[19]||(Fe[19]=Ze=>re())},null,8,["disabled"])]),_:1})])]))}},qwe=yl(Gwe,[["__scopeId","data-v-15fa68b1"]]),Ywe={class:"text-right"},Xwe={class:"sr-only"},Jwe={"aria-hidden":"true"},Qwe={class:"text-right"},eCe={class:"sr-only"},tCe={"aria-hidden":"true"},nCe={class:"text-right"},oCe={class:"text-right"},rCe={class:"sr-only"},sCe={"aria-hidden":"true"},iCe={class:"text-right"},aCe={class:"text-right"},lCe={class:"sr-only"},cCe={"aria-hidden":"true"},uCe={class:"text-right"},dCe={class:"text-right"},fCe={class:"generalCriterion"},mCe={class:"text-right"},gCe={__name:"SummaryCriteria",props:["corrector_key"],setup(t){const s=sr(),i=Am(),u=xf(),m=Jg(),h=$l(),x=su(),w=t;Dn(()=>w,I),Dn(()=>s.itemKey,I);const T=ql({}),D=ql({});async function I(){await qo(),i.getCorrectorCommentCriteria(w.corrector_key).forEach(W=>{D[W.key]={key:W.key,title:W.title,max_points:W.points,sum_points:0}}),i.getCorrectorGeneralCriteria(w.corrector_key).forEach(W=>{T[W.key]={key:W.key,title:W.title,max_points:W.points,sum_points:0}}),m.getObjectsForCorrector(w.corrector_key).forEach(W=>{D[W.criterion_key]!==void 0&&(D[W.criterion_key].sum_points+=W.points),T[W.criterion_key]!==void 0&&(T[W.criterion_key].sum_points+=W.points)})}i.getCorrectorHasCriteria(w.corrector_key)&&I();async function P(W,J){u.setFilterByRating(w.corrector_key,W,J),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await qo(),h.showEssay(),h.showMarking()}async function z(){u.setFilterByPoints(w.corrector_key),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await qo(),h.showEssay(),h.showMarking()}async function K(W){u.setFilterByCriterion(w.corrector_key,W),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await qo(),h.showEssay(),h.showMarking()}return(W,J)=>(An(),Mo("div",null,[ae(lp,{class:"table",density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",null,We(W.$t("summaryCriteriaMarkings")),1),ee("th",Ywe,We(W.$t("summaryCriteriaNumber")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,[ae(yo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ie(u).getCountOfExcellent(w.corrector_key)==0,onClick:J[0]||(J[0]=oe=>P(!0,!1))},{default:xt(()=>[ee("span",Xwe,We(ie(x).positive_rating),1)]),_:1},8,["disabled"]),ee("span",Jwe,We(ie(x).positive_rating),1)]),ee("td",Qwe,We(ie(u).getCountOfExcellent(w.corrector_key)),1)]),ee("tr",null,[ee("td",null,[ae(yo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ie(u).getCountOfCardinal(w.corrector_key)==0,onClick:J[1]||(J[1]=oe=>P(!1,!0))},{default:xt(()=>[ee("span",eCe,We(ie(x).negative_rating),1)]),_:1},8,["disabled"]),ee("span",tCe,We(ie(x).negative_rating),1)]),ee("td",nCe,We(ie(u).getCountOfCardinal(w.corrector_key)),1)])])]),_:1}),ie(i).getCorrectorHasCommentCriteria(w.corrector_key)?hr("",!0):(An(),qr(lp,{key:0,class:"table",density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",null,[ee("strong",null,We(W.$t("summaryCriteriaRating")),1)]),ee("th",oCe,We(W.$t("allPoints")),1)])]),ee("tbody",null,[ee("tr",null,[ee("td",null,[ae(yo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ie(m).getSumOfPointsForCorrector(w.corrector_key,!0,!1)==0,onClick:J[2]||(J[2]=oe=>z())},{default:xt(()=>[ee("span",rCe,We(W.$t("summaryCriteriaPointsInComments")),1)]),_:1},8,["disabled"]),ee("span",sCe,We(W.$t("summaryCriteriaPointsInComments")),1)]),ee("td",iCe,We(ie(m).getSumOfPointsForCorrector(w.corrector_key,!0,!1)),1)])])]),_:1})),ie(i).getCorrectorHasCommentCriteria(w.corrector_key)?(An(),qr(lp,{key:1,class:"table",density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",null,We(W.$t("summaryCriteriaInComments")),1),ee("th",aCe,We(W.$t("summaryCriteriaPointsOfMax")),1)])]),ee("tbody",null,[(An(!0),Mo(lr,null,t1(D,oe=>(An(),Mo("tr",{key:oe.key},[ee("td",null,[ae(yo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:oe.sum_points==0,onClick:U=>K(oe.key)},{default:xt(()=>[ee("span",lCe,We(oe.title),1)]),_:2},1032,["disabled","onClick"]),ee("span",cCe,We(oe.title),1)]),ee("td",uCe,We(oe.sum_points)+" / "+We(oe.max_points),1)]))),128))])]),_:1})):hr("",!0),ie(i).getCorrectorHasGeneralCriteria(w.corrector_key)?(An(),qr(lp,{key:2,class:"table",density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",null,We(W.$t("summaryCriteriaGeneralCriteria")),1),ee("th",dCe,We(W.$t("summaryCriteriaPointsOfMax")),1)])]),ee("tbody",null,[(An(!0),Mo(lr,null,t1(T,oe=>(An(),Mo("tr",{key:oe.key},[ee("td",null,[ee("span",fCe,We(oe.title),1)]),ee("td",mCe,We(oe.sum_points)+" / "+We(oe.max_points),1)]))),128))])]),_:1})):hr("",!0)]))}},Sne=yl(gCe,[["__scopeId","data-v-a36cfb9a"]]),hCe={id:"app-own-summary-points-wrapper"},pCe={for:"appOwnSummaryPoints"},bCe=["disabled","max"],vCe={__name:"OwnSummaryPoints",setup(t){const s=sr(),i=$b(),u=lc(),m=su(),h=$l();return(x,w)=>(An(),Mo("div",hCe,[ae(IF,null,{default:xt(()=>[ae(jg,{dense:""},{default:xt(()=>[ae(ra,{cols:"10"},{default:xt(()=>[ae(SK,{class:"sumOfPoints",corrector_key:ie(s).correctorKey},null,8,["corrector_key"])]),_:1})]),_:1}),ae(jg,{dense:""},{default:xt(()=>[ae(ra,{cols:"10"},{default:xt(()=>[ee("label",pCe,[ee("strong",null,We(x.$t("OwnSummaryPointsRating")),1)]),w[3]||(w[3]=hs("  ")),zn(ee("input",{disabled:ie(u).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:ie(m).max_points,"onUpdate:modelValue":w[0]||(w[0]=T=>ie(u).editSummary.points=T)},null,8,bCe),[[o1,ie(u).editSummary.points]]),hs(" "+We(x.$t("allPoints",ie(u).editSummary.points))+"  ",1),ee("strong",null,We(x.$t("OwnSummaryPointsGrade")),1),hs(" "+We(ie(u).currentGradeTitle),1)]),_:1,__:[3]}),ae(ra,{cols:"2"},{default:xt(()=>[zn(ae(yo,{density:"compact",variant:"text",disabled:!ie(i).authorizationAllowed,onClick:w[1]||(w[1]=T=>ie(s).setShowAuthorization(!0))},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-file-certificate-outline"}),ee("span",null,We(x.$t("allAuthorize")),1)]),_:1},8,["disabled"]),[[To,!ie(u).isOwnDisabled]])]),_:1})]),_:1}),ae(jg,{dense:""},{default:xt(()=>[ae(ra,{cols:"10"},{default:xt(()=>[ie(m).inclusionsPossible?(An(),qr(jte,{key:0})):hr("",!0)]),_:1}),ae(ra,{cols:"2"},{default:xt(()=>[ie(m).inclusionsChangeable?(An(),qr(yo,{key:0,density:"compact",variant:"text",disabled:ie(u).isOwnDisabled,onClick:w[2]||(w[2]=T=>ie(h).showIncludesPopup=!0)},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-pencil"}),ee("span",null,We(x.$t("allChange")),1)]),_:1},8,["disabled"])):hr("",!0)]),_:1})]),_:1})]),_:1})]))}},yCe=yl(vCe,[["__scopeId","data-v-ae3704b6"]]);var SU={exports:{}},xX;function xCe(){return xX||(xX=1,function(t){(function(){var s=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},i=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},m=function(e,n){return h(function(o,a){return e.eq(n(o),n(a))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),w=x,T=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,c=0;c<a;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},D=function(e,n){return m(T(e),function(o){return u(o,n)})},I=function(e){return h(function(n,o){var a=Object.keys(n),c=Object.keys(o);if(!D(w).eq(a,c))return!1;for(var g=a.length,p=0;p<g;p++){var _=a[p];if(!e.eq(n[_],o[_]))return!1}return!0})},P=h(function(e,n){if(e===n)return!0;var o=s(e),a=s(n);return o!==a?!1:i(o)?e===n:o==="array"?T(P).eq(e,n):o==="object"?I(P).eq(e,n):!1});const z=Object.getPrototypeOf,K=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},W=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&K(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},J=e=>n=>W(n)===e,oe=e=>n=>typeof n===e,U=e=>n=>e===n,he=(e,n)=>Z(e)&&K(e,n,(o,a)=>z(o)===a),ue=J("string"),Z=J("object"),de=e=>he(e,Object),re=J("array"),Ve=U(null),Me=oe("boolean"),Ye=U(void 0),it=e=>e==null,Ae=e=>!it(e),ze=oe("function"),R=oe("number"),Fe=(e,n)=>{if(re(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},Ze=()=>{},Ot=(e,n)=>(...o)=>e(n.apply(null,o)),Gt=(e,n)=>o=>e(n(o)),ut=e=>()=>e,kn=e=>e,Et=(e,n)=>e===n;function tt(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const Pe=e=>n=>!e(n),mt=e=>()=>{throw new Error(e)},po=e=>e(),Ht=e=>{e()},On=ut(!1),nn=ut(!0);class Q{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Q(!0,n)}static none(){return Q.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Q.some(n(this.value)):Q.none()}bind(n){return this.tag?n(this.value):Q.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Q.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ae(n)?Q.some(n):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const co=Array.prototype.slice,Kt=Array.prototype.indexOf,pn=Array.prototype.push,je=(e,n)=>Kt.call(e,n),nt=(e,n)=>{const o=je(e,n);return o===-1?Q.none():Q.some(o)},xe=(e,n)=>je(e,n)>-1,Te=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return!0}return!1},$e=(e,n)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const g=e[c];a[c]=n(g,c)}return a},be=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];n(c,o)}},Ce=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Re=(e,n)=>{const o=[],a=[];for(let c=0,g=e.length;c<g;c++){const p=e[c];(n(p,c)?o:a).push(p)}return{pass:o,fail:a}},qe=(e,n)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const g=e[a];n(g,a)&&o.push(g)}return o},ht=(e,n,o)=>(Ce(e,(a,c)=>{o=n(o,a,c)}),o),sn=(e,n,o)=>(be(e,(a,c)=>{o=n(o,a,c)}),o),Ut=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++){const g=e[a];if(n(g,a))return Q.some(g);if(o(g,a))break}return Q.none()},bn=(e,n)=>Ut(e,n,On),qn=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return Q.some(o)}return Q.none()},eo=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!re(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);pn.apply(n,e[o])}return n},Fo=(e,n)=>eo($e(e,n)),Do=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Zr=e=>{const n=co.call(e,0);return n.reverse(),n},cr=(e,n)=>qe(e,o=>!xe(n,o)),ti=(e,n)=>{const o={};for(let a=0,c=e.length;a<c;a++){const g=e[a];o[String(g)]=n(g,a)}return o},xr=(e,n)=>{const o=co.call(e,0);return o.sort(n),o},ji=(e,n)=>n>=0&&n<e.length?Q.some(e[n]):Q.none(),En=e=>ji(e,0),uo=e=>ji(e,e.length-1),Oo=ze(Array.from)?Array.from:e=>co.call(e),ci=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return Q.none()},tl=(e,n)=>{const o=[],a=ze(n)?c=>Te(o,g=>n(g,c)):c=>xe(o,c);for(let c=0,g=e.length;c<g;c++){const p=e[c];a(p)||o.push(p)}return o},Xt=Object.keys,pi=Object.hasOwnProperty,ur=(e,n)=>{const o=Xt(e);for(let a=0,c=o.length;a<c;a++){const g=o[a],p=e[g];n(p,g)}},Yl=(e,n)=>Wr(e,(o,a)=>({k:a,v:n(o,a)})),Wr=(e,n)=>{const o={};return ur(e,(a,c)=>{const g=n(a,c);o[g.k]=g.v}),o},ni=e=>(n,o)=>{e[o]=n},Dm=(e,n,o,a)=>{ur(e,(c,g)=>{(n(c,g)?o:a)(c,g)})},Gu=(e,n)=>{const o={},a={};return Dm(e,n,ni(o),ni(a)),{t:o,f:a}},Rc=(e,n)=>{const o={};return Dm(e,n,ni(o),Ze),o},xl=(e,n)=>{const o=[];return ur(e,(a,c)=>{o.push(n(a,c))}),o},qu=e=>xl(e,kn),Nr=(e,n)=>fo(e,n)?Q.from(e[n]):Q.none(),fo=(e,n)=>pi.call(e,n),Xl=(e,n)=>fo(e,n)&&e[n]!==void 0&&e[n]!==null,Di=(e,n,o=P)=>I(o).eq(e,n),Yu=e=>{const n={};return be(e,o=>{n[o]={}}),Xt(n)},un=e=>e.length!==void 0,Xu=Array.isArray,Rm=e=>{if(Xu(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},ps=(e,n,o)=>{if(!e)return!1;if(o=o||e,un(e)){for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(fo(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},Nm=(e,n)=>{const o=[];return ps(e,(a,c)=>{o.push(n(a,c,e))}),o},nl=(e,n)=>{const o=[];return ps(e,(a,c)=>{(!n||n(a,c,e))&&o.push(a)}),o},zl=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},wl=(e,n,o,a)=>{let c=Ye(o)?e[0]:o;for(let g=0;g<e.length;g++)c=n.call(a,c,e[g],g);return c},ls=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e))return a;return-1},ka=e=>e[e.length-1],Hl=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Pm=(e,n,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,g=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),_=p||a("(pointer:coarse)"),A=c||!g&&p&&a("(min-device-width:768px)"),$=g||p&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,X=!$&&!A&&!q;return{isiPad:ut(c),isiPhone:ut(g),isTablet:ut(A),isPhone:ut($),isTouch:ut(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ut(q),isDesktop:ut(X)}},au=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},lu=(e,n)=>{const o=au(e,n);if(!o)return{major:0,minor:0};const a=c=>Number(n.replace(o,"$"+c));return dr(a(1),a(2))},Ef=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?$d():lu(e,o)},$d=()=>dr(0,0),dr=(e,n)=>({major:e,minor:n}),Ms={nu:dr,detect:Ef,unknown:$d},ui=(e,n)=>ci(n.brands,o=>{const a=o.brand.toLowerCase();return bn(e,c=>{var g;return a===((g=c.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(c=>({current:c.name,version:Ms.nu(parseInt(o.version,10),0)}))}),Lm=(e,n)=>{const o=String(n).toLowerCase();return bn(e,a=>a.search(o))},ol=(e,n)=>Lm(e,n).map(o=>{const a=Ms.detect(o.versionRegexes,n);return{current:o.name,version:a}}),cu=(e,n)=>Lm(e,n).map(o=>{const a=Ms.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Ea=(e,n)=>e.substring(n),Aa=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,uu=(e,n)=>cs(e,n)?Ea(e,n.length):e,Mr=(e,n,o=0,a)=>{const c=e.indexOf(n,o);return c!==-1?Ye(a)?!0:c+n.length<=a:!1},cs=(e,n)=>Aa(e,n,0),Ie=(e,n)=>Aa(e,n,e.length-n.length),at=e=>n=>n.replace(e,""),He=at(/^\s+|\s+$/g),yt=at(/^\s+/g),pt=at(/\s+$/g),rt=e=>e.length>0,qt=e=>!rt(e),an=(e,n)=>n<=0?"":new Array(n+1).join(e),mn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?Q.none():Q.some(o)},Cn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,dn=e=>n=>Mr(n,e),_o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Mr(e,"edge/")&&Mr(e,"chrome")&&Mr(e,"safari")&&Mr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cn],search:e=>Mr(e,"chrome")&&!Mr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Mr(e,"msie")||Mr(e,"trident")},{name:"Opera",versionRegexes:[Cn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:dn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:dn("firefox")},{name:"Safari",versionRegexes:[Cn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Mr(e,"safari")||Mr(e,"mobile/"))&&Mr(e,"applewebkit")}],cn=[{name:"Windows",search:dn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Mr(e,"iphone")||Mr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:dn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:dn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:dn("linux"),versionRegexes:[]},{name:"Solaris",search:dn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:dn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:dn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tr={browsers:ut(_o),oses:ut(cn)},Ko="Edge",Qo="Chromium",Bs="IE",Ro="Opera",Jl="Firefox",Ta="Safari",bo=()=>rl({current:void 0,version:Ms.unknown()}),rl=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isEdge:a(Ko),isChromium:a(Qo),isIE:a(Bs),isOpera:a(Ro),isFirefox:a(Jl),isSafari:a(Ta)}},Cl={unknown:bo,nu:rl},Ts="Windows",Af="iOS",oi="Android",Mm="Linux",Ql="macOS",kr="Solaris",Vd="FreeBSD",nh="ChromeOS",wp=()=>Os({current:void 0,version:Ms.unknown()}),Os=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isWindows:a(Ts),isiOS:a(Af),isAndroid:a(oi),isMacOS:a(Ql),isLinux:a(Mm),isSolaris:a(kr),isFreeBSD:a(Vd),isChromeOS:a(nh)}},Nc={unknown:wp,nu:Os},ts={detect:(e,n,o)=>{const a=Tr.browsers(),c=Tr.oses(),g=n.bind(A=>ui(a,A)).orThunk(()=>ol(a,e)).fold(Cl.unknown,Cl.nu),p=cu(c,e).fold(Nc.unknown,Nc.nu),_=Pm(p,g,e,o);return{browser:g,os:p,deviceType:_}}},Bm=e=>window.matchMedia(e).matches;let Ul=Hl(()=>ts.detect(window.navigator.userAgent,Q.from(window.navigator.userAgentData),Bm));const ia=()=>Ul(),oh=window.navigator.userAgent,Ri=ia(),sl=Ri.browser,aa=Ri.os,Wl=Ri.deviceType,Cp=oh.indexOf("Windows Phone")!==-1,zo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:sl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!sl.isIE(),windowsPhone:Cp,browser:{current:sl.current,version:sl.version,isChromium:sl.isChromium,isEdge:sl.isEdge,isFirefox:sl.isFirefox,isIE:sl.isIE,isOpera:sl.isOpera,isSafari:sl.isSafari},os:{current:aa.current,version:aa.version,isAndroid:aa.isAndroid,isChromeOS:aa.isChromeOS,isFreeBSD:aa.isFreeBSD,isiOS:aa.isiOS,isLinux:aa.isLinux,isMacOS:aa.isMacOS,isSolaris:aa.isSolaris,isWindows:aa.isWindows},deviceType:{isDesktop:Wl.isDesktop,isiPad:Wl.isiPad,isiPhone:Wl.isiPhone,isPhone:Wl.isPhone,isTablet:Wl.isTablet,isTouch:Wl.isTouch,isWebView:Wl.isWebView}},du=/^\s*|\s*$/g,zd=e=>it(e)?"":(""+e).replace(du,""),Ju=(e,n)=>n?n==="array"&&Xu(e)?!0:typeof e===n:e!==void 0,Yb=(e,n,o={})=>{const a=ue(e)?e.split(n||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},Dx=fo,h1=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const c in a)if(fo(a,c)){const g=a[c];g!==void 0&&(e[c]=g)}}return e},p1=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),ps(e,(c,g)=>n.call(a,c,g,o)===!1?!1:(p1(c,n,o,a),!0)))},tn={trim:zd,isArray:Xu,is:Ju,toArray:Rm,makeMap:Yb,each:ps,map:Nm,grep:nl,inArray:zl,hasOwn:Dx,extend:h1,walk:p1,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>re(e)?e:e===""?[]:Nm(e.split(n||","),zd),_addCacheSuffix:e=>{const n=zo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Tf=(e,n,o=Et)=>e.exists(a=>o(a,n)),Of=(e,n,o=Et)=>la(e,n,o).getOr(e.isNone()&&n.isNone()),v1=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},la=(e,n,o)=>e.isSome()&&n.isSome()?Q.some(o(e.getOrDie(),n.getOrDie())):Q.none(),If=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?Q.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):Q.none(),rh=(e,n)=>e?Q.some(n):Q.none(),Rx=typeof window<"u"?window:Function("return this;")(),Nx=(e,n)=>{let o=n??Rx;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},Xb=(e,n)=>{const o=e.split(".");return Nx(o,n)},Px=(e,n)=>Xb(e,n),y1=(e,n)=>{const o=Px(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Lx=Object.getPrototypeOf,sh=e=>y1("HTMLElement",e),x1=e=>{const n=Xb("ownerDocument.defaultView",e);return Z(e)&&(sh(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Lx(e).constructor.name))},Df=8,Rf=9,ca=11,Sl=1,ih=3,er=e=>e.dom.nodeName.toLowerCase(),Hd=e=>e.dom.nodeType,ah=e=>n=>Hd(n)===e,lh=e=>Hd(e)===Df||er(e)==="#comment",Ba=e=>Hs(e)&&x1(e.dom),Hs=ah(Sl),us=ah(ih),Zi=ah(Rf),ns=ah(ca),Nf=e=>n=>Hs(n)&&er(n)===e,Fm=(e,n,o)=>{if(ue(o)||Me(o)||R(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},_i=(e,n,o)=>{Fm(e.dom,n,o)},Fa=(e,n)=>{const o=e.dom;ur(n,(a,c)=>{Fm(o,c,a)})},Oa=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},fu=(e,n)=>Q.from(Oa(e,n)),Ud=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Lo=(e,n)=>{e.dom.removeAttribute(n)},di=e=>{const n=e.dom.attributes;return n==null||n.length===0},kl=e=>sn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Wd=(e,n)=>{const o=Oa(e,n);return o===void 0||o===""?[]:o.split(" ")},Gi=(e,n,o)=>{const c=Wd(e,n).concat([o]);return _i(e,n,c.join(" ")),!0},Hn=(e,n,o)=>{const a=qe(Wd(e,n),c=>c!==o);return a.length>0?_i(e,n,a.join(" ")):Lo(e,n),!1},Pc=e=>e.dom.classList!==void 0,Lc=e=>Wd(e,"class"),Or=(e,n)=>Gi(e,"class",n),Sp=(e,n)=>Hn(e,"class",n),Jb=(e,n)=>xe(Lc(e),n)?Sp(e,n):Or(e,n),Kd=(e,n)=>{Pc(e)?e.dom.classList.add(n):Or(e,n)},Ho=e=>{(Pc(e)?e.dom.classList:Lc(e)).length===0&&Lo(e,"class")},$a=(e,n)=>{Pc(e)?e.dom.classList.remove(n):Sp(e,n),Ho(e)},kp=(e,n)=>{const o=Pc(e)?e.dom.classList.toggle(n):Jb(e,n);return Ho(e),o},jd=(e,n)=>Pc(e)&&e.dom.classList.contains(n),Qb=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return gu(a.childNodes[0])},mu=(e,n)=>{const a=(n||document).createElement(e);return gu(a)},il=(e,n)=>{const a=(n||document).createTextNode(e);return gu(a)},gu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ke={fromHtml:Qb,fromTag:mu,fromText:il,fromDom:gu,fromPoint:(e,n,o)=>Q.from(e.dom.elementFromPoint(n,o)).map(gu)},$m=(e,n)=>{const o=[],a=g=>(o.push(g),n(g));let c=n(e);do c=c.bind(a);while(c.isSome());return o},Br=(e,n)=>{const o=e.dom;if(o.nodeType!==Sl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},ev=e=>e.nodeType!==Sl&&e.nodeType!==Rf&&e.nodeType!==ca||e.childElementCount===0,ch=(e,n)=>{const o=n===void 0?document:n.dom;return ev(o)?[]:$e(o.querySelectorAll(e),Ke.fromDom)},hu=(e,n)=>{const o=n===void 0?document:n.dom;return ev(o)?Q.none():Q.from(o.querySelector(e)).map(Ke.fromDom)},tr=(e,n)=>e.dom===n.dom,ua=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},Qu=e=>Ke.fromDom(e.dom.ownerDocument),fc=e=>Zi(e)?e:Qu(e),ed=e=>Ke.fromDom(fc(e).dom.documentElement),td=e=>Ke.fromDom(fc(e).dom.defaultView),da=e=>Q.from(e.dom.parentNode).map(Ke.fromDom),Lf=e=>Q.from(e.dom.parentElement).map(Ke.fromDom),Vm=(e,n)=>{const o=ze(n)?n:On;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const g=a.parentNode,p=Ke.fromDom(g);if(c.push(p),o(p)===!0)break;a=g}return c},tv=e=>{const n=o=>qe(o,a=>!tr(e,a));return da(e).map(fa).map(n).getOr([])},Si=e=>Q.from(e.dom.previousSibling).map(Ke.fromDom),Gn=e=>Q.from(e.dom.nextSibling).map(Ke.fromDom),nd=e=>Zr($m(e,Si)),zm=e=>$m(e,Gn),fa=e=>$e(e.dom.childNodes,Ke.fromDom),od=(e,n)=>{const o=e.dom.childNodes;return Q.from(o[n]).map(Ke.fromDom)},Kl=e=>od(e,0),rd=e=>od(e,e.dom.childNodes.length-1),Zd=e=>e.dom.childNodes.length,ki=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ke.fromDom(n)},mc=e=>ns(e)&&Ae(e.dom.host),pu=e=>Ke.fromDom(e.dom.getRootNode()),Hm=e=>mc(e)?e:ki(fc(e)),w1=e=>mc(e)?e:Ke.fromDom(fc(e).dom.body),sd=e=>{const n=pu(e);return mc(n)?Q.some(n):Q.none()},Mf=e=>Ke.fromDom(e.dom.host),nv=e=>{if(Ae(e.target)){const n=Ke.fromDom(e.target);if(Hs(n)&&_s(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return En(o)}}return Q.from(e.target)},_s=e=>Ae(e.dom.shadowRoot),Va=e=>{const n=us(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return sd(Ke.fromDom(n)).fold(()=>o.body.contains(n),Gt(Va,Mf))};var Ia=(e,n,o,a,c)=>e(o,a)?Q.some(o):ze(c)&&c(o)?Q.none():n(o,a,c);const al=(e,n,o)=>{let a=e.dom;const c=ze(o)?o:On;for(;a.parentNode;){a=a.parentNode;const g=Ke.fromDom(a);if(n(g))return Q.some(g);if(c(g))break}return Q.none()},bi=(e,n,o)=>Ia((c,g)=>g(c),al,e,n,o),Ep=(e,n)=>{const o=e.dom;return o.parentNode?fi(Ke.fromDom(o.parentNode),a=>!tr(e,a)&&n(a)):Q.none()},fi=(e,n)=>{const o=c=>n(Ke.fromDom(c));return bn(e.dom.childNodes,o).map(Ke.fromDom)},qi=(e,n)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const g=Ke.fromDom(a.childNodes[c]);if(n(g))return Q.some(g);const p=o(a.childNodes[c]);if(p.isSome())return p}return Q.none()};return o(e.dom)},bu=(e,n,o)=>al(e,a=>Br(a,n),o),Mt=(e,n)=>hu(n,e),Yi=(e,n,o)=>Ia((c,g)=>Br(c,g),bu,e,n,o),Ap=e=>Yi(e,"[contenteditable]"),Ss=(e,n=!1)=>Va(e)?e.dom.isContentEditable:Ap(e).fold(ut(n),o=>id(o)==="true"),id=e=>e.dom.contentEditable,za=e=>e.style!==void 0&&ze(e.style.getPropertyValue),Mc=(e,n,o)=>{if(!ue(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);za(e)&&e.style.setProperty(n,o)},Um=(e,n)=>{za(e)&&e.style.removeProperty(n)},ll=(e,n,o)=>{const a=e.dom;Mc(a,n,o)},Yo=(e,n)=>{const o=e.dom;ur(n,(a,c)=>{Mc(o,c,a)})},Us=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Va(e)?Bf(o,n):c},Bf=(e,n)=>za(e)?e.style.getPropertyValue(n):"",Fs=(e,n)=>{const o=e.dom,a=Bf(o,n);return Q.from(a).filter(c=>c.length>0)},uh=e=>{const n={},o=e.dom;if(za(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);n[c]=o.style[c]}return n},vu=(e,n)=>{const o=e.dom;Um(o,n),Tf(fu(e,"style").map(He),"")&&Lo(e,"style")},C1=e=>e.dom.offsetWidth,Is=(e,n)=>{da(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},dt=(e,n)=>{Gn(e).fold(()=>{da(e).each(c=>{Ws(c,n)})},a=>{Is(a,n)})},Ha=(e,n)=>{Kl(e).fold(()=>{Ws(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},Ws=(e,n)=>{e.dom.appendChild(n.dom)},ec=(e,n)=>{Is(e,n),Ws(n,e)},Bc=(e,n)=>{be(n,(o,a)=>{const c=a===0?e:n[a-1];dt(c,o)})},ri=(e,n)=>{be(n,o=>{Ws(e,o)})},os=e=>{e.dom.textContent="",be(fa(e),n=>{Pr(n)})},Pr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ua=e=>{const n=fa(e);n.length>0&&Bc(e,n),Pr(e)},tc=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,fa(Ke.fromDom(a))},yu=e=>$e(e,Ke.fromDom),Gd=e=>e.dom.innerHTML,Wm=(e,n)=>{const a=Qu(e).dom,c=Ke.fromDom(a.createDocumentFragment()),g=tc(n,a);ri(c,g),os(e),Ws(e,c)},dh=e=>{const n=Ke.fromTag("div"),o=Ke.fromDom(e.dom.cloneNode(!0));return Ws(n,o),Gd(n)},fh=(e,n,o,a,c,g,p)=>({target:e,x:n,y:o,stop:a,prevent:c,kill:g,raw:p}),ov=e=>{const n=Ke.fromDom(nv(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Ot(a,o);return fh(n,e.clientX,e.clientY,o,a,c,e)},rv=(e,n)=>o=>{e(o)&&n(ov(o))},ad=(e,n,o,a,c)=>{const g=rv(o,a);return e.dom.addEventListener(n,g,c),{unbind:tt(G,e,n,g,c)}},L=(e,n,o,a)=>ad(e,n,o,a,!1),G=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},le=(e,n)=>({left:e,top:n,translate:(a,c)=>le(e+a,n+c)}),Le=le,Qe=e=>{const n=e.getBoundingClientRect();return Le(n.left,n.top)},Bt=(e,n)=>e!==void 0?e:n!==void 0?n:0,Yn=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,c=n.documentElement;if(o===e.dom)return Le(o.offsetLeft,o.offsetTop);const g=Bt(a==null?void 0:a.pageYOffset,c.scrollTop),p=Bt(a==null?void 0:a.pageXOffset,c.scrollLeft),_=Bt(c.clientTop,o.clientTop),A=Bt(c.clientLeft,o.clientLeft);return So(e).translate(p-A,g-_)},So=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?Le(a.offsetLeft,a.offsetTop):Va(e)?Qe(n):Le(0,0)},mo=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return Le(o,a)},Pn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},wr=(e,n)=>{ia().browser.isSafari()&&ze(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ks=e=>{const n=e===void 0?window:e;return ia().browser.isFirefox()?Q.none():Q.from(n.visualViewport)},ks=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),Fc=e=>{const n=e===void 0?window:e,o=n.document,a=mo(Ke.fromDom(o));return Ks(n).fold(()=>{const c=n.document.documentElement,g=c.clientWidth,p=c.clientHeight;return ks(a.left,a.top,g,p)},c=>ks(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},Km=(e,n)=>qe(fa(e),n),jm=(e,n)=>{let o=[];return be(fa(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(jm(a,n))}),o},vi=(e,n)=>ch(n,e),qC=(e,n,o)=>al(e,n,o).isSome(),sv=(e,n)=>Ep(e,n).isSome(),_1=(e,n)=>qi(e,n).isSome();class ma{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let g=n[a];if(g)return g;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(g=p[a],g)return g}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let g=a.lastChild;g;g=g.lastChild)if(!g.lastChild)return g}return a}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Ds="\uFEFF",Ni="",ld=e=>e===Ds,Tp=e=>e.replace(/\uFEFF/g,""),Mx=/^[ \t\r\n]*$/,gc=e=>Mx.test(e),El=e=>{for(const n of e)if(!ld(n))return!1;return!0},iv=e=>" \f	\v".indexOf(e)!==-1,Ff=e=>e===`
`||e==="\r",zE=(e,n)=>n<e.length&&n>=0?Ff(e[n]):!1,av=(e,n=4,o=!0,a=!0)=>{const c=an(" ",n),g=e.replace(/\t/g,c);return sn(g,(_,A)=>iv(A)||A===Ni?_.pcIsSpace||_.str===""&&o||_.str.length===g.length-1&&a||zE(g,_.str.length+1)?{pcIsSpace:!1,str:_.str+Ni}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:Ff(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},qd=e=>n=>!!n&&n.nodeType===e,$f=e=>!!e&&!Object.getPrototypeOf(e),Nn=qd(1),xu=e=>Nn(e)&&Ba(Ke.fromDom(e)),lv=e=>Nn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Vf=e=>{const n=e.toLowerCase();return o=>Ae(o)&&o.nodeName.toLowerCase()===n},ga=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return xe(n,a)}return!1}},$c=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(Nn(a)){const c=a.ownerDocument.defaultView;if(c)for(let g=0;g<o.length;g++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[g])return!0}}return!1}},mh=e=>n=>Nn(n)&&n.hasAttribute(e),zf=e=>Nn(e)&&e.hasAttribute("data-mce-bogus"),S1=e=>Nn(e)&&e.getAttribute("data-mce-bogus")==="all",wu=e=>Nn(e)&&e.tagName==="TABLE",Op=e=>n=>!!(xu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Ip=ga(["textarea","input"]),jt=qd(3),Bx=qd(4),Hf=qd(7),No=qd(8),Bn=qd(9),Uf=qd(11),bs=Vf("br"),Vc=Vf("img"),zc=Op("true"),xo=Op("false"),Dp=ga(["td","th"]),YC=ga(["td","th","caption"]),It=ga(["video","audio","object","embed"]),Fx=Vf("li"),Rp=Vf("details"),Np=Vf("summary"),gh={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Zm=(e,n,o)=>{const a=Ke.fromDom(n),c=Ke.fromDom(e),g=o.getWhitespaceElements();return qC(c,_=>fo(g,er(_)),tt(tr,a))},XC=e=>Nn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Wf=(e,n)=>Nn(e)&&fo(n.getNonEmptyElements(),e.nodeName),as=mh("data-mce-bookmark"),cd=e=>Lf(Ke.fromDom(e)).exists(n=>!Ss(n)),k1=(e,n,o)=>gc(e.data)&&!Zm(e,n,o),Cu=(e,n,o,a)=>jt(e)&&!k1(e,n,o)&&(!a.includeZwsp||!El(e.data)),Gm=(e,n,o,a)=>ze(a.isContent)&&a.isContent(n)||Wf(n,e)||as(n)||XC(n)||Cu(n,o,e,a)||xo(n)||zc(n)&&cd(n),hc=(e,n,o)=>{const a={...gh,...o};if(a.checkRootAsContent&&Gm(e,n,n,a))return!1;let c=n.firstChild,g=0;if(!c)return!0;const p=new ma(c,n);do{if(a.skipBogus&&Nn(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=p.next(_==="all");continue}}if(No(c)){c=p.next(!0);continue}if(bs(c)){g++,c=p.next();continue}if(Gm(e,c,n,a))return!1;c=p.next()}while(c);return g<=1},js=(e,n,o)=>hc(e,n.dom,{checkRootAsContent:!0,...o}),cv=(e,n,o)=>Gm(e,n,n,{includeZwsp:gh.includeZwsp,...o}),Pi=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},E1=e=>{const n=Pi(Q.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(Q.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(Q.some(_))}}},Hc=e=>{const n=Pi(Q.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(Q.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(Q.some(setInterval(_,e)))}}},Li=()=>{const e=E1(Ze);return{...e,on:o=>e.get().each(o)}},Yt=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},qm=e=>Yt(e)!=="html",Mi=e=>qm(e.nodeName),JC=e=>Yt(e.nodeName),QC=["svg","math"],HE=()=>{const e=Li(),n=()=>e.get().map(JC).getOr("html");return{track:c=>(Mi(c)?e.set(c):e.get().exists(g=>!g.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Yd="data-mce-block",hh=e=>qe(Xt(e),n=>!/[A-Z]/.test(n)),uv=e=>$e(hh(e),n=>{const o=CSS.escape(n);return`${o}:`+$e(QC,a=>`not(${a} ${o})`).join(":")}).join(","),A1=(e,n)=>Ae(n.querySelector(e))?(n.setAttribute(Yd,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Yd),!1),$x=(e,n)=>{const o=uv(e.getTransparentElements()),a=uv(e.getBlockElements());return qe(n.querySelectorAll(o),c=>A1(a,c))},Es=(e,n,o)=>{var a;const c=o?"lastChild":"firstChild";for(let g=n[c];g;g=g[c])if(hc(e,g,{checkRootAsContent:!0})){(a=g.parentNode)===null||a===void 0||a.removeChild(g);return}},dv=(e,n,o)=>{const a=document.createRange(),c=n.parentNode;if(c){a.setStartBefore(n),a.setEndBefore(o);const g=a.extractContents();Es(e,g,!0),a.setStartAfter(o),a.setEndAfter(n);const p=a.extractContents();Es(e,p,!1),hc(e,g,{checkRootAsContent:!0})||c.insertBefore(g,n),hc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),hc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Rs=(e,n,o)=>{const a=e.getBlockElements(),c=Ke.fromDom(n),g=_=>er(_)in a,p=_=>tr(_,c);be(yu(o),_=>{al(_,g,p).each(A=>{const $=Km(_,q=>g(q)&&!e.isValidChild(er(A),er(q)));if($.length>0){const q=Lf(A);be($,X=>{al(X,g,p).each(ne=>{dv(e,ne.dom,X.dom)})}),q.each(X=>$x(e,X.dom))}})})},cl=(e,n,o)=>{be([...o,...Kf(e,n)?[n]:[]],a=>be(vi(Ke.fromDom(a),a.nodeName.toLowerCase()),c=>{e_(e,c.dom)&&Ua(c)}))},Zs=(e,n)=>{const o=$x(e,n);Rs(e,n,o),cl(e,n,o)},pc=(e,n)=>{if(Pp(e,n)){const o=uv(e.getBlockElements());A1(o,n)}},Xd=(e,n,o)=>{const a=g=>tr(g,Ke.fromDom(n)),c=Vm(Ke.fromDom(o),a);ji(c,c.length-2).filter(Hs).fold(()=>Zs(e,n),g=>Zs(e,g.dom))},Xi=e=>e.hasAttribute(Yd),fv=(e,n)=>fo(e.getTransparentElements(),n),Pp=(e,n)=>Nn(n)&&fv(e,n.nodeName),Kf=(e,n)=>Pp(e,n)&&Xi(n),e_=(e,n)=>Pp(e,n)&&!Xi(n),Lp=(e,n)=>n.type===1&&fv(e,n.name)&&ue(n.attr(Yd)),Vx=ia().browser,T1=e=>bn(e,Hs),mv=e=>Vx.isFirefox()&&er(e)==="table"?T1(fa(e)).filter(n=>er(n)==="caption").bind(n=>T1(zm(n)).map(o=>{const a=o.dom.offsetTop,c=n.dom.offsetTop,g=n.dom.offsetHeight;return a<=c?-g:0})).getOr(0):0,O1=(e,n)=>e.children&&xe(e.children,n),zx=(e,n,o)=>{let a=0,c=0;const g=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Us(Ke.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return a=_.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,c=_.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:a,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!O1(p,o);){const _=p;a+=_.offsetLeft||0,c+=_.offsetTop||0,p=_.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!O1(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=mv(Ke.fromDom(n))}return{x:a,y:c}},Ym=(e,n={})=>{let o=0;const a={},c=Ke.fromDom(e),g=fc(c),p=Je=>{n.referrerPolicy=Je},_=Je=>{n.contentCssCors=Je},A=Je=>{Ws(Hm(c),Je)},$=Je=>{const st=Hm(c);Mt(st,"#"+Je).each(Pr)},q=Je=>Nr(a,Je).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),X=Je=>new Promise((st,ot)=>{let bt;const zt=tn._addCacheSuffix(Je),en=q(zt);a[zt]=en,en.count++;const wn=(In,Wn)=>{be(In,Ht),en.status=Wn,en.passed=[],en.failed=[],bt&&(bt.onload=null,bt.onerror=null,bt=null)},Rt=()=>wn(en.passed,2),Ct=()=>wn(en.failed,3);if(st&&en.passed.push(st),ot&&en.failed.push(ot),en.status===1)return;if(en.status===2){Rt();return}if(en.status===3){Ct();return}en.status=1;const $t=Ke.fromTag("link",g.dom);Fa($t,{rel:"stylesheet",type:"text/css",id:en.id}),n.contentCssCors&&_i($t,"crossOrigin","anonymous"),n.referrerPolicy&&_i($t,"referrerpolicy",n.referrerPolicy),bt=$t.dom,bt.onload=Rt,bt.onerror=Ct,A($t),_i($t,"href",zt)}),ne=(Je,st)=>{const ot=q(Je);a[Je]=ot,ot.count++;const bt=Ke.fromTag("style",g.dom);Fa(bt,{rel:"stylesheet",type:"text/css",id:ot.id}),bt.dom.innerHTML=st,A(bt)},ve=Je=>Promise.allSettled($e(Je,ot=>X(ot).then(ut(ot)))).then(ot=>{const bt=Re(ot,zt=>zt.status==="fulfilled");return bt.fail.length>0?Promise.reject($e(bt.fail,zt=>zt.reason)):$e(bt.pass,zt=>zt.value)}),Ee=Je=>{const st=tn._addCacheSuffix(Je);Nr(a,st).each(ot=>{--ot.count===0&&(delete a[st],$(ot.id))})};return{load:X,loadRawCss:ne,loadAll:ve,unload:Ee,unloadRawCss:Je=>{Nr(a,Je).each(st=>{--st.count===0&&(delete a[Je],$(st.id))})},unloadAll:Je=>{be(Je,st=>{Ee(st)})},_setReferrerPolicy:p,_setContentCssCors:_}},I1=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const g=pu(o).dom;return Q.from(e.get(g)).getOrThunk(()=>{const p=Ym(g,a);return e.set(g,p),p})}}})(),D1=e=>e.nodeName.toLowerCase()==="span",Hx=(e,n)=>Ae(e)&&(cv(n,e)||n.isInline(e.nodeName.toLowerCase())),Ux=(e,n,o)=>{const a=new ma(e,n).prev(!1),c=new ma(e,n).next(!1),g=Ye(a)||Hx(a,o),p=Ye(c)||Hx(c,o);return g&&p},gv=e=>D1(e)&&e.getAttribute("data-mce-type")==="bookmark",Wx=(e,n,o)=>jt(e)&&e.data.length>0&&Ux(e,n,o),Kx=e=>Nn(e)?e.childNodes.length>0:!1,hv=e=>Uf(e)||Bn(e),Mp=(e,n,o,a)=>{var c;const g=a||n;if(Nn(n)&&gv(n))return n;const p=n.childNodes;for(let _=p.length-1;_>=0;_--)Mp(e,p[_],o,g);if(Nn(n)){const _=n.childNodes;_.length===1&&gv(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!hv(n)&&!cv(o,n)&&!Kx(n)&&!Wx(n,g,o)&&e.remove(n),n},jx=tn.makeMap,pv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xm=/[<>&\"\']/g,Bp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Jd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ph={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},bh=e=>{const n=Ke.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Qd=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let c=0;c<a.length;c+=2){const g=String.fromCharCode(parseInt(a[c],n));if(!Jd[g]){const p="&"+a[c+1]+";";o[g]=p,o[p]=g}}return o}else return},jf=Qd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),vv=(e,n)=>e.replace(n?pv:bv,o=>Jd[o]||o),WE=e=>(""+e).replace(Xm,n=>Jd[n]||n),yv=(e,n)=>e.replace(n?pv:bv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Jd[o]||"&#"+o.charCodeAt(0)+";"),Uc=(e,n,o)=>{const a=o||jf;return e.replace(n?pv:bv,c=>Jd[c]||a[c]||c)},vh={encodeRaw:vv,encodeAllRaw:WE,encodeNumeric:yv,encodeNamed:Uc,getEncodeFunc:(e,n)=>{const o=Qd(n)||jf,a=(p,_)=>p.replace(_?pv:bv,A=>Jd[A]!==void 0?Jd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(p,_)=>Uc(p,_,o),g=jx(e.replace(/\+/g,","));return g.named&&g.numeric?a:g.named?n?c:Uc:g.numeric?yv:vv},decode:e=>e.replace(Bp,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Zx[o]||String.fromCharCode(o)):ph[n]||jf[n]||bh(n))},ha=(e,n)=>(e=tn.trim(e),e?e.split(n||" "):[]),yh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),xh=e=>Z(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",R1=e=>{const n=o=>re(o)?$e(o,n):xh(o)?new RegExp(o.source,o.flags):Z(o)?Yl(o,n):o;return n(e)},nr=e=>{const n=/^(~)?(.+)$/;return Fo(ha(e,","),o=>{const a=n.exec(o);if(a){const g=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:g,name:p}]}else return[]})},Al=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),ud=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:a}},Da=e=>{const{blockContent:n,phrasingContent:o,flowContent:a}=ud(e),c=g=>Object.freeze(g.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(a)})},Xr={html4:Hl(()=>Da("html4")),html5:Hl(()=>Da("html5")),"html5-strict":Hl(()=>Da("html5-strict"))},xv=(e,n)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=Xr[e]();return n==="blocks"?Q.some(o):n==="phrasing"?Q.some(a):n==="flow"?Q.some(c):Q.none()},n_=e=>{const n=Al(e),{phrasingContent:o,flowContent:a}=ud(e),c={},g=(A,$,q)=>{c[A]={attributes:ti($,ut({})),attributesOrder:$,children:ti(q,ut({}))}},p=(A,$="",q="")=>{const X=ha(q),ne=ha(A);let ve=ne.length;const Ee=[...n,...ha($)];for(;ve--;)g(ne[ve],Ee.slice(),X)},_=(A,$)=>{const q=ha(A),X=ha($);let ne=q.length;for(;ne--;){const ve=c[q[ne]];for(let Ee=0,ye=X.length;Ee<ye;Ee++)ve.attributes[X[Ee]]={},ve.attributesOrder.push(X[Ee])}};return e!=="html5-strict"&&(be(ha("acronym applet basefont big font strike tt"),q=>{p(q,"",o)}),be(ha("center dir isindex noframes"),q=>{p(q,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),g("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&be([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),be(ha("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},KE=e=>e==="-"?"remove":"add",ds=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Q.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},N1=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Fo(ha(e,","),o=>{const a=n.exec(o);if(a){const c=a[1],g=c?KE(c):"replace",p=a[2],_=Fo(ha(a[3],"|"),A=>ds(A).toArray());return[{operation:g,name:p,validChildren:_}]}else return[]})},qx=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:g}=n;return be(ha(e,"|"),p=>{const _=o.exec(p);if(_){const A={},$=_[1],q=_[2].replace(/[\\:]:/g,":"),X=_[3],ne=_[4];if($==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(q),A.required=!0),$==="-"){delete c[q],g.splice(tn.inArray(g,q),1);return}if(X&&(X==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:q,value:ne}),A.defaultValue=ne):X==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:q,value:ne}),A.forcedValue=ne):X==="<"&&(A.validValues=tn.makeMap(ne,"?"))),a.test(q)){const ve=A;n.attributePatterns=n.attributePatterns||[],ve.pattern=yh(q),n.attributePatterns.push(ve)}else c[q]||g.push(q),c[q]=A}})},Jm=(e,n)=>{ur(e.attributes,(o,a)=>{n.attributes[a]=o}),n.attributesOrder.push(...e.attributesOrder)},Wc=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Fo(ha(n,","),a=>{const c=o.exec(a);if(c){const g=c[1],p=c[2],_=c[3],A=c[4],$=c[5],q={attributes:{},attributesOrder:[]};if(e.each(X=>Jm(X,q)),g==="#"?q.paddEmpty=!0:g==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),$&&qx($,q),_&&(q.outputName=p),p==="@")if(e.isNone())e=Q.some(q);else return[];return[_?{name:p,element:q,aliasName:_}:{name:p,element:q}]}else return[]})},Fp={},_n=tn.makeMap,_u=tn.each,Yx=tn.extend,P1=tn.explode,$p=(e,n={})=>{const o=_n(e," ",_n(e.toUpperCase()," "));return Yx(o,n)},L1=e=>$p("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),wh=(e,n)=>{if(e){const o={};return ue(e)&&(e={"*":e}),_u(e,(a,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?_n(a,/[, ]/):P1(a,/[, ]/)}),o}else return},Kc=(e={})=>{var n;const o={},a={};let c=[];const g={},p={},_=(Zn,mr,Xs)=>{const wi=e[Zn];if(wi)return _n(wi,/[, ]/,_n(wi.toUpperCase(),/[, ]/));{let na=Fp[Zn];return na||(na=$p(mr,Xs),Fp[Zn]=na),na}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",$=n_(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=wh(e.valid_styles),X=wh(e.invalid_styles,"map"),ne=wh(e.valid_classes,"map"),ve=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ee=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),De=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Je="td th iframe video audio object script code",st=_("non_empty_elements",Je+" pre svg textarea summary",ye),ot=_("move_caret_before_on_enter_elements",Je+" table",ye),bt="h1 h2 h3 h4 h5 h6",zt=_("text_block_elements",bt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),en=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",zt),wn=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Rt=_("transparent_elements","a ins del canvas map"),Ct=_("wrap_block_elements","pre "+bt);_u("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Zn=>{p[Zn]=new RegExp("</"+Zn+"[^>]*>","gi")});const $t=Zn=>{const mr=Q.from(o["@"]),Xs=/[*?+]/;be(Wc(mr,Zn??""),({name:wi,element:na,aliasName:pl})=>{if(pl&&(o[pl]=na),Xs.test(wi)){const Vi=na;Vi.pattern=yh(wi),c.push(Vi)}else o[wi]=na})},In=Zn=>{c=[],be(Xt(o),mr=>{delete o[mr]}),$t(Zn)},Wn=(Zn,mr)=>{var Xs,wi;delete Fp.text_block_elements,delete Fp.block_elements;const na=mr.extends?!Td(mr.extends):!1,pl=mr.extends;if(a[Zn]=pl?a[pl]:{},g[Zn]=pl??Zn,st[Zn.toUpperCase()]={},st[Zn]={},na||(en[Zn.toUpperCase()]={},en[Zn]={}),pl&&!o[Zn]&&o[pl]){const Vi=R1(o[pl]);delete Vi.removeEmptyAttrs,delete Vi.removeEmpty,o[Zn]=Vi}else o[Zn]={attributesOrder:[],attributes:{}};if(re(mr.attributes)){const Vi=Ec=>{zi.attributesOrder.push(Ec),zi.attributes[Ec]={}},zi=(Xs=o[Zn])!==null&&Xs!==void 0?Xs:{};delete zi.attributesDefault,delete zi.attributesForced,delete zi.attributePatterns,delete zi.attributesRequired,zi.attributesOrder=[],zi.attributes={},be(mr.attributes,Ec=>{const Lg=Al(A);ds(Ec).each(({preset:Mg,name:Bg})=>{Mg?Bg==="global"&&be(Lg,Vi):Vi(Bg)})}),o[Zn]=zi}if(Me(mr.padEmpty)){const Vi=(wi=o[Zn])!==null&&wi!==void 0?wi:{};Vi.paddEmpty=mr.padEmpty,o[Zn]=Vi}if(re(mr.children)){const Vi={},zi=Lg=>{Vi[Lg]={}},Ec=Lg=>{xv(A,Lg).each(Mg=>{be(Mg,zi)})};be(mr.children,Lg=>{ds(Lg).each(({preset:Mg,name:Bg})=>{Mg?Ec(Bg):zi(Bg)})}),a[Zn]=Vi}pl&&ur(a,(Vi,zi)=>{Vi[pl]&&(a[zi]=Vi=Yx({},a[zi]),Vi[Zn]=Vi[pl])})},$o=Zn=>{be(nr(Zn??""),({name:mr,cloneName:Xs})=>{Wn(mr,{extends:Xs})})},jo=Zn=>{Z(Zn)?ur(Zn,(mr,Xs)=>Wn(Xs,mr)):ue(Zn)&&$o(Zn)},Lr=Zn=>{be(N1(Zn??""),({operation:mr,name:Xs,validChildren:wi})=>{const na=mr==="replace"?{"#comment":{}}:a[Xs],pl=zi=>{mr==="remove"?delete na[zi]:na[zi]={}},Vi=zi=>{xv(A,zi).each(Ec=>{be(Ec,pl)})};be(wi,({preset:zi,name:Ec})=>{zi?Vi(Ec):pl(Ec)}),a[Xs]=na})},Kr=Zn=>{const mr=o[Zn];if(mr)return mr;let Xs=c.length;for(;Xs--;){const wi=c[Xs];if(wi.pattern.test(Zn))return wi}},gi=()=>{e.valid_elements?(In(e.valid_elements),_u($,(Zn,mr)=>{a[mr]=Zn.children})):(_u($,(Zn,mr)=>{o[mr]={attributes:Zn.attributes,attributesOrder:Zn.attributesOrder},a[mr]=Zn.children}),_u(ha("strong/b em/i"),Zn=>{const mr=ha(Zn,"/");o[mr[1]].outputName=mr[0]}),_u(wn,(Zn,mr)=>{o[mr]&&(e.padd_empty_block_inline_children&&(o[mr].paddInEmptyBlock=!0),o[mr].removeEmpty=!0)}),_u(ha("ol ul blockquote a table tbody"),Zn=>{o[Zn]&&(o[Zn].removeEmpty=!0)}),_u(ha("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Zn=>{o[Zn]&&(o[Zn].paddEmpty=!0)}),_u(ha("span"),Zn=>{o[Zn].removeEmptyAttrs=!0})),delete o.svg,jo(e.custom_elements),Lr(e.valid_children),$t(e.extended_valid_elements),Lr("+ol[ul|ol],+ul[ul|ol]"),_u({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Zn,mr)=>{o[mr]&&(o[mr].parentsRequired=ha(Zn))}),e.invalid_elements&&_u(P1(e.invalid_elements),Zn=>{o[Zn]&&delete o[Zn]}),Kr("span")||$t("span[!data-mce-type|*]")},Ll=ut(q),es=ut(X),ln=ut(ne),Vn=ut(De),Cr=ut(en),fn=ut(zt),Qn=ut(wn),Wo=ut(Object.seal(ye)),yn=ut(Ee),Vo=ut(st),Zo=ut(ot),La=ut(ve),Ur=ut(Rt),Ca=ut(Ct),vm=ut(Object.seal(p)),sp=(Zn,mr)=>{const Xs=a[Zn.toLowerCase()];return!!(Xs&&Xs[mr.toLowerCase()])},kc=(Zn,mr)=>{const Xs=Kr(Zn);if(Xs)if(mr){if(Xs.attributes[mr])return!0;const wi=Xs.attributePatterns;if(wi){let na=wi.length;for(;na--;)if(wi[na].pattern.test(mr))return!0}}else return!0;return!1},Td=Zn=>fo(Cr(),Zn),ym=Zn=>!cs(Zn,"#")&&kc(Zn)&&!Td(Zn),Od=Zn=>fo(Ca(),Zn)||ym(Zn),xm=ut(g);return gi(),{type:A,children:a,elements:o,getValidStyles:Ll,getValidClasses:ln,getBlockElements:Cr,getInvalidStyles:es,getVoidElements:Wo,getTextBlockElements:fn,getTextInlineElements:Qn,getBoolAttrs:Vn,getElementRule:Kr,getSelfClosingElements:yn,getNonEmptyElements:Vo,getMoveCaretBeforeOnEnterElements:Zo,getWhitespaceElements:La,getTransparentElements:Ur,getSpecialElements:vm,isValidChild:sp,isValid:kc,isBlock:Td,isInline:ym,isWrapper:Od,getCustomElements:xm,addValidElements:$t,setValidElements:In,addCustomElements:jo,addValidChildren:Lr}},jE=e=>({value:M1(e)}),M1=e=>uu(e,"#").toUpperCase(),Xx=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},B1=e=>{const n=Xx(e.red)+Xx(e.green)+Xx(e.blue);return jE(n)},Jx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Qx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,F1=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),e2=(e,n,o,a)=>{const c=parseInt(e,10),g=parseInt(n,10),p=parseInt(o,10),_=parseFloat(a);return F1(c,g,p,_)},t2=e=>Jx.test(e)?"rgb":Qx.test(e)?"rgba":"other",o_=e=>{const n=Jx.exec(e);if(n!==null)return Q.some(e2(n[1],n[2],n[3],"1"));const o=Qx.exec(e);return o!==null?Q.some(e2(o[1],o[2],o[3],o[4])):Q.none()},ZE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wv=e=>o_(e).map(B1).map(n=>"#"+n.value).getOr(e),n2=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,g={};let p,_;const A=Ds;n&&(p=n.getValidStyles(),_=n.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let X=0;X<$.length;X++)g[$[X]]=A+X,g[A+X]=$[X];const q={parse:X=>{const ne={};let ve=!1;const Ee=e.url_converter,ye=e.url_converter_scope||q,De=(Rt,Ct,$t)=>{const In=ne[Rt+"-top"+Ct];if(!In)return;const Wn=ne[Rt+"-right"+Ct];if(!Wn)return;const $o=ne[Rt+"-bottom"+Ct];if(!$o)return;const jo=ne[Rt+"-left"+Ct];if(!jo)return;const Lr=[In,Wn,$o,jo];let Kr=Lr.length-1;for(;Kr--&&Lr[Kr]===Lr[Kr+1];);Kr>-1&&$t||(ne[Rt+Ct]=Kr===-1?Lr[0]:Lr.join(" "),delete ne[Rt+"-top"+Ct],delete ne[Rt+"-right"+Ct],delete ne[Rt+"-bottom"+Ct],delete ne[Rt+"-left"+Ct])},Je=Rt=>{const Ct=ne[Rt];if(!Ct)return;const $t=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let In=$t.length;for(;In--;)if($t[In]!==$t[0])return!1;return ne[Rt]=$t[0],!0},st=(Rt,Ct,$t,In)=>{Je(Ct)&&Je($t)&&Je(In)&&(ne[Rt]=ne[Ct]+" "+ne[$t]+" "+ne[In],delete ne[Ct],delete ne[$t],delete ne[In])},ot=Rt=>(ve=!0,g[Rt]),bt=(Rt,Ct)=>(ve&&(Rt=Rt.replace(/\uFEFF[0-9]/g,$t=>g[$t])),Ct||(Rt=Rt.replace(/\\([\'\";:])/g,"$1")),Rt),zt=Rt=>String.fromCharCode(parseInt(Rt.slice(1),16)),en=Rt=>Rt.replace(/\\[0-9a-f]+/gi,zt),wn=(Rt,Ct,$t,In,Wn,$o)=>{if(Wn=Wn||$o,Wn)return Wn=bt(Wn),"'"+Wn.replace(/\'/g,"\\'")+"'";if(Ct=bt(Ct||$t||In||""),!e.allow_script_urls){const jo=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(jo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(jo))return""}return Ee&&(Ct=Ee.call(ye,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(X){X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,ot).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,ot));let Rt;for(;Rt=a.exec(X);){a.lastIndex=Rt.index+Rt[0].length;let Ct=Rt[1].replace(c,"").toLowerCase(),$t=Rt[2].replace(c,"");if(Ct&&$t){if(Ct=en(Ct),$t=en($t),Ct.indexOf(A)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test($t)))continue;Ct==="font-weight"&&$t==="700"?$t="bold":(Ct==="color"||Ct==="background-color")&&($t=$t.toLowerCase()),t2($t)==="rgb"&&o_($t).each(In=>{$t=wv(ZE(In)).toLowerCase()}),$t=$t.replace(o,wn),ne[Ct]=ve?bt($t,!0):$t}}De("border","",!0),De("border","-width"),De("border","-color"),De("border","-style"),De("padding",""),De("margin",""),st("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:(X,ne)=>{let ve="";const Ee=(De,Je)=>{const st=Je[De];if(st)for(let ot=0,bt=st.length;ot<bt;ot++){const zt=st[ot],en=X[zt];en&&(ve+=(ve.length>0?" ":"")+zt+": "+en+";")}},ye=(De,Je)=>{if(!_||!Je)return!0;let st=_["*"];return st&&st[De]?!1:(st=_[Je],!(st&&st[De]))};return ne&&p?(Ee("*",p),Ee(ne,p)):ur(X,(De,Je)=>{De&&ye(Je,ne)&&(ve+=(ve.length>0?" ":"")+Je+": "+De+";")}),ve}};return q},Ch={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},GE=e=>e instanceof Event||ze(e.initEvent),qE=e=>e.isDefaultPrevented===nn||e.isDefaultPrevented===On,Zf=e=>it(e.preventDefault)||GE(e),Qm=(e,n)=>{const o=n??{};for(const a in e)fo(Ch,a)||(o[a]=e[a]);return Ae(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ae(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),Ae(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},$1=(e,n,o,a)=>{var c;const g=Qm(n,a);return g.type=e,it(g.target)&&(g.target=(c=g.srcElement)!==null&&c!==void 0?c:o),Zf(n)&&(g.preventDefault=()=>{g.defaultPrevented=!0,g.isDefaultPrevented=nn,ze(n.preventDefault)&&n.preventDefault()},g.stopPropagation=()=>{g.cancelBubble=!0,g.isPropagationStopped=nn,ze(n.stopPropagation)&&n.stopPropagation()},g.stopImmediatePropagation=()=>{g.isImmediatePropagationStopped=nn,g.stopPropagation()},qE(g)||(g.isDefaultPrevented=g.defaultPrevented===!0?nn:On,g.isPropagationStopped=g.cancelBubble===!0?nn:On,g.isImmediatePropagationStopped=On)),g},r_="mce-data-",o2=/^(?:mouse|contextmenu)|click/,Cv=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},ef=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},V1=e=>Ae(e)&&o2.test(e.type),yi=(e,n)=>{const o=$1(e.type,e,document,n);if(V1(e)&&Ye(e.pageX)&&!Ye(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,g=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0)}return o},$s=(e,n,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const g=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{ef(e,"DOMContentLoaded",p),ef(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};g()?p():Cv(e,"DOMContentLoaded",p),o.domLoaded||Cv(e,"load",p)};class Gf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=r_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,c){const g=this;let p;const _=window,A=ne=>{g.executeHandlers(yi(ne||_.event),$)};if(!n||jt(n)||No(n))return a;let $;n[g.expando]?$=n[g.expando]:($=g.count++,n[g.expando]=$,g.events[$]={}),c=c||n;const q=o.split(" ");let X=q.length;for(;X--;){let ne=q[X],ve=A,Ee=!1,ye=!1;if(ne==="DOMContentLoaded"&&(ne="ready"),g.domLoaded&&ne==="ready"&&n.readyState==="complete"){a.call(c,yi({type:ne}));continue}!g.hasFocusIn&&(ne==="focusin"||ne==="focusout")&&(Ee=!0,ye=ne==="focusin"?"focus":"blur",ve=De=>{const Je=yi(De||_.event);Je.type=Je.type==="focus"?"focusin":"focusout",g.executeHandlers(Je,$)}),p=g.events[$][ne],p?ne==="ready"&&g.domLoaded?a(yi({type:ne})):p.push({func:a,scope:c}):(g.events[$][ne]=p=[{func:a,scope:c}],p.fakeName=ye,p.capture=Ee,p.nativeHandler=ve,ne==="ready"?$s(n,ve,g):Cv(n,ye||ne,ve,Ee))}return n=p=null,a}unbind(n,o,a){if(!n||jt(n)||No(n))return this;const c=n[this.expando];if(c){let g=this.events[c];if(o){const p=o.split(" ");let _=p.length;for(;_--;){const A=p[_],$=g[A];if($){if(a){let q=$.length;for(;q--;)if($[q].func===a){const X=$.nativeHandler,ne=$.fakeName,ve=$.capture,Ee=$.slice(0,q).concat($.slice(q+1));Ee.nativeHandler=X,Ee.fakeName=ne,Ee.capture=ve,g[A]=Ee}}(!a||$.length===0)&&(delete g[A],ef(n,$.fakeName||A,$.nativeHandler,$.capture))}}}else ur(g,(p,_)=>{ef(n,p.fakeName||_,p.nativeHandler,p.capture)}),g={};for(const p in g)if(fo(g,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||jt(n)||No(n))return this;const c=yi({type:o,target:n},a);do{const g=n[this.expando];g&&this.executeHandlers(c,g),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||jt(n)||No(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],c=a&&a[n.type];if(c)for(let g=0,p=c.length;g<p;g++){const _=c[g];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Gf.Event=new Gf;const r2=tn.each,z1=tn.grep,Ji="data-mce-style",ul=tn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),_h=(e,n,o)=>{it(o)||o===""?Lo(e,n):_i(e,n,o)},qf=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),eg=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const g=c.nodeType;n&&jt(c)&&(g===a||!c.data.length)||(o++,a=g)}return o},H1=(e,n)=>{const o=Oa(n,"style"),a=e.serialize(e.parse(o),er(n));_h(n,Ji,a)},s_=(e,n)=>R(e)?fo(ul,n)?e+"":e+"px":e,s2=(e,n,o)=>{const a=qf(n);it(o)||o===""?vu(e,a):ll(e,a,s_(o,a))},tg=(e,n,o)=>{const a=n.keep_values,c={set:(p,_,A)=>{const $=Ke.fromDom(p);ze(n.url_converter)&&Ae(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),A,p));const q="data-mce-"+A;_h($,q,_),_h($,A,_)},get:(p,_)=>{const A=Ke.fromDom(p);return Oa(A,"data-mce-"+_)||Oa(A,_)}},g={style:{set:(p,_)=>{const A=Ke.fromDom(p);a&&_h(A,Ji,_),Lo(A,"style"),ue(_)&&Yo(A,e.parse(_))},get:p=>{const _=Ke.fromDom(p),A=Oa(_,Ji)||Oa(_,"style");return e.serialize(e.parse(A),er(_))}}};return a&&(g.href=g.src=c),g},Jr=(e,n={})=>{const o={},a=window,c={};let g=0;const p=!0,_=!0,A=I1.forElement(Ke.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],q=n.schema?n.schema:Kc({}),X=n2({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ne=n.ownEvents?new Gf:Gf.Event,ve=q.getBlockElements(),Ee=wt=>ue(wt)?fo(ve,wt):Nn(wt)&&(fo(ve,wt.nodeName)||Kf(q,wt)),ye=wt=>wt&&e&&ue(wt)?e.getElementById(wt):wt,De=wt=>{const _t=ye(wt);return Ae(_t)?Ke.fromDom(_t):null},Je=(wt,_t,rn="")=>{let Qt;const ro=De(wt);if(Ae(ro)&&Hs(ro)){const rr=lI[_t];rr&&rr.get?Qt=rr.get(ro.dom,_t):Qt=Oa(ro,_t)}return Ae(Qt)?Qt:rn},st=wt=>{const _t=ye(wt);return it(_t)?[]:_t.attributes},ot=(wt,_t,rn)=>{Vn(wt,Qt=>{if(Nn(Qt)){const ro=Ke.fromDom(Qt),rr=rn===""?null:rn,Js=Oa(ro,_t),Fg=lI[_t];Fg&&Fg.set?Fg.set(ro.dom,rr,_t):_h(ro,_t,rr),Js!==rr&&n.onSetAttrib&&n.onSetAttrib({attrElm:ro.dom,attrName:_t,attrValue:rr})}})},bt=(wt,_t)=>wt.cloneNode(_t),zt=()=>n.root_element||e.body,en=wt=>{const _t=Fc(wt);return{x:_t.x,y:_t.y,w:_t.width,h:_t.height}},wn=(wt,_t)=>zx(e.body,ye(wt),_t),Rt=(wt,_t,rn)=>{Vn(wt,Qt=>{const ro=Ke.fromDom(Qt);s2(ro,_t,rn),n.update_styles&&H1(X,ro)})},Ct=(wt,_t)=>{Vn(wt,rn=>{const Qt=Ke.fromDom(rn);ur(_t,(ro,rr)=>{s2(Qt,rr,ro)}),n.update_styles&&H1(X,Qt)})},$t=(wt,_t,rn)=>{const Qt=ye(wt);if(!(it(Qt)||!xu(Qt)&&!lv(Qt)))return rn?Us(Ke.fromDom(Qt),qf(_t)):(_t=_t.replace(/-(\D)/g,(ro,rr)=>rr.toUpperCase()),_t==="float"&&(_t="cssFloat"),Qt.style?Qt.style[_t]:void 0)},In=wt=>{const _t=ye(wt);if(!_t)return{w:0,h:0};let rn=$t(_t,"width"),Qt=$t(_t,"height");return(!rn||rn.indexOf("px")===-1)&&(rn="0"),(!Qt||Qt.indexOf("px")===-1)&&(Qt="0"),{w:parseInt(rn,10)||_t.offsetWidth||_t.clientWidth,h:parseInt(Qt,10)||_t.offsetHeight||_t.clientHeight}},Wn=wt=>{const _t=ye(wt),rn=wn(_t),Qt=In(_t);return{x:rn.x,y:rn.y,w:Qt.w,h:Qt.h}},$o=(wt,_t)=>{if(!wt)return!1;const rn=re(wt)?wt:[wt];return Te(rn,Qt=>Br(Ke.fromDom(Qt),_t))},jo=(wt,_t,rn,Qt)=>{const ro=[];let rr=ye(wt);Qt=Qt===void 0;const Js=rn||(zt().nodeName!=="BODY"?zt().parentNode:null);if(ue(_t))if(_t==="*")_t=Nn;else{const Fg=_t;_t=pB=>$o(pB,Fg)}for(;rr&&!(rr===Js||it(rr.nodeType)||Bn(rr)||Uf(rr));){if(!_t||_t(rr))if(Qt)ro.push(rr);else return[rr];rr=rr.parentNode}return Qt?ro:null},Lr=(wt,_t,rn)=>{const Qt=jo(wt,_t,rn,!1);return Qt&&Qt.length>0?Qt[0]:null},Kr=(wt,_t,rn)=>{let Qt=_t;if(wt){ue(_t)&&(Qt=ro=>$o(ro,_t));for(let ro=wt[rn];ro;ro=ro[rn])if(ze(Qt)&&Qt(ro))return ro}return null},gi=(wt,_t)=>Kr(wt,_t,"nextSibling"),Ll=(wt,_t)=>Kr(wt,_t,"previousSibling"),es=wt=>ze(wt.querySelectorAll),ln=(wt,_t)=>{var rn,Qt;const ro=(Qt=(rn=ye(_t))!==null&&rn!==void 0?rn:n.root_element)!==null&&Qt!==void 0?Qt:e;return es(ro)?Oo(ro.querySelectorAll(wt)):[]},Vn=function(wt,_t,rn){const Qt=rn??this;if(re(wt)){const ro=[];return r2(wt,(rr,Js)=>{const Fg=ye(rr);Fg&&ro.push(_t.call(Qt,Fg,Js))}),ro}else{const ro=ye(wt);return ro?_t.call(Qt,ro):!1}},Cr=(wt,_t)=>{Vn(wt,rn=>{ur(_t,(Qt,ro)=>{ot(rn,ro,Qt)})})},fn=(wt,_t)=>{Vn(wt,rn=>{const Qt=Ke.fromDom(rn);Wm(Qt,_t)})},Qn=(wt,_t,rn,Qt,ro)=>Vn(wt,rr=>{const Js=ue(_t)?e.createElement(_t):_t;return Ae(rn)&&Cr(Js,rn),Qt&&(!ue(Qt)&&Qt.nodeType?Js.appendChild(Qt):ue(Qt)&&fn(Js,Qt)),ro?Js:rr.appendChild(Js)}),Wo=(wt,_t,rn)=>Qn(e.createElement(wt),wt,_t,rn,!0),yn=vh.decode,Vo=vh.encodeAllRaw,Zo=(wt,_t,rn="")=>{let Qt="<"+wt;for(const ro in _t)Xl(_t,ro)&&(Qt+=" "+ro+'="'+Vo(_t[ro])+'"');return qt(rn)&&fo(q.getVoidElements(),wt)?Qt+" />":Qt+">"+rn+"</"+wt+">"},La=wt=>{const _t=e.createElement("div"),rn=e.createDocumentFragment();rn.appendChild(_t),wt&&(_t.innerHTML=wt);let Qt;for(;Qt=_t.firstChild;)rn.appendChild(Qt);return rn.removeChild(_t),rn},Ur=(wt,_t)=>Vn(wt,rn=>{const Qt=Ke.fromDom(rn);return _t&&be(fa(Qt),ro=>{us(ro)&&ro.dom.length===0?Pr(ro):Is(Qt,ro)}),Pr(Qt),Qt.dom}),Ca=wt=>Vn(wt,_t=>{const rn=_t.attributes;for(let Qt=rn.length-1;Qt>=0;Qt--)_t.removeAttributeNode(rn.item(Qt))}),vm=wt=>X.parse(wt),sp=(wt,_t)=>X.serialize(wt,_t),kc=wt=>{if(Ib!==Jr.DOM&&e===document){if(o[wt])return;o[wt]=!0}let _t=e.getElementById("mceDefaultStyles");if(!_t){_t=e.createElement("style"),_t.id="mceDefaultStyles",_t.type="text/css";const rn=e.head;rn.firstChild?rn.insertBefore(_t,rn.firstChild):rn.appendChild(_t)}_t.styleSheet?_t.styleSheet.cssText+=wt:_t.appendChild(e.createTextNode(wt))},Td=wt=>{wt||(wt=""),be(wt.split(","),_t=>{c[_t]=!0,A.load(_t).catch(Ze)})},ym=(wt,_t,rn)=>{Vn(wt,Qt=>{if(Nn(Qt)){const ro=Ke.fromDom(Qt),rr=_t.split(" ");be(rr,Js=>{Ae(rn)?(rn?Kd:$a)(ro,Js):kp(ro,Js)})}})},Od=(wt,_t)=>{ym(wt,_t,!0)},xm=(wt,_t)=>{ym(wt,_t,!1)},Zn=(wt,_t)=>{const rn=De(wt),Qt=_t.split(" ");return Ae(rn)&&Do(Qt,ro=>jd(rn,ro))},mr=wt=>{Vn(wt,_t=>vu(Ke.fromDom(_t),"display"))},Xs=wt=>{Vn(wt,_t=>ll(Ke.fromDom(_t),"display","none"))},wi=wt=>{const _t=De(wt);return Ae(_t)&&Tf(Fs(_t,"display"),"none")},na=wt=>(wt||"mce_")+g++,pl=wt=>{const _t=De(wt);return Ae(_t)?Nn(_t.dom)?_t.dom.outerHTML:dh(_t):""},Vi=(wt,_t)=>{Vn(wt,rn=>{Nn(rn)&&(rn.outerHTML=_t)})},zi=(wt,_t)=>{const rn=ye(_t);return Vn(wt,Qt=>{const ro=rn==null?void 0:rn.parentNode,rr=rn==null?void 0:rn.nextSibling;return ro&&(rr?ro.insertBefore(Qt,rr):ro.appendChild(Qt)),Qt})},Ec=(wt,_t,rn)=>Vn(_t,Qt=>{var ro;const rr=re(_t)?wt.cloneNode(!0):wt;return rn&&r2(z1(Qt.childNodes),Js=>{rr.appendChild(Js)}),(ro=Qt.parentNode)===null||ro===void 0||ro.replaceChild(rr,Qt),Qt}),Lg=(wt,_t)=>{if(wt.nodeName!==_t.toUpperCase()){const rn=Wo(_t);return r2(st(wt),Qt=>{ot(rn,Qt.nodeName,Je(wt,Qt.nodeName))}),Ec(rn,wt,!0),rn}else return wt},Mg=(wt,_t)=>{let rn=wt;for(;rn;){let Qt=_t;for(;Qt&&rn!==Qt;)Qt=Qt.parentNode;if(rn===Qt)break;rn=rn.parentNode}return!rn&&wt.ownerDocument?wt.ownerDocument.documentElement:rn},Bg=(wt,_t,rn)=>de(_t)?hc(q,wt,{...rn,isContent:ro=>{const rr=ro.nodeName.toLowerCase();return!!_t[rr]}}):hc(q,wt,rn),wm=()=>e.createRange(),ax=(wt,_t,rn)=>{let Qt=wm(),ro,rr;if(wt&&_t&&wt.parentNode&&_t.parentNode){const Js=wt.parentNode;return Qt.setStart(Js,eg(wt)),Qt.setEnd(_t.parentNode,eg(_t)),ro=Qt.extractContents(),Qt=wm(),Qt.setStart(_t.parentNode,eg(_t)+1),Qt.setEnd(Js,eg(wt)+1),rr=Qt.extractContents(),Js.insertBefore(Mp(Ib,ro,q),wt),rn?Js.insertBefore(rn,wt):Js.insertBefore(_t,wt),Js.insertBefore(Mp(Ib,rr,q),wt),Ur(wt),rn||_t}else return},Xk=(wt,_t,rn,Qt)=>{if(re(wt)){let ro=wt.length;const rr=[];for(;ro--;)rr[ro]=Xk(wt[ro],_t,rn,Qt);return rr}else return n.collect&&(wt===e||wt===a)&&$.push([wt,_t,rn,Qt]),ne.bind(wt,_t,rn,Qt||Ib)},Jk=(wt,_t,rn)=>{if(re(wt)){let Qt=wt.length;const ro=[];for(;Qt--;)ro[Qt]=Jk(wt[Qt],_t,rn);return ro}else{if($.length>0&&(wt===e||wt===a)){let Qt=$.length;for(;Qt--;){const[ro,rr,Js]=$[Qt];wt===ro&&(!_t||_t===rr)&&(!rn||rn===Js)&&ne.unbind(ro,rr,Js)}}return ne.unbind(wt,_t,rn)}},IH=(wt,_t,rn)=>ne.dispatch(wt,_t,rn),$0=(wt,_t,rn)=>ne.dispatch(wt,_t,rn),hB=wt=>{if(wt&&xu(wt)){const _t=wt.getAttribute("data-mce-contenteditable");return _t&&_t!=="inherit"?_t:wt.contentEditable!=="inherit"?wt.contentEditable:null}else return null},Ib={doc:e,settings:n,win:a,files:c,stdMode:p,boxModel:_,styleSheetLoader:A,boundEvents:$,styles:X,schema:q,events:ne,isBlock:Ee,root:null,clone:bt,getRoot:zt,getViewPort:en,getRect:Wn,getSize:In,getParent:Lr,getParents:jo,get:ye,getNext:gi,getPrev:Ll,select:ln,is:$o,add:Qn,create:Wo,createHTML:Zo,createFragment:La,remove:Ur,setStyle:Rt,getStyle:$t,setStyles:Ct,removeAllAttribs:Ca,setAttrib:ot,setAttribs:Cr,getAttrib:Je,getPos:wn,parseStyle:vm,serializeStyle:sp,addStyle:kc,loadCSS:Td,addClass:Od,removeClass:xm,hasClass:Zn,toggleClass:ym,show:mr,hide:Xs,isHidden:wi,uniqueId:na,setHTML:fn,getOuterHTML:pl,setOuterHTML:Vi,decode:yn,encode:Vo,insertAfter:zi,replace:Ec,rename:Lg,findCommonAncestor:Mg,run:Vn,getAttribs:st,isEmpty:Bg,createRng:wm,nodeIndex:eg,split:ax,bind:Xk,unbind:Jk,fire:$0,dispatch:IH,getContentEditable:hB,getContentEditableParent:wt=>{const _t=zt();let rn=null;for(let Qt=wt;Qt&&Qt!==_t&&(rn=hB(Qt),rn===null);Qt=Qt.parentNode);return rn},isEditable:wt=>{if(Ae(wt)){const _t=Nn(wt)?wt:wt.parentElement;return Ae(_t)&&xu(_t)&&Ss(Ke.fromDom(_t))}else return!1},destroy:()=>{if($.length>0){let wt=$.length;for(;wt--;){const[_t,rn,Qt]=$[wt];ne.unbind(_t,rn,Qt)}}ur(c,(wt,_t)=>{A.unload(_t),delete c[_t]})},isChildOf:(wt,_t)=>wt===_t||_t.contains(wt),dumpRng:wt=>"startContainer: "+wt.startContainer.nodeName+", startOffset: "+wt.startOffset+", endContainer: "+wt.endContainer.nodeName+", endOffset: "+wt.endOffset},lI=tg(X,n,ut(Ib));return Ib};Jr.DOM=Jr(document),Jr.nodeIndex=eg;const U1=Jr.DOM,fs=0,dd=1,Su=2,Sh=3;class Tl{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const c=U1;let g;const p=()=>{c.remove($),g&&(g.onerror=g.onload=g=null)},_=()=>{p(),o()},A=()=>{p(),a("Failed to load script: "+n)},$=c.uniqueId();g=document.createElement("script"),g.id=$,g.type="text/javascript",g.src=tn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(g,"referrerpolicy",this.settings.referrerPolicy),g.onload=_,g.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(g)})}isDone(n){return this.states[n]===Su}markDone(n){this.states[n]=Su}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=fs),new Promise((c,g)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:g})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(A,$)=>{Nr(o.scriptLoadedCallbacks,$).each(q=>{be(q,X=>X[A]($))}),delete o.scriptLoadedCallbacks[$]},c=A=>{const $=qe(A,q=>q.status==="rejected");return $.length>0?Promise.reject(Fo($,({reason:q})=>re(q)?q:[q])):Promise.resolve()},g=A=>Promise.allSettled($e(A,$=>o.states[$]===Su?(a("resolve",$),Promise.resolve()):o.states[$]===Sh?(a("reject",$),Promise.reject($)):(o.states[$]=dd,o.loadScript($).then(()=>{o.states[$]=Su,a("resolve",$);const q=o.queue;return q.length>0?(o.queue=[],g(q).then(c)):Promise.resolve()},()=>(o.states[$]=Sh,a("reject",$),Promise.reject($)))))),p=A=>(o.loading=!0,g(A).then($=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return Q.from(q).each(Ht),c($)})),_=Yu(n);return o.loading?new Promise((A,$)=>{o.queueLoadedCallbacks.push(()=>{p(_).then(A,$)})}):p(_)}}Tl.ScriptLoader=new Tl;const pa=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},ng=e=>Z(e)&&fo(e,"raw"),_v=e=>re(e)&&e.length>1,kh={},Sv=Pi("en"),Eh=()=>Nr(kh,Sv.get()),jc={getData:()=>Yl(kh,e=>({...e})),setCode:e=>{e&&Sv.set(e)},getCode:()=>Sv.get(),add:(e,n)=>{let o=kh[e];o||(kh[e]=o={});const a=$e(Xt(n),c=>c.toLowerCase());ur(n,(c,g)=>{const p=g.toLowerCase();p!==g&&pa(a,p)?(fo(n,p)||(o[p]=c),o[g]=c):o[p]=c})},translate:e=>{const n=Eh().getOr({}),o=p=>ze(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const _=o(p);return fo(n,_)?o(n[_]):Nr(n,_.toLowerCase()).map(o).getOr(_)},g=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(ng(e))return o(e.raw);if(_v(e)){const p=e.slice(1),_=c(e[0]).replace(/\{([0-9]+)\}/g,(A,$)=>fo(p,$)?o(p[$]):A);return g(_)}return g(c(e))},isRtl:()=>Eh().bind(e=>Nr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>fo(kh,e)},dl=()=>{const e=[],n={},o={},a=[],c=(ye,De)=>{const Je=qe(a,st=>st.name===ye&&st.state===De);be(Je,st=>st.resolve())},g=ye=>fo(n,ye),p=ye=>fo(o,ye),_=ye=>{if(o[ye])return o[ye].instance},A=(ye,De)=>{const Je=jc.getCode(),st=","+(De||"")+",";!Je||De&&st.indexOf(","+Je+",")===-1||Tl.ScriptLoader.add(n[ye]+"/langs/"+Je+".js")},$=(ye,De)=>{dl.languageLoad!==!1&&(g(ye)?A(ye,De):Ee(ye,"loaded").then(()=>A(ye,De)))},q=(ye,De)=>(e.push(De),o[ye]={instance:De},c(ye,"added"),De),X=ye=>{delete n[ye],delete o[ye]},ne=(ye,De)=>ue(De)?ue(ye)?{prefix:"",resource:De,suffix:""}:{prefix:ye.prefix,resource:De,suffix:ye.suffix}:De,ve=(ye,De)=>{if(n[ye])return Promise.resolve();let Je=ue(De)?De:De.prefix+De.resource+De.suffix;Je.indexOf("/")!==0&&Je.indexOf("://")===-1&&(Je=dl.baseURL+"/"+Je),n[ye]=Je.substring(0,Je.lastIndexOf("/"));const st=()=>(c(ye,"loaded"),Promise.resolve());return o[ye]?st():Tl.ScriptLoader.add(Je).then(st)},Ee=(ye,De="added")=>De==="added"&&p(ye)||De==="loaded"&&g(ye)?Promise.resolve():new Promise(Je=>{a.push({name:ye,state:De,resolve:Je})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:$,add:q,remove:X,createUrl:ne,load:ve,waitFor:Ee}};dl.languageLoad=!0,dl.baseURL="",dl.PluginManager=dl(),dl.ThemeManager=dl(),dl.ModelManager=dl();const Ah=(e,n)=>{let o=null;return{cancel:()=>{Ve(o)||(clearTimeout(o),o=null)},throttle:(...g)=>{Ve(o)&&(o=setTimeout(()=>{o=null,e.apply(null,g)},n))}}},Vp=(e,n)=>{let o=null;const a=()=>{Ve(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...g)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,g)},n)}}},c_=(e,n,o)=>bu(e,n,o).isSome(),Ns=ut("mce-annotation"),Ps=ut("data-mce-annotation"),si=ut("data-mce-annotation-uid"),Fr=ut("data-mce-annotation-active"),As=ut("data-mce-annotation-classes"),Gs=ut("data-mce-annotation-attrs"),W1=e=>n=>tr(n,e),K1=(e,n)=>{const o=e.selection.getRng(),a=Ke.fromDom(o.startContainer),c=Ke.fromDom(e.getBody()),g=n.fold(()=>"."+Ns(),A=>`[${Ps()}="${A}"]`),p=od(a,o.startOffset).getOr(a);return Yi(p,g,W1(c)).bind(A=>fu(A,`${si()}`).bind($=>fu(A,`${Ps()}`).map(q=>{const X=c2(e,$);return{uid:$,name:q,elements:X}})))},l2=e=>Hs(e)&&jd(e,Ns()),kv=(e,n)=>Ud(e,"data-mce-bogus")||c_(e,'[data-mce-bogus="all"]',W1(n)),c2=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=vi(o,`[${si()}="${n}"]`);return qe(a,c=>!kv(c,o))},Th=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=vi(o,`[${Ps()}="${n}"]`),c={};return be(a,g=>{if(!kv(g,o)){const p=Oa(g,si()),_=Nr(c,p).getOr([]);c[p]=_.concat([g])}}),c},j1=(e,n)=>{const o=Pi({}),a=()=>({listeners:[],previous:Li()}),c=(X,ne)=>{g(X,ve=>(ne(ve),ve))},g=(X,ne)=>{const ve=o.get(),Ee=Nr(ve,X).getOrThunk(a),ye=ne(Ee);ve[X]=ye,o.set(ve)},p=(X,ne,ve)=>{c(X,Ee=>{be(Ee.listeners,ye=>ye(!0,X,{uid:ne,nodes:$e(ve,De=>De.dom)}))})},_=X=>{c(X,ne=>{be(ne.listeners,ve=>ve(!1,X))})},A=(X,ne)=>{be(c2(e,X),ve=>{ne?_i(ve,Fr(),"true"):Lo(ve,Fr())})},$=Vp(()=>{const X=xr(n.getNames());be(X,ne=>{g(ne,ve=>{const Ee=ve.previous.get();return K1(e,Q.some(ne)).fold(()=>{Ee.each(ye=>{_(ne),ve.previous.clear(),A(ye,!1)})},({uid:ye,name:De,elements:Je})=>{Tf(Ee,ye)||(Ee.each(st=>A(st,!1)),p(De,ye,Je),ve.previous.set(ye),A(ye,!0))}),{previous:ve.previous,listeners:ve.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(X,ne)=>{g(X,ve=>({previous:ve.previous,listeners:ve.listeners.concat([ne])}))}}},Z1=(e,n)=>{const o=Ps(),a=g=>Q.from(g.attr(o)).bind(n.lookup),c=g=>{var p,_;g.attr(si(),null),g.attr(Ps(),null),g.attr(Fr(),null);const A=Q.from(g.attr(Gs())).map(ne=>ne.split(",")).getOr([]),$=Q.from(g.attr(As())).map(ne=>ne.split(",")).getOr([]);be(A,ne=>g.attr(ne,null));const q=(_=(p=g.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&_!==void 0?_:[],X=cr(q,[Ns()].concat($));g.attr("class",X.length>0?X.join(" "):null),g.attr(As(),null),g.attr(Gs(),null)};e.serializer.addTempAttr(Fr()),e.serializer.addAttributeFilter(o,g=>{for(const p of g)a(p).each(_=>{_.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},u2=()=>{const e={};return{register:(c,g)=>{e[c]={name:c,settings:g}},lookup:c=>Nr(e,c).map(g=>g.settings),getNames:()=>Xt(e)}},Ev=(e,n,o)=>Math.min(Math.max(e,n),o),Ol=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let d2=0;const Wa=e=>{const o=new Date().getTime(),a=Math.floor(Ol()*1e9);return d2++,e+"_"+a+d2+String(o)},Av=(e,n)=>{be(n,o=>{Kd(e,o)})},Oh=(e,n)=>{be(n,o=>{$a(e,o)})},ku=(e,n)=>Ke.fromDom(e.dom.cloneNode(n)),qs=e=>ku(e,!1),rg=e=>ku(e,!0),f2=(e,n)=>{const o=Ke.fromTag(n),a=kl(e);return Fa(o,a),o},m2=(e,n)=>{const o=f2(e,n);dt(e,o);const a=fa(e);return ri(o,a),Pr(e),o},Tv=(e,n,o=On)=>{const a=new ma(e,n),c=g=>{let p;do p=a[g]();while(p&&!jt(p)&&!o(p));return Q.from(p).filter(jt)};return{current:()=>Q.from(a.current()).filter(jt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},tf=(e,n)=>{const o=n||(p=>e.isBlock(p)||bs(p)||xo(p)),a=(p,_,A,$)=>{if(jt(p)){const q=$(p,_,p.data);if(q!==-1)return Q.some({container:p,offset:q})}return A().bind(q=>a(q.container,q.offset,A,$))};return{backwards:(p,_,A,$)=>{const q=Tv(p,$??e.getRoot(),o);return a(p,_,()=>q.prev().map(X=>({container:X,offset:X.length})),A).getOrNull()},forwards:(p,_,A,$)=>{const q=Tv(p,$??e.getRoot(),o);return a(p,_,()=>q.next().map(X=>({container:X,offset:0})),A).getOrNull()}}},Ov=((e,n)=>{const o=g=>{if(!e(g))throw new Error("Can only get "+n+" value of a "+n+" node");return a(g).getOr("")},a=g=>e(g)?Q.from(g.dom.nodeValue):Q.none();return{get:o,getOption:a,set:(g,p)=>{if(!e(g))throw new Error("Can only set raw "+n+" value of a "+n+" node");g.dom.nodeValue=p}}})(us,"text"),sg=e=>Ov.get(e),u_=e=>Ov.getOption(e),Iv=(e,n)=>Ov.set(e,n),Dv=["td","th"],G1=["thead","tbody","tfoot"],zp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],q1=["li","dd","dt"],Ka=["ul","ol","dl"],g2=["pre","script","textarea","style"],nf=e=>{let n;return o=>(n=n||ti(e,nn),fo(n,er(o)))},Rv=e=>er(e)==="table",fd=e=>Hs(e)&&er(e)==="br",Nv=nf(zp),Pv=nf(Ka),ig=nf(q1),Ih=nf(G1),Zc=nf(Dv),Lv=nf(g2),XE=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ke.fromDom(o)),o=o.lastChild;return n},bc=e=>{const n=vi(e,"br"),o=qe(XE(e).slice(-1),fd);n.length===o.length&&be(o,Pr)},of=()=>{const e=Ke.fromTag("br");return _i(e,"data-mce-bogus","1"),e},Gc=e=>{os(e),Ws(e,of())},h2=(e,n)=>{rd(e).each(o=>{Si(o).each(a=>{n.isBlock(er(e))&&fd(o)&&n.isBlock(er(a))&&Pr(o)})})},Ei=Ds,qc=ld,Il=Tp,JE=e=>e.insertContent(Ei,{preserve_zwsp:!0}),Yf=Nn,rf=jt,Hp=e=>(rf(e)&&(e=e.parentNode),Yf(e)&&e.hasAttribute("data-mce-caret")),ag=e=>rf(e)&&qc(e.data),nc=e=>Hp(e)||ag(e),Y1=e=>e.firstChild!==e.lastChild||!bs(e.firstChild),X1=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei),g=e.parentNode;if(n){const p=e.previousSibling;if(rf(p)){if(nc(p))return p;if(sf(p))return p.splitText(p.data.length-1)}g==null||g.insertBefore(c,e)}else{const p=e.nextSibling;if(rf(p)){if(nc(p))return p;if(Bv(p))return p.splitText(1),p}e.nextSibling?g==null||g.insertBefore(c,e.nextSibling):g==null||g.appendChild(c)}return c},Mv=e=>{const n=e.container();return jt(n)?n.data.charAt(e.offset())===Ei||e.isAtStart()&&ag(n.previousSibling):!1},J1=e=>{const n=e.container();return jt(n)?n.data.charAt(e.offset()-1)===Ei||e.isAtEnd()&&ag(n.nextSibling):!1},d_=(e,n,o)=>{var a;const g=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);g.setAttribute("data-mce-caret",o?"before":"after"),g.setAttribute("data-mce-bogus","all"),g.appendChild(of().dom);const p=n.parentNode;return o?p==null||p.insertBefore(g,n):n.nextSibling?p==null||p.insertBefore(g,n.nextSibling):p==null||p.appendChild(g),g},Bv=e=>rf(e)&&e.data[0]===Ei,sf=e=>rf(e)&&e.data[e.data.length-1]===Ei,Fv=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];zf(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},Dh=e=>e&&e.hasAttribute("data-mce-caret")?(Fv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Rh=e=>Hp(e.startContainer),Xf=Math.round,Jf=e=>e?{left:Xf(e.left),top:Xf(e.top),bottom:Xf(e.bottom),right:Xf(e.right),width:Xf(e.width),height:Xf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},$v=(e,n)=>(e=Jf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Qf=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,em=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,tm=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:em(n.top-e.bottom,e,n)},Nh=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:em(n.bottom-e.top,e,n),Q1=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Up=e=>sn(e,(n,o)=>n.fold(()=>Q.some(o),a=>{const c=Math.min(o.left,a.left),g=Math.min(o.top,a.top),p=Math.max(o.right,a.right),_=Math.max(o.bottom,a.bottom);return Q.some({top:g,right:p,bottom:_,left:c,width:p-c,height:_-g})}),Q.none()),ey=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-c)*(o-c))},p2=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Wp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Ai=(e,n)=>{if(Nn(e)&&e.hasChildNodes()){const o=e.childNodes,a=Ev(n,0,o.length-1);return o[a]}else return e},b2=(e,n)=>{if(!(n<0&&Nn(e)&&e.hasChildNodes()))return Ai(e,n)},f_=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),v2=e=>ue(e)&&e.charCodeAt(0)>=768&&f_.test(e),y2=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},nm=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},ty=zc,Vv=xo,x2=bs,QE=jt,om=ga(["script","style","textarea"]),zv=ga(["img","input","textarea","hr","iframe","video","audio","object","embed"]),m_=ga(["table"]),g_=nc,Eu=e=>g_(e)?!1:QE(e)?!om(e.parentNode):zv(e)||x2(e)||m_(e)||ny(e),w2=e=>Nn(e)&&e.getAttribute("unselectable")==="true",ny=e=>!w2(e)&&Vv(e),h_=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(ny(o))return!1;if(ty(o))return!0}return!0},Ph=e=>ny(e)?!sn(Oo(e.getElementsByTagName("*")),(n,o)=>n||ty(o),!1):!1,Kp=e=>zv(e)||Ph(e),Hv=(e,n)=>Eu(e)&&h_(e,n),p_=Nn,Au=Eu,lg=$c("display","block table"),Uv=$c("float","left right"),Wv=nm(p_,Au,Pe(Uv)),oy=Pe($c("white-space","pre pre-line pre-wrap")),Kv=jt,va=bs,ry=Jr.nodeIndex,cg=b2,ug=e=>e?e.createRange():Jr.DOM.createRng(),jv=e=>ue(e)&&/[\r\n\t ]/.test(e),sy=e=>!!e.setStart&&!!e.setEnd,Lh=e=>{const n=e.startContainer,o=e.startOffset;if(jv(e.toString())&&oy(n.parentNode)&&jt(n)){const a=n.data;if(jv(a[o-1])||jv(a[o+1]))return!0}return!1},rm=e=>{const n=e.ownerDocument,o=ug(n),a=n.createTextNode(Ni),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const g=Jf(o.getBoundingClientRect());return c.removeChild(a),g},C2=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(n===o&&jt(o)&&a===0&&c===1){const g=e.cloneRange();return g.setEndAfter(o),fl(g)}else return null},iy=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,fl=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=Jf(a[0]):o=Jf(e.getBoundingClientRect()),!sy(e)&&va(e)&&iy(o)?rm(e):iy(o)&&sy(e)&&(n=C2(e))!==null&&n!==void 0?n:o},sm=(e,n)=>{const o=$v(e,n);return o.width=1,o.right=o.left+1,o},_2=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&Qf(p,n[n.length-1])||n.push(p))},a=(p,_)=>{const A=ug(p.ownerDocument);if(_<p.data.length){if(v2(p.data[_]))return;if(v2(p.data[_-1])&&(A.setStart(p,_),A.setEnd(p,_+1),!Lh(A))){o(sm(fl(A),!1));return}}_>0&&(A.setStart(p,_-1),A.setEnd(p,_),Lh(A)||o(sm(fl(A),!1))),_<p.data.length&&(A.setStart(p,_),A.setEnd(p,_+1),Lh(A)||o(sm(fl(A),!0)))},c=e.container(),g=e.offset();if(Kv(c))return a(c,g),n;if(p_(c))if(e.isAtEnd()){const p=cg(c,g);Kv(p)&&a(p,p.data.length),Wv(p)&&!va(p)&&o(sm(fl(p),!1))}else{const p=cg(c,g);if(Kv(p)&&a(p,0),Wv(p)&&e.isAtEnd())return o(sm(fl(p),!1)),n;const _=cg(e.container(),e.offset()-1);Wv(_)&&!va(_)&&(lg(_)||lg(p)||!Wv(p))&&o(sm(fl(_),!1)),Wv(p)&&o(sm(fl(p),!0))}return n},St=(e,n,o)=>{const a=()=>(Kv(e),n===0),c=()=>Kv(e)?n>=e.data.length:n>=e.childNodes.length,g=()=>{const q=ug(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},p=()=>(o||(o=_2(St(e,n))),o),_=()=>p().length>0,A=q=>q&&e===q.container()&&n===q.offset(),$=q=>cg(e,q?n-1:n);return{container:ut(e),offset:ut(n),toRange:g,getClientRects:p,isVisible:_,isAtStart:a,isAtEnd:c,isEqual:A,getNode:$}};St.fromRangeStart=e=>St(e.startContainer,e.startOffset),St.fromRangeEnd=e=>St(e.endContainer,e.endOffset),St.after=e=>St(e.parentNode,ry(e)+1),St.before=e=>St(e.parentNode,ry(e)),St.isAbove=(e,n)=>la(En(n.getClientRects()),uo(e.getClientRects()),tm).getOr(!1),St.isBelow=(e,n)=>la(uo(n.getClientRects()),En(e.getClientRects()),Nh).getOr(!1),St.isAtStart=e=>e?e.isAtStart():!1,St.isAtEnd=e=>e?e.isAtEnd():!1,St.isTextPosition=e=>e?jt(e.container()):!1,St.isElementPosition=e=>!St.isTextPosition(e);const jp=(e,n)=>{jt(n)&&n.data.length===0&&e.remove(n)},eA=(e,n,o)=>{n.insertNode(o),jp(e,o.previousSibling),jp(e,o.nextSibling)},b_=(e,n,o)=>{const a=Q.from(o.firstChild),c=Q.from(o.lastChild);n.insertNode(o),a.each(g=>jp(e,g.previousSibling)),c.each(g=>jp(e,g.nextSibling))},ay=(e,n,o)=>{Uf(o)?b_(e,n,o):eA(e,n,o)},Tu=jt,ly=zf,Zv=Jr.nodeIndex,S2=e=>{const n=e.parentNode;return ly(n)?S2(n):n},k2=e=>e?wl(e.childNodes,(n,o)=>(ly(o)&&o.nodeName!=="BR"?n=n.concat(k2(o)):n.push(o),n),[]):[],tA=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Tu(o);)n+=o.data.length;return n},y=e=>n=>e===n,S=e=>{let n,o;n=k2(S2(e)),o=ls(n,y(e),e),n=n.slice(0,o+1);const a=wl(n,(c,g,p)=>(Tu(g)&&Tu(n[p-1])&&c++,c),0);return n=nl(n,ga([e.nodeName])),o=ls(n,y(e),e),o-a},O=e=>(Tu(e)?"text()":e.nodeName.toLowerCase())+"["+S(e)+"]",B=(e,n,o)=>{const a=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},H=(e,n)=>{let o=[],a=n.container(),c=n.offset(),g;if(Tu(a))g=tA(a,c);else{const _=a.childNodes;c>=_.length?(g="after",c=_.length-1):g="before",a=_[c]}o.push(O(a));let p=B(e,a);return p=nl(p,Pe(zf)),o=o.concat(Nm(p,_=>O(_))),o.reverse().join("/")+","+g},j=(e,n,o)=>{let a=k2(e);return a=nl(a,(c,g)=>!Tu(c)||!Tu(a[g-1])),a=nl(a,ga([n])),a[o]},se=(e,n)=>{let o=e,a=0;for(;Tu(o);){const c=o.data.length;if(n>=a&&n<=a+c){e=o,n=n-a;break}if(!Tu(o.nextSibling)){e=o,n=c;break}a+=c,o=o.nextSibling}return Tu(e)&&n>e.data.length&&(n=e.data.length),St(e,n)},ce=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",g=wl(a,(p,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),j(p,A[1],parseInt(A[2],10))):null},e);if(!g)return null;if(!Tu(g)&&g.parentNode){let p;return c==="after"?p=Zv(g)+1:p=Zv(g),St(g.parentNode,p)}return se(g,parseInt(c,10))},_e=xo,Be=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&jt(c);c=c.previousSibling)a+=e(c.data).length;return a},et=(e,n,o,a,c)=>{const g=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const _=[],A=e.getRoot();if(jt(g))_.push(o?Be(n,g,p):p);else{let $=0;const q=g.childNodes;p>=q.length&&q.length&&($=1,p=Math.max(0,q.length-1)),_.push(e.nodeIndex(q[p],o)+$)}for(let $=g;$&&$!==A;$=$.parentNode)_.push(e.nodeIndex($,o));return _},Ne=(e,n,o,a)=>{const c=n.dom,g=et(c,e,o,a,!0),p=n.isForward(),_=Rh(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:g,forward:p,..._};{const A=et(c,e,o,a,!1);return{start:g,end:A,forward:p,..._}}},Ue=(e,n,o)=>{let a=0;return tn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Ge=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(Nn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?a:a-1,c.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},ct=e=>(Ge(e,!0),Ge(e,!1),e),ft=(e,n)=>{if(Nn(e)&&(e=Ai(e,n),_e(e)))return e;if(nc(e)){jt(e)&&Hp(e)&&(e=e.parentNode);let o=e.previousSibling;if(_e(o)||(o=e.nextSibling,_e(o)))return o}},Lt=e=>ft(e.startContainer,e.startOffset)||ft(e.endContainer,e.endOffset),Ft=(e,n,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||_e(a)){const p=a.nodeName;return{name:p,index:Ue(o.dom,p,a)}}const g=Lt(c);if(g){const p=g.tagName;return{name:p,index:Ue(o.dom,p,g)}}return Ne(e,o,n,c)},Pt=e=>{const n=e.getRng();return{start:H(e.dom.getRoot(),St.fromRangeStart(n)),end:H(e.dom.getRoot(),St.fromRangeEnd(n)),forward:e.isForward()}},Vt=e=>({rng:e.getRng(),forward:e.isForward()}),Jt=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},on=(e,n)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),g=e.isCollapsed(),p=e.getNode(),_=p.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:Ue(o,_,p)};const $=ct(a.cloneRange());if(!g){$.collapse(!1);const X=Jt(o,c+"_end",n);ay(o,$,X)}a=ct(a),a.collapse(!0);const q=Jt(o,c+"_start",n);return ay(o,a,q),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},gt=(e,n,o=!1)=>n===2?Ft(Il,o,e):n===3?Pt(e):n?Vt(e):on(e,!1),Sn=tt(Ft,kn,!0),to=e=>{const n=g=>g(e),o=ut(e),a=()=>c,c={tag:!0,inner:e,fold:(g,p)=>p(e),isValue:nn,isError:On,map:g=>no.value(g(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:g=>{g(e)},toOptional:()=>Q.some(e)};return c},Eo=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:On,isError:nn,map:n,mapError:a=>no.error(a(e)),bind:n,exists:On,forall:nn,getOr:kn,or:kn,getOrThunk:po,orThunk:po,getOrDie:mt(String(e)),each:Ze,toOptional:Q.none};return o},no={value:to,error:Eo,fromOption:(e,n)=>e.fold(()=>Eo(n),to)},Xo={generate:e=>{if(!re(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return be(e,(a,c)=>{const g=Xt(a);if(g.length!==1)throw new Error("one and only one name per case");const p=g[0],_=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!re(_))throw new Error("case arguments must be an array");n.push(p),o[p]=(...A)=>{const $=A.length;if($!==_.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+_.length+" ("+_+"), got "+$);return{fold:(...X)=>{if(X.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+X.length);return X[c].apply(null,A)},match:X=>{const ne=Xt(X);if(n.length!==ne.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ne.join(","));if(!Do(n,Ee=>xe(ne,Ee)))throw new Error("Not all branches were specified when using match. Specified: "+ne.join(", ")+`
Required: `+n.join(", "));return X[p].apply(null,A)},log:X=>{console.log(X,{constructors:n,constructor:p,params:A})}}}}),o}};Xo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ii=e=>{const n=[],o=[];return be(e,a=>{a.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Ra=e=>e.type==="inline-command"||e.type==="inline-format",Qi=e=>e.type==="block-command"||e.type==="block-format",vc=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,dg=e=>{var n;const o=c=>no.error({message:c,pattern:e}),a=(c,g,p)=>{if(e.format!==void 0){let _;if(re(e.format)){if(!Do(e.format,ue))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(ue(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return no.value(g(_))}else return e.cmd!==void 0?ue(e.cmd)?no.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!Z(e))return o("Raw pattern is not an object");if(!ue(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ue(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,g=e.end;return g.length===0&&(g=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:g,format:p}),(p,_)=>({type:"inline-command",start:c,end:g,cmd:p,value:_}))}else{if(e.replacement!==void 0)return ue(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):no.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",g=>({type:"block-format",start:e.start,format:g[0],trigger:c}),(g,p)=>({type:"block-command",start:e.start,cmd:g,value:p,trigger:c}))}}},Na=e=>qe(e,Qi),md=e=>qe(e,Ra),Zp=(e,n)=>({inlinePatterns:md(e),blockPatterns:Na(e),dynamicPatternsLookup:n}),im=(e,n)=>({...e,blockPatterns:qe(e.blockPatterns,o=>vc(o,n))}),Gp=e=>{const n=ii($e(e,dg));return be(n.errors,o=>console.error(o.message,o.pattern)),n.values},cy=e=>n=>{const o=e(n);return Gp(o)},am=ia().deviceType,v_=am.isTouch(),w8=Jr.DOM,C8=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return sn(n,(o,a)=>{const c=a.split("="),g=c[0],p=c.length>1?c[1]:g;return o[He(g)]=He(p),o},{})},_D=e=>he(e,RegExp),Tn=e=>n=>n.options.get(e),E2=e=>ue(e)||Z(e),nA=(e,n="")=>o=>{const a=ue(o);if(a)if(o.indexOf("=")!==-1){const c=C8(o);return{value:Nr(c,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},y_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:nA(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:nA(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=ue(o)&&rt(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=xe(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Me(o)?{valid:!0,value:o}:ue(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||ue(o)||Fe(o,ue);return a?ue(o)?{value:$e(o.split(","),He),valid:a}:re(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Gv(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=ue(o)||Fe(o,ue);return a?{value:re(o)?o:$e(o.split(","),He),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Me(o)||ue(o);return a?o===!1||am.isiPhone()||am.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!v_}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ue(o)||ze(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||ue(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:E2}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:E2}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:E2}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:E2}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ue(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Fe(o,Z)||o===!1?{value:Gp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>ze(o)?{value:cy(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Fe(o,_D)?{value:o,valid:!0}:_D(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:jc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:w8.getAttrib(e.getElement(),"placeholder")})})},Dl=Tn("iframe_attrs"),af=Tn("doctype"),Ou=Tn("document_base_url"),x_=Tn("body_id"),oA=Tn("body_class"),SD=Tn("content_security_policy"),rA=Tn("br_in_pre"),ml=Tn("forced_root_block"),A2=Tn("forced_root_block_attrs"),sA=Tn("newline_behavior"),kD=Tn("br_newline_selector"),ED=Tn("no_newline_selector"),iA=Tn("keep_styles"),aA=Tn("end_container_on_empty_block"),Qr=Tn("automatic_uploads"),Mh=Tn("images_reuse_filename"),AD=Tn("images_replace_blob_uris"),lA=Tn("icons"),TD=Tn("icons_url"),cA=Tn("images_upload_url"),OD=Tn("images_upload_base_path"),uA=Tn("images_upload_credentials"),_8=Tn("images_upload_handler"),ID=Tn("content_css_cors"),T2=Tn("referrer_policy"),dA=Tn("language"),S8=Tn("language_url"),DD=Tn("indent_use_margin"),Iu=Tn("indentation"),jl=Tn("content_css"),uy=Tn("content_style"),RD=Tn("font_css"),k8=Tn("directionality"),ir=Tn("inline_boundaries_selector"),ND=Tn("object_resizing"),PD=Tn("resize_img_proportional"),fA=Tn("placeholder"),LD=Tn("event_root"),E8=Tn("service_message"),dy=Tn("theme"),A8=Tn("theme_url"),O2=Tn("model"),mA=Tn("model_url"),fy=Tn("inline_boundaries"),T8=Tn("formats"),O8=Tn("preview_styles"),I8=Tn("format_empty_lines"),ao=Tn("format_noneditable_selector"),MD=Tn("custom_ui_selector"),Gv=Tn("inline"),gA=Tn("hidden_input"),BD=Tn("submit_patch"),FD=Tn("add_form_submit_trigger"),$D=Tn("add_unload_trigger"),VD=Tn("custom_undo_redo_levels"),D8=Tn("disable_nodechange"),zD=Tn("readonly"),Er=Tn("editable_root"),HD=Tn("content_css_cors"),lf=Tn("plugins"),fg=Tn("external_plugins"),w_=Tn("block_unsupported_drop"),Yc=Tn("visual"),C_=Tn("visual_table_class"),my=Tn("visual_anchor_class"),I2=Tn("iframe_aria_text"),gy=Tn("setup"),R8=Tn("init_instance_callback"),N8=Tn("urlconverter_callback"),P8=Tn("auto_focus"),L8=Tn("browser_spellcheck"),fr=Tn("protect"),lm=Tn("paste_block_drop"),mg=Tn("paste_data_images"),M8=Tn("paste_preprocess"),D2=Tn("paste_postprocess"),pr=Tn("newdocument_content"),UD=Tn("paste_webkit_styles"),hA=Tn("paste_remove_styles_if_webkit"),B8=Tn("paste_merge_formats"),qv=Tn("smart_paste"),Yv=Tn("paste_as_text"),WD=Tn("paste_tab_spaces"),F8=Tn("allow_html_data_urls"),$8=Tn("text_patterns"),R2=Tn("text_patterns_lookup"),Xv=Tn("noneditable_class"),V8=Tn("editable_class"),KD=Tn("noneditable_regexp"),z8=Tn("preserve_cdata"),jD=Tn("highlight_on_focus"),ZD=Tn("xss_sanitization"),GD=Tn("init_content_sync"),pA=e=>e.options.isSet("text_patterns_lookup"),bA=e=>tn.explode(e.options.get("font_size_style_values")),vA=e=>tn.explode(e.options.get("font_size_classes")),qD=e=>e.options.get("encoding")==="xml",yA=e=>tn.explode(e.options.get("images_file_types")),YD=Tn("table_tab_navigation"),__=Tn("details_initial_state"),XD=Tn("details_serialized_state"),xA=Tn("sandbox_iframes"),S_=e=>e.options.get("sandbox_iframes_exclusions"),JD=Tn("convert_unsafe_embeds"),QD=Tn("license_key"),eR=Tn("api_key"),H8=Nn,tR=jt,N2=e=>{const n=e.parentNode;n&&n.removeChild(e)},wA=e=>{const n=Il(e);return{count:e.length-n.length,text:n}},CA=e=>{let n;for(;(n=e.data.lastIndexOf(Ei))!==-1;)e.deleteData(n,1)},_A=(e,n)=>(qp(e),n),U8=(e,n)=>{const o=wA(e.data.substr(0,n.offset())),a=wA(e.data.substr(n.offset()));return(o.text+a.text).length>0?(CA(e),St(e,n.offset()-o.count)):n},W8=(e,n)=>{const o=n.container(),a=nt(Oo(o.childNodes),e).map(c=>c<n.offset()?St(o,n.offset()-1):n).getOr(n);return qp(e),a},K8=(e,n)=>tR(e)&&n.container()===e?U8(e,n):_A(e,n),j8=(e,n)=>n.container()===e.parentNode?W8(e,n):_A(e,n),Z8=(e,n)=>St.isTextPosition(n)?K8(e,n):j8(e,n),qp=e=>{H8(e)&&nc(e)&&(Y1(e)?e.removeAttribute("data-mce-caret"):N2(e)),tR(e)&&(CA(e),e.data.length===0&&N2(e))},nR=xo,k_=It,G8=Dp,SA="*[contentEditable=false],video,audio,embed,object",oR=(e,n,o)=>{const a=$v(n.getBoundingClientRect(),o);let c,g;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,g=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,g=e.scrollTop-_.top}a.left+=c,a.right+=c,a.top+=g,a.bottom+=g,a.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},rR=e=>{var n,o;const a=vi(Ke.fromDom(e),SA);for(let c=0;c<a.length;c++){const g=a[c].dom;let p=g.previousSibling;if(sf(p)){const _=p.data;_.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(_.length-1,1)}p=g.nextSibling,Bv(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},sR=(e,n,o,a)=>{const c=Li();let g,p;const _=ml(e),A=e.dom,$=(ye,De)=>{let Je;if(q(),G8(De))return null;if(o(De)){const st=d_(_,De,ye),ot=oR(n,De,ye);A.setStyle(st,"top",ot.top),A.setStyle(st,"caret-color","transparent"),p=st;const bt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(bt,{...ot}),A.add(n,bt),c.set({caret:bt,element:De,before:ye}),ye&&A.addClass(bt,"mce-visual-caret-before"),X(),Je=De.ownerDocument.createRange(),Je.setStart(st,0),Je.setEnd(st,0)}else return p=X1(De,ye),Je=De.ownerDocument.createRange(),P2(p.nextSibling)?(Je.setStart(p,0),Je.setEnd(p,0)):(Je.setStart(p,1),Je.setEnd(p,1)),Je;return Je},q=()=>{rR(n),p&&(qp(p),p=null),c.on(ye=>{A.remove(ye.caret),c.clear()}),g&&(clearInterval(g),g=void 0)},X=()=>{g=setInterval(()=>{c.on(ye=>{a()?A.toggleClass(ye.caret,"mce-visual-caret-hidden"):A.addClass(ye.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ye=>{const De=oR(n,ye.element,ye.before);A.setStyles(ye.caret,{...De})})},destroy:()=>clearInterval(g)}},kA=()=>zo.browser.isFirefox(),P2=e=>nR(e)||k_(e),L2=e=>(P2(e)||wu(e)&&kA())&&Lf(Ke.fromDom(e)).exists(Ss),E_=zc,A_=xo,iR=It,EA=$c("display","block table table-cell table-caption list-item"),AA=nc,aR=Hp,q8=Nn,T_=jt,lR=Eu,Jv=e=>e>0,Qv=e=>e<0,O_=(e,n)=>{let o;for(;o=e(n);)if(!aR(o))return o;return null},M2=(e,n,o,a,c)=>{const g=new ma(e,a),p=A_(e)||aR(e);let _;if(Qv(n)){if(p&&(_=O_(g.prev.bind(g),!0),o(_)))return _;for(;_=O_(g.prev.bind(g),c);)if(o(_))return _}if(Jv(n)){if(p&&(_=O_(g.next.bind(g),!0),o(_)))return _;for(;_=O_(g.next.bind(g),c);)if(o(_))return _}return null},Y8=(e,n)=>{const o=c=>E_(c.dom),a=c=>c.dom===n;return al(Ke.fromDom(e),o,a).map(c=>c.dom).getOr(n)},Yp=(e,n)=>{for(;e&&e!==n;){if(EA(e))return e;e=e.parentNode}return null},gg=(e,n,o)=>Yp(e.container(),o)===Yp(n.container(),o),I_=(e,n)=>{if(!n)return Q.none();const o=n.container(),a=n.offset();return q8(o)?Q.from(o.childNodes[a+e]):Q.none()},cR=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},uR=(e,n,o)=>Yp(n,e)===Yp(o,e),TA=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let g=c[a];if(g&&AA(g)&&(g=g[a]),A_(g)||iR(g)){if(uR(n,g,c))return g;break}if(lR(g))break;c=c.parentNode}return null},B2=tt(cR,!0),F2=tt(cR,!1),OA=(e,n,o)=>{let a;const c=tt(TA,!0,n),g=tt(TA,!1,n),p=o.startContainer,_=o.startOffset;if(Hp(p)){const A=T_(p)?p.parentNode:p,$=A.getAttribute("data-mce-caret");if($==="before"&&(a=A.nextSibling,L2(a)))return B2(a);if($==="after"&&(a=A.previousSibling,L2(a)))return F2(a)}if(!o.collapsed)return o;if(jt(p)){if(AA(p)){if(e===1){if(a=g(p),a)return B2(a);if(a=c(p),a)return F2(a)}if(e===-1){if(a=c(p),a)return F2(a);if(a=g(p),a)return B2(a)}return o}if(sf(p)&&_>=p.data.length-1)return e===1&&(a=g(p),a)?B2(a):o;if(Bv(p)&&_<=1)return e===-1&&(a=c(p),a)?F2(a):o;if(_===p.data.length)return a=g(p),a?B2(a):o;if(_===0)return a=c(p),a?F2(a):o}return o},dR=(e,n)=>I_(e?0:-1,n).filter(A_),$2=(e,n,o)=>{const a=OA(e,n,o);return e===-1?St.fromRangeStart(a):St.fromRangeEnd(a)},D_=e=>Q.from(e.getNode()).map(Ke.fromDom),X8=e=>Q.from(e.getNode(!0)).map(Ke.fromDom),IA=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},R_=(e,n)=>{const o=gg(e,n);return!o&&bs(e.getNode())?!0:o};var ja;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ja||(ja={}));const J8=xo,hg=jt,fR=Nn,$n=bs,e0=Eu,DA=Kp,N_=Hv,RA=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},mR=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,V2=(e,n)=>{if(Jv(e)){if(e0(n.previousSibling)&&!hg(n.previousSibling))return St.before(n);if(hg(n))return St(n,0)}if(Qv(e)){if(e0(n.nextSibling)&&!hg(n.nextSibling))return St.after(n);if(hg(n))return St(n,n.data.length)}return Qv(e)?$n(n)?St.before(n):St.after(n):St.before(n)},gR=(e,n)=>{const o=n.nextSibling;return o&&e0(o)?hg(o)?St(o,0):St.before(o):NA(ja.Forwards,St.after(n),e)},NA=(e,n,o)=>{let a,c,g,p;if(!fR(o)||!n)return null;if(n.isEqual(St.after(o))&&o.lastChild){if(p=St.after(o.lastChild),Qv(e)&&e0(o.lastChild)&&fR(o.lastChild))return $n(o.lastChild)?St.before(o.lastChild):p}else p=n;const _=p.container();let A=p.offset();if(hg(_)){if(Qv(e)&&A>0)return St(_,--A);if(Jv(e)&&A<_.length)return St(_,++A);a=_}else{if(Qv(e)&&A>0&&(c=mR(_,A-1),e0(c)))return!DA(c)&&(g=M2(c,e,N_,c),g)?hg(g)?St(g,g.data.length):St.after(g):hg(c)?St(c,c.data.length):St.before(c);if(Jv(e)&&A<_.childNodes.length&&(c=mR(_,A),e0(c)))return $n(c)?gR(o,c):!DA(c)&&(g=M2(c,e,N_,c),g)?hg(g)?St(g,0):St.before(g):hg(c)?St(c,0):St.after(c);a=c||p.getNode()}if(a&&(Jv(e)&&p.isAtEnd()||Qv(e)&&p.isAtStart())&&(a=M2(a,e,nn,o,!0),N_(a,o)))return V2(e,a);c=a&&M2(a,e,N_,o);const $=ka(qe(RA(_,o),J8));return $&&(!c||!$.contains(c))?(Jv(e)?p=St.after($):p=St.before($),p):c?V2(e,c):null},Jn=e=>({next:n=>NA(ja.Forwards,n,e),prev:n=>NA(ja.Backwards,n,e)}),Ao=(e,n,o)=>{const a=e?St.before(o):St.after(o);return Du(e,n,a)},hR=e=>bs(e)?St.before(e):St.after(e),pR=e=>St.isTextPosition(e)?e.offset()===0:Eu(e.getNode()),bR=e=>{if(St.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Eu(e.getNode(!0))},vR=(e,n)=>!St.isTextPosition(e)&&!St.isTextPosition(n)&&e.getNode()===n.getNode(!0),so=e=>!St.isTextPosition(e)&&bs(e.getNode()),z2=(e,n,o)=>e?!vR(n,o)&&!so(n)&&bR(n)&&pR(o):!vR(o,n)&&pR(n)&&bR(o),Du=(e,n,o)=>{const a=Jn(n);return Q.from(e?a.next(o):a.prev(o))},t0=(e,n,o)=>Du(e,n,o).bind(a=>gg(o,a,n)&&z2(e,o,a)?Du(e,n,a):Q.some(a)),yR=(e,n,o,a)=>t0(e,n,o).bind(c=>a(c)?yR(e,n,c,a):Q.some(c)),hy=(e,n)=>{const o=e?n.firstChild:n.lastChild;return jt(o)?Q.some(St(o,e?0:o.data.length)):o?Eu(o)?Q.some(e?St.before(o):hR(o)):Ao(e,n,o):Q.none()},oc=tt(Du,!0),Xc=tt(Du,!1),oo=tt(hy,!0),gd=tt(hy,!1),py="_mce_caret",Ru=e=>Nn(e)&&e.id===py,Xp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ru(o))return o;o=o.parentNode}return null},xR=e=>ue(e.start),wR=e=>fo(e,"rng"),CR=e=>fo(e,"id"),PA=e=>fo(e,"name"),_R=e=>tn.isArray(e.start),P_=e=>!PA(e)&&Me(e.forward)?e.forward:!0,SR=(e,n)=>(Nn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),Q8=(e,n)=>{const o=Q.from(ce(e.getRoot(),n.start)),a=Q.from(ce(e.getRoot(),n.end));return la(o,a,(c,g)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(g.container(),g.offset()),{range:p,forward:P_(n)}})},e7=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},LA=e=>!e.hasChildNodes(),MA=(e,n)=>gd(e).fold(On,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),kR=(e,n,o)=>LA(n)&&Xp(e,n)?(e7(n,o),!0):!1,ER=(e,n,o,a)=>{const c=o[n?"start":"end"],g=e.getRoot();if(c){let p=g,_=c[0];for(let A=c.length-1;p&&A>=1;A--){const $=p.childNodes;if(kR(g,p,a))return!0;if(c[A]>$.length-1)return kR(g,p,a)?!0:MA(p,a);p=$[c[A]]}jt(p)&&(_=Math.min(c[0],p.data.length)),Nn(p)&&(_=Math.min(c[0],p.childNodes.length)),n?a.setStart(p,_):a.setEnd(p,_)}return!0},BA=e=>jt(e)&&e.data.length>0,AR=(e,n,o)=>{const a=e.get(o.id+"_"+n),c=a==null?void 0:a.parentNode,g=o.keep;if(a&&c){let p,_;if(n==="start"?g?a.hasChildNodes()?(p=a.firstChild,_=1):BA(a.nextSibling)?(p=a.nextSibling,_=0):BA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)+1):(p=c,_=e.nodeIndex(a)):g?a.hasChildNodes()?(p=a.firstChild,_=1):BA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)):(p=c,_=e.nodeIndex(a)),!g){const A=a.previousSibling,$=a.nextSibling;tn.each(tn.grep(a.childNodes),X=>{jt(X)&&(X.data=X.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(jt($)&&jt(A)&&!zo.browser.isOpera()){const X=A.data.length;A.appendData($.data),e.remove($),p=A,_=X}}return Q.some(St(p,_))}else return Q.none()},TR=(e,n)=>{const o=e.createRng();return ER(e,!0,n,o)&&ER(e,!1,n,o)?Q.some({range:o,forward:P_(n)}):Q.none()},n0=(e,n)=>{const o=AR(e,"start",n),a=AR(e,"end",n);return la(o,a.or(o),(c,g)=>{const p=e.createRng();return p.setStart(SR(e,c.container()),c.offset()),p.setEnd(SR(e,g.container()),g.offset()),{range:p,forward:P_(n)}})},OR=(e,n)=>Q.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),IR=(e,n)=>{const o=e.dom;if(n){if(_R(n))return TR(o,n);if(xR(n))return Q8(o,n);if(CR(n))return n0(o,n);if(PA(n))return OR(o,n);if(wR(n))return Q.some({range:n.rng,forward:P_(n)})}return Q.none()},t7=(e,n,o)=>gt(e,n,o),n7=(e,n)=>{IR(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Nu=e=>Nn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",gl=(e=>n=>e===n)(Ni),o0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Bh=e=>!o0(e)&&!gl(e)&&!ld(e),vs=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},hd=e=>Fo(e,n=>{const o=Wp(n);return o?[Ke.fromDom(o)]:[]}),H2=e=>vs(e).length>1,L_=e=>qe(hd(e),Zc),by=e=>vi(e,"td[data-mce-selected],th[data-mce-selected]"),DR=(e,n)=>{const o=by(n);return o.length>0?o:L_(e)},cm=e=>DR(vs(e.selection.getSel()),Ke.fromDom(e.getBody())),$r=(e,n)=>bu(e,"table",n),U2=e=>{const n=e.startContainer,o=e.startOffset;return jt(n)?o===0?Q.some(Ke.fromDom(n)):Q.none():Q.from(n.childNodes[o]).map(Ke.fromDom)},RR=e=>{const n=e.endContainer,o=e.endOffset;return jt(n)?o===n.data.length?Q.some(Ke.fromDom(n)):Q.none():Q.from(n.childNodes[o-1]).map(Ke.fromDom)},FA=e=>Kl(e).fold(ut([e]),n=>[e].concat(FA(n))),W2=e=>rd(e).fold(ut([e]),n=>er(n)==="br"?Si(n).map(o=>[e].concat(W2(o))).getOr([]):[e].concat(W2(n))),K2=(e,n)=>la(U2(n),RR(n),(o,a)=>{const c=bn(FA(e),tt(tr,o)),g=bn(W2(e),tt(tr,a));return c.isSome()&&g.isSome()}).getOr(!1),j2=(e,n,o,a)=>{const c=o,g=new ma(o,c),p=Rc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,$)=>!xe(["td","th","table"],$.toLowerCase()));let _=o;do{if(jt(_)&&tn.trim(_.data).length!==0){a?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(p[_.nodeName]){a?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=a?g.next():g.prev());c.nodeName==="BODY"&&(a?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},vy=e=>{const n=e.selection.getSel();return Ae(n)&&n.rangeCount>0},yy=(e,n)=>{const o=cm(e);o.length>0?be(o,a=>{const c=a.dom,g=e.dom.createRng();g.setStartBefore(c),g.setEndAfter(c),n(g,!0)}):n(e.selection.getRng(),!1)},M_=(e,n,o)=>{const a=on(e,n);o(a),e.moveToBookmark(a)},xy=e=>R(e==null?void 0:e.nodeType),B_=e=>Nn(e)&&!Nu(e)&&!Ru(e)&&!zf(e),NR=(e,n)=>{if(B_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},$A=(e,n,o)=>{const{selection:a,dom:c}=e,g=a.getNode(),p=xo(g);M_(a,!0,()=>{n()}),p&&xo(g)&&c.isChildOf(g,e.getBody())?e.selection.select(g):o(a.getStart())&&PR(c,a)},PR=(e,n)=>{var o,a;const c=n.getRng(),{startContainer:g,startOffset:p}=c,_=n.getNode();if(!NR(e,_)&&Nn(g)){const A=g.childNodes,$=e.getRoot();let q;if(p<A.length){const X=A[p];q=new ma(X,(o=e.getParent(X,e.isBlock))!==null&&o!==void 0?o:$)}else{const X=A[A.length-1];q=new ma(X,(a=e.getParent(X,e.isBlock))!==null&&a!==void 0?a:$),q.next(!0)}for(let X=q.current();X;X=q.next()){if(e.getContentEditable(X)==="false")return;if(jt(X)&&!VA(X)){c.setStart(X,0),n.setRng(c);return}}}},r0=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Nn(e)||!VA(e))return e}},F_=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Kf(e,n),Jp=(e,n,o)=>e.schema.isValidChild(n,o),VA=(e,n=!1)=>{if(Ae(e)&&jt(e)){const o=n?e.data.replace(/ /g,""):e.data;return gc(o)}else return!1},r7=e=>Ae(e)&&jt(e)&&e.length===0,LR=(e,n)=>{const o="[data-mce-cef-wrappable]",a=ao(e),c=qt(a)?o:`${o},${a}`;return Br(Ke.fromDom(n),c)},zA=(e,n)=>{const o=e.dom;return B_(n)&&o.getContentEditable(n)==="false"&&LR(e,n)&&o.select('[contenteditable="true"]',n).length===0},Fh=(e,n)=>ze(e)?e(n):(Ae(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),wy=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),$_=(e,n)=>{if(it(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=wv(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Z2=(e,n,o)=>{const a=e.getStyle(n,o);return $_(a,o)},HA=(e,n)=>{let o;return e.getParent(n,a=>Nn(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},G2=(e,n,o)=>e.getParents(n,o,e.getRoot()),V_=(e,n,o)=>{const a=e.formatter.get(n);return Ae(a)&&Te(a,o)},MR=(e,n)=>V_(e,n,a=>{const c=g=>ze(g)||g.length>1&&g.charAt(0)==="%";return Te(["styles","attributes"],g=>Nr(a,g).exists(p=>{const _=re(p)?p:qu(p);return Te(_,c)}))}),BR=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=g=>Rc(g,(p,_)=>Te(a,A=>A===_));return V_(e,n,g=>{const p=c(g);return V_(e,o,_=>{const A=c(_);return Di(p,A)})})},um=e=>Xl(e,"block"),FR=e=>um(e)&&e.wrapper===!0,$R=e=>um(e)&&e.wrapper!==!0,Jc=e=>Xl(e,"selector"),ya=e=>Xl(e,"inline"),VR=e=>Jc(e)&&ya(e)&&Tf(Nr(e,"mixed"),!0),z_=e=>Jc(e)&&e.expand!==!1&&!ya(e),zR=e=>{const n=[];let o=e;for(;o;){if(jt(o)&&o.data!==Ei||o.childNodes.length>1)return[];Nn(o)&&n.push(o),o=o.firstChild}return n},UA=e=>zR(e).length>0,H_=e=>Ru(e.dom)&&UA(e.dom),Qp=Nu,q2=G2,U_=VA,W_=F_,HR=e=>bs(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Y2=(e,n)=>{let o=n;for(;o;){if(Nn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},K_=(e,n,o,a)=>{const c=n.data;if(e){for(let g=o;g>0;g--)if(a(c.charAt(g-1)))return g}else for(let g=o;g<c.length;g++)if(a(c.charAt(g)))return g;return-1},X2=(e,n,o)=>K_(e,n,o,a=>gl(a)||o0(a)),WA=(e,n,o)=>K_(e,n,o,Bh),KA=(e,n,o,a,c,g)=>{let p;const _=e.getParent(o,e.isBlock)||n,A=(q,X,ne)=>{const ve=tf(e),Ee=c?ve.backwards:ve.forwards;return Q.from(Ee(q,X,(ye,De)=>Qp(ye.parentNode)?-1:(p=ye,ne(c,ye,De)),_))};return A(o,a,X2).bind(q=>g?A(q.container,q.offset+(c?-1:0),WA):Q.some(q)).orThunk(()=>p?Q.some({container:p,offset:c?0:p.length}):Q.none())},s0=(e,n,o,a,c)=>{const g=a[c];jt(a)&&qt(a.data)&&g&&(a=g);const p=q2(e,a);for(let _=0;_<p.length;_++)for(let A=0;A<n.length;A++){const $=n[A];if(!(Ae($.collapsed)&&$.collapsed!==o.collapsed)&&Jc($)&&e.is(p[_],$.selector))return p[_]}return a},j_=(e,n,o,a)=>{var c;let g=o;const p=e.getRoot(),_=n[0];if(um(_)&&(g=_.wrapper?null:e.getParent(o,_.block,p)),!g){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;g=e.getParent(jt(o)?o.parentNode:o,$=>$!==p&&W_(e.schema,$),A)}if(g&&um(_)&&_.wrapper&&(g=q2(e,g,"ul,ol").reverse()[0]||g),!g)for(g=o;g&&g[a]&&!e.isBlock(g[a])&&(g=g[a],!wy(g,"br")););return g||o},Z_=(e,n,o,a)=>{const c=o.parentNode;return Ae(o[a])?!1:c===n||it(c)||e.isBlock(c)?!0:Z_(e,n,c,a)},$h=(e,n,o,a,c)=>{let g=o;const p=c?"previousSibling":"nextSibling",_=e.getRoot();if(jt(o)&&!U_(o)&&(c?a>0:a<o.data.length))return o;for(;g;){if(!n[0].block_expand&&e.isBlock(g))return g;for(let A=g[p];A;A=A[p]){const $=jt(A)&&!Z_(e,_,A,p);if(!Qp(A)&&!HR(A)&&!U_(A,$))return g}if(g===_||g.parentNode===_){o=g;break}g=g.parentNode}return o},Vh=e=>Qp(e.parentNode)||Qp(e),eb=(e,n,o,a=!1)=>{let{startContainer:c,startOffset:g,endContainer:p,endOffset:_}=n;const A=o[0];return Nn(c)&&c.hasChildNodes()&&(c=Ai(c,g),jt(c)&&(g=0)),Nn(p)&&p.hasChildNodes()&&(p=Ai(p,n.collapsed?_:_-1),jt(p)&&(_=p.data.length)),c=Y2(e,c),p=Y2(e,p),Vh(c)&&(c=Qp(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,jt(c)&&(g=n.collapsed?c.length:0)),Vh(p)&&(p=Qp(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,jt(p)&&(_=n.collapsed?0:p.length)),n.collapsed&&(KA(e,e.getRoot(),c,g,!0,a).each(({container:X,offset:ne})=>{c=X,g=ne}),KA(e,e.getRoot(),p,_,!1,a).each(({container:X,offset:ne})=>{p=X,_=ne})),(ya(A)||A.block_expand)&&((!ya(A)||!jt(c)||g===0)&&(c=$h(e,o,c,g,!0)),(!ya(A)||!jt(p)||_===p.data.length)&&(p=$h(e,o,p,_,!1))),z_(A)&&(c=s0(e,o,n,c,"previousSibling"),p=s0(e,o,n,p,"nextSibling")),(um(A)||Jc(A))&&(c=j_(e,o,c,"previousSibling"),p=j_(e,o,p,"nextSibling"),um(A)&&(e.isBlock(c)||(c=$h(e,o,c,g,!0),jt(c)&&(g=0)),e.isBlock(p)||(p=$h(e,o,p,_,!1),jt(p)&&(_=p.data.length)))),Nn(c)&&c.parentNode&&(g=e.nodeIndex(c),c=c.parentNode),Nn(p)&&p.parentNode&&(_=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:g,endContainer:p,endOffset:_}},J2=(e,n,o)=>{var a;const c=n.startOffset,g=Ai(n.startContainer,c),p=n.endOffset,_=Ai(n.endContainer,p-1),A=De=>{const Je=De[0];jt(Je)&&Je===g&&c>=Je.data.length&&De.splice(0,1);const st=De[De.length-1];return p===0&&De.length>0&&st===_&&jt(st)&&De.splice(De.length-1,1),De},$=(De,Je,st)=>{const ot=[];for(;De&&De!==st;De=De[Je])ot.push(De);return ot},q=(De,Je)=>e.getParent(De,st=>st.parentNode===Je,Je),X=(De,Je,st)=>{const ot=st?"nextSibling":"previousSibling";for(let bt=De,zt=bt.parentNode;bt&&bt!==Je;bt=zt){zt=bt.parentNode;const en=$(bt===De?bt:bt[ot],ot);en.length&&(st||en.reverse(),o(A(en)))}};if(g===_)return o(A([g]));const ne=(a=e.findCommonAncestor(g,_))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(g,_))return X(g,ne,!0);if(e.isChildOf(_,g))return X(_,ne);const ve=q(g,ne)||g,Ee=q(_,ne)||_;X(g,ve,!0);const ye=$(ve===g?ve:ve.nextSibling,"nextSibling",Ee===_?Ee.nextSibling:Ee);ye.length&&o(A(ye)),X(_,Ee)},s7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],UR=e=>us(e)&&sg(e)===Ei,WR=(e,n,o,a)=>da(n).fold(()=>"skipping",c=>a==="br"||UR(n)?"valid":l2(n)?"existing":Ru(n.dom)?"caret":Te(s7,g=>Br(n,g))?"valid-block":!Jp(e,o,a)||!Jp(e,er(c),o)?"invalid-child":"valid"),tb=(e,n)=>{const o=eb(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},nb=(e,n,o,a,c,g)=>{const{uid:p=n,..._}=o;Kd(e,Ns()),_i(e,`${si()}`,p),_i(e,`${Ps()}`,a);const{attributes:A={},classes:$=[]}=c(p,_);if(Fa(e,A),Av(e,$),g){$.length>0&&_i(e,`${As()}`,$.join(","));const q=Xt(A);q.length>0&&_i(e,`${Gs()}`,q.join(","))}},Za=e=>{$a(e,Ns()),Lo(e,`${si()}`),Lo(e,`${Ps()}`),Lo(e,`${Fr()}`);const n=fu(e,`${Gs()}`).map(a=>a.split(",")).getOr([]),o=fu(e,`${As()}`).map(a=>a.split(",")).getOr([]);be(n,a=>Lo(e,a)),Oh(e,o),Lo(e,`${As()}`),Lo(e,`${Gs()}`)},pg=(e,n,o,a,c)=>{const g=Ke.fromTag("span",e);return nb(g,n,o,a,c,!1),g},Sr=(e,n,o,a,c,g)=>{const p=[],_=pg(e.getDoc(),o,g,a,c),A=Li(),$=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Ee=qs(_);return p.push(Ee),A.set(Ee),Ee}),X=Ee=>{be(Ee,ne)},ne=Ee=>{switch(WR(e,Ee,"span",er(Ee))){case"invalid-child":{$();const De=fa(Ee);X(De),$();break}case"valid-block":{$(),nb(Ee,o,g,a,c,!0);break}case"valid":{const De=q();ec(Ee,De);break}}},ve=Ee=>{const ye=$e(Ee,Ke.fromDom);X(ye)};return J2(e.dom,n,Ee=>{$(),ve(Ee)}),p},i7=(e,n,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,g=c.getRng(),p=cm(e).length>0,_=Wa("mce-annotation");if(g.collapsed&&!p&&tb(e,g),c.getRng().collapsed&&!p){const A=pg(e.getDoc(),_,a,n,o.decorate);Wm(A,Ni),c.getRng().insertNode(A.dom),c.select(A.dom)}else M_(c,!1,()=>{yy(e,A=>{Sr(e,A,_,n,o.decorate,a)})})})},KR=e=>{const n=u2();Z1(e,n);const o=j1(e,n),a=Nf("span"),c=g=>{be(g,p=>{a(p)?Ua(p):Za(p)})};return{register:(g,p)=>{n.register(g,p)},annotate:(g,p)=>{n.lookup(g).each(_=>{i7(e,g,_,p)})},annotationChanged:(g,p)=>{o.addListener(g,p)},remove:g=>{K1(e,Q.some(g)).each(({elements:p})=>{const _=e.selection.getBookmark();c(p),e.selection.moveToBookmark(_)})},removeAll:g=>{const p=e.selection.getBookmark();ur(Th(e,g),(_,A)=>{c(_)}),e.selection.moveToBookmark(p)},getAll:g=>{const p=Th(e,g);return Yl(p,_=>$e(_,A=>A.dom))}}},Gr=e=>({getBookmark:tt(t7,e),moveToBookmark:tt(n7,e)});Gr.isBookmarkNode=Nu;const jA=(e,n,o)=>o.collapsed?!1:Te(o.getClientRects(),a=>Q1(a,e,n)),Q2=(e,n)=>e.dispatch("PreProcess",n),ew=(e,n)=>e.dispatch("PostProcess",n),tw=e=>{e.dispatch("remove")},nw=e=>{e.dispatch("detach")},jR=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},a7=(e,n,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:c})},l7=(e,n,o,a,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:c})},c7=e=>{e.dispatch("PreInit")},u7=e=>{e.dispatch("PostRender")},ai=e=>{e.dispatch("Init")},ZR=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},ZA=(e,n,o)=>{e.dispatch(n,o)},GR=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},qR=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},d7=(e,n)=>e.dispatch("BeforeSetContent",n),yc=(e,n)=>e.dispatch("SetContent",n),dm=(e,n)=>e.dispatch("BeforeGetContent",n),YR=(e,n)=>e.dispatch("GetContent",n),GA=(e,n)=>{e.dispatch("AutocompleterStart",n)},qA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},YA=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},f7=e=>{e.dispatch("AutocompleterEnd")},ow=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),G_=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),q_=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),m7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),hn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||hn.metaKeyPressed(e),metaKeyPressed:e=>zo.os.isMacOS()||zo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},i0="data-mce-selected",g7="table,img,figure.image,hr,video,span.mce-preview-object,details",Pu=Math.abs,ob=Math.round,Y_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},cf=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Hr=(e,n)=>{const o=n.dom,a=n.getDoc(),c=document,g=n.getBody();let p,_,A,$,q,X,ne,ve,Ee,ye,De,Je,st,ot,bt,zt,en;const wn=yn=>Ae(yn)&&(Vc(yn)||o.is(yn,"figure.image")),Rt=yn=>It(yn)||o.hasClass(yn,"mce-preview-object"),Ct=(yn,Vo)=>{if(cf(yn)){const Zo=yn.touches[0];return wn(yn.target)&&!jA(Zo.clientX,Zo.clientY,Vo)}else return wn(yn.target)&&!jA(yn.clientX,yn.clientY,Vo)},$t=yn=>{const Vo=yn.target;Ct(yn,n.selection.getRng())&&!yn.isDefaultPrevented()&&n.selection.select(Vo)},In=yn=>o.hasClass(yn,"mce-preview-object")&&Ae(yn.firstElementChild)?[yn,yn.firstElementChild]:o.is(yn,"figure.image")?[yn.querySelector("img")]:[yn],Wn=yn=>{const Vo=ND(n);return!Vo||yn.getAttribute("data-mce-resize")==="false"||yn===n.getBody()?!1:o.hasClass(yn,"mce-preview-object")&&Ae(yn.firstElementChild)?Br(Ke.fromDom(yn.firstElementChild),Vo):Br(Ke.fromDom(yn),Vo)},$o=(yn,Vo)=>{if(Rt(Vo))return yn.create("img",{src:zo.transparentSrc});if(wu(Vo)){const La=cs($.name,"n")?En:uo,Ur=Vo.cloneNode(!0);return La(yn.select("tr",Ur)).each(Ca=>{const vm=yn.select("td,th",Ca);yn.setStyle(Ca,"height",null),be(vm,sp=>yn.setStyle(sp,"height",null))}),Ur}else return Vo.cloneNode(!0)},jo=(yn,Vo,Zo)=>{if(Ae(Zo)){const La=In(yn);be(La,Ur=>{Ur.style[Vo]||!n.schema.isValid(Ur.nodeName.toLowerCase(),Vo)?o.setStyle(Ur,Vo,Zo):o.setAttrib(Ur,Vo,""+Zo)})}},Lr=(yn,Vo,Zo)=>{jo(yn,"width",Vo),jo(yn,"height",Zo)},Kr=yn=>{let Vo,Zo,La,Ur,Ca;Vo=yn.screenX-X,Zo=yn.screenY-ne,ot=Vo*$[2]+ye,bt=Zo*$[3]+De,ot=ot<5?5:ot,bt=bt<5?5:bt,(wn(p)||Rt(p))&&PD(n)!==!1?La=!hn.modifierPressed(yn):La=hn.modifierPressed(yn),La&&(Pu(Vo)>Pu(Zo)?(bt=ob(ot*Je),ot=ob(bt/Je)):(ot=ob(bt/Je),bt=ob(ot*Je))),Lr(_,ot,bt),Ur=$.startPos.x+Vo,Ca=$.startPos.y+Zo,Ur=Ur>0?Ur:0,Ca=Ca>0?Ca:0,o.setStyles(A,{left:Ur,top:Ca,display:"block"}),A.innerHTML=ot+" &times; "+bt,$[2]<0&&_.clientWidth<=ot&&o.setStyle(_,"left",ve+(ye-ot)),$[3]<0&&_.clientHeight<=bt&&o.setStyle(_,"top",Ee+(De-bt)),Vo=g.scrollWidth-zt,Zo=g.scrollHeight-en,Vo+Zo!==0&&o.setStyles(A,{left:Ur-Vo,top:Ca-Zo}),st||(a7(n,p,ye,De,"corner-"+$.name),st=!0)},gi=()=>{const yn=st;st=!1,yn&&(jo(p,"width",ot),jo(p,"height",bt)),o.unbind(a,"mousemove",Kr),o.unbind(a,"mouseup",gi),c!==a&&(o.unbind(c,"mousemove",Kr),o.unbind(c,"mouseup",gi)),o.remove(_),o.remove(A),o.remove(q),Ll(p),yn&&(l7(n,p,ot,bt,"corner-"+$.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},Ll=yn=>{fn();const Vo=o.getPos(yn,g),Zo=Vo.x,La=Vo.y,Ur=yn.getBoundingClientRect(),Ca=Ur.width||Ur.right-Ur.left,vm=Ur.height||Ur.bottom-Ur.top;p!==yn&&(ln(),p=yn,ot=bt=0);const sp=n.dispatch("ObjectSelected",{target:yn});Wn(yn)&&!sp.isDefaultPrevented()?ur(Y_,(kc,Td)=>{const ym=xm=>{const Zn=In(p)[0];X=xm.screenX,ne=xm.screenY,ye=Zn.clientWidth,De=Zn.clientHeight,Je=De/ye,$=kc,$.name=Td,$.startPos={x:Ca*kc[0]+Zo,y:vm*kc[1]+La},zt=g.scrollWidth,en=g.scrollHeight,q=o.add(g,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=$o(o,p),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:Zo,top:La,margin:0}),Lr(_,Ca,vm),_.removeAttribute(i0),g.appendChild(_),o.bind(a,"mousemove",Kr),o.bind(a,"mouseup",gi),c!==a&&(o.bind(c,"mousemove",Kr),o.bind(c,"mouseup",gi)),A=o.add(g,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ye+" &times; "+De)};let Od=o.get("mceResizeHandle"+Td);Od&&o.remove(Od),Od=o.add(g,"div",{id:"mceResizeHandle"+Td,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Td+"-resize; margin:0; padding:0"}),o.bind(Od,"mousedown",xm=>{xm.stopImmediatePropagation(),xm.preventDefault(),ym(xm)}),kc.elm=Od,o.setStyles(Od,{left:Ca*kc[0]+Zo-Od.offsetWidth/2,top:vm*kc[1]+La-Od.offsetHeight/2})}):ln(!1)},es=Ah(Ll,0),ln=(yn=!0)=>{es.cancel(),fn(),p&&yn&&p.removeAttribute(i0),ur(Y_,(Vo,Zo)=>{const La=o.get("mceResizeHandle"+Zo);La&&(o.unbind(La),o.remove(La))})},Vn=(yn,Vo)=>o.isChildOf(yn,Vo),Cr=yn=>{if(st||n.removed||n.composing)return;const Vo=yn.type==="mousedown"?yn.target:e.getNode(),Zo=Yi(Ke.fromDom(Vo),g7).map(Ur=>Ur.dom).filter(Ur=>o.isEditable(Ur.parentElement)||Ur.nodeName==="IMG"&&o.isEditable(Ur)).getOrUndefined(),La=Ae(Zo)?o.getAttrib(Zo,i0,"1"):"1";if(be(o.select(`img[${i0}],hr[${i0}]`),Ur=>{Ur.removeAttribute(i0)}),Ae(Zo)&&Vn(Zo,g)&&n.hasFocus()){Qn();const Ur=e.getStart(!0);if(Vn(Ur,Zo)&&Vn(e.getEnd(!0),Zo)){o.setAttrib(Zo,i0,La),es.throttle(Zo);return}}ln()},fn=()=>{ur(Y_,yn=>{yn.elm&&(o.unbind(yn.elm),delete yn.elm)})},Qn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Qn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Cr),n.on("keyup compositionend",yn=>{p&&p.nodeName==="TABLE"&&Cr(yn)}),n.on("hide blur",ln),n.on("contextmenu longpress",$t,!0)}),n.on("remove",fn),{isResizable:Wn,showResizeRect:Ll,hideResizeRect:ln,updateResizeRect:Cr,destroy:()=>{es.cancel(),p=_=q=null}}},Cy=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},X_=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},XA=(e,n,o)=>{const a=e.document.createRange();return Cy(a,n),X_(a,o),a},rw=(e,n,o,a,c)=>{const g=e.document.createRange();return g.setStart(n.dom,o),g.setEnd(a.dom,c),g},a0=Xo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),XR=(e,n,o)=>n(Ke.fromDom(o.startContainer),o.startOffset,Ke.fromDom(o.endContainer),o.endOffset),JA=(e,n)=>n.match({domRange:o=>({ltr:ut(o),rtl:Q.none}),relative:(o,a)=>({ltr:Hl(()=>XA(e,o,a)),rtl:Hl(()=>Q.some(XA(e,a,o)))}),exact:(o,a,c,g)=>({ltr:Hl(()=>rw(e,o,a,c,g)),rtl:Hl(()=>Q.some(rw(e,c,g,o,a)))})}),h7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>a0.rtl(Ke.fromDom(c.endContainer),c.endOffset,Ke.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>XR(e,a0.ltr,o)):XR(e,a0.ltr,o)},JR=(e,n)=>{const o=JA(e,n);return h7(e,o)};a0.ltr,a0.rtl;const J_={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},QR=(e,n,o)=>{var a;return Q.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return Q.none();const g=e.createRange();return g.setStart(c.offsetNode,c.offset),g.collapse(),Q.some(g)})},Q_=(e,n,o)=>{var a;return Q.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,n,o))},b7=(e,n,o)=>e.caretPositionFromPoint?QR(e,n,o):e.caretRangeFromPoint?Q_(e,n,o):Q.none(),v7=(e,n,o)=>{const a=e.document;return b7(a,n,o).map(c=>J_.create(Ke.fromDom(c.startContainer),c.startOffset,Ke.fromDom(c.endContainer),c.endOffset))},QA=Xo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),y7=(e,n,o,a)=>e.fold(n,o,a),x7=e=>e.fold(kn,kn,kn),eN=QA.before,w7=QA.on,C7=QA.after,bg={before:eN,on:w7,after:C7,cata:y7,getStart:x7},sw=Xo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_7=e=>sw.exact(e.start,e.soffset,e.finish,e.foffset),S7=e=>e.match({domRange:n=>Ke.fromDom(n.startContainer),relative:(n,o)=>bg.getStart(n),exact:(n,o,a,c)=>n}),tN=sw.domRange,pd=sw.relative,k7=sw.exact,nN=e=>{const n=S7(e);return td(n)},e3=J_.create,rb={domRange:tN,relative:pd,exact:k7,exactFromRange:_7,getWin:nN,range:e3},iw=(e,n)=>{const o=er(e);return o==="input"?bg.after(e):xe(["br","img"],o)?n===0?bg.before(e):bg.after(e):bg.on(e,n)},oN=(e,n)=>{const o=e.fold(bg.before,iw,bg.after),a=n.fold(bg.before,iw,bg.after);return rb.relative(o,a)},eS=(e,n,o,a)=>{const c=iw(e,n),g=iw(o,a);return rb.relative(c,g)},rN=e=>e.match({domRange:n=>{const o=Ke.fromDom(n.startContainer),a=Ke.fromDom(n.endContainer);return eS(o,n.startOffset,a,n.endOffset)},relative:oN,exact:eS}),Qc=(e,n)=>{const a=document.createDocumentFragment();return be(e,c=>{a.appendChild(c.dom)}),Ke.fromDom(a)},E7=e=>{const n=rb.getWin(e).dom,o=(c,g,p,_)=>rw(n,c,g,p,_),a=rN(e);return JR(n,a).match({ltr:o,rtl:o})},t3=(e,n,o)=>v7(e,n,o),sN=(e,n,o)=>{const a=td(Ke.fromDom(o));return t3(a.dom,e,n).map(c=>{const g=o.createRange();return g.setStart(c.start.dom,c.soffset),g.setEnd(c.finish.dom,c.foffset),g}).getOrUndefined()},aw=(e,n)=>Ae(e)&&Ae(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,fm=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},tS=(e,n,o)=>fm(e,n,o)!==null,nS=(e,n,o)=>tS(e,n,a=>a.nodeName===o),iN=(e,n)=>nc(e)&&!tS(e,n,Ru),aN=(e,n,o)=>{const a=n.parentNode;if(a){const c=new ma(n,e.getParent(a,e.isBlock)||e.getRoot());let g;for(;g=c[o?"prev":"next"]();)if(bs(g))return!0}return!1},lN=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},cN=(e,n)=>{let o=n;for(;o&&o!==e;){if(xo(o))return!0;o=o.parentNode}return!1},lw=(e,n,o,a,c)=>{const g=e.getRoot(),p=e.schema.getNonEmptyElements(),_=c.parentNode;let A,$;if(!_)return Q.none();const q=e.getParent(_,e.isBlock)||g;if(a&&bs(c)&&n&&e.isEmpty(q))return Q.some(St(_,e.nodeIndex(c)));const X=new ma(c,q);for(;$=X[a?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||iN($,g))return Q.none();if(jt($)&&$.data.length>0)return nS($,g,"A")?Q.none():Q.some(St($,a?$.data.length:0));if(e.isBlock($)||p[$.nodeName.toLowerCase()])return Q.none();A=$}return No(A)?Q.none():o&&A?Q.some(St(A,0)):Q.none()},n3=(e,n,o,a)=>{const c=e.getRoot();let g,p=!1,_=o?a.startContainer:a.endContainer,A=o?a.startOffset:a.endOffset;const $=Nn(_)&&A===_.childNodes.length,q=e.schema.getNonEmptyElements();let X=o;if(nc(_))return Q.none();if(Nn(_)&&A>_.childNodes.length-1&&(X=!1),Bn(_)&&(_=c,A=0),_===c){if(X&&(g=_.childNodes[A>0?A-1:0],g&&(nc(g)||q[g.nodeName]||wu(g))))return Q.none();if(_.hasChildNodes()){if(A=Math.min(!X&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=jt(_)&&$?_.data.length:0,!n&&_===c.lastChild&&wu(_)||cN(c,_)||nc(_)||Rp(_))return Q.none();if(_.hasChildNodes()&&!wu(_)){g=_;const ne=new ma(_,c);do{if(xo(g)||nc(g)){p=!1;break}if(jt(g)&&g.data.length>0){A=X?0:g.data.length,_=g,p=!0;break}if(q[g.nodeName.toLowerCase()]&&!YC(g)){A=e.nodeIndex(g),_=g.parentNode,X||A++,p=!0;break}}while(g=X?ne.next():ne.prev())}}}return n&&(jt(_)&&A===0&&lw(e,$,n,!0,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),Nn(_)&&(g=_.childNodes[A],g||(g=_.childNodes[A-1]),g&&bs(g)&&!lN(g,"A")&&!aN(e,g,!1)&&!aN(e,g,!0)&&lw(e,$,n,!0,g).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}))),X&&!n&&jt(_)&&A===_.data.length&&lw(e,$,n,!1,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),p&&_?Q.some(St(_,A)):Q.none()},vg=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),c=St.fromRangeStart(n);return n3(e,o,!0,a).each(g=>{(!o||!St.isAbove(c,g))&&a.setStart(g.container(),g.offset())}),o||n3(e,o,!1,a).each(g=>{a.setEnd(g.container(),g.offset())}),o&&a.collapse(!0),aw(n,a)?Q.none():Q.some(a)},cw=(e,n)=>e.splitText(n),uw=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(n===a&&jt(n)){if(o>0&&o<n.data.length)if(a=cw(n,o),n=a.previousSibling,c>o){c=c-o;const g=cw(a,c).previousSibling;n=a=g,c=g.data.length,o=0}else c=0}else if(jt(n)&&o>0&&o<n.data.length&&(n=cw(n,o),o=0),jt(a)&&c>0&&c<a.data.length){const g=cw(a,c).previousSibling;a=g,c=g.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:c}},sb=e=>({walk:(g,p)=>J2(e,g,p),split:uw,expand:(g,p={type:"word"})=>{if(p.type==="word"){const _=eb(e,g,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return g},normalize:g=>vg(e,g).fold(On,p=>(g.setStart(p.startContainer,p.startOffset),g.setEnd(p.endContainer,p.endOffset),!0))});sb.compareRanges=aw,sb.getCaretRangeFromPoint=sN,sb.getSelectedNode=Wp,sb.getNode=Ai;const o3=((e,n)=>{const o=(_,A)=>{if(!R(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const $=_.dom;za($)&&($.style[e]=A+"px")},a=_=>{const A=n(_);if(A<=0||A===null){const $=Us(_,e);return parseFloat($)||0}return A},c=a,g=(_,A)=>sn(A,($,q)=>{const X=Us(_,q),ne=X===void 0?0:parseInt(X,10);return isNaN(ne)?$:$+ne},0);return{set:o,get:a,getOuter:c,aggregate:g,max:(_,A,$)=>{const q=g(_,$);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return Va(e)?n.getBoundingClientRect().height:n.offsetHeight}),l0=e=>o3.get(e),uN=()=>Ke.fromDom(document),dN=(e,n)=>e.view(n).fold(ut([]),a=>{const c=e.owner(a),g=dN(e,c);return[a].concat(g)}),oS=(e,n)=>{const o=n.owner(e);return dN(n,o)};var O7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?Q.none():Q.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ke.fromDom)},owner:e=>fc(e)});const fN=e=>{const n=uN(),o=mo(n),a=oS(e,O7),c=So(e),g=ht(a,(p,_)=>{const A=So(_);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return Le(g.left+c.left+o.left,g.top+c.top+o.top)},zh=e=>er(e)==="textarea",mN=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),gN=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},hN=(e,n)=>{const o=fa(e);if(o.length===0||zh(e))return{element:e,offset:n};if(n<o.length&&!zh(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return zh(a)?{element:e,offset:n}:er(a)==="img"?{element:a,offset:1}:us(a)?{element:a,offset:sg(a).length}:{element:a,offset:fa(a).length}}},dw=(e,n)=>{const o=Yn(e),a=l0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},pN=(e,n)=>{const o=hN(e,n),a=Ke.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ei+"</span>");return Is(o.element,a),dw(a,()=>Pr(a))},bN=e=>dw(Ke.fromDom(e),Ze),vN=(e,n,o,a)=>{xN(e,(c,g)=>yN(e,n,o,a),o)},fw=(e,n,o,a,c)=>{const g={elm:a.element.dom,alignToTop:c};if(mN(e,g))return;const p=mo(n).top;o(e,n,p,a,c),gN(e,g)},yN=(e,n,o,a)=>{const c=Ke.fromDom(e.getBody()),g=Ke.fromDom(e.getDoc());C1(c);const p=pN(Ke.fromDom(o.startContainer),o.startOffset);fw(e,g,n,p,a),p.cleanup()},rS=(e,n,o,a)=>{const c=Ke.fromDom(e.getDoc());fw(e,c,o,bN(n),a)},xN=(e,n,o)=>{const a=o.startContainer,c=o.startOffset,g=o.endContainer,p=o.endOffset;n(Ke.fromDom(a),Ke.fromDom(g));const _=e.dom.createRng();_.setStart(a,c),_.setEnd(g,p),e.selection.setRng(o)},mw=(e,n,o,a,c)=>{const g=n.pos;if(a)Pn(g.left,g.top,c);else{const p=g.top-o+n.height;Pn(-e.getBody().getBoundingClientRect().left,p,c)}},r3=(e,n,o,a,c,g)=>{const p=a+o,_=c.pos.top,A=c.bottom,$=A-_>=a;_<o?mw(e,c,a,g!==!1,n):_>p?mw(e,c,a,$?g!==!1:g===!0,n):A>p&&!$&&mw(e,c,a,g===!0,n)},gw=(e,n,o,a,c)=>{const g=td(n).dom.innerHeight;r3(e,n,o,g,a,c)},yg=(e,n,o,a,c)=>{const g=td(n).dom.innerHeight;r3(e,n,o,g,a,c);const p=fN(a.element),_=Fc(window);p.top<_.y?wr(a.element,c!==!1):p.top>_.bottom&&wr(a.element,c===!0)},I7=(e,n,o)=>vN(e,gw,n,o),s3=(e,n,o)=>rS(e,n,gw,o),xi=(e,n,o)=>vN(e,yg,n,o),i3=(e,n,o)=>rS(e,n,yg,o),a3=(e,n,o)=>{(e.inline?s3:i3)(e,n,o)},bd=(e,n,o)=>{(e.inline?I7:xi)(e,n,o)},l3=(e,n=!1)=>e.dom.focus({preventScroll:n}),c3=e=>{const n=pu(e).dom;return e.dom===n.activeElement},c0=(e=uN())=>Q.from(e.dom.activeElement).map(Ke.fromDom),D7=e=>c0(pu(e)).filter(n=>e.dom.contains(n.dom)),wN=(e,n)=>{const o=us(n)?sg(n).length:fa(n).length+1;return e>o?o:e<0?0:e},_y=e=>rb.range(e.start,wN(e.soffset,e.start),e.finish,wN(e.foffset,e.finish)),CN=(e,n)=>!$f(n.dom)&&(ua(e,n)||tr(e,n)),ib=e=>n=>CN(e,n.start)&&CN(e,n.finish),R7=e=>e.inline||zo.browser.isFirefox(),ab=e=>rb.range(Ke.fromDom(e.startContainer),e.startOffset,Ke.fromDom(e.endContainer),e.endOffset),N7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?Q.none():Q.from(n.getRangeAt(0))).map(ab)},vd=e=>{const n=td(e);return N7(n.dom).filter(ib(e))},hw=(e,n)=>Q.from(n).filter(ib(e)).map(_y),u3=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Q.some(n)}catch{return Q.none()}},Sy=e=>{const n=R7(e)?vd(Ke.fromDom(e.getBody())):Q.none();e.bookmark=n.isSome()?n:e.bookmark},d3=e=>(e.bookmark?e.bookmark:Q.none()).bind(o=>hw(Ke.fromDom(e.getBody()),o)).bind(u3),sS=e=>{d3(e).each(n=>e.selection.setRng(n))},yd={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},iS=(e,n)=>(R(n)||(n=0),setTimeout(e,n)),_N=(e,n)=>(R(n)||(n=0),setInterval(e,n)),eu={setEditorTimeout:(e,n,o)=>iS(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=_N(()=>{e.removed?clearInterval(a):n()},o);return a}},f3=e=>e.type==="nodechange"&&e.selectionChange,u0=(e,n)=>{const o=()=>{n.throttle()};Jr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Jr.DOM.unbind(document,"mouseup",o)})},m3=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},SN=(e,n)=>{m3(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{f3(o)||Sy(e)})},P7=e=>{const n=Ah(()=>{Sy(e)},0);e.on("init",()=>{e.inline&&u0(e,n),SN(e,n)}),e.on("remove",()=>{n.cancel()})};let xg;const g3=Jr.DOM,kN=e=>Nn(e)&&yd.isEditorUIElement(e),pw=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},aS=(e,n)=>{const o=MD(e);return g3.getParent(n,c=>kN(c)||(o?e.dom.is(c,o):!1))!==null},lS=e=>{try{const n=pu(Ke.fromDom(e.getElement()));return c0(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},EN=(e,n)=>{const o=n.editor;P7(o);const a=(c,g)=>{if(jD(c)&&c.inline!==!0){const p=Ke.fromDom(c.getContainer());g(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;pw(lS(o))&&a(o,Kd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{eu.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!pw(lS(o))||c!==o)&&a(o,$a),!aS(o,lS(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),xg||(xg=c=>{const g=e.activeEditor;g&&nv(c).each(p=>{const _=p;_.ownerDocument===document&&_!==document.body&&!aS(g,_)&&e.focusedEditor===g&&(g.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},g3.bind(document,"focusin",xg))},L7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&xg&&(g3.unbind(document,"focusin",xg),xg=null)},M7=e=>{e.on("AddEditor",tt(EN,e)),e.on("RemoveEditor",tt(L7,e))},B7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),F7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,$7=e=>e.collapsed?Q.from(Ai(e.startContainer,e.startOffset)).map(Ke.fromDom):Q.none(),V7=(e,n)=>$7(n).bind(o=>Ih(o)?Q.some(o):ua(e,o)?Q.none():Q.some(e)),AN=(e,n)=>{V7(Ke.fromDom(e.getBody()),n).bind(o=>oo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},cS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},z7=e=>c3(e)||D7(e).isSome(),H7=e=>Ae(e.iframeElement)&&c3(Ke.fromDom(e.iframeElement)),U7=e=>{const n=e.getBody();return n&&z7(Ke.fromDom(n))},TN=e=>{const n=pu(Ke.fromDom(e.getElement()));return c0(n).filter(o=>!pw(o.dom)&&aS(e,o.dom)).isSome()},ky=e=>e.inline?U7(e):H7(e),d0=e=>ky(e)||TN(e),W7=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable();const c=p=>{d3(p).each(_=>{p.selection.setRng(_),a=_})};!ky(e)&&e.hasEditableRoot()&&c(e);const g=B7(e,n.getNode());if(g&&e.dom.isChildOf(g,o)){F7(e,g)||cS(o),cS(g),e.hasEditableRoot()||c(e),AN(e,a),h3(e);return}e.inline||(zo.browser.isOpera()||cS(o),e.getWin().focus()),(zo.browser.isFirefox()||e.inline)&&(cS(o),AN(e,a)),h3(e)},h3=e=>e.editorManager.setActive(e),ON=(e,n)=>{e.removed||(n?h3(e):W7(e))},IN=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),DN=(e,n,o,a,c)=>{const g=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return Q.from(g).map(Ke.fromDom).map(_=>!a||!n.collapsed?od(_,c(_,p)).getOr(_):_).bind(_=>Hs(_)?Q.some(_):da(_).filter(Hs)).map(_=>_.dom).getOr(e)},RN=(e,n,o=!1)=>DN(e,n,!0,o,(a,c)=>Math.min(Zd(a),c)),NN=(e,n,o=!1)=>DN(e,n,!1,o,(a,c)=>c>0?c-1:c),PN=(e,n)=>{const o=e;for(;e&&jt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},K7=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const c=n.startOffset,g=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===a&&g-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),jt(o)&&jt(a)&&(o.length===c?o=PN(o.nextSibling,!0):o=o.parentNode,g===0?a=PN(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const _=jt(p)?p.parentNode:p;return xu(_)?_:e},p3=(e,n,o,a)=>{const c=[],g=e.getRoot(),p=e.getParent(o||RN(g,n,n.collapsed),e.isBlock),_=e.getParent(a||NN(g,n,n.collapsed),e.isBlock);if(p&&p!==g&&c.push(p),p&&_&&p!==_){let A;const $=new ma(p,g);for(;(A=$.next())&&A!==_;)e.isBlock(A)&&c.push(A)}return _&&p!==_&&_!==g&&c.push(_),c},bw=(e,n,o)=>Q.from(n).bind(a=>Q.from(a.parentNode).map(c=>{const g=e.nodeIndex(a),p=e.createRng();return p.setStart(c,g),p.setEnd(c,g+1),o&&(j2(e,p,a,!0),j2(e,p,a,!1)),p})),uS=(e,n)=>$e(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),j7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},f0=(e,n,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==n){let g=e[c];if(g)return g;for(let p=e.parent;p&&p!==n;p=p.parent)if(g=p[c],g)return g}},LN=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!gc(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},Bi=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Pa{static create(n,o){const a=new Pa(n,j7[n]||1);return o&&ur(o,(c,g)=>{a.attr(g,c)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!ue(n))return Ae(n)&&ur(n,(g,p)=>{a.attr(p,g)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let g=c.length;for(;g--;)if(c[g].name===n)return c.splice(g,1),a}return a}if(n in c.map){let g=c.length;for(;g--;)if(c[g].name===n){c[g].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,a}return c.map[n]}}clone(){const n=this,o=new Pa(n.name,n.type),a=n.attributes;if(a){const c=[];c.map={};for(let g=0,p=a.length;g<p;g++){const _=a[g];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,a=[];for(let c=o.firstChild;c;c=f0(c,o))c.name===n&&a.push(c);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=f0(c,n))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var c;const g=this;let p=g.firstChild;if(Bi(g))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||Bi(p))return!1}if(p.type===8||p.type===3&&!LN(p)||p.type===3&&p.parent&&o[p.parent.name]&&gc((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=f0(p,g));return!0}walk(n){return f0(this,null,n)}}const MN=tn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),dS=e=>ue(e.nodeValue)&&e.nodeValue.includes(Ei),vw=e=>`${e.length===0?"":`${$e(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,lb=(e,n)=>n.querySelectorAll(vw(e)),Hh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>dS(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),BN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(dS(n)){const o=n.parentNode;return o&&fo(MN,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Z7=e=>Hh(e).nextNode()!==null,Ey=e=>BN(e).nextNode()!==null,Ay=(e,n)=>n.querySelector(vw(e))!==null,Ty=(e,n)=>{be(lb(e,n),o=>{const a=Ke.fromDom(o);Oa(a,"data-mce-bogus")==="all"?Pr(a):be(e,c=>{Ud(a,c)&&Lo(a,c)})})},fS=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},b3=Ot(fS,Hh),FN=Ot(fS,BN),v3=(e,n)=>{const o=[{condition:tt(Ay,n),action:tt(Ty,n)},{condition:Z7,action:b3},{condition:Ey,action:FN}];let a=e,c=!1;return be(o,({condition:g,action:p})=>{g(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},$N=e=>{const n=vi(e,"[data-mce-bogus]");be(n,o=>{Oa(o,"data-mce-bogus")==="all"?Pr(o):fd(o)?(Is(o,Ke.fromText(Ds)),Pr(o)):Ua(o)})},VN=e=>{const n=vi(e,"input");be(n,o=>{Lo(o,"name")})},zN=(e,n)=>{const o=ml(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},HN=(e,n)=>{const o=e.getDoc(),a=pu(Ke.fromDom(e.getBody())),c=Ke.fromTag("div",o);_i(c,"data-mce-bogus","all"),Yo(c,{position:"fixed",left:"-9999999px",top:"0"}),Wm(c,n.innerHTML),$N(c),VN(c);const g=w1(a);Ws(g,c);const p=Il(c.dom.innerText);return Pr(c),p},yw=(e,n,o)=>{let a;return n.format==="raw"?a=tn.trim(Il(v3(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?a=HN(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=zN(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Lv(Ke.fromDom(o))&&ue(a)?tn.trim(a):a},UN=(e,n)=>Q.from(e.getBody()).fold(ut(n.format==="tree"?new Pa("body",11):""),o=>yw(e,n,o)),y3=tn.makeMap,x3=e=>{const n=[];e=e||{};const o=e.indent,a=y3(e.indent_before||""),c=y3(e.indent_after||""),g=vh.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(_,A,$)=>{if(o&&a[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",_),A)for(let q=0,X=A.length;q<X;q++){const ne=A[q];n.push(" ",ne.name,'="',g(ne.value,!0),'"')}if(!$||p?n[n.length]=">":n[n.length]=" />",$&&o&&c[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:_=>{let A;n.push("</",_,">"),o&&c[_]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(_,A)=>{_.length>0&&(n[n.length]=A?_:g(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,A)=>{A?n.push("<?",_," ",g(A),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Uh=(e={},n=Kc())=>{const o=x3(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const g=e.validate,p={3:A=>{var $;o.text(($=A.value)!==null&&$!==void 0?$:"",A.raw)},8:A=>{var $;o.comment(($=A.value)!==null&&$!==void 0?$:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var $;o.doctype(($=A.value)!==null&&$!==void 0?$:"")},4:A=>{var $;o.cdata(($=A.value)!==null&&$!==void 0?$:"")},11:A=>{let $=A;if($=$.firstChild)do _($);while($=$.next)}};o.reset();const _=A=>{var $;const q=p[A.type];if(q)q(A);else{const X=A.name,ne=X in n.getVoidElements();let ve=A.attributes;if(g&&ve&&ve.length>1){const Ee=[];Ee.map={};const ye=n.getElementRule(A.name);if(ye){for(let De=0,Je=ye.attributesOrder.length;De<Je;De++){const st=ye.attributesOrder[De];if(st in ve.map){const ot=ve.map[st];Ee.map[st]=ot,Ee.push({name:st,value:ot})}}for(let De=0,Je=ve.length;De<Je;De++){const st=ve[De].name;if(!(st in Ee.map)){const ot=ve.map[st];Ee.map[st]=ot,Ee.push({name:st,value:ot})}}ve=Ee}}if(o.start(X,ve,ne),qm(X))ue(A.value)&&o.text(A.value,!0),o.end(X);else if(!ne){let Ee=A.firstChild;if(Ee){(X==="pre"||X==="textarea")&&Ee.type===3&&(($=Ee.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do _(Ee);while(Ee=Ee.next)}o.end(X)}}};return c.type===1&&!e.inner?_(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},w3=new Set;be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{w3.add(n)});const C3=new Set;be(["background-color"],n=>{C3.add(n)});const _3=["font","text-decoration","text-emphasis"],WN=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),m0=(e,n)=>Xt(WN(e,n)),S3=e=>w3.has(e),xw=e=>C3.has(e),k3=(e,n)=>Te(m0(e,n),o=>S3(o)),KN=(e,n)=>k3(e,n)&&Te(m0(e,n),o=>xw(o)),mS=e=>qe(e,n=>Te(_3,o=>cs(n,o))),G7=(e,n,o)=>{const a=m0(e,n),c=m0(e,o),g=p=>{var _,A;const $=(_=e.getStyle(n,p))!==null&&_!==void 0?_:"",q=(A=e.getStyle(o,p))!==null&&A!==void 0?A:"";return rt($)&&rt(q)&&$!==q};return Te(a,p=>{const _=A=>Te(A,$=>$===p);if(!_(c)&&_(_3)){const A=mS(c);return Te(A,g)}else return g(p)})},jN=(e,n,o)=>Q.from(o.container()).filter(jt).exists(a=>{const c=e?0:-1;return n(a.data.charAt(o.offset()+c))}),Wh=tt(jN,!0,o0),ww=tt(jN,!1,o0),ZN=e=>{const n=e.container();return jt(n)&&(n.data.length===0||qc(n.data)&&Gr.isBookmarkNode(n.parentNode))},uf=(e,n)=>o=>I_(e?0:-1,o).filter(n).isSome(),E3=e=>Vc(e)&&Us(Ke.fromDom(e),"display")==="block",gS=e=>xo(e)&&!S1(e),GN=uf(!0,E3),qN=uf(!1,E3),g0=uf(!0,It),Oy=uf(!1,It),YN=uf(!0,wu),Iy=uf(!1,wu),Fi=uf(!0,gS),mm=uf(!1,gS),h0=e=>e.slice(0,-1),XN=(e,n,o)=>ua(n,e)?h0(Vm(e,a=>o(a)||tr(a,n))):[],xc=(e,n)=>XN(e,n,On),tu=(e,n)=>[e].concat(xc(e,n)),hS=(e,n,o)=>yR(e,n,o,ZN),JN=e=>n=>e.isBlock(er(n)),A3=(e,n,o)=>bn(tu(Ke.fromDom(n.container()),e),JN(o)),Dy=(e,n,o,a)=>hS(e,n.dom,o).forall(c=>A3(n,o,a).fold(()=>!gg(c,o,n.dom),g=>!gg(c,o,n.dom)&&ua(g,Ke.fromDom(c.container())))),pS=(e,n,o,a)=>A3(n,o,a).fold(()=>hS(e,n.dom,o).forall(c=>!gg(c,o,n.dom)),c=>hS(e,c.dom,o).isNone()),bS=tt(pS,!1),QN=tt(pS,!0),T3=tt(Dy,!1),O3=tt(Dy,!0),q7=e=>D_(e).exists(fd),xd=(e,n,o,a)=>{const c=qe(tu(Ke.fromDom(o.container()),n),p=>a.isBlock(er(p))),g=En(c).getOr(n);return Du(e,g.dom,o).filter(q7)},Cw=(e,n,o)=>D_(n).exists(fd)||xd(!0,e,n,o).isSome(),p0=(e,n,o)=>X8(n).exists(fd)||xd(!1,e,n,o).isSome(),vS=tt(xd,!1),e5=tt(xd,!0),I3=e=>St.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),D3=(e,n,o)=>{const a=qe(tu(Ke.fromDom(n.container()),e),c=>o.isBlock(er(c)));return En(a).getOr(e)},t5=(e,n,o)=>I3(n)?ww(n):ww(n)||Xc(D3(e,n,o).dom,n).exists(ww),n5=(e,n,o)=>I3(n)?Wh(n):Wh(n)||oc(D3(e,n,o).dom,n).exists(Wh),o5=e=>xe(["pre","pre-wrap"],e),yS=e=>D_(e).bind(n=>bi(n,Hs)).exists(n=>o5(Us(n,"white-space"))),R3=(e,n)=>Xc(e.dom,n).isNone(),N3=(e,n)=>oc(e.dom,n).isNone(),r5=(e,n,o)=>R3(e,n)||N3(e,n)||bS(e,n,o)||QN(e,n,o)||p0(e,n,o)||Cw(e,n,o),P3=e=>Ae(e)&&xo(e)&&EA(e),L3=(e,n)=>o=>P3(new ma(o,e)[n]()),s5=(e,n)=>{const o=oc(e.dom,n).getOr(n),a=L3(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},M3=(e,n)=>{const o=Xc(e.dom,n).getOr(n),a=L3(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},B3=(e,n,o)=>yS(n)?!1:r5(e,n,o)||t5(e,n,o)||n5(e,n,o),Ry=(e,n,o)=>yS(n)?!1:bS(e,n,o)||T3(e,n,o)||p0(e,n,o)||t5(e,n,o)||M3(e,n),i5=e=>{const n=e.container(),o=e.offset();return jt(n)&&o<n.data.length?St(n,o+1):e},b0=(e,n,o)=>yS(n)?!1:QN(e,n,o)||O3(e,n,o)||Cw(e,n,o)||n5(e,n,o)||s5(e,n),F3=(e,n,o)=>Ry(e,n,o)||b0(e,i5(n),o),_w=(e,n)=>gl(e.charAt(n)),$3=(e,n)=>o0(e.charAt(n)),a5=e=>{const n=e.container();return jt(n)&&Mr(n.data,Ni)},Y7=e=>{const n=e.split("");return $e(n,(o,a)=>gl(o)&&a>0&&a<n.length-1&&Bh(n[a-1])&&Bh(n[a+1])?" ":o).join("")},l5=(e,n,o,a)=>{const c=n.data,g=St(n,0);return!o&&_w(c,0)&&!F3(e,g,a)?(n.data=" "+c.slice(1),!0):o&&$3(c,0)&&Ry(e,g,a)?(n.data=Ni+c.slice(1),!0):!1},c5=e=>{const n=e.data,o=Y7(n);return o!==n?(e.data=o,!0):!1},u5=(e,n,o,a)=>{const c=n.data,g=St(n,c.length-1);return!o&&_w(c,c.length-1)&&!F3(e,g,a)?(n.data=c.slice(0,-1)+" ",!0):o&&$3(c,c.length-1)&&b0(e,g,a)?(n.data=c.slice(0,-1)+Ni,!0):!1},d5=(e,n,o)=>{const a=n.container();if(!jt(a))return Q.none();if(a5(n)){const c=l5(e,a,!1,o)||c5(a)||u5(e,a,!1,o);return rh(c,n)}else if(F3(e,n,o)){const c=l5(e,a,!0,o)||u5(e,a,!0,o);return rh(c,n)}else return Q.none()},X7=e=>{const n=Ke.fromDom(e.getBody());e.selection.isCollapsed()&&d5(n,St.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},f5=(e,n,o,a)=>{if(o===0)return;const c=Ke.fromDom(e),g=al(c,$=>a.isBlock(er($))).getOr(c),p=e.data.slice(n,n+o),_=n+o>=e.data.length&&b0(g,St(e,e.data.length),a),A=n===0&&Ry(g,St(e,0),a);e.replaceData(n,o,av(p,4,A,_))},xS=(e,n,o)=>{const a=e.data.slice(n),c=a.length-yt(a).length;f5(e,n,c,o)},Vs=(e,n,o)=>{const a=e.data.slice(0,n),c=a.length-pt(a).length;f5(e,n-c,c,o)},Sw=(e,n,o,a,c=!0)=>{const g=pt(e.data).length,p=c?e:n,_=c?n:e;return c?p.appendData(_.data):p.insertData(0,_.data),Pr(Ke.fromDom(_)),a&&xS(p,g,o),p},J7=(e,n)=>{const o=e.container(),a=e.offset();return!St.isTextPosition(e)&&o===n.parentNode&&a>St.before(n).offset()},Q7=(e,n)=>J7(n,e)?St(n.container(),n.offset()-1):n,Ny=e=>jt(e)?St(e,0):St.before(e),cb=e=>jt(e)?St(e,e.data.length):St.after(e),wg=e=>Eu(e.previousSibling)?Q.some(cb(e.previousSibling)):e.previousSibling?gd(e.previousSibling):Q.none(),V3=e=>Eu(e.nextSibling)?Q.some(Ny(e.nextSibling)):e.nextSibling?oo(e.nextSibling):Q.none(),m5=(e,n)=>Q.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Xc(e,St.before(o))).orThunk(()=>oc(e,St.after(n))),g5=(e,n)=>oc(e,St.after(n)).orThunk(()=>Xc(e,St.before(n))),wS=(e,n)=>wg(n).orThunk(()=>V3(n)).orThunk(()=>m5(e,n)),e$=(e,n)=>V3(n).orThunk(()=>wg(n)).orThunk(()=>g5(e,n)),z3=(e,n,o)=>e?e$(n,o):wS(n,o),h5=(e,n,o)=>z3(e,n,o).map(tt(Q7,o)),H3=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},U3=e=>n=>n.dom===e,p5=(e,n)=>n&&fo(e.schema.getBlockElements(),er(n)),W3=(e,n,o)=>{if(js(e,n)){const a=Ke.fromHtml('<br data-mce-bogus="1">');return o?be(fa(n),c=>{H_(c)||Pr(c)}):os(n),Ws(n,a),Q.some(St.before(a.dom))}else return Q.none()},t$=(e,n,o,a)=>{const c=Si(e).filter(us),g=Gn(e).filter(us);return Pr(e),If(c,g,n,(p,_,A)=>{const $=p.dom,q=_.dom,X=$.data.length;return Sw($,q,o,a),A.container()===q?St($,X):A}).orThunk(()=>(a&&(c.each(p=>Vs(p.dom,p.dom.length,o)),g.each(p=>xS(p.dom,0,o))),n))},n$=(e,n)=>fo(e.schema.getTextInlineElements(),er(n)),Rl=(e,n,o,a=!0,c=!1)=>{const g=h5(n,e.getBody(),o.dom),p=al(o,tt(p5,e),U3(e.getBody())),_=t$(o,g,e.schema,n$(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(A=>W3(e.schema,A,c)).fold(()=>{a&&H3(e,n,_)},A=>{a&&H3(e,n,Q.some(A))})},b5=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,o$=e=>b5.test(e),v0=(e,n)=>Br(Ke.fromDom(n),ir(e))&&!Kf(e.schema,n)&&e.dom.isEditable(n),kw=e=>{var n;return Jr.DOM.getStyle(e,"direction",!0)==="rtl"||o$((n=e.textContent)!==null&&n!==void 0?n:"")},r$=(e,n,o)=>qe(Jr.DOM.getParents(o.container(),"*",n),e),ub=(e,n,o)=>{const a=r$(e,n,o);return Q.from(a[a.length-1])},v5=(e,n,o)=>{const a=Yp(n,e),c=Yp(o,e);return Ae(a)&&a===c},K3=e=>Mv(e)||J1(e),wd=(e,n)=>{const o=n.container(),a=n.offset();return e?ag(o)?jt(o.nextSibling)?St(o.nextSibling,0):St.after(o):Mv(n)?St(o,a+1):n:ag(o)?jt(o.previousSibling)?St(o.previousSibling,o.previousSibling.data.length):St.before(o):J1(n)?St(o,a-1):n},y5=tt(wd,!0),Py=tt(wd,!1),j3=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},x5=e=>{e.execCommand("delete")},CS=e=>j3(e,"Delete"),Z3=e=>j3(e,"ForwardDelete"),Ew=e=>n=>Tf(da(n),e,tr),w5=e=>Nv(e)||ig(e),Aw=(e,n)=>ua(e,n)?bi(n,w5,Ew(e)):Q.none(),_S=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},C5=(e,n,o)=>la(oo(o),gd(o),(a,c)=>{const g=wd(!0,a),p=wd(!1,c),_=wd(!1,n);return e?oc(o,_).exists(A=>A.isEqual(p)&&n.isEqual(g)):Xc(o,_).exists(A=>A.isEqual(g)&&n.isEqual(p))}).getOr(!0),df=e=>(lh(e)?Si(e):rd(e)).bind(df).orThunk(()=>Q.some(e)),SS=(e,n,o,a=!0)=>{var c;n.deleteContents();const g=df(o).getOr(o),p=Ke.fromDom((c=e.dom.getParent(g.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?_S(e,a):js(e.schema,p,{checkRootAsContent:!1})&&(Gc(p),a&&e.selection.setCursorLocation(p.dom,0)),!tr(o,p)){const _=Tf(da(p),o)?[]:tv(p);be(_.concat(fa(o)),A=>{!tr(A,p)&&!ua(A,p)&&js(e.schema,A)&&Pr(A)})}},s$=e=>n=>tr(e,n),G3=e=>vi(e,"td,th"),Ir=(e,n)=>$r(Ke.fromDom(e),n),i$=e=>la(e.startTable,e.endTable,(n,o)=>{const a=_1(n,g=>tr(g,o)),c=_1(o,g=>tr(g,n));return!a&&!c?e:{...e,startTable:a?Q.none():e.startTable,endTable:c?Q.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Tw=e=>i$(e),a$=(e,n)=>{const o=Ir(e.startContainer,n),a=Ir(e.endContainer,n),c=o.isSome(),g=a.isSome(),p=la(o,a,tr).getOr(!1);return Tw({startTable:o,endTable:a,isStartInTable:c,isEndInTable:g,isSameTable:p,isMultiTable:!p&&c&&g})},kS=(e,n)=>({start:e,end:n}),db=(e,n,o)=>({rng:e,table:n,cells:o}),hl=Xo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),fb=(e,n)=>Yi(Ke.fromDom(e),"td,th",n),Kh=e=>!tr(e.start,e.end),gm=(e,n)=>$r(e.start,n).bind(o=>$r(e.end,n).bind(a=>rh(tr(o,a),o))),Ow=(e,n)=>!Kh(e)&&gm(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),q3=(e,n)=>{const o=fb(e.startContainer,n),a=fb(e.endContainer,n);return la(o,a,kS)},Y3=e=>n=>$r(n,e).bind(o=>uo(G3(o)).map(a=>kS(n,a))),_5=e=>n=>$r(n,e).bind(o=>En(G3(o)).map(a=>kS(a,n))),ES=e=>n=>gm(n,e).map(o=>db(n,o,G3(o))),S5=(e,n,o,a)=>{if(o.collapsed||!e.forall(Kh))return Q.none();if(n.isSameTable){const c=e.bind(ES(a));return Q.some({start:c,end:c})}else{const c=fb(o.startContainer,a),g=fb(o.endContainer,a),p=c.bind(Y3(a)).bind(ES(a)),_=g.bind(_5(a)).bind(ES(a));return Q.some({start:p,end:_})}},k5=(e,n)=>qn(e,o=>tr(o,n)),AS=e=>la(k5(e.cells,e.rng.start),k5(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),E5=(e,n,o)=>e.exists(a=>Ow(a,o)&&K2(a.start,n)),X3=(e,n)=>{const{startTable:o,endTable:a}=n,c=e.cloneRange();return o.each(g=>c.setStartAfter(g.dom)),a.each(g=>c.setEndBefore(g.dom)),c},A5=(e,n,o,a)=>S5(e,n,o,a).bind(({start:c,end:g})=>c.or(g)).bind(c=>{const{isSameTable:g}=n,p=AS(c).getOr([]);if(g&&c.cells.length===p.length)return Q.some(hl.fullTable(c.table));if(p.length>0){if(g)return Q.some(hl.partialTable(p,Q.none()));{const _=X3(o,n);return Q.some(hl.partialTable(p,Q.some({...n,rng:_})))}}else return Q.none()}),J3=(e,n,o,a)=>S5(e,n,o,a).bind(({start:c,end:g})=>{const p=c.bind(AS).getOr([]),_=g.bind(AS).getOr([]);if(p.length>0&&_.length>0){const A=X3(o,n);return Q.some(hl.multiTable(p,_,A))}else return Q.none()}),l$=(e,n)=>{const o=s$(e),a=q3(n,o),c=a$(n,o);return E5(a,n,o)?a.map(g=>hl.singleCellTable(n,g.start)):c.isMultiTable?J3(a,c,n,o):A5(a,c,n,o)},T5=e=>be(e,n=>{Lo(n,"contenteditable"),Gc(n)}),c$=(e,n)=>Q.from(e.dom.getParent(n,e.dom.isBlock)).map(Ke.fromDom),Cg=(e,n,o)=>{o.each(a=>{n?Pr(a):(Gc(a),e.selection.setCursorLocation(a.dom,0))})},y0=(e,n,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),tT(e,c,n,!1).each(g=>g())},Q3=e=>{const n=cm(e),o=Ke.fromDom(e.selection.getNode());Dp(o.dom)&&js(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Te(n,a=>tr(a,o))&&_i(o,"data-mce-selected","1")},eT=(e,n,o)=>Q.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:g,isStartInTable:p})=>{const _=c$(e,p?g.endContainer:g.startContainer);g.deleteContents(),Cg(e,p,_.filter(tt(js,e.schema)));const A=p?n[0]:n[n.length-1];return y0(e,A,a,p),js(e.schema,A)?Q.none():Q.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);T5(c),Q3(e)}),O5=(e,n,o,a)=>Q.some(()=>{const c=e.selection.getRng(),g=n[0],p=o[o.length-1];y0(e,g,c,!0),y0(e,p,c,!1);const _=js(e.schema,g)?n:n.slice(1),A=js(e.schema,p)?o:o.slice(0,-1);T5(_.concat(A)),a.deleteContents(),Q3(e)}),tT=(e,n,o,a=!0)=>Q.some(()=>{SS(e,n,o,a)}),mb=(e,n)=>Q.some(()=>Rl(e,!1,n)),u$=(e,n,o)=>l$(n,o).bind(a=>a.fold(tt(tT,e),tt(mb,e),tt(eT,e),tt(O5,e))),d$=(e,n)=>TS(e,n),f$=(e,n,o,a)=>nT(n,a).fold(()=>u$(e,n,o),c=>d$(e,c)),m$=(e,n,o)=>{const a=Ke.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?eT(e,o,Q.none()):f$(e,a,c,n)},I5=(e,n)=>bn(tu(n,e),Zc),nT=(e,n)=>bn(tu(n,e),Nf("caption")),g$=(e,n,o,a,c)=>t0(o,e.getBody(),c).bind(g=>I5(n,Ke.fromDom(g.getNode())).bind(p=>tr(p,a)?Q.none():Q.some(Ze))),TS=(e,n)=>Q.some(()=>{Gc(n),e.selection.setCursorLocation(n.dom,0)}),h$=(e,n,o,a)=>oo(e.dom).bind(c=>gd(e.dom).map(g=>n?o.isEqual(c)&&a.isEqual(g):o.isEqual(g)&&a.isEqual(c))).getOr(!0),OS=(e,n)=>TS(e,n),p$=(e,n,o)=>nT(e,Ke.fromDom(o.getNode())).fold(()=>Q.some(Ze),a=>rh(!tr(a,n),Ze)),Iw=(e,n,o,a,c)=>t0(o,e.getBody(),c).fold(()=>Q.some(Ze),g=>h$(a,o,c,g)?OS(e,a):p$(n,a,g)),oT=(e,n,o,a)=>{const c=St.fromRangeStart(e.selection.getRng());return I5(o,a).bind(g=>js(e.schema,g,{checkRootAsContent:!1})?TS(e,g):g$(e,o,n,g,c))},x0=(e,n,o,a)=>{const c=St.fromRangeStart(e.selection.getRng());return js(e.schema,a)?TS(e,a):Iw(e,o,n,a,c)},gb=(e,n)=>e?YN(n):Iy(n),IS=(e,n)=>{const o=St.fromRangeStart(e.selection.getRng());return gb(n,o)||Du(n,e.getBody(),o).exists(a=>gb(n,a))},DS=(e,n,o)=>{const a=Ke.fromDom(e.getBody());return nT(a,o).fold(()=>oT(e,n,a,o).orThunk(()=>rh(IS(e,n),Ze)),c=>x0(e,n,a,c))},jh=(e,n)=>{const o=Ke.fromDom(e.selection.getStart(!0)),a=cm(e);return e.selection.isCollapsed()&&a.length===0?DS(e,n,o):m$(e,o,a)},Cd=(e,n)=>{let o=n;for(;o&&o!==e;){if(zc(o)||xo(o))return o;o=o.parentNode}return null},RS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],NS=tn.each,PS=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(g,p)=>{if(g.nodeName!==p.nodeName||g.nodeType!==p.nodeType)return!1;const _=$=>{const q={};return NS(n.getAttribs($),X=>{const ne=X.nodeName.toLowerCase();ne!=="style"&&!c(ne)&&(q[ne]=n.getAttrib($,ne))}),q},A=($,q)=>{for(const X in $)if(fo($,X)){const ne=q[X];if(Ye(ne)||$[X]!==ne)return!1;delete q[X]}for(const X in q)if(fo(q,X))return!1;return!0};return Nn(g)&&Nn(p)&&(!A(_(g),_(p))||!A(n.parseStyle(n.getAttrib(g,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Nu(g)&&!Nu(p)},c=g=>Te(RS,p=>cs(g,p))||o.has(g);return{compare:a,isAttributeInternal:c}},LS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),rT=e=>e.name==="summary",D5=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},sT=(e,n,o,a)=>{const c=o.name;for(let g=0,p=e.length;g<p;g++){const _=e[g];if(_.name===c){const A=a.nodes[c];A?A.nodes.push(o):a.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let g=0,p=n.length;g<p;g++){const _=n[g],A=_.name;if(A in o.attributes.map){const $=a.attributes[A];$?$.nodes.push(o):a.attributes[A]={filter:_,nodes:[o]}}}},Ly=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&D5(o,c=>{sT(e,n,c,a)}),a},iT=(e,n)=>{const o=(a,c)=>{ur(a,g=>{const p=Oo(g.nodes);be(g.filter.callbacks,_=>{for(let A=p.length-1;A>=0;A--){const $=p[A];(!(c?$.attr(g.filter.name)!==void 0:$.name===g.filter.name)||it($.parent))&&p.splice(A,1)}p.length>0&&_(p,g.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},aT=(e,n,o,a={})=>{const c=Ly(e,n,o);iT(c,a)},MS=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const g=new Pa("br",1);n.insert&&g.attr("data-mce-bogus","1"),a.empty().append(g)}else a.empty().append(new Pa("#text",3)).value=Ni},BS=e=>{var n;return lT(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Ni},lT=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ae(o)&&o===e.lastChild&&o.name===n},R5=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},My=(e,n,o,a)=>a.isEmpty(n,o,c=>R5(e,c)),N5=(e,n)=>Ae(e)&&(n(e)||e.name==="br"),Zh=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return Q.from(n)},_g=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!n.isValidChild(o.name,c.name)&&_g(c,n,o);e.unwrap()}},Lu=(e,n,o,a=Ze)=>{const c=n.getTextBlockElements(),g=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=tn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,$=q=>q!==o&&!_[q.name];for(let q=0;q<e.length;q++){const X=e[q];let ne,ve,Ee;if(!X.parent||A.has(X))continue;if(c[X.name]&&X.parent.name==="li"){let De=X.next;for(;De&&c[De.name];){De.name="li",A.add(De),X.parent.insert(De,X.parent);De=De.next}X.unwrap();continue}const ye=[X];for(ne=X.parent;ne&&!n.isValidChild(ne.name,X.name)&&$(ne);ne=ne.parent)ye.push(ne);if(ne&&ye.length>1)if(Dw(n,X,ne))_g(X,n);else{ye.reverse(),ve=ye[0].clone(),a(ve);let De=ve;for(let Je=0;Je<ye.length-1;Je++){n.isValidChild(De.name,ye[Je].name)&&Je>0?(Ee=ye[Je].clone(),a(Ee),De.append(Ee)):Ee=De;for(let st=ye[Je].firstChild;st&&st!==ye[Je+1];){const ot=st.next;Ee.append(st),st=ot}De=Ee}My(n,g,p,ve)?ne.insert(X,ye[0],!0):(ne.insert(ve,ye[0],!0),ne.insert(X,ve)),ne=ye[0],(My(n,g,p,ne)||lT(ne,"br"))&&ne.empty().remove()}else if(X.parent){if(X.name==="li"){let De=X.prev;if(De&&(De.name==="ul"||De.name==="ol")){De.append(X);continue}if(De=X.next,De&&(De.name==="ul"||De.name==="ol")&&De.firstChild){De.insert(X,De.firstChild,!0);continue}const Je=new Pa("ul",1);a(Je),X.wrap(Je);continue}if(n.isValidChild(X.parent.name,"div")&&n.isValidChild("div",X.name)){const De=new Pa("div",1);a(De),X.wrap(De)}else _g(X,n)}}},cT=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},Dw=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&cT(o,"a")?!0:rT(o)&&LS(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,P5=(e,n,o,a)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,a),c},L5=e=>{const n=St.fromRangeStart(e),o=St.fromRangeEnd(e),a=e.commonAncestorContainer;return Du(!1,a,o).map(c=>!gg(n,o,a)&&gg(n,c,a)?P5(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},FS=e=>e.collapsed?e:L5(e),uT=e=>Ae(e.firstChild)&&e.firstChild===e.lastChild,M5=e=>e.name==="br"||e.value===Ni,B5=(e,n)=>e.getBlockElements()[n.name]&&uT(n)&&M5(n.firstChild),dT=(e,n)=>{const o=e.getNonEmptyElements();return Ae(n)&&(n.isEmpty(o)||B5(e,n))},Sg=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),dT(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},ff=e=>{var n,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},$S=(e,n,o)=>{const a=n.serialize(o),c=e.createFragment(a);return ff(c)},F5=e=>{var n;return qe((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},VS=e=>e.data===Ni||bs(e),$5=e=>Ae(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&VS(e.firstChild),V5=e=>!e.firstChild||$5(e),z5=e=>e.length>0&&V5(e[e.length-1])?e.slice(0,-1):e,zS=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},H5=(e,n)=>!!zS(e,n),U5=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},HS=(e,n)=>{const o=St.before(e),c=Jn(n).next(o);return c?c.toRange():null},US=(e,n)=>{const o=St.after(e),c=Jn(n).prev(o);return c?c.toRange():null},W5=(e,n,o,a)=>{const c=U5(e,a),g=e.parentNode;return g&&(g.insertBefore(c[0],e),tn.each(n,p=>{g.insertBefore(p,e)}),g.insertBefore(c[1],e),g.removeChild(e)),US(n[n.length-1],o)},fT=(e,n,o)=>{const a=e.parentNode;return a&&tn.each(n,c=>{a.insertBefore(c,e)}),HS(e,o)},b$=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),US(n[0],o)),v$=(e,n,o,a)=>{const c=$S(n,e,a),g=zS(n,o.startContainer),p=z5(F5(c.firstChild)),_=1,A=2,$=n.getRoot(),q=X=>{const ne=St.fromRangeStart(o),ve=Jn(n.getRoot()),Ee=X===_?ve.prev(ne):ve.next(ne),ye=Ee==null?void 0:Ee.getNode();return ye?zS(n,ye)!==g:!0};return g?q(_)?fT(g,p,$):q(A)?b$(g,p,$,n):W5(g,p,$,o):null},y$=["pre"],x$=(e,n,o,a)=>{var c;const g=n.firstChild,p=n.lastChild,_=p.attr("data-mce-type")==="bookmark"?p.prev:p,A=g===_,$=xe(y$,g.name);if(A&&$){const q=g.attr("contenteditable")!=="false",X=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===g.name,ne=Q.from(Cd(a,o)).forall(zc);return q&&X&&ne}else return!1},mT=Dp,w$=(e,n,o)=>{if(Ae(o)){const a=e.getParent(n.endContainer,mT);return o===a&&K2(Ke.fromDom(o),n)}else return!1},WS=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,g=o.lastChild;!c||c===g&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},gT=(e,n,o)=>{Q.from(e.getParent(n,"td,th")).map(Ke.fromDom).each(a=>h2(a,o))},K5=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const c=e.getBody(),g=PS(e),p="*[data-mce-fragment]",_=a.select(p);tn.each(_,A=>{const $=ne=>Ae(o[ne.nodeName.toLowerCase()]),q=ne=>ne.childNodes.length===1;if((ne=>!(k3(a,ne)||KN(a,ne)))(A)&&$(A)&&q(A)){const ne=m0(a,A),ve=(Je,st)=>Do(Je,ot=>xe(st,ot)),Ee=Je=>q(A)&&a.is(Je,p)&&$(Je)&&(Je.nodeName===A.nodeName&&ve(ne,m0(a,Je))||Ee(Je.children[0])),ye=Je=>Ae(Je)&&Je!==c&&(g.compare(A,Je)||ye(Je.parentElement)),De=Je=>Ae(Je)&&Je!==c&&a.is(Je,p)&&(G7(a,A,Je)||De(Je.parentElement));(Ee(A.children[0])||ye(A.parentElement)&&!De(A.parentElement))&&a.remove(A,!0)}})}},hT=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},C$=e=>{tn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},_$=e=>!!e.getAttribute("data-mce-fragment"),S$=(e,n)=>Ae(n)&&!e.schema.getVoidElements()[n.nodeName],k$=(e,n)=>{var o,a,c;let g;const p=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const A=Cd(e.getBody(),n);if(A&&p.getContentEditable(A)==="false"){p.remove(n),_.select(A);return}let $=p.createRng();const q=n.previousSibling;if(jt(q)){$.setStart(q,(a=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const ve=n.nextSibling;jt(ve)&&(q.appendData(ve.data),(c=ve.parentNode)===null||c===void 0||c.removeChild(ve))}else $.setStartBefore(n),$.setEndBefore(n);const X=ve=>{let Ee=St.fromRangeStart(ve);return Ee=Jn(e.getBody()).next(Ee),Ee==null?void 0:Ee.toRange()},ne=p.getParent(n,p.isBlock);if(p.remove(n),ne&&p.isEmpty(ne)){const ve=mT(ne);os(Ke.fromDom(ne)),$.setStart(ne,0),$.setEnd(ne,0),!ve&&!_$(ne)&&(g=X($))?($=g,p.remove(ne)):p.add(ne,p.create("br",ve?{}:{"data-mce-bogus":"1"}))}_.setRng($)},E$=e=>{const n=e.dom,o=FS(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,mT);w$(n,o,a)?tT(e,o,Ke.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&jt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},A$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return Q.some(n);return Q.none()},KS=(e,n,o)=>{var a;return Te(o.children(),LS)&&((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},jS=(e,n,o)=>{var a,c;const g=e.selection,p=e.dom,_=e.parser,A=o.merge,$=Uh({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Il(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,q);let X=g.getRng();const ne=X.startContainer,ve=e.getBody();ne===ve&&g.isCollapsed()&&p.isBlock(ve.firstChild)&&S$(e,ve.firstChild)&&p.isEmpty(ve.firstChild)&&(X=p.createRng(),X.setStart(ve.firstChild,0),X.setEnd(ve.firstChild,0),g.setRng(X)),g.isCollapsed()||E$(e);const Ee=g.getNode(),ye={context:Ee.nodeName.toLowerCase(),data:o.data,insert:!0},De=_.parse(n,ye);if(o.paste===!0&&Sg(e.schema,De)&&H5(p,Ee))return X=v$($,p,g.getRng(),De),X&&g.setRng(X),n;o.paste===!0&&x$(p,De,Ee,e.getBody())&&((a=De.firstChild)===null||a===void 0||a.unwrap()),hT(De);let Je=De.lastChild;if(Je&&Je.attr("id")==="mce_marker"){const st=Je;for(Je=Je.prev;Je;Je=Je.walk(!0))if(Je.type===3||!p.isBlock(Je.name)){Je.parent&&e.schema.isValidChild(Je.parent.name,"span")&&Je.parent.insert(st,Je,Je.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Ee),!ye.invalid&&!KS(p,Ee,De))n=$.serialize(De),WS(e,n,Ee);else{e.selection.setContent(q);let st=g.getNode(),ot;const bt=e.getBody();for(Bn(st)?st=ot=bt:ot=st;ot&&ot!==bt;)st=ot,ot=ot.parentNode;n=st===bt?bt.innerHTML:p.getOuterHTML(st);const zt=_.parse(n),en=A$(zt),wn=en.bind(Zh).getOr(zt);en.each(In=>In.replace(De));const Rt=De.children(),Ct=(c=De.parent)!==null&&c!==void 0?c:zt;De.unwrap();const $t=qe(Rt,In=>Dw(e.schema,In,Ct));Lu($t,e.schema,wn),aT(_.getNodeFilters(),_.getAttributeFilters(),zt),n=$.serialize(zt),st===bt?p.setHTML(bt,n):p.setOuterHTML(st,n)}return K5(e,A),k$(e,p.get("mce_marker")),C$(e.getBody()),gT(p,g.getStart(),e.schema),Xd(e.schema,e.getBody(),g.getStart()),n},w0=e=>e instanceof Pa,T$=e=>{ky(e)&&oo(e.getBody()).each(n=>{const o=n.getNode(),a=wu(o)?oo(o).getOr(n):n;e.selection.setRng(a.toRange())})},pT=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&T$(e)},O$=(e,n,o,a)=>{if(o=Il(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const g=ml(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),g.toLowerCase())?(o=c,o=e.dom.createHTML(g,A2(e),o)):o||(o=c),pT(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=Uh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Lv(Ke.fromDom(n))?o:tn.trim(o);return pT(e,c,a.no_selection),{content:c,html:c}}},I$=(e,n,o,a)=>{aT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Uh({validate:!1},e.schema).serialize(o),g=Il(Lv(Ke.fromDom(n))?c:tn.trim(c));return pT(e,g,a.no_selection),{content:o,html:g}},D$=(e,n,o)=>Q.from(e.getBody()).map(a=>w0(n)?I$(e,a,n,o):O$(e,a,n,o)).getOr({content:n,html:w0(o.content)?"":o.content}),j5=e=>ze(e)?e:On,mf=(e,n,o)=>{let a=e.dom;const c=j5(o);for(;a.parentNode;){a=a.parentNode;const g=Ke.fromDom(a),p=n(g);if(p.isSome())return p;if(c(g))break}return Q.none()},Rw=(e,n,o)=>{const a=n(e),c=j5(o);return a.orThunk(()=>c(e)?Q.none():mf(e,n,c))},ZS=wy,bT=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const g=a[c];if(Jc(g)&&g.inherit===!1&&e.dom.is(n,g.selector))return!0}return!1},GS=(e,n,o,a,c)=>{const g=e.dom.getRoot();if(n===g)return!1;const p=e.dom.getParent(n,_=>bT(e,_,o)?!0:_.parentNode===g||!!kg(e,_,o,a,!0));return!!kg(e,p,o,a,c)},qS=(e,n,o)=>ya(o)&&ZS(n,o.inline)||um(o)&&ZS(n,o.block)?!0:Jc(o)?Nn(n)&&e.is(n,o.selector):!1,vT=(e,n,o,a,c,g)=>{const p=o[a],_=a==="attributes";if(ze(o.onmatch))return o.onmatch(n,o,a);if(p){if(un(p)){for(let A=0;A<p.length;A++)if(_?e.getAttrib(n,p[A]):Z2(e,n,p[A]))return!0}else for(const A in p)if(fo(p,A)){const $=_?e.getAttrib(n,A):Z2(e,n,A),q=Fh(p[A],g),X=it($)||qt($);if(X&&it(q))continue;if(c&&X&&!o.exact||(!c||o.exact)&&!ZS($,$_(q,A)))return!1}}return!0},kg=(e,n,o,a,c)=>{const g=e.formatter.get(o),p=e.dom;if(g&&Nn(n))for(let _=0;_<g.length;_++){const A=g[_];if(qS(e.dom,n,A)&&vT(p,n,A,"attributes",c,a)&&vT(p,n,A,"styles",c,a)){const $=A.classes;if($){for(let q=0;q<$.length;q++)if(!e.dom.hasClass(n,Fh($[q],a)))return}return A}}},hb=(e,n,o,a,c)=>{if(a)return GS(e,a,n,o,c);if(a=e.selection.getNode(),GS(e,a,n,o,c))return!0;const g=e.selection.getStart();return!!(g!==a&&GS(e,g,n,o,c))},Z5=(e,n,o)=>{const a=[],c={},g=e.selection.getStart();return e.dom.getParent(g,p=>{for(let _=0;_<n.length;_++){const A=n[_];!c[A]&&kg(e,p,A,o)&&(c[A]=!0,a.push(A))}},e.dom.getRoot()),a},G5=(e,n)=>{const o=c=>tr(c,Ke.fromDom(e.getBody())),a=(c,g)=>kg(e,c.dom,g)?Q.some(g):Q.none();return Q.from(e.selection.getStart(!0)).bind(c=>Rw(Ke.fromDom(c),g=>ci(n,p=>a(g,p)),o)).getOrNull()},q5=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),g=G2(a,c);for(let p=o.length-1;p>=0;p--){const _=o[p];if(!Jc(_))return!0;for(let A=g.length-1;A>=0;A--)if(a.is(g[A],_.selector))return!0}}return!1},yT=(e,n,o)=>sn(o,(a,c)=>{const g=MR(e,c);return e.formatter.matchNode(n,c,{},g)?a.concat([c]):a},[]),Nw=Ei,R$=(e,n)=>e.importNode(n,!0),Y5=e=>{if(e){const n=new ma(e,e);for(let o=n.current();o;o=n.next())if(jt(o))return o}return null},Eg=e=>{const n=Ke.fromTag("span");return Fa(n,{id:py,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ws(n,Ke.fromText(Nw)),n},xT=e=>{const n=Y5(e);return n&&n.data.charAt(0)===Nw&&n.deleteData(0,1),n},wT=(e,n,o)=>{const a=e.dom,c=e.selection;if(UA(n))Rl(e,!1,Ke.fromDom(n),o,!0);else{const g=c.getRng(),p=a.getParent(n,a.isBlock),_=g.startContainer,A=g.startOffset,$=g.endContainer,q=g.endOffset,X=xT(n);a.remove(n,!0),_===X&&A>0&&g.setStart(X,A-1),$===X&&q>0&&g.setEnd(X,q-1),p&&a.isEmpty(p)&&Gc(Ke.fromDom(p)),c.setRng(g)}},CT=(e,n,o)=>{const a=e.dom,c=e.selection;if(n)wT(e,n,o);else if(n=Xp(e.getBody(),c.getStart()),!n)for(;n=a.get(py);)wT(e,n,o)},C0=(e,n,o)=>{var a,c;const g=e.dom,p=g.getParent(o,tt(F_,e.schema));p&&g.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(bc(Ke.fromDom(o)),g.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):g.insertAfter(n,o))},_T=(e,n)=>(e.appendChild(n),n),Pw=(e,n)=>{var o;const a=ht(e,(g,p)=>_T(g,p.cloneNode(!1)),n),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return _T(a,c.createTextNode(Nw))},N$=(e,n,o,a,c,g)=>{const p=e.formatter,_=e.dom,A=qe(Xt(p.get()),X=>X!==a&&!Mr(X,"removeformat")),$=yT(e,o,A);if(qe($,X=>!BR(e,X,a)).length>0){const X=o.cloneNode(!1);return _.add(n,X),p.remove(a,c,X,g),_.remove(X),Q.some(X)}else return Q.none()},X5=e=>Iv(e,sg(e).replace(new RegExp(`${Ni}$`)," ")),ST=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Si(Ke.fromDom(n)).each(a=>{us(a)?X5(a):qi(a,c=>us(c)).each(c=>{us(c)&&X5(c)})})};e.once("input",a=>{a.data&&!o0(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},Gh=(e,n,o)=>{let a;const c=e.selection,g=e.formatter.get(n);if(!g)return;const p=c.getRng();let _=p.startOffset;const $=p.startContainer.nodeValue;a=Xp(e.getBody(),c.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&_>0&&_<$.length&&q.test($.charAt(_))&&q.test($.charAt(_-1))){const X=c.getBookmark();p.collapse(!0);let ne=eb(e.dom,p,g);ne=uw(ne),e.formatter.apply(n,o,ne),c.moveToBookmark(X)}else{let X=a?Y5(a):null;(!a||(X==null?void 0:X.data)!==Nw)&&(a=R$(e.getDoc(),Eg(!0).dom),X=a.firstChild,p.insertNode(a),_=1,ST(e,a)),e.formatter.apply(n,o,a),c.setCursorLocation(X,_)}},kT=(e,n,o,a)=>{const c=e.dom,g=e.selection;let p=!1;const _=e.formatter.get(n);if(!_)return;const A=g.getRng(),$=A.startContainer,q=A.startOffset;let X=$;jt($)&&(q!==$.data.length&&(p=!0),X=X.parentNode);const ne=[];let ve;for(;X;){if(kg(e,X,n,o,a)){ve=X;break}X.nextSibling&&(p=!0),ne.push(X),X=X.parentNode}if(ve)if(p){const Ee=g.getBookmark();A.collapse(!0);let ye=eb(c,A,_,!0);ye=uw(ye),e.formatter.remove(n,o,ye,a),g.moveToBookmark(Ee)}else{const Ee=Xp(e.getBody(),ve),ye=Ae(Ee)?c.getParents(ve.parentNode,nn,Ee):[],De=Eg(!1).dom;C0(e,De,Ee??ve);const Je=N$(e,De,ve,n,o,a),st=Pw([...ne,...Je.toArray(),...ye],De);Ee&&wT(e,Ee,Ae(Ee)),g.setCursorLocation(st,1),ST(e,De),c.isEmpty(ve)&&c.remove(ve)}},ET=(e,n,o)=>{const a=e.selection,c=e.getBody();CT(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===Nw&&CT(e,Xp(c,a.getStart()),!0),(n===37||n===39)&&CT(e,Xp(c,a.getStart()),!0)},AT=e=>jt(e)&&Ie(e.data,Ni),J5=e=>{e.on("mouseup keydown",n=>{ET(e,n.keyCode,AT(e.selection.getRng().endContainer))})},TT=e=>{const n=Eg(!1),o=Pw(e,n.dom);return{caretContainer:n,caretPosition:St(o,0)}},OT=(e,n)=>{const{caretContainer:o,caretPosition:a}=TT(n);return Is(Ke.fromDom(e),o),Pr(Ke.fromDom(e)),a},P$=(e,n)=>{const{caretContainer:o,caretPosition:a}=TT(n);return e.insertNode(o.dom),a},By=(e,n)=>{if(Ru(n.dom))return!1;const o=e.schema.getTextInlineElements();return fo(o,er(n))&&!Ru(n.dom)&&!zf(n.dom)},pb={},IT=ga(["pre"]),Q5=(e,n)=>{pb[e]||(pb[e]=[]),pb[e].push(n)},eP=(e,n)=>{fo(pb,e)&&be(pb[e],o=>{o(n)})};Q5("pre",e=>{const n=e.selection.getRng(),o=c=>g=>{const p=g.previousSibling;return IT(p)&&xe(c,p)},a=(c,g)=>{const p=Ke.fromDom(g),_=fc(p).dom;Pr(p),ri(Ke.fromDom(c),[Ke.fromTag("br",_),Ke.fromTag("br",_),...fa(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),g=qe(qe(c,IT),o(c));be(g,p=>{a(p.previousSibling,p)})}});const DT=["fontWeight","fontStyle","color","fontSize","fontFamily"],YS=e=>Z(e.styles)&&Te(Xt(e.styles),n=>xe(DT,n)),RT=e=>bn(e,n=>ya(n)&&n.inline==="span"&&YS(n)),Fy=(e,n)=>{const o=e.get(n);return re(o)?RT(o):Q.none()},tP=(e,n)=>Xc(n,St.fromRangeStart(e)).isNone(),NT=(e,n)=>oc(n,St.fromRangeEnd(e)).exists(o=>!bs(o.getNode())||oc(n,o).isSome())===!1,nP=e=>n=>Fx(n)&&e.isEditable(n),L$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return tP(o,n[0])&&NT(o,n[0])?n:[];{const a=En(n).filter(p=>tP(o,p)).toArray(),c=uo(n).filter(p=>NT(o,p)).toArray(),g=n.slice(1,-1);return a.concat(g).concat(c)}},oP=e=>qe(L$(e),nP(e.dom)),PT=e=>qe(e.getSelectedBlocks(),nP(e.dom)),LT=tn.each,XS=e=>Nn(e)&&!Nu(e)&&!Ru(e)&&!zf(e),bb=(e,n)=>{for(let o=e;o;o=o[n]){if(jt(o)&&rt(o.data))return e;if(Nn(o)&&!Nu(o))return o}return e},MT=(e,n,o)=>{const a=PS(e),c=xu(n)&&e.dom.isEditable(n),g=xu(o)&&e.dom.isEditable(o);if(c&&g){const p=bb(n,"previousSibling"),_=bb(o,"nextSibling");if(a.compare(p,_)){for(let A=p.nextSibling;A&&A!==_;){const $=A;A=A.nextSibling,p.appendChild($)}return e.dom.remove(_),tn.each(tn.grep(_.childNodes),A=>{p.appendChild(A)}),p}}return o},JS=(e,n,o,a)=>{var c;if(a&&n.merge_siblings!==!1){const g=(c=MT(e,r0(a),a))!==null&&c!==void 0?c:a;MT(e,g,r0(g,!0))}},rP=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";LT(e.select(a,o),c=>{XS(c)&&e.isEditable(c)&&LT(n.styles,(g,p)=>{e.setStyle(c,p,"")})})}},Lw=(e,n,o)=>{LT(e.childNodes,a=>{XS(a)&&(n(a)&&o(a),a.hasChildNodes()&&Lw(a,n,o))})},vb=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},BT=(e,n)=>o=>!!(o&&Z2(e,o,n)),Mu=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),vb(e,a)},_d=Xo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),FT=/^(src|href|style)$/,QS=tn.each,ek=wy,sP=e=>/^(TR|TH|TD)$/.test(e.nodeName),_0=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),Mw=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Nn(a)){const g=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>g?g:c]}return jt(a)&&o&&c>=a.data.length&&(a=new ma(a,e.getBody()).next()||a),jt(a)&&!o&&c===0&&(a=new ma(a,e.getBody()).prev()||a),a},$T=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return sP(e)&&a?e.nodeName==="TR"&&a[o]||a:e},tk=(e,n,o,a)=>{var c;const g=e.create(o,a);return(c=n.parentNode)===null||c===void 0||c.insertBefore(g,n),g.appendChild(n),g},nk=(e,n,o,a,c)=>{const g=Ke.fromDom(n),p=Ke.fromDom(e.create(a,c)),_=o?zm(g):nd(g);return ri(p,_),o?(Is(g,p),Ha(p,g)):(dt(g,p),Ws(p,g)),p.dom},M$=(e,n)=>n.links&&e.nodeName==="A",iP=(e,n,o)=>{const a=n.parentNode;let c;const g=e.dom,p=ml(e);um(o)&&a===g.getRoot()&&(!o.list_block||!ek(n,o.list_block))&&be(Oo(n.childNodes),_=>{Jp(e,p,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=tk(g,_,p),g.setAttribs(c,A2(e))):c=null}),!(VR(o)&&!ek(o.inline,n))&&g.remove(n,!0)},VT=(e,n,o)=>R(e)?{name:n,value:null}:{name:e,value:Fh(n,o)},aP=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},nu=(e,n,o,a,c)=>{let g=!1;QS(o.styles,(p,_)=>{const{name:A,value:$}=VT(_,p,a),q=$_($,A);(o.remove_similar||Ve($)||!Nn(c)||ek(Z2(e,c,A),q))&&e.setStyle(n,A,""),g=!0}),g&&aP(e,n)},zT=(e,n,o)=>{n==="removeformat"?be(PT(e.selection),a=>{be(DT,c=>e.dom.setStyle(a,c,"")),aP(e.dom,a)}):Fy(e.formatter,n).each(a=>{be(PT(e.selection),c=>nu(e.dom,c,a,o,null))})},HT=(e,n,o,a,c)=>{const g=e.dom,p=PS(e),_=e.schema;if(ya(n)&&fv(_,n.inline)&&Kf(_,a)&&a.parentElement===e.getBody())return iP(e,a,n),_d.removed();if(!n.ceFalseOverride&&a&&g.getContentEditableParent(a)==="false"||a&&!qS(g,a,n)&&!M$(a,n))return _d.keep();const A=a,$=n.preserve_attributes;if(ya(n)&&n.remove==="all"&&re($)){const q=qe(g.getAttribs(A),X=>xe($,X.name.toLowerCase()));if(g.removeAllAttribs(A),be(q,X=>g.setAttrib(A,X.name,X.value)),q.length>0)return _d.rename("span")}if(n.remove!=="all"){nu(g,A,n,o,c),QS(n.attributes,(X,ne)=>{const{name:ve,value:Ee}=VT(ne,X,o);if(n.remove_similar||Ve(Ee)||!Nn(c)||ek(g.getAttrib(c,ve),Ee)){if(ve==="class"){const ye=g.getAttrib(A,ve);if(ye){let De="";if(be(ye.split(/\s+/),Je=>{/mce\-\w+/.test(Je)&&(De+=(De?" ":"")+Je)}),De){g.setAttrib(A,ve,De);return}}}if(FT.test(ve)&&A.removeAttribute("data-mce-"+ve),ve==="style"&&ga(["li"])(A)&&g.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ve),g.setStyle(A,"list-style-type","none");return}ve==="class"&&A.removeAttribute("className"),A.removeAttribute(ve)}}),QS(n.classes,X=>{X=Fh(X,o),(!Nn(c)||g.hasClass(c,X))&&g.removeClass(A,X)});const q=g.getAttribs(A);for(let X=0;X<q.length;X++){const ne=q[X].nodeName;if(!p.isAttributeInternal(ne))return _d.keep()}}return n.remove!=="none"?(iP(e,A,n),_d.removed()):_d.keep()},UT=(e,n,o,a,c)=>{let g;return n.parentNode&&be(G2(e.dom,n.parentNode).reverse(),p=>{if(!g&&Nn(p)&&p.id!=="_start"&&p.id!=="_end"){const _=kg(e,p,o,a,c);_&&_.split!==!1&&(g=p)}}),g},lP=(e,n,o,a)=>HT(e,n,o,a,a).fold(ut(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),ut(null)),Bw=(e,n,o,a,c,g,p,_)=>{var A,$;let q,X;const ne=e.dom;if(o){const ve=o.parentNode;for(let Ee=a.parentNode;Ee&&Ee!==ve;Ee=Ee.parentNode){let ye=ne.clone(Ee,!1);for(let De=0;De<n.length&&(ye=lP(e,n[De],_,ye),ye!==null);De++);ye&&(q&&ye.appendChild(q),X||(X=ye),q=ye)}(!p.mixed||!ne.isBlock(o))&&(a=(A=ne.split(o,a))!==null&&A!==void 0?A:a),q&&X&&(($=c.parentNode)===null||$===void 0||$.insertBefore(q,c),X.appendChild(c),ya(p)&&JS(e,p,_,q))}return a},qh=(e,n,o,a,c)=>{const g=e.formatter.get(n),p=g[0],_=e.dom,A=e.selection,$=ye=>{const De=UT(e,ye,n,o,c);return Bw(e,g,De,ye,ye,!0,p,o)},q=ye=>Nu(ye)&&Nn(ye)&&(ye.id==="_start"||ye.id==="_end"),X=ye=>Te(g,De=>xb(e,De,o,ye,ye)),ne=ye=>{const De=Oo(ye.childNodes),st=X(ye)||Te(g,zt=>qS(_,ye,zt)),ot=ye.parentNode;if(!st&&Ae(ot)&&z_(p)&&X(ot),p.deep&&De.length)for(let zt=0;zt<De.length;zt++)ne(De[zt]);be(["underline","line-through","overline"],zt=>{Nn(ye)&&e.dom.getStyle(ye,"text-decoration")===zt&&ye.parentNode&&HA(_,ye.parentNode)===zt&&xb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:zt}},void 0,ye)})},ve=ye=>{const De=_.get(ye?"_start":"_end");if(De){let Je=De[ye?"firstChild":"lastChild"];return q(Je)&&(Je=Je[ye?"firstChild":"lastChild"]),jt(Je)&&Je.data.length===0&&(Je=ye?De.previousSibling||De.nextSibling:De.nextSibling||De.previousSibling),_.remove(De,!0),Je}else return null},Ee=ye=>{let De,Je,st=eb(_,ye,g,ye.collapsed);if(p.split){if(st=uw(st),De=Mw(e,st,!0),Je=Mw(e,st),De!==Je){if(De=$T(De,!0),Je=$T(Je,!1),_0(_,De,Je)){const bt=Q.from(De.firstChild).getOr(De);$(nk(_,bt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(_0(_,Je,De)){const bt=Q.from(Je.lastChild).getOr(Je);$(nk(_,bt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}De=tk(_,De,"span",{id:"_start","data-mce-type":"bookmark"}),Je=tk(_,Je,"span",{id:"_end","data-mce-type":"bookmark"});const ot=_.createRng();ot.setStartAfter(De),ot.setEndBefore(Je),J2(_,ot,bt=>{be(bt,zt=>{!Nu(zt)&&!Nu(zt.parentNode)&&$(zt)})}),$(De),$(Je),De=ve(!0),Je=ve()}else De=Je=$(De);st.startContainer=De.parentNode?De.parentNode:De,st.startOffset=_.nodeIndex(De),st.endContainer=Je.parentNode?Je.parentNode:Je,st.endOffset=_.nodeIndex(Je)+1}J2(_,st,ot=>{be(ot,ne)})};if(a){if(xy(a)){const ye=_.createRng();ye.setStartBefore(a),ye.setEndAfter(a),Ee(ye)}else Ee(a);qR(e,n,a,o);return}!A.isCollapsed()||!ya(p)||cm(e).length?($A(e,()=>yy(e,Ee),ye=>ya(p)&&hb(e,n,o,ye)),e.nodeChanged()):kT(e,n,o,c),zT(e,n,o),qR(e,n,a,o)},yb=(e,n,o,a,c)=>{(a||e.selection.isEditable())&&qh(e,n,o,a,c)},xb=(e,n,o,a,c)=>HT(e,n,o,a,c).fold(On,g=>(e.dom.rename(a,g),!0),nn),ok=tn.each,WT=(e,n,o,a)=>{const c=g=>{if(xu(g)&&Nn(g.parentNode)&&e.isEditable(g)){const p=HA(e,g.parentNode);e.getStyle(g,"color")&&p?e.setStyle(g,"text-decoration",p):e.getStyle(g,"text-decoration")===p&&e.setStyle(g,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(tn.walk(a,c,"childNodes"),c(a))},cP=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const c=BT(e,"fontSize");Lw(a,g=>c(g)&&e.isEditable(g),Mu(e,"backgroundColor",Fh(n.styles.backgroundColor,o)))}},B$=(e,n,o,a)=>{if(ya(n)&&(n.inline==="sub"||n.inline==="sup")){const c=BT(e,"fontSize");Lw(a,p=>c(p)&&e.isEditable(p),Mu(e,"fontSize",""));const g=qe(e.select(n.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(g,!0)}},uP=(e,n,o,a)=>{ok(n,c=>{ya(c)&&ok(e.dom.select(c.inline,a),g=>{XS(g)&&xb(e,c,o,g,c.exact?g:null)}),rP(e.dom,c,a)})},dP=(e,n,o,a,c)=>{const g=c.parentNode;kg(e,g,o,a)&&xb(e,n,a,c)||n.merge_with_parents&&g&&e.dom.getParent(g,p=>kg(e,p,o,a)?(xb(e,n,a,c),!0):!1)},Fw=tn.each,fP=(e,n,o,a)=>{if(I8(e)&&ya(n)&&o.parentNode){const c=L1(e.schema),g=sv(Ke.fromDom(o),p=>Ru(p.dom));return Xl(c,a)&&hc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!g}else return!1},mP=(e,n,o,a)=>{if(Fw(o.styles,(c,g)=>{e.setStyle(n,g,Fh(c,a))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},F$=(e,n,o,a)=>{const c=e.formatter.get(n),g=c[0],p=!a&&e.selection.isCollapsed(),_=e.dom,A=e.selection,$=(Ee,ye=g)=>{ze(ye.onformat)&&ye.onformat(Ee,ye,o,a),mP(_,Ee,ye,o),Fw(ye.attributes,(De,Je)=>{_.setAttrib(Ee,Je,Fh(De,o))}),Fw(ye.classes,De=>{const Je=Fh(De,o);_.hasClass(Ee,Je)||_.addClass(Ee,Je)})},q=(Ee,ye)=>{let De=!1;return Fw(Ee,Je=>Jc(Je)?_.getContentEditable(ye)==="false"&&!Je.ceFalseOverride||Ae(Je.collapsed)&&Je.collapsed!==p?!0:_.is(ye,Je.selector)&&!Ru(ye)?($(ye,Je),De=!0,!1):!0:!1),De},X=Ee=>{if(ue(Ee)){const ye=_.create(Ee);return $(ye),ye}else return null},ne=(Ee,ye,De)=>{const Je=[];let st=!0;const ot=g.inline||g.block,bt=X(ot),zt=Rt=>FR(g)&&kg(e,Rt,n,o),en=(Rt,Ct,$t)=>{const In=$R(g)&&F_(e.schema,Rt)&&Jp(e,Ct,ot);return $t&&In},wn=(Rt,Ct,$t,In)=>{const Wn=Rt.nodeName.toLowerCase(),$o=Jp(e,ot,Wn)&&Jp(e,Ct,ot),jo=!De&&jt(Rt)&&qc(Rt.data),Lr=Ru(Rt),Kr=!ya(g)||!Ee.isBlock(Rt);return($t||In)&&$o&&!jo&&!Lr&&Kr};J2(Ee,ye,Rt=>{let Ct;const $t=In=>{let Wn=!1,$o=st,jo=!1;const Lr=In.parentNode,Kr=Lr.nodeName.toLowerCase(),gi=Ee.getContentEditable(In);Ae(gi)&&($o=st,st=gi==="true",Wn=!0,jo=zA(e,In));const Ll=st&&!Wn;if(bs(In)&&!fP(e,g,In,Kr)){Ct=null,um(g)&&Ee.remove(In);return}if(zt(In)){Ct=null;return}if(en(In,Kr,Ll)){const es=Ee.rename(In,ot);$(es),Je.push(es),Ct=null;return}if(Jc(g)){let es=q(c,In);if(!es&&Ae(Lr)&&z_(g)&&(es=q(c,Lr)),!ya(g)||es){Ct=null;return}}Ae(bt)&&wn(In,Kr,Ll,jo)?(Ct||(Ct=Ee.clone(bt,!1),Lr.insertBefore(Ct,In),Je.push(Ct)),jo&&Wn&&(st=$o),Ct.appendChild(In)):(Ct=null,be(Oo(In.childNodes),$t),Wn&&(st=$o),Ct=null)};be(Rt,$t)}),g.links===!0&&be(Je,Rt=>{const Ct=$t=>{$t.nodeName==="A"&&$($t,g),be(Oo($t.childNodes),Ct)};Ct(Rt)}),be(Je,Rt=>{const Ct=Wn=>{let $o=0;return be(Wn.childNodes,jo=>{!r7(jo)&&!Nu(jo)&&$o++}),$o},$t=Wn=>bn(Wn.childNodes,B_).filter(jo=>Ee.getContentEditable(jo)!=="false"&&qS(Ee,jo,g)).map(jo=>{const Lr=Ee.clone(jo,!1);return $(Lr),Ee.replace(Lr,Wn,!0),Ee.remove(jo,!0),Lr}).getOr(Wn),In=Ct(Rt);if((Je.length>1||!Ee.isBlock(Rt))&&In===0){Ee.remove(Rt,!0);return}(ya(g)||um(g)&&g.wrapper)&&(!g.exact&&In===1&&(Rt=$t(Rt)),uP(e,c,o,Rt),dP(e,g,n,o,Rt),cP(Ee,g,o,Rt),WT(Ee,g,o,Rt),B$(Ee,g,o,Rt),JS(e,g,o,Rt))})},ve=xy(a)?a:A.getNode();if(_.getContentEditable(ve)==="false"&&!zA(e,ve)){a=ve,q(c,a),GR(e,n,a,o);return}if(g){if(a)if(xy(a)){if(!q(c,a)){const Ee=_.createRng();Ee.setStartBefore(a),Ee.setEndAfter(a),ne(_,eb(_,Ee,c),!0)}}else ne(_,a,!0);else!p||!ya(g)||cm(e).length?(A.setRng(FS(A.getRng())),$A(e,()=>{yy(e,(Ee,ye)=>{const De=ye?Ee:eb(_,Ee,c);ne(_,De,!1)})},nn),e.nodeChanged()):Gh(e,n,o),Fy(e.formatter,n).each(Ee=>{be(oP(e.selection),ye=>mP(_,ye,Ee,o))});eP(n,e)}GR(e,n,a,o)},gP=(e,n,o,a)=>{(a||e.selection.isEditable())&&F$(e,n,o,a)},rc=e=>fo(e,"vars"),hP=(e,n)=>{e.set({}),n.on("NodeChange",o=>{jT(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=Q.from(o.node).map(c=>xy(c)?c:c.startContainer).bind(c=>Nn(c)?Q.some(c):Q.from(c.parentElement)).getOrThunk(()=>$y(n));jT(n,a,e.get())})},$y=e=>e.selection.getStart(),pP=(e,n,o,a,c)=>Ut(n,_=>{const A=e.formatter.matchNode(_,o,c??{},a);return!Ye(A)},_=>bT(e,_,o)?!0:a?!1:Ae(e.formatter.matchNode(_,o,c,!0))),KT=(e,n)=>{const o=n??$y(e);return qe(G2(e.dom,o),a=>Nn(a)&&!zf(a))},jT=(e,n,o)=>{const a=KT(e,n);ur(o,(c,g)=>{const p=_=>{const A=pP(e,a,g,_.similar,rc(_)?_.vars:void 0),$=A.isSome();if(_.state.get()!==$){_.state.set($);const q=A.getOr(n);rc(_)?_.callback($,{node:q,format:g,parents:a}):be(_.callbacks,X=>X($,{node:q,format:g,parents:a}))}};be([c.withSimilar,c.withoutSimilar],p),be(c.withVars,p)})},ZT=(e,n,o,a,c,g)=>{const p=n.get();be(o.split(","),_=>{const A=Nr(p,_).getOrThunk(()=>{const q={withSimilar:{state:Pi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pi(!1),similar:!1,callbacks:[]},withVars:[]};return p[_]=q,q}),$=()=>{const q=KT(e);return pP(e,q,_,c,g).isSome()};if(Ye(g)){const q=c?A.withSimilar:A.withoutSimilar;q.callbacks.push(a),q.callbacks.length===1&&q.state.set($())}else A.withVars.push({state:Pi($()),similar:c,vars:g,callback:a})}),n.set(p)},bP=(e,n,o)=>{const a=e.get();be(n.split(","),c=>Nr(a,c).each(g=>{a[c]={withSimilar:{...g.withSimilar,callbacks:qe(g.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...g.withoutSimilar,callbacks:qe(g.withoutSimilar.callbacks,p=>p!==o)},withVars:qe(g.withVars,p=>p.callback!==o)}})),e.set(a)},$$=(e,n,o,a,c,g)=>(ZT(e,n,o,a,c,g),{unbind:()=>bP(n,o,a)}),V$=(e,n,o,a)=>{const c=e.formatter.get(n);c&&(hb(e,n,o,a)&&(!("toggle"in c[0])||c[0].toggle)?yb(e,n,o,a):gP(e,n,o,a))},vP=tn.explode,rk=()=>{const e={};return{addFilter:(c,g)=>{be(vP(c),p=>{fo(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(g)})},getFilters:()=>qu(e),removeFilter:(c,g)=>{be(vP(c),p=>{if(fo(e,p))if(Ae(g)){const _=e[p],A=qe(_.callbacks,$=>$!==g);A.length>0?_.callbacks=A:delete e[p]}else delete e[p]})}}},z$=(e,n)=>{be(n,o=>{e.attr(o,null)})},H$=(e,n,o)=>{e.addNodeFilter("font",a=>{be(a,c=>{const g=n.parse(c.attr("style")),p=c.attr("color"),_=c.attr("face"),A=c.attr("size");p&&(g.color=p),_&&(g["font-family"]=_),A&&mn(A).each($=>{g["font-size"]=o[$-1]}),c.name="span",c.attr("style",n.serialize(g)),z$(c,["color","face","size"])})})},yP=(e,n,o)=>{e.addNodeFilter("strike",a=>{const c=n.type!=="html4";be(a,g=>{if(c)g.name="s";else{const p=o.parse(g.attr("style"));p["text-decoration"]="line-through",g.name="span",g.attr("style",o.serialize(p))}})})},U$=(e,n,o)=>{var a;const c=n2();n.convert_fonts_to_spans&&H$(e,c,tn.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),yP(e,o,c)},W$=(e,n,o)=>{n.inline_styles&&U$(e,n,o)},GT=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),sk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ik=e=>{const[n,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const g=c[2]===";base64",p=g?sk(a):decodeURIComponent(a);return Q.some({type:c[1],data:p,base64Encoded:g})}else return Q.none()},qT=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return Q.none()}const c=new Uint8Array(a.length);for(let g=0;g<c.length;g++)c[g]=a.charCodeAt(g);return Q.some(new Blob([c],{type:e}))},YT=e=>new Promise((n,o)=>{ik(e).bind(({type:a,data:c,base64Encoded:g})=>qT(a,c,g)).fold(()=>o("Invalid data URI"),n)}),K$=e=>cs(e,"blob:")?GT(e):cs(e,"data:")?YT(e):Promise.reject("Unknown URI format"),xP=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let j$=0;const S0=e=>"blobid"+j$++,wP=(e,n,o)=>ik(e).bind(({data:a,type:c,base64Encoded:g})=>{if(n&&!g)return Q.none();{const p=g?a:btoa(a);return o(p,c)}}),$w=(e,n,o)=>{const a=e.create(S0(),n,o);return e.add(a),a},CP=(e,n,o=!1)=>wP(n,o,(a,c)=>Q.from(e.getByData(a,c)).orThunk(()=>qT(c,a).map(g=>$w(e,g,a)))),XT=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(cs(n,"blob:")){const a=e.getByUri(n);return Ae(a)?Promise.resolve(a):K$(n).then(c=>xP(c).then(g=>wP(g,!1,p=>Q.some($w(e,c,p))).getOrThunk(o)))}else return cs(n,"data:")?CP(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},_P=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,SP=e=>Q.from(e.match(_P)).bind(n=>ji(n,1)).map(n=>cs(n,"www.")?n.substring(4):n),JT=(e,n)=>{Q.from(e.attr("src")).bind(SP).forall(o=>!xe(n,o))&&e.attr("sandbox","")},Vy=(e,n)=>cs(e,`${n}/`),Z$=e=>Ye(e)?"iframe":Vy(e,"image")?"img":Vy(e,"video")?"video":Vy(e,"audio")?"audio":"iframe",G$=({type:e,src:n,width:o,height:a}={},c,g)=>{const p=Z$(e),_=new Pa(p,1);return _.attr(p==="audio"?{src:n}:{src:n,width:o,height:a}),(p==="audio"||p==="video")&&_.attr("controls",""),p==="iframe"&&c&&JT(_,g),_},QT=e=>Ae(e.attr("data-mce-bogus")),kP=e=>e.attr("src")===zo.transparentSrc||Ae(e.attr("data-mce-placeholder")),q$=(e,n)=>{const{blob_cache:o}=n;if(o){const a=c=>{const g=c.attr("src");kP(c)||QT(c)||it(g)||CP(o,g,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>be(c,a))}},Y$=(e,n)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",A=>{let $=A.length;const q=ne=>ne.split(" ").filter(Ee=>Ee.length>0).concat(["noopener"]).sort().join(" "),X=ne=>{const ve=ne?tn.trim(ne):"";return/\b(noopener)\b/g.test(ve)?ve:q(ve)};if(!n.allow_unsafe_link_target)for(;$--;){const ne=A[$];ne.name==="a"&&ne.attr("target")==="_blank"&&ne.attr("rel",X(ne.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let $=A.length,q,X,ne,ve;for(;$--;)if(ve=A[$],ve.name==="a"&&ve.firstChild&&!ve.attr("href"))for(ne=ve.parent,q=ve.lastChild;q&&ne;)X=q.prev,ne.insert(q,ve),q=X}),n.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let $=A.length,q,X;for(;$--;)if(q=A[$],X=q.parent,X&&(X.name==="ul"||X.name==="ol"))if(q.prev&&q.prev.name==="li")q.prev.append(q);else{const ne=new Pa("li",1);ne.attr("style","list-style-type: none"),q.wrap(ne)}});const g=c.getValidClasses();n.validate&&g&&e.addAttributeFilter("class",A=>{var $;let q=A.length;for(;q--;){const X=A[q],ne=($=X.attr("class"))!==null&&$!==void 0?$:"",ve=tn.explode(ne," ");let Ee="";for(let ye=0;ye<ve.length;ye++){const De=ve[ye];let Je=!1,st=g["*"];st&&st[De]&&(Je=!0),st=g[X.name],!Je&&st&&st[De]&&(Je=!0),Je&&(Ee&&(Ee+=" "),Ee+=De)}Ee.length||(Ee=null),X.attr("class",Ee)}}),q$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=tl((a=n.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>be(A,$=>{$.replace(G$({type:$.attr("type"),src:$.name==="object"?$.attr("data"):$.attr("src"),width:$.attr("width"),height:$.attr("height")},p,_))})),p&&e.addNodeFilter("iframe",A=>be(A,$=>JT($,_)))},{entries:EP,setPrototypeOf:AP,isFrozen:e4,getPrototypeOf:TP,getOwnPropertyDescriptor:X$}=Object;let{freeze:ou,seal:ys,create:J$}=Object,{apply:t4,construct:ak}=typeof Reflect<"u"&&Reflect;t4||(t4=function(n,o,a){return n.apply(o,a)}),ou||(ou=function(n){return n}),ys||(ys=function(n){return n}),ak||(ak=function(n,o){return new n(...o)});const n4=Cc(Array.prototype.forEach),OP=Cc(Array.prototype.pop),gf=Cc(Array.prototype.push),zy=Cc(String.prototype.toLowerCase),lk=Cc(String.prototype.toString),o4=Cc(String.prototype.match),Sd=Cc(String.prototype.replace),r4=Cc(String.prototype.indexOf),IP=Cc(String.prototype.trim),wc=Cc(RegExp.prototype.test),wb=Vw(TypeError);function Cc(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return t4(e,n,a)}}function Vw(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return ak(e,o)}}function ar(e,n,o){var a;o=(a=o)!==null&&a!==void 0?a:zy,AP&&AP(e,null);let c=n.length;for(;c--;){let g=n[c];if(typeof g=="string"){const p=o(g);p!==g&&(e4(n)||(n[c]=p),g=p)}e[g]=!0}return e}function Ag(e){const n=J$(null);for(const[o,a]of EP(e))n[o]=a;return n}function zw(e,n){for(;e!==null;){const a=X$(e,n);if(a){if(a.get)return Cc(a.get);if(typeof a.value=="function")return Cc(a.value)}e=TP(e)}function o(a){return console.warn("fallback value for",a),null}return o}const s4=ou(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),i4=ou(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ck=ou(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q$=ou(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),a4=ou(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Hw=ou(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DP=ou(["#text"]),RP=ou(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),l4=ou(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NP=ou(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uk=ou(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eV=ys(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tV=ys(/<%[\w\W]*|[\w\W]*%>/gm),nV=ys(/\${[\w\W]*}/gm),oV=ys(/^data-[\-\w.\u00B7-\uFFFF]/),rV=ys(/^aria-[\-\w]+$/),PP=ys(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),LP=ys(/^(?:\w+script|data):/i),MP=ys(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),c4=ys(/^html$/i);var u4=Object.freeze({__proto__:null,MUSTACHE_EXPR:eV,ERB_EXPR:tV,TMPLIT_EXPR:nV,DATA_ATTR:oV,ARIA_ATTR:rV,IS_ALLOWED_URI:PP,IS_SCRIPT_OR_DATA:LP,ATTR_WHITESPACE:MP,DOCTYPE_NAME:c4});const BP=()=>typeof window>"u"?null:window,FP=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const g="dompurify"+(a?"#"+a:"");try{return n.createPolicy(g,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function d4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BP();const n=Go=>d4(Go);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:g,HTMLTemplateElement:p,Node:_,Element:A,NodeFilter:$,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:X,DOMParser:ne,trustedTypes:ve}=e,Ee=A.prototype,ye=zw(Ee,"cloneNode"),De=zw(Ee,"nextSibling"),Je=zw(Ee,"childNodes"),st=zw(Ee,"parentNode");if(typeof p=="function"){const Go=c.createElement("template");Go.content&&Go.content.ownerDocument&&(c=Go.content.ownerDocument)}let ot,bt="";const{implementation:zt,createNodeIterator:en,createDocumentFragment:wn,getElementsByTagName:Rt}=c,{importNode:Ct}=o;let $t={};n.isSupported=typeof EP=="function"&&typeof st=="function"&&zt&&zt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:In,ERB_EXPR:Wn,TMPLIT_EXPR:$o,DATA_ATTR:jo,ARIA_ATTR:Lr,IS_SCRIPT_OR_DATA:Kr,ATTR_WHITESPACE:gi}=u4;let{IS_ALLOWED_URI:Ll}=u4,es=null;const ln=ar({},[...s4,...i4,...ck,...a4,...DP]);let Vn=null;const Cr=ar({},[...RP,...l4,...NP,...uk]);let fn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qn=null,Wo=null,yn=!0,Vo=!0,Zo=!1,La=!0,Ur=!1,Ca=!1,vm=!1,sp=!1,kc=!1,Td=!1,ym=!1,Od=!0,xm=!1;const Zn="user-content-";let mr=!0,Xs=!1,wi={},na=null;const pl=ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vi=null;const zi=ar({},["audio","video","img","source","image","track"]);let Ec=null;const Lg=ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mg="http://www.w3.org/1998/Math/MathML",Bg="http://www.w3.org/2000/svg",wm="http://www.w3.org/1999/xhtml";let ax=wm,Xk=!1,Jk=null;const IH=ar({},[Mg,Bg,wm],lk);let $0;const hB=["application/xhtml+xml","text/html"],OG="text/html";let ic,CC=null;const IG=c.createElement("form"),DH=function(At){return At instanceof RegExp||At instanceof Function},Ib=function(At){if(!(CC&&CC===At)){if((!At||typeof At!="object")&&(At={}),At=Ag(At),$0=hB.indexOf(At.PARSER_MEDIA_TYPE)===-1?$0=OG:$0=At.PARSER_MEDIA_TYPE,ic=$0==="application/xhtml+xml"?lk:zy,es="ALLOWED_TAGS"in At?ar({},At.ALLOWED_TAGS,ic):ln,Vn="ALLOWED_ATTR"in At?ar({},At.ALLOWED_ATTR,ic):Cr,Jk="ALLOWED_NAMESPACES"in At?ar({},At.ALLOWED_NAMESPACES,lk):IH,Ec="ADD_URI_SAFE_ATTR"in At?ar(Ag(Lg),At.ADD_URI_SAFE_ATTR,ic):Lg,Vi="ADD_DATA_URI_TAGS"in At?ar(Ag(zi),At.ADD_DATA_URI_TAGS,ic):zi,na="FORBID_CONTENTS"in At?ar({},At.FORBID_CONTENTS,ic):pl,Qn="FORBID_TAGS"in At?ar({},At.FORBID_TAGS,ic):{},Wo="FORBID_ATTR"in At?ar({},At.FORBID_ATTR,ic):{},wi="USE_PROFILES"in At?At.USE_PROFILES:!1,yn=At.ALLOW_ARIA_ATTR!==!1,Vo=At.ALLOW_DATA_ATTR!==!1,Zo=At.ALLOW_UNKNOWN_PROTOCOLS||!1,La=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ur=At.SAFE_FOR_TEMPLATES||!1,Ca=At.WHOLE_DOCUMENT||!1,kc=At.RETURN_DOM||!1,Td=At.RETURN_DOM_FRAGMENT||!1,ym=At.RETURN_TRUSTED_TYPE||!1,sp=At.FORCE_BODY||!1,Od=At.SANITIZE_DOM!==!1,xm=At.SANITIZE_NAMED_PROPS||!1,mr=At.KEEP_CONTENT!==!1,Xs=At.IN_PLACE||!1,Ll=At.ALLOWED_URI_REGEXP||PP,ax=At.NAMESPACE||wm,fn=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&DH(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fn.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&DH(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fn.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fn.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ur&&(Vo=!1),Td&&(kc=!0),wi&&(es=ar({},[...DP]),Vn=[],wi.html===!0&&(ar(es,s4),ar(Vn,RP)),wi.svg===!0&&(ar(es,i4),ar(Vn,l4),ar(Vn,uk)),wi.svgFilters===!0&&(ar(es,ck),ar(Vn,l4),ar(Vn,uk)),wi.mathMl===!0&&(ar(es,a4),ar(Vn,NP),ar(Vn,uk))),At.ADD_TAGS&&(es===ln&&(es=Ag(es)),ar(es,At.ADD_TAGS,ic)),At.ADD_ATTR&&(Vn===Cr&&(Vn=Ag(Vn)),ar(Vn,At.ADD_ATTR,ic)),At.ADD_URI_SAFE_ATTR&&ar(Ec,At.ADD_URI_SAFE_ATTR,ic),At.FORBID_CONTENTS&&(na===pl&&(na=Ag(na)),ar(na,At.FORBID_CONTENTS,ic)),mr&&(es["#text"]=!0),Ca&&ar(es,["html","head","body"]),es.table&&(ar(es,["tbody"]),delete Qn.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw wb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ot=At.TRUSTED_TYPES_POLICY,bt=ot.createHTML("")}else ot===void 0&&(ot=FP(ve,a)),ot!==null&&typeof bt=="string"&&(bt=ot.createHTML(""));ou&&ou(At),CC=At}},lI=ar({},["mi","mo","mn","ms","mtext"]),wt=ar({},["foreignobject","desc","title","annotation-xml"]),_t=ar({},["title","style","font","a","script"]),rn=ar({},i4);ar(rn,ck),ar(rn,Q$);const Qt=ar({},a4);ar(Qt,Hw);const ro=function(At){let Fn=st(At);(!Fn||!Fn.tagName)&&(Fn={namespaceURI:ax,tagName:"template"});const Co=zy(At.tagName),Oi=zy(Fn.tagName);return Jk[At.namespaceURI]?At.namespaceURI===Bg?Fn.namespaceURI===wm?Co==="svg":Fn.namespaceURI===Mg?Co==="svg"&&(Oi==="annotation-xml"||lI[Oi]):!!rn[Co]:At.namespaceURI===Mg?Fn.namespaceURI===wm?Co==="math":Fn.namespaceURI===Bg?Co==="math"&&wt[Oi]:!!Qt[Co]:At.namespaceURI===wm?Fn.namespaceURI===Bg&&!wt[Oi]||Fn.namespaceURI===Mg&&!lI[Oi]?!1:!Qt[Co]&&(_t[Co]||!rn[Co]):!!($0==="application/xhtml+xml"&&Jk[At.namespaceURI]):!1},rr=function(At){gf(n.removed,{element:At});try{At.parentNode.removeChild(At)}catch{At.remove()}},Js=function(At,Fn){try{gf(n.removed,{attribute:Fn.getAttributeNode(At),from:Fn})}catch{gf(n.removed,{attribute:null,from:Fn})}if(Fn.removeAttribute(At),At==="is"&&!Vn[At])if(kc||Td)try{rr(Fn)}catch{}else try{Fn.setAttribute(At,"")}catch{}},Fg=function(At){let Fn,Co;if(sp)At="<remove></remove>"+At;else{const $g=o4(At,/^[\r\n\t ]+/);Co=$g&&$g[0]}$0==="application/xhtml+xml"&&ax===wm&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Oi=ot?ot.createHTML(At):At;if(ax===wm)try{Fn=new ne().parseFromString(Oi,$0)}catch{}if(!Fn||!Fn.documentElement){Fn=zt.createDocument(ax,"template",null);try{Fn.documentElement.innerHTML=Xk?bt:Oi}catch{}}const Ac=Fn.body||Fn.documentElement;return At&&Co&&Ac.insertBefore(c.createTextNode(Co),Ac.childNodes[0]||null),ax===wm?Rt.call(Fn,Ca?"html":"body")[0]:Ca?Fn.documentElement:Ac},pB=function(At){return en.call(At.ownerDocument||At,At,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},pde=function(At){return At instanceof X&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof q)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},bB=function(At){return typeof _=="object"?At instanceof _:At&&typeof At=="object"&&typeof At.nodeType=="number"&&typeof At.nodeName=="string"},V0=function(At,Fn,Co){$t[At]&&n4($t[At],Oi=>{Oi.call(n,Fn,Co,CC)})},DG=function(At){let Fn;if(V0("beforeSanitizeElements",At,null),pde(At))return rr(At),!0;const Co=ic(At.nodeName);if(V0("uponSanitizeElement",At,{tagName:Co,allowedTags:es}),At.hasChildNodes()&&!bB(At.firstElementChild)&&(!bB(At.content)||!bB(At.content.firstElementChild))&&wc(/<[/\w]/g,At.innerHTML)&&wc(/<[/\w]/g,At.textContent))return rr(At),!0;if(!es[Co]||Qn[Co]){if(!Qn[Co]&&NG(Co)&&(fn.tagNameCheck instanceof RegExp&&wc(fn.tagNameCheck,Co)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(Co)))return!1;if(mr&&!na[Co]){const Oi=st(At)||At.parentNode,Ac=Je(At)||At.childNodes;if(Ac&&Oi){const $g=Ac.length;for(let Ya=$g-1;Ya>=0;--Ya)Oi.insertBefore(ye(Ac[Ya],!0),De(At))}}return rr(At),!0}return At instanceof A&&!ro(At)||(Co==="noscript"||Co==="noembed"||Co==="noframes")&&wc(/<\/no(script|embed|frames)/i,At.innerHTML)?(rr(At),!0):(Ur&&At.nodeType===3&&(Fn=At.textContent,Fn=Sd(Fn,In," "),Fn=Sd(Fn,Wn," "),Fn=Sd(Fn,$o," "),At.textContent!==Fn&&(gf(n.removed,{element:At.cloneNode()}),At.textContent=Fn)),V0("afterSanitizeElements",At,null),!1)},RG=function(At,Fn,Co){if(Od&&(Fn==="id"||Fn==="name")&&(Co in c||Co in IG))return!1;if(!(Vo&&!Wo[Fn]&&wc(jo,Fn))){if(!(yn&&wc(Lr,Fn))){if(!Vn[Fn]||Wo[Fn]){if(!(NG(At)&&(fn.tagNameCheck instanceof RegExp&&wc(fn.tagNameCheck,At)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(At))&&(fn.attributeNameCheck instanceof RegExp&&wc(fn.attributeNameCheck,Fn)||fn.attributeNameCheck instanceof Function&&fn.attributeNameCheck(Fn))||Fn==="is"&&fn.allowCustomizedBuiltInElements&&(fn.tagNameCheck instanceof RegExp&&wc(fn.tagNameCheck,Co)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(Co))))return!1}else if(!Ec[Fn]){if(!wc(Ll,Sd(Co,gi,""))){if(!((Fn==="src"||Fn==="xlink:href"||Fn==="href")&&At!=="script"&&r4(Co,"data:")===0&&Vi[At])){if(!(Zo&&!wc(Kr,Sd(Co,gi,"")))){if(Co)return!1}}}}}}return!0},NG=function(At){return At.indexOf("-")>0},PG=function(At){let Fn,Co,Oi,Ac;V0("beforeSanitizeAttributes",At,null);const{attributes:$g}=At;if(!$g)return;const Ya={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vn};for(Ac=$g.length;Ac--;){Fn=$g[Ac];const{name:Vg,namespaceURI:RH}=Fn;Co=Vg==="value"?Fn.value:IP(Fn.value);const vde=Co;if(Oi=ic(Vg),Ya.attrName=Oi,Ya.attrValue=Co,Ya.keepAttr=!0,Ya.forceKeepAttr=void 0,V0("uponSanitizeAttribute",At,Ya),Co=Ya.attrValue,Ya.forceKeepAttr)continue;if(!Ya.keepAttr){Js(Vg,At);continue}if(!La&&wc(/\/>/i,Co)){Js(Vg,At);continue}Ur&&(Co=Sd(Co,In," "),Co=Sd(Co,Wn," "),Co=Sd(Co,$o," "));const LG=ic(At.nodeName);if(!RG(LG,Oi,Co)){Js(Vg,At);continue}if(xm&&(Oi==="id"||Oi==="name")&&(Js(Vg,At),Co=Zn+Co),ot&&typeof ve=="object"&&typeof ve.getAttributeType=="function"&&!RH)switch(ve.getAttributeType(LG,Oi)){case"TrustedHTML":{Co=ot.createHTML(Co);break}case"TrustedScriptURL":{Co=ot.createScriptURL(Co);break}}if(Co!==vde)try{RH?At.setAttributeNS(RH,Vg,Co):At.setAttribute(Vg,Co)}catch{Js(Vg,At)}}V0("afterSanitizeAttributes",At,null)},bde=function Go(At){let Fn;const Co=pB(At);for(V0("beforeSanitizeShadowDOM",At,null);Fn=Co.nextNode();)V0("uponSanitizeShadowNode",Fn,null),!DG(Fn)&&(Fn.content instanceof g&&Go(Fn.content),PG(Fn));V0("afterSanitizeShadowDOM",At,null)};return n.sanitize=function(Go){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fn,Co,Oi,Ac;if(Xk=!Go,Xk&&(Go="<!-->"),typeof Go!="string"&&!bB(Go))if(typeof Go.toString=="function"){if(Go=Go.toString(),typeof Go!="string")throw wb("dirty is not a string, aborting")}else throw wb("toString is not a function");if(!n.isSupported)return Go;if(vm||Ib(At),n.removed=[],typeof Go=="string"&&(Xs=!1),Xs){if(Go.nodeName){const Vg=ic(Go.nodeName);if(!es[Vg]||Qn[Vg])throw wb("root node is forbidden and cannot be sanitized in-place")}}else if(Go instanceof _)Fn=Fg("<!---->"),Co=Fn.ownerDocument.importNode(Go,!0),Co.nodeType===1&&Co.nodeName==="BODY"||Co.nodeName==="HTML"?Fn=Co:Fn.appendChild(Co);else{if(!kc&&!Ur&&!Ca&&Go.indexOf("<")===-1)return ot&&ym?ot.createHTML(Go):Go;if(Fn=Fg(Go),!Fn)return kc?null:ym?bt:""}Fn&&sp&&rr(Fn.firstChild);const $g=pB(Xs?Go:Fn);for(;Oi=$g.nextNode();)DG(Oi)||(Oi.content instanceof g&&bde(Oi.content),PG(Oi));if(Xs)return Go;if(kc){if(Td)for(Ac=wn.call(Fn.ownerDocument);Fn.firstChild;)Ac.appendChild(Fn.firstChild);else Ac=Fn;return(Vn.shadowroot||Vn.shadowrootmode)&&(Ac=Ct.call(o,Ac,!0)),Ac}let Ya=Ca?Fn.outerHTML:Fn.innerHTML;return Ca&&es["!doctype"]&&Fn.ownerDocument&&Fn.ownerDocument.doctype&&Fn.ownerDocument.doctype.name&&wc(c4,Fn.ownerDocument.doctype.name)&&(Ya="<!DOCTYPE "+Fn.ownerDocument.doctype.name+`>
`+Ya),Ur&&(Ya=Sd(Ya,In," "),Ya=Sd(Ya,Wn," "),Ya=Sd(Ya,$o," ")),ot&&ym?ot.createHTML(Ya):Ya},n.setConfig=function(Go){Ib(Go),vm=!0},n.clearConfig=function(){CC=null,vm=!1},n.isValidAttribute=function(Go,At,Fn){CC||Ib({});const Co=ic(Go),Oi=ic(At);return RG(Co,Oi,Fn)},n.addHook=function(Go,At){typeof At=="function"&&($t[Go]=$t[Go]||[],gf($t[Go],At))},n.removeHook=function(Go){if($t[Go])return OP($t[Go])},n.removeHooks=function(Go){$t[Go]&&($t[Go]=[])},n.removeAllHooks=function(){$t={}},n}var f4=d4();const $P=tn.each,VP=tn.trim,sV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iV={ftp:21,http:80,https:443,mailto:25},zP=["img","video"],HP=(e,n)=>Ae(e)?!e:Ae(n)?!xe(zP,n):!0,aV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},m4=(e,n,o)=>{const a=aV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?HP(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class kd{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const c=vh.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!m4(a,c,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=VP(n),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const g=n.indexOf("//")===0;if(n.indexOf("/")===0&&!g&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=a?a.path:new kd(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(_,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&$P(sV,(_,A)=>{let $=p[A];$&&($=$.replace(/\(mce_at\)/g,"@@")),c[_]=$}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),g&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new kd(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let g=this.toRelPath(this.path,o.path);return o.query&&(g+="?"+o.query),o.anchor&&(g+="#"+o.anchor),g}toAbsolute(n,o){const a=new kd(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?iV[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,c="",g,p;const _=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(_.length>=A.length){for(g=0,p=_.length;g<p;g++)if(g>=A.length||_[g]!==A[g]){a=g+1;break}}if(_.length<A.length){for(g=0,p=A.length;g<p;g++)if(g>=_.length||_[g]!==A[g]){a=g+1;break}}if(a===1)return o;for(g=0,p=_.length-(a-1);g<p;g++)c+="../";for(g=a-1,p=A.length;g<p;g++)g!==a-1?c+="/"+A[g]:c+=A[g];return c}toAbsPath(n,o){let a=0;const c=/\/$/.test(o)?"/":"",g=n.split("/"),p=o.split("/"),_=[];$P(g,X=>{X&&_.push(X)});const A=[];for(let X=p.length-1;X>=0;X--)if(!(p[X].length===0||p[X]===".")){if(p[X]===".."){a++;continue}if(a>0){a--;continue}A.push(p[X])}const $=_.length-a;let q;return $<=0?q=Zr(A).join("/"):q=_.slice(0,$).join("/")+"/"+Zr(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),c&&q.lastIndexOf("/")!==q.length-1&&(q+=c),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const lV=tn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),g4="data-mce-type";let UP=0;const WP=(e,n,o,a,c)=>{var g,p,_,A;const $=n.validate,q=o.getSpecialElements();e.nodeType===Df&&!n.allow_conditional_comments&&/^\[if/i.test((g=e.nodeValue)!==null&&g!==void 0?g:"")&&(e.nodeValue=" "+e.nodeValue);const X=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){Ae(c)&&(c.allowedTags[X]=!0);return}if(e.nodeType!==Sl||X==="body")return;const ne=Ke.fromDom(e),ve=Ud(ne,g4),Ee=Oa(ne,"data-mce-bogus");if(!ve&&ue(Ee)){Ee==="all"?Pr(ne):Ua(ne);return}const ye=o.getElementRule(X);if($&&!ye){fo(q,X)?Pr(ne):Ua(ne);return}else Ae(c)&&(c.allowedTags[X]=!0);if($&&ye&&!ve){if(be((_=ye.attributesForced)!==null&&_!==void 0?_:[],De=>{_i(ne,De.name,De.value==="{$uid}"?`mce_${UP++}`:De.value)}),be((A=ye.attributesDefault)!==null&&A!==void 0?A:[],De=>{Ud(ne,De.name)||_i(ne,De.name,De.value==="{$uid}"?`mce_${UP++}`:De.value)}),ye.attributesRequired&&!Te(ye.attributesRequired,De=>Ud(ne,De))){Ua(ne);return}if(ye.removeEmptyAttrs&&di(ne)){Ua(ne);return}ye.outputName&&ye.outputName!==X&&m2(ne,ye.outputName)}},cV=(e,n,o,a,c)=>{const g=e.tagName.toLowerCase(),{attrName:p,attrValue:_}=c;c.keepAttr=Uw(n,o,a,g,p,_),c.keepAttr?(c.allowedAttributes[p]=!0,p4(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&cs(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):h4(e,p)&&(c.forceKeepAttr=!0)},Uw=(e,n,o,a,c,g)=>o!=="html"&&!qm(a)?!0:!(c in lV&&m4(e,g,a))&&(!e.validate||n.isValid(a,c)||cs(c,"data-")||cs(c,"aria-")),h4=(e,n)=>e.hasAttribute(g4)&&(n==="id"||n==="class"||n==="style"),p4=(e,n)=>e in n.getBoolAttrs(),KP=(e,n,o,a)=>{const{attributes:c}=e;for(let g=c.length-1;g>=0;g--){const p=c[g],_=p.name,A=p.value;!Uw(n,o,a,e.tagName.toLowerCase(),_,A)&&!h4(e,_)?e.removeAttribute(_):p4(_,o)&&e.setAttribute(_,_)}},uV=(e,n,o)=>{const a=f4();return a.addHook("uponSanitizeElement",(c,g)=>{WP(c,e,n,o.track(c),g)}),a.addHook("uponSanitizeAttribute",(c,g)=>{cV(c,e,n,o.current(),g)}),a},dV=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},jP=e=>{const n=JC(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};f4().sanitize(e,a)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};f4().sanitize(e,o)}else throw new Error("Not a namespace element")},fV=(e,n)=>{const o=HE();if(e.sanitize){const a=uV(e,n,o);return{sanitizeHtmlElement:(g,p)=>{a.sanitize(g,dV(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:jP}}else return{sanitizeHtmlElement:(g,p)=>{const _=document.createNodeIterator(g,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const $=o.track(A);WP(A,e,n,$),Nn(A)&&KP(A,e,n,$)}o.reset()},sanitizeNamespaceElement:Ze}},dk=tn.makeMap,b4=tn.extend,ZP=(e,n,o,a)=>{const c=e.name,g=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let _=0,A=p.length;_<A;_++){const $=p[_],q=new Pa($.nodeName.toLowerCase(),$.nodeType);if(Nn($)){const X=$.attributes;for(let ne=0,ve=X.length;ne<ve;ne++){const Ee=X[ne];q.attr(Ee.name,Ee.value)}qm(q.name)&&(a($),q.value=$.innerHTML)}else jt($)?(q.value=$.data,g&&(q.raw=!0)):(No($)||Bx($)||Hf($))&&(q.value=$.data);qm(q.name)||ZP(q,$,o,a),e.append(q)}},xa=(e,n,o)=>{const a=[];for(let c=e,g=c;c;g=c,c=c.walk()){const p=c;be(n,_=>_(p)),it(p.parent)&&p!==e?c=g:a.push(p)}for(let c=a.length-1;c>=0;c--){const g=a[c];be(o,p=>p(g))}},Tg=(e,n,o,a)=>{const c=o.validate,g=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=b4(dk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=L1(n),$=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,X=/[ \t\r\n]+$/,ne=st=>{let ot=st.parent;for(;Ae(ot);){if(ot.name in p)return!0;ot=ot.parent}return!1},ve=st=>{let ot=st;for(;Ae(ot);){if(ot.name in A)return My(n,g,p,ot);ot=ot.parent}return!1},Ee=st=>st.name in _||Lp(n,st)||qm(st.name)&&st.parent===e,ye=(st,ot)=>{const bt=ot?st.prev:st.next;return Ae(bt)||it(st.parent)?!1:Ee(st.parent)&&(st.parent!==e||a.isRootContent===!0)};return[st=>{var ot;if(st.type===3&&!ne(st)){let bt=(ot=st.value)!==null&&ot!==void 0?ot:"";bt=bt.replace($," "),(N5(st.prev,Ee)||ye(st,!0))&&(bt=bt.replace(q,"")),bt.length===0||bt===" "&&st.prev&&st.prev.type===Df&&st.next&&st.next.type===Df?st.remove():st.value=bt}},st=>{var ot;if(st.type===1){const bt=n.getElementRule(st.name);if(c&&bt){const zt=My(n,g,p,st);bt.paddInEmptyBlock&&zt&&ve(st)?MS(o,a,Ee,st):bt.removeEmpty&&zt?Ee(st)?st.remove():st.unwrap():bt.paddEmpty&&(zt||BS(st))&&MS(o,a,Ee,st)}}else if(st.type===3&&!ne(st)){let bt=(ot=st.value)!==null&&ot!==void 0?ot:"";(st.next&&Ee(st.next)||ye(st,!1))&&(bt=bt.replace(X,"")),bt.length===0?st.remove():st.value=bt}}]},mV=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},Hy=(e={},n=Kc())=>{const o=rk(),a=rk(),c={validate:!0,root_name:"body",sanitize:!0,...e},g=new DOMParser,p=fV(c,n),_=(ot,bt,zt="html")=>{const en=zt==="xhtml"?"application/xhtml+xml":"text/html",wn=fo(n.getSpecialElements(),bt.toLowerCase()),Rt=wn?`<${bt}>${ot}</${bt}>`:ot,Ct=()=>zt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Rt}</body></html>`:/^[\s]*<head/i.test(ot)||/^[\s]*<html/i.test(ot)||/^[\s]*<!DOCTYPE/i.test(ot)?`<html>${Rt}</html>`:`<body>${Rt}</body>`,$t=g.parseFromString(Ct(),en).body;return p.sanitizeHtmlElement($t,en),wn?$t.firstChild:$t},A=o.addFilter,$=o.getFilters,q=o.removeFilter,X=a.addFilter,ne=a.getFilters,ve=a.removeFilter,Ee=(ot,bt)=>{Dw(n,ot)&&bt.push(ot)},ye=(ot,bt)=>{const zt=ue(bt.attr(g4)),en=bt.type===1&&!fo(ot,bt.name)&&!Lp(n,bt)&&!qm(bt.name);return bt.type===3||en&&!zt},De=(ot,bt)=>{const zt=b4(dk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),en=/^[ \t\r\n]+/,wn=/[ \t\r\n]+$/;let Rt=ot.firstChild,Ct=null;const $t=In=>{var Wn,$o;In&&(Rt=In.firstChild,Rt&&Rt.type===3&&(Rt.value=(Wn=Rt.value)===null||Wn===void 0?void 0:Wn.replace(en,"")),Rt=In.lastChild,Rt&&Rt.type===3&&(Rt.value=($o=Rt.value)===null||$o===void 0?void 0:$o.replace(wn,"")))};if(n.isValidChild(ot.name,bt.toLowerCase())){for(;Rt;){const In=Rt.next;ye(zt,Rt)?(Ct||(Ct=new Pa(bt,1),Ct.attr(c.forced_root_block_attrs),ot.insert(Ct,Rt)),Ct.append(Rt)):($t(Ct),Ct=null),Rt=In}$t(Ct)}},st={schema:n,addAttributeFilter:X,getAttributeFilters:ne,removeAttributeFilter:ve,addNodeFilter:A,getNodeFilters:$,removeNodeFilter:q,parse:(ot,bt={})=>{var zt;const en=c.validate,wn=(zt=bt.context)!==null&&zt!==void 0?zt:c.root_name,Rt=_(ot,wn,bt.format);Zs(n,Rt);const Ct=new Pa(wn,11);ZP(Ct,Rt,n.getSpecialElements(),p.sanitizeNamespaceElement),Rt.innerHTML="";const[$t,In]=Tg(Ct,n,c,bt),Wn=[],$o=en?gi=>Ee(gi,Wn):Ze,jo={nodes:{},attributes:{}},Lr=gi=>sT($(),ne(),gi,jo);if(xa(Ct,[$t,Lr],[In,$o]),Wn.reverse(),en&&Wn.length>0)if(bt.context){const{pass:gi,fail:Ll}=Re(Wn,es=>es.parent===Ct);Lu(Ll,n,Ct,Lr),bt.invalid=gi.length>0}else Lu(Wn,n,Ct,Lr);const Kr=mV(c,bt);return Kr&&(Ct.name==="body"||bt.isRootContent)&&De(Ct,Kr),bt.invalid||iT(jo,bt),Ct}};return Y$(st,c),W$(st,c,n),st},gV=e=>w0(e)?Uh({validate:!1}).serialize(e):e,v4=(e,n,o)=>{const a=gV(e),c=n(a);if(c.isDefaultPrevented())return c;if(w0(e))if(c.content!==a){const g=Hy({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:g}}else return{...c,content:e};else return c},k0=e=>({sanitize:ZD(e),sandbox_iframes:xA(e),sandbox_iframes_exclusions:S_(e)}),GP=(e,n)=>{if(n.no_events)return no.value(n);{const o=dm(e,n);return o.isDefaultPrevented()?no.error(YR(e,{content:"",...o}).content):no.value(o)}},hf=(e,n,o)=>o.no_events?n:v4(n,c=>YR(e,{...o,content:c}),k0(e)).content,y4=(e,n)=>{if(n.no_events)return no.value(n);{const o=v4(n.content,a=>d7(e,{...n,content:a}),k0(e));return o.isDefaultPrevented()?(yc(e,o),no.error(void 0)):no.value(o)}},x4=(e,n,o)=>{o.no_events||yc(e,{...o,content:n})},fk=(e,n,o)=>({element:e,width:n,rows:o}),w4=(e,n)=>({element:e,cells:n}),hV=(e,n)=>({x:e,y:n}),mk=(e,n)=>fu(e,n).bind(mn).getOr(1),Og=(e,n,o,a,c)=>{const g=mk(c,"rowspan"),p=mk(c,"colspan"),_=e.rows;for(let A=o;A<o+g;A++){_[A]||(_[A]=w4(rg(a),[]));for(let $=n;$<n+p;$++){const q=_[A].cells;q[$]=A===o&&$===n?c:qs(c)}}},qP=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},YP=(e,n,o)=>{for(;qP(e,n,o);)n++;return n},Ww=e=>sn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),gk=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let g=0;g<c.length;g++)if(tr(c[g],n))return Q.some(hV(g,a))}return Q.none()},C4=(e,n,o,a,c)=>{const g=[],p=e.rows;for(let _=o;_<=c;_++){const A=p[_].cells,$=n<a?A.slice(n,a+1):A.slice(a,n+1);g.push(w4(p[_].element,$))}return g},XP=(e,n,o)=>{const a=n.x,c=n.y,g=o.x,p=o.y,_=c<p?C4(e,a,c,g,p):C4(e,a,p,g,c);return fk(e.element,Ww(_),_)},JP=(e,n)=>{const o=qs(e.element),a=Ke.fromTag("tbody");return ri(a,n),Ws(o,a),o},pV=e=>$e(e.rows,n=>{const o=$e(n.cells,c=>{const g=rg(c);return Lo(g,"colspan"),Lo(g,"rowspan"),g}),a=qs(n.element);return ri(a,o),a}),bV=e=>{const n=fk(qs(e),0,[]);return be(vi(e,"tr"),(o,a)=>{be(vi(o,"td,th"),(c,g)=>{Og(n,YP(n,g,a),a,o,c)})}),fk(n.element,Ww(n.rows),n.rows)},vV=e=>JP(e,pV(e)),QP=(e,n,o)=>gk(e,n).bind(a=>gk(e,o).map(c=>XP(e,a,c))),eL=e=>bn(e,n=>er(n)==="ul"||er(n)==="ol"),yV=(e,n)=>bn(e,o=>er(o)==="li"&&K2(o,n)).fold(ut([]),o=>eL(e).map(a=>{const c=Ke.fromTag(er(a)),g=Rc(uh(a),(p,_)=>cs(_,"list-style"));return Yo(c,g),[Ke.fromTag("li"),c]}).getOr([])),_4=(e,n)=>{const o=sn(n,(a,c)=>(Ws(c,a),c),e);return n.length>0?Qc([o]):o},tL=e=>ig(e)?da(e).filter(Pv).fold(ut([]),n=>[e,n]):Pv(e)?[e]:[],xV=(e,n,o)=>{const a=Ke.fromDom(n.commonAncestorContainer),c=tu(a,e),g=qe(c,A=>o.isWrapper(er(A))),p=yV(c,n),_=g.concat(p.length?p:tL(a));return $e(_,qs)},S4=()=>Qc([]),wV=(e,n,o)=>_4(Ke.fromDom(n.cloneContents()),xV(e,n,o)),CV=(e,n)=>bu(n,"table",tt(tr,e)),Nl=(e,n)=>CV(e,n[0]).bind(o=>{const a=n[0],c=n[n.length-1],g=bV(o);return QP(g,a,c).map(p=>Qc([vV(p)]))}).getOrThunk(S4),_V=(e,n,o)=>n.length>0&&n[0].collapsed?S4():wV(e,n[0],o),SV=(e,n,o)=>{const a=DR(n,e);return a.length>0?Nl(e,a):_V(e,n,o)},hk=(e,n)=>n>=0&&n<e.length&&o0(e.charAt(n)),nL=e=>Il(e.innerText),pk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),kV=e=>Q.from(e.selection.getRng()).map(n=>{var o;const a=Q.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),g=pk(a),p=Ke.fromDom(n.cloneContents());$N(p),VN(p);const _=e.dom.add(c,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),A=nL(_),$=Il((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),hk($,0)||hk($,$.length-1)){const q=a.getOr(c),X=nL(q),ne=X.indexOf(A);if(ne===-1)return A;{const ve=hk(X,ne-1),Ee=hk(X,ne+A.length);return(ve?" ":"")+A+(Ee?" ":"")}}else return A}).getOr(""),k4=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),g=uS(e,vs(c)),p=n.contextual?SV(Ke.fromDom(e.getBody()),g,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,n)},E4=(e,n)=>{if(n.format==="text")return kV(e);{const o=k4(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},EV=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),AV=(e,n,o={})=>{const a=EV(o,n);return GP(e,a).fold(kn,c=>{const g=E4(e,c);return hf(e,g,c)})},Ed=0,A4=1,oL=2,T4=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),c=new Array(o),g=(q,X,ne)=>({start:q,end:X,diag:ne}),p=(q,X,ne,ve,Ee)=>{const ye=A(q,X,ne,ve);if(ye===null||ye.start===X&&ye.diag===X-ve||ye.end===q&&ye.diag===q-ne){let De=q,Je=ne;for(;De<X||Je<ve;)De<X&&Je<ve&&e[De]===n[Je]?(Ee.push([Ed,e[De]]),++De,++Je):X-q>ve-ne?(Ee.push([oL,e[De]]),++De):(Ee.push([A4,n[Je]]),++Je)}else{p(q,ye.start,ne,ye.start-ye.diag,Ee);for(let De=ye.start;De<ye.end;++De)Ee.push([Ed,e[De]]);p(ye.end,X,ye.end-ye.diag,ve,Ee)}},_=(q,X,ne,ve)=>{let Ee=q;for(;Ee-X<ve&&Ee<ne&&e[Ee]===n[Ee-X];)++Ee;return g(q,Ee,X)},A=(q,X,ne,ve)=>{const Ee=X-q,ye=ve-ne;if(Ee===0||ye===0)return null;const De=Ee-ye,Je=ye+Ee,st=(Je%2===0?Je:Je+1)/2;a[1+st]=q,c[1+st]=X+1;let ot,bt,zt,en,wn;for(ot=0;ot<=st;++ot){for(bt=-ot;bt<=ot;bt+=2){for(zt=bt+st,bt===-ot||bt!==ot&&a[zt-1]<a[zt+1]?a[zt]=a[zt+1]:a[zt]=a[zt-1]+1,en=a[zt],wn=en-q+ne-bt;en<X&&wn<ve&&e[en]===n[wn];)a[zt]=++en,++wn;if(De%2!==0&&De-ot<=bt&&bt<=De+ot&&c[zt-De]<=a[zt])return _(c[zt-De],bt+q-ne,X,ve)}for(bt=De-ot;bt<=De+ot;bt+=2){for(zt=bt+st-De,bt===De-ot||bt!==De+ot&&c[zt+1]<=c[zt-1]?c[zt]=c[zt+1]-1:c[zt]=c[zt-1],en=c[zt]-1,wn=en-q+ne-bt;en>=q&&wn>=ne&&e[en]===n[wn];)c[zt]=en--,wn--;if(De%2===0&&-ot<=bt&&bt<=ot&&c[zt]<=a[zt+De])return _(c[zt],bt+q-ne,X,ve)}}return null},$=[];return p(0,e.length,0,n.length,$),$},O4=e=>Nn(e)?e.outerHTML:jt(e)?vh.encodeRaw(e.data,!1):No(e)?"<!--"+e.data+"-->":"",bk=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},rL=(e,n,o)=>{const a=bk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},sL=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},iL=(e,n)=>{let o=0;be(e,a=>{a[0]===Ed?o++:a[0]===A4?(rL(n,a[1],o),o++):a[0]===oL&&sL(n,o)})},TV=(e,n)=>qe($e(Oo(e.childNodes),Ot(Il,O4)),o=>o.length>0),OV=(e,n)=>{const o=$e(Oo(n.childNodes),O4);return iL(T4(o,e),n),n},I4=Hl(()=>document.implementation.createHTMLDocument("undo")),IV=e=>e.querySelector("iframe")!==null,DV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),vk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Uy=e=>{const n=e.serializer.getTempAttrs(),o=v3(e.getBody(),n);return IV(o)?DV(TV(o)):vk(Il(o.innerHTML))},Kw=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?OV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ae(a)&&_R(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},yk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Yh=e=>{const n=Ke.fromTag("body",I4());return Wm(n,yk(e)),be(vi(n,"*[data-mce-bogus]"),Ua),Gd(n)},RV=(e,n)=>yk(e)===yk(n),NV=(e,n)=>Yh(e)===Yh(n),Wy=(e,n)=>!e||!n?!1:RV(e,n)?!0:NV(e,n),xk=e=>e.get()===0,jw=(e,n,o)=>{xk(o)&&(e.typing=n)},D4=(e,n)=>{e.typing&&(jw(e,!1,n),e.add())},PV=e=>{e.typing&&(e.typing=!1,e.add())},LV=(e,n,o)=>{xk(n)&&o.set(Sn(e.selection))},R4=(e,n,o,a,c,g,p)=>{const _=Uy(e),A=tn.extend(g||{},_);if(!xk(a)||e.removed)return null;const $=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:$,originalEvent:p}).isDefaultPrevented()||$&&Wy($,A))return null;n.data[o.get()]&&c.get().each(ne=>{n.data[o.get()].beforeBookmark=ne});const q=VD(e);if(q&&n.data.length>q){for(let ne=0;ne<n.data.length-1;ne++)n.data[ne]=n.data[ne+1];n.data.length--,o.set(n.data.length)}A.bookmark=Sn(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const X={level:A,lastLevel:$,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",X),e.dispatch("change",X)):e.dispatch("AddUndo",X),A},N4=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},P4=(e,n,o,a,c)=>{if(n.transact(a)){const g=n.data[o.get()].bookmark,p=n.data[o.get()-1];Kw(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=g)}},aL=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],Kw(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},wk=(e,n,o,a)=>{let c;return n.typing&&(n.add(),n.typing=!1,jw(n,!1,o)),a.get()>0&&(a.set(a.get()-1),c=n.data[a.get()],Kw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},lL=e=>{e.clear(),e.add()},cL=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!Wy(Uy(e),n.data[0]),MV=(e,n)=>n.get()<e.data.length-1&&!e.typing,BV=(e,n,o)=>(D4(e,n),e.beforeChange(),e.ignore(o),e.add()),L4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},uL=(e,n)=>{const o=e.dom,a=Ae(n)?n:e.getBody();be(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const g=C_(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,g):o.removeClass(c,g);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,A=my(e);_&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},M4=e=>({init:{bindEvents:Ze},undoManager:{beforeChange:(n,o)=>LV(e,n,o),add:(n,o,a,c,g,p)=>R4(e,n,o,a,c,g,p),undo:(n,o,a)=>wk(e,n,o,a),redo:(n,o)=>aL(e,n,o),clear:(n,o)=>N4(e,n,o),reset:n=>lL(n),hasUndo:(n,o)=>cL(e,n,o),hasRedo:(n,o)=>MV(n,o),transact:(n,o,a)=>BV(n,o,a),ignore:(n,o)=>L4(n,o),extra:(n,o,a,c)=>P4(e,n,o,a,c)},formatter:{match:(n,o,a,c)=>hb(e,n,o,a,c),matchAll:(n,o)=>Z5(e,n,o),matchNode:(n,o,a,c)=>kg(e,n,o,a,c),canApply:n=>q5(e,n),closest:n=>G5(e,n),apply:(n,o,a)=>gP(e,n,o,a),remove:(n,o,a,c)=>yb(e,n,o,a,c),toggle:(n,o,a)=>V$(e,n,o,a),formatChanged:(n,o,a,c,g)=>$$(e,n,o,a,c,g)},editor:{getContent:n=>UN(e,n),setContent:(n,o)=>D$(e,n,o),insertContent:(n,o)=>jS(e,n,o),addVisual:n=>uL(e,n)},selection:{getContent:(n,o)=>AV(e,n,o)},autocompleter:{addDecoration:Ze,removeDecoration:Ze},raw:{getModel:()=>Q.none()}}),FV=e=>{const n=$=>Z($)?$:{},{init:o,undoManager:a,formatter:c,editor:g,selection:p,autocompleter:_,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:($,q,X)=>a.transact(X),ignore:($,q)=>a.ignore(q),extra:($,q,X,ne)=>a.extra(X,ne)},formatter:{match:($,q,X,ne)=>c.match($,n(q),ne),matchAll:c.matchAll,matchNode:c.matchNode,canApply:$=>c.canApply($),closest:$=>c.closest($),apply:($,q,X)=>c.apply($,n(q)),remove:($,q,X,ne)=>c.remove($,n(q)),toggle:($,q,X)=>c.toggle($,n(q)),formatChanged:($,q,X,ne,ve)=>c.formatChanged(q,X,ne,ve)},editor:{getContent:$=>g.getContent($),setContent:($,q)=>({content:g.setContent($,q),html:""}),insertContent:($,q)=>(g.insertContent($),""),addVisual:g.addVisual},selection:{getContent:($,q)=>p.getContent(q)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>Q.some(A.getRawModel())}}},$V=()=>{const e=ut(null),n=ut("");return{init:{bindEvents:Ze},undoManager:{beforeChange:Ze,add:e,undo:e,redo:e,clear:Ze,reset:Ze,hasUndo:On,hasRedo:On,transact:e,ignore:Ze,extra:Ze},formatter:{match:On,matchAll:ut([]),matchNode:ut(void 0),canApply:On,closest:n,apply:Ze,remove:Ze,toggle:Ze,formatChanged:ut({unbind:Ze})},editor:{getContent:n,setContent:ut({content:"",html:""}),insertContent:ut(""),addVisual:Ze},selection:{getContent:n},autocompleter:{addDecoration:Ze,removeDecoration:Ze},raw:{getModel:ut(Q.none())}}},Ig=e=>fo(e.plugins,"rtc"),dL=e=>Nr(e.plugins,"rtc").bind(n=>Q.from(n.setup)),fL=e=>{const n=e;return dL(e).fold(()=>(n.rtcInstance=M4(e),Q.none()),o=>(n.rtcInstance=$V(),Q.some(()=>o().then(a=>(n.rtcInstance=FV(a),a.rtc.isRemote)))))},B4=e=>e.rtcInstance?e.rtcInstance:M4(e),wa=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Ky=(e,n,o)=>{wa(e).undoManager.beforeChange(n,o)},VV=(e,n,o,a,c,g,p)=>wa(e).undoManager.add(n,o,a,c,g,p),zV=(e,n,o,a)=>wa(e).undoManager.undo(n,o,a),mL=(e,n,o)=>wa(e).undoManager.redo(n,o),gL=(e,n,o)=>{wa(e).undoManager.clear(n,o)},Ck=(e,n)=>{wa(e).undoManager.reset(n)},HV=(e,n,o)=>wa(e).undoManager.hasUndo(n,o),UV=(e,n,o)=>wa(e).undoManager.hasRedo(n,o),WV=(e,n,o,a)=>wa(e).undoManager.transact(n,o,a),KV=(e,n,o)=>{wa(e).undoManager.ignore(n,o)},jV=(e,n,o,a,c)=>{wa(e).undoManager.extra(n,o,a,c)},ZV=(e,n,o,a,c)=>wa(e).formatter.match(n,o,a,c),GV=(e,n,o)=>wa(e).formatter.matchAll(n,o),qV=(e,n,o,a,c)=>wa(e).formatter.matchNode(n,o,a,c),YV=(e,n)=>wa(e).formatter.canApply(n),XV=(e,n)=>wa(e).formatter.closest(n),rs=(e,n,o,a)=>{wa(e).formatter.apply(n,o,a)},hL=(e,n,o,a,c)=>{wa(e).formatter.remove(n,o,a,c)},F4=(e,n,o,a)=>{wa(e).formatter.toggle(n,o,a)},pL=(e,n,o,a,c,g)=>wa(e).formatter.formatChanged(n,o,a,c,g),bL=(e,n)=>B4(e).editor.getContent(n),$4=(e,n,o)=>B4(e).editor.setContent(n,o),JV=(e,n,o)=>B4(e).editor.insertContent(n,o),QV=(e,n,o)=>wa(e).selection.getContent(n,o),vL=(e,n)=>wa(e).editor.addVisual(n),yL=e=>wa(e).init.bindEvents(),ez=(e,n={})=>{const o=n.format?n.format:"html";return QV(e,o,n)},E0=e=>e.dom.length===0?(Pr(e),Q.none()):Q.some(e),tz=(e,n)=>e.filter(o=>Gr.isBookmarkNode(o.dom)).bind(n?Gn:Si),jy=(e,n,o,a,c)=>{const g=e.dom,p=n.dom,_=a?g.length:p.length;a?(Sw(g,p,c,!1,!a),o.setStart(p,_)):(Sw(p,g,c,!1,!a),o.setEnd(p,_))},Zw=(e,n,o)=>{da(e).each(a=>{const c=e.dom;n&&Ry(a,St(c,0),o)?xS(c,0,o):!n&&b0(a,St(c,c.length),o)&&Vs(c,c.length,o)})},A0=(e,n,o,a,c)=>{e.bind(g=>((a?Vs:xS)(g.dom,a?g.dom.length:0,c),n.filter(us).map(_=>jy(g,_,o,a,c)))).orThunk(()=>tz(n,a).or(n).filter(us).map(p=>Zw(p,a,c)))},V4=(e,n,o)=>{const a=Q.from(n.firstChild).map(Ke.fromDom),c=Q.from(n.lastChild).map(Ke.fromDom);e.deleteContents(),e.insertNode(n);const g=a.bind(Si).filter(us).bind(E0),p=c.bind(Gn).filter(us).bind(E0);A0(g,a,e,!0,o),A0(p,c,e,!1,o),e.collapse(!1)},xL=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),wL=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},g=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Uh({validate:!1},e.schema).serialize(g)}else return n.content},z4=(e,n,o={})=>{const a=xL(o,n);y4(e,a).each(c=>{const g=wL(e,c),p=e.selection.getRng();V4(p,p.createContextualFragment(g),e.schema),e.selection.setRng(p),bd(e,p),x4(e,g,c)})},H4=(e,n,o)=>{if(fo(e,n)){const a=qe(e[n],c=>c!==o);a.length===0?delete e[n]:e[n]=a}};var CL=(e,n)=>{let o,a;const c=(_,A)=>bn(A,$=>e.is($,_)),g=_=>e.getParents(_,void 0,e.getRoot()),p=()=>{o={},a={},n.on("NodeChange",_=>{const A=_.element,$=g(A),q={};ur(o,(X,ne)=>{c(ne,$).each(ve=>{a[ne]||(be(X,Ee=>{Ee(!0,{node:ve,selector:ne,parents:$})}),a[ne]=X),q[ne]=X})}),ur(a,(X,ne)=>{q[ne]||(delete a[ne],be(X,ve=>{ve(!1,{node:A,selector:ne,parents:$})}))})})};return{selectorChangedWithUnbind:(_,A)=>(o||p(),o[_]||(o[_]=[]),o[_].push(A),c(_,g(n.selection.getStart())).each(()=>{a[_]=o[_]}),{unbind:()=>{H4(o,_,A),H4(a,_,A)}})}};const U4=e=>!!(e&&e.ownerDocument)&&ua(Ke.fromDom(e.ownerDocument),Ke.fromDom(e)),W4=e=>e?U4(e.startContainer)&&U4(e.endContainer):!1,K4=(e,n,o,a)=>{let c,g;const{selectorChangedWithUnbind:p}=CL(e,a),_=(ln,Vn)=>{const Cr=e.createRng();Ae(ln)&&Ae(Vn)?(Cr.setStart(ln,Vn),Cr.setEnd(ln,Vn),bt(Cr),Je(!1)):(j2(e,Cr,a.getBody(),!0),bt(Cr))},A=ln=>ez(a,ln),$=(ln,Vn)=>z4(a,ln,Vn),q=ln=>RN(a.getBody(),ot(),ln),X=ln=>NN(a.getBody(),ot(),ln),ne=(ln,Vn)=>Ll.getBookmark(ln,Vn),ve=ln=>Ll.moveToBookmark(ln),Ee=(ln,Vn)=>(bw(e,ln,Vn).each(bt),ln),ye=()=>{const ln=ot(),Vn=st();return!ln||ln.item?!1:ln.compareEndPoints?ln.compareEndPoints("StartToEnd",ln)===0:!Vn||ln.collapsed},De=()=>{const ln=ot(),Vn=a.getBody().querySelectorAll('[data-mce-selected="1"]');return Vn.length>0?Do(Vn,Cr=>e.isEditable(Cr.parentElement)):IN(e,ln)},Je=ln=>{const Vn=ot();Vn.collapse(!!ln),bt(Vn)},st=()=>n.getSelection?n.getSelection():n.document.selection,ot=()=>{let ln;const Vn=(fn,Qn,Wo)=>{try{return Qn.compareBoundaryPoints(fn,Wo)}catch{return-1}},Cr=n.document;if(Ae(a.bookmark)&&!ky(a)){const fn=d3(a);if(fn.isSome())return fn.map(Qn=>uS(a,[Qn])[0]).getOr(Cr.createRange())}try{const fn=st();fn&&!$f(fn.anchorNode)&&(fn.rangeCount>0?ln=fn.getRangeAt(0):ln=Cr.createRange(),ln=uS(a,[ln])[0])}catch{}if(ln||(ln=Cr.createRange()),Bn(ln.startContainer)&&ln.collapsed){const fn=e.getRoot();ln.setStart(fn,0),ln.setEnd(fn,0)}return c&&g&&(Vn(ln.START_TO_START,ln,c)===0&&Vn(ln.END_TO_END,ln,c)===0?ln=g:(c=null,g=null)),ln},bt=(ln,Vn)=>{if(!W4(ln))return;const Cr=st();if(ln=a.dispatch("SetSelectionRange",{range:ln,forward:Vn}).range,Cr){g=ln;try{Cr.removeAllRanges(),Cr.addRange(ln)}catch{}Vn===!1&&Cr.extend&&(Cr.collapse(ln.endContainer,ln.endOffset),Cr.extend(ln.startContainer,ln.startOffset)),c=Cr.rangeCount>0?Cr.getRangeAt(0):null}if(!ln.collapsed&&ln.startContainer===ln.endContainer&&(Cr!=null&&Cr.setBaseAndExtent)&&ln.endOffset-ln.startOffset<2&&ln.startContainer.hasChildNodes()){const Qn=ln.startContainer.childNodes[ln.startOffset];Qn&&Qn.nodeName==="IMG"&&(Cr.setBaseAndExtent(ln.startContainer,ln.startOffset,ln.endContainer,ln.endOffset),(Cr.anchorNode!==ln.startContainer||Cr.focusNode!==ln.endContainer)&&Cr.setBaseAndExtent(Qn,0,Qn,1))}a.dispatch("AfterSetSelectionRange",{range:ln,forward:Vn})},zt=ln=>($(e.getOuterHTML(ln)),ln),en=()=>K7(a.getBody(),ot()),wn=(ln,Vn)=>p3(e,ot(),ln,Vn),Rt=()=>{const ln=st(),Vn=ln==null?void 0:ln.anchorNode,Cr=ln==null?void 0:ln.focusNode;if(!ln||!Vn||!Cr||$f(Vn)||$f(Cr))return!0;const fn=e.createRng(),Qn=e.createRng();try{fn.setStart(Vn,ln.anchorOffset),fn.collapse(!0),Qn.setStart(Cr,ln.focusOffset),Qn.collapse(!0)}catch{return!0}return fn.compareBoundaryPoints(fn.START_TO_START,Qn)<=0},gi={dom:e,win:n,serializer:o,editor:a,expand:(ln={type:"word"})=>bt(sb(e).expand(ot(),ln)),collapse:Je,setCursorLocation:_,getContent:A,setContent:$,getBookmark:ne,moveToBookmark:ve,select:Ee,isCollapsed:ye,isEditable:De,isForward:Rt,setNode:zt,getNode:en,getSel:st,setRng:bt,getRng:ot,getStart:q,getEnd:X,getSelectedBlocks:wn,normalize:()=>{const ln=ot(),Vn=st();if(!H2(Vn)&&vy(a)){const Cr=vg(e,ln);return Cr.each(fn=>{bt(fn,Rt())}),Cr.getOr(ln)}return ln},selectorChanged:(ln,Vn)=>(p(ln,Vn),gi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let ln,Vn=e.getRoot();for(;Vn&&Vn.nodeName!=="BODY";){if(Vn.scrollHeight>Vn.clientHeight){ln=Vn;break}Vn=Vn.parentNode}return ln},scrollIntoView:(ln,Vn)=>{Ae(ln)?a3(a,ln,Vn):bd(a,ot(),Vn)},placeCaretAt:(ln,Vn)=>bt(sN(ln,Vn,a.getDoc())),getBoundingClientRect:()=>{const ln=ot();return ln.collapsed?St.fromRangeStart(ln).getClientRects()[0]:ln.getBoundingClientRect()},destroy:()=>{n=c=g=null,es.destroy()}},Ll=Gr(gi),es=Hr(gi,a);return gi.bookmarkManager=Ll,gi.controlSelection=es,gi},_L=(e,n,o)=>{n.addNodeFilter("br",(a,c,g)=>{const p=tn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),A=o.getWhitespaceElements();p.body=1;const $=q=>q.name in p||Lp(o,q);for(let q=0,X=a.length;q<X;q++){let ne=a[q],ve=ne.parent;if(ve&&$(ve)&&ne===ve.lastChild){let Ee=ne.prev;for(;Ee;){const ye=Ee.name;if(ye!=="span"||Ee.attr("data-mce-type")!=="bookmark"){ye==="br"&&(ne=null);break}Ee=Ee.prev}if(ne&&(ne.remove(),My(o,_,A,ve))){const ye=o.getElementRule(ve.name);ye&&(ye.removeEmpty?ve.remove():ye.paddEmpty&&MS(e,g,$,ve))}}else{let Ee=ne;for(;ve&&ve.firstChild===Ee&&ve.lastChild===Ee&&(Ee=ve,!p[ve.name]);)ve=ve.parent;if(Ee===ve){const ye=new Pa("#text",3);ye.value=Ni,ne.replace(ye)}}}})},j4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let g=a.length;for(;g--;){const p=a[g];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const g="data-mce-"+c,p=n.url_converter,_=n.url_converter_scope;let A=a.length;for(;A--;){const $=a[A];let q=$.attr(g);q!==void 0?($.attr(c,q.length>0?q:null),$.attr(g,null)):(q=$.attr(c),c==="style"?q=o.serializeStyle(o.parseStyle(q),$.name):p&&(q=p.call(_,q,c,$.name)),$.attr(c,q.length>0?q:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const g=a[c];let p=g.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),g.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,g)=>{let p=a.length;for(;p--;){const _=a[p];_.attr("data-mce-type")==="bookmark"&&!g.cleanup&&(Q.from(_.firstChild).exists($=>{var q;return!qc((q=$.value)!==null&&q!==void 0?q:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var g;const p=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=a.length;for(;_--;){const A=a[_],$=A.firstChild,q=(g=$==null?void 0:$.value)!==null&&g!==void 0?g:"";if(c==="script"){const X=A.attr("type");X&&A.attr("type",X==="mce-no/type"?null:X.replace(/^mce\-/,"")),n.element_format==="xhtml"&&$&&q.length>0&&($.value=`// <![CDATA[
`+p(q)+`
// ]]>`)}else n.element_format==="xhtml"&&$&&q.length>0&&($.value=`<!--
`+p(q)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const g=a[c],p=g.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(g.name="#cdata",g.type=4,g.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(g.name="#text",g.type=3,g.raw=!0,g.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let g=a.length;for(;g--;){const p=a[g];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{be(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let g=a.length;for(;g--;)a[g].attr(c,null)}),n.remove_trailing_brs&&_L(n,e,e.schema)},nz=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},SL=(e,n,o)=>{let a;const c=e.dom;let g=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const _=p.createHTMLDocument("");tn.each(g.nodeName==="BODY"?g.childNodes:[g],A=>{_.body.appendChild(_.importNode(A,!0))}),g.nodeName!=="BODY"?g=_.body.firstChild:g=_.body,a=c.doc,c.doc=_}return Q2(e,{...o,node:g}),a&&(c.doc=a),g},kL=(e,n)=>Ae(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,EL=(e,n,o)=>kL(e,o)?SL(e,n,o):n,oz=(e,n,o)=>{tn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let g=a.length;for(;g--;)a[g].attr(c,null)}),n.push(o))},rz=(e,n,o)=>!n.no_events&&e?ew(e,{...n,content:o}).content:o,_k=(e,n,o)=>{const a=Il(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Lv(Ke.fromDom(n))?a:tn.trim(a)},AL=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,a);return nz(c),c},TL=(e,n,o)=>Uh(e,n).serialize(o),OL=(e,n,o,a,c)=>{const g=TL(n,o,a);return rz(e,c,g)},sz=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Jr.DOM,g=n&&n.schema?n.schema:Kc(a),p=Hy(a,g);j4(p,a,c);const _=(A,$={})=>{const q={format:"html",...$},X=EL(n,A,q),ne=_k(c,X,q),ve=AL(p,ne,q);return q.format==="tree"?ve:OL(n,a,g,ve,q)};return{schema:g,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:_,addRules:g.addValidElements,setRules:g.setValidElements,addTempAttr:tt(oz,p,o),getTempAttrs:ut(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},IL=(e,n)=>{const o=sz(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},iz="html",az=(e,n)=>({...e,format:n,get:!0,getInner:!0}),DL=(e,n={})=>{const o=n.format?n.format:iz,a=az(n,o);return GP(e,a).fold(kn,c=>{const g=bL(e,c);return hf(e,g,c)})},RL="html",NL=(e,n)=>({format:RL,...e,set:!0,content:n}),Z4=(e,n,o={})=>{const a=NL(o,n);return y4(e,a).map(c=>{const g=$4(e,c.content,c);return x4(e,g.html,c),g.content}).getOr(n)},lz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cz=[],uz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Gw=[],G4=(e,n)=>{const o=qe(n,a=>fo(e,a));return xr(o)},dz=e=>{const n=G4(e,lz),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),xr(n)},PL=e=>G4(e,cz),q4=(e,n)=>{const o=tn.makeMap(e.plugins," "),c=qe(n,g=>fo(o,g));return xr(c)},Y4=e=>q4(e,uz),LL=e=>q4(e,Gw.map(n=>n.name)),ML=(e,n)=>{const o=dz(e),a=Y4(n),c=a.length>0,g=o.length>0,p=n.theme==="mobile";if(c||g||p){const _=`
- `,A=p?`

Themes:${_}mobile`:"",$=c?`

Plugins:${_}${a.join(_)}`:"",q=g?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+$+q)}},BL=e=>bn(Gw,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),fz=(e,n)=>{const o=PL(e),a=LL(n),c=a.length>0,g=o.length>0;if(c||g){const p=`
- `,_=c?`

Plugins:${p}${a.map(BL).join(p)}`:"",A=g?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},mz=(e,n)=>{ML(e,n),fz(e,n)},Cb=Jr.DOM,gz=e=>{Cb.setStyle(e.id,"display",e.orgDisplay)},qw=e=>Q.from(e).each(n=>n.destroy()),Sk=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},FL=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),Cb.unbind(n,"submit reset",e.formEventDelegate))},$L=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ae(c==null?void 0:c.nextSibling)&&Cb.remove(c.nextSibling),tw(e),e.editorManager.remove(e),!e.inline&&a&&gz(e),nw(e),Cb.remove(e.getContainer()),qw(n),qw(o),e.destroy()}},hz=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qw(o),qw(a)),FL(e),Sk(e),e.destroyed=!0}},Yw=(()=>{const e={};return{add:(c,g)=>{e[c]=g},get:c=>e[c]?e[c]:{icons:{}},has:c=>fo(e,c)}})(),_b=dl.ModelManager,Xw=(e,n)=>n.dom[e],X4=(e,n)=>parseInt(Us(n,e),10),J4=tt(Xw,"clientWidth"),VL=tt(Xw,"clientHeight"),pz=tt(X4,"margin-top"),zL=tt(X4,"margin-left"),bz=e=>e.dom.getBoundingClientRect(),HL=(e,n,o)=>{const a=J4(e),c=VL(e);return n>=0&&o>=0&&n<=a&&o<=c},UL=(e,n,o,a)=>{const c=bz(n),g=e?c.left+n.dom.clientLeft+zL(n):0,p=e?c.top+n.dom.clientTop+pz(n):0,_=o-g,A=a-p;return{x:_,y:A}},vz=(e,n,o)=>{const a=Ke.fromDom(e.getBody()),c=e.inline?a:ed(a),g=UL(e.inline,c,n,o);return HL(c,g.x,g.y)},WL=e=>Q.from(e).map(Ke.fromDom),Q4=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return WL(n).map(Va).getOr(!1)};var KL=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const eO=e=>{const n=[],o=()=>{const ne=e.theme;return ne&&ne.getNotificationManagerImpl?ne.getNotificationManagerImpl():KL()},a=()=>Q.from(n[0]),c=(ne,ve)=>ne.type===ve.type&&ne.text===ve.text&&!ne.progressBar&&!ne.timeout&&!ve.progressBar&&!ve.timeout,g=()=>{a().each(ne=>{ne.reposition()})},p=ne=>{n.push(ne)},_=ne=>{qn(n,ve=>ve===ne).each(ve=>{n.splice(ve,1)})},A=(ne,ve=!0)=>e.removed||!Q4(e)?{}:(ve&&e.dispatch("BeforeOpenNotification",{notification:ne}),bn(n,Ee=>c(o().getArgs(Ee),ne)).getOrThunk(()=>{e.editorManager.setActive(e);const Ee=o().open(ne,()=>{_(Ee)},()=>d0(e));return p(Ee),g(),e.dispatch("OpenNotification",{notification:{...Ee}}),Ee})),$=()=>{a().each(ne=>{o().close(ne),_(ne),g()})},q=ut(n);return(ne=>{ne.on("SkinLoaded",()=>{const ve=E8(ne);ve&&A({text:ve,type:"warning",timeout:0},!1),g()}),ne.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(g)}),ne.on("remove",()=>{be(n.slice(),ve=>{o().close(ve)})}),ne.addShortcut("alt+F12","Focus to notification",()=>a().map(ve=>Ke.fromDom(ve.getEl())).each(ve=>l3(ve)))})(e),{open:A,close:$,getNotifications:q}},T0=dl.PluginManager,Sb=dl.ThemeManager;var yz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const jL=e=>{let n=[];const o=()=>{const ye=e.theme;return ye&&ye.getWindowManagerImpl?ye.getWindowManagerImpl():yz()},a=(ye,De)=>(...Je)=>De?De.apply(ye,Je):void 0,c=ye=>{e.dispatch("OpenWindow",{dialog:ye})},g=ye=>{e.dispatch("CloseWindow",{dialog:ye})},p=ye=>{n.push(ye),c(ye)},_=ye=>{g(ye),n=qe(n,De=>De!==ye),n.length===0&&e.focus()},A=()=>Q.from(n[n.length-1]),$=ye=>{e.editorManager.setActive(e),Sy(e),e.ui.show();const De=ye();return p(De),De},q=(ye,De)=>$(()=>o().open(ye,De,_)),X=ye=>$(()=>o().openUrl(ye,_)),ne=(ye,De,Je)=>{const st=o();st.alert(ye,a(Je||st,De))},ve=(ye,De,Je)=>{const st=o();st.confirm(ye,a(Je||st,De))},Ee=()=>{A().each(ye=>{o().close(ye),_(ye)})};return e.on("remove",()=>{be(n,ye=>{o().close(ye)})}),{open:q,openUrl:X,alert:ne,confirm:ve,close:Ee}},kk=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Ek=(e,n)=>{e._skinLoaded?kk(e,n):e.on("SkinLoaded",()=>{kk(e,n)})},ZL=(e,n)=>{Ek(e,jc.translate(["Failed to upload image: {0}",n]))},Zy=(e,n,o)=>{ZA(e,n,{message:o}),console.error(o)},O0=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,tO=(e,n,o)=>{Zy(e,"PluginLoadError",O0("plugin",n,o))},nO=(e,n,o)=>{Zy(e,"IconsLoadError",O0("icons",n,o))},xz=(e,n,o)=>{Zy(e,"LanguageLoadError",O0("language",n,o))},GL=(e,n,o)=>{Zy(e,"ThemeLoadError",O0("theme",n,o))},wz=(e,n,o)=>{Zy(e,"ModelLoadError",O0("model",n,o))},Cz=(e,n,o)=>{const a=jc.translate(["Failed to initialize plugin: {0}",n]);ZA(e,"PluginLoadError",{message:a}),Jw(a,o),Ek(e,a)},Jw=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},oO=e=>/^[a-z0-9\-]+$/i.test(e),rO=e=>"content/"+e+"/content.css",Ak=e=>tinymce.Resource.has(rO(e)),_z=e=>qL(e,jl(e)),Sz=e=>qL(e,RD(e)),qL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return $e(n,g=>Ak(g)?g:oO(g)&&!e.inline?`${o}/${g}/${c}`:e.documentBaseURI.toAbsolute(g))},YL=e=>{e.contentCSS=e.contentCSS.concat(_z(e),Sz(e))},XL=e=>e?Oo(e.getElementsByTagName("img")):[],kz=(e,n)=>{const o={};return{findAll:(c,g=nn)=>{const p=qe(XL(c),A=>{const $=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!$||$===zo.transparentSrc?!1:cs($,"blob:")?!e.isUploaded($)&&g(A):cs($,"data:")?g(A):!1}),_=$e(p,A=>{const $=A.src;if(fo(o,$))return o[$].then(q=>ue(q)?q:{image:A,blobInfo:q.blobInfo});{const q=XT(n,$).then(X=>(delete o[$],{image:A,blobInfo:X})).catch(X=>(delete o[$],X));return o[$]=q,q}});return Promise.all(_)}}},sO=()=>{let o={};const a=(ne,ve)=>({status:ne,resultUri:ve}),c=ne=>ne in o;return{hasBlobUri:c,getResultUri:ne=>{const ve=o[ne];return ve?ve.resultUri:null},isPending:ne=>c(ne)?o[ne].status===1:!1,isUploaded:ne=>c(ne)?o[ne].status===2:!1,markPending:ne=>{o[ne]=a(1,null)},markUploaded:(ne,ve)=>{o[ne]=a(2,ve)},removeFailed:ne=>{delete o[ne]},destroy:()=>{o={}}}};let Qw=0;const JL=()=>{const e=()=>Math.round(Ol()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Ez=e=>e+Qw+++JL(),QL=()=>{let e=[];const n=X=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[X.toLowerCase()]||"dat",o=(X,ne,ve,Ee,ye)=>{if(ue(X))return a({id:X,name:Ee,filename:ye,blob:ne,base64:ve});if(Z(X))return a(X);throw new Error("Unknown input type")},a=X=>{if(!X.blob||!X.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ne=X.id||Ez("blobid"),ve=X.name||ne,Ee=X.blob;return{id:ut(ne),name:ut(ve),filename:ut(X.filename||ve+"."+n(Ee.type)),blob:ut(Ee),base64:ut(X.base64),blobUri:ut(X.blobUri||URL.createObjectURL(Ee)),uri:ut(X.uri)}},c=X=>{p(X.id())||e.push(X)},g=X=>bn(e,X).getOrUndefined(),p=X=>g(ne=>ne.id()===X);return{create:o,add:c,get:p,getByUri:X=>g(ne=>ne.blobUri()===X),getByData:(X,ne)=>g(ve=>ve.base64()===X&&ve.blob().type===ne),findFirst:g,removeByUri:X=>{e=qe(e,ne=>ne.blobUri()===X?(URL.revokeObjectURL(ne.blobUri()),!1):!0)},destroy:()=>{be(e,X=>{URL.revokeObjectURL(X.blobUri())}),e=[]}}},eM=(e,n)=>{const o={},a=(ye,De)=>ye?ye.replace(/\/$/,"")+"/"+De.replace(/^\//,""):De,c=(ye,De)=>new Promise((Je,st)=>{const ot=new XMLHttpRequest;ot.open("POST",n.url),ot.withCredentials=n.credentials,ot.upload.onprogress=zt=>{De(zt.loaded/zt.total*100)},ot.onerror=()=>{st("Image upload failed due to a XHR Transport error. Code: "+ot.status)},ot.onload=()=>{if(ot.status<200||ot.status>=300){st("HTTP Error: "+ot.status);return}const zt=JSON.parse(ot.responseText);if(!zt||!ue(zt.location)){st("Invalid JSON: "+ot.responseText);return}Je(a(n.basePath,zt.location))};const bt=new FormData;bt.append("file",ye.blob(),ye.filename()),ot.send(bt)}),g=ze(n.handler)?n.handler:c,p=()=>new Promise(ye=>{ye([])}),_=(ye,De)=>({url:De,blobInfo:ye,status:!0}),A=(ye,De)=>({url:"",blobInfo:ye,status:!1,error:De}),$=(ye,De)=>{tn.each(o[ye],Je=>{Je(De)}),delete o[ye]},q=(ye,De,Je)=>(e.markPending(ye.blobUri()),new Promise(st=>{let ot,bt;try{const zt=()=>{ot&&(ot.close(),bt=Ze)},en=Rt=>{zt(),e.markUploaded(ye.blobUri(),Rt),$(ye.blobUri(),_(ye,Rt)),st(_(ye,Rt))},wn=Rt=>{zt(),e.removeFailed(ye.blobUri()),$(ye.blobUri(),A(ye,Rt)),st(A(ye,Rt))};bt=Rt=>{Rt<0||Rt>100||Q.from(ot).orThunk(()=>Q.from(Je).map(po)).each(Ct=>{ot=Ct,Ct.progressBar.value(Rt)})},De(ye,bt).then(en,Rt=>{wn(ue(Rt)?{message:Rt}:Rt)})}catch(zt){st(A(ye,zt))}})),X=ye=>ye===c,ne=ye=>{const De=ye.blobUri();return new Promise(Je=>{o[De]=o[De]||[],o[De].push(Je)})},ve=(ye,De)=>(ye=tn.grep(ye,Je=>!e.isUploaded(Je.blobUri())),Promise.all(tn.map(ye,Je=>e.isPending(Je.blobUri())?ne(Je):q(Je,g,De))));return{upload:(ye,De)=>!n.url&&X(g)?p():ve(ye,De)}},tM=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),nM=(e,n)=>eM(n,{url:cA(e),basePath:OD(e),credentials:uA(e),handler:_8(e)}),Az=e=>{const n=sO(),o=nM(e,n);return{upload:(a,c=!0)=>o.upload(a,c?tM(e):void 0)}},Tz=(e,n)=>e.dom.isEmpty(n.dom)&&Ae(e.schema.getTextBlockElements()[er(n)]),oM=e=>n=>{Tz(e,n)&&Ws(n,Ke.fromHtml('<br data-mce-bogus="1" />'))},iO=e=>{const n=QL();let o,a;const c=sO(),g=[],p=ot=>bt=>e.selection?ot(bt):[],_=ot=>ot+(ot.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(ot,bt,zt)=>{let en=0;do en=ot.indexOf(bt,en),en!==-1&&(ot=ot.substring(0,en)+zt+ot.substr(en+bt.length),en+=zt.length-bt.length+1);while(en!==-1);return ot},$=(ot,bt,zt)=>{const en=`src="${zt}"${zt===zo.transparentSrc?' data-mce-placeholder="1"':""}`;return ot=A(ot,`src="${bt}"`,en),ot=A(ot,'data-mce-src="'+bt+'"','data-mce-src="'+zt+'"'),ot},q=(ot,bt)=>{be(e.undoManager.data,zt=>{zt.type==="fragmented"?zt.fragments=$e(zt.fragments,en=>$(en,ot,bt)):zt.content=$(zt.content,ot,bt)})},X=(ot,bt)=>{const zt=e.convertURL(bt,"src");q(ot.src,bt),Fa(Ke.fromDom(ot),{src:Mh(e)?_(bt):bt,"data-mce-src":zt})},ne=()=>(o||(o=nM(e,c)),De().then(p(ot=>{const bt=$e(ot,zt=>zt.blobInfo);return o.upload(bt,tM(e)).then(p(zt=>{const en=[];let wn=!1;const Rt=$e(zt,(Ct,$t)=>{const{blobInfo:In,image:Wn}=ot[$t];let $o=!1;return Ct.status&&AD(e)?(Ct.url&&!Mr(Wn.src,Ct.url)&&(wn=!0),n.removeByUri(Wn.src),Ig(e)||X(Wn,Ct.url)):Ct.error&&(Ct.error.remove&&(q(Wn.src,zo.transparentSrc),en.push(Wn),$o=!0),ZL(e,Ct.error.message)),{element:Wn,status:Ct.status,uploadUri:Ct.url,blobInfo:In,removed:$o}});return en.length>0&&!Ig(e)?e.undoManager.transact(()=>{be(yu(en),Ct=>{const $t=da(Ct);Pr(Ct),$t.each(oM(e)),n.removeByUri(Ct.dom.src)})}):wn&&e.undoManager.dispatchChange(),Rt}))}))),ve=()=>Qr(e)?ne():Promise.resolve([]),Ee=ot=>Do(g,bt=>bt(ot)),ye=ot=>{g.push(ot)},De=()=>(a||(a=kz(c,n)),a.findAll(e.getBody(),Ee).then(p(ot=>{const bt=qe(ot,zt=>ue(zt)?(Ek(e,zt),!1):zt.uriType!=="blob");return Ig(e)||be(bt,zt=>{q(zt.image.src,zt.blobInfo.blobUri()),zt.image.src=zt.blobInfo.blobUri(),zt.image.removeAttribute("data-mce-src")}),bt}))),Je=()=>{n.destroy(),c.destroy(),a=o=null},st=ot=>ot.replace(/src="(blob:[^"]+)"/g,(bt,zt)=>{const en=c.getResultUri(zt);if(en)return'src="'+en+'"';let wn=n.getByUri(zt);return wn||(wn=sn(e.editorManager.get(),(Rt,Ct)=>Rt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(zt),void 0)),wn?'src="data:'+wn.blob().type+";base64,"+wn.base64()+'"':bt});return e.on("SetContent",()=>{Qr(e)?ve():De()}),e.on("RawSaveContent",ot=>{ot.content=st(ot.content)}),e.on("GetContent",ot=>{ot.source_view||ot.format==="raw"||ot.format==="tree"||(ot.content=st(ot.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ot=>{be(ot,bt=>{const zt=bt.attr("src");if(!zt||n.getByUri(zt))return;const en=c.getResultUri(zt);en&&bt.attr("src",en)})})}),{blobCache:n,addFilter:ye,uploadImages:ne,uploadImagesAuto:ve,scanForImages:De,destroy:Je}},rM=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},g={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,g]:[c,p,g]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,g,p)=>Nn(c)&&c.hasAttribute("href"),onformat:(c,g,p)=>{tn.each(p,(_,A)=>{n.setAttrib(c,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var g;return(g=c==null?void 0:c.customValue)!==null&&g!==void 0?g:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return tn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},aO={remove_similar:!0,inherit:!1},I0={selector:"td,th",...aO},sM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...I0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...I0},tablecellbordercolor:{styles:{borderColor:"%value"},...I0},tablecellclass:{classes:["%value"],...I0},tableclass:{selector:"table",classes:["%value"],...aO},tablecellborderstyle:{styles:{borderStyle:"%value"},...I0},tablecellborderwidth:{styles:{borderWidth:"%value"},...I0}},Oz=ut(sM),lO=e=>{const n={},o=p=>Ae(p)?n[p]:n,a=p=>fo(n,p),c=(p,_)=>{p&&(ue(p)?(re(_)||(_=[_]),be(_,A=>{Ye(A.deep)&&(A.deep=!Jc(A)),Ye(A.split)&&(A.split=!Jc(A)||ya(A)),Ye(A.remove)&&Jc(A)&&!ya(A)&&(A.remove="none"),Jc(A)&&ya(A)&&(A.mixed=!0,A.block_expand=!0),ue(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=_):ur(p,(A,$)=>{c($,A)}))},g=p=>(p&&n[p]&&delete n[p],n);return c(rM(e)),c(Oz()),c(T8(e)),{get:o,has:a,register:c,unregister:g}},D0=tn.each,_c=Jr.DOM,hm=e=>Ae(e)&&Z(e),eC=(e,n)=>{const o=n&&n.schema||Kc({}),a=(A,$)=>{$.classes.length>0&&_c.addClass(A,$.classes.join(" ")),_c.setAttribs(A,$.attrs)},c=A=>{const $=ue(A)?{name:A,classes:[],attrs:{}}:A,q=_c.create($.name);return a(q,$),q},g=(A,$)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),X=q==null?void 0:q.parentsRequired;return X&&X.length?$&&xe(X,$)?$:X[0]:!1},p=(A,$,q)=>{let X;const ne=$[0],ve=hm(ne)?ne.name:void 0,Ee=g(A,ve);if(Ee)ve===Ee?(X=ne,$=$.slice(1)):X=Ee;else if(ne)X=ne,$=$.slice(1);else if(!q)return A;const ye=X?c(X):_c.create("div");ye.appendChild(A),q&&tn.each(q,Je=>{const st=c(Je);ye.insertBefore(st,A)});const De=hm(X)?X.siblings:void 0;return p(ye,$,De)},_=_c.create("div");if(e.length>0){const A=e[0],$=c(A),q=hm(A)?A.siblings:void 0;_.appendChild(p($,e.slice(1),q))}return _},Gy=e=>{e=tn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,g,p,_)=>{switch(c){case"#":o.attrs.id=g;break;case".":o.classes.push(g);break;case":":tn.inArray("checked disabled enabled read-only required".split(" "),g)!==-1&&(o.attrs[g]=g);break}if(p==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},iM=e=>ue(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),tn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=tn.map(n.split(/(?:~\+|~|\+)/),Gy),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],aM=(e,n)=>{let o="",a=O8(e);if(a==="")return"";const c=ne=>ue(ne)?ne.replace(/%(\w+)/g,""):"",g=(ne,ve)=>_c.getStyle(ve??e.getBody(),ne,!0);if(ue(n)){const ne=e.formatter.get(n);if(!ne)return"";n=ne[0]}if("preview"in n){const ne=n.preview;if(ne===!1)return"";a=ne||a}let p=n.block||n.inline||"span",_;const A=iM(n.selector);A.length>0?(A[0].name||(A[0].name=p),p=n.selector,_=eC(A,e)):_=eC([p],e);const $=_c.select(p,_)[0]||_.firstChild;D0(n.styles,(ne,ve)=>{const Ee=c(ne);Ee&&_c.setStyle($,ve,Ee)}),D0(n.attributes,(ne,ve)=>{const Ee=c(ne);Ee&&_c.setAttrib($,ve,Ee)}),D0(n.classes,ne=>{const ve=c(ne);_c.hasClass($,ve)||_c.addClass($,ve)}),e.dispatch("PreviewFormats"),_c.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const q=g("fontSize"),X=/px$/.test(q)?parseInt(q,10):0;return D0(a.split(" "),ne=>{let ve=g(ne,$);if(!(ne==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=g(ne),wv(ve).toLowerCase()==="#ffffff"))&&!(ne==="color"&&wv(ve).toLowerCase()==="#000000")){if(ne==="font-size"&&/em|%$/.test(ve)){if(X===0)return;ve=parseFloat(ve)/(/%$/.test(ve)?100:1)*X+"px"}ne==="border"&&ve&&(o+="padding:0 2px;"),o+=ne+":"+ve+";"}}),e.dispatch("AfterPreviewFormats"),_c.remove(_),o},cO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},tC=e=>{const n=lO(e),o=Pi({});return cO(e),J5(e),Ig(e)||hP(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,c,g)=>{rs(e,a,c,g)},remove:(a,c,g,p)=>{hL(e,a,c,g,p)},toggle:(a,c,g)=>{F4(e,a,c,g)},match:(a,c,g,p)=>ZV(e,a,c,g,p),closest:a=>XV(e,a),matchAll:(a,c)=>GV(e,a,c),matchNode:(a,c,g,p)=>qV(e,a,c,g,p),canApply:a=>YV(e,a),formatChanged:(a,c,g,p)=>pL(e,o,a,c,g,p),getCssText:tt(aM,e)}},Xh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},R0=(e,n,o)=>{const a=Pi(!1),c=A=>{jw(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const $=A.command;Xh($)||(D4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const $=A.command;Xh($)||c(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;const q=zo.os.isMacOS()&&A.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||A.ctrlKey||q)&&(c(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),a.get()&&n.typing&&!Wy(Uy(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&c(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!q){n.beforeChange(),jw(n,!0,o),n.add({},A),a.set(!0);return}(zo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&n.beforeChange()}),e.on("mousedown",A=>{n.typing&&c(A)});const g=A=>A.inputType==="insertReplacementText",p=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(g(A)||p(A)||_(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},lM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},cM=e=>{const n=Li(),o=Pi(0),a=Pi(0),c={data:[],typing:!1,beforeChange:()=>{Ky(e,o,n)},add:(g,p)=>VV(e,c,a,o,n,g,p),dispatchChange:()=>{e.setDirty(!0);const g=Uy(e);g.bookmark=Sn(e.selection),e.dispatch("change",{level:g,lastLevel:ji(c.data,a.get()).getOrUndefined()})},undo:()=>zV(e,c,o,a),redo:()=>mL(e,a,c.data),clear:()=>{gL(e,c,a)},reset:()=>{Ck(e,c)},hasUndo:()=>HV(e,c,a),hasRedo:()=>UV(e,c,a),transact:g=>WV(e,c,o,g),ignore:g=>{KV(e,o,g)},extra:(g,p)=>{jV(e,c,a,g,p)}};return Ig(e)||R0(e,c,o),lM(e),c},uM=[9,27,hn.HOME,hn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,hn.DOWN,hn.UP,hn.LEFT,hn.RIGHT].concat(zo.browser.isFirefox()?[224]:[]),dM="data-mce-placeholder",fM=e=>e.type==="keydown"||e.type==="keyup",mM=e=>{const n=e.keyCode;return n===hn.BACKSPACE||n===hn.DELETE},uO=e=>{if(fM(e)){const n=e.keyCode;return!mM(e)&&(hn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||xe(uM,n))}else return!1},gM=e=>fM(e)&&!(mM(e)||e.type==="keyup"&&e.keyCode===229),Iz=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},hM=e=>{var n;const o=e.dom,a=ml(e),c=(n=fA(e))!==null&&n!==void 0?n:"",g=(p,_)=>{if(uO(p))return;const A=e.getBody(),$=gM(p)?!1:Iz(o,A,a);(o.getAttrib(A,dM)!==""!==$||_)&&(o.setAttrib(A,dM,$?c:null),ZR(e,$),e.on($?"keydown":"keyup",g),e.off($?"keyup":"keydown",g))};rt(c)&&e.on("init",p=>{g(p,!0),e.on("change SetContent ExecCommand",g),e.on("paste",_=>eu.setEditorTimeout(e,()=>g(_)))})},Dz=(e,n)=>({block:e,position:n}),dO=(e,n)=>({from:e,to:n}),fO=(e,n)=>{const o=Ke.fromDom(e),a=Ke.fromDom(n.container());return Aw(o,a).map(c=>Dz(c,n))},pM=e=>!(ua(e.to.block,e.from.block)||ua(e.from.block,e.to.block)),mO=e=>!tr(e.from.block,e.to.block),gO=(e,n)=>bi(n,c=>Zc(c)||zc(c.dom),c=>tr(c,e)).filter(Hs).getOr(e),hO=(e,n)=>{const o=Ke.fromDom(e);return tr(gO(o,n.from.block),gO(o,n.to.block))},Rz=e=>xo(e.from.block.dom)===!1&&xo(e.to.block.dom)===!1,bM=e=>{const n=o=>Nv(o)||Xi(o.dom)||ig(o);return n(e.from.block)&&n(e.to.block)},Nz=(e,n,o,a)=>bs(a.position.getNode())&&!js(e,a.block)?hy(!1,a.block.dom).bind(c=>c.isEqual(a.position)?Du(o,n,c).bind(g=>fO(n,g)):Q.some(a)).getOr(a):a,vM=(e,n,o,a)=>{const c=fO(n,St.fromRangeStart(a)),g=c.bind(p=>Du(o,n,p.position).bind(_=>fO(n,_).map(A=>Nz(e,n,o,A))));return la(c,g,dO).filter(p=>mO(p)&&hO(n,p)&&Rz(p)&&bM(p)&&pM(p))},yM=(e,n,o,a)=>a.collapsed?vM(e,n,o,a):Q.none(),Pz=(e,n)=>{const o=fa(e);return qn(o,a=>n.isBlock(er(a))).fold(ut(o),a=>o.slice(0,a))},xM=(e,n)=>{const o=Pz(e,n);return be(o,Pr),o},wM=(e,n,o)=>{const a=tu(o,n);return bn(a.reverse(),c=>js(e,c)).each(Pr)},Lz=(e,n)=>qe(nd(n),o=>!js(e,o)).length===0,Mz=(e,n,o,a,c)=>{if(js(a,o))return Gc(o),oo(o.dom);Lz(a,c)&&js(a,n)&&Is(c,Ke.fromTag("br"));const g=Xc(o.dom,St.before(c.dom));return be(xM(n,a),p=>{Is(c,p)}),wM(a,e,n),g},N0=(e,n)=>e.isInline(er(n)),CM=(e,n,o,a)=>{if(js(a,o)){if(js(a,n)){const p=ht((_=>{const A=($,q)=>Kl($).fold(()=>q,X=>N0(a,X)?A(X,q.concat(qs(X))):q);return A(_,[])})(o),(_,A)=>(ec(_,A),A),of());os(n),Ws(n,p)}return Pr(o),oo(n.dom)}const c=gd(o.dom);return be(xM(n,a),g=>{Ws(o,g)}),wM(a,e,n),c},_M=(e,n)=>{const o=tu(n,e);return Q.from(o[o.length-1])},SM=(e,n)=>ua(n,e)?_M(n,e):Q.none(),kM=(e,n)=>{hy(e,n.dom).bind(o=>Q.from(o.getNode())).map(Ke.fromDom).filter(fd).each(Pr)},EM=(e,n,o,a)=>(kM(!0,n),kM(!1,o),SM(n,o).fold(tt(CM,e,n,o,a),tt(Mz,e,n,o,a))),Jh=(e,n,o,a,c)=>n?EM(e,a,o,c):EM(e,o,a,c),Tk=(e,n)=>{const o=Ke.fromDom(e.getBody());return yM(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{Jh(o,n,c.from.block,c.to.block,e.schema).each(g=>{e.selection.setRng(g.toRange())})})},Ok=(e,n,o)=>{const a=n.getRng();return la(Aw(e,Ke.fromDom(a.startContainer)),Aw(e,Ke.fromDom(a.endContainer)),(c,g)=>tr(c,g)?Q.none():Q.some(()=>{a.deleteContents(),Jh(e,!0,c,g,o).each(p=>{n.setRng(p.toRange())})})).getOr(Q.none())},AM=(e,n)=>{const o=Ke.fromDom(n),a=tt(tr,e);return al(o,Zc,a).isSome()},TM=(e,n)=>AM(e,n.startContainer)||AM(e,n.endContainer),Bz=(e,n)=>{const o=Xc(e.dom,St.fromRangeStart(n)).isNone(),a=oc(e.dom,St.fromRangeEnd(n)).isNone();return!TM(e,n)&&o&&a},Fz=e=>Q.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),pO=e=>{const n=Ke.fromDom(e.getBody()),o=e.selection.getRng();return Bz(n,o)?Fz(e):Ok(n,e.selection,e.schema)},bO=(e,n)=>e.selection.isCollapsed()?Q.none():pO(e),Ls=(e,n,o,a,c)=>Q.from(n._selectionOverrides.showCaret(e,o,a,c)),$z=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},nC=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Q.none():Q.some($z(n)),vO=(e,n,o)=>{const a=OA(1,e.getBody(),n),c=St.fromRangeStart(a),g=c.getNode();if(P2(g))return Ls(1,e,g,!c.isAtEnd(),!1);const p=c.getNode(!0);if(P2(p))return Ls(1,e,p,!1,!1);const _=Cd(e.dom.getRoot(),c.getNode());return P2(_)?Ls(1,e,_,!1,o):Q.none()},Ik=(e,n,o)=>n.collapsed?vO(e,n,o).getOr(n):n,yO=e=>Fi(e)||g0(e),Vz=e=>mm(e)||Oy(e),zz=(e,n)=>{jt(n)&&n.data.length===0&&e.remove(n)},OM=(e,n,o,a,c,g)=>{Ls(a,e,g.getNode(!c),c,!0).each(p=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(p.startContainer,p.startOffset):_.setStart(p.endContainer,p.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),zz(e.dom,o)},Hz=(e,n)=>{const o=e.selection.getRng();if(!jt(o.commonAncestorContainer))return Q.none();const a=n?ja.Forwards:ja.Backwards,c=Jn(e.getBody()),g=tt(IA,n?c.next:c.prev),p=n?yO:Vz,_=$2(a,e.getBody(),o),A=g(_),$=A&&wd(n,A);if(!$||!R_(_,$))return Q.none();if(p($))return Q.some(()=>OM(e,o,_.getNode(),a,n,$));const q=g($);return q&&p(q)&&R_($,q)?Q.some(()=>OM(e,o,_.getNode(),a,n,q)):Q.none()},xO=(e,n)=>Hz(e,n),wO=(e,n)=>{const o=e.getBody();return n?oo(o).filter(Fi):gd(o).filter(mm)},CO=e=>{const n=e.selection.getRng();return!n.collapsed&&(wO(e,!0).exists(o=>o.isEqual(St.fromRangeStart(n)))||wO(e,!1).exists(o=>o.isEqual(St.fromRangeEnd(n))))},qy=e=>Ae(e)&&(Zc(Ke.fromDom(e))||ig(Ke.fromDom(e))),ea=Xo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Uz=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return Nn(o)&&o.getAttribute("data-mce-caret")===a},Wz=(e,n,o,a,c)=>{const g=p=>c.isInline(p.nodeName.toLowerCase())&&!gg(o,a,e);return dR(!n,o).fold(()=>dR(n,a).fold(On,g),g)},IM=(e,n,o,a,c)=>{const g=c.getNode(!o);return Aw(Ke.fromDom(n),Ke.fromDom(a.getNode())).map(p=>js(e,p)?ea.remove(p.dom):ea.moveToElement(g)).orThunk(()=>Q.some(ea.moveToElement(g)))},DM=(e,n,o,a)=>Du(n,e,o).bind(c=>qy(c.getNode())||Wz(e,n,o,c,a)?Q.none():n&&xo(c.getNode())||!n&&xo(c.getNode(!0))?IM(a,e,n,o,c):n&&mm(o)||!n&&Fi(o)?Q.some(ea.moveToPosition(c)):Q.none()),Kz=(e,n)=>it(n)?Q.none():e&&xo(n.nextSibling)?Q.some(ea.moveToElement(n.nextSibling)):!e&&xo(n.previousSibling)?Q.some(ea.moveToElement(n.previousSibling)):Q.none(),jz=(e,n,o)=>o.fold(a=>Q.some(ea.remove(a)),a=>Q.some(ea.moveToElement(a)),a=>gg(n,a,e)?Q.none():Q.some(ea.moveToPosition(a))),Zz=(e,n,o,a)=>Uz(n,o)?Kz(n,o.getNode(!n)).orThunk(()=>DM(e,n,o,a)):DM(e,n,o,a).bind(c=>jz(e,o,c)),Gz=(e,n,o,a)=>{const c=OA(n?1:-1,e,o),g=St.fromRangeStart(c),p=Ke.fromDom(e);return!n&&mm(g)?Q.some(ea.remove(g.getNode(!0))):n&&Fi(g)?Q.some(ea.remove(g.getNode())):!n&&Fi(g)&&p0(p,g,a)?vS(p,g,a).map(_=>ea.remove(_.getNode())):n&&mm(g)&&Cw(p,g,a)?e5(p,g,a).map(_=>ea.remove(_.getNode())):Zz(e,n,g,a)},qz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Rl(e,n,Ke.fromDom(o)),!0),Yz=(e,n)=>o=>{const a=n?St.before(o):St.after(o);return e.selection.setRng(a.toRange()),!0},Xz=e=>n=>(e.selection.setRng(n.toRange()),!0),RM=(e,n)=>Q.from(Cd(e.getBody(),n)),Jz=(e,n)=>{const o=e.selection.getNode();return RM(e,o).filter(xo).fold(()=>Gz(e.getBody(),n,e.selection.getRng(),e.schema).map(a=>()=>a.fold(qz(e,n),Yz(e,n),Xz(e))),()=>Q.some(Ze))},Qz=e=>{be(vi(e,".mce-offscreen-selection"),Pr)},e9=(e,n)=>{const o=e.selection.getNode();return xo(o)&&!Dp(o)?RM(e,o.parentNode).filter(xo).fold(()=>Q.some(()=>{Qz(Ke.fromDom(e.getBody())),Rl(e,n,Ke.fromDom(e.selection.getNode())),_S(e)}),()=>Q.some(Ze)):CO(e)?Q.some(()=>{SS(e,e.selection.getRng(),Ke.fromDom(e.getBody()))}):Q.none()},NM=e=>{const n=e.dom,o=e.selection,a=Cd(e.getBody(),o.getNode());if(zc(a)&&n.isBlock(a)&&n.isEmpty(a)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(c),o.setRng(St.before(c).toRange())}return!0},_O=(e,n)=>e.selection.isCollapsed()?Jz(e,n):e9(e,n),PM=e=>e.hasOwnProperty("text"),LM=e=>e.hasOwnProperty("marker"),MM=(e,n)=>{const o=(g,p)=>{if(jt(g))return{text:g,offset:p};{const _=n(),A=g.childNodes;return p<A.length?(g.insertBefore(_,A[p]),{marker:_,before:!0}):(g.appendChild(_),{marker:_,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},BM=e=>{var n,o;const{start:a,end:c}=e,g=new window.Range;return PM(a)?g.setStart(a.text,a.offset):LM(a)&&(a.before?g.setStartBefore(a.marker):g.setStartAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),PM(c)?g.setEnd(c.text,c.offset):LM(c)&&(c.before?g.setEndBefore(c.marker):g.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),g},SO=(e,n)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),g=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&g&&c===p.firstChild&&g===p.lastChild&&!a.isEmpty(p)){const A=c.cloneNode(!1),$=()=>{if(n?Z3(e):CS(e),p.firstChild!==c){const q=MM(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(X=>A.appendChild(X)),p.appendChild(A),e.selection.setRng(BM(q))}};return Q.some($)}return Q.none()},t9=(e,n)=>{const o=St.fromRangeStart(e.selection.getRng());return Du(n,e.getBody(),o).filter(a=>n?GN(a):qN(a)).bind(a=>I_(n?0:-1,a)).map(a=>()=>e.selection.select(a))},kO=(e,n)=>e.selection.isCollapsed()?t9(e,n):Q.none(),Yy=jt,FM=e=>Yy(e)&&e.data[0]===Ei,$M=e=>Yy(e)&&e.data[e.data.length-1]===Ei,VM=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ei)},n9=e=>{var n;if(Yy(e.previousSibling))return $M(e.previousSibling)||e.previousSibling.appendData(Ei),e.previousSibling;if(Yy(e))return FM(e)||e.insertData(0,Ei),e;{const o=VM(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},o9=e=>{var n,o;if(Yy(e.nextSibling))return FM(e.nextSibling)||e.nextSibling.insertData(0,Ei),e.nextSibling;if(Yy(e))return $M(e)||e.appendData(Ei),e;{const a=VM(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},Dk=(e,n)=>e?n9(n):o9(n),zM=tt(Dk,!0),r9=tt(Dk,!1),HM=(e,n)=>jt(e.container())?Dk(n,e.container()):Dk(n,e.getNode()),UM=(e,n)=>{const o=n.get();return o&&e.container()===o&&ag(o)},EO=(e,n)=>n.fold(o=>{qp(e.get());const a=zM(o);return e.set(a),Q.some(St(a,a.length-1))},o=>oo(o).map(a=>{if(UM(a,e)){const c=e.get();return St(c,1)}else{qp(e.get());const c=HM(a,!0);return e.set(c),St(c,1)}}),o=>gd(o).map(a=>{if(UM(a,e)){const c=e.get();return St(c,c.length-1)}else{qp(e.get());const c=HM(a,!1);return e.set(c),St(c,c.length-1)}}),o=>{qp(e.get());const a=r9(o);return e.set(a),Q.some(St(a,1))}),WM=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return Q.none()},sc=Xo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),KM=(e,n)=>{const o=Yp(n,e);return o||e},s9=(e,n,o)=>{const a=y5(o),c=KM(n,a.container());return ub(e,c,a).fold(()=>oc(c,a).bind(tt(ub,e,c)).map(g=>sc.before(g)),Q.none)},jM=(e,n)=>Xp(e,n)===null,ZM=(e,n,o)=>ub(e,n,o).filter(tt(jM,n)),i9=(e,n,o)=>{const a=Py(o);return ZM(e,n,a).bind(c=>Xc(c,a).isNone()?Q.some(sc.start(c)):Q.none())},a9=(e,n,o)=>{const a=y5(o);return ZM(e,n,a).bind(c=>oc(c,a).isNone()?Q.some(sc.end(c)):Q.none())},l9=(e,n,o)=>{const a=Py(o),c=KM(n,a.container());return ub(e,c,a).fold(()=>Xc(c,a).bind(tt(ub,e,c)).map(g=>sc.after(g)),Q.none)},GM=e=>!kw(AO(e)),Dg=(e,n,o)=>WM([s9,i9,a9,l9],[e,n,o]).filter(GM),AO=e=>e.fold(kn,kn,kn,kn),qM=e=>e.fold(ut("before"),ut("start"),ut("end"),ut("after")),oC=e=>e.fold(sc.before,sc.before,sc.after,sc.after),Rk=e=>e.fold(sc.start,sc.start,sc.end,sc.end),c9=(e,n)=>qM(e)===qM(n)&&AO(e)===AO(n),YM=(e,n,o,a,c,g)=>la(ub(n,o,a),ub(n,o,c),(p,_)=>p!==_&&v5(o,p,_)?sc.after(e?p:_):g).getOr(g),u9=(e,n)=>e.fold(nn,o=>!c9(o,n)),d9=(e,n,o,a,c)=>{const g=wd(e,c);return Du(e,o,g).map(tt(wd,e)).fold(()=>a.map(oC),A=>Dg(n,o,A).map(tt(YM,e,n,o,g,A)).filter(tt(u9,a))).filter(GM)},f9=(e,n)=>e?n.fold(Ot(Q.some,sc.start),Q.none,Ot(Q.some,sc.after),Q.none):n.fold(Q.none,Ot(Q.some,sc.before),Q.none,Ot(Q.some,sc.end)),m9=(e,n,o,a)=>{const c=wd(e,a),g=Dg(n,o,c);return Dg(n,o,c).bind(tt(f9,e)).orThunk(()=>d9(e,n,o,g,a))},g9=e=>ze(e.selection.getSel().modify),XM=(e,n,o)=>{const a=e?1:-1;return n.setRng(St(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},TO=(e,n)=>{const o=n.selection.getRng(),a=e?St.fromRangeEnd(o):St.fromRangeStart(o);return g9(n)?e&&Mv(a)?XM(!0,n.selection,a):!e&&J1(a)?XM(!1,n.selection,a):!1:!1};var pf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(pf||(pf={}));const Nk=(e,n)=>e===ja.Backwards?Zr(n):n,JM=(e,n,o)=>e===ja.Forwards?n.next(o):n.prev(o),h9=(e,n,o,a)=>bs(a.getNode(n===ja.Forwards))?pf.Br:gg(o,a)===!1?pf.Block:pf.Wrap,QM=(e,n,o,a)=>{const c=Jn(o);let g=a;const p=[];for(;g;){const _=JM(n,c,g);if(!_)break;if(bs(_.getNode(!1)))return n===ja.Forwards?{positions:Nk(n,p).concat([_]),breakType:pf.Br,breakAt:Q.some(_)}:{positions:Nk(n,p),breakType:pf.Br,breakAt:Q.some(_)};if(!_.isVisible()){g=_;continue}if(e(g,_)){const A=h9(o,n,g,_);return{positions:Nk(n,p),breakType:A,breakAt:Q.some(_)}}p.push(_),g=_}return{positions:Nk(n,p),breakType:pf.Eol,breakAt:Q.none()}},e6=(e,n,o,a)=>n(o,a).breakAt.map(c=>{const g=n(o,c).positions;return e===ja.Backwards?g.concat(c):[c].concat(g)}).getOr([]),OO=(e,n)=>sn(e,(o,a)=>o.fold(()=>Q.some(a),c=>la(En(c.getClientRects()),En(a.getClientRects()),(g,p)=>{const _=Math.abs(n-g.left);return Math.abs(n-p.left)<=_?a:c}).or(o)),Q.none()),Pk=(e,n)=>En(n.getClientRects()).bind(o=>OO(e,o.left)),rC=tt(QM,St.isAbove,-1),sC=tt(QM,St.isBelow,1),t6=tt(e6,-1,rC),Lk=tt(e6,1,sC),n6=(e,n)=>rC(e,n).breakAt.isNone(),o6=(e,n)=>sC(e,n).breakAt.isNone(),p9=e=>oo(e).map(n=>[n].concat(sC(e,n).positions)).getOr([]),r6=e=>gd(e).map(n=>rC(e,n).positions.concat(n)).getOr([]),P0=(e,n)=>Pk(t6(e,n),n),b9=(e,n)=>Pk(Lk(e,n),n),v9=xo,s6=(e,n)=>Math.abs(e.left-n),Sc=(e,n)=>Math.abs(e.right-n),i6=e=>Xl(e,"node"),a6=(e,n)=>wl(e,(o,a)=>{const c=Math.min(s6(o,n),Sc(o,n)),g=Math.min(s6(a,n),Sc(a,n));return g===c&&i6(a)&&v9(a.node)||g<c?a:o}),y9=e=>{const n=o=>$e(o,a=>{const c=Jf(a);return c.node=e,c});if(Nn(e))return n(e.getClientRects());if(jt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},l6=e=>Fo(e,y9);var iC;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(iC||(iC={}));const x9=(e,n,o,a)=>{let c=a;for(;c=M2(c,e,Hv,n);)if(o(c))return},IO=(e,n,o,a,c,g)=>{let p=0;const _=[],A=X=>{let ne=l6([X]);e===-1&&(ne=ne.reverse());for(let ve=0;ve<ne.length;ve++){const Ee=ne[ve];if(!o(Ee,$)){if(_.length>0&&n(Ee,ka(_))&&p++,Ee.line=p,c(Ee))return!0;_.push(Ee)}}return!1},$=ka(g.getClientRects());if(!$)return _;const q=g.getNode();return q&&(A(q),x9(e,a,A,q)),_},w9=(e,n)=>n.line>e,C9=(e,n)=>n.line===e,_9=tt(IO,iC.Up,tm,Nh),S9=tt(IO,iC.Down,Nh,tm),c6=e=>ka(e.getClientRects()),Xy=(e,n,o,a)=>{const c=Jn(n);let g,p,_,A;const $=[];let q=0;e===1?(g=c.next,p=Nh,_=tm,A=St.after(a)):(g=c.prev,p=tm,_=Nh,A=St.before(a));const X=c6(A);do{if(!A.isVisible())continue;const ne=c6(A);if(_(ne,X))continue;$.length>0&&p(ne,ka($))&&q++;const ve=Jf(ne);if(ve.position=A,ve.line=q,o(ve))return $;$.push(ve)}while(A=g(A));return $},DO=e=>n=>w9(e,n),Jy=e=>n=>C9(e,n),pm=(e,n)=>{e.selection.setRng(n),bd(e,e.selection.getRng())},Mk=(e,n,o)=>Q.some(Ik(e,n,o)),RO=(e,n,o,a,c,g)=>{const p=n===ja.Forwards,_=Jn(e.getBody()),A=tt(IA,p?_.next:_.prev),$=p?a:c;if(!o.collapsed){const Ee=Wp(o);if(g(Ee))return Ls(n,e,Ee,n===ja.Backwards,!1);if(CO(e)){const ye=o.cloneRange();return ye.collapse(n===ja.Backwards),Q.from(ye)}}const q=$2(n,e.getBody(),o);if($(q))return nC(e,q.getNode(!p));let X=A(q);const ne=Rh(o);if(X)X=wd(p,X);else return ne?Q.some(o):Q.none();if($(X))return Ls(n,e,X.getNode(!p),p,!1);const ve=A(X);return ve&&$(ve)&&R_(X,ve)?Ls(n,e,ve.getNode(!p),p,!1):ne?Mk(e,X.toRange(),!1):Q.none()},u6=(e,n,o,a,c,g)=>{const p=$2(n,e.getBody(),o),_=ka(p.getClientRects()),A=n===iC.Down,$=e.getBody();if(!_)return Q.none();if(CO(e)){const De=A?St.fromRangeEnd(o):St.fromRangeStart(o);return(A?b9:P0)($,De).orThunk(()=>Q.from(De)).map(st=>st.toRange())}const X=(A?S9:_9)($,DO(1),p),ne=qe(X,Jy(1)),ve=_.left,Ee=a6(ne,ve);if(Ee&&g(Ee.node)){const De=Math.abs(ve-Ee.left),Je=Math.abs(ve-Ee.right);return Ls(n,e,Ee.node,De<Je,!1)}let ye;if(a(p)?ye=p.getNode():c(p)?ye=p.getNode(!0):ye=Wp(o),ye){const De=Xy(n,$,DO(1),ye);let Je=a6(qe(De,Jy(1)),ve);if(Je||(Je=ka(qe(De,Jy(0))),Je))return Mk(e,Je.position.toRange(),!1)}return ne.length===0?Bk(e,A).filter(A?c:a).map(De=>Ik(e,De.toRange(),!1)):Q.none()},Bk=(e,n)=>{const o=e.selection.getRng(),a=n?St.fromRangeEnd(o):St.fromRangeStart(o),c=Y8(a.container(),e.getBody());if(n){const g=sC(c,a);return uo(g.positions)}else{const g=rC(c,a);return En(g.positions)}},d6=(e,n,o)=>Bk(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),aC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},NO=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},PO=(e,n,o)=>EO(n,o).map(a=>(aC(e,a),o)),f6=(e,n,o)=>{const a=St.fromRangeStart(e);if(e.collapsed)return a;{const c=St.fromRangeEnd(e);return o?Xc(n,c).getOr(c):oc(n,a).getOr(a)}},m6=(e,n,o)=>{const a=e.getBody(),c=f6(e.selection.getRng(),a,o),g=tt(v0,e);return m9(o,g,a,c).bind(_=>PO(e,n,_))},g6=(e,n,o)=>{const a=$e(vi(Ke.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=qe(a,e),g=qe(o,e);be(cr(c,g),tt(NO,!1)),be(cr(g,c),tt(NO,!0))},LO=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=St.fromRangeStart(e.selection.getRng());St.isTextPosition(a)&&!K3(a)&&(aC(e,Z8(o,a)),n.set(null))}},h6=(e,n,o,a)=>{if(n.selection.isCollapsed()){const c=qe(a,e);be(c,g=>{const p=St.fromRangeStart(n.selection.getRng());Dg(e,n.getBody(),p).bind(_=>PO(n,o,_))})}},MO=(e,n,o)=>fy(e)?m6(e,n,o).isSome():!1,BO=(e,n,o)=>fy(n)?TO(e,n):!1,p6=e=>{const n=Pi(null),o=tt(v0,e);return e.on("NodeChange",a=>{fy(e)&&(g6(o,e.dom,a.parents),LO(e,n),h6(o,e,n,a.parents))}),n},b6=tt(BO,!0),v6=tt(BO,!1),lC=(e,n,o)=>{if(fy(e)){const a=Bk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?St.fromRangeEnd(c):St.fromRangeStart(c)});return Dg(tt(v0,e),e.getBody(),a).exists(c=>{const g=oC(c);return EO(o,g).exists(p=>(aC(e,p),!0))})}else return!1},FO=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},$O=e=>la(oo(e),gd(e),(n,o)=>{const a=wd(!0,n),c=wd(!1,o);return oc(e,a).forall(g=>g.isEqual(c))}).getOr(!0),cC=(e,n)=>o=>EO(n,o).map(a=>()=>aC(e,a)),VO=(e,n,o,a)=>{const c=e.getBody(),g=tt(v0,e);e.undoManager.ignore(()=>{e.selection.setRng(FO(o,a)),CS(e),Dg(g,c,St.fromRangeStart(e.selection.getRng())).map(Rk).bind(cC(e,n)).each(Ht)}),e.nodeChanged()},y6=(e,n)=>{const o=Yp(n,e);return o||e},x6=(e,n,o,a)=>{const c=y6(e.getBody(),a.container()),g=tt(v0,e),p=Dg(g,c,a);return p.bind(A=>o?A.fold(ut(Q.some(Rk(A))),Q.none,ut(Q.some(oC(A))),Q.none):A.fold(Q.none,ut(Q.some(oC(A))),Q.none,ut(Q.some(Rk(A))))).map(cC(e,n)).getOrThunk(()=>{const A=t0(o,c,a),$=A.bind(q=>Dg(g,c,q));return la(p,$,()=>ub(g,c,a).bind(q=>$O(q)?Q.some(()=>{Rl(e,o,Ke.fromDom(q))}):Q.none())).getOrThunk(()=>$.bind(()=>A.map(q=>()=>{o?VO(e,n,a,q):VO(e,n,q,a)})))})},uC=(e,n,o)=>{if(e.selection.isCollapsed()&&fy(e)){const a=St.fromRangeStart(e.selection.getRng());return x6(e,n,o,a)}return Q.none()},w6=e=>Zd(e)>1,zO=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=Ke.fromDom(e.selection.getStart()),c=tu(a,o);return qn(c,n).fold(ut(c),g=>c.slice(0,g))},C6=e=>Zd(e)===1,k9=e=>zO(e,n=>e.schema.isBlock(er(n))||w6(n)),_6=e=>zO(e,n=>e.schema.isBlock(er(n))),HO=(e,n)=>{const o=tt(By,e);return Fo(n,a=>o(a)?[a.dom]:[])},dC=e=>{const n=_6(e);return HO(e,n)},S6=(e,n,o,a)=>{const c=HO(n,a);if(c.length===0)Rl(n,e,o);else{const g=OT(o.dom,c);n.selection.setRng(g.toRange())}},k6=(e,n)=>{const o=qe(k9(e),C6);return uo(o).bind(a=>{const c=St.fromRangeStart(e.selection.getRng());return C5(n,c,a.dom)&&!H_(a)?Q.some(()=>S6(n,e,a,o)):Q.none()})},UO=(e,n)=>{const o=n.parentElement;return bs(n)&&!Ve(o)&&e.dom.isEmpty(o)},E9=e=>H_(Ke.fromDom(e)),WO=(e,n)=>{const o=e.selection.getStart(),a=UO(e,o)||E9(o)?OT(o,n):P$(e.selection.getRng(),n);e.selection.setRng(a.toRange())},A9=(e,n)=>{const o=cr(n,dC(e));o.length>0&&WO(e,o)},KO=e=>jt(e.startContainer),E6=e=>e.startOffset===0&&KO(e),T9=(e,n)=>{const o=n.startContainer.parentElement;return!Ve(o)&&By(e,Ke.fromDom(o))},O9=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ve(n)&&!Ve(o)&&n.isEqualNode(o)},r=e=>{const n=e.endContainer;return e.endOffset===(jt(n)?n.length:n.childNodes.length)},l=e=>O9(e)&&r(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return E6(n)&&T9(e,n)&&f(n)},v=e=>{if(b(e)){const n=dC(e);return Q.some(()=>{CS(e),A9(e,n)})}else return Q.none()},C=(e,n)=>e.selection.isCollapsed()?k6(e,n):v(e),k=(e,n)=>qC(e,o=>Ru(o.dom),o=>n.isBlock(er(o))),E=e=>k(Ke.fromDom(e.selection.getStart()),e.schema),N=e=>{const n=e.selection.getRng();return n.collapsed&&(KO(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},F=e=>(N(e)&&WO(e,[]),!0),M=(e,n,o)=>Ae(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),Rl(e,n,Ke.fromDom(o))}):Q.none(),V=(e,n)=>{const o=n?g0:Oy,a=n?ja.Forwards:ja.Backwards,c=$2(a,e.getBody(),e.selection.getRng());return o(c)?M(e,n,c.getNode(!n)):Q.from(wd(n,c)).filter(g=>o(g)&&R_(c,g)).bind(g=>M(e,n,g.getNode(!n)))},Y=(e,n)=>{const o=e.selection.getNode();return It(o)?M(e,n,o):Q.none()},te=(e,n)=>e.selection.isCollapsed()?V(e,n):Y(e,n),fe=e=>bi(e,n=>zc(n.dom)||xo(n.dom)).exists(n=>zc(n.dom)),pe=e=>mn(e??"").getOr(0),Se=(e,n)=>{const o=e||Rv(n)?"margin":"padding",a=Us(n,"direction")==="rtl"?"-right":"-left";return o+a},ge=(e,n,o,a,c,g)=>{const p=Se(o,Ke.fromDom(g)),_=pe(e.getStyle(g,p));if(n==="outdent"){const A=Math.max(0,_-a);e.setStyle(g,p,A?A+c:"")}else{const A=_+a+c;e.setStyle(g,p,A)}},me=(e,n)=>Do(n,o=>{const a=Se(DD(e),o),c=Fs(o,a).map(pe).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),we=e=>{const n=Xe(e);return!e.mode.isReadOnly()&&(n.length>1||me(e,n))},ke=e=>Pv(e)||ig(e),Oe=e=>da(e).exists(ke),Xe=e=>qe(yu(e.selection.getSelectedBlocks()),n=>!ke(n)&&!Oe(n)&&fe(n)),lt=(e,n)=>{var o,a;const{dom:c}=e,g=Iu(e),p=(a=(o=/[a-z%]+$/i.exec(g))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",_=pe(g),A=DD(e);be(Xe(e),$=>{ge(c,n,A,_,p,$.dom)})},Nt=e=>lt(e,"indent"),Tt=e=>lt(e,"outdent"),kt=e=>{if(e.selection.isCollapsed()&&we(e)){const n=e.dom,o=e.selection.getRng(),a=St.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&bS(Ke.fromDom(c),a,e.schema))return Q.some(()=>Tt(e))}return Q.none()},Wt=(e,n,o)=>ci([kt,_O,xO,(a,c)=>uC(a,n,c),Tk,jh,kO,te,bO,C,SO],a=>a(e,o)).filter(a=>e.selection.isEditable()),vn=(e,n)=>{Wt(e,n,!1).fold(()=>{e.selection.isEditable()&&(CS(e),_S(e))},Ht)},Rn=(e,n)=>{Wt(e,n,!0).fold(()=>{e.selection.isEditable()&&Z3(e)},Ht)},Kn=(e,n)=>{e.addCommand("delete",()=>{vn(e,n)}),e.addCommand("forwardDelete",()=>{Rn(e,n)})},lo=5,Uo=400,ss=e=>e.touches===void 0||e.touches.length!==1?Q.none():Q.some(e.touches[0]),ms=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>lo||a>lo},Io=e=>{const n=Li(),o=Pi(!1),a=Vp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Uo);e.on("touchstart",c=>{ss(c).each(g=>{a.cancel();const p={x:g.clientX,y:g.clientY,target:c.target};a.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),ss(c).each(g=>{n.on(p=>{ms(g,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&n.get().filter(g=>g.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},or=(e,n)=>fo(e,n.nodeName),Xn=(e,n)=>jt(n)?!0:Nn(n)?!or(e.getBlockElements(),n)&&!Nu(n)&&!Kf(e,n)&&!Mi(n):!1,gs=(e,n,o)=>Te(xc(Ke.fromDom(o),Ke.fromDom(n)),a=>or(e,a.dom)),Vr=(e,n)=>{if(jt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||or(e,n.nextSibling)||Mi(n.nextSibling)}return!1},Ga=e=>e.dom.create(ml(e),A2(e)),qa=e=>{const n=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),g=o.getStart(),p=e.getBody();let _,A,$=null;const q=ml(e);if(!g||!Nn(g))return;const X=p.nodeName.toLowerCase();if(!a.isValidChild(X,q.toLowerCase())||gs(c,p,g))return;if(p.firstChild===p.lastChild&&bs(p.firstChild)){_=Ga(e),_.appendChild(of().dom),p.replaceChild(_,p.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let ne=p.firstChild;for(;ne;)if(Nn(ne)&&pc(a,ne),Xn(a,ne)){if(Vr(c,ne)){A=ne,ne=ne.nextSibling,n.remove(A);continue}if(!_){if(!$&&e.hasFocus()&&($=MM(e.selection.getRng(),()=>document.createElement("span"))),!ne.parentNode){ne=null;break}_=Ga(e),p.insertBefore(_,ne)}A=ne,ne=ne.nextSibling,_.appendChild(A)}else _=null,ne=ne.nextSibling;$&&(e.selection.setRng(BM($)),e.nodeChanged())},ta=(e,n,o)=>{const a=Ke.fromDom(Ga(e)),c=of();Ws(a,c),o(n,a);const g=document.createRange();return g.setStartBefore(c.dom),g.setEndBefore(c.dom),g},$i=e=>{e.on("NodeChange",()=>qa(e))},Qh=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,Qy=(e,n,o)=>function(a){const c=arguments,g=c[c.length-2],p=g>0?n.charAt(g-1):"";if(p==='"')return a;if(p===">"){const _=n.lastIndexOf("<",g);if(_!==-1&&n.substring(_,g).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},kb=(e,n,o)=>{let a=n.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(n[a],Qy(e,c,Xv(e)));o.content=c}},ep=(e,n)=>Do(e,o=>{const a=n.match(o);return a!==null&&a[0].length===n.length}),fC=e=>{const n="contenteditable",o=" "+tn.trim(V8(e))+" ",a=" "+tn.trim(Xv(e))+" ",c=Qh(o),g=Qh(a),p=KD(e);p.length>0&&e.on("BeforeSetContent",_=>{kb(e,p,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const $=_[A];c($)?$.attr(n,"true"):g($)&&$.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let A=_.length;for(;A--;){const $=_[A];if(!c($)&&!g($))continue;const q=$.attr("data-mce-content");p.length>0&&q?ep(p,q)?($.name="#text",$.type=3,$.raw=!0,$.value=q):$.remove():$.attr(n,null)}})},Eb=e=>Mt(Ke.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Rg=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Dh(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},L0=(e,n)=>{const o=Eb(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Rg(e,o);return}Y1(o)&&(Rg(e,o),e.undoManager.add())}},M0=e=>{e.on("keyup compositionstart",tt(L0,e))},ex=xo,Fk=(e,n,o)=>RO(n,e,o,Fi,mm,ex),mC=(e,n,o)=>u6(n,e,o,g=>Fi(g)||YN(g),g=>mm(g)||Iy(g),ex),Ab=e=>{const n=e.dom.create(ml(e));return n.innerHTML='<br data-mce-bogus="1">',n},Ng=(e,n,o)=>{const a=Jn(e.getBody()),c=tt(IA,n===1?a.next:a.prev);if(o.collapsed){const g=e.dom.getParent(o.startContainer,"PRE");if(!g)return;if(!c(St.fromRangeStart(o))){const _=Ke.fromDom(Ab(e));n===1?dt(Ke.fromDom(g),_):Is(Ke.fromDom(g),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},tp=(e,n)=>{const o=n?ja.Forwards:ja.Backwards,a=e.selection.getRng();return Fk(o,e,a).orThunk(()=>(Ng(e,o,a),Q.none()))},gC=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return mC(o,e,a).orThunk(()=>(Ng(e,o,a),Q.none()))},hC=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return kw(o)?!n:n},br=(e,n)=>tp(e,hC(e.selection,n)).exists(o=>(pm(e,o),!0)),Pg=(e,n)=>gC(e,n).exists(o=>(pm(e,o),!0)),bf=(e,n)=>d6(e,n,n?mm:Fi),B0=(e,n)=>wO(e,!n).map(o=>{const a=o.toRange(),c=e.selection.getRng();return n?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(pm(e,o),!0)),$k=e=>xe(["figcaption"],er(e)),np=(e,n,o)=>{const a=tt(tr,n);return bi(Ke.fromDom(e.container()),c=>o.isBlock(er(c)),a).filter($k)},tx=(e,n,o)=>n?o6(e.dom,o):n6(e.dom,o),jO=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=St.fromRangeStart(e.selection.getRng());return np(a,o,e.schema).exists(()=>{if(tx(o,n,a)){const g=ta(e,o,n?Ws:Ha);return e.selection.setRng(g),!0}else return!1})},Vk=(e,n)=>e.selection.isCollapsed()?jO(e,n):!1,I9=(e,n,o)=>{const a=e.selection.getRng(),c=St.fromRangeStart(a);return e.getBody().firstChild===n&&n6(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},nx=(e,n)=>{const o=e.selection.getRng(),a=St.fromRangeStart(o);return e.getBody().lastChild===n&&o6(n,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},D9=(e,n)=>n?Q.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>nx(e,o)).getOr(!1):Q.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Q.from(e.dom.getParent(o,"details")).map(a=>I9(e,a,o))).getOr(!1),Pl=(e,n)=>D9(e,n),F0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},R9=e=>$e(e,n=>({...F0,...n})),A6=e=>$e(e,n=>({...F0,...n})),zk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,T6=(e,n)=>Fo(R9(e),o=>zk(o,n)?[o]:[]),O6=(e,n)=>Fo(A6(e),o=>zk(o,n)?[o]:[]),vo=(e,...n)=>()=>e.apply(null,n),Tb=(e,n)=>bn(T6(e,n),o=>o.action()),Hk=(e,n)=>ci(O6(e,n),o=>o.action()),Ob=(e,n)=>{const o=n?ja.Forwards:ja.Backwards,a=e.selection.getRng();return RO(e,o,a,g0,Oy,It).exists(c=>(pm(e,c),!0))},ox=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return u6(e,o,a,g0,Oy,It).exists(c=>(pm(e,c),!0))},ZO=(e,n)=>d6(e,n,n?Oy:g0),GO=Xo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ad={...GO,none:e=>GO.none(e)},I6=(e,n)=>YO(e,n,nn),YO=(e,n,o)=>Fo(fa(e),a=>Br(a,n)?o(a)?[a]:[]:YO(a,n,o)),D6=(e,n,o=On)=>{if(o(n))return Q.none();if(xe(e,er(n)))return Q.some(n);const a=c=>Br(c,"table")||o(c);return bu(n,e.join(","),a)},R6=(e,n)=>D6(["td","th"],e,n),N9=e=>I6(e,"th,td"),vt=(e,n)=>Yi(e,"table",n),jn=(e,n,o,a,c=nn)=>{const g=a===1;if(!g&&o<=0)return Ad.first(e[0]);if(g&&o>=e.length-1)return Ad.last(e[e.length-1]);{const p=o+a,_=e[p];return c(_)?Ad.middle(n,_):jn(e,n,p,a,c)}},wo=(e,n)=>vt(e,n).bind(o=>{const a=N9(o);return qn(a,g=>tr(e,g)).map(g=>({index:g,all:a}))}),is=(e,n,o)=>wo(e,o).fold(()=>Ad.none(e),c=>jn(c.all,e,c.index,1,n)),Ys=(e,n,o)=>wo(e,o).fold(()=>Ad.none(),c=>jn(c.all,e,c.index,-1,n)),mi=e=>u_(e).filter(n=>n.trim().length!==0||n.indexOf(Ni)>-1).isSome(),li=e=>Ba(e)&&Oa(e,"contenteditable")==="false",Ti=["img","br"],rx=e=>mi(e)||xe(Ti,er(e))||li(e),P9=e=>qi(e,rx),N6=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),FK=(e,n)=>Fo(n,o=>{const a=N6(Jf(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),Ine=(e,n,o)=>sn(e,(a,c)=>a.fold(()=>Q.some(c),g=>{const p=Math.sqrt(Math.abs(g.x-n)+Math.abs(g.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return Q.some(_<p?c:g)}),Q.none()),$K=(e,n,o,a,c)=>{const g=vi(Ke.fromDom(o),"td,th,caption").map(_=>_.dom),p=qe(FK(e,g),_=>n(_,c));return Ine(p,a,c).map(_=>_.cell)},Dne=e=>e.bottom,Rne=e=>e.top,Nne=(e,n)=>e.y<n,Pne=(e,n)=>e.y>n,Lne=tt($K,Dne,Nne),Mne=tt($K,Rne,Pne),Bne=(e,n)=>En(n.getClientRects()).bind(o=>Lne(e,o.left,o.top)).bind(o=>Pk(r6(o),n)),Fne=(e,n)=>uo(n.getClientRects()).bind(o=>Mne(e,o.left,o.top)).bind(o=>Pk(p9(o),n)),$ne=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),Vne=e=>e.breakType===pf.Wrap&&e.positions.length===0,zne=e=>e.breakType===pf.Br&&e.positions.length===1,VK=(e,n,o)=>{const a=e(n,o);return Vne(a)||!bs(o.getNode())&&zne(a)?!$ne(e,n,a):a.breakAt.isNone()},Hne=tt(VK,rC),Une=tt(VK,sC),Wne=(e,n,o)=>{const a=St.fromRangeStart(n);return hy(!e,o).exists(c=>c.isEqual(a))},Kne=(e,n,o,a)=>{const c=e.selection.getRng(),g=n?1:-1;return kA()&&Wne(n,c,o)?(Ls(g,e,o,!n,!1).each(p=>{pm(e,p)}),!0):!1},jne=(e,n,o)=>Bne(n,o).orThunk(()=>En(o.getClientRects()).bind(a=>OO(t6(e,St.before(n)),a.left))).getOr(St.before(n)),Zne=(e,n,o)=>Fne(n,o).orThunk(()=>En(o.getClientRects()).bind(a=>OO(Lk(e,St.after(n)),a.left))).getOr(St.after(n)),zK=(e,n)=>{const o=n.getNode(e);return wu(o)?Q.some(o):Q.none()},Gne=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?dt:Is,c=ta(n,Ke.fromDom(o),a);pm(n,c)})},HK=(e,n,o)=>{const a=zK(!!n,o),c=n===!1;a.fold(()=>pm(e,o.toRange()),g=>hy(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>pm(e,o.toRange()),p=>Gne(n,e,g)))},qne=(e,n,o,a)=>{const c=e.selection.getRng(),g=St.fromRangeStart(c),p=e.getBody();if(!n&&Hne(a,g)){const _=jne(p,o,g);return HK(e,n,_),!0}else if(n&&Une(a,g)){const _=Zne(p,o,g);return HK(e,n,_),!0}else return!1},UK=(e,n,o)=>Q.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>Q.from(e.dom.getParent(a,"table")).map(c=>o(e,n,c,a))).getOr(!1),WK=(e,n)=>UK(e,n,Kne),L9=(e,n)=>UK(e,n,qne),Yne=e=>{const n=rb.exact(e,0,e,0);return E7(n)},KK=(e,n,o)=>o.fold(Q.none,Q.none,(a,c)=>P9(c).map(g=>Yne(g)),a=>(e.execCommand("mceTableInsertRowAfter"),jK(e,n,a))),jK=(e,n,o)=>KK(e,n,is(o,Ss)),Xne=(e,n,o)=>KK(e,n,Ys(o,Ss)),ZK=(e,n)=>{const o=["table","li","dl"],a=Ke.fromDom(e.getBody()),c=_=>{const A=er(_);return tr(_,a)||xe(o,A)},g=e.selection.getRng(),p=Ke.fromDom(n?g.endContainer:g.startContainer);return R6(p,c).map(_=>(vt(_,c).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?jK:Xne)(e,c,_).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},Jne=(e,n,o)=>{const a=zo.os.isMacOS()||zo.os.isiOS();Tb([{keyCode:hn.RIGHT,action:vo(br,e,!0)},{keyCode:hn.LEFT,action:vo(br,e,!1)},{keyCode:hn.UP,action:vo(Pg,e,!1)},{keyCode:hn.DOWN,action:vo(Pg,e,!0)},...a?[{keyCode:hn.UP,action:vo(B0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:hn.DOWN,action:vo(B0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:hn.RIGHT,action:vo(WK,e,!0)},{keyCode:hn.LEFT,action:vo(WK,e,!1)},{keyCode:hn.UP,action:vo(L9,e,!1)},{keyCode:hn.DOWN,action:vo(L9,e,!0)},{keyCode:hn.UP,action:vo(L9,e,!1)},{keyCode:hn.UP,action:vo(Pl,e,!1)},{keyCode:hn.DOWN,action:vo(Pl,e,!0)},{keyCode:hn.RIGHT,action:vo(Ob,e,!0)},{keyCode:hn.LEFT,action:vo(Ob,e,!1)},{keyCode:hn.UP,action:vo(ox,e,!1)},{keyCode:hn.DOWN,action:vo(ox,e,!0)},{keyCode:hn.RIGHT,action:vo(MO,e,n,!0)},{keyCode:hn.LEFT,action:vo(MO,e,n,!1)},{keyCode:hn.RIGHT,ctrlKey:!a,altKey:a,action:vo(b6,e,n)},{keyCode:hn.LEFT,ctrlKey:!a,altKey:a,action:vo(v6,e,n)},{keyCode:hn.UP,action:vo(Vk,e,!1)},{keyCode:hn.DOWN,action:vo(Vk,e,!0)}],o).each(c=>{o.preventDefault()})},Qne=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Jne(e,n,o)})},op=(e,n)=>({container:e,offset:n}),P6=Jr.DOM,L6=e=>n=>e===n?-1:0,eoe=e=>n=>e.isBlock(n)||xe(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",M9=(e,n,o)=>{if(jt(e)&&n>=0)return Q.some(op(e,n));{const a=tf(P6);return Q.from(a.backwards(e,n,L6(e),o)).map(c=>op(c.container,c.container.data.length))}},toe=(e,n,o)=>{if(jt(e)&&n>=e.length)return Q.some(op(e,n));{const a=tf(P6);return Q.from(a.forwards(e,n,L6(e),o)).map(c=>op(c.container,0))}},B9=(e,n,o)=>{if(!jt(e))return Q.none();const a=e.data;if(n>=0&&n<=a.length)return Q.some(op(e,n));{const c=tf(P6);return Q.from(c.backwards(e,n,L6(e),o)).bind(g=>{const p=g.container.data;return B9(g.container,n+p.length,o)})}},GK=(e,n,o)=>{if(!jt(e))return Q.none();const a=e.data;if(n<=a.length)return Q.some(op(e,n));{const c=tf(P6);return Q.from(c.forwards(e,n,L6(e),o)).bind(g=>GK(g.container,n-a.length,o))}},F9=(e,n,o,a,c)=>{const g=tf(e,eoe(e));return Q.from(g.backwards(n,o,a,c))},noe=e=>e.collapsed&&jt(e.startContainer),ooe=e=>Il(e.toString().replace(/\u00A0/g," ")),qK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,roe=(e,n)=>e.substring(n.length),soe=(e,n,o,a=!1)=>{let c;const g=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!a&&qK(p))return Q.none();if(g===p&&Mr(e,o,c,n))break}return Q.some(c)},$9=(e,n,o,a=!1)=>{if(!noe(n))return Q.none();const c={text:"",offset:0},g=(_,A,$)=>(c.text=$+c.text,c.offset+=A,soe(c.text,c.offset,o,a).getOr(A)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return F9(e,n.startContainer,n.startOffset,g,p).bind(_=>{const A=n.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return Q.none();const $=ooe(A);return $.lastIndexOf(o)!==0?Q.none():Q.some({text:roe($,o),range:A,trigger:o})})},ioe=e=>e.nodeType===ih,aoe=e=>e.nodeType===Sl,YK=e=>{if(ioe(e))return op(e,e.data.length);{const n=e.childNodes;return n.length>0?YK(n[n.length-1]):op(e,n.length)}},XK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?XK(o[n],0):o.length>0&&aoe(e)&&o.length===n?YK(o[o.length-1]):op(e,n)},loe=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return F9(e,n.container,n.offset,(c,g)=>g===0?-1:g,a).filter(c=>{const g=c.container.data.charAt(c.offset-1);return!qK(g)}).isSome()},coe=e=>n=>{const o=XK(n.startContainer,n.startOffset);return!loe(e,o)},uoe=(e,n,o)=>ci(o.triggers,a=>$9(e,n,a)),doe=(e,n)=>{const o=n(),a=e.selection.getRng();return uoe(e.dom,a,o).bind(c=>JK(e,n,c))},JK=(e,n,o,a={})=>{var c;const g=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=qe(g.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>coe(e.dom))(o.range,_,o.text));if(A.length===0)return Q.none();const $=Promise.all($e(A,q=>q.fetch(o.text,q.maxResults,a).then(ne=>({matchText:o.text,items:ne,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return Q.some({lookupData:$,context:o})};var rp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(rp||(rp={}));const V9=(e,n,o)=>e.stype===rp.Error?n(e.serror):o(e.svalue),foe=e=>{const n=[],o=[];return be(e,a=>{V9(a,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},moe=(e,n)=>e.stype===rp.Error?{stype:rp.Error,serror:n(e.serror)}:e,goe=(e,n)=>e.stype===rp.Value?{stype:rp.Value,svalue:n(e.svalue)}:e,hoe=(e,n)=>e.stype===rp.Value?n(e.svalue):e,poe=(e,n)=>e.stype===rp.Error?n(e.serror):e,QK=e=>({stype:rp.Value,svalue:e}),ej=e=>({stype:rp.Error,serror:e}),Zl={fromResult:e=>e.fold(ej,QK),toResult:e=>V9(e,no.error,no.value),svalue:QK,partition:foe,serror:ej,bind:hoe,bindError:poe,map:goe,mapError:moe,fold:V9},z9=e=>Z(e)&&Xt(e).length>100?" removed due to size":JSON.stringify(e,null,2),boe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ut("... (only showing first ten failures)")}]):e;return $e(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},M6=(e,n)=>Zl.serror([{path:e,getErrorInfo:n}]),voe=(e,n,o)=>M6(e,()=>'Could not find valid *required* value for "'+n+'" in '+z9(o)),yoe=(e,n)=>M6(e,()=>'Choice schema did not contain choice key: "'+n+'"'),xoe=(e,n,o)=>M6(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+z9(n)),woe=(e,n)=>M6(e,ut(n)),Coe=(e,n,o,a)=>Nr(o,a).fold(()=>xoe(e,o,a),g=>g.extract(e.concat(["branch: "+a]),n)),_oe=(e,n)=>({extract:(c,g)=>Nr(g,e).fold(()=>yoe(c,e),_=>Coe(c,g,n,_)),toString:()=>"chooseOn("+e+"). Possible values: "+Xt(n)}),Soe=(e,n)=>n,koe=(e,n)=>de(e)&&de(n)?B6(e,n):n,tj=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const c=n[a];for(const g in c)fo(c,g)&&(o[g]=e(o[g],c[g]))}return o},B6=tj(koe),nj=tj(Soe),oj=()=>({tag:"required",process:{}}),Eoe=e=>({tag:"defaultedThunk",process:e}),rj=e=>Eoe(ut(e)),Aoe=()=>({tag:"option",process:{}}),Toe=(e,n)=>e.length>0?Zl.svalue(B6(n,nj.apply(void 0,e))):Zl.svalue(n),sj=e=>Ot(Zl.serror,eo)(e),Ooe={consolidateObj:(e,n)=>{const o=Zl.partition(e);return o.errors.length>0?sj(o.errors):Toe(o.values,n)},consolidateArr:e=>{const n=Zl.partition(e);return n.errors.length>0?sj(n.errors):Zl.svalue(n.values)}},Ioe=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),Doe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),ij=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},H9=e=>{const n=(a,c)=>Zl.bindError(e(c),g=>woe(a,g)),o=ut("val");return{extract:n,toString:o}},Roe=H9(Zl.svalue),Noe=(e,n,o,a)=>Nr(n,o).fold(()=>voe(e,o,n),a),aj=(e,n,o,a)=>{const c=Nr(e,n).getOrThunk(()=>o(e));return a(c)},Poe=(e,n,o)=>o(Nr(e,n)),Loe=(e,n,o,a)=>{const c=Nr(e,n).map(g=>g===!0?o(e):g);return a(c)},Moe=(e,n,o,a,c)=>{const g=_=>c.extract(n.concat([a]),_),p=_=>_.fold(()=>Zl.svalue(Q.none()),A=>{const $=c.extract(n.concat([a]),A);return Zl.map($,Q.some)});switch(e.tag){case"required":return Noe(n,o,a,g);case"defaultedThunk":return aj(o,a,e.process,g);case"option":return Poe(o,a,p);case"defaultedOptionThunk":return Loe(o,a,e.process,p);case"mergeWithThunk":return aj(o,a,ut({}),_=>{const A=B6(e.process(o),_);return g(A)})}},Boe=(e,n,o)=>{const a={},c=[];for(const g of o)ij(g,(p,_,A,$)=>{const q=Moe(A,e,n,p,$);Zl.fold(q,X=>{c.push(...X)},X=>{a[_]=X})},(p,_)=>{a[p]=_(n)});return c.length>0?Zl.serror(c):Zl.svalue(a)},U9=e=>({extract:(a,c)=>Boe(a,c,e),toString:()=>`obj{
`+$e(e,c=>ij(c,(g,p,_,A)=>g+" -> "+A.toString(),(g,p)=>"state("+g+")")).join(`
`)+"}"}),lj=e=>({extract:(a,c)=>{const g=$e(c,(p,_)=>e.extract(a.concat(["["+_+"]"]),p));return Ooe.consolidateArr(g)},toString:()=>"array("+e.toString()+")"}),Foe=e=>H9(n=>e(n).fold(Zl.serror,Zl.svalue)),$oe=(e,n,o)=>{const a=n.extract([e],o);return Zl.mapError(a,c=>({input:o,errors:c}))},Voe=(e,n,o)=>Zl.toResult($oe(e,n,o)),zoe=e=>`Errors: 
`+boe(e.errors).join(`
`)+`

Input object: `+z9(e.input),cj=(e,n)=>_oe(e,Yl(n,U9)),Hoe=ut(Roe),F6=(e,n)=>H9(o=>{const a=typeof o;return e(o)?Zl.svalue(o):Zl.serror(`Expected type: ${n} but got: ${a}`)}),Uoe=F6(R,"number"),$6=F6(ue,"string"),Woe=F6(Me,"boolean"),W9=F6(ze,"function"),XO=Ioe,uj=Doe,Koe=e=>Foe(n=>xe(e,n)?no.value(n):no.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),dj=(e,n)=>XO(e,e,oj(),n),fj=e=>dj(e,$6),mj=e=>dj(e,W9),joe=(e,n)=>XO(e,e,oj(),lj(n)),K9=(e,n)=>XO(e,e,Aoe(),n),V6=e=>K9(e,$6),Zoe=e=>K9(e,W9),Goe=(e,n)=>XO(e,e,rj(n),Hoe()),Uk=(e,n,o)=>XO(e,e,rj(n),o),gj=(e,n)=>Uk(e,n,Uoe),qoe=(e,n)=>Uk(e,n,$6),hj=(e,n,o)=>Uk(e,n,Koe(o)),j9=(e,n)=>Uk(e,n,Woe),Z9=(e,n)=>Uk(e,n,W9),Yoe=(e,n,o)=>Uk(e,n,lj(o)),Xoe=fj("type"),Joe=mj("fetch"),G9=mj("onAction"),Qoe=Z9("onSetup",()=>Ze),ere=V6("text"),tre=V6("icon"),nre=V6("tooltip"),ore=V6("label"),rre=j9("active",!1),sre=j9("enabled",!0),pj=j9("primary",!1),ire=e=>Goe("columns",e),JO=e=>qoe("type",e),are=U9([Xoe,fj("trigger"),gj("minChars",1),ire(1),gj("maxResults",10),Zoe("matches"),Joe,G9,Yoe("highlightOn",[],$6)]),lre=e=>Voe("Autocompleter",are,e),q9=[sre,nre,tre,ere,Qoe],bj=[rre].concat(q9),cre=[Z9("predicate",On),hj("scope","node",["node","editor"]),hj("position","selection",["node","selection","line"])],ure=q9.concat([JO("contextformbutton"),pj,G9,uj("original",kn)]),dre=bj.concat([JO("contextformbutton"),pj,G9,uj("original",kn)]),fre=q9.concat([JO("contextformbutton")]),mre=bj.concat([JO("contextformtogglebutton")]),gre=cj("type",{contextformbutton:ure,contextformtogglebutton:dre});U9([JO("contextform"),Z9("initValue",ut("")),ore,joe("commands",gre),K9("launch",cj("type",{contextformbutton:fre,contextformtogglebutton:mre}))].concat(cre));const hre=e=>{const n=e.ui.registry.getAll().popups,o=Yl(n,p=>lre(p).fold(_=>{throw new Error(zoe(_))},kn)),a=Yu(xl(o,p=>p.trigger)),c=qu(o);return{dataset:o,triggers:a,lookupByTrigger:p=>qe(c,_=>_.trigger===p)}},pre=(e,n)=>{const o=Vp(n.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},bre=e=>{const n=Li(),o=Pi(!1),a=n.isSet,c=()=>{a()&&(f7(e),o.set(!1),n.clear())},g=X=>{a()||n.set({trigger:X.trigger,matchLength:X.text.length})},p=Hl(()=>hre(e)),_=X=>n.get().map(ne=>$9(e.dom,e.selection.getRng(),ne.trigger,!0).bind(ve=>JK(e,p,ve,X))).getOrThunk(()=>doe(e,p)),A=X=>{_(X).fold(c,ne=>{g(ne.context),ne.lookupData.then(ve=>{n.get().map(Ee=>{const ye=ne.context;Ee.trigger===ye.trigger&&(n.set({...Ee,matchLength:ye.text.length}),o.get()?(YA(e,{range:ye.range}),qA(e,{lookupData:ve})):(o.set(!0),YA(e,{range:ye.range}),GA(e,{lookupData:ve})))})})})},$=(X,ne)=>{const ve=X.compareBoundaryPoints(window.Range.START_TO_START,ne),Ee=X.compareBoundaryPoints(window.Range.END_TO_END,ne);return ve>=0&&Ee<=0},q=()=>n.get().bind(({trigger:X})=>{const ne=e.selection.getRng();return $9(e.dom,ne,X,o.get()).filter(({range:ve})=>$(ne,ve)).map(({range:ve})=>ve)});e.addCommand("mceAutocompleterReload",(X,ne)=>{const ve=Z(ne)?ne.fetchOptions:{};A(ve)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(X=>{YA(e,{range:X})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),pre(e,{cancelIfNecessary:c,load:A})},vre=ia().browser.isSafari(),vj=e=>Gc(Ke.fromDom(e)),yj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},z6=(e,n)=>Q.from(e.getParent(n.container(),"details")),xj=(e,n)=>z6(e,n).isSome(),yre=(e,n)=>{const o=Q.from(e.getParent(n.startContainer,"details")),a=Q.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(g=>Q.from(e.select("summary",g)[0]));return Q.some({startSummary:c,startDetails:o,endDetails:a})}else return Q.none()},xre=(e,n)=>oo(n).exists(o=>o.isEqual(e)),wre=(e,n)=>gd(n).exists(o=>bs(o.getNode())&&Xc(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),Cre=(e,n)=>n.startSummary.exists(o=>xre(e,o)),_re=(e,n)=>n.startSummary.exists(o=>wre(e,o)),Sre=(e,n)=>n.startDetails.exists(o=>Xc(o,e).forall(a=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),kre=(e,n,o)=>o.startDetails.exists(a=>oc(e,n).forall(c=>!a.contains(c.container()))),wj=(e,n)=>{const o=n.getNode();Ye(o)||e.selection.setCursorLocation(o,n.offset())},Cj=(e,n,o)=>{const a=e.dom.getParent(n.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?oo(c):gd(c)).each(p=>wj(e,p))}else wj(e,n)},Ere=(e,n)=>{const o=A=>A.contains(e.startContainer),a=A=>A.contains(e.endContainer),c=n.startSummary.exists(o),g=n.startSummary.exists(a),p=n.startDetails.forall(A=>n.endDetails.forall($=>A!==$));return(c||g)&&!(c&&g)||p},_j=(e,n,o)=>{const{dom:a,selection:c}=e,g=e.getBody();if(o==="character"){const p=St.fromRangeStart(c.getRng()),_=a.getParent(p.container(),a.isBlock),A=z6(a,p),$=_&&a.isEmpty(_),q=Ve(_==null?void 0:_.previousSibling),X=Ve(_==null?void 0:_.nextSibling);return $&&(n?X:q)&&t0(!n,g,p).exists(Ee=>xj(a,Ee)&&!Of(A,z6(a,Ee)))?!0:t0(n,g,p).fold(On,ne=>{const ve=z6(a,ne);if(xj(a,ne)&&!Of(A,ve)){if(n||Cj(e,ne,!1),_&&$){if(n&&q)return!0;if(!n&&X)return!0;Cj(e,ne,n),e.dom.remove(_)}return!0}else return!1})}else return!1},Are=(e,n,o,a)=>{const g=e.selection.getRng(),p=St.fromRangeStart(g),_=e.getBody();return a==="selection"?Ere(g,n):o?_re(p,n)||kre(_,p,n):Cre(p,n)||Sre(p,n)},Tre=(e,n,o)=>yre(e.dom,e.selection.getRng()).fold(()=>_j(e,n,o),a=>Are(e,a,n,o)||_j(e,n,o)),Ore=(e,n,o)=>{const a=e.selection,c=a.getNode(),g=a.getRng(),p=St.fromRangeStart(g);return Np(c)?(o==="selection"&&yj(g,c)||C5(n,p,c)?vj(c):e.undoManager.transact(()=>{const _=a.getSel();let{anchorNode:A,anchorOffset:$,focusNode:q,focusOffset:X}=_??{};const ne=()=>{Ae(A)&&Ae($)&&Ae(q)&&Ae(X)&&(_==null||_.setBaseAndExtent(A,$,q,X))},ve=()=>{A=_==null?void 0:_.anchorNode,$=_==null?void 0:_.anchorOffset,q=_==null?void 0:_.focusNode,X=_==null?void 0:_.focusOffset},Ee=(De,Je)=>{be(De.childNodes,st=>{xy(st)&&Je.appendChild(st)})},ye=e.dom.create("span",{"data-mce-bogus":"1"});Ee(c,ye),c.appendChild(ye),ne(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!a.isCollapsed()&&yj(a.getRng(),ye)?vj(c):(e.execCommand(n?"ForwardDelete":"Delete"),ve(),Ee(ye,c),ne()),e.dom.remove(ye)}),!0):!1},pC=(e,n,o)=>Tre(e,n,o)||vre&&Ore(e,n,o)?Q.some(Ze):Q.none(),Sj=e=>(n,o,a={})=>{const c=n.getBody(),g={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Ze,inputType:o},p=Qm(new InputEvent(e));return n.dispatch(e,{...p,...g,...a})},QO=Sj("input"),H6=Sj("beforeinput"),kj=ia(),Ej=kj.os,Aj=Ej.isMacOS()||Ej.isiOS(),Ire=kj.browser.isFirefox(),Dre=(e,n,o)=>{const a=o.keyCode===hn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),g=c?"character":"selection",p=_=>c?_?"word":"line":"selection";Hk([{keyCode:hn.BACKSPACE,action:vo(kt,e)},{keyCode:hn.BACKSPACE,action:vo(_O,e,!1)},{keyCode:hn.DELETE,action:vo(_O,e,!0)},{keyCode:hn.BACKSPACE,action:vo(xO,e,!1)},{keyCode:hn.DELETE,action:vo(xO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(uC,e,n,!1)},{keyCode:hn.DELETE,action:vo(uC,e,n,!0)},{keyCode:hn.BACKSPACE,action:vo(jh,e,!1)},{keyCode:hn.DELETE,action:vo(jh,e,!0)},{keyCode:hn.BACKSPACE,action:vo(pC,e,!1,g)},{keyCode:hn.DELETE,action:vo(pC,e,!0,g)},...Aj?[{keyCode:hn.BACKSPACE,altKey:!0,action:vo(pC,e,!1,p(!0))},{keyCode:hn.DELETE,altKey:!0,action:vo(pC,e,!0,p(!0))},{keyCode:hn.BACKSPACE,metaKey:!0,action:vo(pC,e,!1,p(!1))}]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:vo(pC,e,!1,p(!0))},{keyCode:hn.DELETE,ctrlKey:!0,action:vo(pC,e,!0,p(!0))}],{keyCode:hn.BACKSPACE,action:vo(kO,e,!1)},{keyCode:hn.DELETE,action:vo(kO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(te,e,!1)},{keyCode:hn.DELETE,action:vo(te,e,!0)},{keyCode:hn.BACKSPACE,action:vo(bO,e,!1)},{keyCode:hn.DELETE,action:vo(bO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(Tk,e,!1)},{keyCode:hn.DELETE,action:vo(Tk,e,!0)},{keyCode:hn.BACKSPACE,action:vo(C,e,!1)},{keyCode:hn.DELETE,action:vo(C,e,!0)},{keyCode:hn.BACKSPACE,action:vo(SO,e,!1)},{keyCode:hn.DELETE,action:vo(SO,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),H6(e,a).isDefaultPrevented()||(_(),QO(e,a))})},Rre=(e,n,o)=>Tb([{keyCode:hn.BACKSPACE,action:vo(NM,e)},{keyCode:hn.DELETE,action:vo(NM,e)},...Aj?[{keyCode:hn.BACKSPACE,altKey:!0,action:vo(F,e)},{keyCode:hn.DELETE,altKey:!0,action:vo(F,e)},...o?[{keyCode:Ire?224:91,action:vo(F,e)}]:[]]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:vo(F,e)},{keyCode:hn.DELETE,ctrlKey:!0,action:vo(F,e)}]],n),Nre=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===hn.BACKSPACE,a.isDefaultPrevented()||Dre(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||Rre(e,a,o),o=!1})},Pre=e=>{for(;e;){if(Nn(e)||jt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Wk=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const g=Pre(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(o.doc.createTextNode(Ni),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const g=new ma(n,n);let p=n,_;for(;_=g.current();){if(jt(_)){c.setStart(_,0),c.setEnd(_,0);break}if(a[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}p=_,_=g.next()}_||(c.setStart(p,0),c.setEnd(p,0))}else bs(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),bd(e,c)},eI=(e,n)=>{const o=e.getRoot();let a,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},Y9=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Lre=e=>Y9(e).fold(ut(""),n=>n.nodeName.toUpperCase()),Mre=e=>Y9(e).filter(n=>ig(Ke.fromDom(n))).isSome(),X9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Bre=(e,n,o)=>{const a=e.dom;Q.from(o.style).map(a.parseStyle).each(A=>{const q={...uh(Ke.fromDom(n)),...A};a.setStyles(n,q)});const c=Q.from(o.class).map(A=>A.split(/\s+/)),g=Q.from(n.className).map(A=>qe(A.split(/\s+/),$=>$!==""));la(c,g,(A,$)=>{const q=qe($,ne=>!xe(A,ne)),X=[...A,...q];a.setAttrib(n,"class",X.join(" "))});const p=["style","class"],_=Rc(o,(A,$)=>!xe(p,$));a.setAttribs(n,_)},tI=(e,n)=>{if(ml(e).toLowerCase()===n.tagName.toLowerCase()){const a=A2(e);Bre(e,n,a)}},Tj=(e,n,o,a,c=!0,g,p)=>{const _=e.dom,A=e.schema,$=ml(e),q=o?o.nodeName.toUpperCase():"";let X=n;const ne=A.getTextInlineElements();let ve;g||q==="TABLE"||q==="HR"?ve=_.create(g||$,p||{}):ve=o.cloneNode(!1);let Ee=ve;if(!c)_.setAttrib(ve,"style",null),_.setAttrib(ve,"class",null);else do if(ne[X.nodeName]){if(Ru(X)||Nu(X))continue;const ye=X.cloneNode(!1);_.setAttrib(ye,"id",""),ve.hasChildNodes()?(ye.appendChild(ve.firstChild),ve.appendChild(ye)):(Ee=ye,ve.appendChild(ye))}while((X=X.parentNode)&&X!==a);return tI(e,ve),X9(Ee),ve},Fre=(e,n)=>e.dom.getParent(n,Rp),$re=(e,n,o)=>{let a=n;for(;a&&a!==e&&Ve(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return Rp(c);a=c}return!1},Vre=(e,n,o)=>!n&&o.nodeName.toLowerCase()===ml(e)&&e.dom.isEmpty(o)&&$re(e.getBody(),o,a=>fo(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),zre=(e,n,o)=>{var a,c,g;const p=n(ml(e)),_=Fre(e,o);_&&(e.dom.insertAfter(p,_),Wk(e,p),((g=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&g!==void 0?g:0)>1&&e.dom.remove(o))},Hre=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,Ure=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Oj=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ae(o)&&o.nodeName===n},Ij=e=>Ae(e)&&/^(OL|UL|LI)$/.test(e.nodeName),J9=e=>Ae(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Wre=e=>Ij(e)&&Ij(e.parentNode),U6=e=>{const n=e.parentNode;return J9(n)?n:e},W6=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Nn(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},Dj=e=>sn(xl(uh(Ke.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),Kre=(e,n,o,a,c)=>{const g=e.dom,p=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;Wre(o)&&(c="LI");const A=J9(a)?Dj(a):void 0;let $=J9(a)&&A?n(c,{style:Dj(a)}):n(c);if(W6(o,a,!0)&&W6(o,a,!1))if(Oj(o,"LI")){const q=U6(o);g.insertAfter($,q),Ure(o)?g.remove(q):g.remove(o)}else g.replace($,o);else if(W6(o,a,!0))Oj(o,"LI")?(g.insertAfter($,U6(o)),$.appendChild(g.doc.createTextNode(" ")),$.appendChild(o)):_.insertBefore($,o),g.remove(a);else if(W6(o,a,!1))g.insertAfter($,U6(o)),g.remove(a);else{o=U6(o);const q=p.cloneRange();q.setStartAfter(a),q.setEndAfter(o);const X=q.extractContents();if(c==="LI"&&Hre(X,"LI")){const ne=qe($e($.children,Ke.fromDom),Pe(Nf("br")));$=X.firstChild,g.insertAfter(X,o),be(ne,ve=>Ha(Ke.fromDom($),ve)),A&&$.setAttribute("style",A)}else g.insertAfter(X,o),g.insertAfter($,o);g.remove(a)}Wk(e,$)},jre=e=>{be(jm(Ke.fromDom(e),us),n=>{const o=n.dom;o.nodeValue=Il(o.data)})},Zre=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Gre=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),Q9=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,eH=(e,n)=>Ae(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",qre=(e,n,o)=>{var a;const c=[];if(!o)return;let g=o;for(;g=g.firstChild;){if(e.isBlock(g))return;Nn(g)&&!n[g.nodeName.toLowerCase()]&&c.push(g)}let p=c.length;for(;p--;)g=c[p],(!g.hasChildNodes()||g.firstChild===g.lastChild&&((a=g.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||Gre(e,g))&&e.remove(g)},tH=(e,n,o)=>jt(n)?e?o===1&&n.data.charAt(o-1)===Ei?0:o:o===n.data.length-1&&n.data.charAt(o)===Ei?n.data.length:o:o,Yre=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,tH(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,tH(!1,e.endContainer,e.endOffset)),n},Xre=e=>{let n=e;do jt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},Jre=(e,n,o,a,c)=>{var g,p;const _=e.dom,A=(g=eI(_,a))!==null&&g!==void 0?g:_.getRoot();let $=_.getParent(a,_.isBlock);if(!$||!eH(_,$)){if($=$||A,!$.hasChildNodes()){const ve=_.create(n);return tI(e,ve),$.appendChild(ve),o.setStart(ve,0),o.setEnd(ve,0),ve}let q=a;for(;q&&q.parentNode!==$;)q=q.parentNode;let X;for(;q&&!_.isBlock(q);)X=q,q=q.previousSibling;const ne=(p=X==null?void 0:X.parentElement)===null||p===void 0?void 0:p.nodeName;if(X&&ne&&e.schema.isValidChild(ne,n.toLowerCase())){const ve=X.parentNode,Ee=_.create(n);for(tI(e,Ee),ve.insertBefore(Ee,X),q=X;q&&!_.isBlock(q);){const ye=q.nextSibling;Ee.appendChild(q),q=ye}o.setStart(a,c),o.setEnd(a,c)}}return a},Qre=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Nn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},ese=(e,n)=>{const o=aA(e);return it(n)?!1:ue(o)?xe(tn.explode(o),n.nodeName.toLowerCase()):o},Rj={insert:(e,n)=>{let o,a,c,g,p=!1;const _=e.dom,A=e.schema,$=A.getNonEmptyElements(),q=e.selection.getRng(),X=ml(e),ne=Ke.fromDom(q.startContainer),ve=od(ne,q.startOffset),Ee=ve.exists($t=>Ba($t)&&!Ss($t)),ye=q.collapsed&&Ee,De=($t,In)=>Tj(e,o,en,zt,iA(e),$t,In),Je=$t=>{const In=tH($t,o,a);if(jt(o)&&($t?In>0:In<o.data.length))return!1;if((o.parentNode===en||o===en)&&p&&!$t||$t&&Nn(o)&&o===en.firstChild)return!0;if(Q9(o,"TABLE")||Q9(o,"HR"))return p&&!$t||!p&&$t;const Wn=new ma(o,en);jt(o)&&($t&&In===0?Wn.prev():!$t&&In===o.data.length&&Wn.next());let $o;for(;$o=Wn.current();){if(Nn($o)){if(!$o.getAttribute("data-mce-bogus")){const jo=$o.nodeName.toLowerCase();if($[jo]&&jo!=="br")return!1}}else if(jt($o)&&!gc($o.data))return!1;$t?Wn.prev():Wn.next()}return!0},st=()=>{let $t;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&wn!=="HGROUP"?$t=De(X):$t=De(),ese(e,g)&&eH(_,g)&&_.isEmpty(en,void 0,{includeZwsp:!0})?$t=_.split(g,en):_.insertAfter($t,en),Wk(e,$t),$t};vg(_,q).each($t=>{q.setStart($t.startContainer,$t.startOffset),q.setEnd($t.endContainer,$t.endOffset)}),o=q.startContainer,a=q.startOffset;const ot=!!(n&&n.shiftKey),bt=!!(n&&n.ctrlKey);Nn(o)&&o.hasChildNodes()&&!ye&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&jt(o)?a=o.data.length:a=0);const zt=eI(_,o);if(!zt||Zre(e,o))return;ot||(o=Jre(e,X,q,o,a));let en=_.getParent(o,_.isBlock)||_.getRoot();g=Ae(en==null?void 0:en.parentNode)?_.getParent(en.parentNode,_.isBlock):null,c=en?en.nodeName.toUpperCase():"";const wn=g?g.nodeName.toUpperCase():"";if(wn==="LI"&&!bt){const $t=g;en=$t,g=$t.parentNode,c=wn}if(Nn(g)&&Vre(e,ot,en))return zre(e,De,en);if(/^(LI|DT|DD)$/.test(c)&&Nn(g)&&_.isEmpty(en)){Kre(e,De,g,en,X);return}if(!ye&&(en===e.getBody()||!eH(_,en)))return;const Rt=en.parentNode;let Ct;if(ye)Ct=De(X),ve.fold(()=>{Ws(ne,Ke.fromDom(Ct))},$t=>{Is($t,Ke.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Hp(en))Ct=Dh(en),_.isEmpty(en)&&X9(en),tI(e,Ct),Wk(e,Ct);else if(Je(!1))Ct=st();else if(Je(!0)&&Rt){const $t=St.fromRangeStart(q),In=Iy($t),Wn=Ke.fromDom(en),jo=p0(Wn,$t,e.schema)?vS(Wn,$t,e.schema).bind(Kr=>Q.from(Kr.getNode())):Q.none();Ct=Rt.insertBefore(De(),en);const Lr=Q9(en,"HR")||In?Ct:jo.getOr(en);Wk(e,Lr)}else{const $t=Yre(q).cloneRange();$t.setEndAfter(en);const In=$t.extractContents();jre(In),Xre(In),Ct=In.firstChild,_.insertAfter(In,en),qre(_,$,Ct),Qre(_,en),_.isEmpty(en)&&X9(en),Ct.normalize(),_.isEmpty(Ct)?(_.remove(Ct),st()):(tI(e,Ct),Wk(e,Ct))}_.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},tse=(e,n,o)=>{const a=new ma(n,o);let c;const g=e.getNonEmptyElements();for(;c=a.next();)if(g[c.nodeName.toLowerCase()]||jt(c)&&c.length>0)return!0;return!1},Nj=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),bd(e,a)},nse=(e,n)=>{const o=e.selection,a=e.dom,c=o.getRng();let g,p=!1;vg(a,c).each(ve=>{c.setStart(ve.startContainer,ve.startOffset),c.setEnd(ve.endContainer,ve.endOffset)});let _=c.startOffset,A=c.startContainer;if(Nn(A)&&A.hasChildNodes()){const ve=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,ve&&jt(A)?_=A.data.length:_=0}let $=a.getParent(A,a.isBlock);const q=$&&$.parentNode?a.getParent($.parentNode,a.isBlock):null,X=q?q.nodeName.toUpperCase():"",ne=!!(n&&n.ctrlKey);X==="LI"&&!ne&&($=q),jt(A)&&_>=A.data.length&&(tse(e.schema,A,$||a.getRoot())||(g=a.create("br"),c.insertNode(g),c.setStartAfter(g),c.setEndAfter(g),p=!0)),g=a.create("br"),ay(a,c,g),Nj(e,g,p),e.undoManager.add()},ose=(e,n)=>{const o=Ke.fromTag("br");Is(Ke.fromDom(n),o),e.undoManager.add()},rse=(e,n)=>{ise(e.getBody(),n)||dt(Ke.fromDom(n),Ke.fromTag("br"));const o=Ke.fromTag("br");dt(Ke.fromDom(n),o),Nj(e,o.dom,!1),e.undoManager.add()},sse=e=>bs(e.getNode()),ise=(e,n)=>sse(St.after(n))?!0:oc(e,St.after(n)).map(o=>bs(o.getNode())).getOr(!1),Pj=e=>e&&e.nodeName==="A"&&"href"in e,ase=e=>e.fold(On,Pj,Pj,On),lse=e=>{const n=tt(v0,e),o=St.fromRangeStart(e.selection.getRng());return Dg(n,e.getBody(),o).filter(ase)},cse=(e,n)=>{n.fold(Ze,tt(ose,e),tt(rse,e),Ze)},Lj={insert:(e,n)=>{const o=lse(e);o.isSome()?o.each(tt(cse,e)):nse(e,n)},fakeEventName:"insertLineBreak"},Mj=(e,n)=>Y9(e).filter(o=>n.length>0&&Br(Ke.fromDom(o),n)).isSome(),use=e=>Mj(e,kD(e)),dse=e=>Mj(e,ED(e)),vf=Xo.generate([{br:[]},{block:[]},{none:[]}]),fse=(e,n)=>dse(e),Bj=e=>(n,o)=>Mre(n)===e,Fj=(e,n)=>(o,a)=>Lre(o)===e.toUpperCase()===n,mse=e=>{const n=eI(e.dom,e.selection.getStart());return it(n)},nI=e=>Fj("pre",e),gse=()=>Fj("summary",!0),K6=e=>(n,o)=>rA(n)===e,hse=(e,n)=>use(e),j6=(e,n)=>n,pse=e=>{const n=ml(e),o=eI(e.dom,e.selection.getStart());return Ae(o)&&e.schema.isValidChild(o.nodeName,n)},bse=e=>{const n=e.selection.getRng(),o=Ke.fromDom(n.startContainer),c=od(o,n.startOffset).map(g=>Ba(g)&&!Ss(g));return n.collapsed&&c.getOr(!0)},bm=(e,n)=>(o,a)=>sn(e,(g,p)=>g&&p(o,a),!0)?Q.some(n):Q.none(),vse=(e,n)=>WM([bm([fse],vf.none()),bm([nI(!0),mse],vf.none()),bm([gse()],vf.br()),bm([nI(!0),K6(!1),j6],vf.br()),bm([nI(!0),K6(!1)],vf.block()),bm([nI(!0),K6(!0),j6],vf.block()),bm([nI(!0),K6(!0)],vf.br()),bm([Bj(!0),j6],vf.br()),bm([Bj(!0)],vf.block()),bm([hse],vf.br()),bm([j6],vf.br()),bm([pse],vf.block()),bm([bse],vf.block())],[e,!!(n&&n.shiftKey)]).getOr(vf.none()),Z6=(e,n,o)=>{n.selection.isCollapsed()||x5(n),!(Ae(o)&&H6(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ae(o)&&QO(n,e.fakeEventName))},$j=(e,n)=>{const o=()=>Z6(Lj,e,n),a=()=>Z6(Rj,e,n),c=vse(e,n);switch(sA(e)){case"linebreak":c.fold(o,o,Ze);break;case"block":c.fold(a,a,Ze);break;case"invert":c.fold(a,o,Ze);break;default:c.fold(o,a,Ze);break}},Vj=ia(),yse=Vj.os.isiOS()&&Vj.browser.isSafari(),zj=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),PV(e.undoManager),e.undoManager.transact(()=>{$j(e,n)}))},xse=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(jt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},wse=e=>{let n=Q.none();const o=c=>{n=Q.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,g)=>{c.undoManager.undo(),n.fold(Ze,p=>c.selection.moveToBookmark(p)),zj(c,g),n=Q.none()};e.on("keydown",c=>{c.keyCode===hn.ENTER&&(yse&&xse(e.selection.getRng())?o(e):zj(e,c))}),e.on("keyup",c=>{c.keyCode===hn.ENTER&&n.each(()=>a(e,c))})},Cse=(e,n,o)=>{const a=zo.os.isMacOS()||zo.os.isiOS();Tb([{keyCode:hn.END,action:vo(bf,e,!0)},{keyCode:hn.HOME,action:vo(bf,e,!1)},...a?[]:[{keyCode:hn.HOME,action:vo(B0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:hn.END,action:vo(B0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:hn.END,action:vo(ZO,e,!0)},{keyCode:hn.HOME,action:vo(ZO,e,!1)},{keyCode:hn.END,action:vo(lC,e,!0,n)},{keyCode:hn.HOME,action:vo(lC,e,!1,n)}],o).each(c=>{o.preventDefault()})},_se=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Cse(e,n,o)})},Sse=e=>{e.on("input",n=>{n.isComposing||X7(e)})},kse=ia(),Ese=(e,n,o)=>{Tb([{keyCode:hn.PAGE_UP,action:vo(lC,e,!1,n)},{keyCode:hn.PAGE_DOWN,action:vo(lC,e,!0,n)}],o)},Hj=e=>e.stopImmediatePropagation(),Uj=e=>e.keyCode===hn.PAGE_UP||e.keyCode===hn.PAGE_DOWN,Wj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Hj,!0):!o&&e.get()&&n.off("NodeChange",Hj),e.set(o)},Ase=(e,n)=>{if(kse.os.isMacOS())return;const o=Pi(!1);e.on("keydown",a=>{Uj(a)&&Wj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||Ese(e,n,a),Uj(a)&&o.get()&&(Wj(o,e,!1),e.nodeChanged())})},Tse=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Te(n.getTargetRanges(),o=>!IN(e.dom,o)))&&n.preventDefault()})},Kj=(e,n)=>{const o=n.container(),a=n.offset();return jt(o)?(o.insertData(a,e),Q.some(St(o,a+e.length))):D_(n).map(c=>{const g=Ke.fromText(e);return n.isAtEnd()?dt(c,g):Is(c,g),St(g.dom,e.length)})},jj=tt(Kj,Ni),Zj=tt(Kj," "),Ose=(e,n,o)=>B3(e,n,o)?jj(n):Zj(n),Ise=e=>n=>n.fold(o=>Xc(e.dom,St.before(o)),o=>oo(o),o=>gd(o),o=>oc(e.dom,St.after(o))),Dse=(e,n,o)=>a=>B3(e,a,o)?jj(n):Zj(n),Gj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},Rse=(e,n)=>e.isEditable(e.getParent(n,"summary")),Nse=e=>{const n=St.fromRangeStart(e.selection.getRng()),o=Ke.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=tt(v0,e),c=St.fromRangeStart(e.selection.getRng());return Dg(a,e.getBody(),c).bind(Ise(o)).map(g=>()=>Dse(o,n,e.schema)(g).each(Gj(e)))}else return Q.none()},Pse=e=>{const n=()=>{const o=Ke.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=St.fromRangeStart(e.selection.getRng());Ose(o,a,e.schema).each(Gj(e))};return rh(zo.browser.isFirefox()&&e.selection.isEditable()&&Rse(e.dom,e.selection.getRng().startContainer),n)},Lse=(e,n)=>{Hk([{keyCode:hn.SPACEBAR,action:vo(Nse,e)},{keyCode:hn.SPACEBAR,action:vo(Pse,e)}],n).each(o=>{n.preventDefault(),H6(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),QO(e,"insertText",{data:" "}))})},Mse=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Lse(e,n)})},Bse=e=>YD(e)?[{keyCode:hn.TAB,action:vo(ZK,e,!0)},{keyCode:hn.TAB,shiftKey:!0,action:vo(ZK,e,!1)}]:[],Fse=(e,n)=>{Tb([...Bse(e)],n).each(o=>{n.preventDefault()})},$se=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Fse(e,n)})},Vse=e=>{if(e.addShortcut("Meta+P","","mcePrint"),bre(e),Ig(e))return Pi(null);{const n=p6(e);return Tse(e),M0(e),Qne(e,n),Nre(e,n),wse(e),Mse(e),Sse(e),$se(e),_se(e,n),Ase(e,n),n}};class zse{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const g=n.selection.getRng(),p={startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset};(c.type==="nodechange"||!aw(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{Sy(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&vy(n)&&!a.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&vy(n)&&(n.selection.getNode().nodeName==="IMG"?eu.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!D8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const g=[];this.editor.dom.getParent(a,p=>p===c?!0:(g.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:g})}}isSameElementPath(n){let o;const a=this.editor,c=Zr(a.dom.getParents(n,nn,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const qj=Wa("image"),Hse=e=>{const n=e;return Q.from(n[qj])},Use=(e,n)=>{const o=e;o[qj]=n},nH=Wa("event"),Wse=e=>{const n=e;return Q.from(n[nH])},G6=e=>n=>{const o=n;o[nH]=e},Kse=(e,n)=>G6(n)(e),Yj=G6(0),jse=G6(2),Zse=G6(1),Gse=(e=>n=>{const o=n;return Q.from(o[nH]).exists(a=>a===e)})(0),qse=()=>Object.freeze({length:0,item:e=>null}),oH=Wa("mode"),Yse=e=>{const n=e;return Q.from(n[oH])},q6=e=>n=>{const o=n;o[oH]=e},Xj=(e,n)=>q6(n)(e),Jj=q6(0),rH=q6(2),Xse=q6(1),Qj=e=>n=>{const o=n;return Q.from(o[oH]).exists(a=>a===e)},Kk=Qj(0),eZ=Qj(1),Jse=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(Kk(e))if(ue(o)){if(!Ye(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{Kk(e)&&n.remove(o)},clear:()=>{Kk(e)&&n.clear()}}),Qse=["none","copy","link","move"],eie=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],sH=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(c){xe(Qse,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Gse(a)&&xe(eie,c)&&(o=c)},get items(){return Jse(a,e.items)},get files(){return eZ(a)?qse():e.files},get types(){return e.types},setDragImage:(c,g,p)=>{Kk(a)&&(Use(a,{image:c,x:g,y:p}),e.setDragImage(c,g,p))},getData:c=>eZ(a)?"":e.getData(c),setData:(c,g)=>{Kk(a)&&e.setData(c,g)},clearData:c=>{Kk(a)&&e.clearData(c)}};return Jj(a),a},tie=e=>{const n=sH(),o=Yse(e);return rH(e),Yj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Hse(e).each(a=>n.setDragImage(a.image,a.x,a.y)),be(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),be(e.files,a=>n.items.add(a)),Wse(e).each(a=>{Kse(n,a)}),o.each(a=>{Xj(e,a),Xj(n,a)}),n},nie=e=>{const n=e.getData("text/html");return n===""?Q.none():Q.some(n)},tZ=(e,n)=>e.setData("text/html",n),nZ="x-tinymce/html",Y6=ut(nZ),iH="<!-- "+nZ+" -->",oie=e=>iH+e,rie=e=>e.replace(iH,""),oZ=e=>e.indexOf(iH)!==-1,sie=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),iie=(e,n)=>{let o="<"+e;const a=xl(n,(c,g)=>g+'="'+vh.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},aie=(e,n,o)=>{const a=e.split(/\n\n/),c=iie(n,o),g="</"+n+">",p=$e(a,A=>A.split(/\n/).join("<br />")),_=A=>c+A+g;return p.length===1?p[0]:$e(p,_).join("")},rZ="%MCEPASTEBIN%",lie=(e,n)=>{const{dom:o,selection:a}=e,c=e.getBody();n.set(a.getRng());const g=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},rZ);zo.browser.isFirefox()&&o.setStyle(g,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(g,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),g.focus(),a.select(g,!0)},cie=(e,n)=>{const o=e.dom;if(aH(e)){let a;const c=n.get();for(;a=aH(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}n.set(null)},aH=e=>e.dom.get("mcepastebin"),uie=e=>Ae(e)&&e.id==="mcepastebin",die=e=>{const n=e.dom,o=(p,_)=>{p.appendChild(_),n.remove(_,!0)},[a,...c]=qe(e.getBody().childNodes,uie);be(c,p=>{o(a,p)});const g=n.select("div[id=mcepastebin]",a);for(let p=g.length-1;p>=0;p--){const _=n.create("div");a.insertBefore(_,g[p]),o(_,g[p])}return a?a.innerHTML:""},sZ=e=>e===rZ,fie=e=>{const n=Pi(null);return{create:()=>lie(e,n),remove:()=>cie(e,n),getEl:()=>aH(e),getHtml:()=>die(e),getLastRng:n.get}},iZ=(e,n)=>(tn.each(n,o=>{he(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mie=e=>{const n=Kc(),o=Hy({},n);let a="";const c=n.getVoidElements(),g=tn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),_=A=>{const $=A.name,q=A;if($==="br"){a+=`
`;return}if($!=="wbr"){if(c[$]&&(a+=" "),g[$]){a+=" ";return}if(A.type===3&&(a+=A.value),!(A.name in n.getVoidElements())){let X=A.firstChild;if(X)do _(X);while(X=X.next)}p[$]&&q.next&&(a+=`
`,$==="p"&&(a+=`
`))}};return e=iZ(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),a},aZ=e=>(e=iZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":Ni],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),gie=e=>{let n=0;return()=>e+n++},hie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return tn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},pie=(e,n)=>{const o=Hy({sanitize:ZD(e),sandbox_iframes:xA(e),sandbox_iframes_exclusions:S_(e),convert_unsafe_embeds:JD(e)},e.schema);o.addNodeFilter("meta",c=>{tn.each(c,g=>{g.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Uh({validate:!0},e.schema).serialize(a)},lZ=(e,n)=>({content:e,cancelled:n}),bie=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),c=G_(e,a,o);return lZ(c.node.innerHTML,c.isDefaultPrevented())},vie=(e,n,o)=>{const a=ow(e,n,o),c=pie(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?bie(e,c,o):lZ(c,a.isDefaultPrevented())},yie=(e,n,o)=>vie(e,n,o),lH=(e,n)=>(e.insertContent(n,{merge:B8(e),paste:!0}),!0),cH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),xie=(e,n)=>cH(n)&&Te(yA(e),o=>Ie(n.toLowerCase(),`.${o.toLowerCase()}`)),wie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),Cie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),_ie=(e,n,o)=>!e.selection.isCollapsed()&&cH(n)?Cie(e,n,o):!1,Sie=(e,n,o)=>xie(e,n)?wie(e,n,o):!1,kie=(e,n)=>{tn.each([_ie,Sie,lH],o=>!o(e,n,lH))},Eie=(e,n,o)=>{o||!qv(e)?lH(e,n):kie(e,n)},Aie=gie("mceclip"),Tie=e=>{const n=sH();return tZ(n,e),rH(n),n},cZ=(e,n,o,a,c)=>{const g=yie(e,n,o);if(!g.cancelled){const p=g.content,_=()=>Eie(e,p,a);c?H6(e,"insertFromPaste",{dataTransfer:Tie(p)}).isDefaultPrevented()||(_(),QO(e,"insertFromPaste")):_()}},X6=(e,n,o,a)=>{const c=o||oZ(n);cZ(e,rie(n),c,!1,a)},uH=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),c=av(a,WD(e)),g=aie(c,ml(e),A2(e));cZ(e,g,!1,!0,o)},uZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},sx=(e,n)=>n in e&&e[n].length>0,dZ=e=>sx(e,"text/html")||sx(e,"text/plain"),Oie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ae(o)?e.dom.encode(o[1]):void 0},Iie=(e,n,o,a)=>{const c=Aie(),g=Mh(e)&&Ae(o.name),p=g?Oie(e,o.name):c,_=g?o.name:void 0,A=n.create(c,o,a,p,_);return n.add(A),A},Die=(e,n)=>{ik(n.uri).each(({data:o,type:a,base64Encoded:c})=>{const g=c?o:btoa(o),p=n.file,_=e.editorUpload.blobCache,A=_.getByData(g,a),$=A??Iie(e,_,p,g);X6(e,`<img src="${$.blobUri()}">`,!1,!0)})},Rie=e=>e.type==="paste",Nie=e=>Promise.all($e(e,n=>xP(n).then(o=>({file:n,uri:o})))),Pie=e=>{const n=yA(e);return o=>cs(o.type,"image/")&&Te(n,a=>hie(a)===o.type)},Lie=(e,n)=>{const o=n.items?Fo(Oo(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=n.files?Oo(n.files):[];return qe(o.length>0?o:a,Pie(e))},fZ=(e,n,o)=>{const a=Rie(n)?n.clipboardData:n.dataTransfer;if(mg(e)&&a){const c=Lie(e,a);if(c.length>0)return n.preventDefault(),Nie(c).then(g=>{o&&e.selection.setRng(o),be(g,p=>{Die(e,p)})}),!0}return!1},Mie=e=>{var n,o;return zo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Bie=e=>hn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,dH=(e,n,o,a,c)=>{let g=aZ(o);const p=sx(n,Y6())||oZ(o),_=!p&&sie(g),A=cH(g);(sZ(g)||!g.length||_&&!A)&&(a=!0),(a||A)&&(sx(n,"text/plain")&&_?g=n["text/plain"]:g=mie(g)),!sZ(g)&&(a?uH(e,g,c):X6(e,g,p,c))},Fie=(e,n,o)=>{let a;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",g=>{Bie(g)&&!g.isDefaultPrevented()&&(a=g.shiftKey&&g.keyCode===86)}),e.on("paste",g=>{if(g.isDefaultPrevented()||Mie(g))return;const p=o.get()==="text"||a;a=!1;const _=uZ(g.clipboardData);!dZ(_)&&fZ(e,g,c())||(sx(_,"text/html")?(g.preventDefault(),dH(e,_,_["text/html"],p,!0)):sx(_,"text/plain")&&sx(_,"text/uri-list")?(g.preventDefault(),dH(e,_,_["text/plain"],p,!0)):(n.create(),eu.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),dH(e,_,A,p,!1)},0)))})},$ie=e=>{const n=c=>cs(c,"webkit-fake-url"),o=c=>cs(c,"data:"),a=c=>{var g;return((g=c.data)===null||g===void 0?void 0:g.paste)===!0};e.parser.addNodeFilter("img",(c,g,p)=>{if(!mg(e)&&a(p))for(const _ of c){const A=_.attr("src");ue(A)&&!_.attr("data-mce-object")&&A!==zo.transparentSrc&&(n(A)||!F8(e)&&o(A))&&_.remove()}})},Vie=(e,n,o)=>{Fie(e,n,o),$ie(e)},zie=(e,n)=>{n.get()==="text"?(n.set("html"),q_(e,!1)):(n.set("text"),q_(e,!0)),e.focus()},Hie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{zie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&X6(e,a.html,a.internal,!1),a.text&&uH(e,a.text,!1)})},Uie=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Y6(),n),!0}catch{return!1}else return!1},mZ=(e,n,o,a)=>{Uie(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},gZ=e=>(n,o)=>{const{dom:a,selection:c}=e,g=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},n);a.setStyles(g,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),g.appendChild(p),a.add(e.getBody(),g);const _=c.getRng();p.focus();const A=a.createRng();A.selectNodeContents(p),c.setRng(A),eu.setEditorTimeout(e,()=>{c.setRng(_),a.remove(g),o()},0)},hZ=e=>({html:oie(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Wie=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),pZ=e=>!e.selection.isCollapsed()||Wie(e),Kie=e=>n=>{!n.isDefaultPrevented()&&pZ(e)&&e.selection.isEditable()&&mZ(n,hZ(e),gZ(e),()=>{if(zo.browser.isChromium()||zo.browser.isFirefox()){const o=e.selection.getRng();eu.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},jie=e=>n=>{!n.isDefaultPrevented()&&pZ(e)&&mZ(n,hZ(e),gZ(e),Ze)},Zie=e=>{e.on("cut",Kie(e)),e.on("copy",jie(e))},bZ=(e,n)=>{var o,a;return sb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},Gie=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},vZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},qie=e=>Te(e.files,n=>/^image\//.test(n.type)),Yie=(e,n,o,a)=>{const c=e.getParent(o,p=>Kf(n,p));if(!Ve(e.getParent(o,"summary")))return!0;if(c&&fo(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!Ve(p.querySelector(c.nodeName.toLowerCase()))}else return!1},Xie=e=>{e.on("input",n=>{const o=a=>Ve(a.querySelector("summary"));if(n.inputType==="deleteByDrag"){const a=qe(e.dom.select("details"),o);be(a,c=>{bs(c.firstChild)&&c.firstChild.remove();const g=e.dom.create("summary");g.appendChild(of().dom),c.prepend(g)})}})},Jie=(e,n)=>{lm(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),mg(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&qie(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=bZ(e,o);if(it(a))return;const c=uZ(o.dataTransfer),g=sx(c,Y6());if((!dZ(c)||Gie(c))&&fZ(e,o,a))return;const p=c[Y6()],_=p||c["text/html"]||c["text/plain"],A=Yie(e.dom,e.schema,a.startContainer,c),$=n.get();$&&!A||_&&(o.preventDefault(),eu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||$&&A)&&e.execCommand("Delete"),vZ(e,a);const q=aZ(_);c["text/html"]?X6(e,q,g,!0):uH(e,q,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{mg(e)&&!n.get()&&(o.preventDefault(),vZ(e,bZ(e,o))),o.type==="dragend"&&n.set(!1)}),Xie(e)},Qie=e=>{const n=c=>g=>{c(e,g)},o=M8(e);ze(o)&&e.on("PastePreProcess",n(o));const a=D2(e);ze(a)&&e.on("PastePostProcess",n(a))},eae=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},tae=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,yZ=e=>tn.trim(e).replace(tae,wv).toLowerCase(),nae=(e,n,o)=>{const a=UD(e);if(o||a==="all"||!hA(e))return n;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const g=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,$,q)=>{const X=g.parseStyle(g.decode($)),ne={};for(let Ee=0;Ee<c.length;Ee++){const ye=X[c[Ee]];let De=ye,Je=g.getStyle(p,c[Ee],!0);/color/.test(c[Ee])&&(De=yZ(De),Je=yZ(Je)),Je!==De&&(ne[c[Ee]]=ye)}const ve=g.serializeStyle(ne,"span");return ve?A+' style="'+ve+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(g,p,_,A)=>p+' style="'+_+'"'+A),n},oae=e=>{(zo.browser.isChromium()||zo.browser.isSafari())&&eae(e,nae)},rae=e=>{const n=Pi(!1),o=Pi(Yv(e)?"text":"html"),a=fie(e);oae(e),Hie(e,o),Qie(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Zie(e),Jie(e,n),Vie(e,a,o)})},sae=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},iae=e=>{e.parser.addNodeFilter("details",n=>{const o=__(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=XD(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},aae=e=>{sae(e),iae(e)},lae=bs,xZ=jt,cae=e=>xo(e.dom),uae=e=>zc(e.dom),wZ=e=>n=>tr(Ke.fromDom(e),n),dae=(e,n,o)=>bi(Ke.fromDom(e),a=>uae(a)||o.isBlock(er(a)),wZ(n)).getOr(Ke.fromDom(n)).dom,CZ=(e,n)=>bi(Ke.fromDom(e),cae,wZ(n)),_Z=(e,n,o)=>{const a=new ma(e,n),c=o?a.next.bind(a):a.prev.bind(a);let g=e;for(let p=o?e:c();p&&!lae(p);p=c())Eu(p)&&(g=p);return g},fae=(e,n,o)=>{const c=St.fromRangeStart(e).getNode(),g=dae(c,n,o),p=_Z(c,g,!1),_=_Z(c,g,!0),A=document.createRange();return CZ(p,g).fold(()=>{xZ(p)?A.setStart(p,0):A.setStartBefore(p)},$=>A.setStartBefore($.dom)),CZ(_,g).fold(()=>{xZ(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},$=>A.setEndAfter($.dom)),A},mae=e=>{const n=fae(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(FS(n))},gae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),mae(e))})};var jk;(function(e){e.Before="before",e.After="after"})(jk||(jk={}));const hae=(e,n)=>Math.abs(e.left-n),pae=(e,n)=>Math.abs(e.right-n),bae=(e,n)=>e>=n.top&&e<=n.bottom,vae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,yae=(e,n)=>{const o=p2(e,n)/Math.min(e.height,n.height);return vae(e,n)&&o>.5},xae=(e,n)=>{const o=qe(e,a=>bae(n,a));return Up(o).fold(()=>[[],e],a=>{const{pass:c,fail:g}=Re(e,p=>yae(p,a));return[c,g]})},wae=(e,n)=>({node:e.node,position:hae(e,n)<pae(e,n)?jk.Before:jk.After}),Cae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),fH=(e,n,o,a)=>{const c=X=>Eu(X.node)?Q.some(X):Nn(X.node)?fH(Oo(X.node.childNodes),n,o,!1):Q.none(),g=(X,ne,ve)=>c(ne).filter(Ee=>Math.abs(ve(X,n,o)-ve(Ee,n,o))<2&&jt(Ee.node)),p=(X,ne)=>{const ve=xr(X,(Ee,ye)=>ne(Ee,n,o)-ne(ye,n,o));return ci(ve,c).map(Ee=>a&&!jt(Ee.node)&&ve.length>1?g(Ee,ve[1],ne).getOr(Ee):Ee)},[_,A]=xae(l6(e),o),{pass:$,fail:q}=Re(A,X=>X.top<o);return p(_,Cae).orThunk(()=>p(q,ey)).orThunk(()=>p($,ey))},_ae=(e,n,o,a)=>{const c=(g,p)=>{const _=$=>Nn($)&&$.classList.contains("mce-drag-container"),A=qe(g.dom.childNodes,Pe(_));return p.fold(()=>fH(A,o,a,!0),$=>{const q=qe(A,X=>X!==$.dom);return fH(q,o,a,!0)}).orThunk(()=>(tr(g,e)?Q.none():Lf(g)).bind(q=>c(q,Q.some(g))))};return c(n,Q.none())},Sae=(e,n,o)=>{const a=Ke.fromDom(e),c=fc(a),p=Ke.fromPoint(c,n,o).filter(_=>ua(a,_)).getOr(a);return _ae(a,p,n,o)},SZ=(e,n,o)=>Sae(e,n,o).filter(a=>L2(a.node)).map(a=>wae(a,n)),kZ=e=>{var n,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,g=c.documentElement,p=c.defaultView;return{top:a.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-g.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-g.clientLeft}},kae=e=>e.inline?kZ(e.getBody()):{left:0,top:0},Eae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Aae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:c},Tae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=kZ(e.getContentAreaContainer()),a=Aae(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},Oae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Iae=(e,n)=>Oae(kae(e),Eae(e),Tae(e,n)),EZ=e=>({target:e,srcElement:e}),Dae=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...EZ(o)}),Rae=(e,n,o)=>{const a=mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:Ze,stopImmediatePropagation:Ze,stopPropagation:Ze,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...EZ(n)}},Nae=(e,n)=>{const o=tie(e);return n==="dragstart"?(Yj(o),Jj(o)):n==="drop"?(jse(o),rH(o)):(Zse(o),Xse(o)),o},Pae=(e,n,o,a)=>{const c=Nae(o,e);return Ye(a)?Rae(e,n,c):Dae(e,a,n,c)},J6=32,Lae=100,Q6=8,eB=16,AZ=xo,Mae=y2(AZ,zc),Bae=(e,n,o)=>AZ(o)&&o!==n&&e.isEditable(o.parentElement),Fae=(e,n,o)=>it(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),$ae=(e,n,o,a)=>{const c=e.dom,g=n.cloneNode(!0);c.setStyles(g,{width:o,height:a}),c.setAttrib(g,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(g,{margin:0,boxSizing:"border-box"}),p.appendChild(g),p},Vae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},tB=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},TZ=tB("left",-J6),OZ=tB("left",J6),IZ=tB("top",-J6),DZ=tB("top",J6),zae=(e,n,o,a,c,g,p,_,A,$,q,X)=>{let ne=0,ve=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(ne=n.pageX+o-c),n.pageY+a>g&&(ve=n.pageY+a-g),e.style.width=o-ne+"px",e.style.height=a-ve+"px";const Ee=A.clientHeight,ye=A.clientWidth,De=p+A.getBoundingClientRect().top,Je=_+A.getBoundingClientRect().left;q.on(st=>{st.intervalId.clear(),st.dragging&&X&&(p+Q6>=Ee?st.intervalId.set(DZ($)):p-Q6<=0?st.intervalId.set(IZ($)):_+Q6>=ye?st.intervalId.set(OZ($)):_-Q6<=0?st.intervalId.set(TZ($)):De+eB>=window.innerHeight?st.intervalId.set(DZ(window)):De-eB<=0?st.intervalId.set(IZ(window)):Je+eB>=window.innerWidth?st.intervalId.set(OZ(window)):Je-eB<=0&&st.intervalId.set(TZ(window)))})},RZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Hae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);RZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Gc(Ke.fromDom(o))},Uae=e=>e.button===0,Wae=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Kae=(e,n)=>o=>{if(Uae(o)){const a=bn(n.dom.getParents(o.target),Mae).getOr(null);if(Ae(a)&&Bae(n.dom,n.getBody(),a)){const c=n.dom.getPos(a),g=n.getBody(),p=n.getDoc().documentElement;e.set({element:a,dataTransfer:sH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?g.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?g.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:$ae(n,a,a.offsetWidth,a.offsetHeight),intervalId:Hc(Lae)})}}},jae=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),SZ(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===jk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},oI=(e,n,o,a,c)=>{n==="dragstart"&&tZ(a,e.dom.getOuterHTML(o));const g=Pae(n,o,a,c);return e.dispatch(n,g)},Zae=(e,n)=>{const o=Ah((c,g)=>jae(n,c,g),0);n.on("remove",o.cancel);const a=e;return c=>e.on(g=>{const p=Math.max(Math.abs(c.screenX-g.screenX),Math.abs(c.screenY-g.screenY));if(!g.dragging&&p>10){const _=oI(n,"dragstart",g.element,g.dataTransfer,c);if(Ae(_.dataTransfer)&&(g.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;g.dragging=!0,n.focus()}if(g.dragging){const _=c.currentTarget===n.getDoc().documentElement,A=Wae(g,Iae(n,c));Vae(g.ghost,n.getBody()),zae(g.ghost,A,g.width,g.height,g.maxX,g.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),a,_),o.throttle(c.clientX,c.clientY)}})},Gae=e=>{const n=e.getSel();if(Ae(n)){const a=n.getRangeAt(0).startContainer;return jt(a)?a.parentNode:a}else return null},qae=(e,n)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(Fae(n,Gae(n.selection),a.element)){const g=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();oI(n,"drop",g,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Hae(n.dom,a.element),nie(a.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}oI(n,"dragend",n.getBody(),a.dataTransfer,o)}}),PZ(e)},NZ=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>oI(n,"dragend",a.element,a.dataTransfer),c=>oI(n,"dragend",a.element,a.dataTransfer,c))}),PZ(e)},Yae=(e,n)=>o=>NZ(e,n,Q.some(o)),PZ=e=>{e.on(n=>{n.intervalId.clear(),RZ(n.ghost)}),e.clear()},Xae=e=>{const n=Li(),o=Jr.DOM,a=document,c=Kae(n,e),g=Zae(n,e),p=qae(n,e),_=Yae(n,e);e.on("mousedown",c),e.on("mousemove",g),e.on("mouseup",p),o.bind(a,"mousemove",g),o.bind(a,"mouseup",_),e.on("remove",()=>{o.unbind(a,"mousemove",g),o.unbind(a,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===hn.ESC&&NZ(n,e,Q.none())})},Jae=e=>{const n=c=>{if(!c.isDefaultPrevented()){const g=c.dataTransfer;g&&(xe(g.types,"Files")||g.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Ek(e,"Dropped file type is not supported"))}},o=c=>{aS(e,c.target)&&n(c)},a=()=>{const c=Jr.DOM,g=e.dom,p=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];be(A,$=>{c.bind(p,$,o),g.bind(_,$,n)}),e.on("remove",()=>{be(A,$=>{c.unbind(p,$,o),g.unbind(_,$,n)})})};e.on("init",()=>{eu.setEditorTimeout(e,a,0)})},Qae=e=>{Xae(e),w_(e)&&Jae(e)},ele=e=>{const n=Ah(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Ik(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},tle=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(It(o)){const a=Cd(e.getBody(),o),c=xo(a)?a:o;e.selection.getNode()!==c&&nC(e,c).each(g=>e.selection.setRng(g))}})})},rI=xo,LZ=(e,n)=>Cd(e.getBody(),n),nle=e=>{const n=e.selection,o=e.dom,a=e.getBody(),c=sR(e,a,o.isBlock,()=>ky(e)),g="sel-"+o.uniqueId(),p="data-mce-selected";let _;const A=wn=>Ae(wn)&&o.hasClass(wn,"mce-offscreen-selection"),$=wn=>wn!==a&&(rI(wn)||It(wn))&&o.isChildOf(wn,a)&&o.isEditable(wn.parentNode),q=wn=>{wn&&n.setRng(wn)},X=(wn,Rt,Ct,$t=!0)=>e.dispatch("ShowCaret",{target:Rt,direction:wn,before:Ct}).isDefaultPrevented()?null:($t&&n.scrollIntoView(Rt,wn===-1),c.show(Ct,Rt)),ne=wn=>{wn.hasAttribute("data-mce-caret")&&(Dh(wn),n.scrollIntoView(wn))},ve=()=>{e.on("click",Rt=>{o.isEditable(Rt.target)||(Rt.preventDefault(),e.focus())}),e.on("blur NewBlock",bt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Rt=>{const Ct=Rt.target,$t=LZ(e,Ct);rI($t)?(Rt.preventDefault(),nC(e,$t).each(ot)):$(Ct)&&nC(e,Ct).each(ot)},!0),e.on("mousedown",Rt=>{const Ct=Rt.target;if(Ct!==a&&Ct.nodeName!=="HTML"&&!o.isChildOf(Ct,a)||!vz(e,Rt.clientX,Rt.clientY))return;bt(),en();const $t=LZ(e,Ct);rI($t)?(Rt.preventDefault(),nC(e,$t).each(ot)):SZ(a,Rt.clientX,Rt.clientY).each(In=>{Rt.preventDefault();const Wn=X(1,In.node,In.position===jk.Before,!1);q(Wn),xu($t)?$t.focus():e.getBody().focus()})}),e.on("keypress",Rt=>{hn.modifierPressed(Rt)||rI(n.getNode())&&Rt.preventDefault()}),e.on("GetSelectionRange",Rt=>{let Ct=Rt.range;if(_){if(!_.parentNode){_=null;return}Ct=Ct.cloneRange(),Ct.selectNode(_),Rt.range=Ct}}),e.on("SetSelectionRange",Rt=>{Rt.range=De(Rt.range);const Ct=ot(Rt.range,Rt.forward);Ct&&(Rt.range=Ct)});const wn=Rt=>Nn(Rt)&&Rt.id==="mcepastebin";e.on("AfterSetSelectionRange",Rt=>{const Ct=Rt.range,$t=Ct.startContainer.parentElement;!ye(Ct)&&!wn($t)&&en(),A($t)||bt()}),Qae(e),ele(e),tle(e)},Ee=wn=>nc(wn)||Bv(wn)||sf(wn),ye=wn=>Ee(wn.startContainer)||Ee(wn.endContainer),De=wn=>{const Rt=e.schema.getVoidElements(),Ct=o.createRng(),$t=wn.startContainer,In=wn.startOffset,Wn=wn.endContainer,$o=wn.endOffset;return fo(Rt,$t.nodeName.toLowerCase())?In===0?Ct.setStartBefore($t):Ct.setStartAfter($t):Ct.setStart($t,In),fo(Rt,Wn.nodeName.toLowerCase())?$o===0?Ct.setEndBefore(Wn):Ct.setEndAfter(Wn):Ct.setEnd(Wn,$o),Ct},Je=(wn,Rt)=>{const Ct=Ke.fromDom(e.getBody()),$t=e.getDoc(),In=Mt(Ct,"#"+g).getOrThunk(()=>{const jo=Ke.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',$t);return _i(jo,"id",g),Ws(Ct,jo),jo}),Wn=o.createRng();os(In),ri(In,[Ke.fromText(Ni,$t),Ke.fromDom(Rt),Ke.fromText(Ni,$t)]),Wn.setStart(In.dom.firstChild,1),Wn.setEnd(In.dom.lastChild,0),Yo(In,{top:o.getPos(wn,e.getBody()).y+"px"}),l3(In);const $o=n.getSel();return $o&&($o.removeAllRanges(),$o.addRange(Wn)),Wn},st=wn=>{const Rt=wn.cloneNode(!0),Ct=e.dispatch("ObjectSelected",{target:wn,targetClone:Rt});if(Ct.isDefaultPrevented())return null;const $t=Je(wn,Ct.targetClone),In=Ke.fromDom(wn);return be(vi(Ke.fromDom(e.getBody()),`*[${p}]`),Wn=>{tr(In,Wn)||Lo(Wn,p)}),o.getAttrib(wn,p)||wn.setAttribute(p,"1"),_=wn,en(),$t},ot=(wn,Rt)=>{if(!wn)return null;if(wn.collapsed){if(!ye(wn)){const Wn=Rt?1:-1,$o=$2(Wn,a,wn),jo=$o.getNode(!Rt);if(Ae(jo)){if(L2(jo))return X(Wn,jo,Rt?!$o.isAtEnd():!1,!1);if(ag(jo)&&xo(jo.nextSibling)){const Kr=o.createRng();return Kr.setStart(jo,0),Kr.setEnd(jo,0),Kr}}const Lr=$o.getNode(Rt);if(Ae(Lr)){if(L2(Lr))return X(Wn,Lr,Rt?!1:!$o.isAtEnd(),!1);if(ag(Lr)&&xo(Lr.previousSibling)){const Kr=o.createRng();return Kr.setStart(Lr,1),Kr.setEnd(Lr,1),Kr}}}return null}let Ct=wn.startContainer,$t=wn.startOffset;const In=wn.endOffset;if(jt(Ct)&&$t===0&&rI(Ct.parentNode)&&(Ct=Ct.parentNode,$t=o.nodeIndex(Ct),Ct=Ct.parentNode),!Nn(Ct))return null;if(In===$t+1&&Ct===wn.endContainer){const Wn=Ct.childNodes[$t];if($(Wn))return st(Wn)}return null},bt=()=>{_&&_.removeAttribute(p),Mt(Ke.fromDom(e.getBody()),"#"+g).each(Pr),_=null},zt=()=>{c.destroy(),_=null},en=()=>{c.hide()};return Ig(e)||ve(),{showCaret:X,showBlockCaretContainer:ne,hideFakeCaret:en,destroy:zt}},ole=(e,n)=>{let o=n;for(let a=e.previousSibling;jt(a);a=a.previousSibling)o+=a.data.length;return o},MZ=(e,n,o,a,c)=>{if(jt(o)&&(a<0||a>o.data.length))return[];const g=c&&jt(o)?[ole(o,a)]:[a];let p=o;for(;p!==n&&p.parentNode;)g.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?g.reverse():[]},mH=(e,n,o,a,c,g,p=!1)=>{const _=MZ(e,n,o,a,p),A=MZ(e,n,c,g,p);return{start:_,end:A}},BZ=(e,n)=>{const o=n.slice(),a=o.pop();return R(a)?sn(o,(g,p)=>g.bind(_=>Q.from(_.childNodes[p])),Q.some(e)).bind(g=>jt(g)&&(a<0||a>g.data.length)?Q.none():Q.some({node:g,offset:a})):Q.none()},FZ=(e,n)=>BZ(e,n.start).bind(({node:o,offset:a})=>BZ(e,n.end).map(({node:c,offset:g})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,g),p})),rle=(e,n,o,a=!1)=>mH(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),Zk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n,jt(n.firstChild)&&gc(n.firstChild.data)),Zk(e,a,o)}},nB=(e,n,o,a=!0)=>{const c=n.startContainer.parentNode,g=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(jt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),jt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Zk(e,c,o),c!==g&&Zk(e,g,o))},oB=(e,n)=>Q.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),gH=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Na(a).concat(e.blockPatterns),inlinePatterns:md(a).concat(e.inlinePatterns)}},hH=(e,n,o,a)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,a),c.toString()},$Z=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),rB=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},VZ=(e,n,o)=>{const a=FZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,g=a.endContainer,p=a.endOffset===0?g:g.splitText(a.endOffset),_=a.startOffset===0?c:c.splitText(a.startOffset),A=_.parentNode,$=p.parentNode;return{prefix:n,end:$.insertBefore($Z(e,n+"-end"),p),start:A.insertBefore($Z(e,n+"-start"),_)}},zZ=(e,n,o)=>{Zk(e,e.get(n.prefix+"-end"),o),Zk(e,e.get(n.prefix+"-start"),o)},pH=e=>e.start.length===0,sle=e=>(n,o)=>{const c=n.data.substring(0,o),g=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:g!==-1?g+1:-1},HZ=(e,n,o,a)=>{const c=n.start;return F9(e,a.container,a.offset,sle(c),o).bind(p=>{var _,A;const $=(A=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&A!==void 0?A:-1;if($!==-1&&p.offset>=$+c.length){const X=e.createRng();return X.setStart(p.container,p.offset-c.length),X.setEnd(p.container,p.offset),Q.some(X)}else{const X=p.offset-c.length;return B9(p.container,X,o).map(ne=>{const ve=e.createRng();return ve.setStart(ne.container,ne.offset),ve.setEnd(p.container,p.offset),ve}).filter(ne=>ne.toString()===c).orThunk(()=>HZ(e,n,o,op(p.container,0)))}})},ile=(e,n,o,a,c,g=!1)=>{if(n.start.length===0&&!g){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),Q.some(p)}return M9(o,a,c).bind(p=>HZ(e,n,c,p).bind(A=>{var $;if(g){if(A.endContainer===p.container&&A.endOffset===p.offset)return Q.none();if(p.offset===0&&(($=A.endContainer.textContent)===null||$===void 0?void 0:$.length)===A.endOffset)return Q.none()}return Q.some(A)}))},ale=(e,n,o,a)=>{const c=e.dom,g=c.getRoot(),p=o.pattern,_=o.position.container,A=o.position.offset;return B9(_,A-o.pattern.end.length,n).bind($=>{const q=mH(c,g,$.container,$.offset,_,A,a);if(pH(p))return Q.some({matches:[{pattern:p,startRng:q,endRng:q}],position:$});{const X=sB(e,o.remainingPatterns,$.container,$.offset,n,a),ne=X.getOr({matches:[],position:$}),ve=ne.position;return ile(c,p,ve.container,ve.offset,n,X.isNone()).map(ye=>{const De=rle(c,g,ye,a);return{matches:ne.matches.concat([{pattern:p,startRng:De,endRng:q}]),position:op(ye.startContainer,ye.startOffset)}})}})},sB=(e,n,o,a,c,g)=>{const p=e.dom;return M9(o,a,p.getRoot()).bind(_=>{const A=hH(p,c,o,a);for(let $=0;$<n.length;$++){const q=n[$];if(!Ie(A,q.end))continue;const X=n.slice();X.splice($,1);const ne=ale(e,c,{pattern:q,remainingPatterns:X,position:_},g);if(ne.isNone()&&a>0)return sB(e,n,o,a-1,c,g);if(ne.isSome())return ne}return Q.none()})},UZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?be(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},lle=(e,n,o,a)=>{const c=rB(e.dom,o);nB(e.dom,c,a),UZ(e,n,c)},cle=(e,n,o,a,c)=>{const g=e.dom,p=rB(g,a),_=rB(g,o);nB(g,_,c),nB(g,p,c);const A={prefix:o.prefix,start:o.end,end:a.start},$=rB(g,A);UZ(e,n,$)},ule=(e,n)=>{const o=Wa("mce_textpattern"),a=ht(n,(c,g)=>{const p=VZ(e,o+`_end${c.length}`,g.endRng);return c.concat([{...g,endMarker:p}])},[]);return ht(a,(c,g)=>{const p=a.length-c.length-1,_=pH(g.pattern)?g.endMarker:VZ(e,o+`_start${p}`,g.startRng);return c.concat([{...g,startMarker:_}])},[])},dle=e=>xr(e,(n,o)=>o.end.length-n.end.length),fle=(e,n)=>{const o=Do(e,a=>Te(n,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},WZ=(e,n,o,a,c,g)=>{const p=sB(e,c.inlinePatterns,o,a,n,g).fold(()=>[],A=>A.matches),_=sB(e,dle(c.inlinePatterns),o,a,n,g).fold(()=>[],A=>A.matches);return fle(p,_)},KZ=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=ule(o,n);be(c,g=>{const p=o.getParent(g.startMarker.start,o.isBlock),_=A=>A===p;pH(g.pattern)?lle(e,g.pattern,g.endMarker,_):cle(e,g.pattern,g.startMarker,g.endMarker,_),zZ(o,g.endMarker,_),zZ(o,g.startMarker,_)}),e.selection.moveToBookmark(a)},jZ=(e,n,o)=>toe(n,0,n).map(a=>{const c=a.container;return GK(c,o.start.length,n).each(g=>{const p=e.createRng();p.setStart(c,0),p.setEnd(g.container,g.offset),nB(e,p,_=>_===n)}),c}),ZZ=e=>(n,o)=>{const a=n.dom,c=o.pattern,g=FZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(_,A)=>{const $=A.get(_);return re($)&&En($).exists(q=>fo(q,"block"))};return oB(n,g).each(_=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},mle=e=>xr(e,(n,o)=>o.start.length-n.start.length),GZ=e=>(n,o)=>{const a=mle(n),c=o.replace(Ni," ");return bn(a,g=>e(g,o,c))},qZ=(e,n)=>(o,a,c,g,p)=>{var _;p===void 0&&(p=(_=a.textContent)!==null&&_!==void 0?_:"");const A=o.dom,$=ml(o);return A.is(a,$)?e(c.blockPatterns,p).map(q=>n&&tn.trim(p).length===q.start.length?[]:[{pattern:q,range:mH(A,A.getRoot(),a,0,a,0,g)}]).getOr([]):[]},gle=e=>/^\s[^\s]/.test(e),hle=ZZ((e,n,o)=>{jZ(e,n,o).each(a=>{const c=Ke.fromDom(a),g=sg(c);gle(g)&&Iv(c,g.slice(1))})}),ple=GZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),ble=qZ(ple,!0),vle=(e,n)=>{const o=e.selection.getRng();return oB(e,o).map(a=>{var c;const g=Math.max(0,o.startOffset),p=gH(n,a,(c=a.textContent)!==null&&c!==void 0?c:""),_=WZ(e,a,o.startContainer,g,p,!0),A=ble(e,a,p,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},yle=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();be(n,a=>hle(e,a)),e.selection.moveToBookmark(o)},xle=ZZ(jZ),wle=GZ((e,n,o)=>n===e.start||o===e.start),Cle=qZ(wle,!1),_le=(e,n)=>{const o=e.selection.getRng();return oB(e,o).map(a=>{const c=Math.max(0,o.startOffset),g=hH(e.dom,a,o.startContainer,c),p=gH(n,a,g);return Cle(e,a,p,!1,g)}).filter(a=>a.length>0)},Sle=(e,n)=>{be(n,o=>xle(e,o))},kle=(e,n)=>vle(e,n).fold(On,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{JE(e),KZ(e,o),yle(e,a);const c=e.selection.getRng(),g=M9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),g.each(p=>{const _=p.container;_.data.charAt(p.offset-1)===Ds&&(_.deleteData(p.offset-1,1),Zk(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),Ele=(e,n)=>{const o=e.selection.getRng();oB(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),g=hH(e.dom,a,o.startContainer,c),p=gH(n,a,g),_=WZ(e,a,o.startContainer,c,p,!1);_.length>0&&e.undoManager.transact(()=>{KZ(e,_)})})},Ale=(e,n)=>_le(e,n).fold(On,o=>(e.undoManager.transact(()=>{Sle(e,o)}),!0)),YZ=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},Tle=(e,n)=>YZ(e,n,(o,a)=>o===a.keyCode&&!hn.modifierPressed(a)),Ole=(e,n)=>YZ(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),Ile=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>Zp($8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),R2(e)),c=()=>pA(e);e.on("keydown",p=>{if(p.keyCode===13&&!hn.modifierPressed(p)&&e.selection.isCollapsed()){const _=im(a(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&kle(e,_)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const _=im(a(),"space");(_.blockPatterns.length>0||c())&&Ale(e,_)&&p.preventDefault()}},!0);const g=()=>{if(e.selection.isCollapsed()){const p=im(a(),"space");(p.inlinePatterns.length>0||c())&&Ele(e,p)}};e.on("keyup",p=>{Tle(o,p)&&g()}),e.on("keypress",p=>{Ole(n,p)&&eu.setEditorTimeout(e,g)})},Dle=e=>{Ile(e)},Rle=e=>{const n=tn.each,o=hn.BACKSPACE,a=hn.DELETE,c=e.dom,g=e.selection,p=e.parser,_=zo.browser,A=_.isFirefox(),$=_.isChromium()||_.isSafari(),q=zo.deviceType.isiPhone()||zo.deviceType.isiPad(),X=zo.os.isMacOS()||zo.os.isiOS(),ne=(fn,Qn)=>{try{e.getDoc().execCommand(fn,!1,String(Qn))}catch{}},ve=fn=>fn.isDefaultPrevented(),Ee=()=>{const fn=Wo=>{const yn=c.create("body"),Vo=Wo.cloneContents();return yn.appendChild(Vo),g.serializer.serialize(yn,{format:"html"})},Qn=Wo=>{const yn=fn(Wo),Vo=c.createRng();Vo.selectNode(e.getBody());const Zo=fn(Vo);return yn===Zo};e.on("keydown",Wo=>{const yn=Wo.keyCode;if(!ve(Wo)&&(yn===a||yn===o)&&e.selection.isEditable()){const Vo=e.selection.isCollapsed(),Zo=e.getBody();if(Vo&&!hc(e.schema,Zo)||!Vo&&!Qn(e.selection.getRng()))return;Wo.preventDefault(),e.setContent(""),Zo.firstChild&&c.isBlock(Zo.firstChild)?e.selection.setCursorLocation(Zo.firstChild,0):e.selection.setCursorLocation(Zo,0),e.nodeChanged()}})},ye=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},De=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",fn=>{let Qn;if(fn.target===e.getDoc().documentElement)if(Qn=g.getRng(),e.getBody().focus(),fn.type==="mousedown"){if(nc(Qn.startContainer))return;g.placeCaretAt(fn.clientX,fn.clientY)}else g.setRng(Qn)})},Je=()=>{e.on("keydown",fn=>{if(!ve(fn)&&fn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(g.isCollapsed()&&g.getRng().startOffset===0){const Qn=g.getNode(),Wo=Qn.previousSibling;if(Qn.nodeName==="HR"){c.remove(Qn),fn.preventDefault();return}Wo&&Wo.nodeName&&Wo.nodeName.toLowerCase()==="hr"&&(c.remove(Wo),fn.preventDefault())}}})},st=()=>{Range.prototype.getClientRects||e.on("mousedown",fn=>{if(!ve(fn)&&fn.target.nodeName==="HTML"){const Qn=e.getBody();Qn.blur(),eu.setEditorTimeout(e,()=>{Qn.focus()})}})},ot=()=>{const fn=my(e);e.on("click",Qn=>{const Wo=Qn.target;/^(IMG|HR)$/.test(Wo.nodeName)&&c.isEditable(Wo)&&(Qn.preventDefault(),e.selection.select(Wo),e.nodeChanged()),Wo.nodeName==="A"&&c.hasClass(Wo,fn)&&Wo.childNodes.length===0&&c.isEditable(Wo.parentNode)&&(Qn.preventDefault(),g.select(Wo))})},bt=()=>{const fn=()=>{const Wo=c.getAttribs(g.getStart().cloneNode(!1));return()=>{const yn=g.getStart();yn!==e.getBody()&&(c.setAttrib(yn,"style",null),n(Wo,Vo=>{yn.setAttributeNode(Vo.cloneNode(!0))}))}},Qn=()=>!g.isCollapsed()&&c.getParent(g.getStart(),c.isBlock)!==c.getParent(g.getEnd(),c.isBlock);e.on("keypress",Wo=>{let yn;return!ve(Wo)&&(Wo.keyCode===8||Wo.keyCode===46)&&Qn()?(yn=fn(),e.getDoc().execCommand("delete",!1),yn(),Wo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Wo=>{if(!ve(Wo)&&Qn()){const yn=fn();eu.setEditorTimeout(e,()=>{yn()})}})},zt=()=>{e.on("keydown",fn=>{if(!ve(fn)&&fn.keyCode===o&&g.isCollapsed()&&g.getRng().startOffset===0){const Qn=g.getNode().previousSibling;if(Qn&&Qn.nodeName&&Qn.nodeName.toLowerCase()==="table")return fn.preventDefault(),!1}return!0})},en=()=>{e.on("keydown",fn=>{if(ve(fn)||fn.keyCode!==hn.BACKSPACE)return;let Qn=g.getRng();const Wo=Qn.startContainer,yn=Qn.startOffset,Vo=c.getRoot();let Zo=Wo;if(!(!Qn.collapsed||yn!==0)){for(;Zo.parentNode&&Zo.parentNode.firstChild===Zo&&Zo.parentNode!==Vo;)Zo=Zo.parentNode;Zo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zo),Qn=c.createRng(),Qn.setStart(Wo,0),Qn.setEnd(Wo,0),g.setRng(Qn))}})},wn=()=>{const fn=()=>{ne("StyleWithCSS",!1),ne("enableInlineTableEditing",!1),ND(e)||ne("enableObjectResizing",!1)};zD(e)||e.on("BeforeExecCommand mousedown",fn)},Rt=()=>{const fn=()=>{n(c.select("a:not([data-mce-block])"),Qn=>{var Wo;let yn=Qn.parentNode;const Vo=c.getRoot();if((yn==null?void 0:yn.lastChild)===Qn){for(;yn&&!c.isBlock(yn);){if(((Wo=yn.parentNode)===null||Wo===void 0?void 0:Wo.lastChild)!==yn||yn===Vo)return;yn=yn.parentNode}c.add(yn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Qn=>{(Qn.type==="setcontent"||Qn.command==="mceInsertLink")&&fn()})},Ct=()=>{e.on("init",()=>{ne("DefaultParagraphSeparator",ml(e))})},$t=fn=>{const Qn=fn.getBody(),Wo=fn.selection.getRng();return Wo.startContainer===Wo.endContainer&&Wo.startContainer===Qn&&Wo.startOffset===0&&Wo.endOffset===Qn.childNodes.length},In=()=>{e.on("keyup focusin mouseup",fn=>{!hn.modifierPressed(fn)&&!$t(e)&&g.normalize()},!0)},Wn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},$o=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},jo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",fn=>{let Qn;fn.target.nodeName==="HTML"&&(Qn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Qn),e.selection.normalize(),e.nodeChanged())}))},Lr=()=>{X&&e.on("keydown",fn=>{hn.metaKeyPressed(fn)&&!fn.shiftKey&&(fn.keyCode===37||fn.keyCode===39)&&(fn.preventDefault(),e.selection.getSel().modify("move",fn.keyCode===37?"backward":"forward","lineboundary"))})},Kr=()=>{e.on("click",fn=>{let Qn=fn.target;do if(Qn.tagName==="A"){fn.preventDefault();return}while(Qn=Qn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},gi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",fn=>{fn.preventDefault()})})},Ll=()=>{p.addNodeFilter("br",fn=>{let Qn=fn.length;for(;Qn--;)fn[Qn].attr("class")==="Apple-interchange-newline"&&fn[Qn].remove()})},es=Ze,ln=()=>{if(!A||e.removed)return!1;const fn=e.selection.getSel();return!fn||!fn.rangeCount||fn.rangeCount===0},Vn=()=>{$&&(De(),ot(),gi(),ye(),q&&($o(),jo(),Kr())),A&&(st(),wn(),Wn(),Lr())},Cr=()=>{en(),Ee(),zo.windowsPhone||In(),$&&(De(),ot(),Ct(),gi(),zt(),Ll(),q?($o(),jo(),Kr()):ye()),A&&(Je(),st(),bt(),wn(),Rt(),Wn(),Lr(),zt())};return Ig(e)?Vn():Cr(),{refreshContentEditable:es,isHidden:ln}},Nle=e=>e.toLowerCase()==="gpl",Ple=e=>e.length>=64&&e.length<=255,Lle=e=>Nle(e)||Ple(e)?"VALID":"INVALID",Mle=e=>{const n=QD(e);!ue(eR(e))&&(Ye(n)||Lle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},bH=Jr.DOM,Ble=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=Hm(pu(o)),c=Ke.fromTag("style");_i(c,"type","text/css"),Ws(c,Ke.fromText(n)),Ws(a,c),e.on("remove",()=>{Pr(c)})},Fle=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,vH=e=>Rc(e,n=>Ye(n)===!1),XZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return vH({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Fle(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:S_(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},JZ=e=>{const n=e.options.get;return vH({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},$le=e=>{const n=e.options.get;return{...XZ(e),...JZ(e),...vH({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Vle=e=>{const n=Hy(XZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,g="data-mce-"+a;let p=o.length;for(;p--;){const _=o[p];let A=_.attr(a);if(A&&!_.attr(g)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;a==="style"?(A=c.serializeStyle(c.parseStyle(A),_.name),A.length||(A=null),_.attr(g,A),_.attr(a,A)):a==="tabindex"?(_.attr(g,A),_.attr(a,null)):_.attr(g,e.convertURL(A,a,_.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],g=c.attr("type")||"no/type";g.indexOf("mce-")!==0&&c.attr("type","mce-"+g)}}),z8(e)&&n.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const g=o[c];g.type=8,g.name="#comment",g.value="[CDATA["+e.dom.encode((a=g.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const g=o[a];g.isEmpty(c)&&g.getAll("br").length===0&&g.append(new Pa("br",1))}}),n},zle=e=>{const n=P8(e);n&&eu.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Hle=e=>{const n=e.dom.getRoot();!e.inline&&(!vy(e)||e.selection.getStart(!0)===n)&&oo(n).each(o=>{const a=o.getNode(),c=wu(a)?oo(a).getOr(o):o;e.selection.setRng(c.toRange())})},Ule=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ai(e),e.focus(!0),Hle(e),e.nodeChanged({initial:!0});const n=R8(e);ze(n)&&n.call(e,e),zle(e)},yH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Wle=(e,n,o)=>{const{pass:a,fail:c}=Re(n,_=>tinymce.Resource.has(rO(_))),p=[...a.map(_=>{const A=tinymce.Resource.get(rO(_));return ue(A)?Promise.resolve(yH(e).loadRawCss(_,A)):Promise.resolve()}),yH(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},QZ=e=>{const n=yH(e),o=RD(e),a=e.contentCSS,c=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},g=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";tn.each(e.contentStyles,$=>{A+=$+`\r
`}),e.dom.addStyle(A)}const p=Promise.all(Wle(e,a,o)).then(g).catch(g),_=uy(e);return _&&Ble(e,_),p},Kle=e=>{const n=e.getDoc(),o=e.getBody();c7(e),L8(e)||(n.body.spellcheck=!1,bH.setAttrib(o,"spellcheck","false")),e.quirks=Rle(e),u7(e);const a=k8(e);a!==void 0&&(o.dir=a);const c=fr(e);c&&e.on("BeforeSetContent",g=>{tn.each(c,p=>{g.content=g.content.replace(p,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",g=>{e.composing=g.type==="compositionstart"})},jle=e=>{Ig(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},xH=e=>{e.removed!==!0&&(jle(e),Ule(e))},Zle=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},eG=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(bH.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=zD(e),e._editableRoot=Er(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&bH.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=iO(e),e.schema=Kc(JZ(e)),e.dom=Jr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:ID(e),referrerPolicy:T2(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Vle(e),e.serializer=IL($le(e),e),e.selection=K4(e.dom,e.getWin(),e.serializer,e),e.annotator=KR(e),e.formatter=tC(e),e.undoManager=cM(e),e._nodeChangeDispatcher=new zse(e),e._selectionOverrides=nle(e),Io(e),aae(e),fC(e),Ig(e)||(gae(e),Dle(e));const c=Vse(e);Kn(e,c),$i(e),hM(e),rae(e);const g=fL(e);Kle(e),Mle(e),g.fold(()=>{const p=Zle(e);QZ(e).then(()=>{xH(e),p()})},p=>{e.setProgressState(!0),QZ(e).then(()=>{p().then(_=>{e.setProgressState(!1),xH(e),yL(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),xH(e),yL(e)})})})},Gle=nn,qle=(e,n,o)=>L(e,n,Gle,o),wH=Jr.DOM,Yle=(e,n,o,a)=>{const c=Ke.fromTag("iframe");return a.each(g=>_i(c,"tabindex",g)),Fa(c,o),Fa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Kd(c,"tox-edit-area__iframe"),c},Xle=e=>{let n=af(e)+"<html><head>";Ou(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=x_(e),a=oA(e),c=e.translate(I2(e));return SD(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+SD(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},Jle=(e,n)=>{const o=zo.browser.isFirefox()?I2(e):"Rich Text Area",a=e.translate(o),c=fu(Ke.fromDom(e.getElement()),"tabindex").bind(mn),g=Yle(e.id,a,Dl(e),c).dom;g.onload=()=>{g.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=g,e.iframeHTML=Xle(e),wH.add(n.iframeContainer,g)},Qle=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,eG(e)};if(GD(e)||zo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=qle(Ke.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},ece=(e,n)=>{Jle(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=wH.isHidden(n.editorContainer)),e.getElement().style.display="none",wH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Qle(e)},tG=Jr.DOM,tce=(e,n,o)=>{const a=T0.get(o),c=T0.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=tn.trim(o),a&&tn.inArray(n,o)===-1){if(e.plugins[o])return;try{const g=a(e,c)||{};e.plugins[o]=g,ze(g.init)&&(g.init(e,c),n.push(o))}catch(g){Cz(e,o,g)}}},nce=e=>e.replace(/^\-/,""),oce=e=>{const n=[];be(lf(e),o=>{tce(e,n,nce(o))})},rce=e=>{const n=tn.trim(lA(e)),o=e.ui.registry.getAll().icons,a={...Yw.get("default").icons,...Yw.get(n).icons};ur(a,(c,g)=>{fo(o,g)||e.ui.registry.addIcon(g,c)})},sce=e=>{const n=dy(e);if(ue(n)){const o=Sb.get(n);e.theme=o(e,Sb.urls[n])||{},ze(e.theme.init)&&e.theme.init(e,Sb.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},ice=e=>{const n=O2(e),o=_b.get(n);e.model=o(e,_b.urls[n])},ace=e=>{const n=e.theme.renderUI;return n?n():oG(e)},lce=e=>{const n=e.getElement(),a=dy(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},nG=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),cce=e=>{const n=tG.create("div");return tG.insertAfter(n,e),nG(n,n)},oG=e=>{const n=e.getElement();return e.inline?nG(null):cce(n)},uce=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ue(dy(e))?ace(e):ze(dy(e))?lce(e):oG(e)},dce=(e,n)=>{const o={show:Q.from(n.show).getOr(Ze),hide:Q.from(n.hide).getOr(Ze),isEnabled:Q.from(n.isEnabled).getOr(nn),setEnabled:a=>{e.mode.isReadOnly()||Q.from(n.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},fce=async e=>{e.dispatch("ScriptsLoaded"),rce(e),sce(e),ice(e),oce(e);const n=await uce(e);dce(e,Q.from(n.api).getOr({})),e.editorContainer=n.editorContainer,YL(e),e.inline?eG(e):ece(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},bC=Jr.DOM,rG=e=>e.charAt(0)==="-",mce=(e,n)=>{const o=dA(n),a=S8(n);if(!jc.hasCode(o)&&o!=="en"){const c=rt(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{xz(n,c,o)})}},gce=(e,n)=>{const o=dy(e);if(ue(o)&&!rG(o)&&!fo(Sb.urls,o)){const a=A8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;Sb.load(o,c).catch(()=>{GL(e,c,o)})}},hce=(e,n)=>{const o=O2(e);if(o!=="plugin"&&!fo(_b.urls,o)){const a=mA(e),c=ue(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;_b.load(o,c).catch(()=>{wz(e,c,o)})}},pce=e=>Q.from(TD(e)).filter(rt).map(n=>({url:n,name:Q.none()})),sG=(e,n,o)=>Q.from(n).filter(a=>rt(a)&&!Yw.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:Q.some(a)})),bce=(e,n,o)=>{const a=sG(n,"default",o),c=pce(n).orThunk(()=>sG(n,lA(n),""));be(v1([a,c]),g=>{e.add(g.url).catch(()=>{nO(n,g.url,g.name.getOrUndefined())})})},vce=(e,n)=>{const o=(a,c)=>{T0.load(a,c).catch(()=>{tO(e,c,a)})};ur(fg(e),(a,c)=>{o(c,a),e.options.set("plugins",lf(e).concat(c))}),be(lf(e),a=>{a=tn.trim(a),a&&!T0.urls[a]&&!rG(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},yce=e=>{const n=dy(e);return!ue(n)||Ae(Sb.get(n))},xce=e=>{const n=O2(e);return Ae(_b.get(n))},wce=(e,n)=>{const o=Tl.ScriptLoader,a=()=>{!e.removed&&yce(e)&&xce(e)&&fce(e)};gce(e,n),hce(e,n),mce(o,e),bce(o,e,n),vce(e,n),o.loadQueue().then(a,a)},Cce=(e,n)=>I1.forElement(e,{contentCssCors:HD(n),referrerPolicy:T2(n)}),_ce=e=>{const n=e.id;jc.setCode(dA(e));const o=()=>{bC.unbind(window,"ready",o),e.render()};if(!Gf.Event.domLoaded){bC.bind(window,"ready",o);return}if(!e.getElement())return;const a=Ke.fromDom(e.getElement()),c=kl(a);e.on("remove",()=>{Ce(a.dom.attributes,p=>Lo(a,p.name)),Fa(a,c)}),e.ui.styleSheetLoader=Cce(a,e),Gv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const g=e.getElement().form||bC.getParent(n,"form");g&&(e.formElement=g,gA(e)&&!Ip(e.getElement())&&(bC.insertAfter(bC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},bC.bind(g,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),BD(e)&&!g.submit.nodeType&&!g.submit.length&&!g._mceOldSubmit&&(g._mceOldSubmit=g.submit,g.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),g._mceOldSubmit(g)))),e.windowManager=jL(e),e.notificationManager=eO(e),qD(e)&&e.on("GetContent",p=>{p.save&&(p.content=bC.encode(p.content))}),FD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),$D(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),wce(e,e.suffix)},Sce=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),m7(e,n))},kce=e=>e._editableRoot,Ece=(e,n)=>({sections:ut(e),options:ut(n)}),iG=ia().deviceType,aG=iG.isPhone(),Ace=iG.isTablet(),sI=e=>{if(it(e))return[];{const n=re(e)?e:e.split(/[ ,]/),o=$e(n,He);return qe(o,rt)}},Tce=(e,n)=>{const o=Gu(n,(a,c)=>xe(e,c));return Ece(o.t,o.f)},Oce=(e,n,o={})=>{const a=e.sections(),c=Nr(a,n).getOr({});return tn.extend({},o,c)},CH=(e,n)=>fo(e.sections(),n),Ice=(e,n)=>CH(e,n)?e.sections()[n]:{},Dce=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Nr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Rce=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?tn.extend({},e.external_plugins,a):a},Nce=(e,n)=>[...sI(e),...sI(n)],Pce=(e,n,o,a)=>e&&CH(n,"mobile")?a:o,Lce=(e,n,o,a)=>{const c=sI(o.forced_plugins),g=sI(a.plugins),p=Ice(n,"mobile"),_=p.plugins?sI(p.plugins):g,A=Pce(e,n,g,_),$=Nce(c,A);return tn.extend(a,{forced_plugins:c,plugins:$})},Mce=(e,n)=>e&&CH(n,"mobile"),Bce=(e,n,o,a,c)=>{var g;const p=e?{mobile:Dce((g=c.mobile)!==null&&g!==void 0?g:{},n)}:{},_=Tce(["mobile"],B6(p,c)),A=tn.extend(o,a,_.options(),Mce(e,_)?Oce(_,"mobile"):{},{external_plugins:Rce(a,_.options())});return Lce(e,_,a,A)},Fce=(e,n)=>{const o=nj(n);return Bce(aG||Ace,aG,o,e,o)},$ce=(e,n)=>vL(e,n),Vce=e=>{const n=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{be("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},zce=e=>{const n=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Te(c,g=>Ae(e.formatter.matchNode(g,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Hce=e=>{Vce(e),zce(e)},Uce=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(zo.os.isMacOS()||zo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Wce=(e,n,o,a)=>{const c=Ke.fromDom(e.getRoot());return Ry(c,St.fromRangeStart(n),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),b0(c,St.fromRangeEnd(n),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Kce=e=>{if(typeof e!="string"){const n=tn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},jce=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?Wce(a,o.getRng(),n,e.schema):n},iB=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=Kce(n);y4(e,{...a,content:jce(e,o),format:"html",set:!1,selection:!0}).each(c=>{const g=JV(e,c.content,a);x4(e,g,c),e.addVisual()})}},Zce=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{iB(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{iB(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{iB(e,a)},mceInsertContent:(n,o,a)=>{iB(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(pr(e))}})},Gce={"font-size":"size","font-family":"face"},qce=Nf("font"),Yce=(e,n,o)=>{const a=g=>Fs(g,e).orThunk(()=>qce(g)?Nr(Gce,e).bind(p=>fu(g,p)):Q.none()),c=g=>tr(Ke.fromDom(n),g);return Rw(Ke.fromDom(o),g=>a(g),c)},Xce=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Jce=(e,n)=>Q.from(Jr.DOM.getStyle(n,e,!0)),lG=e=>(n,o)=>Q.from(o).map(Ke.fromDom).filter(Hs).bind(a=>Yce(e,n,a.dom).or(Jce(e,a.dom))).getOr(""),Qce=lG("font-size"),eue=Ot(Xce,lG("font-family")),tue=e=>oo(e.getBody()).bind(n=>{const o=n.container();return Q.from(jt(o)?o.parentNode:o)}),nue=e=>Q.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?Q.none():Q.from(e.selection.getStart(!0))}),oue=(e,n)=>nue(e).orThunk(tt(tue,e)).map(Ke.fromDom).filter(Hs).bind(n),_H=(e,n)=>oue(e,Gt(Q.some,n)),cG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=bA(e),c=vA(e);return c.length>0?c[o-1]||n:a[o-1]||n}else return n}else return n},rue=e=>{const n=e.split(/\s*,\s*/);return $e(n,o=>o.indexOf(" ")!==-1&&!(cs(o,'"')||cs(o,"'"))?`'${o}'`:o).join(",")},sue=(e,n)=>{const o=cG(e,n);e.formatter.toggle("fontname",{value:rue(o)}),e.nodeChanged()},iue=e=>_H(e,n=>eue(e.getBody(),n.dom)).getOr(""),aue=(e,n)=>{e.formatter.toggle("fontsize",{value:cG(e,n)}),e.nodeChanged()},lue=e=>_H(e,n=>Qce(e.getBody(),n.dom)).getOr(""),cue=e=>_H(e,n=>{const o=Ke.fromDom(e.getBody()),a=Rw(n,g=>Fs(g,"line-height"),tt(tr,o)),c=()=>{const g=parseFloat(Us(n,"line-height")),p=parseFloat(Us(n,"font-size"));return String(g/p)};return a.getOrThunk(c)}).getOr(""),uue=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},due=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,c)=>{n(o,{value:c})},BackColor:(o,a,c)=>{n("hilitecolor",{value:c})},FontName:(o,a,c)=>{sue(e,c)},FontSize:(o,a,c)=>{aue(e,c)},LineHeight:(o,a,c)=>{uue(e,c)},Lang:(o,a,c)=>{var g;n(o,{value:c.code,customValue:(g=c.customCode)!==null&&g!==void 0?g:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,c)=>{n(ue(c)?c:"p")},mceToggleFormat:(o,a,c)=>{n(c)}})},fue=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>iue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>lue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>cue(e))},mue=e=>{due(e),fue(e)},gue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},hue=e=>{e.editorCommands.addCommands({Indent:()=>{Nt(e)},Outdent:()=>{Tt(e)}}),e.editorCommands.addCommands({Outdent:()=>we(e)},"state")},pue=e=>{const n=(o,a,c)=>{const g=ue(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");Z(g)&&ue(g.href)&&(g.href=g.href.replace(/ /g,"%20"),(!p||!g.href)&&e.formatter.remove("link"),g.href&&e.formatter.apply("link",g,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},bue=(e,n,o,a)=>{const c=e.dom,g=_=>c.isBlock(_)&&_.parentElement===o,p=g(n)?n:c.getParent(a,g,o);return Q.from(p).map(Ke.fromDom)},uG=(e,n)=>{const o=e.dom,a=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),g=n?a.startContainer:a.endContainer,p=eI(o,g);if(!p||!p.isContentEditable)return;const _=n?Is:dt,A=ml(e);bue(e,c,p,g).each($=>{const q=Tj(e,g,$.dom,p,!1,A);_($,Ke.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),QO(e,"insertParagraph")})},vue=e=>uG(e,!0),yue=e=>uG(e,!1),xue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{vue(e)},InsertNewBlockAfter:()=>{yue(e)}})},wue=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Z6(Rj,e)},mceInsertNewLine:(n,o,a)=>{$j(e,a)},InsertLineBreak:(n,o,a)=>{Z6(Lj,e)}})},Cue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),g=>Nn(g)&&c++===a?(e.selection.select(g),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),zc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},_ue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const g=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(g)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{ON(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Sue=e=>{Hce(e),Uce(e),gue(e),Cue(e),Zce(e),pue(e),hue(e),xue(e),wue(e),mue(e),_ue(e)},kue=["toggleview"],dG=e=>xe(kue,e.toLowerCase());class fG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,c){const g=this.editor,p=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(g.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!_?g.focus():sS(g)),g.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const $=this.commands.exec[p];return ze($)?($(p,o,a),g.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!dG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return ze(a)?a(o):!1}queryCommandValue(n){if(!dG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return ze(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;ur(n,(c,g)=>{be(g.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(n,o,a){const c=n.toLowerCase();this.commands.exec[c]=(g,p,_)=>o.call(a??this.editor,p,_)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const vC="data-mce-contenteditable",Eue=(e,n,o)=>{jd(e,n)&&!o?$a(e,n):o&&Kd(e,n)},SH=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},aB=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Aue=e=>{be(vi(e,'*[contenteditable="true"]'),n=>{_i(n,vC,"true"),aB(n,!1)})},Tue=e=>{be(vi(e,`*[${vC}="true"]`),n=>{Lo(n,vC),aB(n,!0)})},Oue=e=>{Q.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},Iue=e=>{e.selection.setRng(e.selection.getRng())},Due=(e,n)=>{const o=Ke.fromDom(e.getBody());Eue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Oue(e),e.readonly=!0,aB(o,!1),Aue(o)):(e.readonly=!1,e.hasEditableRoot()&&aB(o,!0),Tue(o),SH(e,"StyleWithCSS",!1),SH(e,"enableInlineTableEditing",!1),SH(e,"enableObjectResizing",!1),d0(e)&&e.focus(),Iue(e),e.nodeChanged())},yC=e=>e.readonly,mG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{yC(e)&&be(n,o=>{o.attr(vC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(vC,n=>{yC(e)&&be(n,o=>{o.attr("contenteditable",o.attr(vC))})}),e.serializer.addTempAttr(vC)},Rue=e=>{e.serializer?mG(e):e.on("PreInit",()=>{mG(e)})},Nue=e=>e.type==="click",Pue=["copy"],Lue=e=>xe(Pue,e.type),Mue=(e,n)=>Yi(n,"a",a=>tr(a,Ke.fromDom(e.getBody()))).bind(a=>fu(a,"href")),Bue=(e,n)=>{if(Nue(n)&&!hn.metaKeyPressed(n)){const o=Ke.fromDom(n.target);Mue(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${uu(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Lue(n)&&e.dispatch(n.type,n)},Fue=e=>{e.on("ShowCaret",n=>{yC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{yC(e)&&n.preventDefault()})},$ue=tn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class kH{static isNative(n){return!!$ue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||On}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),c=$1(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const g=this.bindings[a];if(g)for(let p=0,_=g.length;p<_;p++){const A=g[p];if(!A.removed){if(A.once&&this.off(a,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,a,c){if(o===!1&&(o=On),o){const g={func:o,removed:!1};c&&tn.extend(g,c);const p=n.toLowerCase().split(" ");let _=p.length;for(;_--;){const A=p[_];let $=this.bindings[A];$||($=[],this.toggleEvent(A,!0)),a?$=[g,...$]:$=[...$,g],this.bindings[A]=$}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let c=a.length;for(;c--;){const g=a[c];let p=this.bindings[g];if(!g)return ur(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(p){if(!o)p.length=0;else{const _=Re(p,A=>A.func===o);p=_.fail,this.bindings[g]=p,be(_.pass,A=>{A.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}}else ur(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const iI=e=>(e._eventDispatcher||(e._eventDispatcher=new kH({scope:e,toggleEvent:(n,o)=>{kH.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),EH={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return $1(e.toLowerCase(),n??{},a);const c=iI(a).dispatch(e,n);if(o!==!1&&a.parent){let g=a.parent();for(;g&&!c.isPropagationStopped();)g.dispatch(e,c,!1),g=g.parent?g.parent():void 0}return c},on(e,n,o){return iI(this).on(e,n,o)},off(e,n){return iI(this).off(e,n)},once(e,n){return iI(this).once(e,n)},hasEventListeners(e){return iI(this).has(e)}},lB=Jr.DOM;let xC;const cB=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=LD(e);return o?(e.eventRoot||(e.eventRoot=lB.select(o)[0]),e.eventRoot):e.getBody()},Vue=e=>!e.hidden&&!yC(e),gG=(e,n,o)=>{Vue(e)?e.dispatch(n,o):yC(e)&&Bue(e,o)},hG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=cB(e,n);if(LD(e)){if(xC||(xC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||xC&&(ur(xC,(c,g)=>{e.dom.unbind(cB(e,g))}),xC=null)})),xC[n])return;const a=c=>{const g=c.target,p=e.editorManager.get();let _=p.length;for(;_--;){const A=p[_].getBody();(A===g||lB.isChildOf(g,A))&&gG(p[_],n,c)}};xC[n]=a,lB.bind(o,n,a)}else{const a=c=>{gG(e,n,c)};lB.bind(o,n,a),e.delegates[n]=a}},pG={...EH,bindPendingEventDelegates(){const e=this;tn.each(e._pendingNativeEvents,n=>{hG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?hG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(cB(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(ur(e.delegates,(a,c)=>{e.dom.unbind(cB(e,c),c,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},zue=e=>ue(e)?{value:e.split(/[ ,]/),valid:!0}:Fe(e,ue)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Hue=e=>{const n=(()=>{switch(e){case"array":return re;case"boolean":return Me;case"function":return ze;case"number":return R;case"object":return Z;case"string":return ue;case"string[]":return zue;case"object[]":return o=>Fe(o,Z);case"regexp":return o=>he(o,RegExp);default:return nn}})();return o=>AH(o,n,`The value must be a ${e}.`)},Uue=e=>ue(e.processor),bG=(e,n)=>{const o=qt(n.message)?"":`. ${n.message}`;return e+o},vG=e=>e.valid,AH=(e,n,o="")=>{const a=n(e);return Me(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},Wue=(e,n,o)=>{if(!Ye(n)){const a=AH(n,o);if(vG(a))return a.value;console.error(bG(`Invalid default value passed for the "${e}" option`,a))}},Kue=(e,n,o=n)=>{const a={},c={},g=(ve,Ee,ye)=>{const De=AH(Ee,ye);return vG(De)?(c[ve]=De.value,!0):(console.warn(bG(`Invalid value passed for the ${ve} option`,De)),!1)},p=(ve,Ee)=>{const ye=Uue(Ee)?Hue(Ee.processor):Ee.processor,De=Wue(ve,Ee.default,ye);a[ve]={...Ee,default:De,processor:ye},Nr(c,ve).orThunk(()=>Nr(n,ve)).each(st=>g(ve,st,ye))},_=ve=>fo(a,ve);return{register:p,isRegistered:_,get:ve=>Nr(c,ve).orThunk(()=>Nr(a,ve).map(Ee=>Ee.default)).getOrUndefined(),set:(ve,Ee)=>{if(_(ve)){const ye=a[ve];return ye.immutable?(console.error(`"${ve}" is an immutable option and cannot be updated`),!1):g(ve,Ee,ye.processor)}else return console.warn(`"${ve}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ve=>{const Ee=_(ve);return Ee&&delete c[ve],Ee},isSet:ve=>fo(c,ve),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ve,Ee)=>Me(Ee)||R(Ee)||ue(Ee)||Ve(Ee)||re(Ee)||de(Ee)?Ee:Object.prototype.toString.call(Ee))))}catch(ve){console.error(ve)}}}},jue=["design","readonly"],yG=(e,n,o,a)=>{const c=o[n.get()],g=o[a];try{g.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==g.editorReadOnly&&Due(e,g.editorReadOnly),n.set(a),jR(e,a)},Zue=(e,n,o,a)=>{if(a!==o.get()){if(!fo(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?yG(e,o,n,a):e.on("init",()=>yG(e,o,n,a))}},Gue=(e,n,o)=>{if(xe(jue,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},que=e=>{const n=Pi("design"),o=Pi({design:{activate:Ze,deactivate:Ze,editorReadOnly:!1},readonly:{activate:Ze,deactivate:Ze,editorReadOnly:!0}});return Rue(e),Fue(e),{isReadOnly:()=>yC(e),set:a=>Zue(e,o.get(),n,a),get:()=>n.get(),register:(a,c)=>{o.set(Gue(o.get(),a,c))}}},TH=tn.each,OH=tn.explode,Yue={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xG=tn.makeMap("alt,ctrl,shift,meta,access"),Xue=e=>e in xG,Jue=e=>{const n={},o=zo.os.isMacOS()||zo.os.isiOS();TH(OH(e.toLowerCase(),"+"),g=>{Xue(g)?n[g]=!0:/^[0-9]{2,}$/.test(g)?n.keyCode=parseInt(g,10):(n.charCode=g.charCodeAt(0),n.keyCode=Yue[g]||g.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let c;for(c in xG)n[c]?a.push(c):n[c]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class wG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(TH(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,c){const g=this,p=g.normalizeCommandFunc(a);return TH(OH(tn.trim(n)),_=>{const A=g.createShortcut(_,o,p,c);g.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:tn.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,c){const g=tn.map(OH(n,">"),Jue);return g[g.length-1]=tn.extend(g[g.length-1],{func:a,scope:c||this.editor}),tn.extend(g[0],{desc:this.editor.translate(o),subpatterns:g.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Que=()=>{const e={},n={},o={},a={},c={},g={},p={},_={},A=(q,X)=>(ne,ve)=>{q[ne.toLowerCase()]={...ve,type:X}},$=(q,X)=>a[q.toLowerCase()]=X;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(g,"contexttoolbar"),addContextForm:A(g,"contextform"),addSidebar:A(p,"sidebar"),addView:A(_,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:c,contextToolbars:g,sidebars:p,views:_})}},ede=()=>{const e=Que();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},wC=Jr.DOM,CG=tn.extend,tde=tn.each;class uB{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,CG(this,pG);const c=this;this.id=n,this.hidden=!1;const g=Fce(a.defaultOptions,o);this.options=Kue(c,g,o),y_(c);const p=this.options.get;p("deprecation_warnings")&&mz(o,g);const _=p("suffix");_&&(a.suffix=_),this.suffix=a.suffix;const A=p("base_url");A&&a._setBaseUrl(A),this.baseUri=a.baseURI;const $=T2(c);$&&(Tl.ScriptLoader._setReferrerPolicy($),Jr.DOM.styleSheetLoader._setReferrerPolicy($));const q=HD(c);Ae(q)&&Jr.DOM.styleSheetLoader._setContentCssCors(q),dl.languageLoad=p("language_load"),dl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new kd(Ou(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Gv(c),this.hasVisual=Yc(c),this.shortcuts=new wG(this),this.editorCommands=new fG(this),Sue(this);const X=p("cache_suffix");X&&(zo.cacheSuffix=X.replace(/^[\?\&]+/,"")),this.ui={registry:ede(),styleSheetLoader:void 0,show:Ze,hide:Ze,setEnabled:Ze,isEnabled:nn},this.mode=que(c),a.dispatch("SetupEditor",{editor:this});const ne=gy(c);ze(ne)&&ne.call(c,c)}render(){_ce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return ky(this)}translate(n){return jc.translate(n)}getParam(n,o,a){const c=this.options;return c.isRegistered(n)||(Ae(a)?c.register(n,{processor:a,default:o}):c.register(n,{processor:nn,default:o})),!c.isSet(n)&&!Ye(o)?o:c.get(n)}hasPlugin(n,o){return xe(lf(this),n)?o?T0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,c){this.shortcuts.add(n,o,a,c)}execCommand(n,o,a,c){return this.editorCommands.execCommand(n,o,a,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(wC.show(n.getContainer()),wC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(wC.hide(n.getContainer()),wC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...n,load:!0},g=Ip(a)?a.value:a.innerHTML,p=o.setContent(g,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...n,save:!0,element:a};let g=o.getContent(c);const p={...c,content:g};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),g=p.content,Ip(a))a.value=g;else{(n.is_removing||!o.inline)&&(a.innerHTML=g);const _=wC.getParent(o.id,"form");_&&tde(_.elements,A=>A.name===o.id?(A.value=g,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),g}setContent(n,o){return Z4(this,n,o)}getContent(n){return DL(this,n)}insertContent(n,o){o&&(n=CG({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?Z4(this,this.startContent,{format:"raw"}):Z4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||wC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=wC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const c=this,g=c.options.get,p=N8(c);if(ze(p))return p.call(c,n,a,!0,o);if(!g("convert_urls")||a==="link"||Z(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new kd(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:g("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,g("remove_script_host")),n)}addVisual(n){$ce(this,n)}setEditableRoot(n){Sce(this,n)}hasEditableRoot(){return kce(this)}remove(){$L(this)}destroy(n){hz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Gk=Jr.DOM,dB=tn.each;let _G=!1,fB,Bu=[];const mB=e=>{const n=e.type;dB(ix.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},SG=e=>{if(e!==_G){const n=Jr.DOM;e?(n.bind(window,"resize",mB),n.bind(window,"scroll",mB)):(n.unbind(window,"resize",mB),n.unbind(window,"scroll",mB)),_G=e}},kG=e=>{const n=Bu;return Bu=qe(Bu,o=>e!==o),ix.activeEditor===e&&(ix.activeEditor=Bu.length>0?Bu[0]:null),ix.focusedEditor===e&&(ix.focusedEditor=null),n.length!==Bu.length},nde=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(kG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},ode=document.compatMode!=="CSS1Compat",ix={...EH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:jc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=kd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const g=document.getElementsByTagName("script");for(let p=0;p<g.length;p++){const _=g[p].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new kd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new kd(e.baseURL),e.suffix=o,M7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&ur(a,(c,g)=>{dl.PluginManager.urls[g]=c})},init(e){const n=this;let o;const a=tn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(q,X)=>q.inline&&X.tagName.toLowerCase()in a,g=q=>{let X=q.id;return X||(X=Nr(q,"name").filter(ne=>!Gk.get(ne)).getOrThunk(Gk.uniqueId),q.setAttribute("id",X)),X},p=q=>{const X=e[q];if(X)return X.apply(n,[])},_=q=>zo.browser.isIE()||zo.browser.isEdge()?(Jw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):ode?(Jw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ue(q.selector)?Gk.select(q.selector):Ae(q.target)?[q.target]:[];let A=q=>{o=q};const $=()=>{let q=0;const X=[];let ne;const ve=(Ee,ye,De)=>{const Je=new uB(Ee,ye,n);X.push(Je),Je.on("init",()=>{++q===ne.length&&A(X)}),Je.targetElm=Je.targetElm||De,Je.render()};Gk.unbind(window,"ready",$),p("onpageload"),ne=tl(_(e)),tn.each(ne,Ee=>{nde(n.get(Ee.id))}),ne=tn.grep(ne,Ee=>!n.get(Ee.id)),ne.length===0?A([]):dB(ne,Ee=>{c(e,Ee)?Jw("Could not initialize inline editor on invalid inline target element",Ee):ve(g(Ee),e,Ee)})};return Gk.bind(window,"ready",$),new Promise(q=>{o?q(o):A=X=>{q(X)}})},get(e){return arguments.length===0?Bu.slice(0):ue(e)?bn(Bu,n=>n.id===e).getOr(null):R(e)&&Bu[e]?Bu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Bu.push(e),SG(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),fB||(fB=a=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",fB))),e},createEditor(e,n){return this.add(new uB(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=Bu.length-1;a>=0;a--)n.remove(Bu[a]);return}if(ue(e)){dB(Gk.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,Ve(n.get(o.id))?null:(kG(o)&&n.dispatch("RemoveEditor",{editor:o}),Bu.length===0&&window.removeEventListener("beforeunload",fB),o.remove(),SG(Bu.length>0),o)},execCommand(e,n,o){var a;const c=this,g=Z(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(g)){const p=o.options;new uB(g,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(g);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(g);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{dB(Bu,e=>{e.save()})},addI18n:(e,n)=>{jc.add(e,n)},translate:e=>jc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new kd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new kd(this.baseURL)}};ix.setup();const rde=(()=>{const e=Li(),n=g=>({items:g,types:Xt(g),getType:p=>Nr(g,p).getOrUndefined()}),o=g=>{e.set(g)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:c}})(),EG=Math.min,qk=Math.max,gB=Math.round,AG=(e,n,o)=>{let a=n.x,c=n.y;const g=e.w,p=e.h,_=n.w,A=n.h,$=(o||"").split("");return $[0]==="b"&&(c+=A),$[1]==="r"&&(a+=_),$[0]==="c"&&(c+=gB(A/2)),$[1]==="c"&&(a+=gB(_/2)),$[3]==="b"&&(c-=p),$[4]==="r"&&(a-=g),$[3]==="c"&&(c-=gB(p/2)),$[4]==="c"&&(a-=gB(g/2)),Yk(a,c,g,p)},sde=(e,n,o,a)=>{for(let c=0;c<a.length;c++){const g=AG(e,n,a[c]);if(g.x>=o.x&&g.x+g.w<=o.w+o.x&&g.y>=o.y&&g.y+g.h<=o.h+o.y)return a[c]}return null},ide=(e,n,o)=>Yk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),ade=(e,n)=>{const o=qk(e.x,n.x),a=qk(e.y,n.y),c=EG(e.x+e.w,n.x+n.w),g=EG(e.y+e.h,n.y+n.h);return c-o<0||g-a<0?null:Yk(o,a,c-o,g-a)},lde=(e,n,o)=>{let a=e.x,c=e.y,g=e.x+e.w,p=e.y+e.h;const _=n.x+n.w,A=n.y+n.h,$=qk(0,n.x-a),q=qk(0,n.y-c),X=qk(0,g-_),ne=qk(0,p-A);return a+=$,c+=q,o&&(g+=$,p+=q,a-=X,c-=ne),g-=X,p-=ne,Yk(a,c,g-a,p-c)},Yk=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),cde={inflate:ide,relativePosition:AG,findBestRelativePosition:sde,intersect:ade,clamp:lde,create:Yk,fromClientRect:e=>Yk(e.left,e.top,e.width,e.height)},ude=(e,n,o=1e3)=>{let a=!1,c=null;const g=$=>(...q)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),$.apply(null,q))},p=g(e),_=g(n);return{start:(...$)=>{!a&&c===null&&(c=setTimeout(()=>_.apply(null,$),o))},resolve:p,reject:_}},dde=(()=>{const e={},n={},o={};return{load:(A,$)=>{const q=`Script at URL "${$}" failed to load`,X=`Script at URL "${$}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ne=new Promise((ve,Ee)=>{const ye=ude(ve,Ee);n[A]=ye.resolve,Tl.ScriptLoader.loadScript($).then(()=>ye.start(X),()=>ye.reject(q))});return e[A]=ne,ne}},add:(A,$)=>{n[A]!==void 0&&(n[A]($),delete n[A]),e[A]=Promise.resolve($),o[A]=$},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),fde=()=>(()=>{let e={},n=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{n.push(a),e[a]=String(c)},key:a=>n[a],removeItem:a=>{n=n.filter(c=>c===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let aI;try{const e="__storage_test__";aI=window.localStorage,aI.setItem(e,e),aI.removeItem(e)}catch{aI=fde()}var mde=aI;const gde={geom:{Rect:cde},util:{Delay:eu,Tools:tn,VK:hn,URI:kd,EventDispatcher:kH,Observable:EH,I18n:jc,LocalStorage:mde,ImageUploader:Az},dom:{EventUtils:Gf,TreeWalker:ma,TextSeeker:tf,DOMUtils:Jr,ScriptLoader:Tl,RangeUtils:sb,Serializer:IL,StyleSheetLoader:Ym,ControlSelection:Hr,BookmarkManager:Gr,Selection:K4,Event:Gf.Event},html:{Styles:n2,Entities:vh,Node:Pa,Schema:Kc,DomParser:Hy,Writer:x3,Serializer:Uh},Env:zo,AddOnManager:dl,Annotator:KR,Formatter:tC,UndoManager:cM,EditorCommands:fG,WindowManager:jL,NotificationManager:eO,EditorObservable:pG,Shortcuts:wG,Editor:uB,FocusManager:yd,EditorManager:ix,DOM:Jr.DOM,ScriptLoader:Tl.ScriptLoader,PluginManager:T0,ThemeManager:Sb,ModelManager:_b,IconManager:Yw,Resource:dde,FakeClipboard:rde,trim:tn.trim,isArray:tn.isArray,is:tn.is,toArray:tn.toArray,makeMap:tn.makeMap,each:tn.each,map:tn.map,grep:tn.grep,inArray:tn.inArray,extend:tn.extend,walk:tn.walk,resolve:tn.resolve,explode:tn.explode,_addCacheSuffix:tn._addCacheSuffix},TG=tn.extend(ix,gde),hde=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(TG),hde(TG)})()}(SU)),SU.exports}var wCe=xCe();const CCe=oK(wCe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,s=(r,l,d)=>{var f;return!!d(r,l.prototype)||((f=r.constructor)===null||f===void 0?void 0:f.name)===l.name},i=r=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&s(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===r,u=r=>l=>typeof l===r,m=r=>l=>r===l,h=i("string"),x=i("object"),w=r=>((l,d)=>x(l)&&s(l,d,(f,b)=>t(f)===b))(r,Object),T=i("array"),D=m(null),I=u("boolean"),P=m(void 0),z=r=>r==null,K=r=>!z(r),W=u("function"),J=u("number"),oe=(r,l)=>{if(T(r)){for(let d=0,f=r.length;d<f;++d)if(!l(r[d]))return!1;return!0}return!1},U=()=>{},he=r=>()=>r(),ue=(r,l)=>(...d)=>r(l.apply(null,d)),Z=r=>()=>r,de=r=>r,re=(r,l)=>r===l;function Ve(r,...l){return(...d)=>{const f=l.concat(d);return r.apply(null,f)}}const Me=r=>l=>!r(l),Ye=r=>()=>{throw new Error(r)},it=r=>r(),Ae=Z(!1),ze=Z(!0);class R{constructor(l,d){this.tag=l,this.value=d}static some(l){return new R(!0,l)}static none(){return R.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?R.some(l(this.value)):R.none()}bind(l){return this.tag?l(this.value):R.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:R.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return K(l)?R.some(l):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const Fe=Array.prototype.slice,Ze=Array.prototype.indexOf,Ot=Array.prototype.push,Gt=(r,l)=>Ze.call(r,l),ut=(r,l)=>Gt(r,l)>-1,kn=(r,l)=>{for(let d=0,f=r.length;d<f;d++)if(l(r[d],d))return!0;return!1},Et=(r,l)=>{const d=[];for(let f=0;f<r;f++)d.push(l(f));return d},tt=(r,l)=>{const d=[];for(let f=0;f<r.length;f+=l){const b=Fe.call(r,f,f+l);d.push(b)}return d},Pe=(r,l)=>{const d=r.length,f=new Array(d);for(let b=0;b<d;b++){const v=r[b];f[b]=l(v,b)}return f},mt=(r,l)=>{for(let d=0,f=r.length;d<f;d++)l(r[d],d)},po=(r,l)=>{const d=[],f=[];for(let b=0,v=r.length;b<v;b++){const C=r[b];(l(C,b)?d:f).push(C)}return{pass:d,fail:f}},Ht=(r,l)=>{const d=[];for(let f=0,b=r.length;f<b;f++){const v=r[f];l(v,f)&&d.push(v)}return d},On=(r,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(r,(f,b)=>{d=l(d,f,b)}),d),nn=(r,l,d)=>(mt(r,(f,b)=>{d=l(d,f,b)}),d),Q=(r,l)=>((d,f,b)=>{for(let v=0,C=d.length;v<C;v++){const k=d[v];if(f(k,v))return R.some(k);if(b(k,v))break}return R.none()})(r,l,Ae),co=(r,l)=>{for(let d=0,f=r.length;d<f;d++)if(l(r[d],d))return R.some(d);return R.none()},Kt=r=>{const l=[];for(let d=0,f=r.length;d<f;++d){if(!T(r[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+r);Ot.apply(l,r[d])}return l},pn=(r,l)=>Kt(Pe(r,l)),je=(r,l)=>{for(let d=0,f=r.length;d<f;++d)if(l(r[d],d)!==!0)return!1;return!0},nt=r=>{const l=Fe.call(r,0);return l.reverse(),l},xe=(r,l)=>Ht(r,d=>!ut(l,d)),Te=(r,l)=>{const d={};for(let f=0,b=r.length;f<b;f++){const v=r[f];d[String(v)]=l(v,f)}return d},$e=r=>[r],be=(r,l)=>{const d=Fe.call(r,0);return d.sort(l),d},Ce=(r,l)=>l>=0&&l<r.length?R.some(r[l]):R.none(),Re=r=>Ce(r,0),qe=r=>Ce(r,r.length-1),ht=W(Array.from)?Array.from:r=>Fe.call(r),sn=(r,l)=>{for(let d=0;d<r.length;d++){const f=l(r[d],d);if(f.isSome())return f}return R.none()},Ut=Object.keys,bn=Object.hasOwnProperty,qn=(r,l)=>{const d=Ut(r);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(r[v],v)}},eo=(r,l)=>Fo(r,(d,f)=>({k:f,v:l(d,f)})),Fo=(r,l)=>{const d={};return qn(r,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},Do=r=>(l,d)=>{r[d]=l},Zr=(r,l,d,f)=>{qn(r,(b,v)=>{(l(b,v)?d:f)(b,v)})},cr=(r,l)=>{const d={};return Zr(r,l,Do(d),U),d},ti=(r,l)=>{const d=[];return qn(r,(f,b)=>{d.push(l(f,b))}),d},xr=(r,l)=>{const d=Ut(r);for(let f=0,b=d.length;f<b;f++){const v=d[f],C=r[v];if(l(C,v,r))return R.some(C)}return R.none()},ji=r=>ti(r,de),En=(r,l)=>uo(r,l)?R.from(r[l]):R.none(),uo=(r,l)=>bn.call(r,l),Oo=(r,l)=>uo(r,l)&&r[l]!==void 0&&r[l]!==null,ci=(r,l,d=re)=>r.exists(f=>d(f,l)),tl=r=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<r.length;f++)r[f].each(d);return l},Xt=(r,l,d)=>r.isSome()&&l.isSome()?R.some(d(r.getOrDie(),l.getOrDie())):R.none(),pi=(r,l)=>r!=null?R.some(l(r)):R.none(),ur=(r,l)=>r?R.some(l):R.none(),Yl=(r,l,d)=>l===""||r.length>=l.length&&r.substr(d,d+l.length)===l,Wr=(r,l)=>Dm(r,l)?((d,f)=>d.substring(f))(r,l.length):r,ni=(r,l,d=0,f)=>{const b=r.indexOf(l,d);return b!==-1&&(!!P(f)||b+l.length<=f)},Dm=(r,l)=>Yl(r,l,0),Gu=(r,l)=>Yl(r,l,r.length-l.length),Rc=(Df=/^\s+|\s+$/g,r=>r.replace(Df,"")),xl=r=>r.length>0,qu=r=>!xl(r),Nr=r=>r.style!==void 0&&W(r.style.getPropertyValue),fo=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},Xl=(r,l)=>{const d=document.createElement("div");if(d.innerHTML=r,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,r),new Error(f)}return fo(d.childNodes[0])},Di=(r,l)=>{const d=document.createElement(r);return fo(d)},Yu=(r,l)=>{const d=document.createTextNode(r);return fo(d)},un=fo,Xu=typeof window<"u"?window:Function("return this;")(),Rm=(r,l)=>((d,f)=>{let b=f??Xu;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(r.split("."),l),ps=Object.getPrototypeOf,Nm=r=>{const l=Rm("ownerDocument.defaultView",r);return x(r)&&((d=>((f,b)=>{const v=((C,k)=>Rm(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(r)||/^HTML\w*Element$/.test(ps(r).constructor.name))},nl=r=>r.dom.nodeName.toLowerCase(),zl=r=>l=>(d=>d.dom.nodeType)(l)===r,wl=r=>ls(r)&&Nm(r.dom),ls=zl(1),ka=zl(3),Hl=zl(9),Pm=zl(11),au=r=>l=>ls(l)&&nl(l)===r,lu=(r,l)=>{const d=r.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},Ef=r=>r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11||r.childElementCount===0,$d=(r,l)=>{const d=l===void 0?document:l.dom;return Ef(d)?R.none():R.from(d.querySelector(r)).map(un)},dr=(r,l)=>r.dom===l.dom,Ms=(r,l)=>{const d=r.dom,f=l.dom;return d!==f&&d.contains(f)},ui=r=>un(r.dom.ownerDocument),Lm=r=>Hl(r)?r:ui(r),ol=r=>un(Lm(r).dom.documentElement),cu=r=>un(Lm(r).dom.defaultView),Ea=r=>R.from(r.dom.parentNode).map(un),Aa=r=>R.from(r.dom.parentElement).map(un),uu=r=>R.from(r.dom.offsetParent).map(un),Mr=r=>Pe(r.dom.childNodes,un),cs=(r,l)=>{const d=r.dom.childNodes;return R.from(d[l]).map(un)},Ie=r=>cs(r,0),at=(r,l)=>({element:r,offset:l}),He=(r,l)=>{const d=Mr(r);return d.length>0&&l<d.length?at(d[l],0):at(r,l)},yt=r=>Pm(r)&&K(r.dom.host),pt=r=>un(r.dom.getRootNode()),rt=r=>yt(r)?r:un(Lm(r).dom.body),qt=r=>{const l=pt(r);return yt(l)?R.some(l):R.none()},an=r=>un(r.dom.host),mn=r=>{const l=ka(r)?r.dom.parentNode:r.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return qt(un(l)).fold(()=>d.body.contains(l),(f=mn,b=an,v=>f(b(v))));var f,b},Cn=()=>dn(un(document)),dn=r=>{const l=r.dom.body;if(l==null)throw new Error("Body is not available yet");return un(l)},_o=(r,l,d)=>{if(!(h(d)||I(d)||J(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(l,d+"")},cn=(r,l,d)=>{_o(r.dom,l,d)},Tr=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{_o(d,b,f)})},Ko=(r,l)=>{const d=r.dom.getAttribute(l);return d===null?void 0:d},Qo=(r,l)=>R.from(Ko(r,l)),Bs=(r,l)=>{const d=r.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Ro=(r,l)=>{r.dom.removeAttribute(l)},Jl=(r,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",r),new Error("CSS value must be a string: "+d);Nr(r)&&r.style.setProperty(l,d)},Ta=(r,l)=>{Nr(r)&&r.style.removeProperty(l)},bo=(r,l,d)=>{const f=r.dom;Jl(f,l,d)},rl=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{Jl(d,b,f)})},Cl=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{f.fold(()=>{Ta(d,b)},v=>{Jl(d,b,v)})})},Ts=(r,l)=>{const d=r.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||mn(r)?f:Af(d,l)},Af=(r,l)=>Nr(r)?r.style.getPropertyValue(l):"",oi=(r,l)=>{const d=r.dom,f=Af(d,l);return R.from(f).filter(b=>b.length>0)},Mm=r=>{const l={},d=r.dom;if(Nr(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},Ql=(r,l,d)=>{const f=Di(r);return bo(f,l,d),oi(f,l).isSome()},kr=(r,l)=>{const d=r.dom;Ta(d,l),ci(Qo(r,"style").map(Rc),"")&&Ro(r,"style")},Vd=r=>r.dom.offsetWidth,nh=(r,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const C=Ts(b,r);return parseFloat(C)||0}return v},f=(b,v)=>nn(v,(C,k)=>{const E=Ts(b,k),N=E===void 0?0:parseInt(E,10);return isNaN(N)?C:C+N},0);return{set:(b,v)=>{if(!J(v)&&!v.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+v);const C=b.dom;Nr(C)&&(C.style[r]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},wp=nh("height",r=>{const l=r.dom;return mn(r)?l.getBoundingClientRect().height:l.offsetHeight}),Os=r=>wp.get(r),Nc=r=>wp.getOuter(r),_l=(r,l)=>({left:r,top:l,translate:(d,f)=>_l(r+d,l+f)}),ts=_l,Bm=(r,l)=>r!==void 0?r:l!==void 0?l:0,Ul=r=>{const l=r.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===r.dom)return ts(d.offsetLeft,d.offsetTop);const v=Bm(f==null?void 0:f.pageYOffset,b.scrollTop),C=Bm(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Bm(b.clientTop,d.clientTop),E=Bm(b.clientLeft,d.clientLeft);return ia(r).translate(C-E,v-k)},ia=r=>{const l=r.dom,d=l.ownerDocument.body;return d===l?ts(d.offsetLeft,d.offsetTop):mn(r)?(f=>{const b=f.getBoundingClientRect();return ts(b.left,b.top)})(l):ts(0,0)},oh=nh("width",r=>r.dom.offsetWidth),Ri=r=>oh.get(r),sl=r=>oh.getOuter(r),aa=r=>{let l,d=!1;return(...f)=>(d||(d=!0,l=r.apply(null,f)),l)},Wl=()=>Cp(0,0),Cp=(r,l)=>({major:r,minor:l}),zo={nu:Cp,detect:(r,l)=>{const d=String(l).toLowerCase();return r.length===0?Wl():((f,b)=>{const v=((k,E)=>{for(let N=0;N<k.length;N++){const F=k[N];if(F.test(E))return F}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return Cp(C(1),C(2))})(r,d)},unknown:Wl},du=(r,l)=>{const d=String(l).toLowerCase();return Q(r,f=>f.search(d))},zd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ju=r=>l=>ni(l,r),Yb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>ni(r,"edge/")&&ni(r,"chrome")&&ni(r,"safari")&&ni(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,zd],search:r=>ni(r,"chrome")&&!ni(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>ni(r,"msie")||ni(r,"trident")},{name:"Opera",versionRegexes:[zd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ju("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ju("firefox")},{name:"Safari",versionRegexes:[zd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(ni(r,"safari")||ni(r,"mobile/"))&&ni(r,"applewebkit")}],Dx=[{name:"Windows",search:Ju("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>ni(r,"iphone")||ni(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ju("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ju("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ju("linux"),versionRegexes:[]},{name:"Solaris",search:Ju("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ju("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ju("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],h1={browsers:Z(Yb),oses:Z(Dx)},p1="Edge",GC="Chromium",_p="Opera",b1="Firefox",tn="Safari",Tf=r=>{const l=r.current,d=r.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(p1),isChromium:f(GC),isIE:f("IE"),isOpera:f(_p),isFirefox:f(b1),isSafari:f(tn)}},Of=()=>Tf({current:void 0,version:zo.unknown()}),v1=Tf,la="Windows",If="Android",rh="Linux",Rx="macOS",Nx="Solaris",Xb="FreeBSD",Px="ChromeOS",y1=r=>{const l=r.current,d=r.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(la),isiOS:f("iOS"),isAndroid:f(If),isMacOS:f(Rx),isLinux:f(rh),isSolaris:f(Nx),isFreeBSD:f(Xb),isChromeOS:f(Px)}},Lx=()=>y1({current:void 0,version:zo.unknown()}),sh=y1,x1=r=>window.matchMedia(r).matches;var Df;let Rf=aa(()=>((r,l,d)=>{const f=h1.browsers(),b=h1.oses(),v=l.bind(E=>((N,F)=>sn(F.brands,M=>{const V=M.brand.toLowerCase();return Q(N,Y=>{var te;return V===((te=Y.brand)===null||te===void 0?void 0:te.toLowerCase())}).map(Y=>({current:Y.name,version:zo.nu(parseInt(M.version,10),0)}))}))(f,E)).orThunk(()=>((E,N)=>du(E,N).map(F=>{const M=zo.detect(F.versionRegexes,N);return{current:F.name,version:M}}))(f,r)).fold(Of,v1),C=((E,N)=>du(E,N).map(F=>{const M=zo.detect(F.versionRegexes,N);return{current:F.name,version:M}}))(b,r).fold(Lx,sh),k=((E,N,F,M)=>{const V=E.isiOS()&&/ipad/i.test(F)===!0,Y=E.isiOS()&&!V,te=E.isiOS()||E.isAndroid(),fe=te||M("(pointer:coarse)"),pe=V||!Y&&te&&M("(min-device-width:768px)"),Se=Y||te&&!pe,ge=N.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,me=!Se&&!pe&&!ge;return{isiPad:Z(V),isiPhone:Z(Y),isTablet:Z(pe),isPhone:Z(Se),isTouch:Z(fe),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:Z(ge),isDesktop:Z(me)}})(C,v,r,d);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),x1));const ca=()=>Rf(),Sl=r=>{const l=un((v=>{if(K(v.target)){const C=un(v.target);if(ls(C)&&(k=>K(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Re(k)}}return R.from(v.target)})(r).getOr(r.target)),d=()=>r.stopPropagation(),f=()=>r.preventDefault(),b=ue(f,d);return((v,C,k,E,N,F,M)=>({target:v,x:C,y:k,stop:E,prevent:N,kill:F,raw:M}))(l,r.clientX,r.clientY,d,f,b,r)},ih=(r,l,d,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(Sl(E))})(d,f);return r.dom.addEventListener(l,v,b),{unbind:Ve(er,r,l,v,b)}},er=(r,l,d,f)=>{r.dom.removeEventListener(l,d,f)},Hd=(r,l)=>{Ea(r).each(d=>{d.dom.insertBefore(l.dom,r.dom)})},ah=(r,l)=>{(f=>R.from(f.dom.nextSibling).map(un))(r).fold(()=>{Ea(r).each(f=>{Ba(f,l)})},f=>{Hd(f,l)})},lh=(r,l)=>{Ie(r).fold(()=>{Ba(r,l)},d=>{r.dom.insertBefore(l.dom,d.dom)})},Ba=(r,l)=>{r.dom.appendChild(l.dom)},Hs=(r,l)=>{mt(l,d=>{Ba(r,d)})},us=r=>{r.dom.textContent="",mt(Mr(r),l=>{Zi(l)})},Zi=r=>{const l=r.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},ns=r=>{const l=r!==void 0?r.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return ts(d,f)},Nf=(r,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(r,l)},Fm=(r,l,d,f)=>({x:r,y:l,width:d,height:f,right:r+d,bottom:l+f}),_i=r=>{const l=r===void 0?window:r,d=l.document,f=ns(un(d));return(b=>{const v=b===void 0?window:b;return ca().browser.isFirefox()?R.none():R.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return Fm(f.left,f.top,v,C)},b=>Fm(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Fa=()=>un(document),Oa=(r,l)=>r.view(l).fold(Z([]),d=>{const f=r.owner(d),b=Oa(r,f);return[d].concat(b)});var fu=Object.freeze({__proto__:null,view:r=>{var l;return(r.dom===document?R.none():R.from((l=r.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(un)},owner:r=>ui(r)});const Ud=r=>{const l=Fa(),d=ns(l);return((b,v)=>{const C=v.owner(b),k=Oa(v,C);return R.some(k)})(r,fu).fold(Ve(Ul,r),b=>{const v=ia(r),C=On(b,(k,E)=>{const N=ia(E);return{left:k.left+N.left,top:k.top+N.top}},{left:0,top:0});return ts(C.left+v.left+d.left,C.top+v.top+d.top)})},Lo=(r,l,d,f)=>({x:r,y:l,width:d,height:f,right:r+d,bottom:l+f}),di=r=>{const l=Ul(r),d=sl(r),f=Nc(r);return Lo(l.left,l.top,d,f)},kl=r=>{const l=Ud(r),d=sl(r),f=Nc(r);return Lo(l.left,l.top,d,f)},Wd=(r,l)=>{const d=Math.max(r.x,l.x),f=Math.max(r.y,l.y),b=Math.min(r.right,l.right),v=Math.min(r.bottom,l.bottom);return Lo(d,f,b-d,v-f)},Gi=()=>_i(window),Hn=r=>{let l=r;return{get:()=>l,set:d=>{l=d}}},Pc=r=>{const l=Hn(R.none()),d=()=>l.get().each(r);return{clear:()=>{d(),l.set(R.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(R.some(f))}}},Lc=()=>Pc(r=>r.unbind()),Or=()=>{const r=Pc(U);return{...r,on:l=>r.get().each(l)}};var Sp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Jb=r=>{const l=v=>v(r),d=Z(r),f=()=>b,b={tag:!0,inner:r,fold:(v,C)=>C(r),isValue:ze,isError:Ae,map:v=>Ho.value(v(r)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(r)},toOptional:()=>R.some(r)};return b},Kd=r=>{const l=()=>d,d={tag:!1,inner:r,fold:(f,b)=>f(r),isValue:Ae,isError:ze,map:l,mapError:f=>Ho.error(f(r)),bind:l,exists:Ae,forall:ze,getOr:de,or:de,getOrThunk:it,orThunk:it,getOrDie:Ye(String(r)),each:U,toOptional:R.none};return d},Ho={value:Jb,error:Kd,fromOption:(r,l)=>r.fold(()=>Kd(l),Jb)};var $a;(function(r){r[r.Error=0]="Error",r[r.Value=1]="Value"})($a||($a={}));const kp=(r,l,d)=>r.stype===$a.Error?l(r.serror):d(r.svalue),jd=r=>({stype:$a.Value,svalue:r}),Qb=r=>({stype:$a.Error,serror:r}),mu=jd,il=Qb,gu=kp,Pf=(r,l,d,f)=>({tag:"field",key:r,newKey:l,presence:d,prop:f}),Ke=(r,l,d)=>{switch(r.tag){case"field":return l(r.key,r.newKey,r.presence,r.prop);case"custom":return d(r.newKey,r.instantiator)}},$m=r=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)uo(b,v)&&(d[v]=r(d[v],b[v]))}return d},Br=$m((r,l)=>w(r)&&w(l)?Br(r,l):l),ev=$m((r,l)=>l),ch=r=>({tag:"defaultedThunk",process:r}),hu=r=>ch(Z(r)),tr=r=>({tag:"mergeWithThunk",process:r}),ua=r=>{const l=(f=>{const b=[],v=[];return mt(f,C=>{kp(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(r);return l.errors.length>0?(d=l.errors,ue(il,Kt)(d)):mu(l.values);var d},Qu=r=>x(r)&&Ut(r).length>100?" removed due to size":JSON.stringify(r,null,2),fc=(r,l)=>il([{path:r,getErrorInfo:l}]),ed=r=>({extract:(l,d)=>((f,b)=>f.stype===$a.Error?b(f.serror):f)(r(d),f=>((b,v)=>fc(b,Z(v)))(l,f)),toString:Z("val")}),td=ed(mu),da=(r,l,d,f)=>f(En(r,l).getOrThunk(()=>d(r))),Lf=(r,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),C=k=>k.fold(()=>mu(R.none()),E=>((N,F)=>N.stype===$a.Value?{stype:$a.Value,svalue:F(N.svalue)}:N)(b.extract(l.concat([f]),E),R.some));switch(r.tag){case"required":return((k,E,N,F)=>En(E,N).fold(()=>((M,V,Y)=>fc(M,()=>'Could not find valid *required* value for "'+V+'" in '+Qu(Y)))(k,N,E),F))(l,d,f,v);case"defaultedThunk":return da(d,f,r.process,v);case"option":return((k,E,N)=>N(En(k,E)))(d,f,C);case"defaultedOptionThunk":return((k,E,N,F)=>F(En(k,E).map(M=>M===!0?N(k):M)))(d,f,r.process,C);case"mergeWithThunk":return da(d,f,Z({}),k=>{const E=Br(r.process(d),k);return v(E)})}},Vm=r=>({extract:(l,d)=>r().extract(l,d),toString:()=>r().toString()}),tv=r=>Ut(cr(r,K)),Si=r=>{const l=Gn(r),d=On(r,(f,b)=>Ke(b,v=>Br(f,{[v]:!0}),Z(f)),{});return{extract:(f,b)=>{const v=I(b)?[]:tv(b),C=Ht(v,k=>!Oo(d,k));return C.length===0?l.extract(f,b):((k,E)=>fc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:l.toString}},Gn=r=>({extract:(l,d)=>((f,b,v)=>{const C={},k=[];for(const E of v)Ke(E,(N,F,M,V)=>{const Y=Lf(M,f,b,N,V);gu(Y,te=>{k.push(...te)},te=>{C[F]=te})},(N,F)=>{C[N]=F(b)});return k.length>0?il(k):mu(C)})(l,d,r),toString:()=>`obj{
`+Pe(r,d=>Ke(d,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),nd=r=>({extract:(l,d)=>{const f=Pe(d,(b,v)=>r.extract(l.concat(["["+v+"]"]),b));return ua(f)},toString:()=>"array("+r.toString()+")"}),zm=(r,l)=>{const d=l!==void 0?l:de;return{extract:(f,b)=>{const v=[];for(const C of r){const k=C.extract(f,b);if(k.stype===$a.Value)return{stype:$a.Value,svalue:d(k.svalue)};v.push(k)}return ua(v)},toString:()=>"oneOf("+Pe(r,f=>f.toString()).join(", ")+")"}},fa=(r,l)=>({extract:(d,f)=>{const b=Ut(f),v=((C,k)=>nd(ed(r)).extract(C,k))(d,b);return((C,k)=>C.stype===$a.Value?k(C.svalue):C)(v,C=>{const k=Pe(C,E=>Pf(E,E,{tag:"required",process:{}},l));return Gn(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),od=ue(nd,Gn),Kl=Z(td),rd=(r,l)=>ed(d=>{const f=typeof d;return r(d)?mu(d):il(`Expected type: ${l} but got: ${f}`)}),Zd=rd(J,"number"),ki=rd(h,"string"),mc=rd(I,"boolean"),pu=rd(W,"function"),Hm=r=>{if(Object(r)!==r)return!0;switch({}.toString.call(r).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(r).every(l=>Hm(r[l]));default:return!1}},w1=ed(r=>Hm(r)?mu(r):il("Expected value to be acceptable for sending via postMessage")),sd=(r,l)=>({extract:(d,f)=>En(f,r).fold(()=>((b,v)=>fc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,r),b=>((v,C,k,E)=>En(k,E).fold(()=>((N,F,M)=>fc(N,()=>'The chosen schema: "'+M+'" did not exist in branches: '+Qu(F)))(v,k,E),N=>N.extract(v.concat(["branch: "+E]),C)))(d,f,l,b)),toString:()=>"chooseOn("+r+"). Possible values: "+Ut(l)}),Mf=r=>ed(l=>r(l).fold(il,mu)),nv=(r,l)=>fa(d=>r(d).fold(Qb,jd),l),_s=(r,l,d)=>{return f=((b,v,C)=>((k,E)=>k.stype===$a.Error?{stype:$a.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(r,l,d),kp(f,Ho.error,Ho.value);var f},Va=r=>r.fold(l=>{throw new Error(al(l))},de),Ia=(r,l,d)=>Va(_s(r,l,d)),al=r=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:Z("... (only showing first ten failures)")}]):l;return Pe(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(r.errors).join(`
`)+`

Input object: `+Qu(r.input),bi=(r,l)=>sd(r,eo(l,Gn)),Ep=(r,l)=>((d,f)=>{const b=aa(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),fi=Pf,qi=(r,l)=>({tag:"custom",newKey:r,instantiator:l}),bu=r=>Mf(l=>ut(r,l)?Ho.value(l):Ho.error(`Unsupported value: "${l}", choose one of "${r.join(", ")}".`)),Mt=r=>fi(r,r,{tag:"required",process:{}},Kl()),Yi=(r,l)=>fi(r,r,{tag:"required",process:{}},l),Ap=r=>Yi(r,Zd),Ss=r=>Yi(r,ki),id=(r,l)=>fi(r,r,{tag:"required",process:{}},bu(l)),za=r=>Yi(r,pu),Mc=(r,l)=>fi(r,r,{tag:"required",process:{}},Gn(l)),Um=(r,l)=>fi(r,r,{tag:"required",process:{}},od(l)),ll=(r,l)=>fi(r,r,{tag:"required",process:{}},nd(l)),Yo=r=>fi(r,r,{tag:"option",process:{}},Kl()),Us=(r,l)=>fi(r,r,{tag:"option",process:{}},l),Bf=r=>Us(r,Zd),Fs=r=>Us(r,ki),uh=(r,l)=>Us(r,bu(l)),vu=r=>Us(r,pu),C1=(r,l)=>Us(r,nd(l)),Is=(r,l)=>Us(r,Gn(l)),dt=(r,l)=>fi(r,r,hu(l),Kl()),Ha=(r,l,d)=>fi(r,r,hu(l),d),Ws=(r,l)=>Ha(r,l,Zd),ec=(r,l)=>Ha(r,l,ki),Bc=(r,l,d)=>Ha(r,l,bu(d)),ri=(r,l)=>Ha(r,l,mc),os=(r,l)=>Ha(r,l,pu),Pr=(r,l,d)=>Ha(r,l,nd(d)),Ua=(r,l,d)=>Ha(r,l,Gn(d)),tc=r=>{if(!T(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const l=[],d={};return mt(r,(f,b)=>{const v=Ut(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(d[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(k))throw new Error("case arguments must be an array");l.push(C),d[C]=(...E)=>{const N=E.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...F)=>{if(F.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+F.length);return F[b].apply(null,E)},match:F=>{const M=Ut(F);if(l.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+M.join(","));if(!je(l,V=>ut(M,V)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+l.join(", "));return F[C].apply(null,E)},log:F=>{console.log(F,{constructors:l,constructor:C,params:E})}}}}),d};tc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const yu=(r,l)=>((d,f)=>({[d]:f}))(r,l),Gd=r=>(l=>{const d={};return mt(l,f=>{d[f.key]=f.value}),d})(r),Wm=r=>W(r)?r:Ae,dh=(r,l,d)=>{let f=r.dom;const b=Wm(d);for(;f.parentNode;){f=f.parentNode;const v=un(f),C=l(v);if(C.isSome())return C;if(b(v))break}return R.none()},fh=(r,l,d)=>{const f=l(r),b=Wm(d);return f.orThunk(()=>b(r)?R.none():dh(r,l,b))},ov=(r,l)=>dr(r.element,l.event.target),rv={can:ze,abort:Ae,run:U},ad=r=>{if(!Oo(r,"can")&&!Oo(r,"abort")&&!Oo(r,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(r,null,2)+" does not have can, abort, or run!");return{...rv,...r}},L=Z,G=L("touchstart"),le=L("touchmove"),Le=L("touchend"),Qe=L("touchcancel"),Bt=L("mousedown"),Yn=L("mousemove"),So=L("mouseout"),mo=L("mouseup"),Pn=L("mouseover"),wr=L("focusin"),Ks=L("focusout"),ks=L("keydown"),Fc=L("keyup"),Km=L("input"),jm=L("change"),vi=L("click"),qC=L("transitioncancel"),sv=L("transitionend"),_1=L("transitionstart"),ma=L("selectstart"),Ds=r=>Z("alloy."+r),Ni={tap:Ds("tap")},ld=Ds("focus"),Tp=Ds("blur.post"),Mx=Ds("paste.post"),gc=Ds("receive"),El=Ds("execute"),iv=Ds("focus.item"),Ff=Ni.tap,zE=Ds("longpress"),av=Ds("sandbox.close"),qd=Ds("typeahead.cancel"),$f=Ds("system.init"),Nn=Ds("system.touchmove"),xu=Ds("system.touchend"),lv=Ds("system.scroll"),Vf=Ds("system.resize"),ga=Ds("system.attached"),$c=Ds("system.detached"),mh=Ds("system.dismissRequested"),zf=Ds("system.repositionRequested"),S1=Ds("focusmanager.shifted"),wu=Ds("slotcontainer.visibility"),Op=Ds("system.external.element.scroll"),Ip=Ds("change.tab"),jt=Ds("dismiss.tab"),Bx=Ds("highlight"),Hf=Ds("dehighlight"),No=(r,l)=>{Vc(r,r.element,l,{})},Bn=(r,l,d)=>{Vc(r,r.element,l,d)},Uf=r=>{No(r,El())},bs=(r,l,d)=>{Vc(r,l,d,{})},Vc=(r,l,d,f)=>{const b={target:l,...f};r.getSystem().triggerEvent(d,l,b)},zc=(r,l,d,f)=>{r.getSystem().triggerEvent(d,l,f.event)},xo=r=>Gd(r),Dp=(r,l)=>({key:r,value:ad({abort:l})}),YC=r=>({key:r,value:ad({run:(l,d)=>{d.event.prevent()}})}),It=(r,l)=>({key:r,value:ad({run:l})}),Fx=(r,l,d)=>({key:r,value:ad({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),Rp=r=>l=>({key:r,value:ad({run:(d,f)=>{ov(d,f)&&l(d,f)}})}),Np=(r,l,d)=>((f,b)=>It(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{zc(k,k.element,f,C)})}))(r,l.partUids[d]),gh=(r,l)=>It(r,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>fh(b.target,C=>d.getSystem().getByDom(C).toOptional(),Ae).getOr(d));l(d,v,f)}),Zm=r=>It(r,(l,d)=>{d.cut()}),XC=r=>It(r,(l,d)=>{d.stop()}),Wf=(r,l)=>Rp(r)(l),as=Rp(ga()),cd=Rp($c()),k1=Rp($f()),Cu=(Xm=El(),r=>It(Xm,r)),Gm=r=>Pe(r,l=>Gu(l,"/*")?l.substring(0,l.length-2):l),hc=(r,l)=>{const d=r.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:l,parameters:Gm(v)}),r},js=r=>({classes:P(r.classes)?[]:r.classes,attributes:P(r.attributes)?{}:r.attributes,styles:P(r.styles)?{}:r.styles}),cv=(r,l,d)=>k1((f,b)=>{d(f,r,l)}),Pi=r=>({key:r,value:void 0}),E1=(r,l,d,f,b,v,C)=>{const k=F=>Oo(F,d)?F[d]():R.none(),E=eo(b,(F,M)=>((V,Y,te)=>((fe,pe,Se)=>{const ge=Se.toString(),me=ge.indexOf(")")+1,we=ge.indexOf("("),ke=ge.substring(we+1,me-1).split(/,\s*/);return fe.toFunctionAnnotation=()=>({name:pe,parameters:Gm(ke.slice(0,1).concat(ke.slice(3)))}),fe})((fe,...pe)=>{const Se=[fe].concat(pe);return fe.config({name:Z(V)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+V+". Using API: "+te)},ge=>{const me=Array.prototype.slice.call(Se,1);return Y.apply(void 0,[fe,ge.config,ge.state].concat(me))})},te,Y))(d,F,M)),N={...eo(v,(F,M)=>hc(F,M)),...E,revoke:Ve(Pi,d),config:F=>{const M=Ia(d+"-config",r,F);return{key:d,value:{config:M,me:N,configAsRaw:aa(()=>Ia(d+"-config",r,F)),initialConfig:F,state:C}}},schema:Z(l),exhibit:(F,M)=>Xt(k(F),En(f,"exhibit"),(V,Y)=>Y(M,V.config,V.state)).getOrThunk(()=>js({})),name:Z(d),handlers:F=>k(F).map(M=>En(f,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return N},Hc={init:()=>Li({readState:Z("No State required")})},Li=r=>r,Yt=r=>Gd(r),qm=Si([Mt("fields"),Mt("name"),dt("active",{}),dt("apis",{}),dt("state",Hc),dt("extra",{})]),Mi=r=>{const l=Ia("Creating behaviour: "+r.name,qm,r);return((d,f,b,v,C,k)=>{const E=Si(d),N=Is(f,[(F=d,Us("config",Si(F)))]);var F;return E1(E,N,f,b,v,C,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},JC=Si([Mt("branchKey"),Mt("branches"),Mt("name"),dt("active",{}),dt("apis",{}),dt("state",Hc),dt("extra",{})]),QC=r=>{const l=Ia("Creating behaviour: "+r.name,JC,r);return((d,f,b,v,C,k)=>{const E=d,N=Is(f,[Us("config",d)]);return E1(E,N,f,b,v,C,k)})(bi(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},HE=Z(void 0),Yd=(r,l)=>{const d=Ko(r,l);return d===void 0||d===""?[]:d.split(" ")},hh=r=>r.dom.classList!==void 0,uv=r=>Yd(r,"class"),A1=(r,l)=>((d,f,b)=>{const v=Yd(d,f).concat([b]);return cn(d,f,v.join(" ")),!0})(r,"class",l),$x=(r,l)=>((d,f,b)=>{const v=Ht(Yd(d,f),C=>C!==b);return v.length>0?cn(d,f,v.join(" ")):Ro(d,f),!1})(r,"class",l),Es=(r,l)=>{hh(r)?r.dom.classList.add(l):A1(r,l)},dv=r=>{(hh(r)?r.dom.classList:uv(r)).length===0&&Ro(r,"class")},Rs=(r,l)=>{hh(r)?r.dom.classList.remove(l):$x(r,l),dv(r)},cl=(r,l)=>hh(r)&&r.dom.classList.contains(l),Zs=(r,l)=>{mt(l,d=>{Es(r,d)})},pc=(r,l)=>{mt(l,d=>{Rs(r,d)})},Xd=r=>hh(r)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(r):uv(r),Xi=(r,l,d,f,b)=>{const v=C=>C+"px";return{position:r,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},fv=(r,l)=>{Cl(r,(d=>({...d,position:R.some(d.position)}))(l))},Pp=r=>(ci(oi(r,"position"),"fixed")?R.none():uu(r)).orThunk(()=>{const l=Di("span");return Ea(r).bind(d=>{Ba(d,l);const f=uu(l);return Zi(l),f})}),Kf=r=>Pp(r).map(Ul).getOrThunk(()=>ts(0,0)),e_=(r,l)=>{const d=r.element;Es(d,l.transitionClass),Rs(d,l.fadeOutClass),Es(d,l.fadeInClass),l.onShow(r)},Lp=(r,l)=>{const d=r.element;Es(d,l.transitionClass),Rs(d,l.fadeInClass),Es(d,l.fadeOutClass),l.onHide(r)},Vx=(r,l)=>r.y>=l.y,T1=(r,l)=>r.bottom<=l.bottom,mv=(r,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-r.y}),O1=(r,l,d)=>({location:"bottom",leftX:l,bottomY:r.bottom-d.bounds.bottom}),zx=r=>r.box.x-r.win.x,Ym=(r,l,d)=>d.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(Z(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return ts(v.bounds.x,k)})(f,l);return{box:Lo(b.left,b.top,Ri(r),Os(r)),location:f.location}}),UE=(r,l,d,f,b)=>{const v=((k,E)=>{const N=E.optScrollEnv.fold(Z(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return ts(k.x,N)})(l,d),C=Lo(v.left,v.top,l.width,l.height);f.setInitialPos({style:Mm(r),position:Ts(r,"position")||"static",bounds:C,location:b.location})},I1=(r,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return R.some({morph:"static"});case"absolute":const v=Pp(r).getOr(Cn()),C=di(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return R.some({morph:"absolute",positionCss:Xi("absolute",En(f.style,"left").map(E=>l.x-C.x),En(f.style,"top").map(E=>l.y-C.y+k),En(f.style,"right").map(E=>C.right-l.right),En(f.style,"bottom").map(E=>C.bottom-l.bottom))});default:return R.none()}}),D1=r=>{switch(r.location){case"top":return R.some({morph:"fixed",positionCss:Xi("fixed",R.some(r.leftX),R.some(r.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Xi("fixed",R.some(r.leftX),R.none(),R.none(),R.some(r.bottomY))});default:return R.none()}},Hx=(r,l,d)=>{const f=r.element;return ci(oi(f,"position"),"fixed")?((b,v,C)=>((k,E,N)=>Ym(k,E,N).filter(({box:F})=>((M,V,Y)=>je(M,te=>{switch(te){case"bottom":return T1(V,Y.bounds);case"top":return Vx(V,Y.bounds)}}))(N.getModes(),F,E)).bind(({box:F})=>I1(k,F,N)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>Ym(b,v,C)).bind(({box:k,location:E})=>{const N=Gi(),F=zx({win:N,box:k}),M=E==="top"?mv(N,F,v):O1(N,F,v);return D1(M)})))(f,l,d):((b,v,C)=>{const k=di(b),E=Gi(),N=((F,M,V)=>{const Y=M.win,te=M.box,fe=zx(M);return sn(F,pe=>{switch(pe){case"bottom":return T1(te,V.bounds)?R.none():R.some(O1(Y,fe,V));case"top":return Vx(te,V.bounds)?R.none():R.some(mv(Y,fe,V));default:return R.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return N.location==="top"||N.location==="bottom"?(UE(b,k,v,C,N),D1(N)):R.none()})(f,l,d)},Ux=(r,l,d)=>{d.setDocked(!1),mt(["left","right","top","bottom","position"],f=>kr(r.element,f)),l.onUndocked(r)},gv=(r,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),fv(r.element,f),(b?l.onDocked:l.onUndocked)(r)},Wx=(r,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(r).each(C=>{const k=((E,N)=>E.y<N.bottom&&E.bottom>N.y)(C,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(Zs(r.element,[v.fadeOutClass]),v.onHide(r)):(k?e_:Lp)(r,v))})})},Kx=(r,l,d,f,b)=>{Wx(r,l,d,f,!0),gv(r,l,d,b.positionCss)},hv=(r,l,d)=>{r.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);Wx(f,b,v,C),Hx(f,C,v).each(k=>{((E,N,F,M,V)=>{switch(V.morph){case"static":return Ux(E,N,F);case"absolute":return gv(E,N,F,V.positionCss);case"fixed":Kx(E,N,F,M,V)}})(f,b,v,C,k)})})(r,l,d)},Mp=(r,l,d)=>{d.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,N,F)=>{const M=E.element;return Ym(M,N,F).bind(({box:V})=>I1(M,V,F))})(f,k,v).each(E=>{switch(E.morph){case"static":Ux(f,b,v);break;case"absolute":gv(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{pc(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),hv(f,b,v)})(r,l,d)},jx=r=>(l,d,f)=>{const b=d.lazyViewport(l);((v,C,k,E)=>{const N=di(v),F=Gi(),M=E(F,zx({win:F,box:N}),C);return M.location==="bottom"||M.location==="top"?(((V,Y,te,fe,pe)=>{fe.getInitialPos().fold(()=>UE(V,Y,te,fe,pe),()=>U)})(v,N,C,k,M),D1(M)):R.none()})(l.element,b,f,r).each(v=>{Kx(l,d,f,b,v)})},pv=jx(mv),bv=jx(O1);var Xm,Bp=Object.freeze({__proto__:null,refresh:hv,reset:Mp,isDocked:(r,l,d)=>d.isDocked(),getModes:(r,l,d)=>d.getModes(),setModes:(r,l,d,f)=>d.setModes(f),forceDockToTop:pv,forceDockToBottom:bv}),Zx=Object.freeze({__proto__:null,events:(r,l)=>xo([Wf(sv(),(d,f)=>{r.contextual.each(b=>{cl(d.element,b.transitionClass)&&(pc(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),It(lv(),(d,f)=>{hv(d,r,l)}),It(Op(),(d,f)=>{hv(d,r,l)}),It(Vf(),(d,f)=>{Mp(d,r,l)})])});const Jd=r=>r.dom.innerHTML,ph=(r,l)=>{const d=ui(r).dom,f=un(d.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Mr(un(k))})(l,d);Hs(f,b),us(r),Ba(r,f)},bh=(r,l)=>un(r.dom.cloneNode(l)),Qd=r=>(l=>{if(yt(l))return"#shadow-root";{const d=(f=>bh(f,!1))(l);return(f=>{const b=Di("div"),v=un(f.dom.cloneNode(!0));return Ba(b,v),Jd(b)})(d)}})(r);var jf;(function(r){r[r.STOP=0]="STOP",r[r.NORMAL=1]="NORMAL",r[r.LOGGING=2]="LOGGING"})(jf||(jf={}));const vv=Hn({}),WE=["alloy/data/Fields","alloy/debugging/Debugging"],yv=(r,l,d)=>((f,b,v)=>{switch(En(vv.get(),f).orThunk(()=>{const C=Ut(vv.get());return sn(C,k=>f.indexOf(k)>-1?R.some(vv.get()[k]):R.none())}).getOr(jf.NORMAL)){case jf.NORMAL:return v(Uc());case jf.LOGGING:{const C=((E,N)=>{const F=[],M=new Date().getTime();return{logEventCut:(V,Y,te)=>{F.push({outcome:"cut",target:Y,purpose:te})},logEventStopped:(V,Y,te)=>{F.push({outcome:"stopped",target:Y,purpose:te})},logNoParent:(V,Y,te)=>{F.push({outcome:"no-parent",target:Y,purpose:te})},logEventNoHandlers:(V,Y)=>{F.push({outcome:"no-handlers-left",target:Y})},logEventResponse:(V,Y,te)=>{F.push({outcome:"response",purpose:te,target:Y})},write:()=>{const V=new Date().getTime();ut(["mousemove","mouseover","mouseout",$f()],E)||console.log(E,{event:E,time:V-M,target:N.dom,sequence:Pe(F,Y=>ut(["cut","stopped","response"],Y.outcome)?"{"+Y.purpose+"} "+Y.outcome+" at ("+Qd(Y.target)+")":Y.outcome)})}}})(f,b),k=v(C);return C.write(),k}case jf.STOP:return!0}})(r,l,d),Uc=Z({logEventCut:U,logEventStopped:U,logNoParent:U,logEventNoHandlers:U,logEventResponse:U,write:U}),t_=Z([Mt("menu"),Mt("selectedMenu")]),Gx=Z([Mt("item"),Mt("selectedItem")]);Z(Gn(Gx().concat(t_())));const vh=Z(Gn(Gx())),ha=Mc("initSize",[Mt("numColumns"),Mt("numRows")]),yh=()=>Mc("markers",[Mt("backgroundMenu")].concat(t_()).concat(Gx())),xh=r=>Mc("markers",Pe(r,Mt)),R1=(r,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);Q(b,v=>v.indexOf("alloy")>0&&!kn(WE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),fi(l,l,d,Mf(f=>Ho.value((...b)=>f.apply(void 0,b))))),nr=r=>R1(0,r,hu(U)),Al=r=>R1(0,r,hu(R.none)),ud=r=>R1(0,r,{tag:"required",process:{}}),Da=r=>R1(0,r,{tag:"required",process:{}}),Xr=(r,l)=>qi(r,Z(l)),xv=r=>qi(r,de),n_=Z(ha);var KE=[Is("contextual",[Ss("fadeInClass"),Ss("fadeOutClass"),Ss("transitionClass"),za("lazyContext"),nr("onShow"),nr("onShown"),nr("onHide"),nr("onHidden")]),os("lazyViewport",()=>({bounds:Gi(),optScrollEnv:R.none()})),Pr("modes",["top","bottom"],ki),nr("onDocked"),nr("onUndocked")];const ds=Mi({fields:KE,name:"docking",active:Zx,apis:Bp,state:Object.freeze({__proto__:null,init:r=>{const l=Hn(!1),d=Hn(!0),f=Or(),b=Hn(r.modes);return Li({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),N1=xo([((r,l)=>({key:r,value:ad({can:(d,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,N)=>dr(E,k.element)&&!dr(E,N))(d,v,C)||(console.warn(ld()+` did not get interpreted by the desired target. 
Originator: `+Qd(v)+`
Target: `+Qd(C)+`
Check the `+ld()+" event handlers"),!1)}})}))(ld())]);var qx=Object.freeze({__proto__:null,events:N1});const Jm=(r,l,d,f)=>{const b=r+l;return b>f?d:b<d?f:b},Wc=(r,l,d)=>Math.min(Math.max(r,l),d);let Fp=0;const _n=r=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Fp++,r+"_"+d+Fp+String(l)},_u=Z("alloy-id-"),Yx=Z("data-alloy-id"),P1=_u(),$p=Yx(),L1=(r,l)=>{Object.defineProperty(r.dom,$p,{value:l,writable:!0})},wh=r=>{const l=ls(r)?r.dom[$p]:null;return R.from(l)},Kc=r=>_n(r),jE=de,M1=r=>{const l=b=>`The component must be in a context to execute: ${b}`+(r?`
`+Qd(r().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:Z("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:Ae}},Xx=M1(),B1=_n("alloy-premade"),Jx=r=>(Object.defineProperty(r.element.dom,B1,{value:r.uid,writable:!0}),yu(B1,r)),Qx=r=>En(r,B1),F1=r=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Gm(C.slice(1))}),l})((l,...d)=>r(l.getApis(),l,...d),r),e2=(r,l)=>{const d={};return qn(r,(f,b)=>{qn(f,(v,C)=>{const k=En(d,C).getOr([]);d[C]=k.concat([l(b,v)])})}),d},t2=r=>r.cHandler,o_=(r,l)=>({name:r,handler:l}),ZE=(r,l)=>{const d={};return mt(r,f=>{d[f.name()]=f.handlers(l)}),d},wv=(r,l,d)=>{const f=l[d];return f?((b,v,C,k)=>{try{const E=be(C,(N,F)=>{const M=N[v],V=F[v],Y=k.indexOf(M),te=k.indexOf(V);if(Y===-1)throw new Error("The ordering for "+b+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(k,null,2));if(te===-1)throw new Error("The ordering for "+b+" does not have an entry for "+V+`.
Order specified: `+JSON.stringify(k,null,2));return Y<te?-1:te<Y?1:0});return Ho.value(E)}catch(E){return Ho.error([E])}})("Event: "+d,"name",r,f).map(b=>(v=>({can:((E,N)=>(...F)=>nn(E,(M,V)=>M&&(Y=>Y.can)(V).apply(void 0,F),!0))(v),abort:((E,N)=>(...F)=>nn(E,(M,V)=>M||(Y=>Y.abort)(V).apply(void 0,F),!1))(v),run:(...E)=>{mt(v,N=>{N.run.apply(void 0,E)})}}))(Pe(b,v=>v.handler))):((b,v)=>Ho.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Pe(v,C=>C.name),null,2)]))(d,r)},n2=(r,l)=>((d,f)=>{const b=(C=>{const k=[],E=[];return mt(C,N=>{N.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,Ho.error(Kt(v))):((C,k)=>C.length===0?Ho.value(k):Ho.value(Br(k,ev.apply(void 0,C))))(b.values,f);var v})(ti(r,(d,f)=>(d.length===1?Ho.value(d[0].handler):wv(d,l,f)).map(b=>{const v=(k=>{const E=(N=>W(N)?{can:ze,abort:Ae,run:N}:N)(k);return(N,F,...M)=>{const V=[N,F].concat(M);E.abort.apply(void 0,V)?F.stop():E.can.apply(void 0,V)&&E.run.apply(void 0,V)}})(b),C=d.length>1?Ht(l[f],k=>kn(d,E=>E.name===k)).join(" > "):d[0].name;return yu(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),Ch="alloy.base.behaviour",GE=Gn([fi("dom","dom",{tag:"required",process:{}},Gn([Mt("tag"),dt("styles",{}),dt("classes",[]),dt("attributes",{}),Yo("value"),Yo("innerHtml")])),Mt("components"),Mt("uid"),dt("events",{}),dt("apis",{}),fi("eventOrder","eventOrder",(_h={[El()]:["disabling",Ch,"toggling","typeaheadevents"],[ld()]:[Ch,"focusing","keying"],[$f()]:[Ch,"disabling","toggling","representing","tooltipping"],[Km()]:[Ch,"representing","streaming","invalidating"],[$c()]:[Ch,"representing","item-events","toolbar-button-events","tooltipping"],[Bt()]:["focusing",Ch,"item-type-events"],[G()]:["focusing",Ch,"item-type-events"],[Pn()]:["item-type-events","tooltipping"],[gc()]:["receiving","reflecting","tooltipping"]},tr(Z(_h))),Kl()),Yo("domModification")]),qE=r=>r.events,Zf=r=>r.dom.value,Qm=(r,l)=>{if(l===void 0)throw new Error("Value.set was undefined");r.dom.value=l},$1=(r,l,d)=>{d.fold(()=>Ba(r,l),f=>{dr(f,l)||(Hd(f,l),Zi(f))})},r_=(r,l,d)=>{const f=Pe(l,d),b=Mr(r);return mt(b.slice(f.length),Zi),f},o2=(r,l,d,f)=>{const b=cs(r,l),v=f(d,b),C=((k,E,N)=>cs(k,E).map(F=>{if(N.exists(M=>!dr(M,F))){const M=N.map(nl).getOr("span"),V=Di(M);return Hd(F,V),V}return F}))(r,l,b);return $1(r,v.element,C),v},Cv=(r,l)=>{const d=Ut(r),f=Ut(l),b=xe(f,d),v=((C,k)=>{const E={},N={};return Zr(C,(F,M)=>!uo(l,M)||F!==l[M],Do(E),Do(N)),{t:E,f:N}})(r).t;return{toRemove:b,toSet:v}},ef=(r,l)=>{const d=l.filter(f=>nl(f)===r.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(r)&&!(b=>uo(b.dom,B1))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:N,style:F,...M}=(we=>nn(we.dom.attributes,(ke,Oe)=>(ke[Oe.name]=Oe.value,ke),{}))(E),{toSet:V,toRemove:Y}=Cv(k.attributes,M),te=Mm(E),{toSet:fe,toRemove:pe}=Cv(k.styles,te),Se=Xd(E),ge=xe(Se,k.classes),me=xe(k.classes,Se);return mt(Y,we=>Ro(E,we)),Tr(E,V),Zs(E,me),pc(E,ge),mt(pe,we=>kr(E,we)),rl(E,fe),k.innerHtml.fold(()=>{const we=k.domChildren;((ke,Oe)=>{r_(ke,Oe,(Xe,lt)=>{const Nt=cs(ke,lt);return $1(ke,Xe,Nt),Xe})})(E,we)},we=>{ph(E,we)}),(()=>{const we=E,ke=k.value.getOrUndefined();ke!==Zf(we)&&Qm(we,ke??"")})(),E})(b,v);return R.some(C)}catch{return R.none()}})(r,f)).getOrThunk(()=>(f=>{const b=Di(f.tag);Tr(b,f.attributes),Zs(b,f.classes),rl(b,f.styles),f.innerHtml.each(C=>ph(b,C));const v=f.domChildren;return Hs(b,v),f.value.each(C=>{Qm(b,C)}),b})(r));return L1(d,r.uid),d},V1=r=>{const l=(d=>{const f=En(d,"behaviours").getOr({});return pn(Ut(f),b=>{const v=f[b];return K(v)?[v.me]:[]})})(r);return((d,f)=>((b,v)=>{const C=Pe(v,E=>Is(E.name(),[Mt("config"),dt("state",Hc)])),k=_s("component.behaviours",Gn(C),b.behaviours).fold(E=>{throw new Error(al(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},de);return{list:v,data:eo(k,E=>{const N=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return Z(N)})}})(d,f))(r,l)},yi=(r,l)=>{const d=()=>V,f=Hn(Xx),b=Va((Y=>_s("custom.definition",GE,Y))(r)),v=V1(r),C=(Y=>Y.list)(v),k=(Y=>Y.data)(v),E=((Y,te,fe)=>{const pe={...(Se=Y).dom,uid:Se.uid,domChildren:Pe(Se.components,Xe=>Xe.element)};var Se;const ge=(Xe=>Xe.domModification.fold(()=>js({}),js))(Y),me={"alloy.base.modification":ge},we=te.length>0?((Xe,lt,Nt,Tt)=>{const kt={...lt};mt(Nt,Uo=>{kt[Uo.name()]=Uo.exhibit(Xe,Tt)});const Wt=e2(kt,(Uo,ss)=>({name:Uo,modification:ss})),vn=Uo=>On(Uo,(ss,ms)=>({...ms.modification,...ss}),{}),Rn=On(Wt.classes,(Uo,ss)=>ss.modification.concat(Uo),[]),Kn=vn(Wt.attributes),lo=vn(Wt.styles);return js({classes:Rn,attributes:Kn,styles:lo})})(fe,me,te,pe):ge;return ke=pe,Oe=we,{...ke,attributes:{...ke.attributes,...Oe.attributes},styles:{...ke.styles,...Oe.styles},classes:ke.classes.concat(Oe.classes)};var ke,Oe})(b,C,k),N=ef(E,l),F=((Y,te,fe)=>{const pe={"alloy.base.behaviour":qE(Y)};return((Se,ge,me,we)=>{const ke=((Oe,Xe,lt)=>{const Nt={...lt,...ZE(Xe,Oe)};return e2(Nt,o_)})(Se,me,we);return n2(ke,ge)})(fe,Y.eventOrder,te,pe).getOrDie()})(b,C,k),M=Hn(b.components),V={uid:r.uid,getSystem:f.get,config:Y=>{const te=k;return(W(te[Y.name()])?te[Y.name()]:()=>{throw new Error("Could not find "+Y.name()+" in "+JSON.stringify(r,null,2))})()},hasConfigured:Y=>W(k[Y.name()]),spec:r,readState:Y=>k[Y]().map(te=>te.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Y=>{f.set(Y)},disconnect:()=>{f.set(M1(d))},element:N,syncComponents:()=>{const Y=Mr(N),te=pn(Y,fe=>f.get().getByDom(fe).fold(()=>[],$e));M.set(te)},components:M.get,events:F};return V},$s=r=>{const l=Yu(r);return Gf({element:l})},Gf=r=>{const l=Ia("external.component",Si([Mt("element"),Yo("uid")]),r),d=Hn(M1()),f=l.uid.getOrThunk(()=>Kc("external"));L1(l.element,f);const b={uid:f,getSystem:d.get,config:R.none,hasConfigured:Ae,connect:v=>{d.set(v)},disconnect:()=>{d.set(M1(()=>b))},getApis:()=>({}),element:l.element,spec:r,readState:Z("No state"),syncComponents:U,components:Z([]),events:{}};return Jx(b)},r2=Kc,z1=(r,l)=>Qx(r).getOrThunk(()=>((d,f)=>{const{events:b,...v}=jE(d),C=((E,N)=>{const F=En(E,"components").getOr([]);return N.fold(()=>Pe(F,Ji),M=>Pe(F,(V,Y)=>z1(V,cs(M,Y))))})(v,f),k={...v,events:{...qx,...b},components:C};return Ho.value(yi(k,f))})((d=>uo(d,"uid"))(r)?r:{uid:r2(""),...r},l).getOrDie()),Ji=r=>z1(r,R.none()),ul=Jx;var _h,qf=(r,l,d,f,b)=>r(d,f)?R.some(d):W(b)&&b(d)?R.none():l(d,f,b);const eg=(r,l,d)=>{let f=r.dom;const b=W(d)?d:Ae;for(;f.parentNode;){f=f.parentNode;const v=un(f);if(l(v))return R.some(v);if(b(v))break}return R.none()},H1=(r,l,d)=>qf((f,b)=>b(f),eg,r,l,d),s_=(r,l)=>Q(r.dom.childNodes,d=>l(un(d))).map(un),s2=(r,l,d)=>H1(r,l,d).isSome(),tg=(r,l,d)=>eg(r,f=>lu(f,l),d),Jr=(r,l)=>((d,f)=>{const b=d.dom;return b.parentNode?s_(un(b.parentNode),v=>!dr(d,v)&&lu(v,l)):R.none()})(r),U1=(r,l)=>s_(r,d=>lu(d,l)),fs=(r,l)=>$d(l,r),dd=(r,l,d)=>qf((f,b)=>lu(f,b),tg,r,l,d),Su="aria-controls",Sh=()=>{const r=_n(Su);return{id:r,link:l=>{cn(l,Su,r)},unlink:l=>{Ro(l,Su)}}},Tl=(r,l)=>s2(l,d=>dr(d,r.element),Ae)||((d,f)=>(b=>H1(b,v=>{if(!ls(v))return!1;const C=Ko(v,"id");return C!==void 0&&C.indexOf(Su)>-1}).bind(v=>{const C=Ko(v,"id"),k=pt(v);return fs(k,`[${Su}="${C}"]`)}))(f).exists(b=>Tl(d,b)))(r,l),pa=(r,l,d,f,b,v,C,k=!1)=>({x:r,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),ng=tc([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),_v=ng.southeast,kh=ng.southwest,Sv=ng.northeast,Eh=ng.northwest,i_=ng.south,i2=ng.north,a2=ng.east,a_=ng.west,ba=(r,l)=>Te(["left","right","top","bottom"],d=>En(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(r,f))),og="layout",l_=r=>r.x,jc=(r,l)=>r.x+r.width/2-l.width/2,dl=(r,l)=>r.x+r.width-l.width,Ah=(r,l)=>r.y-l.height,Vp=r=>r.y+r.height,c_=(r,l)=>r.y+r.height/2-l.height/2,Ns=(r,l,d)=>pa(l_(r),Vp(r),d.southeast(),_v(),"southeast",ba(r,{left:1,top:3}),og),Ps=(r,l,d)=>pa(dl(r,l),Vp(r),d.southwest(),kh(),"southwest",ba(r,{right:0,top:3}),og),si=(r,l,d)=>pa(l_(r),Ah(r,l),d.northeast(),Sv(),"northeast",ba(r,{left:1,bottom:2}),og),Fr=(r,l,d)=>pa(dl(r,l),Ah(r,l),d.northwest(),Eh(),"northwest",ba(r,{right:0,bottom:2}),og),As=(r,l,d)=>pa(jc(r,l),Ah(r,l),d.north(),i2(),"north",ba(r,{bottom:2}),og),Gs=(r,l,d)=>pa(jc(r,l),Vp(r),d.south(),i_(),"south",ba(r,{top:3}),og),W1=(r,l,d)=>pa((f=>f.x+f.width)(r),c_(r,l),d.east(),a2(),"east",ba(r,{left:0}),og),K1=(r,l,d)=>pa(((f,b)=>f.x-b.width)(r,l),c_(r,l),d.west(),a_(),"west",ba(r,{right:1}),og),l2=()=>[Ns,Ps,si,Fr,Gs,As,W1,K1],kv=()=>[Ps,Ns,Fr,si,Gs,As,W1,K1],c2=()=>[si,Fr,Ns,Ps,As,Gs],Th=()=>[Fr,si,Ps,Ns,As,Gs],j1=()=>[Ns,Ps,si,Fr,Gs,As],Z1=()=>[Ps,Ns,Fr,si,Gs,As];var u2=Object.freeze({__proto__:null,events:r=>xo([It(gc(),(l,d)=>{const f=r.channels,b=Ut(f),v=d,C=((k,E)=>E.universal?k:Ht(k,N=>ut(E.channels,N)))(b,v);mt(C,k=>{const E=f[k],N=E.schema,F=Ia("channel["+k+`] data
Receiver: `+Qd(l.element),N,v.data);E.onReceive(l,F)})})])}),Ev=[Yi("channels",nv(Ho.value,Si([ud("onReceive"),dt("schema",Kl())])))];const Ol=Mi({fields:Ev,name:"receiving",active:u2});var d2=Object.freeze({__proto__:null,exhibit:(r,l)=>js({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const Wa=(r,l=!1)=>r.dom.focus({preventScroll:l}),Av=r=>r.dom.blur(),Oh=r=>{const l=pt(r).dom;return r.dom===l.activeElement},ku=(r=Fa())=>R.from(r.dom.activeElement).map(un),qs=r=>ku(pt(r)).filter(l=>r.dom.contains(l.dom)),rg=(r,l)=>{const d=pt(l),f=ku(d).bind(v=>{const C=k=>dr(v,k);return C(l)?R.some(l):((k,E)=>{const N=F=>{for(let M=0;M<F.childNodes.length;M++){const V=un(F.childNodes[M]);if(E(V))return R.some(V);const Y=N(F.childNodes[M]);if(Y.isSome())return Y}return R.none()};return N(k.dom)})(l,C)}),b=r(l);return f.each(v=>{ku(d).filter(C=>dr(C,v)).fold(()=>{Wa(v)},U)}),b},f2=tc([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),m2=(r,l,d,f,b,v)=>{const C=l.rect,k=C.x-d,E=C.y-f,N=b-(k+C.width),F=v-(E+C.height),M=R.some(k),V=R.some(E),Y=R.some(N),te=R.some(F),fe=R.none();return l.direction.fold(()=>Xi(r,M,V,fe,fe),()=>Xi(r,fe,V,Y,fe),()=>Xi(r,M,fe,fe,te),()=>Xi(r,fe,fe,Y,te),()=>Xi(r,M,V,fe,fe),()=>Xi(r,M,fe,fe,te),()=>Xi(r,M,V,fe,fe),()=>Xi(r,fe,V,Y,fe))},Tv=(r,l)=>r.fold(()=>{const d=l.rect;return Xi("absolute",R.some(d.x),R.some(d.y),R.none(),R.none())},(d,f,b,v)=>m2("absolute",l,d,f,b,v),(d,f,b,v)=>m2("fixed",l,d,f,b,v)),tf=(r,l)=>{const d=Ve(Ud,l),f=r.fold(d,d,()=>{const C=ns();return Ud(l).translate(-C.left,-C.top)}),b=sl(l),v=Nc(l);return Lo(f.left,f.top,b,v)},YE=(r,l)=>l.fold(()=>r.fold(Gi,Gi,Lo),d=>r.fold(Z(d),Z(d),()=>{const f=Ov(r,d.x,d.y);return Lo(f.left,f.top,d.width,d.height)})),Ov=(r,l,d)=>{const f=ts(l,d);return r.fold(Z(f),Z(f),()=>{const b=ns();return f.translate(-b.left,-b.top)})};f2.none;const sg=f2.relative,u_=f2.fixed,Iv="data-alloy-placement",Dv=r=>Qo(r,Iv),G1=tc([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),zp=(r,l,d,f)=>{const b=r.bubble,v=b.offset,C=((we,ke,Oe)=>{const Xe=(Wt,vn)=>ke[Wt].map(Rn=>{const Kn=Wt==="top"||Wt==="bottom",lo=Kn?Oe.top:Oe.left,Uo=(Wt==="left"||Wt==="top"?Math.max:Math.min)(Rn,vn)+lo;return Kn?Wc(Uo,we.y,we.bottom):Wc(Uo,we.x,we.right)}).getOr(vn),lt=Xe("left",we.x),Nt=Xe("top",we.y),Tt=Xe("right",we.right),kt=Xe("bottom",we.bottom);return Lo(lt,Nt,Tt-lt,kt-Nt)})(f,r.restriction,v),k=r.x+v.left,E=r.y+v.top,N=Lo(k,E,l,d),{originInBounds:F,sizeInBounds:M,visibleW:V,visibleH:Y}=((we,ke)=>{const{x:Oe,y:Xe,right:lt,bottom:Nt}=ke,{x:Tt,y:kt,right:Wt,bottom:vn,width:Rn,height:Kn}=we;return{originInBounds:Tt>=Oe&&Tt<=lt&&kt>=Xe&&kt<=Nt,sizeInBounds:Wt<=lt&&Wt>=Oe&&vn<=Nt&&vn>=Xe,visibleW:Math.min(Rn,Tt>=Oe?lt-Tt:Wt-Oe),visibleH:Math.min(Kn,kt>=Xe?Nt-kt:vn-Xe)}})(N,C),te=F&&M,fe=te?N:((we,ke)=>{const{x:Oe,y:Xe,right:lt,bottom:Nt}=ke,{x:Tt,y:kt,width:Wt,height:vn}=we,Rn=Math.max(Oe,lt-Wt),Kn=Math.max(Xe,Nt-vn),lo=Wc(Tt,Oe,Rn),Uo=Wc(kt,Xe,Kn),ss=Math.min(lo+Wt,lt)-lo,ms=Math.min(Uo+vn,Nt)-Uo;return Lo(lo,Uo,ss,ms)})(N,C),pe=fe.width>0&&fe.height>0,{maxWidth:Se,maxHeight:ge}=((we,ke,Oe)=>{const Xe=Z(ke.bottom-Oe.y),lt=Z(Oe.bottom-ke.y),Nt=((vn,Rn,Kn,lo)=>vn.fold(Rn,Rn,lo,lo,Rn,lo,Kn,Kn))(we,lt,lt,Xe),Tt=Z(ke.right-Oe.x),kt=Z(Oe.right-ke.x);return{maxWidth:((vn,Rn,Kn,lo)=>vn.fold(Rn,lo,Rn,lo,Kn,Kn,Rn,lo))(we,kt,kt,Tt),maxHeight:Nt}})(r.direction,fe,f),me={rect:fe,maxHeight:ge,maxWidth:Se,direction:r.direction,placement:r.placement,classes:{on:b.classesOn,off:b.classesOff},layout:r.label,testY:E};return te||r.alwaysFit?G1.fit(me):G1.nofit(me,V,Y,pe)},q1=ze,Ka=(r,l,d)=>((f,b,v,C)=>ih(f,b,v,C,!1))(r,l,q1,d),g2=(r,l,d)=>((f,b,v,C)=>ih(f,b,v,C,!0))(r,l,q1,d),nf=Sl,Rv=["top","bottom","right","left"],fd="data-alloy-transition-timer",Nv=(r,l,d,f,b,v)=>{const C=((k,E,N)=>N.exists(F=>{const M=k.mode;return M==="all"||F[M]!==E[M]}))(f,b,v);if(C||((k,E)=>((N,F)=>je(F,M=>cl(N,M)))(k,E.classes))(r,f)){bo(r,"position",d.position);const k=tf(l,r),E=Tv(l,{...b,rect:k}),N=Te(Rv,F=>E[F]);((F,M)=>{const V=Y=>parseFloat(Y).toFixed(3);return xr(M,(Y,te)=>!((fe,pe,Se=re)=>Xt(fe,pe,Se).getOr(fe.isNone()&&pe.isNone()))(F[te].map(V),Y.map(V))).isSome()})(d,N)&&(Cl(r,N),C&&((F,M)=>{Zs(F,M.classes),Qo(F,fd).each(V=>{clearTimeout(parseInt(V,10)),Ro(F,fd)}),((V,Y)=>{const te=Lc(),fe=Lc();let pe;const Se=ke=>{var Oe;const Xe=(Oe=ke.raw.pseudoElement)!==null&&Oe!==void 0?Oe:"";return dr(ke.target,V)&&qu(Xe)&&ut(Rv,ke.raw.propertyName)},ge=ke=>{if(z(ke)||Se(ke)){te.clear(),fe.clear();const Oe=ke==null?void 0:ke.raw.type;(z(Oe)||Oe===sv())&&(clearTimeout(pe),Ro(V,fd),pc(V,Y.classes))}},me=Ka(V,_1(),ke=>{Se(ke)&&(me.unbind(),te.set(Ka(V,sv(),ge)),fe.set(Ka(V,qC(),ge)))}),we=(ke=>{const Oe=Tt=>{const kt=Ts(ke,Tt).split(/\s*,\s*/);return Ht(kt,xl)},Xe=Tt=>{if(h(Tt)&&/^[\d.]+/.test(Tt)){const kt=parseFloat(Tt);return Gu(Tt,"ms")?kt:1e3*kt}return 0},lt=Oe("transition-delay"),Nt=Oe("transition-duration");return nn(Nt,(Tt,kt,Wt)=>{const vn=Xe(lt[Wt])+Xe(kt);return Math.max(Tt,vn)},0)})(V);requestAnimationFrame(()=>{pe=setTimeout(ge,we+17),cn(V,fd,pe)})})(F,M)})(r,f),Vd(r))}else pc(r,f.classes)},Pv=(r,l)=>{((d,f)=>{const b=wp.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);bo(d,"max-height",b+"px")})(r,Math.floor(l))},ig=Z((r,l)=>{Pv(r,l),rl(r,{"overflow-x":"hidden","overflow-y":"auto"})}),Ih=Z((r,l)=>{Pv(r,l)}),Zc=(r,l,d)=>r[l]===void 0?d:r[l],Lv=(r,l,d,f)=>{const b=((v,C,k,E)=>{kr(C,"max-height"),kr(C,"max-width");const N={width:sl(F=C),height:Nc(F)};var F;return((M,V,Y,te,fe,pe)=>{const Se=te.width,ge=te.height,me=(we,ke,Oe,Xe,lt)=>{const Nt=we(Y,te,fe,M,pe),Tt=zp(Nt,Se,ge,pe);return Tt.fold(Z(Tt),(kt,Wt,vn,Rn)=>(lt===Rn?vn>Xe||Wt>Oe:!lt&&Rn)?Tt:G1.nofit(ke,Oe,Xe,lt))};return nn(V,(we,ke)=>{const Oe=Ve(me,ke);return we.fold(Z(we),Oe)},G1.nofit({rect:Y,maxHeight:te.height,maxWidth:te.width,direction:_v(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Y.y},-1,-1,!1)).fold(de,de)})(C,E.preference,v,N,k,E.bounds)})(r,l,d,f);return((v,C,k)=>{const E=Tv(k.origin,C);k.transition.each(N=>{Nv(v,k.origin,E,N,C,k.lastPlacement)}),fv(v,E)})(l,b,f),((v,C)=>{((k,E)=>{cn(k,Iv,E)})(v,C.placement)})(l,b),((v,C)=>{const k=C.classes;pc(v,k.off),Zs(v,k.on)})(l,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(l,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},XE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],bc=(r,l,d,f=1)=>{const b=r*f,v=l*f,C=E=>En(d,E).getOr([]),k=(E,N,F)=>{const M=xe(XE,F);return{offset:ts(E,N),classesOn:pn(F,C),classesOff:pn(M,C)}};return{southeast:()=>k(-r,l,["top","alignLeft"]),southwest:()=>k(r,l,["top","alignRight"]),south:()=>k(-r/2,l,["top","alignCentre"]),northeast:()=>k(-r,-l,["bottom","alignLeft"]),northwest:()=>k(r,-l,["bottom","alignRight"]),north:()=>k(-r/2,-l,["bottom","alignCentre"]),east:()=>k(r,-l/2,["valignCentre","left"]),west:()=>k(-r,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},of=()=>bc(0,0,{}),Gc=de,h2=(r,l)=>d=>Ei(d)==="rtl"?l:r,Ei=r=>Ts(r,"direction")==="rtl"?"rtl":"ltr";var qc;(function(r){r.TopToBottom="toptobottom",r.BottomToTop="bottomtotop"})(qc||(qc={}));const Il="data-alloy-vertical-dir",JE=r=>s2(r,l=>ls(l)&&Ko(l,"data-alloy-vertical-dir")===qc.BottomToTop),Yf=()=>Is("layouts",[Mt("onLtr"),Mt("onRtl"),Yo("onBottomLtr"),Yo("onBottomRtl")]),rf=(r,l,d,f,b,v,C)=>{const k=C.map(JE).getOr(!1),E=l.layouts.map(V=>V.onLtr(r)),N=l.layouts.map(V=>V.onRtl(r)),F=k?l.layouts.bind(V=>V.onBottomLtr.map(Y=>Y(r))).or(E).getOr(b):E.getOr(d),M=k?l.layouts.bind(V=>V.onBottomRtl.map(Y=>Y(r))).or(N).getOr(v):N.getOr(f);return h2(F,M)(r)};var Hp=[Mt("hotspot"),Yo("bubble"),dt("overrides",{}),Yf(),Xr("placement",(r,l,d)=>{const f=l.hotspot,b=tf(d,f.element),v=rf(r.element,l,j1(),Z1(),c2(),Th(),R.some(l.hotspot.element));return R.some(Gc({anchorBox:b,bubble:l.bubble.getOr(of()),overrides:l.overrides,layouts:v}))})],ag=[Mt("x"),Mt("y"),dt("height",0),dt("width",0),dt("bubble",of()),dt("overrides",{}),Yf(),Xr("placement",(r,l,d)=>{const f=Ov(d,l.x,l.y),b=Lo(f.left,f.top,l.width,l.height),v=rf(r.element,l,l2(),kv(),l2(),kv(),R.none());return R.some(Gc({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const nc=tc([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Y1=r=>r.fold(de,(l,d,f)=>l.translate(-d,-f)),X1=r=>r.fold(de,de),Mv=r=>nn(r,(l,d)=>l.translate(d.left,d.top),ts(0,0)),J1=r=>{const l=Pe(r,X1);return Mv(l)},d_=nc.screen,Bv=nc.absolute,sf=(r,l,d)=>{const f=ui(r.element),b=ns(f),v=((C,k,E)=>{const N=cu(E.root).dom;return R.from(N.frameElement).map(un).filter(F=>{const M=ui(F),V=ui(C.element);return dr(M,V)}).map(Ul)})(r,0,d).getOr(b);return Bv(v,b.left,b.top)},Fv=(r,l,d,f)=>{const b=d_(ts(r,l));return R.some(((v,C,k)=>({point:v,width:C,height:k}))(b,d,f))},Dh=(r,l,d,f,b)=>r.map(v=>{const C=[l,v.point],k=(E=()=>J1(C),N=()=>J1(C),F=()=>(me=>{const we=Pe(me,Y1);return Mv(we)})(C),f.fold(E,N,F));var E,N,F;const M=(fe=k.left,pe=k.top,Se=v.width,ge=v.height,{x:fe,y:pe,width:Se,height:ge}),V=d.showAbove?c2():j1(),Y=d.showAbove?Th():Z1(),te=rf(b,d,V,Y,V,Y,R.none());var fe,pe,Se,ge;return Gc({anchorBox:M,bubble:d.bubble.getOr(of()),overrides:d.overrides,layouts:te})});var Rh=[Mt("node"),Mt("root"),Yo("bubble"),Yf(),dt("overrides",{}),dt("showAbove",!1),Xr("placement",(r,l,d)=>{const f=sf(r,0,l);return l.node.filter(mn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=Fv(v.left,v.top,v.width,v.height),k=l.node.getOr(r.element);return Dh(C,f,l,d,k)})})];const Xf=(r,l,d,f)=>({start:r,soffset:l,finish:d,foffset:f}),Jf=tc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$v=(Jf.before,Jf.on,Jf.after,r=>r.fold(de,de,de)),Qf=tc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),em={domRange:Qf.domRange,relative:Qf.relative,exact:Qf.exact,exactFromRange:r=>Qf.exact(r.start,r.soffset,r.finish,r.foffset),getWin:r=>{const l=(d=>d.match({domRange:f=>un(f.startContainer),relative:(f,b)=>$v(f),exact:(f,b,v,C)=>f}))(r);return cu(l)},range:Xf},tm=(r,l,d)=>{const f=r.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Nh=(r,l,d,f,b)=>{const v=r.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},Q1=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),Up=tc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ey=(r,l,d)=>l(un(d.startContainer),d.startOffset,un(d.endContainer),d.endOffset),p2=(r,l)=>((d,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:Z(k),rtl:R.none}),relative:(k,E)=>({ltr:aa(()=>tm(v,k,E)),rtl:aa(()=>R.some(tm(v,E,k)))}),exact:(k,E,N,F)=>({ltr:aa(()=>Nh(v,k,E,N,F)),rtl:aa(()=>R.some(Nh(v,N,F,k,E)))})}))(d,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>Up.rtl(un(E.endContainer),E.endOffset,un(E.startContainer),E.startOffset)).getOrThunk(()=>ey(0,Up.ltr,k)):ey(0,Up.ltr,k)})(0,b)})(r,l).match({ltr:(d,f,b,v)=>{const C=r.document.createRange();return C.setStart(d.dom,f),C.setEnd(b.dom,v),C},rtl:(d,f,b,v)=>{const C=r.document.createRange();return C.setStart(b.dom,v),C.setEnd(d.dom,f),C}});Up.ltr,Up.rtl;const Wp=(r,l,d)=>Ht(((f,b)=>{const v=W(b)?b:Ae;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,N=un(E);if(k.push(N),v(N)===!0)break;C=E}return k})(r,d),l),Ai=(r,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return Ef(b)?[]:Pe(b.querySelectorAll(d),un)})(l,r),b2=r=>{if(r.rangeCount>0){const l=r.getRangeAt(0),d=r.getRangeAt(r.rangeCount-1);return R.some(Xf(un(l.startContainer),l.startOffset,un(d.endContainer),d.endOffset))}return R.none()},f_=r=>{if(r.anchorNode===null||r.focusNode===null)return b2(r);{const l=un(r.anchorNode),d=un(r.focusNode);return((f,b,v,C)=>{const k=((N,F,M,V)=>{const Y=ui(N).dom.createRange();return Y.setStart(N.dom,F),Y.setEnd(M.dom,V),Y})(f,b,v,C),E=dr(f,v)&&b===C;return k.collapsed&&!E})(l,r.anchorOffset,d,r.focusOffset)?R.some(Xf(l,r.anchorOffset,d,r.focusOffset)):b2(r)}},v2=(r,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?R.some(b).map(Q1):R.none()})(p2(r,l)),y2=((r,l)=>{const d=f=>r(f)?R.from(f.dom.nodeValue):R.none();return{get:f=>{if(!r(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!r(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(ka),nm=(r,l)=>({element:r,offset:l}),ty=(r,l)=>ka(r)?nm(r,l):((d,f)=>{const b=Mr(d);if(b.length===0)return nm(d,f);if(f<b.length)return nm(b[f],0);{const v=b[b.length-1],C=ka(v)?(k=>y2.get(k))(v).length:Mr(v).length;return nm(v,C)}})(r,l),Vv=r=>r.foffset!==void 0,x2=(r,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>R.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(f_))(r))().map(d=>{if(Vv(d)){const f=ty(d.start,d.soffset),b=ty(d.finish,d.foffset);return em.range(f.element,f.offset,b.element,b.offset)}return d});var QE=[Yo("getSelection"),Mt("root"),Yo("bubble"),Yf(),dt("overrides",{}),dt("showAbove",!1),Xr("placement",(r,l,d)=>{const f=cu(l.root).dom,b=sf(r,0,l),v=x2(f,l).bind(k=>{if(Vv(k))return((N,F)=>(M=>{const V=M.getBoundingClientRect();return V.width>0||V.height>0?R.some(V).map(Q1):R.none()})(p2(N,F)))(f,em.exactFromRange(k)).orThunk(()=>{const N=Yu("\uFEFF");Hd(k.start,N);const F=v2(f,em.exact(N,0,N,1));return Zi(N),F}).bind(N=>Fv(N.left,N.top,N.width,N.height));{const E=eo(k,F=>F.dom.getBoundingClientRect()),N={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Fv(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),C=x2(f,l).bind(k=>Vv(k)?ls(k.start)?R.some(k.start):Aa(k.start):R.some(k.firstCell)).getOr(r.element);return Dh(v,b,l,d,C)})];const om="link-layout",zv=r=>r.x+r.width,m_=(r,l)=>r.x-l.width,g_=(r,l)=>r.y-l.height+r.height,Eu=r=>r.y,w2=(r,l,d)=>pa(zv(r),Eu(r),d.southeast(),_v(),"southeast",ba(r,{left:0,top:2}),om),ny=(r,l,d)=>pa(m_(r,l),Eu(r),d.southwest(),kh(),"southwest",ba(r,{right:1,top:2}),om),h_=(r,l,d)=>pa(zv(r),g_(r,l),d.northeast(),Sv(),"northeast",ba(r,{left:0,bottom:3}),om),Ph=(r,l,d)=>pa(m_(r,l),g_(r,l),d.northwest(),Eh(),"northwest",ba(r,{right:1,bottom:3}),om),Kp=()=>[w2,ny,h_,Ph],Hv=()=>[ny,w2,Ph,h_];var p_=[Mt("item"),Yf(),dt("overrides",{}),Xr("placement",(r,l,d)=>{const f=tf(d,l.item.element),b=rf(r.element,l,Kp(),Hv(),Kp(),Hv(),R.none());return R.some(Gc({anchorBox:f,bubble:of(),overrides:l.overrides,layouts:b}))})],Au=bi("type",{selection:QE,node:Rh,hotspot:Hp,submenu:p_,makeshift:ag});const lg=[ll("classes",ki),Bc("mode","all",["all","layout","placement"])],Uv=[dt("useFixed",Ae),Yo("getBounds")],Wv=[Yi("anchor",Au),Is("transition",lg)],oy=(r,l,d,f,b,v)=>{const C=Ia("placement.info",Gn(Wv),b),k=C.anchor,E=f.element,N=d.get(f.uid);rg(()=>{bo(E,"position","fixed");const F=oi(E,"visibility");bo(E,"visibility","hidden");const M=l.useFixed()?(()=>{const V=document.documentElement;return u_(0,0,V.clientWidth,V.clientHeight)})():(V=>{const Y=Ul(V.element),te=V.element.dom.getBoundingClientRect();return sg(Y.left,Y.top,te.width,te.height)})(r);k.placement(r,k,M).each(V=>{const Y=v.orThunk(()=>l.getBounds.map(it)),te=((fe,pe,Se,ge,me,we)=>((ke,Oe,Xe,lt,Nt,Tt,kt,Wt)=>{const vn=Zc(kt,"maxHeightFunction",ig()),Rn=Zc(kt,"maxWidthFunction",U),Kn=ke.anchorBox,lo=ke.origin,Uo={bounds:YE(lo,Tt),origin:lo,preference:lt,maxHeightFunction:vn,maxWidthFunction:Rn,lastPlacement:Nt,transition:Wt};return Lv(Kn,Oe,Xe,Uo)})(((ke,Oe)=>((Xe,lt)=>({anchorBox:Xe,origin:lt}))(ke,Oe))(pe.anchorBox,fe),ge.element,pe.bubble,pe.layouts,me,Se,pe.overrides,we))(M,V,Y,f,N,C.transition);d.set(f.uid,te)}),F.fold(()=>{kr(E,"visibility")},V=>{bo(E,"visibility",V)}),oi(E,"left").isNone()&&oi(E,"top").isNone()&&oi(E,"right").isNone()&&oi(E,"bottom").isNone()&&ci(oi(E,"position"),"fixed")&&kr(E,"position")},E)};var Kv=Object.freeze({__proto__:null,position:(r,l,d,f,b)=>{const v=R.none();oy(r,l,d,f,b,v)},positionWithinBounds:oy,getMode:(r,l,d)=>l.useFixed()?"fixed":"absolute",reset:(r,l,d,f)=>{const b=f.element;mt(["position","left","right","top","bottom"],v=>kr(b,v)),(v=>{Ro(v,Iv)})(b),d.clear(f.uid)}});const va=Mi({fields:Uv,name:"positioning",active:d2,apis:Kv,state:Object.freeze({__proto__:null,init:()=>{let r={};return Li({readState:()=>r,clear:l=>{K(l)?delete r[l]:r={}},set:(l,d)=>{r[l]=d},get:l=>En(r,l)})}})}),ry=r=>r.getSystem().isConnected(),cg=r=>{No(r,$c());const l=r.components();mt(l,cg)},ug=r=>{const l=r.components();mt(l,ug),No(r,ga())},jv=(r,l)=>{r.getSystem().addToWorld(l),mn(r.element)&&ug(l)},sy=r=>{cg(r),r.getSystem().removeFromWorld(r)},Lh=(r,l)=>{Ba(r.element,l.element)},rm=(r,l)=>{C2(r,l,Ba)},C2=(r,l,d)=>{r.getSystem().addToWorld(l),d(r.element,l.element),mn(r.element)&&ug(l),r.syncComponents()},iy=r=>{cg(r),Zi(r.element),r.getSystem().removeFromWorld(r)},fl=r=>{const l=Ea(r.element).bind(d=>r.getSystem().getByDom(d).toOptional());iy(r),l.each(d=>{d.syncComponents()})},sm=r=>{const l=r.components();mt(l,iy),us(r.element),r.syncComponents()},_2=(r,l)=>{jp(r,l,Ba)},St=(r,l)=>{jp(r,l,ah)},jp=(r,l,d)=>{d(r,l.element);const f=Mr(l.element);mt(f,b=>{l.getByDom(b).each(ug)})},eA=r=>{const l=Mr(r.element);mt(l,d=>{r.getByDom(d).each(cg)}),Zi(r.element)},b_=(r,l,d,f)=>{d.get().each(C=>{sm(r)});const b=l.getAttachPoint(r);rm(b,r);const v=r.getSystem().build(f);return rm(r,v),d.set(v),v},ay=(r,l,d,f)=>{const b=b_(r,l,d,f);return l.onOpen(r,b),b},Tu=(r,l,d)=>{d.get().each(f=>{sm(r),fl(r),l.onClose(r,f),d.clear()})},ly=(r,l,d)=>d.isOpen(),Zv=(r,l,d)=>{const f=l.getAttachPoint(r);bo(r.element,"position",va.getMode(f)),((b,v,C,k)=>{oi(b.element,v).fold(()=>{Ro(b.element,C)},E=>{cn(b.element,C,E)}),bo(b.element,v,"hidden")})(r,"visibility",l.cloakVisibilityAttr)},S2=(r,l,d)=>{(f=>kn(["top","left","right","bottom"],b=>oi(f,b).isSome()))(r.element)||kr(r.element,"position"),((f,b,v)=>{Qo(f.element,v).fold(()=>kr(f.element,b),C=>bo(f.element,b,C))})(r,"visibility",l.cloakVisibilityAttr)};var k2=Object.freeze({__proto__:null,cloak:Zv,decloak:S2,open:ay,openWhileCloaked:(r,l,d,f,b)=>{Zv(r,l),ay(r,l,d,f),b(),S2(r,l)},close:Tu,isOpen:ly,isPartOf:(r,l,d,f)=>ly(0,0,d)&&d.get().exists(b=>l.isPartOf(r,b,f)),getState:(r,l,d)=>d.get(),setContent:(r,l,d,f)=>d.get().map(()=>b_(r,l,d,f))}),tA=Object.freeze({__proto__:null,events:(r,l)=>xo([It(av(),(d,f)=>{Tu(d,r,l)})])}),y=[nr("onOpen"),nr("onClose"),Mt("isPartOf"),Mt("getAttachPoint"),dt("cloakVisibilityAttr","data-precloak-visibility")],S=Object.freeze({__proto__:null,init:()=>{const r=Or(),l=Z("not-implemented");return Li({readState:l,isOpen:r.isSet,clear:r.clear,set:r.set,get:r.get})}});const O=Mi({fields:y,name:"sandboxing",active:tA,apis:k2,state:S}),B=Z("dismiss.popups"),H=Z("reposition.popups"),j=Z("mouse.released"),se=Si([dt("isExtraPart",Ae),Is("fireEventInstead",[dt("event",mh())])]),ce=r=>{const l=Ia("Dismissal",se,r);return{[B()]:{schema:Si([Mt("target")]),onReceive:(d,f)=>{O.isOpen(d)&&(O.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>O.close(d),b=>No(d,b.event)))}}}},_e=Si([Is("fireEventInstead",[dt("event",zf())]),za("doReposition")]),Be=r=>{const l=Ia("Reposition",_e,r);return{[H()]:{onReceive:d=>{O.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>No(d,f.event))}}}},et=(r,l,d)=>{l.store.manager.onLoad(r,l,d)},Ne=(r,l,d)=>{l.store.manager.onUnload(r,l,d)};var Ue=Object.freeze({__proto__:null,onLoad:et,onUnload:Ne,setValue:(r,l,d,f)=>{l.store.manager.setValue(r,l,d,f)},getValue:(r,l,d)=>l.store.manager.getValue(r,l,d),getState:(r,l,d)=>d}),Ge=Object.freeze({__proto__:null,events:(r,l)=>{const d=r.resetOnDom?[as((f,b)=>{et(f,r,l)}),cd((f,b)=>{Ne(f,r,l)})]:[cv(r,l,et)];return xo(d)}});const ct=()=>{const r=Hn(null);return Li({set:r.set,get:r.get,isNotSet:()=>r.get()===null,clear:()=>{r.set(null)},readState:()=>({mode:"memory",value:r.get()})})},ft=()=>{const r=Hn({}),l=Hn({});return Li({readState:()=>({mode:"dataset",dataByValue:r.get(),dataByText:l.get()}),lookup:d=>En(r.get(),d).orThunk(()=>En(l.get(),d)),update:d=>{const f=r.get(),b=l.get(),v={},C={};mt(d,k=>{v[k.value]=k,En(k,"meta").each(E=>{En(E,"text").each(N=>{C[N]=k})})}),r.set({...f,...v}),l.set({...b,...C})},clear:()=>{r.set({}),l.set({})}})};var Lt=Object.freeze({__proto__:null,memory:ct,dataset:ft,manual:()=>Li({readState:U}),init:r=>r.store.manager.state(r)});const Ft=(r,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(r,f),l.onSetValue(r,f)};var Pt=[Yo("initialValue"),Mt("getFallbackEntry"),Mt("getDataKey"),Mt("setValue"),Xr("manager",{setValue:Ft,getValue:(r,l,d)=>{const f=l.store,b=f.getDataKey(r);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{Ft(r,l,d,f)})},onUnload:(r,l,d)=>{d.clear()},state:ft})],Vt=[Mt("getValue"),dt("setValue",U),Yo("initialValue"),Xr("manager",{setValue:(r,l,d,f)=>{l.store.setValue(r,f),l.onSetValue(r,f)},getValue:(r,l,d)=>l.store.getValue(r),onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(r,f)})},onUnload:U,state:Hc.init})],Jt=[Yo("initialValue"),Xr("manager",{setValue:(r,l,d,f)=>{d.set(f),l.onSetValue(r,f)},getValue:(r,l,d)=>d.get(),onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(r,l,d)=>{d.clear()},state:ct})],on=[Ha("store",{mode:"memory"},bi("mode",{memory:Jt,manual:Vt,dataset:Pt})),nr("onSetValue"),dt("resetOnDom",!1)];const gt=Mi({fields:on,name:"representing",active:Ge,apis:Ue,extra:{setValueFrom:(r,l)=>{const d=gt.getValue(l);gt.setValue(r,d)}},state:Lt}),Sn=(r,l)=>Ua(r,{},Pe(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+r,fi(f,f,{tag:"option",process:{}},ed(v=>il("The field: "+f+" is forbidden. "+b)));var f,b}).concat([qi("dump",de)])),to=r=>r.dump,Eo=(r,l)=>({...Yt(l),...r.dump}),io=Sn,no=Eo,ko="placeholder",Xo=tc([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ii=r=>uo(r,"uiType"),Ra=(r,l,d,f)=>((b,v,C,k)=>ii(C)&&C.uiType===ko?((E,N,F,M)=>E.exists(V=>V!==F.owner)?Xo.single(!0,Z(F)):En(M,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+Ut(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},V=>V.replace()))(b,0,C,k):Xo.single(!1,Z(C)))(r,0,d,f).fold((b,v)=>{const C=ii(d)?v(l,d.config,d.validated):v(l),k=En(C,"components").getOr([]),E=pn(k,N=>Ra(r,l,N,f));return[{...C,components:E}]},(b,v)=>{if(ii(d)){const C=v(l,d.config,d.validated);return d.validated.preprocess.getOr(de)(C)}return v(l)}),Qi=Xo.single,vc=Xo.multiple,dg=Z(ko),Na=tc([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),md=dt("factory",{sketch:de}),Zp=dt("schema",[]),im=Mt("name"),Gp=fi("pname","pname",ch(r=>"<alloy."+_n(r.name)+">"),Kl()),cy=qi("schema",()=>[Yo("preprocess")]),am=dt("defaults",Z({})),v_=dt("overrides",Z({})),w8=Gn([md,Zp,im,Gp,am,v_]),C8=Gn([md,Zp,im,am,v_]),_D=Gn([md,Zp,im,Gp,am,v_]),Tn=Gn([md,cy,im,Mt("unit"),Gp,am,v_]),E2=r=>r.fold(R.some,R.none,R.some,R.some),nA=r=>{const l=d=>d.name;return r.fold(l,l,l,l)},y_=(r,l)=>d=>{const f=Ia("Converting part type",l,d);return r(f)},Dl=y_(Na.required,w8),af=y_(Na.external,C8),Ou=y_(Na.optional,_D),x_=y_(Na.group,Tn),oA=Z("entirety");var SD=Object.freeze({__proto__:null,required:Dl,external:af,optional:Ou,group:x_,asNamedPart:E2,name:nA,asCommon:r=>r.fold(de,de,de,de),original:oA});const rA=(r,l,d,f)=>Br(l.defaults(r,d,f),d,{uid:r.partUids[l.name]},l.overrides(r,d,f)),ml=(r,l)=>{const d={};return mt(l,f=>{E2(f).each(b=>{const v=A2(r,b.pname);d[b.name]=C=>{const k=Ia("Part: "+b.name+" in "+r,Gn(b.schema),C);return{...v,config:C,validated:k}}})}),d},A2=(r,l)=>({uiType:dg(),owner:r,name:l}),sA=(r,l,d)=>({uiType:dg(),owner:r,name:l,config:d,validated:{}}),kD=r=>pn(r,l=>l.fold(R.none,R.some,R.none,R.none).map(d=>Mc(d.name,d.schema.concat([xv(oA())]))).toArray()),ED=r=>Pe(r,nA),iA=(r,l,d)=>((f,b,v)=>{const C={},k={};return mt(v,E=>{E.fold(N=>{C[N.pname]=Qi(!0,(F,M,V)=>N.factory.sketch(rA(F,N,M,V)))},N=>{const F=b.parts[N.name];k[N.name]=Z(N.factory.sketch(rA(b,N,F[oA()]),F))},N=>{C[N.pname]=Qi(!1,(F,M,V)=>N.factory.sketch(rA(F,N,M,V)))},N=>{C[N.pname]=vc(!0,(F,M,V)=>{const Y=F[N.name];return Pe(Y,te=>N.factory.sketch(Br(N.defaults(F,te,V),te,N.overrides(F,te))))})})}),{internals:Z(C),externals:Z(k)}})(0,l,d),aA=(r,l,d)=>((f,b,v,C)=>{const k=eo(C,(N,F)=>((M,V)=>{let Y=!1;return{name:Z(M),required:()=>V.fold((te,fe)=>te,(te,fe)=>te),used:()=>Y,replace:()=>{if(Y)throw new Error("Trying to use the same placeholder more than once: "+M);return Y=!0,V}}})(F,N)),E=((N,F,M,V)=>pn(M,Y=>Ra(N,F,Y,V)))(f,b,v,k);return qn(k,N=>{if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(R.some(r),l,l.components,d),Qr=(r,l,d)=>{const f=l.partUids[d];return r.getSystem().getByUid(f).toOptional()},Mh=(r,l,d)=>Qr(r,l,d).getOrDie("Could not find part: "+d),AD=(r,l,d)=>{const f={},b=l.partUids,v=r.getSystem();return mt(d,C=>{f[C]=Z(v.getByUid(b[C]))}),f},lA=(r,l)=>{const d=r.getSystem();return eo(l.partUids,(f,b)=>Z(d.getByUid(f)))},TD=r=>Ut(r.partUids),cA=(r,l,d)=>{const f={},b=l.partUids,v=r.getSystem();return mt(d,C=>{f[C]=Z(v.getByUid(b[C]).getOrDie())}),f},OD=(r,l)=>{const d=ED(l);return Gd(Pe(d,f=>({key:f,value:r+"-"+f})))},uA=r=>fi("partUids","partUids",tr(l=>OD(l.uid,r)),Kl());var _8=Object.freeze({__proto__:null,generate:ml,generateOne:sA,schemas:kD,names:ED,substitutes:iA,components:aA,defaultUids:OD,defaultUidsSchema:uA,getAllParts:lA,getAllPartNames:TD,getPart:Qr,getPartOrDie:Mh,getParts:AD,getPartsOrDie:cA});const ID=(r,l,d,f,b)=>{const v=((C,k)=>(C.length>0?[Mc("parts",C)]:[]).concat([Mt("uid"),dt("dom",{}),dt("components",[]),xv("originalSpec"),dt("debug.sketcher",{})]).concat(k))(f,b);return Ia(r+" [SpecSchema]",Si(v.concat(l)),d)},T2=(r,l,d,f,b)=>{const v=dA(b),C=kD(d),k=uA(d),E=ID(r,l,v,C,[k]),N=iA(0,E,d);return f(E,aA(r,E,N.internals()),v,N.externals())},dA=r=>(l=>uo(l,"uid"))(r)?r:{...r,uid:Kc("uid")},S8=Si([Mt("name"),Mt("factory"),Mt("configFields"),dt("apis",{}),dt("extraApis",{})]),DD=Si([Mt("name"),Mt("factory"),Mt("configFields"),Mt("partFields"),dt("apis",{}),dt("extraApis",{})]),Iu=r=>{const l=Ia("Sketcher for "+r.name,S8,r),d=eo(l.apis,F1),f=eo(l.extraApis,(b,v)=>hc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,k,E)=>{const N=dA(E);return k(ID(v,C,N,[],[]),N)})(l.name,l.configFields,l.factory,b),...d,...f}},jl=r=>{const l=Ia("Sketcher for "+r.name,DD,r),d=ml(l.name,l.partFields),f=eo(l.apis,F1),b=eo(l.extraApis,(v,C)=>hc(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>T2(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},uy=r=>au("input")(r)&&Ko(r,"type")!=="radio"||au("textarea")(r);var RD=Object.freeze({__proto__:null,getCurrent:(r,l,d)=>l.find(r)});const k8=[Mt("find")],ir=Mi({fields:k8,name:"composing",apis:RD}),ND=["input","button","textarea","select"],PD=(r,l,d)=>{(l.disabled()?O2:mA)(r,l)},fA=(r,l)=>l.useNative===!0&&ut(ND,nl(r.element)),LD=r=>{cn(r.element,"disabled","disabled")},E8=r=>{Ro(r.element,"disabled")},dy=r=>{cn(r.element,"aria-disabled","true")},A8=r=>{cn(r.element,"aria-disabled","false")},O2=(r,l,d)=>{l.disableClass.each(f=>{Es(r.element,f)}),(fA(r,l)?LD:dy)(r),l.onDisabled(r)},mA=(r,l,d)=>{l.disableClass.each(f=>{Rs(r.element,f)}),(fA(r,l)?E8:A8)(r),l.onEnabled(r)},fy=(r,l)=>fA(r,l)?(d=>Bs(d.element,"disabled"))(r):(d=>Ko(d.element,"aria-disabled")==="true")(r);var T8=Object.freeze({__proto__:null,enable:mA,disable:O2,isDisabled:fy,onLoad:PD,set:(r,l,d,f)=>{(f?O2:mA)(r,l)}}),O8=Object.freeze({__proto__:null,exhibit:(r,l)=>js({classes:l.disabled()?l.disableClass.toArray():[]}),events:(r,l)=>xo([Dp(El(),(d,f)=>fy(d,r)),cv(r,l,PD)])}),I8=[os("disabled",Ae),dt("useNative",!0),Yo("disableClass"),nr("onDisabled"),nr("onEnabled")];const ao=Mi({fields:I8,name:"disabling",active:O8,apis:T8}),MD=(r,l,d,f)=>{const b=Ai(r.element,"."+l.highlightClass);mt(b,v=>{kn(f,C=>dr(C.element,v))||(Rs(v,l.highlightClass),r.getSystem().getByDom(v).each(C=>{l.onDehighlight(r,C),No(C,Hf())}))})},Gv=(r,l,d,f)=>{MD(r,l,0,[f]),gA(r,l,d,f)||(Es(f.element,l.highlightClass),l.onHighlight(r,f),No(f,Bx()))},gA=(r,l,d,f)=>cl(f.element,l.highlightClass),BD=(r,l,d)=>fs(r.element,"."+l.itemClass).bind(f=>r.getSystem().getByDom(f).toOptional()),FD=(r,l,d)=>{const f=Ai(r.element,"."+l.itemClass);return(f.length>0?R.some(f[f.length-1]):R.none()).bind(b=>r.getSystem().getByDom(b).toOptional())},$D=(r,l,d,f)=>{const b=Ai(r.element,"."+l.itemClass);return co(b,v=>cl(v,l.highlightClass)).bind(v=>{const C=Jm(v,f,0,b.length-1);return r.getSystem().getByDom(b[C]).toOptional()})},VD=(r,l,d)=>{const f=Ai(r.element,"."+l.itemClass);return tl(Pe(f,b=>r.getSystem().getByDom(b).toOptional()))};var D8=Object.freeze({__proto__:null,dehighlightAll:(r,l,d)=>MD(r,l,0,[]),dehighlight:(r,l,d,f)=>{gA(r,l,d,f)&&(Rs(f.element,l.highlightClass),l.onDehighlight(r,f),No(f,Hf()))},highlight:Gv,highlightFirst:(r,l,d)=>{BD(r,l).each(f=>{Gv(r,l,d,f)})},highlightLast:(r,l,d)=>{FD(r,l).each(f=>{Gv(r,l,d,f)})},highlightAt:(r,l,d,f)=>{((b,v,C,k)=>{const E=Ai(b.element,"."+v.itemClass);return R.from(E[k]).fold(()=>Ho.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(r,l,0,f).fold(b=>{throw b},b=>{Gv(r,l,d,b)})},highlightBy:(r,l,d,f)=>{const b=VD(r,l);Q(b,f).each(v=>{Gv(r,l,d,v)})},isHighlighted:gA,getHighlighted:(r,l,d)=>fs(r.element,"."+l.highlightClass).bind(f=>r.getSystem().getByDom(f).toOptional()),getFirst:BD,getLast:FD,getPrevious:(r,l,d)=>$D(r,l,0,-1),getNext:(r,l,d)=>$D(r,l,0,1),getCandidates:VD}),zD=[Mt("highlightClass"),Mt("itemClass"),nr("onHighlight"),nr("onDehighlight")];const Er=Mi({fields:zD,name:"highlighting",apis:D8}),HD=[8],lf=[9],fg=[13],w_=[27],Yc=[32],C_=[37],my=[38],I2=[39],gy=[40],R8=(r,l,d)=>{const f=nt(r.slice(0,l)),b=nt(r.slice(l+1));return Q(f.concat(b),d)},N8=(r,l,d)=>{const f=nt(r.slice(0,l));return Q(f,d)},P8=(r,l,d)=>{const f=r.slice(0,l),b=r.slice(l+1);return Q(b.concat(f),d)},L8=(r,l,d)=>{const f=r.slice(l+1);return Q(f,d)},fr=r=>l=>{const d=l.raw;return ut(r,d.which)},lm=r=>l=>je(r,d=>d(l)),mg=r=>r.raw.shiftKey===!0,M8=r=>r.raw.ctrlKey===!0,D2=Me(mg),pr=(r,l)=>({matches:r,classification:l}),UD=(r,l,d)=>{l.exists(f=>d.exists(b=>dr(b,f)))||Bn(r,S1(),{prevFocus:l,newFocus:d})},hA=()=>{const r=l=>qs(l.element);return{get:r,set:(l,d)=>{const f=r(l);l.getSystem().triggerFocus(d,l.element);const b=r(l);UD(l,f,b)}}},B8=()=>{const r=l=>Er.getHighlighted(l).map(d=>d.element);return{get:r,set:(l,d)=>{const f=r(l);l.getSystem().getByDom(d).fold(U,v=>{Er.highlight(l,v)});const b=r(l);UD(l,f,b)}}};var qv;(function(r){r.OnFocusMode="onFocus",r.OnEnterOrSpaceMode="onEnterOrSpace",r.OnApiMode="onApi"})(qv||(qv={}));const Yv=(r,l,d,f,b)=>{const v=(k,E,N,F,M)=>{return(V=N(k,E,F,M),Y=E.event,Q(V,te=>te.matches(Y)).map(te=>te.classification)).bind(te=>te(k,E,F,M));var V,Y},C={schema:()=>r.concat([dt("focusManager",hA()),Ha("focusInside","onFocus",Mf(k=>ut(["onFocus","onEnterOrSpace","onApi"],k)?Ho.value(k):Ho.error("Invalid value for focusInside"))),Xr("handler",C),Xr("state",l),Xr("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const N=k.focusInside!==qv.OnFocusMode?R.none():b(k).map(M=>It(ld(),(V,Y)=>{M(V,k,E),Y.stop()})),F=[It(ks(),(M,V)=>{v(M,V,d,k,E).fold(()=>{((Y,te)=>{const fe=fr(Yc.concat(fg))(te.event);k.focusInside===qv.OnEnterOrSpaceMode&&fe&&ov(Y,te)&&b(k).each(pe=>{pe(Y,k,E),te.stop()})})(M,V)},Y=>{V.stop()})}),It(Fc(),(M,V)=>{v(M,V,f,k,E).each(Y=>{V.stop()})})];return xo(N.toArray().concat(F))}};return C},WD=r=>{const l=[Yo("onEscape"),Yo("onEnter"),dt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),dt("firstTabstop",0),dt("useTabstopAt",ze),Yo("visibilitySelector")].concat([r]),d=(F,M)=>{const V=F.visibilitySelector.bind(Y=>dd(M,Y)).getOr(M);return Os(V)>0},f=(F,M)=>M.focusManager.get(F).bind(V=>dd(V,M.selector)),b=(F,M,V)=>{((Y,te)=>{const fe=Ai(Y.element,te.selector),pe=Ht(fe,Se=>d(te,Se));return R.from(pe[te.firstTabstop])})(F,M).each(Y=>{M.focusManager.set(F,Y)})},v=(F,M,V,Y)=>{const te=Ai(F.element,V.selector);return f(F,V).bind(fe=>co(te,Ve(dr,fe)).bind(pe=>((Se,ge,me,we,ke)=>ke(ge,me,Oe=>((Xe,lt)=>d(Xe,lt)&&Xe.useTabstopAt(lt))(we,Oe)).fold(()=>we.cyclic?R.some(!0):R.none(),Oe=>(we.focusManager.set(Se,Oe),R.some(!0))))(F,te,pe,V,Y)))},C=(F,M,V)=>{const Y=V.cyclic?R8:N8;return v(F,0,V,Y)},k=(F,M,V)=>{const Y=V.cyclic?P8:L8;return v(F,0,V,Y)},E=Z([pr(lm([mg,fr(lf)]),C),pr(fr(lf),k),pr(lm([D2,fr(fg)]),(F,M,V)=>V.onEnter.bind(Y=>Y(F,M)))]),N=Z([pr(fr(w_),(F,M,V)=>V.onEscape.bind(Y=>Y(F,M))),pr(fr(lf),(F,M,V)=>f(F,V).filter(Y=>!V.useTabstopAt(Y)).bind(Y=>((te=>(fe=>Ea(fe))(te).bind(Ie).exists(fe=>dr(fe,te)))(Y)?C:k)(F,M,V)))]);return Yv(l,Hc.init,E,N,()=>R.some(b))};var F8=WD(qi("cyclic",Ae)),$8=WD(qi("cyclic",ze));const R2=(r,l,d)=>uy(d)&&fr(Yc)(l.event)?R.none():((f,b,v)=>(bs(f,v,El()),R.some(!0)))(r,0,d),Xv=(r,l)=>R.some(!0),V8=[dt("execute",R2),dt("useSpace",!1),dt("useEnter",!0),dt("useControlEnter",!1),dt("useDown",!1)],KD=(r,l,d)=>d.execute(r,l,r.element);var z8=Yv(V8,Hc.init,(r,l,d,f)=>{const b=d.useSpace&&!uy(r.element)?Yc:[],v=d.useEnter?fg:[],C=d.useDown?gy:[],k=b.concat(v).concat(C);return[pr(fr(k),KD)].concat(d.useControlEnter?[pr(lm([M8,fr(fg)]),KD)]:[])},(r,l,d,f)=>d.useSpace&&!uy(r.element)?[pr(fr(Yc),Xv)]:[],()=>R.none());const jD=()=>{const r=Or();return Li({readState:()=>r.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{r.set({numRows:l,numColumns:d})},getNumRows:()=>r.get().map(l=>l.numRows),getNumColumns:()=>r.get().map(l=>l.numColumns)})};var ZD=Object.freeze({__proto__:null,flatgrid:jD,init:r=>r.state(r)});const GD=r=>(l,d,f,b)=>{const v=r(l.element);return qD(v,l,d,f,b)},pA=(r,l)=>{const d=h2(r,l);return GD(d)},bA=(r,l)=>{const d=h2(l,r);return GD(d)},vA=r=>(l,d,f,b)=>qD(r,l,d,f,b),qD=(r,l,d,f,b)=>f.focusManager.get(l).bind(v=>r(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),yA=vA,YD=vA,__=vA,XD=r=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(r.dom),xA=(r,l,d)=>{const f=Ai(r,d);return((b,v)=>co(b,C=>dr(C,l)).map(C=>({index:C,candidates:b})))(Ht(f,XD))},S_=(r,l)=>co(r,d=>dr(l,d)),JD=(r,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<r.length?R.some(r[v]):R.none()}),QD=(r,l,d,f,b)=>JD(r,l,f,(v,C)=>{const k=v===d-1?r.length-v*f:f,E=Jm(C,b,0,k-1);return R.some({row:v,column:E})}),eR=(r,l,d,f,b)=>JD(r,l,f,(v,C)=>{const k=Jm(v,b,0,d-1),E=k===d-1?r.length-k*f:f,N=Wc(C,0,E-1);return R.some({row:k,column:N})}),H8=[Mt("selector"),dt("execute",R2),Al("onEscape"),dt("captureTab",!1),n_()],tR=(r,l,d)=>{fs(r.element,l.selector).each(f=>{l.focusManager.set(r,f)})},N2=r=>(l,d,f,b)=>xA(l,d,f.selector).bind(v=>r(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),wA=(r,l,d)=>d.captureTab?R.some(!0):R.none(),CA=N2((r,l,d,f)=>QD(r,l,d,f,-1)),_A=N2((r,l,d,f)=>QD(r,l,d,f,1)),U8=N2((r,l,d,f)=>eR(r,l,d,f,-1)),W8=N2((r,l,d,f)=>eR(r,l,d,f,1)),K8=Z([pr(fr(C_),pA(CA,_A)),pr(fr(I2),bA(CA,_A)),pr(fr(my),yA(U8)),pr(fr(gy),YD(W8)),pr(lm([mg,fr(lf)]),wA),pr(lm([D2,fr(lf)]),wA),pr(fr(Yc.concat(fg)),(r,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(C=>dd(C,v.selector)))(r,d).bind(b=>d.execute(r,l,b)))]),j8=Z([pr(fr(w_),(r,l,d)=>d.onEscape(r,l)),pr(fr(Yc),Xv)]);var Z8=Yv(H8,jD,K8,j8,()=>R.some(tR));const qp=(r,l,d,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],N=>{return F=E[N],nl(F)==="button"&&Ko(F,"disabled")==="disabled"?v(C,N,E):R.from(E[N]);var F});return xA(r,d,l).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},nR=(r,l,d,f)=>qp(r,l,d,f,(b,v,C,k,E,N,F)=>{const M=Wc(v+C,k,E);return M===b?R.from(N):F(M)}),k_=(r,l,d,f)=>qp(r,l,d,f,(b,v,C,k,E,N,F)=>{const M=Jm(v,C,k,E);return M===b?R.none():F(M)}),G8=[Mt("selector"),dt("getInitial",R.none),dt("execute",R2),Al("onEscape"),dt("executeOnMove",!1),dt("allowVertical",!0),dt("allowHorizontal",!0),dt("cycles",!0)],SA=(r,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>dd(v,b.selector)))(r,d).bind(f=>d.execute(r,l,f)),oR=(r,l,d)=>{l.getInitial(r).orThunk(()=>fs(r.element,l.selector)).each(f=>{l.focusManager.set(r,f)})},rR=(r,l,d)=>(d.cycles?k_:nR)(r,d.selector,l,-1),sR=(r,l,d)=>(d.cycles?k_:nR)(r,d.selector,l,1),kA=r=>(l,d,f,b)=>r(l,d,f,b).bind(()=>f.executeOnMove?SA(l,d,f):R.some(!0)),P2=Z([pr(fr(Yc),Xv),pr(fr(w_),(r,l,d)=>d.onEscape(r,l))]);var L2=Yv(G8,Hc.init,(r,l,d,f)=>{const b=[...d.allowHorizontal?C_:[]].concat(d.allowVertical?my:[]),v=[...d.allowHorizontal?I2:[]].concat(d.allowVertical?gy:[]);return[pr(fr(b),kA(pA(rR,sR))),pr(fr(v),kA(bA(rR,sR))),pr(fr(fg),SA),pr(fr(Yc),SA)]},P2,()=>R.some(oR));const E_=(r,l,d)=>R.from(r[l]).bind(f=>R.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),A_=(r,l,d,f)=>{const b=r[l].length,v=Jm(d,f,0,b-1);return E_(r,l,v)},iR=(r,l,d,f)=>{const b=Jm(d,f,0,r.length-1),v=r[b].length,C=Wc(l,0,v-1);return E_(r,b,C)},EA=(r,l,d,f)=>{const b=r[l].length,v=Wc(d+f,0,b-1);return E_(r,l,v)},AA=(r,l,d,f)=>{const b=Wc(d+f,0,r.length-1),v=r[b].length,C=Wc(l,0,v-1);return E_(r,b,C)},aR=[Mc("selectors",[Mt("row"),Mt("cell")]),dt("cycles",!0),dt("previousSelector",R.none),dt("execute",R2)],q8=(r,l,d)=>{l.previousSelector(r).orThunk(()=>{const f=l.selectors;return fs(r.element,f.cell)}).each(f=>{l.focusManager.set(r,f)})},T_=(r,l)=>(d,f,b)=>{const v=b.cycles?r:l;return dd(f,b.selectors.row).bind(C=>{const k=Ai(C,b.selectors.cell);return S_(k,f).bind(E=>{const N=Ai(d,b.selectors.row);return S_(N,C).bind(F=>{const M=((V,Y)=>Pe(V,te=>Ai(te,Y.selectors.cell)))(N,b);return v(M,F,E).map(V=>V.cell)})})})},lR=T_((r,l,d)=>A_(r,l,d,-1),(r,l,d)=>EA(r,l,d,-1)),Jv=T_((r,l,d)=>A_(r,l,d,1),(r,l,d)=>EA(r,l,d,1)),Qv=T_((r,l,d)=>iR(r,d,l,-1),(r,l,d)=>AA(r,d,l,-1)),O_=T_((r,l,d)=>iR(r,d,l,1),(r,l,d)=>AA(r,d,l,1)),M2=Z([pr(fr(C_),pA(lR,Jv)),pr(fr(I2),bA(lR,Jv)),pr(fr(my),yA(Qv)),pr(fr(gy),YD(O_)),pr(fr(Yc.concat(fg)),(r,l,d)=>qs(r.element).bind(f=>d.execute(r,l,f)))]),Y8=Z([pr(fr(Yc),Xv)]);var Yp=Yv(aR,Hc.init,M2,Y8,()=>R.some(q8));const gg=[Mt("selector"),dt("execute",R2),dt("moveOnTab",!1)],I_=(r,l,d)=>d.focusManager.get(r).bind(f=>d.execute(r,l,f)),cR=(r,l,d)=>{fs(r.element,l.selector).each(f=>{l.focusManager.set(r,f)})},uR=(r,l,d)=>k_(r,d.selector,l,-1),TA=(r,l,d)=>k_(r,d.selector,l,1),B2=Z([pr(fr(my),__(uR)),pr(fr(gy),__(TA)),pr(lm([mg,fr(lf)]),(r,l,d,f)=>d.moveOnTab?__(uR)(r,l,d,f):R.none()),pr(lm([D2,fr(lf)]),(r,l,d,f)=>d.moveOnTab?__(TA)(r,l,d,f):R.none()),pr(fr(fg),I_),pr(fr(Yc),I_)]),F2=Z([pr(fr(Yc),Xv)]);var OA=Yv(gg,Hc.init,B2,F2,()=>R.some(cR));const dR=[Al("onSpace"),Al("onEnter"),Al("onShiftEnter"),Al("onLeft"),Al("onRight"),Al("onTab"),Al("onShiftTab"),Al("onUp"),Al("onDown"),Al("onEscape"),dt("stopSpaceKeyup",!1),Yo("focusIn")];var $2=Yv(dR,Hc.init,(r,l,d)=>[pr(fr(Yc),d.onSpace),pr(lm([D2,fr(fg)]),d.onEnter),pr(lm([mg,fr(fg)]),d.onShiftEnter),pr(lm([mg,fr(lf)]),d.onShiftTab),pr(lm([D2,fr(lf)]),d.onTab),pr(fr(my),d.onUp),pr(fr(gy),d.onDown),pr(fr(C_),d.onLeft),pr(fr(I2),d.onRight),pr(fr(Yc),d.onSpace)],(r,l,d)=>[...d.stopSpaceKeyup?[pr(fr(Yc),Xv)]:[],pr(fr(w_),d.onEscape)],r=>r.focusIn);const D_=F8.schema(),X8=$8.schema(),IA=L2.schema(),R_=Z8.schema(),ja=Yp.schema(),J8=z8.schema(),hg=OA.schema(),fR=$2.schema(),$n=QC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:D_,cyclic:X8,flow:IA,flatgrid:R_,matrix:ja,execution:J8,menu:hg,special:fR}),name:"keying",active:{events:(r,l)=>r.handler.toEvents(r,l)},apis:{focusIn:(r,l,d)=>{l.sendFocusIn(l).fold(()=>{r.getSystem().triggerFocus(r.element,r.element)},f=>{f(r,l,d)})},setGridSize:(r,l,d,f,b)=>{(v=>Oo(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:ZD}),e0=(r,l)=>{rg(()=>{((d,f,b)=>{const v=d.components();(E=>{mt(E.components(),N=>Zi(N.element)),us(E.element),E.syncComponents()})(d);const C=b(f),k=xe(v,C);mt(k,E=>{cg(E),d.getSystem().removeFromWorld(E)}),mt(C,E=>{ry(E)?Lh(d,E):(d.getSystem().addToWorld(E),Lh(d,E),mn(d.element)&&ug(E))}),d.syncComponents()})(r,l,()=>Pe(l,r.getSystem().build))},r.element)},DA=(r,l)=>{rg(()=>{((d,f,b)=>{const v=d.components(),C=pn(f,N=>Qx(N).toArray());mt(v,N=>{ut(C,N)||sy(N)});const k=((N,F,M)=>r_(N,F,(V,Y)=>o2(N,Y,V,M)))(r.element,l,r.getSystem().buildOrPatch),E=xe(v,k);mt(E,N=>{ry(N)&&sy(N)}),mt(k,N=>{ry(N)||jv(d,N)}),d.syncComponents()})(r,l)},r.element)},N_=(r,l,d,f)=>{sy(l);const b=o2(r.element,d,f,r.getSystem().buildOrPatch);jv(r,b),r.syncComponents()},RA=(r,l,d)=>{const f=r.getSystem().build(d);C2(r,f,l)},mR=(r,l,d,f)=>{fl(l),RA(r,(b,v)=>((C,k,E)=>{cs(C,E).fold(()=>{Ba(C,k)},N=>{Hd(N,k)})})(b,v,d),f)},V2=(r,l)=>r.components(),gR=(r,l,d,f,b)=>{const v=V2(r);return R.from(v[f]).map(C=>(b.fold(()=>fl(C),k=>{(l.reuseDom?N_:mR)(r,C,f,k)}),C))};var NA=Object.freeze({__proto__:null,append:(r,l,d,f)=>{RA(r,Ba,f)},prepend:(r,l,d,f)=>{RA(r,lh,f)},remove:(r,l,d,f)=>{const b=V2(r);Q(b,C=>dr(f.element,C.element)).each(fl)},replaceAt:gR,replaceBy:(r,l,d,f,b)=>{const v=V2(r);return co(v,f).bind(C=>gR(r,l,0,C,b))},set:(r,l,d,f)=>(l.reuseDom?DA:e0)(r,f),contents:V2});const Jn=Mi({fields:[ri("reuseDom",!0)],name:"replacing",apis:NA}),Ao=(r,l)=>{const d=((f,b)=>{const v=xo(b);return Mi({fields:[Mt("enabled")],name:f,active:{events:Z(v)}})})(r,l);return{key:r,value:{config:{},me:d,configAsRaw:Z({}),initialConfig:{},state:Hc}}},hR=(r,l)=>{l.ignore||(Wa(r.element),l.onFocus(r))};var pR=Object.freeze({__proto__:null,focus:hR,blur:(r,l)=>{l.ignore||Av(r.element)},isFocused:r=>Oh(r.element)}),bR=Object.freeze({__proto__:null,exhibit:(r,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return js(d)},events:r=>xo([It(ld(),(l,d)=>{hR(l,r),d.stop()})].concat(r.stopMousedown?[It(Bt(),(l,d)=>{d.event.prevent()})]:[]))}),vR=[nr("onFocus"),dt("stopMousedown",!1),dt("ignore",!1)];const so=Mi({fields:vR,name:"focusing",active:bR,apis:pR}),z2=(r,l,d,f)=>{const b=d.get();d.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?Es(v.element,E):Rs(v.element,E)})})(r,l,d),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(r,l,d),b!==f&&l.onToggled(r,f)},Du=(r,l,d)=>{z2(r,l,d,!d.get())},t0=(r,l,d)=>{z2(r,l,d,l.selected)};var yR=Object.freeze({__proto__:null,onLoad:t0,toggle:Du,isOn:(r,l,d)=>d.get(),on:(r,l,d)=>{z2(r,l,d,!0)},off:(r,l,d)=>{z2(r,l,d,!1)},set:z2}),hy=Object.freeze({__proto__:null,exhibit:()=>js({}),events:(r,l)=>{const d=(f=r,b=l,v=Du,Cu(k=>{v(k,f,b)}));var f,b,v;const C=cv(r,l,t0);return xo(Kt([r.toggleOnExecute?[d]:[],[C]]))}});const oc=(r,l,d)=>{cn(r.element,"aria-expanded",d)};var Xc=[dt("selected",!1),Yo("toggleClass"),dt("toggleOnExecute",!0),nr("onToggled"),Ha("aria",{mode:"none"},bi("mode",{pressed:[dt("syncWithExpanded",!1),Xr("update",(r,l,d)=>{cn(r.element,"aria-pressed",d),l.syncWithExpanded&&oc(r,0,d)})],checked:[Xr("update",(r,l,d)=>{cn(r.element,"aria-checked",d)})],expanded:[Xr("update",oc)],selected:[Xr("update",(r,l,d)=>{cn(r.element,"aria-selected",d)})],none:[Xr("update",U)]}))];const oo=Mi({fields:Xc,name:"toggling",active:hy,apis:yR,state:{init:()=>{const r=Hn(!1);return{get:()=>r.get(),set:l=>r.set(l),clear:()=>r.set(!1),readState:()=>r.get()}}}}),gd=()=>{const r=(l,d)=>{d.stop(),Uf(l)};return[It(vi(),r),It(Ff(),r),Zm(G()),Zm(Bt())]},py=r=>xo(Kt([r.map(l=>Cu((d,f)=>{l(d),f.stop()})).toArray(),gd()])),Ru="alloy.item-hover",Xp="alloy.item-focus",xR="alloy.item-toggled",wR=r=>{(qs(r.element).isNone()||so.isFocused(r))&&(so.isFocused(r)||so.focus(r),Bn(r,Ru,{item:r}))},CR=r=>{Bn(r,Xp,{item:r})},PA=Z(Ru),_R=Z(Xp),P_=Z(xR),SR=r=>r.role.fold(()=>r.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),de),Q8=[Mt("data"),Mt("components"),Mt("dom"),dt("hasSubmenu",!1),Yo("toggling"),Yo("role"),io("itemBehaviours",[oo,so,$n,gt]),dt("ignoreFocus",!1),dt("domModification",{}),Xr("builder",r=>({dom:r.dom,domModification:{...r.domModification,attributes:{role:SR(r),...r.domModification.attributes,"aria-haspopup":r.hasSubmenu,...r.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:no(r.itemBehaviours,[r.toggling.fold(oo.revoke,l=>oo.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...cr(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{W(d.onToggled)&&d.onToggled(b,v),((C,k)=>{Bn(C,xR,{item:C,state:k})})(b,v)}}))(l,r.role.exists(d=>d==="option")))),so.config({ignore:r.ignoreFocus,stopMousedown:r.ignoreFocus,onFocus:l=>{CR(l)}}),$n.config({mode:"execution"}),gt.config({store:{mode:"memory",initialValue:r.data}}),Ao("item-type-events",[...gd(),It(Pn(),wR),It(iv(),so.focus)])]),components:r.components,eventOrder:r.eventOrder})),dt("eventOrder",{})],e7=[Mt("dom"),Mt("components"),Xr("builder",r=>({dom:r.dom,components:r.components,events:xo([XC(iv())])}))],LA=Z("item-widget"),MA=Z([Dl({name:"widget",overrides:r=>({behaviours:Yt([gt.config({store:{mode:"manual",getValue:l=>r.data,setValue:U}})])})})]),kR=[Mt("uid"),Mt("data"),Mt("components"),Mt("dom"),dt("autofocus",!1),dt("ignoreFocus",!1),io("widgetBehaviours",[gt,so,$n]),dt("domModification",{}),uA(MA()),Xr("builder",r=>{const l=iA(LA(),r,MA()),d=aA(LA(),r,l.internals()),f=v=>Qr(v,r,"widget").map(C=>($n.focusIn(C),C)),b=(v,C)=>(uy(C.event.target)||r.autofocus&&C.setSource(v.element),R.none());return{dom:r.dom,components:d,domModification:r.domModification,events:xo([Cu((v,C)=>{f(v).each(k=>{C.stop()})}),It(Pn(),wR),It(iv(),(v,C)=>{r.autofocus?f(v):so.focus(v)})]),behaviours:no(r.widgetBehaviours,[gt.config({store:{mode:"memory",initialValue:r.data}}),so.config({ignore:r.ignoreFocus,onFocus:v=>{CR(v)}}),$n.config({mode:"special",focusIn:r.autofocus?v=>{f(v)}:HE(),onLeft:b,onRight:b,onEscape:(v,C)=>so.isFocused(v)||r.autofocus?(r.autofocus&&C.setSource(v.element),R.none()):(so.focus(v),R.some(!0))})])}})],ER=bi("type",{widget:kR,item:Q8,separator:e7}),BA=Z([x_({factory:{sketch:r=>{const l=Ia("menu.spec item",ER,r);return l.builder(l)}},name:"items",unit:"item",defaults:(r,l)=>uo(l,"uid")?l:{...l,uid:Kc("item")},overrides:(r,l)=>({type:l.type,ignoreFocus:r.fakeFocus,domModification:{classes:[r.markers.item]}})})]),AR=Z([Fs("role"),Mt("value"),Mt("items"),Mt("dom"),Mt("components"),dt("eventOrder",{}),Sn("menuBehaviours",[Er,gt,ir,$n]),Ha("movement",{mode:"menu",moveOnTab:!0},bi("mode",{grid:[n_(),Xr("config",(r,l)=>({mode:"flatgrid",selector:"."+r.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:r.focusManager}))],matrix:[Xr("config",(r,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+r.markers.item},previousSelector:l.previousSelector,focusManager:r.focusManager})),Mt("rowSelector"),dt("previousSelector",R.none)],menu:[dt("moveOnTab",!0),Xr("config",(r,l)=>({mode:"menu",selector:"."+r.markers.item,moveOnTab:l.moveOnTab,focusManager:r.focusManager}))]})),Yi("markers",vh()),dt("fakeFocus",!1),dt("focusManager",hA()),nr("onHighlight"),nr("onDehighlight"),dt("showMenuRole",!0)]),TR=Z("alloy.menu-focus"),n0=jl({name:"Menu",configFields:AR(),partFields:BA(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,markers:r.markers,behaviours:Eo(r.menuBehaviours,[Er.config({highlightClass:r.markers.selectedItem,itemClass:r.markers.item,onHighlight:r.onHighlight,onDehighlight:r.onDehighlight}),gt.config({store:{mode:"memory",initialValue:r.value}}),ir.config({find:R.some}),$n.config(r.movement.config(r,r.movement))]),events:xo([It(_R(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{Er.highlight(b,k),v.stop(),Bn(b,TR(),{menu:b,item:k})})}),It(PA(),(b,v)=>{const C=v.event.item;Er.highlight(b,C)}),It(P_(),(b,v)=>{const{item:C,state:k}=v.event;k&&Ko(C.element,"role")==="menuitemradio"&&((E,N)=>{const F=Ai(E.element,'[role="menuitemradio"][aria-checked="true"]');mt(F,M=>{dr(M,N.element)||E.getSystem().getByDom(M).each(V=>{oo.off(V)})})})(b,C)})]),components:l,eventOrder:r.eventOrder,...r.showMenuRole?{domModification:{attributes:{role:r.role.getOr("menu")}}}:{}})}),OR=(r,l,d,f)=>En(d,f).bind(b=>En(r,b).bind(v=>{const C=OR(r,l,d,v);return R.some([v].concat(C))})).getOr([]),IR=r=>r.type==="prepared"?R.some(r.menu):R.none(),t7=()=>{const r=Hn({}),l=Hn({}),d=Hn({}),f=Or(),b=Hn({}),v=E=>C(E).bind(IR),C=E=>En(l.get(),E),k=E=>En(r.get(),E);return{setMenuBuilt:(E,N)=>{l.set({...l.get(),[E]:{type:"prepared",menu:N}})},setContents:(E,N,F,M)=>{f.set(E),r.set(F),l.set(N),b.set(M);const V=((Y,te)=>{const fe={};qn(Y,(me,we)=>{mt(me,ke=>{fe[ke]=we})});const pe=te,Se=Fo(te,(me,we)=>({k:me,v:we})),ge=eo(Se,(me,we)=>[we].concat(OR(fe,pe,Se,we)));return eo(fe,me=>En(ge,me).getOr([me]))})(M,F);d.set(V)},expand:E=>En(r.get(),E).map(N=>{const F=En(d.get(),E).getOr([]);return[N].concat(F)}),refresh:E=>En(d.get(),E),collapse:E=>En(d.get(),E).bind(N=>N.length>1?R.some(N.slice(1)):R.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const N=b.get();return xe(Ut(N),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{r.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,N)=>{const F=Ht(k(E).toArray(),M=>v(M).isSome());return En(d.get(),E).bind(M=>{const V=nt(F.concat(M));return(Y=>{const te=[];for(let fe=0;fe<Y.length;fe++){const pe=Y[fe];if(!pe.isSome())return R.none();te.push(pe.getOrDie())}return R.some(te)})(pn(V,(Y,te)=>((fe,pe,Se)=>v(fe).bind(ge=>(me=>xr(r.get(),(we,ke)=>we===me))(fe).bind(me=>pe(me).map(we=>({triggeredMenu:ge,triggeringItem:we,triggeringPath:Se})))))(Y,N,V.slice(0,te+1)).fold(()=>ci(f.get(),Y)?[]:[R.none()],fe=>[R.some(fe)])))})}}},n7=IR,Nu=_n("tiered-menu-item-highlight"),o7=_n("tiered-menu-item-dehighlight");var gl;(function(r){r[r.HighlightMenuAndItem=0]="HighlightMenuAndItem",r[r.HighlightJustMenu=1]="HighlightJustMenu",r[r.HighlightNone=2]="HighlightNone"})(gl||(gl={}));const o0=Z("collapse-item"),Bh=Iu({name:"TieredMenu",configFields:[Da("onExecute"),Da("onEscape"),ud("onOpenMenu"),ud("onOpenSubmenu"),nr("onRepositionMenu"),nr("onCollapseMenu"),dt("highlightOnOpen",gl.HighlightMenuAndItem),Mc("data",[Mt("primary"),Mt("menus"),Mt("expansions")]),dt("fakeFocus",!1),nr("onHighlightItem"),nr("onDehighlightItem"),nr("onHover"),yh(),Mt("dom"),dt("navigateOnHover",!0),dt("stayInDom",!1),Sn("tmenuBehaviours",[$n,Er,ir,Jn]),dt("eventOrder",{})],apis:{collapseMenu:(r,l)=>{r.collapseMenu(l)},highlightPrimary:(r,l)=>{r.highlightPrimary(l)},repositionMenus:(r,l)=>{r.repositionMenus(l)}},factory:(r,l)=>{const d=Or(),f=t7(),b=me=>gt.getValue(me).value,v=me=>eo(r.data.menus,(we,ke)=>pn(we.items,Oe=>Oe.type==="separator"?[]:[Oe.data.value])),C=Er.highlight,k=(me,we)=>{C(me,we),Er.getHighlighted(we).orThunk(()=>Er.getFirst(we)).each(ke=>{r.fakeFocus?Er.highlight(we,ke):bs(me,ke.element,iv())})},E=(me,we)=>tl(Pe(we,ke=>me.lookupMenu(ke).bind(Oe=>Oe.type==="prepared"?R.some(Oe.menu):R.none()))),N=(me,we,ke)=>{const Oe=E(we,we.otherMenus(ke));mt(Oe,Xe=>{pc(Xe.element,[r.markers.backgroundMenu]),r.stayInDom||Jn.remove(me,Xe)})},F=(me,we)=>{const ke=(Oe=>d.get().getOrThunk(()=>{const Xe={},lt=Ai(Oe.element,`.${r.markers.item}`),Nt=Ht(lt,Tt=>Ko(Tt,"aria-haspopup")==="true");return mt(Nt,Tt=>{Oe.getSystem().getByDom(Tt).each(kt=>{const Wt=b(kt);Xe[Wt]=kt})}),d.set(Xe),Xe}))(me);qn(ke,(Oe,Xe)=>{const lt=ut(we,Xe);cn(Oe.element,"aria-expanded",lt)})},M=(me,we,ke)=>R.from(ke[0]).bind(Oe=>we.lookupMenu(Oe).bind(Xe=>{if(Xe.type==="notbuilt")return R.none();{const lt=Xe.menu,Nt=E(we,ke.slice(1));return mt(Nt,Tt=>{Es(Tt.element,r.markers.backgroundMenu)}),mn(lt.element)||Jn.append(me,ul(lt)),pc(lt.element,[r.markers.backgroundMenu]),k(me,lt),N(me,we,ke),R.some(lt)}}));let V;(function(me){me[me.HighlightSubmenu=0]="HighlightSubmenu",me[me.HighlightParent=1]="HighlightParent"})(V||(V={}));const Y=(me,we,ke=V.HighlightSubmenu)=>{if(we.hasConfigured(ao)&&ao.isDisabled(we))return R.some(we);{const Oe=b(we);return f.expand(Oe).bind(Xe=>(F(me,Xe),R.from(Xe[0]).bind(lt=>f.lookupMenu(lt).bind(Nt=>{const Tt=((kt,Wt,vn)=>{if(vn.type==="notbuilt"){const Rn=kt.getSystem().build(vn.nbMenu());return f.setMenuBuilt(Wt,Rn),Rn}return vn.menu})(me,lt,Nt);return mn(Tt.element)||Jn.append(me,ul(Tt)),r.onOpenSubmenu(me,we,Tt,nt(Xe)),ke===V.HighlightSubmenu?(Er.highlightFirst(Tt),M(me,f,Xe)):(Er.dehighlightAll(Tt),R.some(we))}))))}},te=(me,we)=>{const ke=b(we);return f.collapse(ke).bind(Oe=>(F(me,Oe),M(me,f,Oe).map(Xe=>(r.onCollapseMenu(me,we,Xe),Xe))))},fe=me=>(we,ke)=>dd(ke.getSource(),`.${r.markers.item}`).bind(Oe=>we.getSystem().getByDom(Oe).toOptional().bind(Xe=>me(we,Xe).map(ze))),pe=xo([It(TR(),(me,we)=>{const ke=we.event.item;f.lookupItem(b(ke)).each(()=>{const Oe=we.event.menu;Er.highlight(me,Oe);const Xe=b(we.event.item);f.refresh(Xe).each(lt=>N(me,f,lt))})}),Cu((me,we)=>{const ke=we.event.target;me.getSystem().getByDom(ke).each(Oe=>{b(Oe).indexOf("collapse-item")===0&&te(me,Oe),Y(me,Oe,V.HighlightSubmenu).fold(()=>{r.onExecute(me,Oe)},U)})}),as((me,we)=>{(ke=>{const Oe=((lt,Nt,Tt)=>eo(Tt,(kt,Wt)=>{const vn=()=>n0.sketch({...kt,value:Wt,markers:r.markers,fakeFocus:r.fakeFocus,onHighlight:(Rn,Kn)=>{Bn(Rn,Nu,{menuComp:Rn,itemComp:Kn})},onDehighlight:(Rn,Kn)=>{Bn(Rn,o7,{menuComp:Rn,itemComp:Kn})},focusManager:r.fakeFocus?B8():hA()});return Wt===Nt?{type:"prepared",menu:lt.getSystem().build(vn())}:{type:"notbuilt",nbMenu:vn}}))(ke,r.data.primary,r.data.menus),Xe=v();return f.setContents(r.data.primary,Oe,r.data.expansions,Xe),f.getPrimary()})(me).each(ke=>{Jn.append(me,ul(ke)),r.onOpenMenu(me,ke),r.highlightOnOpen===gl.HighlightMenuAndItem?k(me,ke):r.highlightOnOpen===gl.HighlightJustMenu&&C(me,ke)})}),It(Nu,(me,we)=>{r.onHighlightItem(me,we.event.menuComp,we.event.itemComp)}),It(o7,(me,we)=>{r.onDehighlightItem(me,we.event.menuComp,we.event.itemComp)}),...r.navigateOnHover?[It(PA(),(me,we)=>{const ke=we.event.item;((Oe,Xe)=>{const lt=b(Xe);f.refresh(lt).bind(Nt=>(F(Oe,Nt),M(Oe,f,Nt)))})(me,ke),Y(me,ke,V.HighlightParent),r.onHover(me,ke)})]:[]]),Se=me=>Er.getHighlighted(me).bind(Er.getHighlighted),ge={collapseMenu:me=>{Se(me).each(we=>{te(me,we)})},highlightPrimary:me=>{f.getPrimary().each(we=>{k(me,we)})},repositionMenus:me=>{f.getPrimary().bind(ke=>Se(me).bind(Oe=>{const Xe=b(Oe),lt=ji(f.getMenus()),Nt=tl(Pe(lt,n7));return f.getTriggeringPath(Xe,Tt=>((kt,Wt,vn)=>sn(Wt,Rn=>{if(!Rn.getSystem().isConnected())return R.none();const Kn=Er.getCandidates(Rn);return Q(Kn,lo=>b(lo)===vn)}))(0,Nt,Tt))}).map(Oe=>({primary:ke,triggeringPath:Oe}))).fold(()=>{(ke=>R.from(ke.components()[0]).filter(Oe=>Ko(Oe.element,"role")==="menu"))(me).each(ke=>{r.onRepositionMenu(me,ke,[])})},({primary:ke,triggeringPath:Oe})=>{r.onRepositionMenu(me,ke,Oe)})}};return{uid:r.uid,dom:r.dom,markers:r.markers,behaviours:Eo(r.tmenuBehaviours,[$n.config({mode:"special",onRight:fe((me,we)=>uy(we.element)?R.none():Y(me,we,V.HighlightSubmenu)),onLeft:fe((me,we)=>uy(we.element)?R.none():te(me,we)),onEscape:fe((me,we)=>te(me,we).orThunk(()=>r.onEscape(me,we).map(()=>me))),focusIn:(me,we)=>{f.getPrimary().each(ke=>{bs(me,ke.element,iv())})}}),Er.config({highlightClass:r.markers.selectedMenu,itemClass:r.markers.menu}),ir.config({find:me=>Er.getHighlighted(me)}),Jn.config({})]),eventOrder:r.eventOrder,apis:ge,events:pe}},extraApis:{tieredData:(r,l,d)=>({primary:r,menus:l,expansions:d}),singleData:(r,l)=>({primary:r,menus:yu(r,l),expansions:{}}),collapseItem:r=>({value:_n(o0()),meta:{text:r}})}}),vs=Iu({name:"InlineView",configFields:[Mt("lazySink"),nr("onShow"),nr("onHide"),vu("onEscape"),Sn("inlineBehaviours",[O,gt,Ol]),Is("fireDismissalEventInstead",[dt("event",mh())]),Is("fireRepositionEventInstead",[dt("event",zf())]),dt("getRelated",R.none),dt("isExtraPart",Ae),dt("eventOrder",R.none)],factory:(r,l)=>{const d=(C,k,E,N)=>{const F=r.lazySink(C).getOrDie();O.openWhileCloaked(C,k,()=>va.positionWithinBounds(F,C,E,N())),gt.setValue(C,R.some({mode:"position",config:E,getBounds:N}))},f=(C,k,E,N)=>{const F=((M,V,Y,te,fe)=>{const pe=()=>M.lazySink(V),Se=te.type==="horizontal"?{layouts:{onLtr:()=>j1(),onRtl:()=>Z1()}}:{},ge=me=>(we=>we.length===2)(me)?Se:{};return Bh.sketch({dom:{tag:"div"},data:te.data,markers:te.menu.markers,highlightOnOpen:te.menu.highlightOnOpen,fakeFocus:te.menu.fakeFocus,onEscape:()=>(O.close(V),M.onEscape.map(me=>me(V)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(me,we)=>{va.positionWithinBounds(pe().getOrDie(),we,Y,fe())},onOpenSubmenu:(me,we,ke,Oe)=>{const Xe=pe().getOrDie();va.position(Xe,ke,{anchor:{type:"submenu",item:we,...ge(Oe)}})},onRepositionMenu:(me,we,ke)=>{const Oe=pe().getOrDie();va.positionWithinBounds(Oe,we,Y,fe()),mt(ke,Xe=>{const lt=ge(Xe.triggeringPath);va.position(Oe,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem,...lt}})})}})})(r,C,k,E,N);O.open(C,F),gt.setValue(C,R.some({mode:"menu",menu:F}))},b=C=>{O.isOpen(C)&&gt.getValue(C).each(k=>{switch(k.mode){case"menu":O.getState(C).each(Bh.repositionMenus);break;case"position":const E=r.lazySink(C).getOrDie();va.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{O.setContent(C,k)},showAt:(C,k,E)=>{const N=R.none;d(C,k,E,N)},showWithinBounds:d,showMenuAt:(C,k,E)=>{f(C,k,E,R.none)},showMenuWithinBounds:f,hide:C=>{O.isOpen(C)&&(gt.setValue(C,R.none()),O.close(C))},getContent:C=>O.getState(C),reposition:b,isOpen:O.isOpen};return{uid:r.uid,dom:r.dom,behaviours:Eo(r.inlineBehaviours,[O.config({isPartOf:(C,k,E)=>Tl(k,E)||((N,F)=>r.getRelated(N).exists(M=>Tl(M,F)))(C,E),getAttachPoint:C=>r.lazySink(C).getOrDie(),onOpen:C=>{r.onShow(C)},onClose:C=>{r.onHide(C)}}),gt.config({store:{mode:"memory",initialValue:R.none()}}),Ol.config({channels:{...ce({isExtraPart:l.isExtraPart,...r.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...Be({...r.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:r.eventOrder,apis:v}},apis:{showAt:(r,l,d,f)=>{r.showAt(l,d,f)},showWithinBounds:(r,l,d,f,b)=>{r.showWithinBounds(l,d,f,b)},showMenuAt:(r,l,d,f)=>{r.showMenuAt(l,d,f)},showMenuWithinBounds:(r,l,d,f,b)=>{r.showMenuWithinBounds(l,d,f,b)},hide:(r,l)=>{r.hide(l)},isOpen:(r,l)=>r.isOpen(l),getContent:(r,l)=>r.getContent(l),setContent:(r,l,d)=>{r.setContent(l,d)},reposition:(r,l)=>{r.reposition(l)}}});var hd,H2,L_=tinymce.util.Tools.resolve("tinymce.util.Delay"),by=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),DR=tinymce.util.Tools.resolve("tinymce.EditorManager"),cm=tinymce.util.Tools.resolve("tinymce.Env");(function(r){r.default="wrap",r.floating="floating",r.sliding="sliding",r.scrolling="scrolling"})(hd||(hd={})),function(r){r.auto="auto",r.top="top",r.bottom="bottom"}(H2||(H2={}));const $r=r=>l=>l.options.get(r),U2=r=>l=>R.from(r(l)),RR=r=>{const l=cm.deviceType.isPhone(),d=cm.deviceType.isTablet()||l,f=r.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||J(C);f("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(r.getElement().offsetHeight,400)}),f("width",{processor:v,default:by.DOM.getStyle(r.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>h(C)||I(C),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>I(C)||h(C)||T(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Et(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:H2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:r.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||I(C),default:!cm.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:r.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},FA=$r("readonly"),W2=$r("height"),K2=$r("width"),j2=U2($r("min_width")),vy=U2($r("min_height")),yy=U2($r("max_width")),M_=U2($r("max_height")),xy=U2($r("style_formats")),B_=$r("style_formats_merge"),NR=$r("style_formats_autohide"),$A=$r("content_langs"),PR=$r("removed_menuitems"),r0=$r("toolbar_mode"),F_=$r("toolbar_groups"),Jp=$r("toolbar_location"),VA=$r("fixed_toolbar_container"),r7=$r("fixed_toolbar_container_target"),LR=$r("toolbar_persist"),zA=$r("toolbar_sticky_offset"),Fh=$r("menubar"),wy=$r("toolbar"),$_=$r("file_picker_callback"),Z2=$r("file_picker_validator_handler"),HA=$r("font_size_input_default_unit"),G2=$r("file_picker_types"),V_=$r("typeahead_urls"),MR=$r("anchor_top"),BR=$r("anchor_bottom"),um=$r("draggable_modal"),FR=$r("statusbar"),$R=$r("elementpath"),Jc=$r("branding"),ya=$r("resize"),VR=$r("paste_as_text"),z_=$r("sidebar_show"),zR=$r("promotion"),UA=$r("help_accessibility"),H_=$r("default_font_stack"),Qp=r=>r.options.get("skin")===!1,q2=r=>r.options.get("menubar")!==!1,U_=r=>{const l=r.options.get("skin_url");if(Qp(r))return l;if(l)return r.documentBaseURI.toAbsolute(l);{const d=r.options.get("skin");return DR.baseURL+"/skins/ui/"+d}},W_=r=>R.from(r.options.get("skin_url")),HR=r=>r.options.get("line_height_formats").split(" "),Y2=r=>{const l=wy(r),d=h(l),f=T(l)&&l.length>0;return!X2(r)&&(f||d||l===!0)},K_=r=>{const l=Et(9,f=>r.options.get("toolbar"+(f+1))),d=Ht(l,h);return ur(d.length>0,d)},X2=r=>K_(r).fold(()=>{const l=wy(r);return oe(l,h)&&l.length>0},ze),WA=r=>Jp(r)===H2.bottom,KA=r=>{var l;if(!r.inline)return R.none();const d=(l=VA(r))!==null&&l!==void 0?l:"";if(d.length>0)return fs(Cn(),d);const f=r7(r);return K(f)?R.some(un(f)):R.none()},s0=r=>r.inline&&KA(r).isSome(),j_=r=>KA(r).getOrThunk(()=>rt(pt(un(r.getElement())))),Z_=r=>r.inline&&!q2(r)&&!Y2(r)&&!X2(r),$h=r=>(r.options.get("toolbar_sticky")||r.inline)&&!s0(r)&&!Z_(r),Vh=r=>!s0(r)&&r.options.get("ui_mode")==="split",eb=r=>{const l=r.options.get("menu");return eo(l,d=>({...d,items:d.items}))};var J2=Object.freeze({__proto__:null,get ToolbarMode(){return hd},get ToolbarLocation(){return H2},register:RR,getSkinUrl:U_,getSkinUrlOption:W_,isReadOnly:FA,isSkinDisabled:Qp,getHeightOption:W2,getWidthOption:K2,getMinWidthOption:j2,getMinHeightOption:vy,getMaxWidthOption:yy,getMaxHeightOption:M_,getUserStyleFormats:xy,shouldMergeStyleFormats:B_,shouldAutoHideStyleFormats:NR,getLineHeightFormats:HR,getContentLanguages:$A,getRemovedMenuItems:PR,isMenubarEnabled:q2,isMultipleToolbars:X2,isToolbarEnabled:Y2,isToolbarPersist:LR,getMultipleToolbarsOption:K_,getUiContainer:j_,useFixedContainer:s0,isSplitUiMode:Vh,getToolbarMode:r0,isDraggableModal:um,isDistractionFree:Z_,isStickyToolbar:$h,getStickyToolbarOffset:zA,getToolbarLocation:Jp,isToolbarLocationBottom:WA,getToolbarGroups:F_,getMenus:eb,getMenubar:Fh,getToolbar:wy,getFilePickerCallback:$_,getFilePickerTypes:G2,useTypeaheadUrls:V_,getAnchorTop:MR,getAnchorBottom:BR,getFilePickerValidatorHandler:Z2,getFontSizeInputDefaultUnit:HA,useStatusBar:FR,useElementPath:$R,promotionEnabled:zR,useBranding:Jc,getResize:ya,getPasteAsText:VR,getSidebarShow:z_,useHelpAccessibility:UA,getDefaultFontStack:H_});const s7=["visible","hidden","clip"],UR=r=>Rc(r).length>0&&!ut(s7,r),WR=r=>{if(wl(r)){const l=Ts(r,"overflow-x"),d=Ts(r,"overflow-y");return UR(l)||UR(d)}return!1},tb=(r,l)=>Vh(r)?((d,f)=>{const b=Wp(f,WR),v=b.length===0?qt(f).map(an).map(C=>Wp(C,WR)).getOr([]):b;return Re(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(r,l):R.none(),nb=r=>{const l=[...Pe(r.others,di),Gi()];return r.isFullscreen()?Gi():((d,f)=>nn(f,(b,v)=>Wd(b,v),d))(di(r.element),l)},Za=Iu({name:"Button",factory:r=>{const l=py(r.action),d=r.dom.tag,f=b=>En(r.dom,"attributes").bind(v=>En(v,b));return{uid:r.uid,dom:r.dom,components:r.components,events:l,behaviours:no(r.buttonBehaviours,[so.config({}),$n.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:r.role.getOr(f("role").getOr("button"))}},eventOrder:r.eventOrder}},configFields:[dt("uid",void 0),Mt("dom"),dt("components",[]),io("buttonBehaviours",[so,$n]),Yo("action"),Yo("role"),dt("eventOrder",{})]}),pg=r=>{const l=Xl(r),d=Mr(l),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return nn(k,(E,N)=>N.name==="class"?E:{...E,[N.name]:N.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:Jd(l)};return{tag:nl(l),classes:b,attributes:f,...v}},Sr=r=>{const l=(d=>d.uid!==void 0)(r)&&Oo(r,"uid")?r.uid:Kc("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...r,uid:l})}};var i7=Object.freeze({__proto__:null,exhibit:(r,l)=>js({attributes:Gd([{key:l.tabAttr,value:"true"}])})}),KR=[dt("tabAttr","data-alloy-tabstop")];const Gr=Mi({fields:KR,name:"tabstopping",active:i7}),jA=_n("tooltip.exclusive"),Q2=_n("tooltip.show"),ew=_n("tooltip.hide"),tw=_n("tooltip.immediateHide"),nw=_n("tooltip.immediateShow"),jR=(r,l,d)=>{r.getSystem().broadcastOn([jA],{})};var a7=Object.freeze({__proto__:null,hideAllExclusive:jR,immediateOpenClose:(r,l,d,f)=>No(r,f?nw:tw),isEnabled:(r,l,d)=>d.isEnabled(),setComponents:(r,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&Jn.set(b,f)})},setEnabled:(r,l,d,f)=>d.setEnabled(f)}),l7=Object.freeze({__proto__:null,events:(r,l)=>{const d=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(fl(C),r.onHide(v,C),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){jR(v);const C=r.lazySink(v).getOrDie(),k=v.getSystem().build({dom:r.tooltipDom,components:r.tooltipComponents,events:xo(r.mode==="normal"?[It(Pn(),E=>{No(v,Q2)}),It(So(),E=>{No(v,ew)})]:[]),behaviours:Yt([Jn.config({})])});l.setTooltip(k),rm(C,k),r.onShow(v,k),va.position(C,k,{anchor:r.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const k=r.lazySink(v).getOrDie();va.position(k,C,{anchor:r.anchor(v)})})};return xo(Kt([[k1(v=>{r.onSetup(v)}),It(Q2,v=>{l.resetTimer(()=>{f(v)},r.delayForShow())}),It(ew,v=>{l.resetTimer(()=>{d(v)},r.delayForHide())}),It(nw,v=>{l.resetTimer(()=>{f(v)},0)}),It(tw,v=>{l.resetTimer(()=>{d(v)},0)}),It(gc(),(v,C)=>{const k=C;k.universal||ut(k.channels,jA)&&d(v)}),cd(v=>{d(v)})],(()=>{switch(r.mode){case"normal":return[It(wr(),v=>{No(v,nw)}),It(Tp(),v=>{No(v,tw)}),It(Pn(),v=>{No(v,Q2)}),It(So(),v=>{No(v,ew)})];case"follow-highlight":return[It(Bx(),(v,C)=>{No(v,Q2)}),It(Hf(),v=>{No(v,ew)})];case"children-normal":return[It(wr(),(v,C)=>{qs(v.element).each(k=>{lu(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,nw)},E=>{l.isShowing()&&(r.onShow(v,E),b(v))})})}),It(Tp(),v=>{qs(v.element).fold(()=>{No(v,tw)},U)}),It(Pn(),v=>{fs(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{No(v,Q2)},k=>{l.isShowing()&&(r.onShow(v,k),b(v))})})}),It(So(),v=>{fs(v.element,"[data-mce-tooltip]:hover").fold(()=>{No(v,ew)},U)})];default:return[It(wr(),(v,C)=>{qs(v.element).each(k=>{lu(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,nw)},E=>{l.isShowing()&&(r.onShow(v,E),b(v))})})}),It(Tp(),v=>{qs(v.element).fold(()=>{No(v,tw)},U)})]}})()]))}}),c7=[Mt("lazySink"),Mt("tooltipDom"),dt("exclusive",!0),dt("tooltipComponents",[]),os("delayForShow",Z(300)),os("delayForHide",Z(300)),os("onSetup",U),Bc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),dt("anchor",r=>({type:"hotspot",hotspot:r,layouts:{onLtr:Z([Gs,As,Ns,si,Ps,Fr]),onRtl:Z([Gs,As,Ns,si,Ps,Fr])},bubble:bc(0,-2,{})})),nr("onHide"),nr("onShow")],u7=Object.freeze({__proto__:null,init:()=>{const r=Hn(!0),l=Or(),d=Or(),f=()=>{l.on(clearTimeout)},b=Z("not-implemented");return Li({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,C)=>{f(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>r.get(),setEnabled:v=>r.set(v)})}});const ai=Mi({fields:c7,name:"tooltipping",active:l7,state:u7,apis:a7}),{entries:ZR,setPrototypeOf:ZA,isFrozen:GR,getPrototypeOf:qR,getOwnPropertyDescriptor:d7}=Object;let{freeze:yc,seal:dm,create:YR}=Object,{apply:GA,construct:qA}=typeof Reflect<"u"&&Reflect;GA||(GA=function(r,l,d){return r.apply(l,d)}),yc||(yc=function(r){return r}),dm||(dm=function(r){return r}),qA||(qA=function(r,l){return new r(...l)});const YA=cf(Array.prototype.forEach),f7=cf(Array.prototype.pop),ow=cf(Array.prototype.push),G_=cf(String.prototype.toLowerCase),q_=cf(String.prototype.toString),m7=cf(String.prototype.match),hn=cf(String.prototype.replace),i0=cf(String.prototype.indexOf),g7=cf(String.prototype.trim),Pu=cf(RegExp.prototype.test),ob=(Y_=TypeError,function(){for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return qA(Y_,l)});var Y_;function cf(r){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return GA(r,l,f)}}function Hr(r,l,d){var f;d=(f=d)!==null&&f!==void 0?f:G_,ZA&&ZA(r,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const C=d(v);C!==v&&(GR(l)||(l[b]=C),v=C)}r[v]=!0}return r}function Cy(r){const l=YR(null);for(const[d,f]of ZR(r))l[d]=f;return l}function X_(r,l){for(;r!==null;){const d=d7(r,l);if(d){if(d.get)return cf(d.get);if(typeof d.value=="function")return cf(d.value)}r=qR(r)}return function(d){return console.warn("fallback value for",d),null}}const XA=yc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rw=yc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),a0=yc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XR=yc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),JA=yc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),h7=yc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JR=yc(["#text"]),p7=yc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J_=yc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QR=yc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Q_=yc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),b7=dm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v7=dm(/<%[\w\W]*|[\w\W]*%>/gm),QA=dm(/\${[\w\W]*}/gm),y7=dm(/^data-[\-\w.\u00B7-\uFFFF]/),x7=dm(/^aria-[\-\w]+$/),eN=dm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),w7=dm(/^(?:\w+script|data):/i),C7=dm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bg=dm(/^html$/i);var sw=Object.freeze({__proto__:null,MUSTACHE_EXPR:b7,ERB_EXPR:v7,TMPLIT_EXPR:QA,DATA_ATTR:y7,ARIA_ATTR:x7,IS_ALLOWED_URI:eN,IS_SCRIPT_OR_DATA:w7,ATTR_WHITESPACE:C7,DOCTYPE_NAME:bg});const _7=()=>typeof window>"u"?null:window;var S7=function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_7();const d=vt=>r(vt);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:N,NodeFilter:F,NamedNodeMap:M=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:V,DOMParser:Y,trustedTypes:te}=l,fe=N.prototype,pe=X_(fe,"cloneNode"),Se=X_(fe,"nextSibling"),ge=X_(fe,"childNodes"),me=X_(fe,"parentNode");if(typeof k=="function"){const vt=v.createElement("template");vt.content&&vt.content.ownerDocument&&(v=vt.content.ownerDocument)}let we,ke="";const{implementation:Oe,createNodeIterator:Xe,createDocumentFragment:lt,getElementsByTagName:Nt}=v,{importNode:Tt}=f;let kt={};d.isSupported=typeof ZR=="function"&&typeof me=="function"&&Oe&&Oe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Wt,ERB_EXPR:vn,TMPLIT_EXPR:Rn,DATA_ATTR:Kn,ARIA_ATTR:lo,IS_SCRIPT_OR_DATA:Uo,ATTR_WHITESPACE:ss}=sw;let{IS_ALLOWED_URI:ms}=sw,Io=null;const or=Hr({},[...XA,...rw,...a0,...JA,...JR]);let Xn=null;const gs=Hr({},[...p7,...J_,...QR,...Q_]);let Vr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ga=null,qa=null,ta=!0,$i=!0,Qh=!1,Qy=!0,kb=!1,ep=!1,fC=!1,Eb=!1,Rg=!1,L0=!1,M0=!1,ex=!0,Fk=!1,mC=!0,Ab=!1,Ng={},tp=null;const gC=Hr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let hC=null;const br=Hr({},["audio","video","img","source","image","track"]);let Pg=null;const bf=Hr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),B0="http://www.w3.org/1998/Math/MathML",$k="http://www.w3.org/2000/svg",np="http://www.w3.org/1999/xhtml";let tx=np,jO=!1,Vk=null;const I9=Hr({},[B0,$k,np],q_);let nx;const D9=["application/xhtml+xml","text/html"];let Pl,F0=null;const R9=v.createElement("form"),A6=function(vt){return vt instanceof RegExp||vt instanceof Function},zk=function(vt){if(!F0||F0!==vt){if(vt&&typeof vt=="object"||(vt={}),vt=Cy(vt),nx=nx=D9.indexOf(vt.PARSER_MEDIA_TYPE)===-1?"text/html":vt.PARSER_MEDIA_TYPE,Pl=nx==="application/xhtml+xml"?q_:G_,Io="ALLOWED_TAGS"in vt?Hr({},vt.ALLOWED_TAGS,Pl):or,Xn="ALLOWED_ATTR"in vt?Hr({},vt.ALLOWED_ATTR,Pl):gs,Vk="ALLOWED_NAMESPACES"in vt?Hr({},vt.ALLOWED_NAMESPACES,q_):I9,Pg="ADD_URI_SAFE_ATTR"in vt?Hr(Cy(bf),vt.ADD_URI_SAFE_ATTR,Pl):bf,hC="ADD_DATA_URI_TAGS"in vt?Hr(Cy(br),vt.ADD_DATA_URI_TAGS,Pl):br,tp="FORBID_CONTENTS"in vt?Hr({},vt.FORBID_CONTENTS,Pl):gC,Ga="FORBID_TAGS"in vt?Hr({},vt.FORBID_TAGS,Pl):{},qa="FORBID_ATTR"in vt?Hr({},vt.FORBID_ATTR,Pl):{},Ng="USE_PROFILES"in vt&&vt.USE_PROFILES,ta=vt.ALLOW_ARIA_ATTR!==!1,$i=vt.ALLOW_DATA_ATTR!==!1,Qh=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,Qy=vt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kb=vt.SAFE_FOR_TEMPLATES||!1,ep=vt.WHOLE_DOCUMENT||!1,Rg=vt.RETURN_DOM||!1,L0=vt.RETURN_DOM_FRAGMENT||!1,M0=vt.RETURN_TRUSTED_TYPE||!1,Eb=vt.FORCE_BODY||!1,ex=vt.SANITIZE_DOM!==!1,Fk=vt.SANITIZE_NAMED_PROPS||!1,mC=vt.KEEP_CONTENT!==!1,Ab=vt.IN_PLACE||!1,ms=vt.ALLOWED_URI_REGEXP||eN,tx=vt.NAMESPACE||np,Vr=vt.CUSTOM_ELEMENT_HANDLING||{},vt.CUSTOM_ELEMENT_HANDLING&&A6(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vr.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&A6(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vr.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vr.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kb&&($i=!1),L0&&(Rg=!0),Ng&&(Io=Hr({},[...JR]),Xn=[],Ng.html===!0&&(Hr(Io,XA),Hr(Xn,p7)),Ng.svg===!0&&(Hr(Io,rw),Hr(Xn,J_),Hr(Xn,Q_)),Ng.svgFilters===!0&&(Hr(Io,a0),Hr(Xn,J_),Hr(Xn,Q_)),Ng.mathMl===!0&&(Hr(Io,JA),Hr(Xn,QR),Hr(Xn,Q_))),vt.ADD_TAGS&&(Io===or&&(Io=Cy(Io)),Hr(Io,vt.ADD_TAGS,Pl)),vt.ADD_ATTR&&(Xn===gs&&(Xn=Cy(Xn)),Hr(Xn,vt.ADD_ATTR,Pl)),vt.ADD_URI_SAFE_ATTR&&Hr(Pg,vt.ADD_URI_SAFE_ATTR,Pl),vt.FORBID_CONTENTS&&(tp===gC&&(tp=Cy(tp)),Hr(tp,vt.FORBID_CONTENTS,Pl)),mC&&(Io["#text"]=!0),ep&&Hr(Io,["html","head","body"]),Io.table&&(Hr(Io,["tbody"]),delete Ga.tbody),vt.TRUSTED_TYPES_POLICY){if(typeof vt.TRUSTED_TYPES_POLICY.createHTML!="function")throw ob('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof vt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ob('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');we=vt.TRUSTED_TYPES_POLICY,ke=we.createHTML("")}else we===void 0&&(we=function(jn,wo){if(typeof jn!="object"||typeof jn.createPolicy!="function")return null;let is=null;const Ys="data-tt-policy-suffix";wo&&wo.hasAttribute(Ys)&&(is=wo.getAttribute(Ys));const mi="dompurify"+(is?"#"+is:"");try{return jn.createPolicy(mi,{createHTML:li=>li,createScriptURL:li=>li})}catch{return console.warn("TrustedTypes policy "+mi+" could not be created."),null}}(te,b)),we!==null&&typeof ke=="string"&&(ke=we.createHTML(""));yc&&yc(vt),F0=vt}},T6=Hr({},["mi","mo","mn","ms","mtext"]),O6=Hr({},["foreignobject","desc","title","annotation-xml"]),vo=Hr({},["title","style","font","a","script"]),Tb=Hr({},rw);Hr(Tb,a0),Hr(Tb,XR);const Hk=Hr({},JA);Hr(Hk,h7);const Ob=function(vt){ow(d.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{vt.remove()}},ox=function(vt,jn){try{ow(d.removed,{attribute:jn.getAttributeNode(vt),from:jn})}catch{ow(d.removed,{attribute:null,from:jn})}if(jn.removeAttribute(vt),vt==="is"&&!Xn[vt])if(Rg||L0)try{Ob(jn)}catch{}else try{jn.setAttribute(vt,"")}catch{}},ZO=function(vt){let jn,wo;if(Eb)vt="<remove></remove>"+vt;else{const mi=m7(vt,/^[\r\n\t ]+/);wo=mi&&mi[0]}nx==="application/xhtml+xml"&&tx===np&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");const is=we?we.createHTML(vt):vt;if(tx===np)try{jn=new Y().parseFromString(is,nx)}catch{}if(!jn||!jn.documentElement){jn=Oe.createDocument(tx,"template",null);try{jn.documentElement.innerHTML=jO?ke:is}catch{}}const Ys=jn.body||jn.documentElement;return vt&&wo&&Ys.insertBefore(v.createTextNode(wo),Ys.childNodes[0]||null),tx===np?Nt.call(jn,ep?"html":"body")[0]:ep?jn.documentElement:Ys},GO=function(vt){return Xe.call(vt.ownerDocument||vt,vt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},qO=function(vt){return typeof E=="object"?vt instanceof E:vt&&typeof vt=="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Ad=function(vt,jn,wo){kt[vt]&&YA(kt[vt],is=>{is.call(d,jn,wo,F0)})},I6=function(vt){let jn;if(Ad("beforeSanitizeElements",vt,null),(wo=vt)instanceof V&&(typeof wo.nodeName!="string"||typeof wo.textContent!="string"||typeof wo.removeChild!="function"||!(wo.attributes instanceof M)||typeof wo.removeAttribute!="function"||typeof wo.setAttribute!="function"||typeof wo.namespaceURI!="string"||typeof wo.insertBefore!="function"||typeof wo.hasChildNodes!="function"))return Ob(vt),!0;var wo;const is=Pl(vt.nodeName);if(Ad("uponSanitizeElement",vt,{tagName:is,allowedTags:Io}),vt.hasChildNodes()&&!qO(vt.firstElementChild)&&(!qO(vt.content)||!qO(vt.content.firstElementChild))&&Pu(/<[/\w]/g,vt.innerHTML)&&Pu(/<[/\w]/g,vt.textContent))return Ob(vt),!0;if(!Io[is]||Ga[is]){if(!Ga[is]&&D6(is)&&(Vr.tagNameCheck instanceof RegExp&&Pu(Vr.tagNameCheck,is)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(is)))return!1;if(mC&&!tp[is]){const Ys=me(vt)||vt.parentNode,mi=ge(vt)||vt.childNodes;if(mi&&Ys)for(let li=mi.length-1;li>=0;--li)Ys.insertBefore(pe(mi[li],!0),Se(vt))}return Ob(vt),!0}return vt instanceof N&&!function(Ys){let mi=me(Ys);mi&&mi.tagName||(mi={namespaceURI:tx,tagName:"template"});const li=G_(Ys.tagName),Ti=G_(mi.tagName);return!!Vk[Ys.namespaceURI]&&(Ys.namespaceURI===$k?mi.namespaceURI===np?li==="svg":mi.namespaceURI===B0?li==="svg"&&(Ti==="annotation-xml"||T6[Ti]):!!Tb[li]:Ys.namespaceURI===B0?mi.namespaceURI===np?li==="math":mi.namespaceURI===$k?li==="math"&&O6[Ti]:!!Hk[li]:Ys.namespaceURI===np?!(mi.namespaceURI===$k&&!O6[Ti])&&!(mi.namespaceURI===B0&&!T6[Ti])&&!Hk[li]&&(vo[li]||!Tb[li]):!(nx!=="application/xhtml+xml"||!Vk[Ys.namespaceURI]))}(vt)?(Ob(vt),!0):is!=="noscript"&&is!=="noembed"&&is!=="noframes"||!Pu(/<\/no(script|embed|frames)/i,vt.innerHTML)?(kb&&vt.nodeType===3&&(jn=vt.textContent,jn=hn(jn,Wt," "),jn=hn(jn,vn," "),jn=hn(jn,Rn," "),vt.textContent!==jn&&(ow(d.removed,{element:vt.cloneNode()}),vt.textContent=jn)),Ad("afterSanitizeElements",vt,null),!1):(Ob(vt),!0)},YO=function(vt,jn,wo){if(ex&&(jn==="id"||jn==="name")&&(wo in v||wo in R9))return!1;if(!($i&&!qa[jn]&&Pu(Kn,jn))){if(!(ta&&Pu(lo,jn))){if(!Xn[jn]||qa[jn]){if(!(D6(vt)&&(Vr.tagNameCheck instanceof RegExp&&Pu(Vr.tagNameCheck,vt)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(vt))&&(Vr.attributeNameCheck instanceof RegExp&&Pu(Vr.attributeNameCheck,jn)||Vr.attributeNameCheck instanceof Function&&Vr.attributeNameCheck(jn))||jn==="is"&&Vr.allowCustomizedBuiltInElements&&(Vr.tagNameCheck instanceof RegExp&&Pu(Vr.tagNameCheck,wo)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(wo))))return!1}else if(!Pg[jn]){if(!Pu(ms,hn(wo,ss,""))){if((jn!=="src"&&jn!=="xlink:href"&&jn!=="href"||vt==="script"||i0(wo,"data:")!==0||!hC[vt])&&!(Qh&&!Pu(Uo,hn(wo,ss,"")))){if(wo)return!1}}}}}return!0},D6=function(vt){return vt.indexOf("-")>0},R6=function(vt){let jn,wo,is,Ys;Ad("beforeSanitizeAttributes",vt,null);const{attributes:mi}=vt;if(!mi)return;const li={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xn};for(Ys=mi.length;Ys--;){jn=mi[Ys];const{name:Ti,namespaceURI:rx}=jn;wo=Ti==="value"?jn.value:g7(jn.value);const P9=wo;if(is=Pl(Ti),li.attrName=is,li.attrValue=wo,li.keepAttr=!0,li.forceKeepAttr=void 0,Ad("uponSanitizeAttribute",vt,li),wo=li.attrValue,li.forceKeepAttr)continue;if(!li.keepAttr){ox(Ti,vt);continue}if(!Qy&&Pu(/\/>/i,wo)){ox(Ti,vt);continue}kb&&(wo=hn(wo,Wt," "),wo=hn(wo,vn," "),wo=hn(wo,Rn," "));const N6=Pl(vt.nodeName);if(YO(N6,is,wo)){if(!Fk||is!=="id"&&is!=="name"||(ox(Ti,vt),wo="user-content-"+wo),we&&typeof te=="object"&&typeof te.getAttributeType=="function"&&!rx)switch(te.getAttributeType(N6,is)){case"TrustedHTML":wo=we.createHTML(wo);break;case"TrustedScriptURL":wo=we.createScriptURL(wo)}if(wo!==P9)try{rx?vt.setAttributeNS(rx,Ti,wo):vt.setAttribute(Ti,wo)}catch{ox(Ti,vt)}}else ox(Ti,vt)}Ad("afterSanitizeAttributes",vt,null)},N9=function vt(jn){let wo;const is=GO(jn);for(Ad("beforeSanitizeShadowDOM",jn,null);wo=is.nextNode();)Ad("uponSanitizeShadowNode",wo,null),I6(wo)||(wo.content instanceof C&&vt(wo.content),R6(wo));Ad("afterSanitizeShadowDOM",jn,null)};return d.sanitize=function(vt){let jn,wo,is,Ys,mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jO=!vt,jO&&(vt="<!-->"),typeof vt!="string"&&!qO(vt)){if(typeof vt.toString!="function")throw ob("toString is not a function");if(typeof(vt=vt.toString())!="string")throw ob("dirty is not a string, aborting")}if(!d.isSupported)return vt;if(fC||zk(mi),d.removed=[],typeof vt=="string"&&(Ab=!1),Ab){if(vt.nodeName){const rx=Pl(vt.nodeName);if(!Io[rx]||Ga[rx])throw ob("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof E)jn=ZO("<!---->"),wo=jn.ownerDocument.importNode(vt,!0),wo.nodeType===1&&wo.nodeName==="BODY"||wo.nodeName==="HTML"?jn=wo:jn.appendChild(wo);else{if(!Rg&&!kb&&!ep&&vt.indexOf("<")===-1)return we&&M0?we.createHTML(vt):vt;if(jn=ZO(vt),!jn)return Rg?null:M0?ke:""}jn&&Eb&&Ob(jn.firstChild);const li=GO(Ab?vt:jn);for(;is=li.nextNode();)I6(is)||(is.content instanceof C&&N9(is.content),R6(is));if(Ab)return vt;if(Rg){if(L0)for(Ys=lt.call(jn.ownerDocument);jn.firstChild;)Ys.appendChild(jn.firstChild);else Ys=jn;return(Xn.shadowroot||Xn.shadowrootmode)&&(Ys=Tt.call(f,Ys,!0)),Ys}let Ti=ep?jn.outerHTML:jn.innerHTML;return ep&&Io["!doctype"]&&jn.ownerDocument&&jn.ownerDocument.doctype&&jn.ownerDocument.doctype.name&&Pu(bg,jn.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+jn.ownerDocument.doctype.name+`>
`+Ti),kb&&(Ti=hn(Ti,Wt," "),Ti=hn(Ti,vn," "),Ti=hn(Ti,Rn," ")),we&&M0?we.createHTML(Ti):Ti},d.setConfig=function(vt){zk(vt),fC=!0},d.clearConfig=function(){F0=null,fC=!1},d.isValidAttribute=function(vt,jn,wo){F0||zk({});const is=Pl(vt),Ys=Pl(jn);return YO(is,Ys,wo)},d.addHook=function(vt,jn){typeof jn=="function"&&(kt[vt]=kt[vt]||[],ow(kt[vt],jn))},d.removeHook=function(vt){if(kt[vt])return f7(kt[vt])},d.removeHooks=function(vt){kt[vt]&&(kt[vt]=[])},d.removeAllHooks=function(){kt={}},d}();const tN=r=>S7().sanitize(r);var pd=tinymce.util.Tools.resolve("tinymce.util.I18n");const k7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},nN="temporary-placeholder",e3=r=>()=>En(r,nN).getOr("!not found!"),rb=(r,l)=>{const d=r.toLowerCase();if(pd.isRtl()){const f=((b,v)=>Gu(b,v)?b:((C,k)=>C+k)(b,v))(d,"-rtl");return uo(l,f)?f:d}return d},iw=(r,l)=>En(l,rb(r,l)),oN=(r,l)=>{const d=l();return iw(r,d).getOrThunk(e3(d))},eS=()=>Ao("add-focusable",[as(r=>{U1(r.element,"svg").each(l=>cn(l,"focusable","false"))})]),rN=(r,l,d,f)=>{var b,v;const C=(E=>!!pd.isRtl()&&uo(k7,E))(l)?["tox-icon--flip"]:[],k=En(d,rb(l,d)).or(f).getOrThunk(e3(d));return{dom:{tag:r.tag,attributes:(b=r.attributes)!==null&&b!==void 0?b:{},classes:r.classes.concat(C),innerHtml:k},behaviours:Yt([...(v=r.behaviours)!==null&&v!==void 0?v:[],eS()])}},Qc=(r,l,d,f=R.none())=>rN(l,r,d(),f),E7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},t3=Iu({name:"Notification",factory:r=>{const l=_n("notification-text"),d=Sr({dom:pg(`<p id=${l}>${tN(r.backstageProvider.translate(r.text))}</p>`),behaviours:Yt([Jn.config({})])}),f=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),b=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),v=Sr({dom:{tag:"div",classes:r.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:Yt([Jn.config({})])}),C={updateProgress:(M,V)=>{M.getSystem().isConnected()&&v.getOpt(M).each(Y=>{Jn.set(Y,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(V)]},b(V)])})},updateText:(M,V)=>{if(M.getSystem().isConnected()){const Y=d.get(M);Jn.set(Y,[$s(V)])}}},k=Kt([r.icon.toArray(),r.level.toArray(),r.level.bind(M=>R.from(E7[M])).toArray()]),E=Sr(Za.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":r.backstageProvider.translate("Close")}},components:[Qc("close",{tag:"span",classes:["tox-icon"]},r.iconProvider)],buttonBehaviours:Yt([Gr.config({}),ai.config({...r.backstageProvider.tooltips.getConfig({tooltipText:r.backstageProvider.translate("Close")})})]),action:M=>{r.onAction(M)}})),N=((M,V,Y)=>{const te=Y(),fe=Q(M,pe=>uo(te,rb(pe,te)));return rN({tag:"div",classes:["tox-notification__icon"]},fe.getOr(nN),te,R.none())})(k,0,r.iconProvider),F=[N,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:Yt([Jn.config({})])}];return{uid:r.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:r.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Yt([Gr.config({}),so.config({}),$n.config({mode:"special",onEscape:M=>(r.onAction(M),R.some(!0))})]),components:F.concat(r.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[Yo("level"),Mt("progress"),Yo("icon"),Mt("onAction"),Mt("text"),Mt("iconProvider"),Mt("backstageProvider")],apis:{updateProgress:(r,l,d)=>{r.updateProgress(l,d)},updateText:(r,l,d)=>{r.updateText(l,d)}}});var sN=(r,l,d,f)=>{const b=l.backstage.shared,v=()=>un(r.queryCommandValue("ToggleView")===""?r.getContentAreaContainer():r.getContainer()),C=()=>{const E=di(v());return R.some(E)},k=E=>{C().each(N=>{mt(E,F=>{kr(F.element,"width"),Ri(F.element)>N.width&&bo(F.element,"width",N.width+"px")})})};return{open:(E,N,F)=>{const M=()=>{f.on(te=>{N();const fe=F();(pe=>{Jn.remove(pe,V),Y()})(te),((pe,Se)=>{Mr(pe.element).length===0?((ge,me)=>{vs.hide(ge),f.clear(),me&&r.focus()})(pe,Se):((ge,me)=>{me&&$n.focusIn(ge)})(pe,Se)})(te,fe)})},V=Ji(t3.sketch({text:E.text,level:ut(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const te=ul(V);f.on(fe=>{Jn.append(fe,te),vs.reposition(fe),ds.refresh(fe),k(fe.components())})}else{const te=Ji(vs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yt([$n.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Jn.config({}),...$h(r)&&!b.header.isPositionedAtTop()?[]:[ds.config({contextual:{lazyContext:()=>R.some(di(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ge=>tb(r,ge.element).map(me=>({bounds:nb(me),optScrollEnv:R.some({currentScrollTop:me.element.dom.scrollTop,scrollElmTop:Ul(me.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})]])})),fe=ul(V),pe={maxHeightFunction:Ih()},Se={...b.anchors.banner(),overrides:pe};f.set(te),d.add(te),vs.showWithinBounds(te,fe,{anchor:Se},C)}J(E.timeout)&&E.timeout>0&&L_.setEditorTimeout(r,()=>{M()},E.timeout);const Y=()=>{f.on(te=>{vs.reposition(te),ds.refresh(te),k(te.components())})};return{close:M,reposition:Y,text:te=>{t3.updateText(V,te)},settings:E,getEl:()=>V.element.dom,progressBar:{value:te=>{t3.updateProgress(V,te)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},aw;(function(r){r[r.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",r[r.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(aw||(aw={}));var fm=aw;const tS="tox-menu-nav__js",nS="tox-collection__item",iN="tox-swatch",aN={normal:tS,color:iN},lN="tox-collection__item--enabled",cN="tox-collection__item-icon",lw="tox-collection__item-label",n3="tox-collection__item-caret",vg="tox-collection__item--active",cw="tox-collection__item-container",uw="tox-collection__item-container--row",sb=r=>En(aN,r).getOr(tS),LK=r=>r==="color"?"tox-swatches":"tox-menu",o3=r=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:LK(r),tieredMenu:"tox-tiered-menu"}),l0=r=>{const l=o3(r);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:sb(r)}},uN=(r,l,d)=>{const f=o3(d);return{tag:"div",classes:Kt([[f.menu,`tox-menu-${l}-column`],r?[f.hasIcons]:[]])}},dN=[n0.parts.items({})],oS=(r,l,d)=>{const f=o3(d);return{dom:{tag:"div",classes:Kt([[f.tieredMenu]])},markers:l0(d)}},A7=Z([Yo("data"),dt("inputAttributes",{}),dt("inputStyles",{}),dt("tag","input"),dt("inputClasses",[]),nr("onSetValue"),dt("styles",{}),dt("eventOrder",{}),Sn("inputBehaviours",[gt,so]),dt("selectOnFocus",!0)]),T7=r=>Yt([so.config({onFocus:r.selectOnFocus?l=>{const d=l.element,f=Zf(d);d.dom.setSelectionRange(0,f.length)}:U})]),O7=r=>({...T7(r),...Eo(r.inputBehaviours,[gt.config({store:{mode:"manual",...r.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>Zf(l.element),setValue:(l,d)=>{Zf(l.element)!==d&&Qm(l.element,d)}},onSetValue:r.onSetValue})])}),fN=r=>({tag:r.tag,attributes:{type:"text",...r.inputAttributes},styles:r.inputStyles,classes:r.inputClasses}),zh=Iu({name:"Input",configFields:A7(),factory:(r,l)=>({uid:r.uid,dom:fN(r),components:[],behaviours:O7(r),eventOrder:r.eventOrder})}),mN=_n("refetch-trigger-event"),gN=_n("redirect-menu-item-interaction"),hN="tox-menu__searcher",dw=r=>fs(r.element,`.${hN}`).bind(l=>r.getSystem().getByDom(l).toOptional()),pN=dw,bN=r=>({fetchPattern:gt.getValue(r),selectionStart:r.element.dom.selectionStart,selectionEnd:r.element.dom.selectionEnd}),vN=r=>{const l=(b,v)=>(v.cut(),R.none()),d=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return Bn(b,gN,C),R.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[nS]},components:[zh.sketch({inputClasses:[hN,"tox-textfield"],inputAttributes:{...r.placeholder.map(b=>({placeholder:r.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Yt([Ao(f,[It(Km(),b=>{No(b,mN)}),It(ks(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),$n.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,$n.name()]}})]}},fw="tox-collection--results__js",yN=r=>{var l;return r.dom?{...r,dom:{...r.dom,attributes:{...(l=r.dom.attributes)!==null&&l!==void 0?l:{},id:_n("aria-item-search-result-id"),"aria-selected":"false"}}}:r},rS=(r,l)=>d=>{const f=tt(d,l);return Pe(f,b=>({dom:r,components:b}))},xN=(r,l)=>{const d=[];let f=[];return mt(r,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(uo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Pe(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},mw=(r,l,d)=>n0.parts.items({preprocess:f=>{const b=Pe(f,d);return r!=="auto"&&r>1?rS({tag:"div",classes:["tox-collection__group"]},r)(b):xN(b,(v,C)=>l[C].type==="separator")}}),r3=(r,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(r===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mw(r,l,de)]}),gw=r=>kn(r,l=>"icon"in l&&l.icon!==void 0),yg=r=>(console.error(al(r)),console.log(r),R.none()),I7=(r,l,d,f,b)=>{const v=(C=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[n0.parts.items({preprocess:k=>xN(k,(E,N)=>C[N].type==="separator")})]});var C;return{value:r,dom:v.dom,components:v.components,items:d}},s3=(r,l,d,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[n0.parts.items({preprocess:C!=="auto"?rS({tag:"div",classes:["tox-swatches__row"]},C):de})]}]}))(f);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=r3(f,d);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?r3(f,d):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const N=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[vN({i18n:pd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],fw],attributes:{id:N}},components:[mw(C,k,yN)]}]}})(f,d,b.searchMode):((C,k,E=!0)=>{const N=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",fw].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:N}},components:[mw(C,k,yN)]}})(f,d);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[n0.parts.items({preprocess:rS({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:r,dom:v.dom,components:v.components,items:d}}return{value:r,dom:uN(l,f,b.menuType),components:dN,items:d}},xi=Ss("type"),i3=Ss("name"),a3=Ss("label"),bd=Ss("text"),l3=Ss("title"),c3=Ss("icon"),c0=Ss("value"),D7=za("fetch"),wN=za("getSubmenuItems"),_y=za("onAction"),CN=za("onItemAction"),ib=os("onSetup",()=>U),R7=Fs("name"),ab=Fs("text"),N7=Fs("role"),vd=Fs("icon"),hw=Fs("tooltip"),u3=Fs("label"),Sy=Fs("shortcut"),d3=vu("select"),sS=ri("active",!1),MK=ri("borderless",!1),yd=ri("enabled",!0),iS=ri("primary",!1),_N=r=>dt("columns",r),eu=dt("meta",{}),f3=os("onAction",U),u0=r=>ec("type",r),m3=r=>fi("name","name",ch(()=>_n(`${r}-name`)),ki),SN=Gn([xi,ab]),P7=Gn([u0("autocompleteitem"),sS,yd,eu,c0,ab,vd]),xg=[yd,hw,vd,ab,ib],g3=Gn([xi,_y,Sy].concat(xg)),kN=r=>_s("toolbarbutton",g3,r),pw=[sS].concat(xg),aS=Gn(pw.concat([xi,_y,Sy])),lS=r=>_s("ToggleButton",aS,r),EN=[os("predicate",Ae),Bc("scope","node",["node","editor"]),Bc("position","selection",["node","selection","line"])],L7=xg.concat([u0("contextformbutton"),iS,_y,qi("original",de)]),M7=pw.concat([u0("contextformbutton"),iS,_y,qi("original",de)]),B7=xg.concat([u0("contextformbutton")]),F7=pw.concat([u0("contextformtogglebutton")]),$7=bi("type",{contextformbutton:L7,contextformtogglebutton:M7}),V7=Gn([u0("contextform"),os("initValue",Z("")),u3,ll("commands",$7),Us("launch",bi("type",{contextformbutton:B7,contextformtogglebutton:F7}))].concat(EN)),AN=Gn([u0("contexttoolbar"),Ss("items")].concat(EN)),cS=[xi,Ss("src"),Fs("alt"),Pr("classes",[],ki)],z7=Gn(cS),H7=[xi,bd,R7,Pr("classes",["tox-collection__item-label"],ki)],U7=Gn(H7),TN=Vm(()=>sd("type",{cardimage:z7,cardtext:U7,cardcontainer:ky})),ky=Gn([xi,ec("direction","horizontal"),ec("align","left"),ec("valign","middle"),ll("items",TN)]),d0=[yd,ab,N7,Sy,fi("value","value",ch(()=>_n("menuitem-value")),Kl()),eu],W7=Gn([xi,u3,ll("items",TN),ib,f3].concat(d0)),h3=Gn([xi,sS,vd].concat(d0)),ON=[xi,Ss("fancytype"),f3],IN=[dt("initData",{})].concat(ON),DN=[vu("select"),Ua("initData",{},[ri("allowCustomColors",!0),ec("storageKey","default"),C1("colors",Kl())])].concat(ON),RN=bi("fancytype",{inserttable:IN,colorswatch:DN}),NN=Gn([xi,ib,f3,vd].concat(d0)),PN=Gn([xi,wN,ib,vd].concat(d0)),K7=Gn([xi,vd,sS,ib,_y].concat(d0)),p3=(r,l,d)=>{const f=Ai(r.element,"."+d);if(f.length>0){const b=co(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>l}).getOr(f.length);return R.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return R.none()},bw=r=>((l,d)=>Yt([Ao(l,d)]))(_n("unnamed-events"),r),uS="silver.readonly",j7=Gn([Yi("readonly",mc)]),f0=(r,l)=>{const d=r.mainUi.outerContainer.element,f=[r.mainUi.mothership,...r.uiMotherships];l&&mt(f,b=>{b.broadcastOn([B()],{target:d})}),mt(f,b=>{b.broadcastOn([uS],{readonly:l})})},LN=(r,l)=>{r.on("init",()=>{r.mode.isReadOnly()&&f0(l,!0)}),r.on("SwitchMode",()=>f0(l,r.mode.isReadOnly())),FA(r)&&r.mode.set("readonly")},Bi=()=>Ol.config({channels:{[uS]:{schema:j7,onReceive:(r,l)=>{ao.set(r,l.readonly)}}}}),Pa=r=>ao.config({disabled:r}),MN=r=>ao.config({disabled:r,disableClass:"tox-tbtn--disabled"}),dS=r=>ao.config({disabled:r,disableClass:"tox-tbtn--disabled",useNative:!1}),vw=(r,l)=>{const d=r.getApi(l);return f=>{f(d)}},lb=(r,l)=>as(d=>{vw(r,d)(f=>{const b=r.onSetup(f);W(b)&&l.set(b)})}),Hh=(r,l)=>cd(d=>vw(r,d)(l.get())),BN=(r,l)=>Cu((d,f)=>{vw(r,d)(r.onAction),r.triggersSubmenu||l!==fm.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&No(d,av()),f.stop())}),Z7={[El()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Ey=tl,Ay=(r,l,d,f)=>{const b=Hn(U);return{type:"item",dom:l.dom,components:Ey(l.optComponents),data:r.data,eventOrder:Z7,hasSubmenu:r.triggersSubmenu,itemBehaviours:Yt([Ao("item-events",[BN(r,d),lb(r,b),Hh(r,b)]),(v=()=>!r.enabled||f.isDisabled(),ao.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Bi(),Jn.config({})].concat(r.itemBehaviours))};var v},Ty=r=>({value:r.value,meta:{text:r.text.getOr(""),...r.meta}}),fS=r=>{const l=cm.os.isMacOS()||cm.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=r.split("+"),b=Pe(f,v=>{const C=v.toLowerCase().trim();return uo(d,C)?d[C]:v});return l?b.join(""):b.join("+")},b3=(r,l,d=[cN])=>Qc(r,{tag:"div",classes:d},l),FN=r=>({dom:{tag:"div",classes:[lw]},components:[$s(pd.translate(r))]}),v3=(r,l)=>({dom:{tag:"div",classes:l,innerHtml:r}}),$N=(r,l)=>({dom:{tag:"div",classes:[lw]},components:[{dom:{tag:r.tag,styles:r.styles},components:[$s(pd.translate(l))]}]}),VN=r=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[$s(fS(r))]}),zN=r=>b3("checkmark",r,["tox-collection__item-checkmark"]),HN=r=>{const l=r.map(d=>({attributes:{id:_n("menu-item"),"aria-label":pd.translate(d)}})).getOr({});return{tag:"div",classes:[tS,nS],...l}},yw=(r,l,d,f=R.none())=>r.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map(F=>((M,V,Y)=>{const te=V();return iw(M,te).or(Y).getOrThunk(e3(te))})(F,v.icons,C)),N=b.ariaLabel.map(F=>({"aria-label":v.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=iN,M=E.getOr(""),V={tag:"div",attributes:N,classes:[F]};return k==="custom"?{...V,tag:"button",classes:[...V.classes,"tox-swatches__picker-btn"],innerHtml:M}:k==="remove"?{...V,classes:[...V.classes,"tox-swatch--remove"],innerHtml:M}:K(k)?{...V,attributes:{...V.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:M}:V})(),optComponents:[]}})(r,l,f):((b,v,C,k)=>{const E={tag:"div",classes:[cN]},N=C?b.iconContent.map(Y=>Qc(Y,E,v.icons,k)).orThunk(()=>R.some({dom:E})):R.none(),F=b.checkMark,M=R.from(b.meta).fold(()=>FN,Y=>uo(Y,"style")?Ve($N,Y.style):FN),V=b.htmlContent.fold(()=>b.textContent.map(M),Y=>R.some(v3(Y,[lw])));return{dom:HN(b.ariaLabel),optComponents:[N,V,b.shortcutContent.map(VN),F,b.caret]}})(r,l,d,f),UN=(r,l,d)=>En(r,"tooltipWorker").map(f=>[ai.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Ih}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{ai.setComponents(b,[Gf({element:un(C)})])})}})]).getOrThunk(()=>d.map(f=>[ai.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),y3=(r,l)=>{const d=(f=>by.DOM.encode(f))(pd.translate(r));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},x3=(r,l)=>Pe(r,d=>{switch(d.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":uw,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[cw,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(d,x3(d.items,l));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>ut(l.cardText.highlightOn,v)),b=f?R.from(l.cardText.matchText).getOr(""):"";return v3(y3(d.text,b),d.classes)}}),Uh=ml(LA(),MA()),w3=r=>({value:m0(r)}),C3=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,_3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,WN=r=>C3.test(r)||_3.test(r),m0=r=>Wr(r,"#").toUpperCase(),S3=r=>{const l=r.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},xw=r=>{const l=S3(r.red)+S3(r.green)+S3(r.blue);return w3(l)},k3=Math.min,KN=Math.max,mS=Math.round,G7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,jN=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Wh=(r,l,d,f)=>({red:r,green:l,blue:d,alpha:f}),ww=r=>{const l=parseInt(r,10);return l.toString()===r&&l>=0&&l<=255},ZN=r=>{let l,d,f;const b=(r.hue||0)%360;let v=r.saturation/100,C=r.value/100;if(v=KN(0,k3(v,1)),C=KN(0,k3(C,1)),v===0)return l=d=f=mS(255*C),Wh(l,d,f,1);const k=b/60,E=C*v,N=E*(1-Math.abs(k%2-1)),F=C-E;switch(Math.floor(k)){case 0:l=E,d=N,f=0;break;case 1:l=N,d=E,f=0;break;case 2:l=0,d=E,f=N;break;case 3:l=0,d=N,f=E;break;case 4:l=N,d=0,f=E;break;case 5:l=E,d=0,f=N;break;default:l=d=f=0}return l=mS(255*(l+F)),d=mS(255*(d+F)),f=mS(255*(f+F)),Wh(l,d,f,1)},uf=r=>{const l=(v=>{const C=(E=>({value:E.value.replace(C3,(F,M,V,Y)=>M+M+V+V+Y+Y)}))(v),k=_3.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(r),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return Wh(d,f,b,1)},E3=(r,l,d,f)=>{const b=parseInt(r,10),v=parseInt(l,10),C=parseInt(d,10),k=parseFloat(f);return Wh(b,v,C,k)},gS=r=>{const l=G7.exec(r);if(l!==null)return R.some(E3(l[1],l[2],l[3],"1"));const d=jN.exec(r);return d!==null?R.some(E3(d[1],d[2],d[3],d[4])):R.none()},GN=r=>`rgba(${r.red},${r.green},${r.blue},${r.alpha})`,qN=Wh(255,0,0,1),g0=(r,l)=>{r.dispatch("ResizeContent",l)},Oy=(r,l)=>{r.dispatch("TextColorChange",l)},YN=(r,l)=>r.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Iy=(r,l)=>()=>{r(),l()},Fi=r=>h0(r,"NodeChange",l=>{l.setEnabled(r.selection.isEditable())}),mm=(r,l)=>d=>{const f=Fi(r)(d),b=((v,C)=>k=>{const E=Lc(),N=()=>{k.setActive(v.formatter.match(C));const F=v.formatter.formatChanged(C,k.setActive);E.set(F)};return v.initialized?N():v.once("init",N),()=>{v.off("init",N),E.clear()}})(r,l)(d);return()=>{f(),b()}},h0=(r,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),r.on(l,b)};return r.initialized?v():r.once("init",v),()=>{r.off("init",v),r.off(l,b)}},XN=r=>l=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("mceToggleFormat",!1,l.format)})},xc=(r,l)=>()=>r.execCommand(l);var tu=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const hS={},JN=r=>En(hS,r).getOrThunk(()=>{const l=`tinymce-custom-colors-${r}`,d=tu.getItem(l);if(z(d)){const b=tu.getItem("tinymce-custom-colors");tu.setItem(l,K(b)?b:"[]")}const f=((b,v=10)=>{const C=tu.getItem(b),k=h(C)?JSON.parse(C):[],E=v-(N=k).length<0?N.slice(0,v):N;var N;const F=M=>{E.splice(M,1)};return{add:M=>{((V,Y)=>{const te=Gt(V,Y);return te===-1?R.none():R.some(te)})(E,M).each(F),E.unshift(M),E.length>v&&E.pop(),tu.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return hS[r]=f,f}),A3=(r,l)=>{JN(r).add(l)},Dy=(r,l,d)=>({hue:r,saturation:l,value:d}),pS=r=>{let l=0,d=0,f=0;const b=r.red/255,v=r.green/255,C=r.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,Dy(0,0,100*f)):(l=b===k?3:C===k?1:5,l=60*(l-(b===k?v-C:C===k?b-v:C-b)/(E-k)),d=(E-k)/E,f=E,Dy(Math.round(l),Math.round(100*d),Math.round(100*f)))},bS=r=>xw(ZN(r)),QN=r=>{return(l=r,WN(l)?R.some({value:m0(l)}):R.none()).orThunk(()=>gS(r).map(xw)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=r,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return xw(Wh(v,C,k,E))});var l},T3="forecolor",O3="hilitecolor",q7=r=>{const l=[];for(let d=0;d<r.length;d+=2)l.push({text:r[d+1],value:"#"+QN(r[d]).value,icon:"checkmark",type:"choiceitem"});return l},xd=r=>l=>l.options.get(r),Cw="#000000",p0=(r,l)=>l===T3&&r.options.isSet("color_map_foreground")?xd("color_map_foreground")(r):l===O3&&r.options.isSet("color_map_background")?xd("color_map_background")(r):xd("color_map")(r),vS=(r,l="default")=>Math.max(5,Math.ceil(Math.sqrt(p0(r,l).length))),e5=(r,l)=>{const d=xd("color_cols")(r),f=vS(r,l);return d===vS(r)?f:d},I3=(r,l="default")=>Math.round(l===T3?xd("color_cols_foreground")(r):l===O3?xd("color_cols_background")(r):xd("color_cols")(r)),D3=xd("custom_colors"),t5=xd("color_default_foreground"),n5=xd("color_default_background"),o5=(r,l)=>{const d=un(r.selection.getStart()),f=l==="hilitecolor"?fh(d,b=>{if(ls(b)){const v=Ts(b,"background-color");return ur(gS(v).exists(C=>C.alpha!==0),v)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):Ts(d,"color");return gS(f).map(b=>"#"+xw(b).value)},yS=r=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return r?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},R3=(r,l,d,f)=>{d==="custom"?i5(r)(b=>{b.each(v=>{A3(l,v),r.execCommand("mceApplyTextcolor",l,v),f(v)})},o5(r,l).getOr(Cw)):d==="remove"?(f(""),r.execCommand("mceRemoveTextcolor",l)):(f(d),r.execCommand("mceApplyTextcolor",l,d))},N3=(r,l,d)=>r.concat((f=>Pe(JN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(yS(d))),r5=(r,l,d)=>f=>{f(N3(r,l,d))},P3=(r,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r.setIconFill(f,d)},L3=(r,l)=>{r.setTooltip(l)},s5=(r,l)=>d=>{const f=o5(r,l);return ci(f,d.toUpperCase())},M3=(r,l,d)=>{if(qu(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=N3(p0(r,l),l,!1),v=Q(b,C=>C.value===d).getOr({text:""}).text;return r.translate([f,r.translate(v)])},B3=(r,l,d,f)=>{r.ui.registry.addSplitButton(l,{tooltip:M3(r,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:s5(r,d),columns:I3(r,d),fetch:r5(p0(r,d),d,D3(r)),onAction:b=>{R3(r,d,f.get(),U)},onItemAction:(b,v)=>{R3(r,d,v,C=>{f.set(C),Oy(r,{name:l,color:C})})},onSetup:b=>{P3(b,l,f.get());const v=C=>{C.name===l&&(P3(b,C.name,C.color),L3(b,M3(r,d,C.color)))};return r.on("TextColorChange",v),Iy(Fi(r)(b),()=>{r.off("TextColorChange",v)})}})},Ry=(r,l,d,f,b)=>{r.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(L3(v,M3(r,d,b.get())),P3(v,l,b.get()),Fi(r)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:s5(r,d),initData:{storageKey:d},onAction:v=>{R3(r,d,v.value,C=>{b.set(C),Oy(r,{name:l,color:C})})}}]})},i5=r=>(l,d)=>{let f=!1;const b={colorpicker:d};r.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(l(R.from(C)),v.close()):r.windowManager.alert(r.translate(["Invalid hex color code: {0}",C]))},onClose:U,onCancel:()=>{l(R.none())}})},b0=(r,l,d,f,b,v,C,k)=>{const E=gw(l),N=F3(l,d,f,b!=="color"?"normal":"color",v,C,k);return s3(r,E,N,f,{menuType:b})},F3=(r,l,d,f,b,v,C)=>tl(Pe(r,k=>{return k.type==="choiceitem"?(E=k,_s("choicemenuitem",h3,E)).fold(yg,N=>R.some(((F,M,V,Y,te,fe,pe,Se=!0)=>{const ge=yw({presets:V,textContent:M?F.text:R.none(),htmlContent:R.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:M?F.shortcut:R.none(),checkMark:M?R.some(zN(pe.icons)):R.none(),caret:R.none(),value:F.value},pe,Se),me=F.text.filter(Z(!M)).map(we=>ai.config(pe.tooltips.getConfig({tooltipText:pe.translate(we)})));return Br(Ay({data:Ty(F),enabled:F.enabled,getApi:we=>({setActive:ke=>{oo.set(we,ke)},isActive:()=>oo.isOn(we),isEnabled:()=>!ao.isDisabled(we),setEnabled:ke=>ao.set(we,!ke)}),onAction:we=>Y(F.value),onSetup:we=>(we.setActive(te),U),triggersSubmenu:!1,itemBehaviours:[...me.toArray()]},ge,fe,pe),{toggling:{toggleClass:lN,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(N,d===1,f,l,v(N.value),b,C,gw(r)))):R.none();var E})),_w=(r,l)=>{const d=l0(l);return r===1?{mode:"menu",moveOnTab:!0}:r==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?fs(f.element,"[aria-checked=true]"):R.none()}},$3=_n("cell-over"),a5=_n("cell-execute"),Y7=(r,l,d)=>{const f=v=>Bn(v,a5,{row:r,col:l}),b=(v,C)=>{C.stop(),f(v)};return Ji({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:Yt([Ao("insert-table-picker-cell",[It(Pn(),so.focus),It(El(),f),It(vi(),b),It(Ff(),b)]),oo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),so.config({onFocus:v=>Bn(v,$3,{row:r,col:l})})])})},l5=r=>pn(r,l=>Pe(l,ul)),c5=(r,l)=>$s(`${l}x${r}`),u5={inserttable:(r,l)=>{const d=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((C,k,E)=>{const N=[];for(let F=0;F<10;F++){const M=[];for(let V=0;V<10;V++){const Y=C(F+1,V+1);M.push(Y7(F,V,Y))}N.push(M)}return N})(d),b=c5(0,0),v=Sr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:Yt([Jn.config({})])});return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Uh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:l5(f).concat(v.asSpec()),behaviours:Yt([Ao("insert-table-picker",[as(C=>{Jn.set(v.get(C),[b])}),gh($3,(C,k,E)=>{const{row:N,col:F}=E.event;((M,V,Y,te,fe)=>{for(let pe=0;pe<10;pe++)for(let Se=0;Se<10;Se++)oo.set(M[pe][Se],pe<=V&&Se<=Y)})(f,N,F),Jn.set(v.get(C),[c5(N+1,F+1)])}),gh(a5,(C,k,E)=>{const{row:N,col:F}=E.event;No(C,av()),r.onAction({numRows:N+1,numColumns:F+1})})]),$n.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(r,l)=>{const d=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>N3(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),N=>N.concat(yS(E)))})(r,l),f=l.colorinput.getColorCols(r.initData.storageKey),b="color",v={...b0(_n("menu-value"),d,C=>{r.onAction({value:C})},f,b,fm.CLOSE_ON_EXECUTE,r.select.getOr(Ae),l.shared.providers),markers:l0(b),movement:_w(f,b),showMenuRole:!1};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Uh.widget(n0.sketch(v))]}}},d5=r=>({type:"separator",dom:{tag:"div",classes:[nS,"tox-collection__group-heading"]},components:r.text.map($s).toArray()});var X7=Object.freeze({__proto__:null,getCoupled:(r,l,d,f)=>d.getOrCreate(r,l,f),getExistingCoupled:(r,l,d,f)=>d.getExisting(r,l,f)}),f5=[Yi("others",nv(Ho.value,Kl()))],xS=Object.freeze({__proto__:null,init:()=>{const r={},l=(f,b)=>{if(Ut(f.others).length===0)throw new Error("Cannot find any known coupled components");return En(r,b)},d=Z({});return Li({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(En(b.others,v).getOrDie("No information found for coupled component: "+v),R.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const C=En(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return r[v]=k,k})})}});const Vs=Mi({fields:f5,name:"coupling",apis:X7,state:xS}),Sw=r=>{let l=R.none(),d=[];const f=C=>{b()?v(C):d.push(C)},b=()=>l.isSome(),v=C=>{l.each(k=>{setTimeout(()=>{C(k)},0)})};return r(C=>{b()||(l=R.some(C),mt(d,v),d=[])}),{get:f,map:C=>Sw(k=>{f(E=>{k(C(E))})}),isReady:b}},J7={nu:Sw,pure:r=>Sw(l=>{l(r)})},Q7=r=>{setTimeout(()=>{throw r},0)},Ny=r=>{const l=d=>{r().then(d,Q7)};return{map:d=>Ny(()=>r().then(d)),bind:d=>Ny(()=>r().then(f=>d(f).toPromise())),anonBind:d=>Ny(()=>r().then(()=>d.toPromise())),toLazy:()=>J7.nu(l),toCached:()=>{let d=null;return Ny(()=>(d===null&&(d=r()),d))},toPromise:r,get:l}},cb=r=>Ny(()=>new Promise(r)),wg=r=>Ny(()=>Promise.resolve(r)),V3=Z("sink"),m5=Z(Ou({name:V3(),overrides:Z({dom:{tag:"div"},behaviours:Yt([va.config({useFixed:ze})]),events:xo([Zm(ks()),Zm(Bt()),Zm(vi())])})})),g5=(r,l)=>{const d=r.getHotspot(l).getOr(l),f="hotspot",b=r.getAnchorOverrides();return r.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},wS=(r,l,d,f,b,v,C)=>((E,N,F,M,V,Y,te)=>{const fe=((Se,ge,me)=>(0,Se.fetch)(me).map(ge))(E,N,M),pe=h5(M,E);return fe.map(Se=>Se.bind(ge=>{const me=ge.menus[ge.primary];return R.from(me).each(we=>{E.listRole.each(ke=>{we.role=ke})}),R.from(Bh.sketch({...Y.menu(),uid:Kc(""),data:ge,highlightOnOpen:te,onOpenMenu:(we,ke)=>{const Oe=pe().getOrDie();va.position(Oe,ke,{anchor:F}),O.decloak(V)},onOpenSubmenu:(we,ke,Oe)=>{const Xe=pe().getOrDie();va.position(Xe,Oe,{anchor:{type:"submenu",item:ke}}),O.decloak(V)},onRepositionMenu:(we,ke,Oe)=>{const Xe=pe().getOrDie();va.position(Xe,ke,{anchor:F}),mt(Oe,lt=>{va.position(Xe,lt.triggeredMenu,{anchor:{type:"submenu",item:lt.triggeringItem}})})},onEscape:()=>(so.focus(M),O.close(V),R.some(!0))}))}))})(r,l,g5(r,d),d,f,b,C).map(E=>(E.fold(()=>{O.isOpen(f)&&O.close(f)},N=>{O.cloak(f),O.open(f,N),v(f)}),f)),e$=(r,l,d,f,b,v,C)=>(O.close(f),wg(f)),z3=(r,l,d,f,b,v)=>{const C=Vs.getCoupled(d,"sandbox");return(O.isOpen(C)?e$:wS)(r,l,d,C,f,b,v)},h5=(r,l)=>r.getSystem().getByUid(l.uid+"-"+V3()).map(d=>()=>Ho.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>Ho.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(r))),H3=r=>{O.getState(r).each(l=>{Bh.repositionMenus(l)})},U3=(r,l,d)=>{const f=Sh(),b=h5(l,r);return{dom:{tag:"div",classes:r.sandboxClasses,attributes:{id:f.id}},behaviours:no(r.sandboxBehaviours,[gt.config({store:{mode:"memory",initialValue:l}}),O.config({onOpen:(v,C)=>{const k=g5(r,l);f.link(l.element),r.matchWidth&&((E,N,F)=>{const M=ir.getCurrent(N).getOr(N),V=Ri(E.element);F?bo(M.element,"min-width",V+"px"):((Y,te)=>{oh.set(Y,te)})(M.element,V)})(k.hotspot,C,r.useMinWidth),r.onOpen(k,v,C),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,C)},onClose:(v,C)=>{f.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,C)},isPartOf:(v,C,k)=>Tl(C,k)||Tl(l,k),getAttachPoint:()=>b().getOrDie()}),ir.config({find:v=>O.getState(v).bind(C=>ir.getCurrent(C))}),Ol.config({channels:{...ce({isExtraPart:Ae}),...Be({doReposition:H3})}})])}},p5=r=>{const l=Vs.getCoupled(r,"sandbox");H3(l)},W3=()=>[dt("sandboxClasses",[]),io("sandboxBehaviours",[ir,Ol,O,gt])],t$=Z([Mt("dom"),Mt("fetch"),nr("onOpen"),Al("onExecute"),dt("getHotspot",R.some),dt("getAnchorOverrides",Z({})),Yf(),Sn("dropdownBehaviours",[oo,Vs,$n,so]),Mt("toggleClass"),dt("eventOrder",{}),Yo("lazySink"),dt("matchWidth",!1),dt("useMinWidth",!1),Yo("role"),Yo("listRole")].concat(W3())),n$=Z([af({schema:[yh(),dt("fakeFocus",!1)],name:"menu",defaults:r=>({onExecute:r.onExecute})}),m5()]),Rl=jl({name:"Dropdown",configFields:t$(),partFields:n$(),factory:(r,l,d,f)=>{const b=E=>{O.getState(E).each(N=>{Bh.highlightPrimary(N)})},v=(E,N,F)=>z3(r,de,E,f,N,F),C={expand:E=>{oo.isOn(E)||v(E,U,gl.HighlightNone).get(U)},open:E=>{oo.isOn(E)||v(E,U,gl.HighlightMenuAndItem).get(U)},refetch:E=>Vs.getExistingCoupled(E,"sandbox").fold(()=>v(E,U,gl.HighlightMenuAndItem).map(U),N=>wS(r,de,E,N,f,U,gl.HighlightMenuAndItem).map(U)),isOpen:oo.isOn,close:E=>{oo.isOn(E)&&v(E,U,gl.HighlightMenuAndItem).get(U)},repositionMenus:E=>{oo.isOn(E)&&p5(E)}},k=(E,N)=>(Uf(E),R.some(!0));return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.dropdownBehaviours,[oo.config({toggleClass:r.toggleClass,aria:{mode:"expanded"}}),Vs.config({others:{sandbox:E=>U3(r,E,{onOpen:()=>oo.on(E),onClose:()=>oo.off(E)})}}),$n.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,N)=>{if(Rl.isOpen(E)){const F=Vs.getCoupled(E,"sandbox");b(F)}else Rl.open(E);return R.some(!0)},onEscape:(E,N)=>Rl.isOpen(E)?(Rl.close(E),R.some(!0)):R.none()}),so.config({})]),events:py(R.some(E=>{v(E,b,gl.HighlightMenuAndItem).get(U)})),eventOrder:{...r.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":r.listRole.getOr("true"),...r.role.fold(()=>({}),E=>({role:E})),...r.dom.tag==="button"?{type:En(r.dom,"attributes").bind(E=>En(E,"type")).getOr("button")}:{}}}}},apis:{open:(r,l)=>r.open(l),refetch:(r,l)=>r.refetch(l),expand:(r,l)=>r.expand(l),close:(r,l)=>r.close(l),isOpen:(r,l)=>r.isOpen(l),repositionMenus:(r,l)=>r.repositionMenus(l)}}),b5=(r,l,d)=>{pN(r).each(f=>{var b;((v,C)=>{Qo(C.element,"id").each(k=>cn(v.element,"aria-activedescendant",k))})(f,d),(cl((b=l).element,fw)?R.some(b.element):fs(b.element,"."+fw)).each(v=>{Qo(v,"id").each(C=>cn(f.element,"aria-controls",C))})}),cn(d.element,"aria-selected","true")},o$=(r,l,d)=>{cn(d.element,"aria-selected","false")},v0=r=>Vs.getExistingCoupled(r,"sandbox").bind(dw).map(bN).map(l=>l.fetchPattern).getOr("");var kw;(function(r){r[r.ContentFocus=0]="ContentFocus",r[r.UiFocus=1]="UiFocus"})(kw||(kw={}));const r$=(r,l,d,f,b)=>{const v=d.shared.providers,C=E=>b?{...E,shortcut:R.none(),icon:E.text.isSome()?R.none():E.icon}:E;switch(r.type){case"menuitem":return(k=r,_s("menuitem",NN,k)).fold(yg,E=>R.some(((N,F,M,V=!0)=>{const Y=yw({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:R.none(),ariaLabel:N.text,caret:R.none(),checkMark:R.none(),shortcutContent:N.shortcut},M,V);return Ay({data:Ty(N),getApi:te=>({isEnabled:()=>!ao.isDisabled(te),setEnabled:fe=>ao.set(te,!fe)}),enabled:N.enabled,onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M)})(C(E),l,v,f)));case"nestedmenuitem":return(E=>_s("nestedmenuitem",PN,E))(r).fold(yg,E=>R.some(((N,F,M,V=!0,Y=!1)=>{const te=Y?(fe=M.icons,b3("chevron-down",fe,[n3])):(Se=>b3("chevron-right",Se,[n3]))(M.icons);var fe;const pe=yw({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:R.none(),ariaLabel:N.text,caret:R.some(te),checkMark:R.none(),shortcutContent:N.shortcut},M,V);return Ay({data:Ty(N),getApi:Se=>({isEnabled:()=>!ao.isDisabled(Se),setEnabled:ge=>ao.set(Se,!ge),setIconFill:(ge,me)=>{fs(Se.element,`svg path[class="${ge}"], rect[class="${ge}"]`).each(we=>{cn(we,"fill",me)})},setTooltip:ge=>{const me=M.translate(ge);cn(Se.element,"aria-label",me)}}),enabled:N.enabled,onAction:U,onSetup:N.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,F,M)})(C(E),l,v,f,b)));case"togglemenuitem":return(E=>_s("togglemenuitem",K7,E))(r).fold(yg,E=>R.some(((N,F,M,V=!0)=>{const Y=yw({iconContent:N.icon,textContent:N.text,htmlContent:R.none(),ariaLabel:N.text,checkMark:R.some(zN(M.icons)),caret:R.none(),shortcutContent:N.shortcut,presets:"normal",meta:N.meta},M,V);return Br(Ay({data:Ty(N),enabled:N.enabled,getApi:te=>({setActive:fe=>{oo.set(te,fe)},isActive:()=>oo.isOn(te),isEnabled:()=>!ao.isDisabled(te),setEnabled:fe=>ao.set(te,!fe)}),onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M),{toggling:{toggleClass:lN,toggleOnExecute:!1,selected:N.active},role:N.role.getOrUndefined()})})(C(E),l,v,f)));case"separator":return(E=>_s("separatormenuitem",SN,E))(r).fold(yg,E=>R.some(d5(E)));case"fancymenuitem":return(E=>_s("fancymenuitem",RN,E))(r).fold(yg,E=>((N,F)=>En(u5,N.fancytype).map(M=>M(N,F)))(E,d));default:return console.error("Unknown item in general menu",r),R.none()}var k},ub=(r,l,d,f,b,v,C)=>{const k=f===1,E=!k||gw(r);return tl(Pe(r,N=>{switch(N.type){case"separator":return(F=N,_s("Autocompleter.Separator",SN,F)).fold(yg,M=>R.some(d5(M)));case"cardmenuitem":return(M=>_s("cardmenuitem",W7,M))(N).fold(yg,M=>R.some(((V,Y,te,fe)=>{const pe={dom:HN(V.label),optComponents:[R.some({dom:{tag:"div",classes:[cw,uw]},components:x3(V.items,fe)})]};return Ay({data:Ty({text:R.none(),...V}),enabled:V.enabled,getApi:Se=>({isEnabled:()=>!ao.isDisabled(Se),setEnabled:ge=>{ao.set(Se,!ge),mt(Ai(Se.element,"*"),me=>{Se.getSystem().getByDom(me).each(we=>{we.hasConfigured(ao)&&ao.set(we,!ge)})})}}),onAction:V.onAction,onSetup:V.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(fe.itemBehaviours).getOr([])},pe,Y,te.providers)})({...M,onAction:V=>{M.onAction(V),d(M.value,M.meta)}},b,v,{itemBehaviours:UN(M.meta,v,R.none()),cardText:{matchText:l,highlightOn:C}})));default:return(M=>_s("Autocompleter.Item",P7,M))(N).fold(yg,M=>R.some(((V,Y,te,fe,pe,Se,ge,me=!0)=>{const we=yw({presets:fe,textContent:R.none(),htmlContent:te?V.text.map(Oe=>y3(Oe,Y)):R.none(),ariaLabel:V.text,iconContent:V.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:V.value},ge.providers,me,V.icon),ke=V.text.filter(Oe=>!te&&Oe!=="");return Ay({data:Ty(V),enabled:V.enabled,getApi:Z({}),onAction:Oe=>pe(V.value,V.meta),onSetup:Z(U),triggersSubmenu:!1,itemBehaviours:UN(V,ge,ke)},we,Se,ge.providers)})(M,l,k,"normal",d,b,v,E)))}var F}))},v5=(r,l,d,f,b,v)=>{const C=gw(l),k=tl(Pe(l,N=>{const F=M=>r$(M,d,f,(V=>b?!uo(V,"text"):C)(M),b);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?F({...N,enabled:!1}):F(N)})),E=(N=>N.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:N})(v);return(b?I7:s3)(r,C,k,1,E)},K3=r=>Bh.singleData(r.value,r),wd=r=>Xf(un(r.startContainer),r.startOffset,un(r.endContainer),r.endOffset),y5=(r,l)=>{const d=_n("autocompleter"),f=Hn(!1),b=Hn(!1),v=Or(),C=Ji(vs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Yt([Ao("dismissAutocompleter",[It(mh(),()=>M()),It(Bx(),(te,fe)=>{Qo(fe.event.target,"id").each(pe=>cn(un(r.getBody()),"aria-activedescendant",pe))})])]),lazySink:l.getSink})),k=()=>vs.isOpen(C),E=b.get,N=()=>{if(k()){vs.hide(C),r.dom.remove(d,!1);const te=un(r.getBody());Qo(te,"aria-owns").filter(fe=>fe===d).each(()=>{Ro(te,"aria-owns"),Ro(te,"aria-activedescendant")})}},F=()=>vs.getContent(C).bind(te=>Ce(te.components(),0)),M=()=>r.execCommand("mceAutocompleterClose"),V=te=>{const fe=(pe=>{const Se=sn(pe,ge=>R.from(ge.columns)).getOr(1);return pn(pe,ge=>{const me=ge.items;return ub(me,ge.matchText,(we,ke)=>{const Oe={hide:()=>M(),reload:Xe=>{N(),r.execCommand("mceAutocompleterReload",!1,{fetchOptions:Xe})}};r.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Xe=>{f.set(!0),ge.onAction(Oe,Xe,we,ke),f.set(!1)})},Se,fm.BUBBLE_TO_SANDBOX,l,ge.highlightOn)})})(te);fe.length>0?(((pe,Se)=>{const ge=sn(pe,me=>R.from(me.columns)).getOr(1);vs.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(wd),root:un(r.getBody())}},((me,we,ke,Oe)=>{const Xe=_w(we,Oe),lt=l0(Oe);return{data:K3({...me,movement:Xe,menuBehaviours:bw(we!=="auto"?[]:[as((Nt,Tt)=>{p3(Nt,4,lt.item).each(({numColumns:kt,numRows:Wt})=>{$n.setGridSize(Nt,Wt,kt)})})])}),menu:{markers:l0(Oe),fakeFocus:ke===kw.ContentFocus}}})(s3("autocompleter-value",!0,Se,ge,{menuType:"normal"}),ge,kw.ContentFocus,"normal")),F().each(Er.highlightFirst)})(te,fe),cn(un(r.getBody()),"aria-owns",d),r.inline||Y()):N()},Y=()=>{r.dom.get(d)&&r.dom.remove(d,!1);const te=r.getDoc().documentElement,fe=r.selection.getNode(),pe=(Se=>bh(Se,!0))(C.element);rl(pe,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${fe.offsetTop}px`,left:`${fe.offsetLeft}px`}),r.dom.add(te,pe.dom),fs(pe,'[role="menu"]').each(Se=>{kr(Se,"position"),kr(Se,"max-height")})};r.on("AutocompleterStart",({lookupData:te})=>{b.set(!0),f.set(!1),V(te)}),r.on("AutocompleterUpdate",({lookupData:te})=>V(te)),r.on("AutocompleterUpdateActiveRange",({range:te})=>v.set(te)),r.on("AutocompleterEnd",()=>{N(),b.set(!1),f.set(!1),v.clear()}),((te,fe)=>{const pe=(ge,me)=>{Bn(ge,ks(),{raw:me})},Se=()=>te.getMenu().bind(Er.getHighlighted);fe.on("keydown",ge=>{const me=ge.which;te.isActive()&&(te.isMenuOpen()?me===13?(Se().each(Uf),ge.preventDefault()):me===40?(Se().fold(()=>{te.getMenu().each(Er.highlightFirst)},we=>{pe(we,ge)}),ge.preventDefault(),ge.stopImmediatePropagation()):me!==37&&me!==38&&me!==39||Se().each(we=>{pe(we,ge),ge.preventDefault(),ge.stopImmediatePropagation()}):me!==13&&me!==38&&me!==40||te.cancelIfNecessary())}),fe.on("NodeChange",()=>{!te.isActive()||te.isProcessingAction()||fe.queryCommandState("mceAutoCompleterInRange")||te.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},r)},Py=(r,l,d)=>dd(r,l,d).isSome(),j3=(r,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{r.apply(null,f),d=null},l)}}},x5=r=>{const l=r.raw;return l.touches===void 0||l.touches.length!==1?R.none():R.some(l.touches[0])},CS=(r,l)=>{const d={stopBackspace:!0,...l},f=(M=>{const V=Or(),Y=Hn(!1),te=j3(pe=>{M.triggerEvent(zE(),pe),Y.set(!0)},400),fe=Gd([{key:G(),value:pe=>(x5(pe).each(Se=>{te.cancel();const ge={x:Se.clientX,y:Se.clientY,target:pe.target};te.schedule(pe),Y.set(!1),V.set(ge)}),R.none())},{key:le(),value:pe=>(te.cancel(),x5(pe).each(Se=>{V.on(ge=>{((me,we)=>{const ke=Math.abs(me.clientX-we.x),Oe=Math.abs(me.clientY-we.y);return ke>5||Oe>5})(Se,ge)&&V.clear()})}),R.none())},{key:Le(),value:pe=>(te.cancel(),V.get().filter(Se=>dr(Se.target,pe.target)).map(Se=>Y.get()?(pe.prevent(),!1):M.triggerEvent(Ff(),pe)))}]);return{fireIfReady:(pe,Se)=>En(fe,Se).bind(ge=>ge(pe))}})(d),b=Pe(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>Ka(r,M,V=>{f.fireIfReady(V,M).each(Y=>{Y&&V.kill()}),d.triggerEvent(M,V)&&V.kill()})),v=Or(),C=Ka(r,"paste",M=>{f.fireIfReady(M,"paste").each(V=>{V&&M.kill()}),d.triggerEvent("paste",M)&&M.kill(),v.set(setTimeout(()=>{d.triggerEvent(Mx(),M)},0))}),k=Ka(r,"keydown",M=>{d.triggerEvent("keydown",M)?M.kill():d.stopBackspace&&(V=>V.raw.which===HD[0]&&!ut(["input","textarea"],nl(V.target))&&!Py(V.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=Ka(r,"focusin",M=>{d.triggerEvent("focusin",M)&&M.kill()}),N=Or(),F=Ka(r,"focusout",M=>{d.triggerEvent("focusout",M)&&M.kill(),N.set(setTimeout(()=>{d.triggerEvent(Tp(),M)},0))});return{unbind:()=>{mt(b,M=>{M.unbind()}),k.unbind(),E.unbind(),F.unbind(),C.unbind(),v.on(clearTimeout),N.on(clearTimeout)}}},Z3=(r,l)=>{const d=En(r,"target").getOr(l);return Hn(d)},Ew=tc([{stopped:[]},{resume:["element"]},{complete:[]}]),w5=(r,l,d,f,b,v)=>{const C=r(l,f),k=((E,N)=>{const F=Hn(!1),M=Hn(!1);return{stop:()=>{F.set(!0)},cut:()=>{M.set(!0)},isStopped:F.get,isCut:M.get,event:E,setSource:N.set,getSource:N.get}})(d,b);return C.fold(()=>(v.logEventNoHandlers(l,f),Ew.complete()),E=>{const N=E.descHandler;return t2(N)(k),k.isStopped()?(v.logEventStopped(l,E.element,N.purpose),Ew.stopped()):k.isCut()?(v.logEventCut(l,E.element,N.purpose),Ew.complete()):Ea(E.element).fold(()=>(v.logNoParent(l,E.element,N.purpose),Ew.complete()),F=>(v.logEventResponse(l,E.element,N.purpose),Ew.resume(F)))})},Aw=(r,l,d,f,b,v)=>w5(r,l,d,f,b,v).fold(ze,C=>Aw(r,l,d,C,b,v),Ae),_S=(r,l,d,f,b)=>{const v=Z3(d,f);return Aw(r,l,d,f,v,b)},C5=()=>{const r=(()=>{const f={};return{registerId:(b,v,C)=>{qn(C,(k,E)=>{const N=f[E]!==void 0?f[E]:{};N[v]=((F,M)=>({cHandler:Ve.apply(void 0,[F.handler].concat(M)),purpose:F.purpose}))(k,b),f[E]=N})},unregisterId:b=>{qn(f,(v,C)=>{uo(v,b)&&delete v[b]})},filterByType:b=>En(f,b).map(v=>ti(v,(C,k)=>((E,N)=>({id:E,descHandler:N}))(k,C))).getOr([]),find:(b,v,C)=>En(f,v).bind(k=>fh(C,E=>((N,F)=>wh(F).bind(M=>En(N,M)).map(M=>((V,Y)=>({element:V,descHandler:Y}))(F,M)))(k,E),b))}})(),l={},d=f=>{wh(f.element).each(b=>{delete l[b],r.unregisterId(b)})};return{find:(f,b,v)=>r.find(f,b,v),filter:f=>r.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return wh(k).getOrThunk(()=>((E,N)=>{const F=_n(P1+"uid-");return L1(N,F),F})(0,C.element))})(f);Oo(l,b)&&((C,k)=>{const E=l[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+Qd(E.element)+`
Cannot use it for: `+Qd(C.element)+`
The conflicting element is`+(mn(E.element)?" ":" not ")+"already in the DOM");d(C)})(f,b);const v=[f];r.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>En(l,f)}},df=Iu({name:"Container",factory:r=>{const{attributes:l,...d}=r.dom;return{uid:r.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:r.components,behaviours:to(r.containerBehaviours),events:r.events,domModification:r.domModification,eventOrder:r.eventOrder}},configFields:[dt("components",[]),Sn("containerBehaviours",[]),dt("events",{}),dt("domModification",{}),dt("eventOrder",{})]}),SS=r=>{const l=pe=>Ea(r.element).fold(ze,Se=>dr(pe,Se)),d=C5(),f=(pe,Se)=>d.find(l,pe,Se),b=CS(r.element,{triggerEvent:(pe,Se)=>yv(pe,Se.target,ge=>((me,we,ke,Oe)=>_S(me,we,ke,ke.target,Oe))(f,pe,Se,ge))}),v={debugInfo:Z("real"),triggerEvent:(pe,Se,ge)=>{yv(pe,Se,me=>_S(f,pe,ge,Se,me))},triggerFocus:(pe,Se)=>{wh(pe).fold(()=>{Wa(pe)},ge=>{yv(ld(),pe,me=>(((we,ke,Oe,Xe,lt)=>{const Nt=Z3(Oe,Xe);w5(we,ke,Oe,Xe,Nt,lt)})(f,ld(),{originator:Se,kill:U,prevent:U,target:pe},pe,me),!1))})},triggerEscape:(pe,Se)=>{v.triggerEvent("keydown",pe.element,Se.event)},getByUid:pe=>te(pe),getByDom:pe=>fe(pe),build:Ji,buildOrPatch:z1,addToGui:pe=>{E(pe)},removeFromGui:pe=>{N(pe)},addToWorld:pe=>{C(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{M(pe)},broadcastOn:(pe,Se)=>{V(pe,Se)},broadcastEvent:(pe,Se)=>{Y(pe,Se)},isConnected:ze},C=pe=>{pe.connect(v),ka(pe.element)||(d.register(pe),mt(pe.components(),C),v.triggerEvent($f(),pe.element,{target:pe.element}))},k=pe=>{ka(pe.element)||(mt(pe.components(),k),d.unregister(pe)),pe.disconnect()},E=pe=>{rm(r,pe)},N=pe=>{fl(pe)},F=pe=>{const Se=d.filter(gc());mt(Se,ge=>{const me=ge.descHandler;t2(me)(pe)})},M=pe=>{F({universal:!0,data:pe})},V=(pe,Se)=>{F({universal:!1,channels:pe,data:Se})},Y=(pe,Se)=>((ge,me,we)=>{const ke=(Oe=>{const Xe=Hn(!1);return{stop:()=>{Xe.set(!0)},cut:U,isStopped:Xe.get,isCut:Ae,event:Oe,setSource:Ye("Cannot set source of a broadcasted event"),getSource:Ye("Cannot get source of a broadcasted event")}})(me);return mt(ge,Oe=>{const Xe=Oe.descHandler;t2(Xe)(ke)}),ke.isStopped()})(d.filter(pe),Se),te=pe=>d.getById(pe).fold(()=>Ho.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Ho.value),fe=pe=>{const Se=wh(pe).getOr("not found");return te(Se)};return C(r),{root:r,element:r.element,destroy:()=>{b.unbind(),Zi(r.element)},add:E,remove:N,getByUid:te,getByDom:fe,addToWorld:C,removeFromWorld:k,broadcast:M,broadcastOn:V,broadcastEvent:Y}},s$=Z([dt("prefix","form-field"),Sn("fieldBehaviours",[ir,gt])]),G3=Z([Ou({schema:[Mt("dom")],name:"label"}),Ou({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Mt("text")],name:"aria-descriptor"}),Dl({factory:{sketch:r=>{const l=((d,f)=>{const b={};return qn(d,(v,C)=>{ut(f,C)||(b[C]=v)}),b})(r,["factory"]);return r.factory.sketch(l)}},schema:[Mt("factory")],name:"field"})]),Ir=jl({name:"FormField",configFields:s$(),partFields:G3(),factory:(r,l,d,f)=>{const b=Eo(r.fieldBehaviours,[ir.config({find:k=>Qr(k,r,"field")}),gt.config({store:{mode:"manual",getValue:k=>ir.getCurrent(k).bind(gt.getValue),setValue:(k,E)=>{ir.getCurrent(k).each(N=>{gt.setValue(N,E)})}}})]),v=xo([as((k,E)=>{const N=AD(k,r,["label","field","aria-descriptor"]);N.field().each(F=>{const M=_n(r.prefix);N.label().each(V=>{cn(V.element,"for",M),cn(F.element,"id",M)}),N["aria-descriptor"]().each(V=>{const Y=_n(r.prefix);cn(V.element,"id",Y),cn(F.element,"aria-describedby",Y)})})})]),C={getField:k=>Qr(k,r,"field"),getLabel:k=>Qr(k,r,"label")};return{uid:r.uid,dom:r.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(r,l)=>r.getField(l),getLabel:(r,l)=>r.getLabel(l)}});var i$=tinymce.util.Tools.resolve("tinymce.html.Entities");const Tw=(r,l,d,f)=>{const b=a$(r,l,d,f);return Ir.sketch(b)},a$=(r,l,d,f)=>({dom:kS(d),components:r.toArray().concat([l]),fieldBehaviours:Yt(f)}),kS=r=>({tag:"div",classes:["tox-form__group"].concat(r)}),db=(r,l)=>Ir.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(l.translate(r))]}),hl=_n("form-component-change"),fb=_n("form-close"),Kh=_n("form-cancel"),gm=_n("form-action"),Ow=_n("form-submit"),q3=_n("form-block"),Y3=_n("form-unblock"),_5=_n("form-tabchange"),ES=_n("form-resize"),S5=(r,l,d)=>{const f=r.label.map(M=>db(M,l)),b=l.icons(),v=M=>(V,Y)=>{dd(Y.event.target,"[data-collection-item-value]").each(te=>{M(V,Y,te,Ko(te,"data-collection-item-value"))})},C=v((M,V,Y,te)=>{V.stop(),l.isDisabled()||Bn(M,gm,{name:r.name,value:te})}),k=[It(Pn(),v((M,V,Y)=>{Wa(Y)})),It(vi(),C),It(Ff(),C),It(wr(),v((M,V,Y)=>{fs(M.element,"."+vg).each(te=>{Rs(te,vg)}),Es(Y,vg)})),It(Ks(),v(M=>{fs(M.element,"."+vg).each(V=>{Rs(V,vg),Av(V)})})),Cu(v((M,V,Y,te)=>{Bn(M,gm,{name:r.name,value:te})}))],E=(M,V)=>Pe(Ai(M.element,".tox-collection__item"),V),N=Ir.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(r.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:de},behaviours:Yt([ao.config({disabled:l.isDisabled,onDisabled:M=>{E(M,V=>{Es(V,"tox-collection__item--state-disabled"),cn(V,"aria-disabled",!0)})},onEnabled:M=>{E(M,V=>{Rs(V,"tox-collection__item--state-disabled"),Ro(V,"aria-disabled")})}}),Bi(),Jn.config({}),ai.config({...l.tooltips.getConfig({tooltipText:"",onShow:M=>{fs(M.element,"."+vg+"[data-mce-tooltip]").each(V=>{Qo(V,"data-mce-tooltip").each(Y=>{ai.setComponents(M,l.tooltips.getComponents({tooltipText:Y}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:fs(M.element,"."+vg).orThunk(()=>$d(".tox-collection__item")),root:M.element,layouts:{onLtr:Z([Gs,As,Ns,si,Ps,Fr]),onRtl:Z([Gs,As,Ns,si,Ps,Fr])},bubble:bc(0,-2,{})})}),gt.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(M,V)=>{((Y,te)=>{const fe=Pe(te,ge=>{const me=pd.translate(ge.text),we=r.columns===1?`<div class="tox-collection__item-label">${me}</div>`:"",ke=`<div class="tox-collection__item-icon">${(lt=>{var Nt;return(Nt=b[lt])!==null&&Nt!==void 0?Nt:lt})(ge.icon)}</div>`,Oe={_:" "," - ":" ","-":" "},Xe=me.replace(/\_| \- |\-/g,lt=>Oe[lt]);return`<div data-mce-tooltip="${Xe}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${i$.encodeAllRaw(ge.value)}" aria-label="${Xe}">${ke}${we}</div>`}),pe=r.columns!=="auto"&&r.columns>1?tt(fe,r.columns):[fe],Se=Pe(pe,ge=>`<div class="tox-collection__group">${ge.join("")}</div>`);ph(Y.element,Se.join(""))})(M,V),r.columns==="auto"&&p3(M,5,"tox-collection__item").each(({numRows:Y,numColumns:te})=>{$n.setGridSize(M,Y,te)}),No(M,ES)}}),Gr.config({}),$n.config((F=r.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${nS}`}})),Ao("collection-events",k)]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","collection-events"],[wr()]:["collection-events","tooltipping"]}});var F;return Tw(f,N,["tox-form__group--collection"],[])},k5=["input","textarea"],AS=r=>{const l=nl(r);return ut(k5,l)},E5=(r,l)=>{const d=l.getRoot(r).getOr(r.element);Rs(d,l.invalidClass),l.notify.each(f=>{AS(r.element)&&cn(r.element,"aria-invalid",!1),f.getContainer(r).each(b=>{ph(b,f.validHtml)}),f.onValid(r)})},X3=(r,l,d,f)=>{const b=l.getRoot(r).getOr(r.element);Es(b,l.invalidClass),l.notify.each(v=>{AS(r.element)&&cn(r.element,"aria-invalid",!0),v.getContainer(r).each(C=>{ph(C,f)}),v.onInvalid(r,f)})},A5=(r,l,d)=>l.validator.fold(()=>wg(Ho.value(!0)),f=>f.validate(r)),J3=(r,l,d)=>(l.notify.each(f=>{f.onValidate(r)}),A5(r,l).map(f=>r.getSystem().isConnected()?f.fold(b=>(X3(r,l,0,b),Ho.error(b)),b=>(E5(r,l),Ho.value(b))):Ho.error("No longer in system")));var l$=Object.freeze({__proto__:null,markValid:E5,markInvalid:X3,query:A5,run:J3,isInvalid:(r,l)=>{const d=l.getRoot(r).getOr(r.element);return cl(d,l.invalidClass)}}),T5=Object.freeze({__proto__:null,events:(r,l)=>r.validator.map(d=>xo([It(d.onEvent,f=>{J3(f,r).get(de)})].concat(d.validateOnLoad?[as(f=>{J3(f,r).get(U)})]:[]))).getOr({})}),c$=[Mt("invalidClass"),dt("getRoot",R.none),Is("notify",[dt("aria","alert"),dt("getContainer",R.none),dt("validHtml",""),nr("onValid"),nr("onInvalid"),nr("onValidate")]),Is("validator",[Mt("validate"),dt("onEvent","input"),dt("validateOnLoad",!0)])];const Cg=Mi({fields:c$,name:"invalidating",active:T5,apis:l$,extra:{validation:r=>l=>{const d=gt.getValue(l);return wg(r(d))}}}),y0=Mi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>xo([Dp(ma(),ze)]),exhibit:()=>js({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Q3=_n("color-input-change"),eT=_n("color-swatch-change"),O5=_n("color-picker-cancel"),tT=Ou({schema:[Mt("dom")],name:"label"}),mb=r=>Ou({name:r+"-edge",overrides:l=>l.model.manager.edgeActions[r].fold(()=>({}),d=>({events:xo([Fx(G(),(f,b,v)=>d(f,v),[l]),Fx(Bt(),(f,b,v)=>d(f,v),[l]),Fx(Yn(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),u$=mb("top-left"),d$=mb("top"),f$=mb("top-right"),m$=mb("right"),I5=mb("bottom-right"),nT=mb("bottom"),g$=mb("bottom-left"),TS=mb("left"),h$=Dl({name:"thumb",defaults:Z({dom:{styles:{position:"absolute"}}}),overrides:r=>({events:xo([Np(G(),r,"spectrum"),Np(le(),r,"spectrum"),Np(Le(),r,"spectrum"),Np(Bt(),r,"spectrum"),Np(Yn(),r,"spectrum"),Np(mo(),r,"spectrum")])})}),OS=r=>mg(r.event);var p$=[tT,TS,m$,d$,nT,u$,f$,g$,I5,h$,Dl({schema:[qi("mouseIsDown",()=>Hn(!1))],name:"spectrum",overrides:r=>{const l=r.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,r,v));return{behaviours:Yt([$n.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,r,OS(b)),onRight:(f,b)=>l.onRight(f,r,OS(b)),onUp:(f,b)=>l.onUp(f,r,OS(b)),onDown:(f,b)=>l.onDown(f,r,OS(b))}),Gr.config({}),so.config({})]),events:xo([It(G(),d),It(le(),d),It(Bt(),d),It(Yn(),(f,b)=>{r.mouseIsDown.get()&&d(f,b)})])}}})];const Iw=Z("slider.change.value"),oT=r=>{const l=r.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?R.some(d.touches[0]).map(f=>ts(f.clientX,f.clientY)):R.none()}{const d=l;return d.clientX!==void 0?R.some(d).map(f=>ts(f.clientX,f.clientY)):R.none()}},x0=r=>r.model.minX,gb=r=>r.model.minY,IS=r=>r.model.minX-1,DS=r=>r.model.minY-1,jh=r=>r.model.maxX,Cd=r=>r.model.maxY,RS=r=>r.model.maxX+1,NS=r=>r.model.maxY+1,PS=(r,l,d)=>l(r)-d(r),LS=r=>PS(r,jh,x0),rT=r=>PS(r,Cd,gb),D5=r=>LS(r)/2,sT=r=>rT(r)/2,Ly=(r,l)=>l?r.stepSize*r.speedMultiplier:r.stepSize,iT=r=>r.snapToGrid,aT=r=>r.snapStart,MS=r=>r.rounded,BS=(r,l)=>r[l+"-edge"]!==void 0,lT=r=>BS(r,"left"),R5=r=>BS(r,"right"),My=r=>BS(r,"top"),N5=r=>BS(r,"bottom"),Zh=r=>r.model.value.get(),_g=(r,l)=>({x:r,y:l}),Lu=(r,l)=>{Bn(r,Iw(),{value:l})},cT=(r,l,d,f)=>r<l?r:r>d?d:r===l?l-1:Math.max(l,r-f),Dw=(r,l,d,f)=>r>d?r:r<l?l:r===d?d+1:Math.min(d,r+f),P5=(r,l,d)=>Math.max(l,Math.min(d,r)),L5=r=>{const{min:l,max:d,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:N,hasMaxEdge:F,minBound:M,maxBound:V,screenRange:Y}=r,te=N?l-1:l,fe=F?d+1:d;if(b<M)return te;if(b>V)return fe;{const pe=((ge,me,we)=>Math.min(we,Math.max(ge,me))-me)(b,M,V),Se=P5(pe/Y*f+l,te,fe);return C&&Se>=l&&Se<=d?((ge,me,we,ke,Oe)=>Oe.fold(()=>{const Xe=ge-me,lt=Math.round(Xe/ke)*ke;return P5(me+lt,me-1,we+1)},Xe=>{const lt=(ge-Xe)%ke,Nt=Math.round(lt/ke),Tt=Math.floor((ge-Xe)/ke),kt=Math.floor((we-Xe)/ke),Wt=Xe+Math.min(kt,Tt+Nt)*ke;return Math.max(Xe,Wt)}))(Se,l,d,v,k):E?Math.round(Se):Se}},FS=r=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:N,centerMaxEdge:F}=r;return b<l?v?0:N:b>d?C?k:F:(b-l)/f*E},uT="top",M5="right",B5="bottom",dT="left",Sg=r=>r.element.dom.getBoundingClientRect(),ff=(r,l)=>r[l],$S=r=>{const l=Sg(r);return ff(l,dT)},F5=r=>{const l=Sg(r);return ff(l,M5)},VS=r=>{const l=Sg(r);return ff(l,uT)},$5=r=>{const l=Sg(r);return ff(l,B5)},V5=r=>{const l=Sg(r);return ff(l,"width")},z5=r=>{const l=Sg(r);return ff(l,"height")},zS=(r,l,d)=>(r+l)/2-d,H5=(r,l)=>{const d=Sg(r),f=Sg(l),b=ff(d,dT),v=ff(d,M5),C=ff(f,dT);return zS(b,v,C)},U5=(r,l)=>{const d=Sg(r),f=Sg(l),b=ff(d,uT),v=ff(d,B5),C=ff(f,uT);return zS(b,v,C)},HS=(r,l)=>{Bn(r,Iw(),{value:l})},US=(r,l,d)=>{const f={min:x0(l),max:jh(l),range:LS(l),value:d,step:Ly(l),snap:iT(l),snapStart:aT(l),rounded:MS(l),hasMinEdge:lT(l),hasMaxEdge:R5(l),minBound:$S(r),maxBound:F5(r),screenRange:V5(r)};return L5(f)},W5=r=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Dw:cT)(Zh(C),x0(C),jh(C),Ly(C,k));return HS(v,E),R.some(E)})(r,l,d,f).map(ze),fT=(r,l,d,f,b,v)=>{const C=((k,E,N,F,M)=>{const V=V5(k),Y=F.bind(pe=>R.some(H5(pe,k))).getOr(0),te=M.bind(pe=>R.some(H5(pe,k))).getOr(V),fe={min:x0(E),max:jh(E),range:LS(E),value:N,hasMinEdge:lT(E),hasMaxEdge:R5(E),minBound:$S(k),maxBound:F5(k),maxOffset:V,centerMinEdge:Y,centerMaxEdge:te};return FS(fe)})(l,v,d,f,b);return $S(l)-$S(r)+C},b$=W5(-1),v$=W5(1),y$=R.none,x$=R.none,mT={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((r,l)=>{Lu(r,RS(l))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((r,l)=>{Lu(r,IS(l))})};var w$=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=US(r,l,d);return HS(r,f),f},setToMin:(r,l)=>{const d=x0(l);HS(r,d)},setToMax:(r,l)=>{const d=jh(l);HS(r,d)},findValueOfOffset:US,getValueFromEvent:r=>oT(r).map(l=>l.left),findPositionOfValue:fT,setPositionFromValue:(r,l,d,f)=>{const b=Zh(d),v=fT(r,f.getSpectrum(r),b,f.getLeftEdge(r),f.getRightEdge(r),d),C=Ri(l.element)/2;bo(l.element,"left",v-C+"px")},onLeft:b$,onRight:v$,onUp:y$,onDown:x$,edgeActions:mT});const WS=(r,l)=>{Bn(r,Iw(),{value:l})},gT=(r,l,d)=>{const f={min:gb(l),max:Cd(l),range:rT(l),value:d,step:Ly(l),snap:iT(l),snapStart:aT(l),rounded:MS(l),hasMinEdge:My(l),hasMaxEdge:N5(l),minBound:VS(r),maxBound:$5(r),screenRange:z5(r)};return L5(f)},K5=r=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Dw:cT)(Zh(C),gb(C),Cd(C),Ly(C,k));return WS(v,E),R.some(E)})(r,l,d,f).map(ze),hT=(r,l,d,f,b,v)=>{const C=((k,E,N,F,M)=>{const V=z5(k),Y=F.bind(pe=>R.some(U5(pe,k))).getOr(0),te=M.bind(pe=>R.some(U5(pe,k))).getOr(V),fe={min:gb(E),max:Cd(E),range:rT(E),value:N,hasMinEdge:My(E),hasMaxEdge:N5(E),minBound:VS(k),maxBound:$5(k),maxOffset:V,centerMinEdge:Y,centerMaxEdge:te};return FS(fe)})(l,v,d,f,b);return VS(l)-VS(r)+C},C$=R.none,_$=R.none,S$=K5(-1),k$=K5(1),E$={"top-left":R.none(),top:R.some((r,l)=>{Lu(r,DS(l))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((r,l)=>{Lu(r,NS(l))}),"bottom-left":R.none(),left:R.none()};var A$=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=gT(r,l,d);return WS(r,f),f},setToMin:(r,l)=>{const d=gb(l);WS(r,d)},setToMax:(r,l)=>{const d=Cd(l);WS(r,d)},findValueOfOffset:gT,getValueFromEvent:r=>oT(r).map(l=>l.top),findPositionOfValue:hT,setPositionFromValue:(r,l,d,f)=>{const b=Zh(d),v=hT(r,f.getSpectrum(r),b,f.getTopEdge(r),f.getBottomEdge(r),d),C=Os(l.element)/2;bo(l.element,"top",v-C+"px")},onLeft:C$,onRight:_$,onUp:S$,onDown:k$,edgeActions:E$});const KS=(r,l)=>{Bn(r,Iw(),{value:l})},jS=(r,l)=>({x:r,y:l}),w0=(r,l)=>(d,f,b)=>((v,C,k,E,N)=>{const F=v>0?Dw:cT,M=C?Zh(E).x:F(Zh(E).x,x0(E),jh(E),Ly(E,N)),V=C?F(Zh(E).y,gb(E),Cd(E),Ly(E,N)):Zh(E).y;return KS(k,jS(M,V)),R.some(M)})(r,l,d,f,b).map(ze),T$=w0(-1,!1),pT=w0(1,!1),O$=w0(-1,!0),I$=w0(1,!0),D$={"top-left":R.some((r,l)=>{Lu(r,_g(IS(l),DS(l)))}),top:R.some((r,l)=>{Lu(r,_g(D5(l),DS(l)))}),"top-right":R.some((r,l)=>{Lu(r,_g(RS(l),DS(l)))}),right:R.some((r,l)=>{Lu(r,_g(RS(l),sT(l)))}),"bottom-right":R.some((r,l)=>{Lu(r,_g(RS(l),NS(l)))}),bottom:R.some((r,l)=>{Lu(r,_g(D5(l),NS(l)))}),"bottom-left":R.some((r,l)=>{Lu(r,_g(IS(l),NS(l)))}),left:R.some((r,l)=>{Lu(r,_g(IS(l),sT(l)))})};var j5=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=US(r,l,d.left),b=gT(r,l,d.top),v=jS(f,b);return KS(r,v),v},setToMin:(r,l)=>{const d=x0(l),f=gb(l);KS(r,jS(d,f))},setToMax:(r,l)=>{const d=jh(l),f=Cd(l);KS(r,jS(d,f))},getValueFromEvent:r=>oT(r),setPositionFromValue:(r,l,d,f)=>{const b=Zh(d),v=fT(r,f.getSpectrum(r),b.x,f.getLeftEdge(r),f.getRightEdge(r),d),C=hT(r,f.getSpectrum(r),b.y,f.getTopEdge(r),f.getBottomEdge(r),d),k=Ri(l.element)/2,E=Os(l.element)/2;bo(l.element,"left",v-k+"px"),bo(l.element,"top",C-E+"px")},onLeft:T$,onRight:pT,onUp:O$,onDown:I$,edgeActions:D$});const mf=jl({name:"Slider",configFields:[dt("stepSize",1),dt("speedMultiplier",10),dt("onChange",U),dt("onChoose",U),dt("onInit",U),dt("onDragStart",U),dt("onDragEnd",U),dt("snapToGrid",!1),dt("rounded",!0),Yo("snapStart"),Yi("model",bi("mode",{x:[dt("minX",0),dt("maxX",100),qi("value",r=>Hn(r.mode.minX)),Mt("getInitialValue"),Xr("manager",w$)],y:[dt("minY",0),dt("maxY",100),qi("value",r=>Hn(r.mode.minY)),Mt("getInitialValue"),Xr("manager",A$)],xy:[dt("minX",0),dt("maxX",100),dt("minY",0),dt("maxY",100),qi("value",r=>Hn({x:r.mode.minX,y:r.mode.minY})),Mt("getInitialValue"),Xr("manager",j5)]})),Sn("sliderBehaviours",[$n,gt]),qi("mouseIsDown",()=>Hn(!1))],partFields:p$,factory:(r,l,d,f)=>{const b=ge=>Mh(ge,r,"thumb"),v=ge=>Mh(ge,r,"spectrum"),C=ge=>Qr(ge,r,"left-edge"),k=ge=>Qr(ge,r,"right-edge"),E=ge=>Qr(ge,r,"top-edge"),N=ge=>Qr(ge,r,"bottom-edge"),F=r.model,M=F.manager,V=(ge,me)=>{M.setPositionFromValue(ge,me,r,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:N,getSpectrum:v})},Y=(ge,me)=>{F.value.set(me);const we=b(ge);V(ge,we)},te=ge=>{const me=r.mouseIsDown.get();r.mouseIsDown.set(!1),me&&Qr(ge,r,"thumb").each(we=>{const ke=F.value.get();r.onChoose(ge,we,ke)})},fe=(ge,me)=>{me.stop(),r.mouseIsDown.set(!0),r.onDragStart(ge,b(ge))},pe=(ge,me)=>{me.stop(),r.onDragEnd(ge,b(ge)),te(ge)},Se=ge=>{Qr(ge,r,"spectrum").map($n.focusIn)};return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.sliderBehaviours,[$n.config({mode:"special",focusIn:Se}),gt.config({store:{mode:"manual",getValue:ge=>F.value.get(),setValue:Y}}),Ol.config({channels:{[j()]:{onReceive:te}}})]),events:xo([It(Iw(),(ge,me)=>{((we,ke)=>{Y(we,ke);const Oe=b(we);r.onChange(we,Oe,ke)})(ge,me.event.value)}),as((ge,me)=>{const we=F.getInitialValue();F.value.set(we);const ke=b(ge);V(ge,ke);const Oe=v(ge);r.onInit(ge,ke,Oe,F.value.get())}),It(G(),fe),It(Le(),pe),It(Bt(),(ge,me)=>{Se(ge),fe(ge,me)}),It(mo(),pe)]),apis:{resetToMin:ge=>{M.setToMin(ge,r)},resetToMax:ge=>{M.setToMax(ge,r)},setValue:Y,refresh:V},domModification:{styles:{position:"relative"}}}},apis:{setValue:(r,l,d)=>{r.setValue(l,d)},resetToMin:(r,l)=>{r.resetToMin(l)},resetToMax:(r,l)=>{r.resetToMax(l)},refresh:(r,l)=>{r.refresh(l)}}}),Rw=_n("rgb-hex-update"),ZS=_n("slider-update"),bT=_n("palette-update"),GS="form",qS=[Sn("formBehaviours",[gt])],vT=r=>"<alloy.field."+r+">",kg=(r,l)=>({uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.formBehaviours,[gt.config({store:{mode:"manual",getValue:d=>{const f=lA(d,r);return eo(f,(b,v)=>b().bind(C=>{return k=ir.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Qd(C.element)),k.fold(()=>Ho.error(E),Ho.value);var k,E}).map(gt.getValue))},setValue:(d,f)=>{qn(f,(b,v)=>{Qr(d,r,v).each(C=>{ir.getCurrent(C).each(k=>{gt.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>Qr(d,r,f).bind(ir.getCurrent)}}),hb={getField:F1((r,l,d)=>r.getField(l,d)),sketch:r=>{const l=(()=>{const v=[];return{field:(C,k)=>(v.push(C),sA(GS,vT(C),k)),record:Z(v)}})(),d=r(l),f=l.record(),b=Pe(f,v=>Dl({name:v,pname:vT(v)}));return T2(GS,qS,b,kg,d)}},Z5=_n("valid-input"),G5=_n("invalid-input"),q5=_n("validating-input"),yT="colorcustom.rgb.",Nw={isEnabled:ze,setEnabled:U,immediatelyShow:U,immediatelyHide:U},R$=(r,l,d,f,b,v)=>{const C=(Y,te)=>{const fe=te.get();Y!==fe.isEnabled()&&(fe.setEnabled(Y),Y?fe.immediatelyShow():fe.immediatelyHide())},k=(Y,te,fe)=>Cg.config({invalidClass:l("invalid"),notify:{onValidate:pe=>{Bn(pe,q5,{type:Y})},onValid:pe=>{C(!1,fe),Bn(pe,Z5,{type:Y,value:gt.getValue(pe)})},onInvalid:pe=>{C(!0,fe),Bn(pe,G5,{type:Y,value:gt.getValue(pe)})}},validator:{validate:pe=>{const Se=gt.getValue(pe),ge=te(Se)?Ho.value(!0):Ho.error(r("aria.input.invalid"));return wg(ge)},validateOnLoad:!1}}),E=(Y,te,fe,pe,Se)=>{const ge=Hn(Nw),me=r(yT+"range"),we=Ir.parts.label({dom:{tag:"label",attributes:{"aria-label":pe}},components:[$s(fe)]}),ke=Ir.parts.field({data:Se,factory:zh,inputAttributes:{type:"text",...te==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:Yt([k(te,Y,ge),Gr.config({}),ai.config({...b({tooltipText:"",onSetup:kt=>{ge.set({isEnabled:()=>ai.isEnabled(kt),setEnabled:Wt=>ai.setEnabled(kt,Wt),immediatelyShow:()=>ai.immediateOpenClose(kt,!0),immediatelyHide:()=>ai.immediateOpenClose(kt,!1)}),ai.setEnabled(kt,!1)},onShow:(kt,Wt)=>{ai.setComponents(kt,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[$s(r(te==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:kt=>{Cg.isInvalid(kt)&&Cg.run(kt).get(U)}}),Oe=_n("aria-invalid"),Xe=Sr(v("invalid",R.some(Oe),"warning")),lt=[we,ke,Sr({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Xe.asSpec()]}).asSpec()],Nt=te!=="hex"?[Ir.parts["aria-descriptor"]({text:me})]:[],Tt=lt.concat(Nt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Tt}},N=(Y,te)=>{const fe=te.red,pe=te.green,Se=te.blue;gt.setValue(Y,{red:fe,green:pe,blue:Se})},F=Sr({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(Y,te)=>{F.getOpt(Y).each(fe=>{bo(fe.element,"background-color","#"+te.value)})};return Iu({factory:()=>{const Y={red:Hn(R.some(255)),green:Hn(R.some(255)),blue:Hn(R.some(255)),hex:Hn(R.some("ffffff"))},te=lt=>Y[lt].get(),fe=(lt,Nt)=>{Y[lt].set(Nt)},pe=lt=>{const Nt=lt.red,Tt=lt.green,kt=lt.blue;fe("red",R.some(Nt)),fe("green",R.some(Tt)),fe("blue",R.some(kt))},Se=(lt,Nt)=>{const Tt=Nt.event;Tt.type!=="hex"?fe(Tt.type,R.none()):f(lt)},ge=(lt,Nt)=>{const Tt=Nt.event;(kt=>kt.type==="hex")(Tt)?((kt,Wt)=>{d(kt);const vn=w3(Wt);fe("hex",R.some(vn.value));const Rn=uf(vn);N(kt,Rn),pe(Rn),Bn(kt,Rw,{hex:vn}),M(kt,vn)})(lt,Tt.value):((kt,Wt,vn)=>{const Rn=parseInt(vn,10);fe(Wt,R.some(Rn)),te("red").bind(Kn=>te("green").bind(lo=>te("blue").map(Uo=>Wh(Kn,lo,Uo,1)))).each(Kn=>{const lo=((Uo,ss)=>{const ms=xw(ss);return hb.getField(Uo,"hex").each(Io=>{so.isFocused(Io)||gt.setValue(Uo,{hex:ms.value})}),ms})(kt,Kn);Bn(kt,Rw,{hex:lo}),M(kt,lo)})})(lt,Tt.type,Tt.value)},me=lt=>({label:r(yT+lt+".label"),description:r(yT+lt+".description")}),we=me("red"),ke=me("green"),Oe=me("blue"),Xe=me("hex");return Br(hb.sketch(lt=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":r("aria.color.picker")}},components:[lt.field("red",Ir.sketch(E(ww,"red",we.label,we.description,255))),lt.field("green",Ir.sketch(E(ww,"green",ke.label,ke.description,255))),lt.field("blue",Ir.sketch(E(ww,"blue",Oe.label,Oe.description,255))),lt.field("hex",Ir.sketch(E(WN,"hex",Xe.label,Xe.description,"ffffff"))),F.asSpec()],formBehaviours:Yt([Cg.config({invalidClass:l("form-invalid")}),Ao("rgb-form-events",[It(Z5,ge),It(G5,Se),It(q5,Se)])])})),{apis:{updateHex:(lt,Nt)=>{gt.setValue(lt,{hex:Nt.value}),((Tt,kt)=>{const Wt=uf(kt);N(Tt,Wt),pe(Wt)})(lt,Nt),M(lt,Nt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Y,te,fe)=>{Y.updateHex(te,fe)}},extraApis:{}})},Y5=(r,l,d,f)=>Iu({name:"ColourPicker",configFields:[Mt("dom"),dt("onValidHex",U),dt("onInvalidHex",U)],factory:v=>{const C=R$(r,l,v.onValidHex,v.onInvalidHex,d,f),k=((Se,ge)=>{const me=mf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ge("sv-palette-spectrum")]}}),we=mf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ge("sv-palette-thumb")],innerHtml:`<div class=${ge("sv-palette-inner-thumb")} role="presentation"></div>`}}),ke=(Oe,Xe)=>{const{width:lt,height:Nt}=Oe,Tt=Oe.getContext("2d");if(Tt===null)return;Tt.fillStyle=Xe,Tt.fillRect(0,0,lt,Nt);const kt=Tt.createLinearGradient(0,0,lt,0);kt.addColorStop(0,"rgba(255,255,255,1)"),kt.addColorStop(1,"rgba(255,255,255,0)"),Tt.fillStyle=kt,Tt.fillRect(0,0,lt,Nt);const Wt=Tt.createLinearGradient(0,0,0,Nt);Wt.addColorStop(0,"rgba(0,0,0,0)"),Wt.addColorStop(1,"rgba(0,0,0,1)"),Tt.fillStyle=Wt,Tt.fillRect(0,0,lt,Nt)};return Iu({factory:Oe=>{const Xe=Z({x:0,y:0}),lt=Yt([ir.config({find:R.some}),so.config({})]);return mf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Se(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ge("sv-palette")]},model:{mode:"xy",getInitialValue:Xe},rounded:!1,components:[me,we],onChange:(Nt,Tt,kt)=>{J(kt)||cn(Nt.element,"aria-valuetext",Se(["Saturation {0}%, Brightness {1}%",Math.floor(kt.x),Math.floor(100-kt.y)])),Bn(Nt,bT,{value:kt})},onInit:(Nt,Tt,kt,Wt)=>{ke(kt.element.dom,GN(qN))},sliderBehaviours:lt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Oe,Xe,lt)=>{((Nt,Tt)=>{const kt=Nt.components()[0].element.dom,Wt=Dy(Tt,100,100),vn=ZN(Wt);ke(kt,GN(vn))})(Xe,lt)},setThumb:(Oe,Xe,lt)=>{((Nt,Tt)=>{const kt=pS(uf(Tt));mf.setValue(Nt,{x:kt.saturation,y:100-kt.value}),cn(Nt.element,"aria-valuetext",Se(["Saturation {0}%, Brightness {1}%",kt.saturation,kt.value]))})(Xe,lt)}},extraApis:{}})})(r,l),E={paletteRgba:Hn(qN),paletteHue:Hn(0)},N=Sr(((Se,ge)=>{const me=mf.parts.spectrum({dom:{tag:"div",classes:[ge("hue-slider-spectrum")],attributes:{role:"presentation"}}}),we=mf.parts.thumb({dom:{tag:"div",classes:[ge("hue-slider-thumb")],attributes:{role:"presentation"}}});return mf.sketch({dom:{tag:"div",classes:[ge("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:Z(0)},components:[me,we],sliderBehaviours:Yt([so.config({})]),onChange:(ke,Oe,Xe)=>{cn(ke.element,"aria-valuenow",Math.floor(360-3.6*Xe)),Bn(ke,ZS,{value:Xe})}})})(0,l)),F=Sr(k.sketch({})),M=Sr(C.sketch({})),V=(Se,ge,me)=>{F.getOpt(Se).each(we=>{k.setHue(we,me)})},Y=(Se,ge)=>{M.getOpt(Se).each(me=>{C.updateHex(me,ge)})},te=(Se,ge,me)=>{N.getOpt(Se).each(we=>{mf.setValue(we,(ke=>100-ke/360*100)(me))})},fe=(Se,ge)=>{F.getOpt(Se).each(me=>{k.setThumb(me,ge)})},pe=(Se,ge,me,we)=>{((ke,Oe)=>{const Xe=uf(ke);E.paletteRgba.set(Xe),E.paletteHue.set(Oe)})(ge,me),mt(we,ke=>{ke(Se,ge,me)})};return{uid:v.uid,dom:v.dom,components:[F.asSpec(),N.asSpec(),M.asSpec()],behaviours:Yt([Ao("colour-picker-events",[It(Rw,(()=>{const Se=[V,te,fe];return(ge,me)=>{const we=me.event.hex,ke=(Oe=>pS(uf(Oe)))(we);pe(ge,we,ke.hue,Se)}})()),It(bT,(()=>{const Se=[Y];return(ge,me)=>{const we=me.event.value,ke=E.paletteHue.get(),Oe=Dy(ke,we.x,100-we.y),Xe=bS(Oe);pe(ge,Xe,ke,Se)}})()),It(ZS,(()=>{const Se=[V,Y];return(ge,me)=>{const we=(Nt=>(100-Nt)/100*360)(me.event.value),ke=E.paletteRgba.get(),Oe=pS(ke),Xe=Dy(we,Oe.saturation,Oe.value),lt=bS(Xe);pe(ge,lt,we,Se)}})())]),ir.config({find:Se=>M.getOpt(Se)}),$n.config({mode:"acyclic"})])}}}),Eg=()=>ir.config({find:R.some}),xT=r=>ir.config({find:l=>cs(l.element,r).bind(d=>l.getSystem().getByDom(d).toOptional())}),wT=Gn([dt("preprocess",de),dt("postprocess",de)]),CT=(r,l)=>{const d=Ia("RepresentingConfigs.memento processors",wT,l);return gt.config({store:{mode:"manual",getValue:f=>{const b=r.get(f),v=gt.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),C=r.get(f);gt.setValue(C,v)}}})},C0=(r,l,d)=>gt.config({store:{mode:"manual",...r.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),_T=(r,l,d)=>C0(r,f=>l(f.element),(f,b)=>d(f.element,b)),Pw=r=>gt.config({store:{mode:"memory",initialValue:r}}),N$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var X5=tinymce.util.Tools.resolve("tinymce.Resource");const ST=r=>uo(r,"init");var Gh=tinymce.util.Tools.resolve("tinymce.util.Tools");const kT=(r,l)=>{let d=null;const f=()=>{D(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,r.apply(null,b)},l)}}},ET=_n("alloy-fake-before-tabstop"),AT=_n("alloy-fake-after-tabstop"),J5=r=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:r},behaviours:Yt([so.config({ignore:!0}),Gr.config({})])}),TT=(r,l)=>({dom:{tag:"div",classes:["tox-navobj",...r.getOr([])]},components:[J5([ET]),l,J5([AT])],behaviours:Yt([xT(1)])}),OT=(r,l)=>{Bn(r,ks(),{raw:{which:9,shiftKey:l}})},P$=(r,l)=>{const d=l.element;cl(d,ET)?OT(r,!0):cl(d,AT)&&OT(r,!1)},By=r=>Py(r,["."+ET,"."+AT].join(","),Ae),pb=_n("update-dialog"),IT=_n("update-title"),Q5=_n("update-body"),eP=_n("update-footer"),DT=_n("body-send-message"),YS=_n("dialog-focus-shifted"),RT=ca().browser,Fy=RT.isSafari(),tP=RT.isFirefox(),NT=Fy||tP,nP=RT.isChromium(),L$=({scrollTop:r,scrollHeight:l,clientHeight:d})=>Math.ceil(r)+d>=l,oP=(r,l)=>r.scrollTo(0,l==="bottom"?99999999:l),PT=(r,l,d)=>{const f=r.dom;R.from(f.contentDocument).fold(d,b=>{let v=0;const C=((E,N)=>{const F=E.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(N)&&(!nP&&!Fy||K(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(L$),k=()=>{const E=f.contentWindow;K(E)&&(C?oP(E,"bottom"):!C&&NT&&v!==0&&oP(E,v))};Fy&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),Fy||k()})},LT=ur(NT,Fy?500:200).map(r=>((l,d)=>{let f=null,b=null;return{cancel:()=>{D(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,D(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,l.apply(null,C)},d))}}})(PT,r)),XS=_n("toolbar.button.execute"),bb=_n("common-button-display-events"),MT={[El()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ga()]:["toolbar-button-events",bb],[$c()]:["toolbar-button-events","dropdown-events","tooltipping"],[Bt()]:["focusing","alloy.base.behaviour",bb]},JS=r=>bo(r.element,"width",Ts(r.element,"width")),rP=(r,l,d)=>Qc(r,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),Lw=(r,l)=>rP(r,l,[]),vb=(r,l)=>rP(r,l,[Jn.config({})]),BT=(r,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[$s(d.translate(r))],behaviours:Yt([Jn.config({})])}),Mu=_n("update-menu-text"),_d=_n("update-menu-icon"),FT=(r,l,d,f)=>{const b=Hn(U),v=r.text.map(fe=>Sr(BT(fe,l,d.providers))),C=r.icon.map(fe=>Sr(vb(fe,d.providers.icons))),k=(fe,pe)=>{const Se=gt.getValue(fe);return so.focus(Se),Bn(Se,"keydown",{raw:pe.event.raw}),Rl.close(Se),R.some(!0)},E=r.role.fold(()=>({}),fe=>({role:fe})),N=R.from(r.listRole).map(fe=>({listRole:fe})).getOr({}),F=r.ariaLabel.fold(()=>({}),fe=>({"aria-label":d.providers.translate(fe)})),M=Qc("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),V=_n("common-button-display-events"),Y="dropdown-events";return Sr(Rl.sketch({...r.uid?{uid:r.uid}:{},...E,...N,dom:{tag:"button",classes:[l,`${l}--select`].concat(Pe(r.classes,fe=>`${l}--${fe}`)),attributes:{...F,...K(f)?{"data-mce-name":f}:{}}},components:Ey([C.map(fe=>fe.asSpec()),v.map(fe=>fe.asSpec()),R.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(fe,pe,Se)=>{r.searchable&&(ge=>{pN(ge).each(me=>so.focus(me))})(Se)},dropdownBehaviours:Yt([...r.dropdownBehaviours,Pa(()=>r.disabled||d.providers.isDisabled()),Bi(),y0.config({}),Jn.config({}),...r.tooltip.map(fe=>ai.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(fe)}))).toArray(),Ao(Y,[lb(r,b),Hh(r,b)]),Ao(V,[as((fe,pe)=>r.listRole==="listbox"?U:JS(fe))]),Ao("menubutton-update-display-text",[It(Mu,(fe,pe)=>{v.bind(Se=>Se.getOpt(fe)).each(Se=>{Jn.set(Se,[$s(d.providers.translate(pe.event.text))])})}),It(_d,(fe,pe)=>{C.bind(Se=>Se.getOpt(fe)).each(Se=>{Jn.set(Se,[vb(pe.event.icon,d.providers.icons)])})})])]),eventOrder:Br(MT,{[Bt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ga()]:["toolbar-button-events",ai.name(),Y,V]}),sandboxBehaviours:Yt([$n.config({mode:"special",onLeft:k,onRight:k}),Ao("dropdown-sandbox-events",[It(mN,(fe,pe)=>{(Se=>{const ge=gt.getValue(Se),me=dw(Se).map(bN);Rl.refetch(ge).get(()=>{const we=Vs.getCoupled(ge,"sandbox");me.each(ke=>dw(we).each(Oe=>((Xe,lt)=>{gt.setValue(Xe,lt.fetchPattern),Xe.element.dom.selectionStart=lt.selectionStart,Xe.element.dom.selectionEnd=lt.selectionEnd})(Oe,ke)))})})(fe),pe.stop()}),It(gN,(fe,pe)=>{((Se,ge)=>{(me=>O.getState(me).bind(Er.getHighlighted).bind(Er.getHighlighted))(Se).each(me=>{((we,ke,Oe,Xe)=>{const lt={...Xe,target:ke};we.getSystem().triggerEvent(Oe,ke,lt)})(Se,me.element,ge.event.eventType,ge.event.interactionEvent)})})(fe,pe),pe.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...oS(0,r.columns,r.presets),fakeFocus:r.searchable,...r.listRole==="listbox"?{}:{onHighlightItem:b5,onCollapseMenu:(fe,pe,Se)=>{Er.getHighlighted(Se).each(ge=>{b5(fe,Se,ge)})},onDehighlightItem:o$}}},getAnchorOverrides:()=>({maxHeightFunction:(fe,pe)=>{ig()(fe,pe-10)}}),fetch:fe=>cb(Ve(r.fetch,fe))})).asSpec()},QS=r=>r.type==="separator",ek={type:"separator"},sP=(r,l)=>{const d=((f,b)=>{const v=nn(f,(C,k)=>(E=>h(E))(k)?k===""?C:k==="|"?C.length>0&&!QS(C[C.length-1])?C.concat([ek]):C:uo(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&QS(v[v.length-1])&&v.pop(),v})(h(r)?r.split(" "):r,l);return On(d,(f,b)=>{if((v=>uo(v,"getSubmenuItems"))(b)){const v=(k=>{const E=En(k,"value").getOrThunk(()=>_n("generated-menu-item"));return Br({value:E},k)})(b),C=((k,E)=>{const N=k.getSubmenuItems(),F=sP(N,E);return{item:k,menus:Br(F.menus,{[k.value]:F.items}),expansions:Br(F.expansions,{[k.value]:k.value})}})(v,l);return{menus:Br(f.menus,C.menus),items:[C.item,...f.items],expansions:Br(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},_0=(r,l,d,f)=>{const b=_n("primary-menu"),v=sP(r,d.shared.providers.menuItems());if(v.items.length===0)return R.none();const C=(M=>M.search.fold(()=>({searchMode:"no-search"}),V=>({searchMode:"search-with-field",placeholder:V.placeholder})))(f),k=v5(b,v.items,l,d,f.isHorizontalMenu,C),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),V=>({searchMode:"search-with-results"})))(f),N=eo(v.menus,(M,V)=>v5(V,M,l,d,!1,E)),F=Br(N,yu(b,k));return R.from(Bh.tieredData(b,F,v.expansions))},Mw=r=>!uo(r,"items"),$T="data-value",tk=(r,l,d,f,b)=>Pe(d,v=>Mw(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{gt.setValue(r,v.value),Bn(r,hl,{name:l}),so.focus(r)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>tk(r,l,v.items,f,b)}),nk=(r,l)=>sn(r,d=>Mw(d)?ur(d.value===l,d):nk(d.items,l)),M$=Iu({name:"HtmlSelect",configFields:[Mt("options"),Sn("selectBehaviours",[so,gt]),dt("selectClasses",[]),dt("selectAttributes",{}),Yo("data")],factory:(r,l)=>{const d=Pe(r.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=r.data.map(b=>yu("initialValue",b)).getOr({});return{uid:r.uid,dom:{tag:"select",classes:r.selectClasses,attributes:r.selectAttributes},components:d,behaviours:Eo(r.selectBehaviours,[so.config({}),gt.config({store:{mode:"manual",getValue:b=>Zf(b.element),setValue:(b,v)=>{const C=Re(r.options);Q(r.options,k=>k.value===v).isSome()?Qm(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>Qm(b.element,k.value))},...f}})])}}}),iP=Z([dt("field1Name","field1"),dt("field2Name","field2"),ud("onLockedChange"),xh(["lockClass"]),dt("locked",!1),io("coupledFieldBehaviours",[ir,gt])]),VT=(r,l)=>Dl({factory:Ir,name:r,overrides:d=>({fieldBehaviours:Yt([Ao("coupled-input-behaviour",[It(Km(),f=>{((b,v,C)=>Qr(b,v,C).bind(ir.getCurrent))(f,d,l).each(b=>{Qr(f,d,"lock").each(v=>{oo.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),aP=Z([VT("field1","field2"),VT("field2","field1"),Dl({factory:Za,schema:[Mt("dom")],name:"lock",overrides:r=>({buttonBehaviours:Yt([oo.config({selected:r.locked,toggleClass:r.markers.lockClass,aria:{mode:"pressed"}})])})})]),nu=jl({name:"FormCoupledInputs",configFields:iP(),partFields:aP(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,behaviours:no(r.coupledFieldBehaviours,[ir.config({find:R.some}),gt.config({store:{mode:"manual",getValue:b=>{const v=cA(b,r,["field1","field2"]);return{[r.field1Name]:gt.getValue(v.field1()),[r.field2Name]:gt.getValue(v.field2())}},setValue:(b,v)=>{const C=cA(b,r,["field1","field2"]);Oo(v,r.field1Name)&&gt.setValue(C.field1(),v[r.field1Name]),Oo(v,r.field2Name)&&gt.setValue(C.field2(),v[r.field2Name])}}})]),apis:{getField1:b=>Qr(b,r,"field1"),getField2:b=>Qr(b,r,"field2"),getLock:b=>Qr(b,r,"lock")}}),apis:{getField1:(r,l)=>r.getField1(l),getField2:(r,l)=>r.getField2(l),getLock:(r,l)=>r.getLock(l)}}),zT=r=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(r);if(l!==null){const d=parseFloat(l[1]),f=l[2];return Ho.value({value:d,unit:f})}return Ho.error(r)},HT=(r,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>uo(d,b);return r.unit===l?R.some(r.value):f(r.unit)&&f(l)?d[r.unit]===d[l]?R.some(r.value):R.some(r.value/d[r.unit]*d[l]):R.none()},UT=r=>R.none(),lP=(r,l)=>{const d=r.label.map(F=>db(F,l)),f=[ao.config({disabled:()=>r.disabled||l.isDisabled()}),Bi(),$n.config({mode:"execution",useEnter:r.multiline!==!0,useControlEnter:r.multiline===!0,execute:F=>(No(F,Ow),R.some(!0))}),Ao("textfield-change",[It(Km(),(F,M)=>{Bn(F,hl,{name:r.name})}),It(Mx(),(F,M)=>{Bn(F,hl,{name:r.name})})]),Gr.config({})],b=r.validation.map(F=>Cg.config({getRoot:M=>Aa(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const V=gt.getValue(M),Y=F.validator(V);return wg(Y===!0?Ho.value(V):Ho.error(Y))},validateOnLoad:F.validateOnLoad}})).toArray(),v={...r.placeholder.fold(Z({}),F=>({placeholder:l.translate(F)})),...r.inputMode.fold(Z({}),F=>({inputmode:F})),"data-mce-name":r.name},C=Ir.parts.field({tag:r.multiline===!0?"textarea":"input",...r.data.map(F=>({data:F})).getOr({}),inputAttributes:v,inputClasses:[r.classname],inputBehaviours:Yt(Kt([f,b])),selectOnFocus:!1,factory:zh}),k=r.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(r.flex?["tox-form__group--stretched"]:[]).concat(r.maximized?["tox-form-group--maximize"]:[]),N=[ao.config({disabled:()=>r.disabled||l.isDisabled(),onDisabled:F=>{Ir.getField(F).each(ao.disable)},onEnabled:F=>{Ir.getField(F).each(ao.enable)}}),Bi()];return Tw(d,k,E,N)},Bw=(r,l)=>l.getAnimationRoot.fold(()=>r.element,d=>d(r)),qh=r=>r.dimension.property,yb=(r,l)=>r.dimension.getDimension(l),xb=(r,l)=>{const d=Bw(r,l);pc(d,[l.shrinkingClass,l.growingClass])},ok=(r,l)=>{Rs(r.element,l.openClass),Es(r.element,l.closedClass),bo(r.element,qh(l),"0px"),Vd(r.element)},WT=(r,l)=>{Rs(r.element,l.closedClass),Es(r.element,l.openClass),kr(r.element,qh(l))},cP=(r,l,d,f)=>{d.setCollapsed(),bo(r.element,qh(l),yb(l,r.element)),xb(r,l),ok(r,l),l.onStartShrink(r),l.onShrunk(r)},B$=(r,l,d,f)=>{const b=f.getOrThunk(()=>yb(l,r.element));d.setCollapsed(),bo(r.element,qh(l),b),Vd(r.element);const v=Bw(r,l);Rs(v,l.growingClass),Es(v,l.shrinkingClass),ok(r,l),l.onStartShrink(r)},uP=(r,l,d)=>{const f=yb(l,r.element);(f==="0px"?cP:B$)(r,l,d,R.some(f))},dP=(r,l,d)=>{const f=Bw(r,l),b=cl(f,l.shrinkingClass),v=yb(l,r.element);WT(r,l);const C=yb(l,r.element);(b?()=>{bo(r.element,qh(l),v),Vd(r.element)}:()=>{ok(r,l)})(),Rs(f,l.shrinkingClass),Es(f,l.growingClass),WT(r,l),bo(r.element,qh(l),C),d.setExpanded(),l.onStartGrow(r)},Fw=(r,l,d)=>{const f=Bw(r,l);return cl(f,l.growingClass)===!0},fP=(r,l,d)=>{const f=Bw(r,l);return cl(f,l.shrinkingClass)===!0};var mP=Object.freeze({__proto__:null,refresh:(r,l,d)=>{if(d.isExpanded()){kr(r.element,qh(l));const f=yb(l,r.element);bo(r.element,qh(l),f)}},grow:(r,l,d)=>{d.isExpanded()||dP(r,l,d)},shrink:(r,l,d)=>{d.isExpanded()&&uP(r,l,d)},immediateShrink:(r,l,d)=>{d.isExpanded()&&cP(r,l,d)},hasGrown:(r,l,d)=>d.isExpanded(),hasShrunk:(r,l,d)=>d.isCollapsed(),isGrowing:Fw,isShrinking:fP,isTransitioning:(r,l,d)=>Fw(r,l)||fP(r,l),toggleGrow:(r,l,d)=>{(d.isExpanded()?uP:dP)(r,l,d)},disableTransitions:xb,immediateGrow:(r,l,d)=>{d.isExpanded()||(WT(r,l),bo(r.element,qh(l),yb(l,r.element)),xb(r,l),d.setExpanded(),l.onStartGrow(r),l.onGrown(r))}}),F$=Object.freeze({__proto__:null,exhibit:(r,l,d)=>{const f=l.expanded;return js(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:yu(l.dimension.property,"0px")})},events:(r,l)=>xo([Wf(sv(),(d,f)=>{f.event.raw.propertyName===r.dimension.property&&(xb(d,r),l.isExpanded()&&kr(d.element,r.dimension.property),(l.isExpanded()?r.onGrown:r.onShrunk)(d))})])}),gP=[Mt("closedClass"),Mt("openClass"),Mt("shrinkingClass"),Mt("growingClass"),Yo("getAnimationRoot"),nr("onShrunk"),nr("onStartShrink"),nr("onGrown"),nr("onStartGrow"),dt("expanded",!1),Yi("dimension",bi("property",{width:[Xr("property","width"),Xr("getDimension",r=>Ri(r)+"px")],height:[Xr("property","height"),Xr("getDimension",r=>Os(r)+"px")]}))];const rc=Mi({fields:gP,name:"sliding",active:F$,apis:mP,state:Object.freeze({__proto__:null,init:r=>{const l=Hn(r.expanded);return Li({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Ve(l.set,!1),setExpanded:Ve(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),hP=r=>({isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setActive:l=>{const d=r.element;l?(Es(d,"tox-tbtn--enabled"),cn(d,"aria-pressed",!0)):(Rs(d,"tox-tbtn--enabled"),Ro(d,"aria-pressed"))},isActive:()=>cl(r.element,"tox-tbtn--enabled"),setText:l=>{Bn(r,Mu,{text:l})},setIcon:l=>Bn(r,_d,{icon:l})}),$y=(r,l,d,f,b=!0,v)=>FT({text:r.text,icon:r.icon,tooltip:r.tooltip,ariaLabel:r.tooltip,searchable:r.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:r.search.isSome()?v0(C):""};r.fetch(N=>{k(_0(N,fm.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:r.search}))},E,hP(C))},onSetup:r.onSetup,getApi:hP,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[Gr.config({})]:[]]},l,d.shared,v),pP=(r,l,d)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(N=>{Wa(N.element),Bn(N,gm,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Pe(r,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},KT=r=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":r}},components:[$s(r)]}),jT=_n("leaf-label-event-id"),ZT=({leaf:r,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const C=r.menu.map(E=>$y(E,"tox-mbtn",v,R.none(),d)),k=[KT(r.title)];return C.each(E=>k.push(E)),Za.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(r.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:r.id})},eventOrder:{[ks()]:[jT,"keying"]},buttonBehaviours:Yt([...d?[Gr.config({})]:[],oo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ol.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,N)=>{(N.value===r.id?oo.on:oo.off)(E)}}}}),Ao(jT,[as((E,N)=>{b.each(F=>{(F===r.id?oo.on:oo.off)(E)})}),It(ks(),(E,N)=>{const F=N.event.raw.code==="ArrowLeft",M=N.event.raw.code==="ArrowRight";F?(tg(E.element,".tox-tree--directory").each(V=>{E.getSystem().getByDom(V).each(Y=>{U1(V,".tox-tree--directory__label").each(te=>{Y.getSystem().getByDom(te).each(so.focus)})})}),N.stop()):M&&N.stop()})])])})},bP=_n("directory-label-event-id"),$$=({directory:r,visible:l,noChildren:d,backstage:f})=>{const b=r.menu.map(N=>$y(N,"tox-mbtn",f,R.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((N,F,M)=>Qc(N,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(C,k))]},KT(r.title)];var C,k;b.each(N=>{v.push(N)});const E=N=>{tg(N.element,".tox-tree--directory").each(F=>{N.getSystem().getByDom(F).each(M=>{const V=!oo.isOn(M);oo.toggle(M),Bn(N,"expand-tree-node",{expanded:V,node:r.id})})})};return Za.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[ks()]:[bP,"keying"]},buttonBehaviours:Yt([...l?[Gr.config({})]:[],Ao(bP,[It(ks(),(N,F)=>{const M=F.event.raw.code==="ArrowRight",V=F.event.raw.code==="ArrowLeft";M&&d&&F.stop(),(M||V)&&tg(N.element,".tox-tree--directory").each(Y=>{N.getSystem().getByDom(Y).each(te=>{!oo.isOn(te)&&M||oo.isOn(te)&&V?(E(N),F.stop()):V&&!oo.isOn(te)&&(tg(te.element,".tox-tree--directory").each(fe=>{U1(fe,".tox-tree--directory__label").each(pe=>{te.getSystem().getByDom(pe).each(so.focus)})}),F.stop())})})})])])})},V$=({children:r,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:r.map(k=>k.type==="leaf"?ZT({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:C}):rk({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:C})),behaviours:Yt([rc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),Jn.config({})])}),vP=_n("directory-event-id"),rk=({directory:r,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=r,E=Hn(v),N=v.includes(r.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[$$({directory:r,visible:d,noChildren:r.children.length===0,backstage:b}),V$({children:k,expandedIds:v,selectedId:C,onLeafAction:l,visible:N,treeId:f,backstage:b})],behaviours:Yt([Ao(vP,[as((F,M)=>{oo.set(F,N)}),It("expand-tree-node",(F,M)=>{const{expanded:V,node:Y}=M.event;E.set(V?[...E.get(),Y]:E.get().filter(te=>te!==Y))})]),oo.config({...r.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,M)=>{const V=F.components()[1],Y=(te=M,k.map(fe=>fe.type==="leaf"?ZT({leaf:fe,selectedId:C,onLeafAction:l,visible:te,treeId:f,backstage:b}):rk({directory:fe,expandedIds:E.get(),selectedId:C,onLeafAction:l,labelTabstopping:te,treeId:f,backstage:b})));var te;M?rc.grow(V):rc.shrink(V),Jn.set(V,Y)}})])}},z$=_n("tree-event-id");var H$=Object.freeze({__proto__:null,events:(r,l)=>{const d=r.stream.streams.setup(r,l);return xo([It(r.event,d),cd(()=>l.cancel())].concat(r.cancelEvent.map(f=>[It(f,()=>l.cancel())]).getOr([])))}});const yP=r=>{const l=Hn(null);return Li({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var U$=Object.freeze({__proto__:null,throttle:yP,init:r=>r.stream.streams.state(r)}),W$=[Yi("stream",bi("mode",{throttle:[Mt("delay"),dt("stopEvent",!0),Xr("streams",{setup:(r,l)=>{const d=r.stream,f=kT(r.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:yP})]})),dt("event","input"),Yo("cancelEvent"),ud("onStream")];const GT=Mi({fields:W$,name:"streaming",active:H$,state:U$}),sk=(r,l,d)=>{const f=gt.getValue(d);gt.setValue(l,f),qT(l)},ik=(r,l)=>{const d=r.element,f=Zf(d),b=d.dom;Ko(d,"type")!=="number"&&l(b,f)},qT=r=>{ik(r,(l,d)=>l.setSelectionRange(d.length,d.length))},YT=Z("alloy.typeahead.itemexecute"),K$=Z([Yo("lazySink"),Mt("fetch"),dt("minChars",5),dt("responseTime",1e3),nr("onOpen"),dt("getHotspot",R.some),dt("getAnchorOverrides",Z({})),dt("layouts",R.none()),dt("eventOrder",{}),Ua("model",{},[dt("getDisplayText",r=>r.meta!==void 0&&r.meta.text!==void 0?r.meta.text:r.value),dt("selectsOver",!0),dt("populateFromBrowse",!0)]),nr("onSetValue"),Al("onExecute"),nr("onItemExecute"),dt("inputClasses",[]),dt("inputAttributes",{}),dt("inputStyles",{}),dt("matchWidth",!0),dt("useMinWidth",!1),dt("dismissOnBlur",!0),xh(["openClass"]),Yo("initialData"),Yo("listRole"),Sn("typeaheadBehaviours",[so,gt,GT,$n,oo,Vs]),qi("lazyTypeaheadComp",()=>Hn(R.none)),qi("previewing",()=>Hn(!0))].concat(A7()).concat(W3())),xP=Z([af({schema:[yh()],name:"menu",overrides:r=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{r.previewing.get()?r.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=gt.getValue(C),N=v.getDisplayText(E),F=gt.getValue(k);return v.getDisplayText(F).indexOf(N)===0?R.some(()=>{sk(0,C,k),((M,V)=>{ik(M,(Y,te)=>Y.setSelectionRange(V,te.length))})(C,N.length)}):R.none()}return R.none()})(r.model,b,f).fold(()=>{r.model.selectsOver?(Er.dehighlight(d,f),r.previewing.set(!0)):r.previewing.set(!1)},v=>{v(),r.previewing.set(!1)})}):r.lazyTypeaheadComp.get().each(b=>{r.model.populateFromBrowse&&sk(r.model,b,f),Qo(f.element,"id").each(v=>cn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>r.lazyTypeaheadComp.get().map(f=>(Bn(f,YT(),{item:d}),!0)),onHover:(l,d)=>{r.previewing.set(!1),r.lazyTypeaheadComp.get().each(f=>{r.model.populateFromBrowse&&sk(r.model,f,d)})}})})]),j$=jl({name:"Typeahead",configFields:K$(),partFields:xP(),factory:(r,l,d,f)=>{const b=(M,V,Y)=>{r.previewing.set(!1);const te=Vs.getCoupled(M,"sandbox");if(O.isOpen(te))ir.getCurrent(te).each(fe=>{Er.getHighlighted(fe).fold(()=>{Y(fe)},()=>{zc(te,fe.element,"keydown",V)})});else{const fe=pe=>{ir.getCurrent(pe).each(Y)};wS(r,C(M),M,te,f,fe,gl.HighlightMenuAndItem).get(U)}},v=T7(r),C=M=>V=>V.map(Y=>{const te=ji(Y.menus),fe=pn(te,pe=>Ht(pe.items,Se=>Se.type==="item"));return gt.getState(M).update(Pe(fe,pe=>pe.data)),Y}),k=M=>ir.getCurrent(M),E="typeaheadevents",N=[so.config({}),gt.config({onSetValue:r.onSetValue,store:{mode:"dataset",getDataKey:M=>Zf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,V)=>{Qm(M.element,r.model.getDisplayText(V))},...r.initialData.map(M=>yu("initialValue",M)).getOr({})}}),GT.config({stream:{mode:"throttle",delay:r.responseTime,stopEvent:!1},onStream:(M,V)=>{const Y=Vs.getCoupled(M,"sandbox");if(so.isFocused(M)&&Zf(M.element).length>=r.minChars){const te=k(Y).bind(pe=>Er.getHighlighted(pe).map(gt.getValue));r.previewing.set(!0);const fe=pe=>{k(Y).each(Se=>{te.fold(()=>{r.model.selectsOver&&Er.highlightFirst(Se)},ge=>{Er.highlightBy(Se,me=>gt.getValue(me).value===ge.value),Er.getHighlighted(Se).orThunk(()=>(Er.highlightFirst(Se),R.none()))})})};wS(r,C(M),M,Y,f,fe,gl.HighlightJustMenu).get(U)}},cancelEvent:qd()}),$n.config({mode:"special",onDown:(M,V)=>(b(M,V,Er.highlightFirst),R.some(!0)),onEscape:M=>{const V=Vs.getCoupled(M,"sandbox");return O.isOpen(V)?(O.close(V),R.some(!0)):R.none()},onUp:(M,V)=>(b(M,V,Er.highlightLast),R.some(!0)),onEnter:M=>{const V=Vs.getCoupled(M,"sandbox"),Y=O.isOpen(V);if(Y&&!r.previewing.get())return k(V).bind(te=>Er.getHighlighted(te)).map(te=>(Bn(M,YT(),{item:te}),!0));{const te=gt.getValue(M);return No(M,qd()),r.onExecute(V,M,te),Y&&O.close(V),R.some(!0)}}}),oo.config({toggleClass:r.markers.openClass,aria:{mode:"expanded"}}),Vs.config({others:{sandbox:M=>U3(r,M,{onOpen:()=>oo.on(M),onClose:()=>{r.lazyTypeaheadComp.get().each(V=>Ro(V.element,"aria-activedescendant")),oo.off(M)}})}}),Ao(E,[as(M=>{r.lazyTypeaheadComp.set(R.some(M))}),cd(M=>{r.lazyTypeaheadComp.set(R.none())}),Cu(M=>{const V=U;z3(r,C(M),M,f,V,gl.HighlightMenuAndItem).get(U)}),It(YT(),(M,V)=>{const Y=Vs.getCoupled(M,"sandbox");sk(r.model,M,V.event.item),No(M,qd()),r.onItemExecute(M,Y,V.event.item,gt.getValue(M)),O.close(Y),qT(M)})].concat(r.dismissOnBlur?[It(Tp(),M=>{const V=Vs.getCoupled(M,"sandbox");qs(V.element).isNone()&&O.close(V)})]:[]))],F={[$c()]:[gt.name(),GT.name(),E],...r.eventOrder};return{uid:r.uid,dom:fN(Br(r,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Eo(r.typeaheadBehaviours,N)},eventOrder:F}}}),S0=r=>({...r,toCached:()=>S0(r.toCached()),bindFuture:l=>S0(r.bind(d=>d.fold(f=>wg(Ho.error(f)),f=>l(f)))),bindResult:l=>S0(r.map(d=>d.bind(l))),mapResult:l=>S0(r.map(d=>d.map(l))),mapError:l=>S0(r.map(d=>d.mapError(l))),foldResult:(l,d)=>r.map(f=>f.fold(l,d)),withTimeout:(l,d)=>S0(cb(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(Ho.error(d()))},l);r.get(C=>{b||(clearTimeout(v),f(C))})}))}),wP=r=>S0(cb(r)),$w=(r,l,d=[],f,b,v,C)=>{const k=l.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Yt([Pa(()=>!r.enabled||C.isDisabled()),Bi(),Gr.config({}),...v.map(F=>ai.config(C.tooltips.getConfig({tooltipText:C.translate(F)}))).toArray(),Ao("button press",[YC("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},N=Br(E,{dom:f});return Br(N,{components:b})},CP=(r,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...r.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},C=r.icon.map(E=>Lw(E,d.icons)),k=Ey([C]);return $w(r,l,f,v,k,r.tooltip,d)},XT=r=>{switch(r){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},_P=(r,l,d,f=[],b=[])=>{const v=d.translate(r.text),C=r.icon.map(M=>Lw(M,d.icons)),k=[C.getOrThunk(()=>$s(v))],E=r.buttonType.getOr(r.primary||r.borderless?"primary":"secondary"),N={tag:"button",classes:[...XT(E),...C.isSome()?["tox-button--icon"]:[],...r.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":r.text}},F=r.icon.map(Z(v));return $w(r,l,f,N,k,F,d)},SP=(r,l,d,f=[],b=[])=>{const v=_P(r,R.some(l),d,f,b);return Za.sketch(v)},JT=(r,l)=>d=>{l==="custom"?Bn(d,gm,{name:r,value:{}}):l==="submit"?No(d,Ow):l==="cancel"?No(d,Kh):console.error("Unknown button type: ",l)},Vy=(r,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>C,b=r,v={...r,type:"menubutton",search:R.none(),onSetup:k=>(k.setEnabled(r.enabled),U),fetch:pP(b.items,f,d)},C=Sr($y(v,"tox-tbtn",d,R.none(),!0,r.text.or(r.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=JT(r.name,l),b={...r,borderless:!1};return SP(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var C,k;const E=f.icon.map(me=>vb(me,b.icons)).map(Sr),N=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},M=F.tooltip.or(f.text).map(me=>({"aria-label":b.translate(me)})).getOr({}),V=XT(N??"secondary"),Y=f.icon.isSome()&&f.text.isSome(),te={tag:"button",classes:[...V.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...Y?["tox-button--icon-and-text"]:[]],attributes:{...M,...K(v)?{"data-mce-name":v}:{}}},fe=b.translate(f.text.getOr("")),pe=$s(fe),Se=[...Ey([E.map(me=>me.asSpec())]),...f.text.isSome()?[pe]:[]],ge=$w(F,R.some(me=>{Bn(me,gm,{name:f.name,value:{setIcon:we=>{E.map(ke=>ke.getOpt(me).each(Oe=>{Jn.set(Oe,[vb(we,b.icons)])}))}}})}),[],te,Se,f.tooltip,b);return Za.sketch(ge)})(r,d.shared.providers,r.text.or(r.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},Z$={type:"separator"},G$=r=>({type:"menuitem",value:r.url,text:r.title,meta:{attach:r.attach},onAction:U}),QT=(r,l)=>({type:"menuitem",value:l,text:r,meta:{attach:void 0},onAction:U}),kP=(r,l)=>(d=>Pe(d,G$))(((d,f)=>Ht(f,b=>b.type===d))(r,l)),q$=r=>kP("header",r.targets),Y$=r=>kP("anchor",r.targets),EP=r=>R.from(r.anchorTop).map(l=>QT("<top>",l)).toArray(),AP=r=>R.from(r.anchorBottom).map(l=>QT("<bottom>",l)).toArray(),e4=(r,l)=>{const d=r.toLowerCase();return Ht(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ni(v.toLowerCase(),d)||ni(C.toLowerCase(),d)})},TP=_n("aria-invalid"),X$=(r,l)=>{r.dom.checked=l},ou=r=>r.dom.checked,ys=r=>(l,d,f,b,v)=>En(d,"name").fold(()=>r(d,b,R.none(),v),C=>l.field(C,r(d,b,En(f,C),v))),J$={bar:ys((r,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Pe(d.items,f.interpreter)}))(r,l.shared)),collection:ys((r,l,d)=>S5(r,l.shared.providers,d)),alertbanner:ys((r,l)=>((d,f)=>{const b=oN(d.icon,f.icons);return df.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>Bn(v,gm,{name:"alert-banner",value:d.url}),buttonBehaviours:Yt([eS()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(r,l.shared.providers)),input:ys((r,l,d)=>((f,b,v)=>lP({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:R.none(),maximized:f.maximized,data:v},b))(r,l.shared.providers,d)),textarea:ys((r,l,d)=>((f,b,v)=>lP({name:f.name,multiline:!0,label:f.label,inputMode:R.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:R.none(),maximized:f.maximized,data:v},b))(r,l.shared.providers,d)),label:ys((r,l,d,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],N=b.align==="end"?[`${k}--end`]:[],F=Sr({dom:{tag:"label",classes:[k,...E,...N]},components:[$s(v.providers.translate(b.label))]}),M=Pe(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...M],behaviours:Yt([Eg(),Jn.config({}),(V=R.none(),_T(V,Jd,ph)),$n.config({mode:"acyclic"}),Ao("label",[as(Y=>{b.for.each(te=>{C(te).each(fe=>{F.getOpt(Y).each(pe=>{var Se;const ge=(Se=Ko(fe.element,"id"))!==null&&Se!==void 0?Se:_n("form-field");cn(fe.element,"id",ge),cn(pe.element,"for",ge)})})})})])])};var V})(r,l.shared,f)),iframe:(w4=(r,l,d)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],N={...f.label.map(Y=>({title:Y})).getOr({}),...v.map(Y=>({srcdoc:Y})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((Y,te)=>{const fe=Hn(Y.getOr(""));return{getValue:pe=>fe.get(),setValue:(pe,Se)=>{if(fe.get()!==Se){const ge=pe.element,me=()=>cn(ge,"srcdoc",Se);te?LT.fold(Z(PT),we=>we.throttle)(ge,Se,me):me()}fe.set(Se)}}})(v,f.streamContent),M=f.label.map(Y=>db(Y,b)),V=Ir.parts.field({factory:{sketch:Y=>TT(R.from(E),{uid:Y.uid,dom:{tag:"iframe",attributes:N,classes:[C,...k]},behaviours:Yt([Gr.config({}),so.config({}),C0(v,F.getValue,F.setValue),Ol.config({channels:{[YS]:{onReceive:(te,fe)=>{fe.newFocus.each(pe=>{Aa(te.element).each(Se=>{(dr(te.element,pe)?Es:Rs)(Se,"tox-navobj-bordered-focus")})})}}}})])})}});return Tw(M,V,["tox-form__group--stretched"],[])})(r,l.shared.providers,d),(r,l,d,f,b)=>{const v=Br(l,{source:"dynamic"});return ys(w4)(r,v,d,f,b)}),button:ys((r,l)=>((d,f)=>{const b=JT(d.name,"custom");return v=R.none(),C=Ir.parts.field({factory:Za,..._P(d,R.some(b),f,[Pw(""),Eg()])}),Tw(v,C,[],[]);var v,C})(r,l.shared.providers)),checkbox:ys((r,l,d)=>((f,b,v)=>{const C=M=>(M.element.dom.click(),R.some(!0)),k=Ir.parts.field({factory:{sketch:de},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Yt([Eg(),ao.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Aa(M.element).each(V=>Es(V,"tox-checkbox--disabled"))},onEnabled:M=>{Aa(M.element).each(V=>Rs(V,"tox-checkbox--disabled"))}}),Gr.config({}),so.config({}),_T(v,ou,X$),$n.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),Ao("checkbox-events",[It(jm(),(M,V)=>{Bn(M,hl,{name:f.name})})])])}),E=Ir.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$s(b.translate(f.label))],behaviours:Yt([y0.config({})])}),N=M=>Qc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},b.icons),F=Sr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return Ir.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Yt([ao.config({disabled:()=>!f.enabled||b.isDisabled()}),Bi()])})})(r,l.shared.providers,d)),colorinput:ys((r,l,d)=>((f,b,v,C)=>{const k=Ir.parts.field({factory:zh,inputClasses:["tox-textfield"],data:C,onSetValue:M=>Cg.run(M).get(U),inputBehaviours:Yt([ao.config({disabled:b.providers.isDisabled}),Bi(),Gr.config({}),Cg.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>Aa(M.element),notify:{onValid:M=>{const V=gt.getValue(M);Bn(M,Q3,{color:V})}},validator:{validateOnLoad:!1,validate:M=>{const V=gt.getValue(M);if(V.length===0)return wg(Ho.value(!0));{const Y=Di("span");bo(Y,"background-color",V);const te=oi(Y,"background-color").fold(()=>Ho.error("blah"),fe=>Ho.value(V));return wg(te)}}}})]),selectOnFocus:!1}),E=f.label.map(M=>db(M,b.providers)),N=(M,V)=>{Bn(M,eT,{value:V})},F=Sr(((M,V)=>Rl.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:Yt([Pa(V.providers.isDisabled),Bi(),y0.config({}),Gr.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:V.getSink,fetch:Y=>cb(te=>M.fetch(te)).map(te=>R.from(K3(Br(b0(_n("menu-value"),te,fe=>{M.onItemAction(Y,fe)},M.columns,M.presets,fm.CLOSE_ON_EXECUTE,Ae,V.providers),{movement:_w(M.columns,M.presets)})))),parts:{menu:oS(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ps,Ns,Gs],onLtr:()=>[Ns,Ps,Gs]},components:[],fetch:r5(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(M,V)=>{F.getOpt(M).each(Y=>{V==="custom"?v.colorPicker(te=>{te.fold(()=>No(Y,O5),fe=>{N(Y,fe),A3(f.storageKey,fe)})},"#ffffff"):N(Y,V==="remove"?"":V)})}},b));return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Yt([Ao("form-field-events",[It(Q3,(M,V)=>{F.getOpt(M).each(Y=>{bo(Y.element,"background-color",V.event.color)}),Bn(M,hl,{name:f.name})}),It(eT,(M,V)=>{Ir.getField(M).each(Y=>{gt.setValue(Y,V.event.value),ir.getCurrent(M).each(so.focus)})}),It(O5,(M,V)=>{Ir.getField(M).each(Y=>{ir.getCurrent(M).each(so.focus)})})])])})})(r,l.shared,l.colorinput,d)),colorpicker:ys((r,l,d)=>((f,b,v)=>{const C=N=>"tox-"+N,k=Y5((N=>F=>h(F)?N.translate(N$[F]):N.translate(F))(b),C,b.tooltips.getConfig,(N,F,M=N,V=N)=>Qc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+N],attributes:{title:b.translate(V),"aria-live":"polite",...F.fold(()=>({}),Y=>({id:Y}))}},b.icons)),E=Sr(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:N=>{Bn(N,gm,{name:"hex-valid",value:!0})},onInvalidHex:N=>{Bn(N,gm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Yt([C0(v,N=>{const F=E.get(N);return ir.getCurrent(F).bind(M=>gt.getValue(M).hex).map(M=>"#"+Wr(M,"#")).getOr("")},(N,F)=>{const M=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(Y=>Ce(Y,1)),V=E.get(N);ir.getCurrent(V).fold(()=>{console.log("Can not find form")},Y=>{gt.setValue(Y,{hex:M.getOr("")}),hb.getField(Y,"hex").each(te=>{No(te,Km())})})}),Eg()])}})(0,l.shared.providers,d)),dropzone:ys((r,l,d)=>((f,b,v)=>{const C=(te,fe)=>{fe.stop()},k=te=>(fe,pe)=>{mt(te,Se=>{Se(fe,pe)})},E=(te,fe)=>{var pe;if(!ao.isDisabled(te)){const Se=fe.event.raw;F(te,(pe=Se.dataTransfer)===null||pe===void 0?void 0:pe.files)}},N=(te,fe)=>{const pe=fe.event.raw.target;F(te,pe.files)},F=(te,fe)=>{fe&&(gt.setValue(te,((pe,Se)=>{const ge=Gh.explode(Se.getOption("images_file_types"));return Ht(ht(pe),me=>kn(ge,we=>Gu(me.name.toLowerCase(),`.${we.toLowerCase()}`)))})(fe,b)),Bn(te,hl,{name:f.name}))},M=Sr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Yt([Ao("input-file-events",[Zm(vi()),Zm(Ff())])])}),V=f.label.map(te=>db(te,b)),Y=Ir.parts.field({factory:{sketch:te=>({uid:te.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Yt([Pw(v.getOr([])),Eg(),ao.config({}),oo.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ao("dropzone-events",[It("dragenter",k([C,oo.toggle])),It("dragleave",k([C,oo.toggle])),It("dragover",C),It("drop",k([C,E])),It(jm(),N)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$s(b.translate("Drop an image here"))]},Za.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$s(b.translate("Browse for an image")),M.asSpec()],action:fe=>{M.get(fe).element.dom.click()},buttonBehaviours:Yt([Gr.config({}),Pa(b.isDisabled),Bi()])})]}]})}});return Tw(V,Y,["tox-form__group--stretched"],[])})(r,l.shared.providers,d)),grid:ys((r,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Pe(d.items,f.interpreter)}))(r,l.shared)),listbox:ys((r,l,d)=>((f,b,v)=>{const C=kn(f.items,V=>!Mw(V)),k=b.shared.providers,E=v.bind(V=>nk(f.items,V)).orThunk(()=>Re(f.items).filter(Mw)),N=f.label.map(V=>db(V,k)),F=Ir.parts.field({dom:{},factory:{sketch:V=>FT({uid:V.uid,text:E.map(Y=>Y.text),icon:R.none(),tooltip:R.none(),role:ur(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(Y,te)=>{const fe=tk(Y,f.name,f.items,gt.getValue(Y),C);te(_0(fe,fm.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:R.none()}))},onSetup:Z(U),getApi:Z({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Gr.config({}),C0(E.map(Y=>Y.value),Y=>Ko(Y.element,$T),(Y,te)=>{nk(f.items,te).each(fe=>{cn(Y.element,$T,fe.value),Bn(Y,Mu,{text:fe.text})})})]},"tox-listbox",b.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([N.toArray(),[M]]),fieldBehaviours:Yt([ao.config({disabled:Z(!f.enabled),onDisabled:V=>{Ir.getField(V).each(ao.disable)},onEnabled:V=>{Ir.getField(V).each(ao.enable)}})])})})(r,l,d)),selectbox:ys((r,l,d)=>((f,b,v)=>{const C=Pe(f.items,M=>({text:b.translate(M.text),value:M.value})),k=f.label.map(M=>db(M,b)),E=Ir.parts.field({dom:{},...v.map(M=>({data:M})).getOr({}),selectAttributes:{size:f.size},options:C,factory:M$,selectBehaviours:Yt([ao.config({disabled:()=>!f.enabled||b.isDisabled()}),Gr.config({}),Ao("selectbox-change",[It(jm(),(M,V)=>{Bn(M,hl,{name:f.name})})])])}),N=f.size>1?R.none():R.some(Qc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:Kt([[E],N.toArray()])};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([k.toArray(),[F]]),fieldBehaviours:Yt([ao.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Ir.getField(M).each(ao.disable)},onEnabled:M=>{Ir.getField(M).each(ao.enable)}}),Bi()])})})(r,l.shared.providers,d)),sizeinput:ys((r,l)=>((d,f)=>{let b=UT;const v=_n("ratio-event"),C=fe=>Qc(fe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+fe]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),N=nu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:Yt([ao.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gr.config({}),ai.config(f.tooltips.getConfig({tooltipText:E}))])}),F=fe=>({dom:{tag:"div",classes:["tox-form__group"]},components:fe}),M=fe=>Ir.parts.field({factory:zh,inputClasses:["tox-textfield"],inputBehaviours:Yt([ao.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gr.config({}),Ao("size-input-events",[It(wr(),(pe,Se)=>{Bn(pe,v,{isField1:fe})}),It(jm(),(pe,Se)=>{Bn(pe,hl,{name:d.name})})])]),selectOnFocus:!1}),V=fe=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(f.translate(fe))]}),Y=nu.parts.field1(F([Ir.parts.label(V("Width")),M(!0)])),te=nu.parts.field2(F([Ir.parts.label(V("Height")),M(!1)]));return nu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,te,F([V(""),N])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(fe,pe,Se)=>{zT(gt.getValue(fe)).each(ge=>{b(ge).each(me=>{gt.setValue(pe,(we=>{const ke={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Oe=we.value.toFixed((Xe=we.unit)in ke?ke[Xe]:1);var Xe;return Oe.indexOf(".")!==-1&&(Oe=Oe.replace(/\.?0*$/,"")),Oe+we.unit})(me))})})},coupledFieldBehaviours:Yt([ao.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:fe=>{nu.getField1(fe).bind(Ir.getField).each(ao.disable),nu.getField2(fe).bind(Ir.getField).each(ao.disable),nu.getLock(fe).each(ao.disable)},onEnabled:fe=>{nu.getField1(fe).bind(Ir.getField).each(ao.enable),nu.getField2(fe).bind(Ir.getField).each(ao.enable),nu.getLock(fe).each(ao.enable)}}),Bi(),Ao("size-input-events2",[It(v,(fe,pe)=>{const Se=pe.event.isField1,ge=Se?nu.getField1(fe):nu.getField2(fe),me=Se?nu.getField2(fe):nu.getField1(fe),we=ge.map(gt.getValue).getOr(""),ke=me.map(gt.getValue).getOr("");b=((Oe,Xe)=>{const lt=zT(Oe).toOptional(),Nt=zT(Xe).toOptional();return Xt(lt,Nt,(Tt,kt)=>HT(Tt,kt.unit).map(Wt=>kt.value/Wt).map(Wt=>{return vn=Wt,Rn=kt.unit,Kn=>HT(Kn,Rn).map(lo=>({value:lo*vn,unit:Rn}));var vn,Rn}).getOr(UT)).getOr(UT)})(we,ke)})])])})})(r,l.shared.providers)),slider:ys((r,l,d)=>((f,b,v)=>{const C=mf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(b.translate(f.label))]}),k=mf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=mf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return mf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:Z(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:Yt([Eg(),so.config({})]),onChoose:(N,F,M)=>{Bn(N,hl,{name:f.name,value:M})},onChange:(N,F,M)=>{Bn(N,hl,{name:f.name,value:M})}})})(r,l.shared.providers,d)),urlinput:ys((r,l,d)=>((f,b,v,C)=>{const k=b.shared.providers,E=ge=>{const me=gt.getValue(ge);v.addToHistory(me.value,f.filetype)},N={...C.map(ge=>({initialData:ge})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":TP,type:"url"},minChars:0,responseTime:0,fetch:ge=>{const me=((ke,Oe,Xe)=>{var lt,Nt;const Tt=gt.getValue(Oe),kt=(Nt=(lt=Tt==null?void 0:Tt.meta)===null||lt===void 0?void 0:lt.text)!==null&&Nt!==void 0?Nt:Tt.value;return Xe.getLinkInformation().fold(()=>[],Wt=>{const vn=e4(kt,(Kn=>Pe(Kn,lo=>QT(lo,lo)))(Xe.getHistory(ke)));return ke==="file"?(Rn=[vn,e4(kt,q$(Wt)),e4(kt,Kt([EP(Wt),Y$(Wt),AP(Wt)]))],nn(Rn,(Kn,lo)=>Kn.length===0||lo.length===0?Kn.concat(lo):Kn.concat(Z$,lo),[])):vn;var Rn})})(f.filetype,ge,v),we=_0(me,fm.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:R.none()});return wg(we)},getHotspot:ge=>pe.getOpt(ge),onSetValue:(ge,me)=>{ge.hasConfigured(Cg)&&Cg.run(ge).get(U)},typeaheadBehaviours:Yt([...v.getValidationHandler().map(ge=>Cg.config({getRoot:me=>Aa(me.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(me,we)=>{V.getOpt(me).each(ke=>{cn(ke.element,"title",k.translate(we))})}},validator:{validate:me=>{const we=gt.getValue(me);return wP(ke=>{ge({type:f.filetype,url:we.value},Oe=>{if(Oe.status==="invalid"){const Xe=Ho.error(Oe.message);ke(Xe)}else{const Xe=Ho.value(Oe.message);ke(Xe)}})})},validateOnLoad:!1}})).toArray(),ao.config({disabled:()=>!f.enabled||k.isDisabled()}),Gr.config({}),Ao("urlinput-events",[It(Km(),ge=>{const me=Zf(ge.element),we=me.trim();we!==me&&Qm(ge.element,we),f.filetype==="file"&&Bn(ge,hl,{name:f.name})}),It(jm(),ge=>{Bn(ge,hl,{name:f.name}),E(ge)}),It(Mx(),ge=>{Bn(ge,hl,{name:f.name}),E(ge)})])]),eventOrder:{[Km()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ge=>ge.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:oS(0,0,"normal")},onExecute:(ge,me,we)=>{Bn(me,Ow,{})},onItemExecute:(ge,me,we,ke)=>{E(ge),Bn(ge,hl,{name:f.name})}},F=Ir.parts.field({...N,factory:j$}),M=f.label.map(ge=>db(ge,k)),V=Sr(((ge,me,we=ge,ke=ge)=>Qc(we,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ge],attributes:{title:k.translate(ke),"aria-live":"polite",...me.fold(()=>({}),Oe=>({id:Oe}))}},k.icons))("invalid",R.some(TP),"warning")),Y=Sr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[V.asSpec()]}),te=v.getUrlPicker(f.filetype),fe=_n("browser.url.event"),pe=Sr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,Y.asSpec()],behaviours:Yt([ao.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Se=Sr(SP({name:f.name,icon:R.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:R.none(),borderless:!0},ge=>No(ge,fe),k,[],["tox-browse-url"]));return Ir.sketch({dom:kS([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Kt([[pe.asSpec()],te.map(()=>Se.asSpec()).toArray()])}]),fieldBehaviours:Yt([ao.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:ge=>{Ir.getField(ge).each(ao.disable),Se.getOpt(ge).each(ao.disable)},onEnabled:ge=>{Ir.getField(ge).each(ao.enable),Se.getOpt(ge).each(ao.enable)}}),Bi(),Ao("url-input-events",[It(fe,ge=>{ir.getCurrent(ge).each(me=>{const we=gt.getValue(me),ke={fieldname:f.name,...we};te.each(Oe=>{Oe(ke).get(Xe=>{gt.setValue(me,Xe),Bn(ge,hl,{name:f.name})})})})})])])})})(r,l,l.urlinput,d)),customeditor:ys(r=>{const l=Or(),d=Sr({dom:{tag:r.tag}}),f=Or(),b=!ST(r)&&r.onFocus.isSome()?[so.config({onFocus:v=>{r.onFocus.each(C=>{C(v.element.dom)})}}),Gr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Yt([Ao("custom-editor-events",[as(v=>{d.getOpt(v).each(C=>{(ST(r)?r.init(C.element.dom):X5.load(r.scriptId,r.scriptUrl).then(k=>k(C.element.dom,r.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),C0(R.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>f.set(C),k=>k.setValue(C))}),Eg()].concat(b)),components:[d.asSpec()]}}),htmlpanel:ys((r,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=Ao("htmlpanel",[as(C=>{d.onInit(C.element.dom)})]);return d.presets==="presentation"?df.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:Yt([ai.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{fs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>qs(C.element)).each(k=>{Qo(k,"data-mce-tooltip").each(E=>{ai.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:fs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>qs(C.element).filter(k=>Qo(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:Z([Gs,As,Ns,si,Ps,Fr]),onRtl:Z([Gs,As,Ns,si,Ps,Fr])},bubble:bc(0,-2,{})})}),v])}):df.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:Yt([Gr.config({}),so.config({}),v])})})(r,l.shared.providers)),imagepreview:ys((r,l,d)=>((f,b)=>{const v=Hn(b.getOr({url:""})),C=Sr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(F=>({src:F.url})).getOr({})}}),k=Sr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each(F=>E.height=F);const N=b.map(F=>({url:F.url,zoom:R.from(F.zoom),cachedWidth:R.from(F.cachedWidth),cachedHeight:R.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Yt([Eg(),C0(N,()=>v.get(),(F,M)=>{const V={url:M.url};M.zoom.each(te=>V.zoom=te),M.cachedWidth.each(te=>V.cachedWidth=te),M.cachedHeight.each(te=>V.cachedHeight=te),v.set(V);const Y=()=>{const{cachedWidth:te,cachedHeight:fe,zoom:pe}=V;if(!P(te)&&!P(fe)){if(P(pe)){const ge=((me,we,ke)=>{const Oe=Ri(me),Xe=Os(me);return Math.min(Oe/we,Xe/ke,1)})(F.element,te,fe);V.zoom=ge}const Se=((ge,me,we,ke,Oe)=>{const Xe=we*Oe,lt=ke*Oe,Nt=Math.max(0,ge/2-Xe/2),Tt=Math.max(0,me/2-lt/2);return{left:Nt.toString()+"px",top:Tt.toString()+"px",width:Xe.toString()+"px",height:lt.toString()+"px"}})(Ri(F.element),Os(F.element),te,fe,V.zoom);k.getOpt(F).each(ge=>{rl(ge.element,Se)})}};C.getOpt(F).each(te=>{const fe=te.element;var pe;M.url!==Ko(fe,"src")&&(cn(fe,"src",M.url),Rs(F.element,"tox-imagepreview__loaded")),Y(),(pe=fe,new Promise((Se,ge)=>{const me=()=>{ke(),Se(pe)},we=[Ka(pe,"load",me),Ka(pe,"error",()=>{ke(),ge("Unable to load data from image: "+pe.dom.src)})],ke=()=>mt(we,Oe=>Oe.unbind());pe.dom.complete&&me()})).then(Se=>{F.getSystem().isConnected()&&(Es(F.element,"tox-imagepreview__loaded"),V.cachedWidth=Se.dom.naturalWidth,V.cachedHeight=Se.dom.naturalHeight,Y())})})})])}})(r,d)),table:ys((r,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Pe(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Pe(v,k=>({dom:{tag:"tr"},components:Pe(k,b)}))})],behaviours:Yt([Gr.config({}),so.config({})])};var v,C})(r,l.shared.providers)),tree:ys((r,l)=>((d,f)=>{const b=d.onLeafAction.getOr(U),v=d.onToggleExpand.getOr(U),C=d.defaultExpandedIds,k=Hn(C),E=Hn(d.defaultSelectedId),N=_n("tree-id"),F=(M,V)=>d.items.map(Y=>Y.type==="leaf"?ZT({leaf:Y,selectedId:M,onLeafAction:b,visible:!0,treeId:N,backstage:f}):rk({directory:Y,selectedId:M,onLeafAction:b,expandedIds:V,labelTabstopping:!0,treeId:N,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Yt([$n.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Ao(z$,[It("expand-tree-node",(M,V)=>{const{expanded:Y,node:te}=V.event;k.set(Y?[...k.get(),te]:k.get().filter(fe=>fe!==te)),v(k.get(),{expanded:Y,node:te})})]),Ol.config({channels:{[`update-active-item-${N}`]:{onReceive:(M,V)=>{E.set(R.some(V.value)),Jn.set(M,F(R.some(V.value),k.get()))}}}}),Jn.config({})])}})(r,l)),panel:ys((r,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Pe(d.items,f.shared.interpreter)}))(r,l))},t4={field:(r,l)=>l,record:Z([])},ak=(r,l,d,f,b)=>{const v=Br(f,{shared:{interpreter:C=>n4(r,C,d,v,b)}});return n4(r,l,d,v,b)},n4=(r,l,d,f,b)=>En(J$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(r,l,d,f,b)),OP=(r,l,d,f)=>n4(t4,r,l,d,f),gf="layout-inset",zy=r=>r.x,lk=(r,l)=>r.x+r.width/2-l.width/2,o4=(r,l)=>r.x+r.width-l.width,Sd=r=>r.y,r4=(r,l)=>r.y+r.height-l.height,IP=(r,l)=>r.y+r.height/2-l.height/2,wc=(r,l,d)=>pa(o4(r,l),r4(r,l),d.insetSouthwest(),Eh(),"southwest",ba(r,{right:0,bottom:3}),gf),wb=(r,l,d)=>pa(zy(r),r4(r,l),d.insetSoutheast(),Sv(),"southeast",ba(r,{left:1,bottom:3}),gf),Cc=(r,l,d)=>pa(o4(r,l),Sd(r),d.insetNorthwest(),kh(),"northwest",ba(r,{right:0,top:2}),gf),Vw=(r,l,d)=>pa(zy(r),Sd(r),d.insetNortheast(),_v(),"northeast",ba(r,{left:1,top:2}),gf),ar=(r,l,d)=>pa(lk(r,l),Sd(r),d.insetNorth(),i_(),"north",ba(r,{top:2}),gf),Ag=(r,l,d)=>pa(lk(r,l),r4(r,l),d.insetSouth(),i2(),"south",ba(r,{bottom:3}),gf),zw=(r,l,d)=>pa(o4(r,l),IP(r,l),d.insetEast(),a_(),"east",ba(r,{right:0}),gf),s4=(r,l,d)=>pa(zy(r),IP(r,l),d.insetWest(),a2(),"west",ba(r,{left:1}),gf),i4=r=>{switch(r){case"north":return ar;case"northeast":return Vw;case"northwest":return Cc;case"south":return Ag;case"southeast":return wb;case"southwest":return wc;case"east":return zw;case"west":return s4}},ck=(r,l,d,f,b)=>Dv(f).map(i4).getOr(ar)(r,l,d,f,b),Q$=r=>{switch(r){case"north":return Ag;case"northeast":return wb;case"northwest":return wc;case"south":return ar;case"southeast":return Vw;case"southwest":return Cc;case"east":return s4;case"west":return zw}},a4=(r,l,d,f,b)=>Dv(f).map(Q$).getOr(ar)(r,l,d,f,b),Hw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},DP=(r,l,d)=>{const f={maxHeightFunction:Ih()};return()=>d()?{type:"node",root:rt(pt(r())),node:R.from(r()),bubble:bc(12,12,Hw),layouts:{onRtl:()=>[Vw],onLtr:()=>[Cc]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:bc(-12,12,Hw),layouts:{onRtl:()=>[Ns,Ps,Gs],onLtr:()=>[Ps,Ns,Gs]},overrides:f}},RP=(r,l,d,f)=>{const b={maxHeightFunction:Ih()};return()=>f()?{type:"node",root:rt(pt(l())),node:R.from(l()),bubble:bc(12,12,Hw),layouts:{onRtl:()=>[ar],onLtr:()=>[ar]},overrides:b}:r?{type:"node",root:rt(pt(l())),node:R.from(l()),bubble:bc(0,-Nc(l()),Hw),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:bc(0,0,Hw),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:b}},l4=(r,l,d)=>()=>d()?{type:"node",root:rt(pt(r())),node:R.from(r()),layouts:{onRtl:()=>[ar],onLtr:()=>[ar]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[Gs],onLtr:()=>[Gs]}},NP=(r,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=r.selection.getRng(),f=r.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:un(b),lastCell:un(v)};return R.some(C)}return R.some(em.range(un(d.startContainer),d.startOffset,un(d.endContainer),d.endOffset))}}),uk=r=>l=>({type:"node",root:r(),node:l}),eV=(r,l,d,f)=>{const b=s0(r),v=()=>un(r.getBody()),C=()=>un(r.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:DP(C,l,k),inlineBottomDialog:RP(r.inline,C,d,k),banner:l4(C,l,k),cursor:NP(r,v),node:uk(v)}},tV=r=>(l,d)=>{i5(r)(l,d)},nV=r=>()=>D3(r),oV=r=>l=>p0(r,l),rV=r=>l=>I3(r,l),PP=r=>()=>um(r),LP=r=>Oo(r,"items"),MP=r=>Oo(r,"format"),c4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],u4=r=>nn(r,(l,d)=>{if(uo(d,"items")){const f=u4(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(uo(d,"inline")||(f=>uo(f,"block"))(d)||(f=>uo(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),BP=r=>xy(r).map(l=>{const d=((f,b)=>{const v=u4(b),C=k=>{mt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(r,l);return B_(r)?c4.concat(d):d}).getOr(c4),FP=(r,l,d)=>({...r,type:"formatter",isSelected:l(r.format),getStylePreview:d(r.format)}),d4=(r,l,d,f)=>{const b=v=>Pe(v,C=>LP(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:Z(E)}})(C):MP(C)?(k=>FP(k,d,f))(C):(k=>{const E=Ut(k);return E.length===1&&ut(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=h(k.name)?k.name:_n(k.title),N=`custom-${E}`,F={...k,type:"formatter",format:N,isSelected:d(N),getStylePreview:f(N)};return r.formatter.register(E,F),F})(C));return b(l)},f4=r=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[$s(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:Z(300),exclusive:!0,lazySink:r,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},$P=Gh.trim,VP=r=>l=>!!((d=>K(d)&&d.nodeType===1)(l)&&(l.contentEditable===r||l.getAttribute("data-mce-contenteditable")===r)),sV=VP("true"),iV=VP("false"),zP=(r,l,d,f,b)=>({type:r,title:l,url:d,level:f,attach:b}),HP=r=>r.innerText||r.textContent,aV=r=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(r)&&kd(r),m4=r=>r&&/^(H[1-6])$/.test(r.nodeName),kd=r=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return sV(d)}return!1})(r)&&!iV(r),lV=r=>m4(r)&&kd(r),g4=r=>{var l;const d=(f=>f.id?f.id:_n("h"))(r);return zP("header",(l=HP(r))!==null&&l!==void 0?l:"","#"+d,(f=>m4(f)?parseInt(f.nodeName.substr(1),10):0)(r),()=>{r.id=d})},UP=r=>{const l=r.id||r.name,d=HP(r);return zP("anchor",d||"#"+l,"#"+l,0,U)},WP=r=>$P(r.title).length>0,cV=r=>{const l=(d=>Pe(Ai(un(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(r);return Ht((d=>Pe(Ht(d,lV),g4))(l).concat((d=>Pe(Ht(d,aV),UP))(l)),WP)},Uw="tinymce-url-history",h4=r=>h(r)&&/^https?/.test(r),p4=r=>x(r)&&xr(r,l=>{return!(T(d=l)&&d.length<=5&&je(d,h4));var d}).isNone(),KP=()=>{const r=tu.getItem(Uw);if(r===null)return{};let l;try{l=JSON.parse(r)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+Uw+" was not valid JSON",d),{};throw d}return p4(l)?l:(console.log("Local storage "+Uw+" was not valid format",l),{})},uV=r=>{const l=KP();return En(l,r).getOr([])},dV=(r,l)=>{if(!h4(r))return;const d=KP(),f=En(d,l).getOr([]),b=Ht(f,v=>v!==r);d[l]=[r].concat(b).slice(0,5),(v=>{if(!p4(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));tu.setItem(Uw,JSON.stringify(v))})(d)},jP=r=>!!r,fV=r=>eo(Gh.makeMap(r,/[, ]/),jP),dk=r=>R.from($_(r)),b4=r=>R.from(r).filter(h).getOrUndefined(),ZP=r=>({getHistory:uV,addToHistory:dV,getLinkInformation:()=>(l=>V_(l)?R.some({targets:cV(l.getBody()),anchorTop:b4(MR(l)),anchorBottom:b4(BR(l))}):R.none())(r),getValidationHandler:()=>(l=>R.from(Z2(l)))(r),getUrlPicker:l=>((d,f)=>((b,v)=>{const C=(k=>{const E=R.from(G2(k)).filter(jP).map(fV);return dk(k).fold(Ae,N=>E.fold(ze,F=>Ut(F).length>0&&F))})(b);return I(C)?C?dk(b):R.none():C[v]?dk(b):R.none()})(d,f).map(b=>v=>cb(C=>{const k={filetype:f,fieldname:v.fieldname,...R.from(v.meta).getOr({})};b.call(d,(E,N)=>{if(!h(E))throw new Error("Expected value to be string");if(N!==void 0&&!x(N))throw new Error("Expected meta to be a object");C({value:E,meta:N})},v.value,k)})))(r,l)}),xa=_8,Tg=SD,mV=Z([dt("shell",!1),Mt("makeItem"),dt("setupItem",U),io("listBehaviours",[Jn])]),Hy=Ou({name:"items",overrides:()=>({behaviours:Yt([Jn.config({})])})}),gV=Z([Hy]),v4=jl({name:Z("CustomList")(),configFields:mV(),partFields:gV(),factory:(r,l,d,f)=>{const b=r.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:l};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:Eo(r.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,r.shell?R.some(k):Qr(k,r,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const N=Jn.contents(E),F=C.length,M=F-N.length,V=M>0?Et(M,()=>r.makeItem()):[],Y=N.slice(F);mt(Y,fe=>Jn.remove(E,fe)),mt(V,fe=>Jn.append(E,fe));const te=Jn.contents(E);mt(te,(fe,pe)=>{r.setupItem(v,fe,C[pe],pe)})})}}}},apis:{setItems:(r,l,d)=>{r.setItems(l,d)}}}),k0=Z([Mt("dom"),dt("shell",!0),Sn("toolbarBehaviours",[Jn])]),GP=Z([Ou({name:"groups",overrides:()=>({behaviours:Yt([Jn.config({})])})})]),hf=jl({name:"Toolbar",configFields:k0(),partFields:GP(),factory:(r,l,d,f)=>{const b=r.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:l};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:Eo(r.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,r.shell?R.some(k):Qr(k,r,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Jn.set(E,C)})},refresh:U},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)}}}),y4=U,x4=Ae,fk=Z([]);var w4,hV=Object.freeze({__proto__:null,setup:y4,isDocked:x4,getBehaviours:fk});const mk=Z(_n("toolbar-height-change")),Og={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},qP="tox-tinymce--toolbar-sticky-on",YP="tox-tinymce--toolbar-sticky-off",Ww=(r,l)=>ut(ds.getModes(r),l),gk=r=>{const l=r.element;Aa(l).each(d=>{const f="padding-"+ds.getModes(r)[0];if(ds.isDocked(r)){const b=Ri(d);bo(l,"width",b+"px"),bo(d,f,(v=>Nc(v)+(parseInt(Ts(v,"margin-top"),10)||0)+(parseInt(Ts(v,"margin-bottom"),10)||0))(l)+"px")}else kr(l,"width"),kr(d,f)})},C4=(r,l)=>{l?(Rs(r,Og.fadeOutClass),Zs(r,[Og.transitionClass,Og.fadeInClass])):(Rs(r,Og.fadeInClass),Zs(r,[Og.fadeOutClass,Og.transitionClass]))},XP=(r,l)=>{const d=un(r.getContainer());l?(Es(d,qP),Rs(d,YP)):(Es(d,YP),Rs(d,qP))},JP=(r,l)=>{const d=Or(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{r.inline||gk(k),XP(r,ds.isDocked(k)),k.getSystem().broadcastOn([H()],{}),f().each(E=>E.getSystem().broadcastOn([H()],{}))},C=r.inline?[]:[Ol.config({channels:{[mk()]:{onReceive:gk}}})];return[so.config({}),ds.config({contextual:{lazyContext:k=>{const E=Nc(k.element),N=r.inline?r.getContentAreaContainer():r.getContainer();return R.from(N).map(F=>{const M=di(un(F));return tb(r,k.element).fold(()=>{const V=M.height-E,Y=M.y+(Ww(k,"top")?0:E);return Lo(M.x,Y,M.width,V)},V=>{const Y=Wd(M,nb(V)),te=Ww(k,"top")?Y.y:Y.y+E;return Lo(Y.x,te,Y.width,Y.height-E)})})},onShow:()=>{b(k=>C4(k,!0))},onShown:k=>{b(E=>pc(E,[Og.transitionClass,Og.fadeInClass])),d.get().each(E=>{((N,F)=>{const M=ui(F);ku(M).filter(V=>!dr(F,V)).filter(V=>dr(V,un(M.dom.body))||Ms(N,V)).each(()=>Wa(F))})(k.element,E),d.clear()})},onHide:k=>{((E,N)=>qs(E).orThunk(()=>N().toOptional().bind(F=>qs(F.element))))(k.element,f).fold(d.clear,d.set),b(E=>C4(E,!1))},onHidden:()=>{b(k=>pc(k,[Og.transitionClass]))},...Og},lazyViewport:k=>tb(r,k.element).fold(()=>{const E=Gi(),N=zA(r),F=E.y+(Ww(k,"top")?N:0),M=E.height-(Ww(k,"bottom")?N:0);return{bounds:Lo(E.x,F,E.width,M),optScrollEnv:R.none()}},E=>({bounds:nb(E),optScrollEnv:R.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Ul(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var pV=Object.freeze({__proto__:null,setup:(r,l,d)=>{r.inline||(l.header.isPositionedAtTop()||r.on("ResizeEditor",()=>{d().each(ds.reset)}),r.on("ResizeWindow ResizeEditor",()=>{d().each(gk)}),r.on("SkinLoaded",()=>{d().each(f=>{ds.isDocked(f)?ds.reset(f):ds.refresh(f)})}),r.on("FullscreenStateChanged",()=>{d().each(ds.reset)})),r.on("AfterScrollIntoView",f=>{d().each(b=>{ds.refresh(b);const v=b.element;XD(v)&&((C,k)=>{const E=ui(k),N=cu(k).dom.innerHeight,F=ns(E),M=un(C.elm),V=kl(M),Y=Os(M),te=V.y,fe=te+Y,pe=Ul(k),Se=Os(k),ge=pe.top,me=ge+Se,we=Math.abs(ge-F.top)<2,ke=Math.abs(me-(F.top+N))<2;if(we&&te<me)Nf(F.left,te-Se,E);else if(ke&&fe>ge){const Oe=te-N+Y+Se;Nf(F.left,Oe,E)}})(f,v)})}),r.on("PostRender",()=>{XP(r,!1)})},isDocked:r=>r().map(ds.isDocked).getOr(!1),getBehaviours:JP});const bV=Gn([xi,Yi("items",zm([od([i3,ll("items",ki)]),ki]))].concat(xg)),vV=[Fs("text"),Fs("tooltip"),Fs("icon"),Ha("search",!1,zm([mc,Gn([Fs("placeholder")])],r=>I(r)?r?R.some({placeholder:R.none()}):R.none():R.some(r))),za("fetch"),os("onSetup",()=>U)],QP=Gn([xi,...vV]),eL=r=>_s("menubutton",QP,r),yV=Gn([xi,hw,vd,ab,d3,D7,ib,Bc("presets","normal",["normal","color","listpreview"]),_N(1),_y,CN]);var _4=Iu({factory:(r,l)=>{const d={focus:$n.focusIn,setMenus:(f,b)=>{const v=Pe(b,C=>{const k={type:"menubutton",text:C.text,fetch:N=>{N(C.getItems())}},E=eL(k).mapError(N=>al(N)).getOrDie();return $y(E,"tox-mbtn",l.backstage,R.some("menuitem"))});Jn.set(f,v)}};return{uid:r.uid,dom:r.dom,components:[],behaviours:Yt([Jn.config({}),Ao("menubar-events",[as(f=>{r.onSetup(f)}),It(Pn(),(f,b)=>{fs(f.element,".tox-mbtn--active").each(v=>{dd(b.event.target,".tox-mbtn").each(C=>{dr(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{Rl.expand(E),Rl.close(k),so.focus(E)})})})})}),It(S1(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{Rl.isOpen(v)&&(Rl.expand(C),Rl.close(v))})})})]),$n.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(r.onEscape(f),R.some(!0))}),Gr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Mt("dom"),Mt("uid"),Mt("onEscape"),Mt("backstage"),dt("onSetup",U)],apis:{focus:(r,l)=>{r.focus(l)},setMenus:(r,l,d)=>{r.setMenus(l,d)}}});const tL="container",xV=[Sn("slotBehaviours",[])],S4=r=>"<alloy.field."+r+">",wV=(r,l)=>{const d=F=>TD(r),f=(F,M)=>(V,Y)=>Qr(V,r,Y).map(te=>F(te,Y)).getOr(M),b=(F,M)=>Ko(F.element,"aria-hidden")!=="true",v=f(b,!1),C=f((F,M)=>{if(b(F)){const V=F.element;bo(V,"display","none"),cn(V,"aria-hidden","true"),Bn(F,wu(),{name:M,visible:!1})}}),k=(F=>(M,V)=>{mt(V,Y=>F(M,Y))})(C),E=f((F,M)=>{if(!b(F)){const V=F.element;kr(V,"display"),Ro(V,"aria-hidden"),Bn(F,wu(),{name:M,visible:!0})}}),N={getSlotNames:d,getSlot:(F,M)=>Qr(F,r,M),isShowing:v,hideSlot:C,hideAllSlots:F=>k(F,d()),showSlot:E};return{uid:r.uid,dom:r.dom,components:l,behaviours:to(r.slotBehaviours),apis:N}},CV=eo({getSlotNames:(r,l)=>r.getSlotNames(l),getSlot:(r,l,d)=>r.getSlot(l,d),isShowing:(r,l,d)=>r.isShowing(l,d),hideSlot:(r,l,d)=>r.hideSlot(l,d),hideAllSlots:(r,l)=>r.hideAllSlots(l),showSlot:(r,l,d)=>r.showSlot(l,d)},r=>F1(r)),Nl={...CV,sketch:r=>{const l=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),sA(tL,S4(C),k)),record:Z(v)}})(),d=r(l),f=l.record(),b=Pe(f,v=>Dl({name:v,pname:S4(v)}));return T2(tL,xV,b,wV,d)}},_V=Gn([vd,hw,os("onShow",U),os("onHide",U),ib]),SV=r=>({element:()=>r.element.dom}),hk=(r,l)=>{const d=Pe(Ut(l),f=>{const b=l[f],v=Va((C=>_s("sidebar",_V,C))(b));return{name:f,getApi:SV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Pe(d,f=>{const b=Hn(U);return r.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:bw([lb(f,b),Hh(f,b),It(wu(),(v,C)=>{const k=C.event;Q(d,N=>N.name===k.name).each(N=>{(k.visible?N.onShow:N.onHide)(N.getApi(v))})})])})})},nL=r=>Nl.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:hk(l,r),slotBehaviours:bw([as(d=>Nl.hideAllSlots(d))])})),pk=(r,l)=>{cn(r,"role",l)},kV=r=>ir.getCurrent(r).bind(l=>rc.isGrowing(l)||rc.hasGrown(l)?ir.getCurrent(l).bind(d=>Q(Nl.getSlotNames(d),f=>Nl.isShowing(d,f))):R.none()),k4=_n("FixSizeEvent"),E4=_n("AutoSizeEvent");var EV=Object.freeze({__proto__:null,block:(r,l,d,f)=>{cn(r.element,"aria-busy",!0);const b=l.getRoot(r).getOr(r),v=Yt([$n.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),so.config({})]),C=f(b,v),k=b.getSystem().build(C);Jn.append(b,ul(k)),k.hasConfigured($n)&&l.focus&&$n.focusIn(k),d.isBlocked()||l.onBlock(r),d.blockWith(()=>Jn.remove(b,k))},unblock:(r,l,d)=>{Ro(r.element,"aria-busy"),d.isBlocked()&&l.onUnblock(r),d.clear()},isBlocked:(r,l,d)=>d.isBlocked()}),AV=[os("getRoot",R.none),ri("focus",!0),nr("onBlock"),nr("onUnblock")];const Ed=Mi({fields:AV,name:"blocking",apis:EV,state:Object.freeze({__proto__:null,init:()=>{const r=Pc(l=>l.destroy());return Li({readState:r.isSet,blockWith:l=>{r.set({destroy:l})},clear:r.clear,isBlocked:r.isSet})}})}),A4=r=>ir.getCurrent(r).each(l=>Wa(l.element,!0)),oL=(r,l,d)=>{const f=Hn(!1),b=Or(),v=k=>{var E;f.get()&&(!(N=>N.type==="focusin")(E=k)||!(E.composed?Re(E.composedPath()):R.from(E.target)).map(un).filter(ls).exists(N=>cl(N,"mce-pastebin")))&&(k.preventDefault(),A4(l()),r.editorManager.setActive(r))};r.inline||r.on("PreInit",()=>{r.dom.bind(r.getWin(),"focusin",v),r.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,N,F,M)=>{const V=N.element;if(((Y,te)=>{const fe="tabindex",pe=`data-mce-${fe}`;R.from(Y.iframeElement).map(un).each(Se=>{te?(Qo(Se,fe).each(ge=>cn(Se,pe,ge)),cn(Se,fe,-1)):(Ro(Se,fe),Qo(Se,pe).each(ge=>{cn(Se,fe,ge),Ro(Se,pe)}))})})(E,F),F)Ed.block(N,(Y=>(te,fe)=>({dom:{tag:"div",attributes:{"aria-label":Y.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:pg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),kr(V,"display"),Ro(V,"aria-hidden"),E.hasFocus()&&A4(N);else{const Y=ir.getCurrent(N).exists(te=>Oh(te.element));Ed.unblock(N),bo(V,"display","none"),cn(V,"aria-hidden","true"),Y&&E.focus()}})(r,l(),k,d.providers),((E,N)=>{E.dispatch("AfterProgressState",{state:N})})(r,k))};r.on("ProgressState",k=>{if(b.on(clearTimeout),J(k.time)){const E=L_.setEditorTimeout(r,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},T4=(r,l,d)=>({within:r,extra:l,withinWidth:d}),O4=(r,l,d)=>{const f=nn(r,(C,k)=>((E,N)=>{const F=d(E);return R.some({element:E,start:N,finish:N+F,width:F})})(k,C.len).fold(Z(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=Ht(f,C=>C.finish<=l),v=On(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},bk=r=>Pe(r,l=>l.element),rL=(r,l)=>{const d=Pe(l,f=>ul(f));hf.setGroups(r,d)},sL=(r,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Mh(r,l,"primary"),v=Vs.getCoupled(r,"overflowGroup");bo(b.element,"visibility","hidden");const C=f.concat([v]),k=sn(C,N=>qs(N.element).bind(F=>N.getSystem().getByDom(F).toOptional()));d([]),rL(b,C);const E=((N,F,M,V)=>{const Y=((Se,ge,me)=>{const we=O4(ge,Se,me);return we.extra.length===0?R.some(we):R.none()})(N,F,M).getOrThunk(()=>O4(F,N-M(V),M)),te=Y.within,fe=Y.extra,pe=Y.withinWidth;return fe.length===1&&fe[0].width<=M(V)?((Se,ge,me)=>{const we=bk(Se.concat(ge));return T4(we,[],me)})(te,fe,pe):fe.length>=1?((Se,ge,me,we)=>{const ke=bk(Se).concat([me]);return T4(ke,bk(ge),we)})(te,fe,V,pe):((Se,ge,me)=>T4(bk(Se),[],me))(te,0,pe)})(Ri(b.element),l.builtGroups.get(),N=>Math.ceil(N.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(Jn.remove(b,v),d([])):(rL(b,E.within),d(E.extra)),kr(b.element,"visibility"),Vd(b.element),k.each(so.focus)},iL=Z([Sn("splitToolbarBehaviours",[Vs]),qi("builtGroups",()=>Hn([]))]),TV=Z([xh(["overflowToggledClass"]),vu("getOverflowBounds"),Mt("lazySink"),qi("overflowGroups",()=>Hn([])),nr("onOpened"),nr("onClosed")].concat(iL())),OV=Z([Dl({factory:hf,schema:k0(),name:"primary"}),af({schema:k0(),name:"overflow"}),af({name:"overflow-button"}),af({name:"overflow-group"})]),I4=Z((r,l)=>{((d,f)=>{const b=oh.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);bo(d,"max-width",b+"px")})(r,Math.floor(l))}),IV=Z([xh(["toggledClass"]),Mt("lazySink"),za("fetch"),vu("getBounds"),Is("fireDismissalEventInstead",[dt("event",mh())]),Yf(),nr("onToggled")]),DV=Z([af({name:"button",overrides:r=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Yt([oo.config({toggleClass:r.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:r.onToggled})])})}),af({factory:hf,schema:k0(),name:"toolbar",overrides:r=>({toolbarBehaviours:Yt([$n.config({mode:"cyclic",onEscape:l=>(Qr(l,r,"button").each(so.focus),R.none())})])})})]),vk=Or(),Uy=(r,l)=>{const d=Vs.getCoupled(r,"toolbarSandbox");O.isOpen(d)?O.close(d):O.open(d,l.toolbar())},Kw=(r,l,d,f)=>{const b=d.getBounds.map(C=>C()),v=d.lazySink(r).getOrDie();va.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:r,layouts:f,overrides:{maxWidthFunction:I4()}}},b)},yk=(r,l,d,f,b)=>{hf.setGroups(l,b),Kw(r,l,d,f),oo.on(r)},Yh=jl({name:"FloatingToolbarButton",factory:(r,l,d,f)=>({...Za.sketch({...f.button(),action:b=>{Uy(b,f)},buttonBehaviours:no({dump:f.button().buttonBehaviours},[Vs.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=Sh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Yt([$n.config({mode:"special",onEscape:N=>(O.close(N),R.some(!0))}),O.config({onOpen:(N,F)=>{const M=vk.get().getOr(!1);k.fetch().get(V=>{yk(v,F,k,C.layouts,V),E.link(v.element),M||$n.focusIn(F)})},onClose:()=>{oo.off(v),vk.get().getOr(!1)||so.focus(v),E.unlink(v.element)},isPartOf:(N,F,M)=>Tl(F,M)||Tl(v,M),getAttachPoint:()=>k.lazySink(v).getOrDie()}),Ol.config({channels:{...ce({isExtraPart:Ae,...k.fireDismissalEventInstead.map(N=>({fireEventInstead:{event:N.event}})).getOr({})}),...Be({doReposition:()=>{O.getState(Vs.getCoupled(v,"toolbarSandbox")).each(N=>{Kw(v,N,k,C.layouts)})}})}})])}})(b,d,r)}})])}),apis:{setGroups:(b,v)=>{O.getState(Vs.getCoupled(b,"toolbarSandbox")).each(C=>{yk(b,C,r,d.layouts,v)})},reposition:b=>{O.getState(Vs.getCoupled(b,"toolbarSandbox")).each(v=>{Kw(b,v,r,d.layouts)})},toggle:b=>{Uy(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{vk.set(!0),Uy(v,C),vk.clear()})(b,f)},getToolbar:b=>O.getState(Vs.getCoupled(b,"toolbarSandbox")),isOpen:b=>O.isOpen(Vs.getCoupled(b,"toolbarSandbox"))}}),configFields:IV(),partFields:DV(),apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},reposition:(r,l)=>{r.reposition(l)},toggle:(r,l)=>{r.toggle(l)},toggleWithoutFocusing:(r,l)=>{r.toggleWithoutFocusing(l)},getToolbar:(r,l)=>r.getToolbar(l),isOpen:(r,l)=>r.isOpen(l)}}),RV=Z([Mt("items"),xh(["itemSelector"]),Sn("tgroupBehaviours",[$n])]),NV=Z([x_({name:"items",unit:"item"})]),Wy=jl({name:"ToolbarGroup",configFields:RV(),partFields:NV(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.tgroupBehaviours,[$n.config({mode:"flow",selector:r.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),xk=r=>Pe(r,l=>ul(l)),jw=(r,l,d)=>{sL(r,d,f=>{d.overflowGroups.set(f),l.getOpt(r).each(b=>{Yh.setGroups(b,xk(f))})})},D4=jl({name:"SplitFloatingToolbar",configFields:TV(),partFields:OV(),factory:(r,l,d,f)=>{const b=Sr(Yh.sketch({fetch:()=>cb(v=>{v(xk(r.overflowGroups.get()))}),layouts:{onLtr:()=>[Ps,Ns],onRtl:()=>[Ns,Ps],onBottomLtr:()=>[Fr,si],onBottomRtl:()=>[si,Fr]},getBounds:d.getOverflowBounds,lazySink:r.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:r.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>r[C?"onOpened":"onClosed"](v)}));return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.splitToolbarBehaviours,[Vs.config({others:{overflowGroup:()=>Wy.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{r.builtGroups.set(Pe(C,v.getSystem().build)),jw(v,b,r)},refresh:v=>jw(v,b,r),toggle:v=>{b.getOpt(v).each(C=>{Yh.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Yh.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Yh.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Yh.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Yh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},refresh:(r,l)=>{r.refresh(l)},reposition:(r,l)=>{r.reposition(l)},toggle:(r,l)=>{r.toggle(l)},toggleWithoutFocusing:(r,l)=>{r.toggle(l)},isOpen:(r,l)=>r.isOpen(l),getOverflow:(r,l)=>r.getOverflow(l)}}),PV=Z([xh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),nr("onOpened"),nr("onClosed")].concat(iL())),LV=Z([Dl({factory:hf,schema:k0(),name:"primary"}),Dl({factory:hf,schema:k0(),name:"overflow",overrides:r=>({toolbarBehaviours:Yt([rc.config({dimension:{property:"height"},closedClass:r.markers.closedClass,openClass:r.markers.openClass,shrinkingClass:r.markers.shrinkingClass,growingClass:r.markers.growingClass,onShrunk:l=>{Qr(l,r,"overflow-button").each(d=>{oo.off(d)}),r.onClosed(l)},onGrown:l=>{r.onOpened(l)},onStartGrow:l=>{Qr(l,r,"overflow-button").each(oo.on)}}),$n.config({mode:"acyclic",onEscape:l=>(Qr(l,r,"overflow-button").each(so.focus),R.some(!0))})])})}),af({name:"overflow-button",overrides:r=>({buttonBehaviours:Yt([oo.config({toggleClass:r.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),af({name:"overflow-group"})]),R4=(r,l,d)=>{Qr(r,l,"overflow-button").each(f=>{Qr(r,l,"overflow").each(b=>{if(N4(r,l),rc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{d||$n.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{d||so.focus(f),v(C),l.onClosed=v}}rc.toggleGrow(b)})})},N4=(r,l)=>{Qr(r,l,"overflow").each(d=>{sL(r,l,f=>{const b=Pe(f,v=>ul(v));hf.setGroups(d,b)}),Qr(r,l,"overflow-button").each(f=>{rc.hasGrown(d)&&oo.on(f)}),rc.refresh(d)})},P4=jl({name:"SplitSlidingToolbar",configFields:PV(),partFields:LV(),factory:(r,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.splitToolbarBehaviours,[Vs.config({others:{overflowGroup:v=>Wy.sketch({...f["overflow-group"](),items:[Za.sketch({...f["overflow-button"](),action:C=>{No(v,b)}})]})}}),Ao("toolbar-toggle-events",[It(b,v=>{R4(v,r,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const N=Pe(E,k.getSystem().build);r.builtGroups.set(N)})(v,C),N4(v,r)},refresh:v=>N4(v,r),toggle:v=>{R4(v,r,!1)},toggleWithoutFocusing:v=>{R4(v,r,!0)},isOpen:v=>((C,k)=>Qr(C,k,"overflow").map(rc.hasGrown).getOr(!1))(v,r)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},refresh:(r,l)=>{r.refresh(l)},toggle:(r,l)=>{r.toggle(l)},isOpen:(r,l)=>r.isOpen(l)}}),aL=r=>{const l=r.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[Wy.parts.items({})],items:r.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Yt([Gr.config({}),so.config({})])}},wk=r=>Wy.sketch(aL(r)),lL=(r,l)=>{const d=as(f=>{const b=Pe(r.initGroups,wk);hf.setGroups(f,b)});return Yt([dS(r.providers.isDisabled),Bi(),$n.config({mode:l,onEscape:r.onEscape,selector:".tox-toolbar__group"}),Ao("toolbar-events",[d])])},cL=r=>{const l=r.cyclicKeying?"cyclic":"acyclic";return{uid:r.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":aL({title:R.none(),items:[]}),"overflow-button":CP({icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items")},R.none(),r.providers,[],"overflow-button")},splitToolbarBehaviours:lL(r,l)}},MV=r=>{const l=cL(r),d=D4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return D4.sketch({...l,lazySink:r.getSink,getOverflowBounds:()=>{const f=r.moreDrawerData.lazyHeader().element,b=kl(f),v=ol(f),C=kl(v),k=Math.max(v.dom.scrollHeight,C.height);return Lo(b.x+4,C.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>r.onToggled(f,!0),onClosed:f=>r.onToggled(f,!1)})},BV=r=>{const l=P4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=P4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=cL(r);return P4.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([mk()],{type:"opened"}),r.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([mk()],{type:"closed"}),r.onToggled(b,!1)}})},L4=r=>{const l=r.cyclicKeying?"cyclic":"acyclic";return hf.sketch({uid:r.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(r.type===hd.scrolling?["tox-toolbar--scrolling"]:[])},components:[hf.parts.groups({})],toolbarBehaviours:lL(r,l)})},uL=[ab,vd,Fs("tooltip"),Bc("buttonType","secondary",["primary","secondary"]),ri("borderless",!1),za("onAction")],M4={button:[...uL,bd,id("type",["button"])],togglebutton:[...uL,ri("active",!1),id("type",["togglebutton"])]},FV=[id("type",["group"]),Pr("buttons",[],bi("type",M4))],$V=bi("type",{...M4,group:FV}),Ig=Gn([Pr("buttons",[],$V),za("onShow"),za("onHide")]),dL=(r,l)=>((d,f)=>{var b,v;const C=d.type==="togglebutton",k=d.icon.map(ge=>vb(ge,f.icons)).map(Sr),E={...d,name:C?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:R.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},N=XT((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),F=C?d.text.map(f.translate):R.some(f.translate(d.text)),M=F.map($s),V=E.tooltip.or(F).map(ge=>({"aria-label":f.translate(ge)})).getOr({}),Y=k.map(ge=>ge.asSpec()),te=Ey([Y,M]),fe=d.icon.isSome()&&M.isSome(),pe={tag:"button",classes:N.concat(...d.icon.isSome()&&!fe?["tox-button--icon"]:[]).concat(...fe?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:V},Se=$w(E,R.some(ge=>{const me=we=>{k.map(ke=>ke.getOpt(ge).each(Oe=>{Jn.set(Oe,[vb(we,f.icons)])}))};return C?d.onAction({setIcon:me,setActive:we=>{const ke=ge.element;we?(Es(ke,"tox-button--enabled"),cn(ke,"aria-pressed",!0)):(Rs(ke,"tox-button--enabled"),Ro(ke,"aria-pressed"))},isActive:()=>cl(ge.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:me}):void 0}),[],pe,te,d.tooltip,f);return Za.sketch(Se)})(r,l),fL=ca().deviceType,B4=fL.isPhone(),wa=fL.isTablet();var Ky=jl({name:"silver.View",configFields:[Mt("viewConfig")],partFields:[Ou({factory:{sketch:r=>{let l=!1;const d=Pe(r.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Pe(b.buttons,C=>dL(C,v))}))(f,r.providers)):dL(f,r.providers));return{uid:r.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...B4||wa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Yt([so.config({}),$n.config({mode:"flow",selector:"button, .tox-button",focusInside:qv.OnEnterOrSpaceMode})]),components:l?d:[df.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),df.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Mt("buttons"),Mt("providers")],name:"header"}),Ou({factory:{sketch:r=>({uid:r.uid,behaviours:Yt([so.config({}),Gr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(r,l,d,f)=>{const b={getPane:v=>xa.getPart(v,r,"pane"),getOnShow:v=>r.viewConfig.onShow,getOnHide:v=>r.viewConfig.onHide};return{uid:r.uid,dom:r.dom,components:l,behaviours:Yt([so.config({}),$n.config({mode:"cyclic",focusInside:qv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(r,l)=>r.getPane(l),getOnShow:(r,l)=>r.getOnShow(l),getOnHide:(r,l)=>r.getOnHide(l)}});const VV=(r,l,d)=>ti(l,(f,b)=>{const v=Va(_s("view",Ig,f));return r.slot(b,Ky.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Ky.parts.header({buttons:v.buttons,providers:d})]:[],Ky.parts.pane({})]}))}),zV=(r,l)=>Nl.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:VV(d,r,l),slotBehaviours:bw([as(f=>Nl.hideAllSlots(f))])})),mL=r=>Q(Nl.getSlotNames(r),l=>Nl.isShowing(r,l)),gL=(r,l,d)=>{Nl.getSlot(r,l).each(f=>{Ky.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:Z(v)}))})})};var Ck=Iu({factory:(r,l)=>{const d={setViews:(f,b)=>{Jn.set(f,[zV(b,l.backstage.shared.providers)])},whichView:f=>ir.getCurrent(f).bind(mL),toggleView:(f,b,v,C)=>ir.getCurrent(f).exists(k=>{const E=mL(k),N=E.exists(M=>C===M),F=Nl.getSlot(k,C).isSome();return F&&(Nl.hideAllSlots(k),N?((M=>{const V=M.element;bo(V,"display","none"),cn(V,"aria-hidden","true")})(f),b()):(v(),(M=>{const V=M.element;kr(V,"display"),Ro(V,"aria-hidden")})(f),Nl.showSlot(k,C),((M,V)=>{gL(M,V,Ky.getOnShow)})(k,C)),E.each(M=>((V,Y)=>gL(V,Y,Ky.getOnHide))(k,M))),F})};return{uid:r.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Yt([Jn.config({}),ir.config({find:f=>{const b=Jn.contents(f);return Re(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Mt("backstage")],apis:{setViews:(r,l,d)=>r.setViews(l,d),toggleView:(r,l,d,f,b)=>r.toggleView(l,d,f,b),whichView:(r,l)=>r.whichView(l)}});const HV=Tg.optional({factory:_4,name:"menubar",schema:[Mt("backstage")]}),UV=Tg.optional({factory:{sketch:r=>v4.sketch({uid:r.uid,dom:r.dom,listBehaviours:Yt([$n.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>L4({type:r.type,uid:_n("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:r.providers,onEscape:()=>(r.onEscape(),R.some(!0))}),setupItem:(l,d,f,b)=>{hf.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Mt("dom"),Mt("onEscape")]}),WV=Tg.optional({factory:{sketch:r=>(d=>d.type===hd.sliding?BV:d.type===hd.floating?MV:L4)(r)({type:r.type,uid:r.uid,onEscape:()=>(r.onEscape(),R.some(!0)),onToggled:(d,f)=>r.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:r.getSink,providers:r.providers,moreDrawerData:{lazyToolbar:r.lazyToolbar,lazyMoreButton:r.lazyMoreButton,lazyHeader:r.lazyHeader},attributes:r.attributes})},name:"toolbar",schema:[Mt("dom"),Mt("onEscape"),Mt("getSink")]}),KV=Tg.optional({factory:{sketch:r=>{const l=r.editor,d=r.sticky?JP:fk;return{uid:r.uid,dom:r.dom,components:r.components,behaviours:Yt(d(l,r.sharedBackstage))}}},name:"header",schema:[Mt("dom")]}),jV=Tg.optional({factory:{sketch:r=>({uid:r.uid,dom:r.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Mt("dom")]}),ZV=Tg.optional({name:"socket",schema:[Mt("dom")]}),GV=Tg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Yt([Gr.config({}),so.config({}),rc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{ir.getCurrent(l).each(Nl.hideAllSlots),No(l,E4)},onGrown:l=>{No(l,E4)},onStartGrow:l=>{Bn(l,k4,{width:oi(l.element,"width").getOr("")})},onStartShrink:l=>{Bn(l,k4,{width:Ri(l.element)+"px"})}}),Jn.config({}),ir.config({find:l=>{const d=Jn.contents(l);return Re(d)}})])}],behaviours:Yt([xT(0),Ao("sidebar-sliding-events",[It(k4,(l,d)=>{bo(l.element,"width",d.event.width)}),It(E4,(l,d)=>{kr(l.element,"width")})])])})},name:"sidebar",schema:[Mt("dom")]}),qV=Tg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Yt([Jn.config({}),Ed.config({focus:!1}),ir.config({find:l=>Re(l.components())})]),components:[]})},name:"throbber",schema:[Mt("dom")]}),YV=Tg.optional({factory:Ck,name:"viewWrapper",schema:[Mt("backstage")]}),XV=Tg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:r.components})},name:"editorContainer",schema:[]});var rs=jl({name:"OuterContainer",factory:(r,l,d)=>{let f=!1;const b=C=>{Jr(C,".tox-statusbar").each(k=>{Ts(k,"display")==="none"&&Ko(k,"aria-hidden")==="true"?(kr(k,"display"),Ro(k,"aria-hidden")):(bo(k,"display","none"),cn(k,"aria-hidden","true"))})},v={getSocket:C=>xa.getPart(C,r,"socket"),setSidebar:(C,k,E)=>{xa.getPart(C,r,"sidebar").each(N=>((F,M,V)=>{ir.getCurrent(F).each(Y=>{Jn.set(Y,[nL(M)]);const te=V==null?void 0:V.toLowerCase();h(te)&&uo(M,te)&&ir.getCurrent(Y).each(fe=>{Nl.showSlot(fe,te),rc.immediateGrow(Y),kr(Y.element,"width"),pk(F.element,"region")})})})(N,k,E))},toggleSidebar:(C,k)=>{xa.getPart(C,r,"sidebar").each(E=>((N,F)=>{ir.getCurrent(N).each(M=>{ir.getCurrent(M).each(V=>{rc.hasGrown(M)?Nl.isShowing(V,F)?(rc.shrink(M),pk(N.element,"presentation")):(Nl.hideAllSlots(V),Nl.showSlot(V,F),pk(N.element,"region")):(Nl.hideAllSlots(V),Nl.showSlot(V,F),rc.grow(M),pk(N.element,"region"))})})})(E,k))},whichSidebar:C=>xa.getPart(C,r,"sidebar").bind(kV).getOrNull(),getHeader:C=>xa.getPart(C,r,"header"),getToolbar:C=>xa.getPart(C,r,"toolbar"),setToolbar:(C,k)=>{xa.getPart(C,r,"toolbar").each(E=>{const N=Pe(k,wk);E.getApis().setGroups(E,N)})},setToolbars:(C,k)=>{xa.getPart(C,r,"multiple-toolbar").each(E=>{const N=Pe(k,F=>Pe(F,wk));v4.setItems(E,N)})},refreshToolbar:C=>{xa.getPart(C,r,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{xa.getPart(C,r,"toolbar").each(k=>{pi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{xa.getPart(C,r,"toolbar").each(k=>{pi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>xa.getPart(C,r,"toolbar").bind(k=>R.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>xa.getPart(C,r,"throbber"),focusToolbar:C=>{xa.getPart(C,r,"toolbar").orThunk(()=>xa.getPart(C,r,"multiple-toolbar")).each(k=>{$n.focusIn(k)})},setMenubar:(C,k)=>{xa.getPart(C,r,"menubar").each(E=>{_4.setMenus(E,k)})},focusMenubar:C=>{xa.getPart(C,r,"menubar").each(k=>{_4.focus(k)})},setViews:(C,k)=>{xa.getPart(C,r,"viewWrapper").each(E=>{Ck.setViews(E,k)})},toggleView:(C,k)=>xa.getPart(C,r,"viewWrapper").exists(E=>Ck.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>xa.getPart(C,r,"viewWrapper").bind(Ck.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),xa.getPart(C,r,"editorContainer").each(k=>{const E=k.element;b(E),bo(E,"display","none"),cn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),xa.getPart(C,r,"editorContainer").each(k=>{const E=k.element;b(E),kr(E,"display"),Ro(E,"aria-hidden")})}};return{uid:r.uid,dom:r.dom,components:l,apis:v,behaviours:r.behaviours}},configFields:[Mt("dom"),Mt("behaviours")],partFields:[KV,HV,WV,UV,ZV,GV,jV,qV,YV,XV],apis:{getSocket:(r,l)=>r.getSocket(l),setSidebar:(r,l,d,f)=>{r.setSidebar(l,d,f)},toggleSidebar:(r,l,d)=>{r.toggleSidebar(l,d)},whichSidebar:(r,l)=>r.whichSidebar(l),getHeader:(r,l)=>r.getHeader(l),getToolbar:(r,l)=>r.getToolbar(l),setToolbar:(r,l,d)=>{r.setToolbar(l,d)},setToolbars:(r,l,d)=>{r.setToolbars(l,d)},refreshToolbar:(r,l)=>r.refreshToolbar(l),toggleToolbarDrawer:(r,l)=>{r.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(r,l)=>{r.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(r,l)=>r.isToolbarDrawerToggled(l),getThrobber:(r,l)=>r.getThrobber(l),setMenubar:(r,l,d)=>{r.setMenubar(l,d)},focusMenubar:(r,l)=>{r.focusMenubar(l)},focusToolbar:(r,l)=>{r.focusToolbar(l)},setViews:(r,l,d)=>{r.setViews(l,d)},toggleView:(r,l,d)=>r.toggleView(l,d),whichView:(r,l)=>r.whichView(l)}});const hL={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},F4=r=>r.split(" "),pL=(r,l)=>{const d={...hL,...l.menus},f=Ut(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?F4("file edit view insert format tools table help"):F4(l.menubar===!1?"":l.menubar),v=Ht(b,k=>{const E=uo(hL,k);return f?E||En(l.menus,k).exists(N=>uo(N,"items")):E}),C=Pe(v,k=>{const E=d[k];return((N,F,M)=>{const V=PR(M).split(/[ ,]/);return{text:N.title,getItems:()=>pn(N.items,Y=>{const te=Y.toLowerCase();return te.trim().length===0||kn(V,fe=>fe===te)?[]:te==="separator"||te==="|"?[{type:"separator"}]:F.menuItems[te]?[F.menuItems[te]]:[]})}})({title:E.title,items:F4(E.items)},l,r)});return Ht(C,k=>k.getItems().length>0&&kn(k.getItems(),E=>h(E)||E.type!=="separator"))},bL=(r,l,d)=>(r.on("remove",()=>d.unload(l)),d.load(l)),$4=(r,l,d,f)=>(r.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),JV=async(r,l)=>{const d="ui/"+W_(r).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=r.editorManager.suffix;return bL(r,l+`/skin${b}.css`,r.ui.styleSheetLoader)}$4(r,d,f,r.ui.styleSheetLoader)},QV=async(r,l)=>{var d;if(d=un(r.getElement()),qt(d).isSome()){const f="ui/"+W_(r).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=r.editorManager.suffix;return bL(r,l+`/skin.shadowdom${v}.css`,by.DOM.styleSheetLoader)}$4(r,f,b,by.DOM.styleSheetLoader)}},vL=(r,l)=>(async(d,f)=>{const b=()=>{const C=U_(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(d?"/content.inline":"/content")+`${k}.css`)};W_(f).fold(b,C=>{const k="ui/"+C+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?$4(f,k,E,f.ui.styleSheetLoader):b()});const v=U_(f);if(!Qp(f)&&h(v))return Promise.all([JV(f,v),QV(f,v)]).then()})(r,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),yL=Ve(vL,!1),ez=Ve(vL,!0),E0=(r,l,d)=>qu(d)?r.translate(l):r.translate([l,r.translate(d)]),tz=(r,l)=>{const d=(v,C,k,E)=>{const N=r.shared.providers.translate(v.title);if(v.type==="separator")return R.some({type:"separator",text:N});if(v.type==="submenu"){const F=pn(v.getStyleItems(),M=>f(M,C,E));return C===0&&F.length<=0?R.none():R.some({type:"nestedmenuitem",text:N,enabled:F.length>0,getSubmenuItems:()=>pn(v.getStyleItems(),M=>f(M,C,E))})}return R.some({type:"togglemenuitem",text:N,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return C===0?E?[]:d(v,C,!1,k).toArray():d(v,C,E,k).toArray()},b=v=>{const C=l.getCurrentValue(),k=l.shouldHide?0:1;return pn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const N=C(),F=b(N);E(_0(F,fm.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:R.none()}))}}},jy=(r,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Pe(d.data,b=>FP(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:tz(r,l),getStyleItems:f}},Zw=(r,l,d,f,b,v)=>{const{items:C,getStyleItems:k}=jy(l,d),E=Hn(d.tooltip);return FT({text:d.icon.isSome()?R.none():d.text,icon:d.icon,ariaLabel:R.some(d.tooltip),tooltip:R.none(),role:R.none(),fetch:C.getFetch(l,k),onSetup:N=>{const F=M=>N.setTooltip(E0(r,f(M.value),M.value));return r.on(b,F),Iy(h0(r,"NodeChange",M=>{const V=M.getComponent();d.updateText(V),ao.set(M.getComponent(),!r.selection.isEditable())})(N),()=>r.off(b,F))},getApi:N=>({getComponent:Z(N),setTooltip:F=>{const M=l.shared.providers.translate(F);cn(N.element,"aria-label",M),E.set(F)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ai.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:N=>{if(d.tooltip!==E.get()){const F=l.shared.providers.translate(E.get());ai.setComponents(N,l.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",l.shared,v)};var A0;(function(r){r[r.SemiColon=0]="SemiColon",r[r.Space=1]="Space"})(A0||(A0={}));const V4=(r,l,d)=>{const f=(b=((v,C)=>C===A0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(r.options.get(l),d),Pe(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},xL=Z("Alignment {0}"),wL="left",z4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],H4=r=>{const l={type:"basic",data:z4};return{tooltip:E0(r,xL(),wL),text:R.none(),icon:R.some("align-left"),isSelectedFor:d=>()=>r.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>R.none,onAction:d=>()=>Q(z4,f=>f.format===d.format).each(f=>r.execCommand(f.command)),updateText:d=>{const f=Q(z4,b=>r.formatter.match(b.format)).fold(Z(wL),b=>b.title.toLowerCase());Bn(d,_d,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(r,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!r.formatter.canApply(d.format)}},CL=(r,l)=>{const d=l(),f=Pe(d,b=>b.format);return R.from(r.formatter.closest(f)).bind(b=>Q(d,v=>v.format===b))},U4=Z("Block {0}"),W4="Paragraph",K4=r=>{const l=V4(r,"block_formats",A0.SemiColon);return{tooltip:E0(r,U4(),W4),text:R.some(W4),icon:R.none(),isSelectedFor:d=>()=>r.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>()=>{const f=r.formatter.get(d);return f?R.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(d))}):R.none()},onAction:XN(r),updateText:d=>{const f=CL(r,()=>l.data).fold(Z(W4),b=>b.title);Bn(d,Mu,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(r,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!r.formatter.canApply(d.format)}},_L=Z("Font {0}"),j4="System Font",nz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],SL=r=>{const l=r.split(/\s*,\s*/);return Pe(l,d=>d.replace(/^['"]+|['"]+$/g,""))},kL=(r,l)=>l.length>0&&je(l,d=>r.indexOf(d.toLowerCase())>-1),EL=r=>{const l=()=>{const f=N=>N?SL(N)[0]:"",b=r.queryCommandValue("FontName"),v=d.data,C=b?b.toLowerCase():"",k=H_(r);return{matchOpt:Q(v,N=>{const F=N.format;return F.toLowerCase()===C||f(F).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>ur(((N,F)=>{if(N.indexOf("-apple-system")===0||F.length>0){const M=SL(N.toLowerCase());return kL(M,nz)||kL(M,F)}return!1})(C,k),{title:j4,format:C})),font:b}},d=V4(r,"font_family_formats",A0.SemiColon);return{tooltip:E0(r,_L(),j4),text:R.some(j4),icon:R.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>R.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),C=b.fold(Z(v),k=>k.title);Bn(f,Mu,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(r,{value:C})},dataset:d,shouldHide:!1,isInvalid:Ae}},oz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},rz=(()=>{const r="[0-9]+",l="[eE][+-]?"+r,d=b=>`(?:${b})?`,f=["Infinity",r+"\\."+d(r)+d(l),"\\."+r+d(l),r+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),_k=(r,l)=>R.from(rz.exec(r)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,C)=>kn(C,k=>kn(oz[k],E=>v===E)))(b,l)?R.some({value:f,unit:b}):R.none()}),AL={tab:Z(9),escape:Z(27),enter:Z(13),backspace:Z(8),delete:Z(46),left:Z(37),up:Z(38),right:Z(39),down:Z(40),space:Z(32),home:Z(36),end:Z(35),pageUp:Z(33),pageDown:Z(34)},TL=Z("Font size {0}"),OL="12pt",sz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},IL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},iz=(r,l)=>/[0-9.]+px$/.test(r)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(r,10)/96,l||0)+"pt":En(IL,r).getOr(r),az=r=>En(sz,r).getOr(""),DL=r=>{const l=()=>{let b=R.none();const v=f.data,C=r.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=iz(C,k),N=az(E);b=Q(v,F=>F.format===C||F.format===E||F.format===N)}return{matchOpt:b,size:C}},d=Z(R.none),f=V4(r,"font_size_formats",A0.Space);return{tooltip:E0(r,TL(),OL),text:R.some(OL),icon:R.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),k=v.fold(Z(C),E=>E.title);Bn(b,Mu,{text:k}),((E,N)=>{E.dispatch("FontSizeTextUpdate",N)})(r,{value:k})},dataset:f,shouldHide:!1,isInvalid:Ae}},RL=r=>qu(r)?"Formats":"Format {0}",NL=(r,l)=>{const d="Formats";return{tooltip:E0(r,RL(""),""),text:R.some(d),icon:R.none(),isSelectedFor:f=>()=>r.formatter.match(f),getCurrentValue:R.none,getPreviewFor:f=>()=>{const b=r.formatter.get(f);return b!==void 0?R.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(f))}):R.none()},onAction:XN(r),updateText:f=>{const b=k=>LP(k)?pn(k.items,b):MP(k)?[{title:k.title,format:k.format}]:[],v=pn(BP(r),b),C=CL(r,Z(v)).fold(Z({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Bn(f,Mu,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(r,{value:C.tooltipLabel})},shouldHide:NR(r),isInvalid:f=>!r.formatter.canApply(f.format),dataset:l}},Z4=Z([Mt("toggleClass"),Mt("fetch"),ud("onExecute"),dt("getHotspot",R.some),dt("getAnchorOverrides",Z({})),Yf(),ud("onItemExecute"),Yo("lazySink"),Mt("dom"),nr("onOpen"),Sn("splitDropdownBehaviours",[Vs,$n,so]),dt("matchWidth",!1),dt("useMinWidth",!1),dt("eventOrder",{}),Yo("role"),Yo("listRole")].concat(W3())),lz=Dl({factory:Za,schema:[Mt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Yt([so.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(r.uid).each(Uf)},buttonBehaviours:Yt([oo.config({toggleOnExecute:!1,toggleClass:r.toggleClass})])})}),cz=Dl({factory:Za,schema:[Mt("dom")],name:"button",defaults:()=>({buttonBehaviours:Yt([so.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(r.uid).each(d=>{r.onExecute(d,l)})}})}),uz=Z([lz,cz,Ou({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Mt("text")],name:"aria-descriptor"}),af({schema:[yh()],name:"menu",defaults:r=>({onExecute:(l,d)=>{l.getSystem().getByUid(r.uid).each(f=>{r.onItemExecute(f,l,d)})}})}),m5()]),Gw=jl({name:"SplitDropdown",configFields:Z4(),partFields:uz(),factory:(r,l,d,f)=>{const b=N=>{ir.getCurrent(N).each(F=>{Er.highlightFirst(F),$n.focusIn(F)})},v=N=>{z3(r,de,N,f,b,gl.HighlightMenuAndItem).get(U)},C=N=>{const F=Mh(N,r,"button");return Uf(F),R.some(!0)},k={...xo([as((N,F)=>{Qr(N,r,"aria-descriptor").each(M=>{const V=_n("aria");cn(M.element,"id",V),cn(N.element,"aria-describedby",V)})})]),...py(R.some(v))},E={repositionMenus:N=>{oo.isOn(N)&&p5(N)}};return{uid:r.uid,dom:r.dom,components:l,apis:E,eventOrder:{...r.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:Eo(r.splitDropdownBehaviours,[Vs.config({others:{sandbox:N=>{const F=Mh(N,r,"arrow");return U3(r,N,{onOpen:()=>{oo.on(F),oo.on(N)},onClose:()=>{oo.off(F),oo.off(N)}})}}}),$n.config({mode:"special",onSpace:C,onEnter:C,onDown:N=>(v(N),R.some(!0))}),so.config({}),oo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:r.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(r,l)=>r.repositionMenus(l)}}),G4=r=>({isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setText:l=>Bn(r,Mu,{text:l}),setIcon:l=>Bn(r,_d,{icon:l})}),dz=r=>({setActive:l=>{oo.set(r,l)},isActive:()=>oo.isOn(r),isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setText:l=>Bn(r,Mu,{text:l}),setIcon:l=>Bn(r,_d,{icon:l})}),PL=(r,l)=>r.map(d=>({"aria-label":l.translate(d)})).getOr({}),q4=_n("focus-button"),Y4=(r,l,d,f,b,v)=>{const C=l.map(E=>Sr(BT(E,"tox-tbtn",b))),k=r.map(E=>Sr(vb(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...PL(d,b),...K(v)?{"data-mce-name":v}:{}}},components:Ey([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[Bt()]:["focusing","alloy.base.behaviour",bb],[ga()]:[bb,"toolbar-group-button-events"]},buttonBehaviours:Yt([dS(b.isDisabled),Bi(),Ao(bb,[as((E,N)=>JS(E)),It(Mu,(E,N)=>{C.bind(F=>F.getOpt(E)).each(F=>{Jn.set(F,[$s(b.translate(N.event.text))])})}),It(_d,(E,N)=>{k.bind(F=>F.getOpt(E)).each(F=>{Jn.set(F,[vb(N.event.icon,b.icons)])})}),It(Bt(),(E,N)=>{N.event.prevent(),No(E,q4)})])].concat(f.getOr([])))}},LL=(r,l,d,f)=>{var b;const v=Hn(U),C=Y4(r.icon,r.text,r.tooltip,R.none(),d,f);return Za.sketch({dom:C.dom,components:C.components,eventOrder:MT,buttonBehaviours:{...Yt([Ao("toolbar-button-events",[(k={onAction:r.onAction,getApi:l.getApi},Cu((E,N)=>{vw(k,E)(F=>{Bn(E,XS,{buttonApi:F}),k.onAction(F)})})),lb(l,v),Hh(l,v)]),...r.tooltip.map(E=>ai.config(d.tooltips.getConfig({tooltipText:d.translate(E)+r.shortcut.map(N=>` (${fS(N)})`).getOr("")}))).toArray(),dS(()=>!r.enabled||d.isDisabled()),Bi()].concat(l.toolbarButtonBehaviours)),[bb]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[bb]}});var k},ML=(r,l,d,f)=>LL(r,{toolbarButtonBehaviours:d.length>0?[Ao("toolbarButtonWith",d)]:[],getApi:G4,onSetup:r.onSetup},l,f),BL=(r,l,d,f)=>LL(r,{toolbarButtonBehaviours:[Jn.config({}),oo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[Ao("toolbarToggleButtonWith",d)]:[]),getApi:dz,onSetup:r.onSetup},l,f),fz=(r,l,d)=>f=>cb(b=>l.fetch(b)).map(b=>R.from(K3(Br(b0(_n("menu-value"),b,v=>{l.onItemAction(r(f),v)},l.columns,l.presets,fm.CLOSE_ON_EXECUTE,l.select.getOr(Ae),d),{movement:_w(l.columns,l.presets),menuBehaviours:bw(l.columns!=="auto"?[]:[as((v,C)=>{p3(v,4,sb(l.presets)).each(({numRows:k,numColumns:E})=>{$n.setGridSize(v,k,E)})})])})))),mz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Cb=(r,l)=>(d,f,b,v)=>{const C=r(d).mapError(k=>al(k)).getOrDie();return l(C,f,b,v)},gz={button:Cb(kN,(r,l,d,f)=>((b,v,C)=>ML(b,v,[],C))(r,l.shared.providers,f)),togglebutton:Cb(lS,(r,l,d,f)=>((b,v,C)=>BL(b,v,[],C))(r,l.shared.providers,f)),menubutton:Cb(eL,(r,l,d,f)=>$y(r,"tox-tbtn",l,R.none(),!1,f)),splitbutton:Cb(r=>_s("SplitButton",yV,r),(r,l,d,f)=>((b,v,C)=>{const k=Hn(b.tooltip.getOr("")),E=M=>({isEnabled:()=>!ao.isDisabled(M),setEnabled:V=>ao.set(M,!V),setIconFill:(V,Y)=>{fs(M.element,`svg path[class="${V}"], rect[class="${V}"]`).each(te=>{cn(te,"fill",Y)})},setActive:V=>{cn(M.element,"aria-pressed",V),fs(M.element,"span").each(Y=>{M.getSystem().getByDom(Y).each(te=>oo.set(te,V))})},isActive:()=>fs(M.element,"span").exists(V=>M.getSystem().getByDom(V).exists(oo.isOn)),setText:V=>fs(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(te=>Bn(te,Mu,{text:V}))),setIcon:V=>fs(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(te=>Bn(te,_d,{icon:V}))),setTooltip:V=>{const Y=v.providers.translate(V);cn(M.element,"aria-label",Y),k.set(V)}}),N=Hn(U),F={getApi:E,onSetup:b.onSetup};return Gw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...PL(b.tooltip,v.providers),...K(C)?{"data-mce-name":C}:{}}},onExecute:M=>{const V=E(M);V.isEnabled()&&b.onAction(V)},onItemExecute:(M,V,Y)=>{},splitDropdownBehaviours:Yt([MN(v.providers.isDisabled),Bi(),Ao("split-dropdown-events",[as((M,V)=>JS(M)),It(q4,so.focus),lb(F,N),Hh(F,N)]),y0.config({}),...b.tooltip.map(M=>ai.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(M),onShow:V=>{if(k.get()!==M){const Y=v.providers.translate(k.get());ai.setComponents(V,v.providers.tooltips.getComponents({tooltipText:Y}))}}})})).toArray()]),eventOrder:{[ga()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[$c()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:fz(E,b,v.providers),parts:{menu:oS(0,b.columns,b.presets)},components:[Gw.parts.button(Y4(b.icon,b.text,R.none(),R.some([oo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),Gw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:oN("chevron-down",v.providers.icons)},buttonBehaviours:Yt([MN(v.providers.isDisabled),Bi(),eS()])}),Gw.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(r,l.shared,f)),grouptoolbarbutton:Cb(r=>_s("GroupToolbarButton",bV,r),(r,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[Il]:l.shared.header.isPositionedAtTop()?qc.TopToBottom:qc.BottomToTop};if(r0(d)===hd.floating)return((C,k,E,N,F)=>{const M=k.shared,V=Hn(U),Y={toolbarButtonBehaviours:[],getApi:G4,onSetup:C.onSetup},te=[Ao("toolbar-group-button-events",[lb(Y,V),Hh(Y,V)])];return Yh.sketch({lazySink:M.getSink,fetch:()=>cb(fe=>{fe(Pe(E(C.items),wk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Y4(C.icon,C.text,C.tooltip,R.some(te),M.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:N}}}})})(r,l,C=>Sk(d,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,R.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},qw={styles:(r,l)=>{const d={type:"advanced",...l.styles};return Zw(r,l,NL(r,d),RL,"StylesTextUpdate","styles")},fontsize:(r,l)=>Zw(r,l,DL(r),TL,"FontSizeTextUpdate","fontsize"),fontsizeinput:(r,l)=>((d,f,b,v)=>{let C=R.none();const k=h0(d,"NodeChange SwitchMode",we=>{const ke=we.getComponent();C=R.some(ke),b.updateInputValue(ke),ao.set(ke,!d.selection.isEditable())}),E=we=>({getComponent:Z(we)}),N=Hn(U),F=_n("custom-number-input-events"),M=(we,ke,Oe)=>{const Xe=C.map(Wt=>gt.getValue(Wt)).getOr(""),lt=b.getNewValue(Xe,we),Nt=Xe.length-`${lt}`.length,Tt=C.map(Wt=>Wt.element.dom.selectionStart-Nt),kt=C.map(Wt=>Wt.element.dom.selectionEnd-Nt);b.onAction(lt,Oe),C.each(Wt=>{gt.setValue(Wt,lt),ke&&(Tt.each(vn=>Wt.element.dom.selectionStart=vn),kt.each(vn=>Wt.element.dom.selectionEnd=vn))})},V=(we,ke)=>M((Oe,Xe)=>Oe-Xe,we,ke),Y=(we,ke)=>M((Oe,Xe)=>Oe+Xe,we,ke),te=we=>Aa(we.element).fold(R.none,ke=>(Wa(ke),R.some(!0))),fe=we=>Oh(we.element)?(Ie(we.element).each(ke=>Wa(ke)),R.some(!0)):R.none(),pe=(we,ke,Oe,Xe)=>{const lt=Hn(U),Nt=f.shared.providers.translate(Oe),Tt=_n("altExecuting"),kt=h0(d,"NodeChange SwitchMode",vn=>{ao.set(vn.getComponent(),!d.selection.isEditable())}),Wt=vn=>{ao.isDisabled(vn)||we(!0)};return Za.sketch({dom:{tag:"button",attributes:{"aria-label":Nt,"data-mce-name":ke},classes:Xe.concat(ke)},components:[Lw(ke,f.shared.providers.icons)],buttonBehaviours:Yt([ao.config({}),ai.config(f.shared.providers.tooltips.getConfig({tooltipText:Nt})),Ao(Tt,[lb({onSetup:kt,getApi:E},lt),Hh({getApi:E},lt),It(ks(),(vn,Rn)=>{Rn.event.raw.keyCode!==AL.space()&&Rn.event.raw.keyCode!==AL.enter()||ao.isDisabled(vn)||we(!1)}),It(vi(),Wt),It(Le(),Wt)])]),eventOrder:{[ks()]:[Tt,"keying"],[vi()]:[Tt,"alloy.base.behaviour"],[Le()]:[Tt,"alloy.base.behaviour"],[ga()]:["alloy.base.behaviour",Tt,"tooltipping"],[$c()]:[Tt,"tooltipping"]}})},Se=Sr(pe(we=>V(!1,we),"minus","Decrease font size",[])),ge=Sr(pe(we=>Y(!1,we),"plus","Increase font size",[])),me=Sr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[zh.sketch({inputBehaviours:Yt([ao.config({}),Ao(F,[lb({onSetup:k,getApi:E},N),Hh({getApi:E},N)]),Ao("input-update-display-text",[It(Mu,(we,ke)=>{gt.setValue(we,ke.event.text)}),It(Ks(),we=>{b.onAction(gt.getValue(we))}),It(jm(),we=>{b.onAction(gt.getValue(we))})]),$n.config({mode:"special",onEnter:we=>(M(de,!0,!0),R.some(!0)),onEscape:te,onUp:we=>(Y(!0,!1),R.some(!0)),onDown:we=>(V(!0,!1),R.some(!0)),onLeft:(we,ke)=>(ke.cut(),R.none()),onRight:(we,ke)=>(ke.cut(),R.none())})])})],behaviours:Yt([so.config({}),$n.config({mode:"special",onEnter:fe,onSpace:fe,onEscape:te}),Ao("input-wrapper-events",[It(Pn(),we=>{mt([Se,ge],ke=>{const Oe=un(ke.get(we).element.dom);Oh(Oe)&&Av(Oe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...K(v)?{"data-mce-name":v}:{}}},components:[Se.asSpec(),me.asSpec(),ge.asSpec()],behaviours:Yt([so.config({}),$n.config({mode:"flow",focusInside:qv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:we=>Oh(we.element)?R.none():(Wa(we.element),R.some(!0))})])}})(r,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>Bn(b,Mu,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{_k(b,["unsupportedLength","empty"]);const C=f(),k=_k(b,["unsupportedLength","empty"]).or(_k(C,["unsupportedLength","empty"])),E=k.map(Y=>Y.value).getOr(16),N=HA(d),F=k.map(Y=>Y.unit).filter(Y=>Y!=="").getOr(N),M=v(E,(Y=>{var te;return(te={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[Y])!==null&&te!==void 0?te:{step:1}})(F).step),V=`${(Y=>Y>=0)(M)?M:E}${F}`;return V!==C&&((Y,te)=>{Y.dispatch("FontSizeInputTextUpdate",te)})(d,{value:V}),V}}})(r),"fontsizeinput"),fontfamily:(r,l)=>Zw(r,l,EL(r),_L,"FontFamilyTextUpdate","fontfamily"),blocks:(r,l)=>Zw(r,l,K4(r),U4,"BlocksTextUpdate","blocks"),align:(r,l)=>Zw(r,l,H4(r),xL,"AlignTextUpdate","align")},Sk=(r,l,d,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(N=>{const F=Pe(mz,M=>{const V=Ht(M.items,Y=>uo(N,Y)||uo(qw,Y));return{name:M.name,items:V}});return Ht(F,M=>M.items.length>0)})(E):h(k)?(N=>{const F=N.split("|");return Pe(F,M=>({items:M.trim().split(" ")}))})(k):(N=>oe(N,F=>uo(F,"name")&&uo(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Pe(b,C=>{const k=pn(C.items,E=>E.trim().length===0?[]:((N,F,M,V,Y,te)=>En(F,M.toLowerCase()).orThunk(()=>te.bind(fe=>sn(fe,pe=>En(F,pe+M.toLowerCase())))).fold(()=>En(qw,M.toLowerCase()).map(fe=>fe(N,Y)),fe=>fe.type!=="grouptoolbarbutton"||V?((pe,Se,ge,me)=>En(gz,pe.type).fold(()=>(console.error("skipping button defined by",pe),R.none()),we=>R.some(we(pe,Se,ge,me))))(fe,Y,N,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(r,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:R.from(r.translate(C.name)),items:k}});return Ht(v,C=>C.items.length>0)},FL=(r,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,C=d.buttons;if(oe(v,h)){const k=v.map(E=>{const N={toolbar:E,buttons:C,allowToolbarGroups:d.allowToolbarGroups};return Sk(r,N,f,R.none())});rs.setToolbars(b,k)}else rs.setToolbar(b,Sk(r,d,f,R.none()))},$L=ca(),hz=$L.os.isiOS()&&$L.os.version.major<=12;var BK=Object.freeze({__proto__:null,render:(r,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=l,k=Hn(0),E=v.outerContainer;yL(r);const N=un(b.targetNode),F=rt(pt(N));St(N,v.mothership),((te,fe,pe)=>{Vh(te)&&St(pe.mainUi.mothership.element,pe.popupUi.mothership),_2(fe,pe.dialogUi.mothership)})(r,F,l),r.on("SkinLoaded",()=>{rs.setSidebar(E,d.sidebar,z_(r)),FL(r,l,d,f),k.set(r.getWin().innerWidth),rs.setMenubar(E,pL(r,d)),rs.setViews(E,d.views),((te,fe)=>{const{uiMotherships:pe}=fe,Se=te.dom;let ge=te.getWin();const me=te.getDoc().documentElement,we=Hn(ts(ge.innerWidth,ge.innerHeight)),ke=Hn(ts(me.offsetWidth,me.offsetHeight)),Oe=()=>{const Tt=we.get();Tt.left===ge.innerWidth&&Tt.top===ge.innerHeight||(we.set(ts(ge.innerWidth,ge.innerHeight)),g0(te))},Xe=()=>{const Tt=te.getDoc().documentElement,kt=ke.get();kt.left===Tt.offsetWidth&&kt.top===Tt.offsetHeight||(ke.set(ts(Tt.offsetWidth,Tt.offsetHeight)),g0(te))},lt=Tt=>{((kt,Wt)=>{kt.dispatch("ScrollContent",Wt)})(te,Tt)};Se.bind(ge,"resize",Oe),Se.bind(ge,"scroll",lt);const Nt=g2(un(te.getBody()),"load",Xe);te.on("hide",()=>{mt(pe,Tt=>{bo(Tt.element,"display","none")})}),te.on("show",()=>{mt(pe,Tt=>{kr(Tt.element,"display")})}),te.on("NodeChange",Xe),te.on("remove",()=>{Nt.unbind(),Se.unbind(ge,"resize",Oe),Se.unbind(ge,"scroll",lt),ge=null})})(r,l)});const M=rs.getSocket(E).getOrDie("Could not find expected socket element");if(hz){rl(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const te=((pe,Se)=>{let ge=null;return{cancel:()=>{D(ge)||(clearTimeout(ge),ge=null)},throttle:(...me)=>{D(ge)&&(ge=setTimeout(()=>{ge=null,pe.apply(null,me)},20))}}})(()=>{r.dispatch("ScrollContent")}),fe=Ka(M.element,"scroll",te.throttle);r.on("remove",fe.unbind)}LN(r,l),r.addCommand("ToggleSidebar",(te,fe)=>{rs.toggleSidebar(E,fe),(pe=>{pe.dispatch("ToggleSidebar")})(r)}),r.addQueryValueHandler("ToggleSidebar",()=>{var te;return(te=rs.whichSidebar(E))!==null&&te!==void 0?te:""}),r.addCommand("ToggleView",(te,fe)=>{if(rs.toggleView(E,fe)){const pe=E.element;v.mothership.broadcastOn([B()],{target:pe}),mt(C,Se=>{Se.broadcastOn([B()],{target:pe})}),D(rs.whichView(E))&&(r.focus(),r.nodeChanged(),rs.refreshToolbar(E)),(Se=>{Se.dispatch("ToggleView")})(r)}}),r.addQueryValueHandler("ToggleView",()=>{var te;return(te=rs.whichView(E))!==null&&te!==void 0?te:""});const V=r0(r);V!==hd.sliding&&V!==hd.floating||r.on("ResizeWindow ResizeEditor ResizeContent",()=>{const te=r.getWin().innerWidth;te!==k.get()&&(rs.refreshToolbar(l.mainUi.outerContainer),k.set(te))});const Y={setEnabled:te=>{f0(l,!te)},isEnabled:()=>!ao.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:Y}}});const Yw=r=>/^[0-9\.]+(|px)$/i.test(""+r)?R.some(parseInt(""+r,10)):R.none(),_b=r=>J(r)?r+"px":r,Xw=(r,l,d)=>{const f=l.filter(v=>r<v),b=d.filter(v=>r>v);return f.or(b).getOr(r)},X4=r=>{const l=K2(r),d=j2(r),f=yy(r);return Yw(l).map(b=>Xw(b,d,f))},{ToolbarLocation:J4,ToolbarMode:VL}=J2,pz=(r,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=d,k=by.DOM,E=s0(r),N=$h(r),F=yy(r).or(X4(r)),M=f.shared.header,V=M.isPositionedAtTop,Y=r0(r),te=Y===VL.sliding||Y===VL.floating,fe=Hn(!1),pe=()=>fe.get()&&!r.removed,Se=ke=>te?ke.fold(Z(0),Oe=>Oe.components().length>1?Os(Oe.components()[1].element):0):0,ge=()=>{mt(C,ke=>{ke.broadcastOn([H()],{})})},me=ke=>{if(!pe())return;E||b.on(lt=>{const Nt=F.getOrThunk(()=>_i().width-ia(l).left-10);bo(lt.element,"max-width",Nt+"px")});const Oe=ns(),Xe=!(E||E||!(Ul(v.outerContainer.element).left+sl(v.outerContainer.element)>=window.innerWidth-40||oi(v.outerContainer.element,"width").isSome())||(bo(v.outerContainer.element,"position","absolute"),bo(v.outerContainer.element,"left","0px"),kr(v.outerContainer.element,"width"),0));if(te&&rs.refreshToolbar(v.outerContainer),!E){const lt=ns(),Nt=ur(Oe.left!==lt.left,Oe);((Tt,kt)=>{b.on(Wt=>{const vn=rs.getToolbar(v.outerContainer),Rn=Se(vn),Kn=di(l),lo=((Io,or)=>Vh(Io)?Pp(or):R.none())(r,v.outerContainer.element),Uo=lo.fold(()=>Kn.x,Io=>{const or=di(Io);return dr(Io,Cn())?Kn.x:Kn.x-or.x}),ss=ur(Tt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Io=>Io>150).map(Io=>{const or=kt.getOr(ns()),Xn=window.innerWidth-(Uo-or.left),gs=Math.max(Math.min(Io,Xn),150);return Xn<Io&&bo(v.outerContainer.element,"width",gs+"px"),{width:gs+"px"}}).getOr({width:"max-content"}),ms={position:"absolute",left:Math.round(Uo)+"px",top:lo.fold(()=>V()?Math.max(Kn.y-Os(Wt.element)+Rn,0):Kn.bottom,Io=>{var or;const Xn=di(Io),gs=(or=Io.dom.scrollTop)!==null&&or!==void 0?or:0,Vr=dr(Io,Cn())?Math.max(Kn.y-Os(Wt.element)+Rn,0):Kn.y-Xn.y+gs-Os(Wt.element)+Rn;return V()?Vr:Kn.bottom})+"px"};rl(v.outerContainer.element,{...ms,...ss})})})(Xe,Nt),Nt.each(Tt=>{Nf(Tt.left,lt.top)})}N&&b.on(ke),ge()},we=()=>!(E||!N||!pe())&&b.get().exists(ke=>{const Oe=M.getDockingMode(),Xe=(Nt=>{switch(Jp(r)){case J4.auto:const Tt=rs.getToolbar(v.outerContainer),kt=Se(Tt),Wt=Os(Nt.element)-kt,vn=di(l);if(vn.y>Wt)return"top";{const Rn=ol(l),Kn=Math.max(Rn.dom.scrollHeight,Os(Rn));return vn.bottom<Kn-Wt||Gi().bottom<vn.bottom-Wt?"bottom":"top"}case J4.bottom:return"bottom";case J4.top:default:return"top"}})(ke);return Xe!==Oe&&(lt=Xe,b.on(Nt=>{ds.setModes(Nt,[lt]),M.setDockingMode(lt);const Tt=V()?qc.TopToBottom:qc.BottomToTop;cn(Nt.element,Il,Tt)}),!0);var lt});return{isVisible:pe,isPositionedAtTop:V,show:()=>{fe.set(!0),bo(v.outerContainer.element,"display","flex"),k.addClass(r.getBody(),"mce-edit-focus"),mt(C,ke=>{kr(ke.element,"display")}),we(),Vh(r)?me(ke=>ds.isDocked(ke)?ds.reset(ke):ds.refresh(ke)):me(ds.refresh)},hide:()=>{fe.set(!1),bo(v.outerContainer.element,"display","none"),k.removeClass(r.getBody(),"mce-edit-focus"),mt(C,ke=>{bo(ke.element,"display","none")})},update:me,updateMode:()=>{we()&&me(ds.reset)},repositionPopups:ge}},zL=(r,l)=>{const d=di(r);return{pos:l?d.y:d.bottom,bounds:d}};var bz=Object.freeze({__proto__:null,render:(r,l,d,f,b)=>{const{mainUi:v}=l,C=Or(),k=un(b.targetNode),E=pz(r,k,l,f,C),N=LR(r);ez(r);const F=()=>{if(C.isSet())return void E.show();C.set(rs.getHeader(v.outerContainer).getOrDie());const V=j_(r);Vh(r)?(St(k,v.mothership),St(k,l.popupUi.mothership)):_2(V,v.mothership),_2(V,l.dialogUi.mothership);const Y=()=>{FL(r,l,d,f),rs.setMenubar(v.outerContainer,pL(r,d)),E.show(),((te,fe,pe,Se)=>{const ge=Hn(zL(fe,pe.isPositionedAtTop())),me=Xe=>{const{pos:lt,bounds:Nt}=zL(fe,pe.isPositionedAtTop()),{pos:Tt,bounds:kt}=ge.get(),Wt=Nt.height!==kt.height||Nt.width!==kt.width;ge.set({pos:lt,bounds:Nt}),Wt&&g0(te,Xe),pe.isVisible()&&(Tt!==lt?pe.update(ds.reset):Wt&&(pe.updateMode(),pe.repositionPopups()))};Se||(te.on("activate",pe.show),te.on("deactivate",pe.hide)),te.on("SkinLoaded ResizeWindow",()=>pe.update(ds.reset)),te.on("NodeChange keydown",Xe=>{requestAnimationFrame(()=>me(Xe))});let we=0;const ke=kT(()=>pe.update(ds.refresh),33);te.on("ScrollWindow",()=>{const Xe=ns().left;Xe!==we&&(we=Xe,ke.throttle()),pe.updateMode()}),Vh(te)&&te.on("ElementScroll",Xe=>{pe.update(ds.refresh)});const Oe=Lc();Oe.set(g2(un(te.getBody()),"load",Xe=>me(Xe.raw))),te.on("remove",()=>{Oe.clear()})})(r,k,E,N),r.nodeChanged()};N?r.once("SkinLoaded",Y):Y()};r.on("show",F),r.on("hide",E.hide),N||(r.on("focus",F),r.on("blur",E.hide)),r.on("init",()=>{(r.hasFocus()||N)&&F()}),LN(r,l);const M={show:F,hide:E.hide,setEnabled:V=>{f0(l,!V)},isEnabled:()=>!ao.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:M}}});const HL="contexttoolbar-hide",UL=(r,l)=>It(XS,(d,f)=>{const b=(v=>({hide:()=>No(v,av()),getValue:()=>gt.getValue(v)}))(r.get(d));l.onAction(b,f.event.buttonApi)}),vz=(r,l)=>{const d=r.label.fold(()=>({}),v=>({"aria-label":v})),f=Sr(zh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:r.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:Yt([$n.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(Uf(C),!0)),onLeft:(v,C)=>(C.cut(),R.none()),onRight:(v,C)=>(C.cut(),R.none())})])})),b=((v,C,k)=>{const E=Pe(C,N=>Sr(((F,M,V)=>(Y=>Y.type==="contextformtogglebutton")(M)?((Y,te,fe)=>{const{primary:pe,...Se}=te.original,ge=Va(lS({...Se,type:"togglebutton",onAction:U}));return BL(ge,fe,[UL(Y,te)])})(F,M,V):((Y,te,fe)=>{const{primary:pe,...Se}=te.original,ge=Va(kN({...Se,type:"button",onAction:U}));return ML(ge,fe,[UL(Y,te)])})(F,M,V))(v,N,k)));return{asSpecs:()=>Pe(E,N=>N.asSpec()),findPrimary:N=>sn(C,(F,M)=>F.primary?R.from(E[M]).bind(V=>V.getOpt(N)).filter(Me(ao.isDisabled)):R.none())}})(f,r.commands,l);return[{title:R.none(),items:[f.asSpec()]},{title:R.none(),items:b.asSpecs()}]},WL=(r,l,d)=>l.bottom-r.y>=d&&r.bottom-l.y>=d,Q4=r=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=He(un(d.startContainer),d.startOffset).element;return(ka(b)?Ea(b):R.some(b)).filter(ls).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(r.selection.getRng());if(r.inline){const d=ns();return Lo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=kl(un(r.getBody()));return Lo(d.x+l.left,d.y+l.top,l.width,l.height)}},KL=(r,l,d,f=0)=>{const b=_i(window),v=di(un(r.getContentAreaContainer())),C=q2(r)||Y2(r)||X2(r),{x:k,width:E}=((N,F,M)=>{const V=Math.max(N.x+M,F.x);return{x:V,width:Math.min(N.right-M,F.right)-V}})(v,b,f);if(r.inline&&!C)return Lo(k,b.y,E,b.height);{const N=l.header.isPositionedAtTop(),{y:F,bottom:M}=((V,Y,te,fe,pe,Se)=>{const ge=un(V.getContainer()),me=fs(ge,".tox-editor-header").getOr(ge),we=di(me),ke=we.y>=Y.bottom,Oe=fe&&!ke;if(V.inline&&Oe)return{y:Math.max(we.bottom+Se,te.y),bottom:te.bottom};if(V.inline&&!Oe)return{y:te.y,bottom:Math.min(we.y-Se,te.bottom)};const Xe=pe==="line"?di(ge):Y;return Oe?{y:Math.max(we.bottom+Se,te.y),bottom:Math.min(Xe.bottom-Se,te.bottom)}:{y:Math.max(Xe.y+Se,te.y),bottom:Math.min(we.y-Se,te.bottom)}})(r,v,b,N,d,f);return Lo(k,F,E,M-F)}},eO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},T0={maxHeightFunction:Ih(),maxWidthFunction:I4()},Sb=r=>r==="node",yz=(r,l,d,f,b)=>{const v=Q4(r),C=f.lastElement().exists(k=>dr(d,k));return((k,E)=>{const N=k.selection.getRng(),F=He(un(N.startContainer),N.startOffset);return N.startContainer===N.endContainer&&N.startOffset===N.endOffset-1&&dr(F.element,E)})(r,d)?C?ck:ar:C?((k,E,N)=>{const F=oi(k,"position");bo(k,"position",E);const M=WL(v,di(l),-20)&&!f.isReposition()?a4:ck;return F.each(V=>bo(k,"position",V)),M})(l,f.getMode()):(f.getMode()==="fixed"?b.y+ns().top:b.y)+(Os(l)+12)<=v.y?ar:Ag},jL=(r,l,d,f)=>{const b=C=>(k,E,N,F,M)=>({...yz(r,F,C,d,M)({...k,y:M.y,height:M.height},E,N,F,M),alwaysFit:!0}),v=C=>Sb(f)?[b(C)]:[];return l?{onLtr:C=>[Gs,Ns,Ps,si,Fr,As].concat(v(C)),onRtl:C=>[Gs,Ps,Ns,Fr,si,As].concat(v(C))}:{onLtr:C=>[As,Gs,si,Ns,Fr,Ps].concat(v(C)),onRtl:C=>[As,Gs,Fr,Ps,si,Ns].concat(v(C))}},kk=(r,l)=>{const d=Ht(l,v=>v.predicate(r.dom)),{pass:f,fail:b}=po(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Ek=(r,l)=>{const d={},f=[],b=[],v={},C={},k=Ut(r);return mt(k,E=>{const N=r[E];N.type==="contextform"?((F,M)=>{const V=Va(_s("ContextForm",V7,M));d[F]=V,V.launch.map(Y=>{v["form:"+F]={...M.launch,type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(V)}}}),V.scope==="editor"?b.push(V):f.push(V),C[F]=V})(E,N):N.type==="contexttoolbar"&&((F,M)=>{var V;(V=M,_s("ContextToolbar",AN,V)).each(Y=>{M.scope==="editor"?b.push(Y):f.push(Y),C[F]=Y})})(E,N)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},ZL=_n("forward-slide"),Zy=_n("backward-slide"),O0=_n("change-slide-event"),tO="tox-pop--resizing",nO="tox-pop--transition",xz=(r,l,d,f)=>{const b=f.backstage,v=b.shared,C=ca().deviceType.isTouch,k=Or(),E=Or(),N=Or(),F=Ji((Oe=>{const Xe=Hn([]);return vs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:lt=>{Xe.set([]),vs.getContent(lt).each(Nt=>{kr(Nt.element,"visibility")}),Rs(lt.element,tO),kr(lt.element,"width")},inlineBehaviours:Yt([Ao("context-toolbar-events",[Wf(sv(),(lt,Nt)=>{Nt.event.raw.propertyName==="width"&&(Rs(lt.element,tO),kr(lt.element,"width"))}),It(O0,(lt,Nt)=>{const Tt=lt.element;kr(Tt,"width");const kt=Ri(Tt);vs.setContent(lt,Nt.event.contents),Es(Tt,tO);const Wt=Ri(Tt);bo(Tt,"width",kt+"px"),vs.getContent(lt).each(vn=>{Nt.event.focus.bind(Rn=>(Wa(Rn),qs(Tt))).orThunk(()=>($n.focusIn(vn),ku(pt(Tt))))}),setTimeout(()=>{bo(lt.element,"width",Wt+"px")},0)}),It(ZL,(lt,Nt)=>{vs.getContent(lt).each(Tt=>{Xe.set(Xe.get().concat([{bar:Tt,focus:ku(pt(lt.element))}]))}),Bn(lt,O0,{contents:Nt.event.forwardContents,focus:R.none()})}),It(Zy,(lt,Nt)=>{qe(Xe.get()).each(Tt=>{Xe.set(Xe.get().slice(0,Xe.get().length-1)),Bn(lt,O0,{contents:ul(Tt.bar),focus:Tt.focus})})})]),$n.config({mode:"special",onEscape:lt=>qe(Xe.get()).fold(()=>Oe.onEscape(),Nt=>(No(lt,Zy),R.some(!0)))})]),lazySink:()=>Ho.value(Oe.sink)})})({sink:d,onEscape:()=>(r.focus(),R.some(!0))})),M=()=>{const Oe=N.get().getOr("node"),Xe=Sb(Oe)?1:0;return KL(r,v,Oe,Xe)},V=()=>!(r.removed||C()&&b.isContextMenuOpen()),Y=()=>{if(V()){const Oe=M(),Xe=ci(N.get(),"node")?((lt,Nt)=>Nt.filter(Tt=>mn(Tt)&&wl(Tt)).map(kl).getOrThunk(()=>Q4(lt)))(r,k.get()):Q4(r);return Oe.height<=0||!WL(Xe,Oe,.01)}return!0},te=()=>{k.clear(),E.clear(),N.clear(),vs.hide(F)},fe=()=>{if(vs.isOpen(F)){const Oe=F.element;kr(Oe,"display"),Y()?bo(Oe,"display","none"):(E.set(0),vs.reposition(F))}},pe=Oe=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Oe],behaviours:Yt([$n.config({mode:"acyclic"}),Ao("pop-dialog-wrap-events",[as(Xe=>{r.shortcuts.add("ctrl+F9","focus statusbar",()=>$n.focusIn(Xe))}),cd(Xe=>{r.shortcuts.remove("ctrl+F9")})])])}),Se=aa(()=>Ek(l,Oe=>{const Xe=ge([Oe]);Bn(F,ZL,{forwardContents:pe(Xe)})})),ge=Oe=>{const{buttons:Xe}=r.ui.registry.getAll(),lt={...Xe,...Se().formNavigators},Nt=r0(r)===hd.scrolling?hd.scrolling:hd.default,Tt=Kt(Pe(Oe,kt=>kt.type==="contexttoolbar"?((Wt,vn)=>Sk(r,{buttons:Wt,toolbar:vn.items,allowToolbarGroups:!1},f.backstage,R.some(["form:"])))(lt,kt):((Wt,vn)=>vz(Wt,vn))(kt,v.providers)));return L4({type:Nt,uid:_n("context-toolbar"),initGroups:Tt,onEscape:R.none,cyclicKeying:!0,providers:v.providers})},me=(Oe,Xe)=>{if(ke.cancel(),!V())return;const lt=ge(Oe),Nt=Oe[0].position,Tt=((Wt,vn)=>{const Rn=Wt==="node"?v.anchors.node(vn):v.anchors.cursor(),Kn=((lo,Uo,ss,ms)=>Uo==="line"?{bubble:bc(12,0,eO),layouts:{onLtr:()=>[W1],onRtl:()=>[K1]},overrides:T0}:{bubble:bc(0,12,eO,1/12),layouts:jL(lo,ss,ms,Uo),overrides:T0})(r,Wt,C(),{lastElement:k.get,isReposition:()=>ci(E.get(),0),getMode:()=>va.getMode(d)});return Br(Rn,Kn)})(Nt,Xe);N.set(Nt),E.set(1);const kt=F.element;kr(kt,"display"),(Wt=>ci(Xt(Wt,k.get(),dr),!0))(Xe)||(Rs(kt,nO),va.reset(d,F)),vs.showWithinBounds(F,pe(lt),{anchor:Tt,transition:{classes:[nO],mode:"placement"}},()=>R.some(M())),Xe.fold(k.clear,k.set),Y()&&bo(kt,"display","none")};let we=!1;const ke=kT(()=>{!r.hasFocus()||r.removed||we||(cl(F.element,nO)?ke.throttle():((Oe,Xe)=>{const lt=un(Xe.getBody()),Nt=kt=>dr(kt,lt),Tt=un(Xe.selection.getNode());return(kt=>!Nt(kt)&&!Ms(lt,kt))(Tt)?R.none():((kt,Wt,vn)=>{const Rn=kk(kt,Wt);if(Rn.contextForms.length>0)return R.some({elem:kt,toolbars:[Rn.contextForms[0]]});{const Kn=kk(kt,vn);if(Kn.contextForms.length>0)return R.some({elem:kt,toolbars:[Kn.contextForms[0]]});if(Rn.contextToolbars.length>0||Kn.contextToolbars.length>0){const lo=(Uo=>{if(Uo.length<=1)return Uo;{const ss=Xn=>kn(Uo,gs=>gs.position===Xn),ms=Xn=>Ht(Uo,gs=>gs.position===Xn),Io=ss("selection"),or=ss("node");if(Io||or){if(or&&Io){const Xn=ms("node"),gs=Pe(ms("selection"),Vr=>({...Vr,position:"node"}));return Xn.concat(gs)}return ms(Io?"selection":"node")}return ms("line")}})(Rn.contextToolbars.concat(Kn.contextToolbars));return R.some({elem:kt,toolbars:lo})}return R.none()}})(Tt,Oe.inNodeScope,Oe.inEditorScope).orThunk(()=>((kt,Wt,vn)=>kt(Wt)?R.none():dh(Wt,Rn=>{if(ls(Rn)){const{contextToolbars:Kn,contextForms:lo}=kk(Rn,vn.inNodeScope),Uo=lo.length>0?lo:(ss=>{if(ss.length<=1)return ss;{const ms=Io=>Q(ss,or=>or.position===Io);return ms("selection").orThunk(()=>ms("node")).orThunk(()=>ms("line")).map(Io=>Io.position).fold(()=>[],Io=>Ht(ss,or=>or.position===Io))}})(Kn);return Uo.length>0?R.some({elem:Rn,toolbars:Uo}):R.none()}return R.none()},kt))(Nt,Tt,Oe))})(Se(),r).fold(te,Oe=>{me(Oe.toolbars,R.some(Oe.elem))}))},17);r.on("init",()=>{r.on("remove",te),r.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",fe),r.on("click keyup focus SetContent",ke.throttle),r.on(HL,te),r.on("contexttoolbar-show",Oe=>{const Xe=Se();En(Xe.lookupTable,Oe.toolbarKey).each(lt=>{me([lt],ur(Oe.target!==r,Oe.target)),vs.getContent(F).each($n.focusIn)})}),r.on("focusout",Oe=>{L_.setEditorTimeout(r,()=>{qs(d.element).isNone()&&qs(F.element).isNone()&&te()},0)}),r.on("SwitchMode",()=>{r.mode.isReadOnly()&&te()}),r.on("ExecCommand",({command:Oe})=>{Oe.toLowerCase()==="toggleview"&&te()}),r.on("AfterProgressState",Oe=>{Oe.state?te():r.hasFocus()&&ke.throttle()}),r.on("dragstart",()=>{we=!0}),r.on("dragend drop",()=>{we=!1}),r.on("NodeChange",Oe=>{qs(F.element).fold(ke.throttle,U)})})},GL=(r,l)=>{const d=()=>{const f=l.getOptions(r),b=l.getCurrent(r).map(l.hash),v=Or();return Pe(f,C=>({type:"togglemenuitem",text:l.display(C),onSetup:k=>{const E=F=>{F&&(v.on(M=>M.setActive(!1)),v.set(k)),k.setActive(F)};E(ci(b,l.hash(C)));const N=l.watcher(r,C,E);return()=>{v.clear(),N()}},onAction:()=>l.setCurrent(r,C)}))};r.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),r.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},wz=r=>{GL(r,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:HR,hash:d=>((f,b)=>_k(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(d).getOr(d),display:de,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>R.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:Fi(l),onMenuSetup:Fi(l)}))(r)),(l=>R.from($A(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:Z(d),hash:f=>P(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=un(f.selection.getNode());return fh(b,v=>R.some(v).filter(ls).bind(C=>Qo(C,"lang").map(k=>({code:k,customCode:Qo(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Lc();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),Iy(b.clear,Fi(l)(f))},onMenuSetup:Fi(l)})))(r).each(l=>GL(r,l))},Cz=r=>h0(r,"NodeChange",l=>{l.setEnabled(r.queryCommandState("outdent")&&r.selection.isEditable())}),Jw=(r,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return r.on("PastePlainTextToggle",f),Iy(()=>r.off("PastePlainTextToggle",f),Fi(r)(d))},oO=(r,l)=>()=>{r.execCommand("mceToggleFormat",!1,l)},rO=r=>{(l=>{(d=>{Gh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:mm(d,f.name),onAction:oO(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:mm(d,b),onAction:oO(d,b),shortcut:v})}})(l),(d=>{Gh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:xc(d,f.action),shortcut:f.shortcut})}),Gh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Fi(d),onAction:xc(d,f.action)})})})(l),(d=>{Gh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:xc(d,f.action),onSetup:mm(d,f.name)})})})(l)})(r),(l=>{Gh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:xc(l,d.action)})}),Gh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:Fi(l),onAction:xc(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Fi(l),onAction:oO(l,"code")})})(r)},Ak=(r,l)=>h0(r,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!r.mode.isReadOnly()&&r.undoManager[l]())}),_z=r=>h0(r,"VisualAid",l=>{l.setActive(r.hasVisual)}),Sz=(r,l)=>{(d=>{mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:xc(d,f.cmd),onSetup:mm(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Fi(d),onAction:xc(d,"JustifyNone")})})(r),rO(r),((d,f)=>{((b,v)=>{const C=jy(v,H4(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=jy(v,EL(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C={type:"advanced",...v.styles},k=jy(v,NL(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Fi(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const C=jy(v,K4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=jy(v,DL(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f)})(r,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Ak(f,"hasUndo"),onAction:xc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Ak(f,"hasRedo"),onAction:xc(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Ak(f,"hasUndo"),onAction:xc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Ak(f,"hasRedo"),onAction:xc(f,"redo"),shortcut:"Meta+Y"})})(d)})(r),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,N)=>{((F,M,V)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(M,{value:V}),F.nodeChanged()})})(k,E,N)}),k.addCommand("mceRemoveTextcolor",E=>{((N,F)=>{N.undoManager.transact(()=>{N.focus(),N.formatter.remove(F,{value:null},void 0,!0),N.nodeChanged()})})(k,E)})})(d);const f=t5(d),b=n5(d),v=Hn(f),C=Hn(b);B3(d,"forecolor","forecolor",v),B3(d,"backcolor","hilitecolor",C),Ry(d,"forecolor","forecolor","Text color",v),Ry(d,"backcolor","hilitecolor","Background color",C)})(r),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:xc(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:_z(f),onAction:xc(f,"mceToggleVisualAid")})})(d)})(r),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Cz(f),onAction:xc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Fi(f),onAction:xc(f,"indent")})})(d)})(r),wz(r),(d=>{const f=Hn(VR(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:Jw(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:Jw(d,f)})})(r)},qL=r=>h(r)?r.split(/[ ,]/):r,YL=r=>l=>l.options.get(r),XL=YL("contextmenu_never_use_native"),kz=YL("contextmenu_avoid_overlap"),sO=r=>{const l=r.ui.registry.getAll().contextMenus,d=r.options.get("contextmenu");return r.options.isSet("contextmenu")?d:Ht(d,f=>uo(l,f))},Qw=(r,l)=>({type:"makeshift",x:r,y:l}),JL=r=>r.type==="longpress"||r.type.indexOf("touch")===0,Ez=(r,l)=>l.type==="contextmenu"||l.type==="longpress"?r.inline?(d=>{if(JL(d)){const f=d.touches[0];return Qw(f.pageX,f.pageY)}return Qw(d.pageX,d.pageY)})(l):((d,f)=>{const b=by.DOM.getPos(d);return((v,C,k)=>Qw(v.x+C,v.y+k))(f,b.x,b.y)})(r.getContentAreaContainer(),(d=>{if(JL(d)){const f=d.touches[0];return Qw(f.clientX,f.clientY)}return Qw(d.clientX,d.clientY)})(l)):QL(r),QL=r=>({type:"selection",root:un(r.selection.getNode())}),eM=(r,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:R.some(un(f.selection.getNode())),root:un(f.getBody())}))(r);case"point":return Ez(r,l);case"selection":return QL(r)}},tM=(r,l,d,f,b,v)=>{const C=d(),k=eM(r,l,v);_0(C,fm.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:R.none()}).map(E=>{l.preventDefault(),vs.showMenuAt(b,{anchor:k},{menu:{markers:l0("normal")},data:E})})},nM={onLtr:()=>[Gs,Ns,Ps,si,Fr,As,ar,Ag,Vw,wb,Cc,wc],onRtl:()=>[Gs,Ps,Ns,Fr,si,As,ar,Ag,Cc,wc,Vw,wb]},Az={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Tz=(r,l,d,f,b,v)=>{const C=ca(),k=C.os.isiOS(),E=C.os.isMacOS(),N=C.os.isAndroid(),F=C.deviceType.isTouch(),M=()=>{const V=d();((Y,te,fe,pe,Se,ge,me)=>{const we=((ke,Oe,Xe)=>{const lt=eM(ke,Oe,Xe);return{bubble:bc(0,Xe==="point"?12:0,Az),layouts:nM,overrides:{maxWidthFunction:I4(),maxHeightFunction:Ih()},...lt}})(Y,te,ge);_0(fe,fm.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:R.none()}).map(ke=>{te.preventDefault();const Oe=me?gl.HighlightMenuAndItem:gl.HighlightNone;vs.showMenuWithinBounds(Se,{anchor:we},{menu:{markers:l0("normal"),highlightOnOpen:Oe},data:ke,type:"horizontal"},()=>R.some(KL(Y,pe.shared,ge==="node"?"node":"selection"))),Y.dispatch(HL)})})(r,l,V,f,b,v,!(N||k||E&&F))};if((E||k)&&v!=="node"){const V=()=>{(Y=>{const te=Y.selection.getRng(),fe=()=>{L_.setEditorTimeout(Y,()=>{Y.selection.setRng(te)},10),ge()};Y.once("touchend",fe);const pe=me=>{me.preventDefault(),me.stopImmediatePropagation()};Y.on("mousedown",pe,!0);const Se=()=>ge();Y.once("longpresscancel",Se);const ge=()=>{Y.off("touchend",fe),Y.off("longpresscancel",Se),Y.off("mousedown",pe)}})(r),M()};((Y,te)=>{const fe=Y.selection;if(fe.isCollapsed()||te.touches.length<1)return!1;{const pe=te.touches[0],Se=fe.getRng();return v2(Y.getWin(),em.domRange(Se)).exists(ge=>ge.left<=pe.clientX&&ge.right>=pe.clientX&&ge.top<=pe.clientY&&ge.bottom>=pe.clientY)}})(r,l)?V():(r.once("selectionchange",V),r.once("touchend",()=>r.off("selectionchange",V)))}else M()},oM=r=>h(r)?r==="|":r.type==="separator",iO={type:"separator"},rM=r=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(r))return r;switch(r.type){case"separator":return iO;case"submenu":return{type:"nestedmenuitem",...l(r),getSubmenuItems:()=>{const f=r.getSubmenuItems();return h(f)?f:Pe(f,rM)}};default:const d=r;return{type:"menuitem",...l(d),onAction:he(d.onAction)}}},aO=(r,l)=>{if(l.length===0)return r;const d=qe(r).filter(f=>!oM(f)).fold(()=>[],f=>[iO]);return r.concat(d).concat(l).concat([iO])},I0=(r,l)=>!(d=>d.type==="longpress"||uo(d,"touches"))(l)&&(l.button!==2||l.target===r.getBody()&&l.pointerType===""),sM=(r,l)=>I0(r,l)?r.selection.getStart(!0):l.target,Oz=(r,l,d)=>{const f=ca().deviceType.isTouch,b=Ji(vs.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>r.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Yt([Ao("dismissContextMenu",[It(mh(),(k,E)=>{O.close(k),r.focus()})])])})),v=()=>vs.hide(b),C=k=>{if(XL(r)&&k.preventDefault(),((N,F)=>F.ctrlKey&&!XL(N))(r,k)||(N=>sO(N).length===0)(r))return;const E=((N,F)=>{const M=kz(N),V=I0(N,F)?"selection":"point";if(xl(M)){const Y=sM(N,F);return Py(un(Y),M)?"node":V}return V})(r,k);(f()?Tz:tM)(r,k,()=>{const N=sM(r,k),F=r.ui.registry.getAll(),M=sO(r);return((V,Y,te)=>{const fe=nn(Y,(pe,Se)=>En(V,Se.toLowerCase()).map(ge=>{const me=ge.update(te);if(h(me)&&xl(Rc(me)))return aO(pe,me.split(" "));if(T(me)&&me.length>0){const we=Pe(me,rM);return aO(pe,we)}return pe}).getOrThunk(()=>pe.concat([Se])),[]);return fe.length>0&&oM(fe[fe.length-1])&&fe.pop(),fe})(F.contextMenus,M,N)},d,b,E)};r.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");r.on(k,v),r.on("longpress contextmenu",C)})},lO=tc([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),D0=r=>l=>l.translate(-r.left,-r.top),_c=r=>l=>l.translate(r.left,r.top),hm=r=>(l,d)=>nn(r,(f,b)=>b(f),ts(l,d)),eC=(r,l,d)=>r.fold(hm([_c(d),D0(l)]),hm([D0(l)]),hm([])),Gy=(r,l,d)=>r.fold(hm([_c(d)]),hm([]),hm([_c(l)])),iM=(r,l,d)=>r.fold(hm([]),hm([D0(d)]),hm([_c(l),D0(d)])),aM=(r,l,d)=>{const f=r.fold((b,v)=>({position:R.some("absolute"),left:R.some(b+"px"),top:R.some(v+"px")}),(b,v)=>({position:R.some("absolute"),left:R.some(b-d.left+"px"),top:R.some(v-d.top+"px")}),(b,v)=>({position:R.some("fixed"),left:R.some(b+"px"),top:R.some(v+"px")}));return{right:R.none(),bottom:R.none(),...f}},cO=(r,l,d,f)=>{const b=(v,C)=>(k,E)=>{const N=v(l,d,f);return C(k.getOr(N.left),E.getOr(N.top))};return r.fold(b(iM,tC),b(Gy,Xh),b(eC,R0))},tC=lO.offset,Xh=lO.absolute,R0=lO.fixed,lM=(r,l)=>{const d=Ko(r,l);return P(d)?NaN:parseInt(d,10)},cM=(r,l,d,f,b,v)=>{const C=((N,F,M,V)=>((Y,te)=>{const fe=Y.element,pe=lM(fe,te.leftAttr),Se=lM(fe,te.topAttr);return isNaN(pe)||isNaN(Se)?R.none():R.some(ts(pe,Se))})(N,F).fold(()=>M,Y=>R0(Y.left+V.left,Y.top+V.top)))(r,l,d,f),k=l.mustSnap?dM(r,l,C,b,v):fM(r,l,C,b,v),E=eC(C,b,v);return((N,F,M)=>{const V=N.element;cn(V,F.leftAttr,M.left+"px"),cn(V,F.topAttr,M.top+"px")})(r,l,E),k.fold(()=>({coord:R0(E.left,E.top),extra:R.none()}),N=>({coord:N.output,extra:N.extra}))},uM=(r,l,d,f)=>sn(r,b=>{const v=b.sensor;return((k,E,N,F,M,V)=>{const Y=Gy(k,M,V),te=Gy(E,M,V);return Math.abs(Y.left-te.left)<=N&&Math.abs(Y.top-te.top)<=F})(l,v,b.range.left,b.range.top,d,f)?R.some({output:cO(b.output,l,d,f),extra:b.extra}):R.none()}),dM=(r,l,d,f,b)=>{const v=l.getSnapPoints(r);return uM(v,d,f,b).orThunk(()=>nn(v,(k,E)=>{const N=E.sensor,F=((M,V,Y,te,fe,pe)=>{const Se=Gy(M,fe,pe),ge=Gy(V,fe,pe),me=Math.abs(Se.left-ge.left),we=Math.abs(Se.top-ge.top);return ts(me,we)})(d,N,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:R.some(F),snap:R.some(E)}),M=>(F.left+F.top)/2<=(M.left+M.top)/2?{deltas:R.some(F),snap:R.some(E)}:k)},{deltas:R.none(),snap:R.none()}).snap.map(k=>({output:cO(k.output,d,f,b),extra:k.extra})))},fM=(r,l,d,f,b)=>{const v=l.getSnapPoints(r);return uM(v,d,f,b)};var mM=Object.freeze({__proto__:null,snapTo:(r,l,d,f)=>{const b=l.getTarget(r.element);if(l.repositionTarget){const v=ui(r.element),C=ns(v),k=Kf(b),E=((F,M,V)=>({coord:cO(F.output,F.output,M,V),extra:F.extra}))(f,C,k),N=aM(E.coord,0,k);Cl(b,N)}}});const uO="data-initial-z-index",gM=(r,l)=>{r.getSystem().addToGui(l),(d=>{Ea(d.element).filter(ls).each(f=>{oi(f,"z-index").each(b=>{cn(f,uO,b)}),bo(f,"z-index",Ts(d.element,"z-index"))})})(l)},Iz=r=>{(l=>{Ea(l.element).filter(ls).each(d=>{Qo(d,uO).fold(()=>kr(d,"z-index"),f=>bo(d,"z-index",f)),Ro(d,uO)})})(r),r.getSystem().removeFromGui(r)},hM=(r,l,d)=>r.getSystem().build(df.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Dz=Is("snaps",[Mt("getSnapPoints"),nr("onSensor"),Mt("leftAttr"),Mt("topAttr"),dt("lazyViewport",Gi),dt("mustSnap",!1)]);const dO=[dt("useFixed",Ae),Mt("blockerClass"),dt("getTarget",de),dt("onDrag",U),dt("repositionTarget",!0),dt("onDrop",U),os("getBounds",Gi),Dz],fO=r=>{return(l=oi(r,"left"),d=oi(r,"top"),f=oi(r,"position"),l.isSome()&&d.isSome()&&f.isSome()?R.some(((b,v,C)=>(C==="fixed"?R0:tC)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):R.none()).getOrThunk(()=>{const b=Ul(r);return Xh(b.left,b.top)});var l,d,f},pM=(r,l)=>({bounds:r.getBounds(),height:Nc(l.element),width:sl(l.element)}),mO=(r,l,d,f,b)=>{const v=d.update(f,b),C=d.getStartData().getOrThunk(()=>pM(l,r));v.each(k=>{((E,N,F,M)=>{const V=N.getTarget(E.element);if(N.repositionTarget){const Y=ui(E.element),te=ns(Y),fe=Kf(V),pe=fO(V),Se=((me,we,ke,Oe,Xe,lt,Nt)=>((Tt,kt,Wt,vn,Rn)=>{const Kn=Rn.bounds,lo=Gy(kt,Wt,vn),Uo=Wc(lo.left,Kn.x,Kn.x+Kn.width-Rn.width),ss=Wc(lo.top,Kn.y,Kn.y+Kn.height-Rn.height),ms=Xh(Uo,ss);return kt.fold(()=>{const Io=iM(ms,Wt,vn);return tC(Io.left,Io.top)},Z(ms),()=>{const Io=eC(ms,Wt,vn);return R0(Io.left,Io.top)})})(0,we.fold(()=>{const Tt=(kt=ke,Wt=lt.left,vn=lt.top,kt.fold((Kn,lo)=>tC(Kn+Wt,lo+vn),(Kn,lo)=>Xh(Kn+Wt,lo+vn),(Kn,lo)=>R0(Kn+Wt,lo+vn)));var kt,Wt,vn;const Rn=eC(Tt,Oe,Xe);return R0(Rn.left,Rn.top)},Tt=>{const kt=cM(me,Tt,ke,lt,Oe,Xe);return kt.extra.each(Wt=>{Tt.onSensor(me,Wt)}),kt.coord}),Oe,Xe,Nt))(E,N.snaps,pe,te,fe,M,F),ge=aM(Se,0,fe);Cl(V,ge)}N.onDrag(E,V,M)})(r,l,C,k)})},gO=(r,l,d,f)=>{l.each(Iz),d.snaps.each(v=>{((C,k)=>{((E,N)=>{const F=E.element;Ro(F,N.leftAttr),Ro(F,N.topAttr)})(C,k)})(r,v)});const b=d.getTarget(r.element);f.reset(),d.onDrop(r,b)},hO=r=>(l,d)=>{const f=b=>{d.setStartData(pM(l,b))};return xo([It(lv(),b=>{d.getStartData().each(()=>f(b))}),...r(l,d,f)])};var Rz=Object.freeze({__proto__:null,getData:r=>R.from(ts(r.x,r.y)),getDelta:(r,l)=>ts(l.left-r.left,l.top-r.top)});const bM=(r,l,d)=>[It(Bt(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>gO(f,R.some(E),r,l),C=j3(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:N=>{C.cancel(),mO(f,r,l,Rz,N)}},E=hM(f,r.blockerClass,(N=>xo([It(Bt(),N.forceDrop),It(mo(),N.drop),It(Yn(),(F,M)=>{N.move(M.event)}),It(So(),N.delayDrop)]))(k));d(f),gM(f,E)})],Nz=[...dO,Xr("dragger",{handlers:hO(bM)})];var vM=Object.freeze({__proto__:null,getData:r=>{const l=r.raw.touches;return l.length===1?(d=>{const f=d[0];return R.some(ts(f.clientX,f.clientY))})(l):R.none()},getDelta:(r,l)=>ts(l.left-r.left,l.top-r.top)});const yM=(r,l,d)=>{const f=Or(),b=v=>{gO(v,f.get(),r,l),f.clear()};return[It(G(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:U,forceDrop:k,move:F=>{mO(v,r,l,vM,F)}},N=hM(v,r.blockerClass,(F=>xo([It(G(),F.forceDrop),It(Le(),F.drop),It(Qe(),F.drop),It(le(),(M,V)=>{F.move(V.event)})]))(E));f.set(N),d(v),gM(v,N)}),It(le(),(v,C)=>{C.stop(),mO(v,r,l,vM,C.event)}),It(Le(),(v,C)=>{C.stop(),b(v)}),It(Qe(),b)]},Pz=Nz,xM=[...dO,Xr("dragger",{handlers:hO(yM)})],wM=[...dO,Xr("dragger",{handlers:hO((r,l,d)=>[...bM(r,l,d),...yM(r,l,d)])})];var Lz=Object.freeze({__proto__:null,mouse:Pz,touch:xM,mouseOrTouch:wM}),Mz=Object.freeze({__proto__:null,init:()=>{let r=R.none(),l=R.none();const d=Z({});return Li({readState:d,reset:()=>{r=R.none(),l=R.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=r.map(N=>C.getDelta(N,k));return r=R.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=R.some(f)}})}});const N0=QC({branchKey:"mode",branches:Lz,name:"dragging",active:{events:(r,l)=>r.dragger.handlers(r,l)},extra:{snap:r=>({sensor:r.sensor,range:r.range,output:r.output,extra:R.from(r.extra)})},state:Mz,apis:mM}),CM=(r,l,d,f,b,v)=>r.fold(()=>N0.snap({sensor:Xh(d-20,f-20),range:ts(b,v),output:Xh(R.some(d),R.some(f)),extra:{td:l}}),C=>{const k=d-20,E=f-20,N=C.element.dom.getBoundingClientRect();return N0.snap({sensor:Xh(k,E),range:ts(40,40),output:Xh(R.some(d-N.width/2),R.some(f-N.height/2)),extra:{td:l}})}),_M=(r,l,d)=>({getSnapPoints:r,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>dr(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),SM=r=>Sr(Za.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Yt([N0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:r}),y0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),kM=(r,l)=>{const d=Hn([]),f=Hn([]),b=Hn(!1),v=Or(),C=Or(),k=ge=>{const me=kl(ge);return CM(M.getOpt(l),ge,me.x,me.y,me.width,me.height)},E=ge=>{const me=kl(ge);return CM(V.getOpt(l),ge,me.right,me.bottom,me.width,me.height)},N=_M(()=>Pe(d.get(),ge=>k(ge)),v,ge=>{C.get().each(me=>{r.dispatch("TableSelectorChange",{start:ge,finish:me})})}),F=_M(()=>Pe(f.get(),ge=>E(ge)),C,ge=>{v.get().each(me=>{r.dispatch("TableSelectorChange",{start:me,finish:ge})})}),M=SM(N),V=SM(F),Y=Ji(M.asSpec()),te=Ji(V.asSpec()),fe=(ge,me,we,ke)=>{const Oe=we(me);N0.snapTo(ge,Oe),((Xe,lt,Nt,Tt)=>{const kt=lt.dom.getBoundingClientRect();kr(Xe.element,"display");const Wt=cu(un(r.getBody())).dom.innerHeight,vn=kt[ke]<0,Rn=((Kn,lo)=>Kn[ke]>lo)(kt,Wt);(vn||Rn)&&bo(Xe.element,"display","none")})(ge,me)},pe=ge=>fe(Y,ge,k,"top"),Se=ge=>fe(te,ge,E,"bottom");if(ca().deviceType.isTouch()){const ge=me=>Pe(me,un);r.on("TableSelectionChange",me=>{b.get()||(rm(l,Y),rm(l,te),b.set(!0));const we=un(me.start),ke=un(me.finish);v.set(we),C.set(ke),R.from(me.otherCells).each(Oe=>{d.set(ge(Oe.upOrLeftCells)),f.set(ge(Oe.downOrRightCells)),pe(we),Se(ke)})}),r.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),C.get().each(Se)}),r.on("TableSelectionClear",()=>{b.get()&&(fl(Y),fl(te),b.set(!1)),v.clear(),C.clear()})}},EM=(r,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Yt([$n.config({mode:"flow",selector:"div[role=button]"}),ao.config({disabled:d.isDisabled}),Bi(),Gr.config({}),Jn.config({}),Ao("elementPathEvents",[as((v,C)=>{r.shortcuts.add("alt+F11","focus statusbar elementpath",()=>$n.focusIn(v)),r.on("NodeChange",k=>{const E=(F=>{const M=[];let V=F.length;for(;V-- >0;){const te=F[V];if(te.nodeType===1&&(Y=te).nodeName!=="BR"&&!Y.getAttribute("data-mce-bogus")&&Y.getAttribute("data-mce-type")!=="bookmark"){const fe=YN(r,te);if(fe.isDefaultPrevented()||M.push({name:fe.name,element:te}),fe.isPropagationStopped())break}}var Y;return M})(k.parents),N=E.length>0?nn(E,(F,M,V)=>{const Y=((te,fe,pe)=>Za.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe}},components:[$s(te)],action:Se=>{r.focus(),r.selection.select(fe),r.nodeChanged()},buttonBehaviours:Yt([ai.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",fe.nodeName.toLowerCase()]),onShow:(Se,ge)=>{((me,we)=>{const ke=R.from(Ko(me,"id")).getOrThunk(()=>{const Oe=_n("aria");return cn(we,"id",Oe),Oe});cn(me,"aria-describedby",ke)})(Se.element,ge.element)},onHide:Se=>{var ge;ge=Se.element,Ro(ge,"aria-describedby")}})}),Pa(d.isDisabled),Bi()])}))(M.name,M.element,V);return V===0?F.concat([Y]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$s(` ${b} `)]},Y])},[]):[];Jn.set(v,N)})})])]),components:[]}};var Jh;(function(r){r[r.None=0]="None",r[r.Both=1]="Both",r[r.Vertical=2]="Vertical"})(Jh||(Jh={}));const Tk=(r,l,d)=>{const f=un(r.getContainer()),b=((v,C,k,E,N)=>{const F={height:Xw(E+C.top,vy(v),M_(v))};return k===Jh.Both&&(F.width=Xw(N+C.left,j2(v),yy(v))),F})(r,l,d,Os(f),Ri(f));qn(b,(v,C)=>{J(v)&&bo(f,C,_b(v))}),(v=>{v.dispatch("ResizeEditor")})(r)},Ok=(r,l,d,f)=>{const b=ts(20*d,20*f);return Tk(r,b,l),R.some(!0)},AM=(r,l)=>{const d=()=>{const f=[],b=UA(r),v=$R(r),C=Jc(r)||r.hasPlugin("wordcount");return v&&f.push(EM(r,{},l)),b&&f.push((()=>{const k=fS("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$s(pd.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return r.hasPlugin("wordcount")&&k.push(((E,N)=>{const F=(M,V,Y)=>Jn.set(M,[$s(N.translate(["{0} "+Y,V[Y]]))]);return Za.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Yt([Pa(N.isDisabled),Bi(),Gr.config({}),Jn.config({}),gt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ao("wordcount-events",[Cu(M=>{const V=gt.getValue(M),Y=V.mode==="words"?"characters":"words";gt.setValue(M,{mode:Y,count:V.count}),F(M,V.count,Y)}),as(M=>{E.on("wordCountUpdate",V=>{const{mode:Y}=gt.getValue(M);gt.setValue(M,{mode:Y,count:V.wordCount}),F(M,V.wordCount,Y)})})])]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(r,l)),Jc(r)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":r.translate(["Build with {0}","TinyMCE"])},innerHtml:r.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Yt([so.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const N="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[N,E]:[N,k]:[N,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,C)=>{const k=(N=>{const F=ya(N);return F===!1?Jh.None:F==="both"?Jh.Both:Jh.Vertical})(v);if(k===Jh.None)return R.none();const E=k===Jh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(Qc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[N0.config({mode:"mouse",repositionTarget:!1,onDrag:(N,F,M)=>Tk(v,M,k),blockerClass:"tox-blocker"}),$n.config({mode:"special",onLeft:()=>Ok(v,k,-1,0),onRight:()=>Ok(v,k,1,0),onUp:()=>Ok(v,k,0,-1),onDown:()=>Ok(v,k,0,1)}),Gr.config({}),so.config({}),ai.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(r,l);return f.concat(b.toArray())})()}},TM=(r,l)=>l.get().getOrDie(`UI for ${r} has not been rendered`),Bz=(r,l)=>{const d=r.inline,f=d?bz:BK,b=$h(r)?pV:hV,v=(()=>{const Oe=Or(),Xe=Or(),lt=Or();return{dialogUi:Oe,popupUi:Xe,mainUi:lt,getUiMotherships:()=>{const Nt=Oe.get().map(kt=>kt.mothership),Tt=Xe.get().map(kt=>kt.mothership);return Nt.fold(()=>Tt.toArray(),kt=>Tt.fold(()=>[kt],Wt=>dr(kt.element,Wt.element)?[kt]:[kt,Wt]))},lazyGetInOuterOrDie:(Nt,Tt)=>()=>lt.get().bind(kt=>Tt(kt.outerContainer)).getOrDie(`Could not find ${Nt} element in OuterContainer`)}})(),C=Or(),k=Or(),E=Or(),N=ca().deviceType.isTouch()?["tox-platform-touch"]:[],F=WA(r),M=r0(r),V=Sr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Y=Sr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),te=()=>v.mainUi.get().map(Oe=>Oe.outerContainer).bind(rs.getHeader),fe=v.lazyGetInOuterOrDie("anchor bar",V.getOpt),pe=v.lazyGetInOuterOrDie("bottom anchor bar",Y.getOpt),Se=v.lazyGetInOuterOrDie("toolbar",rs.getToolbar),ge=v.lazyGetInOuterOrDie("throbber",rs.getThrobber),me=((Oe,Xe,lt,Nt)=>{const Tt=Hn(!1),kt=(or=>{const Xn=Hn(WA(or)?"bottom":"top");return{isPositionedAtTop:()=>Xn.get()==="top",getDockingMode:Xn.get,setDockingMode:Xn.set}})(Xe),Wt={icons:()=>Xe.ui.registry.getAll().icons,menuItems:()=>Xe.ui.registry.getAll().menuItems,translate:pd.translate,isDisabled:()=>Xe.mode.isReadOnly()||!Xe.ui.isEnabled(),getOption:Xe.options.get,tooltips:f4(Oe.dialog)},vn=ZP(Xe),Rn=(or=>{const Xn=ta=>()=>or.formatter.match(ta),gs=ta=>()=>{const $i=or.formatter.get(ta);return $i!==void 0?R.some({tag:$i.length>0&&($i[0].inline||$i[0].block)||"div",styles:or.dom.parseStyle(or.formatter.getCssText(ta))}):R.none()},Vr=Hn([]),Ga=Hn([]),qa=Hn(!1);return or.on("PreInit",ta=>{const $i=BP(or),Qh=d4(or,$i,Xn,gs);Vr.set(Qh)}),or.on("addStyleModifications",ta=>{const $i=d4(or,ta.items,Xn,gs);Ga.set($i),qa.set(ta.replace)}),{getData:()=>{const ta=qa.get()?[]:Vr.get(),$i=Ga.get();return ta.concat($i)}}})(Xe),Kn=(or=>({colorPicker:tV(or),hasCustomColors:nV(or),getColors:oV(or),getColorCols:rV(or)}))(Xe),lo=(or=>({isDraggableModal:PP(or)}))(Xe),Uo={shared:{providers:Wt,anchors:eV(Xe,lt,Nt,kt.isPositionedAtTop),header:kt},urlinput:vn,styles:Rn,colorinput:Kn,dialog:lo,isContextMenuOpen:()=>Tt.get(),setContextMenuState:or=>Tt.set(or)},ss=or=>R.none(),ms={...Uo,shared:{...Uo.shared,interpreter:or=>OP(or,{},ms,ss),getSink:Oe.popup}},Io={...Uo,shared:{...Uo.shared,interpreter:or=>OP(or,{},Io,ss),getSink:Oe.dialog}};return{popup:ms,dialog:Io}})({popup:()=>Ho.fromOption(v.popupUi.get().map(Oe=>Oe.sink),"(popup) UI has not been rendered"),dialog:()=>Ho.fromOption(v.dialogUi.get().map(Oe=>Oe.sink),"UI has not been rendered")},r,fe,pe),we=()=>{const Oe=(()=>{const Uo={attributes:{[Il]:F?qc.BottomToTop:qc.TopToBottom}},ss=rs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:me.popup,onEscape:()=>{r.focus()}}),ms=rs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:me.popup.shared.getSink,providers:me.popup.shared.providers,onEscape:()=>{r.focus()},onToolbarToggled:$i=>{((Qh,Qy)=>{Qh.dispatch("ToggleToolbarDrawer",{state:Qy})})(r,$i)},type:M,lazyToolbar:Se,lazyHeader:()=>te().getOrDie("Could not find header element"),...Uo}),Io=rs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:me.popup.shared.providers,onEscape:()=>{r.focus()},type:M}),or=X2(r),Xn=Y2(r),gs=q2(r),Vr=zR(r),Ga=rs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),qa=or||Xn||gs,ta=Vr?[Ga,ss]:[ss];return rs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(qa?[]:["tox-editor-header--empty"]),...Uo},components:Kt([gs?ta:[],or?[Io]:Xn?[ms]:[],s0(r)?[]:[V.asSpec()]]),sticky:$h(r),editor:r,sharedBackstage:me.popup.shared})})(),Xe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[rs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),rs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},lt=rs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:me.popup}),Nt=rs.parts.viewWrapper({backstage:me.popup}),Tt=FR(r)&&!d?R.some(AM(r,me.popup.shared.providers)):R.none(),kt=Kt([F?[]:[Oe],d?[]:[Xe],F?[Oe]:[]]),Wt=rs.parts.editorContainer({components:Kt([kt,d?[]:[Y.asSpec()]])}),vn=Z_(r),Rn={role:"application",...pd.isRtl()?{dir:"rtl"}:{},...vn?{"aria-hidden":"true"}:{}},Kn=Ji(rs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(N),styles:{visibility:"hidden",...vn?{opacity:"0",border:"0"}:{}},attributes:Rn},components:[Wt,...d?[]:[Nt,...Tt.toArray()],lt],behaviours:Yt([Bi(),ao.config({disableClass:"tox-tinymce--disabled"}),$n.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),lo=SS(Kn);return C.set(lo),{mothership:lo,outerContainer:Kn}},ke=Oe=>{const Xe=_b((Nt=>(kt=>{const Wt=W2(kt),vn=vy(kt),Rn=M_(kt);return Yw(Wt).map(Kn=>Xw(Kn,vn,Rn))})(Nt).getOr(W2(Nt)))(r)),lt=_b((Nt=>X4(Nt).getOr(K2(Nt)))(r));return r.inline||(Ql("div","width",lt)&&bo(Oe.element,"width",lt),Ql("div","height",Xe)?bo(Oe.element,"height",Xe):bo(Oe.element,"height","400px")),Xe};return{popups:{backstage:me.popup,getMothership:()=>TM("popups",E)},dialogs:{backstage:me.dialog,getMothership:()=>TM("dialogs",k)},renderUI:()=>{const Oe=we(),Xe=(()=>{const Nt=j_(r),Tt=dr(Cn(),Nt)&&Ts(Nt,"display")==="grid",kt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(N),attributes:{...pd.isRtl()?{dir:"rtl"}:{}}},behaviours:Yt([va.config({useFixed:()=>b.isDocked(te)})])},Wt={dom:{styles:{width:document.body.clientWidth+"px"}},events:xo([It(Vf(),Kn=>{bo(Kn.element,"width",document.body.clientWidth+"px")})])},vn=Ji(Br(kt,Tt?Wt:{})),Rn=SS(vn);return k.set(Rn),{sink:vn,mothership:Rn}})(),lt=Vh(r)?(()=>{const Nt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(N),attributes:{...pd.isRtl()?{dir:"rtl"}:{}}},behaviours:Yt([va.config({useFixed:()=>b.isDocked(te),getBounds:()=>l.getPopupSinkBounds()})])},Tt=Ji(Nt),kt=SS(Tt);return E.set(kt),{sink:Tt,mothership:kt}})():(Nt=>(E.set(Nt.mothership),Nt))(Xe);return v.dialogUi.set(Xe),v.popupUi.set(lt),v.mainUi.set(Oe),(Nt=>{const{mainUi:Tt,popupUi:kt,uiMotherships:Wt}=Nt;eo(F_(r),(Xn,gs)=>{r.ui.registry.addGroupToolbarButton(gs,Xn)});const{buttons:vn,menuItems:Rn,contextToolbars:Kn,sidebars:lo,views:Uo}=r.ui.registry.getAll(),ss=K_(r),ms={menuItems:Rn,menus:eb(r),menubar:Fh(r),toolbar:ss.getOrThunk(()=>wy(r)),allowToolbarGroups:M===hd.floating,buttons:vn,sidebar:lo,views:Uo};var Io;Io=Tt.outerContainer,r.addShortcut("alt+F9","focus menubar",()=>{rs.focusMenubar(Io)}),r.addShortcut("alt+F10","focus toolbar",()=>{rs.focusToolbar(Io)}),r.addCommand("ToggleToolbarDrawer",(Xn,gs)=>{gs!=null&&gs.skipFocus?rs.toggleToolbarDrawerWithoutFocusing(Io):rs.toggleToolbarDrawer(Io)}),r.addQueryStateHandler("ToggleToolbarDrawer",()=>rs.isToolbarDrawerToggled(Io)),((Xn,gs,Vr)=>{const Ga=(br,Pg)=>{mt([gs,...Vr],bf=>{bf.broadcastEvent(br,Pg)})},qa=(br,Pg)=>{mt([gs,...Vr],bf=>{bf.broadcastOn([br],Pg)})},ta=br=>qa(B(),{target:br.target}),$i=Fa(),Qh=Ka($i,"touchstart",ta),Qy=Ka($i,"touchmove",br=>Ga(Nn(),br)),kb=Ka($i,"touchend",br=>Ga(xu(),br)),ep=Ka($i,"mousedown",ta),fC=Ka($i,"mouseup",br=>{br.raw.button===0&&qa(j(),{target:br.target})}),Eb=br=>qa(B(),{target:un(br.target)}),Rg=br=>{br.button===0&&qa(j(),{target:un(br.target)})},L0=()=>{mt(Xn.editorManager.get(),br=>{Xn!==br&&br.dispatch("DismissPopups",{relatedTarget:Xn})})},M0=br=>Ga(lv(),nf(br)),ex=br=>{qa(H(),{}),Ga(Vf(),nf(br))},Fk=pt(un(Xn.getElement())),mC=g2(Fk,"scroll",br=>{requestAnimationFrame(()=>{if(Xn.getContainer()!=null){const Pg=tb(Xn,gs.element).map(bf=>[bf.element,...bf.others]).getOr([]);kn(Pg,bf=>dr(bf,br.target))&&(Xn.dispatch("ElementScroll",{target:br.target.dom}),Ga(Op(),br))}})}),Ab=()=>qa(H(),{}),Ng=br=>{br.state&&qa(B(),{target:un(Xn.getContainer())})},tp=br=>{qa(B(),{target:un(br.relatedTarget.getContainer())})},gC=br=>Xn.dispatch("focusin",br),hC=br=>Xn.dispatch("focusout",br);Xn.on("PostRender",()=>{Xn.on("click",Eb),Xn.on("tap",Eb),Xn.on("mouseup",Rg),Xn.on("mousedown",L0),Xn.on("ScrollWindow",M0),Xn.on("ResizeWindow",ex),Xn.on("ResizeEditor",Ab),Xn.on("AfterProgressState",Ng),Xn.on("DismissPopups",tp),mt([gs,...Vr],br=>{br.element.dom.addEventListener("focusin",gC),br.element.dom.addEventListener("focusout",hC)})}),Xn.on("remove",()=>{Xn.off("click",Eb),Xn.off("tap",Eb),Xn.off("mouseup",Rg),Xn.off("mousedown",L0),Xn.off("ScrollWindow",M0),Xn.off("ResizeWindow",ex),Xn.off("ResizeEditor",Ab),Xn.off("AfterProgressState",Ng),Xn.off("DismissPopups",tp),mt([gs,...Vr],br=>{br.element.dom.removeEventListener("focusin",gC),br.element.dom.removeEventListener("focusout",hC)}),ep.unbind(),Qh.unbind(),Qy.unbind(),kb.unbind(),fC.unbind(),mC.unbind()}),Xn.on("detach",()=>{mt([gs,...Vr],eA),mt([gs,...Vr],br=>br.destroy())})})(r,Tt.mothership,Wt),b.setup(r,me.popup.shared,te),Sz(r,me.popup),Oz(r,me.popup.shared.getSink,me.popup),(Xn=>{const{sidebars:gs}=Xn.ui.registry.getAll();mt(Ut(gs),Vr=>{const Ga=gs[Vr],qa=()=>ci(R.from(Xn.queryCommandValue("ToggleSidebar")),Vr);Xn.ui.registry.addToggleButton(Vr,{icon:Ga.icon,tooltip:Ga.tooltip,onAction:ta=>{Xn.execCommand("ToggleSidebar",!1,Vr),ta.setActive(qa())},onSetup:ta=>{ta.setActive(qa());const $i=()=>ta.setActive(qa());return Xn.on("ToggleSidebar",$i),()=>{Xn.off("ToggleSidebar",$i)}}})})})(r),oL(r,ge,me.popup.shared),xz(r,Kn,kt.sink,{backstage:me.popup}),kM(r,kt.sink);const or={targetNode:r.getElement(),height:ke(Tt.outerContainer)};return f.render(r,Nt,ms,me.popup,or)})({popupUi:lt,dialogUi:Xe,mainUi:Oe,uiMotherships:v.getUiMotherships()})}}},Fz=Z([Mt("lazySink"),Yo("dragBlockClass"),os("getBounds",Gi),dt("useTabstopAt",ze),dt("firstTabstop",0),dt("eventOrder",{}),Sn("modalBehaviours",[$n]),Al("onExecute"),Da("onEscape")]),pO={sketch:de},bO=Z([Ou({name:"draghandle",overrides:(r,l)=>({behaviours:Yt([N0.config({mode:"mouse",getTarget:d=>tg(d,'[role="dialog"]').getOr(d),blockerClass:r.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:r.getDragBounds})])})}),Dl({schema:[Mt("dom")],name:"title"}),Dl({factory:pO,schema:[Mt("dom")],name:"close"}),Dl({factory:pO,schema:[Mt("dom")],name:"body"}),Ou({factory:pO,schema:[Mt("dom")],name:"footer"}),af({factory:{sketch:(r,l)=>({...r,dom:l.dom,components:l.components})},schema:[dt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),dt("components",[])],name:"blocker"})]),Ls=jl({name:"ModalDialog",configFields:Fz(),partFields:bO(),factory:(r,l,d,f)=>{const b=Or(),v=_n("modal-events"),C={...r.eventOrder,[ga()]:[v].concat(r.eventOrder["alloy.system.attached"]||[])},k=ca();return{uid:r.uid,dom:r.dom,components:l,apis:{show:E=>{b.set(E);const N=r.lazySink(E).getOrDie(),F=f.blocker(),M=N.getSystem().build({...F,components:F.components.concat([ul(E)]),behaviours:Yt([so.config({}),Ao("dialog-blocker-events",[Wf(wr(),()=>{Ed.isBlocked(E)||$n.focusIn(E)})])])});rm(N,M),$n.focusIn(E)},hide:E=>{b.clear(),Ea(E.element).each(N=>{E.getSystem().getByDom(N).each(F=>{fl(F)})})},getBody:E=>Mh(E,r,"body"),getFooter:E=>Qr(E,r,"footer"),setIdle:E=>{Ed.unblock(E)},setBusy:(E,N)=>{Ed.block(E,N)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Eo(r.modalBehaviours,[Jn.config({}),$n.config({mode:"cyclic",onEnter:r.onExecute,onEscape:r.onEscape,useTabstopAt:r.useTabstopAt,firstTabstop:r.firstTabstop}),Ed.config({getRoot:b.get}),Ao(v,[as(E=>{const N=Mh(E,r,"title").element,F=(M=>M.dom.textContent)(N);k.os.isMacOS()&&K(F)?cn(E.element,"aria-label",F):((M,V)=>{const Y=Qo(M,"id").fold(()=>{const te=_n("dialog-label");return cn(V,"id",te),te},de);cn(M,"aria-labelledby",Y)})(E.element,N)})])])}},apis:{show:(r,l)=>{r.show(l)},hide:(r,l)=>{r.hide(l)},getBody:(r,l)=>r.getBody(l),getFooter:(r,l)=>r.getFooter(l),setBusy:(r,l,d)=>{r.setBusy(l,d)},setIdle:(r,l)=>{r.setIdle(l)}}}),$z=Gn([xi,i3].concat(d0)),nC=mc,vO=[m3("button"),vd,Bc("align","end",["start","end"]),iS,yd,uh("buttonType",["primary","secondary"])],Ik=[...vO,bd],yO=[id("type",["submit","cancel","custom"]),...Ik],Vz=[id("type",["menu"]),ab,hw,vd,ll("items",$z),...vO],zz=[...vO,id("type",["togglebutton"]),hw,vd,ab,ri("active",!1)],OM=bi("type",{submit:yO,cancel:yO,custom:yO,menu:Vz,togglebutton:zz}),Hz=[xi,bd,id("level",["info","warn","error","success"]),c3,dt("url","")],xO=Gn(Hz),wO=[xi,bd,yd,m3("button"),vd,MK,uh("buttonType",["primary","secondary","toolbar"]),iS],CO=Gn(wO),qy=[xi,i3],ea=qy.concat([u3]),Uz=qy.concat([a3,yd]),Wz=Gn(Uz),IM=mc,DM=ea.concat([_N("auto")]),Kz=Gn(DM),jz=od([c0,bd,c3]),Zz=ea.concat([ec("storageKey","default")]),Gz=Gn(Zz),qz=ki,Yz=Gn(ea),Xz=ki,RM=qy.concat([ec("tag","textarea"),Ss("scriptId"),Ss("scriptUrl"),vu("onFocus"),Ha("settings",void 0,w1)]),Jz=qy.concat([ec("tag","textarea"),za("init")]),Qz=Mf(r=>_s("customeditor.old",Si(Jz),r).orThunk(()=>_s("customeditor.new",Si(RM),r))),e9=ki,NM=Gn(ea),_O=nd(td),PM=r=>[xi,Ap("columns"),r],LM=[xi,Ss("html"),Bc("presets","presentation",["presentation","document"]),os("onInit",U),ri("stretched",!1)],MM=Gn(LM),BM=ea.concat([ri("border",!1),ri("sandboxed",!0),ri("streamContent",!1),ri("transparent",!0)]),SO=Gn(BM),t9=ki,kO=Gn(qy.concat([Fs("height")])),Yy=Gn([Ss("url"),Bf("zoom"),Bf("cachedWidth"),Bf("cachedHeight")]),FM=ea.concat([Fs("inputMode"),Fs("placeholder"),ri("maximized",!1),yd]),$M=Gn(FM),VM=ki,n9=r=>[xi,a3,r,Bc("align","start",["start","center","end"]),Fs("for")],o9=[bd,c0],Dk=[bd,ll("items",Ep(0,()=>zM))],zM=zm([Gn(o9),Gn(Dk)]),r9=ea.concat([ll("items",zM),yd]),HM=Gn(r9),UM=ki,EO=ea.concat([Um("items",[bd,c0]),Ws("size",1),yd]),WM=Gn(EO),sc=ki,KM=ea.concat([ri("constrain",!0),yd]),s9=Gn(KM),jM=Gn([Ss("width"),Ss("height")]),ZM=qy.concat([a3,Ws("min",0),Ws("max",0)]),i9=Gn(ZM),a9=Zd,l9=[xi,ll("header",ki),ll("cells",nd(ki))],GM=Gn(l9),Dg=ea.concat([Fs("placeholder"),ri("maximized",!1),yd]),AO=Gn(Dg),qM=ki,oC=[id("type",["directory","leaf"]),l3,Ss("id"),Us("menu",QP)],Rk=Gn(oC),c9=oC.concat([ll("children",Ep(0,()=>sd("type",{directory:YM,leaf:Rk})))]),YM=Gn(c9),u9=sd("type",{directory:YM,leaf:Rk}),d9=[xi,ll("items",u9),vu("onLeafAction"),vu("onToggleExpand"),Pr("defaultExpandedIds",[],ki),Fs("defaultSelectedId")],f9=Gn(d9),m9=ea.concat([Bc("filetype","file",["image","media","file"]),yd,Fs("picker_text")]),g9=Gn(m9),XM=Gn([c0,eu]),TO=r=>fi("items","items",{tag:"required",process:{}},nd(Mf(l=>_s(`Checking item of ${r}`,pf,l).fold(d=>Ho.error(al(d)),d=>Ho.value(d))))),pf=Vm(()=>{return sd("type",{alertbanner:xO,bar:Gn((r=TO("bar"),[xi,r])),button:CO,checkbox:Wz,colorinput:Gz,colorpicker:Yz,dropzone:NM,grid:Gn(PM(TO("grid"))),iframe:SO,input:$M,listbox:HM,selectbox:WM,sizeinput:s9,slider:i9,textarea:AO,urlinput:g9,customeditor:Qz,htmlpanel:MM,imagepreview:kO,collection:Kz,label:Gn(n9(TO("label"))),table:GM,tree:f9,panel:JM});var r}),Nk=[xi,dt("classes",[]),ll("items",pf)],JM=Gn(Nk),h9=[m3("tab"),l3,ll("items",pf)],QM=[xi,Um("tabs",h9)],e6=Gn(QM),OO=Ik,Pk=OM,rC=Gn([Ss("title"),Yi("body",sd("type",{panel:JM,tabpanel:e6})),ec("size","normal"),Pr("buttons",[],Pk),dt("initialData",{}),os("onAction",U),os("onChange",U),os("onSubmit",U),os("onClose",U),os("onCancel",U),os("onTabChange",U)]),sC=Gn([id("type",["cancel","custom"]),...OO]),t6=Gn([Ss("title"),Ss("url"),Bf("height"),Bf("width"),C1("buttons",sC),os("onAction",U),os("onCancel",U),os("onClose",U),os("onMessage",U)]),Lk=r=>x(r)?[r].concat(pn(ji(r),Lk)):T(r)?pn(r,Lk):[],n6=r=>h(r.type)&&h(r.name),o6={checkbox:IM,colorinput:qz,colorpicker:Xz,dropzone:_O,input:VM,iframe:t9,imagepreview:Yy,selectbox:sc,sizeinput:jM,slider:a9,listbox:UM,size:jM,textarea:qM,urlinput:XM,customeditor:e9,collection:jz,togglemenuitem:nC},p9=r=>{const l=(f=>Ht(Lk(f),n6))(r),d=pn(l,f=>(b=>R.from(o6[b.type]))(f).fold(()=>[],b=>[Yi(f.name,b)]));return Gn(d)},r6=r=>{var l;return{internalDialog:Va(_s("dialog",rC,r)),dataValidator:p9(r),initialData:(l=r.initialData)!==null&&l!==void 0?l:{}}},P0={open:(r,l)=>{const d=r6(l);return r(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(r,l)=>r(Va(_s("dialog",t6,l))),redial:r=>r6(r)};var b9=Object.freeze({__proto__:null,events:(r,l)=>{const d=(f,b)=>{r.updateState.each(v=>{const C=v(f,b);l.set(C)}),r.renderComponents.each(v=>{const C=v(b,l.get());(r.reuseDom?DA:e0)(f,C)})};return xo([It(gc(),(f,b)=>{const v=b;if(!v.universal){const C=r.channel;ut(v.channels,C)&&d(f,v.data)}}),as((f,b)=>{r.initialData.each(v=>{d(f,v)})})])}}),v9=Object.freeze({__proto__:null,getState:(r,l,d)=>d}),s6=[Mt("channel"),Yo("renderComponents"),Yo("updateState"),Yo("initialData"),ri("reuseDom",!0)];const Sc=Mi({fields:s6,name:"reflecting",active:b9,apis:v9,state:Object.freeze({__proto__:null,init:()=>{const r=Hn(R.none());return{readState:()=>r.get().getOr("none"),get:r.get,set:r.set,clear:()=>r.set(R.none())}}})}),i6=r=>{const l=[],d={};return qn(r,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?Ho.error(l):Ho.value(d)},a6=(r,l,d,f)=>{const b=Sr(hb.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(r.classes)},components:Pe(r.items,k=>ak(C,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:Yt([$n.config({mode:"acyclic",useTabstopAt:Me(By)}),(v=b,ir.config({find:v.getOpt})),CT(b,{postprocess:C=>i6(C).fold(k=>(console.error(k),{}),de)}),Ao("dialog-body-panel",[It(wr(),(C,k)=>{C.getSystem().broadcastOn([YS],{newFocus:R.some(k.event.target)})})])])};var v},y9=Iu({name:"TabButton",configFields:[dt("uid",void 0),Mt("value"),fi("dom","dom",tr(()=>({attributes:{role:"tab",id:_n("aria"),"aria-selected":"false"}})),Kl()),Yo("action"),dt("domModification",{}),Sn("tabButtonBehaviours",[so,$n,gt]),Mt("view")],factory:(r,l)=>({uid:r.uid,dom:r.dom,components:r.components,events:py(r.action),behaviours:Eo(r.tabButtonBehaviours,[so.config({}),$n.config({mode:"execution",useSpace:!0,useEnter:!0}),gt.config({store:{mode:"memory",initialValue:r.value}})]),domModification:r.domModification})}),l6=Z([Mt("tabs"),Mt("dom"),dt("clickToDismiss",!1),Sn("tabbarBehaviours",[Er,$n]),xh(["tabClass","selectedClass"])]),iC=x_({factory:y9,name:"tabs",unit:"tab",overrides:r=>{const l=(f,b)=>{Er.dehighlight(f,b),Bn(f,jt(),{tabbar:f,button:b})},d=(f,b)=>{Er.highlight(f,b),Bn(f,Ip(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(r.uid).getOrDie(),v=Er.isHighlighted(b,f);(v&&r.clickToDismiss?l:v?U:d)(b,f)},domModification:{classes:[r.markers.tabClass]}}}}),x9=Z([iC]),IO=jl({name:"Tabbar",configFields:l6(),partFields:x9(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Eo(r.tabbarBehaviours,[Er.config({highlightClass:r.markers.selectedClass,itemClass:r.markers.tabClass,onHighlight:(b,v)=>{cn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{cn(v.element,"aria-selected","false")}}),$n.config({mode:"flow",getInitial:b=>Er.getHighlighted(b).map(v=>v.element),selector:"."+r.markers.tabClass,executeOnMove:!0})])})}),w9=Iu({name:"Tabview",configFields:[Sn("tabviewBehaviours",[Jn])],factory:(r,l)=>({uid:r.uid,dom:r.dom,behaviours:Eo(r.tabviewBehaviours,[Jn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),C9=Z([dt("selectFirst",!0),nr("onChangeTab"),nr("onDismissTab"),dt("tabs",[]),Sn("tabSectionBehaviours",[])]),_9=Dl({factory:IO,schema:[Mt("dom"),Mc("markers",[Mt("tabClass"),Mt("selectedClass")])],name:"tabbar",defaults:r=>({tabs:r.tabs})}),S9=Dl({factory:w9,name:"tabview"}),c6=Z([_9,S9]),Xy=jl({name:"TabSection",configFields:C9(),partFields:c6(),factory:(r,l,d,f)=>{const b=(v,C)=>{Qr(v,r,"tabbar").each(k=>{C(k).each(Uf)})};return{uid:r.uid,dom:r.dom,components:l,behaviours:to(r.tabSectionBehaviours),events:xo(Kt([r.selectFirst?[as((v,C)=>{b(v,Er.getFirst)})]:[],[It(Ip(),(v,C)=>{(k=>{const E=gt.getValue(k);Qr(k,r,"tabview").each(N=>{Q(r.tabs,F=>F.value===E).each(F=>{const M=F.view();Qo(k.element,"id").each(V=>{cn(N.element,"aria-labelledby",V)}),Jn.set(N,M),r.onChangeTab(N,k,M)})})})(C.event.button)}),It(jt(),(v,C)=>{const k=C.event.button;r.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Qr(v,r,"tabview").map(C=>Jn.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=Er.getCandidates(k);return Q(E,N=>gt.getValue(N)===C).filter(N=>!Er.isHighlighted(k,N))})}}}},apis:{getViewItems:(r,l)=>r.getViewItems(l),showTab:(r,l,d)=>{r.showTab(l,d)}}}),DO=(r,l)=>{bo(r,"height",l+"px"),bo(r,"flex-basis",l+"px")},Jy=(r,l,d)=>{tg(r,'[role="dialog"]').each(f=>{fs(f,'[role="tablist"]').each(b=>{d.get().map(v=>(bo(l,"height","0"),bo(l,"flex-basis","0"),Math.min(v,((C,k,E)=>{const N=ol(C).dom,F=tg(C,".tox-dialog-wrap").getOr(C);let M;M=Ts(F,"position")==="fixed"?Math.max(N.clientHeight,window.innerHeight):Math.max(N.offsetHeight,N.scrollHeight);const V=Os(k),Y=k.dom.offsetLeft>=E.dom.offsetLeft+Ri(E)?Math.max(Os(E),V):V,te=parseInt(Ts(C,"margin-top"),10)||0,fe=parseInt(Ts(C,"margin-bottom"),10)||0;return M-(Os(C)+te+fe-Y)})(f,l,b)))).each(v=>{DO(l,v)})})})},pm=r=>fs(r,'[role="tabpanel"]'),Mk="send-data-to-section",RO="send-data-to-view",u6=(r,l,d,f)=>{const b=Hn({}),v=F=>{const M=gt.getValue(F),V=i6(M).getOr({}),Y=b.get(),te=Br(Y,V);b.set(te)},C=F=>{const M=b.get();gt.setValue(F,M)},k=Hn(null),E=Pe(r.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$s(d.shared.providers.translate(F.title))],view:()=>[hb.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:Pe(F.items,V=>ak(M,V,l,d,f)),formBehaviours:Yt([$n.config({mode:"acyclic",useTabstopAt:Me(By)}),Ao("TabView.form.events",[as(C),cd(v)]),Ol.config({channels:Gd([{key:Mk,value:{onReceive:v}},{key:RO,value:{onReceive:C}}])})])}))]})),N=(F=>{const M=Or();return{extraEvents:[as(Y=>{const te=Y.element;pm(te).each(fe=>{bo(fe,"visibility","hidden"),Y.getSystem().getByDom(fe).toOptional().each(pe=>{const Se=((me,we,ke)=>Pe(me,(Oe,Xe)=>{Jn.set(ke,me[Xe].view());const lt=we.dom.getBoundingClientRect();return Jn.set(ke,[]),lt.height}))(F,fe,pe);(me=>Re(be(me,(we,ke)=>we>ke?-1:we<ke?1:0)))(Se).fold(M.clear,M.set)}),Jy(te,fe,M),kr(fe,"visibility"),((pe,Se)=>{Re(pe).each(ge=>Xy.showTab(Se,ge.value))})(F,Y),requestAnimationFrame(()=>{Jy(te,fe,M)})})}),It(Vf(),Y=>{const te=Y.element;pm(te).each(fe=>{Jy(te,fe,M)})}),It(ES,(Y,te)=>{const fe=Y.element;pm(fe).each(pe=>{const Se=ku(pt(pe));bo(pe,"visibility","hidden");const ge=oi(pe,"height").map(we=>parseInt(we,10));kr(pe,"height"),kr(pe,"flex-basis");const me=pe.dom.getBoundingClientRect().height;ge.forall(we=>me>we)?(M.set(me),Jy(fe,pe,M)):ge.each(we=>{DO(pe,we)}),kr(pe,"visibility"),Se.each(Wa)})})],selectFirst:!1}})(E);return Xy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,M,V)=>{const Y=gt.getValue(M);Bn(F,_5,{name:Y,oldName:k.get()}),k.set(Y)},tabs:E,components:[Xy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Yt([Gr.config({})])}),Xy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:N.selectFirst,tabSectionBehaviours:Yt([Ao("tabpanel",N.extraEvents),$n.config({mode:"acyclic"}),ir.config({find:F=>Re(Xy.getViewItems(F))}),C0(R.none(),F=>(F.getSystem().broadcastOn([Mk],{}),b.get()),(F,M)=>{b.set(M),F.getSystem().broadcastOn([RO],{})})])})},Bk=(r,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:Yt([xT(0),Sc.config({channel:`${Q5}-${l}`,updateState:(C,k)=>R.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[u6(k,C.initialData,f,v)]:[a6(k,C.initialData,f,v)]},initialData:r})])}),d6=cm.deviceType.isTouch(),aC=(r,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[r,l]}),NO=(r,l)=>Ls.parts.close(Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:r,buttonBehaviours:Yt([Gr.config({})])})),PO=()=>Ls.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),f6=(r,l)=>Ls.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:pg(`<p>${tN(l.translate(r))}</p>`)}]}]}),m6=r=>Ls.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:r}),g6=(r,l)=>[df.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:r}),df.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],LO=r=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return Ls.sketch({lazySink:r.lazySink,onEscape:v=>(r.onEscape(v),R.some(!0)),useTabstopAt:v=>!By(v),firstTabstop:r.firstTabstop,dom:{tag:"div",classes:[l].concat(r.extraClasses),styles:{position:"relative",...r.extraStyles}},components:[r.header,r.body,...r.footer.toArray()],parts:{blocker:{dom:pg(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:d6?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:Yt([so.config({}),Ao("dialog-events",r.dialogEvents.concat([Wf(wr(),(v,C)=>{Ed.isBlocked(v)||$n.focusIn(v)}),It(S1(),(v,C)=>{v.getSystem().broadcastOn([YS],{newFocus:C.event.newFocus})})])),Ao("scroll-lock",[as(()=>{Es(Cn(),b)}),cd(()=>{Rs(Cn(),b)})]),...r.extraBehaviours]),eventOrder:{[El()]:["dialog-events"],[ga()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[$c()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...r.eventOrder}})},h6=r=>Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Yt([Gr.config({}),ai.config(r.tooltips.getConfig({tooltipText:r.translate("Close")}))]),components:[Qc("close",{tag:"span",classes:["tox-icon"]},r.icons)],action:l=>{No(l,Kh)}}),MO=(r,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:Yt([Sc.config({channel:`${IT}-${l}`,initialData:r,renderComponents:b=>[$s(f.translate(b.title))]})])}),BO=()=>({dom:pg('<div class="tox-dialog__draghandle"></div>')}),p6=(r,l,d)=>((f,b,v)=>{const C=Ls.parts.title(MO(f,b,R.none(),v)),k=Ls.parts.draghandle(BO()),E=Ls.parts.close(h6(v)),N=[C].concat(f.draggable?[k]:[]).concat([E]);return df.sketch({dom:pg('<div class="tox-dialog__header"></div>'),components:N})})({title:d.shared.providers.translate(r),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),b6=(r,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(r)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:pg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),v6=(r,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=fs(r().element,".tox-dialog__header").map(v=>Os(v));Ls.setBusy(r(),(v,C)=>b6(f.message,C,l,b))},onUnblock:()=>{Ls.setIdle(r())}}),lC="tox-dialog--fullscreen",FO="tox-dialog--width-lg",$O="tox-dialog--width-md",cC=r=>{switch(r){case"large":return R.some(FO);case"medium":return R.some($O);default:return R.none()}},VO=(r,l)=>{const d=un(l.element.dom);cl(d,lC)||(pc(d,[FO,$O]),cC(r).each(f=>Es(d,f)))},y6=(r,l)=>{const d=un(r.element.dom),f=Xd(d),b=Q(f,v=>v===FO||v===$O).or(cC(l));((v,C)=>{mt(C,k=>{((E,N)=>{hh(E)?E.dom.classList.toggle(N):((F,M)=>ut(uv(F),M)?$x(F,M):A1(F,M))(E,N),dv(E)})(v,k)})})(d,[lC,...b.toArray()])},x6=(r,l,d)=>Ji(LO({...r,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[Pw({}),...r.extraBehaviours],onEscape:f=>{No(f,Kh)},dialogEvents:l,eventOrder:{[gc()]:[Sc.name(),Ol.name()],[ga()]:["scroll-lock",Sc.name(),"messages","dialog-events","alloy.base.behaviour"],[$c()]:["alloy.base.behaviour","dialog-events","messages",Sc.name(),"scroll-lock"]}})),uC=(r,l={})=>Pe(r,d=>d.type==="menu"?(f=>{const b=Pe(f.items,v=>{const C=En(l,v.name).getOr(Hn(!1));return{...v,storage:C}});return{...f,items:b}})(d):d),w6=r=>nn(r,(l,d)=>d.type==="menu"?nn(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),zO=(r,l)=>[gh(wr(),P$),r(fb,(d,f,b,v)=>{ku(pt(v.element)).fold(U,Av),l.onClose(),f.onClose()}),r(Kh,(d,f,b,v)=>{f.onCancel(d),No(v,fb)}),It(Y3,(d,f)=>l.onUnblock()),It(q3,(d,f)=>l.onBlock(f.event))],C6=(r,l,d)=>{const f=(v,C)=>It(v,(k,E)=>{b(k,(N,F)=>{C(r(),N,E.event,k)})}),b=(v,C)=>{Sc.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...zO(f,l),f(Ow,(v,C)=>C.onSubmit(v)),f(hl,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(gm,(v,C,k,E)=>{const N=()=>E.getSystem().isConnected()?$n.focusIn(E):void 0,F=Y=>Bs(Y,"disabled")||Qo(Y,"aria-disabled").exists(te=>te==="true"),M=pt(E.element),V=ku(M);C.onAction(v,{name:k.name,value:k.value}),ku(M).fold(N,Y=>{F(Y)||V.exists(te=>Ms(Y,te)&&F(te))?N():d().toOptional().filter(te=>!Ms(te.element,Y)).each(N)})}),f(_5,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),cd(v=>{const C=r();gt.setValue(v,C.getData())})]},k9=(r,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=po(d,v=>v.align==="start"),b=(v,C)=>df.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Pe(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},_6=(r,l,d)=>({dom:pg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Yt([Sc.config({channel:`${eP}-${l}`,initialData:r,updateState:(f,b)=>{const v=Pe(b.buttons,C=>{const k=Sr(((E,N)=>Vy(E,E.type,N))(C,d));return{name:C.name,align:C.align,memento:k}});return R.some({lookupByName:C=>((k,E,N)=>Q(E,F=>F.name===N).bind(F=>F.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:k9})])}),HO=(r,l,d)=>Ls.parts.footer(_6(r,l,d)),dC=(r,l)=>{if(r.getRoot().getSystem().isConnected()){const d=ir.getCurrent(r.getFormWrapper()).getOr(r.getFormWrapper());return hb.getField(d,l).orThunk(()=>r.getFooter().bind(b=>Sc.getState(b).get()).bind(b=>b.lookupByName(l)))}return R.none()},S6=(r,l,d)=>{const f=v=>{const C=r.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=r.getRoot(),C=v.getSystem().isConnected()?r.getFormWrapper():v;return{...gt.getValue(C),...eo(d,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=Br(k,v),N=((M,V)=>{const Y=M.getRoot();return Sc.getState(Y).get().map(te=>Va(_s("data",te.dataValidator,V))).getOr(V)})(r,E),F=r.getFormWrapper();gt.setValue(F,N),qn(d,(M,V)=>{uo(E,V)&&M.set(E[V])})})},setEnabled:(v,C)=>{dC(r,v).each(C?ao.enable:ao.disable)},focus:v=>{dC(r,v).each(so.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{Bn(C,q3,{message:v})})},unblock:()=>{f(v=>{No(v,Y3)})},showTab:v=>{f(C=>{const k=r.getBody();Sc.getState(k).get().exists(E=>E.isTabPanel())&&ir.getCurrent(k).each(E=>{Xy.showTab(E,v)})})},redial:v=>{f(C=>{const k=r.getId(),E=l(v),N=uC(E.internalDialog.buttons,d);C.getSystem().broadcastOn([`${pb}-${k}`],E),C.getSystem().broadcastOn([`${IT}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${Q5}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${eP}-${k}`],{...E.internalDialog,buttons:N}),b.setData(E.initialData)})},close:()=>{f(v=>{No(v,fb)})},toggleFullscreen:r.toggleFullscreen};return b},k6=(r,l,d,f=!1,b)=>{const v=_n("dialog"),C=_n("dialog-label"),k=_n("dialog-content"),E=r.internalDialog,N=Hn(E.size),F=cC(N.get()).toArray(),M=Sr(((ke,Oe,Xe,lt)=>df.sketch({dom:pg('<div class="tox-dialog__header"></div>'),components:[MO(ke,Oe,R.some(Xe),lt),BO(),h6(lt)],containerBehaviours:Yt([N0.config({mode:"mouse",blockerClass:"blocker",getTarget:Nt=>dd(Nt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,d.shared.providers)),V=Sr(((ke,Oe,Xe,lt,Nt,Tt)=>Bk(ke,Oe,R.some(Xe),lt,Nt,Tt))({body:E.body,initialData:E.initialData},v,k,d,f,ke=>dC(me,ke))),Y=uC(E.buttons),te=w6(Y),fe=ur(Y.length!==0,Sr(((ke,Oe,Xe)=>_6(ke,Oe,Xe))({buttons:Y},v,d))),pe=C6(()=>we,{onBlock:ke=>{Ed.block(ge,(Oe,Xe)=>{const lt=M.getOpt(ge).map(Nt=>Os(Nt.element));return b6(ke.message,Xe,d.shared.providers,lt)})},onUnblock:()=>{Ed.unblock(ge)},onClose:()=>l.closeWindow()},d.shared.getSink),Se=ca().os,ge=Ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...Se.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[gc()]:[Sc.name(),Ol.name()],[El()]:["execute-on-form"],[ga()]:["reflecting","execute-on-form"]},behaviours:Yt([$n.config({mode:"cyclic",onEscape:ke=>(No(ke,fb),R.some(!0)),useTabstopAt:ke=>!By(ke)&&(nl(ke)!=="button"||Ko(ke,"disabled")!=="disabled"),firstTabstop:1}),Sc.config({channel:`${pb}-${v}`,updateState:(ke,Oe)=>(N.set(Oe.internalDialog.size),VO(Oe.internalDialog.size,ke),b(),R.some(Oe)),initialData:r}),so.config({}),Ao("execute-on-form",pe.concat([Wf(wr(),(ke,Oe)=>{$n.focusIn(ke)}),It(S1(),(ke,Oe)=>{ke.getSystem().broadcastOn([YS],{newFocus:Oe.event.newFocus})})])),Ed.config({getRoot:()=>R.some(ge)}),Jn.config({}),Pw({})]),components:[M.asSpec(),V.asSpec(),...fe.map(ke=>ke.asSpec()).toArray()]}),me={getId:Z(v),getRoot:Z(ge),getFooter:()=>fe.map(ke=>ke.get(ge)),getBody:()=>V.get(ge),getFormWrapper:()=>{const ke=V.get(ge);return ir.getCurrent(ke).getOr(ke)},toggleFullscreen:()=>{y6(ge,N.get())}},we=S6(me,l.redial,te);return{dialog:ge,instanceApi:we}};var UO=tinymce.util.Tools.resolve("tinymce.util.URI");const E9=["insertContent","setContent","execCommand","close","block","unblock"],WO=r=>x(r)&&E9.indexOf(r.mceAction)!==-1,A9=(r,l,d,f)=>{const b=_n("dialog"),v=p6(r.title,b,f),C=(Se=>{const ge={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[TT(R.none(),{dom:{tag:"iframe",attributes:{src:Se.url}},behaviours:Yt([Gr.config({}),so.config({})])})]}],behaviours:Yt([$n.config({mode:"acyclic",useTabstopAt:Me(By)})])};return Ls.parts.body(ge)})(r),k=r.buttons.bind(Se=>Se.length===0?R.none():R.some(HO({buttons:Se},b,f))),E=((Se,ge)=>{const me=(ke,Oe)=>It(ke,(Xe,lt)=>{we(Xe,(Nt,Tt)=>{Oe(pe,Nt,lt.event,Xe)})}),we=(ke,Oe)=>{Sc.getState(ke).get().each(Xe=>{Oe(Xe,ke)})};return[...zO(me,ge),me(gm,(ke,Oe,Xe)=>{Oe.onAction(ke,{name:Xe.name})})]})(0,v6(()=>fe,f.shared.providers,l)),N={...r.height.fold(()=>({}),Se=>({height:Se+"px","max-height":Se+"px"})),...r.width.fold(()=>({}),Se=>({width:Se+"px","max-width":Se+"px"}))},F=r.width.isNone()&&r.height.isNone()?["tox-dialog--width-lg"]:[],M=new UO(r.url,{base_uri:new UO(window.location.href)}),V=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,Y=Lc(),te=[Sc.config({channel:`${pb}-${b}`,updateState:(Se,ge)=>R.some(ge),initialData:r}),Ao("messages",[as(()=>{const Se=Ka(un(window),"message",ge=>{if(M.isSameOrigin(new UO(ge.raw.origin))){const me=ge.raw.data;WO(me)?((we,ke,Oe)=>{switch(Oe.mceAction){case"insertContent":we.insertContent(Oe.content);break;case"setContent":we.setContent(Oe.content);break;case"execCommand":const Xe=!!I(Oe.ui)&&Oe.ui;we.execCommand(Oe.cmd,Xe,Oe.value);break;case"close":ke.close();break;case"block":ke.block(Oe.message);break;case"unblock":ke.unblock()}})(d,pe,me):(we=>!WO(we)&&x(we)&&uo(we,"mceAction"))(me)&&r.onMessage(pe,me)}});Y.set(Se)}),cd(Y.clear)]),Ol.config({channels:{[DT]:{onReceive:(Se,ge)=>{fs(Se.element,"iframe").each(me=>{const we=me.dom.contentWindow;K(we)&&we.postMessage(ge,V)})}}}})],fe=x6({id:b,header:v,body:C,footer:k,extraClasses:F,extraBehaviours:te,extraStyles:N},E,f),pe=(Se=>{const ge=me=>{Se.getSystem().isConnected()&&me(Se)};return{block:me=>{if(!h(me))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ge(we=>{Bn(we,q3,{message:me})})},unblock:()=>{ge(me=>{No(me,Y3)})},close:()=>{ge(me=>{No(me,fb)})},sendMessage:me=>{ge(we=>{we.getSystem().broadcastOn([DT],me)})}}})(fe);return{dialog:fe,instanceApi:pe}},KO=(r,l)=>Va(_s("data",l,r)),E6=r=>Py(r,".tox-alert-dialog")||Py(r,".tox-confirm-dialog"),T9=(r,l,d)=>l&&d?[]:[ds.config({contextual:{lazyContext:()=>R.some(di(un(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>tb(r,f.element).map(b=>({bounds:nb(b),optScrollEnv:R.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Ul(b.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})],O9=r=>{const l=r.editor,d=$h(l),f=(E=>{const N=E.shared;return{open:(F,M)=>{const V=()=>{Ls.hide(pe),M()},Y=Sr(Vy({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",E)),te=PO(),fe=NO(V,N.providers),pe=Ji(LO({lazySink:()=>N.getSink(),header:aC(te,fe),body:f6(F,N.providers),footer:R.some(m6(g6([],[Y.asSpec()]))),onEscape:V,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[It(Kh,V)],eventOrder:{}}));Ls.show(pe);const Se=Y.get(pe);so.focus(Se)}}})(r.backstages.dialog),b=(E=>{const N=E.shared;return{open:(F,M)=>{const V=me=>{Ls.hide(Se),M(me)},Y=Sr(Vy({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",E)),te=Vy({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",E),fe=PO(),pe=NO(()=>V(!1),N.providers),Se=Ji(LO({lazySink:()=>N.getSink(),header:aC(fe,pe),body:f6(F,N.providers),footer:R.some(m6(g6([],[te,Y.asSpec()]))),onEscape:()=>V(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[It(Kh,()=>V(!1)),It(Ow,()=>V(!0))],eventOrder:{}}));Ls.show(Se);const ge=Y.get(Se);so.focus(ge)}}})(r.backstages.dialog),v=(E,N)=>P0.open((F,M,V)=>{const Y=M,te=((fe,pe,Se)=>{const ge=_n("dialog"),me=fe.internalDialog,we=p6(me.title,ge,Se),ke=Hn(me.size),Oe=cC(ke.get()).toArray(),Xe=((lo,Uo,ss,ms)=>{const Io=Bk(lo,Uo,R.none(),ss,!1,ms);return Ls.parts.body(Io)})({body:me.body,initialData:me.initialData},ge,Se,lo=>dC(Rn,lo)),lt=uC(me.buttons),Nt=w6(lt),Tt=ur(lt.length!==0,HO({buttons:lt},ge,Se)),kt=C6(()=>Kn,v6(()=>vn,Se.shared.providers,pe),Se.shared.getSink),Wt={id:ge,header:we,body:Xe,footer:Tt,extraClasses:Oe,extraBehaviours:[Sc.config({channel:`${pb}-${ge}`,updateState:(lo,Uo)=>(ke.set(Uo.internalDialog.size),VO(Uo.internalDialog.size,lo),R.some(Uo)),initialData:fe})],extraStyles:{}},vn=x6(Wt,kt,Se),Rn={getId:Z(ge),getRoot:Z(vn),getBody:()=>Ls.getBody(vn),getFooter:()=>Ls.getFooter(vn),getFormWrapper:()=>{const lo=Ls.getBody(vn);return ir.getCurrent(lo).getOr(lo)},toggleFullscreen:()=>{y6(vn,ke.get())}},Kn=S6(Rn,pe.redial,Nt);return{dialog:vn,instanceApi:Kn}})({dataValidator:V,initialData:Y,internalDialog:F},{redial:P0.redial,closeWindow:()=>{Ls.hide(te.dialog),N(te.instanceApi)}},r.backstages.dialog);return Ls.show(te.dialog),te.instanceApi.setData(Y),te.instanceApi},E),C=(E,N,F,M)=>P0.open((V,Y,te)=>{const fe=KO(Y,te),pe=Or(),Se=r.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(ke=>{vs.reposition(ke),d&&Se||ds.refresh(ke)}),me=k6({dataValidator:te,initialData:fe,internalDialog:V},{redial:P0.redial,closeWindow:()=>{pe.on(vs.hide),l.off("ResizeEditor",ge),pe.clear(),F(me.instanceApi)}},r.backstages.popup,M.ariaAttrs,ge),we=Ji(vs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yt([Ao("window-manager-inline-events",[It(mh(),(ke,Oe)=>{No(me.dialog,Kh)})]),...T9(l,d,Se)]),isExtraPart:(ke,Oe)=>E6(Oe)}));return pe.set(we),vs.showWithinBounds(we,ul(me.dialog),{anchor:N},()=>{const ke=l.inline?Cn():un(l.getContainer()),Oe=di(ke);return R.some(Oe)}),d&&Se||(ds.refresh(we),l.on("ResizeEditor",ge)),me.instanceApi.setData(fe),$n.focusIn(me.dialog),me.instanceApi},E),k=(E,N,F,M)=>P0.open((V,Y,te)=>{const fe=KO(Y,te),pe=Or(),Se=r.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(ke=>{vs.reposition(ke),ds.refresh(ke)}),me=k6({dataValidator:te,initialData:fe,internalDialog:V},{redial:P0.redial,closeWindow:()=>{pe.on(vs.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ge),pe.clear(),F(me.instanceApi)}},r.backstages.popup,M.ariaAttrs,ge),we=Ji(vs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yt([Ao("window-manager-inline-events",[It(mh(),(ke,Oe)=>{No(me.dialog,Kh)})]),ds.config({contextual:{lazyContext:()=>R.some(di(un(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ke=>tb(l,ke.element).map(Oe=>({bounds:nb(Oe),optScrollEnv:R.some({currentScrollTop:Oe.element.dom.scrollTop,scrollElmTop:Ul(Oe.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})]),isExtraPart:(ke,Oe)=>E6(Oe)}));return pe.set(we),vs.showWithinBounds(we,ul(me.dialog),{anchor:N},()=>r.backstages.popup.shared.getSink().toOptional().bind(ke=>{const Oe=tb(l,ke.element).map(Nt=>nb(Nt)).getOr(Gi()),Xe=di(un(l.getContentAreaContainer())),lt=Wd(Xe,Oe);return R.some(Lo(lt.x,lt.y,lt.width,lt.height-15))})),ds.refresh(we),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ge),me.instanceApi.setData(fe),$n.focusIn(me.dialog),me.instanceApi},E);return{open:(E,N,F)=>{if(!P(N)){if(N.inline==="toolbar")return C(E,r.backstages.popup.shared.anchors.inlineDialog(),F,N);if(N.inline==="bottom")return k(E,r.backstages.popup.shared.anchors.inlineBottomDialog(),F,N);if(N.inline==="cursor")return C(E,r.backstages.popup.shared.anchors.cursor(),F,N)}return v(E,F)},openUrl:(E,N)=>((F,M)=>P0.openUrl(V=>{const Y=A9(V,{closeWindow:()=>{Ls.hide(Y.dialog),M(Y.instanceApi)}},l,r.backstages.dialog);return Ls.show(Y.dialog),Y.instanceApi},F))(E,N),alert:(E,N)=>{f.open(E,N)},close:E=>{E.close()},confirm:(E,N)=>{b.open(E,N)}}};Sp.add("silver",r=>{(k=>{RR(k),(E=>{const N=E.options.register,F=V=>oe(V,h)?{value:q7(V),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=V=>J(V)&&V>0?{value:V,valid:!0}:{valid:!1,message:"Must be a positive number."};N("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),N("color_map_background",{processor:F}),N("color_map_foreground",{processor:F}),N("color_cols",{processor:M,default:vS(E)}),N("color_cols_foreground",{processor:M,default:e5(E,T3)}),N("color_cols_background",{processor:M,default:e5(E,O3)}),N("custom_colors",{processor:"boolean",default:!0}),N("color_default_foreground",{processor:"string",default:Cw}),N("color_default_background",{processor:"string",default:Cw})})(k),(E=>{const N=E.options.register;N("contextmenu_avoid_overlap",{processor:"string",default:""}),N("contextmenu_never_use_native",{processor:"boolean",default:!1}),N("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:h(F)||oe(F,h)?{value:qL(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(r);let l=()=>Gi();const{dialogs:d,popups:f,renderUI:b}=Bz(r,{getPopupSinkBounds:()=>l()});y5(r,f.backstage.shared);const v=O9({editor:r,backstages:{popup:f.backstage,dialog:d.backstage}}),C=Or();return{renderUI:()=>{const k=b();return tb(r,f.getMothership().element).each(E=>{l=()=>nb(E)}),k},getWindowManagerImpl:Z(v),getNotificationManagerImpl:()=>sN(r,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const s=y=>S=>(O=>{const B=typeof O;return O===null?"null":B==="object"&&Array.isArray(O)?"array":B==="object"&&(H=j=O,(se=String).prototype.isPrototypeOf(H)||((ce=j.constructor)===null||ce===void 0?void 0:ce.name)===se.name)?"string":B;var H,j,se,ce})(S)===y,i=y=>S=>typeof S===y,u=y=>S=>y===S,m=s("string"),h=s("object"),x=s("array"),w=u(null),T=i("boolean"),D=u(void 0),I=y=>!(S=>S==null)(y),P=i("function"),z=i("number"),K=()=>{},W=y=>()=>y,J=y=>y,oe=(y,S)=>y===S;function U(y,...S){return(...O)=>{const B=S.concat(O);return y.apply(null,B)}}const he=y=>S=>!y(S),ue=y=>y(),Z=W(!1),de=W(!0);class re{constructor(S,O){this.tag=S,this.value=O}static some(S){return new re(!0,S)}static none(){return re.singletonNone}fold(S,O){return this.tag?O(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?re.some(S(this.value)):re.none()}bind(S){return this.tag?S(this.value):re.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:re.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return I(S)?re.some(S):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const Ve=Array.prototype.slice,Me=Array.prototype.indexOf,Ye=Array.prototype.push,it=(y,S)=>{return O=y,B=S,Me.call(O,B)>-1;var O,B},Ae=(y,S)=>{for(let O=0,B=y.length;O<B;O++)if(S(y[O],O))return!0;return!1},ze=(y,S)=>{const O=[];for(let B=0;B<y;B++)O.push(S(B));return O},R=(y,S)=>{const O=y.length,B=new Array(O);for(let H=0;H<O;H++){const j=y[H];B[H]=S(j,H)}return B},Fe=(y,S)=>{for(let O=0,B=y.length;O<B;O++)S(y[O],O)},Ze=(y,S)=>{const O=[],B=[];for(let H=0,j=y.length;H<j;H++){const se=y[H];(S(se,H)?O:B).push(se)}return{pass:O,fail:B}},Ot=(y,S)=>{const O=[];for(let B=0,H=y.length;B<H;B++){const j=y[B];S(j,B)&&O.push(j)}return O},Gt=(y,S,O)=>(((B,H)=>{for(let j=B.length-1;j>=0;j--)H(B[j],j)})(y,(B,H)=>{O=S(O,B,H)}),O),ut=(y,S,O)=>(Fe(y,(B,H)=>{O=S(O,B,H)}),O),kn=(y,S)=>((O,B,H)=>{for(let j=0,se=O.length;j<se;j++){const ce=O[j];if(B(ce,j))return re.some(ce);if(H(ce,j))break}return re.none()})(y,S,Z),Et=(y,S)=>{for(let O=0,B=y.length;O<B;O++)if(S(y[O],O))return re.some(O);return re.none()},tt=y=>{const S=[];for(let O=0,B=y.length;O<B;++O){if(!x(y[O]))throw new Error("Arr.flatten item "+O+" was not an array, input: "+y);Ye.apply(S,y[O])}return S},Pe=(y,S)=>tt(R(y,S)),mt=(y,S)=>{for(let O=0,B=y.length;O<B;++O)if(S(y[O],O)!==!0)return!1;return!0},po=(y,S)=>{const O={};for(let B=0,H=y.length;B<H;B++){const j=y[B];O[String(j)]=S(j,B)}return O},Ht=(y,S)=>S>=0&&S<y.length?re.some(y[S]):re.none(),On=y=>Ht(y,0),nn=y=>Ht(y,y.length-1),Q=(y,S)=>{for(let O=0;O<y.length;O++){const B=S(y[O],O);if(B.isSome())return B}return re.none()},co=Object.keys,Kt=Object.hasOwnProperty,pn=(y,S)=>{const O=co(y);for(let B=0,H=O.length;B<H;B++){const j=O[B];S(y[j],j)}},je=(y,S)=>nt(y,(O,B)=>({k:B,v:S(O,B)})),nt=(y,S)=>{const O={};return pn(y,(B,H)=>{const j=S(B,H);O[j.k]=j.v}),O},xe=(y,S)=>{const O=[];return pn(y,(B,H)=>{O.push(S(B,H))}),O},Te=y=>xe(y,J),$e=(y,S)=>Kt.call(y,S),be=typeof window<"u"?window:Function("return this;")(),Ce=(y,S)=>((O,B)=>{let H=B??be;for(let j=0;j<O.length&&H!=null;++j)H=H[O[j]];return H})(y.split("."),S),Re=Object.getPrototypeOf,qe=y=>{const S=Ce("ownerDocument.defaultView",y);return h(y)&&((O=>((B,H)=>{const j=((se,ce)=>Ce(se,ce))(B,H);if(j==null)throw new Error(B+" not available on this browser");return j})("HTMLElement",O))(S).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Re(y).constructor.name))},ht=y=>y.dom.nodeName.toLowerCase(),sn=y=>y.dom.nodeType,Ut=y=>S=>sn(S)===y,bn=y=>sn(y)===8||ht(y)==="#comment",qn=y=>eo(y)&&qe(y.dom),eo=Ut(1),Fo=Ut(3),Do=Ut(9),Zr=Ut(11),cr=y=>S=>eo(S)&&ht(S)===y,ti=(y,S,O)=>{if(!(m(O)||T(O)||z(O)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",O,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(S,O+"")},xr=(y,S,O)=>{ti(y.dom,S,O)},ji=(y,S)=>{const O=y.dom;pn(S,(B,H)=>{ti(O,H,B)})},En=(y,S)=>{const O=y.dom.getAttribute(S);return O===null?void 0:O},uo=(y,S)=>re.from(En(y,S)),Oo=(y,S)=>{y.dom.removeAttribute(S)},ci=y=>ut(y.dom.attributes,(S,O)=>(S[O.name]=O.value,S),{}),tl=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Xt={fromHtml:(y,S)=>{const O=(S||document).createElement("div");if(O.innerHTML=y,!O.hasChildNodes()||O.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return tl(O.childNodes[0])},fromTag:(y,S)=>{const O=(S||document).createElement(y);return tl(O)},fromText:(y,S)=>{const O=(S||document).createTextNode(y);return tl(O)},fromDom:tl,fromPoint:(y,S,O)=>re.from(y.dom.elementFromPoint(S,O)).map(tl)},pi=(y,S)=>{const O=y.dom;if(O.nodeType!==1)return!1;{const B=O;if(B.matches!==void 0)return B.matches(S);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(S);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(S);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},ur=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Yl=(y,S)=>{const O=S===void 0?document:S.dom;return ur(O)?re.none():re.from(O.querySelector(y)).map(Xt.fromDom)},Wr=(y,S)=>y.dom===S.dom,ni=(y,S)=>{const O=y.dom,B=S.dom;return O!==B&&O.contains(B)},Dm=pi,Gu=y=>Xt.fromDom(y.dom.ownerDocument),Rc=y=>Do(y)?y:Gu(y),xl=y=>re.from(y.dom.parentNode).map(Xt.fromDom),qu=y=>re.from(y.dom.parentElement).map(Xt.fromDom),Nr=(y,S)=>{const O=P(S)?S:Z;let B=y.dom;const H=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const j=B.parentNode,se=Xt.fromDom(j);if(H.push(se),O(se)===!0)break;B=j}return H},fo=y=>re.from(y.dom.previousSibling).map(Xt.fromDom),Xl=y=>re.from(y.dom.nextSibling).map(Xt.fromDom),Di=y=>R(y.dom.childNodes,Xt.fromDom),Yu=(y,S)=>{const O=y.dom.childNodes;return re.from(O[S]).map(Xt.fromDom)},un=(y,S)=>{xl(y).each(O=>{O.dom.insertBefore(S.dom,y.dom)})},Xu=(y,S)=>{Xl(y).fold(()=>{xl(y).each(O=>{ps(O,S)})},O=>{un(O,S)})},Rm=(y,S)=>{(B=>Yu(B,0))(y).fold(()=>{ps(y,S)},B=>{y.dom.insertBefore(S.dom,B.dom)})},ps=(y,S)=>{y.dom.appendChild(S.dom)},Nm=(y,S)=>{un(y,S),ps(S,y)},nl=(y,S)=>{Fe(S,(O,B)=>{const H=B===0?y:S[B-1];Xu(H,O)})},zl=(y,S)=>{Fe(S,O=>{ps(y,O)})},wl=y=>{y.dom.textContent="",Fe(Di(y),S=>{ls(S)})},ls=y=>{const S=y.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},ka=y=>{const S=Di(y);S.length>0&&nl(y,S),ls(y)},Hl=(y,S)=>Xt.fromDom(y.dom.cloneNode(S)),Pm=y=>Hl(y,!1),au=y=>Hl(y,!0),lu=(y,S)=>{const O=Xt.fromTag(S),B=ci(y);return ji(O,B),O},Ef=["tfoot","thead","tbody","colgroup"],$d=(y,S,O)=>({element:y,rowspan:S,colspan:O}),dr=(y,S,O)=>({element:y,cells:S,section:O}),Ms=(y,S,O)=>({element:y,isNew:S,isLocked:O}),ui=(y,S,O,B)=>({element:y,cells:S,section:O,isNew:B}),Lm=y=>Xt.fromDom(y.dom.host),ol=y=>{const S=Fo(y)?y.dom.parentNode:y.dom;if(S==null||S.ownerDocument===null)return!1;const O=S.ownerDocument;return(j=>{const se=(_e=>Xt.fromDom(_e.dom.getRootNode()))(j);return Zr(ce=se)&&I(ce.dom.host)?re.some(se):re.none();var ce})(Xt.fromDom(S)).fold(()=>O.body.contains(S),(B=ol,H=Lm,j=>B(H(j))));var B,H},cu=y=>{const S=y.dom.body;if(S==null)throw new Error("Body is not available yet");return Xt.fromDom(S)},Ea=(y,S)=>{let O=[];return Fe(Di(y),B=>{S(B)&&(O=O.concat([B])),O=O.concat(Ea(B,S))}),O},Aa=(y,S,O)=>((B,H,j)=>Ot(Nr(B,j),se=>pi(se,S)))(y,0,O),uu=(y,S)=>((O,B)=>Ot(Di(O),H=>pi(H,S)))(y),Mr=(y,S)=>((O,B)=>{const H=B===void 0?document:B.dom;return ur(H)?[]:R(H.querySelectorAll(O),Xt.fromDom)})(S,y);var cs=(y,S,O,B,H)=>y(O,B)?re.some(O):P(H)&&H(O)?re.none():S(O,B,H);const Ie=(y,S,O)=>{let B=y.dom;const H=P(O)?O:Z;for(;B.parentNode;){B=B.parentNode;const j=Xt.fromDom(B);if(S(j))return re.some(j);if(H(j))break}return re.none()},at=(y,S,O)=>cs((B,H)=>H(B),Ie,y,S,O),He=(y,S,O)=>Ie(y,B=>pi(B,S),O),yt=(y,S)=>((O,B)=>kn(O.dom.childNodes,H=>{return j=Xt.fromDom(H),pi(j,S);var j}).map(Xt.fromDom))(y),pt=(y,S)=>Yl(S,y),rt=(y,S,O)=>cs((B,H)=>pi(B,H),He,y,S,O),qt=(y,S,O=oe)=>y.exists(B=>O(B,S)),an=y=>{const S=[],O=B=>{S.push(B)};for(let B=0;B<y.length;B++)y[B].each(O);return S},mn=(y,S)=>y?re.some(S):re.none(),Cn=(y,S,O)=>S===""||y.length>=S.length&&y.substr(O,O+S.length)===S,dn=(y,S,O=0,B)=>{const H=y.indexOf(S,O);return H!==-1&&(!!D(B)||H+S.length<=B)},_o=(y,S)=>Cn(y,S,0),cn=(y,S)=>Cn(y,S,y.length-S.length),Tr=(y=>S=>S.replace(y,""))(/^\s+|\s+$/g),Ko=y=>y.length>0,Qo=y=>y.style!==void 0&&P(y.style.getPropertyValue),Bs=(y,S,O)=>{if(!m(O))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",O,":: Element ",y),new Error("CSS value must be a string: "+O);Qo(y)&&y.style.setProperty(S,O)},Ro=(y,S,O)=>{const B=y.dom;Bs(B,S,O)},Jl=(y,S)=>{const O=y.dom;pn(S,(B,H)=>{Bs(O,H,B)})},Ta=(y,S)=>{const O=y.dom,B=window.getComputedStyle(O).getPropertyValue(S);return B!==""||ol(y)?B:bo(O,S)},bo=(y,S)=>Qo(y)?y.style.getPropertyValue(S):"",rl=(y,S)=>{const O=y.dom,B=bo(O,S);return re.from(B).filter(H=>H.length>0)},Cl=(y,S)=>{((O,B)=>{Qo(O)&&O.style.removeProperty(B)})(y.dom,S),qt(uo(y,"style").map(Tr),"")&&Oo(y,"style")},Ts=(y,S,O=0)=>uo(y,S).map(B=>parseInt(B,10)).getOr(O),Af=(y,S)=>Ts(y,S,1),oi=y=>cr("col")(y)?Ts(y,"span",1)>1:Af(y,"colspan")>1,Mm=(y,S)=>parseInt(Ta(y,S),10),Ql=W(10),kr=W(10),Vd=(y,S)=>nh(y,S,de),nh=(y,S,O)=>Pe(Di(y),B=>pi(B,S)?O(B)?[B]:[]:nh(B,S,O)),wp=(y,S)=>((O,B,H=Z)=>H(B)?re.none():it(O,ht(B))?re.some(B):He(B,O.join(","),j=>pi(j,"table")||H(j)))(["td","th"],y,S),Os=y=>Vd(y,"th,td"),Nc=y=>pi(y,"colgroup")?uu(y,"col"):Pe(Bm(y),S=>uu(S,"col")),_l=(y,S)=>rt(y,"table",S),ts=y=>Vd(y,"tr"),Bm=y=>_l(y).fold(W([]),S=>uu(S,"colgroup")),Ul=(y,S)=>R(y,O=>{if(ht(O)==="colgroup"){const B=R(Nc(O),H=>{const j=Ts(H,"span",1);return $d(H,1,j)});return dr(O,B,"colgroup")}{const B=R(Os(O),H=>{const j=Ts(H,"rowspan",1),se=Ts(H,"colspan",1);return $d(H,j,se)});return dr(O,B,S(O))}}),ia=y=>xl(y).map(S=>{const O=ht(S);return(B=>it(Ef,B))(O)?O:"tbody"}).getOr("tbody"),oh=y=>{const S=ts(y),O=[...Bm(y),...S];return Ul(O,ia)},Ri=y=>{let S,O=!1;return(...B)=>(O||(O=!0,S=y.apply(null,B)),S)},sl=()=>aa(0,0),aa=(y,S)=>({major:y,minor:S}),Wl={nu:aa,detect:(y,S)=>{const O=String(S).toLowerCase();return y.length===0?sl():((B,H)=>{const j=((ce,_e)=>{for(let Be=0;Be<ce.length;Be++){const et=ce[Be];if(et.test(_e))return et}})(B,H);if(!j)return{major:0,minor:0};const se=ce=>Number(H.replace(j,"$"+ce));return aa(se(1),se(2))})(y,O)},unknown:sl},Cp=(y,S)=>{const O=String(S).toLowerCase();return kn(y,B=>B.search(O))},zo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,du=y=>S=>dn(S,y),zd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>dn(y,"edge/")&&dn(y,"chrome")&&dn(y,"safari")&&dn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,zo],search:y=>dn(y,"chrome")&&!dn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>dn(y,"msie")||dn(y,"trident")},{name:"Opera",versionRegexes:[zo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:du("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:du("firefox")},{name:"Safari",versionRegexes:[zo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(dn(y,"safari")||dn(y,"mobile/"))&&dn(y,"applewebkit")}],Ju=[{name:"Windows",search:du("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>dn(y,"iphone")||dn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:du("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:du("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:du("linux"),versionRegexes:[]},{name:"Solaris",search:du("sunos"),versionRegexes:[]},{name:"FreeBSD",search:du("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:du("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yb={browsers:W(zd),oses:W(Ju)},Dx="Edge",h1="Chromium",p1="Opera",GC="Firefox",_p="Safari",b1=y=>{const S=y.current,O=y.version,B=H=>()=>S===H;return{current:S,version:O,isEdge:B(Dx),isChromium:B(h1),isIE:B("IE"),isOpera:B(p1),isFirefox:B(GC),isSafari:B(_p)}},tn=()=>b1({current:void 0,version:Wl.unknown()}),Tf=b1,Of="Windows",v1="Android",la="Linux",If="macOS",rh="Solaris",Rx="FreeBSD",Nx="ChromeOS",Xb=y=>{const S=y.current,O=y.version,B=H=>()=>S===H;return{current:S,version:O,isWindows:B(Of),isiOS:B("iOS"),isAndroid:B(v1),isMacOS:B(If),isLinux:B(la),isSolaris:B(rh),isFreeBSD:B(Rx),isChromeOS:B(Nx)}},Px=()=>Xb({current:void 0,version:Wl.unknown()}),y1=Xb,Lx=y=>window.matchMedia(y).matches;let sh=Ri(()=>((y,S,O)=>{const B=Yb.browsers(),H=Yb.oses(),j=S.bind(_e=>((Be,et)=>Q(et.brands,Ne=>{const Ue=Ne.brand.toLowerCase();return kn(Be,Ge=>{var ct;return Ue===((ct=Ge.brand)===null||ct===void 0?void 0:ct.toLowerCase())}).map(Ge=>({current:Ge.name,version:Wl.nu(parseInt(Ne.version,10),0)}))}))(B,_e)).orThunk(()=>((_e,Be)=>Cp(_e,Be).map(et=>{const Ne=Wl.detect(et.versionRegexes,Be);return{current:et.name,version:Ne}}))(B,y)).fold(tn,Tf),se=((_e,Be)=>Cp(_e,Be).map(et=>{const Ne=Wl.detect(et.versionRegexes,Be);return{current:et.name,version:Ne}}))(H,y).fold(Px,y1),ce=((_e,Be,et,Ne)=>{const Ue=_e.isiOS()&&/ipad/i.test(et)===!0,Ge=_e.isiOS()&&!Ue,ct=_e.isiOS()||_e.isAndroid(),ft=ct||Ne("(pointer:coarse)"),Lt=Ue||!Ge&&ct&&Ne("(min-device-width:768px)"),Ft=Ge||ct&&!Lt,Pt=Be.isSafari()&&_e.isiOS()&&/safari/i.test(et)===!1,Vt=!Ft&&!Lt&&!Pt;return{isiPad:W(Ue),isiPhone:W(Ge),isTablet:W(Lt),isPhone:W(Ft),isTouch:W(ft),isAndroid:_e.isAndroid,isiOS:_e.isiOS,isWebView:W(Pt),isDesktop:W(Vt)}})(se,j,y,O);return{browser:j,os:se,deviceType:ce}})(window.navigator.userAgent,re.from(window.navigator.userAgentData),Lx));const x1=()=>sh(),Df=(y,S)=>{const O=H=>{const j=S(H);if(j<=0||j===null){const se=Ta(H,y);return parseFloat(se)||0}return j},B=(H,j)=>ut(j,(se,ce)=>{const _e=Ta(H,ce),Be=_e===void 0?0:parseInt(_e,10);return isNaN(Be)?se:se+Be},0);return{set:(H,j)=>{if(!z(j)&&!j.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+j);const se=H.dom;Qo(se)&&(se.style[y]=j+"px")},get:O,getOuter:O,aggregate:B,max:(H,j,se)=>{const ce=B(H,se);return j>ce?j-ce:0}}},Rf=(y,S,O)=>((B,H)=>(j=>{const se=parseFloat(j);return isNaN(se)?re.none():re.some(se)})(B).getOr(H))(Ta(y,S),O),ca=Df("width",y=>y.dom.offsetWidth),Sl=y=>ca.get(y),ih=y=>ca.getOuter(y),er=y=>((S,O)=>{const B=S.dom,H=B.getBoundingClientRect().width||B.offsetWidth;return((j,se,ce,_e)=>se-Rf(j,`padding-${ce}`,0)-Rf(j,`padding-${_e}`,0)-Rf(j,`border-${ce}-width`,0)-Rf(j,`border-${_e}-width`,0))(S,H,"left","right")})(y),Hd=(y,S,O)=>{const B=y.cells,H=B.slice(0,S),j=B.slice(S),se=H.concat(O).concat(j);return Ba(y,se)},ah=(y,S,O)=>Hd(y,S,[O]),lh=(y,S,O)=>{y.cells[S]=O},Ba=(y,S)=>ui(y.element,S,y.section,y.isNew),Hs=(y,S)=>y.cells[S],us=(y,S)=>Hs(y,S).element,Zi=y=>y.cells.length,ns=y=>{const S=Ze(y,O=>O.section==="colgroup");return{rows:S.fail,cols:S.pass}},Nf=(y,S,O)=>{const B=R(y.cells,O);return ui(S(y.element),B,y.section,!0)},Fm="data-snooker-locked-cols",_i=y=>uo(y,Fm).bind(S=>re.from(S.match(/\d+/g))).map(S=>po(S,de)),Fa=y=>{const S=ut(ns(y).rows,(B,H)=>(Fe(H.cells,(j,se)=>{j.isLocked&&(B[se]=!0)}),B),{}),O=xe(S,(B,H)=>parseInt(H,10));return((B,H)=>{const j=Ve.call(B,0);return j.sort(void 0),j})(O)},Oa=(y,S)=>y+","+S,fu=(y,S)=>{const O=Pe(y.all,B=>B.cells);return Ot(O,S)},Ud=y=>{const S={},O=[],B=On(y).map(Ue=>Ue.element).bind(_l).bind(_i).getOr({});let H=0,j=0,se=0;const{pass:ce,fail:_e}=Ze(y,Ue=>Ue.section==="colgroup");Fe(_e,Ue=>{const Ge=[];Fe(Ue.cells,ct=>{let ft=0;for(;S[Oa(se,ft)]!==void 0;)ft++;const Lt=((Pt,Vt)=>$e(Pt,Vt)&&Pt[Vt]!==void 0&&Pt[Vt]!==null)(B,ft.toString()),Ft=((Pt,Vt,Jt,on,gt,Sn)=>({element:Pt,rowspan:Vt,colspan:Jt,row:on,column:gt,isLocked:Sn}))(ct.element,ct.rowspan,ct.colspan,se,ft,Lt);for(let Pt=0;Pt<ct.colspan;Pt++)for(let Vt=0;Vt<ct.rowspan;Vt++){const Jt=ft+Pt,on=Oa(se+Vt,Jt);S[on]=Ft,j=Math.max(j,Jt+1)}Ge.push(Ft)}),H++,O.push(dr(Ue.element,Ge,Ue.section)),se++});const{columns:Be,colgroups:et}=nn(ce).map(Ue=>{const Ge=(ft=>{const Lt={};let Ft=0;return Fe(ft.cells,Pt=>{const Vt=Pt.colspan;ze(Vt,Jt=>{const on=Ft+Jt;Lt[on]=((gt,Sn,to)=>({element:gt,colspan:Sn,column:to}))(Pt.element,Vt,on)}),Ft+=Vt}),Lt})(Ue);return{colgroups:[((ft,Lt)=>({element:ft,columns:Lt}))(Ue.element,Te(Ge))],columns:Ge}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ue,Ge)=>({rows:Ue,columns:Ge}))(H,j),access:S,all:O,columns:Be,colgroups:et}},Lo=y=>{const S=oh(y);return Ud(S)},di=Ud,kl=(y,S,O)=>re.from(y.access[Oa(S,O)]),Wd=(y,S,O)=>{const B=fu(y,H=>O(S,H.element));return B.length>0?re.some(B[0]):re.none()},Gi=fu,Hn=y=>Pe(y.all,S=>S.cells),Pc=y=>Te(y.columns),Lc=y=>co(y.columns).length>0,Or=(y,S)=>re.from(y.columns[S]),Sp=(y,S=de)=>{const O=y.grid,B=ze(O.columns,J),H=ze(O.rows,J);return R(B,j=>Jb(()=>Pe(H,se=>kl(y,se,j).filter(ce=>ce.column===j).toArray()),se=>se.colspan===1&&S(se.element),()=>kl(y,0,j)))},Jb=(y,S,O)=>{const B=y();return kn(B,S).orThunk(()=>re.from(B[0]).orThunk(O)).map(H=>H.element)},Kd=y=>{const S=y.grid,O=ze(S.rows,J),B=ze(S.columns,J);return R(O,H=>Jb(()=>Pe(B,j=>kl(y,H,j).filter(se=>se.row===H).fold(W([]),se=>[se])),j=>j.rowspan===1,()=>kl(y,H,0)))},Ho=(y,S)=>O=>$a(O)==="rtl"?S:y,$a=y=>Ta(y,"direction")==="rtl"?"rtl":"ltr",kp=Df("height",y=>{const S=y.dom;return ol(y)?S.getBoundingClientRect().height:S.offsetHeight}),jd=y=>kp.get(y),Qb=y=>kp.getOuter(y),mu=(y,S)=>({left:y,top:S,translate:(O,B)=>mu(y+O,S+B)}),il=mu,gu=(y,S)=>y!==void 0?y:S!==void 0?S:0,Pf=y=>{const S=y.dom.ownerDocument,O=S.body,B=S.defaultView,H=S.documentElement;if(O===y.dom)return il(O.offsetLeft,O.offsetTop);const j=gu(B==null?void 0:B.pageYOffset,H.scrollTop),se=gu(B==null?void 0:B.pageXOffset,H.scrollLeft),ce=gu(H.clientTop,O.clientTop),_e=gu(H.clientLeft,O.clientLeft);return Ke(y).translate(se-_e,j-ce)},Ke=y=>{const S=y.dom,O=S.ownerDocument.body;return O===S?il(O.offsetLeft,O.offsetTop):ol(y)?(B=>{const H=B.getBoundingClientRect();return il(H.left,H.top)})(S):il(0,0)},$m=(y,S)=>({row:y,y:S}),Br=(y,S)=>({col:y,x:S}),ev=y=>Pf(y).left+ih(y),ch=y=>Pf(y).left,hu=(y,S)=>Br(y,ch(S)),tr=(y,S)=>Br(y,ev(S)),ua=y=>Pf(y).top,Qu=(y,S)=>$m(y,ua(S)),fc=(y,S)=>$m(y,ua(S)+Qb(S)),ed=(y,S,O)=>{if(O.length===0)return[];const B=R(O.slice(1),(j,se)=>j.map(ce=>y(se,ce))),H=O[O.length-1].map(j=>S(O.length-1,j));return B.concat([H])},td={delta:J,positions:y=>ed(Qu,fc,y),edge:ua},da=Ho({delta:J,edge:ch,positions:y=>ed(hu,tr,y)},{delta:y=>-y,edge:ev,positions:y=>ed(tr,hu,y)}),Lf={delta:(y,S)=>da(S).delta(y,S),positions:(y,S)=>da(S).positions(y,S),edge:y=>da(y).edge(y)},Vm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tv=(()=>{const y="[0-9]+",S="[eE][+-]?"+y,O=H=>`(?:${H})?`,B=["Infinity",y+"\\."+O(y)+O(S),"\\."+y+O(S),y+O(S)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),Si=/(\d+(\.\d+)?)%/,Gn=/(\d+(\.\d+)?)px|em/,nd=cr("col"),zm=cr("tr"),fa=(y,S,O)=>{const B=qu(y).getOrThunk(()=>cu(Gu(y)));return S(y)/O(B)*100},od=(y,S)=>{Ro(y,"width",S+"px")},Kl=(y,S)=>{Ro(y,"width",S+"%")},rd=(y,S)=>{Ro(y,"height",S+"px")},Zd=y=>{const S=(O=>{return Rf(B=O,"height",B.dom.offsetHeight)+"px";var B})(y);return S?((O,B,H,j)=>{const se=parseFloat(O);return cn(O,"%")&&ht(B)!=="table"?((ce,_e,Be,et)=>{const Ne=_l(ce).map(Ue=>{const Ge=Be(Ue);return Math.floor(_e/100*Ge)}).getOr(_e);return et(ce,Ne),Ne})(B,se,H,j):se})(S,y,jd,rd):jd(y)},ki=(y,S)=>rl(y,S).orThunk(()=>uo(y,S).map(O=>O+"px")),mc=y=>ki(y,"width"),pu=y=>fa(y,Sl,er),Hm=y=>{return nd(y)?Sl(y):Rf(S=y,"width",S.dom.offsetWidth);var S},w1=y=>zm(y)?jd(y):((S,O,B)=>B(S)/Af(S,"rowspan"))(y,0,Zd),sd=(y,S,O)=>{Ro(y,"width",S+O)},Mf=y=>fa(y,Sl,er)+"%",nv=W(Si),_s=cr("col"),Va=y=>mc(y).getOrThunk(()=>Hm(y)+"px"),Ia=y=>{return(S=y,ki(S,"height")).getOrThunk(()=>w1(y)+"px");var S},al=(y,S,O,B,H,j)=>y.filter(B).fold(()=>j(((se,ce)=>{if(ce<0||ce>=se.length-1)return re.none();const _e=se[ce].fold(()=>{const et=(Ne=>{const Ue=Ve.call(Ne,0);return Ue.reverse(),Ue})(se.slice(0,ce));return Q(et,(Ne,Ue)=>Ne.map(Ge=>({value:Ge,delta:Ue+1})))},et=>re.some({value:et,delta:0})),Be=se[ce+1].fold(()=>{const et=se.slice(ce+1);return Q(et,(Ne,Ue)=>Ne.map(Ge=>({value:Ge,delta:Ue+1})))},et=>re.some({value:et,delta:1}));return _e.bind(et=>Be.map(Ne=>{const Ue=Ne.delta+et.delta;return Math.abs(Ne.value-et.value)/Ue}))})(O,S)),se=>H(se)),bi=(y,S,O,B)=>{const H=Sp(y),j=Lc(y)?(_e=>R(Pc(_e),Be=>re.from(Be.element)))(y):H,se=[re.some(Lf.edge(S))].concat(R(Lf.positions(H,S),_e=>_e.map(Be=>Be.x))),ce=he(oi);return R(j,(_e,Be)=>al(_e,Be,se,ce,et=>{if((Ue=>{const Ge=x1().browser,ct=Ge.isChromium()||Ge.isFirefox();return!_s(Ue)||ct})(et))return O(et);{const Ue=(Ne=H[Be])!=null?J(Ne):re.none();return al(Ue,Be,se,ce,Ge=>B(re.some(Sl(Ge))),B)}var Ne},B))},Ep=y=>y.map(S=>S+"px").getOr(""),fi=(y,S,O)=>bi(y,S,Hm,B=>B.getOrThunk(O.minCellWidth)),qi=(y,S,O,B)=>{const H=Kd(y),j=R(y.all,ce=>re.some(ce.element)),se=[re.some(td.edge(S))].concat(R(td.positions(H,S),ce=>ce.map(_e=>_e.y)));return R(j,(ce,_e)=>al(ce,_e,se,de,O,B))},bu=(y,S)=>()=>ol(y)?S(y):parseFloat(rl(y,"width").getOr("0")),Mt=y=>{const S=bu(y,B=>parseFloat(Mf(B))),O=bu(y,Sl);return{width:S,pixelWidth:O,getWidths:(B,H)=>((j,se,ce)=>bi(j,se,pu,_e=>_e.fold(()=>ce.minCellWidth(),Be=>Be/ce.pixelWidth()*100)))(B,y,H),getCellDelta:B=>B/O()*100,singleColumnWidth:(B,H)=>[100-B],minCellWidth:()=>Ql()/O()*100,setElementWidth:Kl,adjustTableWidth:B=>{const H=S();Kl(y,H+B/100*H)},isRelative:!0,label:"percent"}},Yi=y=>{const S=bu(y,Sl);return{width:S,pixelWidth:S,getWidths:(O,B)=>fi(O,y,B),getCellDelta:J,singleColumnWidth:(O,B)=>[Math.max(Ql(),O+B)-O],minCellWidth:Ql,setElementWidth:od,adjustTableWidth:O=>{const B=S()+O;od(y,B)},isRelative:!1,label:"pixel"}},Ap=y=>mc(y).fold(()=>(S=>{const O=bu(S,Sl),B=W(0);return{width:O,pixelWidth:O,getWidths:(H,j)=>fi(H,S,j),getCellDelta:B,singleColumnWidth:W([0]),minCellWidth:B,setElementWidth:K,adjustTableWidth:K,isRelative:!0,label:"none"}})(y),S=>((O,B)=>nv().exec(B)!==null?Mt(O):Yi(O))(y,S)),Ss=Yi,id=Mt,za=(y,S,O)=>{const B=y[O].element,H=Xt.fromTag("td");ps(H,Xt.fromTag("br")),(S?ps:Rm)(B,H)},Mc=((y,S)=>{const O=B=>y(B)?re.from(B.dom.nodeValue):re.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return O(B).getOr("")},getOption:O,set:(B,H)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=H}}})(Fo),Um=y=>Mc.get(y),ll=y=>Mc.getOption(y),Yo=(y,S)=>Mc.set(y,S),Us=y=>ht(y)==="img"?1:ll(y).fold(()=>Di(y).length,S=>S.length),Bf=["img","br"],Fs=y=>ll(y).filter(S=>S.trim().length!==0||S.indexOf("")>-1).isSome()||it(Bf,ht(y))||(S=>qn(S)&&En(S,"contenteditable")==="false")(y),uh=y=>((S,O)=>{const B=H=>{for(let j=0;j<H.childNodes.length;j++){const se=Xt.fromDom(H.childNodes[j]);if(O(se))return re.some(se);const ce=B(H.childNodes[j]);if(ce.isSome())return ce}return re.none()};return B(S.dom)})(y,Fs),vu=y=>C1(y,Fs),C1=(y,S)=>{const O=B=>{const H=Di(B);for(let j=H.length-1;j>=0;j--){const se=H[j];if(S(se))return re.some(se);const ce=O(se);if(ce.isSome())return ce}return re.none()};return O(y)},Is={scope:["row","col"]},dt=y=>()=>{const S=Xt.fromTag("td",y.dom);return ps(S,Xt.fromTag("br",y.dom)),S},Ha=y=>()=>Xt.fromTag("col",y.dom),Ws=y=>()=>Xt.fromTag("colgroup",y.dom),ec=y=>()=>Xt.fromTag("tr",y.dom),Bc=(y,S,O)=>{const B=((H,j)=>{const se=lu(H,j),ce=Di(au(H));return zl(se,ce),se})(y,S);return pn(O,(H,j)=>{H===null?Oo(B,j):xr(B,j,H)}),B},ri=y=>y,os=(y,S,O)=>{const B=(H,j)=>{((se,ce)=>{const _e=se.dom,Be=ce.dom;Qo(_e)&&Qo(Be)&&(Be.style.cssText=_e.style.cssText)})(H.element,j),Cl(j,"height"),H.colspan!==1&&Cl(j,"width")};return{col:H=>{const j=Xt.fromTag(ht(H.element),S.dom);return B(H,j),y(H.element,j),j},colgroup:Ws(S),row:ec(S),cell:H=>{const j=Xt.fromTag(ht(H.element),S.dom),se=O.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ce=se.length>0?((_e,Be,et)=>uh(_e).map(Ne=>{const Ue=et.join(","),Ge=Aa(Ne,Ue,ct=>Wr(ct,_e));return Gt(Ge,(ct,ft)=>{const Lt=Pm(ft);return ps(ct,Lt),Lt},Be)}).getOr(Be))(H.element,j,se):j;return ps(ce,Xt.fromTag("br")),B(H,j),((_e,Be)=>{pn(Is,(et,Ne)=>uo(_e,Ne).filter(Ue=>it(et,Ue)).each(Ue=>xr(Be,Ne,Ue)))})(H.element,j),y(H.element,j),j},replace:Bc,colGap:Ha(S),gap:dt(S)}},Pr=y=>({col:Ha(y),colgroup:Ws(y),row:ec(y),cell:dt(y),replace:ri,colGap:Ha(y),gap:dt(y)}),Ua=y=>S=>S.options.get(y),tc="100%",yu=y=>{var S;const O=y.dom,B=(S=O.getParent(y.selection.getStart(),O.isBlock))!==null&&S!==void 0?S:y.getBody();return er(Xt.fromDom(B))+"px"},Gd=y=>re.from(y.options.get("table_clone_elements")),Wm=Ua("table_header_type"),dh=Ua("table_column_resizing"),fh=y=>dh(y)==="preservetable",ov=y=>dh(y)==="resizetable",rv=Ua("table_sizing_mode"),ad=y=>rv(y)==="relative",L=y=>rv(y)==="fixed",G=y=>rv(y)==="responsive",le=Ua("table_resize_bars"),Le=Ua("table_style_by_css"),Qe=Ua("table_merge_content_on_paste"),Bt=y=>{const S=y.options,O=S.get("table_default_attributes");return S.isSet("table_default_attributes")?O:((B,H)=>G(B)||Le(B)?H:L(B)?{...H,width:yu(B)}:{...H,width:tc})(y,O)},Yn=Ua("table_use_colgroups"),So=y=>rt(y,"[contenteditable]"),mo=(y,S=!1)=>ol(y)?y.dom.isContentEditable:So(y).fold(W(S),O=>Pn(O)==="true"),Pn=y=>y.dom.contentEditable,wr=y=>Xt.fromDom(y.getBody()),Ks=y=>S=>Wr(S,wr(y)),ks=y=>{Oo(y,"data-mce-style");const S=O=>Oo(O,"data-mce-style");Fe(Os(y),S),Fe(Nc(y),S),Fe(ts(y),S)},Fc=y=>Xt.fromDom(y.selection.getStart()),Km=y=>y.getBoundingClientRect().width,jm=y=>y.getBoundingClientRect().height,vi=y=>(S,O)=>{const B=S.dom.getStyle(O,y)||S.dom.getAttrib(O,y);return re.from(B).filter(Ko)},qC=vi("width"),sv=vi("height"),_1=y=>at(y,cr("table")).exists(mo),ma=(y,S)=>{const O=S.column,B=S.column+S.colspan-1,H=S.row,j=S.row+S.rowspan-1;return O<=y.finishCol&&B>=y.startCol&&H<=y.finishRow&&j>=y.startRow},Ds=(y,S)=>S.column>=y.startCol&&S.column+S.colspan-1<=y.finishCol&&S.row>=y.startRow&&S.row+S.rowspan-1<=y.finishRow,Ni=(y,S,O)=>{const B=Wd(y,S,Wr),H=Wd(y,O,Wr);return B.bind(j=>H.map(se=>{return ce=j,_e=se,{startRow:Math.min(ce.row,_e.row),startCol:Math.min(ce.column,_e.column),finishRow:Math.max(ce.row+ce.rowspan-1,_e.row+_e.rowspan-1),finishCol:Math.max(ce.column+ce.colspan-1,_e.column+_e.colspan-1)};var ce,_e}))},ld=(y,S,O)=>Ni(y,S,O).map(B=>{const H=Gi(y,U(ma,B));return R(H,j=>j.element)}),Tp=(y,S)=>Wd(y,S,(O,B)=>ni(B,O)).map(O=>O.element),Mx=(y,S,O)=>{const B=El(y);return ld(B,S,O)},gc=(y,S,O,B,H)=>{const j=El(y),se=Wr(y,O)?re.some(S):Tp(j,S),ce=Wr(y,H)?re.some(B):Tp(j,B);return se.bind(_e=>ce.bind(Be=>ld(j,_e,Be)))},El=Lo;var iv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ff=()=>({up:W({selector:He,closest:rt,predicate:Ie,all:Nr}),down:W({selector:Mr,predicate:Ea}),styles:W({get:Ta,getRaw:rl,set:Ro,remove:Cl}),attrs:W({get:En,set:xr,remove:Oo,copyTo:(y,S)=>{const O=ci(y);ji(S,O)}}),insert:W({before:un,after:Xu,afterAll:nl,append:ps,appendAll:zl,prepend:Rm,wrap:Nm}),remove:W({unwrap:ka,remove:ls}),create:W({nu:Xt.fromTag,clone:y=>Xt.fromDom(y.dom.cloneNode(!1)),text:Xt.fromText}),query:W({comparePosition:(y,S)=>y.dom.compareDocumentPosition(S.dom),prevSibling:fo,nextSibling:Xl}),property:W({children:Di,name:ht,parent:xl,document:y=>Rc(y).dom,isText:Fo,isComment:bn,isElement:eo,isSpecial:y=>{const S=ht(y);return it(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:y=>eo(y)?uo(y,"lang"):re.none(),getText:Um,setText:Yo,isBoundary:y=>!!eo(y)&&(ht(y)==="body"||it(iv,ht(y))),isEmptyTag:y=>!!eo(y)&&it(["br","img","hr","input"],ht(y)),isNonEditable:y=>eo(y)&&En(y,"contenteditable")==="false"}),eq:Wr,is:Dm});const zE=(y,S,O,B)=>{const H=S(y,O);return Gt(B,(j,se)=>{const ce=S(y,se);return av(y,j,ce)},H)},av=(y,S,O)=>S.bind(B=>O.filter(U(y.eq,B))),qd=Ff(),$f=(y,S)=>((O,B,H)=>H.length>0?((j,se,ce,_e)=>_e(j,se,ce[0],ce.slice(1)))(O,B,H,zE):re.none())(qd,(O,B)=>y(B),S),Nn=y=>He(y,"table"),xu=(y,S,O)=>{const B=H=>j=>O!==void 0&&O(j)||Wr(j,H);return Wr(y,S)?re.some({boxes:re.some([y]),start:y,finish:S}):Nn(y).bind(H=>Nn(S).bind(j=>{if(Wr(H,j))return re.some({boxes:Mx(H,y,S),start:y,finish:S});if(ni(H,j)){const se=Aa(S,"td,th",B(H)),ce=se.length>0?se[se.length-1]:S;return re.some({boxes:gc(H,y,H,S,j),start:y,finish:ce})}if(ni(j,H)){const se=Aa(y,"td,th",B(j)),ce=se.length>0?se[se.length-1]:y;return re.some({boxes:gc(j,y,H,S,j),start:y,finish:ce})}return((se,ce,_e)=>((Be,et,Ne,Ue=Z)=>{const Ge=[et].concat(Be.up().all(et)),ct=[Ne].concat(Be.up().all(Ne)),ft=Vt=>Et(Vt,Ue).fold(()=>Vt,Jt=>Vt.slice(0,Jt+1)),Lt=ft(Ge),Ft=ft(ct),Pt=kn(Lt,Vt=>Ae(Ft,((Jt,on)=>U(Jt.eq,on))(Be,Vt)));return{firstpath:Lt,secondpath:Ft,shared:Pt}})(qd,se,ce,void 0))(y,S).shared.bind(se=>rt(se,"table",O).bind(ce=>{const _e=Aa(S,"td,th",B(ce)),Be=_e.length>0?_e[_e.length-1]:S,et=Aa(y,"td,th",B(ce)),Ne=et.length>0?et[et.length-1]:y;return re.some({boxes:gc(ce,y,H,S,j),start:Ne,finish:Be})}))}))},lv=(y,S)=>{const O=Mr(y,S);return O.length>0?re.some(O):re.none()},Vf=(y,S,O)=>pt(y,S).bind(B=>pt(y,O).bind(H=>$f(Nn,[B,H]).map(j=>({first:B,last:H,table:j})))),ga=(y,S,O,B,H)=>((j,se)=>kn(j,ce=>pi(ce,se)))(y,H).bind(j=>((se,ce,_e)=>_l(se).bind(Be=>((et,Ne,Ue,Ge)=>Wd(et,Ne,Wr).bind(ct=>{const ft=Ue>0?ct.row+ct.rowspan-1:ct.row,Lt=Ge>0?ct.column+ct.colspan-1:ct.column;return kl(et,ft+Ue,Lt+Ge).map(Ft=>Ft.element)}))(El(Be),se,ce,_e)))(j,S,O).bind(se=>((ce,_e)=>He(ce,"table").bind(Be=>pt(Be,_e).bind(et=>xu(et,ce).bind(Ne=>Ne.boxes.map(Ue=>({boxes:Ue,start:Ne.start,finish:Ne.finish}))))))(se,B))),$c=(y,S)=>lv(y,S),mh=(y,S,O)=>Vf(y,S,O).bind(B=>{const H=_e=>Wr(y,_e),j="thead,tfoot,tbody,table",se=He(B.first,j,H),ce=He(B.last,j,H);return se.bind(_e=>ce.bind(Be=>Wr(_e,Be)?((et,Ne,Ue)=>((Ge,ct,ft)=>Ni(Ge,ct,ft).bind(Lt=>((Ft,Pt)=>{let Vt=!0;const Jt=U(Ds,Pt);for(let on=Pt.startRow;on<=Pt.finishRow;on++)for(let gt=Pt.startCol;gt<=Pt.finishCol;gt++)Vt=Vt&&kl(Ft,on,gt).exists(Jt);return Vt?re.some(Pt):re.none()})(Ge,Lt)))(El(et),Ne,Ue))(B.table,B.first,B.last):re.none()))}),zf=J,S1=y=>{const S=(O,B)=>uo(O,B).exists(H=>parseInt(H,10)>1);return y.length>0&&mt(y,O=>S(O,"rowspan")||S(O,"colspan"))?re.some(y):re.none()},wu=(y,S,O)=>S.length<=1?re.none():mh(y,O.firstSelectedSelector,O.lastSelectedSelector).map(B=>({bounds:B,cells:S})),Op="data-mce-selected",Ip="data-mce-first-selected",jt="data-mce-last-selected",Bx="["+Op+"]",Hf={selected:Op,selectedSelector:"td["+Op+"],th["+Op+"]",firstSelected:Ip,firstSelectedSelector:"td["+Ip+"],th["+Ip+"]",lastSelected:jt,lastSelectedSelector:"td["+jt+"],th["+jt+"]"},No=(y,S,O)=>({element:O,mergable:wu(S,y,Hf),unmergable:S1(y),selection:zf(y)}),Bn=y=>(S,O)=>{const B=ht(S),H=B==="col"||B==="colgroup"?_l(j=S).bind(se=>$c(se,Hf.firstSelectedSelector)).fold(W(j),se=>se[0]):S;var j;return rt(H,y,O)},Uf=Bn("th,td,caption"),bs=Bn("th,td"),Vc=y=>{return S=y.model.table.getSelectedCells(),R(S,Xt.fromDom);var S},zc=(y,S)=>{y.on("BeforeGetContent",O=>{const B=H=>{O.preventDefault(),(j=>_l(j[0]).map(se=>{const ce=((_e,Be)=>{const et=Vt=>pi(Vt.element,Be),Ne=au(_e),Ue=oh(Ne),Ge=Ap(_e),ct=di(Ue),ft=((Vt,Jt)=>{const on=Vt.grid.columns;let gt=Vt.grid.rows,Sn=on,to=0,Eo=0;const io=[],no=[];return pn(Vt.access,ko=>{if(io.push(ko),Jt(ko)){no.push(ko);const Xo=ko.row,ii=Xo+ko.rowspan-1,Ra=ko.column,Qi=Ra+ko.colspan-1;Xo<gt?gt=Xo:ii>to&&(to=ii),Ra<Sn?Sn=Ra:Qi>Eo&&(Eo=Qi)}}),((ko,Xo,ii,Ra,Qi,vc)=>({minRow:ko,minCol:Xo,maxRow:ii,maxCol:Ra,allCells:Qi,selectedCells:vc}))(gt,Sn,to,Eo,io,no)})(ct,et),Lt="th:not("+Be+"),td:not("+Be+")",Ft=nh(Ne,"th,td",Vt=>pi(Vt,Lt));Fe(Ft,ls),((Vt,Jt,on,gt)=>{const Sn=Ot(Vt,io=>io.section!=="colgroup"),to=Jt.grid.columns,Eo=Jt.grid.rows;for(let io=0;io<Eo;io++){let no=!1;for(let ko=0;ko<to;ko++)io<on.minRow||io>on.maxRow||ko<on.minCol||ko>on.maxCol||(kl(Jt,io,ko).filter(gt).isNone()?za(Sn,no,io):no=!0)}})(Ue,ct,ft,et);const Pt=((Vt,Jt,on,gt)=>{if(gt.minCol===0&&Jt.grid.columns===gt.maxCol+1)return 0;const Sn=fi(Jt,Vt,on),to=ut(Sn,(no,ko)=>no+ko,0),Eo=ut(Sn.slice(gt.minCol,gt.maxCol+1),(no,ko)=>no+ko,0),io=Eo/to*on.pixelWidth()-on.pixelWidth();return on.getCellDelta(io)})(_e,Lo(_e),Ge,ft);return((Vt,Jt,on,gt)=>{pn(on.columns,to=>{(to.column<Jt.minCol||to.column>Jt.maxCol)&&ls(to.element)});const Sn=Ot(Vd(Vt,"tr"),to=>to.dom.childElementCount===0);Fe(Sn,ls),Jt.minCol!==Jt.maxCol&&Jt.minRow!==Jt.maxRow||Fe(Vd(Vt,"th,td"),to=>{Oo(to,"rowspan"),Oo(to,"colspan")}),Oo(Vt,Fm),Oo(Vt,"data-snooker-col-series"),Ap(Vt).adjustTableWidth(gt)})(Ne,ft,ct,Pt),Ne})(se,Bx);return ks(ce),[ce]}))(H).each(j=>{O.content=O.format==="text"?(se=>R(se,ce=>ce.dom.innerText).join(""))(j):((se,ce)=>R(ce,_e=>se.selection.serializer.serialize(_e.dom,{})).join(""))(y,j)})};if(O.selection===!0){const H=(j=>Ot(Vc(j),se=>pi(se,Hf.selectedSelector)))(y);H.length>=1&&B(H)}}),y.on("BeforeSetContent",O=>{if(O.selection===!0&&O.paste===!0){const B=Vc(y);On(B).each(H=>{_l(H).each(j=>{const se=Ot(((_e,Be)=>{const et=document.createElement("div");return et.innerHTML=_e,Di(Xt.fromDom(et))})(O.content),_e=>ht(_e)!=="meta"),ce=cr("table");if(Qe(y)&&se.length===1&&ce(se[0])){O.preventDefault();const _e=Xt.fromDom(y.getDoc()),Be=Pr(_e),et=((Ne,Ue,Ge)=>({element:Ne,clipboard:Ue,generators:Ge}))(H,se[0],Be);S.pasteCells(j,et).each(()=>{y.focus()})}})})}})},xo=(y,S)=>({element:y,offset:S}),Dp=(y,S,O)=>y.property().isText(S)&&y.property().getText(S).trim().length===0||y.property().isComment(S)?O(S).bind(B=>Dp(y,B,O).orThunk(()=>re.some(B))):re.none(),YC=(y,S)=>y.property().isText(S)?y.property().getText(S).length:y.property().children(S).length,It=(y,S)=>{const O=Dp(y,S,y.query().prevSibling).getOr(S);if(y.property().isText(O))return xo(O,YC(y,O));const B=y.property().children(O);return B.length>0?It(y,B[B.length-1]):xo(O,YC(y,O))},Fx=It,Rp=Ff(),Np=(y,S)=>{oi(y)||(B=>mc(B).bind(H=>{return j=H,se=["fixed","relative","empty"],re.from(tv.exec(j)).bind(ce=>{const _e=Number(ce[1]),Be=ce[2];return((et,Ne)=>Ae(Ne,Ue=>Ae(Vm[Ue],Ge=>et===Ge)))(Be,se)?re.some({value:_e,unit:Be}):re.none()});var j,se}))(y).each(B=>{const H=B.value/2;sd(y,H,B.unit),sd(S,H,B.unit)})},gh=y=>R(y,W(0)),Zm=(y,S,O,B,H)=>H(y.slice(0,S)).concat(B).concat(H(y.slice(O))),XC=y=>(S,O,B,H)=>{if(y(B)){const j=Math.max(H,S[O]-Math.abs(B)),se=Math.abs(j-S[O]);return B>=0?se:-se}return B},Wf=XC(y=>y<0),as=XC(de),cd=()=>{const y=(O,B,H,j)=>{const se=(100+H)/100,ce=Math.max(j,(O[B]+H)/se);return R(O,(_e,Be)=>(Be===B?ce:_e/se)-_e)},S=(O,B,H,j,se,ce)=>ce?y(O,B,j,se):((_e,Be,et,Ne,Ue)=>{const Ge=Wf(_e,Be,Ne,Ue);return Zm(_e,Be,et+1,[Ge,0],gh)})(O,B,H,j,se);return{resizeTable:(O,B)=>O(B),clampTableDelta:Wf,calcLeftEdgeDeltas:S,calcMiddleDeltas:(O,B,H,j,se,ce,_e)=>S(O,H,j,se,ce,_e),calcRightEdgeDeltas:(O,B,H,j,se,ce)=>{if(ce)return y(O,H,j,se);{const _e=Wf(O,H,j,se);return gh(O.slice(0,H)).concat([_e])}},calcRedestributedWidths:(O,B,H,j)=>{if(j){const se=(B+H)/B,ce=R(O,_e=>_e/se);return{delta:100*se-100,newSizes:ce}}return{delta:H,newSizes:O}}}},k1=()=>{const y=(S,O,B,H,j)=>{const se=as(S,H>=0?B:O,H,j);return Zm(S,O,B+1,[se,-se],gh)};return{resizeTable:(S,O,B)=>{B&&S(O)},clampTableDelta:(S,O,B,H,j)=>{if(j){if(B>=0)return B;{const se=ut(S,(ce,_e)=>ce+_e-H,0);return Math.max(-se,B)}}return Wf(S,O,B,H)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(S,O,B,H,j,se)=>y(S,B,H,j,se),calcRightEdgeDeltas:(S,O,B,H,j,se)=>{if(se)return gh(S);{const ce=H/S.length;return R(S,W(ce))}},calcRedestributedWidths:(S,O,B,H)=>({delta:0,newSizes:S})}},Cu=y=>Lo(y).grid,Gm=cr("th"),hc=y=>mt(y,S=>Gm(S.element)),js=(y,S)=>y&&S?"sectionCells":y?"section":"cells",cv=y=>{const S=y.section==="thead",O=qt(Pi(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:S||O?{type:"header",subType:js(S,O)}:{type:"body"}},Pi=y=>{const S=Ot(y,O=>Gm(O.element));return S.length===0?re.some("td"):S.length===y.length?re.some("th"):re.none()},E1=(y,S,O)=>Ms(O(y.element,S),!0,y.isLocked),Hc=(y,S)=>y.section!==S?ui(y.element,y.cells,S,y.isNew):y,Li=()=>({transformRow:Hc,transformCell:(y,S,O)=>{const B=O(y.element,S),H=ht(B)!=="td"?((j,se)=>{const ce=lu(j,"td");Xu(j,ce);const _e=Di(j);return zl(ce,_e),ls(j),ce})(B):B;return Ms(H,y.isNew,y.isLocked)}}),Yt=()=>({transformRow:Hc,transformCell:E1}),qm=()=>({transformRow:(y,S)=>Hc(y,S==="thead"?"tbody":S),transformCell:E1}),Mi=Li,JC=Yt,QC=qm,HE=()=>({transformRow:J,transformCell:E1}),Yd=(y,S,O,B)=>{O===B?Oo(y,S):xr(y,S,O)},hh=(y,S,O)=>{nn(uu(y,S)).fold(()=>Rm(y,O),B=>Xu(B,O))},uv=(y,S)=>{const O=[],B=[],H=Ue=>R(Ue,Ge=>{Ge.isNew&&O.push(Ge.element);const ct=Ge.element;return wl(ct),Fe(Ge.cells,ft=>{ft.isNew&&B.push(ft.element),Yd(ft.element,"colspan",ft.colspan,1),Yd(ft.element,"rowspan",ft.rowspan,1),ps(ct,ft.element)}),ct}),j=Ue=>Pe(Ue,Ge=>R(Ge.cells,ct=>(Yd(ct.element,"span",ct.colspan,1),ct.element))),se=(Ue,Ge)=>{const ct=((Lt,Ft)=>{const Pt=yt(Lt,Ft).getOrThunk(()=>{const Vt=Xt.fromTag(Ft,Gu(Lt).dom);return Ft==="thead"?hh(Lt,"caption,colgroup",Vt):Ft==="colgroup"?hh(Lt,"caption",Vt):ps(Lt,Vt),Vt});return wl(Pt),Pt})(y,Ge),ft=(Ge==="colgroup"?j:H)(Ue);zl(ct,ft)},ce=(Ue,Ge)=>{Ue.length>0?se(Ue,Ge):(ct=>{yt(y,ct).each(ls)})(Ge)},_e=[],Be=[],et=[],Ne=[];return Fe(S,Ue=>{switch(Ue.section){case"thead":_e.push(Ue);break;case"tbody":Be.push(Ue);break;case"tfoot":et.push(Ue);break;case"colgroup":Ne.push(Ue)}}),ce(Ne,"colgroup"),ce(_e,"thead"),ce(Be,"tbody"),ce(et,"tfoot"),{newRows:O,newCells:B}},A1=(y,S)=>{if(y.length===0)return 0;const O=y[0];return Et(y,B=>!S(O.element,B.element)).getOr(y.length)},$x=(y,S)=>{const O=R(y,B=>R(B.cells,Z));return R(y,(B,H)=>{const j=Pe(B.cells,(se,ce)=>{if(O[H][ce]===!1){const Ue=((Ge,ct,ft,Lt)=>{const Ft=((on,gt)=>on[gt])(Ge,ct),Pt=Ft.section==="colgroup",Vt=A1(Ft.cells.slice(ft),Lt),Jt=Pt?1:A1(((on,gt)=>R(on,Sn=>Hs(Sn,gt)))(Ge.slice(ct),ft),Lt);return{colspan:Vt,rowspan:Jt}})(y,H,ce,S);return((Ge,ct,ft,Lt)=>{for(let Ft=Ge;Ft<Ge+ft;Ft++)for(let Pt=ct;Pt<ct+Lt;Pt++)O[Ft][Pt]=!0})(H,ce,Ue.rowspan,Ue.colspan),[(_e=se.element,Be=Ue.rowspan,et=Ue.colspan,Ne=se.isNew,{element:_e,rowspan:Be,colspan:et,isNew:Ne})]}return[];var _e,Be,et,Ne});return((se,ce,_e,Be)=>({element:se,cells:ce,section:_e,isNew:Be}))(B.element,j,B.section,B.isNew)})},Es=(y,S,O)=>{const B=[];Fe(y.colgroups,H=>{const j=[];for(let se=0;se<y.grid.columns;se++){const ce=Or(y,se).map(_e=>Ms(_e.element,O,!1)).getOrThunk(()=>Ms(S.colGap(),!0,!1));j.push(ce)}B.push(ui(H.element,j,"colgroup",O))});for(let H=0;H<y.grid.rows;H++){const j=[];for(let _e=0;_e<y.grid.columns;_e++){const Be=kl(y,H,_e).map(et=>Ms(et.element,O,et.isLocked)).getOrThunk(()=>Ms(S.gap(),!0,!1));j.push(Be)}const se=y.all[H],ce=ui(se.element,j,se.section,O);B.push(ce)}return B},dv=y=>$x(y,Wr),Rs=(y,S)=>Q(y.all,O=>kn(O.cells,B=>Wr(S,B.element))),cl=(y,S,O)=>{const B=R(S.selection,j=>wp(j).bind(se=>Rs(y,se)).filter(O)),H=an(B);return mn(H.length>0,H)},Zs=(y,S,O,B,H)=>(j,se,ce,_e)=>{const Be=Lo(j),et=re.from(_e==null?void 0:_e.section).getOrThunk(HE);return S(Be,se).map(Ne=>{const Ue=((ft,Lt)=>Es(ft,Lt,!1))(Be,ce),Ge=y(Ue,Ne,Wr,H(ce),et),ct=Fa(Ge.grid);return{info:Ne,grid:dv(Ge.grid),cursor:Ge.cursor,lockedColumns:ct}}).bind(Ne=>{const Ue=uv(j,Ne.grid),Ge=re.from(_e==null?void 0:_e.sizing).getOrThunk(()=>Ap(j)),ct=re.from(_e==null?void 0:_e.resize).getOrThunk(k1);return O(j,Ne.grid,Ne.info,{sizing:Ge,resize:ct,section:et}),B(j),Oo(j,Fm),Ne.lockedColumns.length>0&&xr(j,Fm,Ne.lockedColumns.join(",")),re.some({cursor:Ne.cursor,newRows:Ue.newRows,newCells:Ue.newCells})})},pc=(y,S)=>cl(y,S,de).map(O=>({cells:O,generators:S.generators,clipboard:S.clipboard})),Xd=(y,S)=>cl(y,S,de),Xi=(y,S)=>cl(y,S,O=>!O.isLocked),fv=(y,S)=>mt(S,O=>((B,H)=>Rs(B,H).exists(j=>!j.isLocked))(y,O)),Pp=(y,S,O,B)=>{const H=ns(y).rows;let j=!0;for(let se=0;se<H.length;se++)for(let ce=0;ce<Zi(H[0]);ce++){const _e=H[se],Be=Hs(_e,ce),et=O(Be.element,S);et&&!j?lh(_e,ce,Ms(B(),!0,Be.isLocked)):et&&(j=!1)}return y},Kf=y=>{const S=j=>j(y),O=W(y),B=()=>H,H={tag:!0,inner:y,fold:(j,se)=>se(y),isValue:de,isError:Z,map:j=>Lp.value(j(y)),mapError:B,bind:S,exists:S,forall:S,getOr:O,or:B,getOrThunk:O,orThunk:B,getOrDie:O,each:j=>{j(y)},toOptional:()=>re.some(y)};return H},e_=y=>{const S=()=>O,O={tag:!1,inner:y,fold:(H,j)=>H(y),isValue:Z,isError:de,map:S,mapError:H=>Lp.error(H(y)),bind:S,exists:Z,forall:de,getOr:J,or:J,getOrThunk:ue,orThunk:ue,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:K,toOptional:re.none};var B;return O},Lp={value:Kf,error:e_,fromOption:(y,S)=>y.fold(()=>e_(S),Kf)},Vx=(y,S)=>({rowDelta:0,colDelta:Zi(y[0])-Zi(S[0])}),T1=(y,S)=>({rowDelta:y.length-S.length,colDelta:0}),mv=(y,S,O,B)=>{const H=S.section==="colgroup"?O.col:O.cell;return ze(y,j=>Ms(H(),!0,B(j)))},O1=(y,S,O,B)=>{const H=y[y.length-1];return y.concat(ze(S,()=>{const j=H.section==="colgroup"?O.colgroup:O.row,se=Nf(H,j,J),ce=mv(se.cells.length,se,O,_e=>$e(B,_e.toString()));return Ba(se,ce)}))},zx=(y,S,O,B)=>R(y,H=>{const j=mv(S,H,O,Z);return Hd(H,B,j)}),Ym=(y,S,O)=>{const B=S.colDelta<0?zx:J,H=S.rowDelta<0?O1:J,j=Fa(y),se=Zi(y[0]),ce=Ae(j,et=>et===se-1),_e=B(y,Math.abs(S.colDelta),O,ce?se-1:se),Be=Fa(_e);return H(_e,Math.abs(S.rowDelta),O,po(Be,de))},UE=(y,S,O,B)=>{const H=U(B,Hs(y[S],O).element),j=y[S];return y.length>1&&Zi(j)>1&&(O>0&&H(us(j,O-1))||O<j.cells.length-1&&H(us(j,O+1))||S>0&&H(us(y[S-1],O))||S<y.length-1&&H(us(y[S+1],O)))},I1=(y,S,O)=>Ot(O,B=>B>=y.column&&B<=Zi(S[0])+y.column),D1=(y,S,O,B,H)=>{((Be,et,Ne,Ue)=>{et>0&&et<Be[0].cells.length&&Fe(Be,Ge=>{const ct=Ge.cells[et-1];let ft=0;const Lt=Ue();for(;Ge.cells.length>et+ft&&Ne(ct.element,Ge.cells[et+ft].element);)lh(Ge,et+ft,Ms(Lt,!0,Ge.cells[et+ft].isLocked)),ft++})})(S,y,H,B.cell);const j=T1(O,S),se=Ym(O,j,B),ce=T1(S,se),_e=Ym(S,ce,B);return R(_e,(Be,et)=>Hd(Be,y,se[et].cells))},Hx=(y,S,O,B,H)=>{((Pt,Vt,Jt,on)=>{const gt=ns(Pt).rows;if(Vt>0&&Vt<gt.length){const Sn=((to,Eo)=>ut(to,(io,no)=>Ae(io,ko=>Eo(ko.element,no.element))?io:io.concat([no]),[]))(gt[Vt-1].cells,Jt);Fe(Sn,to=>{let Eo=re.none();for(let io=Vt;io<gt.length;io++)for(let no=0;no<Zi(gt[0]);no++){const ko=gt[io],Xo=Hs(ko,no);Jt(Xo.element,to.element)&&(Eo.isNone()&&(Eo=re.some(on())),Eo.each(ii=>{lh(ko,no,Ms(ii,!0,Xo.isLocked))}))}})}})(S,y,H,B.cell);const j=Fa(S),se=Vx(S,O),ce={...se,colDelta:se.colDelta-j.length},_e=Ym(S,ce,B),{cols:Be,rows:et}=ns(_e),Ne=Fa(_e),Ue=Vx(O,S),Ge={...Ue,colDelta:Ue.colDelta+Ne.length},ct=(Lt=B,Ft=Ne,R(O,Pt=>ut(Ft,(Vt,Jt)=>{const on=mv(1,Pt,Lt,de)[0];return ah(Vt,Jt,on)},Pt))),ft=Ym(ct,Ge,B);var Lt,Ft;return[...Be,...et.slice(0,y),...ft,...et.slice(y,et.length)]},Ux=(y,S,O,B,H)=>{const{rows:j,cols:se}=ns(y),ce=j.slice(0,S),_e=j.slice(S);return[...se,...ce,((Be,et,Ne,Ue)=>Nf(Be,Ge=>Ue(Ge,Ne),et))(j[O],(Be,et)=>S>0&&S<j.length&&B(us(j[S-1],et),us(j[S],et))?Hs(j[S],et):Ms(H(Be.element,B),!0,Be.isLocked),B,H),..._e]},gv=(y,S,O,B,H)=>R(y,j=>{const se=S>0&&S<Zi(j)&&B(us(j,S-1),us(j,S)),ce=((_e,Be,et,Ne,Ue,Ge,ct)=>{if(et!=="colgroup"&&Ne)return Hs(_e,Be);{const ft=Hs(_e,Ue);return Ms(ct(ft.element,Ge),!0,!1)}})(j,S,j.section,se,O,B,H);return ah(j,S,ce)}),Wx=(y,S,O,B)=>((H,j,se,ce)=>us(H[j],se)!==void 0&&j>0&&ce(us(H[j-1],se),us(H[j],se)))(y,S,O,B)||((H,j,se)=>j>0&&se(us(H,j-1),us(H,j)))(y[S],O,B),Kx=(y,S,O,B)=>{const H=j=>(se=>se==="row"?(ce=>Af(ce,"rowspan")>1)(S):oi(S))(j)?`${j}group`:j;return y?Gm(S)?H(O):null:B&&Gm(S)?H(O==="row"?"col":"row"):null},hv=(y,S,O)=>Ms(O(y.element,S),!0,y.isLocked),Mp=(y,S,O,B,H,j,se)=>R(y,(ce,_e)=>((Be,et)=>{const Ne=Be.cells,Ue=R(Ne,(Ge,ct)=>{if((ft=>Ae(S,Lt=>O(ft.element,Lt.element)))(Ge)){const ft=se(Ge,_e,ct)?H(Ge,O,B):Ge;return j(ft,_e,ct).each(Lt=>{var Ft,Pt;Ft=ft.element,Pt={scope:re.from(Lt)},pn(Pt,(Vt,Jt)=>{Vt.fold(()=>{Oo(Ft,Jt)},on=>{ti(Ft.dom,Jt,on)})})}),ft}return Ge});return ui(Be.element,Ue,Be.section,Be.isNew)})(ce)),jx=(y,S,O)=>Pe(y,(B,H)=>Wx(y,H,S,O)?[]:[Hs(B,S)]),pv=(y,S,O,B,H)=>{const j=ns(y).rows,se=Pe(S,et=>jx(j,et,B)),ce=R(j,et=>hc(et.cells)),_e=((et,Ne)=>mt(Ne,J)&&hc(et)?de:(Ue,Ge,ct)=>!(ht(Ue.element)==="th"&&Ne[Ge]))(se,ce);return Mp(y,se,B,H,hv,((et,Ne)=>(Ue,Ge)=>re.some(Kx(et,Ue.element,"row",Ne[Ge])))(O,ce),_e)},bv=(y,S,O,B)=>{const H=ns(y).rows,j=R(S,se=>Hs(H[se.row],se.column));return Mp(y,j,O,B,hv,re.none,de)},Xm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const S=[],O={};return Fe(y,(B,H)=>{const j=co(B);if(j.length!==1)throw new Error("one and only one name per case");const se=j[0],ce=B[se];if(O[se]!==void 0)throw new Error("duplicate key detected:"+se);if(se==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ce))throw new Error("case arguments must be an array");S.push(se),O[se]=(..._e)=>{const Be=_e.length;if(Be!==ce.length)throw new Error("Wrong number of arguments to case "+se+". Expected "+ce.length+" ("+ce+"), got "+Be);return{fold:(...et)=>{if(et.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+et.length);return et[H].apply(null,_e)},match:et=>{const Ne=co(et);if(S.length!==Ne.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Ne.join(","));if(!mt(S,Ue=>it(Ne,Ue)))throw new Error("Not all branches were specified when using match. Specified: "+Ne.join(", ")+`
Required: `+S.join(", "));return et[se].apply(null,_e)},log:et=>{console.log(et,{constructors:S,constructor:se,params:_e})}}}}),O},Bp={...Xm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Zx=(y,S,O)=>{const B=((H,j)=>Lc(H)?((se,ce)=>{const _e=Pc(se);return R(_e,(Be,et)=>({element:Be.element,width:ce[et],colspan:Be.colspan}))})(H,j):((se,ce)=>{const _e=Hn(se);return R(_e,Be=>{const et=((Ne,Ue,Ge)=>{let ct=0;for(let ft=Ne;ft<Ue;ft++)ct+=Ge[ft]!==void 0?Ge[ft]:0;return ct})(Be.column,Be.column+Be.colspan,ce);return{element:Be.element,width:et,colspan:Be.colspan}})})(H,j))(y,S);Fe(B,H=>{O.setElementWidth(H.element,H.width)})},Jd=(y,S,O,B,H)=>{const j=Lo(y),se=H.getCellDelta(S),ce=H.getWidths(j,H),_e=O===j.grid.columns-1,Be=B.clampTableDelta(ce,O,se,H.minCellWidth(),_e),et=((Ue,Ge,ct,ft,Lt)=>{const Ft=Ue.slice(0),Pt=((Jt,on)=>Jt.length===0?Bp.none():Jt.length===1?Bp.only(0):on===0?Bp.left(0,1):on===Jt.length-1?Bp.right(on-1,on):on>0&&on<Jt.length-1?Bp.middle(on-1,on,on+1):Bp.none())(Ue,Ge),Vt=W(R(Ft,W(0)));return Pt.fold(Vt,Jt=>ft.singleColumnWidth(Ft[Jt],ct),(Jt,on)=>Lt.calcLeftEdgeDeltas(Ft,Jt,on,ct,ft.minCellWidth(),ft.isRelative),(Jt,on,gt)=>Lt.calcMiddleDeltas(Ft,Jt,on,gt,ct,ft.minCellWidth(),ft.isRelative),(Jt,on)=>Lt.calcRightEdgeDeltas(Ft,Jt,on,ct,ft.minCellWidth(),ft.isRelative))})(ce,O,Be,H,B),Ne=R(et,(Ue,Ge)=>Ue+ce[Ge]);Zx(j,Ne,H),B.resizeTable(H.adjustTableWidth,Be,_e)},ph=(y,S,O)=>{const B=Lo(y),H=((_e,Be)=>qi(_e,Be,w1,et=>et.getOrThunk(kr)))(B,y),j=R(H,(_e,Be)=>O===Be?Math.max(S+_e,kr()):_e),se=((_e,Be)=>R(_e.all,(et,Ne)=>({element:et.element,height:Be[Ne]})))(B,j);Fe(se,_e=>{rd(_e.element,_e.height)}),Fe(Hn(B),_e=>{(Be=>{Cl(Be,"height")})(_e.element)});const ce=Gt(j,(_e,Be)=>_e+Be,0);rd(y,ce)},bh=y=>ut(y,(S,O)=>Ae(S,B=>B.column===O.column)?S:S.concat([O]),[]).sort((S,O)=>S.column-O.column),Qd=cr("col"),jf=cr("colgroup"),vv=y=>ht(y)==="tr"||jf(y),WE=y=>({element:y,colspan:Ts(y,"colspan",1),rowspan:Ts(y,"rowspan",1)}),yv=y=>uo(y,"scope").map(S=>S.substr(0,3)),Uc=(y,S=WE)=>{const O=H=>{if(vv(H))return jf((j={element:H}).element)?y.colgroup(j):y.row(j);{const se=H,ce=(_e=>Qd(_e.element)?y.col(_e):y.cell(_e))(S(se));return B=re.some({item:se,replacement:ce}),ce}var j};let B=re.none();return{getOrInit:(H,j)=>B.fold(()=>O(H),se=>j(H,se.item)?se.replacement:O(H))}},t_=y=>S=>{const O=[],B=H=>{const j=y==="td"?{scope:null}:{},se=S.replace(H,y,j);return O.push({item:H,sub:se}),se};return{replaceOrInit:(H,j)=>{if(vv(H)||Qd(H))return H;{const se=H;return((ce,_e)=>kn(O,Be=>_e(Be.item,ce)))(se,j).fold(()=>B(se),ce=>j(H,ce.item)?ce.sub:B(se))}}}},Gx=y=>({unmerge:S=>{const O=yv(S);return O.each(B=>xr(S,"scope",B)),()=>{const B=y.cell({element:S,colspan:1,rowspan:1});return Cl(B,"width"),Cl(S,"width"),O.each(H=>xr(B,"scope",H)),B}},merge:S=>(Cl(S[0],"width"),(()=>{const O=an(R(S,yv));if(O.length===0)return re.none();{const B=O[0],H=["row","col"];return Ae(O,j=>j!==B&&it(H,j))?re.none():re.from(B)}})().fold(()=>Oo(S[0],"scope"),O=>xr(S[0],"scope",O+"group")),W(S[0]))}),vh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ha=Ff(),yh=y=>((S,O)=>{const B=S.property().name(O);return it(vh,B)})(ha,y),xh=y=>((S,O)=>{const B=S.property().name(O);return it(["ol","ul"],B)})(ha,y),R1=y=>{const S=cr("br"),O=H=>vu(H).bind(j=>{const se=Xl(j).map(ce=>!!yh(ce)||!!((_e,Be)=>it(["br","img","hr","input"],_e.property().name(Be)))(ha,ce)&&ht(ce)!=="img").getOr(!1);return xl(j).map(ce=>{return se===!0||ht(_e=ce)==="li"||Ie(_e,xh).isSome()||S(j)||yh(ce)&&!Wr(H,ce)?[]:[Xt.fromTag("br")];var _e})}).getOr([]),B=(()=>{const H=Pe(y,j=>{const se=Di(j);return(ce=>mt(ce,_e=>S(_e)||Fo(_e)&&Um(_e).trim().length===0))(se)?[]:se.concat(O(j))});return H.length===0?[Xt.fromTag("br")]:H})();wl(y[0]),zl(y[0],B)},nr=y=>mo(y,!0),Al=y=>{Os(y).length===0&&ls(y)},ud=(y,S)=>({grid:y,cursor:S}),Da=(y,S,O)=>{const B=((H,j,se)=>{var ce,_e;const Be=ns(H).rows;return re.from((_e=(ce=Be[j])===null||ce===void 0?void 0:ce.cells[se])===null||_e===void 0?void 0:_e.element).filter(nr).orThunk(()=>(et=>Q(et,Ne=>Q(Ne.cells,Ue=>{const Ge=Ue.element;return mn(nr(Ge),Ge)})))(Be))})(y,S,O);return ud(y,B)},Xr=y=>ut(y,(S,O)=>Ae(S,B=>B.row===O.row)?S:S.concat([O]),[]).sort((S,O)=>S.row-O.row),xv=(y,S)=>(O,B,H,j,se)=>{const ce=Xr(B),_e=R(ce,et=>et.row),Be=((et,Ne,Ue,Ge,ct,ft,Lt)=>{const{cols:Ft,rows:Pt}=ns(et),Vt=Pt[Ne[0]],Jt=Pe(Ne,io=>((no,ko,Xo)=>{const ii=no[ko];return Pe(ii.cells,(Ra,Qi)=>Wx(no,ko,Qi,Xo)?[]:[Ra])})(Pt,io,ct)),on=R(Vt.cells,(io,no)=>hc(jx(Pt,no,ct))),gt=[...Pt];Fe(Ne,io=>{gt[io]=Lt.transformRow(Pt[io],Ue)});const Sn=[...Ft,...gt],to=((io,no)=>mt(no,J)&&hc(io.cells)?de:(ko,Xo,ii)=>!(ht(ko.element)==="th"&&no[ii]))(Vt,on),Eo=((io,no)=>(ko,Xo,ii)=>re.some(Kx(io,ko.element,"col",no[ii])))(Ge,on);return Mp(Sn,Jt,ct,ft,Lt.transformCell,Eo,to)})(O,_e,y,S,H,j.replaceOrInit,se);return Da(Be,B[0].row,B[0].column)},n_=xv("thead",!0),KE=xv("tbody",!1),ds=xv("tfoot",!1),N1=(y,S,O)=>{const B=((j,se)=>Ul(j,()=>se))(y,O.section),H=di(B);return Es(H,S,!0)},qx=(y,S,O,B)=>((H,j,se,ce)=>{const _e=di(j),Be=ce.getWidths(_e,ce);Zx(_e,Be,ce)})(0,S,0,B.sizing),Jm=(y,S,O,B)=>((H,j,se,ce,_e)=>{const Be=di(j),et=ce.getWidths(Be,ce),Ne=ce.pixelWidth(),{newSizes:Ue,delta:Ge}=_e.calcRedestributedWidths(et,Ne,se.pixelDelta,ce.isRelative);Zx(Be,Ue,ce),ce.adjustTableWidth(Ge)})(0,S,O,B.sizing,B.resize),Wc=(y,S)=>Ae(S,O=>O.column===0&&O.isLocked),Fp=(y,S)=>Ae(S,O=>O.column+O.colspan>=y.grid.columns&&O.isLocked),_n=(y,S)=>{const O=Sp(y),B=bh(S);return ut(B,(H,j)=>H+O[j.column].map(ih).getOr(0),0)},_u=y=>(S,O)=>Xd(S,O).filter(B=>!(y?Wc:Fp)(S,B)).map(B=>({details:B,pixelDelta:_n(S,B)})),Yx=y=>(S,O)=>pc(S,O).filter(B=>!(y?Wc:Fp)(S,B.cells)),P1=t_("th"),$p=t_("td"),L1=Zs((y,S,O,B)=>{const H=S[0].row,j=Xr(S),se=Gt(j,(ce,_e)=>({grid:Ux(ce.grid,H,_e.row+ce.delta,O,B.getOrInit),delta:ce.delta+1}),{grid:y,delta:0}).grid;return Da(se,H,S[0].column)},Xd,K,K,Uc),wh=Zs((y,S,O,B)=>{const H=Xr(S),j=H[H.length-1],se=j.row+j.rowspan,ce=Gt(H,(_e,Be)=>Ux(_e,se,Be.row,O,B.getOrInit),y);return Da(ce,se,S[0].column)},Xd,K,K,Uc),Kc=Zs((y,S,O,B)=>{const H=S.details,j=bh(H),se=j[0].column,ce=Gt(j,(_e,Be)=>({grid:gv(_e.grid,se,Be.column+_e.delta,O,B.getOrInit),delta:_e.delta+1}),{grid:y,delta:0}).grid;return Da(ce,H[0].row,se)},_u(!0),Jm,K,Uc),jE=Zs((y,S,O,B)=>{const H=S.details,j=H[H.length-1],se=j.column+j.colspan,ce=bh(H),_e=Gt(ce,(Be,et)=>gv(Be,se,et.column,O,B.getOrInit),y);return Da(_e,H[0].row,se)},_u(!1),Jm,K,Uc),M1=Zs((y,S,O,B)=>{const H=bh(S.details),j=((ce,_e)=>Pe(ce,Be=>{const et=Be.cells,Ne=Gt(_e,(Ue,Ge)=>Ge>=0&&Ge<Ue.length?Ue.slice(0,Ge).concat(Ue.slice(Ge+1)):Ue,et);return Ne.length>0?[ui(Be.element,Ne,Be.section,Be.isNew)]:[]}))(y,R(H,ce=>ce.column)),se=j.length>0?j[0].cells.length-1:0;return Da(j,H[0].row,Math.min(H[0].column,se))},(y,S)=>Xi(y,S).map(O=>({details:O,pixelDelta:-_n(y,O)})),Jm,Al,Uc),Xx=Zs((y,S,O,B)=>{const H=Xr(S),j=((ce,_e,Be)=>{const{rows:et,cols:Ne}=ns(ce);return[...Ne,...et.slice(0,_e),...et.slice(Be+1)]})(y,H[0].row,H[H.length-1].row),se=Math.max(ns(j).rows.length-1,0);return Da(j,Math.min(S[0].row,se),S[0].column)},Xd,K,Al,Uc),B1=Zs((y,S,O,B)=>{const H=bh(S),j=R(H,ce=>ce.column),se=pv(y,j,!0,O,B.replaceOrInit);return Da(se,S[0].row,S[0].column)},Xi,K,K,P1),Jx=Zs((y,S,O,B)=>{const H=bh(S),j=R(H,ce=>ce.column),se=pv(y,j,!1,O,B.replaceOrInit);return Da(se,S[0].row,S[0].column)},Xi,K,K,$p),Qx=Zs(n_,Xi,K,K,P1),F1=Zs(KE,Xi,K,K,$p),e2=Zs(ds,Xi,K,K,$p),t2=Zs((y,S,O,B)=>{const H=bv(y,S,O,B.replaceOrInit);return Da(H,S[0].row,S[0].column)},Xi,K,K,P1),o_=Zs((y,S,O,B)=>{const H=bv(y,S,O,B.replaceOrInit);return Da(H,S[0].row,S[0].column)},Xi,K,K,$p),ZE=Zs((y,S,O,B)=>{const H=S.cells;R1(H);const j=((se,ce,_e,Be)=>{const et=ns(se).rows;if(et.length===0)return se;for(let Ne=ce.startRow;Ne<=ce.finishRow;Ne++)for(let Ue=ce.startCol;Ue<=ce.finishCol;Ue++){const Ge=et[Ne],ct=Hs(Ge,Ue).isLocked;lh(Ge,Ue,Ms(Be(),!1,ct))}return se})(y,S.bounds,0,B.merge(H));return ud(j,re.from(H[0]))},(y,S)=>((O,B)=>B.mergable)(0,S).filter(O=>fv(y,O.cells)),qx,K,Gx),wv=Zs((y,S,O,B)=>{const H=Gt(S,(j,se)=>Pp(j,se,O,B.unmerge(se)),y);return ud(H,re.from(S[0]))},(y,S)=>((O,B)=>B.unmergable)(0,S).filter(O=>fv(y,O)),qx,K,Gx),n2=Zs((y,S,O,B)=>{const H=((ce,_e)=>{const Be=Lo(ce);return Es(Be,_e,!0)})(S.clipboard,S.generators);var j,se;return((ce,_e,Be,et,Ne)=>{const Ue=Fa(_e),Ge=((Ft,Pt,Vt)=>{const Jt=Zi(Pt[0]),on=ns(Pt).cols.length+Ft.row,gt=ze(Jt-Ft.column,Sn=>Sn+Ft.column);return{row:on,column:kn(gt,Sn=>mt(Vt,to=>to!==Sn)).getOr(Jt-1)}})(ce,_e,Ue),ct=ns(Be).rows,ft=I1(Ge,ct,Ue);return((Ft,Pt,Vt)=>{if(Ft.row>=Pt.length||Ft.column>Zi(Pt[0]))return Lp.error("invalid start address out of table bounds, row: "+Ft.row+", column: "+Ft.column);const Jt=Pt.slice(Ft.row),on=Jt[0].cells.slice(Ft.column),gt=Zi(Vt[0]),Sn=Vt.length;return Lp.value({rowDelta:Jt.length-Sn,colDelta:on.length-gt})})(Ge,_e,ct).map(Ft=>{const Pt={...Ft,colDelta:Ft.colDelta-ft.length},Vt=Ym(_e,Pt,et),Jt=Fa(Vt),on=I1(Ge,ct,Jt);return((gt,Sn,to,Eo,io,no)=>{const ko=gt.row,Xo=gt.column,ii=ko+to.length,Ra=Xo+Zi(to[0])+no.length,Qi=po(no,de);for(let vc=ko;vc<ii;vc++){let dg=0;for(let Na=Xo;Na<Ra;Na++){if(Qi[Na]){dg++;continue}UE(Sn,vc,Na,io)&&Pp(Sn,us(Sn[vc],Na),io,Eo.cell);const md=Na-Xo-dg,Zp=Hs(to[vc-ko],md),im=Zp.element,Gp=Eo.replace(im);lh(Sn[vc],Na,Ms(Gp,!0,Zp.isLocked))}}return Sn})(Ge,Vt,ct,et,Ne,on)})})((j=S.row,se=S.column,{row:j,column:se}),y,H,S.generators,O).fold(()=>ud(y,re.some(S.element)),ce=>Da(ce,S.row,S.column))},(y,S)=>wp(S.element).bind(O=>Rs(y,O).map(B=>({...B,generators:S.generators,clipboard:S.clipboard}))),qx,K,Uc),Ch=Zs((y,S,O,B)=>{const H=ns(y).rows,j=S.cells[0].column,se=H[S.cells[0].row],ce=N1(S.clipboard,S.generators,se),_e=D1(j,y,ce,S.generators,O);return Da(_e,S.cells[0].row,S.cells[0].column)},Yx(!0),K,K,Uc),GE=Zs((y,S,O,B)=>{const H=ns(y).rows,j=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,se=H[S.cells[0].row],ce=N1(S.clipboard,S.generators,se),_e=D1(j,y,ce,S.generators,O);return Da(_e,S.cells[0].row,j)},Yx(!1),K,K,Uc),qE=Zs((y,S,O,B)=>{const H=ns(y).rows,j=S.cells[0].row,se=H[j],ce=N1(S.clipboard,S.generators,se),_e=Hx(j,y,ce,S.generators,O);return Da(_e,S.cells[0].row,S.cells[0].column)},pc,K,K,Uc),Zf=Zs((y,S,O,B)=>{const H=ns(y).rows,j=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,se=H[S.cells[0].row],ce=N1(S.clipboard,S.generators,se),_e=Hx(j,y,ce,S.generators,O);return Da(_e,j,S.cells[0].column)},pc,K,K,Uc),Qm=(y,S)=>{const O=Lo(y);return Xd(O,S).bind(B=>{const H=B[B.length-1],j=B[0].column,se=H.column+H.colspan,ce=tt(R(O.all,_e=>Ot(_e.cells,Be=>Be.column>=j&&Be.column<se)));return Pi(ce)}).getOr("")},$1=(y,S)=>{const O=Lo(y);return Xd(O,S).bind(Pi).getOr("")},r_=(y,S)=>{const O=Lo(y);return Xd(O,S).bind(B=>{const H=B[B.length-1],j=B[0].row,se=H.row+H.rowspan;return(ce=>{const _e=R(ce,Ne=>cv(Ne).type),Be=it(_e,"header"),et=it(_e,"footer");if(Be||et){const Ne=it(_e,"body");return!Be||Ne||et?Be||Ne||!et?re.none():re.some("footer"):re.some("header")}return re.some("body")})(O.all.slice(j,se))}).getOr("")},o2=(y,S)=>y.dispatch("NewRow",{node:S}),Cv=(y,S)=>y.dispatch("NewCell",{node:S}),ef=(y,S,O)=>{y.dispatch("TableModified",{...O,table:S})},V1={structure:!1,style:!0},yi={structure:!0,style:!1},$s={structure:!0,style:!0},Gf=(y,S)=>ad(y)?id(S):L(y)?Ss(S):Ap(S),r2=(y,S,O)=>{const B=et=>ht(wr(et))==="table",H=Gd(y),j=ov(y)?K:Np,se=et=>{switch(Wm(y)){case"section":return Mi();case"sectionCells":return JC();case"cells":return QC();default:return((Ne,Ue)=>{var Ge;switch((Ge=Lo(Ne),Q(Ge.all,ct=>{const ft=cv(ct);return ft.type==="header"?re.from(ft.subType):re.none()})).getOr(Ue)){case"section":return Li();case"sectionCells":return Yt();case"cells":return qm()}})(et,"section")}},ce=(et,Ne,Ue,Ge)=>(ct,ft,Lt=!1)=>{ks(ct);const Ft=Xt.fromDom(y.getDoc()),Pt=os(Ue,Ft,H),Vt={sizing:Gf(y,ct),resize:ov(y)?cd():k1(),section:se(ct)};return Ne(ct)?et(ct,ft,Pt,Vt).bind(Jt=>{S.refresh(ct.dom),Fe(Jt.newRows,gt=>{o2(y,gt.dom)}),Fe(Jt.newCells,gt=>{Cv(y,gt.dom)});const on=((gt,Sn)=>Sn.cursor.fold(()=>{const to=Os(gt);return On(to).filter(ol).map(Eo=>{O.clearSelectedCells(gt.dom);const io=y.dom.createRng();return io.selectNode(Eo.dom),y.selection.setRng(io),xr(Eo,"data-mce-selected","1"),io})},to=>{const Eo=Fx(Rp,to),io=y.dom.createRng();return io.setStart(Eo.element.dom,Eo.offset),io.setEnd(Eo.element.dom,Eo.offset),y.selection.setRng(io),O.clearSelectedCells(gt.dom),re.some(io)}))(ct,Jt);return ol(ct)&&(ks(ct),Lt||ef(y,ct.dom,Ge)),on.map(gt=>({rng:gt,effect:Ge}))}):re.none()},_e=ce(Xx,et=>!B(y)||Cu(et).rows>1,K,yi),Be=ce(M1,et=>!B(y)||Cu(et).columns>1,K,yi);return{deleteRow:_e,deleteColumn:Be,insertRowsBefore:ce(L1,de,K,yi),insertRowsAfter:ce(wh,de,K,yi),insertColumnsBefore:ce(Kc,de,j,yi),insertColumnsAfter:ce(jE,de,j,yi),mergeCells:ce(ZE,de,K,yi),unmergeCells:ce(wv,de,K,yi),pasteColsBefore:ce(Ch,de,K,yi),pasteColsAfter:ce(GE,de,K,yi),pasteRowsBefore:ce(qE,de,K,yi),pasteRowsAfter:ce(Zf,de,K,yi),pasteCells:ce(n2,de,K,$s),makeCellsHeader:ce(t2,de,K,yi),unmakeCellsHeader:ce(o_,de,K,yi),makeColumnsHeader:ce(B1,de,K,yi),unmakeColumnsHeader:ce(Jx,de,K,yi),makeRowsHeader:ce(Qx,de,K,yi),makeRowsBody:ce(F1,de,K,yi),makeRowsFooter:ce(e2,de,K,yi),getTableRowType:r_,getTableCellType:$1,getTableColType:Qm}},z1=(y,S,O)=>{const B=Ts(y,S,1);O===1||B<=1?Oo(y,S):xr(y,S,Math.min(O,B))},Ji=(y,S)=>O=>{const B=O.column+O.colspan-1,H=O.column;return B>=y&&H<S},ul=Xm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),_h=(y,S,O)=>{const B=O.substring(0,O.length-y.length),H=parseFloat(B);return B===H.toString()?S(H):ul.invalid(O)},qf={...ul,from:y=>cn(y,"%")?_h("%",ul.percent,y):cn(y,"px")?_h("px",ul.pixels,y):ul.invalid(y)},eg=(y,S,O)=>{const B=qf.from(O),H=mt(y,j=>j==="0px")?((j,se)=>{const ce=j.fold(()=>W(""),_e=>W(_e/se+"px"),()=>W(100/se+"%"));return ze(se,ce)})(B,y.length):((j,se,ce)=>j.fold(()=>se,_e=>((Be,et,Ne)=>{const Ue=Ne/et;return R(Be,Ge=>qf.from(Ge).fold(()=>Ge,ct=>ct*Ue+"px",ct=>ct/100*Ne+"px"))})(se,ce,_e),_e=>((Be,et)=>R(Be,Ne=>qf.from(Ne).fold(()=>Ne,Ue=>Ue/et*100+"%",Ue=>Ue+"%")))(se,ce)))(B,y,S);return s2(H)},H1=(y,S)=>y.length===0?S:Gt(y,(O,B)=>qf.from(B).fold(W(0),J,J)+O,0),s_=(y,S)=>qf.from(y).fold(W(y),O=>O+S+"px",O=>O+S+"%"),s2=y=>{if(y.length===0)return y;const S=Gt(y,(B,H)=>{const j=qf.from(H).fold(()=>({value:H,remainder:0}),se=>((ce,_e)=>{const Be=Math.floor(ce);return{value:Be+"px",remainder:ce-Be}})(se),se=>({value:se+"%",remainder:0}));return{output:[j.value].concat(B.output),remainder:B.remainder+j.remainder}},{output:[],remainder:0}),O=S.output;return O.slice(0,O.length-1).concat([s_(O[O.length-1],Math.round(S.remainder))])},tg=qf.from,Jr=(y,S,O)=>{const B=Lo(y),H=B.all,j=Hn(B),se=Pc(B);S.each(ce=>{const _e=tg(ce).fold(W("px"),W("px"),W("%")),Be=Sl(y),et=((Ue,Ge)=>bi(Ue,Ge,Va,Ep))(B,y),Ne=eg(et,Be,ce);Lc(B)?((Ue,Ge,ct)=>{Fe(Ge,(ft,Lt)=>{const Ft=H1([Ue[Lt]],Ql());Ro(ft.element,"width",Ft+ct)})})(Ne,se,_e):((Ue,Ge,ct)=>{Fe(Ge,ft=>{const Lt=Ue.slice(ft.column,ft.colspan+ft.column),Ft=H1(Lt,Ql());Ro(ft.element,"width",Ft+ct)})})(Ne,j,_e),Ro(y,"width",ce)}),O.each(ce=>{const _e=jd(y),Be=((et,Ne)=>qi(et,Ne,Ia,Ep))(B,y);((et,Ne,Ue)=>{Fe(Ue,Ge=>{Cl(Ge.element,"height")}),Fe(Ne,(Ge,ct)=>{Ro(Ge.element,"height",et[ct])})})(eg(Be,_e,ce),H,j),Ro(y,"height",ce)})},U1=y=>mc(y).exists(S=>Si.test(S)),fs=y=>mc(y).exists(S=>Gn.test(S)),dd=y=>mc(y).isNone(),Su=y=>{Oo(y,"width"),Oo(y,"height")},Sh=y=>{const S=Mf(y);Jr(y,re.some(S),re.none()),Su(y)},Tl=y=>{const S=(O=>Sl(O)+"px")(y);Jr(y,re.some(S),re.none()),Su(y)},pa=y=>{Cl(y,"width");const S=Nc(y),O=S.length>0?S:Os(y);Fe(O,B=>{Cl(B,"width"),Su(B)}),Su(y)},ng={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},_v=(y,S,O,B)=>ze(y,H=>((j,se,ce,_e)=>{const Be=Xt.fromTag("tr");for(let et=0;et<j;et++){const Ne=Xt.fromTag(_e<se||et<ce?"th":"td");et<ce&&xr(Ne,"scope","row"),_e<se&&xr(Ne,"scope","col"),ps(Ne,Xt.fromTag("br")),ps(Be,Ne)}return Be})(S,O,B,H)),kh=(y,S)=>{y.selection.select(S.dom,!0),y.selection.collapse(!0)},Sv=(y,S,O,B,H)=>{const j=(ce=>{const _e=ce.options,Be=_e.get("table_default_styles");return _e.isSet("table_default_styles")?Be:((et,Ne)=>G(et)||!Le(et)?Ne:L(et)?{...Ne,width:yu(et)}:{...Ne,width:tc})(ce,Be)})(y),se={styles:j,attributes:Bt(y),colGroups:Yn(y)};return y.undoManager.ignore(()=>{const ce=((Be,et,Ne,Ue,Ge,ct=ng)=>{const ft=Xt.fromTag("table"),Lt=Ge!=="cells";Jl(ft,ct.styles),ji(ft,ct.attributes),ct.colGroups&&ps(ft,(Jt=>{const on=Xt.fromTag("colgroup");return ze(Jt,()=>ps(on,Xt.fromTag("col"))),on})(et));const Ft=Math.min(Be,Ne);if(Lt&&Ne>0){const Jt=Xt.fromTag("thead");ps(ft,Jt);const on=_v(Ne,et,Ge==="sectionCells"?Ft:0,Ue);zl(Jt,on)}const Pt=Xt.fromTag("tbody");ps(ft,Pt);const Vt=_v(Lt?Be-Ft:Be,et,Lt?0:Ne,Ue);return zl(Pt,Vt),ft})(O,S,H,B,Wm(y),se);xr(ce,"data-mce-id","__mce");const _e=(Be=>{const et=Xt.fromTag("div"),Ne=Xt.fromDom(Be.dom.cloneNode(!0));return ps(et,Ne),(Ue=>Ue.dom.innerHTML)(et)})(ce);y.insertContent(_e),y.addVisual()}),pt(wr(y),'table[data-mce-id="__mce"]').map(ce=>(L(y)?Tl(ce):G(y)?pa(ce):(ad(y)||(_e=>m(_e)&&_e.indexOf("%")!==-1)(j.width))&&Sh(ce),ks(ce),Oo(ce,"data-mce-id"),((_e,Be)=>{Fe(Mr(Be,"tr"),et=>{o2(_e,et.dom),Fe(Mr(et,"th,td"),Ne=>{Cv(_e,Ne.dom)})})})(y,ce),((_e,Be)=>{pt(Be,"td,th").each(U(kh,_e))})(y,ce),ce.dom)).getOrNull()};var Eh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const i_="x-tinymce/dom-table-",i2=i_+"rows",a2=i_+"columns",a_=y=>{const S=Eh.FakeClipboardItem(y);Eh.write([S])},ba=y=>{var S;const O=(S=Eh.read())!==null&&S!==void 0?S:[];return Q(O,B=>re.from(B.getType(y)))},og=y=>{ba(y).isSome()&&Eh.clear()},l_=y=>{y.fold(dl,S=>a_({[i2]:S}))},jc=()=>ba(i2),dl=()=>og(i2),Ah=y=>{y.fold(c_,S=>a_({[a2]:S}))},Vp=()=>ba(a2),c_=()=>og(a2),Ns=y=>Uf(Fc(y),Ks(y)).filter(_1),Ps=(y,S)=>{const O=Ks(y),B=Ne=>_l(Ne,O),H=Ne=>(Ue=>bs(Fc(Ue),Ks(Ue)).filter(_1))(y).bind(Ue=>B(Ue).map(Ge=>Ne(Ge,Ue))),j=Ne=>{y.focus()},se=(Ne,Ue=!1)=>H((Ge,ct)=>{const ft=No(Vc(y),Ge,ct);Ne(Ge,ft,Ue).each(j)}),ce=()=>H((Ne,Ue)=>((Ge,ct,ft)=>{const Lt=Lo(Ge);return Xd(Lt,ct).bind(Ft=>{const Pt=Es(Lt,ft,!1),Vt=ns(Pt).rows.slice(Ft[0].row,Ft[Ft.length-1].row+Ft[Ft.length-1].rowspan),Jt=Pe(Vt,gt=>{const Sn=Ot(gt.cells,to=>!to.isLocked);return Sn.length>0?[{...gt,cells:Sn}]:[]}),on=dv(Jt);return mn(on.length>0,on)}).map(Ft=>R(Ft,Pt=>{const Vt=Pm(Pt.element);return Fe(Pt.cells,Jt=>{const on=au(Jt.element);Yd(on,"colspan",Jt.colspan,1),Yd(on,"rowspan",Jt.rowspan,1),ps(Vt,on)}),Vt}))})(Ne,No(Vc(y),Ne,Ue),os(K,Xt.fromDom(y.getDoc()),re.none()))),_e=()=>H((Ne,Ue)=>((Ge,ct)=>{const ft=Lo(Ge);return Xi(ft,ct).map(Lt=>{const Ft=Lt[Lt.length-1],Pt=Lt[0].column,Vt=Ft.column+Ft.colspan,Jt=((gt,Sn,to)=>{if(Lc(gt)){const Eo=Ot(Pc(gt),Ji(Sn,to)),io=R(Eo,ko=>{const Xo=au(ko.element);return z1(Xo,"span",to-Sn),Xo}),no=Xt.fromTag("colgroup");return zl(no,io),[no]}return[]})(ft,Pt,Vt),on=((gt,Sn,to)=>R(gt.all,Eo=>{const io=Ot(Eo.cells,Ji(Sn,to)),no=R(io,Xo=>{const ii=au(Xo.element);return z1(ii,"colspan",to-Sn),ii}),ko=Xt.fromTag("tr");return zl(ko,no),ko}))(ft,Pt,Vt);return[...Jt,...on]})})(Ne,No(Vc(y),Ne,Ue))),Be=(Ne,Ue)=>Ue().each(Ge=>{const ct=R(Ge,ft=>au(ft));H((ft,Lt)=>{const Ft=Pr(Xt.fromDom(y.getDoc())),Pt=((Vt,Jt,on,gt)=>({selection:zf(Vt),clipboard:on,generators:gt}))(Vc(y),0,ct,Ft);Ne(ft,Pt).each(j)})}),et=Ne=>(Ue,Ge)=>((ct,ft)=>$e(ct,ft)?re.from(ct[ft]):re.none())(Ge,"type").each(ct=>{se(Ne(ct),Ge.no_events)});pn({mceTableSplitCells:()=>se(S.unmergeCells),mceTableMergeCells:()=>se(S.mergeCells),mceTableInsertRowBefore:()=>se(S.insertRowsBefore),mceTableInsertRowAfter:()=>se(S.insertRowsAfter),mceTableInsertColBefore:()=>se(S.insertColumnsBefore),mceTableInsertColAfter:()=>se(S.insertColumnsAfter),mceTableDeleteCol:()=>se(S.deleteColumn),mceTableDeleteRow:()=>se(S.deleteRow),mceTableCutCol:()=>_e().each(Ne=>{Ah(Ne),se(S.deleteColumn)}),mceTableCutRow:()=>ce().each(Ne=>{l_(Ne),se(S.deleteRow)}),mceTableCopyCol:()=>_e().each(Ne=>Ah(Ne)),mceTableCopyRow:()=>ce().each(Ne=>l_(Ne)),mceTablePasteColBefore:()=>Be(S.pasteColsBefore,Vp),mceTablePasteColAfter:()=>Be(S.pasteColsAfter,Vp),mceTablePasteRowBefore:()=>Be(S.pasteRowsBefore,jc),mceTablePasteRowAfter:()=>Be(S.pasteRowsAfter,jc),mceTableDelete:()=>Ns(y).each(Ne=>{_l(Ne,O).filter(he(O)).each(Ue=>{const Ge=Xt.fromText("");if(Xu(Ue,Ge),ls(Ue),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const ct=y.dom.createRng();ct.setStart(Ge.dom,0),ct.setEnd(Ge.dom,0),y.selection.setRng(ct),y.nodeChanged()}})}),mceTableCellToggleClass:(Ne,Ue)=>{H(Ge=>{const ct=Vc(y),ft=mt(ct,Ft=>y.formatter.match("tablecellclass",{value:Ue},Ft.dom)),Lt=ft?y.formatter.remove:y.formatter.apply;Fe(ct,Ft=>Lt("tablecellclass",{value:Ue},Ft.dom)),ef(y,Ge.dom,V1)})},mceTableToggleClass:(Ne,Ue)=>{H(Ge=>{y.formatter.toggle("tableclass",{value:Ue},Ge.dom),ef(y,Ge.dom,V1)})},mceTableToggleCaption:()=>{Ns(y).each(Ne=>{_l(Ne,O).each(Ue=>{yt(Ue,"caption").fold(()=>{const Ge=Xt.fromTag("caption");ps(Ge,Xt.fromText("Caption")),((ct,ft,Lt)=>{Yu(ct,0).fold(()=>{ps(ct,ft)},Ft=>{un(Ft,ft)})})(Ue,Ge),y.selection.setCursorLocation(Ge.dom,0)},Ge=>{cr("caption")(Ne)&&Yl("td",Ue).each(ct=>y.selection.setCursorLocation(ct.dom,0)),ls(Ge)}),ef(y,Ue.dom,yi)})})},mceTableSizingMode:(Ne,Ue)=>(Ge=>Ns(y).each(ct=>{G(y)||L(y)||ad(y)||_l(ct,O).each(ft=>{Ge!=="relative"||U1(ft)?Ge!=="fixed"||fs(ft)?Ge!=="responsive"||dd(ft)||pa(ft):Tl(ft):Sh(ft),ks(ft),ef(y,ft.dom,yi)})}))(Ue),mceTableCellType:et(Ne=>Ne==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:et(Ne=>Ne==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:et(Ne=>{switch(Ne){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Ne,Ue)=>y.addCommand(Ue,Ne)),y.addCommand("mceInsertTable",(Ne,Ue)=>{((Ge,ct,ft,Lt={})=>{const Ft=Pt=>z(Pt)&&Pt>0;if(Ft(ct)&&Ft(ft)){const Pt=Lt.headerRows||0,Vt=Lt.headerColumns||0;return Sv(Ge,ft,ct,Vt,Pt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ue.rows,Ue.columns,Ue.options)}),y.addCommand("mceTableApplyCellStyle",(Ne,Ue)=>{const Ge=Lt=>"tablecell"+Lt.toLowerCase().replace("-","");if(!h(Ue))return;const ct=Ot(Vc(y),_1);if(ct.length===0)return;const ft=((Lt,Ft)=>{const Pt={};return((Vt,Jt,on,gt)=>{pn(Vt,(Sn,to)=>{(Jt(Sn,to)?on:gt)(Sn,to)})})(Lt,Ft,(Vt=>(Jt,on)=>{Vt[on]=Jt})(Pt),K),Pt})(Ue,(Lt,Ft)=>y.formatter.has(Ge(Ft))&&m(Lt));(Lt=>{for(const Ft in Lt)if(Kt.call(Lt,Ft))return!1;return!0})(ft)||(pn(ft,(Lt,Ft)=>{const Pt=Ge(Ft);Fe(ct,Vt=>{Lt===""?y.formatter.remove(Pt,{value:null},Vt.dom,!0):y.formatter.apply(Pt,{value:Lt},Vt.dom)})}),B(ct[0]).each(Lt=>ef(y,Lt.dom,V1)))})},si=Xm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fr={before:si.before,on:si.on,after:si.after,cata:(y,S,O,B)=>y.fold(S,O,B),getStart:y=>y.fold(J,J,J)},As=(y,S)=>({selection:y,kill:S}),Gs=(y,S)=>{const O=y.document.createRange();return O.selectNode(S.dom),O},W1=(y,S)=>{const O=y.document.createRange();return K1(O,S),O},K1=(y,S)=>y.selectNodeContents(S.dom),l2=(y,S,O)=>{const B=y.document.createRange();var H;return H=B,S.fold(j=>{H.setStartBefore(j.dom)},(j,se)=>{H.setStart(j.dom,se)},j=>{H.setStartAfter(j.dom)}),((j,se)=>{se.fold(ce=>{j.setEndBefore(ce.dom)},(ce,_e)=>{j.setEnd(ce.dom,_e)},ce=>{j.setEndAfter(ce.dom)})})(B,O),B},kv=(y,S,O,B,H)=>{const j=y.document.createRange();return j.setStart(S.dom,O),j.setEnd(B.dom,H),j},c2=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Th=Xm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),j1=(y,S,O)=>S(Xt.fromDom(O.startContainer),O.startOffset,Xt.fromDom(O.endContainer),O.endOffset),Z1=(y,S)=>{const O=((B,H)=>H.match({domRange:j=>({ltr:W(j),rtl:re.none}),relative:(j,se)=>({ltr:Ri(()=>l2(B,j,se)),rtl:Ri(()=>re.some(l2(B,se,j)))}),exact:(j,se,ce,_e)=>({ltr:Ri(()=>kv(B,j,se,ce,_e)),rtl:Ri(()=>re.some(kv(B,ce,_e,j,se)))})}))(y,S);return((B,H)=>{const j=H.ltr();return j.collapsed?H.rtl().filter(se=>se.collapsed===!1).map(se=>Th.rtl(Xt.fromDom(se.endContainer),se.endOffset,Xt.fromDom(se.startContainer),se.startOffset)).getOrThunk(()=>j1(0,Th.ltr,j)):j1(0,Th.ltr,j)})(0,O)},u2=(y,S)=>Z1(y,S).match({ltr:(O,B,H,j)=>{const se=y.document.createRange();return se.setStart(O.dom,B),se.setEnd(H.dom,j),se},rtl:(O,B,H,j)=>{const se=y.document.createRange();return se.setStart(H.dom,j),se.setEnd(O.dom,B),se}});Th.ltr,Th.rtl;const Ev=(y,S,O,B)=>({start:y,soffset:S,finish:O,foffset:B}),Ol=(y,S,O,B)=>({start:Fr.on(y,S),finish:Fr.on(O,B)}),d2=(y,S)=>{const O=u2(y,S);return Ev(Xt.fromDom(O.startContainer),O.startOffset,Xt.fromDom(O.endContainer),O.endOffset)},Wa=Ol,Av=(y,S,O,B,H)=>Wr(O,B)?re.none():xu(O,B,S).bind(j=>{const se=j.boxes.getOr([]);return se.length>1?(H(y,se,j.start,j.finish),re.some(As(re.some(Wa(O,0,O,Us(O))),!0))):re.none()}),Oh=(y,S)=>({item:y,mode:S}),ku=(y,S,O,B=qs)=>y.property().parent(S).map(H=>Oh(H,B)),qs=(y,S,O,B=rg)=>O.sibling(y,S).map(H=>Oh(H,B)),rg=(y,S,O,B=rg)=>{const H=y.property().children(S);return O.first(H).map(j=>Oh(j,B))},f2=[{current:ku,next:qs,fallback:re.none()},{current:qs,next:rg,fallback:re.some(ku)},{current:rg,next:rg,fallback:re.some(qs)}],m2=(y,S,O,B,H=f2)=>kn(H,j=>j.current===O).bind(j=>j.current(y,S,B,j.next).orThunk(()=>j.fallback.bind(se=>m2(y,S,se,B)))),Tv=(y,S,O,B,H,j)=>m2(y,S,B,H).bind(se=>j(se.item)?re.none():O(se.item)?re.some(se.item):Tv(y,se.item,O,se.mode,H,j)),tf=y=>S=>y.property().children(S).length===0,YE=(y,S,O,B)=>Tv(y,S,O,qs,{sibling:(H,j)=>H.query().prevSibling(j),first:H=>H.length>0?re.some(H[H.length-1]):re.none()},B),Ov=(y,S,O,B)=>Tv(y,S,O,qs,{sibling:(H,j)=>H.query().nextSibling(j),first:H=>H.length>0?re.some(H[0]):re.none()},B),sg=Ff(),u_=(y,S)=>((O,B,H)=>YE(O,B,tf(O),H))(sg,y,S),Iv=(y,S)=>((O,B,H)=>Ov(O,B,tf(O),H))(sg,y,S),Dv=Xm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),G1=y=>rt(y,"tr"),zp={...Dv,verify:(y,S,O,B,H,j,se)=>rt(B,"td,th",se).bind(ce=>rt(S,"td,th",se).map(_e=>Wr(ce,_e)?Wr(B,ce)&&Us(ce)===H?j(_e):Dv.none("in same cell"):$f(G1,[ce,_e]).fold(()=>((Be,et,Ne)=>{const Ue=Be.getRect(et),Ge=Be.getRect(Ne);return Ge.right>Ue.left&&Ge.left<Ue.right})(y,_e,ce)?Dv.success():j(_e),Be=>j(_e)))).getOr(Dv.none("default")),cata:(y,S,O,B,H)=>y.fold(S,O,B,H)},q1=cr("br"),Ka=(y,S,O)=>S(y,O).bind(B=>Fo(B)&&Um(B).trim().length===0?Ka(B,S,O):re.some(B)),g2=(y,S,O,B)=>((H,j)=>Yu(H,j).filter(q1).orThunk(()=>Yu(H,j-1).filter(q1)))(S,O).bind(H=>B.traverse(H).fold(()=>Ka(H,B.gather,y).map(B.relative),j=>(se=>xl(se).bind(ce=>{const _e=Di(ce);return((Be,et)=>Et(Be,U(Wr,et)))(_e,se).map(Be=>((et,Ne,Ue,Ge)=>({parent:et,children:Ne,element:Ue,index:Ge}))(ce,_e,se,Be))}))(j).map(se=>Fr.on(se.parent,se.index)))),nf=(y,S)=>({left:y.left,top:y.top+S,right:y.right,bottom:y.bottom+S}),Rv=(y,S)=>({left:y.left,top:y.top-S,right:y.right,bottom:y.bottom-S}),fd=(y,S,O)=>({left:y.left+S,top:y.top+O,right:y.right+S,bottom:y.bottom+O}),Nv=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Pv=(y,S)=>re.some(y.getRect(S)),ig=(y,S,O)=>eo(S)?Pv(y,S).map(Nv):Fo(S)?((B,H,j)=>j>=0&&j<Us(H)?B.getRangedRect(H,j,H,j+1):j>0?B.getRangedRect(H,j-1,H,j):re.none())(y,S,O).map(Nv):re.none(),Ih=(y,S)=>eo(S)?Pv(y,S).map(Nv):Fo(S)?y.getRangedRect(S,0,S,Us(S)).map(Nv):re.none(),Zc=Xm([{none:[]},{retry:["caret"]}]),Lv=(y,S,O)=>at(S,yh).fold(Z,B=>Ih(y,B).exists(H=>((j,se)=>j.left<se.left||Math.abs(se.right-j.left)<1||j.left>se.right)(O,H))),XE={point:y=>y.bottom,adjuster:(y,S,O,B,H)=>{const j=nf(H,5);return Math.abs(O.bottom-B.bottom)<1||O.top>H.bottom?Zc.retry(j):O.top===H.bottom?Zc.retry(nf(H,1)):Lv(y,S,H)?Zc.retry(fd(j,5,0)):Zc.none()},move:nf,gather:Iv},bc=(y,S,O,B,H)=>H===0?re.some(B):((j,se,ce)=>j.elementFromPoint(se,ce).filter(_e=>ht(_e)==="table").isSome())(y,B.left,S.point(B))?((j,se,ce,_e,Be)=>bc(j,se,ce,se.move(_e,5),Be))(y,S,O,B,H-1):y.situsFromPoint(B.left,S.point(B)).bind(j=>j.start.fold(re.none,se=>Ih(y,se).bind(ce=>S.adjuster(y,se,ce,O,B).fold(re.none,_e=>bc(y,S,O,_e,H-1))).orThunk(()=>re.some(B)),re.none)),of=(y,S,O)=>{const B=y.move(O,5),H=bc(S,y,O,B,100).getOr(B);return((j,se,ce)=>j.point(se)>ce.getInnerHeight()?re.some(j.point(se)-ce.getInnerHeight()):j.point(se)<0?re.some(-j.point(se)):re.none())(y,H,S).fold(()=>S.situsFromPoint(H.left,y.point(H)),j=>(S.scrollBy(0,j),S.situsFromPoint(H.left,y.point(H)-j)))},Gc={tryUp:U(of,{point:y=>y.top,adjuster:(y,S,O,B,H)=>{const j=Rv(H,5);return Math.abs(O.top-B.top)<1||O.bottom<H.top?Zc.retry(j):O.bottom===H.top?Zc.retry(Rv(H,1)):Lv(y,S,H)?Zc.retry(fd(j,5,0)):Zc.none()},move:Rv,gather:u_}),tryDown:U(of,XE),getJumpSize:W(5)},h2=(y,S,O)=>y.getSelection().bind(B=>((H,j,se,ce)=>(q1(j)?((Be,et,Ne)=>Ne.traverse(et).orThunk(()=>Ka(et,Ne.gather,Be)).map(Ne.relative))(H,j,ce):g2(H,j,se,ce)).map(Be=>({start:Be,finish:Be})))(S,B.finish,B.foffset,O).fold(()=>re.some(xo(B.finish,B.foffset)),H=>{const j=y.fromSitus(H);return se=zp.verify(y,B.finish,B.foffset,j.finish,j.foffset,O.failure,S),zp.cata(se,ce=>re.none(),()=>re.none(),ce=>re.some(xo(ce,0)),ce=>re.some(xo(ce,Us(ce))));var se})),Ei=(y,S,O,B,H,j)=>j===0?re.none():JE(y,S,O,B,H).bind(se=>{const ce=y.fromSitus(se),_e=zp.verify(y,O,B,ce.finish,ce.foffset,H.failure,S);return zp.cata(_e,()=>re.none(),()=>re.some(se),Be=>Wr(O,Be)&&B===0?qc(y,O,B,Rv,H):Ei(y,S,Be,0,H,j-1),Be=>Wr(O,Be)&&B===Us(Be)?qc(y,O,B,nf,H):Ei(y,S,Be,Us(Be),H,j-1))}),qc=(y,S,O,B,H)=>ig(y,S,O).bind(j=>Il(y,H,B(j,Gc.getJumpSize()))),Il=(y,S,O)=>{const B=x1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?S.retry(y,O):re.none()},JE=(y,S,O,B,H)=>ig(y,O,B).bind(j=>Il(y,H,j)),Yf=(y,S,O,B,H)=>rt(B,"td,th",S).bind(j=>rt(j,"table",S).bind(se=>((ce,_e)=>Ie(ce,Be=>xl(Be).exists(et=>Wr(et,_e)),void 0).isSome())(H,se)?((ce,_e,Be)=>h2(ce,_e,Be).bind(et=>Ei(ce,_e,et.element,et.offset,Be,20).map(ce.fromSitus)))(y,S,O).bind(ce=>rt(ce.finish,"td,th",S).map(_e=>({start:j,finish:_e,range:ce}))):re.none())),rf=(y,S,O,B,H,j)=>j(B,S).orThunk(()=>Yf(y,S,O,B,H).map(se=>{const ce=se.range;return As(re.some(Wa(ce.start,ce.soffset,ce.finish,ce.foffset)),!0)})),Hp=(y,S)=>rt(y,"tr",S).bind(O=>rt(O,"table",S).bind(B=>{const H=Mr(B,"tr");return Wr(O,H[0])?((j,se,ce)=>YE(sg,j,_e=>vu(_e).isSome(),ce))(B,0,S).map(j=>{const se=Us(j);return As(re.some(Wa(j,se,j,se)),!0)}):re.none()})),ag=(y,S)=>rt(y,"tr",S).bind(O=>rt(O,"table",S).bind(B=>{const H=Mr(B,"tr");return Wr(O,H[H.length-1])?((j,se,ce)=>Ov(sg,j,_e=>uh(_e).isSome(),ce))(B,0,S).map(j=>As(re.some(Wa(j,0,j,0)),!0)):re.none()})),nc=(y,S,O,B,H,j,se)=>Yf(y,O,B,H,j).bind(ce=>Av(S,O,ce.start,ce.finish,se)),Y1=y=>{let S=y;return{get:()=>S,set:O=>{S=O}}},X1=()=>{const y=(S=>{const O=Y1(re.none()),B=()=>O.get().each(S);return{clear:()=>{B(),O.set(re.none())},isSet:()=>O.get().isSome(),get:()=>O.get(),set:H=>{B(),O.set(re.some(H))}}})(K);return{...y,on:S=>y.get().each(S)}},Mv=(y,S)=>rt(y,"td,th",S),J1=y=>qu(y).exists(mo),d_={traverse:Xl,gather:Iv,relative:Fr.before,retry:Gc.tryDown,failure:zp.failedDown},Bv={traverse:fo,gather:u_,relative:Fr.before,retry:Gc.tryUp,failure:zp.failedUp},sf=y=>S=>S===y,Fv=sf(38),Dh=sf(40),Rh=y=>y>=37&&y<=40,Xf={isBackward:sf(37),isForward:sf(39)},Jf={isBackward:sf(39),isForward:sf(37)},$v=Xm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qf={domRange:$v.domRange,relative:$v.relative,exact:$v.exact,exactFromRange:y=>$v.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const S=(O=>O.match({domRange:B=>Xt.fromDom(B.startContainer),relative:(B,H)=>Fr.getStart(B),exact:(B,H,j,se)=>B}))(y);return Xt.fromDom(Rc(S).dom.defaultView)},range:Ev},em=(y,S)=>{const O=ht(y);return O==="input"?Fr.after(y):it(["br","img"],O)?S===0?Fr.before(y):Fr.after(y):Fr.on(y,S)},tm=y=>re.from(y.getSelection()),Nh=(y,S)=>{tm(y).each(O=>{O.removeAllRanges(),O.addRange(S)})},Q1=(y,S,O,B,H)=>{const j=kv(y,S,O,B,H);Nh(y,j)},Up=(y,S)=>Z1(y,S).match({ltr:(O,B,H,j)=>{Q1(y,O,B,H,j)},rtl:(O,B,H,j)=>{tm(y).each(se=>{if(se.setBaseAndExtent)se.setBaseAndExtent(O.dom,B,H.dom,j);else if(se.extend)try{((ce,_e,Be,et,Ne,Ue)=>{_e.collapse(Be.dom,et),_e.extend(Ne.dom,Ue)})(0,se,O,B,H,j)}catch{Q1(y,H,j,O,B)}else Q1(y,H,j,O,B)})}}),ey=(y,S,O,B,H)=>{const j=((se,ce,_e,Be)=>{const et=em(se,ce),Ne=em(_e,Be);return Qf.relative(et,Ne)})(S,O,B,H);Up(y,j)},p2=(y,S,O)=>{const B=((H,j)=>{const se=H.fold(Fr.before,em,Fr.after),ce=j.fold(Fr.before,em,Fr.after);return Qf.relative(se,ce)})(S,O);Up(y,B)},Wp=y=>{if(y.rangeCount>0){const S=y.getRangeAt(0),O=y.getRangeAt(y.rangeCount-1);return re.some(Ev(Xt.fromDom(S.startContainer),S.startOffset,Xt.fromDom(O.endContainer),O.endOffset))}return re.none()},Ai=y=>{if(y.anchorNode===null||y.focusNode===null)return Wp(y);{const S=Xt.fromDom(y.anchorNode),O=Xt.fromDom(y.focusNode);return((B,H,j,se)=>{const ce=((Be,et,Ne,Ue)=>{const Ge=Gu(Be).dom.createRange();return Ge.setStart(Be.dom,et),Ge.setEnd(Ne.dom,Ue),Ge})(B,H,j,se),_e=Wr(B,j)&&H===se;return ce.collapsed&&!_e})(S,y.anchorOffset,O,y.focusOffset)?re.some(Ev(S,y.anchorOffset,O,y.focusOffset)):Wp(y)}},b2=(y,S,O=!0)=>{const B=(O?W1:Gs)(y,S);Nh(y,B)},f_=y=>(S=>tm(S).filter(O=>O.rangeCount>0).bind(Ai))(y).map(S=>Qf.exact(S.start,S.soffset,S.finish,S.foffset)),v2=(y,S,O)=>((B,H,j)=>((se,ce,_e)=>se.caretPositionFromPoint?((Be,et,Ne)=>{var Ue;return re.from((Ue=Be.caretPositionFromPoint)===null||Ue===void 0?void 0:Ue.call(Be,et,Ne)).bind(Ge=>{if(Ge.offsetNode===null)return re.none();const ct=Be.createRange();return ct.setStart(Ge.offsetNode,Ge.offset),ct.collapse(),re.some(ct)})})(se,ce,_e):se.caretRangeFromPoint?((Be,et,Ne)=>{var Ue;return re.from((Ue=Be.caretRangeFromPoint)===null||Ue===void 0?void 0:Ue.call(Be,et,Ne))})(se,ce,_e):re.none())(B.document,H,j).map(se=>Ev(Xt.fromDom(se.startContainer),se.startOffset,Xt.fromDom(se.endContainer),se.endOffset)))(y,S,O),y2=y=>({elementFromPoint:(S,O)=>Xt.fromPoint(Xt.fromDom(y.document),S,O),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,O,B,H)=>{const j=Qf.exact(S,O,B,H);return((se,ce)=>(_e=>{const Be=_e.getClientRects(),et=Be.length>0?Be[0]:_e.getBoundingClientRect();return et.width>0||et.height>0?re.some(et).map(c2):re.none()})(u2(se,ce)))(y,j)},getSelection:()=>f_(y).map(S=>d2(y,S)),fromSitus:S=>{const O=Qf.relative(S.start,S.finish);return d2(y,O)},situsFromPoint:(S,O)=>v2(y,S,O).map(B=>Ol(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(S=>{tm(S).each(O=>O.removeAllRanges())})(y)},collapseSelection:(S=!1)=>{f_(y).each(O=>O.fold(B=>B.collapse(S),(B,H)=>{const j=S?B:H;p2(y,j,j)},(B,H,j,se)=>{const ce=S?B:j,_e=S?H:se;ey(y,ce,_e,ce,_e)}))},setSelection:S=>{ey(y,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,O)=>{p2(y,S,O)},selectNode:S=>{b2(y,S,!1)},selectContents:S=>{b2(y,S)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(S=>{const O=S!==void 0?S.dom:document,B=O.body.scrollLeft||O.documentElement.scrollLeft,H=O.body.scrollTop||O.documentElement.scrollTop;return il(B,H)})(Xt.fromDom(y.document)).top,scrollBy:(S,O)=>{((B,H,j)=>{const se=(j!==void 0?j.dom:document).defaultView;se&&se.scrollBy(B,H)})(S,O,Xt.fromDom(y.document))}}),nm=(y,S)=>({rows:y,cols:S}),ty=y=>at(y,qn).exists(mo),Vv=(y,S)=>ty(y)||ty(S),x2=y=>y.dom.classList!==void 0,QE=(y,S)=>((O,B,H)=>{const j=((se,ce)=>{const _e=En(se,ce);return _e===void 0||_e===""?[]:_e.split(" ")})(O,B).concat([H]);return xr(O,B,j.join(" ")),!0})(y,"class",S),om=(y,S)=>{x2(y)?y.dom.classList.add(S):QE(y,S)},zv=(y,S)=>x2(y)&&y.dom.classList.contains(S),m_=()=>({tag:"none"}),g_=y=>({tag:"multiple",elements:y}),Eu=y=>({tag:"single",element:y}),w2=y=>{const S=Xt.fromDom((ce=>{if(I(ce.target)){const _e=Xt.fromDom(ce.target);if(eo(_e)&&I(_e.dom.shadowRoot)&&ce.composed&&ce.composedPath){const Be=ce.composedPath();if(Be)return On(Be)}}return re.from(ce.target)})(y).getOr(y.target)),O=()=>y.stopPropagation(),B=()=>y.preventDefault(),H=(j=B,se=O,(...ce)=>j(se.apply(null,ce)));var j,se;return((ce,_e,Be,et,Ne,Ue,Ge)=>({target:ce,x:_e,y:Be,stop:et,prevent:Ne,kill:Ue,raw:Ge}))(S,y.clientX,y.clientY,O,B,H,y)},ny=(y,S,O,B)=>{y.dom.removeEventListener(S,O,B)},h_=de,Ph=(y,S,O)=>((B,H,j,se)=>((ce,_e,Be,et,Ne)=>{const Ue=((Ge,ct)=>ft=>{Ge(ft)&&ct(w2(ft))})(Be,et);return ce.dom.addEventListener(_e,Ue,Ne),{unbind:U(ny,ce,_e,Ue,Ne)}})(B,H,j,se,!1))(y,S,h_,O),Kp=w2,Hv=y=>!zv(Xt.fromDom(y.target),"ephox-snooker-resizer-bar"),p_=(y,S)=>{const O=(H=Hf.selectedSelector,{get:()=>$c(Xt.fromDom(y.getBody()),H).fold(()=>bs(Fc(y),Ks(y)).fold(m_,Eu),g_)}),B=((j,se,ce)=>{const _e=Ue=>{Oo(Ue,j.selected),Oo(Ue,j.firstSelected),Oo(Ue,j.lastSelected)},Be=Ue=>{xr(Ue,j.selected,"1")},et=Ue=>{Ne(Ue),ce()},Ne=Ue=>{const Ge=Mr(Ue,`${j.selectedSelector},${j.firstSelectedSelector},${j.lastSelectedSelector}`);Fe(Ge,_e)};return{clearBeforeUpdate:Ne,clear:et,selectRange:(Ue,Ge,ct,ft)=>{et(Ue),Fe(Ge,Be),xr(ct,j.firstSelected,"1"),xr(ft,j.lastSelected,"1"),se(Ge,ct,ft)},selectedSelector:j.selectedSelector,firstSelectedSelector:j.firstSelectedSelector,lastSelectedSelector:j.lastSelectedSelector}})(Hf,(j,se,ce)=>{_l(se).each(_e=>{const Be=R(j,Ge=>Ge.dom),et=Gd(y),Ne=os(K,Xt.fromDom(y.getDoc()),et),Ue=((Ge,ct,ft)=>{const Lt=Lo(Ge);return Xd(Lt,ct).map(Ft=>{const Pt=Es(Lt,ft,!1),{rows:Vt}=ns(Pt),Jt=((gt,Sn)=>{const to=gt.slice(0,Sn[Sn.length-1].row+1),Eo=dv(to);return Pe(Eo,io=>{const no=io.cells.slice(0,Sn[Sn.length-1].column+1);return R(no,ko=>ko.element)})})(Vt,Ft),on=((gt,Sn)=>{const to=gt.slice(Sn[0].row+Sn[0].rowspan-1,gt.length),Eo=dv(to);return Pe(Eo,io=>{const no=io.cells.slice(Sn[0].column+Sn[0].colspan-1,io.cells.length);return R(no,ko=>ko.element)})})(Vt,Ft);return{upOrLeftCells:Jt,downOrRightCells:on}})})(_e,{selection:Vc(y)},Ne).map(Ge=>je(Ge,ct=>R(ct,ft=>ft.dom))).getOrUndefined();((Ge,ct,ft,Lt,Ft)=>{Ge.dispatch("TableSelectionChange",{cells:ct,start:ft,finish:Lt,otherCells:Ft})})(y,Be,se.dom,ce.dom,Ue)})},()=>(j=>{j.dispatch("TableSelectionClear")})(y));var H;return y.on("init",j=>{const se=y.getWin(),ce=wr(y),_e=Ks(y),Be=((ft,Lt,Ft,Pt)=>{const Vt=((Jt,on,gt,Sn)=>{const to=X1(),Eo=to.clear,io=no=>{to.on(ko=>{Sn.clearBeforeUpdate(on),Mv(no.target,gt).each(Xo=>{xu(ko,Xo,gt).each(ii=>{const Ra=ii.boxes.getOr([]);if(Ra.length===1){const Qi=Ra[0],vc=Pn(Qi)==="false",dg=qt(So(no.target),Qi,Wr);vc&&dg&&Sn.selectRange(on,Ra,Qi,Qi)}else Ra.length>1&&(Sn.selectRange(on,Ra,ii.start,ii.finish),Jt.selectContents(Xo))})})})};return{clearstate:Eo,mousedown:no=>{Sn.clear(on),Mv(no.target,gt).filter(J1).each(to.set)},mouseover:no=>{io(no)},mouseup:no=>{io(no),Eo()}}})(y2(ft),Lt,Ft,Pt);return{clearstate:Vt.clearstate,mousedown:Vt.mousedown,mouseover:Vt.mouseover,mouseup:Vt.mouseup}})(se,ce,_e,B),et=((ft,Lt,Ft,Pt)=>{const Vt=y2(ft),Jt=()=>(Pt.clear(Lt),re.none());return{keydown:(on,gt,Sn,to,Eo,io)=>{const no=on.raw,ko=no.which,Xo=no.shiftKey===!0;return lv(Lt,Pt.selectedSelector).fold(()=>(Rh(ko)&&!Xo&&Pt.clearBeforeUpdate(Lt),Rh(ko)&&Xo&&!Vv(gt,to)?re.none:Dh(ko)&&Xo?U(nc,Vt,Lt,Ft,d_,to,gt,Pt.selectRange):Fv(ko)&&Xo?U(nc,Vt,Lt,Ft,Bv,to,gt,Pt.selectRange):Dh(ko)?U(rf,Vt,Ft,d_,to,gt,ag):Fv(ko)?U(rf,Vt,Ft,Bv,to,gt,Hp):re.none),Ra=>{const Qi=vc=>()=>Q(vc,Na=>((md,Zp,im,Gp,cy)=>ga(Gp,md,Zp,cy.firstSelectedSelector,cy.lastSelectedSelector).map(am=>(cy.clearBeforeUpdate(im),cy.selectRange(im,am.boxes,am.start,am.finish),am.boxes)))(Na.rows,Na.cols,Lt,Ra,Pt)).fold(()=>Vf(Lt,Pt.firstSelectedSelector,Pt.lastSelectedSelector).map(Na=>{const md=Dh(ko)||io.isForward(ko)?Fr.after:Fr.before;return Vt.setRelativeSelection(Fr.on(Na.first,0),md(Na.table)),Pt.clear(Lt),As(re.none(),!0)}),Na=>re.some(As(re.none(),!0)));return Rh(ko)&&Xo&&!Vv(gt,to)?re.none:Dh(ko)&&Xo?Qi([nm(1,0)]):Fv(ko)&&Xo?Qi([nm(-1,0)]):io.isBackward(ko)&&Xo?Qi([nm(0,-1),nm(-1,0)]):io.isForward(ko)&&Xo?Qi([nm(0,1),nm(1,0)]):Rh(ko)&&!Xo?Jt:re.none})()},keyup:(on,gt,Sn,to,Eo)=>lv(Lt,Pt.selectedSelector).fold(()=>{const io=on.raw,no=io.which;return io.shiftKey===!0&&Rh(no)&&Vv(gt,to)?((ko,Xo,ii,Ra,Qi,vc,dg)=>Wr(ii,Qi)&&Ra===vc?re.none():rt(ii,"td,th",Xo).bind(Na=>rt(Qi,"td,th",Xo).bind(md=>Av(ko,Xo,Na,md,dg))))(Lt,Ft,gt,Sn,to,Eo,Pt.selectRange):re.none()},re.none)}})(se,ce,_e,B),Ne=((ft,Lt,Ft,Pt)=>{const Vt=y2(ft);return(Jt,on)=>{Pt.clearBeforeUpdate(Lt),xu(Jt,on,Ft).each(gt=>{const Sn=gt.boxes.getOr([]);Pt.selectRange(Lt,Sn,gt.start,gt.finish),Vt.selectContents(on),Vt.collapseSelection()})}})(se,ce,_e,B);y.on("TableSelectorChange",ft=>Ne(ft.start,ft.finish));const Ue=(ft,Lt)=>{(Ft=>Ft.raw.shiftKey===!0)(ft)&&(Lt.kill&&ft.kill(),Lt.selection.each(Ft=>{const Pt=Qf.relative(Ft.start,Ft.finish),Vt=u2(se,Pt);y.selection.setRng(Vt)}))},Ge=ft=>ft.button===0,ct=(()=>{const ft=Y1(Xt.fromDom(ce)),Lt=Y1(0);return{touchEnd:Ft=>{const Pt=Xt.fromDom(Ft.target);if(cr("td")(Pt)||cr("th")(Pt)){const Vt=ft.get(),Jt=Lt.get();Wr(Vt,Pt)&&Ft.timeStamp-Jt<300&&(Ft.preventDefault(),Ne(Pt,Pt))}ft.set(Pt),Lt.set(Ft.timeStamp)}}})();y.on("dragstart",ft=>{Be.clearstate()}),y.on("mousedown",ft=>{Ge(ft)&&Hv(ft)&&Be.mousedown(Kp(ft))}),y.on("mouseover",ft=>{var Lt;(Lt=ft).buttons!==void 0&&(1&Lt.buttons)==0||!Hv(ft)||Be.mouseover(Kp(ft))}),y.on("mouseup",ft=>{Ge(ft)&&Hv(ft)&&Be.mouseup(Kp(ft))}),y.on("touchend",ct.touchEnd),y.on("keyup",ft=>{const Lt=Kp(ft);if(Lt.raw.shiftKey&&Rh(Lt.raw.which)){const Ft=y.selection.getRng(),Pt=Xt.fromDom(Ft.startContainer),Vt=Xt.fromDom(Ft.endContainer);et.keyup(Lt,Pt,Ft.startOffset,Vt,Ft.endOffset).each(Jt=>{Ue(Lt,Jt)})}}),y.on("keydown",ft=>{const Lt=Kp(ft);S.hide();const Ft=y.selection.getRng(),Pt=Xt.fromDom(Ft.startContainer),Vt=Xt.fromDom(Ft.endContainer),Jt=Ho(Xf,Jf)(Xt.fromDom(y.selection.getStart()));et.keydown(Lt,Pt,Ft.startOffset,Vt,Ft.endOffset,Jt).each(on=>{Ue(Lt,on)}),S.show()}),y.on("NodeChange",()=>{const ft=y.selection,Lt=Xt.fromDom(ft.getStart()),Ft=Xt.fromDom(ft.getEnd());$f(_l,[Lt,Ft]).fold(()=>B.clear(ce),K)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Hf.firstSelected),y.serializer.addTempAttr(Hf.lastSelected)}),{getSelectedCells:()=>((j,se,ce,_e)=>{switch(j.tag){case"none":return se();case"single":return(Be=>[Be.dom])(j.element);case"multiple":return(Be=>R(Be,et=>et.dom))(j.elements)}})(O.get(),W([])),clearSelectedCells:j=>B.clear(Xt.fromDom(j))}},Au=y=>{let S=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");S.push(O)},unbind:O=>{S=Ot(S,B=>B!==O)},trigger:(...O)=>{const B={};Fe(y,(H,j)=>{B[H]=O[j]}),Fe(S,H=>{H(B)})}}},lg=y=>({registry:je(y,S=>({bind:S.bind,unbind:S.unbind})),trigger:je(y,S=>S.trigger)}),Uv=y=>y.slice(0).sort(),Wv=(y,S)=>{const O=Ot(S,B=>!it(y,B));O.length>0&&(B=>{throw new Error("Unsupported keys for object: "+Uv(B).join(", "))})(O)},oy=y=>((S,O)=>((B,H,j)=>{if(H.length===0)throw new Error("You must specify at least one required field.");return((se,ce)=>{if(!x(ce))throw new Error("The "+se+" fields must be an array. Was: "+ce+".");Fe(ce,_e=>{if(!m(_e))throw new Error("The value "+_e+" in the "+se+" fields was not a string.")})})("required",H),(se=>{const ce=Uv(se);kn(ce,(_e,Be)=>Be<ce.length-1&&_e===ce[Be+1]).each(_e=>{throw new Error("The field: "+_e+" occurs more than once in the combined fields: ["+ce.join(", ")+"].")})})(H),se=>{const ce=co(se);mt(H,Be=>it(ce,Be))||((Be,et)=>{throw new Error("All required keys ("+Uv(Be).join(", ")+") were not specified. Specified keys were: "+Uv(et).join(", ")+".")})(H,ce),B(H,ce);const _e=Ot(H,Be=>!j.validate(se[Be],Be));return _e.length>0&&((Be,et)=>{throw new Error("All values need to be of type: "+et+". Keys ("+Uv(Be).join(", ")+") were not.")})(_e,j.label),se}})(S,O,{validate:P,label:"function"}))(Wv,y),Kv=oy(["compare","extract","mutate","sink"]),va=oy(["element","start","stop","destroy"]),ry=oy(["forceDrop","drop","move","delayDrop"]),cg=()=>{const y=(()=>{const B=lg({move:Au(["info"])});return{onEvent:K,reset:K,events:B.registry}})(),S=(()=>{let B=re.none();const H=lg({move:Au(["info"])});return{onEvent:(j,se)=>{se.extract(j).each(ce=>{((Be,et)=>{const Ne=B.map(Ue=>Be.compare(Ue,et));return B=re.some(et),Ne})(se,ce).each(Be=>{H.trigger.move(Be)})})},reset:()=>{B=re.none()},events:H.registry}})();let O=y;return{on:()=>{O.reset(),O=S},off:()=>{O.reset(),O=y},isOn:()=>O===S,onEvent:(B,H)=>{O.onEvent(B,H)},events:S.events}},ug=y=>{const S=y.replace(/\./g,"-");return{resolve:O=>S+"-"+O}},jv=ug("ephox-dragster").resolve;var sy=Kv({compare:(y,S)=>il(S.left-y.left,S.top-y.top),extract:y=>re.some(il(y.x,y.y)),sink:(y,S)=>{const O=(ce=>{const _e={layerClass:jv("blocker"),...ce},Be=Xt.fromTag("div");return xr(Be,"role","presentation"),Jl(Be,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),om(Be,jv("blocker")),om(Be,_e.layerClass),{element:W(Be),destroy:()=>{ls(Be)}}})(S),B=Ph(O.element(),"mousedown",y.forceDrop),H=Ph(O.element(),"mouseup",y.drop),j=Ph(O.element(),"mousemove",y.move),se=Ph(O.element(),"mouseout",y.delayDrop);return va({element:O.element,start:ce=>{ps(ce,O.element())},stop:()=>{ls(O.element())},destroy:()=>{O.destroy(),H.unbind(),j.unbind(),se.unbind(),B.unbind()}})},mutate:(y,S)=>{y.mutate(S.left,S.top)}});const Lh=ug("ephox-snooker").resolve,rm=Lh("resizer-bar"),C2=Lh("resizer-rows"),iy=Lh("resizer-cols"),fl=y=>{const S=Mr(y.parent(),"."+rm);Fe(S,ls)},sm=(y,S,O)=>{const B=y.origin();Fe(S,H=>{H.each(j=>{const se=O(B,j);om(se,rm),ps(y.parent(),se)})})},_2=(y,S,O,B,H)=>{const j=Pf(O),se=S.isResizable,ce=B.length>0?td.positions(B,O):[],_e=ce.length>0?((Ne,Ue)=>Pe(Ne.all,(Ge,ct)=>Ue(Ge.element)?[ct]:[]))(y,se):[];((Ne,Ue,Ge,ct)=>{sm(Ne,Ue,(ft,Lt)=>{const Ft=((Pt,Vt,Jt,on,gt)=>{const Sn=Xt.fromTag("div");return Jl(Sn,{position:"absolute",left:Vt+"px",top:Jt-3.5+"px",height:"7px",width:on+"px"}),ji(Sn,{"data-row":Pt,role:"presentation"}),Sn})(Lt.row,Ge.left-ft.left,Lt.y-ft.top,ct);return om(Ft,C2),Ft})})(S,Ot(ce,(Ne,Ue)=>Ae(_e,Ge=>Ue===Ge)),j,ih(O));const Be=H.length>0?Lf.positions(H,O):[],et=Be.length>0?((Ne,Ue)=>{const Ge=[];return ze(Ne.grid.columns,ct=>{Or(Ne,ct).map(ft=>ft.element).forall(Ue)&&Ge.push(ct)}),Ot(Ge,ct=>{const ft=Gi(Ne,Lt=>Lt.column===ct);return mt(ft,Lt=>Ue(Lt.element))})})(y,se):[];((Ne,Ue,Ge,ct)=>{sm(Ne,Ue,(ft,Lt)=>{const Ft=((Pt,Vt,Jt,on,gt)=>{const Sn=Xt.fromTag("div");return Jl(Sn,{position:"absolute",left:Vt-3.5+"px",top:Jt+"px",height:gt+"px",width:"7px"}),ji(Sn,{"data-column":Pt,role:"presentation"}),Sn})(Lt.col,Lt.x-ft.left,Ge.top-ft.top,0,ct);return om(Ft,iy),Ft})})(S,Ot(Be,(Ne,Ue)=>Ae(et,Ge=>Ue===Ge)),j,Qb(O))},St=(y,S)=>{if(fl(y),y.isResizable(S)){const O=Lo(S),B=Kd(O),H=Sp(O);_2(O,y,S,B,H)}},jp=(y,S)=>{const O=Mr(y.parent(),"."+rm);Fe(O,S)},eA=y=>{jp(y,S=>{Ro(S,"display","none")})},b_=y=>{jp(y,S=>{Ro(S,"display","block")})},ay=Lh("resizer-bar-dragging"),Tu=y=>{const S=(()=>{const Ne=lg({drag:Au(["xDelta","yDelta","target"])});let Ue=re.none();const Ge=(()=>{const ct=lg({drag:Au(["xDelta","yDelta"])});return{mutate:(ft,Lt)=>{ct.trigger.drag(ft,Lt)},events:ct.registry}})();return Ge.events.drag.bind(ct=>{Ue.each(ft=>{Ne.trigger.drag(ct.xDelta,ct.yDelta,ft)})}),{assign:ct=>{Ue=re.some(ct)},get:()=>Ue,mutate:Ge.mutate,events:Ne.registry}})(),O=((Ne,Ue={})=>{var Ge;return((ct,ft,Lt)=>{let Ft=!1;const Pt=lg({start:Au([]),stop:Au([])}),Vt=cg(),Jt=()=>{Sn.stop(),Vt.isOn()&&(Vt.off(),Pt.trigger.stop())},on=((to,Eo)=>{let io=null;const no=()=>{w(io)||(clearTimeout(io),io=null)};return{cancel:no,throttle:(...ko)=>{no(),io=setTimeout(()=>{io=null,to.apply(null,ko)},200)}}})(Jt);Vt.events.move.bind(to=>{ft.mutate(ct,to.info)});const gt=to=>(...Eo)=>{Ft&&to.apply(null,Eo)},Sn=ft.sink(ry({forceDrop:Jt,drop:gt(Jt),move:gt(to=>{on.cancel(),Vt.onEvent(to,ft)}),delayDrop:gt(on.throttle)}),Lt);return{element:Sn.element,go:to=>{Sn.start(to),Vt.on(),Pt.trigger.start()},on:()=>{Ft=!0},off:()=>{Ft=!1},isActive:()=>Ft,destroy:()=>{Sn.destroy()},events:Pt.registry}})(Ne,(Ge=Ue.mode)!==null&&Ge!==void 0?Ge:sy,Ue)})(S,{});let B=re.none();const H=(Ne,Ue)=>re.from(En(Ne,Ue));S.events.drag.bind(Ne=>{H(Ne.target,"data-row").each(Ue=>{const Ge=Mm(Ne.target,"top");Ro(Ne.target,"top",Ge+Ne.yDelta+"px")}),H(Ne.target,"data-column").each(Ue=>{const Ge=Mm(Ne.target,"left");Ro(Ne.target,"left",Ge+Ne.xDelta+"px")})});const j=(Ne,Ue)=>Mm(Ne,Ue)-Ts(Ne,"data-initial-"+Ue,0);O.events.stop.bind(()=>{S.get().each(Ne=>{B.each(Ue=>{H(Ne,"data-row").each(Ge=>{const ct=j(Ne,"top");Oo(Ne,"data-initial-top"),et.trigger.adjustHeight(Ue,ct,parseInt(Ge,10))}),H(Ne,"data-column").each(Ge=>{const ct=j(Ne,"left");Oo(Ne,"data-initial-left"),et.trigger.adjustWidth(Ue,ct,parseInt(Ge,10))}),St(y,Ue)})})});const se=(Ne,Ue)=>{et.trigger.startAdjust(),S.assign(Ne),xr(Ne,"data-initial-"+Ue,Mm(Ne,Ue)),om(Ne,ay),Ro(Ne,"opacity","0.2"),O.go(y.parent())},ce=Ph(y.parent(),"mousedown",Ne=>{var Ue;Ue=Ne.target,zv(Ue,C2)&&se(Ne.target,"top"),(Ge=>zv(Ge,iy))(Ne.target)&&se(Ne.target,"left")}),_e=Ne=>Wr(Ne,y.view()),Be=Ph(y.view(),"mouseover",Ne=>{var Ue;(Ue=Ne.target,rt(Ue,"table",_e).filter(mo)).fold(()=>{ol(Ne.target)&&fl(y)},Ge=>{O.isActive()&&(B=re.some(Ge),St(y,Ge))})}),et=lg({adjustHeight:Au(["table","delta","row"]),adjustWidth:Au(["table","delta","column"]),startAdjust:Au([])});return{destroy:()=>{ce.unbind(),Be.unbind(),O.destroy(),fl(y)},refresh:Ne=>{St(y,Ne)},on:O.on,off:O.off,hideBars:U(eA,y),showBars:U(b_,y),events:et.registry}},ly=y=>I(y)&&y.nodeName==="TABLE",Zv="bar-",S2=y=>En(y,"data-mce-resize")!=="false",k2=y=>{const S=X1(),O=X1(),B=X1();let H,j,se,ce;const _e=Ne=>Gf(y,Ne),Be=()=>fh(y)?k1():cd(),et=(Ne,Ue,Ge,ct)=>{const ft=(Pt=>{return _o(Vt=Pt,"corner-")?((Jt,on)=>Jt.substring(7))(Vt):Vt;var Vt})(Ue),Lt=cn(ft,"e"),Ft=_o(ft,"n");if(j===""&&Sh(Ne),ce===""&&(Pt=>{const Vt=(Jt=>jd(Jt)+"px")(Pt);Jr(Pt,re.none(),re.some(Vt)),Su(Pt)})(Ne),Ge!==H&&j!==""){Ro(Ne,"width",j);const Pt=Be(),Vt=_e(Ne),Jt=fh(y)||Lt?(on=>Cu(on).columns)(Ne)-1:0;Jd(Ne,Ge-H,Jt,Pt,Vt)}else if((Pt=>/^(\d+(\.\d+)?)%$/.test(Pt))(j)){const Pt=parseFloat(j.replace("%",""));Ro(Ne,"width",Ge*Pt/H+"%")}if((Pt=>/^(\d+(\.\d+)?)px$/.test(Pt))(j)&&(Pt=>{const Vt=Lo(Pt);Lc(Vt)||Fe(Os(Pt),Jt=>{const on=Ta(Jt,"width");Ro(Jt,"width",on),Oo(Jt,"width")})})(Ne),ct!==se&&ce!==""){Ro(Ne,"height",ce);const Pt=Ft?0:(Vt=>Cu(Vt).rows)(Ne)-1;ph(Ne,ct-se,Pt)}};return y.on("init",()=>{const Ne=((Ue,Ge)=>Ue.inline?((ct,ft,Lt)=>({parent:W(ft),view:W(ct),origin:W(il(0,0)),isResizable:Lt}))(Xt.fromDom(Ue.getBody()),(()=>{const ct=Xt.fromTag("div");return Jl(ct,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ps(cu(Xt.fromDom(document)),ct),ct})(),Ge):((ct,ft)=>{const Lt=Do(ct)?(Ft=>Xt.fromDom(Rc(Ft).dom.documentElement))(ct):ct;return{parent:W(Lt),view:W(ct),origin:W(il(0,0)),isResizable:ft}})(Xt.fromDom(Ue.getDoc()),Ge))(y,S2);if(B.set(Ne),(Ue=>{const Ge=Ue.options.get("object_resizing");return it(Ge.split(","),"table")})(y)&&le(y)){const Ue=((Ge,ct,ft)=>{const Lt=td,Ft=Lf,Pt=Tu(Ge),Vt=lg({beforeResize:Au(["table","type"]),afterResize:Au(["table","type"]),startDrag:Au([])});return Pt.events.adjustHeight.bind(Jt=>{const on=Jt.table;Vt.trigger.beforeResize(on,"row");const gt=Lt.delta(Jt.delta,on);ph(on,gt,Jt.row),Vt.trigger.afterResize(on,"row")}),Pt.events.startAdjust.bind(Jt=>{Vt.trigger.startDrag()}),Pt.events.adjustWidth.bind(Jt=>{const on=Jt.table;Vt.trigger.beforeResize(on,"col");const gt=Ft.delta(Jt.delta,on),Sn=ft(on);Jd(on,gt,Jt.column,ct,Sn),Vt.trigger.afterResize(on,"col")}),{on:Pt.on,off:Pt.off,refreshBars:Pt.refresh,hideBars:Pt.hideBars,showBars:Pt.showBars,destroy:Pt.destroy,events:Vt.registry}})(Ne,Be(),_e);Ue.on(),Ue.events.startDrag.bind(Ge=>{S.set(y.selection.getRng())}),Ue.events.beforeResize.bind(Ge=>{const ct=Ge.table.dom;((ft,Lt,Ft,Pt,Vt)=>{ft.dispatch("ObjectResizeStart",{target:Lt,width:Ft,height:Pt,origin:Vt})})(y,ct,Km(ct),jm(ct),Zv+Ge.type)}),Ue.events.afterResize.bind(Ge=>{const ct=Ge.table,ft=ct.dom;ks(ct),S.on(Lt=>{y.selection.setRng(Lt),y.focus()}),((Lt,Ft,Pt,Vt,Jt)=>{Lt.dispatch("ObjectResized",{target:Ft,width:Pt,height:Vt,origin:Jt})})(y,ft,Km(ft),jm(ft),Zv+Ge.type),y.undoManager.add()}),O.set(Ue)}}),y.on("ObjectResizeStart",Ne=>{const Ue=Ne.target;if(ly(Ue)){const Ge=Xt.fromDom(Ue);Fe(y.dom.select(".mce-clonedresizable"),ct=>{y.dom.addClass(ct,"mce-"+dh(y)+"-columns")}),!fs(Ge)&&L(y)?Tl(Ge):!U1(Ge)&&ad(y)&&Sh(Ge),dd(Ge)&&_o(Ne.origin,Zv)&&Sh(Ge),H=Ne.width,j=G(y)?"":qC(y,Ue).getOr(""),se=Ne.height,ce=sv(y,Ue).getOr("")}}),y.on("ObjectResized",Ne=>{const Ue=Ne.target;if(ly(Ue)){const Ge=Xt.fromDom(Ue),ct=Ne.origin;(ft=>_o(ft,"corner-"))(ct)&&et(Ge,ct,Ne.width,Ne.height),ks(Ge),ef(y,Ge.dom,V1)}}),y.on("SwitchMode",()=>{O.on(Ne=>{y.mode.isReadOnly()?Ne.hideBars():Ne.showBars()})}),y.on("dragstart dragend",Ne=>{O.on(Ue=>{Ne.type==="dragstart"?(Ue.hideBars(),Ue.off()):(Ue.on(),Ue.showBars())})}),y.on("remove",()=>{O.on(Ne=>{Ne.destroy()}),B.on(Ne=>{((Ue,Ge)=>{Ue.inline&&ls(Ge.parent())})(y,Ne)})}),{refresh:Ne=>{O.on(Ue=>Ue.refreshBars(Xt.fromDom(Ne)))},hide:()=>{O.on(Ne=>Ne.hideBars())},show:()=>{O.on(Ne=>Ne.showBars())}}},tA=y=>{(H=>{const j=H.options.register;j("table_clone_elements",{processor:"string[]"}),j("table_use_colgroups",{processor:"boolean",default:!0}),j("table_header_type",{processor:se=>{const ce=it(["section","cells","sectionCells","auto"],se);return ce?{value:se,valid:ce}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),j("table_sizing_mode",{processor:"string",default:"auto"}),j("table_default_attributes",{processor:"object",default:{border:"1"}}),j("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),j("table_column_resizing",{processor:se=>{const ce=it(["preservetable","resizetable"],se);return ce?{value:se,valid:ce}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),j("table_resize_bars",{processor:"boolean",default:!0}),j("table_style_by_css",{processor:"boolean",default:!0}),j("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const S=k2(y),O=p_(y,S),B=r2(y,S,O);return Ps(y,B),((H,j)=>{const se=Ks(H),ce=_e=>bs(Fc(H)).bind(Be=>_l(Be,se).map(et=>{const Ne=No(Vc(H),et,Be);return _e(et,Ne)})).getOr("");pn({mceTableRowType:()=>ce(j.getTableRowType),mceTableCellType:()=>ce(j.getTableCellType),mceTableColType:()=>ce(j.getTableColType)},(_e,Be)=>H.addQueryValueHandler(Be,_e))})(y,B),zc(y,B),{getSelectedCells:O.getSelectedCells,clearSelectedCells:O.clearSelectedCells}};t.add("dom",y=>({table:tA(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var wX={},CX={},_X;function _Ce(){return _X||(_X=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(L,G,le)=>{var Le;return le(L,G.prototype)?!0:((Le=L.constructor)===null||Le===void 0?void 0:Le.name)===G.name},i=L=>{const G=typeof L;return L===null?"null":G==="object"&&Array.isArray(L)?"array":G==="object"&&s(L,String,(le,Le)=>Le.isPrototypeOf(le))?"string":G},u=L=>G=>i(G)===L,m=L=>G=>typeof G===L,h=u("string"),x=u("object"),w=u("array"),T=m("boolean"),D=L=>L==null,I=L=>!D(L),P=m("function"),z=m("number"),K=()=>{},W=(L,G)=>le=>L(G(le)),J=L=>()=>L,oe=(L,G)=>L===G;function U(L,...G){return(...le)=>{const Le=G.concat(le);return L.apply(null,Le)}}const he=L=>G=>!L(G),ue=J(!1);class Z{constructor(G,le){this.tag=G,this.value=le}static some(G){return new Z(!0,G)}static none(){return Z.singletonNone}fold(G,le){return this.tag?le(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?Z.some(G(this.value)):Z.none()}bind(G){return this.tag?G(this.value):Z.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:Z.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G??"Called getOrDie on None")}static from(G){return I(G)?Z.some(G):Z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Z.singletonNone=new Z(!1);const de=Array.prototype.slice,re=Array.prototype.indexOf,Ve=Array.prototype.push,Me=(L,G)=>re.call(L,G),Ye=(L,G)=>Me(L,G)>-1,it=(L,G)=>{for(let le=0,Le=L.length;le<Le;le++){const Qe=L[le];if(G(Qe,le))return!0}return!1},Ae=(L,G)=>{const le=L.length,Le=new Array(le);for(let Qe=0;Qe<le;Qe++){const Bt=L[Qe];Le[Qe]=G(Bt,Qe)}return Le},ze=(L,G)=>{for(let le=0,Le=L.length;le<Le;le++){const Qe=L[le];G(Qe,le)}},R=(L,G)=>{const le=[];for(let Le=0,Qe=L.length;Le<Qe;Le++){const Bt=L[Le];G(Bt,Le)&&le.push(Bt)}return le},Fe=(L,G)=>{if(L.length===0)return[];{let le=G(L[0]);const Le=[];let Qe=[];for(let Bt=0,Yn=L.length;Bt<Yn;Bt++){const So=L[Bt],mo=G(So);mo!==le&&(Le.push(Qe),Qe=[]),le=mo,Qe.push(So)}return Qe.length!==0&&Le.push(Qe),Le}},Ze=(L,G,le)=>(ze(L,(Le,Qe)=>{le=G(le,Le,Qe)}),le),Ot=(L,G,le)=>{for(let Le=0,Qe=L.length;Le<Qe;Le++){const Bt=L[Le];if(G(Bt,Le))return Z.some(Bt);if(le(Bt,Le))break}return Z.none()},Gt=(L,G)=>Ot(L,G,ue),ut=L=>{const G=[];for(let le=0,Le=L.length;le<Le;++le){if(!w(L[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+L);Ve.apply(G,L[le])}return G},kn=(L,G)=>ut(Ae(L,G)),Et=L=>{const G=de.call(L,0);return G.reverse(),G},tt=(L,G)=>G>=0&&G<L.length?Z.some(L[G]):Z.none(),Pe=L=>tt(L,0),mt=L=>tt(L,L.length-1),po=(L,G)=>{const le=[],Le=P(G)?Qe=>it(le,Bt=>G(Bt,Qe)):Qe=>Ye(le,Qe);for(let Qe=0,Bt=L.length;Qe<Bt;Qe++){const Yn=L[Qe];Le(Yn)||le.push(Yn)}return le},Ht=(L,G,le=oe)=>L.exists(Le=>le(Le,G)),On=(L,G,le=oe)=>nn(L,G,le).getOr(L.isNone()&&G.isNone()),nn=(L,G,le)=>L.isSome()&&G.isSome()?Z.some(le(L.getOrDie(),G.getOrDie())):Z.none(),Q=8,co=11,Kt=1,pn=3,je=(L,G)=>{const Le=(G||document).createElement("div");if(Le.innerHTML=L,!Le.hasChildNodes()||Le.childNodes.length>1){const Qe="HTML does not have a single root node";throw console.error(Qe,L),new Error(Qe)}return Te(Le.childNodes[0])},nt=(L,G)=>{const Le=(G||document).createElement(L);return Te(Le)},xe=(L,G)=>{const Le=(G||document).createTextNode(L);return Te(Le)},Te=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},be={fromHtml:je,fromTag:nt,fromText:xe,fromDom:Te,fromPoint:(L,G,le)=>Z.from(L.dom.elementFromPoint(G,le)).map(Te)},Ce=(L,G)=>{const le=L.dom;if(le.nodeType!==Kt)return!1;{const Le=le;if(Le.matches!==void 0)return Le.matches(G);if(Le.msMatchesSelector!==void 0)return Le.msMatchesSelector(G);if(Le.webkitMatchesSelector!==void 0)return Le.webkitMatchesSelector(G);if(Le.mozMatchesSelector!==void 0)return Le.mozMatchesSelector(G);throw new Error("Browser lacks native selectors")}},Re=(L,G)=>L.dom===G.dom,qe=(L,G)=>{const le=L.dom,Le=G.dom;return le===Le?!1:le.contains(Le)},ht=Ce,sn=typeof window<"u"?window:Function("return this;")(),Ut=(L,G)=>{let le=G??sn;for(let Le=0;Le<L.length&&le!==void 0&&le!==null;++Le)le=le[L[Le]];return le},bn=(L,G)=>{const le=L.split(".");return Ut(le,G)},qn=(L,G)=>bn(L,G),eo=(L,G)=>{const le=qn(L,G);if(le==null)throw new Error(L+" not available on this browser");return le},Fo=Object.getPrototypeOf,Do=L=>eo("HTMLElement",L),Zr=L=>{const G=bn("ownerDocument.defaultView",L);return x(L)&&(Do(G).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(Fo(L).constructor.name))},cr=L=>L.dom.nodeName.toLowerCase(),ti=L=>L.dom.nodeType,xr=L=>G=>ti(G)===L,ji=L=>ti(L)===Q||cr(L)==="#comment",En=L=>uo(L)&&Zr(L.dom),uo=xr(Kt),Oo=xr(pn),ci=xr(co),tl=L=>G=>uo(G)&&cr(G)===L,Xt=L=>Z.from(L.dom.parentNode).map(be.fromDom),pi=L=>Z.from(L.dom.parentElement).map(be.fromDom),ur=L=>Z.from(L.dom.nextSibling).map(be.fromDom),Yl=L=>Ae(L.dom.childNodes,be.fromDom),Wr=(L,G)=>{const le=L.dom.childNodes;return Z.from(le[G]).map(be.fromDom)},ni=L=>Wr(L,0),Dm=L=>Wr(L,L.dom.childNodes.length-1),Gu=L=>ci(L)&&I(L.dom.host),Rc=L=>be.fromDom(L.dom.getRootNode()),xl=L=>{const G=Rc(L);return Gu(G)?Z.some(G):Z.none()},qu=L=>be.fromDom(L.dom.host),Nr=L=>{const G=Oo(L)?L.dom.parentNode:L.dom;if(G==null||G.ownerDocument===null)return!1;const le=G.ownerDocument;return xl(be.fromDom(G)).fold(()=>le.body.contains(G),W(Nr,qu))};var fo=(L,G,le,Le,Qe)=>L(le,Le)?Z.some(le):P(Qe)&&Qe(le)?Z.none():G(le,Le,Qe);const Xl=(L,G,le)=>{let Le=L.dom;const Qe=P(le)?le:ue;for(;Le.parentNode;){Le=Le.parentNode;const Bt=be.fromDom(Le);if(G(Bt))return Z.some(Bt);if(Qe(Bt))break}return Z.none()},Di=(L,G,le)=>fo((Qe,Bt)=>Bt(Qe),Xl,L,G,le),Yu=(L,G,le)=>Xl(L,Le=>Ce(Le,G),le),un=(L,G,le)=>fo((Qe,Bt)=>Ce(Qe,Bt),Yu,L,G,le),Xu=L=>un(L,"[contenteditable]"),Rm=(L,G=!1)=>Nr(L)?L.dom.isContentEditable:Xu(L).fold(J(G),le=>ps(le)==="true"),ps=L=>L.dom.contentEditable,Nm=(L,G)=>{Xt(L).each(Le=>{Le.dom.insertBefore(G.dom,L.dom)})},nl=(L,G)=>{ur(L).fold(()=>{Xt(L).each(Qe=>{wl(Qe,G)})},Le=>{Nm(Le,G)})},zl=(L,G)=>{ni(L).fold(()=>{wl(L,G)},Le=>{L.dom.insertBefore(G.dom,Le.dom)})},wl=(L,G)=>{L.dom.appendChild(G.dom)},ls=(L,G)=>{ze(G,le=>{Nm(L,le)})},ka=(L,G)=>{ze(G,le=>{wl(L,le)})},Hl=L=>{L.dom.textContent="",ze(Yl(L),G=>{Pm(G)})},Pm=L=>{const G=L.dom;G.parentNode!==null&&G.parentNode.removeChild(G)};var au=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),lu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ef=tinymce.util.Tools.resolve("tinymce.util.VK");const $d=L=>Ae(L,be.fromDom),dr=Object.keys,Ms=(L,G)=>{const le=dr(L);for(let Le=0,Qe=le.length;Le<Qe;Le++){const Bt=le[Le],Yn=L[Bt];G(Yn,Bt)}},ui=L=>(G,le)=>{L[le]=G},Lm=(L,G,le,Le)=>{Ms(L,(Qe,Bt)=>{(G(Qe,Bt)?le:Le)(Qe,Bt)})},ol=(L,G)=>{const le={};return Lm(L,G,ui(le),K),le},cu=(L,G,le)=>{if(h(le)||T(le)||z(le))L.setAttribute(G,le+"");else throw console.error("Invalid call to Attribute.set. Key ",G,":: Value ",le,":: Element ",L),new Error("Attribute value was not simple")},Ea=(L,G)=>{const le=L.dom;Ms(G,(Le,Qe)=>{cu(le,Qe,Le)})},Aa=L=>Ze(L.dom.attributes,(G,le)=>(G[le.name]=le.value,G),{}),uu=(L,G)=>be.fromDom(L.dom.cloneNode(G)),Mr=L=>uu(L,!0),cs=(L,G)=>{const le=be.fromTag(G),Le=Aa(L);return Ea(le,Le),le},Ie=(L,G)=>{const le=cs(L,G);nl(L,le);const Le=Yl(L);return ka(le,Le),Pm(L),le};var at=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),He=tinymce.util.Tools.resolve("tinymce.util.Tools");const yt=L=>G=>I(G)&&G.nodeName.toLowerCase()===L,pt=L=>G=>I(G)&&L.test(G.nodeName),rt=L=>I(L)&&L.nodeType===3,qt=L=>I(L)&&L.nodeType===1,an=pt(/^(OL|UL|DL)$/),mn=pt(/^(OL|UL)$/),Cn=yt("ol"),dn=pt(/^(LI|DT|DD)$/),_o=pt(/^(DT|DD)$/),cn=pt(/^(TH|TD)$/),Tr=yt("br"),Ko=L=>{var G;return((G=L.parentNode)===null||G===void 0?void 0:G.firstChild)===L},Qo=(L,G)=>I(G)&&G.nodeName in L.schema.getTextBlockElements(),Bs=(L,G)=>I(L)&&L.nodeName in G,Ro=(L,G)=>I(G)&&G.nodeName in L.schema.getVoidElements(),Jl=(L,G)=>Tr(G)?L.isBlock(G.nextSibling)&&!Tr(G.previousSibling):!1,Ta=(L,G,le)=>{const Le=L.isEmpty(G);return le&&L.select("span[data-mce-type=bookmark]",G).length>0?!1:Le},bo=(L,G)=>L.isChildOf(G,L.getRoot()),rl=L=>G=>G.options.get(L),Cl=L=>{const G=L.options.register;G("lists_indent_on_tab",{processor:"boolean",default:!0})},Ts=rl("lists_indent_on_tab"),Af=rl("forced_root_block"),oi=rl("forced_root_block_attrs"),Mm=(L,G,le={})=>{const Le=L.dom,Qe=L.schema.getBlockElements(),Bt=Le.createFragment(),Yn=Af(L),So=oi(L);let mo,Pn,wr=!1;for(Pn=Le.create(Yn,{...So,...le.style?{style:le.style}:{}}),Bs(G.firstChild,Qe)||Bt.appendChild(Pn);mo=G.firstChild;){const Ks=mo.nodeName;!wr&&(Ks!=="SPAN"||mo.getAttribute("data-mce-type")!=="bookmark")&&(wr=!0),Bs(mo,Qe)?(Bt.appendChild(mo),Pn=null):(Pn||(Pn=Le.create(Yn,So),Bt.appendChild(Pn)),Pn.appendChild(mo))}return!wr&&Pn&&Pn.appendChild(Le.create("br",{"data-mce-bogus":"1"})),Bt},Ql=at.DOM,kr=(L,G,le)=>{const Le=Pn=>{const wr=Pn.parentNode;wr&&He.each(Qe,Ks=>{wr.insertBefore(Ks,le.parentNode)}),Ql.remove(Pn)},Qe=Ql.select('span[data-mce-type="bookmark"]',G),Bt=Mm(L,le),Yn=Ql.createRng();Yn.setStartAfter(le),Yn.setEndAfter(G);const So=Yn.extractContents();for(let Pn=So.firstChild;Pn;Pn=Pn.firstChild)if(Pn.nodeName==="LI"&&L.dom.isEmpty(Pn)){Ql.remove(Pn);break}L.dom.isEmpty(So)||Ql.insertAfter(So,G),Ql.insertAfter(Bt,G);const mo=le.parentElement;mo&&Ta(L.dom,mo)&&Le(mo),Ql.remove(le),Ta(L.dom,G)&&Ql.remove(G)},Vd=tl("dd"),nh=tl("dt"),wp=(L,G)=>{Vd(G)?Ie(G,"dt"):nh(G)&&pi(G).each(le=>kr(L,le.dom,G.dom))},Os=L=>{nh(L)&&Ie(L,"dd")},Nc=(L,G,le)=>{G==="Indent"?ze(le,Os):ze(le,Le=>wp(L,Le))},_l=(L,G)=>{if(rt(L))return{container:L,offset:G};const le=au.getNode(L,G);return rt(le)?{container:le,offset:G>=L.childNodes.length?le.data.length:0}:le.previousSibling&&rt(le.previousSibling)?{container:le.previousSibling,offset:le.previousSibling.data.length}:le.nextSibling&&rt(le.nextSibling)?{container:le.nextSibling,offset:0}:{container:L,offset:G}},ts=L=>{const G=L.cloneRange(),le=_l(L.startContainer,L.startOffset);G.setStart(le.container,le.offset);const Le=_l(L.endContainer,L.endOffset);return G.setEnd(Le.container,Le.offset),G},Bm=["OL","UL","DL"],Ul=Bm.join(","),ia=(L,G)=>{const le=G||L.selection.getStart(!0);return L.dom.getParent(le,Ul,zd(L,le))},oh=(L,G)=>I(L)&&G.length===1&&G[0]===L,Ri=L=>R(L.querySelectorAll(Ul),an),sl=L=>{const G=ia(L),le=L.selection.getSelectedBlocks();return oh(G,le)?Ri(G):R(le,Le=>an(Le)&&G!==Le)},aa=(L,G)=>{const le=He.map(G,Le=>{const Qe=L.dom.getParent(Le,"li,dd,dt",zd(L,Le));return Qe||Le});return po(le)},Wl=L=>{const G=L.selection.getSelectedBlocks();return R(aa(L,G),dn)},Cp=L=>R(Wl(L),_o),zo=(L,G)=>{const le=L.dom.getParents(G,"TD,TH");return le.length>0?le[0]:L.getBody()},du=(L,G)=>!an(G)&&!dn(G)&&it(Bm,le=>L.isValidChild(G.nodeName,le)),zd=(L,G)=>{const le=L.dom.getParents(G,L.dom.isBlock),Le=Bt=>Bt.nodeName.toLowerCase()!==Af(L);return Gt(le,Bt=>Le(Bt)&&du(L.schema,Bt)).getOr(L.getBody())},Ju=L=>Xt(L).exists(G=>dn(G.dom)&&ni(G).exists(le=>!an(le.dom))&&Dm(G).exists(le=>!an(le.dom))),Yb=(L,G)=>{const le=L.dom.getParents(G,"ol,ul",zd(L,G));return mt(le)},Dx=L=>{const G=Yb(L,L.selection.getStart()),le=R(L.selection.getSelectedBlocks(),mn);return G.toArray().concat(le)},h1=L=>{const G=L.selection.getStart();return L.dom.getParents(G,"ol,ul",zd(L,G))},p1=L=>{const G=Dx(L),le=h1(L);return Gt(le,Le=>Ju(be.fromDom(Le))).fold(()=>GC(L,G),Le=>[Le])},GC=(L,G)=>{const le=Ae(G,Le=>Yb(L,Le).getOr(Le));return po(le)},_p=L=>/\btox\-/.test(L.className),b1=(L,G)=>Ot(L,an,cn).exists(le=>le.nodeName===G&&!_p(le)),tn=(L,G)=>G!==null&&!L.dom.isEditable(G),Tf=L=>{const G=ia(L);return tn(L,G)},Of=(L,G)=>{const le=L.dom.getParent(G,"ol,ul,dl");return tn(L,le)},v1=(L,G)=>{const le=L.selection.getNode();return G({parents:L.dom.getParents(le),element:le}),L.on("NodeChange",G),()=>L.off("NodeChange",G)},la=(L,G)=>{const Le=document.createDocumentFragment();return ze(L,Qe=>{Le.appendChild(Qe.dom)}),be.fromDom(Le)},If=(L,G,le)=>L.dispatch("ListMutation",{action:G,element:le}),Rx=(L=>G=>G.replace(L,""))(/^\s+|\s+$/g),Nx=L=>L.length>0,Xb=L=>!Nx(L),Px=L=>L.style!==void 0&&P(L.style.getPropertyValue),y1=(L,G,le)=>{if(!h(le))throw console.error("Invalid call to CSS.set. Property ",G,":: Value ",le,":: Element ",L),new Error("CSS value must be a string: "+le);Px(L)&&L.style.setProperty(G,le)},Lx=(L,G,le)=>{const Le=L.dom;y1(Le,G,le)},sh=L=>ht(L,"OL,UL"),x1=L=>ht(L,"LI"),Df=L=>ni(L).exists(sh),Rf=L=>Dm(L).exists(sh),ca=L=>"listAttributes"in L,Sl=L=>"isComment"in L,ih=L=>"isFragment"in L,er=L=>L.depth>0,Hd=L=>L.isSelected,ah=L=>{const G=Yl(L),le=Rf(L)?G.slice(0,-1):G;return Ae(le,Mr)},lh=(L,G,le)=>Xt(L).filter(uo).map(Le=>({depth:G,dirty:!1,isSelected:le,content:ah(L),itemAttributes:Aa(L),listAttributes:Aa(Le),listType:cr(Le),isInPreviousLi:!1})),Ba=(L,G)=>{wl(L.item,G.list)},Hs=L=>{for(let G=1;G<L.length;G++)Ba(L[G-1],L[G])},us=(L,G)=>{nn(mt(L),Pe(G),Ba)},Zi=(L,G)=>{const le={list:be.fromTag(G,L),item:be.fromTag("li",L)};return wl(le.list,le.item),le},ns=(L,G,le)=>{const Le=[];for(let Qe=0;Qe<le;Qe++)Le.push(Zi(L,ca(G)?G.listType:G.parentListType));return Le},Nf=(L,G)=>{for(let le=0;le<L.length-1;le++)Lx(L[le].item,"list-style-type","none");mt(L).each(le=>{ca(G)&&(Ea(le.list,G.listAttributes),Ea(le.item,G.itemAttributes)),ka(le.item,G.content)})},Fm=(L,G)=>{cr(L.list)!==G.listType&&(L.list=Ie(L.list,G.listType)),Ea(L.list,G.listAttributes)},_i=(L,G,le)=>{const Le=be.fromTag("li",L);return Ea(Le,G),ka(Le,le),Le},Fa=(L,G)=>{wl(L.list,G),L.item=G},Oa=(L,G,le)=>{const Le=G.slice(0,le.depth);return mt(Le).each(Qe=>{if(ca(le)){const Bt=_i(L,le.itemAttributes,le.content);Fa(Qe,Bt),Fm(Qe,le)}else if(ih(le))ka(Qe.item,le.content);else{const Bt=be.fromHtml(`<!--${le.content}-->`);wl(Qe.list,Bt)}}),Le},fu=(L,G,le)=>{const Le=ns(L,le,le.depth-G.length);return Hs(Le),Nf(Le,le),us(G,Le),G.concat(Le)},Ud=(L,G)=>{let le=Z.none();const Le=Ze(G,(Qe,Bt,Yn)=>Sl(Bt)?Yn===0?(le=Z.some(Bt),Qe):Oa(L,Qe,Bt):Bt.depth>Qe.length?fu(L,Qe,Bt):Oa(L,Qe,Bt),[]);return le.each(Qe=>{const Bt=be.fromHtml(`<!--${Qe.content}-->`);Pe(Le).each(Yn=>{zl(Yn.list,Bt)})}),Pe(Le).map(Qe=>Qe.list)},Lo=(L,G)=>{switch(L){case"Indent":G.depth++;break;case"Outdent":G.depth--;break;case"Flatten":G.depth=0}G.dirty=!0},di=(L,G)=>{ca(L)&&ca(G)&&(L.listType=G.listType,L.listAttributes={...G.listAttributes})},kl=L=>{L.listAttributes=ol(L.listAttributes,(G,le)=>le!=="start")},Wd=(L,G)=>{const le=L[G].depth,Le=Bt=>Bt.depth===le&&!Bt.dirty,Qe=Bt=>Bt.depth<le;return Ot(Et(L.slice(0,G)),Le,Qe).orThunk(()=>Ot(L.slice(G+1),Le,Qe))},Gi=L=>(ze(L,(G,le)=>{Wd(L,le).fold(()=>{G.dirty&&ca(G)&&kl(G)},Le=>di(G,Le))}),L),Hn=L=>{let G=L;return{get:()=>G,set:Qe=>{G=Qe}}},Pc=(L,G,le,Le)=>{var Qe;if(ji(Le))return[{depth:L+1,content:(Qe=Le.dom.nodeValue)!==null&&Qe!==void 0?Qe:"",dirty:!1,isSelected:!1,isComment:!0}];G.each(So=>{Re(So.start,Le)&&le.set(!0)});const Bt=lh(Le,L,le.get());G.each(So=>{Re(So.end,Le)&&le.set(!1)});const Yn=Dm(Le).filter(sh).map(So=>Or(L,G,le,So)).getOr([]);return Bt.toArray().concat(Yn)},Lc=(L,G,le,Le)=>ni(Le).filter(sh).fold(()=>Pc(L,G,le,Le),Qe=>{const Bt=Ze(Yl(Le),(Yn,So,mo)=>{if(mo===0)return Yn;if(x1(So))return Yn.concat(Pc(L,G,le,So));{const Pn={isFragment:!0,depth:L,content:[So],isSelected:!1,dirty:!1,parentListType:cr(Qe)};return Yn.concat(Pn)}},[]);return Or(L,G,le,Qe).concat(Bt)}),Or=(L,G,le,Le)=>kn(Yl(Le),Qe=>{const Bt=sh(Qe)?Or:Lc,Yn=L+1;return Bt(Yn,G,le,Qe)}),Sp=(L,G)=>{const le=Hn(!1),Le=0;return Ae(L,Qe=>({sourceList:Qe,entries:Or(Le,G,le,Qe)}))},Jb=(L,G)=>{const le=Gi(G);return Ae(le,Le=>{const Qe=Sl(Le)?la([be.fromHtml(`<!--${Le.content}-->`)]):la(Le.content),Bt=ca(Le)?Le.itemAttributes:{};return be.fromDom(Mm(L,Qe.dom,Bt))})},Kd=(L,G)=>{const le=Gi(G);return Ud(L.contentDocument,le).toArray()},Ho=(L,G)=>kn(Fe(G,er),le=>Pe(le).exists(er)?Kd(L,le):Jb(L,le)),$a=(L,G)=>{ze(R(L,Hd),le=>Lo(G,le))},kp=L=>{const G=Ae(Wl(L),be.fromDom);return nn(Gt(G,he(Df)),Gt(Et(G),he(Df)),(le,Le)=>({start:le,end:Le}))},jd=(L,G,le)=>{const Le=Sp(G,kp(L));ze(Le,Qe=>{$a(Qe.entries,le);const Bt=Ho(L,Qe.entries);ze(Bt,Yn=>{If(L,le==="Indent"?"IndentList":"OutdentList",Yn.dom)}),ls(Qe.sourceList,Bt),Pm(Qe.sourceList)})},Qb=(L,G)=>{const le=$d(p1(L)),Le=$d(Cp(L));let Qe=!1;if(le.length||Le.length){const Bt=L.selection.getBookmark();jd(L,le,G),Nc(L,G,Le),L.selection.moveToBookmark(Bt),L.selection.setRng(ts(L.selection.getRng())),L.nodeChanged(),Qe=!0}return Qe},mu=(L,G)=>!Tf(L)&&Qb(L,G),il=L=>mu(L,"Indent"),gu=L=>mu(L,"Outdent"),Pf=L=>mu(L,"Flatten"),Ke="\uFEFF",$m=L=>L===Ke,Br=(L,G,le)=>Xl(L,G,le).isSome(),ev=(L,G)=>Br(L,U(Re,G));var ch=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const hu=at.DOM,tr=L=>{const G={},le=Le=>{let Qe=L[Le?"startContainer":"endContainer"],Bt=L[Le?"startOffset":"endOffset"];if(qt(Qe)){const Yn=hu.create("span",{"data-mce-type":"bookmark"});Qe.hasChildNodes()?(Bt=Math.min(Bt,Qe.childNodes.length-1),Le?Qe.insertBefore(Yn,Qe.childNodes[Bt]):hu.insertAfter(Yn,Qe.childNodes[Bt])):Qe.appendChild(Yn),Qe=Yn,Bt=0}G[Le?"startContainer":"endContainer"]=Qe,G[Le?"startOffset":"endOffset"]=Bt};return le(!0),L.collapsed||le(),G},ua=L=>{const G=Le=>{const Qe=So=>{var mo;let Pn=(mo=So.parentNode)===null||mo===void 0?void 0:mo.firstChild,wr=0;for(;Pn;){if(Pn===So)return wr;(!qt(Pn)||Pn.getAttribute("data-mce-type")!=="bookmark")&&wr++,Pn=Pn.nextSibling}return-1};let Bt=L[Le?"startContainer":"endContainer"],Yn=L[Le?"startOffset":"endOffset"];if(Bt){if(qt(Bt)&&Bt.parentNode){const So=Bt;Yn=Qe(Bt),Bt=Bt.parentNode,hu.remove(So),!Bt.hasChildNodes()&&hu.isBlock(Bt)&&Bt.appendChild(hu.create("br"))}L[Le?"startContainer":"endContainer"]=Bt,L[Le?"startOffset":"endOffset"]=Yn}};G(!0),G();const le=hu.createRng();return le.setStart(L.startContainer,L.startOffset),L.endContainer&&le.setEnd(L.endContainer,L.endOffset),ts(le)},Qu=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},fc=(L,G,le)=>{const Le=le["list-style-type"]?le["list-style-type"]:null;L.setStyle(G,"list-style-type",Le)},ed=(L,G)=>{He.each(G,(le,Le)=>{L.setAttribute(Le,le)})},td=(L,G,le)=>{ed(G,le["list-attributes"]),He.each(L.select("li",G),Le=>{ed(Le,le["list-item-attributes"])})},da=(L,G,le)=>{fc(L,G,le),td(L,G,le)},Lf=(L,G,le)=>{He.each(le,Le=>L.setStyle(G,Le,""))},Vm=(L,G)=>I(G)&&!Bs(G,L.schema.getBlockElements()),tv=(L,G,le,Le)=>{let Qe=G[le?"startContainer":"endContainer"];const Bt=G[le?"startOffset":"endOffset"];qt(Qe)&&(Qe=Qe.childNodes[Math.min(Bt,Qe.childNodes.length-1)]||Qe),!le&&Tr(Qe.nextSibling)&&(Qe=Qe.nextSibling);const Yn=mo=>{for(;!L.dom.isBlock(mo)&&mo.parentNode&&Le!==mo;)mo=mo.parentNode;return mo},So=(mo,Pn)=>{var wr;const Ks=new lu(mo,Yn(mo)),ks=Pn?"next":"prev";let Fc;for(;Fc=Ks[ks]();)if(!(Ro(L,Fc)||$m(Fc.textContent)||((wr=Fc.textContent)===null||wr===void 0?void 0:wr.length)===0))return Z.some(Fc);return Z.none()};if(le&&rt(Qe))if($m(Qe.textContent))Qe=So(Qe,!1).getOr(Qe);else for(Qe.parentNode!==null&&Vm(L,Qe.parentNode)&&(Qe=Qe.parentNode);Qe.previousSibling!==null&&(Vm(L,Qe.previousSibling)||rt(Qe.previousSibling));)Qe=Qe.previousSibling;if(!le&&rt(Qe))if($m(Qe.textContent))Qe=So(Qe,!0).getOr(Qe);else for(Qe.parentNode!==null&&Vm(L,Qe.parentNode)&&(Qe=Qe.parentNode);Qe.nextSibling!==null&&(Vm(L,Qe.nextSibling)||rt(Qe.nextSibling));)Qe=Qe.nextSibling;for(;Qe.parentNode!==Le;){const mo=Qe.parentNode;if(Qo(L,Qe)||/^(TD|TH)$/.test(mo.nodeName))return Qe;Qe=mo}return Qe},Si=(L,G,le)=>{const Le=[],Qe=L.dom,Bt=tv(L,G,!0,le),Yn=tv(L,G,!1,le);let So;const mo=[];for(let Pn=Bt;Pn&&(mo.push(Pn),Pn!==Yn);Pn=Pn.nextSibling);return He.each(mo,Pn=>{var wr;if(Qo(L,Pn)){Le.push(Pn),So=null;return}if(Qe.isBlock(Pn)||Tr(Pn)){Tr(Pn)&&Qe.remove(Pn),So=null;return}const Ks=Pn.nextSibling;if(ch.isBookmarkNode(Pn)&&(an(Ks)||Qo(L,Ks)||!Ks&&Pn.parentNode===le)){So=null;return}So||(So=Qe.create("p"),(wr=Pn.parentNode)===null||wr===void 0||wr.insertBefore(So,Pn),Le.push(So)),So.appendChild(Pn)}),Le},Gn=(L,G,le)=>{const Le=L.getStyle(G,"list-style-type");let Qe=le?le["list-style-type"]:"";return Qe=Qe===null?"":Qe,Le===Qe},nd=(L,G)=>{const le=L.selection.getStart(!0),Le=tv(L,G,!0,L.getBody());return ev(be.fromDom(Le),be.fromDom(G.commonAncestorContainer))?G.commonAncestorContainer:le},zm=(L,G,le)=>{const Le=L.selection.getRng();let Qe="LI";const Bt=zd(L,nd(L,Le)),Yn=L.dom;if(Yn.getContentEditable(L.selection.getNode())==="false")return;G=G.toUpperCase(),G==="DL"&&(Qe="DT");const So=tr(Le),mo=R(Si(L,Le,Bt),L.dom.isEditable);He.each(mo,Pn=>{let wr;const Ks=Pn.previousSibling,ks=Pn.parentNode;dn(ks)||(Ks&&an(Ks)&&Ks.nodeName===G&&Gn(Yn,Ks,le)?(wr=Ks,Pn=Yn.rename(Pn,Qe),Ks.appendChild(Pn)):(wr=Yn.create(G),ks.insertBefore(wr,Pn),wr.appendChild(Pn),Pn=Yn.rename(Pn,Qe)),Lf(Yn,Pn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),da(Yn,wr,le),Zd(L.dom,wr))}),L.selection.setRng(ua(So))},fa=(L,G)=>an(L)&&L.nodeName===(G==null?void 0:G.nodeName),od=(L,G,le)=>{const Le=L.getStyle(G,"list-style-type",!0),Qe=L.getStyle(le,"list-style-type",!0);return Le===Qe},Kl=(L,G)=>L.className===G.className,rd=(L,G,le)=>fa(G,le)&&od(L,G,le)&&Kl(G,le),Zd=(L,G)=>{let le,Le=G.nextSibling;if(rd(L,G,Le)){const Qe=Le;for(;le=Qe.firstChild;)G.appendChild(le);L.remove(Qe)}if(Le=G.previousSibling,rd(L,G,Le)){const Qe=Le;for(;le=Qe.lastChild;)G.insertBefore(le,G.firstChild);L.remove(Qe)}},ki=(L,G,le,Le)=>{if(G.nodeName!==le){const Qe=L.dom.rename(G,le);da(L.dom,Qe,Le),If(L,Qu(le),Qe)}else da(L.dom,G,Le),If(L,Qu(le),G)},mc=(L,G,le,Le)=>{if(G.classList.forEach((Qe,Bt,Yn)=>{Qe.startsWith("tox-")&&(Yn.remove(Qe),Yn.length===0&&G.removeAttribute("class"))}),G.nodeName!==le){const Qe=L.dom.rename(G,le);da(L.dom,Qe,Le),If(L,Qu(le),Qe)}else da(L.dom,G,Le),If(L,Qu(le),G)},pu=(L,G,le,Le,Qe)=>{const Bt=an(G);if(Bt&&G.nodeName===Le&&!Hm(Qe)&&!_p(G))Pf(L);else{zm(L,Le,Qe);const Yn=tr(L.selection.getRng()),So=Bt?[G,...le]:le,mo=Bt&&_p(G)?mc:ki;He.each(So,Pn=>{mo(L,Pn,Le,Qe)}),L.selection.setRng(ua(Yn))}},Hm=L=>"list-style-type"in L,w1=(L,G,le,Le)=>{if(G!==L.getBody())if(G)if(G.nodeName===le&&!Hm(Le)&&!_p(G))Pf(L);else{const Qe=tr(L.selection.getRng());_p(G)&&G.classList.forEach((Yn,So,mo)=>{Yn.startsWith("tox-")&&(mo.remove(Yn),mo.length===0&&G.removeAttribute("class"))}),da(L.dom,G,Le);const Bt=L.dom.rename(G,le);Zd(L.dom,Bt),L.selection.setRng(ua(Qe)),zm(L,le,Le),If(L,Qu(le),Bt)}else zm(L,le,Le),If(L,Qu(le),G)},sd=(L,G,le)=>{const Le=ia(L);if(Of(L,Le))return;const Qe=sl(L),Bt=x(le)?le:{};Qe.length>0?pu(L,Le,Qe,G,Bt):w1(L,Le,G,Bt)},Mf=at.DOM,nv=(L,G)=>{const le=G.parentElement;if(le&&le.nodeName==="LI"&&le.firstChild===G){const Le=le.previousSibling;Le&&Le.nodeName==="LI"?(Le.appendChild(G),Ta(L,le)&&Mf.remove(le)):Mf.setStyle(le,"listStyleType","none")}if(an(le)){const Le=le.previousSibling;Le&&Le.nodeName==="LI"&&Le.appendChild(G)}},_s=(L,G)=>{const le=He.grep(L.select("ol,ul",G));He.each(le,Le=>{nv(L,Le)})},Va=(L,G,le,Le)=>{let Qe=G.startContainer;const Bt=G.startOffset;if(rt(Qe)&&(le?Bt<Qe.data.length:Bt>0))return Qe;const Yn=L.schema.getNonEmptyElements();qt(Qe)&&(Qe=au.getNode(Qe,Bt));const So=new lu(Qe,Le);le&&Jl(L.dom,Qe)&&So.next();const mo=le?So.next.bind(So):So.prev2.bind(So);for(;Qe=mo();)if(Qe.nodeName==="LI"&&!Qe.hasChildNodes()||Yn[Qe.nodeName]||rt(Qe)&&Qe.data.length>0)return Qe;return null},Ia=(L,G)=>{const le=G.childNodes;return le.length===1&&!an(le[0])&&L.isBlock(le[0])},al=L=>Z.from(L).map(be.fromDom).filter(En).exists(G=>Rm(G)&&!Ye(["details"],cr(G))),bi=(L,G)=>{Ia(L,G)&&al(G.firstChild)&&L.remove(G.firstChild,!0)},Ep=(L,G,le)=>{let Le;const Qe=Ia(L,le)?le.firstChild:le;if(bi(L,G),!Ta(L,G,!0))for(;Le=G.firstChild;)Qe.appendChild(Le)},fi=(L,G,le)=>{let Le;const Qe=G.parentNode;if(!bo(L,G)||!bo(L,le))return;an(le.lastChild)&&(Le=le.lastChild),Qe===le.lastChild&&Tr(Qe.previousSibling)&&L.remove(Qe.previousSibling);const Bt=le.lastChild;Bt&&Tr(Bt)&&G.hasChildNodes()&&L.remove(Bt),Ta(L,le,!0)&&Hl(be.fromDom(le)),Ep(L,G,le),Le&&le.appendChild(Le);const So=qe(be.fromDom(le),be.fromDom(G))?L.getParents(G,an,le):[];L.remove(G),ze(So,mo=>{Ta(L,mo)&&mo!==L.getRoot()&&L.remove(mo)})},qi=(L,G,le)=>{Hl(be.fromDom(le)),fi(L.dom,G,le),L.selection.setCursorLocation(le,0)},bu=(L,G,le,Le)=>{const Qe=L.dom;if(Qe.isEmpty(Le))qi(L,le,Le);else{const Bt=tr(G);fi(Qe,le,Le),L.selection.setRng(ua(Bt))}},Mt=(L,G,le,Le)=>{const Qe=tr(G);fi(L.dom,le,Le);const Bt=ua(Qe);L.selection.setRng(Bt)},Yi=(L,G)=>{const le=L.dom,Le=L.selection,Qe=Le.getStart(),Bt=zo(L,Qe),Yn=le.getParent(Le.getStart(),"LI",Bt);if(Yn){const So=Yn.parentElement;if(So===L.getBody()&&Ta(le,So))return!0;const mo=ts(Le.getRng()),Pn=le.getParent(Va(L,mo,G,Bt),"LI",Bt),wr=Pn&&(G?le.isChildOf(Yn,Pn):le.isChildOf(Pn,Yn));if(Pn&&Pn!==Yn&&!wr)return L.undoManager.transact(()=>{G?bu(L,mo,Pn,Yn):Ko(Yn)?gu(L):Mt(L,mo,Yn,Pn)}),!0;if(wr&&!G&&Pn!==Yn)return L.undoManager.transact(()=>{if(mo.commonAncestorContainer.parentElement){const Ks=tr(mo),ks=mo.commonAncestorContainer.parentElement;Ep(le,mo.commonAncestorContainer.parentElement,Pn),ks.remove();const Fc=ua(Ks);L.selection.setRng(Fc)}}),!0;if(!Pn&&!G&&mo.startOffset===0&&mo.endOffset===0)return L.undoManager.transact(()=>{Pf(L)}),!0}return!1},Ap=(L,G,le)=>{const Le=L.getParent(G.parentNode,L.isBlock,le);L.remove(G),Le&&L.isEmpty(Le)&&L.remove(Le)},Ss=(L,G)=>{const le=L.dom,Le=L.selection.getStart(),Qe=zo(L,Le),Bt=le.getParent(Le,le.isBlock,Qe);if(Bt&&le.isEmpty(Bt,void 0,{checkRootAsContent:!0})){const Yn=ts(L.selection.getRng()),So=le.getParent(Va(L,Yn,G,Qe),"LI",Qe);if(So){const mo=ks=>Ye(["td","th","caption"],cr(ks)),Pn=ks=>ks.dom===Qe,wr=Di(be.fromDom(So),mo,Pn),Ks=Di(be.fromDom(Yn.startContainer),mo,Pn);return On(wr,Ks,Re)?(L.undoManager.transact(()=>{const ks=So.parentNode;Ap(le,Bt,Qe),Zd(le,ks),L.selection.select(So,!0),L.selection.collapse(G)}),!0):!1}}return!1},id=(L,G)=>Yi(L,G)||Ss(L,G),za=L=>{const G=L.selection.getStart(),le=zo(L,G);return L.dom.getParent(G,"LI,DT,DD",le)||Wl(L).length>0},Mc=L=>za(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),_s(L.dom,L.getBody())}),!0):!1,Um=(L,G)=>{const le=L.selection;return!Of(L,le.getNode())&&(le.isCollapsed()?id(L,G):Mc(L))},ll=L=>{L.on("ExecCommand",G=>{const le=G.command.toLowerCase();(le==="delete"||le==="forwarddelete")&&za(L)&&_s(L.dom,L.getBody())}),L.on("keydown",G=>{G.keyCode===Ef.BACKSPACE?Um(L,!1)&&G.preventDefault():G.keyCode===Ef.DELETE&&Um(L,!0)&&G.preventDefault()})},Yo=L=>({backspaceDelete:G=>{Um(L,G)}}),Us=(L,G)=>{const le=ia(L);le===null||Of(L,le)||L.undoManager.transact(()=>{x(G.styles)&&L.dom.setStyles(le,G.styles),x(G.attrs)&&Ms(G.attrs,(Le,Qe)=>L.dom.setAttrib(le,Qe,Le))})},Bf=L=>{const G=Et(Rx(L).split("")),le=Ae(G,(Le,Qe)=>{const Bt=Le.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Qe)*Bt});return Ze(le,(Le,Qe)=>Le+Qe,0)},Fs=L=>{if(L--,L<0)return"";{const G=L%26,le=Math.floor(L/26),Le=Fs(le),Qe=String.fromCharCode(65+G);return Le+Qe}},uh=L=>/^[A-Z]+$/.test(L),vu=L=>/^[a-z]+$/.test(L),C1=L=>/^[0-9]+$/.test(L),Is=L=>C1(L)?2:uh(L)?0:vu(L)?1:Xb(L)?3:4,dt=L=>{switch(Is(L)){case 2:return Z.some({listStyleType:Z.none(),start:L});case 0:return Z.some({listStyleType:Z.some("upper-alpha"),start:Bf(L).toString()});case 1:return Z.some({listStyleType:Z.some("lower-alpha"),start:Bf(L).toString()});case 3:return Z.some({listStyleType:Z.none(),start:""});case 4:return Z.none()}},Ha=L=>{const G=parseInt(L.start,10);return Ht(L.listStyleType,"upper-alpha")?Fs(G):Ht(L.listStyleType,"lower-alpha")?Fs(G).toLowerCase():L.start},Ws=L=>{const G=ia(L);!Cn(G)||Of(L,G)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ha({start:L.dom.getAttrib(G,"start","1"),listStyleType:Z.from(L.dom.getStyle(G,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:le=>{const Le=le.getData();dt(Le.start).each(Qe=>{L.execCommand("mceListUpdate",!1,{attrs:{start:Qe.start==="1"?"":Qe.start},styles:{"list-style-type":Qe.listStyleType.getOr("")}})}),le.close()}})},ec=(L,G)=>()=>{const le=ia(L);return I(le)&&le.nodeName===G},Bc=L=>{L.addCommand("mceListProps",()=>{Ws(L)})},ri=L=>{L.on("BeforeExecCommand",G=>{const le=G.command.toLowerCase();le==="indent"?il(L):le==="outdent"&&gu(L)}),L.addCommand("InsertUnorderedList",(G,le)=>{sd(L,"UL",le)}),L.addCommand("InsertOrderedList",(G,le)=>{sd(L,"OL",le)}),L.addCommand("InsertDefinitionList",(G,le)=>{sd(L,"DL",le)}),L.addCommand("RemoveList",()=>{Pf(L)}),Bc(L),L.addCommand("mceListUpdate",(G,le)=>{x(le)&&Us(L,le)}),L.addQueryStateHandler("InsertUnorderedList",ec(L,"UL")),L.addQueryStateHandler("InsertOrderedList",ec(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",ec(L,"DL"))};var os=tinymce.util.Tools.resolve("tinymce.html.Node");const Pr=L=>L.type===3,Ua=L=>L.length===0,tc=L=>{const G=(Qe,Bt)=>{const Yn=os.create("li");ze(Qe,So=>Yn.append(So)),Bt?L.insert(Yn,Bt,!0):L.append(Yn)},le=(Qe,Bt)=>Pr(Bt)?[...Qe,Bt]:!Ua(Qe)&&!Pr(Bt)?(G(Qe,Bt),[]):Qe,Le=Ze(L.children(),le,[]);Ua(Le)||G(Le)},yu=L=>{L.on("PreInit",()=>{const{parser:G}=L;G.addNodeFilter("ul,ol",le=>ze(le,tc))})},Gd=L=>{L.on("keydown",G=>{G.keyCode!==Ef.TAB||Ef.metaKeyPressed(G)||L.undoManager.transact(()=>{(G.shiftKey?gu(L):il(L))&&G.preventDefault()})})},Wm=L=>{Ts(L)&&Gd(L),ll(L)},dh=(L,G)=>le=>{const Le=Qe=>{le.setActive(b1(Qe.parents,G)),le.setEnabled(!Of(L,Qe.element)&&L.selection.isEditable())};return le.setEnabled(L.selection.isEditable()),v1(L,Le)},fh=L=>{const G=le=>()=>L.execCommand(le);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:G("InsertOrderedList"),onSetup:dh(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:G("InsertUnorderedList"),onSetup:dh(L,"UL")}))},ov=(L,G)=>le=>v1(L,Qe=>le.setEnabled(b1(Qe.parents,G)&&!Of(L,Qe.element))),rv=L=>{const G={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:ov(L,"OL")};L.ui.registry.addMenuItem("listprops",G),L.ui.registry.addContextMenu("lists",{update:le=>{const Le=ia(L,le);return Cn(Le)?["listprops"]:[]}})};var ad=()=>{t.add("lists",L=>(Cl(L),yu(L),L.hasPlugin("rtc",!0)?Bc(L):(Wm(L),ri(L)),fh(L),rv(L),Yo(L)))};ad()}()),CX}var SX;function SCe(){return SX||(SX=1,_Ce()),wX}SCe();var kX={},EX={},AX;function kCe(){return AX||(AX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(xe,Te)=>xe.dispatch("insertCustomChar",{chr:Te}),i=(xe,Te)=>{const $e=s(xe,Te).chr;xe.execCommand("mceInsertContent",!1,$e)},u=(xe,Te,$e)=>{var be;return $e(xe,Te.prototype)?!0:((be=xe.constructor)===null||be===void 0?void 0:be.name)===Te.name},m=xe=>{const Te=typeof xe;return xe===null?"null":Te==="object"&&Array.isArray(xe)?"array":Te==="object"&&u(xe,String,($e,be)=>be.isPrototypeOf($e))?"string":Te},h=xe=>Te=>m(Te)===xe,x=xe=>Te=>typeof Te===xe,w=xe=>Te=>xe===Te,T=h("array"),D=w(null),I=w(void 0),P=xe=>xe==null,z=xe=>!P(xe),K=x("function"),J=(xe=>()=>xe)(!1);class oe{constructor(Te,$e){this.tag=Te,this.value=$e}static some(Te){return new oe(!0,Te)}static none(){return oe.singletonNone}fold(Te,$e){return this.tag?$e(this.value):Te()}isSome(){return this.tag}isNone(){return!this.tag}map(Te){return this.tag?oe.some(Te(this.value)):oe.none()}bind(Te){return this.tag?Te(this.value):oe.none()}exists(Te){return this.tag&&Te(this.value)}forall(Te){return!this.tag||Te(this.value)}filter(Te){return!this.tag||Te(this.value)?this:oe.none()}getOr(Te){return this.tag?this.value:Te}or(Te){return this.tag?this:Te}getOrThunk(Te){return this.tag?this.value:Te()}orThunk(Te){return this.tag?this:Te()}getOrDie(Te){if(this.tag)return this.value;throw new Error(Te??"Called getOrDie on None")}static from(Te){return z(Te)?oe.some(Te):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Te){this.tag&&Te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const U=Array.prototype.push,he=(xe,Te)=>{const $e=xe.length,be=new Array($e);for(let Ce=0;Ce<$e;Ce++){const Re=xe[Ce];be[Ce]=Te(Re,Ce)}return be},ue=(xe,Te)=>{for(let $e=0,be=xe.length;$e<be;$e++){const Ce=xe[$e];Te(Ce,$e)}},Z=(xe,Te,$e)=>{for(let be=0,Ce=xe.length;be<Ce;be++){const Re=xe[be];if(Te(Re,be))return oe.some(Re);if($e(Re,be))break}return oe.none()},de=(xe,Te)=>Z(xe,Te,J),re=xe=>{const Te=[];for(let $e=0,be=xe.length;$e<be;++$e){if(!T(xe[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+xe);U.apply(Te,xe[$e])}return Te},Ve=(xe,Te)=>re(he(xe,Te));var Me=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ye=xe=>Te=>Te.options.get(xe),it=xe=>{const Te=xe.options.register,$e=be=>K(be)||T(be);Te("charmap",{processor:$e}),Te("charmap_append",{processor:$e})},Ae=Ye("charmap"),ze=Ye("charmap_append"),R=Me.isArray,Fe="User Defined",Ze=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Ot=xe=>Me.grep(xe,Te=>R(Te)&&Te.length===2),Gt=xe=>R(xe)?Ot(xe):typeof xe=="function"?xe():[],ut=(xe,Te)=>{const $e=Ae(xe);$e&&(Te=[{name:Fe,characters:Gt($e)}]);const be=ze(xe);if(be){const Ce=Me.grep(Te,Re=>Re.name===Fe);return Ce.length?(Ce[0].characters=[...Ce[0].characters,...Gt(be)],Te):Te.concat({name:Fe,characters:Gt(be)})}return Te},kn=xe=>{const Te=ut(xe,Ze());return Te.length>1?[{name:"All",characters:Ve(Te,$e=>$e.characters)}].concat(Te):Te},Et=xe=>({getCharMap:()=>kn(xe),insertChar:be=>{i(xe,be)}}),tt=xe=>{let Te=xe;return{get:()=>Te,set:Ce=>{Te=Ce}}},Pe=(xe,Te)=>{let $e=null;const be=()=>{D($e)||(clearTimeout($e),$e=null)};return{cancel:be,throttle:(...Re)=>{be(),$e=setTimeout(()=>{$e=null,xe.apply(null,Re)},Te)}}},mt=(xe,Te,$e=0,be)=>{const Ce=xe.indexOf(Te,$e);return Ce!==-1?I(be)?!0:Ce+Te.length<=be:!1},po=String.fromCodePoint,Ht=(xe,Te,$e)=>mt(po(xe).toLowerCase(),$e)?!0:mt(Te.toLowerCase(),$e)||mt(Te.toLowerCase().replace(/\s+/g,""),$e),On=(xe,Te)=>{const $e=[],be=Te.toLowerCase();return ue(xe.characters,Ce=>{Ht(Ce[0],Ce[1],be)&&$e.push(Ce)}),he($e,Ce=>({text:Ce[1],value:po(Ce[0]),icon:po(Ce[0])}))},nn="pattern",Q=(xe,Te)=>{const $e=()=>[{label:"Search",type:"input",name:nn},{type:"collection",name:"results"}],be=()=>he(Te,Do=>({title:Do.name,name:Do.name,items:$e()})),Ce=()=>({type:"panel",items:$e()}),Re=()=>({type:"tabpanel",tabs:be()}),qe=Te.length===1?tt(Fe):tt("All"),ht=(Do,Zr)=>{de(Te,cr=>cr.name===qe.get()).each(cr=>{const ti=On(cr,Zr);Do.setData({results:ti})})},Ut=Pe(Do=>{const Zr=Do.getData().pattern;ht(Do,Zr)},40),bn=Te.length===1?Ce():Re(),qn={pattern:"",results:On(Te[0],"")},eo={title:"Special Character",size:"normal",body:bn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:qn,onAction:(Do,Zr)=>{Zr.name==="results"&&(i(xe,Zr.value),Do.close())},onTabChange:(Do,Zr)=>{qe.set(Zr.newTabName),Ut.throttle(Do)},onChange:(Do,Zr)=>{Zr.name===nn&&Ut.throttle(Do)}};xe.windowManager.open(eo).focus(nn)},co=(xe,Te)=>{xe.addCommand("mceShowCharmap",()=>{Q(xe,Te)})},Kt=(xe,Te)=>{xe.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:($e,be)=>new Promise((Ce,Re)=>{Ce(On(Te,$e))}),onAction:($e,be,Ce)=>{xe.selection.setRng(be),xe.insertContent(Ce),$e.hide()}})},pn=xe=>Te=>{const $e=()=>{Te.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",$e),$e(),()=>{xe.off("NodeChange",$e)}},je=xe=>{const Te=()=>xe.execCommand("mceShowCharmap");xe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Te,onSetup:pn(xe)}),xe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Te,onSetup:pn(xe)})};var nt=()=>{t.add("charmap",xe=>{it(xe);const Te=kn(xe);return co(xe,Te),je(xe),Kt(xe,Te[0]),Et(xe)})};nt()}()),EX}var TX;function ECe(){return TX||(TX=1,kCe()),kX}ECe();var OX={},IX={},DX;function ACe(){return DX||(DX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(xe=>Te=>xe===Te)(null),u=xe=>xe,m=(xe,Te)=>{const $e=xe.length,be=new Array($e);for(let Ce=0;Ce<$e;Ce++){const Re=xe[Ce];be[Ce]=Te(Re,Ce)}return be},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},T=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],D="",I=new RegExp("^"+x.punctuation+"$"),P=/^\s+$/,z=T,K=w.OTHER,W=xe=>{let Te=K;const $e=z.length;for(let be=0;be<$e;++be){const Ce=z[be];if(Ce&&Ce.test(xe)){Te=be;break}}return Te},J=xe=>{const Te={};return $e=>{if(Te[$e])return Te[$e];{const be=xe($e);return Te[$e]=be,be}}},oe=xe=>{const Te=J(W);return m(xe,Te)},U=(xe,Te)=>{const $e=xe[Te],be=xe[Te+1];if(Te<0||Te>xe.length-1&&Te!==0||$e===w.ALETTER&&be===w.ALETTER)return!1;const Ce=xe[Te+2];if($e===w.ALETTER&&(be===w.MIDLETTER||be===w.MIDNUMLET||be===w.AT)&&Ce===w.ALETTER)return!1;const Re=xe[Te-1];return($e===w.MIDLETTER||$e===w.MIDNUMLET||be===w.AT)&&be===w.ALETTER&&Re===w.ALETTER||($e===w.NUMERIC||$e===w.ALETTER)&&(be===w.NUMERIC||be===w.ALETTER)||($e===w.MIDNUM||$e===w.MIDNUMLET)&&be===w.NUMERIC&&Re===w.NUMERIC||$e===w.NUMERIC&&(be===w.MIDNUM||be===w.MIDNUMLET)&&Ce===w.NUMERIC||($e===w.EXTEND||$e===w.FORMAT)&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA||be===w.EXTEND||be===w.FORMAT)||(be===w.EXTEND||be===w.FORMAT&&(Ce===w.ALETTER||Ce===w.NUMERIC||Ce===w.KATAKANA||Ce===w.EXTEND||Ce===w.FORMAT))&&($e===w.ALETTER||$e===w.NUMERIC||$e===w.KATAKANA||$e===w.EXTEND||$e===w.FORMAT)||$e===w.CR&&be===w.LF?!1:$e===w.NEWLINE||$e===w.CR||$e===w.LF||be===w.NEWLINE||be===w.CR||be===w.LF?!0:!($e===w.KATAKANA&&be===w.KATAKANA||be===w.EXTENDNUMLET&&($e===w.ALETTER||$e===w.NUMERIC||$e===w.KATAKANA||$e===w.EXTENDNUMLET)||$e===w.EXTENDNUMLET&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA)||$e===w.AT)},he=D,ue=P,Z=I,de=xe=>xe==="http"||xe==="https",re=(xe,Te)=>{let $e;for($e=Te;$e<xe.length&&!ue.test(xe[$e]);$e++);return $e},Ve=(xe,Te)=>{const $e=re(xe,Te+1);return xe.slice(Te+1,$e).join(he).substr(0,3)==="://"?$e:Te},Me=(xe,Te,$e,be)=>{const Ce=[],Re=[];let qe=[];for(let ht=0;ht<$e.length;++ht)if(qe.push(xe[ht]),U($e,ht)){const sn=Te[ht];if((be.includeWhitespace||!ue.test(sn))&&(be.includePunctuation||!Z.test(sn))){const Ut=ht-qe.length+1,bn=ht+1,qn=Te.slice(Ut,bn).join(he);if(de(qn)){const eo=Ve(Te,ht),Fo=xe.slice(bn,eo);Array.prototype.push.apply(qe,Fo),ht=eo}Te[ht+1]==="."&&/^([a-zA-Z]\.)+$/.test(qn+".")?(qe.push(xe[ht+1]),Re.push({start:Ut,end:bn+1})):Re.push({start:Ut,end:bn}),Ce.push(qe)}qe=[]}return{words:Ce,indices:Re}},Ye=()=>({includeWhitespace:!1,includePunctuation:!1}),it=(xe,Te,$e)=>{$e={...Ye(),...$e};const be=m(xe,Te),Ce=oe(be);return Me(xe,be,Ce,$e)},ze=(xe,Te,$e)=>it(xe,Te,$e).words,R=xe=>xe.replace(/\uFEFF/g,"");var Fe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Ze=(xe,Te)=>{const $e=Te.getBlockElements(),be=Te.getVoidElements(),Ce=Ut=>$e[Ut.nodeName]||be[Ut.nodeName],Re=[];let qe="";const ht=new Fe(xe,xe);let sn;for(;sn=ht.next();)sn.nodeType===3?qe+=R(sn.data):Ce(sn)&&qe.length&&(Re.push(qe),qe="");return qe.length&&Re.push(qe),Re},Ot=xe=>xe.replace(/\u200B/g,""),Gt=xe=>xe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ut=(xe,Te)=>{const $e=Ot(Ze(xe,Te).join(`
`));return ze($e.split(""),u).length},kn=(xe,Te)=>{const $e=Ze(xe,Te).join("");return Gt($e)},Et=(xe,Te)=>{const $e=Ze(xe,Te).join("").replace(/\s/g,"");return Gt($e)},tt=(xe,Te)=>()=>Te(xe.getBody(),xe.schema),Pe=(xe,Te)=>()=>Te(xe.selection.getRng().cloneContents(),xe.schema),mt=xe=>tt(xe,ut),po=xe=>({body:{getWordCount:mt(xe),getCharacterCount:tt(xe,kn),getCharacterCountWithoutSpaces:tt(xe,Et)},selection:{getWordCount:Pe(xe,ut),getCharacterCount:Pe(xe,kn),getCharacterCountWithoutSpaces:Pe(xe,Et)},getCount:mt(xe)}),Ht=(xe,Te)=>{xe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Te.body.getWordCount()),String(Te.selection.getWordCount())],["Characters (no spaces)",String(Te.body.getCharacterCountWithoutSpaces()),String(Te.selection.getCharacterCountWithoutSpaces())],["Characters",String(Te.body.getCharacterCount()),String(Te.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},On=(xe,Te)=>{xe.addCommand("mceWordCount",()=>Ht(xe,Te))},nn=(xe,Te)=>{let $e=null;return{cancel:()=>{i($e)||(clearTimeout($e),$e=null)},throttle:(...Re)=>{i($e)&&($e=setTimeout(()=>{$e=null,xe.apply(null,Re)},Te))}}};var Q=tinymce.util.Tools.resolve("tinymce.util.Delay");const co=(xe,Te)=>{xe.dispatch("wordCountUpdate",{wordCount:{words:Te.body.getWordCount(),characters:Te.body.getCharacterCount(),charactersWithoutSpaces:Te.body.getCharacterCountWithoutSpaces()}})},Kt=(xe,Te)=>{co(xe,Te)},pn=(xe,Te,$e)=>{const be=nn(()=>Kt(xe,Te),$e);xe.on("init",()=>{Kt(xe,Te),Q.setEditorTimeout(xe,()=>{xe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",be.throttle)},0),xe.on("remove",be.cancel)})},je=xe=>{const Te=()=>xe.execCommand("mceWordCount");xe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Te}),xe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Te})};var nt=(xe=300)=>{t.add("wordcount",Te=>{const $e=po(Te);return On(Te,$e),je(Te),pn(Te,$e,xe),$e})};nt()}()),IX}var RX;function TCe(){return RX||(RX=1,ACe()),OX}TCe();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var OCe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ICe=function(t){return OCe.map(function(s){return s.toLowerCase()}).indexOf(t.toLowerCase())!==-1},DCe=function(t,s,i){Object.keys(s).filter(ICe).forEach(function(u){var m=s[u];typeof m=="function"&&(u==="onInit"?m(t,i):i.on(u.substring(2),function(h){return m(h,i)}))})},RCe=function(t,s,i,u){var m=t.modelEvents?t.modelEvents:null,h=Array.isArray(m)?m.join(" "):m;Dn(u,function(x,w){i&&typeof x=="string"&&x!==w&&x!==i.getContent({format:t.outputFormat})&&i.setContent(x)}),i.on(h||"change input undo redo",function(){s.emit("update:modelValue",i.getContent({format:t.outputFormat}))})},NCe=function(t,s,i,u,m,h){u.setContent(h()),i.attrs["onUpdate:modelValue"]&&RCe(s,i,u,m),DCe(t,i.attrs,u)},NX=0,kne=function(t){var s=Date.now(),i=Math.floor(Math.random()*1e9);return NX++,t+"_"+i+NX+String(s)},PCe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},PX=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},LCe=function(t,s){return PX(t).concat(PX(s))},MCe=function(t){return t==null},LX=function(t){var s;return typeof((s=t.options)===null||s===void 0?void 0:s.set)=="function"&&t.options.isRegistered("disabled")},MX=function(){return{listeners:[],scriptId:kne("tiny-script"),scriptLoaded:!1}},BCe=function(){var t=MX(),s=function(m,h,x,w){var T=h.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=m,T.src=x;var D=function(){T.removeEventListener("load",D),w()};T.addEventListener("load",D),h.head&&h.head.appendChild(T)},i=function(m,h,x){t.scriptLoaded?x():(t.listeners.push(x),m.getElementById(t.scriptId)||s(t.scriptId,m,h,function(){t.listeners.forEach(function(w){return w()}),t.scriptLoaded=!0}))},u=function(){t=MX()};return{load:i,reinitialize:u}},FCe=BCe(),$Ce=function(){return typeof window<"u"?window:global},TC=function(){var t=$Ce();return t&&t.tinymce?t.tinymce:null},VCe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Bb=function(){return Bb=Object.assign||function(t){for(var s,i=1,u=arguments.length;i<u;i++){s=arguments[i];for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(t[m]=s[m])}return t},Bb.apply(this,arguments)},zCe=function(t,s,i,u){return t(u||"div",{id:s,ref:i})},HCe=function(t,s,i){return t("textarea",{id:s,visibility:"hidden",ref:i})},kU={selector:void 0,target:void 0},EU=function(t,s){var i;typeof((i=t.mode)===null||i===void 0?void 0:i.set)=="function"?t.mode.set(s):t.setMode(s)},UCe=_J({props:VCe,setup:function(t,s){var i=t.init?Bb(Bb({},t.init),kU):Bb({},kU),u=BF(t),m=u.disabled,h=u.readonly,x=u.modelValue,w=u.tagName,T=Mn(null),D=null,I=t.id||kne("tiny-vue"),P=t.init&&t.init.inline||t.inline,z=!!s.attrs["onUpdate:modelValue"],K=!0,W=t.initialValue?t.initialValue:"",J="",oe=function(ue){return z?function(){return x!=null&&x.value?x.value:""}:function(){return ue?W:J}},U=function(){var ue=oe(K),Z=Bb(Bb({},i),{disabled:t.disabled,readonly:t.readonly,target:T.value,plugins:LCe(i.plugins,t.plugins),toolbar:t.toolbar||i.toolbar,inline:P,license_key:t.licenseKey,setup:function(de){D=de,!LX(D)&&t.disabled===!0&&EU(D,"readonly"),de.on("init",function(re){return NCe(re,t,s,de,x,ue)}),typeof i.setup=="function"&&i.setup(de)}});PCe(T.value)&&(T.value.style.visibility=""),TC().init(Z),K=!1};Dn(h,function(ue){D!==null&&EU(D,ue?"readonly":"design")}),Dn(m,function(ue){D!==null&&(LX(D)?D.options.set("disabled",ue):EU(D,ue?"readonly":"design"))}),Dn(w,function(ue){var Z;D&&(z||(J=D.getContent()),(Z=TC())===null||Z===void 0||Z.remove(D),qo(function(){return U()}))}),ju(function(){if(TC()!==null)U();else if(T.value&&T.value.ownerDocument){var ue=t.cloudChannel?t.cloudChannel:"7",Z=t.apiKey?t.apiKey:"no-api-key",de=MCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Z,"/tinymce/").concat(ue,"/tinymce.min.js"):t.tinymceScriptSrc;FCe.load(T.value.ownerDocument,de,U)}}),Dc(function(){TC()!==null&&TC().remove(D)}),P||(LW(function(){K||U()}),VF(function(){var ue;D&&(z||(J=D.getContent()),(ue=TC())===null||ue===void 0||ue.remove(D))}));var he=function(ue){var Z;D&&(J=D.getContent(),(Z=TC())===null||Z===void 0||Z.remove(D),i=Bb(Bb(Bb({},i),ue),kU),qo(function(){return U()}))};return s.expose({rerender:he,getEditor:function(){return D}}),function(){return P?zCe(Kb,I,T,t.tagName):HCe(Kb,I,T)}}});const WCe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",KCe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}";let Pb,BX;const{t:uE}=c1.global;class jCe{constructor(s){xn(this,"editor_id",null);xn(this,"editor",null);xn(this,"scroll_top",0);xn(this,"scroll_left",0);xn(this,"wordCount",Mn(0));xn(this,"characterCount",Mn(0));this.editor_id=s,su(),Pb=X0(),BX=FC()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,plugins:"lists charmap wordcount",toolbar:this.toolbar(),valid_elements:this.validElements(),formats:this.formats(),style_formats:this.styleFormats(),custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:WCe.toString()+`
`+KCe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:uE("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:(function(s){s.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),s.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)}),s.ui.registry.addButton("openSnippets",{tooltip:"Textbausteine",icon:"plus",onAction:this.openSnippets.bind(this)})}).bind(this)}}toolbar(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap openSnippets"}validElements(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}formats(){return{underline:{inline:"u",remove:"all"}}}styleFormats(){return[{title:uE("settingsParagraph"),format:"p"},{title:uE("settingsHeading1"),format:"h1"},{title:uE("settingsHeading2"),format:"h2"},{title:uE("settingsHeading3"),format:"h3"},{title:uE("settingsTypewriter"),format:"pre"}]}init(){this.editor=CCe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){Pb.zoomSummaryTextIn(),this.applyZoom()}zoomOut(){Pb.zoomSummaryTextOut(),this.applyZoom()}openSnippets(){BX.openSelection(Fl.FOR_SUMMARY,null,this.editor.selection.getContent())}async applyFocus(){try{await qo(),this.editor.focus()}catch{}}applyFormat(){for(const s of document.getElementsByClassName("tox-tinymce-aux"))s.classList.add("headlines-three")}applyZoom(){try{const s=this.editor;s&&(s.dom.setStyle(s.dom.doc.body,"font-size",Pb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h1"),"font-size",Pb.summary_text_zoom*1.3+"rem"),s.dom.setStyle(s.dom.select("h2"),"font-size",Pb.summary_text_zoom*1.15+"rem"),s.dom.setStyle(s.dom.select("h3"),"font-size",Pb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h4"),"font-size",Pb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h5"),"font-size",Pb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h6"),"font-size",Pb.summary_text_zoom+"rem"))}catch{}}saveScrolling(){const s=this.editor.getWin();(s.scrollX>0||s.scrollY>0)&&(this.scroll_left=s.scrollX,this.scroll_top=s.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(s){console.log(s)}}applyScrolling(){try{const s=this.editor.selection.getNode(),i=s.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(i.top<u.top||i.bottom>u.bottom||i.right>u.right||i.left<u.left)&&s.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(s){console.log(s)}}insertContent(s){try{this.editor.insertContent(s)}catch(i){console.log(i)}}}const ZCe={class:"app-own-summary-text-wrapper"},GCe=["for"],qCe=["innerHTML"],Ene={__name:"OwnSummaryText",props:["editorId"],setup(t){const s=lc();X0();const i=$l(),u=FC(),m=t,h=new jCe(m.editorId);Dn(()=>i.focusChange,w);function x(){h.init()}async function w(){i.focusTarget=="ownSummary"&&(h.applyFocus(),await qo(),h.restoreScrolling())}function T(){s.updateContent(!0),h.applyZoom()}function D(){s.updateContent(!0)}function I(){switch(event.key){case"F1":event.preventDefault(),h.openSnippets();break;default:i.handleKeyDown(event)}}async function P(){if(!u.selection_open&&u.open_for_purpose==Fl.FOR_SUMMARY&&(await w(),u.insert_text)){const z=u.insert_text;u.insert_text="",h.insertContent(z)}}return Dn(()=>u.selection_open,P),(z,K)=>(An(),Mo("div",ZCe,[ee("label",{for:m.editorId,class:"hidden"},We(z.$t("OwnSummaryTextHiddenField")),9,GCe),ie(s).isOwnDisabled?hr("",!0):(An(),qr(ie(UCe),{key:0,id:m.editorId,modelValue:ie(s).editSummary.text,"onUpdate:modelValue":K[0]||(K[0]=W=>ie(s).editSummary.text=W),onInit:x,onChange:T,onKeyup:D,onKeydown:I,onScroll:ie(h).saveScrolling,licenseKey:"gpl",init:ie(h).getInit()},null,8,["id","modelValue","onScroll","init"])),ie(s).isOwnDisabled?(An(),Mo("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:ie(s).editSummary.text},null,8,qCe)):hr("",!0)]))}},YCe={id:"app-own-summary-wrapper"},XCe={class:"headline"},JCe={class:"headline"},QCe={id:"app-own-summary-points"},e_e={class:"headline"},t_e={__name:"OwnSummary",props:["showCriteria","showText"],setup(t){const s=sr(),i=Qg(),u=t;function m(){switch((u.showCriteria?1:0)+(u.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(h,x)=>(An(),Mo("div",YCe,[u.showCriteria?(An(),Mo("div",{key:0,class:go(m())},[ee("h2",XCe,We(h.$t("summaryOverview")+" "+ie(i).getPositionText(ie(s).correctorKey)),1),ae(Sne,{class:"content",corrector_key:ie(s).correctorKey},null,8,["corrector_key"])],2)):hr("",!0),u.showText?(An(),Mo("div",{key:1,class:go(m())},[ee("h2",JCe,We(h.$t("allSummary")+" "+ie(i).getPositionText(ie(s).correctorKey)),1),ae(Ene,{class:"content",editorId:"summary"})],2)):hr("",!0),ee("div",QCe,[ee("h2",e_e,We(h.$t("allTotalRating")+" "+ie(i).getPositionText(ie(s).correctorKey)),1),ae(yCe,{class:"content"})])]))}},n_e=yl(t_e,[["__scopeId","data-v-f1628013"]]),o_e={id:"app-summary-points-wrapper"},r_e={for:"appSummaryPoints"},s_e=["max"],i_e={__name:"SummaryPoints",props:["corrector_key"],setup(t){const s=su(),i=Ex(),u=lc(),m=t,h=Mn(0),x=Mn(""),w=Mn(""),T=u.getForCorrector(m.corrector_key);if(T){h.value=T.points;const D=i.getLevel(T.grade_key);D&&(x.value=D.title),w.value=u.getInclusionText(T)}return(D,I)=>(An(),Mo("div",o_e,[ee("label",r_e,[ee("strong",null,We(D.$t("summaryPointsRating")),1)]),zn(ee("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:ie(s).max_points,"onUpdate:modelValue":I[0]||(I[0]=P=>h.value=P)},null,8,s_e),[[o1,h.value]]),hs(" "+We(D.$t("allPoints",h.value))+"  ",1),ee("strong",null,We(D.$t("summaryPointsGrade")),1),hs(" "+We(x.value)+" ",1),ee("p",null,[ee("strong",null,We(D.$t("summaryPointsInclude")),1),hs(" "+We(w.value),1)])]))}},a_e=yl(i_e,[["__scopeId","data-v-0387c0dc"]]),l_e={class:"app-summary-text-wrapper"},c_e=["innerHTML"],u_e={__name:"SummaryText",props:["corrector_key"],setup(t){const s=lc(),i=t;function u(){let m=s.getForCorrector(i.corrector_key);if(m)return m.text}return(m,h)=>(An(),Mo("div",l_e,[ee("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:u()},null,8,c_e)]))}},d_e=yl(u_e,[["__scopeId","data-v-089a3707"]]),f_e={id:"app-other-summary-wrapper"},m_e={class:"headline"},g_e={class:"headline"},h_e={key:2},p_e={class:"headline"},b_e={key:3},v_e={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(t){const s=t,i=lc(),u=Qg();function m(){switch((s.showCriteria?1:0)+(s.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(h,x)=>(An(),Mo("div",f_e,[s.showCriteria&&ie(i).getAuthorizationForCorrector(s.corrector_key)?(An(),Mo("div",{key:0,class:go(m())},[ee("div",m_e,We(h.$t("summaryOverview")+" "+ie(u).getPositionText(s.corrector_key)),1),ae(Sne,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):hr("",!0),s.showText&&ie(i).getAuthorizationForCorrector(s.corrector_key)?(An(),Mo("div",{key:1,class:go(m())},[ee("div",g_e,We(h.$t("allSummary")+" "+ie(u).getPositionText(s.corrector_key)),1),ae(d_e,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):hr("",!0),ie(i).getAuthorizationForCorrector(s.corrector_key)?(An(),Mo("div",h_e,[ee("div",p_e,We(h.$t("allTotalRating")+" "+ie(u).getPositionText(s.corrector_key)),1),ae(a_e,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])])):hr("",!0),ie(i).getAuthorizationForCorrector(s.corrector_key)?hr("",!0):(An(),Mo("div",b_e,We(h.$t("otherSummaryNotAuthorized")),1))]))}},FX=yl(v_e,[["__scopeId","data-v-148a1261"]]),y_e=Ln({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...d8(),...xK()},"VTextarea"),Ane=Bo()({name:"VTextarea",directives:{vIntersect:AE},inheritAttrs:!1,props:y_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,s){let{attrs:i,emit:u,slots:m}=s;const h=Ki(t,"modelValue"),{isFocused:x,focus:w,blur:T}=u8(t),{onIntersect:D}=Dte(t),I=Dt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),P=Dt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),z=Mn(),K=Mn(),W=ho(""),J=Mn(),oe=Dt(()=>t.persistentPlaceholder||x.value||t.active);function U(){var Ae;J.value!==document.activeElement&&((Ae=J.value)==null||Ae.focus()),x.value||w()}function he(Ae){U(),u("click:control",Ae)}function ue(Ae){u("mousedown:control",Ae)}function Z(Ae){Ae.stopPropagation(),U(),qo(()=>{h.value="",KW(t["onClick:clear"],Ae)})}function de(Ae){var R;const ze=Ae.target;if(h.value=ze.value,(R=t.modelModifiers)!=null&&R.trim){const Fe=[ze.selectionStart,ze.selectionEnd];qo(()=>{ze.selectionStart=Fe[0],ze.selectionEnd=Fe[1]})}}const re=Mn(),Ve=Mn(Number(t.rows)),Me=Dt(()=>["plain","underlined"].includes(t.variant));Bd(()=>{t.autoGrow||(Ve.value=Number(t.rows))});function Ye(){t.autoGrow&&qo(()=>{if(!re.value||!K.value)return;const Ae=getComputedStyle(re.value),ze=getComputedStyle(K.value.$el),R=parseFloat(Ae.getPropertyValue("--v-field-padding-top"))+parseFloat(Ae.getPropertyValue("--v-input-padding-top"))+parseFloat(Ae.getPropertyValue("--v-field-padding-bottom")),Fe=re.value.scrollHeight,Ze=parseFloat(Ae.lineHeight),Ot=Math.max(parseFloat(t.rows)*Ze+R,parseFloat(ze.getPropertyValue("--v-input-control-height"))),Gt=parseFloat(t.maxRows)*Ze+R||1/0,ut=Cf(Fe??0,Ot,Gt);Ve.value=Math.floor((ut-R)/Ze),W.value=vr(ut)})}ju(Ye),Dn(h,Ye),Dn(()=>t.rows,Ye),Dn(()=>t.maxRows,Ye),Dn(()=>t.density,Ye),Dn(Ve,Ae=>{u("update:rows",Ae)});let it;return Dn(re,Ae=>{Ae?(it=new ResizeObserver(Ye),it.observe(re.value)):it==null||it.disconnect()}),Dc(()=>{it==null||it.disconnect()}),yr(()=>{const Ae=!!(m.counter||t.counter||t.counterValue),ze=!!(Ae||m.details),[R,Fe]=KF(i),{modelValue:Ze,...Ot}=TE.filterProps(t),Gt=OF.filterProps(t);return ae(TE,Po({ref:z,modelValue:h.value,"onUpdate:modelValue":ut=>h.value=ut,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Me.value},t.class],style:t.style},R,Ot,{centerAffix:Ve.value===1&&!Me.value,focused:x.value}),{...m,default:ut=>{let{id:kn,isDisabled:Et,isDirty:tt,isReadonly:Pe,isValid:mt}=ut;return ae(OF,Po({ref:K,style:{"--v-textarea-control-height":W.value},onClick:he,onMousedown:ue,"onClick:clear":Z,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Gt,{id:kn.value,active:oe.value||tt.value,centerAffix:Ve.value===1&&!Me.value,dirty:tt.value||t.dirty,disabled:Et.value,focused:x.value,error:mt.value===!1}),{...m,default:po=>{let{props:{class:Ht,...On}}=po;return ee(lr,null,[t.prefix&&ee("span",{class:"v-text-field__prefix"},[t.prefix]),zn(ee("textarea",Po({ref:J,class:Ht,value:h.value,onInput:de,autofocus:t.autofocus,readonly:Pe.value,disabled:Et.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:U,onBlur:T},On,Fe),null),[[AE,{handler:D},null,{once:!0}]]),t.autoGrow&&zn(ee("textarea",{class:go([Ht,"v-textarea__sizer"]),id:`${On.id}-sizer`,"onUpdate:modelValue":nn=>h.value=nn,ref:re,readonly:!0,"aria-hidden":"true"},null),[[o1,h.value]]),t.suffix&&ee("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:ze?ut=>{var kn;return ee(lr,null,[(kn=m.details)==null?void 0:kn.call(m,ut),Ae&&ee(lr,null,[ee("span",null,null),ae(Ite,{active:t.persistentCounter||x.value,value:I.value,max:P.value,disabled:t.disabled},m.counter)])])}:void 0})}),WC({},z,K,J)}}),x_e={class:"sr-only"},w_e={key:0},C_e=["id"],__e={key:1},S_e=["id","max","disabled"],k_e=["for"],E_e=["id","disabled"],A_e=["for"],T_e=["id","disabled"],O_e=["for"],I_e={key:0},D_e={class:"pointsSum"},R_e={key:1},N_e={class:"pointsInput"},P_e={class:"sr-only"},L_e={__name:"MarkingComment",props:["comment"],setup(t){const s=sr(),i=xf(),u=lc(),m=su(),h=Am(),x=Jg(),w=$l(),T=FC(),{t:D}=c1.global,P=t.comment,z=Mn();let K=Mn(0);const W=x.getObjectByData(P.corrector_key,P.key,"");K.value=W?W.points:0;function J(Fe){return Fe.key==i.selectedKey}function oe(Fe){return Fe.corrector_key==s.correctorKey&&!u.isOwnDisabled}function U(Fe){return Fe.rating_excellent||Fe.rating_cardinal||x.getSumOfPointsForComment(Fe.key)>0}ju(()=>{const Fe=document.getElementById("appCommentContainer"+P.key);for(const Ze of Fe.getElementsByTagName("label"))Ze.getAttribute("for").includes("app-comment-")&&(Ze.classList.add("sr-only"),Ze.getAttribute("aria-hidden")=="true"?Ze.getAttribute("for").includes("-sizer")||Ze.setAttribute("for",Ze.getAttribute("for")+"-sizer"):Ze.setAttribute("id","app-comment-"+P.key+"-messages"));for(const Ze of Fe.getElementsByTagName("textarea"))Ze.style.marginTop="-15px",Ze.style.fontSize="0.9rem";for(const Ze of Fe.getElementsByClassName("v-input__details"))Ze.style.display="none"});function he(Fe){return Fe.key==i.selectedKey?Fe.rating_excellent?"#BBEBA5":Fe.rating_cardinal?"#FCB494":"#94C3FC":Fe.prefix=="own"?Fe.rating_excellent?"#E3EFDD":Fe.rating_cardinal?"#FBDED1":"#D8E5F4":Fe.rating_excellent?"#F7F9F7":Fe.rating_cardinal?"#FCF6F4":"#F5F7FB"}function ue(Fe){return x.getSumOfPointsForCorrector(Fe.corrector_key)>m.max_points?"color: red;":""}function Z(Fe){return x.getSumOfPointsForComment(Fe.key)}function de(Fe){return D("allPoints",Z(Fe))}async function re(Fe){Fe.rating_excellent&&(Fe.rating_cardinal=!1),i.setMarkerChange(),i.updateComment(Fe)}async function Ve(Fe){Fe.rating_cardinal&&(Fe.rating_excellent=!1),i.setMarkerChange(),i.updateComment(Fe)}async function Me(Fe){i.selectedKey!==Fe.key&&i.selectComment(Fe.key)}async function Ye(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),w.showEssay(),await qo(),i.setCaretRequest();break;case"Delete":event.preventDefault(),i.deleteComment(i.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),ze();break}}async function it(){switch(Ye(),event.key){case"Enter":event.preventDefault(),w.focusMarkingCommentCriteria();break}}async function Ae(){w.focusTarget=="markingCommentCriteriaSum"&&(await qo(),P.key==i.selectedKey&&document.getElementById("pointsInput"+P.key).focus())}Dn(()=>w.focusChange,Ae);function ze(){const Fe=z.value;T.openSelection(Fl.FOR_COMMENT,i.selectedKey,Fe.value.substring(Fe.selectionStart,Fe.selectionEnd))}async function R(){if(!T.selection_open&&T.open_for_purpose==Fl.FOR_COMMENT&&T.open_for_key==P.key){const Fe=z.value;if(await qo(),Fe.focus(),T.insert_text){const Ze=T.insert_text;T.insert_text="";const Ot=Fe.selectionStart,Gt=Fe.selectionEnd;P.comment=P.comment.slice(0,Ot)+Ze+P.comment.slice(Gt),await qo(),Fe.setSelectionRange(Ot,Ot+Ze.length)}}}return Dn(()=>T.selection_open,R),(Fe,Ze)=>(An(),qr(IF,{id:"appCommentContainer"+ie(P).key,key:ie(P).key,class:"commentContainer"},{default:xt(()=>[ae(jg,{dense:"",onClick:Ze[17]||(Ze[17]=Ot=>Me(ie(P)))},{default:xt(()=>[ae(ra,{cols:"2"},{default:xt(()=>[ae(Un,{size:"small",icon:ie(P).getMarkIcon()},null,8,["icon"]),Ze[18]||(Ze[18]=hs("  ")),ee("button",{tabindex:"0",class:go("v-btn commentLabel "+(ie(P).key==ie(i).selectedKey?"selected":""))},We(ie(P).label),3)]),_:1,__:[18]}),ae(ra,{cols:"9"},{default:xt(()=>[ae(IF,null,{default:xt(()=>[zn(ae(jg,{dense:""},{default:xt(()=>[ae(ra,{cols:"12"},{default:xt(()=>[ae(Ane,{class:"commentInput","bg-color":he(ie(P)),rounded:"0",density:"compact",variant:"solo",ref_key:"textRef",ref:z,id:"app-comment-"+ie(P).key,label:Fe.$t("markingCommentsCommentForLabel",[ie(P).label]),rows:"1","auto-grow":"",readonly:ie(u).isOwnDisabled||ie(P).corrector_key!=ie(s).correctorKey,onChange:Ze[0]||(Ze[0]=Ot=>ie(i).updateComment(ie(P))),onKeyup:Ze[1]||(Ze[1]=Ot=>ie(i).updateComment(ie(P))),onKeydown:Ze[2]||(Ze[2]=Ot=>Ye()),modelValue:ie(P).comment,"onUpdate:modelValue":Ze[3]||(Ze[3]=Ot=>ie(P).comment=Ot)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[To,J(ie(P))]]),zn(ae(jg,{dense:""},{default:xt(()=>[ae(ra,{cols:"3"},{default:xt(()=>[ae(yo,{class:"snippetsButton",density:"compact",variant:"plain","prepend-icon":"mdi-plus",tabindex:J(ie(P))?0:-1,onKeydown:Ze[4]||(Ze[4]=Ot=>Ye()),onClick:ze},{default:xt(()=>[ee("span",x_e,We(Fe.$t("markingOpenSnippets")),1)]),_:1},8,["tabindex"])]),_:1}),ae(ra,{cols:"3"},{default:xt(()=>[ie(h).getCorrectorHasCommentCriteria(ie(P).corrector_key)?(An(),Mo("span",w_e,[ee("span",{tabindex:"0",class:"pointsSum",id:"pointsInput"+ie(P).key,onKeydown:Ze[5]||(Ze[5]=Ot=>it())},We(Fe.$t("markingCommentSum"))+" "+We(Z(ie(P)))+" "+We(de(ie(P))),41,C_e)])):hr("",!0),ie(h).getCorrectorHasCommentCriteria(ie(P).corrector_key)?hr("",!0):(An(),Mo("span",__e,[zn(ee("input",{class:"pointsInput",type:"number",style:Rr(ue(ie(P))),id:"pointsInput"+ie(P).key,max:ie(m).max_points,disabled:ie(u).isOwnDisabled||ie(P).corrector_key!=ie(s).correctorKey,onChange:Ze[6]||(Ze[6]=Ot=>ie(x).setValueByCommentOrCriterion(ie(P).key,"",ie(K))),onKeydown:Ze[7]||(Ze[7]=Ot=>Ye()),"onUpdate:modelValue":Ze[8]||(Ze[8]=Ot=>Qs(K)?K.value=Ot:K=Ot)},null,44,S_e),[[o1,ie(K)]]),ee("label",{for:"pointsInput"+ie(P).key},""+We(de(ie(P))),9,k_e)]))]),_:1}),ae(ra,{cols:"3"},{default:xt(()=>[zn(ee("span",null,[zn(ee("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Ze[9]||(Ze[9]=Ot=>ie(P).rating_excellent=Ot),id:"ratingExcellent"+ie(P).key,disabled:ie(u).isOwnDisabled||ie(P).corrector_key!=ie(s).correctorKey,onChange:Ze[10]||(Ze[10]=Ot=>re(ie(P))),onKeydown:Ze[11]||(Ze[11]=Ot=>Ye())},null,40,E_e),[[xq,ie(P).rating_excellent]]),ee("label",{for:"ratingExcellent"+ie(P).key},""+We(ie(m).positive_rating),9,A_e)],512),[[To,ie(P).rating_excellent||ie(P).key==ie(i).selectedKey]])]),_:1}),ae(ra,{cols:"3"},{default:xt(()=>[zn(ee("span",null,[zn(ee("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Ze[12]||(Ze[12]=Ot=>ie(P).rating_cardinal=Ot),id:"ratingCardinal"+ie(P).key,disabled:ie(u).isOwnDisabled||ie(P).corrector_key!=ie(s).correctorKey,onChange:Ze[13]||(Ze[13]=Ot=>Ve(ie(P))),onKeydown:Ze[14]||(Ze[14]=Ot=>Ye())},null,40,T_e),[[xq,ie(P).rating_cardinal]]),ee("label",{for:"ratingCardinal"+ie(P).key},""+We(ie(m).negative_rating),9,O_e)],512),[[To,ie(P).rating_cardinal||ie(P).key==ie(i).selectedKey]])]),_:1})]),_:1},512),[[To,J(ie(P))]]),ae(jg,{dense:""},{default:xt(()=>[zn(ae(ra,{cols:"12"},{default:xt(()=>[zn(ee("div",{class:"commentDisplay",style:Rr("background-color: "+he(ie(P))+";")},We(ie(P).comment),5),[[To,ie(P).comment]])]),_:1},512),[[To,!J(ie(P))]])]),_:1}),zn(ae(jg,{dense:"",class:"detailsDisplay"},{default:xt(()=>[ae(ra,{cols:"3"}),ae(ra,{cols:"3"},{default:xt(()=>[ie(h).getCorrectorHasCommentCriteria(ie(P).corrector_key)?zn((An(),Mo("span",I_e,[ee("span",D_e,We(Fe.$t("markingCommentSum"))+" "+We(Z(ie(P)))+" "+We(de(ie(P))),1)],512)),[[To,Z(ie(P))>0]]):hr("",!0),ie(h).getCorrectorHasCommentCriteria(ie(P).corrector_key)?hr("",!0):zn((An(),Mo("span",R_e,[ee("span",N_e,We(Z(ie(P))),1),hs(""+We(de(ie(P))),1)],512)),[[To,Z(ie(P))>0]])]),_:1}),ae(ra,{cols:"3"},{default:xt(()=>[zn(ee("span",null,[ae(Un,{icon:"mdi-checkbox-outline"}),hs(" "+We(ie(m).positive_rating),1)],512),[[To,ie(P).rating_excellent]])]),_:1}),ae(ra,{cols:"3"},{default:xt(()=>[zn(ee("span",null,[ae(Un,{icon:"mdi-checkbox-outline"}),hs(" "+We(ie(m).negative_rating),1)],512),[[To,ie(P).rating_cardinal]])]),_:1})]),_:1},512),[[To,!J(ie(P))&&U(ie(P))]])]),_:1})]),_:1}),ae(ra,{cols:"1",class:"trashColumn"},{default:xt(()=>[zn(ae(yo,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:J(ie(P))?0:-1,onKeydown:Ze[15]||(Ze[15]=Ot=>Ye()),onClick:Ze[16]||(Ze[16]=Ot=>{ie(i).deleteComment(ie(P).key)})},{default:xt(()=>[ee("span",P_e,We(Fe.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[To,oe(ie(P))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},M_e=yl(L_e,[["__scopeId","data-v-46e973cc"]]),B_e={id:"appMarkingComments"},F_e={__name:"MarkingComments",setup(t){const s=xf();async function i(){await qo();let m=document.getElementById("appCommentContainer"+s.selectedKey);if(m){let h=m.querySelector("textarea");h&&h.focus()}}Dn(()=>s.selectionChange,i);async function u(){await qo();let m=document.getElementById("appCommentContainer"+s.firstVisibleKey);m&&m.scrollIntoView()}return Dn(()=>s.firstVisibleKey,u),(m,h)=>(An(),Mo("div",B_e,[(An(!0),Mo(lr,null,t1(ie(s).activeComments,x=>(An(),qr(M_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},$_e={key:0,class:"info"},V_e={class:"col-left"},z_e={class:"col-mid text-right"},H_e={class:"col-right text-right"},U_e={class:"col-left"},W_e=["for"],K_e={class:"col-mid text-right"},j_e=["onUpdate:modelValue","id","disabled","max","onChange"],Z_e={__name:"MarkingCommentCriteria",setup(t){const s=Am(),i=xf(),u=Jg(),m=sr();su();const h=lc(),x=$l();let w=Mn(""),T=Mn(""),D=Mn({});async function I(){const W=i.getComment(i.selectedKey);w.value=W?W.key:"",T.value=W?W.corrector_key:m.correctorKey,D.value={};for(const J of s.getCorrectorCommentCriteria(T.value)){const oe=u.getObjectByData(T.value,w.value,J.key);D.value[J.key]=oe?oe.points:0}}I(),Dn(()=>i.selectionChange,I);function P(W){u.setValueByCommentOrCriterion(i.selectedKey,W,D.value[W])}async function z(){x.focusTarget=="markingCommentCriteria"&&(await qo(),document.getElementById("appMarkingCommentCriteriaStart").focus())}Dn(()=>x.focusChange,z);async function K(W){switch(W.key){case"Escape":W.preventDefault(),x.focusMarkingCommentCriteriaSum();break}}return(W,J)=>(An(),Mo("div",null,[ie(w)==""?(An(),Mo("p",$_e,We(W.$t("markingCommentCriteriaPleaseSelect")),1)):hr("",!0),ie(w)!=""?(An(),qr(lp,{key:1,density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",V_e,[ee("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:K},We(W.$t("markingCommentsCriteriaCriterion")),33)]),ee("th",z_e,We(W.$t("allPoints",0)),1),ee("th",H_e,We(W.$t("markingCommentCriteriaSumOfMax")),1)])]),ee("tbody",null,[(An(!0),Mo(lr,null,t1(ie(s).getCorrectorCommentCriteria(ie(T)),oe=>(An(),Mo("tr",{key:oe.key},[ee("td",U_e,[ee("label",{tabindex:"0",onKeydown:K,for:"app-points-input-"+oe.key},We(oe.title),41,W_e)]),ee("td",K_e,[zn(ee("input",{class:"appPoints",type:"number","onUpdate:modelValue":U=>ie(D)[oe.key]=U,id:"app-points-input-"+oe.key,disabled:ie(h).isOwnDisabled||ie(w)==""||ie(T)!=ie(m).correctorKey,max:oe.points,onChange:U=>P(oe.key),onKeydown:K},null,40,j_e),[[o1,ie(D)[oe.key]]])]),ee("td",{class:go("col-right text-right "+(ie(u).getPointsOfCriterionExceeded(oe,ie(T))?"red":""))},We(ie(u).getSumOfPointsForCriterion(oe,ie(T)))+" / "+We(oe.points),3)]))),128))])]),_:1})):hr("",!0)]))}},G_e=yl(Z_e,[["__scopeId","data-v-f700ae19"]]),q_e={class:"col-left"},Y_e={class:"col-mid text-right"},X_e={class:"col-right text-right"},J_e={class:"col-left"},Q_e=["for"],eSe={class:"col-mid text-right"},tSe=["onUpdate:modelValue","id","disabled","max","onChange"],nSe={class:"col-right text-right"},oSe={__name:"MarkingGeneralCriteria",setup(t){const s=Am();xf();const i=Jg(),u=sr();su();const m=lc(),h=$l();let x=Mn(""),w=Mn({});async function T(){x.value=u.correctorKey,w.value={};for(const z of s.getCorrectorGeneralCriteria(x.value)){const K=i.getObjectByData(x.value,"",z.key);w.value[z.key]=K?K.points:0}}T();function D(z){i.setValueByCommentOrCriterion("",z,w.value[z])}async function I(){h.focusTarget=="markingGeneralCriteria"&&(await qo(),document.getElementById("appMarkingGeneralCriteriaStart").focus())}Dn(()=>h.focusChange,I);async function P(z){switch(z.key){case"Escape":z.preventDefault(),h.focusMarkingCommentCriteriaSum();break}}return(z,K)=>(An(),Mo("div",null,[ae(lp,{density:"compact"},{default:xt(()=>[ee("thead",null,[ee("tr",null,[ee("th",q_e,[ee("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:P},We(z.$t("markingGeneralCriteriaCriterion")),33)]),ee("th",Y_e,We(z.$t("allPoints",0)),1),ee("th",X_e,We(z.$t("markingGeneralCriteriaMax")),1)])]),ee("tbody",null,[(An(!0),Mo(lr,null,t1(ie(s).getCorrectorGeneralCriteria(ie(x)),W=>(An(),Mo("tr",{key:W.key},[ee("td",J_e,[ee("label",{tabindex:"0",onKeydown:P,for:"app-points-input-"+W.key},We(W.title),41,Q_e)]),ee("td",eSe,[zn(ee("input",{class:"appPoints",type:"number","onUpdate:modelValue":J=>ie(w)[W.key]=J,id:"app-points-input-"+W.key,disabled:ie(m).isOwnDisabled||ie(x)!=ie(u).correctorKey,max:W.points,onChange:J=>D(W.key),onKeydown:P},null,40,tSe),[[o1,ie(w)[W.key]]])]),ee("td",nSe,We(W.points),1)]))),128))])]),_:1})]))}},rSe=yl(oSe,[["__scopeId","data-v-960f10ab"]]),sSe={id:"app-marking-wrapper"},iSe={class:"headline"},aSe={class:"headline"},lSe={class:"headline"},cSe={class:"headline"},uSe={key:4},dSe={__name:"Marking",setup(t){const s=sr(),i=$l(),u=xf(),m=Am(),h=lc();function x(){return i.showMarkingComments&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function w(){return i.showMarkingGeneralCriteria&&m.hasOwnGeneralCriteria&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function T(){return i.showMarkingCommentCriteria&&m.hasCommentCriteria&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function D(){return i.showMarkingText&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function I(){switch((x()?1:0)+(w()?1:0)+(T()?1:0)+(D()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(P,z)=>(An(),Mo("div",sSe,[x()?(An(),Mo("div",{key:0,class:go(I())},[ee("h2",iSe,We(P.$t("allComments")),1),ae(F_e,{class:"content"})],2)):hr("",!0),T()?(An(),Mo("div",{key:1,class:go(I())},[ee("h2",aSe,[hs(We(P.$t("allPartialPointsLong")),1),zn(ee("span",{class:"commentLabel"},We(ie(u).selectedLabel),513),[[To,ie(u).selectedKey!=""]])]),ae(G_e,{class:"content"})],2)):hr("",!0),w()?(An(),Mo("div",{key:2,class:go(I())},[ee("h2",lSe,We(P.$t("allGeneralPointsLong")),1),ae(rSe,{class:"content"})],2)):hr("",!0),D()?(An(),Mo("div",{key:3,class:go(I())},[ee("h2",cSe,We(P.$t("allOwnSummary")),1),ae(Ene,{class:"content",editorId:"marking"})],2)):hr("",!0),ie(s).isForReviewOrStitch&&!ie(h).isOneAuthorized?(An(),Mo("div",uSe,We(P.$t("allEssayNoCorrectionAuthorized")),1)):hr("",!0),ae(SK,{class:"sumOfPoints",corrector_key:ie(s).correctorKey},null,8,["corrector_key"])]))}},fSe=yl(dSe,[["__scopeId","data-v-ff047394"]]),mSe={id:"app-snippets"},gSe={__name:"Snippets",setup(t){const{t:s}=c1.global,i=FC(),u=Mn(),m=Mn();let h=[];function x(){switch(h=[],i.open_for_purpose){case Fl.FOR_COMMENT:for(const oe of i.forComment)h.push(oe);break;case Fl.FOR_SUMMARY:for(const oe of i.forSummary)h.push(oe);break}h.push(new Fl({key:"new",text:s("snippetsNewSnippet"),purpose:i.open_for_purpose}))}function w(){i.edit=new Fl({text:"",purpose:i.open_for_purpose})}async function T(){i.selection_open&&(x(),w(),await qo(),u.value.focus(),await qo(),u.value.search=i.open_text)}Dn(()=>i.selection_open,T);async function D(){const oe=u.value.search?u.value.search:"";if(i.select=="new")i.edit=new Fl({text:oe,purpose:i.open_for_purpose}),i.edit.text&&(await i.createSnippet(i.edit),x());else{const U=h.find(he=>he.key===i.select);U&&U.key!==i.edit.key&&(i.edit=U)}i.select=null,await qo(),m.value.focus()}async function I(){i.has(i.edit.key)?i.updateSnippet(i.edit):i.edit.text&&(await i.createSnippet(i.edit),x())}function P(){i.selection_open=!1}function z(){i.selection_open=!1,i.insert_text=i.edit.text}async function K(){i.deleteSnippet(i.edit.key),i.select=null,x(),w(),await qo(),u.value.focus()}async function W(){switch(event.key){case"F1":event.preventDefault(),z();break}}function J(oe,U,he){const ue=he.raw.text.toLowerCase(),Z=U.toLowerCase();return he.raw.key==="new"||ue.indexOf(Z)>-1}return(oe,U)=>(An(),Mo("div",mSe,[ae(dp,{"max-width":"60em",modelValue:ie(i).selection_open,"onUpdate:modelValue":U[10]||(U[10]=he=>ie(i).selection_open=he)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(vD,null,{default:xt(()=>[hs(We(oe.$t("snippetsSnippet")),1)]),_:1}),ae(Gg,null,{default:xt(()=>[hs(We(oe.$t("snippetsSelect"))+" ",1),ae(Lte,{ref_key:"appSelect",ref:u,id:"appSnippetSelect",modelValue:ie(i).select,"onUpdate:modelValue":[U[0]||(U[0]=he=>ie(i).select=he),U[1]||(U[1]=he=>D())],"custom-filter":J,items:ie(h),onKeydown:U[2]||(U[2]=he=>W()),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),hs(" "+We(oe.$t("snippetsEdit"))+" ",1),ae(Ane,{ref_key:"appEdit",ref:m,modelValue:ie(i).edit.text,"onUpdate:modelValue":U[3]||(U[3]=he=>ie(i).edit.text=he),onChange:U[4]||(U[4]=he=>I()),onKeyup:U[5]||(U[5]=he=>I()),onKeydown:U[6]||(U[6]=he=>W())},null,8,["modelValue"])]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{disabled:ie(i).edit.text=="",onClick:U[7]||(U[7]=he=>z())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-ok"}),ee("span",null,We(oe.$t("allApply")),1)]),_:1},8,["disabled"]),ae(yo,{disabled:!ie(i).has(ie(i).edit.key),onClick:U[8]||(U[8]=he=>K())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-ok"}),ee("span",null,We(oe.$t("allDelete")),1)]),_:1},8,["disabled"]),ae(g8),ae(yo,{onClick:U[9]||(U[9]=he=>P())},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(oe.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},hSe=Ln({scrollable:Boolean,...zr(),...yp(),...sa({tag:"main"})},"VMain"),Tne=Bo()({name:"VMain",props:hSe(),setup(t,s){let{slots:i}=s;const{dimensionStyles:u}=xp(t),{mainStyles:m}=Khe(),{ssrBootStyles:h}=f8();return yr(()=>ae(t.tag,{class:go(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Rr([m.value,h.value,u.value,t.style])},{default:()=>{var x,w;return[t.scrollable?ee("div",{class:"v-main__scroller"},[(x=i.default)==null?void 0:x.call(i)]):(w=i.default)==null?void 0:w.call(i)]}})),{}}}),pSe={id:"app-main-container"},bSe={class:"col-header"},vSe={id:"appHeadLeft",tabindex:"0",class:"headline"},ySe={"aria-hidden":"true"},xSe={id:"app-expand-left-column",class:"sr-only"},wSe={class:"col-content"},CSe={class:"col-header"},_Se={id:"appHeadRight",tabindex:"0",class:"headline"},SSe={class:"sr-only"},kSe={class:"sr-only"},ESe={class:"sr-only"},ASe={class:"sr-only"},TSe={class:"sr-only"},OSe={class:"sr-only"},ISe={class:"sr-only"},DSe={class:"sr-only"},RSe={"aria-hidden":"true"},NSe={id:"app-expand-right-column",class:"sr-only"},PSe={class:"col-content"},LSe={__name:"MainContent",setup(t){const s=sr(),i=$l(),u=zC(),m=xf(),h=Am(),x=SF();async function w(){i.focusTarget=="appHeadLeft"&&(await qo(),document.getElementById("appHeadLeft").focus()),i.focusTarget=="appHeadRight"&&(await qo(),document.getElementById("appHeadRight").focus())}return Dn(()=>i.focusChange,w),document.addEventListener("keydown",i.handleKeyDown),(T,D)=>(An(),Mo(lr,null,[ae(Tne,{"fill-height":""},{default:xt(()=>[ee("div",pSe,[zn(ee("section",{class:go(["column",{colExpanded:ie(i).isLeftExpanded,colNormal:!ie(i).isLeftExpanded}])},[ee("div",bSe,[ee("h1",vSe,We(ie(i).isInstructionsVisible?T.$t("allInstructions"):ie(i).isInstructionsPdfVisible?T.$t("allInstructionsPdf"):ie(i).isSolutionVisible?T.$t("allSolution"):ie(i).isSolutionPdfVisible?T.$t("allSolutionPdf"):ie(i).isEssayVisible?T.$t("allEssay"):ie(i).isResourcesVisible?ie(u).activeTitle:ie(i).isLeftCorrectorVisible?ie(i).leftCorrectorTitle:T.$t("mainContentLeftColumn")),1),ae(q0,{density:"comfortable"},{default:xt(()=>[zn(ae(yo,{size:"small",onClick:D[0]||(D[0]=I=>ie(i).toggleLeftSummaryCriteria())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showLeftSummaryCriteria]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showLeftSummaryCriteria]]),ee("span",null,We(T.$t("allOverview")),1)]),_:1},512),[[To,ie(i).isLeftCorrectorVisible]]),zn(ae(yo,{size:"small",onClick:D[1]||(D[1]=I=>ie(i).toggleLeftSummaryText())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showLeftSummaryText]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showLeftSummaryText]]),ee("span",null,We(T.$t("allSummary")),1)]),_:1},512),[[To,ie(i).isLeftCorrectorVisible]]),zn(ae(yo,{size:"small",onClick:D[2]||(D[2]=I=>ie(i).setLeftExpanded(!1))},{default:xt(()=>[ae(Un,{icon:"mdi-chevron-left"}),ee("span",null,We(ie(i).isMarkingSelected?T.$t("allCorrection"):ie(i).isSummarySelected?T.$t("allSummary"):ie(i).isRightCorrectorSelected?ie(i).rightCorrectorTitle:T.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[To,ie(i).isLeftExpanded]]),zn(ae(yo,{size:"small",onClick:D[3]||(D[3]=I=>ie(i).setLeftExpanded(!0))},{default:xt(()=>[ee("span",ySe,We(T.$t("mainContentExpand")),1),ee("span",xSe,We(T.$t("mainContentExpandLeftColumn")),1),ae(Un,{icon:"mdi-chevron-right"})]),_:1},512),[[To,!ie(i).isLeftExpanded]])]),_:1})]),ee("div",wSe,[ie(i).isInstructionsVisible?(An(),qr(g2e,{key:0})):hr("",!0),ie(i).isInstructionsPdfVisible?(An(),qr(b2e,{key:1})):hr("",!0),ie(i).isSolutionVisible?(An(),qr(x2e,{key:2})):hr("",!0),ie(i).isSolutionPdfVisible?(An(),qr(_2e,{key:3})):hr("",!0),ie(i).isEssayVisible&&!ie(x).hasPages?(An(),qr(L2e,{key:4})):hr("",!0),ie(i).isEssayVisible&&ie(x).hasPages?(An(),qr(qwe,{key:5})):hr("",!0),ie(i).isResourcesVisible?(An(),qr(I2e,{key:6})):hr("",!0),ie(i).isLeftCorrectorVisible?(An(),qr(FX,{key:7,corrector_key:ie(i).leftCorrectorKey,showCriteria:ie(i).showLeftSummaryCriteria,showText:ie(i).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):hr("",!0)])],2),[[To,ie(i).isLeftVisible]]),zn(ee("section",{class:go(["column",{colExpanded:ie(i).isRightExpanded,colNormal:!ie(i).isRightExpanded}])},[ee("div",CSe,[ee("h1",_Se,We(ie(i).isMarkingVisible?T.$t("allCorrection"):ie(i).isSummaryVisible?T.$t("allOwnSummaryAndRating"):ie(i).isRightCorrectorVisible?ie(i).rightCorrectorTitle:T.$t("mainContentRightColumn")),1),ae(q0,{density:"comfortable"},{default:xt(()=>[ie(i).isMarkingVisible?(An(),qr(yo,{key:0,size:"small",variant:"plain",onClick:D[4]||(D[4]=I=>ie(m).setShowOtherCorrectors(!ie(m).isOtherCorrectorsShown))},{default:xt(()=>[ae(Un,{icon:ie(m).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),ee("span",SSe,We(T.$t("mainContentShowOtherCorrectors")+(ie(m).isOtherCorrectorsShown?T.$t("allIsSelected"):"")),1)]),_:1})):hr("",!0),ie(i).isMarkingVisible?(An(),qr(yo,{key:1,size:"small",variant:"plain",disabled:!ie(m).isFilterActive,onClick:D[5]||(D[5]=I=>ie(m).resetFilter())},{default:xt(()=>[ae(Un,{icon:ie(m).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),ee("span",kSe,We("Filter aktiv"+(ie(m).isFilterActive?T.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):hr("",!0),zn(ae(yo,{size:"small",onClick:D[6]||(D[6]=I=>ie(i).toggleMarkingComments())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showMarkingComments]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showMarkingComments]]),ee("span",null,We(T.$t("allComments")),1),ee("span",ESe,We(T.$t("allShow")+(ie(i).showMarkingComments?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,ie(i).isMarkingVisible]]),zn(ae(yo,{size:"small",onClick:D[7]||(D[7]=I=>ie(i).toggleMarkingCommentCriteria())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showMarkingCommentCriteria]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showMarkingCommentCriteria]]),ee("span",null,We(T.$t("allPartialPoints")),1),ee("span",ASe,We(T.$t("allShow")+(ie(i).showMarkingCommentCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,ie(h).hasCommentCriteria&&ie(i).isMarkingVisible]]),zn(ae(yo,{size:"small",onClick:D[8]||(D[8]=I=>ie(i).toggleMarkingGeneralCriteria())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showMarkingGeneralCriteria]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showMarkingGeneralCriteria]]),ee("span",null,We(T.$t("allGeneralPoints")),1),ee("span",TSe,We(T.$t("allShow")+(ie(i).showMarkingGeneralCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,ie(h).hasOwnGeneralCriteria&&ie(i).isMarkingVisible]]),zn(ae(yo,{size:"small",onClick:D[9]||(D[9]=I=>ie(i).toggleMarkingText())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showMarkingText]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showMarkingText]]),ee("span",null,We(T.$t("allSummary")),1),ee("span",OSe,We(T.$t("allShow")+(ie(i).showMarkingText?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,!ie(s).isForReviewOrStitch&&ie(i).isMarkingVisible]]),zn(ae(yo,{size:"small",onClick:D[10]||(D[10]=I=>ie(i).toggleRightSummaryCriteria())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showRightSummaryCriteria]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showRightSummaryCriteria]]),ee("span",null,We(T.$t("allOverview")),1),ee("span",ISe,We(T.$t("allShow")+(ie(i).showRightSummaryCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,ie(i).isSummaryVisible||ie(i).isRightCorrectorVisible]]),zn(ae(yo,{size:"small",onClick:D[11]||(D[11]=I=>ie(i).toggleRightSummaryText())},{default:xt(()=>[zn(ae(Un,{icon:"mdi-checkbox-outline"},null,512),[[To,ie(i).showRightSummaryText]]),zn(ae(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[To,!ie(i).showRightSummaryText]]),ee("span",null,We(T.$t("allSummary")),1),ee("span",DSe,We(T.$t("allShow")+(ie(i).showRightSummaryText?T.$t("allIsSelected"):"")),1)]),_:1},512),[[To,ie(i).isSummaryVisible||ie(i).isRightCorrectorVisible]]),zn(ae(yo,{size:"small",onClick:D[12]||(D[12]=I=>ie(i).setRightExpanded(!1))},{default:xt(()=>[ee("span",null,We(ie(i).isInstructionsSelected?T.$t("allInstructions"):ie(i).isEssaySelected?T.$t("allEssay"):ie(i).isResourcesSelected?ie(u).activeTitle:ie(i).isLeftCorrectorSelected?ie(i).leftCorrectorTitle:T.$t("mainContentExpandLeftColumn")),1),ae(Un,{icon:"mdi-chevron-right"})]),_:1},512),[[To,ie(i).isRightExpanded]]),zn(ae(yo,{size:"small",onClick:D[13]||(D[13]=I=>ie(i).setRightExpanded(!0))},{default:xt(()=>[ae(Un,{icon:"mdi-chevron-left"}),ee("span",RSe,We(T.$t("mainContentExpand")),1),ee("span",NSe,We(T.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[To,!ie(i).isRightExpanded]])]),_:1})]),ee("div",PSe,[ie(i).isSummaryVisible?(An(),qr(n_e,{key:0,showCriteria:ie(i).showRightSummaryCriteria,showText:ie(i).showRightSummaryText},null,8,["showCriteria","showText"])):hr("",!0),ie(i).isRightCorrectorVisible?(An(),qr(FX,{key:1,corrector_key:ie(i).rightCorrectorKey,showCriteria:ie(i).showRightSummaryCriteria,showText:ie(i).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):hr("",!0),ie(i).isMarkingVisible?(An(),qr(fSe,{key:2})):hr("",!0)])],2),[[To,ie(i).isRightVisible]])])]),_:1}),ae(dp,{persistent:"",modelValue:ie(s).showSendFailure,"onUpdate:modelValue":D[15]||(D[15]=I=>ie(s).showSendFailure=I)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(T.$t("mainContentSendFailureLine1")),1),ee("p",null,We(T.$t("mainContentSendFailureLine2")),1),ee("p",null,We(T.$t("mainContentSendFailureLine3")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:D[14]||(D[14]=I=>ie(s).setShowSendFailure(!1))},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-close"}),ee("span",null,We(T.$t("allCloseMessage")),1)]),_:1}),ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(T.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(gSe)],64))}},MSe=yl(LSe,[["__scopeId","data-v-a94b25fe"]]),BSe={__name:"StartupContent",setup(t){const s=sr(),i=kx(),u=$b();return(m,h)=>(An(),qr(Tne,{"fill-height":""},{default:xt(()=>[ae(Yte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ee("p",null,We(m.$t("startupContentLoadData")),1),ae(g8),ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(m.$t("startupContentMyCorrections")),1)]),_:1},8,["href"])]),_:1}),ae(dp,{persistent:"",modelValue:ie(s).showInitFailure,"onUpdate:modelValue":h[0]||(h[0]=x=>ie(s).showInitFailure=x)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(m.$t("startupContentLoadError")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(m.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(dp,{persistent:"",modelValue:ie(s).showItemLoadFailure,"onUpdate:modelValue":h[1]||(h[1]=x=>ie(s).showItemLoadFailure=x)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(m.$t("startupContentLoadItemError")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(m.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(dp,{persistent:"",modelValue:ie(s).showDataReplaceConfirmation,"onUpdate:modelValue":h[2]||(h[2]=x=>ie(s).showDataReplaceConfirmation=x)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(m.$t("startupContentDataReplaceInfo1")),1),ee("p",null,[ee("strong",null,We(ie(i).title)+": "+We(ie(u).getItem(ie(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ee("p",null,We(m.$t("startupContentDataReplaceInfo2")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:ie(s).initAfterReplaceDataConfirmed},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-reload"}),ee("span",null,We(m.$t("startupContentDeleteAndLoad")),1)]),_:1},8,["onClick"]),ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(m.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(dp,{persistent:"",modelValue:ie(s).showItemReplaceConfirmation,"onUpdate:modelValue":h[3]||(h[3]=x=>ie(s).showItemReplaceConfirmation=x)},{default:xt(()=>[ae(up,null,{default:xt(()=>[ae(Gg,null,{default:xt(()=>[ee("p",null,We(m.$t("startupContentItemReplaceInfo1")),1),ee("p",null,[ee("strong",null,We(ie(i).title)+": "+We(ie(u).getItem(ie(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ee("p",null,We(m.$t("startupContentItemReplaceInfo2")),1)]),_:1}),ae(Zg,null,{default:xt(()=>[ae(yo,{onClick:ie(s).initAfterKeepDataConfirmed},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-pencil-outline"}),ee("span",null,We(m.$t("startupContentKeepLocalData")),1)]),_:1},8,["onClick"]),ae(yo,{onClick:ie(s).initAfterReplaceDataConfirmed},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-trash-can-outline"}),ee("span",null,We(m.$t("startupContentDeleteLocalData")),1)]),_:1},8,["onClick"]),ae(yo,{href:ie(s).returnUrl},{default:xt(()=>[ae(Un,{left:"",icon:"mdi-logout-variant"}),ee("span",null,We(m.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},FSe=Ln({...zr(),...Whe({fullHeight:!0}),...vl()},"VApp"),$Se=Bo()({name:"VApp",props:FSe(),setup(t,s){let{slots:i}=s;const u=dc(t),{layoutClasses:m,getLayoutItem:h,items:x,layoutRef:w}=Zhe(t),{rtlClasses:T}=eh();return yr(()=>{var D;return ee("div",{ref:w,class:go(["v-application",u.themeClasses.value,m.value,T.value,t.class]),style:Rr([t.style])},[ee("div",{class:"v-application__wrap"},[(D=i.default)==null?void 0:D.call(i)])])}),{getLayoutItem:h,items:x,theme:u}}}),VSe={__name:"App",setup(t){const s=sr();return s.init(),(i,u)=>(An(),qr($Se,{"fill-height":""},{default:xt(()=>[ie(s).initialized?hr("",!0):(An(),qr(BSe,{key:0})),ie(s).initialized?(An(),qr(Qxe,{key:1})):hr("",!0),ie(s).initialized?(An(),qr(d2e,{key:2})):hr("",!0),ie(s).initialized?(An(),qr(MSe,{key:3})):hr("",!0)]),_:1}))}},One=Hme(VSe);Mbe(One);One.mount("#app");
