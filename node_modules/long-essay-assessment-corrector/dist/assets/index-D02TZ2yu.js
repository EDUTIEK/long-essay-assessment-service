var uce=Object.defineProperty;var dce=(n,r,l)=>r in n?uce(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l;var Sn=(n,r,l)=>dce(n,typeof r!="symbol"?r+"":r,l);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=l(g);fetch(g.href,v)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nU(n){const r=Object.create(null);for(const l of n.split(","))r[l]=1;return l=>l in r}const zi={},Vk=[],vv=()=>{},fce=()=>!1,BL=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),oU=n=>n.startsWith("onUpdate:"),zl=Object.assign,sU=(n,r)=>{const l=n.indexOf(r);l>-1&&n.splice(l,1)},mce=Object.prototype.hasOwnProperty,di=(n,r)=>mce.call(n,r),ts=Array.isArray,zk=n=>xD(n)==="[object Map]",Jk=n=>xD(n)==="[object Set]",wK=n=>xD(n)==="[object Date]",Is=n=>typeof n=="function",Ka=n=>typeof n=="string",yv=n=>typeof n=="symbol",Ai=n=>n!==null&&typeof n=="object",$q=n=>(Ai(n)||Is(n))&&Is(n.then)&&Is(n.catch),Uq=Object.prototype.toString,xD=n=>Uq.call(n),gce=n=>xD(n).slice(8,-1),Wq=n=>xD(n)==="[object Object]",rU=n=>Ka(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,VO=nU(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LL=n=>{const r=Object.create(null);return l=>r[l]||(r[l]=n(l))},hce=/-(\w)/g,gm=LL(n=>n.replace(hce,(r,l)=>l?l.toUpperCase():"")),pce=/\B([A-Z])/g,gC=LL(n=>n.replace(pce,"-$1").toLowerCase()),D1=LL(n=>n.charAt(0).toUpperCase()+n.slice(1)),NH=LL(n=>n?`on${D1(n)}`:""),Wy=(n,r)=>!Object.is(n,r),QB=(n,...r)=>{for(let l=0;l<n.length;l++)n[l](...r)},Zq=(n,r,l,d=!1)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,writable:d,value:l})},uL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},vce=n=>{const r=Ka(n)?Number(n):NaN;return isNaN(r)?n:r};let CK;const jq=()=>CK||(CK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uk(n){if(ts(n)){const r={};for(let l=0;l<n.length;l++){const d=n[l],g=Ka(d)?wce(d):Uk(d);if(g)for(const v in g)r[v]=g[v]}return r}else if(Ka(n)||Ai(n))return n}const bce=/;(?![^(]*\))/g,yce=/:([^]+)/,xce=/\/\*[^]*?\*\//g;function wce(n){const r={};return n.replace(xce,"").split(bce).forEach(l=>{if(l){const d=l.split(yce);d.length>1&&(r[d[0].trim()]=d[1].trim())}}),r}function Cd(n){let r="";if(Ka(n))r=n;else if(ts(n))for(let l=0;l<n.length;l++){const d=Cd(n[l]);d&&(r+=d+" ")}else if(Ai(n))for(const l in n)n[l]&&(r+=l+" ");return r.trim()}const Cce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_ce=nU(Cce);function Kq(n){return!!n||n===""}function Sce(n,r){if(n.length!==r.length)return!1;let l=!0;for(let d=0;l&&d<n.length;d++)l=wD(n[d],r[d]);return l}function wD(n,r){if(n===r)return!0;let l=wK(n),d=wK(r);if(l||d)return l&&d?n.getTime()===r.getTime():!1;if(l=yv(n),d=yv(r),l||d)return n===r;if(l=ts(n),d=ts(r),l||d)return l&&d?Sce(n,r):!1;if(l=Ai(n),d=Ai(r),l||d){if(!l||!d)return!1;const g=Object.keys(n).length,v=Object.keys(r).length;if(g!==v)return!1;for(const x in n){const S=n.hasOwnProperty(x),M=r.hasOwnProperty(x);if(S&&!M||!S&&M||!wD(n[x],r[x]))return!1}}return String(n)===String(r)}function iU(n,r){return n.findIndex(l=>wD(l,r))}const Gq=n=>!!(n&&n.__v_isRef===!0),zo=n=>Ka(n)?n:n==null?"":ts(n)||Ai(n)&&(n.toString===Uq||!Is(n.toString))?Gq(n)?zo(n.value):JSON.stringify(n,qq,2):String(n),qq=(n,r)=>Gq(r)?qq(n,r.value):zk(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[d,g],v)=>(l[PH(d,v)+" =>"]=g,l),{})}:Jk(r)?{[`Set(${r.size})`]:[...r.values()].map(l=>PH(l))}:yv(r)?PH(r):Ai(r)&&!ts(r)&&!Wq(r)?String(r):r,PH=(n,r="")=>{var l;return yv(n)?`Symbol(${(l=n.description)!=null?l:r})`:n};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bd;class Yq{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bd,!r&&bd&&(this.index=(bd.scopes||(bd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=bd;try{return bd=this,r()}finally{bd=l}}}on(){bd=this}off(){bd=this.parent}stop(r){if(this._active){let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.scopes)for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0,this._active=!1}}}function CD(n){return new Yq(n)}function Xq(){return bd}function Ru(n,r=!1){bd&&bd.cleanups.push(n)}let Vi;const MH=new WeakSet;class Jq{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bd&&bd.active&&bd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,MH.has(this)&&(MH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||eY(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_K(this),tY(this);const r=Vi,l=Hh;Vi=this,Hh=!0;try{return this.fn()}finally{nY(this),Vi=r,Hh=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)cU(r);this.deps=this.depsTail=void 0,_K(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?MH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){p$(this)&&this.run()}get dirty(){return p$(this)}}let Qq=0,zO;function eY(n){n.flags|=8,n.next=zO,zO=n}function aU(){Qq++}function lU(){if(--Qq>0)return;let n;for(;zO;){let r=zO;for(zO=void 0;r;){const l=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(d){n||(n=d)}r=l}}if(n)throw n}function tY(n){for(let r=n.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function nY(n){let r,l=n.depsTail,d=l;for(;d;){const g=d.prevDep;d.version===-1?(d===l&&(l=g),cU(d),kce(d)):r=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=g}n.deps=r,n.depsTail=l}function p$(n){for(let r=n.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(oY(r.dep.computed)||r.dep.version!==r.version))return!0;return!!n._dirty}function oY(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===GO))return;n.globalVersion=GO;const r=n.dep;if(n.flags|=2,r.version>0&&!n.isSSR&&n.deps&&!p$(n)){n.flags&=-3;return}const l=Vi,d=Hh;Vi=n,Hh=!0;try{tY(n);const g=n.fn(n._value);(r.version===0||Wy(g,n._value))&&(n._value=g,r.version++)}catch(g){throw r.version++,g}finally{Vi=l,Hh=d,nY(n),n.flags&=-3}}function cU(n){const{dep:r,prevSub:l,nextSub:d}=n;if(l&&(l.nextSub=d,n.prevSub=void 0),d&&(d.prevSub=l,n.nextSub=void 0),r.subs===n&&(r.subs=l),!r.subs&&r.computed){r.computed.flags&=-5;for(let g=r.computed.deps;g;g=g.nextDep)cU(g)}}function kce(n){const{prevDep:r,nextDep:l}=n;r&&(r.nextDep=l,n.prevDep=void 0),l&&(l.prevDep=r,n.nextDep=void 0)}let Hh=!0;const sY=[];function Yy(){sY.push(Hh),Hh=!1}function Xy(){const n=sY.pop();Hh=n===void 0?!0:n}function _K(n){const{cleanup:r}=n;if(n.cleanup=void 0,r){const l=Vi;Vi=void 0;try{r()}finally{Vi=l}}}let GO=0;class Ece{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uU{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0}track(r){if(!Vi||!Hh||Vi===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Vi)l=this.activeLink=new Ece(Vi,this),Vi.deps?(l.prevDep=Vi.depsTail,Vi.depsTail.nextDep=l,Vi.depsTail=l):Vi.deps=Vi.depsTail=l,Vi.flags&4&&rY(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const d=l.nextDep;d.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=d),l.prevDep=Vi.depsTail,l.nextDep=void 0,Vi.depsTail.nextDep=l,Vi.depsTail=l,Vi.deps===l&&(Vi.deps=d)}return l}trigger(r){this.version++,GO++,this.notify(r)}notify(r){aU();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{lU()}}}function rY(n){const r=n.dep.computed;if(r&&!n.dep.subs){r.flags|=20;for(let d=r.deps;d;d=d.nextDep)rY(d)}const l=n.dep.subs;l!==n&&(n.prevSub=l,l&&(l.nextSub=n)),n.dep.subs=n}const dL=new WeakMap,oC=Symbol(""),v$=Symbol(""),qO=Symbol("");function Du(n,r,l){if(Hh&&Vi){let d=dL.get(n);d||dL.set(n,d=new Map);let g=d.get(l);g||d.set(l,g=new uU),g.track()}}function S1(n,r,l,d,g,v){const x=dL.get(n);if(!x){GO++;return}const S=M=>{M&&M.trigger()};if(aU(),r==="clear")x.forEach(S);else{const M=ts(n),R=M&&rU(l);if(M&&l==="length"){const I=Number(d);x.forEach((L,$)=>{($==="length"||$===qO||!yv($)&&$>=I)&&S(L)})}else switch(l!==void 0&&S(x.get(l)),R&&S(x.get(qO)),r){case"add":M?R&&S(x.get("length")):(S(x.get(oC)),zk(n)&&S(x.get(v$)));break;case"delete":M||(S(x.get(oC)),zk(n)&&S(x.get(v$)));break;case"set":zk(n)&&S(x.get(oC));break}}lU()}function Ace(n,r){var l;return(l=dL.get(n))==null?void 0:l.get(r)}function _k(n){const r=ss(n);return r===n?r:(Du(r,"iterate",qO),Dg(n)?r:r.map(Eu))}function FL(n){return Du(n=ss(n),"iterate",qO),n}const Tce={__proto__:null,[Symbol.iterator](){return BH(this,Symbol.iterator,Eu)},concat(...n){return _k(this).concat(...n.map(r=>ts(r)?_k(r):r))},entries(){return BH(this,"entries",n=>(n[1]=Eu(n[1]),n))},every(n,r){return h1(this,"every",n,r,void 0,arguments)},filter(n,r){return h1(this,"filter",n,r,l=>l.map(Eu),arguments)},find(n,r){return h1(this,"find",n,r,Eu,arguments)},findIndex(n,r){return h1(this,"findIndex",n,r,void 0,arguments)},findLast(n,r){return h1(this,"findLast",n,r,Eu,arguments)},findLastIndex(n,r){return h1(this,"findLastIndex",n,r,void 0,arguments)},forEach(n,r){return h1(this,"forEach",n,r,void 0,arguments)},includes(...n){return LH(this,"includes",n)},indexOf(...n){return LH(this,"indexOf",n)},join(n){return _k(this).join(n)},lastIndexOf(...n){return LH(this,"lastIndexOf",n)},map(n,r){return h1(this,"map",n,r,void 0,arguments)},pop(){return DO(this,"pop")},push(...n){return DO(this,"push",n)},reduce(n,...r){return SK(this,"reduce",n,r)},reduceRight(n,...r){return SK(this,"reduceRight",n,r)},shift(){return DO(this,"shift")},some(n,r){return h1(this,"some",n,r,void 0,arguments)},splice(...n){return DO(this,"splice",n)},toReversed(){return _k(this).toReversed()},toSorted(n){return _k(this).toSorted(n)},toSpliced(...n){return _k(this).toSpliced(...n)},unshift(...n){return DO(this,"unshift",n)},values(){return BH(this,"values",Eu)}};function BH(n,r,l){const d=FL(n),g=d[r]();return d!==n&&!Dg(n)&&(g._next=g.next,g.next=()=>{const v=g._next();return v.value&&(v.value=l(v.value)),v}),g}const Oce=Array.prototype;function h1(n,r,l,d,g,v){const x=FL(n),S=x!==n&&!Dg(n),M=x[r];if(M!==Oce[r]){const L=M.apply(n,v);return S?Eu(L):L}let R=l;x!==n&&(S?R=function(L,$){return l.call(this,Eu(L),$,n)}:l.length>2&&(R=function(L,$){return l.call(this,L,$,n)}));const I=M.call(x,R,d);return S&&g?g(I):I}function SK(n,r,l,d){const g=FL(n);let v=l;return g!==n&&(Dg(n)?l.length>3&&(v=function(x,S,M){return l.call(this,x,S,M,n)}):v=function(x,S,M){return l.call(this,x,Eu(S),M,n)}),g[r](v,...d)}function LH(n,r,l){const d=ss(n);Du(d,"iterate",qO);const g=d[r](...l);return(g===-1||g===!1)&&gU(l[0])?(l[0]=ss(l[0]),d[r](...l)):g}function DO(n,r,l=[]){Yy(),aU();const d=ss(n)[r].apply(n,l);return lU(),Xy(),d}const Dce=nU("__proto__,__v_isRef,__isVue"),iY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(yv));function Rce(n){yv(n)||(n=String(n));const r=ss(this);return Du(r,"has",n),r.hasOwnProperty(n)}class aY{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,d){const g=this._isReadonly,v=this._isShallow;if(l==="__v_isReactive")return!g;if(l==="__v_isReadonly")return g;if(l==="__v_isShallow")return v;if(l==="__v_raw")return d===(g?v?Wce:dY:v?uY:cY).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(d)?r:void 0;const x=ts(r);if(!g){let M;if(x&&(M=Tce[l]))return M;if(l==="hasOwnProperty")return Rce}const S=Reflect.get(r,l,zr(r)?r:d);return(yv(l)?iY.has(l):Dce(l))||(g||Du(r,"get",l),v)?S:zr(S)?x&&rU(l)?S:S.value:Ai(S)?g?_D(S):ec(S):S}}class lY extends aY{constructor(r=!1){super(!1,r)}set(r,l,d,g){let v=r[l];if(!this._isShallow){const M=lC(v);if(!Dg(d)&&!lC(d)&&(v=ss(v),d=ss(d)),!ts(r)&&zr(v)&&!zr(d))return M?!1:(v.value=d,!0)}const x=ts(r)&&rU(l)?Number(l)<r.length:di(r,l),S=Reflect.set(r,l,d,zr(r)?r:g);return r===ss(g)&&(x?Wy(d,v)&&S1(r,"set",l,d):S1(r,"add",l,d)),S}deleteProperty(r,l){const d=di(r,l);r[l];const g=Reflect.deleteProperty(r,l);return g&&d&&S1(r,"delete",l,void 0),g}has(r,l){const d=Reflect.has(r,l);return(!yv(l)||!iY.has(l))&&Du(r,"has",l),d}ownKeys(r){return Du(r,"iterate",ts(r)?"length":oC),Reflect.ownKeys(r)}}class Ice extends aY{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const Nce=new lY,Pce=new Ice,Mce=new lY(!0);const dU=n=>n,VL=n=>Reflect.getPrototypeOf(n);function IB(n,r,l=!1,d=!1){n=n.__v_raw;const g=ss(n),v=ss(r);l||(Wy(r,v)&&Du(g,"get",r),Du(g,"get",v));const{has:x}=VL(g),S=d?dU:l?pU:Eu;if(x.call(g,r))return S(n.get(r));if(x.call(g,v))return S(n.get(v));n!==g&&n.get(r)}function NB(n,r=!1){const l=this.__v_raw,d=ss(l),g=ss(n);return r||(Wy(n,g)&&Du(d,"has",n),Du(d,"has",g)),n===g?l.has(n):l.has(n)||l.has(g)}function PB(n,r=!1){return n=n.__v_raw,!r&&Du(ss(n),"iterate",oC),Reflect.get(n,"size",n)}function kK(n,r=!1){!r&&!Dg(n)&&!lC(n)&&(n=ss(n));const l=ss(this);return VL(l).has.call(l,n)||(l.add(n),S1(l,"add",n,n)),this}function EK(n,r,l=!1){!l&&!Dg(r)&&!lC(r)&&(r=ss(r));const d=ss(this),{has:g,get:v}=VL(d);let x=g.call(d,n);x||(n=ss(n),x=g.call(d,n));const S=v.call(d,n);return d.set(n,r),x?Wy(r,S)&&S1(d,"set",n,r):S1(d,"add",n,r),this}function AK(n){const r=ss(this),{has:l,get:d}=VL(r);let g=l.call(r,n);g||(n=ss(n),g=l.call(r,n)),d&&d.call(r,n);const v=r.delete(n);return g&&S1(r,"delete",n,void 0),v}function TK(){const n=ss(this),r=n.size!==0,l=n.clear();return r&&S1(n,"clear",void 0,void 0),l}function MB(n,r){return function(d,g){const v=this,x=v.__v_raw,S=ss(x),M=r?dU:n?pU:Eu;return!n&&Du(S,"iterate",oC),x.forEach((R,I)=>d.call(g,M(R),M(I),v))}}function BB(n,r,l){return function(...d){const g=this.__v_raw,v=ss(g),x=zk(v),S=n==="entries"||n===Symbol.iterator&&x,M=n==="keys"&&x,R=g[n](...d),I=l?dU:r?pU:Eu;return!r&&Du(v,"iterate",M?v$:oC),{next(){const{value:L,done:$}=R.next();return $?{value:L,done:$}:{value:S?[I(L[0]),I(L[1])]:I(L),done:$}},[Symbol.iterator](){return this}}}}function Dy(n){return function(...r){return n==="delete"?!1:n==="clear"?void 0:this}}function Bce(){const n={get(v){return IB(this,v)},get size(){return PB(this)},has:NB,add:kK,set:EK,delete:AK,clear:TK,forEach:MB(!1,!1)},r={get(v){return IB(this,v,!1,!0)},get size(){return PB(this)},has:NB,add(v){return kK.call(this,v,!0)},set(v,x){return EK.call(this,v,x,!0)},delete:AK,clear:TK,forEach:MB(!1,!0)},l={get(v){return IB(this,v,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Dy("add"),set:Dy("set"),delete:Dy("delete"),clear:Dy("clear"),forEach:MB(!0,!1)},d={get(v){return IB(this,v,!0,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Dy("add"),set:Dy("set"),delete:Dy("delete"),clear:Dy("clear"),forEach:MB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{n[v]=BB(v,!1,!1),l[v]=BB(v,!0,!1),r[v]=BB(v,!1,!0),d[v]=BB(v,!0,!0)}),[n,l,r,d]}const[Lce,Fce,Vce,zce]=Bce();function fU(n,r){const l=r?n?zce:Vce:n?Fce:Lce;return(d,g,v)=>g==="__v_isReactive"?!n:g==="__v_isReadonly"?n:g==="__v_raw"?d:Reflect.get(di(l,g)&&g in d?l:d,g,v)}const Hce={get:fU(!1,!1)},$ce={get:fU(!1,!0)},Uce={get:fU(!0,!1)};const cY=new WeakMap,uY=new WeakMap,dY=new WeakMap,Wce=new WeakMap;function Zce(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jce(n){return n.__v_skip||!Object.isExtensible(n)?0:Zce(gce(n))}function ec(n){return lC(n)?n:mU(n,!1,Nce,Hce,cY)}function Kce(n){return mU(n,!1,Mce,$ce,uY)}function _D(n){return mU(n,!0,Pce,Uce,dY)}function mU(n,r,l,d,g){if(!Ai(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const v=g.get(n);if(v)return v;const x=jce(n);if(x===0)return n;const S=new Proxy(n,x===2?d:l);return g.set(n,S),S}function $y(n){return lC(n)?$y(n.__v_raw):!!(n&&n.__v_isReactive)}function lC(n){return!!(n&&n.__v_isReadonly)}function Dg(n){return!!(n&&n.__v_isShallow)}function gU(n){return n?!!n.__v_raw:!1}function ss(n){const r=n&&n.__v_raw;return r?ss(r):n}function hU(n){return!di(n,"__v_skip")&&Object.isExtensible(n)&&Zq(n,"__v_skip",!0),n}const Eu=n=>Ai(n)?ec(n):n,pU=n=>Ai(n)?_D(n):n;function zr(n){return n?n.__v_isRef===!0:!1}function Mn(n){return fY(n,!1)}function To(n){return fY(n,!0)}function fY(n,r){return zr(n)?n:new Gce(n,r)}class Gce{constructor(r,l){this.dep=new uU,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:ss(r),this._value=l?r:Eu(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,d=this.__v_isShallow||Dg(r)||lC(r);r=d?r:ss(r),Wy(r,l)&&(this._rawValue=r,this._value=d?r:Eu(r),this.dep.trigger())}}function re(n){return zr(n)?n.value:n}const qce={get:(n,r,l)=>r==="__v_raw"?n:re(Reflect.get(n,r,l)),set:(n,r,l,d)=>{const g=n[r];return zr(g)&&!zr(l)?(g.value=l,!0):Reflect.set(n,r,l,d)}};function mY(n){return $y(n)?n:new Proxy(n,qce)}function SD(n){const r=ts(n)?new Array(n.length):{};for(const l in n)r[l]=gY(n,l);return r}class Yce{constructor(r,l,d){this._object=r,this._key=l,this._defaultValue=d,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Ace(ss(this._object),this._key)}}class Xce{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function es(n,r,l){return zr(n)?n:Is(n)?new Xce(n):Ai(n)&&arguments.length>1?gY(n,r,l):Mn(n)}function gY(n,r,l){const d=n[r];return zr(d)?d:new Yce(n,r,l)}class Jce{constructor(r,l,d){this.fn=r,this.setter=l,this._value=void 0,this.dep=new uU(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=GO-1,this.effect=this,this.__v_isReadonly=!l,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&Vi!==this)return eY(this),!0}get value(){const r=this.dep.track();return oY(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function Qce(n,r,l=!1){let d,g;return Is(n)?d=n:(d=n.get,g=n.set),new Jce(d,g,l)}const LB={},fL=new WeakMap;let Qw;function eue(n,r=!1,l=Qw){if(l){let d=fL.get(l);d||fL.set(l,d=[]),d.push(n)}}function tue(n,r,l=zi){const{immediate:d,deep:g,once:v,scheduler:x,augmentJob:S,call:M}=l,R=K=>g?K:Dg(K)||g===!1||g===0?x1(K,1):x1(K);let I,L,$,G,X=!1,ne=!1;if(zr(n)?(L=()=>n.value,X=Dg(n)):$y(n)?(L=()=>R(n),X=!0):ts(n)?(ne=!0,X=n.some(K=>$y(K)||Dg(K)),L=()=>n.map(K=>{if(zr(K))return K.value;if($y(K))return R(K);if(Is(K))return M?M(K,2):K()})):Is(n)?r?L=M?()=>M(n,2):n:L=()=>{if($){Yy();try{$()}finally{Xy()}}const K=Qw;Qw=I;try{return M?M(n,3,[G]):n(G)}finally{Qw=K}}:L=vv,r&&g){const K=L,ye=g===!0?1/0:g;L=()=>x1(K(),ye)}const ce=Xq(),le=()=>{I.stop(),ce&&sU(ce.effects,I)};if(v&&r){const K=r;r=(...ye)=>{K(...ye),le()}}let Me=ne?new Array(n.length).fill(LB):LB;const he=K=>{if(!(!(I.flags&1)||!I.dirty&&!K))if(r){const ye=I.run();if(g||X||(ne?ye.some((ae,Ue)=>Wy(ae,Me[Ue])):Wy(ye,Me))){$&&$();const ae=Qw;Qw=I;try{const Ue=[ye,Me===LB?void 0:ne&&Me[0]===LB?[]:Me,G];M?M(r,3,Ue):r(...Ue),Me=ye}finally{Qw=ae}}}else I.run()};return S&&S(he),I=new Jq(L),I.scheduler=x?()=>x(he,!1):he,G=K=>eue(K,!1,I),$=I.onStop=()=>{const K=fL.get(I);if(K){if(M)M(K,4);else for(const ye of K)ye();fL.delete(I)}},r?d?he(!0):Me=I.run():x?x(he.bind(null,!0),!0):I.run(),le.pause=I.pause.bind(I),le.resume=I.resume.bind(I),le.stop=le,le}function x1(n,r=1/0,l){if(r<=0||!Ai(n)||n.__v_skip||(l=l||new Set,l.has(n)))return n;if(l.add(n),r--,zr(n))x1(n.value,r,l);else if(ts(n))for(let d=0;d<n.length;d++)x1(n[d],r,l);else if(Jk(n)||zk(n))n.forEach(d=>{x1(d,r,l)});else if(Wq(n)){for(const d in n)x1(n[d],r,l);for(const d of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,d)&&x1(n[d],r,l)}return n}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kD(n,r,l,d){try{return d?n(...d):n()}catch(g){zL(g,r,l)}}function jh(n,r,l,d){if(Is(n)){const g=kD(n,r,l,d);return g&&$q(g)&&g.catch(v=>{zL(v,r,l)}),g}if(ts(n)){const g=[];for(let v=0;v<n.length;v++)g.push(jh(n[v],r,l,d));return g}}function zL(n,r,l,d=!0){const g=r?r.vnode:null,{errorHandler:v,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||zi;if(r){let S=r.parent;const M=r.proxy,R=`https://vuejs.org/error-reference/#runtime-${l}`;for(;S;){const I=S.ec;if(I){for(let L=0;L<I.length;L++)if(I[L](n,M,R)===!1)return}S=S.parent}if(v){Yy(),kD(v,null,10,[n,M,R]),Xy();return}}nue(n,l,g,d,x)}function nue(n,r,l,d=!0,g=!1){if(g)throw n;console.error(n)}let YO=!1,b$=!1;const yd=[];let cv=0;const Hk=[];let By=null,Pk=0;const hY=Promise.resolve();let vU=null;function Fs(n){const r=vU||hY;return n?r.then(this?n.bind(this):n):r}function oue(n){let r=YO?cv+1:0,l=yd.length;for(;r<l;){const d=r+l>>>1,g=yd[d],v=XO(g);v<n||v===n&&g.flags&2?r=d+1:l=d}return r}function bU(n){if(!(n.flags&1)){const r=XO(n),l=yd[yd.length-1];!l||!(n.flags&2)&&r>=XO(l)?yd.push(n):yd.splice(oue(r),0,n),n.flags|=1,pY()}}function pY(){!YO&&!b$&&(b$=!0,vU=hY.then(bY))}function sue(n){ts(n)?Hk.push(...n):By&&n.id===-1?By.splice(Pk+1,0,n):n.flags&1||(Hk.push(n),n.flags|=1),pY()}function OK(n,r,l=YO?cv+1:0){for(;l<yd.length;l++){const d=yd[l];if(d&&d.flags&2){if(n&&d.id!==n.uid)continue;yd.splice(l,1),l--,d.flags&4&&(d.flags&=-2),d(),d.flags&=-2}}}function vY(n){if(Hk.length){const r=[...new Set(Hk)].sort((l,d)=>XO(l)-XO(d));if(Hk.length=0,By){By.push(...r);return}for(By=r,Pk=0;Pk<By.length;Pk++){const l=By[Pk];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}By=null,Pk=0}}const XO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function bY(n){b$=!1,YO=!0;try{for(cv=0;cv<yd.length;cv++){const r=yd[cv];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),kD(r,r.i,r.i?15:14),r.flags&=-2)}}finally{for(;cv<yd.length;cv++){const r=yd[cv];r&&(r.flags&=-2)}cv=0,yd.length=0,vY(),YO=!1,vU=null,(yd.length||Hk.length)&&bY()}}let wd=null,yY=null;function mL(n){const r=wd;return wd=n,yY=n&&n.type.__scopeId||null,r}function At(n,r=wd,l){if(!r||n._n)return n;const d=(...g)=>{d._d&&HK(-1);const v=mL(r);let x;try{x=n(...g)}finally{mL(v),d._d&&HK(1)}return x};return d._n=!0,d._c=!0,d._d=!0,d}function Zn(n,r){if(wd===null)return n;const l=jL(wd),d=n.dirs||(n.dirs=[]);for(let g=0;g<r.length;g++){let[v,x,S,M=zi]=r[g];v&&(Is(v)&&(v={mounted:v,updated:v}),v.deep&&x1(x),d.push({dir:v,instance:l,value:x,oldValue:void 0,arg:S,modifiers:M}))}return n}function Kw(n,r,l,d){const g=n.dirs,v=r&&r.dirs;for(let x=0;x<g.length;x++){const S=g[x];v&&(S.oldValue=v[x].value);let M=S.dir[d];M&&(Yy(),jh(M,l,8,[n.el,S,n,r]),Xy())}}const xY=Symbol("_vte"),wY=n=>n.__isTeleport,HO=n=>n&&(n.disabled||n.disabled===""),rue=n=>n&&(n.defer||n.defer===""),DK=n=>typeof SVGElement<"u"&&n instanceof SVGElement,RK=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,y$=(n,r)=>{const l=n&&n.to;return Ka(l)?r?r(l):null:l},iue={name:"Teleport",__isTeleport:!0,process(n,r,l,d,g,v,x,S,M,R){const{mc:I,pc:L,pbc:$,o:{insert:G,querySelector:X,createText:ne,createComment:ce}}=R,le=HO(r.props);let{shapeFlag:Me,children:he,dynamicChildren:K}=r;if(n==null){const ye=r.el=ne(""),ae=r.anchor=ne("");G(ye,l,d),G(ae,l,d);const Ue=(qe,st)=>{Me&16&&(g&&g.isCE&&(g.ce._teleportTarget=qe),I(he,qe,st,g,v,x,S,M))},We=()=>{const qe=r.target=y$(r.props,X),st=CY(qe,r,ne,G);qe&&(x!=="svg"&&DK(qe)?x="svg":x!=="mathml"&&RK(qe)&&(x="mathml"),le||(Ue(qe,st),eL(r)))};le&&(Ue(l,ae),eL(r)),rue(r.props)?sf(We,v):We()}else{r.el=n.el,r.targetStart=n.targetStart;const ye=r.anchor=n.anchor,ae=r.target=n.target,Ue=r.targetAnchor=n.targetAnchor,We=HO(n.props),qe=We?l:ae,st=We?ye:Ue;if(x==="svg"||DK(ae)?x="svg":(x==="mathml"||RK(ae))&&(x="mathml"),K?($(n.dynamicChildren,K,qe,g,v,x,S),kU(n,r,!0)):M||L(n,r,qe,st,g,v,x,S,!1),le)We?r.props&&n.props&&r.props.to!==n.props.to&&(r.props.to=n.props.to):FB(r,l,ye,R,1);else if((r.props&&r.props.to)!==(n.props&&n.props.to)){const Ee=r.target=y$(r.props,X);Ee&&FB(r,Ee,null,R,0)}else We&&FB(r,ae,Ue,R,1);eL(r)}},remove(n,r,l,{um:d,o:{remove:g}},v){const{shapeFlag:x,children:S,anchor:M,targetStart:R,targetAnchor:I,target:L,props:$}=n;if(L&&(g(R),g(I)),v&&g(M),x&16){const G=v||!HO($);for(let X=0;X<S.length;X++){const ne=S[X];d(ne,r,l,G,!!ne.dynamicChildren)}}},move:FB,hydrate:aue};function FB(n,r,l,{o:{insert:d},m:g},v=2){v===0&&d(n.targetAnchor,r,l);const{el:x,anchor:S,shapeFlag:M,children:R,props:I}=n,L=v===2;if(L&&d(x,r,l),(!L||HO(I))&&M&16)for(let $=0;$<R.length;$++)g(R[$],r,l,2);L&&d(S,r,l)}function aue(n,r,l,d,g,v,{o:{nextSibling:x,parentNode:S,querySelector:M,insert:R,createText:I}},L){const $=r.target=y$(r.props,M);if($){const G=$._lpa||$.firstChild;if(r.shapeFlag&16)if(HO(r.props))r.anchor=L(x(n),r,S(n),l,d,g,v),r.targetStart=G,r.targetAnchor=G&&x(G);else{r.anchor=x(n);let X=G;for(;X;){if(X&&X.nodeType===8){if(X.data==="teleport start anchor")r.targetStart=X;else if(X.data==="teleport anchor"){r.targetAnchor=X,$._lpa=r.targetAnchor&&x(r.targetAnchor);break}}X=x(X)}r.targetAnchor||CY($,r,I,R),L(G&&x(G),r,$,l,d,g,v)}eL(r)}return r.anchor&&x(r.anchor)}const lue=iue;function eL(n){const r=n.ctx;if(r&&r.ut){let l=n.targetStart;for(;l&&l!==n.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",r.uid),l=l.nextSibling;r.ut()}}function CY(n,r,l,d){const g=r.targetStart=l(""),v=r.targetAnchor=l("");return g[xY]=v,n&&(d(g,n),d(v,n)),v}const Ly=Symbol("_leaveCb"),VB=Symbol("_enterCb");function _Y(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Iu(()=>{n.isMounted=!0}),Cc(()=>{n.isUnmounting=!0}),n}const Tg=[Function,Array],SY={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tg,onEnter:Tg,onAfterEnter:Tg,onEnterCancelled:Tg,onBeforeLeave:Tg,onLeave:Tg,onAfterLeave:Tg,onLeaveCancelled:Tg,onBeforeAppear:Tg,onAppear:Tg,onAfterAppear:Tg,onAppearCancelled:Tg},kY=n=>{const r=n.subTree;return r.component?kY(r.component):r},cue={name:"BaseTransition",props:SY,setup(n,{slots:r}){const l=TU(),d=_Y();return()=>{const g=r.default&&yU(r.default(),!0);if(!g||!g.length)return;const v=EY(g),x=ss(n),{mode:S}=x;if(d.isLeaving)return FH(v);const M=IK(v);if(!M)return FH(v);let R=JO(M,x,d,l,$=>R=$);M.type!==xd&&cC(M,R);const I=l.subTree,L=I&&IK(I);if(L&&L.type!==xd&&!eC(M,L)&&kY(l).type!==xd){const $=JO(L,x,d,l);if(cC(L,$),S==="out-in"&&M.type!==xd)return d.isLeaving=!0,$.afterLeave=()=>{d.isLeaving=!1,l.job.flags&8||l.update(),delete $.afterLeave},FH(v);S==="in-out"&&M.type!==xd&&($.delayLeave=(G,X,ne)=>{const ce=AY(d,L);ce[String(L.key)]=L,G[Ly]=()=>{X(),G[Ly]=void 0,delete R.delayedLeave},R.delayedLeave=ne})}return v}}};function EY(n){let r=n[0];if(n.length>1){for(const l of n)if(l.type!==xd){r=l;break}}return r}const uue=cue;function AY(n,r){const{leavingVNodes:l}=n;let d=l.get(r.type);return d||(d=Object.create(null),l.set(r.type,d)),d}function JO(n,r,l,d,g){const{appear:v,mode:x,persisted:S=!1,onBeforeEnter:M,onEnter:R,onAfterEnter:I,onEnterCancelled:L,onBeforeLeave:$,onLeave:G,onAfterLeave:X,onLeaveCancelled:ne,onBeforeAppear:ce,onAppear:le,onAfterAppear:Me,onAppearCancelled:he}=r,K=String(n.key),ye=AY(l,n),ae=(qe,st)=>{qe&&jh(qe,d,9,st)},Ue=(qe,st)=>{const Ee=st[1];ae(qe,st),ts(qe)?qe.every(Le=>Le.length<=1)&&Ee():qe.length<=1&&Ee()},We={mode:x,persisted:S,beforeEnter(qe){let st=M;if(!l.isMounted)if(v)st=ce||M;else return;qe[Ly]&&qe[Ly](!0);const Ee=ye[K];Ee&&eC(n,Ee)&&Ee.el[Ly]&&Ee.el[Ly](),ae(st,[qe])},enter(qe){let st=R,Ee=I,Le=L;if(!l.isMounted)if(v)st=le||R,Ee=Me||I,Le=he||L;else return;let O=!1;const Ke=qe[VB]=ct=>{O||(O=!0,ct?ae(Le,[qe]):ae(Ee,[qe]),We.delayedLeave&&We.delayedLeave(),qe[VB]=void 0)};st?Ue(st,[qe,Ke]):Ke()},leave(qe,st){const Ee=String(n.key);if(qe[VB]&&qe[VB](!0),l.isUnmounting)return st();ae($,[qe]);let Le=!1;const O=qe[Ly]=Ke=>{Le||(Le=!0,st(),Ke?ae(ne,[qe]):ae(X,[qe]),qe[Ly]=void 0,ye[Ee]===n&&delete ye[Ee])};ye[Ee]=n,G?Ue(G,[qe,O]):O()},clone(qe){const st=JO(qe,r,l,d,g);return g&&g(st),st}};return We}function FH(n){if(HL(n))return n=T1(n),n.children=null,n}function IK(n){if(!HL(n))return wY(n.type)&&n.children?EY(n.children):n;const{shapeFlag:r,children:l}=n;if(l){if(r&16)return l[0];if(r&32&&Is(l.default))return l.default()}}function cC(n,r){n.shapeFlag&6&&n.component?(n.transition=r,cC(n.component.subTree,r)):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r}function yU(n,r=!1,l){let d=[],g=0;for(let v=0;v<n.length;v++){let x=n[v];const S=l==null?x.key:String(l)+String(x.key!=null?x.key:v);x.type===us?(x.patchFlag&128&&g++,d=d.concat(yU(x.children,r,S))):(r||x.type!==xd)&&d.push(S!=null?T1(x,{key:S}):x)}if(g>1)for(let v=0;v<d.length;v++)d[v].patchFlag=-2;return d}/*! #__NO_SIDE_EFFECTS__ */function TY(n,r){return Is(n)?zl({name:n.name},r,{setup:n}):n}function OY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function x$(n,r,l,d,g=!1){if(ts(n)){n.forEach((X,ne)=>x$(X,r&&(ts(r)?r[ne]:r),l,d,g));return}if($O(d)&&!g)return;const v=d.shapeFlag&4?jL(d.component):d.el,x=g?null:v,{i:S,r:M}=n,R=r&&r.r,I=S.refs===zi?S.refs={}:S.refs,L=S.setupState,$=ss(L),G=L===zi?()=>!1:X=>di($,X);if(R!=null&&R!==M&&(Ka(R)?(I[R]=null,G(R)&&(L[R]=null)):zr(R)&&(R.value=null)),Is(M))kD(M,S,12,[x,I]);else{const X=Ka(M),ne=zr(M);if(X||ne){const ce=()=>{if(n.f){const le=X?G(M)?L[M]:I[M]:M.value;g?ts(le)&&sU(le,v):ts(le)?le.includes(v)||le.push(v):X?(I[M]=[v],G(M)&&(L[M]=I[M])):(M.value=[v],n.k&&(I[n.k]=M.value))}else X?(I[M]=x,G(M)&&(L[M]=x)):ne&&(M.value=x,n.k&&(I[n.k]=x))};x?(ce.id=-1,sf(ce,l)):ce()}}}const $O=n=>!!n.type.__asyncLoader,HL=n=>n.type.__isKeepAlive;function xU(n,r){DY(n,"a",r)}function $L(n,r){DY(n,"da",r)}function DY(n,r,l=yc){const d=n.__wdc||(n.__wdc=()=>{let g=l;for(;g;){if(g.isDeactivated)return;g=g.parent}return n()});if(UL(r,d,l),l){let g=l.parent;for(;g&&g.parent;)HL(g.parent.vnode)&&due(d,r,l,g),g=g.parent}}function due(n,r,l,d){const g=UL(r,n,d,!0);RY(()=>{sU(d[r],g)},l)}function UL(n,r,l=yc,d=!1){if(l){const g=l[n]||(l[n]=[]),v=r.__weh||(r.__weh=(...x)=>{Yy();const S=AD(l),M=jh(r,l,n,x);return S(),Xy(),M});return d?g.unshift(v):g.push(v),v}}const R1=n=>(r,l=yc)=>{(!ZL||n==="sp")&&UL(n,(...d)=>r(...d),l)},wU=R1("bm"),Iu=R1("m"),fue=R1("bu"),CU=R1("u"),Cc=R1("bum"),RY=R1("um"),mue=R1("sp"),gue=R1("rtg"),hue=R1("rtc");function pue(n,r=yc){UL("ec",n,r)}const IY="components",vue="directives",bue=Symbol.for("v-ndc");function yue(n){return Ka(n)&&NY(IY,n,!1)||n}function Jy(n){return NY(vue,n)}function NY(n,r,l=!0,d=!1){const g=wd||yc;if(g){const v=g.type;if(n===IY){const S=rde(v,!1);if(S&&(S===r||S===gm(r)||S===D1(gm(r))))return v}const x=NK(g[n]||v[n],r)||NK(g.appContext[n],r);return!x&&d?v:x}}function NK(n,r){return n&&(n[r]||n[gm(r)]||n[D1(gm(r))])}function uC(n,r,l,d){let g;const v=l,x=ts(n);if(x||Ka(n)){const S=x&&$y(n);let M=!1;S&&(M=!Dg(n),n=FL(n)),g=new Array(n.length);for(let R=0,I=n.length;R<I;R++)g[R]=r(M?Eu(n[R]):n[R],R,void 0,v)}else if(typeof n=="number"){g=new Array(n);for(let S=0;S<n;S++)g[S]=r(S+1,S,void 0,v)}else if(Ai(n))if(n[Symbol.iterator])g=Array.from(n,(S,M)=>r(S,M,void 0,v));else{const S=Object.keys(n);g=new Array(S.length);for(let M=0,R=S.length;M<R;M++){const I=S[M];g[M]=r(n[I],I,M,v)}}else g=[];return g}const w$=n=>n?XY(n)?jL(n):w$(n.parent):null,UO=zl(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>w$(n.parent),$root:n=>w$(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>_U(n),$forceUpdate:n=>n.f||(n.f=()=>{bU(n.update)}),$nextTick:n=>n.n||(n.n=Fs.bind(n.proxy)),$watch:n=>Hue.bind(n)}),VH=(n,r)=>n!==zi&&!n.__isScriptSetup&&di(n,r),xue={get({_:n},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:d,data:g,props:v,accessCache:x,type:S,appContext:M}=n;let R;if(r[0]!=="$"){const G=x[r];if(G!==void 0)switch(G){case 1:return d[r];case 2:return g[r];case 4:return l[r];case 3:return v[r]}else{if(VH(d,r))return x[r]=1,d[r];if(g!==zi&&di(g,r))return x[r]=2,g[r];if((R=n.propsOptions[0])&&di(R,r))return x[r]=3,v[r];if(l!==zi&&di(l,r))return x[r]=4,l[r];C$&&(x[r]=0)}}const I=UO[r];let L,$;if(I)return r==="$attrs"&&Du(n.attrs,"get",""),I(n);if((L=S.__cssModules)&&(L=L[r]))return L;if(l!==zi&&di(l,r))return x[r]=4,l[r];if($=M.config.globalProperties,di($,r))return $[r]},set({_:n},r,l){const{data:d,setupState:g,ctx:v}=n;return VH(g,r)?(g[r]=l,!0):d!==zi&&di(d,r)?(d[r]=l,!0):di(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(v[r]=l,!0)},has({_:{data:n,setupState:r,accessCache:l,ctx:d,appContext:g,propsOptions:v}},x){let S;return!!l[x]||n!==zi&&di(n,x)||VH(r,x)||(S=v[0])&&di(S,x)||di(d,x)||di(UO,x)||di(g.config.globalProperties,x)},defineProperty(n,r,l){return l.get!=null?n._.accessCache[r]=0:di(l,"value")&&this.set(n,r,l.value,null),Reflect.defineProperty(n,r,l)}};function PK(n){return ts(n)?n.reduce((r,l)=>(r[l]=null,r),{}):n}let C$=!0;function wue(n){const r=_U(n),l=n.proxy,d=n.ctx;C$=!1,r.beforeCreate&&MK(r.beforeCreate,n,"bc");const{data:g,computed:v,methods:x,watch:S,provide:M,inject:R,created:I,beforeMount:L,mounted:$,beforeUpdate:G,updated:X,activated:ne,deactivated:ce,beforeDestroy:le,beforeUnmount:Me,destroyed:he,unmounted:K,render:ye,renderTracked:ae,renderTriggered:Ue,errorCaptured:We,serverPrefetch:qe,expose:st,inheritAttrs:Ee,components:Le,directives:O,filters:Ke}=r;if(R&&Cue(R,d,null),x)for(const Jt in x){const et=x[Jt];Is(et)&&(d[Jt]=et.bind(l))}if(g){const Jt=g.call(l,l);Ai(Jt)&&(n.data=ec(Jt))}if(C$=!0,v)for(const Jt in v){const et=v[Jt],pt=Is(et)?et.bind(l,l):Is(et.get)?et.get.bind(l,l):vv,Lt=!Is(et)&&Is(et.set)?et.set.bind(l):vv,tt=Ge({get:pt,set:Lt});Object.defineProperty(d,Jt,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ye=>tt.value=Ye})}if(S)for(const Jt in S)PY(S[Jt],d,l,Jt);if(M){const Jt=Is(M)?M.call(l):M;Reflect.ownKeys(Jt).forEach(et=>{_d(et,Jt[et])})}I&&MK(I,n,"c");function $t(Jt,et){ts(et)?et.forEach(pt=>Jt(pt.bind(l))):et&&Jt(et.bind(l))}if($t(wU,L),$t(Iu,$),$t(fue,G),$t(CU,X),$t(xU,ne),$t($L,ce),$t(pue,We),$t(hue,ae),$t(gue,Ue),$t(Cc,Me),$t(RY,K),$t(mue,qe),ts(st))if(st.length){const Jt=n.exposed||(n.exposed={});st.forEach(et=>{Object.defineProperty(Jt,et,{get:()=>l[et],set:pt=>l[et]=pt})})}else n.exposed||(n.exposed={});ye&&n.render===vv&&(n.render=ye),Ee!=null&&(n.inheritAttrs=Ee),Le&&(n.components=Le),O&&(n.directives=O),qe&&OY(n)}function Cue(n,r,l=vv){ts(n)&&(n=_$(n));for(const d in n){const g=n[d];let v;Ai(g)?"default"in g?v=wa(g.from||d,g.default,!0):v=wa(g.from||d):v=wa(g),zr(v)?Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>v.value,set:x=>v.value=x}):r[d]=v}}function MK(n,r,l){jh(ts(n)?n.map(d=>d.bind(r.proxy)):n.bind(r.proxy),r,l)}function PY(n,r,l,d){let g=d.includes(".")?jY(l,d):()=>l[d];if(Ka(n)){const v=r[n];Is(v)&&zn(g,v)}else if(Is(n))zn(g,n.bind(l));else if(Ai(n))if(ts(n))n.forEach(v=>PY(v,r,l,d));else{const v=Is(n.handler)?n.handler.bind(l):r[n.handler];Is(v)&&zn(g,v,n)}}function _U(n){const r=n.type,{mixins:l,extends:d}=r,{mixins:g,optionsCache:v,config:{optionMergeStrategies:x}}=n.appContext,S=v.get(r);let M;return S?M=S:!g.length&&!l&&!d?M=r:(M={},g.length&&g.forEach(R=>gL(M,R,x,!0)),gL(M,r,x)),Ai(r)&&v.set(r,M),M}function gL(n,r,l,d=!1){const{mixins:g,extends:v}=r;v&&gL(n,v,l,!0),g&&g.forEach(x=>gL(n,x,l,!0));for(const x in r)if(!(d&&x==="expose")){const S=_ue[x]||l&&l[x];n[x]=S?S(n[x],r[x]):r[x]}return n}const _ue={data:BK,props:LK,emits:LK,methods:LO,computed:LO,beforeCreate:vd,created:vd,beforeMount:vd,mounted:vd,beforeUpdate:vd,updated:vd,beforeDestroy:vd,beforeUnmount:vd,destroyed:vd,unmounted:vd,activated:vd,deactivated:vd,errorCaptured:vd,serverPrefetch:vd,components:LO,directives:LO,watch:kue,provide:BK,inject:Sue};function BK(n,r){return r?n?function(){return zl(Is(n)?n.call(this,this):n,Is(r)?r.call(this,this):r)}:r:n}function Sue(n,r){return LO(_$(n),_$(r))}function _$(n){if(ts(n)){const r={};for(let l=0;l<n.length;l++)r[n[l]]=n[l];return r}return n}function vd(n,r){return n?[...new Set([].concat(n,r))]:r}function LO(n,r){return n?zl(Object.create(null),n,r):r}function LK(n,r){return n?ts(n)&&ts(r)?[...new Set([...n,...r])]:zl(Object.create(null),PK(n),PK(r??{})):r}function kue(n,r){if(!n)return r;if(!r)return n;const l=zl(Object.create(null),n);for(const d in r)l[d]=vd(n[d],r[d]);return l}function MY(){return{app:null,config:{isNativeTag:fce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eue=0;function Aue(n,r){return function(d,g=null){Is(d)||(d=zl({},d)),g!=null&&!Ai(g)&&(g=null);const v=MY(),x=new WeakSet,S=[];let M=!1;const R=v.app={_uid:Eue++,_component:d,_props:g,_container:null,_context:v,_instance:null,version:ade,get config(){return v.config},set config(I){},use(I,...L){return x.has(I)||(I&&Is(I.install)?(x.add(I),I.install(R,...L)):Is(I)&&(x.add(I),I(R,...L))),R},mixin(I){return v.mixins.includes(I)||v.mixins.push(I),R},component(I,L){return L?(v.components[I]=L,R):v.components[I]},directive(I,L){return L?(v.directives[I]=L,R):v.directives[I]},mount(I,L,$){if(!M){const G=R._ceVNode||j(d,g);return G.appContext=v,$===!0?$="svg":$===!1&&($=void 0),L&&r?r(G,I):n(G,I,$),M=!0,R._container=I,I.__vue_app__=R,jL(G.component)}},onUnmount(I){S.push(I)},unmount(){M&&(jh(S,R._instance,16),n(null,R._container),delete R._container.__vue_app__)},provide(I,L){return v.provides[I]=L,R},runWithContext(I){const L=sC;sC=R;try{return I()}finally{sC=L}}};return R}}let sC=null;function _d(n,r){if(yc){let l=yc.provides;const d=yc.parent&&yc.parent.provides;d===l&&(l=yc.provides=Object.create(d)),l[n]=r}}function wa(n,r,l=!1){const d=yc||wd;if(d||sC){const g=sC?sC._context.provides:d?d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(g&&n in g)return g[n];if(arguments.length>1)return l&&Is(r)?r.call(d&&d.proxy):r}}function Tue(){return!!(yc||wd||sC)}const BY={},LY=()=>Object.create(BY),FY=n=>Object.getPrototypeOf(n)===BY;function Oue(n,r,l,d=!1){const g={},v=LY();n.propsDefaults=Object.create(null),VY(n,r,g,v);for(const x in n.propsOptions[0])x in g||(g[x]=void 0);l?n.props=d?g:Kce(g):n.type.props?n.props=g:n.props=v,n.attrs=v}function Due(n,r,l,d){const{props:g,attrs:v,vnode:{patchFlag:x}}=n,S=ss(g),[M]=n.propsOptions;let R=!1;if((d||x>0)&&!(x&16)){if(x&8){const I=n.vnode.dynamicProps;for(let L=0;L<I.length;L++){let $=I[L];if(WL(n.emitsOptions,$))continue;const G=r[$];if(M)if(di(v,$))G!==v[$]&&(v[$]=G,R=!0);else{const X=gm($);g[X]=S$(M,S,X,G,n,!1)}else G!==v[$]&&(v[$]=G,R=!0)}}}else{VY(n,r,g,v)&&(R=!0);let I;for(const L in S)(!r||!di(r,L)&&((I=gC(L))===L||!di(r,I)))&&(M?l&&(l[L]!==void 0||l[I]!==void 0)&&(g[L]=S$(M,S,L,void 0,n,!0)):delete g[L]);if(v!==S)for(const L in v)(!r||!di(r,L))&&(delete v[L],R=!0)}R&&S1(n.attrs,"set","")}function VY(n,r,l,d){const[g,v]=n.propsOptions;let x=!1,S;if(r)for(let M in r){if(VO(M))continue;const R=r[M];let I;g&&di(g,I=gm(M))?!v||!v.includes(I)?l[I]=R:(S||(S={}))[I]=R:WL(n.emitsOptions,M)||(!(M in d)||R!==d[M])&&(d[M]=R,x=!0)}if(v){const M=ss(l),R=S||zi;for(let I=0;I<v.length;I++){const L=v[I];l[L]=S$(g,M,L,R[L],n,!di(R,L))}}return x}function S$(n,r,l,d,g,v){const x=n[l];if(x!=null){const S=di(x,"default");if(S&&d===void 0){const M=x.default;if(x.type!==Function&&!x.skipFactory&&Is(M)){const{propsDefaults:R}=g;if(l in R)d=R[l];else{const I=AD(g);d=R[l]=M.call(null,r),I()}}else d=M;g.ce&&g.ce._setProp(l,d)}x[0]&&(v&&!S?d=!1:x[1]&&(d===""||d===gC(l))&&(d=!0))}return d}const Rue=new WeakMap;function zY(n,r,l=!1){const d=l?Rue:r.propsCache,g=d.get(n);if(g)return g;const v=n.props,x={},S=[];let M=!1;if(!Is(n)){const I=L=>{M=!0;const[$,G]=zY(L,r,!0);zl(x,$),G&&S.push(...G)};!l&&r.mixins.length&&r.mixins.forEach(I),n.extends&&I(n.extends),n.mixins&&n.mixins.forEach(I)}if(!v&&!M)return Ai(n)&&d.set(n,Vk),Vk;if(ts(v))for(let I=0;I<v.length;I++){const L=gm(v[I]);FK(L)&&(x[L]=zi)}else if(v)for(const I in v){const L=gm(I);if(FK(L)){const $=v[I],G=x[L]=ts($)||Is($)?{type:$}:zl({},$),X=G.type;let ne=!1,ce=!0;if(ts(X))for(let le=0;le<X.length;++le){const Me=X[le],he=Is(Me)&&Me.name;if(he==="Boolean"){ne=!0;break}else he==="String"&&(ce=!1)}else ne=Is(X)&&X.name==="Boolean";G[0]=ne,G[1]=ce,(ne||di(G,"default"))&&S.push(L)}}const R=[x,S];return Ai(n)&&d.set(n,R),R}function FK(n){return n[0]!=="$"&&!VO(n)}const HY=n=>n[0]==="_"||n==="$stable",SU=n=>ts(n)?n.map(dv):[dv(n)],Iue=(n,r,l)=>{if(r._n)return r;const d=At((...g)=>SU(r(...g)),l);return d._c=!1,d},$Y=(n,r,l)=>{const d=n._ctx;for(const g in n){if(HY(g))continue;const v=n[g];if(Is(v))r[g]=Iue(g,v,d);else if(v!=null){const x=SU(v);r[g]=()=>x}}},UY=(n,r)=>{const l=SU(r);n.slots.default=()=>l},WY=(n,r,l)=>{for(const d in r)(l||d!=="_")&&(n[d]=r[d])},Nue=(n,r,l)=>{const d=n.slots=LY();if(n.vnode.shapeFlag&32){const g=r._;g?(WY(d,r,l),l&&Zq(d,"_",g,!0)):$Y(r,d)}else r&&UY(n,r)},Pue=(n,r,l)=>{const{vnode:d,slots:g}=n;let v=!0,x=zi;if(d.shapeFlag&32){const S=r._;S?l&&S===1?v=!1:WY(g,r,l):(v=!r.$stable,$Y(r,g)),x=r}else r&&(UY(n,r),x={default:1});if(v)for(const S in g)!HY(S)&&x[S]==null&&delete g[S]},sf=Gue;function Mue(n){return Bue(n)}function Bue(n,r){const l=jq();l.__VUE__=!0;const{insert:d,remove:g,patchProp:v,createElement:x,createText:S,createComment:M,setText:R,setElementText:I,parentNode:L,nextSibling:$,setScopeId:G=vv,insertStaticContent:X}=n,ne=(je,ie,xe,Be=null,pe=null,gt=null,zt=void 0,vt=null,Ft=!!ie.dynamicChildren)=>{if(je===ie)return;je&&!eC(je,ie)&&(Be=_n(je),Ye(je,pe,gt,!0),je=null),ie.patchFlag===-2&&(Ft=!1,ie.dynamicChildren=null);const{type:Vt,ref:wn,shapeFlag:cn}=ie;switch(Vt){case ED:ce(je,ie,xe,Be);break;case xd:le(je,ie,xe,Be);break;case $H:je==null&&Me(ie,xe,Be,zt);break;case us:Le(je,ie,xe,Be,pe,gt,zt,vt,Ft);break;default:cn&1?ye(je,ie,xe,Be,pe,gt,zt,vt,Ft):cn&6?O(je,ie,xe,Be,pe,gt,zt,vt,Ft):(cn&64||cn&128)&&Vt.process(je,ie,xe,Be,pe,gt,zt,vt,Ft,eo)}wn!=null&&pe&&x$(wn,je&&je.ref,gt,ie||je,!ie)},ce=(je,ie,xe,Be)=>{if(je==null)d(ie.el=S(ie.children),xe,Be);else{const pe=ie.el=je.el;ie.children!==je.children&&R(pe,ie.children)}},le=(je,ie,xe,Be)=>{je==null?d(ie.el=M(ie.children||""),xe,Be):ie.el=je.el},Me=(je,ie,xe,Be)=>{[je.el,je.anchor]=X(je.children,ie,xe,Be,je.el,je.anchor)},he=({el:je,anchor:ie},xe,Be)=>{let pe;for(;je&&je!==ie;)pe=$(je),d(je,xe,Be),je=pe;d(ie,xe,Be)},K=({el:je,anchor:ie})=>{let xe;for(;je&&je!==ie;)xe=$(je),g(je),je=xe;g(ie)},ye=(je,ie,xe,Be,pe,gt,zt,vt,Ft)=>{ie.type==="svg"?zt="svg":ie.type==="math"&&(zt="mathml"),je==null?ae(ie,xe,Be,pe,gt,zt,vt,Ft):qe(je,ie,pe,gt,zt,vt,Ft)},ae=(je,ie,xe,Be,pe,gt,zt,vt)=>{let Ft,Vt;const{props:wn,shapeFlag:cn,transition:An,dirs:On}=je;if(Ft=je.el=x(je.type,gt,wn&&wn.is,wn),cn&8?I(Ft,je.children):cn&16&&We(je.children,Ft,null,Be,pe,zH(je,gt),zt,vt),On&&Kw(je,null,Be,"created"),Ue(Ft,je,je.scopeId,zt,Be),wn){for(const Do in wn)Do!=="value"&&!VO(Do)&&v(Ft,Do,null,wn[Do],gt,Be);"value"in wn&&v(Ft,"value",null,wn.value,gt),(Vt=wn.onVnodeBeforeMount)&&lv(Vt,Be,je)}On&&Kw(je,null,Be,"beforeMount");const wo=Lue(pe,An);wo&&An.beforeEnter(Ft),d(Ft,ie,xe),((Vt=wn&&wn.onVnodeMounted)||wo||On)&&sf(()=>{Vt&&lv(Vt,Be,je),wo&&An.enter(Ft),On&&Kw(je,null,Be,"mounted")},pe)},Ue=(je,ie,xe,Be,pe)=>{if(xe&&G(je,xe),Be)for(let gt=0;gt<Be.length;gt++)G(je,Be[gt]);if(pe){let gt=pe.subTree;if(ie===gt||GY(gt.type)&&(gt.ssContent===ie||gt.ssFallback===ie)){const zt=pe.vnode;Ue(je,zt,zt.scopeId,zt.slotScopeIds,pe.parent)}}},We=(je,ie,xe,Be,pe,gt,zt,vt,Ft=0)=>{for(let Vt=Ft;Vt<je.length;Vt++){const wn=je[Vt]=vt?Fy(je[Vt]):dv(je[Vt]);ne(null,wn,ie,xe,Be,pe,gt,zt,vt)}},qe=(je,ie,xe,Be,pe,gt,zt)=>{const vt=ie.el=je.el;let{patchFlag:Ft,dynamicChildren:Vt,dirs:wn}=ie;Ft|=je.patchFlag&16;const cn=je.props||zi,An=ie.props||zi;let On;if(xe&&Gw(xe,!1),(On=An.onVnodeBeforeUpdate)&&lv(On,xe,ie,je),wn&&Kw(ie,je,xe,"beforeUpdate"),xe&&Gw(xe,!0),(cn.innerHTML&&An.innerHTML==null||cn.textContent&&An.textContent==null)&&I(vt,""),Vt?st(je.dynamicChildren,Vt,vt,xe,Be,zH(ie,pe),gt):zt||et(je,ie,vt,null,xe,Be,zH(ie,pe),gt,!1),Ft>0){if(Ft&16)Ee(vt,cn,An,xe,pe);else if(Ft&2&&cn.class!==An.class&&v(vt,"class",null,An.class,pe),Ft&4&&v(vt,"style",cn.style,An.style,pe),Ft&8){const wo=ie.dynamicProps;for(let Do=0;Do<wo.length;Do++){const $o=wo[Do],cs=cn[$o],ar=An[$o];(ar!==cs||$o==="value")&&v(vt,$o,cs,ar,pe,xe)}}Ft&1&&je.children!==ie.children&&I(vt,ie.children)}else!zt&&Vt==null&&Ee(vt,cn,An,xe,pe);((On=An.onVnodeUpdated)||wn)&&sf(()=>{On&&lv(On,xe,ie,je),wn&&Kw(ie,je,xe,"updated")},Be)},st=(je,ie,xe,Be,pe,gt,zt)=>{for(let vt=0;vt<ie.length;vt++){const Ft=je[vt],Vt=ie[vt],wn=Ft.el&&(Ft.type===us||!eC(Ft,Vt)||Ft.shapeFlag&70)?L(Ft.el):xe;ne(Ft,Vt,wn,null,Be,pe,gt,zt,!0)}},Ee=(je,ie,xe,Be,pe)=>{if(ie!==xe){if(ie!==zi)for(const gt in ie)!VO(gt)&&!(gt in xe)&&v(je,gt,ie[gt],null,pe,Be);for(const gt in xe){if(VO(gt))continue;const zt=xe[gt],vt=ie[gt];zt!==vt&&gt!=="value"&&v(je,gt,vt,zt,pe,Be)}"value"in xe&&v(je,"value",ie.value,xe.value,pe)}},Le=(je,ie,xe,Be,pe,gt,zt,vt,Ft)=>{const Vt=ie.el=je?je.el:S(""),wn=ie.anchor=je?je.anchor:S("");let{patchFlag:cn,dynamicChildren:An,slotScopeIds:On}=ie;On&&(vt=vt?vt.concat(On):On),je==null?(d(Vt,xe,Be),d(wn,xe,Be),We(ie.children||[],xe,wn,pe,gt,zt,vt,Ft)):cn>0&&cn&64&&An&&je.dynamicChildren?(st(je.dynamicChildren,An,xe,pe,gt,zt,vt),(ie.key!=null||pe&&ie===pe.subTree)&&kU(je,ie,!0)):et(je,ie,xe,wn,pe,gt,zt,vt,Ft)},O=(je,ie,xe,Be,pe,gt,zt,vt,Ft)=>{ie.slotScopeIds=vt,je==null?ie.shapeFlag&512?pe.ctx.activate(ie,xe,Be,zt,Ft):Ke(ie,xe,Be,pe,gt,zt,Ft):ct(je,ie,Ft)},Ke=(je,ie,xe,Be,pe,gt,zt)=>{const vt=je.component=ede(je,Be,pe);if(HL(je)&&(vt.ctx.renderer=eo),tde(vt,!1,zt),vt.asyncDep){if(pe&&pe.registerDep(vt,$t,zt),!je.el){const Ft=vt.subTree=j(xd);le(null,Ft,ie,xe)}}else $t(vt,je,ie,xe,pe,gt,zt)},ct=(je,ie,xe)=>{const Be=ie.component=je.component;if(jue(je,ie,xe))if(Be.asyncDep&&!Be.asyncResolved){Jt(Be,ie,xe);return}else Be.next=ie,Be.update();else ie.el=je.el,Be.vnode=ie},$t=(je,ie,xe,Be,pe,gt,zt)=>{const vt=()=>{if(je.isMounted){let{next:cn,bu:An,u:On,parent:wo,vnode:Do}=je;{const Ar=ZY(je);if(Ar){cn&&(cn.el=Do.el,Jt(je,cn,zt)),Ar.asyncDep.then(()=>{je.isUnmounted||vt()});return}}let $o=cn,cs;Gw(je,!1),cn?(cn.el=Do.el,Jt(je,cn,zt)):cn=Do,An&&QB(An),(cs=cn.props&&cn.props.onVnodeBeforeUpdate)&&lv(cs,wo,cn,Do),Gw(je,!0);const ar=HH(je),fs=je.subTree;je.subTree=ar,ne(fs,ar,L(fs.el),_n(fs),je,pe,gt),cn.el=ar.el,$o===null&&Kue(je,ar.el),On&&sf(On,pe),(cs=cn.props&&cn.props.onVnodeUpdated)&&sf(()=>lv(cs,wo,cn,Do),pe)}else{let cn;const{el:An,props:On}=ie,{bm:wo,m:Do,parent:$o,root:cs,type:ar}=je,fs=$O(ie);if(Gw(je,!1),wo&&QB(wo),!fs&&(cn=On&&On.onVnodeBeforeMount)&&lv(cn,$o,ie),Gw(je,!0),An&&Oo){const Ar=()=>{je.subTree=HH(je),Oo(An,je.subTree,je,pe,null)};fs&&ar.__asyncHydrate?ar.__asyncHydrate(An,je,Ar):Ar()}else{cs.ce&&cs.ce._injectChildStyle(ar);const Ar=je.subTree=HH(je);ne(null,Ar,xe,Be,je,pe,gt),ie.el=Ar.el}if(Do&&sf(Do,pe),!fs&&(cn=On&&On.onVnodeMounted)){const Ar=ie;sf(()=>lv(cn,$o,Ar),pe)}(ie.shapeFlag&256||$o&&$O($o.vnode)&&$o.vnode.shapeFlag&256)&&je.a&&sf(je.a,pe),je.isMounted=!0,ie=xe=Be=null}};je.scope.on();const Ft=je.effect=new Jq(vt);je.scope.off();const Vt=je.update=Ft.run.bind(Ft),wn=je.job=Ft.runIfDirty.bind(Ft);wn.i=je,wn.id=je.uid,Ft.scheduler=()=>bU(wn),Gw(je,!0),Vt()},Jt=(je,ie,xe)=>{ie.component=je;const Be=je.vnode.props;je.vnode=ie,je.next=null,Due(je,ie.props,Be,xe),Pue(je,ie.children,xe),Yy(),OK(je),Xy()},et=(je,ie,xe,Be,pe,gt,zt,vt,Ft=!1)=>{const Vt=je&&je.children,wn=je?je.shapeFlag:0,cn=ie.children,{patchFlag:An,shapeFlag:On}=ie;if(An>0){if(An&128){Lt(Vt,cn,xe,Be,pe,gt,zt,vt,Ft);return}else if(An&256){pt(Vt,cn,xe,Be,pe,gt,zt,vt,Ft);return}}On&8?(wn&16&&fn(Vt,pe,gt),cn!==Vt&&I(xe,cn)):wn&16?On&16?Lt(Vt,cn,xe,Be,pe,gt,zt,vt,Ft):fn(Vt,pe,gt,!0):(wn&8&&I(xe,""),On&16&&We(cn,xe,Be,pe,gt,zt,vt,Ft))},pt=(je,ie,xe,Be,pe,gt,zt,vt,Ft)=>{je=je||Vk,ie=ie||Vk;const Vt=je.length,wn=ie.length,cn=Math.min(Vt,wn);let An;for(An=0;An<cn;An++){const On=ie[An]=Ft?Fy(ie[An]):dv(ie[An]);ne(je[An],On,xe,null,pe,gt,zt,vt,Ft)}Vt>wn?fn(je,pe,gt,!0,!1,cn):We(ie,xe,Be,pe,gt,zt,vt,Ft,cn)},Lt=(je,ie,xe,Be,pe,gt,zt,vt,Ft)=>{let Vt=0;const wn=ie.length;let cn=je.length-1,An=wn-1;for(;Vt<=cn&&Vt<=An;){const On=je[Vt],wo=ie[Vt]=Ft?Fy(ie[Vt]):dv(ie[Vt]);if(eC(On,wo))ne(On,wo,xe,null,pe,gt,zt,vt,Ft);else break;Vt++}for(;Vt<=cn&&Vt<=An;){const On=je[cn],wo=ie[An]=Ft?Fy(ie[An]):dv(ie[An]);if(eC(On,wo))ne(On,wo,xe,null,pe,gt,zt,vt,Ft);else break;cn--,An--}if(Vt>cn){if(Vt<=An){const On=An+1,wo=On<wn?ie[On].el:Be;for(;Vt<=An;)ne(null,ie[Vt]=Ft?Fy(ie[Vt]):dv(ie[Vt]),xe,wo,pe,gt,zt,vt,Ft),Vt++}}else if(Vt>An)for(;Vt<=cn;)Ye(je[Vt],pe,gt,!0),Vt++;else{const On=Vt,wo=Vt,Do=new Map;for(Vt=wo;Vt<=An;Vt++){const vo=ie[Vt]=Ft?Fy(ie[Vt]):dv(ie[Vt]);vo.key!=null&&Do.set(vo.key,Vt)}let $o,cs=0;const ar=An-wo+1;let fs=!1,Ar=0;const hn=new Array(ar);for(Vt=0;Vt<ar;Vt++)hn[Vt]=0;for(Vt=On;Vt<=cn;Vt++){const vo=je[Vt];if(cs>=ar){Ye(vo,pe,gt,!0);continue}let or;if(vo.key!=null)or=Do.get(vo.key);else for($o=wo;$o<=An;$o++)if(hn[$o-wo]===0&&eC(vo,ie[$o])){or=$o;break}or===void 0?Ye(vo,pe,gt,!0):(hn[or-wo]=Vt+1,or>=Ar?Ar=or:fs=!0,ne(vo,ie[or],xe,null,pe,gt,zt,vt,Ft),cs++)}const Eo=fs?Fue(hn):Vk;for($o=Eo.length-1,Vt=ar-1;Vt>=0;Vt--){const vo=wo+Vt,or=ie[vo],ea=vo+1<wn?ie[vo+1].el:Be;hn[Vt]===0?ne(null,or,xe,ea,pe,gt,zt,vt,Ft):fs&&($o<0||Vt!==Eo[$o]?tt(or,xe,ea,2):$o--)}}},tt=(je,ie,xe,Be,pe=null)=>{const{el:gt,type:zt,transition:vt,children:Ft,shapeFlag:Vt}=je;if(Vt&6){tt(je.component.subTree,ie,xe,Be);return}if(Vt&128){je.suspense.move(ie,xe,Be);return}if(Vt&64){zt.move(je,ie,xe,eo);return}if(zt===us){d(gt,ie,xe);for(let cn=0;cn<Ft.length;cn++)tt(Ft[cn],ie,xe,Be);d(je.anchor,ie,xe);return}if(zt===$H){he(je,ie,xe);return}if(Be!==2&&Vt&1&&vt)if(Be===0)vt.beforeEnter(gt),d(gt,ie,xe),sf(()=>vt.enter(gt),pe);else{const{leave:cn,delayLeave:An,afterLeave:On}=vt,wo=()=>d(gt,ie,xe),Do=()=>{cn(gt,()=>{wo(),On&&On()})};An?An(gt,wo,Do):Do()}else d(gt,ie,xe)},Ye=(je,ie,xe,Be=!1,pe=!1)=>{const{type:gt,props:zt,ref:vt,children:Ft,dynamicChildren:Vt,shapeFlag:wn,patchFlag:cn,dirs:An,cacheIndex:On}=je;if(cn===-2&&(pe=!1),vt!=null&&x$(vt,null,xe,je,!0),On!=null&&(ie.renderCache[On]=void 0),wn&256){ie.ctx.deactivate(je);return}const wo=wn&1&&An,Do=!$O(je);let $o;if(Do&&($o=zt&&zt.onVnodeBeforeUnmount)&&lv($o,ie,je),wn&6)Fn(je.component,xe,Be);else{if(wn&128){je.suspense.unmount(xe,Be);return}wo&&Kw(je,null,ie,"beforeUnmount"),wn&64?je.type.remove(je,ie,xe,eo,Be):Vt&&!Vt.hasOnce&&(gt!==us||cn>0&&cn&64)?fn(Vt,ie,xe,!1,!0):(gt===us&&cn&384||!pe&&wn&16)&&fn(Ft,ie,xe),Be&&Mt(je)}(Do&&($o=zt&&zt.onVnodeUnmounted)||wo)&&sf(()=>{$o&&lv($o,ie,je),wo&&Kw(je,null,ie,"unmounted")},xe)},Mt=je=>{const{type:ie,el:xe,anchor:Be,transition:pe}=je;if(ie===us){oo(xe,Be);return}if(ie===$H){K(je);return}const gt=()=>{g(xe),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(je.shapeFlag&1&&pe&&!pe.persisted){const{leave:zt,delayLeave:vt}=pe,Ft=()=>zt(xe,gt);vt?vt(je.el,gt,Ft):Ft()}else gt()},oo=(je,ie)=>{let xe;for(;je!==ie;)xe=$(je),g(je),je=xe;g(ie)},Fn=(je,ie,xe)=>{const{bum:Be,scope:pe,job:gt,subTree:zt,um:vt,m:Ft,a:Vt}=je;VK(Ft),VK(Vt),Be&&QB(Be),pe.stop(),gt&&(gt.flags|=8,Ye(zt,je,ie,xe)),vt&&sf(vt,ie),sf(()=>{je.isUnmounted=!0},ie),ie&&ie.pendingBranch&&!ie.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===ie.pendingId&&(ie.deps--,ie.deps===0&&ie.resolve())},fn=(je,ie,xe,Be=!1,pe=!1,gt=0)=>{for(let zt=gt;zt<je.length;zt++)Ye(je[zt],ie,xe,Be,pe)},_n=je=>{if(je.shapeFlag&6)return _n(je.component.subTree);if(je.shapeFlag&128)return je.suspense.next();const ie=$(je.anchor||je.el),xe=ie&&ie[xY];return xe?$(xe):ie};let Q=!1;const xs=(je,ie,xe)=>{je==null?ie._vnode&&Ye(ie._vnode,null,null,!0):ne(ie._vnode||null,je,ie,null,null,null,xe),ie._vnode=je,Q||(Q=!0,OK(),vY(),Q=!1)},eo={p:ne,um:Ye,m:tt,r:Mt,mt:Ke,mc:We,pc:et,pbc:st,n:_n,o:n};let tn,Oo;return{render:xs,hydrate:tn,createApp:Aue(xs,tn)}}function zH({type:n,props:r},l){return l==="svg"&&n==="foreignObject"||l==="mathml"&&n==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function Gw({effect:n,job:r},l){l?(n.flags|=32,r.flags|=4):(n.flags&=-33,r.flags&=-5)}function Lue(n,r){return(!n||n&&!n.pendingBranch)&&r&&!r.persisted}function kU(n,r,l=!1){const d=n.children,g=r.children;if(ts(d)&&ts(g))for(let v=0;v<d.length;v++){const x=d[v];let S=g[v];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=g[v]=Fy(g[v]),S.el=x.el),!l&&S.patchFlag!==-2&&kU(x,S)),S.type===ED&&(S.el=x.el)}}function Fue(n){const r=n.slice(),l=[0];let d,g,v,x,S;const M=n.length;for(d=0;d<M;d++){const R=n[d];if(R!==0){if(g=l[l.length-1],n[g]<R){r[d]=g,l.push(d);continue}for(v=0,x=l.length-1;v<x;)S=v+x>>1,n[l[S]]<R?v=S+1:x=S;R<n[l[v]]&&(v>0&&(r[d]=l[v-1]),l[v]=d)}}for(v=l.length,x=l[v-1];v-- >0;)l[v]=x,x=r[x];return l}function ZY(n){const r=n.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:ZY(r)}function VK(n){if(n)for(let r=0;r<n.length;r++)n[r].flags|=8}const Vue=Symbol.for("v-scx"),zue=()=>wa(Vue);function uf(n,r){return EU(n,null,r)}function zn(n,r,l){return EU(n,r,l)}function EU(n,r,l=zi){const{immediate:d,deep:g,flush:v,once:x}=l,S=zl({},l);let M;if(ZL)if(v==="sync"){const $=zue();M=$.__watcherHandles||($.__watcherHandles=[])}else if(!r||d)S.once=!0;else{const $=()=>{};return $.stop=vv,$.resume=vv,$.pause=vv,$}const R=yc;S.call=($,G,X)=>jh($,R,G,X);let I=!1;v==="post"?S.scheduler=$=>{sf($,R&&R.suspense)}:v!=="sync"&&(I=!0,S.scheduler=($,G)=>{G?$():bU($)}),S.augmentJob=$=>{r&&($.flags|=4),I&&($.flags|=2,R&&($.id=R.uid,$.i=R))};const L=tue(n,r,S);return M&&M.push(L),L}function Hue(n,r,l){const d=this.proxy,g=Ka(n)?n.includes(".")?jY(d,n):()=>d[n]:n.bind(d,d);let v;Is(r)?v=r:(v=r.handler,l=r);const x=AD(this),S=EU(g,v.bind(d),l);return x(),S}function jY(n,r){const l=r.split(".");return()=>{let d=n;for(let g=0;g<l.length&&d;g++)d=d[l[g]];return d}}const $ue=(n,r)=>r==="modelValue"||r==="model-value"?n.modelModifiers:n[`${r}Modifiers`]||n[`${gm(r)}Modifiers`]||n[`${gC(r)}Modifiers`];function Uue(n,r,...l){if(n.isUnmounted)return;const d=n.vnode.props||zi;let g=l;const v=r.startsWith("update:"),x=v&&$ue(d,r.slice(7));x&&(x.trim&&(g=l.map(I=>Ka(I)?I.trim():I)),x.number&&(g=l.map(uL)));let S,M=d[S=NH(r)]||d[S=NH(gm(r))];!M&&v&&(M=d[S=NH(gC(r))]),M&&jh(M,n,6,g);const R=d[S+"Once"];if(R){if(!n.emitted)n.emitted={};else if(n.emitted[S])return;n.emitted[S]=!0,jh(R,n,6,g)}}function KY(n,r,l=!1){const d=r.emitsCache,g=d.get(n);if(g!==void 0)return g;const v=n.emits;let x={},S=!1;if(!Is(n)){const M=R=>{const I=KY(R,r,!0);I&&(S=!0,zl(x,I))};!l&&r.mixins.length&&r.mixins.forEach(M),n.extends&&M(n.extends),n.mixins&&n.mixins.forEach(M)}return!v&&!S?(Ai(n)&&d.set(n,null),null):(ts(v)?v.forEach(M=>x[M]=null):zl(x,v),Ai(n)&&d.set(n,x),x)}function WL(n,r){return!n||!BL(r)?!1:(r=r.slice(2).replace(/Once$/,""),di(n,r[0].toLowerCase()+r.slice(1))||di(n,gC(r))||di(n,r))}function HH(n){const{type:r,vnode:l,proxy:d,withProxy:g,propsOptions:[v],slots:x,attrs:S,emit:M,render:R,renderCache:I,props:L,data:$,setupState:G,ctx:X,inheritAttrs:ne}=n,ce=mL(n);let le,Me;try{if(l.shapeFlag&4){const K=g||d,ye=K;le=dv(R.call(ye,K,I,L,G,$,X)),Me=S}else{const K=r;le=dv(K.length>1?K(L,{attrs:S,slots:x,emit:M}):K(L,null)),Me=r.props?S:Wue(S)}}catch(K){WO.length=0,zL(K,n,1),le=j(xd)}let he=le;if(Me&&ne!==!1){const K=Object.keys(Me),{shapeFlag:ye}=he;K.length&&ye&7&&(v&&K.some(oU)&&(Me=Zue(Me,v)),he=T1(he,Me,!1,!0))}return l.dirs&&(he=T1(he,null,!1,!0),he.dirs=he.dirs?he.dirs.concat(l.dirs):l.dirs),l.transition&&cC(he,l.transition),le=he,mL(ce),le}const Wue=n=>{let r;for(const l in n)(l==="class"||l==="style"||BL(l))&&((r||(r={}))[l]=n[l]);return r},Zue=(n,r)=>{const l={};for(const d in n)(!oU(d)||!(d.slice(9)in r))&&(l[d]=n[d]);return l};function jue(n,r,l){const{props:d,children:g,component:v}=n,{props:x,children:S,patchFlag:M}=r,R=v.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&M>=0){if(M&1024)return!0;if(M&16)return d?zK(d,x,R):!!x;if(M&8){const I=r.dynamicProps;for(let L=0;L<I.length;L++){const $=I[L];if(x[$]!==d[$]&&!WL(R,$))return!0}}}else return(g||S)&&(!S||!S.$stable)?!0:d===x?!1:d?x?zK(d,x,R):!0:!!x;return!1}function zK(n,r,l){const d=Object.keys(r);if(d.length!==Object.keys(n).length)return!0;for(let g=0;g<d.length;g++){const v=d[g];if(r[v]!==n[v]&&!WL(l,v))return!0}return!1}function Kue({vnode:n,parent:r},l){for(;r;){const d=r.subTree;if(d.suspense&&d.suspense.activeBranch===n&&(d.el=n.el),d===n)(n=r.vnode).el=l,r=r.parent;else break}}const GY=n=>n.__isSuspense;function Gue(n,r){r&&r.pendingBranch?ts(n)?r.effects.push(...n):r.effects.push(n):sue(n)}const us=Symbol.for("v-fgt"),ED=Symbol.for("v-txt"),xd=Symbol.for("v-cmt"),$H=Symbol.for("v-stc"),WO=[];let cm=null;function Ln(n=!1){WO.push(cm=n?null:[])}function que(){WO.pop(),cm=WO[WO.length-1]||null}let QO=1;function HK(n){QO+=n,n<0&&cm&&(cm.hasOnce=!0)}function qY(n){return n.dynamicChildren=QO>0?cm||Vk:null,que(),QO>0&&cm&&cm.push(n),n}function ds(n,r,l,d,g,v){return qY(ke(n,r,l,d,g,v,!0))}function rr(n,r,l,d,g){return qY(j(n,r,l,d,g,!0))}function hL(n){return n?n.__v_isVNode===!0:!1}function eC(n,r){return n.type===r.type&&n.key===r.key}const YY=({key:n})=>n??null,tL=({ref:n,ref_key:r,ref_for:l})=>(typeof n=="number"&&(n=""+n),n!=null?Ka(n)||zr(n)||Is(n)?{i:wd,r:n,k:r,f:!!l}:n:null);function ke(n,r=null,l=null,d=0,g=null,v=n===us?0:1,x=!1,S=!1){const M={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&YY(r),ref:r&&tL(r),scopeId:yY,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:d,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:wd};return S?(AU(M,l),v&128&&n.normalize(M)):l&&(M.shapeFlag|=Ka(l)?8:16),QO>0&&!x&&cm&&(M.patchFlag>0||v&6)&&M.patchFlag!==32&&cm.push(M),M}const j=Yue;function Yue(n,r=null,l=null,d=0,g=null,v=!1){if((!n||n===bue)&&(n=xd),hL(n)){const S=T1(n,r,!0);return l&&AU(S,l),QO>0&&!v&&cm&&(S.shapeFlag&6?cm[cm.indexOf(n)]=S:cm.push(S)),S.patchFlag=-2,S}if(ide(n)&&(n=n.__vccOpts),r){r=Xue(r);let{class:S,style:M}=r;S&&!Ka(S)&&(r.class=Cd(S)),Ai(M)&&(gU(M)&&!ts(M)&&(M=zl({},M)),r.style=Uk(M))}const x=Ka(n)?1:GY(n)?128:wY(n)?64:Ai(n)?4:Is(n)?2:0;return ke(n,r,l,d,g,x,v,!0)}function Xue(n){return n?gU(n)||FY(n)?zl({},n):n:null}function T1(n,r,l=!1,d=!1){const{props:g,ref:v,patchFlag:x,children:S,transition:M}=n,R=r?Zo(g||{},r):g,I={__v_isVNode:!0,__v_skip:!0,type:n.type,props:R,key:R&&YY(R),ref:r&&r.ref?l&&v?ts(v)?v.concat(tL(r)):[v,tL(r)]:tL(r):v,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:S,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==us?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:M,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&T1(n.ssContent),ssFallback:n.ssFallback&&T1(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return M&&d&&cC(I,M.clone(I)),I}function Qr(n=" ",r=0){return j(ED,null,n,r)}function Ts(n="",r=!1){return r?(Ln(),rr(xd,null,n)):j(xd,null,n)}function dv(n){return n==null||typeof n=="boolean"?j(xd):ts(n)?j(us,null,n.slice()):typeof n=="object"?Fy(n):j(ED,null,String(n))}function Fy(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:T1(n)}function AU(n,r){let l=0;const{shapeFlag:d}=n;if(r==null)r=null;else if(ts(r))l=16;else if(typeof r=="object")if(d&65){const g=r.default;g&&(g._c&&(g._d=!1),AU(n,g()),g._c&&(g._d=!0));return}else{l=32;const g=r._;!g&&!FY(r)?r._ctx=wd:g===3&&wd&&(wd.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Is(r)?(r={default:r,_ctx:wd},l=32):(r=String(r),d&64?(l=16,r=[Qr(r)]):l=8);n.children=r,n.shapeFlag|=l}function Zo(...n){const r={};for(let l=0;l<n.length;l++){const d=n[l];for(const g in d)if(g==="class")r.class!==d.class&&(r.class=Cd([r.class,d.class]));else if(g==="style")r.style=Uk([r.style,d.style]);else if(BL(g)){const v=r[g],x=d[g];x&&v!==x&&!(ts(v)&&v.includes(x))&&(r[g]=v?[].concat(v,x):x)}else g!==""&&(r[g]=d[g])}return r}function lv(n,r,l,d=null){jh(n,r,7,[l,d])}const Jue=MY();let Que=0;function ede(n,r,l){const d=n.type,g=(r?r.appContext:n.appContext)||Jue,v={uid:Que++,vnode:n,type:d,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zY(d,g),emitsOptions:KY(d,g),emit:null,emitted:null,propsDefaults:zi,inheritAttrs:d.inheritAttrs,ctx:zi,data:zi,props:zi,attrs:zi,slots:zi,refs:zi,setupState:zi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=r?r.root:v,v.emit=Uue.bind(null,v),n.ce&&n.ce(v),v}let yc=null;const TU=()=>yc||wd;let pL,k$;{const n=jq(),r=(l,d)=>{let g;return(g=n[l])||(g=n[l]=[]),g.push(d),v=>{g.length>1?g.forEach(x=>x(v)):g[0](v)}};pL=r("__VUE_INSTANCE_SETTERS__",l=>yc=l),k$=r("__VUE_SSR_SETTERS__",l=>ZL=l)}const AD=n=>{const r=yc;return pL(n),n.scope.on(),()=>{n.scope.off(),pL(r)}},$K=()=>{yc&&yc.scope.off(),pL(null)};function XY(n){return n.vnode.shapeFlag&4}let ZL=!1;function tde(n,r=!1,l=!1){r&&k$(r);const{props:d,children:g}=n.vnode,v=XY(n);Oue(n,d,v,r),Nue(n,g,l);const x=v?nde(n,r):void 0;return r&&k$(!1),x}function nde(n,r){const l=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,xue);const{setup:d}=l;if(d){const g=n.setupContext=d.length>1?sde(n):null,v=AD(n);Yy();const x=kD(d,n,0,[n.props,g]);if(Xy(),v(),$q(x)){if($O(n)||OY(n),x.then($K,$K),r)return x.then(S=>{UK(n,S,r)}).catch(S=>{zL(S,n,0)});n.asyncDep=x}else UK(n,x,r)}else JY(n,r)}function UK(n,r,l){Is(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Ai(r)&&(n.setupState=mY(r)),JY(n,l)}let WK;function JY(n,r,l){const d=n.type;if(!n.render){if(!r&&WK&&!d.render){const g=d.template||_U(n).template;if(g){const{isCustomElement:v,compilerOptions:x}=n.appContext.config,{delimiters:S,compilerOptions:M}=d,R=zl(zl({isCustomElement:v,delimiters:S},x),M);d.render=WK(g,R)}}n.render=d.render||vv}{const g=AD(n);Yy();try{wue(n)}finally{Xy(),g()}}}const ode={get(n,r){return Du(n,"get",""),n[r]}};function sde(n){const r=l=>{n.exposed=l||{}};return{attrs:new Proxy(n.attrs,ode),slots:n.slots,emit:n.emit,expose:r}}function jL(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(mY(hU(n.exposed)),{get(r,l){if(l in r)return r[l];if(l in UO)return UO[l](n)},has(r,l){return l in r||l in UO}})):n.proxy}function rde(n,r=!0){return Is(n)?n.displayName||n.name:n.name||r&&n.__name}function ide(n){return Is(n)&&"__vccOpts"in n}const Ge=(n,r)=>Qce(n,r,ZL);function xv(n,r,l){const d=arguments.length;return d===2?Ai(r)&&!ts(r)?hL(r)?j(n,null,[r]):j(n,r):j(n,null,r):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&hL(l)&&(l=[l]),j(n,r,l))}const ade="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let E$;const ZK=typeof window<"u"&&window.trustedTypes;if(ZK)try{E$=ZK.createPolicy("vue",{createHTML:n=>n})}catch{}const QY=E$?n=>E$.createHTML(n):n=>n,lde="http://www.w3.org/2000/svg",cde="http://www.w3.org/1998/Math/MathML",y1=typeof document<"u"?document:null,jK=y1&&y1.createElement("template"),ude={insert:(n,r,l)=>{r.insertBefore(n,l||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,l,d)=>{const g=r==="svg"?y1.createElementNS(lde,n):r==="mathml"?y1.createElementNS(cde,n):l?y1.createElement(n,{is:l}):y1.createElement(n);return n==="select"&&d&&d.multiple!=null&&g.setAttribute("multiple",d.multiple),g},createText:n=>y1.createTextNode(n),createComment:n=>y1.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>y1.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,l,d,g,v){const x=l?l.previousSibling:r.lastChild;if(g&&(g===v||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),l),!(g===v||!(g=g.nextSibling)););else{jK.innerHTML=QY(d==="svg"?`<svg>${n}</svg>`:d==="mathml"?`<math>${n}</math>`:n);const S=jK.content;if(d==="svg"||d==="mathml"){const M=S.firstChild;for(;M.firstChild;)S.appendChild(M.firstChild);S.removeChild(M)}r.insertBefore(S,l)}return[x?x.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},Ry="transition",RO="animation",Wk=Symbol("_vtc"),eX={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tX=zl({},SY,eX),dde=n=>(n.displayName="Transition",n.props=tX,n),Zy=dde((n,{slots:r})=>xv(uue,nX(n),r)),qw=(n,r=[])=>{ts(n)?n.forEach(l=>l(...r)):n&&n(...r)},KK=n=>n?ts(n)?n.some(r=>r.length>1):n.length>1:!1;function nX(n){const r={};for(const Le in n)Le in eX||(r[Le]=n[Le]);if(n.css===!1)return r;const{name:l="v",type:d,duration:g,enterFromClass:v=`${l}-enter-from`,enterActiveClass:x=`${l}-enter-active`,enterToClass:S=`${l}-enter-to`,appearFromClass:M=v,appearActiveClass:R=x,appearToClass:I=S,leaveFromClass:L=`${l}-leave-from`,leaveActiveClass:$=`${l}-leave-active`,leaveToClass:G=`${l}-leave-to`}=n,X=fde(g),ne=X&&X[0],ce=X&&X[1],{onBeforeEnter:le,onEnter:Me,onEnterCancelled:he,onLeave:K,onLeaveCancelled:ye,onBeforeAppear:ae=le,onAppear:Ue=Me,onAppearCancelled:We=he}=r,qe=(Le,O,Ke)=>{Py(Le,O?I:S),Py(Le,O?R:x),Ke&&Ke()},st=(Le,O)=>{Le._isLeaving=!1,Py(Le,L),Py(Le,G),Py(Le,$),O&&O()},Ee=Le=>(O,Ke)=>{const ct=Le?Ue:Me,$t=()=>qe(O,Le,Ke);qw(ct,[O,$t]),GK(()=>{Py(O,Le?M:v),b1(O,Le?I:S),KK(ct)||qK(O,d,ne,$t)})};return zl(r,{onBeforeEnter(Le){qw(le,[Le]),b1(Le,v),b1(Le,x)},onBeforeAppear(Le){qw(ae,[Le]),b1(Le,M),b1(Le,R)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(Le,O){Le._isLeaving=!0;const Ke=()=>st(Le,O);b1(Le,L),b1(Le,$),sX(),GK(()=>{Le._isLeaving&&(Py(Le,L),b1(Le,G),KK(K)||qK(Le,d,ce,Ke))}),qw(K,[Le,Ke])},onEnterCancelled(Le){qe(Le,!1),qw(he,[Le])},onAppearCancelled(Le){qe(Le,!0),qw(We,[Le])},onLeaveCancelled(Le){st(Le),qw(ye,[Le])}})}function fde(n){if(n==null)return null;if(Ai(n))return[UH(n.enter),UH(n.leave)];{const r=UH(n);return[r,r]}}function UH(n){return vce(n)}function b1(n,r){r.split(/\s+/).forEach(l=>l&&n.classList.add(l)),(n[Wk]||(n[Wk]=new Set)).add(r)}function Py(n,r){r.split(/\s+/).forEach(d=>d&&n.classList.remove(d));const l=n[Wk];l&&(l.delete(r),l.size||(n[Wk]=void 0))}function GK(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let mde=0;function qK(n,r,l,d){const g=n._endId=++mde,v=()=>{g===n._endId&&d()};if(l)return setTimeout(v,l);const{type:x,timeout:S,propCount:M}=oX(n,r);if(!x)return d();const R=x+"end";let I=0;const L=()=>{n.removeEventListener(R,$),v()},$=G=>{G.target===n&&++I>=M&&L()};setTimeout(()=>{I<M&&L()},S+1),n.addEventListener(R,$)}function oX(n,r){const l=window.getComputedStyle(n),d=X=>(l[X]||"").split(", "),g=d(`${Ry}Delay`),v=d(`${Ry}Duration`),x=YK(g,v),S=d(`${RO}Delay`),M=d(`${RO}Duration`),R=YK(S,M);let I=null,L=0,$=0;r===Ry?x>0&&(I=Ry,L=x,$=v.length):r===RO?R>0&&(I=RO,L=R,$=M.length):(L=Math.max(x,R),I=L>0?x>R?Ry:RO:null,$=I?I===Ry?v.length:M.length:0);const G=I===Ry&&/\b(transform|all)(,|$)/.test(d(`${Ry}Property`).toString());return{type:I,timeout:L,propCount:$,hasTransform:G}}function YK(n,r){for(;n.length<r.length;)n=n.concat(n);return Math.max(...r.map((l,d)=>XK(l)+XK(n[d])))}function XK(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function sX(){return document.body.offsetHeight}function gde(n,r,l){const d=n[Wk];d&&(r=(r?[r,...d]:[...d]).join(" ")),r==null?n.removeAttribute("class"):l?n.setAttribute("class",r):n.className=r}const vL=Symbol("_vod"),rX=Symbol("_vsh"),Ao={beforeMount(n,{value:r},{transition:l}){n[vL]=n.style.display==="none"?"":n.style.display,l&&r?l.beforeEnter(n):IO(n,r)},mounted(n,{value:r},{transition:l}){l&&r&&l.enter(n)},updated(n,{value:r,oldValue:l},{transition:d}){!r!=!l&&(d?r?(d.beforeEnter(n),IO(n,!0),d.enter(n)):d.leave(n,()=>{IO(n,!1)}):IO(n,r))},beforeUnmount(n,{value:r}){IO(n,r)}};function IO(n,r){n.style.display=r?n[vL]:"none",n[rX]=!r}const hde=Symbol(""),pde=/(^|;)\s*display\s*:/;function vde(n,r,l){const d=n.style,g=Ka(l);let v=!1;if(l&&!g){if(r)if(Ka(r))for(const x of r.split(";")){const S=x.slice(0,x.indexOf(":")).trim();l[S]==null&&nL(d,S,"")}else for(const x in r)l[x]==null&&nL(d,x,"");for(const x in l)x==="display"&&(v=!0),nL(d,x,l[x])}else if(g){if(r!==l){const x=d[hde];x&&(l+=";"+x),d.cssText=l,v=pde.test(l)}}else r&&n.removeAttribute("style");vL in n&&(n[vL]=v?d.display:"",n[rX]&&(d.display="none"))}const JK=/\s*!important$/;function nL(n,r,l){if(ts(l))l.forEach(d=>nL(n,r,d));else if(l==null&&(l=""),r.startsWith("--"))n.setProperty(r,l);else{const d=bde(n,r);JK.test(l)?n.setProperty(gC(d),l.replace(JK,""),"important"):n[d]=l}}const QK=["Webkit","Moz","ms"],WH={};function bde(n,r){const l=WH[r];if(l)return l;let d=gm(r);if(d!=="filter"&&d in n)return WH[r]=d;d=D1(d);for(let g=0;g<QK.length;g++){const v=QK[g]+d;if(v in n)return WH[r]=v}return r}const eG="http://www.w3.org/1999/xlink";function tG(n,r,l,d,g,v=_ce(r)){d&&r.startsWith("xlink:")?l==null?n.removeAttributeNS(eG,r.slice(6,r.length)):n.setAttributeNS(eG,r,l):l==null||v&&!Kq(l)?n.removeAttribute(r):n.setAttribute(r,v?"":yv(l)?String(l):l)}function yde(n,r,l,d){if(r==="innerHTML"||r==="textContent"){l!=null&&(n[r]=r==="innerHTML"?QY(l):l);return}const g=n.tagName;if(r==="value"&&g!=="PROGRESS"&&!g.includes("-")){const x=g==="OPTION"?n.getAttribute("value")||"":n.value,S=l==null?n.type==="checkbox"?"on":"":String(l);(x!==S||!("_value"in n))&&(n.value=S),l==null&&n.removeAttribute(r),n._value=l;return}let v=!1;if(l===""||l==null){const x=typeof n[r];x==="boolean"?l=Kq(l):l==null&&x==="string"?(l="",v=!0):x==="number"&&(l=0,v=!0)}try{n[r]=l}catch{}v&&n.removeAttribute(r)}function Vy(n,r,l,d){n.addEventListener(r,l,d)}function xde(n,r,l,d){n.removeEventListener(r,l,d)}const nG=Symbol("_vei");function wde(n,r,l,d,g=null){const v=n[nG]||(n[nG]={}),x=v[r];if(d&&x)x.value=d;else{const[S,M]=Cde(r);if(d){const R=v[r]=kde(d,g);Vy(n,S,R,M)}else x&&(xde(n,S,x,M),v[r]=void 0)}}const oG=/(?:Once|Passive|Capture)$/;function Cde(n){let r;if(oG.test(n)){r={};let d;for(;d=n.match(oG);)n=n.slice(0,n.length-d[0].length),r[d[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gC(n.slice(2)),r]}let ZH=0;const _de=Promise.resolve(),Sde=()=>ZH||(_de.then(()=>ZH=0),ZH=Date.now());function kde(n,r){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;jh(Ede(d,l.value),r,5,[d])};return l.value=n,l.attached=Sde(),l}function Ede(n,r){if(ts(r)){const l=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{l.call(n),n._stopped=!0},r.map(d=>g=>!g._stopped&&d&&d(g))}else return r}const sG=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Ade=(n,r,l,d,g,v)=>{const x=g==="svg";r==="class"?gde(n,d,x):r==="style"?vde(n,l,d):BL(r)?oU(r)||wde(n,r,l,d,v):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Tde(n,r,d,x))?(yde(n,r,d),!n.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&tG(n,r,d,x,v,r!=="value")):(r==="true-value"?n._trueValue=d:r==="false-value"&&(n._falseValue=d),tG(n,r,d,x))};function Tde(n,r,l,d){if(d)return!!(r==="innerHTML"||r==="textContent"||r in n&&sG(r)&&Is(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=n.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return sG(r)&&Ka(l)?!1:!!(r in n||n._isVueCE&&(/[A-Z]/.test(r)||!Ka(l)))}const iX=new WeakMap,aX=new WeakMap,bL=Symbol("_moveCb"),rG=Symbol("_enterCb"),Ode=n=>(delete n.props.mode,n),Dde=Ode({name:"TransitionGroup",props:zl({},tX,{tag:String,moveClass:String}),setup(n,{slots:r}){const l=TU(),d=_Y();let g,v;return CU(()=>{if(!g.length)return;const x=n.moveClass||`${n.name||"v"}-move`;if(!Pde(g[0].el,l.vnode.el,x))return;g.forEach(Rde),g.forEach(Ide);const S=g.filter(Nde);sX(),S.forEach(M=>{const R=M.el,I=R.style;b1(R,x),I.transform=I.webkitTransform=I.transitionDuration="";const L=R[bL]=$=>{$&&$.target!==R||(!$||/transform$/.test($.propertyName))&&(R.removeEventListener("transitionend",L),R[bL]=null,Py(R,x))};R.addEventListener("transitionend",L)})}),()=>{const x=ss(n),S=nX(x);let M=x.tag||us;if(g=[],v)for(let R=0;R<v.length;R++){const I=v[R];I.el&&I.el instanceof Element&&(g.push(I),cC(I,JO(I,S,d,l)),iX.set(I,I.el.getBoundingClientRect()))}v=r.default?yU(r.default()):[];for(let R=0;R<v.length;R++){const I=v[R];I.key!=null&&cC(I,JO(I,S,d,l))}return j(M,null,v)}}}),OU=Dde;function Rde(n){const r=n.el;r[bL]&&r[bL](),r[rG]&&r[rG]()}function Ide(n){aX.set(n,n.el.getBoundingClientRect())}function Nde(n){const r=iX.get(n),l=aX.get(n),d=r.left-l.left,g=r.top-l.top;if(d||g){const v=n.el.style;return v.transform=v.webkitTransform=`translate(${d}px,${g}px)`,v.transitionDuration="0s",n}}function Pde(n,r,l){const d=n.cloneNode(),g=n[Wk];g&&g.forEach(S=>{S.split(/\s+/).forEach(M=>M&&d.classList.remove(M))}),l.split(/\s+/).forEach(S=>S&&d.classList.add(S)),d.style.display="none";const v=r.nodeType===1?r:r.parentNode;v.appendChild(d);const{hasTransform:x}=oX(d);return v.removeChild(d),x}const Zk=n=>{const r=n.props["onUpdate:modelValue"]||!1;return ts(r)?l=>QB(r,l):r};function Mde(n){n.target.composing=!0}function iG(n){const r=n.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const k1=Symbol("_assign"),jy={created(n,{modifiers:{lazy:r,trim:l,number:d}},g){n[k1]=Zk(g);const v=d||g.props&&g.props.type==="number";Vy(n,r?"change":"input",x=>{if(x.target.composing)return;let S=n.value;l&&(S=S.trim()),v&&(S=uL(S)),n[k1](S)}),l&&Vy(n,"change",()=>{n.value=n.value.trim()}),r||(Vy(n,"compositionstart",Mde),Vy(n,"compositionend",iG),Vy(n,"change",iG))},mounted(n,{value:r}){n.value=r??""},beforeUpdate(n,{value:r,oldValue:l,modifiers:{lazy:d,trim:g,number:v}},x){if(n[k1]=Zk(x),n.composing)return;const S=(v||n.type==="number")&&!/^0\d/.test(n.value)?uL(n.value):n.value,M=r??"";S!==M&&(document.activeElement===n&&n.type!=="range"&&(d&&r===l||g&&n.value.trim()===M)||(n.value=M))}},aG={deep:!0,created(n,r,l){n[k1]=Zk(l),Vy(n,"change",()=>{const d=n._modelValue,g=eD(n),v=n.checked,x=n[k1];if(ts(d)){const S=iU(d,g),M=S!==-1;if(v&&!M)x(d.concat(g));else if(!v&&M){const R=[...d];R.splice(S,1),x(R)}}else if(Jk(d)){const S=new Set(d);v?S.add(g):S.delete(g),x(S)}else x(lX(n,v))})},mounted:lG,beforeUpdate(n,r,l){n[k1]=Zk(l),lG(n,r,l)}};function lG(n,{value:r,oldValue:l},d){n._modelValue=r;let g;ts(r)?g=iU(r,d.props.value)>-1:Jk(r)?g=r.has(d.props.value):g=wD(r,lX(n,!0)),n.checked!==g&&(n.checked=g)}const zB={deep:!0,created(n,{value:r,modifiers:{number:l}},d){const g=Jk(r);Vy(n,"change",()=>{const v=Array.prototype.filter.call(n.options,x=>x.selected).map(x=>l?uL(eD(x)):eD(x));n[k1](n.multiple?g?new Set(v):v:v[0]),n._assigning=!0,Fs(()=>{n._assigning=!1})}),n[k1]=Zk(d)},mounted(n,{value:r,modifiers:{number:l}}){cG(n,r)},beforeUpdate(n,r,l){n[k1]=Zk(l)},updated(n,{value:r,modifiers:{number:l}}){n._assigning||cG(n,r)}};function cG(n,r,l){const d=n.multiple,g=ts(r);if(!(d&&!g&&!Jk(r))){for(let v=0,x=n.options.length;v<x;v++){const S=n.options[v],M=eD(S);if(d)if(g){const R=typeof M;R==="string"||R==="number"?S.selected=r.some(I=>String(I)===String(M)):S.selected=iU(r,M)>-1}else S.selected=r.has(M);else if(wD(eD(S),r)){n.selectedIndex!==v&&(n.selectedIndex=v);return}}!d&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function eD(n){return"_value"in n?n._value:n.value}function lX(n,r){const l=r?"_trueValue":"_falseValue";return l in n?n[l]:r}const Bde=zl({patchProp:Ade},ude);let uG;function Lde(){return uG||(uG=Mue(Bde))}const Fde=(...n)=>{const r=Lde().createApp(...n),{mount:l}=r;return r.mount=d=>{const g=zde(d);if(!g)return;const v=r._component;!Is(v)&&!v.render&&!v.template&&(v.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=l(g,!1,Vde(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function Vde(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function zde(n){return Ka(n)?document.querySelector(n):n}function Rg(n,r){let l;function d(){l=CD(),l.run(()=>r.length?r(()=>{l==null||l.stop(),d()}):r())}zn(n,g=>{g&&!l?d():g||(l==null||l.stop(),l=void 0)},{immediate:!0}),Ru(()=>{l==null||l.stop()})}const fi=typeof window<"u",DU=fi&&"IntersectionObserver"in window,Hde=fi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function dG(n,r,l){$de(n,r),r.set(n,l)}function $de(n,r){if(r.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ude(n,r,l){return n.set(cX(n,r),l),l}function Yw(n,r){return n.get(cX(n,r))}function cX(n,r,l){if(typeof n=="function"?n===r:n.has(r))return arguments.length<3?r:l;throw new TypeError("Private element is not present on this object")}function uX(n,r,l){const d=r.length-1;if(d<0)return n===void 0?l:n;for(let g=0;g<d;g++){if(n==null)return l;n=n[r[g]]}return n==null||n[r[d]]===void 0?l:n[r[d]]}function Qk(n,r){if(n===r)return!0;if(n instanceof Date&&r instanceof Date&&n.getTime()!==r.getTime()||n!==Object(n)||r!==Object(r))return!1;const l=Object.keys(n);return l.length!==Object.keys(r).length?!1:l.every(d=>Qk(n[d],r[d]))}function A$(n,r,l){return n==null||!r||typeof r!="string"?l:n[r]!==void 0?n[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),uX(n,r.split("."),l))}function fv(n,r,l){if(r===!0)return n===void 0?l:n;if(r==null||typeof r=="boolean")return l;if(n!==Object(n)){if(typeof r!="function")return l;const g=r(n,l);return typeof g>"u"?l:g}if(typeof r=="string")return A$(n,r,l);if(Array.isArray(r))return uX(n,r,l);if(typeof r!="function")return l;const d=r(n,l);return typeof d>"u"?l:d}function dX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(l,d)=>r+d)}function hs(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(n==null||n===""))return isNaN(+n)?String(n):isFinite(+n)?`${Number(n)}${r}`:void 0}function Wde(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function fG(n){let r;return n!==null&&typeof n=="object"&&((r=Object.getPrototypeOf(n))===Object.prototype||r===null)}function fX(n){if(n&&"$el"in n){const r=n.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return n}const mG=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function jH(n,r){return r.every(l=>n.hasOwnProperty(l))}function mX(n,r){const l={},d=new Set(Object.keys(n));for(const g of r)d.has(g)&&(l[g]=n[g]);return l}function gG(n,r,l){const d=Object.create(null),g=Object.create(null);for(const v in n)r.some(x=>x instanceof RegExp?x.test(v):x===v)&&!(l!=null&&l.some(x=>x===v))?d[v]=n[v]:g[v]=n[v];return[d,g]}function Qy(n,r){const l={...n};return r.forEach(d=>delete l[d]),l}function Zde(n,r){const l={};return r.forEach(d=>l[d]=n[d]),l}const gX=/^on[^a-z]/,RU=n=>gX.test(n),jde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function KL(n){const[r,l]=gG(n,[gX]),d=Qy(r,jde),[g,v]=gG(l,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(v,d),[g,v]}function rf(n){return n==null?[]:Array.isArray(n)?n:[n]}function Kde(n,r){let l=0;const d=function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];clearTimeout(l),l=setTimeout(()=>n(...v),re(r))};return d.clear=()=>{clearTimeout(l)},d.immediate=n,d}function $h(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(l,n))}function hG(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+l.repeat(Math.max(0,r-n.length))}function pG(n,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-n.length))+n}function Gde(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const l=[];let d=0;for(;d<n.length;)l.push(n.substr(d,r)),d+=r;return l}function Tu(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const d={};for(const g in n)d[g]=n[g];for(const g in r){const v=n[g],x=r[g];if(fG(v)&&fG(x)){d[g]=Tu(v,x,l);continue}if(l&&Array.isArray(v)&&Array.isArray(x)){d[g]=l(v,x);continue}d[g]=x}return d}function hX(n){return n.map(r=>r.type===us?hX(r.children):r).flat()}function rC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(rC.cache.has(n))return rC.cache.get(n);const r=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return rC.cache.set(n,r),r}rC.cache=new Map;function Mk(n,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(l=>Mk(n,l)).flat(1);if(r.suspense)return Mk(n,r.ssContent);if(Array.isArray(r.children))return r.children.map(l=>Mk(n,l)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(n))return[r.component];if(r.component.subTree)return Mk(n,r.component.subTree).flat(1)}return[]}var HB=new WeakMap,Sk=new WeakMap;class qde{constructor(r){dG(this,HB,[]),dG(this,Sk,0),this.size=r}push(r){Yw(HB,this)[Yw(Sk,this)]=r,Ude(Sk,this,(Yw(Sk,this)+1)%this.size)}values(){return Yw(HB,this).slice(Yw(Sk,this)).concat(Yw(HB,this).slice(0,Yw(Sk,this)))}}function IU(n){const r=ec({}),l=Ge(n);return uf(()=>{for(const d in l.value)r[d]=l.value[d]},{flush:"sync"}),SD(r)}function yL(n,r){return n.includes(r)}function pX(n){return n[2].toLowerCase()+n.slice(3)}const af=()=>[Function,Array];function vG(n,r){return r="on"+D1(r),!!(n[r]||n[`${r}Once`]||n[`${r}Capture`]||n[`${r}OnceCapture`]||n[`${r}CaptureOnce`])}function vX(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];if(Array.isArray(n))for(const g of n)g(...l);else typeof n=="function"&&n(...l)}function tD(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(d=>`${d}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(l)]}function bX(n,r,l){let d,g=n.indexOf(document.activeElement);const v=r==="next"?1:-1;do g+=v,d=n[g];while((!d||d.offsetParent==null||!((l==null?void 0:l(d))??!0))&&g<n.length&&g>=0);return d}function ZO(n,r){var d,g,v,x;const l=tD(n);if(!r)(n===document.activeElement||!n.contains(document.activeElement))&&((d=l[0])==null||d.focus());else if(r==="first")(g=l[0])==null||g.focus();else if(r==="last")(v=l.at(-1))==null||v.focus();else if(typeof r=="number")(x=l[r])==null||x.focus();else{const S=bX(l,r);S?S.focus():ZO(n,r==="next"?"first":"last")}}function Yde(){}function jk(n,r){if(!(fi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!n&&n.matches(r)}catch{return null}}function NU(n){return n.some(r=>hL(r)?r.type===xd?!1:r.type!==us||NU(r.children):!0)?n:null}function Xde(n,r){if(!fi||n===0)return r(),()=>{};const l=window.setTimeout(r,n);return()=>window.clearTimeout(l)}function Jde(n,r){const l=n.clientX,d=n.clientY,g=r.getBoundingClientRect(),v=g.left,x=g.top,S=g.right,M=g.bottom;return l>=v&&l<=S&&d>=x&&d<=M}function T$(){const n=To(),r=l=>{n.value=l};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>n.value,set:l=>n.value=l}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>fX(n.value)}),r}function O$(n){const r=n.key.length===1,l=!n.ctrlKey&&!n.metaKey&&!n.altKey;return r&&l}const yX=["top","bottom"],Qde=["start","end","left","right"];function D$(n,r){let[l,d]=n.split(" ");return d||(d=yL(yX,l)?"start":yL(Qde,l)?"top":"center"),{side:R$(l,r),align:R$(d,r)}}function R$(n,r){return n==="start"?r?"right":"left":n==="end"?r?"left":"right":n}function KH(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function GH(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function bG(n){return{side:n.align,align:n.side}}function yG(n){return yL(yX,n.side)?"y":"x"}class iC{constructor(r){let{x:l,y:d,width:g,height:v}=r;this.x=l,this.y=d,this.width=g,this.height=v}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function xG(n,r){return{x:{before:Math.max(0,r.left-n.left),after:Math.max(0,n.right-r.right)},y:{before:Math.max(0,r.top-n.top),after:Math.max(0,n.bottom-r.bottom)}}}function xX(n){return Array.isArray(n)?new iC({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function PU(n){const r=n.getBoundingClientRect(),l=getComputedStyle(n),d=l.transform;if(d){let g,v,x,S,M;if(d.startsWith("matrix3d("))g=d.slice(9,-1).split(/, /),v=+g[0],x=+g[5],S=+g[12],M=+g[13];else if(d.startsWith("matrix("))g=d.slice(7,-1).split(/, /),v=+g[0],x=+g[3],S=+g[4],M=+g[5];else return new iC(r);const R=l.transformOrigin,I=r.x-S-(1-v)*parseFloat(R),L=r.y-M-(1-x)*parseFloat(R.slice(R.indexOf(" ")+1)),$=v?r.width/v:n.offsetWidth+1,G=x?r.height/x:n.offsetHeight+1;return new iC({x:I,y:L,width:$,height:G})}else return new iC(r)}function Bk(n,r,l){if(typeof n.animate>"u")return{finished:Promise.resolve()};let d;try{d=n.animate(r,l)}catch{return{finished:Promise.resolve()}}return typeof d.finished>"u"&&(d.finished=new Promise(g=>{d.onfinish=()=>{g(d)}})),d}const oL=new WeakMap;function efe(n,r){Object.keys(r).forEach(l=>{if(RU(l)){const d=pX(l),g=oL.get(n);if(r[l]==null)g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))});else if(!g||![...g].some(v=>v[0]===d&&v[1]===r[l])){n.addEventListener(d,r[l]);const v=g||new Set;v.add([d,r[l]]),oL.has(n)||oL.set(n,v)}}else r[l]==null?n.removeAttribute(l):n.setAttribute(l,r[l])})}function tfe(n,r){Object.keys(r).forEach(l=>{if(RU(l)){const d=pX(l),g=oL.get(n);g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))})}else n.removeAttribute(l)})}const kk=2.4,wG=.2126729,CG=.7151522,_G=.072175,nfe=.55,ofe=.58,sfe=.57,rfe=.62,$B=.03,SG=1.45,ife=5e-4,afe=1.25,lfe=1.25,kG=.078,EG=12.82051282051282,UB=.06,AG=.001;function TG(n,r){const l=(n.r/255)**kk,d=(n.g/255)**kk,g=(n.b/255)**kk,v=(r.r/255)**kk,x=(r.g/255)**kk,S=(r.b/255)**kk;let M=l*wG+d*CG+g*_G,R=v*wG+x*CG+S*_G;if(M<=$B&&(M+=($B-M)**SG),R<=$B&&(R+=($B-R)**SG),Math.abs(R-M)<ife)return 0;let I;if(R>M){const L=(R**nfe-M**ofe)*afe;I=L<AG?0:L<kG?L-L*EG*UB:L-UB}else{const L=(R**rfe-M**sfe)*lfe;I=L>-AG?0:L>-kG?L-L*EG*UB:L+UB}return I*100}function cfe(n,r){r=Array.isArray(r)?r.slice(0,-1).map(l=>`'${l}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const xL=.20689655172413793,ufe=n=>n>xL**3?Math.cbrt(n):n/(3*xL**2)+4/29,dfe=n=>n>xL?n**3:3*xL**2*(n-4/29);function wX(n){const r=ufe,l=r(n[1]);return[116*l-16,500*(r(n[0]/.95047)-l),200*(l-r(n[2]/1.08883))]}function CX(n){const r=dfe,l=(n[0]+16)/116;return[r(l+n[1]/500)*.95047,r(l),r(l-n[2]/200)*1.08883]}const ffe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],mfe=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,gfe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],hfe=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function _X(n){const r=Array(3),l=mfe,d=ffe;for(let g=0;g<3;++g)r[g]=Math.round($h(l(d[g][0]*n[0]+d[g][1]*n[1]+d[g][2]*n[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function MU(n){let{r,g:l,b:d}=n;const g=[0,0,0],v=hfe,x=gfe;r=v(r/255),l=v(l/255),d=v(d/255);for(let S=0;S<3;++S)g[S]=x[S][0]*r+x[S][1]*l+x[S][2]*d;return g}function I$(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function pfe(n){return I$(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const OG=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,vfe={rgb:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),rgba:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),hsl:(n,r,l,d)=>DG({h:n,s:r,l,a:d}),hsla:(n,r,l,d)=>DG({h:n,s:r,l,a:d}),hsv:(n,r,l,d)=>nD({h:n,s:r,v:l,a:d}),hsva:(n,r,l,d)=>nD({h:n,s:r,v:l,a:d})};function gv(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&OG.test(n)){const{groups:r}=n.match(OG),{fn:l,values:d}=r,g=d.split(/,\s*/).map(v=>v.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(l)?parseFloat(v)/100:parseFloat(v));return vfe[l](...g)}else if(typeof n=="string"){let r=n.startsWith("#")?n.slice(1):n;return[3,4].includes(r.length)?r=r.split("").map(l=>l+l).join(""):[6,8].includes(r.length),yfe(r)}else if(typeof n=="object"){if(jH(n,["r","g","b"]))return n;if(jH(n,["h","s","l"]))return nD(SX(n));if(jH(n,["h","s","v"]))return nD(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function nD(n){const{h:r,s:l,v:d,a:g}=n,v=S=>{const M=(S+r/60)%6;return d-d*l*Math.max(Math.min(M,4-M,1),0)},x=[v(5),v(3),v(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:g}}function DG(n){return nD(SX(n))}function SX(n){const{h:r,s:l,l:d,a:g}=n,v=d+l*Math.min(d,1-d),x=v===0?0:2-2*d/v;return{h:r,s:x,v,a:g}}function WB(n){const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function bfe(n){let{r,g:l,b:d,a:g}=n;return`#${[WB(r),WB(l),WB(d),g!==void 0?WB(Math.round(g*255)):""].join("")}`}function yfe(n){n=xfe(n);let[r,l,d,g]=Gde(n,2).map(v=>parseInt(v,16));return g=g===void 0?g:g/255,{r,g:l,b:d,a:g}}function xfe(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&(n=hG(hG(n,6),8,"F")),n}function wfe(n,r){const l=wX(MU(n));return l[0]=l[0]+r*10,_X(CX(l))}function Cfe(n,r){const l=wX(MU(n));return l[0]=l[0]-r*10,_X(CX(l))}function _fe(n){const r=gv(n);return MU(r)[1]}function kX(n){const r=Math.abs(TG(gv(0),gv(n)));return Math.abs(TG(gv(16777215),gv(n)))>Math.min(r,50)?"#fff":"#000"}function Dn(n,r){return l=>Object.keys(n).reduce((d,g)=>{const x=typeof n[g]=="object"&&n[g]!=null&&!Array.isArray(n[g])?n[g]:{type:n[g]};return l&&g in l?d[g]={...x,default:l[g]}:d[g]=x,r&&!d[g].source&&(d[g].source=r),d},{})}const Vs=Dn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Tl(n,r){const l=TU();if(!l)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return l}function Cv(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=Tl(n).type;return rC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}let EX=0,sL=new WeakMap;function Ig(){const n=Tl("getUid");if(sL.has(n))return sL.get(n);{const r=EX++;return sL.set(n,r),r}}Ig.reset=()=>{EX=0,sL=new WeakMap};function Sfe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tl("injectSelf");const{provides:l}=r;if(l&&n in l)return l[n]}const Kk=Symbol.for("vuetify:defaults");function kfe(n){return Mn(n)}function BU(){const n=wa(Kk);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function ex(n,r){const l=BU(),d=Mn(n),g=Ge(()=>{if(re(r==null?void 0:r.disabled))return l.value;const x=re(r==null?void 0:r.scoped),S=re(r==null?void 0:r.reset),M=re(r==null?void 0:r.root);if(d.value==null&&!(x||S||M))return l.value;let R=Tu(d.value,{prev:l.value});if(x)return R;if(S||M){const I=Number(S||1/0);for(let L=0;L<=I&&!(!R||!("prev"in R));L++)R=R.prev;return R&&typeof M=="string"&&M in R&&(R=Tu(Tu(R,{prev:R}),R[M])),R}return R.prev?Tu(R.prev,R):R});return _d(Kk,g),g}function Efe(n,r){var l,d;return typeof((l=n.props)==null?void 0:l[r])<"u"||typeof((d=n.props)==null?void 0:d[rC(r)])<"u"}function Afe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BU();const d=Tl("useDefaults");if(r=r??d.type.name??d.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=Ge(()=>{var M;return(M=l.value)==null?void 0:M[n._as??r]}),v=new Proxy(n,{get(M,R){var L,$,G,X,ne,ce,le;const I=Reflect.get(M,R);return R==="class"||R==="style"?[(L=g.value)==null?void 0:L[R],I].filter(Me=>Me!=null):typeof R=="string"&&!Efe(d.vnode,R)?(($=g.value)==null?void 0:$[R])!==void 0?(G=g.value)==null?void 0:G[R]:((ne=(X=l.value)==null?void 0:X.global)==null?void 0:ne[R])!==void 0?(le=(ce=l.value)==null?void 0:ce.global)==null?void 0:le[R]:I:I}}),x=To();uf(()=>{if(g.value){const M=Object.entries(g.value).filter(R=>{let[I]=R;return I.startsWith(I[0].toUpperCase())});x.value=M.length?Object.fromEntries(M):void 0}else x.value=void 0});function S(){const M=Sfe(Kk,d);_d(Kk,Ge(()=>x.value?Tu((M==null?void 0:M.value)??{},x.value):M==null?void 0:M.value))}return{props:v,provideSubDefaults:S}}function eE(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=Dn(n.props??{},n.name)();const r=Object.keys(n.props).filter(l=>l!=="class"&&l!=="style");n.filterProps=function(d){return mX(d,r)},n.props._as=String,n.setup=function(d,g){const v=BU();if(!v.value)return n._setup(d,g);const{props:x,provideSubDefaults:S}=Afe(d,d._as??n.name,v),M=n._setup(x,g);return S(),M}}return n}function Io(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(n?eE:TY)(r)}function GL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return Io()({name:l??D1(gm(n.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...Vs()},setup(d,g){let{slots:v}=g;return()=>{var x;return xv(d.tag,{class:[n,d.class],style:d.style},(x=v.default)==null?void 0:x.call(v))}}})}function AX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const r=n.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const wL="cubic-bezier(0.4, 0, 0.2, 1)",Tfe="cubic-bezier(0.0, 0, 0.2, 1)",Ofe="cubic-bezier(0.4, 0, 1, 1)";function TX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(r?Dfe(n):LU(n))return n;n=n.parentElement}return document.scrollingElement}function CL(n,r){const l=[];if(r&&n&&!r.contains(n))return l;for(;n&&(LU(n)&&l.push(n),n!==r);)n=n.parentElement;return l}function LU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return r.overflowY==="scroll"||r.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Dfe(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return["scroll","auto"].includes(r.overflowY)}function Rfe(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function vs(n){const r=Tl("useRender");r.render=n}function Hi(n,r,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L=>L,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:L=>L;const v=Tl("useProxiedModel"),x=Mn(n[r]!==void 0?n[r]:l),S=rC(r),R=Ge(S!==r?()=>{var L,$,G,X;return n[r],!!(((L=v.vnode.props)!=null&&L.hasOwnProperty(r)||($=v.vnode.props)!=null&&$.hasOwnProperty(S))&&((G=v.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${r}`)||(X=v.vnode.props)!=null&&X.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var L,$;return n[r],!!((L=v.vnode.props)!=null&&L.hasOwnProperty(r)&&(($=v.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${r}`)))});Rg(()=>!R.value,()=>{zn(()=>n[r],L=>{x.value=L})});const I=Ge({get(){const L=n[r];return d(R.value?L:x.value)},set(L){const $=g(L),G=ss(R.value?n[r]:x.value);G===$||d(G)===L||(x.value=$,v==null||v.emit(`update:${r}`,$))}});return Object.defineProperty(I,"externalValue",{get:()=>R.value?n[r]:x.value}),I}const Ife={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},RG="$vuetify.",IG=(n,r)=>n.replace(/\{(\d+)\}/g,(l,d)=>String(r[+d])),OX=(n,r,l)=>function(d){for(var g=arguments.length,v=new Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];if(!d.startsWith(RG))return IG(d,v);const S=d.replace(RG,""),M=n.value&&l.value[n.value],R=r.value&&l.value[r.value];let I=A$(M,S,null);return I||(`${d}${n.value}`,I=A$(R,S,null)),I||(I=d),typeof I!="string"&&(I=d),IG(I,v)};function DX(n,r){return(l,d)=>new Intl.NumberFormat([n.value,r.value],d).format(l)}function qH(n,r,l){const d=Hi(n,r,n[r]??l.value);return d.value=n[r]??l.value,zn(l,g=>{n[r]==null&&(d.value=l.value)}),d}function RX(n){return r=>{const l=qH(r,"locale",n.current),d=qH(r,"fallback",n.fallback),g=qH(r,"messages",n.messages);return{name:"vuetify",current:l,fallback:d,messages:g,t:OX(l,d,g),n:DX(l,d),provide:RX({current:l,fallback:d,messages:g})}}}function Nfe(n){const r=To((n==null?void 0:n.locale)??"en"),l=To((n==null?void 0:n.fallback)??"en"),d=Mn({en:Ife,...n==null?void 0:n.messages});return{name:"vuetify",current:r,fallback:l,messages:d,t:OX(r,l,d),n:DX(r,l),provide:RX({current:r,fallback:l,messages:d})}}const _L=Symbol.for("vuetify:locale");function Pfe(n){return n.name!=null}function Mfe(n){const r=n!=null&&n.adapter&&Pfe(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Nfe(n),l=Lfe(r,n);return{...r,...l}}function TD(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Bfe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Lfe(n,r){const l=Mn((r==null?void 0:r.rtl)??Bfe()),d=Ge(()=>l.value[n.current.value]??!1);return{isRtl:d,rtl:l,rtlClasses:Ge(()=>`v-locale--is-${d.value?"rtl":"ltr"}`)}}function Ng(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}const qL={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Ffe(n,r,l){const d=[];let g=[];const v=IX(n),x=NX(n),S=l??qL[r.slice(-2).toUpperCase()]??0,M=(v.getDay()-S+7)%7,R=(x.getDay()-S+7)%7;for(let I=0;I<M;I++){const L=new Date(v);L.setDate(L.getDate()-(M-I)),g.push(L)}for(let I=1;I<=x.getDate();I++){const L=new Date(n.getFullYear(),n.getMonth(),I);g.push(L),g.length===7&&(d.push(g),g=[])}for(let I=1;I<7-R;I++){const L=new Date(x);L.setDate(L.getDate()+I),g.push(L)}return g.length>0&&d.push(g),d}function Vfe(n,r,l){const d=l??qL[r.slice(-2).toUpperCase()]??0,g=new Date(n);for(;g.getDay()!==d;)g.setDate(g.getDate()-1);return g}function zfe(n,r){const l=new Date(n),d=((qL[r.slice(-2).toUpperCase()]??0)+6)%7;for(;l.getDay()!==d;)l.setDate(l.getDate()+1);return l}function IX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function NX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function Hfe(n){const r=n.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const $fe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function PX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let r;if($fe.test(n))return Hfe(n);if(r=Date.parse(n),!isNaN(r))return new Date(r)}return null}const NG=new Date(2e3,0,2);function Ufe(n,r){const l=r??qL[n.slice(-2).toUpperCase()]??0;return dX(7).map(d=>{const g=new Date(NG);return g.setDate(NG.getDate()+l+d),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(g)})}function Wfe(n,r,l,d){const g=PX(n)??new Date,v=d==null?void 0:d[r];if(typeof v=="function")return v(g,r,l);let x={};switch(r){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=g.getDate(),M=new Intl.DateTimeFormat(l,{month:"long"}).format(g);return`${S} ${M}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(l).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=v??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(l,x).format(g)}function Zfe(n,r){const l=n.toJsDate(r),d=l.getFullYear(),g=pG(String(l.getMonth()+1),2,"0"),v=pG(String(l.getDate()),2,"0");return`${d}-${g}-${v}`}function jfe(n){const[r,l,d]=n.split("-").map(Number);return new Date(r,l-1,d)}function Kfe(n,r){const l=new Date(n);return l.setMinutes(l.getMinutes()+r),l}function Gfe(n,r){const l=new Date(n);return l.setHours(l.getHours()+r),l}function qfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r),l}function Yfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r*7),l}function Xfe(n,r){const l=new Date(n);return l.setDate(1),l.setMonth(l.getMonth()+r),l}function Jfe(n){return n.getFullYear()}function Qfe(n){return n.getMonth()}function eme(n){return n.getDate()}function tme(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function nme(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function ome(n){return n.getHours()}function sme(n){return n.getMinutes()}function rme(n){return new Date(n.getFullYear(),0,1)}function ime(n){return new Date(n.getFullYear(),11,31)}function ame(n,r){return SL(n,r[0])&&ume(n,r[1])}function lme(n){const r=new Date(n);return r instanceof Date&&!isNaN(r.getTime())}function SL(n,r){return n.getTime()>r.getTime()}function cme(n,r){return SL(N$(n),N$(r))}function ume(n,r){return n.getTime()<r.getTime()}function PG(n,r){return n.getTime()===r.getTime()}function dme(n,r){return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function fme(n,r){return n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function mme(n,r){return n.getFullYear()===r.getFullYear()}function gme(n,r,l){const d=new Date(n),g=new Date(r);switch(l){case"years":return d.getFullYear()-g.getFullYear();case"quarters":return Math.floor((d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12)/4);case"months":return d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((d.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((d.getTime()-g.getTime())/1e3);default:return d.getTime()-g.getTime()}}function hme(n,r){const l=new Date(n);return l.setHours(r),l}function pme(n,r){const l=new Date(n);return l.setMinutes(r),l}function vme(n,r){const l=new Date(n);return l.setMonth(r),l}function bme(n,r){const l=new Date(n);return l.setDate(r),l}function yme(n,r){const l=new Date(n);return l.setFullYear(r),l}function N$(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function xme(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class wme{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return PX(r)}toJsDate(r){return r}toISO(r){return Zfe(this,r)}parseISO(r){return jfe(r)}addMinutes(r,l){return Kfe(r,l)}addHours(r,l){return Gfe(r,l)}addDays(r,l){return qfe(r,l)}addWeeks(r,l){return Yfe(r,l)}addMonths(r,l){return Xfe(r,l)}getWeekArray(r,l){return Ffe(r,this.locale,l?Number(l):void 0)}startOfWeek(r,l){return Vfe(r,this.locale,l?Number(l):void 0)}endOfWeek(r){return zfe(r,this.locale)}startOfMonth(r){return IX(r)}endOfMonth(r){return NX(r)}format(r,l){return Wfe(r,l,this.locale,this.formats)}isEqual(r,l){return PG(r,l)}isValid(r){return lme(r)}isWithinRange(r,l){return ame(r,l)}isAfter(r,l){return SL(r,l)}isAfterDay(r,l){return cme(r,l)}isBefore(r,l){return!SL(r,l)&&!PG(r,l)}isSameDay(r,l){return dme(r,l)}isSameMonth(r,l){return fme(r,l)}isSameYear(r,l){return mme(r,l)}setMinutes(r,l){return pme(r,l)}setHours(r,l){return hme(r,l)}setMonth(r,l){return vme(r,l)}setDate(r,l){return bme(r,l)}setYear(r,l){return yme(r,l)}getDiff(r,l,d){return gme(r,l,d)}getWeekdays(r){return Ufe(this.locale,r?Number(r):void 0)}getYear(r){return Jfe(r)}getMonth(r){return Qfe(r)}getDate(r){return eme(r)}getNextMonth(r){return tme(r)}getPreviousMonth(r){return nme(r)}getHours(r){return ome(r)}getMinutes(r){return sme(r)}startOfDay(r){return N$(r)}endOfDay(r){return xme(r)}startOfYear(r){return rme(r)}endOfYear(r){return ime(r)}}const Cme=Symbol.for("vuetify:date-options"),MG=Symbol.for("vuetify:date-adapter");function _me(n,r){const l=Tu({adapter:wme,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:l,instance:Sme(l,r)}}function Sme(n,r){const l=ec(typeof n.adapter=="function"?new n.adapter({locale:n.locale[r.current.value]??r.current.value,formats:n.formats}):n.adapter);return zn(r.current,d=>{l.locale=n.locale[d]??d??l.locale}),l}const YL=["sm","md","lg","xl","xxl"],P$=Symbol.for("vuetify:display"),BG={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},kme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BG;return Tu(BG,n)};function LG(n){return fi&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function FG(n){return fi&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function VG(n){const r=fi&&!n?window.navigator.userAgent:"ssr";function l(X){return!!r.match(X)}const d=l(/android/i),g=l(/iphone|ipad|ipod/i),v=l(/cordova/i),x=l(/electron/i),S=l(/chrome/i),M=l(/edge/i),R=l(/firefox/i),I=l(/opera/i),L=l(/win/i),$=l(/mac/i),G=l(/linux/i);return{android:d,ios:g,cordova:v,electron:x,chrome:S,edge:M,firefox:R,opera:I,win:L,mac:$,linux:G,touch:Hde,ssr:r==="ssr"}}function Eme(n,r){const{thresholds:l,mobileBreakpoint:d}=kme(n),g=To(FG(r)),v=To(VG(r)),x=ec({}),S=To(LG(r));function M(){g.value=FG(),S.value=LG()}function R(){M(),v.value=VG()}return uf(()=>{const I=S.value<l.sm,L=S.value<l.md&&!I,$=S.value<l.lg&&!(L||I),G=S.value<l.xl&&!($||L||I),X=S.value<l.xxl&&!(G||$||L||I),ne=S.value>=l.xxl,ce=I?"xs":L?"sm":$?"md":G?"lg":X?"xl":"xxl",le=typeof d=="number"?d:l[d],Me=S.value<le;x.xs=I,x.sm=L,x.md=$,x.lg=G,x.xl=X,x.xxl=ne,x.smAndUp=!I,x.mdAndUp=!(I||L),x.lgAndUp=!(I||L||$),x.xlAndUp=!(I||L||$||G),x.smAndDown=!($||G||X||ne),x.mdAndDown=!(G||X||ne),x.lgAndDown=!(X||ne),x.xlAndDown=!ne,x.name=ce,x.height=g.value,x.width=S.value,x.mobile=Me,x.mobileBreakpoint=d,x.platform=v.value,x.thresholds=l}),fi&&window.addEventListener("resize",M,{passive:!0}),{...SD(x),update:R,ssr:!!r}}const MX=Dn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function XL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=wa(P$);if(!l)throw new Error("Could not find Vuetify display injection");const d=Ge(()=>{if(n.mobile!=null)return n.mobile;if(!n.mobileBreakpoint)return l.mobile.value;const v=typeof n.mobileBreakpoint=="number"?n.mobileBreakpoint:l.thresholds.value[n.mobileBreakpoint];return l.width.value<v}),g=Ge(()=>r?{[`${r}--mobile`]:d.value}:{});return{...l,displayClasses:g,mobile:d}}const BX=Symbol.for("vuetify:goto");function LX(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function Ame(n){return FU(n)??(document.scrollingElement||document.body)}function FU(n){return typeof n=="string"?document.querySelector(n):fX(n)}function YH(n,r,l){if(typeof n=="number")return r&&l?-n:n;let d=FU(n),g=0;for(;d;)g+=r?d.offsetLeft:d.offsetTop,d=d.offsetParent;return g}function Tme(n,r){return{rtl:r.isRtl,options:Tu(LX(),n)}}async function zG(n,r,l,d){const g=l?"scrollLeft":"scrollTop",v=Tu((d==null?void 0:d.options)??LX(),r),x=d==null?void 0:d.rtl.value,S=(typeof n=="number"?n:FU(n))??0,M=v.container==="parent"&&S instanceof HTMLElement?S.parentElement:Ame(v.container),R=typeof v.easing=="function"?v.easing:v.patterns[v.easing];if(!R)throw new TypeError(`Easing function "${v.easing}" not found.`);let I;if(typeof S=="number")I=YH(S,l,x);else if(I=YH(S,l,x)-YH(M,l,x),v.layout){const X=window.getComputedStyle(S).getPropertyValue("--v-layout-top");X&&(I-=parseInt(X,10))}I+=v.offset,I=Dme(M,I,!!x,!!l);const L=M[g]??0;if(I===L)return Promise.resolve(I);const $=performance.now();return new Promise(G=>requestAnimationFrame(function X(ne){const le=(ne-$)/v.duration,Me=Math.floor(L+(I-L)*R($h(le,0,1)));if(M[g]=Me,le>=1&&Math.abs(Me-M[g])<10)return G(I);if(le>2)return G(M[g]);requestAnimationFrame(X)}))}function Ome(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=wa(BX),{isRtl:l}=Ng();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const d={...r,rtl:Ge(()=>r.rtl.value||l.value)};async function g(v,x){return zG(v,Tu(n,x),!1,d)}return g.horizontal=async(v,x)=>zG(v,Tu(n,x),!0,d),g}function Dme(n,r,l,d){const{scrollWidth:g,scrollHeight:v}=n,[x,S]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let M,R;return d?l?(M=-(g-x),R=0):(M=0,R=g-x):(M=0,R=v+-S),Math.max(Math.min(r,R),M)}const Rme={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Ime={component:n=>xv(VX,{...n,class:"mdi"})},mi=[String,Function,Object,Array],M$=Symbol.for("vuetify:icons"),JL=Dn({icon:{type:mi},tag:{type:String,required:!0}},"icon"),HG=Io()({name:"VComponentIcon",props:JL(),setup(n,r){let{slots:l}=r;return()=>{const d=n.icon;return j(n.tag,null,{default:()=>{var g;return[n.icon?j(d,null,null):(g=l.default)==null?void 0:g.call(l)]}})}}}),FX=eE({name:"VSvgIcon",inheritAttrs:!1,props:JL(),setup(n,r){let{attrs:l}=r;return()=>j(n.tag,Zo(l,{style:null}),{default:()=>[j("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(d=>Array.isArray(d)?j("path",{d:d[0],"fill-opacity":d[1]},null):j("path",{d},null)):j("path",{d:n.icon},null)])]})}});eE({name:"VLigatureIcon",props:JL(),setup(n){return()=>j(n.tag,null,{default:()=>[n.icon]})}});const VX=eE({name:"VClassIcon",props:JL(),setup(n){return()=>j(n.tag,{class:n.icon},null)}});function Nme(){return{svg:{component:FX},class:{component:VX}}}function Pme(n){const r=Nme(),l=(n==null?void 0:n.defaultSet)??"mdi";return l==="mdi"&&!r.mdi&&(r.mdi=Ime),Tu({defaultSet:l,sets:r,aliases:{...Rme,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Mme=n=>{const r=wa(M$);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Ge(()=>{var M;const d=re(n);if(!d)return{component:HG};let g=d;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(M=r.aliases)==null?void 0:M[g.slice(1)])),Array.isArray(g))return{component:FX,icon:g};if(typeof g!="string")return{component:HG,icon:g};const v=Object.keys(r.sets).find(R=>typeof g=="string"&&g.startsWith(`${R}:`)),x=v?g.slice(v.length+1):g;return{component:r.sets[v??r.defaultSet].component,icon:x}})}},kL=Symbol.for("vuetify:theme"),cl=Dn({theme:String},"theme");function $G(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Bme(){var d,g;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$G();const r=$G();if(!n)return{...r,isDisabled:!0};const l={};for(const[v,x]of Object.entries(n.themes??{})){const S=x.dark||v==="dark"?(d=r.themes)==null?void 0:d.dark:(g=r.themes)==null?void 0:g.light;l[v]=Tu(S,x)}return Tu(r,{...n,themes:l})}function Lme(n){const r=Bme(n),l=Mn(r.defaultTheme),d=Mn(r.themes),g=Ge(()=>{const I={};for(const[L,$]of Object.entries(d.value)){const G=I[L]={...$,colors:{...$.colors}};if(r.variations)for(const X of r.variations.colors){const ne=G.colors[X];if(ne)for(const ce of["lighten","darken"]){const le=ce==="lighten"?wfe:Cfe;for(const Me of dX(r.variations[ce],1))G.colors[`${X}-${ce}-${Me}`]=bfe(le(gv(ne),Me))}}for(const X of Object.keys(G.colors)){if(/^on-[a-z]/.test(X)||G.colors[`on-${X}`])continue;const ne=`on-${X}`,ce=gv(G.colors[X]);G.colors[ne]=kX(ce)}}return I}),v=Ge(()=>g.value[l.value]),x=Ge(()=>{var X;const I=[];(X=v.value)!=null&&X.dark&&Xw(I,":root",["color-scheme: dark"]),Xw(I,":root",UG(v.value));for(const[ne,ce]of Object.entries(g.value))Xw(I,`.v-theme--${ne}`,[`color-scheme: ${ce.dark?"dark":"normal"}`,...UG(ce)]);const L=[],$=[],G=new Set(Object.values(g.value).flatMap(ne=>Object.keys(ne.colors)));for(const ne of G)/^on-[a-z]/.test(ne)?Xw($,`.${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]):(Xw(L,`.bg-${ne}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ne}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ne})) !important`,`color: rgb(var(--v-theme-on-${ne})) !important`]),Xw($,`.text-${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]),Xw($,`.border-${ne}`,[`--v-border-color: var(--v-theme-${ne})`]));return I.push(...L,...$),I.map((ne,ce)=>ce===0?ne:`    ${ne}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:r.cspNonce||!1}]}}function M(I){if(r.isDisabled)return;const L=I._context.provides.usehead;if(L)if(L.push){const G=L.push(S);fi&&zn(x,()=>{G.patch(S)})}else fi?(L.addHeadObjs(Ge(S)),uf(()=>L.updateDOM())):L.addHeadObjs(S());else{let X=function(){if(typeof document<"u"&&!G){const ne=document.createElement("style");ne.type="text/css",ne.id="vuetify-theme-stylesheet",r.cspNonce&&ne.setAttribute("nonce",r.cspNonce),G=ne,document.head.appendChild(G)}G&&(G.innerHTML=x.value)};var $=X;let G=fi?document.getElementById("vuetify-theme-stylesheet"):null;fi?zn(x,X,{immediate:!0}):X()}}const R=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`);return{install:M,isDisabled:r.isDisabled,name:l,themes:d,current:v,computedThemes:g,themeClasses:R,styles:x,global:{name:l,current:v}}}function Hl(n){Tl("provideTheme");const r=wa(kL,null);if(!r)throw new Error("Could not find Vuetify theme injection");const l=Ge(()=>n.theme??r.name.value),d=Ge(()=>r.themes.value[l.value]),g=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`),v={...r,name:l,current:d,themeClasses:g};return _d(kL,v),v}function Xw(n,r,l){n.push(`${r} {
`,...l.map(d=>`  ${d};
`),`}
`)}function UG(n){const r=n.dark?2:1,l=n.dark?1:2,d=[];for(const[g,v]of Object.entries(n.colors)){const x=gv(v);d.push(`--v-theme-${g}: ${x.r},${x.g},${x.b}`),g.startsWith("on-")||d.push(`--v-theme-${g}-overlay-multiplier: ${_fe(v)>.18?r:l}`)}for(const[g,v]of Object.entries(n.variables)){const x=typeof v=="string"&&v.startsWith("#")?gv(v):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;d.push(`--v-${g}: ${S??v}`)}return d}function Gk(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=T$(),d=Mn();if(fi){const g=new ResizeObserver(v=>{v.length&&(r==="content"?d.value=v[0].contentRect:d.value=v[0].target.getBoundingClientRect())});Cc(()=>{g.disconnect()}),zn(()=>l.el,(v,x)=>{x&&(g.unobserve(x),d.value=void 0),v&&g.observe(v)},{flush:"post"})}return{resizeRef:l,contentRect:_D(d)}}const EL=Symbol.for("vuetify:layout"),zX=Symbol.for("vuetify:layout-item"),WG=1e3,Fme=Dn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),HX=Dn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Vme(){const n=wa(EL);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function $X(n){const r=wa(EL);if(!r)throw new Error("[Vuetify] Could not find injected layout");const l=n.id??`layout-item-${Ig()}`,d=Tl("useLayoutItem");_d(zX,{id:l});const g=To(!1);$L(()=>g.value=!0),xU(()=>g.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:x}=r.register(d,{...n,active:Ge(()=>g.value?!1:n.active.value),id:l});return Cc(()=>r.unregister(l)),{layoutItemStyles:v,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const zme=(n,r,l,d)=>{let g={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...g}}];for(const x of n){const S=r.get(x),M=l.get(x),R=d.get(x);if(!S||!M||!R)continue;const I={...g,[S.value]:parseInt(g[S.value],10)+(R.value?parseInt(M.value,10):0)};v.push({id:x,layer:I}),g=I}return v};function Hme(n){const r=wa(EL,null),l=Ge(()=>r?r.rootZIndex.value-100:WG),d=Mn([]),g=ec(new Map),v=ec(new Map),x=ec(new Map),S=ec(new Map),M=ec(new Map),{resizeRef:R,contentRect:I}=Gk(),L=Ge(()=>{const ae=new Map,Ue=n.overlaps??[];for(const We of Ue.filter(qe=>qe.includes(":"))){const[qe,st]=We.split(":");if(!d.value.includes(qe)||!d.value.includes(st))continue;const Ee=g.get(qe),Le=g.get(st),O=v.get(qe),Ke=v.get(st);!Ee||!Le||!O||!Ke||(ae.set(st,{position:Ee.value,amount:parseInt(O.value,10)}),ae.set(qe,{position:Le.value,amount:-parseInt(Ke.value,10)}))}return ae}),$=Ge(()=>{const ae=[...new Set([...x.values()].map(We=>We.value))].sort((We,qe)=>We-qe),Ue=[];for(const We of ae){const qe=d.value.filter(st=>{var Ee;return((Ee=x.get(st))==null?void 0:Ee.value)===We});Ue.push(...qe)}return zme(Ue,g,v,S)}),G=Ge(()=>!Array.from(M.values()).some(ae=>ae.value)),X=Ge(()=>$.value[$.value.length-1].layer),ne=Ge(()=>({"--v-layout-left":hs(X.value.left),"--v-layout-right":hs(X.value.right),"--v-layout-top":hs(X.value.top),"--v-layout-bottom":hs(X.value.bottom),...G.value?void 0:{transition:"none"}})),ce=Ge(()=>$.value.slice(1).map((ae,Ue)=>{let{id:We}=ae;const{layer:qe}=$.value[Ue],st=v.get(We),Ee=g.get(We);return{id:We,...qe,size:Number(st.value),position:Ee.value}})),le=ae=>ce.value.find(Ue=>Ue.id===ae),Me=Tl("createLayout"),he=To(!1);Iu(()=>{he.value=!0}),_d(EL,{register:(ae,Ue)=>{let{id:We,order:qe,position:st,layoutSize:Ee,elementSize:Le,active:O,disableTransitions:Ke,absolute:ct}=Ue;x.set(We,qe),g.set(We,st),v.set(We,Ee),S.set(We,O),Ke&&M.set(We,Ke);const Jt=Mk(zX,Me==null?void 0:Me.vnode).indexOf(ae);Jt>-1?d.value.splice(Jt,0,We):d.value.push(We);const et=Ge(()=>ce.value.findIndex(Ye=>Ye.id===We)),pt=Ge(()=>l.value+$.value.length*2-et.value*2),Lt=Ge(()=>{const Ye=st.value==="left"||st.value==="right",Mt=st.value==="right",oo=st.value==="bottom",Fn=Le.value??Ee.value,fn=Fn===0?"%":"px",_n={[st.value]:0,zIndex:pt.value,transform:`translate${Ye?"X":"Y"}(${(O.value?0:-(Fn===0?100:Fn))*(Mt||oo?-1:1)}${fn})`,position:ct.value||l.value!==WG?"absolute":"fixed",...G.value?void 0:{transition:"none"}};if(!he.value)return _n;const Q=ce.value[et.value];if(!Q)throw new Error(`[Vuetify] Could not find layout item "${We}"`);const xs=L.value.get(We);return xs&&(Q[xs.position]+=xs.amount),{..._n,height:Ye?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:Le.value?`${Le.value}px`:void 0,left:Mt?void 0:`${Q.left}px`,right:Mt?`${Q.right}px`:void 0,top:st.value!=="bottom"?`${Q.top}px`:void 0,bottom:st.value!=="top"?`${Q.bottom}px`:void 0,width:Ye?Le.value?`${Le.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),tt=Ge(()=>({zIndex:pt.value-1}));return{layoutItemStyles:Lt,layoutItemScrimStyles:tt,zIndex:pt}},unregister:ae=>{x.delete(ae),g.delete(ae),v.delete(ae),S.delete(ae),M.delete(ae),d.value=d.value.filter(Ue=>Ue!==ae)},mainRect:X,mainStyles:ne,getLayoutItem:le,items:ce,layoutRect:I,rootZIndex:l});const K=Ge(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),ye=Ge(()=>({zIndex:r?l.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:K,layoutStyles:ye,getLayoutItem:le,items:ce,layoutRect:I,layoutRef:R}}function UX(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...l}=n,d=Tu(r,l),{aliases:g={},components:v={},directives:x={}}=d,S=kfe(d.defaults),M=Eme(d.display,d.ssr),R=Lme(d.theme),I=Pme(d.icons),L=Mfe(d.locale),$=_me(d.date,L),G=Tme(d.goTo,L);return{install:ne=>{for(const ce in x)ne.directive(ce,x[ce]);for(const ce in v)ne.component(ce,v[ce]);for(const ce in g)ne.component(ce,eE({...g[ce],name:ce,aliasName:g[ce].name}));if(R.install(ne),ne.provide(Kk,S),ne.provide(P$,M),ne.provide(kL,R),ne.provide(M$,I),ne.provide(_L,L),ne.provide(Cme,$.options),ne.provide(MG,$.instance),ne.provide(BX,G),fi&&d.ssr)if(ne.$nuxt)ne.$nuxt.hook("app:suspense:resolve",()=>{M.update()});else{const{mount:ce}=ne;ne.mount=function(){const le=ce(...arguments);return Fs(()=>M.update()),ne.mount=ce,le}}Ig.reset(),ne.mixin({computed:{$vuetify(){return ec({defaults:Ek.call(this,Kk),display:Ek.call(this,P$),theme:Ek.call(this,kL),icons:Ek.call(this,M$),locale:Ek.call(this,_L),date:Ek.call(this,MG)})}}})},defaults:S,display:M,theme:R,icons:I,locale:L,date:$,goTo:G}}const $me="3.7.2";UX.version=$me;function Ek(n){var d,g;const r=this.$,l=((d=r.parent)==null?void 0:d.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(l&&n in l)return l[n]}const Ume=UX({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Wme=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let WX;const QL=n=>WX=n,ZX=Symbol();function B$(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var jO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(jO||(jO={}));function Zme(){const n=CD(!0),r=n.run(()=>Mn({}));let l=[],d=[];const g=hU({install(v){QL(g),g._a=v,v.provide(ZX,g),v.config.globalProperties.$pinia=g,d.forEach(x=>l.push(x)),d=[]},use(v){return!this._a&&!Wme?d.push(v):l.push(v),this},_p:l,_a:null,_e:n,_s:new Map,state:r});return g}const jX=()=>{};function ZG(n,r,l,d=jX){n.push(r);const g=()=>{const v=n.indexOf(r);v>-1&&(n.splice(v,1),d())};return!l&&Xq()&&Ru(g),g}function Ak(n,...r){n.slice().forEach(l=>{l(...r)})}const jme=n=>n(),jG=Symbol(),XH=Symbol();function L$(n,r){n instanceof Map&&r instanceof Map?r.forEach((l,d)=>n.set(d,l)):n instanceof Set&&r instanceof Set&&r.forEach(n.add,n);for(const l in r){if(!r.hasOwnProperty(l))continue;const d=r[l],g=n[l];B$(g)&&B$(d)&&n.hasOwnProperty(l)&&!zr(d)&&!$y(d)?n[l]=L$(g,d):n[l]=d}return n}const Kme=Symbol();function Gme(n){return!B$(n)||!n.hasOwnProperty(Kme)}const{assign:My}=Object;function qme(n){return!!(zr(n)&&n.effect)}function Yme(n,r,l,d){const{state:g,actions:v,getters:x}=r,S=l.state.value[n];let M;function R(){S||(l.state.value[n]=g?g():{});const I=SD(l.state.value[n]);return My(I,v,Object.keys(x||{}).reduce((L,$)=>(L[$]=hU(Ge(()=>{QL(l);const G=l._s.get(n);return x[$].call(G,G)})),L),{}))}return M=KX(n,R,r,l,d,!0),M}function KX(n,r,l={},d,g,v){let x;const S=My({actions:{}},l),M={deep:!0};let R,I,L=[],$=[],G;const X=d.state.value[n];!v&&!X&&(d.state.value[n]={}),Mn({});let ne;function ce(We){let qe;R=I=!1,typeof We=="function"?(We(d.state.value[n]),qe={type:jO.patchFunction,storeId:n,events:G}):(L$(d.state.value[n],We),qe={type:jO.patchObject,payload:We,storeId:n,events:G});const st=ne=Symbol();Fs().then(()=>{ne===st&&(R=!0)}),I=!0,Ak(L,qe,d.state.value[n])}const le=v?function(){const{state:qe}=l,st=qe?qe():{};this.$patch(Ee=>{My(Ee,st)})}:jX;function Me(){x.stop(),L=[],$=[],d._s.delete(n)}const he=(We,qe="")=>{if(jG in We)return We[XH]=qe,We;const st=function(){QL(d);const Ee=Array.from(arguments),Le=[],O=[];function Ke(Jt){Le.push(Jt)}function ct(Jt){O.push(Jt)}Ak($,{args:Ee,name:st[XH],store:ye,after:Ke,onError:ct});let $t;try{$t=We.apply(this&&this.$id===n?this:ye,Ee)}catch(Jt){throw Ak(O,Jt),Jt}return $t instanceof Promise?$t.then(Jt=>(Ak(Le,Jt),Jt)).catch(Jt=>(Ak(O,Jt),Promise.reject(Jt))):(Ak(Le,$t),$t)};return st[jG]=!0,st[XH]=qe,st},K={_p:d,$id:n,$onAction:ZG.bind(null,$),$patch:ce,$reset:le,$subscribe(We,qe={}){const st=ZG(L,We,qe.detached,()=>Ee()),Ee=x.run(()=>zn(()=>d.state.value[n],Le=>{(qe.flush==="sync"?I:R)&&We({storeId:n,type:jO.direct,events:G},Le)},My({},M,qe)));return st},$dispose:Me},ye=ec(K);d._s.set(n,ye);const Ue=(d._a&&d._a.runWithContext||jme)(()=>d._e.run(()=>(x=CD()).run(()=>r({action:he}))));for(const We in Ue){const qe=Ue[We];if(zr(qe)&&!qme(qe)||$y(qe))v||(X&&Gme(qe)&&(zr(qe)?qe.value=X[We]:L$(qe,X[We])),d.state.value[n][We]=qe);else if(typeof qe=="function"){const st=he(qe,We);Ue[We]=st,S.actions[We]=qe}}return My(ye,Ue),My(ss(ye),Ue),Object.defineProperty(ye,"$state",{get:()=>d.state.value[n],set:We=>{ce(qe=>{My(qe,We)})}}),d._p.forEach(We=>{My(ye,x.run(()=>We({store:ye,app:d._a,pinia:d,options:S})))}),X&&v&&l.hydrate&&l.hydrate(ye.$state,X),R=!0,I=!0,ye}function Nu(n,r,l){let d,g;const v=typeof r=="function";typeof n=="string"?(d=n,g=v?l:r):(g=n,d=n.id);function x(S,M){const R=Tue();return S=S||(R?wa(ZX,null):null),S&&QL(S),S=WX,S._s.has(d)||(v?KX(d,r,g,S):Yme(d,g,S)),S._s.get(d)}return x.$id=d,x}const Xme=Zme();function Jme(n){n.use(Ume).use(Xme)}var ZB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jB(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var GX={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,r){(function(l){n.exports=l()})(function(){return function l(d,g,v){function x(R,I){if(!g[R]){if(!d[R]){var L=typeof jB=="function"&&jB;if(!I&&L)return L(R,!0);if(S)return S(R,!0);var $=new Error("Cannot find module '"+R+"'");throw $.code="MODULE_NOT_FOUND",$}var G=g[R]={exports:{}};d[R][0].call(G.exports,function(X){var ne=d[R][1][X];return x(ne||X)},G,G.exports,l,d,g,v)}return g[R].exports}for(var S=typeof jB=="function"&&jB,M=0;M<v.length;M++)x(v[M]);return x}({1:[function(l,d,g){(function(v){var x=v.MutationObserver||v.WebKitMutationObserver,S;if(x){var M=0,R=new x(X),I=v.document.createTextNode("");R.observe(I,{characterData:!0}),S=function(){I.data=M=++M%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var L=new v.MessageChannel;L.port1.onmessage=X,S=function(){L.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?S=function(){var ce=v.document.createElement("script");ce.onreadystatechange=function(){X(),ce.onreadystatechange=null,ce.parentNode.removeChild(ce),ce=null},v.document.documentElement.appendChild(ce)}:S=function(){setTimeout(X,0)};var $,G=[];function X(){$=!0;for(var ce,le,Me=G.length;Me;){for(le=G,G=[],ce=-1;++ce<Me;)le[ce]();Me=G.length}$=!1}d.exports=ne;function ne(ce){G.push(ce)===1&&!$&&S()}}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(l,d,g){var v=l(1);function x(){}var S={},M=["REJECTED"],R=["FULFILLED"],I=["PENDING"];d.exports=L;function L(ye){if(typeof ye!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,ye!==x&&ne(this,ye)}L.prototype.catch=function(ye){return this.then(null,ye)},L.prototype.then=function(ye,ae){if(typeof ye!="function"&&this.state===R||typeof ae!="function"&&this.state===M)return this;var Ue=new this.constructor(x);if(this.state!==I){var We=this.state===R?ye:ae;G(Ue,We,this.outcome)}else this.queue.push(new $(Ue,ye,ae));return Ue};function $(ye,ae,Ue){this.promise=ye,typeof ae=="function"&&(this.onFulfilled=ae,this.callFulfilled=this.otherCallFulfilled),typeof Ue=="function"&&(this.onRejected=Ue,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(ye){S.resolve(this.promise,ye)},$.prototype.otherCallFulfilled=function(ye){G(this.promise,this.onFulfilled,ye)},$.prototype.callRejected=function(ye){S.reject(this.promise,ye)},$.prototype.otherCallRejected=function(ye){G(this.promise,this.onRejected,ye)};function G(ye,ae,Ue){v(function(){var We;try{We=ae(Ue)}catch(qe){return S.reject(ye,qe)}We===ye?S.reject(ye,new TypeError("Cannot resolve promise with itself")):S.resolve(ye,We)})}S.resolve=function(ye,ae){var Ue=ce(X,ae);if(Ue.status==="error")return S.reject(ye,Ue.value);var We=Ue.value;if(We)ne(ye,We);else{ye.state=R,ye.outcome=ae;for(var qe=-1,st=ye.queue.length;++qe<st;)ye.queue[qe].callFulfilled(ae)}return ye},S.reject=function(ye,ae){ye.state=M,ye.outcome=ae;for(var Ue=-1,We=ye.queue.length;++Ue<We;)ye.queue[Ue].callRejected(ae);return ye};function X(ye){var ae=ye&&ye.then;if(ye&&(typeof ye=="object"||typeof ye=="function")&&typeof ae=="function")return function(){ae.apply(ye,arguments)}}function ne(ye,ae){var Ue=!1;function We(Le){Ue||(Ue=!0,S.reject(ye,Le))}function qe(Le){Ue||(Ue=!0,S.resolve(ye,Le))}function st(){ae(qe,We)}var Ee=ce(st);Ee.status==="error"&&We(Ee.value)}function ce(ye,ae){var Ue={};try{Ue.value=ye(ae),Ue.status="success"}catch(We){Ue.status="error",Ue.value=We}return Ue}L.resolve=le;function le(ye){return ye instanceof this?ye:S.resolve(new this(x),ye)}L.reject=Me;function Me(ye){var ae=new this(x);return S.reject(ae,ye)}L.all=he;function he(ye){var ae=this;if(Object.prototype.toString.call(ye)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=ye.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=new Array(Ue),st=0,Ee=-1,Le=new this(x);++Ee<Ue;)O(ye[Ee],Ee);return Le;function O(Ke,ct){ae.resolve(Ke).then($t,function(Jt){We||(We=!0,S.reject(Le,Jt))});function $t(Jt){qe[ct]=Jt,++st===Ue&&!We&&(We=!0,S.resolve(Le,qe))}}}L.race=K;function K(ye){var ae=this;if(Object.prototype.toString.call(ye)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=ye.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=-1,st=new this(x);++qe<Ue;)Ee(ye[qe]);return st;function Ee(Le){ae.resolve(Le).then(function(O){We||(We=!0,S.resolve(st,O))},function(O){We||(We=!0,S.reject(st,O))})}}},{1:1}],3:[function(l,d,g){(function(v){typeof v.Promise!="function"&&(v.Promise=l(2))}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(l,d,g){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function x(Te,nt){if(!(Te instanceof nt))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var M=S();function R(){try{if(!M||!M.open)return!1;var Te=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),nt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Te||nt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(Te,nt){Te=Te||[],nt=nt||{};try{return new Blob(Te,nt)}catch(Je){if(Je.name!=="TypeError")throw Je;for(var Ne=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,mt=new Ne,ut=0;ut<Te.length;ut+=1)mt.append(Te[ut]);return mt.getBlob(nt.type)}}typeof Promise>"u"&&l(3);var L=Promise;function $(Te,nt){nt&&Te.then(function(Ne){nt(null,Ne)},function(Ne){nt(Ne)})}function G(Te,nt,Ne){typeof nt=="function"&&Te.then(nt),typeof Ne=="function"&&Te.catch(Ne)}function X(Te){return typeof Te!="string"&&(console.warn(Te+" used as a key, but it is not a string."),Te=String(Te)),Te}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ce="local-forage-detect-blob-support",le=void 0,Me={},he=Object.prototype.toString,K="readonly",ye="readwrite";function ae(Te){for(var nt=Te.length,Ne=new ArrayBuffer(nt),mt=new Uint8Array(Ne),ut=0;ut<nt;ut++)mt[ut]=Te.charCodeAt(ut);return Ne}function Ue(Te){return new L(function(nt){var Ne=Te.transaction(ce,ye),mt=I([""]);Ne.objectStore(ce).put(mt,"key"),Ne.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),nt(!1)},Ne.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Je=navigator.userAgent.match(/Edge\//);nt(Je||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function We(Te){return typeof le=="boolean"?L.resolve(le):Ue(Te).then(function(nt){return le=nt,le})}function qe(Te){var nt=Me[Te.name],Ne={};Ne.promise=new L(function(mt,ut){Ne.resolve=mt,Ne.reject=ut}),nt.deferredOperations.push(Ne),nt.dbReady?nt.dbReady=nt.dbReady.then(function(){return Ne.promise}):nt.dbReady=Ne.promise}function st(Te){var nt=Me[Te.name],Ne=nt.deferredOperations.pop();if(Ne)return Ne.resolve(),Ne.promise}function Ee(Te,nt){var Ne=Me[Te.name],mt=Ne.deferredOperations.pop();if(mt)return mt.reject(nt),mt.promise}function Le(Te,nt){return new L(function(Ne,mt){if(Me[Te.name]=Me[Te.name]||Ye(),Te.db)if(nt)qe(Te),Te.db.close();else return Ne(Te.db);var ut=[Te.name];nt&&ut.push(Te.version);var Je=M.open.apply(M,ut);nt&&(Je.onupgradeneeded=function(Wt){var nn=Je.result;try{nn.createObjectStore(Te.storeName),Wt.oldVersion<=1&&nn.createObjectStore(ce)}catch(un){if(un.name==="ConstraintError")console.warn('The database "'+Te.name+'" has been upgraded from version '+Wt.oldVersion+" to version "+Wt.newVersion+', but the storage "'+Te.storeName+'" already exists.');else throw un}}),Je.onerror=function(Wt){Wt.preventDefault(),mt(Je.error)},Je.onsuccess=function(){var Wt=Je.result;Wt.onversionchange=function(nn){nn.target.close()},Ne(Wt),st(Te)}})}function O(Te){return Le(Te,!1)}function Ke(Te){return Le(Te,!0)}function ct(Te,nt){if(!Te.db)return!0;var Ne=!Te.db.objectStoreNames.contains(Te.storeName),mt=Te.version<Te.db.version,ut=Te.version>Te.db.version;if(mt&&(Te.version!==nt&&console.warn('The database "'+Te.name+`" can't be downgraded from version `+Te.db.version+" to version "+Te.version+"."),Te.version=Te.db.version),ut||Ne){if(Ne){var Je=Te.db.version+1;Je>Te.version&&(Te.version=Je)}return!0}return!1}function $t(Te){return new L(function(nt,Ne){var mt=new FileReader;mt.onerror=Ne,mt.onloadend=function(ut){var Je=btoa(ut.target.result||"");nt({__local_forage_encoded_blob:!0,data:Je,type:Te.type})},mt.readAsBinaryString(Te)})}function Jt(Te){var nt=ae(atob(Te.data));return I([nt],{type:Te.type})}function et(Te){return Te&&Te.__local_forage_encoded_blob}function pt(Te){var nt=this,Ne=nt._initReady().then(function(){var mt=Me[nt._dbInfo.name];if(mt&&mt.dbReady)return mt.dbReady});return G(Ne,Te,Te),Ne}function Lt(Te){qe(Te);for(var nt=Me[Te.name],Ne=nt.forages,mt=0;mt<Ne.length;mt++){var ut=Ne[mt];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return Te.db=null,O(Te).then(function(Je){return Te.db=Je,ct(Te)?Ke(Te):Je}).then(function(Je){Te.db=nt.db=Je;for(var Wt=0;Wt<Ne.length;Wt++)Ne[Wt]._dbInfo.db=Je}).catch(function(Je){throw Ee(Te,Je),Je})}function tt(Te,nt,Ne,mt){mt===void 0&&(mt=1);try{var ut=Te.db.transaction(Te.storeName,nt);Ne(null,ut)}catch(Je){if(mt>0&&(!Te.db||Je.name==="InvalidStateError"||Je.name==="NotFoundError"))return L.resolve().then(function(){if(!Te.db||Je.name==="NotFoundError"&&!Te.db.objectStoreNames.contains(Te.storeName)&&Te.version<=Te.db.version)return Te.db&&(Te.version=Te.db.version+1),Ke(Te)}).then(function(){return Lt(Te).then(function(){tt(Te,nt,Ne,mt-1)})}).catch(Ne);Ne(Je)}}function Ye(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Mt(Te){var nt=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=Te[mt];var ut=Me[Ne.name];ut||(ut=Ye(),Me[Ne.name]=ut),ut.forages.push(nt),nt._initReady||(nt._initReady=nt.ready,nt.ready=pt);var Je=[];function Wt(){return L.resolve()}for(var nn=0;nn<ut.forages.length;nn++){var un=ut.forages[nn];un!==nt&&Je.push(un._initReady().catch(Wt))}var vn=ut.forages.slice(0);return L.all(Je).then(function(){return Ne.db=ut.db,O(Ne)}).then(function(an){return Ne.db=an,ct(Ne,nt._defaultConfig.version)?Ke(Ne):an}).then(function(an){Ne.db=ut.db=an,nt._dbInfo=Ne;for(var ho=0;ho<vn.length;ho++){var sn=vn[ho];sn!==nt&&(sn._dbInfo.db=Ne.db,sn._dbInfo.version=Ne.version)}})}function oo(Te,nt){var Ne=this;Te=X(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,K,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.get(Te);vn.onsuccess=function(){var an=vn.result;an===void 0&&(an=null),et(an)&&(an=Jt(an)),ut(an)},vn.onerror=function(){Je(vn.error)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function Fn(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,K,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.openCursor(),an=1;vn.onsuccess=function(){var ho=vn.result;if(ho){var sn=ho.value;et(sn)&&(sn=Jt(sn));var ks=Te(sn,ho.key,an++);ks!==void 0?ut(ks):ho.continue()}else ut()},vn.onerror=function(){Je(vn.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function fn(Te,nt,Ne){var mt=this;Te=X(Te);var ut=new L(function(Je,Wt){var nn;mt.ready().then(function(){return nn=mt._dbInfo,he.call(nt)==="[object Blob]"?We(nn.db).then(function(un){return un?nt:$t(nt)}):nt}).then(function(un){tt(mt._dbInfo,ye,function(vn,an){if(vn)return Wt(vn);try{var ho=an.objectStore(mt._dbInfo.storeName);un===null&&(un=void 0);var sn=ho.put(un,Te);an.oncomplete=function(){un===void 0&&(un=null),Je(un)},an.onabort=an.onerror=function(){var ks=sn.error?sn.error:sn.transaction.error;Wt(ks)}}catch(ks){Wt(ks)}})}).catch(Wt)});return $(ut,Ne),ut}function _n(Te,nt){var Ne=this;Te=X(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,ye,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.delete(Te);nn.oncomplete=function(){ut()},nn.onerror=function(){Je(vn.error)},nn.onabort=function(){var an=vn.error?vn.error:vn.transaction.error;Je(an)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function Q(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,ye,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.clear();Wt.oncomplete=function(){mt()},Wt.onabort=Wt.onerror=function(){var vn=un.error?un.error:un.transaction.error;ut(vn)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function xs(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,K,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.count();un.onsuccess=function(){mt(un.result)},un.onerror=function(){ut(un.error)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function eo(Te,nt){var Ne=this,mt=new L(function(ut,Je){if(Te<0){ut(null);return}Ne.ready().then(function(){tt(Ne._dbInfo,K,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=!1,an=un.openKeyCursor();an.onsuccess=function(){var ho=an.result;if(!ho){ut(null);return}Te===0||vn?ut(ho.key):(vn=!0,ho.advance(Te))},an.onerror=function(){Je(an.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function tn(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,K,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.openKeyCursor(),vn=[];un.onsuccess=function(){var an=un.result;if(!an){mt(vn);return}vn.push(an.key),an.continue()},un.onerror=function(){ut(un.error)}}catch(an){ut(an)}})}).catch(ut)});return $(Ne,Te),Ne}function Oo(Te,nt){nt=ne.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;if(!Te.name)ut=L.reject("Invalid arguments");else{var Je=Te.name===Ne.name&&mt._dbInfo.db,Wt=Je?L.resolve(mt._dbInfo.db):O(Te).then(function(nn){var un=Me[Te.name],vn=un.forages;un.db=nn;for(var an=0;an<vn.length;an++)vn[an]._dbInfo.db=nn;return nn});Te.storeName?ut=Wt.then(function(nn){if(nn.objectStoreNames.contains(Te.storeName)){var un=nn.version+1;qe(Te);var vn=Me[Te.name],an=vn.forages;nn.close();for(var ho=0;ho<an.length;ho++){var sn=an[ho];sn._dbInfo.db=null,sn._dbInfo.version=un}var ks=new L(function(Mo,jo){var Tr=M.open(Te.name,un);Tr.onerror=function(_o){var Rl=Tr.result;Rl.close(),jo(_o)},Tr.onupgradeneeded=function(){var _o=Tr.result;_o.deleteObjectStore(Te.storeName)},Tr.onsuccess=function(){var _o=Tr.result;_o.close(),Mo(_o)}});return ks.then(function(Mo){vn.db=Mo;for(var jo=0;jo<an.length;jo++){var Tr=an[jo];Tr._dbInfo.db=Mo,st(Tr._dbInfo)}}).catch(function(Mo){throw(Ee(Te,Mo)||L.resolve()).catch(function(){}),Mo})}}):ut=Wt.then(function(nn){qe(Te);var un=Me[Te.name],vn=un.forages;nn.close();for(var an=0;an<vn.length;an++){var ho=vn[an];ho._dbInfo.db=null}var sn=new L(function(ks,Mo){var jo=M.deleteDatabase(Te.name);jo.onerror=function(){var Tr=jo.result;Tr&&Tr.close(),Mo(jo.error)},jo.onblocked=function(){console.warn('dropInstance blocked for database "'+Te.name+'" until all open connections are closed')},jo.onsuccess=function(){var Tr=jo.result;Tr&&Tr.close(),ks(Tr)}});return sn.then(function(ks){un.db=ks;for(var Mo=0;Mo<vn.length;Mo++){var jo=vn[Mo];st(jo._dbInfo)}}).catch(function(ks){throw(Ee(Te,ks)||L.resolve()).catch(function(){}),ks})})}return $(ut,nt),ut}var je={_driver:"asyncStorage",_initStorage:Mt,_support:R(),iterate:Fn,getItem:oo,setItem:fn,removeItem:_n,clear:Q,length:xs,key:eo,keys:tn,dropInstance:Oo};function ie(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",zt=gt.length,vt="arbf",Ft="blob",Vt="si08",wn="ui08",cn="uic8",An="si16",On="si32",wo="ur16",Do="ui32",$o="fl32",cs="fl64",ar=zt+vt.length,fs=Object.prototype.toString;function Ar(Te){var nt=Te.length*.75,Ne=Te.length,mt,ut=0,Je,Wt,nn,un;Te[Te.length-1]==="="&&(nt--,Te[Te.length-2]==="="&&nt--);var vn=new ArrayBuffer(nt),an=new Uint8Array(vn);for(mt=0;mt<Ne;mt+=4)Je=xe.indexOf(Te[mt]),Wt=xe.indexOf(Te[mt+1]),nn=xe.indexOf(Te[mt+2]),un=xe.indexOf(Te[mt+3]),an[ut++]=Je<<2|Wt>>4,an[ut++]=(Wt&15)<<4|nn>>2,an[ut++]=(nn&3)<<6|un&63;return vn}function hn(Te){var nt=new Uint8Array(Te),Ne="",mt;for(mt=0;mt<nt.length;mt+=3)Ne+=xe[nt[mt]>>2],Ne+=xe[(nt[mt]&3)<<4|nt[mt+1]>>4],Ne+=xe[(nt[mt+1]&15)<<2|nt[mt+2]>>6],Ne+=xe[nt[mt+2]&63];return nt.length%3===2?Ne=Ne.substring(0,Ne.length-1)+"=":nt.length%3===1&&(Ne=Ne.substring(0,Ne.length-2)+"=="),Ne}function Eo(Te,nt){var Ne="";if(Te&&(Ne=fs.call(Te)),Te&&(Ne==="[object ArrayBuffer]"||Te.buffer&&fs.call(Te.buffer)==="[object ArrayBuffer]")){var mt,ut=gt;Te instanceof ArrayBuffer?(mt=Te,ut+=vt):(mt=Te.buffer,Ne==="[object Int8Array]"?ut+=Vt:Ne==="[object Uint8Array]"?ut+=wn:Ne==="[object Uint8ClampedArray]"?ut+=cn:Ne==="[object Int16Array]"?ut+=An:Ne==="[object Uint16Array]"?ut+=wo:Ne==="[object Int32Array]"?ut+=On:Ne==="[object Uint32Array]"?ut+=Do:Ne==="[object Float32Array]"?ut+=$o:Ne==="[object Float64Array]"?ut+=cs:nt(new Error("Failed to get type for BinaryArray"))),nt(ut+hn(mt))}else if(Ne==="[object Blob]"){var Je=new FileReader;Je.onload=function(){var Wt=Be+Te.type+"~"+hn(this.result);nt(gt+Ft+Wt)},Je.readAsArrayBuffer(Te)}else try{nt(JSON.stringify(Te))}catch(Wt){console.error("Couldn't convert value into a JSON string: ",Te),nt(null,Wt)}}function vo(Te){if(Te.substring(0,zt)!==gt)return JSON.parse(Te);var nt=Te.substring(ar),Ne=Te.substring(zt,ar),mt;if(Ne===Ft&&pe.test(nt)){var ut=nt.match(pe);mt=ut[1],nt=nt.substring(ut[0].length)}var Je=Ar(nt);switch(Ne){case vt:return Je;case Ft:return I([Je],{type:mt});case Vt:return new Int8Array(Je);case wn:return new Uint8Array(Je);case cn:return new Uint8ClampedArray(Je);case An:return new Int16Array(Je);case wo:return new Uint16Array(Je);case On:return new Int32Array(Je);case Do:return new Uint32Array(Je);case $o:return new Float32Array(Je);case cs:return new Float64Array(Je);default:throw new Error("Unkown type: "+Ne)}}var or={serialize:Eo,deserialize:vo,stringToBuffer:Ar,bufferToString:hn};function ea(Te,nt,Ne,mt){Te.executeSql("CREATE TABLE IF NOT EXISTS "+nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ne,mt)}function Kt(Te){var nt=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=typeof Te[mt]!="string"?Te[mt].toString():Te[mt];var ut=new L(function(Je,Wt){try{Ne.db=openDatabase(Ne.name,String(Ne.version),Ne.description,Ne.size)}catch(nn){return Wt(nn)}Ne.db.transaction(function(nn){ea(nn,Ne,function(){nt._dbInfo=Ne,Je()},function(un,vn){Wt(vn)})},Wt)});return Ne.serializer=or,ut}function gi(Te,nt,Ne,mt,ut,Je){Te.executeSql(Ne,mt,ut,function(Wt,nn){nn.code===nn.SYNTAX_ERR?Wt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[nt.storeName],function(un,vn){vn.rows.length?Je(un,nn):ea(un,nt,function(){un.executeSql(Ne,mt,ut,Je)},Je)},Je):Je(Wt,nn)},Je)}function rs(Te,nt){var Ne=this;Te=X(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName+" WHERE key = ? LIMIT 1",[Te],function(un,vn){var an=vn.rows.length?vn.rows.item(0).value:null;an&&(an=Wt.serializer.deserialize(an)),ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Ul(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName,[],function(un,vn){for(var an=vn.rows,ho=an.length,sn=0;sn<ho;sn++){var ks=an.item(sn),Mo=ks.value;if(Mo&&(Mo=Wt.serializer.deserialize(Mo)),Mo=Te(Mo,ks.key,sn+1),Mo!==void 0){ut(Mo);return}}ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function $s(Te,nt,Ne,mt){var ut=this;Te=X(Te);var Je=new L(function(Wt,nn){ut.ready().then(function(){nt===void 0&&(nt=null);var un=nt,vn=ut._dbInfo;vn.serializer.serialize(nt,function(an,ho){ho?nn(ho):vn.db.transaction(function(sn){gi(sn,vn,"INSERT OR REPLACE INTO "+vn.storeName+" (key, value) VALUES (?, ?)",[Te,an],function(){Wt(un)},function(ks,Mo){nn(Mo)})},function(sn){if(sn.code===sn.QUOTA_ERR){if(mt>0){Wt($s.apply(ut,[Te,un,Ne,mt-1]));return}nn(sn)}})})}).catch(nn)});return $(Je,Ne),Je}function ei(Te,nt,Ne){return $s.apply(this,[Te,nt,Ne,1])}function bm(Te,nt){var Ne=this;Te=X(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"DELETE FROM "+Wt.storeName+" WHERE key = ?",[Te],function(){ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Pu(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"DELETE FROM "+Je.storeName,[],function(){mt()},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function _c(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"SELECT COUNT(key) as c FROM "+Je.storeName,[],function(nn,un){var vn=un.rows.item(0).c;mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function ul(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT key FROM "+Wt.storeName+" WHERE id = ? LIMIT 1",[Te+1],function(un,vn){var an=vn.rows.length?vn.rows.item(0).key:null;ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Mu(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"SELECT key FROM "+Je.storeName,[],function(nn,un){for(var vn=[],an=0;an<un.rows.length;an++)vn.push(un.rows.item(an).key);mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function Os(Te){return new L(function(nt,Ne){Te.transaction(function(mt){mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Je){for(var Wt=[],nn=0;nn<Je.rows.length;nn++)Wt.push(Je.rows.item(nn).name);nt({db:Te,storeNames:Wt})},function(ut,Je){Ne(Je)})},function(mt){Ne(mt)})})}function ao(Te,nt){nt=ne.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;return Te.name?ut=new L(function(Je){var Wt;Te.name===Ne.name?Wt=mt._dbInfo.db:Wt=openDatabase(Te.name,"","",0),Te.storeName?Je({db:Wt,storeNames:[Te.storeName]}):Je(Os(Wt))}).then(function(Je){return new L(function(Wt,nn){Je.db.transaction(function(un){function vn(ks){return new L(function(Mo,jo){un.executeSql("DROP TABLE IF EXISTS "+ks,[],function(){Mo()},function(Tr,_o){jo(_o)})})}for(var an=[],ho=0,sn=Je.storeNames.length;ho<sn;ho++)an.push(vn(Je.storeNames[ho]));L.all(an).then(function(){Wt()}).catch(function(ks){nn(ks)})},function(un){nn(un)})})}):ut=L.reject("Invalid arguments"),$(ut,nt),ut}var Wl={_driver:"webSQLStorage",_initStorage:Kt,_support:ie(),iterate:Ul,getItem:rs,setItem:ei,removeItem:bm,clear:Pu,length:_c,key:ul,keys:Mu,dropInstance:ao};function Ti(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Bu(Te,nt){var Ne=Te.name+"/";return Te.storeName!==nt.storeName&&(Ne+=Te.storeName+"/"),Ne}function rn(){var Te="_localforage_support_test";try{return localStorage.setItem(Te,!0),localStorage.removeItem(Te),!1}catch{return!0}}function Lu(){return!rn()||localStorage.length>0}function ym(Te){var nt=this,Ne={};if(Te)for(var mt in Te)Ne[mt]=Te[mt];return Ne.keyPrefix=Bu(Te,nt._defaultConfig),Lu()?(nt._dbInfo=Ne,Ne.serializer=or,L.resolve()):L.reject()}function hr(Te){var nt=this,Ne=nt.ready().then(function(){for(var mt=nt._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Je=localStorage.key(ut);Je.indexOf(mt)===0&&localStorage.removeItem(Je)}});return $(Ne,Te),Ne}function xm(Te,nt){var Ne=this;Te=X(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Je=localStorage.getItem(ut.keyPrefix+Te);return Je&&(Je=ut.serializer.deserialize(Je)),Je});return $(mt,nt),mt}function Ga(Te,nt){var Ne=this,mt=Ne.ready().then(function(){for(var ut=Ne._dbInfo,Je=ut.keyPrefix,Wt=Je.length,nn=localStorage.length,un=1,vn=0;vn<nn;vn++){var an=localStorage.key(vn);if(an.indexOf(Je)===0){var ho=localStorage.getItem(an);if(ho&&(ho=ut.serializer.deserialize(ho)),ho=Te(ho,an.substring(Wt),un++),ho!==void 0)return ho}}});return $(mt,nt),mt}function Ol(Te,nt){var Ne=this,mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Je;try{Je=localStorage.key(Te)}catch{Je=null}return Je&&(Je=Je.substring(ut.keyPrefix.length)),Je});return $(mt,nt),mt}function dl(Te){var nt=this,Ne=nt.ready().then(function(){for(var mt=nt._dbInfo,ut=localStorage.length,Je=[],Wt=0;Wt<ut;Wt++){var nn=localStorage.key(Wt);nn.indexOf(mt.keyPrefix)===0&&Je.push(nn.substring(mt.keyPrefix.length))}return Je});return $(Ne,Te),Ne}function lr(Te){var nt=this,Ne=nt.keys().then(function(mt){return mt.length});return $(Ne,Te),Ne}function Ca(Te,nt){var Ne=this;Te=X(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo;localStorage.removeItem(ut.keyPrefix+Te)});return $(mt,nt),mt}function Dl(Te,nt,Ne){var mt=this;Te=X(Te);var ut=mt.ready().then(function(){nt===void 0&&(nt=null);var Je=nt;return new L(function(Wt,nn){var un=mt._dbInfo;un.serializer.serialize(nt,function(vn,an){if(an)nn(an);else try{localStorage.setItem(un.keyPrefix+Te,vn),Wt(Je)}catch(ho){(ho.name==="QuotaExceededError"||ho.name==="NS_ERROR_DOM_QUOTA_REACHED")&&nn(ho),nn(ho)}})})});return $(ut,Ne),ut}function wm(Te,nt){if(nt=ne.apply(this,arguments),Te=typeof Te!="function"&&Te||{},!Te.name){var Ne=this.config();Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName}var mt=this,ut;return Te.name?ut=new L(function(Je){Te.storeName?Je(Bu(Te,mt._defaultConfig)):Je(Te.name+"/")}).then(function(Je){for(var Wt=localStorage.length-1;Wt>=0;Wt--){var nn=localStorage.key(Wt);nn.indexOf(Je)===0&&localStorage.removeItem(nn)}}):ut=L.reject("Invalid arguments"),$(ut,nt),ut}var qc={_driver:"localStorageWrapper",_initStorage:ym,_support:Ti(),iterate:Ga,getItem:xm,setItem:Dl,removeItem:Ca,clear:hr,length:lr,key:Ol,keys:dl,dropInstance:wm},Yc=function(nt,Ne){return nt===Ne||typeof nt=="number"&&typeof Ne=="number"&&isNaN(nt)&&isNaN(Ne)},df=function(nt,Ne){for(var mt=nt.length,ut=0;ut<mt;){if(Yc(nt[ut],Ne))return!0;ut++}return!1},kd=Array.isArray||function(Te){return Object.prototype.toString.call(Te)==="[object Array]"},is={},Br={},ii={INDEXEDDB:je,WEBSQL:Wl,LOCALSTORAGE:qc},Cm=[ii.INDEXEDDB._driver,ii.WEBSQL._driver,ii.LOCALSTORAGE._driver],qa=["dropInstance"],Xc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(qa),_a={description:"",driver:Cm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sa(Te,nt){Te[nt]=function(){var Ne=arguments;return Te.ready().then(function(){return Te[nt].apply(Te,Ne)})}}function Jc(){for(var Te=1;Te<arguments.length;Te++){var nt=arguments[Te];if(nt)for(var Ne in nt)nt.hasOwnProperty(Ne)&&(kd(nt[Ne])?arguments[0][Ne]=nt[Ne].slice():arguments[0][Ne]=nt[Ne])}return arguments[0]}var Ns=function(){function Te(nt){x(this,Te);for(var Ne in ii)if(ii.hasOwnProperty(Ne)){var mt=ii[Ne],ut=mt._driver;this[Ne]=ut,is[ut]||this.defineDriver(mt)}this._defaultConfig=Jc({},_a),this._config=Jc({},this._defaultConfig,nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Te.prototype.config=function(Ne){if((typeof Ne>"u"?"undefined":v(Ne))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var mt in Ne){if(mt==="storeName"&&(Ne[mt]=Ne[mt].replace(/\W/g,"_")),mt==="version"&&typeof Ne[mt]!="number")return new Error("Database version must be a number.");this._config[mt]=Ne[mt]}return"driver"in Ne&&Ne.driver?this.setDriver(this._config.driver):!0}else return typeof Ne=="string"?this._config[Ne]:this._config},Te.prototype.defineDriver=function(Ne,mt,ut){var Je=new L(function(Wt,nn){try{var un=Ne._driver,vn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ne._driver){nn(vn);return}for(var an=Xc.concat("_initStorage"),ho=0,sn=an.length;ho<sn;ho++){var ks=an[ho],Mo=!df(qa,ks);if((Mo||Ne[ks])&&typeof Ne[ks]!="function"){nn(vn);return}}var jo=function(){for(var Rl=function(wr){return function(){var Ed=new Error("Method "+wr+" is not implemented by the current driver"),Hr=L.reject(Ed);return $(Hr,arguments[arguments.length-1]),Hr}},ta=0,co=qa.length;ta<co;ta++){var Ya=qa[ta];Ne[Ya]||(Ne[Ya]=Rl(Ya))}};jo();var Tr=function(Rl){is[un]&&console.info("Redefining LocalForage driver: "+un),is[un]=Ne,Br[un]=Rl,Wt()};"_support"in Ne?Ne._support&&typeof Ne._support=="function"?Ne._support().then(Tr,nn):Tr(!!Ne._support):Tr(!0)}catch(_o){nn(_o)}});return G(Je,mt,ut),Je},Te.prototype.driver=function(){return this._driver||null},Te.prototype.getDriver=function(Ne,mt,ut){var Je=is[Ne]?L.resolve(is[Ne]):L.reject(new Error("Driver not found."));return G(Je,mt,ut),Je},Te.prototype.getSerializer=function(Ne){var mt=L.resolve(or);return G(mt,Ne),mt},Te.prototype.ready=function(Ne){var mt=this,ut=mt._driverSet.then(function(){return mt._ready===null&&(mt._ready=mt._initDriver()),mt._ready});return G(ut,Ne,Ne),ut},Te.prototype.setDriver=function(Ne,mt,ut){var Je=this;kd(Ne)||(Ne=[Ne]);var Wt=this._getSupportedDrivers(Ne);function nn(){Je._config.driver=Je.driver()}function un(ho){return Je._extend(ho),nn(),Je._ready=Je._initStorage(Je._config),Je._ready}function vn(ho){return function(){var sn=0;function ks(){for(;sn<ho.length;){var Mo=ho[sn];return sn++,Je._dbInfo=null,Je._ready=null,Je.getDriver(Mo).then(un).catch(ks)}nn();var jo=new Error("No available storage method found.");return Je._driverSet=L.reject(jo),Je._driverSet}return ks()}}var an=this._driverSet!==null?this._driverSet.catch(function(){return L.resolve()}):L.resolve();return this._driverSet=an.then(function(){var ho=Wt[0];return Je._dbInfo=null,Je._ready=null,Je.getDriver(ho).then(function(sn){Je._driver=sn._driver,nn(),Je._wrapLibraryMethodsWithReady(),Je._initDriver=vn(Wt)})}).catch(function(){nn();var ho=new Error("No available storage method found.");return Je._driverSet=L.reject(ho),Je._driverSet}),G(this._driverSet,mt,ut),this._driverSet},Te.prototype.supports=function(Ne){return!!Br[Ne]},Te.prototype._extend=function(Ne){Jc(this,Ne)},Te.prototype._getSupportedDrivers=function(Ne){for(var mt=[],ut=0,Je=Ne.length;ut<Je;ut++){var Wt=Ne[ut];this.supports(Wt)&&mt.push(Wt)}return mt},Te.prototype._wrapLibraryMethodsWithReady=function(){for(var Ne=0,mt=Xc.length;Ne<mt;Ne++)Sa(this,Xc[Ne])},Te.prototype.createInstance=function(Ne){return new Te(Ne)},Te}(),cr=new Ns;d.exports=cr},{3:3}]},{},[4])(4)})})(GX);var Qme=GX.exports;const Sd=VU(Qme);function qX(n,r){return function(){return n.apply(r,arguments)}}const{toString:ege}=Object.prototype,{getPrototypeOf:zU}=Object,e8=(n=>r=>{const l=ege.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Gh=n=>(n=n.toLowerCase(),r=>e8(r)===n),t8=n=>r=>typeof r===n,{isArray:tE}=Array,oD=t8("undefined");function tge(n){return n!==null&&!oD(n)&&n.constructor!==null&&!oD(n.constructor)&&fm(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const YX=Gh("ArrayBuffer");function nge(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&YX(n.buffer),r}const oge=t8("string"),fm=t8("function"),XX=t8("number"),n8=n=>n!==null&&typeof n=="object",sge=n=>n===!0||n===!1,rL=n=>{if(e8(n)!=="object")return!1;const r=zU(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},rge=Gh("Date"),ige=Gh("File"),age=Gh("Blob"),lge=Gh("FileList"),cge=n=>n8(n)&&fm(n.pipe),uge=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||fm(n.append)&&((r=e8(n))==="formdata"||r==="object"&&fm(n.toString)&&n.toString()==="[object FormData]"))},dge=Gh("URLSearchParams"),[fge,mge,gge,hge]=["ReadableStream","Request","Response","Headers"].map(Gh),pge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function OD(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let d,g;if(typeof n!="object"&&(n=[n]),tE(n))for(d=0,g=n.length;d<g;d++)r.call(null,n[d],d,n);else{const v=l?Object.getOwnPropertyNames(n):Object.keys(n),x=v.length;let S;for(d=0;d<x;d++)S=v[d],r.call(null,n[S],S,n)}}function JX(n,r){r=r.toLowerCase();const l=Object.keys(n);let d=l.length,g;for(;d-- >0;)if(g=l[d],r===g.toLowerCase())return g;return null}const tC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QX=n=>!oD(n)&&n!==tC;function F$(){const{caseless:n}=QX(this)&&this||{},r={},l=(d,g)=>{const v=n&&JX(r,g)||g;rL(r[v])&&rL(d)?r[v]=F$(r[v],d):rL(d)?r[v]=F$({},d):tE(d)?r[v]=d.slice():r[v]=d};for(let d=0,g=arguments.length;d<g;d++)arguments[d]&&OD(arguments[d],l);return r}const vge=(n,r,l,{allOwnKeys:d}={})=>(OD(r,(g,v)=>{l&&fm(g)?n[v]=qX(g,l):n[v]=g},{allOwnKeys:d}),n),bge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yge=(n,r,l,d)=>{n.prototype=Object.create(r.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},xge=(n,r,l,d)=>{let g,v,x;const S={};if(r=r||{},n==null)return r;do{for(g=Object.getOwnPropertyNames(n),v=g.length;v-- >0;)x=g[v],(!d||d(x,n,r))&&!S[x]&&(r[x]=n[x],S[x]=!0);n=l!==!1&&zU(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},wge=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const d=n.indexOf(r,l);return d!==-1&&d===l},Cge=n=>{if(!n)return null;if(tE(n))return n;let r=n.length;if(!XX(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},_ge=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&zU(Uint8Array)),Sge=(n,r)=>{const d=(n&&n[Symbol.iterator]).call(n);let g;for(;(g=d.next())&&!g.done;){const v=g.value;r.call(n,v[0],v[1])}},kge=(n,r)=>{let l;const d=[];for(;(l=n.exec(r))!==null;)d.push(l);return d},Ege=Gh("HTMLFormElement"),Age=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,g){return d.toUpperCase()+g}),KG=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),Tge=Gh("RegExp"),eJ=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),d={};OD(l,(g,v)=>{let x;(x=r(g,v,n))!==!1&&(d[v]=x||g)}),Object.defineProperties(n,d)},Oge=n=>{eJ(n,(r,l)=>{if(fm(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=n[l];if(fm(d)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Dge=(n,r)=>{const l={},d=g=>{g.forEach(v=>{l[v]=!0})};return tE(n)?d(n):d(String(n).split(r)),l},Rge=()=>{},Ige=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r,JH="abcdefghijklmnopqrstuvwxyz",GG="0123456789",tJ={DIGIT:GG,ALPHA:JH,ALPHA_DIGIT:JH+JH.toUpperCase()+GG},Nge=(n=16,r=tJ.ALPHA_DIGIT)=>{let l="";const{length:d}=r;for(;n--;)l+=r[Math.random()*d|0];return l};function Pge(n){return!!(n&&fm(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Mge=n=>{const r=new Array(10),l=(d,g)=>{if(n8(d)){if(r.indexOf(d)>=0)return;if(!("toJSON"in d)){r[g]=d;const v=tE(d)?[]:{};return OD(d,(x,S)=>{const M=l(x,g+1);!oD(M)&&(v[S]=M)}),r[g]=void 0,v}}return d};return l(n,0)},Bge=Gh("AsyncFunction"),Lge=n=>n&&(n8(n)||fm(n))&&fm(n.then)&&fm(n.catch),nJ=((n,r)=>n?setImmediate:r?((l,d)=>(tC.addEventListener("message",({source:g,data:v})=>{g===tC&&v===l&&d.length&&d.shift()()},!1),g=>{d.push(g),tC.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",fm(tC.postMessage)),Fge=typeof queueMicrotask<"u"?queueMicrotask.bind(tC):typeof process<"u"&&process.nextTick||nJ,jt={isArray:tE,isArrayBuffer:YX,isBuffer:tge,isFormData:uge,isArrayBufferView:nge,isString:oge,isNumber:XX,isBoolean:sge,isObject:n8,isPlainObject:rL,isReadableStream:fge,isRequest:mge,isResponse:gge,isHeaders:hge,isUndefined:oD,isDate:rge,isFile:ige,isBlob:age,isRegExp:Tge,isFunction:fm,isStream:cge,isURLSearchParams:dge,isTypedArray:_ge,isFileList:lge,forEach:OD,merge:F$,extend:vge,trim:pge,stripBOM:bge,inherits:yge,toFlatObject:xge,kindOf:e8,kindOfTest:Gh,endsWith:wge,toArray:Cge,forEachEntry:Sge,matchAll:kge,isHTMLForm:Ege,hasOwnProperty:KG,hasOwnProp:KG,reduceDescriptors:eJ,freezeMethods:Oge,toObjectSet:Dge,toCamelCase:Age,noop:Rge,toFiniteNumber:Ige,findKey:JX,global:tC,isContextDefined:QX,ALPHABET:tJ,generateString:Nge,isSpecCompliantForm:Pge,toJSONObject:Mge,isAsyncFn:Bge,isThenable:Lge,setImmediate:nJ,asap:Fge};function Ws(n,r,l,d,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),d&&(this.request=d),g&&(this.response=g,this.status=g.status?g.status:null)}jt.inherits(Ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.status}}});const oJ=Ws.prototype,sJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sJ[n]={value:n}});Object.defineProperties(Ws,sJ);Object.defineProperty(oJ,"isAxiosError",{value:!0});Ws.from=(n,r,l,d,g,v)=>{const x=Object.create(oJ);return jt.toFlatObject(n,x,function(M){return M!==Error.prototype},S=>S!=="isAxiosError"),Ws.call(x,n.message,r,l,d,g),x.cause=n,x.name=n.name,v&&Object.assign(x,v),x};const Vge=null;function V$(n){return jt.isPlainObject(n)||jt.isArray(n)}function rJ(n){return jt.endsWith(n,"[]")?n.slice(0,-2):n}function qG(n,r,l){return n?n.concat(r).map(function(g,v){return g=rJ(g),!l&&v?"["+g+"]":g}).join(l?".":""):r}function zge(n){return jt.isArray(n)&&!n.some(V$)}const Hge=jt.toFlatObject(jt,{},null,function(r){return/^is[A-Z]/.test(r)});function o8(n,r,l){if(!jt.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=jt.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ne,ce){return!jt.isUndefined(ce[ne])});const d=l.metaTokens,g=l.visitor||I,v=l.dots,x=l.indexes,M=(l.Blob||typeof Blob<"u"&&Blob)&&jt.isSpecCompliantForm(r);if(!jt.isFunction(g))throw new TypeError("visitor must be a function");function R(X){if(X===null)return"";if(jt.isDate(X))return X.toISOString();if(!M&&jt.isBlob(X))throw new Ws("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(X)||jt.isTypedArray(X)?M&&typeof Blob=="function"?new Blob([X]):Buffer.from(X):X}function I(X,ne,ce){let le=X;if(X&&!ce&&typeof X=="object"){if(jt.endsWith(ne,"{}"))ne=d?ne:ne.slice(0,-2),X=JSON.stringify(X);else if(jt.isArray(X)&&zge(X)||(jt.isFileList(X)||jt.endsWith(ne,"[]"))&&(le=jt.toArray(X)))return ne=rJ(ne),le.forEach(function(he,K){!(jt.isUndefined(he)||he===null)&&r.append(x===!0?qG([ne],K,v):x===null?ne:ne+"[]",R(he))}),!1}return V$(X)?!0:(r.append(qG(ce,ne,v),R(X)),!1)}const L=[],$=Object.assign(Hge,{defaultVisitor:I,convertValue:R,isVisitable:V$});function G(X,ne){if(!jt.isUndefined(X)){if(L.indexOf(X)!==-1)throw Error("Circular reference detected in "+ne.join("."));L.push(X),jt.forEach(X,function(le,Me){(!(jt.isUndefined(le)||le===null)&&g.call(r,le,jt.isString(Me)?Me.trim():Me,ne,$))===!0&&G(le,ne?ne.concat(Me):[Me])}),L.pop()}}if(!jt.isObject(n))throw new TypeError("data must be an object");return G(n),r}function YG(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return r[d]})}function HU(n,r){this._pairs=[],n&&o8(n,this,r)}const iJ=HU.prototype;iJ.append=function(r,l){this._pairs.push([r,l])};iJ.toString=function(r){const l=r?function(d){return r.call(this,d,YG)}:YG;return this._pairs.map(function(g){return l(g[0])+"="+l(g[1])},"").join("&")};function $ge(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aJ(n,r,l){if(!r)return n;const d=l&&l.encode||$ge,g=l&&l.serialize;let v;if(g?v=g(r,l):v=jt.isURLSearchParams(r)?r.toString():new HU(r,l).toString(d),v){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+v}return n}class XG{constructor(){this.handlers=[]}use(r,l,d){return this.handlers.push({fulfilled:r,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){jt.forEach(this.handlers,function(d){d!==null&&r(d)})}}const lJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uge=typeof URLSearchParams<"u"?URLSearchParams:HU,Wge=typeof FormData<"u"?FormData:null,Zge=typeof Blob<"u"?Blob:null,jge={isBrowser:!0,classes:{URLSearchParams:Uge,FormData:Wge,Blob:Zge},protocols:["http","https","file","blob","url","data"]},$U=typeof window<"u"&&typeof document<"u",z$=typeof navigator=="object"&&navigator||void 0,Kge=$U&&(!z$||["ReactNative","NativeScript","NS"].indexOf(z$.product)<0),Gge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qge=$U&&window.location.href||"http://localhost",Yge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$U,hasStandardBrowserEnv:Kge,hasStandardBrowserWebWorkerEnv:Gge,navigator:z$,origin:qge},Symbol.toStringTag,{value:"Module"})),lf={...Yge,...jge};function Xge(n,r){return o8(n,new lf.classes.URLSearchParams,Object.assign({visitor:function(l,d,g,v){return lf.isNode&&jt.isBuffer(l)?(this.append(d,l.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},r))}function Jge(n){return jt.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Qge(n){const r={},l=Object.keys(n);let d;const g=l.length;let v;for(d=0;d<g;d++)v=l[d],r[v]=n[v];return r}function cJ(n){function r(l,d,g,v){let x=l[v++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),M=v>=l.length;return x=!x&&jt.isArray(g)?g.length:x,M?(jt.hasOwnProp(g,x)?g[x]=[g[x],d]:g[x]=d,!S):((!g[x]||!jt.isObject(g[x]))&&(g[x]=[]),r(l,d,g[x],v)&&jt.isArray(g[x])&&(g[x]=Qge(g[x])),!S)}if(jt.isFormData(n)&&jt.isFunction(n.entries)){const l={};return jt.forEachEntry(n,(d,g)=>{r(Jge(d),g,l,0)}),l}return null}function ehe(n,r,l){if(jt.isString(n))try{return(r||JSON.parse)(n),jt.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(n)}const DD={transitional:lJ,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const d=l.getContentType()||"",g=d.indexOf("application/json")>-1,v=jt.isObject(r);if(v&&jt.isHTMLForm(r)&&(r=new FormData(r)),jt.isFormData(r))return g?JSON.stringify(cJ(r)):r;if(jt.isArrayBuffer(r)||jt.isBuffer(r)||jt.isStream(r)||jt.isFile(r)||jt.isBlob(r)||jt.isReadableStream(r))return r;if(jt.isArrayBufferView(r))return r.buffer;if(jt.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let S;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Xge(r,this.formSerializer).toString();if((S=jt.isFileList(r))||d.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return o8(S?{"files[]":r}:r,M&&new M,this.formSerializer)}}return v||g?(l.setContentType("application/json",!1),ehe(r)):r}],transformResponse:[function(r){const l=this.transitional||DD.transitional,d=l&&l.forcedJSONParsing,g=this.responseType==="json";if(jt.isResponse(r)||jt.isReadableStream(r))return r;if(r&&jt.isString(r)&&(d&&!this.responseType||g)){const x=!(l&&l.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(S){if(x)throw S.name==="SyntaxError"?Ws.from(S,Ws.ERR_BAD_RESPONSE,this,null,this.response):S}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lf.classes.FormData,Blob:lf.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],n=>{DD.headers[n]={}});const the=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nhe=n=>{const r={};let l,d,g;return n&&n.split(`
`).forEach(function(x){g=x.indexOf(":"),l=x.substring(0,g).trim().toLowerCase(),d=x.substring(g+1).trim(),!(!l||r[l]&&the[l])&&(l==="set-cookie"?r[l]?r[l].push(d):r[l]=[d]:r[l]=r[l]?r[l]+", "+d:d)}),r},JG=Symbol("internals");function NO(n){return n&&String(n).trim().toLowerCase()}function iL(n){return n===!1||n==null?n:jt.isArray(n)?n.map(iL):String(n)}function ohe(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(n);)r[d[1]]=d[2];return r}const she=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function QH(n,r,l,d,g){if(jt.isFunction(d))return d.call(this,r,l);if(g&&(r=l),!!jt.isString(r)){if(jt.isString(d))return r.indexOf(d)!==-1;if(jt.isRegExp(d))return d.test(r)}}function rhe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,d)=>l.toUpperCase()+d)}function ihe(n,r){const l=jt.toCamelCase(" "+r);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+l,{value:function(g,v,x){return this[d].call(this,r,g,v,x)},configurable:!0})})}class cf{constructor(r){r&&this.set(r)}set(r,l,d){const g=this;function v(S,M,R){const I=NO(M);if(!I)throw new Error("header name must be a non-empty string");const L=jt.findKey(g,I);(!L||g[L]===void 0||R===!0||R===void 0&&g[L]!==!1)&&(g[L||M]=iL(S))}const x=(S,M)=>jt.forEach(S,(R,I)=>v(R,I,M));if(jt.isPlainObject(r)||r instanceof this.constructor)x(r,l);else if(jt.isString(r)&&(r=r.trim())&&!she(r))x(nhe(r),l);else if(jt.isHeaders(r))for(const[S,M]of r.entries())v(M,S,d);else r!=null&&v(l,r,d);return this}get(r,l){if(r=NO(r),r){const d=jt.findKey(this,r);if(d){const g=this[d];if(!l)return g;if(l===!0)return ohe(g);if(jt.isFunction(l))return l.call(this,g,d);if(jt.isRegExp(l))return l.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=NO(r),r){const d=jt.findKey(this,r);return!!(d&&this[d]!==void 0&&(!l||QH(this,this[d],d,l)))}return!1}delete(r,l){const d=this;let g=!1;function v(x){if(x=NO(x),x){const S=jt.findKey(d,x);S&&(!l||QH(d,d[S],S,l))&&(delete d[S],g=!0)}}return jt.isArray(r)?r.forEach(v):v(r),g}clear(r){const l=Object.keys(this);let d=l.length,g=!1;for(;d--;){const v=l[d];(!r||QH(this,this[v],v,r,!0))&&(delete this[v],g=!0)}return g}normalize(r){const l=this,d={};return jt.forEach(this,(g,v)=>{const x=jt.findKey(d,v);if(x){l[x]=iL(g),delete l[v];return}const S=r?rhe(v):String(v).trim();S!==v&&delete l[v],l[S]=iL(g),d[S]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return jt.forEach(this,(d,g)=>{d!=null&&d!==!1&&(l[g]=r&&jt.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const d=new this(r);return l.forEach(g=>d.set(g)),d}static accessor(r){const d=(this[JG]=this[JG]={accessors:{}}).accessors,g=this.prototype;function v(x){const S=NO(x);d[S]||(ihe(g,x),d[S]=!0)}return jt.isArray(r)?r.forEach(v):v(r),this}}cf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);jt.reduceDescriptors(cf.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(d){this[l]=d}}});jt.freezeMethods(cf);function e$(n,r){const l=this||DD,d=r||l,g=cf.from(d.headers);let v=d.data;return jt.forEach(n,function(S){v=S.call(l,v,g.normalize(),r?r.status:void 0)}),g.normalize(),v}function uJ(n){return!!(n&&n.__CANCEL__)}function nE(n,r,l){Ws.call(this,n??"canceled",Ws.ERR_CANCELED,r,l),this.name="CanceledError"}jt.inherits(nE,Ws,{__CANCEL__:!0});function dJ(n,r,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?n(l):r(new Ws("Request failed with status code "+l.status,[Ws.ERR_BAD_REQUEST,Ws.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function ahe(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function lhe(n,r){n=n||10;const l=new Array(n),d=new Array(n);let g=0,v=0,x;return r=r!==void 0?r:1e3,function(M){const R=Date.now(),I=d[v];x||(x=R),l[g]=M,d[g]=R;let L=v,$=0;for(;L!==g;)$+=l[L++],L=L%n;if(g=(g+1)%n,g===v&&(v=(v+1)%n),R-x<r)return;const G=I&&R-I;return G?Math.round($*1e3/G):void 0}}function che(n,r){let l=0,d=1e3/r,g,v;const x=(R,I=Date.now())=>{l=I,g=null,v&&(clearTimeout(v),v=null),n.apply(null,R)};return[(...R)=>{const I=Date.now(),L=I-l;L>=d?x(R,I):(g=R,v||(v=setTimeout(()=>{v=null,x(g)},d-L)))},()=>g&&x(g)]}const AL=(n,r,l=3)=>{let d=0;const g=lhe(50,250);return che(v=>{const x=v.loaded,S=v.lengthComputable?v.total:void 0,M=x-d,R=g(M),I=x<=S;d=x;const L={loaded:x,total:S,progress:S?x/S:void 0,bytes:M,rate:R||void 0,estimated:R&&S&&I?(S-x)/R:void 0,event:v,lengthComputable:S!=null,[r?"download":"upload"]:!0};n(L)},l)},QG=(n,r)=>{const l=n!=null;return[d=>r[0]({lengthComputable:l,total:n,loaded:d}),r[1]]},eq=n=>(...r)=>jt.asap(()=>n(...r)),uhe=lf.hasStandardBrowserEnv?function(){const r=lf.navigator&&/(msie|trident)/i.test(lf.navigator.userAgent),l=document.createElement("a");let d;function g(v){let x=v;return r&&(l.setAttribute("href",x),x=l.href),l.setAttribute("href",x),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return d=g(window.location.href),function(x){const S=jt.isString(x)?g(x):x;return S.protocol===d.protocol&&S.host===d.host}}():function(){return function(){return!0}}(),dhe=lf.hasStandardBrowserEnv?{write(n,r,l,d,g,v){const x=[n+"="+encodeURIComponent(r)];jt.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),jt.isString(d)&&x.push("path="+d),jt.isString(g)&&x.push("domain="+g),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fhe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function mhe(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function fJ(n,r){return n&&!fhe(r)?mhe(n,r):r}const tq=n=>n instanceof cf?{...n}:n;function dC(n,r){r=r||{};const l={};function d(R,I,L){return jt.isPlainObject(R)&&jt.isPlainObject(I)?jt.merge.call({caseless:L},R,I):jt.isPlainObject(I)?jt.merge({},I):jt.isArray(I)?I.slice():I}function g(R,I,L){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R,L)}else return d(R,I,L)}function v(R,I){if(!jt.isUndefined(I))return d(void 0,I)}function x(R,I){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R)}else return d(void 0,I)}function S(R,I,L){if(L in r)return d(R,I);if(L in n)return d(void 0,R)}const M={url:v,method:v,data:v,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(R,I)=>g(tq(R),tq(I),!0)};return jt.forEach(Object.keys(Object.assign({},n,r)),function(I){const L=M[I]||g,$=L(n[I],r[I],I);jt.isUndefined($)&&L!==S||(l[I]=$)}),l}const mJ=n=>{const r=dC({},n);let{data:l,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:x,auth:S}=r;r.headers=x=cf.from(x),r.url=aJ(fJ(r.baseURL,r.url),n.params,n.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let M;if(jt.isFormData(l)){if(lf.hasStandardBrowserEnv||lf.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((M=x.getContentType())!==!1){const[R,...I]=M?M.split(";").map(L=>L.trim()).filter(Boolean):[];x.setContentType([R||"multipart/form-data",...I].join("; "))}}if(lf.hasStandardBrowserEnv&&(d&&jt.isFunction(d)&&(d=d(r)),d||d!==!1&&uhe(r.url))){const R=g&&v&&dhe.read(v);R&&x.set(g,R)}return r},ghe=typeof XMLHttpRequest<"u",hhe=ghe&&function(n){return new Promise(function(l,d){const g=mJ(n);let v=g.data;const x=cf.from(g.headers).normalize();let{responseType:S,onUploadProgress:M,onDownloadProgress:R}=g,I,L,$,G,X;function ne(){G&&G(),X&&X(),g.cancelToken&&g.cancelToken.unsubscribe(I),g.signal&&g.signal.removeEventListener("abort",I)}let ce=new XMLHttpRequest;ce.open(g.method.toUpperCase(),g.url,!0),ce.timeout=g.timeout;function le(){if(!ce)return;const he=cf.from("getAllResponseHeaders"in ce&&ce.getAllResponseHeaders()),ye={data:!S||S==="text"||S==="json"?ce.responseText:ce.response,status:ce.status,statusText:ce.statusText,headers:he,config:n,request:ce};dJ(function(Ue){l(Ue),ne()},function(Ue){d(Ue),ne()},ye),ce=null}"onloadend"in ce?ce.onloadend=le:ce.onreadystatechange=function(){!ce||ce.readyState!==4||ce.status===0&&!(ce.responseURL&&ce.responseURL.indexOf("file:")===0)||setTimeout(le)},ce.onabort=function(){ce&&(d(new Ws("Request aborted",Ws.ECONNABORTED,n,ce)),ce=null)},ce.onerror=function(){d(new Ws("Network Error",Ws.ERR_NETWORK,n,ce)),ce=null},ce.ontimeout=function(){let K=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const ye=g.transitional||lJ;g.timeoutErrorMessage&&(K=g.timeoutErrorMessage),d(new Ws(K,ye.clarifyTimeoutError?Ws.ETIMEDOUT:Ws.ECONNABORTED,n,ce)),ce=null},v===void 0&&x.setContentType(null),"setRequestHeader"in ce&&jt.forEach(x.toJSON(),function(K,ye){ce.setRequestHeader(ye,K)}),jt.isUndefined(g.withCredentials)||(ce.withCredentials=!!g.withCredentials),S&&S!=="json"&&(ce.responseType=g.responseType),R&&([$,X]=AL(R,!0),ce.addEventListener("progress",$)),M&&ce.upload&&([L,G]=AL(M),ce.upload.addEventListener("progress",L),ce.upload.addEventListener("loadend",G)),(g.cancelToken||g.signal)&&(I=he=>{ce&&(d(!he||he.type?new nE(null,n,ce):he),ce.abort(),ce=null)},g.cancelToken&&g.cancelToken.subscribe(I),g.signal&&(g.signal.aborted?I():g.signal.addEventListener("abort",I)));const Me=ahe(g.url);if(Me&&lf.protocols.indexOf(Me)===-1){d(new Ws("Unsupported protocol "+Me+":",Ws.ERR_BAD_REQUEST,n));return}ce.send(v||null)})},phe=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let d=new AbortController,g;const v=function(R){if(!g){g=!0,S();const I=R instanceof Error?R:this.reason;d.abort(I instanceof Ws?I:new nE(I instanceof Error?I.message:I))}};let x=r&&setTimeout(()=>{x=null,v(new Ws(`timeout ${r} of ms exceeded`,Ws.ETIMEDOUT))},r);const S=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(R=>{R.unsubscribe?R.unsubscribe(v):R.removeEventListener("abort",v)}),n=null)};n.forEach(R=>R.addEventListener("abort",v));const{signal:M}=d;return M.unsubscribe=()=>jt.asap(S),M}},vhe=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let d=0,g;for(;d<l;)g=d+r,yield n.slice(d,g),d=g},bhe=async function*(n,r){for await(const l of yhe(n))yield*vhe(l,r)},yhe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:d}=await r.read();if(l)break;yield d}}finally{await r.cancel()}},nq=(n,r,l,d)=>{const g=bhe(n,r);let v=0,x,S=M=>{x||(x=!0,d&&d(M))};return new ReadableStream({async pull(M){try{const{done:R,value:I}=await g.next();if(R){S(),M.close();return}let L=I.byteLength;if(l){let $=v+=L;l($)}M.enqueue(new Uint8Array(I))}catch(R){throw S(R),R}},cancel(M){return S(M),g.return()}},{highWaterMark:2})},s8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gJ=s8&&typeof ReadableStream=="function",xhe=s8&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),hJ=(n,...r)=>{try{return!!n(...r)}catch{return!1}},whe=gJ&&hJ(()=>{let n=!1;const r=new Request(lf.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),oq=64*1024,H$=gJ&&hJ(()=>jt.isReadableStream(new Response("").body)),TL={stream:H$&&(n=>n.body)};s8&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!TL[r]&&(TL[r]=jt.isFunction(n[r])?l=>l[r]():(l,d)=>{throw new Ws(`Response type '${r}' is not supported`,Ws.ERR_NOT_SUPPORT,d)})})})(new Response);const Che=async n=>{if(n==null)return 0;if(jt.isBlob(n))return n.size;if(jt.isSpecCompliantForm(n))return(await new Request(lf.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(jt.isArrayBufferView(n)||jt.isArrayBuffer(n))return n.byteLength;if(jt.isURLSearchParams(n)&&(n=n+""),jt.isString(n))return(await xhe(n)).byteLength},_he=async(n,r)=>{const l=jt.toFiniteNumber(n.getContentLength());return l??Che(r)},She=s8&&(async n=>{let{url:r,method:l,data:d,signal:g,cancelToken:v,timeout:x,onDownloadProgress:S,onUploadProgress:M,responseType:R,headers:I,withCredentials:L="same-origin",fetchOptions:$}=mJ(n);R=R?(R+"").toLowerCase():"text";let G=phe([g,v&&v.toAbortSignal()],x),X;const ne=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let ce;try{if(M&&whe&&l!=="get"&&l!=="head"&&(ce=await _he(I,d))!==0){let ye=new Request(r,{method:"POST",body:d,duplex:"half"}),ae;if(jt.isFormData(d)&&(ae=ye.headers.get("content-type"))&&I.setContentType(ae),ye.body){const[Ue,We]=QG(ce,AL(eq(M)));d=nq(ye.body,oq,Ue,We)}}jt.isString(L)||(L=L?"include":"omit");const le="credentials"in Request.prototype;X=new Request(r,{...$,signal:G,method:l.toUpperCase(),headers:I.normalize().toJSON(),body:d,duplex:"half",credentials:le?L:void 0});let Me=await fetch(X);const he=H$&&(R==="stream"||R==="response");if(H$&&(S||he&&ne)){const ye={};["status","statusText","headers"].forEach(qe=>{ye[qe]=Me[qe]});const ae=jt.toFiniteNumber(Me.headers.get("content-length")),[Ue,We]=S&&QG(ae,AL(eq(S),!0))||[];Me=new Response(nq(Me.body,oq,Ue,()=>{We&&We(),ne&&ne()}),ye)}R=R||"text";let K=await TL[jt.findKey(TL,R)||"text"](Me,n);return!he&&ne&&ne(),await new Promise((ye,ae)=>{dJ(ye,ae,{data:K,headers:cf.from(Me.headers),status:Me.status,statusText:Me.statusText,config:n,request:X})})}catch(le){throw ne&&ne(),le&&le.name==="TypeError"&&/fetch/i.test(le.message)?Object.assign(new Ws("Network Error",Ws.ERR_NETWORK,n,X),{cause:le.cause||le}):Ws.from(le,le&&le.code,n,X)}}),$$={http:Vge,xhr:hhe,fetch:She};jt.forEach($$,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const sq=n=>`- ${n}`,khe=n=>jt.isFunction(n)||n===null||n===!1,pJ={getAdapter:n=>{n=jt.isArray(n)?n:[n];const{length:r}=n;let l,d;const g={};for(let v=0;v<r;v++){l=n[v];let x;if(d=l,!khe(l)&&(d=$$[(x=String(l)).toLowerCase()],d===void 0))throw new Ws(`Unknown adapter '${x}'`);if(d)break;g[x||"#"+v]=d}if(!d){const v=Object.entries(g).map(([S,M])=>`adapter ${S} `+(M===!1?"is not supported by the environment":"is not available in the build"));let x=r?v.length>1?`since :
`+v.map(sq).join(`
`):" "+sq(v[0]):"as no adapter specified";throw new Ws("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d},adapters:$$};function t$(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new nE(null,n)}function rq(n){return t$(n),n.headers=cf.from(n.headers),n.data=e$.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),pJ.getAdapter(n.adapter||DD.adapter)(n).then(function(d){return t$(n),d.data=e$.call(n,n.transformResponse,d),d.headers=cf.from(d.headers),d},function(d){return uJ(d)||(t$(n),d&&d.response&&(d.response.data=e$.call(n,n.transformResponse,d.response),d.response.headers=cf.from(d.response.headers))),Promise.reject(d)})}const vJ="1.7.7",UU={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{UU[n]=function(d){return typeof d===n||"a"+(r<1?"n ":" ")+n}});const iq={};UU.transitional=function(r,l,d){function g(v,x){return"[Axios v"+vJ+"] Transitional option '"+v+"'"+x+(d?". "+d:"")}return(v,x,S)=>{if(r===!1)throw new Ws(g(x," has been removed"+(l?" in "+l:"")),Ws.ERR_DEPRECATED);return l&&!iq[x]&&(iq[x]=!0,console.warn(g(x," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(v,x,S):!0}};function Ehe(n,r,l){if(typeof n!="object")throw new Ws("options must be an object",Ws.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let g=d.length;for(;g-- >0;){const v=d[g],x=r[v];if(x){const S=n[v],M=S===void 0||x(S,v,n);if(M!==!0)throw new Ws("option "+v+" must be "+M,Ws.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ws("Unknown option "+v,Ws.ERR_BAD_OPTION)}}const U$={assertOptions:Ehe,validators:UU},Iy=U$.validators;class aC{constructor(r){this.defaults=r,this.interceptors={request:new XG,response:new XG}}async request(r,l){try{return await this._request(r,l)}catch(d){if(d instanceof Error){let g;Error.captureStackTrace?Error.captureStackTrace(g={}):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=dC(this.defaults,l);const{transitional:d,paramsSerializer:g,headers:v}=l;d!==void 0&&U$.assertOptions(d,{silentJSONParsing:Iy.transitional(Iy.boolean),forcedJSONParsing:Iy.transitional(Iy.boolean),clarifyTimeoutError:Iy.transitional(Iy.boolean)},!1),g!=null&&(jt.isFunction(g)?l.paramsSerializer={serialize:g}:U$.assertOptions(g,{encode:Iy.function,serialize:Iy.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let x=v&&jt.merge(v.common,v[l.method]);v&&jt.forEach(["delete","get","head","post","put","patch","common"],X=>{delete v[X]}),l.headers=cf.concat(x,v);const S=[];let M=!0;this.interceptors.request.forEach(function(ne){typeof ne.runWhen=="function"&&ne.runWhen(l)===!1||(M=M&&ne.synchronous,S.unshift(ne.fulfilled,ne.rejected))});const R=[];this.interceptors.response.forEach(function(ne){R.push(ne.fulfilled,ne.rejected)});let I,L=0,$;if(!M){const X=[rq.bind(this),void 0];for(X.unshift.apply(X,S),X.push.apply(X,R),$=X.length,I=Promise.resolve(l);L<$;)I=I.then(X[L++],X[L++]);return I}$=S.length;let G=l;for(L=0;L<$;){const X=S[L++],ne=S[L++];try{G=X(G)}catch(ce){ne.call(this,ce);break}}try{I=rq.call(this,G)}catch(X){return Promise.reject(X)}for(L=0,$=R.length;L<$;)I=I.then(R[L++],R[L++]);return I}getUri(r){r=dC(this.defaults,r);const l=fJ(r.baseURL,r.url);return aJ(l,r.params,r.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(r){aC.prototype[r]=function(l,d){return this.request(dC(d||{},{method:r,url:l,data:(d||{}).data}))}});jt.forEach(["post","put","patch"],function(r){function l(d){return function(v,x,S){return this.request(dC(S||{},{method:r,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:x}))}}aC.prototype[r]=l(),aC.prototype[r+"Form"]=l(!0)});class WU{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(v){l=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const x=new Promise(S=>{d.subscribe(S),v=S}).then(g);return x.cancel=function(){d.unsubscribe(v)},x},r(function(v,x,S){d.reason||(d.reason=new nE(v,x,S),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=d=>{r.abort(d)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new WU(function(g){r=g}),cancel:r}}}function Ahe(n){return function(l){return n.apply(null,l)}}function The(n){return jt.isObject(n)&&n.isAxiosError===!0}const W$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W$).forEach(([n,r])=>{W$[r]=n});function bJ(n){const r=new aC(n),l=qX(aC.prototype.request,r);return jt.extend(l,aC.prototype,r,{allOwnKeys:!0}),jt.extend(l,r,null,{allOwnKeys:!0}),l.create=function(g){return bJ(dC(n,g))},l}const Ji=bJ(DD);Ji.Axios=aC;Ji.CanceledError=nE;Ji.CancelToken=WU;Ji.isCancel=uJ;Ji.VERSION=vJ;Ji.toFormData=o8;Ji.AxiosError=Ws;Ji.Cancel=Ji.CanceledError;Ji.all=function(r){return Promise.all(r)};Ji.spread=Ahe;Ji.isAxiosError=The;Ji.mergeConfig=dC;Ji.AxiosHeaders=cf;Ji.formToJSON=n=>cJ(jt.isHTMLForm(n)?new FormData(n):n);Ji.getAdapter=pJ.getAdapter;Ji.HttpStatusCode=W$;Ji.default=Ji;/*! js-cookie v3.0.5 | MIT */function KB(n){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)n[d]=l[d]}return n}var Ohe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Z$(n,r){function l(g,v,x){if(!(typeof document>"u")){x=KB({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var M in x)x[M]&&(S+="; "+M,x[M]!==!0&&(S+="="+x[M].split(";")[0]));return document.cookie=g+"="+n.write(v,g)+S}}function d(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var v=document.cookie?document.cookie.split("; "):[],x={},S=0;S<v.length;S++){var M=v[S].split("="),R=M.slice(1).join("=");try{var I=decodeURIComponent(M[0]);if(x[I]=n.read(R,I),g===I)break}catch{}}return g?x[g]:x}}return Object.create({set:l,get:d,remove:function(g,v){l(g,"",KB({},v,{expires:-1}))},withAttributes:function(g){return Z$(this.converter,KB({},this.attributes,g))},withConverter:function(g){return Z$(KB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}var yr=Z$(Ohe,{path:"/"});const Fl=class Fl{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"text","");Sn(this,"points",null);Sn(this,"grade_key","");Sn(this,"last_change",null);Sn(this,"is_authorized",!1);Sn(this,"include_comments",null);Sn(this,"include_comment_ratings",null);Sn(this,"include_comment_points",null);Sn(this,"include_criteria_points",null);this.setData(r)}setData(r){r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.is_authorized!==void 0&&r.is_authorized!==null&&(this.is_authorized=!!r.is_authorized),r.include_comments!==void 0&&r.include_comments!==null&&(this.include_comments=this.transformInclusion(r.include_comments)),r.include_comment_ratings!==void 0&&r.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(r.include_comment_ratings)),r.include_comment_points!==void 0&&r.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(r.include_comment_points)),r.include_criteria_points!==void 0&&r.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(r.include_criteria_points))}transformInclusion(r){if(r===null)return null;if(r=parseInt(r),r<=Fl.INCLUDE_NOT)return Fl.INCLUDE_NOT;if(r==Fl.INCLUDE_INFO)return Fl.INCLUDE_INFO;if(r>=Fl.INCLUDE_RELEVANT)return Fl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(r={}){return{include_comments:this.include_comments??r.include_comments??Fl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??r.include_comment_ratings??Fl.INCLUDE_INFO,include_comment_points:this.include_comment_points??r.include_comment_points??Fl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??r.include_criteria_points??Fl.INCLUDE_INFO}}getPartialPointsVisible(){this.getInclusionSettings()}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Fl(this.getData())}isEqual(r){for(const l in this)if(this[l]!==r[l])return!1;return!0}};Sn(Fl,"INCLUDE_NOT",0),Sn(Fl,"INCLUDE_INFO",1),Sn(Fl,"INCLUDE_RELEVANT",2),Sn(Fl,"ALLOWED_INCLUSIONS",[Fl.INCLUDE_NOT,Fl.INCLUDE_INFO,Fl.INCLUDE_RELEVANT]);let _s=Fl;const n$=Sd.createInstance({storeName:"corrector-settings",description:"Settings data"}),um=Nu("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:"Exzellent",negative_rating:"Kardinal",headline_scheme:null,fixed_inclusions:!1,include_comments:_s.INCLUDE_INFO,include_comment_ratings:_s.INCLUDE_INFO,include_comment_points:_s.INCLUDE_INFO,include_criteria_points:_s.INCLUDE_INFO}),getters:{ratingLabels:n=>'"'+n.positive_rating+'" und "'+n.negative_rating+'"',headlineClass:n=>n.headline_scheme==="three"?"headlines-three":"",summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),inclusionsChangeable:n=>n.fixed_inclusions==!1,inclusionsPossible:n=>n.fixed_inclusions==!1||n.include_comments!=_s.INCLUDE_NOT||n.include_comment_ratings!=_s.INCLUDE_NOT||n.include_comment_points!=_s.INCLUDE_NOT||n.include_criteria_points!=_s.INCLUDE_NOT},actions:{async clearStorage(){try{await n$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await n$.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await n$.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}}}}),o$=Sd.createInstance({storeName:"corrector-task",description:"Task data"}),Ky=Nu("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:n=>!!n.instructions,hasSolution:n=>!!n.solution,hasCorrectionEnd:n=>!!n.correction_end,correctionEndReached:n=>n.remaining_time===0},actions:{async clearStorage(){try{await o$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{const r=await o$.getItem("task");this.$patch(r)}catch(r){console.log(r)}this.updateRemainingTime(),n.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(n){const r=ps();try{await o$.setItem("task",n),this.$patch(n)}catch(l){console.log(l)}this.updateRemainingTime(),r.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const n=ps();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-n.getServerTime(Date.now())):this.remaining_time=null}}}),p1=Sd.createInstance({storeName:"corrector-resources",description:"Resource data"}),fC=Nu("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:n=>n.resources.length>0,hasInstruction:n=>!!n.resources.find(l=>l.type=="instruct"),hasSolution:n=>!!n.resources.find(l=>l.type=="solution"),instruction:n=>n.resources.find(r=>r.type=="instruct"),solution:n=>n.resources.find(r=>r.type=="solution"),hasFileOrUrlResources:n=>!!n.resources.find(l=>l.type=="file"||l.type=="url"),fileOrUrlResources:n=>n.resources.filter(r=>r.type=="file"||r.type=="url"),activeTitle:n=>{const r=n.resources.find(l=>l.key==n.activeKey);return r?r.title:""},getResource:n=>function(l){return n.resources.find(d=>d.key==l)},getResourceIsActive:n=>function(l){return n.activeKey==l.key}},actions:{async clearStorage(){try{await p1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await p1.getItem("resourceKeys");n&&(this.keys=JSON.parse(n)),this.activeKey=await p1.getItem("activeKey")??"";for(const r of this.keys){const l=await p1.getItem(r);this.resources.push(l)}this.loadFiles()}catch(n){console.log(n)}},async loadFromData(n){const r=ps();try{await p1.clear(),this.$reset();for(const l of n)l.url=r.getResourceUrl(l.key),this.resources.push(l),this.keys.push(l.key),await p1.setItem(l.key,l);await p1.setItem("resourceKeys",JSON.stringify(this.keys)),await p1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(l){console.log(l)}},async selectResource(n){this.activeKey=n.key,await p1.setItem("activeKey",this.activeKey)},async loadFiles(){for(const n of this.keys){let r=this.getResource(n),l=null;if(r.type!="url")try{console.log("preload "+r.title+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(d){console.error(d)}}}}});class j${constructor(r={}){Sn(this,"key","");Sn(this,"title","");Sn(this,"correction_allowed",!1);Sn(this,"authorization_allowed",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.correction_allowed!==void 0&&r.correction_allowed!==null&&(this.correction_allowed=!!r.correction_allowed),r.authorization_allowed!==void 0&&r.authorization_allowed!==null&&(this.authorization_allowed=!!r.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const v1=Sd.createInstance({storeName:"corrector-items",description:"Items data"}),mv=Nu("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:n=>n.keys.length>0,firstKey:n=>n.keys.length>0?n.keys[0]:"",lastKey:n=>n.keys.length>0?n.keys[n.keys.length-1]:"",correctionAllowed:n=>n.currentItem.correction_allowed,authorizationAllowed:n=>n.currentItem.authorization_allowed,currentItem:n=>{const r=ps();return n.items.find(l=>l.key==r.itemKey)},getPreviousKey:n=>function(l){for(let d=1;d<n.keys.length;d++)if(n.keys[d]==l)return n.keys[d-1];return""},getNextKey:n=>function(l){for(let d=0;d<n.keys.length-1;d++)if(n.keys[d]==l)return n.keys[d+1];return""},getItem:n=>function(l,d=null){for(const g of n.items)if(g.key==l)return g;return d}},actions:{async clearStorage(){try{await v1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await v1.getItem("itemKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=new j$(JSON.parse(await v1.getItem(r)));this.items.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await v1.clear(),this.$reset();for(const r of n){const l=new j$(r);this.items.push(l),this.keys.push(l.key),await v1.setItem(l.key,JSON.stringify(l.getData()))}await v1.setItem("itemKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}},async addItem(n){try{this.keys.includes(n.key)||(this.items.unshift(n),this.keys.unshift(n.key),await v1.setItem(n.key,JSON.stringify(n.getData())),await v1.setItem("itemKeys",JSON.stringify(this.keys)))}catch(r){console.log(r)}},async updateItem(n){const r=this.items.findIndex(l=>l.key===n.key);if(r!==-1){this.items[r]=n,await v1.setItem(n.key,JSON.stringify(n.getData()));return}}}}),Tk=Sd.createInstance({storeName:"corrector-levels",description:"Grade level data"}),Gy=Nu("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:n=>n.levels.length>0,getLevel:n=>function(l){return n.levels.find(d=>d.key==l)},getLevelForPoints:n=>function(l){if(l===null)return null;let d=null,g=0;for(let v=0;v<n.levels.length;v++)n.levels[v].min_points<=l&&n.levels[v].min_points>=g&&(d=n.levels[v],g=d.points);return d}},actions:{async clearStorage(){try{await Tk.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Tk.getItem("levelKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Tk.getItem(r);this.levels.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Tk.clear(),this.$reset();for(const r of n)this.levels.push(r),this.keys.push(r.key),await Tk.setItem(r.key,r);await Tk.setItem("levelKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),GB=Sd.createInstance({storeName:"corrector-essay",description:"Essay data"}),sD=Nu("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:n=>n.correction_finalized,grade:n=>{let l=Gy().getLevelForPoints(n.final_points);return l!==null?l.title:""},gradeKey:n=>{let l=Gy().getLevelForPoints(n.final_points);return l!==null?l.key:""}},actions:{async clearStorage(){try{await GB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await GB.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await GB.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}},async saveStitchDecision(){const n=ps(),r=n.getServerTime(Date.now()),l={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:r};await n.saveStitchDecisionToBackend(l)&&(this.correction_finalized=r,await GB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class aq{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"page_no",0);Sn(this,"width",0);Sn(this,"height",0);Sn(this,"url",null);Sn(this,"thumb_width",null);Sn(this,"thumb_height",null);Sn(this,"thumb_url",null);Sn(this,"objectUrl",null);Sn(this,"thumbObjectUrl",null);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const Ok=Sd.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),OL=Nu("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:n=>Object.keys(n.pages).length>0,selectedPage:n=>n.pages[n.selectedKey]??null,selectedPageNo:n=>n.selectedPage?n.selectedPage.page_no:null,currentPages:n=>{let r=[];for(const l in n.pages)r.push(n.pages[l]);return r},getPage:n=>function(l){return n.pages[l]??null},getPageByPageNo:n=>function(l){for(const d in n.pages)if(n.pages[d].page_no==l)return n.pages[d];return null}},actions:{selectPage(n){this.selectedKey!=n&&(this.selectedKey=n)},selectByPageNo(n){for(const r in this.pages)if(this.pages[r].page_no==n)return this.selectedKey=r,!0;return!1},calculateMinMaxPage(){let n=null,r=null;for(const l in this.pages)(n===null||this.pages[l].page_no<n)&&(n=this.pages[l].page_no),(r===null||this.pages[l].page_no>r)&&(r=this.pages[l].page_no);n!==null&&(this.minPage=n),r!==null&&(this.maxPage=r)},async clearStorage(){try{await Ok.clear()}catch(n){console.log(n)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const n=ps();try{this.purgeFiles(),this.$reset();const r=await Ok.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new aq(JSON.parse(await Ok.getItem(l)));d.item_key==n.itemKey&&(this.pages[l]=d)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Ok.clear(),this.purgeFiles(),this.$reset();for(const l of n){const d=new aq(l);d.url=r.getImageUrl(d.key,d.item_key),d.thumb_url=r.getThumbUrl(d.key,d.item_key),this.keys.push(d.key),await Ok.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.pages[d.key]=d)}await Ok.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(l){console.log(l)}},async loadFiles(){try{for(const n in this.pages){const r=this.pages[n];let l;r&&(console.log("preload page "+r.page_no+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,console.log("preload thumbnail "+r.page_no+"..."),l=await Ji(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(n){console.error(n)}},purgeFiles(){for(const n in this.pages){const r=this.pages[n];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class Dhe{constructor(r={}){Sn(this,"key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"description","");Sn(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points}}}const Dk=Sd.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),Uh=Nu("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasAnyCriteria:n=>{const l=bv().correctorKeys;return!!n.criteria.find(d=>d.corrector_key==""||l.includes(d.corrector_key))},hasOwnCriteria:n=>{const r=ps();return!!n.criteria.find(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},ownCriteria:n=>{const r=ps();return n.criteria.filter(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},sumOfMaxPoints:n=>{let r=0;return n.criteria.forEach(l=>r+=l.points),r},getCriterion:n=>function(l){return n.criteria.find(d=>d.key==l)},getCorrectorHasCriteria:n=>function(l){return!!n.criteria.find(d=>d.corrector_key==""||d.corrector_key==l)},getCorrectorCriteria:n=>function(l){return n.criteria.filter(d=>d.corrector_key==""||d.corrector_key==l)}},actions:{async clearStorage(){try{await Dk.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Dk.getItem("criterionKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Dk.getItem(r);this.criteria.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Dk.clear(),this.$reset();for(const r of n){const l=new Dhe(r);this.criteria.push(l),this.keys.push(l.key),await Dk.setItem(l.key,l.getData())}await Dk.setItem("criterionKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),Vl=class Vl{constructor(r={}){Sn(this,"action",null);Sn(this,"type",null);Sn(this,"key","");Sn(this,"item_key","");Sn(this,"last_change",0);this.setData(r),this.last_change==0&&(this.last_change=Date.now())}setData(r){r.action!==void 0&&Vl.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Vl.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return Vl.ALLOWED_TYPES.includes(this.type)&&Vl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&this.item_key!=""}};Sn(Vl,"ACTION_SAVE","save"),Sn(Vl,"ACTION_DELETE","delete"),Sn(Vl,"ALLOWED_ACTIONS",[Vl.ACTION_SAVE,Vl.ACTION_DELETE]),Sn(Vl,"TYPE_COMMENT","comment"),Sn(Vl,"TYPE_POINTS","points"),Sn(Vl,"TYPE_SUMMARY","summary"),Sn(Vl,"TYPE_PREFERENCES","preferences"),Sn(Vl,"ALLOWED_TYPES",[Vl.TYPE_COMMENT,Vl.TYPE_POINTS,Vl.TYPE_SUMMARY,Vl.TYPE_PREFERENCES]);let ir=Vl;const qB=Sd.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function lq(){const n={changes:{}};for(const r of ir.ALLOWED_TYPES)n.changes[r]={};return n}const tc=Nu("changes",{state:()=>lq(),getters:{countChanges:n=>{let r=0;for(const l in n.changes)r+=Object.keys(n.changes[l]).length;return r},getCountOfChangesFor:n=>function(l){return ir.ALLOWED_TYPES.includes(l)?Object.keys(n.changes[l]).length:(console.log("wrong type"+l),0)},getChangesFor:n=>function(l,d=0){if(!ir.ALLOWED_TYPES.includes(l))return[];const g=[];for(const v in n.changes[l]){const x=n.changes[l][v];(d==0||x.last_change<=d)&&g.push(x)}return g}},actions:{async clearStorage(){try{await qB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=lq();try{for(const r in n.changes){const l=await qB.getItem(r);if(l){const d=JSON.parse(l);if(typeof d=="object"&&d!==null)for(const g in d)n.changes[r][g]=new ir(d[g])}}}catch(r){console.log(r)}this.$patch(n)},async saveChangesOfTypeToStorage(n){const r={};for(const l in this.changes[n]){const d=this.changes[n][l];r[l]=d.getData()}await qB.setItem(n,JSON.stringify(r))},async hasChangesInStorage(){for(const n in this.changes){const r=await qB.getItem(n);if(r){const l=JSON.parse(r);if(Object.keys(l).length>0)return!0}}return!1},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await this.saveChangesOfTypeToStorage(n.type))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await this.saveChangesOfTypeToStorage(n.type))},async setChangesSent(n,r,l){const d=this.changes[n];let g=!1;for(const v in r){const x=r[v],S=d[v];S&&(S.last_change<=l?(delete d[v],g=!0):(x==null||x!=v)&&(S.key=x,d[x]=S,delete d[v],g=!0))}g&&await this.saveChangesOfTypeToStorage(n)}}});class PO{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"comment_key","");Sn(this,"criterion_key","");Sn(this,"points",0);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.criterion_key!==void 0&&r.criterion_key!==null&&(this.criterion_key=r.criterion_key.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}setPoints(r){this.points=parseInt(r)}getData(){return{key:this.key,item_key:this.item_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const El=Sd.createInstance({storeName:"corrector-points",description:"Corrector points data"}),E1=Nu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{hasPoints:n=>n.points.length>0,ownCriteriaPoints:n=>{const l=Ou().ownCommentKeys;let d=0;return n.points.filter(g=>l.includes(g.comment_key)).forEach(g=>d+=g.points),d},getCommentHasPoints(n){return function(l){return n.points.find(d=>d.comment_key==l)!==void 0}},getCommentHasPointsForCriterion:n=>function(l,d){for(const g of n.points)if(g.comment_key==l&&g.criterion_key==d&&g.points>0)return!0;return!1},getObjectByKey:n=>function(l){return n.points.find(d=>d.key==l)},getObjectsByCommentKeys:n=>function(l){return n.points.filter(d=>l.includes(d.comment_key))},getSumOfPointsForComment:n=>function(l){let d=0;for(const g of n.points)g.comment_key==l&&g.points>0&&(d+=g.points);return d},getSumOfPointsForCriterion:n=>function(l,d){const v=Ou().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x},getPointsOfCriterionExceeded:n=>function(l,d){const v=Ou().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x>l.points},getSumOfPointsForCorrector:n=>function(l){const g=Ou().getKeysOfCorrector(l);let v=0;return n.points.filter(x=>g.includes(x.comment_key)).forEach(x=>v+=x.points),v},getObjectByRelation:n=>function(l,d){return n.points.find(g=>g.comment_key==l&&g.criterion_key==d)},getValueByRelation:n=>(l,d)=>{let g=n.getObjectByRelation(l,d);return g?g.points:0}},actions:{async setValueByRelation(n,r,l){let d=this.getObjectByRelation(n,r);d?l?(d.setPoints(l),this.updatePoints(d)):this.deletePoints(d.key):n&&r&&l&&this.createPoints(n,r,l)},async createPoints(n,r,l){const d=ps(),g=new PO({comment_key:n,criterion_key:r,item_key:d.itemKey,points:l});this.keys.push(g.key),this.points.push(g),await El.setItem(g.key,JSON.stringify(g.getData())),await El.setItem("keys",JSON.stringify(this.keys)),await tc().setChange(new ir({type:ir.TYPE_POINTS,action:ir.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(n){this.keys.includes(n.key)&&(await El.setItem(n.key,JSON.stringify(n.getData())),await tc().setChange(new ir({type:ir.TYPE_POINTS,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})))},async deletePoints(n){const r=this.points.find(g=>g.key==n);this.points=this.points.filter(g=>g.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(g=>g!=n),await El.setItem("keys",JSON.stringify(this.keys)),await El.removeItem(n));const l=tc(),d=new ir({type:ir.TYPE_POINTS,action:ir.ACTION_DELETE,key:r.key,item_key:r.item_key});n.substr(0,4)=="temp"?await l.unsetChange(d):await l.setChange(d)},async deletePointsOfComment(n){this.points.filter(r=>r.comment_key==n).forEach(r=>{this.deletePoints(r.key)})},async clearStorage(){try{await El.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await El.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const l of this.keys){let d=JSON.parse(await El.getItem(l)),g=new PO(d);g.item_key==n.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await El.clear(),this.$reset();for(const l of n){const d=new PO(l);this.keys.push(d.key),await El.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.points.push(d)}await El.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=tc(),d=[];for(const g of l.getChangesFor(ir.TYPE_POINTS,n)){const v=await El.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const g of this.keys)if(g in n){if(n[g]==null)r.push(g);else if(g!=n[g]){let v=new PO(await El.getItem(g));v.key=n[g],l.push(g),d.push(v)}}this.selectedKey="",this.points=this.points.filter(g=>!r.includes(g.key));for(const g of this.points)l.includes(g.key)&&(g.key=n[g.key]);this.keys=this.keys.filter(g=>!r.includes(g)&&!l.includes(g));for(const g of r)await El.removeItem(g);for(const g of l)this.keys.push(n[g]),await El.removeItem(g);for(const g of d)await El.setItem(g.key,JSON.stringify(g.getData()));await El.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(n){let r=[],l=[];for(const d of this.keys){let g=new PO(await El.getItem(d));g.comment_key in n&&(n[g.comment_key]==null?r.push(d):g.comment_key!=n[g.comment_key]&&(g.comment_key=n[g.comment_key],l.push(g)))}this.points=this.points.filter(d=>!r.includes(d.key));for(const d of this.points)d.comment_key in n&&(d.comment_key=n[d.comment_key]);for(const d of r)await El.removeItem(d);for(const d of l)await El.setItem(d.key,JSON.stringify(d.getData()));this.keys=this.keys.filter(d=>!r.includes(d)),await El.setItem("keys",JSON.stringify(this.keys))}}});class MO{constructor(r={}){Sn(this,"x",0);Sn(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const ya=class ya{constructor(r={}){Sn(this,"key","");Sn(this,"shape","");Sn(this,"pos",new MO(0,0));Sn(this,"end",new MO(0,0));Sn(this,"width",0);Sn(this,"height",0);Sn(this,"polygon",[]);Sn(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&ya.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new MO(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new MO(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const l of r.polygon)this.polygon.push(new MO(l));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const l of this.polygon)r.push(l.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case ya.SHAPE_LINE:return"mdi-minus";case ya.SHAPE_WAVE:return"mdi-wave";case ya.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ya.SHAPE_POLYGON:return"mdi-vector-triangle";case ya.SHAPE_CIRCLE:switch(this.symbol){case ya.SYMBOL_CHECK:return"mdi-check";case ya.SYMBOL_CROSS:return"mdi-close";case ya.SYMBOL_QUESTION:return"mdi-help"}}return""}};Sn(ya,"SHAPE_CIRCLE","circle"),Sn(ya,"SHAPE_RECTANGLE","rectangle"),Sn(ya,"SHAPE_POLYGON","polygon"),Sn(ya,"SHAPE_LINE","line"),Sn(ya,"SHAPE_WAVE","wave"),Sn(ya,"ALLOWED_SHAPES",[ya.SHAPE_CIRCLE,ya.SHAPE_RECTANGLE,ya.SHAPE_POLYGON,ya.SHAPE_LINE,ya.SHAPE_WAVE]),Sn(ya,"SYMBOL_CHECK",""),Sn(ya,"SYMBOL_CROSS",""),Sn(ya,"SYMBOL_QUESTION","?");let am=ya;const Fh=class Fh{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"start_position",0);Sn(this,"end_position",0);Sn(this,"parent_number",0);Sn(this,"comment","");Sn(this,"points",0);Sn(this,"rating_excellent",!1);Sn(this,"rating_cardinal",!1);Sn(this,"label","");Sn(this,"prefix","");Sn(this,"marks",[]);Sn(this,"deleted",!1);if(r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.rating==Fh.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==Fh.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const l of r.marks)this.addMarkData(l)}addMarkData(r){this.marks.push(new am(r)),this.calculateStartPositon()}updateMarkData(r){for(const l of this.marks)l.key==r.key&&l.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const l of this.marks)if(l.key==r)return l;return null}getMarkColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?l?"#E3EFDD80":"#19e62e":this.rating_cardinal?l?"#FBDED180":"#bc4710":l?"#D8E5F480":"#3365ff":this.rating_excellent?l?"#F7F9F780":"#19e62e":this.rating_cardinal?l?"#FCF6F480":"#bc4710":l?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.rating_excellent?l?"#BBEBA5A0":"#19e62e":this.rating_cardinal?l?"#FCB494A0":"#bc4710":l?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const l of this.marks)(r===null||l.pos.y>r)&&(r=l.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const l of this.marks)if(l.key==r)return!0;return!1}getData(){let r=[];for(const l of this.marks)r.push(l.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,points:this.points,rating:this.rating_excellent?Fh.RAITNG_EXCELLENT:this.rating_cardinal?Fh.RATING_CARDINAL:"",marks:r}}};Sn(Fh,"RATING_CARDINAL","cardinal"),Sn(Fh,"RAITNG_EXCELLENT","excellent"),Sn(Fh,"ALLOWED_RATING",[Fh.RATING_CARDINAL,Fh.RAITNG_EXCELLENT]);let nC=Fh;const Al=Sd.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),Ou=Nu("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(n){return n.getComment(n.selectedKey)},selectedLabel(n){let r=n.getComment(n.selectedKey);return r?r.label:""},activeComments:n=>{const r=ps();return n.comments.filter(l=>(n.showOtherCorrectors||l.corrector_key==r.correctorKey)&&(n.filterKeys.length==0||n.filterKeys.includes(l.key)))},ownCommentPoints:n=>{const r=ps();let l=0;return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l+=d.points),l},ownCommentKeys:n=>{const r=ps();let l=[];return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l.push(d.key)),l},currentCommentKeys:n=>{let r=[];return n.comments.forEach(l=>r.push(l.key)),r},isOtherCorrectorsShown:n=>n.showOtherCorrectors,isFilterActive:n=>n.filterKeys.length>0,getComment:n=>function(l){return n.comments.find(d=>d.key==l)},getCommentByMarkKey:n=>function(l){return n.comments.find(d=>d.hasMarkKey(l))},getActiveCommentsInRange:n=>function(l,d){return n.activeComments.filter(g=>g.start_position<=d&&g.end_position>=l)},getActiveCommentsByStartPosition:n=>function(l){return n.activeComments.filter(d=>d.start_position==l)},getActiveCommentsByParentNumber:n=>function(l){return n.activeComments.filter(d=>d.parent_number==l)},getKeysOfCorrector:n=>function(l){let d=[];return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d.push(g.key)),d},getPointsOfCorrector:n=>function(l){let d=0;return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d+=g.points),d},getCountOfExcellent:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_excellent).length},getCountOfCardinal:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_cardinal).length}},actions:{setFirstVisibleComment(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(n,r=!0){this.selectedKey=n,r&&(this.selectionChange=Date.now())},async createComment(n,r,l){let d=new nC({start_position:n,end_position:r,parent_number:l});return await this.addComment(d),d.key},async addComment(n){const r=ps(),l=tc();return n.item_key=r.itemKey,n.corrector_key=r.correctorKey,this.keys.push(n.key),this.filterKeys.length>0&&(this.filterKeys.push(n.key),this.setFilterChange()),this.comments.push(n),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(n.key,!0),await Al.setItem(n.key,JSON.stringify(n.getData())),await Al.setItem("keys",JSON.stringify(this.keys)),await l.setChange(new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})),n.key},async updateComment(n,r=!1){const l=ps(),d=xc(),g=tc();this.keys.includes(n.key)&&n.corrector_key==l.correctorKey&&!d.isOwnDisabled&&(await Al.setItem(n.key,JSON.stringify(n.getData())),await g.setChange(new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(n){await this.removeComment(n),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(n){const r=tc();await E1().deletePointsOfComment(n),this.selectedKey==n&&this.selectComment("",!0);const d=this.comments.find(v=>v.key==n);this.comments=this.comments.filter(v=>v.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(v=>v!=n),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.removeItem(n));const g=new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_DELETE,key:d.key,item_key:d.item_key});n.substr(0,4)=="temp"?await r.unsetChange(g):await r.setChange(g)},async sortAndLabelComments(){const n=ps(),r=bv();this.comments=this.comments.sort(Rhe);let l=0,d={};for(const g of this.comments){const v=r.getCorrector(g.corrector_key),x=v?v.initials:"??";if(g.parent_number>l){l=g.parent_number;for(const S of r.correctorKeys)d[S]=0;d[g.corrector_key]=1}else d[g.corrector_key]++;g.label=x+" "+l.toString()+"."+d[g.corrector_key].toString(),g.prefix=g.corrector_key==n.correctorKey?"own":"other"}},setFilterByRating(n,r,l){this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&d.rating_excellent==r&&d.rating_cardinal==l&&this.filterKeys.push(d.key);this.setFilterChange()},setFilterByPoints(n){this.filterKeys=[];for(const r of this.comments)r.corrector_key==n&&r.points>0&&this.filterKeys.push(r.key);this.setFilterChange()},setFilterByCriterion(n,r){const l=E1();this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&l.getCommentHasPointsForCriterion(d.key,r)&&this.filterKeys.push(d.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(n){this.showOtherCorrectors=!!n,this.markerChange=Date.now(),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Al.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Al.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors"));for(const l of this.keys){const d=new nC(JSON.parse(await Al.getItem(l)));d.item_key==n.itemKey&&this.comments.push(d)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors")),await Al.clear();for(const l of n){const d=new nC(l);this.keys.push(d.key),await Al.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.comments.push(d)}await this.sortAndLabelComments(),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=tc(),d=[];for(const g of l.getChangesFor(ir.TYPE_COMMENT,n)){const v=await Al.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const v of this.keys)if(v in n){if(n[v]==null)r.push(v);else if(v!=n[v]){let x=new nC(JSON.parse(await Al.getItem(v)));x.key=n[v],l.push(v),d.push(x)}}l.includes(this.selectedKey)&&this.selectComment(n[this.selectedKey],!0),this.comments=this.comments.filter(v=>!r.includes(v.key));for(const v of this.comments)l.includes(v.key)&&(v.key=n[v.key]);let g=[];for(const v of this.filterKeys)l.includes(v)?g.push(n[v]):g.push(v);this.filterKeys=g,this.keys=this.keys.filter(v=>!r.includes(v)&&!l.includes(v));for(const v of r)await Al.removeItem(v);for(const v of l)this.keys.push(n[v]),await Al.removeItem(v);for(const v of d)await Al.setItem(v.key,JSON.stringify(v.getData()));await Al.setItem("keys",JSON.stringify(this.keys))}}}),Rhe=function(n,r){return n.parent_number<r.parent_number?-1:n.parent_number>r.parent_number?1:n.start_position<r.start_position?-1:n.start_position>r.start_position?1:0},s$=Sd.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),Uy=Nu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:_s.INCLUDE_INFO,include_comment_ratings:_s.INCLUDE_INFO,include_comment_points:_s.INCLUDE_INFO,include_criteria_points:_s.INCLUDE_INFO}),getters:{allData:n=>({essay_page_zoom:n.essay_page_zoom,essay_text_zoom:n.essay_text_zoom,summary_text_zoom:n.summary_text_zoom,include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points})},actions:{async clearStorage(){try{await s$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await s$.getItem("preferences");n&&this.$patch(n)}catch(n){console.log(n)}},async saveToStorage(){try{await s$.setItem("preferences",this.allData)}catch(n){console.log(n)}},async loadFromData(n){try{this.$patch(n),this.sent=!0,await this.saveToStorage()}catch(r){console.log(r)}},async update(){const n=tc(),r=ps();await this.saveToStorage(),r.correctorKey&&await n.setChange(new ir({type:ir.TYPE_PREFERENCES,action:ir.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(n=0){const r=ps(),l=tc(),d=[];for(const g of l.getChangesFor(ir.TYPE_PREFERENCES,n))d.push(r.getChangeDataToSend(g,this.allData));return d},setSummaryInclusions(n){this.include_comments=n.include_comments,this.include_comment_ratings=n.include_comment_ratings,this.include_comment_points=n.include_comment_points,this.include_criteria_points=n.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),Ny=Sd.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),r$=200;function Ihe(){return{keys:[],summaries:{},editSummary:new _s,lastCheck:0}}let YB=0;const xc=Nu("summaries",{state:()=>Ihe(),getters:{isOwnDisabled:n=>n.editSummary.corrector_key==""||n.editSummary.is_authorized,isOwnAuthorized:n=>n.editSummary.is_authorized,isOneAuthorized:n=>{for(const r in n.summaries)if(n.summaries[r].is_authorized)return!0;return!1},areOthersAuthorized:n=>{for(const r in n.summaries){const l=n.summaries[r];if(l.getKey()!=n.editSummary.getKey()&&!l.is_authorized)return!1}return!0},currentPartialPoints:n=>{const r=Uh(),l=Ou(),d=E1();return r.hasOwnCriteria?d.ownCriteriaPoints:l.ownCommentPoints},currentPartialPointsAreIncluded:n=>Uh().hasOwnCriteria?n.currentInclusionSettings.include_criteria_points>_s.INCLUDE_NOT:n.currentInclusionSettings.include_comment_points>_s.INCLUDE_NOT,currentGradeTitle(n){if(n.editSummary.grade_key){let l=Gy().getLevel(n.editSummary.grade_key);if(l)return l.title}return"ohne Notenstufe"},currentInclusionSettings:n=>{const r=um(),l=Uy();return r.fixed_inclusions?r.summaryInclusions:n.editSummary.getInclusionSettings(l.summaryInclusions)},getAuthorizationForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g.is_authorized}return!1},getForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g}return null},getInclusionText:n=>{const r=um(),l=Uh();return function(g){let v="",x={};return g.corrector_key==n.editSummary.corrector_key?x=n.currentInclusionSettings:x=g.getInclusionSettings(),x.include_comments==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Kommentare (i)":x.include_comments==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Kommentare (r)"),x.include_comment_ratings==_s.INCLUDE_INFO?v=(v?v+", ":"")+r.ratingLabels+" (i)":x.include_comment_ratings==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+r.ratingLabels+" (r)"),x.include_comment_points==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte zu Kommentaren (i)":x.include_comment_points==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte zu Kommentaren (r)"),l.hasOwnCriteria&&(x.include_criteria_points==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte im Bewertungsschema (i)":x.include_criteria_points==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte im Bewertungsschema (r)")),v==""&&(v="keine Detail-Informationen"),v}},stitchReasonText:n=>{let r=null,l=null,d=0,g=0;for(const x in n.summaries){const S=n.summaries[x].points;S!==null&&(d+=S,g++,(r===null||S<r)&&(r=S),(l===null||S>l)&&(l=S))}if(g==0)return"";const v=um();if(v.stitch_when_distance&&l-r>v.max_auto_distance)return"Der Punkteunterschied bersteigt "+v.max_auto_distance+" Punkte!";if(v.stitch_when_decimals){let x=d/g;if(Math.floor(x)<x)return"Der Punktedurchschnitt "+x+" ist keine ganze Zahl!"}return""},minPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d<r)&&(r=d)}return r},maxPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d>r)&&(r=d)}return r}},actions:{async clearStorage(){try{await Ny.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Ny.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new _s(JSON.parse(await Ny.getItem(l)));d.item_key==n.itemKey&&(this.summaries[l]=d),d.corrector_key==n.correctorKey&&(this.editSummary=d.getClone())}}catch(r){console.log(r)}YB=0,n.setInterval("summariesStore.updateContent",this.updateContent,r$)},async loadFromData(n){const r=ps();try{await Ny.clear(),this.$reset();for(const l of n){const d=new _s(l);this.keys.push(d.getKey()),await Ny.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.summaries[d.getKey()]=d),d.corrector_key==r.correctorKey&&(this.editSummary=d.getClone())}await Ny.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}YB=0,r.setInterval("summariesStore.updateContent",this.updateContent,r$)},async updateContent(n=!1,r=!1){const l=this.summaries[this.editSummary.getKey()]??new _s;if(l.is_authorized)return;const d=Date.now();if(d-this.lastCheck<r$&&!r||YB++&&!r||Ky().correctionEndReached)return;const v=um();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>v.max_points&&(this.editSummary.points=v.max_points);let S=Gy().getLevelForPoints(this.editSummary.points);S?this.editSummary.grade_key=S.key:this.editSummary.grade_key="";try{const M=this.editSummary.getClone();if(!M.isEqual(l)&&this.keys.includes(M.getKey())){const R=ps(),I=tc();M.last_change=R.getServerTime(Date.now()),this.editSummary.setData(M.getData()),this.summaries[M.getKey()]=M,await Ny.setItem(l.getKey(),JSON.stringify(M.getData())),await I.setChange(new ir({type:ir.TYPE_SUMMARY,action:ir.ACTION_SAVE,key:M.getKey(),item_key:M.item_key})),console.log("Save Change ","| Editor: ",n,"| Duration:",Date.now()-d,"ms")}this.lastCheck=d}catch(M){console.error(M)}YB=0},async getChangedData(n=0){const r=ps(),l=tc(),d=[];for(const g of l.getChangesFor(ir.TYPE_SUMMARY,n)){const v=await Ny.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}});var yJ={exports:{}},xJ={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(l,d){return l<<d|l>>>32-d},rotr:function(l,d){return l<<32-d|l>>>d},endian:function(l){if(l.constructor==Number)return r.rotl(l,8)&16711935|r.rotl(l,24)&4278255360;for(var d=0;d<l.length;d++)l[d]=r.endian(l[d]);return l},randomBytes:function(l){for(var d=[];l>0;l--)d.push(Math.floor(Math.random()*256));return d},bytesToWords:function(l){for(var d=[],g=0,v=0;g<l.length;g++,v+=8)d[v>>>5]|=l[g]<<24-v%32;return d},wordsToBytes:function(l){for(var d=[],g=0;g<l.length*32;g+=8)d.push(l[g>>>5]>>>24-g%32&255);return d},bytesToHex:function(l){for(var d=[],g=0;g<l.length;g++)d.push((l[g]>>>4).toString(16)),d.push((l[g]&15).toString(16));return d.join("")},hexToBytes:function(l){for(var d=[],g=0;g<l.length;g+=2)d.push(parseInt(l.substr(g,2),16));return d},bytesToBase64:function(l){for(var d=[],g=0;g<l.length;g+=3)for(var v=l[g]<<16|l[g+1]<<8|l[g+2],x=0;x<4;x++)g*8+x*6<=l.length*8?d.push(n.charAt(v>>>6*(3-x)&63)):d.push("=");return d.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],g=0,v=0;g<l.length;v=++g%4)v!=0&&d.push((n.indexOf(l.charAt(g-1))&Math.pow(2,-2*v+8)-1)<<v*2|n.indexOf(l.charAt(g))>>>6-v*2);return d}};xJ.exports=r})();var Nhe=xJ.exports,K$={utf8:{stringToBytes:function(n){return K$.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(K$.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],l=0;l<n.length;l++)r.push(n.charCodeAt(l)&255);return r},bytesToString:function(n){for(var r=[],l=0;l<n.length;l++)r.push(String.fromCharCode(n[l]));return r.join("")}}},cq=K$;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Phe=function(n){return n!=null&&(wJ(n)||Mhe(n)||!!n._isBuffer)};function wJ(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Mhe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&wJ(n.slice(0,0))}(function(){var n=Nhe,r=cq.utf8,l=Phe,d=cq.bin,g=function(v,x){v.constructor==String?x&&x.encoding==="binary"?v=d.stringToBytes(v):v=r.stringToBytes(v):l(v)?v=Array.prototype.slice.call(v,0):!Array.isArray(v)&&v.constructor!==Uint8Array&&(v=v.toString());for(var S=n.bytesToWords(v),M=v.length*8,R=1732584193,I=-271733879,L=-1732584194,$=271733878,G=0;G<S.length;G++)S[G]=(S[G]<<8|S[G]>>>24)&16711935|(S[G]<<24|S[G]>>>8)&4278255360;S[M>>>5]|=128<<M%32,S[(M+64>>>9<<4)+14]=M;for(var X=g._ff,ne=g._gg,ce=g._hh,le=g._ii,G=0;G<S.length;G+=16){var Me=R,he=I,K=L,ye=$;R=X(R,I,L,$,S[G+0],7,-680876936),$=X($,R,I,L,S[G+1],12,-389564586),L=X(L,$,R,I,S[G+2],17,606105819),I=X(I,L,$,R,S[G+3],22,-1044525330),R=X(R,I,L,$,S[G+4],7,-176418897),$=X($,R,I,L,S[G+5],12,1200080426),L=X(L,$,R,I,S[G+6],17,-1473231341),I=X(I,L,$,R,S[G+7],22,-45705983),R=X(R,I,L,$,S[G+8],7,1770035416),$=X($,R,I,L,S[G+9],12,-1958414417),L=X(L,$,R,I,S[G+10],17,-42063),I=X(I,L,$,R,S[G+11],22,-1990404162),R=X(R,I,L,$,S[G+12],7,1804603682),$=X($,R,I,L,S[G+13],12,-40341101),L=X(L,$,R,I,S[G+14],17,-1502002290),I=X(I,L,$,R,S[G+15],22,1236535329),R=ne(R,I,L,$,S[G+1],5,-165796510),$=ne($,R,I,L,S[G+6],9,-1069501632),L=ne(L,$,R,I,S[G+11],14,643717713),I=ne(I,L,$,R,S[G+0],20,-373897302),R=ne(R,I,L,$,S[G+5],5,-701558691),$=ne($,R,I,L,S[G+10],9,38016083),L=ne(L,$,R,I,S[G+15],14,-660478335),I=ne(I,L,$,R,S[G+4],20,-405537848),R=ne(R,I,L,$,S[G+9],5,568446438),$=ne($,R,I,L,S[G+14],9,-1019803690),L=ne(L,$,R,I,S[G+3],14,-187363961),I=ne(I,L,$,R,S[G+8],20,1163531501),R=ne(R,I,L,$,S[G+13],5,-1444681467),$=ne($,R,I,L,S[G+2],9,-51403784),L=ne(L,$,R,I,S[G+7],14,1735328473),I=ne(I,L,$,R,S[G+12],20,-1926607734),R=ce(R,I,L,$,S[G+5],4,-378558),$=ce($,R,I,L,S[G+8],11,-2022574463),L=ce(L,$,R,I,S[G+11],16,1839030562),I=ce(I,L,$,R,S[G+14],23,-35309556),R=ce(R,I,L,$,S[G+1],4,-1530992060),$=ce($,R,I,L,S[G+4],11,1272893353),L=ce(L,$,R,I,S[G+7],16,-155497632),I=ce(I,L,$,R,S[G+10],23,-1094730640),R=ce(R,I,L,$,S[G+13],4,681279174),$=ce($,R,I,L,S[G+0],11,-358537222),L=ce(L,$,R,I,S[G+3],16,-722521979),I=ce(I,L,$,R,S[G+6],23,76029189),R=ce(R,I,L,$,S[G+9],4,-640364487),$=ce($,R,I,L,S[G+12],11,-421815835),L=ce(L,$,R,I,S[G+15],16,530742520),I=ce(I,L,$,R,S[G+2],23,-995338651),R=le(R,I,L,$,S[G+0],6,-198630844),$=le($,R,I,L,S[G+7],10,1126891415),L=le(L,$,R,I,S[G+14],15,-1416354905),I=le(I,L,$,R,S[G+5],21,-57434055),R=le(R,I,L,$,S[G+12],6,1700485571),$=le($,R,I,L,S[G+3],10,-1894986606),L=le(L,$,R,I,S[G+10],15,-1051523),I=le(I,L,$,R,S[G+1],21,-2054922799),R=le(R,I,L,$,S[G+8],6,1873313359),$=le($,R,I,L,S[G+15],10,-30611744),L=le(L,$,R,I,S[G+6],15,-1560198380),I=le(I,L,$,R,S[G+13],21,1309151649),R=le(R,I,L,$,S[G+4],6,-145523070),$=le($,R,I,L,S[G+11],10,-1120210379),L=le(L,$,R,I,S[G+2],15,718787259),I=le(I,L,$,R,S[G+9],21,-343485551),R=R+Me>>>0,I=I+he>>>0,L=L+K>>>0,$=$+ye>>>0}return n.endian([R,I,L,$])};g._ff=function(v,x,S,M,R,I,L){var $=v+(x&S|~x&M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._gg=function(v,x,S,M,R,I,L){var $=v+(x&M|S&~M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._hh=function(v,x,S,M,R,I,L){var $=v+(x^S^M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._ii=function(v,x,S,M,R,I,L){var $=v+(S^(x|~M))+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._blocksize=16,g._digestsize=16,yJ.exports=function(v,x){if(v==null)throw new Error("Illegal argument "+v);var S=n.wordsToBytes(g(v,x));return x&&x.asBytes?S:x&&x.asString?d.bytesToString(S):n.bytesToHex(S)}})();var Bhe=yJ.exports;const Lhe=VU(Bhe),uq=5e3,ps=Nu("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:n=>n.lastLoadingTry>0,isForReviewOrStitch:n=>n.isReview||n.isStitchDecision,storedItemKey:n=>localStorage.getItem("correctorItemKey"),getRequestConfig:n=>function(l){let d=n.backendUrl,g=new URLSearchParams,v=d.search(/\?+/);return v!=-1&&(g=new URLSearchParams(d.substr(v)),d=d.substr(0,v)),g.append("LongEssayUser",n.userKey),g.append("LongEssayEnvironment",n.environmentKey),g.append("LongEssayIsReview",n.isReview?"1":"0"),g.append("LongEssayIsStitchDecision",n.isStitchDecision?"1":"0"),g.append("LongEssaySignature",Lhe(n.userKey+n.environmentKey+l)),{baseURL:d,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:n=>function(l){const d=this.getRequestConfig(this.fileToken);return d.baseURL+"/file/"+l+"?"+d.params.toString()},getImageUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/image/"+d+"/"+l+"?"+g.params.toString()},getThumbUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/thumb/"+d+"/"+l+"?"+g.params.toString()},getServerTime:n=>function(l){return Math.floor((l-n.timeOffset)/1e3)},getChangeDataToSend:n=>function(l,d=null){const g=l.getData();return d&&(g.payload=d),g.server_time=n.getServerTime(l.last_change),g}},actions:{async init(){let n=!1,r=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),yr.get("LongEssayUser")!=null&&yr.get("LongEssayUser")!==this.userKey&&(this.userKey=yr.get("LongEssayUser"),n=!0),yr.get("LongEssayEnvironment")!=null&&yr.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=yr.get("LongEssayEnvironment"),n=!0),yr.get("LongEssayCorrector")!=null&&yr.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=yr.get("LongEssayCorrector"),n=!0),yr.get("LongEssayIsReview")!=null&&yr.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=yr.get("LongEssayIsReview")=="1",n=!0),yr.get("LongEssayIsReview")!=null&&yr.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=yr.get("LongEssayIsStitchDecision")=="1",n=!0),this.isForReviewOrStitch&&(this.correctorKey=""),yr.get("LongEssayItem")!=null&&yr.get("LongEssayItem")!==this.itemKey&&(this.itemKey=yr.get("LongEssayItem"),r=!0),yr.get("LongEssayBackend")!=null&&yr.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=yr.get("LongEssayBackend")),yr.get("LongEssayReturn")!=null&&yr.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=yr.get("LongEssayReturn")),yr.get("LongEssayToken")!=null&&yr.get("LongEssayToken")!==this.dataToken&&(this.dataToken=yr.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await tc().hasChangesInStorage()?n?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const n=mv();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey");const r=n.getItem(this.itemKey);await this.loadDataFromBackend()&&(await n.addItem(r),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const n=Ou(),r=wc(),l=bv();if(this.isForReviewOrStitch&&n.setShowOtherCorrectors(!0),this.isStitchDecision){let d=0;for(const g of l.correctors)if(r.selectCorrector(g.corrector_key),d++,d==2)break}this.initialized=!0},updateConfig(){yr.remove("LongEssayBackend"),yr.remove("LongEssayReturn"),yr.remove("LongEssayUser"),yr.remove("LongEssayEnvironment"),yr.remove("LongEssayCorrector"),yr.remove("LongEssayItem"),yr.remove("LongEssayToken"),yr.remove("LongEssayIsReview"),yr.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const n=Uh(),r=mv(),l=wc(),d=Gy(),g=Uy(),v=fC(),x=um(),S=Ky();return await n.loadFromStorage(),await r.loadFromStorage(),await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(n){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey),this.itemKey=n,localStorage.setItem("itemKey",this.itemKey);const l=tc(),d=Ou(),g=bv(),v=sD(),x=OL(),S=E1(),M=xc();return await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),await M.loadFromStorage(),d.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,uq),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let n={};try{n=await Ji.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(R){return console.error(R),this.showInitFailure=!0,this.setLoading(!1),!1}const r=Uh(),l=mv(),d=wc(),g=Gy(),v=Uy(),x=fC(),S=um(),M=Ky();return await r.loadFromData(n.data.criteria),await l.loadFromData(n.data.items),await d.clearStorage(),await g.loadFromData(n.data.levels),await v.loadFromData(n.data.preferences),await x.loadFromData(n.data.resources),await S.loadFromData(n.data.settings),await M.loadFromData(n.data.task),this.setLoading(!1),!0},async loadItemFromBackend(n){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey);let l={};try{l=await Ji.get("/item/"+n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(l),this.refreshToken(l)}catch(I){return console.error(I),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=n,localStorage.setItem("itemKey",this.itemKey),r.updateItem(new j$(l.data.item));const d=tc(),g=bv(),v=Ou(),x=sD(),S=OL(),M=E1(),R=xc();return await d.clearStorage(),await g.loadFromData(l.data.correctors),await v.loadFromData(l.data.comments),await x.loadFromData(l.data.essay),await S.loadFromData(l.data.pages),await M.loadFromData(l.data.points),await R.loadFromData(l.data.summaries),v.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,uq),!0},async saveChangesToBackend(n=!1){const r=tc(),l=Ou(),d=E1(),g=xc(),v=Uy();if(!await this.isSending(!0)){this.setSending(!0);try{const x={comments:await l.getChangedData(this.lastSendingTry),points:await d.getChangedData(this.lastSendingTry),summaries:await g.getChangedData(this.lastSendingTry),preferences:await v.getChangedData(this.lastSendingTry)},S=await Ji.put("/changes/"+this.itemKey,x,this.getRequestConfig(this.dataToken));this.setTimeOffset(S),this.refreshToken(S),await l.updateKeys(S.data.comments),await d.changeCommentKeys(S.data.comments),await d.updateKeys(S.data.points),await r.setChangesSent(ir.TYPE_COMMENT,S.data.comments,this.lastSendingTry),await r.setChangesSent(ir.TYPE_POINTS,S.data.points,this.lastSendingTry),await r.setChangesSent(ir.TYPE_SUMMARY,S.data.summaries,this.lastSendingTry),await r.setChangesSent(ir.TYPE_PREFERENCES,S.data.preferences,this.lastSendingTry)}catch(x){return console.error(x),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(n){let r={};try{return r=await Ji.put("/stitch/"+this.itemKey,n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(l){return console.error(l),!1}},setTimeOffset(n){if(n.headers.longessaytime){const r=n.headers.longessaytime*1e3,l=Date.now();this.timeOffset=l-r,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.longessaydatatoken&&(this.dataToken=n.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),n.headers.longessayfiletoken&&(this.fileToken=n.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(n=!1){if(n){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(l=>setTimeout(l,1e3))}return this.lastSendingTry>0},setSending(n){n?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(n){n?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(n){this.showAuthorization=n},setShowSendFailure(n){this.showSendFailure=n},setInterval(n,r,l){n in this.intervals&&(console.log("clear interval "+n),clearInterval(this.intervals[n])),console.log("set interval "+n),this.intervals[n]=setInterval(r,l)},clearAllIntervals(){console.log("clear all intervals ");for(const n in this.intervals)console.log("clear interval "+n),clearInterval(this.intervals[n]),delete this.intervals[n]}}});class dq{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"initials","");Sn(this,"position",0);r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const Rk=Sd.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),bv=Nu("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:n=>n.correctors.length,correctorKeys:n=>{let r=[];for(const l of n.correctors)r.push(l.corrector_key);return r},otherCorrectors:n=>{const r=ps();return n.correctors.filter(l=>l.corrector_key!=r.correctorKey).sort((l,d)=>l.position-d.position)},getPositionText:n=>function(l){if(n.correctors.length<=1)return"";const d=n.correctors.find(g=>g.corrector_key==l);return d?d.position==0?"(Erstkorrektur)":d.position==1?"(Zweitkorrektur)":d.position==n.correctors.length-1?"(Endkorrektur)":"("+(d.position+1)+". Korrektur)":""},getCorrector:n=>function(l){return n.correctors.find(d=>d.corrector_key==l)}},actions:{async clearStorage(){try{await Rk.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Rk.getItem("correctorKeys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new dq(JSON.parse(await Rk.getItem(l)));d.item_key==n.itemKey&&this.correctors.push(d)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Rk.clear(),this.$reset();for(const l of n){const d=new dq(l);this.keys.push(d.getKey()),await Rk.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.correctors.push(d)}await Rk.setItem("correctorKeys",JSON.stringify(this.keys))}catch(l){console.log(l)}}}}),i$=Sd.createInstance({storeName:"corrector-layout",description:"Layout data"}),wc=Nu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",focusTarget:"",focusChange:0}),getters:{isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isSolutionSelected:n=>n.leftContent=="solution",isSolutionPdfSelected:n=>n.leftContent=="solutionPdf",isResourcesSelected:n=>n.leftContent=="resources",isEssaySelected:n=>n.leftContent=="essay",isSummarySelected:n=>n.rightContent=="summary",isMarkingSelected:n=>n.rightContent=="marking",isLeftCorrectorSelected:n=>n.leftContent=="corrector",isRightCorrectorSelected:n=>n.rightContent=="corrector",isInstructionsVisible:n=>n.isInstructionsSelected&&n.isLeftVisible,isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isSolutionVisible:n=>n.isSolutionSelected&&n.isLeftVisible,isSolutionPdfVisible:n=>n.isSolutionPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.isResourcesSelected&&n.isLeftVisible,isEssayVisible:n=>n.isEssaySelected&&n.isLeftVisible,isSummaryVisible:n=>n.isSummarySelected&&n.isRightVisible,isMarkingVisible:n=>n.isMarkingSelected&&n.isRightVisible,isLeftCorrectorVisible:n=>n.isLeftCorrectorSelected&&n.isLeftVisible,isRightCorrectorVisible:n=>n.isRightCorrectorSelected&&n.isRightVisible,isLeftVisible:n=>!ps().isLoading&&n.expandedColumn!="right",isRightVisible:n=>!ps().isLoading&&n.expandedColumn!="left",leftCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.leftCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},rightCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.rightCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},getCorrectorIsVisible:n=>function(l){return n.leftCorrectorKey==l&&n.isLeftCorrectorVisible||n.rightCorrectorKey==l&&n.isRightCorrectorVisible}},actions:{async clearStorage(){try{await i$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await i$.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.rightContent=n.rightContent,this.showMarkingComments=!!n.showMarkingComments,this.showMarkingPoints=!!n.showMarkingPoints,this.showMarkingText=!!n.showMarkingText,this.showLeftSummaryCriteria=!!n.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!n.showRightSummaryCriteria,this.showLeftSummaryText=!!n.showLeftSummaryText,this.showRightSummaryText=!!n.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingPoints&&!this.showMarkingPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(n){console.log(n)}},async saveToStorage(){try{await i$.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingPoints:this.showMarkingPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(n){console.log(n)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrector(){this.leftContent="corrector",this.setLeftVisible(),this.saveToStorage()},showRightCorrector(){this.rightContent="corrector",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(n=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),n===null)switch(this.leftContent){case"instructions":case"solution":case"essay":n=this.leftContent;break}this.setFocusChange(n??"appHeadLeft")},setRightVisible(n=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(n??"appHeadRight")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.saveToStorage()},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingPoints(){this.showMarkingPoints=!this.showMarkingPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(n){const r=ps(),l=bv();this.leftCorrectorKey==n?this.showLeftCorrector():this.rightCorrectorKey==n?this.showRightCorrector():r.isForReviewOrStitch?l.countCorrectors==1?(this.rightCorrectorKey=n,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=n,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=n,this.showRightCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector())},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),$l=(n,r)=>{const l=n.__vccOpts||n;for(const[d,g]of r)l[d]=g;return l},I1=Dn({border:[Boolean,Number,String]},"border");function N1(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{borderClasses:Ge(()=>{const d=zr(n)?n.value:n.border,g=[];if(d===!0||d==="")g.push(`${r}--border`);else if(typeof d=="string"||d===0)for(const v of String(d).split(" "))g.push(`border-${v}`);return g})}}const Fhe=[null,"default","comfortable","compact"],Pg=Dn({density:{type:String,default:"default",validator:n=>Fhe.includes(n)}},"density");function qh(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{densityClasses:Ge(()=>`${r}--density-${n.density}`)}}const P1=Dn({elevation:{type:[Number,String],validator(n){const r=parseInt(n);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function M1(n){return{elevationClasses:Ge(()=>{const l=zr(n)?n.value:n.elevation,d=[];return l==null||d.push(`elevation-${l}`),d})}}const hm=Dn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function pm(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{roundedClasses:Ge(()=>{const d=zr(n)?n.value:n.rounded,g=zr(n)?n.value:n.tile,v=[];if(d===!0||d==="")v.push(`${r}--rounded`);else if(typeof d=="string"||d===0)for(const x of String(d).split(" "))v.push(`rounded-${x}`);else(g||d===!1)&&v.push("rounded-0");return v})}}const Qi=Dn({tag:{type:String,default:"div"}},"tag");function ZU(n){return IU(()=>{const r=[],l={};if(n.value.background)if(I$(n.value.background)){if(l.backgroundColor=n.value.background,!n.value.text&&pfe(n.value.background)){const d=gv(n.value.background);if(d.a==null||d.a===1){const g=kX(d);l.color=g,l.caretColor=g}}}else r.push(`bg-${n.value.background}`);return n.value.text&&(I$(n.value.text)?(l.color=n.value.text,l.caretColor=n.value.text):r.push(`text-${n.value.text}`)),{colorClasses:r,colorStyles:l}})}function Kh(n,r){const l=Ge(()=>({text:zr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=ZU(l);return{textColorClasses:d,textColorStyles:g}}function Wh(n,r){const l=Ge(()=>({background:zr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=ZU(l);return{backgroundColorClasses:d,backgroundColorStyles:g}}const Vhe=["elevated","flat","tonal","outlined","text","plain"];function oE(n,r){return j(us,null,[n&&j("span",{key:"overlay",class:`${r}__overlay`},null),j("span",{key:"underlay",class:`${r}__underlay`},null)])}const B1=Dn({color:String,variant:{type:String,default:"elevated",validator:n=>Vhe.includes(n)}},"variant");function sE(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=Ge(()=>{const{variant:v}=re(n);return`${r}--variant-${v}`}),{colorClasses:d,colorStyles:g}=ZU(Ge(()=>{const{variant:v,color:x}=re(n);return{[["elevated","flat"].includes(v)?"background":"text"]:x}}));return{colorClasses:d,colorStyles:g,variantClasses:l}}const CJ=Dn({baseColor:String,divided:Boolean,...I1(),...Vs(),...Pg(),...P1(),...hm(),...Qi(),...cl(),...B1()},"VBtnGroup"),_1=Io()({name:"VBtnGroup",props:CJ(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{densityClasses:g}=qh(n),{borderClasses:v}=N1(n),{elevationClasses:x}=M1(n),{roundedClasses:S}=pm(n);ex({VBtn:{height:"auto",baseColor:es(n,"baseColor"),color:es(n,"color"),density:es(n,"density"),flat:!0,variant:es(n,"variant")}}),vs(()=>j(n.tag,{class:["v-btn-group",{"v-btn-group--divided":n.divided},d.value,v.value,g.value,x.value,S.value,n.class],style:n.style},l))}}),jU=Dn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),_J=Dn({value:null,disabled:Boolean,selectedClass:String},"group-item");function SJ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const d=Tl("useGroupItem");if(!d)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=Ig();_d(Symbol.for(`${r.description}:id`),g);const v=wa(r,null);if(!v){if(!l)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=es(n,"value"),S=Ge(()=>!!(v.disabled.value||n.disabled));v.register({id:g,value:x,disabled:S},d),Cc(()=>{v.unregister(g)});const M=Ge(()=>v.isSelected(g)),R=Ge(()=>v.items.value[0].id===g),I=Ge(()=>v.items.value[v.items.value.length-1].id===g),L=Ge(()=>M.value&&[v.selectedClass.value,n.selectedClass]);return zn(M,$=>{d.emit("group:selected",{value:$})},{flush:"sync"}),{id:g,isSelected:M,isFirst:R,isLast:I,toggle:()=>v.select(g,!M.value),select:$=>v.select(g,$),selectedClass:L,value:x,disabled:S,group:v}}function KU(n,r){let l=!1;const d=ec([]),g=Hi(n,"modelValue",[],$=>$==null?[]:kJ(d,rf($)),$=>{const G=Hhe(d,$);return n.multiple?G:G[0]}),v=Tl("useGroup");function x($,G){const X=$,ne=Symbol.for(`${r.description}:id`),le=Mk(ne,v==null?void 0:v.vnode).indexOf(G);re(X.value)==null&&(X.value=le,X.useIndexAsValue=!0),le>-1?d.splice(le,0,X):d.push(X)}function S($){if(l)return;M();const G=d.findIndex(X=>X.id===$);d.splice(G,1)}function M(){const $=d.find(G=>!G.disabled);$&&n.mandatory==="force"&&!g.value.length&&(g.value=[$.id])}Iu(()=>{M()}),Cc(()=>{l=!0}),CU(()=>{for(let $=0;$<d.length;$++)d[$].useIndexAsValue&&(d[$].value=$)});function R($,G){const X=d.find(ne=>ne.id===$);if(!(G&&(X!=null&&X.disabled)))if(n.multiple){const ne=g.value.slice(),ce=ne.findIndex(Me=>Me===$),le=~ce;if(G=G??!le,le&&n.mandatory&&ne.length<=1||!le&&n.max!=null&&ne.length+1>n.max)return;ce<0&&G?ne.push($):ce>=0&&!G&&ne.splice(ce,1),g.value=ne}else{const ne=g.value.includes($);if(n.mandatory&&ne)return;g.value=G??!ne?[$]:[]}}function I($){if(n.multiple,g.value.length){const G=g.value[0],X=d.findIndex(le=>le.id===G);let ne=(X+$)%d.length,ce=d[ne];for(;ce.disabled&&ne!==X;)ne=(ne+$)%d.length,ce=d[ne];if(ce.disabled)return;g.value=[d[ne].id]}else{const G=d.find(X=>!X.disabled);G&&(g.value=[G.id])}}const L={register:x,unregister:S,selected:g,select:R,disabled:es(n,"disabled"),prev:()=>I(d.length-1),next:()=>I(1),isSelected:$=>g.value.includes($),selectedClass:Ge(()=>n.selectedClass),items:Ge(()=>d),getItemIndex:$=>zhe(d,$)};return _d(r,L),L}function zhe(n,r){const l=kJ(n,[r]);return l.length?n.findIndex(d=>d.id===l[0]):-1}function kJ(n,r){const l=[];return r.forEach(d=>{const g=n.find(x=>Qk(d,x.value)),v=n[d];(g==null?void 0:g.value)!=null?l.push(g.id):v!=null&&l.push(v.id)}),l}function Hhe(n,r){const l=[];return r.forEach(d=>{const g=n.findIndex(v=>v.id===d);if(~g){const v=n[g];l.push(v.value!=null?v.value:g)}}),l}const EJ=Symbol.for("vuetify:v-btn-toggle"),$he=Dn({...CJ(),...jU()},"VBtnToggle"),Uhe=Io()({name:"VBtnToggle",props:$he(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isSelected:d,next:g,prev:v,select:x,selected:S}=KU(n,EJ);return vs(()=>{const M=_1.filterProps(n);return j(_1,Zo({class:["v-btn-toggle",n.class]},M,{style:n.style}),{default:()=>{var R;return[(R=l.default)==null?void 0:R.call(l,{isSelected:d,next:g,prev:v,select:x,selected:S})]}})}),{next:g,prev:v,select:x}}}),Whe=Dn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),xa=Io(!1)({name:"VDefaultsProvider",props:Whe(),setup(n,r){let{slots:l}=r;const{defaults:d,disabled:g,reset:v,root:x,scoped:S}=SD(n);return ex(d,{reset:v,root:x,scoped:S,disabled:g}),()=>{var M;return(M=l.default)==null?void 0:M.call(l)}}}),Zhe=["x-small","small","default","large","x-large"],RD=Dn({size:{type:[String,Number],default:"default"}},"size");function ID(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return IU(()=>{let l,d;return yL(Zhe,n.size)?l=`${r}--size-${n.size}`:n.size&&(d={width:hs(n.size),height:hs(n.size)}),{sizeClasses:l,sizeStyles:d}})}const jhe=Dn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:mi,...Vs(),...RD(),...Qi({tag:"i"}),...cl()},"VIcon"),Gn=Io()({name:"VIcon",props:jhe(),setup(n,r){let{attrs:l,slots:d}=r;const g=Mn(),{themeClasses:v}=Hl(n),{iconData:x}=Mme(Ge(()=>g.value||n.icon)),{sizeClasses:S}=ID(n),{textColorClasses:M,textColorStyles:R}=Kh(es(n,"color"));return vs(()=>{var $,G;const I=($=d.default)==null?void 0:$.call(d);I&&(g.value=(G=hX(I).filter(X=>X.type===ED&&X.children&&typeof X.children=="string")[0])==null?void 0:G.children);const L=!!(l.onClick||l.onClickOnce);return j(x.value.component,{tag:n.tag,icon:x.value.icon,class:["v-icon","notranslate",v.value,S.value,M.value,{"v-icon--clickable":L,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class],style:[S.value?void 0:{fontSize:hs(n.size),height:hs(n.size),width:hs(n.size)},R.value,n.style],role:L?"button":void 0,"aria-hidden":!L,tabindex:L?n.disabled?-1:0:void 0},{default:()=>[I]})}),{}}});function AJ(n,r){const l=Mn(),d=To(!1);if(DU){const g=new IntersectionObserver(v=>{d.value=!!v.find(x=>x.isIntersecting)},r);Cc(()=>{g.disconnect()}),zn(l,(v,x)=>{x&&(g.unobserve(x),d.value=!1),v&&g.observe(v)},{flush:"post"})}return{intersectionRef:l,isIntersecting:d}}const Khe=Dn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Vs(),...RD(),...Qi({tag:"div"}),...cl()},"VProgressCircular"),Ghe=Io()({name:"VProgressCircular",props:Khe(),setup(n,r){let{slots:l}=r;const d=20,g=2*Math.PI*d,v=Mn(),{themeClasses:x}=Hl(n),{sizeClasses:S,sizeStyles:M}=ID(n),{textColorClasses:R,textColorStyles:I}=Kh(es(n,"color")),{textColorClasses:L,textColorStyles:$}=Kh(es(n,"bgColor")),{intersectionRef:G,isIntersecting:X}=AJ(),{resizeRef:ne,contentRect:ce}=Gk(),le=Ge(()=>Math.max(0,Math.min(100,parseFloat(n.modelValue)))),Me=Ge(()=>Number(n.width)),he=Ge(()=>M.value?Number(n.size):ce.value?ce.value.width:Math.max(Me.value,32)),K=Ge(()=>d/(1-Me.value/he.value)*2),ye=Ge(()=>Me.value/he.value*K.value),ae=Ge(()=>hs((100-le.value)/100*g));return uf(()=>{G.value=v.value,ne.value=v.value}),vs(()=>j(n.tag,{ref:v,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":X.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},x.value,S.value,R.value,n.class],style:[M.value,I.value,n.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:le.value},{default:()=>[j("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${K.value} ${K.value}`},[j("circle",{class:["v-progress-circular__underlay",L.value],style:$.value,fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":ye.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),j("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":ye.value,"stroke-dasharray":g,"stroke-dashoffset":ae.value},null)]),l.default&&j("div",{class:"v-progress-circular__content"},[l.default({value:le.value})])]})),{}}}),Yh=Dn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Xh(n){return{dimensionStyles:Ge(()=>{const l={},d=hs(n.height),g=hs(n.maxHeight),v=hs(n.maxWidth),x=hs(n.minHeight),S=hs(n.minWidth),M=hs(n.width);return d!=null&&(l.height=d),g!=null&&(l.maxHeight=g),v!=null&&(l.maxWidth=v),x!=null&&(l.minHeight=x),S!=null&&(l.minWidth=S),M!=null&&(l.width=M),l})}}const fq={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},r8=Dn({location:String},"location");function i8(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2?arguments[2]:void 0;const{isRtl:d}=Ng();return{locationStyles:Ge(()=>{if(!n.location)return{};const{side:v,align:x}=D$(n.location.split(" ").length>1?n.location:`${n.location} center`,d.value);function S(R){return l?l(R):0}const M={};return v!=="center"&&(r?M[fq[v]]=`calc(100% - ${S(v)}px)`:M[v]=0),x!=="center"?r?M[fq[x]]=`calc(100% - ${S(x)}px)`:M[x]=0:(v==="center"?M.top=M.left="50%":M[{top:"left",bottom:"left",left:"top",right:"top"}[v]]="50%",M.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[v]),M})}}const qhe=Dn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Vs(),...r8({location:"top"}),...hm(),...Qi(),...cl()},"VProgressLinear"),Yhe=Io()({name:"VProgressLinear",props:qhe(),emits:{"update:modelValue":n=>!0},setup(n,r){var Ee;let{slots:l}=r;const d=Hi(n,"modelValue"),{isRtl:g,rtlClasses:v}=Ng(),{themeClasses:x}=Hl(n),{locationStyles:S}=i8(n),{textColorClasses:M,textColorStyles:R}=Kh(n,"color"),{backgroundColorClasses:I,backgroundColorStyles:L}=Wh(Ge(()=>n.bgColor||n.color)),{backgroundColorClasses:$,backgroundColorStyles:G}=Wh(Ge(()=>n.bufferColor||n.bgColor||n.color)),{backgroundColorClasses:X,backgroundColorStyles:ne}=Wh(n,"color"),{roundedClasses:ce}=pm(n),{intersectionRef:le,isIntersecting:Me}=AJ(),he=Ge(()=>parseFloat(n.max)),K=Ge(()=>parseFloat(n.height)),ye=Ge(()=>$h(parseFloat(n.bufferValue)/he.value*100,0,100)),ae=Ge(()=>$h(parseFloat(d.value)/he.value*100,0,100)),Ue=Ge(()=>g.value!==n.reverse),We=Ge(()=>n.indeterminate?"fade-transition":"slide-x-transition"),qe=fi&&((Ee=window.matchMedia)==null?void 0:Ee.call(window,"(forced-colors: active)").matches);function st(Le){if(!le.value)return;const{left:O,right:Ke,width:ct}=le.value.getBoundingClientRect(),$t=Ue.value?ct-Le.clientX+(Ke-ct):Le.clientX-O;d.value=Math.round($t/ct*he.value)}return vs(()=>j(n.tag,{ref:le,class:["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&Me.value,"v-progress-linear--reverse":Ue.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},ce.value,x.value,v.value,n.class],style:[{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?hs(K.value):0,"--v-progress-linear-height":hs(K.value),...n.absolute?S.value:{}},n.style],role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:ae.value,onClick:n.clickable&&st},{default:()=>[n.stream&&j("div",{key:"stream",class:["v-progress-linear__stream",M.value],style:{...R.value,[Ue.value?"left":"right"]:hs(-K.value),borderTop:`${hs(K.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${hs(K.value/4)})`,width:hs(100-ye.value,"%"),"--v-progress-linear-stream-to":hs(K.value*(Ue.value?1:-1))}},null),j("div",{class:["v-progress-linear__background",qe?void 0:I.value],style:[L.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}]},null),j("div",{class:["v-progress-linear__buffer",qe?void 0:$.value],style:[G.value,{opacity:parseFloat(n.bufferOpacity),width:hs(ye.value,"%")}]},null),j(Zy,{name:We.value},{default:()=>[n.indeterminate?j("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Le=>j("div",{key:Le,class:["v-progress-linear__indeterminate",Le,qe?void 0:X.value],style:ne.value},null))]):j("div",{class:["v-progress-linear__determinate",qe?void 0:X.value],style:[ne.value,{width:hs(ae.value,"%")}]},null)]}),l.default&&j("div",{class:"v-progress-linear__content"},[l.default({value:ae.value,buffer:ye.value})])]})),{}}}),GU=Dn({loading:[Boolean,String]},"loader");function qU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{loaderClasses:Ge(()=>({[`${r}--loading`]:n.loading}))}}function TJ(n,r){var d;let{slots:l}=r;return j("div",{class:`${n.name}__loader`},[((d=l.default)==null?void 0:d.call(l,{color:n.color,isActive:n.active}))||j(Yhe,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const Xhe=["static","relative","fixed","absolute","sticky"],YU=Dn({position:{type:String,validator:n=>Xhe.includes(n)}},"position");function XU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{positionClasses:Ge(()=>n.position?`${r}--${n.position}`:void 0)}}function Jhe(){const n=Tl("useRoute");return Ge(()=>{var r;return(r=n==null?void 0:n.proxy)==null?void 0:r.$route})}function OJ(){var n,r;return(r=(n=Tl("useRouter"))==null?void 0:n.proxy)==null?void 0:r.$router}function a8(n,r){var L,$;const l=yue("RouterLink"),d=Ge(()=>!!(n.href||n.to)),g=Ge(()=>(d==null?void 0:d.value)||vG(r,"click")||vG(n,"click"));if(typeof l=="string"||!("useLink"in l)){const G=es(n,"href");return{isLink:d,isClickable:g,href:G,linkProps:ec({href:G})}}const v=Ge(()=>({...n,to:es(()=>n.to||"")})),x=l.useLink(v.value),S=Ge(()=>n.to?x:void 0),M=Jhe(),R=Ge(()=>{var G,X,ne;return S.value?n.exact?M.value?((ne=S.value.isExactActive)==null?void 0:ne.value)&&Qk(S.value.route.value.query,M.value.query):((X=S.value.isExactActive)==null?void 0:X.value)??!1:((G=S.value.isActive)==null?void 0:G.value)??!1:!1}),I=Ge(()=>{var G;return n.to?(G=S.value)==null?void 0:G.route.value.href:n.href});return{isLink:d,isClickable:g,isActive:R,route:(L=S.value)==null?void 0:L.route,navigate:($=S.value)==null?void 0:$.navigate,href:I,linkProps:ec({href:I,"aria-current":Ge(()=>R.value?"page":void 0)})}}const l8=Dn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let a$=!1;function Qhe(n,r){let l=!1,d,g;fi&&(Fs(()=>{window.addEventListener("popstate",v),d=n==null?void 0:n.beforeEach((x,S,M)=>{a$?l?r(M):M():setTimeout(()=>l?r(M):M()),a$=!0}),g=n==null?void 0:n.afterEach(()=>{a$=!1})}),Ru(()=>{window.removeEventListener("popstate",v),d==null||d(),g==null||g()}));function v(x){var S;(S=x.state)!=null&&S.replaced||(l=!0,setTimeout(()=>l=!1))}}function epe(n,r){zn(()=>{var l;return(l=n.isActive)==null?void 0:l.value},l=>{n.isLink.value&&l&&r&&Fs(()=>{r(!0)})},{immediate:!0})}const G$=Symbol("rippleStop"),tpe=80;function mq(n,r){n.style.transform=r,n.style.webkitTransform=r}function q$(n){return n.constructor.name==="TouchEvent"}function DJ(n){return n.constructor.name==="KeyboardEvent"}const npe=function(n,r){var L;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=0,g=0;if(!DJ(n)){const $=r.getBoundingClientRect(),G=q$(n)?n.touches[n.touches.length-1]:n;d=G.clientX-$.left,g=G.clientY-$.top}let v=0,x=.3;(L=r._ripple)!=null&&L.circle?(x=.15,v=r.clientWidth/2,v=l.center?v:v+Math.sqrt((d-v)**2+(g-v)**2)/4):v=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const S=`${(r.clientWidth-v*2)/2}px`,M=`${(r.clientHeight-v*2)/2}px`,R=l.center?S:`${d-v}px`,I=l.center?M:`${g-v}px`;return{radius:v,scale:x,x:R,y:I,centerX:S,centerY:M}},DL={show(n,r){var G;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((G=r==null?void 0:r._ripple)!=null&&G.enabled))return;const d=document.createElement("span"),g=document.createElement("span");d.appendChild(g),d.className="v-ripple__container",l.class&&(d.className+=` ${l.class}`);const{radius:v,scale:x,x:S,y:M,centerX:R,centerY:I}=npe(n,r,l),L=`${v*2}px`;g.className="v-ripple__animation",g.style.width=L,g.style.height=L,r.appendChild(d);const $=window.getComputedStyle(r);$&&$.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),mq(g,`translate(${S}, ${M}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),setTimeout(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),mq(g,`translate(${R}, ${I}) scale3d(1,1,1)`)},0)},hide(n){var v;if(!((v=n==null?void 0:n._ripple)!=null&&v.enabled))return;const r=n.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const l=r[r.length-1];if(l.dataset.isHiding)return;l.dataset.isHiding="true";const d=performance.now()-Number(l.dataset.activated),g=Math.max(250-d,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((S=l.parentNode)==null?void 0:S.parentNode)===n&&n.removeChild(l.parentNode)},300)},g)}};function RJ(n){return typeof n>"u"||!!n}function rD(n){const r={},l=n.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||n[G$])){if(n[G$]=!0,q$(n))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(r.center=l._ripple.centered||DJ(n),l._ripple.class&&(r.class=l._ripple.class),q$(n)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{DL.show(n,l,r)},l._ripple.showTimer=window.setTimeout(()=>{var d;(d=l==null?void 0:l._ripple)!=null&&d.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},tpe)}else DL.show(n,l,r)}}function gq(n){n[G$]=!0}function lm(n){const r=n.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),n.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{lm(n)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),DL.hide(r)}}function IJ(n){const r=n.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let iD=!1;function NJ(n){!iD&&(n.keyCode===mG.enter||n.keyCode===mG.space)&&(iD=!0,rD(n))}function PJ(n){iD=!1,lm(n)}function MJ(n){iD&&(iD=!1,lm(n))}function BJ(n,r,l){const{value:d,modifiers:g}=r,v=RJ(d);if(v||DL.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=v,n._ripple.centered=g.center,n._ripple.circle=g.circle,Wde(d)&&d.class&&(n._ripple.class=d.class),v&&!l){if(g.stop){n.addEventListener("touchstart",gq,{passive:!0}),n.addEventListener("mousedown",gq);return}n.addEventListener("touchstart",rD,{passive:!0}),n.addEventListener("touchend",lm,{passive:!0}),n.addEventListener("touchmove",IJ,{passive:!0}),n.addEventListener("touchcancel",lm),n.addEventListener("mousedown",rD),n.addEventListener("mouseup",lm),n.addEventListener("mouseleave",lm),n.addEventListener("keydown",NJ),n.addEventListener("keyup",PJ),n.addEventListener("blur",MJ),n.addEventListener("dragstart",lm,{passive:!0})}else!v&&l&&LJ(n)}function LJ(n){n.removeEventListener("mousedown",rD),n.removeEventListener("touchstart",rD),n.removeEventListener("touchend",lm),n.removeEventListener("touchmove",IJ),n.removeEventListener("touchcancel",lm),n.removeEventListener("mouseup",lm),n.removeEventListener("mouseleave",lm),n.removeEventListener("keydown",NJ),n.removeEventListener("keyup",PJ),n.removeEventListener("dragstart",lm),n.removeEventListener("blur",MJ)}function ope(n,r){BJ(n,r,!1)}function spe(n){delete n._ripple,LJ(n)}function rpe(n,r){if(r.value===r.oldValue)return;const l=RJ(r.oldValue);BJ(n,r,l)}const ND={mounted:ope,unmounted:spe,updated:rpe},ipe=Dn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:EJ},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:mi,appendIcon:mi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...I1(),...Vs(),...Pg(),...Yh(),...P1(),..._J(),...GU(),...r8(),...YU(),...hm(),...l8(),...RD(),...Qi({tag:"button"}),...cl(),...B1({variant:"elevated"})},"VBtn"),xo=Io()({name:"VBtn",props:ipe(),emits:{"group:selected":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{borderClasses:v}=N1(n),{densityClasses:x}=qh(n),{dimensionStyles:S}=Xh(n),{elevationClasses:M}=M1(n),{loaderClasses:R}=qU(n),{locationStyles:I}=i8(n),{positionClasses:L}=XU(n),{roundedClasses:$}=pm(n),{sizeClasses:G,sizeStyles:X}=ID(n),ne=SJ(n,n.symbol,!1),ce=a8(n,l),le=Ge(()=>{var Ee;return n.active!==void 0?n.active:ce.isLink.value?(Ee=ce.isActive)==null?void 0:Ee.value:ne==null?void 0:ne.isSelected.value}),Me=Ge(()=>le.value?n.activeColor??n.color:n.color),he=Ge(()=>{var Le,O;return{color:(ne==null?void 0:ne.isSelected.value)&&(!ce.isLink.value||((Le=ce.isActive)==null?void 0:Le.value))||!ne||((O=ce.isActive)==null?void 0:O.value)?Me.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:K,colorStyles:ye,variantClasses:ae}=sE(he),Ue=Ge(()=>(ne==null?void 0:ne.disabled.value)||n.disabled),We=Ge(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),qe=Ge(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function st(Ee){var Le;Ue.value||ce.isLink.value&&(Ee.metaKey||Ee.ctrlKey||Ee.shiftKey||Ee.button!==0||l.target==="_blank")||((Le=ce.navigate)==null||Le.call(ce,Ee),ne==null||ne.toggle())}return epe(ce,ne==null?void 0:ne.select),vs(()=>{const Ee=ce.isLink.value?"a":n.tag,Le=!!(n.prependIcon||d.prepend),O=!!(n.appendIcon||d.append),Ke=!!(n.icon&&n.icon!==!0);return Zn(j(Ee,Zo({type:Ee==="a"?void 0:"button",class:["v-btn",ne==null?void 0:ne.selectedClass.value,{"v-btn--active":le.value,"v-btn--block":n.block,"v-btn--disabled":Ue.value,"v-btn--elevated":We.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},g.value,v.value,K.value,x.value,M.value,R.value,L.value,$.value,G.value,ae.value,n.class],style:[ye.value,S.value,I.value,X.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:Ue.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:st,value:qe.value},ce.linkProps),{default:()=>{var ct;return[oE(!0,"v-btn"),!n.icon&&Le&&j("span",{key:"prepend",class:"v-btn__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},d.prepend):j(Gn,{key:"prepend-icon",icon:n.prependIcon},null)]),j("span",{class:"v-btn__content","data-no-activator":""},[!d.default&&Ke?j(Gn,{key:"content-icon",icon:n.icon},null):j(xa,{key:"content-defaults",disabled:!Ke,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var $t;return[(($t=d.default)==null?void 0:$t.call(d))??n.text]}})]),!n.icon&&O&&j("span",{key:"append",class:"v-btn__append"},[d.append?j(xa,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},d.append):j(Gn,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&j("span",{key:"loader",class:"v-btn__loader"},[((ct=d.loader)==null?void 0:ct.call(d))??j(Ghe,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[ND,!Ue.value&&n.ripple,"",{center:!!n.icon}]])}),{group:ne}}}),Vh=Io()({name:"VCardActions",props:Vs(),setup(n,r){let{slots:l}=r;return ex({VBtn:{slim:!0,variant:"text"}}),vs(()=>{var d;return j("div",{class:["v-card-actions",n.class],style:n.style},[(d=l.default)==null?void 0:d.call(l)])}),{}}}),ape=Dn({opacity:[Number,String],...Vs(),...Qi()},"VCardSubtitle"),lpe=Io()({name:"VCardSubtitle",props:ape(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-card-subtitle",n.class],style:[{"--v-card-subtitle-opacity":n.opacity},n.style]},l)),{}}}),c8=GL("v-card-title");function cpe(n){return{aspectStyles:Ge(()=>{const r=Number(n.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const FJ=Dn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Vs(),...Yh()},"VResponsive"),hq=Io()({name:"VResponsive",props:FJ(),setup(n,r){let{slots:l}=r;const{aspectStyles:d}=cpe(n),{dimensionStyles:g}=Xh(n);return vs(()=>{var v;return j("div",{class:["v-responsive",{"v-responsive--inline":n.inline},n.class],style:[g.value,n.style]},[j("div",{class:"v-responsive__sizer",style:d.value},null),(v=l.additional)==null?void 0:v.call(l),l.default&&j("div",{class:["v-responsive__content",n.contentClass]},[l.default()])])}),{}}}),rE=Dn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:n=>n!==!0}},"transition"),zy=(n,r)=>{let{slots:l}=r;const{transition:d,disabled:g,group:v,...x}=n,{component:S=v?OU:Zy,...M}=typeof d=="object"?d:{};return xv(S,Zo(typeof d=="string"?{name:g?"":d}:M,typeof d=="string"?{}:Object.fromEntries(Object.entries({disabled:g,group:v}).filter(R=>{let[I,L]=R;return L!==void 0})),x),l)};function upe(n,r){if(!DU)return;const l=r.modifiers||{},d=r.value,{handler:g,options:v}=typeof d=="object"?d:{handler:d,options:{}},x=new IntersectionObserver(function(){var L;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1?arguments[1]:void 0;const R=(L=n._observe)==null?void 0:L[r.instance.$.uid];if(!R)return;const I=S.some($=>$.isIntersecting);g&&(!l.quiet||R.init)&&(!l.once||I||R.init)&&g(I,S,M),I&&l.once?VJ(n,r):R.init=!0},v);n._observe=Object(n._observe),n._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(n)}function VJ(n,r){var d;const l=(d=n._observe)==null?void 0:d[r.instance.$.uid];l&&(l.observer.unobserve(n),delete n._observe[r.instance.$.uid])}const JU={mounted:upe,unmounted:VJ},dpe=Dn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...FJ(),...Vs(),...hm(),...rE()},"VImg"),PD=Io()({name:"VImg",directives:{intersect:JU},props:dpe(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,r){let{emit:l,slots:d}=r;const{backgroundColorClasses:g,backgroundColorStyles:v}=Wh(es(n,"color")),{roundedClasses:x}=pm(n),S=Tl("VImg"),M=To(""),R=Mn(),I=To(n.eager?"loading":"idle"),L=To(),$=To(),G=Ge(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),X=Ge(()=>G.value.aspect||L.value/$.value||0);zn(()=>n.src,()=>{ne(I.value!=="idle")}),zn(X,(Le,O)=>{!Le&&O&&R.value&&K(R.value)}),wU(()=>ne());function ne(Le){if(!(n.eager&&Le)&&!(DU&&!Le&&!n.eager)){if(I.value="loading",G.value.lazySrc){const O=new Image;O.src=G.value.lazySrc,K(O,null)}G.value.src&&Fs(()=>{var O;l("loadstart",((O=R.value)==null?void 0:O.currentSrc)||G.value.src),setTimeout(()=>{var Ke;if(!S.isUnmounted)if((Ke=R.value)!=null&&Ke.complete){if(R.value.naturalWidth||le(),I.value==="error")return;X.value||K(R.value,null),I.value==="loading"&&ce()}else X.value||K(R.value),Me()})})}}function ce(){var Le;S.isUnmounted||(Me(),K(R.value),I.value="loaded",l("load",((Le=R.value)==null?void 0:Le.currentSrc)||G.value.src))}function le(){var Le;S.isUnmounted||(I.value="error",l("error",((Le=R.value)==null?void 0:Le.currentSrc)||G.value.src))}function Me(){const Le=R.value;Le&&(M.value=Le.currentSrc||Le.src)}let he=-1;Cc(()=>{clearTimeout(he)});function K(Le){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Ke=()=>{if(clearTimeout(he),S.isUnmounted)return;const{naturalHeight:ct,naturalWidth:$t}=Le;ct||$t?(L.value=$t,$.value=ct):!Le.complete&&I.value==="loading"&&O!=null?he=window.setTimeout(Ke,O):(Le.currentSrc.endsWith(".svg")||Le.currentSrc.startsWith("data:image/svg+xml"))&&(L.value=1,$.value=1)};Ke()}const ye=Ge(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),ae=()=>{var Ke;if(!G.value.src||I.value==="idle")return null;const Le=j("img",{class:["v-img__img",ye.value],style:{objectPosition:n.position},src:G.value.src,srcset:G.value.srcset,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:R,onLoad:ce,onError:le},null),O=(Ke=d.sources)==null?void 0:Ke.call(d);return j(zy,{transition:n.transition,appear:!0},{default:()=>[Zn(O?j("picture",{class:"v-img__picture"},[O,Le]):Le,[[Ao,I.value==="loaded"]])]})},Ue=()=>j(zy,{transition:n.transition},{default:()=>[G.value.lazySrc&&I.value!=="loaded"&&j("img",{class:["v-img__img","v-img__img--preload",ye.value],style:{objectPosition:n.position},src:G.value.lazySrc,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),We=()=>d.placeholder?j(zy,{transition:n.transition,appear:!0},{default:()=>[(I.value==="loading"||I.value==="error"&&!d.error)&&j("div",{class:"v-img__placeholder"},[d.placeholder()])]}):null,qe=()=>d.error?j(zy,{transition:n.transition,appear:!0},{default:()=>[I.value==="error"&&j("div",{class:"v-img__error"},[d.error()])]}):null,st=()=>n.gradient?j("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,Ee=To(!1);{const Le=zn(X,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ee.value=!0})}),Le())})}return vs(()=>{const Le=hq.filterProps(n);return Zn(j(hq,Zo({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!Ee.value},g.value,x.value,n.class],style:[{width:hs(n.width==="auto"?L.value:n.width)},v.value,n.style]},Le,{aspectRatio:X.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>j(us,null,[j(ae,null,null),j(Ue,null,null),j(st,null,null),j(We,null,null),j(qe,null,null)]),default:d.default}),[[Jy("intersect"),{handler:ne,options:n.options},null,{once:!0}]])}),{currentSrc:M,image:R,state:I,naturalWidth:L,naturalHeight:$}}}),fpe=Dn({start:Boolean,end:Boolean,icon:mi,image:String,text:String,...I1(),...Vs(),...Pg(),...hm(),...RD(),...Qi(),...cl(),...B1({variant:"flat"})},"VAvatar"),qy=Io()({name:"VAvatar",props:fpe(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{borderClasses:g}=N1(n),{colorClasses:v,colorStyles:x,variantClasses:S}=sE(n),{densityClasses:M}=qh(n),{roundedClasses:R}=pm(n),{sizeClasses:I,sizeStyles:L}=ID(n);return vs(()=>j(n.tag,{class:["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},d.value,g.value,v.value,M.value,R.value,I.value,S.value,n.class],style:[x.value,L.value,n.style]},{default:()=>[l.default?j(xa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[l.default()]}):n.image?j(PD,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?j(Gn,{key:"icon",icon:n.icon},null):n.text,oE(!1,"v-avatar")]})),{}}}),mpe=Dn({appendAvatar:String,appendIcon:mi,prependAvatar:String,prependIcon:mi,subtitle:[String,Number],title:[String,Number],...Vs(),...Pg()},"VCardItem"),gpe=Io()({name:"VCardItem",props:mpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var R;const d=!!(n.prependAvatar||n.prependIcon),g=!!(d||l.prepend),v=!!(n.appendAvatar||n.appendIcon),x=!!(v||l.append),S=!!(n.title!=null||l.title),M=!!(n.subtitle!=null||l.subtitle);return j("div",{class:["v-card-item",n.class],style:n.style},[g&&j("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?j(xa,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},l.prepend):j(us,null,[n.prependAvatar&&j(qy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(Gn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),j("div",{class:"v-card-item__content"},[S&&j(c8,{key:"title"},{default:()=>{var I;return[((I=l.title)==null?void 0:I.call(l))??n.title]}}),M&&j(lpe,{key:"subtitle"},{default:()=>{var I;return[((I=l.subtitle)==null?void 0:I.call(l))??n.subtitle]}}),(R=l.default)==null?void 0:R.call(l)]),x&&j("div",{key:"append",class:"v-card-item__append"},[l.append?j(xa,{key:"append-defaults",disabled:!v,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},l.append):j(us,null,[n.appendIcon&&j(Gn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(qy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),hpe=Dn({opacity:[Number,String],...Vs(),...Qi()},"VCardText"),zh=Io()({name:"VCardText",props:hpe(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-card-text",n.class],style:[{"--v-card-text-opacity":n.opacity},n.style]},l)),{}}}),ppe=Dn({appendAvatar:String,appendIcon:mi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...I1(),...Vs(),...Pg(),...Yh(),...P1(),...GU(),...r8(),...YU(),...hm(),...l8(),...Qi(),...cl(),...B1({variant:"elevated"})},"VCard"),hv=Io()({name:"VCard",directives:{Ripple:ND},props:ppe(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{borderClasses:v}=N1(n),{colorClasses:x,colorStyles:S,variantClasses:M}=sE(n),{densityClasses:R}=qh(n),{dimensionStyles:I}=Xh(n),{elevationClasses:L}=M1(n),{loaderClasses:$}=qU(n),{locationStyles:G}=i8(n),{positionClasses:X}=XU(n),{roundedClasses:ne}=pm(n),ce=a8(n,l),le=Ge(()=>n.link!==!1&&ce.isLink.value),Me=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||ce.isClickable.value));return vs(()=>{const he=le.value?"a":n.tag,K=!!(d.title||n.title!=null),ye=!!(d.subtitle||n.subtitle!=null),ae=K||ye,Ue=!!(d.append||n.appendAvatar||n.appendIcon),We=!!(d.prepend||n.prependAvatar||n.prependIcon),qe=!!(d.image||n.image),st=ae||We||Ue,Ee=!!(d.text||n.text!=null);return Zn(j(he,Zo({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":Me.value},g.value,v.value,x.value,R.value,L.value,$.value,X.value,ne.value,M.value,n.class],style:[S.value,I.value,G.value,n.style],onClick:Me.value&&ce.navigate,tabindex:n.disabled?-1:void 0},ce.linkProps),{default:()=>{var Le;return[qe&&j("div",{key:"image",class:"v-card__image"},[d.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},d.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(TJ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:d.loader}),st&&j(gpe,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:d.item,prepend:d.prepend,title:d.title,subtitle:d.subtitle,append:d.append}),Ee&&j(zh,{key:"text"},{default:()=>{var O;return[((O=d.text)==null?void 0:O.call(d))??n.text]}}),(Le=d.default)==null?void 0:Le.call(d),d.actions&&j(Vh,null,{default:d.actions}),oE(Me.value,"v-card")]}}),[[Jy("ripple"),Me.value&&n.ripple]])}),{}}}),vpe=Dn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function vm(n,r,l){return Io()({name:n,props:vpe({mode:l,origin:r}),setup(d,g){let{slots:v}=g;const x={onBeforeEnter(S){d.origin&&(S.style.transformOrigin=d.origin)},onLeave(S){if(d.leaveAbsolute){const{offsetTop:M,offsetLeft:R,offsetWidth:I,offsetHeight:L}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${M}px`,S.style.left=`${R}px`,S.style.width=`${I}px`,S.style.height=`${L}px`}d.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(d.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:M,top:R,left:I,width:L,height:$}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=M||"",S.style.top=R||"",S.style.left=I||"",S.style.width=L||"",S.style.height=$||""}}};return()=>{const S=d.group?OU:Zy;return xv(S,{name:d.disabled?"":n,css:!d.disabled,...d.group?void 0:{mode:d.mode},...d.disabled?{}:x},v.default)}}})}function zJ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Io()({name:n,props:{mode:{type:String,default:l},disabled:Boolean,group:Boolean},setup(d,g){let{slots:v}=g;const x=d.group?OU:Zy;return()=>xv(x,{name:d.disabled?"":n,css:!d.disabled,...d.disabled?{}:r},v.default)}})}function HJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",d=gm(`offset-${l}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[l]:x.style[l]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const M=`${x[d]}px`;x.style[l]="0",x.offsetHeight,x.style.transition=S.transition,n&&x._parent&&x._parent.classList.add(n),requestAnimationFrame(()=>{x.style[l]=M})},onAfterEnter:v,onEnterCancelled:v,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[l]:x.style[l]},x.style.overflow="hidden",x.style[l]=`${x[d]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[l]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){n&&x._parent&&x._parent.classList.remove(n),v(x)}function v(x){const S=x._initialStyle[l];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[l]=S),delete x._initialStyle}}const bpe=Dn({target:[Object,Array]},"v-dialog-transition"),QU=Io()({name:"VDialogTransition",props:bpe(),setup(n,r){let{slots:l}=r;const d={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,v){var $;await new Promise(G=>requestAnimationFrame(G)),await new Promise(G=>requestAnimationFrame(G)),g.style.visibility="";const{x,y:S,sx:M,sy:R,speed:I}=vq(n.target,g),L=Bk(g,[{transform:`translate(${x}px, ${S}px) scale(${M}, ${R})`,opacity:0},{}],{duration:225*I,easing:Tfe});($=pq(g))==null||$.forEach(G=>{Bk(G,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*I,easing:wL})}),L.finished.then(()=>v())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,v){var $;await new Promise(G=>requestAnimationFrame(G));const{x,y:S,sx:M,sy:R,speed:I}=vq(n.target,g);Bk(g,[{},{transform:`translate(${x}px, ${S}px) scale(${M}, ${R})`,opacity:0}],{duration:125*I,easing:Ofe}).finished.then(()=>v()),($=pq(g))==null||$.forEach(G=>{Bk(G,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*I,easing:wL})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>n.target?j(Zy,Zo({name:"dialog-transition"},d,{css:!1}),l):j(Zy,{name:"dialog-transition"},l)}});function pq(n){var l;const r=(l=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:l.children;return r&&[...r]}function vq(n,r){const l=xX(n),d=PU(r),[g,v]=getComputedStyle(r).transformOrigin.split(" ").map(le=>parseFloat(le)),[x,S]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let M=l.left+l.width/2;x==="left"||S==="left"?M-=l.width/2:(x==="right"||S==="right")&&(M+=l.width/2);let R=l.top+l.height/2;x==="top"||S==="top"?R-=l.height/2:(x==="bottom"||S==="bottom")&&(R+=l.height/2);const I=l.width/d.width,L=l.height/d.height,$=Math.max(1,I,L),G=I/$||0,X=L/$||0,ne=d.width*d.height/(window.innerWidth*window.innerHeight),ce=ne>.12?Math.min(1.5,(ne-.12)*10+1):1;return{x:M-(g+d.left),y:R-(v+d.top),sx:G,sy:X,speed:ce}}vm("fab-transition","center center","out-in");vm("dialog-bottom-transition");vm("dialog-top-transition");const bq=vm("fade-transition");vm("scale-transition");vm("scroll-x-transition");vm("scroll-x-reverse-transition");vm("scroll-y-transition");vm("scroll-y-reverse-transition");vm("slide-x-transition");vm("slide-x-reverse-transition");const $J=vm("slide-y-transition");vm("slide-y-reverse-transition");const UJ=zJ("expand-transition",HJ()),WJ=zJ("expand-x-transition",HJ("",!0));function l$(n,r){return{x:n.x+r.x,y:n.y+r.y}}function ype(n,r){return{x:n.x-r.x,y:n.y-r.y}}function yq(n,r){if(n.side==="top"||n.side==="bottom"){const{side:l,align:d}=n,g=d==="left"?0:d==="center"?r.width/2:d==="right"?r.width:d,v=l==="top"?0:l==="bottom"?r.height:l;return l$({x:g,y:v},r)}else if(n.side==="left"||n.side==="right"){const{side:l,align:d}=n,g=l==="left"?0:l==="right"?r.width:l,v=d==="top"?0:d==="center"?r.height/2:d==="bottom"?r.height:d;return l$({x:g,y:v},r)}return l$({x:r.width/2,y:r.height/2},r)}const ZJ={static:Cpe,connected:Spe},xpe=Dn({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in ZJ},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function wpe(n,r){const l=Mn({}),d=Mn();fi&&Rg(()=>!!(r.isActive.value&&n.locationStrategy),v=>{var x,S;zn(()=>n.locationStrategy,v),Ru(()=>{window.removeEventListener("resize",g),d.value=void 0}),window.addEventListener("resize",g,{passive:!0}),typeof n.locationStrategy=="function"?d.value=(x=n.locationStrategy(r,n,l))==null?void 0:x.updateLocation:d.value=(S=ZJ[n.locationStrategy](r,n,l))==null?void 0:S.updateLocation});function g(v){var x;(x=d.value)==null||x.call(d,v)}return{contentStyles:l,updateLocation:d}}function Cpe(){}function _pe(n,r){const l=PU(n);return r?l.x+=parseFloat(n.style.right||0):l.x-=parseFloat(n.style.left||0),l.y-=parseFloat(n.style.top||0),l}function Spe(n,r,l){(Array.isArray(n.target.value)||Rfe(n.target.value))&&Object.assign(l.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:v}=IU(()=>{const X=D$(r.location,n.isRtl.value),ne=r.origin==="overlap"?X:r.origin==="auto"?KH(X):D$(r.origin,n.isRtl.value);return X.side===ne.side&&X.align===GH(ne).align?{preferredAnchor:bG(X),preferredOrigin:bG(ne)}:{preferredAnchor:X,preferredOrigin:ne}}),[x,S,M,R]=["minWidth","minHeight","maxWidth","maxHeight"].map(X=>Ge(()=>{const ne=parseFloat(r[X]);return isNaN(ne)?1/0:ne})),I=Ge(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const X=r.offset.split(" ").map(parseFloat);return X.length<2&&X.push(0),X}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let L=!1;const $=new ResizeObserver(()=>{L&&G()});zn([n.target,n.contentEl],(X,ne)=>{let[ce,le]=X,[Me,he]=ne;Me&&!Array.isArray(Me)&&$.unobserve(Me),ce&&!Array.isArray(ce)&&$.observe(ce),he&&$.unobserve(he),le&&$.observe(le)},{immediate:!0}),Ru(()=>{$.disconnect()});function G(){if(L=!1,requestAnimationFrame(()=>L=!0),!n.target.value||!n.contentEl.value)return;const X=xX(n.target.value),ne=_pe(n.contentEl.value,n.isRtl.value),ce=CL(n.contentEl.value),le=12;ce.length||(ce.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(ne.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ne.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Me=ce.reduce((Ee,Le)=>{const O=Le.getBoundingClientRect(),Ke=new iC({x:Le===document.documentElement?0:O.x,y:Le===document.documentElement?0:O.y,width:Le.clientWidth,height:Le.clientHeight});return Ee?new iC({x:Math.max(Ee.left,Ke.left),y:Math.max(Ee.top,Ke.top),width:Math.min(Ee.right,Ke.right)-Math.max(Ee.left,Ke.left),height:Math.min(Ee.bottom,Ke.bottom)-Math.max(Ee.top,Ke.top)}):Ke},void 0);Me.x+=le,Me.y+=le,Me.width-=le*2,Me.height-=le*2;let he={anchor:g.value,origin:v.value};function K(Ee){const Le=new iC(ne),O=yq(Ee.anchor,X),Ke=yq(Ee.origin,Le);let{x:ct,y:$t}=ype(O,Ke);switch(Ee.anchor.side){case"top":$t-=I.value[0];break;case"bottom":$t+=I.value[0];break;case"left":ct-=I.value[0];break;case"right":ct+=I.value[0];break}switch(Ee.anchor.align){case"top":$t-=I.value[1];break;case"bottom":$t+=I.value[1];break;case"left":ct-=I.value[1];break;case"right":ct+=I.value[1];break}return Le.x+=ct,Le.y+=$t,Le.width=Math.min(Le.width,M.value),Le.height=Math.min(Le.height,R.value),{overflows:xG(Le,Me),x:ct,y:$t}}let ye=0,ae=0;const Ue={x:0,y:0},We={x:!1,y:!1};let qe=-1;for(;!(qe++>10);){const{x:Ee,y:Le,overflows:O}=K(he);ye+=Ee,ae+=Le,ne.x+=Ee,ne.y+=Le;{const Ke=yG(he.anchor),ct=O.x.before||O.x.after,$t=O.y.before||O.y.after;let Jt=!1;if(["x","y"].forEach(et=>{if(et==="x"&&ct&&!We.x||et==="y"&&$t&&!We.y){const pt={anchor:{...he.anchor},origin:{...he.origin}},Lt=et==="x"?Ke==="y"?GH:KH:Ke==="y"?KH:GH;pt.anchor=Lt(pt.anchor),pt.origin=Lt(pt.origin);const{overflows:tt}=K(pt);(tt[et].before<=O[et].before&&tt[et].after<=O[et].after||tt[et].before+tt[et].after<(O[et].before+O[et].after)/2)&&(he=pt,Jt=We[et]=!0)}}),Jt)continue}O.x.before&&(ye+=O.x.before,ne.x+=O.x.before),O.x.after&&(ye-=O.x.after,ne.x-=O.x.after),O.y.before&&(ae+=O.y.before,ne.y+=O.y.before),O.y.after&&(ae-=O.y.after,ne.y-=O.y.after);{const Ke=xG(ne,Me);Ue.x=Me.width-Ke.x.before-Ke.x.after,Ue.y=Me.height-Ke.y.before-Ke.y.after,ye+=Ke.x.before,ne.x+=Ke.x.before,ae+=Ke.y.before,ne.y+=Ke.y.before}break}const st=yG(he.anchor);return Object.assign(l.value,{"--v-overlay-anchor-origin":`${he.anchor.side} ${he.anchor.align}`,transformOrigin:`${he.origin.side} ${he.origin.align}`,top:hs(c$(ae)),left:n.isRtl.value?void 0:hs(c$(ye)),right:n.isRtl.value?hs(c$(-ye)):void 0,minWidth:hs(st==="y"?Math.min(x.value,X.width):x.value),maxWidth:hs(xq($h(Ue.x,x.value===1/0?0:x.value,M.value))),maxHeight:hs(xq($h(Ue.y,S.value===1/0?0:S.value,R.value)))}),{available:Ue,contentBox:ne}}return zn(()=>[g.value,v.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>G()),Fs(()=>{const X=G();if(!X)return;const{available:ne,contentBox:ce}=X;ce.height>ne.y&&requestAnimationFrame(()=>{G(),requestAnimationFrame(()=>{G()})})}),{updateLocation:G}}function c$(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function xq(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let Y$=!0;const RL=[];function kpe(n){!Y$||RL.length?(RL.push(n),X$()):(Y$=!1,n(),X$())}let wq=-1;function X$(){cancelAnimationFrame(wq),wq=requestAnimationFrame(()=>{const n=RL.shift();n&&n(),RL.length?X$():Y$=!0})}const aL={none:null,close:Tpe,block:Ope,reposition:Dpe},Epe=Dn({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in aL}},"VOverlay-scroll-strategies");function Ape(n,r){if(!fi)return;let l;uf(async()=>{l==null||l.stop(),r.isActive.value&&n.scrollStrategy&&(l=CD(),await new Promise(d=>setTimeout(d)),l.active&&l.run(()=>{var d;typeof n.scrollStrategy=="function"?n.scrollStrategy(r,n,l):(d=aL[n.scrollStrategy])==null||d.call(aL,r,n,l)}))}),Ru(()=>{l==null||l.stop()})}function Tpe(n){function r(l){n.isActive.value=!1}jJ(n.targetEl.value??n.contentEl.value,r)}function Ope(n,r){var x;const l=(x=n.root.value)==null?void 0:x.offsetParent,d=[...new Set([...CL(n.targetEl.value,r.contained?l:void 0),...CL(n.contentEl.value,r.contained?l:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,v=(S=>LU(S)&&S)(l||document.documentElement);v&&n.root.value.classList.add("v-overlay--scroll-blocked"),d.forEach((S,M)=>{S.style.setProperty("--v-body-scroll-x",hs(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",hs(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",hs(g)),S.classList.add("v-overlay-scroll-blocked")}),Ru(()=>{d.forEach((S,M)=>{const R=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),I=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),L=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-R,S.scrollTop=-I,S.style.scrollBehavior=L}),v&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Dpe(n,r,l){let d=!1,g=-1,v=-1;function x(S){kpe(()=>{var I,L;const M=performance.now();(L=(I=n.updateLocation).value)==null||L.call(I,S),d=(performance.now()-M)/(1e3/60)>2})}v=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{l.run(()=>{jJ(n.targetEl.value??n.contentEl.value,S=>{d?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Ru(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(v),cancelAnimationFrame(g)})}function jJ(n,r){const l=[document,...CL(n)];l.forEach(d=>{d.addEventListener("scroll",r,{passive:!0})}),Ru(()=>{l.forEach(d=>{d.removeEventListener("scroll",r)})})}const J$=Symbol.for("vuetify:v-menu"),KJ=Dn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function GJ(n,r){let l=()=>{};function d(x){l==null||l();const S=Number(x?n.openDelay:n.closeDelay);return new Promise(M=>{l=Xde(S,()=>{r==null||r(x),M(x)})})}function g(){return d(!0)}function v(){return d(!1)}return{clearDelay:l,runOpenDelay:g,runCloseDelay:v}}const Rpe=Dn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...KJ()},"VOverlay-activator");function Ipe(n,r){let{isActive:l,isTop:d,contentEl:g}=r;const v=Tl("useActivator"),x=Mn();let S=!1,M=!1,R=!0;const I=Ge(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),L=Ge(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!I.value),{runOpenDelay:$,runCloseDelay:G}=GJ(n,We=>{We===(n.openOnHover&&S||I.value&&M)&&!(n.openOnHover&&l.value&&!d.value)&&(l.value!==We&&(R=!0),l.value=We)}),X=Mn(),ne={onClick:We=>{We.stopPropagation(),x.value=We.currentTarget||We.target,l.value||(X.value=[We.clientX,We.clientY]),l.value=!l.value},onMouseenter:We=>{var qe;(qe=We.sourceCapabilities)!=null&&qe.firesTouchEvents||(S=!0,x.value=We.currentTarget||We.target,$())},onMouseleave:We=>{S=!1,G()},onFocus:We=>{jk(We.target,":focus-visible")!==!1&&(M=!0,We.stopPropagation(),x.value=We.currentTarget||We.target,$())},onBlur:We=>{M=!1,We.stopPropagation(),G()}},ce=Ge(()=>{const We={};return L.value&&(We.onClick=ne.onClick),n.openOnHover&&(We.onMouseenter=ne.onMouseenter,We.onMouseleave=ne.onMouseleave),I.value&&(We.onFocus=ne.onFocus,We.onBlur=ne.onBlur),We}),le=Ge(()=>{const We={};if(n.openOnHover&&(We.onMouseenter=()=>{S=!0,$()},We.onMouseleave=()=>{S=!1,G()}),I.value&&(We.onFocusin=()=>{M=!0,$()},We.onFocusout=()=>{M=!1,G()}),n.closeOnContentClick){const qe=wa(J$,null);We.onClick=()=>{l.value=!1,qe==null||qe.closeParents()}}return We}),Me=Ge(()=>{const We={};return n.openOnHover&&(We.onMouseenter=()=>{R&&(S=!0,R=!1,$())},We.onMouseleave=()=>{S=!1,G()}),We});zn(d,We=>{var qe;We&&(n.openOnHover&&!S&&(!I.value||!M)||I.value&&!M&&(!n.openOnHover||!S))&&!((qe=g.value)!=null&&qe.contains(document.activeElement))&&(l.value=!1)}),zn(l,We=>{We||setTimeout(()=>{X.value=void 0})},{flush:"post"});const he=T$();uf(()=>{he.value&&Fs(()=>{x.value=he.el})});const K=T$(),ye=Ge(()=>n.target==="cursor"&&X.value?X.value:K.value?K.el:qJ(n.target,v)||x.value),ae=Ge(()=>Array.isArray(ye.value)?void 0:ye.value);let Ue;return zn(()=>!!n.activator,We=>{We&&fi?(Ue=CD(),Ue.run(()=>{Npe(n,v,{activatorEl:x,activatorEvents:ce})})):Ue&&Ue.stop()},{flush:"post",immediate:!0}),Ru(()=>{Ue==null||Ue.stop()}),{activatorEl:x,activatorRef:he,target:ye,targetEl:ae,targetRef:K,activatorEvents:ce,contentEvents:le,scrimEvents:Me}}function Npe(n,r,l){let{activatorEl:d,activatorEvents:g}=l;zn(()=>n.activator,(M,R)=>{if(R&&M!==R){const I=S(R);I&&x(I)}M&&Fs(()=>v())},{immediate:!0}),zn(()=>n.activatorProps,()=>{v()}),Ru(()=>{x()});function v(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;M&&efe(M,Zo(g.value,R))}function x(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;M&&tfe(M,Zo(g.value,R))}function S(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const R=qJ(M,r);return d.value=(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE?R:void 0,d.value}}function qJ(n,r){var d,g;if(!n)return;let l;if(n==="parent"){let v=(g=(d=r==null?void 0:r.proxy)==null?void 0:d.$el)==null?void 0:g.parentNode;for(;v!=null&&v.hasAttribute("data-no-activator");)v=v.parentNode;l=v}else typeof n=="string"?l=document.querySelector(n):"$el"in n?l=n.$el:l=n;return l}function Ppe(){if(!fi)return To(!1);const{ssr:n}=XL();if(n){const r=To(!1);return Iu(()=>{r.value=!0}),r}else return To(!0)}const Mpe=Dn({eager:Boolean},"lazy");function Bpe(n,r){const l=To(!1),d=Ge(()=>l.value||n.eager||r.value);zn(r,()=>l.value=!0);function g(){n.eager||(l.value=!1)}return{isBooted:l,hasContent:d,onAfterLeave:g}}function u8(){const r=Tl("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const Cq=Symbol.for("vuetify:stack"),BO=ec([]);function Lpe(n,r,l){const d=Tl("useStack"),g=!l,v=wa(Cq,void 0),x=ec({activeChildren:new Set});_d(Cq,x);const S=To(+r.value);Rg(n,()=>{var L;const I=(L=BO.at(-1))==null?void 0:L[1];S.value=I?I+10:+r.value,g&&BO.push([d.uid,S.value]),v==null||v.activeChildren.add(d.uid),Ru(()=>{if(g){const $=ss(BO).findIndex(G=>G[0]===d.uid);BO.splice($,1)}v==null||v.activeChildren.delete(d.uid)})});const M=To(!0);g&&uf(()=>{var L;const I=((L=BO.at(-1))==null?void 0:L[0])===d.uid;setTimeout(()=>M.value=I)});const R=Ge(()=>!x.activeChildren.size);return{globalTop:_D(M),localTop:R,stackStyles:Ge(()=>({zIndex:S.value}))}}function Fpe(n){return{teleportTarget:Ge(()=>{const l=n();if(l===!0||!fi)return;const d=l===!1?document.body:typeof l=="string"?document.querySelector(l):l;if(d==null)return;let g=[...d.children].find(v=>v.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",d.appendChild(g)),g})}}function Vpe(){return!0}function YJ(n,r,l){if(!n||XJ(n,l)===!1)return!1;const d=AX(r);if(typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&d.host===n.target)return!1;const g=(typeof l.value=="object"&&l.value.include||(()=>[]))();return g.push(r),!g.some(v=>v==null?void 0:v.contains(n.target))}function XJ(n,r){return(typeof r.value=="object"&&r.value.closeConditional||Vpe)(n)}function zpe(n,r,l){const d=typeof l.value=="function"?l.value:l.value.handler;n.shadowTarget=n.target,r._clickOutside.lastMousedownWasOutside&&YJ(n,r,l)&&setTimeout(()=>{XJ(n,l)&&d&&d(n)},0)}function _q(n,r){const l=AX(n);r(document),typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&r(l)}const Hpe={mounted(n,r){const l=g=>zpe(g,n,r),d=g=>{n._clickOutside.lastMousedownWasOutside=YJ(g,n,r)};_q(n,g=>{g.addEventListener("click",l,!0),g.addEventListener("mousedown",d,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[r.instance.$.uid]={onClick:l,onMousedown:d}},beforeUnmount(n,r){n._clickOutside&&(_q(n,l=>{var v;if(!l||!((v=n._clickOutside)!=null&&v[r.instance.$.uid]))return;const{onClick:d,onMousedown:g}=n._clickOutside[r.instance.$.uid];l.removeEventListener("click",d,!0),l.removeEventListener("mousedown",g,!0)}),delete n._clickOutside[r.instance.$.uid])}};function $pe(n){const{modelValue:r,color:l,...d}=n;return j(Zy,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&j("div",Zo({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},d),null)]})}const eW=Dn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Rpe(),...Vs(),...Yh(),...Mpe(),...xpe(),...Epe(),...cl(),...rE()},"VOverlay"),IL=Io()({name:"VOverlay",directives:{ClickOutside:Hpe},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...eW()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{slots:l,attrs:d,emit:g}=r;const v=Tl("VOverlay"),x=Mn(),S=Mn(),M=Mn(),R=Hi(n,"modelValue"),I=Ge({get:()=>R.value,set:fn=>{fn&&n.disabled||(R.value=fn)}}),{themeClasses:L}=Hl(n),{rtlClasses:$,isRtl:G}=Ng(),{hasContent:X,onAfterLeave:ne}=Bpe(n,I),ce=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),{globalTop:le,localTop:Me,stackStyles:he}=Lpe(I,es(n,"zIndex"),n._disableGlobalStack),{activatorEl:K,activatorRef:ye,target:ae,targetEl:Ue,targetRef:We,activatorEvents:qe,contentEvents:st,scrimEvents:Ee}=Ipe(n,{isActive:I,isTop:Me,contentEl:M}),{teleportTarget:Le}=Fpe(()=>{var Q,xs,eo;const fn=n.attach||n.contained;if(fn)return fn;const _n=((Q=K==null?void 0:K.value)==null?void 0:Q.getRootNode())||((eo=(xs=v.proxy)==null?void 0:xs.$el)==null?void 0:eo.getRootNode());return _n instanceof ShadowRoot?_n:!1}),{dimensionStyles:O}=Xh(n),Ke=Ppe(),{scopeId:ct}=u8();zn(()=>n.disabled,fn=>{fn&&(I.value=!1)});const{contentStyles:$t,updateLocation:Jt}=wpe(n,{isRtl:G,contentEl:M,target:ae,isActive:I});Ape(n,{root:x,contentEl:M,targetEl:Ue,isActive:I,updateLocation:Jt});function et(fn){g("click:outside",fn),n.persistent?Mt():I.value=!1}function pt(fn){return I.value&&le.value&&(!n.scrim||fn.target===S.value||fn instanceof MouseEvent&&fn.shadowTarget===S.value)}fi&&zn(I,fn=>{fn?window.addEventListener("keydown",Lt):window.removeEventListener("keydown",Lt)},{immediate:!0}),Cc(()=>{fi&&window.removeEventListener("keydown",Lt)});function Lt(fn){var _n,Q;fn.key==="Escape"&&le.value&&(n.persistent?Mt():(I.value=!1,(_n=M.value)!=null&&_n.contains(document.activeElement)&&((Q=K.value)==null||Q.focus())))}const tt=OJ();Rg(()=>n.closeOnBack,()=>{Qhe(tt,fn=>{le.value&&I.value?(fn(!1),n.persistent?Mt():I.value=!1):fn()})});const Ye=Mn();zn(()=>I.value&&(n.absolute||n.contained)&&Le.value==null,fn=>{if(fn){const _n=TX(x.value);_n&&_n!==document.scrollingElement&&(Ye.value=_n.scrollTop)}});function Mt(){n.noClickAnimation||M.value&&Bk(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:wL})}function oo(){g("afterEnter")}function Fn(){ne(),g("afterLeave")}return vs(()=>{var fn;return j(us,null,[(fn=l.activator)==null?void 0:fn.call(l,{isActive:I.value,targetRef:We,props:Zo({ref:ye},qe.value,n.activatorProps)}),Ke.value&&X.value&&j(lue,{disabled:!Le.value,to:Le.value},{default:()=>[j("div",Zo({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":I.value,"v-overlay--contained":n.contained},L.value,$.value,n.class],style:[he.value,{"--v-overlay-opacity":n.opacity,top:hs(Ye.value)},n.style],ref:x},ct,d),[j($pe,Zo({color:ce,modelValue:I.value&&!!n.scrim,ref:S},Ee.value),null),j(zy,{appear:!0,persisted:!0,transition:n.transition,target:ae.value,onAfterEnter:oo,onAfterLeave:Fn},{default:()=>{var _n;return[Zn(j("div",Zo({ref:M,class:["v-overlay__content",n.contentClass],style:[O.value,$t.value]},st.value,n.contentProps),[(_n=l.default)==null?void 0:_n.call(l,{isActive:I})]),[[Ao,I.value],[Jy("click-outside"),{handler:et,closeConditional:pt,include:()=>[K.value]}]])]}})])]})])}),{activatorEl:K,scrimEl:S,target:ae,animateClick:Mt,contentEl:M,globalTop:le,localTop:Me,updateLocation:Jt}}}),u$=Symbol("Forwarded refs");function d$(n,r){let l=n;for(;l;){const d=Reflect.getOwnPropertyDescriptor(l,r);if(d)return d;l=Object.getPrototypeOf(l)}}function iE(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];return n[u$]=l,new Proxy(n,{get(g,v){if(Reflect.has(g,v))return Reflect.get(g,v);if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const x of l)if(x.value&&Reflect.has(x.value,v)){const S=Reflect.get(x.value,v);return typeof S=="function"?S.bind(x.value):S}}},has(g,v){if(Reflect.has(g,v))return!0;if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const x of l)if(x.value&&Reflect.has(x.value,v))return!0;return!1},set(g,v,x){if(Reflect.has(g,v))return Reflect.set(g,v,x);if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const S of l)if(S.value&&Reflect.has(S.value,v))return Reflect.set(S.value,v,x);return!1},getOwnPropertyDescriptor(g,v){var S;const x=Reflect.getOwnPropertyDescriptor(g,v);if(x)return x;if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const M of l){if(!M.value)continue;const R=d$(M.value,v)??("_"in M.value?d$((S=M.value._)==null?void 0:S.setupState,v):void 0);if(R)return R}for(const M of l){const R=M.value&&M.value[u$];if(!R)continue;const I=R.slice();for(;I.length;){const L=I.shift(),$=d$(L.value,v);if($)return $;const G=L.value&&L.value[u$];G&&I.push(...G)}}}}})}const Upe=Dn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...eW({origin:"center center",scrollStrategy:"block",transition:{component:QU},zIndex:2400})},"VDialog"),pv=Io()({name:"VDialog",props:Upe(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=Hi(n,"modelValue"),{scopeId:v}=u8(),x=Mn();function S(I){var G,X;const L=I.relatedTarget,$=I.target;if(L!==$&&((G=x.value)!=null&&G.contentEl)&&((X=x.value)!=null&&X.globalTop)&&![document,x.value.contentEl].includes($)&&!x.value.contentEl.contains($)){const ne=tD(x.value.contentEl);if(!ne.length)return;const ce=ne[0],le=ne[ne.length-1];L===ce?le.focus():ce.focus()}}fi&&zn(()=>g.value&&n.retainFocus,I=>{I?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function M(){var I;l("afterEnter"),(I=x.value)!=null&&I.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function R(){l("afterLeave")}return zn(g,async I=>{var L;I||(await Fs(),(L=x.value.activatorEl)==null||L.focus({preventScroll:!0}))}),vs(()=>{const I=IL.filterProps(n),L=Zo({"aria-haspopup":"dialog"},n.activatorProps),$=Zo({tabindex:-1},n.contentProps);return j(IL,Zo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},I,{modelValue:g.value,"onUpdate:modelValue":G=>g.value=G,"aria-modal":"true",activatorProps:L,contentProps:$,role:"dialog",onAfterEnter:M,onAfterLeave:R},v),{activator:d.activator,default:function(){for(var G=arguments.length,X=new Array(G),ne=0;ne<G;ne++)X[ne]=arguments[ne];return j(xa,{root:"VDialog"},{default:()=>{var ce;return[(ce=d.default)==null?void 0:ce.call(d,...X)]}})}})}),iE({},x)}}),Wpe=Dn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Vs(),...Pg(),...Qi(),...cl()},"VTable"),w1=Io()({name:"VTable",props:Wpe(),setup(n,r){let{slots:l,emit:d}=r;const{themeClasses:g}=Hl(n),{densityClasses:v}=qh(n);return vs(()=>j(n.tag,{class:["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":n.hover},g.value,v.value,n.class],style:n.style},{default:()=>{var x,S,M;return[(x=l.top)==null?void 0:x.call(l),l.default?j("div",{class:"v-table__wrapper",style:{height:hs(n.height)}},[j("table",null,[l.default()])]):(S=l.wrapper)==null?void 0:S.call(l),(M=l.bottom)==null?void 0:M.call(l)]}})),{}}}),Zpe={__name:"Help",setup(n){const r=wc();return(l,d)=>(Ln(),ds(us,null,[j(xo,{class:"app-header-item",onClick:d[0]||(d[0]=g=>re(r).showHelp=!0)},{default:At(()=>[j(Gn,{left:"",icon:"mdi-help"}),d[3]||(d[3]=Qr(" Hilfe "))]),_:1}),j(pv,{modelValue:re(r).showHelp,"onUpdate:modelValue":d[2]||(d[2]=g=>re(r).showHelp=g),"max-width":"1000"},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>[d[9]||(d[9]=ke("h1",null,"Allgemeine Navigation",-1)),j(w1,null,{default:At(()=>d[4]||(d[4]=[ke("thead",null,[ke("tr",null,[ke("th",{width:"50%"},"Aktion"),ke("th",{width:"50%"},"Tastenkombination")])],-1),ke("tbody",null,[ke("tr",null,[ke("td",null,"Nchstes Element"),ke("td",null,"Tab")]),ke("tr",null,[ke("td",null,"Vorheriges Element"),ke("td",null,"Shift + Tab")]),ke("tr",null,[ke("td",null,"Header Schaltflchen"),ke("td",null,"Alt + 0")]),ke("tr",null,[ke("td",null,"Navigationsleiste Schaltflchen"),ke("td",null,"Alt + #")]),ke("tr",null,[ke("td",null,"Inhalt linke Spalte"),ke("td",null,"Alt + 1")]),ke("tr",null,[ke("td",null,"Inhalt rechte Spalte"),ke("td",null,"Alt + 2")])],-1)])),_:1}),d[10]||(d[10]=ke("h1",null,"Abgabe-Text",-1)),j(w1,null,{default:At(()=>d[5]||(d[5]=[ke("thead",null,[ke("tr",null,[ke("th",{width:"50%"},"Aktion"),ke("th",{width:"50%"},"Tastenkombination")])],-1),ke("tbody",null,[ke("tr",null,[ke("td",null,"Cursor bewegen"),ke("td",null,"Pfeiltasten")]),ke("tr",null,[ke("td",null,"Text auswhlen"),ke("td",null,"Shift + Pfeiltasten")]),ke("tr",null,[ke("td",null,"Anmerkung fr Auswahl erzeugen"),ke("td",null,"Eingabetaste wenn Text ausgewht")]),ke("tr",null,[ke("td",null,"Anmerkung bei Cursor anspringen"),ke("td",null,"Eingabetaste, wenn kein Text ausgewhlt")])],-1)])),_:1}),d[11]||(d[11]=ke("h1",null,"Anmerkungen",-1)),j(w1,null,{default:At(()=>d[6]||(d[6]=[ke("thead",null,[ke("tr",null,[ke("th",{width:"50%"},"Aktion"),ke("th",{width:"50%"},"Tastenkombination")])],-1),ke("tbody",null,[ke("tr",null,[ke("td",null,"Zur Markierung im Text springen"),ke("td",null,"Alt + Eingabetaste")]),ke("tr",null,[ke("td",null,"Anmerkung lschen"),ke("td",null,"Alt + Entfernen")])],-1)])),_:1}),d[12]||(d[12]=ke("h1",null,"Navigation im Gutachten",-1)),j(w1,null,{default:At(()=>d[7]||(d[7]=[ke("thead",null,[ke("tr",null,[ke("th",{width:"50%"},"Aktion"),ke("th",{width:"50%"},"Tastenkombination")])],-1),ke("tbody",null,[ke("tr",null,[ke("td",null,"In Symbolleiste wechseln"),ke("td",null,"Alt + F10")]),ke("tr",null,[ke("td",null,"Symbolleiste verlassen"),ke("td",null,"Esc")]),ke("tr",null,[ke("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),ke("td",null,"Pfeil links und rechts")]),ke("tr",null,[ke("td",null,"Popup der Absatzformate aufklappen"),ke("td",null,"Eingabetaste")]),ke("tr",null,[ke("td",null,"Im Popup zwischen Absatzformaten wechseln"),ke("td",null,"Pfeil abwrts und aufwrts")]),ke("tr",null,[ke("td",null,"Im Popup ein Absatzformat whlen"),ke("td",null,"Eingabetaste")]),ke("tr",null,[ke("td",null,"Popup der Absatzformate schlieen"),ke("td",null,"Esc")])],-1)])),_:1}),d[13]||(d[13]=ke("h1",null,"Tastenbefehle im Gutachten",-1)),j(w1,null,{default:At(()=>d[8]||(d[8]=[ke("thead",null,[ke("tr",null,[ke("th",{width:"50%"},"Aktion"),ke("th",{width:"50%"},"Tastenkombination")])],-1),ke("tbody",null,[ke("tr",null,[ke("td",null,"Fett"),ke("td",null,"Ctrl + B")]),ke("tr",null,[ke("td",null,"Kursiv"),ke("td",null,"Ctrl + I")]),ke("tr",null,[ke("td",null,"Unterstrichen"),ke("td",null,"Ctrl + U")]),ke("tr",null,[ke("td",null,"Alles auswhlen"),ke("td",null,"Ctrl + A")]),ke("tr",null,[ke("td",null,"Wiederholen"),ke("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),ke("tr",null,[ke("td",null,"Rckgngig machen"),ke("td",null,"Ctrl + Z")]),ke("tr",null,[ke("td",null,"berschrift 1"),ke("td",null,"Shift + Alt + 1")]),ke("tr",null,[ke("td",null,"berschrift 2"),ke("td",null,"Shift + Alt + 2")]),ke("tr",null,[ke("td",null,"berschrift 3"),ke("td",null,"Shift + Alt + 3")]),ke("tr",null,[ke("td",null,"berschrift 4"),ke("td",null,"Shift + Alt + 4")]),ke("tr",null,[ke("td",null,"berschrift 5"),ke("td",null,"Shift + Alt + 5")]),ke("tr",null,[ke("td",null,"berschrift 6"),ke("td",null,"Shift + Alt + 6")]),ke("tr",null,[ke("td",null,"Absatz"),ke("td",null,"Shift + Alt + 7")])],-1)])),_:1})]),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:d[1]||(d[1]=g=>re(r).showHelp=!1)},{default:At(()=>d[14]||(d[14]=[ke("span",null,"Hilfe schlieen",-1)])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},jpe=$l(Zpe,[["__scopeId","data-v-59fde11f"]]),Kpe=Dn({text:String,onClick:af(),...Vs(),...cl()},"VLabel"),JJ=Io()({name:"VLabel",props:Kpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var d;return j("label",{class:["v-label",{"v-label--clickable":!!n.onClick},n.class],style:n.style,onClick:n.onClick},[n.text,(d=l.default)==null?void 0:d.call(l)])}),{}}}),QJ=Symbol.for("vuetify:selection-control-group"),eQ=Dn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:mi,trueIcon:mi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Qk},...Vs(),...Pg(),...cl()},"SelectionControlGroup"),Gpe=Dn({...eQ({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Io()({name:"VSelectionControlGroup",props:Gpe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"modelValue"),g=Ig(),v=Ge(()=>n.id||`v-selection-control-group-${g}`),x=Ge(()=>n.name||v.value),S=new Set;return _d(QJ,{modelValue:d,forceUpdate:()=>{S.forEach(M=>M())},onForceUpdate:M=>{S.add(M),Ru(()=>{S.delete(M)})}}),ex({[n.defaultsTarget]:{color:es(n,"color"),disabled:es(n,"disabled"),density:es(n,"density"),error:es(n,"error"),inline:es(n,"inline"),modelValue:d,multiple:Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),name:x,falseIcon:es(n,"falseIcon"),trueIcon:es(n,"trueIcon"),readonly:es(n,"readonly"),ripple:es(n,"ripple"),type:es(n,"type"),valueComparator:es(n,"valueComparator")}}),vs(()=>{var M;return j("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class],style:n.style,role:n.type==="radio"?"radiogroup":void 0},[(M=l.default)==null?void 0:M.call(l)])}),{}}});const tQ=Dn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Vs(),...eQ()},"VSelectionControl");function qpe(n){const r=wa(QJ,void 0),{densityClasses:l}=qh(n),d=Hi(n,"modelValue"),g=Ge(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),v=Ge(()=>n.falseValue!==void 0?n.falseValue:!1),x=Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),S=Ge({get(){const G=r?r.modelValue.value:d.value;return x.value?rf(G).some(X=>n.valueComparator(X,g.value)):n.valueComparator(G,g.value)},set(G){if(n.readonly)return;const X=G?g.value:v.value;let ne=X;x.value&&(ne=G?[...rf(d.value),X]:rf(d.value).filter(ce=>!n.valueComparator(ce,g.value))),r?r.modelValue.value=ne:d.value=ne}}),{textColorClasses:M,textColorStyles:R}=Kh(Ge(()=>{if(!(n.error||n.disabled))return S.value?n.color:n.baseColor})),{backgroundColorClasses:I,backgroundColorStyles:L}=Wh(Ge(()=>S.value&&!n.error&&!n.disabled?n.color:n.baseColor)),$=Ge(()=>S.value?n.trueIcon:n.falseIcon);return{group:r,densityClasses:l,trueValue:g,falseValue:v,model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,icon:$}}const Sq=Io()({name:"VSelectionControl",directives:{Ripple:ND},inheritAttrs:!1,props:tQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{group:g,densityClasses:v,icon:x,model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,trueValue:$}=qpe(n),G=Ig(),X=To(!1),ne=To(!1),ce=Mn(),le=Ge(()=>n.id||`input-${G}`),Me=Ge(()=>!n.disabled&&!n.readonly);g==null||g.onForceUpdate(()=>{ce.value&&(ce.value.checked=S.value)});function he(Ue){Me.value&&(X.value=!0,jk(Ue.target,":focus-visible")!==!1&&(ne.value=!0))}function K(){X.value=!1,ne.value=!1}function ye(Ue){Ue.stopPropagation()}function ae(Ue){if(!Me.value){ce.value&&(ce.value.checked=S.value);return}n.readonly&&g&&Fs(()=>g.forceUpdate()),S.value=Ue.target.checked}return vs(()=>{var Ee,Le;const Ue=d.label?d.label({label:n.label,props:{for:le.value}}):n.label,[We,qe]=KL(l),st=j("input",Zo({ref:ce,checked:S.value,disabled:!!n.disabled,id:le.value,onBlur:K,onFocus:he,onInput:ae,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:$.value,name:n.name,"aria-checked":n.type==="checkbox"?S.value:void 0},qe),null);return j("div",Zo({class:["v-selection-control",{"v-selection-control--dirty":S.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":X.value,"v-selection-control--focus-visible":ne.value,"v-selection-control--inline":n.inline},v.value,n.class]},We,{style:n.style}),[j("div",{class:["v-selection-control__wrapper",M.value],style:R.value},[(Ee=d.default)==null?void 0:Ee.call(d,{backgroundColorClasses:I,backgroundColorStyles:L}),Zn(j("div",{class:["v-selection-control__input"]},[((Le=d.input)==null?void 0:Le.call(d,{model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,inputNode:st,icon:x.value,props:{onFocus:he,onBlur:K,id:le.value}}))??j(us,null,[x.value&&j(Gn,{key:"icon",icon:x.value},null),st])]),[[Jy("ripple"),n.ripple&&[!n.disabled&&!n.readonly,null,["center","circle"]]]])]),Ue&&j(JJ,{for:le.value,onClick:ye},{default:()=>[Ue]})])}),{isFocused:X,input:ce}}}),nQ=Dn({indeterminate:Boolean,indeterminateIcon:{type:mi,default:"$checkboxIndeterminate"},...tQ({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),NL=Io()({name:"VCheckboxBtn",props:nQ(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"indeterminate"),g=Hi(n,"modelValue");function v(M){d.value&&(d.value=!1)}const x=Ge(()=>d.value?n.indeterminateIcon:n.falseIcon),S=Ge(()=>d.value?n.indeterminateIcon:n.trueIcon);return vs(()=>{const M=Qy(Sq.filterProps(n),["modelValue"]);return j(Sq,Zo(M,{modelValue:g.value,"onUpdate:modelValue":[R=>g.value=R,v],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:x.value,trueIcon:S.value,"aria-checked":d.value?"mixed":void 0}),l)}),{}}});function oQ(n){const{t:r}=TD();function l(d){let{name:g}=d;const v={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],x=n[`onClick:${g}`],S=x&&v?r(`$vuetify.input.${v}`,n.label??""):void 0;return j(Gn,{icon:n[`${g}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:l}}const Ype=Dn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Vs(),...rE({transition:{component:$J,leaveAbsolute:!0,group:!0}})},"VMessages"),Xpe=Io()({name:"VMessages",props:Ype(),setup(n,r){let{slots:l}=r;const d=Ge(()=>rf(n.messages)),{textColorClasses:g,textColorStyles:v}=Kh(Ge(()=>n.color));return vs(()=>j(zy,{transition:n.transition,tag:"div",class:["v-messages",g.value,n.class],style:[v.value,n.style],role:"alert","aria-live":"polite"},{default:()=>[n.active&&d.value.map((x,S)=>j("div",{class:"v-messages__message",key:`${S}-${d.value}`},[l.message?l.message({message:x}):x]))]})),{}}}),sQ=Dn({focused:Boolean,"onUpdate:focused":af()},"focus");function d8(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=Hi(n,"focused"),d=Ge(()=>({[`${r}--focused`]:l.value}));function g(){l.value=!0}function v(){l.value=!1}return{focusClasses:d,isFocused:l,focus:g,blur:v}}const Jpe=Symbol.for("vuetify:form");function tW(){return wa(Jpe,null)}const Qpe=Dn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...sQ()},"validation");function eve(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ig();const d=Hi(n,"modelValue"),g=Ge(()=>n.validationValue===void 0?d.value:n.validationValue),v=tW(),x=Mn([]),S=To(!0),M=Ge(()=>!!(rf(d.value===""?null:d.value).length||rf(g.value===""?null:g.value).length)),R=Ge(()=>!!(n.disabled??(v==null?void 0:v.isDisabled.value))),I=Ge(()=>!!(n.readonly??(v==null?void 0:v.isReadonly.value))),L=Ge(()=>{var ye;return(ye=n.errorMessages)!=null&&ye.length?rf(n.errorMessages).concat(x.value).slice(0,Math.max(0,+n.maxErrors)):x.value}),$=Ge(()=>{let ye=(n.validateOn??(v==null?void 0:v.validateOn.value))||"input";ye==="lazy"&&(ye="input lazy"),ye==="eager"&&(ye="input eager");const ae=new Set((ye==null?void 0:ye.split(" "))??[]);return{input:ae.has("input"),blur:ae.has("blur")||ae.has("input")||ae.has("invalid-input"),invalidInput:ae.has("invalid-input"),lazy:ae.has("lazy"),eager:ae.has("eager")}}),G=Ge(()=>{var ye;return n.error||(ye=n.errorMessages)!=null&&ye.length?!1:n.rules.length?S.value?x.value.length||$.value.lazy?null:!0:!x.value.length:!0}),X=To(!1),ne=Ge(()=>({[`${r}--error`]:G.value===!1,[`${r}--dirty`]:M.value,[`${r}--disabled`]:R.value,[`${r}--readonly`]:I.value})),ce=Tl("validation"),le=Ge(()=>n.name??re(l));wU(()=>{v==null||v.register({id:le.value,vm:ce,validate:K,reset:Me,resetValidation:he})}),Cc(()=>{v==null||v.unregister(le.value)}),Iu(async()=>{$.value.lazy||await K(!$.value.eager),v==null||v.update(le.value,G.value,L.value)}),Rg(()=>$.value.input||$.value.invalidInput&&G.value===!1,()=>{zn(g,()=>{if(g.value!=null)K();else if(n.focused){const ye=zn(()=>n.focused,ae=>{ae||K(),ye()})}})}),Rg(()=>$.value.blur,()=>{zn(()=>n.focused,ye=>{ye||K()})}),zn([G,L],()=>{v==null||v.update(le.value,G.value,L.value)});async function Me(){d.value=null,await Fs(),await he()}async function he(){S.value=!0,$.value.lazy?x.value=[]:await K(!$.value.eager)}async function K(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ae=[];X.value=!0;for(const Ue of n.rules){if(ae.length>=+(n.maxErrors??1))break;const qe=await(typeof Ue=="function"?Ue:()=>Ue)(g.value);if(qe!==!0){if(qe!==!1&&typeof qe!="string"){console.warn(`${qe} is not a valid value. Rule functions must return boolean true or a string.`);continue}ae.push(qe||"")}}return x.value=ae,X.value=!1,S.value=ye,x.value}return{errorMessages:L,isDirty:M,isDisabled:R,isReadonly:I,isPristine:S,isValid:G,isValidating:X,reset:Me,resetValidation:he,validate:K,validationClasses:ne}}const f8=Dn({id:String,appendIcon:mi,centerAffix:{type:Boolean,default:!0},prependIcon:mi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":af(),"onClick:append":af(),...Vs(),...Pg(),...Zde(Yh(),["maxWidth","minWidth","width"]),...cl(),...Qpe()},"VInput"),qk=Io()({name:"VInput",props:{...f8()},emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const{densityClasses:v}=qh(n),{dimensionStyles:x}=Xh(n),{themeClasses:S}=Hl(n),{rtlClasses:M}=Ng(),{InputIcon:R}=oQ(n),I=Ig(),L=Ge(()=>n.id||`input-${I}`),$=Ge(()=>`${L.value}-messages`),{errorMessages:G,isDirty:X,isDisabled:ne,isReadonly:ce,isPristine:le,isValid:Me,isValidating:he,reset:K,resetValidation:ye,validate:ae,validationClasses:Ue}=eve(n,"v-input",L),We=Ge(()=>({id:L,messagesId:$,isDirty:X,isDisabled:ne,isReadonly:ce,isPristine:le,isValid:Me,isValidating:he,reset:K,resetValidation:ye,validate:ae})),qe=Ge(()=>{var st;return(st=n.errorMessages)!=null&&st.length||!le.value&&G.value.length?G.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return vs(()=>{var Ke,ct,$t,Jt;const st=!!(d.prepend||n.prependIcon),Ee=!!(d.append||n.appendIcon),Le=qe.value.length>0,O=!n.hideDetails||n.hideDetails==="auto"&&(Le||!!d.details);return j("div",{class:["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--hide-spin-buttons":n.hideSpinButtons},v.value,S.value,M.value,Ue.value,n.class],style:[x.value,n.style]},[st&&j("div",{key:"prepend",class:"v-input__prepend"},[(Ke=d.prepend)==null?void 0:Ke.call(d,We.value),n.prependIcon&&j(R,{key:"prepend-icon",name:"prepend"},null)]),d.default&&j("div",{class:"v-input__control"},[(ct=d.default)==null?void 0:ct.call(d,We.value)]),Ee&&j("div",{key:"append",class:"v-input__append"},[n.appendIcon&&j(R,{key:"append-icon",name:"append"},null),($t=d.append)==null?void 0:$t.call(d,We.value)]),O&&j("div",{class:"v-input__details"},[j(Xpe,{id:$.value,active:Le,messages:qe.value},{message:d.message}),(Jt=d.details)==null?void 0:Jt.call(d,We.value)])])}),{reset:K,resetValidation:ye,validate:ae,isValid:Me,errorMessages:G}}}),tve=Dn({...f8(),...Qy(nQ(),["inline"])},"VCheckbox"),nve=Io()({name:"VCheckbox",inheritAttrs:!1,props:tve(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const g=Hi(n,"modelValue"),{isFocused:v,focus:x,blur:S}=d8(n),M=Ig(),R=Ge(()=>n.id||`checkbox-${M}`);return vs(()=>{const[I,L]=KL(l),$=qk.filterProps(n),G=NL.filterProps(n);return j(qk,Zo({class:["v-checkbox",n.class]},I,$,{modelValue:g.value,"onUpdate:modelValue":X=>g.value=X,id:R.value,focused:v.value,style:n.style}),{...d,default:X=>{let{id:ne,messagesId:ce,isDisabled:le,isReadonly:Me,isValid:he}=X;return j(NL,Zo(G,{id:ne.value,"aria-describedby":ce.value,disabled:le.value,readonly:Me.value},L,{error:he.value===!1,modelValue:g.value,"onUpdate:modelValue":K=>g.value=K,onFocus:x,onBlur:S}),d)}})}),{}}});function ove(n){let{selectedElement:r,containerElement:l,isRtl:d,isHorizontal:g}=n;const v=aD(g,l),x=rQ(g,d,l),S=aD(g,r),M=iQ(g,r),R=S*.4;return x>M?M-R:x+v<M+S?M-v+S+R:x}function sve(n){let{selectedElement:r,containerElement:l,isHorizontal:d}=n;const g=aD(d,l),v=iQ(d,r),x=aD(d,r);return v-g/2+x/2}function kq(n,r){const l=n?"scrollWidth":"scrollHeight";return(r==null?void 0:r[l])||0}function rve(n,r){const l=n?"clientWidth":"clientHeight";return(r==null?void 0:r[l])||0}function rQ(n,r,l){if(!l)return 0;const{scrollLeft:d,offsetWidth:g,scrollWidth:v}=l;return n?r?v-g+d:d:l.scrollTop}function aD(n,r){const l=n?"offsetWidth":"offsetHeight";return(r==null?void 0:r[l])||0}function iQ(n,r){const l=n?"offsetLeft":"offsetTop";return(r==null?void 0:r[l])||0}const ive=Symbol.for("vuetify:v-slide-group"),aQ=Dn({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ive},nextIcon:{type:mi,default:"$next"},prevIcon:{type:mi,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...Vs(),...MX({mobile:null}),...Qi(),...jU({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Eq=Io()({name:"VSlideGroup",props:aQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isRtl:d}=Ng(),{displayClasses:g,mobile:v}=XL(n),x=KU(n,n.symbol),S=To(!1),M=To(0),R=To(0),I=To(0),L=Ge(()=>n.direction==="horizontal"),{resizeRef:$,contentRect:G}=Gk(),{resizeRef:X,contentRect:ne}=Gk(),ce=Ome(),le=Ge(()=>({container:$.el,duration:200,easing:"easeOutQuart"})),Me=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[0]):-1),he=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[x.selected.value.length-1]):-1);if(fi){let Lt=-1;zn(()=>[x.selected.value,G.value,ne.value,L.value],()=>{cancelAnimationFrame(Lt),Lt=requestAnimationFrame(()=>{if(G.value&&ne.value){const tt=L.value?"width":"height";R.value=G.value[tt],I.value=ne.value[tt],S.value=R.value+1<I.value}if(Me.value>=0&&X.el){const tt=X.el.children[he.value];ye(tt,n.centerActive)}})})}const K=To(!1);function ye(Lt,tt){let Ye=0;tt?Ye=sve({containerElement:$.el,isHorizontal:L.value,selectedElement:Lt}):Ye=ove({containerElement:$.el,isHorizontal:L.value,isRtl:d.value,selectedElement:Lt}),ae(Ye)}function ae(Lt){if(!fi||!$.el)return;const tt=aD(L.value,$.el),Ye=rQ(L.value,d.value,$.el);if(!(kq(L.value,$.el)<=tt||Math.abs(Lt-Ye)<16)){if(L.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:Fn}=$.el;Lt=oo-Fn-Lt}L.value?ce.horizontal(Lt,le.value):ce(Lt,le.value)}}function Ue(Lt){const{scrollTop:tt,scrollLeft:Ye}=Lt.target;M.value=L.value?Ye:tt}function We(Lt){if(K.value=!0,!(!S.value||!X.el)){for(const tt of Lt.composedPath())for(const Ye of X.el.children)if(Ye===tt){ye(Ye);return}}}function qe(Lt){K.value=!1}let st=!1;function Ee(Lt){var tt;!st&&!K.value&&!(Lt.relatedTarget&&((tt=X.el)!=null&&tt.contains(Lt.relatedTarget)))&&Ke(),st=!1}function Le(){st=!0}function O(Lt){if(!X.el)return;function tt(Ye){Lt.preventDefault(),Ke(Ye)}L.value?Lt.key==="ArrowRight"?tt(d.value?"prev":"next"):Lt.key==="ArrowLeft"&&tt(d.value?"next":"prev"):Lt.key==="ArrowDown"?tt("next"):Lt.key==="ArrowUp"&&tt("prev"),Lt.key==="Home"?tt("first"):Lt.key==="End"&&tt("last")}function Ke(Lt){var Ye,Mt;if(!X.el)return;let tt;if(!Lt)tt=tD(X.el)[0];else if(Lt==="next"){if(tt=(Ye=X.el.querySelector(":focus"))==null?void 0:Ye.nextElementSibling,!tt)return Ke("first")}else if(Lt==="prev"){if(tt=(Mt=X.el.querySelector(":focus"))==null?void 0:Mt.previousElementSibling,!tt)return Ke("last")}else Lt==="first"?tt=X.el.firstElementChild:Lt==="last"&&(tt=X.el.lastElementChild);tt&&tt.focus({preventScroll:!0})}function ct(Lt){const tt=L.value&&d.value?-1:1,Ye=(Lt==="prev"?-tt:tt)*R.value;let Mt=M.value+Ye;if(L.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:Fn}=$.el;Mt+=oo-Fn}ae(Mt)}const $t=Ge(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),Jt=Ge(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return S.value||Math.abs(M.value)>0;case"mobile":return v.value||S.value||Math.abs(M.value)>0;default:return!v.value&&(S.value||Math.abs(M.value)>0)}}),et=Ge(()=>Math.abs(M.value)>1),pt=Ge(()=>{if(!$.value)return!1;const Lt=kq(L.value,$.el),tt=rve(L.value,$.el);return Lt-tt-Math.abs(M.value)>1});return vs(()=>j(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!L.value,"v-slide-group--has-affixes":Jt.value,"v-slide-group--is-overflowing":S.value},g.value,n.class],style:n.style,tabindex:K.value||x.selected.value.length?-1:0,onFocus:Ee},{default:()=>{var Lt,tt,Ye;return[Jt.value&&j("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!et.value}],onMousedown:Le,onClick:()=>et.value&&ct("prev")},[((Lt=l.prev)==null?void 0:Lt.call(l,$t.value))??j(bq,null,{default:()=>[j(Gn,{icon:d.value?n.nextIcon:n.prevIcon},null)]})]),j("div",{key:"container",ref:$,class:"v-slide-group__container",onScroll:Ue},[j("div",{ref:X,class:"v-slide-group__content",onFocusin:We,onFocusout:qe,onKeydown:O},[(tt=l.default)==null?void 0:tt.call(l,$t.value)])]),Jt.value&&j("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!pt.value}],onMousedown:Le,onClick:()=>pt.value&&ct("next")},[((Ye=l.next)==null?void 0:Ye.call(l,$t.value))??j(bq,null,{default:()=>[j(Gn,{icon:d.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:ct,scrollOffset:M,focus:Ke,hasPrev:et,hasNext:pt}}}),lQ=Symbol.for("vuetify:v-chip-group"),ave=Dn({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Qk},...aQ(),...Vs(),...jU({selectedClass:"v-chip--selected"}),...Qi(),...cl(),...B1({variant:"tonal"})},"VChipGroup");Io()({name:"VChipGroup",props:ave(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{isSelected:g,select:v,next:x,prev:S,selected:M}=KU(n,lQ);return ex({VChip:{color:es(n,"color"),disabled:es(n,"disabled"),filter:es(n,"filter"),variant:es(n,"variant")}}),vs(()=>{const R=Eq.filterProps(n);return j(Eq,Zo(R,{class:["v-chip-group",{"v-chip-group--column":n.column},d.value,n.class],style:n.style}),{default:()=>{var I;return[(I=l.default)==null?void 0:I.call(l,{isSelected:g,select:v,next:x,prev:S,selected:M.value})]}})}),{}}});const lve=Dn({activeClass:String,appendAvatar:String,appendIcon:mi,closable:Boolean,closeIcon:{type:mi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:af(),onClickOnce:af(),...I1(),...Vs(),...Pg(),...P1(),..._J(),...hm(),...l8(),...RD(),...Qi({tag:"span"}),...cl(),...B1({variant:"tonal"})},"VChip"),cQ=Io()({name:"VChip",directives:{Ripple:ND},props:lve(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{t:v}=TD(),{borderClasses:x}=N1(n),{colorClasses:S,colorStyles:M,variantClasses:R}=sE(n),{densityClasses:I}=qh(n),{elevationClasses:L}=M1(n),{roundedClasses:$}=pm(n),{sizeClasses:G}=ID(n),{themeClasses:X}=Hl(n),ne=Hi(n,"modelValue"),ce=SJ(n,lQ,!1),le=a8(n,l),Me=Ge(()=>n.link!==!1&&le.isLink.value),he=Ge(()=>!n.disabled&&n.link!==!1&&(!!ce||n.link||le.isClickable.value)),K=Ge(()=>({"aria-label":v(n.closeLabel),onClick(Ue){Ue.preventDefault(),Ue.stopPropagation(),ne.value=!1,d("click:close",Ue)}}));function ye(Ue){var We;d("click",Ue),he.value&&((We=le.navigate)==null||We.call(le,Ue),ce==null||ce.toggle())}function ae(Ue){(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),ye(Ue))}return()=>{const Ue=le.isLink.value?"a":n.tag,We=!!(n.appendIcon||n.appendAvatar),qe=!!(We||g.append),st=!!(g.close||n.closable),Ee=!!(g.filter||n.filter)&&ce,Le=!!(n.prependIcon||n.prependAvatar),O=!!(Le||g.prepend),Ke=!ce||ce.isSelected.value;return ne.value&&Zn(j(Ue,Zo({class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":he.value,"v-chip--filter":Ee,"v-chip--pill":n.pill},X.value,x.value,Ke?S.value:void 0,I.value,L.value,$.value,G.value,R.value,ce==null?void 0:ce.selectedClass.value,n.class],style:[Ke?M.value:void 0,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:he.value?0:void 0,onClick:ye,onKeydown:he.value&&!Me.value&&ae},le.linkProps),{default:()=>{var ct;return[oE(he.value,"v-chip"),Ee&&j(WJ,{key:"filter"},{default:()=>[Zn(j("div",{class:"v-chip__filter"},[g.filter?j(xa,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},g.filter):j(Gn,{key:"filter-icon",icon:n.filterIcon},null)]),[[Ao,ce.isSelected.value]])]}),O&&j("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?j(xa,{key:"prepend-defaults",disabled:!Le,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},g.prepend):j(us,null,[n.prependIcon&&j(Gn,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&j(qy,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),j("div",{class:"v-chip__content","data-no-activator":""},[((ct=g.default)==null?void 0:ct.call(g,{isSelected:ce==null?void 0:ce.isSelected.value,selectedClass:ce==null?void 0:ce.selectedClass.value,select:ce==null?void 0:ce.select,toggle:ce==null?void 0:ce.toggle,value:ce==null?void 0:ce.value.value,disabled:n.disabled}))??n.text]),qe&&j("div",{key:"append",class:"v-chip__append"},[g.append?j(xa,{key:"append-defaults",disabled:!We,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},g.append):j(us,null,[n.appendIcon&&j(Gn,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&j(qy,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),st&&j("button",Zo({key:"close",class:"v-chip__close",type:"button"},K.value),[g.close?j(xa,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},g.close):j(Gn,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[Jy("ripple"),he.value&&n.ripple,null]])}}}),Q$=Symbol.for("vuetify:list");function uQ(){const n=wa(Q$,{hasPrepend:To(!1),updateHasPrepend:()=>null}),r={hasPrepend:To(!1),updateHasPrepend:l=>{l&&(r.hasPrepend.value=l)}};return _d(Q$,r),n}function dQ(){return wa(Q$,null)}const nW=n=>{const r={activate:l=>{let{id:d,value:g,activated:v}=l;return d=ss(d),n&&!g&&v.size===1&&v.has(d)||(g?v.add(d):v.delete(d)),v},in:(l,d,g)=>{let v=new Set;if(l!=null)for(const x of rf(l))v=r.activate({id:x,value:!0,activated:new Set(v),children:d,parents:g});return v},out:l=>Array.from(l)};return r},fQ=n=>{const r=nW(n);return{activate:d=>{let{activated:g,id:v,...x}=d;v=ss(v);const S=g.has(v)?new Set([v]):new Set;return r.activate({...x,id:v,activated:S})},in:(d,g,v)=>{let x=new Set;if(d!=null){const S=rf(d);S.length&&(x=r.in(S.slice(0,1),g,v))}return x},out:(d,g,v)=>r.out(d,g,v)}},cve=n=>{const r=nW(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},uve=n=>{const r=fQ(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},dve={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){const v=new Set;v.add(r);let x=g.get(r);for(;x!=null;)v.add(x),x=g.get(x);return v}else return d.delete(r),d},select:()=>null},mQ={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){let v=g.get(r);for(d.add(r);v!=null&&v!==r;)d.add(v),v=g.get(v);return d}else d.delete(r);return d},select:()=>null},fve={open:mQ.open,select:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(!l)return d;const v=[];let x=g.get(r);for(;x!=null;)v.push(x),x=g.get(x);return new Set(v)}},oW=n=>{const r={select:l=>{let{id:d,value:g,selected:v}=l;if(d=ss(d),n&&!g){const x=Array.from(v.entries()).reduce((S,M)=>{let[R,I]=M;return I==="on"&&S.push(R),S},[]);if(x.length===1&&x[0]===d)return v}return v.set(d,g?"on":"off"),v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:l=>{const d=[];for(const[g,v]of l.entries())v==="on"&&d.push(g);return d}};return r},gQ=n=>{const r=oW(n);return{select:d=>{let{selected:g,id:v,...x}=d;v=ss(v);const S=g.has(v)?new Map([[v,g.get(v)]]):new Map;return r.select({...x,id:v,selected:S})},in:(d,g,v)=>{let x=new Map;return d!=null&&d.length&&(x=r.in(d.slice(0,1),g,v)),x},out:(d,g,v)=>r.out(d,g,v)}},mve=n=>{const r=oW(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},gve=n=>{const r=gQ(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},hve=n=>{const r={select:l=>{let{id:d,value:g,selected:v,children:x,parents:S}=l;d=ss(d);const M=new Map(v),R=[d];for(;R.length;){const L=R.shift();v.set(ss(L),g?"on":"off"),x.has(L)&&R.push(...x.get(L))}let I=ss(S.get(d));for(;I;){const L=x.get(I),$=L.every(X=>v.get(ss(X))==="on"),G=L.every(X=>!v.has(ss(X))||v.get(ss(X))==="off");v.set(I,$?"on":G?"off":"indeterminate"),I=ss(S.get(I))}return n&&!g&&Array.from(v.entries()).reduce(($,G)=>{let[X,ne]=G;return ne==="on"&&$.push(X),$},[]).length===0?M:v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:(l,d)=>{const g=[];for(const[v,x]of l.entries())x==="on"&&!d.has(v)&&g.push(v);return g}};return r},lD=Symbol.for("vuetify:nested"),hQ={id:To(),root:{register:()=>null,unregister:()=>null,parents:Mn(new Map),children:Mn(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Mn(!1),selectable:Mn(!1),opened:Mn(new Set),activated:Mn(new Set),selected:Mn(new Map),selectedValues:Mn([]),getPath:()=>[]}},pve=Dn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),vve=n=>{let r=!1;const l=Mn(new Map),d=Mn(new Map),g=Hi(n,"opened",n.opened,X=>new Set(X),X=>[...X.values()]),v=Ge(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return cve(n.mandatory);case"single-leaf":return uve(n.mandatory);case"independent":return nW(n.mandatory);case"single-independent":default:return fQ(n.mandatory)}}),x=Ge(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return gve(n.mandatory);case"leaf":return mve(n.mandatory);case"independent":return oW(n.mandatory);case"single-independent":return gQ(n.mandatory);case"classic":default:return hve(n.mandatory)}}),S=Ge(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return fve;case"single":return dve;case"multiple":default:return mQ}}),M=Hi(n,"activated",n.activated,X=>v.value.in(X,l.value,d.value),X=>v.value.out(X,l.value,d.value)),R=Hi(n,"selected",n.selected,X=>x.value.in(X,l.value,d.value),X=>x.value.out(X,l.value,d.value));Cc(()=>{r=!0});function I(X){const ne=[];let ce=X;for(;ce!=null;)ne.unshift(ce),ce=d.value.get(ce);return ne}const L=Tl("nested"),$=new Set,G={id:To(),root:{opened:g,activatable:es(n,"activatable"),selectable:es(n,"selectable"),activated:M,selected:R,selectedValues:Ge(()=>{const X=[];for(const[ne,ce]of R.value.entries())ce==="on"&&X.push(ne);return X}),register:(X,ne,ce)=>{if($.has(X)){I(X).join(" -> "),I(ne).concat(X).join(" -> ");return}else $.add(X);ne&&X!==ne&&d.value.set(X,ne),ce&&l.value.set(X,[]),ne!=null&&l.value.set(ne,[...l.value.get(ne)||[],X])},unregister:X=>{if(r)return;$.delete(X),l.value.delete(X);const ne=d.value.get(X);if(ne){const ce=l.value.get(ne)??[];l.value.set(ne,ce.filter(le=>le!==X))}d.value.delete(X)},open:(X,ne,ce)=>{L.emit("click:open",{id:X,value:ne,path:I(X),event:ce});const le=S.value.open({id:X,value:ne,opened:new Set(g.value),children:l.value,parents:d.value,event:ce});le&&(g.value=le)},openOnSelect:(X,ne,ce)=>{const le=S.value.select({id:X,value:ne,selected:new Map(R.value),opened:new Set(g.value),children:l.value,parents:d.value,event:ce});le&&(g.value=le)},select:(X,ne,ce)=>{L.emit("click:select",{id:X,value:ne,path:I(X),event:ce});const le=x.value.select({id:X,value:ne,selected:new Map(R.value),children:l.value,parents:d.value,event:ce});le&&(R.value=le),G.root.openOnSelect(X,ne,ce)},activate:(X,ne,ce)=>{if(!n.activatable)return G.root.select(X,!0,ce);L.emit("click:activate",{id:X,value:ne,path:I(X),event:ce});const le=v.value.activate({id:X,value:ne,activated:new Set(M.value),children:l.value,parents:d.value,event:ce});le&&(M.value=le)},children:l,parents:d,getPath:I}};return _d(lD,G),G.root},pQ=(n,r)=>{const l=wa(lD,hQ),d=Symbol(Ig()),g=Ge(()=>n.value!==void 0?n.value:d),v={...l,id:g,open:(x,S)=>l.root.open(g.value,x,S),openOnSelect:(x,S)=>l.root.openOnSelect(g.value,x,S),isOpen:Ge(()=>l.root.opened.value.has(g.value)),parent:Ge(()=>l.root.parents.value.get(g.value)),activate:(x,S)=>l.root.activate(g.value,x,S),isActivated:Ge(()=>l.root.activated.value.has(ss(g.value))),select:(x,S)=>l.root.select(g.value,x,S),isSelected:Ge(()=>l.root.selected.value.get(ss(g.value))==="on"),isIndeterminate:Ge(()=>l.root.selected.value.get(g.value)==="indeterminate"),isLeaf:Ge(()=>!l.root.children.value.get(g.value)),isGroupActivator:l.isGroupActivator};return!l.isGroupActivator&&l.root.register(g.value,l.id.value,r),Cc(()=>{!l.isGroupActivator&&l.root.unregister(g.value)}),r&&_d(lD,v),v},bve=()=>{const n=wa(lD,hQ);_d(lD,{...n,isGroupActivator:!0})};function m8(){const n=To(!1);return Iu(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:Ge(()=>n.value?void 0:{transition:"none !important"}),isBooted:_D(n)}}const yve=eE({name:"VListGroupActivator",setup(n,r){let{slots:l}=r;return bve(),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),xve=Dn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:mi,default:"$collapse"},expandIcon:{type:mi,default:"$expand"},prependIcon:mi,appendIcon:mi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Vs(),...Qi()},"VListGroup"),Aq=Io()({name:"VListGroup",props:xve(),setup(n,r){let{slots:l}=r;const{isOpen:d,open:g,id:v}=pQ(es(n,"value"),!0),x=Ge(()=>`v-list-group--id-${String(v.value)}`),S=dQ(),{isBooted:M}=m8();function R(G){G.stopPropagation(),g(!d.value,G)}const I=Ge(()=>({onClick:R,class:"v-list-group__header",id:x.value})),L=Ge(()=>d.value?n.collapseIcon:n.expandIcon),$=Ge(()=>({VListItem:{active:d.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&L.value,appendIcon:n.appendIcon||!n.subgroup&&L.value,title:n.title,value:n.value}}));return vs(()=>j(n.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":d.value},n.class],style:n.style},{default:()=>[l.activator&&j(xa,{defaults:$.value},{default:()=>[j(yve,null,{default:()=>[l.activator({props:I.value,isOpen:d.value})]})]}),j(zy,{transition:{component:UJ},disabled:!M.value},{default:()=>{var G;return[Zn(j("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(G=l.default)==null?void 0:G.call(l)]),[[Ao,d.value]])]}})]})),{isOpen:d}}}),wve=Dn({opacity:[Number,String],...Vs(),...Qi()},"VListItemSubtitle"),Cve=Io()({name:"VListItemSubtitle",props:wve(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-list-item-subtitle",n.class],style:[{"--v-list-item-subtitle-opacity":n.opacity},n.style]},l)),{}}}),_ve=GL("v-list-item-title"),Sve=Dn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:mi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:af(),onClickOnce:af(),...I1(),...Vs(),...Pg(),...Yh(),...P1(),...hm(),...l8(),...Qi(),...cl(),...B1({variant:"text"})},"VListItem"),bc=Io()({name:"VListItem",directives:{Ripple:ND},props:Sve(),emits:{click:n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const v=a8(n,l),x=Ge(()=>n.value===void 0?v.href.value:n.value),{activate:S,isActivated:M,select:R,isOpen:I,isSelected:L,isIndeterminate:$,isGroupActivator:G,root:X,parent:ne,openOnSelect:ce,id:le}=pQ(x,!1),Me=dQ(),he=Ge(()=>{var Ye;return n.active!==!1&&(n.active||((Ye=v.isActive)==null?void 0:Ye.value)||(X.activatable.value?M.value:L.value))}),K=Ge(()=>n.link!==!1&&v.isLink.value),ye=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||v.isClickable.value||!!Me&&(X.selectable.value||X.activatable.value||n.value!=null))),ae=Ge(()=>n.rounded||n.nav),Ue=Ge(()=>n.color??n.activeColor),We=Ge(()=>({color:he.value?Ue.value??n.baseColor:n.baseColor,variant:n.variant}));zn(()=>{var Ye;return(Ye=v.isActive)==null?void 0:Ye.value},Ye=>{Ye&&ne.value!=null&&X.open(ne.value,!0),Ye&&ce(Ye)},{immediate:!0});const{themeClasses:qe}=Hl(n),{borderClasses:st}=N1(n),{colorClasses:Ee,colorStyles:Le,variantClasses:O}=sE(We),{densityClasses:Ke}=qh(n),{dimensionStyles:ct}=Xh(n),{elevationClasses:$t}=M1(n),{roundedClasses:Jt}=pm(ae),et=Ge(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),pt=Ge(()=>({isActive:he.value,select:R,isOpen:I.value,isSelected:L.value,isIndeterminate:$.value}));function Lt(Ye){var Mt;g("click",Ye),ye.value&&((Mt=v.navigate)==null||Mt.call(v,Ye),!G&&(X.activatable.value?S(!M.value,Ye):(X.selectable.value||n.value!=null)&&R(!L.value,Ye)))}function tt(Ye){(Ye.key==="Enter"||Ye.key===" ")&&(Ye.preventDefault(),Ye.target.dispatchEvent(new MouseEvent("click",Ye)))}return vs(()=>{const Ye=K.value?"a":n.tag,Mt=d.title||n.title!=null,oo=d.subtitle||n.subtitle!=null,Fn=!!(n.appendAvatar||n.appendIcon),fn=!!(Fn||d.append),_n=!!(n.prependAvatar||n.prependIcon),Q=!!(_n||d.prepend);return Me==null||Me.updateHasPrepend(Q),n.activeColor&&cfe("active-color",["color","base-color"]),Zn(j(Ye,Zo({class:["v-list-item",{"v-list-item--active":he.value,"v-list-item--disabled":n.disabled,"v-list-item--link":ye.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!Q&&(Me==null?void 0:Me.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&he.value},qe.value,st.value,Ee.value,Ke.value,$t.value,et.value,Jt.value,O.value,n.class],style:[Le.value,ct.value,n.style],tabindex:ye.value?Me?-2:0:void 0,onClick:Lt,onKeydown:ye.value&&!K.value&&tt},v.linkProps),{default:()=>{var xs;return[oE(ye.value||he.value,"v-list-item"),Q&&j("div",{key:"prepend",class:"v-list-item__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!_n,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var eo;return[(eo=d.prepend)==null?void 0:eo.call(d,pt.value)]}}):j(us,null,[n.prependAvatar&&j(qy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(Gn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),j("div",{class:"v-list-item__spacer"},null)]),j("div",{class:"v-list-item__content","data-no-activator":""},[Mt&&j(_ve,{key:"title"},{default:()=>{var eo;return[((eo=d.title)==null?void 0:eo.call(d,{title:n.title}))??n.title]}}),oo&&j(Cve,{key:"subtitle"},{default:()=>{var eo;return[((eo=d.subtitle)==null?void 0:eo.call(d,{subtitle:n.subtitle}))??n.subtitle]}}),(xs=d.default)==null?void 0:xs.call(d,pt.value)]),fn&&j("div",{key:"append",class:"v-list-item__append"},[d.append?j(xa,{key:"append-defaults",disabled:!Fn,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var eo;return[(eo=d.append)==null?void 0:eo.call(d,pt.value)]}}):j(us,null,[n.appendIcon&&j(Gn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(qy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),j("div",{class:"v-list-item__spacer"},null)])]}}),[[Jy("ripple"),ye.value&&n.ripple]])}),{activate:S,isActivated:M,isGroupActivator:G,isSelected:L,list:Me,select:R,root:X,id:le}}}),kve=Dn({color:String,inset:Boolean,sticky:Boolean,title:String,...Vs(),...Qi()},"VListSubheader"),Eve=Io()({name:"VListSubheader",props:kve(),setup(n,r){let{slots:l}=r;const{textColorClasses:d,textColorStyles:g}=Kh(es(n,"color"));return vs(()=>{const v=!!(l.default||n.title);return j(n.tag,{class:["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},d.value,n.class],style:[{textColorStyles:g},n.style]},{default:()=>{var x;return[v&&j("div",{class:"v-list-subheader__text"},[((x=l.default)==null?void 0:x.call(l))??n.title])]}})}),{}}}),Ave=Dn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Vs(),...cl()},"VDivider"),FO=Io()({name:"VDivider",props:Ave(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{textColorClasses:v,textColorStyles:x}=Kh(es(n,"color")),S=Ge(()=>{const M={};return n.length&&(M[n.vertical?"height":"width"]=hs(n.length)),n.thickness&&(M[n.vertical?"borderRightWidth":"borderTopWidth"]=hs(n.thickness)),M});return vs(()=>{const M=j("hr",{class:[{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},g.value,v.value,n.class],style:[S.value,x.value,{"--v-border-opacity":n.opacity},n.style],"aria-orientation":!l.role||l.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${l.role||"separator"}`},null);return d.default?j("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}]},[M,j("div",{class:"v-divider__content"},[d.default()]),M]):M}),{}}}),Tve=Dn({items:Array,returnObject:Boolean},"VListChildren"),vQ=Io()({name:"VListChildren",props:Tve(),setup(n,r){let{slots:l}=r;return uQ(),()=>{var d,g;return((d=l.default)==null?void 0:d.call(l))??((g=n.items)==null?void 0:g.map(v=>{var $,G;let{children:x,props:S,type:M,raw:R}=v;if(M==="divider")return(($=l.divider)==null?void 0:$.call(l,{props:S}))??j(FO,S,null);if(M==="subheader")return((G=l.subheader)==null?void 0:G.call(l,{props:S}))??j(Eve,S,null);const I={subtitle:l.subtitle?X=>{var ne;return(ne=l.subtitle)==null?void 0:ne.call(l,{...X,item:R})}:void 0,prepend:l.prepend?X=>{var ne;return(ne=l.prepend)==null?void 0:ne.call(l,{...X,item:R})}:void 0,append:l.append?X=>{var ne;return(ne=l.append)==null?void 0:ne.call(l,{...X,item:R})}:void 0,title:l.title?X=>{var ne;return(ne=l.title)==null?void 0:ne.call(l,{...X,item:R})}:void 0},L=Aq.filterProps(S);return x?j(Aq,Zo({value:S==null?void 0:S.value},L),{activator:X=>{let{props:ne}=X;const ce={...S,...ne,value:n.returnObject?R:S.value};return l.header?l.header({props:ce}):j(bc,ce,I)},default:()=>j(vQ,{items:x,returnObject:n.returnObject},l)}):l.item?l.item({props:S}):j(bc,Zo(S,{value:n.returnObject?R:S.value}),I)}))}}}),bQ=Dn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Qk}},"list-items");function eU(n,r){const l=fv(r,n.itemTitle,r),d=fv(r,n.itemValue,l),g=fv(r,n.itemChildren),v=n.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?Qy(r,["children"]):r:void 0:fv(r,n.itemProps),x={title:l,value:d,...v};return{title:String(x.title??""),value:x.value,props:x,children:Array.isArray(g)?yQ(n,g):void 0,raw:r}}function yQ(n,r){const l=[];for(const d of r)l.push(eU(n,d));return l}function xQ(n){const r=Ge(()=>yQ(n,n.items)),l=Ge(()=>r.value.some(v=>v.value===null));function d(v){return l.value||(v=v.filter(x=>x!==null)),v.map(x=>n.returnObject&&typeof x=="string"?eU(n,x):r.value.find(S=>n.valueComparator(x,S.value))||eU(n,x))}function g(v){return n.returnObject?v.map(x=>{let{raw:S}=x;return S}):v.map(x=>{let{value:S}=x;return S})}return{items:r,transformIn:d,transformOut:g}}function Ove(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"}function Dve(n,r){const l=fv(r,n.itemType,"item"),d=Ove(r)?r:fv(r,n.itemTitle),g=fv(r,n.itemValue,void 0),v=fv(r,n.itemChildren),x=n.itemProps===!0?Qy(r,["children"]):fv(r,n.itemProps),S={title:d,value:g,...x};return{type:l,title:S.title,value:S.value,props:S,children:l==="item"&&v?wQ(n,v):void 0,raw:r}}function wQ(n,r){const l=[];for(const d of r)l.push(Dve(n,d));return l}function Rve(n){return{items:Ge(()=>wQ(n,n.items))}}const Ive=Dn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":af(),"onClick:select":af(),"onUpdate:opened":af(),...pve({selectStrategy:"single-leaf",openStrategy:"list"}),...I1(),...Vs(),...Pg(),...Yh(),...P1(),itemType:{type:String,default:"type"},...bQ(),...hm(),...Qi(),...cl(),...B1({variant:"text"})},"VList"),cD=Io()({name:"VList",props:Ive(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,r){let{slots:l}=r;const{items:d}=Rve(n),{themeClasses:g}=Hl(n),{backgroundColorClasses:v,backgroundColorStyles:x}=Wh(es(n,"bgColor")),{borderClasses:S}=N1(n),{densityClasses:M}=qh(n),{dimensionStyles:R}=Xh(n),{elevationClasses:I}=M1(n),{roundedClasses:L}=pm(n),{children:$,open:G,parents:X,select:ne,getPath:ce}=vve(n),le=Ge(()=>n.lines?`v-list--${n.lines}-line`:void 0),Me=es(n,"activeColor"),he=es(n,"baseColor"),K=es(n,"color");uQ(),ex({VListGroup:{activeColor:Me,baseColor:he,color:K,expandIcon:es(n,"expandIcon"),collapseIcon:es(n,"collapseIcon")},VListItem:{activeClass:es(n,"activeClass"),activeColor:Me,baseColor:he,color:K,density:es(n,"density"),disabled:es(n,"disabled"),lines:es(n,"lines"),nav:es(n,"nav"),slim:es(n,"slim"),variant:es(n,"variant")}});const ye=To(!1),ae=Mn();function Ue(O){ye.value=!0}function We(O){ye.value=!1}function qe(O){var Ke;!ye.value&&!(O.relatedTarget&&((Ke=ae.value)!=null&&Ke.contains(O.relatedTarget)))&&Le()}function st(O){const Ke=O.target;if(!(!ae.value||["INPUT","TEXTAREA"].includes(Ke.tagName))){if(O.key==="ArrowDown")Le("next");else if(O.key==="ArrowUp")Le("prev");else if(O.key==="Home")Le("first");else if(O.key==="End")Le("last");else return;O.preventDefault()}}function Ee(O){ye.value=!0}function Le(O){if(ae.value)return ZO(ae.value,O)}return vs(()=>j(n.tag,{ref:ae,class:["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},g.value,v.value,S.value,M.value,I.value,le.value,L.value,n.class],style:[x.value,R.value,n.style],tabindex:n.disabled||ye.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ue,onFocusout:We,onFocus:qe,onKeydown:st,onMousedown:Ee},{default:()=>[j(vQ,{items:d.value,returnObject:n.returnObject},l)]})),{open:G,select:ne,focus:Le,children:$,parents:X,getPath:ce}}}),Nve=Dn({id:String,submenu:Boolean,...Qy(eW({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:QU}}),["absolute"])},"VMenu"),g8=Io()({name:"VMenu",props:Nve(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"modelValue"),{scopeId:g}=u8(),{isRtl:v}=Ng(),x=Ig(),S=Ge(()=>n.id||`v-menu-${x}`),M=Mn(),R=wa(J$,null),I=To(new Set);_d(J$,{register(){I.value.add(x)},unregister(){I.value.delete(x)},closeParents(ce){setTimeout(()=>{var le;!I.value.size&&!n.persistent&&(ce==null||(le=M.value)!=null&&le.contentEl&&!Jde(ce,M.value.contentEl))&&(d.value=!1,R==null||R.closeParents())},40)}}),Cc(()=>R==null?void 0:R.unregister()),$L(()=>d.value=!1);async function L(ce){var he,K,ye;const le=ce.relatedTarget,Me=ce.target;await Fs(),d.value&&le!==Me&&((he=M.value)!=null&&he.contentEl)&&((K=M.value)!=null&&K.globalTop)&&![document,M.value.contentEl].includes(Me)&&!M.value.contentEl.contains(Me)&&((ye=tD(M.value.contentEl)[0])==null||ye.focus())}zn(d,ce=>{ce?(R==null||R.register(),document.addEventListener("focusin",L,{once:!0})):(R==null||R.unregister(),document.removeEventListener("focusin",L))});function $(ce){R==null||R.closeParents(ce)}function G(ce){var le,Me,he,K,ye;if(!n.disabled)if(ce.key==="Tab"||ce.key==="Enter"&&!n.closeOnContentClick){if(ce.key==="Enter"&&(ce.target instanceof HTMLTextAreaElement||ce.target instanceof HTMLInputElement&&ce.target.closest("form")))return;ce.key==="Enter"&&ce.preventDefault(),bX(tD((le=M.value)==null?void 0:le.contentEl,!1),ce.shiftKey?"prev":"next",Ue=>Ue.tabIndex>=0)||(d.value=!1,(he=(Me=M.value)==null?void 0:Me.activatorEl)==null||he.focus())}else n.submenu&&ce.key===(v.value?"ArrowRight":"ArrowLeft")&&(d.value=!1,(ye=(K=M.value)==null?void 0:K.activatorEl)==null||ye.focus())}function X(ce){var Me;if(n.disabled)return;const le=(Me=M.value)==null?void 0:Me.contentEl;le&&d.value?ce.key==="ArrowDown"?(ce.preventDefault(),ce.stopImmediatePropagation(),ZO(le,"next")):ce.key==="ArrowUp"?(ce.preventDefault(),ce.stopImmediatePropagation(),ZO(le,"prev")):n.submenu&&(ce.key===(v.value?"ArrowRight":"ArrowLeft")?d.value=!1:ce.key===(v.value?"ArrowLeft":"ArrowRight")&&(ce.preventDefault(),ZO(le,"first"))):(n.submenu?ce.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(ce.key))&&(d.value=!0,ce.preventDefault(),setTimeout(()=>setTimeout(()=>X(ce))))}const ne=Ge(()=>Zo({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-owns":S.value,onKeydown:X},n.activatorProps));return vs(()=>{const ce=IL.filterProps(n);return j(IL,Zo({ref:M,id:S.value,class:["v-menu",n.class],style:n.style},ce,{modelValue:d.value,"onUpdate:modelValue":le=>d.value=le,absolute:!0,activatorProps:ne.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":$,onKeydown:G},g),{activator:l.activator,default:function(){for(var le=arguments.length,Me=new Array(le),he=0;he<le;he++)Me[he]=arguments[he];return j(xa,{root:"VMenu"},{default:()=>{var K;return[(K=l.default)==null?void 0:K.call(l,...Me)]}})}})}),iE({id:S,openChildren:I},M)}}),Pve=Dn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Vs(),...rE({transition:{component:$J}})},"VCounter"),CQ=Io()({name:"VCounter",functional:!0,props:Pve(),setup(n,r){let{slots:l}=r;const d=Ge(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return vs(()=>j(zy,{transition:n.transition},{default:()=>[Zn(j("div",{class:["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class],style:n.style},[l.default?l.default({counter:d.value,max:n.max,value:n.value}):d.value]),[[Ao,n.active]])]})),{}}}),Mve=Dn({floating:Boolean,...Vs()},"VFieldLabel"),XB=Io()({name:"VFieldLabel",props:Mve(),setup(n,r){let{slots:l}=r;return vs(()=>j(JJ,{class:["v-field-label",{"v-field-label--floating":n.floating},n.class],style:n.style,"aria-hidden":n.floating||void 0},l)),{}}}),Bve=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],sW=Dn({appendInnerIcon:mi,bgColor:String,clearable:Boolean,clearIcon:{type:mi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:mi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>Bve.includes(n)},"onClick:clear":af(),"onClick:appendInner":af(),"onClick:prependInner":af(),...Vs(),...GU(),...hm(),...cl()},"VField"),rW=Io()({name:"VField",inheritAttrs:!1,props:{id:String,...sQ(),...sW()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{themeClasses:v}=Hl(n),{loaderClasses:x}=qU(n),{focusClasses:S,isFocused:M,focus:R,blur:I}=d8(n),{InputIcon:L}=oQ(n),{roundedClasses:$}=pm(n),{rtlClasses:G}=Ng(),X=Ge(()=>n.dirty||n.active),ne=Ge(()=>!n.singleLine&&!!(n.label||g.label)),ce=Ig(),le=Ge(()=>n.id||`input-${ce}`),Me=Ge(()=>`${le.value}-messages`),he=Mn(),K=Mn(),ye=Mn(),ae=Ge(()=>["plain","underlined"].includes(n.variant)),{backgroundColorClasses:Ue,backgroundColorStyles:We}=Wh(es(n,"bgColor")),{textColorClasses:qe,textColorStyles:st}=Kh(Ge(()=>n.error||n.disabled?void 0:X.value&&M.value?n.color:n.baseColor));zn(X,Ke=>{if(ne.value){const ct=he.value.$el,$t=K.value.$el;requestAnimationFrame(()=>{const Jt=PU(ct),et=$t.getBoundingClientRect(),pt=et.x-Jt.x,Lt=et.y-Jt.y-(Jt.height/2-et.height/2),tt=et.width/.75,Ye=Math.abs(tt-Jt.width)>1?{maxWidth:hs(tt)}:void 0,Mt=getComputedStyle(ct),oo=getComputedStyle($t),Fn=parseFloat(Mt.transitionDuration)*1e3||150,fn=parseFloat(oo.getPropertyValue("--v-field-label-scale")),_n=oo.getPropertyValue("color");ct.style.visibility="visible",$t.style.visibility="hidden",Bk(ct,{transform:`translate(${pt}px, ${Lt}px) scale(${fn})`,color:_n,...Ye},{duration:Fn,easing:wL,direction:Ke?"normal":"reverse"}).finished.then(()=>{ct.style.removeProperty("visibility"),$t.style.removeProperty("visibility")})})}},{flush:"post"});const Ee=Ge(()=>({isActive:X,isFocused:M,controlRef:ye,blur:I,focus:R}));function Le(Ke){Ke.target!==document.activeElement&&Ke.preventDefault()}function O(Ke){var ct;Ke.key!=="Enter"&&Ke.key!==" "||(Ke.preventDefault(),Ke.stopPropagation(),(ct=n["onClick:clear"])==null||ct.call(n,new MouseEvent("click")))}return vs(()=>{var pt,Lt,tt;const Ke=n.variant==="outlined",ct=!!(g["prepend-inner"]||n.prependInnerIcon),$t=!!(n.clearable||g.clear),Jt=!!(g["append-inner"]||n.appendInnerIcon||$t),et=()=>g.label?g.label({...Ee.value,label:n.label,props:{for:le.value}}):n.label;return j("div",Zo({class:["v-field",{"v-field--active":X.value,"v-field--appended":Jt,"v-field--center-affix":n.centerAffix??!ae.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":ct,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!et(),[`v-field--variant-${n.variant}`]:!0},v.value,Ue.value,S.value,x.value,$.value,G.value,n.class],style:[We.value,n.style],onClick:Le},l),[j("div",{class:"v-field__overlay"},null),j(TJ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:g.loader}),ct&&j("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&j(L,{key:"prepend-icon",name:"prependInner"},null),(pt=g["prepend-inner"])==null?void 0:pt.call(g,Ee.value)]),j("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&ne.value&&j(XB,{key:"floating-label",ref:K,class:[qe.value],floating:!0,for:le.value,style:st.value},{default:()=>[et()]}),j(XB,{ref:he,for:le.value},{default:()=>[et()]}),(Lt=g.default)==null?void 0:Lt.call(g,{...Ee.value,props:{id:le.value,class:"v-field__input","aria-describedby":Me.value},focus:R,blur:I})]),$t&&j(WJ,{key:"clear"},{default:()=>[Zn(j("div",{class:"v-field__clearable",onMousedown:Ye=>{Ye.preventDefault(),Ye.stopPropagation()}},[j(xa,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[g.clear?g.clear({...Ee.value,props:{onKeydown:O,onFocus:R,onBlur:I,onClick:n["onClick:clear"]}}):j(L,{name:"clear",onKeydown:O,onFocus:R,onBlur:I},null)]})]),[[Ao,n.dirty]])]}),Jt&&j("div",{key:"append",class:"v-field__append-inner"},[(tt=g["append-inner"])==null?void 0:tt.call(g,Ee.value),n.appendInnerIcon&&j(L,{key:"append-icon",name:"appendInner"},null)]),j("div",{class:["v-field__outline",qe.value],style:st.value},[Ke&&j(us,null,[j("div",{class:"v-field__outline__start"},null),ne.value&&j("div",{class:"v-field__outline__notch"},[j(XB,{ref:K,floating:!0,for:le.value},{default:()=>[et()]})]),j("div",{class:"v-field__outline__end"},null)]),ae.value&&ne.value&&j(XB,{ref:K,floating:!0,for:le.value},{default:()=>[et()]})])])}),{controlRef:ye}}});function _Q(n){const r=Object.keys(rW.props).filter(l=>!RU(l)&&l!=="class"&&l!=="style");return mX(n,r)}const Lve=["color","file","time","date","datetime-local","week","month"],iW=Dn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...f8(),...sW()},"VTextField"),uD=Io()({name:"VTextField",directives:{Intersect:JU},inheritAttrs:!1,props:iW(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=Hi(n,"modelValue"),{isFocused:x,focus:S,blur:M}=d8(n),R=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):typeof n.counterValue=="number"?n.counterValue:(v.value??"").toString().length),I=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),L=Ge(()=>["plain","underlined"].includes(n.variant));function $(ae,Ue){var We,qe;!n.autofocus||!ae||(qe=(We=Ue[0].target)==null?void 0:We.focus)==null||qe.call(We)}const G=Mn(),X=Mn(),ne=Mn(),ce=Ge(()=>Lve.includes(n.type)||n.persistentPlaceholder||x.value||n.active);function le(){var ae;ne.value!==document.activeElement&&((ae=ne.value)==null||ae.focus()),x.value||S()}function Me(ae){d("mousedown:control",ae),ae.target!==ne.value&&(le(),ae.preventDefault())}function he(ae){le(),d("click:control",ae)}function K(ae){ae.stopPropagation(),le(),Fs(()=>{v.value=null,vX(n["onClick:clear"],ae)})}function ye(ae){var We;const Ue=ae.target;if(v.value=Ue.value,(We=n.modelModifiers)!=null&&We.trim&&["text","search","password","tel","url"].includes(n.type)){const qe=[Ue.selectionStart,Ue.selectionEnd];Fs(()=>{Ue.selectionStart=qe[0],Ue.selectionEnd=qe[1]})}}return vs(()=>{const ae=!!(g.counter||n.counter!==!1&&n.counter!=null),Ue=!!(ae||g.details),[We,qe]=KL(l),{modelValue:st,...Ee}=qk.filterProps(n),Le=_Q(n);return j(qk,Zo({ref:G,modelValue:v.value,"onUpdate:modelValue":O=>v.value=O,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":L.value},n.class],style:n.style},We,Ee,{centerAffix:!L.value,focused:x.value}),{...g,default:O=>{let{id:Ke,isDisabled:ct,isDirty:$t,isReadonly:Jt,isValid:et}=O;return j(rW,Zo({ref:X,onMousedown:Me,onClick:he,"onClick:clear":K,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"],role:n.role},Le,{id:Ke.value,active:ce.value||$t.value,dirty:$t.value||n.dirty,disabled:ct.value,focused:x.value,error:et.value===!1}),{...g,default:pt=>{let{props:{class:Lt,...tt}}=pt;const Ye=Zn(j("input",Zo({ref:ne,value:v.value,onInput:ye,autofocus:n.autofocus,readonly:Jt.value,disabled:ct.value,name:n.name,placeholder:n.placeholder,size:1,type:n.type,onFocus:le,onBlur:M},tt,qe),null),[[Jy("intersect"),{handler:$},null,{once:!0}]]);return j(us,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[j("span",{class:"v-text-field__prefix__text"},[n.prefix])]),g.default?j("div",{class:Lt,"data-no-activator":""},[g.default(),Ye]):T1(Ye,{class:Lt}),n.suffix&&j("span",{class:"v-text-field__suffix"},[j("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:Ue?O=>{var Ke;return j(us,null,[(Ke=g.details)==null?void 0:Ke.call(g,O),ae&&j(us,null,[j("span",null,null),j(CQ,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),iE({},G,X,ne)}}),Fve=Dn({renderless:Boolean,...Vs()},"VVirtualScrollItem"),Vve=Io()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Fve(),emits:{"update:height":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{resizeRef:v,contentRect:x}=Gk(void 0,"border");zn(()=>{var S;return(S=x.value)==null?void 0:S.height},S=>{S!=null&&d("update:height",S)}),vs(()=>{var S,M;return n.renderless?j(us,null,[(S=g.default)==null?void 0:S.call(g,{itemRef:v})]):j("div",Zo({ref:v,class:["v-virtual-scroll__item",n.class],style:n.style},l),[(M=g.default)==null?void 0:M.call(g)])})}}),zve=-1,Hve=1,f$=100,$ve=Dn({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Uve(n,r){const l=XL(),d=To(0);uf(()=>{d.value=parseFloat(n.itemHeight||0)});const g=To(0),v=To(Math.ceil((parseInt(n.height)||l.height.value)/(d.value||16))||1),x=To(0),S=To(0),M=Mn(),R=Mn();let I=0;const{resizeRef:L,contentRect:$}=Gk();uf(()=>{L.value=M.value});const G=Ge(()=>{var pt;return M.value===document.documentElement?l.height.value:((pt=$.value)==null?void 0:pt.height)||parseInt(n.height)||0}),X=Ge(()=>!!(M.value&&R.value&&G.value&&d.value));let ne=Array.from({length:r.value.length}),ce=Array.from({length:r.value.length});const le=To(0);let Me=-1;function he(pt){return ne[pt]||d.value}const K=Kde(()=>{const pt=performance.now();ce[0]=0;const Lt=r.value.length;for(let tt=1;tt<=Lt-1;tt++)ce[tt]=(ce[tt-1]||0)+he(tt-1);le.value=Math.max(le.value,performance.now()-pt)},le),ye=zn(X,pt=>{pt&&(ye(),I=R.value.offsetTop,K.immediate(),ct(),~Me&&Fs(()=>{fi&&window.requestAnimationFrame(()=>{Jt(Me),Me=-1})}))});Ru(()=>{K.clear()});function ae(pt,Lt){const tt=ne[pt],Ye=d.value;d.value=Ye?Math.min(d.value,Lt):Lt,(tt!==Lt||Ye!==d.value)&&(ne[pt]=Lt,K())}function Ue(pt){return pt=$h(pt,0,r.value.length-1),ce[pt]||0}function We(pt){return Wve(ce,pt)}let qe=0,st=0,Ee=0;zn(G,(pt,Lt)=>{Lt&&(ct(),pt<Lt&&requestAnimationFrame(()=>{st=0,ct()}))});function Le(){if(!M.value||!R.value)return;const pt=M.value.scrollTop,Lt=performance.now();Lt-Ee>500?(st=Math.sign(pt-qe),I=R.value.offsetTop):st=pt-qe,qe=pt,Ee=Lt,ct()}function O(){!M.value||!R.value||(st=0,Ee=0,ct())}let Ke=-1;function ct(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame($t)}function $t(){if(!M.value||!G.value)return;const pt=qe-I,Lt=Math.sign(st),tt=Math.max(0,pt-f$),Ye=$h(We(tt),0,r.value.length),Mt=pt+G.value+f$,oo=$h(We(Mt)+1,Ye+1,r.value.length);if((Lt!==zve||Ye<g.value)&&(Lt!==Hve||oo>v.value)){const Fn=Ue(g.value)-Ue(Ye),fn=Ue(oo)-Ue(v.value);Math.max(Fn,fn)>f$?(g.value=Ye,v.value=oo):(Ye<=0&&(g.value=Ye),oo>=r.value.length&&(v.value=oo))}x.value=Ue(g.value),S.value=Ue(r.value.length)-Ue(v.value)}function Jt(pt){const Lt=Ue(pt);!M.value||pt&&!Lt?Me=pt:M.value.scrollTop=Lt}const et=Ge(()=>r.value.slice(g.value,v.value).map((pt,Lt)=>({raw:pt,index:Lt+g.value})));return zn(r,()=>{ne=Array.from({length:r.value.length}),ce=Array.from({length:r.value.length}),K.immediate(),ct()},{deep:!0}),{calculateVisibleItems:ct,containerRef:M,markerRef:R,computedItems:et,paddingTop:x,paddingBottom:S,scrollToIndex:Jt,handleScroll:Le,handleScrollend:O,handleItemResize:ae}}function Wve(n,r){let l=n.length-1,d=0,g=0,v=null,x=-1;if(n[l]<r)return l;for(;d<=l;)if(g=d+l>>1,v=n[g],v>r)l=g-1;else if(v<r)x=g,d=g+1;else return v===r?g:d;return x}const Zve=Dn({items:{type:Array,default:()=>[]},renderless:Boolean,...$ve(),...Vs(),...Yh()},"VVirtualScroll"),SQ=Io()({name:"VVirtualScroll",props:Zve(),setup(n,r){let{slots:l}=r;const d=Tl("VVirtualScroll"),{dimensionStyles:g}=Xh(n),{calculateVisibleItems:v,containerRef:x,markerRef:S,handleScroll:M,handleScrollend:R,handleItemResize:I,scrollToIndex:L,paddingTop:$,paddingBottom:G,computedItems:X}=Uve(n,es(n,"items"));return Rg(()=>n.renderless,()=>{function ne(){var Me,he;const le=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[le]("scroll",M,{passive:!0}),document[le]("scrollend",R)):((Me=x.value)==null||Me[le]("scroll",M,{passive:!0}),(he=x.value)==null||he[le]("scrollend",R))}Iu(()=>{x.value=TX(d.vnode.el,!0),ne(!0)}),Ru(ne)}),vs(()=>{const ne=X.value.map(ce=>j(Vve,{key:ce.index,renderless:n.renderless,"onUpdate:height":le=>I(ce.index,le)},{default:le=>{var Me;return(Me=l.default)==null?void 0:Me.call(l,{item:ce.raw,index:ce.index,...le})}}));return n.renderless?j(us,null,[j("div",{ref:S,class:"v-virtual-scroll__spacer",style:{paddingTop:hs($.value)}},null),ne,j("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:hs(G.value)}},null)]):j("div",{ref:x,class:["v-virtual-scroll",n.class],onScrollPassive:M,onScrollend:R,style:[g.value,n.style]},[j("div",{ref:S,class:"v-virtual-scroll__container",style:{paddingTop:hs($.value),paddingBottom:hs(G.value)}},[ne])])}),{calculateVisibleItems:v,scrollToIndex:L}}});function kQ(n,r){const l=To(!1);let d;function g(S){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>{if(l.value){const M=zn(l,()=>{M(),S()})}else S()})}async function x(S){var I,L;if(S.key==="Tab"&&((I=r.value)==null||I.focus()),!["PageDown","PageUp","Home","End"].includes(S.key))return;const M=(L=n.value)==null?void 0:L.$el;if(!M)return;(S.key==="Home"||S.key==="End")&&M.scrollTo({top:S.key==="Home"?0:M.scrollHeight,behavior:"smooth"}),await v();const R=M.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(S.key==="PageDown"||S.key==="Home"){const $=M.getBoundingClientRect().top;for(const G of R)if(G.getBoundingClientRect().top>=$){G.focus();break}}else{const $=M.getBoundingClientRect().bottom;for(const G of[...R].reverse())if(G.getBoundingClientRect().bottom<=$){G.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const EQ=Dn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:mi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...bQ({itemChildren:!1})},"Select"),jve=Dn({...EQ(),...Qy(iW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...rE({transition:{component:QU}})},"VSelect");Io()({name:"VSelect",props:jve(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=TD(),g=Mn(),v=Mn(),x=Mn(),S=Hi(n,"menu"),M=Ge({get:()=>S.value,set:pt=>{var Lt;S.value&&!pt&&((Lt=v.value)!=null&&Lt.openChildren.size)||(S.value=pt)}}),{items:R,transformIn:I,transformOut:L}=xQ(n),$=Hi(n,"modelValue",[],pt=>I(pt===null?[null]:rf(pt)),pt=>{const Lt=L(pt);return n.multiple?Lt:Lt[0]??null}),G=Ge(()=>typeof n.counterValue=="function"?n.counterValue($.value):typeof n.counterValue=="number"?n.counterValue:$.value.length),X=tW(),ne=Ge(()=>$.value.map(pt=>pt.value)),ce=To(!1),le=Ge(()=>M.value?n.closeText:n.openText);let Me="",he;const K=Ge(()=>n.hideSelected?R.value.filter(pt=>!$.value.some(Lt=>n.valueComparator(Lt,pt))):R.value),ye=Ge(()=>n.hideNoData&&!K.value.length||n.readonly||(X==null?void 0:X.isReadonly.value)),ae=Ge(()=>{var pt;return{...n.menuProps,activatorProps:{...((pt=n.menuProps)==null?void 0:pt.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ue=Mn(),We=kQ(Ue,g);function qe(pt){n.openOnClear&&(M.value=!0)}function st(){ye.value||(M.value=!M.value)}function Ee(pt){O$(pt)&&Le(pt)}function Le(pt){var Mt,oo;if(!pt.key||n.readonly||X!=null&&X.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(pt.key)&&pt.preventDefault(),["Enter","ArrowDown"," "].includes(pt.key)&&(M.value=!0),["Escape","Tab"].includes(pt.key)&&(M.value=!1),pt.key==="Home"?(Mt=Ue.value)==null||Mt.focus("first"):pt.key==="End"&&((oo=Ue.value)==null||oo.focus("last"));const Lt=1e3;if(n.multiple||!O$(pt))return;const tt=performance.now();tt-he>Lt&&(Me=""),Me+=pt.key.toLowerCase(),he=tt;const Ye=R.value.find(Fn=>Fn.title.toLowerCase().startsWith(Me));if(Ye!==void 0){$.value=[Ye];const Fn=K.value.indexOf(Ye);fi&&window.requestAnimationFrame(()=>{var fn;Fn>=0&&((fn=x.value)==null||fn.scrollToIndex(Fn))})}}function O(pt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!pt.props.disabled)if(n.multiple){const tt=$.value.findIndex(Mt=>n.valueComparator(Mt.value,pt.value)),Ye=Lt??!~tt;if(~tt){const Mt=Ye?[...$.value,pt]:[...$.value];Mt.splice(tt,1),$.value=Mt}else Ye&&($.value=[...$.value,pt])}else{const tt=Lt!==!1;$.value=tt?[pt]:[],Fs(()=>{M.value=!1})}}function Ke(pt){var Lt;(Lt=Ue.value)!=null&&Lt.$el.contains(pt.relatedTarget)||(M.value=!1)}function ct(){var pt;n.eager&&((pt=x.value)==null||pt.calculateVisibleItems())}function $t(){var pt;ce.value&&((pt=g.value)==null||pt.focus())}function Jt(pt){ce.value=!0}function et(pt){if(pt==null)$.value=[];else if(jk(g.value,":autofill")||jk(g.value,":-webkit-autofill")){const Lt=R.value.find(tt=>tt.title===pt);Lt&&O(Lt)}else g.value&&(g.value.value="")}return zn(M,()=>{if(!n.hideSelected&&M.value&&$.value.length){const pt=K.value.findIndex(Lt=>$.value.some(tt=>n.valueComparator(tt.value,Lt.value)));fi&&window.requestAnimationFrame(()=>{var Lt;pt>=0&&((Lt=x.value)==null||Lt.scrollToIndex(pt))})}}),zn(()=>n.items,(pt,Lt)=>{M.value||ce.value&&!Lt.length&&pt.length&&(M.value=!0)}),vs(()=>{const pt=!!(n.chips||l.chip),Lt=!!(!n.hideNoData||K.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),tt=$.value.length>0,Ye=uD.filterProps(n),Mt=tt||!ce.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return j(uD,Zo({ref:g},Ye,{modelValue:$.value.map(oo=>oo.props.value).join(", "),"onUpdate:modelValue":et,focused:ce.value,"onUpdate:focused":oo=>ce.value=oo,validationValue:$.externalValue,counterValue:G.value,dirty:tt,class:["v-select",{"v-select--active-menu":M.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":$.value.length,"v-select--selection-slot":!!l.selection},n.class],style:n.style,inputmode:"none",placeholder:Mt,"onClick:clear":qe,"onMousedown:control":st,onBlur:Ke,onKeydown:Le,"aria-label":d(le.value),title:d(le.value)}),{...l,default:()=>j(us,null,[j(g8,Zo({ref:v,modelValue:M.value,"onUpdate:modelValue":oo=>M.value=oo,activator:"parent",contentClass:"v-select__content",disabled:ye.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:ct,onAfterLeave:$t},ae.value),{default:()=>[Lt&&j(cD,Zo({ref:Ue,selected:ne.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:oo=>oo.preventDefault(),onKeydown:Ee,onFocusin:Jt,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},We,n.listProps),{default:()=>{var oo,Fn,fn;return[(oo=l["prepend-item"])==null?void 0:oo.call(l),!K.value.length&&!n.hideNoData&&(((Fn=l["no-data"])==null?void 0:Fn.call(l))??j(bc,{title:d(n.noDataText)},null)),j(SQ,{ref:x,renderless:!0,items:K.value},{default:_n=>{var Oo;let{item:Q,index:xs,itemRef:eo}=_n;const tn=Zo(Q.props,{ref:eo,key:xs,onClick:()=>O(Q,null)});return((Oo=l.item)==null?void 0:Oo.call(l,{item:Q,index:xs,props:tn}))??j(bc,Zo(tn,{role:"option"}),{prepend:je=>{let{isSelected:ie}=je;return j(us,null,[n.multiple&&!n.hideSelected?j(NL,{key:Q.value,modelValue:ie,ripple:!1,tabindex:"-1"},null):void 0,Q.props.prependAvatar&&j(qy,{image:Q.props.prependAvatar},null),Q.props.prependIcon&&j(Gn,{icon:Q.props.prependIcon},null)])}})}}),(fn=l["append-item"])==null?void 0:fn.call(l)]}})]}),$.value.map((oo,Fn)=>{function fn(eo){eo.stopPropagation(),eo.preventDefault(),O(oo,!1)}const _n={"onClick:close":fn,onKeydown(eo){eo.key!=="Enter"&&eo.key!==" "||(eo.preventDefault(),eo.stopPropagation(),fn(eo))},onMousedown(eo){eo.preventDefault(),eo.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Q=pt?!!l.chip:!!l.selection,xs=Q?NU(pt?l.chip({item:oo,index:Fn,props:_n}):l.selection({item:oo,index:Fn})):void 0;if(!(Q&&!xs))return j("div",{key:oo.value,class:"v-select__selection"},[pt?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:oo.title}}},{default:()=>[xs]}):j(cQ,Zo({key:"chip",closable:n.closableChips,size:"small",text:oo.title,disabled:oo.props.disabled},_n),null):xs??j("span",{class:"v-select__selection-text"},[oo.title,n.multiple&&Fn<$.value.length-1&&j("span",{class:"v-select__selection-comma"},[Qr(",")])])])})]),"append-inner":function(){var _n;for(var oo=arguments.length,Fn=new Array(oo),fn=0;fn<oo;fn++)Fn[fn]=arguments[fn];return j(us,null,[(_n=l["append-inner"])==null?void 0:_n.call(l,...Fn),n.menuIcon?j(Gn,{class:"v-select__menu-icon",icon:n.menuIcon},null):void 0])}})}),iE({isFocused:ce,menu:M,select:O},g)}});const Kve=(n,r,l)=>n==null||r==null?-1:n.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),Gve=Dn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function qve(n,r,l){var S;const d=[],g=(l==null?void 0:l.default)??Kve,v=l!=null&&l.filterKeys?rf(l.filterKeys):!1,x=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return d;e:for(let M=0;M<n.length;M++){const[R,I=R]=rf(n[M]),L={},$={};let G=-1;if((r||x>0)&&!(l!=null&&l.noFilter)){if(typeof R=="object"){const ce=v||Object.keys(I);for(const le of ce){const Me=fv(I,le),he=(S=l==null?void 0:l.customKeyFilter)==null?void 0:S[le];if(G=he?he(Me,r,R):g(Me,r,R),G!==-1&&G!==!1)he?L[le]=G:$[le]=G;else if((l==null?void 0:l.filterMode)==="every")continue e}}else G=g(R,r,R),G!==-1&&G!==!1&&($.title=G);const X=Object.keys($).length,ne=Object.keys(L).length;if(!X&&!ne||(l==null?void 0:l.filterMode)==="union"&&ne!==x&&!X||(l==null?void 0:l.filterMode)==="intersection"&&(ne!==x||!X))continue}d.push({index:M,matches:{...$,...L}})}return d}function Yve(n,r,l,d){const g=Mn([]),v=Mn(new Map),x=Ge(()=>re(r));uf(()=>{const M=typeof l=="function"?l():re(l),R=typeof M!="string"&&typeof M!="number"?"":String(M),I=qve(x.value,R,{customKeyFilter:{...n.customKeyFilter,...re(d==null?void 0:d.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),L=re(r),$=[],G=new Map;I.forEach(X=>{let{index:ne,matches:ce}=X;const le=L[ne];$.push(le),G.set(le.value,ce)}),g.value=$,v.value=G});function S(M){return v.value.get(M.value)}return{filteredItems:g,filteredMatches:v,getMatches:S}}function Xve(n,r,l){if(r==null)return n;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?j(us,null,[j("span",{class:"v-autocomplete__unmask"},[n.substr(0,r)]),j("span",{class:"v-autocomplete__mask"},[n.substr(r,l)]),j("span",{class:"v-autocomplete__unmask"},[n.substr(r+l)])]):n}const Jve=Dn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Gve({filterKeys:["title"]}),...EQ(),...Qy(iW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...rE({transition:!1})},"VAutocomplete"),Qve=Io()({name:"VAutocomplete",props:Jve(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=TD(),g=Mn(),v=To(!1),x=To(!0),S=To(!1),M=Mn(),R=Mn(),I=Hi(n,"menu"),L=Ge({get:()=>I.value,set:tn=>{var Oo;I.value&&!tn&&((Oo=M.value)!=null&&Oo.openChildren.size)||(I.value=tn)}}),$=To(-1),G=Ge(()=>{var tn;return(tn=g.value)==null?void 0:tn.color}),X=Ge(()=>L.value?n.closeText:n.openText),{items:ne,transformIn:ce,transformOut:le}=xQ(n),{textColorClasses:Me,textColorStyles:he}=Kh(G),K=Hi(n,"search",""),ye=Hi(n,"modelValue",[],tn=>ce(tn===null?[null]:rf(tn)),tn=>{const Oo=le(tn);return n.multiple?Oo:Oo[0]??null}),ae=Ge(()=>typeof n.counterValue=="function"?n.counterValue(ye.value):typeof n.counterValue=="number"?n.counterValue:ye.value.length),Ue=tW(),{filteredItems:We,getMatches:qe}=Yve(n,ne,()=>x.value?"":K.value),st=Ge(()=>n.hideSelected?We.value.filter(tn=>!ye.value.some(Oo=>Oo.value===tn.value)):We.value),Ee=Ge(()=>!!(n.chips||l.chip)),Le=Ge(()=>Ee.value||!!l.selection),O=Ge(()=>ye.value.map(tn=>tn.props.value)),Ke=Ge(()=>{var Oo;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&K.value===((Oo=st.value[0])==null?void 0:Oo.title))&&st.value.length>0&&!x.value&&!S.value}),ct=Ge(()=>n.hideNoData&&!st.value.length||n.readonly||(Ue==null?void 0:Ue.isReadonly.value)),$t=Mn(),Jt=kQ($t,g);function et(tn){n.openOnClear&&(L.value=!0),K.value=""}function pt(){ct.value||(L.value=!0)}function Lt(tn){ct.value||(v.value&&(tn.preventDefault(),tn.stopPropagation()),L.value=!L.value)}function tt(tn){var Oo;O$(tn)&&((Oo=g.value)==null||Oo.focus())}function Ye(tn){var ie,xe,Be;if(n.readonly||Ue!=null&&Ue.isReadonly.value)return;const Oo=g.value.selectionStart,je=ye.value.length;if(($.value>-1||["Enter","ArrowDown","ArrowUp"].includes(tn.key))&&tn.preventDefault(),["Enter","ArrowDown"].includes(tn.key)&&(L.value=!0),["Escape"].includes(tn.key)&&(L.value=!1),Ke.value&&["Enter","Tab"].includes(tn.key)&&!ye.value.some(pe=>{let{value:gt}=pe;return gt===st.value[0].value})&&eo(st.value[0]),tn.key==="ArrowDown"&&Ke.value&&((ie=$t.value)==null||ie.focus("next")),["Backspace","Delete"].includes(tn.key)){if(!n.multiple&&Le.value&&ye.value.length>0&&!K.value)return eo(ye.value[0],!1);if(~$.value){const pe=$.value;eo(ye.value[$.value],!1),$.value=pe>=je-1?je-2:pe}else tn.key==="Backspace"&&!K.value&&($.value=je-1)}if(n.multiple){if(tn.key==="ArrowLeft"){if($.value<0&&Oo>0)return;const pe=$.value>-1?$.value-1:je-1;ye.value[pe]?$.value=pe:($.value=-1,g.value.setSelectionRange((xe=K.value)==null?void 0:xe.length,(Be=K.value)==null?void 0:Be.length))}if(tn.key==="ArrowRight"){if($.value<0)return;const pe=$.value+1;ye.value[pe]?$.value=pe:($.value=-1,g.value.setSelectionRange(0,0))}}}function Mt(tn){if(jk(g.value,":autofill")||jk(g.value,":-webkit-autofill")){const Oo=ne.value.find(je=>je.title===tn.target.value);Oo&&eo(Oo)}}function oo(){var tn;n.eager&&((tn=R.value)==null||tn.calculateVisibleItems())}function Fn(){var tn;v.value&&(x.value=!0,(tn=g.value)==null||tn.focus())}function fn(tn){v.value=!0,setTimeout(()=>{S.value=!0})}function _n(tn){S.value=!1}function Q(tn){(tn==null||tn===""&&!n.multiple&&!Le.value)&&(ye.value=[])}const xs=To(!1);function eo(tn){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!tn||tn.props.disabled))if(n.multiple){const je=ye.value.findIndex(xe=>n.valueComparator(xe.value,tn.value)),ie=Oo??!~je;if(~je){const xe=ie?[...ye.value,tn]:[...ye.value];xe.splice(je,1),ye.value=xe}else ie&&(ye.value=[...ye.value,tn]);n.clearOnSelect&&(K.value="")}else{const je=Oo!==!1;ye.value=je?[tn]:[],K.value=je&&!Le.value?tn.title:"",Fs(()=>{L.value=!1,x.value=!0})}}return zn(v,(tn,Oo)=>{var je;tn!==Oo&&(tn?(xs.value=!0,K.value=n.multiple||Le.value?"":String(((je=ye.value.at(-1))==null?void 0:je.props.title)??""),x.value=!0,Fs(()=>xs.value=!1)):(!n.multiple&&K.value==null&&(ye.value=[]),L.value=!1,ye.value.some(ie=>{let{title:xe}=ie;return xe===K.value})||(K.value=""),$.value=-1))}),zn(K,tn=>{!v.value||xs.value||(tn&&(L.value=!0),x.value=!tn)}),zn(L,()=>{if(!n.hideSelected&&L.value&&ye.value.length){const tn=st.value.findIndex(Oo=>ye.value.some(je=>Oo.value===je.value));fi&&window.requestAnimationFrame(()=>{var Oo;tn>=0&&((Oo=R.value)==null||Oo.scrollToIndex(tn))})}}),zn(()=>n.items,(tn,Oo)=>{L.value||v.value&&!Oo.length&&tn.length&&(L.value=!0)}),vs(()=>{const tn=!!(!n.hideNoData||st.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),Oo=ye.value.length>0,je=uD.filterProps(n);return j(uD,Zo({ref:g},je,{modelValue:K.value,"onUpdate:modelValue":[ie=>K.value=ie,Q],focused:v.value,"onUpdate:focused":ie=>v.value=ie,validationValue:ye.externalValue,counterValue:ae.value,dirty:Oo,onChange:Mt,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":L.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!Le.value,"v-autocomplete--selecting-index":$.value>-1},n.class],style:n.style,readonly:n.readonly,placeholder:Oo?void 0:n.placeholder,"onClick:clear":et,"onMousedown:control":pt,onKeydown:Ye}),{...l,default:()=>j(us,null,[j(g8,Zo({ref:M,modelValue:L.value,"onUpdate:modelValue":ie=>L.value=ie,activator:"parent",contentClass:"v-autocomplete__content",disabled:ct.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:oo,onAfterLeave:Fn},n.menuProps),{default:()=>[tn&&j(cD,Zo({ref:$t,selected:O.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:ie=>ie.preventDefault(),onKeydown:tt,onFocusin:fn,onFocusout:_n,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Jt,n.listProps),{default:()=>{var ie,xe,Be;return[(ie=l["prepend-item"])==null?void 0:ie.call(l),!st.value.length&&!n.hideNoData&&(((xe=l["no-data"])==null?void 0:xe.call(l))??j(bc,{title:d(n.noDataText)},null)),j(SQ,{ref:R,renderless:!0,items:st.value},{default:pe=>{var Vt;let{item:gt,index:zt,itemRef:vt}=pe;const Ft=Zo(gt.props,{ref:vt,key:zt,active:Ke.value&&zt===0?!0:void 0,onClick:()=>eo(gt,null)});return((Vt=l.item)==null?void 0:Vt.call(l,{item:gt,index:zt,props:Ft}))??j(bc,Zo(Ft,{role:"option"}),{prepend:wn=>{let{isSelected:cn}=wn;return j(us,null,[n.multiple&&!n.hideSelected?j(NL,{key:gt.value,modelValue:cn,ripple:!1,tabindex:"-1"},null):void 0,gt.props.prependAvatar&&j(qy,{image:gt.props.prependAvatar},null),gt.props.prependIcon&&j(Gn,{icon:gt.props.prependIcon},null)])},title:()=>{var wn,cn;return x.value?gt.title:Xve(gt.title,(wn=qe(gt))==null?void 0:wn.title,((cn=K.value)==null?void 0:cn.length)??0)}})}}),(Be=l["append-item"])==null?void 0:Be.call(l)]}})]}),ye.value.map((ie,xe)=>{function Be(vt){vt.stopPropagation(),vt.preventDefault(),eo(ie,!1)}const pe={"onClick:close":Be,onKeydown(vt){vt.key!=="Enter"&&vt.key!==" "||(vt.preventDefault(),vt.stopPropagation(),Be(vt))},onMousedown(vt){vt.preventDefault(),vt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},gt=Ee.value?!!l.chip:!!l.selection,zt=gt?NU(Ee.value?l.chip({item:ie,index:xe,props:pe}):l.selection({item:ie,index:xe})):void 0;if(!(gt&&!zt))return j("div",{key:ie.value,class:["v-autocomplete__selection",xe===$.value&&["v-autocomplete__selection--selected",Me.value]],style:xe===$.value?he.value:{}},[Ee.value?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:ie.title}}},{default:()=>[zt]}):j(cQ,Zo({key:"chip",closable:n.closableChips,size:"small",text:ie.title,disabled:ie.props.disabled},pe),null):zt??j("span",{class:"v-autocomplete__selection-text"},[ie.title,n.multiple&&xe<ye.value.length-1&&j("span",{class:"v-autocomplete__selection-comma"},[Qr(",")])])])})]),"append-inner":function(){var pe;for(var ie=arguments.length,xe=new Array(ie),Be=0;Be<ie;Be++)xe[Be]=arguments[Be];return j(us,null,[(pe=l["append-inner"])==null?void 0:pe.call(l,...xe),n.menuIcon?j(Gn,{class:"v-autocomplete__menu-icon",icon:n.menuIcon,onMousedown:Lt,onClick:Yde,"aria-label":d(X.value),title:d(X.value),tabindex:"-1"},null):void 0])}})}),iE({isFocused:v,isPristine:x,menu:L,search:K,filteredItems:We,select:eo},g)}}),ebe={__name:"Items",setup(n){const r=ps(),l=mv(),d=xc(),g=sD(),v=bv(),x=tc();wc();const S=Mn(!1),M=Mn(!1),R=Mn("");Mn(!1);async function I(){await Fs(),S.value&&(M.value=!0,R.value="")}async function L(){S.value=!1,!r.isLoading&&R.value!=""&&$(R.value)}async function $(G){r.isLoading||(!await x.hasChangesInStorage()||await r.saveChangesToBackend(!0)?await r.loadItemFromBackend(G):r.setShowSendFailure(!0))}return(G,X)=>(Ln(),ds(us,null,[j(xo,{class:"app-header-item",disabled:re(r).isLoading||re(r).itemKey==re(l).firstKey,onClick:X[0]||(X[0]=ne=>$(re(l).getPreviousKey(re(r).itemKey)))},{default:At(()=>[j(Gn,{left:"",icon:"mdi-arrow-left-bold"}),X[6]||(X[6]=ke("span",{class:"sr-only"},"Vorheriger Teilnehmer",-1))]),_:1},8,["disabled"]),j(xo,{class:"app-header-item",disabled:re(r).isLoading,id:"app-items-menu-activator"},{default:At(()=>[Zn(ke("span",null," Lade Daten ... ",512),[[Ao,re(r).isLoading]]),Zn(ke("span",null,zo(re(l).currentItem.title)+" "+zo(re(v).getPositionText(re(r).correctorKey))+" "+zo(re(r).isForReviewOrStitch?re(g).isFinalized?" - finalisiert":" - offen":re(d).isOwnAuthorized?" - autorisiert":" - offen"),513),[[Ao,!re(r).isLoading&&re(l).currentItem!==void 0]])]),_:1},8,["disabled"]),j(g8,{disabled:re(r).isLoading,modelValue:S.value,"onUpdate:modelValue":[X[3]||(X[3]=ne=>S.value=ne),X[4]||(X[4]=ne=>I())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:At(()=>[M.value?(Ln(),rr(Qve,{key:0,id:"app-items-autocomplete",modelValue:R.value,"onUpdate:modelValue":[X[1]||(X[1]=ne=>R.value=ne),X[2]||(X[2]=ne=>L())],items:re(l).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:"Teilnehmer/in","prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items"])):Ts("",!0)]),_:1},8,["disabled","modelValue"]),j(xo,{class:"app-header-item",disabled:re(r).isLoading||re(r).itemKey==re(l).lastKey,onClick:X[5]||(X[5]=ne=>$(re(l).getNextKey(re(r).itemKey)))},{default:At(()=>[j(Gn,{left:"",icon:"mdi-arrow-right-bold"}),X[7]||(X[7]=ke("span",{class:"sr-only"},"Nchster Teilnehmer",-1))]),_:1},8,["disabled"])],64))}},tbe={id:"app-stitch-decision-wrapper"},nbe=["min","max"],obe=["innerHTML"],sbe={__name:"StitchDecision",setup(n){const r=ps(),l=sD(),d=mv(),g=xc();let v=Mn(!1),x=Mn(!1);async function S(){if(v.value=!1,await l.saveStitchDecision(),!l.correction_finalized)x.value=!0;else{let R=d.getNextKey(r.itemKey);R!=""&&r.loadItemFromBackend(R)}}async function M(){v.value=!1,await l.saveStitchDecision(),l.correction_finalized?window.location=r.returnUrl:x.value=!0}return(R,I)=>(Ln(),ds("div",tbe,[j(xo,{class:"app-header-item",disabled:re(l).correction_finalized,onClick:I[0]||(I[0]=L=>zr(v)?v.value=!0:v=!0)},{default:At(()=>[j(Gn,{left:"",icon:"mdi-checkbox-marked-outline"}),I[9]||(I[9]=Qr(" Stichentscheid "))]),_:1},8,["disabled"]),j(pv,{persistent:"",modelValue:re(v),"onUpdate:modelValue":I[6]||(I[6]=L=>zr(v)?v.value=L:v=L)},{default:At(()=>[j(hv,null,{default:At(()=>[j(c8,null,{default:At(()=>I[10]||(I[10]=[Qr("Stichentscheid")])),_:1}),j(zh,null,{default:At(()=>[I[14]||(I[14]=ke("p",null," Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen. ",-1)),I[15]||(I[15]=ke("br",null,null,-1)),ke("p",null,"Minimale Punkte: "+zo(re(g).minPoints),1),ke("p",null,"Maximale Punkte: "+zo(re(g).maxPoints),1),I[16]||(I[16]=ke("br",null,null,-1)),ke("p",null,[I[11]||(I[11]=ke("label",{for:"appFinalPoints"},"Finale Punkte: ",-1)),Zn(ke("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:re(g).minPoints,max:re(g).maxPoints,"onUpdate:modelValue":I[1]||(I[1]=L=>re(l).final_points=L)},null,8,nbe),[[jy,re(l).final_points]]),ke("span",{innerHTML:re(l).grade},null,8,obe),I[12]||(I[12]=ke("br",null,null,-1)),I[13]||(I[13]=ke("label",{for:"appStitchComment"},"Begrndung: ",-1)),Zn(ke("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":I[2]||(I[2]=L=>re(l).stitch_comment=L)},null,512),[[jy,re(l).stitch_comment]])])]),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:I[3]||(I[3]=L=>S()),disabled:re(l).final_points===null||re(l).final_points===""||!re(l).stitch_comment},{default:At(()=>[j(Gn,{left:"",icon:"mdi-check"}),I[17]||(I[17]=ke("span",null,"Festlegen und Weiter",-1))]),_:1},8,["disabled"]),j(xo,{onClick:I[4]||(I[4]=L=>M()),disabled:re(l).final_points===null||re(l).final_points===""||!re(l).stitch_comment},{default:At(()=>[j(Gn,{left:"",icon:"mdi-check"}),I[18]||(I[18]=ke("span",null,"Festlegen und Schlieen",-1))]),_:1},8,["disabled"]),j(xo,{onClick:I[5]||(I[5]=L=>zr(v)?v.value=!1:v=!1)},{default:At(()=>[j(Gn,{left:"",icon:"mdi-close"}),I[19]||(I[19]=ke("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:re(x),"onUpdate:modelValue":I[8]||(I[8]=L=>zr(x)?x.value=L:x=L)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>I[20]||(I[20]=[ke("p",null,"Ihr Stichentscheid konnte nicht bertragen werden. Bitte versuchen Sie es spter noch einmal.",-1)])),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:I[7]||(I[7]=L=>zr(x)?x.value=!1:x=!1)},{default:At(()=>[j(Gn,{left:"",icon:"mdi-close"}),I[21]||(I[21]=ke("span",null,"Meldung schlieen",-1))]),_:1}),j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),I[22]||(I[22]=ke("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},rbe=$l(sbe,[["__scopeId","data-v-2931e2f5"]]),ibe=Dn({fluid:{type:Boolean,default:!1},...Vs(),...Yh(),...Qi()},"VContainer"),tU=Io()({name:"VContainer",props:ibe(),setup(n,r){let{slots:l}=r;const{rtlClasses:d}=Ng(),{dimensionStyles:g}=Xh(n);return vs(()=>j(n.tag,{class:["v-container",{"v-container--fluid":n.fluid},d.value,n.class],style:[g.value,n.style]},l)),{}}}),AQ=YL.reduce((n,r)=>(n[r]={type:[Boolean,String,Number],default:!1},n),{}),TQ=YL.reduce((n,r)=>{const l="offset"+D1(r);return n[l]={type:[String,Number],default:null},n},{}),OQ=YL.reduce((n,r)=>{const l="order"+D1(r);return n[l]={type:[String,Number],default:null},n},{}),Tq={col:Object.keys(AQ),offset:Object.keys(TQ),order:Object.keys(OQ)};function abe(n,r,l){let d=n;if(!(l==null||l===!1)){if(r){const g=r.replace(n,"");d+=`-${g}`}return n==="col"&&(d="v-"+d),n==="col"&&(l===""||l===!0)||(d+=`-${l}`),d.toLowerCase()}}const lbe=["auto","start","end","center","baseline","stretch"],cbe=Dn({cols:{type:[Boolean,String,Number],default:!1},...AQ,offset:{type:[String,Number],default:null},...TQ,order:{type:[String,Number],default:null},...OQ,alignSelf:{type:String,default:null,validator:n=>lbe.includes(n)},...Vs(),...Qi()},"VCol"),Jl=Io()({name:"VCol",props:cbe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in Tq)Tq[v].forEach(S=>{const M=n[S],R=abe(v,S,M);R&&g.push(R)});const x=g.some(S=>S.startsWith("v-col-"));return g.push({"v-col":!x||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),g});return()=>{var g;return xv(n.tag,{class:[d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),aW=["start","end","center"],DQ=["space-between","space-around","space-evenly"];function lW(n,r){return YL.reduce((l,d)=>{const g=n+D1(d);return l[g]=r(),l},{})}const ube=[...aW,"baseline","stretch"],RQ=n=>ube.includes(n),IQ=lW("align",()=>({type:String,default:null,validator:RQ})),dbe=[...aW,...DQ],NQ=n=>dbe.includes(n),PQ=lW("justify",()=>({type:String,default:null,validator:NQ})),fbe=[...aW,...DQ,"stretch"],MQ=n=>fbe.includes(n),BQ=lW("alignContent",()=>({type:String,default:null,validator:MQ})),Oq={align:Object.keys(IQ),justify:Object.keys(PQ),alignContent:Object.keys(BQ)},mbe={align:"align",justify:"justify",alignContent:"align-content"};function gbe(n,r,l){let d=mbe[n];if(l!=null){if(r){const g=r.replace(n,"");d+=`-${g}`}return d+=`-${l}`,d.toLowerCase()}}const hbe=Dn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:RQ},...IQ,justify:{type:String,default:null,validator:NQ},...PQ,alignContent:{type:String,default:null,validator:MQ},...BQ,...Vs(),...Qi()},"VRow"),C1=Io()({name:"VRow",props:hbe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in Oq)Oq[v].forEach(x=>{const S=n[x],M=gbe(v,x,S);M&&g.push(M)});return g.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),g});return()=>{var g;return xv(n.tag,{class:["v-row",d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),cW=GL("v-spacer","div","VSpacer"),pbe=["value"],vbe=["value"],bbe=["value"],ybe={for:"appIncludeRatings"},xbe=["value"],wbe=["value"],Cbe=["value"],_be=["value"],Sbe=["value"],kbe=["value"],Ebe=["value"],Abe=["value"],Tbe=["value"],LQ={__name:"OwnSummaryIncludes",setup(n){const r=xc(),l=Uh(),d=Uy(),g=um(),v=Mn(!1);Mn([{title:"Nicht einbeziehen",value:_s.INCLUDE_NOT},{title:"informativ",value:_s.INCLUDE_INFO},{title:"bewertungsrelevant",value:_s.INCLUDE_RELEVANT}]);const x=Mn({}),S=Mn(!1);x.value=r.currentInclusionSettings;async function M(){v.value=!0,await Fs();const I=document.getElementById("app-own-summary-includes-container");for(const L of I.getElementsByTagName("label"))L.classList.contains("v-label")&&L.remove()}function R(){x.value.include_comments==_s.INCLUDE_NOT&&(x.value.include_comment_ratings=_s.INCLUDE_NOT,x.value.include_comment_points=_s.INCLUDE_NOT),r.editSummary.setData(x.value),S.value&&(d.setSummaryInclusions(x.value),S.value=!1),v.value=!1}return(I,L)=>(Ln(),ds("div",null,[L[16]||(L[16]=ke("strong",null,"Einbeziehen:",-1)),Qr(" "+zo(re(r).getInclusionText(re(r).editSummary))+" ",1),re(g).fixed_inclusions?Ts("",!0):(Ln(),rr(xo,{key:0,variant:"text",disabled:re(r).isOwnDisabled,onClick:L[0]||(L[0]=$=>M())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-pencil"}),L[9]||(L[9]=ke("span",{class:"sr-only"},"Einbezug bearbeiten",-1))]),_:1},8,["disabled"])),j(pv,{"max-width":"50em",persistent:"",modelValue:v.value,"onUpdate:modelValue":L[8]||(L[8]=$=>v.value=$)},{default:At(()=>[j(hv,null,{default:At(()=>[j(c8,null,{default:At(()=>L[10]||(L[10]=[Qr("In die Dokumentation der Korrektur einbeziehen")])),_:1}),j(zh,null,{default:At(()=>[j(tU,{id:"app-own-summary-includes-container"},{default:At(()=>[j(C1,null,{default:At(()=>[j(Jl,null,{default:At(()=>L[11]||(L[11]=[ke("label",{for:"appIncludeComments"},"Markierungen und Kommentare",-1)])),_:1}),j(Jl,null,{default:At(()=>[Zn(ke("select",{id:"appIncludeComments",class:"appIncludesSelect","onUpdate:modelValue":L[1]||(L[1]=$=>x.value.include_comments=$)},[ke("option",{value:re(_s).INCLUDE_NOT},"Nicht einbeziehen",8,pbe),ke("option",{value:re(_s).INCLUDE_INFO},"informativ",8,vbe),ke("option",{value:re(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,bbe)],512),[[zB,x.value.include_comments]])]),_:1})]),_:1}),Zn(j(C1,null,{default:At(()=>[j(Jl,null,{default:At(()=>[ke("label",ybe,zo(re(g).ratingLabels),1)]),_:1}),j(Jl,null,{default:At(()=>[Zn(ke("select",{id:"appIncludeRatings",class:"appIncludesSelect","onUpdate:modelValue":L[2]||(L[2]=$=>x.value.include_comment_ratings=$)},[ke("option",{value:re(_s).INCLUDE_NOT},"Nicht einbeziehen",8,xbe),ke("option",{value:re(_s).INCLUDE_INFO},"informativ",8,wbe),ke("option",{value:re(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,Cbe)],512),[[zB,x.value.include_comment_ratings]])]),_:1})]),_:1},512),[[Ao,x.value.include_comments>re(_s).INCLUDE_NOT]]),Zn(j(C1,null,{default:At(()=>[j(Jl,null,{default:At(()=>L[12]||(L[12]=[ke("label",{for:"appIncludeCommentPoints"},"Punkte zu Kommentaren",-1)])),_:1}),j(Jl,null,{default:At(()=>[Zn(ke("select",{id:"appIncludeCommentPoints",class:"appIncludesSelect","onUpdate:modelValue":L[3]||(L[3]=$=>x.value.include_comment_points=$)},[ke("option",{value:re(_s).INCLUDE_NOT},"Nicht einbeziehen",8,_be),ke("option",{value:re(_s).INCLUDE_INFO},"informativ",8,Sbe),ke("option",{value:re(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,kbe)],512),[[zB,x.value.include_comment_points]])]),_:1})]),_:1},512),[[Ao,x.value.include_comments>re(_s).INCLUDE_NOT]]),Zn(j(C1,null,{default:At(()=>[j(Jl,null,{default:At(()=>L[13]||(L[13]=[ke("label",{for:"appIncludeCriteriaPoints"},"Punkte im Bewertungsschema",-1)])),_:1}),j(Jl,null,{default:At(()=>[Zn(ke("select",{id:"appIncludeCriteriaPoints",class:"appIncludesSelect","onUpdate:modelValue":L[4]||(L[4]=$=>x.value.include_criteria_points=$)},[ke("option",{value:re(_s).INCLUDE_NOT},"Nicht einbeziehen",8,Ebe),ke("option",{value:re(_s).INCLUDE_INFO},"informativ",8,Abe),ke("option",{value:re(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,Tbe)],512),[[zB,x.value.include_criteria_points]])]),_:1})]),_:1},512),[[Ao,re(l).hasOwnCriteria]])]),_:1}),j(nve,{modelValue:S.value,"onUpdate:modelValue":L[5]||(L[5]=$=>S.value=$),label:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."},null,8,["modelValue"])]),_:1}),j(Vh,null,{default:At(()=>[j(cW),j(xo,{onClick:L[6]||(L[6]=$=>R())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-check"}),L[14]||(L[14]=ke("span",null,"bernehmen",-1))]),_:1}),j(xo,{onClick:L[7]||(L[7]=$=>{v.value=!1})},{default:At(()=>[j(Gn,{left:"",icon:"mdi-close"}),L[15]||(L[15]=ke("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Obe=GL("v-alert-title"),Dbe=["success","info","warning","error"],Rbe=Dn({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:mi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>Dbe.includes(n)},...Vs(),...Pg(),...Yh(),...P1(),...r8(),...YU(),...hm(),...Qi(),...cl(),...B1({variant:"flat"})},"VAlert"),JB=Io()({name:"VAlert",props:Rbe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=Hi(n,"modelValue"),v=Ge(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),x=Ge(()=>({color:n.color??n.type,variant:n.variant})),{themeClasses:S}=Hl(n),{colorClasses:M,colorStyles:R,variantClasses:I}=sE(x),{densityClasses:L}=qh(n),{dimensionStyles:$}=Xh(n),{elevationClasses:G}=M1(n),{locationStyles:X}=i8(n),{positionClasses:ne}=XU(n),{roundedClasses:ce}=pm(n),{textColorClasses:le,textColorStyles:Me}=Kh(es(n,"borderColor")),{t:he}=TD(),K=Ge(()=>({"aria-label":he(n.closeLabel),onClick(ye){g.value=!1,l("click:close",ye)}}));return()=>{const ye=!!(d.prepend||v.value),ae=!!(d.title||n.title),Ue=!!(d.close||n.closable);return g.value&&j(n.tag,{class:["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},S.value,M.value,L.value,G.value,ne.value,ce.value,I.value,n.class],style:[R.value,$.value,X.value,n.style],role:"alert"},{default:()=>{var We,qe;return[oE(!1,"v-alert"),n.border&&j("div",{key:"border",class:["v-alert__border",le.value],style:Me.value},null),ye&&j("div",{key:"prepend",class:"v-alert__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:n.density,icon:v.value,size:n.prominent?44:28}}},d.prepend):j(Gn,{key:"prepend-icon",density:n.density,icon:v.value,size:n.prominent?44:28},null)]),j("div",{class:"v-alert__content"},[ae&&j(Obe,{key:"title"},{default:()=>{var st;return[((st=d.title)==null?void 0:st.call(d))??n.title]}}),((We=d.text)==null?void 0:We.call(d))??n.text,(qe=d.default)==null?void 0:qe.call(d)]),d.append&&j("div",{key:"append",class:"v-alert__append"},[d.append()]),Ue&&j("div",{key:"close",class:"v-alert__close"},[d.close?j(xa,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var st;return[(st=d.close)==null?void 0:st.call(d,{props:K.value})]}}):j(xo,Zo({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},K.value),null)])]}})}}}),Ibe={id:"app-authorization-wrapper"},Nbe=["innerHTML"],Pbe=["max"],Mbe={__name:"Authorization",setup(n){const r=ps(),l=mv(),d=um(),g=xc(),v=Gy(),x=wc();Mn(!1);async function S(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)){r.setShowAuthorization(!1);let I=l.getNextKey(r.itemKey);I!=""&&r.loadItemFromBackend(I)}else r.setShowAuthorization(!1),r.setShowSendFailure(!0)}async function M(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0))r.setShowAuthorization(!1),window.location=r.returnUrl;else{r.setShowAuthorization(!1),r.setShowSendFailure(!0);return}}function R(){r.showAuthorization=!1,x.showOwnSummaryText()}return(I,L)=>(Ln(),ds("div",Ibe,[Zn(j(xo,{class:"app-header-item",disabled:re(r).isLoading||!re(l).authorizationAllowed,onClick:L[0]||(L[0]=$=>re(r).setShowAuthorization(!0))},{default:At(()=>[j(Gn,{left:"",icon:"mdi-file-certificate-outline"}),L[7]||(L[7]=ke("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[Ao,!re(g).isOwnDisabled]]),j(pv,{"max-width":"60em",persistent:"",modelValue:re(r).showAuthorization,"onUpdate:modelValue":L[6]||(L[6]=$=>re(r).showAuthorization=$)},{default:At(()=>[j(hv,null,{default:At(()=>[j(c8,null,{default:At(()=>[Qr("Korrektur von "+zo(re(l).currentItem.title)+" autorisieren",1)]),_:1}),j(zh,null,{default:At(()=>[ke("p",null,[L[9]||(L[9]=ke("strong",null,"Gutachten:",-1)),j(xo,{variant:"text",onClick:L[1]||(L[1]=$=>R())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-pencil"}),L[8]||(L[8]=ke("span",{class:"sr-only"},"Gutachten bearbeiten",-1))]),_:1})]),ke("div",{class:"appText long-essay-content headlines-three",innerHTML:re(g).editSummary.text},null,8,Nbe),L[12]||(L[12]=ke("label",{for:"appAuthorizationPoints"},[ke("strong",null,"Bewertung:")],-1)),Zn(ke("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:re(d).max_points,"onUpdate:modelValue":L[2]||(L[2]=$=>re(g).editSummary.points=$)},null,8,Pbe),[[jy,re(g).editSummary.points]]),L[13]||(L[13]=Qr("Punkte  ")),L[14]||(L[14]=ke("strong",null,"Notenstufe:",-1)),Qr(" "+zo(re(g).currentGradeTitle)+" ",1),re(d).inclusionsPossible?(Ln(),rr(LQ,{key:0})):Ts("",!0),Zn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:At(()=>L[10]||(L[10]=[Qr(" Bitte geben Sie einen Gutachten-Text ein. ")])),_:1},512),[[Ao,re(g).editSummary.text==""]]),Zn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:At(()=>L[11]||(L[11]=[Qr(" Bitte geben Sie eine Bewertung ein, damit eine Notenstufe vergeben werden kann. ")])),_:1},512),[[Ao,re(v).hasLevels&&re(g).editSummary.points===null]]),Zn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:At(()=>[Qr(" Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("+zo(re(g).currentPartialPoints)+") ab! ",1)]),_:1},512),[[Ao,re(g).currentPartialPointsAreIncluded&&re(g).editSummary.points!==null&&re(g).editSummary.points!=re(g).currentPartialPoints]]),Zn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:At(()=>[Qr(" Ihre Punktevergabe wird einen Stichentscheid erfordern: "+zo(re(g).stitchReasonText),1)]),_:1},512),[[Ao,re(g).areOthersAuthorized&&re(g).stitchReasonText!=""]]),L[15]||(L[15]=ke("br",null,null,-1)),L[16]||(L[16]=ke("p",null," Durch die Autorisierung wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur autorisieren? ",-1))]),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:L[3]||(L[3]=$=>S())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-check"}),L[17]||(L[17]=ke("span",null,"Autorisieren und Weiter",-1))]),_:1}),j(xo,{onClick:L[4]||(L[4]=$=>M())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-check"}),L[18]||(L[18]=ke("span",null,"Autorisieren und Schlieen",-1))]),_:1}),j(xo,{onClick:L[5]||(L[5]=$=>{re(r).setShowAuthorization(!1)})},{default:At(()=>[j(Gn,{left:"",icon:"mdi-close"}),L[19]||(L[19]=ke("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Bbe=$l(Mbe,[["__scopeId","data-v-974a4a9c"]]),FQ=Dn({text:String,...Vs(),...Qi()},"VToolbarTitle"),VQ=Io()({name:"VToolbarTitle",props:FQ(),setup(n,r){let{slots:l}=r;return vs(()=>{const d=!!(l.default||l.text||n.text);return j(n.tag,{class:["v-toolbar-title",n.class],style:n.style},{default:()=>{var g;return[d&&j("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():n.text,(g=l.default)==null?void 0:g.call(l)])]}})}),{}}}),Lbe=[null,"prominent","default","comfortable","compact"],zQ=Dn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>Lbe.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...I1(),...Vs(),...P1(),...hm(),...Qi({tag:"header"}),...cl()},"VToolbar"),Dq=Io()({name:"VToolbar",props:zQ(),setup(n,r){var G;let{slots:l}=r;const{backgroundColorClasses:d,backgroundColorStyles:g}=Wh(es(n,"color")),{borderClasses:v}=N1(n),{elevationClasses:x}=M1(n),{roundedClasses:S}=pm(n),{themeClasses:M}=Hl(n),{rtlClasses:R}=Ng(),I=To(!!(n.extended||(G=l.extension)!=null&&G.call(l))),L=Ge(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),$=Ge(()=>I.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return ex({VBtn:{variant:"text"}}),vs(()=>{var le;const X=!!(n.title||l.title),ne=!!(l.image||n.image),ce=(le=l.extension)==null?void 0:le.call(l);return I.value=!!(n.extended||ce),j(n.tag,{class:["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},d.value,v.value,x.value,S.value,M.value,R.value,n.class],style:[g.value,n.style]},{default:()=>[ne&&j("div",{key:"image",class:"v-toolbar__image"},[l.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},l.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(xa,{defaults:{VTabs:{height:hs(L.value)}}},{default:()=>{var Me,he,K;return[j("div",{class:"v-toolbar__content",style:{height:hs(L.value)}},[l.prepend&&j("div",{class:"v-toolbar__prepend"},[(Me=l.prepend)==null?void 0:Me.call(l)]),X&&j(VQ,{key:"title",text:n.title},{text:l.title}),(he=l.default)==null?void 0:he.call(l),l.append&&j("div",{class:"v-toolbar__append"},[(K=l.append)==null?void 0:K.call(l)])])]}}),j(xa,{defaults:{VTabs:{height:hs($.value)}}},{default:()=>[j(UJ,null,{default:()=>[I.value&&j("div",{class:"v-toolbar__extension",style:{height:hs($.value)}},[ce])]})]})]})}),{contentHeight:L,extensionHeight:$}}}),Fbe=Dn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Vbe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=r;let d=0,g=0;const v=Mn(null),x=To(0),S=To(0),M=To(0),R=To(!1),I=To(!1),L=Ge(()=>Number(n.scrollThreshold)),$=Ge(()=>$h((L.value-x.value)/L.value||0)),G=()=>{const X=v.value;if(!X||l&&!l.value)return;d=x.value,x.value="window"in X?X.pageYOffset:X.scrollTop;const ne=X instanceof Window?document.documentElement.scrollHeight:X.scrollHeight;if(g!==ne){g=ne;return}I.value=x.value<d,M.value=Math.abs(x.value-L.value)};return zn(I,()=>{S.value=S.value||x.value}),zn(R,()=>{S.value=0}),Iu(()=>{zn(()=>n.scrollTarget,X=>{var ce;const ne=X?document.querySelector(X):window;ne&&ne!==v.value&&((ce=v.value)==null||ce.removeEventListener("scroll",G),v.value=ne,v.value.addEventListener("scroll",G,{passive:!0}))},{immediate:!0})}),Cc(()=>{var X;(X=v.value)==null||X.removeEventListener("scroll",G)}),l&&zn(l,G,{immediate:!0}),{scrollThreshold:L,currentScroll:x,currentThreshold:M,isScrollActive:R,scrollRatio:$,isScrollingUp:I,savedScroll:S}}const zbe=Dn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...zQ(),...HX(),...Fbe(),height:{type:[Number,String],default:64}},"VAppBar"),HQ=Io()({name:"VAppBar",props:zbe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Mn(),g=Hi(n,"modelValue"),v=Ge(()=>{var he;const Me=new Set(((he=n.scrollBehavior)==null?void 0:he.split(" "))??[]);return{hide:Me.has("hide"),fullyHide:Me.has("fully-hide"),inverted:Me.has("inverted"),collapse:Me.has("collapse"),elevate:Me.has("elevate"),fadeImage:Me.has("fade-image")}}),x=Ge(()=>{const Me=v.value;return Me.hide||Me.fullyHide||Me.inverted||Me.collapse||Me.elevate||Me.fadeImage||!g.value}),{currentScroll:S,scrollThreshold:M,isScrollingUp:R,scrollRatio:I}=Vbe(n,{canScroll:x}),L=Ge(()=>v.value.hide||v.value.fullyHide),$=Ge(()=>n.collapse||v.value.collapse&&(v.value.inverted?I.value>0:I.value===0)),G=Ge(()=>n.flat||v.value.fullyHide&&!g.value||v.value.elevate&&(v.value.inverted?S.value>0:S.value===0)),X=Ge(()=>v.value.fadeImage?v.value.inverted?1-I.value:I.value:void 0),ne=Ge(()=>{var K,ye;if(v.value.hide&&v.value.inverted)return 0;const Me=((K=d.value)==null?void 0:K.contentHeight)??0,he=((ye=d.value)==null?void 0:ye.extensionHeight)??0;return L.value?S.value<M.value||v.value.fullyHide?Me+he:Me:Me+he});Rg(Ge(()=>!!n.scrollBehavior),()=>{uf(()=>{L.value?v.value.inverted?g.value=S.value>M.value:g.value=R.value||S.value<M.value:g.value=!0})});const{ssrBootStyles:ce}=m8(),{layoutItemStyles:le}=$X({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:es(n,"location"),layoutSize:ne,elementSize:To(void 0),active:g,absolute:es(n,"absolute")});return vs(()=>{const Me=Dq.filterProps(n);return j(Dq,Zo({ref:d,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...le.value,"--v-toolbar-image-opacity":X.value,height:void 0,...ce.value},n.style]},Me,{collapse:$.value,flat:G.value}),l)}),{}}}),Hbe=Io()({name:"VAppBarTitle",props:FQ(),setup(n,r){let{slots:l}=r;return vs(()=>j(VQ,Zo(n,{class:"v-app-bar-title"}),l)),{}}}),$be={__name:"AppBar",setup(n){const r=ps(),l=Ky(),d=tc(),g=wc();async function v(){if(g.focusTarget=="header"){await Fs();for(const S of document.getElementsByClassName("app-header-item"))if(!S.disabled){S.focus();break}}}zn(()=>g.focusChange,v);async function x(){!await d.hasChangesInStorage()||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:r.setShowSendFailure(!0)}return(S,M)=>(Ln(),rr(HQ,{elevation:"1",color:"white",density:"compact"},{default:At(()=>[j(Hbe,null,{default:At(()=>[Qr(zo(re(l).title),1)]),_:1}),j(cW),j(ebe),j(jpe),!re(r).isReview&&!re(r).isStitchDecision?(Ln(),rr(Bbe,{key:0})):Ts("",!0),re(r).isStitchDecision?(Ln(),rr(rbe,{key:1})):Ts("",!0),j(xo,{class:"app-header-item",onClick:M[0]||(M[0]=R=>x())},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),M[1]||(M[1]=ke("span",null,"Korrekturen",-1))]),_:1})]),_:1}))}};function Ube(n){let{rootEl:r,isSticky:l,layoutItemStyles:d}=n;const g=To(!1),v=To(0),x=Ge(()=>{const R=typeof g.value=="boolean"?"top":g.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[R]:hs(v.value)}:{top:d.value.top}]});Iu(()=>{zn(l,R=>{R?window.addEventListener("scroll",M,{passive:!0}):window.removeEventListener("scroll",M)},{immediate:!0})}),Cc(()=>{window.removeEventListener("scroll",M)});let S=0;function M(){const R=S>window.scrollY?"up":"down",I=r.value.getBoundingClientRect(),L=parseFloat(d.value.top??0),$=window.scrollY-Math.max(0,v.value-L),G=I.height+Math.max(v.value,L)-window.scrollY-window.innerHeight,X=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-L?(g.value="top",v.value=L):R==="up"&&g.value==="bottom"||R==="down"&&g.value==="top"?(v.value=window.scrollY+I.top-X,g.value=!0):R==="down"&&G<=0?(v.value=0,g.value="bottom"):R==="up"&&$<=0&&(X?g.value!=="top"&&(v.value=-$+X+L,g.value="top"):(v.value=I.top+$,g.value="top")),S=window.scrollY}return{isStuck:g,stickyStyles:x}}const Wbe=100,Zbe=20;function Rq(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function Iq(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let r=0;for(let l=n.length-1;l>0;l--){if(n[l].t===n[l-1].t)continue;const d=Rq(r),g=(n[l].d-n[l-1].d)/(n[l].t-n[l-1].t);r+=(g-d)*Math.abs(g),l===n.length-1&&(r*=.5)}return Rq(r)*1e3}function jbe(){const n={};function r(g){Array.from(g.changedTouches).forEach(v=>{(n[v.identifier]??(n[v.identifier]=new qde(Zbe))).push([g.timeStamp,v])})}function l(g){Array.from(g.changedTouches).forEach(v=>{delete n[v.identifier]})}function d(g){var R;const v=(R=n[g])==null?void 0:R.values().reverse();if(!v)throw new Error(`No samples for touch id ${g}`);const x=v[0],S=[],M=[];for(const I of v){if(x[0]-I[0]>Wbe)break;S.push({t:I[0],d:I[1].clientX}),M.push({t:I[0],d:I[1].clientY})}return{x:Iq(S),y:Iq(M),get direction(){const{x:I,y:L}=this,[$,G]=[Math.abs(I),Math.abs(L)];return $>G&&I>=0?"right":$>G&&I<=0?"left":G>$&&L>=0?"down":G>$&&L<=0?"up":Kbe()}}}return{addMovement:r,endTouch:l,getVelocity:d}}function Kbe(){throw new Error}function Gbe(n){let{el:r,isActive:l,isTemporary:d,width:g,touchless:v,position:x}=n;Iu(()=>{window.addEventListener("touchstart",Me,{passive:!0}),window.addEventListener("touchmove",he,{passive:!1}),window.addEventListener("touchend",K,{passive:!0})}),Cc(()=>{window.removeEventListener("touchstart",Me),window.removeEventListener("touchmove",he),window.removeEventListener("touchend",K)});const S=Ge(()=>["left","right"].includes(x.value)),{addMovement:M,endTouch:R,getVelocity:I}=jbe();let L=!1;const $=To(!1),G=To(0),X=To(0);let ne;function ce(ae,Ue){return(x.value==="left"?ae:x.value==="right"?document.documentElement.clientWidth-ae:x.value==="top"?ae:x.value==="bottom"?document.documentElement.clientHeight-ae:Ik())-(Ue?g.value:0)}function le(ae){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const We=x.value==="left"?(ae-X.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-ae-X.value)/g.value:x.value==="top"?(ae-X.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-ae-X.value)/g.value:Ik();return Ue?Math.max(0,Math.min(1,We)):We}function Me(ae){if(v.value)return;const Ue=ae.changedTouches[0].clientX,We=ae.changedTouches[0].clientY,qe=25,st=x.value==="left"?Ue<qe:x.value==="right"?Ue>document.documentElement.clientWidth-qe:x.value==="top"?We<qe:x.value==="bottom"?We>document.documentElement.clientHeight-qe:Ik(),Ee=l.value&&(x.value==="left"?Ue<g.value:x.value==="right"?Ue>document.documentElement.clientWidth-g.value:x.value==="top"?We<g.value:x.value==="bottom"?We>document.documentElement.clientHeight-g.value:Ik());(st||Ee||l.value&&d.value)&&(ne=[Ue,We],X.value=ce(S.value?Ue:We,l.value),G.value=le(S.value?Ue:We),L=X.value>-20&&X.value<80,R(ae),M(ae))}function he(ae){const Ue=ae.changedTouches[0].clientX,We=ae.changedTouches[0].clientY;if(L){if(!ae.cancelable){L=!1;return}const st=Math.abs(Ue-ne[0]),Ee=Math.abs(We-ne[1]);(S.value?st>Ee&&st>3:Ee>st&&Ee>3)?($.value=!0,L=!1):(S.value?Ee:st)>3&&(L=!1)}if(!$.value)return;ae.preventDefault(),M(ae);const qe=le(S.value?Ue:We,!1);G.value=Math.max(0,Math.min(1,qe)),qe>1?X.value=ce(S.value?Ue:We,!0):qe<0&&(X.value=ce(S.value?Ue:We,!1))}function K(ae){if(L=!1,!$.value)return;M(ae),$.value=!1;const Ue=I(ae.changedTouches[0].identifier),We=Math.abs(Ue.x),qe=Math.abs(Ue.y);(S.value?We>qe&&We>400:qe>We&&qe>3)?l.value=Ue.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||Ik()):l.value=G.value>.5}const ye=Ge(()=>$.value?{transform:x.value==="left"?`translateX(calc(-100% + ${G.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${G.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${G.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${G.value*g.value}px))`:Ik(),transition:"none"}:void 0);return Rg($,()=>{var We,qe;const ae=((We=r.value)==null?void 0:We.style.transform)??null,Ue=((qe=r.value)==null?void 0:qe.style.transition)??null;uf(()=>{var st,Ee,Le,O;(Ee=r.value)==null||Ee.style.setProperty("transform",((st=ye.value)==null?void 0:st.transform)||"none"),(O=r.value)==null||O.style.setProperty("transition",((Le=ye.value)==null?void 0:Le.transition)||null)}),Ru(()=>{var st,Ee;(st=r.value)==null||st.style.setProperty("transform",ae),(Ee=r.value)==null||Ee.style.setProperty("transition",Ue)})}),{isDragging:$,dragProgress:G,dragStyles:ye}}function Ik(){throw new Error}const qbe=["start","end","left","right","top","bottom"],Ybe=Dn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>qbe.includes(n)},sticky:Boolean,...I1(),...Vs(),...KJ(),...MX({mobile:null}),...P1(),...HX(),...hm(),...Qi({tag:"nav"}),...cl()},"VNavigationDrawer"),Xbe=Io()({name:"VNavigationDrawer",props:Ybe(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{isRtl:v}=Ng(),{themeClasses:x}=Hl(n),{borderClasses:S}=N1(n),{backgroundColorClasses:M,backgroundColorStyles:R}=Wh(es(n,"color")),{elevationClasses:I}=M1(n),{displayClasses:L,mobile:$}=XL(n),{roundedClasses:G}=pm(n),X=OJ(),ne=Hi(n,"modelValue",null,tt=>!!tt),{ssrBootStyles:ce}=m8(),{scopeId:le}=u8(),Me=Mn(),he=To(!1),{runOpenDelay:K,runCloseDelay:ye}=GJ(n,tt=>{he.value=tt}),ae=Ge(()=>n.rail&&n.expandOnHover&&he.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),Ue=Ge(()=>R$(n.location,v.value)),We=Ge(()=>n.persistent),qe=Ge(()=>!n.permanent&&($.value||n.temporary)),st=Ge(()=>n.sticky&&!qe.value&&Ue.value!=="bottom");Rg(()=>n.expandOnHover&&n.rail!=null,()=>{zn(he,tt=>d("update:rail",!tt))}),Rg(()=>!n.disableResizeWatcher,()=>{zn(qe,tt=>!n.permanent&&Fs(()=>ne.value=!tt))}),Rg(()=>!n.disableRouteWatcher&&!!X,()=>{zn(X.currentRoute,()=>qe.value&&(ne.value=!1))}),zn(()=>n.permanent,tt=>{tt&&(ne.value=!0)}),n.modelValue==null&&!qe.value&&(ne.value=n.permanent||!$.value);const{isDragging:Ee,dragProgress:Le}=Gbe({el:Me,isActive:ne,isTemporary:qe,width:ae,touchless:es(n,"touchless"),position:Ue}),O=Ge(()=>{const tt=qe.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):ae.value;return Ee.value?tt*Le.value:tt}),Ke=Ge(()=>["top","bottom"].includes(n.location)?0:ae.value),{layoutItemStyles:ct,layoutItemScrimStyles:$t}=$X({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:Ue,layoutSize:O,elementSize:Ke,active:Ge(()=>ne.value||Ee.value),disableTransitions:Ge(()=>Ee.value),absolute:Ge(()=>n.absolute||st.value&&typeof Jt.value!="string")}),{isStuck:Jt,stickyStyles:et}=Ube({rootEl:Me,isSticky:st,layoutItemStyles:ct}),pt=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),Lt=Ge(()=>({...Ee.value?{opacity:Le.value*.2,transition:"none"}:void 0,...$t.value}));return ex({VList:{bgColor:"transparent"}}),vs(()=>{const tt=g.image||n.image;return j(us,null,[j(n.tag,Zo({ref:Me,onMouseenter:K,onMouseleave:ye,class:["v-navigation-drawer",`v-navigation-drawer--${Ue.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":he.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":qe.value,"v-navigation-drawer--persistent":We.value,"v-navigation-drawer--active":ne.value,"v-navigation-drawer--sticky":st.value},x.value,M.value,S.value,L.value,I.value,G.value,n.class],style:[R.value,ct.value,ce.value,et.value,n.style,["top","bottom"].includes(Ue.value)?{height:"auto"}:{}]},le,l),{default:()=>{var Ye,Mt,oo;return[tt&&j("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},g.image):j(PD,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),g.prepend&&j("div",{class:"v-navigation-drawer__prepend"},[(Ye=g.prepend)==null?void 0:Ye.call(g)]),j("div",{class:"v-navigation-drawer__content"},[(Mt=g.default)==null?void 0:Mt.call(g)]),g.append&&j("div",{class:"v-navigation-drawer__append"},[(oo=g.append)==null?void 0:oo.call(g)])]}}),j(Zy,{name:"fade-transition"},{default:()=>[qe.value&&(Ee.value||ne.value)&&!!n.scrim&&j("div",Zo({class:["v-navigation-drawer__scrim",pt.backgroundColorClasses.value],style:[Lt.value,pt.backgroundColorStyles.value],onClick:()=>{We.value||(ne.value=!1)}},le),null)]})])}),{isStuck:Jt}}}),Jbe={__name:"NavBar",setup(n){const r=ps(),l=wc(),d=fC(),g=bv(),v=Ky(),x=tc();async function S(){if(l.focusTarget=="navigation"){await Fs();for(const Me of document.getElementsByClassName("app-navigation-item")){Me.focus();break}}}zn(()=>l.focusChange,S);function M(){return x.countChanges==0}function R(){return r.lastSendingTry>0}function I(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function L(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function $(Me){Me.keyCode==27?L():l.handleKeyDown(Me)}function G(Me){Me.type=="url"?window.open(Me.source,"long-essay-writer-resource-"+Me.key):(d.selectResource(Me),l.showResources())}function X(Me){l.selectCorrector(Me.corrector_key)}function ne(Me){switch(Me.type){case"url":return d.getResourceIsActive(Me)&&l.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return d.getResourceIsActive(Me)&&l.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function ce(Me){return Me.title+" - "+Me.initials+" "+g.getPositionText(Me.corrector_key)+(l.getCorrectorIsVisible(Me.corrector_key)?" (ausgewhlt)":"")}function le(Me){return l.getCorrectorIsVisible(Me.corrector_key)?"mdi-account-school":"mdi-account-school-outline"}return(Me,he)=>(Ln(),rr(Xbe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:I,onFocusout:L,onKeydown:$},{append:At(()=>[j(cD,{tabindex:"-1"},{default:At(()=>[j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[7]||(he[7]=K=>{re(r).saveChangesToBackend()}),disabled:M(),"aria-label":R()?"nderungen werden gesendet":M()?"Alles gesendet":"Letzte nderung senden",title:R()?"nderungen werden gesendet":M()?"Alles gesendet":"Letzte nderung senden",ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:R()?"mdi-cloud-upload":M()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1})]),default:At(()=>[j(cD,{tabindex:"-1"},{default:At(()=>[Zn(j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[0]||(he[0]=K=>{re(l).showInstructions()}),"aria-label":"Aufgabenstellung"+re(l).isInstructionsVisible?", ist ausgewhlt":"",title:"Aufgabenstellung"+(re(l).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,re(v).hasInstructions]]),Zn(j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[1]||(he[1]=K=>{re(l).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(re(l).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(re(l).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,re(d).hasInstruction]]),Zn(j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[2]||(he[2]=K=>{re(l).showSolution()}),"aria-label":"Lsungshinweise"+(re(l).isSolutionVisible?", ist ausgewhlt":""),title:"Lsungshinweise"+(re(l).isSolutionVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,re(v).hasSolution]]),Zn(j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[3]||(he[3]=K=>{re(l).showSolutionPdf()}),"aria-label":"Lsungshinweise als PDF"+(re(l).isSolutionPdfVisible?", ist ausgewhlt":""),title:"Lsungshinweise als PDF"+(re(l).isSolutionPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,re(d).hasSolution]]),j(FO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,uC(re(d).fileOrUrlResources,K=>(Ln(),rr(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ye=>{G(K)},"aria-label":K.title+(re(d).getResourceIsActive(K)&&re(l).isResourcesVisible?", ist ausgewhlt":""),title:K.title+(re(d).getResourceIsActive(K)&&re(l).isResourcesVisible?" (ausgewhlt)":""),key:K.key,ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:ne(K)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),j(FO,{class:"border-opacity-75"}),j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[4]||(he[4]=K=>{re(l).showEssay()}),"aria-label":"Abgegebener Text"+(re(l).isEssayVisible?", ist ausgewhlt":""),title:"Abgegebener Text"+(re(l).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[5]||(he[5]=K=>{re(l).showMarking()}),"aria-label":"Korrektur"+(re(l).isMarkingVisible?", ist ausgewhlt":""),title:"Korrektur"+(re(l).isMarkingVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(FO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,uC(re(g).otherCorrectors,K=>(Ln(),rr(bc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ye=>{X(K)},"aria-label":ce(K)+(re(l).getCorrectorIsVisible(K.corrector_key)?", ist ausgewhlt":""),title:ce(K)+(re(l).getCorrectorIsVisible(K.corrector_key)?" (ausgewhlt)":""),key:K.corrector_key,ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:le(K)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),re(r).isForReviewOrStitch?Ts("",!0):(Ln(),rr(bc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:he[6]||(he[6]=K=>{re(l).showSummary()}),"aria-label":"Gesamteindruck"+(re(l).isSummaryVisible?", ist ausgewhlt":""),title:"Gesamteindruck"+(re(l).isSummaryVisible?" (ausgewhlt)":""),ripple:!1},{prepend:At(()=>[j(Gn,{"aria-role":"hidden",icon:re(l).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),j(FO,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Qbe=$l(Jbe,[["__scopeId","data-v-07874397"]]),e1e=["innerHTML"],t1e={__name:"Instructions",setup(n){const r=Ky(),l=wc();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="instructions"&&(await Fs(),document.getElementById("app-instructions").focus())}return g(),zn(()=>l.focusChange,g),(v,x)=>(Ln(),ds("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:re(r).instructions},null,40,e1e))}},n1e=$l(t1e,[["__scopeId","data-v-f51945de"]]),o1e=["data"],s1e={__name:"InstructionsPdf",setup(n){const l=fC().instruction;return(d,g)=>(Ln(),ds("div",null,[re(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:re(l).url,width:"100%",height:"100%"},null,8,o1e)):Ts("",!0)]))}},r1e=$l(s1e,[["__scopeId","data-v-21afefc7"]]),i1e=["innerHTML"],a1e={__name:"Solution",setup(n){const r=Ky(),l=wc();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="solution"&&(await Fs(),document.getElementById("app-solution").focus())}return g(),zn(()=>l.focusChange,g),(v,x)=>(Ln(),ds("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:re(r).solution},null,40,i1e))}},l1e=$l(a1e,[["__scopeId","data-v-39abf810"]]),c1e=["data"],u1e={__name:"SolutionPdf",setup(n){const l=fC().solution;return(d,g)=>(Ln(),ds("div",null,[re(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:re(l).url,width:"100%",height:"100%"},null,8,c1e)):Ts("",!0)]))}},d1e=$l(u1e,[["__scopeId","data-v-d1f5bdf9"]]),f1e={class:"resources"},m1e={key:0},g1e=["data"],h1e={__name:"Resources",setup(n){const r=fC();return(l,d)=>(Ln(),ds("div",f1e,[(Ln(!0),ds(us,null,uC(re(r).fileOrUrlResources,g=>(Ln(),ds(us,{key:g.key},[g.type=="file"?Zn((Ln(),ds("div",m1e,[g.mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,g1e)):Ts("",!0)],512)),[[Ao,re(r).getResourceIsActive(g)]]):Ts("",!0)],64))),128))]))}},p1e=$l(h1e,[["__scopeId","data-v-2fabdab3"]]);class v1e{constructor(r,l,d){Sn(this,"observer",null);Sn(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,l instanceof Function&&(this.onSelection=l,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),d instanceof Function&&(this.onIntersection=d,this.observer=new IntersectionObserver(this.keydownHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let l=this.getSelectionData();l.mouseX=r.clientX,l.mouseY=r.clientY,l.firstWord>0&&l.lastWord>0&&this.onSelection(l)}intersectionHandler(r){let l=0;this.marks.forEach(d=>{(l==0||d.firstWord<l)&&this.isMarkVisible(d.firstWord,d.lastWord)&&(l=d.firstWord)}),this.onIntersection(l)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),l=r.getRangeAt(0);if(!r||!l)return{};let d=l.commonAncestorContainer;d.nodeType==3&&(d=d.parentNode.parentNode);let g=0,v=0,x=0;return d.querySelectorAll("w-p").forEach(S=>{if(r.containsNode(S,!0)){let M=parseInt(S.getAttribute("w")),R=parseInt(S.getAttribute("p"));(g==0||M<g)&&(g=M,x=R),M>v&&(v=M)}}),{firstWord:g,lastWord:v,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,l,d){let g=this.el.querySelector('w-p[w="'+d+'"]');g&&(g.setAttribute("label",l),g.classList.add(r))}showMark(r,l,d){this.marks.push({cssClass:r,firstWord:l,lastWord:d}),this.el.querySelectorAll("w-p").forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.add(r),this.observer&&(v==l||v==d)&&this.observer.observe(g)})}hideMark(r,l,d){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=l||g.lastWord!=d),this.el.querySelectorAll("w-p."+r).forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.remove(r),this.observer&&(v==l||v==d)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(l=>l.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(l=>{l.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,l){if(!this.isMarkVisible(r,l,!0)){const d=this.el.querySelector('w-p[w="'+r+'"]');d&&d.scrollIntoView()}}setCaretToMark(r){const l=this.el.querySelector('w-p[w="'+r+'"]');if(l){let d=document.createRange(),g=window.getSelection();d.setStart(l,0),d.collapse(!0),g.removeAllRanges(),g.addRange(d)}}isMarkVisible(r,l,d){const g=this.el.querySelector('w-p[w="'+r+'"]'),v=this.el.querySelector('w-p[w="'+l+'"]');if(!g||!v)return!1;const x=this.el.getBoundingClientRect(),S=g.getBoundingClientRect(),M=v.getBoundingClientRect(),R=S.top>=x.top&&S.bottom<=x.bottom,I=M.top>=x.top&&M.bottom<=x.bottom;return d?R&&I:R||I}}const b1e={id:"app-essay-wrapper"},y1e={class:"appTextButtons"},x1e=["innerHTML"],w1e={__name:"Essay",setup(n){const r=sD(),l=Ou(),d=xc(),g=Uy(),v=um(),x=wc();let S;Iu(()=>{Me(),S=new v1e(document.getElementById("app-essay"),X,ne),l.activeComments.forEach(he=>G(he))});function M(he){return he.preventDefault(),!1}async function R(){x.focusTarget=="essay"&&(await Fs(),document.getElementById("app-essay").focus())}R(),zn(()=>x.focusChange,R);function I(){S.hideAllMarksAndLabels(),l.activeComments.forEach(he=>G(he)),L()}zn(()=>l.markerChange,I),zn(()=>l.filterChange,I);function L(){S.hideAllMarksOfClass("selected");let he=l.getComment(l.selectedKey);he&&(S.showMark("selected",he.start_position,he.end_position),S.addLabel("labelled",he.label,he.start_position),S.scrollToMark(he.start_position,he.end_position))}zn(()=>l.selectionChange,L);function $(){let he=l.getComment(l.selectedKey);S.setCaretToMark(he.start_position)}zn(()=>l.caretRequest,$);function G(he){he.prefix&&(S.hideMark(he.prefix+"-excellent",he.start_position,he.end_position),S.hideMark(he.prefix+"-cardinal",he.start_position,he.end_position),S.hideMark(he.prefix,he.start_position,he.end_position),he.rating_excellent?S.showMark(he.prefix+"-excellent",he.start_position,he.end_position):he.rating_cardinal?S.showMark(he.prefix+"-cardinal",he.start_position,he.end_position):S.showMark(he.prefix,he.start_position,he.end_position)),S.addLabel("labelled",he.label,he.start_position)}async function X(he){let K=l.getActiveCommentsInRange(he.firstWord,he.lastWord);if(K.length){let ye=K.shift();he.isCollapsed?(S.removeSelection(),l.selectComment(ye.key)):(S.removeSelection(),d.isOwnDisabled||l.createComment(he.firstWord,he.lastWord,he.parentNumber))}else he.isCollapsed||(S.removeSelection(),d.isOwnDisabled||l.createComment(he.firstWord,he.lastWord,he.parentNumber))}function ne(he){let K=l.getActiveCommentsByStartPosition(he);if(K.length){let ye=K.shift();l.setFirstVisibleComment(ye.key)}}function ce(){g.zoomEssayTextIn(),Me()}function le(){g.zoomEssayTextOut(),Me()}function Me(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(he,K)=>(Ln(),ds("div",b1e,[ke("div",y1e,[j(_1,{density:"comfortable",variant:"outlined",divided:""},{default:At(()=>[j(xo,{title:"Abgabe Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:K[0]||(K[0]=ye=>le())}),j(xo,{title:"Abgabe Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:K[1]||(K[1]=ye=>ce())})]),_:1})]),ke("div",{contenteditable:"true",id:"app-essay",onBeforeinput:M,class:Cd("long-essay-content "+re(v).headlineClass),innerHTML:re(r).text},null,42,x1e)]))}},$k=()=>{},Nq=(n,r)=>Math.abs(n-r),C1e=(n,r)=>({x:Math.min(n.x,r.x),y:Math.min(n.y,r.y),width:Nq(n.x,r.x),height:Nq(n.y,r.y)}),$Q=n=>n,dD=n=>typeof n=="object",Lk=n=>typeof n=="string",Yk=n=>typeof n=="number",MD=n=>typeof n>"u",_1e=n=>[!0,!1].includes(n),UQ=(n,r)=>Object.fromEntries(Object.entries(r).map(([l,d])=>[l,n(d,l)])),S1e=(n,r)=>Object.fromEntries(Object.entries(r).filter(([l,d])=>n(d,l))),KO=(n,r)=>S1e((l,d)=>n.includes(d),r),k1e=(n,r)=>dD(r)&&Object.values(UQ((l,d)=>l(r[d]),n)).filter(l=>!l).length===0,E1e=(...n)=>r=>n.reduce((l,d)=>d(l),r),fD=(...n)=>E1e(...n.reverse()),mD=Symbol("none"),A1e=n=>r=>r===mD?mD:n(r),T1e=n=>r=>r===mD?n():r,O1e=(n,r)=>fD(...Object.entries(n).map(([l,d])=>T1e(()=>d(r[l])?mD:{key:l,type:d.name,offendingValue:r[l]})))(dD(r)?mD:{type:dD.name,offendingValue:r}),Pq=(n,r)=>{const l=d=>d?`Key "${d}" of `:"";A1e(({type:d,key:g=!1})=>aE(`Value does not match required form: ${l(g)}${JSON.stringify(r)} does not satisfy ${d}.`))(O1e(n,r))},PL=(n,r)=>(...l)=>{if(n(...l))return r(...l)},Zh=(n,r)=>({x:n,y:r}),lL=n=>k1e({x:Yk,y:Yk},n),h8=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),gD=(n,r)=>({x:r.x*n,y:r.y*n}),hC=(n,r)=>h8(n,gD(-1,r)),D1e=n=>({width:n.x,height:n.y}),R1e=n=>Zh(n.width,n.height),I1e=(n,r)=>({width:n,height:r}),N1e=(n,r)=>Zh(n.x*Math.cos(r)-n.y*Math.sin(r),n.x*Math.sin(r)+n.y*Math.cos(r)),P1e=({x:n,y:r})=>`${n},${r}`,M1e=(n,r)=>n.map(l=>h8(l,r)),B1e=n=>n.map(P1e).join(" "),WQ=(n,r)=>B1e(M1e(n,r)),L1e=(n,r)=>{const[l,d]=n.width/n.height<r.width/r.height?["height","width"]:["width","height"];return{[l]:r[l],[d]:r[l]*(n[d]/n[l])}},aE=n=>{throw new Error(n)},hD=(n,r)=>n||aE(r),Mq=n=>()=>n,ZQ=(n,r)=>!MD(r.find(n)),F1e=(n,r)=>!ZQ(l=>!n(l),r),jQ=n=>n instanceof Array,KQ=n=>{const r=KQ.name+"("+n.name+")";return{[r]:d=>jQ(d)&&F1e(n,d)}[r]},V1e=(n,r)=>Object.entries(n).reduce((l,[d,g])=>g===r[d]?l:[...l,{left:g,right:r[d],name:d}],[]),GQ=Reflect.set,z1e=Reflect.deleteProperty,uW=(n,...r)=>n.bind(null,...r),H1e=n=>n.apply.bind(n,null),dW=n=>n.map(r=>r()),$1e=(n,r)=>Object.entries(r).forEach(H1e(n)),U1e=(n,r,l)=>$1e(n[r].bind(n),l),W1e=n=>r=>(n(r),r),Nk=(n,r=$k)=>(l=void 0)=>{if(MD(l))return n;r(l),n=l},m$=JSON.stringify,_v=n=>{let r=(...g)=>aE(`No matching function found for arguments: ${m$(g)}.`);const l={},d=(...g)=>(l[m$(n(...g))]||r)(...g);return d.define=(g,v=void 0)=>{MD(v)?r=g:l[m$(g)]=v},d},xr=(n,...r)=>n.define(...r),qQ=(n,r,l)=>(n.addEventListener(r,l),()=>n.removeEventListener(r,l)),pD=_v((n,r)=>r);xr(pD,qQ);const fW=(n,r)=>xr(pD,n,(l,d,g)=>{const v=[n,r].map(x=>qQ(l,x,g));return()=>{dW(v)}});fW("mousedown","touchstart");fW("mousemove","touchmove");fW("mouseup","touchend");const mC=_v(n=>n.constructor.name);xr(mC,"MouseEvent",n=>Zh(n.clientX,n.clientY));xr(mC,"TouchEvent",n=>Zh(n.touches[0].clientX,n.touches[0].clientY));const Z1e=n=>n.reduce((r,l)=>dD(l.right)&&!jQ(l.right)?[...r,...YQ(l.left,l.right).map(({path:d,...g})=>({path:[l.name,...d],...g}))]:[...r,{path:[l.name],value:l.right}],[]),YQ=(n,r)=>Z1e(V1e(n,r)),j1e=(n,r)=>!MD(r.find(l=>XQ(l.path,n))),XQ=(n,r)=>JSON.stringify(n)===JSON.stringify(r),JQ=(n,r)=>n.length>=r.length&&XQ(n.slice(0,r.length),r),mW=(n,r)=>n.length===0?r:dD(r)?mW(n.slice(1),r[n[0]]):aE("Path not found."),Au=(n,r)=>({requires:l=>JQ(l,n),then:fD(r,uW(mW,n))}),Hy=(n,r)=>({requires:Mq(!1),then:fD(r,Mq(n))}),gW=(n,r)=>({requires:l=>ZQ(uW(JQ,l),Object.values(n)),then:l=>r(UQ(d=>mW(d,l),n))}),Ql=n=>r=>l=>l.setAttribute(n,(Yk(r),r)),QQ=()=>n=>r=>GQ(r,"textContent",n),vD=n=>r=>l=>l.style.setProperty(n,r),K1e=n=>n.reduce((r,l)=>r.includes(l)?r:[...r,l],[]),hW=(n,r,l)=>r.forEach(({then:d})=>d(n)(l)),Bq=(n,r,l,d)=>{const g=({path:x})=>r.filter(S=>S.requires(x)),v=K1e(l.reduce((x,S)=>x.concat(g(S)),[]));hW(n,v,d)},mm=(n,r)=>n.append(r),Xk=(n,r)=>U1e(n,"setAttribute",r),G1e=({start:n,move:r,stop:l=$k})=>{let d=null;return{start:g=>{g.preventDefault(),d=n(mC(g))},move:g=>{g.preventDefault(),d=r(mC(g),d)},stop:g=>{l(d)}}},q1e=(n,r)=>Array.from(n.children).forEach(uW(mm,r)),eee=n=>(r,l={},...d)=>{const g=n(r);return d.forEach(v=>mm(g,v)),Xk(g,l),g},Y1e=n=>document.createElementNS("http://www.w3.org/2000/svg",n),Ia=eee(Y1e),X1e=eee(n=>document.createElement(n)),J1e=()=>{let n=null;return r=>{if(n!==null)return new Promise($k);const l=()=>n===l?(n=null,!0):!1;return n=l,new Promise(d=>r(()=>{l(),d()}))}},Q1e=n=>{const r=J1e();return{current:()=>n,acquire:(l,d)=>r(g=>{const v=n;n=l,d(()=>{g()&&(n=v)})})}},e0e=n=>new Promise((r,l)=>{const d=document.createElement("img");d.onload=()=>r(I1e(d.width,d.height)),d.onerror=l,d.src=n}),tee=n=>n.type==="touchend"&&n.touches.length===0,bD=_v((n,r=void 0)=>MD(r)?n.constructor.name:r);xr(bD,"TouchEvent",n=>n.touches.length===1||tee(n));xr(bD,"MouseEvent",n=>n.button===0);xr(bD,"PointerEvent",n=>bD(n,"MouseEvent"));const yD=_v(n=>n.constructor.name);xr(yD,"TouchEvent",n=>n.touches.length===2||tee(n));xr(yD,"MouseEvent",n=>n.button===1);xr(yD,"PointerEvent",n=>yD(n,"MouseEvent"));const dm=_v((n,r)=>r);xr(dm,pD);["click","mousedown","mouseup"].forEach(n=>{xr(dm,n,(r,l,d)=>pD(r,l,PL(bD,d))),xr(dm,[n,"primary"],(r,[l,d],g)=>dm(r,l,g)),xr(dm,[n,"secondary"],(r,[l,d],g)=>pD(r,l,PL(yD,g)))});const t0e=(n,{start:r=$k,move:l=$k,stop:d=$k},g,v)=>{const x=R=>l(R),M=[dm(window,["mouseup",g],R=>{dW(M),d(R)}),dm(n,"mousemove",x)];r(v)},js={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},n0e=n=>Object.values(js).includes(n),o0e={[js.CIRCLE]:{symbol:Lk,symbolColor:Lk},[js.RECTANGLE]:{width:Yk,height:Yk},[js.POLYGON]:{polygon:KQ(lL)},[js.LINE]:{end:lL},[js.WAVE]:{end:lL}},nee={key:Lk,label:Lk,color:Lk,selectedColor:Lk,shape:n0e,pos:lL,locked:_1e},s0e=n=>({...KO(Object.keys(nee),n),pos:KO(["x","y"],n.pos)}),r0e={[js.CIRCLE]:n=>KO(["symbol","symbolColor"],n),[js.RECTANGLE]:n=>KO(["width","height"],n),[js.POLYGON]:({polygon:n})=>({polygon:n.map(r=>KO(["x","y"],r))}),[js.LINE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}}),[js.WAVE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}})},pW=_v(n=>n.shape);xr(pW,$Q);xr(pW,js.CIRCLE,({symbol:n="",symbolColor:r="black",...l})=>({...l,symbol:n,symbolColor:r}));const Fk=n=>(n={...n,key:n.key||"mark-"+Math.random().toString(),locked:n.locked||!1},Pq(nee,n),n=pW(n),Pq(o0e[n.shape],n),{...s0e(n),...r0e[n.shape](n)}),cL={lambda:60,amplitude:20,lineWidth:10},g$={startDot:{radius:20,borderWidth:10},lineWidth:10},i0e={width:15},A1=Symbol("silent"),a0e=({polygon:n,pos:r})=>WQ(n,r),l0e=n=>r=>r.setAttribute("points",a0e(n)),p8=n=>[Au(["color"],vD("--default-color")),Au(["selectedColor"],vD("--selected-color")),Au(["locked"],r=>Ql("class")(["shape"].concat(r?["locked"]:[],n).join(" ")))],oee=(n,r)=>{const l=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),d=({start:g,end:v})=>{const x=Math.atan(v.y/v.x),S=v.x<0?x-Math.PI:x,M=N1e(hC(g,Zh(0,n/2)),-S),R=`rotateZ(${S}rad)`,I=`translate(${M.x}px, ${M.y}px)`;return`${R} ${I}`};return[...p8(r),gW({start:["pos"],end:["end"]},fD(vD("transform"),d)),Au(["end"],fD(Ql("width"),l)),Hy(`0 ${n/2}px`,vD("transform-origin")),Hy(n,Ql("height")),Hy(0,Ql("x")),Hy(0,Ql("y"))]},wv=_v(n=>n.shape||n);xr(wv,js.RECTANGLE,()=>[...p8([]),Au(["pos","x"],Ql("x")),Au(["pos","y"],Ql("y")),Au(["width"],Ql("width")),Au(["height"],Ql("height"))]);xr(wv,js.CIRCLE,()=>[...p8([]),Au(["pos","x"],Og(0,Ql("cx"))),Au(["pos","y"],Og(0,Ql("cy"))),Au(["pos","x"],Og(1,Ql("x"))),Au(["pos","y"],Og(1,Ql("y"))),Au(["symbol"],Og(1,QQ())),Au(["symbolColor"],Og(1,vD("fill"))),Hy("symbol",Og(1,Ql("class"))),Hy(70,Og(0,Ql("r")))]);xr(wv,js.POLYGON,()=>[...p8([]),gW({pos:["pos"],polygon:["polygon"]},l0e)]);xr(wv,js.LINE,()=>oee(i0e.width,[]));xr(wv,js.WAVE,()=>oee(cL.amplitude*2,["wave"]));const Og=(n,r)=>l=>d=>r(l)(d.children[n]);xr(wv,"label",()=>[Au(["pos","x"],Og(0,Ql("x"))),Au(["pos","x"],Og(1,Ql("x"))),Hy("label",Og(0,Ql("class"))),Hy("label",Og(1,Ql("class"))),gW({shape:["shape"],label:["label"],y:["pos","y"]},({shape:n,label:r,y:l})=>d=>{n==js.CIRCLE&&(l=l-70),Xk(d.children[1],{y:l}),QQ()(r)(d.children[1]),requestAnimationFrame(()=>{const{width:g,height:v}=d.children[1].getBBox();Xk(d.children[0],{y:l-v+v*.15,width:g,height:v})})})]);const pC=_v($Q);xr(pC,js.RECTANGLE,()=>Ia("rect"));xr(pC,js.CIRCLE,()=>Ia("g",{},Ia("circle"),Ia("text")));xr(pC,js.POLYGON,()=>Ia("polygon"));xr(pC,js.LINE,()=>Ia("rect"));xr(pC,js.WAVE,()=>Ia("rect"));xr(pC,n=>aE(`Invalid shape name: ${n}.`));const see=n=>{const r=pC(n.shape);return hW(n,wv(n),r),r},c0e=n=>{const r=Ia("g",{},Ia("rect"),Ia("text"));return hW(n,wv("label"),r),r},u0e=(n,r,l)=>{Bq(n,wv(n),r,l.nodes.shape),Bq(n,wv("label"),r,l.nodes.label)},d0e=n=>({mark:n,nodes:{root:Ia("g"),label:c0e(n),shape:see(n)}}),f0e={[js.RECTANGLE]:{width:10,height:20},[js.CIRCLE]:{},[js.POLYGON]:{polygon:[Zh(0,0)]},[js.LINE]:{end:Zh(0,0)},[js.WAVE]:{end:Zh(0,0)}},m0e=(n,r,l,d)=>Fk({...f0e[r],shape:r,pos:n,color:l,selectedColor:d,label:""}),v8=(n,r,l,d="primary")=>t0e(n.nodes.svg,G1e(l),d,r),g0e=(n,r)=>e0e(r).then(l=>{Xk(n.nodes.backgroundImage,{href:r,x:0,y:0,...l}),n.canvas.size(l),gee(n)}),h0e=()=>W1e(n=>GQ(n,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),p0e=()=>({background:Ia("g",{class:"background"}),normal:Ia("g"),foreground:Ia("g",{class:"foreground"})}),v0e=n=>hD(Object.values(js).includes(n),`Invalid shape name: ${n}.`),b0e=n=>{hD(Yk(n),`Scale must be a number, given: ${JSON.stringify(n)}.`),hD(n>0,`Scale must be > 0 given: ${n}.`)},y0e=(n,r,l)=>{const d=p0e(),g=Ia("svg",{width:"100%",height:"100%"},...Object.values(d)),v=X1e("div",{class:"long-essay-image-marker"},g),x=Ia("image");return mm(n,v),mm(n,h0e()),mm(g,Ia("defs",{},S0e(),k0e())),{nodes:{app:v,svg:g,layers:d,backgroundImage:x},creation:{color:Nk("#0000AAAA"),selectedColor:Nk("#FF0000AA"),shape:Nk(js.CIRCLE,v0e)},status:Q1e({name:"idle"}),canvas:{scale:Nk(1,b0e),size:Nk(null)},mode:Nk("draw-shape",S=>hD(["draw-shape","scroll"].includes(S),`Invalid marker mode: ${S}`)),groups:{},emit:{createMark:r,selectMark:l}}},BD=(n,r,l)=>n.status.acquire(r,l),vW=(n,r,l,d)=>BD(n,{name:r,group:l},d),ree=(n,r,l)=>{dm(l,"mousedown",d=>(r.mark.locked?Promise.resolve():lee(n,r,d)).then(()=>fee(n,[r])))},x0e=(n,r)=>{iee(n,r),w0e(n,r),mm(n.nodes.layers.normal,r.nodes.root)},w0e=(n,r)=>{mm(r.nodes.root,r.nodes.label),ree(n,r,r.nodes.label)},iee=(n,r)=>{mm(r.nodes.root,r.nodes.shape),ree(n,r,r.nodes.shape)},b8=n=>(r,l)=>BD(r,{name:"drawNew"},d=>{const g=m0e(O1(r,mC(l)),O0e(r),cee(r),uee(r));r.emit.selectMark(null,l),d(),yW(r,g,A1),n(r,r.groups[g.key],l).then(()=>{r.emit.createMark(r.groups[g.key].mark,l),ML(r,[g.key],l)})}),bW=_v(n=>n.mode()),vC=_v(bW),aee=(n,r,l)=>vW(n,"editGroup",r,d=>v8(n,l,{start:g=>(y8(n,[r],A1),g=O1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=hC(O1(n,g),x.mouse),M={...v,end:S};return x8(n,M),{start:x,mark:M}},stop:d}));xr(vC,["draw-shape",js.LINE],b8(aee));xr(vC,["draw-shape",js.WAVE],b8(aee));const C0e=(n,r,l)=>vW(n,"editGroup",r,d=>v8(n,l,{start:g=>(y8(n,[r],A1),g=O1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=hC(O1(n,g),x.mouse),{width:M,height:R,...I}=C1e(x.pos,h8(x.pos,S)),L={...v,pos:I,width:M,height:R};return x8(n,L),{start:x,mark:L}},stop:d}));xr(vC,["draw-shape",js.RECTANGLE],b8(C0e));const lee=(n,r,l)=>vW(n,"moveGroup",r,d=>v8(n,l,{start:g=>(g=O1(n,g),y8(n,[r],A1),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:v,start:x})=>{const S=hC(O1(n,g),x.mouse),M={...v,pos:h8(x.pos,S)};return x8(n,M),{start:x,mark:M}},stop:d}));xr(vC,["draw-shape",js.CIRCLE],b8(lee));const _0e=(n,r,l)=>{const d=Ia("circle",{cx:r.x,cy:r.y,r:g$.startDot.radius+"px","stroke-width":g$.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Ia("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":g$.lineWidth+"px",fill:"none"}),v=Ia("g",{class:"new-polygon"});return mm(v,g),mm(v,d),mm(n,v),dm(d,"click",x=>{x.stopPropagation(),v.remove(),l()}),x=>Xk(g,{points:WQ(x,r)})},S0e=()=>{const n=Zh(cL.lambda,cL.amplitude*2),r=gD(.5,n),l=gD(.5,r);return Ia("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${n.x}px`,height:`${n.y}px`,patternUnits:"userSpaceOnUse"},Ia("path",{d:`M -${r.x} ${r.y} Q -${l.x} -${l.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":cL.lineWidth+"px"}))},k0e=()=>Ia("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Ia("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),E0e=(n,r,l)=>Fk({label:"",polygon:r,pos:l,color:cee(n),selectedColor:uee(n),shape:js.POLYGON}),A0e=(n,r,l)=>d=>{d.preventDefault(),l(hC(O1(n,mC(d)),r))};xr(vC,["draw-shape",js.POLYGON],(n,r)=>BD(n,{name:"newPolygon"},l=>{r.preventDefault(),n.emit.selectMark(null,r);const d=O1(n,mC(r)),g=_0e(n.nodes.layers.foreground,d,()=>R()),v=[Zh(0,0)],x=I=>A0e(n,d,I);let S=Zh(0,0);const M=[l,dm(n.nodes.svg,"mousemove",x(I=>{g([...v,I]),S=I})),dm(window,"mouseup",I=>v.push(S))],R=()=>{dW(M);const I=E0e(n,v,d);yW(n,I,r),ML(n,[I.key],r)}}));const T0e=n=>{const r=l=>[n.nodes.svg,n.nodes.backgroundImage].includes(l.target);dm(n.nodes.svg,"mousedown",PL(r,l=>vC(n,l))),dm(n.nodes.svg,["mousedown","secondary"],PL(r,l=>dee(n,l,"secondary")))},cee=n=>n.creation.color(),uee=n=>n.creation.selectedColor(),O0e=n=>n.creation.shape();xr(bW,"draw-shape",n=>[n.mode(),n.creation.shape()]);xr(bW,n=>n.mode());const dee=(n,r,l="primary")=>BD(n,{name:"moving-view"},d=>{n.nodes.app.classList.add("moving"),v8(n,r,{start:g=>g,move:(g,v)=>{const x=hC(v,g);return n.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{n.nodes.app.classList.remove("moving"),d()}},l)});xr(vC,"scroll",dee);const y8=(n,r,l)=>{[].slice.call(n.nodes.layers.foreground.children).forEach(d=>d.classList.remove("active")),q1e(n.nodes.layers.foreground,n.nodes.layers.normal),r.forEach(d=>{const g=d.nodes.root;g.classList.add("active"),mm(n.nodes.layers.foreground,g)}),l!==A1&&r.forEach(d=>n.emit.selectMark(d.mark,l))},fee=(n,r,l)=>BD(n,{name:"selecting-multiple"},d=>{y8(n,r,l),d()}),mee=(n,r)=>n.groups[r]||aE(`Mark with key ${r} does not exist.`),ML=(n,r,l)=>fee(n,r.map(d=>mee(n,d)),l),yW=(n,r,l)=>{hD(!n.groups[r.key],`Duplicated key: ${r.key}`);const d=d0e(r);x0e(n,d),n.groups[r.key]=d,l!==A1&&n.emit.createMark(r,l)},x8=(n,r)=>{const l=mee(n,r.key),d=YQ(l.mark,r);l.mark=r,j1e(["shape"],d)?(l.nodes.shape.remove(),l.nodes.shape=see(l.mark),iee(n,l)):u0e(l.mark,d,l)},gee=n=>Xk(n.nodes.svg,{...D1e(gD(n.canvas.scale(),R1e(n.canvas.size()))),viewBox:[0,0,n.canvas.size().width,n.canvas.size().height].join(" ")}),O1=(n,r)=>gD(1/n.canvas.scale(),hC(r,n.nodes.svg.getBoundingClientRect())),D0e=(n,r,l)=>{const d=y0e(n,(S,M)=>r(Fk(S),M),(S,M)=>l(S?Fk(S):null,M));T0e(d);const g=S=>yW(d,Fk(S),A1),v=S=>{d.groups[S].nodes.root.remove(),z1e(d.groups,S)},x=S=>{d.canvas.scale(S),gee(d)};return{showPage:(S,M)=>{g0e(d,S),mm(d.nodes.layers.background,d.nodes.backgroundImage),d.canvas.scale(1),Object.values(d.groups).forEach(R=>v(R.mark.key)),M.forEach(g)},addMark:g,removeMark:v,selectMark:S=>ML(d,[S],A1),selectMarks:S=>ML(d,S,A1),updateMark:S=>x8(d,Fk(S)),setDefaultColor:S=>d.creation.color(S),setDefaultSelectedColor:S=>d.creation.selectedColor(S),setDefaultShape:S=>d.creation.shape(S),setZoomLevel:x,fitToPage:()=>{if(d.canvas.size()){const S=L1e(d.canvas.size(),d.nodes.app.getBoundingClientRect());x(S.width/d.canvas.size().width)}},drawMode:()=>d.mode("draw-shape"),scrollMode:()=>d.mode("scroll")}},R0e={id:"app-essay-image-wrapper"},I0e={class:"appImageButtons"},N0e={class:"appImageBottomNav"},P0e={__name:"EssayImage",setup(n){const r=ps(),l=Ou(),d=xc(),g=OL();wc();const v=Uy(),x=Mn(),S=Mn("scroll"),M=Mn(!1),R=Mn(0),I=Mn(!0);let L,$="",G=[];Iu(()=>{L=D0e(x.value,X,ne),L.setDefaultColor("#3365ffaa"),L.setDefaultSelectedColor("#3365ffaa"),Ee(),ce(g.minPage)});async function X(O){if(O&&!d.isOwnDisabled){const Ke=new am(O);switch(S.value){case"check":Ke.symbol=am.SYMBOL_CHECK;break;case"cross":Ke.symbol=am.SYMBOL_CROSS;break;case"question":Ke.symbol=am.SYMBOL_QUESTION;break}if(G.push(O.key),!l.getCommentByMarkKey(O.key)){const ct=l.selectedComment;if(ct&&ct.parent_number==g.selectedPageNo)ct.addMarkData(Ke),await l.updateComment(ct,!0);else{const $t=new nC({parent_number:g.selectedPageNo,marks:[Ke]});await l.addComment($t)}}}}function ne(O,Ke){if(console.log(Date.now(),"onSelection",O,Ke),O){let ct=l.getCommentByMarkKey(O.key);if(ct){l.selectComment(ct.key);const $t=ct.getData();if(ct.corrector_key==r.correctorKey&&!d.isOwnDisabled){O.symbol=O.symbol==""?null:O.symbol,ct.updateMarkData(O);const Jt=ct.getData();JSON.stringify($t)!=JSON.stringify(Jt)&&l.updateComment(ct,!0)}else{const Jt=ct.getMarkByKey(O.key);if(Jt){const et={...Jt.getData(),label:I.value?ct.label:"",color:ct.getMarkColor(Jt),selectedColor:ct.getMarkSelectedColor(Jt),locked:ct.corrector_key!=r.correctorKey||d.isOwnDisabled};L.updateMark(et)}}}}else{const ct=l.selectedComment;Ke&&Ke.shiftKey&&ct&&ct.parent_number==g.selectedPageNo||l.selectComment("")}}function ce(O){if(g.selectByPageNo(O)){const Ke=g.getPageByPageNo(O);if(Ke){Ke.url?(L.showPage(Ke.url,[]),$=Ke.url):(L.showPage("",[]),$="");try{L.setZoomLevel(v.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,G=[],he(),R.value=O}}}function le(){const O=g.selectedPage;O&&O.url!=$&&ce(O.page_no)}zn(()=>g.loadedImages,le);function Me(){const O=l.getComment(l.selectedKey);O&&O.parent_number!=g.selectedPageNo&&ce(O.parent_number),he()}zn(()=>l.selectionChange,Me);function he(){let O=[];for(const Ke of l.activeComments)if(Ke.parent_number==g.selectedPageNo){let ct=[];for(const $t of Ke.marks){const Jt={...$t.getData(),label:I.value?Ke.label:"",color:Ke.getMarkColor($t),selectedColor:Ke.getMarkSelectedColor($t),locked:Ke.corrector_key!=r.correctorKey||d.isOwnDisabled};G.includes($t.key)?L.updateMark(Jt):L.addMark(Jt),O.push($t.key),ct.push($t.key)}Ke.key==l.selectedKey&&L.selectMarks(ct)}for(const Ke of G)O.includes(Ke)||L.removeMark(Ke);G=O}zn(()=>l.markerChange,he),zn(()=>l.filterChange,he);function K(){let O=l.getActiveCommentsByParentNumber(g.selectedPageNo);if(O.length){let Ke=O.shift();l.setFirstVisibleComment(Ke.key)}}zn(()=>g.selectedKey,K);function ye(){g.selectedPageNo>g.minPage&&ce(g.selectedPageNo-1)}function ae(){g.selectedPageNo<g.maxPage&&ce(g.selectedPageNo+1)}function Ue(O){M.value=!1,ce(O)}async function We(){M.value&&(await Fs(),await new Promise(Ke=>setTimeout(Ke,250)),document.getElementById("app-pages-menu-input").select())}function qe(){v.zoomEssayPageIn(),L.setZoomLevel(v.essay_page_zoom)}function st(){v.zoomEssayPageOut(),L.setZoomLevel(v.essay_page_zoom)}function Ee(){switch(d.isOwnDisabled&&(S.value="scroll"),S.value){case"scroll":L.scrollMode();break;case"rectangle":L.drawMode(),L.setDefaultShape(js.RECTANGLE);break;case"line":L.drawMode(),L.setDefaultShape(js.LINE);break;case"wave":L.drawMode(),L.setDefaultShape(js.WAVE);break;case"polygon":L.drawMode(),L.setDefaultShape(js.POLYGON);break;case"circle":case"check":case"cross":case"question":L.drawMode(),L.setDefaultShape(js.CIRCLE);break}}function Le(){I.value==1?I.value=0:I.value=1,he()}return(O,Ke)=>(Ln(),ds("div",R0e,[ke("div",I0e,[j(_1,{density:"comfortable",variant:"outlined",divided:""},{default:At(()=>[j(xo,{size:"small",icon:"mdi-magnify-minus-outline",onClick:Ke[0]||(Ke[0]=ct=>st())}),j(xo,{size:"small",icon:"mdi-magnify-plus-outline",onClick:Ke[1]||(Ke[1]=ct=>qe())})]),_:1}),Ke[13]||(Ke[13]=Qr("  ")),j(Uhe,{density:"comfortable",variant:"outlined",divided:"",modelValue:S.value,"onUpdate:modelValue":Ke[2]||(Ke[2]=ct=>S.value=ct),onClick:Ke[3]||(Ke[3]=ct=>Ee())},{default:At(()=>[j(xo,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),j(xo,{disabled:re(d).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),Ke[14]||(Ke[14]=Qr("  ")),j(_1,{density:"comfortable",variant:"outlined",divided:""},{default:At(()=>[j(xo,{size:"small",active:I.value,icon:"mdi-label-outline",onClick:Ke[4]||(Ke[4]=ct=>Le())},null,8,["active"])]),_:1}),Ke[15]||(Ke[15]=Qr("  ")),j(_1,{density:"comfortable",variant:"outlined",divided:""},{default:At(()=>[j(xo,{size:"small",icon:"mdi-menu-left",onClick:Ke[5]||(Ke[5]=ct=>ye())}),j(xo,{size:"small",id:"app-pages-menu-activator"},{default:At(()=>[Qr(zo(re(g).selectedPageNo),1)]),_:1}),j(xo,{size:"small",icon:"mdi-menu-right",onClick:Ke[6]||(Ke[6]=ct=>ae())})]),_:1}),j(g8,{activator:"#app-pages-menu-activator",modelValue:M.value,"onUpdate:modelValue":[Ke[9]||(Ke[9]=ct=>M.value=ct),Ke[10]||(Ke[10]=ct=>We())],"close-on-content-click":!1},{default:At(()=>[j(cD,null,{default:At(()=>[j(bc,null,{default:At(()=>[j(uD,{id:"app-pages-menu-input",modelValue:R.value,"onUpdate:modelValue":Ke[7]||(Ke[7]=ct=>R.value=ct),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:Ke[8]||(Ke[8]=ct=>Ue(R.value))},null,8,["modelValue"])]),_:1}),(Ln(!0),ds(us,null,uC(re(g).currentPages,ct=>(Ln(),rr(bc,{onClick:$t=>Ue(ct.page_no),title:ct.page_no,key:ct.key},{default:At(()=>[Zn(j(PD,{src:ct.thumb_url,width:"100"},null,8,["src"]),[[Ao,ct.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),ke("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),ke("div",N0e,[j(_1,{variant:"outlined",divided:""},{default:At(()=>[j(xo,{disabled:re(g).selectedPageNo<=re(g).minPage,size:"small",icon:"mdi-menu-left",onClick:Ke[11]||(Ke[11]=ct=>ye())},null,8,["disabled"]),j(xo,{disabled:re(g).selectedPageNo>=re(g).maxPage,size:"small",icon:"mdi-menu-right",onClick:Ke[12]||(Ke[12]=ct=>ae())},null,8,["disabled"])]),_:1})])]))}},M0e=$l(P0e,[["__scopeId","data-v-9d4afded"]]),B0e={class:"sr-only"},L0e={"aria-hidden":"true"},F0e={class:"text-right"},V0e={class:"sr-only"},z0e={"aria-hidden":"true"},H0e={class:"text-right"},$0e={class:"text-right"},U0e={class:"sr-only"},W0e={"aria-hidden":"true"},Z0e={class:"text-right"},j0e={class:"text-right"},K0e={__name:"SummaryCriteria",props:["corrector_key"],setup(n){const r=ps(),l=Uh(),d=Ou(),g=E1(),v=wc(),x=um(),S=n;zn(()=>S,L),zn(()=>r.itemKey,L);const M=ec({}),R=Mn(0),I=Mn(0);async function L(){await Fs(),R.value=0,I.value=0,l.getCorrectorCriteria(S.corrector_key).forEach(ce=>{M[ce.key]={key:ce.key,title:ce.title,max_points:ce.points,sum_points:0},I.value+=ce.points}),g.getObjectsByCommentKeys(d.getKeysOfCorrector(S.corrector_key)).forEach(ce=>{M[ce.criterion_key]!==void 0&&(M[ce.criterion_key].sum_points+=ce.points),R.value+=ce.points})}l.getCorrectorHasCriteria(S.corrector_key)&&L();function $(ce){return d.getPointsOfCorrector(S.corrector_key)>x.max_points?"red":"black"}async function G(ce,le){d.setFilterByRating(S.corrector_key,ce,le),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}async function X(){d.setFilterByPoints(S.corrector_key),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}async function ne(ce){d.setFilterByCriterion(S.corrector_key,ce),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}return(ce,le)=>(Ln(),ds("div",null,[j(w1,{class:"table",density:"compact"},{default:At(()=>[le[3]||(le[3]=ke("thead",null,[ke("tr",null,[ke("th",null,"Markierung"),ke("th",{class:"text-right"},"Anzahl")])],-1)),ke("tbody",null,[ke("tr",null,[ke("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(d).getCountOfExcellent(S.corrector_key)==0,onClick:le[0]||(le[0]=Me=>G(!0,!1))},{default:At(()=>[ke("span",B0e,zo(re(x).positive_rating),1)]),_:1},8,["disabled"]),ke("span",L0e,zo(re(x).positive_rating),1)]),ke("td",F0e,zo(re(d).getCountOfExcellent(S.corrector_key)),1)]),ke("tr",null,[ke("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(d).getCountOfCardinal(S.corrector_key)==0,onClick:le[1]||(le[1]=Me=>G(!1,!0))},{default:At(()=>[ke("span",V0e,zo(re(x).negative_rating),1)]),_:1},8,["disabled"]),ke("span",z0e,zo(re(x).negative_rating),1)]),ke("td",H0e,zo(re(d).getCountOfCardinal(S.corrector_key)),1)])])]),_:1}),re(l).getCorrectorHasCriteria(S.corrector_key)?Ts("",!0):(Ln(),rr(w1,{key:0,class:"table",density:"compact"},{default:At(()=>[le[6]||(le[6]=ke("thead",null,[ke("tr",null,[ke("th",null,[ke("strong",null,"Bewertung")]),ke("th",{class:"text-right"},"Punkte / max")])],-1)),ke("tbody",null,[ke("tr",null,[ke("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(d).getPointsOfCorrector(S.corrector_key)==0,onClick:le[2]||(le[2]=Me=>X(!0))},{default:At(()=>le[4]||(le[4]=[ke("span",{class:"sr-only"},"Punkte in Kommentaren",-1)])),_:1},8,["disabled"]),le[5]||(le[5]=ke("span",{"aria-hidden":"true"},"Punkte in Kommentaren",-1))]),ke("td",$0e,[ke("span",{style:Uk("color: "+$()+";")},zo(re(d).getPointsOfCorrector(S.corrector_key))+" / "+zo(re(x).max_points),5)])])])]),_:1})),re(l).getCorrectorHasCriteria(S.corrector_key)?(Ln(),rr(w1,{key:1,class:"table",density:"compact"},{default:At(()=>[le[8]||(le[8]=ke("thead",null,[ke("tr",null,[ke("th",null,"Kriterium"),ke("th",{class:"text-right"},"Punkte / max")])],-1)),ke("tbody",null,[(Ln(!0),ds(us,null,uC(M,Me=>(Ln(),ds("tr",{key:Me.key},[ke("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Me.sum_points==0,onClick:he=>ne(Me.key)},{default:At(()=>[ke("span",U0e,zo(Me.title),1)]),_:2},1032,["disabled","onClick"]),ke("span",W0e,zo(Me.title),1)]),ke("td",Z0e,zo(Me.sum_points)+" / "+zo(Me.max_points),1)]))),128)),ke("tr",null,[le[7]||(le[7]=ke("td",null,[ke("strong",null,"Summe")],-1)),ke("td",j0e,[ke("strong",null,zo(R.value)+" / "+zo(I.value),1)])])])]),_:1})):Ts("",!0)]))}},hee=$l(K0e,[["__scopeId","data-v-7890efa0"]]),G0e={id:"app-own-summary-points-wrapper"},q0e=["disabled","max"],Y0e={__name:"OwnSummaryPoints",setup(n){const r=ps(),l=mv(),d=xc(),g=um();return(v,x)=>(Ln(),ds("div",G0e,[x[3]||(x[3]=ke("label",{for:"appOwnSummaryPoints"},[ke("strong",null,"Bewertung:")],-1)),x[4]||(x[4]=Qr("  ")),Zn(ke("input",{disabled:re(d).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:re(g).max_points,"onUpdate:modelValue":x[0]||(x[0]=S=>re(d).editSummary.points=S)},null,8,q0e),[[jy,re(d).editSummary.points]]),x[5]||(x[5]=Qr(" Punkte  ")),x[6]||(x[6]=ke("strong",null,"Notenstufe:",-1)),Qr(" "+zo(re(d).currentGradeTitle)+" ",1),Zn(j(xo,{variant:"text",disabled:!re(l).authorizationAllowed,onClick:x[1]||(x[1]=S=>re(r).setShowAuthorization(!0))},{default:At(()=>[j(Gn,{left:"",icon:"mdi-file-certificate-outline"}),x[2]||(x[2]=ke("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[Ao,!re(d).isOwnDisabled]]),re(g).inclusionsPossible?(Ln(),rr(LQ,{key:0})):Ts("",!0)]))}},X0e=$l(Y0e,[["__scopeId","data-v-4a1217f3"]]);var pee={exports:{}};(function(n){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},g=function(e,t){return v(function(o,i){return e.eq(t(o),t(i))})},v=function(e){return{eq:e}},x=v(function(e,t){return e===t}),S=x,M=function(e){return v(function(t,o){if(t.length!==o.length)return!1;for(var i=t.length,c=0;c<i;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},R=function(e,t){return g(M(e),function(o){return d(o,t)})},I=function(e){return v(function(t,o){var i=Object.keys(t),c=Object.keys(o);if(!R(S).eq(i,c))return!1;for(var m=i.length,h=0;h<m;h++){var C=i[h];if(!e.eq(t[C],o[C]))return!1}return!0})},L=v(function(e,t){if(e===t)return!0;var o=r(e),i=r(t);return o!==i?!1:l(o)?e===t:o==="array"?M(L).eq(e,t):o==="object"?I(L).eq(e,t):!1});const $=Object.getPrototypeOf,G=(e,t,o)=>{var i;return o(e,t.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===t.name},X=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&G(e,String,(o,i)=>i.isPrototypeOf(o))?"string":t},ne=e=>t=>X(t)===e,ce=e=>t=>typeof t===e,le=e=>t=>e===t,Me=(e,t)=>K(e)&&G(e,t,(o,i)=>$(o)===i),he=ne("string"),K=ne("object"),ye=e=>Me(e,Object),ae=ne("array"),Ue=le(null),We=ce("boolean"),qe=le(void 0),st=e=>e==null,Ee=e=>!st(e),Le=ce("function"),O=ce("number"),Ke=(e,t)=>{if(ae(e)){for(let o=0,i=e.length;o<i;++o)if(!t(e[o]))return!1;return!0}return!1},ct=()=>{},$t=(e,t)=>(...o)=>e(t.apply(null,o)),Jt=(e,t)=>o=>e(t(o)),et=e=>()=>e,pt=e=>e,Lt=(e,t)=>e===t;function tt(e,...t){return(...o)=>{const i=t.concat(o);return e.apply(null,i)}}const Ye=e=>t=>!e(t),Mt=e=>()=>{throw new Error(e)},oo=e=>e(),Fn=e=>{e()},fn=et(!1),_n=et(!0);class Q{constructor(t,o){this.tag=t,this.value=o}static some(t){return new Q(!0,t)}static none(){return Q.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?Q.some(t(this.value)):Q.none()}bind(t){return this.tag?t(this.value):Q.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:Q.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ee(t)?Q.some(t):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const xs=Array.prototype.slice,eo=Array.prototype.indexOf,tn=Array.prototype.push,Oo=(e,t)=>eo.call(e,t),je=(e,t)=>{const o=Oo(e,t);return o===-1?Q.none():Q.some(o)},ie=(e,t)=>Oo(e,t)>-1,xe=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return!0}return!1},Be=(e,t)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const m=e[c];i[c]=t(m,c)}return i},pe=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];t(c,o)}},gt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];t(i,o)}},zt=(e,t)=>{const o=[],i=[];for(let c=0,m=e.length;c<m;c++){const h=e[c];(t(h,c)?o:i).push(h)}return{pass:o,fail:i}},vt=(e,t)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const m=e[i];t(m,i)&&o.push(m)}return o},Ft=(e,t,o)=>(gt(e,(i,c)=>{o=t(o,i,c)}),o),Vt=(e,t,o)=>(pe(e,(i,c)=>{o=t(o,i,c)}),o),wn=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++){const m=e[i];if(t(m,i))return Q.some(m);if(o(m,i))break}return Q.none()},cn=(e,t)=>wn(e,t,fn),An=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return Q.some(o)}return Q.none()},On=e=>{const t=[];for(let o=0,i=e.length;o<i;++o){if(!ae(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);tn.apply(t,e[o])}return t},wo=(e,t)=>On(Be(e,t)),Do=(e,t)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},$o=e=>{const t=xs.call(e,0);return t.reverse(),t},cs=(e,t)=>vt(e,o=>!ie(t,o)),ar=(e,t)=>{const o={};for(let i=0,c=e.length;i<c;i++){const m=e[i];o[String(m)]=t(m,i)}return o},fs=(e,t)=>{const o=xs.call(e,0);return o.sort(t),o},Ar=(e,t)=>t>=0&&t<e.length?Q.some(e[t]):Q.none(),hn=e=>Ar(e,0),Eo=e=>Ar(e,e.length-1),vo=Le(Array.from)?Array.from:e=>xs.call(e),or=(e,t)=>{for(let o=0;o<e.length;o++){const i=t(e[o],o);if(i.isSome())return i}return Q.none()},ea=(e,t)=>{const o=[],i=Le(t)?c=>xe(o,m=>t(m,c)):c=>ie(o,c);for(let c=0,m=e.length;c<m;c++){const h=e[c];i(h)||o.push(h)}return o},Kt=Object.keys,gi=Object.hasOwnProperty,rs=(e,t)=>{const o=Kt(e);for(let i=0,c=o.length;i<c;i++){const m=o[i],h=e[m];t(h,m)}},Ul=(e,t)=>$s(e,(o,i)=>({k:i,v:t(o,i)})),$s=(e,t)=>{const o={};return rs(e,(i,c)=>{const m=t(i,c);o[m.k]=m.v}),o},ei=e=>(t,o)=>{e[o]=t},bm=(e,t,o,i)=>{rs(e,(c,m)=>{(t(c,m)?o:i)(c,m)})},Pu=(e,t)=>{const o={},i={};return bm(e,t,ei(o),ei(i)),{t:o,f:i}},_c=(e,t)=>{const o={};return bm(e,t,ei(o),ct),o},ul=(e,t)=>{const o=[];return rs(e,(i,c)=>{o.push(t(i,c))}),o},Mu=e=>ul(e,pt),Os=(e,t)=>ao(e,t)?Q.from(e[t]):Q.none(),ao=(e,t)=>gi.call(e,t),Wl=(e,t)=>ao(e,t)&&e[t]!==void 0&&e[t]!==null,Ti=(e,t,o=L)=>I(o).eq(e,t),Bu=e=>{const t={};return pe(e,o=>{t[o]={}}),Kt(t)},rn=e=>e.length!==void 0,Lu=Array.isArray,ym=e=>{if(Lu(e))return e;{const t=[];for(let o=0,i=e.length;o<i;o++)t[o]=e[o];return t}},hr=(e,t,o)=>{if(!e)return!1;if(o=o||e,rn(e)){for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(ao(e,i)&&t.call(o,e[i],i,e)===!1)return!1;return!0},xm=(e,t)=>{const o=[];return hr(e,(i,c)=>{o.push(t(i,c,e))}),o},Ga=(e,t)=>{const o=[];return hr(e,(i,c)=>{(!t||t(i,c,e))&&o.push(i)}),o},Ol=(e,t)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===t)return o}return-1},dl=(e,t,o,i)=>{let c=qe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=t.call(i,c,e[m],m);return c},lr=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e))return i;return-1},Ca=e=>e[e.length-1],Dl=e=>{let t=!1,o;return(...i)=>(t||(t=!0,o=e.apply(null,i)),o)},wm=(e,t,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),C=h||i("(pointer:coarse)"),A=c||!m&&h&&i("(min-device-width:768px)"),V=m||h&&!A,Z=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Y=!V&&!A&&!Z;return{isiPad:et(c),isiPhone:et(m),isTablet:et(A),isPhone:et(V),isTouch:et(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:et(Z),isDesktop:et(Y)}},qc=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(t))return i}},Yc=(e,t)=>{const o=qc(e,t);if(!o)return{major:0,minor:0};const i=c=>Number(t.replace(o,"$"+c));return is(i(1),i(2))},df=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?kd():Yc(e,o)},kd=()=>is(0,0),is=(e,t)=>({major:e,minor:t}),Br={nu:is,detect:df,unknown:kd},ii=(e,t)=>or(t.brands,o=>{const i=o.brand.toLowerCase();return cn(e,c=>{var m;return i===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Br.nu(parseInt(o.version,10),0)}))}),Cm=(e,t)=>{const o=String(t).toLowerCase();return cn(e,i=>i.search(o))},qa=(e,t)=>Cm(e,t).map(o=>{const i=Br.detect(o.versionRegexes,t);return{current:o.name,version:i}}),Xc=(e,t)=>Cm(e,t).map(o=>{const i=Br.detect(o.versionRegexes,t);return{current:o.name,version:i}}),_a=(e,t)=>e.substring(t),Sa=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Jc=(e,t)=>cr(e,t)?_a(e,t.length):e,Ns=(e,t,o=0,i)=>{const c=e.indexOf(t,o);return c!==-1?qe(i)?!0:c+t.length<=i:!1},cr=(e,t)=>Sa(e,t,0),Te=(e,t)=>Sa(e,t,e.length-t.length),nt=e=>t=>t.replace(e,""),Ne=nt(/^\s+|\s+$/g),mt=nt(/^\s+/g),ut=nt(/\s+$/g),Je=e=>e.length>0,Wt=e=>!Je(e),nn=(e,t)=>t<=0?"":new Array(t+1).join(e),un=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?Q.none():Q.some(o)},vn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>Ns(t,e),ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ns(e,"edge/")&&Ns(e,"chrome")&&Ns(e,"safari")&&Ns(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vn],search:e=>Ns(e,"chrome")&&!Ns(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ns(e,"msie")||Ns(e,"trident")},{name:"Opera",versionRegexes:[vn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[vn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ns(e,"safari")||Ns(e,"mobile/"))&&Ns(e,"applewebkit")}],sn=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ns(e,"iphone")||Ns(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ks={browsers:et(ho),oses:et(sn)},Mo="Edge",jo="Chromium",Tr="IE",_o="Opera",Rl="Firefox",ta="Safari",co=()=>Ya({current:void 0,version:Br.unknown()}),Ya=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isEdge:i(Mo),isChromium:i(jo),isIE:i(Tr),isOpera:i(_o),isFirefox:i(Rl),isSafari:i(ta)}},fl={unknown:co,nu:Ya,edge:et(Mo),chromium:et(jo),ie:et(Tr),opera:et(_o),firefox:et(Rl),safari:et(ta)},wr="Windows",Ed="iOS",Hr="Android",ff="Linux",Il="macOS",ws="Solaris",Fu="FreeBSD",_m="ChromeOS",Jh=()=>Or({current:void 0,version:Br.unknown()}),Or=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isWindows:i(wr),isiOS:i(Ed),isAndroid:i(Hr),isMacOS:i(Il),isLinux:i(ff),isSolaris:i(ws),isFreeBSD:i(Fu),isChromeOS:i(_m)}},Sc={unknown:Jh,nu:Or,windows:et(wr),ios:et(Ed),android:et(Hr),linux:et(ff),macos:et(Il),solaris:et(ws),freebsd:et(Fu),chromeos:et(_m)},Xs={detect:(e,t,o)=>{const i=ks.browsers(),c=ks.oses(),m=t.bind(A=>ii(i,A)).orThunk(()=>qa(i,e)).fold(fl.unknown,fl.nu),h=Xc(c,e).fold(Sc.unknown,Sc.nu),C=wm(h,m,e,o);return{browser:m,os:h,deviceType:C}}},Sm=e=>window.matchMedia(e).matches;let Nl=Dl(()=>Xs.detect(window.navigator.userAgent,Q.from(window.navigator.userAgentData),Sm));const na=()=>Nl(),Mg=window.navigator.userAgent,Oi=na(),Xa=Oi.browser,oa=Oi.os,Pl=Oi.deviceType,Qh=Mg.indexOf("Windows Phone")!==-1,Bo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xa.isIE(),windowsPhone:Qh,browser:{current:Xa.current,version:Xa.version,isChromium:Xa.isChromium,isEdge:Xa.isEdge,isFirefox:Xa.isFirefox,isIE:Xa.isIE,isOpera:Xa.isOpera,isSafari:Xa.isSafari},os:{current:oa.current,version:oa.version,isAndroid:oa.isAndroid,isChromeOS:oa.isChromeOS,isFreeBSD:oa.isFreeBSD,isiOS:oa.isiOS,isLinux:oa.isLinux,isMacOS:oa.isMacOS,isSolaris:oa.isSolaris,isWindows:oa.isWindows},deviceType:{isDesktop:Pl.isDesktop,isiPad:Pl.isiPad,isiPhone:Pl.isiPhone,isPhone:Pl.isPhone,isTablet:Pl.isTablet,isTouch:Pl.isTouch,isWebView:Pl.isWebView}},Qc=/^\s*|\s*$/g,Ad=e=>st(e)?"":(""+e).replace(Qc,""),Vu=(e,t)=>t?t==="array"&&Lu(e)?!0:typeof e===t:e!==void 0,Sv=(e,t,o={})=>{const i=he(e)?e.split(t||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},tx=ao,L1=(e,...t)=>{for(let o=0;o<t.length;o++){const i=t[o];for(const c in i)if(ao(i,c)){const m=i[c];m!==void 0&&(e[c]=m)}}return e},F1=function(e,t,o,i){i=i||this,e&&(o&&(e=e[o]),hr(e,(c,m)=>t.call(i,c,m,o)===!1?!1:(F1(c,t,o,i),!0)))},Xt={trim:Ad,isArray:Lu,is:Vu,toArray:ym,makeMap:Sv,each:hr,map:xm,grep:Ga,inArray:Ol,hasOwn:tx,extend:L1,walk:F1,resolve:(e,t=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(t=t[o[i]],!!t);i++);return t},explode:(e,t)=>ae(e)?e:e===""?[]:xm(e.split(t||","),Ad),_addCacheSuffix:e=>{const t=Bo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},mf=(e,t,o=Lt)=>e.exists(i=>o(i,t)),gf=(e,t,o=Lt)=>sa(e,t,o).getOr(e.isNone()&&t.isNone()),z1=e=>{const t=[],o=i=>{t.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return t},sa=(e,t,o)=>e.isSome()&&t.isSome()?Q.some(o(e.getOrDie(),t.getOrDie())):Q.none(),hf=(e,t,o,i)=>e.isSome()&&t.isSome()&&o.isSome()?Q.some(i(e.getOrDie(),t.getOrDie(),o.getOrDie())):Q.none(),Bg=(e,t)=>e?Q.some(t):Q.none(),nx=typeof window<"u"?window:Function("return this;")(),ox=(e,t)=>{let o=t??nx;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},kv=(e,t)=>{const o=e.split(".");return ox(o,t)},sx=(e,t)=>kv(e,t),H1=(e,t)=>{const o=sx(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},rx=Object.getPrototypeOf,Lg=e=>H1("HTMLElement",e),$1=e=>{const t=kv("ownerDocument.defaultView",e);return K(e)&&(Lg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(rx(e).constructor.name))},pf=8,vf=9,ra=11,gl=1,Fg=3,qo=e=>e.dom.nodeName.toLowerCase(),Td=e=>e.dom.nodeType,Vg=e=>t=>Td(t)===e,zg=e=>Td(e)===pf||qo(e)==="#comment",Na=e=>$r(e)&&$1(e.dom),$r=Vg(gl),ur=Vg(Fg),$i=Vg(vf),Js=Vg(ra),bf=e=>t=>$r(t)&&qo(t)===e,km=(e,t,o)=>{if(he(o)||We(o)||O(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},xi=(e,t,o)=>{km(e.dom,t,o)},Pa=(e,t)=>{const o=e.dom;rs(t,(i,c)=>{km(o,c,i)})},ka=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},eu=(e,t)=>Q.from(ka(e,t)),Od=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Ro=(e,t)=>{e.dom.removeAttribute(t)},ai=e=>{const t=e.dom.attributes;return t==null||t.length===0},hl=e=>Vt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Dd=(e,t)=>{const o=ka(e,t);return o===void 0||o===""?[]:o.split(" ")},Ui=(e,t,o)=>{const c=Dd(e,t).concat([o]);return xi(e,t,c.join(" ")),!0},Bn=(e,t,o)=>{const i=vt(Dd(e,t),c=>c!==o);return i.length>0?xi(e,t,i.join(" ")):Ro(e,t),!1},kc=e=>e.dom.classList!==void 0,Ec=e=>Dd(e,"class"),Es=(e,t)=>Ui(e,"class",t),tp=(e,t)=>Bn(e,"class",t),Ev=(e,t)=>ie(Ec(e),t)?tp(e,t):Es(e,t),Rd=(e,t)=>{kc(e)?e.dom.classList.add(t):Es(e,t)},Lo=e=>{(kc(e)?e.dom.classList:Ec(e)).length===0&&Ro(e,"class")},Ma=(e,t)=>{kc(e)?e.dom.classList.remove(t):tp(e,t),Lo(e)},np=(e,t)=>{const o=kc(e)?e.dom.classList.toggle(t):Ev(e,t);return Lo(e),o},Id=(e,t)=>kc(e)&&e.dom.classList.contains(t),Av=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return nu(i.childNodes[0])},tu=(e,t)=>{const i=(t||document).createElement(e);return nu(i)},Ja=(e,t)=>{const i=(t||document).createTextNode(e);return nu(i)},nu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Fe={fromHtml:Av,fromTag:tu,fromText:Ja,fromDom:nu,fromPoint:(e,t,o)=>Q.from(e.dom.elementFromPoint(t,o)).map(nu)},Em=(e,t)=>{const o=[],i=m=>(o.push(m),t(m));let c=t(e);do c=c.bind(i);while(c.isSome());return o},Ps=(e,t)=>{const o=e.dom;if(o.nodeType!==gl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(t);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(t);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Tv=e=>e.nodeType!==gl&&e.nodeType!==vf&&e.nodeType!==ra||e.childElementCount===0,Hg=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?[]:Be(o.querySelectorAll(e),Fe.fromDom)},ou=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?Q.none():Q.from(o.querySelector(e)).map(Fe.fromDom)},Yo=(e,t)=>e.dom===t.dom,ia=(e,t)=>{const o=e.dom,i=t.dom;return o===i?!1:o.contains(i)},zu=e=>Fe.fromDom(e.dom.ownerDocument),nc=e=>$i(e)?e:zu(e),Hu=e=>Fe.fromDom(nc(e).dom.documentElement),$u=e=>Fe.fromDom(nc(e).dom.defaultView),aa=e=>Q.from(e.dom.parentNode).map(Fe.fromDom),xf=e=>Q.from(e.dom.parentElement).map(Fe.fromDom),Am=(e,t)=>{const o=Le(t)?t:fn;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,h=Fe.fromDom(m);if(c.push(h),o(h)===!0)break;i=m}return c},Ov=e=>{const t=o=>vt(o,i=>!Yo(e,i));return aa(e).map(la).map(t).getOr([])},wi=e=>Q.from(e.dom.previousSibling).map(Fe.fromDom),Wn=e=>Q.from(e.dom.nextSibling).map(Fe.fromDom),Uu=e=>$o(Em(e,wi)),Tm=e=>Em(e,Wn),la=e=>Be(e.dom.childNodes,Fe.fromDom),Wu=(e,t)=>{const o=e.dom.childNodes;return Q.from(o[t]).map(Fe.fromDom)},Ml=e=>Wu(e,0),Zu=e=>Wu(e,e.dom.childNodes.length-1),Nd=e=>e.dom.childNodes.length,Ci=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Fe.fromDom(t)},oc=e=>Js(e)&&Ee(e.dom.host),su=e=>Fe.fromDom(e.dom.getRootNode()),Om=e=>oc(e)?e:Ci(nc(e)),U1=e=>oc(e)?e:Fe.fromDom(nc(e).dom.body),ju=e=>{const t=su(e);return oc(t)?Q.some(t):Q.none()},wf=e=>Fe.fromDom(e.dom.host),Dv=e=>{if(Ee(e.target)){const t=Fe.fromDom(e.target);if($r(t)&&Cr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return hn(o)}}return Q.from(e.target)},Cr=e=>Ee(e.dom.shadowRoot),Ba=e=>{const t=ur(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return ju(Fe.fromDom(t)).fold(()=>o.body.contains(t),Jt(Ba,wf))};var Ea=(e,t,o,i,c)=>e(o,i)?Q.some(o):Le(c)&&c(o)?Q.none():t(o,i,c);const Qa=(e,t,o)=>{let i=e.dom;const c=Le(o)?o:fn;for(;i.parentNode;){i=i.parentNode;const m=Fe.fromDom(i);if(t(m))return Q.some(m);if(c(m))break}return Q.none()},hi=(e,t,o)=>Ea((c,m)=>m(c),Qa,e,t,o),op=(e,t)=>{const o=e.dom;return o.parentNode?li(Fe.fromDom(o.parentNode),i=>!Yo(e,i)&&t(i)):Q.none()},li=(e,t)=>{const o=c=>t(Fe.fromDom(c));return cn(e.dom.childNodes,o).map(Fe.fromDom)},Wi=(e,t)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const m=Fe.fromDom(i.childNodes[c]);if(t(m))return Q.some(m);const h=o(i.childNodes[c]);if(h.isSome())return h}return Q.none()};return o(e.dom)},ru=(e,t,o)=>Qa(e,i=>Ps(i,t),o),Dt=(e,t)=>ou(t,e),Zi=(e,t,o)=>Ea((c,m)=>Ps(c,m),ru,e,t,o),sp=e=>Zi(e,"[contenteditable]"),_r=(e,t=!1)=>Ba(e)?e.dom.isContentEditable:sp(e).fold(et(t),o=>Ku(o)==="true"),Ku=e=>e.dom.contentEditable,La=e=>e.style!==void 0&&Le(e.style.getPropertyValue),Ac=(e,t,o)=>{if(!he(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);La(e)&&e.style.setProperty(t,o)},Dm=(e,t)=>{La(e)&&e.style.removeProperty(t)},el=(e,t,o)=>{const i=e.dom;Ac(i,t,o)},Ko=(e,t)=>{const o=e.dom;rs(t,(i,c)=>{Ac(o,c,i)})},Ur=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!Ba(e)?Cf(o,t):c},Cf=(e,t)=>La(e)?e.style.getPropertyValue(t):"",Lr=(e,t)=>{const o=e.dom,i=Cf(o,t);return Q.from(i).filter(c=>c.length>0)},$g=e=>{const t={},o=e.dom;if(La(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);t[c]=o.style[c]}return t},iu=(e,t)=>{const o=e.dom;Dm(o,t),mf(eu(e,"style").map(Ne),"")&&Ro(e,"style")},W1=e=>e.dom.offsetWidth,Dr=(e,t)=>{aa(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},it=(e,t)=>{Wn(e).fold(()=>{aa(e).each(c=>{Wr(c,t)})},i=>{Dr(i,t)})},Fa=(e,t)=>{Ml(e).fold(()=>{Wr(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},Wr=(e,t)=>{e.dom.appendChild(t.dom)},Zl=(e,t)=>{Dr(e,t),Wr(t,e)},Tc=(e,t)=>{pe(t,(o,i)=>{const c=i===0?e:t[i-1];it(c,o)})},ti=(e,t)=>{pe(t,o=>{Wr(e,o)})},Qs=e=>{e.dom.textContent="",pe(la(e),t=>{Ds(t)})},Ds=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Va=e=>{const t=la(e);t.length>0&&Tc(e,t),Ds(e)},jl=(e,t)=>{const i=(t||document).createElement("div");return i.innerHTML=e,la(Fe.fromDom(i))},au=e=>Be(e,Fe.fromDom),Pd=e=>e.dom.innerHTML,Rm=(e,t)=>{const i=zu(e).dom,c=Fe.fromDom(i.createDocumentFragment()),m=jl(t,i);ti(c,m),Qs(e),Wr(e,c)},Ug=e=>{const t=Fe.fromTag("div"),o=Fe.fromDom(e.dom.cloneNode(!0));return Wr(t,o),Pd(t)},Wg=(e,t,o,i,c,m,h)=>({target:e,x:t,y:o,stop:i,prevent:c,kill:m,raw:h}),Rv=e=>{const t=Fe.fromDom(Dv(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=$t(i,o);return Wg(t,e.clientX,e.clientY,o,i,c,e)},Iv=(e,t)=>o=>{e(o)&&t(Rv(o))},Gu=(e,t,o,i,c)=>{const m=Iv(o,i);return e.dom.addEventListener(t,m,c),{unbind:tt(W,e,t,m,c)}},N=(e,t,o,i)=>Gu(e,t,o,i,!1),W=(e,t,o,i)=>{e.dom.removeEventListener(t,o,i)},oe=(e,t)=>({left:e,top:t,translate:(i,c)=>oe(e+i,t+c)}),Re=oe,$e=e=>{const t=e.getBoundingClientRect();return Re(t.left,t.top)},Rt=(e,t)=>e!==void 0?e:t!==void 0?t:0,jn=e=>{const t=e.dom.ownerDocument,o=t.body,i=t.defaultView,c=t.documentElement;if(o===e.dom)return Re(o.offsetLeft,o.offsetTop);const m=Rt(i==null?void 0:i.pageYOffset,c.scrollTop),h=Rt(i==null?void 0:i.pageXOffset,c.scrollLeft),C=Rt(c.clientTop,o.clientTop),A=Rt(c.clientLeft,o.clientLeft);return po(e).translate(h-A,m-C)},po=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Re(i.offsetLeft,i.offsetTop):Ba(e)?$e(t):Re(0,0)},lo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Re(o,i)},Tn=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},bs=(e,t)=>{na().browser.isSafari()&&Le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Zr=e=>{const t=e===void 0?window:e;return na().browser.isFirefox()?Q.none():Q.from(t.visualViewport)},Sr=(e,t,o,i)=>({x:e,y:t,width:o,height:i,right:e+o,bottom:t+i}),Oc=e=>{const t=e===void 0?window:e,o=t.document,i=lo(Fe.fromDom(o));return Zr(t).fold(()=>{const c=t.document.documentElement,m=c.clientWidth,h=c.clientHeight;return Sr(i.left,i.top,m,h)},c=>Sr(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Im=(e,t)=>vt(la(e),t),Nm=(e,t)=>{let o=[];return pe(la(e),i=>{t(i)&&(o=o.concat([i])),o=o.concat(Nm(i,t))}),o},pi=(e,t)=>Hg(t,e),yC=(e,t,o)=>Qa(e,t,o).isSome(),Nv=(e,t)=>op(e,t).isSome(),Z1=(e,t)=>Wi(e,t).isSome();class ca{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,i,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let m=t[i];if(m)return m;for(let h=t.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(m=h[i],m)return m}}}findPreviousNode(t,o){if(t){const i=t.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const Rr="\uFEFF",Di="",qu=e=>e===Rr,rp=e=>e.replace(/\uFEFF/g,""),ix=/^[ \t\r\n]*$/,sc=e=>ix.test(e),pl=e=>{for(const t of e)if(!qu(t))return!1;return!0},Pv=e=>" \f	\v".indexOf(e)!==-1,_f=e=>e===`
`||e==="\r",lE=(e,t)=>t<e.length&&t>=0?_f(e[t]):!1,Mv=(e,t=4,o=!0,i=!0)=>{const c=nn(" ",t),m=e.replace(/\t/g,c);return Vt(m,(C,A)=>Pv(A)||A===Di?C.pcIsSpace||C.str===""&&o||C.str.length===m.length-1&&i||lE(m,C.str.length+1)?{pcIsSpace:!1,str:C.str+Di}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:_f(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Md=e=>t=>!!t&&t.nodeType===e,Sf=e=>!!e&&!Object.getPrototypeOf(e),En=Md(1),lu=e=>En(e)&&Na(Fe.fromDom(e)),Bv=e=>En(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",kf=e=>{const t=e.toLowerCase();return o=>Ee(o)&&o.nodeName.toLowerCase()===t},ua=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return ie(t,i)}return!1}},Dc=(e,t)=>{const o=t.toLowerCase().split(" ");return i=>{if(En(i)){const c=i.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[m])return!0}}return!1}},Zg=e=>t=>En(t)&&t.hasAttribute(e),Ef=e=>En(e)&&e.hasAttribute("data-mce-bogus"),j1=e=>En(e)&&e.getAttribute("data-mce-bogus")==="all",cu=e=>En(e)&&e.tagName==="TABLE",ip=e=>t=>!!(lu(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),ap=ua(["textarea","input"]),Ut=Md(3),ax=Md(4),Af=Md(7),ko=Md(8),Rn=Md(9),Tf=Md(11),pr=kf("br"),Rc=kf("img"),Ic=ip("true"),fo=ip("false"),lp=ua(["td","th"]),xC=ua(["td","th","caption"]),St=ua(["video","audio","object","embed"]),lx=kf("li"),cp=kf("details"),up=kf("summary"),jg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Pm=(e,t,o)=>{const i=Fe.fromDom(t),c=Fe.fromDom(e),m=o.getWhitespaceElements();return yC(c,C=>ao(m,qo(C)),tt(Yo,i))},wC=e=>En(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Of=(e,t)=>En(e)&&ao(t.getNonEmptyElements(),e.nodeName),sr=Zg("data-mce-bookmark"),Yu=e=>xf(Fe.fromDom(e)).exists(t=>!_r(t)),K1=(e,t,o)=>sc(e.data)&&!Pm(e,t,o),uu=(e,t,o,i)=>Ut(e)&&!K1(e,t,o)&&(!i.includeZwsp||!pl(e.data)),Mm=(e,t,o,i)=>Le(i.isContent)&&i.isContent(t)||Of(t,e)||sr(t)||wC(t)||uu(t,o,e,i)||fo(t)||Ic(t)&&Yu(t),rc=(e,t,o)=>{const i={...jg,...o};if(i.checkRootAsContent&&Mm(e,t,t,i))return!1;let c=t.firstChild,m=0;if(!c)return!0;const h=new ca(c,t);do{if(i.skipBogus&&En(c)){const C=c.getAttribute("data-mce-bogus");if(C){c=h.next(C==="all");continue}}if(ko(c)){c=h.next(!0);continue}if(pr(c)){m++,c=h.next();continue}if(Mm(e,c,t,i))return!1;c=h.next()}while(c);return m<=1},jr=(e,t,o)=>rc(e,t.dom,{checkRootAsContent:!0,...o}),Lv=(e,t,o)=>Mm(e,t,t,{includeZwsp:jg.includeZwsp,...o}),Ri=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},G1=e=>{const t=Ri(Q.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(Q.some(C))}}},Nc=e=>{const t=Ri(Q.none()),o=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(Q.some(setInterval(C,e)))}}},Ii=()=>{const e=G1(ct);return{...e,on:o=>e.get().each(o)}},Zt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Bm=e=>Zt(e)!=="html",Ni=e=>Bm(e.nodeName),CC=e=>Zt(e.nodeName),_C=["svg","math"],cE=()=>{const e=Ii(),t=()=>e.get().map(CC).getOr("html");return{track:c=>(Ni(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Bd="data-mce-block",Kg=e=>vt(Kt(e),t=>!/[A-Z]/.test(t)),Fv=e=>Be(Kg(e),t=>{const o=CSS.escape(t);return`${o}:`+Be(_C,i=>`not(${i} ${o})`).join(":")}).join(","),q1=(e,t)=>Ee(t.querySelector(e))?(t.setAttribute(Bd,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Bd),!1),cx=(e,t)=>{const o=Fv(e.getTransparentElements()),i=Fv(e.getBlockElements());return vt(t.querySelectorAll(o),c=>q1(i,c))},kr=(e,t,o)=>{var i;const c=o?"lastChild":"firstChild";for(let m=t[c];m;m=m[c])if(rc(e,m,{checkRootAsContent:!0})){(i=m.parentNode)===null||i===void 0||i.removeChild(m);return}},Vv=(e,t,o)=>{const i=document.createRange(),c=t.parentNode;if(c){i.setStartBefore(t),i.setEndBefore(o);const m=i.extractContents();kr(e,m,!0),i.setStartAfter(o),i.setEndAfter(t);const h=i.extractContents();kr(e,h,!1),rc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,t),rc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),rc(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),c.removeChild(t)}},Ir=(e,t,o)=>{const i=e.getBlockElements(),c=Fe.fromDom(t),m=C=>qo(C)in i,h=C=>Yo(C,c);pe(au(o),C=>{Qa(C,m,h).each(A=>{const V=Im(C,Z=>m(Z)&&!e.isValidChild(qo(A),qo(Z)));if(V.length>0){const Z=xf(A);pe(V,Y=>{Qa(Y,m,h).each(ee=>{Vv(e,ee.dom,Y.dom)})}),Z.each(Y=>cx(e,Y.dom))}})})},tl=(e,t,o)=>{pe([...o,...Df(e,t)?[t]:[]],i=>pe(pi(Fe.fromDom(i),i.nodeName.toLowerCase()),c=>{SC(e,c.dom)&&Va(c)}))},Kr=(e,t)=>{const o=cx(e,t);Ir(e,t,o),tl(e,t,o)},ic=(e,t)=>{if(dp(e,t)){const o=Fv(e.getBlockElements());q1(o,t)}},Ld=(e,t,o)=>{const i=m=>Yo(m,Fe.fromDom(t)),c=Am(Fe.fromDom(o),i);Ar(c,c.length-2).filter($r).fold(()=>Kr(e,t),m=>Kr(e,m.dom))},ji=e=>e.hasAttribute(Bd),zv=(e,t)=>ao(e.getTransparentElements(),t),dp=(e,t)=>En(t)&&zv(e,t.nodeName),Df=(e,t)=>dp(e,t)&&ji(t),SC=(e,t)=>dp(e,t)&&!ji(t),fp=(e,t)=>t.type===1&&zv(e,t.name)&&he(t.attr(Bd)),ux=na().browser,Y1=e=>cn(e,$r),Hv=e=>ux.isFirefox()&&qo(e)==="table"?Y1(la(e)).filter(t=>qo(t)==="caption").bind(t=>Y1(Tm(t)).map(o=>{const i=o.dom.offsetTop,c=t.dom.offsetTop,m=t.dom.offsetHeight;return i<=c?-m:0})).getOr(0):0,X1=(e,t)=>e.children&&ie(e.children,t),dx=(e,t,o)=>{let i=0,c=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Ur(Fe.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return i=C.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=C.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:c}}let h=t;for(;h&&h!==o&&h.nodeType&&!X1(h,o);){const C=h;i+=C.offsetLeft||0,c+=C.offsetTop||0,h=C.offsetParent}for(h=t.parentNode;h&&h!==o&&h.nodeType&&!X1(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Hv(Fe.fromDom(t))}return{x:i,y:c}},Lm=(e,t={})=>{let o=0;const i={},c=Fe.fromDom(e),m=nc(c),h=He=>{t.referrerPolicy=He},C=He=>{t.contentCssCors=He},A=He=>{Wr(Om(c),He)},V=He=>{const Qe=Om(c);Dt(Qe,"#"+He).each(Ds)},Z=He=>Os(i,He).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Y=He=>new Promise((Qe,Xe)=>{let dt;const Bt=Xt._addCacheSuffix(He),Yt=Z(Bt);i[Bt]=Yt,Yt.count++;const pn=(Cn,Vn)=>{pe(Cn,Fn),Yt.status=Vn,Yt.passed=[],Yt.failed=[],dt&&(dt.onload=null,dt.onerror=null,dt=null)},kt=()=>pn(Yt.passed,2),bt=()=>pn(Yt.failed,3);if(Qe&&Yt.passed.push(Qe),Xe&&Yt.failed.push(Xe),Yt.status===1)return;if(Yt.status===2){kt();return}if(Yt.status===3){bt();return}Yt.status=1;const Nt=Fe.fromTag("link",m.dom);Pa(Nt,{rel:"stylesheet",type:"text/css",id:Yt.id}),t.contentCssCors&&xi(Nt,"crossOrigin","anonymous"),t.referrerPolicy&&xi(Nt,"referrerpolicy",t.referrerPolicy),dt=Nt.dom,dt.onload=kt,dt.onerror=bt,A(Nt),xi(Nt,"href",Bt)}),ee=(He,Qe)=>{const Xe=Z(He);i[He]=Xe,Xe.count++;const dt=Fe.fromTag("style",m.dom);Pa(dt,{rel:"stylesheet",type:"text/css",id:Xe.id}),dt.dom.innerHTML=Qe,A(dt)},ge=He=>Promise.allSettled(Be(He,Xe=>Y(Xe).then(et(Xe)))).then(Xe=>{const dt=zt(Xe,Bt=>Bt.status==="fulfilled");return dt.fail.length>0?Promise.reject(Be(dt.fail,Bt=>Bt.reason)):Be(dt.pass,Bt=>Bt.value)}),Se=He=>{const Qe=Xt._addCacheSuffix(He);Os(i,Qe).each(Xe=>{--Xe.count===0&&(delete i[Qe],V(Xe.id))})};return{load:Y,loadRawCss:ee,loadAll:ge,unload:Se,unloadRawCss:He=>{Os(i,He).each(Qe=>{--Qe.count===0&&(delete i[He],V(Qe.id))})},unloadAll:He=>{pe(He,Qe=>{Se(Qe)})},_setReferrerPolicy:h,_setContentCssCors:C}},J1=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const m=su(o).dom;return Q.from(e.get(m)).getOrThunk(()=>{const h=Lm(m,i);return e.set(m,h),h})}}})(),Q1=e=>e.nodeName.toLowerCase()==="span",fx=(e,t)=>Ee(e)&&(Lv(t,e)||t.isInline(e.nodeName.toLowerCase())),mx=(e,t,o)=>{const i=new ca(e,t).prev(!1),c=new ca(e,t).next(!1),m=qe(i)||fx(i,o),h=qe(c)||fx(c,o);return m&&h},$v=e=>Q1(e)&&e.getAttribute("data-mce-type")==="bookmark",gx=(e,t,o)=>Ut(e)&&e.data.length>0&&mx(e,t,o),hx=e=>En(e)?e.childNodes.length>0:!1,Uv=e=>Tf(e)||Rn(e),mp=(e,t,o,i)=>{var c;const m=i||t;if(En(t)&&$v(t))return t;const h=t.childNodes;for(let C=h.length-1;C>=0;C--)mp(e,h[C],o,m);if(En(t)){const C=t.childNodes;C.length===1&&$v(C[0])&&((c=t.parentNode)===null||c===void 0||c.insertBefore(C[0],t))}return!Uv(t)&&!Lv(o,t)&&!hx(t)&&!gx(t,m,o)&&e.remove(t),t},px=Xt.makeMap,Wv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fm=/[<>&\"\']/g,gp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,vx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Fd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Gg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qg=e=>{const t=Fe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Vd=(e,t)=>{const o={};if(e){const i=e.split(",");t=t||10;for(let c=0;c<i.length;c+=2){const m=String.fromCharCode(parseInt(i[c],t));if(!Fd[m]){const h="&"+i[c+1]+";";o[m]=h,o[h]=m}}return o}else return},Rf=Vd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),jv=(e,t)=>e.replace(t?Wv:Zv,o=>Fd[o]||o),dE=e=>(""+e).replace(Fm,t=>Fd[t]||t),Kv=(e,t)=>e.replace(t?Wv:Zv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Fd[o]||"&#"+o.charCodeAt(0)+";"),Pc=(e,t,o)=>{const i=o||Rf;return e.replace(t?Wv:Zv,c=>Fd[c]||i[c]||c)},Yg={encodeRaw:jv,encodeAllRaw:dE,encodeNumeric:Kv,encodeNamed:Pc,getEncodeFunc:(e,t)=>{const o=Vd(t)||Rf,i=(h,C)=>h.replace(C?Wv:Zv,A=>Fd[A]!==void 0?Fd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(h,C)=>Pc(h,C,o),m=px(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?t?c:Pc:m.numeric?Kv:jv},decode:e=>e.replace(gp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):vx[o]||String.fromCharCode(o)):Gg[t]||Rf[t]||qg(t))},da=(e,t)=>(e=Xt.trim(e),e?e.split(t||" "):[]),Xg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jg=e=>K(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",e0=e=>{const t=o=>ae(o)?Be(o,t):Jg(o)?new RegExp(o.source,o.flags):K(o)?Ul(o,t):o;return t(e)},Xo=e=>{const t=/^(~)?(.+)$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const m=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:m,name:h}]}else return[]})},vl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Xu=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const i=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:i}},Aa=e=>{const{blockContent:t,phrasingContent:o,flowContent:i}=Xu(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(i)})},Ks={html4:Dl(()=>Aa("html4")),html5:Dl(()=>Aa("html5")),"html5-strict":Dl(()=>Aa("html5-strict"))},Gv=(e,t)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Ks[e]();return t==="blocks"?Q.some(o):t==="phrasing"?Q.some(i):t==="flow"?Q.some(c):Q.none()},EC=e=>{const t=vl(e),{phrasingContent:o,flowContent:i}=Xu(e),c={},m=(A,V,Z)=>{c[A]={attributes:ar(V,et({})),attributesOrder:V,children:ar(Z,et({}))}},h=(A,V="",Z="")=>{const Y=da(Z),ee=da(A);let ge=ee.length;const Se=[...t,...da(V)];for(;ge--;)m(ee[ge],Se.slice(),Y)},C=(A,V)=>{const Z=da(A),Y=da(V);let ee=Z.length;for(;ee--;){const ge=c[Z[ee]];for(let Se=0,ve=Y.length;Se<ve;Se++)ge.attributes[Y[Se]]={},ge.attributesOrder.push(Y[Se])}};return e!=="html5-strict"&&(pe(da("acronym applet basefont big font strike tt"),Z=>{h(Z,"",o)}),pe(da("center dir isindex noframes"),Z=>{h(Z,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&pe([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),pe(da("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},fE=e=>e==="-"?"remove":"add",dr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Q.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},t0=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const c=i[1],m=c?fE(c):"replace",h=i[2],C=wo(da(i[3],"|"),A=>dr(A).toArray());return[{operation:m,name:h,validChildren:C}]}else return[]})},yx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:m}=t;return pe(da(e,"|"),h=>{const C=o.exec(h);if(C){const A={},V=C[1],Z=C[2].replace(/[\\:]:/g,":"),Y=C[3],ee=C[4];if(V==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(Z),A.required=!0),V==="-"){delete c[Z],m.splice(Xt.inArray(m,Z),1);return}if(Y&&(Y==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:Z,value:ee}),A.defaultValue=ee):Y==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:Z,value:ee}),A.forcedValue=ee):Y==="<"&&(A.validValues=Xt.makeMap(ee,"?"))),i.test(Z)){const ge=A;t.attributePatterns=t.attributePatterns||[],ge.pattern=Xg(Z),t.attributePatterns.push(ge)}else c[Z]||m.push(Z),c[Z]=A}})},Vm=(e,t)=>{rs(e.attributes,(o,i)=>{t.attributes[i]=o}),t.attributesOrder.push(...e.attributesOrder)},Mc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return wo(da(t,","),i=>{const c=o.exec(i);if(c){const m=c[1],h=c[2],C=c[3],A=c[4],V=c[5],Z={attributes:{},attributesOrder:[]};if(e.each(Y=>Vm(Y,Z)),m==="#"?Z.paddEmpty=!0:m==="-"&&(Z.removeEmpty=!0),A==="!"&&(Z.removeEmptyAttrs=!0),V&&yx(V,Z),C&&(Z.outputName=h),h==="@")if(e.isNone())e=Q.some(Z);else return[];return[C?{name:h,element:Z,aliasName:C}:{name:h,element:Z}]}else return[]})},hp={},bn=Xt.makeMap,du=Xt.each,xx=Xt.extend,n0=Xt.explode,pp=(e,t={})=>{const o=bn(e," ",bn(e.toUpperCase()," "));return xx(o,t)},o0=e=>pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Qg=(e,t)=>{if(e){const o={};return he(e)&&(e={"*":e}),du(e,(i,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?bn(i,/[, ]/):n0(i,/[, ]/)}),o}else return},Bc=(e={})=>{var t;const o={},i={};let c=[];const m={},h={},C=(Un,ls,Xr)=>{const yi=e[Un];if(yi)return bn(yi,/[, ]/,bn(yi.toUpperCase(),/[, ]/));{let Xi=hp[Un];return Xi||(Xi=pp(ls,Xr),hp[Un]=Xi),Xi}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",V=EC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const Z=Qg(e.valid_styles),Y=Qg(e.invalid_styles,"map"),ee=Qg(e.valid_classes,"map"),ge=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Se=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ve=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Oe=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),He="td th iframe video audio object script code",Qe=C("non_empty_elements",He+" pre svg textarea summary",ve),Xe=C("move_caret_before_on_enter_elements",He+" table",ve),dt="h1 h2 h3 h4 h5 h6",Bt=C("text_block_elements",dt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Yt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Bt),pn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kt=C("transparent_elements","a ins del canvas map"),bt=C("wrap_block_elements","pre "+dt);du("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Un=>{h[Un]=new RegExp("</"+Un+"[^>]*>","gi")});const Nt=Un=>{const ls=Q.from(o["@"]),Xr=/[*?+]/;pe(Mc(ls,Un??""),({name:yi,element:Xi,aliasName:ll})=>{if(ll&&(o[ll]=Xi),Xr.test(yi)){const Li=Xi;Li.pattern=Xg(yi),c.push(Li)}else o[yi]=Xi})},Cn=Un=>{c=[],pe(Kt(o),ls=>{delete o[ls]}),Nt(Un)},Vn=(Un,ls)=>{var Xr,yi;delete hp.text_block_elements,delete hp.block_elements;const Xi=ls.extends?!hd(ls.extends):!1,ll=ls.extends;if(i[Un]=ll?i[ll]:{},m[Un]=ll??Un,Qe[Un.toUpperCase()]={},Qe[Un]={},Xi||(Yt[Un.toUpperCase()]={},Yt[Un]={}),ll&&!o[Un]&&o[ll]){const Li=e0(o[ll]);delete Li.removeEmptyAttrs,delete Li.removeEmpty,o[Un]=Li}else o[Un]={attributesOrder:[],attributes:{}};if(ae(ls.attributes)){const Li=pc=>{Fi.attributesOrder.push(pc),Fi.attributes[pc]={}},Fi=(Xr=o[Un])!==null&&Xr!==void 0?Xr:{};delete Fi.attributesDefault,delete Fi.attributesForced,delete Fi.attributePatterns,delete Fi.attributesRequired,Fi.attributesOrder=[],Fi.attributes={},pe(ls.attributes,pc=>{const Cg=vl(A);dr(pc).each(({preset:_g,name:Sg})=>{_g?Sg==="global"&&pe(Cg,Li):Li(Sg)})}),o[Un]=Fi}if(We(ls.padEmpty)){const Li=(yi=o[Un])!==null&&yi!==void 0?yi:{};Li.paddEmpty=ls.padEmpty,o[Un]=Li}if(ae(ls.children)){const Li={},Fi=Cg=>{Li[Cg]={}},pc=Cg=>{Gv(A,Cg).each(_g=>{pe(_g,Fi)})};pe(ls.children,Cg=>{dr(Cg).each(({preset:_g,name:Sg})=>{_g?pc(Sg):Fi(Sg)})}),i[Un]=Li}ll&&rs(i,(Li,Fi)=>{Li[ll]&&(i[Fi]=Li=xx({},i[Fi]),Li[Un]=Li[ll])})},No=Un=>{pe(Xo(Un??""),({name:ls,cloneName:Xr})=>{Vn(ls,{extends:Xr})})},Ho=Un=>{K(Un)?rs(Un,(ls,Xr)=>Vn(Xr,ls)):he(Un)&&No(Un)},Rs=Un=>{pe(t0(Un??""),({operation:ls,name:Xr,validChildren:yi})=>{const Xi=ls==="replace"?{"#comment":{}}:i[Xr],ll=Fi=>{ls==="remove"?delete Xi[Fi]:Xi[Fi]={}},Li=Fi=>{Gv(A,Fi).each(pc=>{pe(pc,ll)})};pe(yi,({preset:Fi,name:pc})=>{Fi?Li(pc):ll(pc)}),i[Xr]=Xi})},Us=Un=>{const ls=o[Un];if(ls)return ls;let Xr=c.length;for(;Xr--;){const yi=c[Xr];if(yi.pattern.test(Un))return yi}},ui=()=>{e.valid_elements?(Cn(e.valid_elements),du(V,(Un,ls)=>{i[ls]=Un.children})):(du(V,(Un,ls)=>{o[ls]={attributes:Un.attributes,attributesOrder:Un.attributesOrder},i[ls]=Un.children}),du(da("strong/b em/i"),Un=>{const ls=da(Un,"/");o[ls[1]].outputName=ls[0]}),du(pn,(Un,ls)=>{o[ls]&&(e.padd_empty_block_inline_children&&(o[ls].paddInEmptyBlock=!0),o[ls].removeEmpty=!0)}),du(da("ol ul blockquote a table tbody"),Un=>{o[Un]&&(o[Un].removeEmpty=!0)}),du(da("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Un=>{o[Un]&&(o[Un].paddEmpty=!0)}),du(da("span"),Un=>{o[Un].removeEmptyAttrs=!0})),delete o.svg,Ho(e.custom_elements),Rs(e.valid_children),Nt(e.extended_valid_elements),Rs("+ol[ul|ol],+ul[ul|ol]"),du({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Un,ls)=>{o[ls]&&(o[ls].parentsRequired=da(Un))}),e.invalid_elements&&du(n0(e.invalid_elements),Un=>{o[Un]&&delete o[Un]}),Us("span")||Nt("span[!data-mce-type|*]")},kl=et(Z),Ys=et(Y),on=et(ee),Pn=et(Oe),ys=et(Yt),ln=et(Bt),Yn=et(pn),Vo=et(Object.seal(ve)),gn=et(Se),Po=et(Qe),Uo=et(Xe),Ra=et(ge),Hs=et(kt),ba=et(bt),om=et(Object.seal(h)),Lh=(Un,ls)=>{const Xr=i[Un.toLowerCase()];return!!(Xr&&Xr[ls.toLowerCase()])},hc=(Un,ls)=>{const Xr=Us(Un);if(Xr)if(ls){if(Xr.attributes[ls])return!0;const yi=Xr.attributePatterns;if(yi){let Xi=yi.length;for(;Xi--;)if(yi[Xi].pattern.test(ls))return!0}}else return!0;return!1},hd=Un=>ao(ys(),Un),sm=Un=>!cr(Un,"#")&&hc(Un)&&!hd(Un),pd=Un=>ao(ba(),Un)||sm(Un),rm=et(m);return ui(),{type:A,children:i,elements:o,getValidStyles:kl,getValidClasses:on,getBlockElements:ys,getInvalidStyles:Ys,getVoidElements:Vo,getTextBlockElements:ln,getTextInlineElements:Yn,getBoolAttrs:Pn,getElementRule:Us,getSelfClosingElements:gn,getNonEmptyElements:Po,getMoveCaretBeforeOnEnterElements:Uo,getWhitespaceElements:Ra,getTransparentElements:Hs,getSpecialElements:om,isValidChild:Lh,isValid:hc,isBlock:hd,isInline:sm,isWrapper:pd,getCustomElements:rm,addValidElements:Nt,setValidElements:Cn,addCustomElements:Ho,addValidChildren:Rs}},mE=e=>({value:s0(e)}),s0=e=>Jc(e,"#").toUpperCase(),wx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},r0=e=>{const t=wx(e.red)+wx(e.green)+wx(e.blue);return mE(t)},Cx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,_x=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,i0=(e,t,o,i)=>({red:e,green:t,blue:o,alpha:i}),Sx=(e,t,o,i)=>{const c=parseInt(e,10),m=parseInt(t,10),h=parseInt(o,10),C=parseFloat(i);return i0(c,m,h,C)},kx=e=>Cx.test(e)?"rgb":_x.test(e)?"rgba":"other",AC=e=>{const t=Cx.exec(e);if(t!==null)return Q.some(Sx(t[1],t[2],t[3],"1"));const o=_x.exec(e);return o!==null?Q.some(Sx(o[1],o[2],o[3],o[4])):Q.none()},gE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,qv=e=>AC(e).map(r0).map(t=>"#"+t.value).getOr(e),Ex=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let h,C;const A=Rr;t&&(h=t.getValidStyles(),C=t.getInvalidStyles());const V=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Y=0;Y<V.length;Y++)m[V[Y]]=A+Y,m[A+Y]=V[Y];const Z={parse:Y=>{const ee={};let ge=!1;const Se=e.url_converter,ve=e.url_converter_scope||Z,Oe=(kt,bt,Nt)=>{const Cn=ee[kt+"-top"+bt];if(!Cn)return;const Vn=ee[kt+"-right"+bt];if(!Vn)return;const No=ee[kt+"-bottom"+bt];if(!No)return;const Ho=ee[kt+"-left"+bt];if(!Ho)return;const Rs=[Cn,Vn,No,Ho];let Us=Rs.length-1;for(;Us--&&Rs[Us]===Rs[Us+1];);Us>-1&&Nt||(ee[kt+bt]=Us===-1?Rs[0]:Rs.join(" "),delete ee[kt+"-top"+bt],delete ee[kt+"-right"+bt],delete ee[kt+"-bottom"+bt],delete ee[kt+"-left"+bt])},He=kt=>{const bt=ee[kt];if(!bt)return;const Nt=bt.indexOf(",")>-1?[bt]:bt.split(" ");let Cn=Nt.length;for(;Cn--;)if(Nt[Cn]!==Nt[0])return!1;return ee[kt]=Nt[0],!0},Qe=(kt,bt,Nt,Cn)=>{He(bt)&&He(Nt)&&He(Cn)&&(ee[kt]=ee[bt]+" "+ee[Nt]+" "+ee[Cn],delete ee[bt],delete ee[Nt],delete ee[Cn])},Xe=kt=>(ge=!0,m[kt]),dt=(kt,bt)=>(ge&&(kt=kt.replace(/\uFEFF[0-9]/g,Nt=>m[Nt])),bt||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt),Bt=kt=>String.fromCharCode(parseInt(kt.slice(1),16)),Yt=kt=>kt.replace(/\\[0-9a-f]+/gi,Bt),pn=(kt,bt,Nt,Cn,Vn,No)=>{if(Vn=Vn||No,Vn)return Vn=dt(Vn),"'"+Vn.replace(/\'/g,"\\'")+"'";if(bt=dt(bt||Nt||Cn||""),!e.allow_script_urls){const Ho=bt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ho)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ho))return""}return Se&&(bt=Se.call(ve,bt,"style")),"url('"+bt.replace(/\'/g,"\\'")+"')"};if(Y){Y=Y.replace(/[\u0000-\u001F]/g,""),Y=Y.replace(/\\[\"\';:\uFEFF]/g,Xe).replace(/\"[^\"]+\"|\'[^\']+\'/g,bt=>bt.replace(/[;:]/g,Xe));let kt;for(;kt=i.exec(Y);){i.lastIndex=kt.index+kt[0].length;let bt=kt[1].replace(c,"").toLowerCase(),Nt=kt[2].replace(c,"");if(bt&&Nt){if(bt=Yt(bt),Nt=Yt(Nt),bt.indexOf(A)!==-1||bt.indexOf('"')!==-1||!e.allow_script_urls&&(bt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nt)))continue;bt==="font-weight"&&Nt==="700"?Nt="bold":(bt==="color"||bt==="background-color")&&(Nt=Nt.toLowerCase()),kx(Nt)==="rgb"&&AC(Nt).each(Cn=>{Nt=qv(gE(Cn)).toLowerCase()}),Nt=Nt.replace(o,pn),ee[bt]=ge?dt(Nt,!0):Nt}}Oe("border","",!0),Oe("border","-width"),Oe("border","-color"),Oe("border","-style"),Oe("padding",""),Oe("margin",""),Qe("border","border-width","border-style","border-color"),ee.border==="medium none"&&delete ee.border,ee["border-image"]==="none"&&delete ee["border-image"]}return ee},serialize:(Y,ee)=>{let ge="";const Se=(Oe,He)=>{const Qe=He[Oe];if(Qe)for(let Xe=0,dt=Qe.length;Xe<dt;Xe++){const Bt=Qe[Xe],Yt=Y[Bt];Yt&&(ge+=(ge.length>0?" ":"")+Bt+": "+Yt+";")}},ve=(Oe,He)=>{if(!C||!He)return!0;let Qe=C["*"];return Qe&&Qe[Oe]?!1:(Qe=C[He],!(Qe&&Qe[Oe]))};return ee&&h?(Se("*",h),Se(ee,h)):rs(Y,(Oe,He)=>{Oe&&ve(He,ee)&&(ge+=(ge.length>0?" ":"")+He+": "+Oe+";")}),ge}};return Z},eh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},hE=e=>e instanceof Event||Le(e.initEvent),pE=e=>e.isDefaultPrevented===_n||e.isDefaultPrevented===fn,If=e=>st(e.preventDefault)||hE(e),zm=(e,t)=>{const o=t??{};for(const i in e)ao(eh,i)||(o[i]=e[i]);return Ee(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ee(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),Ee(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},a0=(e,t,o,i)=>{var c;const m=zm(t,i);return m.type=e,st(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),If(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=_n,Le(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=_n,Le(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=_n,m.stopPropagation()},pE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?_n:fn,m.isPropagationStopped=m.cancelBubble===!0?_n:fn,m.isImmediatePropagationStopped=fn)),m},TC="mce-data-",Ax=/^(?:mouse|contextmenu)|click/,Yv=(e,t,o,i)=>{e.addEventListener(t,o,i||!1)},zd=(e,t,o,i)=>{e.removeEventListener(t,o,i||!1)},l0=e=>Ee(e)&&Ax.test(e.type),vi=(e,t)=>{const o=a0(e.type,e,document,t);if(l0(e)&&qe(e.pageX)&&!qe(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,m=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Fr=(e,t,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{zd(e,"DOMContentLoaded",h),zd(e,"load",h),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};m()?h():Yv(e,"DOMContentLoaded",h),o.domLoaded||Yv(e,"load",h)};class Nf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=TC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,i,c){const m=this;let h;const C=window,A=ee=>{m.executeHandlers(vi(ee||C.event),V)};if(!t||Ut(t)||ko(t))return i;let V;t[m.expando]?V=t[m.expando]:(V=m.count++,t[m.expando]=V,m.events[V]={}),c=c||t;const Z=o.split(" ");let Y=Z.length;for(;Y--;){let ee=Z[Y],ge=A,Se=!1,ve=!1;if(ee==="DOMContentLoaded"&&(ee="ready"),m.domLoaded&&ee==="ready"&&t.readyState==="complete"){i.call(c,vi({type:ee}));continue}!m.hasFocusIn&&(ee==="focusin"||ee==="focusout")&&(Se=!0,ve=ee==="focusin"?"focus":"blur",ge=Oe=>{const He=vi(Oe||C.event);He.type=He.type==="focus"?"focusin":"focusout",m.executeHandlers(He,V)}),h=m.events[V][ee],h?ee==="ready"&&m.domLoaded?i(vi({type:ee})):h.push({func:i,scope:c}):(m.events[V][ee]=h=[{func:i,scope:c}],h.fakeName=ve,h.capture=Se,h.nativeHandler=ge,ee==="ready"?Fr(t,ge,m):Yv(t,ve||ee,ge,Se))}return t=h=null,i}unbind(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=t[this.expando];if(c){let m=this.events[c];if(o){const h=o.split(" ");let C=h.length;for(;C--;){const A=h[C],V=m[A];if(V){if(i){let Z=V.length;for(;Z--;)if(V[Z].func===i){const Y=V.nativeHandler,ee=V.fakeName,ge=V.capture,Se=V.slice(0,Z).concat(V.slice(Z+1));Se.nativeHandler=Y,Se.fakeName=ee,Se.capture=ge,m[A]=Se}}(!i||V.length===0)&&(delete m[A],zd(t,V.fakeName||A,V.nativeHandler,V.capture))}}}else rs(m,(h,C)=>{zd(t,h.fakeName||C,h.nativeHandler,h.capture)}),m={};for(const h in m)if(ao(m,h))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,i){return this.dispatch(t,o,i)}dispatch(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=vi({type:o,target:t},i);do{const m=t[this.expando];m&&this.executeHandlers(c,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||Ut(t)||ko(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let i=o.length;for(;i--;)t=o[i],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const i=this.events[o],c=i&&i[t.type];if(c)for(let m=0,h=c.length;m<h;m++){const C=c[m];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Nf.Event=new Nf;const Tx=Xt.each,c0=Xt.grep,Ki="data-mce-style",nl=Xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),th=(e,t,o)=>{st(o)||o===""?Ro(e,t):xi(e,t,o)},Pf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Hm=(e,t)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;t&&Ut(c)&&(m===i||!c.data.length)||(o++,i=m)}return o},u0=(e,t)=>{const o=ka(t,"style"),i=e.serialize(e.parse(o),qo(t));th(t,Ki,i)},OC=(e,t)=>O(e)?ao(nl,t)?e+"":e+"px":e,Ox=(e,t,o)=>{const i=Pf(t);st(o)||o===""?iu(e,i):el(e,i,OC(o,i))},$m=(e,t,o)=>{const i=t.keep_values,c={set:(h,C,A)=>{const V=Fe.fromDom(h);Le(t.url_converter)&&Ee(C)&&(C=t.url_converter.call(t.url_converter_scope||o(),String(C),A,h));const Z="data-mce-"+A;th(V,Z,C),th(V,A,C)},get:(h,C)=>{const A=Fe.fromDom(h);return ka(A,"data-mce-"+C)||ka(A,C)}},m={style:{set:(h,C)=>{const A=Fe.fromDom(h);i&&th(A,Ki,C),Ro(A,"style"),he(C)&&Ko(A,e.parse(C))},get:h=>{const C=Fe.fromDom(h),A=ka(C,Ki)||ka(C,"style");return e.serialize(e.parse(A),qo(C))}}};return i&&(m.href=m.src=c),m},Gs=(e,t={})=>{const o={},i=window,c={};let m=0;const h=!0,C=!0,A=J1.forElement(Fe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),V=[],Z=t.schema?t.schema:Bc({}),Y=Ex({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),ee=t.ownEvents?new Nf:Nf.Event,ge=Z.getBlockElements(),Se=ht=>he(ht)?ao(ge,ht):En(ht)&&(ao(ge,ht.nodeName)||Df(Z,ht)),ve=ht=>ht&&e&&he(ht)?e.getElementById(ht):ht,Oe=ht=>{const yt=ve(ht);return Ee(yt)?Fe.fromDom(yt):null},He=(ht,yt,en="")=>{let qt;const to=Oe(ht);if(Ee(to)&&$r(to)){const Qo=OO[yt];Qo&&Qo.get?qt=Qo.get(to.dom,yt):qt=ka(to,yt)}return Ee(qt)?qt:en},Qe=ht=>{const yt=ve(ht);return st(yt)?[]:yt.attributes},Xe=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const to=Fe.fromDom(qt),Qo=en===""?null:en,Jr=ka(to,yt),kg=OO[yt];kg&&kg.set?kg.set(to.dom,Qo,yt):th(to,yt,Qo),Jr!==Qo&&t.onSetAttrib&&t.onSetAttrib({attrElm:to.dom,attrName:yt,attrValue:Qo})}})},dt=(ht,yt)=>ht.cloneNode(yt),Bt=()=>t.root_element||e.body,Yt=ht=>{const yt=Oc(ht);return{x:yt.x,y:yt.y,w:yt.width,h:yt.height}},pn=(ht,yt)=>dx(e.body,ve(ht),yt),kt=(ht,yt,en)=>{Pn(ht,qt=>{const to=Fe.fromDom(qt);Ox(to,yt,en),t.update_styles&&u0(Y,to)})},bt=(ht,yt)=>{Pn(ht,en=>{const qt=Fe.fromDom(en);rs(yt,(to,Qo)=>{Ox(qt,Qo,to)}),t.update_styles&&u0(Y,qt)})},Nt=(ht,yt,en)=>{const qt=ve(ht);if(!(st(qt)||!lu(qt)&&!Bv(qt)))return en?Ur(Fe.fromDom(qt),Pf(yt)):(yt=yt.replace(/-(\D)/g,(to,Qo)=>Qo.toUpperCase()),yt==="float"&&(yt="cssFloat"),qt.style?qt.style[yt]:void 0)},Cn=ht=>{const yt=ve(ht);if(!yt)return{w:0,h:0};let en=Nt(yt,"width"),qt=Nt(yt,"height");return(!en||en.indexOf("px")===-1)&&(en="0"),(!qt||qt.indexOf("px")===-1)&&(qt="0"),{w:parseInt(en,10)||yt.offsetWidth||yt.clientWidth,h:parseInt(qt,10)||yt.offsetHeight||yt.clientHeight}},Vn=ht=>{const yt=ve(ht),en=pn(yt),qt=Cn(yt);return{x:en.x,y:en.y,w:qt.w,h:qt.h}},No=(ht,yt)=>{if(!ht)return!1;const en=ae(ht)?ht:[ht];return xe(en,qt=>Ps(Fe.fromDom(qt),yt))},Ho=(ht,yt,en,qt)=>{const to=[];let Qo=ve(ht);qt=qt===void 0;const Jr=en||(Bt().nodeName!=="BODY"?Bt().parentNode:null);if(he(yt))if(yt==="*")yt=En;else{const kg=yt;yt=DB=>No(DB,kg)}for(;Qo&&!(Qo===Jr||st(Qo.nodeType)||Rn(Qo)||Tf(Qo));){if(!yt||yt(Qo))if(qt)to.push(Qo);else return[Qo];Qo=Qo.parentNode}return qt?to:null},Rs=(ht,yt,en)=>{const qt=Ho(ht,yt,en,!1);return qt&&qt.length>0?qt[0]:null},Us=(ht,yt,en)=>{let qt=yt;if(ht){he(yt)&&(qt=to=>No(to,yt));for(let to=ht[en];to;to=to[en])if(Le(qt)&&qt(to))return to}return null},ui=(ht,yt)=>Us(ht,yt,"nextSibling"),kl=(ht,yt)=>Us(ht,yt,"previousSibling"),Ys=ht=>Le(ht.querySelectorAll),on=(ht,yt)=>{var en,qt;const to=(qt=(en=ve(yt))!==null&&en!==void 0?en:t.root_element)!==null&&qt!==void 0?qt:e;return Ys(to)?vo(to.querySelectorAll(ht)):[]},Pn=function(ht,yt,en){const qt=en??this;if(ae(ht)){const to=[];return Tx(ht,(Qo,Jr)=>{const kg=ve(Qo);kg&&to.push(yt.call(qt,kg,Jr))}),to}else{const to=ve(ht);return to?yt.call(qt,to):!1}},ys=(ht,yt)=>{Pn(ht,en=>{rs(yt,(qt,to)=>{Xe(en,to,qt)})})},ln=(ht,yt)=>{Pn(ht,en=>{const qt=Fe.fromDom(en);Rm(qt,yt)})},Yn=(ht,yt,en,qt,to)=>Pn(ht,Qo=>{const Jr=he(yt)?e.createElement(yt):yt;return Ee(en)&&ys(Jr,en),qt&&(!he(qt)&&qt.nodeType?Jr.appendChild(qt):he(qt)&&ln(Jr,qt)),to?Jr:Qo.appendChild(Jr)}),Vo=(ht,yt,en)=>Yn(e.createElement(ht),ht,yt,en,!0),gn=Yg.decode,Po=Yg.encodeAllRaw,Uo=(ht,yt,en="")=>{let qt="<"+ht;for(const to in yt)Wl(yt,to)&&(qt+=" "+to+'="'+Po(yt[to])+'"');return Wt(en)&&ao(Z.getVoidElements(),ht)?qt+" />":qt+">"+en+"</"+ht+">"},Ra=ht=>{const yt=e.createElement("div"),en=e.createDocumentFragment();en.appendChild(yt),ht&&(yt.innerHTML=ht);let qt;for(;qt=yt.firstChild;)en.appendChild(qt);return en.removeChild(yt),en},Hs=(ht,yt)=>Pn(ht,en=>{const qt=Fe.fromDom(en);return yt&&pe(la(qt),to=>{ur(to)&&to.dom.length===0?Ds(to):Dr(qt,to)}),Ds(qt),qt.dom}),ba=ht=>Pn(ht,yt=>{const en=yt.attributes;for(let qt=en.length-1;qt>=0;qt--)yt.removeAttributeNode(en.item(qt))}),om=ht=>Y.parse(ht),Lh=(ht,yt)=>Y.serialize(ht,yt),hc=ht=>{if(av!==Gs.DOM&&e===document){if(o[ht])return;o[ht]=!0}let yt=e.getElementById("mceDefaultStyles");if(!yt){yt=e.createElement("style"),yt.id="mceDefaultStyles",yt.type="text/css";const en=e.head;en.firstChild?en.insertBefore(yt,en.firstChild):en.appendChild(yt)}yt.styleSheet?yt.styleSheet.cssText+=ht:yt.appendChild(e.createTextNode(ht))},hd=ht=>{ht||(ht=""),pe(ht.split(","),yt=>{c[yt]=!0,A.load(yt).catch(ct)})},sm=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const to=Fe.fromDom(qt),Qo=yt.split(" ");pe(Qo,Jr=>{Ee(en)?(en?Rd:Ma)(to,Jr):np(to,Jr)})}})},pd=(ht,yt)=>{sm(ht,yt,!0)},rm=(ht,yt)=>{sm(ht,yt,!1)},Un=(ht,yt)=>{const en=Oe(ht),qt=yt.split(" ");return Ee(en)&&Do(qt,to=>Id(en,to))},ls=ht=>{Pn(ht,yt=>iu(Fe.fromDom(yt),"display"))},Xr=ht=>{Pn(ht,yt=>el(Fe.fromDom(yt),"display","none"))},yi=ht=>{const yt=Oe(ht);return Ee(yt)&&mf(Lr(yt,"display"),"none")},Xi=ht=>(ht||"mce_")+m++,ll=ht=>{const yt=Oe(ht);return Ee(yt)?En(yt.dom)?yt.dom.outerHTML:Ug(yt):""},Li=(ht,yt)=>{Pn(ht,en=>{En(en)&&(en.outerHTML=yt)})},Fi=(ht,yt)=>{const en=ve(yt);return Pn(ht,qt=>{const to=en==null?void 0:en.parentNode,Qo=en==null?void 0:en.nextSibling;return to&&(Qo?to.insertBefore(qt,Qo):to.appendChild(qt)),qt})},pc=(ht,yt,en)=>Pn(yt,qt=>{var to;const Qo=ae(yt)?ht.cloneNode(!0):ht;return en&&Tx(c0(qt.childNodes),Jr=>{Qo.appendChild(Jr)}),(to=qt.parentNode)===null||to===void 0||to.replaceChild(Qo,qt),qt}),Cg=(ht,yt)=>{if(ht.nodeName!==yt.toUpperCase()){const en=Vo(yt);return Tx(Qe(ht),qt=>{Xe(en,qt.nodeName,He(ht,qt.nodeName))}),pc(en,ht,!0),en}else return ht},_g=(ht,yt)=>{let en=ht;for(;en;){let qt=yt;for(;qt&&en!==qt;)qt=qt.parentNode;if(en===qt)break;en=en.parentNode}return!en&&ht.ownerDocument?ht.ownerDocument.documentElement:en},Sg=(ht,yt,en)=>ye(yt)?rc(Z,ht,{...en,isContent:to=>{const Qo=to.nodeName.toLowerCase();return!!yt[Qo]}}):rc(Z,ht,en),im=()=>e.createRange(),Oy=(ht,yt,en)=>{let qt=im(),to,Qo;if(ht&&yt&&ht.parentNode&&yt.parentNode){const Jr=ht.parentNode;return qt.setStart(Jr,Hm(ht)),qt.setEnd(yt.parentNode,Hm(yt)),to=qt.extractContents(),qt=im(),qt.setStart(yt.parentNode,Hm(yt)+1),qt.setEnd(Jr,Hm(ht)+1),Qo=qt.extractContents(),Jr.insertBefore(mp(av,to,Z),ht),en?Jr.insertBefore(en,ht):Jr.insertBefore(yt,ht),Jr.insertBefore(mp(av,Qo,Z),ht),Hs(ht),en||yt}else return},wk=(ht,yt,en,qt)=>{if(ae(ht)){let to=ht.length;const Qo=[];for(;to--;)Qo[to]=wk(ht[to],yt,en,qt);return Qo}else return t.collect&&(ht===e||ht===i)&&V.push([ht,yt,en,qt]),ee.bind(ht,yt,en,qt||av)},Ck=(ht,yt,en)=>{if(ae(ht)){let qt=ht.length;const to=[];for(;qt--;)to[qt]=Ck(ht[qt],yt,en);return to}else{if(V.length>0&&(ht===e||ht===i)){let qt=V.length;for(;qt--;){const[to,Qo,Jr]=V[qt];ht===to&&(!yt||yt===Qo)&&(!en||en===Jr)&&ee.unbind(to,Qo,Jr)}}return ee.unbind(ht,yt,en)}},DH=(ht,yt,en)=>ee.dispatch(ht,yt,en),m1=(ht,yt,en)=>ee.dispatch(ht,yt,en),OB=ht=>{if(ht&&lu(ht)){const yt=ht.getAttribute("data-mce-contenteditable");return yt&&yt!=="inherit"?yt:ht.contentEditable!=="inherit"?ht.contentEditable:null}else return null},av={doc:e,settings:t,win:i,files:c,stdMode:h,boxModel:C,styleSheetLoader:A,boundEvents:V,styles:Y,schema:Z,events:ee,isBlock:Se,root:null,clone:dt,getRoot:Bt,getViewPort:Yt,getRect:Vn,getSize:Cn,getParent:Rs,getParents:Ho,get:ve,getNext:ui,getPrev:kl,select:on,is:No,add:Yn,create:Vo,createHTML:Uo,createFragment:Ra,remove:Hs,setStyle:kt,getStyle:Nt,setStyles:bt,removeAllAttribs:ba,setAttrib:Xe,setAttribs:ys,getAttrib:He,getPos:pn,parseStyle:om,serializeStyle:Lh,addStyle:hc,loadCSS:hd,addClass:pd,removeClass:rm,hasClass:Un,toggleClass:sm,show:ls,hide:Xr,isHidden:yi,uniqueId:Xi,setHTML:ln,getOuterHTML:ll,setOuterHTML:Li,decode:gn,encode:Po,insertAfter:Fi,replace:pc,rename:Cg,findCommonAncestor:_g,run:Pn,getAttribs:Qe,isEmpty:Sg,createRng:im,nodeIndex:Hm,split:Oy,bind:wk,unbind:Ck,fire:m1,dispatch:DH,getContentEditable:OB,getContentEditableParent:ht=>{const yt=Bt();let en=null;for(let qt=ht;qt&&qt!==yt&&(en=OB(qt),en===null);qt=qt.parentNode);return en},isEditable:ht=>{if(Ee(ht)){const yt=En(ht)?ht:ht.parentElement;return Ee(yt)&&lu(yt)&&_r(Fe.fromDom(yt))}else return!1},destroy:()=>{if(V.length>0){let ht=V.length;for(;ht--;){const[yt,en,qt]=V[ht];ee.unbind(yt,en,qt)}}rs(c,(ht,yt)=>{A.unload(yt),delete c[yt]})},isChildOf:(ht,yt)=>ht===yt||yt.contains(ht),dumpRng:ht=>"startContainer: "+ht.startContainer.nodeName+", startOffset: "+ht.startOffset+", endContainer: "+ht.endContainer.nodeName+", endOffset: "+ht.endOffset},OO=$m(Y,t,et(av));return av};Gs.DOM=Gs(document),Gs.nodeIndex=Hm;const d0=Gs.DOM,fr=0,Ju=1,fu=2,nh=3;class bl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,i)=>{const c=d0;let m;const h=()=>{c.remove(V),m&&(m.onerror=m.onload=m=null)},C=()=>{h(),o()},A=()=>{h(),i("Failed to load script: "+t)},V=c.uniqueId();m=document.createElement("script"),m.id=V,m.type="text/javascript",m.src=Xt._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=C,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===fu}markDone(t){this.states[t]=fu}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=fr),new Promise((c,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,i=(A,V)=>{Os(o.scriptLoadedCallbacks,V).each(Z=>{pe(Z,Y=>Y[A](V))}),delete o.scriptLoadedCallbacks[V]},c=A=>{const V=vt(A,Z=>Z.status==="rejected");return V.length>0?Promise.reject(wo(V,({reason:Z})=>ae(Z)?Z:[Z])):Promise.resolve()},m=A=>Promise.allSettled(Be(A,V=>o.states[V]===fu?(i("resolve",V),Promise.resolve()):o.states[V]===nh?(i("reject",V),Promise.reject(V)):(o.states[V]=Ju,o.loadScript(V).then(()=>{o.states[V]=fu,i("resolve",V);const Z=o.queue;return Z.length>0?(o.queue=[],m(Z).then(c)):Promise.resolve()},()=>(o.states[V]=nh,i("reject",V),Promise.reject(V)))))),h=A=>(o.loading=!0,m(A).then(V=>{o.loading=!1;const Z=o.queueLoadedCallbacks.shift();return Q.from(Z).each(Fn),c(V)})),C=Bu(t);return o.loading?new Promise((A,V)=>{o.queueLoadedCallbacks.push(()=>{h(C).then(A,V)})}):h(C)}}bl.ScriptLoader=new bl;const fa=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Um=e=>K(e)&&ao(e,"raw"),Xv=e=>ae(e)&&e.length>1,oh={},Jv=Ri("en"),sh=()=>Os(oh,Jv.get()),Lc={getData:()=>Ul(oh,e=>({...e})),setCode:e=>{e&&Jv.set(e)},getCode:()=>Jv.get(),add:(e,t)=>{let o=oh[e];o||(oh[e]=o={});const i=Be(Kt(t),c=>c.toLowerCase());rs(t,(c,m)=>{const h=m.toLowerCase();h!==m&&fa(i,h)?(ao(t,h)||(o[h]=c),o[m]=c):o[h]=c})},translate:e=>{const t=sh().getOr({}),o=h=>Le(h)?Object.prototype.toString.call(h):i(h)?"":""+h,i=h=>h===""||h===null||h===void 0,c=h=>{const C=o(h);return ao(t,C)?o(t[C]):Os(t,C.toLowerCase()).map(o).getOr(C)},m=h=>h.replace(/{context:\w+}$/,"");if(i(e))return"";if(Um(e))return o(e.raw);if(Xv(e)){const h=e.slice(1),C=c(e[0]).replace(/\{([0-9]+)\}/g,(A,V)=>ao(h,V)?o(h[V]):A);return m(C)}return m(c(e))},isRtl:()=>sh().bind(e=>Os(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(oh,e)},ol=()=>{const e=[],t={},o={},i=[],c=(ve,Oe)=>{const He=vt(i,Qe=>Qe.name===ve&&Qe.state===Oe);pe(He,Qe=>Qe.resolve())},m=ve=>ao(t,ve),h=ve=>ao(o,ve),C=ve=>{if(o[ve])return o[ve].instance},A=(ve,Oe)=>{const He=Lc.getCode(),Qe=","+(Oe||"")+",";!He||Oe&&Qe.indexOf(","+He+",")===-1||bl.ScriptLoader.add(t[ve]+"/langs/"+He+".js")},V=(ve,Oe)=>{ol.languageLoad!==!1&&(m(ve)?A(ve,Oe):Se(ve,"loaded").then(()=>A(ve,Oe)))},Z=(ve,Oe)=>(e.push(Oe),o[ve]={instance:Oe},c(ve,"added"),Oe),Y=ve=>{delete t[ve],delete o[ve]},ee=(ve,Oe)=>he(Oe)?he(ve)?{prefix:"",resource:Oe,suffix:""}:{prefix:ve.prefix,resource:Oe,suffix:ve.suffix}:Oe,ge=(ve,Oe)=>{if(t[ve])return Promise.resolve();let He=he(Oe)?Oe:Oe.prefix+Oe.resource+Oe.suffix;He.indexOf("/")!==0&&He.indexOf("://")===-1&&(He=ol.baseURL+"/"+He),t[ve]=He.substring(0,He.lastIndexOf("/"));const Qe=()=>(c(ve,"loaded"),Promise.resolve());return o[ve]?Qe():bl.ScriptLoader.add(He).then(Qe)},Se=(ve,Oe="added")=>Oe==="added"&&h(ve)||Oe==="loaded"&&m(ve)?Promise.resolve():new Promise(He=>{i.push({name:ve,state:Oe,resolve:He})});return{items:e,urls:t,lookup:o,get:C,requireLangPack:V,add:Z,remove:Y,createUrl:ee,load:ge,waitFor:Se}};ol.languageLoad=!0,ol.baseURL="",ol.PluginManager=ol(),ol.ThemeManager=ol(),ol.ModelManager=ol();const rh=(e,t)=>{let o=null;return{cancel:()=>{Ue(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ue(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},vp=(e,t)=>{let o=null;const i=()=>{Ue(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...m)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},NC=(e,t,o)=>ru(e,t,o).isSome(),Nr=et("mce-annotation"),Pr=et("data-mce-annotation"),ni=et("data-mce-annotation-uid"),Ms=et("data-mce-annotation-active"),Er=et("data-mce-annotation-classes"),Gr=et("data-mce-annotation-attrs"),f0=e=>t=>Yo(t,e),m0=(e,t)=>{const o=e.selection.getRng(),i=Fe.fromDom(o.startContainer),c=Fe.fromDom(e.getBody()),m=t.fold(()=>"."+Nr(),A=>`[${Pr()}="${A}"]`),h=Wu(i,o.startOffset).getOr(i);return Zi(h,m,f0(c)).bind(A=>eu(A,`${ni()}`).bind(V=>eu(A,`${Pr()}`).map(Z=>{const Y=Nx(e,V);return{uid:V,name:Z,elements:Y}})))},Ix=e=>$r(e)&&Id(e,Nr()),Qv=(e,t)=>Od(e,"data-mce-bogus")||NC(e,'[data-mce-bogus="all"]',f0(t)),Nx=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=pi(o,`[${ni()}="${t}"]`);return vt(i,c=>!Qv(c,o))},ih=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=pi(o,`[${Pr()}="${t}"]`),c={};return pe(i,m=>{if(!Qv(m,o)){const h=ka(m,ni()),C=Os(c,h).getOr([]);c[h]=C.concat([m])}}),c},g0=(e,t)=>{const o=Ri({}),i=()=>({listeners:[],previous:Ii()}),c=(Y,ee)=>{m(Y,ge=>(ee(ge),ge))},m=(Y,ee)=>{const ge=o.get(),Se=Os(ge,Y).getOrThunk(i),ve=ee(Se);ge[Y]=ve,o.set(ge)},h=(Y,ee,ge)=>{c(Y,Se=>{pe(Se.listeners,ve=>ve(!0,Y,{uid:ee,nodes:Be(ge,Oe=>Oe.dom)}))})},C=Y=>{c(Y,ee=>{pe(ee.listeners,ge=>ge(!1,Y))})},A=(Y,ee)=>{pe(Nx(e,Y),ge=>{ee?xi(ge,Ms(),"true"):Ro(ge,Ms())})},V=vp(()=>{const Y=fs(t.getNames());pe(Y,ee=>{m(ee,ge=>{const Se=ge.previous.get();return m0(e,Q.some(ee)).fold(()=>{Se.each(ve=>{C(ee),ge.previous.clear(),A(ve,!1)})},({uid:ve,name:Oe,elements:He})=>{mf(Se,ve)||(Se.each(Qe=>A(Qe,!1)),h(Oe,ve,He),ge.previous.set(ve),A(ve,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{V.cancel()}),e.on("NodeChange",()=>{V.throttle()}),{addListener:(Y,ee)=>{m(Y,ge=>({previous:ge.previous,listeners:ge.listeners.concat([ee])}))}}},h0=(e,t)=>{const o=Pr(),i=m=>Q.from(m.attr(o)).bind(t.lookup),c=m=>{var h,C;m.attr(ni(),null),m.attr(Pr(),null),m.attr(Ms(),null);const A=Q.from(m.attr(Gr())).map(ee=>ee.split(",")).getOr([]),V=Q.from(m.attr(Er())).map(ee=>ee.split(",")).getOr([]);pe(A,ee=>m.attr(ee,null));const Z=(C=(h=m.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&C!==void 0?C:[],Y=cs(Z,[Nr()].concat(V));m.attr("class",Y.length>0?Y.join(" "):null),m.attr(Er(),null),m.attr(Gr(),null)};e.serializer.addTempAttr(Ms()),e.serializer.addAttributeFilter(o,m=>{for(const h of m)i(h).each(C=>{C.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},Px=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Os(e,c).map(m=>m.settings),getNames:()=>Kt(e)}},eb=(e,t,o)=>Math.min(Math.max(e,t),o),yl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Mx=0;const za=e=>{const o=new Date().getTime(),i=Math.floor(yl()*1e9);return Mx++,e+"_"+i+Mx+String(o)},tb=(e,t)=>{pe(t,o=>{Rd(e,o)})},ah=(e,t)=>{pe(t,o=>{Ma(e,o)})},mu=(e,t)=>Fe.fromDom(e.dom.cloneNode(t)),qr=e=>mu(e,!1),Zm=e=>mu(e,!0),Bx=(e,t)=>{const o=Fe.fromTag(t),i=hl(e);return Pa(o,i),o},Lx=(e,t)=>{const o=Bx(e,t);it(e,o);const i=la(e);return ti(o,i),Ds(e),o},nb=(e,t,o=fn)=>{const i=new ca(e,t),c=m=>{let h;do h=i[m]();while(h&&!Ut(h)&&!o(h));return Q.from(h).filter(Ut)};return{current:()=>Q.from(i.current()).filter(Ut),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Hd=(e,t)=>{const o=t||(h=>e.isBlock(h)||pr(h)||fo(h)),i=(h,C,A,V)=>{if(Ut(h)){const Z=V(h,C,h.data);if(Z!==-1)return Q.some({container:h,offset:Z})}return A().bind(Z=>i(Z.container,Z.offset,A,V))};return{backwards:(h,C,A,V)=>{const Z=nb(h,V??e.getRoot(),o);return i(h,C,()=>Z.prev().map(Y=>({container:Y,offset:Y.length})),A).getOrNull()},forwards:(h,C,A,V)=>{const Z=nb(h,V??e.getRoot(),o);return i(h,C,()=>Z.next().map(Y=>({container:Y,offset:0})),A).getOrNull()}}},ob=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return i(m).getOr("")},i=m=>e(m)?Q.from(m.dom.nodeValue):Q.none();return{get:o,getOption:i,set:(m,h)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=h}}})(ur,"text"),jm=e=>ob.get(e),PC=e=>ob.getOption(e),sb=(e,t)=>ob.set(e,t),rb=["td","th"],p0=["thead","tbody","tfoot"],bp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],v0=["li","dd","dt"],Ha=["ul","ol","dl"],Fx=["pre","script","textarea","style"],$d=e=>{let t;return o=>(t=t||ar(e,_n),ao(t,qo(o)))},ib=e=>qo(e)==="table",Qu=e=>$r(e)&&qo(e)==="br",ab=$d(bp),lb=$d(Ha),Km=$d(v0),lh=$d(p0),Fc=$d(rb),cb=$d(Fx),bE=e=>{const t=[];let o=e.dom;for(;o;)t.push(Fe.fromDom(o)),o=o.lastChild;return t},ac=e=>{const t=pi(e,"br"),o=vt(bE(e).slice(-1),Qu);t.length===o.length&&pe(o,Ds)},Ud=()=>{const e=Fe.fromTag("br");return xi(e,"data-mce-bogus","1"),e},Vc=e=>{Qs(e),Wr(e,Ud())},Vx=(e,t)=>{Zu(e).each(o=>{wi(o).each(i=>{t.isBlock(qo(e))&&Qu(o)&&t.isBlock(qo(i))&&Ds(o)})})},_i=Rr,zc=qu,xl=rp,yE=e=>e.insertContent(_i,{preserve_zwsp:!0}),Mf=En,Wd=Ut,yp=e=>(Wd(e)&&(e=e.parentNode),Mf(e)&&e.hasAttribute("data-mce-caret")),Gm=e=>Wd(e)&&zc(e.data),Kl=e=>yp(e)||Gm(e),b0=e=>e.firstChild!==e.lastChild||!pr(e.firstChild),y0=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i),m=e.parentNode;if(t){const h=e.previousSibling;if(Wd(h)){if(Kl(h))return h;if(Zd(h))return h.splitText(h.data.length-1)}m==null||m.insertBefore(c,e)}else{const h=e.nextSibling;if(Wd(h)){if(Kl(h))return h;if(db(h))return h.splitText(1),h}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},ub=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset())===_i||e.isAtStart()&&Gm(t.previousSibling):!1},x0=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset()-1)===_i||e.isAtEnd()&&Gm(t.nextSibling):!1},MC=(e,t,o)=>{var i;const m=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(Ud().dom);const h=t.parentNode;return o?h==null||h.insertBefore(m,t):t.nextSibling?h==null||h.insertBefore(m,t.nextSibling):h==null||h.appendChild(m),m},db=e=>Wd(e)&&e.data[0]===_i,Zd=e=>Wd(e)&&e.data[e.data.length-1]===_i,fb=e=>{var t;const o=e.getElementsByTagName("br"),i=o[o.length-1];Ef(i)&&((t=i.parentNode)===null||t===void 0||t.removeChild(i))},ch=e=>e&&e.hasAttribute("data-mce-caret")?(fb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,uh=e=>yp(e.startContainer),Bf=Math.round,Lf=e=>e?{left:Bf(e.left),top:Bf(e.top),bottom:Bf(e.bottom),right:Bf(e.right),width:Bf(e.width),height:Bf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mb=(e,t)=>(e=Lf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Ff=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Vf=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,zf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Vf(t.top-e.bottom,e,t)},dh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Vf(t.bottom-e.top,e,t),w0=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,xp=e=>Vt(e,(t,o)=>t.fold(()=>Q.some(o),i=>{const c=Math.min(o.left,i.left),m=Math.min(o.top,i.top),h=Math.max(o.right,i.right),C=Math.max(o.bottom,i.bottom);return Q.some({top:m,right:h,bottom:C,left:c,width:h-c,height:C-m})}),Q.none()),C0=(e,t,o)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(o-c)*(o-c))},zx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),wp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},Si=(e,t)=>{if(En(e)&&e.hasChildNodes()){const o=e.childNodes,i=eb(t,0,o.length-1);return o[i]}else return e},Hx=(e,t)=>{if(!(t<0&&En(e)&&e.hasChildNodes()))return Si(e,t)},BC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),$x=e=>he(e)&&e.charCodeAt(0)>=768&&BC.test(e),Ux=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Hf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},_0=Ic,gb=fo,Wx=pr,xE=Ut,$f=ua(["script","style","textarea"]),hb=ua(["img","input","textarea","hr","iframe","video","audio","object","embed"]),LC=ua(["table"]),FC=Kl,gu=e=>FC(e)?!1:xE(e)?!$f(e.parentNode):hb(e)||Wx(e)||LC(e)||S0(e),Zx=e=>En(e)&&e.getAttribute("unselectable")==="true",S0=e=>!Zx(e)&&gb(e),VC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(S0(o))return!1;if(_0(o))return!0}return!0},fh=e=>S0(e)?!Vt(vo(e.getElementsByTagName("*")),(t,o)=>t||_0(o),!1):!1,Cp=e=>hb(e)||fh(e),pb=(e,t)=>gu(e)&&VC(e,t),zC=En,hu=gu,qm=Dc("display","block table"),vb=Dc("float","left right"),bb=Hf(zC,hu,Ye(vb)),k0=Ye(Dc("white-space","pre pre-line pre-wrap")),yb=Ut,ga=pr,E0=Gs.nodeIndex,Ym=Hx,Xm=e=>e?e.createRange():Gs.DOM.createRng(),xb=e=>he(e)&&/[\r\n\t ]/.test(e),A0=e=>!!e.setStart&&!!e.setEnd,mh=e=>{const t=e.startContainer,o=e.startOffset;if(xb(e.toString())&&k0(t.parentNode)&&Ut(t)){const i=t.data;if(xb(i[o-1])||xb(i[o+1]))return!0}return!1},Uf=e=>{const t=e.ownerDocument,o=Xm(t),i=t.createTextNode(Di),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const m=Lf(o.getBoundingClientRect());return c.removeChild(i),m},jx=e=>{const t=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(t===o&&Ut(o)&&i===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),sl(m)}else return null},T0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,sl=e=>{var t;let o;const i=e.getClientRects();return i.length>0?o=Lf(i[0]):o=Lf(e.getBoundingClientRect()),!A0(e)&&ga(e)&&T0(o)?Uf(e):T0(o)&&A0(e)&&(t=jx(e))!==null&&t!==void 0?t:o},Wf=(e,t)=>{const o=mb(e,t);return o.width=1,o.right=o.left+1,o},Kx=e=>{const t=[],o=h=>{h.height!==0&&(t.length>0&&Ff(h,t[t.length-1])||t.push(h))},i=(h,C)=>{const A=Xm(h.ownerDocument);if(C<h.data.length){if($x(h.data[C]))return;if($x(h.data[C-1])&&(A.setStart(h,C),A.setEnd(h,C+1),!mh(A))){o(Wf(sl(A),!1));return}}C>0&&(A.setStart(h,C-1),A.setEnd(h,C),mh(A)||o(Wf(sl(A),!1))),C<h.data.length&&(A.setStart(h,C),A.setEnd(h,C+1),mh(A)||o(Wf(sl(A),!0)))},c=e.container(),m=e.offset();if(yb(c))return i(c,m),t;if(zC(c))if(e.isAtEnd()){const h=Ym(c,m);yb(h)&&i(h,h.data.length),bb(h)&&!ga(h)&&o(Wf(sl(h),!1))}else{const h=Ym(c,m);if(yb(h)&&i(h,0),bb(h)&&e.isAtEnd())return o(Wf(sl(h),!1)),t;const C=Ym(e.container(),e.offset()-1);bb(C)&&!ga(C)&&(qm(C)||qm(h)||!bb(h))&&o(Wf(sl(C),!1)),bb(h)&&o(Wf(sl(h),!0))}return t},xt=(e,t,o)=>{const i=()=>(yb(e),t===0),c=()=>yb(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const Z=Xm(e.ownerDocument);return Z.setStart(e,t),Z.setEnd(e,t),Z},h=()=>(o||(o=Kx(xt(e,t))),o),C=()=>h().length>0,A=Z=>Z&&e===Z.container()&&t===Z.offset(),V=Z=>Ym(e,Z?t-1:t);return{container:et(e),offset:et(t),toRange:m,getClientRects:h,isVisible:C,isAtStart:i,isAtEnd:c,isEqual:A,getNode:V}};xt.fromRangeStart=e=>xt(e.startContainer,e.startOffset),xt.fromRangeEnd=e=>xt(e.endContainer,e.endOffset),xt.after=e=>xt(e.parentNode,E0(e)+1),xt.before=e=>xt(e.parentNode,E0(e)),xt.isAbove=(e,t)=>sa(hn(t.getClientRects()),Eo(e.getClientRects()),zf).getOr(!1),xt.isBelow=(e,t)=>sa(Eo(t.getClientRects()),hn(e.getClientRects()),dh).getOr(!1),xt.isAtStart=e=>e?e.isAtStart():!1,xt.isAtEnd=e=>e?e.isAtEnd():!1,xt.isTextPosition=e=>e?Ut(e.container()):!1,xt.isElementPosition=e=>!xt.isTextPosition(e);const _p=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},wE=(e,t,o)=>{t.insertNode(o),_p(e,o.previousSibling),_p(e,o.nextSibling)},HC=(e,t,o)=>{const i=Q.from(o.firstChild),c=Q.from(o.lastChild);t.insertNode(o),i.each(m=>_p(e,m.previousSibling)),c.each(m=>_p(e,m.nextSibling))},O0=(e,t,o)=>{Tf(o)?HC(e,t,o):wE(e,t,o)},pu=Ut,D0=Ef,wb=Gs.nodeIndex,Gx=e=>{const t=e.parentNode;return D0(t)?Gx(t):t},qx=e=>e?dl(e.childNodes,(t,o)=>(D0(o)&&o.nodeName!=="BR"?t=t.concat(qx(o)):t.push(o),t),[]):[],CE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&pu(o);)t+=o.data.length;return t},y=e=>t=>e===t,_=e=>{let t,o;t=qx(Gx(e)),o=lr(t,y(e),e),t=t.slice(0,o+1);const i=dl(t,(c,m,h)=>(pu(m)&&pu(t[h-1])&&c++,c),0);return t=Ga(t,ua([e.nodeName])),o=lr(t,y(e),e),o-i},T=e=>(pu(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",B=(e,t,o)=>{const i=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},H=(e,t)=>{let o=[],i=t.container(),c=t.offset(),m;if(pu(i))m=CE(i,c);else{const C=i.childNodes;c>=C.length?(m="after",c=C.length-1):m="before",i=C[c]}o.push(T(i));let h=B(e,i);return h=Ga(h,Ye(Ef)),o=o.concat(xm(h,C=>T(C))),o.reverse().join("/")+","+m},U=(e,t,o)=>{let i=qx(e);return i=Ga(i,(c,m)=>!pu(c)||!pu(i[m-1])),i=Ga(i,ua([t])),i[o]},te=(e,t)=>{let o=e,i=0;for(;pu(o);){const c=o.data.length;if(t>=i&&t<=i+c){e=o,t=t-i;break}if(!pu(o.nextSibling)){e=o,t=c;break}i+=c,o=o.nextSibling}return pu(e)&&t>e.data.length&&(t=e.data.length),xt(e,t)},se=(e,t)=>{if(!t)return null;const o=t.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",m=dl(i,(h,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(h,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!pu(m)&&m.parentNode){let h;return c==="after"?h=wb(m)+1:h=wb(m),xt(m.parentNode,h)}return te(m,parseInt(c,10))},we=fo,Ie=(e,t,o)=>{let i=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&Ut(c);c=c.previousSibling)i+=e(c.data).length;return i},Ze=(e,t,o,i,c)=>{const m=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const C=[],A=e.getRoot();if(Ut(m))C.push(o?Ie(t,m,h):h);else{let V=0;const Z=m.childNodes;h>=Z.length&&Z.length&&(V=1,h=Math.max(0,Z.length-1)),C.push(e.nodeIndex(Z[h],o)+V)}for(let V=m;V&&V!==A;V=V.parentNode)C.push(e.nodeIndex(V,o));return C},De=(e,t,o,i)=>{const c=t.dom,m=Ze(c,e,o,i,!0),h=t.isForward(),C=uh(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:h,...C};{const A=Ze(c,e,o,i,!1);return{start:m,end:A,forward:h,...C}}},Pe=(e,t,o)=>{let i=0;return Xt.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},Ve=(e,t)=>{let o=t?e.startContainer:e.endContainer,i=t?e.startOffset:e.endOffset;if(En(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?i:i-1,c.length-1)],o&&(i=t?0:o.childNodes.length,t?e.setStart(o,i):e.setEnd(o,i))}},rt=e=>(Ve(e,!0),Ve(e,!1),e),at=(e,t)=>{if(En(e)&&(e=Si(e,t),we(e)))return e;if(Kl(e)){Ut(e)&&yp(e)&&(e=e.parentNode);let o=e.previousSibling;if(we(o)||(o=e.nextSibling,we(o)))return o}},Ot=e=>at(e.startContainer,e.startOffset)||at(e.endContainer,e.endOffset),It=(e,t,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||we(i)){const h=i.nodeName;return{name:h,index:Pe(o.dom,h,i)}}const m=Ot(c);if(m){const h=m.tagName;return{name:h,index:Pe(o.dom,h,m)}}return De(e,o,t,c)},Tt=e=>{const t=e.getRng();return{start:H(e.dom.getRoot(),xt.fromRangeStart(t)),end:H(e.dom.getRoot(),xt.fromRangeEnd(t)),forward:e.isForward()}},Pt=e=>({rng:e.getRng(),forward:e.isForward()}),Gt=(e,t,o)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Qt=(e,t)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),h=e.getNode(),C=h.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Pe(o,C,h)};const V=rt(i.cloneRange());if(!m){V.collapse(!1);const Y=Gt(o,c+"_end",t);O0(o,V,Y)}i=rt(i),i.collapse(!0);const Z=Gt(o,c+"_start",t);return O0(o,i,Z),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},lt=(e,t,o=!1)=>t===2?It(xl,o,e):t===3?Tt(e):t?Pt(e):Qt(e,!1),yn=tt(It,pt,!0),Xn=e=>{const t=m=>m(e),o=et(e),i=()=>c,c={tag:!0,inner:e,fold:(m,h)=>h(e),isValue:_n,isError:fn,map:m=>Jn.value(m(e)),mapError:i,bind:t,exists:t,forall:t,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:m=>{m(e)},toOptional:()=>Q.some(e)};return c},yo=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:fn,isError:_n,map:t,mapError:i=>Jn.error(i(e)),bind:t,exists:fn,forall:_n,getOr:pt,or:pt,getOrThunk:oo,orThunk:oo,getOrDie:Mt(String(e)),each:ct,toOptional:Q.none};return o},Jn={value:Xn,error:yo,fromOption:(e,t)=>e.fold(()=>yo(t),Xn)},Go={generate:e=>{if(!ae(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return pe(e,(i,c)=>{const m=Kt(i);if(m.length!==1)throw new Error("one and only one name per case");const h=m[0],C=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ae(C))throw new Error("case arguments must be an array");t.push(h),o[h]=(...A)=>{const V=A.length;if(V!==C.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+C.length+" ("+C+"), got "+V);return{fold:(...Y)=>{if(Y.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Y.length);return Y[c].apply(null,A)},match:Y=>{const ee=Kt(Y);if(t.length!==ee.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+ee.join(","));if(!Do(t,Se=>ie(ee,Se)))throw new Error("Not all branches were specified when using match. Specified: "+ee.join(", ")+`
Required: `+t.join(", "));return Y[h].apply(null,A)},log:Y=>{console.log(Y,{constructors:t,constructor:h,params:A})}}}}),o}};Go.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const oi=e=>{const t=[],o=[];return pe(e,i=>{i.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Ta=e=>e.type==="inline-command"||e.type==="inline-format",Gi=e=>e.type==="block-command"||e.type==="block-format",lc=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Jm=e=>{var t;const o=c=>Jn.error({message:c,pattern:e}),i=(c,m,h)=>{if(e.format!==void 0){let C;if(ae(e.format)){if(!Do(e.format,he))return o(c+" pattern has non-string items in the `format` array");C=e.format}else if(he(e.format))C=[e.format];else return o(c+" pattern has non-string `format` parameter");return Jn.value(m(C))}else return e.cmd!==void 0?he(e.cmd)?Jn.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!K(e))return o("Raw pattern is not an object");if(!he(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!he(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:m,format:h}),(h,C)=>({type:"inline-command",start:c,end:m,cmd:h,value:C}))}else{if(e.replacement!==void 0)return he(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Jn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,h)=>({type:"block-command",start:e.start,cmd:m,value:h,trigger:c}))}}},Oa=e=>vt(e,Gi),ed=e=>vt(e,Ta),Sp=(e,t)=>({inlinePatterns:ed(e),blockPatterns:Oa(e),dynamicPatternsLookup:t}),Zf=(e,t)=>({...e,blockPatterns:vt(e.blockPatterns,o=>lc(o,t))}),kp=e=>{const t=oi(Be(e,Jm));return pe(t.errors,o=>console.error(o.message,o.pattern)),t.values},R0=e=>t=>{const o=e(t);return kp(o)},jf=na().deviceType,$C=jf.isTouch(),w8=Gs.DOM,C8=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Vt(t,(o,i)=>{const c=i.split("="),m=c[0],h=c.length>1?c[1]:m;return o[Ne(m)]=Ne(h),o},{})},LD=e=>Me(e,RegExp),xn=e=>t=>t.options.get(e),Yx=e=>he(e)||K(e),_E=(e,t="")=>o=>{const i=he(o);if(i)if(o.indexOf("=")!==-1){const c=C8(o);return{value:Os(c,e.id).getOr(t),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},UC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:_E(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:_E(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const i=he(o)&&Je(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const i=ie(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>We(o)?{valid:!0,value:o}:he(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const i=o===!1||he(o)||Ke(o,he);return i?he(o)?{value:Be(o.split(","),Ne),valid:i}:ae(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Cb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const i=he(o)||Ke(o,he);return i?{value:ae(o)?o:Be(o.split(","),Ne),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const i=We(o)||he(o);return i?o===!1||jf.isiPhone()||jf.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!$C}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||he(o)||Le(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const i=o===!1||he(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Yx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Yx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Yx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Yx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>he(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Ke(o,K)||o===!1?{value:kp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Le(o)?{value:R0(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Ke(o,LD)?{value:o,valid:!0}:LD(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const i=ie(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const i=ie(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Lc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:w8.getAttrib(e.getElement(),"placeholder")})})},wl=xn("iframe_attrs"),jd=xn("doctype"),vu=xn("document_base_url"),WC=xn("body_id"),SE=xn("body_class"),FD=xn("content_security_policy"),kE=xn("br_in_pre"),rl=xn("forced_root_block"),Xx=xn("forced_root_block_attrs"),EE=xn("newline_behavior"),VD=xn("br_newline_selector"),zD=xn("no_newline_selector"),AE=xn("keep_styles"),TE=xn("end_container_on_empty_block"),qs=xn("automatic_uploads"),gh=xn("images_reuse_filename"),HD=xn("images_replace_blob_uris"),OE=xn("icons"),$D=xn("icons_url"),DE=xn("images_upload_url"),UD=xn("images_upload_base_path"),RE=xn("images_upload_credentials"),_8=xn("images_upload_handler"),WD=xn("content_css_cors"),Jx=xn("referrer_policy"),IE=xn("language"),S8=xn("language_url"),ZD=xn("indent_use_margin"),bu=xn("indentation"),Bl=xn("content_css"),I0=xn("content_style"),jD=xn("font_css"),k8=xn("directionality"),ns=xn("inline_boundaries_selector"),KD=xn("object_resizing"),GD=xn("resize_img_proportional"),NE=xn("placeholder"),qD=xn("event_root"),E8=xn("service_message"),N0=xn("theme"),A8=xn("theme_url"),Qx=xn("model"),PE=xn("model_url"),P0=xn("inline_boundaries"),T8=xn("formats"),O8=xn("preview_styles"),D8=xn("format_empty_lines"),ro=xn("format_noneditable_selector"),YD=xn("custom_ui_selector"),Cb=xn("inline"),ME=xn("hidden_input"),XD=xn("submit_patch"),JD=xn("add_form_submit_trigger"),QD=xn("add_unload_trigger"),e5=xn("custom_undo_redo_levels"),R8=xn("disable_nodechange"),t5=xn("readonly"),Ss=xn("editable_root"),n5=xn("content_css_cors"),Kd=xn("plugins"),Qm=xn("external_plugins"),ZC=xn("block_unsupported_drop"),Hc=xn("visual"),jC=xn("visual_table_class"),M0=xn("visual_anchor_class"),e2=xn("iframe_aria_text"),B0=xn("setup"),I8=xn("init_instance_callback"),N8=xn("urlconverter_callback"),P8=xn("auto_focus"),M8=xn("browser_spellcheck"),as=xn("protect"),Kf=xn("paste_block_drop"),eg=xn("paste_data_images"),B8=xn("paste_preprocess"),t2=xn("paste_postprocess"),ms=xn("newdocument_content"),o5=xn("paste_webkit_styles"),BE=xn("paste_remove_styles_if_webkit"),L8=xn("paste_merge_formats"),_b=xn("smart_paste"),Sb=xn("paste_as_text"),s5=xn("paste_tab_spaces"),F8=xn("allow_html_data_urls"),V8=xn("text_patterns"),n2=xn("text_patterns_lookup"),kb=xn("noneditable_class"),z8=xn("editable_class"),r5=xn("noneditable_regexp"),H8=xn("preserve_cdata"),i5=xn("highlight_on_focus"),a5=xn("xss_sanitization"),l5=xn("init_content_sync"),LE=e=>e.options.isSet("text_patterns_lookup"),FE=e=>Xt.explode(e.options.get("font_size_style_values")),VE=e=>Xt.explode(e.options.get("font_size_classes")),c5=e=>e.options.get("encoding")==="xml",zE=e=>Xt.explode(e.options.get("images_file_types")),u5=xn("table_tab_navigation"),KC=xn("details_initial_state"),d5=xn("details_serialized_state"),HE=xn("sandbox_iframes"),GC=e=>e.options.get("sandbox_iframes_exclusions"),f5=xn("convert_unsafe_embeds"),m5=xn("license_key"),g5=xn("api_key"),$8=En,h5=Ut,o2=e=>{const t=e.parentNode;t&&t.removeChild(e)},$E=e=>{const t=xl(e);return{count:e.length-t.length,text:t}},UE=e=>{let t;for(;(t=e.data.lastIndexOf(_i))!==-1;)e.deleteData(t,1)},WE=(e,t)=>(Ep(e),t),U8=(e,t)=>{const o=$E(e.data.substr(0,t.offset())),i=$E(e.data.substr(t.offset()));return(o.text+i.text).length>0?(UE(e),xt(e,t.offset()-o.count)):t},W8=(e,t)=>{const o=t.container(),i=je(vo(o.childNodes),e).map(c=>c<t.offset()?xt(o,t.offset()-1):t).getOr(t);return Ep(e),i},Z8=(e,t)=>h5(e)&&t.container()===e?U8(e,t):WE(e,t),j8=(e,t)=>t.container()===e.parentNode?W8(e,t):WE(e,t),K8=(e,t)=>xt.isTextPosition(t)?Z8(e,t):j8(e,t),Ep=e=>{$8(e)&&Kl(e)&&(b0(e)?e.removeAttribute("data-mce-caret"):o2(e)),h5(e)&&(UE(e),e.data.length===0&&o2(e))},p5=fo,qC=St,G8=lp,ZE="*[contentEditable=false],video,audio,embed,object",v5=(e,t,o)=>{const i=mb(t.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;c=e.scrollLeft||C.scrollLeft,m=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();c=e.scrollLeft-C.left,m=e.scrollTop-C.top}i.left+=c,i.right+=c,i.top+=m,i.bottom+=m,i.width=1;let h=t.offsetWidth-t.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},b5=e=>{var t,o;const i=pi(Fe.fromDom(e),ZE);for(let c=0;c<i.length;c++){const m=i[c].dom;let h=m.previousSibling;if(Zd(h)){const C=h.data;C.length===1?(t=h.parentNode)===null||t===void 0||t.removeChild(h):h.deleteData(C.length-1,1)}h=m.nextSibling,db(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},y5=(e,t,o,i)=>{const c=Ii();let m,h;const C=rl(e),A=e.dom,V=(ve,Oe)=>{let He;if(Z(),G8(Oe))return null;if(o(Oe)){const Qe=MC(C,Oe,ve),Xe=v5(t,Oe,ve);A.setStyle(Qe,"top",Xe.top),A.setStyle(Qe,"caret-color","transparent"),h=Qe;const dt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(dt,{...Xe}),A.add(t,dt),c.set({caret:dt,element:Oe,before:ve}),ve&&A.addClass(dt,"mce-visual-caret-before"),Y(),He=Oe.ownerDocument.createRange(),He.setStart(Qe,0),He.setEnd(Qe,0)}else return h=y0(Oe,ve),He=Oe.ownerDocument.createRange(),s2(h.nextSibling)?(He.setStart(h,0),He.setEnd(h,0)):(He.setStart(h,1),He.setEnd(h,1)),He;return He},Z=()=>{b5(t),h&&(Ep(h),h=null),c.on(ve=>{A.remove(ve.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},Y=()=>{m=setInterval(()=>{c.on(ve=>{i()?A.toggleClass(ve.caret,"mce-visual-caret-hidden"):A.addClass(ve.caret,"mce-visual-caret-hidden")})},500)};return{show:V,hide:Z,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ve=>{const Oe=v5(t,ve.element,ve.before);A.setStyles(ve.caret,{...Oe})})},destroy:()=>clearInterval(m)}},jE=()=>Bo.browser.isFirefox(),s2=e=>p5(e)||qC(e),r2=e=>(s2(e)||cu(e)&&jE())&&xf(Fe.fromDom(e)).exists(_r),YC=Ic,XC=fo,x5=St,KE=Dc("display","block table table-cell table-caption list-item"),GE=Kl,w5=yp,q8=En,JC=Ut,C5=gu,Eb=e=>e>0,Ab=e=>e<0,QC=(e,t)=>{let o;for(;o=e(t);)if(!w5(o))return o;return null},i2=(e,t,o,i,c)=>{const m=new ca(e,i),h=XC(e)||w5(e);let C;if(Ab(t)){if(h&&(C=QC(m.prev.bind(m),!0),o(C)))return C;for(;C=QC(m.prev.bind(m),c);)if(o(C))return C}if(Eb(t)){if(h&&(C=QC(m.next.bind(m),!0),o(C)))return C;for(;C=QC(m.next.bind(m),c);)if(o(C))return C}return null},Y8=(e,t)=>{const o=c=>YC(c.dom),i=c=>c.dom===t;return Qa(Fe.fromDom(e),o,i).map(c=>c.dom).getOr(t)},Ap=(e,t)=>{for(;e&&e!==t;){if(KE(e))return e;e=e.parentNode}return null},tg=(e,t,o)=>Ap(e.container(),o)===Ap(t.container(),o),e_=(e,t)=>{if(!t)return Q.none();const o=t.container(),i=t.offset();return q8(o)?Q.from(o.childNodes[i+e]):Q.none()},_5=(e,t)=>{var o;const c=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)),c},S5=(e,t,o)=>Ap(t,e)===Ap(o,e),qE=(e,t,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let m=c[i];if(m&&GE(m)&&(m=m[i]),XC(m)||x5(m)){if(S5(t,m,c))return m;break}if(C5(m))break;c=c.parentNode}return null},a2=tt(_5,!0),l2=tt(_5,!1),YE=(e,t,o)=>{let i;const c=tt(qE,!0,t),m=tt(qE,!1,t),h=o.startContainer,C=o.startOffset;if(yp(h)){const A=JC(h)?h.parentNode:h,V=A.getAttribute("data-mce-caret");if(V==="before"&&(i=A.nextSibling,r2(i)))return a2(i);if(V==="after"&&(i=A.previousSibling,r2(i)))return l2(i)}if(!o.collapsed)return o;if(Ut(h)){if(GE(h)){if(e===1){if(i=m(h),i)return a2(i);if(i=c(h),i)return l2(i)}if(e===-1){if(i=c(h),i)return l2(i);if(i=m(h),i)return a2(i)}return o}if(Zd(h)&&C>=h.data.length-1)return e===1&&(i=m(h),i)?a2(i):o;if(db(h)&&C<=1)return e===-1&&(i=c(h),i)?l2(i):o;if(C===h.data.length)return i=m(h),i?a2(i):o;if(C===0)return i=c(h),i?l2(i):o}return o},k5=(e,t)=>e_(e?0:-1,t).filter(XC),c2=(e,t,o)=>{const i=YE(e,t,o);return e===-1?xt.fromRangeStart(i):xt.fromRangeEnd(i)},t_=e=>Q.from(e.getNode()).map(Fe.fromDom),X8=e=>Q.from(e.getNode(!0)).map(Fe.fromDom),XE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},n_=(e,t)=>{const o=tg(e,t);return!o&&pr(e.getNode())?!0:o};var $a;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($a||($a={}));const J8=fo,ng=Ut,E5=En,Nn=pr,Tb=gu,JE=Cp,o_=pb,QE=(e,t)=>{const o=[];let i=e;for(;i&&i!==t;)o.push(i),i=i.parentNode;return o},A5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,u2=(e,t)=>{if(Eb(e)){if(Tb(t.previousSibling)&&!ng(t.previousSibling))return xt.before(t);if(ng(t))return xt(t,0)}if(Ab(e)){if(Tb(t.nextSibling)&&!ng(t.nextSibling))return xt.after(t);if(ng(t))return xt(t,t.data.length)}return Ab(e)?Nn(t)?xt.before(t):xt.after(t):xt.before(t)},T5=(e,t)=>{const o=t.nextSibling;return o&&Tb(o)?ng(o)?xt(o,0):xt.before(o):eA($a.Forwards,xt.after(t),e)},eA=(e,t,o)=>{let i,c,m,h;if(!E5(o)||!t)return null;if(t.isEqual(xt.after(o))&&o.lastChild){if(h=xt.after(o.lastChild),Ab(e)&&Tb(o.lastChild)&&E5(o.lastChild))return Nn(o.lastChild)?xt.before(o.lastChild):h}else h=t;const C=h.container();let A=h.offset();if(ng(C)){if(Ab(e)&&A>0)return xt(C,--A);if(Eb(e)&&A<C.length)return xt(C,++A);i=C}else{if(Ab(e)&&A>0&&(c=A5(C,A-1),Tb(c)))return!JE(c)&&(m=i2(c,e,o_,c),m)?ng(m)?xt(m,m.data.length):xt.after(m):ng(c)?xt(c,c.data.length):xt.before(c);if(Eb(e)&&A<C.childNodes.length&&(c=A5(C,A),Tb(c)))return Nn(c)?T5(o,c):!JE(c)&&(m=i2(c,e,o_,c),m)?ng(m)?xt(m,0):xt.before(m):ng(c)?xt(c,0):xt.after(c);i=c||h.getNode()}if(i&&(Eb(e)&&h.isAtEnd()||Ab(e)&&h.isAtStart())&&(i=i2(i,e,_n,o,!0),o_(i,o)))return u2(e,i);c=i&&i2(i,e,o_,o);const V=Ca(vt(QE(C,o),J8));return V&&(!c||!V.contains(c))?(Eb(e)?h=xt.after(V):h=xt.before(V),h):c?u2(e,c):null},qn=e=>({next:t=>eA($a.Forwards,t,e),prev:t=>eA($a.Backwards,t,e)}),Co=(e,t,o)=>{const i=e?xt.before(o):xt.after(o);return yu(e,t,i)},O5=e=>pr(e)?xt.before(e):xt.after(e),D5=e=>xt.isTextPosition(e)?e.offset()===0:gu(e.getNode()),R5=e=>{if(xt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return gu(e.getNode(!0))},I5=(e,t)=>!xt.isTextPosition(e)&&!xt.isTextPosition(t)&&e.getNode()===t.getNode(!0),no=e=>!xt.isTextPosition(e)&&pr(e.getNode()),d2=(e,t,o)=>e?!I5(t,o)&&!no(t)&&R5(t)&&D5(o):!I5(o,t)&&D5(t)&&R5(o),yu=(e,t,o)=>{const i=qn(t);return Q.from(e?i.next(o):i.prev(o))},Ob=(e,t,o)=>yu(e,t,o).bind(i=>tg(o,i,t)&&d2(e,o,i)?yu(e,t,i):Q.some(i)),N5=(e,t,o,i)=>Ob(e,t,o).bind(c=>i(c)?N5(e,t,c,i):Q.some(c)),L0=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Ut(o)?Q.some(xt(o,e?0:o.data.length)):o?gu(o)?Q.some(e?xt.before(o):O5(o)):Co(e,t,o):Q.none()},Gl=tt(yu,!0),$c=tt(yu,!1),Qn=tt(L0,!0),td=tt(L0,!1),F0="_mce_caret",xu=e=>En(e)&&e.id===F0,Tp=(e,t)=>{let o=t;for(;o&&o!==e;){if(xu(o))return o;o=o.parentNode}return null},P5=e=>he(e.start),M5=e=>ao(e,"rng"),B5=e=>ao(e,"id"),tA=e=>ao(e,"name"),L5=e=>Xt.isArray(e.start),s_=e=>!tA(e)&&We(e.forward)?e.forward:!0,F5=(e,t)=>(En(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Q8=(e,t)=>{const o=Q.from(se(e.getRoot(),t.start)),i=Q.from(se(e.getRoot(),t.end));return sa(o,i,(c,m)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(m.container(),m.offset()),{range:h,forward:s_(t)}})},eF=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i);e.appendChild(c),t.setStart(c,0),t.setEnd(c,0)},nA=e=>!e.hasChildNodes(),oA=(e,t)=>td(e).fold(fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),V5=(e,t,o)=>nA(t)&&Tp(e,t)?(eF(t,o),!0):!1,z5=(e,t,o,i)=>{const c=o[t?"start":"end"],m=e.getRoot();if(c){let h=m,C=c[0];for(let A=c.length-1;h&&A>=1;A--){const V=h.childNodes;if(V5(m,h,i))return!0;if(c[A]>V.length-1)return V5(m,h,i)?!0:oA(h,i);h=V[c[A]]}Ut(h)&&(C=Math.min(c[0],h.data.length)),En(h)&&(C=Math.min(c[0],h.childNodes.length)),t?i.setStart(h,C):i.setEnd(h,C)}return!0},sA=e=>Ut(e)&&e.data.length>0,H5=(e,t,o)=>{const i=e.get(o.id+"_"+t),c=i==null?void 0:i.parentNode,m=o.keep;if(i&&c){let h,C;if(t==="start"?m?i.hasChildNodes()?(h=i.firstChild,C=1):sA(i.nextSibling)?(h=i.nextSibling,C=0):sA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)+1):(h=c,C=e.nodeIndex(i)):m?i.hasChildNodes()?(h=i.firstChild,C=1):sA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)):(h=c,C=e.nodeIndex(i)),!m){const A=i.previousSibling,V=i.nextSibling;Xt.each(Xt.grep(i.childNodes),Y=>{Ut(Y)&&(Y.data=Y.data.replace(/\uFEFF/g,""))});let Z;for(;Z=e.get(o.id+"_"+t);)e.remove(Z,!0);if(Ut(V)&&Ut(A)&&!Bo.browser.isOpera()){const Y=A.data.length;A.appendData(V.data),e.remove(V),h=A,C=Y}}return Q.some(xt(h,C))}else return Q.none()},$5=(e,t)=>{const o=e.createRng();return z5(e,!0,t,o)&&z5(e,!1,t,o)?Q.some({range:o,forward:s_(t)}):Q.none()},Db=(e,t)=>{const o=H5(e,"start",t),i=H5(e,"end",t);return sa(o,i.or(o),(c,m)=>{const h=e.createRng();return h.setStart(F5(e,c.container()),c.offset()),h.setEnd(F5(e,m.container()),m.offset()),{range:h,forward:s_(t)}})},U5=(e,t)=>Q.from(e.select(t.name)[t.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),W5=(e,t)=>{const o=e.dom;if(t){if(L5(t))return $5(o,t);if(P5(t))return Q8(o,t);if(B5(t))return Db(o,t);if(tA(t))return U5(o,t);if(M5(t))return Q.some({range:t.rng,forward:s_(t)})}return Q.none()},tF=(e,t,o)=>lt(e,t,o),nF=(e,t)=>{W5(e,t).each(({range:o,forward:i})=>{e.setRng(o,i)})},wu=e=>En(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",il=(e=>t=>e===t)(Di),Rb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,hh=e=>!Rb(e)&&!il(e)&&!qu(e),vr=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},nd=e=>wo(e,t=>{const o=wp(t);return o?[Fe.fromDom(o)]:[]}),f2=e=>vr(e).length>1,r_=e=>vt(nd(e),Fc),V0=e=>pi(e,"td[data-mce-selected],th[data-mce-selected]"),Z5=(e,t)=>{const o=V0(t);return o.length>0?o:r_(e)},Gf=e=>Z5(vr(e.selection.getSel()),Fe.fromDom(e.getBody())),Bs=(e,t)=>ru(e,"table",t),m2=e=>{const t=e.startContainer,o=e.startOffset;return Ut(t)?o===0?Q.some(Fe.fromDom(t)):Q.none():Q.from(t.childNodes[o]).map(Fe.fromDom)},j5=e=>{const t=e.endContainer,o=e.endOffset;return Ut(t)?o===t.data.length?Q.some(Fe.fromDom(t)):Q.none():Q.from(t.childNodes[o-1]).map(Fe.fromDom)},rA=e=>Ml(e).fold(et([e]),t=>[e].concat(rA(t))),g2=e=>Zu(e).fold(et([e]),t=>qo(t)==="br"?wi(t).map(o=>[e].concat(g2(o))).getOr([]):[e].concat(g2(t))),h2=(e,t)=>sa(m2(t),j5(t),(o,i)=>{const c=cn(rA(e),tt(Yo,o)),m=cn(g2(e),tt(Yo,i));return c.isSome()&&m.isSome()}).getOr(!1),p2=(e,t,o,i)=>{const c=o,m=new ca(o,c),h=_c(e.schema.getMoveCaretBeforeOnEnterElements(),(A,V)=>!ie(["td","th","table"],V.toLowerCase()));let C=o;do{if(Ut(C)&&Xt.trim(C.data).length!==0){i?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(h[C.nodeName]){i?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=i?m.next():m.prev());c.nodeName==="BODY"&&(i?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},z0=e=>{const t=e.selection.getSel();return Ee(t)&&t.rangeCount>0},H0=(e,t)=>{const o=Gf(e);o.length>0?pe(o,i=>{const c=i.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),t(m,!0)}):t(e.selection.getRng(),!1)},i_=(e,t,o)=>{const i=Qt(e,t);o(i),e.moveToBookmark(i)},$0=e=>O(e==null?void 0:e.nodeType),a_=e=>En(e)&&!wu(e)&&!xu(e)&&!Ef(e),K5=(e,t)=>{if(a_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},iA=(e,t,o)=>{const{selection:i,dom:c}=e,m=i.getNode(),h=fo(m);i_(i,!0,()=>{t()}),h&&fo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(i.getStart())&&G5(c,i)},G5=(e,t)=>{var o,i;const c=t.getRng(),{startContainer:m,startOffset:h}=c,C=t.getNode();if(!K5(e,C)&&En(m)){const A=m.childNodes,V=e.getRoot();let Z;if(h<A.length){const Y=A[h];Z=new ca(Y,(o=e.getParent(Y,e.isBlock))!==null&&o!==void 0?o:V)}else{const Y=A[A.length-1];Z=new ca(Y,(i=e.getParent(Y,e.isBlock))!==null&&i!==void 0?i:V),Z.next(!0)}for(let Y=Z.current();Y;Y=Z.next()){if(e.getContentEditable(Y)==="false")return;if(Ut(Y)&&!aA(Y)){c.setStart(Y,0),t.setRng(c);return}}}},Ib=(e,t,o)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(En(e)||!aA(e))return e}},l_=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Df(e,t),Op=(e,t,o)=>e.schema.isValidChild(t,o),aA=(e,t=!1)=>{if(Ee(e)&&Ut(e)){const o=t?e.data.replace(/ /g,""):e.data;return sc(o)}else return!1},sF=e=>Ee(e)&&Ut(e)&&e.length===0,q5=(e,t)=>{const o="[data-mce-cef-wrappable]",i=ro(e),c=Wt(i)?o:`${o},${i}`;return Ps(Fe.fromDom(t),c)},lA=(e,t)=>{const o=e.dom;return a_(t)&&o.getContentEditable(t)==="false"&&q5(e,t)&&o.select('[contenteditable="true"]',t).length===0},ph=(e,t)=>Le(e)?e(t):(Ee(t)&&(e=e.replace(/%(\w+)/g,(o,i)=>t[i]||o)),e),U0=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),c_=(e,t)=>{if(st(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=qv(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},v2=(e,t,o)=>{const i=e.getStyle(t,o);return c_(i,o)},cA=(e,t)=>{let o;return e.getParent(t,i=>En(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},b2=(e,t,o)=>e.getParents(t,o,e.getRoot()),u_=(e,t,o)=>{const i=e.formatter.get(t);return Ee(i)&&xe(i,o)},Y5=(e,t)=>u_(e,t,i=>{const c=m=>Le(m)||m.length>1&&m.charAt(0)==="%";return xe(["styles","attributes"],m=>Os(i,m).exists(h=>{const C=ae(h)?h:Mu(h);return xe(C,c)}))}),X5=(e,t,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=m=>_c(m,(h,C)=>xe(i,A=>A===C));return u_(e,t,m=>{const h=c(m);return u_(e,o,C=>{const A=c(C);return Ti(h,A)})})},qf=e=>Wl(e,"block"),J5=e=>qf(e)&&e.wrapper===!0,Q5=e=>qf(e)&&e.wrapper!==!0,Uc=e=>Wl(e,"selector"),ha=e=>Wl(e,"inline"),eR=e=>Uc(e)&&ha(e)&&mf(Os(e,"mixed"),!0),d_=e=>Uc(e)&&e.expand!==!1&&!ha(e),tR=e=>{const t=[];let o=e;for(;o;){if(Ut(o)&&o.data!==_i||o.childNodes.length>1)return[];En(o)&&t.push(o),o=o.firstChild}return t},uA=e=>tR(e).length>0,f_=e=>xu(e.dom)&&uA(e.dom),Dp=wu,y2=b2,m_=aA,g_=l_,nR=e=>pr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,x2=(e,t)=>{let o=t;for(;o;){if(En(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},h_=(e,t,o,i)=>{const c=t.data;if(e){for(let m=o;m>0;m--)if(i(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(i(c.charAt(m)))return m;return-1},w2=(e,t,o)=>h_(e,t,o,i=>il(i)||Rb(i)),dA=(e,t,o)=>h_(e,t,o,hh),fA=(e,t,o,i,c,m)=>{let h;const C=e.getParent(o,e.isBlock)||t,A=(Z,Y,ee)=>{const ge=Hd(e),Se=c?ge.backwards:ge.forwards;return Q.from(Se(Z,Y,(ve,Oe)=>Dp(ve.parentNode)?-1:(h=ve,ee(c,ve,Oe)),C))};return A(o,i,w2).bind(Z=>m?A(Z.container,Z.offset+(c?-1:0),dA):Q.some(Z)).orThunk(()=>h?Q.some({container:h,offset:c?0:h.length}):Q.none())},Nb=(e,t,o,i,c)=>{const m=i[c];Ut(i)&&Wt(i.data)&&m&&(i=m);const h=y2(e,i);for(let C=0;C<h.length;C++)for(let A=0;A<t.length;A++){const V=t[A];if(!(Ee(V.collapsed)&&V.collapsed!==o.collapsed)&&Uc(V)&&e.is(h[C],V.selector))return h[C]}return i},p_=(e,t,o,i)=>{var c;let m=o;const h=e.getRoot(),C=t[0];if(qf(C)&&(m=C.wrapper?null:e.getParent(o,C.block,h)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;m=e.getParent(Ut(o)?o.parentNode:o,V=>V!==h&&g_(e.schema,V),A)}if(m&&qf(C)&&C.wrapper&&(m=y2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[i]&&!e.isBlock(m[i])&&(m=m[i],!U0(m,"br")););return m||o},v_=(e,t,o,i)=>{const c=o.parentNode;return Ee(o[i])?!1:c===t||st(c)||e.isBlock(c)?!0:v_(e,t,c,i)},vh=(e,t,o,i,c)=>{let m=o;const h=c?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!m_(o)&&(c?i>0:i<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let A=m[h];A;A=A[h]){const V=Ut(A)&&!v_(e,C,A,h);if(!Dp(A)&&!nR(A)&&!m_(A,V))return m}if(m===C||m.parentNode===C){o=m;break}m=m.parentNode}return o},bh=e=>Dp(e.parentNode)||Dp(e),Rp=(e,t,o,i=!1)=>{let{startContainer:c,startOffset:m,endContainer:h,endOffset:C}=t;const A=o[0];return En(c)&&c.hasChildNodes()&&(c=Si(c,m),Ut(c)&&(m=0)),En(h)&&h.hasChildNodes()&&(h=Si(h,t.collapsed?C:C-1),Ut(h)&&(C=h.data.length)),c=x2(e,c),h=x2(e,h),bh(c)&&(c=Dp(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Ut(c)&&(m=t.collapsed?c.length:0)),bh(h)&&(h=Dp(h)?h:h.parentNode,t.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,Ut(h)&&(C=t.collapsed?0:h.length)),t.collapsed&&(fA(e,e.getRoot(),c,m,!0,i).each(({container:Y,offset:ee})=>{c=Y,m=ee}),fA(e,e.getRoot(),h,C,!1,i).each(({container:Y,offset:ee})=>{h=Y,C=ee})),(ha(A)||A.block_expand)&&((!ha(A)||!Ut(c)||m===0)&&(c=vh(e,o,c,m,!0)),(!ha(A)||!Ut(h)||C===h.data.length)&&(h=vh(e,o,h,C,!1))),d_(A)&&(c=Nb(e,o,t,c,"previousSibling"),h=Nb(e,o,t,h,"nextSibling")),(qf(A)||Uc(A))&&(c=p_(e,o,c,"previousSibling"),h=p_(e,o,h,"nextSibling"),qf(A)&&(e.isBlock(c)||(c=vh(e,o,c,m,!0),Ut(c)&&(m=0)),e.isBlock(h)||(h=vh(e,o,h,C,!1),Ut(h)&&(C=h.data.length)))),En(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),En(h)&&h.parentNode&&(C=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:c,startOffset:m,endContainer:h,endOffset:C}},C2=(e,t,o)=>{var i;const c=t.startOffset,m=Si(t.startContainer,c),h=t.endOffset,C=Si(t.endContainer,h-1),A=Oe=>{const He=Oe[0];Ut(He)&&He===m&&c>=He.data.length&&Oe.splice(0,1);const Qe=Oe[Oe.length-1];return h===0&&Oe.length>0&&Qe===C&&Ut(Qe)&&Oe.splice(Oe.length-1,1),Oe},V=(Oe,He,Qe)=>{const Xe=[];for(;Oe&&Oe!==Qe;Oe=Oe[He])Xe.push(Oe);return Xe},Z=(Oe,He)=>e.getParent(Oe,Qe=>Qe.parentNode===He,He),Y=(Oe,He,Qe)=>{const Xe=Qe?"nextSibling":"previousSibling";for(let dt=Oe,Bt=dt.parentNode;dt&&dt!==He;dt=Bt){Bt=dt.parentNode;const Yt=V(dt===Oe?dt:dt[Xe],Xe);Yt.length&&(Qe||Yt.reverse(),o(A(Yt)))}};if(m===C)return o(A([m]));const ee=(i=e.findCommonAncestor(m,C))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(m,C))return Y(m,ee,!0);if(e.isChildOf(C,m))return Y(C,ee);const ge=Z(m,ee)||m,Se=Z(C,ee)||C;Y(m,ge,!0);const ve=V(ge===m?ge:ge.nextSibling,"nextSibling",Se===C?Se.nextSibling:Se);ve.length&&o(A(ve)),Y(C,Se)},rF=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],oR=e=>ur(e)&&jm(e)===_i,sR=(e,t,o,i)=>aa(t).fold(()=>"skipping",c=>i==="br"||oR(t)?"valid":Ix(t)?"existing":xu(t.dom)?"caret":xe(rF,m=>Ps(t,m))?"valid-block":!Op(e,o,i)||!Op(e,qo(c),o)?"invalid-child":"valid"),Ip=(e,t)=>{const o=Rp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},Np=(e,t,o,i,c,m)=>{const{uid:h=t,...C}=o;Rd(e,Nr()),xi(e,`${ni()}`,h),xi(e,`${Pr()}`,i);const{attributes:A={},classes:V=[]}=c(h,C);if(Pa(e,A),tb(e,V),m){V.length>0&&xi(e,`${Er()}`,V.join(","));const Z=Kt(A);Z.length>0&&xi(e,`${Gr()}`,Z.join(","))}},Ua=e=>{Ma(e,Nr()),Ro(e,`${ni()}`),Ro(e,`${Pr()}`),Ro(e,`${Ms()}`);const t=eu(e,`${Gr()}`).map(i=>i.split(",")).getOr([]),o=eu(e,`${Er()}`).map(i=>i.split(",")).getOr([]);pe(t,i=>Ro(e,i)),ah(e,o),Ro(e,`${Er()}`),Ro(e,`${Gr()}`)},og=(e,t,o,i,c)=>{const m=Fe.fromTag("span",e);return Np(m,t,o,i,c,!1),m},Cs=(e,t,o,i,c,m)=>{const h=[],C=og(e.getDoc(),o,m,i,c),A=Ii(),V=()=>{A.clear()},Z=()=>A.get().getOrThunk(()=>{const Se=qr(C);return h.push(Se),A.set(Se),Se}),Y=Se=>{pe(Se,ee)},ee=Se=>{switch(sR(e,Se,"span",qo(Se))){case"invalid-child":{V();const Oe=la(Se);Y(Oe),V();break}case"valid-block":{V(),Np(Se,o,m,i,c,!0);break}case"valid":{const Oe=Z();Zl(Se,Oe);break}}},ge=Se=>{const ve=Be(Se,Fe.fromDom);Y(ve)};return C2(e.dom,t,Se=>{V(),ge(Se)}),h},iF=(e,t,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),h=Gf(e).length>0,C=za("mce-annotation");if(m.collapsed&&!h&&Ip(e,m),c.getRng().collapsed&&!h){const A=og(e.getDoc(),C,i,t,o.decorate);Rm(A,Di),c.getRng().insertNode(A.dom),c.select(A.dom)}else i_(c,!1,()=>{H0(e,A=>{Cs(e,A,C,t,o.decorate,i)})})})},rR=e=>{const t=Px();h0(e,t);const o=g0(e,t),i=bf("span"),c=m=>{pe(m,h=>{i(h)?Va(h):Ua(h)})};return{register:(m,h)=>{t.register(m,h)},annotate:(m,h)=>{t.lookup(m).each(C=>{iF(e,m,C,h)})},annotationChanged:(m,h)=>{o.addListener(m,h)},remove:m=>{m0(e,Q.some(m)).each(({elements:h})=>{const C=e.selection.getBookmark();c(h),e.selection.moveToBookmark(C)})},removeAll:m=>{const h=e.selection.getBookmark();rs(ih(e,m),(C,A)=>{c(C)}),e.selection.moveToBookmark(h)},getAll:m=>{const h=ih(e,m);return Ul(h,C=>Be(C,A=>A.dom))}}},Zs=e=>({getBookmark:tt(tF,e),moveToBookmark:tt(nF,e)});Zs.isBookmarkNode=wu;const mA=(e,t,o)=>o.collapsed?!1:xe(o.getClientRects(),i=>w0(i,e,t)),_2=(e,t)=>e.dispatch("PreProcess",t),S2=(e,t)=>e.dispatch("PostProcess",t),k2=e=>{e.dispatch("remove")},E2=e=>{e.dispatch("detach")},iR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},aF=(e,t,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:i,origin:c})},lF=(e,t,o,i,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:i,origin:c})},cF=e=>{e.dispatch("PreInit")},uF=e=>{e.dispatch("PostRender")},si=e=>{e.dispatch("Init")},aR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},gA=(e,t,o)=>{e.dispatch(t,o)},lR=(e,t,o,i)=>{e.dispatch("FormatApply",{format:t,node:o,vars:i})},cR=(e,t,o,i)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:i})},dF=(e,t)=>e.dispatch("BeforeSetContent",t),cc=(e,t)=>e.dispatch("SetContent",t),Yf=(e,t)=>e.dispatch("BeforeGetContent",t),uR=(e,t)=>e.dispatch("GetContent",t),hA=(e,t)=>{e.dispatch("AutocompleterStart",t)},pA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},vA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},fF=e=>{e.dispatch("AutocompleterEnd")},A2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),b_=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),y_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),mF=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),dn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dn.metaKeyPressed(e),metaKeyPressed:e=>Bo.os.isMacOS()||Bo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Pb="data-mce-selected",gF="table,img,figure.image,hr,video,span.mce-preview-object,details",Cu=Math.abs,Pp=Math.round,x_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Gd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,zs=(e,t)=>{const o=t.dom,i=t.getDoc(),c=document,m=t.getBody();let h,C,A,V,Z,Y,ee,ge,Se,ve,Oe,He,Qe,Xe,dt,Bt,Yt;const pn=gn=>Ee(gn)&&(Rc(gn)||o.is(gn,"figure.image")),kt=gn=>St(gn)||o.hasClass(gn,"mce-preview-object"),bt=(gn,Po)=>{if(Gd(gn)){const Uo=gn.touches[0];return pn(gn.target)&&!mA(Uo.clientX,Uo.clientY,Po)}else return pn(gn.target)&&!mA(gn.clientX,gn.clientY,Po)},Nt=gn=>{const Po=gn.target;bt(gn,t.selection.getRng())&&!gn.isDefaultPrevented()&&t.selection.select(Po)},Cn=gn=>o.hasClass(gn,"mce-preview-object")&&Ee(gn.firstElementChild)?[gn,gn.firstElementChild]:o.is(gn,"figure.image")?[gn.querySelector("img")]:[gn],Vn=gn=>{const Po=KD(t);return!Po||gn.getAttribute("data-mce-resize")==="false"||gn===t.getBody()?!1:o.hasClass(gn,"mce-preview-object")&&Ee(gn.firstElementChild)?Ps(Fe.fromDom(gn.firstElementChild),Po):Ps(Fe.fromDom(gn),Po)},No=(gn,Po)=>{if(kt(Po))return gn.create("img",{src:Bo.transparentSrc});if(cu(Po)){const Ra=cr(V.name,"n")?hn:Eo,Hs=Po.cloneNode(!0);return Ra(gn.select("tr",Hs)).each(ba=>{const om=gn.select("td,th",ba);gn.setStyle(ba,"height",null),pe(om,Lh=>gn.setStyle(Lh,"height",null))}),Hs}else return Po.cloneNode(!0)},Ho=(gn,Po,Uo)=>{if(Ee(Uo)){const Ra=Cn(gn);pe(Ra,Hs=>{Hs.style[Po]||!t.schema.isValid(Hs.nodeName.toLowerCase(),Po)?o.setStyle(Hs,Po,Uo):o.setAttrib(Hs,Po,""+Uo)})}},Rs=(gn,Po,Uo)=>{Ho(gn,"width",Po),Ho(gn,"height",Uo)},Us=gn=>{let Po,Uo,Ra,Hs,ba;Po=gn.screenX-Y,Uo=gn.screenY-ee,Xe=Po*V[2]+ve,dt=Uo*V[3]+Oe,Xe=Xe<5?5:Xe,dt=dt<5?5:dt,(pn(h)||kt(h))&&GD(t)!==!1?Ra=!dn.modifierPressed(gn):Ra=dn.modifierPressed(gn),Ra&&(Cu(Po)>Cu(Uo)?(dt=Pp(Xe*He),Xe=Pp(dt/He)):(Xe=Pp(dt/He),dt=Pp(Xe*He))),Rs(C,Xe,dt),Hs=V.startPos.x+Po,ba=V.startPos.y+Uo,Hs=Hs>0?Hs:0,ba=ba>0?ba:0,o.setStyles(A,{left:Hs,top:ba,display:"block"}),A.innerHTML=Xe+" &times; "+dt,V[2]<0&&C.clientWidth<=Xe&&o.setStyle(C,"left",ge+(ve-Xe)),V[3]<0&&C.clientHeight<=dt&&o.setStyle(C,"top",Se+(Oe-dt)),Po=m.scrollWidth-Bt,Uo=m.scrollHeight-Yt,Po+Uo!==0&&o.setStyles(A,{left:Hs-Po,top:ba-Uo}),Qe||(aF(t,h,ve,Oe,"corner-"+V.name),Qe=!0)},ui=()=>{const gn=Qe;Qe=!1,gn&&(Ho(h,"width",Xe),Ho(h,"height",dt)),o.unbind(i,"mousemove",Us),o.unbind(i,"mouseup",ui),c!==i&&(o.unbind(c,"mousemove",Us),o.unbind(c,"mouseup",ui)),o.remove(C),o.remove(A),o.remove(Z),kl(h),gn&&(lF(t,h,Xe,dt,"corner-"+V.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),t.nodeChanged()},kl=gn=>{ln();const Po=o.getPos(gn,m),Uo=Po.x,Ra=Po.y,Hs=gn.getBoundingClientRect(),ba=Hs.width||Hs.right-Hs.left,om=Hs.height||Hs.bottom-Hs.top;h!==gn&&(on(),h=gn,Xe=dt=0);const Lh=t.dispatch("ObjectSelected",{target:gn});Vn(gn)&&!Lh.isDefaultPrevented()?rs(x_,(hc,hd)=>{const sm=rm=>{const Un=Cn(h)[0];Y=rm.screenX,ee=rm.screenY,ve=Un.clientWidth,Oe=Un.clientHeight,He=Oe/ve,V=hc,V.name=hd,V.startPos={x:ba*hc[0]+Uo,y:om*hc[1]+Ra},Bt=m.scrollWidth,Yt=m.scrollHeight,Z=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(Z,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=No(o,h),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:Uo,top:Ra,margin:0}),Rs(C,ba,om),C.removeAttribute(Pb),m.appendChild(C),o.bind(i,"mousemove",Us),o.bind(i,"mouseup",ui),c!==i&&(o.bind(c,"mousemove",Us),o.bind(c,"mouseup",ui)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ve+" &times; "+Oe)};let pd=o.get("mceResizeHandle"+hd);pd&&o.remove(pd),pd=o.add(m,"div",{id:"mceResizeHandle"+hd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+hd+"-resize; margin:0; padding:0"}),o.bind(pd,"mousedown",rm=>{rm.stopImmediatePropagation(),rm.preventDefault(),sm(rm)}),hc.elm=pd,o.setStyles(pd,{left:ba*hc[0]+Uo-pd.offsetWidth/2,top:om*hc[1]+Ra-pd.offsetHeight/2})}):on(!1)},Ys=rh(kl,0),on=(gn=!0)=>{Ys.cancel(),ln(),h&&gn&&h.removeAttribute(Pb),rs(x_,(Po,Uo)=>{const Ra=o.get("mceResizeHandle"+Uo);Ra&&(o.unbind(Ra),o.remove(Ra))})},Pn=(gn,Po)=>o.isChildOf(gn,Po),ys=gn=>{if(Qe||t.removed||t.composing)return;const Po=gn.type==="mousedown"?gn.target:e.getNode(),Uo=Zi(Fe.fromDom(Po),gF).map(Hs=>Hs.dom).filter(Hs=>o.isEditable(Hs.parentElement)||Hs.nodeName==="IMG"&&o.isEditable(Hs)).getOrUndefined(),Ra=Ee(Uo)?o.getAttrib(Uo,Pb,"1"):"1";if(pe(o.select(`img[${Pb}],hr[${Pb}]`),Hs=>{Hs.removeAttribute(Pb)}),Ee(Uo)&&Pn(Uo,m)&&t.hasFocus()){Yn();const Hs=e.getStart(!0);if(Pn(Hs,Uo)&&Pn(e.getEnd(!0),Uo)){o.setAttrib(Uo,Pb,Ra),Ys.throttle(Uo);return}}on()},ln=()=>{rs(x_,gn=>{gn.elm&&(o.unbind(gn.elm),delete gn.elm)})},Yn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Yn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ys),t.on("keyup compositionend",gn=>{h&&h.nodeName==="TABLE"&&ys(gn)}),t.on("hide blur",on),t.on("contextmenu longpress",Nt,!0)}),t.on("remove",ln),{isResizable:Vn,showResizeRect:kl,hideResizeRect:on,updateResizeRect:ys,destroy:()=>{Ys.cancel(),h=C=Z=null}}},W0=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},w_=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},bA=(e,t,o)=>{const i=e.document.createRange();return W0(i,t),w_(i,o),i},T2=(e,t,o,i,c)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(i.dom,c),m},Mb=Go.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dR=(e,t,o)=>t(Fe.fromDom(o.startContainer),o.startOffset,Fe.fromDom(o.endContainer),o.endOffset),yA=(e,t)=>t.match({domRange:o=>({ltr:et(o),rtl:Q.none}),relative:(o,i)=>({ltr:Dl(()=>bA(e,o,i)),rtl:Dl(()=>Q.some(bA(e,i,o)))}),exact:(o,i,c,m)=>({ltr:Dl(()=>T2(e,o,i,c,m)),rtl:Dl(()=>Q.some(T2(e,c,m,o,i)))})}),hF=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Mb.rtl(Fe.fromDom(c.endContainer),c.endOffset,Fe.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>dR(e,Mb.ltr,o)):dR(e,Mb.ltr,o)},fR=(e,t)=>{const o=yA(e,t);return hF(e,o)};Mb.ltr,Mb.rtl;const C_={create:(e,t,o,i)=>({start:e,soffset:t,finish:o,foffset:i})},mR=(e,t,o)=>{var i;return Q.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,t,o)).bind(c=>{if(c.offsetNode===null)return Q.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),Q.some(m)})},__=(e,t,o)=>{var i;return Q.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,t,o))},vF=(e,t,o)=>e.caretPositionFromPoint?mR(e,t,o):e.caretRangeFromPoint?__(e,t,o):Q.none(),bF=(e,t,o)=>{const i=e.document;return vF(i,t,o).map(c=>C_.create(Fe.fromDom(c.startContainer),c.startOffset,Fe.fromDom(c.endContainer),c.endOffset))},xA=Go.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yF=(e,t,o,i)=>e.fold(t,o,i),xF=e=>e.fold(pt,pt,pt),gR=xA.before,wF=xA.on,CF=xA.after,sg={before:gR,on:wF,after:CF,cata:yF,getStart:xF},O2=Go.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_F=e=>O2.exact(e.start,e.soffset,e.finish,e.foffset),SF=e=>e.match({domRange:t=>Fe.fromDom(t.startContainer),relative:(t,o)=>sg.getStart(t),exact:(t,o,i,c)=>t}),hR=O2.domRange,od=O2.relative,kF=O2.exact,pR=e=>{const t=SF(e);return $u(t)},wA=C_.create,Mp={domRange:hR,relative:od,exact:kF,exactFromRange:_F,getWin:pR,range:wA},D2=(e,t)=>{const o=qo(e);return o==="input"?sg.after(e):ie(["br","img"],o)?t===0?sg.before(e):sg.after(e):sg.on(e,t)},vR=(e,t)=>{const o=e.fold(sg.before,D2,sg.after),i=t.fold(sg.before,D2,sg.after);return Mp.relative(o,i)},S_=(e,t,o,i)=>{const c=D2(e,t),m=D2(o,i);return Mp.relative(c,m)},bR=e=>e.match({domRange:t=>{const o=Fe.fromDom(t.startContainer),i=Fe.fromDom(t.endContainer);return S_(o,t.startOffset,i,t.endOffset)},relative:vR,exact:S_}),Wc=(e,t)=>{const i=document.createDocumentFragment();return pe(e,c=>{i.appendChild(c.dom)}),Fe.fromDom(i)},EF=e=>{const t=Mp.getWin(e).dom,o=(c,m,h,C)=>T2(t,c,m,h,C),i=bR(e);return fR(t,i).match({ltr:o,rtl:o})},CA=(e,t,o)=>bF(e,t,o),yR=(e,t,o)=>{const i=$u(Fe.fromDom(o));return CA(i.dom,e,t).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},R2=(e,t)=>Ee(e)&&Ee(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Xf=(e,t,o)=>{let i=e;for(;i&&i!==t;){if(o(i))return i;i=i.parentNode}return null},k_=(e,t,o)=>Xf(e,t,o)!==null,E_=(e,t,o)=>k_(e,t,i=>i.nodeName===o),xR=(e,t)=>Kl(e)&&!k_(e,t,xu),wR=(e,t,o)=>{const i=t.parentNode;if(i){const c=new ca(t,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(pr(m))return!0}return!1},CR=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},_R=(e,t)=>{let o=t;for(;o&&o!==e;){if(fo(o))return!0;o=o.parentNode}return!1},I2=(e,t,o,i,c)=>{const m=e.getRoot(),h=e.schema.getNonEmptyElements(),C=c.parentNode;let A,V;if(!C)return Q.none();const Z=e.getParent(C,e.isBlock)||m;if(i&&pr(c)&&t&&e.isEmpty(Z))return Q.some(xt(C,e.nodeIndex(c)));const Y=new ca(c,Z);for(;V=Y[i?"prev":"next"]();){if(e.getContentEditableParent(V)==="false"||xR(V,m))return Q.none();if(Ut(V)&&V.data.length>0)return E_(V,m,"A")?Q.none():Q.some(xt(V,i?V.data.length:0));if(e.isBlock(V)||h[V.nodeName.toLowerCase()])return Q.none();A=V}return ko(A)?Q.none():o&&A?Q.some(xt(A,0)):Q.none()},_A=(e,t,o,i)=>{const c=e.getRoot();let m,h=!1,C=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const V=En(C)&&A===C.childNodes.length,Z=e.schema.getNonEmptyElements();let Y=o;if(Kl(C))return Q.none();if(En(C)&&A>C.childNodes.length-1&&(Y=!1),Rn(C)&&(C=c,A=0),C===c){if(Y&&(m=C.childNodes[A>0?A-1:0],m&&(Kl(m)||Z[m.nodeName]||cu(m))))return Q.none();if(C.hasChildNodes()){if(A=Math.min(!Y&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Ut(C)&&V?C.data.length:0,!t&&C===c.lastChild&&cu(C)||_R(c,C)||Kl(C)||cp(C))return Q.none();if(C.hasChildNodes()&&!cu(C)){m=C;const ee=new ca(C,c);do{if(fo(m)||Kl(m)){h=!1;break}if(Ut(m)&&m.data.length>0){A=Y?0:m.data.length,C=m,h=!0;break}if(Z[m.nodeName.toLowerCase()]&&!xC(m)){A=e.nodeIndex(m),C=m.parentNode,Y||A++,h=!0;break}}while(m=Y?ee.next():ee.prev())}}}return t&&(Ut(C)&&A===0&&I2(e,V,t,!0,C).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}),En(C)&&(m=C.childNodes[A],m||(m=C.childNodes[A-1]),m&&pr(m)&&!CR(m,"A")&&!wR(e,m,!1)&&!wR(e,m,!0)&&I2(e,V,t,!0,m).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}))),Y&&!t&&Ut(C)&&A===C.data.length&&I2(e,V,t,!1,C).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}),h&&C?Q.some(xt(C,A)):Q.none()},rg=(e,t)=>{const o=t.collapsed,i=t.cloneRange(),c=xt.fromRangeStart(t);return _A(e,o,!0,i).each(m=>{(!o||!xt.isAbove(c,m))&&i.setStart(m.container(),m.offset())}),o||_A(e,o,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),o&&i.collapse(!0),R2(t,i)?Q.none():Q.some(i)},N2=(e,t)=>e.splitText(t),P2=e=>{let t=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(t===i&&Ut(t)){if(o>0&&o<t.data.length)if(i=N2(t,o),t=i.previousSibling,c>o){c=c-o;const m=N2(i,c).previousSibling;t=i=m,c=m.data.length,o=0}else c=0}else if(Ut(t)&&o>0&&o<t.data.length&&(t=N2(t,o),o=0),Ut(i)&&c>0&&c<i.data.length){const m=N2(i,c).previousSibling;i=m,c=m.data.length}return{startContainer:t,startOffset:o,endContainer:i,endOffset:c}},Bp=e=>({walk:(m,h)=>C2(e,m,h),split:P2,expand:(m,h={type:"word"})=>{if(h.type==="word"){const C=Rp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return m},normalize:m=>rg(e,m).fold(fn,h=>(m.setStart(h.startContainer,h.startOffset),m.setEnd(h.endContainer,h.endOffset),!0))});Bp.compareRanges=R2,Bp.getCaretRangeFromPoint=yR,Bp.getSelectedNode=wp,Bp.getNode=Si;const SA=((e,t)=>{const o=(C,A)=>{if(!O(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const V=C.dom;La(V)&&(V.style[e]=A+"px")},i=C=>{const A=t(C);if(A<=0||A===null){const V=Ur(C,e);return parseFloat(V)||0}return A},c=i,m=(C,A)=>Vt(A,(V,Z)=>{const Y=Ur(C,Z),ee=Y===void 0?0:parseInt(Y,10);return isNaN(ee)?V:V+ee},0);return{set:o,get:i,getOuter:c,aggregate:m,max:(C,A,V)=>{const Z=m(C,V);return A>Z?A-Z:0}}})("height",e=>{const t=e.dom;return Ba(e)?t.getBoundingClientRect().height:t.offsetHeight}),Bb=e=>SA.get(e),SR=()=>Fe.fromDom(document),kR=(e,t)=>e.view(t).fold(et([]),i=>{const c=e.owner(i),m=kR(e,c);return[i].concat(m)}),A_=(e,t)=>{const o=t.owner(e);return kR(t,o)};var OF=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?Q.none():Q.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Fe.fromDom)},owner:e=>nc(e)});const ER=e=>{const t=SR(),o=lo(t),i=A_(e,OF),c=po(e),m=Ft(i,(h,C)=>{const A=po(C);return{left:h.left+A.left,top:h.top+A.top}},{left:0,top:0});return Re(m.left+c.left+o.left,m.top+c.top+o.top)},yh=e=>qo(e)==="textarea",AR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),TR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},OR=(e,t)=>{const o=la(e);if(o.length===0||yh(e))return{element:e,offset:t};if(t<o.length&&!yh(o[t]))return{element:o[t],offset:0};{const i=o[o.length-1];return yh(i)?{element:e,offset:t}:qo(i)==="img"?{element:i,offset:1}:ur(i)?{element:i,offset:jm(i).length}:{element:i,offset:la(i).length}}},M2=(e,t)=>{const o=jn(e),i=Bb(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:t}},DR=(e,t)=>{const o=OR(e,t),i=Fe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+_i+"</span>");return Dr(o.element,i),M2(i,()=>Ds(i))},RR=e=>M2(Fe.fromDom(e),ct),IR=(e,t,o,i)=>{PR(e,(c,m)=>NR(e,t,o,i),o)},B2=(e,t,o,i,c)=>{const m={elm:i.element.dom,alignToTop:c};if(AR(e,m))return;const h=lo(t).top;o(e,t,h,i,c),TR(e,m)},NR=(e,t,o,i)=>{const c=Fe.fromDom(e.getBody()),m=Fe.fromDom(e.getDoc());W1(c);const h=DR(Fe.fromDom(o.startContainer),o.startOffset);B2(e,m,t,h,i),h.cleanup()},T_=(e,t,o,i)=>{const c=Fe.fromDom(e.getDoc());B2(e,c,o,RR(t),i)},PR=(e,t,o)=>{const i=o.startContainer,c=o.startOffset,m=o.endContainer,h=o.endOffset;t(Fe.fromDom(i),Fe.fromDom(m));const C=e.dom.createRng();C.setStart(i,c),C.setEnd(m,h),e.selection.setRng(o)},L2=(e,t,o,i,c)=>{const m=t.pos;if(i)Tn(m.left,m.top,c);else{const h=m.top-o+t.height;Tn(-e.getBody().getBoundingClientRect().left,h,c)}},kA=(e,t,o,i,c,m)=>{const h=i+o,C=c.pos.top,A=c.bottom,V=A-C>=i;C<o?L2(e,c,i,m!==!1,t):C>h?L2(e,c,i,V?m!==!1:m===!0,t):A>h&&!V&&L2(e,c,i,m===!0,t)},F2=(e,t,o,i,c)=>{const m=$u(t).dom.innerHeight;kA(e,t,o,m,i,c)},ig=(e,t,o,i,c)=>{const m=$u(t).dom.innerHeight;kA(e,t,o,m,i,c);const h=ER(i.element),C=Oc(window);h.top<C.y?bs(i.element,c!==!1):h.top>C.bottom&&bs(i.element,c===!0)},DF=(e,t,o)=>IR(e,F2,t,o),EA=(e,t,o)=>T_(e,t,F2,o),bi=(e,t,o)=>IR(e,ig,t,o),AA=(e,t,o)=>T_(e,t,ig,o),TA=(e,t,o)=>{(e.inline?EA:AA)(e,t,o)},sd=(e,t,o)=>{(e.inline?DF:bi)(e,t,o)},OA=(e,t=!1)=>e.dom.focus({preventScroll:t}),DA=e=>{const t=su(e).dom;return e.dom===t.activeElement},Lb=(e=SR())=>Q.from(e.dom.activeElement).map(Fe.fromDom),RF=e=>Lb(su(e)).filter(t=>e.dom.contains(t.dom)),MR=(e,t)=>{const o=ur(t)?jm(t).length:la(t).length+1;return e>o?o:e<0?0:e},Z0=e=>Mp.range(e.start,MR(e.soffset,e.start),e.finish,MR(e.foffset,e.finish)),BR=(e,t)=>!Sf(t.dom)&&(ia(e,t)||Yo(e,t)),Lp=e=>t=>BR(e,t.start)&&BR(e,t.finish),IF=e=>e.inline||Bo.browser.isFirefox(),Fp=e=>Mp.range(Fe.fromDom(e.startContainer),e.startOffset,Fe.fromDom(e.endContainer),e.endOffset),NF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?Q.none():Q.from(t.getRangeAt(0))).map(Fp)},rd=e=>{const t=$u(e);return NF(t.dom).filter(Lp(e))},V2=(e,t)=>Q.from(t).filter(Lp(e)).map(Z0),RA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),Q.some(t)}catch{return Q.none()}},j0=e=>{const t=IF(e)?rd(Fe.fromDom(e.getBody())):Q.none();e.bookmark=t.isSome()?t:e.bookmark},IA=e=>(e.bookmark?e.bookmark:Q.none()).bind(o=>V2(Fe.fromDom(e.getBody()),o)).bind(RA),O_=e=>{IA(e).each(t=>e.selection.setRng(t))},id={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},D_=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),LR=(e,t)=>(O(t)||(t=0),setInterval(e,t)),Zc={setEditorTimeout:(e,t,o)=>D_(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const i=LR(()=>{e.removed?clearInterval(i):t()},o);return i}},NA=e=>e.type==="nodechange"&&e.selectionChange,Fb=(e,t)=>{const o=()=>{t.throttle()};Gs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Gs.DOM.unbind(document,"mouseup",o)})},PA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},FR=(e,t)=>{PA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{NA(o)||j0(e)})},PF=e=>{const t=rh(()=>{j0(e)},0);e.on("init",()=>{e.inline&&Fb(e,t),FR(e,t)}),e.on("remove",()=>{t.cancel()})};let ag;const MA=Gs.DOM,VR=e=>En(e)&&id.isEditorUIElement(e),z2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},R_=(e,t)=>{const o=YD(e);return MA.getParent(t,c=>VR(c)||(o?e.dom.is(c,o):!1))!==null},I_=e=>{try{const t=su(Fe.fromDom(e.getElement()));return Lb(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},zR=(e,t)=>{const o=t.editor;PF(o);const i=(c,m)=>{if(i5(c)&&c.inline!==!0){const h=Fe.fromDom(c.getContainer());m(h,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;z2(I_(o))&&i(o,Rd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Zc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!z2(I_(o))||c!==o)&&i(o,Ma),!R_(o,I_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ag||(ag=c=>{const m=e.activeEditor;m&&Dv(c).each(h=>{const C=h;C.ownerDocument===document&&C!==document.body&&!R_(m,C)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},MA.bind(document,"focusin",ag))},MF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&ag&&(MA.unbind(document,"focusin",ag),ag=null)},BF=e=>{e.on("AddEditor",tt(zR,e)),e.on("RemoveEditor",tt(MF,e))},LF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),FF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,VF=e=>e.collapsed?Q.from(Si(e.startContainer,e.startOffset)).map(Fe.fromDom):Q.none(),zF=(e,t)=>VF(t).bind(o=>lh(o)?Q.some(o):ia(e,o)?Q.none():Q.some(e)),HR=(e,t)=>{zF(Fe.fromDom(e.getBody()),t).bind(o=>Qn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},N_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},HF=e=>DA(e)||RF(e).isSome(),$F=e=>Ee(e.iframeElement)&&DA(Fe.fromDom(e.iframeElement)),UF=e=>{const t=e.getBody();return t&&HF(Fe.fromDom(t))},$R=e=>{const t=su(Fe.fromDom(e.getElement()));return Lb(t).filter(o=>!z2(o.dom)&&R_(e,o.dom)).isSome()},K0=e=>e.inline?UF(e):$F(e),Vb=e=>K0(e)||$R(e),WF=e=>{const t=e.selection,o=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable();const c=h=>{IA(h).each(C=>{h.selection.setRng(C),i=C})};!K0(e)&&e.hasEditableRoot()&&c(e);const m=LF(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){FF(e,m)||N_(o),N_(m),e.hasEditableRoot()||c(e),HR(e,i),BA(e);return}e.inline||(Bo.browser.isOpera()||N_(o),e.getWin().focus()),(Bo.browser.isFirefox()||e.inline)&&(N_(o),HR(e,i)),BA(e)},BA=e=>e.editorManager.setActive(e),UR=(e,t)=>{e.removed||(t?BA(e):WF(e))},WR=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),ZR=(e,t,o,i,c)=>{const m=o?t.startContainer:t.endContainer,h=o?t.startOffset:t.endOffset;return Q.from(m).map(Fe.fromDom).map(C=>!i||!t.collapsed?Wu(C,c(C,h)).getOr(C):C).bind(C=>$r(C)?Q.some(C):aa(C).filter($r)).map(C=>C.dom).getOr(e)},jR=(e,t,o=!1)=>ZR(e,t,!0,o,(i,c)=>Math.min(Nd(i),c)),KR=(e,t,o=!1)=>ZR(e,t,!1,o,(i,c)=>c>0?c-1:c),GR=(e,t)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},ZF=(e,t)=>{if(!t)return e;let o=t.startContainer,i=t.endContainer;const c=t.startOffset,m=t.endOffset;let h=t.commonAncestorContainer;t.collapsed||(o===i&&m-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Ut(o)&&Ut(i)&&(o.length===c?o=GR(o.nextSibling,!0):o=o.parentNode,m===0?i=GR(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const C=Ut(h)?h.parentNode:h;return lu(C)?C:e},LA=(e,t,o,i)=>{const c=[],m=e.getRoot(),h=e.getParent(o||jR(m,t,t.collapsed),e.isBlock),C=e.getParent(i||KR(m,t,t.collapsed),e.isBlock);if(h&&h!==m&&c.push(h),h&&C&&h!==C){let A;const V=new ca(h,m);for(;(A=V.next())&&A!==C;)e.isBlock(A)&&c.push(A)}return C&&h!==C&&C!==m&&c.push(C),c},H2=(e,t,o)=>Q.from(t).bind(i=>Q.from(i.parentNode).map(c=>{const m=e.nodeIndex(i),h=e.createRng();return h.setStart(c,m),h.setEnd(c,m+1),o&&(p2(e,h,i,!0),p2(e,h,i,!1)),h})),P_=(e,t)=>Be(t,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),jF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},zb=(e,t,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==t){let m=e[c];if(m)return m;for(let h=e.parent;h&&h!==t;h=h.parent)if(m=h[c],m)return m}},qR=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!sc(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},Pi=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Da{static create(t,o){const i=new Da(t,jF[t]||1);return o&&rs(o,(c,m)=>{i.attr(m,c)}),i}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const i=this;if(!he(t))return Ee(t)&&rs(t,(m,h)=>{i.attr(h,m)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let m=c.length;for(;m--;)if(c[m].name===t)return c.splice(m,1),i}return i}if(t in c.map){let m=c.length;for(;m--;)if(c[m].name===t){c[m].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,i}return c.map[t]}}clone(){const t=this,o=new Da(t.name,t.type),i=t.attributes;if(i){const c=[];c.map={};for(let m=0,h=i.length;m<h;m++){const C=i[m];C.name!=="id"&&(c[c.length]={name:C.name,value:C.value},c.map[C.name]=C.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const i=o.next;t.insert(o,t,!0),o=i}t.remove()}remove(){const t=this,o=t.parent,i=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const i=o.lastChild;return i?(i.next=t,t.prev=i,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,i){t.parent&&t.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,i=[];for(let c=o.firstChild;c;c=zb(c,o))c.name===t&&i.push(c);return i}children(){const t=this,o=[];for(let i=t.firstChild;i;i=i.next)o.push(i);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=zb(c,t))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},i){var c;const m=this;let h=m.firstChild;if(Pi(m))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||Pi(h))return!1}if(h.type===8||h.type===3&&!qR(h)||h.type===3&&h.parent&&o[h.parent.name]&&sc((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=zb(h,m));return!0}walk(t){return zb(this,null,t)}}const YR=Xt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),M_=e=>he(e.nodeValue)&&e.nodeValue.includes(_i),$2=e=>`${e.length===0?"":`${Be(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Vp=(e,t)=>t.querySelectorAll($2(e)),xh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>M_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),XR=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(M_(t)){const o=t.parentNode;return o&&ao(YR,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),KF=e=>xh(e).nextNode()!==null,G0=e=>XR(e).nextNode()!==null,q0=(e,t)=>t.querySelector($2(e))!==null,Y0=(e,t)=>{pe(Vp(e,t),o=>{const i=Fe.fromDom(o);ka(i,"data-mce-bogus")==="all"?Ds(i):pe(e,c=>{Od(i,c)&&Ro(i,c)})})},B_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},FA=$t(B_,xh),JR=$t(B_,XR),VA=(e,t)=>{const o=[{condition:tt(q0,t),action:tt(Y0,t)},{condition:KF,action:FA},{condition:G0,action:JR}];let i=e,c=!1;return pe(o,({condition:m,action:h})=>{m(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},QR=e=>{const t=pi(e,"[data-mce-bogus]");pe(t,o=>{ka(o,"data-mce-bogus")==="all"?Ds(o):Qu(o)?(Dr(o,Fe.fromText(Rr)),Ds(o)):Va(o)})},eI=e=>{const t=pi(e,"input");pe(t,o=>{Ro(o,"name")})},tI=(e,t)=>{const o=rl(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(i,"")},nI=(e,t)=>{const o=e.getDoc(),i=su(Fe.fromDom(e.getBody())),c=Fe.fromTag("div",o);xi(c,"data-mce-bogus","all"),Ko(c,{position:"fixed",left:"-9999999px",top:"0"}),Rm(c,t.innerHTML),QR(c),eI(c);const m=U1(i);Wr(m,c);const h=xl(c.dom.innerText);return Ds(c),h},U2=(e,t,o)=>{let i;return t.format==="raw"?i=Xt.trim(xl(VA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?i=nI(e,o):t.format==="tree"?i=e.serializer.serialize(o,t):i=tI(e,e.serializer.serialize(o,t)),t.format!=="text"&&!cb(Fe.fromDom(o))&&he(i)?Xt.trim(i):i},oI=(e,t)=>Q.from(e.getBody()).fold(et(t.format==="tree"?new Da("body",11):""),o=>U2(e,t,o)),zA=Xt.makeMap,HA=e=>{const t=[];e=e||{};const o=e.indent,i=zA(e.indent_before||""),c=zA(e.indent_after||""),m=Yg.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(C,A,V)=>{if(o&&i[C]&&t.length>0){const Z=t[t.length-1];Z.length>0&&Z!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let Z=0,Y=A.length;Z<Y;Z++){const ee=A[Z];t.push(" ",ee.name,'="',m(ee.value,!0),'"')}if(!V||h?t[t.length]=">":t[t.length]=" />",V&&o&&c[C]&&t.length>0){const Z=t[t.length-1];Z.length>0&&Z!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),o&&c[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:m(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",m(A),"?>"):t.push("<?",C,"?>"),o&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},wh=(e={},t=Bc())=>{const o=HA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,h={3:A=>{var V;o.text((V=A.value)!==null&&V!==void 0?V:"",A.raw)},8:A=>{var V;o.comment((V=A.value)!==null&&V!==void 0?V:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var V;o.doctype((V=A.value)!==null&&V!==void 0?V:"")},4:A=>{var V;o.cdata((V=A.value)!==null&&V!==void 0?V:"")},11:A=>{let V=A;if(V=V.firstChild)do C(V);while(V=V.next)}};o.reset();const C=A=>{var V;const Z=h[A.type];if(Z)Z(A);else{const Y=A.name,ee=Y in t.getVoidElements();let ge=A.attributes;if(m&&ge&&ge.length>1){const Se=[];Se.map={};const ve=t.getElementRule(A.name);if(ve){for(let Oe=0,He=ve.attributesOrder.length;Oe<He;Oe++){const Qe=ve.attributesOrder[Oe];if(Qe in ge.map){const Xe=ge.map[Qe];Se.map[Qe]=Xe,Se.push({name:Qe,value:Xe})}}for(let Oe=0,He=ge.length;Oe<He;Oe++){const Qe=ge[Oe].name;if(!(Qe in Se.map)){const Xe=ge.map[Qe];Se.map[Qe]=Xe,Se.push({name:Qe,value:Xe})}}ge=Se}}if(o.start(Y,ge,ee),Bm(Y))he(A.value)&&o.text(A.value,!0),o.end(Y);else if(!ee){let Se=A.firstChild;if(Se){(Y==="pre"||Y==="textarea")&&Se.type===3&&((V=Se.value)===null||V===void 0?void 0:V[0])===`
`&&o.text(`
`,!0);do C(Se);while(Se=Se.next)}o.end(Y)}}};return c.type===1&&!e.inner?C(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},$A=new Set;pe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{$A.add(t)});const UA=new Set;pe(["background-color"],t=>{UA.add(t)});const WA=["font","text-decoration","text-emphasis"],sI=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Hb=(e,t)=>Kt(sI(e,t)),ZA=e=>$A.has(e),W2=e=>UA.has(e),jA=(e,t)=>xe(Hb(e,t),o=>ZA(o)),rI=(e,t)=>jA(e,t)&&xe(Hb(e,t),o=>W2(o)),L_=e=>vt(e,t=>xe(WA,o=>cr(t,o))),GF=(e,t,o)=>{const i=Hb(e,t),c=Hb(e,o),m=h=>{var C,A;const V=(C=e.getStyle(t,h))!==null&&C!==void 0?C:"",Z=(A=e.getStyle(o,h))!==null&&A!==void 0?A:"";return Je(V)&&Je(Z)&&V!==Z};return xe(i,h=>{const C=A=>xe(A,V=>V===h);if(!C(c)&&C(WA)){const A=L_(c);return xe(A,m)}else return m(h)})},iI=(e,t,o)=>Q.from(o.container()).filter(Ut).exists(i=>{const c=e?0:-1;return t(i.data.charAt(o.offset()+c))}),Ch=tt(iI,!0,Rb),Z2=tt(iI,!1,Rb),aI=e=>{const t=e.container();return Ut(t)&&(t.data.length===0||zc(t.data)&&Zs.isBookmarkNode(t.parentNode))},qd=(e,t)=>o=>e_(e?0:-1,o).filter(t).isSome(),KA=e=>Rc(e)&&Ur(Fe.fromDom(e),"display")==="block",F_=e=>fo(e)&&!j1(e),lI=qd(!0,KA),cI=qd(!1,KA),$b=qd(!0,St),X0=qd(!1,St),uI=qd(!0,cu),J0=qd(!1,cu),Mi=qd(!0,F_),Jf=qd(!1,F_),Ub=e=>e.slice(0,-1),dI=(e,t,o)=>ia(t,e)?Ub(Am(e,i=>o(i)||Yo(i,t))):[],uc=(e,t)=>dI(e,t,fn),jc=(e,t)=>[e].concat(uc(e,t)),V_=(e,t,o)=>N5(e,t,o,aI),fI=e=>t=>e.isBlock(qo(t)),GA=(e,t,o)=>cn(jc(Fe.fromDom(t.container()),e),fI(o)),Q0=(e,t,o,i)=>V_(e,t.dom,o).forall(c=>GA(t,o,i).fold(()=>!tg(c,o,t.dom),m=>!tg(c,o,t.dom)&&ia(m,Fe.fromDom(c.container())))),z_=(e,t,o,i)=>GA(t,o,i).fold(()=>V_(e,t.dom,o).forall(c=>!tg(c,o,t.dom)),c=>V_(e,c.dom,o).isNone()),H_=tt(z_,!1),mI=tt(z_,!0),qA=tt(Q0,!1),YA=tt(Q0,!0),qF=e=>t_(e).exists(Qu),ad=(e,t,o,i)=>{const c=vt(jc(Fe.fromDom(o.container()),t),h=>i.isBlock(qo(h))),m=hn(c).getOr(t);return yu(e,m.dom,o).filter(qF)},j2=(e,t,o)=>t_(t).exists(Qu)||ad(!0,e,t,o).isSome(),Wb=(e,t,o)=>X8(t).exists(Qu)||ad(!1,e,t,o).isSome(),$_=tt(ad,!1),gI=tt(ad,!0),XA=e=>xt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),JA=(e,t,o)=>{const i=vt(jc(Fe.fromDom(t.container()),e),c=>o.isBlock(qo(c)));return hn(i).getOr(e)},hI=(e,t,o)=>XA(t)?Z2(t):Z2(t)||$c(JA(e,t,o).dom,t).exists(Z2),pI=(e,t,o)=>XA(t)?Ch(t):Ch(t)||Gl(JA(e,t,o).dom,t).exists(Ch),vI=e=>ie(["pre","pre-wrap"],e),U_=e=>t_(e).bind(t=>hi(t,$r)).exists(t=>vI(Ur(t,"white-space"))),QA=(e,t)=>$c(e.dom,t).isNone(),e3=(e,t)=>Gl(e.dom,t).isNone(),bI=(e,t,o)=>QA(e,t)||e3(e,t)||H_(e,t,o)||mI(e,t,o)||Wb(e,t,o)||j2(e,t,o),t3=e=>Ee(e)&&fo(e)&&KE(e),n3=(e,t)=>o=>t3(new ca(o,e)[t]()),yI=(e,t)=>{const o=Gl(e.dom,t).getOr(t),i=n3(e.dom,"next");return t.isAtEnd()&&(i(t.container())||i(o.container()))},o3=(e,t)=>{const o=$c(e.dom,t).getOr(t),i=n3(e.dom,"prev");return t.isAtStart()&&(i(t.container())||i(o.container()))},s3=(e,t,o)=>U_(t)?!1:bI(e,t,o)||hI(e,t,o)||pI(e,t,o),ey=(e,t,o)=>U_(t)?!1:H_(e,t,o)||qA(e,t,o)||Wb(e,t,o)||hI(e,t,o)||o3(e,t),xI=e=>{const t=e.container(),o=e.offset();return Ut(t)&&o<t.data.length?xt(t,o+1):e},Zb=(e,t,o)=>U_(t)?!1:mI(e,t,o)||YA(e,t,o)||j2(e,t,o)||pI(e,t,o)||yI(e,t),r3=(e,t,o)=>ey(e,t,o)||Zb(e,xI(t),o),K2=(e,t)=>il(e.charAt(t)),i3=(e,t)=>Rb(e.charAt(t)),wI=e=>{const t=e.container();return Ut(t)&&Ns(t.data,Di)},YF=e=>{const t=e.split("");return Be(t,(o,i)=>il(o)&&i>0&&i<t.length-1&&hh(t[i-1])&&hh(t[i+1])?" ":o).join("")},CI=(e,t,o,i)=>{const c=t.data,m=xt(t,0);return!o&&K2(c,0)&&!r3(e,m,i)?(t.data=" "+c.slice(1),!0):o&&i3(c,0)&&ey(e,m,i)?(t.data=Di+c.slice(1),!0):!1},_I=e=>{const t=e.data,o=YF(t);return o!==t?(e.data=o,!0):!1},SI=(e,t,o,i)=>{const c=t.data,m=xt(t,c.length-1);return!o&&K2(c,c.length-1)&&!r3(e,m,i)?(t.data=c.slice(0,-1)+" ",!0):o&&i3(c,c.length-1)&&Zb(e,m,i)?(t.data=c.slice(0,-1)+Di,!0):!1},kI=(e,t,o)=>{const i=t.container();if(!Ut(i))return Q.none();if(wI(t)){const c=CI(e,i,!1,o)||_I(i)||SI(e,i,!1,o);return Bg(c,t)}else if(r3(e,t,o)){const c=CI(e,i,!0,o)||SI(e,i,!0,o);return Bg(c,t)}else return Q.none()},XF=e=>{const t=Fe.fromDom(e.getBody());e.selection.isCollapsed()&&kI(t,xt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},EI=(e,t,o,i)=>{if(o===0)return;const c=Fe.fromDom(e),m=Qa(c,V=>i.isBlock(qo(V))).getOr(c),h=e.data.slice(t,t+o),C=t+o>=e.data.length&&Zb(m,xt(e,e.data.length),i),A=t===0&&ey(m,xt(e,0),i);e.replaceData(t,o,Mv(h,4,A,C))},W_=(e,t,o)=>{const i=e.data.slice(t),c=i.length-mt(i).length;EI(e,t,c,o)},Vr=(e,t,o)=>{const i=e.data.slice(0,t),c=i.length-ut(i).length;EI(e,t-c,c,o)},G2=(e,t,o,i,c=!0)=>{const m=ut(e.data).length,h=c?e:t,C=c?t:e;return c?h.appendData(C.data):h.insertData(0,C.data),Ds(Fe.fromDom(C)),i&&W_(h,m,o),h},JF=(e,t)=>{const o=e.container(),i=e.offset();return!xt.isTextPosition(e)&&o===t.parentNode&&i>xt.before(t).offset()},QF=(e,t)=>JF(t,e)?xt(t.container(),t.offset()-1):t,ty=e=>Ut(e)?xt(e,0):xt.before(e),zp=e=>Ut(e)?xt(e,e.data.length):xt.after(e),lg=e=>gu(e.previousSibling)?Q.some(zp(e.previousSibling)):e.previousSibling?td(e.previousSibling):Q.none(),a3=e=>gu(e.nextSibling)?Q.some(ty(e.nextSibling)):e.nextSibling?Qn(e.nextSibling):Q.none(),AI=(e,t)=>Q.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>$c(e,xt.before(o))).orThunk(()=>Gl(e,xt.after(t))),TI=(e,t)=>Gl(e,xt.after(t)).orThunk(()=>$c(e,xt.before(t))),Z_=(e,t)=>lg(t).orThunk(()=>a3(t)).orThunk(()=>AI(e,t)),e7=(e,t)=>a3(t).orThunk(()=>lg(t)).orThunk(()=>TI(e,t)),l3=(e,t,o)=>e?e7(t,o):Z_(t,o),OI=(e,t,o)=>l3(e,t,o).map(tt(QF,o)),c3=(e,t,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),t)})},u3=e=>t=>t.dom===e,DI=(e,t)=>t&&ao(e.schema.getBlockElements(),qo(t)),d3=(e,t,o)=>{if(jr(e,t)){const i=Fe.fromHtml('<br data-mce-bogus="1">');return o?pe(la(t),c=>{f_(c)||Ds(c)}):Qs(t),Wr(t,i),Q.some(xt.before(i.dom))}else return Q.none()},t7=(e,t,o,i)=>{const c=wi(e).filter(ur),m=Wn(e).filter(ur);return Ds(e),hf(c,m,t,(h,C,A)=>{const V=h.dom,Z=C.dom,Y=V.data.length;return G2(V,Z,o,i),A.container()===Z?xt(V,Y):A}).orThunk(()=>(i&&(c.each(h=>Vr(h.dom,h.dom.length,o)),m.each(h=>W_(h.dom,0,o))),t))},n7=(e,t)=>ao(e.schema.getTextInlineElements(),qo(t)),Cl=(e,t,o,i=!0,c=!1)=>{const m=OI(t,e.getBody(),o.dom),h=Qa(o,tt(DI,e),u3(e.getBody())),C=t7(o,m,e.schema,n7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(A=>d3(e.schema,A,c)).fold(()=>{i&&c3(e,t,C)},A=>{i&&c3(e,t,Q.some(A))})},RI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,o7=e=>RI.test(e),jb=(e,t)=>Ps(Fe.fromDom(t),ns(e))&&!Df(e.schema,t)&&e.dom.isEditable(t),q2=e=>{var t;return Gs.DOM.getStyle(e,"direction",!0)==="rtl"||o7((t=e.textContent)!==null&&t!==void 0?t:"")},s7=(e,t,o)=>vt(Gs.DOM.getParents(o.container(),"*",t),e),Hp=(e,t,o)=>{const i=s7(e,t,o);return Q.from(i[i.length-1])},II=(e,t,o)=>{const i=Ap(t,e),c=Ap(o,e);return Ee(i)&&i===c},f3=e=>ub(e)||x0(e),ld=(e,t)=>{const o=t.container(),i=t.offset();return e?Gm(o)?Ut(o.nextSibling)?xt(o.nextSibling,0):xt.after(o):ub(t)?xt(o,i+1):t:Gm(o)?Ut(o.previousSibling)?xt(o.previousSibling,o.previousSibling.data.length):xt.before(o):x0(t)?xt(o,i-1):t},NI=tt(ld,!0),ny=tt(ld,!1),m3=(e,t)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},PI=e=>{e.execCommand("delete")},j_=e=>m3(e,"Delete"),g3=e=>m3(e,"ForwardDelete"),Y2=e=>t=>mf(aa(t),e,Yo),MI=e=>ab(e)||Km(e),X2=(e,t)=>ia(e,t)?hi(t,MI,Y2(e)):Q.none(),K_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},BI=(e,t,o)=>sa(Qn(o),td(o),(i,c)=>{const m=ld(!0,i),h=ld(!1,c),C=ld(!1,t);return e?Gl(o,C).exists(A=>A.isEqual(h)&&t.isEqual(m)):$c(o,C).exists(A=>A.isEqual(m)&&t.isEqual(h))}).getOr(!0),Yd=e=>(zg(e)?wi(e):Zu(e)).bind(Yd).orThunk(()=>Q.some(e)),G_=(e,t,o,i=!0)=>{var c;t.deleteContents();const m=Yd(o).getOr(o),h=Fe.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?K_(e,i):jr(e.schema,h,{checkRootAsContent:!1})&&(Vc(h),i&&e.selection.setCursorLocation(h.dom,0)),!Yo(o,h)){const C=mf(aa(h),o)?[]:Ov(h);pe(C.concat(la(o)),A=>{!Yo(A,h)&&!ia(A,h)&&jr(e.schema,A)&&Ds(A)})}},r7=e=>t=>Yo(e,t),h3=e=>pi(e,"td,th"),As=(e,t)=>Bs(Fe.fromDom(e),t),i7=e=>sa(e.startTable,e.endTable,(t,o)=>{const i=Z1(t,m=>Yo(m,o)),c=Z1(o,m=>Yo(m,t));return!i&&!c?e:{...e,startTable:i?Q.none():e.startTable,endTable:c?Q.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),J2=e=>i7(e),a7=(e,t)=>{const o=As(e.startContainer,t),i=As(e.endContainer,t),c=o.isSome(),m=i.isSome(),h=sa(o,i,Yo).getOr(!1);return J2({startTable:o,endTable:i,isStartInTable:c,isEndInTable:m,isSameTable:h,isMultiTable:!h&&c&&m})},q_=(e,t)=>({start:e,end:t}),$p=(e,t,o)=>({rng:e,table:t,cells:o}),al=Go.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Up=(e,t)=>Zi(Fe.fromDom(e),"td,th",t),_h=e=>!Yo(e.start,e.end),Qf=(e,t)=>Bs(e.start,t).bind(o=>Bs(e.end,t).bind(i=>Bg(Yo(o,i),o))),Q2=(e,t)=>!_h(e)&&Qf(e,t).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),p3=(e,t)=>{const o=Up(e.startContainer,t),i=Up(e.endContainer,t);return sa(o,i,q_)},v3=e=>t=>Bs(t,e).bind(o=>Eo(h3(o)).map(i=>q_(t,i))),LI=e=>t=>Bs(t,e).bind(o=>hn(h3(o)).map(i=>q_(i,t))),Y_=e=>t=>Qf(t,e).map(o=>$p(t,o,h3(o))),FI=(e,t,o,i)=>{if(o.collapsed||!e.forall(_h))return Q.none();if(t.isSameTable){const c=e.bind(Y_(i));return Q.some({start:c,end:c})}else{const c=Up(o.startContainer,i),m=Up(o.endContainer,i),h=c.bind(v3(i)).bind(Y_(i)),C=m.bind(LI(i)).bind(Y_(i));return Q.some({start:h,end:C})}},VI=(e,t)=>An(e,o=>Yo(o,t)),X_=e=>sa(VI(e.cells,e.rng.start),VI(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),zI=(e,t,o)=>e.exists(i=>Q2(i,o)&&h2(i.start,t)),b3=(e,t)=>{const{startTable:o,endTable:i}=t,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),i.each(m=>c.setEndBefore(m.dom)),c},HI=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=t,h=X_(c).getOr([]);if(m&&c.cells.length===h.length)return Q.some(al.fullTable(c.table));if(h.length>0){if(m)return Q.some(al.partialTable(h,Q.none()));{const C=b3(o,t);return Q.some(al.partialTable(h,Q.some({...t,rng:C})))}}else return Q.none()}),y3=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>{const h=c.bind(X_).getOr([]),C=m.bind(X_).getOr([]);if(h.length>0&&C.length>0){const A=b3(o,t);return Q.some(al.multiTable(h,C,A))}else return Q.none()}),l7=(e,t)=>{const o=r7(e),i=p3(t,o),c=a7(t,o);return zI(i,t,o)?i.map(m=>al.singleCellTable(t,m.start)):c.isMultiTable?y3(i,c,t,o):HI(i,c,t,o)},$I=e=>pe(e,t=>{Ro(t,"contenteditable"),Vc(t)}),c7=(e,t)=>Q.from(e.dom.getParent(t,e.dom.isBlock)).map(Fe.fromDom),cg=(e,t,o)=>{o.each(i=>{t?Ds(i):(Vc(i),e.selection.setCursorLocation(i.dom,0))})},Kb=(e,t,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),C3(e,c,t,!1).each(m=>m())},x3=e=>{const t=Gf(e),o=Fe.fromDom(e.selection.getNode());lp(o.dom)&&jr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&xe(t,i=>Yo(i,o))&&xi(o,"data-mce-selected","1")},w3=(e,t,o)=>Q.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:h})=>{const C=c7(e,h?m.endContainer:m.startContainer);m.deleteContents(),cg(e,h,C.filter(tt(jr,e.schema)));const A=h?t[0]:t[t.length-1];return Kb(e,A,i,h),jr(e.schema,A)?Q.none():Q.some(h?t.slice(1):t.slice(0,-1))}).getOr(t);$I(c),x3(e)}),UI=(e,t,o,i)=>Q.some(()=>{const c=e.selection.getRng(),m=t[0],h=o[o.length-1];Kb(e,m,c,!0),Kb(e,h,c,!1);const C=jr(e.schema,m)?t:t.slice(1),A=jr(e.schema,h)?o:o.slice(0,-1);$I(C.concat(A)),i.deleteContents(),x3(e)}),C3=(e,t,o,i=!0)=>Q.some(()=>{G_(e,t,o,i)}),Wp=(e,t)=>Q.some(()=>Cl(e,!1,t)),u7=(e,t,o)=>l7(t,o).bind(i=>i.fold(tt(C3,e),tt(Wp,e),tt(w3,e),tt(UI,e))),d7=(e,t)=>J_(e,t),f7=(e,t,o,i)=>_3(t,i).fold(()=>u7(e,t,o),c=>d7(e,c)),m7=(e,t,o)=>{const i=Fe.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?w3(e,o,Q.none()):f7(e,i,c,t)},WI=(e,t)=>cn(jc(t,e),Fc),_3=(e,t)=>cn(jc(t,e),bf("caption")),g7=(e,t,o,i,c)=>Ob(o,e.getBody(),c).bind(m=>WI(t,Fe.fromDom(m.getNode())).bind(h=>Yo(h,i)?Q.none():Q.some(ct))),J_=(e,t)=>Q.some(()=>{Vc(t),e.selection.setCursorLocation(t.dom,0)}),h7=(e,t,o,i)=>Qn(e.dom).bind(c=>td(e.dom).map(m=>t?o.isEqual(c)&&i.isEqual(m):o.isEqual(m)&&i.isEqual(c))).getOr(!0),Q_=(e,t)=>J_(e,t),p7=(e,t,o)=>_3(e,Fe.fromDom(o.getNode())).fold(()=>Q.some(ct),i=>Bg(!Yo(i,t),ct)),ew=(e,t,o,i,c)=>Ob(o,e.getBody(),c).fold(()=>Q.some(ct),m=>h7(i,o,c,m)?Q_(e,i):p7(t,i,m)),S3=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return WI(o,i).bind(m=>jr(e.schema,m,{checkRootAsContent:!1})?J_(e,m):g7(e,o,t,m,c))},Gb=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return jr(e.schema,i)?J_(e,i):ew(e,o,t,i,c)},Zp=(e,t)=>e?uI(t):J0(t),eS=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return Zp(t,o)||yu(t,e.getBody(),o).exists(i=>Zp(t,i))},tS=(e,t,o)=>{const i=Fe.fromDom(e.getBody());return _3(i,o).fold(()=>S3(e,t,i,o).orThunk(()=>Bg(eS(e,t),ct)),c=>Gb(e,t,i,c))},Sh=(e,t)=>{const o=Fe.fromDom(e.selection.getStart(!0)),i=Gf(e);return e.selection.isCollapsed()&&i.length===0?tS(e,t,o):m7(e,o,i)},cd=(e,t)=>{let o=t;for(;o&&o!==e;){if(Ic(o)||fo(o))return o;o=o.parentNode}return null},nS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],oS=Xt.each,sS=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(m,h)=>{if(m.nodeName!==h.nodeName||m.nodeType!==h.nodeType)return!1;const C=V=>{const Z={};return oS(t.getAttribs(V),Y=>{const ee=Y.nodeName.toLowerCase();ee!=="style"&&!c(ee)&&(Z[ee]=t.getAttrib(V,ee))}),Z},A=(V,Z)=>{for(const Y in V)if(ao(V,Y)){const ee=Z[Y];if(qe(ee)||V[Y]!==ee)return!1;delete Z[Y]}for(const Y in Z)if(ao(Z,Y))return!1;return!0};return En(m)&&En(h)&&(!A(C(m),C(h))||!A(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(h,"style"))))?!1:!wu(m)&&!wu(h)},c=m=>xe(nS,h=>cr(m,h))||o.has(m);return{compare:i,isAttributeInternal:c}},rS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),k3=e=>e.name==="summary",ZI=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},E3=(e,t,o,i)=>{const c=o.name;for(let m=0,h=e.length;m<h;m++){const C=e[m];if(C.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:C,nodes:[o]}}}if(o.attributes)for(let m=0,h=t.length;m<h;m++){const C=t[m],A=C.name;if(A in o.attributes.map){const V=i.attributes[A];V?V.nodes.push(o):i.attributes[A]={filter:C,nodes:[o]}}}},oy=(e,t,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&ZI(o,c=>{E3(e,t,c,i)}),i},A3=(e,t)=>{const o=(i,c)=>{rs(i,m=>{const h=vo(m.nodes);pe(m.filter.callbacks,C=>{for(let A=h.length-1;A>=0;A--){const V=h[A];(!(c?V.attr(m.filter.name)!==void 0:V.name===m.filter.name)||st(V.parent))&&h.splice(A,1)}h.length>0&&C(h,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},T3=(e,t,o,i={})=>{const c=oy(e,t,o);A3(c,i)},iS=(e,t,o,i)=>{if((e.pad_empty_with_br||t.insert)&&o(i)){const m=new Da("br",1);t.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new Da("#text",3)).value=Di},aS=e=>{var t;return O3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Di},O3=(e,t)=>{const o=e==null?void 0:e.firstChild;return Ee(o)&&o===e.lastChild&&o.name===t},jI=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},sy=(e,t,o,i)=>i.isEmpty(t,o,c=>jI(e,c)),KI=(e,t)=>Ee(e)&&(t(e)||e.name==="br"),kh=e=>{let t;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(t=o)}return Q.from(t)},ug=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!t.isValidChild(o.name,c.name)&&ug(c,t,o);e.unwrap()}},_u=(e,t,o,i=ct)=>{const c=t.getTextBlockElements(),m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=Xt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,V=Z=>Z!==o&&!C[Z.name];for(let Z=0;Z<e.length;Z++){const Y=e[Z];let ee,ge,Se;if(!Y.parent||A.has(Y))continue;if(c[Y.name]&&Y.parent.name==="li"){let Oe=Y.next;for(;Oe&&c[Oe.name];){Oe.name="li",A.add(Oe),Y.parent.insert(Oe,Y.parent);Oe=Oe.next}Y.unwrap();continue}const ve=[Y];for(ee=Y.parent;ee&&!t.isValidChild(ee.name,Y.name)&&V(ee);ee=ee.parent)ve.push(ee);if(ee&&ve.length>1)if(tw(t,Y,ee))ug(Y,t);else{ve.reverse(),ge=ve[0].clone(),i(ge);let Oe=ge;for(let He=0;He<ve.length-1;He++){t.isValidChild(Oe.name,ve[He].name)&&He>0?(Se=ve[He].clone(),i(Se),Oe.append(Se)):Se=Oe;for(let Qe=ve[He].firstChild;Qe&&Qe!==ve[He+1];){const Xe=Qe.next;Se.append(Qe),Qe=Xe}Oe=Se}sy(t,m,h,ge)?ee.insert(Y,ve[0],!0):(ee.insert(ge,ve[0],!0),ee.insert(Y,ge)),ee=ve[0],(sy(t,m,h,ee)||O3(ee,"br"))&&ee.empty().remove()}else if(Y.parent){if(Y.name==="li"){let Oe=Y.prev;if(Oe&&(Oe.name==="ul"||Oe.name==="ol")){Oe.append(Y);continue}if(Oe=Y.next,Oe&&(Oe.name==="ul"||Oe.name==="ol")&&Oe.firstChild){Oe.insert(Y,Oe.firstChild,!0);continue}const He=new Da("ul",1);i(He),Y.wrap(He);continue}if(t.isValidChild(Y.parent.name,"div")&&t.isValidChild("div",Y.name)){const Oe=new Da("div",1);i(Oe),Y.wrap(Oe)}else ug(Y,t)}}},D3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},tw=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&D3(o,"a")?!0:k3(o)&&rS(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,GI=(e,t,o,i)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,i),c},qI=e=>{const t=xt.fromRangeStart(e),o=xt.fromRangeEnd(e),i=e.commonAncestorContainer;return yu(!1,i,o).map(c=>!tg(t,o,i)&&tg(t,c,i)?GI(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},lS=e=>e.collapsed?e:qI(e),R3=e=>Ee(e.firstChild)&&e.firstChild===e.lastChild,YI=e=>e.name==="br"||e.value===Di,XI=(e,t)=>e.getBlockElements()[t.name]&&R3(t)&&YI(t.firstChild),I3=(e,t)=>{const o=e.getNonEmptyElements();return Ee(t)&&(t.isEmpty(o)||XI(e,t))},dg=(e,t)=>{let o=t.firstChild,i=t.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),I3(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},Xd=e=>{var t,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((t=i.parentNode)===null||t===void 0||t.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},cS=(e,t,o)=>{const i=t.serialize(o),c=e.createFragment(i);return Xd(c)},JI=e=>{var t;return vt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},uS=e=>e.data===Di||pr(e),QI=e=>Ee(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&uS(e.firstChild),eN=e=>!e.firstChild||QI(e),tN=e=>e.length>0&&eN(e[e.length-1])?e.slice(0,-1):e,dS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},nN=(e,t)=>!!dS(e,t),oN=(e,t)=>{const o=t.cloneRange(),i=t.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},fS=(e,t)=>{const o=xt.before(e),c=qn(t).next(o);return c?c.toRange():null},mS=(e,t)=>{const o=xt.after(e),c=qn(t).prev(o);return c?c.toRange():null},sN=(e,t,o,i)=>{const c=oN(e,i),m=e.parentNode;return m&&(m.insertBefore(c[0],e),Xt.each(t,h=>{m.insertBefore(h,e)}),m.insertBefore(c[1],e),m.removeChild(e)),mS(t[t.length-1],o)},N3=(e,t,o)=>{const i=e.parentNode;return i&&Xt.each(t,c=>{i.insertBefore(c,e)}),fS(e,o)},v7=(e,t,o,i)=>(i.insertAfter(t.reverse(),e),mS(t[0],o)),b7=(e,t,o,i)=>{const c=cS(t,e,i),m=dS(t,o.startContainer),h=tN(JI(c.firstChild)),C=1,A=2,V=t.getRoot(),Z=Y=>{const ee=xt.fromRangeStart(o),ge=qn(t.getRoot()),Se=Y===C?ge.prev(ee):ge.next(ee),ve=Se==null?void 0:Se.getNode();return ve?dS(t,ve)!==m:!0};return m?Z(C)?N3(m,h,V):Z(A)?v7(m,h,V,t):sN(m,h,V,o):null},y7=["pre"],x7=(e,t,o,i)=>{var c;const m=t.firstChild,h=t.lastChild,C=h.attr("data-mce-type")==="bookmark"?h.prev:h,A=m===C,V=ie(y7,m.name);if(A&&V){const Z=m.attr("contenteditable")!=="false",Y=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,ee=Q.from(cd(i,o)).forall(Ic);return Z&&Y&&ee}else return!1},P3=lp,w7=(e,t,o)=>{if(Ee(o)){const i=e.getParent(t.endContainer,P3);return o===i&&h2(Fe.fromDom(o),t)}else return!1},gS=(e,t,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(t),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},M3=(e,t,o)=>{Q.from(e.getParent(t,"td,th")).map(Fe.fromDom).each(i=>Vx(i,o))},rN=(e,t)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(t){const c=e.getBody(),m=sS(e),h="*[data-mce-fragment]",C=i.select(h);Xt.each(C,A=>{const V=ee=>Ee(o[ee.nodeName.toLowerCase()]),Z=ee=>ee.childNodes.length===1;if((ee=>!(jA(i,ee)||rI(i,ee)))(A)&&V(A)&&Z(A)){const ee=Hb(i,A),ge=(He,Qe)=>Do(He,Xe=>ie(Qe,Xe)),Se=He=>Z(A)&&i.is(He,h)&&V(He)&&(He.nodeName===A.nodeName&&ge(ee,Hb(i,He))||Se(He.children[0])),ve=He=>Ee(He)&&He!==c&&(m.compare(A,He)||ve(He.parentElement)),Oe=He=>Ee(He)&&He!==c&&i.is(He,h)&&(GF(i,A,He)||Oe(He.parentElement));(Se(A.children[0])||ve(A.parentElement)&&!Oe(A.parentElement))&&i.remove(A,!0)}})}},B3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},C7=e=>{Xt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},_7=e=>!!e.getAttribute("data-mce-fragment"),S7=(e,t)=>Ee(t)&&!e.schema.getVoidElements()[t.nodeName],k7=(e,t)=>{var o,i,c;let m;const h=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=cd(e.getBody(),t);if(A&&h.getContentEditable(A)==="false"){h.remove(t),C.select(A);return}let V=h.createRng();const Z=t.previousSibling;if(Ut(Z)){V.setStart(Z,(i=(o=Z.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ge=t.nextSibling;Ut(ge)&&(Z.appendData(ge.data),(c=ge.parentNode)===null||c===void 0||c.removeChild(ge))}else V.setStartBefore(t),V.setEndBefore(t);const Y=ge=>{let Se=xt.fromRangeStart(ge);return Se=qn(e.getBody()).next(Se),Se==null?void 0:Se.toRange()},ee=h.getParent(t,h.isBlock);if(h.remove(t),ee&&h.isEmpty(ee)){const ge=P3(ee);Qs(Fe.fromDom(ee)),V.setStart(ee,0),V.setEnd(ee,0),!ge&&!_7(ee)&&(m=Y(V))?(V=m,h.remove(ee)):h.add(ee,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}C.setRng(V)},E7=e=>{const t=e.dom,o=lS(e.selection.getRng());e.selection.setRng(o);const i=t.getParent(o.startContainer,P3);w7(t,o,i)?C3(e,o,Fe.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},A7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return Q.some(t);return Q.none()},hS=(e,t,o)=>{var i;return xe(o.children(),rS)&&((i=e.getParent(t,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},pS=(e,t,o)=>{var i,c;const m=e.selection,h=e.dom,C=e.parser,A=o.merge,V=wh({validate:!0},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=xl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,Z);let Y=m.getRng();const ee=Y.startContainer,ge=e.getBody();ee===ge&&m.isCollapsed()&&h.isBlock(ge.firstChild)&&S7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(Y=h.createRng(),Y.setStart(ge.firstChild,0),Y.setEnd(ge.firstChild,0),m.setRng(Y)),m.isCollapsed()||E7(e);const Se=m.getNode(),ve={context:Se.nodeName.toLowerCase(),data:o.data,insert:!0},Oe=C.parse(t,ve);if(o.paste===!0&&dg(e.schema,Oe)&&nN(h,Se))return Y=b7(V,h,m.getRng(),Oe),Y&&m.setRng(Y),t;o.paste===!0&&x7(h,Oe,Se,e.getBody())&&((i=Oe.firstChild)===null||i===void 0||i.unwrap()),B3(Oe);let He=Oe.lastChild;if(He&&He.attr("id")==="mce_marker"){const Qe=He;for(He=He.prev;He;He=He.walk(!0))if(He.type===3||!h.isBlock(He.name)){He.parent&&e.schema.isValidChild(He.parent.name,"span")&&He.parent.insert(Qe,He,He.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Se),!ve.invalid&&!hS(h,Se,Oe))t=V.serialize(Oe),gS(e,t,Se);else{e.selection.setContent(Z);let Qe=m.getNode(),Xe;const dt=e.getBody();for(Rn(Qe)?Qe=Xe=dt:Xe=Qe;Xe&&Xe!==dt;)Qe=Xe,Xe=Xe.parentNode;t=Qe===dt?dt.innerHTML:h.getOuterHTML(Qe);const Bt=C.parse(t),Yt=A7(Bt),pn=Yt.bind(kh).getOr(Bt);Yt.each(Cn=>Cn.replace(Oe));const kt=Oe.children(),bt=(c=Oe.parent)!==null&&c!==void 0?c:Bt;Oe.unwrap();const Nt=vt(kt,Cn=>tw(e.schema,Cn,bt));_u(Nt,e.schema,pn),T3(C.getNodeFilters(),C.getAttributeFilters(),Bt),t=V.serialize(Bt),Qe===dt?h.setHTML(dt,t):h.setOuterHTML(Qe,t)}return rN(e,A),k7(e,h.get("mce_marker")),C7(e.getBody()),M3(h,m.getStart(),e.schema),Ld(e.schema,e.getBody(),m.getStart()),t},qb=e=>e instanceof Da,T7=e=>{K0(e)&&Qn(e.getBody()).each(t=>{const o=t.getNode(),i=cu(o)?Qn(o).getOr(t):t;e.selection.setRng(i.toRange())})},L3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&T7(e)},O7=(e,t,o,i)=>{if(o=xl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const m=rl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,Xx(e),o)):o||(o=c),L3(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=wh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=cb(Fe.fromDom(t))?o:Xt.trim(o);return L3(e,c,i.no_selection),{content:c,html:c}}},D7=(e,t,o,i)=>{T3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=wh({validate:!1},e.schema).serialize(o),m=xl(cb(Fe.fromDom(t))?c:Xt.trim(c));return L3(e,m,i.no_selection),{content:o,html:m}},R7=(e,t,o)=>Q.from(e.getBody()).map(i=>qb(t)?D7(e,i,t,o):O7(e,i,t,o)).getOr({content:t,html:qb(o.content)?"":o.content}),iN=e=>Le(e)?e:fn,Jd=(e,t,o)=>{let i=e.dom;const c=iN(o);for(;i.parentNode;){i=i.parentNode;const m=Fe.fromDom(i),h=t(m);if(h.isSome())return h;if(c(m))break}return Q.none()},nw=(e,t,o)=>{const i=t(e),c=iN(o);return i.orThunk(()=>c(e)?Q.none():Jd(e,t,c))},vS=U0,F3=(e,t,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const m=i[c];if(Uc(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},bS=(e,t,o,i,c)=>{const m=e.dom.getRoot();if(t===m)return!1;const h=e.dom.getParent(t,C=>F3(e,C,o)?!0:C.parentNode===m||!!fg(e,C,o,i,!0));return!!fg(e,h,o,i,c)},yS=(e,t,o)=>ha(o)&&vS(t,o.inline)||qf(o)&&vS(t,o.block)?!0:Uc(o)?En(t)&&e.is(t,o.selector):!1,V3=(e,t,o,i,c,m)=>{const h=o[i],C=i==="attributes";if(Le(o.onmatch))return o.onmatch(t,o,i);if(h){if(rn(h)){for(let A=0;A<h.length;A++)if(C?e.getAttrib(t,h[A]):v2(e,t,h[A]))return!0}else for(const A in h)if(ao(h,A)){const V=C?e.getAttrib(t,A):v2(e,t,A),Z=ph(h[A],m),Y=st(V)||Wt(V);if(Y&&st(Z))continue;if(c&&Y&&!o.exact||(!c||o.exact)&&!vS(V,c_(Z,A)))return!1}}return!0},fg=(e,t,o,i,c)=>{const m=e.formatter.get(o),h=e.dom;if(m&&En(t))for(let C=0;C<m.length;C++){const A=m[C];if(yS(e.dom,t,A)&&V3(h,t,A,"attributes",c,i)&&V3(h,t,A,"styles",c,i)){const V=A.classes;if(V){for(let Z=0;Z<V.length;Z++)if(!e.dom.hasClass(t,ph(V[Z],i)))return}return A}}},jp=(e,t,o,i,c)=>{if(i)return bS(e,i,t,o,c);if(i=e.selection.getNode(),bS(e,i,t,o,c))return!0;const m=e.selection.getStart();return!!(m!==i&&bS(e,m,t,o,c))},aN=(e,t,o)=>{const i=[],c={},m=e.selection.getStart();return e.dom.getParent(m,h=>{for(let C=0;C<t.length;C++){const A=t[C];!c[A]&&fg(e,h,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},lN=(e,t)=>{const o=c=>Yo(c,Fe.fromDom(e.getBody())),i=(c,m)=>fg(e,c.dom,m)?Q.some(m):Q.none();return Q.from(e.selection.getStart(!0)).bind(c=>nw(Fe.fromDom(c),m=>or(t,h=>i(m,h)),o)).getOrNull()},cN=(e,t)=>{const o=e.formatter.get(t),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=b2(i,c);for(let h=o.length-1;h>=0;h--){const C=o[h];if(!Uc(C))return!0;for(let A=m.length-1;A>=0;A--)if(i.is(m[A],C.selector))return!0}}return!1},z3=(e,t,o)=>Vt(o,(i,c)=>{const m=Y5(e,c);return e.formatter.matchNode(t,c,{},m)?i.concat([c]):i},[]),ow=_i,I7=(e,t)=>e.importNode(t,!0),uN=e=>{if(e){const t=new ca(e,e);for(let o=t.current();o;o=t.next())if(Ut(o))return o}return null},mg=e=>{const t=Fe.fromTag("span");return Pa(t,{id:F0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Wr(t,Fe.fromText(ow)),t},H3=e=>{const t=uN(e);return t&&t.data.charAt(0)===ow&&t.deleteData(0,1),t},$3=(e,t,o)=>{const i=e.dom,c=e.selection;if(uA(t))Cl(e,!1,Fe.fromDom(t),o,!0);else{const m=c.getRng(),h=i.getParent(t,i.isBlock),C=m.startContainer,A=m.startOffset,V=m.endContainer,Z=m.endOffset,Y=H3(t);i.remove(t,!0),C===Y&&A>0&&m.setStart(Y,A-1),V===Y&&Z>0&&m.setEnd(Y,Z-1),h&&i.isEmpty(h)&&Vc(Fe.fromDom(h)),c.setRng(m)}},U3=(e,t,o)=>{const i=e.dom,c=e.selection;if(t)$3(e,t,o);else if(t=Tp(e.getBody(),c.getStart()),!t)for(;t=i.get(F0);)$3(e,t,o)},Yb=(e,t,o)=>{var i,c;const m=e.dom,h=m.getParent(o,tt(l_,e.schema));h&&m.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(t,o):(ac(Fe.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(t,o):m.insertAfter(t,o))},W3=(e,t)=>(e.appendChild(t),t),sw=(e,t)=>{var o;const i=Ft(e,(m,h)=>W3(m,h.cloneNode(!1)),t),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return W3(i,c.createTextNode(ow))},N7=(e,t,o,i,c,m)=>{const h=e.formatter,C=e.dom,A=vt(Kt(h.get()),Y=>Y!==i&&!Ns(Y,"removeformat")),V=z3(e,o,A);if(vt(V,Y=>!X5(e,Y,i)).length>0){const Y=o.cloneNode(!1);return C.add(t,Y),h.remove(i,c,Y,m),C.remove(Y),Q.some(Y)}else return Q.none()},dN=e=>sb(e,jm(e).replace(new RegExp(`${Di}$`)," ")),Z3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&wi(Fe.fromDom(t)).each(i=>{ur(i)?dN(i):Wi(i,c=>ur(c)).each(c=>{ur(c)&&dN(c)})})};e.once("input",i=>{i.data&&!Rb(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},Eh=(e,t,o)=>{let i;const c=e.selection,m=e.formatter.get(t);if(!m)return;const h=c.getRng();let C=h.startOffset;const V=h.startContainer.nodeValue;i=Tp(e.getBody(),c.getStart());const Z=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(V&&C>0&&C<V.length&&Z.test(V.charAt(C))&&Z.test(V.charAt(C-1))){const Y=c.getBookmark();h.collapse(!0);let ee=Rp(e.dom,h,m);ee=P2(ee),e.formatter.apply(t,o,ee),c.moveToBookmark(Y)}else{let Y=i?uN(i):null;(!i||(Y==null?void 0:Y.data)!==ow)&&(i=I7(e.getDoc(),mg(!0).dom),Y=i.firstChild,h.insertNode(i),C=1,Z3(e,i)),e.formatter.apply(t,o,i),c.setCursorLocation(Y,C)}},j3=(e,t,o,i)=>{const c=e.dom,m=e.selection;let h=!1;const C=e.formatter.get(t);if(!C)return;const A=m.getRng(),V=A.startContainer,Z=A.startOffset;let Y=V;Ut(V)&&(Z!==V.data.length&&(h=!0),Y=Y.parentNode);const ee=[];let ge;for(;Y;){if(fg(e,Y,t,o,i)){ge=Y;break}Y.nextSibling&&(h=!0),ee.push(Y),Y=Y.parentNode}if(ge)if(h){const Se=m.getBookmark();A.collapse(!0);let ve=Rp(c,A,C,!0);ve=P2(ve),e.formatter.remove(t,o,ve,i),m.moveToBookmark(Se)}else{const Se=Tp(e.getBody(),ge),ve=Ee(Se)?c.getParents(ge.parentNode,_n,Se):[],Oe=mg(!1).dom;Yb(e,Oe,Se??ge);const He=N7(e,Oe,ge,t,o,i),Qe=sw([...ee,...He.toArray(),...ve],Oe);Se&&$3(e,Se,Ee(Se)),m.setCursorLocation(Qe,1),Z3(e,Oe),c.isEmpty(ge)&&c.remove(ge)}},K3=(e,t,o)=>{const i=e.selection,c=e.getBody();U3(e,null,o),(t===8||t===46)&&i.isCollapsed()&&i.getStart().innerHTML===ow&&U3(e,Tp(c,i.getStart()),!0),(t===37||t===39)&&U3(e,Tp(c,i.getStart()),!0)},G3=e=>Ut(e)&&Te(e.data,Di),fN=e=>{e.on("mouseup keydown",t=>{K3(e,t.keyCode,G3(e.selection.getRng().endContainer))})},q3=e=>{const t=mg(!1),o=sw(e,t.dom);return{caretContainer:t,caretPosition:xt(o,0)}},Y3=(e,t)=>{const{caretContainer:o,caretPosition:i}=q3(t);return Dr(Fe.fromDom(e),o),Ds(Fe.fromDom(e)),i},P7=(e,t)=>{const{caretContainer:o,caretPosition:i}=q3(t);return e.insertNode(o.dom),i},ry=(e,t)=>{if(xu(t.dom))return!1;const o=e.schema.getTextInlineElements();return ao(o,qo(t))&&!xu(t.dom)&&!Ef(t.dom)},Kp={},X3=ua(["pre"]),mN=(e,t)=>{Kp[e]||(Kp[e]=[]),Kp[e].push(t)},gN=(e,t)=>{ao(Kp,e)&&pe(Kp[e],o=>{o(t)})};mN("pre",e=>{const t=e.selection.getRng(),o=c=>m=>{const h=m.previousSibling;return X3(h)&&ie(c,h)},i=(c,m)=>{const h=Fe.fromDom(m),C=nc(h).dom;Ds(h),ti(Fe.fromDom(c),[Fe.fromTag("br",C),Fe.fromTag("br",C),...la(h)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),m=vt(vt(c,X3),o(c));pe(m,h=>{i(h.previousSibling,h)})}});const J3=["fontWeight","fontStyle","color","fontSize","fontFamily"],xS=e=>K(e.styles)&&xe(Kt(e.styles),t=>ie(J3,t)),Q3=e=>cn(e,t=>ha(t)&&t.inline==="span"&&xS(t)),iy=(e,t)=>{const o=e.get(t);return ae(o)?Q3(o):Q.none()},hN=(e,t)=>$c(t,xt.fromRangeStart(e)).isNone(),e4=(e,t)=>Gl(t,xt.fromRangeEnd(e)).exists(o=>!pr(o.getNode())||Gl(t,o).isSome())===!1,pN=e=>t=>lx(t)&&e.isEditable(t),M7=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return hN(o,t[0])&&e4(o,t[0])?t:[];{const i=hn(t).filter(h=>hN(o,h)).toArray(),c=Eo(t).filter(h=>e4(o,h)).toArray(),m=t.slice(1,-1);return i.concat(m).concat(c)}},vN=e=>vt(M7(e),pN(e.dom)),t4=e=>vt(e.getSelectedBlocks(),pN(e.dom)),n4=Xt.each,wS=e=>En(e)&&!wu(e)&&!xu(e)&&!Ef(e),Gp=(e,t)=>{for(let o=e;o;o=o[t]){if(Ut(o)&&Je(o.data))return e;if(En(o)&&!wu(o))return o}return e},o4=(e,t,o)=>{const i=sS(e),c=lu(t)&&e.dom.isEditable(t),m=lu(o)&&e.dom.isEditable(o);if(c&&m){const h=Gp(t,"previousSibling"),C=Gp(o,"nextSibling");if(i.compare(h,C)){for(let A=h.nextSibling;A&&A!==C;){const V=A;A=A.nextSibling,h.appendChild(V)}return e.dom.remove(C),Xt.each(Xt.grep(C.childNodes),A=>{h.appendChild(A)}),h}}return o},CS=(e,t,o,i)=>{var c;if(i&&t.merge_siblings!==!1){const m=(c=o4(e,Ib(i),i))!==null&&c!==void 0?c:i;o4(e,m,Ib(m,!0))}},bN=(e,t,o)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";n4(e.select(i,o),c=>{wS(c)&&e.isEditable(c)&&n4(t.styles,(m,h)=>{e.setStyle(c,h,"")})})}},rw=(e,t,o)=>{n4(e.childNodes,i=>{wS(i)&&(t(i)&&o(i),i.hasChildNodes()&&rw(i,t,o))})},qp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},s4=(e,t)=>o=>!!(o&&v2(e,o,t)),Su=(e,t,o)=>i=>{e.setStyle(i,t,o),i.getAttribute("style")===""&&i.removeAttribute("style"),qp(e,i)},ud=Go.generate([{keep:[]},{rename:["name"]},{removed:[]}]),r4=/^(src|href|style)$/,_S=Xt.each,SS=U0,yN=e=>/^(TR|TH|TD)$/.test(e.nodeName),Xb=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),iw=(e,t,o)=>{let i=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(En(i)){const m=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>m?m:c]}return Ut(i)&&o&&c>=i.data.length&&(i=new ca(i,e.getBody()).next()||i),Ut(i)&&!o&&c===0&&(i=new ca(i,e.getBody()).prev()||i),i},i4=(e,t)=>{const o=t?"firstChild":"lastChild",i=e[o];return yN(e)&&i?e.nodeName==="TR"&&i[o]||i:e},kS=(e,t,o,i)=>{var c;const m=e.create(o,i);return(c=t.parentNode)===null||c===void 0||c.insertBefore(m,t),m.appendChild(t),m},ES=(e,t,o,i,c)=>{const m=Fe.fromDom(t),h=Fe.fromDom(e.create(i,c)),C=o?Tm(m):Uu(m);return ti(h,C),o?(Dr(m,h),Fa(h,m)):(it(m,h),Wr(h,m)),h.dom},B7=(e,t)=>t.links&&e.nodeName==="A",xN=(e,t,o)=>{const i=t.parentNode;let c;const m=e.dom,h=rl(e);qf(o)&&i===m.getRoot()&&(!o.list_block||!SS(t,o.list_block))&&pe(vo(t.childNodes),C=>{Op(e,h,C.nodeName.toLowerCase())?c?c.appendChild(C):(c=kS(m,C,h),m.setAttribs(c,Xx(e))):c=null}),!(eR(o)&&!SS(o.inline,t))&&m.remove(t,!0)},a4=(e,t,o)=>O(e)?{name:t,value:null}:{name:e,value:ph(t,o)},wN=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Kc=(e,t,o,i,c)=>{let m=!1;_S(o.styles,(h,C)=>{const{name:A,value:V}=a4(C,h,i),Z=c_(V,A);(o.remove_similar||Ue(V)||!En(c)||SS(v2(e,c,A),Z))&&e.setStyle(t,A,""),m=!0}),m&&wN(e,t)},l4=(e,t,o)=>{t==="removeformat"?pe(t4(e.selection),i=>{pe(J3,c=>e.dom.setStyle(i,c,"")),wN(e.dom,i)}):iy(e.formatter,t).each(i=>{pe(t4(e.selection),c=>Kc(e.dom,c,i,o,null))})},c4=(e,t,o,i,c)=>{const m=e.dom,h=sS(e),C=e.schema;if(ha(t)&&zv(C,t.inline)&&Df(C,i)&&i.parentElement===e.getBody())return xN(e,i,t),ud.removed();if(!t.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!yS(m,i,t)&&!B7(i,t))return ud.keep();const A=i,V=t.preserve_attributes;if(ha(t)&&t.remove==="all"&&ae(V)){const Z=vt(m.getAttribs(A),Y=>ie(V,Y.name.toLowerCase()));if(m.removeAllAttribs(A),pe(Z,Y=>m.setAttrib(A,Y.name,Y.value)),Z.length>0)return ud.rename("span")}if(t.remove!=="all"){Kc(m,A,t,o,c),_S(t.attributes,(Y,ee)=>{const{name:ge,value:Se}=a4(ee,Y,o);if(t.remove_similar||Ue(Se)||!En(c)||SS(m.getAttrib(c,ge),Se)){if(ge==="class"){const ve=m.getAttrib(A,ge);if(ve){let Oe="";if(pe(ve.split(/\s+/),He=>{/mce\-\w+/.test(He)&&(Oe+=(Oe?" ":"")+He)}),Oe){m.setAttrib(A,ge,Oe);return}}}if(r4.test(ge)&&A.removeAttribute("data-mce-"+ge),ge==="style"&&ua(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ge),m.setStyle(A,"list-style-type","none");return}ge==="class"&&A.removeAttribute("className"),A.removeAttribute(ge)}}),_S(t.classes,Y=>{Y=ph(Y,o),(!En(c)||m.hasClass(c,Y))&&m.removeClass(A,Y)});const Z=m.getAttribs(A);for(let Y=0;Y<Z.length;Y++){const ee=Z[Y].nodeName;if(!h.isAttributeInternal(ee))return ud.keep()}}return t.remove!=="none"?(xN(e,A,t),ud.removed()):ud.keep()},u4=(e,t,o,i,c)=>{let m;return t.parentNode&&pe(b2(e.dom,t.parentNode).reverse(),h=>{if(!m&&En(h)&&h.id!=="_start"&&h.id!=="_end"){const C=fg(e,h,o,i,c);C&&C.split!==!1&&(m=h)}}),m},CN=(e,t,o,i)=>c4(e,t,o,i,i).fold(et(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),et(null)),aw=(e,t,o,i,c,m,h,C)=>{var A,V;let Z,Y;const ee=e.dom;if(o){const ge=o.parentNode;for(let Se=i.parentNode;Se&&Se!==ge;Se=Se.parentNode){let ve=ee.clone(Se,!1);for(let Oe=0;Oe<t.length&&(ve=CN(e,t[Oe],C,ve),ve!==null);Oe++);ve&&(Z&&ve.appendChild(Z),Y||(Y=ve),Z=ve)}(!h.mixed||!ee.isBlock(o))&&(i=(A=ee.split(o,i))!==null&&A!==void 0?A:i),Z&&Y&&((V=c.parentNode)===null||V===void 0||V.insertBefore(Z,c),Y.appendChild(c),ha(h)&&CS(e,h,C,Z))}return i},Ah=(e,t,o,i,c)=>{const m=e.formatter.get(t),h=m[0],C=e.dom,A=e.selection,V=ve=>{const Oe=u4(e,ve,t,o,c);return aw(e,m,Oe,ve,ve,!0,h,o)},Z=ve=>wu(ve)&&En(ve)&&(ve.id==="_start"||ve.id==="_end"),Y=ve=>xe(m,Oe=>Xp(e,Oe,o,ve,ve)),ee=ve=>{const Oe=vo(ve.childNodes),Qe=Y(ve)||xe(m,Bt=>yS(C,ve,Bt)),Xe=ve.parentNode;if(!Qe&&Ee(Xe)&&d_(h)&&Y(Xe),h.deep&&Oe.length)for(let Bt=0;Bt<Oe.length;Bt++)ee(Oe[Bt]);pe(["underline","line-through","overline"],Bt=>{En(ve)&&e.dom.getStyle(ve,"text-decoration")===Bt&&ve.parentNode&&cA(C,ve.parentNode)===Bt&&Xp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},void 0,ve)})},ge=ve=>{const Oe=C.get(ve?"_start":"_end");if(Oe){let He=Oe[ve?"firstChild":"lastChild"];return Z(He)&&(He=He[ve?"firstChild":"lastChild"]),Ut(He)&&He.data.length===0&&(He=ve?Oe.previousSibling||Oe.nextSibling:Oe.nextSibling||Oe.previousSibling),C.remove(Oe,!0),He}else return null},Se=ve=>{let Oe,He,Qe=Rp(C,ve,m,ve.collapsed);if(h.split){if(Qe=P2(Qe),Oe=iw(e,Qe,!0),He=iw(e,Qe),Oe!==He){if(Oe=i4(Oe,!0),He=i4(He,!1),Xb(C,Oe,He)){const dt=Q.from(Oe.firstChild).getOr(Oe);V(ES(C,dt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(Xb(C,He,Oe)){const dt=Q.from(He.lastChild).getOr(He);V(ES(C,dt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}Oe=kS(C,Oe,"span",{id:"_start","data-mce-type":"bookmark"}),He=kS(C,He,"span",{id:"_end","data-mce-type":"bookmark"});const Xe=C.createRng();Xe.setStartAfter(Oe),Xe.setEndBefore(He),C2(C,Xe,dt=>{pe(dt,Bt=>{!wu(Bt)&&!wu(Bt.parentNode)&&V(Bt)})}),V(Oe),V(He),Oe=ge(!0),He=ge()}else Oe=He=V(Oe);Qe.startContainer=Oe.parentNode?Oe.parentNode:Oe,Qe.startOffset=C.nodeIndex(Oe),Qe.endContainer=He.parentNode?He.parentNode:He,Qe.endOffset=C.nodeIndex(He)+1}C2(C,Qe,Xe=>{pe(Xe,ee)})};if(i){if($0(i)){const ve=C.createRng();ve.setStartBefore(i),ve.setEndAfter(i),Se(ve)}else Se(i);cR(e,t,i,o);return}!A.isCollapsed()||!ha(h)||Gf(e).length?(iA(e,()=>H0(e,Se),ve=>ha(h)&&jp(e,t,o,ve)),e.nodeChanged()):j3(e,t,o,c),l4(e,t,o),cR(e,t,i,o)},Yp=(e,t,o,i,c)=>{(i||e.selection.isEditable())&&Ah(e,t,o,i,c)},Xp=(e,t,o,i,c)=>c4(e,t,o,i,c).fold(fn,m=>(e.dom.rename(i,m),!0),_n),AS=Xt.each,d4=(e,t,o,i)=>{const c=m=>{if(lu(m)&&En(m.parentNode)&&e.isEditable(m)){const h=cA(e,m.parentNode);e.getStyle(m,"color")&&h?e.setStyle(m,"text-decoration",h):e.getStyle(m,"text-decoration")===h&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Xt.walk(i,c,"childNodes"),c(i))},_N=(e,t,o,i)=>{if(t.styles&&t.styles.backgroundColor){const c=s4(e,"fontSize");rw(i,m=>c(m)&&e.isEditable(m),Su(e,"backgroundColor",ph(t.styles.backgroundColor,o)))}},L7=(e,t,o,i)=>{if(ha(t)&&(t.inline==="sub"||t.inline==="sup")){const c=s4(e,"fontSize");rw(i,h=>c(h)&&e.isEditable(h),Su(e,"fontSize",""));const m=vt(e.select(t.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},SN=(e,t,o,i)=>{AS(t,c=>{ha(c)&&AS(e.dom.select(c.inline,i),m=>{wS(m)&&Xp(e,c,o,m,c.exact?m:null)}),bN(e.dom,c,i)})},kN=(e,t,o,i,c)=>{const m=c.parentNode;fg(e,m,o,i)&&Xp(e,t,i,c)||t.merge_with_parents&&m&&e.dom.getParent(m,h=>fg(e,h,o,i)?(Xp(e,t,i,c),!0):!1)},lw=Xt.each,EN=(e,t,o,i)=>{if(D8(e)&&ha(t)&&o.parentNode){const c=o0(e.schema),m=Nv(Fe.fromDom(o),h=>xu(h.dom));return Wl(c,i)&&rc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},AN=(e,t,o,i)=>{if(lw(o.styles,(c,m)=>{e.setStyle(t,m,ph(c,i))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},F7=(e,t,o,i)=>{const c=e.formatter.get(t),m=c[0],h=!i&&e.selection.isCollapsed(),C=e.dom,A=e.selection,V=(Se,ve=m)=>{Le(ve.onformat)&&ve.onformat(Se,ve,o,i),AN(C,Se,ve,o),lw(ve.attributes,(Oe,He)=>{C.setAttrib(Se,He,ph(Oe,o))}),lw(ve.classes,Oe=>{const He=ph(Oe,o);C.hasClass(Se,He)||C.addClass(Se,He)})},Z=(Se,ve)=>{let Oe=!1;return lw(Se,He=>Uc(He)?C.getContentEditable(ve)==="false"&&!He.ceFalseOverride||Ee(He.collapsed)&&He.collapsed!==h?!0:C.is(ve,He.selector)&&!xu(ve)?(V(ve,He),Oe=!0,!1):!0:!1),Oe},Y=Se=>{if(he(Se)){const ve=C.create(Se);return V(ve),ve}else return null},ee=(Se,ve,Oe)=>{const He=[];let Qe=!0;const Xe=m.inline||m.block,dt=Y(Xe),Bt=kt=>J5(m)&&fg(e,kt,t,o),Yt=(kt,bt,Nt)=>{const Cn=Q5(m)&&l_(e.schema,kt)&&Op(e,bt,Xe);return Nt&&Cn},pn=(kt,bt,Nt,Cn)=>{const Vn=kt.nodeName.toLowerCase(),No=Op(e,Xe,Vn)&&Op(e,bt,Xe),Ho=!Oe&&Ut(kt)&&zc(kt.data),Rs=xu(kt),Us=!ha(m)||!Se.isBlock(kt);return(Nt||Cn)&&No&&!Ho&&!Rs&&Us};C2(Se,ve,kt=>{let bt;const Nt=Cn=>{let Vn=!1,No=Qe,Ho=!1;const Rs=Cn.parentNode,Us=Rs.nodeName.toLowerCase(),ui=Se.getContentEditable(Cn);Ee(ui)&&(No=Qe,Qe=ui==="true",Vn=!0,Ho=lA(e,Cn));const kl=Qe&&!Vn;if(pr(Cn)&&!EN(e,m,Cn,Us)){bt=null,qf(m)&&Se.remove(Cn);return}if(Bt(Cn)){bt=null;return}if(Yt(Cn,Us,kl)){const Ys=Se.rename(Cn,Xe);V(Ys),He.push(Ys),bt=null;return}if(Uc(m)){let Ys=Z(c,Cn);if(!Ys&&Ee(Rs)&&d_(m)&&(Ys=Z(c,Rs)),!ha(m)||Ys){bt=null;return}}Ee(dt)&&pn(Cn,Us,kl,Ho)?(bt||(bt=Se.clone(dt,!1),Rs.insertBefore(bt,Cn),He.push(bt)),Ho&&Vn&&(Qe=No),bt.appendChild(Cn)):(bt=null,pe(vo(Cn.childNodes),Nt),Vn&&(Qe=No),bt=null)};pe(kt,Nt)}),m.links===!0&&pe(He,kt=>{const bt=Nt=>{Nt.nodeName==="A"&&V(Nt,m),pe(vo(Nt.childNodes),bt)};bt(kt)}),pe(He,kt=>{const bt=Vn=>{let No=0;return pe(Vn.childNodes,Ho=>{!sF(Ho)&&!wu(Ho)&&No++}),No},Nt=Vn=>cn(Vn.childNodes,a_).filter(Ho=>Se.getContentEditable(Ho)!=="false"&&yS(Se,Ho,m)).map(Ho=>{const Rs=Se.clone(Ho,!1);return V(Rs),Se.replace(Rs,Vn,!0),Se.remove(Ho,!0),Rs}).getOr(Vn),Cn=bt(kt);if((He.length>1||!Se.isBlock(kt))&&Cn===0){Se.remove(kt,!0);return}(ha(m)||qf(m)&&m.wrapper)&&(!m.exact&&Cn===1&&(kt=Nt(kt)),SN(e,c,o,kt),kN(e,m,t,o,kt),_N(Se,m,o,kt),d4(Se,m,o,kt),L7(Se,m,o,kt),CS(e,m,o,kt))})},ge=$0(i)?i:A.getNode();if(C.getContentEditable(ge)==="false"&&!lA(e,ge)){i=ge,Z(c,i),lR(e,t,i,o);return}if(m){if(i)if($0(i)){if(!Z(c,i)){const Se=C.createRng();Se.setStartBefore(i),Se.setEndAfter(i),ee(C,Rp(C,Se,c),!0)}}else ee(C,i,!0);else!h||!ha(m)||Gf(e).length?(A.setRng(lS(A.getRng())),iA(e,()=>{H0(e,(Se,ve)=>{const Oe=ve?Se:Rp(C,Se,c);ee(C,Oe,!1)})},_n),e.nodeChanged()):Eh(e,t,o),iy(e.formatter,t).each(Se=>{pe(vN(e.selection),ve=>AN(C,ve,Se,o))});gN(t,e)}lR(e,t,i,o)},TN=(e,t,o,i)=>{(i||e.selection.isEditable())&&F7(e,t,o,i)},ql=e=>ao(e,"vars"),ON=(e,t)=>{e.set({}),t.on("NodeChange",o=>{m4(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const i=Q.from(o.node).map(c=>$0(c)?c:c.startContainer).bind(c=>En(c)?Q.some(c):Q.from(c.parentElement)).getOrThunk(()=>ay(t));m4(t,i,e.get())})},ay=e=>e.selection.getStart(),DN=(e,t,o,i,c)=>wn(t,C=>{const A=e.formatter.matchNode(C,o,c??{},i);return!qe(A)},C=>F3(e,C,o)?!0:i?!1:Ee(e.formatter.matchNode(C,o,c,!0))),f4=(e,t)=>{const o=t??ay(e);return vt(b2(e.dom,o),i=>En(i)&&!Ef(i))},m4=(e,t,o)=>{const i=f4(e,t);rs(o,(c,m)=>{const h=C=>{const A=DN(e,i,m,C.similar,ql(C)?C.vars:void 0),V=A.isSome();if(C.state.get()!==V){C.state.set(V);const Z=A.getOr(t);ql(C)?C.callback(V,{node:Z,format:m,parents:i}):pe(C.callbacks,Y=>Y(V,{node:Z,format:m,parents:i}))}};pe([c.withSimilar,c.withoutSimilar],h),pe(c.withVars,h)})},g4=(e,t,o,i,c,m)=>{const h=t.get();pe(o.split(","),C=>{const A=Os(h,C).getOrThunk(()=>{const Z={withSimilar:{state:Ri(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ri(!1),similar:!1,callbacks:[]},withVars:[]};return h[C]=Z,Z}),V=()=>{const Z=f4(e);return DN(e,Z,C,c,m).isSome()};if(qe(m)){const Z=c?A.withSimilar:A.withoutSimilar;Z.callbacks.push(i),Z.callbacks.length===1&&Z.state.set(V())}else A.withVars.push({state:Ri(V()),similar:c,vars:m,callback:i})}),t.set(h)},RN=(e,t,o)=>{const i=e.get();pe(t.split(","),c=>Os(i,c).each(m=>{i[c]={withSimilar:{...m.withSimilar,callbacks:vt(m.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:vt(m.withoutSimilar.callbacks,h=>h!==o)},withVars:vt(m.withVars,h=>h.callback!==o)}})),e.set(i)},V7=(e,t,o,i,c,m)=>(g4(e,t,o,i,c,m),{unbind:()=>RN(t,o,i)}),z7=(e,t,o,i)=>{const c=e.formatter.get(t);c&&(jp(e,t,o,i)&&(!("toggle"in c[0])||c[0].toggle)?Yp(e,t,o,i):TN(e,t,o,i))},IN=Xt.explode,TS=()=>{const e={};return{addFilter:(c,m)=>{pe(IN(c),h=>{ao(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(m)})},getFilters:()=>Mu(e),removeFilter:(c,m)=>{pe(IN(c),h=>{if(ao(e,h))if(Ee(m)){const C=e[h],A=vt(C.callbacks,V=>V!==m);A.length>0?C.callbacks=A:delete e[h]}else delete e[h]})}}},H7=(e,t)=>{pe(t,o=>{e.attr(o,null)})},$7=(e,t,o)=>{e.addNodeFilter("font",i=>{pe(i,c=>{const m=t.parse(c.attr("style")),h=c.attr("color"),C=c.attr("face"),A=c.attr("size");h&&(m.color=h),C&&(m["font-family"]=C),A&&un(A).each(V=>{m["font-size"]=o[V-1]}),c.name="span",c.attr("style",t.serialize(m)),H7(c,["color","face","size"])})})},NN=(e,t,o)=>{e.addNodeFilter("strike",i=>{const c=t.type!=="html4";pe(i,m=>{if(c)m.name="s";else{const h=o.parse(m.attr("style"));h["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(h))}})})},U7=(e,t,o)=>{var i;const c=Ex();t.convert_fonts_to_spans&&$7(e,c,Xt.explode((i=t.font_size_legacy_values)!==null&&i!==void 0?i:"")),NN(e,o,c)},W7=(e,t,o)=>{t.inline_styles&&U7(e,t,o)},h4=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),OS=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},DS=e=>{const[t,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const m=c[2]===";base64",h=m?OS(i):decodeURIComponent(i);return Q.some({type:c[1],data:h,base64Encoded:m})}else return Q.none()},p4=(e,t,o=!0)=>{let i=t;if(o)try{i=atob(t)}catch{return Q.none()}const c=new Uint8Array(i.length);for(let m=0;m<c.length;m++)c[m]=i.charCodeAt(m);return Q.some(new Blob([c],{type:e}))},v4=e=>new Promise((t,o)=>{DS(e).bind(({type:i,data:c,base64Encoded:m})=>p4(i,c,m)).fold(()=>o("Invalid data URI"),t)}),Z7=e=>cr(e,"blob:")?h4(e):cr(e,"data:")?v4(e):Promise.reject("Unknown URI format"),PN=e=>new Promise((t,o)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let j7=0;const Jb=e=>"blobid"+j7++,MN=(e,t,o)=>DS(e).bind(({data:i,type:c,base64Encoded:m})=>{if(t&&!m)return Q.none();{const h=m?i:btoa(i);return o(h,c)}}),cw=(e,t,o)=>{const i=e.create(Jb(),t,o);return e.add(i),i},BN=(e,t,o=!1)=>MN(t,o,(i,c)=>Q.from(e.getByData(i,c)).orThunk(()=>p4(c,i).map(m=>cw(e,m,i)))),b4=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(cr(t,"blob:")){const i=e.getByUri(t);return Ee(i)?Promise.resolve(i):Z7(t).then(c=>PN(c).then(m=>MN(m,!1,h=>Q.some(cw(e,c,h))).getOrThunk(o)))}else return cr(t,"data:")?BN(e,t).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},LN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,FN=e=>Q.from(e.match(LN)).bind(t=>Ar(t,1)).map(t=>cr(t,"www.")?t.substring(4):t),y4=(e,t)=>{Q.from(e.attr("src")).bind(FN).forall(o=>!ie(t,o))&&e.attr("sandbox","")},ly=(e,t)=>cr(e,`${t}/`),K7=e=>qe(e)?"iframe":ly(e,"image")?"img":ly(e,"video")?"video":ly(e,"audio")?"audio":"iframe",G7=({type:e,src:t,width:o,height:i}={},c,m)=>{const h=K7(e),C=new Da(h,1);return C.attr(h==="audio"?{src:t}:{src:t,width:o,height:i}),(h==="audio"||h==="video")&&C.attr("controls",""),h==="iframe"&&c&&y4(C,m),C},x4=e=>Ee(e.attr("data-mce-bogus")),VN=e=>e.attr("src")===Bo.transparentSrc||Ee(e.attr("data-mce-placeholder")),q7=(e,t)=>{const{blob_cache:o}=t;if(o){const i=c=>{const m=c.attr("src");VN(c)||x4(c)||st(m)||BN(o,m,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>pe(c,i))}},Y7=(e,t)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",A=>{let V=A.length;const Z=ee=>ee.split(" ").filter(Se=>Se.length>0).concat(["noopener"]).sort().join(" "),Y=ee=>{const ge=ee?Xt.trim(ee):"";return/\b(noopener)\b/g.test(ge)?ge:Z(ge)};if(!t.allow_unsafe_link_target)for(;V--;){const ee=A[V];ee.name==="a"&&ee.attr("target")==="_blank"&&ee.attr("rel",Y(ee.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let V=A.length,Z,Y,ee,ge;for(;V--;)if(ge=A[V],ge.name==="a"&&ge.firstChild&&!ge.attr("href"))for(ee=ge.parent,Z=ge.lastChild;Z&&ee;)Y=Z.prev,ee.insert(Z,ge),Z=Y}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let V=A.length,Z,Y;for(;V--;)if(Z=A[V],Y=Z.parent,Y&&(Y.name==="ul"||Y.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const ee=new Da("li",1);ee.attr("style","list-style-type: none"),Z.wrap(ee)}});const m=c.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",A=>{var V;let Z=A.length;for(;Z--;){const Y=A[Z],ee=(V=Y.attr("class"))!==null&&V!==void 0?V:"",ge=Xt.explode(ee," ");let Se="";for(let ve=0;ve<ge.length;ve++){const Oe=ge[ve];let He=!1,Qe=m["*"];Qe&&Qe[Oe]&&(He=!0),Qe=m[Y.name],!He&&Qe&&Qe[Oe]&&(He=!0),He&&(Se&&(Se+=" "),Se+=Oe)}Se.length||(Se=null),Y.attr("class",Se)}}),q7(e,t);const h=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,C=ea((i=t.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>pe(A,V=>{V.replace(G7({type:V.attr("type"),src:V.name==="object"?V.attr("data"):V.attr("src"),width:V.attr("width"),height:V.attr("height")},h,C))})),h&&e.addNodeFilter("iframe",A=>pe(A,V=>y4(V,C)))},{entries:zN,setPrototypeOf:HN,isFrozen:w4,getPrototypeOf:$N,getOwnPropertyDescriptor:X7}=Object;let{freeze:Gc,seal:br,create:J7}=Object,{apply:C4,construct:RS}=typeof Reflect<"u"&&Reflect;C4||(C4=function(t,o,i){return t.apply(o,i)}),Gc||(Gc=function(t){return t}),br||(br=function(t){return t}),RS||(RS=function(t,o){return new t(...o)});const _4=fc(Array.prototype.forEach),UN=fc(Array.prototype.pop),Qd=fc(Array.prototype.push),cy=fc(String.prototype.toLowerCase),IS=fc(String.prototype.toString),S4=fc(String.prototype.match),dd=fc(String.prototype.replace),k4=fc(String.prototype.indexOf),WN=fc(String.prototype.trim),dc=fc(RegExp.prototype.test),Jp=uw(TypeError);function fc(e){return function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return C4(e,t,i)}}function uw(e){return function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return RS(e,o)}}function os(e,t,o){var i;o=(i=o)!==null&&i!==void 0?i:cy,HN&&HN(e,null);let c=t.length;for(;c--;){let m=t[c];if(typeof m=="string"){const h=o(m);h!==m&&(w4(t)||(t[c]=h),m=h)}e[m]=!0}return e}function gg(e){const t=J7(null);for(const[o,i]of zN(e))t[o]=i;return t}function dw(e,t){for(;e!==null;){const i=X7(e,t);if(i){if(i.get)return fc(i.get);if(typeof i.value=="function")return fc(i.value)}e=$N(e)}function o(i){return console.warn("fallback value for",i),null}return o}const E4=Gc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A4=Gc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),NS=Gc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q7=Gc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),T4=Gc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fw=Gc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZN=Gc(["#text"]),jN=Gc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O4=Gc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KN=Gc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),PS=Gc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eV=br(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tV=br(/<%[\w\W]*|[\w\W]*%>/gm),nV=br(/\${[\w\W]*}/gm),oV=br(/^data-[\-\w.\u00B7-\uFFFF]/),sV=br(/^aria-[\-\w]+$/),GN=br(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qN=br(/^(?:\w+script|data):/i),YN=br(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),D4=br(/^html$/i);var R4=Object.freeze({__proto__:null,MUSTACHE_EXPR:eV,ERB_EXPR:tV,TMPLIT_EXPR:nV,DATA_ATTR:oV,ARIA_ATTR:sV,IS_ALLOWED_URI:GN,IS_SCRIPT_OR_DATA:qN,ATTR_WHITESPACE:YN,DOCTYPE_NAME:D4});const XN=()=>typeof window>"u"?null:window,JN=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const m="dompurify"+(i?"#"+i:"");try{return t.createPolicy(m,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function I4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XN();const t=Wo=>I4(Wo);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:h,Node:C,Element:A,NodeFilter:V,NamedNodeMap:Z=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Y,DOMParser:ee,trustedTypes:ge}=e,Se=A.prototype,ve=dw(Se,"cloneNode"),Oe=dw(Se,"nextSibling"),He=dw(Se,"childNodes"),Qe=dw(Se,"parentNode");if(typeof h=="function"){const Wo=c.createElement("template");Wo.content&&Wo.content.ownerDocument&&(c=Wo.content.ownerDocument)}let Xe,dt="";const{implementation:Bt,createNodeIterator:Yt,createDocumentFragment:pn,getElementsByTagName:kt}=c,{importNode:bt}=o;let Nt={};t.isSupported=typeof zN=="function"&&typeof Qe=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Cn,ERB_EXPR:Vn,TMPLIT_EXPR:No,DATA_ATTR:Ho,ARIA_ATTR:Rs,IS_SCRIPT_OR_DATA:Us,ATTR_WHITESPACE:ui}=R4;let{IS_ALLOWED_URI:kl}=R4,Ys=null;const on=os({},[...E4,...A4,...NS,...T4,...ZN]);let Pn=null;const ys=os({},[...jN,...O4,...KN,...PS]);let ln=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Yn=null,Vo=null,gn=!0,Po=!0,Uo=!1,Ra=!0,Hs=!1,ba=!1,om=!1,Lh=!1,hc=!1,hd=!1,sm=!1,pd=!0,rm=!1;const Un="user-content-";let ls=!0,Xr=!1,yi={},Xi=null;const ll=os({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Li=null;const Fi=os({},["audio","video","img","source","image","track"]);let pc=null;const Cg=os({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_g="http://www.w3.org/1998/Math/MathML",Sg="http://www.w3.org/2000/svg",im="http://www.w3.org/1999/xhtml";let Oy=im,wk=!1,Ck=null;const DH=os({},[_g,Sg,im],IS);let m1;const OB=["application/xhtml+xml","text/html"],gK="text/html";let Xl,jw=null;const hK=c.createElement("form"),RH=function(Ct){return Ct instanceof RegExp||Ct instanceof Function},av=function(Ct){if(!(jw&&jw===Ct)){if((!Ct||typeof Ct!="object")&&(Ct={}),Ct=gg(Ct),m1=OB.indexOf(Ct.PARSER_MEDIA_TYPE)===-1?m1=gK:m1=Ct.PARSER_MEDIA_TYPE,Xl=m1==="application/xhtml+xml"?IS:cy,Ys="ALLOWED_TAGS"in Ct?os({},Ct.ALLOWED_TAGS,Xl):on,Pn="ALLOWED_ATTR"in Ct?os({},Ct.ALLOWED_ATTR,Xl):ys,Ck="ALLOWED_NAMESPACES"in Ct?os({},Ct.ALLOWED_NAMESPACES,IS):DH,pc="ADD_URI_SAFE_ATTR"in Ct?os(gg(Cg),Ct.ADD_URI_SAFE_ATTR,Xl):Cg,Li="ADD_DATA_URI_TAGS"in Ct?os(gg(Fi),Ct.ADD_DATA_URI_TAGS,Xl):Fi,Xi="FORBID_CONTENTS"in Ct?os({},Ct.FORBID_CONTENTS,Xl):ll,Yn="FORBID_TAGS"in Ct?os({},Ct.FORBID_TAGS,Xl):{},Vo="FORBID_ATTR"in Ct?os({},Ct.FORBID_ATTR,Xl):{},yi="USE_PROFILES"in Ct?Ct.USE_PROFILES:!1,gn=Ct.ALLOW_ARIA_ATTR!==!1,Po=Ct.ALLOW_DATA_ATTR!==!1,Uo=Ct.ALLOW_UNKNOWN_PROTOCOLS||!1,Ra=Ct.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hs=Ct.SAFE_FOR_TEMPLATES||!1,ba=Ct.WHOLE_DOCUMENT||!1,hc=Ct.RETURN_DOM||!1,hd=Ct.RETURN_DOM_FRAGMENT||!1,sm=Ct.RETURN_TRUSTED_TYPE||!1,Lh=Ct.FORCE_BODY||!1,pd=Ct.SANITIZE_DOM!==!1,rm=Ct.SANITIZE_NAMED_PROPS||!1,ls=Ct.KEEP_CONTENT!==!1,Xr=Ct.IN_PLACE||!1,kl=Ct.ALLOWED_URI_REGEXP||GN,Oy=Ct.NAMESPACE||im,ln=Ct.CUSTOM_ELEMENT_HANDLING||{},Ct.CUSTOM_ELEMENT_HANDLING&&RH(Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ln.tagNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&RH(Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ln.attributeNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&typeof Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ln.allowCustomizedBuiltInElements=Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hs&&(Po=!1),hd&&(hc=!0),yi&&(Ys=os({},[...ZN]),Pn=[],yi.html===!0&&(os(Ys,E4),os(Pn,jN)),yi.svg===!0&&(os(Ys,A4),os(Pn,O4),os(Pn,PS)),yi.svgFilters===!0&&(os(Ys,NS),os(Pn,O4),os(Pn,PS)),yi.mathMl===!0&&(os(Ys,T4),os(Pn,KN),os(Pn,PS))),Ct.ADD_TAGS&&(Ys===on&&(Ys=gg(Ys)),os(Ys,Ct.ADD_TAGS,Xl)),Ct.ADD_ATTR&&(Pn===ys&&(Pn=gg(Pn)),os(Pn,Ct.ADD_ATTR,Xl)),Ct.ADD_URI_SAFE_ATTR&&os(pc,Ct.ADD_URI_SAFE_ATTR,Xl),Ct.FORBID_CONTENTS&&(Xi===ll&&(Xi=gg(Xi)),os(Xi,Ct.FORBID_CONTENTS,Xl)),ls&&(Ys["#text"]=!0),ba&&os(Ys,["html","head","body"]),Ys.table&&(os(Ys,["tbody"]),delete Yn.tbody),Ct.TRUSTED_TYPES_POLICY){if(typeof Ct.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ct.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xe=Ct.TRUSTED_TYPES_POLICY,dt=Xe.createHTML("")}else Xe===void 0&&(Xe=JN(ge,i)),Xe!==null&&typeof dt=="string"&&(dt=Xe.createHTML(""));Gc&&Gc(Ct),jw=Ct}},OO=os({},["mi","mo","mn","ms","mtext"]),ht=os({},["foreignobject","desc","title","annotation-xml"]),yt=os({},["title","style","font","a","script"]),en=os({},A4);os(en,NS),os(en,Q7);const qt=os({},T4);os(qt,fw);const to=function(Ct){let In=Qe(Ct);(!In||!In.tagName)&&(In={namespaceURI:Oy,tagName:"template"});const go=cy(Ct.tagName),Ei=cy(In.tagName);return Ck[Ct.namespaceURI]?Ct.namespaceURI===Sg?In.namespaceURI===im?go==="svg":In.namespaceURI===_g?go==="svg"&&(Ei==="annotation-xml"||OO[Ei]):!!en[go]:Ct.namespaceURI===_g?In.namespaceURI===im?go==="math":In.namespaceURI===Sg?go==="math"&&ht[Ei]:!!qt[go]:Ct.namespaceURI===im?In.namespaceURI===Sg&&!ht[Ei]||In.namespaceURI===_g&&!OO[Ei]?!1:!qt[go]&&(yt[go]||!en[go]):!!(m1==="application/xhtml+xml"&&Ck[Ct.namespaceURI]):!1},Qo=function(Ct){Qd(t.removed,{element:Ct});try{Ct.parentNode.removeChild(Ct)}catch{Ct.remove()}},Jr=function(Ct,In){try{Qd(t.removed,{attribute:In.getAttributeNode(Ct),from:In})}catch{Qd(t.removed,{attribute:null,from:In})}if(In.removeAttribute(Ct),Ct==="is"&&!Pn[Ct])if(hc||hd)try{Qo(In)}catch{}else try{In.setAttribute(Ct,"")}catch{}},kg=function(Ct){let In,go;if(Lh)Ct="<remove></remove>"+Ct;else{const Eg=S4(Ct,/^[\r\n\t ]+/);go=Eg&&Eg[0]}m1==="application/xhtml+xml"&&Oy===im&&(Ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ct+"</body></html>");const Ei=Xe?Xe.createHTML(Ct):Ct;if(Oy===im)try{In=new ee().parseFromString(Ei,m1)}catch{}if(!In||!In.documentElement){In=Bt.createDocument(Oy,"template",null);try{In.documentElement.innerHTML=wk?dt:Ei}catch{}}const vc=In.body||In.documentElement;return Ct&&go&&vc.insertBefore(c.createTextNode(go),vc.childNodes[0]||null),Oy===im?kt.call(In,ba?"html":"body")[0]:ba?In.documentElement:vc},DB=function(Ct){return Yt.call(Ct.ownerDocument||Ct,Ct,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,null,!1)},ace=function(Ct){return Ct instanceof Y&&(typeof Ct.nodeName!="string"||typeof Ct.textContent!="string"||typeof Ct.removeChild!="function"||!(Ct.attributes instanceof Z)||typeof Ct.removeAttribute!="function"||typeof Ct.setAttribute!="function"||typeof Ct.namespaceURI!="string"||typeof Ct.insertBefore!="function"||typeof Ct.hasChildNodes!="function")},RB=function(Ct){return typeof C=="object"?Ct instanceof C:Ct&&typeof Ct=="object"&&typeof Ct.nodeType=="number"&&typeof Ct.nodeName=="string"},g1=function(Ct,In,go){Nt[Ct]&&_4(Nt[Ct],Ei=>{Ei.call(t,In,go,jw)})},pK=function(Ct){let In;if(g1("beforeSanitizeElements",Ct,null),ace(Ct))return Qo(Ct),!0;const go=Xl(Ct.nodeName);if(g1("uponSanitizeElement",Ct,{tagName:go,allowedTags:Ys}),Ct.hasChildNodes()&&!RB(Ct.firstElementChild)&&(!RB(Ct.content)||!RB(Ct.content.firstElementChild))&&dc(/<[/\w]/g,Ct.innerHTML)&&dc(/<[/\w]/g,Ct.textContent))return Qo(Ct),!0;if(!Ys[go]||Yn[go]){if(!Yn[go]&&bK(go)&&(ln.tagNameCheck instanceof RegExp&&dc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go)))return!1;if(ls&&!Xi[go]){const Ei=Qe(Ct)||Ct.parentNode,vc=He(Ct)||Ct.childNodes;if(vc&&Ei){const Eg=vc.length;for(let ja=Eg-1;ja>=0;--ja)Ei.insertBefore(ve(vc[ja],!0),Oe(Ct))}}return Qo(Ct),!0}return Ct instanceof A&&!to(Ct)||(go==="noscript"||go==="noembed"||go==="noframes")&&dc(/<\/no(script|embed|frames)/i,Ct.innerHTML)?(Qo(Ct),!0):(Hs&&Ct.nodeType===3&&(In=Ct.textContent,In=dd(In,Cn," "),In=dd(In,Vn," "),In=dd(In,No," "),Ct.textContent!==In&&(Qd(t.removed,{element:Ct.cloneNode()}),Ct.textContent=In)),g1("afterSanitizeElements",Ct,null),!1)},vK=function(Ct,In,go){if(pd&&(In==="id"||In==="name")&&(go in c||go in hK))return!1;if(!(Po&&!Vo[In]&&dc(Ho,In))){if(!(gn&&dc(Rs,In))){if(!Pn[In]||Vo[In]){if(!(bK(Ct)&&(ln.tagNameCheck instanceof RegExp&&dc(ln.tagNameCheck,Ct)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(Ct))&&(ln.attributeNameCheck instanceof RegExp&&dc(ln.attributeNameCheck,In)||ln.attributeNameCheck instanceof Function&&ln.attributeNameCheck(In))||In==="is"&&ln.allowCustomizedBuiltInElements&&(ln.tagNameCheck instanceof RegExp&&dc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go))))return!1}else if(!pc[In]){if(!dc(kl,dd(go,ui,""))){if(!((In==="src"||In==="xlink:href"||In==="href")&&Ct!=="script"&&k4(go,"data:")===0&&Li[Ct])){if(!(Uo&&!dc(Us,dd(go,ui,"")))){if(go)return!1}}}}}}return!0},bK=function(Ct){return Ct.indexOf("-")>0},yK=function(Ct){let In,go,Ei,vc;g1("beforeSanitizeAttributes",Ct,null);const{attributes:Eg}=Ct;if(!Eg)return;const ja={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pn};for(vc=Eg.length;vc--;){In=Eg[vc];const{name:Ag,namespaceURI:IH}=In;go=Ag==="value"?In.value:WN(In.value);const cce=go;if(Ei=Xl(Ag),ja.attrName=Ei,ja.attrValue=go,ja.keepAttr=!0,ja.forceKeepAttr=void 0,g1("uponSanitizeAttribute",Ct,ja),go=ja.attrValue,ja.forceKeepAttr)continue;if(!ja.keepAttr){Jr(Ag,Ct);continue}if(!Ra&&dc(/\/>/i,go)){Jr(Ag,Ct);continue}Hs&&(go=dd(go,Cn," "),go=dd(go,Vn," "),go=dd(go,No," "));const xK=Xl(Ct.nodeName);if(!vK(xK,Ei,go)){Jr(Ag,Ct);continue}if(rm&&(Ei==="id"||Ei==="name")&&(Jr(Ag,Ct),go=Un+go),Xe&&typeof ge=="object"&&typeof ge.getAttributeType=="function"&&!IH)switch(ge.getAttributeType(xK,Ei)){case"TrustedHTML":{go=Xe.createHTML(go);break}case"TrustedScriptURL":{go=Xe.createScriptURL(go);break}}if(go!==cce)try{IH?Ct.setAttributeNS(IH,Ag,go):Ct.setAttribute(Ag,go)}catch{Jr(Ag,Ct)}}g1("afterSanitizeAttributes",Ct,null)},lce=function Wo(Ct){let In;const go=DB(Ct);for(g1("beforeSanitizeShadowDOM",Ct,null);In=go.nextNode();)g1("uponSanitizeShadowNode",In,null),!pK(In)&&(In.content instanceof m&&Wo(In.content),yK(In));g1("afterSanitizeShadowDOM",Ct,null)};return t.sanitize=function(Wo){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},In,go,Ei,vc;if(wk=!Wo,wk&&(Wo="<!-->"),typeof Wo!="string"&&!RB(Wo))if(typeof Wo.toString=="function"){if(Wo=Wo.toString(),typeof Wo!="string")throw Jp("dirty is not a string, aborting")}else throw Jp("toString is not a function");if(!t.isSupported)return Wo;if(om||av(Ct),t.removed=[],typeof Wo=="string"&&(Xr=!1),Xr){if(Wo.nodeName){const Ag=Xl(Wo.nodeName);if(!Ys[Ag]||Yn[Ag])throw Jp("root node is forbidden and cannot be sanitized in-place")}}else if(Wo instanceof C)In=kg("<!---->"),go=In.ownerDocument.importNode(Wo,!0),go.nodeType===1&&go.nodeName==="BODY"||go.nodeName==="HTML"?In=go:In.appendChild(go);else{if(!hc&&!Hs&&!ba&&Wo.indexOf("<")===-1)return Xe&&sm?Xe.createHTML(Wo):Wo;if(In=kg(Wo),!In)return hc?null:sm?dt:""}In&&Lh&&Qo(In.firstChild);const Eg=DB(Xr?Wo:In);for(;Ei=Eg.nextNode();)pK(Ei)||(Ei.content instanceof m&&lce(Ei.content),yK(Ei));if(Xr)return Wo;if(hc){if(hd)for(vc=pn.call(In.ownerDocument);In.firstChild;)vc.appendChild(In.firstChild);else vc=In;return(Pn.shadowroot||Pn.shadowrootmode)&&(vc=bt.call(o,vc,!0)),vc}let ja=ba?In.outerHTML:In.innerHTML;return ba&&Ys["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&dc(D4,In.ownerDocument.doctype.name)&&(ja="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+ja),Hs&&(ja=dd(ja,Cn," "),ja=dd(ja,Vn," "),ja=dd(ja,No," ")),Xe&&sm?Xe.createHTML(ja):ja},t.setConfig=function(Wo){av(Wo),om=!0},t.clearConfig=function(){jw=null,om=!1},t.isValidAttribute=function(Wo,Ct,In){jw||av({});const go=Xl(Wo),Ei=Xl(Ct);return vK(go,Ei,In)},t.addHook=function(Wo,Ct){typeof Ct=="function"&&(Nt[Wo]=Nt[Wo]||[],Qd(Nt[Wo],Ct))},t.removeHook=function(Wo){if(Nt[Wo])return UN(Nt[Wo])},t.removeHooks=function(Wo){Nt[Wo]&&(Nt[Wo]=[])},t.removeAllHooks=function(){Nt={}},t}var N4=I4();const QN=Xt.each,eP=Xt.trim,rV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iV={ftp:21,http:80,https:443,mailto:25},tP=["img","video"],nP=(e,t)=>Ee(e)?!e:Ee(t)?!ie(tP,t):!0,aV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},P4=(e,t,o)=>{const i=aV(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?nP(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class fd{static parseDataUri(t){let o;const i=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(t,o,i={}){if(i.allow_script_urls)return!0;{const c=Yg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!P4(i,c,o)}}static getDocumentBaseUrl(t){var o;let i;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?i=(o=t.href)!==null&&o!==void 0?o:"":i=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(t,o={}){this.path="",this.directory="",t=eP(t),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=i?i.path:new fd(document.location.href).directory;if((i==null?void 0:i.protocol)==="")t="//mce_host"+c.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);h&&QN(rV,(C,A)=>{let V=h[A];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[C]=V}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),m&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new fd(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const i=new fd(t,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?iV[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let i=0,c="",m,h;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(C.length>=A.length){for(m=0,h=C.length;m<h;m++)if(m>=A.length||C[m]!==A[m]){i=m+1;break}}if(C.length<A.length){for(m=0,h=A.length;m<h;m++)if(m>=C.length||C[m]!==A[m]){i=m+1;break}}if(i===1)return o;for(m=0,h=C.length-(i-1);m<h;m++)c+="../";for(m=i-1,h=A.length;m<h;m++)m!==i-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(t,o){let i=0;const c=/\/$/.test(o)?"/":"",m=t.split("/"),h=o.split("/"),C=[];QN(m,Y=>{Y&&C.push(Y)});const A=[];for(let Y=h.length-1;Y>=0;Y--)if(!(h[Y].length===0||h[Y]===".")){if(h[Y]===".."){i++;continue}if(i>0){i--;continue}A.push(h[Y])}const V=C.length-i;let Z;return V<=0?Z=$o(A).join("/"):Z=C.slice(0,V).join("/")+"/"+$o(A).join("/"),Z.indexOf("/")!==0&&(Z="/"+Z),c&&Z.lastIndexOf("/")!==Z.length-1&&(Z+=c),Z}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const lV=Xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),M4="data-mce-type";let oP=0;const sP=(e,t,o,i,c)=>{var m,h,C,A;const V=t.validate,Z=o.getSpecialElements();e.nodeType===pf&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const Y=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){Ee(c)&&(c.allowedTags[Y]=!0);return}if(e.nodeType!==gl||Y==="body")return;const ee=Fe.fromDom(e),ge=Od(ee,M4),Se=ka(ee,"data-mce-bogus");if(!ge&&he(Se)){Se==="all"?Ds(ee):Va(ee);return}const ve=o.getElementRule(Y);if(V&&!ve){ao(Z,Y)?Ds(ee):Va(ee);return}else Ee(c)&&(c.allowedTags[Y]=!0);if(V&&ve&&!ge){if(pe((C=ve.attributesForced)!==null&&C!==void 0?C:[],Oe=>{xi(ee,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),pe((A=ve.attributesDefault)!==null&&A!==void 0?A:[],Oe=>{Od(ee,Oe.name)||xi(ee,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),ve.attributesRequired&&!xe(ve.attributesRequired,Oe=>Od(ee,Oe))){Va(ee);return}if(ve.removeEmptyAttrs&&ai(ee)){Va(ee);return}ve.outputName&&ve.outputName!==Y&&Lx(ee,ve.outputName)}},cV=(e,t,o,i,c)=>{const m=e.tagName.toLowerCase(),{attrName:h,attrValue:C}=c;c.keepAttr=mw(t,o,i,m,h,C),c.keepAttr?(c.allowedAttributes[h]=!0,L4(h,o)&&(c.attrValue=h),t.allow_svg_data_urls&&cr(C,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):B4(e,h)&&(c.forceKeepAttr=!0)},mw=(e,t,o,i,c,m)=>o!=="html"&&!Bm(i)?!0:!(c in lV&&P4(e,m,i))&&(!e.validate||t.isValid(i,c)||cr(c,"data-")||cr(c,"aria-")),B4=(e,t)=>e.hasAttribute(M4)&&(t==="id"||t==="class"||t==="style"),L4=(e,t)=>e in t.getBoolAttrs(),rP=(e,t,o,i)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const h=c[m],C=h.name,A=h.value;!mw(t,o,i,e.tagName.toLowerCase(),C,A)&&!B4(e,C)?e.removeAttribute(C):L4(C,o)&&e.setAttribute(C,C)}},uV=(e,t,o)=>{const i=N4();return i.addHook("uponSanitizeElement",(c,m)=>{sP(c,e,t,o.track(c),m)}),i.addHook("uponSanitizeAttribute",(c,m)=>{cV(c,e,t,o.current(),m)}),i},dV=(e,t)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=t,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},iP=e=>{const t=CC(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};N4().sanitize(e,i)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};N4().sanitize(e,o)}else throw new Error("Not a namespace element")},fV=(e,t)=>{const o=cE();if(e.sanitize){const i=uV(e,t,o);return{sanitizeHtmlElement:(m,h)=>{i.sanitize(m,dV(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:iP}}else return{sanitizeHtmlElement:(m,h)=>{const C=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const V=o.track(A);sP(A,e,t,V),En(A)&&rP(A,e,t,V)}o.reset()},sanitizeNamespaceElement:ct}},MS=Xt.makeMap,F4=Xt.extend,aP=(e,t,o,i)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",h=t.childNodes;for(let C=0,A=h.length;C<A;C++){const V=h[C],Z=new Da(V.nodeName.toLowerCase(),V.nodeType);if(En(V)){const Y=V.attributes;for(let ee=0,ge=Y.length;ee<ge;ee++){const Se=Y[ee];Z.attr(Se.name,Se.value)}Bm(Z.name)&&(i(V),Z.value=V.innerHTML)}else Ut(V)?(Z.value=V.data,m&&(Z.raw=!0)):(ko(V)||ax(V)||Af(V))&&(Z.value=V.data);Bm(Z.name)||aP(Z,V,o,i),e.append(Z)}},pa=(e,t,o)=>{const i=[];for(let c=e,m=c;c;m=c,c=c.walk()){const h=c;pe(t,C=>C(h)),st(h.parent)&&h!==e?c=m:i.push(h)}for(let c=i.length-1;c>=0;c--){const m=i[c];pe(o,h=>h(m))}},hg=(e,t,o,i)=>{const c=o.validate,m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=F4(MS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=o0(t),V=/[ \t\r\n]+/g,Z=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/,ee=Qe=>{let Xe=Qe.parent;for(;Ee(Xe);){if(Xe.name in h)return!0;Xe=Xe.parent}return!1},ge=Qe=>{let Xe=Qe;for(;Ee(Xe);){if(Xe.name in A)return sy(t,m,h,Xe);Xe=Xe.parent}return!1},Se=Qe=>Qe.name in C||fp(t,Qe)||Bm(Qe.name)&&Qe.parent===e,ve=(Qe,Xe)=>{const dt=Xe?Qe.prev:Qe.next;return Ee(dt)||st(Qe.parent)?!1:Se(Qe.parent)&&(Qe.parent!==e||i.isRootContent===!0)};return[Qe=>{var Xe;if(Qe.type===3&&!ee(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";dt=dt.replace(V," "),(KI(Qe.prev,Se)||ve(Qe,!0))&&(dt=dt.replace(Z,"")),dt.length===0||dt===" "&&Qe.prev&&Qe.prev.type===pf&&Qe.next&&Qe.next.type===pf?Qe.remove():Qe.value=dt}},Qe=>{var Xe;if(Qe.type===1){const dt=t.getElementRule(Qe.name);if(c&&dt){const Bt=sy(t,m,h,Qe);dt.paddInEmptyBlock&&Bt&&ge(Qe)?iS(o,i,Se,Qe):dt.removeEmpty&&Bt?Se(Qe)?Qe.remove():Qe.unwrap():dt.paddEmpty&&(Bt||aS(Qe))&&iS(o,i,Se,Qe)}}else if(Qe.type===3&&!ee(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";(Qe.next&&Se(Qe.next)||ve(Qe,!1))&&(dt=dt.replace(Y,"")),dt.length===0?Qe.remove():Qe.value=dt}}]},mV=(e,t)=>{var o;const i=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},uy=(e={},t=Bc())=>{const o=TS(),i=TS(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,h=fV(c,t),C=(Xe,dt,Bt="html")=>{const Yt=Bt==="xhtml"?"application/xhtml+xml":"text/html",pn=ao(t.getSpecialElements(),dt.toLowerCase()),kt=pn?`<${dt}>${Xe}</${dt}>`:Xe,bt=()=>Bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${kt}</body></html>`:/^[\s]*<head/i.test(Xe)||/^[\s]*<html/i.test(Xe)||/^[\s]*<!DOCTYPE/i.test(Xe)?`<html>${kt}</html>`:`<body>${kt}</body>`,Nt=m.parseFromString(bt(),Yt).body;return h.sanitizeHtmlElement(Nt,Yt),pn?Nt.firstChild:Nt},A=o.addFilter,V=o.getFilters,Z=o.removeFilter,Y=i.addFilter,ee=i.getFilters,ge=i.removeFilter,Se=(Xe,dt)=>{tw(t,Xe)&&dt.push(Xe)},ve=(Xe,dt)=>{const Bt=he(dt.attr(M4)),Yt=dt.type===1&&!ao(Xe,dt.name)&&!fp(t,dt)&&!Bm(dt.name);return dt.type===3||Yt&&!Bt},Oe=(Xe,dt)=>{const Bt=F4(MS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Yt=/^[ \t\r\n]+/,pn=/[ \t\r\n]+$/;let kt=Xe.firstChild,bt=null;const Nt=Cn=>{var Vn,No;Cn&&(kt=Cn.firstChild,kt&&kt.type===3&&(kt.value=(Vn=kt.value)===null||Vn===void 0?void 0:Vn.replace(Yt,"")),kt=Cn.lastChild,kt&&kt.type===3&&(kt.value=(No=kt.value)===null||No===void 0?void 0:No.replace(pn,"")))};if(t.isValidChild(Xe.name,dt.toLowerCase())){for(;kt;){const Cn=kt.next;ve(Bt,kt)?(bt||(bt=new Da(dt,1),bt.attr(c.forced_root_block_attrs),Xe.insert(bt,kt)),bt.append(kt)):(Nt(bt),bt=null),kt=Cn}Nt(bt)}},Qe={schema:t,addAttributeFilter:Y,getAttributeFilters:ee,removeAttributeFilter:ge,addNodeFilter:A,getNodeFilters:V,removeNodeFilter:Z,parse:(Xe,dt={})=>{var Bt;const Yt=c.validate,pn=(Bt=dt.context)!==null&&Bt!==void 0?Bt:c.root_name,kt=C(Xe,pn,dt.format);Kr(t,kt);const bt=new Da(pn,11);aP(bt,kt,t.getSpecialElements(),h.sanitizeNamespaceElement),kt.innerHTML="";const[Nt,Cn]=hg(bt,t,c,dt),Vn=[],No=Yt?ui=>Se(ui,Vn):ct,Ho={nodes:{},attributes:{}},Rs=ui=>E3(V(),ee(),ui,Ho);if(pa(bt,[Nt,Rs],[Cn,No]),Vn.reverse(),Yt&&Vn.length>0)if(dt.context){const{pass:ui,fail:kl}=zt(Vn,Ys=>Ys.parent===bt);_u(kl,t,bt,Rs),dt.invalid=ui.length>0}else _u(Vn,t,bt,Rs);const Us=mV(c,dt);return Us&&(bt.name==="body"||dt.isRootContent)&&Oe(bt,Us),dt.invalid||A3(Ho,dt),bt}};return Y7(Qe,c),W7(Qe,c,t),Qe},gV=e=>qb(e)?wh({validate:!1}).serialize(e):e,V4=(e,t,o)=>{const i=gV(e),c=t(i);if(c.isDefaultPrevented())return c;if(qb(e))if(c.content!==i){const m=uy({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},Qb=e=>({sanitize:a5(e),sandbox_iframes:HE(e),sandbox_iframes_exclusions:GC(e)}),lP=(e,t)=>{if(t.no_events)return Jn.value(t);{const o=Yf(e,t);return o.isDefaultPrevented()?Jn.error(uR(e,{content:"",...o}).content):Jn.value(o)}},ef=(e,t,o)=>o.no_events?t:V4(t,c=>uR(e,{...o,content:c}),Qb(e)).content,z4=(e,t)=>{if(t.no_events)return Jn.value(t);{const o=V4(t.content,i=>dF(e,{...t,content:i}),Qb(e));return o.isDefaultPrevented()?(cc(e,o),Jn.error(void 0)):Jn.value(o)}},H4=(e,t,o)=>{o.no_events||cc(e,{...o,content:t})},BS=(e,t,o)=>({element:e,width:t,rows:o}),$4=(e,t)=>({element:e,cells:t}),hV=(e,t)=>({x:e,y:t}),LS=(e,t)=>eu(e,t).bind(un).getOr(1),pg=(e,t,o,i,c)=>{const m=LS(c,"rowspan"),h=LS(c,"colspan"),C=e.rows;for(let A=o;A<o+m;A++){C[A]||(C[A]=$4(Zm(i),[]));for(let V=t;V<t+h;V++){const Z=C[A].cells;Z[V]=A===o&&V===t?c:qr(c)}}},cP=(e,t,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[t]},uP=(e,t,o)=>{for(;cP(e,t,o);)t++;return t},gw=e=>Vt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),FS=(e,t)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let m=0;m<c.length;m++)if(Yo(c[m],t))return Q.some(hV(m,i))}return Q.none()},U4=(e,t,o,i,c)=>{const m=[],h=e.rows;for(let C=o;C<=c;C++){const A=h[C].cells,V=t<i?A.slice(t,i+1):A.slice(i,t+1);m.push($4(h[C].element,V))}return m},dP=(e,t,o)=>{const i=t.x,c=t.y,m=o.x,h=o.y,C=c<h?U4(e,i,c,m,h):U4(e,i,h,m,c);return BS(e.element,gw(C),C)},fP=(e,t)=>{const o=qr(e.element),i=Fe.fromTag("tbody");return ti(i,t),Wr(o,i),o},pV=e=>Be(e.rows,t=>{const o=Be(t.cells,c=>{const m=Zm(c);return Ro(m,"colspan"),Ro(m,"rowspan"),m}),i=qr(t.element);return ti(i,o),i}),vV=e=>{const t=BS(qr(e),0,[]);return pe(pi(e,"tr"),(o,i)=>{pe(pi(o,"td,th"),(c,m)=>{pg(t,uP(t,m,i),i,o,c)})}),BS(t.element,gw(t.rows),t.rows)},bV=e=>fP(e,pV(e)),mP=(e,t,o)=>FS(e,t).bind(i=>FS(e,o).map(c=>dP(e,i,c))),gP=e=>cn(e,t=>qo(t)==="ul"||qo(t)==="ol"),yV=(e,t)=>cn(e,o=>qo(o)==="li"&&h2(o,t)).fold(et([]),o=>gP(e).map(i=>{const c=Fe.fromTag(qo(i)),m=_c($g(i),(h,C)=>cr(C,"list-style"));return Ko(c,m),[Fe.fromTag("li"),c]}).getOr([])),W4=(e,t)=>{const o=Vt(t,(i,c)=>(Wr(c,i),c),e);return t.length>0?Wc([o]):o},hP=e=>Km(e)?aa(e).filter(lb).fold(et([]),t=>[e,t]):lb(e)?[e]:[],xV=(e,t,o)=>{const i=Fe.fromDom(t.commonAncestorContainer),c=jc(i,e),m=vt(c,A=>o.isWrapper(qo(A))),h=yV(c,t),C=m.concat(h.length?h:hP(i));return Be(C,qr)},Z4=()=>Wc([]),wV=(e,t,o)=>W4(Fe.fromDom(t.cloneContents()),xV(e,t,o)),CV=(e,t)=>ru(t,"table",tt(Yo,e)),_l=(e,t)=>CV(e,t[0]).bind(o=>{const i=t[0],c=t[t.length-1],m=vV(o);return mP(m,i,c).map(h=>Wc([bV(h)]))}).getOrThunk(Z4),_V=(e,t,o)=>t.length>0&&t[0].collapsed?Z4():wV(e,t[0],o),SV=(e,t,o)=>{const i=Z5(t,e);return i.length>0?_l(e,i):_V(e,t,o)},VS=(e,t)=>t>=0&&t<e.length&&Rb(e.charAt(t)),pP=e=>xl(e.innerText),zS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),kV=e=>Q.from(e.selection.getRng()).map(t=>{var o;const i=Q.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=zS(i),h=Fe.fromDom(t.cloneContents());QR(h),eI(h);const C=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),A=pP(C),V=xl((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),VS(V,0)||VS(V,V.length-1)){const Z=i.getOr(c),Y=pP(Z),ee=Y.indexOf(A);if(ee===-1)return A;{const ge=VS(Y,ee-1),Se=VS(Y,ee+A.length);return(ge?" ":"")+A+(Se?" ":"")}}else return A}).getOr(""),j4=(e,t)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),m=P_(e,vr(c)),h=t.contextual?SV(Fe.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,t)},K4=(e,t)=>{if(t.format==="text")return kV(e);{const o=j4(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},EV=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),AV=(e,t,o={})=>{const i=EV(o,t);return lP(e,i).fold(pt,c=>{const m=K4(e,c);return ef(e,m,c)})},md=0,G4=1,vP=2,q4=(e,t)=>{const o=e.length+t.length+2,i=new Array(o),c=new Array(o),m=(Z,Y,ee)=>({start:Z,end:Y,diag:ee}),h=(Z,Y,ee,ge,Se)=>{const ve=A(Z,Y,ee,ge);if(ve===null||ve.start===Y&&ve.diag===Y-ge||ve.end===Z&&ve.diag===Z-ee){let Oe=Z,He=ee;for(;Oe<Y||He<ge;)Oe<Y&&He<ge&&e[Oe]===t[He]?(Se.push([md,e[Oe]]),++Oe,++He):Y-Z>ge-ee?(Se.push([vP,e[Oe]]),++Oe):(Se.push([G4,t[He]]),++He)}else{h(Z,ve.start,ee,ve.start-ve.diag,Se);for(let Oe=ve.start;Oe<ve.end;++Oe)Se.push([md,e[Oe]]);h(ve.end,Y,ve.end-ve.diag,ge,Se)}},C=(Z,Y,ee,ge)=>{let Se=Z;for(;Se-Y<ge&&Se<ee&&e[Se]===t[Se-Y];)++Se;return m(Z,Se,Y)},A=(Z,Y,ee,ge)=>{const Se=Y-Z,ve=ge-ee;if(Se===0||ve===0)return null;const Oe=Se-ve,He=ve+Se,Qe=(He%2===0?He:He+1)/2;i[1+Qe]=Z,c[1+Qe]=Y+1;let Xe,dt,Bt,Yt,pn;for(Xe=0;Xe<=Qe;++Xe){for(dt=-Xe;dt<=Xe;dt+=2){for(Bt=dt+Qe,dt===-Xe||dt!==Xe&&i[Bt-1]<i[Bt+1]?i[Bt]=i[Bt+1]:i[Bt]=i[Bt-1]+1,Yt=i[Bt],pn=Yt-Z+ee-dt;Yt<Y&&pn<ge&&e[Yt]===t[pn];)i[Bt]=++Yt,++pn;if(Oe%2!==0&&Oe-Xe<=dt&&dt<=Oe+Xe&&c[Bt-Oe]<=i[Bt])return C(c[Bt-Oe],dt+Z-ee,Y,ge)}for(dt=Oe-Xe;dt<=Oe+Xe;dt+=2){for(Bt=dt+Qe-Oe,dt===Oe-Xe||dt!==Oe+Xe&&c[Bt+1]<=c[Bt-1]?c[Bt]=c[Bt+1]-1:c[Bt]=c[Bt-1],Yt=c[Bt]-1,pn=Yt-Z+ee-dt;Yt>=Z&&pn>=ee&&e[Yt]===t[pn];)c[Bt]=Yt--,pn--;if(Oe%2===0&&-Xe<=dt&&dt<=Xe&&c[Bt]<=i[Bt+Oe])return C(c[Bt],dt+Z-ee,Y,ge)}}return null},V=[];return h(0,e.length,0,t.length,V),V},Y4=e=>En(e)?e.outerHTML:Ut(e)?Yg.encodeRaw(e.data,!1):ko(e)?"<!--"+e.data+"-->":"",HS=e=>{let t;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)i.appendChild(t);return i},bP=(e,t,o)=>{const i=HS(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},yP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},xP=(e,t)=>{let o=0;pe(e,i=>{i[0]===md?o++:i[0]===G4?(bP(t,i[1],o),o++):i[0]===vP&&yP(t,o)})},TV=(e,t)=>vt(Be(vo(e.childNodes),$t(xl,Y4)),o=>o.length>0),OV=(e,t)=>{const o=Be(vo(t.childNodes),Y4);return xP(q4(o,e),t),t},X4=Dl(()=>document.implementation.createHTMLDocument("undo")),DV=e=>e.querySelector("iframe")!==null,RV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),$S=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),dy=e=>{const t=e.serializer.getTempAttrs(),o=VA(e.getBody(),t);return DV(o)?RV(TV(o)):$S(xl(o.innerHTML))},hw=(e,t,o)=>{const i=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?OV(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ee(i)&&L5(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},US=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Th=e=>{const t=Fe.fromTag("body",X4());return Rm(t,US(e)),pe(pi(t,"*[data-mce-bogus]"),Va),Pd(t)},IV=(e,t)=>US(e)===US(t),NV=(e,t)=>Th(e)===Th(t),fy=(e,t)=>!e||!t?!1:IV(e,t)?!0:NV(e,t),WS=e=>e.get()===0,pw=(e,t,o)=>{WS(o)&&(e.typing=t)},J4=(e,t)=>{e.typing&&(pw(e,!1,t),e.add())},PV=e=>{e.typing&&(e.typing=!1,e.add())},MV=(e,t,o)=>{WS(t)&&o.set(yn(e.selection))},Q4=(e,t,o,i,c,m,h)=>{const C=dy(e),A=Xt.extend(m||{},C);if(!WS(i)||e.removed)return null;const V=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:V,originalEvent:h}).isDefaultPrevented()||V&&fy(V,A))return null;t.data[o.get()]&&c.get().each(ee=>{t.data[o.get()].beforeBookmark=ee});const Z=e5(e);if(Z&&t.data.length>Z){for(let ee=0;ee<t.data.length-1;ee++)t.data[ee]=t.data[ee+1];t.data.length--,o.set(t.data.length)}A.bookmark=yn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const Y={level:A,lastLevel:V,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Y),e.dispatch("change",Y)):e.dispatch("AddUndo",Y),A},eT=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},tT=(e,t,o,i,c)=>{if(t.transact(i)){const m=t.data[o.get()].bookmark,h=t.data[o.get()-1];hw(e,h,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=m)}},wP=(e,t,o)=>{let i;return t.get()<o.length-1&&(t.set(t.get()+1),i=o[t.get()],hw(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},ZS=(e,t,o,i)=>{let c;return t.typing&&(t.add(),t.typing=!1,pw(t,!1,o)),i.get()>0&&(i.set(i.get()-1),c=t.data[i.get()],hw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},CP=e=>{e.clear(),e.add()},_P=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!fy(dy(e),t.data[0]),BV=(e,t)=>t.get()<e.data.length-1&&!e.typing,LV=(e,t,o)=>(J4(e,t),e.beforeChange(),e.ignore(o),e.add()),nT=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},SP=(e,t)=>{const o=e.dom,i=Ee(t)?t:e.getBody();pe(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const m=jC(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const C=o.getAttrib(c,"name")||c.id,A=M0(e);C&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},oT=e=>({init:{bindEvents:ct},undoManager:{beforeChange:(t,o)=>MV(e,t,o),add:(t,o,i,c,m,h)=>Q4(e,t,o,i,c,m,h),undo:(t,o,i)=>ZS(e,t,o,i),redo:(t,o)=>wP(e,t,o),clear:(t,o)=>eT(e,t,o),reset:t=>CP(t),hasUndo:(t,o)=>_P(e,t,o),hasRedo:(t,o)=>BV(t,o),transact:(t,o,i)=>LV(t,o,i),ignore:(t,o)=>nT(t,o),extra:(t,o,i,c)=>tT(e,t,o,i,c)},formatter:{match:(t,o,i,c)=>jp(e,t,o,i,c),matchAll:(t,o)=>aN(e,t,o),matchNode:(t,o,i,c)=>fg(e,t,o,i,c),canApply:t=>cN(e,t),closest:t=>lN(e,t),apply:(t,o,i)=>TN(e,t,o,i),remove:(t,o,i,c)=>Yp(e,t,o,i,c),toggle:(t,o,i)=>z7(e,t,o,i),formatChanged:(t,o,i,c,m)=>V7(e,t,o,i,c,m)},editor:{getContent:t=>oI(e,t),setContent:(t,o)=>R7(e,t,o),insertContent:(t,o)=>pS(e,t,o),addVisual:t=>SP(e,t)},selection:{getContent:(t,o)=>AV(e,t,o)},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:()=>Q.none()}}),FV=e=>{const t=V=>K(V)?V:{},{init:o,undoManager:i,formatter:c,editor:m,selection:h,autocompleter:C,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(V,Z,Y)=>i.transact(Y),ignore:(V,Z)=>i.ignore(Z),extra:(V,Z,Y,ee)=>i.extra(Y,ee)},formatter:{match:(V,Z,Y,ee)=>c.match(V,t(Z),ee),matchAll:c.matchAll,matchNode:c.matchNode,canApply:V=>c.canApply(V),closest:V=>c.closest(V),apply:(V,Z,Y)=>c.apply(V,t(Z)),remove:(V,Z,Y,ee)=>c.remove(V,t(Z)),toggle:(V,Z,Y)=>c.toggle(V,t(Z)),formatChanged:(V,Z,Y,ee,ge)=>c.formatChanged(Z,Y,ee,ge)},editor:{getContent:V=>m.getContent(V),setContent:(V,Z)=>({content:m.setContent(V,Z),html:""}),insertContent:(V,Z)=>(m.insertContent(V),""),addVisual:m.addVisual},selection:{getContent:(V,Z)=>h.getContent(Z)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>Q.some(A.getRawModel())}}},VV=()=>{const e=et(null),t=et("");return{init:{bindEvents:ct},undoManager:{beforeChange:ct,add:e,undo:e,redo:e,clear:ct,reset:ct,hasUndo:fn,hasRedo:fn,transact:e,ignore:ct,extra:ct},formatter:{match:fn,matchAll:et([]),matchNode:et(void 0),canApply:fn,closest:t,apply:ct,remove:ct,toggle:ct,formatChanged:et({unbind:ct})},editor:{getContent:t,setContent:et({content:"",html:""}),insertContent:et(""),addVisual:ct},selection:{getContent:t},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:et(Q.none())}}},vg=e=>ao(e.plugins,"rtc"),kP=e=>Os(e.plugins,"rtc").bind(t=>Q.from(t.setup)),EP=e=>{const t=e;return kP(e).fold(()=>(t.rtcInstance=oT(e),Q.none()),o=>(t.rtcInstance=VV(),Q.some(()=>o().then(i=>(t.rtcInstance=FV(i),i.rtc.isRemote)))))},sT=e=>e.rtcInstance?e.rtcInstance:oT(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},my=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},zV=(e,t,o,i,c,m,h)=>va(e).undoManager.add(t,o,i,c,m,h),HV=(e,t,o,i)=>va(e).undoManager.undo(t,o,i),AP=(e,t,o)=>va(e).undoManager.redo(t,o),TP=(e,t,o)=>{va(e).undoManager.clear(t,o)},jS=(e,t)=>{va(e).undoManager.reset(t)},$V=(e,t,o)=>va(e).undoManager.hasUndo(t,o),UV=(e,t,o)=>va(e).undoManager.hasRedo(t,o),WV=(e,t,o,i)=>va(e).undoManager.transact(t,o,i),ZV=(e,t,o)=>{va(e).undoManager.ignore(t,o)},jV=(e,t,o,i,c)=>{va(e).undoManager.extra(t,o,i,c)},KV=(e,t,o,i,c)=>va(e).formatter.match(t,o,i,c),GV=(e,t,o)=>va(e).formatter.matchAll(t,o),qV=(e,t,o,i,c)=>va(e).formatter.matchNode(t,o,i,c),YV=(e,t)=>va(e).formatter.canApply(t),XV=(e,t)=>va(e).formatter.closest(t),er=(e,t,o,i)=>{va(e).formatter.apply(t,o,i)},OP=(e,t,o,i,c)=>{va(e).formatter.remove(t,o,i,c)},rT=(e,t,o,i)=>{va(e).formatter.toggle(t,o,i)},DP=(e,t,o,i,c,m)=>va(e).formatter.formatChanged(t,o,i,c,m),RP=(e,t)=>sT(e).editor.getContent(t),iT=(e,t,o)=>sT(e).editor.setContent(t,o),JV=(e,t,o)=>sT(e).editor.insertContent(t,o),QV=(e,t,o)=>va(e).selection.getContent(t,o),IP=(e,t)=>va(e).editor.addVisual(t),NP=e=>va(e).init.bindEvents(),ez=(e,t={})=>{const o=t.format?t.format:"html";return QV(e,o,t)},e1=e=>e.dom.length===0?(Ds(e),Q.none()):Q.some(e),tz=(e,t)=>e.filter(o=>Zs.isBookmarkNode(o.dom)).bind(t?Wn:wi),gy=(e,t,o,i,c)=>{const m=e.dom,h=t.dom,C=i?m.length:h.length;i?(G2(m,h,c,!1,!i),o.setStart(h,C)):(G2(h,m,c,!1,!i),o.setEnd(h,C))},vw=(e,t,o)=>{aa(e).each(i=>{const c=e.dom;t&&ey(i,xt(c,0),o)?W_(c,0,o):!t&&Zb(i,xt(c,c.length),o)&&Vr(c,c.length,o)})},t1=(e,t,o,i,c)=>{e.bind(m=>((i?Vr:W_)(m.dom,i?m.dom.length:0,c),t.filter(ur).map(C=>gy(m,C,o,i,c)))).orThunk(()=>tz(t,i).or(t).filter(ur).map(h=>vw(h,i,c)))},aT=(e,t,o)=>{const i=Q.from(t.firstChild).map(Fe.fromDom),c=Q.from(t.lastChild).map(Fe.fromDom);e.deleteContents(),e.insertNode(t);const m=i.bind(wi).filter(ur).bind(e1),h=c.bind(Wn).filter(ur).bind(e1);t1(m,i,e,!0,o),t1(h,c,e,!1,o),e.collapse(!1)},PP=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),MP=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return wh({validate:!1},e.schema).serialize(m)}else return t.content},lT=(e,t,o={})=>{const i=PP(o,t);z4(e,i).each(c=>{const m=MP(e,c),h=e.selection.getRng();aT(h,h.createContextualFragment(m),e.schema),e.selection.setRng(h),sd(e,h),H4(e,m,c)})},cT=(e,t,o)=>{if(ao(e,t)){const i=vt(e[t],c=>c!==o);i.length===0?delete e[t]:e[t]=i}};var BP=(e,t)=>{let o,i;const c=(C,A)=>cn(A,V=>e.is(V,C)),m=C=>e.getParents(C,void 0,e.getRoot()),h=()=>{o={},i={},t.on("NodeChange",C=>{const A=C.element,V=m(A),Z={};rs(o,(Y,ee)=>{c(ee,V).each(ge=>{i[ee]||(pe(Y,Se=>{Se(!0,{node:ge,selector:ee,parents:V})}),i[ee]=Y),Z[ee]=Y})}),rs(i,(Y,ee)=>{Z[ee]||(delete i[ee],pe(Y,ge=>{ge(!1,{node:A,selector:ee,parents:V})}))})})};return{selectorChangedWithUnbind:(C,A)=>(o||h(),o[C]||(o[C]=[]),o[C].push(A),c(C,m(t.selection.getStart())).each(()=>{i[C]=o[C]}),{unbind:()=>{cT(o,C,A),cT(i,C,A)}})}};const uT=e=>!!(e&&e.ownerDocument)&&ia(Fe.fromDom(e.ownerDocument),Fe.fromDom(e)),dT=e=>e?uT(e.startContainer)&&uT(e.endContainer):!1,fT=(e,t,o,i)=>{let c,m;const{selectorChangedWithUnbind:h}=BP(e,i),C=(on,Pn)=>{const ys=e.createRng();Ee(on)&&Ee(Pn)?(ys.setStart(on,Pn),ys.setEnd(on,Pn),dt(ys),He(!1)):(p2(e,ys,i.getBody(),!0),dt(ys))},A=on=>ez(i,on),V=(on,Pn)=>lT(i,on,Pn),Z=on=>jR(i.getBody(),Xe(),on),Y=on=>KR(i.getBody(),Xe(),on),ee=(on,Pn)=>kl.getBookmark(on,Pn),ge=on=>kl.moveToBookmark(on),Se=(on,Pn)=>(H2(e,on,Pn).each(dt),on),ve=()=>{const on=Xe(),Pn=Qe();return!on||on.item?!1:on.compareEndPoints?on.compareEndPoints("StartToEnd",on)===0:!Pn||on.collapsed},Oe=()=>{const on=Xe(),Pn=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Pn.length>0?Do(Pn,ys=>e.isEditable(ys.parentElement)):WR(e,on)},He=on=>{const Pn=Xe();Pn.collapse(!!on),dt(Pn)},Qe=()=>t.getSelection?t.getSelection():t.document.selection,Xe=()=>{let on;const Pn=(ln,Yn,Vo)=>{try{return Yn.compareBoundaryPoints(ln,Vo)}catch{return-1}},ys=t.document;if(Ee(i.bookmark)&&!K0(i)){const ln=IA(i);if(ln.isSome())return ln.map(Yn=>P_(i,[Yn])[0]).getOr(ys.createRange())}try{const ln=Qe();ln&&!Sf(ln.anchorNode)&&(ln.rangeCount>0?on=ln.getRangeAt(0):on=ys.createRange(),on=P_(i,[on])[0])}catch{}if(on||(on=ys.createRange()),Rn(on.startContainer)&&on.collapsed){const ln=e.getRoot();on.setStart(ln,0),on.setEnd(ln,0)}return c&&m&&(Pn(on.START_TO_START,on,c)===0&&Pn(on.END_TO_END,on,c)===0?on=m:(c=null,m=null)),on},dt=(on,Pn)=>{if(!dT(on))return;const ys=Qe();if(on=i.dispatch("SetSelectionRange",{range:on,forward:Pn}).range,ys){m=on;try{ys.removeAllRanges(),ys.addRange(on)}catch{}Pn===!1&&ys.extend&&(ys.collapse(on.endContainer,on.endOffset),ys.extend(on.startContainer,on.startOffset)),c=ys.rangeCount>0?ys.getRangeAt(0):null}if(!on.collapsed&&on.startContainer===on.endContainer&&(ys!=null&&ys.setBaseAndExtent)&&on.endOffset-on.startOffset<2&&on.startContainer.hasChildNodes()){const Yn=on.startContainer.childNodes[on.startOffset];Yn&&Yn.nodeName==="IMG"&&(ys.setBaseAndExtent(on.startContainer,on.startOffset,on.endContainer,on.endOffset),(ys.anchorNode!==on.startContainer||ys.focusNode!==on.endContainer)&&ys.setBaseAndExtent(Yn,0,Yn,1))}i.dispatch("AfterSetSelectionRange",{range:on,forward:Pn})},Bt=on=>(V(e.getOuterHTML(on)),on),Yt=()=>ZF(i.getBody(),Xe()),pn=(on,Pn)=>LA(e,Xe(),on,Pn),kt=()=>{const on=Qe(),Pn=on==null?void 0:on.anchorNode,ys=on==null?void 0:on.focusNode;if(!on||!Pn||!ys||Sf(Pn)||Sf(ys))return!0;const ln=e.createRng(),Yn=e.createRng();try{ln.setStart(Pn,on.anchorOffset),ln.collapse(!0),Yn.setStart(ys,on.focusOffset),Yn.collapse(!0)}catch{return!0}return ln.compareBoundaryPoints(ln.START_TO_START,Yn)<=0},ui={dom:e,win:t,serializer:o,editor:i,expand:(on={type:"word"})=>dt(Bp(e).expand(Xe(),on)),collapse:He,setCursorLocation:C,getContent:A,setContent:V,getBookmark:ee,moveToBookmark:ge,select:Se,isCollapsed:ve,isEditable:Oe,isForward:kt,setNode:Bt,getNode:Yt,getSel:Qe,setRng:dt,getRng:Xe,getStart:Z,getEnd:Y,getSelectedBlocks:pn,normalize:()=>{const on=Xe(),Pn=Qe();if(!f2(Pn)&&z0(i)){const ys=rg(e,on);return ys.each(ln=>{dt(ln,kt())}),ys.getOr(on)}return on},selectorChanged:(on,Pn)=>(h(on,Pn),ui),selectorChangedWithUnbind:h,getScrollContainer:()=>{let on,Pn=e.getRoot();for(;Pn&&Pn.nodeName!=="BODY";){if(Pn.scrollHeight>Pn.clientHeight){on=Pn;break}Pn=Pn.parentNode}return on},scrollIntoView:(on,Pn)=>{Ee(on)?TA(i,on,Pn):sd(i,Xe(),Pn)},placeCaretAt:(on,Pn)=>dt(yR(on,Pn,i.getDoc())),getBoundingClientRect:()=>{const on=Xe();return on.collapsed?xt.fromRangeStart(on).getClientRects()[0]:on.getBoundingClientRect()},destroy:()=>{t=c=m=null,Ys.destroy()}},kl=Zs(ui),Ys=zs(ui,i);return ui.bookmarkManager=kl,ui.controlSelection=Ys,ui},LP=(e,t,o)=>{t.addNodeFilter("br",(i,c,m)=>{const h=Xt.extend({},o.getBlockElements()),C=o.getNonEmptyElements(),A=o.getWhitespaceElements();h.body=1;const V=Z=>Z.name in h||fp(o,Z);for(let Z=0,Y=i.length;Z<Y;Z++){let ee=i[Z],ge=ee.parent;if(ge&&V(ge)&&ee===ge.lastChild){let Se=ee.prev;for(;Se;){const ve=Se.name;if(ve!=="span"||Se.attr("data-mce-type")!=="bookmark"){ve==="br"&&(ee=null);break}Se=Se.prev}if(ee&&(ee.remove(),sy(o,C,A,ge))){const ve=o.getElementRule(ge.name);ve&&(ve.removeEmpty?ge.remove():ve.paddEmpty&&iS(e,m,V,ge))}}else{let Se=ee;for(;ge&&ge.firstChild===Se&&ge.lastChild===Se&&(Se=ge,!h[ge.name]);)ge=ge.parent;if(Se===ge){const ve=new Da("#text",3);ve.value=Di,ee.replace(ve)}}}})},mT=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const m="data-mce-"+c,h=t.url_converter,C=t.url_converter_scope;let A=i.length;for(;A--;){const V=i[A];let Z=V.attr(m);Z!==void 0?(V.attr(c,Z.length>0?Z:null),V.attr(m,null)):(Z=V.attr(c),c==="style"?Z=o.serializeStyle(o.parseStyle(Z),V.name):h&&(Z=h.call(C,Z,c,V.name)),V.attr(c,Z.length>0?Z:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const m=i[c];let h=m.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,m)=>{let h=i.length;for(;h--;){const C=i[h];C.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(Q.from(C.firstChild).exists(V=>{var Z;return!zc((Z=V.value)!==null&&Z!==void 0?Z:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var m;const h=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=i.length;for(;C--;){const A=i[C],V=A.firstChild,Z=(m=V==null?void 0:V.value)!==null&&m!==void 0?m:"";if(c==="script"){const Y=A.attr("type");Y&&A.attr("type",Y==="mce-no/type"?null:Y.replace(/^mce\-/,"")),t.element_format==="xhtml"&&V&&Z.length>0&&(V.value=`// <![CDATA[
`+h(Z)+`
// ]]>`)}else t.element_format==="xhtml"&&V&&Z.length>0&&(V.value=`<!--
`+h(Z)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const m=i[c],h=m.value;t.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{pe(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.remove_trailing_brs&&LP(t,e,e.schema)},nz=e=>{const t=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(t(o)){const i=o.prev;t(i)&&(o.remove(),i.remove())}},FP=(e,t,o)=>{let i;const c=e.dom;let m=t.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const C=h.createHTMLDocument("");Xt.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{C.body.appendChild(C.importNode(A,!0))}),m.nodeName!=="BODY"?m=C.body.firstChild:m=C.body,i=c.doc,c.doc=C}return _2(e,{...o,node:m}),i&&(c.doc=i),m},VP=(e,t)=>Ee(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,zP=(e,t,o)=>VP(e,o)?FP(e,t,o):t,oz=(e,t,o)=>{Xt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.push(o))},sz=(e,t,o)=>!t.no_events&&e?S2(e,{...t,content:o}).content:o,KS=(e,t,o)=>{const i=xl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||cb(Fe.fromDom(t))?i:Xt.trim(i)},HP=(e,t,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,i);return nz(c),c},$P=(e,t,o)=>wh(e,t).serialize(o),UP=(e,t,o,i,c)=>{const m=$P(t,o,i);return sz(e,c,m)},rz=(e,t)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:Gs.DOM,m=t&&t.schema?t.schema:Bc(i),h=uy(i,m);mT(h,i,c);const C=(A,V={})=>{const Z={format:"html",...V},Y=zP(t,A,Z),ee=KS(c,Y,Z),ge=HP(h,ee,Z);return Z.format==="tree"?ge:UP(t,i,m,ge,Z)};return{schema:m,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:C,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:tt(oz,h,o),getTempAttrs:et(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},WP=(e,t)=>{const o=rz(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},iz="html",az=(e,t)=>({...e,format:t,get:!0,getInner:!0}),ZP=(e,t={})=>{const o=t.format?t.format:iz,i=az(t,o);return lP(e,i).fold(pt,c=>{const m=RP(e,c);return ef(e,m,c)})},jP="html",KP=(e,t)=>({format:jP,...e,set:!0,content:t}),gT=(e,t,o={})=>{const i=KP(o,t);return z4(e,i).map(c=>{const m=iT(e,c.content,c);return H4(e,m.html,c),m.content}).getOr(t)},lz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cz=[],uz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),bw=[],hT=(e,t)=>{const o=vt(t,i=>ao(e,i));return fs(o)},dz=e=>{const t=hT(e,lz),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),fs(t)},GP=e=>hT(e,cz),pT=(e,t)=>{const o=Xt.makeMap(e.plugins," "),c=vt(t,m=>ao(o,m));return fs(c)},vT=e=>pT(e,uz),qP=e=>pT(e,bw.map(t=>t.name)),YP=(e,t)=>{const o=dz(e),i=vT(t),c=i.length>0,m=o.length>0,h=t.theme==="mobile";if(c||m||h){const C=`
- `,A=h?`

Themes:${C}mobile`:"",V=c?`

Plugins:${C}${i.join(C)}`:"",Z=m?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+V+Z)}},XP=e=>cn(bw,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),fz=(e,t)=>{const o=GP(e),i=qP(t),c=i.length>0,m=o.length>0;if(c||m){const h=`
- `,C=c?`

Plugins:${h}${i.map(XP).join(h)}`:"",A=m?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},mz=(e,t)=>{YP(e,t),fz(e,t)},Qp=Gs.DOM,gz=e=>{Qp.setStyle(e.id,"display",e.orgDisplay)},yw=e=>Q.from(e).each(t=>t.destroy()),GS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const i=o.dom;t.selection=o.win=o.dom=i.doc=null}},JP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Qp.unbind(t,"submit reset",e.formEventDelegate))},QP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ee(c==null?void 0:c.nextSibling)&&Qp.remove(c.nextSibling),k2(e),e.editorManager.remove(e),!e.inline&&i&&gz(e),E2(e),Qp.remove(e.getContainer()),yw(t),yw(o),e.destroy()}},hz=(e,t)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),yw(o),yw(i)),JP(e),GS(e),e.destroyed=!0}},xw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>ao(e,c)}})(),ev=ol.ModelManager,ww=(e,t)=>t.dom[e],bT=(e,t)=>parseInt(Ur(t,e),10),yT=tt(ww,"clientWidth"),e6=tt(ww,"clientHeight"),pz=tt(bT,"margin-top"),t6=tt(bT,"margin-left"),vz=e=>e.dom.getBoundingClientRect(),n6=(e,t,o)=>{const i=yT(e),c=e6(e);return t>=0&&o>=0&&t<=i&&o<=c},o6=(e,t,o,i)=>{const c=vz(t),m=e?c.left+t.dom.clientLeft+t6(t):0,h=e?c.top+t.dom.clientTop+pz(t):0,C=o-m,A=i-h;return{x:C,y:A}},bz=(e,t,o)=>{const i=Fe.fromDom(e.getBody()),c=e.inline?i:Hu(i),m=o6(e.inline,c,t,o);return n6(c,m.x,m.y)},s6=e=>Q.from(e).map(Fe.fromDom),xT=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return s6(t).map(Ba).getOr(!1)};var r6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const wT=e=>{const t=[],o=()=>{const ee=e.theme;return ee&&ee.getNotificationManagerImpl?ee.getNotificationManagerImpl():r6()},i=()=>Q.from(t[0]),c=(ee,ge)=>ee.type===ge.type&&ee.text===ge.text&&!ee.progressBar&&!ee.timeout&&!ge.progressBar&&!ge.timeout,m=()=>{i().each(ee=>{ee.reposition()})},h=ee=>{t.push(ee)},C=ee=>{An(t,ge=>ge===ee).each(ge=>{t.splice(ge,1)})},A=(ee,ge=!0)=>e.removed||!xT(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:ee}),cn(t,Se=>c(o().getArgs(Se),ee)).getOrThunk(()=>{e.editorManager.setActive(e);const Se=o().open(ee,()=>{C(Se)},()=>Vb(e));return h(Se),m(),e.dispatch("OpenNotification",{notification:{...Se}}),Se})),V=()=>{i().each(ee=>{o().close(ee),C(ee),m()})},Z=et(t);return(ee=>{ee.on("SkinLoaded",()=>{const ge=E8(ee);ge&&A({text:ge,type:"warning",timeout:0},!1),m()}),ee.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ee.on("remove",()=>{pe(t.slice(),ge=>{o().close(ge)})}),ee.addShortcut("alt+F12","Focus to notification",()=>i().map(ge=>Fe.fromDom(ge.getEl())).each(ge=>OA(ge)))})(e),{open:A,close:V,getNotifications:Z}},n1=ol.PluginManager,tv=ol.ThemeManager;var yz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const i6=e=>{let t=[];const o=()=>{const ve=e.theme;return ve&&ve.getWindowManagerImpl?ve.getWindowManagerImpl():yz()},i=(ve,Oe)=>(...He)=>Oe?Oe.apply(ve,He):void 0,c=ve=>{e.dispatch("OpenWindow",{dialog:ve})},m=ve=>{e.dispatch("CloseWindow",{dialog:ve})},h=ve=>{t.push(ve),c(ve)},C=ve=>{m(ve),t=vt(t,Oe=>Oe!==ve),t.length===0&&e.focus()},A=()=>Q.from(t[t.length-1]),V=ve=>{e.editorManager.setActive(e),j0(e),e.ui.show();const Oe=ve();return h(Oe),Oe},Z=(ve,Oe)=>V(()=>o().open(ve,Oe,C)),Y=ve=>V(()=>o().openUrl(ve,C)),ee=(ve,Oe,He)=>{const Qe=o();Qe.alert(ve,i(He||Qe,Oe))},ge=(ve,Oe,He)=>{const Qe=o();Qe.confirm(ve,i(He||Qe,Oe))},Se=()=>{A().each(ve=>{o().close(ve),C(ve)})};return e.on("remove",()=>{pe(t,ve=>{o().close(ve)})}),{open:Z,openUrl:Y,alert:ee,confirm:ge,close:Se}},qS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},YS=(e,t)=>{e._skinLoaded?qS(e,t):e.on("SkinLoaded",()=>{qS(e,t)})},a6=(e,t)=>{YS(e,Lc.translate(["Failed to upload image: {0}",t]))},hy=(e,t,o)=>{gA(e,t,{message:o}),console.error(o)},o1=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,CT=(e,t,o)=>{hy(e,"PluginLoadError",o1("plugin",t,o))},_T=(e,t,o)=>{hy(e,"IconsLoadError",o1("icons",t,o))},xz=(e,t,o)=>{hy(e,"LanguageLoadError",o1("language",t,o))},l6=(e,t,o)=>{hy(e,"ThemeLoadError",o1("theme",t,o))},wz=(e,t,o)=>{hy(e,"ModelLoadError",o1("model",t,o))},Cz=(e,t,o)=>{const i=Lc.translate(["Failed to initialize plugin: {0}",t]);gA(e,"PluginLoadError",{message:i}),Cw(i,o),YS(e,i)},Cw=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},ST=e=>/^[a-z0-9\-]+$/i.test(e),kT=e=>"content/"+e+"/content.css",XS=e=>tinymce.Resource.has(kT(e)),_z=e=>c6(e,Bl(e)),Sz=e=>c6(e,jD(e)),c6=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Be(t,m=>XS(m)?m:ST(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},u6=e=>{e.contentCSS=e.contentCSS.concat(_z(e),Sz(e))},d6=e=>e?vo(e.getElementsByTagName("img")):[],kz=(e,t)=>{const o={};return{findAll:(c,m=_n)=>{const h=vt(d6(c),A=>{const V=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!V||V===Bo.transparentSrc?!1:cr(V,"blob:")?!e.isUploaded(V)&&m(A):cr(V,"data:")?m(A):!1}),C=Be(h,A=>{const V=A.src;if(ao(o,V))return o[V].then(Z=>he(Z)?Z:{image:A,blobInfo:Z.blobInfo});{const Z=b4(t,V).then(Y=>(delete o[V],{image:A,blobInfo:Y})).catch(Y=>(delete o[V],Y));return o[V]=Z,Z}});return Promise.all(C)}}},ET=()=>{let o={};const i=(ee,ge)=>({status:ee,resultUri:ge}),c=ee=>ee in o;return{hasBlobUri:c,getResultUri:ee=>{const ge=o[ee];return ge?ge.resultUri:null},isPending:ee=>c(ee)?o[ee].status===1:!1,isUploaded:ee=>c(ee)?o[ee].status===2:!1,markPending:ee=>{o[ee]=i(1,null)},markUploaded:(ee,ge)=>{o[ee]=i(2,ge)},removeFailed:ee=>{delete o[ee]},destroy:()=>{o={}}}};let _w=0;const f6=()=>{const e=()=>Math.round(yl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Ez=e=>e+_w+++f6(),m6=()=>{let e=[];const t=Y=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Y.toLowerCase()]||"dat",o=(Y,ee,ge,Se,ve)=>{if(he(Y))return i({id:Y,name:Se,filename:ve,blob:ee,base64:ge});if(K(Y))return i(Y);throw new Error("Unknown input type")},i=Y=>{if(!Y.blob||!Y.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ee=Y.id||Ez("blobid"),ge=Y.name||ee,Se=Y.blob;return{id:et(ee),name:et(ge),filename:et(Y.filename||ge+"."+t(Se.type)),blob:et(Se),base64:et(Y.base64),blobUri:et(Y.blobUri||URL.createObjectURL(Se)),uri:et(Y.uri)}},c=Y=>{h(Y.id())||e.push(Y)},m=Y=>cn(e,Y).getOrUndefined(),h=Y=>m(ee=>ee.id()===Y);return{create:o,add:c,get:h,getByUri:Y=>m(ee=>ee.blobUri()===Y),getByData:(Y,ee)=>m(ge=>ge.base64()===Y&&ge.blob().type===ee),findFirst:m,removeByUri:Y=>{e=vt(e,ee=>ee.blobUri()===Y?(URL.revokeObjectURL(ee.blobUri()),!1):!0)},destroy:()=>{pe(e,Y=>{URL.revokeObjectURL(Y.blobUri())}),e=[]}}},g6=(e,t)=>{const o={},i=(ve,Oe)=>ve?ve.replace(/\/$/,"")+"/"+Oe.replace(/^\//,""):Oe,c=(ve,Oe)=>new Promise((He,Qe)=>{const Xe=new XMLHttpRequest;Xe.open("POST",t.url),Xe.withCredentials=t.credentials,Xe.upload.onprogress=Bt=>{Oe(Bt.loaded/Bt.total*100)},Xe.onerror=()=>{Qe("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=()=>{if(Xe.status<200||Xe.status>=300){Qe("HTTP Error: "+Xe.status);return}const Bt=JSON.parse(Xe.responseText);if(!Bt||!he(Bt.location)){Qe("Invalid JSON: "+Xe.responseText);return}He(i(t.basePath,Bt.location))};const dt=new FormData;dt.append("file",ve.blob(),ve.filename()),Xe.send(dt)}),m=Le(t.handler)?t.handler:c,h=()=>new Promise(ve=>{ve([])}),C=(ve,Oe)=>({url:Oe,blobInfo:ve,status:!0}),A=(ve,Oe)=>({url:"",blobInfo:ve,status:!1,error:Oe}),V=(ve,Oe)=>{Xt.each(o[ve],He=>{He(Oe)}),delete o[ve]},Z=(ve,Oe,He)=>(e.markPending(ve.blobUri()),new Promise(Qe=>{let Xe,dt;try{const Bt=()=>{Xe&&(Xe.close(),dt=ct)},Yt=kt=>{Bt(),e.markUploaded(ve.blobUri(),kt),V(ve.blobUri(),C(ve,kt)),Qe(C(ve,kt))},pn=kt=>{Bt(),e.removeFailed(ve.blobUri()),V(ve.blobUri(),A(ve,kt)),Qe(A(ve,kt))};dt=kt=>{kt<0||kt>100||Q.from(Xe).orThunk(()=>Q.from(He).map(oo)).each(bt=>{Xe=bt,bt.progressBar.value(kt)})},Oe(ve,dt).then(Yt,kt=>{pn(he(kt)?{message:kt}:kt)})}catch(Bt){Qe(A(ve,Bt))}})),Y=ve=>ve===c,ee=ve=>{const Oe=ve.blobUri();return new Promise(He=>{o[Oe]=o[Oe]||[],o[Oe].push(He)})},ge=(ve,Oe)=>(ve=Xt.grep(ve,He=>!e.isUploaded(He.blobUri())),Promise.all(Xt.map(ve,He=>e.isPending(He.blobUri())?ee(He):Z(He,m,Oe))));return{upload:(ve,Oe)=>!t.url&&Y(m)?h():ge(ve,Oe)}},h6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),p6=(e,t)=>g6(t,{url:DE(e),basePath:UD(e),credentials:RE(e),handler:_8(e)}),Az=e=>{const t=ET(),o=p6(e,t);return{upload:(i,c=!0)=>o.upload(i,c?h6(e):void 0)}},Tz=(e,t)=>e.dom.isEmpty(t.dom)&&Ee(e.schema.getTextBlockElements()[qo(t)]),v6=e=>t=>{Tz(e,t)&&Wr(t,Fe.fromHtml('<br data-mce-bogus="1" />'))},AT=e=>{const t=m6();let o,i;const c=ET(),m=[],h=Xe=>dt=>e.selection?Xe(dt):[],C=Xe=>Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Xe,dt,Bt)=>{let Yt=0;do Yt=Xe.indexOf(dt,Yt),Yt!==-1&&(Xe=Xe.substring(0,Yt)+Bt+Xe.substr(Yt+dt.length),Yt+=Bt.length-dt.length+1);while(Yt!==-1);return Xe},V=(Xe,dt,Bt)=>{const Yt=`src="${Bt}"${Bt===Bo.transparentSrc?' data-mce-placeholder="1"':""}`;return Xe=A(Xe,`src="${dt}"`,Yt),Xe=A(Xe,'data-mce-src="'+dt+'"','data-mce-src="'+Bt+'"'),Xe},Z=(Xe,dt)=>{pe(e.undoManager.data,Bt=>{Bt.type==="fragmented"?Bt.fragments=Be(Bt.fragments,Yt=>V(Yt,Xe,dt)):Bt.content=V(Bt.content,Xe,dt)})},Y=(Xe,dt)=>{const Bt=e.convertURL(dt,"src");Z(Xe.src,dt),Pa(Fe.fromDom(Xe),{src:gh(e)?C(dt):dt,"data-mce-src":Bt})},ee=()=>(o||(o=p6(e,c)),Oe().then(h(Xe=>{const dt=Be(Xe,Bt=>Bt.blobInfo);return o.upload(dt,h6(e)).then(h(Bt=>{const Yt=[];let pn=!1;const kt=Be(Bt,(bt,Nt)=>{const{blobInfo:Cn,image:Vn}=Xe[Nt];let No=!1;return bt.status&&HD(e)?(bt.url&&!Ns(Vn.src,bt.url)&&(pn=!0),t.removeByUri(Vn.src),vg(e)||Y(Vn,bt.url)):bt.error&&(bt.error.remove&&(Z(Vn.src,Bo.transparentSrc),Yt.push(Vn),No=!0),a6(e,bt.error.message)),{element:Vn,status:bt.status,uploadUri:bt.url,blobInfo:Cn,removed:No}});return Yt.length>0&&!vg(e)?e.undoManager.transact(()=>{pe(au(Yt),bt=>{const Nt=aa(bt);Ds(bt),Nt.each(v6(e)),t.removeByUri(bt.dom.src)})}):pn&&e.undoManager.dispatchChange(),kt}))}))),ge=()=>qs(e)?ee():Promise.resolve([]),Se=Xe=>Do(m,dt=>dt(Xe)),ve=Xe=>{m.push(Xe)},Oe=()=>(i||(i=kz(c,t)),i.findAll(e.getBody(),Se).then(h(Xe=>{const dt=vt(Xe,Bt=>he(Bt)?(YS(e,Bt),!1):Bt.uriType!=="blob");return vg(e)||pe(dt,Bt=>{Z(Bt.image.src,Bt.blobInfo.blobUri()),Bt.image.src=Bt.blobInfo.blobUri(),Bt.image.removeAttribute("data-mce-src")}),dt}))),He=()=>{t.destroy(),c.destroy(),i=o=null},Qe=Xe=>Xe.replace(/src="(blob:[^"]+)"/g,(dt,Bt)=>{const Yt=c.getResultUri(Bt);if(Yt)return'src="'+Yt+'"';let pn=t.getByUri(Bt);return pn||(pn=Vt(e.editorManager.get(),(kt,bt)=>kt||bt.editorUpload&&bt.editorUpload.blobCache.getByUri(Bt),void 0)),pn?'src="data:'+pn.blob().type+";base64,"+pn.base64()+'"':dt});return e.on("SetContent",()=>{qs(e)?ge():Oe()}),e.on("RawSaveContent",Xe=>{Xe.content=Qe(Xe.content)}),e.on("GetContent",Xe=>{Xe.source_view||Xe.format==="raw"||Xe.format==="tree"||(Xe.content=Qe(Xe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Xe=>{pe(Xe,dt=>{const Bt=dt.attr("src");if(!Bt||t.getByUri(Bt))return;const Yt=c.getResultUri(Bt);Yt&&dt.attr("src",Yt)})})}),{blobCache:t,addFilter:ve,uploadImages:ee,uploadImagesAuto:ge,scanForImages:Oe,destroy:He}},b6=e=>{const t=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,m]:[c,h,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,h)=>En(c)&&c.hasAttribute("href"),onformat:(c,m,h)=>{Xt.each(h,(C,A)=>{t.setAttrib(c,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},TT={remove_similar:!0,inherit:!1},s1={selector:"td,th",...TT},y6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...s1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...s1},tablecellbordercolor:{styles:{borderColor:"%value"},...s1},tablecellclass:{classes:["%value"],...s1},tableclass:{selector:"table",classes:["%value"],...TT},tablecellborderstyle:{styles:{borderStyle:"%value"},...s1},tablecellborderwidth:{styles:{borderWidth:"%value"},...s1}},Oz=et(y6),OT=e=>{const t={},o=h=>Ee(h)?t[h]:t,i=h=>ao(t,h),c=(h,C)=>{h&&(he(h)?(ae(C)||(C=[C]),pe(C,A=>{qe(A.deep)&&(A.deep=!Uc(A)),qe(A.split)&&(A.split=!Uc(A)||ha(A)),qe(A.remove)&&Uc(A)&&!ha(A)&&(A.remove="none"),Uc(A)&&ha(A)&&(A.mixed=!0,A.block_expand=!0),he(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[h]=C):rs(h,(A,V)=>{c(V,A)}))},m=h=>(h&&t[h]&&delete t[h],t);return c(b6(e)),c(Oz()),c(T8(e)),{get:o,has:i,register:c,unregister:m}},r1=Xt.each,mc=Gs.DOM,em=e=>Ee(e)&&K(e),Sw=(e,t)=>{const o=t&&t.schema||Bc({}),i=(A,V)=>{V.classes.length>0&&mc.addClass(A,V.classes.join(" ")),mc.setAttribs(A,V.attrs)},c=A=>{const V=he(A)?{name:A,classes:[],attrs:{}}:A,Z=mc.create(V.name);return i(Z,V),Z},m=(A,V)=>{const Z=o.getElementRule(A.nodeName.toLowerCase()),Y=Z==null?void 0:Z.parentsRequired;return Y&&Y.length?V&&ie(Y,V)?V:Y[0]:!1},h=(A,V,Z)=>{let Y;const ee=V[0],ge=em(ee)?ee.name:void 0,Se=m(A,ge);if(Se)ge===Se?(Y=ee,V=V.slice(1)):Y=Se;else if(ee)Y=ee,V=V.slice(1);else if(!Z)return A;const ve=Y?c(Y):mc.create("div");ve.appendChild(A),Z&&Xt.each(Z,He=>{const Qe=c(He);ve.insertBefore(Qe,A)});const Oe=em(Y)?Y.siblings:void 0;return h(ve,V,Oe)},C=mc.create("div");if(e.length>0){const A=e[0],V=c(A),Z=em(A)?A.siblings:void 0;C.appendChild(h(V,e.slice(1),Z))}return C},py=e=>{e=Xt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,m,h,C)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":Xt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(h==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},x6=e=>he(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Xt.map(t.split(/(?:~\+|~|\+)/),py),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],w6=(e,t)=>{let o="",i=O8(e);if(i==="")return"";const c=ee=>he(ee)?ee.replace(/%(\w+)/g,""):"",m=(ee,ge)=>mc.getStyle(ge??e.getBody(),ee,!0);if(he(t)){const ee=e.formatter.get(t);if(!ee)return"";t=ee[0]}if("preview"in t){const ee=t.preview;if(ee===!1)return"";i=ee||i}let h=t.block||t.inline||"span",C;const A=x6(t.selector);A.length>0?(A[0].name||(A[0].name=h),h=t.selector,C=Sw(A,e)):C=Sw([h],e);const V=mc.select(h,C)[0]||C.firstChild;r1(t.styles,(ee,ge)=>{const Se=c(ee);Se&&mc.setStyle(V,ge,Se)}),r1(t.attributes,(ee,ge)=>{const Se=c(ee);Se&&mc.setAttrib(V,ge,Se)}),r1(t.classes,ee=>{const ge=c(ee);mc.hasClass(V,ge)||mc.addClass(V,ge)}),e.dispatch("PreviewFormats"),mc.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const Z=m("fontSize"),Y=/px$/.test(Z)?parseInt(Z,10):0;return r1(i.split(" "),ee=>{let ge=m(ee,V);if(!(ee==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=m(ee),qv(ge).toLowerCase()==="#ffffff"))&&!(ee==="color"&&qv(ge).toLowerCase()==="#000000")){if(ee==="font-size"&&/em|%$/.test(ge)){if(Y===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*Y+"px"}ee==="border"&&ge&&(o+="padding:0 2px;"),o+=ee+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),mc.remove(C),o},DT=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},kw=e=>{const t=OT(e),o=Ri({});return DT(e),fN(e),vg(e)||ON(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(i,c,m)=>{er(e,i,c,m)},remove:(i,c,m,h)=>{OP(e,i,c,m,h)},toggle:(i,c,m)=>{rT(e,i,c,m)},match:(i,c,m,h)=>KV(e,i,c,m,h),closest:i=>XV(e,i),matchAll:(i,c)=>GV(e,i,c),matchNode:(i,c,m,h)=>qV(e,i,c,m,h),canApply:i=>YV(e,i),formatChanged:(i,c,m,h)=>DP(e,o,i,c,m,h),getCssText:tt(w6,e)}},Oh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},i1=(e,t,o)=>{const i=Ri(!1),c=A=>{pw(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const V=A.command;Oh(V)||(J4(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const V=A.command;Oh(V)||c(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const V=A.keyCode;if(A.isDefaultPrevented())return;const Z=Bo.os.isMacOS()&&A.key==="Meta";(V>=33&&V<=36||V>=37&&V<=40||V===45||A.ctrlKey||Z)&&(c(),e.nodeChanged()),(V===46||V===8)&&e.nodeChanged(),i.get()&&t.typing&&!fy(dy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const V=A.keyCode;if(A.isDefaultPrevented())return;if(V>=33&&V<=36||V>=37&&V<=40||V===45){t.typing&&c(A);return}const Z=A.ctrlKey&&!A.altKey||A.metaKey;if((V<16||V>20)&&V!==224&&V!==91&&!t.typing&&!Z){t.beforeChange(),pw(t,!0,o),t.add({},A),i.set(!0);return}(Bo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",h=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||h(A)||C(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},C6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},_6=e=>{const t=Ii(),o=Ri(0),i=Ri(0),c={data:[],typing:!1,beforeChange:()=>{my(e,o,t)},add:(m,h)=>zV(e,c,i,o,t,m,h),dispatchChange:()=>{e.setDirty(!0);const m=dy(e);m.bookmark=yn(e.selection),e.dispatch("change",{level:m,lastLevel:Ar(c.data,i.get()).getOrUndefined()})},undo:()=>HV(e,c,o,i),redo:()=>AP(e,i,c.data),clear:()=>{TP(e,c,i)},reset:()=>{jS(e,c)},hasUndo:()=>$V(e,c,i),hasRedo:()=>UV(e,c,i),transact:m=>WV(e,c,o,m),ignore:m=>{ZV(e,o,m)},extra:(m,h)=>{jV(e,c,i,m,h)}};return vg(e)||i1(e,c,o),C6(e),c},S6=[9,27,dn.HOME,dn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dn.DOWN,dn.UP,dn.LEFT,dn.RIGHT].concat(Bo.browser.isFirefox()?[224]:[]),k6="data-mce-placeholder",E6=e=>e.type==="keydown"||e.type==="keyup",A6=e=>{const t=e.keyCode;return t===dn.BACKSPACE||t===dn.DELETE},RT=e=>{if(E6(e)){const t=e.keyCode;return!A6(e)&&(dn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ie(S6,t))}else return!1},T6=e=>E6(e)&&!(A6(e)||e.type==="keyup"&&e.keyCode===229),Dz=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const i=t.firstElementChild;return i?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},O6=e=>{var t;const o=e.dom,i=rl(e),c=(t=NE(e))!==null&&t!==void 0?t:"",m=(h,C)=>{if(RT(h))return;const A=e.getBody(),V=T6(h)?!1:Dz(o,A,i);(o.getAttrib(A,k6)!==""!==V||C)&&(o.setAttrib(A,k6,V?c:null),aR(e,V),e.on(V?"keydown":"keyup",m),e.off(V?"keyup":"keydown",m))};Je(c)&&e.on("init",h=>{m(h,!0),e.on("change SetContent ExecCommand",m),e.on("paste",C=>Zc.setEditorTimeout(e,()=>m(C)))})},Rz=(e,t)=>({block:e,position:t}),IT=(e,t)=>({from:e,to:t}),NT=(e,t)=>{const o=Fe.fromDom(e),i=Fe.fromDom(t.container());return X2(o,i).map(c=>Rz(c,t))},D6=e=>!(ia(e.to.block,e.from.block)||ia(e.from.block,e.to.block)),PT=e=>!Yo(e.from.block,e.to.block),MT=(e,t)=>hi(t,c=>Fc(c)||Ic(c.dom),c=>Yo(c,e)).filter($r).getOr(e),BT=(e,t)=>{const o=Fe.fromDom(e);return Yo(MT(o,t.from.block),MT(o,t.to.block))},Iz=e=>fo(e.from.block.dom)===!1&&fo(e.to.block.dom)===!1,R6=e=>{const t=o=>ab(o)||ji(o.dom)||Km(o);return t(e.from.block)&&t(e.to.block)},Nz=(e,t,o,i)=>pr(i.position.getNode())&&!jr(e,i.block)?L0(!1,i.block.dom).bind(c=>c.isEqual(i.position)?yu(o,t,c).bind(m=>NT(t,m)):Q.some(i)).getOr(i):i,I6=(e,t,o,i)=>{const c=NT(t,xt.fromRangeStart(i)),m=c.bind(h=>yu(o,t,h.position).bind(C=>NT(t,C).map(A=>Nz(e,t,o,A))));return sa(c,m,IT).filter(h=>PT(h)&&BT(t,h)&&Iz(h)&&R6(h)&&D6(h))},N6=(e,t,o,i)=>i.collapsed?I6(e,t,o,i):Q.none(),Pz=(e,t)=>{const o=la(e);return An(o,i=>t.isBlock(qo(i))).fold(et(o),i=>o.slice(0,i))},P6=(e,t)=>{const o=Pz(e,t);return pe(o,Ds),o},M6=(e,t,o)=>{const i=jc(o,t);return cn(i.reverse(),c=>jr(e,c)).each(Ds)},Mz=(e,t)=>vt(Uu(t),o=>!jr(e,o)).length===0,Bz=(e,t,o,i,c)=>{if(jr(i,o))return Vc(o),Qn(o.dom);Mz(i,c)&&jr(i,t)&&Dr(c,Fe.fromTag("br"));const m=$c(o.dom,xt.before(c.dom));return pe(P6(t,i),h=>{Dr(c,h)}),M6(i,e,t),m},a1=(e,t)=>e.isInline(qo(t)),B6=(e,t,o,i)=>{if(jr(i,o)){if(jr(i,t)){const h=Ft((C=>{const A=(V,Z)=>Ml(V).fold(()=>Z,Y=>a1(i,Y)?A(Y,Z.concat(qr(Y))):Z);return A(C,[])})(o),(C,A)=>(Zl(C,A),A),Ud());Qs(t),Wr(t,h)}return Ds(o),Qn(t.dom)}const c=td(o.dom);return pe(P6(t,i),m=>{Wr(o,m)}),M6(i,e,t),c},L6=(e,t)=>{const o=jc(t,e);return Q.from(o[o.length-1])},F6=(e,t)=>ia(t,e)?L6(t,e):Q.none(),V6=(e,t)=>{L0(e,t.dom).bind(o=>Q.from(o.getNode())).map(Fe.fromDom).filter(Qu).each(Ds)},z6=(e,t,o,i)=>(V6(!0,t),V6(!1,o),F6(t,o).fold(tt(B6,e,t,o,i),tt(Bz,e,t,o,i))),Dh=(e,t,o,i,c)=>t?z6(e,i,o,c):z6(e,o,i,c),JS=(e,t)=>{const o=Fe.fromDom(e.getBody());return N6(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{Dh(o,t,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},QS=(e,t,o)=>{const i=t.getRng();return sa(X2(e,Fe.fromDom(i.startContainer)),X2(e,Fe.fromDom(i.endContainer)),(c,m)=>Yo(c,m)?Q.none():Q.some(()=>{i.deleteContents(),Dh(e,!0,c,m,o).each(h=>{t.setRng(h.toRange())})})).getOr(Q.none())},H6=(e,t)=>{const o=Fe.fromDom(t),i=tt(Yo,e);return Qa(o,Fc,i).isSome()},$6=(e,t)=>H6(e,t.startContainer)||H6(e,t.endContainer),Lz=(e,t)=>{const o=$c(e.dom,xt.fromRangeStart(t)).isNone(),i=Gl(e.dom,xt.fromRangeEnd(t)).isNone();return!$6(e,t)&&o&&i},Fz=e=>Q.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),LT=e=>{const t=Fe.fromDom(e.getBody()),o=e.selection.getRng();return Lz(t,o)?Fz(e):QS(t,e.selection,e.schema)},FT=(e,t)=>e.selection.isCollapsed()?Q.none():LT(e),Mr=(e,t,o,i,c)=>Q.from(t._selectionOverrides.showCaret(e,o,i,c)),Vz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Ew=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?Q.none():Q.some(Vz(t)),VT=(e,t,o)=>{const i=YE(1,e.getBody(),t),c=xt.fromRangeStart(i),m=c.getNode();if(s2(m))return Mr(1,e,m,!c.isAtEnd(),!1);const h=c.getNode(!0);if(s2(h))return Mr(1,e,h,!1,!1);const C=cd(e.dom.getRoot(),c.getNode());return s2(C)?Mr(1,e,C,!1,o):Q.none()},ek=(e,t,o)=>t.collapsed?VT(e,t,o).getOr(t):t,zT=e=>Mi(e)||$b(e),zz=e=>Jf(e)||X0(e),Hz=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},U6=(e,t,o,i,c,m)=>{Mr(i,e,m.getNode(!c),c,!0).each(h=>{if(t.collapsed){const C=t.cloneRange();c?C.setEnd(h.startContainer,h.startOffset):C.setStart(h.endContainer,h.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(h)}),Hz(e.dom,o)},$z=(e,t)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return Q.none();const i=t?$a.Forwards:$a.Backwards,c=qn(e.getBody()),m=tt(XE,t?c.next:c.prev),h=t?zT:zz,C=c2(i,e.getBody(),o),A=m(C),V=A&&ld(t,A);if(!V||!n_(C,V))return Q.none();if(h(V))return Q.some(()=>U6(e,o,C.getNode(),i,t,V));const Z=m(V);return Z&&h(Z)&&n_(V,Z)?Q.some(()=>U6(e,o,C.getNode(),i,t,Z)):Q.none()},HT=(e,t)=>$z(e,t),$T=(e,t)=>{const o=e.getBody();return t?Qn(o).filter(Mi):td(o).filter(Jf)},UT=e=>{const t=e.selection.getRng();return!t.collapsed&&($T(e,!0).exists(o=>o.isEqual(xt.fromRangeStart(t)))||$T(e,!1).exists(o=>o.isEqual(xt.fromRangeEnd(t))))},vy=e=>Ee(e)&&(Fc(Fe.fromDom(e))||Km(Fe.fromDom(e))),qi=Go.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Uz=(e,t)=>{const o=t.getNode(!e),i=e?"after":"before";return En(o)&&o.getAttribute("data-mce-caret")===i},Wz=(e,t,o,i,c)=>{const m=h=>c.isInline(h.nodeName.toLowerCase())&&!tg(o,i,e);return k5(!t,o).fold(()=>k5(t,i).fold(fn,m),m)},W6=(e,t,o,i,c)=>{const m=c.getNode(!o);return X2(Fe.fromDom(t),Fe.fromDom(i.getNode())).map(h=>jr(e,h)?qi.remove(h.dom):qi.moveToElement(m)).orThunk(()=>Q.some(qi.moveToElement(m)))},Z6=(e,t,o,i)=>yu(t,e,o).bind(c=>vy(c.getNode())||Wz(e,t,o,c,i)?Q.none():t&&fo(c.getNode())||!t&&fo(c.getNode(!0))?W6(i,e,t,o,c):t&&Jf(o)||!t&&Mi(o)?Q.some(qi.moveToPosition(c)):Q.none()),Zz=(e,t)=>st(t)?Q.none():e&&fo(t.nextSibling)?Q.some(qi.moveToElement(t.nextSibling)):!e&&fo(t.previousSibling)?Q.some(qi.moveToElement(t.previousSibling)):Q.none(),jz=(e,t,o)=>o.fold(i=>Q.some(qi.remove(i)),i=>Q.some(qi.moveToElement(i)),i=>tg(t,i,e)?Q.none():Q.some(qi.moveToPosition(i))),Kz=(e,t,o,i)=>Uz(t,o)?Zz(t,o.getNode(!t)).orThunk(()=>Z6(e,t,o,i)):Z6(e,t,o,i).bind(c=>jz(e,o,c)),Gz=(e,t,o,i)=>{const c=YE(t?1:-1,e,o),m=xt.fromRangeStart(c),h=Fe.fromDom(e);return!t&&Jf(m)?Q.some(qi.remove(m.getNode(!0))):t&&Mi(m)?Q.some(qi.remove(m.getNode())):!t&&Mi(m)&&Wb(h,m,i)?$_(h,m,i).map(C=>qi.remove(C.getNode())):t&&Jf(m)&&j2(h,m,i)?gI(h,m,i).map(C=>qi.remove(C.getNode())):Kz(e,t,m,i)},qz=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Cl(e,t,Fe.fromDom(o)),!0),Yz=(e,t)=>o=>{const i=t?xt.before(o):xt.after(o);return e.selection.setRng(i.toRange()),!0},Xz=e=>t=>(e.selection.setRng(t.toRange()),!0),j6=(e,t)=>Q.from(cd(e.getBody(),t)),Jz=(e,t)=>{const o=e.selection.getNode();return j6(e,o).filter(fo).fold(()=>Gz(e.getBody(),t,e.selection.getRng(),e.schema).map(i=>()=>i.fold(qz(e,t),Yz(e,t),Xz(e))),()=>Q.some(ct))},Qz=e=>{pe(pi(e,".mce-offscreen-selection"),Ds)},e9=(e,t)=>{const o=e.selection.getNode();return fo(o)&&!lp(o)?j6(e,o.parentNode).filter(fo).fold(()=>Q.some(()=>{Qz(Fe.fromDom(e.getBody())),Cl(e,t,Fe.fromDom(e.selection.getNode())),K_(e)}),()=>Q.some(ct)):UT(e)?Q.some(()=>{G_(e,e.selection.getRng(),Fe.fromDom(e.getBody()))}):Q.none()},K6=e=>{const t=e.dom,o=e.selection,i=cd(e.getBody(),o.getNode());if(Ic(i)&&t.isBlock(i)&&t.isEmpty(i)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(c),o.setRng(xt.before(c).toRange())}return!0},WT=(e,t)=>e.selection.isCollapsed()?Jz(e,t):e9(e,t),G6=e=>e.hasOwnProperty("text"),q6=e=>e.hasOwnProperty("marker"),Y6=(e,t)=>{const o=(m,h)=>{if(Ut(m))return{text:m,offset:h};{const C=t(),A=m.childNodes;return h<A.length?(m.insertBefore(C,A[h]),{marker:C,before:!0}):(m.appendChild(C),{marker:C,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},X6=e=>{var t,o;const{start:i,end:c}=e,m=new window.Range;return G6(i)?m.setStart(i.text,i.offset):q6(i)&&(i.before?m.setStartBefore(i.marker):m.setStartAfter(i.marker),(t=i.marker.parentNode)===null||t===void 0||t.removeChild(i.marker)),G6(c)?m.setEnd(c.text,c.offset):q6(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},ZT=(e,t)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),m=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===h.firstChild&&m===h.lastChild&&!i.isEmpty(h)){const A=c.cloneNode(!1),V=()=>{if(t?g3(e):j_(e),h.firstChild!==c){const Z=Y6(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(Y=>A.appendChild(Y)),h.appendChild(A),e.selection.setRng(X6(Z))}};return Q.some(V)}return Q.none()},t9=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return yu(t,e.getBody(),o).filter(i=>t?lI(i):cI(i)).bind(i=>e_(t?0:-1,i)).map(i=>()=>e.selection.select(i))},jT=(e,t)=>e.selection.isCollapsed()?t9(e,t):Q.none(),by=Ut,J6=e=>by(e)&&e.data[0]===_i,Q6=e=>by(e)&&e.data[e.data.length-1]===_i,eM=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(_i)},n9=e=>{var t;if(by(e.previousSibling))return Q6(e.previousSibling)||e.previousSibling.appendData(_i),e.previousSibling;if(by(e))return J6(e)||e.insertData(0,_i),e;{const o=eM(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},o9=e=>{var t,o;if(by(e.nextSibling))return J6(e.nextSibling)||e.nextSibling.insertData(0,_i),e.nextSibling;if(by(e))return Q6(e)||e.appendData(_i),e;{const i=eM(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},tk=(e,t)=>e?n9(t):o9(t),tM=tt(tk,!0),s9=tt(tk,!1),nM=(e,t)=>Ut(e.container())?tk(t,e.container()):tk(t,e.getNode()),oM=(e,t)=>{const o=t.get();return o&&e.container()===o&&Gm(o)},KT=(e,t)=>t.fold(o=>{Ep(e.get());const i=tM(o);return e.set(i),Q.some(xt(i,i.length-1))},o=>Qn(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,1)}else{Ep(e.get());const c=nM(i,!0);return e.set(c),xt(c,1)}}),o=>td(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,c.length-1)}else{Ep(e.get());const c=nM(i,!1);return e.set(c),xt(c,c.length-1)}}),o=>{Ep(e.get());const i=s9(o);return e.set(i),Q.some(xt(i,1))}),sM=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,t);if(i.isSome())return i}return Q.none()},Yl=Go.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),rM=(e,t)=>{const o=Ap(t,e);return o||e},r9=(e,t,o)=>{const i=NI(o),c=rM(t,i.container());return Hp(e,c,i).fold(()=>Gl(c,i).bind(tt(Hp,e,c)).map(m=>Yl.before(m)),Q.none)},iM=(e,t)=>Tp(e,t)===null,aM=(e,t,o)=>Hp(e,t,o).filter(tt(iM,t)),i9=(e,t,o)=>{const i=ny(o);return aM(e,t,i).bind(c=>$c(c,i).isNone()?Q.some(Yl.start(c)):Q.none())},a9=(e,t,o)=>{const i=NI(o);return aM(e,t,i).bind(c=>Gl(c,i).isNone()?Q.some(Yl.end(c)):Q.none())},l9=(e,t,o)=>{const i=ny(o),c=rM(t,i.container());return Hp(e,c,i).fold(()=>$c(c,i).bind(tt(Hp,e,c)).map(m=>Yl.after(m)),Q.none)},lM=e=>!q2(GT(e)),bg=(e,t,o)=>sM([r9,i9,a9,l9],[e,t,o]).filter(lM),GT=e=>e.fold(pt,pt,pt,pt),cM=e=>e.fold(et("before"),et("start"),et("end"),et("after")),Aw=e=>e.fold(Yl.before,Yl.before,Yl.after,Yl.after),nk=e=>e.fold(Yl.start,Yl.start,Yl.end,Yl.end),c9=(e,t)=>cM(e)===cM(t)&&GT(e)===GT(t),uM=(e,t,o,i,c,m)=>sa(Hp(t,o,i),Hp(t,o,c),(h,C)=>h!==C&&II(o,h,C)?Yl.after(e?h:C):m).getOr(m),u9=(e,t)=>e.fold(_n,o=>!c9(o,t)),d9=(e,t,o,i,c)=>{const m=ld(e,c);return yu(e,o,m).map(tt(ld,e)).fold(()=>i.map(Aw),A=>bg(t,o,A).map(tt(uM,e,t,o,m,A)).filter(tt(u9,i))).filter(lM)},f9=(e,t)=>e?t.fold($t(Q.some,Yl.start),Q.none,$t(Q.some,Yl.after),Q.none):t.fold(Q.none,$t(Q.some,Yl.before),Q.none,$t(Q.some,Yl.end)),m9=(e,t,o,i)=>{const c=ld(e,i),m=bg(t,o,c);return bg(t,o,c).bind(tt(f9,e)).orThunk(()=>d9(e,t,o,m,i))},g9=e=>Le(e.selection.getSel().modify),dM=(e,t,o)=>{const i=e?1:-1;return t.setRng(xt(o.container(),o.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},qT=(e,t)=>{const o=t.selection.getRng(),i=e?xt.fromRangeEnd(o):xt.fromRangeStart(o);return g9(t)?e&&ub(i)?dM(!0,t.selection,i):!e&&x0(i)?dM(!1,t.selection,i):!1:!1};var tf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(tf||(tf={}));const ok=(e,t)=>e===$a.Backwards?$o(t):t,fM=(e,t,o)=>e===$a.Forwards?t.next(o):t.prev(o),h9=(e,t,o,i)=>pr(i.getNode(t===$a.Forwards))?tf.Br:tg(o,i)===!1?tf.Block:tf.Wrap,mM=(e,t,o,i)=>{const c=qn(o);let m=i;const h=[];for(;m;){const C=fM(t,c,m);if(!C)break;if(pr(C.getNode(!1)))return t===$a.Forwards?{positions:ok(t,h).concat([C]),breakType:tf.Br,breakAt:Q.some(C)}:{positions:ok(t,h),breakType:tf.Br,breakAt:Q.some(C)};if(!C.isVisible()){m=C;continue}if(e(m,C)){const A=h9(o,t,m,C);return{positions:ok(t,h),breakType:A,breakAt:Q.some(C)}}h.push(C),m=C}return{positions:ok(t,h),breakType:tf.Eol,breakAt:Q.none()}},gM=(e,t,o,i)=>t(o,i).breakAt.map(c=>{const m=t(o,c).positions;return e===$a.Backwards?m.concat(c):[c].concat(m)}).getOr([]),YT=(e,t)=>Vt(e,(o,i)=>o.fold(()=>Q.some(i),c=>sa(hn(c.getClientRects()),hn(i.getClientRects()),(m,h)=>{const C=Math.abs(t-m.left);return Math.abs(t-h.left)<=C?i:c}).or(o)),Q.none()),sk=(e,t)=>hn(t.getClientRects()).bind(o=>YT(e,o.left)),Tw=tt(mM,xt.isAbove,-1),Ow=tt(mM,xt.isBelow,1),hM=tt(gM,-1,Tw),rk=tt(gM,1,Ow),pM=(e,t)=>Tw(e,t).breakAt.isNone(),vM=(e,t)=>Ow(e,t).breakAt.isNone(),p9=e=>Qn(e).map(t=>[t].concat(Ow(e,t).positions)).getOr([]),bM=e=>td(e).map(t=>Tw(e,t).positions.concat(t)).getOr([]),l1=(e,t)=>sk(hM(e,t),t),v9=(e,t)=>sk(rk(e,t),t),b9=fo,yM=(e,t)=>Math.abs(e.left-t),gc=(e,t)=>Math.abs(e.right-t),xM=e=>Wl(e,"node"),wM=(e,t)=>dl(e,(o,i)=>{const c=Math.min(yM(o,t),gc(o,t)),m=Math.min(yM(i,t),gc(i,t));return m===c&&xM(i)&&b9(i.node)||m<c?i:o}),y9=e=>{const t=o=>Be(o,i=>{const c=Lf(i);return c.node=e,c});if(En(e))return t(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},CM=e=>wo(e,y9);var Dw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Dw||(Dw={}));const x9=(e,t,o,i)=>{let c=i;for(;c=i2(c,e,pb,t);)if(o(c))return},XT=(e,t,o,i,c,m)=>{let h=0;const C=[],A=Y=>{let ee=CM([Y]);e===-1&&(ee=ee.reverse());for(let ge=0;ge<ee.length;ge++){const Se=ee[ge];if(!o(Se,V)){if(C.length>0&&t(Se,Ca(C))&&h++,Se.line=h,c(Se))return!0;C.push(Se)}}return!1},V=Ca(m.getClientRects());if(!V)return C;const Z=m.getNode();return Z&&(A(Z),x9(e,i,A,Z)),C},w9=(e,t)=>t.line>e,C9=(e,t)=>t.line===e,_9=tt(XT,Dw.Up,zf,dh),S9=tt(XT,Dw.Down,dh,zf),_M=e=>Ca(e.getClientRects()),yy=(e,t,o,i)=>{const c=qn(t);let m,h,C,A;const V=[];let Z=0;e===1?(m=c.next,h=dh,C=zf,A=xt.after(i)):(m=c.prev,h=zf,C=dh,A=xt.before(i));const Y=_M(A);do{if(!A.isVisible())continue;const ee=_M(A);if(C(ee,Y))continue;V.length>0&&h(ee,Ca(V))&&Z++;const ge=Lf(ee);if(ge.position=A,ge.line=Z,o(ge))return V;V.push(ge)}while(A=m(A));return V},JT=e=>t=>w9(e,t),xy=e=>t=>C9(e,t),tm=(e,t)=>{e.selection.setRng(t),sd(e,e.selection.getRng())},ik=(e,t,o)=>Q.some(ek(e,t,o)),QT=(e,t,o,i,c,m)=>{const h=t===$a.Forwards,C=qn(e.getBody()),A=tt(XE,h?C.next:C.prev),V=h?i:c;if(!o.collapsed){const Se=wp(o);if(m(Se))return Mr(t,e,Se,t===$a.Backwards,!1);if(UT(e)){const ve=o.cloneRange();return ve.collapse(t===$a.Backwards),Q.from(ve)}}const Z=c2(t,e.getBody(),o);if(V(Z))return Ew(e,Z.getNode(!h));let Y=A(Z);const ee=uh(o);if(Y)Y=ld(h,Y);else return ee?Q.some(o):Q.none();if(V(Y))return Mr(t,e,Y.getNode(!h),h,!1);const ge=A(Y);return ge&&V(ge)&&n_(Y,ge)?Mr(t,e,ge.getNode(!h),h,!1):ee?ik(e,Y.toRange(),!1):Q.none()},SM=(e,t,o,i,c,m)=>{const h=c2(t,e.getBody(),o),C=Ca(h.getClientRects()),A=t===Dw.Down,V=e.getBody();if(!C)return Q.none();if(UT(e)){const Oe=A?xt.fromRangeEnd(o):xt.fromRangeStart(o);return(A?v9:l1)(V,Oe).orThunk(()=>Q.from(Oe)).map(Qe=>Qe.toRange())}const Y=(A?S9:_9)(V,JT(1),h),ee=vt(Y,xy(1)),ge=C.left,Se=wM(ee,ge);if(Se&&m(Se.node)){const Oe=Math.abs(ge-Se.left),He=Math.abs(ge-Se.right);return Mr(t,e,Se.node,Oe<He,!1)}let ve;if(i(h)?ve=h.getNode():c(h)?ve=h.getNode(!0):ve=wp(o),ve){const Oe=yy(t,V,JT(1),ve);let He=wM(vt(Oe,xy(1)),ge);if(He||(He=Ca(vt(Oe,xy(0))),He))return ik(e,He.position.toRange(),!1)}return ee.length===0?ak(e,A).filter(A?c:i).map(Oe=>ek(e,Oe.toRange(),!1)):Q.none()},ak=(e,t)=>{const o=e.selection.getRng(),i=t?xt.fromRangeEnd(o):xt.fromRangeStart(o),c=Y8(i.container(),e.getBody());if(t){const m=Ow(c,i);return Eo(m.positions)}else{const m=Tw(c,i);return hn(m.positions)}},kM=(e,t,o)=>ak(e,t).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),Rw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},eO=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},tO=(e,t,o)=>KT(t,o).map(i=>(Rw(e,i),o)),EM=(e,t,o)=>{const i=xt.fromRangeStart(e);if(e.collapsed)return i;{const c=xt.fromRangeEnd(e);return o?$c(t,c).getOr(c):Gl(t,i).getOr(i)}},AM=(e,t,o)=>{const i=e.getBody(),c=EM(e.selection.getRng(),i,o),m=tt(jb,e);return m9(o,m,i,c).bind(C=>tO(e,t,C))},TM=(e,t,o)=>{const i=Be(pi(Fe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=vt(i,e),m=vt(o,e);pe(cs(c,m),tt(eO,!1)),pe(cs(m,c),tt(eO,!0))},nO=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=xt.fromRangeStart(e.selection.getRng());xt.isTextPosition(i)&&!f3(i)&&(Rw(e,K8(o,i)),t.set(null))}},OM=(e,t,o,i)=>{if(t.selection.isCollapsed()){const c=vt(i,e);pe(c,m=>{const h=xt.fromRangeStart(t.selection.getRng());bg(e,t.getBody(),h).bind(C=>tO(t,o,C))})}},oO=(e,t,o)=>P0(e)?AM(e,t,o).isSome():!1,sO=(e,t,o)=>P0(t)?qT(e,t):!1,DM=e=>{const t=Ri(null),o=tt(jb,e);return e.on("NodeChange",i=>{P0(e)&&(TM(o,e.dom,i.parents),nO(e,t),OM(o,e,t,i.parents))}),t},RM=tt(sO,!0),IM=tt(sO,!1),Iw=(e,t,o)=>{if(P0(e)){const i=ak(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?xt.fromRangeEnd(c):xt.fromRangeStart(c)});return bg(tt(jb,e),e.getBody(),i).exists(c=>{const m=Aw(c);return KT(o,m).exists(h=>(Rw(e,h),!0))})}else return!1},rO=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},iO=e=>sa(Qn(e),td(e),(t,o)=>{const i=ld(!0,t),c=ld(!1,o);return Gl(e,i).forall(m=>m.isEqual(c))}).getOr(!0),Nw=(e,t)=>o=>KT(t,o).map(i=>()=>Rw(e,i)),aO=(e,t,o,i)=>{const c=e.getBody(),m=tt(jb,e);e.undoManager.ignore(()=>{e.selection.setRng(rO(o,i)),j_(e),bg(m,c,xt.fromRangeStart(e.selection.getRng())).map(nk).bind(Nw(e,t)).each(Fn)}),e.nodeChanged()},NM=(e,t)=>{const o=Ap(t,e);return o||e},PM=(e,t,o,i)=>{const c=NM(e.getBody(),i.container()),m=tt(jb,e),h=bg(m,c,i);return h.bind(A=>o?A.fold(et(Q.some(nk(A))),Q.none,et(Q.some(Aw(A))),Q.none):A.fold(Q.none,et(Q.some(Aw(A))),Q.none,et(Q.some(nk(A))))).map(Nw(e,t)).getOrThunk(()=>{const A=Ob(o,c,i),V=A.bind(Z=>bg(m,c,Z));return sa(h,V,()=>Hp(m,c,i).bind(Z=>iO(Z)?Q.some(()=>{Cl(e,o,Fe.fromDom(Z))}):Q.none())).getOrThunk(()=>V.bind(()=>A.map(Z=>()=>{o?aO(e,t,i,Z):aO(e,t,Z,i)})))})},Pw=(e,t,o)=>{if(e.selection.isCollapsed()&&P0(e)){const i=xt.fromRangeStart(e.selection.getRng());return PM(e,t,o,i)}return Q.none()},MM=e=>Nd(e)>1,lO=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=Fe.fromDom(e.selection.getStart()),c=jc(i,o);return An(c,t).fold(et(c),m=>c.slice(0,m))},BM=e=>Nd(e)===1,k9=e=>lO(e,t=>e.schema.isBlock(qo(t))||MM(t)),LM=e=>lO(e,t=>e.schema.isBlock(qo(t))),cO=(e,t)=>{const o=tt(ry,e);return wo(t,i=>o(i)?[i.dom]:[])},Mw=e=>{const t=LM(e);return cO(e,t)},FM=(e,t,o,i)=>{const c=cO(t,i);if(c.length===0)Cl(t,e,o);else{const m=Y3(o.dom,c);t.selection.setRng(m.toRange())}},VM=(e,t)=>{const o=vt(k9(e),BM);return Eo(o).bind(i=>{const c=xt.fromRangeStart(e.selection.getRng());return BI(t,c,i.dom)&&!f_(i)?Q.some(()=>FM(t,e,i,o)):Q.none()})},uO=(e,t)=>{const o=t.parentElement;return pr(t)&&!Ue(o)&&e.dom.isEmpty(o)},E9=e=>f_(Fe.fromDom(e)),dO=(e,t)=>{const o=e.selection.getStart(),i=uO(e,o)||E9(o)?Y3(o,t):P7(e.selection.getRng(),t);e.selection.setRng(i.toRange())},A9=(e,t)=>{const o=cs(t,Mw(e));o.length>0&&dO(e,o)},fO=e=>Ut(e.startContainer),zM=e=>e.startOffset===0&&fO(e),T9=(e,t)=>{const o=t.startContainer.parentElement;return!Ue(o)&&ry(e,Fe.fromDom(o))},O9=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ue(t)&&!Ue(o)&&t.isEqualNode(o)},s=e=>{const t=e.endContainer;return e.endOffset===(Ut(t)?t.length:t.childNodes.length)},a=e=>O9(e)&&s(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>a(e)||u(e),p=e=>{const t=e.selection.getRng();return zM(t)&&T9(e,t)&&f(t)},b=e=>{if(p(e)){const t=Mw(e);return Q.some(()=>{j_(e),A9(e,t)})}else return Q.none()},w=(e,t)=>e.selection.isCollapsed()?VM(e,t):b(e),k=(e,t)=>yC(e,o=>xu(o.dom),o=>t.isBlock(qo(o))),E=e=>k(Fe.fromDom(e.selection.getStart()),e.schema),D=e=>{const t=e.selection.getRng();return t.collapsed&&(fO(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},F=e=>(D(e)&&dO(e,[]),!0),P=(e,t,o)=>Ee(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),Cl(e,t,Fe.fromDom(o))}):Q.none(),z=(e,t)=>{const o=t?$b:X0,i=t?$a.Forwards:$a.Backwards,c=c2(i,e.getBody(),e.selection.getRng());return o(c)?P(e,t,c.getNode(!t)):Q.from(ld(t,c)).filter(m=>o(m)&&n_(c,m)).bind(m=>P(e,t,m.getNode(!t)))},q=(e,t)=>{const o=e.selection.getNode();return St(o)?P(e,t,o):Q.none()},J=(e,t)=>e.selection.isCollapsed()?z(e,t):q(e,t),ue=e=>hi(e,t=>Ic(t.dom)||fo(t.dom)).exists(t=>Ic(t.dom)),me=e=>un(e??"").getOr(0),Ce=(e,t)=>{const o=e||ib(t)?"margin":"padding",i=Ur(t,"direction")==="rtl"?"-right":"-left";return o+i},fe=(e,t,o,i,c,m)=>{const h=Ce(o,Fe.fromDom(m)),C=me(e.getStyle(m,h));if(t==="outdent"){const A=Math.max(0,C-i);e.setStyle(m,h,A?A+c:"")}else{const A=C+i+c;e.setStyle(m,h,A)}},de=(e,t)=>Do(t,o=>{const i=Ce(ZD(e),o),c=Lr(o,i).map(me).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),be=e=>{const t=ze(e);return!e.mode.isReadOnly()&&(t.length>1||de(e,t))},_e=e=>lb(e)||Km(e),Ae=e=>aa(e).exists(_e),ze=e=>vt(au(e.selection.getSelectedBlocks()),t=>!_e(t)&&!Ae(t)&&ue(t)),ot=(e,t)=>{var o,i;const{dom:c}=e,m=bu(e),h=(i=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",C=me(m),A=ZD(e);pe(ze(e),V=>{fe(c,t,A,C,h,V.dom)})},Et=e=>ot(e,"indent"),_t=e=>ot(e,"outdent"),wt=e=>{if(e.selection.isCollapsed()&&be(e)){const t=e.dom,o=e.selection.getRng(),i=xt.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&H_(Fe.fromDom(c),i,e.schema))return Q.some(()=>_t(e))}return Q.none()},Ht=(e,t,o)=>or([wt,WT,HT,(i,c)=>Pw(i,t,c),JS,Sh,jT,J,FT,w,ZT],i=>i(e,o)).filter(i=>e.selection.isEditable()),mn=(e,t)=>{Ht(e,t,!1).fold(()=>{e.selection.isEditable()&&(j_(e),K_(e))},Fn)},kn=(e,t)=>{Ht(e,t,!0).fold(()=>{e.selection.isEditable()&&g3(e)},Fn)},Hn=(e,t)=>{e.addCommand("delete",()=>{mn(e,t)}),e.addCommand("forwardDelete",()=>{kn(e,t)})},io=5,Fo=400,tr=e=>e.touches===void 0||e.touches.length!==1?Q.none():Q.some(e.touches[0]),mr=(e,t)=>{const o=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return o>io||i>io},So=e=>{const t=Ii(),o=Ri(!1),i=vp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Fo);e.on("touchstart",c=>{tr(c).each(m=>{i.cancel();const h={x:m.clientX,y:m.clientY,target:c.target};i.throttle(c),o.set(!1),t.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),tr(c).each(m=>{t.on(h=>{mr(m,h)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Jo=(e,t)=>ao(e,t.nodeName),Kn=(e,t)=>Ut(t)?!0:En(t)?!Jo(e.getBlockElements(),t)&&!wu(t)&&!Df(e,t)&&!Ni(t):!1,gr=(e,t,o)=>xe(uc(Fe.fromDom(o),Fe.fromDom(t)),i=>Jo(e,i.dom)),Ls=(e,t)=>{if(Ut(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Jo(e,t.nextSibling)||Ni(t.nextSibling)}return!1},Wa=e=>e.dom.create(rl(e),Xx(e)),Za=e=>{const t=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),m=o.getStart(),h=e.getBody();let C,A,V=null;const Z=rl(e);if(!m||!En(m))return;const Y=h.nodeName.toLowerCase();if(!i.isValidChild(Y,Z.toLowerCase())||gr(c,h,m))return;if(h.firstChild===h.lastChild&&pr(h.firstChild)){C=Wa(e),C.appendChild(Ud().dom),h.replaceChild(C,h.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let ee=h.firstChild;for(;ee;)if(En(ee)&&ic(i,ee),Kn(i,ee)){if(Ls(c,ee)){A=ee,ee=ee.nextSibling,t.remove(A);continue}if(!C){if(!V&&e.hasFocus()&&(V=Y6(e.selection.getRng(),()=>document.createElement("span"))),!ee.parentNode){ee=null;break}C=Wa(e),h.insertBefore(C,ee)}A=ee,ee=ee.nextSibling,C.appendChild(A)}else C=null,ee=ee.nextSibling;V&&(e.selection.setRng(X6(V)),e.nodeChanged())},Yi=(e,t,o)=>{const i=Fe.fromDom(Wa(e)),c=Ud();Wr(i,c),o(t,i);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},Bi=e=>{e.on("NodeChange",()=>Za(e))},Rh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,wy=(e,t,o)=>function(i){const c=arguments,m=c[c.length-2],h=m>0?t.charAt(m-1):"";if(h==='"')return i;if(h===">"){const C=t.lastIndexOf("<",m);if(C!==-1&&t.substring(C,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},nv=(e,t,o)=>{let i=t.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(t[i],wy(e,c,kb(e)));o.content=c}},Ih=(e,t)=>Do(e,o=>{const i=t.match(o);return i!==null&&i[0].length===t.length}),Bw=e=>{const t="contenteditable",o=" "+Xt.trim(z8(e))+" ",i=" "+Xt.trim(kb(e))+" ",c=Rh(o),m=Rh(i),h=r5(e);h.length>0&&e.on("BeforeSetContent",C=>{nv(e,h,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const V=C[A];c(V)?V.attr(t,"true"):m(V)&&V.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const V=C[A];if(!c(V)&&!m(V))continue;const Z=V.attr("data-mce-content");h.length>0&&Z?Ih(h,Z)?(V.name="#text",V.type=3,V.raw=!0,V.value=Z):V.remove():V.attr(t,null)}})},ov=e=>Dt(Fe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),yg=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ch(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},c1=(e,t)=>{const o=ov(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),yg(e,o);return}b0(o)&&(yg(e,o),e.undoManager.add())}},u1=e=>{e.on("keyup compositionstart",tt(c1,e))},Cy=fo,lk=(e,t,o)=>QT(t,e,o,Mi,Jf,Cy),Lw=(e,t,o)=>SM(t,e,o,m=>Mi(m)||uI(m),m=>Jf(m)||J0(m),Cy),sv=e=>{const t=e.dom.create(rl(e));return t.innerHTML='<br data-mce-bogus="1">',t},xg=(e,t,o)=>{const i=qn(e.getBody()),c=tt(XE,t===1?i.next:i.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(xt.fromRangeStart(o))){const C=Fe.fromDom(sv(e));t===1?it(Fe.fromDom(m),C):Dr(Fe.fromDom(m),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Nh=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return lk(o,e,i).orThunk(()=>(xg(e,o,i),Q.none()))},Fw=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return Lw(o,e,i).orThunk(()=>(xg(e,o,i),Q.none()))},Vw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return q2(o)?!t:t},gs=(e,t)=>Nh(e,Vw(e.selection,t)).exists(o=>(tm(e,o),!0)),wg=(e,t)=>Fw(e,t).exists(o=>(tm(e,o),!0)),nf=(e,t)=>kM(e,t,t?Jf:Mi),d1=(e,t)=>$T(e,!t).map(o=>{const i=o.toRange(),c=e.selection.getRng();return t?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(tm(e,o),!0)),ck=e=>ie(["figcaption"],qo(e)),Ph=(e,t,o)=>{const i=tt(Yo,t);return hi(Fe.fromDom(e.container()),c=>o.isBlock(qo(c)),i).filter(ck)},_y=(e,t,o)=>t?vM(e.dom,o):pM(e.dom,o),mO=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=xt.fromRangeStart(e.selection.getRng());return Ph(i,o,e.schema).exists(()=>{if(_y(o,t,i)){const m=Yi(e,o,t?Wr:Fa);return e.selection.setRng(m),!0}else return!1})},uk=(e,t)=>e.selection.isCollapsed()?mO(e,t):!1,D9=(e,t,o)=>{const i=e.selection.getRng(),c=xt.fromRangeStart(i);return e.getBody().firstChild===t&&pM(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Sy=(e,t)=>{const o=e.selection.getRng(),i=xt.fromRangeStart(o);return e.getBody().lastChild===t&&vM(t,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},R9=(e,t)=>t?Q.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Sy(e,o)).getOr(!1):Q.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Q.from(e.dom.getParent(o,"details")).map(i=>D9(e,i,o))).getOr(!1),Sl=(e,t)=>R9(e,t),f1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},I9=e=>Be(e,t=>({...f1,...t})),HM=e=>Be(e,t=>({...f1,...t})),dk=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,$M=(e,t)=>wo(I9(e),o=>dk(o,t)?[o]:[]),UM=(e,t)=>wo(HM(e),o=>dk(o,t)?[o]:[]),uo=(e,...t)=>()=>e.apply(null,t),rv=(e,t)=>cn($M(e,t),o=>o.action()),fk=(e,t)=>or(UM(e,t),o=>o.action()),iv=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return QT(e,o,i,$b,X0,St).exists(c=>(tm(e,c),!0))},ky=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return SM(e,o,i,$b,X0,St).exists(c=>(tm(e,c),!0))},gO=(e,t)=>kM(e,t,t?X0:$b),hO=Go.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),gd={...hO,none:e=>hO.none(e)},WM=(e,t)=>vO(e,t,_n),vO=(e,t,o)=>wo(la(e),i=>Ps(i,t)?o(i)?[i]:[]:vO(i,t,o)),ZM=(e,t,o=fn)=>{if(o(t))return Q.none();if(ie(e,qo(t)))return Q.some(t);const i=c=>Ps(c,"table")||o(c);return ru(t,e.join(","),i)},jM=(e,t)=>ZM(["td","th"],e,t),N9=e=>WM(e,"th,td"),ft=(e,t)=>Zi(e,"table",t),$n=(e,t,o,i,c=_n)=>{const m=i===1;if(!m&&o<=0)return gd.first(e[0]);if(m&&o>=e.length-1)return gd.last(e[e.length-1]);{const h=o+i,C=e[h];return c(C)?gd.middle(t,C):$n(e,t,h,i,c)}},mo=(e,t)=>ft(e,t).bind(o=>{const i=N9(o);return An(i,m=>Yo(e,m)).map(m=>({index:m,all:i}))}),nr=(e,t,o)=>mo(e,o).fold(()=>gd.none(e),c=>$n(c.all,e,c.index,1,t)),Yr=(e,t,o)=>mo(e,o).fold(()=>gd.none(),c=>$n(c.all,e,c.index,-1,t)),ci=e=>PC(e).filter(t=>t.trim().length!==0||t.indexOf(Di)>-1).isSome(),ri=e=>Na(e)&&ka(e,"contenteditable")==="false",ki=["img","br"],Ey=e=>ci(e)||ie(ki,qo(e))||ri(e),P9=e=>Wi(e,Ey),KM=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),_W=(e,t)=>wo(t,o=>{const i=KM(Lf(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),wee=(e,t,o)=>Vt(e,(i,c)=>i.fold(()=>Q.some(c),m=>{const h=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),C=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return Q.some(C<h?c:m)}),Q.none()),SW=(e,t,o,i,c)=>{const m=pi(Fe.fromDom(o),"td,th,caption").map(C=>C.dom),h=vt(_W(e,m),C=>t(C,c));return wee(h,i,c).map(C=>C.cell)},Cee=e=>e.bottom,_ee=e=>e.top,See=(e,t)=>e.y<t,kee=(e,t)=>e.y>t,Eee=tt(SW,Cee,See),Aee=tt(SW,_ee,kee),Tee=(e,t)=>hn(t.getClientRects()).bind(o=>Eee(e,o.left,o.top)).bind(o=>sk(bM(o),t)),Oee=(e,t)=>Eo(t.getClientRects()).bind(o=>Aee(e,o.left,o.top)).bind(o=>sk(p9(o),t)),Dee=(e,t,o)=>o.breakAt.exists(i=>e(t,i).breakAt.isSome()),Ree=e=>e.breakType===tf.Wrap&&e.positions.length===0,Iee=e=>e.breakType===tf.Br&&e.positions.length===1,kW=(e,t,o)=>{const i=e(t,o);return Ree(i)||!pr(o.getNode())&&Iee(i)?!Dee(e,t,i):i.breakAt.isNone()},Nee=tt(kW,Tw),Pee=tt(kW,Ow),Mee=(e,t,o)=>{const i=xt.fromRangeStart(t);return L0(!e,o).exists(c=>c.isEqual(i))},Bee=(e,t,o,i)=>{const c=e.selection.getRng(),m=t?1:-1;return jE()&&Mee(t,c,o)?(Mr(m,e,o,!t,!1).each(h=>{tm(e,h)}),!0):!1},Lee=(e,t,o)=>Tee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>YT(hM(e,xt.before(t)),i.left))).getOr(xt.before(t)),Fee=(e,t,o)=>Oee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>YT(rk(e,xt.after(t)),i.left))).getOr(xt.after(t)),EW=(e,t)=>{const o=t.getNode(e);return cu(o)?Q.some(o):Q.none()},Vee=(e,t,o)=>{t.undoManager.transact(()=>{const i=e?it:Dr,c=Yi(t,Fe.fromDom(o),i);tm(t,c)})},AW=(e,t,o)=>{const i=EW(!!t,o),c=t===!1;i.fold(()=>tm(e,o.toRange()),m=>L0(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>tm(e,o.toRange()),h=>Vee(t,e,m)))},zee=(e,t,o,i)=>{const c=e.selection.getRng(),m=xt.fromRangeStart(c),h=e.getBody();if(!t&&Nee(i,m)){const C=Lee(h,o,m);return AW(e,t,C),!0}else if(t&&Pee(i,m)){const C=Fee(h,o,m);return AW(e,t,C),!0}else return!1},TW=(e,t,o)=>Q.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>Q.from(e.dom.getParent(i,"table")).map(c=>o(e,t,c,i))).getOr(!1),OW=(e,t)=>TW(e,t,Bee),M9=(e,t)=>TW(e,t,zee),Hee=e=>{const t=Mp.exact(e,0,e,0);return EF(t)},DW=(e,t,o)=>o.fold(Q.none,Q.none,(i,c)=>P9(c).map(m=>Hee(m)),i=>(e.execCommand("mceTableInsertRowAfter"),RW(e,t,i))),RW=(e,t,o)=>DW(e,t,nr(o,_r)),$ee=(e,t,o)=>DW(e,t,Yr(o,_r)),IW=(e,t)=>{const o=["table","li","dl"],i=Fe.fromDom(e.getBody()),c=C=>{const A=qo(C);return Yo(C,i)||ie(o,A)},m=e.selection.getRng(),h=Fe.fromDom(t?m.endContainer:m.startContainer);return jM(h,c).map(C=>(ft(C,c).each(Z=>{e.model.table.clearSelectedCells(Z.dom)}),e.selection.collapse(!t),(t?RW:$ee)(e,c,C).each(Z=>{e.selection.setRng(Z)}),!0)).getOr(!1)},Uee=(e,t,o)=>{const i=Bo.os.isMacOS()||Bo.os.isiOS();rv([{keyCode:dn.RIGHT,action:uo(gs,e,!0)},{keyCode:dn.LEFT,action:uo(gs,e,!1)},{keyCode:dn.UP,action:uo(wg,e,!1)},{keyCode:dn.DOWN,action:uo(wg,e,!0)},...i?[{keyCode:dn.UP,action:uo(d1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:dn.DOWN,action:uo(d1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:dn.RIGHT,action:uo(OW,e,!0)},{keyCode:dn.LEFT,action:uo(OW,e,!1)},{keyCode:dn.UP,action:uo(M9,e,!1)},{keyCode:dn.DOWN,action:uo(M9,e,!0)},{keyCode:dn.UP,action:uo(M9,e,!1)},{keyCode:dn.UP,action:uo(Sl,e,!1)},{keyCode:dn.DOWN,action:uo(Sl,e,!0)},{keyCode:dn.RIGHT,action:uo(iv,e,!0)},{keyCode:dn.LEFT,action:uo(iv,e,!1)},{keyCode:dn.UP,action:uo(ky,e,!1)},{keyCode:dn.DOWN,action:uo(ky,e,!0)},{keyCode:dn.RIGHT,action:uo(oO,e,t,!0)},{keyCode:dn.LEFT,action:uo(oO,e,t,!1)},{keyCode:dn.RIGHT,ctrlKey:!i,altKey:i,action:uo(RM,e,t)},{keyCode:dn.LEFT,ctrlKey:!i,altKey:i,action:uo(IM,e,t)},{keyCode:dn.UP,action:uo(uk,e,!1)},{keyCode:dn.DOWN,action:uo(uk,e,!0)}],o).each(c=>{o.preventDefault()})},Wee=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Uee(e,t,o)})},Mh=(e,t)=>({container:e,offset:t}),GM=Gs.DOM,qM=e=>t=>e===t?-1:0,Zee=e=>t=>e.isBlock(t)||ie(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",B9=(e,t,o)=>{if(Ut(e)&&t>=0)return Q.some(Mh(e,t));{const i=Hd(GM);return Q.from(i.backwards(e,t,qM(e),o)).map(c=>Mh(c.container,c.container.data.length))}},jee=(e,t,o)=>{if(Ut(e)&&t>=e.length)return Q.some(Mh(e,t));{const i=Hd(GM);return Q.from(i.forwards(e,t,qM(e),o)).map(c=>Mh(c.container,0))}},L9=(e,t,o)=>{if(!Ut(e))return Q.none();const i=e.data;if(t>=0&&t<=i.length)return Q.some(Mh(e,t));{const c=Hd(GM);return Q.from(c.backwards(e,t,qM(e),o)).bind(m=>{const h=m.container.data;return L9(m.container,t+h.length,o)})}},NW=(e,t,o)=>{if(!Ut(e))return Q.none();const i=e.data;if(t<=i.length)return Q.some(Mh(e,t));{const c=Hd(GM);return Q.from(c.forwards(e,t,qM(e),o)).bind(m=>NW(m.container,t-i.length,o))}},F9=(e,t,o,i,c)=>{const m=Hd(e,Zee(e));return Q.from(m.backwards(t,o,i,c))},Kee=e=>e.collapsed&&Ut(e.startContainer),Gee=e=>xl(e.toString().replace(/\u00A0/g," ")),PW=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,qee=(e,t)=>e.substring(t.length),Yee=(e,t,o,i=!1)=>{let c;const m=o.charAt(0);for(c=t-1;c>=0;c--){const h=e.charAt(c);if(!i&&PW(h))return Q.none();if(m===h&&Ns(e,o,c,t))break}return Q.some(c)},V9=(e,t,o,i=!1)=>{if(!Kee(t))return Q.none();const c={text:"",offset:0},m=(C,A,V)=>(c.text=V+c.text,c.offset+=A,Yee(c.text,c.offset,o,i).getOr(A)),h=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return F9(e,t.startContainer,t.startOffset,m,h).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return Q.none();const V=Gee(A);return V.lastIndexOf(o)!==0?Q.none():Q.some({text:qee(V,o),range:A,trigger:o})})},Xee=e=>e.nodeType===Fg,Jee=e=>e.nodeType===gl,MW=e=>{if(Xee(e))return Mh(e,e.data.length);{const t=e.childNodes;return t.length>0?MW(t[t.length-1]):Mh(e,t.length)}},BW=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?BW(o[t],0):o.length>0&&Jee(e)&&o.length===t?MW(o[o.length-1]):Mh(e,t)},Qee=(e,t)=>{var o;const i=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return F9(e,t.container,t.offset,(c,m)=>m===0?-1:m,i).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!PW(m)}).isSome()},ete=e=>t=>{const o=BW(t.startContainer,t.startOffset);return!Qee(e,o)},tte=(e,t,o)=>or(o.triggers,i=>V9(e,t,i)),nte=(e,t)=>{const o=t(),i=e.selection.getRng();return tte(e.dom,i,o).bind(c=>LW(e,t,c))},LW=(e,t,o,i={})=>{var c;const m=t(),C=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=vt(m.lookupByTrigger(o.trigger),Z=>o.text.length>=Z.minChars&&Z.matches.getOrThunk(()=>ete(e.dom))(o.range,C,o.text));if(A.length===0)return Q.none();const V=Promise.all(Be(A,Z=>Z.fetch(o.text,Z.maxResults,i).then(ee=>({matchText:o.text,items:ee,columns:Z.columns,onAction:Z.onAction,highlightOn:Z.highlightOn}))));return Q.some({lookupData:V,context:o})};var Bh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bh||(Bh={}));const z9=(e,t,o)=>e.stype===Bh.Error?t(e.serror):o(e.svalue),ote=e=>{const t=[],o=[];return pe(e,i=>{z9(i,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},ste=(e,t)=>e.stype===Bh.Error?{stype:Bh.Error,serror:t(e.serror)}:e,rte=(e,t)=>e.stype===Bh.Value?{stype:Bh.Value,svalue:t(e.svalue)}:e,ite=(e,t)=>e.stype===Bh.Value?t(e.svalue):e,ate=(e,t)=>e.stype===Bh.Error?t(e.serror):e,FW=e=>({stype:Bh.Value,svalue:e}),VW=e=>({stype:Bh.Error,serror:e}),Ll={fromResult:e=>e.fold(VW,FW),toResult:e=>z9(e,Jn.error,Jn.value),svalue:FW,partition:ote,serror:VW,bind:ite,bindError:ate,map:rte,mapError:ste,fold:z9},H9=e=>K(e)&&Kt(e).length>100?" removed due to size":JSON.stringify(e,null,2),lte=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:et("... (only showing first ten failures)")}]):e;return Be(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},YM=(e,t)=>Ll.serror([{path:e,getErrorInfo:t}]),cte=(e,t,o)=>YM(e,()=>'Could not find valid *required* value for "'+t+'" in '+H9(o)),ute=(e,t)=>YM(e,()=>'Choice schema did not contain choice key: "'+t+'"'),dte=(e,t,o)=>YM(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+H9(t)),fte=(e,t)=>YM(e,et(t)),mte=(e,t,o,i)=>Os(o,i).fold(()=>dte(e,o,i),m=>m.extract(e.concat(["branch: "+i]),t)),gte=(e,t)=>({extract:(c,m)=>Os(m,e).fold(()=>ute(c,e),C=>mte(c,m,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Kt(t)}),hte=(e,t)=>t,pte=(e,t)=>ye(e)&&ye(t)?XM(e,t):t,zW=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<t.length;i++){const c=t[i];for(const m in c)ao(c,m)&&(o[m]=e(o[m],c[m]))}return o},XM=zW(pte),HW=zW(hte),$W=()=>({tag:"required",process:{}}),vte=e=>({tag:"defaultedThunk",process:e}),UW=e=>vte(et(e)),bte=()=>({tag:"option",process:{}}),yte=(e,t)=>e.length>0?Ll.svalue(XM(t,HW.apply(void 0,e))):Ll.svalue(t),WW=e=>$t(Ll.serror,On)(e),xte={consolidateObj:(e,t)=>{const o=Ll.partition(e);return o.errors.length>0?WW(o.errors):yte(o.values,t)},consolidateArr:e=>{const t=Ll.partition(e);return t.errors.length>0?WW(t.errors):Ll.svalue(t.values)}},wte=(e,t,o,i)=>({tag:"field",key:e,newKey:t,presence:o,prop:i}),Cte=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),ZW=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},$9=e=>{const t=(i,c)=>Ll.bindError(e(c),m=>fte(i,m)),o=et("val");return{extract:t,toString:o}},_te=$9(Ll.svalue),Ste=(e,t,o,i)=>Os(t,o).fold(()=>cte(e,o,t),i),jW=(e,t,o,i)=>{const c=Os(e,t).getOrThunk(()=>o(e));return i(c)},kte=(e,t,o)=>o(Os(e,t)),Ete=(e,t,o,i)=>{const c=Os(e,t).map(m=>m===!0?o(e):m);return i(c)},Ate=(e,t,o,i,c)=>{const m=C=>c.extract(t.concat([i]),C),h=C=>C.fold(()=>Ll.svalue(Q.none()),A=>{const V=c.extract(t.concat([i]),A);return Ll.map(V,Q.some)});switch(e.tag){case"required":return Ste(t,o,i,m);case"defaultedThunk":return jW(o,i,e.process,m);case"option":return kte(o,i,h);case"defaultedOptionThunk":return Ete(o,i,e.process,h);case"mergeWithThunk":return jW(o,i,et({}),C=>{const A=XM(e.process(o),C);return m(A)})}},Tte=(e,t,o)=>{const i={},c=[];for(const m of o)ZW(m,(h,C,A,V)=>{const Z=Ate(A,e,t,h,V);Ll.fold(Z,Y=>{c.push(...Y)},Y=>{i[C]=Y})},(h,C)=>{i[h]=C(t)});return c.length>0?Ll.serror(c):Ll.svalue(i)},U9=e=>({extract:(i,c)=>Tte(i,c,e),toString:()=>`obj{
`+Be(e,c=>ZW(c,(m,h,C,A)=>m+" -> "+A.toString(),(m,h)=>"state("+m+")")).join(`
`)+"}"}),KW=e=>({extract:(i,c)=>{const m=Be(c,(h,C)=>e.extract(i.concat(["["+C+"]"]),h));return xte.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Ote=e=>$9(t=>e(t).fold(Ll.serror,Ll.svalue)),Dte=(e,t,o)=>{const i=t.extract([e],o);return Ll.mapError(i,c=>({input:o,errors:c}))},Rte=(e,t,o)=>Ll.toResult(Dte(e,t,o)),Ite=e=>`Errors: 
`+lte(e.errors).join(`
`)+`

Input object: `+H9(e.input),GW=(e,t)=>gte(e,Ul(t,U9)),Nte=et(_te),JM=(e,t)=>$9(o=>{const i=typeof o;return e(o)?Ll.svalue(o):Ll.serror(`Expected type: ${t} but got: ${i}`)}),Pte=JM(O,"number"),QM=JM(he,"string"),Mte=JM(We,"boolean"),W9=JM(Le,"function"),bO=wte,qW=Cte,Bte=e=>Ote(t=>ie(e,t)?Jn.value(t):Jn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),YW=(e,t)=>bO(e,e,$W(),t),XW=e=>YW(e,QM),JW=e=>YW(e,W9),Lte=(e,t)=>bO(e,e,$W(),KW(t)),Z9=(e,t)=>bO(e,e,bte(),t),eB=e=>Z9(e,QM),Fte=e=>Z9(e,W9),Vte=(e,t)=>bO(e,e,UW(t),Nte()),mk=(e,t,o)=>bO(e,e,UW(t),o),QW=(e,t)=>mk(e,t,Pte),zte=(e,t)=>mk(e,t,QM),eZ=(e,t,o)=>mk(e,t,Bte(o)),j9=(e,t)=>mk(e,t,Mte),K9=(e,t)=>mk(e,t,W9),Hte=(e,t,o)=>mk(e,t,KW(o)),$te=XW("type"),Ute=JW("fetch"),G9=JW("onAction"),Wte=K9("onSetup",()=>ct),Zte=eB("text"),jte=eB("icon"),Kte=eB("tooltip"),Gte=eB("label"),qte=j9("active",!1),Yte=j9("enabled",!0),tZ=j9("primary",!1),Xte=e=>Vte("columns",e),yO=e=>zte("type",e),Jte=U9([$te,XW("trigger"),QW("minChars",1),Xte(1),QW("maxResults",10),Fte("matches"),Ute,G9,Hte("highlightOn",[],QM)]),Qte=e=>Rte("Autocompleter",Jte,e),q9=[Yte,Kte,jte,Zte,Wte],nZ=[qte].concat(q9),ene=[K9("predicate",fn),eZ("scope","node",["node","editor"]),eZ("position","selection",["node","selection","line"])],tne=q9.concat([yO("contextformbutton"),tZ,G9,qW("original",pt)]),nne=nZ.concat([yO("contextformbutton"),tZ,G9,qW("original",pt)]),one=q9.concat([yO("contextformbutton")]),sne=nZ.concat([yO("contextformtogglebutton")]),rne=GW("type",{contextformbutton:tne,contextformtogglebutton:nne});U9([yO("contextform"),K9("initValue",et("")),Gte,Lte("commands",rne),Z9("launch",GW("type",{contextformbutton:one,contextformtogglebutton:sne}))].concat(ene));const ine=e=>{const t=e.ui.registry.getAll().popups,o=Ul(t,h=>Qte(h).fold(C=>{throw new Error(Ite(C))},pt)),i=Bu(ul(o,h=>h.trigger)),c=Mu(o);return{dataset:o,triggers:i,lookupByTrigger:h=>vt(c,C=>C.trigger===h)}},ane=(e,t)=>{const o=vp(t.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},lne=e=>{const t=Ii(),o=Ri(!1),i=t.isSet,c=()=>{i()&&(fF(e),o.set(!1),t.clear())},m=Y=>{i()||t.set({trigger:Y.trigger,matchLength:Y.text.length})},h=Dl(()=>ine(e)),C=Y=>t.get().map(ee=>V9(e.dom,e.selection.getRng(),ee.trigger,!0).bind(ge=>LW(e,h,ge,Y))).getOrThunk(()=>nte(e,h)),A=Y=>{C(Y).fold(c,ee=>{m(ee.context),ee.lookupData.then(ge=>{t.get().map(Se=>{const ve=ee.context;Se.trigger===ve.trigger&&(t.set({...Se,matchLength:ve.text.length}),o.get()?(vA(e,{range:ve.range}),pA(e,{lookupData:ge})):(o.set(!0),vA(e,{range:ve.range}),hA(e,{lookupData:ge})))})})})},V=(Y,ee)=>{const ge=Y.compareBoundaryPoints(window.Range.START_TO_START,ee),Se=Y.compareBoundaryPoints(window.Range.END_TO_END,ee);return ge>=0&&Se<=0},Z=()=>t.get().bind(({trigger:Y})=>{const ee=e.selection.getRng();return V9(e.dom,ee,Y,o.get()).filter(({range:ge})=>V(ee,ge)).map(({range:ge})=>ge)});e.addCommand("mceAutocompleterReload",(Y,ee)=>{const ge=K(ee)?ee.fetchOptions:{};A(ge)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{Z().each(Y=>{vA(e,{range:Y})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>Z().isSome()),ane(e,{cancelIfNecessary:c,load:A})},cne=na().browser.isSafari(),oZ=e=>Vc(Fe.fromDom(e)),sZ=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},tB=(e,t)=>Q.from(e.getParent(t.container(),"details")),rZ=(e,t)=>tB(e,t).isSome(),une=(e,t)=>{const o=Q.from(e.getParent(t.startContainer,"details")),i=Q.from(e.getParent(t.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(m=>Q.from(e.select("summary",m)[0]));return Q.some({startSummary:c,startDetails:o,endDetails:i})}else return Q.none()},dne=(e,t)=>Qn(t).exists(o=>o.isEqual(e)),fne=(e,t)=>td(t).exists(o=>pr(o.getNode())&&$c(t,o).exists(i=>i.isEqual(e))||o.isEqual(e)),mne=(e,t)=>t.startSummary.exists(o=>dne(e,o)),gne=(e,t)=>t.startSummary.exists(o=>fne(e,o)),hne=(e,t)=>t.startDetails.exists(o=>$c(o,e).forall(i=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),pne=(e,t,o)=>o.startDetails.exists(i=>Gl(e,t).forall(c=>!i.contains(c.container()))),iZ=(e,t)=>{const o=t.getNode();qe(o)||e.selection.setCursorLocation(o,t.offset())},aZ=(e,t,o)=>{const i=e.dom.getParent(t.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Qn(c):td(c)).each(h=>iZ(e,h))}else iZ(e,t)},vne=(e,t)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=t.startSummary.exists(o),m=t.startSummary.exists(i),h=t.startDetails.forall(A=>t.endDetails.forall(V=>A!==V));return(c||m)&&!(c&&m)||h},lZ=(e,t,o)=>{const{dom:i,selection:c}=e,m=e.getBody();if(o==="character"){const h=xt.fromRangeStart(c.getRng()),C=i.getParent(h.container(),i.isBlock),A=tB(i,h),V=C&&i.isEmpty(C),Z=Ue(C==null?void 0:C.previousSibling),Y=Ue(C==null?void 0:C.nextSibling);return V&&(t?Y:Z)&&Ob(!t,m,h).exists(Se=>rZ(i,Se)&&!gf(A,tB(i,Se)))?!0:Ob(t,m,h).fold(fn,ee=>{const ge=tB(i,ee);if(rZ(i,ee)&&!gf(A,ge)){if(t||aZ(e,ee,!1),C&&V){if(t&&Z)return!0;if(!t&&Y)return!0;aZ(e,ee,t),e.dom.remove(C)}return!0}else return!1})}else return!1},bne=(e,t,o,i)=>{const m=e.selection.getRng(),h=xt.fromRangeStart(m),C=e.getBody();return i==="selection"?vne(m,t):o?gne(h,t)||pne(C,h,t):mne(h,t)||hne(h,t)},yne=(e,t,o)=>une(e.dom,e.selection.getRng()).fold(()=>lZ(e,t,o),i=>bne(e,i,t,o)||lZ(e,t,o)),xne=(e,t,o)=>{const i=e.selection,c=i.getNode(),m=i.getRng(),h=xt.fromRangeStart(m);return up(c)?(o==="selection"&&sZ(m,c)||BI(t,h,c)?oZ(c):e.undoManager.transact(()=>{const C=i.getSel();let{anchorNode:A,anchorOffset:V,focusNode:Z,focusOffset:Y}=C??{};const ee=()=>{Ee(A)&&Ee(V)&&Ee(Z)&&Ee(Y)&&(C==null||C.setBaseAndExtent(A,V,Z,Y))},ge=()=>{A=C==null?void 0:C.anchorNode,V=C==null?void 0:C.anchorOffset,Z=C==null?void 0:C.focusNode,Y=C==null?void 0:C.focusOffset},Se=(Oe,He)=>{pe(Oe.childNodes,Qe=>{$0(Qe)&&He.appendChild(Qe)})},ve=e.dom.create("span",{"data-mce-bogus":"1"});Se(c,ve),c.appendChild(ve),ee(),(o==="word"||o==="line")&&(C==null||C.modify("extend",t?"right":"left",o)),!i.isCollapsed()&&sZ(i.getRng(),ve)?oZ(c):(e.execCommand(t?"ForwardDelete":"Delete"),ge(),Se(ve,c),ee()),e.dom.remove(ve)}),!0):!1},zw=(e,t,o)=>yne(e,t,o)||cne&&xne(e,t,o)?Q.some(ct):Q.none(),cZ=e=>(t,o,i={})=>{const c=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:ct,inputType:o},h=zm(new InputEvent(e));return t.dispatch(e,{...h,...m,...i})},xO=cZ("input"),nB=cZ("beforeinput"),uZ=na(),dZ=uZ.os,fZ=dZ.isMacOS()||dZ.isiOS(),wne=uZ.browser.isFirefox(),Cne=(e,t,o)=>{const i=o.keyCode===dn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",h=C=>c?C?"word":"line":"selection";fk([{keyCode:dn.BACKSPACE,action:uo(wt,e)},{keyCode:dn.BACKSPACE,action:uo(WT,e,!1)},{keyCode:dn.DELETE,action:uo(WT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(HT,e,!1)},{keyCode:dn.DELETE,action:uo(HT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Pw,e,t,!1)},{keyCode:dn.DELETE,action:uo(Pw,e,t,!0)},{keyCode:dn.BACKSPACE,action:uo(Sh,e,!1)},{keyCode:dn.DELETE,action:uo(Sh,e,!0)},{keyCode:dn.BACKSPACE,action:uo(zw,e,!1,m)},{keyCode:dn.DELETE,action:uo(zw,e,!0,m)},...fZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(zw,e,!1,h(!0))},{keyCode:dn.DELETE,altKey:!0,action:uo(zw,e,!0,h(!0))},{keyCode:dn.BACKSPACE,metaKey:!0,action:uo(zw,e,!1,h(!1))}]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(zw,e,!1,h(!0))},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(zw,e,!0,h(!0))}],{keyCode:dn.BACKSPACE,action:uo(jT,e,!1)},{keyCode:dn.DELETE,action:uo(jT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(J,e,!1)},{keyCode:dn.DELETE,action:uo(J,e,!0)},{keyCode:dn.BACKSPACE,action:uo(FT,e,!1)},{keyCode:dn.DELETE,action:uo(FT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(JS,e,!1)},{keyCode:dn.DELETE,action:uo(JS,e,!0)},{keyCode:dn.BACKSPACE,action:uo(w,e,!1)},{keyCode:dn.DELETE,action:uo(w,e,!0)},{keyCode:dn.BACKSPACE,action:uo(ZT,e,!1)},{keyCode:dn.DELETE,action:uo(ZT,e,!0)}],o).filter(C=>e.selection.isEditable()).each(C=>{o.preventDefault(),nB(e,i).isDefaultPrevented()||(C(),xO(e,i))})},_ne=(e,t,o)=>rv([{keyCode:dn.BACKSPACE,action:uo(K6,e)},{keyCode:dn.DELETE,action:uo(K6,e)},...fZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(F,e)},{keyCode:dn.DELETE,altKey:!0,action:uo(F,e)},...o?[{keyCode:wne?224:91,action:uo(F,e)}]:[]]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(F,e)},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(F,e)}]],t),Sne=(e,t)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===dn.BACKSPACE,i.isDefaultPrevented()||Cne(e,t,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||_ne(e,i,o),o=!1})},kne=e=>{for(;e;){if(En(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},gk=(e,t)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=kne(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(Di),t.firstChild)}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new ca(t,t);let h=t,C;for(;C=m.current();){if(Ut(C)){c.setStart(C,0),c.setEnd(C,0);break}if(i[C.nodeName.toLowerCase()]){c.setStartBefore(C),c.setEndBefore(C);break}h=C,C=m.next()}C||(c.setStart(h,0),c.setEnd(h,0))}else pr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),sd(e,c)},wO=(e,t)=>{const o=e.getRoot();let i,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},Y9=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Ene=e=>Y9(e).fold(et(""),t=>t.nodeName.toUpperCase()),Ane=e=>Y9(e).filter(t=>Km(Fe.fromDom(t))).isSome(),X9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Tne=(e,t,o)=>{const i=e.dom;Q.from(o.style).map(i.parseStyle).each(A=>{const Z={...$g(Fe.fromDom(t)),...A};i.setStyles(t,Z)});const c=Q.from(o.class).map(A=>A.split(/\s+/)),m=Q.from(t.className).map(A=>vt(A.split(/\s+/),V=>V!==""));sa(c,m,(A,V)=>{const Z=vt(V,ee=>!ie(A,ee)),Y=[...A,...Z];i.setAttrib(t,"class",Y.join(" "))});const h=["style","class"],C=_c(o,(A,V)=>!ie(h,V));i.setAttribs(t,C)},CO=(e,t)=>{if(rl(e).toLowerCase()===t.tagName.toLowerCase()){const i=Xx(e);Tne(e,t,i)}},mZ=(e,t,o,i,c=!0,m,h)=>{const C=e.dom,A=e.schema,V=rl(e),Z=o?o.nodeName.toUpperCase():"";let Y=t;const ee=A.getTextInlineElements();let ge;m||Z==="TABLE"||Z==="HR"?ge=C.create(m||V,h||{}):ge=o.cloneNode(!1);let Se=ge;if(!c)C.setAttrib(ge,"style",null),C.setAttrib(ge,"class",null);else do if(ee[Y.nodeName]){if(xu(Y)||wu(Y))continue;const ve=Y.cloneNode(!1);C.setAttrib(ve,"id",""),ge.hasChildNodes()?(ve.appendChild(ge.firstChild),ge.appendChild(ve)):(Se=ve,ge.appendChild(ve))}while((Y=Y.parentNode)&&Y!==i);return CO(e,ge),X9(Se),ge},One=(e,t)=>e.dom.getParent(t,cp),Dne=(e,t,o)=>{let i=t;for(;i&&i!==e&&Ue(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return cp(c);i=c}return!1},Rne=(e,t,o)=>!t&&o.nodeName.toLowerCase()===rl(e)&&e.dom.isEmpty(o)&&Dne(e.getBody(),o,i=>ao(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),Ine=(e,t,o)=>{var i,c,m;const h=t(rl(e)),C=One(e,o);C&&(e.dom.insertAfter(h,C),gk(e,h),((m=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Nne=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Pne=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},gZ=(e,t)=>{const o=e==null?void 0:e.parentNode;return Ee(o)&&o.nodeName===t},hZ=e=>Ee(e)&&/^(OL|UL|LI)$/.test(e.nodeName),J9=e=>Ee(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Mne=e=>hZ(e)&&hZ(e.parentNode),oB=e=>{const t=e.parentNode;return J9(t)?t:e},sB=(e,t,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!En(i);)i=i[o?"nextSibling":"previousSibling"];return i===t},pZ=e=>Vt(ul($g(Fe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Bne=(e,t,o,i,c)=>{const m=e.dom,h=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Mne(o)&&(c="LI");const A=J9(i)?pZ(i):void 0;let V=J9(i)&&A?t(c,{style:pZ(i)}):t(c);if(sB(o,i,!0)&&sB(o,i,!1))if(gZ(o,"LI")){const Z=oB(o);m.insertAfter(V,Z),Pne(o)?m.remove(Z):m.remove(o)}else m.replace(V,o);else if(sB(o,i,!0))gZ(o,"LI")?(m.insertAfter(V,oB(o)),V.appendChild(m.doc.createTextNode(" ")),V.appendChild(o)):C.insertBefore(V,o),m.remove(i);else if(sB(o,i,!1))m.insertAfter(V,oB(o)),m.remove(i);else{o=oB(o);const Z=h.cloneRange();Z.setStartAfter(i),Z.setEndAfter(o);const Y=Z.extractContents();if(c==="LI"&&Nne(Y,"LI")){const ee=vt(Be(V.children,Fe.fromDom),Ye(bf("br")));V=Y.firstChild,m.insertAfter(Y,o),pe(ee,ge=>Fa(Fe.fromDom(V),ge)),A&&V.setAttribute("style",A)}else m.insertAfter(Y,o),m.insertAfter(V,o);m.remove(i)}gk(e,V)},Lne=e=>{pe(Nm(Fe.fromDom(e),ur),t=>{const o=t.dom;o.nodeValue=xl(o.data)})},Fne=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Vne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Q9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,eH=(e,t)=>Ee(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",zne=(e,t,o)=>{var i;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;En(m)&&!t[m.nodeName.toLowerCase()]&&c.push(m)}let h=c.length;for(;h--;)m=c[h],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((i=m.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||Vne(e,m))&&e.remove(m)},tH=(e,t,o)=>Ut(t)?e?o===1&&t.data.charAt(o-1)===_i?0:o:o===t.data.length-1&&t.data.charAt(o)===_i?t.data.length:o:o,Hne=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,tH(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,tH(!1,e.endContainer,e.endOffset)),t},$ne=e=>{let t=e;do Ut(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Une=(e,t,o,i,c)=>{var m,h;const C=e.dom,A=(m=wO(C,i))!==null&&m!==void 0?m:C.getRoot();let V=C.getParent(i,C.isBlock);if(!V||!eH(C,V)){if(V=V||A,!V.hasChildNodes()){const ge=C.create(t);return CO(e,ge),V.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let Z=i;for(;Z&&Z.parentNode!==V;)Z=Z.parentNode;let Y;for(;Z&&!C.isBlock(Z);)Y=Z,Z=Z.previousSibling;const ee=(h=Y==null?void 0:Y.parentElement)===null||h===void 0?void 0:h.nodeName;if(Y&&ee&&e.schema.isValidChild(ee,t.toLowerCase())){const ge=Y.parentNode,Se=C.create(t);for(CO(e,Se),ge.insertBefore(Se,Y),Z=Y;Z&&!C.isBlock(Z);){const ve=Z.nextSibling;Se.appendChild(Z),Z=ve}o.setStart(i,c),o.setEnd(i,c)}}return i},Wne=(e,t)=>{t.normalize();const o=t.lastChild;(!o||En(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},Zne=(e,t)=>{const o=TE(e);return st(t)?!1:he(o)?ie(Xt.explode(o),t.nodeName.toLowerCase()):o},vZ={insert:(e,t)=>{let o,i,c,m,h=!1;const C=e.dom,A=e.schema,V=A.getNonEmptyElements(),Z=e.selection.getRng(),Y=rl(e),ee=Fe.fromDom(Z.startContainer),ge=Wu(ee,Z.startOffset),Se=ge.exists(Nt=>Na(Nt)&&!_r(Nt)),ve=Z.collapsed&&Se,Oe=(Nt,Cn)=>mZ(e,o,Yt,Bt,AE(e),Nt,Cn),He=Nt=>{const Cn=tH(Nt,o,i);if(Ut(o)&&(Nt?Cn>0:Cn<o.data.length))return!1;if((o.parentNode===Yt||o===Yt)&&h&&!Nt||Nt&&En(o)&&o===Yt.firstChild)return!0;if(Q9(o,"TABLE")||Q9(o,"HR"))return h&&!Nt||!h&&Nt;const Vn=new ca(o,Yt);Ut(o)&&(Nt&&Cn===0?Vn.prev():!Nt&&Cn===o.data.length&&Vn.next());let No;for(;No=Vn.current();){if(En(No)){if(!No.getAttribute("data-mce-bogus")){const Ho=No.nodeName.toLowerCase();if(V[Ho]&&Ho!=="br")return!1}}else if(Ut(No)&&!sc(No.data))return!1;Nt?Vn.prev():Vn.next()}return!0},Qe=()=>{let Nt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&pn!=="HGROUP"?Nt=Oe(Y):Nt=Oe(),Zne(e,m)&&eH(C,m)&&C.isEmpty(Yt,void 0,{includeZwsp:!0})?Nt=C.split(m,Yt):C.insertAfter(Nt,Yt),gk(e,Nt),Nt};rg(C,Z).each(Nt=>{Z.setStart(Nt.startContainer,Nt.startOffset),Z.setEnd(Nt.endContainer,Nt.endOffset)}),o=Z.startContainer,i=Z.startOffset;const Xe=!!(t&&t.shiftKey),dt=!!(t&&t.ctrlKey);En(o)&&o.hasChildNodes()&&!ve&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Ut(o)?i=o.data.length:i=0);const Bt=wO(C,o);if(!Bt||Fne(e,o))return;Xe||(o=Une(e,Y,Z,o,i));let Yt=C.getParent(o,C.isBlock)||C.getRoot();m=Ee(Yt==null?void 0:Yt.parentNode)?C.getParent(Yt.parentNode,C.isBlock):null,c=Yt?Yt.nodeName.toUpperCase():"";const pn=m?m.nodeName.toUpperCase():"";if(pn==="LI"&&!dt){const Nt=m;Yt=Nt,m=Nt.parentNode,c=pn}if(En(m)&&Rne(e,Xe,Yt))return Ine(e,Oe,Yt);if(/^(LI|DT|DD)$/.test(c)&&En(m)&&C.isEmpty(Yt)){Bne(e,Oe,m,Yt,Y);return}if(!ve&&(Yt===e.getBody()||!eH(C,Yt)))return;const kt=Yt.parentNode;let bt;if(ve)bt=Oe(Y),ge.fold(()=>{Wr(ee,Fe.fromDom(bt))},Nt=>{Dr(Nt,Fe.fromDom(bt))}),e.selection.setCursorLocation(bt,0);else if(yp(Yt))bt=ch(Yt),C.isEmpty(Yt)&&X9(Yt),CO(e,bt),gk(e,bt);else if(He(!1))bt=Qe();else if(He(!0)&&kt){const Nt=xt.fromRangeStart(Z),Cn=J0(Nt),Vn=Fe.fromDom(Yt),Ho=Wb(Vn,Nt,e.schema)?$_(Vn,Nt,e.schema).bind(Us=>Q.from(Us.getNode())):Q.none();bt=kt.insertBefore(Oe(),Yt);const Rs=Q9(Yt,"HR")||Cn?bt:Ho.getOr(Yt);gk(e,Rs)}else{const Nt=Hne(Z).cloneRange();Nt.setEndAfter(Yt);const Cn=Nt.extractContents();Lne(Cn),$ne(Cn),bt=Cn.firstChild,C.insertAfter(Cn,Yt),zne(C,V,bt),Wne(C,Yt),C.isEmpty(Yt)&&X9(Yt),bt.normalize(),C.isEmpty(bt)?(C.remove(bt),Qe()):(CO(e,bt),gk(e,bt))}C.setAttrib(bt,"id",""),e.dispatch("NewBlock",{newBlock:bt})},fakeEventName:"insertParagraph"},jne=(e,t,o)=>{const i=new ca(t,o);let c;const m=e.getNonEmptyElements();for(;c=i.next();)if(m[c.nodeName.toLowerCase()]||Ut(c)&&c.length>0)return!0;return!1},bZ=(e,t,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),sd(e,i)},Kne=(e,t)=>{const o=e.selection,i=e.dom,c=o.getRng();let m,h=!1;rg(i,c).each(ge=>{c.setStart(ge.startContainer,ge.startOffset),c.setEnd(ge.endContainer,ge.endOffset)});let C=c.startOffset,A=c.startContainer;if(En(A)&&A.hasChildNodes()){const ge=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ge&&Ut(A)?C=A.data.length:C=0}let V=i.getParent(A,i.isBlock);const Z=V&&V.parentNode?i.getParent(V.parentNode,i.isBlock):null,Y=Z?Z.nodeName.toUpperCase():"",ee=!!(t&&t.ctrlKey);Y==="LI"&&!ee&&(V=Z),Ut(A)&&C>=A.data.length&&(jne(e.schema,A,V||i.getRoot())||(m=i.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),h=!0)),m=i.create("br"),O0(i,c,m),bZ(e,m,h),e.undoManager.add()},Gne=(e,t)=>{const o=Fe.fromTag("br");Dr(Fe.fromDom(t),o),e.undoManager.add()},qne=(e,t)=>{Xne(e.getBody(),t)||it(Fe.fromDom(t),Fe.fromTag("br"));const o=Fe.fromTag("br");it(Fe.fromDom(t),o),bZ(e,o.dom,!1),e.undoManager.add()},Yne=e=>pr(e.getNode()),Xne=(e,t)=>Yne(xt.after(t))?!0:Gl(e,xt.after(t)).map(o=>pr(o.getNode())).getOr(!1),yZ=e=>e&&e.nodeName==="A"&&"href"in e,Jne=e=>e.fold(fn,yZ,yZ,fn),Qne=e=>{const t=tt(jb,e),o=xt.fromRangeStart(e.selection.getRng());return bg(t,e.getBody(),o).filter(Jne)},eoe=(e,t)=>{t.fold(ct,tt(Gne,e),tt(qne,e),ct)},xZ={insert:(e,t)=>{const o=Qne(e);o.isSome()?o.each(tt(eoe,e)):Kne(e,t)},fakeEventName:"insertLineBreak"},wZ=(e,t)=>Y9(e).filter(o=>t.length>0&&Ps(Fe.fromDom(o),t)).isSome(),toe=e=>wZ(e,VD(e)),noe=e=>wZ(e,zD(e)),of=Go.generate([{br:[]},{block:[]},{none:[]}]),ooe=(e,t)=>noe(e),CZ=e=>(t,o)=>Ane(t)===e,_Z=(e,t)=>(o,i)=>Ene(o)===e.toUpperCase()===t,soe=e=>{const t=wO(e.dom,e.selection.getStart());return st(t)},_O=e=>_Z("pre",e),roe=()=>_Z("summary",!0),rB=e=>(t,o)=>kE(t)===e,ioe=(e,t)=>toe(e),iB=(e,t)=>t,aoe=e=>{const t=rl(e),o=wO(e.dom,e.selection.getStart());return Ee(o)&&e.schema.isValidChild(o.nodeName,t)},loe=e=>{const t=e.selection.getRng(),o=Fe.fromDom(t.startContainer),c=Wu(o,t.startOffset).map(m=>Na(m)&&!_r(m));return t.collapsed&&c.getOr(!0)},nm=(e,t)=>(o,i)=>Vt(e,(m,h)=>m&&h(o,i),!0)?Q.some(t):Q.none(),coe=(e,t)=>sM([nm([ooe],of.none()),nm([_O(!0),soe],of.none()),nm([roe()],of.br()),nm([_O(!0),rB(!1),iB],of.br()),nm([_O(!0),rB(!1)],of.block()),nm([_O(!0),rB(!0),iB],of.block()),nm([_O(!0),rB(!0)],of.br()),nm([CZ(!0),iB],of.br()),nm([CZ(!0)],of.block()),nm([ioe],of.br()),nm([iB],of.br()),nm([aoe],of.block()),nm([loe],of.block())],[e,!!(t&&t.shiftKey)]).getOr(of.none()),aB=(e,t,o)=>{t.selection.isCollapsed()||PI(t),!(Ee(o)&&nB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Ee(o)&&xO(t,e.fakeEventName))},SZ=(e,t)=>{const o=()=>aB(xZ,e,t),i=()=>aB(vZ,e,t),c=coe(e,t);switch(EE(e)){case"linebreak":c.fold(o,o,ct);break;case"block":c.fold(i,i,ct);break;case"invert":c.fold(i,o,ct);break;default:c.fold(o,i,ct);break}},kZ=na(),uoe=kZ.os.isiOS()&&kZ.browser.isSafari(),EZ=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),PV(e.undoManager),e.undoManager.transact(()=>{SZ(e,t)}))},doe=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Ut(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=t.data.charAt(e.startOffset-1);return o.test(i)}else return!1},foe=e=>{let t=Q.none();const o=c=>{t=Q.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,m)=>{c.undoManager.undo(),t.fold(ct,h=>c.selection.moveToBookmark(h)),EZ(c,m),t=Q.none()};e.on("keydown",c=>{c.keyCode===dn.ENTER&&(uoe&&doe(e.selection.getRng())?o(e):EZ(e,c))}),e.on("keyup",c=>{c.keyCode===dn.ENTER&&t.each(()=>i(e,c))})},moe=(e,t,o)=>{const i=Bo.os.isMacOS()||Bo.os.isiOS();rv([{keyCode:dn.END,action:uo(nf,e,!0)},{keyCode:dn.HOME,action:uo(nf,e,!1)},...i?[]:[{keyCode:dn.HOME,action:uo(d1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:dn.END,action:uo(d1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:dn.END,action:uo(gO,e,!0)},{keyCode:dn.HOME,action:uo(gO,e,!1)},{keyCode:dn.END,action:uo(Iw,e,!0,t)},{keyCode:dn.HOME,action:uo(Iw,e,!1,t)}],o).each(c=>{o.preventDefault()})},goe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||moe(e,t,o)})},hoe=e=>{e.on("input",t=>{t.isComposing||XF(e)})},poe=na(),voe=(e,t,o)=>{rv([{keyCode:dn.PAGE_UP,action:uo(Iw,e,!1,t)},{keyCode:dn.PAGE_DOWN,action:uo(Iw,e,!0,t)}],o)},AZ=e=>e.stopImmediatePropagation(),TZ=e=>e.keyCode===dn.PAGE_UP||e.keyCode===dn.PAGE_DOWN,OZ=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",AZ,!0):!o&&e.get()&&t.off("NodeChange",AZ),e.set(o)},boe=(e,t)=>{if(poe.os.isMacOS())return;const o=Ri(!1);e.on("keydown",i=>{TZ(i)&&OZ(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||voe(e,t,i),TZ(i)&&o.get()&&(OZ(o,e,!1),e.nodeChanged())})},yoe=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||xe(t.getTargetRanges(),o=>!WR(e.dom,o)))&&t.preventDefault()})},DZ=(e,t)=>{const o=t.container(),i=t.offset();return Ut(o)?(o.insertData(i,e),Q.some(xt(o,i+e.length))):t_(t).map(c=>{const m=Fe.fromText(e);return t.isAtEnd()?it(c,m):Dr(c,m),xt(m.dom,e.length)})},RZ=tt(DZ,Di),IZ=tt(DZ," "),xoe=(e,t,o)=>s3(e,t,o)?RZ(t):IZ(t),woe=e=>t=>t.fold(o=>$c(e.dom,xt.before(o)),o=>Qn(o),o=>td(o),o=>Gl(e.dom,xt.after(o))),Coe=(e,t,o)=>i=>s3(e,i,o)?RZ(t):IZ(t),NZ=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},_oe=(e,t)=>e.isEditable(e.getParent(t,"summary")),Soe=e=>{const t=xt.fromRangeStart(e.selection.getRng()),o=Fe.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=tt(jb,e),c=xt.fromRangeStart(e.selection.getRng());return bg(i,e.getBody(),c).bind(woe(o)).map(m=>()=>Coe(o,t,e.schema)(m).each(NZ(e)))}else return Q.none()},koe=e=>{const t=()=>{const o=Fe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=xt.fromRangeStart(e.selection.getRng());xoe(o,i,e.schema).each(NZ(e))};return Bg(Bo.browser.isFirefox()&&e.selection.isEditable()&&_oe(e.dom,e.selection.getRng().startContainer),t)},Eoe=(e,t)=>{fk([{keyCode:dn.SPACEBAR,action:uo(Soe,e)},{keyCode:dn.SPACEBAR,action:uo(koe,e)}],t).each(o=>{t.preventDefault(),nB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),xO(e,"insertText",{data:" "}))})},Aoe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Eoe(e,t)})},Toe=e=>u5(e)?[{keyCode:dn.TAB,action:uo(IW,e,!0)},{keyCode:dn.TAB,shiftKey:!0,action:uo(IW,e,!1)}]:[],Ooe=(e,t)=>{rv([...Toe(e)],t).each(o=>{t.preventDefault()})},Doe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Ooe(e,t)})},Roe=e=>{if(e.addShortcut("Meta+P","","mcePrint"),lne(e),vg(e))return Ri(null);{const t=DM(e);return yoe(e),u1(e),Wee(e,t),Sne(e,t),foe(e),Aoe(e),hoe(e),Doe(e),goe(e,t),boe(e,t),t}};class Ioe{constructor(t){this.lastPath=[],this.editor=t;let o;const i=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const m=t.selection.getRng(),h={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!R2(h,o))&&t.dispatch("SelectionChange"),o=h}),t.on("contextmenu",()=>{j0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&z0(t)&&!i.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&z0(t)&&(t.selection.getNode().nodeName==="IMG"?Zc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!R8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const m=[];this.editor.dom.getParent(i,h=>h===c?!0:(m.push(h),!1)),this.editor.dispatch("NodeChange",{...t,element:i,parents:m})}}isSameElementPath(t){let o;const i=this.editor,c=$o(i.dom.getParents(t,_n,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const PZ=za("image"),Noe=e=>{const t=e;return Q.from(t[PZ])},Poe=(e,t)=>{const o=e;o[PZ]=t},nH=za("event"),Moe=e=>{const t=e;return Q.from(t[nH])},lB=e=>t=>{const o=t;o[nH]=e},Boe=(e,t)=>lB(t)(e),MZ=lB(0),Loe=lB(2),Foe=lB(1),Voe=(e=>t=>{const o=t;return Q.from(o[nH]).exists(i=>i===e)})(0),zoe=()=>Object.freeze({length:0,item:e=>null}),oH=za("mode"),Hoe=e=>{const t=e;return Q.from(t[oH])},cB=e=>t=>{const o=t;o[oH]=e},BZ=(e,t)=>cB(t)(e),LZ=cB(0),sH=cB(2),$oe=cB(1),FZ=e=>t=>{const o=t;return Q.from(o[oH]).exists(i=>i===e)},hk=FZ(0),VZ=FZ(1),Uoe=(e,t)=>({...t,get length(){return t.length},add:(o,i)=>{if(hk(e))if(he(o)){if(!qe(i))return t.add(o,i)}else return t.add(o);return null},remove:o=>{hk(e)&&t.remove(o)},clear:()=>{hk(e)&&t.clear()}}),Woe=["none","copy","link","move"],Zoe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],rH=()=>{const e=new window.DataTransfer;let t="move",o="all";const i={get dropEffect(){return t},set dropEffect(c){ie(Woe,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){Voe(i)&&ie(Zoe,c)&&(o=c)},get items(){return Uoe(i,e.items)},get files(){return VZ(i)?zoe():e.files},get types(){return e.types},setDragImage:(c,m,h)=>{hk(i)&&(Poe(i,{image:c,x:m,y:h}),e.setDragImage(c,m,h))},getData:c=>VZ(i)?"":e.getData(c),setData:(c,m)=>{hk(i)&&e.setData(c,m)},clearData:c=>{hk(i)&&e.clearData(c)}};return LZ(i),i},joe=e=>{const t=rH(),o=Hoe(e);return sH(e),MZ(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Noe(e).each(i=>t.setDragImage(i.image,i.x,i.y)),pe(e.types,i=>{i!=="Files"&&t.setData(i,e.getData(i))}),pe(e.files,i=>t.items.add(i)),Moe(e).each(i=>{Boe(t,i)}),o.each(i=>{BZ(e,i),BZ(t,i)}),t},Koe=e=>{const t=e.getData("text/html");return t===""?Q.none():Q.some(t)},zZ=(e,t)=>e.setData("text/html",t),HZ="x-tinymce/html",uB=et(HZ),iH="<!-- "+HZ+" -->",Goe=e=>iH+e,qoe=e=>e.replace(iH,""),$Z=e=>e.indexOf(iH)!==-1,Yoe=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Xoe=(e,t)=>{let o="<"+e;const i=ul(t,(c,m)=>m+'="'+Yg.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},Joe=(e,t,o)=>{const i=e.split(/\n\n/),c=Xoe(t,o),m="</"+t+">",h=Be(i,A=>A.split(/\n/).join("<br />")),C=A=>c+A+m;return h.length===1?h[0]:Be(h,C).join("")},UZ="%MCEPASTEBIN%",Qoe=(e,t)=>{const{dom:o,selection:i}=e,c=e.getBody();t.set(i.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},UZ);Bo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),m.focus(),i.select(m,!0)},ese=(e,t)=>{const o=e.dom;if(aH(e)){let i;const c=t.get();for(;i=aH(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}t.set(null)},aH=e=>e.dom.get("mcepastebin"),tse=e=>Ee(e)&&e.id==="mcepastebin",nse=e=>{const t=e.dom,o=(h,C)=>{h.appendChild(C),t.remove(C,!0)},[i,...c]=vt(e.getBody().childNodes,tse);pe(c,h=>{o(i,h)});const m=t.select("div[id=mcepastebin]",i);for(let h=m.length-1;h>=0;h--){const C=t.create("div");i.insertBefore(C,m[h]),o(C,m[h])}return i?i.innerHTML:""},WZ=e=>e===UZ,ose=e=>{const t=Ri(null);return{create:()=>Qoe(e,t),remove:()=>ese(e,t),getEl:()=>aH(e),getHtml:()=>nse(e),getLastRng:t.get}},ZZ=(e,t)=>(Xt.each(t,o=>{Me(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),sse=e=>{const t=Bc(),o=uy({},t);let i="";const c=t.getVoidElements(),m=Xt.makeMap("script noscript style textarea video audio iframe object"," "),h=t.getBlockElements(),C=A=>{const V=A.name,Z=A;if(V==="br"){i+=`
`;return}if(V!=="wbr"){if(c[V]&&(i+=" "),m[V]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in t.getVoidElements())){let Y=A.firstChild;if(Y)do C(Y);while(Y=Y.next)}h[V]&&Z.next&&(i+=`
`,V==="p"&&(i+=`
`))}};return e=ZZ(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),i},jZ=e=>(e=ZZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Di],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),rse=e=>{let t=0;return()=>e+t++},ise=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},ase=(e,t)=>{const o=uy({sanitize:a5(e),sandbox_iframes:HE(e),sandbox_iframes_exclusions:GC(e),convert_unsafe_embeds:f5(e)},e.schema);o.addNodeFilter("meta",c=>{Xt.each(c,m=>{m.remove()})});const i=o.parse(t,{forced_root_block:!1,isRootContent:!0});return wh({validate:!0},e.schema).serialize(i)},KZ=(e,t)=>({content:e,cancelled:t}),lse=(e,t,o)=>{const i=e.dom.create("div",{style:"display:none"},t),c=b_(e,i,o);return KZ(c.node.innerHTML,c.isDefaultPrevented())},cse=(e,t,o)=>{const i=A2(e,t,o),c=ase(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?lse(e,c,o):KZ(c,i.isDefaultPrevented())},use=(e,t,o)=>cse(e,t,o),lH=(e,t)=>(e.insertContent(t,{merge:L8(e),paste:!0}),!0),cH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),dse=(e,t)=>cH(t)&&xe(zE(e),o=>Te(t.toLowerCase(),`.${o.toLowerCase()}`)),fse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),mse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),gse=(e,t,o)=>!e.selection.isCollapsed()&&cH(t)?mse(e,t,o):!1,hse=(e,t,o)=>dse(e,t)?fse(e,t,o):!1,pse=(e,t)=>{Xt.each([gse,hse,lH],o=>!o(e,t,lH))},vse=(e,t,o)=>{o||!_b(e)?lH(e,t):pse(e,t)},bse=rse("mceclip"),yse=e=>{const t=rH();return zZ(t,e),sH(t),t},GZ=(e,t,o,i,c)=>{const m=use(e,t,o);if(!m.cancelled){const h=m.content,C=()=>vse(e,h,i);c?nB(e,"insertFromPaste",{dataTransfer:yse(h)}).isDefaultPrevented()||(C(),xO(e,"insertFromPaste")):C()}},dB=(e,t,o,i)=>{const c=o||$Z(t);GZ(e,qoe(t),c,!1,i)},uH=(e,t,o)=>{const i=e.dom.encode(t).replace(/\r\n/g,`
`),c=Mv(i,s5(e)),m=Joe(c,rl(e),Xx(e));GZ(e,m,!1,!0,o)},qZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{t[i]=e.getData(i)}catch{t[i]=""}}return t},Ay=(e,t)=>t in e&&e[t].length>0,YZ=e=>Ay(e,"text/html")||Ay(e,"text/plain"),xse=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ee(o)?e.dom.encode(o[1]):void 0},wse=(e,t,o,i)=>{const c=bse(),m=gh(e)&&Ee(o.name),h=m?xse(e,o.name):c,C=m?o.name:void 0,A=t.create(c,o,i,h,C);return t.add(A),A},Cse=(e,t)=>{DS(t.uri).each(({data:o,type:i,base64Encoded:c})=>{const m=c?o:btoa(o),h=t.file,C=e.editorUpload.blobCache,A=C.getByData(m,i),V=A??wse(e,C,h,m);dB(e,`<img src="${V.blobUri()}">`,!1,!0)})},_se=e=>e.type==="paste",Sse=e=>Promise.all(Be(e,t=>PN(t).then(o=>({file:t,uri:o})))),kse=e=>{const t=zE(e);return o=>cr(o.type,"image/")&&xe(t,i=>ise(i)===o.type)},Ese=(e,t)=>{const o=t.items?wo(vo(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=t.files?vo(t.files):[];return vt(o.length>0?o:i,kse(e))},XZ=(e,t,o)=>{const i=_se(t)?t.clipboardData:t.dataTransfer;if(eg(e)&&i){const c=Ese(e,i);if(c.length>0)return t.preventDefault(),Sse(c).then(m=>{o&&e.selection.setRng(o),pe(m,h=>{Cse(e,h)})}),!0}return!1},Ase=e=>{var t,o;return Bo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Tse=e=>dn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,dH=(e,t,o,i,c)=>{let m=jZ(o);const h=Ay(t,uB())||$Z(o),C=!h&&Yoe(m),A=cH(m);(WZ(m)||!m.length||C&&!A)&&(i=!0),(i||A)&&(Ay(t,"text/plain")&&C?m=t["text/plain"]:m=sse(m)),!WZ(m)&&(i?uH(e,m,c):dB(e,m,h,c))},Ose=(e,t,o)=>{let i;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Tse(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Ase(m))return;const h=o.get()==="text"||i;i=!1;const C=qZ(m.clipboardData);!YZ(C)&&XZ(e,m,c())||(Ay(C,"text/html")?(m.preventDefault(),dH(e,C,C["text/html"],h,!0)):Ay(C,"text/plain")&&Ay(C,"text/uri-list")?(m.preventDefault(),dH(e,C,C["text/plain"],h,!0)):(t.create(),Zc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),dH(e,C,A,h,!1)},0)))})},Dse=e=>{const t=c=>cr(c,"webkit-fake-url"),o=c=>cr(c,"data:"),i=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,h)=>{if(!eg(e)&&i(h))for(const C of c){const A=C.attr("src");he(A)&&!C.attr("data-mce-object")&&A!==Bo.transparentSrc&&(t(A)||!F8(e)&&o(A))&&C.remove()}})},Rse=(e,t,o)=>{Ose(e,t,o),Dse(e)},Ise=(e,t)=>{t.get()==="text"?(t.set("html"),y_(e,!1)):(t.set("text"),y_(e,!0)),e.focus()},Nse=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Ise(e,t)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&dB(e,i.html,i.internal,!1),i.text&&uH(e,i.text,!1)})},Pse=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(uB(),t),!0}catch{return!1}else return!1},JZ=(e,t,o,i)=>{Pse(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):o(t.html,i)},QZ=e=>(t,o)=>{const{dom:i,selection:c}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},t);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(h),i.add(e.getBody(),m);const C=c.getRng();h.focus();const A=i.createRng();A.selectNodeContents(h),c.setRng(A),Zc.setEditorTimeout(e,()=>{c.setRng(C),i.remove(m),o()},0)},ej=e=>({html:Goe(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Mse=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),tj=e=>!e.selection.isCollapsed()||Mse(e),Bse=e=>t=>{!t.isDefaultPrevented()&&tj(e)&&e.selection.isEditable()&&JZ(t,ej(e),QZ(e),()=>{if(Bo.browser.isChromium()||Bo.browser.isFirefox()){const o=e.selection.getRng();Zc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Lse=e=>t=>{!t.isDefaultPrevented()&&tj(e)&&JZ(t,ej(e),QZ(e),ct)},Fse=e=>{e.on("cut",Bse(e)),e.on("copy",Lse(e))},nj=(e,t)=>{var o,i;return Bp.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(i=t.clientY)!==null&&i!==void 0?i:0,e.getDoc())},Vse=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},oj=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},zse=e=>xe(e.files,t=>/^image\//.test(t.type)),Hse=(e,t,o,i)=>{const c=e.getParent(o,h=>Df(t,h));if(!Ue(e.getParent(o,"summary")))return!0;if(c&&ao(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ue(h.querySelector(c.nodeName.toLowerCase()))}else return!1},$se=e=>{e.on("input",t=>{const o=i=>Ue(i.querySelector("summary"));if(t.inputType==="deleteByDrag"){const i=vt(e.dom.select("details"),o);pe(i,c=>{pr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(Ud().dom),c.prepend(m)})}})},Use=(e,t)=>{Kf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),eg(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&zse(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=nj(e,o);if(st(i))return;const c=qZ(o.dataTransfer),m=Ay(c,uB());if((!YZ(c)||Vse(c))&&XZ(e,o,i))return;const h=c[uB()],C=h||c["text/html"]||c["text/plain"],A=Hse(e.dom,e.schema,i.startContainer,c),V=t.get();V&&!A||C&&(o.preventDefault(),Zc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||V&&A)&&e.execCommand("Delete"),oj(e,i);const Z=jZ(C);c["text/html"]?dB(e,Z,m,!0):uH(e,Z,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{eg(e)&&!t.get()&&(o.preventDefault(),oj(e,nj(e,o))),o.type==="dragend"&&t.set(!1)}),$se(e)},Wse=e=>{const t=c=>m=>{c(e,m)},o=B8(e);Le(o)&&e.on("PastePreProcess",t(o));const i=t2(e);Le(i)&&e.on("PastePostProcess",t(i))},Zse=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},jse=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,sj=e=>Xt.trim(e).replace(jse,qv).toLowerCase(),Kse=(e,t,o)=>{const i=o5(e);if(o||i==="all"||!BE(e))return t;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const m=e.dom,h=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,V,Z)=>{const Y=m.parseStyle(m.decode(V)),ee={};for(let Se=0;Se<c.length;Se++){const ve=Y[c[Se]];let Oe=ve,He=m.getStyle(h,c[Se],!0);/color/.test(c[Se])&&(Oe=sj(Oe),He=sj(He)),He!==Oe&&(ee[c[Se]]=ve)}const ge=m.serializeStyle(ee,"span");return ge?A+' style="'+ge+'"'+Z:A+Z})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,h,C,A)=>h+' style="'+C+'"'+A),t},Gse=e=>{(Bo.browser.isChromium()||Bo.browser.isSafari())&&Zse(e,Kse)},qse=e=>{const t=Ri(!1),o=Ri(Sb(e)?"text":"html"),i=ose(e);Gse(e),Nse(e,o),Wse(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Fse(e),Use(e,t),Rse(e,i,o)})},Yse=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Xse=e=>{e.parser.addNodeFilter("details",t=>{const o=KC(e);pe(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=d5(e);pe(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},Jse=e=>{Yse(e),Xse(e)},Qse=pr,rj=Ut,ere=e=>fo(e.dom),tre=e=>Ic(e.dom),ij=e=>t=>Yo(Fe.fromDom(e),t),nre=(e,t,o)=>hi(Fe.fromDom(e),i=>tre(i)||o.isBlock(qo(i)),ij(t)).getOr(Fe.fromDom(t)).dom,aj=(e,t)=>hi(Fe.fromDom(e),ere,ij(t)),lj=(e,t,o)=>{const i=new ca(e,t),c=o?i.next.bind(i):i.prev.bind(i);let m=e;for(let h=o?e:c();h&&!Qse(h);h=c())gu(h)&&(m=h);return m},ore=(e,t,o)=>{const c=xt.fromRangeStart(e).getNode(),m=nre(c,t,o),h=lj(c,m,!1),C=lj(c,m,!0),A=document.createRange();return aj(h,m).fold(()=>{rj(h)?A.setStart(h,0):A.setStartBefore(h)},V=>A.setStartBefore(V.dom)),aj(C,m).fold(()=>{rj(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},V=>A.setEndAfter(V.dom)),A},sre=e=>{const t=ore(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(lS(t))},rre=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),sre(e))})};var pk;(function(e){e.Before="before",e.After="after"})(pk||(pk={}));const ire=(e,t)=>Math.abs(e.left-t),are=(e,t)=>Math.abs(e.right-t),lre=(e,t)=>e>=t.top&&e<=t.bottom,cre=(e,t)=>e.top<t.bottom&&e.bottom>t.top,ure=(e,t)=>{const o=zx(e,t)/Math.min(e.height,t.height);return cre(e,t)&&o>.5},dre=(e,t)=>{const o=vt(e,i=>lre(t,i));return xp(o).fold(()=>[[],e],i=>{const{pass:c,fail:m}=zt(e,h=>ure(h,i));return[c,m]})},fre=(e,t)=>({node:e.node,position:ire(e,t)<are(e,t)?pk.Before:pk.After}),mre=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),fH=(e,t,o,i)=>{const c=Y=>gu(Y.node)?Q.some(Y):En(Y.node)?fH(vo(Y.node.childNodes),t,o,!1):Q.none(),m=(Y,ee,ge)=>c(ee).filter(Se=>Math.abs(ge(Y,t,o)-ge(Se,t,o))<2&&Ut(Se.node)),h=(Y,ee)=>{const ge=fs(Y,(Se,ve)=>ee(Se,t,o)-ee(ve,t,o));return or(ge,c).map(Se=>i&&!Ut(Se.node)&&ge.length>1?m(Se,ge[1],ee).getOr(Se):Se)},[C,A]=dre(CM(e),o),{pass:V,fail:Z}=zt(A,Y=>Y.top<o);return h(C,mre).orThunk(()=>h(Z,C0)).orThunk(()=>h(V,C0))},gre=(e,t,o,i)=>{const c=(m,h)=>{const C=V=>En(V)&&V.classList.contains("mce-drag-container"),A=vt(m.dom.childNodes,Ye(C));return h.fold(()=>fH(A,o,i,!0),V=>{const Z=vt(A,Y=>Y!==V.dom);return fH(Z,o,i,!0)}).orThunk(()=>(Yo(m,e)?Q.none():xf(m)).bind(Z=>c(Z,Q.some(m))))};return c(t,Q.none())},hre=(e,t,o)=>{const i=Fe.fromDom(e),c=nc(i),h=Fe.fromPoint(c,t,o).filter(C=>ia(i,C)).getOr(i);return gre(i,h,t,o)},cj=(e,t,o)=>hre(e,t,o).filter(i=>r2(i.node)).map(i=>fre(i,t)),uj=e=>{var t,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,h=c.defaultView;return{top:i.top+((t=h==null?void 0:h.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},pre=e=>e.inline?uj(e.getBody()):{left:0,top:0},vre=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},bre=e=>{const t=e.getBody(),o=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?i:c},yre=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=uj(e.getContentAreaContainer()),i=bre(e);return{left:t.pageX-o.left+i.left,top:t.pageY-o.top+i.top}}return{left:t.pageX,top:t.pageY}},xre=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),wre=(e,t)=>xre(pre(e),vre(e),yre(e,t)),dj=e=>({target:e,srcElement:e}),Cre=(e,t,o,i)=>({...t,dataTransfer:i,type:e,...dj(o)}),_re=(e,t,o)=>{const i=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:ct,stopImmediatePropagation:ct,stopPropagation:ct,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...dj(t)}},Sre=(e,t)=>{const o=joe(e);return t==="dragstart"?(MZ(o),LZ(o)):t==="drop"?(Loe(o),sH(o)):(Foe(o),$oe(o)),o},kre=(e,t,o,i)=>{const c=Sre(o,e);return qe(i)?_re(e,t,c):Cre(e,i,t,c)},fB=32,Ere=100,mB=8,gB=16,fj=fo,Are=Ux(fj,Ic),Tre=(e,t,o)=>fj(o)&&o!==t&&e.isEditable(o.parentElement),Ore=(e,t,o)=>st(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Dre=(e,t,o,i)=>{const c=e.dom,m=t.cloneNode(!0);c.setStyles(m,{width:o,height:i}),c.setAttrib(m,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),h.appendChild(m),h},Rre=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},hB=(e,t)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+t,behavior:"smooth"})},mj=hB("left",-fB),gj=hB("left",fB),hj=hB("top",-fB),pj=hB("top",fB),Ire=(e,t,o,i,c,m,h,C,A,V,Z,Y)=>{let ee=0,ge=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(ee=t.pageX+o-c),t.pageY+i>m&&(ge=t.pageY+i-m),e.style.width=o-ee+"px",e.style.height=i-ge+"px";const Se=A.clientHeight,ve=A.clientWidth,Oe=h+A.getBoundingClientRect().top,He=C+A.getBoundingClientRect().left;Z.on(Qe=>{Qe.intervalId.clear(),Qe.dragging&&Y&&(h+mB>=Se?Qe.intervalId.set(pj(V)):h-mB<=0?Qe.intervalId.set(hj(V)):C+mB>=ve?Qe.intervalId.set(gj(V)):C-mB<=0?Qe.intervalId.set(mj(V)):Oe+gB>=window.innerHeight?Qe.intervalId.set(pj(window)):Oe-gB<=0?Qe.intervalId.set(hj(window)):He+gB>=window.innerWidth?Qe.intervalId.set(gj(window)):He-gB<=0&&Qe.intervalId.set(mj(window)))})},vj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Nre=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);vj(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Vc(Fe.fromDom(o))},Pre=e=>e.button===0,Mre=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Bre=(e,t)=>o=>{if(Pre(o)){const i=cn(t.dom.getParents(o.target),Are).getOr(null);if(Ee(i)&&Tre(t.dom,t.getBody(),i)){const c=t.dom.getPos(i),m=t.getBody(),h=t.getDoc().documentElement;e.set({element:i,dataTransfer:rH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:h.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Dre(t,i,i.offsetWidth,i.offsetHeight),intervalId:Nc(Ere)})}}},Lre=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),cj(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===pk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},SO=(e,t,o,i,c)=>{t==="dragstart"&&zZ(i,e.dom.getOuterHTML(o));const m=kre(t,o,i,c);return e.dispatch(t,m)},Fre=(e,t)=>{const o=rh((c,m)=>Lre(t,c,m),0);t.on("remove",o.cancel);const i=e;return c=>e.on(m=>{const h=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&h>10){const C=SO(t,"dragstart",m.element,m.dataTransfer,c);if(Ee(C.dataTransfer)&&(m.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const C=c.currentTarget===t.getDoc().documentElement,A=Mre(m,wre(t,c));Rre(m.ghost,t.getBody()),Ire(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),i,C),o.throttle(c.clientX,c.clientY)}})},Vre=e=>{const t=e.getSel();if(Ee(t)){const i=t.getRangeAt(0).startContainer;return Ut(i)?i.parentNode:i}else return null},zre=(e,t)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Ore(t,Vre(t.selection),i.element)){const m=(c=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:t.getBody();SO(t,"drop",m,i.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Nre(t.dom,i.element),Koe(i.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}SO(t,"dragend",t.getBody(),i.dataTransfer,o)}}),yj(e)},bj=(e,t,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>SO(t,"dragend",i.element,i.dataTransfer),c=>SO(t,"dragend",i.element,i.dataTransfer,c))}),yj(e)},Hre=(e,t)=>o=>bj(e,t,Q.some(o)),yj=e=>{e.on(t=>{t.intervalId.clear(),vj(t.ghost)}),e.clear()},$re=e=>{const t=Ii(),o=Gs.DOM,i=document,c=Bre(t,e),m=Fre(t,e),h=zre(t,e),C=Hre(t,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",h),o.bind(i,"mousemove",m),o.bind(i,"mouseup",C),e.on("remove",()=>{o.unbind(i,"mousemove",m),o.unbind(i,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===dn.ESC&&bj(t,e,Q.none())})},Ure=e=>{const t=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(ie(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&YS(e,"Dropped file type is not supported"))}},o=c=>{R_(e,c.target)&&t(c)},i=()=>{const c=Gs.DOM,m=e.dom,h=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];pe(A,V=>{c.bind(h,V,o),m.bind(C,V,t)}),e.on("remove",()=>{pe(A,V=>{c.unbind(h,V,o),m.unbind(C,V,t)})})};e.on("init",()=>{Zc.setEditorTimeout(e,i,0)})},Wre=e=>{$re(e),ZC(e)&&Ure(e)},Zre=e=>{const t=rh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=ek(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},jre=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(St(o)){const i=cd(e.getBody(),o),c=fo(i)?i:o;e.selection.getNode()!==c&&Ew(e,c).each(m=>e.selection.setRng(m))}})})},kO=fo,xj=(e,t)=>cd(e.getBody(),t),Kre=e=>{const t=e.selection,o=e.dom,i=e.getBody(),c=y5(e,i,o.isBlock,()=>K0(e)),m="sel-"+o.uniqueId(),h="data-mce-selected";let C;const A=pn=>Ee(pn)&&o.hasClass(pn,"mce-offscreen-selection"),V=pn=>pn!==i&&(kO(pn)||St(pn))&&o.isChildOf(pn,i)&&o.isEditable(pn.parentNode),Z=pn=>{pn&&t.setRng(pn)},Y=(pn,kt,bt,Nt=!0)=>e.dispatch("ShowCaret",{target:kt,direction:pn,before:bt}).isDefaultPrevented()?null:(Nt&&t.scrollIntoView(kt,pn===-1),c.show(bt,kt)),ee=pn=>{pn.hasAttribute("data-mce-caret")&&(ch(pn),t.scrollIntoView(pn))},ge=()=>{e.on("click",kt=>{o.isEditable(kt.target)||(kt.preventDefault(),e.focus())}),e.on("blur NewBlock",dt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",kt=>{const bt=kt.target,Nt=xj(e,bt);kO(Nt)?(kt.preventDefault(),Ew(e,Nt).each(Xe)):V(bt)&&Ew(e,bt).each(Xe)},!0),e.on("mousedown",kt=>{const bt=kt.target;if(bt!==i&&bt.nodeName!=="HTML"&&!o.isChildOf(bt,i)||!bz(e,kt.clientX,kt.clientY))return;dt(),Yt();const Nt=xj(e,bt);kO(Nt)?(kt.preventDefault(),Ew(e,Nt).each(Xe)):cj(i,kt.clientX,kt.clientY).each(Cn=>{kt.preventDefault();const Vn=Y(1,Cn.node,Cn.position===pk.Before,!1);Z(Vn),lu(Nt)?Nt.focus():e.getBody().focus()})}),e.on("keypress",kt=>{dn.modifierPressed(kt)||kO(t.getNode())&&kt.preventDefault()}),e.on("GetSelectionRange",kt=>{let bt=kt.range;if(C){if(!C.parentNode){C=null;return}bt=bt.cloneRange(),bt.selectNode(C),kt.range=bt}}),e.on("SetSelectionRange",kt=>{kt.range=Oe(kt.range);const bt=Xe(kt.range,kt.forward);bt&&(kt.range=bt)});const pn=kt=>En(kt)&&kt.id==="mcepastebin";e.on("AfterSetSelectionRange",kt=>{const bt=kt.range,Nt=bt.startContainer.parentElement;!ve(bt)&&!pn(Nt)&&Yt(),A(Nt)||dt()}),Wre(e),Zre(e),jre(e)},Se=pn=>Kl(pn)||db(pn)||Zd(pn),ve=pn=>Se(pn.startContainer)||Se(pn.endContainer),Oe=pn=>{const kt=e.schema.getVoidElements(),bt=o.createRng(),Nt=pn.startContainer,Cn=pn.startOffset,Vn=pn.endContainer,No=pn.endOffset;return ao(kt,Nt.nodeName.toLowerCase())?Cn===0?bt.setStartBefore(Nt):bt.setStartAfter(Nt):bt.setStart(Nt,Cn),ao(kt,Vn.nodeName.toLowerCase())?No===0?bt.setEndBefore(Vn):bt.setEndAfter(Vn):bt.setEnd(Vn,No),bt},He=(pn,kt)=>{const bt=Fe.fromDom(e.getBody()),Nt=e.getDoc(),Cn=Dt(bt,"#"+m).getOrThunk(()=>{const Ho=Fe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nt);return xi(Ho,"id",m),Wr(bt,Ho),Ho}),Vn=o.createRng();Qs(Cn),ti(Cn,[Fe.fromText(Di,Nt),Fe.fromDom(kt),Fe.fromText(Di,Nt)]),Vn.setStart(Cn.dom.firstChild,1),Vn.setEnd(Cn.dom.lastChild,0),Ko(Cn,{top:o.getPos(pn,e.getBody()).y+"px"}),OA(Cn);const No=t.getSel();return No&&(No.removeAllRanges(),No.addRange(Vn)),Vn},Qe=pn=>{const kt=pn.cloneNode(!0),bt=e.dispatch("ObjectSelected",{target:pn,targetClone:kt});if(bt.isDefaultPrevented())return null;const Nt=He(pn,bt.targetClone),Cn=Fe.fromDom(pn);return pe(pi(Fe.fromDom(e.getBody()),`*[${h}]`),Vn=>{Yo(Cn,Vn)||Ro(Vn,h)}),o.getAttrib(pn,h)||pn.setAttribute(h,"1"),C=pn,Yt(),Nt},Xe=(pn,kt)=>{if(!pn)return null;if(pn.collapsed){if(!ve(pn)){const Vn=kt?1:-1,No=c2(Vn,i,pn),Ho=No.getNode(!kt);if(Ee(Ho)){if(r2(Ho))return Y(Vn,Ho,kt?!No.isAtEnd():!1,!1);if(Gm(Ho)&&fo(Ho.nextSibling)){const Us=o.createRng();return Us.setStart(Ho,0),Us.setEnd(Ho,0),Us}}const Rs=No.getNode(kt);if(Ee(Rs)){if(r2(Rs))return Y(Vn,Rs,kt?!1:!No.isAtEnd(),!1);if(Gm(Rs)&&fo(Rs.previousSibling)){const Us=o.createRng();return Us.setStart(Rs,1),Us.setEnd(Rs,1),Us}}}return null}let bt=pn.startContainer,Nt=pn.startOffset;const Cn=pn.endOffset;if(Ut(bt)&&Nt===0&&kO(bt.parentNode)&&(bt=bt.parentNode,Nt=o.nodeIndex(bt),bt=bt.parentNode),!En(bt))return null;if(Cn===Nt+1&&bt===pn.endContainer){const Vn=bt.childNodes[Nt];if(V(Vn))return Qe(Vn)}return null},dt=()=>{C&&C.removeAttribute(h),Dt(Fe.fromDom(e.getBody()),"#"+m).each(Ds),C=null},Bt=()=>{c.destroy(),C=null},Yt=()=>{c.hide()};return vg(e)||ge(),{showCaret:Y,showBlockCaretContainer:ee,hideFakeCaret:Yt,destroy:Bt}},Gre=(e,t)=>{let o=t;for(let i=e.previousSibling;Ut(i);i=i.previousSibling)o+=i.data.length;return o},wj=(e,t,o,i,c)=>{if(Ut(o)&&(i<0||i>o.data.length))return[];const m=c&&Ut(o)?[Gre(o,i)]:[i];let h=o;for(;h!==t&&h.parentNode;)m.push(e.nodeIndex(h,c)),h=h.parentNode;return h===t?m.reverse():[]},mH=(e,t,o,i,c,m,h=!1)=>{const C=wj(e,t,o,i,h),A=wj(e,t,c,m,h);return{start:C,end:A}},Cj=(e,t)=>{const o=t.slice(),i=o.pop();return O(i)?Vt(o,(m,h)=>m.bind(C=>Q.from(C.childNodes[h])),Q.some(e)).bind(m=>Ut(m)&&(i<0||i>m.data.length)?Q.none():Q.some({node:m,offset:i})):Q.none()},_j=(e,t)=>Cj(e,t.start).bind(({node:o,offset:i})=>Cj(e,t.end).map(({node:c,offset:m})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,m),h})),qre=(e,t,o,i=!1)=>mH(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),vk=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const i=t.parentNode;e.remove(t,Ut(t.firstChild)&&sc(t.firstChild.data)),vk(e,i,o)}},pB=(e,t,o,i=!0)=>{const c=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),i&&!o(t.startContainer)&&(Ut(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ut(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),vk(e,c,o),c!==m&&vk(e,m,o))},vB=(e,t)=>Q.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),gH=(e,t,o)=>{const i=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Oa(i).concat(e.blockPatterns),inlinePatterns:ed(i).concat(e.inlinePatterns)}},hH=(e,t,o,i)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,i),c.toString()},Sj=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),bB=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},kj=(e,t,o)=>{const i=_j(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,m=i.endContainer,h=i.endOffset===0?m:m.splitText(i.endOffset),C=i.startOffset===0?c:c.splitText(i.startOffset),A=C.parentNode,V=h.parentNode;return{prefix:t,end:V.insertBefore(Sj(e,t+"-end"),h),start:A.insertBefore(Sj(e,t+"-start"),C)}},Ej=(e,t,o)=>{vk(e,e.get(t.prefix+"-end"),o),vk(e,e.get(t.prefix+"-start"),o)},pH=e=>e.start.length===0,Yre=e=>(t,o)=>{const c=t.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:m!==-1?m+1:-1},Aj=(e,t,o,i)=>{const c=t.start;return F9(e,i.container,i.offset,Yre(c),o).bind(h=>{var C,A;const V=(A=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(c))!==null&&A!==void 0?A:-1;if(V!==-1&&h.offset>=V+c.length){const Y=e.createRng();return Y.setStart(h.container,h.offset-c.length),Y.setEnd(h.container,h.offset),Q.some(Y)}else{const Y=h.offset-c.length;return L9(h.container,Y,o).map(ee=>{const ge=e.createRng();return ge.setStart(ee.container,ee.offset),ge.setEnd(h.container,h.offset),ge}).filter(ee=>ee.toString()===c).orThunk(()=>Aj(e,t,o,Mh(h.container,0)))}})},Xre=(e,t,o,i,c,m=!1)=>{if(t.start.length===0&&!m){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),Q.some(h)}return B9(o,i,c).bind(h=>Aj(e,t,c,h).bind(A=>{var V;if(m){if(A.endContainer===h.container&&A.endOffset===h.offset)return Q.none();if(h.offset===0&&((V=A.endContainer.textContent)===null||V===void 0?void 0:V.length)===A.endOffset)return Q.none()}return Q.some(A)}))},Jre=(e,t,o,i)=>{const c=e.dom,m=c.getRoot(),h=o.pattern,C=o.position.container,A=o.position.offset;return L9(C,A-o.pattern.end.length,t).bind(V=>{const Z=mH(c,m,V.container,V.offset,C,A,i);if(pH(h))return Q.some({matches:[{pattern:h,startRng:Z,endRng:Z}],position:V});{const Y=yB(e,o.remainingPatterns,V.container,V.offset,t,i),ee=Y.getOr({matches:[],position:V}),ge=ee.position;return Xre(c,h,ge.container,ge.offset,t,Y.isNone()).map(ve=>{const Oe=qre(c,m,ve,i);return{matches:ee.matches.concat([{pattern:h,startRng:Oe,endRng:Z}]),position:Mh(ve.startContainer,ve.startOffset)}})}})},yB=(e,t,o,i,c,m)=>{const h=e.dom;return B9(o,i,h.getRoot()).bind(C=>{const A=hH(h,c,o,i);for(let V=0;V<t.length;V++){const Z=t[V];if(!Te(A,Z.end))continue;const Y=t.slice();Y.splice(V,1);const ee=Jre(e,c,{pattern:Z,remainingPatterns:Y,position:C},m);if(ee.isNone()&&i>0)return yB(e,t,o,i-1,c,m);if(ee.isSome())return ee}return Q.none()})},Tj=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?pe(t.format,i=>{e.formatter.apply(i)}):e.execCommand(t.cmd,!1,t.value)},Qre=(e,t,o,i)=>{const c=bB(e.dom,o);pB(e.dom,c,i),Tj(e,t,c)},eie=(e,t,o,i,c)=>{const m=e.dom,h=bB(m,i),C=bB(m,o);pB(m,C,c),pB(m,h,c);const A={prefix:o.prefix,start:o.end,end:i.start},V=bB(m,A);Tj(e,t,V)},tie=(e,t)=>{const o=za("mce_textpattern"),i=Ft(t,(c,m)=>{const h=kj(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:h}])},[]);return Ft(i,(c,m)=>{const h=i.length-c.length-1,C=pH(m.pattern)?m.endMarker:kj(e,o+`_start${h}`,m.startRng);return c.concat([{...m,startMarker:C}])},[])},nie=e=>fs(e,(t,o)=>o.end.length-t.end.length),oie=(e,t)=>{const o=Do(e,i=>xe(t,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},Oj=(e,t,o,i,c,m)=>{const h=yB(e,c.inlinePatterns,o,i,t,m).fold(()=>[],A=>A.matches),C=yB(e,nie(c.inlinePatterns),o,i,t,m).fold(()=>[],A=>A.matches);return oie(h,C)},Dj=(e,t)=>{if(t.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=tie(o,t);pe(c,m=>{const h=o.getParent(m.startMarker.start,o.isBlock),C=A=>A===h;pH(m.pattern)?Qre(e,m.pattern,m.endMarker,C):eie(e,m.pattern,m.startMarker,m.endMarker,C),Ej(o,m.endMarker,C),Ej(o,m.startMarker,C)}),e.selection.moveToBookmark(i)},Rj=(e,t,o)=>jee(t,0,t).map(i=>{const c=i.container;return NW(c,o.start.length,t).each(m=>{const h=e.createRng();h.setStart(c,0),h.setEnd(m.container,m.offset),pB(e,h,C=>C===t)}),c}),Ij=e=>(t,o)=>{const i=t.dom,c=o.pattern,m=_j(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(C,A)=>{const V=A.get(C);return ae(V)&&hn(V).exists(Z=>ao(Z,"block"))};return vB(t,m).each(C=>{c.type==="block-format"?h(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,c),t.execCommand(c.cmd,!1,c.value)})}),!0},sie=e=>fs(e,(t,o)=>o.start.length-t.start.length),Nj=e=>(t,o)=>{const i=sie(t),c=o.replace(Di," ");return cn(i,m=>e(m,o,c))},Pj=(e,t)=>(o,i,c,m,h)=>{var C;h===void 0&&(h=(C=i.textContent)!==null&&C!==void 0?C:"");const A=o.dom,V=rl(o);return A.is(i,V)?e(c.blockPatterns,h).map(Z=>t&&Xt.trim(h).length===Z.start.length?[]:[{pattern:Z,range:mH(A,A.getRoot(),i,0,i,0,m)}]).getOr([]):[]},rie=e=>/^\s[^\s]/.test(e),iie=Ij((e,t,o)=>{Rj(e,t,o).each(i=>{const c=Fe.fromDom(i),m=jm(c);rie(m)&&sb(c,m.slice(1))})}),aie=Nj((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),lie=Pj(aie,!0),cie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{var c;const m=Math.max(0,o.startOffset),h=gH(t,i,(c=i.textContent)!==null&&c!==void 0?c:""),C=Oj(e,i,o.startContainer,m,h,!0),A=lie(e,i,h,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},uie=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();pe(t,i=>iie(e,i)),e.selection.moveToBookmark(o)},die=Ij(Rj),fie=Nj((e,t,o)=>t===e.start||o===e.start),mie=Pj(fie,!1),gie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{const c=Math.max(0,o.startOffset),m=hH(e.dom,i,o.startContainer,c),h=gH(t,i,m);return mie(e,i,h,!1,m)}).filter(i=>i.length>0)},hie=(e,t)=>{pe(t,o=>die(e,o))},pie=(e,t)=>cie(e,t).fold(fn,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{yE(e),Dj(e,o),uie(e,i);const c=e.selection.getRng(),m=B9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(h=>{const C=h.container;C.data.charAt(h.offset-1)===Rr&&(C.deleteData(h.offset-1,1),vk(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),vie=(e,t)=>{const o=e.selection.getRng();vB(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),m=hH(e.dom,i,o.startContainer,c),h=gH(t,i,m),C=Oj(e,i,o.startContainer,c,h,!1);C.length>0&&e.undoManager.transact(()=>{Dj(e,C)})})},bie=(e,t)=>gie(e,t).fold(fn,o=>(e.undoManager.transact(()=>{hie(e,o)}),!0)),Mj=(e,t,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1},yie=(e,t)=>Mj(e,t,(o,i)=>o===i.keyCode&&!dn.modifierPressed(i)),xie=(e,t)=>Mj(e,t,(o,i)=>o.charCodeAt(0)===i.charCode),wie=e=>{const t=[",",".",";",":","!","?"],o=[32],i=()=>Sp(V8(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),n2(e)),c=()=>LE(e);e.on("keydown",h=>{if(h.keyCode===13&&!dn.modifierPressed(h)&&e.selection.isCollapsed()){const C=Zf(i(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||c())&&pie(e,C)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()){const C=Zf(i(),"space");(C.blockPatterns.length>0||c())&&bie(e,C)&&h.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const h=Zf(i(),"space");(h.inlinePatterns.length>0||c())&&vie(e,h)}};e.on("keyup",h=>{yie(o,h)&&m()}),e.on("keypress",h=>{xie(t,h)&&Zc.setEditorTimeout(e,m)})},Cie=e=>{wie(e)},_ie=e=>{const t=Xt.each,o=dn.BACKSPACE,i=dn.DELETE,c=e.dom,m=e.selection,h=e.parser,C=Bo.browser,A=C.isFirefox(),V=C.isChromium()||C.isSafari(),Z=Bo.deviceType.isiPhone()||Bo.deviceType.isiPad(),Y=Bo.os.isMacOS()||Bo.os.isiOS(),ee=(ln,Yn)=>{try{e.getDoc().execCommand(ln,!1,String(Yn))}catch{}},ge=ln=>ln.isDefaultPrevented(),Se=()=>{const ln=Vo=>{const gn=c.create("body"),Po=Vo.cloneContents();return gn.appendChild(Po),m.serializer.serialize(gn,{format:"html"})},Yn=Vo=>{const gn=ln(Vo),Po=c.createRng();Po.selectNode(e.getBody());const Uo=ln(Po);return gn===Uo};e.on("keydown",Vo=>{const gn=Vo.keyCode;if(!ge(Vo)&&(gn===i||gn===o)&&e.selection.isEditable()){const Po=e.selection.isCollapsed(),Uo=e.getBody();if(Po&&!rc(e.schema,Uo)||!Po&&!Yn(e.selection.getRng()))return;Vo.preventDefault(),e.setContent(""),Uo.firstChild&&c.isBlock(Uo.firstChild)?e.selection.setCursorLocation(Uo.firstChild,0):e.selection.setCursorLocation(Uo,0),e.nodeChanged()}})},ve=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Oe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",ln=>{let Yn;if(ln.target===e.getDoc().documentElement)if(Yn=m.getRng(),e.getBody().focus(),ln.type==="mousedown"){if(Kl(Yn.startContainer))return;m.placeCaretAt(ln.clientX,ln.clientY)}else m.setRng(Yn)})},He=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Yn=m.getNode(),Vo=Yn.previousSibling;if(Yn.nodeName==="HR"){c.remove(Yn),ln.preventDefault();return}Vo&&Vo.nodeName&&Vo.nodeName.toLowerCase()==="hr"&&(c.remove(Vo),ln.preventDefault())}}})},Qe=()=>{Range.prototype.getClientRects||e.on("mousedown",ln=>{if(!ge(ln)&&ln.target.nodeName==="HTML"){const Yn=e.getBody();Yn.blur(),Zc.setEditorTimeout(e,()=>{Yn.focus()})}})},Xe=()=>{const ln=M0(e);e.on("click",Yn=>{const Vo=Yn.target;/^(IMG|HR)$/.test(Vo.nodeName)&&c.isEditable(Vo)&&(Yn.preventDefault(),e.selection.select(Vo),e.nodeChanged()),Vo.nodeName==="A"&&c.hasClass(Vo,ln)&&Vo.childNodes.length===0&&c.isEditable(Vo.parentNode)&&(Yn.preventDefault(),m.select(Vo))})},dt=()=>{const ln=()=>{const Vo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const gn=m.getStart();gn!==e.getBody()&&(c.setAttrib(gn,"style",null),t(Vo,Po=>{gn.setAttributeNode(Po.cloneNode(!0))}))}},Yn=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Vo=>{let gn;return!ge(Vo)&&(Vo.keyCode===8||Vo.keyCode===46)&&Yn()?(gn=ln(),e.getDoc().execCommand("delete",!1),gn(),Vo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Vo=>{if(!ge(Vo)&&Yn()){const gn=ln();Zc.setEditorTimeout(e,()=>{gn()})}})},Bt=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Yn=m.getNode().previousSibling;if(Yn&&Yn.nodeName&&Yn.nodeName.toLowerCase()==="table")return ln.preventDefault(),!1}return!0})},Yt=()=>{e.on("keydown",ln=>{if(ge(ln)||ln.keyCode!==dn.BACKSPACE)return;let Yn=m.getRng();const Vo=Yn.startContainer,gn=Yn.startOffset,Po=c.getRoot();let Uo=Vo;if(!(!Yn.collapsed||gn!==0)){for(;Uo.parentNode&&Uo.parentNode.firstChild===Uo&&Uo.parentNode!==Po;)Uo=Uo.parentNode;Uo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Uo),Yn=c.createRng(),Yn.setStart(Vo,0),Yn.setEnd(Vo,0),m.setRng(Yn))}})},pn=()=>{const ln=()=>{ee("StyleWithCSS",!1),ee("enableInlineTableEditing",!1),KD(e)||ee("enableObjectResizing",!1)};t5(e)||e.on("BeforeExecCommand mousedown",ln)},kt=()=>{const ln=()=>{t(c.select("a:not([data-mce-block])"),Yn=>{var Vo;let gn=Yn.parentNode;const Po=c.getRoot();if((gn==null?void 0:gn.lastChild)===Yn){for(;gn&&!c.isBlock(gn);){if(((Vo=gn.parentNode)===null||Vo===void 0?void 0:Vo.lastChild)!==gn||gn===Po)return;gn=gn.parentNode}c.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Yn=>{(Yn.type==="setcontent"||Yn.command==="mceInsertLink")&&ln()})},bt=()=>{e.on("init",()=>{ee("DefaultParagraphSeparator",rl(e))})},Nt=ln=>{const Yn=ln.getBody(),Vo=ln.selection.getRng();return Vo.startContainer===Vo.endContainer&&Vo.startContainer===Yn&&Vo.startOffset===0&&Vo.endOffset===Yn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",ln=>{!dn.modifierPressed(ln)&&!Nt(e)&&m.normalize()},!0)},Vn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},No=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ho=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ln=>{let Yn;ln.target.nodeName==="HTML"&&(Yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Yn),e.selection.normalize(),e.nodeChanged())}))},Rs=()=>{Y&&e.on("keydown",ln=>{dn.metaKeyPressed(ln)&&!ln.shiftKey&&(ln.keyCode===37||ln.keyCode===39)&&(ln.preventDefault(),e.selection.getSel().modify("move",ln.keyCode===37?"backward":"forward","lineboundary"))})},Us=()=>{e.on("click",ln=>{let Yn=ln.target;do if(Yn.tagName==="A"){ln.preventDefault();return}while(Yn=Yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ui=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ln=>{ln.preventDefault()})})},kl=()=>{h.addNodeFilter("br",ln=>{let Yn=ln.length;for(;Yn--;)ln[Yn].attr("class")==="Apple-interchange-newline"&&ln[Yn].remove()})},Ys=ct,on=()=>{if(!A||e.removed)return!1;const ln=e.selection.getSel();return!ln||!ln.rangeCount||ln.rangeCount===0},Pn=()=>{V&&(Oe(),Xe(),ui(),ve(),Z&&(No(),Ho(),Us())),A&&(Qe(),pn(),Vn(),Rs())},ys=()=>{Yt(),Se(),Bo.windowsPhone||Cn(),V&&(Oe(),Xe(),bt(),ui(),Bt(),kl(),Z?(No(),Ho(),Us()):ve()),A&&(He(),Qe(),dt(),pn(),kt(),Vn(),Rs(),Bt())};return vg(e)?Pn():ys(),{refreshContentEditable:Ys,isHidden:on}},Sie=e=>e.toLowerCase()==="gpl",kie=e=>e.length>=64&&e.length<=255,Eie=e=>Sie(e)||kie(e)?"VALID":"INVALID",Aie=e=>{const t=m5(e);!he(g5(e))&&(qe(t)||Eie(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},vH=Gs.DOM,Tie=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=Om(su(o)),c=Fe.fromTag("style");xi(c,"type","text/css"),Wr(c,Fe.fromText(t)),Wr(i,c),e.on("remove",()=>{Ds(c)})},Oie=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,bH=e=>_c(e,t=>qe(t)===!1),Bj=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return bH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Oie(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:GC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Lj=e=>{const t=e.options.get;return bH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Die=e=>{const t=e.options.get;return{...Bj(e),...Lj(e),...bH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Rie=e=>{const t=uy(Bj(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,m="data-mce-"+i;let h=o.length;for(;h--;){const C=o[h];let A=C.attr(i);if(A&&!C.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),C.name),A.length||(A=null),C.attr(m,A),C.attr(i,A)):i==="tabindex"?(C.attr(m,A),C.attr(i,null)):C.attr(m,e.convertURL(A,i,C.name))}}}),t.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),H8(e)&&t.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((i=m.value)!==null&&i!==void 0?i:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const m=o[i];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Da("br",1))}}),t},Iie=e=>{const t=P8(e);t&&Zc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Nie=e=>{const t=e.dom.getRoot();!e.inline&&(!z0(e)||e.selection.getStart(!0)===t)&&Qn(t).each(o=>{const i=o.getNode(),c=cu(i)?Qn(i).getOr(o):o;e.selection.setRng(c.toRange())})},Pie=e=>{e.bindPendingEventDelegates(),e.initialized=!0,si(e),e.focus(!0),Nie(e),e.nodeChanged({initial:!0});const t=I8(e);Le(t)&&t.call(e,e),Iie(e)},yH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Mie=(e,t,o)=>{const{pass:i,fail:c}=zt(t,C=>tinymce.Resource.has(kT(C))),h=[...i.map(C=>{const A=tinymce.Resource.get(kT(C));return he(A)?Promise.resolve(yH(e).loadRawCss(C,A)):Promise.resolve()}),yH(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},Fj=e=>{const t=yH(e),o=jD(e),i=e.contentCSS,c=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";Xt.each(e.contentStyles,V=>{A+=V+`\r
`}),e.dom.addStyle(A)}const h=Promise.all(Mie(e,i,o)).then(m).catch(m),C=I0(e);return C&&Tie(e,C),h},Bie=e=>{const t=e.getDoc(),o=e.getBody();cF(e),M8(e)||(t.body.spellcheck=!1,vH.setAttrib(o,"spellcheck","false")),e.quirks=_ie(e),uF(e);const i=k8(e);i!==void 0&&(o.dir=i);const c=as(e);c&&e.on("BeforeSetContent",m=>{Xt.each(c,h=>{m.content=m.content.replace(h,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Lie=e=>{vg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},xH=e=>{e.removed!==!0&&(Lie(e),Pie(e))},Fie=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},Vj=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(vH.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=t5(e),e._editableRoot=Ss(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&vH.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=AT(e),e.schema=Bc(Lj(e)),e.dom=Gs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:WD(e),referrerPolicy:Jx(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=Rie(e),e.serializer=WP(Die(e),e),e.selection=fT(e.dom,e.getWin(),e.serializer,e),e.annotator=rR(e),e.formatter=kw(e),e.undoManager=_6(e),e._nodeChangeDispatcher=new Ioe(e),e._selectionOverrides=Kre(e),So(e),Jse(e),Bw(e),vg(e)||(rre(e),Cie(e));const c=Roe(e);Hn(e,c),Bi(e),O6(e),qse(e);const m=EP(e);Bie(e),Aie(e),m.fold(()=>{const h=Fie(e);Fj(e).then(()=>{xH(e),h()})},h=>{e.setProgressState(!0),Fj(e).then(()=>{h().then(C=>{e.setProgressState(!1),xH(e),NP(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),xH(e),NP(e)})})})},Vie=_n,zie=(e,t,o)=>N(e,t,Vie,o),wH=Gs.DOM,Hie=(e,t,o,i)=>{const c=Fe.fromTag("iframe");return i.each(m=>xi(c,"tabindex",m)),Pa(c,o),Pa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Rd(c,"tox-edit-area__iframe"),c},$ie=e=>{let t=jd(e)+"<html><head>";vu(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=WC(e),i=SE(e),c=e.translate(e2(e));return FD(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+FD(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,t},Uie=(e,t)=>{const o=Bo.browser.isFirefox()?e2(e):"Rich Text Area",i=e.translate(o),c=eu(Fe.fromDom(e.getElement()),"tabindex").bind(un),m=Hie(e.id,i,wl(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=$ie(e),wH.add(t.iframeContainer,m)},Wie=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,Vj(e)};if(l5(e)||Bo.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=zie(Fe.fromDom(t),"load",()=>{i.unbind(),o()});t.srcdoc=e.iframeHTML}},Zie=(e,t)=>{Uie(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=wH.isHidden(t.editorContainer)),e.getElement().style.display="none",wH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Wie(e)},zj=Gs.DOM,jie=(e,t,o)=>{const i=n1.get(o),c=n1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Xt.trim(o),i&&Xt.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=i(e,c)||{};e.plugins[o]=m,Le(m.init)&&(m.init(e,c),t.push(o))}catch(m){Cz(e,o,m)}}},Kie=e=>e.replace(/^\-/,""),Gie=e=>{const t=[];pe(Kd(e),o=>{jie(e,t,Kie(o))})},qie=e=>{const t=Xt.trim(OE(e)),o=e.ui.registry.getAll().icons,i={...xw.get("default").icons,...xw.get(t).icons};rs(i,(c,m)=>{ao(o,m)||e.ui.registry.addIcon(m,c)})},Yie=e=>{const t=N0(e);if(he(t)){const o=tv.get(t);e.theme=o(e,tv.urls[t])||{},Le(e.theme.init)&&e.theme.init(e,tv.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Xie=e=>{const t=Qx(e),o=ev.get(t);e.model=o(e,ev.urls[t])},Jie=e=>{const t=e.theme.renderUI;return t?t():$j(e)},Qie=e=>{const t=e.getElement(),i=N0(e)(e,t);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:t.offsetHeight,i},Hj=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),eae=e=>{const t=zj.create("div");return zj.insertAfter(t,e),Hj(t,t)},$j=e=>{const t=e.getElement();return e.inline?Hj(null):eae(t)},tae=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,he(N0(e))?Jie(e):Le(N0(e))?Qie(e):$j(e)},nae=(e,t)=>{const o={show:Q.from(t.show).getOr(ct),hide:Q.from(t.hide).getOr(ct),isEnabled:Q.from(t.isEnabled).getOr(_n),setEnabled:i=>{e.mode.isReadOnly()||Q.from(t.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},oae=async e=>{e.dispatch("ScriptsLoaded"),qie(e),Yie(e),Xie(e),Gie(e);const t=await tae(e);nae(e,Q.from(t.api).getOr({})),e.editorContainer=t.editorContainer,u6(e),e.inline?Vj(e):Zie(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Hw=Gs.DOM,Uj=e=>e.charAt(0)==="-",sae=(e,t)=>{const o=IE(t),i=S8(t);if(!Lc.hasCode(o)&&o!=="en"){const c=Je(i)?i:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{xz(t,c,o)})}},rae=(e,t)=>{const o=N0(e);if(he(o)&&!Uj(o)&&!ao(tv.urls,o)){const i=A8(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${t}.js`;tv.load(o,c).catch(()=>{l6(e,c,o)})}},iae=(e,t)=>{const o=Qx(e);if(o!=="plugin"&&!ao(ev.urls,o)){const i=PE(e),c=he(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${t}.js`;ev.load(o,c).catch(()=>{wz(e,c,o)})}},aae=e=>Q.from($D(e)).filter(Je).map(t=>({url:t,name:Q.none()})),Wj=(e,t,o)=>Q.from(t).filter(i=>Je(i)&&!xw.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:Q.some(i)})),lae=(e,t,o)=>{const i=Wj(t,"default",o),c=aae(t).orThunk(()=>Wj(t,OE(t),""));pe(z1([i,c]),m=>{e.add(m.url).catch(()=>{_T(t,m.url,m.name.getOrUndefined())})})},cae=(e,t)=>{const o=(i,c)=>{n1.load(i,c).catch(()=>{CT(e,c,i)})};rs(Qm(e),(i,c)=>{o(c,i),e.options.set("plugins",Kd(e).concat(c))}),pe(Kd(e),i=>{i=Xt.trim(i),i&&!n1.urls[i]&&!Uj(i)&&o(i,`plugins/${i}/plugin${t}.js`)})},uae=e=>{const t=N0(e);return!he(t)||Ee(tv.get(t))},dae=e=>{const t=Qx(e);return Ee(ev.get(t))},fae=(e,t)=>{const o=bl.ScriptLoader,i=()=>{!e.removed&&uae(e)&&dae(e)&&oae(e)};rae(e,t),iae(e,t),sae(o,e),lae(o,e,t),cae(e,t),o.loadQueue().then(i,i)},mae=(e,t)=>J1.forElement(e,{contentCssCors:n5(t),referrerPolicy:Jx(t)}),gae=e=>{const t=e.id;Lc.setCode(IE(e));const o=()=>{Hw.unbind(window,"ready",o),e.render()};if(!Nf.Event.domLoaded){Hw.bind(window,"ready",o);return}if(!e.getElement())return;const i=Fe.fromDom(e.getElement()),c=hl(i);e.on("remove",()=>{gt(i.dom.attributes,h=>Ro(i,h.name)),Pa(i,c)}),e.ui.styleSheetLoader=mae(i,e),Cb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||Hw.getParent(t,"form");m&&(e.formElement=m,ME(e)&&!ap(e.getElement())&&(Hw.insertAfter(Hw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},Hw.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),XD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=i6(e),e.notificationManager=wT(e),c5(e)&&e.on("GetContent",h=>{h.save&&(h.content=Hw.encode(h.content))}),JD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),QD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),fae(e,e.suffix)},hae=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),mF(e,t))},pae=e=>e._editableRoot,vae=(e,t)=>({sections:et(e),options:et(t)}),Zj=na().deviceType,jj=Zj.isPhone(),bae=Zj.isTablet(),EO=e=>{if(st(e))return[];{const t=ae(e)?e:e.split(/[ ,]/),o=Be(t,Ne);return vt(o,Je)}},yae=(e,t)=>{const o=Pu(t,(i,c)=>ie(e,c));return vae(o.t,o.f)},xae=(e,t,o={})=>{const i=e.sections(),c=Os(i,t).getOr({});return Xt.extend({},o,c)},CH=(e,t)=>ao(e.sections(),t),wae=(e,t)=>CH(e,t)?e.sections()[t]:{},Cae=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Os(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),_ae=(e,t)=>{var o;const i=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Xt.extend({},e.external_plugins,i):i},Sae=(e,t)=>[...EO(e),...EO(t)],kae=(e,t,o,i)=>e&&CH(t,"mobile")?i:o,Eae=(e,t,o,i)=>{const c=EO(o.forced_plugins),m=EO(i.plugins),h=wae(t,"mobile"),C=h.plugins?EO(h.plugins):m,A=kae(e,t,m,C),V=Sae(c,A);return Xt.extend(i,{forced_plugins:c,plugins:V})},Aae=(e,t)=>e&&CH(t,"mobile"),Tae=(e,t,o,i,c)=>{var m;const h=e?{mobile:Cae((m=c.mobile)!==null&&m!==void 0?m:{},t)}:{},C=yae(["mobile"],XM(h,c)),A=Xt.extend(o,i,C.options(),Aae(e,C)?xae(C,"mobile"):{},{external_plugins:_ae(i,C.options())});return Eae(e,C,i,A)},Oae=(e,t)=>{const o=HW(t);return Tae(jj||bae,jj,o,e,o)},Dae=(e,t)=>IP(e,t),Rae=e=>{const t=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{pe("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&t("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Iae=e=>{const t=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return xe(c,m=>Ee(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Nae=e=>{Rae(e),Iae(e)},Pae=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let i;try{o.execCommand(t)}catch{i=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(i=!0),i||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Bo.os.isMacOS()||Bo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Mae=(e,t,o,i)=>{const c=Fe.fromDom(e.getRoot());return ey(c,xt.fromRangeStart(t),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Zb(c,xt.fromRangeEnd(t),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Bae=e=>{if(typeof e!="string"){const t=Xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Lae=(e,t)=>{const o=e.selection,i=e.dom;return/^ | $/.test(t)?Mae(i,o.getRng(),t,e.schema):t},xB=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:i}=Bae(t);z4(e,{...i,content:Lae(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=JV(e,c.content,i);H4(e,m,c),e.addVisual()})}},Fae=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,i)=>{xB(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,i)=>{xB(e,e.dom.encode(i))},insertHTML:(t,o,i)=>{xB(e,i)},mceInsertContent:(t,o,i)=>{xB(e,i)},mceSetContent:(t,o,i)=>{e.setContent(i)},mceReplaceContent:(t,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(ms(e))}})},Vae={"font-size":"size","font-family":"face"},zae=bf("font"),Hae=(e,t,o)=>{const i=m=>Lr(m,e).orThunk(()=>zae(m)?Os(Vae,e).bind(h=>eu(m,h)):Q.none()),c=m=>Yo(Fe.fromDom(t),m);return nw(Fe.fromDom(o),m=>i(m),c)},$ae=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Uae=(e,t)=>Q.from(Gs.DOM.getStyle(t,e,!0)),Kj=e=>(t,o)=>Q.from(o).map(Fe.fromDom).filter($r).bind(i=>Hae(e,t,i.dom).or(Uae(e,i.dom))).getOr(""),Wae=Kj("font-size"),Zae=$t($ae,Kj("font-family")),jae=e=>Qn(e.getBody()).bind(t=>{const o=t.container();return Q.from(Ut(o)?o.parentNode:o)}),Kae=e=>Q.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?Q.none():Q.from(e.selection.getStart(!0))}),Gae=(e,t)=>Kae(e).orThunk(tt(jae,e)).map(Fe.fromDom).filter($r).bind(t),_H=(e,t)=>Gae(e,Jt(Q.some,t)),Gj=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const i=FE(e),c=VE(e);return c.length>0?c[o-1]||t:i[o-1]||t}else return t}else return t},qae=e=>{const t=e.split(/\s*,\s*/);return Be(t,o=>o.indexOf(" ")!==-1&&!(cr(o,'"')||cr(o,"'"))?`'${o}'`:o).join(",")},Yae=(e,t)=>{const o=Gj(e,t);e.formatter.toggle("fontname",{value:qae(o)}),e.nodeChanged()},Xae=e=>_H(e,t=>Zae(e.getBody(),t.dom)).getOr(""),Jae=(e,t)=>{e.formatter.toggle("fontsize",{value:Gj(e,t)}),e.nodeChanged()},Qae=e=>_H(e,t=>Wae(e.getBody(),t.dom)).getOr(""),ele=e=>_H(e,t=>{const o=Fe.fromDom(e.getBody()),i=nw(t,m=>Lr(m,"line-height"),tt(Yo,o)),c=()=>{const m=parseFloat(Ur(t,"line-height")),h=parseFloat(Ur(t,"font-size"));return String(m/h)};return i.getOrThunk(c)}).getOr(""),tle=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},nle=e=>{const t=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,i,c)=>{t(o,{value:c})},BackColor:(o,i,c)=>{t("hilitecolor",{value:c})},FontName:(o,i,c)=>{Yae(e,c)},FontSize:(o,i,c)=>{Jae(e,c)},LineHeight:(o,i,c)=>{tle(e,c)},Lang:(o,i,c)=>{var m;t(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,i,c)=>{t(he(c)?c:"p")},mceToggleFormat:(o,i,c)=>{t(c)}})},ole=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Xae(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Qae(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ele(e))},sle=e=>{nle(e),ole(e)},rle=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ile=e=>{e.editorCommands.addCommands({Indent:()=>{Et(e)},Outdent:()=>{_t(e)}}),e.editorCommands.addCommands({Outdent:()=>be(e)},"state")},ale=e=>{const t=(o,i,c)=>{const m=he(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");K(m)&&he(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!h||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},lle=(e,t,o,i)=>{const c=e.dom,m=C=>c.isBlock(C)&&C.parentElement===o,h=m(t)?t:c.getParent(i,m,o);return Q.from(h).map(Fe.fromDom)},qj=(e,t)=>{const o=e.dom,i=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),m=t?i.startContainer:i.endContainer,h=wO(o,m);if(!h||!h.isContentEditable)return;const C=t?Dr:it,A=rl(e);lle(e,c,h,m).each(V=>{const Z=mZ(e,m,V.dom,h,!1,A);C(V,Fe.fromDom(Z)),e.selection.setCursorLocation(Z,0),e.dispatch("NewBlock",{newBlock:Z}),xO(e,"insertParagraph")})},cle=e=>qj(e,!0),ule=e=>qj(e,!1),dle=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{cle(e)},InsertNewBlockAfter:()=>{ule(e)}})},fle=e=>{e.editorCommands.addCommands({insertParagraph:()=>{aB(vZ,e)},mceInsertNewLine:(t,o,i)=>{SZ(e,i)},InsertLineBreak:(t,o,i)=>{aB(xZ,e)}})},mle=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>En(m)&&c++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ic);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},gle=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,i)=>{UR(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},hle=e=>{Nae(e),Pae(e),rle(e),mle(e),Fae(e),ale(e),ile(e),dle(e),fle(e),sle(e),gle(e)},ple=["toggleview"],Yj=e=>ie(ple,e.toLowerCase());class Xj{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,i,c){const m=this.editor,h=t.toLowerCase(),C=c==null?void 0:c.skip_focus;if(m.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!C?m.focus():O_(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:i}).isDefaultPrevented()))return!1;const V=this.commands.exec[h];return Le(V)?(V(h,o,i),m.dispatch("ExecCommand",{command:t,ui:o,value:i}),!0):!1}queryCommandState(t){if(!Yj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),i=this.commands.state[o];return Le(i)?i(o):!1}queryCommandValue(t){if(!Yj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),i=this.commands.value[o];return Le(i)?i(o):""}addCommands(t,o="exec"){const i=this.commands;rs(t,(c,m)=>{pe(m.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(t,o,i){const c=t.toLowerCase();this.commands.exec[c]=(m,h,C)=>o.call(i??this.editor,h,C)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,i){this.commands.state[t.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(t,o,i){this.commands.value[t.toLowerCase()]=()=>o.call(i??this.editor)}}const $w="data-mce-contenteditable",vle=(e,t,o)=>{Id(e,t)&&!o?Ma(e,t):o&&Rd(e,t)},SH=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},wB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ble=e=>{pe(pi(e,'*[contenteditable="true"]'),t=>{xi(t,$w,"true"),wB(t,!1)})},yle=e=>{pe(pi(e,`*[${$w}="true"]`),t=>{Ro(t,$w),wB(t,!0)})},xle=e=>{Q.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},wle=e=>{e.selection.setRng(e.selection.getRng())},Cle=(e,t)=>{const o=Fe.fromDom(e.getBody());vle(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),xle(e),e.readonly=!0,wB(o,!1),ble(o)):(e.readonly=!1,e.hasEditableRoot()&&wB(o,!0),yle(o),SH(e,"StyleWithCSS",!1),SH(e,"enableInlineTableEditing",!1),SH(e,"enableObjectResizing",!1),Vb(e)&&e.focus(),wle(e),e.nodeChanged())},Uw=e=>e.readonly,Jj=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Uw(e)&&pe(t,o=>{o.attr($w,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter($w,t=>{Uw(e)&&pe(t,o=>{o.attr("contenteditable",o.attr($w))})}),e.serializer.addTempAttr($w)},_le=e=>{e.serializer?Jj(e):e.on("PreInit",()=>{Jj(e)})},Sle=e=>e.type==="click",kle=["copy"],Ele=e=>ie(kle,e.type),Ale=(e,t)=>Zi(t,"a",i=>Yo(i,Fe.fromDom(e.getBody()))).bind(i=>eu(i,"href")),Tle=(e,t)=>{if(Sle(t)&&!dn.metaKeyPressed(t)){const o=Fe.fromDom(t.target);Ale(e,o).each(i=>{if(t.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Jc(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ele(t)&&e.dispatch(t.type,t)},Ole=e=>{e.on("ShowCaret",t=>{Uw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Uw(e)&&t.preventDefault()})},Dle=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class kH{static isNative(t){return!!Dle[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const i=t.toLowerCase(),c=a0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[i];if(m)for(let h=0,C=m.length;h<C;h++){const A=m[h];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,i,c){if(o===!1&&(o=fn),o){const m={func:o,removed:!1};c&&Xt.extend(m,c);const h=t.toLowerCase().split(" ");let C=h.length;for(;C--;){const A=h[C];let V=this.bindings[A];V||(V=[],this.toggleEvent(A,!0)),i?V=[m,...V]:V=[...V,m],this.bindings[A]=V}}return this}off(t,o){if(t){const i=t.toLowerCase().split(" ");let c=i.length;for(;c--;){const m=i[c];let h=this.bindings[m];if(!m)return rs(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(h){if(!o)h.length=0;else{const C=zt(h,A=>A.func===o);h=C.fail,this.bindings[m]=h,pe(C.pass,A=>{A.removed=!0})}h.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else rs(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,i){return this.on(t,o,i,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const AO=e=>(e._eventDispatcher||(e._eventDispatcher=new kH({scope:e,toggleEvent:(t,o)=>{kH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),EH={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return a0(e.toLowerCase(),t??{},i);const c=AO(i).dispatch(e,t);if(o!==!1&&i.parent){let m=i.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,t,o){return AO(this).on(e,t,o)},off(e,t){return AO(this).off(e,t)},once(e,t){return AO(this).once(e,t)},hasEventListeners(e){return AO(this).has(e)}},CB=Gs.DOM;let Ww;const _B=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=qD(e);return o?(e.eventRoot||(e.eventRoot=CB.select(o)[0]),e.eventRoot):e.getBody()},Rle=e=>!e.hidden&&!Uw(e),Qj=(e,t,o)=>{Rle(e)?e.dispatch(t,o):Uw(e)&&Tle(e,o)},eK=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=_B(e,t);if(qD(e)){if(Ww||(Ww={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Ww&&(rs(Ww,(c,m)=>{e.dom.unbind(_B(e,m))}),Ww=null)})),Ww[t])return;const i=c=>{const m=c.target,h=e.editorManager.get();let C=h.length;for(;C--;){const A=h[C].getBody();(A===m||CB.isChildOf(m,A))&&Qj(h[C],t,c)}};Ww[t]=i,CB.bind(o,t,i)}else{const i=c=>{Qj(e,t,c)};CB.bind(o,t,i),e.delegates[t]=i}},tK={...EH,bindPendingEventDelegates(){const e=this;Xt.each(e._pendingNativeEvents,t=>{eK(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?eK(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(_B(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(rs(e.delegates,(i,c)=>{e.dom.unbind(_B(e,c),c,i)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ile=e=>he(e)?{value:e.split(/[ ,]/),valid:!0}:Ke(e,he)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Nle=e=>{const t=(()=>{switch(e){case"array":return ae;case"boolean":return We;case"function":return Le;case"number":return O;case"object":return K;case"string":return he;case"string[]":return Ile;case"object[]":return o=>Ke(o,K);case"regexp":return o=>Me(o,RegExp);default:return _n}})();return o=>AH(o,t,`The value must be a ${e}.`)},Ple=e=>he(e.processor),nK=(e,t)=>{const o=Wt(t.message)?"":`. ${t.message}`;return e+o},oK=e=>e.valid,AH=(e,t,o="")=>{const i=t(e);return We(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},Mle=(e,t,o)=>{if(!qe(t)){const i=AH(t,o);if(oK(i))return i.value;console.error(nK(`Invalid default value passed for the "${e}" option`,i))}},Ble=(e,t,o=t)=>{const i={},c={},m=(ge,Se,ve)=>{const Oe=AH(Se,ve);return oK(Oe)?(c[ge]=Oe.value,!0):(console.warn(nK(`Invalid value passed for the ${ge} option`,Oe)),!1)},h=(ge,Se)=>{const ve=Ple(Se)?Nle(Se.processor):Se.processor,Oe=Mle(ge,Se.default,ve);i[ge]={...Se,default:Oe,processor:ve},Os(c,ge).orThunk(()=>Os(t,ge)).each(Qe=>m(ge,Qe,ve))},C=ge=>ao(i,ge);return{register:h,isRegistered:C,get:ge=>Os(c,ge).orThunk(()=>Os(i,ge).map(Se=>Se.default)).getOrUndefined(),set:(ge,Se)=>{if(C(ge)){const ve=i[ge];return ve.immutable?(console.error(`"${ge}" is an immutable option and cannot be updated`),!1):m(ge,Se,ve.processor)}else return console.warn(`"${ge}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ge=>{const Se=C(ge);return Se&&delete c[ge],Se},isSet:ge=>ao(c,ge),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ge,Se)=>We(Se)||O(Se)||he(Se)||Ue(Se)||ae(Se)||ye(Se)?Se:Object.prototype.toString.call(Se))))}catch(ge){console.error(ge)}}}},Lle=["design","readonly"],sK=(e,t,o,i)=>{const c=o[t.get()],m=o[i];try{m.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&Cle(e,m.editorReadOnly),t.set(i),iR(e,i)},Fle=(e,t,o,i)=>{if(i!==o.get()){if(!ao(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?sK(e,o,t,i):e.on("init",()=>sK(e,o,t,i))}},Vle=(e,t,o)=>{if(ie(Lle,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${t}:`,i)}}}}},zle=e=>{const t=Ri("design"),o=Ri({design:{activate:ct,deactivate:ct,editorReadOnly:!1},readonly:{activate:ct,deactivate:ct,editorReadOnly:!0}});return _le(e),Ole(e),{isReadOnly:()=>Uw(e),set:i=>Fle(e,o.get(),t,i),get:()=>t.get(),register:(i,c)=>{o.set(Vle(o.get(),i,c))}}},TH=Xt.each,OH=Xt.explode,Hle={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},rK=Xt.makeMap("alt,ctrl,shift,meta,access"),$le=e=>e in rK,Ule=e=>{const t={},o=Bo.os.isMacOS()||Bo.os.isiOS();TH(OH(e.toLowerCase(),"+"),m=>{$le(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Hle[m]||m.toUpperCase().charCodeAt(0))});const i=[t.keyCode];let c;for(c in rK)t[c]?i.push(c):t[c]=!1;return t.id=i.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class iK{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(TH(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,i,c){const m=this,h=m.normalizeCommandFunc(i);return TH(OH(Xt.trim(t)),C=>{const A=m.createShortcut(C,o,h,c);m.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,i=t;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Xt.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(t,o,i,c){const m=Xt.map(OH(t,">"),Ule);return m[m.length-1]=Xt.extend(m[m.length-1],{func:i,scope:c||this.editor}),Xt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Wle=()=>{const e={},t={},o={},i={},c={},m={},h={},C={},A=(Z,Y)=>(ee,ge)=>{Z[ee.toLowerCase()]={...ge,type:Y}},V=(Z,Y)=>i[Z.toLowerCase()]=Y;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(h,"sidebar"),addView:A(C,"views"),addIcon:V,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:o,contextMenus:c,contextToolbars:m,sidebars:h,views:C})}},Zle=()=>{const e=Wle();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Zw=Gs.DOM,aK=Xt.extend,jle=Xt.each;class SB{constructor(t,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,aK(this,tK);const c=this;this.id=t,this.hidden=!1;const m=Oae(i.defaultOptions,o);this.options=Ble(c,m,o),UC(c);const h=this.options.get;h("deprecation_warnings")&&mz(o,m);const C=h("suffix");C&&(i.suffix=C),this.suffix=i.suffix;const A=h("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const V=Jx(c);V&&(bl.ScriptLoader._setReferrerPolicy(V),Gs.DOM.styleSheetLoader._setReferrerPolicy(V));const Z=n5(c);Ee(Z)&&Gs.DOM.styleSheetLoader._setContentCssCors(Z),ol.languageLoad=h("language_load"),ol.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new fd(vu(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cb(c),this.hasVisual=Hc(c),this.shortcuts=new iK(this),this.editorCommands=new Xj(this),hle(this);const Y=h("cache_suffix");Y&&(Bo.cacheSuffix=Y.replace(/^[\?\&]+/,"")),this.ui={registry:Zle(),styleSheetLoader:void 0,show:ct,hide:ct,setEnabled:ct,isEnabled:_n},this.mode=zle(c),i.dispatch("SetupEditor",{editor:this});const ee=B0(c);Le(ee)&&ee.call(c,c)}render(){gae(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return K0(this)}translate(t){return Lc.translate(t)}getParam(t,o,i){const c=this.options;return c.isRegistered(t)||(Ee(i)?c.register(t,{processor:i,default:o}):c.register(t,{processor:_n,default:o})),!c.isSet(t)&&!qe(o)?o:c.get(t)}hasPlugin(t,o){return ie(Kd(this),t)?o?n1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,i){this.editorCommands.addCommand(t,o,i)}addQueryStateHandler(t,o,i){this.editorCommands.addQueryStateHandler(t,o,i)}addQueryValueHandler(t,o,i){this.editorCommands.addQueryValueHandler(t,o,i)}addShortcut(t,o,i,c){this.shortcuts.add(t,o,i,c)}execCommand(t,o,i,c){return this.editorCommands.execCommand(t,o,i,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Zw.show(t.getContainer()),Zw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Zw.hide(t.getContainer()),Zw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...t,load:!0},m=ap(i)?i.value:i.innerHTML,h=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),h}else return""}save(t={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...t,save:!0,element:i};let m=o.getContent(c);const h={...c,content:m};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),m=h.content,ap(i))i.value=m;else{(t.is_removing||!o.inline)&&(i.innerHTML=m);const C=Zw.getParent(o.id,"form");C&&jle(C.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return gT(this,t,o)}getContent(t){return ZP(this,t)}insertContent(t,o){o&&(t=aK({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?gT(this,this.startContent,{format:"raw"}):gT(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Zw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Zw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const i=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(t,o,i){const c=this,m=c.options.get,h=N8(c);if(Le(h))return h.call(c,t,i,!0,o);if(!m("convert_urls")||i==="link"||K(i)&&i.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new fd(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:m("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Dae(this,t)}setEditableRoot(t){hae(this,t)}hasEditableRoot(){return pae(this)}remove(){QP(this)}destroy(t){hz(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const bk=Gs.DOM,kB=Xt.each;let lK=!1,EB,ku=[];const AB=e=>{const t=e.type;kB(Ty.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},cK=e=>{if(e!==lK){const t=Gs.DOM;e?(t.bind(window,"resize",AB),t.bind(window,"scroll",AB)):(t.unbind(window,"resize",AB),t.unbind(window,"scroll",AB)),lK=e}},uK=e=>{const t=ku;return ku=vt(ku,o=>e!==o),Ty.activeEditor===e&&(Ty.activeEditor=ku.length>0?ku[0]:null),Ty.focusedEditor===e&&(Ty.focusedEditor=null),t.length!==ku.length},Kle=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(uK(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Gle=document.compatMode!=="CSS1Compat",Ty={...EH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Lc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",i=fd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let h=0;h<m.length;h++){const C=m[h].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(o=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),t=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new fd(i).toAbsolute(t),e.documentBaseURL=i,e.baseURI=new fd(e.baseURL),e.suffix=o,BF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&rs(i,(c,m)=>{ol.PluginManager.urls[m]=c})},init(e){const t=this;let o;const i=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(Z,Y)=>Z.inline&&Y.tagName.toLowerCase()in i,m=Z=>{let Y=Z.id;return Y||(Y=Os(Z,"name").filter(ee=>!bk.get(ee)).getOrThunk(bk.uniqueId),Z.setAttribute("id",Y)),Y},h=Z=>{const Y=e[Z];if(Y)return Y.apply(t,[])},C=Z=>Bo.browser.isIE()||Bo.browser.isEdge()?(Cw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Gle?(Cw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):he(Z.selector)?bk.select(Z.selector):Ee(Z.target)?[Z.target]:[];let A=Z=>{o=Z};const V=()=>{let Z=0;const Y=[];let ee;const ge=(Se,ve,Oe)=>{const He=new SB(Se,ve,t);Y.push(He),He.on("init",()=>{++Z===ee.length&&A(Y)}),He.targetElm=He.targetElm||Oe,He.render()};bk.unbind(window,"ready",V),h("onpageload"),ee=ea(C(e)),Xt.each(ee,Se=>{Kle(t.get(Se.id))}),ee=Xt.grep(ee,Se=>!t.get(Se.id)),ee.length===0?A([]):kB(ee,Se=>{c(e,Se)?Cw("Could not initialize inline editor on invalid inline target element",Se):ge(m(Se),e,Se)})};return bk.bind(window,"ready",V),new Promise(Z=>{o?Z(o):A=Y=>{Z(Y)}})},get(e){return arguments.length===0?ku.slice(0):he(e)?cn(ku,t=>t.id===e).getOr(null):O(e)&&ku[e]?ku[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&ku.push(e),cK(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),EB||(EB=i=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",EB))),e},createEditor(e,t){return this.add(new SB(e,t,this))},remove(e){const t=this;let o;if(!e){for(let i=ku.length-1;i>=0;i--)t.remove(ku[i]);return}if(he(e)){kB(bk.select(e),i=>{o=t.get(i.id),o&&t.remove(o)});return}return o=e,Ue(t.get(o.id))?null:(uK(o)&&t.dispatch("RemoveEditor",{editor:o}),ku.length===0&&window.removeEventListener("beforeunload",EB),o.remove(),cK(ku.length>0),o)},execCommand(e,t,o){var i;const c=this,m=K(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const h=o.options;new SB(m,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(m);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(m);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{kB(ku,e=>{e.save()})},addI18n:(e,t)=>{Lc.add(e,t)},translate:e=>Lc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new fd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new fd(this.baseURL)}};Ty.setup();const qle=(()=>{const e=Ii(),t=m=>({items:m,types:Kt(m),getType:h=>Os(m,h).getOrUndefined()}),o=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:i,clear:c}})(),dK=Math.min,yk=Math.max,TB=Math.round,fK=(e,t,o)=>{let i=t.x,c=t.y;const m=e.w,h=e.h,C=t.w,A=t.h,V=(o||"").split("");return V[0]==="b"&&(c+=A),V[1]==="r"&&(i+=C),V[0]==="c"&&(c+=TB(A/2)),V[1]==="c"&&(i+=TB(C/2)),V[3]==="b"&&(c-=h),V[4]==="r"&&(i-=m),V[3]==="c"&&(c-=TB(h/2)),V[4]==="c"&&(i-=TB(m/2)),xk(i,c,m,h)},Yle=(e,t,o,i)=>{for(let c=0;c<i.length;c++){const m=fK(e,t,i[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return i[c]}return null},Xle=(e,t,o)=>xk(e.x-t,e.y-o,e.w+t*2,e.h+o*2),Jle=(e,t)=>{const o=yk(e.x,t.x),i=yk(e.y,t.y),c=dK(e.x+e.w,t.x+t.w),m=dK(e.y+e.h,t.y+t.h);return c-o<0||m-i<0?null:xk(o,i,c-o,m-i)},Qle=(e,t,o)=>{let i=e.x,c=e.y,m=e.x+e.w,h=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,V=yk(0,t.x-i),Z=yk(0,t.y-c),Y=yk(0,m-C),ee=yk(0,h-A);return i+=V,c+=Z,o&&(m+=V,h+=Z,i-=Y,c-=ee),m-=Y,h-=ee,xk(i,c,m-i,h-c)},xk=(e,t,o,i)=>({x:e,y:t,w:o,h:i}),ece={inflate:Xle,relativePosition:fK,findBestRelativePosition:Yle,intersect:Jle,clamp:Qle,create:xk,fromClientRect:e=>xk(e.left,e.top,e.width,e.height)},tce=(e,t,o=1e3)=>{let i=!1,c=null;const m=V=>(...Z)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),V.apply(null,Z))},h=m(e),C=m(t);return{start:(...V)=>{!i&&c===null&&(c=setTimeout(()=>C.apply(null,V),o))},resolve:h,reject:C}},nce=(()=>{const e={},t={},o={};return{load:(A,V)=>{const Z=`Script at URL "${V}" failed to load`,Y=`Script at URL "${V}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ee=new Promise((ge,Se)=>{const ve=tce(ge,Se);t[A]=ve.resolve,bl.ScriptLoader.loadScript(V).then(()=>ve.start(Y),()=>ve.reject(Z))});return e[A]=ee,ee}},add:(A,V)=>{t[A]!==void 0&&(t[A](V),delete t[A]),e[A]=Promise.resolve(V),o[A]=V},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),oce=()=>(()=>{let e={},t=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{t.push(i),e[i]=String(c)},key:i=>t[i],removeItem:i=>{t=t.filter(c=>c===i),delete e[i]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let TO;try{const e="__storage_test__";TO=window.localStorage,TO.setItem(e,e),TO.removeItem(e)}catch{TO=oce()}var sce=TO;const rce={geom:{Rect:ece},util:{Delay:Zc,Tools:Xt,VK:dn,URI:fd,EventDispatcher:kH,Observable:EH,I18n:Lc,LocalStorage:sce,ImageUploader:Az},dom:{EventUtils:Nf,TreeWalker:ca,TextSeeker:Hd,DOMUtils:Gs,ScriptLoader:bl,RangeUtils:Bp,Serializer:WP,StyleSheetLoader:Lm,ControlSelection:zs,BookmarkManager:Zs,Selection:fT,Event:Nf.Event},html:{Styles:Ex,Entities:Yg,Node:Da,Schema:Bc,DomParser:uy,Writer:HA,Serializer:wh},Env:Bo,AddOnManager:ol,Annotator:rR,Formatter:kw,UndoManager:_6,EditorCommands:Xj,WindowManager:i6,NotificationManager:wT,EditorObservable:tK,Shortcuts:iK,Editor:SB,FocusManager:id,EditorManager:Ty,DOM:Gs.DOM,ScriptLoader:bl.ScriptLoader,PluginManager:n1,ThemeManager:tv,ModelManager:ev,IconManager:xw,Resource:nce,FakeClipboard:qle,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,walk:Xt.walk,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix},mK=Xt.extend(Ty,rce),ice=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(mK),ice(mK)})()})(pee);var J0e=pee.exports;const Lq=VU(J0e);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,r=(s,a,u)=>{var f;return!!u(s,a.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===a.name},l=s=>a=>(u=>{const f=typeof u;return u===null?"null":f==="object"&&Array.isArray(u)?"array":f==="object"&&r(u,String,(p,b)=>b.isPrototypeOf(p))?"string":f})(a)===s,d=s=>a=>typeof a===s,g=s=>a=>s===a,v=l("string"),x=l("object"),S=s=>((a,u)=>x(a)&&r(a,u,(f,p)=>n(f)===p))(s,Object),M=l("array"),R=g(null),I=d("boolean"),L=g(void 0),$=s=>s==null,G=s=>!$(s),X=d("function"),ne=d("number"),ce=(s,a)=>{if(M(s)){for(let u=0,f=s.length;u<f;++u)if(!a(s[u]))return!1;return!0}return!1},le=()=>{},Me=s=>()=>s(),he=(s,a)=>(...u)=>s(a.apply(null,u)),K=s=>()=>s,ye=s=>s,ae=(s,a)=>s===a;function Ue(s,...a){return(...u)=>{const f=a.concat(u);return s.apply(null,f)}}const We=s=>a=>!s(a),qe=s=>()=>{throw new Error(s)},st=s=>s(),Ee=K(!1),Le=K(!0);class O{constructor(a,u){this.tag=a,this.value=u}static some(a){return new O(!0,a)}static none(){return O.singletonNone}fold(a,u){return this.tag?u(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?O.some(a(this.value)):O.none()}bind(a){return this.tag?a(this.value):O.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:O.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return G(a)?O.some(a):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const Ke=Array.prototype.slice,ct=Array.prototype.indexOf,$t=Array.prototype.push,Jt=(s,a)=>ct.call(s,a),et=(s,a)=>Jt(s,a)>-1,pt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return!0;return!1},Lt=(s,a)=>{const u=[];for(let f=0;f<s;f++)u.push(a(f));return u},tt=(s,a)=>{const u=[];for(let f=0;f<s.length;f+=a){const p=Ke.call(s,f,f+a);u.push(p)}return u},Ye=(s,a)=>{const u=s.length,f=new Array(u);for(let p=0;p<u;p++){const b=s[p];f[p]=a(b,p)}return f},Mt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)a(s[u],u)},oo=(s,a)=>{const u=[],f=[];for(let p=0,b=s.length;p<b;p++){const w=s[p];(a(w,p)?u:f).push(w)}return{pass:u,fail:f}},Fn=(s,a)=>{const u=[];for(let f=0,p=s.length;f<p;f++){const b=s[f];a(b,f)&&u.push(b)}return u},fn=(s,a,u)=>(((f,p)=>{for(let b=f.length-1;b>=0;b--)p(f[b],b)})(s,(f,p)=>{u=a(u,f,p)}),u),_n=(s,a,u)=>(Mt(s,(f,p)=>{u=a(u,f,p)}),u),Q=(s,a)=>((u,f,p)=>{for(let b=0,w=u.length;b<w;b++){const k=u[b];if(f(k,b))return O.some(k);if(p(k,b))break}return O.none()})(s,a,Ee),xs=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return O.some(u);return O.none()},eo=s=>{const a=[];for(let u=0,f=s.length;u<f;++u){if(!M(s[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+s);$t.apply(a,s[u])}return a},tn=(s,a)=>eo(Ye(s,a)),Oo=(s,a)=>{for(let u=0,f=s.length;u<f;++u)if(a(s[u],u)!==!0)return!1;return!0},je=s=>{const a=Ke.call(s,0);return a.reverse(),a},ie=(s,a)=>Fn(s,u=>!et(a,u)),xe=(s,a)=>{const u={};for(let f=0,p=s.length;f<p;f++){const b=s[f];u[String(b)]=a(b,f)}return u},Be=s=>[s],pe=(s,a)=>{const u=Ke.call(s,0);return u.sort(a),u},gt=(s,a)=>a>=0&&a<s.length?O.some(s[a]):O.none(),zt=s=>gt(s,0),vt=s=>gt(s,s.length-1),Ft=X(Array.from)?Array.from:s=>Ke.call(s),Vt=(s,a)=>{for(let u=0;u<s.length;u++){const f=a(s[u],u);if(f.isSome())return f}return O.none()},wn=Object.keys,cn=Object.hasOwnProperty,An=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f];a(s[b],b)}},On=(s,a)=>wo(s,(u,f)=>({k:f,v:a(u,f)})),wo=(s,a)=>{const u={};return An(s,(f,p)=>{const b=a(f,p);u[b.k]=b.v}),u},Do=s=>(a,u)=>{s[u]=a},$o=(s,a,u,f)=>{An(s,(p,b)=>{(a(p,b)?u:f)(p,b)})},cs=(s,a)=>{const u={};return $o(s,a,Do(u),le),u},ar=(s,a)=>{const u=[];return An(s,(f,p)=>{u.push(a(f,p))}),u},fs=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f],w=s[b];if(a(w,b,s))return O.some(w)}return O.none()},Ar=s=>ar(s,ye),hn=(s,a)=>Eo(s,a)?O.from(s[a]):O.none(),Eo=(s,a)=>cn.call(s,a),vo=(s,a)=>Eo(s,a)&&s[a]!==void 0&&s[a]!==null,or=(s,a,u=ae)=>s.exists(f=>u(f,a)),ea=s=>{const a=[],u=f=>{a.push(f)};for(let f=0;f<s.length;f++)s[f].each(u);return a},Kt=(s,a,u)=>s.isSome()&&a.isSome()?O.some(u(s.getOrDie(),a.getOrDie())):O.none(),gi=(s,a)=>s!=null?O.some(a(s)):O.none(),rs=(s,a)=>s?O.some(a):O.none(),Ul=(s,a,u)=>a===""||s.length>=a.length&&s.substr(u,u+a.length)===a,$s=(s,a)=>bm(s,a)?((u,f)=>u.substring(f))(s,a.length):s,ei=(s,a,u=0,f)=>{const p=s.indexOf(a,u);return p!==-1&&(!!L(f)||p+a.length<=f)},bm=(s,a)=>Ul(s,a,0),Pu=(s,a)=>Ul(s,a,s.length-a.length),_c=(pf=/^\s+|\s+$/g,s=>s.replace(pf,"")),ul=s=>s.length>0,Mu=s=>!ul(s),Os=s=>s.style!==void 0&&X(s.style.getPropertyValue),ao=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Wl=(s,a)=>{const u=document.createElement("div");if(u.innerHTML=s,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return ao(u.childNodes[0])},Ti=(s,a)=>{const u=document.createElement(s);return ao(u)},Bu=(s,a)=>{const u=document.createTextNode(s);return ao(u)},rn=ao,Lu=typeof window<"u"?window:Function("return this;")(),ym=(s,a)=>((u,f)=>{let p=f??Lu;for(let b=0;b<u.length&&p!=null;++b)p=p[u[b]];return p})(s.split("."),a),hr=Object.getPrototypeOf,xm=s=>{const a=ym("ownerDocument.defaultView",s);return x(s)&&((u=>((f,p)=>{const b=((w,k)=>ym(w,k))(f,p);if(b==null)throw new Error(f+" not available on this browser");return b})("HTMLElement",u))(a).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(hr(s).constructor.name))},Ga=s=>s.dom.nodeName.toLowerCase(),Ol=s=>a=>(u=>u.dom.nodeType)(a)===s,dl=s=>lr(s)&&xm(s.dom),lr=Ol(1),Ca=Ol(3),Dl=Ol(9),wm=Ol(11),qc=s=>a=>lr(a)&&Ga(a)===s,Yc=(s,a)=>{const u=s.dom;if(u.nodeType!==1)return!1;{const f=u;if(f.matches!==void 0)return f.matches(a);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(a);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(a);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},df=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,kd=(s,a)=>{const u=a===void 0?document:a.dom;return df(u)?O.none():O.from(u.querySelector(s)).map(rn)},is=(s,a)=>s.dom===a.dom,Br=(s,a)=>{const u=s.dom,f=a.dom;return u!==f&&u.contains(f)},ii=s=>rn(s.dom.ownerDocument),Cm=s=>Dl(s)?s:ii(s),qa=s=>rn(Cm(s).dom.documentElement),Xc=s=>rn(Cm(s).dom.defaultView),_a=s=>O.from(s.dom.parentNode).map(rn),Sa=s=>O.from(s.dom.parentElement).map(rn),Jc=s=>O.from(s.dom.offsetParent).map(rn),Ns=s=>Ye(s.dom.childNodes,rn),cr=(s,a)=>{const u=s.dom.childNodes;return O.from(u[a]).map(rn)},Te=s=>cr(s,0),nt=(s,a)=>({element:s,offset:a}),Ne=(s,a)=>{const u=Ns(s);return u.length>0&&a<u.length?nt(u[a],0):nt(s,a)},mt=s=>wm(s)&&G(s.dom.host),ut=s=>rn(s.dom.getRootNode()),Je=s=>mt(s)?s:rn(Cm(s).dom.body),Wt=s=>{const a=ut(s);return mt(a)?O.some(a):O.none()},nn=s=>rn(s.dom.host),un=s=>{const a=Ca(s)?s.dom.parentNode:s.dom;if(a==null||a.ownerDocument===null)return!1;const u=a.ownerDocument;return Wt(rn(a)).fold(()=>u.body.contains(a),(f=un,p=nn,b=>f(p(b))));var f,p},vn=()=>an(rn(document)),an=s=>{const a=s.dom.body;if(a==null)throw new Error("Body is not available yet");return rn(a)},ho=(s,a,u)=>{if(!(v(u)||I(u)||ne(u)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",u,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(a,u+"")},sn=(s,a,u)=>{ho(s.dom,a,u)},ks=(s,a)=>{const u=s.dom;An(a,(f,p)=>{ho(u,p,f)})},Mo=(s,a)=>{const u=s.dom.getAttribute(a);return u===null?void 0:u},jo=(s,a)=>O.from(Mo(s,a)),Tr=(s,a)=>{const u=s.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(a)},_o=(s,a)=>{s.dom.removeAttribute(a)},Rl=(s,a,u)=>{if(!v(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",s),new Error("CSS value must be a string: "+u);Os(s)&&s.style.setProperty(a,u)},ta=(s,a)=>{Os(s)&&s.style.removeProperty(a)},co=(s,a,u)=>{const f=s.dom;Rl(f,a,u)},Ya=(s,a)=>{const u=s.dom;An(a,(f,p)=>{Rl(u,p,f)})},fl=(s,a)=>{const u=s.dom;An(a,(f,p)=>{f.fold(()=>{ta(u,p)},b=>{Rl(u,p,b)})})},wr=(s,a)=>{const u=s.dom,f=window.getComputedStyle(u).getPropertyValue(a);return f!==""||un(s)?f:Ed(u,a)},Ed=(s,a)=>Os(s)?s.style.getPropertyValue(a):"",Hr=(s,a)=>{const u=s.dom,f=Ed(u,a);return O.from(f).filter(p=>p.length>0)},ff=s=>{const a={},u=s.dom;if(Os(u))for(let f=0;f<u.style.length;f++){const p=u.style.item(f);a[p]=u.style[p]}return a},Il=(s,a,u)=>{const f=Ti(s);return co(f,a,u),Hr(f,a).isSome()},ws=(s,a)=>{const u=s.dom;ta(u,a),or(jo(s,"style").map(_c),"")&&_o(s,"style")},Fu=s=>s.dom.offsetWidth,_m=(s,a)=>{const u=p=>{const b=a(p);if(b<=0||b===null){const w=wr(p,s);return parseFloat(w)||0}return b},f=(p,b)=>_n(b,(w,k)=>{const E=wr(p,k),D=E===void 0?0:parseInt(E,10);return isNaN(D)?w:w+D},0);return{set:(p,b)=>{if(!ne(b)&&!b.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+b);const w=p.dom;Os(w)&&(w.style[s]=b+"px")},get:u,getOuter:u,aggregate:f,max:(p,b,w)=>{const k=f(p,w);return b>k?b-k:0}}},Jh=_m("height",s=>{const a=s.dom;return un(s)?a.getBoundingClientRect().height:a.offsetHeight}),Or=s=>Jh.get(s),Sc=s=>Jh.getOuter(s),ml=(s,a)=>({left:s,top:a,translate:(u,f)=>ml(s+u,a+f)}),Xs=ml,Sm=(s,a)=>s!==void 0?s:a!==void 0?a:0,Nl=s=>{const a=s.dom.ownerDocument,u=a.body,f=a.defaultView,p=a.documentElement;if(u===s.dom)return Xs(u.offsetLeft,u.offsetTop);const b=Sm(f==null?void 0:f.pageYOffset,p.scrollTop),w=Sm(f==null?void 0:f.pageXOffset,p.scrollLeft),k=Sm(p.clientTop,u.clientTop),E=Sm(p.clientLeft,u.clientLeft);return na(s).translate(w-E,b-k)},na=s=>{const a=s.dom,u=a.ownerDocument.body;return u===a?Xs(u.offsetLeft,u.offsetTop):un(s)?(f=>{const p=f.getBoundingClientRect();return Xs(p.left,p.top)})(a):Xs(0,0)},Mg=_m("width",s=>s.dom.offsetWidth),Oi=s=>Mg.get(s),Xa=s=>Mg.getOuter(s),oa=s=>{let a,u=!1;return(...f)=>(u||(u=!0,a=s.apply(null,f)),a)},Pl=()=>Qh(0,0),Qh=(s,a)=>({major:s,minor:a}),Bo={nu:Qh,detect:(s,a)=>{const u=String(a).toLowerCase();return s.length===0?Pl():((f,p)=>{const b=((k,E)=>{for(let D=0;D<k.length;D++){const F=k[D];if(F.test(E))return F}})(f,p);if(!b)return{major:0,minor:0};const w=k=>Number(p.replace(b,"$"+k));return Qh(w(1),w(2))})(s,u)},unknown:Pl},Qc=(s,a)=>{const u=String(a).toLowerCase();return Q(s,f=>f.search(u))},Ad=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vu=s=>a=>ei(a,s),Sv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ei(s,"edge/")&&ei(s,"chrome")&&ei(s,"safari")&&ei(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ad],search:s=>ei(s,"chrome")&&!ei(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ei(s,"msie")||ei(s,"trident")},{name:"Opera",versionRegexes:[Ad,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vu("firefox")},{name:"Safari",versionRegexes:[Ad,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ei(s,"safari")||ei(s,"mobile/"))&&ei(s,"applewebkit")}],tx=[{name:"Windows",search:Vu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ei(s,"iphone")||ei(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Vu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vu("linux"),versionRegexes:[]},{name:"Solaris",search:Vu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Vu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],L1={browsers:K(Sv),oses:K(tx)},F1="Edge",bC="Chromium",ep="Opera",V1="Firefox",Xt="Safari",mf=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isEdge:f(F1),isChromium:f(bC),isIE:f("IE"),isOpera:f(ep),isFirefox:f(V1),isSafari:f(Xt)}},gf=()=>mf({current:void 0,version:Bo.unknown()}),z1=mf,sa="Windows",hf="Android",Bg="Linux",nx="macOS",ox="Solaris",kv="FreeBSD",sx="ChromeOS",H1=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isWindows:f(sa),isiOS:f("iOS"),isAndroid:f(hf),isMacOS:f(nx),isLinux:f(Bg),isSolaris:f(ox),isFreeBSD:f(kv),isChromeOS:f(sx)}},rx=()=>H1({current:void 0,version:Bo.unknown()}),Lg=H1,$1=s=>window.matchMedia(s).matches;var pf;let vf=oa(()=>((s,a,u)=>{const f=L1.browsers(),p=L1.oses(),b=a.bind(E=>((D,F)=>Vt(F.brands,P=>{const z=P.brand.toLowerCase();return Q(D,q=>{var J;return z===((J=q.brand)===null||J===void 0?void 0:J.toLowerCase())}).map(q=>({current:q.name,version:Bo.nu(parseInt(P.version,10),0)}))}))(f,E)).orThunk(()=>((E,D)=>Qc(E,D).map(F=>{const P=Bo.detect(F.versionRegexes,D);return{current:F.name,version:P}}))(f,s)).fold(gf,z1),w=((E,D)=>Qc(E,D).map(F=>{const P=Bo.detect(F.versionRegexes,D);return{current:F.name,version:P}}))(p,s).fold(rx,Lg),k=((E,D,F,P)=>{const z=E.isiOS()&&/ipad/i.test(F)===!0,q=E.isiOS()&&!z,J=E.isiOS()||E.isAndroid(),ue=J||P("(pointer:coarse)"),me=z||!q&&J&&P("(min-device-width:768px)"),Ce=q||J&&!me,fe=D.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,de=!Ce&&!me&&!fe;return{isiPad:K(z),isiPhone:K(q),isTablet:K(me),isPhone:K(Ce),isTouch:K(ue),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:K(fe),isDesktop:K(de)}})(w,b,s,u);return{browser:b,os:w,deviceType:k}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),$1));const ra=()=>vf(),gl=s=>{const a=rn((b=>{if(G(b.target)){const w=rn(b.target);if(lr(w)&&(k=>G(k.dom.shadowRoot))(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return zt(k)}}return O.from(b.target)})(s).getOr(s.target)),u=()=>s.stopPropagation(),f=()=>s.preventDefault(),p=he(f,u);return((b,w,k,E,D,F,P)=>({target:b,x:w,y:k,stop:E,prevent:D,kill:F,raw:P}))(a,s.clientX,s.clientY,u,f,p,s)},Fg=(s,a,u,f,p)=>{const b=((w,k)=>E=>{w(E)&&k(gl(E))})(u,f);return s.dom.addEventListener(a,b,p),{unbind:Ue(qo,s,a,b,p)}},qo=(s,a,u,f)=>{s.dom.removeEventListener(a,u,f)},Td=(s,a)=>{_a(s).each(u=>{u.dom.insertBefore(a.dom,s.dom)})},Vg=(s,a)=>{(f=>O.from(f.dom.nextSibling).map(rn))(s).fold(()=>{_a(s).each(f=>{Na(f,a)})},f=>{Td(f,a)})},zg=(s,a)=>{Te(s).fold(()=>{Na(s,a)},u=>{s.dom.insertBefore(a.dom,u.dom)})},Na=(s,a)=>{s.dom.appendChild(a.dom)},$r=(s,a)=>{Mt(a,u=>{Na(s,u)})},ur=s=>{s.dom.textContent="",Mt(Ns(s),a=>{$i(a)})},$i=s=>{const a=s.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Js=s=>{const a=s!==void 0?s.dom:document,u=a.body.scrollLeft||a.documentElement.scrollLeft,f=a.body.scrollTop||a.documentElement.scrollTop;return Xs(u,f)},bf=(s,a,u)=>{const f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(s,a)},km=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),xi=s=>{const a=s===void 0?window:s,u=a.document,f=Js(rn(u));return(p=>{const b=p===void 0?window:p;return ra().browser.isFirefox()?O.none():O.from(b.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,b=p.clientWidth,w=p.clientHeight;return km(f.left,f.top,b,w)},p=>km(Math.max(p.pageLeft,f.left),Math.max(p.pageTop,f.top),p.width,p.height))},Pa=()=>rn(document),ka=(s,a)=>s.view(a).fold(K([]),u=>{const f=s.owner(u),p=ka(s,f);return[u].concat(p)});var eu=Object.freeze({__proto__:null,view:s=>{var a;return(s.dom===document?O.none():O.from((a=s.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(rn)},owner:s=>ii(s)});const Od=s=>{const a=Pa(),u=Js(a);return((p,b)=>{const w=b.owner(p),k=ka(b,w);return O.some(k)})(s,eu).fold(Ue(Nl,s),p=>{const b=na(s),w=fn(p,(k,E)=>{const D=na(E);return{left:k.left+D.left,top:k.top+D.top}},{left:0,top:0});return Xs(w.left+b.left+u.left,w.top+b.top+u.top)})},Ro=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),ai=s=>{const a=Nl(s),u=Xa(s),f=Sc(s);return Ro(a.left,a.top,u,f)},hl=s=>{const a=Od(s),u=Xa(s),f=Sc(s);return Ro(a.left,a.top,u,f)},Dd=(s,a)=>{const u=Math.max(s.x,a.x),f=Math.max(s.y,a.y),p=Math.min(s.right,a.right),b=Math.min(s.bottom,a.bottom);return Ro(u,f,p-u,b-f)},Ui=()=>xi(window),Bn=s=>{let a=s;return{get:()=>a,set:u=>{a=u}}},kc=s=>{const a=Bn(O.none()),u=()=>a.get().each(s);return{clear:()=>{u(),a.set(O.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:f=>{u(),a.set(O.some(f))}}},Ec=()=>kc(s=>s.unbind()),Es=()=>{const s=kc(le);return{...s,on:a=>s.get().each(a)}};var tp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ev=s=>{const a=b=>b(s),u=K(s),f=()=>p,p={tag:!0,inner:s,fold:(b,w)=>w(s),isValue:Le,isError:Ee,map:b=>Lo.value(b(s)),mapError:f,bind:a,exists:a,forall:a,getOr:u,or:f,getOrThunk:u,orThunk:f,getOrDie:u,each:b=>{b(s)},toOptional:()=>O.some(s)};return p},Rd=s=>{const a=()=>u,u={tag:!1,inner:s,fold:(f,p)=>f(s),isValue:Ee,isError:Le,map:a,mapError:f=>Lo.error(f(s)),bind:a,exists:Ee,forall:Le,getOr:ye,or:ye,getOrThunk:st,orThunk:st,getOrDie:qe(String(s)),each:le,toOptional:O.none};return u},Lo={value:Ev,error:Rd,fromOption:(s,a)=>s.fold(()=>Rd(a),Ev)};var Ma;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ma||(Ma={}));const np=(s,a,u)=>s.stype===Ma.Error?a(s.serror):u(s.svalue),Id=s=>({stype:Ma.Value,svalue:s}),Av=s=>({stype:Ma.Error,serror:s}),tu=Id,Ja=Av,nu=np,yf=(s,a,u,f)=>({tag:"field",key:s,newKey:a,presence:u,prop:f}),Fe=(s,a,u)=>{switch(s.tag){case"field":return a(s.key,s.newKey,s.presence,s.prop);case"custom":return u(s.newKey,s.instantiator)}},Em=s=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const u={};for(let f=0;f<a.length;f++){const p=a[f];for(const b in p)Eo(p,b)&&(u[b]=s(u[b],p[b]))}return u},Ps=Em((s,a)=>S(s)&&S(a)?Ps(s,a):a),Tv=Em((s,a)=>a),Hg=s=>({tag:"defaultedThunk",process:s}),ou=s=>Hg(K(s)),Yo=s=>({tag:"mergeWithThunk",process:s}),ia=s=>{const a=(f=>{const p=[],b=[];return Mt(f,w=>{np(w,k=>b.push(k),k=>p.push(k))}),{values:p,errors:b}})(s);return a.errors.length>0?(u=a.errors,he(Ja,eo)(u)):tu(a.values);var u},zu=s=>x(s)&&wn(s).length>100?" removed due to size":JSON.stringify(s,null,2),nc=(s,a)=>Ja([{path:s,getErrorInfo:a}]),Hu=s=>({extract:(a,u)=>((f,p)=>f.stype===Ma.Error?p(f.serror):f)(s(u),f=>((p,b)=>nc(p,K(b)))(a,f)),toString:K("val")}),$u=Hu(tu),aa=(s,a,u,f)=>f(hn(s,a).getOrThunk(()=>u(s))),xf=(s,a,u,f,p)=>{const b=k=>p.extract(a.concat([f]),k),w=k=>k.fold(()=>tu(O.none()),E=>((D,F)=>D.stype===Ma.Value?{stype:Ma.Value,svalue:F(D.svalue)}:D)(p.extract(a.concat([f]),E),O.some));switch(s.tag){case"required":return((k,E,D,F)=>hn(E,D).fold(()=>((P,z,q)=>nc(P,()=>'Could not find valid *required* value for "'+z+'" in '+zu(q)))(k,D,E),F))(a,u,f,b);case"defaultedThunk":return aa(u,f,s.process,b);case"option":return((k,E,D)=>D(hn(k,E)))(u,f,w);case"defaultedOptionThunk":return((k,E,D,F)=>F(hn(k,E).map(P=>P===!0?D(k):P)))(u,f,s.process,w);case"mergeWithThunk":return aa(u,f,K({}),k=>{const E=Ps(s.process(u),k);return b(E)})}},Am=s=>({extract:(a,u)=>s().extract(a,u),toString:()=>s().toString()}),Ov=s=>wn(cs(s,G)),wi=s=>{const a=Wn(s),u=fn(s,(f,p)=>Fe(p,b=>Ps(f,{[b]:!0}),K(f)),{});return{extract:(f,p)=>{const b=I(p)?[]:Ov(p),w=Fn(b,k=>!vo(u,k));return w.length===0?a.extract(f,p):((k,E)=>nc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,w)},toString:a.toString}},Wn=s=>({extract:(a,u)=>((f,p,b)=>{const w={},k=[];for(const E of b)Fe(E,(D,F,P,z)=>{const q=xf(P,f,p,D,z);nu(q,J=>{k.push(...J)},J=>{w[F]=J})},(D,F)=>{w[D]=F(p)});return k.length>0?Ja(k):tu(w)})(a,u,s),toString:()=>`obj{
`+Ye(s,u=>Fe(u,(f,p,b,w)=>f+" -> "+w.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),Uu=s=>({extract:(a,u)=>{const f=Ye(u,(p,b)=>s.extract(a.concat(["["+b+"]"]),p));return ia(f)},toString:()=>"array("+s.toString()+")"}),Tm=(s,a)=>{const u=a!==void 0?a:ye;return{extract:(f,p)=>{const b=[];for(const w of s){const k=w.extract(f,p);if(k.stype===Ma.Value)return{stype:Ma.Value,svalue:u(k.svalue)};b.push(k)}return ia(b)},toString:()=>"oneOf("+Ye(s,f=>f.toString()).join(", ")+")"}},la=(s,a)=>({extract:(u,f)=>{const p=wn(f),b=((w,k)=>Uu(Hu(s)).extract(w,k))(u,p);return((w,k)=>w.stype===Ma.Value?k(w.svalue):w)(b,w=>{const k=Ye(w,E=>yf(E,E,{tag:"required",process:{}},a));return Wn(k).extract(u,f)})},toString:()=>"setOf("+a.toString()+")"}),Wu=he(Uu,Wn),Ml=K($u),Zu=(s,a)=>Hu(u=>{const f=typeof u;return s(u)?tu(u):Ja(`Expected type: ${a} but got: ${f}`)}),Nd=Zu(ne,"number"),Ci=Zu(v,"string"),oc=Zu(I,"boolean"),su=Zu(X,"function"),Om=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(a=>Om(s[a]));default:return!1}},U1=Hu(s=>Om(s)?tu(s):Ja("Expected value to be acceptable for sending via postMessage")),ju=(s,a)=>({extract:(u,f)=>hn(f,s).fold(()=>((p,b)=>nc(p,()=>'Choice schema did not contain choice key: "'+b+'"'))(u,s),p=>((b,w,k,E)=>hn(k,E).fold(()=>((D,F,P)=>nc(D,()=>'The chosen schema: "'+P+'" did not exist in branches: '+zu(F)))(b,k,E),D=>D.extract(b.concat(["branch: "+E]),w)))(u,f,a,p)),toString:()=>"chooseOn("+s+"). Possible values: "+wn(a)}),wf=s=>Hu(a=>s(a).fold(Ja,tu)),Dv=(s,a)=>la(u=>s(u).fold(Av,Id),a),Cr=(s,a,u)=>{return f=((p,b,w)=>((k,E)=>k.stype===Ma.Error?{stype:Ma.Error,serror:E(k.serror)}:k)(b.extract([p],w),k=>({input:w,errors:k})))(s,a,u),np(f,Lo.error,Lo.value);var f},Ba=s=>s.fold(a=>{throw new Error(Qa(a))},ye),Ea=(s,a,u)=>Ba(Cr(s,a,u)),Qa=s=>`Errors: 
`+(a=>{const u=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:K("... (only showing first ten failures)")}]):a;return Ye(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+zu(s.input),hi=(s,a)=>ju(s,On(a,Wn)),op=(s,a)=>((u,f)=>{const p=oa(f);return{extract:(b,w)=>p().extract(b,w),toString:()=>p().toString()}})(0,a),li=yf,Wi=(s,a)=>({tag:"custom",newKey:s,instantiator:a}),ru=s=>wf(a=>et(s,a)?Lo.value(a):Lo.error(`Unsupported value: "${a}", choose one of "${s.join(", ")}".`)),Dt=s=>li(s,s,{tag:"required",process:{}},Ml()),Zi=(s,a)=>li(s,s,{tag:"required",process:{}},a),sp=s=>Zi(s,Nd),_r=s=>Zi(s,Ci),Ku=(s,a)=>li(s,s,{tag:"required",process:{}},ru(a)),La=s=>Zi(s,su),Ac=(s,a)=>li(s,s,{tag:"required",process:{}},Wn(a)),Dm=(s,a)=>li(s,s,{tag:"required",process:{}},Wu(a)),el=(s,a)=>li(s,s,{tag:"required",process:{}},Uu(a)),Ko=s=>li(s,s,{tag:"option",process:{}},Ml()),Ur=(s,a)=>li(s,s,{tag:"option",process:{}},a),Cf=s=>Ur(s,Nd),Lr=s=>Ur(s,Ci),$g=(s,a)=>Ur(s,ru(a)),iu=s=>Ur(s,su),W1=(s,a)=>Ur(s,Uu(a)),Dr=(s,a)=>Ur(s,Wn(a)),it=(s,a)=>li(s,s,ou(a),Ml()),Fa=(s,a,u)=>li(s,s,ou(a),u),Wr=(s,a)=>Fa(s,a,Nd),Zl=(s,a)=>Fa(s,a,Ci),Tc=(s,a,u)=>Fa(s,a,ru(u)),ti=(s,a)=>Fa(s,a,oc),Qs=(s,a)=>Fa(s,a,su),Ds=(s,a,u)=>Fa(s,a,Uu(u)),Va=(s,a,u)=>Fa(s,a,Wn(u)),jl=s=>{if(!M(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const a=[],u={};return Mt(s,(f,p)=>{const b=wn(f);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],k=f[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!M(k))throw new Error("case arguments must be an array");a.push(w),u[w]=(...E)=>{const D=E.length;if(D!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+D);return{fold:(...F)=>{if(F.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+F.length);return F[p].apply(null,E)},match:F=>{const P=wn(F);if(a.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+P.join(","));if(!Oo(a,z=>et(P,z)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+a.join(", "));return F[w].apply(null,E)},log:F=>{console.log(F,{constructors:a,constructor:w,params:E})}}}}),u};jl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const au=(s,a)=>((u,f)=>({[u]:f}))(s,a),Pd=s=>(a=>{const u={};return Mt(a,f=>{u[f.key]=f.value}),u})(s),Rm=s=>X(s)?s:Ee,Ug=(s,a,u)=>{let f=s.dom;const p=Rm(u);for(;f.parentNode;){f=f.parentNode;const b=rn(f),w=a(b);if(w.isSome())return w;if(p(b))break}return O.none()},Wg=(s,a,u)=>{const f=a(s),p=Rm(u);return f.orThunk(()=>p(s)?O.none():Ug(s,a,p))},Rv=(s,a)=>is(s.element,a.event.target),Iv={can:Le,abort:Ee,run:le},Gu=s=>{if(!vo(s,"can")&&!vo(s,"abort")&&!vo(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...Iv,...s}},N=K,W=N("touchstart"),oe=N("touchmove"),Re=N("touchend"),$e=N("touchcancel"),Rt=N("mousedown"),jn=N("mousemove"),po=N("mouseout"),lo=N("mouseup"),Tn=N("mouseover"),bs=N("focusin"),Zr=N("focusout"),Sr=N("keydown"),Oc=N("keyup"),Im=N("input"),Nm=N("change"),pi=N("click"),yC=N("transitioncancel"),Nv=N("transitionend"),Z1=N("transitionstart"),ca=N("selectstart"),Rr=s=>K("alloy."+s),Di={tap:Rr("tap")},qu=Rr("focus"),rp=Rr("blur.post"),ix=Rr("paste.post"),sc=Rr("receive"),pl=Rr("execute"),Pv=Rr("focus.item"),_f=Di.tap,lE=Rr("longpress"),Mv=Rr("sandbox.close"),Md=Rr("typeahead.cancel"),Sf=Rr("system.init"),En=Rr("system.touchmove"),lu=Rr("system.touchend"),Bv=Rr("system.scroll"),kf=Rr("system.resize"),ua=Rr("system.attached"),Dc=Rr("system.detached"),Zg=Rr("system.dismissRequested"),Ef=Rr("system.repositionRequested"),j1=Rr("focusmanager.shifted"),cu=Rr("slotcontainer.visibility"),ip=Rr("system.external.element.scroll"),ap=Rr("change.tab"),Ut=Rr("dismiss.tab"),ax=Rr("highlight"),Af=Rr("dehighlight"),ko=(s,a)=>{Rc(s,s.element,a,{})},Rn=(s,a,u)=>{Rc(s,s.element,a,u)},Tf=s=>{ko(s,pl())},pr=(s,a,u)=>{Rc(s,a,u,{})},Rc=(s,a,u,f)=>{const p={target:a,...f};s.getSystem().triggerEvent(u,a,p)},Ic=(s,a,u,f)=>{s.getSystem().triggerEvent(u,a,f.event)},fo=s=>Pd(s),lp=(s,a)=>({key:s,value:Gu({abort:a})}),xC=s=>({key:s,value:Gu({run:(a,u)=>{u.event.prevent()}})}),St=(s,a)=>({key:s,value:Gu({run:a})}),lx=(s,a,u)=>({key:s,value:Gu({run:(f,p)=>{a.apply(void 0,[f,p].concat(u))}})}),cp=s=>a=>({key:s,value:Gu({run:(u,f)=>{Rv(u,f)&&a(u,f)}})}),up=(s,a,u)=>((f,p)=>St(f,(b,w)=>{b.getSystem().getByUid(p).each(k=>{Ic(k,k.element,f,w)})}))(s,a.partUids[u]),jg=(s,a)=>St(s,(u,f)=>{const p=f.event,b=u.getSystem().getByDom(p.target).getOrThunk(()=>Wg(p.target,w=>u.getSystem().getByDom(w).toOptional(),Ee).getOr(u));a(u,b,f)}),Pm=s=>St(s,(a,u)=>{u.cut()}),wC=s=>St(s,(a,u)=>{u.stop()}),Of=(s,a)=>cp(s)(a),sr=cp(ua()),Yu=cp(Dc()),K1=cp(Sf()),uu=(Fm=pl(),s=>St(Fm,s)),Mm=s=>Ye(s,a=>Pu(a,"/*")?a.substring(0,a.length-2):a),rc=(s,a)=>{const u=s.toString(),f=u.indexOf(")")+1,p=u.indexOf("("),b=u.substring(p+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:a,parameters:Mm(b)}),s},jr=s=>({classes:L(s.classes)?[]:s.classes,attributes:L(s.attributes)?{}:s.attributes,styles:L(s.styles)?{}:s.styles}),Lv=(s,a,u)=>K1((f,p)=>{u(f,s,a)}),Ri=s=>({key:s,value:void 0}),G1=(s,a,u,f,p,b,w)=>{const k=F=>vo(F,u)?F[u]():O.none(),E=On(p,(F,P)=>((z,q,J)=>((ue,me,Ce)=>{const fe=Ce.toString(),de=fe.indexOf(")")+1,be=fe.indexOf("("),_e=fe.substring(be+1,de-1).split(/,\s*/);return ue.toFunctionAnnotation=()=>({name:me,parameters:Mm(_e.slice(0,1).concat(_e.slice(3)))}),ue})((ue,...me)=>{const Ce=[ue].concat(me);return ue.config({name:K(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+J)},fe=>{const de=Array.prototype.slice.call(Ce,1);return q.apply(void 0,[ue,fe.config,fe.state].concat(de))})},J,q))(u,F,P)),D={...On(b,(F,P)=>rc(F,P)),...E,revoke:Ue(Ri,u),config:F=>{const P=Ea(u+"-config",s,F);return{key:u,value:{config:P,me:D,configAsRaw:oa(()=>Ea(u+"-config",s,F)),initialConfig:F,state:w}}},schema:K(a),exhibit:(F,P)=>Kt(k(F),hn(f,"exhibit"),(z,q)=>q(P,z.config,z.state)).getOrThunk(()=>jr({})),name:K(u),handlers:F=>k(F).map(P=>hn(f,"events").getOr(()=>({}))(P.config,P.state)).getOr({})};return D},Nc={init:()=>Ii({readState:K("No State required")})},Ii=s=>s,Zt=s=>Pd(s),Bm=wi([Dt("fields"),Dt("name"),it("active",{}),it("apis",{}),it("state",Nc),it("extra",{})]),Ni=s=>{const a=Ea("Creating behaviour: "+s.name,Bm,s);return((u,f,p,b,w,k)=>{const E=wi(u),D=Dr(f,[(F=u,Ur("config",wi(F)))]);var F;return G1(E,D,f,p,b,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},CC=wi([Dt("branchKey"),Dt("branches"),Dt("name"),it("active",{}),it("apis",{}),it("state",Nc),it("extra",{})]),_C=s=>{const a=Ea("Creating behaviour: "+s.name,CC,s);return((u,f,p,b,w,k)=>{const E=u,D=Dr(f,[Ur("config",u)]);return G1(E,D,f,p,b,w,k)})(hi(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},cE=K(void 0),Bd=(s,a)=>{const u=Mo(s,a);return u===void 0||u===""?[]:u.split(" ")},Kg=s=>s.dom.classList!==void 0,Fv=s=>Bd(s,"class"),q1=(s,a)=>((u,f,p)=>{const b=Bd(u,f).concat([p]);return sn(u,f,b.join(" ")),!0})(s,"class",a),cx=(s,a)=>((u,f,p)=>{const b=Fn(Bd(u,f),w=>w!==p);return b.length>0?sn(u,f,b.join(" ")):_o(u,f),!1})(s,"class",a),kr=(s,a)=>{Kg(s)?s.dom.classList.add(a):q1(s,a)},Vv=s=>{(Kg(s)?s.dom.classList:Fv(s)).length===0&&_o(s,"class")},Ir=(s,a)=>{Kg(s)?s.dom.classList.remove(a):cx(s,a),Vv(s)},tl=(s,a)=>Kg(s)&&s.dom.classList.contains(a),Kr=(s,a)=>{Mt(a,u=>{kr(s,u)})},ic=(s,a)=>{Mt(a,u=>{Ir(s,u)})},Ld=s=>Kg(s)?(a=>{const u=a.dom.classList,f=new Array(u.length);for(let p=0;p<u.length;p++){const b=u.item(p);b!==null&&(f[p]=b)}return f})(s):Fv(s),ji=(s,a,u,f,p)=>{const b=w=>w+"px";return{position:s,left:a.map(b),top:u.map(b),right:f.map(b),bottom:p.map(b)}},zv=(s,a)=>{fl(s,(u=>({...u,position:O.some(u.position)}))(a))},dp=s=>(or(Hr(s,"position"),"fixed")?O.none():Jc(s)).orThunk(()=>{const a=Ti("span");return _a(s).bind(u=>{Na(u,a);const f=Jc(a);return $i(a),f})}),Df=s=>dp(s).map(Nl).getOrThunk(()=>Xs(0,0)),SC=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Ir(u,a.fadeOutClass),kr(u,a.fadeInClass),a.onShow(s)},fp=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Ir(u,a.fadeInClass),kr(u,a.fadeOutClass),a.onHide(s)},ux=(s,a)=>s.y>=a.y,Y1=(s,a)=>s.bottom<=a.bottom,Hv=(s,a,u)=>({location:"top",leftX:a,topY:u.bounds.y-s.y}),X1=(s,a,u)=>({location:"bottom",leftX:a,bottomY:s.bottom-u.bounds.bottom}),dx=s=>s.box.x-s.win.x,Lm=(s,a,u)=>u.getInitialPos().map(f=>{const p=((b,w)=>{const k=w.optScrollEnv.fold(K(b.bounds.y),E=>E.scrollElmTop+(b.bounds.y-E.currentScrollTop));return Xs(b.bounds.x,k)})(f,a);return{box:Ro(p.left,p.top,Oi(s),Or(s)),location:f.location}}),uE=(s,a,u,f,p)=>{const b=((k,E)=>{const D=E.optScrollEnv.fold(K(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return Xs(k.x,D)})(a,u),w=Ro(b.left,b.top,a.width,a.height);f.setInitialPos({style:ff(s),position:wr(s,"position")||"static",bounds:w,location:p.location})},J1=(s,a,u)=>u.getInitialPos().bind(f=>{var p;switch(u.clearInitialPos(),f.position){case"static":return O.some({morph:"static"});case"absolute":const b=dp(s).getOr(vn()),w=ai(b),k=(p=b.dom.scrollTop)!==null&&p!==void 0?p:0;return O.some({morph:"absolute",positionCss:ji("absolute",hn(f.style,"left").map(E=>a.x-w.x),hn(f.style,"top").map(E=>a.y-w.y+k),hn(f.style,"right").map(E=>w.right-a.right),hn(f.style,"bottom").map(E=>w.bottom-a.bottom))});default:return O.none()}}),Q1=s=>{switch(s.location){case"top":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(s.leftX),O.some(s.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(s.leftX),O.none(),O.none(),O.some(s.bottomY))});default:return O.none()}},fx=(s,a,u)=>{const f=s.element;return or(Hr(f,"position"),"fixed")?((p,b,w)=>((k,E,D)=>Lm(k,E,D).filter(({box:F})=>((P,z,q)=>Oo(P,J=>{switch(J){case"bottom":return Y1(z,q.bounds);case"top":return ux(z,q.bounds)}}))(D.getModes(),F,E)).bind(({box:F})=>J1(k,F,D)))(p,b,w).orThunk(()=>b.optScrollEnv.bind(k=>Lm(p,b,w)).bind(({box:k,location:E})=>{const D=Ui(),F=dx({win:D,box:k}),P=E==="top"?Hv(D,F,b):X1(D,F,b);return Q1(P)})))(f,a,u):((p,b,w)=>{const k=ai(p),E=Ui(),D=((F,P,z)=>{const q=P.win,J=P.box,ue=dx(P);return Vt(F,me=>{switch(me){case"bottom":return Y1(J,z.bounds)?O.none():O.some(X1(q,ue,z));case"top":return ux(J,z.bounds)?O.none():O.some(Hv(q,ue,z));default:return O.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},b);return D.location==="top"||D.location==="bottom"?(uE(p,k,b,w,D),Q1(D)):O.none()})(f,a,u)},mx=(s,a,u)=>{u.setDocked(!1),Mt(["left","right","top","bottom","position"],f=>ws(s.element,f)),a.onUndocked(s)},$v=(s,a,u,f)=>{const p=f.position==="fixed";u.setDocked(p),zv(s.element,f),(p?a.onDocked:a.onUndocked)(s)},gx=(s,a,u,f,p=!1)=>{a.contextual.each(b=>{b.lazyContext(s).each(w=>{const k=((E,D)=>E.y<D.bottom&&E.bottom>D.y)(w,f.bounds);k!==u.isVisible()&&(u.setVisible(k),p&&!k?(Kr(s.element,[b.fadeOutClass]),b.onHide(s)):(k?SC:fp)(s,b))})})},hx=(s,a,u,f,p)=>{gx(s,a,u,f,!0),$v(s,a,u,p.positionCss)},Uv=(s,a,u)=>{s.getSystem().isConnected()&&((f,p,b)=>{const w=p.lazyViewport(f);gx(f,p,b,w),fx(f,w,b).each(k=>{((E,D,F,P,z)=>{switch(z.morph){case"static":return mx(E,D,F);case"absolute":return $v(E,D,F,z.positionCss);case"fixed":hx(E,D,F,P,z)}})(f,p,b,w,k)})})(s,a,u)},mp=(s,a,u)=>{u.isDocked()&&((f,p,b)=>{const w=f.element;b.setDocked(!1);const k=p.lazyViewport(f);((E,D,F)=>{const P=E.element;return Lm(P,D,F).bind(({box:z})=>J1(P,z,F))})(f,k,b).each(E=>{switch(E.morph){case"static":mx(f,p,b);break;case"absolute":$v(f,p,b,E.positionCss)}}),b.setVisible(!0),p.contextual.each(E=>{ic(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),Uv(f,p,b)})(s,a,u)},px=s=>(a,u,f)=>{const p=u.lazyViewport(a);((b,w,k,E)=>{const D=ai(b),F=Ui(),P=E(F,dx({win:F,box:D}),w);return P.location==="bottom"||P.location==="top"?(((z,q,J,ue,me)=>{ue.getInitialPos().fold(()=>uE(z,q,J,ue,me),()=>le)})(b,D,w,k,P),Q1(P)):O.none()})(a.element,p,f,s).each(b=>{hx(a,u,f,p,b)})},Wv=px(Hv),Zv=px(X1);var Fm,gp=Object.freeze({__proto__:null,refresh:Uv,reset:mp,isDocked:(s,a,u)=>u.isDocked(),getModes:(s,a,u)=>u.getModes(),setModes:(s,a,u,f)=>u.setModes(f),forceDockToTop:Wv,forceDockToBottom:Zv}),vx=Object.freeze({__proto__:null,events:(s,a)=>fo([Of(Nv(),(u,f)=>{s.contextual.each(p=>{tl(u.element,p.transitionClass)&&(ic(u.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(u)),f.stop()})}),St(Bv(),(u,f)=>{Uv(u,s,a)}),St(ip(),(u,f)=>{Uv(u,s,a)}),St(kf(),(u,f)=>{mp(u,s,a)})])});const Fd=s=>s.dom.innerHTML,Gg=(s,a)=>{const u=ii(s).dom,f=rn(u.createDocumentFragment()),p=((b,w)=>{const k=(w||document).createElement("div");return k.innerHTML=b,Ns(rn(k))})(a,u);$r(f,p),ur(s),Na(s,f)},qg=(s,a)=>rn(s.dom.cloneNode(a)),Vd=s=>(a=>{if(mt(a))return"#shadow-root";{const u=(f=>qg(f,!1))(a);return(f=>{const p=Ti("div"),b=rn(f.dom.cloneNode(!0));return Na(p,b),Fd(p)})(u)}})(s);var Rf;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Rf||(Rf={}));const jv=Bn({}),dE=["alloy/data/Fields","alloy/debugging/Debugging"],Kv=(s,a,u)=>((f,p,b)=>{switch(hn(jv.get(),f).orThunk(()=>{const w=wn(jv.get());return Vt(w,k=>f.indexOf(k)>-1?O.some(jv.get()[k]):O.none())}).getOr(Rf.NORMAL)){case Rf.NORMAL:return b(Pc());case Rf.LOGGING:{const w=((E,D)=>{const F=[],P=new Date().getTime();return{logEventCut:(z,q,J)=>{F.push({outcome:"cut",target:q,purpose:J})},logEventStopped:(z,q,J)=>{F.push({outcome:"stopped",target:q,purpose:J})},logNoParent:(z,q,J)=>{F.push({outcome:"no-parent",target:q,purpose:J})},logEventNoHandlers:(z,q)=>{F.push({outcome:"no-handlers-left",target:q})},logEventResponse:(z,q,J)=>{F.push({outcome:"response",purpose:J,target:q})},write:()=>{const z=new Date().getTime();et(["mousemove","mouseover","mouseout",Sf()],E)||console.log(E,{event:E,time:z-P,target:D.dom,sequence:Ye(F,q=>et(["cut","stopped","response"],q.outcome)?"{"+q.purpose+"} "+q.outcome+" at ("+Vd(q.target)+")":q.outcome)})}}})(f,p),k=b(w);return w.write(),k}case Rf.STOP:return!0}})(s,a,u),Pc=K({logEventCut:le,logEventStopped:le,logNoParent:le,logEventNoHandlers:le,logEventResponse:le,write:le}),kC=K([Dt("menu"),Dt("selectedMenu")]),bx=K([Dt("item"),Dt("selectedItem")]);K(Wn(bx().concat(kC())));const Yg=K(Wn(bx())),da=Ac("initSize",[Dt("numColumns"),Dt("numRows")]),Xg=()=>Ac("markers",[Dt("backgroundMenu")].concat(kC()).concat(bx())),Jg=s=>Ac("markers",Ye(s,Dt)),e0=(s,a,u)=>((()=>{const f=new Error;if(f.stack!==void 0){const p=f.stack.split(`
`);Q(p,b=>b.indexOf("alloy")>0&&!pt(dE,w=>b.indexOf(w)>-1)).getOr("unknown")}})(),li(a,a,u,wf(f=>Lo.value((...p)=>f.apply(void 0,p))))),Xo=s=>e0(0,s,ou(le)),vl=s=>e0(0,s,ou(O.none)),Xu=s=>e0(0,s,{tag:"required",process:{}}),Aa=s=>e0(0,s,{tag:"required",process:{}}),Ks=(s,a)=>Wi(s,K(a)),Gv=s=>Wi(s,ye),EC=K(da);var fE=[Dr("contextual",[_r("fadeInClass"),_r("fadeOutClass"),_r("transitionClass"),La("lazyContext"),Xo("onShow"),Xo("onShown"),Xo("onHide"),Xo("onHidden")]),Qs("lazyViewport",()=>({bounds:Ui(),optScrollEnv:O.none()})),Ds("modes",["top","bottom"],Ci),Xo("onDocked"),Xo("onUndocked")];const dr=Ni({fields:fE,name:"docking",active:vx,apis:gp,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(!1),u=Bn(!0),f=Es(),p=Bn(s.modes);return Ii({isDocked:a.get,setDocked:a.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${u.get()}, modes: ${p.get().join(",")}`})}})}),t0=fo([((s,a)=>({key:s,value:Gu({can:(u,f)=>{const p=f.event,b=p.originator,w=p.target;return!((k,E,D)=>is(E,k.element)&&!is(E,D))(u,b,w)||(console.warn(qu()+` did not get interpreted by the desired target. 
Originator: `+Vd(b)+`
Target: `+Vd(w)+`
Check the `+qu()+" event handlers"),!1)}})}))(qu())]);var yx=Object.freeze({__proto__:null,events:t0});const Vm=(s,a,u,f)=>{const p=s+a;return p>f?u:p<u?f:p},Mc=(s,a,u)=>Math.min(Math.max(s,a),u);let hp=0;const bn=s=>{const a=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return hp++,s+"_"+u+hp+String(a)},du=K("alloy-id-"),xx=K("data-alloy-id"),n0=du(),pp=xx(),o0=(s,a)=>{Object.defineProperty(s.dom,pp,{value:a,writable:!0})},Qg=s=>{const a=lr(s)?s.dom[pp]:null;return O.from(a)},Bc=s=>bn(s),mE=ye,s0=s=>{const a=p=>`The component must be in a context to execute: ${p}`+(s?`
`+Vd(s().element)+" is not in context.":""),u=p=>()=>{throw new Error(a(p))},f=p=>()=>{console.warn(a(p))};return{debugInfo:K("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Ee}},wx=s0(),r0=bn("alloy-premade"),Cx=s=>(Object.defineProperty(s.element.dom,r0,{value:s.uid,writable:!0}),au(r0,s)),_x=s=>hn(s,r0),i0=s=>((a,u)=>{const f=u.toString(),p=f.indexOf(")")+1,b=f.indexOf("("),w=f.substring(b+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Mm(w.slice(1))}),a})((a,...u)=>s(a.getApis(),a,...u),s),Sx=(s,a)=>{const u={};return An(s,(f,p)=>{An(f,(b,w)=>{const k=hn(u,w).getOr([]);u[w]=k.concat([a(p,b)])})}),u},kx=s=>s.cHandler,AC=(s,a)=>({name:s,handler:a}),gE=(s,a)=>{const u={};return Mt(s,f=>{u[f.name()]=f.handlers(a)}),u},qv=(s,a,u)=>{const f=a[u];return f?((p,b,w,k)=>{try{const E=pe(w,(D,F)=>{const P=D[b],z=F[b],q=k.indexOf(P),J=k.indexOf(z);if(q===-1)throw new Error("The ordering for "+p+" does not have an entry for "+P+`.
Order specified: `+JSON.stringify(k,null,2));if(J===-1)throw new Error("The ordering for "+p+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(k,null,2));return q<J?-1:J<q?1:0});return Lo.value(E)}catch(E){return Lo.error([E])}})("Event: "+u,"name",s,f).map(p=>(b=>({can:((E,D)=>(...F)=>_n(E,(P,z)=>P&&(q=>q.can)(z).apply(void 0,F),!0))(b),abort:((E,D)=>(...F)=>_n(E,(P,z)=>P||(q=>q.abort)(z).apply(void 0,F),!1))(b),run:(...E)=>{Mt(b,D=>{D.run.apply(void 0,E)})}}))(Ye(p,b=>b.handler))):((p,b)=>Lo.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ye(b,w=>w.name),null,2)]))(u,s)},Ex=(s,a)=>((u,f)=>{const p=(w=>{const k=[],E=[];return Mt(w,D=>{D.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(u);return p.errors.length>0?(b=p.errors,Lo.error(eo(b))):((w,k)=>w.length===0?Lo.value(k):Lo.value(Ps(k,Tv.apply(void 0,w))))(p.values,f);var b})(ar(s,(u,f)=>(u.length===1?Lo.value(u[0].handler):qv(u,a,f)).map(p=>{const b=(k=>{const E=(D=>X(D)?{can:Le,abort:Ee,run:D}:D)(k);return(D,F,...P)=>{const z=[D,F].concat(P);E.abort.apply(void 0,z)?F.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(p),w=u.length>1?Fn(a[f],k=>pt(u,E=>E.name===k)).join(" > "):u[0].name;return au(f,((k,E)=>({handler:k,purpose:E}))(b,w))})),{}),eh="alloy.base.behaviour",hE=Wn([li("dom","dom",{tag:"required",process:{}},Wn([Dt("tag"),it("styles",{}),it("classes",[]),it("attributes",{}),Ko("value"),Ko("innerHtml")])),Dt("components"),Dt("uid"),it("events",{}),it("apis",{}),li("eventOrder","eventOrder",(th={[pl()]:["disabling",eh,"toggling","typeaheadevents"],[qu()]:[eh,"focusing","keying"],[Sf()]:[eh,"disabling","toggling","representing","tooltipping"],[Im()]:[eh,"representing","streaming","invalidating"],[Dc()]:[eh,"representing","item-events","toolbar-button-events","tooltipping"],[Rt()]:["focusing",eh,"item-type-events"],[W()]:["focusing",eh,"item-type-events"],[Tn()]:["item-type-events","tooltipping"],[sc()]:["receiving","reflecting","tooltipping"]},Yo(K(th))),Ml()),Ko("domModification")]),pE=s=>s.events,If=s=>s.dom.value,zm=(s,a)=>{if(a===void 0)throw new Error("Value.set was undefined");s.dom.value=a},a0=(s,a,u)=>{u.fold(()=>Na(s,a),f=>{is(f,a)||(Td(f,a),$i(f))})},TC=(s,a,u)=>{const f=Ye(a,u),p=Ns(s);return Mt(p.slice(f.length),$i),f},Ax=(s,a,u,f)=>{const p=cr(s,a),b=f(u,p),w=((k,E,D)=>cr(k,E).map(F=>{if(D.exists(P=>!is(P,F))){const P=D.map(Ga).getOr("span"),z=Ti(P);return Td(F,z),z}return F}))(s,a,p);return a0(s,b.element,w),b},Yv=(s,a)=>{const u=wn(s),f=wn(a),p=ie(f,u),b=((w,k)=>{const E={},D={};return $o(w,(F,P)=>!Eo(a,P)||F!==a[P],Do(E),Do(D)),{t:E,f:D}})(s).t;return{toRemove:p,toSet:b}},zd=(s,a)=>{const u=a.filter(f=>Ga(f)===s.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(s)&&!(p=>Eo(p.dom,r0))(f)).bind(f=>((p,b)=>{try{const w=((k,E)=>{const{class:D,style:F,...P}=(be=>_n(be.dom.attributes,(_e,Ae)=>(_e[Ae.name]=Ae.value,_e),{}))(E),{toSet:z,toRemove:q}=Yv(k.attributes,P),J=ff(E),{toSet:ue,toRemove:me}=Yv(k.styles,J),Ce=Ld(E),fe=ie(Ce,k.classes),de=ie(k.classes,Ce);return Mt(q,be=>_o(E,be)),ks(E,z),Kr(E,de),ic(E,fe),Mt(me,be=>ws(E,be)),Ya(E,ue),k.innerHtml.fold(()=>{const be=k.domChildren;((_e,Ae)=>{TC(_e,Ae,(ze,ot)=>{const Et=cr(_e,ot);return a0(_e,ze,Et),ze})})(E,be)},be=>{Gg(E,be)}),(()=>{const be=E,_e=k.value.getOrUndefined();_e!==If(be)&&zm(be,_e??"")})(),E})(p,b);return O.some(w)}catch{return O.none()}})(s,f)).getOrThunk(()=>(f=>{const p=Ti(f.tag);ks(p,f.attributes),Kr(p,f.classes),Ya(p,f.styles),f.innerHtml.each(w=>Gg(p,w));const b=f.domChildren;return $r(p,b),f.value.each(w=>{zm(p,w)}),p})(s));return o0(u,s.uid),u},l0=s=>{const a=(u=>{const f=hn(u,"behaviours").getOr({});return tn(wn(f),p=>{const b=f[p];return G(b)?[b.me]:[]})})(s);return((u,f)=>((p,b)=>{const w=Ye(b,E=>Dr(E.name(),[Dt("config"),it("state",Nc)])),k=Cr("component.behaviours",Wn(w),p.behaviours).fold(E=>{throw new Error(Qa(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},ye);return{list:b,data:On(k,E=>{const D=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return K(D)})}})(u,f))(s,a)},vi=(s,a)=>{const u=()=>z,f=Bn(wx),p=Ba((q=>Cr("custom.definition",hE,q))(s)),b=l0(s),w=(q=>q.list)(b),k=(q=>q.data)(b),E=((q,J,ue)=>{const me={...(Ce=q).dom,uid:Ce.uid,domChildren:Ye(Ce.components,ze=>ze.element)};var Ce;const fe=(ze=>ze.domModification.fold(()=>jr({}),jr))(q),de={"alloy.base.modification":fe},be=J.length>0?((ze,ot,Et,_t)=>{const wt={...ot};Mt(Et,Fo=>{wt[Fo.name()]=Fo.exhibit(ze,_t)});const Ht=Sx(wt,(Fo,tr)=>({name:Fo,modification:tr})),mn=Fo=>fn(Fo,(tr,mr)=>({...mr.modification,...tr}),{}),kn=fn(Ht.classes,(Fo,tr)=>tr.modification.concat(Fo),[]),Hn=mn(Ht.attributes),io=mn(Ht.styles);return jr({classes:kn,attributes:Hn,styles:io})})(ue,de,J,me):fe;return _e=me,Ae=be,{..._e,attributes:{..._e.attributes,...Ae.attributes},styles:{..._e.styles,...Ae.styles},classes:_e.classes.concat(Ae.classes)};var _e,Ae})(p,w,k),D=zd(E,a),F=((q,J,ue)=>{const me={"alloy.base.behaviour":pE(q)};return((Ce,fe,de,be)=>{const _e=((Ae,ze,ot)=>{const Et={...ot,...gE(ze,Ae)};return Sx(Et,AC)})(Ce,de,be);return Ex(_e,fe)})(ue,q.eventOrder,J,me).getOrDie()})(p,w,k),P=Bn(p.components),z={uid:s.uid,getSystem:f.get,config:q=>{const J=k;return(X(J[q.name()])?J[q.name()]:()=>{throw new Error("Could not find "+q.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:q=>X(k[q.name()]),spec:s,readState:q=>k[q]().map(J=>J.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:q=>{f.set(q)},disconnect:()=>{f.set(s0(u))},element:D,syncComponents:()=>{const q=Ns(D),J=tn(q,ue=>f.get().getByDom(ue).fold(()=>[],Be));P.set(J)},components:P.get,events:F};return z},Fr=s=>{const a=Bu(s);return Nf({element:a})},Nf=s=>{const a=Ea("external.component",wi([Dt("element"),Ko("uid")]),s),u=Bn(s0()),f=a.uid.getOrThunk(()=>Bc("external"));o0(a.element,f);const p={uid:f,getSystem:u.get,config:O.none,hasConfigured:Ee,connect:b=>{u.set(b)},disconnect:()=>{u.set(s0(()=>p))},getApis:()=>({}),element:a.element,spec:s,readState:K("No state"),syncComponents:le,components:K([]),events:{}};return Cx(p)},Tx=Bc,c0=(s,a)=>_x(s).getOrThunk(()=>((u,f)=>{const{events:p,...b}=mE(u),w=((E,D)=>{const F=hn(E,"components").getOr([]);return D.fold(()=>Ye(F,Ki),P=>Ye(F,(z,q)=>c0(z,cr(P,q))))})(b,f),k={...b,events:{...yx,...p},components:w};return Lo.value(vi(k,f))})((u=>Eo(u,"uid"))(s)?s:{uid:Tx(""),...s},a).getOrDie()),Ki=s=>c0(s,O.none()),nl=Cx;var th,Pf=(s,a,u,f,p)=>s(u,f)?O.some(u):X(p)&&p(u)?O.none():a(u,f,p);const Hm=(s,a,u)=>{let f=s.dom;const p=X(u)?u:Ee;for(;f.parentNode;){f=f.parentNode;const b=rn(f);if(a(b))return O.some(b);if(p(b))break}return O.none()},u0=(s,a,u)=>Pf((f,p)=>p(f),Hm,s,a,u),OC=(s,a)=>Q(s.dom.childNodes,u=>a(rn(u))).map(rn),Ox=(s,a,u)=>u0(s,a,u).isSome(),$m=(s,a,u)=>Hm(s,f=>Yc(f,a),u),Gs=(s,a)=>((u,f)=>{const p=u.dom;return p.parentNode?OC(rn(p.parentNode),b=>!is(u,b)&&Yc(b,a)):O.none()})(s),d0=(s,a)=>OC(s,u=>Yc(u,a)),fr=(s,a)=>kd(a,s),Ju=(s,a,u)=>Pf((f,p)=>Yc(f,p),$m,s,a,u),fu="aria-controls",nh=()=>{const s=bn(fu);return{id:s,link:a=>{sn(a,fu,s)},unlink:a=>{_o(a,fu)}}},bl=(s,a)=>Ox(a,u=>is(u,s.element),Ee)||((u,f)=>(p=>u0(p,b=>{if(!lr(b))return!1;const w=Mo(b,"id");return w!==void 0&&w.indexOf(fu)>-1}).bind(b=>{const w=Mo(b,"id"),k=ut(b);return fr(k,`[${fu}="${w}"]`)}))(f).exists(p=>bl(u,p)))(s,a),fa=(s,a,u,f,p,b,w,k=!1)=>({x:s,y:a,bubble:u,direction:f,placement:p,restriction:b,label:`${w}-${p}`,alwaysFit:k}),Um=jl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Xv=Um.southeast,oh=Um.southwest,Jv=Um.northeast,sh=Um.northwest,DC=Um.south,Dx=Um.north,Rx=Um.east,RC=Um.west,ma=(s,a)=>xe(["left","right","top","bottom"],u=>hn(a,u).map(f=>((p,b)=>{switch(b){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(s,f))),Wm="layout",IC=s=>s.x,Lc=(s,a)=>s.x+s.width/2-a.width/2,ol=(s,a)=>s.x+s.width-a.width,rh=(s,a)=>s.y-a.height,vp=s=>s.y+s.height,NC=(s,a)=>s.y+s.height/2-a.height/2,Nr=(s,a,u)=>fa(IC(s),vp(s),u.southeast(),Xv(),"southeast",ma(s,{left:1,top:3}),Wm),Pr=(s,a,u)=>fa(ol(s,a),vp(s),u.southwest(),oh(),"southwest",ma(s,{right:0,top:3}),Wm),ni=(s,a,u)=>fa(IC(s),rh(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:1,bottom:2}),Wm),Ms=(s,a,u)=>fa(ol(s,a),rh(s,a),u.northwest(),sh(),"northwest",ma(s,{right:0,bottom:2}),Wm),Er=(s,a,u)=>fa(Lc(s,a),rh(s,a),u.north(),Dx(),"north",ma(s,{bottom:2}),Wm),Gr=(s,a,u)=>fa(Lc(s,a),vp(s),u.south(),DC(),"south",ma(s,{top:3}),Wm),f0=(s,a,u)=>fa((f=>f.x+f.width)(s),NC(s,a),u.east(),Rx(),"east",ma(s,{left:0}),Wm),m0=(s,a,u)=>fa(((f,p)=>f.x-p.width)(s,a),NC(s,a),u.west(),RC(),"west",ma(s,{right:1}),Wm),Ix=()=>[Nr,Pr,ni,Ms,Gr,Er,f0,m0],Qv=()=>[Pr,Nr,Ms,ni,Gr,Er,f0,m0],Nx=()=>[ni,Ms,Nr,Pr,Er,Gr],ih=()=>[Ms,ni,Pr,Nr,Er,Gr],g0=()=>[Nr,Pr,ni,Ms,Gr,Er],h0=()=>[Pr,Nr,Ms,ni,Gr,Er];var Px=Object.freeze({__proto__:null,events:s=>fo([St(sc(),(a,u)=>{const f=s.channels,p=wn(f),b=u,w=((k,E)=>E.universal?k:Fn(k,D=>et(E.channels,D)))(p,b);Mt(w,k=>{const E=f[k],D=E.schema,F=Ea("channel["+k+`] data
Receiver: `+Vd(a.element),D,b.data);E.onReceive(a,F)})})])}),eb=[Zi("channels",Dv(Lo.value,wi([Xu("onReceive"),it("schema",Ml())])))];const yl=Ni({fields:eb,name:"receiving",active:Px});var Mx=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const za=(s,a=!1)=>s.dom.focus({preventScroll:a}),tb=s=>s.dom.blur(),ah=s=>{const a=ut(s).dom;return s.dom===a.activeElement},mu=(s=Pa())=>O.from(s.dom.activeElement).map(rn),qr=s=>mu(ut(s)).filter(a=>s.dom.contains(a.dom)),Zm=(s,a)=>{const u=ut(a),f=mu(u).bind(b=>{const w=k=>is(b,k);return w(a)?O.some(a):((k,E)=>{const D=F=>{for(let P=0;P<F.childNodes.length;P++){const z=rn(F.childNodes[P]);if(E(z))return O.some(z);const q=D(F.childNodes[P]);if(q.isSome())return q}return O.none()};return D(k.dom)})(a,w)}),p=s(a);return f.each(b=>{mu(u).filter(w=>is(w,b)).fold(()=>{za(b)},le)}),p},Bx=jl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Lx=(s,a,u,f,p,b)=>{const w=a.rect,k=w.x-u,E=w.y-f,D=p-(k+w.width),F=b-(E+w.height),P=O.some(k),z=O.some(E),q=O.some(D),J=O.some(F),ue=O.none();return a.direction.fold(()=>ji(s,P,z,ue,ue),()=>ji(s,ue,z,q,ue),()=>ji(s,P,ue,ue,J),()=>ji(s,ue,ue,q,J),()=>ji(s,P,z,ue,ue),()=>ji(s,P,ue,ue,J),()=>ji(s,P,z,ue,ue),()=>ji(s,ue,z,q,ue))},nb=(s,a)=>s.fold(()=>{const u=a.rect;return ji("absolute",O.some(u.x),O.some(u.y),O.none(),O.none())},(u,f,p,b)=>Lx("absolute",a,u,f,p,b),(u,f,p,b)=>Lx("fixed",a,u,f,p,b)),Hd=(s,a)=>{const u=Ue(Od,a),f=s.fold(u,u,()=>{const w=Js();return Od(a).translate(-w.left,-w.top)}),p=Xa(a),b=Sc(a);return Ro(f.left,f.top,p,b)},vE=(s,a)=>a.fold(()=>s.fold(Ui,Ui,Ro),u=>s.fold(K(u),K(u),()=>{const f=ob(s,u.x,u.y);return Ro(f.left,f.top,u.width,u.height)})),ob=(s,a,u)=>{const f=Xs(a,u);return s.fold(K(f),K(f),()=>{const p=Js();return f.translate(-p.left,-p.top)})};Bx.none;const jm=Bx.relative,PC=Bx.fixed,sb="data-alloy-placement",rb=s=>jo(s,sb),p0=jl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),bp=(s,a,u,f)=>{const p=s.bubble,b=p.offset,w=((be,_e,Ae)=>{const ze=(Ht,mn)=>_e[Ht].map(kn=>{const Hn=Ht==="top"||Ht==="bottom",io=Hn?Ae.top:Ae.left,Fo=(Ht==="left"||Ht==="top"?Math.max:Math.min)(kn,mn)+io;return Hn?Mc(Fo,be.y,be.bottom):Mc(Fo,be.x,be.right)}).getOr(mn),ot=ze("left",be.x),Et=ze("top",be.y),_t=ze("right",be.right),wt=ze("bottom",be.bottom);return Ro(ot,Et,_t-ot,wt-Et)})(f,s.restriction,b),k=s.x+b.left,E=s.y+b.top,D=Ro(k,E,a,u),{originInBounds:F,sizeInBounds:P,visibleW:z,visibleH:q}=((be,_e)=>{const{x:Ae,y:ze,right:ot,bottom:Et}=_e,{x:_t,y:wt,right:Ht,bottom:mn,width:kn,height:Hn}=be;return{originInBounds:_t>=Ae&&_t<=ot&&wt>=ze&&wt<=Et,sizeInBounds:Ht<=ot&&Ht>=Ae&&mn<=Et&&mn>=ze,visibleW:Math.min(kn,_t>=Ae?ot-_t:Ht-Ae),visibleH:Math.min(Hn,wt>=ze?Et-wt:mn-ze)}})(D,w),J=F&&P,ue=J?D:((be,_e)=>{const{x:Ae,y:ze,right:ot,bottom:Et}=_e,{x:_t,y:wt,width:Ht,height:mn}=be,kn=Math.max(Ae,ot-Ht),Hn=Math.max(ze,Et-mn),io=Mc(_t,Ae,kn),Fo=Mc(wt,ze,Hn),tr=Math.min(io+Ht,ot)-io,mr=Math.min(Fo+mn,Et)-Fo;return Ro(io,Fo,tr,mr)})(D,w),me=ue.width>0&&ue.height>0,{maxWidth:Ce,maxHeight:fe}=((be,_e,Ae)=>{const ze=K(_e.bottom-Ae.y),ot=K(Ae.bottom-_e.y),Et=((mn,kn,Hn,io)=>mn.fold(kn,kn,io,io,kn,io,Hn,Hn))(be,ot,ot,ze),_t=K(_e.right-Ae.x),wt=K(Ae.right-_e.x);return{maxWidth:((mn,kn,Hn,io)=>mn.fold(kn,io,kn,io,Hn,Hn,kn,io))(be,wt,wt,_t),maxHeight:Et}})(s.direction,ue,f),de={rect:ue,maxHeight:fe,maxWidth:Ce,direction:s.direction,placement:s.placement,classes:{on:p.classesOn,off:p.classesOff},layout:s.label,testY:E};return J||s.alwaysFit?p0.fit(de):p0.nofit(de,z,q,me)},v0=Le,Ha=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!1))(s,a,v0,u),Fx=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!0))(s,a,v0,u),$d=gl,ib=["top","bottom","right","left"],Qu="data-alloy-transition-timer",ab=(s,a,u,f,p,b)=>{const w=((k,E,D)=>D.exists(F=>{const P=k.mode;return P==="all"||F[P]!==E[P]}))(f,p,b);if(w||((k,E)=>((D,F)=>Oo(F,P=>tl(D,P)))(k,E.classes))(s,f)){co(s,"position",u.position);const k=Hd(a,s),E=nb(a,{...p,rect:k}),D=xe(ib,F=>E[F]);((F,P)=>{const z=q=>parseFloat(q).toFixed(3);return fs(P,(q,J)=>!((ue,me,Ce=ae)=>Kt(ue,me,Ce).getOr(ue.isNone()&&me.isNone()))(F[J].map(z),q.map(z))).isSome()})(u,D)&&(fl(s,D),w&&((F,P)=>{Kr(F,P.classes),jo(F,Qu).each(z=>{clearTimeout(parseInt(z,10)),_o(F,Qu)}),((z,q)=>{const J=Ec(),ue=Ec();let me;const Ce=_e=>{var Ae;const ze=(Ae=_e.raw.pseudoElement)!==null&&Ae!==void 0?Ae:"";return is(_e.target,z)&&Mu(ze)&&et(ib,_e.raw.propertyName)},fe=_e=>{if($(_e)||Ce(_e)){J.clear(),ue.clear();const Ae=_e==null?void 0:_e.raw.type;($(Ae)||Ae===Nv())&&(clearTimeout(me),_o(z,Qu),ic(z,q.classes))}},de=Ha(z,Z1(),_e=>{Ce(_e)&&(de.unbind(),J.set(Ha(z,Nv(),fe)),ue.set(Ha(z,yC(),fe)))}),be=(_e=>{const Ae=_t=>{const wt=wr(_e,_t).split(/\s*,\s*/);return Fn(wt,ul)},ze=_t=>{if(v(_t)&&/^[\d.]+/.test(_t)){const wt=parseFloat(_t);return Pu(_t,"ms")?wt:1e3*wt}return 0},ot=Ae("transition-delay"),Et=Ae("transition-duration");return _n(Et,(_t,wt,Ht)=>{const mn=ze(ot[Ht])+ze(wt);return Math.max(_t,mn)},0)})(z);requestAnimationFrame(()=>{me=setTimeout(fe,be+17),sn(z,Qu,me)})})(F,P)})(s,f),Fu(s))}else ic(s,f.classes)},lb=(s,a)=>{((u,f)=>{const p=Jh.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);co(u,"max-height",p+"px")})(s,Math.floor(a))},Km=K((s,a)=>{lb(s,a),Ya(s,{"overflow-x":"hidden","overflow-y":"auto"})}),lh=K((s,a)=>{lb(s,a)}),Fc=(s,a,u)=>s[a]===void 0?u:s[a],cb=(s,a,u,f)=>{const p=((b,w,k,E)=>{ws(w,"max-height"),ws(w,"max-width");const D={width:Xa(F=w),height:Sc(F)};var F;return((P,z,q,J,ue,me)=>{const Ce=J.width,fe=J.height,de=(be,_e,Ae,ze,ot)=>{const Et=be(q,J,ue,P,me),_t=bp(Et,Ce,fe,me);return _t.fold(K(_t),(wt,Ht,mn,kn)=>(ot===kn?mn>ze||Ht>Ae:!ot&&kn)?_t:p0.nofit(_e,Ae,ze,ot))};return _n(z,(be,_e)=>{const Ae=Ue(de,_e);return be.fold(K(be),Ae)},p0.nofit({rect:q,maxHeight:J.height,maxWidth:J.width,direction:Xv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:q.y},-1,-1,!1)).fold(ye,ye)})(w,E.preference,b,D,k,E.bounds)})(s,a,u,f);return((b,w,k)=>{const E=nb(k.origin,w);k.transition.each(D=>{ab(b,k.origin,E,D,w,k.lastPlacement)}),zv(b,E)})(a,p,f),((b,w)=>{((k,E)=>{sn(k,sb,E)})(b,w.placement)})(a,p),((b,w)=>{const k=w.classes;ic(b,k.off),Kr(b,k.on)})(a,p),((b,w,k)=>{(0,k.maxHeightFunction)(b,w.maxHeight)})(a,p,f),((b,w,k)=>{(0,k.maxWidthFunction)(b,w.maxWidth)})(a,p,f),{layout:p.layout,placement:p.placement}},bE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ac=(s,a,u,f=1)=>{const p=s*f,b=a*f,w=E=>hn(u,E).getOr([]),k=(E,D,F)=>{const P=ie(bE,F);return{offset:Xs(E,D),classesOn:tn(F,w),classesOff:tn(P,w)}};return{southeast:()=>k(-s,a,["top","alignLeft"]),southwest:()=>k(s,a,["top","alignRight"]),south:()=>k(-s/2,a,["top","alignCentre"]),northeast:()=>k(-s,-a,["bottom","alignLeft"]),northwest:()=>k(s,-a,["bottom","alignRight"]),north:()=>k(-s/2,-a,["bottom","alignCentre"]),east:()=>k(s,-a/2,["valignCentre","left"]),west:()=>k(-s,-a/2,["valignCentre","right"]),insetNortheast:()=>k(p,b,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,b,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-b,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-b/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-b/2,["valignCentre","left","inset"])}},Ud=()=>ac(0,0,{}),Vc=ye,Vx=(s,a)=>u=>_i(u)==="rtl"?a:s,_i=s=>wr(s,"direction")==="rtl"?"rtl":"ltr";var zc;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(zc||(zc={}));const xl="data-alloy-vertical-dir",yE=s=>Ox(s,a=>lr(a)&&Mo(a,"data-alloy-vertical-dir")===zc.BottomToTop),Mf=()=>Dr("layouts",[Dt("onLtr"),Dt("onRtl"),Ko("onBottomLtr"),Ko("onBottomRtl")]),Wd=(s,a,u,f,p,b,w)=>{const k=w.map(yE).getOr(!1),E=a.layouts.map(z=>z.onLtr(s)),D=a.layouts.map(z=>z.onRtl(s)),F=k?a.layouts.bind(z=>z.onBottomLtr.map(q=>q(s))).or(E).getOr(p):E.getOr(u),P=k?a.layouts.bind(z=>z.onBottomRtl.map(q=>q(s))).or(D).getOr(b):D.getOr(f);return Vx(F,P)(s)};var yp=[Dt("hotspot"),Ko("bubble"),it("overrides",{}),Mf(),Ks("placement",(s,a,u)=>{const f=a.hotspot,p=Hd(u,f.element),b=Wd(s.element,a,g0(),h0(),Nx(),ih(),O.some(a.hotspot.element));return O.some(Vc({anchorBox:p,bubble:a.bubble.getOr(Ud()),overrides:a.overrides,layouts:b}))})],Gm=[Dt("x"),Dt("y"),it("height",0),it("width",0),it("bubble",Ud()),it("overrides",{}),Mf(),Ks("placement",(s,a,u)=>{const f=ob(u,a.x,a.y),p=Ro(f.left,f.top,a.width,a.height),b=Wd(s.element,a,Ix(),Qv(),Ix(),Qv(),O.none());return O.some(Vc({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:b}))})];const Kl=jl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),b0=s=>s.fold(ye,(a,u,f)=>a.translate(-u,-f)),y0=s=>s.fold(ye,ye),ub=s=>_n(s,(a,u)=>a.translate(u.left,u.top),Xs(0,0)),x0=s=>{const a=Ye(s,y0);return ub(a)},MC=Kl.screen,db=Kl.absolute,Zd=(s,a,u)=>{const f=ii(s.element),p=Js(f),b=((w,k,E)=>{const D=Xc(E.root).dom;return O.from(D.frameElement).map(rn).filter(F=>{const P=ii(F),z=ii(w.element);return is(P,z)}).map(Nl)})(s,0,u).getOr(p);return db(b,p.left,p.top)},fb=(s,a,u,f)=>{const p=MC(Xs(s,a));return O.some(((b,w,k)=>({point:b,width:w,height:k}))(p,u,f))},ch=(s,a,u,f,p)=>s.map(b=>{const w=[a,b.point],k=(E=()=>x0(w),D=()=>x0(w),F=()=>(de=>{const be=Ye(de,b0);return ub(be)})(w),f.fold(E,D,F));var E,D,F;const P=(ue=k.left,me=k.top,Ce=b.width,fe=b.height,{x:ue,y:me,width:Ce,height:fe}),z=u.showAbove?Nx():g0(),q=u.showAbove?ih():h0(),J=Wd(p,u,z,q,z,q,O.none());var ue,me,Ce,fe;return Vc({anchorBox:P,bubble:u.bubble.getOr(Ud()),overrides:u.overrides,layouts:J})});var uh=[Dt("node"),Dt("root"),Ko("bubble"),Mf(),it("overrides",{}),it("showAbove",!1),Ks("placement",(s,a,u)=>{const f=Zd(s,0,a);return a.node.filter(un).bind(p=>{const b=p.dom.getBoundingClientRect(),w=fb(b.left,b.top,b.width,b.height),k=a.node.getOr(s.element);return ch(w,f,a,u,k)})})];const Bf=(s,a,u,f)=>({start:s,soffset:a,finish:u,foffset:f}),Lf=jl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mb=(Lf.before,Lf.on,Lf.after,s=>s.fold(ye,ye,ye)),Ff=jl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vf={domRange:Ff.domRange,relative:Ff.relative,exact:Ff.exact,exactFromRange:s=>Ff.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const a=(u=>u.match({domRange:f=>rn(f.startContainer),relative:(f,p)=>mb(f),exact:(f,p,b,w)=>f}))(s);return Xc(a)},range:Bf},zf=(s,a,u)=>{const f=s.document.createRange();var p;return p=f,a.fold(b=>{p.setStartBefore(b.dom)},(b,w)=>{p.setStart(b.dom,w)},b=>{p.setStartAfter(b.dom)}),((b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,E)=>{b.setEnd(k.dom,E)},k=>{b.setEndAfter(k.dom)})})(f,u),f},dh=(s,a,u,f,p)=>{const b=s.document.createRange();return b.setStart(a.dom,u),b.setEnd(f.dom,p),b},w0=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),xp=jl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),C0=(s,a,u)=>a(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset),zx=(s,a)=>((u,f)=>{const p=((b,w)=>w.match({domRange:k=>({ltr:K(k),rtl:O.none}),relative:(k,E)=>({ltr:oa(()=>zf(b,k,E)),rtl:oa(()=>O.some(zf(b,E,k)))}),exact:(k,E,D,F)=>({ltr:oa(()=>dh(b,k,E,D,F)),rtl:oa(()=>O.some(dh(b,D,F,k,E)))})}))(u,f);return((b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>xp.rtl(rn(E.endContainer),E.endOffset,rn(E.startContainer),E.startOffset)).getOrThunk(()=>C0(0,xp.ltr,k)):C0(0,xp.ltr,k)})(0,p)})(s,a).match({ltr:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(u.dom,f),w.setEnd(p.dom,b),w},rtl:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(p.dom,b),w.setEnd(u.dom,f),w}});xp.ltr,xp.rtl;const wp=(s,a,u)=>Fn(((f,p)=>{const b=X(p)?p:Ee;let w=f.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,D=rn(E);if(k.push(D),b(D)===!0)break;w=E}return k})(s,u),a),Si=(s,a)=>((u,f)=>{const p=f===void 0?document:f.dom;return df(p)?[]:Ye(p.querySelectorAll(u),rn)})(a,s),Hx=s=>{if(s.rangeCount>0){const a=s.getRangeAt(0),u=s.getRangeAt(s.rangeCount-1);return O.some(Bf(rn(a.startContainer),a.startOffset,rn(u.endContainer),u.endOffset))}return O.none()},BC=s=>{if(s.anchorNode===null||s.focusNode===null)return Hx(s);{const a=rn(s.anchorNode),u=rn(s.focusNode);return((f,p,b,w)=>{const k=((D,F,P,z)=>{const q=ii(D).dom.createRange();return q.setStart(D.dom,F),q.setEnd(P.dom,z),q})(f,p,b,w),E=is(f,b)&&p===w;return k.collapsed&&!E})(a,s.anchorOffset,u,s.focusOffset)?O.some(Bf(a,s.anchorOffset,u,s.focusOffset)):Hx(s)}},$x=(s,a)=>(u=>{const f=u.getClientRects(),p=f.length>0?f[0]:u.getBoundingClientRect();return p.width>0||p.height>0?O.some(p).map(w0):O.none()})(zx(s,a)),Ux=((s,a)=>{const u=f=>s(f)?O.from(f.dom.nodeValue):O.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return u(f).getOr("")},getOption:u,set:(f,p)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=p}}})(Ca),Hf=(s,a)=>({element:s,offset:a}),_0=(s,a)=>Ca(s)?Hf(s,a):((u,f)=>{const p=Ns(u);if(p.length===0)return Hf(u,f);if(f<p.length)return Hf(p[f],0);{const b=p[p.length-1],w=Ca(b)?(k=>Ux.get(k))(b).length:Ns(b).length;return Hf(b,w)}})(s,a),gb=s=>s.foffset!==void 0,Wx=(s,a)=>a.getSelection.getOrThunk(()=>()=>(u=>(f=>O.from(f.getSelection()))(u).filter(f=>f.rangeCount>0).bind(BC))(s))().map(u=>{if(gb(u)){const f=_0(u.start,u.soffset),p=_0(u.finish,u.foffset);return Vf.range(f.element,f.offset,p.element,p.offset)}return u});var xE=[Ko("getSelection"),Dt("root"),Ko("bubble"),Mf(),it("overrides",{}),it("showAbove",!1),Ks("placement",(s,a,u)=>{const f=Xc(a.root).dom,p=Zd(s,0,a),b=Wx(f,a).bind(k=>{if(gb(k))return((D,F)=>(P=>{const z=P.getBoundingClientRect();return z.width>0||z.height>0?O.some(z).map(w0):O.none()})(zx(D,F)))(f,Vf.exactFromRange(k)).orThunk(()=>{const D=Bu("\uFEFF");Td(k.start,D);const F=$x(f,Vf.exact(D,0,D,1));return $i(D),F}).bind(D=>fb(D.left,D.top,D.width,D.height));{const E=On(k,F=>F.dom.getBoundingClientRect()),D={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return fb(D.left,D.top,D.right-D.left,D.bottom-D.top)}}),w=Wx(f,a).bind(k=>gb(k)?lr(k.start)?O.some(k.start):Sa(k.start):O.some(k.firstCell)).getOr(s.element);return ch(b,p,a,u,w)})];const $f="link-layout",hb=s=>s.x+s.width,LC=(s,a)=>s.x-a.width,FC=(s,a)=>s.y-a.height+s.height,gu=s=>s.y,Zx=(s,a,u)=>fa(hb(s),gu(s),u.southeast(),Xv(),"southeast",ma(s,{left:0,top:2}),$f),S0=(s,a,u)=>fa(LC(s,a),gu(s),u.southwest(),oh(),"southwest",ma(s,{right:1,top:2}),$f),VC=(s,a,u)=>fa(hb(s),FC(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:0,bottom:3}),$f),fh=(s,a,u)=>fa(LC(s,a),FC(s,a),u.northwest(),sh(),"northwest",ma(s,{right:1,bottom:3}),$f),Cp=()=>[Zx,S0,VC,fh],pb=()=>[S0,Zx,fh,VC];var zC=[Dt("item"),Mf(),it("overrides",{}),Ks("placement",(s,a,u)=>{const f=Hd(u,a.item.element),p=Wd(s.element,a,Cp(),pb(),Cp(),pb(),O.none());return O.some(Vc({anchorBox:f,bubble:Ud(),overrides:a.overrides,layouts:p}))})],hu=hi("type",{selection:xE,node:uh,hotspot:yp,submenu:zC,makeshift:Gm});const qm=[el("classes",Ci),Tc("mode","all",["all","layout","placement"])],vb=[it("useFixed",Ee),Ko("getBounds")],bb=[Zi("anchor",hu),Dr("transition",qm)],k0=(s,a,u,f,p,b)=>{const w=Ea("placement.info",Wn(bb),p),k=w.anchor,E=f.element,D=u.get(f.uid);Zm(()=>{co(E,"position","fixed");const F=Hr(E,"visibility");co(E,"visibility","hidden");const P=a.useFixed()?(()=>{const z=document.documentElement;return PC(0,0,z.clientWidth,z.clientHeight)})():(z=>{const q=Nl(z.element),J=z.element.dom.getBoundingClientRect();return jm(q.left,q.top,J.width,J.height)})(s);k.placement(s,k,P).each(z=>{const q=b.orThunk(()=>a.getBounds.map(st)),J=((ue,me,Ce,fe,de,be)=>((_e,Ae,ze,ot,Et,_t,wt,Ht)=>{const mn=Fc(wt,"maxHeightFunction",Km()),kn=Fc(wt,"maxWidthFunction",le),Hn=_e.anchorBox,io=_e.origin,Fo={bounds:vE(io,_t),origin:io,preference:ot,maxHeightFunction:mn,maxWidthFunction:kn,lastPlacement:Et,transition:Ht};return cb(Hn,Ae,ze,Fo)})(((_e,Ae)=>((ze,ot)=>({anchorBox:ze,origin:ot}))(_e,Ae))(me.anchorBox,ue),fe.element,me.bubble,me.layouts,de,Ce,me.overrides,be))(P,z,q,f,D,w.transition);u.set(f.uid,J)}),F.fold(()=>{ws(E,"visibility")},z=>{co(E,"visibility",z)}),Hr(E,"left").isNone()&&Hr(E,"top").isNone()&&Hr(E,"right").isNone()&&Hr(E,"bottom").isNone()&&or(Hr(E,"position"),"fixed")&&ws(E,"position")},E)};var yb=Object.freeze({__proto__:null,position:(s,a,u,f,p)=>{const b=O.none();k0(s,a,u,f,p,b)},positionWithinBounds:k0,getMode:(s,a,u)=>a.useFixed()?"fixed":"absolute",reset:(s,a,u,f)=>{const p=f.element;Mt(["position","left","right","top","bottom"],b=>ws(p,b)),(b=>{_o(b,sb)})(p),u.clear(f.uid)}});const ga=Ni({fields:vb,name:"positioning",active:Mx,apis:yb,state:Object.freeze({__proto__:null,init:()=>{let s={};return Ii({readState:()=>s,clear:a=>{G(a)?delete s[a]:s={}},set:(a,u)=>{s[a]=u},get:a=>hn(s,a)})}})}),E0=s=>s.getSystem().isConnected(),Ym=s=>{ko(s,Dc());const a=s.components();Mt(a,Ym)},Xm=s=>{const a=s.components();Mt(a,Xm),ko(s,ua())},xb=(s,a)=>{s.getSystem().addToWorld(a),un(s.element)&&Xm(a)},A0=s=>{Ym(s),s.getSystem().removeFromWorld(s)},mh=(s,a)=>{Na(s.element,a.element)},Uf=(s,a)=>{jx(s,a,Na)},jx=(s,a,u)=>{s.getSystem().addToWorld(a),u(s.element,a.element),un(s.element)&&Xm(a),s.syncComponents()},T0=s=>{Ym(s),$i(s.element),s.getSystem().removeFromWorld(s)},sl=s=>{const a=_a(s.element).bind(u=>s.getSystem().getByDom(u).toOptional());T0(s),a.each(u=>{u.syncComponents()})},Wf=s=>{const a=s.components();Mt(a,T0),ur(s.element),s.syncComponents()},Kx=(s,a)=>{_p(s,a,Na)},xt=(s,a)=>{_p(s,a,Vg)},_p=(s,a,u)=>{u(s,a.element);const f=Ns(a.element);Mt(f,p=>{a.getByDom(p).each(Xm)})},wE=s=>{const a=Ns(s.element);Mt(a,u=>{s.getByDom(u).each(Ym)}),$i(s.element)},HC=(s,a,u,f)=>{u.get().each(w=>{Wf(s)});const p=a.getAttachPoint(s);Uf(p,s);const b=s.getSystem().build(f);return Uf(s,b),u.set(b),b},O0=(s,a,u,f)=>{const p=HC(s,a,u,f);return a.onOpen(s,p),p},pu=(s,a,u)=>{u.get().each(f=>{Wf(s),sl(s),a.onClose(s,f),u.clear()})},D0=(s,a,u)=>u.isOpen(),wb=(s,a,u)=>{const f=a.getAttachPoint(s);co(s.element,"position",ga.getMode(f)),((p,b,w,k)=>{Hr(p.element,b).fold(()=>{_o(p.element,w)},E=>{sn(p.element,w,E)}),co(p.element,b,"hidden")})(s,"visibility",a.cloakVisibilityAttr)},Gx=(s,a,u)=>{(f=>pt(["top","left","right","bottom"],p=>Hr(f,p).isSome()))(s.element)||ws(s.element,"position"),((f,p,b)=>{jo(f.element,b).fold(()=>ws(f.element,p),w=>co(f.element,p,w))})(s,"visibility",a.cloakVisibilityAttr)};var qx=Object.freeze({__proto__:null,cloak:wb,decloak:Gx,open:O0,openWhileCloaked:(s,a,u,f,p)=>{wb(s,a),O0(s,a,u,f),p(),Gx(s,a)},close:pu,isOpen:D0,isPartOf:(s,a,u,f)=>D0(0,0,u)&&u.get().exists(p=>a.isPartOf(s,p,f)),getState:(s,a,u)=>u.get(),setContent:(s,a,u,f)=>u.get().map(()=>HC(s,a,u,f))}),CE=Object.freeze({__proto__:null,events:(s,a)=>fo([St(Mv(),(u,f)=>{pu(u,s,a)})])}),y=[Xo("onOpen"),Xo("onClose"),Dt("isPartOf"),Dt("getAttachPoint"),it("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=Es(),a=K("not-implemented");return Ii({readState:a,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const T=Ni({fields:y,name:"sandboxing",active:CE,apis:qx,state:_}),B=K("dismiss.popups"),H=K("reposition.popups"),U=K("mouse.released"),te=wi([it("isExtraPart",Ee),Dr("fireEventInstead",[it("event",Zg())])]),se=s=>{const a=Ea("Dismissal",te,s);return{[B()]:{schema:wi([Dt("target")]),onReceive:(u,f)=>{T.isOpen(u)&&(T.isPartOf(u,f.target)||a.isExtraPart(u,f.target)||a.fireEventInstead.fold(()=>T.close(u),p=>ko(u,p.event)))}}}},we=wi([Dr("fireEventInstead",[it("event",Ef())]),La("doReposition")]),Ie=s=>{const a=Ea("Reposition",we,s);return{[H()]:{onReceive:u=>{T.isOpen(u)&&a.fireEventInstead.fold(()=>a.doReposition(u),f=>ko(u,f.event))}}}},Ze=(s,a,u)=>{a.store.manager.onLoad(s,a,u)},De=(s,a,u)=>{a.store.manager.onUnload(s,a,u)};var Pe=Object.freeze({__proto__:null,onLoad:Ze,onUnload:De,setValue:(s,a,u,f)=>{a.store.manager.setValue(s,a,u,f)},getValue:(s,a,u)=>a.store.manager.getValue(s,a,u),getState:(s,a,u)=>u}),Ve=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.resetOnDom?[sr((f,p)=>{Ze(f,s,a)}),Yu((f,p)=>{De(f,s,a)})]:[Lv(s,a,Ze)];return fo(u)}});const rt=()=>{const s=Bn(null);return Ii({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},at=()=>{const s=Bn({}),a=Bn({});return Ii({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:a.get()}),lookup:u=>hn(s.get(),u).orThunk(()=>hn(a.get(),u)),update:u=>{const f=s.get(),p=a.get(),b={},w={};Mt(u,k=>{b[k.value]=k,hn(k,"meta").each(E=>{hn(E,"text").each(D=>{w[D]=k})})}),s.set({...f,...b}),a.set({...p,...w})},clear:()=>{s.set({}),a.set({})}})};var Ot=Object.freeze({__proto__:null,memory:rt,dataset:at,manual:()=>Ii({readState:le}),init:s=>s.store.manager.state(s)});const It=(s,a,u,f)=>{const p=a.store;u.update([f]),p.setValue(s,f),a.onSetValue(s,f)};var Tt=[Ko("initialValue"),Dt("getFallbackEntry"),Dt("getDataKey"),Dt("setValue"),Ks("manager",{setValue:It,getValue:(s,a,u)=>{const f=a.store,p=f.getDataKey(s);return u.lookup(p).getOrThunk(()=>f.getFallbackEntry(p))},onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{It(s,a,u,f)})},onUnload:(s,a,u)=>{u.clear()},state:at})],Pt=[Dt("getValue"),it("setValue",le),Ko("initialValue"),Ks("manager",{setValue:(s,a,u,f)=>{a.store.setValue(s,f),a.onSetValue(s,f)},getValue:(s,a,u)=>a.store.getValue(s),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{a.store.setValue(s,f)})},onUnload:le,state:Nc.init})],Gt=[Ko("initialValue"),Ks("manager",{setValue:(s,a,u,f)=>{u.set(f),a.onSetValue(s,f)},getValue:(s,a,u)=>u.get(),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{u.isNotSet()&&u.set(f)})},onUnload:(s,a,u)=>{u.clear()},state:rt})],Qt=[Fa("store",{mode:"memory"},hi("mode",{memory:Gt,manual:Pt,dataset:Tt})),Xo("onSetValue"),it("resetOnDom",!1)];const lt=Ni({fields:Qt,name:"representing",active:Ve,apis:Pe,extra:{setValueFrom:(s,a)=>{const u=lt.getValue(a);lt.setValue(s,u)}},state:Ot}),yn=(s,a)=>Va(s,{},Ye(a,u=>{return f=u.name(),p="Cannot configure "+u.name()+" for "+s,li(f,f,{tag:"option",process:{}},Hu(b=>Ja("The field: "+f+" is forbidden. "+p)));var f,p}).concat([Wi("dump",ye)])),Xn=s=>s.dump,yo=(s,a)=>({...Zt(a),...s.dump}),so=yn,Jn=yo,bo="placeholder",Go=jl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),oi=s=>Eo(s,"uiType"),Ta=(s,a,u,f)=>((p,b,w,k)=>oi(w)&&w.uiType===bo?((E,D,F,P)=>E.exists(z=>z!==F.owner)?Go.single(!0,K(F)):hn(P,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+wn(P)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},z=>z.replace()))(p,0,w,k):Go.single(!1,K(w)))(s,0,u,f).fold((p,b)=>{const w=oi(u)?b(a,u.config,u.validated):b(a),k=hn(w,"components").getOr([]),E=tn(k,D=>Ta(s,a,D,f));return[{...w,components:E}]},(p,b)=>{if(oi(u)){const w=b(a,u.config,u.validated);return u.validated.preprocess.getOr(ye)(w)}return b(a)}),Gi=Go.single,lc=Go.multiple,Jm=K(bo),Oa=jl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ed=it("factory",{sketch:ye}),Sp=it("schema",[]),Zf=Dt("name"),kp=li("pname","pname",Hg(s=>"<alloy."+bn(s.name)+">"),Ml()),R0=Wi("schema",()=>[Ko("preprocess")]),jf=it("defaults",K({})),$C=it("overrides",K({})),w8=Wn([ed,Sp,Zf,kp,jf,$C]),C8=Wn([ed,Sp,Zf,jf,$C]),LD=Wn([ed,Sp,Zf,kp,jf,$C]),xn=Wn([ed,R0,Zf,Dt("unit"),kp,jf,$C]),Yx=s=>s.fold(O.some,O.none,O.some,O.some),_E=s=>{const a=u=>u.name;return s.fold(a,a,a,a)},UC=(s,a)=>u=>{const f=Ea("Converting part type",a,u);return s(f)},wl=UC(Oa.required,w8),jd=UC(Oa.external,C8),vu=UC(Oa.optional,LD),WC=UC(Oa.group,xn),SE=K("entirety");var FD=Object.freeze({__proto__:null,required:wl,external:jd,optional:vu,group:WC,asNamedPart:Yx,name:_E,asCommon:s=>s.fold(ye,ye,ye,ye),original:SE});const kE=(s,a,u,f)=>Ps(a.defaults(s,u,f),u,{uid:s.partUids[a.name]},a.overrides(s,u,f)),rl=(s,a)=>{const u={};return Mt(a,f=>{Yx(f).each(p=>{const b=Xx(s,p.pname);u[p.name]=w=>{const k=Ea("Part: "+p.name+" in "+s,Wn(p.schema),w);return{...b,config:w,validated:k}}})}),u},Xx=(s,a)=>({uiType:Jm(),owner:s,name:a}),EE=(s,a,u)=>({uiType:Jm(),owner:s,name:a,config:u,validated:{}}),VD=s=>tn(s,a=>a.fold(O.none,O.some,O.none,O.none).map(u=>Ac(u.name,u.schema.concat([Gv(SE())]))).toArray()),zD=s=>Ye(s,_E),AE=(s,a,u)=>((f,p,b)=>{const w={},k={};return Mt(b,E=>{E.fold(D=>{w[D.pname]=Gi(!0,(F,P,z)=>D.factory.sketch(kE(F,D,P,z)))},D=>{const F=p.parts[D.name];k[D.name]=K(D.factory.sketch(kE(p,D,F[SE()]),F))},D=>{w[D.pname]=Gi(!1,(F,P,z)=>D.factory.sketch(kE(F,D,P,z)))},D=>{w[D.pname]=lc(!0,(F,P,z)=>{const q=F[D.name];return Ye(q,J=>D.factory.sketch(Ps(D.defaults(F,J,z),J,D.overrides(F,J))))})})}),{internals:K(w),externals:K(k)}})(0,a,u),TE=(s,a,u)=>((f,p,b,w)=>{const k=On(w,(D,F)=>((P,z)=>{let q=!1;return{name:K(P),required:()=>z.fold((J,ue)=>J,(J,ue)=>J),used:()=>q,replace:()=>{if(q)throw new Error("Trying to use the same placeholder more than once: "+P);return q=!0,z}}})(F,D)),E=((D,F,P,z)=>tn(P,q=>Ta(D,F,q,z)))(f,p,b,k);return An(k,D=>{if(D.used()===!1&&D.required())throw new Error("Placeholder: "+D.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(O.some(s),a,a.components,u),qs=(s,a,u)=>{const f=a.partUids[u];return s.getSystem().getByUid(f).toOptional()},gh=(s,a,u)=>qs(s,a,u).getOrDie("Could not find part: "+u),HD=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=K(b.getByUid(p[w]))}),f},OE=(s,a)=>{const u=s.getSystem();return On(a.partUids,(f,p)=>K(u.getByUid(f)))},$D=s=>wn(s.partUids),DE=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=K(b.getByUid(p[w]).getOrDie())}),f},UD=(s,a)=>{const u=zD(a);return Pd(Ye(u,f=>({key:f,value:s+"-"+f})))},RE=s=>li("partUids","partUids",Yo(a=>UD(a.uid,s)),Ml());var _8=Object.freeze({__proto__:null,generate:rl,generateOne:EE,schemas:VD,names:zD,substitutes:AE,components:TE,defaultUids:UD,defaultUidsSchema:RE,getAllParts:OE,getAllPartNames:$D,getPart:qs,getPartOrDie:gh,getParts:HD,getPartsOrDie:DE});const WD=(s,a,u,f,p)=>{const b=((w,k)=>(w.length>0?[Ac("parts",w)]:[]).concat([Dt("uid"),it("dom",{}),it("components",[]),Gv("originalSpec"),it("debug.sketcher",{})]).concat(k))(f,p);return Ea(s+" [SpecSchema]",wi(b.concat(a)),u)},Jx=(s,a,u,f,p)=>{const b=IE(p),w=VD(u),k=RE(u),E=WD(s,a,b,w,[k]),D=AE(0,E,u);return f(E,TE(s,E,D.internals()),b,D.externals())},IE=s=>(a=>Eo(a,"uid"))(s)?s:{...s,uid:Bc("uid")},S8=wi([Dt("name"),Dt("factory"),Dt("configFields"),it("apis",{}),it("extraApis",{})]),ZD=wi([Dt("name"),Dt("factory"),Dt("configFields"),Dt("partFields"),it("apis",{}),it("extraApis",{})]),bu=s=>{const a=Ea("Sketcher for "+s.name,S8,s),u=On(a.apis,i0),f=On(a.extraApis,(p,b)=>rc(p,b));return{name:a.name,configFields:a.configFields,sketch:p=>((b,w,k,E)=>{const D=IE(E);return k(WD(b,w,D,[],[]),D)})(a.name,a.configFields,a.factory,p),...u,...f}},Bl=s=>{const a=Ea("Sketcher for "+s.name,ZD,s),u=rl(a.name,a.partFields),f=On(a.apis,i0),p=On(a.extraApis,(b,w)=>rc(b,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:b=>Jx(a.name,a.configFields,a.partFields,a.factory,b),parts:u,...f,...p}},I0=s=>qc("input")(s)&&Mo(s,"type")!=="radio"||qc("textarea")(s);var jD=Object.freeze({__proto__:null,getCurrent:(s,a,u)=>a.find(s)});const k8=[Dt("find")],ns=Ni({fields:k8,name:"composing",apis:jD}),KD=["input","button","textarea","select"],GD=(s,a,u)=>{(a.disabled()?Qx:PE)(s,a)},NE=(s,a)=>a.useNative===!0&&et(KD,Ga(s.element)),qD=s=>{sn(s.element,"disabled","disabled")},E8=s=>{_o(s.element,"disabled")},N0=s=>{sn(s.element,"aria-disabled","true")},A8=s=>{sn(s.element,"aria-disabled","false")},Qx=(s,a,u)=>{a.disableClass.each(f=>{kr(s.element,f)}),(NE(s,a)?qD:N0)(s),a.onDisabled(s)},PE=(s,a,u)=>{a.disableClass.each(f=>{Ir(s.element,f)}),(NE(s,a)?E8:A8)(s),a.onEnabled(s)},P0=(s,a)=>NE(s,a)?(u=>Tr(u.element,"disabled"))(s):(u=>Mo(u.element,"aria-disabled")==="true")(s);var T8=Object.freeze({__proto__:null,enable:PE,disable:Qx,isDisabled:P0,onLoad:GD,set:(s,a,u,f)=>{(f?Qx:PE)(s,a)}}),O8=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({classes:a.disabled()?a.disableClass.toArray():[]}),events:(s,a)=>fo([lp(pl(),(u,f)=>P0(u,s)),Lv(s,a,GD)])}),D8=[Qs("disabled",Ee),it("useNative",!0),Ko("disableClass"),Xo("onDisabled"),Xo("onEnabled")];const ro=Ni({fields:D8,name:"disabling",active:O8,apis:T8}),YD=(s,a,u,f)=>{const p=Si(s.element,"."+a.highlightClass);Mt(p,b=>{pt(f,w=>is(w.element,b))||(Ir(b,a.highlightClass),s.getSystem().getByDom(b).each(w=>{a.onDehighlight(s,w),ko(w,Af())}))})},Cb=(s,a,u,f)=>{YD(s,a,0,[f]),ME(s,a,u,f)||(kr(f.element,a.highlightClass),a.onHighlight(s,f),ko(f,ax()))},ME=(s,a,u,f)=>tl(f.element,a.highlightClass),XD=(s,a,u)=>fr(s.element,"."+a.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),JD=(s,a,u)=>{const f=Si(s.element,"."+a.itemClass);return(f.length>0?O.some(f[f.length-1]):O.none()).bind(p=>s.getSystem().getByDom(p).toOptional())},QD=(s,a,u,f)=>{const p=Si(s.element,"."+a.itemClass);return xs(p,b=>tl(b,a.highlightClass)).bind(b=>{const w=Vm(b,f,0,p.length-1);return s.getSystem().getByDom(p[w]).toOptional()})},e5=(s,a,u)=>{const f=Si(s.element,"."+a.itemClass);return ea(Ye(f,p=>s.getSystem().getByDom(p).toOptional()))};var R8=Object.freeze({__proto__:null,dehighlightAll:(s,a,u)=>YD(s,a,0,[]),dehighlight:(s,a,u,f)=>{ME(s,a,u,f)&&(Ir(f.element,a.highlightClass),a.onDehighlight(s,f),ko(f,Af()))},highlight:Cb,highlightFirst:(s,a,u)=>{XD(s,a).each(f=>{Cb(s,a,u,f)})},highlightLast:(s,a,u)=>{JD(s,a).each(f=>{Cb(s,a,u,f)})},highlightAt:(s,a,u,f)=>{((p,b,w,k)=>{const E=Si(p.element,"."+b.itemClass);return O.from(E[k]).fold(()=>Lo.error(new Error("No element found with index "+k)),p.getSystem().getByDom)})(s,a,0,f).fold(p=>{throw p},p=>{Cb(s,a,u,p)})},highlightBy:(s,a,u,f)=>{const p=e5(s,a);Q(p,f).each(b=>{Cb(s,a,u,b)})},isHighlighted:ME,getHighlighted:(s,a,u)=>fr(s.element,"."+a.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:XD,getLast:JD,getPrevious:(s,a,u)=>QD(s,a,0,-1),getNext:(s,a,u)=>QD(s,a,0,1),getCandidates:e5}),t5=[Dt("highlightClass"),Dt("itemClass"),Xo("onHighlight"),Xo("onDehighlight")];const Ss=Ni({fields:t5,name:"highlighting",apis:R8}),n5=[8],Kd=[9],Qm=[13],ZC=[27],Hc=[32],jC=[37],M0=[38],e2=[39],B0=[40],I8=(s,a,u)=>{const f=je(s.slice(0,a)),p=je(s.slice(a+1));return Q(f.concat(p),u)},N8=(s,a,u)=>{const f=je(s.slice(0,a));return Q(f,u)},P8=(s,a,u)=>{const f=s.slice(0,a),p=s.slice(a+1);return Q(p.concat(f),u)},M8=(s,a,u)=>{const f=s.slice(a+1);return Q(f,u)},as=s=>a=>{const u=a.raw;return et(s,u.which)},Kf=s=>a=>Oo(s,u=>u(a)),eg=s=>s.raw.shiftKey===!0,B8=s=>s.raw.ctrlKey===!0,t2=We(eg),ms=(s,a)=>({matches:s,classification:a}),o5=(s,a,u)=>{a.exists(f=>u.exists(p=>is(p,f)))||Rn(s,j1(),{prevFocus:a,newFocus:u})},BE=()=>{const s=a=>qr(a.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().triggerFocus(u,a.element);const p=s(a);o5(a,f,p)}}},L8=()=>{const s=a=>Ss.getHighlighted(a).map(u=>u.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().getByDom(u).fold(le,b=>{Ss.highlight(a,b)});const p=s(a);o5(a,f,p)}}};var _b;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(_b||(_b={}));const Sb=(s,a,u,f,p)=>{const b=(k,E,D,F,P)=>{return(z=D(k,E,F,P),q=E.event,Q(z,J=>J.matches(q)).map(J=>J.classification)).bind(J=>J(k,E,F,P));var z,q},w={schema:()=>s.concat([it("focusManager",BE()),Fa("focusInside","onFocus",wf(k=>et(["onFocus","onEnterOrSpace","onApi"],k)?Lo.value(k):Lo.error("Invalid value for focusInside"))),Ks("handler",w),Ks("state",a),Ks("sendFocusIn",p)]),processKey:b,toEvents:(k,E)=>{const D=k.focusInside!==_b.OnFocusMode?O.none():p(k).map(P=>St(qu(),(z,q)=>{P(z,k,E),q.stop()})),F=[St(Sr(),(P,z)=>{b(P,z,u,k,E).fold(()=>{((q,J)=>{const ue=as(Hc.concat(Qm))(J.event);k.focusInside===_b.OnEnterOrSpaceMode&&ue&&Rv(q,J)&&p(k).each(me=>{me(q,k,E),J.stop()})})(P,z)},q=>{z.stop()})}),St(Oc(),(P,z)=>{b(P,z,f,k,E).each(q=>{z.stop()})})];return fo(D.toArray().concat(F))}};return w},s5=s=>{const a=[Ko("onEscape"),Ko("onEnter"),it("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),it("firstTabstop",0),it("useTabstopAt",Le),Ko("visibilitySelector")].concat([s]),u=(F,P)=>{const z=F.visibilitySelector.bind(q=>Ju(P,q)).getOr(P);return Or(z)>0},f=(F,P)=>P.focusManager.get(F).bind(z=>Ju(z,P.selector)),p=(F,P,z)=>{((q,J)=>{const ue=Si(q.element,J.selector),me=Fn(ue,Ce=>u(J,Ce));return O.from(me[J.firstTabstop])})(F,P).each(q=>{P.focusManager.set(F,q)})},b=(F,P,z,q)=>{const J=Si(F.element,z.selector);return f(F,z).bind(ue=>xs(J,Ue(is,ue)).bind(me=>((Ce,fe,de,be,_e)=>_e(fe,de,Ae=>((ze,ot)=>u(ze,ot)&&ze.useTabstopAt(ot))(be,Ae)).fold(()=>be.cyclic?O.some(!0):O.none(),Ae=>(be.focusManager.set(Ce,Ae),O.some(!0))))(F,J,me,z,q)))},w=(F,P,z)=>{const q=z.cyclic?I8:N8;return b(F,0,z,q)},k=(F,P,z)=>{const q=z.cyclic?P8:M8;return b(F,0,z,q)},E=K([ms(Kf([eg,as(Kd)]),w),ms(as(Kd),k),ms(Kf([t2,as(Qm)]),(F,P,z)=>z.onEnter.bind(q=>q(F,P)))]),D=K([ms(as(ZC),(F,P,z)=>z.onEscape.bind(q=>q(F,P))),ms(as(Kd),(F,P,z)=>f(F,z).filter(q=>!z.useTabstopAt(q)).bind(q=>((J=>(ue=>_a(ue))(J).bind(Te).exists(ue=>is(ue,J)))(q)?w:k)(F,P,z)))]);return Sb(a,Nc.init,E,D,()=>O.some(p))};var F8=s5(Wi("cyclic",Ee)),V8=s5(Wi("cyclic",Le));const n2=(s,a,u)=>I0(u)&&as(Hc)(a.event)?O.none():((f,p,b)=>(pr(f,b,pl()),O.some(!0)))(s,0,u),kb=(s,a)=>O.some(!0),z8=[it("execute",n2),it("useSpace",!1),it("useEnter",!0),it("useControlEnter",!1),it("useDown",!1)],r5=(s,a,u)=>u.execute(s,a,s.element);var H8=Sb(z8,Nc.init,(s,a,u,f)=>{const p=u.useSpace&&!I0(s.element)?Hc:[],b=u.useEnter?Qm:[],w=u.useDown?B0:[],k=p.concat(b).concat(w);return[ms(as(k),r5)].concat(u.useControlEnter?[ms(Kf([B8,as(Qm)]),r5)]:[])},(s,a,u,f)=>u.useSpace&&!I0(s.element)?[ms(as(Hc),kb)]:[],()=>O.none());const i5=()=>{const s=Es();return Ii({readState:()=>s.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,u)=>{s.set({numRows:a,numColumns:u})},getNumRows:()=>s.get().map(a=>a.numRows),getNumColumns:()=>s.get().map(a=>a.numColumns)})};var a5=Object.freeze({__proto__:null,flatgrid:i5,init:s=>s.state(s)});const l5=s=>(a,u,f,p)=>{const b=s(a.element);return c5(b,a,u,f,p)},LE=(s,a)=>{const u=Vx(s,a);return l5(u)},FE=(s,a)=>{const u=Vx(a,s);return l5(u)},VE=s=>(a,u,f,p)=>c5(s,a,u,f,p),c5=(s,a,u,f,p)=>f.focusManager.get(a).bind(b=>s(a.element,b,f,p)).map(b=>(f.focusManager.set(a,b),!0)),zE=VE,u5=VE,KC=VE,d5=s=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(s.dom),HE=(s,a,u)=>{const f=Si(s,u);return((p,b)=>xs(p,w=>is(w,a)).map(w=>({index:w,candidates:p})))(Fn(f,d5))},GC=(s,a)=>xs(s,u=>is(a,u)),f5=(s,a,u,f)=>f(Math.floor(a/u),a%u).bind(p=>{const b=p.row*u+p.column;return b>=0&&b<s.length?O.some(s[b]):O.none()}),m5=(s,a,u,f,p)=>f5(s,a,f,(b,w)=>{const k=b===u-1?s.length-b*f:f,E=Vm(w,p,0,k-1);return O.some({row:b,column:E})}),g5=(s,a,u,f,p)=>f5(s,a,f,(b,w)=>{const k=Vm(b,p,0,u-1),E=k===u-1?s.length-k*f:f,D=Mc(w,0,E-1);return O.some({row:k,column:D})}),$8=[Dt("selector"),it("execute",n2),vl("onEscape"),it("captureTab",!1),EC()],h5=(s,a,u)=>{fr(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},o2=s=>(a,u,f,p)=>HE(a,u,f.selector).bind(b=>s(b.candidates,b.index,p.getNumRows().getOr(f.initSize.numRows),p.getNumColumns().getOr(f.initSize.numColumns))),$E=(s,a,u)=>u.captureTab?O.some(!0):O.none(),UE=o2((s,a,u,f)=>m5(s,a,u,f,-1)),WE=o2((s,a,u,f)=>m5(s,a,u,f,1)),U8=o2((s,a,u,f)=>g5(s,a,u,f,-1)),W8=o2((s,a,u,f)=>g5(s,a,u,f,1)),Z8=K([ms(as(jC),LE(UE,WE)),ms(as(e2),FE(UE,WE)),ms(as(M0),zE(U8)),ms(as(B0),u5(W8)),ms(Kf([eg,as(Kd)]),$E),ms(Kf([t2,as(Kd)]),$E),ms(as(Hc.concat(Qm)),(s,a,u,f)=>((p,b)=>b.focusManager.get(p).bind(w=>Ju(w,b.selector)))(s,u).bind(p=>u.execute(s,a,p)))]),j8=K([ms(as(ZC),(s,a,u)=>u.onEscape(s,a)),ms(as(Hc),kb)]);var K8=Sb($8,i5,Z8,j8,()=>O.some(h5));const Ep=(s,a,u,f,p)=>{const b=(w,k,E)=>p(w,k,f,0,E.length-1,E[k],D=>{return F=E[D],Ga(F)==="button"&&Mo(F,"disabled")==="disabled"?b(w,D,E):O.from(E[D]);var F});return HE(s,u,a).bind(w=>{const k=w.index,E=w.candidates;return b(k,k,E)})},p5=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,D,F)=>{const P=Mc(b+w,k,E);return P===p?O.from(D):F(P)}),qC=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,D,F)=>{const P=Vm(b,w,k,E);return P===p?O.none():F(P)}),G8=[Dt("selector"),it("getInitial",O.none),it("execute",n2),vl("onEscape"),it("executeOnMove",!1),it("allowVertical",!0),it("allowHorizontal",!0),it("cycles",!0)],ZE=(s,a,u)=>((f,p)=>p.focusManager.get(f).bind(b=>Ju(b,p.selector)))(s,u).bind(f=>u.execute(s,a,f)),v5=(s,a,u)=>{a.getInitial(s).orThunk(()=>fr(s.element,a.selector)).each(f=>{a.focusManager.set(s,f)})},b5=(s,a,u)=>(u.cycles?qC:p5)(s,u.selector,a,-1),y5=(s,a,u)=>(u.cycles?qC:p5)(s,u.selector,a,1),jE=s=>(a,u,f,p)=>s(a,u,f,p).bind(()=>f.executeOnMove?ZE(a,u,f):O.some(!0)),s2=K([ms(as(Hc),kb),ms(as(ZC),(s,a,u)=>u.onEscape(s,a))]);var r2=Sb(G8,Nc.init,(s,a,u,f)=>{const p=[...u.allowHorizontal?jC:[]].concat(u.allowVertical?M0:[]),b=[...u.allowHorizontal?e2:[]].concat(u.allowVertical?B0:[]);return[ms(as(p),jE(LE(b5,y5))),ms(as(b),jE(FE(b5,y5))),ms(as(Qm),ZE),ms(as(Hc),ZE)]},s2,()=>O.some(v5));const YC=(s,a,u)=>O.from(s[a]).bind(f=>O.from(f[u]).map(p=>({rowIndex:a,columnIndex:u,cell:p}))),XC=(s,a,u,f)=>{const p=s[a].length,b=Vm(u,f,0,p-1);return YC(s,a,b)},x5=(s,a,u,f)=>{const p=Vm(u,f,0,s.length-1),b=s[p].length,w=Mc(a,0,b-1);return YC(s,p,w)},KE=(s,a,u,f)=>{const p=s[a].length,b=Mc(u+f,0,p-1);return YC(s,a,b)},GE=(s,a,u,f)=>{const p=Mc(u+f,0,s.length-1),b=s[p].length,w=Mc(a,0,b-1);return YC(s,p,w)},w5=[Ac("selectors",[Dt("row"),Dt("cell")]),it("cycles",!0),it("previousSelector",O.none),it("execute",n2)],q8=(s,a,u)=>{a.previousSelector(s).orThunk(()=>{const f=a.selectors;return fr(s.element,f.cell)}).each(f=>{a.focusManager.set(s,f)})},JC=(s,a)=>(u,f,p)=>{const b=p.cycles?s:a;return Ju(f,p.selectors.row).bind(w=>{const k=Si(w,p.selectors.cell);return GC(k,f).bind(E=>{const D=Si(u,p.selectors.row);return GC(D,w).bind(F=>{const P=((z,q)=>Ye(z,J=>Si(J,q.selectors.cell)))(D,p);return b(P,F,E).map(z=>z.cell)})})})},C5=JC((s,a,u)=>XC(s,a,u,-1),(s,a,u)=>KE(s,a,u,-1)),Eb=JC((s,a,u)=>XC(s,a,u,1),(s,a,u)=>KE(s,a,u,1)),Ab=JC((s,a,u)=>x5(s,u,a,-1),(s,a,u)=>GE(s,u,a,-1)),QC=JC((s,a,u)=>x5(s,u,a,1),(s,a,u)=>GE(s,u,a,1)),i2=K([ms(as(jC),LE(C5,Eb)),ms(as(e2),FE(C5,Eb)),ms(as(M0),zE(Ab)),ms(as(B0),u5(QC)),ms(as(Hc.concat(Qm)),(s,a,u)=>qr(s.element).bind(f=>u.execute(s,a,f)))]),Y8=K([ms(as(Hc),kb)]);var Ap=Sb(w5,Nc.init,i2,Y8,()=>O.some(q8));const tg=[Dt("selector"),it("execute",n2),it("moveOnTab",!1)],e_=(s,a,u)=>u.focusManager.get(s).bind(f=>u.execute(s,a,f)),_5=(s,a,u)=>{fr(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},S5=(s,a,u)=>qC(s,u.selector,a,-1),qE=(s,a,u)=>qC(s,u.selector,a,1),a2=K([ms(as(M0),KC(S5)),ms(as(B0),KC(qE)),ms(Kf([eg,as(Kd)]),(s,a,u,f)=>u.moveOnTab?KC(S5)(s,a,u,f):O.none()),ms(Kf([t2,as(Kd)]),(s,a,u,f)=>u.moveOnTab?KC(qE)(s,a,u,f):O.none()),ms(as(Qm),e_),ms(as(Hc),e_)]),l2=K([ms(as(Hc),kb)]);var YE=Sb(tg,Nc.init,a2,l2,()=>O.some(_5));const k5=[vl("onSpace"),vl("onEnter"),vl("onShiftEnter"),vl("onLeft"),vl("onRight"),vl("onTab"),vl("onShiftTab"),vl("onUp"),vl("onDown"),vl("onEscape"),it("stopSpaceKeyup",!1),Ko("focusIn")];var c2=Sb(k5,Nc.init,(s,a,u)=>[ms(as(Hc),u.onSpace),ms(Kf([t2,as(Qm)]),u.onEnter),ms(Kf([eg,as(Qm)]),u.onShiftEnter),ms(Kf([eg,as(Kd)]),u.onShiftTab),ms(Kf([t2,as(Kd)]),u.onTab),ms(as(M0),u.onUp),ms(as(B0),u.onDown),ms(as(jC),u.onLeft),ms(as(e2),u.onRight),ms(as(Hc),u.onSpace)],(s,a,u)=>[...u.stopSpaceKeyup?[ms(as(Hc),kb)]:[],ms(as(ZC),u.onEscape)],s=>s.focusIn);const t_=F8.schema(),X8=V8.schema(),XE=r2.schema(),n_=K8.schema(),$a=Ap.schema(),J8=H8.schema(),ng=YE.schema(),E5=c2.schema(),Nn=_C({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:t_,cyclic:X8,flow:XE,flatgrid:n_,matrix:$a,execution:J8,menu:ng,special:E5}),name:"keying",active:{events:(s,a)=>s.handler.toEvents(s,a)},apis:{focusIn:(s,a,u)=>{a.sendFocusIn(a).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,a,u)})},setGridSize:(s,a,u,f,p)=>{(b=>vo(b,"setGridSize"))(u)?u.setGridSize(f,p):console.error("Layout does not support setGridSize")}},state:a5}),Tb=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components();(E=>{Mt(E.components(),D=>$i(D.element)),ur(E.element),E.syncComponents()})(u);const w=p(f),k=ie(b,w);Mt(k,E=>{Ym(E),u.getSystem().removeFromWorld(E)}),Mt(w,E=>{E0(E)?mh(u,E):(u.getSystem().addToWorld(E),mh(u,E),un(u.element)&&Xm(E))}),u.syncComponents()})(s,a,()=>Ye(a,s.getSystem().build))},s.element)},JE=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components(),w=tn(f,D=>_x(D).toArray());Mt(b,D=>{et(w,D)||A0(D)});const k=((D,F,P)=>TC(D,F,(z,q)=>Ax(D,q,z,P)))(s.element,a,s.getSystem().buildOrPatch),E=ie(b,k);Mt(E,D=>{E0(D)&&A0(D)}),Mt(k,D=>{E0(D)||xb(u,D)}),u.syncComponents()})(s,a)},s.element)},o_=(s,a,u,f)=>{A0(a);const p=Ax(s.element,u,f,s.getSystem().buildOrPatch);xb(s,p),s.syncComponents()},QE=(s,a,u)=>{const f=s.getSystem().build(u);jx(s,f,a)},A5=(s,a,u,f)=>{sl(a),QE(s,(p,b)=>((w,k,E)=>{cr(w,E).fold(()=>{Na(w,k)},D=>{Td(D,k)})})(p,b,u),f)},u2=(s,a)=>s.components(),T5=(s,a,u,f,p)=>{const b=u2(s);return O.from(b[f]).map(w=>(p.fold(()=>sl(w),k=>{(a.reuseDom?o_:A5)(s,w,f,k)}),w))};var eA=Object.freeze({__proto__:null,append:(s,a,u,f)=>{QE(s,Na,f)},prepend:(s,a,u,f)=>{QE(s,zg,f)},remove:(s,a,u,f)=>{const p=u2(s);Q(p,w=>is(f.element,w.element)).each(sl)},replaceAt:T5,replaceBy:(s,a,u,f,p)=>{const b=u2(s);return xs(b,f).bind(w=>T5(s,a,0,w,p))},set:(s,a,u,f)=>(a.reuseDom?JE:Tb)(s,f),contents:u2});const qn=Ni({fields:[ti("reuseDom",!0)],name:"replacing",apis:eA}),Co=(s,a)=>{const u=((f,p)=>{const b=fo(p);return Ni({fields:[Dt("enabled")],name:f,active:{events:K(b)}})})(s,a);return{key:s,value:{config:{},me:u,configAsRaw:K({}),initialConfig:{},state:Nc}}},O5=(s,a)=>{a.ignore||(za(s.element),a.onFocus(s))};var D5=Object.freeze({__proto__:null,focus:O5,blur:(s,a)=>{a.ignore||tb(s.element)},isFocused:s=>ah(s.element)}),R5=Object.freeze({__proto__:null,exhibit:(s,a)=>{const u=a.ignore?{}:{attributes:{tabindex:"-1"}};return jr(u)},events:s=>fo([St(qu(),(a,u)=>{O5(a,s),u.stop()})].concat(s.stopMousedown?[St(Rt(),(a,u)=>{u.event.prevent()})]:[]))}),I5=[Xo("onFocus"),it("stopMousedown",!1),it("ignore",!1)];const no=Ni({fields:I5,name:"focusing",active:R5,apis:D5}),d2=(s,a,u,f)=>{const p=u.get();u.set(f),((b,w,k)=>{w.toggleClass.each(E=>{k.get()?kr(b.element,E):Ir(b.element,E)})})(s,a,u),((b,w,k)=>{const E=w.aria;E.update(b,E,k.get())})(s,a,u),p!==f&&a.onToggled(s,f)},yu=(s,a,u)=>{d2(s,a,u,!u.get())},Ob=(s,a,u)=>{d2(s,a,u,a.selected)};var N5=Object.freeze({__proto__:null,onLoad:Ob,toggle:yu,isOn:(s,a,u)=>u.get(),on:(s,a,u)=>{d2(s,a,u,!0)},off:(s,a,u)=>{d2(s,a,u,!1)},set:d2}),L0=Object.freeze({__proto__:null,exhibit:()=>jr({}),events:(s,a)=>{const u=(f=s,p=a,b=yu,uu(k=>{b(k,f,p)}));var f,p,b;const w=Lv(s,a,Ob);return fo(eo([s.toggleOnExecute?[u]:[],[w]]))}});const Gl=(s,a,u)=>{sn(s.element,"aria-expanded",u)};var $c=[it("selected",!1),Ko("toggleClass"),it("toggleOnExecute",!0),Xo("onToggled"),Fa("aria",{mode:"none"},hi("mode",{pressed:[it("syncWithExpanded",!1),Ks("update",(s,a,u)=>{sn(s.element,"aria-pressed",u),a.syncWithExpanded&&Gl(s,0,u)})],checked:[Ks("update",(s,a,u)=>{sn(s.element,"aria-checked",u)})],expanded:[Ks("update",Gl)],selected:[Ks("update",(s,a,u)=>{sn(s.element,"aria-selected",u)})],none:[Ks("update",le)]}))];const Qn=Ni({fields:$c,name:"toggling",active:L0,apis:N5,state:{init:()=>{const s=Bn(!1);return{get:()=>s.get(),set:a=>s.set(a),clear:()=>s.set(!1),readState:()=>s.get()}}}}),td=()=>{const s=(a,u)=>{u.stop(),Tf(a)};return[St(pi(),s),St(_f(),s),Pm(W()),Pm(Rt())]},F0=s=>fo(eo([s.map(a=>uu((u,f)=>{a(u),f.stop()})).toArray(),td()])),xu="alloy.item-hover",Tp="alloy.item-focus",P5="alloy.item-toggled",M5=s=>{(qr(s.element).isNone()||no.isFocused(s))&&(no.isFocused(s)||no.focus(s),Rn(s,xu,{item:s}))},B5=s=>{Rn(s,Tp,{item:s})},tA=K(xu),L5=K(Tp),s_=K(P5),F5=s=>s.role.fold(()=>s.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ye),Q8=[Dt("data"),Dt("components"),Dt("dom"),it("hasSubmenu",!1),Ko("toggling"),Ko("role"),so("itemBehaviours",[Qn,no,Nn,lt]),it("ignoreFocus",!1),it("domModification",{}),Ks("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:F5(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Jn(s.itemBehaviours,[s.toggling.fold(Qn.revoke,a=>Qn.config(((u,f)=>({aria:{mode:f?"selected":"checked"},...cs(u,(p,b)=>b!=="exclusive"),onToggled:(p,b)=>{X(u.onToggled)&&u.onToggled(p,b),((w,k)=>{Rn(w,P5,{item:w,state:k})})(p,b)}}))(a,s.role.exists(u=>u==="option")))),no.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:a=>{B5(a)}}),Nn.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:s.data}}),Co("item-type-events",[...td(),St(Tn(),M5),St(Pv(),no.focus)])]),components:s.components,eventOrder:s.eventOrder})),it("eventOrder",{})],eF=[Dt("dom"),Dt("components"),Ks("builder",s=>({dom:s.dom,components:s.components,events:fo([wC(Pv())])}))],nA=K("item-widget"),oA=K([wl({name:"widget",overrides:s=>({behaviours:Zt([lt.config({store:{mode:"manual",getValue:a=>s.data,setValue:le}})])})})]),V5=[Dt("uid"),Dt("data"),Dt("components"),Dt("dom"),it("autofocus",!1),it("ignoreFocus",!1),so("widgetBehaviours",[lt,no,Nn]),it("domModification",{}),RE(oA()),Ks("builder",s=>{const a=AE(nA(),s,oA()),u=TE(nA(),s,a.internals()),f=b=>qs(b,s,"widget").map(w=>(Nn.focusIn(w),w)),p=(b,w)=>(I0(w.event.target)||s.autofocus&&w.setSource(b.element),O.none());return{dom:s.dom,components:u,domModification:s.domModification,events:fo([uu((b,w)=>{f(b).each(k=>{w.stop()})}),St(Tn(),M5),St(Pv(),(b,w)=>{s.autofocus?f(b):no.focus(b)})]),behaviours:Jn(s.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:s.data}}),no.config({ignore:s.ignoreFocus,onFocus:b=>{B5(b)}}),Nn.config({mode:"special",focusIn:s.autofocus?b=>{f(b)}:cE(),onLeft:p,onRight:p,onEscape:(b,w)=>no.isFocused(b)||s.autofocus?(s.autofocus&&w.setSource(b.element),O.none()):(no.focus(b),O.some(!0))})])}})],z5=hi("type",{widget:V5,item:Q8,separator:eF}),sA=K([WC({factory:{sketch:s=>{const a=Ea("menu.spec item",z5,s);return a.builder(a)}},name:"items",unit:"item",defaults:(s,a)=>Eo(a,"uid")?a:{...a,uid:Bc("item")},overrides:(s,a)=>({type:a.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),H5=K([Lr("role"),Dt("value"),Dt("items"),Dt("dom"),Dt("components"),it("eventOrder",{}),yn("menuBehaviours",[Ss,lt,ns,Nn]),Fa("movement",{mode:"menu",moveOnTab:!0},hi("mode",{grid:[EC(),Ks("config",(s,a)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:s.focusManager}))],matrix:[Ks("config",(s,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+s.markers.item},previousSelector:a.previousSelector,focusManager:s.focusManager})),Dt("rowSelector"),it("previousSelector",O.none)],menu:[it("moveOnTab",!0),Ks("config",(s,a)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:a.moveOnTab,focusManager:s.focusManager}))]})),Zi("markers",Yg()),it("fakeFocus",!1),it("focusManager",BE()),Xo("onHighlight"),Xo("onDehighlight"),it("showMenuRole",!0)]),$5=K("alloy.menu-focus"),Db=Bl({name:"Menu",configFields:H5(),partFields:sA(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.menuBehaviours,[Ss.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),lt.config({store:{mode:"memory",initialValue:s.value}}),ns.config({find:O.some}),Nn.config(s.movement.config(s,s.movement))]),events:fo([St(L5(),(p,b)=>{const w=b.event;p.getSystem().getByDom(w.target).each(k=>{Ss.highlight(p,k),b.stop(),Rn(p,$5(),{menu:p,item:k})})}),St(tA(),(p,b)=>{const w=b.event.item;Ss.highlight(p,w)}),St(s_(),(p,b)=>{const{item:w,state:k}=b.event;k&&Mo(w.element,"role")==="menuitemradio"&&((E,D)=>{const F=Si(E.element,'[role="menuitemradio"][aria-checked="true"]');Mt(F,P=>{is(P,D.element)||E.getSystem().getByDom(P).each(z=>{Qn.off(z)})})})(p,w)})]),components:a,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),U5=(s,a,u,f)=>hn(u,f).bind(p=>hn(s,p).bind(b=>{const w=U5(s,a,u,b);return O.some([b].concat(w))})).getOr([]),W5=s=>s.type==="prepared"?O.some(s.menu):O.none(),tF=()=>{const s=Bn({}),a=Bn({}),u=Bn({}),f=Es(),p=Bn({}),b=E=>w(E).bind(W5),w=E=>hn(a.get(),E),k=E=>hn(s.get(),E);return{setMenuBuilt:(E,D)=>{a.set({...a.get(),[E]:{type:"prepared",menu:D}})},setContents:(E,D,F,P)=>{f.set(E),s.set(F),a.set(D),p.set(P);const z=((q,J)=>{const ue={};An(q,(de,be)=>{Mt(de,_e=>{ue[_e]=be})});const me=J,Ce=wo(J,(de,be)=>({k:de,v:be})),fe=On(Ce,(de,be)=>[be].concat(U5(ue,me,Ce,be)));return On(ue,de=>hn(fe,de).getOr([de]))})(P,F);u.set(z)},expand:E=>hn(s.get(),E).map(D=>{const F=hn(u.get(),E).getOr([]);return[D].concat(F)}),refresh:E=>hn(u.get(),E),collapse:E=>hn(u.get(),E).bind(D=>D.length>1?O.some(D.slice(1)):O.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const D=p.get();return ie(wn(D),E)},getPrimary:()=>f.get().bind(b),getMenus:()=>a.get(),clear:()=>{s.set({}),a.set({}),u.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,D)=>{const F=Fn(k(E).toArray(),P=>b(P).isSome());return hn(u.get(),E).bind(P=>{const z=je(F.concat(P));return(q=>{const J=[];for(let ue=0;ue<q.length;ue++){const me=q[ue];if(!me.isSome())return O.none();J.push(me.getOrDie())}return O.some(J)})(tn(z,(q,J)=>((ue,me,Ce)=>b(ue).bind(fe=>(de=>fs(s.get(),(be,_e)=>be===de))(ue).bind(de=>me(de).map(be=>({triggeredMenu:fe,triggeringItem:be,triggeringPath:Ce})))))(q,D,z.slice(0,J+1)).fold(()=>or(f.get(),q)?[]:[O.none()],ue=>[O.some(ue)])))})}}},nF=W5,wu=bn("tiered-menu-item-highlight"),oF=bn("tiered-menu-item-dehighlight");var il;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(il||(il={}));const Rb=K("collapse-item"),hh=bu({name:"TieredMenu",configFields:[Aa("onExecute"),Aa("onEscape"),Xu("onOpenMenu"),Xu("onOpenSubmenu"),Xo("onRepositionMenu"),Xo("onCollapseMenu"),it("highlightOnOpen",il.HighlightMenuAndItem),Ac("data",[Dt("primary"),Dt("menus"),Dt("expansions")]),it("fakeFocus",!1),Xo("onHighlightItem"),Xo("onDehighlightItem"),Xo("onHover"),Xg(),Dt("dom"),it("navigateOnHover",!0),it("stayInDom",!1),yn("tmenuBehaviours",[Nn,Ss,ns,qn]),it("eventOrder",{})],apis:{collapseMenu:(s,a)=>{s.collapseMenu(a)},highlightPrimary:(s,a)=>{s.highlightPrimary(a)},repositionMenus:(s,a)=>{s.repositionMenus(a)}},factory:(s,a)=>{const u=Es(),f=tF(),p=de=>lt.getValue(de).value,b=de=>On(s.data.menus,(be,_e)=>tn(be.items,Ae=>Ae.type==="separator"?[]:[Ae.data.value])),w=Ss.highlight,k=(de,be)=>{w(de,be),Ss.getHighlighted(be).orThunk(()=>Ss.getFirst(be)).each(_e=>{s.fakeFocus?Ss.highlight(be,_e):pr(de,_e.element,Pv())})},E=(de,be)=>ea(Ye(be,_e=>de.lookupMenu(_e).bind(Ae=>Ae.type==="prepared"?O.some(Ae.menu):O.none()))),D=(de,be,_e)=>{const Ae=E(be,be.otherMenus(_e));Mt(Ae,ze=>{ic(ze.element,[s.markers.backgroundMenu]),s.stayInDom||qn.remove(de,ze)})},F=(de,be)=>{const _e=(Ae=>u.get().getOrThunk(()=>{const ze={},ot=Si(Ae.element,`.${s.markers.item}`),Et=Fn(ot,_t=>Mo(_t,"aria-haspopup")==="true");return Mt(Et,_t=>{Ae.getSystem().getByDom(_t).each(wt=>{const Ht=p(wt);ze[Ht]=wt})}),u.set(ze),ze}))(de);An(_e,(Ae,ze)=>{const ot=et(be,ze);sn(Ae.element,"aria-expanded",ot)})},P=(de,be,_e)=>O.from(_e[0]).bind(Ae=>be.lookupMenu(Ae).bind(ze=>{if(ze.type==="notbuilt")return O.none();{const ot=ze.menu,Et=E(be,_e.slice(1));return Mt(Et,_t=>{kr(_t.element,s.markers.backgroundMenu)}),un(ot.element)||qn.append(de,nl(ot)),ic(ot.element,[s.markers.backgroundMenu]),k(de,ot),D(de,be,_e),O.some(ot)}}));let z;(function(de){de[de.HighlightSubmenu=0]="HighlightSubmenu",de[de.HighlightParent=1]="HighlightParent"})(z||(z={}));const q=(de,be,_e=z.HighlightSubmenu)=>{if(be.hasConfigured(ro)&&ro.isDisabled(be))return O.some(be);{const Ae=p(be);return f.expand(Ae).bind(ze=>(F(de,ze),O.from(ze[0]).bind(ot=>f.lookupMenu(ot).bind(Et=>{const _t=((wt,Ht,mn)=>{if(mn.type==="notbuilt"){const kn=wt.getSystem().build(mn.nbMenu());return f.setMenuBuilt(Ht,kn),kn}return mn.menu})(de,ot,Et);return un(_t.element)||qn.append(de,nl(_t)),s.onOpenSubmenu(de,be,_t,je(ze)),_e===z.HighlightSubmenu?(Ss.highlightFirst(_t),P(de,f,ze)):(Ss.dehighlightAll(_t),O.some(be))}))))}},J=(de,be)=>{const _e=p(be);return f.collapse(_e).bind(Ae=>(F(de,Ae),P(de,f,Ae).map(ze=>(s.onCollapseMenu(de,be,ze),ze))))},ue=de=>(be,_e)=>Ju(_e.getSource(),`.${s.markers.item}`).bind(Ae=>be.getSystem().getByDom(Ae).toOptional().bind(ze=>de(be,ze).map(Le))),me=fo([St($5(),(de,be)=>{const _e=be.event.item;f.lookupItem(p(_e)).each(()=>{const Ae=be.event.menu;Ss.highlight(de,Ae);const ze=p(be.event.item);f.refresh(ze).each(ot=>D(de,f,ot))})}),uu((de,be)=>{const _e=be.event.target;de.getSystem().getByDom(_e).each(Ae=>{p(Ae).indexOf("collapse-item")===0&&J(de,Ae),q(de,Ae,z.HighlightSubmenu).fold(()=>{s.onExecute(de,Ae)},le)})}),sr((de,be)=>{(_e=>{const Ae=((ot,Et,_t)=>On(_t,(wt,Ht)=>{const mn=()=>Db.sketch({...wt,value:Ht,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(kn,Hn)=>{Rn(kn,wu,{menuComp:kn,itemComp:Hn})},onDehighlight:(kn,Hn)=>{Rn(kn,oF,{menuComp:kn,itemComp:Hn})},focusManager:s.fakeFocus?L8():BE()});return Ht===Et?{type:"prepared",menu:ot.getSystem().build(mn())}:{type:"notbuilt",nbMenu:mn}}))(_e,s.data.primary,s.data.menus),ze=b();return f.setContents(s.data.primary,Ae,s.data.expansions,ze),f.getPrimary()})(de).each(_e=>{qn.append(de,nl(_e)),s.onOpenMenu(de,_e),s.highlightOnOpen===il.HighlightMenuAndItem?k(de,_e):s.highlightOnOpen===il.HighlightJustMenu&&w(de,_e)})}),St(wu,(de,be)=>{s.onHighlightItem(de,be.event.menuComp,be.event.itemComp)}),St(oF,(de,be)=>{s.onDehighlightItem(de,be.event.menuComp,be.event.itemComp)}),...s.navigateOnHover?[St(tA(),(de,be)=>{const _e=be.event.item;((Ae,ze)=>{const ot=p(ze);f.refresh(ot).bind(Et=>(F(Ae,Et),P(Ae,f,Et)))})(de,_e),q(de,_e,z.HighlightParent),s.onHover(de,_e)})]:[]]),Ce=de=>Ss.getHighlighted(de).bind(Ss.getHighlighted),fe={collapseMenu:de=>{Ce(de).each(be=>{J(de,be)})},highlightPrimary:de=>{f.getPrimary().each(be=>{k(de,be)})},repositionMenus:de=>{f.getPrimary().bind(_e=>Ce(de).bind(Ae=>{const ze=p(Ae),ot=Ar(f.getMenus()),Et=ea(Ye(ot,nF));return f.getTriggeringPath(ze,_t=>((wt,Ht,mn)=>Vt(Ht,kn=>{if(!kn.getSystem().isConnected())return O.none();const Hn=Ss.getCandidates(kn);return Q(Hn,io=>p(io)===mn)}))(0,Et,_t))}).map(Ae=>({primary:_e,triggeringPath:Ae}))).fold(()=>{(_e=>O.from(_e.components()[0]).filter(Ae=>Mo(Ae.element,"role")==="menu"))(de).each(_e=>{s.onRepositionMenu(de,_e,[])})},({primary:_e,triggeringPath:Ae})=>{s.onRepositionMenu(de,_e,Ae)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.tmenuBehaviours,[Nn.config({mode:"special",onRight:ue((de,be)=>I0(be.element)?O.none():q(de,be,z.HighlightSubmenu)),onLeft:ue((de,be)=>I0(be.element)?O.none():J(de,be)),onEscape:ue((de,be)=>J(de,be).orThunk(()=>s.onEscape(de,be).map(()=>de))),focusIn:(de,be)=>{f.getPrimary().each(_e=>{pr(de,_e.element,Pv())})}}),Ss.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),ns.config({find:de=>Ss.getHighlighted(de)}),qn.config({})]),eventOrder:s.eventOrder,apis:fe,events:me}},extraApis:{tieredData:(s,a,u)=>({primary:s,menus:a,expansions:u}),singleData:(s,a)=>({primary:s,menus:au(s,a),expansions:{}}),collapseItem:s=>({value:bn(Rb()),meta:{text:s}})}}),vr=bu({name:"InlineView",configFields:[Dt("lazySink"),Xo("onShow"),Xo("onHide"),iu("onEscape"),yn("inlineBehaviours",[T,lt,yl]),Dr("fireDismissalEventInstead",[it("event",Zg())]),Dr("fireRepositionEventInstead",[it("event",Ef())]),it("getRelated",O.none),it("isExtraPart",Ee),it("eventOrder",O.none)],factory:(s,a)=>{const u=(w,k,E,D)=>{const F=s.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>ga.positionWithinBounds(F,w,E,D())),lt.setValue(w,O.some({mode:"position",config:E,getBounds:D}))},f=(w,k,E,D)=>{const F=((P,z,q,J,ue)=>{const me=()=>P.lazySink(z),Ce=J.type==="horizontal"?{layouts:{onLtr:()=>g0(),onRtl:()=>h0()}}:{},fe=de=>(be=>be.length===2)(de)?Ce:{};return hh.sketch({dom:{tag:"div"},data:J.data,markers:J.menu.markers,highlightOnOpen:J.menu.highlightOnOpen,fakeFocus:J.menu.fakeFocus,onEscape:()=>(T.close(z),P.onEscape.map(de=>de(z)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(de,be)=>{ga.positionWithinBounds(me().getOrDie(),be,q,ue())},onOpenSubmenu:(de,be,_e,Ae)=>{const ze=me().getOrDie();ga.position(ze,_e,{anchor:{type:"submenu",item:be,...fe(Ae)}})},onRepositionMenu:(de,be,_e)=>{const Ae=me().getOrDie();ga.positionWithinBounds(Ae,be,q,ue()),Mt(_e,ze=>{const ot=fe(ze.triggeringPath);ga.position(Ae,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem,...ot}})})}})})(s,w,k,E,D);T.open(w,F),lt.setValue(w,O.some({mode:"menu",menu:F}))},p=w=>{T.isOpen(w)&&lt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(hh.repositionMenus);break;case"position":const E=s.lazySink(w).getOrDie();ga.positionWithinBounds(E,w,k.config,k.getBounds())}})},b={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const D=O.none;u(w,k,E,D)},showWithinBounds:u,showMenuAt:(w,k,E)=>{f(w,k,E,O.none)},showMenuWithinBounds:f,hide:w=>{T.isOpen(w)&&(lt.setValue(w,O.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:s.uid,dom:s.dom,behaviours:yo(s.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>bl(k,E)||((D,F)=>s.getRelated(D).exists(P=>bl(P,F)))(w,E),getAttachPoint:w=>s.lazySink(w).getOrDie(),onOpen:w=>{s.onShow(w)},onClose:w=>{s.onHide(w)}}),lt.config({store:{mode:"memory",initialValue:O.none()}}),yl.config({channels:{...se({isExtraPart:a.isExtraPart,...s.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Ie({...s.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:s.eventOrder,apis:b}},apis:{showAt:(s,a,u,f)=>{s.showAt(a,u,f)},showWithinBounds:(s,a,u,f,p)=>{s.showWithinBounds(a,u,f,p)},showMenuAt:(s,a,u,f)=>{s.showMenuAt(a,u,f)},showMenuWithinBounds:(s,a,u,f,p)=>{s.showMenuWithinBounds(a,u,f,p)},hide:(s,a)=>{s.hide(a)},isOpen:(s,a)=>s.isOpen(a),getContent:(s,a)=>s.getContent(a),setContent:(s,a,u)=>{s.setContent(a,u)},reposition:(s,a)=>{s.reposition(a)}}});var nd,f2,r_=tinymce.util.Tools.resolve("tinymce.util.Delay"),V0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z5=tinymce.util.Tools.resolve("tinymce.EditorManager"),Gf=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(nd||(nd={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(f2||(f2={}));const Bs=s=>a=>a.options.get(s),m2=s=>a=>O.from(s(a)),j5=s=>{const a=Gf.deviceType.isPhone(),u=Gf.deviceType.isTablet()||a,f=s.options.register,p=w=>v(w)||w===!1,b=w=>v(w)||ne(w);f("skin",{processor:w=>v(w)||w===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:b,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:b,default:V0.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:w=>v(w)||I(w),default:!a}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:w=>I(w)||v(w)||M(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Lt(9,w=>{f("toolbar"+(w+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:f2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:p,default:"#top"}),f("anchor_bottom",{processor:p,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:w=>w==="both"||I(w),default:!Gf.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},rA=Bs("readonly"),g2=Bs("height"),h2=Bs("width"),p2=m2(Bs("min_width")),z0=m2(Bs("min_height")),H0=m2(Bs("max_width")),i_=m2(Bs("max_height")),$0=m2(Bs("style_formats")),a_=Bs("style_formats_merge"),K5=Bs("style_formats_autohide"),iA=Bs("content_langs"),G5=Bs("removed_menuitems"),Ib=Bs("toolbar_mode"),l_=Bs("toolbar_groups"),Op=Bs("toolbar_location"),aA=Bs("fixed_toolbar_container"),sF=Bs("fixed_toolbar_container_target"),q5=Bs("toolbar_persist"),lA=Bs("toolbar_sticky_offset"),ph=Bs("menubar"),U0=Bs("toolbar"),c_=Bs("file_picker_callback"),v2=Bs("file_picker_validator_handler"),cA=Bs("font_size_input_default_unit"),b2=Bs("file_picker_types"),u_=Bs("typeahead_urls"),Y5=Bs("anchor_top"),X5=Bs("anchor_bottom"),qf=Bs("draggable_modal"),J5=Bs("statusbar"),Q5=Bs("elementpath"),Uc=Bs("branding"),ha=Bs("resize"),eR=Bs("paste_as_text"),d_=Bs("sidebar_show"),tR=Bs("promotion"),uA=Bs("help_accessibility"),f_=Bs("default_font_stack"),Dp=s=>s.options.get("skin")===!1,y2=s=>s.options.get("menubar")!==!1,m_=s=>{const a=s.options.get("skin_url");if(Dp(s))return a;if(a)return s.documentBaseURI.toAbsolute(a);{const u=s.options.get("skin");return Z5.baseURL+"/skins/ui/"+u}},g_=s=>O.from(s.options.get("skin_url")),nR=s=>s.options.get("line_height_formats").split(" "),x2=s=>{const a=U0(s),u=v(a),f=M(a)&&a.length>0;return!w2(s)&&(f||u||a===!0)},h_=s=>{const a=Lt(9,f=>s.options.get("toolbar"+(f+1))),u=Fn(a,v);return rs(u.length>0,u)},w2=s=>h_(s).fold(()=>{const a=U0(s);return ce(a,v)&&a.length>0},Le),dA=s=>Op(s)===f2.bottom,fA=s=>{var a;if(!s.inline)return O.none();const u=(a=aA(s))!==null&&a!==void 0?a:"";if(u.length>0)return fr(vn(),u);const f=sF(s);return G(f)?O.some(rn(f)):O.none()},Nb=s=>s.inline&&fA(s).isSome(),p_=s=>fA(s).getOrThunk(()=>Je(ut(rn(s.getElement())))),v_=s=>s.inline&&!y2(s)&&!x2(s)&&!w2(s),vh=s=>(s.options.get("toolbar_sticky")||s.inline)&&!Nb(s)&&!v_(s),bh=s=>!Nb(s)&&s.options.get("ui_mode")==="split",Rp=s=>{const a=s.options.get("menu");return On(a,u=>({...u,items:u.items}))};var C2=Object.freeze({__proto__:null,get ToolbarMode(){return nd},get ToolbarLocation(){return f2},register:j5,getSkinUrl:m_,getSkinUrlOption:g_,isReadOnly:rA,isSkinDisabled:Dp,getHeightOption:g2,getWidthOption:h2,getMinWidthOption:p2,getMinHeightOption:z0,getMaxWidthOption:H0,getMaxHeightOption:i_,getUserStyleFormats:$0,shouldMergeStyleFormats:a_,shouldAutoHideStyleFormats:K5,getLineHeightFormats:nR,getContentLanguages:iA,getRemovedMenuItems:G5,isMenubarEnabled:y2,isMultipleToolbars:w2,isToolbarEnabled:x2,isToolbarPersist:q5,getMultipleToolbarsOption:h_,getUiContainer:p_,useFixedContainer:Nb,isSplitUiMode:bh,getToolbarMode:Ib,isDraggableModal:qf,isDistractionFree:v_,isStickyToolbar:vh,getStickyToolbarOffset:lA,getToolbarLocation:Op,isToolbarLocationBottom:dA,getToolbarGroups:l_,getMenus:Rp,getMenubar:ph,getToolbar:U0,getFilePickerCallback:c_,getFilePickerTypes:b2,useTypeaheadUrls:u_,getAnchorTop:Y5,getAnchorBottom:X5,getFilePickerValidatorHandler:v2,getFontSizeInputDefaultUnit:cA,useStatusBar:J5,useElementPath:Q5,promotionEnabled:tR,useBranding:Uc,getResize:ha,getPasteAsText:eR,getSidebarShow:d_,useHelpAccessibility:uA,getDefaultFontStack:f_});const rF=["visible","hidden","clip"],oR=s=>_c(s).length>0&&!et(rF,s),sR=s=>{if(dl(s)){const a=wr(s,"overflow-x"),u=wr(s,"overflow-y");return oR(a)||oR(u)}return!1},Ip=(s,a)=>bh(s)?((u,f)=>{const p=wp(f,sR),b=p.length===0?Wt(f).map(nn).map(w=>wp(w,sR)).getOr([]):p;return zt(b).map(w=>({element:w,others:b.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(u)}))})(s,a):O.none(),Np=s=>{const a=[...Ye(s.others,ai),Ui()];return s.isFullscreen()?Ui():((u,f)=>_n(f,(p,b)=>Dd(p,b),u))(ai(s.element),a)},Ua=bu({name:"Button",factory:s=>{const a=F0(s.action),u=s.dom.tag,f=p=>hn(s.dom,"attributes").bind(b=>hn(b,p));return{uid:s.uid,dom:s.dom,components:s.components,events:a,behaviours:Jn(s.buttonBehaviours,[no.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:f("type").getOr("button"),...f("role").map(p=>({role:p})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[it("uid",void 0),Dt("dom"),it("components",[]),so("buttonBehaviours",[no,Nn]),Ko("action"),Ko("role"),it("eventOrder",{})]}),og=s=>{const a=Wl(s),u=Ns(a),f=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return _n(k,(E,D)=>D.name==="class"?E:{...E,[D.name]:D.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),b=u.length===0?{}:{innerHtml:Fd(a)};return{tag:Ga(a),classes:p,attributes:f,...b}},Cs=s=>{const a=(u=>u.uid!==void 0)(s)&&vo(s,"uid")?s.uid:Bc("memento");return{get:u=>u.getSystem().getByUid(a).getOrDie(),getOpt:u=>u.getSystem().getByUid(a).toOptional(),asSpec:()=>({...s,uid:a})}};var iF=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({attributes:Pd([{key:a.tabAttr,value:"true"}])})}),rR=[it("tabAttr","data-alloy-tabstop")];const Zs=Ni({fields:rR,name:"tabstopping",active:iF}),mA=bn("tooltip.exclusive"),_2=bn("tooltip.show"),S2=bn("tooltip.hide"),k2=bn("tooltip.immediateHide"),E2=bn("tooltip.immediateShow"),iR=(s,a,u)=>{s.getSystem().broadcastOn([mA],{})};var aF=Object.freeze({__proto__:null,hideAllExclusive:iR,immediateOpenClose:(s,a,u,f)=>ko(s,f?E2:k2),isEnabled:(s,a,u)=>u.isEnabled(),setComponents:(s,a,u,f)=>{u.getTooltip().each(p=>{p.getSystem().isConnected()&&qn.set(p,f)})},setEnabled:(s,a,u,f)=>u.setEnabled(f)}),lF=Object.freeze({__proto__:null,events:(s,a)=>{const u=b=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(sl(w),s.onHide(b,w),a.clearTooltip())}),a.clearTimer()},f=b=>{if(!a.isShowing()&&a.isEnabled()){iR(b);const w=s.lazySink(b).getOrDie(),k=b.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:fo(s.mode==="normal"?[St(Tn(),E=>{ko(b,_2)}),St(po(),E=>{ko(b,S2)})]:[]),behaviours:Zt([qn.config({})])});a.setTooltip(k),Uf(w,k),s.onShow(b,k),ga.position(w,k,{anchor:s.anchor(b)})}},p=b=>{a.getTooltip().each(w=>{const k=s.lazySink(b).getOrDie();ga.position(k,w,{anchor:s.anchor(b)})})};return fo(eo([[K1(b=>{s.onSetup(b)}),St(_2,b=>{a.resetTimer(()=>{f(b)},s.delayForShow())}),St(S2,b=>{a.resetTimer(()=>{u(b)},s.delayForHide())}),St(E2,b=>{a.resetTimer(()=>{f(b)},0)}),St(k2,b=>{a.resetTimer(()=>{u(b)},0)}),St(sc(),(b,w)=>{const k=w;k.universal||et(k.channels,mA)&&u(b)}),Yu(b=>{u(b)})],(()=>{switch(s.mode){case"normal":return[St(bs(),b=>{ko(b,E2)}),St(rp(),b=>{ko(b,k2)}),St(Tn(),b=>{ko(b,_2)}),St(po(),b=>{ko(b,S2)})];case"follow-highlight":return[St(ax(),(b,w)=>{ko(b,_2)}),St(Af(),b=>{ko(b,S2)})];case"children-normal":return[St(bs(),(b,w)=>{qr(b.element).each(k=>{Yc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,E2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{qr(b.element).fold(()=>{ko(b,k2)},le)}),St(Tn(),b=>{fr(b.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{ko(b,_2)},k=>{a.isShowing()&&(s.onShow(b,k),p(b))})})}),St(po(),b=>{fr(b.element,"[data-mce-tooltip]:hover").fold(()=>{ko(b,S2)},le)})];default:return[St(bs(),(b,w)=>{qr(b.element).each(k=>{Yc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,E2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{qr(b.element).fold(()=>{ko(b,k2)},le)})]}})()]))}}),cF=[Dt("lazySink"),Dt("tooltipDom"),it("exclusive",!0),it("tooltipComponents",[]),Qs("delayForShow",K(300)),Qs("delayForHide",K(300)),Qs("onSetup",le),Tc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),it("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:K([Gr,Er,Nr,ni,Pr,Ms]),onRtl:K([Gr,Er,Nr,ni,Pr,Ms])},bubble:ac(0,-2,{})})),Xo("onHide"),Xo("onShow")],uF=Object.freeze({__proto__:null,init:()=>{const s=Bn(!0),a=Es(),u=Es(),f=()=>{a.on(clearTimeout)},p=K("not-implemented");return Ii({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:f,resetTimer:(b,w)=>{f(),a.set(setTimeout(b,w))},readState:p,isEnabled:()=>s.get(),setEnabled:b=>s.set(b)})}});const si=Ni({fields:cF,name:"tooltipping",active:lF,state:uF,apis:aF}),{entries:aR,setPrototypeOf:gA,isFrozen:lR,getPrototypeOf:cR,getOwnPropertyDescriptor:dF}=Object;let{freeze:cc,seal:Yf,create:uR}=Object,{apply:hA,construct:pA}=typeof Reflect<"u"&&Reflect;hA||(hA=function(s,a,u){return s.apply(a,u)}),cc||(cc=function(s){return s}),Yf||(Yf=function(s){return s}),pA||(pA=function(s,a){return new s(...a)});const vA=Gd(Array.prototype.forEach),fF=Gd(Array.prototype.pop),A2=Gd(Array.prototype.push),b_=Gd(String.prototype.toLowerCase),y_=Gd(String.prototype.toString),mF=Gd(String.prototype.match),dn=Gd(String.prototype.replace),Pb=Gd(String.prototype.indexOf),gF=Gd(String.prototype.trim),Cu=Gd(RegExp.prototype.test),Pp=(x_=TypeError,function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return pA(x_,a)});var x_;function Gd(s){return function(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return hA(s,a,f)}}function zs(s,a,u){var f;u=(f=u)!==null&&f!==void 0?f:b_,gA&&gA(s,null);let p=a.length;for(;p--;){let b=a[p];if(typeof b=="string"){const w=u(b);w!==b&&(lR(a)||(a[p]=w),b=w)}s[b]=!0}return s}function W0(s){const a=uR(null);for(const[u,f]of aR(s))a[u]=f;return a}function w_(s,a){for(;s!==null;){const u=dF(s,a);if(u){if(u.get)return Gd(u.get);if(typeof u.value=="function")return Gd(u.value)}s=cR(s)}return function(u){return console.warn("fallback value for",u),null}}const bA=cc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T2=cc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mb=cc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dR=cc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yA=cc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hF=cc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fR=cc(["#text"]),pF=cc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C_=cc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mR=cc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),__=cc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vF=Yf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bF=Yf(/<%[\w\W]*|[\w\W]*%>/gm),xA=Yf(/\${[\w\W]*}/gm),yF=Yf(/^data-[\-\w.\u00B7-\uFFFF]/),xF=Yf(/^aria-[\-\w]+$/),gR=Yf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wF=Yf(/^(?:\w+script|data):/i),CF=Yf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sg=Yf(/^html$/i);var O2=Object.freeze({__proto__:null,MUSTACHE_EXPR:vF,ERB_EXPR:bF,TMPLIT_EXPR:xA,DATA_ATTR:yF,ARIA_ATTR:xF,IS_ALLOWED_URI:gR,IS_SCRIPT_OR_DATA:wF,ATTR_WHITESPACE:CF,DOCTYPE_NAME:sg});const _F=()=>typeof window>"u"?null:window;var SF=function s(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_F();const u=ft=>s(ft);if(u.version="3.0.5",u.removed=[],!a||!a.document||a.document.nodeType!==9)return u.isSupported=!1,u;const f=a.document,p=f.currentScript;let{document:b}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:D,NodeFilter:F,NamedNodeMap:P=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:z,DOMParser:q,trustedTypes:J}=a,ue=D.prototype,me=w_(ue,"cloneNode"),Ce=w_(ue,"nextSibling"),fe=w_(ue,"childNodes"),de=w_(ue,"parentNode");if(typeof k=="function"){const ft=b.createElement("template");ft.content&&ft.content.ownerDocument&&(b=ft.content.ownerDocument)}let be,_e="";const{implementation:Ae,createNodeIterator:ze,createDocumentFragment:ot,getElementsByTagName:Et}=b,{importNode:_t}=f;let wt={};u.isSupported=typeof aR=="function"&&typeof de=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ht,ERB_EXPR:mn,TMPLIT_EXPR:kn,DATA_ATTR:Hn,ARIA_ATTR:io,IS_SCRIPT_OR_DATA:Fo,ATTR_WHITESPACE:tr}=O2;let{IS_ALLOWED_URI:mr}=O2,So=null;const Jo=zs({},[...bA,...T2,...Mb,...yA,...fR]);let Kn=null;const gr=zs({},[...pF,...C_,...mR,...__]);let Ls=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Wa=null,Za=null,Yi=!0,Bi=!0,Rh=!1,wy=!0,nv=!1,Ih=!1,Bw=!1,ov=!1,yg=!1,c1=!1,u1=!1,Cy=!0,lk=!1,Lw=!0,sv=!1,xg={},Nh=null;const Fw=zs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vw=null;const gs=zs({},["audio","video","img","source","image","track"]);let wg=null;const nf=zs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),d1="http://www.w3.org/1998/Math/MathML",ck="http://www.w3.org/2000/svg",Ph="http://www.w3.org/1999/xhtml";let _y=Ph,mO=!1,uk=null;const D9=zs({},[d1,ck,Ph],y_);let Sy;const R9=["application/xhtml+xml","text/html"];let Sl,f1=null;const I9=b.createElement("form"),HM=function(ft){return ft instanceof RegExp||ft instanceof Function},dk=function(ft){if(!f1||f1!==ft){if(ft&&typeof ft=="object"||(ft={}),ft=W0(ft),Sy=Sy=R9.indexOf(ft.PARSER_MEDIA_TYPE)===-1?"text/html":ft.PARSER_MEDIA_TYPE,Sl=Sy==="application/xhtml+xml"?y_:b_,So="ALLOWED_TAGS"in ft?zs({},ft.ALLOWED_TAGS,Sl):Jo,Kn="ALLOWED_ATTR"in ft?zs({},ft.ALLOWED_ATTR,Sl):gr,uk="ALLOWED_NAMESPACES"in ft?zs({},ft.ALLOWED_NAMESPACES,y_):D9,wg="ADD_URI_SAFE_ATTR"in ft?zs(W0(nf),ft.ADD_URI_SAFE_ATTR,Sl):nf,Vw="ADD_DATA_URI_TAGS"in ft?zs(W0(gs),ft.ADD_DATA_URI_TAGS,Sl):gs,Nh="FORBID_CONTENTS"in ft?zs({},ft.FORBID_CONTENTS,Sl):Fw,Wa="FORBID_TAGS"in ft?zs({},ft.FORBID_TAGS,Sl):{},Za="FORBID_ATTR"in ft?zs({},ft.FORBID_ATTR,Sl):{},xg="USE_PROFILES"in ft&&ft.USE_PROFILES,Yi=ft.ALLOW_ARIA_ATTR!==!1,Bi=ft.ALLOW_DATA_ATTR!==!1,Rh=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,wy=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nv=ft.SAFE_FOR_TEMPLATES||!1,Ih=ft.WHOLE_DOCUMENT||!1,yg=ft.RETURN_DOM||!1,c1=ft.RETURN_DOM_FRAGMENT||!1,u1=ft.RETURN_TRUSTED_TYPE||!1,ov=ft.FORCE_BODY||!1,Cy=ft.SANITIZE_DOM!==!1,lk=ft.SANITIZE_NAMED_PROPS||!1,Lw=ft.KEEP_CONTENT!==!1,sv=ft.IN_PLACE||!1,mr=ft.ALLOWED_URI_REGEXP||gR,_y=ft.NAMESPACE||Ph,Ls=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ls.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ls.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ls.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nv&&(Bi=!1),c1&&(yg=!0),xg&&(So=zs({},[...fR]),Kn=[],xg.html===!0&&(zs(So,bA),zs(Kn,pF)),xg.svg===!0&&(zs(So,T2),zs(Kn,C_),zs(Kn,__)),xg.svgFilters===!0&&(zs(So,Mb),zs(Kn,C_),zs(Kn,__)),xg.mathMl===!0&&(zs(So,yA),zs(Kn,mR),zs(Kn,__))),ft.ADD_TAGS&&(So===Jo&&(So=W0(So)),zs(So,ft.ADD_TAGS,Sl)),ft.ADD_ATTR&&(Kn===gr&&(Kn=W0(Kn)),zs(Kn,ft.ADD_ATTR,Sl)),ft.ADD_URI_SAFE_ATTR&&zs(wg,ft.ADD_URI_SAFE_ATTR,Sl),ft.FORBID_CONTENTS&&(Nh===Fw&&(Nh=W0(Nh)),zs(Nh,ft.FORBID_CONTENTS,Sl)),Lw&&(So["#text"]=!0),Ih&&zs(So,["html","head","body"]),So.table&&(zs(So,["tbody"]),delete Wa.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');be=ft.TRUSTED_TYPES_POLICY,_e=be.createHTML("")}else be===void 0&&(be=function($n,mo){if(typeof $n!="object"||typeof $n.createPolicy!="function")return null;let nr=null;const Yr="data-tt-policy-suffix";mo&&mo.hasAttribute(Yr)&&(nr=mo.getAttribute(Yr));const ci="dompurify"+(nr?"#"+nr:"");try{return $n.createPolicy(ci,{createHTML:ri=>ri,createScriptURL:ri=>ri})}catch{return console.warn("TrustedTypes policy "+ci+" could not be created."),null}}(J,p)),be!==null&&typeof _e=="string"&&(_e=be.createHTML(""));cc&&cc(ft),f1=ft}},$M=zs({},["mi","mo","mn","ms","mtext"]),UM=zs({},["foreignobject","desc","title","annotation-xml"]),uo=zs({},["title","style","font","a","script"]),rv=zs({},T2);zs(rv,Mb),zs(rv,dR);const fk=zs({},yA);zs(fk,hF);const iv=function(ft){A2(u.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{ft.remove()}},ky=function(ft,$n){try{A2(u.removed,{attribute:$n.getAttributeNode(ft),from:$n})}catch{A2(u.removed,{attribute:null,from:$n})}if($n.removeAttribute(ft),ft==="is"&&!Kn[ft])if(yg||c1)try{iv($n)}catch{}else try{$n.setAttribute(ft,"")}catch{}},gO=function(ft){let $n,mo;if(ov)ft="<remove></remove>"+ft;else{const ci=mF(ft,/^[\r\n\t ]+/);mo=ci&&ci[0]}Sy==="application/xhtml+xml"&&_y===Ph&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const nr=be?be.createHTML(ft):ft;if(_y===Ph)try{$n=new q().parseFromString(nr,Sy)}catch{}if(!$n||!$n.documentElement){$n=Ae.createDocument(_y,"template",null);try{$n.documentElement.innerHTML=mO?_e:nr}catch{}}const Yr=$n.body||$n.documentElement;return ft&&mo&&Yr.insertBefore(b.createTextNode(mo),Yr.childNodes[0]||null),_y===Ph?Et.call($n,Ih?"html":"body")[0]:Ih?$n.documentElement:Yr},hO=function(ft){return ze.call(ft.ownerDocument||ft,ft,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},pO=function(ft){return typeof E=="object"?ft instanceof E:ft&&typeof ft=="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},gd=function(ft,$n,mo){wt[ft]&&vA(wt[ft],nr=>{nr.call(u,$n,mo,f1)})},WM=function(ft){let $n;if(gd("beforeSanitizeElements",ft,null),(mo=ft)instanceof z&&(typeof mo.nodeName!="string"||typeof mo.textContent!="string"||typeof mo.removeChild!="function"||!(mo.attributes instanceof P)||typeof mo.removeAttribute!="function"||typeof mo.setAttribute!="function"||typeof mo.namespaceURI!="string"||typeof mo.insertBefore!="function"||typeof mo.hasChildNodes!="function"))return iv(ft),!0;var mo;const nr=Sl(ft.nodeName);if(gd("uponSanitizeElement",ft,{tagName:nr,allowedTags:So}),ft.hasChildNodes()&&!pO(ft.firstElementChild)&&(!pO(ft.content)||!pO(ft.content.firstElementChild))&&Cu(/<[/\w]/g,ft.innerHTML)&&Cu(/<[/\w]/g,ft.textContent))return iv(ft),!0;if(!So[nr]||Wa[nr]){if(!Wa[nr]&&ZM(nr)&&(Ls.tagNameCheck instanceof RegExp&&Cu(Ls.tagNameCheck,nr)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(nr)))return!1;if(Lw&&!Nh[nr]){const Yr=de(ft)||ft.parentNode,ci=fe(ft)||ft.childNodes;if(ci&&Yr)for(let ri=ci.length-1;ri>=0;--ri)Yr.insertBefore(me(ci[ri],!0),Ce(ft))}return iv(ft),!0}return ft instanceof D&&!function(Yr){let ci=de(Yr);ci&&ci.tagName||(ci={namespaceURI:_y,tagName:"template"});const ri=b_(Yr.tagName),ki=b_(ci.tagName);return!!uk[Yr.namespaceURI]&&(Yr.namespaceURI===ck?ci.namespaceURI===Ph?ri==="svg":ci.namespaceURI===d1?ri==="svg"&&(ki==="annotation-xml"||$M[ki]):!!rv[ri]:Yr.namespaceURI===d1?ci.namespaceURI===Ph?ri==="math":ci.namespaceURI===ck?ri==="math"&&UM[ki]:!!fk[ri]:Yr.namespaceURI===Ph?!(ci.namespaceURI===ck&&!UM[ki])&&!(ci.namespaceURI===d1&&!$M[ki])&&!fk[ri]&&(uo[ri]||!rv[ri]):!(Sy!=="application/xhtml+xml"||!uk[Yr.namespaceURI]))}(ft)?(iv(ft),!0):nr!=="noscript"&&nr!=="noembed"&&nr!=="noframes"||!Cu(/<\/no(script|embed|frames)/i,ft.innerHTML)?(nv&&ft.nodeType===3&&($n=ft.textContent,$n=dn($n,Ht," "),$n=dn($n,mn," "),$n=dn($n,kn," "),ft.textContent!==$n&&(A2(u.removed,{element:ft.cloneNode()}),ft.textContent=$n)),gd("afterSanitizeElements",ft,null),!1):(iv(ft),!0)},vO=function(ft,$n,mo){if(Cy&&($n==="id"||$n==="name")&&(mo in b||mo in I9))return!1;if(!(Bi&&!Za[$n]&&Cu(Hn,$n))){if(!(Yi&&Cu(io,$n))){if(!Kn[$n]||Za[$n]){if(!(ZM(ft)&&(Ls.tagNameCheck instanceof RegExp&&Cu(Ls.tagNameCheck,ft)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(ft))&&(Ls.attributeNameCheck instanceof RegExp&&Cu(Ls.attributeNameCheck,$n)||Ls.attributeNameCheck instanceof Function&&Ls.attributeNameCheck($n))||$n==="is"&&Ls.allowCustomizedBuiltInElements&&(Ls.tagNameCheck instanceof RegExp&&Cu(Ls.tagNameCheck,mo)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(mo))))return!1}else if(!wg[$n]){if(!Cu(mr,dn(mo,tr,""))){if(($n!=="src"&&$n!=="xlink:href"&&$n!=="href"||ft==="script"||Pb(mo,"data:")!==0||!Vw[ft])&&!(Rh&&!Cu(Fo,dn(mo,tr,"")))){if(mo)return!1}}}}}return!0},ZM=function(ft){return ft.indexOf("-")>0},jM=function(ft){let $n,mo,nr,Yr;gd("beforeSanitizeAttributes",ft,null);const{attributes:ci}=ft;if(!ci)return;const ri={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Kn};for(Yr=ci.length;Yr--;){$n=ci[Yr];const{name:ki,namespaceURI:Ey}=$n;mo=ki==="value"?$n.value:gF($n.value);const P9=mo;if(nr=Sl(ki),ri.attrName=nr,ri.attrValue=mo,ri.keepAttr=!0,ri.forceKeepAttr=void 0,gd("uponSanitizeAttribute",ft,ri),mo=ri.attrValue,ri.forceKeepAttr)continue;if(!ri.keepAttr){ky(ki,ft);continue}if(!wy&&Cu(/\/>/i,mo)){ky(ki,ft);continue}nv&&(mo=dn(mo,Ht," "),mo=dn(mo,mn," "),mo=dn(mo,kn," "));const KM=Sl(ft.nodeName);if(vO(KM,nr,mo)){if(!lk||nr!=="id"&&nr!=="name"||(ky(ki,ft),mo="user-content-"+mo),be&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!Ey)switch(J.getAttributeType(KM,nr)){case"TrustedHTML":mo=be.createHTML(mo);break;case"TrustedScriptURL":mo=be.createScriptURL(mo)}if(mo!==P9)try{Ey?ft.setAttributeNS(Ey,ki,mo):ft.setAttribute(ki,mo)}catch{ky(ki,ft)}}else ky(ki,ft)}gd("afterSanitizeAttributes",ft,null)},N9=function ft($n){let mo;const nr=hO($n);for(gd("beforeSanitizeShadowDOM",$n,null);mo=nr.nextNode();)gd("uponSanitizeShadowNode",mo,null),WM(mo)||(mo.content instanceof w&&ft(mo.content),jM(mo));gd("afterSanitizeShadowDOM",$n,null)};return u.sanitize=function(ft){let $n,mo,nr,Yr,ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mO=!ft,mO&&(ft="<!-->"),typeof ft!="string"&&!pO(ft)){if(typeof ft.toString!="function")throw Pp("toString is not a function");if(typeof(ft=ft.toString())!="string")throw Pp("dirty is not a string, aborting")}if(!u.isSupported)return ft;if(Bw||dk(ci),u.removed=[],typeof ft=="string"&&(sv=!1),sv){if(ft.nodeName){const Ey=Sl(ft.nodeName);if(!So[Ey]||Wa[Ey])throw Pp("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof E)$n=gO("<!---->"),mo=$n.ownerDocument.importNode(ft,!0),mo.nodeType===1&&mo.nodeName==="BODY"||mo.nodeName==="HTML"?$n=mo:$n.appendChild(mo);else{if(!yg&&!nv&&!Ih&&ft.indexOf("<")===-1)return be&&u1?be.createHTML(ft):ft;if($n=gO(ft),!$n)return yg?null:u1?_e:""}$n&&ov&&iv($n.firstChild);const ri=hO(sv?ft:$n);for(;nr=ri.nextNode();)WM(nr)||(nr.content instanceof w&&N9(nr.content),jM(nr));if(sv)return ft;if(yg){if(c1)for(Yr=ot.call($n.ownerDocument);$n.firstChild;)Yr.appendChild($n.firstChild);else Yr=$n;return(Kn.shadowroot||Kn.shadowrootmode)&&(Yr=_t.call(f,Yr,!0)),Yr}let ki=Ih?$n.outerHTML:$n.innerHTML;return Ih&&So["!doctype"]&&$n.ownerDocument&&$n.ownerDocument.doctype&&$n.ownerDocument.doctype.name&&Cu(sg,$n.ownerDocument.doctype.name)&&(ki="<!DOCTYPE "+$n.ownerDocument.doctype.name+`>
`+ki),nv&&(ki=dn(ki,Ht," "),ki=dn(ki,mn," "),ki=dn(ki,kn," ")),be&&u1?be.createHTML(ki):ki},u.setConfig=function(ft){dk(ft),Bw=!0},u.clearConfig=function(){f1=null,Bw=!1},u.isValidAttribute=function(ft,$n,mo){f1||dk({});const nr=Sl(ft),Yr=Sl($n);return vO(nr,Yr,mo)},u.addHook=function(ft,$n){typeof $n=="function"&&(wt[ft]=wt[ft]||[],A2(wt[ft],$n))},u.removeHook=function(ft){if(wt[ft])return fF(wt[ft])},u.removeHooks=function(ft){wt[ft]&&(wt[ft]=[])},u.removeAllHooks=function(){wt={}},u}();const hR=s=>SF().sanitize(s);var od=tinymce.util.Tools.resolve("tinymce.util.I18n");const kF={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pR="temporary-placeholder",wA=s=>()=>hn(s,pR).getOr("!not found!"),Mp=(s,a)=>{const u=s.toLowerCase();if(od.isRtl()){const f=((p,b)=>Pu(p,b)?p:((w,k)=>w+k)(p,b))(u,"-rtl");return Eo(a,f)?f:u}return u},D2=(s,a)=>hn(a,Mp(s,a)),vR=(s,a)=>{const u=a();return D2(s,u).getOrThunk(wA(u))},S_=()=>Co("add-focusable",[sr(s=>{d0(s.element,"svg").each(a=>sn(a,"focusable","false"))})]),bR=(s,a,u,f)=>{var p,b;const w=(E=>!!od.isRtl()&&Eo(kF,E))(a)?["tox-icon--flip"]:[],k=hn(u,Mp(a,u)).or(f).getOrThunk(wA(u));return{dom:{tag:s.tag,attributes:(p=s.attributes)!==null&&p!==void 0?p:{},classes:s.classes.concat(w),innerHtml:k},behaviours:Zt([...(b=s.behaviours)!==null&&b!==void 0?b:[],S_()])}},Wc=(s,a,u,f=O.none())=>bR(a,s,u(),f),EF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},CA=bu({name:"Notification",factory:s=>{const a=bn("notification-text"),u=Cs({dom:og(`<p id=${a}>${hR(s.backstageProvider.translate(s.text))}</p>`),behaviours:Zt([qn.config({})])}),f=P=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${P}%`}}}),p=P=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${P}%`}}),b=Cs({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},p(0)],behaviours:Zt([qn.config({})])}),w={updateProgress:(P,z)=>{P.getSystem().isConnected()&&b.getOpt(P).each(q=>{qn.set(q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(z)]},p(z)])})},updateText:(P,z)=>{if(P.getSystem().isConnected()){const q=u.get(P);qn.set(q,[Fr(z)])}}},k=eo([s.icon.toArray(),s.level.toArray(),s.level.bind(P=>O.from(EF[P])).toArray()]),E=Cs(Ua.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[Wc("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Zt([Zs.config({}),si.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:P=>{s.onAction(P)}})),D=((P,z,q)=>{const J=q(),ue=Q(P,me=>Eo(J,Mp(me,J)));return bR({tag:"div",classes:["tox-notification__icon"]},ue.getOr(pR),J,O.none())})(k,0,s.iconProvider),F=[D,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:Zt([qn.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:s.level.map(P=>["tox-notification","tox-notification--in",`tox-notification--${P}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([Zs.config({}),no.config({}),Nn.config({mode:"special",onEscape:P=>(s.onAction(P),O.some(!0))})]),components:F.concat(s.progress?[b.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Ko("level"),Dt("progress"),Ko("icon"),Dt("onAction"),Dt("text"),Dt("iconProvider"),Dt("backstageProvider")],apis:{updateProgress:(s,a,u)=>{s.updateProgress(a,u)},updateText:(s,a,u)=>{s.updateText(a,u)}}});var yR=(s,a,u,f)=>{const p=a.backstage.shared,b=()=>rn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),w=()=>{const E=ai(b());return O.some(E)},k=E=>{w().each(D=>{Mt(E,F=>{ws(F.element,"width"),Oi(F.element)>D.width&&co(F.element,"width",D.width+"px")})})};return{open:(E,D,F)=>{const P=()=>{f.on(J=>{D();const ue=F();(me=>{qn.remove(me,z),q()})(J),((me,Ce)=>{Ns(me.element).length===0?((fe,de)=>{vr.hide(fe),f.clear(),de&&s.focus()})(me,Ce):((fe,de)=>{de&&Nn.focusIn(fe)})(me,Ce)})(J,ue)})},z=Ki(CA.sketch({text:E.text,level:et(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:P,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(f.isSet()){const J=nl(z);f.on(ue=>{qn.append(ue,J),vr.reposition(ue),dr.refresh(ue),k(ue.components())})}else{const J=Ki(vr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Nn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),qn.config({}),...vh(s)&&!p.header.isPositionedAtTop()?[]:[dr.config({contextual:{lazyContext:()=>O.some(ai(b())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:fe=>Ip(s,fe.element).map(de=>({bounds:Np(de),optScrollEnv:O.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:Nl(de.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]])})),ue=nl(z),me={maxHeightFunction:lh()},Ce={...p.anchors.banner(),overrides:me};f.set(J),u.add(J),vr.showWithinBounds(J,ue,{anchor:Ce},w)}ne(E.timeout)&&E.timeout>0&&r_.setEditorTimeout(s,()=>{P()},E.timeout);const q=()=>{f.on(J=>{vr.reposition(J),dr.refresh(J),k(J.components())})};return{close:P,reposition:q,text:J=>{CA.updateText(z,J)},settings:E,getEl:()=>z.element.dom,progressBar:{value:J=>{CA.updateProgress(z,J)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},R2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(R2||(R2={}));var Xf=R2;const k_="tox-menu-nav__js",E_="tox-collection__item",xR="tox-swatch",wR={normal:k_,color:xR},CR="tox-collection__item--enabled",_R="tox-collection__item-icon",I2="tox-collection__item-label",_A="tox-collection__item-caret",rg="tox-collection__item--active",N2="tox-collection__item-container",P2="tox-collection__item-container--row",Bp=s=>hn(wR,s).getOr(k_),xW=s=>s==="color"?"tox-swatches":"tox-menu",SA=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:xW(s),tieredMenu:"tox-tiered-menu"}),Bb=s=>{const a=SA(s);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:Bp(s)}},SR=(s,a,u)=>{const f=SA(u);return{tag:"div",classes:eo([[f.menu,`tox-menu-${a}-column`],s?[f.hasIcons]:[]])}},kR=[Db.parts.items({})],A_=(s,a,u)=>{const f=SA(u);return{dom:{tag:"div",classes:eo([[f.tieredMenu]])},markers:Bb(u)}},AF=K([Ko("data"),it("inputAttributes",{}),it("inputStyles",{}),it("tag","input"),it("inputClasses",[]),Xo("onSetValue"),it("styles",{}),it("eventOrder",{}),yn("inputBehaviours",[lt,no]),it("selectOnFocus",!0)]),TF=s=>Zt([no.config({onFocus:s.selectOnFocus?a=>{const u=a.element,f=If(u);u.dom.setSelectionRange(0,f.length)}:le})]),OF=s=>({...TF(s),...yo(s.inputBehaviours,[lt.config({store:{mode:"manual",...s.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>If(a.element),setValue:(a,u)=>{If(a.element)!==u&&zm(a.element,u)}},onSetValue:s.onSetValue})])}),ER=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),yh=bu({name:"Input",configFields:AF(),factory:(s,a)=>({uid:s.uid,dom:ER(s),components:[],behaviours:OF(s),eventOrder:s.eventOrder})}),AR=bn("refetch-trigger-event"),TR=bn("redirect-menu-item-interaction"),OR="tox-menu__searcher",M2=s=>fr(s.element,`.${OR}`).bind(a=>s.getSystem().getByDom(a).toOptional()),DR=M2,RR=s=>({fetchPattern:lt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),IR=s=>{const a=(p,b)=>(b.cut(),O.none()),u=(p,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Rn(p,TR,w),O.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[E_]},components:[yh.sketch({inputClasses:[OR,"tox-textfield"],inputAttributes:{...s.placeholder.map(p=>({placeholder:s.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Zt([Co(f,[St(Im(),p=>{ko(p,AR)}),St(Sr(),(p,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Nn.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[f,Nn.name()]}})]}},B2="tox-collection--results__js",NR=s=>{var a;return s.dom?{...s,dom:{...s.dom,attributes:{...(a=s.dom.attributes)!==null&&a!==void 0?a:{},id:bn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},T_=(s,a)=>u=>{const f=tt(u,a);return Ye(f,p=>({dom:s,components:p}))},PR=(s,a)=>{const u=[];let f=[];return Mt(s,(p,b)=>{a(p,b)?(f.length>0&&u.push(f),f=[],(Eo(p.dom,"innerHtml")||p.components&&p.components.length>0)&&f.push(p)):f.push(p)}),f.length>0&&u.push(f),Ye(u,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},L2=(s,a,u)=>Db.parts.items({preprocess:f=>{const p=Ye(f,u);return s!=="auto"&&s>1?T_({tag:"div",classes:["tox-collection__group"]},s)(p):PR(p,(b,w)=>a[w].type==="separator")}}),kA=(s,a,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[L2(s,a,ye)]}),F2=s=>pt(s,a=>"icon"in a&&a.icon!==void 0),ig=s=>(console.error(Qa(s)),console.log(s),O.none()),DF=(s,a,u,f,p)=>{const b=(w=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Db.parts.items({preprocess:k=>PR(k,(E,D)=>w[D].type==="separator")})]});var w;return{value:s,dom:b.dom,components:b.components,items:u}},EA=(s,a,u,f,p)=>{if(p.menuType==="color"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Db.parts.items({preprocess:w!=="auto"?T_({tag:"div",classes:["tox-swatches__row"]},w):ye})]}]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"&&f==="auto"){const b=kA(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"||p.menuType==="searchable"){const b=p.menuType!=="searchable"?kA(f,u):p.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[IR({i18n:od.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],B2],attributes:{id:D}},components:[L2(w,k,NR)]}]}})(f,u,p.searchMode):((w,k,E=!0)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",B2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:D}},components:[L2(w,k,NR)]}})(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="listpreview"&&f!=="auto"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Db.parts.items({preprocess:T_({tag:"div",classes:["tox-collection__group"]},w)})]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}return{value:s,dom:SR(a,f,p.menuType),components:kR,items:u}},bi=_r("type"),AA=_r("name"),TA=_r("label"),sd=_r("text"),OA=_r("title"),DA=_r("icon"),Lb=_r("value"),RF=La("fetch"),MR=La("getSubmenuItems"),Z0=La("onAction"),BR=La("onItemAction"),Lp=Qs("onSetup",()=>le),IF=Lr("name"),Fp=Lr("text"),NF=Lr("role"),rd=Lr("icon"),V2=Lr("tooltip"),RA=Lr("label"),j0=Lr("shortcut"),IA=iu("select"),O_=ti("active",!1),wW=ti("borderless",!1),id=ti("enabled",!0),D_=ti("primary",!1),LR=s=>it("columns",s),Zc=it("meta",{}),NA=Qs("onAction",le),Fb=s=>Zl("type",s),PA=s=>li("name","name",Hg(()=>bn(`${s}-name`)),Ci),FR=Wn([bi,Fp]),PF=Wn([Fb("autocompleteitem"),O_,id,Zc,Lb,Fp,rd]),ag=[id,V2,rd,Fp,Lp],MA=Wn([bi,Z0,j0].concat(ag)),VR=s=>Cr("toolbarbutton",MA,s),z2=[O_].concat(ag),R_=Wn(z2.concat([bi,Z0,j0])),I_=s=>Cr("ToggleButton",R_,s),zR=[Qs("predicate",Ee),Tc("scope","node",["node","editor"]),Tc("position","selection",["node","selection","line"])],MF=ag.concat([Fb("contextformbutton"),D_,Z0,Wi("original",ye)]),BF=z2.concat([Fb("contextformbutton"),D_,Z0,Wi("original",ye)]),LF=ag.concat([Fb("contextformbutton")]),FF=z2.concat([Fb("contextformtogglebutton")]),VF=hi("type",{contextformbutton:MF,contextformtogglebutton:BF}),zF=Wn([Fb("contextform"),Qs("initValue",K("")),RA,el("commands",VF),Ur("launch",hi("type",{contextformbutton:LF,contextformtogglebutton:FF}))].concat(zR)),HR=Wn([Fb("contexttoolbar"),_r("items")].concat(zR)),N_=[bi,_r("src"),Lr("alt"),Ds("classes",[],Ci)],HF=Wn(N_),$F=[bi,sd,IF,Ds("classes",["tox-collection__item-label"],Ci)],UF=Wn($F),$R=Am(()=>ju("type",{cardimage:HF,cardtext:UF,cardcontainer:K0})),K0=Wn([bi,Zl("direction","horizontal"),Zl("align","left"),Zl("valign","middle"),el("items",$R)]),Vb=[id,Fp,NF,j0,li("value","value",Hg(()=>bn("menuitem-value")),Ml()),Zc],WF=Wn([bi,RA,el("items",$R),Lp,NA].concat(Vb)),BA=Wn([bi,O_,rd].concat(Vb)),UR=[bi,_r("fancytype"),NA],WR=[it("initData",{})].concat(UR),ZR=[iu("select"),Va("initData",{},[ti("allowCustomColors",!0),Zl("storageKey","default"),W1("colors",Ml())])].concat(UR),jR=hi("fancytype",{inserttable:WR,colorswatch:ZR}),KR=Wn([bi,Lp,NA,rd].concat(Vb)),GR=Wn([bi,MR,Lp,rd].concat(Vb)),ZF=Wn([bi,rd,O_,Lp,Z0].concat(Vb)),LA=(s,a,u)=>{const f=Si(s.element,"."+u);if(f.length>0){const p=xs(f,b=>{const w=b.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(f.length);return O.some({numColumns:p,numRows:Math.ceil(f.length/p)})}return O.none()},H2=s=>((a,u)=>Zt([Co(a,u)]))(bn("unnamed-events"),s),P_="silver.readonly",jF=Wn([Zi("readonly",oc)]),zb=(s,a)=>{const u=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];a&&Mt(f,p=>{p.broadcastOn([B()],{target:u})}),Mt(f,p=>{p.broadcastOn([P_],{readonly:a})})},qR=(s,a)=>{s.on("init",()=>{s.mode.isReadOnly()&&zb(a,!0)}),s.on("SwitchMode",()=>zb(a,s.mode.isReadOnly())),rA(s)&&s.mode.set("readonly")},Pi=()=>yl.config({channels:{[P_]:{schema:jF,onReceive:(s,a)=>{ro.set(s,a.readonly)}}}}),Da=s=>ro.config({disabled:s}),YR=s=>ro.config({disabled:s,disableClass:"tox-tbtn--disabled"}),M_=s=>ro.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),$2=(s,a)=>{const u=s.getApi(a);return f=>{f(u)}},Vp=(s,a)=>sr(u=>{$2(s,u)(f=>{const p=s.onSetup(f);X(p)&&a.set(p)})}),xh=(s,a)=>Yu(u=>$2(s,u)(a.get())),XR=(s,a)=>uu((u,f)=>{$2(s,u)(s.onAction),s.triggersSubmenu||a!==Xf.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&ko(u,Mv()),f.stop())}),KF={[pl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},G0=ea,q0=(s,a,u,f)=>{const p=Bn(le);return{type:"item",dom:a.dom,components:G0(a.optComponents),data:s.data,eventOrder:KF,hasSubmenu:s.triggersSubmenu,itemBehaviours:Zt([Co("item-events",[XR(s,u),Vp(s,p),xh(s,p)]),(b=()=>!s.enabled||f.isDisabled(),ro.config({disabled:b,disableClass:"tox-collection__item--state-disabled"})),Pi(),qn.config({})].concat(s.itemBehaviours))};var b},Y0=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),B_=s=>{const a=Gf.os.isMacOS()||Gf.os.isiOS(),u=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),p=Ye(f,b=>{const w=b.toLowerCase().trim();return Eo(u,w)?u[w]:b});return a?p.join(""):p.join("+")},FA=(s,a,u=[_R])=>Wc(s,{tag:"div",classes:u},a),JR=s=>({dom:{tag:"div",classes:[I2]},components:[Fr(od.translate(s))]}),VA=(s,a)=>({dom:{tag:"div",classes:a,innerHtml:s}}),QR=(s,a)=>({dom:{tag:"div",classes:[I2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Fr(od.translate(a))]}]}),eI=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Fr(B_(s))]}),tI=s=>FA("checkmark",s,["tox-collection__item-checkmark"]),nI=s=>{const a=s.map(u=>({attributes:{id:bn("menu-item"),"aria-label":od.translate(u)}})).getOr({});return{tag:"div",classes:[k_,E_],...a}},U2=(s,a,u,f=O.none())=>s.presets==="color"?((p,b,w)=>{const k=p.value,E=p.iconContent.map(F=>((P,z,q)=>{const J=z();return D2(P,J).or(q).getOrThunk(wA(J))})(F,b.icons,w)),D=p.ariaLabel.map(F=>({"aria-label":b.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=xR,P=E.getOr(""),z={tag:"div",attributes:D,classes:[F]};return k==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:P}:k==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:P}:G(k)?{...z,attributes:{...z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:P}:z})(),optComponents:[]}})(s,a,f):((p,b,w,k)=>{const E={tag:"div",classes:[_R]},D=w?p.iconContent.map(q=>Wc(q,E,b.icons,k)).orThunk(()=>O.some({dom:E})):O.none(),F=p.checkMark,P=O.from(p.meta).fold(()=>JR,q=>Eo(q,"style")?Ue(QR,q.style):JR),z=p.htmlContent.fold(()=>p.textContent.map(P),q=>O.some(VA(q,[I2])));return{dom:nI(p.ariaLabel),optComponents:[D,z,p.shortcutContent.map(eI),F,p.caret]}})(s,a,u,f),oI=(s,a,u)=>hn(s,"tooltipWorker").map(f=>[si.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:lh}}),mode:"follow-highlight",onShow:(p,b)=>{f(w=>{si.setComponents(p,[Nf({element:rn(w)})])})}})]).getOrThunk(()=>u.map(f=>[si.config({...a.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),zA=(s,a)=>{const u=(f=>V0.DOM.encode(f))(od.translate(s));if(a.length>0){const f=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return u.replace(f,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return u},HA=(s,a)=>Ye(s,u=>{switch(u.type){case"cardcontainer":return((b,w)=>{const k=b.direction==="vertical"?"tox-collection__item-container--column":P2,E=b.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[N2,k,E,(()=>{switch(b.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(u,HA(u.items,a));case"cardimage":return((b,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:b,alt:k.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const f=u.name.exists(b=>et(a.cardText.highlightOn,b)),p=f?O.from(a.cardText.matchText).getOr(""):"";return VA(zA(u.text,p),u.classes)}}),wh=rl(nA(),oA()),$A=s=>({value:Hb(s)}),UA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,WA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sI=s=>UA.test(s)||WA.test(s),Hb=s=>$s(s,"#").toUpperCase(),ZA=s=>{const a=s.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},W2=s=>{const a=ZA(s.red)+ZA(s.green)+ZA(s.blue);return $A(a)},jA=Math.min,rI=Math.max,L_=Math.round,GF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,iI=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ch=(s,a,u,f)=>({red:s,green:a,blue:u,alpha:f}),Z2=s=>{const a=parseInt(s,10);return a.toString()===s&&a>=0&&a<=255},aI=s=>{let a,u,f;const p=(s.hue||0)%360;let b=s.saturation/100,w=s.value/100;if(b=rI(0,jA(b,1)),w=rI(0,jA(w,1)),b===0)return a=u=f=L_(255*w),Ch(a,u,f,1);const k=p/60,E=w*b,D=E*(1-Math.abs(k%2-1)),F=w-E;switch(Math.floor(k)){case 0:a=E,u=D,f=0;break;case 1:a=D,u=E,f=0;break;case 2:a=0,u=E,f=D;break;case 3:a=0,u=D,f=E;break;case 4:a=D,u=0,f=E;break;case 5:a=E,u=0,f=D;break;default:a=u=f=0}return a=L_(255*(a+F)),u=L_(255*(u+F)),f=L_(255*(f+F)),Ch(a,u,f,1)},qd=s=>{const a=(b=>{const w=(E=>({value:E.value.replace(UA,(F,P,z,q)=>P+P+z+z+q+q)}))(b),k=WA.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),u=parseInt(a[1],16),f=parseInt(a[2],16),p=parseInt(a[3],16);return Ch(u,f,p,1)},KA=(s,a,u,f)=>{const p=parseInt(s,10),b=parseInt(a,10),w=parseInt(u,10),k=parseFloat(f);return Ch(p,b,w,k)},F_=s=>{const a=GF.exec(s);if(a!==null)return O.some(KA(a[1],a[2],a[3],"1"));const u=iI.exec(s);return u!==null?O.some(KA(u[1],u[2],u[3],u[4])):O.none()},lI=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,cI=Ch(255,0,0,1),$b=(s,a)=>{s.dispatch("ResizeContent",a)},X0=(s,a)=>{s.dispatch("TextColorChange",a)},uI=(s,a)=>s.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),J0=(s,a)=>()=>{s(),a()},Mi=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.selection.isEditable())}),Jf=(s,a)=>u=>{const f=Mi(s)(u),p=((b,w)=>k=>{const E=Ec(),D=()=>{k.setActive(b.formatter.match(w));const F=b.formatter.formatChanged(w,k.setActive);E.set(F)};return b.initialized?D():b.once("init",D),()=>{b.off("init",D),E.clear()}})(s,a)(u);return()=>{f(),p()}},Ub=(s,a,u)=>f=>{const p=()=>u(f),b=()=>{u(f),s.on(a,p)};return s.initialized?b():s.once("init",b),()=>{s.off("init",b),s.off(a,p)}},dI=s=>a=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,a.format)})},uc=(s,a)=>()=>s.execCommand(a);var jc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const V_={},fI=s=>hn(V_,s).getOrThunk(()=>{const a=`tinymce-custom-colors-${s}`,u=jc.getItem(a);if($(u)){const p=jc.getItem("tinymce-custom-colors");jc.setItem(a,G(p)?p:"[]")}const f=((p,b=10)=>{const w=jc.getItem(p),k=v(w)?JSON.parse(w):[],E=b-(D=k).length<0?D.slice(0,b):D;var D;const F=P=>{E.splice(P,1)};return{add:P=>{((z,q)=>{const J=Jt(z,q);return J===-1?O.none():O.some(J)})(E,P).each(F),E.unshift(P),E.length>b&&E.pop(),jc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return V_[s]=f,f}),GA=(s,a)=>{fI(s).add(a)},Q0=(s,a,u)=>({hue:s,saturation:a,value:u}),z_=s=>{let a=0,u=0,f=0;const p=s.red/255,b=s.green/255,w=s.blue/255,k=Math.min(p,Math.min(b,w)),E=Math.max(p,Math.max(b,w));return k===E?(f=k,Q0(0,0,100*f)):(a=p===k?3:w===k?1:5,a=60*(a-(p===k?b-w:w===k?p-b:w-p)/(E-k)),u=(E-k)/E,f=E,Q0(Math.round(a),Math.round(100*u),Math.round(100*f)))},H_=s=>W2(aI(s)),mI=s=>{return(a=s,sI(a)?O.some({value:Hb(a)}):O.none()).orThunk(()=>F_(s).map(W2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const f=u.getContext("2d");f.clearRect(0,0,u.width,u.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const p=f.getImageData(0,0,1,1).data,b=p[0],w=p[1],k=p[2],E=p[3];return W2(Ch(b,w,k,E))});var a},qA="forecolor",YA="hilitecolor",qF=s=>{const a=[];for(let u=0;u<s.length;u+=2)a.push({text:s[u+1],value:"#"+mI(s[u]).value,icon:"checkmark",type:"choiceitem"});return a},ad=s=>a=>a.options.get(s),j2="#000000",Wb=(s,a)=>a===qA&&s.options.isSet("color_map_foreground")?ad("color_map_foreground")(s):a===YA&&s.options.isSet("color_map_background")?ad("color_map_background")(s):ad("color_map")(s),$_=(s,a="default")=>Math.max(5,Math.ceil(Math.sqrt(Wb(s,a).length))),gI=(s,a)=>{const u=ad("color_cols")(s),f=$_(s,a);return u===$_(s)?f:u},XA=(s,a="default")=>Math.round(a===qA?ad("color_cols_foreground")(s):a===YA?ad("color_cols_background")(s):ad("color_cols")(s)),JA=ad("custom_colors"),hI=ad("color_default_foreground"),pI=ad("color_default_background"),vI=(s,a)=>{const u=rn(s.selection.getStart()),f=a==="hilitecolor"?Wg(u,p=>{if(lr(p)){const b=wr(p,"background-color");return rs(F_(b).exists(w=>w.alpha!==0),b)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):wr(u,"color");return F_(f).map(p=>"#"+W2(p).value)},U_=s=>{const a="choiceitem",u={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[u,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},QA=(s,a,u,f)=>{u==="custom"?xI(s)(p=>{p.each(b=>{GA(a,b),s.execCommand("mceApplyTextcolor",a,b),f(b)})},vI(s,a).getOr(j2)):u==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",a)):(f(u),s.execCommand("mceApplyTextcolor",a,u))},e3=(s,a,u)=>s.concat((f=>Ye(fI(f).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat(U_(u))),bI=(s,a,u)=>f=>{f(e3(s,a,u))},t3=(s,a,u)=>{const f=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,u)},n3=(s,a)=>{s.setTooltip(a)},yI=(s,a)=>u=>{const f=vI(s,a);return or(f,u.toUpperCase())},o3=(s,a,u)=>{if(Mu(u))return a==="forecolor"?"Text color":"Background color";const f=a==="forecolor"?"Text color {0}":"Background color {0}",p=e3(Wb(s,a),a,!1),b=Q(p,w=>w.value===u).getOr({text:""}).text;return s.translate([f,s.translate(b)])},s3=(s,a,u,f)=>{s.ui.registry.addSplitButton(a,{tooltip:o3(s,u,f.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:yI(s,u),columns:XA(s,u),fetch:bI(Wb(s,u),u,JA(s)),onAction:p=>{QA(s,u,f.get(),le)},onItemAction:(p,b)=>{QA(s,u,b,w=>{f.set(w),X0(s,{name:a,color:w})})},onSetup:p=>{t3(p,a,f.get());const b=w=>{w.name===a&&(t3(p,w.name,w.color),n3(p,o3(s,u,w.color)))};return s.on("TextColorChange",b),J0(Mi(s)(p),()=>{s.off("TextColorChange",b)})}})},ey=(s,a,u,f,p)=>{s.ui.registry.addNestedMenuItem(a,{text:f,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(n3(b,o3(s,u,p.get())),t3(b,a,p.get()),Mi(s)(b)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:yI(s,u),initData:{storageKey:u},onAction:b=>{QA(s,u,b.value,w=>{p.set(w),X0(s,{name:a,color:w})})}}]})},xI=s=>(a,u)=>{let f=!1;const p={colorpicker:u};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(b,w)=>{w.name==="hex-valid"&&(f=w.value)},onSubmit:b=>{const w=b.getData().colorpicker;f?(a(O.from(w)),b.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",w]))},onClose:le,onCancel:()=>{a(O.none())}})},Zb=(s,a,u,f,p,b,w,k)=>{const E=F2(a),D=r3(a,u,f,p!=="color"?"normal":"color",b,w,k);return EA(s,E,D,f,{menuType:p})},r3=(s,a,u,f,p,b,w)=>ea(Ye(s,k=>{return k.type==="choiceitem"?(E=k,Cr("choicemenuitem",BA,E)).fold(ig,D=>O.some(((F,P,z,q,J,ue,me,Ce=!0)=>{const fe=U2({presets:z,textContent:P?F.text:O.none(),htmlContent:O.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:P?F.shortcut:O.none(),checkMark:P?O.some(tI(me.icons)):O.none(),caret:O.none(),value:F.value},me,Ce),de=F.text.filter(K(!P)).map(be=>si.config(me.tooltips.getConfig({tooltipText:me.translate(be)})));return Ps(q0({data:Y0(F),enabled:F.enabled,getApi:be=>({setActive:_e=>{Qn.set(be,_e)},isActive:()=>Qn.isOn(be),isEnabled:()=>!ro.isDisabled(be),setEnabled:_e=>ro.set(be,!_e)}),onAction:be=>q(F.value),onSetup:be=>(be.setActive(J),le),triggersSubmenu:!1,itemBehaviours:[...de.toArray()]},fe,ue,me),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(D,u===1,f,a,b(D.value),p,w,F2(s)))):O.none();var E})),K2=(s,a)=>{const u=Bb(a);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>a==="color"?fr(f.element,"[aria-checked=true]"):O.none()}},i3=bn("cell-over"),wI=bn("cell-execute"),YF=(s,a,u)=>{const f=b=>Rn(b,wI,{row:s,col:a}),p=(b,w)=>{w.stop(),f(b)};return Ki({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:Zt([Co("insert-table-picker-cell",[St(Tn(),no.focus),St(pl(),f),St(pi(),p),St(_f(),p)]),Qn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),no.config({onFocus:b=>Rn(b,i3,{row:s,col:a})})])})},CI=s=>tn(s,a=>Ye(a,nl)),_I=(s,a)=>Fr(`${a}x${s}`),SI={inserttable:(s,a)=>{const u=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),f=((w,k,E)=>{const D=[];for(let F=0;F<10;F++){const P=[];for(let z=0;z<10;z++){const q=w(F+1,z+1);P.push(YF(F,z,q))}D.push(P)}return D})(u),p=_I(0,0),b=Cs({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Zt([qn.config({})])});return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CI(f).concat(b.asSpec()),behaviours:Zt([Co("insert-table-picker",[sr(w=>{qn.set(b.get(w),[p])}),jg(i3,(w,k,E)=>{const{row:D,col:F}=E.event;((P,z,q,J,ue)=>{for(let me=0;me<10;me++)for(let Ce=0;Ce<10;Ce++)Qn.set(P[me][Ce],me<=z&&Ce<=q)})(f,D,F),qn.set(b.get(w),[_I(D+1,F+1)])}),jg(wI,(w,k,E)=>{const{row:D,col:F}=E.event;ko(w,Mv()),s.onAction({numRows:D+1,numColumns:F+1})})]),Nn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,a)=>{const u=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>e3(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),D=>D.concat(U_(E)))})(s,a),f=a.colorinput.getColorCols(s.initData.storageKey),p="color",b={...Zb(bn("menu-value"),u,w=>{s.onAction({value:w})},f,p,Xf.CLOSE_ON_EXECUTE,s.select.getOr(Ee),a.shared.providers),markers:Bb(p),movement:K2(f,p),showMenuRole:!1};return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget(Db.sketch(b))]}}},kI=s=>({type:"separator",dom:{tag:"div",classes:[E_,"tox-collection__group-heading"]},components:s.text.map(Fr).toArray()});var XF=Object.freeze({__proto__:null,getCoupled:(s,a,u,f)=>u.getOrCreate(s,a,f),getExistingCoupled:(s,a,u,f)=>u.getExisting(s,a,f)}),EI=[Zi("others",Dv(Lo.value,Ml()))],W_=Object.freeze({__proto__:null,init:()=>{const s={},a=(f,p)=>{if(wn(f.others).length===0)throw new Error("Cannot find any known coupled components");return hn(s,p)},u=K({});return Ii({readState:u,getExisting:(f,p,b)=>a(p,b).orThunk(()=>(hn(p.others,b).getOrDie("No information found for coupled component: "+b),O.none())),getOrCreate:(f,p,b)=>a(p,b).getOrThunk(()=>{const w=hn(p.others,b).getOrDie("No information found for coupled component: "+b)(f),k=f.getSystem().build(w);return s[b]=k,k})})}});const Vr=Ni({fields:EI,name:"coupling",apis:XF,state:W_}),G2=s=>{let a=O.none(),u=[];const f=w=>{p()?b(w):u.push(w)},p=()=>a.isSome(),b=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return s(w=>{p()||(a=O.some(w),Mt(u,b),u=[])}),{get:f,map:w=>G2(k=>{f(E=>{k(w(E))})}),isReady:p}},JF={nu:G2,pure:s=>G2(a=>{a(s)})},QF=s=>{setTimeout(()=>{throw s},0)},ty=s=>{const a=u=>{s().then(u,QF)};return{map:u=>ty(()=>s().then(u)),bind:u=>ty(()=>s().then(f=>u(f).toPromise())),anonBind:u=>ty(()=>s().then(()=>u.toPromise())),toLazy:()=>JF.nu(a),toCached:()=>{let u=null;return ty(()=>(u===null&&(u=s()),u))},toPromise:s,get:a}},zp=s=>ty(()=>new Promise(s)),lg=s=>ty(()=>Promise.resolve(s)),a3=K("sink"),AI=K(vu({name:a3(),overrides:K({dom:{tag:"div"},behaviours:Zt([ga.config({useFixed:Le})]),events:fo([Pm(Sr()),Pm(Rt()),Pm(pi())])})})),TI=(s,a)=>{const u=s.getHotspot(a).getOr(a),f="hotspot",p=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:u,overrides:p}),b=>({type:f,hotspot:u,overrides:p,layouts:b}))},Z_=(s,a,u,f,p,b,w)=>((E,D,F,P,z,q,J)=>{const ue=((Ce,fe,de)=>(0,Ce.fetch)(de).map(fe))(E,D,P),me=OI(P,E);return ue.map(Ce=>Ce.bind(fe=>{const de=fe.menus[fe.primary];return O.from(de).each(be=>{E.listRole.each(_e=>{be.role=_e})}),O.from(hh.sketch({...q.menu(),uid:Bc(""),data:fe,highlightOnOpen:J,onOpenMenu:(be,_e)=>{const Ae=me().getOrDie();ga.position(Ae,_e,{anchor:F}),T.decloak(z)},onOpenSubmenu:(be,_e,Ae)=>{const ze=me().getOrDie();ga.position(ze,Ae,{anchor:{type:"submenu",item:_e}}),T.decloak(z)},onRepositionMenu:(be,_e,Ae)=>{const ze=me().getOrDie();ga.position(ze,_e,{anchor:F}),Mt(Ae,ot=>{ga.position(ze,ot.triggeredMenu,{anchor:{type:"submenu",item:ot.triggeringItem}})})},onEscape:()=>(no.focus(P),T.close(z),O.some(!0))}))}))})(s,a,TI(s,u),u,f,p,w).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},D=>{T.cloak(f),T.open(f,D),b(f)}),f)),e7=(s,a,u,f,p,b,w)=>(T.close(f),lg(f)),l3=(s,a,u,f,p,b)=>{const w=Vr.getCoupled(u,"sandbox");return(T.isOpen(w)?e7:Z_)(s,a,u,w,f,p,b)},OI=(s,a)=>s.getSystem().getByUid(a.uid+"-"+a3()).map(u=>()=>Lo.value(u)).getOrThunk(()=>a.lazySink.fold(()=>()=>Lo.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(s))),c3=s=>{T.getState(s).each(a=>{hh.repositionMenus(a)})},u3=(s,a,u)=>{const f=nh(),p=OI(a,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:Jn(s.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(b,w)=>{const k=TI(s,a);f.link(a.element),s.matchWidth&&((E,D,F)=>{const P=ns.getCurrent(D).getOr(D),z=Oi(E.element);F?co(P.element,"min-width",z+"px"):((q,J)=>{Mg.set(q,J)})(P.element,z)})(k.hotspot,w,s.useMinWidth),s.onOpen(k,b,w),u!==void 0&&u.onOpen!==void 0&&u.onOpen(b,w)},onClose:(b,w)=>{f.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(b,w)},isPartOf:(b,w,k)=>bl(w,k)||bl(a,k),getAttachPoint:()=>p().getOrDie()}),ns.config({find:b=>T.getState(b).bind(w=>ns.getCurrent(w))}),yl.config({channels:{...se({isExtraPart:Ee}),...Ie({doReposition:c3})}})])}},DI=s=>{const a=Vr.getCoupled(s,"sandbox");c3(a)},d3=()=>[it("sandboxClasses",[]),so("sandboxBehaviours",[ns,yl,T,lt])],t7=K([Dt("dom"),Dt("fetch"),Xo("onOpen"),vl("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",K({})),Mf(),yn("dropdownBehaviours",[Qn,Vr,Nn,no]),Dt("toggleClass"),it("eventOrder",{}),Ko("lazySink"),it("matchWidth",!1),it("useMinWidth",!1),Ko("role"),Ko("listRole")].concat(d3())),n7=K([jd({schema:[Xg(),it("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),AI()]),Cl=Bl({name:"Dropdown",configFields:t7(),partFields:n7(),factory:(s,a,u,f)=>{const p=E=>{T.getState(E).each(D=>{hh.highlightPrimary(D)})},b=(E,D,F)=>l3(s,ye,E,f,D,F),w={expand:E=>{Qn.isOn(E)||b(E,le,il.HighlightNone).get(le)},open:E=>{Qn.isOn(E)||b(E,le,il.HighlightMenuAndItem).get(le)},refetch:E=>Vr.getExistingCoupled(E,"sandbox").fold(()=>b(E,le,il.HighlightMenuAndItem).map(le),D=>Z_(s,ye,E,D,f,le,il.HighlightMenuAndItem).map(le)),isOpen:Qn.isOn,close:E=>{Qn.isOn(E)&&b(E,le,il.HighlightMenuAndItem).get(le)},repositionMenus:E=>{Qn.isOn(E)&&DI(E)}},k=(E,D)=>(Tf(E),O.some(!0));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.dropdownBehaviours,[Qn.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),Vr.config({others:{sandbox:E=>u3(s,E,{onOpen:()=>Qn.on(E),onClose:()=>Qn.off(E)})}}),Nn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,D)=>{if(Cl.isOpen(E)){const F=Vr.getCoupled(E,"sandbox");p(F)}else Cl.open(E);return O.some(!0)},onEscape:(E,D)=>Cl.isOpen(E)?(Cl.close(E),O.some(!0)):O.none()}),no.config({})]),events:F0(O.some(E=>{b(E,p,il.HighlightMenuAndItem).get(le)})),eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:hn(s.dom,"attributes").bind(E=>hn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,a)=>s.open(a),refetch:(s,a)=>s.refetch(a),expand:(s,a)=>s.expand(a),close:(s,a)=>s.close(a),isOpen:(s,a)=>s.isOpen(a),repositionMenus:(s,a)=>s.repositionMenus(a)}}),RI=(s,a,u)=>{DR(s).each(f=>{var p;((b,w)=>{jo(w.element,"id").each(k=>sn(b.element,"aria-activedescendant",k))})(f,u),(tl((p=a).element,B2)?O.some(p.element):fr(p.element,"."+B2)).each(b=>{jo(b,"id").each(w=>sn(f.element,"aria-controls",w))})}),sn(u.element,"aria-selected","true")},o7=(s,a,u)=>{sn(u.element,"aria-selected","false")},jb=s=>Vr.getExistingCoupled(s,"sandbox").bind(M2).map(RR).map(a=>a.fetchPattern).getOr("");var q2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(q2||(q2={}));const s7=(s,a,u,f,p)=>{const b=u.shared.providers,w=E=>p?{...E,shortcut:O.none(),icon:E.text.isSome()?O.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Cr("menuitem",KR,k)).fold(ig,E=>O.some(((D,F,P,z=!0)=>{const q=U2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.none(),checkMark:O.none(),shortcutContent:D.shortcut},P,z);return q0({data:Y0(D),getApi:J=>({isEnabled:()=>!ro.isDisabled(J),setEnabled:ue=>ro.set(J,!ue)}),enabled:D.enabled,onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,F,P)})(w(E),a,b,f)));case"nestedmenuitem":return(E=>Cr("nestedmenuitem",GR,E))(s).fold(ig,E=>O.some(((D,F,P,z=!0,q=!1)=>{const J=q?(ue=P.icons,FA("chevron-down",ue,[_A])):(Ce=>FA("chevron-right",Ce,[_A]))(P.icons);var ue;const me=U2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.some(J),checkMark:O.none(),shortcutContent:D.shortcut},P,z);return q0({data:Y0(D),getApi:Ce=>({isEnabled:()=>!ro.isDisabled(Ce),setEnabled:fe=>ro.set(Ce,!fe),setIconFill:(fe,de)=>{fr(Ce.element,`svg path[class="${fe}"], rect[class="${fe}"]`).each(be=>{sn(be,"fill",de)})},setTooltip:fe=>{const de=P.translate(fe);sn(Ce.element,"aria-label",de)}}),enabled:D.enabled,onAction:le,onSetup:D.onSetup,triggersSubmenu:!0,itemBehaviours:[]},me,F,P)})(w(E),a,b,f,p)));case"togglemenuitem":return(E=>Cr("togglemenuitem",ZF,E))(s).fold(ig,E=>O.some(((D,F,P,z=!0)=>{const q=U2({iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,checkMark:O.some(tI(P.icons)),caret:O.none(),shortcutContent:D.shortcut,presets:"normal",meta:D.meta},P,z);return Ps(q0({data:Y0(D),enabled:D.enabled,getApi:J=>({setActive:ue=>{Qn.set(J,ue)},isActive:()=>Qn.isOn(J),isEnabled:()=>!ro.isDisabled(J),setEnabled:ue=>ro.set(J,!ue)}),onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,F,P),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:D.active},role:D.role.getOrUndefined()})})(w(E),a,b,f)));case"separator":return(E=>Cr("separatormenuitem",FR,E))(s).fold(ig,E=>O.some(kI(E)));case"fancymenuitem":return(E=>Cr("fancymenuitem",jR,E))(s).fold(ig,E=>((D,F)=>hn(SI,D.fancytype).map(P=>P(D,F)))(E,u));default:return console.error("Unknown item in general menu",s),O.none()}var k},Hp=(s,a,u,f,p,b,w)=>{const k=f===1,E=!k||F2(s);return ea(Ye(s,D=>{switch(D.type){case"separator":return(F=D,Cr("Autocompleter.Separator",FR,F)).fold(ig,P=>O.some(kI(P)));case"cardmenuitem":return(P=>Cr("cardmenuitem",WF,P))(D).fold(ig,P=>O.some(((z,q,J,ue)=>{const me={dom:nI(z.label),optComponents:[O.some({dom:{tag:"div",classes:[N2,P2]},components:HA(z.items,ue)})]};return q0({data:Y0({text:O.none(),...z}),enabled:z.enabled,getApi:Ce=>({isEnabled:()=>!ro.isDisabled(Ce),setEnabled:fe=>{ro.set(Ce,!fe),Mt(Si(Ce.element,"*"),de=>{Ce.getSystem().getByDom(de).each(be=>{be.hasConfigured(ro)&&ro.set(be,!fe)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(ue.itemBehaviours).getOr([])},me,q,J.providers)})({...P,onAction:z=>{P.onAction(z),u(P.value,P.meta)}},p,b,{itemBehaviours:oI(P.meta,b,O.none()),cardText:{matchText:a,highlightOn:w}})));default:return(P=>Cr("Autocompleter.Item",PF,P))(D).fold(ig,P=>O.some(((z,q,J,ue,me,Ce,fe,de=!0)=>{const be=U2({presets:ue,textContent:O.none(),htmlContent:J?z.text.map(Ae=>zA(Ae,q)):O.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:z.value},fe.providers,de,z.icon),_e=z.text.filter(Ae=>!J&&Ae!=="");return q0({data:Y0(z),enabled:z.enabled,getApi:K({}),onAction:Ae=>me(z.value,z.meta),onSetup:K(le),triggersSubmenu:!1,itemBehaviours:oI(z,fe,_e)},be,Ce,fe.providers)})(P,a,k,"normal",u,p,b,E)))}var F}))},II=(s,a,u,f,p,b)=>{const w=F2(a),k=ea(Ye(a,D=>{const F=P=>s7(P,u,f,(z=>p?!Eo(z,"text"):w)(P),p);return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?F({...D,enabled:!1}):F(D)})),E=(D=>D.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:D})(b);return(p?DF:EA)(s,w,k,1,E)},f3=s=>hh.singleData(s.value,s),ld=s=>Bf(rn(s.startContainer),s.startOffset,rn(s.endContainer),s.endOffset),NI=(s,a)=>{const u=bn("autocompleter"),f=Bn(!1),p=Bn(!1),b=Es(),w=Ki(vr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissAutocompleter",[St(Zg(),()=>P()),St(ax(),(J,ue)=>{jo(ue.event.target,"id").each(me=>sn(rn(s.getBody()),"aria-activedescendant",me))})])]),lazySink:a.getSink})),k=()=>vr.isOpen(w),E=p.get,D=()=>{if(k()){vr.hide(w),s.dom.remove(u,!1);const J=rn(s.getBody());jo(J,"aria-owns").filter(ue=>ue===u).each(()=>{_o(J,"aria-owns"),_o(J,"aria-activedescendant")})}},F=()=>vr.getContent(w).bind(J=>gt(J.components(),0)),P=()=>s.execCommand("mceAutocompleterClose"),z=J=>{const ue=(me=>{const Ce=Vt(me,fe=>O.from(fe.columns)).getOr(1);return tn(me,fe=>{const de=fe.items;return Hp(de,fe.matchText,(be,_e)=>{const Ae={hide:()=>P(),reload:ze=>{D(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:ze})}};s.execCommand("mceAutocompleterRefreshActiveRange"),b.get().each(ze=>{f.set(!0),fe.onAction(Ae,ze,be,_e),f.set(!1)})},Ce,Xf.BUBBLE_TO_SANDBOX,a,fe.highlightOn)})})(J);ue.length>0?(((me,Ce)=>{const fe=Vt(me,de=>O.from(de.columns)).getOr(1);vr.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>b.get().map(ld),root:rn(s.getBody())}},((de,be,_e,Ae)=>{const ze=K2(be,Ae),ot=Bb(Ae);return{data:f3({...de,movement:ze,menuBehaviours:H2(be!=="auto"?[]:[sr((Et,_t)=>{LA(Et,4,ot.item).each(({numColumns:wt,numRows:Ht})=>{Nn.setGridSize(Et,Ht,wt)})})])}),menu:{markers:Bb(Ae),fakeFocus:_e===q2.ContentFocus}}})(EA("autocompleter-value",!0,Ce,fe,{menuType:"normal"}),fe,q2.ContentFocus,"normal")),F().each(Ss.highlightFirst)})(J,ue),sn(rn(s.getBody()),"aria-owns",u),s.inline||q()):D()},q=()=>{s.dom.get(u)&&s.dom.remove(u,!1);const J=s.getDoc().documentElement,ue=s.selection.getNode(),me=(Ce=>qg(Ce,!0))(w.element);Ya(me,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),s.dom.add(J,me.dom),fr(me,'[role="menu"]').each(Ce=>{ws(Ce,"position"),ws(Ce,"max-height")})};s.on("AutocompleterStart",({lookupData:J})=>{p.set(!0),f.set(!1),z(J)}),s.on("AutocompleterUpdate",({lookupData:J})=>z(J)),s.on("AutocompleterUpdateActiveRange",({range:J})=>b.set(J)),s.on("AutocompleterEnd",()=>{D(),p.set(!1),f.set(!1),b.clear()}),((J,ue)=>{const me=(fe,de)=>{Rn(fe,Sr(),{raw:de})},Ce=()=>J.getMenu().bind(Ss.getHighlighted);ue.on("keydown",fe=>{const de=fe.which;J.isActive()&&(J.isMenuOpen()?de===13?(Ce().each(Tf),fe.preventDefault()):de===40?(Ce().fold(()=>{J.getMenu().each(Ss.highlightFirst)},be=>{me(be,fe)}),fe.preventDefault(),fe.stopImmediatePropagation()):de!==37&&de!==38&&de!==39||Ce().each(be=>{me(be,fe),fe.preventDefault(),fe.stopImmediatePropagation()}):de!==13&&de!==38&&de!==40||J.cancelIfNecessary())}),ue.on("NodeChange",()=>{!J.isActive()||J.isProcessingAction()||ue.queryCommandState("mceAutoCompleterInRange")||J.cancelIfNecessary()})})({cancelIfNecessary:P,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},s)},ny=(s,a,u)=>Ju(s,a,u).isSome(),m3=(s,a)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...f)=>{u=setTimeout(()=>{s.apply(null,f),u=null},a)}}},PI=s=>{const a=s.raw;return a.touches===void 0||a.touches.length!==1?O.none():O.some(a.touches[0])},j_=(s,a)=>{const u={stopBackspace:!0,...a},f=(P=>{const z=Es(),q=Bn(!1),J=m3(me=>{P.triggerEvent(lE(),me),q.set(!0)},400),ue=Pd([{key:W(),value:me=>(PI(me).each(Ce=>{J.cancel();const fe={x:Ce.clientX,y:Ce.clientY,target:me.target};J.schedule(me),q.set(!1),z.set(fe)}),O.none())},{key:oe(),value:me=>(J.cancel(),PI(me).each(Ce=>{z.on(fe=>{((de,be)=>{const _e=Math.abs(de.clientX-be.x),Ae=Math.abs(de.clientY-be.y);return _e>5||Ae>5})(Ce,fe)&&z.clear()})}),O.none())},{key:Re(),value:me=>(J.cancel(),z.get().filter(Ce=>is(Ce.target,me.target)).map(Ce=>q.get()?(me.prevent(),!1):P.triggerEvent(_f(),me)))}]);return{fireIfReady:(me,Ce)=>hn(ue,Ce).bind(fe=>fe(me))}})(u),p=Ye(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),P=>Ha(s,P,z=>{f.fireIfReady(z,P).each(q=>{q&&z.kill()}),u.triggerEvent(P,z)&&z.kill()})),b=Es(),w=Ha(s,"paste",P=>{f.fireIfReady(P,"paste").each(z=>{z&&P.kill()}),u.triggerEvent("paste",P)&&P.kill(),b.set(setTimeout(()=>{u.triggerEvent(ix(),P)},0))}),k=Ha(s,"keydown",P=>{u.triggerEvent("keydown",P)?P.kill():u.stopBackspace&&(z=>z.raw.which===n5[0]&&!et(["input","textarea"],Ga(z.target))&&!ny(z.target,'[contenteditable="true"]'))(P)&&P.prevent()}),E=Ha(s,"focusin",P=>{u.triggerEvent("focusin",P)&&P.kill()}),D=Es(),F=Ha(s,"focusout",P=>{u.triggerEvent("focusout",P)&&P.kill(),D.set(setTimeout(()=>{u.triggerEvent(rp(),P)},0))});return{unbind:()=>{Mt(p,P=>{P.unbind()}),k.unbind(),E.unbind(),F.unbind(),w.unbind(),b.on(clearTimeout),D.on(clearTimeout)}}},g3=(s,a)=>{const u=hn(s,"target").getOr(a);return Bn(u)},Y2=jl([{stopped:[]},{resume:["element"]},{complete:[]}]),MI=(s,a,u,f,p,b)=>{const w=s(a,f),k=((E,D)=>{const F=Bn(!1),P=Bn(!1);return{stop:()=>{F.set(!0)},cut:()=>{P.set(!0)},isStopped:F.get,isCut:P.get,event:E,setSource:D.set,getSource:D.get}})(u,p);return w.fold(()=>(b.logEventNoHandlers(a,f),Y2.complete()),E=>{const D=E.descHandler;return kx(D)(k),k.isStopped()?(b.logEventStopped(a,E.element,D.purpose),Y2.stopped()):k.isCut()?(b.logEventCut(a,E.element,D.purpose),Y2.complete()):_a(E.element).fold(()=>(b.logNoParent(a,E.element,D.purpose),Y2.complete()),F=>(b.logEventResponse(a,E.element,D.purpose),Y2.resume(F)))})},X2=(s,a,u,f,p,b)=>MI(s,a,u,f,p,b).fold(Le,w=>X2(s,a,u,w,p,b),Ee),K_=(s,a,u,f,p)=>{const b=g3(u,f);return X2(s,a,u,f,b,p)},BI=()=>{const s=(()=>{const f={};return{registerId:(p,b,w)=>{An(w,(k,E)=>{const D=f[E]!==void 0?f[E]:{};D[b]=((F,P)=>({cHandler:Ue.apply(void 0,[F.handler].concat(P)),purpose:F.purpose}))(k,p),f[E]=D})},unregisterId:p=>{An(f,(b,w)=>{Eo(b,p)&&delete b[p]})},filterByType:p=>hn(f,p).map(b=>ar(b,(w,k)=>((E,D)=>({id:E,descHandler:D}))(k,w))).getOr([]),find:(p,b,w)=>hn(f,b).bind(k=>Wg(w,E=>((D,F)=>Qg(F).bind(P=>hn(D,P)).map(P=>((z,q)=>({element:z,descHandler:q}))(F,P)))(k,E),p))}})(),a={},u=f=>{Qg(f.element).each(p=>{delete a[p],s.unregisterId(p)})};return{find:(f,p,b)=>s.find(f,p,b),filter:f=>s.filterByType(f),register:f=>{const p=(w=>{const k=w.element;return Qg(k).getOrThunk(()=>((E,D)=>{const F=bn(n0+"uid-");return o0(D,F),F})(0,w.element))})(f);vo(a,p)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+Vd(E.element)+`
Cannot use it for: `+Vd(w.element)+`
The conflicting element is`+(un(E.element)?" ":" not ")+"already in the DOM");u(w)})(f,p);const b=[f];s.registerId(b,p,f.events),a[p]=f},unregister:u,getById:f=>hn(a,f)}},Yd=bu({name:"Container",factory:s=>{const{attributes:a,...u}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...u},components:s.components,behaviours:Xn(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[it("components",[]),yn("containerBehaviours",[]),it("events",{}),it("domModification",{}),it("eventOrder",{})]}),G_=s=>{const a=me=>_a(s.element).fold(Le,Ce=>is(me,Ce)),u=BI(),f=(me,Ce)=>u.find(a,me,Ce),p=j_(s.element,{triggerEvent:(me,Ce)=>Kv(me,Ce.target,fe=>((de,be,_e,Ae)=>K_(de,be,_e,_e.target,Ae))(f,me,Ce,fe))}),b={debugInfo:K("real"),triggerEvent:(me,Ce,fe)=>{Kv(me,Ce,de=>K_(f,me,fe,Ce,de))},triggerFocus:(me,Ce)=>{Qg(me).fold(()=>{za(me)},fe=>{Kv(qu(),me,de=>(((be,_e,Ae,ze,ot)=>{const Et=g3(Ae,ze);MI(be,_e,Ae,ze,Et,ot)})(f,qu(),{originator:Ce,kill:le,prevent:le,target:me},me,de),!1))})},triggerEscape:(me,Ce)=>{b.triggerEvent("keydown",me.element,Ce.event)},getByUid:me=>J(me),getByDom:me=>ue(me),build:Ki,buildOrPatch:c0,addToGui:me=>{E(me)},removeFromGui:me=>{D(me)},addToWorld:me=>{w(me)},removeFromWorld:me=>{k(me)},broadcast:me=>{P(me)},broadcastOn:(me,Ce)=>{z(me,Ce)},broadcastEvent:(me,Ce)=>{q(me,Ce)},isConnected:Le},w=me=>{me.connect(b),Ca(me.element)||(u.register(me),Mt(me.components(),w),b.triggerEvent(Sf(),me.element,{target:me.element}))},k=me=>{Ca(me.element)||(Mt(me.components(),k),u.unregister(me)),me.disconnect()},E=me=>{Uf(s,me)},D=me=>{sl(me)},F=me=>{const Ce=u.filter(sc());Mt(Ce,fe=>{const de=fe.descHandler;kx(de)(me)})},P=me=>{F({universal:!0,data:me})},z=(me,Ce)=>{F({universal:!1,channels:me,data:Ce})},q=(me,Ce)=>((fe,de,be)=>{const _e=(Ae=>{const ze=Bn(!1);return{stop:()=>{ze.set(!0)},cut:le,isStopped:ze.get,isCut:Ee,event:Ae,setSource:qe("Cannot set source of a broadcasted event"),getSource:qe("Cannot get source of a broadcasted event")}})(de);return Mt(fe,Ae=>{const ze=Ae.descHandler;kx(ze)(_e)}),_e.isStopped()})(u.filter(me),Ce),J=me=>u.getById(me).fold(()=>Lo.error(new Error('Could not find component with uid: "'+me+'" in system.')),Lo.value),ue=me=>{const Ce=Qg(me).getOr("not found");return J(Ce)};return w(s),{root:s,element:s.element,destroy:()=>{p.unbind(),$i(s.element)},add:E,remove:D,getByUid:J,getByDom:ue,addToWorld:w,removeFromWorld:k,broadcast:P,broadcastOn:z,broadcastEvent:q}},r7=K([it("prefix","form-field"),yn("fieldBehaviours",[ns,lt])]),h3=K([vu({schema:[Dt("dom")],name:"label"}),vu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Dt("text")],name:"aria-descriptor"}),wl({factory:{sketch:s=>{const a=((u,f)=>{const p={};return An(u,(b,w)=>{et(f,w)||(p[w]=b)}),p})(s,["factory"]);return s.factory.sketch(a)}},schema:[Dt("factory")],name:"field"})]),As=Bl({name:"FormField",configFields:r7(),partFields:h3(),factory:(s,a,u,f)=>{const p=yo(s.fieldBehaviours,[ns.config({find:k=>qs(k,s,"field")}),lt.config({store:{mode:"manual",getValue:k=>ns.getCurrent(k).bind(lt.getValue),setValue:(k,E)=>{ns.getCurrent(k).each(D=>{lt.setValue(D,E)})}}})]),b=fo([sr((k,E)=>{const D=HD(k,s,["label","field","aria-descriptor"]);D.field().each(F=>{const P=bn(s.prefix);D.label().each(z=>{sn(z.element,"for",P),sn(F.element,"id",P)}),D["aria-descriptor"]().each(z=>{const q=bn(s.prefix);sn(z.element,"id",q),sn(F.element,"aria-describedby",q)})})})]),w={getField:k=>qs(k,s,"field"),getLabel:k=>qs(k,s,"label")};return{uid:s.uid,dom:s.dom,components:a,behaviours:p,events:b,apis:w}},apis:{getField:(s,a)=>s.getField(a),getLabel:(s,a)=>s.getLabel(a)}});var i7=tinymce.util.Tools.resolve("tinymce.html.Entities");const J2=(s,a,u,f)=>{const p=a7(s,a,u,f);return As.sketch(p)},a7=(s,a,u,f)=>({dom:q_(u),components:s.toArray().concat([a]),fieldBehaviours:Zt(f)}),q_=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),$p=(s,a)=>As.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(a.translate(s))]}),al=bn("form-component-change"),Up=bn("form-close"),_h=bn("form-cancel"),Qf=bn("form-action"),Q2=bn("form-submit"),p3=bn("form-block"),v3=bn("form-unblock"),LI=bn("form-tabchange"),Y_=bn("form-resize"),FI=(s,a,u)=>{const f=s.label.map(P=>$p(P,a)),p=a.icons(),b=P=>(z,q)=>{Ju(q.event.target,"[data-collection-item-value]").each(J=>{P(z,q,J,Mo(J,"data-collection-item-value"))})},w=b((P,z,q,J)=>{z.stop(),a.isDisabled()||Rn(P,Qf,{name:s.name,value:J})}),k=[St(Tn(),b((P,z,q)=>{za(q)})),St(pi(),w),St(_f(),w),St(bs(),b((P,z,q)=>{fr(P.element,"."+rg).each(J=>{Ir(J,rg)}),kr(q,rg)})),St(Zr(),b(P=>{fr(P.element,"."+rg).each(z=>{Ir(z,rg),tb(z)})})),uu(b((P,z,q,J)=>{Rn(P,Qf,{name:s.name,value:J})}))],E=(P,z)=>Ye(Si(P.element,".tox-collection__item"),z),D=As.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ye},behaviours:Zt([ro.config({disabled:a.isDisabled,onDisabled:P=>{E(P,z=>{kr(z,"tox-collection__item--state-disabled"),sn(z,"aria-disabled",!0)})},onEnabled:P=>{E(P,z=>{Ir(z,"tox-collection__item--state-disabled"),_o(z,"aria-disabled")})}}),Pi(),qn.config({}),si.config({...a.tooltips.getConfig({tooltipText:"",onShow:P=>{fr(P.element,"."+rg+"[data-mce-tooltip]").each(z=>{jo(z,"data-mce-tooltip").each(q=>{si.setComponents(P,a.tooltips.getComponents({tooltipText:q}))})})}}),mode:"children-keyboard-focus",anchor:P=>({type:"node",node:fr(P.element,"."+rg).orThunk(()=>kd(".tox-collection__item")),root:P.element,layouts:{onLtr:K([Gr,Er,Nr,ni,Pr,Ms]),onRtl:K([Gr,Er,Nr,ni,Pr,Ms])},bubble:ac(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(P,z)=>{((q,J)=>{const ue=Ye(J,fe=>{const de=od.translate(fe.text),be=s.columns===1?`<div class="tox-collection__item-label">${de}</div>`:"",_e=`<div class="tox-collection__item-icon">${(ot=>{var Et;return(Et=p[ot])!==null&&Et!==void 0?Et:ot})(fe.icon)}</div>`,Ae={_:" "," - ":" ","-":" "},ze=de.replace(/\_| \- |\-/g,ot=>Ae[ot]);return`<div data-mce-tooltip="${ze}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${i7.encodeAllRaw(fe.value)}" aria-label="${ze}">${_e}${be}</div>`}),me=s.columns!=="auto"&&s.columns>1?tt(ue,s.columns):[ue],Ce=Ye(me,fe=>`<div class="tox-collection__group">${fe.join("")}</div>`);Gg(q.element,Ce.join(""))})(P,z),s.columns==="auto"&&LA(P,5,"tox-collection__item").each(({numRows:q,numColumns:J})=>{Nn.setGridSize(P,q,J)}),ko(P,Y_)}}),Zs.config({}),Nn.config((F=s.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${E_}`}})),Co("collection-events",k)]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","collection-events"],[bs()]:["collection-events","tooltipping"]}});var F;return J2(f,D,["tox-form__group--collection"],[])},VI=["input","textarea"],X_=s=>{const a=Ga(s);return et(VI,a)},zI=(s,a)=>{const u=a.getRoot(s).getOr(s.element);Ir(u,a.invalidClass),a.notify.each(f=>{X_(s.element)&&sn(s.element,"aria-invalid",!1),f.getContainer(s).each(p=>{Gg(p,f.validHtml)}),f.onValid(s)})},b3=(s,a,u,f)=>{const p=a.getRoot(s).getOr(s.element);kr(p,a.invalidClass),a.notify.each(b=>{X_(s.element)&&sn(s.element,"aria-invalid",!0),b.getContainer(s).each(w=>{Gg(w,f)}),b.onInvalid(s,f)})},HI=(s,a,u)=>a.validator.fold(()=>lg(Lo.value(!0)),f=>f.validate(s)),y3=(s,a,u)=>(a.notify.each(f=>{f.onValidate(s)}),HI(s,a).map(f=>s.getSystem().isConnected()?f.fold(p=>(b3(s,a,0,p),Lo.error(p)),p=>(zI(s,a),Lo.value(p))):Lo.error("No longer in system")));var l7=Object.freeze({__proto__:null,markValid:zI,markInvalid:b3,query:HI,run:y3,isInvalid:(s,a)=>{const u=a.getRoot(s).getOr(s.element);return tl(u,a.invalidClass)}}),$I=Object.freeze({__proto__:null,events:(s,a)=>s.validator.map(u=>fo([St(u.onEvent,f=>{y3(f,s).get(ye)})].concat(u.validateOnLoad?[sr(f=>{y3(f,s).get(le)})]:[]))).getOr({})}),c7=[Dt("invalidClass"),it("getRoot",O.none),Dr("notify",[it("aria","alert"),it("getContainer",O.none),it("validHtml",""),Xo("onValid"),Xo("onInvalid"),Xo("onValidate")]),Dr("validator",[Dt("validate"),it("onEvent","input"),it("validateOnLoad",!0)])];const cg=Ni({fields:c7,name:"invalidating",active:$I,apis:l7,extra:{validation:s=>a=>{const u=lt.getValue(a);return lg(s(u))}}}),Kb=Ni({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>fo([lp(ca(),Le)]),exhibit:()=>jr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),x3=bn("color-input-change"),w3=bn("color-swatch-change"),UI=bn("color-picker-cancel"),C3=vu({schema:[Dt("dom")],name:"label"}),Wp=s=>vu({name:s+"-edge",overrides:a=>a.model.manager.edgeActions[s].fold(()=>({}),u=>({events:fo([lx(W(),(f,p,b)=>u(f,b),[a]),lx(Rt(),(f,p,b)=>u(f,b),[a]),lx(jn(),(f,p,b)=>{b.mouseIsDown.get()&&u(f,b)},[a])])}))}),u7=Wp("top-left"),d7=Wp("top"),f7=Wp("top-right"),m7=Wp("right"),WI=Wp("bottom-right"),_3=Wp("bottom"),g7=Wp("bottom-left"),J_=Wp("left"),h7=wl({name:"thumb",defaults:K({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:fo([up(W(),s,"spectrum"),up(oe(),s,"spectrum"),up(Re(),s,"spectrum"),up(Rt(),s,"spectrum"),up(jn(),s,"spectrum"),up(lo(),s,"spectrum")])})}),Q_=s=>eg(s.event);var p7=[C3,J_,m7,d7,_3,u7,f7,g7,WI,h7,wl({schema:[Wi("mouseIsDown",()=>Bn(!1))],name:"spectrum",overrides:s=>{const a=s.model.manager,u=(f,p)=>a.getValueFromEvent(p).map(b=>a.setValueFrom(f,s,b));return{behaviours:Zt([Nn.config({mode:"special",onLeft:(f,p)=>a.onLeft(f,s,Q_(p)),onRight:(f,p)=>a.onRight(f,s,Q_(p)),onUp:(f,p)=>a.onUp(f,s,Q_(p)),onDown:(f,p)=>a.onDown(f,s,Q_(p))}),Zs.config({}),no.config({})]),events:fo([St(W(),u),St(oe(),u),St(Rt(),u),St(jn(),(f,p)=>{s.mouseIsDown.get()&&u(f,p)})])}}})];const ew=K("slider.change.value"),S3=s=>{const a=s.event.raw;if((u=>u.type.indexOf("touch")!==-1)(a)){const u=a;return u.touches!==void 0&&u.touches.length===1?O.some(u.touches[0]).map(f=>Xs(f.clientX,f.clientY)):O.none()}{const u=a;return u.clientX!==void 0?O.some(u).map(f=>Xs(f.clientX,f.clientY)):O.none()}},Gb=s=>s.model.minX,Zp=s=>s.model.minY,eS=s=>s.model.minX-1,tS=s=>s.model.minY-1,Sh=s=>s.model.maxX,cd=s=>s.model.maxY,nS=s=>s.model.maxX+1,oS=s=>s.model.maxY+1,sS=(s,a,u)=>a(s)-u(s),rS=s=>sS(s,Sh,Gb),k3=s=>sS(s,cd,Zp),ZI=s=>rS(s)/2,E3=s=>k3(s)/2,oy=(s,a)=>a?s.stepSize*s.speedMultiplier:s.stepSize,A3=s=>s.snapToGrid,T3=s=>s.snapStart,iS=s=>s.rounded,aS=(s,a)=>s[a+"-edge"]!==void 0,O3=s=>aS(s,"left"),jI=s=>aS(s,"right"),sy=s=>aS(s,"top"),KI=s=>aS(s,"bottom"),kh=s=>s.model.value.get(),ug=(s,a)=>({x:s,y:a}),_u=(s,a)=>{Rn(s,ew(),{value:a})},D3=(s,a,u,f)=>s<a?s:s>u?u:s===a?a-1:Math.max(a,s-f),tw=(s,a,u,f)=>s>u?s:s<a?a:s===u?u+1:Math.min(u,s+f),GI=(s,a,u)=>Math.max(a,Math.min(u,s)),qI=s=>{const{min:a,max:u,range:f,value:p,step:b,snap:w,snapStart:k,rounded:E,hasMinEdge:D,hasMaxEdge:F,minBound:P,maxBound:z,screenRange:q}=s,J=D?a-1:a,ue=F?u+1:u;if(p<P)return J;if(p>z)return ue;{const me=((fe,de,be)=>Math.min(be,Math.max(fe,de))-de)(p,P,z),Ce=GI(me/q*f+a,J,ue);return w&&Ce>=a&&Ce<=u?((fe,de,be,_e,Ae)=>Ae.fold(()=>{const ze=fe-de,ot=Math.round(ze/_e)*_e;return GI(de+ot,de-1,be+1)},ze=>{const ot=(fe-ze)%_e,Et=Math.round(ot/_e),_t=Math.floor((fe-ze)/_e),wt=Math.floor((be-ze)/_e),Ht=ze+Math.min(wt,_t+Et)*_e;return Math.max(ze,Ht)}))(Ce,a,u,b,k):E?Math.round(Ce):Ce}},lS=s=>{const{min:a,max:u,range:f,value:p,hasMinEdge:b,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:D,centerMaxEdge:F}=s;return p<a?b?0:D:p>u?w?k:F:(p-a)/f*E},R3="top",YI="right",XI="bottom",I3="left",dg=s=>s.element.dom.getBoundingClientRect(),Xd=(s,a)=>s[a],cS=s=>{const a=dg(s);return Xd(a,I3)},JI=s=>{const a=dg(s);return Xd(a,YI)},uS=s=>{const a=dg(s);return Xd(a,R3)},QI=s=>{const a=dg(s);return Xd(a,XI)},eN=s=>{const a=dg(s);return Xd(a,"width")},tN=s=>{const a=dg(s);return Xd(a,"height")},dS=(s,a,u)=>(s+a)/2-u,nN=(s,a)=>{const u=dg(s),f=dg(a),p=Xd(u,I3),b=Xd(u,YI),w=Xd(f,I3);return dS(p,b,w)},oN=(s,a)=>{const u=dg(s),f=dg(a),p=Xd(u,R3),b=Xd(u,XI),w=Xd(f,R3);return dS(p,b,w)},fS=(s,a)=>{Rn(s,ew(),{value:a})},mS=(s,a,u)=>{const f={min:Gb(a),max:Sh(a),range:rS(a),value:u,step:oy(a),snap:A3(a),snapStart:T3(a),rounded:iS(a),hasMinEdge:O3(a),hasMaxEdge:jI(a),minBound:cS(s),maxBound:JI(s),screenRange:eN(s)};return qI(f)},sN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?tw:D3)(kh(w),Gb(w),Sh(w),oy(w,k));return fS(b,E),O.some(E)})(s,a,u,f).map(Le),N3=(s,a,u,f,p,b)=>{const w=((k,E,D,F,P)=>{const z=eN(k),q=F.bind(me=>O.some(nN(me,k))).getOr(0),J=P.bind(me=>O.some(nN(me,k))).getOr(z),ue={min:Gb(E),max:Sh(E),range:rS(E),value:D,hasMinEdge:O3(E),hasMaxEdge:jI(E),minBound:cS(k),minOffset:0,maxBound:JI(k),maxOffset:z,centerMinEdge:q,centerMaxEdge:J};return lS(ue)})(a,b,u,f,p);return cS(a)-cS(s)+w},v7=sN(-1),b7=sN(1),y7=O.none,x7=O.none,P3={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((s,a)=>{_u(s,nS(a))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((s,a)=>{_u(s,eS(a))})};var w7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=mS(s,a,u);return fS(s,f),f},setToMin:(s,a)=>{const u=Gb(a);fS(s,u)},setToMax:(s,a)=>{const u=Sh(a);fS(s,u)},findValueOfOffset:mS,getValueFromEvent:s=>S3(s).map(a=>a.left),findPositionOfValue:N3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=N3(s,f.getSpectrum(s),p,f.getLeftEdge(s),f.getRightEdge(s),u),w=Oi(a.element)/2;co(a.element,"left",b-w+"px")},onLeft:v7,onRight:b7,onUp:y7,onDown:x7,edgeActions:P3});const gS=(s,a)=>{Rn(s,ew(),{value:a})},M3=(s,a,u)=>{const f={min:Zp(a),max:cd(a),range:k3(a),value:u,step:oy(a),snap:A3(a),snapStart:T3(a),rounded:iS(a),hasMinEdge:sy(a),hasMaxEdge:KI(a),minBound:uS(s),maxBound:QI(s),screenRange:tN(s)};return qI(f)},rN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?tw:D3)(kh(w),Zp(w),cd(w),oy(w,k));return gS(b,E),O.some(E)})(s,a,u,f).map(Le),B3=(s,a,u,f,p,b)=>{const w=((k,E,D,F,P)=>{const z=tN(k),q=F.bind(me=>O.some(oN(me,k))).getOr(0),J=P.bind(me=>O.some(oN(me,k))).getOr(z),ue={min:Zp(E),max:cd(E),range:k3(E),value:D,hasMinEdge:sy(E),hasMaxEdge:KI(E),minBound:uS(k),minOffset:0,maxBound:QI(k),maxOffset:z,centerMinEdge:q,centerMaxEdge:J};return lS(ue)})(a,b,u,f,p);return uS(a)-uS(s)+w},C7=O.none,_7=O.none,S7=rN(-1),k7=rN(1),E7={"top-left":O.none(),top:O.some((s,a)=>{_u(s,tS(a))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((s,a)=>{_u(s,oS(a))}),"bottom-left":O.none(),left:O.none()};var A7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=M3(s,a,u);return gS(s,f),f},setToMin:(s,a)=>{const u=Zp(a);gS(s,u)},setToMax:(s,a)=>{const u=cd(a);gS(s,u)},findValueOfOffset:M3,getValueFromEvent:s=>S3(s).map(a=>a.top),findPositionOfValue:B3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=B3(s,f.getSpectrum(s),p,f.getTopEdge(s),f.getBottomEdge(s),u),w=Or(a.element)/2;co(a.element,"top",b-w+"px")},onLeft:C7,onRight:_7,onUp:S7,onDown:k7,edgeActions:E7});const hS=(s,a)=>{Rn(s,ew(),{value:a})},pS=(s,a)=>({x:s,y:a}),qb=(s,a)=>(u,f,p)=>((b,w,k,E,D)=>{const F=b>0?tw:D3,P=w?kh(E).x:F(kh(E).x,Gb(E),Sh(E),oy(E,D)),z=w?F(kh(E).y,Zp(E),cd(E),oy(E,D)):kh(E).y;return hS(k,pS(P,z)),O.some(P)})(s,a,u,f,p).map(Le),T7=qb(-1,!1),L3=qb(1,!1),O7=qb(-1,!0),D7=qb(1,!0),R7={"top-left":O.some((s,a)=>{_u(s,ug(eS(a),tS(a)))}),top:O.some((s,a)=>{_u(s,ug(ZI(a),tS(a)))}),"top-right":O.some((s,a)=>{_u(s,ug(nS(a),tS(a)))}),right:O.some((s,a)=>{_u(s,ug(nS(a),E3(a)))}),"bottom-right":O.some((s,a)=>{_u(s,ug(nS(a),oS(a)))}),bottom:O.some((s,a)=>{_u(s,ug(ZI(a),oS(a)))}),"bottom-left":O.some((s,a)=>{_u(s,ug(eS(a),oS(a)))}),left:O.some((s,a)=>{_u(s,ug(eS(a),E3(a)))})};var iN=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=mS(s,a,u.left),p=M3(s,a,u.top),b=pS(f,p);return hS(s,b),b},setToMin:(s,a)=>{const u=Gb(a),f=Zp(a);hS(s,pS(u,f))},setToMax:(s,a)=>{const u=Sh(a),f=cd(a);hS(s,pS(u,f))},getValueFromEvent:s=>S3(s),setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=N3(s,f.getSpectrum(s),p.x,f.getLeftEdge(s),f.getRightEdge(s),u),w=B3(s,f.getSpectrum(s),p.y,f.getTopEdge(s),f.getBottomEdge(s),u),k=Oi(a.element)/2,E=Or(a.element)/2;co(a.element,"left",b-k+"px"),co(a.element,"top",w-E+"px")},onLeft:T7,onRight:L3,onUp:O7,onDown:D7,edgeActions:R7});const Jd=Bl({name:"Slider",configFields:[it("stepSize",1),it("speedMultiplier",10),it("onChange",le),it("onChoose",le),it("onInit",le),it("onDragStart",le),it("onDragEnd",le),it("snapToGrid",!1),it("rounded",!0),Ko("snapStart"),Zi("model",hi("mode",{x:[it("minX",0),it("maxX",100),Wi("value",s=>Bn(s.mode.minX)),Dt("getInitialValue"),Ks("manager",w7)],y:[it("minY",0),it("maxY",100),Wi("value",s=>Bn(s.mode.minY)),Dt("getInitialValue"),Ks("manager",A7)],xy:[it("minX",0),it("maxX",100),it("minY",0),it("maxY",100),Wi("value",s=>Bn({x:s.mode.minX,y:s.mode.minY})),Dt("getInitialValue"),Ks("manager",iN)]})),yn("sliderBehaviours",[Nn,lt]),Wi("mouseIsDown",()=>Bn(!1))],partFields:p7,factory:(s,a,u,f)=>{const p=fe=>gh(fe,s,"thumb"),b=fe=>gh(fe,s,"spectrum"),w=fe=>qs(fe,s,"left-edge"),k=fe=>qs(fe,s,"right-edge"),E=fe=>qs(fe,s,"top-edge"),D=fe=>qs(fe,s,"bottom-edge"),F=s.model,P=F.manager,z=(fe,de)=>{P.setPositionFromValue(fe,de,s,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:D,getSpectrum:b})},q=(fe,de)=>{F.value.set(de);const be=p(fe);z(fe,be)},J=fe=>{const de=s.mouseIsDown.get();s.mouseIsDown.set(!1),de&&qs(fe,s,"thumb").each(be=>{const _e=F.value.get();s.onChoose(fe,be,_e)})},ue=(fe,de)=>{de.stop(),s.mouseIsDown.set(!0),s.onDragStart(fe,p(fe))},me=(fe,de)=>{de.stop(),s.onDragEnd(fe,p(fe)),J(fe)},Ce=fe=>{qs(fe,s,"spectrum").map(Nn.focusIn)};return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.sliderBehaviours,[Nn.config({mode:"special",focusIn:Ce}),lt.config({store:{mode:"manual",getValue:fe=>F.value.get(),setValue:q}}),yl.config({channels:{[U()]:{onReceive:J}}})]),events:fo([St(ew(),(fe,de)=>{((be,_e)=>{q(be,_e);const Ae=p(be);s.onChange(be,Ae,_e)})(fe,de.event.value)}),sr((fe,de)=>{const be=F.getInitialValue();F.value.set(be);const _e=p(fe);z(fe,_e);const Ae=b(fe);s.onInit(fe,_e,Ae,F.value.get())}),St(W(),ue),St(Re(),me),St(Rt(),(fe,de)=>{Ce(fe),ue(fe,de)}),St(lo(),me)]),apis:{resetToMin:fe=>{P.setToMin(fe,s)},resetToMax:fe=>{P.setToMax(fe,s)},setValue:q,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,a,u)=>{s.setValue(a,u)},resetToMin:(s,a)=>{s.resetToMin(a)},resetToMax:(s,a)=>{s.resetToMax(a)},refresh:(s,a)=>{s.refresh(a)}}}),nw=bn("rgb-hex-update"),vS=bn("slider-update"),F3=bn("palette-update"),bS="form",yS=[yn("formBehaviours",[lt])],V3=s=>"<alloy.field."+s+">",fg=(s,a)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.formBehaviours,[lt.config({store:{mode:"manual",getValue:u=>{const f=OE(u,s);return On(f,(p,b)=>p().bind(w=>{return k=ns.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Vd(w.element)),k.fold(()=>Lo.error(E),Lo.value);var k,E}).map(lt.getValue))},setValue:(u,f)=>{An(f,(p,b)=>{qs(u,s,b).each(w=>{ns.getCurrent(w).each(k=>{lt.setValue(k,p)})})})}}})]),apis:{getField:(u,f)=>qs(u,s,f).bind(ns.getCurrent)}}),jp={getField:i0((s,a,u)=>s.getField(a,u)),sketch:s=>{const a=(()=>{const b=[];return{field:(w,k)=>(b.push(w),EE(bS,V3(w),k)),record:K(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:V3(b)}));return Jx(bS,yS,p,fg,u)}},aN=bn("valid-input"),lN=bn("invalid-input"),cN=bn("validating-input"),z3="colorcustom.rgb.",ow={isEnabled:Le,setEnabled:le,immediatelyShow:le,immediatelyHide:le},I7=(s,a,u,f,p,b)=>{const w=(q,J)=>{const ue=J.get();q!==ue.isEnabled()&&(ue.setEnabled(q),q?ue.immediatelyShow():ue.immediatelyHide())},k=(q,J,ue)=>cg.config({invalidClass:a("invalid"),notify:{onValidate:me=>{Rn(me,cN,{type:q})},onValid:me=>{w(!1,ue),Rn(me,aN,{type:q,value:lt.getValue(me)})},onInvalid:me=>{w(!0,ue),Rn(me,lN,{type:q,value:lt.getValue(me)})}},validator:{validate:me=>{const Ce=lt.getValue(me),fe=J(Ce)?Lo.value(!0):Lo.error(s("aria.input.invalid"));return lg(fe)},validateOnLoad:!1}}),E=(q,J,ue,me,Ce)=>{const fe=Bn(ow),de=s(z3+"range"),be=As.parts.label({dom:{tag:"label",attributes:{"aria-label":me}},components:[Fr(ue)]}),_e=As.parts.field({data:Ce,factory:yh,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Zt([k(J,q,fe),Zs.config({}),si.config({...p({tooltipText:"",onSetup:wt=>{fe.set({isEnabled:()=>si.isEnabled(wt),setEnabled:Ht=>si.setEnabled(wt,Ht),immediatelyShow:()=>si.immediateOpenClose(wt,!0),immediatelyHide:()=>si.immediateOpenClose(wt,!1)}),si.setEnabled(wt,!1)},onShow:(wt,Ht)=>{si.setComponents(wt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Fr(s(J==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:wt=>{cg.isInvalid(wt)&&cg.run(wt).get(le)}}),Ae=bn("aria-invalid"),ze=Cs(b("invalid",O.some(Ae),"warning")),ot=[be,_e,Cs({dom:{tag:"div",classes:[a("invalid-icon")]},components:[ze.asSpec()]}).asSpec()],Et=J!=="hex"?[As.parts["aria-descriptor"]({text:de})]:[],_t=ot.concat(Et);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:_t}},D=(q,J)=>{const ue=J.red,me=J.green,Ce=J.blue;lt.setValue(q,{red:ue,green:me,blue:Ce})},F=Cs({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),P=(q,J)=>{F.getOpt(q).each(ue=>{co(ue.element,"background-color","#"+J.value)})};return bu({factory:()=>{const q={red:Bn(O.some(255)),green:Bn(O.some(255)),blue:Bn(O.some(255)),hex:Bn(O.some("ffffff"))},J=ot=>q[ot].get(),ue=(ot,Et)=>{q[ot].set(Et)},me=ot=>{const Et=ot.red,_t=ot.green,wt=ot.blue;ue("red",O.some(Et)),ue("green",O.some(_t)),ue("blue",O.some(wt))},Ce=(ot,Et)=>{const _t=Et.event;_t.type!=="hex"?ue(_t.type,O.none()):f(ot)},fe=(ot,Et)=>{const _t=Et.event;(wt=>wt.type==="hex")(_t)?((wt,Ht)=>{u(wt);const mn=$A(Ht);ue("hex",O.some(mn.value));const kn=qd(mn);D(wt,kn),me(kn),Rn(wt,nw,{hex:mn}),P(wt,mn)})(ot,_t.value):((wt,Ht,mn)=>{const kn=parseInt(mn,10);ue(Ht,O.some(kn)),J("red").bind(Hn=>J("green").bind(io=>J("blue").map(Fo=>Ch(Hn,io,Fo,1)))).each(Hn=>{const io=((Fo,tr)=>{const mr=W2(tr);return jp.getField(Fo,"hex").each(So=>{no.isFocused(So)||lt.setValue(Fo,{hex:mr.value})}),mr})(wt,Hn);Rn(wt,nw,{hex:io}),P(wt,io)})})(ot,_t.type,_t.value)},de=ot=>({label:s(z3+ot+".label"),description:s(z3+ot+".description")}),be=de("red"),_e=de("green"),Ae=de("blue"),ze=de("hex");return Ps(jp.sketch(ot=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ot.field("red",As.sketch(E(Z2,"red",be.label,be.description,255))),ot.field("green",As.sketch(E(Z2,"green",_e.label,_e.description,255))),ot.field("blue",As.sketch(E(Z2,"blue",Ae.label,Ae.description,255))),ot.field("hex",As.sketch(E(sI,"hex",ze.label,ze.description,"ffffff"))),F.asSpec()],formBehaviours:Zt([cg.config({invalidClass:a("form-invalid")}),Co("rgb-form-events",[St(aN,fe),St(lN,Ce),St(cN,Ce)])])})),{apis:{updateHex:(ot,Et)=>{lt.setValue(ot,{hex:Et.value}),((_t,wt)=>{const Ht=qd(wt);D(_t,Ht),me(Ht)})(ot,Et),P(ot,Et)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,J,ue)=>{q.updateHex(J,ue)}},extraApis:{}})},uN=(s,a,u,f)=>bu({name:"ColourPicker",configFields:[Dt("dom"),it("onValidHex",le),it("onInvalidHex",le)],factory:b=>{const w=I7(s,a,b.onValidHex,b.onInvalidHex,u,f),k=((Ce,fe)=>{const de=Jd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[fe("sv-palette-spectrum")]}}),be=Jd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[fe("sv-palette-thumb")],innerHtml:`<div class=${fe("sv-palette-inner-thumb")} role="presentation"></div>`}}),_e=(Ae,ze)=>{const{width:ot,height:Et}=Ae,_t=Ae.getContext("2d");if(_t===null)return;_t.fillStyle=ze,_t.fillRect(0,0,ot,Et);const wt=_t.createLinearGradient(0,0,ot,0);wt.addColorStop(0,"rgba(255,255,255,1)"),wt.addColorStop(1,"rgba(255,255,255,0)"),_t.fillStyle=wt,_t.fillRect(0,0,ot,Et);const Ht=_t.createLinearGradient(0,0,0,Et);Ht.addColorStop(0,"rgba(0,0,0,0)"),Ht.addColorStop(1,"rgba(0,0,0,1)"),_t.fillStyle=Ht,_t.fillRect(0,0,ot,Et)};return bu({factory:Ae=>{const ze=K({x:0,y:0}),ot=Zt([ns.config({find:O.some}),no.config({})]);return Jd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Ce(["Saturation {0}%, Brightness {1}%",0,0])},classes:[fe("sv-palette")]},model:{mode:"xy",getInitialValue:ze},rounded:!1,components:[de,be],onChange:(Et,_t,wt)=>{ne(wt)||sn(Et.element,"aria-valuetext",Ce(["Saturation {0}%, Brightness {1}%",Math.floor(wt.x),Math.floor(100-wt.y)])),Rn(Et,F3,{value:wt})},onInit:(Et,_t,wt,Ht)=>{_e(wt.element.dom,lI(cI))},sliderBehaviours:ot})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ae,ze,ot)=>{((Et,_t)=>{const wt=Et.components()[0].element.dom,Ht=Q0(_t,100,100),mn=aI(Ht);_e(wt,lI(mn))})(ze,ot)},setThumb:(Ae,ze,ot)=>{((Et,_t)=>{const wt=z_(qd(_t));Jd.setValue(Et,{x:wt.saturation,y:100-wt.value}),sn(Et.element,"aria-valuetext",Ce(["Saturation {0}%, Brightness {1}%",wt.saturation,wt.value]))})(ze,ot)}},extraApis:{}})})(s,a),E={paletteRgba:Bn(cI),paletteHue:Bn(0)},D=Cs(((Ce,fe)=>{const de=Jd.parts.spectrum({dom:{tag:"div",classes:[fe("hue-slider-spectrum")],attributes:{role:"presentation"}}}),be=Jd.parts.thumb({dom:{tag:"div",classes:[fe("hue-slider-thumb")],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:[fe("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:K(0)},components:[de,be],sliderBehaviours:Zt([no.config({})]),onChange:(_e,Ae,ze)=>{sn(_e.element,"aria-valuenow",Math.floor(360-3.6*ze)),Rn(_e,vS,{value:ze})}})})(0,a)),F=Cs(k.sketch({})),P=Cs(w.sketch({})),z=(Ce,fe,de)=>{F.getOpt(Ce).each(be=>{k.setHue(be,de)})},q=(Ce,fe)=>{P.getOpt(Ce).each(de=>{w.updateHex(de,fe)})},J=(Ce,fe,de)=>{D.getOpt(Ce).each(be=>{Jd.setValue(be,(_e=>100-_e/360*100)(de))})},ue=(Ce,fe)=>{F.getOpt(Ce).each(de=>{k.setThumb(de,fe)})},me=(Ce,fe,de,be)=>{((_e,Ae)=>{const ze=qd(_e);E.paletteRgba.set(ze),E.paletteHue.set(Ae)})(fe,de),Mt(be,_e=>{_e(Ce,fe,de)})};return{uid:b.uid,dom:b.dom,components:[F.asSpec(),D.asSpec(),P.asSpec()],behaviours:Zt([Co("colour-picker-events",[St(nw,(()=>{const Ce=[z,J,ue];return(fe,de)=>{const be=de.event.hex,_e=(Ae=>z_(qd(Ae)))(be);me(fe,be,_e.hue,Ce)}})()),St(F3,(()=>{const Ce=[q];return(fe,de)=>{const be=de.event.value,_e=E.paletteHue.get(),Ae=Q0(_e,be.x,100-be.y),ze=H_(Ae);me(fe,ze,_e,Ce)}})()),St(vS,(()=>{const Ce=[z,q];return(fe,de)=>{const be=(Et=>(100-Et)/100*360)(de.event.value),_e=E.paletteRgba.get(),Ae=z_(_e),ze=Q0(be,Ae.saturation,Ae.value),ot=H_(ze);me(fe,ot,be,Ce)}})())]),ns.config({find:Ce=>P.getOpt(Ce)}),Nn.config({mode:"acyclic"})])}}}),mg=()=>ns.config({find:O.some}),H3=s=>ns.config({find:a=>cr(a.element,s).bind(u=>a.getSystem().getByDom(u).toOptional())}),$3=Wn([it("preprocess",ye),it("postprocess",ye)]),U3=(s,a)=>{const u=Ea("RepresentingConfigs.memento processors",$3,a);return lt.config({store:{mode:"manual",getValue:f=>{const p=s.get(f),b=lt.getValue(p);return u.postprocess(b)},setValue:(f,p)=>{const b=u.preprocess(p),w=s.get(f);lt.setValue(w,b)}}})},Yb=(s,a,u)=>lt.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:a,setValue:u}}),W3=(s,a,u)=>Yb(s,f=>a(f.element),(f,p)=>u(f.element,p)),sw=s=>lt.config({store:{mode:"memory",initialValue:s}}),N7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var dN=tinymce.util.Tools.resolve("tinymce.Resource");const Z3=s=>Eo(s,"init");var Eh=tinymce.util.Tools.resolve("tinymce.util.Tools");const j3=(s,a)=>{let u=null;const f=()=>{R(u)||(clearTimeout(u),u=null)};return{cancel:f,throttle:(...p)=>{f(),u=setTimeout(()=>{u=null,s.apply(null,p)},a)}}},K3=bn("alloy-fake-before-tabstop"),G3=bn("alloy-fake-after-tabstop"),fN=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Zt([no.config({ignore:!0}),Zs.config({})])}),q3=(s,a)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[fN([K3]),a,fN([G3])],behaviours:Zt([H3(1)])}),Y3=(s,a)=>{Rn(s,Sr(),{raw:{which:9,shiftKey:a}})},P7=(s,a)=>{const u=a.element;tl(u,K3)?Y3(s,!0):tl(u,G3)&&Y3(s,!1)},ry=s=>ny(s,["."+K3,"."+G3].join(","),Ee),Kp=bn("update-dialog"),X3=bn("update-title"),mN=bn("update-body"),gN=bn("update-footer"),J3=bn("body-send-message"),xS=bn("dialog-focus-shifted"),Q3=ra().browser,iy=Q3.isSafari(),hN=Q3.isFirefox(),e4=iy||hN,pN=Q3.isChromium(),M7=({scrollTop:s,scrollHeight:a,clientHeight:u})=>Math.ceil(s)+u>=a,vN=(s,a)=>s.scrollTo(0,a==="bottom"?99999999:a),t4=(s,a,u)=>{const f=s.dom;O.from(f.contentDocument).fold(u,p=>{let b=0;const w=((E,D)=>{const F=E.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(D)&&(!pN&&!iy||G(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(p,a).map(E=>(b=E.scrollTop,E)).forall(M7),k=()=>{const E=f.contentWindow;G(E)&&(w?vN(E,"bottom"):!w&&e4&&b!==0&&vN(E,b))};iy&&f.addEventListener("load",k,{once:!0}),p.open(),p.write(a),p.close(),iy||k()})},n4=rs(e4,iy?500:200).map(s=>((a,u)=>{let f=null,p=null;return{cancel:()=>{R(f)||(clearTimeout(f),f=null,p=null)},throttle:(...b)=>{p=b,R(f)&&(f=setTimeout(()=>{const w=p;f=null,p=null,a.apply(null,w)},u))}}})(t4,s)),wS=bn("toolbar.button.execute"),Gp=bn("common-button-display-events"),o4={[pl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ua()]:["toolbar-button-events",Gp],[Dc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Rt()]:["focusing","alloy.base.behaviour",Gp]},CS=s=>co(s.element,"width",wr(s.element,"width")),bN=(s,a,u)=>Wc(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},a),rw=(s,a)=>bN(s,a,[]),qp=(s,a)=>bN(s,a,[qn.config({})]),s4=(s,a,u)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Fr(u.translate(s))],behaviours:Zt([qn.config({})])}),Su=bn("update-menu-text"),ud=bn("update-menu-icon"),r4=(s,a,u,f)=>{const p=Bn(le),b=s.text.map(ue=>Cs(s4(ue,a,u.providers))),w=s.icon.map(ue=>Cs(qp(ue,u.providers.icons))),k=(ue,me)=>{const Ce=lt.getValue(ue);return no.focus(Ce),Rn(Ce,"keydown",{raw:me.event.raw}),Cl.close(Ce),O.some(!0)},E=s.role.fold(()=>({}),ue=>({role:ue})),D=O.from(s.listRole).map(ue=>({listRole:ue})).getOr({}),F=s.ariaLabel.fold(()=>({}),ue=>({"aria-label":u.providers.translate(ue)})),P=Wc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},u.providers.icons),z=bn("common-button-display-events"),q="dropdown-events";return Cs(Cl.sketch({...s.uid?{uid:s.uid}:{},...E,...D,dom:{tag:"button",classes:[a,`${a}--select`].concat(Ye(s.classes,ue=>`${a}--${ue}`)),attributes:{...F,...G(f)?{"data-mce-name":f}:{}}},components:G0([w.map(ue=>ue.asSpec()),b.map(ue=>ue.asSpec()),O.some(P)]),matchWidth:!0,useMinWidth:!0,onOpen:(ue,me,Ce)=>{s.searchable&&(fe=>{DR(fe).each(de=>no.focus(de))})(Ce)},dropdownBehaviours:Zt([...s.dropdownBehaviours,Da(()=>s.disabled||u.providers.isDisabled()),Pi(),Kb.config({}),qn.config({}),...s.tooltip.map(ue=>si.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(ue)}))).toArray(),Co(q,[Vp(s,p),xh(s,p)]),Co(z,[sr((ue,me)=>s.listRole==="listbox"?le:CS(ue))]),Co("menubutton-update-display-text",[St(Su,(ue,me)=>{b.bind(Ce=>Ce.getOpt(ue)).each(Ce=>{qn.set(Ce,[Fr(u.providers.translate(me.event.text))])})}),St(ud,(ue,me)=>{w.bind(Ce=>Ce.getOpt(ue)).each(Ce=>{qn.set(Ce,[qp(me.event.icon,u.providers.icons)])})})])]),eventOrder:Ps(o4,{[Rt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ua()]:["toolbar-button-events",si.name(),q,z]}),sandboxBehaviours:Zt([Nn.config({mode:"special",onLeft:k,onRight:k}),Co("dropdown-sandbox-events",[St(AR,(ue,me)=>{(Ce=>{const fe=lt.getValue(Ce),de=M2(Ce).map(RR);Cl.refetch(fe).get(()=>{const be=Vr.getCoupled(fe,"sandbox");de.each(_e=>M2(be).each(Ae=>((ze,ot)=>{lt.setValue(ze,ot.fetchPattern),ze.element.dom.selectionStart=ot.selectionStart,ze.element.dom.selectionEnd=ot.selectionEnd})(Ae,_e)))})})(ue),me.stop()}),St(TR,(ue,me)=>{((Ce,fe)=>{(de=>T.getState(de).bind(Ss.getHighlighted).bind(Ss.getHighlighted))(Ce).each(de=>{((be,_e,Ae,ze)=>{const ot={...ze,target:_e};be.getSystem().triggerEvent(Ae,_e,ot)})(Ce,de.element,fe.event.eventType,fe.event.interactionEvent)})})(ue,me),me.stop()})])]),lazySink:u.getSink,toggleClass:`${a}--active`,parts:{menu:{...A_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:RI,onCollapseMenu:(ue,me,Ce)=>{Ss.getHighlighted(Ce).each(fe=>{RI(ue,Ce,fe)})},onDehighlightItem:o7}}},getAnchorOverrides:()=>({maxHeightFunction:(ue,me)=>{Km()(ue,me-10)}}),fetch:ue=>zp(Ue(s.fetch,ue))})).asSpec()},_S=s=>s.type==="separator",SS={type:"separator"},yN=(s,a)=>{const u=((f,p)=>{const b=_n(f,(w,k)=>(E=>v(E))(k)?k===""?w:k==="|"?w.length>0&&!_S(w[w.length-1])?w.concat([SS]):w:Eo(p,k.toLowerCase())?w.concat([p[k.toLowerCase()]]):w:w.concat([k]),[]);return b.length>0&&_S(b[b.length-1])&&b.pop(),b})(v(s)?s.split(" "):s,a);return fn(u,(f,p)=>{if((b=>Eo(b,"getSubmenuItems"))(p)){const b=(k=>{const E=hn(k,"value").getOrThunk(()=>bn("generated-menu-item"));return Ps({value:E},k)})(p),w=((k,E)=>{const D=k.getSubmenuItems(),F=yN(D,E);return{item:k,menus:Ps(F.menus,{[k.value]:F.items}),expansions:Ps(F.expansions,{[k.value]:k.value})}})(b,a);return{menus:Ps(f.menus,w.menus),items:[w.item,...f.items],expansions:Ps(f.expansions,w.expansions)}}return{...f,items:[p,...f.items]}},{menus:{},expansions:{},items:[]})},Xb=(s,a,u,f)=>{const p=bn("primary-menu"),b=yN(s,u.shared.providers.menuItems());if(b.items.length===0)return O.none();const w=(P=>P.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(f),k=II(p,b.items,a,u,f.isHorizontalMenu,w),E=(P=>P.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(f),D=On(b.menus,(P,z)=>II(z,P,a,u,!1,E)),F=Ps(D,au(p,k));return O.from(hh.tieredData(p,F,b.expansions))},iw=s=>!Eo(s,"items"),i4="data-value",kS=(s,a,u,f,p)=>Ye(u,b=>iw(b)?{type:"togglemenuitem",...p?{}:{role:"option"},text:b.text,value:b.value,active:b.value===f,onAction:()=>{lt.setValue(s,b.value),Rn(s,al,{name:a}),no.focus(s)}}:{type:"nestedmenuitem",text:b.text,getSubmenuItems:()=>kS(s,a,b.items,f,p)}),ES=(s,a)=>Vt(s,u=>iw(u)?rs(u.value===a,u):ES(u.items,a)),B7=bu({name:"HtmlSelect",configFields:[Dt("options"),yn("selectBehaviours",[no,lt]),it("selectClasses",[]),it("selectAttributes",{}),Ko("data")],factory:(s,a)=>{const u=Ye(s.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),f=s.data.map(p=>au("initialValue",p)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:u,behaviours:yo(s.selectBehaviours,[no.config({}),lt.config({store:{mode:"manual",getValue:p=>If(p.element),setValue:(p,b)=>{const w=zt(s.options);Q(s.options,k=>k.value===b).isSome()?zm(p.element,b):p.element.dom.selectedIndex===-1&&b===""&&w.each(k=>zm(p.element,k.value))},...f}})])}}}),xN=K([it("field1Name","field1"),it("field2Name","field2"),Xu("onLockedChange"),Jg(["lockClass"]),it("locked",!1),so("coupledFieldBehaviours",[ns,lt])]),a4=(s,a)=>wl({factory:As,name:s,overrides:u=>({fieldBehaviours:Zt([Co("coupled-input-behaviour",[St(Im(),f=>{((p,b,w)=>qs(p,b,w).bind(ns.getCurrent))(f,u,a).each(p=>{qs(f,u,"lock").each(b=>{Qn.isOn(b)&&u.onLockedChange(f,p,b)})})})])])})}),wN=K([a4("field1","field2"),a4("field2","field1"),wl({factory:Ua,schema:[Dt("dom")],name:"lock",overrides:s=>({buttonBehaviours:Zt([Qn.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Kc=Bl({name:"FormCoupledInputs",configFields:xN(),partFields:wN(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:Jn(s.coupledFieldBehaviours,[ns.config({find:O.some}),lt.config({store:{mode:"manual",getValue:p=>{const b=DE(p,s,["field1","field2"]);return{[s.field1Name]:lt.getValue(b.field1()),[s.field2Name]:lt.getValue(b.field2())}},setValue:(p,b)=>{const w=DE(p,s,["field1","field2"]);vo(b,s.field1Name)&&lt.setValue(w.field1(),b[s.field1Name]),vo(b,s.field2Name)&&lt.setValue(w.field2(),b[s.field2Name])}}})]),apis:{getField1:p=>qs(p,s,"field1"),getField2:p=>qs(p,s,"field2"),getLock:p=>qs(p,s,"lock")}}),apis:{getField1:(s,a)=>s.getField1(a),getField2:(s,a)=>s.getField2(a),getLock:(s,a)=>s.getLock(a)}}),l4=s=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(a!==null){const u=parseFloat(a[1]),f=a[2];return Lo.value({value:u,unit:f})}return Lo.error(s)},c4=(s,a)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=p=>Eo(u,p);return s.unit===a?O.some(s.value):f(s.unit)&&f(a)?u[s.unit]===u[a]?O.some(s.value):O.some(s.value/u[s.unit]*u[a]):O.none()},u4=s=>O.none(),CN=(s,a)=>{const u=s.label.map(F=>$p(F,a)),f=[ro.config({disabled:()=>s.disabled||a.isDisabled()}),Pi(),Nn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:F=>(ko(F,Q2),O.some(!0))}),Co("textfield-change",[St(Im(),(F,P)=>{Rn(F,al,{name:s.name})}),St(ix(),(F,P)=>{Rn(F,al,{name:s.name})})]),Zs.config({})],p=s.validation.map(F=>cg.config({getRoot:P=>Sa(P.element),invalidClass:"tox-invalid",validator:{validate:P=>{const z=lt.getValue(P),q=F.validator(z);return lg(q===!0?Lo.value(z):Lo.error(q))},validateOnLoad:F.validateOnLoad}})).toArray(),b={...s.placeholder.fold(K({}),F=>({placeholder:a.translate(F)})),...s.inputMode.fold(K({}),F=>({inputmode:F})),"data-mce-name":s.name},w=As.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(F=>({data:F})).getOr({}),inputAttributes:b,inputClasses:[s.classname],inputBehaviours:Zt(eo([f,p])),selectOnFocus:!1,factory:yh}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),D=[ro.config({disabled:()=>s.disabled||a.isDisabled(),onDisabled:F=>{As.getField(F).each(ro.disable)},onEnabled:F=>{As.getField(F).each(ro.enable)}}),Pi()];return J2(u,k,E,D)},aw=(s,a)=>a.getAnimationRoot.fold(()=>s.element,u=>u(s)),Ah=s=>s.dimension.property,Yp=(s,a)=>s.dimension.getDimension(a),Xp=(s,a)=>{const u=aw(s,a);ic(u,[a.shrinkingClass,a.growingClass])},AS=(s,a)=>{Ir(s.element,a.openClass),kr(s.element,a.closedClass),co(s.element,Ah(a),"0px"),Fu(s.element)},d4=(s,a)=>{Ir(s.element,a.closedClass),kr(s.element,a.openClass),ws(s.element,Ah(a))},_N=(s,a,u,f)=>{u.setCollapsed(),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),AS(s,a),a.onStartShrink(s),a.onShrunk(s)},L7=(s,a,u,f)=>{const p=f.getOrThunk(()=>Yp(a,s.element));u.setCollapsed(),co(s.element,Ah(a),p),Fu(s.element);const b=aw(s,a);Ir(b,a.growingClass),kr(b,a.shrinkingClass),AS(s,a),a.onStartShrink(s)},SN=(s,a,u)=>{const f=Yp(a,s.element);(f==="0px"?_N:L7)(s,a,u,O.some(f))},kN=(s,a,u)=>{const f=aw(s,a),p=tl(f,a.shrinkingClass),b=Yp(a,s.element);d4(s,a);const w=Yp(a,s.element);(p?()=>{co(s.element,Ah(a),b),Fu(s.element)}:()=>{AS(s,a)})(),Ir(f,a.shrinkingClass),kr(f,a.growingClass),d4(s,a),co(s.element,Ah(a),w),u.setExpanded(),a.onStartGrow(s)},lw=(s,a,u)=>{const f=aw(s,a);return tl(f,a.growingClass)===!0},EN=(s,a,u)=>{const f=aw(s,a);return tl(f,a.shrinkingClass)===!0};var AN=Object.freeze({__proto__:null,refresh:(s,a,u)=>{if(u.isExpanded()){ws(s.element,Ah(a));const f=Yp(a,s.element);co(s.element,Ah(a),f)}},grow:(s,a,u)=>{u.isExpanded()||kN(s,a,u)},shrink:(s,a,u)=>{u.isExpanded()&&SN(s,a,u)},immediateShrink:(s,a,u)=>{u.isExpanded()&&_N(s,a,u)},hasGrown:(s,a,u)=>u.isExpanded(),hasShrunk:(s,a,u)=>u.isCollapsed(),isGrowing:lw,isShrinking:EN,isTransitioning:(s,a,u)=>lw(s,a)||EN(s,a),toggleGrow:(s,a,u)=>{(u.isExpanded()?SN:kN)(s,a,u)},disableTransitions:Xp,immediateGrow:(s,a,u)=>{u.isExpanded()||(d4(s,a),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),u.setExpanded(),a.onStartGrow(s),a.onGrown(s))}}),F7=Object.freeze({__proto__:null,exhibit:(s,a,u)=>{const f=a.expanded;return jr(f?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:au(a.dimension.property,"0px")})},events:(s,a)=>fo([Of(Nv(),(u,f)=>{f.event.raw.propertyName===s.dimension.property&&(Xp(u,s),a.isExpanded()&&ws(u.element,s.dimension.property),(a.isExpanded()?s.onGrown:s.onShrunk)(u))})])}),TN=[Dt("closedClass"),Dt("openClass"),Dt("shrinkingClass"),Dt("growingClass"),Ko("getAnimationRoot"),Xo("onShrunk"),Xo("onStartShrink"),Xo("onGrown"),Xo("onStartGrow"),it("expanded",!1),Zi("dimension",hi("property",{width:[Ks("property","width"),Ks("getDimension",s=>Oi(s)+"px")],height:[Ks("property","height"),Ks("getDimension",s=>Or(s)+"px")]}))];const ql=Ni({fields:TN,name:"sliding",active:F7,apis:AN,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(s.expanded);return Ii({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ue(a.set,!1),setExpanded:Ue(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),ON=s=>({isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setActive:a=>{const u=s.element;a?(kr(u,"tox-tbtn--enabled"),sn(u,"aria-pressed",!0)):(Ir(u,"tox-tbtn--enabled"),_o(u,"aria-pressed"))},isActive:()=>tl(s.element,"tox-tbtn--enabled"),setText:a=>{Rn(s,Su,{text:a})},setIcon:a=>Rn(s,ud,{icon:a})}),ay=(s,a,u,f,p=!0,b)=>r4({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(w,k)=>{const E={pattern:s.search.isSome()?jb(w):""};s.fetch(D=>{k(Xb(D,Xf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:s.search}))},E,ON(w))},onSetup:s.onSetup,getApi:ON,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Zs.config({})]:[]]},a,u.shared,b),DN=(s,a,u)=>{const f=b=>w=>{const k=!w.isActive();w.setActive(k),b.storage.set(k),u.shared.getSink().each(E=>{a().getOpt(E).each(D=>{za(D.element),Rn(D,Qf,{name:b.name,value:b.storage.get()})})})},p=b=>w=>{w.setActive(b.storage.get())};return b=>{b(Ye(s,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:f(w),onSetup:p(w)}}))}},f4=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Fr(s)]}),m4=bn("leaf-label-event-id"),g4=({leaf:s,onLeafAction:a,visible:u,treeId:f,selectedId:p,backstage:b})=>{const w=s.menu.map(E=>ay(E,"tox-mbtn",b,O.none(),u)),k=[f4(s.title)];return w.each(E=>k.push(E)),Ua.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Sr()]:[m4,"keying"]},buttonBehaviours:Zt([...u?[Zs.config({})]:[],Qn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),yl.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,D)=>{(D.value===s.id?Qn.on:Qn.off)(E)}}}}),Co(m4,[sr((E,D)=>{p.each(F=>{(F===s.id?Qn.on:Qn.off)(E)})}),St(Sr(),(E,D)=>{const F=D.event.raw.code==="ArrowLeft",P=D.event.raw.code==="ArrowRight";F?($m(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(q=>{d0(z,".tox-tree--directory__label").each(J=>{q.getSystem().getByDom(J).each(no.focus)})})}),D.stop()):P&&D.stop()})])])})},RN=bn("directory-label-event-id"),V7=({directory:s,visible:a,noChildren:u,backstage:f})=>{const p=s.menu.map(D=>ay(D,"tox-mbtn",f,O.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=f.shared.providers.icons,((D,F,P)=>Wc(D,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(w,k))]},f4(s.title)];var w,k;p.each(D=>{b.push(D)});const E=D=>{$m(D.element,".tox-tree--directory").each(F=>{D.getSystem().getByDom(F).each(P=>{const z=!Qn.isOn(P);Qn.toggle(P),Rn(D,"expand-tree-node",{expanded:z,node:s.id})})})};return Ua.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:b,action:E,eventOrder:{[Sr()]:[RN,"keying"]},buttonBehaviours:Zt([...a?[Zs.config({})]:[],Co(RN,[St(Sr(),(D,F)=>{const P=F.event.raw.code==="ArrowRight",z=F.event.raw.code==="ArrowLeft";P&&u&&F.stop(),(P||z)&&$m(D.element,".tox-tree--directory").each(q=>{D.getSystem().getByDom(q).each(J=>{!Qn.isOn(J)&&P||Qn.isOn(J)&&z?(E(D),F.stop()):z&&!Qn.isOn(J)&&($m(J.element,".tox-tree--directory").each(ue=>{d0(ue,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each(no.focus)})}),F.stop())})})})])])})},z7=({children:s,onLeafAction:a,visible:u,treeId:f,expandedIds:p,selectedId:b,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?g4({leaf:k,selectedId:b,onLeafAction:a,visible:u,treeId:f,backstage:w}):TS({directory:k,expandedIds:p,selectedId:b,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:w})),behaviours:Zt([ql.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),qn.config({})])}),IN=bn("directory-event-id"),TS=({directory:s,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:p,expandedIds:b,selectedId:w})=>{const{children:k}=s,E=Bn(b),D=b.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[V7({directory:s,visible:u,noChildren:s.children.length===0,backstage:p}),z7({children:k,expandedIds:b,selectedId:w,onLeafAction:a,visible:D,treeId:f,backstage:p})],behaviours:Zt([Co(IN,[sr((F,P)=>{Qn.set(F,D)}),St("expand-tree-node",(F,P)=>{const{expanded:z,node:q}=P.event;E.set(z?[...E.get(),q]:E.get().filter(J=>J!==q))})]),Qn.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,P)=>{const z=F.components()[1],q=(J=P,k.map(ue=>ue.type==="leaf"?g4({leaf:ue,selectedId:w,onLeafAction:a,visible:J,treeId:f,backstage:p}):TS({directory:ue,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:J,treeId:f,backstage:p})));var J;P?ql.grow(z):ql.shrink(z),qn.set(z,q)}})])}},H7=bn("tree-event-id");var $7=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.stream.streams.setup(s,a);return fo([St(s.event,u),Yu(()=>a.cancel())].concat(s.cancelEvent.map(f=>[St(f,()=>a.cancel())]).getOr([])))}});const NN=s=>{const a=Bn(null);return Ii({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:u=>{a.set(u)},cancel:()=>{const u=a.get();u!==null&&u.cancel()}})};var U7=Object.freeze({__proto__:null,throttle:NN,init:s=>s.stream.streams.state(s)}),W7=[Zi("stream",hi("mode",{throttle:[Dt("delay"),it("stopEvent",!0),Ks("streams",{setup:(s,a)=>{const u=s.stream,f=j3(s.onStream,u.delay);return a.setTimer(f),(p,b)=>{f.throttle(p,b),u.stopEvent&&b.stop()}},state:NN})]})),it("event","input"),Ko("cancelEvent"),Xu("onStream")];const h4=Ni({fields:W7,name:"streaming",active:$7,state:U7}),OS=(s,a,u)=>{const f=lt.getValue(u);lt.setValue(a,f),p4(a)},DS=(s,a)=>{const u=s.element,f=If(u),p=u.dom;Mo(u,"type")!=="number"&&a(p,f)},p4=s=>{DS(s,(a,u)=>a.setSelectionRange(u.length,u.length))},v4=K("alloy.typeahead.itemexecute"),Z7=K([Ko("lazySink"),Dt("fetch"),it("minChars",5),it("responseTime",1e3),Xo("onOpen"),it("getHotspot",O.some),it("getAnchorOverrides",K({})),it("layouts",O.none()),it("eventOrder",{}),Va("model",{},[it("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),it("selectsOver",!0),it("populateFromBrowse",!0)]),Xo("onSetValue"),vl("onExecute"),Xo("onItemExecute"),it("inputClasses",[]),it("inputAttributes",{}),it("inputStyles",{}),it("matchWidth",!0),it("useMinWidth",!1),it("dismissOnBlur",!0),Jg(["openClass"]),Ko("initialData"),Ko("listRole"),yn("typeaheadBehaviours",[no,lt,h4,Nn,Qn,Vr]),Wi("lazyTypeaheadComp",()=>Bn(O.none)),Wi("previewing",()=>Bn(!0))].concat(AF()).concat(d3())),PN=K([jd({schema:[Xg()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(a,u,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(p=>{((b,w,k)=>{if(b.selectsOver){const E=lt.getValue(w),D=b.getDisplayText(E),F=lt.getValue(k);return b.getDisplayText(F).indexOf(D)===0?O.some(()=>{OS(0,w,k),((P,z)=>{DS(P,(q,J)=>q.setSelectionRange(z,J.length))})(w,D.length)}):O.none()}return O.none()})(s.model,p,f).fold(()=>{s.model.selectsOver?(Ss.dehighlight(u,f),s.previewing.set(!0)):s.previewing.set(!1)},b=>{b(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(p=>{s.model.populateFromBrowse&&OS(s.model,p,f),jo(f.element,"id").each(b=>sn(p.element,"aria-activedescendant",b))})},onExecute:(a,u)=>s.lazyTypeaheadComp.get().map(f=>(Rn(f,v4(),{item:u}),!0)),onHover:(a,u)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&OS(s.model,f,u)})}})})]),j7=Bl({name:"Typeahead",configFields:Z7(),partFields:PN(),factory:(s,a,u,f)=>{const p=(P,z,q)=>{s.previewing.set(!1);const J=Vr.getCoupled(P,"sandbox");if(T.isOpen(J))ns.getCurrent(J).each(ue=>{Ss.getHighlighted(ue).fold(()=>{q(ue)},()=>{Ic(J,ue.element,"keydown",z)})});else{const ue=me=>{ns.getCurrent(me).each(q)};Z_(s,w(P),P,J,f,ue,il.HighlightMenuAndItem).get(le)}},b=TF(s),w=P=>z=>z.map(q=>{const J=Ar(q.menus),ue=tn(J,me=>Fn(me.items,Ce=>Ce.type==="item"));return lt.getState(P).update(Ye(ue,me=>me.data)),q}),k=P=>ns.getCurrent(P),E="typeaheadevents",D=[no.config({}),lt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:P=>If(P.element),getFallbackEntry:P=>({value:P,meta:{}}),setValue:(P,z)=>{zm(P.element,s.model.getDisplayText(z))},...s.initialData.map(P=>au("initialValue",P)).getOr({})}}),h4.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(P,z)=>{const q=Vr.getCoupled(P,"sandbox");if(no.isFocused(P)&&If(P.element).length>=s.minChars){const J=k(q).bind(me=>Ss.getHighlighted(me).map(lt.getValue));s.previewing.set(!0);const ue=me=>{k(q).each(Ce=>{J.fold(()=>{s.model.selectsOver&&Ss.highlightFirst(Ce)},fe=>{Ss.highlightBy(Ce,de=>lt.getValue(de).value===fe.value),Ss.getHighlighted(Ce).orThunk(()=>(Ss.highlightFirst(Ce),O.none()))})})};Z_(s,w(P),P,q,f,ue,il.HighlightJustMenu).get(le)}},cancelEvent:Md()}),Nn.config({mode:"special",onDown:(P,z)=>(p(P,z,Ss.highlightFirst),O.some(!0)),onEscape:P=>{const z=Vr.getCoupled(P,"sandbox");return T.isOpen(z)?(T.close(z),O.some(!0)):O.none()},onUp:(P,z)=>(p(P,z,Ss.highlightLast),O.some(!0)),onEnter:P=>{const z=Vr.getCoupled(P,"sandbox"),q=T.isOpen(z);if(q&&!s.previewing.get())return k(z).bind(J=>Ss.getHighlighted(J)).map(J=>(Rn(P,v4(),{item:J}),!0));{const J=lt.getValue(P);return ko(P,Md()),s.onExecute(z,P,J),q&&T.close(z),O.some(!0)}}}),Qn.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),Vr.config({others:{sandbox:P=>u3(s,P,{onOpen:()=>Qn.on(P),onClose:()=>{s.lazyTypeaheadComp.get().each(z=>_o(z.element,"aria-activedescendant")),Qn.off(P)}})}}),Co(E,[sr(P=>{s.lazyTypeaheadComp.set(O.some(P))}),Yu(P=>{s.lazyTypeaheadComp.set(O.none())}),uu(P=>{const z=le;l3(s,w(P),P,f,z,il.HighlightMenuAndItem).get(le)}),St(v4(),(P,z)=>{const q=Vr.getCoupled(P,"sandbox");OS(s.model,P,z.event.item),ko(P,Md()),s.onItemExecute(P,q,z.event.item,lt.getValue(P)),T.close(q),p4(P)})].concat(s.dismissOnBlur?[St(rp(),P=>{const z=Vr.getCoupled(P,"sandbox");qr(z.element).isNone()&&T.close(z)})]:[]))],F={[Dc()]:[lt.name(),h4.name(),E],...s.eventOrder};return{uid:s.uid,dom:ER(Ps(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...yo(s.typeaheadBehaviours,D)},eventOrder:F}}}),Jb=s=>({...s,toCached:()=>Jb(s.toCached()),bindFuture:a=>Jb(s.bind(u=>u.fold(f=>lg(Lo.error(f)),f=>a(f)))),bindResult:a=>Jb(s.map(u=>u.bind(a))),mapResult:a=>Jb(s.map(u=>u.map(a))),mapError:a=>Jb(s.map(u=>u.mapError(a))),foldResult:(a,u)=>s.map(f=>f.fold(a,u)),withTimeout:(a,u)=>Jb(zp(f=>{let p=!1;const b=setTimeout(()=>{p=!0,f(Lo.error(u()))},a);s.get(w=>{p||(clearTimeout(b),f(w))})}))}),MN=s=>Jb(zp(s)),cw=(s,a,u=[],f,p,b,w)=>{const k=a.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Zt([Da(()=>!s.enabled||w.isDisabled()),Pi(),Zs.config({}),...b.map(F=>si.config(w.tooltips.getConfig({tooltipText:w.translate(F)}))).toArray(),Co("button press",[xC("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},D=Ps(E,{dom:f});return Ps(D,{components:p})},BN=(s,a,u,f=[],p)=>{const b={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":p}},w=s.icon.map(E=>rw(E,u.icons)),k=G0([w]);return cw(s,a,f,b,k,s.tooltip,u)},b4=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},LN=(s,a,u,f=[],p=[])=>{const b=u.translate(s.text),w=s.icon.map(P=>rw(P,u.icons)),k=[w.getOrThunk(()=>Fr(b))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),D={tag:"button",classes:[...b4(E),...w.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":b,"data-mce-name":s.text}},F=s.icon.map(K(b));return cw(s,a,f,D,k,F,u)},FN=(s,a,u,f=[],p=[])=>{const b=LN(s,O.some(a),u,f,p);return Ua.sketch(b)},y4=(s,a)=>u=>{a==="custom"?Rn(u,Qf,{name:s,value:{}}):a==="submit"?ko(u,Q2):a==="cancel"?ko(u,_h):console.error("Unknown button type: ",a)},ly=(s,a,u)=>{if(((f,p)=>p==="menu")(0,a)){const f=()=>w,p=s,b={...s,type:"menubutton",search:O.none(),onSetup:k=>(k.setEnabled(s.enabled),le),fetch:DN(p.items,f,u)},w=Cs(ay(b,"tox-tbtn",u,O.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return w.asSpec()}if(((f,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const f=y4(s.name,a),p={...s,borderless:!1};return FN(p,f,u.shared.providers,[])}if(((f,p)=>p==="togglebutton")(0,a))return((f,p,b)=>{var w,k;const E=f.icon.map(de=>qp(de,p.icons)).map(Cs),D=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(w=f.name)!==null&&w!==void 0?w:"",primary:D==="primary",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k,borderless:!1},P=F.tooltip.or(f.text).map(de=>({"aria-label":p.translate(de)})).getOr({}),z=b4(D??"secondary"),q=f.icon.isSome()&&f.text.isSome(),J={tag:"button",classes:[...z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...q?["tox-button--icon-and-text"]:[]],attributes:{...P,...G(b)?{"data-mce-name":b}:{}}},ue=p.translate(f.text.getOr("")),me=Fr(ue),Ce=[...G0([E.map(de=>de.asSpec())]),...f.text.isSome()?[me]:[]],fe=cw(F,O.some(de=>{Rn(de,Qf,{name:f.name,value:{setIcon:be=>{E.map(_e=>_e.getOpt(de).each(Ae=>{qn.set(Ae,[qp(be,p.icons)])}))}}})}),[],J,Ce,f.tooltip,p);return Ua.sketch(fe)})(s,u.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},K7={type:"separator"},G7=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:le}),x4=(s,a)=>({type:"menuitem",value:a,text:s,meta:{attach:void 0},onAction:le}),VN=(s,a)=>(u=>Ye(u,G7))(((u,f)=>Fn(f,p=>p.type===u))(s,a)),q7=s=>VN("header",s.targets),Y7=s=>VN("anchor",s.targets),zN=s=>O.from(s.anchorTop).map(a=>x4("<top>",a)).toArray(),HN=s=>O.from(s.anchorBottom).map(a=>x4("<bottom>",a)).toArray(),w4=(s,a)=>{const u=s.toLowerCase();return Fn(a,f=>{var p;const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=(p=f.value)!==null&&p!==void 0?p:"";return ei(b.toLowerCase(),u)||ei(w.toLowerCase(),u)})},$N=bn("aria-invalid"),X7=(s,a)=>{s.dom.checked=a},Gc=s=>s.dom.checked,br=s=>(a,u,f,p,b)=>hn(u,"name").fold(()=>s(u,p,O.none(),b),w=>a.field(w,s(u,p,hn(f,w),b))),J7={bar:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),collection:br((s,a,u)=>FI(s,a.shared.providers,u)),alertbanner:br((s,a)=>((u,f)=>{const p=vR(u.icon,f.icons);return Yd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:p},components:u.url?[Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:f.translate(u.iconTooltip)}},action:b=>Rn(b,Qf,{name:"alert-banner",value:u.url}),buttonBehaviours:Zt([S_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]})})(s,a.shared.providers)),input:br((s,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:O.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),textarea:br((s,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!0,label:f.label,inputMode:O.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:O.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),label:br((s,a,u,f)=>((p,b,w)=>{const k="tox-label",E=p.align==="center"?[`${k}--center`]:[],D=p.align==="end"?[`${k}--end`]:[],F=Cs({dom:{tag:"label",classes:[k,...E,...D]},components:[Fr(b.providers.translate(p.label))]}),P=Ye(p.items,b.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...P],behaviours:Zt([mg(),qn.config({}),(z=O.none(),W3(z,Fd,Gg)),Nn.config({mode:"acyclic"}),Co("label",[sr(q=>{p.for.each(J=>{w(J).each(ue=>{F.getOpt(q).each(me=>{var Ce;const fe=(Ce=Mo(ue.element,"id"))!==null&&Ce!==void 0?Ce:bn("form-field");sn(ue.element,"id",fe),sn(me.element,"for",fe)})})})})])])};var z})(s,a.shared,f)),iframe:($4=(s,a,u)=>((f,p,b)=>{const w="tox-dialog__iframe",k=f.transparent?[]:[`${w}--opaque`],E=f.border?["tox-navobj-bordered"]:[],D={...f.label.map(q=>({title:q})).getOr({}),...b.map(q=>({srcdoc:q})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((q,J)=>{const ue=Bn(q.getOr(""));return{getValue:me=>ue.get(),setValue:(me,Ce)=>{if(ue.get()!==Ce){const fe=me.element,de=()=>sn(fe,"srcdoc",Ce);J?n4.fold(K(t4),be=>be.throttle)(fe,Ce,de):de()}ue.set(Ce)}}})(b,f.streamContent),P=f.label.map(q=>$p(q,p)),z=As.parts.field({factory:{sketch:q=>q3(O.from(E),{uid:q.uid,dom:{tag:"iframe",attributes:D,classes:[w,...k]},behaviours:Zt([Zs.config({}),no.config({}),Yb(b,F.getValue,F.setValue),yl.config({channels:{[xS]:{onReceive:(J,ue)=>{ue.newFocus.each(me=>{Sa(J.element).each(Ce=>{(is(J.element,me)?kr:Ir)(Ce,"tox-navobj-bordered-focus")})})}}}})])})}});return J2(P,z,["tox-form__group--stretched"],[])})(s,a.shared.providers,u),(s,a,u,f,p)=>{const b=Ps(a,{source:"dynamic"});return br($4)(s,b,u,f,p)}),button:br((s,a)=>((u,f)=>{const p=y4(u.name,"custom");return b=O.none(),w=As.parts.field({factory:Ua,...LN(u,O.some(p),f,[sw(""),mg()])}),J2(b,w,[],[]);var b,w})(s,a.shared.providers)),checkbox:br((s,a,u)=>((f,p,b)=>{const w=P=>(P.element.dom.click(),O.some(!0)),k=As.parts.field({factory:{sketch:ye},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([mg(),ro.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:P=>{Sa(P.element).each(z=>kr(z,"tox-checkbox--disabled"))},onEnabled:P=>{Sa(P.element).each(z=>Ir(z,"tox-checkbox--disabled"))}}),Zs.config({}),no.config({}),W3(b,Gc,X7),Nn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),Co("checkbox-events",[St(Nm(),(P,z)=>{Rn(P,al,{name:f.name})})])])}),E=As.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Fr(p.translate(f.label))],behaviours:Zt([Kb.config({})])}),D=P=>Wc(P==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+P]},p.icons),F=Cs({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[D("checked"),D("unchecked")]});return As.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled()}),Pi()])})})(s,a.shared.providers,u)),colorinput:br((s,a,u)=>((f,p,b,w)=>{const k=As.parts.field({factory:yh,inputClasses:["tox-textfield"],data:w,onSetValue:P=>cg.run(P).get(le),inputBehaviours:Zt([ro.config({disabled:p.providers.isDisabled}),Pi(),Zs.config({}),cg.config({invalidClass:"tox-textbox-field-invalid",getRoot:P=>Sa(P.element),notify:{onValid:P=>{const z=lt.getValue(P);Rn(P,x3,{color:z})}},validator:{validateOnLoad:!1,validate:P=>{const z=lt.getValue(P);if(z.length===0)return lg(Lo.value(!0));{const q=Ti("span");co(q,"background-color",z);const J=Hr(q,"background-color").fold(()=>Lo.error("blah"),ue=>Lo.value(z));return lg(J)}}}})]),selectOnFocus:!1}),E=f.label.map(P=>$p(P,p.providers)),D=(P,z)=>{Rn(P,w3,{value:z})},F=Cs(((P,z)=>Cl.sketch({dom:P.dom,components:P.components,toggleClass:"mce-active",dropdownBehaviours:Zt([Da(z.providers.isDisabled),Pi(),Kb.config({}),Zs.config({})]),layouts:P.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:q=>zp(J=>P.fetch(J)).map(J=>O.from(f3(Ps(Zb(bn("menu-value"),J,ue=>{P.onItemAction(q,ue)},P.columns,P.presets,Xf.CLOSE_ON_EXECUTE,Ee,z.providers),{movement:K2(P.columns,P.presets)})))),parts:{menu:A_(0,0,P.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Pr,Nr,Gr],onLtr:()=>[Nr,Pr,Gr]},components:[],fetch:bI(b.getColors(f.storageKey),f.storageKey,b.hasCustomColors()),columns:b.getColorCols(f.storageKey),presets:"color",onItemAction:(P,z)=>{F.getOpt(P).each(q=>{z==="custom"?b.colorPicker(J=>{J.fold(()=>ko(q,UI),ue=>{D(q,ue),GA(f.storageKey,ue)})},"#ffffff"):D(q,z==="remove"?"":z)})}},p));return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Zt([Co("form-field-events",[St(x3,(P,z)=>{F.getOpt(P).each(q=>{co(q.element,"background-color",z.event.color)}),Rn(P,al,{name:f.name})}),St(w3,(P,z)=>{As.getField(P).each(q=>{lt.setValue(q,z.event.value),ns.getCurrent(P).each(no.focus)})}),St(UI,(P,z)=>{As.getField(P).each(q=>{ns.getCurrent(P).each(no.focus)})})])])})})(s,a.shared,a.colorinput,u)),colorpicker:br((s,a,u)=>((f,p,b)=>{const w=D=>"tox-"+D,k=uN((D=>F=>v(F)?D.translate(N7[F]):D.translate(F))(p),w,p.tooltips.getConfig,(D,F,P=D,z=D)=>Wc(P,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+D],attributes:{title:p.translate(z),"aria-live":"polite",...F.fold(()=>({}),q=>({id:q}))}},p.icons)),E=Cs(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:D=>{Rn(D,Qf,{name:"hex-valid",value:!0})},onInvalidHex:D=>{Rn(D,Qf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Zt([Yb(b,D=>{const F=E.get(D);return ns.getCurrent(F).bind(P=>lt.getValue(P).hex).map(P=>"#"+$s(P,"#")).getOr("")},(D,F)=>{const P=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(q=>gt(q,1)),z=E.get(D);ns.getCurrent(z).fold(()=>{console.log("Can not find form")},q=>{lt.setValue(q,{hex:P.getOr("")}),jp.getField(q,"hex").each(J=>{ko(J,Im())})})}),mg()])}})(0,a.shared.providers,u)),dropzone:br((s,a,u)=>((f,p,b)=>{const w=(J,ue)=>{ue.stop()},k=J=>(ue,me)=>{Mt(J,Ce=>{Ce(ue,me)})},E=(J,ue)=>{var me;if(!ro.isDisabled(J)){const Ce=ue.event.raw;F(J,(me=Ce.dataTransfer)===null||me===void 0?void 0:me.files)}},D=(J,ue)=>{const me=ue.event.raw.target;F(J,me.files)},F=(J,ue)=>{ue&&(lt.setValue(J,((me,Ce)=>{const fe=Eh.explode(Ce.getOption("images_file_types"));return Fn(Ft(me),de=>pt(fe,be=>Pu(de.name.toLowerCase(),`.${be.toLowerCase()}`)))})(ue,p)),Rn(J,al,{name:f.name}))},P=Cs({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([Co("input-file-events",[Pm(pi()),Pm(_f())])])}),z=f.label.map(J=>$p(J,p)),q=As.parts.field({factory:{sketch:J=>({uid:J.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([sw(b.getOr([])),mg(),ro.config({}),Qn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Co("dropzone-events",[St("dragenter",k([w,Qn.toggle])),St("dragleave",k([w,Qn.toggle])),St("dragover",w),St("drop",k([w,E])),St(Nm(),D)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Fr(p.translate("Drop an image here"))]},Ua.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Fr(p.translate("Browse for an image")),P.asSpec()],action:ue=>{P.get(ue).element.dom.click()},buttonBehaviours:Zt([Zs.config({}),Da(p.isDisabled),Pi()])})]}]})}});return J2(z,q,["tox-form__group--stretched"],[])})(s,a.shared.providers,u)),grid:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),listbox:br((s,a,u)=>((f,p,b)=>{const w=pt(f.items,z=>!iw(z)),k=p.shared.providers,E=b.bind(z=>ES(f.items,z)).orThunk(()=>zt(f.items).filter(iw)),D=f.label.map(z=>$p(z,k)),F=As.parts.field({dom:{},factory:{sketch:z=>r4({uid:z.uid,text:E.map(q=>q.text),icon:O.none(),tooltip:O.none(),role:rs(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(q,J)=>{const ue=kS(q,f.name,f.items,lt.getValue(q),w);J(Xb(ue,Xf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:O.none()}))},onSetup:K(le),getApi:K({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Zs.config({}),Yb(E.map(q=>q.value),q=>Mo(q.element,i4),(q,J)=>{ES(f.items,J).each(ue=>{sn(q.element,i4,ue.value),Rn(q,Su,{text:ue.text})})})]},"tox-listbox",p.shared)}}),P={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([D.toArray(),[P]]),fieldBehaviours:Zt([ro.config({disabled:K(!f.enabled),onDisabled:z=>{As.getField(z).each(ro.disable)},onEnabled:z=>{As.getField(z).each(ro.enable)}})])})})(s,a,u)),selectbox:br((s,a,u)=>((f,p,b)=>{const w=Ye(f.items,P=>({text:p.translate(P.text),value:P.value})),k=f.label.map(P=>$p(P,p)),E=As.parts.field({dom:{},...b.map(P=>({data:P})).getOr({}),selectAttributes:{size:f.size},options:w,factory:B7,selectBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled()}),Zs.config({}),Co("selectbox-change",[St(Nm(),(P,z)=>{Rn(P,al,{name:f.name})})])])}),D=f.size>1?O.none():O.some(Wc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:eo([[E],D.toArray()])};return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([k.toArray(),[F]]),fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:P=>{As.getField(P).each(ro.disable)},onEnabled:P=>{As.getField(P).each(ro.enable)}}),Pi()])})})(s,a.shared.providers,u)),sizeinput:br((s,a)=>((u,f)=>{let p=u4;const b=bn("ratio-event"),w=ue=>Wc(ue,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ue]},f.icons),k=u.label.getOr("Constrain proportions"),E=f.translate(k),D=Kc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zs.config({}),si.config(f.tooltips.getConfig({tooltipText:E}))])}),F=ue=>({dom:{tag:"div",classes:["tox-form__group"]},components:ue}),P=ue=>As.parts.field({factory:yh,inputClasses:["tox-textfield"],inputBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zs.config({}),Co("size-input-events",[St(bs(),(me,Ce)=>{Rn(me,b,{isField1:ue})}),St(Nm(),(me,Ce)=>{Rn(me,al,{name:u.name})})])]),selectOnFocus:!1}),z=ue=>({dom:{tag:"label",classes:["tox-label"]},components:[Fr(f.translate(ue))]}),q=Kc.parts.field1(F([As.parts.label(z("Width")),P(!0)])),J=Kc.parts.field2(F([As.parts.label(z("Height")),P(!1)]));return Kc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,J,F([z(""),D])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ue,me,Ce)=>{l4(lt.getValue(ue)).each(fe=>{p(fe).each(de=>{lt.setValue(me,(be=>{const _e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ae=be.value.toFixed((ze=be.unit)in _e?_e[ze]:1);var ze;return Ae.indexOf(".")!==-1&&(Ae=Ae.replace(/\.?0*$/,"")),Ae+be.unit})(de))})})},coupledFieldBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled(),onDisabled:ue=>{Kc.getField1(ue).bind(As.getField).each(ro.disable),Kc.getField2(ue).bind(As.getField).each(ro.disable),Kc.getLock(ue).each(ro.disable)},onEnabled:ue=>{Kc.getField1(ue).bind(As.getField).each(ro.enable),Kc.getField2(ue).bind(As.getField).each(ro.enable),Kc.getLock(ue).each(ro.enable)}}),Pi(),Co("size-input-events2",[St(b,(ue,me)=>{const Ce=me.event.isField1,fe=Ce?Kc.getField1(ue):Kc.getField2(ue),de=Ce?Kc.getField2(ue):Kc.getField1(ue),be=fe.map(lt.getValue).getOr(""),_e=de.map(lt.getValue).getOr("");p=((Ae,ze)=>{const ot=l4(Ae).toOptional(),Et=l4(ze).toOptional();return Kt(ot,Et,(_t,wt)=>c4(_t,wt.unit).map(Ht=>wt.value/Ht).map(Ht=>{return mn=Ht,kn=wt.unit,Hn=>c4(Hn,kn).map(io=>({value:io*mn,unit:kn}));var mn,kn}).getOr(u4)).getOr(u4)})(be,_e)})])])})})(s,a.shared.providers)),slider:br((s,a,u)=>((f,p,b)=>{const w=Jd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(p.translate(f.label))]}),k=Jd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Jd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:K(b.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[w,k,E],sliderBehaviours:Zt([mg(),no.config({})]),onChoose:(D,F,P)=>{Rn(D,al,{name:f.name,value:P})},onChange:(D,F,P)=>{Rn(D,al,{name:f.name,value:P})}})})(s,a.shared.providers,u)),urlinput:br((s,a,u)=>((f,p,b,w)=>{const k=p.shared.providers,E=fe=>{const de=lt.getValue(fe);b.addToHistory(de.value,f.filetype)},D={...w.map(fe=>({initialData:fe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$N,type:"url"},minChars:0,responseTime:0,fetch:fe=>{const de=((_e,Ae,ze)=>{var ot,Et;const _t=lt.getValue(Ae),wt=(Et=(ot=_t==null?void 0:_t.meta)===null||ot===void 0?void 0:ot.text)!==null&&Et!==void 0?Et:_t.value;return ze.getLinkInformation().fold(()=>[],Ht=>{const mn=w4(wt,(Hn=>Ye(Hn,io=>x4(io,io)))(ze.getHistory(_e)));return _e==="file"?(kn=[mn,w4(wt,q7(Ht)),w4(wt,eo([zN(Ht),Y7(Ht),HN(Ht)]))],_n(kn,(Hn,io)=>Hn.length===0||io.length===0?Hn.concat(io):Hn.concat(K7,io),[])):mn;var kn})})(f.filetype,fe,b),be=Xb(de,Xf.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:O.none()});return lg(be)},getHotspot:fe=>me.getOpt(fe),onSetValue:(fe,de)=>{fe.hasConfigured(cg)&&cg.run(fe).get(le)},typeaheadBehaviours:Zt([...b.getValidationHandler().map(fe=>cg.config({getRoot:de=>Sa(de.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(de,be)=>{z.getOpt(de).each(_e=>{sn(_e.element,"title",k.translate(be))})}},validator:{validate:de=>{const be=lt.getValue(de);return MN(_e=>{fe({type:f.filetype,url:be.value},Ae=>{if(Ae.status==="invalid"){const ze=Lo.error(Ae.message);_e(ze)}else{const ze=Lo.value(Ae.message);_e(ze)}})})},validateOnLoad:!1}})).toArray(),ro.config({disabled:()=>!f.enabled||k.isDisabled()}),Zs.config({}),Co("urlinput-events",[St(Im(),fe=>{const de=If(fe.element),be=de.trim();be!==de&&zm(fe.element,be),f.filetype==="file"&&Rn(fe,al,{name:f.name})}),St(Nm(),fe=>{Rn(fe,al,{name:f.name}),E(fe)}),St(ix(),fe=>{Rn(fe,al,{name:f.name}),E(fe)})])]),eventOrder:{[Im()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:fe=>fe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:A_(0,0,"normal")},onExecute:(fe,de,be)=>{Rn(de,Q2,{})},onItemExecute:(fe,de,be,_e)=>{E(fe),Rn(fe,al,{name:f.name})}},F=As.parts.field({...D,factory:j7}),P=f.label.map(fe=>$p(fe,k)),z=Cs(((fe,de,be=fe,_e=fe)=>Wc(be,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+fe],attributes:{title:k.translate(_e),"aria-live":"polite",...de.fold(()=>({}),Ae=>({id:Ae}))}},k.icons))("invalid",O.some($N),"warning")),q=Cs({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),J=b.getUrlPicker(f.filetype),ue=bn("browser.url.event"),me=Cs({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,q.asSpec()],behaviours:Zt([ro.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Ce=Cs(FN({name:f.name,icon:O.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:O.none(),borderless:!0},fe=>ko(fe,ue),k,[],["tox-browse-url"]));return As.sketch({dom:q_([]),components:P.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:eo([[me.asSpec()],J.map(()=>Ce.asSpec()).toArray()])}]),fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:fe=>{As.getField(fe).each(ro.disable),Ce.getOpt(fe).each(ro.disable)},onEnabled:fe=>{As.getField(fe).each(ro.enable),Ce.getOpt(fe).each(ro.enable)}}),Pi(),Co("url-input-events",[St(ue,fe=>{ns.getCurrent(fe).each(de=>{const be=lt.getValue(de),_e={fieldname:f.name,...be};J.each(Ae=>{Ae(_e).get(ze=>{lt.setValue(de,ze),Rn(fe,al,{name:f.name})})})})})])])})})(s,a,a.urlinput,u)),customeditor:br(s=>{const a=Es(),u=Cs({dom:{tag:s.tag}}),f=Es(),p=!Z3(s)&&s.onFocus.isSome()?[no.config({onFocus:b=>{s.onFocus.each(w=>{w(b.element.dom)})}}),Zs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([Co("custom-editor-events",[sr(b=>{u.getOpt(b).each(w=>{(Z3(s)?s.init(w.element.dom):dN.load(s.scriptId,s.scriptUrl).then(k=>k(w.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),a.set(k)})})})]),Yb(O.none(),()=>a.get().fold(()=>f.get().getOr(""),b=>b.getValue()),(b,w)=>{a.get().fold(()=>f.set(w),k=>k.setValue(w))}),mg()].concat(p)),components:[u.asSpec()]}}),htmlpanel:br((s,a)=>((u,f)=>{const p=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],b=Co("htmlpanel",[sr(w=>{u.onInit(w.element.dom)})]);return u.presets==="presentation"?Yd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html},containerBehaviours:Zt([si.config({...f.tooltips.getConfig({tooltipText:"",onShow:w=>{fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>qr(w.element)).each(k=>{jo(k,"data-mce-tooltip").each(E=>{si.setComponents(w,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>qr(w.element).filter(k=>jo(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:K([Gr,Er,Nr,ni,Pr,Ms]),onRtl:K([Gr,Er,Nr,ni,Pr,Ms])},bubble:ac(0,-2,{})})}),b])}):Yd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:Zt([Zs.config({}),no.config({}),b])})})(s,a.shared.providers)),imagepreview:br((s,a,u)=>((f,p)=>{const b=Bn(p.getOr({url:""})),w=Cs({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(F=>({src:F.url})).getOr({})}}),k=Cs({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};f.height.each(F=>E.height=F);const D=p.map(F=>({url:F.url,zoom:O.from(F.zoom),cachedWidth:O.from(F.cachedWidth),cachedHeight:O.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Zt([mg(),Yb(D,()=>b.get(),(F,P)=>{const z={url:P.url};P.zoom.each(J=>z.zoom=J),P.cachedWidth.each(J=>z.cachedWidth=J),P.cachedHeight.each(J=>z.cachedHeight=J),b.set(z);const q=()=>{const{cachedWidth:J,cachedHeight:ue,zoom:me}=z;if(!L(J)&&!L(ue)){if(L(me)){const fe=((de,be,_e)=>{const Ae=Oi(de),ze=Or(de);return Math.min(Ae/be,ze/_e,1)})(F.element,J,ue);z.zoom=fe}const Ce=((fe,de,be,_e,Ae)=>{const ze=be*Ae,ot=_e*Ae,Et=Math.max(0,fe/2-ze/2),_t=Math.max(0,de/2-ot/2);return{left:Et.toString()+"px",top:_t.toString()+"px",width:ze.toString()+"px",height:ot.toString()+"px"}})(Oi(F.element),Or(F.element),J,ue,z.zoom);k.getOpt(F).each(fe=>{Ya(fe.element,Ce)})}};w.getOpt(F).each(J=>{const ue=J.element;var me;P.url!==Mo(ue,"src")&&(sn(ue,"src",P.url),Ir(F.element,"tox-imagepreview__loaded")),q(),(me=ue,new Promise((Ce,fe)=>{const de=()=>{_e(),Ce(me)},be=[Ha(me,"load",de),Ha(me,"error",()=>{_e(),fe("Unable to load data from image: "+me.dom.src)})],_e=()=>Mt(be,Ae=>Ae.unbind());me.dom.complete&&de()})).then(Ce=>{F.getSystem().isConnected()&&(kr(F.element,"tox-imagepreview__loaded"),z.cachedWidth=Ce.dom.naturalWidth,z.cachedHeight=Ce.dom.naturalHeight,q())})})})])}})(s,u)),table:br((s,a)=>((u,f)=>{const p=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ye(w,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(b=u.cells,{dom:{tag:"tbody"},components:Ye(b,k=>({dom:{tag:"tr"},components:Ye(k,p)}))})],behaviours:Zt([Zs.config({}),no.config({})])};var b,w})(s,a.shared.providers)),tree:br((s,a)=>((u,f)=>{const p=u.onLeafAction.getOr(le),b=u.onToggleExpand.getOr(le),w=u.defaultExpandedIds,k=Bn(w),E=Bn(u.defaultSelectedId),D=bn("tree-id"),F=(P,z)=>u.items.map(q=>q.type==="leaf"?g4({leaf:q,selectedId:P,onLeafAction:p,visible:!0,treeId:D,backstage:f}):TS({directory:q,selectedId:P,onLeafAction:p,expandedIds:z,labelTabstopping:!0,treeId:D,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Zt([Nn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Co(H7,[St("expand-tree-node",(P,z)=>{const{expanded:q,node:J}=z.event;k.set(q?[...k.get(),J]:k.get().filter(ue=>ue!==J)),b(k.get(),{expanded:q,node:J})})]),yl.config({channels:{[`update-active-item-${D}`]:{onReceive:(P,z)=>{E.set(O.some(z.value)),qn.set(P,F(O.some(z.value),k.get()))}}}}),qn.config({})])}})(s,a)),panel:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:u.classes},components:Ye(u.items,f.shared.interpreter)}))(s,a))},C4={field:(s,a)=>a,record:K([])},RS=(s,a,u,f,p)=>{const b=Ps(f,{shared:{interpreter:w=>_4(s,w,u,b,p)}});return _4(s,a,u,b,p)},_4=(s,a,u,f,p)=>hn(J7,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),b=>b(s,a,u,f,p)),UN=(s,a,u,f)=>_4(C4,s,a,u,f),Qd="layout-inset",cy=s=>s.x,IS=(s,a)=>s.x+s.width/2-a.width/2,S4=(s,a)=>s.x+s.width-a.width,dd=s=>s.y,k4=(s,a)=>s.y+s.height-a.height,WN=(s,a)=>s.y+s.height/2-a.height/2,dc=(s,a,u)=>fa(S4(s,a),k4(s,a),u.insetSouthwest(),sh(),"southwest",ma(s,{right:0,bottom:3}),Qd),Jp=(s,a,u)=>fa(cy(s),k4(s,a),u.insetSoutheast(),Jv(),"southeast",ma(s,{left:1,bottom:3}),Qd),fc=(s,a,u)=>fa(S4(s,a),dd(s),u.insetNorthwest(),oh(),"northwest",ma(s,{right:0,top:2}),Qd),uw=(s,a,u)=>fa(cy(s),dd(s),u.insetNortheast(),Xv(),"northeast",ma(s,{left:1,top:2}),Qd),os=(s,a,u)=>fa(IS(s,a),dd(s),u.insetNorth(),DC(),"north",ma(s,{top:2}),Qd),gg=(s,a,u)=>fa(IS(s,a),k4(s,a),u.insetSouth(),Dx(),"south",ma(s,{bottom:3}),Qd),dw=(s,a,u)=>fa(S4(s,a),WN(s,a),u.insetEast(),RC(),"east",ma(s,{right:0}),Qd),E4=(s,a,u)=>fa(cy(s),WN(s,a),u.insetWest(),Rx(),"west",ma(s,{left:1}),Qd),A4=s=>{switch(s){case"north":return os;case"northeast":return uw;case"northwest":return fc;case"south":return gg;case"southeast":return Jp;case"southwest":return dc;case"east":return dw;case"west":return E4}},NS=(s,a,u,f,p)=>rb(f).map(A4).getOr(os)(s,a,u,f,p),Q7=s=>{switch(s){case"north":return gg;case"northeast":return Jp;case"northwest":return dc;case"south":return os;case"southeast":return uw;case"southwest":return fc;case"east":return E4;case"west":return dw}},T4=(s,a,u,f,p)=>rb(f).map(Q7).getOr(os)(s,a,u,f,p),fw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ZN=(s,a,u)=>{const f={maxHeightFunction:lh()};return()=>u()?{type:"node",root:Je(ut(s())),node:O.from(s()),bubble:ac(12,12,fw),layouts:{onRtl:()=>[uw],onLtr:()=>[fc]},overrides:f}:{type:"hotspot",hotspot:a(),bubble:ac(-12,12,fw),layouts:{onRtl:()=>[Nr,Pr,Gr],onLtr:()=>[Pr,Nr,Gr]},overrides:f}},jN=(s,a,u,f)=>{const p={maxHeightFunction:lh()};return()=>f()?{type:"node",root:Je(ut(a())),node:O.from(a()),bubble:ac(12,12,fw),layouts:{onRtl:()=>[os],onLtr:()=>[os]},overrides:p}:s?{type:"node",root:Je(ut(a())),node:O.from(a()),bubble:ac(0,-Sc(a()),fw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}:{type:"hotspot",hotspot:u(),bubble:ac(0,0,fw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}},O4=(s,a,u)=>()=>u()?{type:"node",root:Je(ut(s())),node:O.from(s()),layouts:{onRtl:()=>[os],onLtr:()=>[os]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Gr],onLtr:()=>[Gr]}},KN=(s,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const u=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const p=f[0],b=f[f.length-1],w={firstCell:rn(p),lastCell:rn(b)};return O.some(w)}return O.some(Vf.range(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset))}}),PS=s=>a=>({type:"node",root:s(),node:a}),eV=(s,a,u,f)=>{const p=Nb(s),b=()=>rn(s.getBody()),w=()=>rn(s.getContentAreaContainer()),k=()=>p||!f();return{inlineDialog:ZN(w,a,k),inlineBottomDialog:jN(s.inline,w,u,k),banner:O4(w,a,k),cursor:KN(s,b),node:PS(b)}},tV=s=>(a,u)=>{xI(s)(a,u)},nV=s=>()=>JA(s),oV=s=>a=>Wb(s,a),sV=s=>a=>XA(s,a),GN=s=>()=>qf(s),qN=s=>vo(s,"items"),YN=s=>vo(s,"format"),D4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],R4=s=>_n(s,(a,u)=>{if(Eo(u,"items")){const f=R4(u.items);return{customFormats:a.customFormats.concat(f.customFormats),formats:a.formats.concat([{title:u.title,items:f.formats}])}}if(Eo(u,"inline")||(f=>Eo(f,"block"))(u)||(f=>Eo(f,"selector"))(u)){const f=`custom-${v(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:f,format:u}]),formats:a.formats.concat([{title:u.title,format:f,icon:u.icon}])}}return{...a,formats:a.formats.concat(u)}},{customFormats:[],formats:[]}),XN=s=>$0(s).map(a=>{const u=((f,p)=>{const b=R4(p),w=k=>{Mt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?w(b.customFormats):f.on("init",()=>{w(b.customFormats)}),b.formats})(s,a);return a_(s)?D4.concat(u):u}).getOr(D4),JN=(s,a,u)=>({...s,type:"formatter",isSelected:a(s.format),getStylePreview:u(s.format)}),I4=(s,a,u,f)=>{const p=b=>Ye(b,w=>qN(w)?(k=>{const E=p(k.items);return{...k,type:"submenu",getStyleItems:K(E)}})(w):YN(w)?(k=>JN(k,u,f))(w):(k=>{const E=wn(k);return E.length===1&&et(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=v(k.name)?k.name:bn(k.title),D=`custom-${E}`,F={...k,type:"formatter",format:D,isSelected:u(D),getStylePreview:f(D)};return s.formatter.register(E,F),F})(w));return p(a)},N4=s=>{let a=0;const u=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Fr(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>a>0?60:300,delayForHide:K(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(f),onShow:(p,b)=>{a++,f.onShow&&f.onShow(p,b)},onHide:(p,b)=>{a--,f.onHide&&f.onHide(p,b)},onSetup:f.onSetup}),getComponents:u}},QN=Eh.trim,eP=s=>a=>!!((u=>G(u)&&u.nodeType===1)(a)&&(a.contentEditable===s||a.getAttribute("data-mce-contenteditable")===s)),rV=eP("true"),iV=eP("false"),tP=(s,a,u,f,p)=>({type:s,title:a,url:u,level:f,attach:p}),nP=s=>s.innerText||s.textContent,aV=s=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(s)&&fd(s),P4=s=>s&&/^(H[1-6])$/.test(s.nodeName),fd=s=>(a=>{let u=a;for(;u=u.parentNode;){const f=u.contentEditable;if(f&&f!=="inherit")return rV(u)}return!1})(s)&&!iV(s),lV=s=>P4(s)&&fd(s),M4=s=>{var a;const u=(f=>f.id?f.id:bn("h"))(s);return tP("header",(a=nP(s))!==null&&a!==void 0?a:"","#"+u,(f=>P4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=u})},oP=s=>{const a=s.id||s.name,u=nP(s);return tP("anchor",u||"#"+a,"#"+a,0,le)},sP=s=>QN(s.title).length>0,cV=s=>{const a=(u=>Ye(Si(rn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(s);return Fn((u=>Ye(Fn(u,lV),M4))(a).concat((u=>Ye(Fn(u,aV),oP))(a)),sP)},mw="tinymce-url-history",B4=s=>v(s)&&/^https?/.test(s),L4=s=>x(s)&&fs(s,a=>{return!(M(u=a)&&u.length<=5&&Oo(u,B4));var u}).isNone(),rP=()=>{const s=jc.getItem(mw);if(s===null)return{};let a;try{a=JSON.parse(s)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+mw+" was not valid JSON",u),{};throw u}return L4(a)?a:(console.log("Local storage "+mw+" was not valid format",a),{})},uV=s=>{const a=rP();return hn(a,s).getOr([])},dV=(s,a)=>{if(!B4(s))return;const u=rP(),f=hn(u,a).getOr([]),p=Fn(f,b=>b!==s);u[a]=[s].concat(p).slice(0,5),(b=>{if(!L4(b))throw new Error(`Bad format for history:
`+JSON.stringify(b));jc.setItem(mw,JSON.stringify(b))})(u)},iP=s=>!!s,fV=s=>On(Eh.makeMap(s,/[, ]/),iP),MS=s=>O.from(c_(s)),F4=s=>O.from(s).filter(v).getOrUndefined(),aP=s=>({getHistory:uV,addToHistory:dV,getLinkInformation:()=>(a=>u_(a)?O.some({targets:cV(a.getBody()),anchorTop:F4(Y5(a)),anchorBottom:F4(X5(a))}):O.none())(s),getValidationHandler:()=>(a=>O.from(v2(a)))(s),getUrlPicker:a=>((u,f)=>((p,b)=>{const w=(k=>{const E=O.from(b2(k)).filter(iP).map(fV);return MS(k).fold(Ee,D=>E.fold(Le,F=>wn(F).length>0&&F))})(p);return I(w)?w?MS(p):O.none():w[b]?MS(p):O.none()})(u,f).map(p=>b=>zp(w=>{const k={filetype:f,fieldname:b.fieldname,...O.from(b.meta).getOr({})};p.call(u,(E,D)=>{if(!v(E))throw new Error("Expected value to be string");if(D!==void 0&&!x(D))throw new Error("Expected meta to be a object");w({value:E,meta:D})},b.value,k)})))(s,a)}),pa=_8,hg=FD,mV=K([it("shell",!1),Dt("makeItem"),it("setupItem",le),so("listBehaviours",[qn])]),uy=vu({name:"items",overrides:()=>({behaviours:Zt([qn.config({})])})}),gV=K([uy]),V4=Bl({name:K("CustomList")(),configFields:mV(),partFields:gV(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.listBehaviours,p.behaviours),apis:{setItems:(b,w)=>{var k;(k=b,s.shell?O.some(k):qs(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const D=qn.contents(E),F=w.length,P=F-D.length,z=P>0?Lt(P,()=>s.makeItem()):[],q=D.slice(F);Mt(q,ue=>qn.remove(E,ue)),Mt(z,ue=>qn.append(E,ue));const J=qn.contents(E);Mt(J,(ue,me)=>{s.setupItem(b,ue,w[me],me)})})}}}},apis:{setItems:(s,a,u)=>{s.setItems(a,u)}}}),Qb=K([Dt("dom"),it("shell",!0),yn("toolbarBehaviours",[qn])]),lP=K([vu({name:"groups",overrides:()=>({behaviours:Zt([qn.config({})])})})]),ef=Bl({name:"Toolbar",configFields:Qb(),partFields:lP(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.toolbarBehaviours,p.behaviours),apis:{setGroups:(b,w)=>{var k;(k=b,s.shell?O.some(k):qs(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{qn.set(E,w)})},refresh:le},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)}}}),z4=le,H4=Ee,BS=K([]);var $4,hV=Object.freeze({__proto__:null,setup:z4,isDocked:H4,getBehaviours:BS});const LS=K(bn("toolbar-height-change")),pg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},cP="tox-tinymce--toolbar-sticky-on",uP="tox-tinymce--toolbar-sticky-off",gw=(s,a)=>et(dr.getModes(s),a),FS=s=>{const a=s.element;Sa(a).each(u=>{const f="padding-"+dr.getModes(s)[0];if(dr.isDocked(s)){const p=Oi(u);co(a,"width",p+"px"),co(u,f,(b=>Sc(b)+(parseInt(wr(b,"margin-top"),10)||0)+(parseInt(wr(b,"margin-bottom"),10)||0))(a)+"px")}else ws(a,"width"),ws(u,f)})},U4=(s,a)=>{a?(Ir(s,pg.fadeOutClass),Kr(s,[pg.transitionClass,pg.fadeInClass])):(Ir(s,pg.fadeInClass),Kr(s,[pg.fadeOutClass,pg.transitionClass]))},dP=(s,a)=>{const u=rn(s.getContainer());a?(kr(u,cP),Ir(u,uP)):(kr(u,uP),Ir(u,cP))},fP=(s,a)=>{const u=Es(),f=a.getSink,p=k=>{f().each(E=>k(E.element))},b=k=>{s.inline||FS(k),dP(s,dr.isDocked(k)),k.getSystem().broadcastOn([H()],{}),f().each(E=>E.getSystem().broadcastOn([H()],{}))},w=s.inline?[]:[yl.config({channels:{[LS()]:{onReceive:FS}}})];return[no.config({}),dr.config({contextual:{lazyContext:k=>{const E=Sc(k.element),D=s.inline?s.getContentAreaContainer():s.getContainer();return O.from(D).map(F=>{const P=ai(rn(F));return Ip(s,k.element).fold(()=>{const z=P.height-E,q=P.y+(gw(k,"top")?0:E);return Ro(P.x,q,P.width,z)},z=>{const q=Dd(P,Np(z)),J=gw(k,"top")?q.y:q.y+E;return Ro(q.x,J,q.width,q.height-E)})})},onShow:()=>{p(k=>U4(k,!0))},onShown:k=>{p(E=>ic(E,[pg.transitionClass,pg.fadeInClass])),u.get().each(E=>{((D,F)=>{const P=ii(F);mu(P).filter(z=>!is(F,z)).filter(z=>is(z,rn(P.dom.body))||Br(D,z)).each(()=>za(F))})(k.element,E),u.clear()})},onHide:k=>{((E,D)=>qr(E).orThunk(()=>D().toOptional().bind(F=>qr(F.element))))(k.element,f).fold(u.clear,u.set),p(E=>U4(E,!1))},onHidden:()=>{p(k=>ic(k,[pg.transitionClass]))},...pg},lazyViewport:k=>Ip(s,k.element).fold(()=>{const E=Ui(),D=lA(s),F=E.y+(gw(k,"top")?D:0),P=E.height-(gw(k,"bottom")?D:0);return{bounds:Ro(E.x,F,E.width,P),optScrollEnv:O.none()}},E=>({bounds:Np(E),optScrollEnv:O.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Nl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var pV=Object.freeze({__proto__:null,setup:(s,a,u)=>{s.inline||(a.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{u().each(dr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{u().each(FS)}),s.on("SkinLoaded",()=>{u().each(f=>{dr.isDocked(f)?dr.reset(f):dr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{u().each(dr.reset)})),s.on("AfterScrollIntoView",f=>{u().each(p=>{dr.refresh(p);const b=p.element;d5(b)&&((w,k)=>{const E=ii(k),D=Xc(k).dom.innerHeight,F=Js(E),P=rn(w.elm),z=hl(P),q=Or(P),J=z.y,ue=J+q,me=Nl(k),Ce=Or(k),fe=me.top,de=fe+Ce,be=Math.abs(fe-F.top)<2,_e=Math.abs(de-(F.top+D))<2;if(be&&J<de)bf(F.left,J-Ce,E);else if(_e&&ue>fe){const Ae=J-D+q+Ce;bf(F.left,Ae,E)}})(f,b)})}),s.on("PostRender",()=>{dP(s,!1)})},isDocked:s=>s().map(dr.isDocked).getOr(!1),getBehaviours:fP});const vV=Wn([bi,Zi("items",Tm([Wu([AA,el("items",Ci)]),Ci]))].concat(ag)),bV=[Lr("text"),Lr("tooltip"),Lr("icon"),Fa("search",!1,Tm([oc,Wn([Lr("placeholder")])],s=>I(s)?s?O.some({placeholder:O.none()}):O.none():O.some(s))),La("fetch"),Qs("onSetup",()=>le)],mP=Wn([bi,...bV]),gP=s=>Cr("menubutton",mP,s),yV=Wn([bi,V2,rd,Fp,IA,RF,Lp,Tc("presets","normal",["normal","color","listpreview"]),LR(1),Z0,BR]);var W4=bu({factory:(s,a)=>{const u={focus:Nn.focusIn,setMenus:(f,p)=>{const b=Ye(p,w=>{const k={type:"menubutton",text:w.text,fetch:D=>{D(w.getItems())}},E=gP(k).mapError(D=>Qa(D)).getOrDie();return ay(E,"tox-mbtn",a.backstage,O.some("menuitem"))});qn.set(f,b)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Zt([qn.config({}),Co("menubar-events",[sr(f=>{s.onSetup(f)}),St(Tn(),(f,p)=>{fr(f.element,".tox-mbtn--active").each(b=>{Ju(p.event.target,".tox-mbtn").each(w=>{is(b,w)||f.getSystem().getByDom(b).each(k=>{f.getSystem().getByDom(w).each(E=>{Cl.expand(E),Cl.close(k),no.focus(E)})})})})}),St(j1(),(f,p)=>{p.event.prevFocus.bind(b=>f.getSystem().getByDom(b).toOptional()).each(b=>{p.event.newFocus.bind(w=>f.getSystem().getByDom(w).toOptional()).each(w=>{Cl.isOpen(b)&&(Cl.expand(w),Cl.close(b))})})})]),Nn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),O.some(!0))}),Zs.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Dt("dom"),Dt("uid"),Dt("onEscape"),Dt("backstage"),it("onSetup",le)],apis:{focus:(s,a)=>{s.focus(a)},setMenus:(s,a,u)=>{s.setMenus(a,u)}}});const hP="container",xV=[yn("slotBehaviours",[])],Z4=s=>"<alloy.field."+s+">",wV=(s,a)=>{const u=F=>$D(s),f=(F,P)=>(z,q)=>qs(z,s,q).map(J=>F(J,q)).getOr(P),p=(F,P)=>Mo(F.element,"aria-hidden")!=="true",b=f(p,!1),w=f((F,P)=>{if(p(F)){const z=F.element;co(z,"display","none"),sn(z,"aria-hidden","true"),Rn(F,cu(),{name:P,visible:!1})}}),k=(F=>(P,z)=>{Mt(z,q=>F(P,q))})(w),E=f((F,P)=>{if(!p(F)){const z=F.element;ws(z,"display"),_o(z,"aria-hidden"),Rn(F,cu(),{name:P,visible:!0})}}),D={getSlotNames:u,getSlot:(F,P)=>qs(F,s,P),isShowing:b,hideSlot:w,hideAllSlots:F=>k(F,u()),showSlot:E};return{uid:s.uid,dom:s.dom,components:a,behaviours:Xn(s.slotBehaviours),apis:D}},CV=On({getSlotNames:(s,a)=>s.getSlotNames(a),getSlot:(s,a,u)=>s.getSlot(a,u),isShowing:(s,a,u)=>s.isShowing(a,u),hideSlot:(s,a,u)=>s.hideSlot(a,u),hideAllSlots:(s,a)=>s.hideAllSlots(a),showSlot:(s,a,u)=>s.showSlot(a,u)},s=>i0(s)),_l={...CV,sketch:s=>{const a=(()=>{const b=[];return{slot:(w,k)=>(b.push(w),EE(hP,Z4(w),k)),record:K(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:Z4(b)}));return Jx(hP,xV,p,wV,u)}},_V=Wn([rd,V2,Qs("onShow",le),Qs("onHide",le),Lp]),SV=s=>({element:()=>s.element.dom}),VS=(s,a)=>{const u=Ye(wn(a),f=>{const p=a[f],b=Ba((w=>Cr("sidebar",_V,w))(p));return{name:f,getApi:SV,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return Ye(u,f=>{const p=Bn(le);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:H2([Vp(f,p),xh(f,p),St(cu(),(b,w)=>{const k=w.event;Q(u,D=>D.name===k.name).each(D=>{(k.visible?D.onShow:D.onHide)(D.getApi(b))})})])})})},pP=s=>_l.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:VS(a,s),slotBehaviours:H2([sr(u=>_l.hideAllSlots(u))])})),zS=(s,a)=>{sn(s,"role",a)},kV=s=>ns.getCurrent(s).bind(a=>ql.isGrowing(a)||ql.hasGrown(a)?ns.getCurrent(a).bind(u=>Q(_l.getSlotNames(u),f=>_l.isShowing(u,f))):O.none()),j4=bn("FixSizeEvent"),K4=bn("AutoSizeEvent");var EV=Object.freeze({__proto__:null,block:(s,a,u,f)=>{sn(s.element,"aria-busy",!0);const p=a.getRoot(s).getOr(s),b=Zt([Nn.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),no.config({})]),w=f(p,b),k=p.getSystem().build(w);qn.append(p,nl(k)),k.hasConfigured(Nn)&&a.focus&&Nn.focusIn(k),u.isBlocked()||a.onBlock(s),u.blockWith(()=>qn.remove(p,k))},unblock:(s,a,u)=>{_o(s.element,"aria-busy"),u.isBlocked()&&a.onUnblock(s),u.clear()},isBlocked:(s,a,u)=>u.isBlocked()}),AV=[Qs("getRoot",O.none),ti("focus",!0),Xo("onBlock"),Xo("onUnblock")];const md=Ni({fields:AV,name:"blocking",apis:EV,state:Object.freeze({__proto__:null,init:()=>{const s=kc(a=>a.destroy());return Ii({readState:s.isSet,blockWith:a=>{s.set({destroy:a})},clear:s.clear,isBlocked:s.isSet})}})}),G4=s=>ns.getCurrent(s).each(a=>za(a.element,!0)),vP=(s,a,u)=>{const f=Bn(!1),p=Es(),b=k=>{var E;f.get()&&(!(D=>D.type==="focusin")(E=k)||!(E.composed?zt(E.composedPath()):O.from(E.target)).map(rn).filter(lr).exists(D=>tl(D,"mce-pastebin")))&&(k.preventDefault(),G4(a()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",b),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&b(k)})});const w=k=>{k!==f.get()&&(f.set(k),((E,D,F,P)=>{const z=D.element;if(((q,J)=>{const ue="tabindex",me=`data-mce-${ue}`;O.from(q.iframeElement).map(rn).each(Ce=>{J?(jo(Ce,ue).each(fe=>sn(Ce,me,fe)),sn(Ce,ue,-1)):(_o(Ce,ue),jo(Ce,me).each(fe=>{sn(Ce,ue,fe),_o(Ce,me)}))})})(E,F),F)md.block(D,(q=>(J,ue)=>({dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(P)),ws(z,"display"),_o(z,"aria-hidden"),E.hasFocus()&&G4(D);else{const q=ns.getCurrent(D).exists(J=>ah(J.element));md.unblock(D),co(z,"display","none"),sn(z,"aria-hidden","true"),q&&E.focus()}})(s,a(),k,u.providers),((E,D)=>{E.dispatch("AfterProgressState",{state:D})})(s,k))};s.on("ProgressState",k=>{if(p.on(clearTimeout),ne(k.time)){const E=r_.setEditorTimeout(s,()=>w(k.state),k.time);p.set(E)}else w(k.state),p.clear()})},q4=(s,a,u)=>({within:s,extra:a,withinWidth:u}),Y4=(s,a,u)=>{const f=_n(s,(w,k)=>((E,D)=>{const F=u(E);return O.some({element:E,start:D,finish:D+F,width:F})})(k,w.len).fold(K(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=Fn(f,w=>w.finish<=a),b=fn(p,(w,k)=>w+k.width,0);return{within:p,extra:f.slice(p.length),withinWidth:b}},HS=s=>Ye(s,a=>a.element),bP=(s,a)=>{const u=Ye(a,f=>nl(f));ef.setGroups(s,u)},yP=(s,a,u)=>{const f=a.builtGroups.get();if(f.length===0)return;const p=gh(s,a,"primary"),b=Vr.getCoupled(s,"overflowGroup");co(p.element,"visibility","hidden");const w=f.concat([b]),k=Vt(w,D=>qr(D.element).bind(F=>D.getSystem().getByDom(F).toOptional()));u([]),bP(p,w);const E=((D,F,P,z)=>{const q=((Ce,fe,de)=>{const be=Y4(fe,Ce,de);return be.extra.length===0?O.some(be):O.none()})(D,F,P).getOrThunk(()=>Y4(F,D-P(z),P)),J=q.within,ue=q.extra,me=q.withinWidth;return ue.length===1&&ue[0].width<=P(z)?((Ce,fe,de)=>{const be=HS(Ce.concat(fe));return q4(be,[],de)})(J,ue,me):ue.length>=1?((Ce,fe,de,be)=>{const _e=HS(Ce).concat([de]);return q4(_e,HS(fe),be)})(J,ue,z,me):((Ce,fe,de)=>q4(HS(Ce),[],de))(J,0,me)})(Oi(p.element),a.builtGroups.get(),D=>Math.ceil(D.element.dom.getBoundingClientRect().width),b);E.extra.length===0?(qn.remove(p,b),u([])):(bP(p,E.within),u(E.extra)),ws(p.element,"visibility"),Fu(p.element),k.each(no.focus)},xP=K([yn("splitToolbarBehaviours",[Vr]),Wi("builtGroups",()=>Bn([]))]),TV=K([Jg(["overflowToggledClass"]),iu("getOverflowBounds"),Dt("lazySink"),Wi("overflowGroups",()=>Bn([])),Xo("onOpened"),Xo("onClosed")].concat(xP())),OV=K([wl({factory:ef,schema:Qb(),name:"primary"}),jd({schema:Qb(),name:"overflow"}),jd({name:"overflow-button"}),jd({name:"overflow-group"})]),X4=K((s,a)=>{((u,f)=>{const p=Mg.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);co(u,"max-width",p+"px")})(s,Math.floor(a))}),DV=K([Jg(["toggledClass"]),Dt("lazySink"),La("fetch"),iu("getBounds"),Dr("fireDismissalEventInstead",[it("event",Zg())]),Mf(),Xo("onToggled")]),RV=K([jd({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Qn.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),jd({factory:ef,schema:Qb(),name:"toolbar",overrides:s=>({toolbarBehaviours:Zt([Nn.config({mode:"cyclic",onEscape:a=>(qs(a,s,"button").each(no.focus),O.none())})])})})]),$S=Es(),dy=(s,a)=>{const u=Vr.getCoupled(s,"toolbarSandbox");T.isOpen(u)?T.close(u):T.open(u,a.toolbar())},hw=(s,a,u,f)=>{const p=u.getBounds.map(w=>w()),b=u.lazySink(s).getOrDie();ga.positionWithinBounds(b,a,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:X4()}}},p)},US=(s,a,u,f,p)=>{ef.setGroups(a,p),hw(s,a,u,f),Qn.on(s)},Th=Bl({name:"FloatingToolbarButton",factory:(s,a,u,f)=>({...Ua.sketch({...f.button(),action:p=>{dy(p,f)},buttonBehaviours:Jn({dump:f.button().buttonBehaviours},[Vr.config({others:{toolbarSandbox:p=>((b,w,k)=>{const E=nh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Zt([Nn.config({mode:"special",onEscape:D=>(T.close(D),O.some(!0))}),T.config({onOpen:(D,F)=>{const P=$S.get().getOr(!1);k.fetch().get(z=>{US(b,F,k,w.layouts,z),E.link(b.element),P||Nn.focusIn(F)})},onClose:()=>{Qn.off(b),$S.get().getOr(!1)||no.focus(b),E.unlink(b.element)},isPartOf:(D,F,P)=>bl(F,P)||bl(b,P),getAttachPoint:()=>k.lazySink(b).getOrDie()}),yl.config({channels:{...se({isExtraPart:Ee,...k.fireDismissalEventInstead.map(D=>({fireEventInstead:{event:D.event}})).getOr({})}),...Ie({doReposition:()=>{T.getState(Vr.getCoupled(b,"toolbarSandbox")).each(D=>{hw(b,D,k,w.layouts)})}})}})])}})(p,u,s)}})])}),apis:{setGroups:(p,b)=>{T.getState(Vr.getCoupled(p,"toolbarSandbox")).each(w=>{US(p,w,s,u.layouts,b)})},reposition:p=>{T.getState(Vr.getCoupled(p,"toolbarSandbox")).each(b=>{hw(p,b,s,u.layouts)})},toggle:p=>{dy(p,f)},toggleWithoutFocusing:p=>{((b,w)=>{$S.set(!0),dy(b,w),$S.clear()})(p,f)},getToolbar:p=>T.getState(Vr.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(Vr.getCoupled(p,"toolbarSandbox"))}}),configFields:DV(),partFields:RV(),apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggleWithoutFocusing(a)},getToolbar:(s,a)=>s.getToolbar(a),isOpen:(s,a)=>s.isOpen(a)}}),IV=K([Dt("items"),Jg(["itemSelector"]),yn("tgroupBehaviours",[Nn])]),NV=K([WC({name:"items",unit:"item"})]),fy=Bl({name:"ToolbarGroup",configFields:IV(),partFields:NV(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.tgroupBehaviours,[Nn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),WS=s=>Ye(s,a=>nl(a)),pw=(s,a,u)=>{yP(s,u,f=>{u.overflowGroups.set(f),a.getOpt(s).each(p=>{Th.setGroups(p,WS(f))})})},J4=Bl({name:"SplitFloatingToolbar",configFields:TV(),partFields:OV(),factory:(s,a,u,f)=>{const p=Cs(Th.sketch({fetch:()=>zp(b=>{b(WS(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Pr,Nr],onRtl:()=>[Nr,Pr],onBottomLtr:()=>[Ms,ni],onBottomRtl:()=>[ni,Ms]},getBounds:u.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(b,w)=>s[w?"onOpened":"onClosed"](b)}));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[Vr.config({others:{overflowGroup:()=>fy.sketch({...f["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(b,w)=>{s.builtGroups.set(Ye(w,b.getSystem().build)),pw(b,p,s)},refresh:b=>pw(b,p,s),toggle:b=>{p.getOpt(b).each(w=>{Th.toggle(w)})},toggleWithoutFocusing:b=>{p.getOpt(b).each(Th.toggleWithoutFocusing)},isOpen:b=>p.getOpt(b).map(Th.isOpen).getOr(!1),reposition:b=>{p.getOpt(b).each(w=>{Th.reposition(w)})},getOverflow:b=>p.getOpt(b).bind(Th.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a),getOverflow:(s,a)=>s.getOverflow(a)}}),PV=K([Jg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xo("onOpened"),Xo("onClosed")].concat(xP())),MV=K([wl({factory:ef,schema:Qb(),name:"primary"}),wl({factory:ef,schema:Qb(),name:"overflow",overrides:s=>({toolbarBehaviours:Zt([ql.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:a=>{qs(a,s,"overflow-button").each(u=>{Qn.off(u)}),s.onClosed(a)},onGrown:a=>{s.onOpened(a)},onStartGrow:a=>{qs(a,s,"overflow-button").each(Qn.on)}}),Nn.config({mode:"acyclic",onEscape:a=>(qs(a,s,"overflow-button").each(no.focus),O.some(!0))})])})}),jd({name:"overflow-button",overrides:s=>({buttonBehaviours:Zt([Qn.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),jd({name:"overflow-group"})]),Q4=(s,a,u)=>{qs(s,a,"overflow-button").each(f=>{qs(s,a,"overflow").each(p=>{if(eT(s,a),ql.hasShrunk(p)){const b=a.onOpened;a.onOpened=w=>{u||Nn.focusIn(p),b(w),a.onOpened=b}}else{const b=a.onClosed;a.onClosed=w=>{u||no.focus(f),b(w),a.onClosed=b}}ql.toggleGrow(p)})})},eT=(s,a)=>{qs(s,a,"overflow").each(u=>{yP(s,a,f=>{const p=Ye(f,b=>nl(b));ef.setGroups(u,p)}),qs(s,a,"overflow-button").each(f=>{ql.hasGrown(u)&&Qn.on(f)}),ql.refresh(u)})},tT=Bl({name:"SplitSlidingToolbar",configFields:PV(),partFields:MV(),factory:(s,a,u,f)=>{const p="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[Vr.config({others:{overflowGroup:b=>fy.sketch({...f["overflow-group"](),items:[Ua.sketch({...f["overflow-button"](),action:w=>{ko(b,p)}})]})}}),Co("toolbar-toggle-events",[St(p,b=>{Q4(b,s,!1)})])]),apis:{setGroups:(b,w)=>{((k,E)=>{const D=Ye(E,k.getSystem().build);s.builtGroups.set(D)})(b,w),eT(b,s)},refresh:b=>eT(b,s),toggle:b=>{Q4(b,s,!1)},toggleWithoutFocusing:b=>{Q4(b,s,!0)},isOpen:b=>((w,k)=>qs(w,k,"overflow").map(ql.hasGrown).getOr(!1))(b,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},toggle:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a)}}),wP=s=>{const a=s.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[fy.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Zt([Zs.config({}),no.config({})])}},ZS=s=>fy.sketch(wP(s)),CP=(s,a)=>{const u=sr(f=>{const p=Ye(s.initGroups,ZS);ef.setGroups(f,p)});return Zt([M_(s.providers.isDisabled),Pi(),Nn.config({mode:a,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Co("toolbar-events",[u])])},_P=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":wP({title:O.none(),items:[]}),"overflow-button":BN({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:CP(s,a)}},BV=s=>{const a=_P(s),u=J4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return J4.sketch({...a,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,p=hl(f),b=qa(f),w=hl(b),k=Math.max(b.dom.scrollHeight,w.height);return Ro(p.x+4,w.y,p.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},LV=s=>{const a=tT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=tT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=_P(s);return tT.sketch({...f,components:[a,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([LS()],{type:"opened"}),s.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([LS()],{type:"closed"}),s.onToggled(p,!1)}})},nT=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return ef.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===nd.scrolling?["tox-toolbar--scrolling"]:[])},components:[ef.parts.groups({})],toolbarBehaviours:CP(s,a)})},SP=[Fp,rd,Lr("tooltip"),Tc("buttonType","secondary",["primary","secondary"]),ti("borderless",!1),La("onAction")],oT={button:[...SP,sd,Ku("type",["button"])],togglebutton:[...SP,ti("active",!1),Ku("type",["togglebutton"])]},FV=[Ku("type",["group"]),Ds("buttons",[],hi("type",oT))],VV=hi("type",{...oT,group:FV}),vg=Wn([Ds("buttons",[],VV),La("onShow"),La("onHide")]),kP=(s,a)=>((u,f)=>{var p,b;const w=u.type==="togglebutton",k=u.icon.map(fe=>qp(fe,f.icons)).map(Cs),E={...u,name:w?u.text.getOr(u.icon.getOr("")):(p=u.text)!==null&&p!==void 0?p:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:O.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},D=b4((b=u.buttonType)!==null&&b!==void 0?b:"secondary"),F=w?u.text.map(f.translate):O.some(f.translate(u.text)),P=F.map(Fr),z=E.tooltip.or(F).map(fe=>({"aria-label":f.translate(fe)})).getOr({}),q=k.map(fe=>fe.asSpec()),J=G0([q,P]),ue=u.icon.isSome()&&P.isSome(),me={tag:"button",classes:D.concat(...u.icon.isSome()&&!ue?["tox-button--icon"]:[]).concat(...ue?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:z},Ce=cw(E,O.some(fe=>{const de=be=>{k.map(_e=>_e.getOpt(fe).each(Ae=>{qn.set(Ae,[qp(be,f.icons)])}))};return w?u.onAction({setIcon:de,setActive:be=>{const _e=fe.element;be?(kr(_e,"tox-button--enabled"),sn(_e,"aria-pressed",!0)):(Ir(_e,"tox-button--enabled"),_o(_e,"aria-pressed"))},isActive:()=>tl(fe.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:de}):void 0}),[],me,J,u.tooltip,f);return Ua.sketch(Ce)})(s,a),EP=ra().deviceType,sT=EP.isPhone(),va=EP.isTablet();var my=Bl({name:"silver.View",configFields:[Dt("viewConfig")],partFields:[vu({factory:{sketch:s=>{let a=!1;const u=Ye(s.buttons,f=>f.type==="group"?(a=!0,((p,b)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ye(p.buttons,w=>kP(w,b))}))(f,s.providers)):kP(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...sT||va?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Zt([no.config({}),Nn.config({mode:"flow",selector:"button, .tox-button",focusInside:_b.OnEnterOrSpaceMode})]),components:a?u:[Yd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Yd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Dt("buttons"),Dt("providers")],name:"header"}),vu({factory:{sketch:s=>({uid:s.uid,behaviours:Zt([no.config({}),Zs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,a,u,f)=>{const p={getPane:b=>pa.getPart(b,s,"pane"),getOnShow:b=>s.viewConfig.onShow,getOnHide:b=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:a,behaviours:Zt([no.config({}),Nn.config({mode:"cyclic",focusInside:_b.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(s,a)=>s.getPane(a),getOnShow:(s,a)=>s.getOnShow(a),getOnHide:(s,a)=>s.getOnHide(a)}});const zV=(s,a,u)=>ar(a,(f,p)=>{const b=Ba(Cr("view",vg,f));return s.slot(p,my.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[my.parts.header({buttons:b.buttons,providers:u})]:[],my.parts.pane({})]}))}),HV=(s,a)=>_l.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:zV(u,s,a),slotBehaviours:H2([sr(f=>_l.hideAllSlots(f))])})),AP=s=>Q(_l.getSlotNames(s),a=>_l.isShowing(s,a)),TP=(s,a,u)=>{_l.getSlot(s,a).each(f=>{my.getPane(f).each(p=>{var b;u(f)((b=p.element.dom,{getContainer:K(b)}))})})};var jS=bu({factory:(s,a)=>{const u={setViews:(f,p)=>{qn.set(f,[HV(p,a.backstage.shared.providers)])},whichView:f=>ns.getCurrent(f).bind(AP),toggleView:(f,p,b,w)=>ns.getCurrent(f).exists(k=>{const E=AP(k),D=E.exists(P=>w===P),F=_l.getSlot(k,w).isSome();return F&&(_l.hideAllSlots(k),D?((P=>{const z=P.element;co(z,"display","none"),sn(z,"aria-hidden","true")})(f),p()):(b(),(P=>{const z=P.element;ws(z,"display"),_o(z,"aria-hidden")})(f),_l.showSlot(k,w),((P,z)=>{TP(P,z,my.getOnShow)})(k,w)),E.each(P=>((z,q)=>TP(z,q,my.getOnHide))(k,P))),F})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Zt([qn.config({}),ns.config({find:f=>{const p=qn.contents(f);return zt(p)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Dt("backstage")],apis:{setViews:(s,a,u)=>s.setViews(a,u),toggleView:(s,a,u,f,p)=>s.toggleView(a,u,f,p),whichView:(s,a)=>s.whichView(a)}});const $V=hg.optional({factory:W4,name:"menubar",schema:[Dt("backstage")]}),UV=hg.optional({factory:{sketch:s=>V4.sketch({uid:s.uid,dom:s.dom,listBehaviours:Zt([Nn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>nT({type:s.type,uid:bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),O.some(!0))}),setupItem:(a,u,f,p)=>{ef.setGroups(u,f)},shell:!0})},name:"multiple-toolbar",schema:[Dt("dom"),Dt("onEscape")]}),WV=hg.optional({factory:{sketch:s=>(u=>u.type===nd.sliding?LV:u.type===nd.floating?BV:nT)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),O.some(!0)),onToggled:(u,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Dt("dom"),Dt("onEscape"),Dt("getSink")]}),ZV=hg.optional({factory:{sketch:s=>{const a=s.editor,u=s.sticky?fP:BS;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Zt(u(a,s.sharedBackstage))}}},name:"header",schema:[Dt("dom")]}),jV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Dt("dom")]}),KV=hg.optional({name:"socket",schema:[Dt("dom")]}),GV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([Zs.config({}),no.config({}),ql.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{ns.getCurrent(a).each(_l.hideAllSlots),ko(a,K4)},onGrown:a=>{ko(a,K4)},onStartGrow:a=>{Rn(a,j4,{width:Hr(a.element,"width").getOr("")})},onStartShrink:a=>{Rn(a,j4,{width:Oi(a.element)+"px"})}}),qn.config({}),ns.config({find:a=>{const u=qn.contents(a);return zt(u)}})])}],behaviours:Zt([H3(0),Co("sidebar-sliding-events",[St(j4,(a,u)=>{co(a.element,"width",u.event.width)}),St(K4,(a,u)=>{ws(a.element,"width")})])])})},name:"sidebar",schema:[Dt("dom")]}),qV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([qn.config({}),md.config({focus:!1}),ns.config({find:a=>zt(a.components())})]),components:[]})},name:"throbber",schema:[Dt("dom")]}),YV=hg.optional({factory:jS,name:"viewWrapper",schema:[Dt("backstage")]}),XV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var er=Bl({name:"OuterContainer",factory:(s,a,u)=>{let f=!1;const p=w=>{Gs(w,".tox-statusbar").each(k=>{wr(k,"display")==="none"&&Mo(k,"aria-hidden")==="true"?(ws(k,"display"),_o(k,"aria-hidden")):(co(k,"display","none"),sn(k,"aria-hidden","true"))})},b={getSocket:w=>pa.getPart(w,s,"socket"),setSidebar:(w,k,E)=>{pa.getPart(w,s,"sidebar").each(D=>((F,P,z)=>{ns.getCurrent(F).each(q=>{qn.set(q,[pP(P)]);const J=z==null?void 0:z.toLowerCase();v(J)&&Eo(P,J)&&ns.getCurrent(q).each(ue=>{_l.showSlot(ue,J),ql.immediateGrow(q),ws(q.element,"width"),zS(F.element,"region")})})})(D,k,E))},toggleSidebar:(w,k)=>{pa.getPart(w,s,"sidebar").each(E=>((D,F)=>{ns.getCurrent(D).each(P=>{ns.getCurrent(P).each(z=>{ql.hasGrown(P)?_l.isShowing(z,F)?(ql.shrink(P),zS(D.element,"presentation")):(_l.hideAllSlots(z),_l.showSlot(z,F),zS(D.element,"region")):(_l.hideAllSlots(z),_l.showSlot(z,F),ql.grow(P),zS(D.element,"region"))})})})(E,k))},whichSidebar:w=>pa.getPart(w,s,"sidebar").bind(kV).getOrNull(),getHeader:w=>pa.getPart(w,s,"header"),getToolbar:w=>pa.getPart(w,s,"toolbar"),setToolbar:(w,k)=>{pa.getPart(w,s,"toolbar").each(E=>{const D=Ye(k,ZS);E.getApis().setGroups(E,D)})},setToolbars:(w,k)=>{pa.getPart(w,s,"multiple-toolbar").each(E=>{const D=Ye(k,F=>Ye(F,ZS));V4.setItems(E,D)})},refreshToolbar:w=>{pa.getPart(w,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{pa.getPart(w,s,"toolbar").each(k=>{gi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{pa.getPart(w,s,"toolbar").each(k=>{gi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>pa.getPart(w,s,"toolbar").bind(k=>O.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>pa.getPart(w,s,"throbber"),focusToolbar:w=>{pa.getPart(w,s,"toolbar").orThunk(()=>pa.getPart(w,s,"multiple-toolbar")).each(k=>{Nn.focusIn(k)})},setMenubar:(w,k)=>{pa.getPart(w,s,"menubar").each(E=>{W4.setMenus(E,k)})},focusMenubar:w=>{pa.getPart(w,s,"menubar").each(k=>{W4.focus(k)})},setViews:(w,k)=>{pa.getPart(w,s,"viewWrapper").each(E=>{jS.setViews(E,k)})},toggleView:(w,k)=>pa.getPart(w,s,"viewWrapper").exists(E=>jS.toggleView(E,()=>b.showMainView(w),()=>b.hideMainView(w),k)),whichView:w=>pa.getPart(w,s,"viewWrapper").bind(jS.whichView).getOrNull(),hideMainView:w=>{f=b.isToolbarDrawerToggled(w),f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),co(E,"display","none"),sn(E,"aria-hidden","true")})},showMainView:w=>{f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),ws(E,"display"),_o(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:a,apis:b,behaviours:s.behaviours}},configFields:[Dt("dom"),Dt("behaviours")],partFields:[ZV,$V,WV,UV,KV,GV,jV,qV,YV,XV],apis:{getSocket:(s,a)=>s.getSocket(a),setSidebar:(s,a,u,f)=>{s.setSidebar(a,u,f)},toggleSidebar:(s,a,u)=>{s.toggleSidebar(a,u)},whichSidebar:(s,a)=>s.whichSidebar(a),getHeader:(s,a)=>s.getHeader(a),getToolbar:(s,a)=>s.getToolbar(a),setToolbar:(s,a,u)=>{s.setToolbar(a,u)},setToolbars:(s,a,u)=>{s.setToolbars(a,u)},refreshToolbar:(s,a)=>s.refreshToolbar(a),toggleToolbarDrawer:(s,a)=>{s.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(s,a)=>{s.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(s,a)=>s.isToolbarDrawerToggled(a),getThrobber:(s,a)=>s.getThrobber(a),setMenubar:(s,a,u)=>{s.setMenubar(a,u)},focusMenubar:(s,a)=>{s.focusMenubar(a)},focusToolbar:(s,a)=>{s.focusToolbar(a)},setViews:(s,a,u)=>{s.setViews(a,u)},toggleView:(s,a,u)=>s.toggleView(a,u),whichView:(s,a)=>s.whichView(a)}});const OP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},rT=s=>s.split(" "),DP=(s,a)=>{const u={...OP,...a.menus},f=wn(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?rT("file edit view insert format tools table help"):rT(a.menubar===!1?"":a.menubar),b=Fn(p,k=>{const E=Eo(OP,k);return f?E||hn(a.menus,k).exists(D=>Eo(D,"items")):E}),w=Ye(b,k=>{const E=u[k];return((D,F,P)=>{const z=G5(P).split(/[ ,]/);return{text:D.title,getItems:()=>tn(D.items,q=>{const J=q.toLowerCase();return J.trim().length===0||pt(z,ue=>ue===J)?[]:J==="separator"||J==="|"?[{type:"separator"}]:F.menuItems[J]?[F.menuItems[J]]:[]})}})({title:E.title,items:rT(E.items)},a,s)});return Fn(w,k=>k.getItems().length>0&&pt(k.getItems(),E=>v(E)||E.type!=="separator"))},RP=(s,a,u)=>(s.on("remove",()=>u.unload(a)),u.load(a)),iT=(s,a,u,f)=>(s.on("remove",()=>f.unloadRawCss(a)),f.loadRawCss(a,u)),JV=async(s,a)=>{const u="ui/"+g_(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(u);if(!v(f)){const p=s.editorManager.suffix;return RP(s,a+`/skin${p}.css`,s.ui.styleSheetLoader)}iT(s,u,f,s.ui.styleSheetLoader)},QV=async(s,a)=>{var u;if(u=rn(s.getElement()),Wt(u).isSome()){const f="ui/"+g_(s).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(f);if(!v(p)){const b=s.editorManager.suffix;return RP(s,a+`/skin.shadowdom${b}.css`,V0.DOM.styleSheetLoader)}iT(s,f,p,V0.DOM.styleSheetLoader)}},IP=(s,a)=>(async(u,f)=>{const p=()=>{const w=m_(f),k=f.editorManager.suffix;w&&f.contentCSS.push(w+(u?"/content.inline":"/content")+`${k}.css`)};g_(f).fold(p,w=>{const k="ui/"+w+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);v(E)?iT(f,k,E,f.ui.styleSheetLoader):p()});const b=m_(f);if(!Dp(f)&&v(b))return Promise.all([JV(f,b),QV(f,b)]).then()})(s,a).then((u=>{const f=()=>{u._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?f():u.on("init",f)}})(a),((u,f)=>()=>((p,b)=>{p.dispatch("SkinLoadError",b)})(u,{message:"Skin could not be loaded"}))(a)),NP=Ue(IP,!1),ez=Ue(IP,!0),e1=(s,a,u)=>Mu(u)?s.translate(a):s.translate([a,s.translate(u)]),tz=(s,a)=>{const u=(b,w,k,E)=>{const D=s.shared.providers.translate(b.title);if(b.type==="separator")return O.some({type:"separator",text:D});if(b.type==="submenu"){const F=tn(b.getStyleItems(),P=>f(P,w,E));return w===0&&F.length<=0?O.none():O.some({type:"nestedmenuitem",text:D,enabled:F.length>0,getSubmenuItems:()=>tn(b.getStyleItems(),P=>f(P,w,E))})}return O.some({type:"togglemenuitem",text:D,icon:b.icon,active:b.isSelected(E),enabled:!k,onAction:a.onAction(b),...b.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(b,w,k)=>{const E=b.type==="formatter"&&a.isInvalid(b);return w===0?E?[]:u(b,w,!1,k).toArray():u(b,w,E,k).toArray()},p=b=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return tn(b,E=>f(E,k,w))};return{validateItems:p,getFetch:(b,w)=>(k,E)=>{const D=w(),F=p(D);E(Xb(F,Xf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:O.none()}))}}},gy=(s,a)=>{const u=a.dataset,f=u.type==="basic"?()=>Ye(u.data,p=>JN(p,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:tz(s,a),getStyleItems:f}},vw=(s,a,u,f,p,b)=>{const{items:w,getStyleItems:k}=gy(a,u),E=Bn(u.tooltip);return r4({text:u.icon.isSome()?O.none():u.text,icon:u.icon,ariaLabel:O.some(u.tooltip),tooltip:O.none(),role:O.none(),fetch:w.getFetch(a,k),onSetup:D=>{const F=P=>D.setTooltip(e1(s,f(P.value),P.value));return s.on(p,F),J0(Ub(s,"NodeChange",P=>{const z=P.getComponent();u.updateText(z),ro.set(P.getComponent(),!s.selection.isEditable())})(D),()=>s.off(p,F))},getApi:D=>({getComponent:K(D),setTooltip:F=>{const P=a.shared.providers.translate(F);sn(D.element,"aria-label",P),E.set(F)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[si.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(u.tooltip),onShow:D=>{if(u.tooltip!==E.get()){const F=a.shared.providers.translate(E.get());si.setComponents(D,a.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",a.shared,b)};var t1;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(t1||(t1={}));const aT=(s,a,u)=>{const f=(p=((b,w)=>w===t1.SemiColon?b.replace(/;$/,"").split(";"):b.split(" "))(s.options.get(a),u),Ye(p,b=>{let w=b,k=b;const E=b.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var p;return{type:"basic",data:f}},PP=K("Alignment {0}"),MP="left",lT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],cT=s=>{const a={type:"basic",data:lT};return{tooltip:e1(s,PP(),MP),text:O.none(),icon:O.some("align-left"),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>O.none,onAction:u=>()=>Q(lT,f=>f.format===u.format).each(f=>s.execCommand(f.command)),updateText:u=>{const f=Q(lT,p=>s.formatter.match(p.format)).fold(K(MP),p=>p.title.toLowerCase());Rn(u,ud,{icon:`align-${f}`}),((p,b)=>{p.dispatch("AlignTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},BP=(s,a)=>{const u=a(),f=Ye(u,p=>p.format);return O.from(s.formatter.closest(f)).bind(p=>Q(u,b=>b.format===p))},uT=K("Block {0}"),dT="Paragraph",fT=s=>{const a=aT(s,"block_formats",t1.SemiColon);return{tooltip:e1(s,uT(),dT),text:O.some(dT),icon:O.none(),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>()=>{const f=s.formatter.get(u);return f?O.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(u))}):O.none()},onAction:dI(s),updateText:u=>{const f=BP(s,()=>a.data).fold(K(dT),p=>p.title);Rn(u,Su,{text:f}),((p,b)=>{p.dispatch("BlocksTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},LP=K("Font {0}"),mT="System Font",nz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FP=s=>{const a=s.split(/\s*,\s*/);return Ye(a,u=>u.replace(/^['"]+|['"]+$/g,""))},VP=(s,a)=>a.length>0&&Oo(a,u=>s.indexOf(u.toLowerCase())>-1),zP=s=>{const a=()=>{const f=D=>D?FP(D)[0]:"",p=s.queryCommandValue("FontName"),b=u.data,w=p?p.toLowerCase():"",k=f_(s);return{matchOpt:Q(b,D=>{const F=D.format;return F.toLowerCase()===w||f(F).toLowerCase()===f(w).toLowerCase()}).orThunk(()=>rs(((D,F)=>{if(D.indexOf("-apple-system")===0||F.length>0){const P=FP(D.toLowerCase());return VP(P,nz)||VP(P,F)}return!1})(w,k),{title:mT,format:w})),font:p}},u=aT(s,"font_family_formats",t1.SemiColon);return{tooltip:e1(s,LP(),mT),text:O.some(mT),icon:O.none(),isSelectedFor:f=>p=>p.exists(b=>b.format===f),getCurrentValue:()=>{const{matchOpt:f}=a();return f},getPreviewFor:f=>()=>O.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:p,font:b}=a(),w=p.fold(K(b),k=>k.title);Rn(f,Su,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:w})},dataset:u,shouldHide:!1,isInvalid:Ee}},oz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},sz=(()=>{const s="[0-9]+",a="[eE][+-]?"+s,u=p=>`(?:${p})?`,f=["Infinity",s+"\\."+u(s)+u(a),"\\."+s+u(a),s+u(a)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),KS=(s,a)=>O.from(sz.exec(s)).bind(u=>{const f=Number(u[1]),p=u[2];return((b,w)=>pt(w,k=>pt(oz[k],E=>b===E)))(p,a)?O.some({value:f,unit:p}):O.none()}),HP={tab:K(9),escape:K(27),enter:K(13),backspace:K(8),delete:K(46),left:K(37),up:K(38),right:K(39),down:K(40),space:K(32),home:K(36),end:K(35),pageUp:K(33),pageDown:K(34)},$P=K("Font size {0}"),UP="12pt",rz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},WP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},iz=(s,a)=>/[0-9.]+px$/.test(s)?((u,f)=>{const p=Math.pow(10,f);return Math.round(u*p)/p})(72*parseInt(s,10)/96,a||0)+"pt":hn(WP,s).getOr(s),az=s=>hn(rz,s).getOr(""),ZP=s=>{const a=()=>{let p=O.none();const b=f.data,w=s.queryCommandValue("FontSize");if(w)for(let k=3;p.isNone()&&k>=0;k--){const E=iz(w,k),D=az(E);p=Q(b,F=>F.format===w||F.format===E||F.format===D)}return{matchOpt:p,size:w}},u=K(O.none),f=aT(s,"font_size_formats",t1.Space);return{tooltip:e1(s,$P(),UP),text:O.some(UP),icon:O.none(),isSelectedFor:p=>b=>b.exists(w=>w.format===p),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:b,size:w}=a(),k=b.fold(K(w),E=>E.title);Rn(p,Su,{text:k}),((E,D)=>{E.dispatch("FontSizeTextUpdate",D)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:Ee}},jP=s=>Mu(s)?"Formats":"Format {0}",KP=(s,a)=>{const u="Formats";return{tooltip:e1(s,jP(""),""),text:O.some(u),icon:O.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:O.none,getPreviewFor:f=>()=>{const p=s.formatter.get(f);return p!==void 0?O.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):O.none()},onAction:dI(s),updateText:f=>{const p=k=>qN(k)?tn(k.items,p):YN(k)?[{title:k.title,format:k.format}]:[],b=tn(XN(s),p),w=BP(s,K(b)).fold(K({title:u,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Rn(f,Su,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:w.tooltipLabel})},shouldHide:K5(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:a}},gT=K([Dt("toggleClass"),Dt("fetch"),Xu("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",K({})),Mf(),Xu("onItemExecute"),Ko("lazySink"),Dt("dom"),Xo("onOpen"),yn("splitDropdownBehaviours",[Vr,Nn,no]),it("matchWidth",!1),it("useMinWidth",!1),it("eventOrder",{}),Ko("role"),Ko("listRole")].concat(d3())),lz=wl({factory:Ua,schema:[Dt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(Tf)},buttonBehaviours:Zt([Qn.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),cz=wl({factory:Ua,schema:[Dt("dom")],name:"button",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(u=>{s.onExecute(u,a)})}})}),uz=K([lz,cz,vu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Dt("text")],name:"aria-descriptor"}),jd({schema:[Xg()],name:"menu",defaults:s=>({onExecute:(a,u)=>{a.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,a,u)})}})}),AI()]),bw=Bl({name:"SplitDropdown",configFields:gT(),partFields:uz(),factory:(s,a,u,f)=>{const p=D=>{ns.getCurrent(D).each(F=>{Ss.highlightFirst(F),Nn.focusIn(F)})},b=D=>{l3(s,ye,D,f,p,il.HighlightMenuAndItem).get(le)},w=D=>{const F=gh(D,s,"button");return Tf(F),O.some(!0)},k={...fo([sr((D,F)=>{qs(D,s,"aria-descriptor").each(P=>{const z=bn("aria");sn(P.element,"id",z),sn(D.element,"aria-describedby",z)})})]),...F0(O.some(b))},E={repositionMenus:D=>{Qn.isOn(D)&&DI(D)}};return{uid:s.uid,dom:s.dom,components:a,apis:E,eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:yo(s.splitDropdownBehaviours,[Vr.config({others:{sandbox:D=>{const F=gh(D,s,"arrow");return u3(s,D,{onOpen:()=>{Qn.on(F),Qn.on(D)},onClose:()=>{Qn.off(F),Qn.off(D)}})}}}),Nn.config({mode:"special",onSpace:w,onEnter:w,onDown:D=>(b(D),O.some(!0))}),no.config({}),Qn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,a)=>s.repositionMenus(a)}}),hT=s=>({isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setText:a=>Rn(s,Su,{text:a}),setIcon:a=>Rn(s,ud,{icon:a})}),dz=s=>({setActive:a=>{Qn.set(s,a)},isActive:()=>Qn.isOn(s),isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setText:a=>Rn(s,Su,{text:a}),setIcon:a=>Rn(s,ud,{icon:a})}),GP=(s,a)=>s.map(u=>({"aria-label":a.translate(u)})).getOr({}),pT=bn("focus-button"),vT=(s,a,u,f,p,b)=>{const w=a.map(E=>Cs(s4(E,"tox-tbtn",p))),k=s.map(E=>Cs(qp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...GP(u,p),...G(b)?{"data-mce-name":b}:{}}},components:G0([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Rt()]:["focusing","alloy.base.behaviour",Gp],[ua()]:[Gp,"toolbar-group-button-events"]},buttonBehaviours:Zt([M_(p.isDisabled),Pi(),Co(Gp,[sr((E,D)=>CS(E)),St(Su,(E,D)=>{w.bind(F=>F.getOpt(E)).each(F=>{qn.set(F,[Fr(p.translate(D.event.text))])})}),St(ud,(E,D)=>{k.bind(F=>F.getOpt(E)).each(F=>{qn.set(F,[qp(D.event.icon,p.icons)])})}),St(Rt(),(E,D)=>{D.event.prevent(),ko(E,pT)})])].concat(f.getOr([])))}},qP=(s,a,u,f)=>{var p;const b=Bn(le),w=vT(s.icon,s.text,s.tooltip,O.none(),u,f);return Ua.sketch({dom:w.dom,components:w.components,eventOrder:o4,buttonBehaviours:{...Zt([Co("toolbar-button-events",[(k={onAction:s.onAction,getApi:a.getApi},uu((E,D)=>{$2(k,E)(F=>{Rn(E,wS,{buttonApi:F}),k.onAction(F)})})),Vp(a,b),xh(a,b)]),...s.tooltip.map(E=>si.config(u.tooltips.getConfig({tooltipText:u.translate(E)+s.shortcut.map(D=>` (${B_(D)})`).getOr("")}))).toArray(),M_(()=>!s.enabled||u.isDisabled()),Pi()].concat(a.toolbarButtonBehaviours)),[Gp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[Gp]}});var k},YP=(s,a,u,f)=>qP(s,{toolbarButtonBehaviours:u.length>0?[Co("toolbarButtonWith",u)]:[],getApi:hT,onSetup:s.onSetup},a,f),XP=(s,a,u,f)=>qP(s,{toolbarButtonBehaviours:[qn.config({}),Qn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[Co("toolbarToggleButtonWith",u)]:[]),getApi:dz,onSetup:s.onSetup},a,f),fz=(s,a,u)=>f=>zp(p=>a.fetch(p)).map(p=>O.from(f3(Ps(Zb(bn("menu-value"),p,b=>{a.onItemAction(s(f),b)},a.columns,a.presets,Xf.CLOSE_ON_EXECUTE,a.select.getOr(Ee),u),{movement:K2(a.columns,a.presets),menuBehaviours:H2(a.columns!=="auto"?[]:[sr((b,w)=>{LA(b,4,Bp(a.presets)).each(({numRows:k,numColumns:E})=>{Nn.setGridSize(b,k,E)})})])})))),mz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Qp=(s,a)=>(u,f,p,b)=>{const w=s(u).mapError(k=>Qa(k)).getOrDie();return a(w,f,p,b)},gz={button:Qp(VR,(s,a,u,f)=>((p,b,w)=>YP(p,b,[],w))(s,a.shared.providers,f)),togglebutton:Qp(I_,(s,a,u,f)=>((p,b,w)=>XP(p,b,[],w))(s,a.shared.providers,f)),menubutton:Qp(gP,(s,a,u,f)=>ay(s,"tox-tbtn",a,O.none(),!1,f)),splitbutton:Qp(s=>Cr("SplitButton",yV,s),(s,a,u,f)=>((p,b,w)=>{const k=Bn(p.tooltip.getOr("")),E=P=>({isEnabled:()=>!ro.isDisabled(P),setEnabled:z=>ro.set(P,!z),setIconFill:(z,q)=>{fr(P.element,`svg path[class="${z}"], rect[class="${z}"]`).each(J=>{sn(J,"fill",q)})},setActive:z=>{sn(P.element,"aria-pressed",z),fr(P.element,"span").each(q=>{P.getSystem().getByDom(q).each(J=>Qn.set(J,z))})},isActive:()=>fr(P.element,"span").exists(z=>P.getSystem().getByDom(z).exists(Qn.isOn)),setText:z=>fr(P.element,"span").each(q=>P.getSystem().getByDom(q).each(J=>Rn(J,Su,{text:z}))),setIcon:z=>fr(P.element,"span").each(q=>P.getSystem().getByDom(q).each(J=>Rn(J,ud,{icon:z}))),setTooltip:z=>{const q=b.providers.translate(z);sn(P.element,"aria-label",q),k.set(z)}}),D=Bn(le),F={getApi:E,onSetup:p.onSetup};return bw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...GP(p.tooltip,b.providers),...G(w)?{"data-mce-name":w}:{}}},onExecute:P=>{const z=E(P);z.isEnabled()&&p.onAction(z)},onItemExecute:(P,z,q)=>{},splitDropdownBehaviours:Zt([YR(b.providers.isDisabled),Pi(),Co("split-dropdown-events",[sr((P,z)=>CS(P)),St(pT,no.focus),Vp(F,D),xh(F,D)]),Kb.config({}),...p.tooltip.map(P=>si.config({...b.providers.tooltips.getConfig({tooltipText:b.providers.translate(P),onShow:z=>{if(k.get()!==P){const q=b.providers.translate(k.get());si.setComponents(z,b.providers.tooltips.getComponents({tooltipText:q}))}}})})).toArray()]),eventOrder:{[ua()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Dc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:b.getSink,fetch:fz(E,p,b.providers),parts:{menu:A_(0,p.columns,p.presets)},components:[bw.parts.button(vT(p.icon,p.text,O.none(),O.some([Qn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),b.providers)),bw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:vR("chevron-down",b.providers.icons)},buttonBehaviours:Zt([YR(b.providers.isDisabled),Pi(),S_()])}),bw.parts["aria-descriptor"]({text:b.providers.translate("To open the popup, press Shift+Enter")})]})})(s,a.shared,f)),grouptoolbarbutton:Qp(s=>Cr("GroupToolbarButton",vV,s),(s,a,u,f)=>{const p=u.ui.registry.getAll().buttons,b={[xl]:a.shared.header.isPositionedAtTop()?zc.TopToBottom:zc.BottomToTop};if(Ib(u)===nd.floating)return((w,k,E,D,F)=>{const P=k.shared,z=Bn(le),q={toolbarButtonBehaviours:[],getApi:hT,onSetup:w.onSetup},J=[Co("toolbar-group-button-events",[Vp(q,z),xh(q,z)])];return Th.sketch({lazySink:P.getSink,fetch:()=>zp(ue=>{ue(Ye(E(w.items),ZS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:vT(w.icon,w.text,w.tooltip,O.some(J),P.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:D}}}})})(s,a,w=>GS(u,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,O.none()),b,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},yw={styles:(s,a)=>{const u={type:"advanced",...a.styles};return vw(s,a,KP(s,u),jP,"StylesTextUpdate","styles")},fontsize:(s,a)=>vw(s,a,ZP(s),$P,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,a)=>((u,f,p,b)=>{let w=O.none();const k=Ub(u,"NodeChange SwitchMode",be=>{const _e=be.getComponent();w=O.some(_e),p.updateInputValue(_e),ro.set(_e,!u.selection.isEditable())}),E=be=>({getComponent:K(be)}),D=Bn(le),F=bn("custom-number-input-events"),P=(be,_e,Ae)=>{const ze=w.map(Ht=>lt.getValue(Ht)).getOr(""),ot=p.getNewValue(ze,be),Et=ze.length-`${ot}`.length,_t=w.map(Ht=>Ht.element.dom.selectionStart-Et),wt=w.map(Ht=>Ht.element.dom.selectionEnd-Et);p.onAction(ot,Ae),w.each(Ht=>{lt.setValue(Ht,ot),_e&&(_t.each(mn=>Ht.element.dom.selectionStart=mn),wt.each(mn=>Ht.element.dom.selectionEnd=mn))})},z=(be,_e)=>P((Ae,ze)=>Ae-ze,be,_e),q=(be,_e)=>P((Ae,ze)=>Ae+ze,be,_e),J=be=>Sa(be.element).fold(O.none,_e=>(za(_e),O.some(!0))),ue=be=>ah(be.element)?(Te(be.element).each(_e=>za(_e)),O.some(!0)):O.none(),me=(be,_e,Ae,ze)=>{const ot=Bn(le),Et=f.shared.providers.translate(Ae),_t=bn("altExecuting"),wt=Ub(u,"NodeChange SwitchMode",mn=>{ro.set(mn.getComponent(),!u.selection.isEditable())}),Ht=mn=>{ro.isDisabled(mn)||be(!0)};return Ua.sketch({dom:{tag:"button",attributes:{"aria-label":Et,"data-mce-name":_e},classes:ze.concat(_e)},components:[rw(_e,f.shared.providers.icons)],buttonBehaviours:Zt([ro.config({}),si.config(f.shared.providers.tooltips.getConfig({tooltipText:Et})),Co(_t,[Vp({onSetup:wt,getApi:E},ot),xh({getApi:E},ot),St(Sr(),(mn,kn)=>{kn.event.raw.keyCode!==HP.space()&&kn.event.raw.keyCode!==HP.enter()||ro.isDisabled(mn)||be(!1)}),St(pi(),Ht),St(Re(),Ht)])]),eventOrder:{[Sr()]:[_t,"keying"],[pi()]:[_t,"alloy.base.behaviour"],[Re()]:[_t,"alloy.base.behaviour"],[ua()]:["alloy.base.behaviour",_t,"tooltipping"],[Dc()]:[_t,"tooltipping"]}})},Ce=Cs(me(be=>z(!1,be),"minus","Decrease font size",[])),fe=Cs(me(be=>q(!1,be),"plus","Increase font size",[])),de=Cs({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[yh.sketch({inputBehaviours:Zt([ro.config({}),Co(F,[Vp({onSetup:k,getApi:E},D),xh({getApi:E},D)]),Co("input-update-display-text",[St(Su,(be,_e)=>{lt.setValue(be,_e.event.text)}),St(Zr(),be=>{p.onAction(lt.getValue(be))}),St(Nm(),be=>{p.onAction(lt.getValue(be))})]),Nn.config({mode:"special",onEnter:be=>(P(ye,!0,!0),O.some(!0)),onEscape:J,onUp:be=>(q(!0,!1),O.some(!0)),onDown:be=>(z(!0,!1),O.some(!0)),onLeft:(be,_e)=>(_e.cut(),O.none()),onRight:(be,_e)=>(_e.cut(),O.none())})])})],behaviours:Zt([no.config({}),Nn.config({mode:"special",onEnter:ue,onSpace:ue,onEscape:J}),Co("input-wrapper-events",[St(Tn(),be=>{Mt([Ce,fe],_e=>{const Ae=rn(_e.get(be).element.dom);ah(Ae)&&tb(Ae)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...G(b)?{"data-mce-name":b}:{}}},components:[Ce.asSpec(),de.asSpec(),fe.asSpec()],behaviours:Zt([no.config({}),Nn.config({mode:"flow",focusInside:_b.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:be=>ah(be.element)?O.none():(za(be.element),O.some(!0))})])}})(s,a,(u=>{const f=()=>u.queryCommandValue("FontSize");return{updateInputValue:p=>Rn(p,Su,{text:f()}),onAction:(p,b)=>u.execCommand("FontSize",!1,p,{skip_focus:!b}),getNewValue:(p,b)=>{KS(p,["unsupportedLength","empty"]);const w=f(),k=KS(p,["unsupportedLength","empty"]).or(KS(w,["unsupportedLength","empty"])),E=k.map(q=>q.value).getOr(16),D=cA(u),F=k.map(q=>q.unit).filter(q=>q!=="").getOr(D),P=b(E,(q=>{var J;return(J={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[q])!==null&&J!==void 0?J:{step:1}})(F).step),z=`${(q=>q>=0)(P)?P:E}${F}`;return z!==w&&((q,J)=>{q.dispatch("FontSizeInputTextUpdate",J)})(u,{value:z}),z}}})(s),"fontsizeinput"),fontfamily:(s,a)=>vw(s,a,zP(s),LP,"FontFamilyTextUpdate","fontfamily"),blocks:(s,a)=>vw(s,a,fT(s),uT,"BlocksTextUpdate","blocks"),align:(s,a)=>vw(s,a,cT(s),PP,"AlignTextUpdate","align")},GS=(s,a,u,f)=>{const p=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(D=>{const F=Ye(mz,P=>{const z=Fn(P.items,q=>Eo(D,q)||Eo(yw,q));return{name:P.name,items:z}});return Fn(F,P=>P.items.length>0)})(E):v(k)?(D=>{const F=D.split("|");return Ye(F,P=>({items:P.trim().split(" ")}))})(k):(D=>ce(D,F=>Eo(F,"name")&&Eo(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),b=Ye(p,w=>{const k=tn(w.items,E=>E.trim().length===0?[]:((D,F,P,z,q,J)=>hn(F,P.toLowerCase()).orThunk(()=>J.bind(ue=>Vt(ue,me=>hn(F,me+P.toLowerCase())))).fold(()=>hn(yw,P.toLowerCase()).map(ue=>ue(D,q)),ue=>ue.type!=="grouptoolbarbutton"||z?((me,Ce,fe,de)=>hn(gz,me.type).fold(()=>(console.error("skipping button defined by",me),O.none()),be=>O.some(be(me,Ce,fe,de))))(ue,q,D,P.toLowerCase()):(console.warn(`Ignoring the '${P}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(s,a.buttons,E,a.allowToolbarGroups,u,f).toArray());return{title:O.from(s.translate(w.name)),items:k}});return Fn(b,w=>w.items.length>0)},JP=(s,a,u,f)=>{const p=a.mainUi.outerContainer,b=u.toolbar,w=u.buttons;if(ce(b,v)){const k=b.map(E=>{const D={toolbar:E,buttons:w,allowToolbarGroups:u.allowToolbarGroups};return GS(s,D,f,O.none())});er.setToolbars(p,k)}else er.setToolbar(p,GS(s,u,f,O.none()))},QP=ra(),hz=QP.os.isiOS()&&QP.os.version.major<=12;var CW=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=a,k=Bn(0),E=b.outerContainer;NP(s);const D=rn(p.targetNode),F=Je(ut(D));xt(D,b.mothership),((J,ue,me)=>{bh(J)&&xt(me.mainUi.mothership.element,me.popupUi.mothership),Kx(ue,me.dialogUi.mothership)})(s,F,a),s.on("SkinLoaded",()=>{er.setSidebar(E,u.sidebar,d_(s)),JP(s,a,u,f),k.set(s.getWin().innerWidth),er.setMenubar(E,DP(s,u)),er.setViews(E,u.views),((J,ue)=>{const{uiMotherships:me}=ue,Ce=J.dom;let fe=J.getWin();const de=J.getDoc().documentElement,be=Bn(Xs(fe.innerWidth,fe.innerHeight)),_e=Bn(Xs(de.offsetWidth,de.offsetHeight)),Ae=()=>{const _t=be.get();_t.left===fe.innerWidth&&_t.top===fe.innerHeight||(be.set(Xs(fe.innerWidth,fe.innerHeight)),$b(J))},ze=()=>{const _t=J.getDoc().documentElement,wt=_e.get();wt.left===_t.offsetWidth&&wt.top===_t.offsetHeight||(_e.set(Xs(_t.offsetWidth,_t.offsetHeight)),$b(J))},ot=_t=>{((wt,Ht)=>{wt.dispatch("ScrollContent",Ht)})(J,_t)};Ce.bind(fe,"resize",Ae),Ce.bind(fe,"scroll",ot);const Et=Fx(rn(J.getBody()),"load",ze);J.on("hide",()=>{Mt(me,_t=>{co(_t.element,"display","none")})}),J.on("show",()=>{Mt(me,_t=>{ws(_t.element,"display")})}),J.on("NodeChange",ze),J.on("remove",()=>{Et.unbind(),Ce.unbind(fe,"resize",Ae),Ce.unbind(fe,"scroll",ot),fe=null})})(s,a)});const P=er.getSocket(E).getOrDie("Could not find expected socket element");if(hz){Ya(P.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const J=((me,Ce)=>{let fe=null;return{cancel:()=>{R(fe)||(clearTimeout(fe),fe=null)},throttle:(...de)=>{R(fe)&&(fe=setTimeout(()=>{fe=null,me.apply(null,de)},20))}}})(()=>{s.dispatch("ScrollContent")}),ue=Ha(P.element,"scroll",J.throttle);s.on("remove",ue.unbind)}qR(s,a),s.addCommand("ToggleSidebar",(J,ue)=>{er.toggleSidebar(E,ue),(me=>{me.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var J;return(J=er.whichSidebar(E))!==null&&J!==void 0?J:""}),s.addCommand("ToggleView",(J,ue)=>{if(er.toggleView(E,ue)){const me=E.element;b.mothership.broadcastOn([B()],{target:me}),Mt(w,Ce=>{Ce.broadcastOn([B()],{target:me})}),R(er.whichView(E))&&(s.focus(),s.nodeChanged(),er.refreshToolbar(E)),(Ce=>{Ce.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var J;return(J=er.whichView(E))!==null&&J!==void 0?J:""});const z=Ib(s);z!==nd.sliding&&z!==nd.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const J=s.getWin().innerWidth;J!==k.get()&&(er.refreshToolbar(a.mainUi.outerContainer),k.set(J))});const q={setEnabled:J=>{zb(a,!J)},isEnabled:()=>!ro.isDisabled(E)};return{iframeContainer:P.element.dom,editorContainer:E.element.dom,api:q}}});const xw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?O.some(parseInt(""+s,10)):O.none(),ev=s=>ne(s)?s+"px":s,ww=(s,a,u)=>{const f=a.filter(b=>s<b),p=u.filter(b=>s>b);return f.or(p).getOr(s)},bT=s=>{const a=h2(s),u=p2(s),f=H0(s);return xw(a).map(p=>ww(p,u,f))},{ToolbarLocation:yT,ToolbarMode:e6}=C2,pz=(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=u,k=V0.DOM,E=Nb(s),D=vh(s),F=H0(s).or(bT(s)),P=f.shared.header,z=P.isPositionedAtTop,q=Ib(s),J=q===e6.sliding||q===e6.floating,ue=Bn(!1),me=()=>ue.get()&&!s.removed,Ce=_e=>J?_e.fold(K(0),Ae=>Ae.components().length>1?Or(Ae.components()[1].element):0):0,fe=()=>{Mt(w,_e=>{_e.broadcastOn([H()],{})})},de=_e=>{if(!me())return;E||p.on(ot=>{const Et=F.getOrThunk(()=>xi().width-na(a).left-10);co(ot.element,"max-width",Et+"px")});const Ae=Js(),ze=!(E||E||!(Nl(b.outerContainer.element).left+Xa(b.outerContainer.element)>=window.innerWidth-40||Hr(b.outerContainer.element,"width").isSome())||(co(b.outerContainer.element,"position","absolute"),co(b.outerContainer.element,"left","0px"),ws(b.outerContainer.element,"width"),0));if(J&&er.refreshToolbar(b.outerContainer),!E){const ot=Js(),Et=rs(Ae.left!==ot.left,Ae);((_t,wt)=>{p.on(Ht=>{const mn=er.getToolbar(b.outerContainer),kn=Ce(mn),Hn=ai(a),io=((So,Jo)=>bh(So)?dp(Jo):O.none())(s,b.outerContainer.element),Fo=io.fold(()=>Hn.x,So=>{const Jo=ai(So);return is(So,vn())?Hn.x:Hn.x-Jo.x}),tr=rs(_t,Math.ceil(b.outerContainer.element.dom.getBoundingClientRect().width)).filter(So=>So>150).map(So=>{const Jo=wt.getOr(Js()),Kn=window.innerWidth-(Fo-Jo.left),gr=Math.max(Math.min(So,Kn),150);return Kn<So&&co(b.outerContainer.element,"width",gr+"px"),{width:gr+"px"}}).getOr({width:"max-content"}),mr={position:"absolute",left:Math.round(Fo)+"px",top:io.fold(()=>z()?Math.max(Hn.y-Or(Ht.element)+kn,0):Hn.bottom,So=>{var Jo;const Kn=ai(So),gr=(Jo=So.dom.scrollTop)!==null&&Jo!==void 0?Jo:0,Ls=is(So,vn())?Math.max(Hn.y-Or(Ht.element)+kn,0):Hn.y-Kn.y+gr-Or(Ht.element)+kn;return z()?Ls:Hn.bottom})+"px"};Ya(b.outerContainer.element,{...mr,...tr})})})(ze,Et),Et.each(_t=>{bf(_t.left,ot.top)})}D&&p.on(_e),fe()},be=()=>!(E||!D||!me())&&p.get().exists(_e=>{const Ae=P.getDockingMode(),ze=(Et=>{switch(Op(s)){case yT.auto:const _t=er.getToolbar(b.outerContainer),wt=Ce(_t),Ht=Or(Et.element)-wt,mn=ai(a);if(mn.y>Ht)return"top";{const kn=qa(a),Hn=Math.max(kn.dom.scrollHeight,Or(kn));return mn.bottom<Hn-Ht||Ui().bottom<mn.bottom-Ht?"bottom":"top"}case yT.bottom:return"bottom";case yT.top:default:return"top"}})(_e);return ze!==Ae&&(ot=ze,p.on(Et=>{dr.setModes(Et,[ot]),P.setDockingMode(ot);const _t=z()?zc.TopToBottom:zc.BottomToTop;sn(Et.element,xl,_t)}),!0);var ot});return{isVisible:me,isPositionedAtTop:z,show:()=>{ue.set(!0),co(b.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),Mt(w,_e=>{ws(_e.element,"display")}),be(),bh(s)?de(_e=>dr.isDocked(_e)?dr.reset(_e):dr.refresh(_e)):de(dr.refresh)},hide:()=>{ue.set(!1),co(b.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),Mt(w,_e=>{co(_e.element,"display","none")})},update:de,updateMode:()=>{be()&&de(dr.reset)},repositionPopups:fe}},t6=(s,a)=>{const u=ai(s);return{pos:a?u.y:u.bottom,bounds:u}};var vz=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b}=a,w=Es(),k=rn(p.targetNode),E=pz(s,k,a,f,w),D=q5(s);ez(s);const F=()=>{if(w.isSet())return void E.show();w.set(er.getHeader(b.outerContainer).getOrDie());const z=p_(s);bh(s)?(xt(k,b.mothership),xt(k,a.popupUi.mothership)):Kx(z,b.mothership),Kx(z,a.dialogUi.mothership);const q=()=>{JP(s,a,u,f),er.setMenubar(b.outerContainer,DP(s,u)),E.show(),((J,ue,me,Ce)=>{const fe=Bn(t6(ue,me.isPositionedAtTop())),de=ze=>{const{pos:ot,bounds:Et}=t6(ue,me.isPositionedAtTop()),{pos:_t,bounds:wt}=fe.get(),Ht=Et.height!==wt.height||Et.width!==wt.width;fe.set({pos:ot,bounds:Et}),Ht&&$b(J,ze),me.isVisible()&&(_t!==ot?me.update(dr.reset):Ht&&(me.updateMode(),me.repositionPopups()))};Ce||(J.on("activate",me.show),J.on("deactivate",me.hide)),J.on("SkinLoaded ResizeWindow",()=>me.update(dr.reset)),J.on("NodeChange keydown",ze=>{requestAnimationFrame(()=>de(ze))});let be=0;const _e=j3(()=>me.update(dr.refresh),33);J.on("ScrollWindow",()=>{const ze=Js().left;ze!==be&&(be=ze,_e.throttle()),me.updateMode()}),bh(J)&&J.on("ElementScroll",ze=>{me.update(dr.refresh)});const Ae=Ec();Ae.set(Fx(rn(J.getBody()),"load",ze=>de(ze.raw))),J.on("remove",()=>{Ae.clear()})})(s,k,E,D),s.nodeChanged()};D?s.once("SkinLoaded",q):q()};s.on("show",F),s.on("hide",E.hide),D||(s.on("focus",F),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||D)&&F()}),qR(s,a);const P={show:F,hide:E.hide,setEnabled:z=>{zb(a,!z)},isEnabled:()=>!ro.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:P}}});const n6="contexttoolbar-hide",o6=(s,a)=>St(wS,(u,f)=>{const p=(b=>({hide:()=>ko(b,Mv()),getValue:()=>lt.getValue(b)}))(s.get(u));a.onAction(p,f.event.buttonApi)}),bz=(s,a)=>{const u=s.label.fold(()=>({}),b=>({"aria-label":b})),f=Cs(yh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:Zt([Nn.config({mode:"special",onEnter:b=>p.findPrimary(b).map(w=>(Tf(w),!0)),onLeft:(b,w)=>(w.cut(),O.none()),onRight:(b,w)=>(w.cut(),O.none())})])})),p=((b,w,k)=>{const E=Ye(w,D=>Cs(((F,P,z)=>(q=>q.type==="contextformtogglebutton")(P)?((q,J,ue)=>{const{primary:me,...Ce}=J.original,fe=Ba(I_({...Ce,type:"togglebutton",onAction:le}));return XP(fe,ue,[o6(q,J)])})(F,P,z):((q,J,ue)=>{const{primary:me,...Ce}=J.original,fe=Ba(VR({...Ce,type:"button",onAction:le}));return YP(fe,ue,[o6(q,J)])})(F,P,z))(b,D,k)));return{asSpecs:()=>Ye(E,D=>D.asSpec()),findPrimary:D=>Vt(w,(F,P)=>F.primary?O.from(E[P]).bind(z=>z.getOpt(D)).filter(We(ro.isDisabled)):O.none())}})(f,s.commands,a);return[{title:O.none(),items:[f.asSpec()]},{title:O.none(),items:p.asSpecs()}]},s6=(s,a,u)=>a.bottom-s.y>=u&&s.bottom-a.y>=u,xT=s=>{const a=(u=>{const f=u.getBoundingClientRect();if(f.height<=0&&f.width<=0){const p=Ne(rn(u.startContainer),u.startOffset).element;return(Ca(p)?_a(p):O.some(p)).filter(lr).map(b=>b.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const u=Js();return Ro(u.left+a.left,u.top+a.top,a.width,a.height)}{const u=hl(rn(s.getBody()));return Ro(u.x+a.left,u.y+a.top,a.width,a.height)}},r6=(s,a,u,f=0)=>{const p=xi(window),b=ai(rn(s.getContentAreaContainer())),w=y2(s)||x2(s)||w2(s),{x:k,width:E}=((D,F,P)=>{const z=Math.max(D.x+P,F.x);return{x:z,width:Math.min(D.right-P,F.right)-z}})(b,p,f);if(s.inline&&!w)return Ro(k,p.y,E,p.height);{const D=a.header.isPositionedAtTop(),{y:F,bottom:P}=((z,q,J,ue,me,Ce)=>{const fe=rn(z.getContainer()),de=fr(fe,".tox-editor-header").getOr(fe),be=ai(de),_e=be.y>=q.bottom,Ae=ue&&!_e;if(z.inline&&Ae)return{y:Math.max(be.bottom+Ce,J.y),bottom:J.bottom};if(z.inline&&!Ae)return{y:J.y,bottom:Math.min(be.y-Ce,J.bottom)};const ze=me==="line"?ai(fe):q;return Ae?{y:Math.max(be.bottom+Ce,J.y),bottom:Math.min(ze.bottom-Ce,J.bottom)}:{y:Math.max(ze.y+Ce,J.y),bottom:Math.min(be.y-Ce,J.bottom)}})(s,b,p,D,u,f);return Ro(k,F,E,P-F)}},wT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},n1={maxHeightFunction:lh(),maxWidthFunction:X4()},tv=s=>s==="node",yz=(s,a,u,f,p)=>{const b=xT(s),w=f.lastElement().exists(k=>is(u,k));return((k,E)=>{const D=k.selection.getRng(),F=Ne(rn(D.startContainer),D.startOffset);return D.startContainer===D.endContainer&&D.startOffset===D.endOffset-1&&is(F.element,E)})(s,u)?w?NS:os:w?((k,E,D)=>{const F=Hr(k,"position");co(k,"position",E);const P=s6(b,ai(a),-20)&&!f.isReposition()?T4:NS;return F.each(z=>co(k,"position",z)),P})(a,f.getMode()):(f.getMode()==="fixed"?p.y+Js().top:p.y)+(Or(a)+12)<=b.y?os:gg},i6=(s,a,u,f)=>{const p=w=>(k,E,D,F,P)=>({...yz(s,F,w,u,P)({...k,y:P.y,height:P.height},E,D,F,P),alwaysFit:!0}),b=w=>tv(f)?[p(w)]:[];return a?{onLtr:w=>[Gr,Nr,Pr,ni,Ms,Er].concat(b(w)),onRtl:w=>[Gr,Pr,Nr,Ms,ni,Er].concat(b(w))}:{onLtr:w=>[Er,Gr,ni,Nr,Ms,Pr].concat(b(w)),onRtl:w=>[Er,Gr,Ms,Pr,ni,Nr].concat(b(w))}},qS=(s,a)=>{const u=Fn(a,b=>b.predicate(s.dom)),{pass:f,fail:p}=oo(u,b=>b.type==="contexttoolbar");return{contextToolbars:f,contextForms:p}},YS=(s,a)=>{const u={},f=[],p=[],b={},w={},k=wn(s);return Mt(k,E=>{const D=s[E];D.type==="contextform"?((F,P)=>{const z=Ba(Cr("ContextForm",zF,P));u[F]=z,z.launch.map(q=>{b["form:"+F]={...P.launch,type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(z)}}}),z.scope==="editor"?p.push(z):f.push(z),w[F]=z})(E,D):D.type==="contexttoolbar"&&((F,P)=>{var z;(z=P,Cr("ContextToolbar",HR,z)).each(q=>{P.scope==="editor"?p.push(q):f.push(q),w[F]=q})})(E,D)}),{forms:u,inNodeScope:f,inEditorScope:p,lookupTable:w,formNavigators:b}},a6=bn("forward-slide"),hy=bn("backward-slide"),o1=bn("change-slide-event"),CT="tox-pop--resizing",_T="tox-pop--transition",xz=(s,a,u,f)=>{const p=f.backstage,b=p.shared,w=ra().deviceType.isTouch,k=Es(),E=Es(),D=Es(),F=Ki((Ae=>{const ze=Bn([]);return vr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ot=>{ze.set([]),vr.getContent(ot).each(Et=>{ws(Et.element,"visibility")}),Ir(ot.element,CT),ws(ot.element,"width")},inlineBehaviours:Zt([Co("context-toolbar-events",[Of(Nv(),(ot,Et)=>{Et.event.raw.propertyName==="width"&&(Ir(ot.element,CT),ws(ot.element,"width"))}),St(o1,(ot,Et)=>{const _t=ot.element;ws(_t,"width");const wt=Oi(_t);vr.setContent(ot,Et.event.contents),kr(_t,CT);const Ht=Oi(_t);co(_t,"width",wt+"px"),vr.getContent(ot).each(mn=>{Et.event.focus.bind(kn=>(za(kn),qr(_t))).orThunk(()=>(Nn.focusIn(mn),mu(ut(_t))))}),setTimeout(()=>{co(ot.element,"width",Ht+"px")},0)}),St(a6,(ot,Et)=>{vr.getContent(ot).each(_t=>{ze.set(ze.get().concat([{bar:_t,focus:mu(ut(ot.element))}]))}),Rn(ot,o1,{contents:Et.event.forwardContents,focus:O.none()})}),St(hy,(ot,Et)=>{vt(ze.get()).each(_t=>{ze.set(ze.get().slice(0,ze.get().length-1)),Rn(ot,o1,{contents:nl(_t.bar),focus:_t.focus})})})]),Nn.config({mode:"special",onEscape:ot=>vt(ze.get()).fold(()=>Ae.onEscape(),Et=>(ko(ot,hy),O.some(!0)))})]),lazySink:()=>Lo.value(Ae.sink)})})({sink:u,onEscape:()=>(s.focus(),O.some(!0))})),P=()=>{const Ae=D.get().getOr("node"),ze=tv(Ae)?1:0;return r6(s,b,Ae,ze)},z=()=>!(s.removed||w()&&p.isContextMenuOpen()),q=()=>{if(z()){const Ae=P(),ze=or(D.get(),"node")?((ot,Et)=>Et.filter(_t=>un(_t)&&dl(_t)).map(hl).getOrThunk(()=>xT(ot)))(s,k.get()):xT(s);return Ae.height<=0||!s6(ze,Ae,.01)}return!0},J=()=>{k.clear(),E.clear(),D.clear(),vr.hide(F)},ue=()=>{if(vr.isOpen(F)){const Ae=F.element;ws(Ae,"display"),q()?co(Ae,"display","none"):(E.set(0),vr.reposition(F))}},me=Ae=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ae],behaviours:Zt([Nn.config({mode:"acyclic"}),Co("pop-dialog-wrap-events",[sr(ze=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Nn.focusIn(ze))}),Yu(ze=>{s.shortcuts.remove("ctrl+F9")})])])}),Ce=oa(()=>YS(a,Ae=>{const ze=fe([Ae]);Rn(F,a6,{forwardContents:me(ze)})})),fe=Ae=>{const{buttons:ze}=s.ui.registry.getAll(),ot={...ze,...Ce().formNavigators},Et=Ib(s)===nd.scrolling?nd.scrolling:nd.default,_t=eo(Ye(Ae,wt=>wt.type==="contexttoolbar"?((Ht,mn)=>GS(s,{buttons:Ht,toolbar:mn.items,allowToolbarGroups:!1},f.backstage,O.some(["form:"])))(ot,wt):((Ht,mn)=>bz(Ht,mn))(wt,b.providers)));return nT({type:Et,uid:bn("context-toolbar"),initGroups:_t,onEscape:O.none,cyclicKeying:!0,providers:b.providers})},de=(Ae,ze)=>{if(_e.cancel(),!z())return;const ot=fe(Ae),Et=Ae[0].position,_t=((Ht,mn)=>{const kn=Ht==="node"?b.anchors.node(mn):b.anchors.cursor(),Hn=((io,Fo,tr,mr)=>Fo==="line"?{bubble:ac(12,0,wT),layouts:{onLtr:()=>[f0],onRtl:()=>[m0]},overrides:n1}:{bubble:ac(0,12,wT,1/12),layouts:i6(io,tr,mr,Fo),overrides:n1})(s,Ht,w(),{lastElement:k.get,isReposition:()=>or(E.get(),0),getMode:()=>ga.getMode(u)});return Ps(kn,Hn)})(Et,ze);D.set(Et),E.set(1);const wt=F.element;ws(wt,"display"),(Ht=>or(Kt(Ht,k.get(),is),!0))(ze)||(Ir(wt,_T),ga.reset(u,F)),vr.showWithinBounds(F,me(ot),{anchor:_t,transition:{classes:[_T],mode:"placement"}},()=>O.some(P())),ze.fold(k.clear,k.set),q()&&co(wt,"display","none")};let be=!1;const _e=j3(()=>{!s.hasFocus()||s.removed||be||(tl(F.element,_T)?_e.throttle():((Ae,ze)=>{const ot=rn(ze.getBody()),Et=wt=>is(wt,ot),_t=rn(ze.selection.getNode());return(wt=>!Et(wt)&&!Br(ot,wt))(_t)?O.none():((wt,Ht,mn)=>{const kn=qS(wt,Ht);if(kn.contextForms.length>0)return O.some({elem:wt,toolbars:[kn.contextForms[0]]});{const Hn=qS(wt,mn);if(Hn.contextForms.length>0)return O.some({elem:wt,toolbars:[Hn.contextForms[0]]});if(kn.contextToolbars.length>0||Hn.contextToolbars.length>0){const io=(Fo=>{if(Fo.length<=1)return Fo;{const tr=Kn=>pt(Fo,gr=>gr.position===Kn),mr=Kn=>Fn(Fo,gr=>gr.position===Kn),So=tr("selection"),Jo=tr("node");if(So||Jo){if(Jo&&So){const Kn=mr("node"),gr=Ye(mr("selection"),Ls=>({...Ls,position:"node"}));return Kn.concat(gr)}return mr(So?"selection":"node")}return mr("line")}})(kn.contextToolbars.concat(Hn.contextToolbars));return O.some({elem:wt,toolbars:io})}return O.none()}})(_t,Ae.inNodeScope,Ae.inEditorScope).orThunk(()=>((wt,Ht,mn)=>wt(Ht)?O.none():Ug(Ht,kn=>{if(lr(kn)){const{contextToolbars:Hn,contextForms:io}=qS(kn,mn.inNodeScope),Fo=io.length>0?io:(tr=>{if(tr.length<=1)return tr;{const mr=So=>Q(tr,Jo=>Jo.position===So);return mr("selection").orThunk(()=>mr("node")).orThunk(()=>mr("line")).map(So=>So.position).fold(()=>[],So=>Fn(tr,Jo=>Jo.position===So))}})(Hn);return Fo.length>0?O.some({elem:kn,toolbars:Fo}):O.none()}return O.none()},wt))(Et,_t,Ae))})(Ce(),s).fold(J,Ae=>{de(Ae.toolbars,O.some(Ae.elem))}))},17);s.on("init",()=>{s.on("remove",J),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ue),s.on("click keyup focus SetContent",_e.throttle),s.on(n6,J),s.on("contexttoolbar-show",Ae=>{const ze=Ce();hn(ze.lookupTable,Ae.toolbarKey).each(ot=>{de([ot],rs(Ae.target!==s,Ae.target)),vr.getContent(F).each(Nn.focusIn)})}),s.on("focusout",Ae=>{r_.setEditorTimeout(s,()=>{qr(u.element).isNone()&&qr(F.element).isNone()&&J()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&J()}),s.on("ExecCommand",({command:Ae})=>{Ae.toLowerCase()==="toggleview"&&J()}),s.on("AfterProgressState",Ae=>{Ae.state?J():s.hasFocus()&&_e.throttle()}),s.on("dragstart",()=>{be=!0}),s.on("dragend drop",()=>{be=!1}),s.on("NodeChange",Ae=>{qr(F.element).fold(_e.throttle,le)})})},l6=(s,a)=>{const u=()=>{const f=a.getOptions(s),p=a.getCurrent(s).map(a.hash),b=Es();return Ye(f,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=F=>{F&&(b.on(P=>P.setActive(!1)),b.set(k)),k.setActive(F)};E(or(p,a.hash(w)));const D=a.watcher(s,w,E);return()=>{b.clear(),D()}},onAction:()=>a.setCurrent(s,w)}))};s.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:f=>f(u()),onSetup:a.onToolbarSetup}),s.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:u,onSetup:a.onMenuSetup})},wz=s=>{l6(s,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:nR,hash:u=>((f,p)=>KS(f,["fixed","relative","empty"]).map(({value:b,unit:w})=>b+w))(u).getOr(u),display:ye,watcher:(u,f,p)=>u.formatter.formatChanged("lineheight",p,!1,{value:f}).unbind,getCurrent:u=>O.from(u.queryCommandValue("LineHeight")),setCurrent:(u,f)=>u.execCommand("LineHeight",!1,f),onToolbarSetup:Mi(a),onMenuSetup:Mi(a)}))(s)),(a=>O.from(iA(a)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:K(u),hash:f=>L(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,p,b)=>{var w;return f.formatter.formatChanged("lang",b,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:f=>{const p=rn(f.selection.getNode());return Wg(p,b=>O.some(b).filter(lr).bind(w=>jo(w,"lang").map(k=>({code:k,customCode:jo(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,p)=>f.execCommand("Lang",!1,p),onToolbarSetup:f=>{const p=Ec();return f.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",f.setActive,!0)),J0(p.clear,Mi(a)(f))},onMenuSetup:Mi(a)})))(s).each(a=>l6(s,a))},Cz=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),Cw=(s,a)=>u=>{u.setActive(a.get());const f=p=>{a.set(p.state),u.setActive(p.state)};return s.on("PastePlainTextToggle",f),J0(()=>s.off("PastePlainTextToggle",f),Mi(s)(u))},ST=(s,a)=>()=>{s.execCommand("mceToggleFormat",!1,a)},kT=s=>{(a=>{(u=>{Eh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,p)=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Jf(u,f.name),onAction:ST(u,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const p="h"+f,b=`Access+${f}`;u.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+f,onSetup:Jf(u,p),onAction:ST(u,p),shortcut:b})}})(a),(u=>{Eh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:uc(u,f.action),shortcut:f.shortcut})}),Eh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Mi(u),onAction:uc(u,f.action)})})})(a),(u=>{Eh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:uc(u,f.action),onSetup:Jf(u,f.name)})})})(a)})(s),(a=>{Eh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:uc(a,u.action)})}),Eh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Mi(a),onAction:uc(a,u.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Mi(a),onAction:ST(a,"code")})})(s)},XS=(s,a)=>Ub(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!s.mode.isReadOnly()&&s.undoManager[a]())}),_z=s=>Ub(s,"VisualAid",a=>{a.setActive(s.hasVisual)}),Sz=(s,a)=>{(u=>{Mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:uc(u,f.cmd),onSetup:Jf(u,f.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Mi(u),onAction:uc(u,"JustifyNone")})})(s),kT(s),((u,f)=>{((p,b)=>{const w=gy(b,cT(p));p.ui.registry.addNestedMenuItem("align",{text:b.shared.providers.translate("Align"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=gy(b,zP(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:b.shared.providers.translate("Fonts"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w={type:"advanced",...b.styles},k=gy(b,KP(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Mi(p),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(u,f),((p,b)=>{const w=gy(b,fT(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=gy(b,ZP(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f)})(s,a),(u=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:XS(f,"hasUndo"),onAction:uc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:XS(f,"hasRedo"),onAction:uc(f,"redo")})})(u),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:XS(f,"hasUndo"),onAction:uc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:XS(f,"hasRedo"),onAction:uc(f,"redo"),shortcut:"Meta+Y"})})(u)})(s),(u=>{(k=>{k.addCommand("mceApplyTextcolor",(E,D)=>{((F,P,z)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(P,{value:z}),F.nodeChanged()})})(k,E,D)}),k.addCommand("mceRemoveTextcolor",E=>{((D,F)=>{D.undoManager.transact(()=>{D.focus(),D.formatter.remove(F,{value:null},void 0,!0),D.nodeChanged()})})(k,E)})})(u);const f=hI(u),p=pI(u),b=Bn(f),w=Bn(p);s3(u,"forecolor","forecolor",b),s3(u,"backcolor","hilitecolor",w),ey(u,"forecolor","forecolor","Text color",b),ey(u,"backcolor","hilitecolor","Background color",w)})(s),(u=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:uc(f,"mceToggleVisualAid")})})(u),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:_z(f),onAction:uc(f,"mceToggleVisualAid")})})(u)})(s),(u=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Cz(f),onAction:uc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Mi(f),onAction:uc(f,"indent")})})(u)})(s),wz(s),(u=>{const f=Bn(eR(u)),p=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:Cw(u,f)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:Cw(u,f)})})(s)},c6=s=>v(s)?s.split(/[ ,]/):s,u6=s=>a=>a.options.get(s),d6=u6("contextmenu_never_use_native"),kz=u6("contextmenu_avoid_overlap"),ET=s=>{const a=s.ui.registry.getAll().contextMenus,u=s.options.get("contextmenu");return s.options.isSet("contextmenu")?u:Fn(u,f=>Eo(a,f))},_w=(s,a)=>({type:"makeshift",x:s,y:a}),f6=s=>s.type==="longpress"||s.type.indexOf("touch")===0,Ez=(s,a)=>a.type==="contextmenu"||a.type==="longpress"?s.inline?(u=>{if(f6(u)){const f=u.touches[0];return _w(f.pageX,f.pageY)}return _w(u.pageX,u.pageY)})(a):((u,f)=>{const p=V0.DOM.getPos(u);return((b,w,k)=>_w(b.x+w,b.y+k))(f,p.x,p.y)})(s.getContentAreaContainer(),(u=>{if(f6(u)){const f=u.touches[0];return _w(f.clientX,f.clientY)}return _w(u.clientX,u.clientY)})(a)):m6(s),m6=s=>({type:"selection",root:rn(s.selection.getNode())}),g6=(s,a,u)=>{switch(u){case"node":return(f=>({type:"node",node:O.some(rn(f.selection.getNode())),root:rn(f.getBody())}))(s);case"point":return Ez(s,a);case"selection":return m6(s)}},h6=(s,a,u,f,p,b)=>{const w=u(),k=g6(s,a,b);Xb(w,Xf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}).map(E=>{a.preventDefault(),vr.showMenuAt(p,{anchor:k},{menu:{markers:Bb("normal")},data:E})})},p6={onLtr:()=>[Gr,Nr,Pr,ni,Ms,Er,os,gg,uw,Jp,fc,dc],onRtl:()=>[Gr,Pr,Nr,Ms,ni,Er,os,gg,fc,dc,uw,Jp]},Az={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Tz=(s,a,u,f,p,b)=>{const w=ra(),k=w.os.isiOS(),E=w.os.isMacOS(),D=w.os.isAndroid(),F=w.deviceType.isTouch(),P=()=>{const z=u();((q,J,ue,me,Ce,fe,de)=>{const be=((_e,Ae,ze)=>{const ot=g6(_e,Ae,ze);return{bubble:ac(0,ze==="point"?12:0,Az),layouts:p6,overrides:{maxWidthFunction:X4(),maxHeightFunction:lh()},...ot}})(q,J,fe);Xb(ue,Xf.CLOSE_ON_EXECUTE,me,{isHorizontalMenu:!0,search:O.none()}).map(_e=>{J.preventDefault();const Ae=de?il.HighlightMenuAndItem:il.HighlightNone;vr.showMenuWithinBounds(Ce,{anchor:be},{menu:{markers:Bb("normal"),highlightOnOpen:Ae},data:_e,type:"horizontal"},()=>O.some(r6(q,me.shared,fe==="node"?"node":"selection"))),q.dispatch(n6)})})(s,a,z,f,p,b,!(D||k||E&&F))};if((E||k)&&b!=="node"){const z=()=>{(q=>{const J=q.selection.getRng(),ue=()=>{r_.setEditorTimeout(q,()=>{q.selection.setRng(J)},10),fe()};q.once("touchend",ue);const me=de=>{de.preventDefault(),de.stopImmediatePropagation()};q.on("mousedown",me,!0);const Ce=()=>fe();q.once("longpresscancel",Ce);const fe=()=>{q.off("touchend",ue),q.off("longpresscancel",Ce),q.off("mousedown",me)}})(s),P()};((q,J)=>{const ue=q.selection;if(ue.isCollapsed()||J.touches.length<1)return!1;{const me=J.touches[0],Ce=ue.getRng();return $x(q.getWin(),Vf.domRange(Ce)).exists(fe=>fe.left<=me.clientX&&fe.right>=me.clientX&&fe.top<=me.clientY&&fe.bottom>=me.clientY)}})(s,a)?z():(s.once("selectionchange",z),s.once("touchend",()=>s.off("selectionchange",z)))}else P()},v6=s=>v(s)?s==="|":s.type==="separator",AT={type:"separator"},b6=s=>{const a=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(v(s))return s;switch(s.type){case"separator":return AT;case"submenu":return{type:"nestedmenuitem",...a(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return v(f)?f:Ye(f,b6)}};default:const u=s;return{type:"menuitem",...a(u),onAction:Me(u.onAction)}}},TT=(s,a)=>{if(a.length===0)return s;const u=vt(s).filter(f=>!v6(f)).fold(()=>[],f=>[AT]);return s.concat(u).concat(a).concat([AT])},s1=(s,a)=>!(u=>u.type==="longpress"||Eo(u,"touches"))(a)&&(a.button!==2||a.target===s.getBody()&&a.pointerType===""),y6=(s,a)=>s1(s,a)?s.selection.getStart(!0):a.target,Oz=(s,a,u)=>{const f=ra().deviceType.isTouch,p=Ki(vr.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>s.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissContextMenu",[St(Zg(),(k,E)=>{T.close(k),s.focus()})])])})),b=()=>vr.hide(p),w=k=>{if(d6(s)&&k.preventDefault(),((D,F)=>F.ctrlKey&&!d6(D))(s,k)||(D=>ET(D).length===0)(s))return;const E=((D,F)=>{const P=kz(D),z=s1(D,F)?"selection":"point";if(ul(P)){const q=y6(D,F);return ny(rn(q),P)?"node":z}return z})(s,k);(f()?Tz:h6)(s,k,()=>{const D=y6(s,k),F=s.ui.registry.getAll(),P=ET(s);return((z,q,J)=>{const ue=_n(q,(me,Ce)=>hn(z,Ce.toLowerCase()).map(fe=>{const de=fe.update(J);if(v(de)&&ul(_c(de)))return TT(me,de.split(" "));if(M(de)&&de.length>0){const be=Ye(de,b6);return TT(me,be)}return me}).getOrThunk(()=>me.concat([Ce])),[]);return ue.length>0&&v6(ue[ue.length-1])&&ue.pop(),ue})(F.contextMenus,P,D)},u,p,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,b),s.on("longpress contextmenu",w)})},OT=jl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),r1=s=>a=>a.translate(-s.left,-s.top),mc=s=>a=>a.translate(s.left,s.top),em=s=>(a,u)=>_n(s,(f,p)=>p(f),Xs(a,u)),Sw=(s,a,u)=>s.fold(em([mc(u),r1(a)]),em([r1(a)]),em([])),py=(s,a,u)=>s.fold(em([mc(u)]),em([]),em([mc(a)])),x6=(s,a,u)=>s.fold(em([]),em([r1(u)]),em([mc(a),r1(u)])),w6=(s,a,u)=>{const f=s.fold((p,b)=>({position:O.some("absolute"),left:O.some(p+"px"),top:O.some(b+"px")}),(p,b)=>({position:O.some("absolute"),left:O.some(p-u.left+"px"),top:O.some(b-u.top+"px")}),(p,b)=>({position:O.some("fixed"),left:O.some(p+"px"),top:O.some(b+"px")}));return{right:O.none(),bottom:O.none(),...f}},DT=(s,a,u,f)=>{const p=(b,w)=>(k,E)=>{const D=b(a,u,f);return w(k.getOr(D.left),E.getOr(D.top))};return s.fold(p(x6,kw),p(py,Oh),p(Sw,i1))},kw=OT.offset,Oh=OT.absolute,i1=OT.fixed,C6=(s,a)=>{const u=Mo(s,a);return L(u)?NaN:parseInt(u,10)},_6=(s,a,u,f,p,b)=>{const w=((D,F,P,z)=>((q,J)=>{const ue=q.element,me=C6(ue,J.leftAttr),Ce=C6(ue,J.topAttr);return isNaN(me)||isNaN(Ce)?O.none():O.some(Xs(me,Ce))})(D,F).fold(()=>P,q=>i1(q.left+z.left,q.top+z.top)))(s,a,u,f),k=a.mustSnap?k6(s,a,w,p,b):E6(s,a,w,p,b),E=Sw(w,p,b);return((D,F,P)=>{const z=D.element;sn(z,F.leftAttr,P.left+"px"),sn(z,F.topAttr,P.top+"px")})(s,a,E),k.fold(()=>({coord:i1(E.left,E.top),extra:O.none()}),D=>({coord:D.output,extra:D.extra}))},S6=(s,a,u,f)=>Vt(s,p=>{const b=p.sensor;return((k,E,D,F,P,z)=>{const q=py(k,P,z),J=py(E,P,z);return Math.abs(q.left-J.left)<=D&&Math.abs(q.top-J.top)<=F})(a,b,p.range.left,p.range.top,u,f)?O.some({output:DT(p.output,a,u,f),extra:p.extra}):O.none()}),k6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return S6(b,u,f,p).orThunk(()=>_n(b,(k,E)=>{const D=E.sensor,F=((P,z,q,J,ue,me)=>{const Ce=py(P,ue,me),fe=py(z,ue,me),de=Math.abs(Ce.left-fe.left),be=Math.abs(Ce.top-fe.top);return Xs(de,be)})(u,D,E.range.left,E.range.top,f,p);return k.deltas.fold(()=>({deltas:O.some(F),snap:O.some(E)}),P=>(F.left+F.top)/2<=(P.left+P.top)/2?{deltas:O.some(F),snap:O.some(E)}:k)},{deltas:O.none(),snap:O.none()}).snap.map(k=>({output:DT(k.output,u,f,p),extra:k.extra})))},E6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return S6(b,u,f,p)};var A6=Object.freeze({__proto__:null,snapTo:(s,a,u,f)=>{const p=a.getTarget(s.element);if(a.repositionTarget){const b=ii(s.element),w=Js(b),k=Df(p),E=((F,P,z)=>({coord:DT(F.output,F.output,P,z),extra:F.extra}))(f,w,k),D=w6(E.coord,0,k);fl(p,D)}}});const RT="data-initial-z-index",T6=(s,a)=>{s.getSystem().addToGui(a),(u=>{_a(u.element).filter(lr).each(f=>{Hr(f,"z-index").each(p=>{sn(f,RT,p)}),co(f,"z-index",wr(u.element,"z-index"))})})(a)},Dz=s=>{(a=>{_a(a.element).filter(lr).each(u=>{jo(u,RT).fold(()=>ws(u,"z-index"),f=>co(u,"z-index",f)),_o(u,RT)})})(s),s.getSystem().removeFromGui(s)},O6=(s,a,u)=>s.getSystem().build(Yd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:u}));var Rz=Dr("snaps",[Dt("getSnapPoints"),Xo("onSensor"),Dt("leftAttr"),Dt("topAttr"),it("lazyViewport",Ui),it("mustSnap",!1)]);const IT=[it("useFixed",Ee),Dt("blockerClass"),it("getTarget",ye),it("onDrag",le),it("repositionTarget",!0),it("onDrop",le),Qs("getBounds",Ui),Rz],NT=s=>{return(a=Hr(s,"left"),u=Hr(s,"top"),f=Hr(s,"position"),a.isSome()&&u.isSome()&&f.isSome()?O.some(((p,b,w)=>(w==="fixed"?i1:kw)(parseInt(p,10),parseInt(b,10)))(a.getOrDie(),u.getOrDie(),f.getOrDie())):O.none()).getOrThunk(()=>{const p=Nl(s);return Oh(p.left,p.top)});var a,u,f},D6=(s,a)=>({bounds:s.getBounds(),height:Sc(a.element),width:Xa(a.element)}),PT=(s,a,u,f,p)=>{const b=u.update(f,p),w=u.getStartData().getOrThunk(()=>D6(a,s));b.each(k=>{((E,D,F,P)=>{const z=D.getTarget(E.element);if(D.repositionTarget){const q=ii(E.element),J=Js(q),ue=Df(z),me=NT(z),Ce=((de,be,_e,Ae,ze,ot,Et)=>((_t,wt,Ht,mn,kn)=>{const Hn=kn.bounds,io=py(wt,Ht,mn),Fo=Mc(io.left,Hn.x,Hn.x+Hn.width-kn.width),tr=Mc(io.top,Hn.y,Hn.y+Hn.height-kn.height),mr=Oh(Fo,tr);return wt.fold(()=>{const So=x6(mr,Ht,mn);return kw(So.left,So.top)},K(mr),()=>{const So=Sw(mr,Ht,mn);return i1(So.left,So.top)})})(0,be.fold(()=>{const _t=(wt=_e,Ht=ot.left,mn=ot.top,wt.fold((Hn,io)=>kw(Hn+Ht,io+mn),(Hn,io)=>Oh(Hn+Ht,io+mn),(Hn,io)=>i1(Hn+Ht,io+mn)));var wt,Ht,mn;const kn=Sw(_t,Ae,ze);return i1(kn.left,kn.top)},_t=>{const wt=_6(de,_t,_e,ot,Ae,ze);return wt.extra.each(Ht=>{_t.onSensor(de,Ht)}),wt.coord}),Ae,ze,Et))(E,D.snaps,me,J,ue,P,F),fe=w6(Ce,0,ue);fl(z,fe)}D.onDrag(E,z,P)})(s,a,w,k)})},MT=(s,a,u,f)=>{a.each(Dz),u.snaps.each(b=>{((w,k)=>{((E,D)=>{const F=E.element;_o(F,D.leftAttr),_o(F,D.topAttr)})(w,k)})(s,b)});const p=u.getTarget(s.element);f.reset(),u.onDrop(s,p)},BT=s=>(a,u)=>{const f=p=>{u.setStartData(D6(a,p))};return fo([St(Bv(),p=>{u.getStartData().each(()=>f(p))}),...s(a,u,f)])};var Iz=Object.freeze({__proto__:null,getData:s=>O.from(Xs(s.x,s.y)),getDelta:(s,a)=>Xs(a.left-s.left,a.top-s.top)});const R6=(s,a,u)=>[St(Rt(),(f,p)=>{if(p.event.raw.button!==0)return;p.stop();const b=()=>MT(f,O.some(E),s,a),w=m3(b,200),k={drop:b,delayDrop:w.schedule,forceDrop:b,move:D=>{w.cancel(),PT(f,s,a,Iz,D)}},E=O6(f,s.blockerClass,(D=>fo([St(Rt(),D.forceDrop),St(lo(),D.drop),St(jn(),(F,P)=>{D.move(P.event)}),St(po(),D.delayDrop)]))(k));u(f),T6(f,E)})],Nz=[...IT,Ks("dragger",{handlers:BT(R6)})];var I6=Object.freeze({__proto__:null,getData:s=>{const a=s.raw.touches;return a.length===1?(u=>{const f=u[0];return O.some(Xs(f.clientX,f.clientY))})(a):O.none()},getDelta:(s,a)=>Xs(a.left-s.left,a.top-s.top)});const N6=(s,a,u)=>{const f=Es(),p=b=>{MT(b,f.get(),s,a),f.clear()};return[St(W(),(b,w)=>{w.stop();const k=()=>p(b),E={drop:k,delayDrop:le,forceDrop:k,move:F=>{PT(b,s,a,I6,F)}},D=O6(b,s.blockerClass,(F=>fo([St(W(),F.forceDrop),St(Re(),F.drop),St($e(),F.drop),St(oe(),(P,z)=>{F.move(z.event)})]))(E));f.set(D),u(b),T6(b,D)}),St(oe(),(b,w)=>{w.stop(),PT(b,s,a,I6,w.event)}),St(Re(),(b,w)=>{w.stop(),p(b)}),St($e(),p)]},Pz=Nz,P6=[...IT,Ks("dragger",{handlers:BT(N6)})],M6=[...IT,Ks("dragger",{handlers:BT((s,a,u)=>[...R6(s,a,u),...N6(s,a,u)])})];var Mz=Object.freeze({__proto__:null,mouse:Pz,touch:P6,mouseOrTouch:M6}),Bz=Object.freeze({__proto__:null,init:()=>{let s=O.none(),a=O.none();const u=K({});return Ii({readState:u,reset:()=>{s=O.none(),a=O.none()},update:(f,p)=>f.getData(p).bind(b=>((w,k)=>{const E=s.map(D=>w.getDelta(D,k));return s=O.some(k),E})(f,b)),getStartData:()=>a,setStartData:f=>{a=O.some(f)}})}});const a1=_C({branchKey:"mode",branches:Mz,name:"dragging",active:{events:(s,a)=>s.dragger.handlers(s,a)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:O.from(s.extra)})},state:Bz,apis:A6}),B6=(s,a,u,f,p,b)=>s.fold(()=>a1.snap({sensor:Oh(u-20,f-20),range:Xs(p,b),output:Oh(O.some(u),O.some(f)),extra:{td:a}}),w=>{const k=u-20,E=f-20,D=w.element.dom.getBoundingClientRect();return a1.snap({sensor:Oh(k,E),range:Xs(40,40),output:Oh(O.some(u-D.width/2),O.some(f-D.height/2)),extra:{td:a}})}),L6=(s,a,u)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,p)=>{const b=p.td;((w,k)=>w.exists(E=>is(E,k)))(a.get(),b)||(a.set(b),u(b))},mustSnap:!0}),F6=s=>Cs(Ua.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([a1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),Kb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),V6=(s,a)=>{const u=Bn([]),f=Bn([]),p=Bn(!1),b=Es(),w=Es(),k=fe=>{const de=hl(fe);return B6(P.getOpt(a),fe,de.x,de.y,de.width,de.height)},E=fe=>{const de=hl(fe);return B6(z.getOpt(a),fe,de.right,de.bottom,de.width,de.height)},D=L6(()=>Ye(u.get(),fe=>k(fe)),b,fe=>{w.get().each(de=>{s.dispatch("TableSelectorChange",{start:fe,finish:de})})}),F=L6(()=>Ye(f.get(),fe=>E(fe)),w,fe=>{b.get().each(de=>{s.dispatch("TableSelectorChange",{start:de,finish:fe})})}),P=F6(D),z=F6(F),q=Ki(P.asSpec()),J=Ki(z.asSpec()),ue=(fe,de,be,_e)=>{const Ae=be(de);a1.snapTo(fe,Ae),((ze,ot,Et,_t)=>{const wt=ot.dom.getBoundingClientRect();ws(ze.element,"display");const Ht=Xc(rn(s.getBody())).dom.innerHeight,mn=wt[_e]<0,kn=((Hn,io)=>Hn[_e]>io)(wt,Ht);(mn||kn)&&co(ze.element,"display","none")})(fe,de)},me=fe=>ue(q,fe,k,"top"),Ce=fe=>ue(J,fe,E,"bottom");if(ra().deviceType.isTouch()){const fe=de=>Ye(de,rn);s.on("TableSelectionChange",de=>{p.get()||(Uf(a,q),Uf(a,J),p.set(!0));const be=rn(de.start),_e=rn(de.finish);b.set(be),w.set(_e),O.from(de.otherCells).each(Ae=>{u.set(fe(Ae.upOrLeftCells)),f.set(fe(Ae.downOrRightCells)),me(be),Ce(_e)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{b.get().each(me),w.get().each(Ce)}),s.on("TableSelectionClear",()=>{p.get()&&(sl(q),sl(J),p.set(!1)),b.clear(),w.clear()})}},z6=(s,a,u)=>{var f;const p=(f=a.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Nn.config({mode:"flow",selector:"div[role=button]"}),ro.config({disabled:u.isDisabled}),Pi(),Zs.config({}),qn.config({}),Co("elementPathEvents",[sr((b,w)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Nn.focusIn(b)),s.on("NodeChange",k=>{const E=(F=>{const P=[];let z=F.length;for(;z-- >0;){const J=F[z];if(J.nodeType===1&&(q=J).nodeName!=="BR"&&!q.getAttribute("data-mce-bogus")&&q.getAttribute("data-mce-type")!=="bookmark"){const ue=uI(s,J);if(ue.isDefaultPrevented()||P.push({name:ue.name,element:J}),ue.isPropagationStopped())break}}var q;return P})(k.parents),D=E.length>0?_n(E,(F,P,z)=>{const q=((J,ue,me)=>Ua.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":me}},components:[Fr(J)],action:Ce=>{s.focus(),s.selection.select(ue),s.nodeChanged()},buttonBehaviours:Zt([si.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",ue.nodeName.toLowerCase()]),onShow:(Ce,fe)=>{((de,be)=>{const _e=O.from(Mo(de,"id")).getOrThunk(()=>{const Ae=bn("aria");return sn(be,"id",Ae),Ae});sn(de,"aria-describedby",_e)})(Ce.element,fe.element)},onHide:Ce=>{var fe;fe=Ce.element,_o(fe,"aria-describedby")}})}),Da(u.isDisabled),Pi()])}))(P.name,P.element,z);return z===0?F.concat([q]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Fr(` ${p} `)]},q])},[]):[];qn.set(b,D)})})])]),components:[]}};var Dh;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Dh||(Dh={}));const JS=(s,a,u)=>{const f=rn(s.getContainer()),p=((b,w,k,E,D)=>{const F={height:ww(E+w.top,z0(b),i_(b))};return k===Dh.Both&&(F.width=ww(D+w.left,p2(b),H0(b))),F})(s,a,u,Or(f),Oi(f));An(p,(b,w)=>{ne(b)&&co(f,w,ev(b))}),(b=>{b.dispatch("ResizeEditor")})(s)},QS=(s,a,u,f)=>{const p=Xs(20*u,20*f);return JS(s,p,a),O.some(!0)},H6=(s,a)=>{const u=()=>{const f=[],p=uA(s),b=Q5(s),w=Uc(s)||s.hasPlugin("wordcount");return b&&f.push(z6(s,{},a)),p&&f.push((()=>{const k=B_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Fr(od.translate(["Press {0} for help",k]))]}})()),w&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,D)=>{const F=(P,z,q)=>qn.set(P,[Fr(D.translate(["{0} "+q,z[q]]))]);return Ua.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([Da(D.isDisabled),Pi(),Zs.config({}),qn.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Co("wordcount-events",[uu(P=>{const z=lt.getValue(P),q=z.mode==="words"?"characters":"words";lt.setValue(P,{mode:q,count:z.count}),F(P,z.count,q)}),sr(P=>{E.on("wordCountUpdate",z=>{const{mode:q}=lt.getValue(P);lt.setValue(P,{mode:q,count:z.wordCount}),F(P,z.wordCount,q)})})])]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,a)),Uc(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Zt([no.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const D="tox-statusbar__text-container-3-cols";return w||b?w&&!b?[D,E]:[D,k]:[D,"tox-statusbar__text-container--space-around"]}return[w&&!b?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=u(),p=((b,w)=>{const k=(D=>{const F=ha(D);return F===!1?Dh.None:F==="both"?Dh.Both:Dh.Vertical})(b);if(k===Dh.None)return O.none();const E=k===Dh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(Wc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[a1.config({mode:"mouse",repositionTarget:!1,onDrag:(D,F,P)=>JS(b,P,k),blockerClass:"tox-blocker"}),Nn.config({mode:"special",onLeft:()=>QS(b,k,-1,0),onRight:()=>QS(b,k,1,0),onUp:()=>QS(b,k,0,-1),onDown:()=>QS(b,k,0,1)}),Zs.config({}),no.config({}),si.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(s,a);return f.concat(p.toArray())})()}},$6=(s,a)=>a.get().getOrDie(`UI for ${s} has not been rendered`),Lz=(s,a)=>{const u=s.inline,f=u?vz:CW,p=vh(s)?pV:hV,b=(()=>{const Ae=Es(),ze=Es(),ot=Es();return{dialogUi:Ae,popupUi:ze,mainUi:ot,getUiMotherships:()=>{const Et=Ae.get().map(wt=>wt.mothership),_t=ze.get().map(wt=>wt.mothership);return Et.fold(()=>_t.toArray(),wt=>_t.fold(()=>[wt],Ht=>is(wt.element,Ht.element)?[wt]:[wt,Ht]))},lazyGetInOuterOrDie:(Et,_t)=>()=>ot.get().bind(wt=>_t(wt.outerContainer)).getOrDie(`Could not find ${Et} element in OuterContainer`)}})(),w=Es(),k=Es(),E=Es(),D=ra().deviceType.isTouch()?["tox-platform-touch"]:[],F=dA(s),P=Ib(s),z=Cs({dom:{tag:"div",classes:["tox-anchorbar"]}}),q=Cs({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),J=()=>b.mainUi.get().map(Ae=>Ae.outerContainer).bind(er.getHeader),ue=b.lazyGetInOuterOrDie("anchor bar",z.getOpt),me=b.lazyGetInOuterOrDie("bottom anchor bar",q.getOpt),Ce=b.lazyGetInOuterOrDie("toolbar",er.getToolbar),fe=b.lazyGetInOuterOrDie("throbber",er.getThrobber),de=((Ae,ze,ot,Et)=>{const _t=Bn(!1),wt=(Jo=>{const Kn=Bn(dA(Jo)?"bottom":"top");return{isPositionedAtTop:()=>Kn.get()==="top",getDockingMode:Kn.get,setDockingMode:Kn.set}})(ze),Ht={icons:()=>ze.ui.registry.getAll().icons,menuItems:()=>ze.ui.registry.getAll().menuItems,translate:od.translate,isDisabled:()=>ze.mode.isReadOnly()||!ze.ui.isEnabled(),getOption:ze.options.get,tooltips:N4(Ae.dialog)},mn=aP(ze),kn=(Jo=>{const Kn=Yi=>()=>Jo.formatter.match(Yi),gr=Yi=>()=>{const Bi=Jo.formatter.get(Yi);return Bi!==void 0?O.some({tag:Bi.length>0&&(Bi[0].inline||Bi[0].block)||"div",styles:Jo.dom.parseStyle(Jo.formatter.getCssText(Yi))}):O.none()},Ls=Bn([]),Wa=Bn([]),Za=Bn(!1);return Jo.on("PreInit",Yi=>{const Bi=XN(Jo),Rh=I4(Jo,Bi,Kn,gr);Ls.set(Rh)}),Jo.on("addStyleModifications",Yi=>{const Bi=I4(Jo,Yi.items,Kn,gr);Wa.set(Bi),Za.set(Yi.replace)}),{getData:()=>{const Yi=Za.get()?[]:Ls.get(),Bi=Wa.get();return Yi.concat(Bi)}}})(ze),Hn=(Jo=>({colorPicker:tV(Jo),hasCustomColors:nV(Jo),getColors:oV(Jo),getColorCols:sV(Jo)}))(ze),io=(Jo=>({isDraggableModal:GN(Jo)}))(ze),Fo={shared:{providers:Ht,anchors:eV(ze,ot,Et,wt.isPositionedAtTop),header:wt},urlinput:mn,styles:kn,colorinput:Hn,dialog:io,isContextMenuOpen:()=>_t.get(),setContextMenuState:Jo=>_t.set(Jo)},tr=Jo=>O.none(),mr={...Fo,shared:{...Fo.shared,interpreter:Jo=>UN(Jo,{},mr,tr),getSink:Ae.popup}},So={...Fo,shared:{...Fo.shared,interpreter:Jo=>UN(Jo,{},So,tr),getSink:Ae.dialog}};return{popup:mr,dialog:So}})({popup:()=>Lo.fromOption(b.popupUi.get().map(Ae=>Ae.sink),"(popup) UI has not been rendered"),dialog:()=>Lo.fromOption(b.dialogUi.get().map(Ae=>Ae.sink),"UI has not been rendered")},s,ue,me),be=()=>{const Ae=(()=>{const Fo={attributes:{[xl]:F?zc.BottomToTop:zc.TopToBottom}},tr=er.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:de.popup,onEscape:()=>{s.focus()}}),mr=er.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:de.popup.shared.getSink,providers:de.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Bi=>{((Rh,wy)=>{Rh.dispatch("ToggleToolbarDrawer",{state:wy})})(s,Bi)},type:P,lazyToolbar:Ce,lazyHeader:()=>J().getOrDie("Could not find header element"),...Fo}),So=er.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:de.popup.shared.providers,onEscape:()=>{s.focus()},type:P}),Jo=w2(s),Kn=x2(s),gr=y2(s),Ls=tR(s),Wa=er.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Za=Jo||Kn||gr,Yi=Ls?[Wa,tr]:[tr];return er.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Za?[]:["tox-editor-header--empty"]),...Fo},components:eo([gr?Yi:[],Jo?[So]:Kn?[mr]:[],Nb(s)?[]:[z.asSpec()]]),sticky:vh(s),editor:s,sharedBackstage:de.popup.shared})})(),ze={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[er.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),er.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ot=er.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:de.popup}),Et=er.parts.viewWrapper({backstage:de.popup}),_t=J5(s)&&!u?O.some(H6(s,de.popup.shared.providers)):O.none(),wt=eo([F?[]:[Ae],u?[]:[ze],F?[Ae]:[]]),Ht=er.parts.editorContainer({components:eo([wt,u?[]:[q.asSpec()]])}),mn=v_(s),kn={role:"application",...od.isRtl()?{dir:"rtl"}:{},...mn?{"aria-hidden":"true"}:{}},Hn=Ki(er.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(D),styles:{visibility:"hidden",...mn?{opacity:"0",border:"0"}:{}},attributes:kn},components:[Ht,...u?[]:[Et,..._t.toArray()],ot],behaviours:Zt([Pi(),ro.config({disableClass:"tox-tinymce--disabled"}),Nn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),io=G_(Hn);return w.set(io),{mothership:io,outerContainer:Hn}},_e=Ae=>{const ze=ev((Et=>(wt=>{const Ht=g2(wt),mn=z0(wt),kn=i_(wt);return xw(Ht).map(Hn=>ww(Hn,mn,kn))})(Et).getOr(g2(Et)))(s)),ot=ev((Et=>bT(Et).getOr(h2(Et)))(s));return s.inline||(Il("div","width",ot)&&co(Ae.element,"width",ot),Il("div","height",ze)?co(Ae.element,"height",ze):co(Ae.element,"height","400px")),ze};return{popups:{backstage:de.popup,getMothership:()=>$6("popups",E)},dialogs:{backstage:de.dialog,getMothership:()=>$6("dialogs",k)},renderUI:()=>{const Ae=be(),ze=(()=>{const Et=p_(s),_t=is(vn(),Et)&&wr(Et,"display")==="grid",wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D),attributes:{...od.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(J)})])},Ht={dom:{styles:{width:document.body.clientWidth+"px"}},events:fo([St(kf(),Hn=>{co(Hn.element,"width",document.body.clientWidth+"px")})])},mn=Ki(Ps(wt,_t?Ht:{})),kn=G_(mn);return k.set(kn),{sink:mn,mothership:kn}})(),ot=bh(s)?(()=>{const Et={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(D),attributes:{...od.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(J),getBounds:()=>a.getPopupSinkBounds()})])},_t=Ki(Et),wt=G_(_t);return E.set(wt),{sink:_t,mothership:wt}})():(Et=>(E.set(Et.mothership),Et))(ze);return b.dialogUi.set(ze),b.popupUi.set(ot),b.mainUi.set(Ae),(Et=>{const{mainUi:_t,popupUi:wt,uiMotherships:Ht}=Et;On(l_(s),(Kn,gr)=>{s.ui.registry.addGroupToolbarButton(gr,Kn)});const{buttons:mn,menuItems:kn,contextToolbars:Hn,sidebars:io,views:Fo}=s.ui.registry.getAll(),tr=h_(s),mr={menuItems:kn,menus:Rp(s),menubar:ph(s),toolbar:tr.getOrThunk(()=>U0(s)),allowToolbarGroups:P===nd.floating,buttons:mn,sidebar:io,views:Fo};var So;So=_t.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{er.focusMenubar(So)}),s.addShortcut("alt+F10","focus toolbar",()=>{er.focusToolbar(So)}),s.addCommand("ToggleToolbarDrawer",(Kn,gr)=>{gr!=null&&gr.skipFocus?er.toggleToolbarDrawerWithoutFocusing(So):er.toggleToolbarDrawer(So)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>er.isToolbarDrawerToggled(So)),((Kn,gr,Ls)=>{const Wa=(gs,wg)=>{Mt([gr,...Ls],nf=>{nf.broadcastEvent(gs,wg)})},Za=(gs,wg)=>{Mt([gr,...Ls],nf=>{nf.broadcastOn([gs],wg)})},Yi=gs=>Za(B(),{target:gs.target}),Bi=Pa(),Rh=Ha(Bi,"touchstart",Yi),wy=Ha(Bi,"touchmove",gs=>Wa(En(),gs)),nv=Ha(Bi,"touchend",gs=>Wa(lu(),gs)),Ih=Ha(Bi,"mousedown",Yi),Bw=Ha(Bi,"mouseup",gs=>{gs.raw.button===0&&Za(U(),{target:gs.target})}),ov=gs=>Za(B(),{target:rn(gs.target)}),yg=gs=>{gs.button===0&&Za(U(),{target:rn(gs.target)})},c1=()=>{Mt(Kn.editorManager.get(),gs=>{Kn!==gs&&gs.dispatch("DismissPopups",{relatedTarget:Kn})})},u1=gs=>Wa(Bv(),$d(gs)),Cy=gs=>{Za(H(),{}),Wa(kf(),$d(gs))},lk=ut(rn(Kn.getElement())),Lw=Fx(lk,"scroll",gs=>{requestAnimationFrame(()=>{if(Kn.getContainer()!=null){const wg=Ip(Kn,gr.element).map(nf=>[nf.element,...nf.others]).getOr([]);pt(wg,nf=>is(nf,gs.target))&&(Kn.dispatch("ElementScroll",{target:gs.target.dom}),Wa(ip(),gs))}})}),sv=()=>Za(H(),{}),xg=gs=>{gs.state&&Za(B(),{target:rn(Kn.getContainer())})},Nh=gs=>{Za(B(),{target:rn(gs.relatedTarget.getContainer())})},Fw=gs=>Kn.dispatch("focusin",gs),Vw=gs=>Kn.dispatch("focusout",gs);Kn.on("PostRender",()=>{Kn.on("click",ov),Kn.on("tap",ov),Kn.on("mouseup",yg),Kn.on("mousedown",c1),Kn.on("ScrollWindow",u1),Kn.on("ResizeWindow",Cy),Kn.on("ResizeEditor",sv),Kn.on("AfterProgressState",xg),Kn.on("DismissPopups",Nh),Mt([gr,...Ls],gs=>{gs.element.dom.addEventListener("focusin",Fw),gs.element.dom.addEventListener("focusout",Vw)})}),Kn.on("remove",()=>{Kn.off("click",ov),Kn.off("tap",ov),Kn.off("mouseup",yg),Kn.off("mousedown",c1),Kn.off("ScrollWindow",u1),Kn.off("ResizeWindow",Cy),Kn.off("ResizeEditor",sv),Kn.off("AfterProgressState",xg),Kn.off("DismissPopups",Nh),Mt([gr,...Ls],gs=>{gs.element.dom.removeEventListener("focusin",Fw),gs.element.dom.removeEventListener("focusout",Vw)}),Ih.unbind(),Rh.unbind(),wy.unbind(),nv.unbind(),Bw.unbind(),Lw.unbind()}),Kn.on("detach",()=>{Mt([gr,...Ls],wE),Mt([gr,...Ls],gs=>gs.destroy())})})(s,_t.mothership,Ht),p.setup(s,de.popup.shared,J),Sz(s,de.popup),Oz(s,de.popup.shared.getSink,de.popup),(Kn=>{const{sidebars:gr}=Kn.ui.registry.getAll();Mt(wn(gr),Ls=>{const Wa=gr[Ls],Za=()=>or(O.from(Kn.queryCommandValue("ToggleSidebar")),Ls);Kn.ui.registry.addToggleButton(Ls,{icon:Wa.icon,tooltip:Wa.tooltip,onAction:Yi=>{Kn.execCommand("ToggleSidebar",!1,Ls),Yi.setActive(Za())},onSetup:Yi=>{Yi.setActive(Za());const Bi=()=>Yi.setActive(Za());return Kn.on("ToggleSidebar",Bi),()=>{Kn.off("ToggleSidebar",Bi)}}})})})(s),vP(s,fe,de.popup.shared),xz(s,Hn,wt.sink,{backstage:de.popup}),V6(s,wt.sink);const Jo={targetNode:s.getElement(),height:_e(_t.outerContainer)};return f.render(s,Et,mr,de.popup,Jo)})({popupUi:ot,dialogUi:ze,mainUi:Ae,uiMotherships:b.getUiMotherships()})}}},Fz=K([Dt("lazySink"),Ko("dragBlockClass"),Qs("getBounds",Ui),it("useTabstopAt",Le),it("firstTabstop",0),it("eventOrder",{}),yn("modalBehaviours",[Nn]),vl("onExecute"),Aa("onEscape")]),LT={sketch:ye},FT=K([vu({name:"draghandle",overrides:(s,a)=>({behaviours:Zt([a1.config({mode:"mouse",getTarget:u=>$m(u,'[role="dialog"]').getOr(u),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:s.getDragBounds})])})}),wl({schema:[Dt("dom")],name:"title"}),wl({factory:LT,schema:[Dt("dom")],name:"close"}),wl({factory:LT,schema:[Dt("dom")],name:"body"}),vu({factory:LT,schema:[Dt("dom")],name:"footer"}),jd({factory:{sketch:(s,a)=>({...s,dom:a.dom,components:a.components})},schema:[it("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),it("components",[])],name:"blocker"})]),Mr=Bl({name:"ModalDialog",configFields:Fz(),partFields:FT(),factory:(s,a,u,f)=>{const p=Es(),b=bn("modal-events"),w={...s.eventOrder,[ua()]:[b].concat(s.eventOrder["alloy.system.attached"]||[])},k=ra();return{uid:s.uid,dom:s.dom,components:a,apis:{show:E=>{p.set(E);const D=s.lazySink(E).getOrDie(),F=f.blocker(),P=D.getSystem().build({...F,components:F.components.concat([nl(E)]),behaviours:Zt([no.config({}),Co("dialog-blocker-events",[Of(bs(),()=>{md.isBlocked(E)||Nn.focusIn(E)})])])});Uf(D,P),Nn.focusIn(E)},hide:E=>{p.clear(),_a(E.element).each(D=>{E.getSystem().getByDom(D).each(F=>{sl(F)})})},getBody:E=>gh(E,s,"body"),getFooter:E=>qs(E,s,"footer"),setIdle:E=>{md.unblock(E)},setBusy:(E,D)=>{md.block(E,D)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:yo(s.modalBehaviours,[qn.config({}),Nn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),md.config({getRoot:p.get}),Co(b,[sr(E=>{const D=gh(E,s,"title").element,F=(P=>P.dom.textContent)(D);k.os.isMacOS()&&G(F)?sn(E.element,"aria-label",F):((P,z)=>{const q=jo(P,"id").fold(()=>{const J=bn("dialog-label");return sn(z,"id",J),J},ye);sn(P,"aria-labelledby",q)})(E.element,D)})])])}},apis:{show:(s,a)=>{s.show(a)},hide:(s,a)=>{s.hide(a)},getBody:(s,a)=>s.getBody(a),getFooter:(s,a)=>s.getFooter(a),setBusy:(s,a,u)=>{s.setBusy(a,u)},setIdle:(s,a)=>{s.setIdle(a)}}}),Vz=Wn([bi,AA].concat(Vb)),Ew=oc,VT=[PA("button"),rd,Tc("align","end",["start","end"]),D_,id,$g("buttonType",["primary","secondary"])],ek=[...VT,sd],zT=[Ku("type",["submit","cancel","custom"]),...ek],zz=[Ku("type",["menu"]),Fp,V2,rd,el("items",Vz),...VT],Hz=[...VT,Ku("type",["togglebutton"]),V2,rd,Fp,ti("active",!1)],U6=hi("type",{submit:zT,cancel:zT,custom:zT,menu:zz,togglebutton:Hz}),$z=[bi,sd,Ku("level",["info","warn","error","success"]),DA,it("url","")],HT=Wn($z),$T=[bi,sd,id,PA("button"),rd,wW,$g("buttonType",["primary","secondary","toolbar"]),D_],UT=Wn($T),vy=[bi,AA],qi=vy.concat([RA]),Uz=vy.concat([TA,id]),Wz=Wn(Uz),W6=oc,Z6=qi.concat([LR("auto")]),Zz=Wn(Z6),jz=Wu([Lb,sd,DA]),Kz=qi.concat([Zl("storageKey","default")]),Gz=Wn(Kz),qz=Ci,Yz=Wn(qi),Xz=Ci,j6=vy.concat([Zl("tag","textarea"),_r("scriptId"),_r("scriptUrl"),iu("onFocus"),Fa("settings",void 0,U1)]),Jz=vy.concat([Zl("tag","textarea"),La("init")]),Qz=wf(s=>Cr("customeditor.old",wi(Jz),s).orThunk(()=>Cr("customeditor.new",wi(j6),s))),e9=Ci,K6=Wn(qi),WT=Uu($u),G6=s=>[bi,sp("columns"),s],q6=[bi,_r("html"),Tc("presets","presentation",["presentation","document"]),Qs("onInit",le),ti("stretched",!1)],Y6=Wn(q6),X6=qi.concat([ti("border",!1),ti("sandboxed",!0),ti("streamContent",!1),ti("transparent",!0)]),ZT=Wn(X6),t9=Ci,jT=Wn(vy.concat([Lr("height")])),by=Wn([_r("url"),Cf("zoom"),Cf("cachedWidth"),Cf("cachedHeight")]),J6=qi.concat([Lr("inputMode"),Lr("placeholder"),ti("maximized",!1),id]),Q6=Wn(J6),eM=Ci,n9=s=>[bi,TA,s,Tc("align","start",["start","center","end"]),Lr("for")],o9=[sd,Lb],tk=[sd,el("items",op(0,()=>tM))],tM=Tm([Wn(o9),Wn(tk)]),s9=qi.concat([el("items",tM),id]),nM=Wn(s9),oM=Ci,KT=qi.concat([Dm("items",[sd,Lb]),Wr("size",1),id]),sM=Wn(KT),Yl=Ci,rM=qi.concat([ti("constrain",!0),id]),r9=Wn(rM),iM=Wn([_r("width"),_r("height")]),aM=vy.concat([TA,Wr("min",0),Wr("max",0)]),i9=Wn(aM),a9=Nd,l9=[bi,el("header",Ci),el("cells",Uu(Ci))],lM=Wn(l9),bg=qi.concat([Lr("placeholder"),ti("maximized",!1),id]),GT=Wn(bg),cM=Ci,Aw=[Ku("type",["directory","leaf"]),OA,_r("id"),Ur("menu",mP)],nk=Wn(Aw),c9=Aw.concat([el("children",op(0,()=>ju("type",{directory:uM,leaf:nk})))]),uM=Wn(c9),u9=ju("type",{directory:uM,leaf:nk}),d9=[bi,el("items",u9),iu("onLeafAction"),iu("onToggleExpand"),Ds("defaultExpandedIds",[],Ci),Lr("defaultSelectedId")],f9=Wn(d9),m9=qi.concat([Tc("filetype","file",["image","media","file"]),id,Lr("picker_text")]),g9=Wn(m9),dM=Wn([Lb,Zc]),qT=s=>li("items","items",{tag:"required",process:{}},Uu(wf(a=>Cr(`Checking item of ${s}`,tf,a).fold(u=>Lo.error(Qa(u)),u=>Lo.value(u))))),tf=Am(()=>{return ju("type",{alertbanner:HT,bar:Wn((s=qT("bar"),[bi,s])),button:UT,checkbox:Wz,colorinput:Gz,colorpicker:Yz,dropzone:K6,grid:Wn(G6(qT("grid"))),iframe:ZT,input:Q6,listbox:nM,selectbox:sM,sizeinput:r9,slider:i9,textarea:GT,urlinput:g9,customeditor:Qz,htmlpanel:Y6,imagepreview:jT,collection:Zz,label:Wn(n9(qT("label"))),table:lM,tree:f9,panel:fM});var s}),ok=[bi,it("classes",[]),el("items",tf)],fM=Wn(ok),h9=[PA("tab"),OA,el("items",tf)],mM=[bi,Dm("tabs",h9)],gM=Wn(mM),YT=ek,sk=U6,Tw=Wn([_r("title"),Zi("body",ju("type",{panel:fM,tabpanel:gM})),Zl("size","normal"),Ds("buttons",[],sk),it("initialData",{}),Qs("onAction",le),Qs("onChange",le),Qs("onSubmit",le),Qs("onClose",le),Qs("onCancel",le),Qs("onTabChange",le)]),Ow=Wn([Ku("type",["cancel","custom"]),...YT]),hM=Wn([_r("title"),_r("url"),Cf("height"),Cf("width"),W1("buttons",Ow),Qs("onAction",le),Qs("onCancel",le),Qs("onClose",le),Qs("onMessage",le)]),rk=s=>x(s)?[s].concat(tn(Ar(s),rk)):M(s)?tn(s,rk):[],pM=s=>v(s.type)&&v(s.name),vM={checkbox:W6,colorinput:qz,colorpicker:Xz,dropzone:WT,input:eM,iframe:t9,imagepreview:by,selectbox:Yl,sizeinput:iM,slider:a9,listbox:oM,size:iM,textarea:cM,urlinput:dM,customeditor:e9,collection:jz,togglemenuitem:Ew},p9=s=>{const a=(f=>Fn(rk(f),pM))(s),u=tn(a,f=>(p=>O.from(vM[p.type]))(f).fold(()=>[],p=>[Zi(f.name,p)]));return Wn(u)},bM=s=>{var a;return{internalDialog:Ba(Cr("dialog",Tw,s)),dataValidator:p9(s),initialData:(a=s.initialData)!==null&&a!==void 0?a:{}}},l1={open:(s,a)=>{const u=bM(a);return s(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(s,a)=>s(Ba(Cr("dialog",hM,a))),redial:s=>bM(s)};var v9=Object.freeze({__proto__:null,events:(s,a)=>{const u=(f,p)=>{s.updateState.each(b=>{const w=b(f,p);a.set(w)}),s.renderComponents.each(b=>{const w=b(p,a.get());(s.reuseDom?JE:Tb)(f,w)})};return fo([St(sc(),(f,p)=>{const b=p;if(!b.universal){const w=s.channel;et(b.channels,w)&&u(f,b.data)}}),sr((f,p)=>{s.initialData.each(b=>{u(f,b)})})])}}),b9=Object.freeze({__proto__:null,getState:(s,a,u)=>u}),yM=[Dt("channel"),Ko("renderComponents"),Ko("updateState"),Ko("initialData"),ti("reuseDom",!0)];const gc=Ni({fields:yM,name:"reflecting",active:v9,apis:b9,state:Object.freeze({__proto__:null,init:()=>{const s=Bn(O.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(O.none())}}})}),xM=s=>{const a=[],u={};return An(s,(f,p)=>{f.fold(()=>{a.push(p)},b=>{u[p]=b})}),a.length>0?Lo.error(a):Lo.value(u)},wM=(s,a,u,f)=>{const p=Cs(jp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Ye(s.items,k=>RS(w,k,a,u,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ry)}),(b=p,ns.config({find:b.getOpt})),U3(p,{postprocess:w=>xM(w).fold(k=>(console.error(k),{}),ye)}),Co("dialog-body-panel",[St(bs(),(w,k)=>{w.getSystem().broadcastOn([xS],{newFocus:O.some(k.event.target)})})])])};var b},y9=bu({name:"TabButton",configFields:[it("uid",void 0),Dt("value"),li("dom","dom",Yo(()=>({attributes:{role:"tab",id:bn("aria"),"aria-selected":"false"}})),Ml()),Ko("action"),it("domModification",{}),yn("tabButtonBehaviours",[no,Nn,lt]),Dt("view")],factory:(s,a)=>({uid:s.uid,dom:s.dom,components:s.components,events:F0(s.action),behaviours:yo(s.tabButtonBehaviours,[no.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),CM=K([Dt("tabs"),Dt("dom"),it("clickToDismiss",!1),yn("tabbarBehaviours",[Ss,Nn]),Jg(["tabClass","selectedClass"])]),Dw=WC({factory:y9,name:"tabs",unit:"tab",overrides:s=>{const a=(f,p)=>{Ss.dehighlight(f,p),Rn(f,Ut(),{tabbar:f,button:p})},u=(f,p)=>{Ss.highlight(f,p),Rn(f,ap(),{tabbar:f,button:p})};return{action:f=>{const p=f.getSystem().getByUid(s.uid).getOrDie(),b=Ss.isHighlighted(p,f);(b&&s.clickToDismiss?a:b?le:u)(p,f)},domModification:{classes:[s.markers.tabClass]}}}}),x9=K([Dw]),XT=Bl({name:"Tabbar",configFields:CM(),partFields:x9(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:yo(s.tabbarBehaviours,[Ss.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(p,b)=>{sn(b.element,"aria-selected","true")},onDehighlight:(p,b)=>{sn(b.element,"aria-selected","false")}}),Nn.config({mode:"flow",getInitial:p=>Ss.getHighlighted(p).map(b=>b.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),w9=bu({name:"Tabview",configFields:[yn("tabviewBehaviours",[qn])],factory:(s,a)=>({uid:s.uid,dom:s.dom,behaviours:yo(s.tabviewBehaviours,[qn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),C9=K([it("selectFirst",!0),Xo("onChangeTab"),Xo("onDismissTab"),it("tabs",[]),yn("tabSectionBehaviours",[])]),_9=wl({factory:XT,schema:[Dt("dom"),Ac("markers",[Dt("tabClass"),Dt("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),S9=wl({factory:w9,name:"tabview"}),_M=K([_9,S9]),yy=Bl({name:"TabSection",configFields:C9(),partFields:_M(),factory:(s,a,u,f)=>{const p=(b,w)=>{qs(b,s,"tabbar").each(k=>{w(k).each(Tf)})};return{uid:s.uid,dom:s.dom,components:a,behaviours:Xn(s.tabSectionBehaviours),events:fo(eo([s.selectFirst?[sr((b,w)=>{p(b,Ss.getFirst)})]:[],[St(ap(),(b,w)=>{(k=>{const E=lt.getValue(k);qs(k,s,"tabview").each(D=>{Q(s.tabs,F=>F.value===E).each(F=>{const P=F.view();jo(k.element,"id").each(z=>{sn(D.element,"aria-labelledby",z)}),qn.set(D,P),s.onChangeTab(D,k,P)})})})(w.event.button)}),St(Ut(),(b,w)=>{const k=w.event.button;s.onDismissTab(b,k)})]])),apis:{getViewItems:b=>qs(b,s,"tabview").map(w=>qn.contents(w)).getOr([]),showTab:(b,w)=>{p(b,k=>{const E=Ss.getCandidates(k);return Q(E,D=>lt.getValue(D)===w).filter(D=>!Ss.isHighlighted(k,D))})}}}},apis:{getViewItems:(s,a)=>s.getViewItems(a),showTab:(s,a,u)=>{s.showTab(a,u)}}}),JT=(s,a)=>{co(s,"height",a+"px"),co(s,"flex-basis",a+"px")},xy=(s,a,u)=>{$m(s,'[role="dialog"]').each(f=>{fr(f,'[role="tablist"]').each(p=>{u.get().map(b=>(co(a,"height","0"),co(a,"flex-basis","0"),Math.min(b,((w,k,E)=>{const D=qa(w).dom,F=$m(w,".tox-dialog-wrap").getOr(w);let P;P=wr(F,"position")==="fixed"?Math.max(D.clientHeight,window.innerHeight):Math.max(D.offsetHeight,D.scrollHeight);const z=Or(k),q=k.dom.offsetLeft>=E.dom.offsetLeft+Oi(E)?Math.max(Or(E),z):z,J=parseInt(wr(w,"margin-top"),10)||0,ue=parseInt(wr(w,"margin-bottom"),10)||0;return P-(Or(w)+J+ue-q)})(f,a,p)))).each(b=>{JT(a,b)})})})},tm=s=>fr(s,'[role="tabpanel"]'),ik="send-data-to-section",QT="send-data-to-view",SM=(s,a,u,f)=>{const p=Bn({}),b=F=>{const P=lt.getValue(F),z=xM(P).getOr({}),q=p.get(),J=Ps(q,z);p.set(J)},w=F=>{const P=p.get();lt.setValue(F,P)},k=Bn(null),E=Ye(s.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Fr(u.shared.providers.translate(F.title))],view:()=>[jp.sketch(P=>({dom:{tag:"div",classes:["tox-form"]},components:Ye(F.items,z=>RS(P,z,a,u,f)),formBehaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ry)}),Co("TabView.form.events",[sr(w),Yu(b)]),yl.config({channels:Pd([{key:ik,value:{onReceive:b}},{key:QT,value:{onReceive:w}}])})])}))]})),D=(F=>{const P=Es();return{extraEvents:[sr(q=>{const J=q.element;tm(J).each(ue=>{co(ue,"visibility","hidden"),q.getSystem().getByDom(ue).toOptional().each(me=>{const Ce=((de,be,_e)=>Ye(de,(Ae,ze)=>{qn.set(_e,de[ze].view());const ot=be.dom.getBoundingClientRect();return qn.set(_e,[]),ot.height}))(F,ue,me);(de=>zt(pe(de,(be,_e)=>be>_e?-1:be<_e?1:0)))(Ce).fold(P.clear,P.set)}),xy(J,ue,P),ws(ue,"visibility"),((me,Ce)=>{zt(me).each(fe=>yy.showTab(Ce,fe.value))})(F,q),requestAnimationFrame(()=>{xy(J,ue,P)})})}),St(kf(),q=>{const J=q.element;tm(J).each(ue=>{xy(J,ue,P)})}),St(Y_,(q,J)=>{const ue=q.element;tm(ue).each(me=>{const Ce=mu(ut(me));co(me,"visibility","hidden");const fe=Hr(me,"height").map(be=>parseInt(be,10));ws(me,"height"),ws(me,"flex-basis");const de=me.dom.getBoundingClientRect().height;fe.forall(be=>de>be)?(P.set(de),xy(ue,me,P)):fe.each(be=>{JT(me,be)}),ws(me,"visibility"),Ce.each(za)})})],selectFirst:!1}})(E);return yy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,P,z)=>{const q=lt.getValue(P);Rn(F,LI,{name:q,oldName:k.get()}),k.set(q)},tabs:E,components:[yy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[XT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([Zs.config({})])}),yy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:D.selectFirst,tabSectionBehaviours:Zt([Co("tabpanel",D.extraEvents),Nn.config({mode:"acyclic"}),ns.config({find:F=>zt(yy.getViewItems(F))}),Yb(O.none(),F=>(F.getSystem().broadcastOn([ik],{}),p.get()),(F,P)=>{p.set(P),F.getSystem().broadcastOn([QT],{})})])})},ak=(s,a,u,f,p,b)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Zt([H3(0),gc.config({channel:`${mN}-${a}`,updateState:(w,k)=>O.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[SM(k,w.initialData,f,b)]:[wM(k,w.initialData,f,b)]},initialData:s})])}),kM=Gf.deviceType.isTouch(),Rw=(s,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,a]}),eO=(s,a)=>Mr.parts.close(Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:s,buttonBehaviours:Zt([Zs.config({})])})),tO=()=>Mr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),EM=(s,a)=>Mr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:og(`<p>${hR(a.translate(s))}</p>`)}]}]}),AM=s=>Mr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),TM=(s,a)=>[Yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),Yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],nO=s=>{const a="tox-dialog",u=a+"-wrap",f=u+"__backdrop",p=a+"__disable-scroll";return Mr.sketch({lazySink:s.lazySink,onEscape:b=>(s.onEscape(b),O.some(!0)),useTabstopAt:b=>!ry(b),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[a].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:og(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:kM?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:Zt([no.config({}),Co("dialog-events",s.dialogEvents.concat([Of(bs(),(b,w)=>{md.isBlocked(b)||Nn.focusIn(b)}),St(j1(),(b,w)=>{b.getSystem().broadcastOn([xS],{newFocus:w.event.newFocus})})])),Co("scroll-lock",[sr(()=>{kr(vn(),p)}),Yu(()=>{Ir(vn(),p)})]),...s.extraBehaviours]),eventOrder:{[pl()]:["dialog-events"],[ua()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Dc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},OM=s=>Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Zt([Zs.config({}),si.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[Wc("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:a=>{ko(a,_h)}}),oO=(s,a,u,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(p=>({id:p})).getOr({})}},components:[],behaviours:Zt([gc.config({channel:`${X3}-${a}`,initialData:s,renderComponents:p=>[Fr(f.translate(p.title))]})])}),sO=()=>({dom:og('<div class="tox-dialog__draghandle"></div>')}),DM=(s,a,u)=>((f,p,b)=>{const w=Mr.parts.title(oO(f,p,O.none(),b)),k=Mr.parts.draghandle(sO()),E=Mr.parts.close(OM(b)),D=[w].concat(f.draggable?[k]:[]).concat([E]);return Yd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:D})})({title:u.shared.providers.translate(s),draggable:u.dialog.isDraggableModal()},a,u.shared.providers),RM=(s,a,u,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),IM=(s,a,u)=>({onClose:()=>u.closeWindow(),onBlock:f=>{const p=fr(s().element,".tox-dialog__header").map(b=>Or(b));Mr.setBusy(s(),(b,w)=>RM(f.message,w,a,p))},onUnblock:()=>{Mr.setIdle(s())}}),Iw="tox-dialog--fullscreen",rO="tox-dialog--width-lg",iO="tox-dialog--width-md",Nw=s=>{switch(s){case"large":return O.some(rO);case"medium":return O.some(iO);default:return O.none()}},aO=(s,a)=>{const u=rn(a.element.dom);tl(u,Iw)||(ic(u,[rO,iO]),Nw(s).each(f=>kr(u,f)))},NM=(s,a)=>{const u=rn(s.element.dom),f=Ld(u),p=Q(f,b=>b===rO||b===iO).or(Nw(a));((b,w)=>{Mt(w,k=>{((E,D)=>{Kg(E)?E.dom.classList.toggle(D):((F,P)=>et(Fv(F),P)?cx(F,P):q1(F,P))(E,D),Vv(E)})(b,k)})})(u,[Iw,...p.toArray()])},PM=(s,a,u)=>Ki(nO({...s,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[sw({}),...s.extraBehaviours],onEscape:f=>{ko(f,_h)},dialogEvents:a,eventOrder:{[sc()]:[gc.name(),yl.name()],[ua()]:["scroll-lock",gc.name(),"messages","dialog-events","alloy.base.behaviour"],[Dc()]:["alloy.base.behaviour","dialog-events","messages",gc.name(),"scroll-lock"]}})),Pw=(s,a={})=>Ye(s,u=>u.type==="menu"?(f=>{const p=Ye(f.items,b=>{const w=hn(a,b.name).getOr(Bn(!1));return{...b,storage:w}});return{...f,items:p}})(u):u),MM=s=>_n(s,(a,u)=>u.type==="menu"?_n(u.items,(f,p)=>(f[p.name]=p.storage,f),a):a,{}),lO=(s,a)=>[jg(bs(),P7),s(Up,(u,f,p,b)=>{mu(ut(b.element)).fold(le,tb),a.onClose(),f.onClose()}),s(_h,(u,f,p,b)=>{f.onCancel(u),ko(b,Up)}),St(v3,(u,f)=>a.onUnblock()),St(p3,(u,f)=>a.onBlock(f.event))],BM=(s,a,u)=>{const f=(b,w)=>St(b,(k,E)=>{p(k,(D,F)=>{w(s(),D,E.event,k)})}),p=(b,w)=>{gc.getState(b).get().each(k=>{w(k.internalDialog,b)})};return[...lO(f,a),f(Q2,(b,w)=>w.onSubmit(b)),f(al,(b,w,k)=>{w.onChange(b,{name:k.name})}),f(Qf,(b,w,k,E)=>{const D=()=>E.getSystem().isConnected()?Nn.focusIn(E):void 0,F=q=>Tr(q,"disabled")||jo(q,"aria-disabled").exists(J=>J==="true"),P=ut(E.element),z=mu(P);w.onAction(b,{name:k.name,value:k.value}),mu(P).fold(D,q=>{F(q)||z.exists(J=>Br(q,J)&&F(J))?D():u().toOptional().filter(J=>!Br(J.element,q)).each(D)})}),f(LI,(b,w,k)=>{w.onTabChange(b,{newTabName:k.name,oldTabName:k.oldName})}),Yu(b=>{const w=s();lt.setValue(b,w.getData())})]},k9=(s,a)=>{const u=a.map(b=>b.footerButtons).getOr([]),f=oo(u,b=>b.align==="start"),p=(b,w)=>Yd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:Ye(w,k=>k.memento.asSpec())});return[p("start",f.pass),p("end",f.fail)]},LM=(s,a,u)=>({dom:og('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([gc.config({channel:`${gN}-${a}`,initialData:s,updateState:(f,p)=>{const b=Ye(p.buttons,w=>{const k=Cs(((E,D)=>ly(E,E.type,D))(w,u));return{name:w.name,align:w.align,memento:k}});return O.some({lookupByName:w=>((k,E,D)=>Q(E,F=>F.name===D).bind(F=>F.memento.getOpt(k)))(f,b,w),footerButtons:b})},renderComponents:k9})])}),cO=(s,a,u)=>Mr.parts.footer(LM(s,a,u)),Mw=(s,a)=>{if(s.getRoot().getSystem().isConnected()){const u=ns.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return jp.getField(u,a).orThunk(()=>s.getFooter().bind(p=>gc.getState(p).get()).bind(p=>p.lookupByName(a)))}return O.none()},FM=(s,a,u)=>{const f=b=>{const w=s.getRoot();w.getSystem().isConnected()&&b(w)},p={getData:()=>{const b=s.getRoot(),w=b.getSystem().isConnected()?s.getFormWrapper():b;return{...lt.getValue(w),...On(u,k=>k.get())}},setData:b=>{f(w=>{const k=p.getData(),E=Ps(k,b),D=((P,z)=>{const q=P.getRoot();return gc.getState(q).get().map(J=>Ba(Cr("data",J.dataValidator,z))).getOr(z)})(s,E),F=s.getFormWrapper();lt.setValue(F,D),An(u,(P,z)=>{Eo(E,z)&&P.set(E[z])})})},setEnabled:(b,w)=>{Mw(s,b).each(w?ro.enable:ro.disable)},focus:b=>{Mw(s,b).each(no.focus)},block:b=>{if(!v(b))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(w=>{Rn(w,p3,{message:b})})},unblock:()=>{f(b=>{ko(b,v3)})},showTab:b=>{f(w=>{const k=s.getBody();gc.getState(k).get().exists(E=>E.isTabPanel())&&ns.getCurrent(k).each(E=>{yy.showTab(E,b)})})},redial:b=>{f(w=>{const k=s.getId(),E=a(b),D=Pw(E.internalDialog.buttons,u);w.getSystem().broadcastOn([`${Kp}-${k}`],E),w.getSystem().broadcastOn([`${X3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${mN}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${gN}-${k}`],{...E.internalDialog,buttons:D}),p.setData(E.initialData)})},close:()=>{f(b=>{ko(b,Up)})},toggleFullscreen:s.toggleFullscreen};return p},VM=(s,a,u,f=!1,p)=>{const b=bn("dialog"),w=bn("dialog-label"),k=bn("dialog-content"),E=s.internalDialog,D=Bn(E.size),F=Nw(D.get()).toArray(),P=Cs(((_e,Ae,ze,ot)=>Yd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:[oO(_e,Ae,O.some(ze),ot),sO(),OM(ot)],containerBehaviours:Zt([a1.config({mode:"mouse",blockerClass:"blocker",getTarget:Et=>Ju(Et,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},b,w,u.shared.providers)),z=Cs(((_e,Ae,ze,ot,Et,_t)=>ak(_e,Ae,O.some(ze),ot,Et,_t))({body:E.body,initialData:E.initialData},b,k,u,f,_e=>Mw(de,_e))),q=Pw(E.buttons),J=MM(q),ue=rs(q.length!==0,Cs(((_e,Ae,ze)=>LM(_e,Ae,ze))({buttons:q},b,u))),me=BM(()=>be,{onBlock:_e=>{md.block(fe,(Ae,ze)=>{const ot=P.getOpt(fe).map(Et=>Or(Et.element));return RM(_e.message,ze,u.shared.providers,ot)})},onUnblock:()=>{md.unblock(fe)},onClose:()=>a.closeWindow()},u.shared.getSink),Ce=ra().os,fe=Ki({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...Ce.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[sc()]:[gc.name(),yl.name()],[pl()]:["execute-on-form"],[ua()]:["reflecting","execute-on-form"]},behaviours:Zt([Nn.config({mode:"cyclic",onEscape:_e=>(ko(_e,Up),O.some(!0)),useTabstopAt:_e=>!ry(_e)&&(Ga(_e)!=="button"||Mo(_e,"disabled")!=="disabled"),firstTabstop:1}),gc.config({channel:`${Kp}-${b}`,updateState:(_e,Ae)=>(D.set(Ae.internalDialog.size),aO(Ae.internalDialog.size,_e),p(),O.some(Ae)),initialData:s}),no.config({}),Co("execute-on-form",me.concat([Of(bs(),(_e,Ae)=>{Nn.focusIn(_e)}),St(j1(),(_e,Ae)=>{_e.getSystem().broadcastOn([xS],{newFocus:Ae.event.newFocus})})])),md.config({getRoot:()=>O.some(fe)}),qn.config({}),sw({})]),components:[P.asSpec(),z.asSpec(),...ue.map(_e=>_e.asSpec()).toArray()]}),de={getId:K(b),getRoot:K(fe),getFooter:()=>ue.map(_e=>_e.get(fe)),getBody:()=>z.get(fe),getFormWrapper:()=>{const _e=z.get(fe);return ns.getCurrent(_e).getOr(_e)},toggleFullscreen:()=>{NM(fe,D.get())}},be=FM(de,a.redial,J);return{dialog:fe,instanceApi:be}};var uO=tinymce.util.Tools.resolve("tinymce.util.URI");const E9=["insertContent","setContent","execCommand","close","block","unblock"],dO=s=>x(s)&&E9.indexOf(s.mceAction)!==-1,A9=(s,a,u,f)=>{const p=bn("dialog"),b=DM(s.title,p,f),w=(Ce=>{const fe={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[q3(O.none(),{dom:{tag:"iframe",attributes:{src:Ce.url}},behaviours:Zt([Zs.config({}),no.config({})])})]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ry)})])};return Mr.parts.body(fe)})(s),k=s.buttons.bind(Ce=>Ce.length===0?O.none():O.some(cO({buttons:Ce},p,f))),E=((Ce,fe)=>{const de=(_e,Ae)=>St(_e,(ze,ot)=>{be(ze,(Et,_t)=>{Ae(me,Et,ot.event,ze)})}),be=(_e,Ae)=>{gc.getState(_e).get().each(ze=>{Ae(ze,_e)})};return[...lO(de,fe),de(Qf,(_e,Ae,ze)=>{Ae.onAction(_e,{name:ze.name})})]})(0,IM(()=>ue,f.shared.providers,a)),D={...s.height.fold(()=>({}),Ce=>({height:Ce+"px","max-height":Ce+"px"})),...s.width.fold(()=>({}),Ce=>({width:Ce+"px","max-width":Ce+"px"}))},F=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],P=new uO(s.url,{base_uri:new uO(window.location.href)}),z=`${P.protocol}://${P.host}${P.port?":"+P.port:""}`,q=Ec(),J=[gc.config({channel:`${Kp}-${p}`,updateState:(Ce,fe)=>O.some(fe),initialData:s}),Co("messages",[sr(()=>{const Ce=Ha(rn(window),"message",fe=>{if(P.isSameOrigin(new uO(fe.raw.origin))){const de=fe.raw.data;dO(de)?((be,_e,Ae)=>{switch(Ae.mceAction){case"insertContent":be.insertContent(Ae.content);break;case"setContent":be.setContent(Ae.content);break;case"execCommand":const ze=!!I(Ae.ui)&&Ae.ui;be.execCommand(Ae.cmd,ze,Ae.value);break;case"close":_e.close();break;case"block":_e.block(Ae.message);break;case"unblock":_e.unblock()}})(u,me,de):(be=>!dO(be)&&x(be)&&Eo(be,"mceAction"))(de)&&s.onMessage(me,de)}});q.set(Ce)}),Yu(q.clear)]),yl.config({channels:{[J3]:{onReceive:(Ce,fe)=>{fr(Ce.element,"iframe").each(de=>{const be=de.dom.contentWindow;G(be)&&be.postMessage(fe,z)})}}}})],ue=PM({id:p,header:b,body:w,footer:k,extraClasses:F,extraBehaviours:J,extraStyles:D},E,f),me=(Ce=>{const fe=de=>{Ce.getSystem().isConnected()&&de(Ce)};return{block:de=>{if(!v(de))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");fe(be=>{Rn(be,p3,{message:de})})},unblock:()=>{fe(de=>{ko(de,v3)})},close:()=>{fe(de=>{ko(de,Up)})},sendMessage:de=>{fe(be=>{be.getSystem().broadcastOn([J3],de)})}}})(ue);return{dialog:ue,instanceApi:me}},fO=(s,a)=>Ba(Cr("data",a,s)),zM=s=>ny(s,".tox-alert-dialog")||ny(s,".tox-confirm-dialog"),T9=(s,a,u)=>a&&u?[]:[dr.config({contextual:{lazyContext:()=>O.some(ai(rn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Ip(s,f.element).map(p=>({bounds:Np(p),optScrollEnv:O.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:Nl(p.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})],O9=s=>{const a=s.editor,u=vh(a),f=(E=>{const D=E.shared;return{open:(F,P)=>{const z=()=>{Mr.hide(me),P()},q=Cs(ly({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",E)),J=tO(),ue=eO(z,D.providers),me=Ki(nO({lazySink:()=>D.getSink(),header:Rw(J,ue),body:EM(F,D.providers),footer:O.some(AM(TM([],[q.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,z)],eventOrder:{}}));Mr.show(me);const Ce=q.get(me);no.focus(Ce)}}})(s.backstages.dialog),p=(E=>{const D=E.shared;return{open:(F,P)=>{const z=de=>{Mr.hide(Ce),P(de)},q=Cs(ly({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",E)),J=ly({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",E),ue=tO(),me=eO(()=>z(!1),D.providers),Ce=Ki(nO({lazySink:()=>D.getSink(),header:Rw(ue,me),body:EM(F,D.providers),footer:O.some(AM(TM([],[J,q.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,()=>z(!1)),St(Q2,()=>z(!0))],eventOrder:{}}));Mr.show(Ce);const fe=q.get(Ce);no.focus(fe)}}})(s.backstages.dialog),b=(E,D)=>l1.open((F,P,z)=>{const q=P,J=((ue,me,Ce)=>{const fe=bn("dialog"),de=ue.internalDialog,be=DM(de.title,fe,Ce),_e=Bn(de.size),Ae=Nw(_e.get()).toArray(),ze=((io,Fo,tr,mr)=>{const So=ak(io,Fo,O.none(),tr,!1,mr);return Mr.parts.body(So)})({body:de.body,initialData:de.initialData},fe,Ce,io=>Mw(kn,io)),ot=Pw(de.buttons),Et=MM(ot),_t=rs(ot.length!==0,cO({buttons:ot},fe,Ce)),wt=BM(()=>Hn,IM(()=>mn,Ce.shared.providers,me),Ce.shared.getSink),Ht={id:fe,header:be,body:ze,footer:_t,extraClasses:Ae,extraBehaviours:[gc.config({channel:`${Kp}-${fe}`,updateState:(io,Fo)=>(_e.set(Fo.internalDialog.size),aO(Fo.internalDialog.size,io),O.some(Fo)),initialData:ue})],extraStyles:{}},mn=PM(Ht,wt,Ce),kn={getId:K(fe),getRoot:K(mn),getBody:()=>Mr.getBody(mn),getFooter:()=>Mr.getFooter(mn),getFormWrapper:()=>{const io=Mr.getBody(mn);return ns.getCurrent(io).getOr(io)},toggleFullscreen:()=>{NM(mn,_e.get())}},Hn=FM(kn,me.redial,Et);return{dialog:mn,instanceApi:Hn}})({dataValidator:z,initialData:q,internalDialog:F},{redial:l1.redial,closeWindow:()=>{Mr.hide(J.dialog),D(J.instanceApi)}},s.backstages.dialog);return Mr.show(J.dialog),J.instanceApi.setData(q),J.instanceApi},E),w=(E,D,F,P)=>l1.open((z,q,J)=>{const ue=fO(q,J),me=Es(),Ce=s.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(_e=>{vr.reposition(_e),u&&Ce||dr.refresh(_e)}),de=VM({dataValidator:J,initialData:ue,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(vr.hide),a.off("ResizeEditor",fe),me.clear(),F(de.instanceApi)}},s.backstages.popup,P.ariaAttrs,fe),be=Ki(vr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:P.persistent?{event:"doNotDismissYet"}:{},...Ce?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(_e,Ae)=>{ko(de.dialog,_h)})]),...T9(a,u,Ce)]),isExtraPart:(_e,Ae)=>zM(Ae)}));return me.set(be),vr.showWithinBounds(be,nl(de.dialog),{anchor:D},()=>{const _e=a.inline?vn():rn(a.getContainer()),Ae=ai(_e);return O.some(Ae)}),u&&Ce||(dr.refresh(be),a.on("ResizeEditor",fe)),de.instanceApi.setData(ue),Nn.focusIn(de.dialog),de.instanceApi},E),k=(E,D,F,P)=>l1.open((z,q,J)=>{const ue=fO(q,J),me=Es(),Ce=s.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(_e=>{vr.reposition(_e),dr.refresh(_e)}),de=VM({dataValidator:J,initialData:ue,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(vr.hide),a.off("ResizeEditor ScrollWindow ElementScroll",fe),me.clear(),F(de.instanceApi)}},s.backstages.popup,P.ariaAttrs,fe),be=Ki(vr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:P.persistent?{event:"doNotDismissYet"}:{},...Ce?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(_e,Ae)=>{ko(de.dialog,_h)})]),dr.config({contextual:{lazyContext:()=>O.some(ai(rn(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:_e=>Ip(a,_e.element).map(Ae=>({bounds:Np(Ae),optScrollEnv:O.some({currentScrollTop:Ae.element.dom.scrollTop,scrollElmTop:Nl(Ae.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]),isExtraPart:(_e,Ae)=>zM(Ae)}));return me.set(be),vr.showWithinBounds(be,nl(de.dialog),{anchor:D},()=>s.backstages.popup.shared.getSink().toOptional().bind(_e=>{const Ae=Ip(a,_e.element).map(Et=>Np(Et)).getOr(Ui()),ze=ai(rn(a.getContentAreaContainer())),ot=Dd(ze,Ae);return O.some(Ro(ot.x,ot.y,ot.width,ot.height-15))})),dr.refresh(be),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",fe),de.instanceApi.setData(ue),Nn.focusIn(de.dialog),de.instanceApi},E);return{open:(E,D,F)=>{if(!L(D)){if(D.inline==="toolbar")return w(E,s.backstages.popup.shared.anchors.inlineDialog(),F,D);if(D.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),F,D);if(D.inline==="cursor")return w(E,s.backstages.popup.shared.anchors.cursor(),F,D)}return b(E,F)},openUrl:(E,D)=>((F,P)=>l1.openUrl(z=>{const q=A9(z,{closeWindow:()=>{Mr.hide(q.dialog),P(q.instanceApi)}},a,s.backstages.dialog);return Mr.show(q.dialog),q.instanceApi},F))(E,D),alert:(E,D)=>{f.open(E,D)},close:E=>{E.close()},confirm:(E,D)=>{p.open(E,D)}}};tp.add("silver",s=>{(k=>{j5(k),(E=>{const D=E.options.register,F=z=>ce(z,v)?{value:qF(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},P=z=>ne(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};D("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),D("color_map_background",{processor:F}),D("color_map_foreground",{processor:F}),D("color_cols",{processor:P,default:$_(E)}),D("color_cols_foreground",{processor:P,default:gI(E,qA)}),D("color_cols_background",{processor:P,default:gI(E,YA)}),D("custom_colors",{processor:"boolean",default:!0}),D("color_default_foreground",{processor:"string",default:j2}),D("color_default_background",{processor:"string",default:j2})})(k),(E=>{const D=E.options.register;D("contextmenu_avoid_overlap",{processor:"string",default:""}),D("contextmenu_never_use_native",{processor:"boolean",default:!1}),D("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:v(F)||ce(F,v)?{value:c6(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let a=()=>Ui();const{dialogs:u,popups:f,renderUI:p}=Lz(s,{getPopupSinkBounds:()=>a()});NI(s,f.backstage.shared);const b=O9({editor:s,backstages:{popup:f.backstage,dialog:u.backstage}}),w=Es();return{renderUI:()=>{const k=p();return Ip(s,f.getMothership().element).each(E=>{a=()=>Np(E)}),k},getWindowManagerImpl:K(b),getNotificationManagerImpl:()=>yR(s,{backstage:f.backstage},f.getMothership(),w)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>_=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&(H=U=T,(te=String).prototype.isPrototypeOf(H)||((se=U.constructor)===null||se===void 0?void 0:se.name)===te.name)?"string":B;var H,U,te,se})(_)===y,l=y=>_=>typeof _===y,d=y=>_=>y===_,g=r("string"),v=r("object"),x=r("array"),S=d(null),M=l("boolean"),R=d(void 0),I=y=>!(_=>_==null)(y),L=l("function"),$=l("number"),G=()=>{},X=y=>()=>y,ne=y=>y,ce=(y,_)=>y===_;function le(y,..._){return(...T)=>{const B=_.concat(T);return y.apply(null,B)}}const Me=y=>_=>!y(_),he=y=>y(),K=X(!1),ye=X(!0);class ae{constructor(_,T){this.tag=_,this.value=T}static some(_){return new ae(!0,_)}static none(){return ae.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?ae.some(_(this.value)):ae.none()}bind(_){return this.tag?_(this.value):ae.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:ae.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return I(_)?ae.some(_):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const Ue=Array.prototype.slice,We=Array.prototype.indexOf,qe=Array.prototype.push,st=(y,_)=>{return T=y,B=_,We.call(T,B)>-1;var T,B},Ee=(y,_)=>{for(let T=0,B=y.length;T<B;T++)if(_(y[T],T))return!0;return!1},Le=(y,_)=>{const T=[];for(let B=0;B<y;B++)T.push(_(B));return T},O=(y,_)=>{const T=y.length,B=new Array(T);for(let H=0;H<T;H++){const U=y[H];B[H]=_(U,H)}return B},Ke=(y,_)=>{for(let T=0,B=y.length;T<B;T++)_(y[T],T)},ct=(y,_)=>{const T=[],B=[];for(let H=0,U=y.length;H<U;H++){const te=y[H];(_(te,H)?T:B).push(te)}return{pass:T,fail:B}},$t=(y,_)=>{const T=[];for(let B=0,H=y.length;B<H;B++){const U=y[B];_(U,B)&&T.push(U)}return T},Jt=(y,_,T)=>(((B,H)=>{for(let U=B.length-1;U>=0;U--)H(B[U],U)})(y,(B,H)=>{T=_(T,B,H)}),T),et=(y,_,T)=>(Ke(y,(B,H)=>{T=_(T,B,H)}),T),pt=(y,_)=>((T,B,H)=>{for(let U=0,te=T.length;U<te;U++){const se=T[U];if(B(se,U))return ae.some(se);if(H(se,U))break}return ae.none()})(y,_,K),Lt=(y,_)=>{for(let T=0,B=y.length;T<B;T++)if(_(y[T],T))return ae.some(T);return ae.none()},tt=y=>{const _=[];for(let T=0,B=y.length;T<B;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);qe.apply(_,y[T])}return _},Ye=(y,_)=>tt(O(y,_)),Mt=(y,_)=>{for(let T=0,B=y.length;T<B;++T)if(_(y[T],T)!==!0)return!1;return!0},oo=(y,_)=>{const T={};for(let B=0,H=y.length;B<H;B++){const U=y[B];T[String(U)]=_(U,B)}return T},Fn=(y,_)=>_>=0&&_<y.length?ae.some(y[_]):ae.none(),fn=y=>Fn(y,0),_n=y=>Fn(y,y.length-1),Q=(y,_)=>{for(let T=0;T<y.length;T++){const B=_(y[T],T);if(B.isSome())return B}return ae.none()},xs=Object.keys,eo=Object.hasOwnProperty,tn=(y,_)=>{const T=xs(y);for(let B=0,H=T.length;B<H;B++){const U=T[B];_(y[U],U)}},Oo=(y,_)=>je(y,(T,B)=>({k:B,v:_(T,B)})),je=(y,_)=>{const T={};return tn(y,(B,H)=>{const U=_(B,H);T[U.k]=U.v}),T},ie=(y,_)=>{const T=[];return tn(y,(B,H)=>{T.push(_(B,H))}),T},xe=y=>ie(y,ne),Be=(y,_)=>eo.call(y,_),pe=typeof window<"u"?window:Function("return this;")(),gt=(y,_)=>((T,B)=>{let H=B??pe;for(let U=0;U<T.length&&H!=null;++U)H=H[T[U]];return H})(y.split("."),_),zt=Object.getPrototypeOf,vt=y=>{const _=gt("ownerDocument.defaultView",y);return v(y)&&((T=>((B,H)=>{const U=((te,se)=>gt(te,se))(B,H);if(U==null)throw new Error(B+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(zt(y).constructor.name))},Ft=y=>y.dom.nodeName.toLowerCase(),Vt=y=>y.dom.nodeType,wn=y=>_=>Vt(_)===y,cn=y=>Vt(y)===8||Ft(y)==="#comment",An=y=>On(y)&&vt(y.dom),On=wn(1),wo=wn(3),Do=wn(9),$o=wn(11),cs=y=>_=>On(_)&&Ft(_)===y,ar=(y,_,T)=>{if(!(g(T)||M(T)||$(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},fs=(y,_,T)=>{ar(y.dom,_,T)},Ar=(y,_)=>{const T=y.dom;tn(_,(B,H)=>{ar(T,H,B)})},hn=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},Eo=(y,_)=>ae.from(hn(y,_)),vo=(y,_)=>{y.dom.removeAttribute(_)},or=y=>et(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),ea=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Kt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return ea(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return ea(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return ea(T)},fromDom:ea,fromPoint:(y,_,T)=>ae.from(y.dom.elementFromPoint(_,T)).map(ea)},gi=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(_);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(_);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(_);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},rs=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Ul=(y,_)=>{const T=_===void 0?document:_.dom;return rs(T)?ae.none():ae.from(T.querySelector(y)).map(Kt.fromDom)},$s=(y,_)=>y.dom===_.dom,ei=(y,_)=>{const T=y.dom,B=_.dom;return T!==B&&T.contains(B)},bm=gi,Pu=y=>Kt.fromDom(y.dom.ownerDocument),_c=y=>Do(y)?y:Pu(y),ul=y=>ae.from(y.dom.parentNode).map(Kt.fromDom),Mu=y=>ae.from(y.dom.parentElement).map(Kt.fromDom),Os=(y,_)=>{const T=L(_)?_:K;let B=y.dom;const H=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const U=B.parentNode,te=Kt.fromDom(U);if(H.push(te),T(te)===!0)break;B=U}return H},ao=y=>ae.from(y.dom.previousSibling).map(Kt.fromDom),Wl=y=>ae.from(y.dom.nextSibling).map(Kt.fromDom),Ti=y=>O(y.dom.childNodes,Kt.fromDom),Bu=(y,_)=>{const T=y.dom.childNodes;return ae.from(T[_]).map(Kt.fromDom)},rn=(y,_)=>{ul(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},Lu=(y,_)=>{Wl(y).fold(()=>{ul(y).each(T=>{hr(T,_)})},T=>{rn(T,_)})},ym=(y,_)=>{(B=>Bu(B,0))(y).fold(()=>{hr(y,_)},B=>{y.dom.insertBefore(_.dom,B.dom)})},hr=(y,_)=>{y.dom.appendChild(_.dom)},xm=(y,_)=>{rn(y,_),hr(_,y)},Ga=(y,_)=>{Ke(_,(T,B)=>{const H=B===0?y:_[B-1];Lu(H,T)})},Ol=(y,_)=>{Ke(_,T=>{hr(y,T)})},dl=y=>{y.dom.textContent="",Ke(Ti(y),_=>{lr(_)})},lr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},Ca=y=>{const _=Ti(y);_.length>0&&Ga(y,_),lr(y)},Dl=(y,_)=>Kt.fromDom(y.dom.cloneNode(_)),wm=y=>Dl(y,!1),qc=y=>Dl(y,!0),Yc=(y,_)=>{const T=Kt.fromTag(_),B=or(y);return Ar(T,B),T},df=["tfoot","thead","tbody","colgroup"],kd=(y,_,T)=>({element:y,rowspan:_,colspan:T}),is=(y,_,T)=>({element:y,cells:_,section:T}),Br=(y,_,T)=>({element:y,isNew:_,isLocked:T}),ii=(y,_,T,B)=>({element:y,cells:_,section:T,isNew:B}),Cm=y=>Kt.fromDom(y.dom.host),qa=y=>{const _=wo(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const te=(we=>Kt.fromDom(we.dom.getRootNode()))(U);return $o(se=te)&&I(se.dom.host)?ae.some(te):ae.none();var se})(Kt.fromDom(_)).fold(()=>T.body.contains(_),(B=qa,H=Cm,U=>B(H(U))));var B,H},Xc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Kt.fromDom(_)},_a=(y,_)=>{let T=[];return Ke(Ti(y),B=>{_(B)&&(T=T.concat([B])),T=T.concat(_a(B,_))}),T},Sa=(y,_,T)=>((B,H,U)=>$t(Os(B,U),te=>gi(te,_)))(y,0,T),Jc=(y,_)=>((T,B)=>$t(Ti(T),H=>gi(H,_)))(y),Ns=(y,_)=>((T,B)=>{const H=B===void 0?document:B.dom;return rs(H)?[]:O(H.querySelectorAll(T),Kt.fromDom)})(_,y);var cr=(y,_,T,B,H)=>y(T,B)?ae.some(T):L(H)&&H(T)?ae.none():_(T,B,H);const Te=(y,_,T)=>{let B=y.dom;const H=L(T)?T:K;for(;B.parentNode;){B=B.parentNode;const U=Kt.fromDom(B);if(_(U))return ae.some(U);if(H(U))break}return ae.none()},nt=(y,_,T)=>cr((B,H)=>H(B),Te,y,_,T),Ne=(y,_,T)=>Te(y,B=>gi(B,_),T),mt=(y,_)=>((T,B)=>pt(T.dom.childNodes,H=>{return U=Kt.fromDom(H),gi(U,_);var U}).map(Kt.fromDom))(y),ut=(y,_)=>Ul(_,y),Je=(y,_,T)=>cr((B,H)=>gi(B,H),Ne,y,_,T),Wt=(y,_,T=ce)=>y.exists(B=>T(B,_)),nn=y=>{const _=[],T=B=>{_.push(B)};for(let B=0;B<y.length;B++)y[B].each(T);return _},un=(y,_)=>y?ae.some(_):ae.none(),vn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,an=(y,_,T=0,B)=>{const H=y.indexOf(_,T);return H!==-1&&(!!R(B)||H+_.length<=B)},ho=(y,_)=>vn(y,_,0),sn=(y,_)=>vn(y,_,y.length-_.length),ks=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),Mo=y=>y.length>0,jo=y=>y.style!==void 0&&L(y.style.getPropertyValue),Tr=(y,_,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);jo(y)&&y.style.setProperty(_,T)},_o=(y,_,T)=>{const B=y.dom;Tr(B,_,T)},Rl=(y,_)=>{const T=y.dom;tn(_,(B,H)=>{Tr(T,H,B)})},ta=(y,_)=>{const T=y.dom,B=window.getComputedStyle(T).getPropertyValue(_);return B!==""||qa(y)?B:co(T,_)},co=(y,_)=>jo(y)?y.style.getPropertyValue(_):"",Ya=(y,_)=>{const T=y.dom,B=co(T,_);return ae.from(B).filter(H=>H.length>0)},fl=(y,_)=>{((T,B)=>{jo(T)&&T.style.removeProperty(B)})(y.dom,_),Wt(Eo(y,"style").map(ks),"")&&vo(y,"style")},wr=(y,_,T=0)=>Eo(y,_).map(B=>parseInt(B,10)).getOr(T),Ed=(y,_)=>wr(y,_,1),Hr=y=>cs("col")(y)?wr(y,"span",1)>1:Ed(y,"colspan")>1,ff=(y,_)=>parseInt(ta(y,_),10),Il=X(10),ws=X(10),Fu=(y,_)=>_m(y,_,ye),_m=(y,_,T)=>Ye(Ti(y),B=>gi(B,_)?T(B)?[B]:[]:_m(B,_,T)),Jh=(y,_)=>((T,B,H=K)=>H(B)?ae.none():st(T,Ft(B))?ae.some(B):Ne(B,T.join(","),U=>gi(U,"table")||H(U)))(["td","th"],y,_),Or=y=>Fu(y,"th,td"),Sc=y=>gi(y,"colgroup")?Jc(y,"col"):Ye(Sm(y),_=>Jc(_,"col")),ml=(y,_)=>Je(y,"table",_),Xs=y=>Fu(y,"tr"),Sm=y=>ml(y).fold(X([]),_=>Jc(_,"colgroup")),Nl=(y,_)=>O(y,T=>{if(Ft(T)==="colgroup"){const B=O(Sc(T),H=>{const U=wr(H,"span",1);return kd(H,1,U)});return is(T,B,"colgroup")}{const B=O(Or(T),H=>{const U=wr(H,"rowspan",1),te=wr(H,"colspan",1);return kd(H,U,te)});return is(T,B,_(T))}}),na=y=>ul(y).map(_=>{const T=Ft(_);return(B=>st(df,B))(T)?T:"tbody"}).getOr("tbody"),Mg=y=>{const _=Xs(y),T=[...Sm(y),..._];return Nl(T,na)},Oi=y=>{let _,T=!1;return(...B)=>(T||(T=!0,_=y.apply(null,B)),_)},Xa=()=>oa(0,0),oa=(y,_)=>({major:y,minor:_}),Pl={nu:oa,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Xa():((B,H)=>{const U=((se,we)=>{for(let Ie=0;Ie<se.length;Ie++){const Ze=se[Ie];if(Ze.test(we))return Ze}})(B,H);if(!U)return{major:0,minor:0};const te=se=>Number(H.replace(U,"$"+se));return oa(te(1),te(2))})(y,T)},unknown:Xa},Qh=(y,_)=>{const T=String(_).toLowerCase();return pt(y,B=>B.search(T))},Bo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qc=y=>_=>an(_,y),Ad=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>an(y,"edge/")&&an(y,"chrome")&&an(y,"safari")&&an(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bo],search:y=>an(y,"chrome")&&!an(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>an(y,"msie")||an(y,"trident")},{name:"Opera",versionRegexes:[Bo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qc("firefox")},{name:"Safari",versionRegexes:[Bo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(an(y,"safari")||an(y,"mobile/"))&&an(y,"applewebkit")}],Vu=[{name:"Windows",search:Qc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>an(y,"iphone")||an(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qc("linux"),versionRegexes:[]},{name:"Solaris",search:Qc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sv={browsers:X(Ad),oses:X(Vu)},tx="Edge",L1="Chromium",F1="Opera",bC="Firefox",ep="Safari",V1=y=>{const _=y.current,T=y.version,B=H=>()=>_===H;return{current:_,version:T,isEdge:B(tx),isChromium:B(L1),isIE:B("IE"),isOpera:B(F1),isFirefox:B(bC),isSafari:B(ep)}},Xt=()=>V1({current:void 0,version:Pl.unknown()}),mf=V1,gf="Windows",z1="Android",sa="Linux",hf="macOS",Bg="Solaris",nx="FreeBSD",ox="ChromeOS",kv=y=>{const _=y.current,T=y.version,B=H=>()=>_===H;return{current:_,version:T,isWindows:B(gf),isiOS:B("iOS"),isAndroid:B(z1),isMacOS:B(hf),isLinux:B(sa),isSolaris:B(Bg),isFreeBSD:B(nx),isChromeOS:B(ox)}},sx=()=>kv({current:void 0,version:Pl.unknown()}),H1=kv,rx=y=>window.matchMedia(y).matches;let Lg=Oi(()=>((y,_,T)=>{const B=Sv.browsers(),H=Sv.oses(),U=_.bind(we=>((Ie,Ze)=>Q(Ze.brands,De=>{const Pe=De.brand.toLowerCase();return pt(Ie,Ve=>{var rt;return Pe===((rt=Ve.brand)===null||rt===void 0?void 0:rt.toLowerCase())}).map(Ve=>({current:Ve.name,version:Pl.nu(parseInt(De.version,10),0)}))}))(B,we)).orThunk(()=>((we,Ie)=>Qh(we,Ie).map(Ze=>{const De=Pl.detect(Ze.versionRegexes,Ie);return{current:Ze.name,version:De}}))(B,y)).fold(Xt,mf),te=((we,Ie)=>Qh(we,Ie).map(Ze=>{const De=Pl.detect(Ze.versionRegexes,Ie);return{current:Ze.name,version:De}}))(H,y).fold(sx,H1),se=((we,Ie,Ze,De)=>{const Pe=we.isiOS()&&/ipad/i.test(Ze)===!0,Ve=we.isiOS()&&!Pe,rt=we.isiOS()||we.isAndroid(),at=rt||De("(pointer:coarse)"),Ot=Pe||!Ve&&rt&&De("(min-device-width:768px)"),It=Ve||rt&&!Ot,Tt=Ie.isSafari()&&we.isiOS()&&/safari/i.test(Ze)===!1,Pt=!It&&!Ot&&!Tt;return{isiPad:X(Pe),isiPhone:X(Ve),isTablet:X(Ot),isPhone:X(It),isTouch:X(at),isAndroid:we.isAndroid,isiOS:we.isiOS,isWebView:X(Tt),isDesktop:X(Pt)}})(te,U,y,T);return{browser:U,os:te,deviceType:se}})(window.navigator.userAgent,ae.from(window.navigator.userAgentData),rx));const $1=()=>Lg(),pf=(y,_)=>{const T=H=>{const U=_(H);if(U<=0||U===null){const te=ta(H,y);return parseFloat(te)||0}return U},B=(H,U)=>et(U,(te,se)=>{const we=ta(H,se),Ie=we===void 0?0:parseInt(we,10);return isNaN(Ie)?te:te+Ie},0);return{set:(H,U)=>{if(!$(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const te=H.dom;jo(te)&&(te.style[y]=U+"px")},get:T,getOuter:T,aggregate:B,max:(H,U,te)=>{const se=B(H,te);return U>se?U-se:0}}},vf=(y,_,T)=>((B,H)=>(U=>{const te=parseFloat(U);return isNaN(te)?ae.none():ae.some(te)})(B).getOr(H))(ta(y,_),T),ra=pf("width",y=>y.dom.offsetWidth),gl=y=>ra.get(y),Fg=y=>ra.getOuter(y),qo=y=>((_,T)=>{const B=_.dom,H=B.getBoundingClientRect().width||B.offsetWidth;return T==="border-box"?H:((U,te,se,we)=>te-vf(U,`padding-${se}`,0)-vf(U,`padding-${we}`,0)-vf(U,`border-${se}-width`,0)-vf(U,`border-${we}-width`,0))(_,H,"left","right")})(y,"content-box"),Td=(y,_,T)=>{const B=y.cells,H=B.slice(0,_),U=B.slice(_),te=H.concat(T).concat(U);return Na(y,te)},Vg=(y,_,T)=>Td(y,_,[T]),zg=(y,_,T)=>{y.cells[_]=T},Na=(y,_)=>ii(y.element,_,y.section,y.isNew),$r=(y,_)=>y.cells[_],ur=(y,_)=>$r(y,_).element,$i=y=>y.cells.length,Js=y=>{const _=ct(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},bf=(y,_,T)=>{const B=O(y.cells,T);return ii(_(y.element),B,y.section,!0)},km="data-snooker-locked-cols",xi=y=>Eo(y,km).bind(_=>ae.from(_.match(/\d+/g))).map(_=>oo(_,ye)),Pa=y=>{const _=et(Js(y).rows,(B,H)=>(Ke(H.cells,(U,te)=>{U.isLocked&&(B[te]=!0)}),B),{}),T=ie(_,(B,H)=>parseInt(H,10));return((B,H)=>{const U=Ue.call(B,0);return U.sort(void 0),U})(T)},ka=(y,_)=>y+","+_,eu=(y,_)=>{const T=Ye(y.all,B=>B.cells);return $t(T,_)},Od=y=>{const _={},T=[],B=fn(y).map(Pe=>Pe.element).bind(ml).bind(xi).getOr({});let H=0,U=0,te=0;const{pass:se,fail:we}=ct(y,Pe=>Pe.section==="colgroup");Ke(we,Pe=>{const Ve=[];Ke(Pe.cells,rt=>{let at=0;for(;_[ka(te,at)]!==void 0;)at++;const Ot=((Tt,Pt)=>Be(Tt,Pt)&&Tt[Pt]!==void 0&&Tt[Pt]!==null)(B,at.toString()),It=((Tt,Pt,Gt,Qt,lt,yn)=>({element:Tt,rowspan:Pt,colspan:Gt,row:Qt,column:lt,isLocked:yn}))(rt.element,rt.rowspan,rt.colspan,te,at,Ot);for(let Tt=0;Tt<rt.colspan;Tt++)for(let Pt=0;Pt<rt.rowspan;Pt++){const Gt=at+Tt,Qt=ka(te+Pt,Gt);_[Qt]=It,U=Math.max(U,Gt+1)}Ve.push(It)}),H++,T.push(is(Pe.element,Ve,Pe.section)),te++});const{columns:Ie,colgroups:Ze}=_n(se).map(Pe=>{const Ve=(at=>{const Ot={};let It=0;return Ke(at.cells,Tt=>{const Pt=Tt.colspan;Le(Pt,Gt=>{const Qt=It+Gt;Ot[Qt]=((lt,yn,Xn)=>({element:lt,colspan:yn,column:Xn}))(Tt.element,Pt,Qt)}),It+=Pt}),Ot})(Pe);return{colgroups:[((at,Ot)=>({element:at,columns:Ot}))(Pe.element,xe(Ve))],columns:Ve}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Pe,Ve)=>({rows:Pe,columns:Ve}))(H,U),access:_,all:T,columns:Ie,colgroups:Ze}},Ro=y=>{const _=Mg(y);return Od(_)},ai=Od,hl=(y,_,T)=>ae.from(y.access[ka(_,T)]),Dd=(y,_,T)=>{const B=eu(y,H=>T(_,H.element));return B.length>0?ae.some(B[0]):ae.none()},Ui=eu,Bn=y=>Ye(y.all,_=>_.cells),kc=y=>xe(y.columns),Ec=y=>xs(y.columns).length>0,Es=(y,_)=>ae.from(y.columns[_]),tp=(y,_=ye)=>{const T=y.grid,B=Le(T.columns,ne),H=Le(T.rows,ne);return O(B,U=>Ev(()=>Ye(H,te=>hl(y,te,U).filter(se=>se.column===U).toArray()),te=>te.colspan===1&&_(te.element),()=>hl(y,0,U)))},Ev=(y,_,T)=>{const B=y();return pt(B,_).orThunk(()=>ae.from(B[0]).orThunk(T)).map(H=>H.element)},Rd=y=>{const _=y.grid,T=Le(_.rows,ne),B=Le(_.columns,ne);return O(T,H=>Ev(()=>Ye(B,U=>hl(y,H,U).filter(te=>te.row===H).fold(X([]),te=>[te])),U=>U.rowspan===1,()=>hl(y,H,0)))},Lo=(y,_)=>T=>Ma(T)==="rtl"?_:y,Ma=y=>ta(y,"direction")==="rtl"?"rtl":"ltr",np=pf("height",y=>{const _=y.dom;return qa(y)?_.getBoundingClientRect().height:_.offsetHeight}),Id=y=>np.get(y),Av=y=>np.getOuter(y),tu=(y,_)=>({left:y,top:_,translate:(T,B)=>tu(y+T,_+B)}),Ja=tu,nu=(y,_)=>y!==void 0?y:_!==void 0?_:0,yf=y=>{const _=y.dom.ownerDocument,T=_.body,B=_.defaultView,H=_.documentElement;if(T===y.dom)return Ja(T.offsetLeft,T.offsetTop);const U=nu(B==null?void 0:B.pageYOffset,H.scrollTop),te=nu(B==null?void 0:B.pageXOffset,H.scrollLeft),se=nu(H.clientTop,T.clientTop),we=nu(H.clientLeft,T.clientLeft);return Fe(y).translate(te-we,U-se)},Fe=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Ja(T.offsetLeft,T.offsetTop):qa(y)?(B=>{const H=B.getBoundingClientRect();return Ja(H.left,H.top)})(_):Ja(0,0)},Em=(y,_)=>({row:y,y:_}),Ps=(y,_)=>({col:y,x:_}),Tv=y=>yf(y).left+Fg(y),Hg=y=>yf(y).left,ou=(y,_)=>Ps(y,Hg(_)),Yo=(y,_)=>Ps(y,Tv(_)),ia=y=>yf(y).top,zu=(y,_)=>Em(y,ia(_)),nc=(y,_)=>Em(y,ia(_)+Av(_)),Hu=(y,_,T)=>{if(T.length===0)return[];const B=O(T.slice(1),(U,te)=>U.map(se=>y(te,se))),H=T[T.length-1].map(U=>_(T.length-1,U));return B.concat([H])},$u={delta:ne,positions:y=>Hu(zu,nc,y),edge:ia},aa=Lo({delta:ne,edge:Hg,positions:y=>Hu(ou,Yo,y)},{delta:y=>-y,edge:Tv,positions:y=>Hu(Yo,ou,y)}),xf={delta:(y,_)=>aa(_).delta(y,_),positions:(y,_)=>aa(_).positions(y,_),edge:y=>aa(y).edge(y)},Am={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ov=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=H=>`(?:${H})?`,B=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),wi=/(\d+(\.\d+)?)%/,Wn=/(\d+(\.\d+)?)px|em/,Uu=cs("col"),Tm=cs("tr"),la=(y,_,T)=>{const B=Mu(y).getOrThunk(()=>Xc(Pu(y)));return _(y)/T(B)*100},Wu=(y,_)=>{_o(y,"width",_+"px")},Ml=(y,_)=>{_o(y,"width",_+"%")},Zu=(y,_)=>{_o(y,"height",_+"px")},Nd=y=>{const _=(T=>{return vf(B=T,"height",B.dom.offsetHeight)+"px";var B})(y);return _?((T,B,H,U)=>{const te=parseFloat(T);return sn(T,"%")&&Ft(B)!=="table"?((se,we,Ie,Ze)=>{const De=ml(se).map(Pe=>{const Ve=Ie(Pe);return Math.floor(we/100*Ve)}).getOr(we);return Ze(se,De),De})(B,te,H,U):te})(_,y,Id,Zu):Id(y)},Ci=(y,_)=>Ya(y,_).orThunk(()=>Eo(y,_).map(T=>T+"px")),oc=y=>Ci(y,"width"),su=y=>la(y,gl,qo),Om=y=>{return Uu(y)?gl(y):vf(_=y,"width",_.dom.offsetWidth);var _},U1=y=>Tm(y)?Id(y):((_,T,B)=>B(_)/Ed(_,"rowspan"))(y,0,Nd),ju=(y,_,T)=>{_o(y,"width",_+T)},wf=y=>la(y,gl,qo)+"%",Dv=X(wi),Cr=cs("col"),Ba=y=>oc(y).getOrThunk(()=>Om(y)+"px"),Ea=y=>{return(_=y,Ci(_,"height")).getOrThunk(()=>U1(y)+"px");var _},Qa=(y,_,T,B,H,U)=>y.filter(B).fold(()=>U(((te,se)=>{if(se<0||se>=te.length-1)return ae.none();const we=te[se].fold(()=>{const Ze=(De=>{const Pe=Ue.call(De,0);return Pe.reverse(),Pe})(te.slice(0,se));return Q(Ze,(De,Pe)=>De.map(Ve=>({value:Ve,delta:Pe+1})))},Ze=>ae.some({value:Ze,delta:0})),Ie=te[se+1].fold(()=>{const Ze=te.slice(se+1);return Q(Ze,(De,Pe)=>De.map(Ve=>({value:Ve,delta:Pe+1})))},Ze=>ae.some({value:Ze,delta:1}));return we.bind(Ze=>Ie.map(De=>{const Pe=De.delta+Ze.delta;return Math.abs(De.value-Ze.value)/Pe}))})(T,_)),te=>H(te)),hi=(y,_,T,B)=>{const H=tp(y),U=Ec(y)?(we=>O(kc(we),Ie=>ae.from(Ie.element)))(y):H,te=[ae.some(xf.edge(_))].concat(O(xf.positions(H,_),we=>we.map(Ie=>Ie.x))),se=Me(Hr);return O(U,(we,Ie)=>Qa(we,Ie,te,se,Ze=>{if((Pe=>{const Ve=$1().browser,rt=Ve.isChromium()||Ve.isFirefox();return!Cr(Pe)||rt})(Ze))return T(Ze);{const Pe=(De=H[Ie])!=null?ne(De):ae.none();return Qa(Pe,Ie,te,se,Ve=>B(ae.some(gl(Ve))),B)}var De},B))},op=y=>y.map(_=>_+"px").getOr(""),li=(y,_,T)=>hi(y,_,Om,B=>B.getOrThunk(T.minCellWidth)),Wi=(y,_,T,B)=>{const H=Rd(y),U=O(y.all,se=>ae.some(se.element)),te=[ae.some($u.edge(_))].concat(O($u.positions(H,_),se=>se.map(we=>we.y)));return O(U,(se,we)=>Qa(se,we,te,ye,T,B))},ru=(y,_)=>()=>qa(y)?_(y):parseFloat(Ya(y,"width").getOr("0")),Dt=y=>{const _=ru(y,B=>parseFloat(wf(B))),T=ru(y,gl);return{width:_,pixelWidth:T,getWidths:(B,H)=>((U,te,se)=>hi(U,te,su,we=>we.fold(()=>se.minCellWidth(),Ie=>Ie/se.pixelWidth()*100)))(B,y,H),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,H)=>[100-B],minCellWidth:()=>Il()/T()*100,setElementWidth:Ml,adjustTableWidth:B=>{const H=_();Ml(y,H+B/100*H)},isRelative:!0,label:"percent"}},Zi=y=>{const _=ru(y,gl);return{width:_,pixelWidth:_,getWidths:(T,B)=>li(T,y,B),getCellDelta:ne,singleColumnWidth:(T,B)=>[Math.max(Il(),T+B)-T],minCellWidth:Il,setElementWidth:Wu,adjustTableWidth:T=>{const B=_()+T;Wu(y,B)},isRelative:!1,label:"pixel"}},sp=y=>oc(y).fold(()=>(_=>{const T=ru(_,gl),B=X(0);return{width:T,pixelWidth:T,getWidths:(H,U)=>li(H,_,U),getCellDelta:B,singleColumnWidth:X([0]),minCellWidth:B,setElementWidth:G,adjustTableWidth:G,isRelative:!0,label:"none"}})(y),_=>((T,B)=>Dv().exec(B)!==null?Dt(T):Zi(T))(y,_)),_r=Zi,Ku=Dt,La=(y,_,T)=>{const B=y[T].element,H=Kt.fromTag("td");hr(H,Kt.fromTag("br")),(_?hr:ym)(B,H)},Ac=((y,_)=>{const T=B=>y(B)?ae.from(B.dom.nodeValue):ae.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,H)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=H}}})(wo),Dm=y=>Ac.get(y),el=y=>Ac.getOption(y),Ko=(y,_)=>Ac.set(y,_),Ur=y=>Ft(y)==="img"?1:el(y).fold(()=>Ti(y).length,_=>_.length),Cf=["img","br"],Lr=y=>el(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||st(Cf,Ft(y))||(_=>An(_)&&hn(_,"contenteditable")==="false")(y),$g=y=>((_,T)=>{const B=H=>{for(let U=0;U<H.childNodes.length;U++){const te=Kt.fromDom(H.childNodes[U]);if(T(te))return ae.some(te);const se=B(H.childNodes[U]);if(se.isSome())return se}return ae.none()};return B(_.dom)})(y,Lr),iu=y=>W1(y,Lr),W1=(y,_)=>{const T=B=>{const H=Ti(B);for(let U=H.length-1;U>=0;U--){const te=H[U];if(_(te))return ae.some(te);const se=T(te);if(se.isSome())return se}return ae.none()};return T(y)},Dr={scope:["row","col"]},it=y=>()=>{const _=Kt.fromTag("td",y.dom);return hr(_,Kt.fromTag("br",y.dom)),_},Fa=y=>()=>Kt.fromTag("col",y.dom),Wr=y=>()=>Kt.fromTag("colgroup",y.dom),Zl=y=>()=>Kt.fromTag("tr",y.dom),Tc=(y,_,T)=>{const B=((H,U)=>{const te=Yc(H,U),se=Ti(qc(H));return Ol(te,se),te})(y,_);return tn(T,(H,U)=>{H===null?vo(B,U):fs(B,U,H)}),B},ti=y=>y,Qs=(y,_,T)=>{const B=(H,U)=>{((te,se)=>{const we=te.dom,Ie=se.dom;jo(we)&&jo(Ie)&&(Ie.style.cssText=we.style.cssText)})(H.element,U),fl(U,"height"),H.colspan!==1&&fl(U,"width")};return{col:H=>{const U=Kt.fromTag(Ft(H.element),_.dom);return B(H,U),y(H.element,U),U},colgroup:Wr(_),row:Zl(_),cell:H=>{const U=Kt.fromTag(Ft(H.element),_.dom),te=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),se=te.length>0?((we,Ie,Ze)=>$g(we).map(De=>{const Pe=Ze.join(","),Ve=Sa(De,Pe,rt=>$s(rt,we));return Jt(Ve,(rt,at)=>{const Ot=wm(at);return hr(rt,Ot),Ot},Ie)}).getOr(Ie))(H.element,U,te):U;return hr(se,Kt.fromTag("br")),B(H,U),((we,Ie)=>{tn(Dr,(Ze,De)=>Eo(we,De).filter(Pe=>st(Ze,Pe)).each(Pe=>fs(Ie,De,Pe)))})(H.element,U),y(H.element,U),U},replace:Tc,colGap:Fa(_),gap:it(_)}},Ds=y=>({col:Fa(y),colgroup:Wr(y),row:Zl(y),cell:it(y),replace:ti,colGap:Fa(y),gap:it(y)}),Va=y=>_=>_.options.get(y),jl="100%",au=y=>{var _;const T=y.dom,B=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return qo(Kt.fromDom(B))+"px"},Pd=y=>ae.from(y.options.get("table_clone_elements")),Rm=Va("table_header_type"),Ug=Va("table_column_resizing"),Wg=y=>Ug(y)==="preservetable",Rv=y=>Ug(y)==="resizetable",Iv=Va("table_sizing_mode"),Gu=y=>Iv(y)==="relative",N=y=>Iv(y)==="fixed",W=y=>Iv(y)==="responsive",oe=Va("table_resize_bars"),Re=Va("table_style_by_css"),$e=Va("table_merge_content_on_paste"),Rt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((B,H)=>W(B)||Re(B)?H:N(B)?{...H,width:au(B)}:{...H,width:jl})(y,T)},jn=Va("table_use_colgroups"),po=y=>Je(y,"[contenteditable]"),lo=(y,_=!1)=>qa(y)?y.dom.isContentEditable:po(y).fold(X(_),T=>Tn(T)==="true"),Tn=y=>y.dom.contentEditable,bs=y=>Kt.fromDom(y.getBody()),Zr=y=>_=>$s(_,bs(y)),Sr=y=>{vo(y,"data-mce-style");const _=T=>vo(T,"data-mce-style");Ke(Or(y),_),Ke(Sc(y),_),Ke(Xs(y),_)},Oc=y=>Kt.fromDom(y.selection.getStart()),Im=y=>y.getBoundingClientRect().width,Nm=y=>y.getBoundingClientRect().height,pi=y=>(_,T)=>{const B=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return ae.from(B).filter(Mo)},yC=pi("width"),Nv=pi("height"),Z1=y=>nt(y,cs("table")).exists(lo),ca=(y,_)=>{const T=_.column,B=_.column+_.colspan-1,H=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&B>=y.startCol&&H<=y.finishRow&&U>=y.startRow},Rr=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,Di=(y,_,T)=>{const B=Dd(y,_,$s),H=Dd(y,T,$s);return B.bind(U=>H.map(te=>{return se=U,we=te,{startRow:Math.min(se.row,we.row),startCol:Math.min(se.column,we.column),finishRow:Math.max(se.row+se.rowspan-1,we.row+we.rowspan-1),finishCol:Math.max(se.column+se.colspan-1,we.column+we.colspan-1)};var se,we}))},qu=(y,_,T)=>Di(y,_,T).map(B=>{const H=Ui(y,le(ca,B));return O(H,U=>U.element)}),rp=(y,_)=>Dd(y,_,(T,B)=>ei(B,T)).map(T=>T.element),ix=(y,_,T)=>{const B=pl(y);return qu(B,_,T)},sc=(y,_,T,B,H)=>{const U=pl(y),te=$s(y,T)?ae.some(_):rp(U,_),se=$s(y,H)?ae.some(B):rp(U,B);return te.bind(we=>se.bind(Ie=>qu(U,we,Ie)))},pl=Ro;var Pv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],_f=()=>({up:X({selector:Ne,closest:Je,predicate:Te,all:Os}),down:X({selector:Ns,predicate:_a}),styles:X({get:ta,getRaw:Ya,set:_o,remove:fl}),attrs:X({get:hn,set:fs,remove:vo,copyTo:(y,_)=>{const T=or(y);Ar(_,T)}}),insert:X({before:rn,after:Lu,afterAll:Ga,append:hr,appendAll:Ol,prepend:ym,wrap:xm}),remove:X({unwrap:Ca,remove:lr}),create:X({nu:Kt.fromTag,clone:y=>Kt.fromDom(y.dom.cloneNode(!1)),text:Kt.fromText}),query:X({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:ao,nextSibling:Wl}),property:X({children:Ti,name:Ft,parent:ul,document:y=>_c(y).dom,isText:wo,isComment:cn,isElement:On,isSpecial:y=>{const _=Ft(y);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>On(y)?Eo(y,"lang"):ae.none(),getText:Dm,setText:Ko,isBoundary:y=>!!On(y)&&(Ft(y)==="body"||st(Pv,Ft(y))),isEmptyTag:y=>!!On(y)&&st(["br","img","hr","input"],Ft(y)),isNonEditable:y=>On(y)&&hn(y,"contenteditable")==="false"}),eq:$s,is:bm});const lE=(y,_,T,B)=>{const H=_(y,T);return Jt(B,(U,te)=>{const se=_(y,te);return Mv(y,U,se)},H)},Mv=(y,_,T)=>_.bind(B=>T.filter(le(y.eq,B))),Md=_f(),Sf=(y,_)=>((T,B,H)=>H.length>0?((U,te,se,we)=>we(U,te,se[0],se.slice(1)))(T,B,H,lE):ae.none())(Md,(T,B)=>y(B),_),En=y=>Ne(y,"table"),lu=(y,_,T)=>{const B=H=>U=>T!==void 0&&T(U)||$s(U,H);return $s(y,_)?ae.some({boxes:ae.some([y]),start:y,finish:_}):En(y).bind(H=>En(_).bind(U=>{if($s(H,U))return ae.some({boxes:ix(H,y,_),start:y,finish:_});if(ei(H,U)){const te=Sa(_,"td,th",B(H)),se=te.length>0?te[te.length-1]:_;return ae.some({boxes:sc(H,y,H,_,U),start:y,finish:se})}if(ei(U,H)){const te=Sa(y,"td,th",B(U)),se=te.length>0?te[te.length-1]:y;return ae.some({boxes:sc(U,y,H,_,U),start:y,finish:se})}return((te,se,we)=>((Ie,Ze,De,Pe=K)=>{const Ve=[Ze].concat(Ie.up().all(Ze)),rt=[De].concat(Ie.up().all(De)),at=Pt=>Lt(Pt,Pe).fold(()=>Pt,Gt=>Pt.slice(0,Gt+1)),Ot=at(Ve),It=at(rt),Tt=pt(Ot,Pt=>Ee(It,((Gt,Qt)=>le(Gt.eq,Qt))(Ie,Pt)));return{firstpath:Ot,secondpath:It,shared:Tt}})(Md,te,se,void 0))(y,_).shared.bind(te=>Je(te,"table",T).bind(se=>{const we=Sa(_,"td,th",B(se)),Ie=we.length>0?we[we.length-1]:_,Ze=Sa(y,"td,th",B(se)),De=Ze.length>0?Ze[Ze.length-1]:y;return ae.some({boxes:sc(se,y,H,_,U),start:De,finish:Ie})}))}))},Bv=(y,_)=>{const T=Ns(y,_);return T.length>0?ae.some(T):ae.none()},kf=(y,_,T)=>ut(y,_).bind(B=>ut(y,T).bind(H=>Sf(En,[B,H]).map(U=>({first:B,last:H,table:U})))),ua=(y,_,T,B,H)=>((U,te)=>pt(U,se=>gi(se,te)))(y,H).bind(U=>((te,se,we)=>ml(te).bind(Ie=>((Ze,De,Pe,Ve)=>Dd(Ze,De,$s).bind(rt=>{const at=Pe>0?rt.row+rt.rowspan-1:rt.row,Ot=Ve>0?rt.column+rt.colspan-1:rt.column;return hl(Ze,at+Pe,Ot+Ve).map(It=>It.element)}))(pl(Ie),te,se,we)))(U,_,T).bind(te=>((se,we)=>Ne(se,"table").bind(Ie=>ut(Ie,we).bind(Ze=>lu(Ze,se).bind(De=>De.boxes.map(Pe=>({boxes:Pe,start:De.start,finish:De.finish}))))))(te,B))),Dc=(y,_)=>Bv(y,_),Zg=(y,_,T)=>kf(y,_,T).bind(B=>{const H=we=>$s(y,we),U="thead,tfoot,tbody,table",te=Ne(B.first,U,H),se=Ne(B.last,U,H);return te.bind(we=>se.bind(Ie=>$s(we,Ie)?((Ze,De,Pe)=>((Ve,rt,at)=>Di(Ve,rt,at).bind(Ot=>((It,Tt)=>{let Pt=!0;const Gt=le(Rr,Tt);for(let Qt=Tt.startRow;Qt<=Tt.finishRow;Qt++)for(let lt=Tt.startCol;lt<=Tt.finishCol;lt++)Pt=Pt&&hl(It,Qt,lt).exists(Gt);return Pt?ae.some(Tt):ae.none()})(Ve,Ot)))(pl(Ze),De,Pe))(B.table,B.first,B.last):ae.none()))}),Ef=ne,j1=y=>{const _=(T,B)=>Eo(T,B).exists(H=>parseInt(H,10)>1);return y.length>0&&Mt(y,T=>_(T,"rowspan")||_(T,"colspan"))?ae.some(y):ae.none()},cu=(y,_,T)=>_.length<=1?ae.none():Zg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:_})),ip="data-mce-selected",ap="data-mce-first-selected",Ut="data-mce-last-selected",ax="["+ip+"]",Af={selected:ip,selectedSelector:"td["+ip+"],th["+ip+"]",firstSelected:ap,firstSelectedSelector:"td["+ap+"],th["+ap+"]",lastSelected:Ut,lastSelectedSelector:"td["+Ut+"],th["+Ut+"]"},ko=(y,_,T)=>({element:T,mergable:cu(_,y,Af),unmergable:j1(y),selection:Ef(y)}),Rn=y=>(_,T)=>{const B=Ft(_),H=B==="col"||B==="colgroup"?ml(U=_).bind(te=>Dc(te,Af.firstSelectedSelector)).fold(X(U),te=>te[0]):_;var U;return Je(H,y,T)},Tf=Rn("th,td,caption"),pr=Rn("th,td"),Rc=y=>{return _=y.model.table.getSelectedCells(),O(_,Kt.fromDom);var _},Ic=(y,_)=>{y.on("BeforeGetContent",T=>{const B=H=>{T.preventDefault(),(U=>ml(U[0]).map(te=>{const se=((we,Ie)=>{const Ze=Pt=>gi(Pt.element,Ie),De=qc(we),Pe=Mg(De),Ve=sp(we),rt=ai(Pe),at=((Pt,Gt)=>{const Qt=Pt.grid.columns;let lt=Pt.grid.rows,yn=Qt,Xn=0,yo=0;const so=[],Jn=[];return tn(Pt.access,bo=>{if(so.push(bo),Gt(bo)){Jn.push(bo);const Go=bo.row,oi=Go+bo.rowspan-1,Ta=bo.column,Gi=Ta+bo.colspan-1;Go<lt?lt=Go:oi>Xn&&(Xn=oi),Ta<yn?yn=Ta:Gi>yo&&(yo=Gi)}}),((bo,Go,oi,Ta,Gi,lc)=>({minRow:bo,minCol:Go,maxRow:oi,maxCol:Ta,allCells:Gi,selectedCells:lc}))(lt,yn,Xn,yo,so,Jn)})(rt,Ze),Ot="th:not("+Ie+"),td:not("+Ie+")",It=_m(De,"th,td",Pt=>gi(Pt,Ot));Ke(It,lr),((Pt,Gt,Qt,lt)=>{const yn=$t(Pt,so=>so.section!=="colgroup"),Xn=Gt.grid.columns,yo=Gt.grid.rows;for(let so=0;so<yo;so++){let Jn=!1;for(let bo=0;bo<Xn;bo++)so<Qt.minRow||so>Qt.maxRow||bo<Qt.minCol||bo>Qt.maxCol||(hl(Gt,so,bo).filter(lt).isNone()?La(yn,Jn,so):Jn=!0)}})(Pe,rt,at,Ze);const Tt=((Pt,Gt,Qt,lt)=>{if(lt.minCol===0&&Gt.grid.columns===lt.maxCol+1)return 0;const yn=li(Gt,Pt,Qt),Xn=et(yn,(Jn,bo)=>Jn+bo,0),yo=et(yn.slice(lt.minCol,lt.maxCol+1),(Jn,bo)=>Jn+bo,0),so=yo/Xn*Qt.pixelWidth()-Qt.pixelWidth();return Qt.getCellDelta(so)})(we,Ro(we),Ve,at);return((Pt,Gt,Qt,lt)=>{tn(Qt.columns,Xn=>{(Xn.column<Gt.minCol||Xn.column>Gt.maxCol)&&lr(Xn.element)});const yn=$t(Fu(Pt,"tr"),Xn=>Xn.dom.childElementCount===0);Ke(yn,lr),Gt.minCol!==Gt.maxCol&&Gt.minRow!==Gt.maxRow||Ke(Fu(Pt,"th,td"),Xn=>{vo(Xn,"rowspan"),vo(Xn,"colspan")}),vo(Pt,km),vo(Pt,"data-snooker-col-series"),sp(Pt).adjustTableWidth(lt)})(De,at,rt,Tt),De})(te,ax);return Sr(se),[se]}))(H).each(U=>{T.content=T.format==="text"?(te=>O(te,se=>se.dom.innerText).join(""))(U):((te,se)=>O(se,we=>te.selection.serializer.serialize(we.dom,{})).join(""))(y,U)})};if(T.selection===!0){const H=(U=>$t(Rc(U),te=>gi(te,Af.selectedSelector)))(y);H.length>=1&&B(H)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=Rc(y);fn(B).each(H=>{ml(H).each(U=>{const te=$t(((we,Ie)=>{const Ze=document.createElement("div");return Ze.innerHTML=we,Ti(Kt.fromDom(Ze))})(T.content),we=>Ft(we)!=="meta"),se=cs("table");if($e(y)&&te.length===1&&se(te[0])){T.preventDefault();const we=Kt.fromDom(y.getDoc()),Ie=Ds(we),Ze=((De,Pe,Ve)=>({element:De,clipboard:Pe,generators:Ve}))(H,te[0],Ie);_.pasteCells(U,Ze).each(()=>{y.focus()})}})})}})},fo=(y,_)=>({element:y,offset:_}),lp=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(B=>lp(y,B,T).orThunk(()=>ae.some(B))):ae.none(),xC=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,St=(y,_)=>{const T=lp(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return fo(T,xC(y,T));const B=y.property().children(T);return B.length>0?St(y,B[B.length-1]):fo(T,xC(y,T))},lx=St,cp=_f(),up=(y,_)=>{Hr(y)||(B=>oc(B).bind(H=>{return U=H,te=["fixed","relative","empty"],ae.from(Ov.exec(U)).bind(se=>{const we=Number(se[1]),Ie=se[2];return((Ze,De)=>Ee(De,Pe=>Ee(Am[Pe],Ve=>Ze===Ve)))(Ie,te)?ae.some({value:we,unit:Ie}):ae.none()});var U,te}))(y).each(B=>{const H=B.value/2;ju(y,H,B.unit),ju(_,H,B.unit)})},jg=y=>O(y,X(0)),Pm=(y,_,T,B,H)=>H(y.slice(0,_)).concat(B).concat(H(y.slice(T))),wC=y=>(_,T,B,H)=>{if(y(B)){const U=Math.max(H,_[T]-Math.abs(B)),te=Math.abs(U-_[T]);return B>=0?te:-te}return B},Of=wC(y=>y<0),sr=wC(ye),Yu=()=>{const y=(T,B,H,U)=>{const te=(100+H)/100,se=Math.max(U,(T[B]+H)/te);return O(T,(we,Ie)=>(Ie===B?se:we/te)-we)},_=(T,B,H,U,te,se)=>se?y(T,B,U,te):((we,Ie,Ze,De,Pe)=>{const Ve=Of(we,Ie,De,Pe);return Pm(we,Ie,Ze+1,[Ve,0],jg)})(T,B,H,U,te);return{resizeTable:(T,B)=>T(B),clampTableDelta:Of,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,B,H,U,te,se,we)=>_(T,H,U,te,se,we),calcRightEdgeDeltas:(T,B,H,U,te,se)=>{if(se)return y(T,H,U,te);{const we=Of(T,H,U,te);return jg(T.slice(0,H)).concat([we])}},calcRedestributedWidths:(T,B,H,U)=>{if(U){const te=(B+H)/B,se=O(T,we=>we/te);return{delta:100*te-100,newSizes:se}}return{delta:H,newSizes:T}}}},K1=()=>{const y=(_,T,B,H,U)=>{const te=sr(_,H>=0?B:T,H,U);return Pm(_,T,B+1,[te,-te],jg)};return{resizeTable:(_,T,B)=>{B&&_(T)},clampTableDelta:(_,T,B,H,U)=>{if(U){if(B>=0)return B;{const te=et(_,(se,we)=>se+we-H,0);return Math.max(-te,B)}}return Of(_,T,B,H)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,B,H,U,te)=>y(_,B,H,U,te),calcRightEdgeDeltas:(_,T,B,H,U,te)=>{if(te)return jg(_);{const se=H/_.length;return O(_,X(se))}},calcRedestributedWidths:(_,T,B,H)=>({delta:0,newSizes:_})}},uu=y=>Ro(y).grid,Mm=cs("th"),rc=y=>Mt(y,_=>Mm(_.element)),jr=(y,_)=>y&&_?"sectionCells":y?"section":"cells",Lv=y=>{const _=y.section==="thead",T=Wt(Ri(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:jr(_,T)}:{type:"body"}},Ri=y=>{const _=$t(y,T=>Mm(T.element));return _.length===0?ae.some("td"):_.length===y.length?ae.some("th"):ae.none()},G1=(y,_,T)=>Br(T(y.element,_),!0,y.isLocked),Nc=(y,_)=>y.section!==_?ii(y.element,y.cells,_,y.isNew):y,Ii=()=>({transformRow:Nc,transformCell:(y,_,T)=>{const B=T(y.element,_),H=Ft(B)!=="td"?((U,te)=>{const se=Yc(U,"td");Lu(U,se);const we=Ti(U);return Ol(se,we),lr(U),se})(B):B;return Br(H,y.isNew,y.isLocked)}}),Zt=()=>({transformRow:Nc,transformCell:G1}),Bm=()=>({transformRow:(y,_)=>Nc(y,_==="thead"?"tbody":_),transformCell:G1}),Ni=Ii,CC=Zt,_C=Bm,cE=()=>({transformRow:ne,transformCell:G1}),Bd=(y,_,T,B)=>{T===B?vo(y,_):fs(y,_,T)},Kg=(y,_,T)=>{_n(Jc(y,_)).fold(()=>ym(y,T),B=>Lu(B,T))},Fv=(y,_)=>{const T=[],B=[],H=Pe=>O(Pe,Ve=>{Ve.isNew&&T.push(Ve.element);const rt=Ve.element;return dl(rt),Ke(Ve.cells,at=>{at.isNew&&B.push(at.element),Bd(at.element,"colspan",at.colspan,1),Bd(at.element,"rowspan",at.rowspan,1),hr(rt,at.element)}),rt}),U=Pe=>Ye(Pe,Ve=>O(Ve.cells,rt=>(Bd(rt.element,"span",rt.colspan,1),rt.element))),te=(Pe,Ve)=>{const rt=((Ot,It)=>{const Tt=mt(Ot,It).getOrThunk(()=>{const Pt=Kt.fromTag(It,Pu(Ot).dom);return It==="thead"?Kg(Ot,"caption,colgroup",Pt):It==="colgroup"?Kg(Ot,"caption",Pt):hr(Ot,Pt),Pt});return dl(Tt),Tt})(y,Ve),at=(Ve==="colgroup"?U:H)(Pe);Ol(rt,at)},se=(Pe,Ve)=>{Pe.length>0?te(Pe,Ve):(rt=>{mt(y,rt).each(lr)})(Ve)},we=[],Ie=[],Ze=[],De=[];return Ke(_,Pe=>{switch(Pe.section){case"thead":we.push(Pe);break;case"tbody":Ie.push(Pe);break;case"tfoot":Ze.push(Pe);break;case"colgroup":De.push(Pe)}}),se(De,"colgroup"),se(we,"thead"),se(Ie,"tbody"),se(Ze,"tfoot"),{newRows:T,newCells:B}},q1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return Lt(y,B=>!_(T.element,B.element)).getOr(y.length)},cx=(y,_)=>{const T=O(y,B=>O(B.cells,K));return O(y,(B,H)=>{const U=Ye(B.cells,(te,se)=>{if(T[H][se]===!1){const Pe=((Ve,rt,at,Ot)=>{const It=((Qt,lt)=>Qt[lt])(Ve,rt),Tt=It.section==="colgroup",Pt=q1(It.cells.slice(at),Ot),Gt=Tt?1:q1(((Qt,lt)=>O(Qt,yn=>$r(yn,lt)))(Ve.slice(rt),at),Ot);return{colspan:Pt,rowspan:Gt}})(y,H,se,_);return((Ve,rt,at,Ot)=>{for(let It=Ve;It<Ve+at;It++)for(let Tt=rt;Tt<rt+Ot;Tt++)T[It][Tt]=!0})(H,se,Pe.rowspan,Pe.colspan),[(we=te.element,Ie=Pe.rowspan,Ze=Pe.colspan,De=te.isNew,{element:we,rowspan:Ie,colspan:Ze,isNew:De})]}return[];var we,Ie,Ze,De});return((te,se,we,Ie)=>({element:te,cells:se,section:we,isNew:Ie}))(B.element,U,B.section,B.isNew)})},kr=(y,_,T)=>{const B=[];Ke(y.colgroups,H=>{const U=[];for(let te=0;te<y.grid.columns;te++){const se=Es(y,te).map(we=>Br(we.element,T,!1)).getOrThunk(()=>Br(_.colGap(),!0,!1));U.push(se)}B.push(ii(H.element,U,"colgroup",T))});for(let H=0;H<y.grid.rows;H++){const U=[];for(let we=0;we<y.grid.columns;we++){const Ie=hl(y,H,we).map(Ze=>Br(Ze.element,T,Ze.isLocked)).getOrThunk(()=>Br(_.gap(),!0,!1));U.push(Ie)}const te=y.all[H],se=ii(te.element,U,te.section,T);B.push(se)}return B},Vv=y=>cx(y,$s),Ir=(y,_)=>Q(y.all,T=>pt(T.cells,B=>$s(_,B.element))),tl=(y,_,T)=>{const B=O(_.selection,U=>Jh(U).bind(te=>Ir(y,te)).filter(T)),H=nn(B);return un(H.length>0,H)},Kr=(y,_,T,B,H)=>(U,te,se,we)=>{const Ie=Ro(U),Ze=ae.from(we==null?void 0:we.section).getOrThunk(cE);return _(Ie,te).map(De=>{const Pe=((at,Ot)=>kr(at,Ot,!1))(Ie,se),Ve=y(Pe,De,$s,H(se),Ze),rt=Pa(Ve.grid);return{info:De,grid:Vv(Ve.grid),cursor:Ve.cursor,lockedColumns:rt}}).bind(De=>{const Pe=Fv(U,De.grid),Ve=ae.from(we==null?void 0:we.sizing).getOrThunk(()=>sp(U)),rt=ae.from(we==null?void 0:we.resize).getOrThunk(K1);return T(U,De.grid,De.info,{sizing:Ve,resize:rt,section:Ze}),B(U),vo(U,km),De.lockedColumns.length>0&&fs(U,km,De.lockedColumns.join(",")),ae.some({cursor:De.cursor,newRows:Pe.newRows,newCells:Pe.newCells})})},ic=(y,_)=>tl(y,_,ye).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),Ld=(y,_)=>tl(y,_,ye),ji=(y,_)=>tl(y,_,T=>!T.isLocked),zv=(y,_)=>Mt(_,T=>((B,H)=>Ir(B,H).exists(U=>!U.isLocked))(y,T)),dp=(y,_,T,B)=>{const H=Js(y).rows;let U=!0;for(let te=0;te<H.length;te++)for(let se=0;se<$i(H[0]);se++){const we=H[te],Ie=$r(we,se),Ze=T(Ie.element,_);Ze&&!U?zg(we,se,Br(B(),!0,Ie.isLocked)):Ze&&(U=!1)}return y},Df=y=>{const _=U=>U(y),T=X(y),B=()=>H,H={tag:!0,inner:y,fold:(U,te)=>te(y),isValue:ye,isError:K,map:U=>fp.value(U(y)),mapError:B,bind:_,exists:_,forall:_,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:U=>{U(y)},toOptional:()=>ae.some(y)};return H},SC=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(H,U)=>H(y),isValue:K,isError:ye,map:_,mapError:H=>fp.error(H(y)),bind:_,exists:K,forall:ye,getOr:ne,or:ne,getOrThunk:he,orThunk:he,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:G,toOptional:ae.none};var B;return T},fp={value:Df,error:SC,fromOption:(y,_)=>y.fold(()=>SC(_),Df)},ux=(y,_)=>({rowDelta:0,colDelta:$i(y[0])-$i(_[0])}),Y1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),Hv=(y,_,T,B)=>{const H=_.section==="colgroup"?T.col:T.cell;return Le(y,U=>Br(H(),!0,B(U)))},X1=(y,_,T,B)=>{const H=y[y.length-1];return y.concat(Le(_,()=>{const U=H.section==="colgroup"?T.colgroup:T.row,te=bf(H,U,ne),se=Hv(te.cells.length,te,T,we=>Be(B,we.toString()));return Na(te,se)}))},dx=(y,_,T,B)=>O(y,H=>{const U=Hv(_,H,T,K);return Td(H,B,U)}),Lm=(y,_,T)=>{const B=_.colDelta<0?dx:ne,H=_.rowDelta<0?X1:ne,U=Pa(y),te=$i(y[0]),se=Ee(U,Ze=>Ze===te-1),we=B(y,Math.abs(_.colDelta),T,se?te-1:te),Ie=Pa(we);return H(we,Math.abs(_.rowDelta),T,oo(Ie,ye))},uE=(y,_,T,B)=>{const H=le(B,$r(y[_],T).element),U=y[_];return y.length>1&&$i(U)>1&&(T>0&&H(ur(U,T-1))||T<U.cells.length-1&&H(ur(U,T+1))||_>0&&H(ur(y[_-1],T))||_<y.length-1&&H(ur(y[_+1],T)))},J1=(y,_,T)=>$t(T,B=>B>=y.column&&B<=$i(_[0])+y.column),Q1=(y,_,T,B,H)=>{((Ie,Ze,De,Pe)=>{Ze>0&&Ze<Ie[0].cells.length&&Ke(Ie,Ve=>{const rt=Ve.cells[Ze-1];let at=0;const Ot=Pe();for(;Ve.cells.length>Ze+at&&De(rt.element,Ve.cells[Ze+at].element);)zg(Ve,Ze+at,Br(Ot,!0,Ve.cells[Ze+at].isLocked)),at++})})(_,y,H,B.cell);const U=Y1(T,_),te=Lm(T,U,B),se=Y1(_,te),we=Lm(_,se,B);return O(we,(Ie,Ze)=>Td(Ie,y,te[Ze].cells))},fx=(y,_,T,B,H)=>{((Tt,Pt,Gt,Qt)=>{const lt=Js(Tt).rows;if(Pt>0&&Pt<lt.length){const yn=((Xn,yo)=>et(Xn,(so,Jn)=>Ee(so,bo=>yo(bo.element,Jn.element))?so:so.concat([Jn]),[]))(lt[Pt-1].cells,Gt);Ke(yn,Xn=>{let yo=ae.none();for(let so=Pt;so<lt.length;so++)for(let Jn=0;Jn<$i(lt[0]);Jn++){const bo=lt[so],Go=$r(bo,Jn);Gt(Go.element,Xn.element)&&(yo.isNone()&&(yo=ae.some(Qt())),yo.each(oi=>{zg(bo,Jn,Br(oi,!0,Go.isLocked))}))}})}})(_,y,H,B.cell);const U=Pa(_),te=ux(_,T),se={...te,colDelta:te.colDelta-U.length},we=Lm(_,se,B),{cols:Ie,rows:Ze}=Js(we),De=Pa(we),Pe=ux(T,_),Ve={...Pe,colDelta:Pe.colDelta+De.length},rt=(Ot=B,It=De,O(T,Tt=>et(It,(Pt,Gt)=>{const Qt=Hv(1,Tt,Ot,ye)[0];return Vg(Pt,Gt,Qt)},Tt))),at=Lm(rt,Ve,B);var Ot,It;return[...Ie,...Ze.slice(0,y),...at,...Ze.slice(y,Ze.length)]},mx=(y,_,T,B,H)=>{const{rows:U,cols:te}=Js(y),se=U.slice(0,_),we=U.slice(_);return[...te,...se,((Ie,Ze,De,Pe)=>bf(Ie,Ve=>Pe(Ve,De),Ze))(U[T],(Ie,Ze)=>_>0&&_<U.length&&B(ur(U[_-1],Ze),ur(U[_],Ze))?$r(U[_],Ze):Br(H(Ie.element,B),!0,Ie.isLocked),B,H),...we]},$v=(y,_,T,B,H)=>O(y,U=>{const te=_>0&&_<$i(U)&&B(ur(U,_-1),ur(U,_)),se=((we,Ie,Ze,De,Pe,Ve,rt)=>{if(Ze!=="colgroup"&&De)return $r(we,Ie);{const at=$r(we,Pe);return Br(rt(at.element,Ve),!0,!1)}})(U,_,U.section,te,T,B,H);return Vg(U,_,se)}),gx=(y,_,T,B)=>((H,U,te,se)=>ur(H[U],te)!==void 0&&U>0&&se(ur(H[U-1],te),ur(H[U],te)))(y,_,T,B)||((H,U,te)=>U>0&&te(ur(H,U-1),ur(H,U)))(y[_],T,B),hx=(y,_,T,B)=>{const H=U=>(te=>te==="row"?(se=>Ed(se,"rowspan")>1)(_):Hr(_))(U)?`${U}group`:U;return y?Mm(_)?H(T):null:B&&Mm(_)?H(T==="row"?"col":"row"):null},Uv=(y,_,T)=>Br(T(y.element,_),!0,y.isLocked),mp=(y,_,T,B,H,U,te)=>O(y,(se,we)=>((Ie,Ze)=>{const De=Ie.cells,Pe=O(De,(Ve,rt)=>{if((at=>Ee(_,Ot=>T(at.element,Ot.element)))(Ve)){const at=te(Ve,we,rt)?H(Ve,T,B):Ve;return U(at,we,rt).each(Ot=>{var It,Tt;It=at.element,Tt={scope:ae.from(Ot)},tn(Tt,(Pt,Gt)=>{Pt.fold(()=>{vo(It,Gt)},Qt=>{ar(It.dom,Gt,Qt)})})}),at}return Ve});return ii(Ie.element,Pe,Ie.section,Ie.isNew)})(se)),px=(y,_,T)=>Ye(y,(B,H)=>gx(y,H,_,T)?[]:[$r(B,_)]),Wv=(y,_,T,B,H)=>{const U=Js(y).rows,te=Ye(_,Ze=>px(U,Ze,B)),se=O(U,Ze=>rc(Ze.cells)),we=((Ze,De)=>Mt(De,ne)&&rc(Ze)?ye:(Pe,Ve,rt)=>!(Ft(Pe.element)==="th"&&De[Ve]))(te,se);return mp(y,te,B,H,Uv,((Ze,De)=>(Pe,Ve)=>ae.some(hx(Ze,Pe.element,"row",De[Ve])))(T,se),we)},Zv=(y,_,T,B)=>{const H=Js(y).rows,U=O(_,te=>$r(H[te.row],te.column));return mp(y,U,T,B,Uv,ae.none,ye)},Fm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return Ke(y,(B,H)=>{const U=xs(B);if(U.length!==1)throw new Error("one and only one name per case");const te=U[0],se=B[te];if(T[te]!==void 0)throw new Error("duplicate key detected:"+te);if(te==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(se))throw new Error("case arguments must be an array");_.push(te),T[te]=(...we)=>{const Ie=we.length;if(Ie!==se.length)throw new Error("Wrong number of arguments to case "+te+". Expected "+se.length+" ("+se+"), got "+Ie);return{fold:(...Ze)=>{if(Ze.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ze.length);return Ze[H].apply(null,we)},match:Ze=>{const De=xs(Ze);if(_.length!==De.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+De.join(","));if(!Mt(_,Pe=>st(De,Pe)))throw new Error("Not all branches were specified when using match. Specified: "+De.join(", ")+`
Required: `+_.join(", "));return Ze[te].apply(null,we)},log:Ze=>{console.log(Ze,{constructors:_,constructor:te,params:we})}}}}),T},gp={...Fm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},vx=(y,_,T)=>{const B=((H,U)=>Ec(H)?((te,se)=>{const we=kc(te);return O(we,(Ie,Ze)=>({element:Ie.element,width:se[Ze],colspan:Ie.colspan}))})(H,U):((te,se)=>{const we=Bn(te);return O(we,Ie=>{const Ze=((De,Pe,Ve)=>{let rt=0;for(let at=De;at<Pe;at++)rt+=Ve[at]!==void 0?Ve[at]:0;return rt})(Ie.column,Ie.column+Ie.colspan,se);return{element:Ie.element,width:Ze,colspan:Ie.colspan}})})(H,U))(y,_);Ke(B,H=>{T.setElementWidth(H.element,H.width)})},Fd=(y,_,T,B,H)=>{const U=Ro(y),te=H.getCellDelta(_),se=H.getWidths(U,H),we=T===U.grid.columns-1,Ie=B.clampTableDelta(se,T,te,H.minCellWidth(),we),Ze=((Pe,Ve,rt,at,Ot)=>{const It=Pe.slice(0),Tt=((Gt,Qt)=>Gt.length===0?gp.none():Gt.length===1?gp.only(0):Qt===0?gp.left(0,1):Qt===Gt.length-1?gp.right(Qt-1,Qt):Qt>0&&Qt<Gt.length-1?gp.middle(Qt-1,Qt,Qt+1):gp.none())(Pe,Ve),Pt=X(O(It,X(0)));return Tt.fold(Pt,Gt=>at.singleColumnWidth(It[Gt],rt),(Gt,Qt)=>Ot.calcLeftEdgeDeltas(It,Gt,Qt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt,lt)=>Ot.calcMiddleDeltas(It,Gt,Qt,lt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt)=>Ot.calcRightEdgeDeltas(It,Gt,Qt,rt,at.minCellWidth(),at.isRelative))})(se,T,Ie,H,B),De=O(Ze,(Pe,Ve)=>Pe+se[Ve]);vx(U,De,H),B.resizeTable(H.adjustTableWidth,Ie,we)},Gg=(y,_,T)=>{const B=Ro(y),H=((we,Ie)=>Wi(we,Ie,U1,Ze=>Ze.getOrThunk(ws)))(B,y),U=O(H,(we,Ie)=>T===Ie?Math.max(_+we,ws()):we),te=((we,Ie)=>O(we.all,(Ze,De)=>({element:Ze.element,height:Ie[De]})))(B,U);Ke(te,we=>{Zu(we.element,we.height)}),Ke(Bn(B),we=>{(Ie=>{fl(Ie,"height")})(we.element)});const se=Jt(U,(we,Ie)=>we+Ie,0);Zu(y,se)},qg=y=>et(y,(_,T)=>Ee(_,B=>B.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),Vd=cs("col"),Rf=cs("colgroup"),jv=y=>Ft(y)==="tr"||Rf(y),dE=y=>({element:y,colspan:wr(y,"colspan",1),rowspan:wr(y,"rowspan",1)}),Kv=y=>Eo(y,"scope").map(_=>_.substr(0,3)),Pc=(y,_=dE)=>{const T=H=>{if(jv(H))return Rf((U={element:H}).element)?y.colgroup(U):y.row(U);{const te=H,se=(we=>Vd(we.element)?y.col(we):y.cell(we))(_(te));return B=ae.some({item:te,replacement:se}),se}var U};let B=ae.none();return{getOrInit:(H,U)=>B.fold(()=>T(H),te=>U(H,te.item)?te.replacement:T(H))}},kC=y=>_=>{const T=[],B=H=>{const U=y==="td"?{scope:null}:{},te=_.replace(H,y,U);return T.push({item:H,sub:te}),te};return{replaceOrInit:(H,U)=>{if(jv(H)||Vd(H))return H;{const te=H;return((se,we)=>pt(T,Ie=>we(Ie.item,se)))(te,U).fold(()=>B(te),se=>U(H,se.item)?se.sub:B(te))}}}},bx=y=>({unmerge:_=>{const T=Kv(_);return T.each(B=>fs(_,"scope",B)),()=>{const B=y.cell({element:_,colspan:1,rowspan:1});return fl(B,"width"),fl(_,"width"),T.each(H=>fs(B,"scope",H)),B}},merge:_=>(fl(_[0],"width"),(()=>{const T=nn(O(_,Kv));if(T.length===0)return ae.none();{const B=T[0],H=["row","col"];return Ee(T,U=>U!==B&&st(H,U))?ae.none():ae.from(B)}})().fold(()=>vo(_[0],"scope"),T=>fs(_[0],"scope",T+"group")),X(_[0]))}),Yg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],da=_f(),Xg=y=>((_,T)=>{const B=_.property().name(T);return st(Yg,B)})(da,y),Jg=y=>((_,T)=>{const B=_.property().name(T);return st(["ol","ul"],B)})(da,y),e0=y=>{const _=cs("br"),T=H=>iu(H).bind(U=>{const te=Wl(U).map(se=>!!Xg(se)||!!((we,Ie)=>st(["br","img","hr","input"],we.property().name(Ie)))(da,se)&&Ft(se)!=="img").getOr(!1);return ul(U).map(se=>{return te===!0||Ft(we=se)==="li"||Te(we,Jg).isSome()||_(U)||Xg(se)&&!$s(H,se)?[]:[Kt.fromTag("br")];var we})}).getOr([]),B=(()=>{const H=Ye(y,U=>{const te=Ti(U);return(se=>Mt(se,we=>_(we)||wo(we)&&Dm(we).trim().length===0))(te)?[]:te.concat(T(U))});return H.length===0?[Kt.fromTag("br")]:H})();dl(y[0]),Ol(y[0],B)},Xo=y=>lo(y,!0),vl=y=>{Or(y).length===0&&lr(y)},Xu=(y,_)=>({grid:y,cursor:_}),Aa=(y,_,T)=>{const B=((H,U,te)=>{var se,we;const Ie=Js(H).rows;return ae.from((we=(se=Ie[U])===null||se===void 0?void 0:se.cells[te])===null||we===void 0?void 0:we.element).filter(Xo).orThunk(()=>(Ze=>Q(Ze,De=>Q(De.cells,Pe=>{const Ve=Pe.element;return un(Xo(Ve),Ve)})))(Ie))})(y,_,T);return Xu(y,B)},Ks=y=>et(y,(_,T)=>Ee(_,B=>B.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),Gv=(y,_)=>(T,B,H,U,te)=>{const se=Ks(B),we=O(se,Ze=>Ze.row),Ie=((Ze,De,Pe,Ve,rt,at,Ot)=>{const{cols:It,rows:Tt}=Js(Ze),Pt=Tt[De[0]],Gt=Ye(De,so=>((Jn,bo,Go)=>{const oi=Jn[bo];return Ye(oi.cells,(Ta,Gi)=>gx(Jn,bo,Gi,Go)?[]:[Ta])})(Tt,so,rt)),Qt=O(Pt.cells,(so,Jn)=>rc(px(Tt,Jn,rt))),lt=[...Tt];Ke(De,so=>{lt[so]=Ot.transformRow(Tt[so],Pe)});const yn=[...It,...lt],Xn=((so,Jn)=>Mt(Jn,ne)&&rc(so.cells)?ye:(bo,Go,oi)=>!(Ft(bo.element)==="th"&&Jn[oi]))(Pt,Qt),yo=((so,Jn)=>(bo,Go,oi)=>ae.some(hx(so,bo.element,"col",Jn[oi])))(Ve,Qt);return mp(yn,Gt,rt,at,Ot.transformCell,yo,Xn)})(T,we,y,_,H,U.replaceOrInit,te);return Aa(Ie,B[0].row,B[0].column)},EC=Gv("thead",!0),fE=Gv("tbody",!1),dr=Gv("tfoot",!1),t0=(y,_,T)=>{const B=((U,te)=>Nl(U,()=>te))(y,T.section),H=ai(B);return kr(H,_,!0)},yx=(y,_,T,B)=>((H,U,te,se)=>{const we=ai(U),Ie=se.getWidths(we,se);vx(we,Ie,se)})(0,_,0,B.sizing),Vm=(y,_,T,B)=>((H,U,te,se,we)=>{const Ie=ai(U),Ze=se.getWidths(Ie,se),De=se.pixelWidth(),{newSizes:Pe,delta:Ve}=we.calcRedestributedWidths(Ze,De,te.pixelDelta,se.isRelative);vx(Ie,Pe,se),se.adjustTableWidth(Ve)})(0,_,T,B.sizing,B.resize),Mc=(y,_)=>Ee(_,T=>T.column===0&&T.isLocked),hp=(y,_)=>Ee(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),bn=(y,_)=>{const T=tp(y),B=qg(_);return et(B,(H,U)=>H+T[U.column].map(Fg).getOr(0),0)},du=y=>(_,T)=>Ld(_,T).filter(B=>!(y?Mc:hp)(_,B)).map(B=>({details:B,pixelDelta:bn(_,B)})),xx=y=>(_,T)=>ic(_,T).filter(B=>!(y?Mc:hp)(_,B.cells)),n0=kC("th"),pp=kC("td"),o0=Kr((y,_,T,B)=>{const H=_[0].row,U=Ks(_),te=Jt(U,(se,we)=>({grid:mx(se.grid,H,we.row+se.delta,T,B.getOrInit),delta:se.delta+1}),{grid:y,delta:0}).grid;return Aa(te,H,_[0].column)},Ld,G,G,Pc),Qg=Kr((y,_,T,B)=>{const H=Ks(_),U=H[H.length-1],te=U.row+U.rowspan,se=Jt(H,(we,Ie)=>mx(we,te,Ie.row,T,B.getOrInit),y);return Aa(se,te,_[0].column)},Ld,G,G,Pc),Bc=Kr((y,_,T,B)=>{const H=_.details,U=qg(H),te=U[0].column,se=Jt(U,(we,Ie)=>({grid:$v(we.grid,te,Ie.column+we.delta,T,B.getOrInit),delta:we.delta+1}),{grid:y,delta:0}).grid;return Aa(se,H[0].row,te)},du(!0),Vm,G,Pc),mE=Kr((y,_,T,B)=>{const H=_.details,U=H[H.length-1],te=U.column+U.colspan,se=qg(H),we=Jt(se,(Ie,Ze)=>$v(Ie,te,Ze.column,T,B.getOrInit),y);return Aa(we,H[0].row,te)},du(!1),Vm,G,Pc),s0=Kr((y,_,T,B)=>{const H=qg(_.details),U=((se,we)=>Ye(se,Ie=>{const Ze=Ie.cells,De=Jt(we,(Pe,Ve)=>Ve>=0&&Ve<Pe.length?Pe.slice(0,Ve).concat(Pe.slice(Ve+1)):Pe,Ze);return De.length>0?[ii(Ie.element,De,Ie.section,Ie.isNew)]:[]}))(y,O(H,se=>se.column)),te=U.length>0?U[0].cells.length-1:0;return Aa(U,H[0].row,Math.min(H[0].column,te))},(y,_)=>ji(y,_).map(T=>({details:T,pixelDelta:-bn(y,T)})),Vm,vl,Pc),wx=Kr((y,_,T,B)=>{const H=Ks(_),U=((se,we,Ie)=>{const{rows:Ze,cols:De}=Js(se);return[...De,...Ze.slice(0,we),...Ze.slice(Ie+1)]})(y,H[0].row,H[H.length-1].row),te=Math.max(Js(U).rows.length-1,0);return Aa(U,Math.min(_[0].row,te),_[0].column)},Ld,G,vl,Pc),r0=Kr((y,_,T,B)=>{const H=qg(_),U=O(H,se=>se.column),te=Wv(y,U,!0,T,B.replaceOrInit);return Aa(te,_[0].row,_[0].column)},ji,G,G,n0),Cx=Kr((y,_,T,B)=>{const H=qg(_),U=O(H,se=>se.column),te=Wv(y,U,!1,T,B.replaceOrInit);return Aa(te,_[0].row,_[0].column)},ji,G,G,pp),_x=Kr(EC,ji,G,G,n0),i0=Kr(fE,ji,G,G,pp),Sx=Kr(dr,ji,G,G,pp),kx=Kr((y,_,T,B)=>{const H=Zv(y,_,T,B.replaceOrInit);return Aa(H,_[0].row,_[0].column)},ji,G,G,n0),AC=Kr((y,_,T,B)=>{const H=Zv(y,_,T,B.replaceOrInit);return Aa(H,_[0].row,_[0].column)},ji,G,G,pp),gE=Kr((y,_,T,B)=>{const H=_.cells;e0(H);const U=((te,se,we,Ie)=>{const Ze=Js(te).rows;if(Ze.length===0)return te;for(let De=se.startRow;De<=se.finishRow;De++)for(let Pe=se.startCol;Pe<=se.finishCol;Pe++){const Ve=Ze[De],rt=$r(Ve,Pe).isLocked;zg(Ve,Pe,Br(Ie(),!1,rt))}return te})(y,_.bounds,0,B.merge(H));return Xu(U,ae.from(H[0]))},(y,_)=>((T,B)=>B.mergable)(0,_).filter(T=>zv(y,T.cells)),yx,G,bx),qv=Kr((y,_,T,B)=>{const H=Jt(_,(U,te)=>dp(U,te,T,B.unmerge(te)),y);return Xu(H,ae.from(_[0]))},(y,_)=>((T,B)=>B.unmergable)(0,_).filter(T=>zv(y,T)),yx,G,bx),Ex=Kr((y,_,T,B)=>{const H=((se,we)=>{const Ie=Ro(se);return kr(Ie,we,!0)})(_.clipboard,_.generators);var U,te;return((se,we,Ie,Ze,De)=>{const Pe=Pa(we),Ve=((It,Tt,Pt)=>{const Gt=$i(Tt[0]),Qt=Js(Tt).cols.length+It.row,lt=Le(Gt-It.column,yn=>yn+It.column);return{row:Qt,column:pt(lt,yn=>Mt(Pt,Xn=>Xn!==yn)).getOr(Gt-1)}})(se,we,Pe),rt=Js(Ie).rows,at=J1(Ve,rt,Pe);return((It,Tt,Pt)=>{if(It.row>=Tt.length||It.column>$i(Tt[0]))return fp.error("invalid start address out of table bounds, row: "+It.row+", column: "+It.column);const Gt=Tt.slice(It.row),Qt=Gt[0].cells.slice(It.column),lt=$i(Pt[0]),yn=Pt.length;return fp.value({rowDelta:Gt.length-yn,colDelta:Qt.length-lt})})(Ve,we,rt).map(It=>{const Tt={...It,colDelta:It.colDelta-at.length},Pt=Lm(we,Tt,Ze),Gt=Pa(Pt),Qt=J1(Ve,rt,Gt);return((lt,yn,Xn,yo,so,Jn)=>{const bo=lt.row,Go=lt.column,oi=bo+Xn.length,Ta=Go+$i(Xn[0])+Jn.length,Gi=oo(Jn,ye);for(let lc=bo;lc<oi;lc++){let Jm=0;for(let Oa=Go;Oa<Ta;Oa++){if(Gi[Oa]){Jm++;continue}uE(yn,lc,Oa,so)&&dp(yn,ur(yn[lc],Oa),so,yo.cell);const ed=Oa-Go-Jm,Sp=$r(Xn[lc-bo],ed),Zf=Sp.element,kp=yo.replace(Zf);zg(yn[lc],Oa,Br(kp,!0,Sp.isLocked))}}return yn})(Ve,Pt,rt,Ze,De,Qt)})})((U=_.row,te=_.column,{row:U,column:te}),y,H,_.generators,T).fold(()=>Xu(y,ae.some(_.element)),se=>Aa(se,_.row,_.column))},(y,_)=>Jh(_.element).bind(T=>Ir(y,T).map(B=>({...B,generators:_.generators,clipboard:_.clipboard}))),yx,G,Pc),eh=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[0].column,te=H[_.cells[0].row],se=t0(_.clipboard,_.generators,te),we=Q1(U,y,se,_.generators,T);return Aa(we,_.cells[0].row,_.cells[0].column)},xx(!0),G,G,Pc),hE=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,te=H[_.cells[0].row],se=t0(_.clipboard,_.generators,te),we=Q1(U,y,se,_.generators,T);return Aa(we,_.cells[0].row,U)},xx(!1),G,G,Pc),pE=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[0].row,te=H[U],se=t0(_.clipboard,_.generators,te),we=fx(U,y,se,_.generators,T);return Aa(we,_.cells[0].row,_.cells[0].column)},ic,G,G,Pc),If=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,te=H[_.cells[0].row],se=t0(_.clipboard,_.generators,te),we=fx(U,y,se,_.generators,T);return Aa(we,U,_.cells[0].column)},ic,G,G,Pc),zm=(y,_)=>{const T=Ro(y);return Ld(T,_).bind(B=>{const H=B[B.length-1],U=B[0].column,te=H.column+H.colspan,se=tt(O(T.all,we=>$t(we.cells,Ie=>Ie.column>=U&&Ie.column<te)));return Ri(se)}).getOr("")},a0=(y,_)=>{const T=Ro(y);return Ld(T,_).bind(Ri).getOr("")},TC=(y,_)=>{const T=Ro(y);return Ld(T,_).bind(B=>{const H=B[B.length-1],U=B[0].row,te=H.row+H.rowspan;return(se=>{const we=O(se,De=>Lv(De).type),Ie=st(we,"header"),Ze=st(we,"footer");if(Ie||Ze){const De=st(we,"body");return!Ie||De||Ze?Ie||De||!Ze?ae.none():ae.some("footer"):ae.some("header")}return ae.some("body")})(T.all.slice(U,te))}).getOr("")},Ax=(y,_)=>y.dispatch("NewRow",{node:_}),Yv=(y,_)=>y.dispatch("NewCell",{node:_}),zd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},l0={structure:!1,style:!0},vi={structure:!0,style:!1},Fr={structure:!0,style:!0},Nf=(y,_)=>Gu(y)?Ku(_):N(y)?_r(_):sp(_),Tx=(y,_,T)=>{const B=Ze=>Ft(bs(Ze))==="table",H=Pd(y),U=Rv(y)?G:up,te=Ze=>{switch(Rm(y)){case"section":return Ni();case"sectionCells":return CC();case"cells":return _C();default:return((De,Pe)=>{var Ve;switch((Ve=Ro(De),Q(Ve.all,rt=>{const at=Lv(rt);return at.type==="header"?ae.from(at.subType):ae.none()})).getOr(Pe)){case"section":return Ii();case"sectionCells":return Zt();case"cells":return Bm()}})(Ze,"section")}},se=(Ze,De,Pe,Ve)=>(rt,at,Ot=!1)=>{Sr(rt);const It=Kt.fromDom(y.getDoc()),Tt=Qs(Pe,It,H),Pt={sizing:Nf(y,rt),resize:Rv(y)?Yu():K1(),section:te(rt)};return De(rt)?Ze(rt,at,Tt,Pt).bind(Gt=>{_.refresh(rt.dom),Ke(Gt.newRows,lt=>{Ax(y,lt.dom)}),Ke(Gt.newCells,lt=>{Yv(y,lt.dom)});const Qt=((lt,yn)=>yn.cursor.fold(()=>{const Xn=Or(lt);return fn(Xn).filter(qa).map(yo=>{T.clearSelectedCells(lt.dom);const so=y.dom.createRng();return so.selectNode(yo.dom),y.selection.setRng(so),fs(yo,"data-mce-selected","1"),so})},Xn=>{const yo=lx(cp,Xn),so=y.dom.createRng();return so.setStart(yo.element.dom,yo.offset),so.setEnd(yo.element.dom,yo.offset),y.selection.setRng(so),T.clearSelectedCells(lt.dom),ae.some(so)}))(rt,Gt);return qa(rt)&&(Sr(rt),Ot||zd(y,rt.dom,Ve)),Qt.map(lt=>({rng:lt,effect:Ve}))}):ae.none()},we=se(wx,Ze=>!B(y)||uu(Ze).rows>1,G,vi),Ie=se(s0,Ze=>!B(y)||uu(Ze).columns>1,G,vi);return{deleteRow:we,deleteColumn:Ie,insertRowsBefore:se(o0,ye,G,vi),insertRowsAfter:se(Qg,ye,G,vi),insertColumnsBefore:se(Bc,ye,U,vi),insertColumnsAfter:se(mE,ye,U,vi),mergeCells:se(gE,ye,G,vi),unmergeCells:se(qv,ye,G,vi),pasteColsBefore:se(eh,ye,G,vi),pasteColsAfter:se(hE,ye,G,vi),pasteRowsBefore:se(pE,ye,G,vi),pasteRowsAfter:se(If,ye,G,vi),pasteCells:se(Ex,ye,G,Fr),makeCellsHeader:se(kx,ye,G,vi),unmakeCellsHeader:se(AC,ye,G,vi),makeColumnsHeader:se(r0,ye,G,vi),unmakeColumnsHeader:se(Cx,ye,G,vi),makeRowsHeader:se(_x,ye,G,vi),makeRowsBody:se(i0,ye,G,vi),makeRowsFooter:se(Sx,ye,G,vi),getTableRowType:TC,getTableCellType:a0,getTableColType:zm}},c0=(y,_,T)=>{const B=wr(y,_,1);T===1||B<=1?vo(y,_):fs(y,_,Math.min(T,B))},Ki=(y,_)=>T=>{const B=T.column+T.colspan-1,H=T.column;return B>=y&&H<_},nl=Fm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),th=(y,_,T)=>{const B=T.substring(0,T.length-y.length),H=parseFloat(B);return B===H.toString()?_(H):nl.invalid(T)},Pf={...nl,from:y=>sn(y,"%")?th("%",nl.percent,y):sn(y,"px")?th("px",nl.pixels,y):nl.invalid(y)},Hm=(y,_,T)=>{const B=Pf.from(T),H=Mt(y,U=>U==="0px")?((U,te)=>{const se=U.fold(()=>X(""),we=>X(we/te+"px"),()=>X(100/te+"%"));return Le(te,se)})(B,y.length):((U,te,se)=>U.fold(()=>te,we=>((Ie,Ze,De)=>{const Pe=De/Ze;return O(Ie,Ve=>Pf.from(Ve).fold(()=>Ve,rt=>rt*Pe+"px",rt=>rt/100*De+"px"))})(te,se,we),we=>((Ie,Ze)=>O(Ie,De=>Pf.from(De).fold(()=>De,Pe=>Pe/Ze*100+"%",Pe=>Pe+"%")))(te,se)))(B,y,_);return Ox(H)},u0=(y,_)=>y.length===0?_:Jt(y,(T,B)=>Pf.from(B).fold(X(0),ne,ne)+T,0),OC=(y,_)=>Pf.from(y).fold(X(y),T=>T+_+"px",T=>T+_+"%"),Ox=y=>{if(y.length===0)return y;const _=Jt(y,(B,H)=>{const U=Pf.from(H).fold(()=>({value:H,remainder:0}),te=>((se,we)=>{const Ie=Math.floor(se);return{value:Ie+"px",remainder:se-Ie}})(te),te=>({value:te+"%",remainder:0}));return{output:[U.value].concat(B.output),remainder:B.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([OC(T[T.length-1],Math.round(_.remainder))])},$m=Pf.from,Gs=(y,_,T)=>{const B=Ro(y),H=B.all,U=Bn(B),te=kc(B);_.each(se=>{const we=$m(se).fold(X("px"),X("px"),X("%")),Ie=gl(y),Ze=((Pe,Ve)=>hi(Pe,Ve,Ba,op))(B,y),De=Hm(Ze,Ie,se);Ec(B)?((Pe,Ve,rt)=>{Ke(Ve,(at,Ot)=>{const It=u0([Pe[Ot]],Il());_o(at.element,"width",It+rt)})})(De,te,we):((Pe,Ve,rt)=>{Ke(Ve,at=>{const Ot=Pe.slice(at.column,at.colspan+at.column),It=u0(Ot,Il());_o(at.element,"width",It+rt)})})(De,U,we),_o(y,"width",se)}),T.each(se=>{const we=Id(y),Ie=((Ze,De)=>Wi(Ze,De,Ea,op))(B,y);((Ze,De,Pe)=>{Ke(Pe,Ve=>{fl(Ve.element,"height")}),Ke(De,(Ve,rt)=>{_o(Ve.element,"height",Ze[rt])})})(Hm(Ie,we,se),H,U),_o(y,"height",se)})},d0=y=>oc(y).exists(_=>wi.test(_)),fr=y=>oc(y).exists(_=>Wn.test(_)),Ju=y=>oc(y).isNone(),fu=y=>{vo(y,"width"),vo(y,"height")},nh=y=>{const _=wf(y);Gs(y,ae.some(_),ae.none()),fu(y)},bl=y=>{const _=(T=>gl(T)+"px")(y);Gs(y,ae.some(_),ae.none()),fu(y)},fa=y=>{fl(y,"width");const _=Sc(y),T=_.length>0?_:Or(y);Ke(T,B=>{fl(B,"width"),fu(B)}),fu(y)},Um={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xv=(y,_,T,B)=>Le(y,H=>((U,te,se,we)=>{const Ie=Kt.fromTag("tr");for(let Ze=0;Ze<U;Ze++){const De=Kt.fromTag(we<te||Ze<se?"th":"td");Ze<se&&fs(De,"scope","row"),we<te&&fs(De,"scope","col"),hr(De,Kt.fromTag("br")),hr(Ie,De)}return Ie})(_,T,B,H)),oh=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},Jv=(y,_,T,B,H)=>{const U=(se=>{const we=se.options,Ie=we.get("table_default_styles");return we.isSet("table_default_styles")?Ie:((Ze,De)=>W(Ze)||!Re(Ze)?De:N(Ze)?{...De,width:au(Ze)}:{...De,width:jl})(se,Ie)})(y),te={styles:U,attributes:Rt(y),colGroups:jn(y)};return y.undoManager.ignore(()=>{const se=((Ie,Ze,De,Pe,Ve,rt=Um)=>{const at=Kt.fromTag("table"),Ot=Ve!=="cells";Rl(at,rt.styles),Ar(at,rt.attributes),rt.colGroups&&hr(at,(Gt=>{const Qt=Kt.fromTag("colgroup");return Le(Gt,()=>hr(Qt,Kt.fromTag("col"))),Qt})(Ze));const It=Math.min(Ie,De);if(Ot&&De>0){const Gt=Kt.fromTag("thead");hr(at,Gt);const Qt=Xv(De,Ze,Ve==="sectionCells"?It:0,Pe);Ol(Gt,Qt)}const Tt=Kt.fromTag("tbody");hr(at,Tt);const Pt=Xv(Ot?Ie-It:Ie,Ze,Ot?0:De,Pe);return Ol(Tt,Pt),at})(T,_,H,B,Rm(y),te);fs(se,"data-mce-id","__mce");const we=(Ie=>{const Ze=Kt.fromTag("div"),De=Kt.fromDom(Ie.dom.cloneNode(!0));return hr(Ze,De),(Pe=>Pe.dom.innerHTML)(Ze)})(se);y.insertContent(we),y.addVisual()}),ut(bs(y),'table[data-mce-id="__mce"]').map(se=>(N(y)?bl(se):W(y)?fa(se):(Gu(y)||(we=>g(we)&&we.indexOf("%")!==-1)(U.width))&&nh(se),Sr(se),vo(se,"data-mce-id"),((we,Ie)=>{Ke(Ns(Ie,"tr"),Ze=>{Ax(we,Ze.dom),Ke(Ns(Ze,"th,td"),De=>{Yv(we,De.dom)})})})(y,se),((we,Ie)=>{ut(Ie,"td,th").each(le(oh,we))})(y,se),se.dom)).getOrNull()};var sh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const DC="x-tinymce/dom-table-",Dx=DC+"rows",Rx=DC+"columns",RC=y=>{const _=sh.FakeClipboardItem(y);sh.write([_])},ma=y=>{var _;const T=(_=sh.read())!==null&&_!==void 0?_:[];return Q(T,B=>ae.from(B.getType(y)))},Wm=y=>{ma(y).isSome()&&sh.clear()},IC=y=>{y.fold(ol,_=>RC({[Dx]:_}))},Lc=()=>ma(Dx),ol=()=>Wm(Dx),rh=y=>{y.fold(NC,_=>RC({[Rx]:_}))},vp=()=>ma(Rx),NC=()=>Wm(Rx),Nr=y=>Tf(Oc(y),Zr(y)).filter(Z1),Pr=(y,_)=>{const T=Zr(y),B=De=>ml(De,T),H=De=>(Pe=>pr(Oc(Pe),Zr(Pe)).filter(Z1))(y).bind(Pe=>B(Pe).map(Ve=>De(Ve,Pe))),U=De=>{y.focus()},te=(De,Pe=!1)=>H((Ve,rt)=>{const at=ko(Rc(y),Ve,rt);De(Ve,at,Pe).each(U)}),se=()=>H((De,Pe)=>((Ve,rt,at)=>{const Ot=Ro(Ve);return Ld(Ot,rt).bind(It=>{const Tt=kr(Ot,at,!1),Pt=Js(Tt).rows.slice(It[0].row,It[It.length-1].row+It[It.length-1].rowspan),Gt=Ye(Pt,lt=>{const yn=$t(lt.cells,Xn=>!Xn.isLocked);return yn.length>0?[{...lt,cells:yn}]:[]}),Qt=Vv(Gt);return un(Qt.length>0,Qt)}).map(It=>O(It,Tt=>{const Pt=wm(Tt.element);return Ke(Tt.cells,Gt=>{const Qt=qc(Gt.element);Bd(Qt,"colspan",Gt.colspan,1),Bd(Qt,"rowspan",Gt.rowspan,1),hr(Pt,Qt)}),Pt}))})(De,ko(Rc(y),De,Pe),Qs(G,Kt.fromDom(y.getDoc()),ae.none()))),we=()=>H((De,Pe)=>((Ve,rt)=>{const at=Ro(Ve);return ji(at,rt).map(Ot=>{const It=Ot[Ot.length-1],Tt=Ot[0].column,Pt=It.column+It.colspan,Gt=((lt,yn,Xn)=>{if(Ec(lt)){const yo=$t(kc(lt),Ki(yn,Xn)),so=O(yo,bo=>{const Go=qc(bo.element);return c0(Go,"span",Xn-yn),Go}),Jn=Kt.fromTag("colgroup");return Ol(Jn,so),[Jn]}return[]})(at,Tt,Pt),Qt=((lt,yn,Xn)=>O(lt.all,yo=>{const so=$t(yo.cells,Ki(yn,Xn)),Jn=O(so,Go=>{const oi=qc(Go.element);return c0(oi,"colspan",Xn-yn),oi}),bo=Kt.fromTag("tr");return Ol(bo,Jn),bo}))(at,Tt,Pt);return[...Gt,...Qt]})})(De,ko(Rc(y),De,Pe))),Ie=(De,Pe)=>Pe().each(Ve=>{const rt=O(Ve,at=>qc(at));H((at,Ot)=>{const It=Ds(Kt.fromDom(y.getDoc())),Tt=((Pt,Gt,Qt,lt)=>({selection:Ef(Pt),clipboard:Qt,generators:lt}))(Rc(y),0,rt,It);De(at,Tt).each(U)})}),Ze=De=>(Pe,Ve)=>((rt,at)=>Be(rt,at)?ae.from(rt[at]):ae.none())(Ve,"type").each(rt=>{te(De(rt),Ve.no_events)});tn({mceTableSplitCells:()=>te(_.unmergeCells),mceTableMergeCells:()=>te(_.mergeCells),mceTableInsertRowBefore:()=>te(_.insertRowsBefore),mceTableInsertRowAfter:()=>te(_.insertRowsAfter),mceTableInsertColBefore:()=>te(_.insertColumnsBefore),mceTableInsertColAfter:()=>te(_.insertColumnsAfter),mceTableDeleteCol:()=>te(_.deleteColumn),mceTableDeleteRow:()=>te(_.deleteRow),mceTableCutCol:()=>we().each(De=>{rh(De),te(_.deleteColumn)}),mceTableCutRow:()=>se().each(De=>{IC(De),te(_.deleteRow)}),mceTableCopyCol:()=>we().each(De=>rh(De)),mceTableCopyRow:()=>se().each(De=>IC(De)),mceTablePasteColBefore:()=>Ie(_.pasteColsBefore,vp),mceTablePasteColAfter:()=>Ie(_.pasteColsAfter,vp),mceTablePasteRowBefore:()=>Ie(_.pasteRowsBefore,Lc),mceTablePasteRowAfter:()=>Ie(_.pasteRowsAfter,Lc),mceTableDelete:()=>Nr(y).each(De=>{ml(De,T).filter(Me(T)).each(Pe=>{const Ve=Kt.fromText("");if(Lu(Pe,Ve),lr(Pe),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const rt=y.dom.createRng();rt.setStart(Ve.dom,0),rt.setEnd(Ve.dom,0),y.selection.setRng(rt),y.nodeChanged()}})}),mceTableCellToggleClass:(De,Pe)=>{H(Ve=>{const rt=Rc(y),at=Mt(rt,It=>y.formatter.match("tablecellclass",{value:Pe},It.dom)),Ot=at?y.formatter.remove:y.formatter.apply;Ke(rt,It=>Ot("tablecellclass",{value:Pe},It.dom)),zd(y,Ve.dom,l0)})},mceTableToggleClass:(De,Pe)=>{H(Ve=>{y.formatter.toggle("tableclass",{value:Pe},Ve.dom),zd(y,Ve.dom,l0)})},mceTableToggleCaption:()=>{Nr(y).each(De=>{ml(De,T).each(Pe=>{mt(Pe,"caption").fold(()=>{const Ve=Kt.fromTag("caption");hr(Ve,Kt.fromText("Caption")),((rt,at,Ot)=>{Bu(rt,0).fold(()=>{hr(rt,at)},It=>{rn(It,at)})})(Pe,Ve),y.selection.setCursorLocation(Ve.dom,0)},Ve=>{cs("caption")(De)&&Ul("td",Pe).each(rt=>y.selection.setCursorLocation(rt.dom,0)),lr(Ve)}),zd(y,Pe.dom,vi)})})},mceTableSizingMode:(De,Pe)=>(Ve=>Nr(y).each(rt=>{W(y)||N(y)||Gu(y)||ml(rt,T).each(at=>{Ve!=="relative"||d0(at)?Ve!=="fixed"||fr(at)?Ve!=="responsive"||Ju(at)||fa(at):bl(at):nh(at),Sr(at),zd(y,at.dom,vi)})}))(Pe),mceTableCellType:Ze(De=>De==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:Ze(De=>De==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:Ze(De=>{switch(De){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(De,Pe)=>y.addCommand(Pe,De)),y.addCommand("mceInsertTable",(De,Pe)=>{((Ve,rt,at,Ot={})=>{const It=Tt=>$(Tt)&&Tt>0;if(It(rt)&&It(at)){const Tt=Ot.headerRows||0,Pt=Ot.headerColumns||0;return Jv(Ve,at,rt,Pt,Tt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Pe.rows,Pe.columns,Pe.options)}),y.addCommand("mceTableApplyCellStyle",(De,Pe)=>{const Ve=Ot=>"tablecell"+Ot.toLowerCase().replace("-","");if(!v(Pe))return;const rt=$t(Rc(y),Z1);if(rt.length===0)return;const at=((Ot,It)=>{const Tt={};return((Pt,Gt,Qt,lt)=>{tn(Pt,(yn,Xn)=>{(Gt(yn,Xn)?Qt:lt)(yn,Xn)})})(Ot,It,(Pt=>(Gt,Qt)=>{Pt[Qt]=Gt})(Tt),G),Tt})(Pe,(Ot,It)=>y.formatter.has(Ve(It))&&g(Ot));(Ot=>{for(const It in Ot)if(eo.call(Ot,It))return!1;return!0})(at)||(tn(at,(Ot,It)=>{const Tt=Ve(It);Ke(rt,Pt=>{Ot===""?y.formatter.remove(Tt,{value:null},Pt.dom,!0):y.formatter.apply(Tt,{value:Ot},Pt.dom)})}),B(rt[0]).each(Ot=>zd(y,Ot.dom,l0)))})},ni=Fm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ms={before:ni.before,on:ni.on,after:ni.after,cata:(y,_,T,B)=>y.fold(_,T,B),getStart:y=>y.fold(ne,ne,ne)},Er=(y,_)=>({selection:y,kill:_}),Gr=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},f0=(y,_)=>{const T=y.document.createRange();return m0(T,_),T},m0=(y,_)=>y.selectNodeContents(_.dom),Ix=(y,_,T)=>{const B=y.document.createRange();var H;return H=B,_.fold(U=>{H.setStartBefore(U.dom)},(U,te)=>{H.setStart(U.dom,te)},U=>{H.setStartAfter(U.dom)}),((U,te)=>{te.fold(se=>{U.setEndBefore(se.dom)},(se,we)=>{U.setEnd(se.dom,we)},se=>{U.setEndAfter(se.dom)})})(B,T),B},Qv=(y,_,T,B,H)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(B.dom,H),U},Nx=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),ih=Fm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),g0=(y,_,T)=>_(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset),h0=(y,_)=>{const T=((B,H)=>H.match({domRange:U=>({ltr:X(U),rtl:ae.none}),relative:(U,te)=>({ltr:Oi(()=>Ix(B,U,te)),rtl:Oi(()=>ae.some(Ix(B,te,U)))}),exact:(U,te,se,we)=>({ltr:Oi(()=>Qv(B,U,te,se,we)),rtl:Oi(()=>ae.some(Qv(B,se,we,U,te)))})}))(y,_);return((B,H)=>{const U=H.ltr();return U.collapsed?H.rtl().filter(te=>te.collapsed===!1).map(te=>ih.rtl(Kt.fromDom(te.endContainer),te.endOffset,Kt.fromDom(te.startContainer),te.startOffset)).getOrThunk(()=>g0(0,ih.ltr,U)):g0(0,ih.ltr,U)})(0,T)},Px=(y,_)=>h0(y,_).match({ltr:(T,B,H,U)=>{const te=y.document.createRange();return te.setStart(T.dom,B),te.setEnd(H.dom,U),te},rtl:(T,B,H,U)=>{const te=y.document.createRange();return te.setStart(H.dom,U),te.setEnd(T.dom,B),te}});ih.ltr,ih.rtl;const eb=(y,_,T,B)=>({start:y,soffset:_,finish:T,foffset:B}),yl=(y,_,T,B)=>({start:Ms.on(y,_),finish:Ms.on(T,B)}),Mx=(y,_)=>{const T=Px(y,_);return eb(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset)},za=yl,tb=(y,_,T,B,H)=>$s(T,B)?ae.none():lu(T,B,_).bind(U=>{const te=U.boxes.getOr([]);return te.length>1?(H(y,te,U.start,U.finish),ae.some(Er(ae.some(za(T,0,T,Ur(T))),!0))):ae.none()}),ah=(y,_)=>({item:y,mode:_}),mu=(y,_,T,B=qr)=>y.property().parent(_).map(H=>ah(H,B)),qr=(y,_,T,B=Zm)=>T.sibling(y,_).map(H=>ah(H,B)),Zm=(y,_,T,B=Zm)=>{const H=y.property().children(_);return T.first(H).map(U=>ah(U,B))},Bx=[{current:mu,next:qr,fallback:ae.none()},{current:qr,next:Zm,fallback:ae.some(mu)},{current:Zm,next:Zm,fallback:ae.some(qr)}],Lx=(y,_,T,B,H=Bx)=>pt(H,U=>U.current===T).bind(U=>U.current(y,_,B,U.next).orThunk(()=>U.fallback.bind(te=>Lx(y,_,te,B)))),nb=(y,_,T,B,H,U)=>Lx(y,_,B,H).bind(te=>U(te.item)?ae.none():T(te.item)?ae.some(te.item):nb(y,te.item,T,te.mode,H,U)),Hd=y=>_=>y.property().children(_).length===0,vE=(y,_,T,B)=>nb(y,_,T,qr,{sibling:(H,U)=>H.query().prevSibling(U),first:H=>H.length>0?ae.some(H[H.length-1]):ae.none()},B),ob=(y,_,T,B)=>nb(y,_,T,qr,{sibling:(H,U)=>H.query().nextSibling(U),first:H=>H.length>0?ae.some(H[0]):ae.none()},B),jm=_f(),PC=(y,_)=>((T,B,H)=>vE(T,B,Hd(T),H))(jm,y,_),sb=(y,_)=>((T,B,H)=>ob(T,B,Hd(T),H))(jm,y,_),rb=Fm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),p0=y=>Je(y,"tr"),bp={...rb,verify:(y,_,T,B,H,U,te)=>Je(B,"td,th",te).bind(se=>Je(_,"td,th",te).map(we=>$s(se,we)?$s(B,se)&&Ur(se)===H?U(we):rb.none("in same cell"):Sf(p0,[se,we]).fold(()=>((Ie,Ze,De)=>{const Pe=Ie.getRect(Ze),Ve=Ie.getRect(De);return Ve.right>Pe.left&&Ve.left<Pe.right})(y,we,se)?rb.success():U(we),Ie=>U(we)))).getOr(rb.none("default")),cata:(y,_,T,B,H)=>y.fold(_,T,B,H)},v0=cs("br"),Ha=(y,_,T)=>_(y,T).bind(B=>wo(B)&&Dm(B).trim().length===0?Ha(B,_,T):ae.some(B)),Fx=(y,_,T,B)=>((H,U)=>Bu(H,U).filter(v0).orThunk(()=>Bu(H,U-1).filter(v0)))(_,T).bind(H=>B.traverse(H).fold(()=>Ha(H,B.gather,y).map(B.relative),U=>(te=>ul(te).bind(se=>{const we=Ti(se);return((Ie,Ze)=>Lt(Ie,le($s,Ze)))(we,te).map(Ie=>((Ze,De,Pe,Ve)=>({parent:Ze,children:De,element:Pe,index:Ve}))(se,we,te,Ie))}))(U).map(te=>Ms.on(te.parent,te.index)))),$d=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),ib=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Qu=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),ab=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),lb=(y,_)=>ae.some(y.getRect(_)),Km=(y,_,T)=>On(_)?lb(y,_).map(ab):wo(_)?((B,H,U)=>U>=0&&U<Ur(H)?B.getRangedRect(H,U,H,U+1):U>0?B.getRangedRect(H,U-1,H,U):ae.none())(y,_,T).map(ab):ae.none(),lh=(y,_)=>On(_)?lb(y,_).map(ab):wo(_)?y.getRangedRect(_,0,_,Ur(_)).map(ab):ae.none(),Fc=Fm([{none:[]},{retry:["caret"]}]),cb=(y,_,T)=>nt(_,Xg).fold(K,B=>lh(y,B).exists(H=>((U,te)=>U.left<te.left||Math.abs(te.right-U.left)<1||U.left>te.right)(T,H))),bE={point:y=>y.bottom,adjuster:(y,_,T,B,H)=>{const U=$d(H,5);return Math.abs(T.bottom-B.bottom)<1||T.top>H.bottom?Fc.retry(U):T.top===H.bottom?Fc.retry($d(H,1)):cb(y,_,H)?Fc.retry(Qu(U,5,0)):Fc.none()},move:$d,gather:sb},ac=(y,_,T,B,H)=>H===0?ae.some(B):((U,te,se)=>U.elementFromPoint(te,se).filter(we=>Ft(we)==="table").isSome())(y,B.left,_.point(B))?((U,te,se,we,Ie)=>ac(U,te,se,te.move(we,5),Ie))(y,_,T,B,H-1):y.situsFromPoint(B.left,_.point(B)).bind(U=>U.start.fold(ae.none,te=>lh(y,te).bind(se=>_.adjuster(y,te,se,T,B).fold(ae.none,we=>ac(y,_,T,we,H-1))).orThunk(()=>ae.some(B)),ae.none)),Ud=(y,_,T)=>{const B=y.move(T,5),H=ac(_,y,T,B,100).getOr(B);return((U,te,se)=>U.point(te)>se.getInnerHeight()?ae.some(U.point(te)-se.getInnerHeight()):U.point(te)<0?ae.some(-U.point(te)):ae.none())(y,H,_).fold(()=>_.situsFromPoint(H.left,y.point(H)),U=>(_.scrollBy(0,U),_.situsFromPoint(H.left,y.point(H)-U)))},Vc={tryUp:le(Ud,{point:y=>y.top,adjuster:(y,_,T,B,H)=>{const U=ib(H,5);return Math.abs(T.top-B.top)<1||T.bottom<H.top?Fc.retry(U):T.bottom===H.top?Fc.retry(ib(H,1)):cb(y,_,H)?Fc.retry(Qu(U,5,0)):Fc.none()},move:ib,gather:PC}),tryDown:le(Ud,bE),getJumpSize:X(5)},Vx=(y,_,T)=>y.getSelection().bind(B=>((H,U,te,se)=>(v0(U)?((Ie,Ze,De)=>De.traverse(Ze).orThunk(()=>Ha(Ze,De.gather,Ie)).map(De.relative))(H,U,se):Fx(H,U,te,se)).map(Ie=>({start:Ie,finish:Ie})))(_,B.finish,B.foffset,T).fold(()=>ae.some(fo(B.finish,B.foffset)),H=>{const U=y.fromSitus(H);return te=bp.verify(y,B.finish,B.foffset,U.finish,U.foffset,T.failure,_),bp.cata(te,se=>ae.none(),()=>ae.none(),se=>ae.some(fo(se,0)),se=>ae.some(fo(se,Ur(se))));var te})),_i=(y,_,T,B,H,U)=>U===0?ae.none():yE(y,_,T,B,H).bind(te=>{const se=y.fromSitus(te),we=bp.verify(y,T,B,se.finish,se.foffset,H.failure,_);return bp.cata(we,()=>ae.none(),()=>ae.some(te),Ie=>$s(T,Ie)&&B===0?zc(y,T,B,ib,H):_i(y,_,Ie,0,H,U-1),Ie=>$s(T,Ie)&&B===Ur(Ie)?zc(y,T,B,$d,H):_i(y,_,Ie,Ur(Ie),H,U-1))}),zc=(y,_,T,B,H)=>Km(y,_,T).bind(U=>xl(y,H,B(U,Vc.getJumpSize()))),xl=(y,_,T)=>{const B=$1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?_.retry(y,T):ae.none()},yE=(y,_,T,B,H)=>Km(y,T,B).bind(U=>xl(y,H,U)),Mf=(y,_,T,B,H)=>Je(B,"td,th",_).bind(U=>Je(U,"table",_).bind(te=>((se,we)=>Te(se,Ie=>ul(Ie).exists(Ze=>$s(Ze,we)),void 0).isSome())(H,te)?((se,we,Ie)=>Vx(se,we,Ie).bind(Ze=>_i(se,we,Ze.element,Ze.offset,Ie,20).map(se.fromSitus)))(y,_,T).bind(se=>Je(se.finish,"td,th",_).map(we=>({start:U,finish:we,range:se}))):ae.none())),Wd=(y,_,T,B,H,U)=>U(B,_).orThunk(()=>Mf(y,_,T,B,H).map(te=>{const se=te.range;return Er(ae.some(za(se.start,se.soffset,se.finish,se.foffset)),!0)})),yp=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(B=>{const H=Ns(B,"tr");return $s(T,H[0])?((U,te,se)=>vE(jm,U,we=>iu(we).isSome(),se))(B,0,_).map(U=>{const te=Ur(U);return Er(ae.some(za(U,te,U,te)),!0)}):ae.none()})),Gm=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(B=>{const H=Ns(B,"tr");return $s(T,H[H.length-1])?((U,te,se)=>ob(jm,U,we=>$g(we).isSome(),se))(B,0,_).map(U=>Er(ae.some(za(U,0,U,0)),!0)):ae.none()})),Kl=(y,_,T,B,H,U,te)=>Mf(y,T,B,H,U).bind(se=>tb(_,T,se.start,se.finish,te)),b0=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},y0=()=>{const y=(_=>{const T=b0(ae.none()),B=()=>T.get().each(_);return{clear:()=>{B(),T.set(ae.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:H=>{B(),T.set(ae.some(H))}}})(G);return{...y,on:_=>y.get().each(_)}},ub=(y,_)=>Je(y,"td,th",_),x0=y=>Mu(y).exists(lo),MC={traverse:Wl,gather:sb,relative:Ms.before,retry:Vc.tryDown,failure:bp.failedDown},db={traverse:ao,gather:PC,relative:Ms.before,retry:Vc.tryUp,failure:bp.failedUp},Zd=y=>_=>_===y,fb=Zd(38),ch=Zd(40),uh=y=>y>=37&&y<=40,Bf={isBackward:Zd(37),isForward:Zd(39)},Lf={isBackward:Zd(39),isForward:Zd(37)},mb=Fm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ff={domRange:mb.domRange,relative:mb.relative,exact:mb.exact,exactFromRange:y=>mb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:B=>Kt.fromDom(B.startContainer),relative:(B,H)=>Ms.getStart(B),exact:(B,H,U,te)=>B}))(y);return Kt.fromDom(_c(_).dom.defaultView)},range:eb},Vf=(y,_)=>{const T=Ft(y);return T==="input"?Ms.after(y):st(["br","img"],T)?_===0?Ms.before(y):Ms.after(y):Ms.on(y,_)},zf=y=>ae.from(y.getSelection()),dh=(y,_)=>{zf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},w0=(y,_,T,B,H)=>{const U=Qv(y,_,T,B,H);dh(y,U)},xp=(y,_)=>h0(y,_).match({ltr:(T,B,H,U)=>{w0(y,T,B,H,U)},rtl:(T,B,H,U)=>{zf(y).each(te=>{if(te.setBaseAndExtent)te.setBaseAndExtent(T.dom,B,H.dom,U);else if(te.extend)try{((se,we,Ie,Ze,De,Pe)=>{we.collapse(Ie.dom,Ze),we.extend(De.dom,Pe)})(0,te,T,B,H,U)}catch{w0(y,H,U,T,B)}else w0(y,H,U,T,B)})}}),C0=(y,_,T,B,H)=>{const U=((te,se,we,Ie)=>{const Ze=Vf(te,se),De=Vf(we,Ie);return Ff.relative(Ze,De)})(_,T,B,H);xp(y,U)},zx=(y,_,T)=>{const B=((H,U)=>{const te=H.fold(Ms.before,Vf,Ms.after),se=U.fold(Ms.before,Vf,Ms.after);return Ff.relative(te,se)})(_,T);xp(y,B)},wp=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return ae.some(eb(Kt.fromDom(_.startContainer),_.startOffset,Kt.fromDom(T.endContainer),T.endOffset))}return ae.none()},Si=y=>{if(y.anchorNode===null||y.focusNode===null)return wp(y);{const _=Kt.fromDom(y.anchorNode),T=Kt.fromDom(y.focusNode);return((B,H,U,te)=>{const se=((Ie,Ze,De,Pe)=>{const Ve=Pu(Ie).dom.createRange();return Ve.setStart(Ie.dom,Ze),Ve.setEnd(De.dom,Pe),Ve})(B,H,U,te),we=$s(B,U)&&H===te;return se.collapsed&&!we})(_,y.anchorOffset,T,y.focusOffset)?ae.some(eb(_,y.anchorOffset,T,y.focusOffset)):wp(y)}},Hx=(y,_,T=!0)=>{const B=(T?f0:Gr)(y,_);dh(y,B)},BC=y=>(_=>zf(_).filter(T=>T.rangeCount>0).bind(Si))(y).map(_=>Ff.exact(_.start,_.soffset,_.finish,_.foffset)),$x=(y,_,T)=>((B,H,U)=>((te,se,we)=>te.caretPositionFromPoint?((Ie,Ze,De)=>{var Pe;return ae.from((Pe=Ie.caretPositionFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,Ze,De)).bind(Ve=>{if(Ve.offsetNode===null)return ae.none();const rt=Ie.createRange();return rt.setStart(Ve.offsetNode,Ve.offset),rt.collapse(),ae.some(rt)})})(te,se,we):te.caretRangeFromPoint?((Ie,Ze,De)=>{var Pe;return ae.from((Pe=Ie.caretRangeFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,Ze,De))})(te,se,we):ae.none())(B.document,H,U).map(te=>eb(Kt.fromDom(te.startContainer),te.startOffset,Kt.fromDom(te.endContainer),te.endOffset)))(y,_,T),Ux=y=>({elementFromPoint:(_,T)=>Kt.fromPoint(Kt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,B,H)=>{const U=Ff.exact(_,T,B,H);return((te,se)=>(we=>{const Ie=we.getClientRects(),Ze=Ie.length>0?Ie[0]:we.getBoundingClientRect();return Ze.width>0||Ze.height>0?ae.some(Ze).map(Nx):ae.none()})(Px(te,se)))(y,U)},getSelection:()=>BC(y).map(_=>Mx(y,_)),fromSitus:_=>{const T=Ff.relative(_.start,_.finish);return Mx(y,T)},situsFromPoint:(_,T)=>$x(y,_,T).map(B=>yl(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(_=>{zf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{BC(y).each(T=>T.fold(B=>B.collapse(_),(B,H)=>{const U=_?B:H;zx(y,U,U)},(B,H,U,te)=>{const se=_?B:U,we=_?H:te;C0(y,se,we,se,we)}))},setSelection:_=>{C0(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{zx(y,_,T)},selectNode:_=>{Hx(y,_,!1)},selectContents:_=>{Hx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,H=T.body.scrollTop||T.documentElement.scrollTop;return Ja(B,H)})(Kt.fromDom(y.document)).top,scrollBy:(_,T)=>{((B,H,U)=>{const te=(U!==void 0?U.dom:document).defaultView;te&&te.scrollBy(B,H)})(_,T,Kt.fromDom(y.document))}}),Hf=(y,_)=>({rows:y,cols:_}),_0=y=>nt(y,An).exists(lo),gb=(y,_)=>_0(y)||_0(_),Wx=y=>y.dom.classList!==void 0,xE=(y,_)=>((T,B,H)=>{const U=((te,se)=>{const we=hn(te,se);return we===void 0||we===""?[]:we.split(" ")})(T,B).concat([H]);return fs(T,B,U.join(" ")),!0})(y,"class",_),$f=(y,_)=>{Wx(y)?y.dom.classList.add(_):xE(y,_)},hb=(y,_)=>Wx(y)&&y.dom.classList.contains(_),LC=()=>({tag:"none"}),FC=y=>({tag:"multiple",elements:y}),gu=y=>({tag:"single",element:y}),Zx=y=>{const _=Kt.fromDom((se=>{if(I(se.target)){const we=Kt.fromDom(se.target);if(On(we)&&I(we.dom.shadowRoot)&&se.composed&&se.composedPath){const Ie=se.composedPath();if(Ie)return fn(Ie)}}return ae.from(se.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),B=()=>y.preventDefault(),H=(U=B,te=T,(...se)=>U(te.apply(null,se)));var U,te;return((se,we,Ie,Ze,De,Pe,Ve)=>({target:se,x:we,y:Ie,stop:Ze,prevent:De,kill:Pe,raw:Ve}))(_,y.clientX,y.clientY,T,B,H,y)},S0=(y,_,T,B)=>{y.dom.removeEventListener(_,T,B)},VC=ye,fh=(y,_,T)=>((B,H,U,te)=>((se,we,Ie,Ze,De)=>{const Pe=((Ve,rt)=>at=>{Ve(at)&&rt(Zx(at))})(Ie,Ze);return se.dom.addEventListener(we,Pe,De),{unbind:le(S0,se,we,Pe,De)}})(B,H,U,te,!1))(y,_,VC,T),Cp=Zx,pb=y=>!hb(Kt.fromDom(y.target),"ephox-snooker-resizer-bar"),zC=(y,_)=>{const T=(H=Af.selectedSelector,{get:()=>Dc(Kt.fromDom(y.getBody()),H).fold(()=>pr(Oc(y),Zr(y)).fold(LC,gu),FC)}),B=((U,te,se)=>{const we=Pe=>{vo(Pe,U.selected),vo(Pe,U.firstSelected),vo(Pe,U.lastSelected)},Ie=Pe=>{fs(Pe,U.selected,"1")},Ze=Pe=>{De(Pe),se()},De=Pe=>{const Ve=Ns(Pe,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);Ke(Ve,we)};return{clearBeforeUpdate:De,clear:Ze,selectRange:(Pe,Ve,rt,at)=>{Ze(Pe),Ke(Ve,Ie),fs(rt,U.firstSelected,"1"),fs(at,U.lastSelected,"1"),te(Ve,rt,at)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(Af,(U,te,se)=>{ml(te).each(we=>{const Ie=O(U,Ve=>Ve.dom),Ze=Pd(y),De=Qs(G,Kt.fromDom(y.getDoc()),Ze),Pe=((Ve,rt,at)=>{const Ot=Ro(Ve);return Ld(Ot,rt).map(It=>{const Tt=kr(Ot,at,!1),{rows:Pt}=Js(Tt),Gt=((lt,yn)=>{const Xn=lt.slice(0,yn[yn.length-1].row+1),yo=Vv(Xn);return Ye(yo,so=>{const Jn=so.cells.slice(0,yn[yn.length-1].column+1);return O(Jn,bo=>bo.element)})})(Pt,It),Qt=((lt,yn)=>{const Xn=lt.slice(yn[0].row+yn[0].rowspan-1,lt.length),yo=Vv(Xn);return Ye(yo,so=>{const Jn=so.cells.slice(yn[0].column+yn[0].colspan-1,so.cells.length);return O(Jn,bo=>bo.element)})})(Pt,It);return{upOrLeftCells:Gt,downOrRightCells:Qt}})})(we,{selection:Rc(y)},De).map(Ve=>Oo(Ve,rt=>O(rt,at=>at.dom))).getOrUndefined();((Ve,rt,at,Ot,It)=>{Ve.dispatch("TableSelectionChange",{cells:rt,start:at,finish:Ot,otherCells:It})})(y,Ie,te.dom,se.dom,Pe)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var H;return y.on("init",U=>{const te=y.getWin(),se=bs(y),we=Zr(y),Ie=((at,Ot,It,Tt)=>{const Pt=((Gt,Qt,lt,yn)=>{const Xn=y0(),yo=Xn.clear,so=Jn=>{Xn.on(bo=>{yn.clearBeforeUpdate(Qt),ub(Jn.target,lt).each(Go=>{lu(bo,Go,lt).each(oi=>{const Ta=oi.boxes.getOr([]);if(Ta.length===1){const Gi=Ta[0],lc=Tn(Gi)==="false",Jm=Wt(po(Jn.target),Gi,$s);lc&&Jm&&yn.selectRange(Qt,Ta,Gi,Gi)}else Ta.length>1&&(yn.selectRange(Qt,Ta,oi.start,oi.finish),Gt.selectContents(Go))})})})};return{clearstate:yo,mousedown:Jn=>{yn.clear(Qt),ub(Jn.target,lt).filter(x0).each(Xn.set)},mouseover:Jn=>{so(Jn)},mouseup:Jn=>{so(Jn),yo()}}})(Ux(at),Ot,It,Tt);return{clearstate:Pt.clearstate,mousedown:Pt.mousedown,mouseover:Pt.mouseover,mouseup:Pt.mouseup}})(te,se,we,B),Ze=((at,Ot,It,Tt)=>{const Pt=Ux(at),Gt=()=>(Tt.clear(Ot),ae.none());return{keydown:(Qt,lt,yn,Xn,yo,so)=>{const Jn=Qt.raw,bo=Jn.which,Go=Jn.shiftKey===!0;return Bv(Ot,Tt.selectedSelector).fold(()=>(uh(bo)&&!Go&&Tt.clearBeforeUpdate(Ot),uh(bo)&&Go&&!gb(lt,Xn)?ae.none:ch(bo)&&Go?le(Kl,Pt,Ot,It,MC,Xn,lt,Tt.selectRange):fb(bo)&&Go?le(Kl,Pt,Ot,It,db,Xn,lt,Tt.selectRange):ch(bo)?le(Wd,Pt,It,MC,Xn,lt,Gm):fb(bo)?le(Wd,Pt,It,db,Xn,lt,yp):ae.none),Ta=>{const Gi=lc=>()=>Q(lc,Oa=>((ed,Sp,Zf,kp,R0)=>ua(kp,ed,Sp,R0.firstSelectedSelector,R0.lastSelectedSelector).map(jf=>(R0.clearBeforeUpdate(Zf),R0.selectRange(Zf,jf.boxes,jf.start,jf.finish),jf.boxes)))(Oa.rows,Oa.cols,Ot,Ta,Tt)).fold(()=>kf(Ot,Tt.firstSelectedSelector,Tt.lastSelectedSelector).map(Oa=>{const ed=ch(bo)||so.isForward(bo)?Ms.after:Ms.before;return Pt.setRelativeSelection(Ms.on(Oa.first,0),ed(Oa.table)),Tt.clear(Ot),Er(ae.none(),!0)}),Oa=>ae.some(Er(ae.none(),!0)));return uh(bo)&&Go&&!gb(lt,Xn)?ae.none:ch(bo)&&Go?Gi([Hf(1,0)]):fb(bo)&&Go?Gi([Hf(-1,0)]):so.isBackward(bo)&&Go?Gi([Hf(0,-1),Hf(-1,0)]):so.isForward(bo)&&Go?Gi([Hf(0,1),Hf(1,0)]):uh(bo)&&!Go?Gt:ae.none})()},keyup:(Qt,lt,yn,Xn,yo)=>Bv(Ot,Tt.selectedSelector).fold(()=>{const so=Qt.raw,Jn=so.which;return so.shiftKey===!0&&uh(Jn)&&gb(lt,Xn)?((bo,Go,oi,Ta,Gi,lc,Jm)=>$s(oi,Gi)&&Ta===lc?ae.none():Je(oi,"td,th",Go).bind(Oa=>Je(Gi,"td,th",Go).bind(ed=>tb(bo,Go,Oa,ed,Jm))))(Ot,It,lt,yn,Xn,yo,Tt.selectRange):ae.none()},ae.none)}})(te,se,we,B),De=((at,Ot,It,Tt)=>{const Pt=Ux(at);return(Gt,Qt)=>{Tt.clearBeforeUpdate(Ot),lu(Gt,Qt,It).each(lt=>{const yn=lt.boxes.getOr([]);Tt.selectRange(Ot,yn,lt.start,lt.finish),Pt.selectContents(Qt),Pt.collapseSelection()})}})(te,se,we,B);y.on("TableSelectorChange",at=>De(at.start,at.finish));const Pe=(at,Ot)=>{(It=>It.raw.shiftKey===!0)(at)&&(Ot.kill&&at.kill(),Ot.selection.each(It=>{const Tt=Ff.relative(It.start,It.finish),Pt=Px(te,Tt);y.selection.setRng(Pt)}))},Ve=at=>at.button===0,rt=(()=>{const at=b0(Kt.fromDom(se)),Ot=b0(0);return{touchEnd:It=>{const Tt=Kt.fromDom(It.target);if(cs("td")(Tt)||cs("th")(Tt)){const Pt=at.get(),Gt=Ot.get();$s(Pt,Tt)&&It.timeStamp-Gt<300&&(It.preventDefault(),De(Tt,Tt))}at.set(Tt),Ot.set(It.timeStamp)}}})();y.on("dragstart",at=>{Ie.clearstate()}),y.on("mousedown",at=>{Ve(at)&&pb(at)&&Ie.mousedown(Cp(at))}),y.on("mouseover",at=>{var Ot;(Ot=at).buttons!==void 0&&!(1&Ot.buttons)||!pb(at)||Ie.mouseover(Cp(at))}),y.on("mouseup",at=>{Ve(at)&&pb(at)&&Ie.mouseup(Cp(at))}),y.on("touchend",rt.touchEnd),y.on("keyup",at=>{const Ot=Cp(at);if(Ot.raw.shiftKey&&uh(Ot.raw.which)){const It=y.selection.getRng(),Tt=Kt.fromDom(It.startContainer),Pt=Kt.fromDom(It.endContainer);Ze.keyup(Ot,Tt,It.startOffset,Pt,It.endOffset).each(Gt=>{Pe(Ot,Gt)})}}),y.on("keydown",at=>{const Ot=Cp(at);_.hide();const It=y.selection.getRng(),Tt=Kt.fromDom(It.startContainer),Pt=Kt.fromDom(It.endContainer),Gt=Lo(Bf,Lf)(Kt.fromDom(y.selection.getStart()));Ze.keydown(Ot,Tt,It.startOffset,Pt,It.endOffset,Gt).each(Qt=>{Pe(Ot,Qt)}),_.show()}),y.on("NodeChange",()=>{const at=y.selection,Ot=Kt.fromDom(at.getStart()),It=Kt.fromDom(at.getEnd());Sf(ml,[Ot,It]).fold(()=>B.clear(se),G)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Af.firstSelected),y.serializer.addTempAttr(Af.lastSelected)}),{getSelectedCells:()=>((U,te,se,we)=>{switch(U.tag){case"none":return te();case"single":return(Ie=>[Ie.dom])(U.element);case"multiple":return(Ie=>O(Ie,Ze=>Ze.dom))(U.elements)}})(T.get(),X([])),clearSelectedCells:U=>B.clear(Kt.fromDom(U))}},hu=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=$t(_,B=>B!==T)},trigger:(...T)=>{const B={};Ke(y,(H,U)=>{B[H]=T[U]}),Ke(_,H=>{H(B)})}}},qm=y=>({registry:Oo(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:Oo(y,_=>_.trigger)}),vb=y=>y.slice(0).sort(),bb=(y,_)=>{const T=$t(_,B=>!st(y,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+vb(B).join(", "))})(T)},k0=y=>((_,T)=>((B,H,U)=>{if(H.length===0)throw new Error("You must specify at least one required field.");return((te,se)=>{if(!x(se))throw new Error("The "+te+" fields must be an array. Was: "+se+".");Ke(se,we=>{if(!g(we))throw new Error("The value "+we+" in the "+te+" fields was not a string.")})})("required",H),(te=>{const se=vb(te);pt(se,(we,Ie)=>Ie<se.length-1&&we===se[Ie+1]).each(we=>{throw new Error("The field: "+we+" occurs more than once in the combined fields: ["+se.join(", ")+"].")})})(H),te=>{const se=xs(te);Mt(H,Ie=>st(se,Ie))||((Ie,Ze)=>{throw new Error("All required keys ("+vb(Ie).join(", ")+") were not specified. Specified keys were: "+vb(Ze).join(", ")+".")})(H,se),B(H,se);const we=$t(H,Ie=>!U.validate(te[Ie],Ie));return we.length>0&&((Ie,Ze)=>{throw new Error("All values need to be of type: "+Ze+". Keys ("+vb(Ie).join(", ")+") were not.")})(we,U.label),te}})(_,T,{validate:L,label:"function"}))(bb,y),yb=k0(["compare","extract","mutate","sink"]),ga=k0(["element","start","stop","destroy"]),E0=k0(["forceDrop","drop","move","delayDrop"]),Ym=()=>{const y=(()=>{const B=qm({move:hu(["info"])});return{onEvent:G,reset:G,events:B.registry}})(),_=(()=>{let B=ae.none();const H=qm({move:hu(["info"])});return{onEvent:(U,te)=>{te.extract(U).each(se=>{((Ie,Ze)=>{const De=B.map(Pe=>Ie.compare(Pe,Ze));return B=ae.some(Ze),De})(te,se).each(Ie=>{H.trigger.move(Ie)})})},reset:()=>{B=ae.none()},events:H.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(B,H)=>{T.onEvent(B,H)},events:_.events}},Xm=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},xb=Xm("ephox-dragster").resolve;var A0=yb({compare:(y,_)=>Ja(_.left-y.left,_.top-y.top),extract:y=>ae.some(Ja(y.x,y.y)),sink:(y,_)=>{const T=(se=>{const we={layerClass:xb("blocker"),...se},Ie=Kt.fromTag("div");return fs(Ie,"role","presentation"),Rl(Ie,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),$f(Ie,xb("blocker")),$f(Ie,we.layerClass),{element:X(Ie),destroy:()=>{lr(Ie)}}})(_),B=fh(T.element(),"mousedown",y.forceDrop),H=fh(T.element(),"mouseup",y.drop),U=fh(T.element(),"mousemove",y.move),te=fh(T.element(),"mouseout",y.delayDrop);return ga({element:T.element,start:se=>{hr(se,T.element())},stop:()=>{lr(T.element())},destroy:()=>{T.destroy(),H.unbind(),U.unbind(),te.unbind(),B.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const mh=Xm("ephox-snooker").resolve,Uf=mh("resizer-bar"),jx=mh("resizer-rows"),T0=mh("resizer-cols"),sl=y=>{const _=Ns(y.parent(),"."+Uf);Ke(_,lr)},Wf=(y,_,T)=>{const B=y.origin();Ke(_,H=>{H.each(U=>{const te=T(B,U);$f(te,Uf),hr(y.parent(),te)})})},Kx=(y,_,T,B,H)=>{const U=yf(T),te=_.isResizable,se=B.length>0?$u.positions(B,T):[],we=se.length>0?((De,Pe)=>Ye(De.all,(Ve,rt)=>Pe(Ve.element)?[rt]:[]))(y,te):[];((De,Pe,Ve,rt)=>{Wf(De,Pe,(at,Ot)=>{const It=((Tt,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Rl(yn,{position:"absolute",left:Pt+"px",top:Gt-3.5+"px",height:"7px",width:Qt+"px"}),Ar(yn,{"data-row":Tt,role:"presentation"}),yn})(Ot.row,Ve.left-at.left,Ot.y-at.top,rt);return $f(It,jx),It})})(_,$t(se,(De,Pe)=>Ee(we,Ve=>Pe===Ve)),U,Fg(T));const Ie=H.length>0?xf.positions(H,T):[],Ze=Ie.length>0?((De,Pe)=>{const Ve=[];return Le(De.grid.columns,rt=>{Es(De,rt).map(at=>at.element).forall(Pe)&&Ve.push(rt)}),$t(Ve,rt=>{const at=Ui(De,Ot=>Ot.column===rt);return Mt(at,Ot=>Pe(Ot.element))})})(y,te):[];((De,Pe,Ve,rt)=>{Wf(De,Pe,(at,Ot)=>{const It=((Tt,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Rl(yn,{position:"absolute",left:Pt-3.5+"px",top:Gt+"px",height:lt+"px",width:"7px"}),Ar(yn,{"data-column":Tt,role:"presentation"}),yn})(Ot.col,Ot.x-at.left,Ve.top-at.top,0,rt);return $f(It,T0),It})})(_,$t(Ie,(De,Pe)=>Ee(Ze,Ve=>Pe===Ve)),U,Av(T))},xt=(y,_)=>{if(sl(y),y.isResizable(_)){const T=Ro(_),B=Rd(T),H=tp(T);Kx(T,y,_,B,H)}},_p=(y,_)=>{const T=Ns(y.parent(),"."+Uf);Ke(T,_)},wE=y=>{_p(y,_=>{_o(_,"display","none")})},HC=y=>{_p(y,_=>{_o(_,"display","block")})},O0=mh("resizer-bar-dragging"),pu=y=>{const _=(()=>{const De=qm({drag:hu(["xDelta","yDelta","target"])});let Pe=ae.none();const Ve=(()=>{const rt=qm({drag:hu(["xDelta","yDelta"])});return{mutate:(at,Ot)=>{rt.trigger.drag(at,Ot)},events:rt.registry}})();return Ve.events.drag.bind(rt=>{Pe.each(at=>{De.trigger.drag(rt.xDelta,rt.yDelta,at)})}),{assign:rt=>{Pe=ae.some(rt)},get:()=>Pe,mutate:Ve.mutate,events:De.registry}})(),T=((De,Pe={})=>{var Ve;return((rt,at,Ot)=>{let It=!1;const Tt=qm({start:hu([]),stop:hu([])}),Pt=Ym(),Gt=()=>{yn.stop(),Pt.isOn()&&(Pt.off(),Tt.trigger.stop())},Qt=((Xn,yo)=>{let so=null;const Jn=()=>{S(so)||(clearTimeout(so),so=null)};return{cancel:Jn,throttle:(...bo)=>{Jn(),so=setTimeout(()=>{so=null,Xn.apply(null,bo)},200)}}})(Gt);Pt.events.move.bind(Xn=>{at.mutate(rt,Xn.info)});const lt=Xn=>(...yo)=>{It&&Xn.apply(null,yo)},yn=at.sink(E0({forceDrop:Gt,drop:lt(Gt),move:lt(Xn=>{Qt.cancel(),Pt.onEvent(Xn,at)}),delayDrop:lt(Qt.throttle)}),Ot);return{element:yn.element,go:Xn=>{yn.start(Xn),Pt.on(),Tt.trigger.start()},on:()=>{It=!0},off:()=>{It=!1},isActive:()=>It,destroy:()=>{yn.destroy()},events:Tt.registry}})(De,(Ve=Pe.mode)!==null&&Ve!==void 0?Ve:A0,Pe)})(_,{});let B=ae.none();const H=(De,Pe)=>ae.from(hn(De,Pe));_.events.drag.bind(De=>{H(De.target,"data-row").each(Pe=>{const Ve=ff(De.target,"top");_o(De.target,"top",Ve+De.yDelta+"px")}),H(De.target,"data-column").each(Pe=>{const Ve=ff(De.target,"left");_o(De.target,"left",Ve+De.xDelta+"px")})});const U=(De,Pe)=>ff(De,Pe)-wr(De,"data-initial-"+Pe,0);T.events.stop.bind(()=>{_.get().each(De=>{B.each(Pe=>{H(De,"data-row").each(Ve=>{const rt=U(De,"top");vo(De,"data-initial-top"),Ze.trigger.adjustHeight(Pe,rt,parseInt(Ve,10))}),H(De,"data-column").each(Ve=>{const rt=U(De,"left");vo(De,"data-initial-left"),Ze.trigger.adjustWidth(Pe,rt,parseInt(Ve,10))}),xt(y,Pe)})})});const te=(De,Pe)=>{Ze.trigger.startAdjust(),_.assign(De),fs(De,"data-initial-"+Pe,ff(De,Pe)),$f(De,O0),_o(De,"opacity","0.2"),T.go(y.parent())},se=fh(y.parent(),"mousedown",De=>{var Pe;Pe=De.target,hb(Pe,jx)&&te(De.target,"top"),(Ve=>hb(Ve,T0))(De.target)&&te(De.target,"left")}),we=De=>$s(De,y.view()),Ie=fh(y.view(),"mouseover",De=>{var Pe;(Pe=De.target,Je(Pe,"table",we).filter(lo)).fold(()=>{qa(De.target)&&sl(y)},Ve=>{T.isActive()&&(B=ae.some(Ve),xt(y,Ve))})}),Ze=qm({adjustHeight:hu(["table","delta","row"]),adjustWidth:hu(["table","delta","column"]),startAdjust:hu([])});return{destroy:()=>{se.unbind(),Ie.unbind(),T.destroy(),sl(y)},refresh:De=>{xt(y,De)},on:T.on,off:T.off,hideBars:le(wE,y),showBars:le(HC,y),events:Ze.registry}},D0=y=>I(y)&&y.nodeName==="TABLE",wb="bar-",Gx=y=>hn(y,"data-mce-resize")!=="false",qx=y=>{const _=y0(),T=y0(),B=y0();let H,U,te,se;const we=De=>Nf(y,De),Ie=()=>Wg(y)?K1():Yu(),Ze=(De,Pe,Ve,rt)=>{const at=(Tt=>{return ho(Pt=Tt,"corner-")?((Gt,Qt)=>Gt.substring(7))(Pt):Pt;var Pt})(Pe),Ot=sn(at,"e"),It=ho(at,"n");if(U===""&&nh(De),se===""&&(Tt=>{const Pt=(Gt=>Id(Gt)+"px")(Tt);Gs(Tt,ae.none(),ae.some(Pt)),fu(Tt)})(De),Ve!==H&&U!==""){_o(De,"width",U);const Tt=Ie(),Pt=we(De),Gt=Wg(y)||Ot?(Qt=>uu(Qt).columns)(De)-1:0;Fd(De,Ve-H,Gt,Tt,Pt)}else if((Tt=>/^(\d+(\.\d+)?)%$/.test(Tt))(U)){const Tt=parseFloat(U.replace("%",""));_o(De,"width",Ve*Tt/H+"%")}if((Tt=>/^(\d+(\.\d+)?)px$/.test(Tt))(U)&&(Tt=>{const Pt=Ro(Tt);Ec(Pt)||Ke(Or(Tt),Gt=>{const Qt=ta(Gt,"width");_o(Gt,"width",Qt),vo(Gt,"width")})})(De),rt!==te&&se!==""){_o(De,"height",se);const Tt=It?0:(Pt=>uu(Pt).rows)(De)-1;Gg(De,rt-te,Tt)}};return y.on("init",()=>{const De=((Pe,Ve)=>Pe.inline?((rt,at,Ot)=>({parent:X(at),view:X(rt),origin:X(Ja(0,0)),isResizable:Ot}))(Kt.fromDom(Pe.getBody()),(()=>{const rt=Kt.fromTag("div");return Rl(rt,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(Xc(Kt.fromDom(document)),rt),rt})(),Ve):((rt,at)=>{const Ot=Do(rt)?(It=>Kt.fromDom(_c(It).dom.documentElement))(rt):rt;return{parent:X(Ot),view:X(rt),origin:X(Ja(0,0)),isResizable:at}})(Kt.fromDom(Pe.getDoc()),Ve))(y,Gx);if(B.set(De),(Pe=>{const Ve=Pe.options.get("object_resizing");return st(Ve.split(","),"table")})(y)&&oe(y)){const Pe=((Ve,rt,at)=>{const Ot=$u,It=xf,Tt=pu(Ve),Pt=qm({beforeResize:hu(["table","type"]),afterResize:hu(["table","type"]),startDrag:hu([])});return Tt.events.adjustHeight.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"row");const lt=Ot.delta(Gt.delta,Qt);Gg(Qt,lt,Gt.row),Pt.trigger.afterResize(Qt,"row")}),Tt.events.startAdjust.bind(Gt=>{Pt.trigger.startDrag()}),Tt.events.adjustWidth.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"col");const lt=It.delta(Gt.delta,Qt),yn=at(Qt);Fd(Qt,lt,Gt.column,rt,yn),Pt.trigger.afterResize(Qt,"col")}),{on:Tt.on,off:Tt.off,refreshBars:Tt.refresh,hideBars:Tt.hideBars,showBars:Tt.showBars,destroy:Tt.destroy,events:Pt.registry}})(De,Ie(),we);Pe.on(),Pe.events.startDrag.bind(Ve=>{_.set(y.selection.getRng())}),Pe.events.beforeResize.bind(Ve=>{const rt=Ve.table.dom;((at,Ot,It,Tt,Pt)=>{at.dispatch("ObjectResizeStart",{target:Ot,width:It,height:Tt,origin:Pt})})(y,rt,Im(rt),Nm(rt),wb+Ve.type)}),Pe.events.afterResize.bind(Ve=>{const rt=Ve.table,at=rt.dom;Sr(rt),_.on(Ot=>{y.selection.setRng(Ot),y.focus()}),((Ot,It,Tt,Pt,Gt)=>{Ot.dispatch("ObjectResized",{target:It,width:Tt,height:Pt,origin:Gt})})(y,at,Im(at),Nm(at),wb+Ve.type),y.undoManager.add()}),T.set(Pe)}}),y.on("ObjectResizeStart",De=>{const Pe=De.target;if(D0(Pe)){const Ve=Kt.fromDom(Pe);Ke(y.dom.select(".mce-clonedresizable"),rt=>{y.dom.addClass(rt,"mce-"+Ug(y)+"-columns")}),!fr(Ve)&&N(y)?bl(Ve):!d0(Ve)&&Gu(y)&&nh(Ve),Ju(Ve)&&ho(De.origin,wb)&&nh(Ve),H=De.width,U=W(y)?"":yC(y,Pe).getOr(""),te=De.height,se=Nv(y,Pe).getOr("")}}),y.on("ObjectResized",De=>{const Pe=De.target;if(D0(Pe)){const Ve=Kt.fromDom(Pe),rt=De.origin;(at=>ho(at,"corner-"))(rt)&&Ze(Ve,rt,De.width,De.height),Sr(Ve),zd(y,Ve.dom,l0)}}),y.on("SwitchMode",()=>{T.on(De=>{y.mode.isReadOnly()?De.hideBars():De.showBars()})}),y.on("dragstart dragend",De=>{T.on(Pe=>{De.type==="dragstart"?(Pe.hideBars(),Pe.off()):(Pe.on(),Pe.showBars())})}),y.on("remove",()=>{T.on(De=>{De.destroy()}),B.on(De=>{((Pe,Ve)=>{Pe.inline&&lr(Ve.parent())})(y,De)})}),{refresh:De=>{T.on(Pe=>Pe.refreshBars(Kt.fromDom(De)))},hide:()=>{T.on(De=>De.hideBars())},show:()=>{T.on(De=>De.showBars())}}},CE=y=>{(H=>{const U=H.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:te=>{const se=st(["section","cells","sectionCells","auto"],te);return se?{value:te,valid:se}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:te=>{const se=st(["preservetable","resizetable"],te);return se?{value:te,valid:se}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=qx(y),T=zC(y,_),B=Tx(y,_,T);return Pr(y,B),((H,U)=>{const te=Zr(H),se=we=>pr(Oc(H)).bind(Ie=>ml(Ie,te).map(Ze=>{const De=ko(Rc(H),Ze,Ie);return we(Ze,De)})).getOr("");tn({mceTableRowType:()=>se(U.getTableRowType),mceTableCellType:()=>se(U.getTableCellType),mceTableColType:()=>se(U.getTableColType)},(we,Ie)=>H.addQueryValueHandler(Ie,we))})(y,B),Ic(y,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};n.add("dom",y=>({table:CE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(N,W,oe)=>{var Re;return oe(N,W.prototype)?!0:((Re=N.constructor)===null||Re===void 0?void 0:Re.name)===W.name},l=N=>{const W=typeof N;return N===null?"null":W==="object"&&Array.isArray(N)?"array":W==="object"&&r(N,String,(oe,Re)=>Re.isPrototypeOf(oe))?"string":W},d=N=>W=>l(W)===N,g=N=>W=>typeof W===N,v=d("string"),x=d("object"),S=d("array"),M=g("boolean"),R=N=>N==null,I=N=>!R(N),L=g("function"),$=g("number"),G=()=>{},X=(N,W)=>oe=>N(W(oe)),ne=N=>()=>N,ce=(N,W)=>N===W;function le(N,...W){return(...oe)=>{const Re=W.concat(oe);return N.apply(null,Re)}}const Me=N=>W=>!N(W),he=ne(!1);class K{constructor(W,oe){this.tag=W,this.value=oe}static some(W){return new K(!0,W)}static none(){return K.singletonNone}fold(W,oe){return this.tag?oe(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?K.some(W(this.value)):K.none()}bind(W){return this.tag?W(this.value):K.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:K.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return I(W)?K.some(W):K.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}K.singletonNone=new K(!1);const ye=Array.prototype.slice,ae=Array.prototype.indexOf,Ue=Array.prototype.push,We=(N,W)=>ae.call(N,W),qe=(N,W)=>We(N,W)>-1,st=(N,W)=>{for(let oe=0,Re=N.length;oe<Re;oe++){const $e=N[oe];if(W($e,oe))return!0}return!1},Ee=(N,W)=>{const oe=N.length,Re=new Array(oe);for(let $e=0;$e<oe;$e++){const Rt=N[$e];Re[$e]=W(Rt,$e)}return Re},Le=(N,W)=>{for(let oe=0,Re=N.length;oe<Re;oe++){const $e=N[oe];W($e,oe)}},O=(N,W)=>{const oe=[];for(let Re=0,$e=N.length;Re<$e;Re++){const Rt=N[Re];W(Rt,Re)&&oe.push(Rt)}return oe},Ke=(N,W)=>{if(N.length===0)return[];{let oe=W(N[0]);const Re=[];let $e=[];for(let Rt=0,jn=N.length;Rt<jn;Rt++){const po=N[Rt],lo=W(po);lo!==oe&&(Re.push($e),$e=[]),oe=lo,$e.push(po)}return $e.length!==0&&Re.push($e),Re}},ct=(N,W,oe)=>(Le(N,(Re,$e)=>{oe=W(oe,Re,$e)}),oe),$t=(N,W,oe)=>{for(let Re=0,$e=N.length;Re<$e;Re++){const Rt=N[Re];if(W(Rt,Re))return K.some(Rt);if(oe(Rt,Re))break}return K.none()},Jt=(N,W)=>$t(N,W,he),et=N=>{const W=[];for(let oe=0,Re=N.length;oe<Re;++oe){if(!S(N[oe]))throw new Error("Arr.flatten item "+oe+" was not an array, input: "+N);Ue.apply(W,N[oe])}return W},pt=(N,W)=>et(Ee(N,W)),Lt=N=>{const W=ye.call(N,0);return W.reverse(),W},tt=(N,W)=>W>=0&&W<N.length?K.some(N[W]):K.none(),Ye=N=>tt(N,0),Mt=N=>tt(N,N.length-1),oo=(N,W)=>{const oe=[],Re=L(W)?$e=>st(oe,Rt=>W(Rt,$e)):$e=>qe(oe,$e);for(let $e=0,Rt=N.length;$e<Rt;$e++){const jn=N[$e];Re(jn)||oe.push(jn)}return oe},Fn=(N,W,oe=ce)=>N.exists(Re=>oe(Re,W)),fn=(N,W,oe=ce)=>_n(N,W,oe).getOr(N.isNone()&&W.isNone()),_n=(N,W,oe)=>N.isSome()&&W.isSome()?K.some(oe(N.getOrDie(),W.getOrDie())):K.none(),Q=8,xs=11,eo=1,tn=3,Oo=(N,W)=>{const Re=(W||document).createElement("div");if(Re.innerHTML=N,!Re.hasChildNodes()||Re.childNodes.length>1){const $e="HTML does not have a single root node";throw console.error($e,N),new Error($e)}return xe(Re.childNodes[0])},je=(N,W)=>{const Re=(W||document).createElement(N);return xe(Re)},ie=(N,W)=>{const Re=(W||document).createTextNode(N);return xe(Re)},xe=N=>{if(N==null)throw new Error("Node cannot be null or undefined");return{dom:N}},pe={fromHtml:Oo,fromTag:je,fromText:ie,fromDom:xe,fromPoint:(N,W,oe)=>K.from(N.dom.elementFromPoint(W,oe)).map(xe)},gt=(N,W)=>{const oe=N.dom;if(oe.nodeType!==eo)return!1;{const Re=oe;if(Re.matches!==void 0)return Re.matches(W);if(Re.msMatchesSelector!==void 0)return Re.msMatchesSelector(W);if(Re.webkitMatchesSelector!==void 0)return Re.webkitMatchesSelector(W);if(Re.mozMatchesSelector!==void 0)return Re.mozMatchesSelector(W);throw new Error("Browser lacks native selectors")}},zt=(N,W)=>N.dom===W.dom,vt=(N,W)=>{const oe=N.dom,Re=W.dom;return oe===Re?!1:oe.contains(Re)},Ft=gt,Vt=typeof window<"u"?window:Function("return this;")(),wn=(N,W)=>{let oe=W??Vt;for(let Re=0;Re<N.length&&oe!==void 0&&oe!==null;++Re)oe=oe[N[Re]];return oe},cn=(N,W)=>{const oe=N.split(".");return wn(oe,W)},An=(N,W)=>cn(N,W),On=(N,W)=>{const oe=An(N,W);if(oe==null)throw new Error(N+" not available on this browser");return oe},wo=Object.getPrototypeOf,Do=N=>On("HTMLElement",N),$o=N=>{const W=cn("ownerDocument.defaultView",N);return x(N)&&(Do(W).prototype.isPrototypeOf(N)||/^HTML\w*Element$/.test(wo(N).constructor.name))},cs=N=>N.dom.nodeName.toLowerCase(),ar=N=>N.dom.nodeType,fs=N=>W=>ar(W)===N,Ar=N=>ar(N)===Q||cs(N)==="#comment",hn=N=>Eo(N)&&$o(N.dom),Eo=fs(eo),vo=fs(tn),or=fs(xs),ea=N=>W=>Eo(W)&&cs(W)===N,Kt=N=>K.from(N.dom.parentNode).map(pe.fromDom),gi=N=>K.from(N.dom.parentElement).map(pe.fromDom),rs=N=>K.from(N.dom.nextSibling).map(pe.fromDom),Ul=N=>Ee(N.dom.childNodes,pe.fromDom),$s=(N,W)=>{const oe=N.dom.childNodes;return K.from(oe[W]).map(pe.fromDom)},ei=N=>$s(N,0),bm=N=>$s(N,N.dom.childNodes.length-1),Pu=N=>or(N)&&I(N.dom.host),_c=N=>pe.fromDom(N.dom.getRootNode()),ul=N=>{const W=_c(N);return Pu(W)?K.some(W):K.none()},Mu=N=>pe.fromDom(N.dom.host),Os=N=>{const W=vo(N)?N.dom.parentNode:N.dom;if(W==null||W.ownerDocument===null)return!1;const oe=W.ownerDocument;return ul(pe.fromDom(W)).fold(()=>oe.body.contains(W),X(Os,Mu))};var ao=(N,W,oe,Re,$e)=>N(oe,Re)?K.some(oe):L($e)&&$e(oe)?K.none():W(oe,Re,$e);const Wl=(N,W,oe)=>{let Re=N.dom;const $e=L(oe)?oe:he;for(;Re.parentNode;){Re=Re.parentNode;const Rt=pe.fromDom(Re);if(W(Rt))return K.some(Rt);if($e(Rt))break}return K.none()},Ti=(N,W,oe)=>ao(($e,Rt)=>Rt($e),Wl,N,W,oe),Bu=(N,W,oe)=>Wl(N,Re=>gt(Re,W),oe),rn=(N,W,oe)=>ao(($e,Rt)=>gt($e,Rt),Bu,N,W,oe),Lu=N=>rn(N,"[contenteditable]"),ym=(N,W=!1)=>Os(N)?N.dom.isContentEditable:Lu(N).fold(ne(W),oe=>hr(oe)==="true"),hr=N=>N.dom.contentEditable,xm=(N,W)=>{Kt(N).each(Re=>{Re.dom.insertBefore(W.dom,N.dom)})},Ga=(N,W)=>{rs(N).fold(()=>{Kt(N).each($e=>{dl($e,W)})},Re=>{xm(Re,W)})},Ol=(N,W)=>{ei(N).fold(()=>{dl(N,W)},Re=>{N.dom.insertBefore(W.dom,Re.dom)})},dl=(N,W)=>{N.dom.appendChild(W.dom)},lr=(N,W)=>{Le(W,oe=>{xm(N,oe)})},Ca=(N,W)=>{Le(W,oe=>{dl(N,oe)})},Dl=N=>{N.dom.textContent="",Le(Ul(N),W=>{wm(W)})},wm=N=>{const W=N.dom;W.parentNode!==null&&W.parentNode.removeChild(W)};var qc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Yc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),df=tinymce.util.Tools.resolve("tinymce.util.VK");const kd=N=>Ee(N,pe.fromDom),is=Object.keys,Br=(N,W)=>{const oe=is(N);for(let Re=0,$e=oe.length;Re<$e;Re++){const Rt=oe[Re],jn=N[Rt];W(jn,Rt)}},ii=N=>(W,oe)=>{N[oe]=W},Cm=(N,W,oe,Re)=>{Br(N,($e,Rt)=>{(W($e,Rt)?oe:Re)($e,Rt)})},qa=(N,W)=>{const oe={};return Cm(N,W,ii(oe),G),oe},Xc=(N,W,oe)=>{if(v(oe)||M(oe)||$(oe))N.setAttribute(W,oe+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",oe,":: Element ",N),new Error("Attribute value was not simple")},_a=(N,W)=>{const oe=N.dom;Br(W,(Re,$e)=>{Xc(oe,$e,Re)})},Sa=N=>ct(N.dom.attributes,(W,oe)=>(W[oe.name]=oe.value,W),{}),Jc=(N,W)=>pe.fromDom(N.dom.cloneNode(W)),Ns=N=>Jc(N,!0),cr=(N,W)=>{const oe=pe.fromTag(W),Re=Sa(N);return _a(oe,Re),oe},Te=(N,W)=>{const oe=cr(N,W);Ga(N,oe);const Re=Ul(N);return Ca(oe,Re),wm(N),oe};var nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const mt=N=>W=>I(W)&&W.nodeName.toLowerCase()===N,ut=N=>W=>I(W)&&N.test(W.nodeName),Je=N=>I(N)&&N.nodeType===3,Wt=N=>I(N)&&N.nodeType===1,nn=ut(/^(OL|UL|DL)$/),un=ut(/^(OL|UL)$/),vn=mt("ol"),an=ut(/^(LI|DT|DD)$/),ho=ut(/^(DT|DD)$/),sn=ut(/^(TH|TD)$/),ks=mt("br"),Mo=N=>{var W;return((W=N.parentNode)===null||W===void 0?void 0:W.firstChild)===N},jo=(N,W)=>I(W)&&W.nodeName in N.schema.getTextBlockElements(),Tr=(N,W)=>I(N)&&N.nodeName in W,_o=(N,W)=>I(W)&&W.nodeName in N.schema.getVoidElements(),Rl=(N,W)=>ks(W)?N.isBlock(W.nextSibling)&&!ks(W.previousSibling):!1,ta=(N,W,oe)=>{const Re=N.isEmpty(W);return oe&&N.select("span[data-mce-type=bookmark]",W).length>0?!1:Re},co=(N,W)=>N.isChildOf(W,N.getRoot()),Ya=N=>W=>W.options.get(N),fl=N=>{const W=N.options.register;W("lists_indent_on_tab",{processor:"boolean",default:!0})},wr=Ya("lists_indent_on_tab"),Ed=Ya("forced_root_block"),Hr=Ya("forced_root_block_attrs"),ff=(N,W,oe={})=>{const Re=N.dom,$e=N.schema.getBlockElements(),Rt=Re.createFragment(),jn=Ed(N),po=Hr(N);let lo,Tn,bs=!1;for(Tn=Re.create(jn,{...po,...oe.style?{style:oe.style}:{}}),Tr(W.firstChild,$e)||Rt.appendChild(Tn);lo=W.firstChild;){const Zr=lo.nodeName;!bs&&(Zr!=="SPAN"||lo.getAttribute("data-mce-type")!=="bookmark")&&(bs=!0),Tr(lo,$e)?(Rt.appendChild(lo),Tn=null):(Tn||(Tn=Re.create(jn,po),Rt.appendChild(Tn)),Tn.appendChild(lo))}return!bs&&Tn&&Tn.appendChild(Re.create("br",{"data-mce-bogus":"1"})),Rt},Il=nt.DOM,ws=(N,W,oe)=>{const Re=Tn=>{const bs=Tn.parentNode;bs&&Ne.each($e,Zr=>{bs.insertBefore(Zr,oe.parentNode)}),Il.remove(Tn)},$e=Il.select('span[data-mce-type="bookmark"]',W),Rt=ff(N,oe),jn=Il.createRng();jn.setStartAfter(oe),jn.setEndAfter(W);const po=jn.extractContents();for(let Tn=po.firstChild;Tn;Tn=Tn.firstChild)if(Tn.nodeName==="LI"&&N.dom.isEmpty(Tn)){Il.remove(Tn);break}N.dom.isEmpty(po)||Il.insertAfter(po,W),Il.insertAfter(Rt,W);const lo=oe.parentElement;lo&&ta(N.dom,lo)&&Re(lo),Il.remove(oe),ta(N.dom,W)&&Il.remove(W)},Fu=ea("dd"),_m=ea("dt"),Jh=(N,W)=>{Fu(W)?Te(W,"dt"):_m(W)&&gi(W).each(oe=>ws(N,oe.dom,W.dom))},Or=N=>{_m(N)&&Te(N,"dd")},Sc=(N,W,oe)=>{W==="Indent"?Le(oe,Or):Le(oe,Re=>Jh(N,Re))},ml=(N,W)=>{if(Je(N))return{container:N,offset:W};const oe=qc.getNode(N,W);return Je(oe)?{container:oe,offset:W>=N.childNodes.length?oe.data.length:0}:oe.previousSibling&&Je(oe.previousSibling)?{container:oe.previousSibling,offset:oe.previousSibling.data.length}:oe.nextSibling&&Je(oe.nextSibling)?{container:oe.nextSibling,offset:0}:{container:N,offset:W}},Xs=N=>{const W=N.cloneRange(),oe=ml(N.startContainer,N.startOffset);W.setStart(oe.container,oe.offset);const Re=ml(N.endContainer,N.endOffset);return W.setEnd(Re.container,Re.offset),W},Sm=["OL","UL","DL"],Nl=Sm.join(","),na=(N,W)=>{const oe=W||N.selection.getStart(!0);return N.dom.getParent(oe,Nl,Ad(N,oe))},Mg=(N,W)=>I(N)&&W.length===1&&W[0]===N,Oi=N=>O(N.querySelectorAll(Nl),nn),Xa=N=>{const W=na(N),oe=N.selection.getSelectedBlocks();return Mg(W,oe)?Oi(W):O(oe,Re=>nn(Re)&&W!==Re)},oa=(N,W)=>{const oe=Ne.map(W,Re=>{const $e=N.dom.getParent(Re,"li,dd,dt",Ad(N,Re));return $e||Re});return oo(oe)},Pl=N=>{const W=N.selection.getSelectedBlocks();return O(oa(N,W),an)},Qh=N=>O(Pl(N),ho),Bo=(N,W)=>{const oe=N.dom.getParents(W,"TD,TH");return oe.length>0?oe[0]:N.getBody()},Qc=(N,W)=>!nn(W)&&!an(W)&&st(Sm,oe=>N.isValidChild(W.nodeName,oe)),Ad=(N,W)=>{const oe=N.dom.getParents(W,N.dom.isBlock),Re=Rt=>Rt.nodeName.toLowerCase()!==Ed(N);return Jt(oe,Rt=>Re(Rt)&&Qc(N.schema,Rt)).getOr(N.getBody())},Vu=N=>Kt(N).exists(W=>an(W.dom)&&ei(W).exists(oe=>!nn(oe.dom))&&bm(W).exists(oe=>!nn(oe.dom))),Sv=(N,W)=>{const oe=N.dom.getParents(W,"ol,ul",Ad(N,W));return Mt(oe)},tx=N=>{const W=Sv(N,N.selection.getStart()),oe=O(N.selection.getSelectedBlocks(),un);return W.toArray().concat(oe)},L1=N=>{const W=N.selection.getStart();return N.dom.getParents(W,"ol,ul",Ad(N,W))},F1=N=>{const W=tx(N),oe=L1(N);return Jt(oe,Re=>Vu(pe.fromDom(Re))).fold(()=>bC(N,W),Re=>[Re])},bC=(N,W)=>{const oe=Ee(W,Re=>Sv(N,Re).getOr(Re));return oo(oe)},ep=N=>/\btox\-/.test(N.className),V1=(N,W)=>$t(N,nn,sn).exists(oe=>oe.nodeName===W&&!ep(oe)),Xt=(N,W)=>W!==null&&!N.dom.isEditable(W),mf=N=>{const W=na(N);return Xt(N,W)},gf=(N,W)=>{const oe=N.dom.getParent(W,"ol,ul,dl");return Xt(N,oe)},z1=(N,W)=>{const oe=N.selection.getNode();return W({parents:N.dom.getParents(oe),element:oe}),N.on("NodeChange",W),()=>N.off("NodeChange",W)},sa=(N,W)=>{const Re=document.createDocumentFragment();return Le(N,$e=>{Re.appendChild($e.dom)}),pe.fromDom(Re)},hf=(N,W,oe)=>N.dispatch("ListMutation",{action:W,element:oe}),nx=(N=>W=>W.replace(N,""))(/^\s+|\s+$/g),ox=N=>N.length>0,kv=N=>!ox(N),sx=N=>N.style!==void 0&&L(N.style.getPropertyValue),H1=(N,W,oe)=>{if(!v(oe))throw console.error("Invalid call to CSS.set. Property ",W,":: Value ",oe,":: Element ",N),new Error("CSS value must be a string: "+oe);sx(N)&&N.style.setProperty(W,oe)},rx=(N,W,oe)=>{const Re=N.dom;H1(Re,W,oe)},Lg=N=>Ft(N,"OL,UL"),$1=N=>Ft(N,"LI"),pf=N=>ei(N).exists(Lg),vf=N=>bm(N).exists(Lg),ra=N=>"listAttributes"in N,gl=N=>"isComment"in N,Fg=N=>"isFragment"in N,qo=N=>N.depth>0,Td=N=>N.isSelected,Vg=N=>{const W=Ul(N),oe=vf(N)?W.slice(0,-1):W;return Ee(oe,Ns)},zg=(N,W,oe)=>Kt(N).filter(Eo).map(Re=>({depth:W,dirty:!1,isSelected:oe,content:Vg(N),itemAttributes:Sa(N),listAttributes:Sa(Re),listType:cs(Re),isInPreviousLi:!1})),Na=(N,W)=>{dl(N.item,W.list)},$r=N=>{for(let W=1;W<N.length;W++)Na(N[W-1],N[W])},ur=(N,W)=>{_n(Mt(N),Ye(W),Na)},$i=(N,W)=>{const oe={list:pe.fromTag(W,N),item:pe.fromTag("li",N)};return dl(oe.list,oe.item),oe},Js=(N,W,oe)=>{const Re=[];for(let $e=0;$e<oe;$e++)Re.push($i(N,ra(W)?W.listType:W.parentListType));return Re},bf=(N,W)=>{for(let oe=0;oe<N.length-1;oe++)rx(N[oe].item,"list-style-type","none");Mt(N).each(oe=>{ra(W)&&(_a(oe.list,W.listAttributes),_a(oe.item,W.itemAttributes)),Ca(oe.item,W.content)})},km=(N,W)=>{cs(N.list)!==W.listType&&(N.list=Te(N.list,W.listType)),_a(N.list,W.listAttributes)},xi=(N,W,oe)=>{const Re=pe.fromTag("li",N);return _a(Re,W),Ca(Re,oe),Re},Pa=(N,W)=>{dl(N.list,W),N.item=W},ka=(N,W,oe)=>{const Re=W.slice(0,oe.depth);return Mt(Re).each($e=>{if(ra(oe)){const Rt=xi(N,oe.itemAttributes,oe.content);Pa($e,Rt),km($e,oe)}else if(Fg(oe))Ca($e.item,oe.content);else{const Rt=pe.fromHtml(`<!--${oe.content}-->`);dl($e.list,Rt)}}),Re},eu=(N,W,oe)=>{const Re=Js(N,oe,oe.depth-W.length);return $r(Re),bf(Re,oe),ur(W,Re),W.concat(Re)},Od=(N,W)=>{let oe=K.none();const Re=ct(W,($e,Rt,jn)=>gl(Rt)?jn===0?(oe=K.some(Rt),$e):ka(N,$e,Rt):Rt.depth>$e.length?eu(N,$e,Rt):ka(N,$e,Rt),[]);return oe.each($e=>{const Rt=pe.fromHtml(`<!--${$e.content}-->`);Ye(Re).each(jn=>{Ol(jn.list,Rt)})}),Ye(Re).map($e=>$e.list)},Ro=(N,W)=>{switch(N){case"Indent":W.depth++;break;case"Outdent":W.depth--;break;case"Flatten":W.depth=0}W.dirty=!0},ai=(N,W)=>{ra(N)&&ra(W)&&(N.listType=W.listType,N.listAttributes={...W.listAttributes})},hl=N=>{N.listAttributes=qa(N.listAttributes,(W,oe)=>oe!=="start")},Dd=(N,W)=>{const oe=N[W].depth,Re=Rt=>Rt.depth===oe&&!Rt.dirty,$e=Rt=>Rt.depth<oe;return $t(Lt(N.slice(0,W)),Re,$e).orThunk(()=>$t(N.slice(W+1),Re,$e))},Ui=N=>(Le(N,(W,oe)=>{Dd(N,oe).fold(()=>{W.dirty&&ra(W)&&hl(W)},Re=>ai(W,Re))}),N),Bn=N=>{let W=N;return{get:()=>W,set:$e=>{W=$e}}},kc=(N,W,oe,Re)=>{var $e;if(Ar(Re))return[{depth:N+1,content:($e=Re.dom.nodeValue)!==null&&$e!==void 0?$e:"",dirty:!1,isSelected:!1,isComment:!0}];W.each(po=>{zt(po.start,Re)&&oe.set(!0)});const Rt=zg(Re,N,oe.get());W.each(po=>{zt(po.end,Re)&&oe.set(!1)});const jn=bm(Re).filter(Lg).map(po=>Es(N,W,oe,po)).getOr([]);return Rt.toArray().concat(jn)},Ec=(N,W,oe,Re)=>ei(Re).filter(Lg).fold(()=>kc(N,W,oe,Re),$e=>{const Rt=ct(Ul(Re),(jn,po,lo)=>{if(lo===0)return jn;if($1(po))return jn.concat(kc(N,W,oe,po));{const Tn={isFragment:!0,depth:N,content:[po],isSelected:!1,dirty:!1,parentListType:cs($e)};return jn.concat(Tn)}},[]);return Es(N,W,oe,$e).concat(Rt)}),Es=(N,W,oe,Re)=>pt(Ul(Re),$e=>{const Rt=Lg($e)?Es:Ec,jn=N+1;return Rt(jn,W,oe,$e)}),tp=(N,W)=>{const oe=Bn(!1),Re=0;return Ee(N,$e=>({sourceList:$e,entries:Es(Re,W,oe,$e)}))},Ev=(N,W)=>{const oe=Ui(W);return Ee(oe,Re=>{const $e=gl(Re)?sa([pe.fromHtml(`<!--${Re.content}-->`)]):sa(Re.content),Rt=ra(Re)?Re.itemAttributes:{};return pe.fromDom(ff(N,$e.dom,Rt))})},Rd=(N,W)=>{const oe=Ui(W);return Od(N.contentDocument,oe).toArray()},Lo=(N,W)=>pt(Ke(W,qo),oe=>Ye(oe).exists(qo)?Rd(N,oe):Ev(N,oe)),Ma=(N,W)=>{Le(O(N,Td),oe=>Ro(W,oe))},np=N=>{const W=Ee(Pl(N),pe.fromDom);return _n(Jt(W,Me(pf)),Jt(Lt(W),Me(pf)),(oe,Re)=>({start:oe,end:Re}))},Id=(N,W,oe)=>{const Re=tp(W,np(N));Le(Re,$e=>{Ma($e.entries,oe);const Rt=Lo(N,$e.entries);Le(Rt,jn=>{hf(N,oe==="Indent"?"IndentList":"OutdentList",jn.dom)}),lr($e.sourceList,Rt),wm($e.sourceList)})},Av=(N,W)=>{const oe=kd(F1(N)),Re=kd(Qh(N));let $e=!1;if(oe.length||Re.length){const Rt=N.selection.getBookmark();Id(N,oe,W),Sc(N,W,Re),N.selection.moveToBookmark(Rt),N.selection.setRng(Xs(N.selection.getRng())),N.nodeChanged(),$e=!0}return $e},tu=(N,W)=>!mf(N)&&Av(N,W),Ja=N=>tu(N,"Indent"),nu=N=>tu(N,"Outdent"),yf=N=>tu(N,"Flatten"),Fe="\uFEFF",Em=N=>N===Fe,Ps=(N,W,oe)=>Wl(N,W,oe).isSome(),Tv=(N,W)=>Ps(N,le(zt,W));var Hg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ou=nt.DOM,Yo=N=>{const W={},oe=Re=>{let $e=N[Re?"startContainer":"endContainer"],Rt=N[Re?"startOffset":"endOffset"];if(Wt($e)){const jn=ou.create("span",{"data-mce-type":"bookmark"});$e.hasChildNodes()?(Rt=Math.min(Rt,$e.childNodes.length-1),Re?$e.insertBefore(jn,$e.childNodes[Rt]):ou.insertAfter(jn,$e.childNodes[Rt])):$e.appendChild(jn),$e=jn,Rt=0}W[Re?"startContainer":"endContainer"]=$e,W[Re?"startOffset":"endOffset"]=Rt};return oe(!0),N.collapsed||oe(),W},ia=N=>{const W=Re=>{const $e=po=>{var lo;let Tn=(lo=po.parentNode)===null||lo===void 0?void 0:lo.firstChild,bs=0;for(;Tn;){if(Tn===po)return bs;(!Wt(Tn)||Tn.getAttribute("data-mce-type")!=="bookmark")&&bs++,Tn=Tn.nextSibling}return-1};let Rt=N[Re?"startContainer":"endContainer"],jn=N[Re?"startOffset":"endOffset"];if(Rt){if(Wt(Rt)&&Rt.parentNode){const po=Rt;jn=$e(Rt),Rt=Rt.parentNode,ou.remove(po),!Rt.hasChildNodes()&&ou.isBlock(Rt)&&Rt.appendChild(ou.create("br"))}N[Re?"startContainer":"endContainer"]=Rt,N[Re?"startOffset":"endOffset"]=jn}};W(!0),W();const oe=ou.createRng();return oe.setStart(N.startContainer,N.startOffset),N.endContainer&&oe.setEnd(N.endContainer,N.endOffset),Xs(oe)},zu=N=>{switch(N){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},nc=(N,W,oe)=>{const Re=oe["list-style-type"]?oe["list-style-type"]:null;N.setStyle(W,"list-style-type",Re)},Hu=(N,W)=>{Ne.each(W,(oe,Re)=>{N.setAttribute(Re,oe)})},$u=(N,W,oe)=>{Hu(W,oe["list-attributes"]),Ne.each(N.select("li",W),Re=>{Hu(Re,oe["list-item-attributes"])})},aa=(N,W,oe)=>{nc(N,W,oe),$u(N,W,oe)},xf=(N,W,oe)=>{Ne.each(oe,Re=>N.setStyle(W,Re,""))},Am=(N,W)=>I(W)&&!Tr(W,N.schema.getBlockElements()),Ov=(N,W,oe,Re)=>{let $e=W[oe?"startContainer":"endContainer"];const Rt=W[oe?"startOffset":"endOffset"];Wt($e)&&($e=$e.childNodes[Math.min(Rt,$e.childNodes.length-1)]||$e),!oe&&ks($e.nextSibling)&&($e=$e.nextSibling);const jn=lo=>{for(;!N.dom.isBlock(lo)&&lo.parentNode&&Re!==lo;)lo=lo.parentNode;return lo},po=(lo,Tn)=>{var bs;const Zr=new Yc(lo,jn(lo)),Sr=Tn?"next":"prev";let Oc;for(;Oc=Zr[Sr]();)if(!(_o(N,Oc)||Em(Oc.textContent)||((bs=Oc.textContent)===null||bs===void 0?void 0:bs.length)===0))return K.some(Oc);return K.none()};if(oe&&Je($e))if(Em($e.textContent))$e=po($e,!1).getOr($e);else for($e.parentNode!==null&&Am(N,$e.parentNode)&&($e=$e.parentNode);$e.previousSibling!==null&&(Am(N,$e.previousSibling)||Je($e.previousSibling));)$e=$e.previousSibling;if(!oe&&Je($e))if(Em($e.textContent))$e=po($e,!0).getOr($e);else for($e.parentNode!==null&&Am(N,$e.parentNode)&&($e=$e.parentNode);$e.nextSibling!==null&&(Am(N,$e.nextSibling)||Je($e.nextSibling));)$e=$e.nextSibling;for(;$e.parentNode!==Re;){const lo=$e.parentNode;if(jo(N,$e)||/^(TD|TH)$/.test(lo.nodeName))return $e;$e=lo}return $e},wi=(N,W,oe)=>{const Re=[],$e=N.dom,Rt=Ov(N,W,!0,oe),jn=Ov(N,W,!1,oe);let po;const lo=[];for(let Tn=Rt;Tn&&(lo.push(Tn),Tn!==jn);Tn=Tn.nextSibling);return Ne.each(lo,Tn=>{var bs;if(jo(N,Tn)){Re.push(Tn),po=null;return}if($e.isBlock(Tn)||ks(Tn)){ks(Tn)&&$e.remove(Tn),po=null;return}const Zr=Tn.nextSibling;if(Hg.isBookmarkNode(Tn)&&(nn(Zr)||jo(N,Zr)||!Zr&&Tn.parentNode===oe)){po=null;return}po||(po=$e.create("p"),(bs=Tn.parentNode)===null||bs===void 0||bs.insertBefore(po,Tn),Re.push(po)),po.appendChild(Tn)}),Re},Wn=(N,W,oe)=>{const Re=N.getStyle(W,"list-style-type");let $e=oe?oe["list-style-type"]:"";return $e=$e===null?"":$e,Re===$e},Uu=(N,W)=>{const oe=N.selection.getStart(!0),Re=Ov(N,W,!0,N.getBody());return Tv(pe.fromDom(Re),pe.fromDom(W.commonAncestorContainer))?W.commonAncestorContainer:oe},Tm=(N,W,oe)=>{const Re=N.selection.getRng();let $e="LI";const Rt=Ad(N,Uu(N,Re)),jn=N.dom;if(jn.getContentEditable(N.selection.getNode())==="false")return;W=W.toUpperCase(),W==="DL"&&($e="DT");const po=Yo(Re),lo=O(wi(N,Re,Rt),N.dom.isEditable);Ne.each(lo,Tn=>{let bs;const Zr=Tn.previousSibling,Sr=Tn.parentNode;an(Sr)||(Zr&&nn(Zr)&&Zr.nodeName===W&&Wn(jn,Zr,oe)?(bs=Zr,Tn=jn.rename(Tn,$e),Zr.appendChild(Tn)):(bs=jn.create(W),Sr.insertBefore(bs,Tn),bs.appendChild(Tn),Tn=jn.rename(Tn,$e)),xf(jn,Tn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),aa(jn,bs,oe),Nd(N.dom,bs))}),N.selection.setRng(ia(po))},la=(N,W)=>nn(N)&&N.nodeName===(W==null?void 0:W.nodeName),Wu=(N,W,oe)=>{const Re=N.getStyle(W,"list-style-type",!0),$e=N.getStyle(oe,"list-style-type",!0);return Re===$e},Ml=(N,W)=>N.className===W.className,Zu=(N,W,oe)=>la(W,oe)&&Wu(N,W,oe)&&Ml(W,oe),Nd=(N,W)=>{let oe,Re=W.nextSibling;if(Zu(N,W,Re)){const $e=Re;for(;oe=$e.firstChild;)W.appendChild(oe);N.remove($e)}if(Re=W.previousSibling,Zu(N,W,Re)){const $e=Re;for(;oe=$e.lastChild;)W.insertBefore(oe,W.firstChild);N.remove($e)}},Ci=(N,W,oe,Re)=>{if(W.nodeName!==oe){const $e=N.dom.rename(W,oe);aa(N.dom,$e,Re),hf(N,zu(oe),$e)}else aa(N.dom,W,Re),hf(N,zu(oe),W)},oc=(N,W,oe,Re)=>{if(W.classList.forEach(($e,Rt,jn)=>{$e.startsWith("tox-")&&(jn.remove($e),jn.length===0&&W.removeAttribute("class"))}),W.nodeName!==oe){const $e=N.dom.rename(W,oe);aa(N.dom,$e,Re),hf(N,zu(oe),$e)}else aa(N.dom,W,Re),hf(N,zu(oe),W)},su=(N,W,oe,Re,$e)=>{const Rt=nn(W);if(Rt&&W.nodeName===Re&&!Om($e)&&!ep(W))yf(N);else{Tm(N,Re,$e);const jn=Yo(N.selection.getRng()),po=Rt?[W,...oe]:oe,lo=Rt&&ep(W)?oc:Ci;Ne.each(po,Tn=>{lo(N,Tn,Re,$e)}),N.selection.setRng(ia(jn))}},Om=N=>"list-style-type"in N,U1=(N,W,oe,Re)=>{if(W!==N.getBody())if(W)if(W.nodeName===oe&&!Om(Re)&&!ep(W))yf(N);else{const $e=Yo(N.selection.getRng());ep(W)&&W.classList.forEach((jn,po,lo)=>{jn.startsWith("tox-")&&(lo.remove(jn),lo.length===0&&W.removeAttribute("class"))}),aa(N.dom,W,Re);const Rt=N.dom.rename(W,oe);Nd(N.dom,Rt),N.selection.setRng(ia($e)),Tm(N,oe,Re),hf(N,zu(oe),Rt)}else Tm(N,oe,Re),hf(N,zu(oe),W)},ju=(N,W,oe)=>{const Re=na(N);if(gf(N,Re))return;const $e=Xa(N),Rt=x(oe)?oe:{};$e.length>0?su(N,Re,$e,W,Rt):U1(N,Re,W,Rt)},wf=nt.DOM,Dv=(N,W)=>{const oe=W.parentElement;if(oe&&oe.nodeName==="LI"&&oe.firstChild===W){const Re=oe.previousSibling;Re&&Re.nodeName==="LI"?(Re.appendChild(W),ta(N,oe)&&wf.remove(oe)):wf.setStyle(oe,"listStyleType","none")}if(nn(oe)){const Re=oe.previousSibling;Re&&Re.nodeName==="LI"&&Re.appendChild(W)}},Cr=(N,W)=>{const oe=Ne.grep(N.select("ol,ul",W));Ne.each(oe,Re=>{Dv(N,Re)})},Ba=(N,W,oe,Re)=>{let $e=W.startContainer;const Rt=W.startOffset;if(Je($e)&&(oe?Rt<$e.data.length:Rt>0))return $e;const jn=N.schema.getNonEmptyElements();Wt($e)&&($e=qc.getNode($e,Rt));const po=new Yc($e,Re);oe&&Rl(N.dom,$e)&&po.next();const lo=oe?po.next.bind(po):po.prev2.bind(po);for(;$e=lo();)if($e.nodeName==="LI"&&!$e.hasChildNodes()||jn[$e.nodeName]||Je($e)&&$e.data.length>0)return $e;return null},Ea=(N,W)=>{const oe=W.childNodes;return oe.length===1&&!nn(oe[0])&&N.isBlock(oe[0])},Qa=N=>K.from(N).map(pe.fromDom).filter(hn).exists(W=>ym(W)&&!qe(["details"],cs(W))),hi=(N,W)=>{Ea(N,W)&&Qa(W.firstChild)&&N.remove(W.firstChild,!0)},op=(N,W,oe)=>{let Re;const $e=Ea(N,oe)?oe.firstChild:oe;if(hi(N,W),!ta(N,W,!0))for(;Re=W.firstChild;)$e.appendChild(Re)},li=(N,W,oe)=>{let Re;const $e=W.parentNode;if(!co(N,W)||!co(N,oe))return;nn(oe.lastChild)&&(Re=oe.lastChild),$e===oe.lastChild&&ks($e.previousSibling)&&N.remove($e.previousSibling);const Rt=oe.lastChild;Rt&&ks(Rt)&&W.hasChildNodes()&&N.remove(Rt),ta(N,oe,!0)&&Dl(pe.fromDom(oe)),op(N,W,oe),Re&&oe.appendChild(Re);const po=vt(pe.fromDom(oe),pe.fromDom(W))?N.getParents(W,nn,oe):[];N.remove(W),Le(po,lo=>{ta(N,lo)&&lo!==N.getRoot()&&N.remove(lo)})},Wi=(N,W,oe)=>{Dl(pe.fromDom(oe)),li(N.dom,W,oe),N.selection.setCursorLocation(oe,0)},ru=(N,W,oe,Re)=>{const $e=N.dom;if($e.isEmpty(Re))Wi(N,oe,Re);else{const Rt=Yo(W);li($e,oe,Re),N.selection.setRng(ia(Rt))}},Dt=(N,W,oe,Re)=>{const $e=Yo(W);li(N.dom,oe,Re);const Rt=ia($e);N.selection.setRng(Rt)},Zi=(N,W)=>{const oe=N.dom,Re=N.selection,$e=Re.getStart(),Rt=Bo(N,$e),jn=oe.getParent(Re.getStart(),"LI",Rt);if(jn){const po=jn.parentElement;if(po===N.getBody()&&ta(oe,po))return!0;const lo=Xs(Re.getRng()),Tn=oe.getParent(Ba(N,lo,W,Rt),"LI",Rt),bs=Tn&&(W?oe.isChildOf(jn,Tn):oe.isChildOf(Tn,jn));if(Tn&&Tn!==jn&&!bs)return N.undoManager.transact(()=>{W?ru(N,lo,Tn,jn):Mo(jn)?nu(N):Dt(N,lo,jn,Tn)}),!0;if(bs&&!W&&Tn!==jn)return N.undoManager.transact(()=>{if(lo.commonAncestorContainer.parentElement){const Zr=Yo(lo),Sr=lo.commonAncestorContainer.parentElement;op(oe,lo.commonAncestorContainer.parentElement,Tn),Sr.remove();const Oc=ia(Zr);N.selection.setRng(Oc)}}),!0;if(!Tn&&!W&&lo.startOffset===0&&lo.endOffset===0)return N.undoManager.transact(()=>{yf(N)}),!0}return!1},sp=(N,W,oe)=>{const Re=N.getParent(W.parentNode,N.isBlock,oe);N.remove(W),Re&&N.isEmpty(Re)&&N.remove(Re)},_r=(N,W)=>{const oe=N.dom,Re=N.selection.getStart(),$e=Bo(N,Re),Rt=oe.getParent(Re,oe.isBlock,$e);if(Rt&&oe.isEmpty(Rt,void 0,{checkRootAsContent:!0})){const jn=Xs(N.selection.getRng()),po=oe.getParent(Ba(N,jn,W,$e),"LI",$e);if(po){const lo=Sr=>qe(["td","th","caption"],cs(Sr)),Tn=Sr=>Sr.dom===$e,bs=Ti(pe.fromDom(po),lo,Tn),Zr=Ti(pe.fromDom(jn.startContainer),lo,Tn);return fn(bs,Zr,zt)?(N.undoManager.transact(()=>{const Sr=po.parentNode;sp(oe,Rt,$e),Nd(oe,Sr),N.selection.select(po,!0),N.selection.collapse(W)}),!0):!1}}return!1},Ku=(N,W)=>Zi(N,W)||_r(N,W),La=N=>{const W=N.selection.getStart(),oe=Bo(N,W);return N.dom.getParent(W,"LI,DT,DD",oe)||Pl(N).length>0},Ac=N=>La(N)?(N.undoManager.transact(()=>{N.execCommand("Delete"),Cr(N.dom,N.getBody())}),!0):!1,Dm=(N,W)=>{const oe=N.selection;return!gf(N,oe.getNode())&&(oe.isCollapsed()?Ku(N,W):Ac(N))},el=N=>{N.on("ExecCommand",W=>{const oe=W.command.toLowerCase();(oe==="delete"||oe==="forwarddelete")&&La(N)&&Cr(N.dom,N.getBody())}),N.on("keydown",W=>{W.keyCode===df.BACKSPACE?Dm(N,!1)&&W.preventDefault():W.keyCode===df.DELETE&&Dm(N,!0)&&W.preventDefault()})},Ko=N=>({backspaceDelete:W=>{Dm(N,W)}}),Ur=(N,W)=>{const oe=na(N);oe===null||gf(N,oe)||N.undoManager.transact(()=>{x(W.styles)&&N.dom.setStyles(oe,W.styles),x(W.attrs)&&Br(W.attrs,(Re,$e)=>N.dom.setAttrib(oe,$e,Re))})},Cf=N=>{const W=Lt(nx(N).split("")),oe=Ee(W,(Re,$e)=>{const Rt=Re.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,$e)*Rt});return ct(oe,(Re,$e)=>Re+$e,0)},Lr=N=>{if(N--,N<0)return"";{const W=N%26,oe=Math.floor(N/26),Re=Lr(oe),$e=String.fromCharCode(65+W);return Re+$e}},$g=N=>/^[A-Z]+$/.test(N),iu=N=>/^[a-z]+$/.test(N),W1=N=>/^[0-9]+$/.test(N),Dr=N=>W1(N)?2:$g(N)?0:iu(N)?1:kv(N)?3:4,it=N=>{switch(Dr(N)){case 2:return K.some({listStyleType:K.none(),start:N});case 0:return K.some({listStyleType:K.some("upper-alpha"),start:Cf(N).toString()});case 1:return K.some({listStyleType:K.some("lower-alpha"),start:Cf(N).toString()});case 3:return K.some({listStyleType:K.none(),start:""});case 4:return K.none()}},Fa=N=>{const W=parseInt(N.start,10);return Fn(N.listStyleType,"upper-alpha")?Lr(W):Fn(N.listStyleType,"lower-alpha")?Lr(W).toLowerCase():N.start},Wr=N=>{const W=na(N);!vn(W)||gf(N,W)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Fa({start:N.dom.getAttrib(W,"start","1"),listStyleType:K.from(N.dom.getStyle(W,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:oe=>{const Re=oe.getData();it(Re.start).each($e=>{N.execCommand("mceListUpdate",!1,{attrs:{start:$e.start==="1"?"":$e.start},styles:{"list-style-type":$e.listStyleType.getOr("")}})}),oe.close()}})},Zl=(N,W)=>()=>{const oe=na(N);return I(oe)&&oe.nodeName===W},Tc=N=>{N.addCommand("mceListProps",()=>{Wr(N)})},ti=N=>{N.on("BeforeExecCommand",W=>{const oe=W.command.toLowerCase();oe==="indent"?Ja(N):oe==="outdent"&&nu(N)}),N.addCommand("InsertUnorderedList",(W,oe)=>{ju(N,"UL",oe)}),N.addCommand("InsertOrderedList",(W,oe)=>{ju(N,"OL",oe)}),N.addCommand("InsertDefinitionList",(W,oe)=>{ju(N,"DL",oe)}),N.addCommand("RemoveList",()=>{yf(N)}),Tc(N),N.addCommand("mceListUpdate",(W,oe)=>{x(oe)&&Ur(N,oe)}),N.addQueryStateHandler("InsertUnorderedList",Zl(N,"UL")),N.addQueryStateHandler("InsertOrderedList",Zl(N,"OL")),N.addQueryStateHandler("InsertDefinitionList",Zl(N,"DL"))};var Qs=tinymce.util.Tools.resolve("tinymce.html.Node");const Ds=N=>N.type===3,Va=N=>N.length===0,jl=N=>{const W=($e,Rt)=>{const jn=Qs.create("li");Le($e,po=>jn.append(po)),Rt?N.insert(jn,Rt,!0):N.append(jn)},oe=($e,Rt)=>Ds(Rt)?[...$e,Rt]:!Va($e)&&!Ds(Rt)?(W($e,Rt),[]):$e,Re=ct(N.children(),oe,[]);Va(Re)||W(Re)},au=N=>{N.on("PreInit",()=>{const{parser:W}=N;W.addNodeFilter("ul,ol",oe=>Le(oe,jl))})},Pd=N=>{N.on("keydown",W=>{W.keyCode!==df.TAB||df.metaKeyPressed(W)||N.undoManager.transact(()=>{(W.shiftKey?nu(N):Ja(N))&&W.preventDefault()})})},Rm=N=>{wr(N)&&Pd(N),el(N)},Ug=(N,W)=>oe=>{const Re=$e=>{oe.setActive(V1($e.parents,W)),oe.setEnabled(!gf(N,$e.element)&&N.selection.isEditable())};return oe.setEnabled(N.selection.isEditable()),z1(N,Re)},Wg=N=>{const W=oe=>()=>N.execCommand(oe);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:W("InsertOrderedList"),onSetup:Ug(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:W("InsertUnorderedList"),onSetup:Ug(N,"UL")}))},Rv=(N,W)=>oe=>z1(N,$e=>oe.setEnabled(V1($e.parents,W)&&!gf(N,$e.element))),Iv=N=>{const W={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:Rv(N,"OL")};N.ui.registry.addMenuItem("listprops",W),N.ui.registry.addContextMenu("lists",{update:oe=>{const Re=na(N,oe);return vn(Re)?["listprops"]:[]}})};var Gu=()=>{n.add("lists",N=>(fl(N),au(N),N.hasPlugin("rtc",!0)?Tc(N):(Rm(N),ti(N)),Wg(N),Iv(N),Ko(N)))};Gu()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(ie,xe)=>ie.dispatch("insertCustomChar",{chr:xe}),l=(ie,xe)=>{const Be=r(ie,xe).chr;ie.execCommand("mceInsertContent",!1,Be)},d=(ie,xe,Be)=>{var pe;return Be(ie,xe.prototype)?!0:((pe=ie.constructor)===null||pe===void 0?void 0:pe.name)===xe.name},g=ie=>{const xe=typeof ie;return ie===null?"null":xe==="object"&&Array.isArray(ie)?"array":xe==="object"&&d(ie,String,(Be,pe)=>pe.isPrototypeOf(Be))?"string":xe},v=ie=>xe=>g(xe)===ie,x=ie=>xe=>typeof xe===ie,S=ie=>xe=>ie===xe,M=v("array"),R=S(null),I=S(void 0),L=ie=>ie==null,$=ie=>!L(ie),G=x("function"),ne=(ie=>()=>ie)(!1);class ce{constructor(xe,Be){this.tag=xe,this.value=Be}static some(xe){return new ce(!0,xe)}static none(){return ce.singletonNone}fold(xe,Be){return this.tag?Be(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?ce.some(xe(this.value)):ce.none()}bind(xe){return this.tag?xe(this.value):ce.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:ce.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return $(xe)?ce.some(xe):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const le=Array.prototype.push,Me=(ie,xe)=>{const Be=ie.length,pe=new Array(Be);for(let gt=0;gt<Be;gt++){const zt=ie[gt];pe[gt]=xe(zt,gt)}return pe},he=(ie,xe)=>{for(let Be=0,pe=ie.length;Be<pe;Be++){const gt=ie[Be];xe(gt,Be)}},K=(ie,xe,Be)=>{for(let pe=0,gt=ie.length;pe<gt;pe++){const zt=ie[pe];if(xe(zt,pe))return ce.some(zt);if(Be(zt,pe))break}return ce.none()},ye=(ie,xe)=>K(ie,xe,ne),ae=ie=>{const xe=[];for(let Be=0,pe=ie.length;Be<pe;++Be){if(!M(ie[Be]))throw new Error("Arr.flatten item "+Be+" was not an array, input: "+ie);le.apply(xe,ie[Be])}return xe},Ue=(ie,xe)=>ae(Me(ie,xe));var We=tinymce.util.Tools.resolve("tinymce.util.Tools");const qe=ie=>xe=>xe.options.get(ie),st=ie=>{const xe=ie.options.register,Be=pe=>G(pe)||M(pe);xe("charmap",{processor:Be}),xe("charmap_append",{processor:Be})},Ee=qe("charmap"),Le=qe("charmap_append"),O=We.isArray,Ke="User Defined",ct=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],$t=ie=>We.grep(ie,xe=>O(xe)&&xe.length===2),Jt=ie=>O(ie)?$t(ie):typeof ie=="function"?ie():[],et=(ie,xe)=>{const Be=Ee(ie);Be&&(xe=[{name:Ke,characters:Jt(Be)}]);const pe=Le(ie);if(pe){const gt=We.grep(xe,zt=>zt.name===Ke);return gt.length?(gt[0].characters=[...gt[0].characters,...Jt(pe)],xe):xe.concat({name:Ke,characters:Jt(pe)})}return xe},pt=ie=>{const xe=et(ie,ct());return xe.length>1?[{name:"All",characters:Ue(xe,Be=>Be.characters)}].concat(xe):xe},Lt=ie=>({getCharMap:()=>pt(ie),insertChar:pe=>{l(ie,pe)}}),tt=ie=>{let xe=ie;return{get:()=>xe,set:gt=>{xe=gt}}},Ye=(ie,xe)=>{let Be=null;const pe=()=>{R(Be)||(clearTimeout(Be),Be=null)};return{cancel:pe,throttle:(...zt)=>{pe(),Be=setTimeout(()=>{Be=null,ie.apply(null,zt)},xe)}}},Mt=(ie,xe,Be=0,pe)=>{const gt=ie.indexOf(xe,Be);return gt!==-1?I(pe)?!0:gt+xe.length<=pe:!1},oo=String.fromCodePoint,Fn=(ie,xe,Be)=>Mt(oo(ie).toLowerCase(),Be)?!0:Mt(xe.toLowerCase(),Be)||Mt(xe.toLowerCase().replace(/\s+/g,""),Be),fn=(ie,xe)=>{const Be=[],pe=xe.toLowerCase();return he(ie.characters,gt=>{Fn(gt[0],gt[1],pe)&&Be.push(gt)}),Me(Be,gt=>({text:gt[1],value:oo(gt[0]),icon:oo(gt[0])}))},_n="pattern",Q=(ie,xe)=>{const Be=()=>[{label:"Search",type:"input",name:_n},{type:"collection",name:"results"}],pe=()=>Me(xe,Do=>({title:Do.name,name:Do.name,items:Be()})),gt=()=>({type:"panel",items:Be()}),zt=()=>({type:"tabpanel",tabs:pe()}),vt=xe.length===1?tt(Ke):tt("All"),Ft=(Do,$o)=>{ye(xe,cs=>cs.name===vt.get()).each(cs=>{const ar=fn(cs,$o);Do.setData({results:ar})})},wn=Ye(Do=>{const $o=Do.getData().pattern;Ft(Do,$o)},40),cn=xe.length===1?gt():zt(),An={pattern:"",results:fn(xe[0],"")},On={title:"Special Character",size:"normal",body:cn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:An,onAction:(Do,$o)=>{$o.name==="results"&&(l(ie,$o.value),Do.close())},onTabChange:(Do,$o)=>{vt.set($o.newTabName),wn.throttle(Do)},onChange:(Do,$o)=>{$o.name===_n&&wn.throttle(Do)}};ie.windowManager.open(On).focus(_n)},xs=(ie,xe)=>{ie.addCommand("mceShowCharmap",()=>{Q(ie,xe)})},eo=(ie,xe)=>{ie.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Be,pe)=>new Promise((gt,zt)=>{gt(fn(xe,Be))}),onAction:(Be,pe,gt)=>{ie.selection.setRng(pe),ie.insertContent(gt),Be.hide()}})},tn=ie=>xe=>{const Be=()=>{xe.setEnabled(ie.selection.isEditable())};return ie.on("NodeChange",Be),Be(),()=>{ie.off("NodeChange",Be)}},Oo=ie=>{const xe=()=>ie.execCommand("mceShowCharmap");ie.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:tn(ie)}),ie.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:tn(ie)})};var je=()=>{n.add("charmap",ie=>{st(ie);const xe=pt(ie);return xs(ie,xe),Oo(ie),eo(ie,xe[0]),Lt(ie)})};je()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ie=>xe=>ie===xe)(null),d=ie=>ie,g=(ie,xe)=>{const Be=ie.length,pe=new Array(Be);for(let gt=0;gt<Be;gt++){const zt=ie[gt];pe[gt]=xe(zt,gt)}return pe},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},M=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],R="",I=new RegExp("^"+x.punctuation+"$"),L=/^\s+$/,$=M,G=S.OTHER,X=ie=>{let xe=G;const Be=$.length;for(let pe=0;pe<Be;++pe){const gt=$[pe];if(gt&&gt.test(ie)){xe=pe;break}}return xe},ne=ie=>{const xe={};return Be=>{if(xe[Be])return xe[Be];{const pe=ie(Be);return xe[Be]=pe,pe}}},ce=ie=>{const xe=ne(X);return g(ie,xe)},le=(ie,xe)=>{const Be=ie[xe],pe=ie[xe+1];if(xe<0||xe>ie.length-1&&xe!==0||Be===S.ALETTER&&pe===S.ALETTER)return!1;const gt=ie[xe+2];if(Be===S.ALETTER&&(pe===S.MIDLETTER||pe===S.MIDNUMLET||pe===S.AT)&&gt===S.ALETTER)return!1;const zt=ie[xe-1];return(Be===S.MIDLETTER||Be===S.MIDNUMLET||pe===S.AT)&&pe===S.ALETTER&&zt===S.ALETTER||(Be===S.NUMERIC||Be===S.ALETTER)&&(pe===S.NUMERIC||pe===S.ALETTER)||(Be===S.MIDNUM||Be===S.MIDNUMLET)&&pe===S.NUMERIC&&zt===S.NUMERIC||Be===S.NUMERIC&&(pe===S.MIDNUM||pe===S.MIDNUMLET)&&gt===S.NUMERIC||(Be===S.EXTEND||Be===S.FORMAT)&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA||pe===S.EXTEND||pe===S.FORMAT)||(pe===S.EXTEND||pe===S.FORMAT&&(gt===S.ALETTER||gt===S.NUMERIC||gt===S.KATAKANA||gt===S.EXTEND||gt===S.FORMAT))&&(Be===S.ALETTER||Be===S.NUMERIC||Be===S.KATAKANA||Be===S.EXTEND||Be===S.FORMAT)||Be===S.CR&&pe===S.LF?!1:Be===S.NEWLINE||Be===S.CR||Be===S.LF||pe===S.NEWLINE||pe===S.CR||pe===S.LF?!0:!(Be===S.KATAKANA&&pe===S.KATAKANA||pe===S.EXTENDNUMLET&&(Be===S.ALETTER||Be===S.NUMERIC||Be===S.KATAKANA||Be===S.EXTENDNUMLET)||Be===S.EXTENDNUMLET&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA)||Be===S.AT)},Me=R,he=L,K=I,ye=ie=>ie==="http"||ie==="https",ae=(ie,xe)=>{let Be;for(Be=xe;Be<ie.length&&!he.test(ie[Be]);Be++);return Be},Ue=(ie,xe)=>{const Be=ae(ie,xe+1);return ie.slice(xe+1,Be).join(Me).substr(0,3)==="://"?Be:xe},We=(ie,xe,Be,pe)=>{const gt=[],zt=[];let vt=[];for(let Ft=0;Ft<Be.length;++Ft)if(vt.push(ie[Ft]),le(Be,Ft)){const Vt=xe[Ft];if((pe.includeWhitespace||!he.test(Vt))&&(pe.includePunctuation||!K.test(Vt))){const wn=Ft-vt.length+1,cn=Ft+1,An=xe.slice(wn,cn).join(Me);if(ye(An)){const On=Ue(xe,Ft),wo=ie.slice(cn,On);Array.prototype.push.apply(vt,wo),Ft=On}xe[Ft+1]==="."&&/^([a-zA-Z]\.)+$/.test(An+".")?(vt.push(ie[Ft+1]),zt.push({start:wn,end:cn+1})):zt.push({start:wn,end:cn}),gt.push(vt)}vt=[]}return{words:gt,indices:zt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),st=(ie,xe,Be)=>{Be={...qe(),...Be};const pe=g(ie,xe),gt=ce(pe);return We(ie,pe,gt,Be)},Le=(ie,xe,Be)=>st(ie,xe,Be).words,O=ie=>ie.replace(/\uFEFF/g,"");var Ke=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ct=(ie,xe)=>{const Be=xe.getBlockElements(),pe=xe.getVoidElements(),gt=wn=>Be[wn.nodeName]||pe[wn.nodeName],zt=[];let vt="";const Ft=new Ke(ie,ie);let Vt;for(;Vt=Ft.next();)Vt.nodeType===3?vt+=O(Vt.data):gt(Vt)&&vt.length&&(zt.push(vt),vt="");return vt.length&&zt.push(vt),zt},$t=ie=>ie.replace(/\u200B/g,""),Jt=ie=>ie.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,et=(ie,xe)=>{const Be=$t(ct(ie,xe).join(`
`));return Le(Be.split(""),d).length},pt=(ie,xe)=>{const Be=ct(ie,xe).join("");return Jt(Be)},Lt=(ie,xe)=>{const Be=ct(ie,xe).join("").replace(/\s/g,"");return Jt(Be)},tt=(ie,xe)=>()=>xe(ie.getBody(),ie.schema),Ye=(ie,xe)=>()=>xe(ie.selection.getRng().cloneContents(),ie.schema),Mt=ie=>tt(ie,et),oo=ie=>({body:{getWordCount:Mt(ie),getCharacterCount:tt(ie,pt),getCharacterCountWithoutSpaces:tt(ie,Lt)},selection:{getWordCount:Ye(ie,et),getCharacterCount:Ye(ie,pt),getCharacterCountWithoutSpaces:Ye(ie,Lt)},getCount:Mt(ie)}),Fn=(ie,xe)=>{ie.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},fn=(ie,xe)=>{ie.addCommand("mceWordCount",()=>Fn(ie,xe))},_n=(ie,xe)=>{let Be=null;return{cancel:()=>{l(Be)||(clearTimeout(Be),Be=null)},throttle:(...zt)=>{l(Be)&&(Be=setTimeout(()=>{Be=null,ie.apply(null,zt)},xe))}}};var Q=tinymce.util.Tools.resolve("tinymce.util.Delay");const xs=(ie,xe)=>{ie.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},eo=(ie,xe)=>{xs(ie,xe)},tn=(ie,xe,Be)=>{const pe=_n(()=>eo(ie,xe),Be);ie.on("init",()=>{eo(ie,xe),Q.setEditorTimeout(ie,()=>{ie.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",pe.throttle)},0),ie.on("remove",pe.cancel)})},Oo=ie=>{const xe=()=>ie.execCommand("mceWordCount");ie.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),ie.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var je=(ie=300)=>{n.add("wordcount",xe=>{const Be=oo(xe);return fn(xe,Be),Oo(xe),tn(xe,Be,ie),Be})};je()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var Q0e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],eye=function(n){return Q0e.map(function(r){return r.toLowerCase()}).indexOf(n.toLowerCase())!==-1},tye=function(n,r,l){Object.keys(r).filter(eye).forEach(function(d){var g=r[d];typeof g=="function"&&(d==="onInit"?g(n,l):l.on(d.substring(2),function(v){return g(v,l)}))})},nye=function(n,r,l,d){var g=n.modelEvents?n.modelEvents:null,v=Array.isArray(g)?g.join(" "):g;zn(d,function(x,S){l&&typeof x=="string"&&x!==S&&x!==l.getContent({format:n.outputFormat})&&l.setContent(x)}),l.on(v||"change input undo redo",function(){r.emit("update:modelValue",l.getContent({format:n.outputFormat}))})},oye=function(n,r,l,d,g,v){d.setContent(v()),l.attrs["onUpdate:modelValue"]&&nye(r,l,d,g),tye(n,l.attrs,d)},Fq=0,vee=function(n){var r=Date.now(),l=Math.floor(Math.random()*1e9);return Fq++,n+"_"+l+Fq+String(r)},sye=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},Vq=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},rye=function(n,r){return Vq(n).concat(Vq(r))},iye=function(n){return n==null},zq=function(){return{listeners:[],scriptId:vee("tiny-script"),scriptLoaded:!1}},aye=function(){var n=zq(),r=function(g,v,x,S){var M=v.createElement("script");M.referrerPolicy="origin",M.type="application/javascript",M.id=g,M.src=x;var R=function(){M.removeEventListener("load",R),S()};M.addEventListener("load",R),v.head&&v.head.appendChild(M)},l=function(g,v,x){n.scriptLoaded?x():(n.listeners.push(x),g.getElementById(n.scriptId)||r(n.scriptId,g,v,function(){n.listeners.forEach(function(S){return S()}),n.scriptLoaded=!0}))},d=function(){n=zq()};return{load:l,reinitialize:d}},lye=aye(),cye=function(){return typeof window<"u"?window:global},Jw=function(){var n=cye();return n&&n.tinymce?n.tinymce:null},uye={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},uv=function(){return uv=Object.assign||function(n){for(var r,l=1,d=arguments.length;l<d;l++){r=arguments[l];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(n[g]=r[g])}return n},uv.apply(this,arguments)},dye=function(n,r,l,d){return n(d||"div",{id:r,ref:l})},fye=function(n,r,l){return n("textarea",{id:r,visibility:"hidden",ref:l})},h$={selector:void 0,target:void 0},mye=TY({props:uye,setup:function(n,r){var l=n.init?uv(uv({},n.init),h$):uv({},h$),d=SD(n),g=d.disabled,v=d.modelValue,x=d.tagName,S=Mn(null),M=null,R=n.id||vee("tiny-vue"),I=n.init&&n.init.inline||n.inline,L=!!r.attrs["onUpdate:modelValue"],$=!0,G=n.initialValue?n.initialValue:"",X="",ne=function(Me){return L?function(){return v!=null&&v.value?v.value:""}:function(){return Me?G:X}},ce=function(){var Me=ne($),he=uv(uv({},l),{readonly:n.disabled,target:S.value,plugins:rye(l.plugins,n.plugins),toolbar:n.toolbar||l.toolbar,inline:I,setup:function(K){M=K,K.on("init",function(ye){return oye(ye,n,r,K,v,Me)}),typeof l.setup=="function"&&l.setup(K)}});sye(S.value)&&(S.value.style.visibility=""),Jw().init(he),$=!1};zn(g,function(Me){var he;M!==null&&(typeof((he=M.mode)===null||he===void 0?void 0:he.set)=="function"?M.mode.set(Me?"readonly":"design"):M.setMode(Me?"readonly":"design"))}),zn(x,function(Me){var he;L||(X=M.getContent()),(he=Jw())===null||he===void 0||he.remove(M),Fs(function(){return ce()})}),Iu(function(){if(Jw()!==null)ce();else if(S.value&&S.value.ownerDocument){var Me=n.cloudChannel?n.cloudChannel:"7",he=n.apiKey?n.apiKey:"no-api-key",K=iye(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(he,"/tinymce/").concat(Me,"/tinymce.min.js"):n.tinymceScriptSrc;lye.load(S.value.ownerDocument,K,ce)}}),Cc(function(){Jw()!==null&&Jw().remove(M)}),I||(xU(function(){$||ce()}),$L(function(){var Me;L||(X=M.getContent()),(Me=Jw())===null||Me===void 0||Me.remove(M)}));var le=function(Me){var he;X=M.getContent(),(he=Jw())===null||he===void 0||he.remove(M),l=uv(uv(uv({},l),Me),h$),Fs(function(){return ce()})};return r.expose({rerender:le,getEditor:function(){return M}}),function(){return I?dye(xv,R,S,n.tagName):fye(xv,R,S)}}});const gye=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",hye=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",pye={class:"app-own-summary-text-wrapper"},vye=["for"],bye=["innerHTML"],bee={__name:"OwnSummaryText",props:["editorId"],setup(n){const r=xc(),l=Uy(),d=wc(),g=n;function v(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap"}function x(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}function S(){return{underline:{inline:"u",remove:"all"}}}function M(){return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}function R(){ne(),ce(),I()}async function I(){if(d.focusTarget=="ownSummary"){await Fs();const le=Lq.get(g.editorId);le&&(console.log("editor found"),le.focus())}}zn(()=>d.focusChange,I);function L(){r.updateContent(!0),ne()}function $(){r.updateContent(!0)}function G(){l.zoomSummaryTextIn(),ne()}function X(){l.zoomSummaryTextOut(),ne()}function ne(){try{const le=Lq.get(g.editorId);le&&(le.dom.setStyle(le.dom.doc.body,"font-size",l.summary_text_zoom+"rem"),le.dom.setStyle(le.dom.select("h1"),"font-size",l.summary_text_zoom*1.3+"rem"),le.dom.setStyle(le.dom.select("h2"),"font-size",l.summary_text_zoom*1.15+"rem"),le.dom.setStyle(le.dom.select("h3"),"font-size",l.summary_text_zoom+"rem"),le.dom.setStyle(le.dom.select("h4"),"font-size",l.summary_text_zoom+"rem"),le.dom.setStyle(le.dom.select("h5"),"font-size",l.summary_text_zoom+"rem"),le.dom.setStyle(le.dom.select("h6"),"font-size",l.summary_text_zoom+"rem"))}catch{}}function ce(){for(const le of document.getElementsByClassName("tox-tinymce-aux"))le.classList.add("headlines-three")}return(le,Me)=>(Ln(),ds("div",pye,[ke("label",{for:g.editorId,class:"hidden"},"Verborgenes Feld zum Gutachten",8,vye),re(r).isOwnDisabled?Ts("",!0):(Ln(),rr(re(mye),{key:0,id:g.editorId,modelValue:re(r).editSummary.text,"onUpdate:modelValue":Me[0]||(Me[0]=he=>re(r).editSummary.text=he),onChange:L,onKeydown:re(d).handleKeyDown,onKeyup:$,onInit:R,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!0,elementpath:!1,branding:!1,plugins:"lists charmap wordcount",toolbar:v(),valid_elements:x(),formats:S(),style_formats:M(),custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:re(gye).toString()+`
`+re(hye).toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:"Editor Gutachten",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:function(he){he.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:X}),he.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:G})}}},null,8,["id","modelValue","onKeydown","init"])),re(r).isOwnDisabled?(Ln(),ds("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:re(r).editSummary.text},null,8,bye)):Ts("",!0)]))}},yye={id:"app-own-summary-wrapper"},xye={id:"app-own-summary-points"},wye={__name:"OwnSummary",props:["showCriteria","showText"],setup(n){const r=ps(),l=n;function d(){switch((l.showCriteria?1:0)+(l.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",yye,[l.showCriteria?(Ln(),ds("div",{key:0,class:Cd(d())},[v[0]||(v[0]=ke("h2",{class:"headline"},"bersicht",-1)),j(hee,{class:"content",corrector_key:re(r).correctorKey},null,8,["corrector_key"])],2)):Ts("",!0),l.showText?(Ln(),ds("div",{key:1,class:Cd(d())},[v[1]||(v[1]=ke("h2",{class:"headline"},"Gutachten",-1)),j(bee,{class:"content",editorId:"summary"})],2)):Ts("",!0),ke("div",xye,[v[2]||(v[2]=ke("h2",{class:"headline"},"Gesamtbewertung",-1)),j(X0e,{class:"content"})])]))}},Cye=$l(wye,[["__scopeId","data-v-0c91ce93"]]),_ye={id:"app-summary-points-wrapper"},Sye=["max"],kye={__name:"SummaryPoints",props:["corrector_key"],setup(n){const r=um(),l=Gy(),d=xc(),g=n,v=Mn(0),x=Mn(""),S=Mn(""),M=d.getForCorrector(g.corrector_key);if(M){v.value=M.points;const R=l.getLevel(M.grade_key);R&&(x.value=R.title),S.value=d.getInclusionText(M)}return(R,I)=>(Ln(),ds("div",_ye,[I[2]||(I[2]=ke("label",{for:"appSummaryPoints"},[ke("strong",null,"Wertung:")],-1)),Zn(ke("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:re(r).max_points,"onUpdate:modelValue":I[0]||(I[0]=L=>v.value=L)},null,8,Sye),[[jy,v.value]]),I[3]||(I[3]=Qr(" Punkte  ")),I[4]||(I[4]=ke("strong",null,"Notenstufe:",-1)),Qr(" "+zo(x.value)+" ",1),ke("p",null,[I[1]||(I[1]=ke("strong",null,"Einbeziehen:",-1)),Qr(" "+zo(S.value),1)])]))}},Eye=$l(kye,[["__scopeId","data-v-5ce9c5c8"]]),Aye={class:"app-summary-text-wrapper"},Tye=["innerHTML"],Oye={__name:"SummaryText",props:["corrector_key"],setup(n){const r=xc(),l=n;function d(){let g=r.getForCorrector(l.corrector_key);if(g)return g.text}return(g,v)=>(Ln(),ds("div",Aye,[ke("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:d()},null,8,Tye)]))}},Dye=$l(Oye,[["__scopeId","data-v-089a3707"]]),Rye={id:"app-other-summary-wrapper"},Iye={key:2},Nye={key:3},Pye={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(n){const r=n,l=xc();function d(){switch((r.showCriteria?1:0)+(r.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",Rye,[r.showCriteria&&re(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:0,class:Cd(d())},[v[0]||(v[0]=ke("div",{class:"headline"},"bersicht",-1)),j(hee,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):Ts("",!0),r.showText&&re(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:1,class:Cd(d())},[v[1]||(v[1]=ke("div",{class:"headline"},"Gutachten",-1)),j(Dye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):Ts("",!0),re(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",Iye,[v[2]||(v[2]=ke("div",{class:"headline"},"Gesamtbewertung",-1)),j(Eye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])])):Ts("",!0),re(l).getAuthorizationForCorrector(r.corrector_key)?Ts("",!0):(Ln(),ds("div",Nye," Diese Korrektur ist noch nicht autorisiert. "))]))}},Hq=$l(Pye,[["__scopeId","data-v-1f4a6ccd"]]),Mye=Dn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...f8(),...sW()},"VTextarea"),Bye=Io()({name:"VTextarea",directives:{Intersect:JU},inheritAttrs:!1,props:Mye(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=Hi(n,"modelValue"),{isFocused:x,focus:S,blur:M}=d8(n),R=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):(v.value||"").toString().length),I=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function L(Ee,Le){var O,Ke;!n.autofocus||!Ee||(Ke=(O=Le[0].target)==null?void 0:O.focus)==null||Ke.call(O)}const $=Mn(),G=Mn(),X=To(""),ne=Mn(),ce=Ge(()=>n.persistentPlaceholder||x.value||n.active);function le(){var Ee;ne.value!==document.activeElement&&((Ee=ne.value)==null||Ee.focus()),x.value||S()}function Me(Ee){le(),d("click:control",Ee)}function he(Ee){d("mousedown:control",Ee)}function K(Ee){Ee.stopPropagation(),le(),Fs(()=>{v.value="",vX(n["onClick:clear"],Ee)})}function ye(Ee){var O;const Le=Ee.target;if(v.value=Le.value,(O=n.modelModifiers)!=null&&O.trim){const Ke=[Le.selectionStart,Le.selectionEnd];Fs(()=>{Le.selectionStart=Ke[0],Le.selectionEnd=Ke[1]})}}const ae=Mn(),Ue=Mn(+n.rows),We=Ge(()=>["plain","underlined"].includes(n.variant));uf(()=>{n.autoGrow||(Ue.value=+n.rows)});function qe(){n.autoGrow&&Fs(()=>{if(!ae.value||!G.value)return;const Ee=getComputedStyle(ae.value),Le=getComputedStyle(G.value.$el),O=parseFloat(Ee.getPropertyValue("--v-field-padding-top"))+parseFloat(Ee.getPropertyValue("--v-input-padding-top"))+parseFloat(Ee.getPropertyValue("--v-field-padding-bottom")),Ke=ae.value.scrollHeight,ct=parseFloat(Ee.lineHeight),$t=Math.max(parseFloat(n.rows)*ct+O,parseFloat(Le.getPropertyValue("--v-input-control-height"))),Jt=parseFloat(n.maxRows)*ct+O||1/0,et=$h(Ke??0,$t,Jt);Ue.value=Math.floor((et-O)/ct),X.value=hs(et)})}Iu(qe),zn(v,qe),zn(()=>n.rows,qe),zn(()=>n.maxRows,qe),zn(()=>n.density,qe);let st;return zn(ae,Ee=>{Ee?(st=new ResizeObserver(qe),st.observe(ae.value)):st==null||st.disconnect()}),Cc(()=>{st==null||st.disconnect()}),vs(()=>{const Ee=!!(g.counter||n.counter||n.counterValue),Le=!!(Ee||g.details),[O,Ke]=KL(l),{modelValue:ct,...$t}=qk.filterProps(n),Jt=_Q(n);return j(qk,Zo({ref:$,modelValue:v.value,"onUpdate:modelValue":et=>v.value=et,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":We.value},n.class],style:n.style},O,$t,{centerAffix:Ue.value===1&&!We.value,focused:x.value}),{...g,default:et=>{let{id:pt,isDisabled:Lt,isDirty:tt,isReadonly:Ye,isValid:Mt}=et;return j(rW,Zo({ref:G,style:{"--v-textarea-control-height":X.value},onClick:Me,onMousedown:he,"onClick:clear":K,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},Jt,{id:pt.value,active:ce.value||tt.value,centerAffix:Ue.value===1&&!We.value,dirty:tt.value||n.dirty,disabled:Lt.value,focused:x.value,error:Mt.value===!1}),{...g,default:oo=>{let{props:{class:Fn,...fn}}=oo;return j(us,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[n.prefix]),Zn(j("textarea",Zo({ref:ne,class:Fn,value:v.value,onInput:ye,autofocus:n.autofocus,readonly:Ye.value,disabled:Lt.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:le,onBlur:M},fn,Ke),null),[[Jy("intersect"),{handler:L},null,{once:!0}]]),n.autoGrow&&Zn(j("textarea",{class:[Fn,"v-textarea__sizer"],id:`${fn.id}-sizer`,"onUpdate:modelValue":_n=>v.value=_n,ref:ae,readonly:!0,"aria-hidden":"true"},null),[[jy,v.value]]),n.suffix&&j("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Le?et=>{var pt;return j(us,null,[(pt=g.details)==null?void 0:pt.call(g,et),Ee&&j(us,null,[j("span",null,null),j(CQ,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),iE({},$,G,ne)}}),Lye={key:0},Fye={tabindex:"0"},Vye={class:"pointsInput"},zye={key:1},Hye=["id","max","disabled"],$ye=["for"],Uye=["id","disabled"],Wye=["for"],Zye=["id","disabled"],jye=["for"],Kye={class:"pointsInput"},Gye={__name:"MarkingComment",props:["comment"],setup(n){const r=ps(),l=Ou(),d=xc(),g=um(),v=Uh(),x=E1(),S=wc(),R=n.comment;function I(he){return he.key==l.selectedKey}function L(he){return he.corrector_key==r.correctorKey&&!d.isOwnDisabled}function $(he){return he.rating_excellent||he.rating_cardinal||he.points>0||x.getSumOfPointsForComment(he.key)>0}Iu(()=>{const he=document.getElementById("appCommentContainer"+R.key);for(const K of he.getElementsByTagName("label"))K.getAttribute("for").includes("app-comment-")&&(K.classList.add("sr-only"),K.getAttribute("aria-hidden")=="true"?K.getAttribute("for").includes("-sizer")||K.setAttribute("for",K.getAttribute("for")+"-sizer"):K.setAttribute("id","app-comment-"+R.key+"-messages"));for(const K of he.getElementsByTagName("textarea"))K.style.marginTop="-15px",K.style.fontSize="0.9rem";for(const K of he.getElementsByClassName("v-input__details"))K.style.display="none"});function G(he){return he.key==l.selectedKey?he.rating_excellent?"#BBEBA5":he.rating_cardinal?"#FCB494":"#94C3FC":he.prefix=="own"?he.rating_excellent?"#E3EFDD":he.rating_cardinal?"#FBDED1":"#D8E5F4":he.rating_excellent?"#F7F9F7":he.rating_cardinal?"#FCF6F4":"#F5F7FB"}function X(he){return he.points==0?"white":he.corrector_key!=r.correctorKey?"grey":l.getPointsOfCorrector(he.corrector_key)>g.max_points?"red":"grey"}function ne(he){return v.getCorrectorHasCriteria(he.corrector_key)?x.getSumOfPointsForComment(he.key):he.points}async function ce(he){l.selectComment(he.key),he.rating_excellent&&(he.rating_cardinal=!1),l.setMarkerChange(),l.updateComment(he)}async function le(he){l.selectComment(he.key),he.rating_cardinal&&(he.rating_excellent=!1),l.setMarkerChange(),l.updateComment(he)}async function Me(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),S.showEssay(),await Fs(),l.setCaretRequest();break;case"Delete":event.preventDefault(),l.deleteComment(l.selectedKey);break}}return(he,K)=>(Ln(),rr(tU,{id:"appCommentContainer"+re(R).key,key:re(R).key,class:"commentContainer"},{default:At(()=>[j(C1,{dense:""},{default:At(()=>[j(Jl,{cols:"2"},{default:At(()=>[j(Gn,{size:"small",icon:re(R).getMarkIcon()},null,8,["icon"]),K[20]||(K[20]=Qr("  ")),ke("button",{tabindex:"0",class:Cd("commentLabel "+(re(R).key==re(l).selectedKey?"selected":"")),onClick:K[0]||(K[0]=ye=>re(l).selectComment(re(R).key))},zo(re(R).label),3)]),_:1}),j(Jl,{cols:"9"},{default:At(()=>[j(tU,null,{default:At(()=>[Zn(j(C1,{dense:""},{default:At(()=>[j(Jl,{cols:"12"},{default:At(()=>[j(Bye,{class:"commentInput","bg-color":G(re(R)),rounded:"0",density:"compact",variant:"solo",id:"app-comment-"+re(R).key,label:"Anmerkung zu Markierung "+re(R).label,rows:"1","auto-grow":"",readonly:re(d).isOwnDisabled||re(R).corrector_key!=re(r).correctorKey,onClick:K[1]||(K[1]=ye=>re(l).selectComment(re(R).key)),onChange:K[2]||(K[2]=ye=>re(l).updateComment(re(R))),onKeyup:K[3]||(K[3]=ye=>re(l).updateComment(re(R))),onKeydown:K[4]||(K[4]=ye=>Me()),modelValue:re(R).comment,"onUpdate:modelValue":K[5]||(K[5]=ye=>re(R).comment=ye)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[Ao,I(re(R))]]),Zn(j(C1,{dense:""},{default:At(()=>[j(Jl,{cols:"4"},{default:At(()=>[re(v).getCorrectorHasCriteria(re(R).corrector_key)?Zn((Ln(),ds("span",Lye,[ke("span",Fye,[ke("span",Vye,zo(ne(re(R))),1),K[21]||(K[21]=Qr(" Punkte"))])],512)),[[Ao,re(R).key==re(l).selectedKey||re(x).getCommentHasPoints(re(R).key)]]):Ts("",!0),re(v).getCorrectorHasCriteria(re(R).corrector_key)?Ts("",!0):Zn((Ln(),ds("span",zye,[Zn(ke("input",{class:"pointsInput",type:"number",min:"0",style:Uk("color: "+X(re(R))+";"),id:"pointsInput"+re(R).key,max:re(g).max_points,disabled:re(d).isOwnDisabled||re(R).corrector_key!=re(r).correctorKey,onChange:K[6]||(K[6]=ye=>re(l).updateComment(re(R))),"onUpdate:modelValue":K[7]||(K[7]=ye=>re(R).points=ye)},null,44,Hye),[[jy,re(R).points]]),ke("label",{for:"pointsInput"+re(R).key,onClick:K[8]||(K[8]=ye=>re(l).selectComment(re(R).key))}," Pkt.",8,$ye)],512)),[[Ao,re(R).key==re(l).selectedKey||re(R).points>0]])]),_:1}),j(Jl,{cols:"4"},{default:At(()=>[Zn(ke("span",null,[Zn(ke("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":K[9]||(K[9]=ye=>re(R).rating_excellent=ye),id:"ratingExcellent"+re(R).key,disabled:re(d).isOwnDisabled||re(R).corrector_key!=re(r).correctorKey,onChange:K[10]||(K[10]=ye=>ce(re(R)))},null,40,Uye),[[aG,re(R).rating_excellent]]),ke("label",{for:"ratingExcellent"+re(R).key,onClick:K[11]||(K[11]=ye=>re(l).selectComment(re(R).key))},""+zo(re(g).positive_rating),9,Wye)],512),[[Ao,re(R).rating_excellent||re(R).key==re(l).selectedKey]])]),_:1}),j(Jl,{cols:"4"},{default:At(()=>[Zn(ke("span",null,[Zn(ke("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":K[12]||(K[12]=ye=>re(R).rating_cardinal=ye),id:"ratingCardinal"+re(R).key,disabled:re(d).isOwnDisabled||re(R).corrector_key!=re(r).correctorKey,onChange:K[13]||(K[13]=ye=>le(re(R)))},null,40,Zye),[[aG,re(R).rating_cardinal]]),ke("label",{for:"ratingCardinal"+re(R).key,onClick:K[14]||(K[14]=ye=>re(l).selectComment(re(R).key))},""+zo(re(g).negative_rating),9,jye)],512),[[Ao,re(R).rating_cardinal||re(R).key==re(l).selectedKey]])]),_:1})]),_:1},512),[[Ao,I(re(R))]]),j(C1,{dense:""},{default:At(()=>[Zn(j(Jl,{cols:"12"},{default:At(()=>[Zn(ke("div",{class:"commentDisplay",style:Uk("background-color: "+G(re(R))+";"),onClick:K[15]||(K[15]=ye=>re(l).selectComment(re(R).key))},zo(re(R).comment),5),[[Ao,re(R).comment]])]),_:1},512),[[Ao,!I(re(R))]])]),_:1}),Zn(j(C1,{dense:"",class:"detailsDisplay"},{default:At(()=>[j(Jl,{cols:"4"},{default:At(()=>[Zn(ke("span",{onClick:K[16]||(K[16]=ye=>re(l).selectComment(re(R).key))},[ke("span",Kye,zo(ne(re(R))),1),K[22]||(K[22]=Qr(" Punkte "))],512),[[Ao,ne(re(R))>0]])]),_:1}),j(Jl,{cols:"4"},{default:At(()=>[Zn(ke("span",{onClick:K[17]||(K[17]=ye=>re(l).selectComment(re(R).key))},[j(Gn,{icon:"mdi-checkbox-outline"}),K[23]||(K[23]=Qr(" Exzellent "))],512),[[Ao,re(R).rating_excellent]])]),_:1}),j(Jl,{cols:"4"},{default:At(()=>[Zn(ke("span",{onClick:K[18]||(K[18]=ye=>re(l).selectComment(re(R).key))},[j(Gn,{icon:"mdi-checkbox-outline"}),K[24]||(K[24]=Qr(" Kardinal "))],512),[[Ao,re(R).rating_cardinal]])]),_:1})]),_:1},512),[[Ao,!I(re(R))&&$(re(R))]])]),_:1})]),_:1}),j(Jl,{cols:"1",class:"trashColumn"},{default:At(()=>[Zn(j(xo,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:I(re(R))?0:-1,onClick:K[19]||(K[19]=ye=>re(l).deleteComment(re(R).key))},{default:At(()=>K[25]||(K[25]=[ke("span",{class:"sr-only"},"Anmerkung lschen",-1)])),_:1},8,["tabindex"]),[[Ao,L(re(R))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},qye=$l(Gye,[["__scopeId","data-v-eaed6d1b"]]),Yye={id:"appMarkingComments"},Xye={__name:"MarkingComments",setup(n){const r=Ou();async function l(){await Fs();let g=document.getElementById("appCommentContainer"+r.selectedKey);if(g){let v=g.querySelector("textarea");v&&v.focus()}}zn(()=>r.selectionChange,l);async function d(){await Fs();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return zn(()=>r.firstVisibleKey,d),(g,v)=>(Ln(),ds("div",Yye,[(Ln(!0),ds(us,null,uC(re(r).activeComments,x=>(Ln(),rr(qye,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},Jye={class:"appMarkingPointsWrapper"},Qye={key:0,class:"info"},exe={class:"col-mid text-right"},txe={class:"col-left"},nxe=["for"],oxe={class:"col-mid text-right"},sxe=["onUpdate:modelValue","id","disabled","max","onChange"],rxe={class:"col-mid text-right"},ixe={class:"sum-points"},axe={class:"col-right text-right"},lxe={__name:"MarkingPoints",setup(n){const r=Uh(),l=Ou(),d=E1(),g=ps(),v=xc();wc();let x=Mn(""),S=Mn(""),M=Mn({});async function R(){const L=l.getComment(l.selectedKey);x.value=L?L.key:"",S.value=L?L.corrector_key:g.correctorKey,M.value={};for(const $ of r.getCorrectorCriteria(S.value))M.value[$.key]=d.getValueByRelation(l.selectedKey,$.key)}R(),zn(()=>l.selectionChange,R);function I(L){d.setValueByRelation(l.selectedKey,L,M.value[L])}return(L,$)=>(Ln(),ds("div",Jye,[re(S)==""?(Ln(),ds("p",Qye," Bitte Kommentar auswhlen. ")):Ts("",!0),re(S)!=""?(Ln(),rr(w1,{key:1,density:"compact"},{default:At(()=>[ke("thead",null,[ke("tr",null,[$[1]||($[1]=ke("th",{class:"col-left"}," Kriterium ",-1)),ke("th",exe,[$[0]||($[0]=Qr(" Punkte ")),Zn(ke("span",{class:"commentLabel"},zo(re(l).selectedLabel),513),[[Ao,re(l).selectedKey!=""]])]),$[2]||($[2]=ke("th",{class:"col-right text-right"}," Summe / max. ",-1))])]),ke("tbody",null,[(Ln(!0),ds(us,null,uC(re(r).getCorrectorCriteria(re(S)),G=>(Ln(),ds("tr",{key:G.key},[ke("td",txe,[ke("label",{for:"app-points-input-"+G.key},zo(G.title),9,nxe)]),ke("td",oxe,[Zn(ke("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":X=>re(M)[G.key]=X,id:"app-points-input-"+G.key,disabled:re(v).isOwnDisabled||re(x)==""||re(S)!=re(g).correctorKey,max:G.points,onChange:X=>I(G.key)},null,40,sxe),[[jy,re(M)[G.key]]])]),ke("td",{class:Cd("col-right text-right "+(re(d).getPointsOfCriterionExceeded(G,re(S))?"red":""))},zo(re(d).getSumOfPointsForCriterion(G,re(S)))+" / "+zo(G.points),3)]))),128)),ke("tr",null,[$[3]||($[3]=ke("td",{class:"col-left"},[ke("strong",null,"Summe")],-1)),ke("td",rxe,[ke("strong",ixe,zo(re(d).getSumOfPointsForComment(re(x))),1)]),ke("td",axe,[ke("strong",null,zo(re(d).getSumOfPointsForCorrector(re(S))+" / "+re(r).sumOfMaxPoints),1)])])])]),_:1})):Ts("",!0)]))}},cxe=$l(lxe,[["__scopeId","data-v-d6c357b9"]]),uxe={id:"app-marking-wrapper"},dxe={key:3},fxe={__name:"Marking",setup(n){const r=ps(),l=wc(),d=Uh(),g=xc();function v(){return l.showMarkingComments&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function x(){return l.showMarkingPoints&&d.hasAnyCriteria&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function S(){return l.showMarkingText&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function M(){switch((v()?1:0)+(x()?1:0)+(S()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(R,I)=>(Ln(),ds("div",uxe,[v()?(Ln(),ds("div",{key:0,class:Cd(M())},[I[0]||(I[0]=ke("h2",{class:"headline"},"Anmerkungen",-1)),j(Xye,{class:"content"})],2)):Ts("",!0),x()?(Ln(),ds("div",{key:1,class:Cd(M())},[I[1]||(I[1]=ke("h2",{class:"headline"},"Bewertung",-1)),j(cxe,{class:"content"})],2)):Ts("",!0),S()?(Ln(),ds("div",{key:2,class:Cd(M())},[I[2]||(I[2]=ke("h2",{class:"headline"},"Gutachten",-1)),j(bee,{class:"content",editorId:"marking"})],2)):Ts("",!0),re(r).isForReviewOrStitch&&!re(g).isOneAuthorized?(Ln(),ds("div",dxe," Fr diese Abgabe ist noch keine Korrektur autorisiert. ")):Ts("",!0)]))}},mxe=$l(fxe,[["__scopeId","data-v-2a8fb273"]]),gxe=Dn({scrollable:Boolean,...Vs(),...Yh(),...Qi({tag:"main"})},"VMain"),yee=Io()({name:"VMain",props:gxe(),setup(n,r){let{slots:l}=r;const{dimensionStyles:d}=Xh(n),{mainStyles:g}=Vme(),{ssrBootStyles:v}=m8();return vs(()=>j(n.tag,{class:["v-main",{"v-main--scrollable":n.scrollable},n.class],style:[g.value,v.value,d.value,n.style]},{default:()=>{var x,S;return[n.scrollable?j("div",{class:"v-main__scroller"},[(x=l.default)==null?void 0:x.call(l)]):(S=l.default)==null?void 0:S.call(l)]}})),{}}}),hxe={id:"app-main-container"},pxe={class:"col-header"},vxe={id:"appHeadLeft",tabindex:"0",class:"headline"},bxe={class:"col-content"},yxe={class:"col-header"},xxe={id:"appHeadRight",tabindex:"0",class:"headline"},wxe={class:"sr-only"},Cxe={class:"sr-only"},_xe={class:"sr-only"},Sxe={class:"sr-only"},kxe={class:"sr-only"},Exe={class:"sr-only"},Axe={class:"sr-only"},Txe={class:"col-content"},Oxe={__name:"MainContent",setup(n){const r=ps(),l=wc(),d=fC(),g=Ou(),v=Uh(),x=OL();async function S(){l.focusTarget=="appHeadLeft"&&(await Fs(),document.getElementById("appHeadLeft").focus()),l.focusTarget=="appHeadRight"&&(await Fs(),document.getElementById("appHeadRight").focus())}return zn(()=>l.focusChange,S),document.addEventListener("keydown",l.handleKeyDown),(M,R)=>(Ln(),ds(us,null,[j(yee,{"fill-height":""},{default:At(()=>[ke("div",hxe,[Zn(ke("section",{class:Cd(["column",{colExpanded:re(l).isLeftExpanded,colNormal:!re(l).isLeftExpanded}])},[ke("div",pxe,[ke("h1",vxe,zo(re(l).isInstructionsVisible?"Aufgabenstellung":re(l).isInstructionsPdfVisible?"Aufgabenstellung (PDF)":re(l).isSolutionVisible?"Lsungshinweise":re(l).isSolutionPdfVisible?"Lsungshinweise (PDF)":re(l).isEssayVisible?"Abgegebener Text":re(l).isResourcesVisible?re(d).activeTitle:re(l).isLeftCorrectorVisible?re(l).leftCorrectorTitle:"Linke Spalte"),1),j(_1,{density:"comfortable"},{default:At(()=>[Zn(j(xo,{size:"small",onClick:R[0]||(R[0]=I=>re(l).toggleLeftSummaryCriteria())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showLeftSummaryCriteria]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showLeftSummaryCriteria]]),R[15]||(R[15]=ke("span",null,"bersicht",-1))]),_:1},512),[[Ao,re(l).isLeftCorrectorVisible]]),Zn(j(xo,{size:"small",onClick:R[1]||(R[1]=I=>re(l).toggleLeftSummaryText())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showLeftSummaryText]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showLeftSummaryText]]),R[16]||(R[16]=ke("span",null,"Gutachten",-1))]),_:1},512),[[Ao,re(l).isLeftCorrectorVisible]]),Zn(j(xo,{size:"small",onClick:R[2]||(R[2]=I=>re(l).setLeftExpanded(!1))},{default:At(()=>[j(Gn,{icon:"mdi-chevron-left"}),ke("span",null,zo(re(l).isMarkingSelected?"Korrektur":re(l).isSummarySelected?"Gesamteindruck":re(l).isRightCorrectorSelected?re(l).rightCorrectorTitle:"Rechte Spalte erweitern"),1)]),_:1},512),[[Ao,re(l).isLeftExpanded]]),Zn(j(xo,{size:"small",onClick:R[3]||(R[3]=I=>re(l).setLeftExpanded(!0))},{default:At(()=>[R[17]||(R[17]=ke("span",{"aria-hidden":"true"},"Erweitern",-1)),R[18]||(R[18]=ke("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),j(Gn,{icon:"mdi-chevron-right"})]),_:1},512),[[Ao,!re(l).isLeftExpanded]])]),_:1})]),ke("div",bxe,[re(l).isInstructionsVisible?(Ln(),rr(n1e,{key:0})):Ts("",!0),re(l).isInstructionsPdfVisible?(Ln(),rr(r1e,{key:1})):Ts("",!0),re(l).isSolutionVisible?(Ln(),rr(l1e,{key:2})):Ts("",!0),re(l).isSolutionPdfVisible?(Ln(),rr(d1e,{key:3})):Ts("",!0),re(l).isEssayVisible&&!re(x).hasPages?(Ln(),rr(w1e,{key:4})):Ts("",!0),re(l).isEssayVisible&&re(x).hasPages?(Ln(),rr(M0e,{key:5})):Ts("",!0),re(l).isResourcesVisible?(Ln(),rr(p1e,{key:6})):Ts("",!0),re(l).isLeftCorrectorVisible?(Ln(),rr(Hq,{key:7,corrector_key:re(l).leftCorrectorKey,showCriteria:re(l).showLeftSummaryCriteria,showText:re(l).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):Ts("",!0)])],2),[[Ao,re(l).isLeftVisible]]),Zn(ke("section",{class:Cd(["column",{colExpanded:re(l).isRightExpanded,colNormal:!re(l).isRightExpanded}])},[ke("div",yxe,[ke("h1",xxe,zo(re(l).isMarkingVisible?"Korrektur":re(l).isSummaryVisible?"Eigener Gesamteindruck":re(l).isRightCorrectorVisible?re(l).rightCorrectorTitle:"Rechte Spalte"),1),j(_1,{density:"comfortable"},{default:At(()=>[re(l).isMarkingVisible?(Ln(),rr(xo,{key:0,size:"small",variant:"plain",onClick:R[4]||(R[4]=I=>re(g).setShowOtherCorrectors(!re(g).isOtherCorrectorsShown))},{default:At(()=>[j(Gn,{icon:re(g).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),ke("span",wxe,zo("Andere Korrektoren zeigen"+(re(g).isOtherCorrectorsShown?", ist ausgewhlt":"")),1)]),_:1})):Ts("",!0),re(l).isMarkingVisible?(Ln(),rr(xo,{key:1,size:"small",variant:"plain",disabled:!re(g).isFilterActive,onClick:R[5]||(R[5]=I=>re(g).resetFilter())},{default:At(()=>[j(Gn,{icon:re(g).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),ke("span",Cxe,zo("Filter aktiv"+(re(g).isFilterActive?", ist ausgewhlt":"")),1)]),_:1},8,["disabled"])):Ts("",!0),Zn(j(xo,{size:"small",onClick:R[6]||(R[6]=I=>re(l).toggleMarkingComments())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showMarkingComments]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showMarkingComments]]),R[19]||(R[19]=ke("span",null,"Anmerkungen",-1)),ke("span",_xe,zo("anzeigen"+(re(l).showMarkingComments?", ist ausgewhlt":"")),1)]),_:1},512),[[Ao,re(l).isMarkingVisible]]),Zn(j(xo,{size:"small",onClick:R[7]||(R[7]=I=>re(l).toggleMarkingPoints())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showMarkingPoints]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showMarkingPoints]]),R[20]||(R[20]=ke("span",null,"Bewertung",-1)),ke("span",Sxe,zo("anzeigen"+(re(l).showMarkingPoints?", ist ausgewhlt":"")),1)]),_:1},512),[[Ao,re(v).hasAnyCriteria&&re(l).isMarkingVisible]]),Zn(j(xo,{size:"small",onClick:R[8]||(R[8]=I=>re(l).toggleMarkingText())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showMarkingText]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showMarkingText]]),R[21]||(R[21]=ke("span",null,"Gutachten",-1)),ke("span",kxe,zo("anzeigen"+(re(l).showMarkingText?", ist ausgewhlt":"")),1)]),_:1},512),[[Ao,!re(r).isForReviewOrStitch&&re(l).isMarkingVisible]]),Zn(j(xo,{size:"small",onClick:R[9]||(R[9]=I=>re(l).toggleRightSummaryCriteria())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showRightSummaryCriteria]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showRightSummaryCriteria]]),R[22]||(R[22]=ke("span",null,"bersicht",-1)),ke("span",Exe,zo("anzeigen"+(re(l).showRightSummaryCriteria?", ist ausgewhlt":"")),1)]),_:1},512),[[Ao,re(l).isSummaryVisible||re(l).isRightCorrectorVisible]]),Zn(j(xo,{size:"small",onClick:R[10]||(R[10]=I=>re(l).toggleRightSummaryText())},{default:At(()=>[Zn(j(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Ao,re(l).showRightSummaryText]]),Zn(j(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!re(l).showRightSummaryText]]),R[23]||(R[23]=ke("span",null,"Gutachten",-1)),ke("span",Axe,zo("anzeigen"+(re(l).showRightSummaryText?", ist ausgewhlt":"")),1)]),_:1},512),[[Ao,re(l).isSummaryVisible||re(l).isRightCorrectorVisible]]),Zn(j(xo,{size:"small",onClick:R[11]||(R[11]=I=>re(l).setRightExpanded(!1))},{default:At(()=>[ke("span",null,zo(re(l).isInstructionsSelected?"Aufgabenstellung":re(l).isEssaySelected?"Abgegebener Text":re(l).isResourcesSelected?re(d).activeTitle:re(l).isLeftCorrectorSelected?re(l).leftCorrectorTitle:"Linke Spalte erweitern"),1),j(Gn,{icon:"mdi-chevron-right"})]),_:1},512),[[Ao,re(l).isRightExpanded]]),Zn(j(xo,{size:"small",onClick:R[12]||(R[12]=I=>re(l).setRightExpanded(!0))},{default:At(()=>[j(Gn,{icon:"mdi-chevron-left"}),R[24]||(R[24]=ke("span",{"aria-hidden":"true"},"Erweitern",-1)),R[25]||(R[25]=ke("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1))]),_:1},512),[[Ao,!re(l).isRightExpanded]])]),_:1})]),ke("div",Txe,[re(l).isSummaryVisible?(Ln(),rr(Cye,{key:0,showCriteria:re(l).showRightSummaryCriteria,showText:re(l).showRightSummaryText},null,8,["showCriteria","showText"])):Ts("",!0),re(l).isRightCorrectorVisible?(Ln(),rr(Hq,{key:1,corrector_key:re(l).rightCorrectorKey,showCriteria:re(l).showRightSummaryCriteria,showText:re(l).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):Ts("",!0),re(l).isMarkingVisible?(Ln(),rr(mxe,{key:2})):Ts("",!0)])],2),[[Ao,re(l).isRightVisible]])])]),_:1}),j(pv,{persistent:"",modelValue:re(r).showSendFailure,"onUpdate:modelValue":R[14]||(R[14]=I=>re(r).showSendFailure=I)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>R[26]||(R[26]=[ke("p",null,"Ihre letzen nderungen zu dieser Korrektur konnten nicht bertragen werden, sind aber lokal gespeichert.",-1),ke("p",null,"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu).",-1),ke("p",null,"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern.",-1)])),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:R[13]||(R[13]=I=>re(r).setShowSendFailure(!1))},{default:At(()=>[j(Gn,{left:"",icon:"mdi-close"}),R[27]||(R[27]=ke("span",null,"Meldung schlieen",-1))]),_:1}),j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),R[28]||(R[28]=ke("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Dxe=$l(Oxe,[["__scopeId","data-v-8f72e3fb"]]),Rxe={__name:"StartupContent",setup(n){const r=ps(),l=Ky(),d=mv();return(g,v)=>(Ln(),rr(yee,{"fill-height":""},{default:At(()=>[j(HQ,{elevation:"1",color:"white",density:"compact"},{default:At(()=>[v[5]||(v[5]=ke("p",null,"Lade Daten...",-1)),j(cW),j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),v[4]||(v[4]=ke("span",null,"Meine Korrekturen",-1))]),_:1},8,["href"])]),_:1}),j(pv,{persistent:"",modelValue:re(r).showInitFailure,"onUpdate:modelValue":v[0]||(v[0]=x=>re(r).showInitFailure=x)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>v[6]||(v[6]=[ke("p",null,"Beim Laden der Basisdaten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Vh,null,{default:At(()=>[j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),v[7]||(v[7]=ke("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:re(r).showItemLoadFailure,"onUpdate:modelValue":v[1]||(v[1]=x=>re(r).showItemLoadFailure=x)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>v[8]||(v[8]=[ke("p",null,"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Vh,null,{default:At(()=>[j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),v[9]||(v[9]=ke("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:re(r).showDataReplaceConfirmation,"onUpdate:modelValue":v[2]||(v[2]=x=>re(r).showDataReplaceConfirmation=x)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>[v[10]||(v[10]=ke("p",null,"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:",-1)),ke("p",null,[ke("strong",null,zo(re(l).title)+": "+zo(re(d).getItem(re(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[11]||(v[11]=ke("p",null,"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?",-1))]),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:re(r).initAfterReplaceDataConfirmed},{default:At(()=>[j(Gn,{left:"",icon:"mdi-reload"}),v[12]||(v[12]=ke("span",null,"Verwerfen und Laden",-1))]),_:1},8,["onClick"]),j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),v[13]||(v[13]=ke("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:re(r).showItemReplaceConfirmation,"onUpdate:modelValue":v[3]||(v[3]=x=>re(r).showItemReplaceConfirmation=x)},{default:At(()=>[j(hv,null,{default:At(()=>[j(zh,null,{default:At(()=>[v[14]||(v[14]=ke("p",null,"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:",-1)),ke("p",null,[ke("strong",null,zo(re(l).title)+": "+zo(re(d).getItem(re(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[15]||(v[15]=ke("p",null,"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen.",-1))]),_:1}),j(Vh,null,{default:At(()=>[j(xo,{onClick:re(r).initAfterKeepDataConfirmed},{default:At(()=>[j(Gn,{left:"",icon:"mdi-pencil-outline"}),v[16]||(v[16]=ke("span",null,"Mit lokalen Daten weiter arbeiten",-1))]),_:1},8,["onClick"]),j(xo,{onClick:re(r).initAfterReplaceDataConfirmed},{default:At(()=>[j(Gn,{left:"",icon:"mdi-trash-can-outline"}),v[17]||(v[17]=ke("span",null,"Lokale Daten verwerfen",-1))]),_:1},8,["onClick"]),j(xo,{href:re(r).returnUrl},{default:At(()=>[j(Gn,{left:"",icon:"mdi-logout-variant"}),v[18]||(v[18]=ke("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ixe=Dn({...Vs(),...Fme({fullHeight:!0}),...cl()},"VApp"),Nxe=Io()({name:"VApp",props:Ixe(),setup(n,r){let{slots:l}=r;const d=Hl(n),{layoutClasses:g,getLayoutItem:v,items:x,layoutRef:S}=Hme(n),{rtlClasses:M}=Ng();return vs(()=>{var R;return j("div",{ref:S,class:["v-application",d.themeClasses.value,g.value,M.value,n.class],style:[n.style]},[j("div",{class:"v-application__wrap"},[(R=l.default)==null?void 0:R.call(l)])])}),{getLayoutItem:v,items:x,theme:d}}}),Pxe={__name:"App",setup(n){const r=ps();return r.init(),(l,d)=>(Ln(),rr(Nxe,{"fill-height":""},{default:At(()=>[re(r).initialized?Ts("",!0):(Ln(),rr(Rxe,{key:0})),re(r).initialized?(Ln(),rr($be,{key:1})):Ts("",!0),re(r).initialized?(Ln(),rr(Qbe,{key:2})):Ts("",!0),re(r).initialized?(Ln(),rr(Dxe,{key:3})):Ts("",!0)]),_:1}))}},xee=Fde(Pxe);Jme(xee);xee.mount("#app");
